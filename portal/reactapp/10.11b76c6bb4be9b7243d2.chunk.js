(window.webpackJsonp=window.webpackJsonp||[]).push([[10,3],{1009:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(56),a=n(895),u=n(9),l=n.n(u),s=n(2);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},T=function(e){function t(){return p(this,t),h(this,m(t).apply(this,arguments))}return y(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=(e.bsRole,e.title),n=S(e,["bsRole","title"]);return r.createElement(i.Button,c({className:"btn btn-default"},n),t," ",this.props.titleElement," ",r.createElement("span",{className:"caret"}))}}]),t}(),C=function(e){function t(){return p(this,t),h(this,m(t).apply(this,arguments))}return y(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return r.createElement("div",{className:l()("dropdown-menu",t),style:{padding:"6px"}},n)}}]),t}(),P=function(e){function t(e){var n;return p(this,t),(n=h(this,m(t).call(this,e))).open=!1,n.toggle=function(){n.open=!n.open},n.hide=function(){n.open=!1},n}return y(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,o=e.className,u=(e.ref,S(e,["children","id","className","ref"]));return r.createElement(a.RootCloseWrapper,{onRootClose:this.hide},r.createElement(i.Dropdown,{id:n+"",open:this.open},r.createElement(T,c({bsStyle:"default",bsRole:"toggle",title:"Custom Toggle",onClick:this.toggle},u)),r.createElement(C,{bsRole:"menu",className:l()(o)},t)))}}]),t}();b([s.observable],P.prototype,"open",void 0);var A=P=b([o.observer],P);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,O(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this;return r.createElement(i.Modal,{show:this.props.show,onHide:this.props.onHide,animation:!1},r.createElement(i.Modal.Header,{closeButton:!0},r.createElement(i.Modal.Title,null,"Open new tab to MD Anderson NG-CHM?")),r.createElement(i.Modal.Body,null,r.createElement("div",{className:"oncoprint__controls__heatmap_menu mdacc-modal"},r.createElement("p",null,"Continue will open a tab or window to a different site (not cBioPortal)."),r.createElement("p",null,"You will be able to view this study as Next Generation Clustered Heatmaps (NG-CHM) developed by The University of Texas MD Anderson Cancer Center."),r.createElement("em",null,"Note: NG-CHM will not be limited to your selected samples and genes."))),r.createElement(i.Modal.Footer,null,r.createElement(i.Button,{onClick:function(){e.props.openNgchmWindow(),e.props.onHide()}},"Continue"),r.createElement(i.Button,{onClick:this.props.onHide},"Cancel")))}}])&&I(n.prototype,o),a&&I(n,a),t}(),G=M=k([o.observer],M),N=n(609),x=n(4),R=n.n(x),D=n(101),j=n(3),L=n(186),B=n.n(L),F=(n(755),n(911),n(570)),q=n(585),U=n(662),V=n(8),z=n(605),H=n(816),K=n(65),W=n(592),Q=n(579),Y=n(775);function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var te=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ee(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,J(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return void 0===this.props.count?null:r.createElement("span",{className:"oncoprintDropdownCount"},this.props.count)}}])&&X(n.prototype,o),i&&X(n,i),t}(),re=ne=te([o.observer],ne);function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var se,ce=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":le(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.CLINICAL="Clinical",e.GROUPS="Groups"}(se||(se={}));var pe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ie(this,ae(t).apply(this,arguments))).open=!1,e.tabId=se.CLINICAL,e.options=Object(j.S)({await:function(){return[e.props.store.clinicalAttributes,e.clinicalAttributeIdToAvailableFrequency]},invoke:function(){var t=x.uniqBy(e.props.store.clinicalAttributes.result,function(e){return e.clinicalAttributeId}),n=e.clinicalAttributeIdToAvailableFrequency.result,r={clinical:[],groups:[]},o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;Object(W.d)(s)?r.groups.push(s):r.clinical.push(s)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r.clinical=x.sortBy(r.clinical,[function(e){return e.clinicalAttributeId===W.c.StudyOfOrigin?0:e.clinicalAttributeId===W.c.MutationSpectrum?1:Object(W.f)(e)?2:3},function(e){var t=n[e.clinicalAttributeId];return void 0===t&&(t=0),-t},function(e){return-e.priority},function(e){return e.displayName.toLowerCase()}]),r.groups=x.sortBy(r.groups,function(e){return e.displayName.toLowerCase()}),Promise.resolve(x.mapValues(r,function(t){return t.map(function(t){return{label:t.displayName,key:t.clinicalAttributeId,selected:t.clinicalAttributeId in e.selectedClinicalAttributeIds}})}))}}),e.clinicalAttributeIdToAvailableFrequency=Object(j.S)({await:function(){return[e.props.store.clinicalAttributeIdToAvailableSampleCount,e.props.store.samples]},invoke:function(){var t=e.props.store.samples.result.length;return Promise.resolve(x.mapValues(e.props.store.clinicalAttributeIdToAvailableSampleCount.result,function(e){return 100*e/t}))}}),e.addClinicalTracksMenu=Object(Q.a)({await:function(){return[e.options]},render:function(){return r.createElement(H.a,{options:e.options.result.clinical,freqPromise:e.clinicalAttributeIdToAvailableFrequency,onAddAll:e.addAll,onClearAll:e.clear,onToggleOption:e.toggleClinicalTrack,optionsGivenInSortedOrder:!0})},renderPending:function(){return r.createElement(D.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0}),e.addGroupTracksMenu=Object(Q.a)({await:function(){return[e.options]},render:function(){return r.createElement(H.a,{options:e.options.result.groups,freqPromise:e.clinicalAttributeIdToAvailableFrequency,onAddAll:e.addAll,onClearAll:e.clear,onToggleOption:e.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group"})},renderPending:function(){return r.createElement(D.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0}),e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r["Component"]),n=t,(i=[{key:"updateTabId",value:function(e){this.tabId=e}},{key:"addAll",value:function(e){this.props.onChangeSelectedClinicalTracks(x.union(this.props.getSelectedClinicalAttributeIds(),e))}},{key:"clear",value:function(e){this.props.onChangeSelectedClinicalTracks(x.difference(this.props.getSelectedClinicalAttributeIds(),e))}},{key:"toggleClinicalTrack",value:function(e){this.props.onChangeSelectedClinicalTracks(Object(Y.b)(e,this.props.getSelectedClinicalAttributeIds()))}},{key:"getDropdown",value:function(){return this.props.store.comparisonGroups.isComplete&&this.props.store.comparisonGroups.result.length>0?r.createElement(z.b,{activeTabId:this.tabId,onTabClick:this.updateTabId,className:"mainTabs oncoprintAddClinicalTracks"},r.createElement(z.a,{key:0,id:se.CLINICAL,linkText:se.CLINICAL},this.addClinicalTracksMenu.component),r.createElement(z.a,{key:1,id:se.GROUPS,linkText:se.GROUPS,hide:!this.props.store.comparisonGroups.isComplete||0===this.props.store.comparisonGroups.result.length},this.addGroupTracksMenu.component)):r.createElement("div",{className:"tab-content"},r.createElement("div",{className:"msk-tab"},this.addClinicalTracksMenu.component))}},{key:"onDropdownChange",value:function(e){this.open=e}},{key:"render",value:function(){return r.createElement(j.c,{visible:this.open,trigger:["click"],onVisibleChange:this.onDropdownChange,placement:"bottomRight",destroyTooltipOnHide:!0,overlay:r.createElement(o.Observer,null,this.getDropdown),align:{overflow:{adjustX:!0,adjustY:!1}},arrowContent:r.createElement("span",null),overlayClassName:"oncoprintAddClinicalTracksDropdown"},r.createElement("button",{className:l()("btn btn-default btn-md",{active:this.open}),"data-event":Object(K.e)({category:"resultsView",action:"addClinicalTrackMenuOpen",label:this.props.store.studyIds.result.join(",")}),"data-test":"add-clinical-track-button"},"Add Clinical Tracks"," ",r.createElement(re,{count:this.options.isComplete?this.options.result.clinical.length:void 0})," ",r.createElement("span",{className:"caret"})," "))}},{key:"selectedClinicalAttributeIds",get:function(){return x.keyBy(this.props.getSelectedClinicalAttributeIds())}}])&&oe(n.prototype,i),a&&oe(n,a),t}();ce([s.observable],pe.prototype,"open",void 0),ce([s.observable],pe.prototype,"tabId",void 0),ce([V.default,s.action],pe.prototype,"updateTabId",null),ce([V.default,s.action],pe.prototype,"addAll",null),ce([V.default,s.action],pe.prototype,"clear",null),ce([V.default,s.action],pe.prototype,"toggleClinicalTrack",null),ce([s.computed],pe.prototype,"selectedClinicalAttributeIds",null),ce([V.default],pe.prototype,"getDropdown",null),ce([V.default,s.action],pe.prototype,"onDropdownChange",null);var de=pe=ce([o.observer],pe),fe=n(866),he=n(21),me=n.n(he);function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Te=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Se(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ce=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ve(t).call(this,e),(n=!o||"object"!==Se(o)&&"function"!=typeof o?ge(r):o).textAreaContent="",n.timeout=void 0,n.TIMEOUT_DELAY=750,n.itemRemovedByUser=function(e){n.props.onIconClicked&&e.target&&n.props.onIconClicked(e.target.id)},n.textUpdatedByUser=function(e){n.textAreaContent=e.currentTarget.value,n.props.onChangeTextArea&&n.startTimedSubmit()},n.onAreaClicked=function(e){me.a.findDOMNode(n.refs.textarea).focus()},n.textUpdatedByUser=n.textUpdatedByUser.bind(ge(n)),n.itemRemovedByUser=n.itemRemovedByUser.bind(ge(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(o=[{key:"startTimedSubmit",value:function(){this.stopTimedSubmit(),this.timeout=setTimeout(function(){this.textAreaContent=this.props.onChangeTextArea(this.textAreaContent),this.stopTimedSubmit()}.bind(this),this.TIMEOUT_DELAY)}},{key:"stopTimedSubmit",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:l()("text-icon-area",this.props.classNames),onClick:this.onAreaClicked},r.createElement("div",{className:l()("icon-area",this.props.classNames)},this.props.elements.map(function(t){return r.createElement("div",{className:l()(t.classNames,"icon")},t.label," ",r.createElement("div",{className:l()("fa","fa-times-circle","icon-button"),onClick:e.itemRemovedByUser,id:t.value}))})),r.createElement("textarea",{ref:"textarea",placeholder:this.props.placeholder,value:this.textAreaContent,onInput:this.textUpdatedByUser,className:l()("text-area",this.props.classNames)}))}}])&&ye(n.prototype,o),i&&ye(n,i),t}();Te([s.observable],Ce.prototype,"textAreaContent",void 0);var Pe=Ce=Te([o.observer],Ce),Ae=n(624),Ie=n(610);function Ee(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ge=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Me(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ne="0",xe="1",Re="2",De="3",je="4",Le="4.1",Be="4.2",Fe="5",qe="5.1",Ue="6",Ve="7",ze="8",He="9",Ke="10",We="13",Qe="15",Ye="16",Xe="17",Ze="18",Je="19",$e="20",et="21",tt="22",nt="22.1",rt="23",ot="25",it="26",at="27",ut="28",lt="29",st="29.1",ct="31",pt="32",dt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=_e(t).call(this,e),(n=!o||"object"!==Me(o)&&"function"!=typeof o?we(r):o).heatmapGenesReady=!1,n.textareaGenericAssayEntityText="",n.genericAssayEntityFilter="",n.showConfirmNgchmModal=!1,n.getHeatmapMenu=n.getHeatmapMenu.bind(we(n)),n.getClinicalTracksMenu=n.getClinicalTracksMenu.bind(we(n)),n.getSortMenu=n.getSortMenu.bind(we(n)),n.getViewMenu=n.getViewMenu.bind(we(n)),n.getDownloadMenu=n.getDownloadMenu.bind(we(n)),n.onInputClick=n.onInputClick.bind(we(n)),n.getMutationColorMenu=n.getMutationColorMenu.bind(we(n)),n.getHorzZoomControls=n.getHorzZoomControls.bind(we(n)),n.onSelect=n.onSelect.bind(we(n)),n.toggleShowMinimap=n.toggleShowMinimap.bind(we(n)),n.onType=n.onType.bind(we(n)),n.onHeatmapProfileSelect=n.onHeatmapProfileSelect.bind(we(n)),n.onButtonClick=n.onButtonClick.bind(we(n)),n.onZoomInClick=n.onZoomInClick.bind(we(n)),n.onZoomOutClick=n.onZoomOutClick.bind(we(n)),n.onCustomDriverTierCheckboxClick=n.onCustomDriverTierCheckboxClick.bind(we(n)),n.onHorzZoomSliderChange=n.onHorzZoomSliderChange.bind(we(n)),n.onHorzZoomSliderSet=n.onHorzZoomSliderSet.bind(we(n)),n.onSetHorzZoomTextInput=n.onSetHorzZoomTextInput.bind(we(n)),n.horzZoomSliderState=e.state.horzZoom,Object(s.reaction)(function(){return n.isGenericAssayDataComplete},function(e){return e&&n.initializeSelectedGenericAssayEntityIds()}),Object(s.reaction)(function(){return n.props.state.horzZoom},function(e){return n.horzZoomSliderState=e}),n}var a,u,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,r["Component"]),a=t,(u=[{key:"initializeSelectedGenericAssayEntityIds",value:function(){this._selectedGenericAssayEntityIds=this.props.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl&&this.props.state.selectedHeatmapProfileGenericAssayType&&this.props.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl[this.props.state.selectedHeatmapProfileGenericAssayType]&&!R.a.isEmpty(this.genericAssayEntitiesSelectOptionsInSelectedHeatmapProfile)?R.a.intersectionBy(this.props.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl[this.props.state.selectedHeatmapProfileGenericAssayType],R.a.map(this.genericAssayEntitiesSelectOptionsInSelectedHeatmapProfile,function(e){return e.id})):[]}},{key:"onZoomInClick",value:function(){this.props.handlers.onClickZoomIn()}},{key:"onZoomOutClick",value:function(){this.props.handlers.onClickZoomOut()}},{key:"onSetHorzZoomTextInput",value:function(e){var t=parseFloat(e)/100;this.props.handlers.onSetHorzZoom(t)}},{key:"onSelect",value:function(e){e===Fe&&this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType)}},{key:"onHeatmapProfileSelect",value:function(e){this.props.handlers.onSelectHeatmapProfile&&this.props.handlers.onSelectHeatmapProfile(e.value);var t=this.props.molecularProfileIdToMolecularProfile&&this.props.molecularProfileIdToMolecularProfile[e.value]?this.props.molecularProfileIdToMolecularProfile[e.value].genericAssayType:void 0;this.props.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl&&t&&this.props.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl[t]&&!R.a.isEmpty(this.genericAssayEntitiesSelectOptionsInSelectedHeatmapProfile)?this._selectedGenericAssayEntityIds=R.a.intersectionBy(this.props.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl[t],R.a.map(this.genericAssayEntitiesSelectOptionsInSelectedHeatmapProfile,function(e){return e.id})):this._selectedGenericAssayEntityIds=[]}},{key:"toggleShowMinimap",value:function(){this.props.handlers.onSelectShowMinimap&&this.props.handlers.onSelectShowMinimap(!this.props.state.showMinimap)}},{key:"onInputClick",value:function(e){switch(e.target.value){case Re:this.props.handlers.onSelectShowUnalteredColumns&&this.props.handlers.onSelectShowUnalteredColumns(!this.props.state.showUnalteredColumns);break;case De:this.props.handlers.onSelectShowWhitespaceBetweenColumns&&this.props.handlers.onSelectShowWhitespaceBetweenColumns(!this.props.state.showWhitespaceBetweenColumns);break;case je:this.props.handlers.onSelectShowClinicalTrackLegends&&this.props.handlers.onSelectShowClinicalTrackLegends(!this.props.state.showClinicalTrackLegends);break;case Le:this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases&&this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases(!this.props.state.onlyShowClinicalLegendForAlteredCases);break;case Be:this.props.handlers.onSelectShowOqlInLabels&&this.props.handlers.onSelectShowOqlInLabels(!this.props.state.showOqlInLabels);break;case Ne:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("sample");break;case xe:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("patient");break;case He:this.props.handlers.onClickSortByData&&this.props.handlers.onClickSortByData();break;case Ve:this.props.handlers.onClickSortAlphabetical&&this.props.handlers.onClickSortAlphabetical();break;case ze:this.props.handlers.onClickSortCaseListOrder&&this.props.handlers.onClickSortCaseListOrder();break;case Ue:this.props.handlers.onSelectSortByMutationType&&this.props.handlers.onSelectSortByMutationType(!this.props.state.sortByMutationType);break;case Ke:this.props.handlers.onSelectSortByDrivers&&this.props.handlers.onSelectSortByDrivers(!this.props.state.sortByDrivers);break;case Qe:this.props.handlers.onSelectDistinguishDrivers&&this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case Fe:this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType);break;case qe:this.props.handlers.onSelectDistinguishGermlineMutations(!this.props.state.distinguishGermlineMutations);break;case Ye:this.props.handlers.onSelectAnnotateOncoKb&&this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case Xe:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case Ze:this.props.handlers.onSelectAnnotateCBioPortal&&this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case Je:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case tt:this.props.handlers.onSelectHidePutativePassengers&&this.props.handlers.onSelectHidePutativePassengers(!this.props.state.hidePutativePassengers);break;case nt:this.props.handlers.onSelectHideGermlineMutations(!this.props.state.hideGermlineMutations);break;case rt:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onHorzZoomSliderChange",value:function(e){this.horzZoomSliderState=e}},{key:"onHorzZoomSliderSet",value:function(){this.props.handlers.onSetHorzZoom(this.horzZoomSliderState),this.horzZoomSliderState=this.props.state.horzZoom}},{key:"onCustomDriverTierCheckboxClick",value:function(e){this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(e.target.value,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(e.target.value)))}},{key:"onButtonClick",value:function(e){switch(e.target.name){case We:this.props.handlers.onClickAddGenesToHeatmap&&this.props.handlers.onClickAddGenesToHeatmap();break;case pt:this.props.handlers.onClickAddGenericAssaysToHeatmap&&this.props.handlers.onClickAddGenericAssaysToHeatmap(this._selectedGenericAssayEntityIds);break;case at:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("svg");break;case it:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("png");break;case ot:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("pdf");break;case ut:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("order");break;case lt:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("tabular");break;case st:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("oncoprinter");break;case ct:this.props.state.ngchmButtonActive&&this.props.handlers.onClickNGCHM&&(this.showConfirmNgchmModal=!0)}}},{key:"onChangeHeatmapGeneInput",value:function(e,t,n){this.props.handlers.onChangeHeatmapGeneInputValue&&this.props.handlers.onChangeHeatmapGeneInputValue(n);var r=R.a.keyBy(t.found,function(e){return e.hugoGeneSymbol.toUpperCase()});this.heatmapGenesReady=R.a.every(e.query,function(e){return e.gene.toUpperCase()in r})}},{key:"onType",value:function(e){switch(e.target.name){case $e:this.props.handlers.onChangeAnnotateCBioPortalInputValue&&this.props.handlers.onChangeAnnotateCBioPortalInputValue(e.target.value);break;case et:this.props.handlers.onChangeAnnotateCOSMICInputValue&&this.props.handlers.onChangeAnnotateCOSMICInputValue(e.target.value)}}},{key:"onChangeGenericAssayTextArea",value:function(e){return Object(Ae.b)(e,this._selectedGenericAssayEntityIds,this.genericAssayEntitiesOptionsByValueMap)}},{key:"onAddAllGenericAssayRemoved",value:function(e){R.a.remove(this._selectedGenericAssayEntityIds,function(t){return t===e})}},{key:"onSelectGenericAssayEntities",value:function(e){this._selectedGenericAssayEntityIds=e.map(function(e){return e.id})}},{key:"onInputChange",value:function(e){this.genericAssayEntityFilter=e}},{key:"onAddAllGenericAssays",value:function(){this.filteredGenericAssayOptions&&this.onSelectGenericAssayEntities(R.a.uniqBy([].concat(Ee(this.selectedGenericAssaysJS),Ee(this.filteredGenericAssayOptions)),function(e){return e.value}))}},{key:"getSelectedClinicalAttributeIds",value:function(){return this.props.state.selectedClinicalAttributeIds}},{key:"getClinicalTracksMenu",value:function(){return this.props.store&&this.props.state.selectedClinicalAttributeIds&&this.props.handlers.onChangeSelectedClinicalTracks?r.createElement(de,{store:this.props.store,getSelectedClinicalAttributeIds:this.getSelectedClinicalAttributeIds,onChangeSelectedClinicalTracks:this.props.handlers.onChangeSelectedClinicalTracks}):null}},{key:"getHeatmapMenu",value:function(){var e=this.props.state.heatmapIsDynamicallyQueried,t=e&&this.props.state.selectedHeatmapProfileAlterationType!==F.a.GENERIC_ASSAY,n=e&&this.props.state.selectedHeatmapProfileAlterationType===F.a.GENERIC_ASSAY;if(this.props.oncoprinterMode||this.props.state.hideHeatmapMenu||!this.props.state.heatmapProfilesPromise)return null;var o=r.createElement(D.a,{isLoading:!0});if(this.props.state.heatmapProfilesPromise.isComplete){if(!this.props.state.heatmapProfilesPromise.result.length)return null;o=r.createElement("div",{className:"oncoprint__controls__heatmap_menu"},r.createElement(N.default,{clearable:!1,searchable:!1,isLoading:this.props.state.heatmapProfilesPromise.isPending,onChange:this.onHeatmapProfileSelect,value:this.props.state.selectedHeatmapProfileId,options:this.heatmapProfileOptions}),t&&[r.createElement(U.b,{inputGeneQuery:this.props.state.heatmapGeneInputValue||"",callback:this.onChangeHeatmapGeneInput,location:U.a.ONCOPRINT_HEATMAP}),r.createElement("button",{key:"addGenesToHeatmapButton",className:"btn btn-sm btn-default",name:We,onClick:this.onButtonClick,disabled:!this.heatmapGenesReady},"Add Genes to Heatmap")],n&&[r.createElement(Pe,{elements:this.textareaGenericAssayEntries,text:this.textareaGenericAssayEntityText,placeholder:"Type space- or comma-separated ".concat(Object(Ie.n)(this.props.state.selectedHeatmapProfileGenericAssayType)," here, then click 'Add ").concat(Object(Ie.n)(this.props.state.selectedHeatmapProfileGenericAssayType,!0)," to Heatmap'"),onChangeTextArea:this.onChangeGenericAssayTextArea,onIconClicked:this.onAddAllGenericAssayRemoved,classNames:["generic-assay-textarea"]}),this.isGenericAssayDataComplete?r.createElement("div",{className:l()("generic-assay-selector")},r.createElement(j.a,{name:"generic-assay-select",placeholder:"Search for ".concat(Object(Ie.n)(this.props.state.selectedHeatmapProfileGenericAssayType,!0),"..."),options:this.filteredGenericAssayOptions,onChange:this.onSelectGenericAssayEntities,value:this.selectedGenericAssaysJS,onInputChange:this.onInputChange,addAllLabel:this.addAllLabel,onAddAll:this.onAddAllGenericAssays,inputValue:this.genericAssayEntityFilter})):r.createElement(D.a,{isLoading:!0}),r.createElement("button",{key:"addGenericAssaysToHeatmapButton",className:"btn btn-sm btn-default",name:pt,onClick:this.onButtonClick,disabled:!this.isGenericAssayDataComplete},"Add ".concat(Object(Ie.n)(this.props.state.selectedHeatmapProfileGenericAssayType,!0)," to Heatmap"))],this.props.state.ngchmButtonActive&&[r.createElement("hr",null),r.createElement(j.c,{overlay:r.createElement("span",null,"Open a new tab to visualize this study as Next Generation Clustered Heatmaps from MD Anderson Cancer Center.")},r.createElement("button",{className:l()("btn","btn-sm","btn-default"),name:ct,onClick:this.onButtonClick},"Whole Study Heatmap (NG-CHM)"," ",r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})))])}else this.props.state.heatmapProfilesPromise.isError&&(o=r.createElement("span",null,"Error loading heatmap profiles."));return r.createElement(A,{bsStyle:"default",title:"Add Heatmap Tracks",id:"heatmapDropdown",className:"heatmap",titleElement:r.createElement(re,{count:this.props.state.heatmapProfilesPromise.isComplete&&this.props.state.heatmapProfilesPromise.result?this.props.state.heatmapProfilesPromise.result.length:void 0})},o)}},{key:"getSortMenuOncoprinter",value:function(){return r.createElement(A,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ue,checked:this.props.state.sortByMutationType,onClick:this.onInputClick,disabled:!this.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ke,checked:this.props.state.sortByDrivers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Driver/Passenger"))))}},{key:"getSortMenuOncoprint",value:function(){return r.createElement(A,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByData",type:"radio",name:"sortBy",value:He,checked:"data"===this.props.state.sortMode.type,onClick:this.onInputClick})," ","Sort by data")),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ue,checked:this.props.state.sortByMutationType,onClick:this.onInputClick,disabled:"data"!==this.props.state.sortMode.type||!this.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ke,checked:this.props.state.sortByDrivers,onClick:this.onInputClick,disabled:"data"!==this.props.state.sortMode.type||!this.props.state.distinguishDrivers})," ","Driver/Passenger"))),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:Ve,checked:"alphabetical"===this.props.state.sortMode.type,onClick:this.onInputClick})," ","Sort by case id (alphabetical)")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:ze,checked:"caseList"===this.props.state.sortMode.type,onClick:this.onInputClick,"data-test":"caseList",disabled:!!this.props.state.sortByCaseListDisabled})," ","Sort by case list order")),this.props.state.heatmapProfilesPromise&&!(this.props.state.heatmapProfilesPromise.isComplete&&!this.props.state.heatmapProfilesPromise.result.length)&&r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByHeatmapClustering",type:"radio",name:"sortBy",checked:"heatmap"===this.props.state.sortMode.type,disabled:!0})," ","Sorted by heatmap clustering order"))))}},{key:"getMutationColorMenu",value:function(){return r.createElement(A,{bsStyle:"default",title:"Mutations",id:"mutationColorDropdown"},r.createElement("div",{className:"oncoprint__controls__mutation_color_menu"},r.createElement("h5",null,"Color by"),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByType",type:"checkbox",value:Fe,checked:this.props.state.distinguishMutationType,onClick:this.onInputClick})," ","Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByGermline",type:"checkbox",value:qe,checked:this.props.state.distinguishGermlineMutations,onClick:this.onInputClick})," ","Somatic vs Germline"))),this.driverAnnotationSection))}},{key:"getViewMenu",value:function(){return this.props.oncoprinterMode?this.getViewMenuOncoprinter():this.getViewMenuOncoprint()}},{key:"getViewMenuOncoprinter",value:function(){return r.createElement(A,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Re,checked:this.props.state.showUnalteredColumns,onClick:this.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:De,checked:this.props.state.showWhitespaceBetweenColumns,onClick:this.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:je,checked:this.props.state.showClinicalTrackLegends,onClick:this.onInputClick})," ","Show legends for clinical tracks")))}},{key:"getViewMenuOncoprint",value:function(){return r.createElement(A,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("strong",null,"Data type:"),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:Ne,checked:this.props.state.columnMode===q.b.SAMPLE,onClick:this.onInputClick})," ","Events per sample")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:xe,checked:this.props.state.columnMode===q.b.PATIENT,onClick:this.onInputClick})," ","Events per patient")),r.createElement("hr",null),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Re,checked:this.props.state.showUnalteredColumns,onClick:this.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:De,checked:this.props.state.showWhitespaceBetweenColumns,onClick:this.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:je,checked:this.props.state.showClinicalTrackLegends,onClick:this.onInputClick})," ","Show legends for clinical tracks")),r.createElement("div",{className:"checkbox",style:{marginLeft:20,maxWidth:220}},r.createElement("label",null,r.createElement("input",{"data-test":"onlyShowClinicalLegendsForAltered",type:"checkbox",value:Le,checked:this.props.state.onlyShowClinicalLegendForAlteredCases,onClick:this.onInputClick,disabled:!this.props.state.showClinicalTrackLegends})," ","Only show clinical track legends for altered"," ",this.props.state.columnMode===q.b.PATIENT?"patients":"samples",".")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Be,checked:this.props.state.showOqlInLabels,onClick:this.onInputClick})," ","Show OQL filters")))}},{key:"getDownloadMenu",value:function(){return r.createElement(A,{bsStyle:"default",title:"Download",id:"downloadDropdownButton"},r.createElement("button",{className:"btn btn-sm btn-default",name:ot,onClick:this.onButtonClick},"PDF"),r.createElement("button",{className:"btn btn-sm btn-default",name:it,onClick:this.onButtonClick},"PNG"),r.createElement("button",{className:"btn btn-sm btn-default",name:at,onClick:this.onButtonClick},"SVG"),r.createElement("button",{className:"btn btn-sm btn-default",name:ut,onClick:this.onButtonClick},this.props.state.columnMode&&this.props.state.columnMode[0].toUpperCase()+this.props.state.columnMode.slice(1)||"Sample"," ","order"),!this.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:lt,onClick:this.onButtonClick},"Tabular"),!this.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:st,onClick:this.onButtonClick},"Open in Oncoprinter"))}},{key:"getHorzZoomControls",value:function(){return r.createElement("div",{className:"btn btn-default oncoprint__zoom-controls"},r.createElement(j.c,{overlay:r.createElement("span",null,"Zoom out of oncoprint."),placement:"top"},r.createElement("div",{onClick:this.onZoomOutClick},r.createElement("i",{className:"fa fa-search-minus"}))),r.createElement(j.c,{overlay:r.createElement("span",null,"Zoom in/out of oncoprint."),placement:"top"},r.createElement("div",{style:{width:"90px"}},r.createElement(B.a,{value:this.horzZoomSliderState,onChange:this.onHorzZoomSliderChange,onChangeComplete:this.onHorzZoomSliderSet,step:.01,max:1,min:0,tooltip:!1}))),r.createElement(j.e,{value:(100*this.horzZoomSliderState).toFixed(),setValue:this.onSetHorzZoomTextInput,maxChars:3,numericOnly:!0,textFieldAppearance:!0,style:{background:"white",minWidth:"30px",fontSize:"14px",fontFamily:"arial",border:"none",padding:0,marginTop:0,marginBottom:0,marginRight:2}}),r.createElement("div",null,"%"),r.createElement(j.c,{overlay:r.createElement("span",null,"Zoom in to oncoprint."),placement:"top"},r.createElement("div",{onClick:this.onZoomInClick},r.createElement("i",{className:"fa fa-search-plus"}))))}},{key:"getSortMenu",value:function(){return this.props.oncoprinterMode?this.getSortMenuOncoprinter():this.getSortMenuOncoprint()}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"oncoprint__controls"},r.createElement(i.ButtonGroup,null,r.createElement(o.Observer,null,this.getClinicalTracksMenu),r.createElement(o.Observer,null,this.getHeatmapMenu),r.createElement(o.Observer,null,this.getSortMenu),r.createElement(o.Observer,null,this.getMutationColorMenu),r.createElement(o.Observer,null,this.getViewMenu),r.createElement(o.Observer,null,this.getDownloadMenu),r.createElement(o.Observer,null,this.getHorzZoomControls),this.minimapButton,r.createElement(G,{show:this.showConfirmNgchmModal,onHide:function(){return e.showConfirmNgchmModal=!1},openNgchmWindow:this.props.handlers.onClickNGCHM})))}},{key:"genericAssayEntitiesSelectOptionsInSelectedHeatmapProfile",get:function(){return this.props.state.selectedHeatmapProfileId&&this.isGenericAssayDataComplete&&this.props.genericAssayEntitiesSelectOptionsGroupByMolecularProfileIdPromise.result&&this.props.genericAssayEntitiesSelectOptionsGroupByMolecularProfileIdPromise.result[this.props.state.selectedHeatmapProfileId]?this.props.genericAssayEntitiesSelectOptionsGroupByMolecularProfileIdPromise.result[this.props.state.selectedHeatmapProfileId]:[]}},{key:"isGenericAssayDataComplete",get:function(){return R.a.every([this.props.genericAssayEntitiesSelectOptionsGroupByMolecularProfileIdPromise,this.props.genericAssayEntitiesSelectOptionsGroupByGenericAssayTypePromise,this.props.state.genericAssayEntitiesGroupByGenericAssayTypePromise],function(e){return e&&e.isComplete})}},{key:"heatmapProfileOptions",get:function(){return this.props.state.heatmapProfilesPromise&&this.props.state.heatmapProfilesPromise.result?R.a.map(this.props.state.heatmapProfilesPromise.result,function(e){return{label:e.name,value:e.molecularProfileId,type:e.molecularAlterationType}}):[]}},{key:"genericAssayEntitiesOptionsByValueMap",get:function(){return this.props.state.selectedHeatmapProfileGenericAssayType&&this.isGenericAssayDataComplete&&this.props.genericAssayEntitiesSelectOptionsGroupByGenericAssayTypePromise.result&&this.props.genericAssayEntitiesSelectOptionsGroupByGenericAssayTypePromise.result[this.props.state.selectedHeatmapProfileGenericAssayType]?R.a.keyBy(this.props.genericAssayEntitiesSelectOptionsGroupByGenericAssayTypePromise.result[this.props.state.selectedHeatmapProfileGenericAssayType],"id"):{}}},{key:"selectedGenericAssayEntities",get:function(){var e=this;return R.a.intersection(this._selectedGenericAssayEntityIds,R.a.keys(this.genericAssayEntitiesOptionsByValueMap)).map(function(t){return e.genericAssayEntitiesOptionsByValueMap[t]})}},{key:"selectedGenericAssaysJS",get:function(){return Object(s.toJS)(this.selectedGenericAssayEntities)}},{key:"textareaGenericAssayEntries",get:function(){return R.a.map(this.selectedGenericAssayEntities,function(e){return{value:e.id,label:e.id}})}},{key:"filteredGenericAssayOptions",get:function(){var e=this.props.state.selectedHeatmapProfileId&&this.isGenericAssayDataComplete&&this.props.genericAssayEntitiesSelectOptionsGroupByMolecularProfileIdPromise.result?this.props.genericAssayEntitiesSelectOptionsGroupByMolecularProfileIdPromise.result[this.props.state.selectedHeatmapProfileId]:[];if(this.genericAssayEntityFilter){var t=new RegExp(this.genericAssayEntityFilter,"i");return e.filter(function(e){return t.test(e.label)||t.test(e.value)})}return e}},{key:"addAllLabel",get:function(){return this.filteredGenericAssayOptions?"Select all (".concat(this.filteredGenericAssayOptions.length,")"):"Select all"}},{key:"driverAnnotationSection",get:function(){if(this.props.oncoprinterMode||!this.props.store)return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate"),r.createElement("div",{style:{marginLeft:10}},r.createElement(fe.a,{state:this.props.state,handlers:Object.assign({onCustomDriverTierCheckboxClick:this.onCustomDriverTierCheckboxClick},this.props.handlers)})),r.createElement("h5",null,"Filter"),r.createElement("div",{style:{marginLeft:10}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideVUS",type:"checkbox",value:tt,checked:this.props.state.hidePutativePassengers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Hide mutations and copy number alterations of unknown significance")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideGermline",type:"checkbox",value:nt,checked:this.props.state.hideGermlineMutations,onClick:this.onInputClick,disabled:!this.props.state.distinguishGermlineMutations})," ","Hide germline mutations"))));var e=this.props.store;return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate and Filter"),r.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:10}},"Please see the",r.createElement("button",{style:{marginLeft:5,marginRight:5,marginBottom:0,width:"auto",padding:"1px 5px 1px 5px"},className:"btn btn-primary",onClick:function(){e.resultsPageSettingsVisible=!e.resultsPageSettingsVisible}},r.createElement("i",{className:"fa fa-sliders"})),"menu."))}},{key:"showMinimap",get:function(){return this.props.state.showMinimap}},{key:"minimapButton",get:function(){return r.createElement("div",{className:"btn-group"},r.createElement(j.c,{overlay:r.createElement("span",null,"Toggle minimap panel.")},r.createElement(i.Button,{active:this.showMinimap,onClick:this.toggleShowMinimap},r.createElement("img",{"data-test":"ShowMinimapButton",src:n(936),alt:"icon",style:{width:15,height:15}}))))}}])&&Oe(a.prototype,u),c&&Oe(a,c),t}();Ge([s.observable],dt.prototype,"horzZoomSliderState",void 0),Ge([s.observable],dt.prototype,"heatmapGenesReady",void 0),Ge([s.observable],dt.prototype,"_selectedGenericAssayEntityIds",void 0),Ge([s.observable],dt.prototype,"genericAssayEntityFilter",void 0),Ge([s.observable],dt.prototype,"showConfirmNgchmModal",void 0),Ge([s.computed],dt.prototype,"genericAssayEntitiesSelectOptionsInSelectedHeatmapProfile",null),Ge([s.computed],dt.prototype,"isGenericAssayDataComplete",null),Ge([V.default,s.action],dt.prototype,"onChangeHeatmapGeneInput",null),Ge([V.default],dt.prototype,"onChangeGenericAssayTextArea",null),Ge([V.default],dt.prototype,"onAddAllGenericAssayRemoved",null),Ge([s.computed],dt.prototype,"heatmapProfileOptions",null),Ge([s.computed],dt.prototype,"genericAssayEntitiesOptionsByValueMap",null),Ge([V.default,s.action],dt.prototype,"onSelectGenericAssayEntities",null),Ge([s.computed],dt.prototype,"selectedGenericAssayEntities",null),Ge([s.computed],dt.prototype,"selectedGenericAssaysJS",null),Ge([s.computed],dt.prototype,"textareaGenericAssayEntries",null),Ge([s.computed],dt.prototype,"filteredGenericAssayOptions",null),Ge([V.default,s.action],dt.prototype,"onInputChange",null),Ge([V.default],dt.prototype,"onAddAllGenericAssays",null),Ge([s.computed],dt.prototype,"addAllLabel",null),Ge([V.default],dt.prototype,"getSelectedClinicalAttributeIds",null),Ge([s.computed],dt.prototype,"driverAnnotationSection",null),Ge([s.computed],dt.prototype,"showMinimap",null),dt=Ge([o.observer],dt);t.a=dt},1261:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__38sW0",framedImage:"styles-module__framedImage__20n6Q",dataFormatHelp:"styles-module__dataFormatHelp__3eOr2",dataFormatHelpSection:"styles-module__dataFormatHelpSection__2246e",dataFormatHelpBorder:"styles-module__dataFormatHelpBorder__2uZE3"}},565:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(7),i=n(181),a=n(179),u=n(2),l=n(6),s=n(870),c=n(3),p=n(572),d=n(178),f=n(4),h=n.n(f),m=n(671),y=n(651),v=n(825);function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},P=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.submitCount=0,this._inputSampleIdOrder=void 0,this._geneOrder=void 0,this._geneticDataInput=void 0,this._clinicalDataInput=void 0,this.showUnalteredColumns=!0,this.hideGermlineMutations=!1,this.hiddenSampleIds=Object(c.S)({await:function(){return[t.unalteredSampleIds]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.showUnalteredColumns?[]:this.unalteredSampleIds.result);case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.hugoGeneSymbolToGene=Object(c.S)({invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.hugoGeneSymbols).length>0)){e.next=10;break}return e.t0=h.a,e.next=5,d.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:t});case 5:return e.t1=e.sent,e.t2=function(e){return e.hugoGeneSymbol},e.abrupt("return",e.t0.keyBy.call(e.t0,e.t1,e.t2));case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}},e,this)}))}}),this.oncoKbCancerGenes=Object(c.S)({invoke:function(){return l.b.serverConfig.show_oncokb?Object(p.x)():Promise.resolve([])}},[]),this.oncoKbAnnotatedGenes=Object(c.S)({await:function(){return[t.oncoKbCancerGenes]},invoke:function(){return l.b.serverConfig.show_oncokb?Promise.resolve(h.a.reduce(t.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{}),this.oncoKbData=Object(c.S)({await:function(){return[t.nonAnnotatedGeneticData,t.oncoKbAnnotatedGenes]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.b.serverConfig.show_oncokb){e.next=4;break}return e.abrupt("return",Object(s.c)(this.oncoKbAnnotatedGenes.result,this.nonAnnotatedGeneticData.result));case 4:return e.abrupt("return",p.b);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},p.b),this.oncoKbCnaData=Object(c.S)({await:function(){return[t.nonAnnotatedGeneticData,t.oncoKbAnnotatedGenes]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(s.b)(this.oncoKbAnnotatedGenes.result,this.nonAnnotatedGeneticData.result);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",p.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))},onError:function(e){}},p.b),this.cbioportalCountData=Object(c.S)({await:function(){return[t.nonAnnotatedGeneticData]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nonAnnotatedGeneticData.result.filter(function(e){return void 0!==e.proteinPosStart&&void 0!==e.proteinPosEnd}),n=h.a.values(Object(m.a)(t)),e.next=4,d.a.fetchMutationCountsByPositionUsingPOST({mutationPositionIdentifiers:n});case 4:return r=e.sent,e.abrupt("return",h.a.chain(r).groupBy(m.b).mapValues(function(e){return h.a.sumBy(e,function(e){return e.count})}).value());case 6:case"end":return e.stop()}},e,this)}))}}),this.alteredSampleIds=Object(c.S)({await:function(){return[t.geneticTracks]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.a.chain(this.geneticTracks.result).map(function(e){return e.data.filter(s.k)}).flatten().map(function(e){return e.sample}).uniq().value(),n=h.a.intersection(this.sampleIds,t),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.unalteredSampleIds=Object(c.S)({await:function(){return[t.alteredSampleIds]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.difference(this.sampleIds,this.alteredSampleIds.result));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.isSampleAlteredMap=Object(c.S)({await:function(){return[t.geneticTracks]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.reduce(this.geneticTracks.result,function(e,n){var r=h.a.keyBy(n.data,function(e){return e.sample});return e[n.label]=t.sampleIds.map(function(e){var t=r[e];return t?t.data.length>0?y.a.ALTERED:y.a.UNALTERED:y.a.UNPROFILED}),e},{}));case 1:case"end":return e.stop()}},e,this)}))}}),this.nonAnnotatedGeneticTrackData=Object(c.S)({await:function(){return[t.hugoGeneSymbolToGene]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.parsedGeneticInputLines.result){e.next=4;break}return e.abrupt("return",Object(s.h)(this.parsedGeneticInputLines.result,this.hugoGeneSymbolToGene.result,this.hideGermlineMutations));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))}}),this.nonAnnotatedGeneticData=Object(c.S)({await:function(){return[t.nonAnnotatedGeneticTrackData]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.chain(this.nonAnnotatedGeneticTrackData.result).values().flatten().map(function(e){return e.data}).flatten().value());case 1:case"end":return e.stop()}},e,this)}))}}),this.annotatedGeneticTrackData=Object(c.S)({await:function(){return[t.nonAnnotatedGeneticTrackData].concat(g(t.annotationData.promises))},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.a)(this.nonAnnotatedGeneticTrackData.result,this.annotationData.promisesMap,this.annotationData.params,this.driverAnnotationSettings.excludeVUS));case 1:case"end":return e.stop()}},e,this)}))}}),this.annotatedGeneticOncoprintData=Object(c.S)({await:function(){return[t.annotatedGeneticTrackData]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.e)(this.annotatedGeneticTrackData.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.geneticTracks=Object(c.S)({await:function(){return[t.annotatedGeneticOncoprintData]},invoke:function(){return C(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.g)(this.annotatedGeneticOncoprintData.result,this.geneOrder,this.sampleIdsNotInInputOrder));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.initialize()}var t,n,r;return t=e,(n=[{key:"initialize",value:function(){this.driverAnnotationSettings=Object(s.j)(this),this.customDriverWarningHidden=!1}},{key:"setSampleIdOrder",value:function(e){this._inputSampleIdOrder=e.trim()}},{key:"setGeneOrder",value:function(e){this._geneOrder=e.trim()}},{key:"hasData",value:function(){return!!this._geneticDataInput||!!this._clinicalDataInput}},{key:"setDataInput",value:function(e,t){this._geneticDataInput=e,this._clinicalDataInput=t}},{key:"setInput",value:function(e,t,n,r){this.submitCount+=1,this.setDataInput(e,t),this.setGeneOrder(n),this.setSampleIdOrder(r),this.initialize()}},{key:"didOncoKbFail",get:function(){return"complete"===this.oncoKbData.status&&this.oncoKbData.isError}},{key:"sampleIds",get:function(){return this.inputSampleIdOrder?this.inputSampleIdOrder:this.allSampleIds}},{key:"allSampleIds",get:function(){var e=(this.parsedGeneticInputLines.result||[]).concat(this.parsedClinicalInputLines.result&&this.parsedClinicalInputLines.result.data||[]);return e.length>0?Object(s.i)(e):[]}},{key:"inputSampleIdOrder",get:function(){return this._inputSampleIdOrder?h.a.intersection(this._inputSampleIdOrder.split(/[,\s]+/),this.allSampleIds):void 0}},{key:"sampleIdsNotInInputOrder",get:function(){if(this.inputSampleIdOrder)return h.a.difference(this.allSampleIds,this.inputSampleIdOrder)}},{key:"geneOrder",get:function(){return this._geneOrder?h.a.uniq(this._geneOrder.split(/[,\s]+/)):void 0}},{key:"parsedGeneticInputLines",get:function(){if(!this._geneticDataInput)return{error:null,result:[]};var e=Object(s.m)(this._geneticDataInput);return"error"===e.status?{error:e.error,result:null}:{error:null,result:e.result}}},{key:"parsedClinicalInputLines",get:function(){if(!this._clinicalDataInput)return{error:null,result:{headers:[],data:[]}};var e=Object(v.d)(this._clinicalDataInput);return"error"===e.status?{error:e.error,result:null}:{error:null,result:e.result}}},{key:"parseErrors",get:function(){var e=[];return this.parsedGeneticInputLines.error&&e.push(this.parsedGeneticInputLines.error),this.parsedClinicalInputLines.error&&e.push(this.parsedClinicalInputLines.error),e}},{key:"hugoGeneSymbols",get:function(){return this.geneOrder?this.geneOrder:this.parsedGeneticInputLines.result?Object(s.d)(this.parsedGeneticInputLines.result):[]}},{key:"existCustomDrivers",get:function(){return this.parsedGeneticInputLines.result&&this.parsedGeneticInputLines.result.findIndex(function(e){return!(!Object(s.l)(e)||!e.isCustomDriver)})>-1}},{key:"annotationData",get:function(){var e={},t={};return t.useHotspots=this.driverAnnotationSettings.hotspots,t.useCustomBinary=this.driverAnnotationSettings.customBinary,e.oncoKbCna=this.oncoKbCnaData,this.driverAnnotationSettings.driversAnnotated&&(this.driverAnnotationSettings.oncoKb&&(e.oncoKb=this.oncoKbData),this.driverAnnotationSettings.cbioportalCount&&(e.cbioportalCount=this.cbioportalCountData,t.cbioportalCountThreshold=this.driverAnnotationSettings.cbioportalCountThreshold)),{promises:h.a.values(e),params:t,promisesMap:e}}},{key:"clinicalTracks",get:function(){var e=this.parsedClinicalInputLines.result;return e?Object(v.c)(e.headers,e.data,this.sampleIdsNotInInputOrder):[]}}])&&b(t.prototype,n),r&&b(t,r),e}();T([u.observable],P.prototype,"submitCount",void 0),T([u.observable.ref],P.prototype,"_inputSampleIdOrder",void 0),T([u.observable.ref],P.prototype,"_geneOrder",void 0),T([u.observable],P.prototype,"driverAnnotationSettings",void 0),T([u.observable.ref],P.prototype,"_geneticDataInput",void 0),T([u.observable.ref],P.prototype,"_clinicalDataInput",void 0),T([u.observable],P.prototype,"showUnalteredColumns",void 0),T([u.observable],P.prototype,"hideGermlineMutations",void 0),T([u.observable],P.prototype,"customDriverWarningHidden",void 0),T([u.computed],P.prototype,"didOncoKbFail",null),T([u.computed],P.prototype,"sampleIds",null),T([u.computed],P.prototype,"allSampleIds",null),T([u.action],P.prototype,"setSampleIdOrder",null),T([u.computed],P.prototype,"inputSampleIdOrder",null),T([u.computed],P.prototype,"sampleIdsNotInInputOrder",null),T([u.action],P.prototype,"setGeneOrder",null),T([u.computed],P.prototype,"geneOrder",null),T([u.action],P.prototype,"setDataInput",null),T([u.action],P.prototype,"setInput",null),T([u.computed],P.prototype,"parsedGeneticInputLines",null),T([u.computed],P.prototype,"parsedClinicalInputLines",null),T([u.computed],P.prototype,"parseErrors",null),T([u.computed],P.prototype,"hugoGeneSymbols",null),T([u.computed],P.prototype,"existCustomDrivers",null),T([u.computed],P.prototype,"annotationData",null),T([u.computed],P.prototype,"clinicalTracks",null);var A=n(742),I=n(1009),E=n(624),O=n(126),_=n.n(O),w=n(9),k=n.n(w),M=n(8),G=n(615),N=n(584);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},F=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,D(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("div",{className:"alert alert-info",style:Object.assign({marginTop:"10px",marginBottom:"0"},this.props.style)},r.createElement("span",null,r.createElement("i",{className:"fa fa-md fa-info-circle"})," ",this.props.message),!this.props.hidden&&r.createElement("button",{className:"btn btn-sm btn-default",style:{marginLeft:7},onClick:this.props.hide},"Hide"))}}])&&x(n.prototype,o),i&&x(n,i),t}(),q=F=B([o.observer],F);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var W=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":K(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Q=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?z(e):t}(this,V(t).call(this,e))).distinguishMutationType=!0,n.distinguishGermlineMutations=!0,n.sortByMutationType=!0,n.sortByDrivers=!0,n.showWhitespaceBetweenColumns=!0,n.showClinicalTrackLegends=!0,n.showMinimap=!1,n.horzZoom=.5,n.mouseInsideBounds=!1,n.renderingComplete=!0,window.oncoprinter=z(n);var r=z(n);return n.controlsHandlers=n.buildControlsHandlers(),n.controlsState=Object(u.observable)({get showUnalteredColumns(){return r.props.store.showUnalteredColumns},get showWhitespaceBetweenColumns(){return r.showWhitespaceBetweenColumns},get showClinicalTrackLegends(){return r.showClinicalTrackLegends},get showMinimap(){return r.showMinimap},get sortByMutationType(){return r.sortByMutationType},get sortByCaseListDisabled(){return!r.props.store.inputSampleIdOrder},get distinguishMutationType(){return r.distinguishMutationType},get distinguishGermlineMutations(){return r.distinguishGermlineMutations},get distinguishDrivers(){return r.distinguishDrivers},get annotateDriversOncoKb(){return r.props.store.driverAnnotationSettings.oncoKb},get annotateDriversOncoKbDisabled(){return!l.b.serverConfig.show_oncokb},get annotateDriversOncoKbError(){return r.props.store.didOncoKbFail},get annotateDriversCBioPortal(){return r.props.store.driverAnnotationSettings.cbioportalCount},get hidePutativePassengers(){return r.props.store.driverAnnotationSettings.excludeVUS},get hideGermlineMutations(){return r.props.store.hideGermlineMutations},get annotateCBioPortalInputValue(){return r.props.store.driverAnnotationSettings.cbioportalCountThreshold+""},get sortByDrivers(){return r.sortByDrivers},get horzZoom(){return isNaN(r.horzZoom)?1:r.horzZoom},get annotateDriversHotspots(){return r.props.store.driverAnnotationSettings.hotspots},get annotateDriversHotspotsDisabled(){return!l.b.serverConfig.show_hotspot},get annotateCustomDriverBinary(){return r.props.store.driverAnnotationSettings.customBinary},get customDriverAnnotationBinaryMenuLabel(){return r.props.store.existCustomDrivers?"User-specified drivers":void 0}}),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,r["Component"]),n=t,(i=[{key:"onMouseEnter",value:function(){this.mouseInsideBounds=!0}},{key:"onMouseLeave",value:function(){this.mouseInsideBounds=!1}},{key:"setAnnotateCBioPortalInputValue",value:function(e){this.controlsHandlers.onChangeAnnotateCBioPortalInputValue&&this.controlsHandlers.onChangeAnnotateCBioPortalInputValue(e)}},{key:"buildControlsHandlers",value:function(){var e=this;return{onSelectShowUnalteredColumns:function(t){e.props.store.showUnalteredColumns=t},onSelectShowWhitespaceBetweenColumns:function(t){e.showWhitespaceBetweenColumns=t},onSelectShowClinicalTrackLegends:function(t){e.showClinicalTrackLegends=t},onSelectShowMinimap:function(t){e.showMinimap=t},onSelectDistinguishMutationType:function(t){e.distinguishMutationType=t},onSelectDistinguishGermlineMutations:function(t){e.distinguishGermlineMutations=t},onSelectDistinguishDrivers:Object(u.action)(function(t){t?(e.controlsState.annotateDriversOncoKbDisabled||e.controlsState.annotateDriversOncoKbError||(e.props.store.driverAnnotationSettings.oncoKb=!0),e.props.store.driverAnnotationSettings.cbioportalCount=!0,e.props.store.driverAnnotationSettings.customBinary=!0):(e.props.store.driverAnnotationSettings.oncoKb=!1,e.props.store.driverAnnotationSettings.cbioportalCount=!1,e.props.store.driverAnnotationSettings.customBinary=!1,e.props.store.driverAnnotationSettings.excludeVUS=!1)}),onSelectAnnotateOncoKb:Object(u.action)(function(t){e.props.store.driverAnnotationSettings.oncoKb=t}),onSelectAnnotateCBioPortal:Object(u.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCount=t}),onChangeAnnotateCBioPortalInputValue:Object(u.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCountThreshold=parseInt(t,10),e.controlsHandlers.onSelectAnnotateCBioPortal&&e.controlsHandlers.onSelectAnnotateCBioPortal(!0)}),onSelectCustomDriverAnnotationBinary:Object(u.action)(function(t){e.props.store.driverAnnotationSettings.customBinary=t}),onSelectHidePutativePassengers:function(t){e.props.store.driverAnnotationSettings.excludeVUS=t},onSelectHideGermlineMutations:function(t){e.props.store.hideGermlineMutations=t},onSelectSortByMutationType:function(t){e.sortByMutationType=t},onSelectSortByDrivers:function(t){e.sortByDrivers=t},onClickDownload:function(t){switch(t){case"pdf":Object(c.Z)("oncoprint.pdf",e.oncoprint.toSVG(!1));break;case"png":e.oncoprint.toCanvas(function(e,t){e.toBlob(function(n){t&&alert("Oncoprint too large - PNG truncated to ".concat(e.getAttribute("width"),"x").concat(e.getAttribute("height"))),_()(n,"oncoprint.png")})},2);break;case"svg":_()((new XMLSerializer).serializeToString(e.oncoprint.toSVG(!1)),"oncoprint.svg");break;case"order":var n="".concat("Sample"," order in the Oncoprint is:\n"),r=e.oncoprint.getIdOrder(),o=!0,i=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;n+="".concat(s,"\n")}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}_()(n,"OncoPrintSamples.txt")}},onSetHorzZoom:function(t){e.oncoprint.setHorzZoomCentered(t)},onClickZoomIn:function(){e.oncoprint.setHorzZoomCentered(e.oncoprint.getHorzZoom()/.7)},onClickZoomOut:function(){e.oncoprint.setHorzZoomCentered(.7*e.oncoprint.getHorzZoom())},onClickNGCHM:function(){}}}},{key:"initializeOncoprint",value:function(){var e=this;Object(G.a)(this.props.store.alteredSampleIds,function(t){e.oncoprint.setHorzZoomToFit(t)}),this.oncoprint.onHorzZoom(function(t){return e.horzZoom=t}),this.horzZoom=this.oncoprint.getHorzZoom()}},{key:"oncoprintRef",value:function(e){this.oncoprint=e,this.initializeOncoprint()}},{key:"onMinimapClose",value:function(){this.showMinimap=!1}},{key:"onSuppressRendering",value:function(){this.renderingComplete=!1}},{key:"onReleaseRendering",value:function(){this.renderingComplete=!0}},{key:"getControls",value:function(){return this.oncoprint&&!this.oncoprint.webgl_unavailable?r.createElement(c.h,{showByDefault:!0,show:!0},r.createElement(I.a,{handlers:this.controlsHandlers,state:this.controlsState,oncoprinterMode:!0})):r.createElement("span",null)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"posRelative"},r.createElement("div",{className:k()("oncoprintContainer",{fadeIn:!this.isHidden}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.store.existCustomDrivers&&!this.props.store.customDriverWarningHidden&&this.props.store.driverAnnotationSettings.customBinary&&r.createElement(q,{message:"Driver annotations reflect only user-provided data. Use the Mutations menu to modify annotation settings.",style:{marginBottom:10},hidden:this.props.store.customDriverWarningHidden,hide:function(){e.props.store.customDriverWarningHidden=!0}}),r.createElement(o.Observer,null,this.getControls),r.createElement("div",{style:{position:"relative"}},r.createElement("div",{id:"oncoprintDiv"},this.alterationInfo,r.createElement(A.c,{key:this.props.store.submitCount,oncoprintRef:this.oncoprintRef,clinicalTracks:this.props.store.clinicalTracks,geneticTracks:this.props.store.geneticTracks.result,geneticTracksOrder:this.props.store.geneOrder&&this.props.store.geneOrder.map(s.f),genesetHeatmapTracks:[],heatmapTracks:[],divId:this.props.divId,width:this.width,caseLinkOutInTooltips:!1,suppressRendering:this.isLoading,onSuppressRendering:this.onSuppressRendering,onReleaseRendering:this.onReleaseRendering,hiddenIds:this.props.store.hiddenSampleIds.result,showClinicalTrackLegends:this.showClinicalTrackLegends,horzZoomToFitIds:this.props.store.alteredSampleIds.result,distinguishMutationType:this.distinguishMutationType,distinguishGermlineMutations:this.distinguishGermlineMutations,distinguishDrivers:this.distinguishDrivers,sortConfig:this.sortConfig,showWhitespaceBetweenColumns:this.showWhitespaceBetweenColumns,showMinimap:this.showMinimap,onMinimapClose:this.onMinimapClose})))))}},{key:"distinguishDrivers",get:function(){return this.props.store.driverAnnotationSettings.driversAnnotated}},{key:"sortConfig",get:function(){return{sortByMutationType:this.sortByMutationType,sortByDrivers:this.sortByDrivers,order:this.props.store.inputSampleIdOrder}}},{key:"alterationInfo",get:function(){if(this.props.store.alteredSampleIds.isComplete){var e=this.props.store.sampleIds.length,t=this.props.store.alteredSampleIds.result.length;return r.createElement("span",{style:{marginTop:"15px",marginBottom:"15px",display:"block"}},"Altered in ".concat(t," (").concat(Object(E.p)(t,e),") of ").concat(e," samples."))}return null}},{key:"isLoading",get:function(){return this.props.store.geneticTracks.isPending||this.props.store.alteredSampleIds.isPending||this.props.store.unalteredSampleIds.isPending}},{key:"isHidden",get:function(){return this.isLoading||!this.renderingComplete}},{key:"width",get:function(){return N.a.size.width-75}}])&&U(n.prototype,i),a&&U(n,a),t}();W([u.observable],Q.prototype,"distinguishMutationType",void 0),W([u.observable],Q.prototype,"distinguishGermlineMutations",void 0),W([u.observable],Q.prototype,"sortByMutationType",void 0),W([u.observable],Q.prototype,"sortByDrivers",void 0),W([u.observable],Q.prototype,"showWhitespaceBetweenColumns",void 0),W([u.observable],Q.prototype,"showClinicalTrackLegends",void 0),W([u.observable],Q.prototype,"showMinimap",void 0),W([u.observable],Q.prototype,"horzZoom",void 0),W([u.observable],Q.prototype,"mouseInsideBounds",void 0),W([u.observable],Q.prototype,"renderingComplete",void 0),W([u.observable.ref],Q.prototype,"oncoprint",void 0),W([u.computed],Q.prototype,"distinguishDrivers",null),W([M.default],Q.prototype,"onMouseEnter",null),W([M.default],Q.prototype,"onMouseLeave",null),W([u.action],Q.prototype,"setAnnotateCBioPortalInputValue",null),W([u.action],Q.prototype,"initializeOncoprint",null),W([M.default,u.action],Q.prototype,"oncoprintRef",null),W([M.default,u.action],Q.prototype,"onMinimapClose",null),W([M.default,u.action],Q.prototype,"onSuppressRendering",null),W([M.default,u.action],Q.prototype,"onReleaseRendering",null),W([u.computed],Q.prototype,"sortConfig",null),W([u.computed],Q.prototype,"alterationInfo",null),W([u.computed],Q.prototype,"isLoading",null),W([u.computed],Q.prototype,"isHidden",null),W([M.default],Q.prototype,"getControls",null),W([u.computed],Q.prototype,"width",null);var Y=Q=W([o.observer],Q),X=n(56),Z=n(106),J="sample\tAGE(number)\tCANCER_TYPE\tMUTATION_COUNT(lognumber)\tMUTATION_SPECTRUM(C>A/C>G/C>T/T>A/T>C/T>G)\nTCGA-25-2392-01\t24\tProstate\t63\t190/54/416/661/392/708\nTCGA-25-2393-01\t33\tLung\t83\t51/651/765/956/106/552\nTCGA-04-1331-01\t22\tLung\t15\t73/987/206/408/602/317\nTCGA-04-1365-01\t33\tLung\t67\t895/513/515/709/598/911\nTCGA-04-1648-01\t28\tProstate\t61\t92/516/945/172/636/352\nTCGA-09-1666-01\t56\tProstate\t8\t838/441/968/547/600/896\nTCGA-13-0720-01\t46\tLung\t66\t210/904/825/625/328/140\nTCGA-13-0801-01\t47\tProstate\t45\t495/341/474/639/230/72\nTCGA-13-0905-01\t".concat(v.b,"\tBreast\t10\t434/926/936/402/508/808\nTCGA-13-0924-01\t48\tLung\t10\t911/586/441/677/849/813\nTCGA-13-1405-01\t44\t").concat(v.b,"\t2\t681/762/115/5/33/432\nTCGA-13-1408-01\t34\tProstate\t38\t993/640/525/699/480/491\nTCGA-13-1488-01\t31\tProstate\t4\t647/835/100/899/276/591\nTCGA-23-1023-01\t44\tBreast\t4\t709/366/627/901/441/788\nTCGA-23-1032-01\t58\tProstate\t67\t404/414/714/939/464/926\nTCGA-23-1107-01\t22\tProstate\t4\t790/556/972/865/706/228\nTCGA-23-1114-01\t58\tBreast\t29\t771/258/824/93/419/248\nTCGA-23-1118-01\t50\tLung\t21\t451/299/768/234/118/775\nTCGA-23-1121-01\t54\tLung\t18\t475/697/644/419/623/587\nTCGA-23-2084-01\t28\tBreast\t27\t804/99/77/618/991/554\nTCGA-24-0968-01\t36\tLung\t3\t152/284/806/707/509/723\nTCGA-24-0970-01\t32\tBreast\t31\t227/187/776/517/863/912\nTCGA-24-1103-01\t38\tLung\t28\t832/398/34/524/622/942\nTCGA-24-1474-01\t32\tProstate\t31\t866/227/114/523/251/502\nTCGA-24-1567-01\t53\tBreast\t1\t283/811/493/153/723/395\nTCGA-24-2030-01\t32\tProstate\t24\t95/683/644/568/735/951\nTCGA-24-2036-01\t45\tLung\t20\t111/434/452/561/959/615\nTCGA-24-2262-01\t50\tBreast\t0\t657/194/932/724/552/378\nTCGA-24-2297-01\t37\tProstate\t16\t530/961/41/131/274/234\nTCGA-25-1322-01\t49\tBreast\t7\t424/753/401/840/786/995\nTCGA-25-2391-01\t44\tLung\t24\t30/998/905/524/137/824\nTCGA-25-2401-01\t32\tProstate\t32\t535/464/978/225/383/769\nTCGA-29-1697-01\t31\tProstate\t4\t611/488/513/171/2/275\nTCGA-29-1702-01\t49\tProstate\t28\t697/796/744/634/130/545\nTCGA-29-1761-01\t51\tLung\t19\t968/439/543/379/104/982\nTCGA-30-1860-01\t26\tLung\t0\t477/368/787/14/619/787\nTCGA-31-1951-01\t54\tBreast\t21\t772/726/826/183/261/558\nTCGA-31-1959-01\t37\t").concat(v.b,"\t73\t89/981/503/522/787/792\nTCGA-36-1570-01\t").concat(v.b,"\tBreast\t").concat(v.b,"\t79/728/440/638/619/254\nTCGA-57-1586-01\t42\tProstate\t0\t").concat(v.b,"\nTCGA-61-1728-01\t38\tBreast\t25\t792/336/963/341/38/119\nTCGA-61-1895-01\t48\tProstate\t50\t977/291/46/538/683/94\nTCGA-61-1907-01\t41\tLung\t22\t189/329/247/575/270/954\nTCGA-61-2012-01\t45\tBreast\t6\t727/887/461/624/144/527\nTCGA-61-2094-01\t59\tProstate\t55\t758/319/248/635/994/921\nTCGA-61-2097-01\t60\tBreast\t58\t277/811/400/533/618/155\nTCGA-25-1625-01\t56\tBreast\t38\t").concat(v.b,"\nTCGA-04-1357-01\t34\tProstate\t2\t330/893/350/994/427/757\nTCGA-13-0893-01\t41\tProstate\t31\t245/872/318/855/813/811\nTCGA-61-2109-01\t50\tProstate\t9\t817/384/250/970/956/442\nTCGA-13-0761-01\t35\tProstate\t8\t346/293/881/368/903/365\nTCGA-29-2427-01\t35\tLung\t45\t734/890/392/625/115/412\nTCGA-23-1122-01\t53\tLung\t52\t29/395/568/255/333/170\nTCGA-23-1027-01\t47\tProstate\t2\t").concat(v.b,"\nTCGA-25-1632-01\t59\tLung\t2\t20/964/904/619/304/859\nTCGA-23-1026-01\t33\tProstate\t3\t521/721/924/438/515/597\nTCGA-13-0804-01\t34\tProstate\t12\t87/39/312/630/475/688\nTCGA-24-2298-01\t33\tLung\t112\t947/250/17/694/10/750\nTCGA-61-2008-01\t22\tBreast\t41\t950/325/208/793/865/802\nTCGA-09-2045-01\t59\tBreast\t12\t771/461/604/998/510/77\nTCGA-04-1356-01\t27\tBreast\t1\t423/392/517/613/463/801\nTCGA-25-1630-01\t40\tProstate\t147\t").concat(v.b,"\nTCGA-24-1470-01\t39\tProstate\t25\t").concat(v.b,"\nTCGA-13-0730-01\t45\tLung\t18\t").concat(v.b,"\nTCGA-13-0883-01\t28\tLung\t88\t").concat(v.b,"\nTCGA-13-0903-01\t42\tProstate\t23\t").concat(v.b,"\nTCGA-13-0887-01\t58\tLung\t16\t").concat(v.b,"\nTCGA-13-1494-01\t30\tLung\t12\t").concat(v.b,"\nTCGA-09-2051-01\t57\tProstate\t31\t").concat(v.b,"\nTCGA-23-2078-01\t59\tLung\t5\t").concat(v.b,"\nTCGA-23-2079-01\t31\tProstate\t16\t").concat(v.b,"\nTCGA-10-0931-01\t27\tLung\t4\t").concat(v.b,"\nTCGA-59-2348-01\t25\tBreast\t2\t").concat(v.b,"\nTCGA-23-2077-01\t34\tLung\t46\t").concat(v.b,"\nTCGA-09-1669-01\t40\tBreast\t26\t").concat(v.b,"\nTCGA-23-2081-01\t42\tBreast\t23\t").concat(v.b,"\nTCGA-13-1489-01\t53\tProstate\t26\t").concat(v.b,"\nTCGA-25-1318-01\t42\tProstate\t4\t").concat(v.b,"\nTCGA-13-0793-01\t47\tProstate\t36\t").concat(v.b,"\nTCGA-24-1463-01\t20\tBreast\t132\t").concat(v.b,"\nTCGA-13-0913-01\t30\tBreast\t38\t").concat(v.b,"\nTCGA-04-1367-01\t53\tBreast\t11\t").concat(v.b,"\nTCGA-24-1562-01\t30\tLung\t3\t").concat(v.b,"\nTCGA-13-0885-01\t54\tProstate\t12\t").concat(v.b,"\nTCGA-13-0890-01\t26\tProstate\t2\t").concat(v.b,"\nTCGA-13-1512-01\t47\t").concat(v.b,"\t").concat(v.b,"\t").concat(v.b,"\nTCGA-23-1030-01\t46\tProstate\t7\t").concat(v.b,"\nTCGA-25-1634-01\t35\tProstate\t17\t").concat(v.b,"\nTCGA-24-1555-01\t23\tProstate\t6\t").concat(v.b,"\nTCGA-13-0886-01\t28\tProstate\t25\t").concat(v.b,"\nTCGA-13-0792-01\t45\tProstate\t40\t").concat(v.b,"\nTCGA-24-2293-01\t52\tBreast\t7\t").concat(v.b,"\nTCGA-23-1120-01\t44\tLung\t29\t").concat(v.b,"\nTCGA-57-1584-01\t").concat(v.b,"\tLung\t35\t").concat(v.b,"\nTCGA-13-0900-01\t32\tBreast\t3\t").concat(v.b,"\nTCGA-24-2280-01\t28\tProstate\t18\t").concat(v.b,"\nTCGA-24-0975-01\t56\tProstate\t21\t").concat(v.b,"\nTCGA-24-2288-01\t40\tProstate\t33\t").concat(v.b,"\nTCGA-24-1417-01\t32\tProstate\t14\t").concat(v.b,"\nTCGA-13-1498-01\t56\tProstate\t40\t").concat(v.b,"\nTCGA-13-1499-01\t31\tBreast\t58\t").concat(v.b,"\nTCGA-13-0726-01\t59\tLung\t19\t").concat(v.b,"\nTCGA-25-2404-01\t29\tLung\t9\t").concat(v.b,"\nTCGA-13-1481-01\t37\tLung\t1\t").concat(v.b,"\nTCGA-10-0930-01\t39\tProstate\t17\t").concat(v.b,"\nTCGA-13-1492-01\t24\tLung\t5\t").concat(v.b,"\nTCGA-13-1505-01\t42\tProstate\t186\t").concat(v.b,"\nTCGA-04-1336-01\t38\tProstate\t3\t").concat(v.b,"\nTCGA-24-2261-01\t53\tLung\t3\t").concat(v.b,"\nTCGA-13-0912-01\t60\tBreast\t43\t").concat(v.b,"\nTCGA-36-1580-01\t27\tBreast\t22\t").concat(v.b,"\nTCGA-59-2352-01\t25\tLung\t24\t").concat(v.b,"\nTCGA-25-2409-01\t45\tLung\t15\t").concat(v.b,"\nTCGA-61-1919-01\t23\tProstate\t2\t").concat(v.b,"\nTCGA-13-0919-01\t36\tProstate\t6\t").concat(v.b,"\nTCGA-09-2050-01\t29\tProstate\t5\t").concat(v.b,"\nTCGA-25-1626-01\t57\tProstate\t12\t").concat(v.b,"\nTCGA-09-2049-01\t34\tLung\t2\t").concat(v.b,"\nTCGA-24-1422-01\t29\tProstate\t44\t").concat(v.b,"\nTCGA-24-1416-01\t44\tBreast\t20\t").concat(v.b,"\nTCGA-24-1564-01\t46\tProstate\t64\t").concat(v.b,"\nTCGA-61-2088-01\t59\tBreast\t90\t").concat(v.b,"\nTCGA-10-0934-01\t35\tBreast\t40\t").concat(v.b,"\nTCGA-61-2003-01\t44\tProstate\t7\t").concat(v.b,"\nTCGA-13-0714-01\t48\tBreast\t30\t").concat(v.b,"\nTCGA-13-1510-01\t28\tBreast\t11\t").concat(v.b,"\nTCGA-36-1576-01\t26\tBreast\t10\t").concat(v.b,"\nTCGA-25-1329-01\t49\tBreast\t31\t").concat(v.b,"\nTCGA-04-1337-01\t50\tProstate\t35\t").concat(v.b,"\nTCGA-24-1428-01\t36\tBreast\t22\t").concat(v.b,"\nTCGA-04-1332-01\t56\tProstate\t18\t").concat(v.b,"\nTCGA-04-1349-01\t43\tLung\t79\t").concat(v.b,"\nTCGA-13-0791-01\t21\tBreast\t29\t").concat(v.b,"\nTCGA-24-2019-01\t").concat(v.b,"\tBreast\t3\t").concat(v.b,"\nTCGA-24-1425-01\t58\tProstate\t33\t").concat(v.b,"\nTCGA-24-1423-01\t46\tBreast\t2\t").concat(v.b,"\nTCGA-10-0926-01\t27\tLung\t19\t").concat(v.b,"\nTCGA-13-0760-01\t22\tLung\t35\t").concat(v.b,"\nTCGA-24-1556-01\t35\tLung\t35\t").concat(v.b,"\nTCGA-24-1558-01\t34\tBreast\t75\t").concat(v.b,"\nTCGA-24-1616-01\t57\tLung\t7\t").concat(v.b,"\nTCGA-24-1604-01\t52\tBreast\t13\t").concat(v.b,"\nTCGA-09-1659-01\t38\tBreast\t40\t").concat(v.b,"\nTCGA-24-1413-01\t38\tBreast\t3\t").concat(v.b,"\nTCGA-09-1662-01\t44\tBreast\t56\t").concat(v.b,"\nTCGA-13-0724-01\t41\tProstate\t74\t").concat(v.b,"\nTCGA-13-1484-01\t47\tLung\t11\t").concat(v.b,"\nTCGA-24-2254-01\t").concat(v.b,"\t").concat(v.b,"\t19\t").concat(v.b,"\nTCGA-61-2101-01\t60\tBreast\t58\t").concat(v.b,"\nTCGA-09-0366-01\t56\tLung\t6\t").concat(v.b,"\nTCGA-09-2053-01\t33\tBreast\t11\t").concat(v.b,"\nTCGA-24-2024-01\t40\tLung\t24\t").concat(v.b,"\nTCGA-57-1993-01\t50\tBreast\t7\t").concat(v.b,"\nTCGA-13-0751-01\t58\tProstate\t15\t").concat(v.b,"\nTCGA-10-0928-01\t42\tProstate\t59\t").concat(v.b,"\nTCGA-04-1525-01\t47\tProstate\t0\t").concat(v.b,"\nTCGA-23-1022-01\t45\tLung\t29\t").concat(v.b,"\nTCGA-30-1862-01\t26\tProstate\t43\t").concat(v.b,"\nTCGA-13-0765-01\t28\tProstate\t4\t").concat(v.b,"\nTCGA-31-1953-01\t38\tBreast\t14\t").concat(v.b,"\nTCGA-04-1514-01\t59\tProstate\t22\t").concat(v.b,"\nTCGA-13-1509-01\t40\tLung\t8\t").concat(v.b,"\nTCGA-24-1419-01\t60\tBreast\t33\t").concat(v.b,"\nTCGA-25-1321-01\t22\tBreast\t29\t").concat(v.b,"\nTCGA-20-0987-01\t36\tLung\t22\t").concat(v.b,"\nTCGA-23-1024-01\t38\tProstate\t31\t").concat(v.b,"\nTCGA-24-2290-01\t33\tBreast\t10\t").concat(v.b,"\nTCGA-23-1124-01\t35\tProstate\t9\t").concat(v.b,"\nTCGA-61-1736-01\t35\tProstate\t28\t").concat(v.b,"\nTCGA-13-0800-01\t38\tProstate\t3\t").concat(v.b,"\nTCGA-24-1434-01\t57\tBreast\t9\t").concat(v.b,"\nTCGA-04-1517-01\t24\tLung\t77\t").concat(v.b,"\nTCGA-09-1661-01\t44\tBreast\t18\t").concat(v.b,"\nTCGA-61-1995-01\t58\tLung\t38\t").concat(v.b,"\nTCGA-24-1614-01\t48\tBreast\t142\t").concat(v.b,"\nTCGA-36-1569-01\t59\tBreast\t21\t").concat(v.b,"\nTCGA-24-2271-01\t").concat(v.b,"\tLung\t36\t").concat(v.b,"\nTCGA-23-1123-01\t27\tLung\t14\t").concat(v.b,"\nTCGA-13-1507-01\t44\tProstate\t23\t").concat(v.b,"\nTCGA-13-0899-01\t56\tProstate\t29\t").concat(v.b,"\nTCGA-23-1110-01\t49\tLung\t13\t").concat(v.b,"\nTCGA-25-1319-01\t53\tBreast\t12\t").concat(v.b,"\nTCGA-24-1548-01\t46\tLung\t35\t").concat(v.b,"\nTCGA-13-0910-01\t29\tBreast\t69\t").concat(v.b,"\nTCGA-04-1346-01\t31\tLung\t11\t").concat(v.b,"\nTCGA-04-1350-01\t51\tProstate\t11\t").concat(v.b,"\nTCGA-25-1326-01\t23\tLung\t8\t").concat(v.b,"\nTCGA-24-1549-01\t33\tLung\t").concat(v.b,"\t").concat(v.b,"\nTCGA-13-0891-01\t26\tProstate\t13\t").concat(v.b,"\nTCGA-13-1411-01\t59\tProstate\t46\t").concat(v.b,"\nTCGA-24-2260-01\t25\tProstate\t15\t").concat(v.b,"\nTCGA-04-1342-01\t23\tLung\t3\t").concat(v.b,"\nTCGA-13-0723-01\t59\t").concat(v.b,"\t13\t").concat(v.b,"\nTCGA-24-2289-01\t26\tLung\t32\t").concat(v.b,"\nTCGA-59-2354-01\t42\tLung\t30\t").concat(v.b,"\nTCGA-59-2350-01\t55\tLung\t10\t").concat(v.b,"\nTCGA-59-2363-01\t43\tProstate\t5\t").concat(v.b,"\nTCGA-13-0762-01\t42\tLung\t19\t").concat(v.b,"\nTCGA-59-2351-01\t44\tBreast\t2\t").concat(v.b,"\nTCGA-25-2398-01\t58\tProstate\t6\t").concat(v.b,"\nTCGA-25-1315-01\t53\tBreast\t50\t").concat(v.b,"\nTCGA-13-1497-01\t56\tBreast\t41\t").concat(v.b,"\nTCGA-30-1853-01\t41\tBreast\t29\t").concat(v.b,"\nTCGA-57-1582-01\t42\tProstate\t52\t").concat(v.b,"\nTCGA-24-0966-01\t29\tProstate\t21\t").concat(v.b,"\nTCGA-24-1557-01\t47\tProstate\t26\t").concat(v.b,"\nTCGA-59-2355-01\t23\tProstate\t163\t").concat(v.b,"\nTCGA-10-0927-01\t55\tLung\t21\t").concat(v.b,"\nTCGA-09-2044-01\t29\tLung\t64\t").concat(v.b,"\nTCGA-13-0906-01\t22\tLung\t29\t").concat(v.b,"\nTCGA-25-1627-01\t41\tLung\t4\t").concat(v.b,"\nTCGA-13-1482-01\t37\tLung\t18\t").concat(v.b,"\nTCGA-24-2281-01\t50\tProstate\t32\t").concat(v.b,"\nTCGA-13-0889-01\t45\tLung\t4\t").concat(v.b,"\nTCGA-61-2016-01\t34\tLung\t25\t").concat(v.b,"\nTCGA-04-1362-01\t27\tLung\t12\t").concat(v.b,"\nTCGA-13-0717-01\t29\tBreast\t31\t").concat(v.b,"\nTCGA-61-2104-01\t32\tProstate\t18\t").concat(v.b,"\nTCGA-10-0938-01\t52\tBreast\t20\t").concat(v.b,"\nTCGA-24-2035-01\t37\tLung\t5\t").concat(v.b,"\nTCGA-24-1105-01\t30\tLung\t46\t").concat(v.b,"\nTCGA-24-0979-01\t24\tProstate\t9\t").concat(v.b,"\nTCGA-04-1361-01\t58\tLung\t48\t").concat(v.b,"\nTCGA-25-1628-01\t29\tLung\t7\t").concat(v.b,"\nTCGA-13-1491-01\t32\tProstate\t4\t").concat(v.b,"\nTCGA-25-1635-01\t23\tLung\t17\t").concat(v.b,"\nTCGA-13-1506-01\t").concat(v.b,"\tProstate\t15\t").concat(v.b,"\nTCGA-24-1560-01\t48\tLung\t15\t").concat(v.b,"\nTCGA-13-1410-01\t44\tBreast\t7\t").concat(v.b,"\nTCGA-24-1464-01\t49\tProstate\t11\t").concat(v.b,"\nTCGA-10-0935-01\t57\tBreast\t3\t").concat(v.b,"\nTCGA-36-1568-01\t38\tLung\t51\t").concat(v.b,"\nTCGA-23-2072-01\t32\tBreast\t131\t").concat(v.b,"\nTCGA-13-1487-01\t58\tProstate\t4\t").concat(v.b,"\nTCGA-24-1426-01\t22\tProstate\t4\t").concat(v.b,"\nTCGA-13-0920-01\t24\tLung\t27\t").concat(v.b,"\nTCGA-25-1320-01\t40\tProstate\t20\t").concat(v.b,"\nTCGA-23-1021-01\t50\tBreast\t18\t").concat(v.b,"\nTCGA-04-1348-01\t38\tProstate\t21\t").concat(v.b,"\nTCGA-04-1338-01\t33\tLung\t8\t").concat(v.b,"\nTCGA-23-1117-01\t23\tProstate\t17\t").concat(v.b,"\nTCGA-36-1578-01\t47\tLung\t4\t").concat(v.b,"\nTCGA-36-1575-01\t52\tProstate\t0\t").concat(v.b,"\nTCGA-36-1574-01\t59\tProstate\t30\t").concat(v.b,"\nTCGA-25-2399-01\t46\tProstate\t28\t").concat(v.b,"\nTCGA-30-1891-01\t24\tBreast\t4\t").concat(v.b,"\nTCGA-36-1577-01\t28\tProstate\t1\t").concat(v.b,"\nTCGA-24-1466-01\t29\tBreast\t").concat(v.b,"\t").concat(v.b,"\nTCGA-61-2092-01\t47\tProstate\t56\t").concat(v.b,"\nTCGA-04-1347-01\t49\tLung\t16\t").concat(v.b,"\nTCGA-20-0990-01\t30\tProstate\t1\t").concat(v.b,"\nTCGA-24-1104-01\t30\tBreast\t6\t").concat(v.b,"\nTCGA-24-1418-01\t33\tProstate\t0\t").concat(v.b,"\nTCGA-57-1583-01\t30\tLung\t1\t").concat(v.b,"\nTCGA-13-0795-01\t32\tLung\t79\t").concat(v.b,"\nTCGA-13-1496-01\t39\tProstate\t4\t").concat(v.b,"\nTCGA-25-1623-01\t35\tLung\t17\t").concat(v.b,"\nTCGA-24-1551-01\t20\tBreast\t38\t").concat(v.b,"\nTCGA-24-1431-01\t47\tBreast\t32\t").concat(v.b,"\nTCGA-13-2060-01\t56\tProstate\t4\t").concat(v.b,"\nTCGA-25-1631-01\t41\tBreast\t44\t").concat(v.b,"\nTCGA-13-1495-01\t38\tProstate\t14\t").concat(v.b,"\nTCGA-24-1603-01\t37\tProstate\t5\t").concat(v.b,"\nTCGA-04-1530-01\t60\tLung\t3\t").concat(v.b,"\nTCGA-04-1542-01\t24\tProstate\t2\t").concat(v.b,"\nTCGA-24-1471-01\t37\tLung\t21\t").concat(v.b,"\nTCGA-61-2102-01\t32\tProstate\t10\t").concat(v.b,"\nTCGA-24-1469-01\t43\tLung\t43\t").concat(v.b,"\nTCGA-13-1407-01\t27\t").concat(v.b,"\t1\t").concat(v.b,"\nTCGA-23-1028-01\t60\tLung\t17\t").concat(v.b,"\nTCGA-13-0894-01\t50\tProstate\t59\t").concat(v.b,"\nTCGA-13-1409-01\t35\tBreast\t63\t").concat(v.b,"\nTCGA-24-0982-01\t43\tProstate\t8\t").concat(v.b,"\nTCGA-61-2000-01\t41\tLung\t8\t").concat(v.b,"\nTCGA-61-2110-01\t56\tProstate\t58\t").concat(v.b,"\nTCGA-31-1950-01\t44\tLung\t9\t").concat(v.b,"\nTCGA-24-1424-01\t47\tLung\t17\t").concat(v.b,"\nTCGA-24-1427-01\t47\tProstate\t5\t").concat(v.b,"\nTCGA-61-1998-01\t38\tProstate\t1\t").concat(v.b,"\nTCGA-13-0904-01\t27\tBreast\t4\t").concat(v.b,"\nTCGA-13-0923-01\t22\tProstate\t13\t").concat(v.b,"\nTCGA-24-1563-01\t33\tProstate\t17\t").concat(v.b,"\nTCGA-13-1504-01\t51\tLung\t28\t").concat(v.b,"\nTCGA-25-1324-01\t32\tLung\t33\t").concat(v.b,"\nTCGA-13-0897-01\t32\tProstate\t21\t").concat(v.b,"\nTCGA-10-0937-01\t").concat(v.b,"\tProstate\t8\t").concat(v.b,"\nTCGA-04-1364-01\t44\tBreast\t7\t").concat(v.b,"\nTCGA-20-0991-01\t55\tProstate\t21\t").concat(v.b,"\nTCGA-24-2267-01\t23\tBreast\t29\t").concat(v.b,"\nTCGA-13-1404-01\t47\tBreast\t23\t").concat(v.b,"\nTCGA-13-0911-01\t56\tBreast\t29\t").concat(v.b,"\nTCGA-25-1313-01\t22\tLung\t30\t").concat(v.b,"\nTCGA-36-1571-01\t52\tBreast\t13\t").concat(v.b,"\nTCGA-13-0884-01\t21\tProstate\t19\t").concat(v.b,"\nTCGA-13-1412-01\t31\tBreast\t18\t").concat(v.b,"\nTCGA-24-1545-01\t35\tBreast\t3\t").concat(v.b,"\nTCGA-24-1436-01\t46\tProstate\t13\t").concat(v.b,"\nTCGA-25-2400-01\t21\tProstate\t3\t").concat(v.b,"\nTCGA-13-1403-01\t56\tBreast\t13\t").concat(v.b,"\nTCGA-23-1116-01\t31\tLung\t33\t").concat(v.b,"\nTCGA-10-0925-01\t47\tLung\t12\t").concat(v.b,"\nTCGA-10-0933-01\t23\tLung\t52\t").concat(v.b,"\nTCGA-20-1684-01\t37\tLung\t11\t").concat(v.b,"\nTCGA-20-1685-01\t56\tProstate\t18\t").concat(v.b,"\nTCGA-20-1686-01\t46\tLung\t2\t").concat(v.b,"\nTCGA-20-1687-01\t39\tBreast\t24\t").concat(v.b,"\nTCGA-23-1029-01\t45\tLung\t3\t").concat(v.b,"\nTCGA-23-1031-01\t37\tBreast\t6\t").concat(v.b,"\nTCGA-23-1109-01\t30\tProstate\t0\t").concat(v.b,"\nTCGA-23-1111-01\t47\tBreast\t11\t").concat(v.b,"\nTCGA-23-1113-01\t35\tBreast\t32\t").concat(v.b,"\nTCGA-23-1119-01\t39\tProstate\t").concat(v.b,"\t").concat(v.b,"\nTCGA-23-1809-01\t59\tLung\t16\t").concat(v.b,"\nTCGA-23-2641-01\t28\tProstate\t13\t").concat(v.b,"\nTCGA-23-2643-01\t55\tBreast\t6\t").concat(v.b,"\nTCGA-23-2645-01\t58\t").concat(v.b,"\t17\t").concat(v.b,"\nTCGA-23-2647-01\t47\tProstate\t5\t").concat(v.b,"\nTCGA-23-2649-01\t58\tProstate\t7\t").concat(v.b,"\nTCGA-24-0980-01\t20\tProstate\t10\t").concat(v.b,"\nTCGA-24-0981-01\t53\tProstate\t29\t").concat(v.b,"\nTCGA-24-1430-01\t46\tBreast\t3\t").concat(v.b,"\nTCGA-24-1435-01\t41\tBreast\t17\t").concat(v.b,"\nTCGA-24-1467-01\t59\tLung\t7\t").concat(v.b,"\nTCGA-24-1544-01\t43\tLung\t20\t").concat(v.b,"\nTCGA-24-1546-01\t20\tProstate\t29\t").concat(v.b,"\nTCGA-24-1550-01\t28\tBreast\t36\t").concat(v.b,"\nTCGA-24-1552-01\t32\tProstate\t6\t").concat(v.b,"\nTCGA-24-1553-01\t28\tLung\t64\t").concat(v.b,"\nTCGA-24-1565-01\t47\tLung\t14\t").concat(v.b,"\nTCGA-24-1842-01\t53\tBreast\t10\t").concat(v.b,"\nTCGA-24-1843-01\t25\tBreast\t46\t").concat(v.b,"\nTCGA-24-1844-01\t31\tLung\t48\t").concat(v.b,"\nTCGA-24-1845-01\t52\tProstate\t14\t").concat(v.b,"\nTCGA-24-1846-01\t37\tProstate\t2\t").concat(v.b,"\nTCGA-24-1847-01\t23\tBreast\t31\t").concat(v.b,"\nTCGA-24-1849-01\t39\tBreast\t").concat(v.b,"\t").concat(v.b,"\nTCGA-24-1850-01\t39\tProstate\t40\t").concat(v.b,"\nTCGA-24-1852-01\t50\tBreast\t59\t").concat(v.b,"\nTCGA-24-1920-01\t43\tLung\t8\t").concat(v.b,"\nTCGA-24-1923-01\t51\tBreast\t36\t").concat(v.b,"\nTCGA-24-1924-01\t25\tProstate\t36\t").concat(v.b,"\nTCGA-24-1927-01\t46\tLung\t16\t").concat(v.b,"\nTCGA-24-1928-01\t43\tBreast\t30\t").concat(v.b,"\nTCGA-24-1930-01\t42\tBreast\t4\t").concat(v.b,"\nTCGA-24-2020-01\t59\tProstate\t14\t").concat(v.b,"\nTCGA-24-2023-01\t").concat(v.b,"\tBreast\t0\t").concat(v.b,"\nTCGA-24-2026-01\t46\tProstate\t12\t").concat(v.b,"\nTCGA-24-2027-01\t37\tBreast\t29\t").concat(v.b,"\nTCGA-24-2029-01\t23\tProstate\t16\t").concat(v.b,"\nTCGA-24-2033-01\t50\tProstate\t46\t").concat(v.b,"\nTCGA-24-2038-01\t46\tProstate\t30\t").concat(v.b,"\nTCGA-24-2295-01\t23\tProstate\t12\t").concat(v.b,"\nTCGA-25-1312-01\t32\tProstate\t23\t").concat(v.b,"\nTCGA-25-1314-01\t40\tLung\t57\t").concat(v.b,"\nTCGA-25-1316-01\t24\tProstate\t21\t").concat(v.b,"\nTCGA-25-1317-01\t50\tBreast\t4\t").concat(v.b,"\nTCGA-25-1323-01\t50\tLung\t").concat(v.b,"\t").concat(v.b,"\nTCGA-25-1325-01\t48\tLung\t4\t").concat(v.b,"\nTCGA-25-1328-01\t46\tBreast\t28\t").concat(v.b,"\nTCGA-25-1633-01\t43\tProstate\t42\t").concat(v.b,"\nTCGA-25-1870-01\t59\tProstate\t15\t").concat(v.b,"\nTCGA-25-1871-01\t51\tProstate\t53\t").concat(v.b,"\nTCGA-25-1877-01\t43\t").concat(v.b,"\t24\t").concat(v.b,"\nTCGA-25-1878-01\t33\tProstate\t104\t").concat(v.b,"\nTCGA-25-2042-01\t50\tProstate\t49\t").concat(v.b,"\nTCGA-25-2390-01\t21\tProstate\t17\t").concat(v.b,"\nTCGA-25-2396-01\t51\tBreast\t1\t").concat(v.b,"\nTCGA-25-2397-01\t33\tBreast\t40\t").concat(v.b,"\n"),$=n(605),ee=n(876);function te(e,t){return new Promise(function(n){if(e&&e.files&&e.files.length>0){var r=new FileReader;r.onload=function(){var e=r.result;n(e||"")},r.readAsText(e.files[0])}else n(t)})}var ne=n(1261),re=n.n(ne);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){return(se="function"==typeof Symbol&&"symbol"===oe(Symbol.iterator)?function(e){return oe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":oe(e)})(e)}n.d(t,"OncoprinterTab",function(){return ce});var ce,pe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":se(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},de=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.ONCOPRINT="oncoprint",e.MUTUAL_EXCLUSIVITY="mutualExclusivity"}(ce||(ce={}));var fe=r.createElement("div",{className:re.a.dataFormatHelp},r.createElement("div",{className:re.a.dataFormatHelpSection},r.createElement("h4",null,"Genomic data format"),"Each row of the data can take one of two formats, with tab- or space-delimited columns:",r.createElement("br",null),r.createElement("strong",null,"(1)")," ",r.createElement("code",null,"Sample")," only (e.g. so that percent altered in your data can be properly calculated by including unaltered samples).",r.createElement("br",null),r.createElement("strong",null,"(2)")," ",r.createElement("code",null,"Sample")," ",r.createElement("code",null,"Gene"),r.createElement("code",null,"Alteration (defined below)"),r.createElement("code",null,"Type (defined below)"),r.createElement("br",null),"For rows of type 2, the definition is below:",r.createElement("ol",null,r.createElement("li",null,r.createElement("code",null,"Sample"),": Sample ID"),r.createElement("li",null,r.createElement("code",null,"Gene"),": Gene symbol (or other gene identifier)"),r.createElement("li",null,r.createElement("code",null,"Alteration"),": Definition of the alteration event",r.createElement("ul",null,r.createElement("li",null,"Mutation event: amino acid change or any other information about the mutation"),r.createElement("li",null,"Fusion event: fusion information"),r.createElement("li",null,"Copy number alteration (CNA) - please use one of the four events below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"AMP"),": high level amplification"),r.createElement("li",null,r.createElement("code",null,"GAIN"),": low level gain"),r.createElement("li",null,r.createElement("code",null,"HETLOSS"),": shallow deletion"),r.createElement("li",null,r.createElement("code",null,"HOMDEL"),": deep deletion"))),r.createElement("li",null,"mRNA expression - please use one of the two events below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"HIGH"),": expression high"),r.createElement("li",null,r.createElement("code",null,"LOW"),": expression low"))),r.createElement("li",null,"Protein expression - please use one of the two events below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"HIGH"),": Protein high"),r.createElement("li",null,r.createElement("code",null,"LOW"),": Protein low"))))),r.createElement("li",null,r.createElement("code",null,"Type"),": Definition of the alteration type. It has to be one of the following.",r.createElement("ul",null,r.createElement("li",null,"For a mutation event, please use one of the five mutation types below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"MISSENSE"),": a missense mutation"),r.createElement("li",null,r.createElement("code",null,"INFRAME"),": a inframe mutation"),r.createElement("li",null,r.createElement("code",null,"TRUNC"),": a truncation mutation"),r.createElement("li",null,r.createElement("code",null,"PROMOTER"),": a promoter mutation"),r.createElement("li",null,r.createElement("code",null,"OTHER"),": any other kind of mutation")),r.createElement("br",null),"In addition, mutation types can be augmented with the modifiers"," ",r.createElement("span",{style:{whiteSpace:"nowrap"}},r.createElement("code",null,"_GERMLINE")," and ",r.createElement("code",null,"_DRIVER")),"to indicate that they are, respectively, germline and driver mutations.",r.createElement("br",null),"For example: ",r.createElement("code",null,"INFRAME_GERMLINE")," or"," ",r.createElement("code",null,"MISSENSE_GERMLINE_DRIVER")," or"," ",r.createElement("code",null,"TRUNC_DRIVER"),".",r.createElement("br",null)),r.createElement("li",null,r.createElement("code",null,"FUSION"),": a fusion event"),r.createElement("li",null,r.createElement("code",null,"CNA"),": a copy number alteration event"),r.createElement("li",null,r.createElement("code",null,"EXP"),": a expression event"),r.createElement("li",null,r.createElement("code",null,"PROT"),": a protein expression event"))))),r.createElement("div",{className:re.a.dataFormatHelpBorder}),r.createElement("div",{className:re.a.dataFormatHelpSection},r.createElement("h4",null,"Clinical data format"),"All rows are tab- or space-delimited.",r.createElement("br",null),"The first (header) row gives the names of the clinical attributes, as well as their data type (",v.a.NUMBER,","," ",v.a.LOG_NUMBER,", or"," ",v.a.STRING,", default is",v.a.STRING,"). Additionally, you can enter a /-delimited list of labels to create a stacked-bar-chart track (see example data below). An example first row is:",r.createElement("br",null),r.createElement("code",null,"Sample"),r.createElement("code",null,"Age(",v.a.NUMBER,")"),r.createElement("code",null,"Cancer_Type(",v.a.STRING,")"),r.createElement("code",null,"Mutation_Count(",v.a.LOG_NUMBER,")"),r.createElement("code",null,"Mutation_Spectrum(C>A/C>G/C>T/T>A/T>C/T>G)"),r.createElement("br",null),"Each following row gives the sample id, then the value for each clinical attribute, or the special value"," ",v.b," which indicates that there's no data.",r.createElement("br",null),"Some example data rows would then be:",r.createElement("br",null),r.createElement("code",null,"sample1")," ",r.createElement("code",null,"30"),r.createElement("code",null,v.b)," ",r.createElement("code",null,"1"),r.createElement("code",null,"1/8/3/0/9/2"),r.createElement("br",null),r.createElement("code",null,"sample2")," ",r.createElement("code",null,"27")," ",r.createElement("code",null,"Colorectal"),r.createElement("code",null,"100")," ",r.createElement("code",null,"5/1/4/2/0/3"),r.createElement("br",null),r.createElement("code",null,"sample3")," ",r.createElement("code",null,v.b),r.createElement("code",null,"Breast"),r.createElement("code",null,v.b),r.createElement("code",null,v.b),r.createElement("br",null))),he=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ae(this,ue(t).apply(this,arguments))).store=new P,e.activeTabId=ce.ONCOPRINT,e.dataInputOpened=!0,e.helpOpened=!1,e.geneticDataInput="",e.clinicalDataInput="",e.geneOrderInput="",e.sampleOrderInput="",e}var n,u,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,r["Component"]),n=t,(u=[{key:"componentDidMount",value:function(){var e=Object(c.B)().clientPostedData;e&&(this.geneticDataInput=e.genetic,this.clinicalDataInput=e.clinical,this.doSubmit(this.geneticDataInput,this.clinicalDataInput),Object(c.B)().clientPostedData=null)}},{key:"toggleHelpOpened",value:function(){this.helpOpened=!this.helpOpened}},{key:"populateGeneticExampleData",value:function(){this.geneticDataInput="TCGA-25-2392-01\tTP53\tFUSION\tFUSION\nTCGA-04-1331-01\tPTEN\tHOMDEL\tCNA\nTCGA-04-1357-01\tBRCA1\tQ1538A\tMISSENSE_GERMLINE_DRIVER\nTCGA-13-0893-01\tBRCA1\tK503fs\tTRUNC\nTCGA-61-2109-01\tBRCA1\tK654fs\tTRUNC\nTCGA-13-0761-01\tBRCA1\tR1495_splice\tTRUNC\nTCGA-23-1118-01\tBRCA1\tE23fs\tTRUNC\nTCGA-29-2427-01\tBRCA1\tL431*\tTRUNC\nTCGA-23-1122-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-25-2392-01\tBRCA1\tE1345fs\tTRUNC_GERMLINE\nTCGA-23-1027-01\tBRCA1\tE23fs\tTRUNC_GERMLINE\nTCGA-25-1632-01\tBRCA1\tL1216fs\tTRUNC_GERMLINE\nTCGA-23-1026-01\tBRCA1\tG813fs\tTRUNC\nTCGA-13-0804-01\tBRCA1\tC47W\tMISSENSE_GERMLINE\nTCGA-25-2393-01\tTP53\tFUSION\tFUSION\nTCGA-04-1365-01\tPTEN\tHOMDEL\tCNA\nTCGA-04-1648-01\tTP53\tHOMDEL\tCNA\nTCGA-09-1666-01\tPTEN\tAMP\tCNA\nTCGA-13-0720-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-0801-01\tBRCA1\tHOMDEL\tCNA\nTCGA-13-0801-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-0905-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-0924-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-1405-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-1408-01\tTP53\tHOMDEL\tCNA\nTCGA-13-1488-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1023-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1032-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1107-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1114-01\tBRCA2\tHOMDEL\tCNA\nTCGA-23-1118-01\tPTEN\tAMP\tCNA\nTCGA-23-1121-01\tPTEN\tAMP\tCNA\nTCGA-23-2084-01\tTP53\tHOMDEL\tCNA\nTCGA-24-0968-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-0970-01\tBRCA2\tAMP\tCNA\nTCGA-24-1103-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-1474-01\tTP53\tAMP\tCNA\nTCGA-24-1567-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2030-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2036-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2262-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2297-01\tPTEN\tHOMDEL\tCNA\nTCGA-25-1322-01\tBRCA2\tAMP\tCNA\nTCGA-25-2391-01\tPTEN\tHOMDEL\tCNA\nTCGA-25-2401-01\tBRCA2\tHOMDEL\tCNA\nTCGA-29-1697-01\tPTEN\tAMP\tCNA\nTCGA-29-1702-01\tTP53\tAMP\tCNA\nTCGA-29-1761-01\tPTEN\tHOMDEL\tCNA\nTCGA-30-1860-01\tPTEN\tHOMDEL\tCNA\nTCGA-31-1951-01\tPTEN\tHOMDEL\tCNA\nTCGA-31-1959-01\tBRCA1\tHOMDEL\tCNA\nTCGA-31-1959-01\tPTEN\tHOMDEL\tCNA\nTCGA-36-1570-01\tPTEN\tHOMDEL\tCNA\nTCGA-57-1586-01\tBRCA1\tHOMDEL\tCNA\nTCGA-61-1728-01\tPTEN\tHOMDEL\tCNA\nTCGA-61-1895-01\tPTEN\tHOMDEL\tCNA\nTCGA-61-1907-01\tBRCA2\tHOMDEL\tCNA\nTCGA-61-2012-01\tTP53\tAMP\tCNA\nTCGA-61-2094-01\tPTEN\tHOMDEL\tCNA\nTCGA-61-2097-01\tBRCA2\tHOMDEL\tCNA\nTCGA-29-1702-01\tTP53\tHIGH\tEXP\nTCGA-61-2012-01\tTP53\tHIGH\tEXP\nTCGA-36-1570-01\tPTEN\tLOW\tEXP\nTCGA-57-1586-01\tBRCA1\tLOW\tEXP\nTCGA-61-1728-01\tPTEN\tLOW\tEXP\nTCGA-61-1895-01\tPTEN\tLOW\tEXP\nTCGA-61-1907-01\tBRCA2\tLOW\tEXP\nTCGA-25-1625-01\tBRCA1\tE116*\tTRUNC\nTCGA-24-2298-01\tBRCA1\tQ1395fs\tTRUNC\nTCGA-61-2008-01\tBRCA1\tW1815*\tTRUNC\nTCGA-09-2045-01\tBRCA1\tQ1779fs\tTRUNC\nTCGA-04-1356-01\tBRCA1\tV722fs\tTRUNC\nTCGA-25-1630-01\tBRCA1\tK519fs\tTRUNC\nTCGA-24-1470-01\tBRCA1\tL1676fs\tTRUNC\nTCGA-13-0730-01\tBRCA1\tR1835*\tTRUNC\nTCGA-13-0883-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-25-2401-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-13-0903-01\tBRCA1\tR504fs\tTRUNC\nTCGA-13-0887-01\tBRCA1\tE23fs\tTRUNC\nTCGA-13-1494-01\tBRCA1\tK45_splice\tTRUNC\nTCGA-09-2051-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-23-2078-01\tBRCA1\tE23fs\tTRUNC\nTCGA-23-2079-01\tBRCA1\tE23fs\tTRUNC\nTCGA-10-0931-01\tBRCA1\tE23fs\tTRUNC\nTCGA-59-2348-01\tBRCA1\tE797*\tTRUNC\nTCGA-23-2077-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-09-1669-01\tBRCA1\tE1345fs\tTRUNC\nTCGA-23-2081-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-13-1408-01\tBRCA1\tE23fs\tTRUNC\nTCGA-13-1489-01\tBRCA1\tN1265fs\tTRUNC\nTCGA-25-1318-01\tBRCA2\tL1491fs\tTRUNC\nTCGA-13-0793-01\tBRCA2\tT3085fs\tTRUNC\nTCGA-24-1463-01\tBRCA2\tG602fs\tTRUNC\nTCGA-13-0913-01\tBRCA2\tE1857fs\tTRUNC\nTCGA-04-1367-01\tBRCA2\tE294*\tTRUNC\nTCGA-24-1562-01\tBRCA2\tK3326*\tTRUNC\nTCGA-04-1331-01\tBRCA2\tC711*\tTRUNC\nTCGA-24-1103-01\tBRCA2\tK1638E\tMISSENSE\nTCGA-13-0885-01\tBRCA2\tK1406fs\tTRUNC\nTCGA-13-0890-01\tBRCA2\tV1229fs\tTRUNC\nTCGA-13-1512-01\tBRCA2\tK3326*\tTRUNC\nTCGA-23-1030-01\tBRCA2\tT1354M\tMISSENSE\nTCGA-23-1026-01\tBRCA2\tK3326*\tTRUNC\nTCGA-25-1634-01\tBRCA2\tE2878_splice\tTRUNC\nTCGA-24-1555-01\tBRCA2\tT2607fs\tTRUNC\nTCGA-13-0886-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-13-0792-01\tBRCA2\tE1143D\tMISSENSE\nTCGA-24-2293-01\tBRCA2\tR2520*\tTRUNC\nTCGA-23-1120-01\tBRCA2\tL3277fs\tTRUNC\nTCGA-57-1584-01\tBRCA2\tQ1782fs\tTRUNC\nTCGA-13-0900-01\tBRCA2\tT256fs\tTRUNC\nTCGA-24-2280-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-24-0975-01\tBRCA2\tV211_splice\tTRUNC\nTCGA-24-2288-01\tBRCA2\tT219fs\tTRUNC\nTCGA-24-1417-01\tBRCA2\tR1704fs\tTRUNC\nTCGA-13-1498-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-13-1499-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-13-0726-01\tBRCA2\tR2394*\tTRUNC\nTCGA-25-2404-01\tBRCA2\tE342fs\tTRUNC\nTCGA-13-1481-01\tBRCA2\tL2696fs\tTRUNC\nTCGA-10-0930-01\tPTEN\tV175L\tMISSENSE\nTCGA-13-1492-01\tPTEN\tR233fs\tTRUNC\nTCGA-24-0968-01\tTP53\tH193R\tMISSENSE\nTCGA-13-1505-01\tTP53\tP75fs\tTRUNC\nTCGA-04-1336-01\tTP53\tR248W\tMISSENSE\nTCGA-24-2261-01\tTP53\tY163C\tMISSENSE\nTCGA-13-0912-01\tTP53\tS261_splice\tTRUNC\nTCGA-36-1580-01\tTP53\tR273C\tMISSENSE\nTCGA-59-2352-01\tTP53\tG266V\tMISSENSE\nTCGA-25-2409-01\tTP53\tR248W\tMISSENSE\nTCGA-61-1919-01\tTP53\tI195T\tMISSENSE\nTCGA-13-0919-01\tTP53\tV157F\tMISSENSE\nTCGA-09-2051-01\tTP53\tP222fs\tTRUNC\nTCGA-09-2050-01\tTP53\tL257Q\tMISSENSE\nTCGA-25-1626-01\tTP53\tG245V\tMISSENSE\nTCGA-09-2049-01\tTP53\tG245S\tMISSENSE\nTCGA-24-1417-01\tTP53\tR248W\tMISSENSE\nTCGA-24-1422-01\tTP53\tR248W\tMISSENSE\nTCGA-13-0924-01\tTP53\tF270L\tMISSENSE\nTCGA-61-2109-01\tTP53\tR306fs\tTRUNC\nTCGA-24-1416-01\tTP53\tR282W\tMISSENSE\nTCGA-24-1564-01\tTP53\tG187_splice\tTRUNC\nTCGA-61-2088-01\tTP53\tMCN237del\tINFRAME\nTCGA-10-0934-01\tTP53\tR248Q\tMISSENSE\nTCGA-61-2003-01\tTP53\tR175H\tMISSENSE\nTCGA-10-0934-01\tTP53\tR273H\tMISSENSE\nTCGA-09-1666-01\tTP53\tY126_splice\tTRUNC\nTCGA-13-0714-01\tTP53\tS127F\tMISSENSE\nTCGA-13-1510-01\tTP53\tR213*\tTRUNC\nTCGA-36-1576-01\tTP53\tR337fs\tTRUNC\nTCGA-25-1329-01\tTP53\tP47fs\tTRUNC\nTCGA-13-1481-01\tTP53\tP177R\tMISSENSE\nTCGA-04-1337-01\tTP53\tC135R\tMISSENSE\nTCGA-24-1428-01\tTP53\tI195N\tMISSENSE\nTCGA-24-1567-01\tTP53\tR282W\tMISSENSE\nTCGA-04-1332-01\tTP53\tR181P\tMISSENSE\nTCGA-04-1349-01\tTP53\tS241F\tMISSENSE\nTCGA-61-2008-01\tTP53\tG117fs\tTRUNC\nTCGA-13-0791-01\tTP53\tR273L\tMISSENSE\nTCGA-09-1669-01\tTP53\tQ331_splice\tTRUNC\nTCGA-24-2019-01\tTP53\tI232N\tMISSENSE\nTCGA-24-1425-01\tTP53\tY234C\tMISSENSE\nTCGA-24-1423-01\tTP53\tP191del\tINFRAME\nTCGA-10-0926-01\tTP53\tY163C\tMISSENSE\nTCGA-13-0760-01\tTP53\tL265P\tMISSENSE\nTCGA-24-1556-01\tTP53\tA307_splice\tTRUNC\nTCGA-24-1558-01\tTP53\tR273H\tMISSENSE\nTCGA-25-2404-01\tTP53\tH214R\tMISSENSE\nTCGA-24-1616-01\tTP53\tY236C\tMISSENSE\nTCGA-13-0720-01\tTP53\tA159V\tMISSENSE\nTCGA-24-2280-01\tTP53\tQ192*\tTRUNC\nTCGA-13-0793-01\tTP53\tC124fs\tTRUNC\nTCGA-24-1604-01\tTP53\tA307_splice\tTRUNC\nTCGA-09-1659-01\tTP53\tE294*\tTRUNC\nTCGA-24-1413-01\tTP53\tE198*\tTRUNC\nTCGA-09-1662-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-0724-01\tTP53\tV157F\tMISSENSE\nTCGA-24-2030-01\tTP53\tG187_splice\tTRUNC\nTCGA-13-1484-01\tTP53\tY234N\tMISSENSE\nTCGA-24-2254-01\tTP53\tS241F\tMISSENSE\nTCGA-61-2101-01\tTP53\tP85fs\tTRUNC\nTCGA-09-0366-01\tTP53\tK132N\tMISSENSE\nTCGA-04-1365-01\tTP53\tY126_splice\tTRUNC\nTCGA-09-2053-01\tTP53\tY163H\tMISSENSE\nTCGA-24-2024-01\tTP53\tV272M\tMISSENSE\nTCGA-23-1120-01\tTP53\tR110L\tMISSENSE\nTCGA-24-0970-01\tTP53\tG187_splice\tTRUNC\nTCGA-13-1489-01\tTP53\tR342*\tTRUNC\nTCGA-24-1103-01\tTP53\tA307_splice\tTRUNC\nTCGA-57-1993-01\tTP53\tR248Q\tMISSENSE\nTCGA-25-1322-01\tTP53\tY205C\tMISSENSE\nTCGA-13-0751-01\tTP53\tL348fs\tTRUNC\nTCGA-04-1356-01\tTP53\tY220C\tMISSENSE\nTCGA-10-0928-01\tTP53\tG105S\tMISSENSE\nTCGA-23-2077-01\tTP53\tR175H\tMISSENSE\nTCGA-13-0890-01\tTP53\tY126_splice\tTRUNC\nTCGA-04-1525-01\tTP53\tR282fs\tTRUNC\nTCGA-23-1022-01\tTP53\tK164E\tMISSENSE\nTCGA-13-0905-01\tTP53\tR273P\tMISSENSE\nTCGA-30-1862-01\tTP53\tE224_splice\tTRUNC\nTCGA-13-0765-01\tTP53\tAMP64_264L>LSSGNL\tINFRAME\nTCGA-31-1953-01\tTP53\tV97fs\tTRUNC\nTCGA-04-1514-01\tTP53\tY126_splice\tTRUNC\nTCGA-13-1509-01\tTP53\tL330fs\tTRUNC\nTCGA-24-1419-01\tTP53\tR248Q\tMISSENSE\nTCGA-25-1321-01\tTP53\tR273C\tMISSENSE\nTCGA-20-0987-01\tTP53\tG105R\tMISSENSE\nTCGA-23-1024-01\tTP53\tG108fs\tTRUNC\nTCGA-24-2290-01\tTP53\tV274G\tMISSENSE\nTCGA-23-1124-01\tTP53\tR156P\tMISSENSE\nTCGA-61-2094-01\tTP53\tL130V\tMISSENSE\nTCGA-25-1625-01\tTP53\tV216M\tMISSENSE\nTCGA-61-1736-01\tTP53\tG245R\tMISSENSE\nTCGA-13-0800-01\tTP53\tK132M\tMISSENSE\nTCGA-24-1555-01\tTP53\tH179Q\tMISSENSE\nTCGA-25-2391-01\tTP53\tE51fs\tTRUNC\nTCGA-24-1434-01\tTP53\tL344fs\tTRUNC\nTCGA-04-1517-01\tTP53\tR65*\tTRUNC\nTCGA-09-1661-01\tTP53\tG187_splice\tTRUNC\nTCGA-61-1995-01\tTP53\tC238Y\tMISSENSE\nTCGA-31-1959-01\tTP53\tC238F\tMISSENSE\nTCGA-24-1614-01\tTP53\tV157F\tMISSENSE\nTCGA-36-1569-01\tTP53\tW53*\tTRUNC\nTCGA-24-2271-01\tTP53\tK321*\tTRUNC\nTCGA-23-1123-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-1507-01\tTP53\tT140fs\tTRUNC\nTCGA-13-0913-01\tTP53\tP278R\tMISSENSE\nTCGA-13-0899-01\tTP53\tQ317*\tTRUNC\nTCGA-23-1110-01\tTP53\tC176Y\tMISSENSE\nTCGA-25-1319-01\tTP53\tY220C\tMISSENSE\nTCGA-24-1548-01\tTP53\tY220C\tMISSENSE\nTCGA-13-0910-01\tTP53\tC275Y\tMISSENSE\nTCGA-04-1346-01\tTP53\tH179R\tMISSENSE\nTCGA-04-1350-01\tTP53\tH179R\tMISSENSE\nTCGA-25-1326-01\tTP53\tE286K\tMISSENSE\nTCGA-24-1549-01\tTP53\tV225_splice\tTRUNC\nTCGA-13-0891-01\tTP53\tY220C\tMISSENSE\nTCGA-10-0931-01\tTP53\tQ136*\tTRUNC\nTCGA-13-1411-01\tTP53\tC277F\tMISSENSE\nTCGA-13-1498-01\tTP53\tI332_splice\tTRUNC\nTCGA-24-2260-01\tTP53\tR248Q\tMISSENSE\nTCGA-23-1030-01\tTP53\tR175H\tMISSENSE\nTCGA-04-1342-01\tTP53\tN288fs\tTRUNC\nTCGA-13-0723-01\tTP53\tT150fs\tTRUNC\nTCGA-24-2289-01\tTP53\tR196*\tTRUNC\nTCGA-61-1728-01\tTP53\tY220C\tMISSENSE\nTCGA-13-0883-01\tTP53\tC238fs\tTRUNC\nTCGA-23-1026-01\tTP53\tK132R\tMISSENSE\nTCGA-61-2097-01\tTP53\tR342*\tTRUNC\nTCGA-59-2354-01\tTP53\tY220C\tMISSENSE\nTCGA-59-2350-01\tTP53\tY220C\tMISSENSE\nTCGA-59-2363-01\tTP53\tY220C\tMISSENSE\nTCGA-23-1122-01\tTP53\tR175H\tMISSENSE\nTCGA-13-0887-01\tTP53\tR213*\tTRUNC\nTCGA-13-0762-01\tTP53\tH193R\tMISSENSE\nTCGA-59-2351-01\tTP53\tT140fs\tTRUNC\nTCGA-25-2398-01\tTP53\t154_154G>GTDSTPPPG\tINFRAME\nTCGA-25-1315-01\tTP53\tR273H\tMISSENSE\nTCGA-24-2298-01\tTP53\tV225_splice\tTRUNC\nTCGA-13-1497-01\tTP53\tR333fs\tTRUNC\nTCGA-13-0792-01\tTP53\tC238fs\tTRUNC\nTCGA-13-0903-01\tTP53\tY205C\tMISSENSE\nTCGA-30-1853-01\tTP53\tG245D\tMISSENSE\nTCGA-57-1582-01\tTP53\tY236C\tMISSENSE\nTCGA-24-0966-01\tTP53\tG245V\tMISSENSE\nTCGA-24-1557-01\tTP53\tY126_splice\tTRUNC\nTCGA-59-2355-01\tTP53\tQ331_splice\tTRUNC\nTCGA-23-1023-01\tTP53\tD281G\tMISSENSE\nTCGA-10-0927-01\tTP53\tP36fs\tTRUNC\nTCGA-09-2044-01\tTP53\tG187_splice\tTRUNC\nTCGA-13-0906-01\tTP53\tF134V\tMISSENSE\nTCGA-25-1627-01\tTP53\tY220C\tMISSENSE\nTCGA-13-1482-01\tTP53\tR280I\tMISSENSE\nTCGA-24-2281-01\tTP53\tR175H\tMISSENSE\nTCGA-13-0889-01\tTP53\tR273C\tMISSENSE\nTCGA-24-1562-01\tTP53\tS33_splice\tTRUNC\nTCGA-13-1488-01\tTP53\tR306*\tTRUNC\nTCGA-61-2016-01\tTP53\tE204*\tTRUNC\nTCGA-04-1362-01\tTP53\tV225_splice\tTRUNC\nTCGA-13-0717-01\tTP53\tAMP44_246GGM>V\tINFRAME\nTCGA-61-2104-01\tTP53\tY163N\tMISSENSE\nTCGA-13-0885-01\tTP53\tW146*\tTRUNC\nTCGA-24-2288-01\tTP53\tP250L\tMISSENSE\nTCGA-13-0726-01\tTP53\tR282W\tMISSENSE\nTCGA-10-0938-01\tTP53\tQ331_splice\tTRUNC\nTCGA-24-2035-01\tTP53\tS315fs\tTRUNC\nTCGA-13-1492-01\tTP53\tG187_splice\tTRUNC\nTCGA-24-1105-01\tTP53\tV157F\tMISSENSE\nTCGA-13-1494-01\tTP53\tG105C\tMISSENSE\nTCGA-24-0979-01\tTP53\tR248Q\tMISSENSE\nTCGA-04-1361-01\tTP53\tY234C\tMISSENSE\nTCGA-25-1628-01\tTP53\tE51*\tTRUNC\nTCGA-13-1491-01\tTP53\tC275Y\tMISSENSE\nTCGA-25-1635-01\tTP53\tD259Y\tMISSENSE\nTCGA-13-1506-01\tTP53\tM66fs\tTRUNC\nTCGA-24-1560-01\tTP53\tG244C\tMISSENSE\nTCGA-13-1410-01\tTP53\tL130fs\tTRUNC\nTCGA-13-0804-01\tTP53\tR273H\tMISSENSE\nTCGA-24-1464-01\tTP53\tN239S\tMISSENSE\nTCGA-10-0935-01\tTP53\tG187_splice\tTRUNC\nTCGA-23-1032-01\tTP53\tR248Q\tMISSENSE\nTCGA-25-1630-01\tTP53\tV173L\tMISSENSE\nTCGA-61-2012-01\tTP53\tY220C\tMISSENSE\nTCGA-36-1568-01\tTP53\tG245S\tMISSENSE\nTCGA-23-2072-01\tTP53\tQ331_splice\tTRUNC\nTCGA-13-1487-01\tTP53\tM237K\tMISSENSE\nTCGA-24-1426-01\tTP53\tR273C\tMISSENSE\nTCGA-24-1470-01\tTP53\tS260fs\tTRUNC\nTCGA-13-0920-01\tTP53\tQ100*\tTRUNC\nTCGA-13-0761-01\tTP53\tR273H\tMISSENSE\nTCGA-25-1320-01\tTP53\tC124fs\tTRUNC\nTCGA-23-1021-01\tTP53\tA159V\tMISSENSE\nTCGA-04-1348-01\tTP53\tG266R\tMISSENSE\nTCGA-23-1027-01\tTP53\tE198*\tTRUNC\nTCGA-04-1338-01\tTP53\tG245S\tMISSENSE\nTCGA-23-1117-01\tTP53\tQ144fs\tTRUNC\nTCGA-36-1578-01\tTP53\tR273H\tMISSENSE\nTCGA-36-1575-01\tTP53\tR273H\tMISSENSE\nTCGA-36-1574-01\tTP53\tR273H\tMISSENSE\nTCGA-25-2399-01\tTP53\tR175H\tMISSENSE\nTCGA-25-1634-01\tTP53\tA70fs\tTRUNC\nTCGA-30-1891-01\tTP53\tL194R\tMISSENSE\nTCGA-36-1577-01\tTP53\tE224_splice\tTRUNC\nTCGA-13-0900-01\tTP53\tR273H\tMISSENSE\nTCGA-24-1466-01\tTP53\tR249G\tMISSENSE\nTCGA-61-2092-01\tTP53\tD208V\tMISSENSE\nTCGA-04-1347-01\tTP53\tS215R\tMISSENSE\nTCGA-20-0990-01\tTP53\tQ144*\tTRUNC\nTCGA-13-1499-01\tTP53\tR273C\tMISSENSE\nTCGA-24-1104-01\tTP53\tI195T\tMISSENSE\nTCGA-24-1418-01\tTP53\tS227fs\tTRUNC\nTCGA-57-1583-01\tTP53\tC229fs\tTRUNC\nTCGA-29-2427-01\tTP53\tG244D\tMISSENSE\nTCGA-13-1499-01\tTP53\tR248Q\tMISSENSE\nTCGA-13-0795-01\tTP53\tC135Y\tMISSENSE\nTCGA-13-1496-01\tTP53\tR248Q\tMISSENSE\nTCGA-09-2045-01\tTP53\tH179R\tMISSENSE\nTCGA-23-2081-01\tTP53\tG262V\tMISSENSE\nTCGA-24-1474-01\tTP53\tQ192*\tTRUNC\nTCGA-25-1623-01\tTP53\tR282W\tMISSENSE\nTCGA-24-1551-01\tTP53\tR248W\tMISSENSE\nTCGA-24-1431-01\tTP53\tQ192*\tTRUNC\nTCGA-13-2060-01\tTP53\tH179R\tMISSENSE\nTCGA-25-1631-01\tTP53\tT125_splice\tTRUNC\nTCGA-13-0893-01\tTP53\tG245D\tMISSENSE\nTCGA-13-1495-01\tTP53\tI195F\tMISSENSE\nTCGA-24-1603-01\tTP53\tS315fs\tTRUNC\nTCGA-04-1530-01\tTP53\tR273H\tMISSENSE\nTCGA-04-1542-01\tTP53\tR273H\tMISSENSE\nTCGA-24-1471-01\tTP53\tE271*\tTRUNC\nTCGA-61-2102-01\tTP53\tG266R\tMISSENSE\nTCGA-24-1469-01\tTP53\tI195T\tMISSENSE\nTCGA-57-1584-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-1407-01\tTP53\tF109C\tMISSENSE\nTCGA-13-1512-01\tTP53\tR273L\tMISSENSE\nTCGA-23-1028-01\tTP53\tP250L\tMISSENSE\nTCGA-13-0894-01\tTP53\tH193Y\tMISSENSE\nTCGA-13-1409-01\tTP53\tS261_splice\tTRUNC\nTCGA-24-0982-01\tTP53\tR248W\tMISSENSE\nTCGA-36-1570-01\tTP53\tR248fs\tTRUNC\nTCGA-13-0730-01\tTP53\tH178fs\tTRUNC\nTCGA-61-2000-01\tTP53\tK132E\tMISSENSE\nTCGA-61-2110-01\tTP53\tS127Y\tMISSENSE\nTCGA-31-1950-01\tTP53\tI195T\tMISSENSE\nTCGA-24-1424-01\tTP53\tI195T\tMISSENSE\nTCGA-25-1632-01\tTP53\tR248G\tMISSENSE\nTCGA-24-1427-01\tTP53\tV272fs\tTRUNC\nTCGA-61-1998-01\tTP53\tS215R\tMISSENSE\nTCGA-13-0904-01\tTP53\tG279E\tMISSENSE\nTCGA-13-0923-01\tTP53\tG187_splice\tTRUNC\nTCGA-24-1563-01\tTP53\tI195T\tMISSENSE\nTCGA-13-1504-01\tTP53\tI251S\tMISSENSE\nTCGA-25-1324-01\tTP53\tY126_splice\tTRUNC\nTCGA-13-0897-01\tTP53\tR283fs\tTRUNC\nTCGA-04-1331-01\tTP53\tR306*\tTRUNC\nTCGA-10-0937-01\tTP53\tR282W\tMISSENSE\nTCGA-13-1405-01\tTP53\tR196*\tTRUNC\nTCGA-04-1364-01\tTP53\tR248Q\tMISSENSE\nTCGA-20-0991-01\tTP53\tS241F\tMISSENSE\nTCGA-24-2267-01\tTP53\tT284fs\tTRUNC\nTCGA-13-1404-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-0911-01\tTP53\tL43fs\tTRUNC\nTCGA-25-1313-01\tTP53\tL145R\tMISSENSE\nTCGA-36-1571-01\tTP53\tR337C\tMISSENSE\nTCGA-13-0884-01\tTP53\tR342*\tTRUNC\nTCGA-23-2078-01\tTP53\tT256del\tINFRAME\nTCGA-13-1412-01\tTP53\tM237I\tMISSENSE\nTCGA-24-1545-01\tTP53\tS241Y\tMISSENSE\nTCGA-25-2401-01\tTP53\tL194R\tMISSENSE\nTCGA-24-1436-01\tTP53\tQ331_splice\tTRUNC\nTCGA-25-2400-01\tTP53\tE224_splice\tTRUNC\nTCGA-04-1357-01\tTP53\tP223fs\tTRUNC\nTCGA-13-1403-01\tTP53\tT125_splice\tTRUNC\nTCGA-13-0886-01\tTP53\tV272M\tMISSENSE\nTCGA-25-1318-01\tTP53\tR175H\tMISSENSE\nTCGA-23-1116-01\tTP53\tS261_splice\tTRUNC\nTCGA-10-0925-01\nTCGA-10-0926-01\nTCGA-10-0927-01\nTCGA-10-0928-01\nTCGA-10-0930-01\nTCGA-10-0931-01\nTCGA-10-0933-01\nTCGA-10-0934-01\nTCGA-20-1684-01\nTCGA-20-1685-01\nTCGA-20-1686-01\nTCGA-20-1687-01\nTCGA-23-1021-01\nTCGA-23-1022-01\nTCGA-23-1023-01\nTCGA-23-1024-01\nTCGA-23-1026-01\nTCGA-23-1027-01\nTCGA-23-1028-01\nTCGA-23-1029-01\nTCGA-23-1030-01\nTCGA-23-1031-01\nTCGA-23-1032-01\nTCGA-23-1107-01\nTCGA-23-1109-01\nTCGA-23-1110-01\nTCGA-23-1111-01\nTCGA-23-1113-01\nTCGA-23-1114-01\nTCGA-23-1116-01\nTCGA-23-1117-01\nTCGA-23-1118-01\nTCGA-23-1119-01\nTCGA-23-1120-01\nTCGA-23-1121-01\nTCGA-23-1122-01\nTCGA-23-1123-01\nTCGA-23-1124-01\nTCGA-23-1809-01\nTCGA-23-2072-01\nTCGA-23-2077-01\nTCGA-23-2078-01\nTCGA-23-2079-01\nTCGA-23-2081-01\nTCGA-23-2084-01\nTCGA-23-2641-01\nTCGA-23-2643-01\nTCGA-23-2645-01\nTCGA-23-2647-01\nTCGA-23-2649-01\nTCGA-24-0966-01\nTCGA-24-0968-01\nTCGA-24-0970-01\nTCGA-24-0975-01\nTCGA-24-0979-01\nTCGA-24-0980-01\nTCGA-24-0981-01\nTCGA-24-0982-01\nTCGA-24-1103-01\nTCGA-24-1104-01\nTCGA-24-1105-01\nTCGA-24-1413-01\nTCGA-24-1416-01\nTCGA-24-1417-01\nTCGA-24-1418-01\nTCGA-24-1419-01\nTCGA-24-1422-01\nTCGA-24-1423-01\nTCGA-24-1424-01\nTCGA-24-1425-01\nTCGA-24-1426-01\nTCGA-24-1427-01\nTCGA-24-1428-01\nTCGA-24-1430-01\nTCGA-24-1431-01\nTCGA-24-1434-01\nTCGA-24-1435-01\nTCGA-24-1436-01\nTCGA-24-1463-01\nTCGA-24-1464-01\nTCGA-24-1466-01\nTCGA-24-1467-01\nTCGA-24-1469-01\nTCGA-24-1470-01\nTCGA-24-1471-01\nTCGA-24-1474-01\nTCGA-24-1544-01\nTCGA-24-1545-01\nTCGA-24-1546-01\nTCGA-24-1548-01\nTCGA-24-1549-01\nTCGA-24-1550-01\nTCGA-24-1551-01\nTCGA-24-1552-01\nTCGA-24-1553-01\nTCGA-24-1555-01\nTCGA-24-1556-01\nTCGA-24-1557-01\nTCGA-24-1558-01\nTCGA-24-1560-01\nTCGA-24-1562-01\nTCGA-24-1563-01\nTCGA-24-1564-01\nTCGA-24-1565-01\nTCGA-24-1567-01\nTCGA-24-1603-01\nTCGA-24-1604-01\nTCGA-24-1614-01\nTCGA-24-1616-01\nTCGA-24-1842-01\nTCGA-24-1843-01\nTCGA-24-1844-01\nTCGA-24-1845-01\nTCGA-24-1846-01\nTCGA-24-1847-01\nTCGA-24-1849-01\nTCGA-24-1850-01\nTCGA-24-1852-01\nTCGA-24-1920-01\nTCGA-24-1923-01\nTCGA-24-1924-01\nTCGA-24-1927-01\nTCGA-24-1928-01\nTCGA-24-1930-01\nTCGA-24-2019-01\nTCGA-24-2020-01\nTCGA-24-2023-01\nTCGA-24-2024-01\nTCGA-24-2026-01\nTCGA-24-2027-01\nTCGA-24-2029-01\nTCGA-24-2030-01\nTCGA-24-2033-01\nTCGA-24-2035-01\nTCGA-24-2036-01\nTCGA-24-2038-01\nTCGA-24-2254-01\nTCGA-24-2260-01\nTCGA-24-2261-01\nTCGA-24-2262-01\nTCGA-24-2267-01\nTCGA-24-2271-01\nTCGA-24-2280-01\nTCGA-24-2281-01\nTCGA-24-2288-01\nTCGA-24-2289-01\nTCGA-24-2290-01\nTCGA-24-2293-01\nTCGA-24-2295-01\nTCGA-24-2297-01\nTCGA-24-2298-01\nTCGA-25-1312-01\nTCGA-25-1313-01\nTCGA-25-1314-01\nTCGA-25-1315-01\nTCGA-25-1316-01\nTCGA-25-1317-01\nTCGA-25-1318-01\nTCGA-25-1319-01\nTCGA-25-1320-01\nTCGA-25-1321-01\nTCGA-25-1322-01\nTCGA-25-1323-01\nTCGA-25-1324-01\nTCGA-25-1325-01\nTCGA-25-1326-01\nTCGA-25-1328-01\nTCGA-25-1329-01\nTCGA-25-1623-01\nTCGA-25-1625-01\nTCGA-25-1626-01\nTCGA-25-1627-01\nTCGA-25-1628-01\nTCGA-25-1630-01\nTCGA-25-1631-01\nTCGA-25-1632-01\nTCGA-25-1633-01\nTCGA-25-1634-01\nTCGA-25-1635-01\nTCGA-25-1870-01\nTCGA-25-1871-01\nTCGA-25-1877-01\nTCGA-25-1878-01\nTCGA-25-2042-01\nTCGA-25-2390-01\nTCGA-25-2391-01\nTCGA-25-2396-01\nTCGA-25-2397-01\nTCGA-25-2398-01\nTCGA-25-2399-01\nTCGA-25-2400-01\nTCGA-25-2401-01\nTCGA-25-2392-01\nTCGA-25-2393-01\n"}},{key:"populateClinicalExampleData",value:function(){this.clinicalDataInput=J}},{key:"onGeneticDataInputChange",value:function(e){this.geneticDataInput=e.currentTarget.value}},{key:"onClinicalDataInputChange",value:function(e){this.clinicalDataInput=e.currentTarget.value}},{key:"onGeneOrderInputChange",value:function(e){this.geneOrderInput=e.currentTarget.value}},{key:"onSampleOrderInputChange",value:function(e){this.sampleOrderInput=e.currentTarget.value}},{key:"doSubmit",value:function(e,t){this.store.setInput(e,t,this.geneOrderInput,this.sampleOrderInput),0===this.store.parseErrors.length&&(this.dataInputOpened=!1)}},{key:"geneticFileInputRef",value:function(e){this.geneticFileInput=e}},{key:"clinicalFileInputRef",value:function(e){this.clinicalFileInput=e}},{key:"getGeneticDataForSubmission",value:function(){return te(this.geneticFileInput,this.geneticDataInput)}},{key:"getClinicalDataForSubmission",value:function(){return te(this.clinicalFileInput,this.clinicalDataInput)}},{key:"onClickSubmit",value:function(){return de(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGeneticDataForSubmission();case 2:return t=e.sent,e.next=5,this.getClinicalDataForSubmission();case 5:n=e.sent,this.doSubmit(t,n);case 7:case"end":return e.stop()}},e,this)}))}},{key:"getHelpSection",value:function(){return r.createElement("div",{style:{marginBottom:7}},r.createElement("span",null,"Please input"," ",r.createElement("strong",null,"tab-delimited or space-delimited")," data."),r.createElement(X.Button,{style:{marginLeft:7},bsStyle:"primary",bsSize:"small",onClick:this.toggleHelpOpened},"".concat(this.helpOpened?"Close":"Open"," data format help")),r.createElement(Z.Collapse,{isOpened:this.helpOpened},fe))}},{key:"getInputSection",value:function(){return r.createElement(X.FormGroup,{style:{display:this.dataInputOpened?void 0:"none"}},r.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.createElement("div",{style:{width:"45%"}},r.createElement(X.ControlLabel,{style:{marginBottom:7}},"Input genomic alteration data (optional):",r.createElement(X.Button,{className:"oncoprinterGeneticExampleData",style:{marginLeft:7},bsStyle:"primary",bsSize:"small",onClick:this.populateGeneticExampleData},"Load example data")),r.createElement(X.FormControl,{className:"oncoprinterGeneticDataInput",componentClass:"textarea",value:this.geneticDataInput,placeholder:"Enter data here...",onChange:this.onGeneticDataInputChange,style:{height:200,width:"100%"}}),r.createElement(X.ControlLabel,null,"or input data from file:"),r.createElement("input",{ref:this.geneticFileInputRef,type:"file"})),r.createElement("div",{style:{width:"45%"}},r.createElement(X.ControlLabel,{style:{marginBottom:7}},"Input clinical data (optional):",r.createElement(X.Button,{className:"oncoprinterClinicalExampleData",style:{marginLeft:7},bsStyle:"primary",bsSize:"small",onClick:this.populateClinicalExampleData},"Load example data")),r.createElement(X.FormControl,{className:"oncoprinterClinicalDataInput",componentClass:"textarea",value:this.clinicalDataInput,placeholder:"Enter data here...",onChange:this.onClinicalDataInputChange,style:{height:200,width:"100%"}}),r.createElement(X.ControlLabel,null,"or input data from file:"),r.createElement("input",{ref:this.clinicalFileInputRef,type:"file"}))),r.createElement("br",null),r.createElement(X.ControlLabel,null,"Please define the order of genes (optional):"),r.createElement(X.FormControl,{className:"oncoprinterGenesInput",componentClass:"textarea",value:this.geneOrderInput,placeholder:"Enter genes here, comma- or whitespace-delimited...",onChange:this.onGeneOrderInputChange,style:{height:35,width:475}}),r.createElement("br",null),r.createElement(X.ControlLabel,null,"Please define the order of samples (optional):"),r.createElement(X.FormControl,{className:"oncoprinterSamplesInput",componentClass:"textarea",value:this.sampleOrderInput,placeholder:"Enter samples here, comma- or whitespace-delimited...",onChange:this.onSampleOrderInputChange,style:{height:35,width:475}}),r.createElement("br",null),r.createElement(X.Button,{className:"oncoprinterSubmit",bsSize:"large",bsStyle:"primary",disabled:0===this.geneticDataInput.trim().length&&0===this.clinicalDataInput.trim().length,onClick:this.onClickSubmit,style:{marginBottom:20}},"Submit"),this.store.parseErrors.length>0&&r.createElement("div",{className:"alert alert-danger",style:{marginTop:5,whiteSpace:"pre-wrap"}},this.store.parseErrors.map(function(e){return r.createElement("div",null,e)})))}},{key:"render",value:function(){var e=this,t=this.store.hugoGeneSymbols.length*this.store.sampleIds.length;return r.createElement(a.a,{className:"whiteBackground staticPage"},r.createElement(i.Helmet,null,r.createElement("title",null,"cBioPortal for Cancer Genomics::Oncoprinter")),r.createElement("div",{className:"cbioportal-frontend"},r.createElement("h1",{style:{display:"inline",marginRight:10}},"Oncoprinter")," ","Generate Oncoprints and perform mutual exclusivity analysis from your own data.",r.createElement("br",null),r.createElement("br",null),r.createElement(o.Observer,null,this.getHelpSection),r.createElement(o.Observer,null,this.getInputSection),!this.dataInputOpened&&r.createElement("button",{className:"btn btn-primary btn-lg oncoprinterModifyInput",style:{paddingLeft:50,paddingRight:50,marginBottom:15},onClick:function(){e.dataInputOpened=!0}},"Modify Input"),r.createElement("div",{style:{display:this.store.hasData()&&!this.store.parseErrors.length?"block":"none"}},r.createElement($.b,{activeTabId:this.activeTabId,unmountOnHide:!1,onTabClick:function(t){e.activeTabId=t},className:"mainTabs"},r.createElement($.a,{key:0,id:ce.ONCOPRINT,linkText:"Oncoprint"},t>1e5&&r.createElement("div",{className:"alert alert-warning"},"Warning: Because your inputted data is very large, the Oncoprinter may be slow, and downloaded PDF, SVG, and PNG may be huge and unresponsive. We recommend plotting data for fewer genes at a time."),r.createElement("div",{style:{marginTop:10}},r.createElement(Y,{divId:"oncoprinter",store:this.store}))),r.createElement($.a,{key:1,id:ce.MUTUAL_EXCLUSIVITY,linkText:"Mutual Exclusivity"},r.createElement(ee.a,{isSampleAlteredMap:this.store.isSampleAlteredMap}))))))}}])&&ie(n.prototype,u),l&&ie(n,l),t}();pe([u.observable],he.prototype,"activeTabId",void 0),pe([u.observable],he.prototype,"dataInputOpened",void 0),pe([u.observable],he.prototype,"helpOpened",void 0),pe([u.observable],he.prototype,"geneticDataInput",void 0),pe([u.observable],he.prototype,"clinicalDataInput",void 0),pe([u.observable],he.prototype,"geneOrderInput",void 0),pe([u.observable],he.prototype,"sampleOrderInput",void 0),pe([M.default],he.prototype,"toggleHelpOpened",null),pe([M.default],he.prototype,"populateGeneticExampleData",null),pe([M.default],he.prototype,"populateClinicalExampleData",null),pe([M.default],he.prototype,"onGeneticDataInputChange",null),pe([M.default],he.prototype,"onClinicalDataInputChange",null),pe([M.default],he.prototype,"onGeneOrderInputChange",null),pe([M.default],he.prototype,"onSampleOrderInputChange",null),pe([u.action],he.prototype,"doSubmit",null),pe([M.default],he.prototype,"geneticFileInputRef",null),pe([M.default],he.prototype,"clinicalFileInputRef",null),pe([M.default],he.prototype,"getGeneticDataForSubmission",null),pe([M.default],he.prototype,"getClinicalDataForSubmission",null),pe([M.default,u.action],he.prototype,"onClickSubmit",null),pe([M.default],he.prototype,"getHelpSection",null),pe([M.default],he.prototype,"getInputSection",null),he=pe([o.observer],he);t.default=he},570:function(e,t,n){"use strict";var r=n(178),o=n(2),i=n(3),a=n(22),u=n(33),l=n(66),s=n(679),c=n(634),p=n(635),d=n(713),f=n(637),h=n(638),m=n(702),y=n(572),v=n(102),g=n(680),b=n(636),S=n(712);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e){function t(e,n,r,o,a,u,s,c,p,d,f,h,m,v,g,b,S,T,A,E,O,_){var w,k,M;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k=this,M=C(t).call(this,e,n,r,u,S,T,a,A,O,_),(w=!M||"object"!==I(M)&&"function"!=typeof M?P(k):M).mutationMapperConfig=e,w.mutationMapperStoreConfig=n,w.gene=r,w.samples=o,w.oncoKbCancerGenes=a,w.getMutationCountCache=s,w.getGenomeNexusCache=c,w.getGenomeNexusMutationAssessorCache=p,w.getDiscreteCNACache=d,w.studyToMolecularProfileDiscrete=f,w.studyIdToStudy=h,w.molecularProfileIdToMolecularProfile=m,w.clinicalDataForSamples=v,w.studiesForSamplesWithoutCancerTypeClinicalData=g,w.germlineConsentedSamples=b,w.indexedHotspotData=S,w.indexedVariantAnnotations=T,w.uniqueSampleKeyToTumorType=A,w.generateGenomeNexusHgvsgUrl=E,w.genomenexusClient=O,w.genomenexusInternalClient=_,w.cosmicData=Object(i.S)({await:function(){return[w.mutationData]},invoke:function(){return Object(y.m)(w.mutationData)}}),Object(l.labelMobxPromises)(P(w)),w}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,S["a"]),n=t,(r=[{key:"downloadDataFetcher",get:function(){return new b.a(this.mutationData,this.studyToMolecularProfileDiscrete,this.getGenomeNexusCache,this.getGenomeNexusMutationAssessorCache,this.getMutationCountCache,this.getDiscreteCNACache)}}])&&T(n.prototype,r),o&&T(n,o),t}();E([l.cached],O.prototype,"downloadDataFetcher",null);var _=n(6),w=n(4),k=n.n(w),M=n(654),G=n(571);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function L(e,t){return"".concat(t)}function B(e){return"".concat(e.entrezGeneId)}function F(e,t,n){return j(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,u,l,s,c,p,d,f,h,m,y,v,g;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Object.keys(t),o.next=3,Promise.all(i.map(function(o){var i=n[o],a=t[o],u=e.map(function(e){return e.entrezGeneId});return i&&a&&u.length>0?r.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:a.molecularProfileId,mutationFilter:Object.assign(Object.assign({},i),{entrezGeneIds:u}),projection:"DETAILED"}):Promise.resolve([])}));case 3:for(a=o.sent,u=k.a.keyBy(e,function(e){return e.entrezGeneId}),l=k.a.values(k.a.groupBy(k.a.flatten(a),"entrezGeneId")),s=[],c=!0,p=!1,d=void 0,o.prev=10,f=l[Symbol.iterator]();!(c=(h=f.next()).done);c=!0)(m=h.value).length&&(s.push({meta:m[0].entrezGeneId,data:[m]}),delete u[m[0].entrezGeneId]);o.next=18;break;case 14:o.prev=14,o.t0=o.catch(10),p=!0,d=o.t0;case 18:o.prev=18,o.prev=19,c||null==f.return||f.return();case 21:if(o.prev=21,!p){o.next=24;break}throw d;case 24:return o.finish(21);case 25:return o.finish(18);case 26:for(y=0,v=Object.keys(u);y<v.length;y++)g=v[y],s.push({meta:parseInt(g,10),data:[]});return o.abrupt("return",s);case 28:case"end":return o.stop()}},o,null,[[10,14,18,26],[19,,21,25]])}))}var q=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,R(t).call(this,B,L,F,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,G["a"]),t}(),U=n(598),V=n(588);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function Y(e){return"".concat(e.molecularProfileId,"~").concat(e.entrezGeneId)}function X(e,t){return"".concat(t.molecularProfileId,"~").concat(t.entrezGeneId)}function Z(e,t){return Q(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,a,u,l,s,c,p,d,f,h,m,y,v,g,b,S,T,C,P,A,I;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=k.a.mapValues(k.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.entrezGeneId})}),i=Object.keys(o).map(function(e){return{molecularProfileId:e,molecularDataFilter:Object.assign({entrezGeneIds:o[e]},t[e])}}),n.next=4,Promise.all(i.map(function(e){return r.a.fetchAllMolecularDataInMolecularProfileUsingPOST(e)}));case 4:for(a=n.sent,u={},l=!0,s=!1,c=void 0,n.prev=9,p=e[Symbol.iterator]();!(l=(d=p.next()).done);l=!0)f=d.value,u[Y(f)]={data:[[]],meta:f};n.next=17;break;case 13:n.prev=13,n.t0=n.catch(9),s=!0,c=n.t0;case 17:n.prev=17,n.prev=18,l||null==p.return||p.return();case 20:if(n.prev=20,!s){n.next=23;break}throw c;case 23:return n.finish(20);case 24:return n.finish(17);case 25:h=!0,m=!1,y=void 0,n.prev=28,v=a[Symbol.iterator]();case 30:if(h=(g=v.next()).done){n.next=54;break}for(b=g.value,S=!0,T=!1,C=void 0,n.prev=35,P=b[Symbol.iterator]();!(S=(A=P.next()).done);S=!0)I=A.value,u[Y(I)].data[0].push(I);n.next=43;break;case 39:n.prev=39,n.t1=n.catch(35),T=!0,C=n.t1;case 43:n.prev=43,n.prev=44,S||null==P.return||P.return();case 46:if(n.prev=46,!T){n.next=49;break}throw C;case 49:return n.finish(46);case 50:return n.finish(43);case 51:h=!0,n.next=30;break;case 54:n.next=60;break;case 56:n.prev=56,n.t2=n.catch(28),m=!0,y=n.t2;case 60:n.prev=60,n.prev=61,h||null==v.return||v.return();case 63:if(n.prev=63,!m){n.next=66;break}throw y;case 66:return n.finish(63);case 67:return n.finish(60);case 68:return n.abrupt("return",k.a.values(u));case 69:case"end":return n.stop()}},n,null,[[9,13,17,25],[18,,20,24],[28,56,60,68],[35,39,43,51],[44,,46,50],[61,,63,67]])}))}var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=H(this,K(t).call(this,Y,X,Z,e))).molecularProfileIdToSampleFilter=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,G["a"]),t}(),$=n(103);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function ie(e){return"".concat(e.molecularProfileId,"~").concat(e.genesetId)}function ae(e,t){return"".concat(t.molecularProfileId,"~").concat(t.genesetId)}function ue(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n[ie(l)]={data:[[]],meta:l}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,p=void 0;try{for(var d,f=t[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value,m=!0,y=!1,v=void 0;try{for(var g,b=h[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var S=g.value;n[ie({molecularProfileId:S.geneticProfileId,genesetId:S.genesetId})].data[0].push(S)}}catch(e){y=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw v}}}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}return k.a.values(n)}function le(e,t){return oe(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=k.a.mapValues(k.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.genesetId})}),o=Object.keys(r).map(function(e){return{geneticProfileId:e,genesetDataFilterCriteria:Object.assign({genesetIds:r[e]},t[e])}}),i=o.map(function(e){return $.a.fetchGeneticDataItemsUsingPOST(e)}),n.next=5,Promise.all(i);case 5:return a=n.sent,n.abrupt("return",ue(e,a));case 7:case"end":return n.stop()}},n)}))}var se=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),te(this,ne(t).call(this,ie,ae,le,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,G["a"]),t}();function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}var fe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function he(e,t){var n=e.genesetId,r=e.molecularProfileId;return fe(this,void 0,void 0,regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.assign({genesetId:n,geneticProfileId:r},t[r]),e.abrupt("return",$.a.fetchCorrelatedGenesUsingPOST(o));case 2:case"end":return e.stop()}},e)}))}var me=function(){function e(t){ce(this,e),this.stateChain=Promise.resolve(t)}return de(e,[{key:"appendTransition",value:function(e){var t=this.stateChain.then(e);return this.stateChain=t.then(function(e){return e.newState}),t.then(function(e){return e.output})}}]),e}(),ye=function(){function e(t,n){ce(this,e),this.nextGeneIndexStateChain=new me(0),this.data=void 0,this.query=t,this.sampleFilterByProfile=n}return de(e,[{key:"next",value:function(e){return fe(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.nextGeneIndexStateChain.appendTransition(function(t){return fe(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.data){n.next=4;break}return n.next=3,he(this.query,this.sampleFilterByProfile);case 3:this.data=n.sent;case 4:return r=this.data.slice(t,t+e),n.abrupt("return",{newState:t+r.length,output:r});case 6:case"end":return n.stop()}},n,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"reset",value:function(){this.nextGeneIndexStateChain.appendTransition(function(e){return Promise.resolve({newState:0,output:void 0})})}}]),e}(),ve=function(){function e(t){ce(this,e),this.iterations={},this.sampleFilterByProfile=t}return de(e,[{key:"initIteration",value:function(e,t){Object.prototype.hasOwnProperty.call(this.iterations,e)||(this.iterations[e]=new ye(t,this.sampleFilterByProfile))}},{key:"next",value:function(e,t){return fe(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.iterations[e].next(t));case 1:case"end":return n.stop()}},n,this)}))}},{key:"reset",value:function(e){this.iterations[e].reset()}}]),e}(),ge=n(604);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function Ae(e){return"".concat(e.molecularProfileId,"~").concat(e.stableId)}function Ie(e,t){return"".concat(t.molecularProfileId,"~").concat(t.stableId)}function Ee(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n[Ae(l)]={data:[[]],meta:l}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,p=void 0;try{for(var d,f=t[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value,m=!0,y=!1,v=void 0;try{for(var g,b=h[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var S=g.value;n[Ae({molecularProfileId:(S=Oe(S)).molecularProfileId,stableId:S.stableId})].data[0].push(S)}}catch(e){y=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw v}}}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}return k.a.values(n)}function Oe(e){if(!e.thresholdType){var t=/([><]?)(.+)/.exec(e.value);e.thresholdType=void 0,t&&(e.value=t[2],t[1].length>0&&(">"===t[1]?e.thresholdType=t[1]:"<"===t[1]&&(e.thresholdType=t[1])))}return e}function _e(e,t){return Pe(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=k.a.mapValues(k.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.stableId})}),n.next=3,Object(ge.b)(r,t);case 3:return o=n.sent,n.abrupt("return",Ee(e,o));case 5:case"end":return n.stop()}},n)}))}var we=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,Te(t).call(this,Ae,Ie,_e,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,G["a"]),t}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function Re(e){return e.hugoGeneSymbol.toUpperCase()}function De(e){return xe(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.map(function(e){return e.hugoGeneSymbol.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var je=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,Ge(t).call(this,Re,Re,De))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,G["a"]),t}();function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function Ve(e){return e.genesetId.toUpperCase()}function ze(e){return Ue(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.fetchGenesetsUsingPOST({genesetIds:e.map(function(e){return e.genesetId.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var He,Ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,Fe(t).call(this,Ve,Ve,ze))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,G["a"]),t}(),We=n(628),Qe=n(104),Ye=n.n(Qe),Xe=n(14),Ze=n.n(Xe),Je=n(671),$e=n(585),et=n(616),tt=n(612),nt=n(592);function rt(e,t){return w.flatMap(e,function(e){return function(e,t){var n=[];switch(t){case He.Mutation:n.push(it(e));break;case He.CNA:n.push(ot(e));break;case He.MutationAndCNA:n.push(it(e)),n.push(ot(e))}return w.compact(n)}(e,t)})}function ot(e){var t=e.filter(function(e){return e.molecularAlterationType===Nt.COPY_NUMBER_ALTERATION}).reduce(function(e,t){var n;return n=t.molecularProfileId,/GISTIC/i.test(n)?e.gistic.push(t):!function(e){return/RAE/i.test(e)}(t.molecularProfileId)?e.other.push(t):e.rae.push(t),e},{gistic:[],rae:[],other:[]});return t.gistic.length?t.gistic[0]:t.rae.length?t.rae[0]:t.other.length?w.find(t.other,function(e){return e.showProfileInAnalysisTab}):void 0}function it(e){return w.find(e,function(e){return e.molecularAlterationType===Nt.MUTATION_EXTENDED})}!function(e){e[e.MutationAndCNA=0]="MutationAndCNA",e[e.Mutation=1]="Mutation",e[e.CNA=2]="CNA"}(He||(He={}));var at,ut=n(67),lt=n(622),st=n(653),ct=n(707),pt=n(664),dt=n(658);!function(e){e.InvalidGenes="INVALID GENE SYMBOLS"}(at||(at={}));var ft,ht=n(127),mt=n(627),yt=n(577),vt=n(8),gt=n(574),bt=n(708),St=n(606),Tt=n(621),Ct=n(593),Pt=n(15),At=n(602);function It(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return Nt}),n.d(t,"c",function(){return xt}),n.d(t,"b",function(){return Rt}),n.d(t,"d",function(){return kt}),n.d(t,"e",function(){return jt});var wt,kt,Mt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_t(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Gt=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},Nt={MUTATION_EXTENDED:"MUTATION_EXTENDED",COPY_NUMBER_ALTERATION:"COPY_NUMBER_ALTERATION",MRNA_EXPRESSION:"MRNA_EXPRESSION",PROTEIN_LEVEL:"PROTEIN_LEVEL",FUSION:"FUSION",GENESET_SCORE:"GENESET_SCORE",METHYLATION:"METHYLATION",GENERIC_ASSAY:"GENERIC_ASSAY",STRUCTURAL_VARIANT:"STRUCTURAL_VARIANT",MUTATION_UNCALLED:"MUTATION_UNCALLED"},xt={TREATMENT_RESPONSE:"TREATMENT_RESPONSE"},Rt={DISCRETE:"DISCRETE",CONTINUOUS:"CONTINUOUS",ZSCORE:"Z-SCORE",MAF:"MAF",LOGVALUE:"LOG-VALUE",LOG2VALUE:"LOG2-VALUE"};!function(e){e.w_mut="w_mut",e.w_cna="w_cna",e.w_mut_cna="w_mut_cna"}(wt||(wt={})),function(e){e.GENE="gene",e.GENESET="geneset"}(kt||(kt={}));var Dt=(Ot(ft={},wt.w_mut,"all_cases_with_mutation_data"),Ot(ft,wt.w_cna,"all_cases_with_cna_data"),Ot(ft,wt.w_mut_cna,"all_cases_with_mutation_and_cna_data"),ft);var jt=function(){function e(t,n){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=t,this.resultsPageSettingsVisible=!1,this.checkingVirtualStudies=!1,this.urlValidationError=null,this.ajaxErrors=[],this.sessionIdURL="",this.queryFormVisible=!1,this.modifyQueryParams=void 0,this.selectedMolecularProfiles=Object(i.S)({await:function(){return[u.studyToMolecularProfiles,u.studies]},invoke:function(){if(u.studies.result.length>1||0===u.selectedMolecularProfileIds.length)return Promise.resolve(rt(u.studyToMolecularProfiles.result,u.profileFilter));var e=w.keyBy(u.selectedMolecularProfileIds,function(e){return e});return Promise.resolve(u.molecularProfilesInStudies.result.filter(function(t){return t.molecularProfileId in e}))}}),this.clinicalAttributes_profiledIn=Object(i.S)({await:function(){return[u.coverageInformation,u.molecularProfileIdToMolecularProfile,u.selectedMolecularProfiles,u.studyIds]},invoke:function(){return Promise.resolve(Object(pt.f)(u.coverageInformation.result.samples,u.molecularProfileIdToMolecularProfile.result,u.selectedMolecularProfiles.result,1===u.studyIds.result.length))}}),this.comparisonGroups=Object(i.S)({await:function(){return[u.queriedStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.appStore.isLoggedIn){e.next=12;break}return e.prev=2,e.t0=t,e.next=6,mt.a.getGroupsForStudies(this.queriedStudies.result.map(function(e){return e.studyId}));case 6:e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.next=12;break;case 10:e.prev=10,e.t2=e.catch(2);case 12:n=!0,r=!1,o=void 0,e.prev=15,i=this.comparisonGroupsReferencedInURL[Symbol.iterator]();case 17:if(n=(a=i.next()).done){e.next=27;break}return u=a.value,e.t3=t,e.next=22,mt.a.getGroup(u);case 22:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 24:n=!0,e.next=17;break;case 27:e.next=33;break;case 29:e.prev=29,e.t5=e.catch(15),r=!0,o=e.t5;case 33:e.prev=33,e.prev=34,n||null==i.return||i.return();case 36:if(e.prev=36,!r){e.next=39;break}throw o;case 39:return e.finish(36);case 40:return e.finish(33);case 41:return e.abrupt("return",t);case 42:case"end":return e.stop()}},e,this,[[2,10],[15,29,33,41],[34,,36,40]])}))}}),this.clinicalAttributes_comparisonGroupMembership=Object(i.S)({await:function(){return[u.comparisonGroups]},invoke:function(){return Promise.resolve(Object(pt.e)(u.comparisonGroups.result))}}),this.selectedMolecularProfileIdsByAlterationType=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){var e=u.selectedMolecularProfiles.result;return Promise.resolve(w.groupBy(e,"molecularAlterationType"))}}),this.clinicalAttributes=Object(i.S)({await:function(){return[u.studyIds,u.clinicalAttributes_profiledIn,u.clinicalAttributes_comparisonGroupMembership,u.samples,u.patients]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.fetchClinicalAttributesUsingPOST({studyIds:this.studyIds.result});case 2:return t=e.sent,n=[{clinicalAttributeId:nt.c.MutationSpectrum,datatype:"COUNTS_MAP",description:"Number of point mutations in the sample counted by different types of nucleotide changes.",displayName:"Mutation spectrum",patientAttribute:!1,studyId:"",priority:"0"}],this.studyIds.result.length>1&&n.push({clinicalAttributeId:nt.c.StudyOfOrigin,datatype:"STRING",description:"Study which the sample is a part of.",displayName:"Study of origin",patientAttribute:!1,studyId:"",priority:"0"}),this.samples.result.length!==this.patients.result.length&&n.push({clinicalAttributeId:nt.c.NumSamplesPerPatient,datatype:"NUMBER",description:"Number of queried samples for each patient.",displayName:"# Samples per Patient",patientAttribute:!0}),e.abrupt("return",t.concat(n).concat(this.clinicalAttributes_profiledIn.result).concat(this.clinicalAttributes_comparisonGroupMembership.result));case 7:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributeIdToClinicalAttribute=Object(i.S)({await:function(){return[u.clinicalAttributes]},invoke:function(){return Promise.resolve(w.keyBy(u.clinicalAttributes.result,"clinicalAttributeId"))}}),this.clinicalAttributeIdToAvailableSampleCount=Object(i.S)({await:function(){return[u.samples,u.sampleSet,u.studies,u.clinicalAttributes,u.studyToDataQueryFilter,u.clinicalAttributes_profiledIn,u.clinicalAttributes_comparisonGroupMembership]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a,u,l,s,c,p,d,f,h,m,y,v,g,b,S,T,C,P,A,I,E,O,_,k,M,G,N;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1===this.studies.result.length?(n=this.studies.result[0].studyId,o=this.studyToDataQueryFilter.result[n],t=o.sampleListId?{sampleListId:o.sampleListId}:{sampleIdentifiers:o.sampleIds.map(function(e){return{sampleId:e,studyId:n}})}):t={sampleIdentifiers:this.samples.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}})},e.next=3,r.a.getClinicalAttributeCountsUsingPOST({clinicalAttributeCountFilter:t});case 3:for(i=e.sent,a=w.reduce(i,function(e,t){return e[t.clinicalAttributeId]=e[t.clinicalAttributeId]||0,e[t.clinicalAttributeId]+=t.count,e},{}),u=!0,l=!1,s=void 0,e.prev=8,c=this.clinicalAttributes.result[Symbol.iterator]();!(u=(p=c.next()).done);u=!0)(d=p.value).clinicalAttributeId in a||(a[d.clinicalAttributeId]=0);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),l=!0,s=e.t0;case 16:e.prev=16,e.prev=17,u||null==c.return||c.return();case 19:if(e.prev=19,!l){e.next=22;break}throw s;case 22:return e.finish(19);case 23:return e.finish(16);case 24:for(a[nt.c.NumSamplesPerPatient]=this.samples.result.length,a[nt.c.StudyOfOrigin]=this.samples.result.length,f=0,0,h=!0,m=!1,y=void 0,e.prev=30,v=this.samples.result[Symbol.iterator]();!(h=(g=v.next()).done);h=!0)b=g.value,f+=+!!b.sequenced,+!!b.copyNumberSegmentPresent;e.next=38;break;case 34:e.prev=34,e.t1=e.catch(30),m=!0,y=e.t1;case 38:e.prev=38,e.prev=39,h||null==v.return||v.return();case 41:if(e.prev=41,!m){e.next=44;break}throw y;case 44:return e.finish(41);case 45:return e.finish(38);case 46:for(a[nt.c.MutationSpectrum]=f,S=!0,T=!1,C=void 0,e.prev=50,P=this.clinicalAttributes_profiledIn.result[Symbol.iterator]();!(S=(A=P.next()).done);S=!0)I=A.value,a[I.clinicalAttributeId]=this.samples.result.length;e.next=58;break;case 54:e.prev=54,e.t2=e.catch(50),T=!0,C=e.t2;case 58:e.prev=58,e.prev=59,S||null==P.return||P.return();case 61:if(e.prev=61,!T){e.next=64;break}throw C;case 64:return e.finish(61);case 65:return e.finish(58);case 66:for(E=this.sampleSet.result,O=!0,_=!1,k=void 0,e.prev=70,M=this.clinicalAttributes_comparisonGroupMembership.result[Symbol.iterator]();!(O=(G=M.next()).done);O=!0)N=G.value,a[N.clinicalAttributeId]=Object(yt.s)(N.comparisonGroup.data,function(e,t){return E.has({studyId:e,sampleId:t})});e.next=78;break;case 74:e.prev=74,e.t3=e.catch(70),_=!0,k=e.t3;case 78:e.prev=78,e.prev=79,O||null==M.return||M.return();case 81:if(e.prev=81,!_){e.next=84;break}throw k;case 84:return e.finish(81);case 85:return e.finish(78);case 86:return e.abrupt("return",a);case 87:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23],[30,34,38,46],[39,,41,45],[50,54,58,66],[59,,61,65],[70,74,78,86],[79,,81,85]])}))}}),this.cnSegments=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Object(y.l)(u.samples.result)}},[]),this.cnSegmentsByChromosome=Object(i.S)({await:function(){return[u.genes,u.samples,u.referenceGenes]},invoke:function(){var e=w.uniq(u.referenceGenes.result.map(function(e){return e.chromosome}));return Promise.resolve(e.reduce(function(e,t){return e[t]=Object(i.S)({invoke:function(){return Object(y.l)(u.samples.result,t)}}),e},{}))}},{}),this.molecularData=Object(i.S)({await:function(){return[u.studyToDataQueryFilter,u.genes,u.selectedMolecularProfiles,u.samples]},invoke:function(){var e=Object($e.i)(u.selectedMolecularProfiles.result),t=u.genes.result;if(e.length&&null!=t&&t.length){var n=[];if(e.forEach(function(e){u.samples.result.forEach(function(t){t.studyId===e.studyId&&n.push({molecularProfileId:e.molecularProfileId,sampleId:t.sampleId})})}),n.length)return r.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:w.map(u.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:n}})}return Promise.resolve([])}}),this.nonSelectedDownloadableMolecularData=Object(i.S)({await:function(){return[u.studyToDataQueryFilter,u.genes,u.nonSelectedDownloadableMolecularProfiles,u.samples]},invoke:function(){var e=Object($e.i)(u.nonSelectedDownloadableMolecularProfiles.result),t=u.genes.result;if(e.length&&null!=t&&t.length){var n=w.groupBy(e,function(e){return e.studyId}),o=u.samples.result.filter(function(e){return e.studyId in n}).reduce(function(e,t){return e=e.concat(n[t.studyId].map(function(e){return{molecularProfileId:e.molecularProfileId,sampleId:t.sampleId}}))},[]);if(o.length)return r.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:w.map(u.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:o}})}return Promise.resolve([])}}),this.coexpressionTabMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(lt.d)(Object(lt.a)(u.molecularProfilesInStudies.result).concat(Object(lt.b)(u.molecularProfilesInStudies.result))))}}),this.isThereDataForCoExpressionTab=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.genes,u.samples]},invoke:function(){var e=Object(lt.a)(u.molecularProfilesInStudies.result),t=w.groupBy(e,"studyId"),n=w.flatten(u.samples.result.map(function(e){var n=t[e.studyId];return n?n.map(function(t){return{molecularProfileId:t.molecularProfileId,sampleId:e.sampleId}}):[]})),o=u.genes.result.map(function(e){return e.entrezGeneId});return n.length>0&&o.length>0?r.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOSTWithHttpInfo({molecularDataMultipleStudyFilter:{entrezGeneIds:o,sampleMolecularIdentifiers:n},projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)>0}):Promise.resolve(!1)}}),this.remoteNgchmUrl=Object(i.S)({await:function(){return[u.studyIds]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",1!==this.studyIds.result.length){e.next=12;break}return n={studyid:this.studyIds.result[0],format:"json"},e.prev=3,e.next=6,Ze.a.get("https://bioinformatics.mdanderson.org/study2url").timeout(3e4).query(n);case 6:r=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:r&&r.body.fileContent&&(o=JSON.parse(r.body.fileContent.trimEnd())).length>=1&&(t="https://bioinformatics.mdanderson.org/TCGA/NGCHMPortal?"+o[0]);case 12:return e.abrupt("return",Promise.resolve(t));case 13:case"end":return e.stop()}},e,this,[[3,9]])}))}}),this.molecularProfilesWithData=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.studyToDataQueryFilter,u.genes,u.genesets,u.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a,u,l,s,c,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],o=this.studyToDataQueryFilter.result,i=!0,a=!1,u=void 0,e.prev=6,l=function(){var e=c.value,i=o[e.studyId];if(!i||!i.sampleIds&&!i.sampleListId)return"continue";var a=e.molecularProfileId,u=Object.assign({entrezGeneIds:p.genes.result.map(function(e){return e.entrezGeneId})},i);e.molecularAlterationType===Nt.MUTATION_EXTENDED?n.push(r.a.fetchMutationsInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:a,mutationFilter:u,projection:"META"}).then(function(n){parseInt(n.header["sample-count"],10)>0&&t.push(e)})):e.molecularAlterationType===Nt.MUTATION_UNCALLED||(e.molecularAlterationType===Nt.GENESET_SCORE||e.molecularAlterationType===Nt.GENERIC_ASSAY?t.push(e):n.push(r.a.fetchAllMolecularDataInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:a,molecularDataFilter:u,projection:"META"}).then(function(n){parseInt(n.header["total-count"],10)>0&&t.push(e)})))},s=this.molecularProfilesInStudies.result[Symbol.iterator]();case 9:if(i=(c=s.next()).done){e.next=16;break}if("continue"!==l()){e.next=13;break}return e.abrupt("continue",13);case 13:i=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),a=!0,u=e.t0;case 22:e.prev=22,e.prev=23,i||null==s.return||s.return();case 25:if(e.prev=25,!a){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.next=32,Promise.all(n);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}},e,this,[[6,18,22,30],[23,,25,29]])}))}}),this.nonOqlFilteredAlterations=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.entrezGeneIdToGene]},invoke:function(){var e=new U.b(u.selectedMolecularProfiles.result),t=u.entrezGeneIdToGene.result,n=[];return n=(n=n.concat(u.filteredAndAnnotatedMutations.result)).concat(u.filteredAndAnnotatedMolecularData.result),Promise.resolve(n.map(function(n){var r=Object(dt.a)(n,e);return r.hugoGeneSymbol=t[n.entrezGeneId].hugoGeneSymbol,r.molecularProfileAlterationType=e.molecularAlterationType(n.molecularProfileId),r}))}}),this.oqlFilteredMutationsReport=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMutationsReport,u.selectedMolecularProfiles,u.defaultOQLQuery]},invoke:function(){return Promise.resolve(w.mapValues(u._filteredAndAnnotatedMutationsReport.result,function(e){return Object(V.c)(u.oqlText,e,new U.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result)}))}}),this.oqlFilteredMolecularDataReport=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMolecularDataReport,u.selectedMolecularProfiles,u.defaultOQLQuery]},invoke:function(){return Promise.resolve(w.mapValues(u._filteredAndAnnotatedMolecularDataReport.result,function(e){return Object(V.c)(u.oqlText,e,new U.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result)}))}}),this.oqlFilteredAlterations=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.defaultOQLQuery]},invoke:function(){if(""!=u.oqlText.trim()){var e=[];return e=(e=e.concat(u.filteredAndAnnotatedMutations.result)).concat(u.filteredAndAnnotatedMolecularData.result),Promise.resolve(Object(V.c)(u.oqlText,e,new U.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result))}return Promise.resolve([])}}),this.oqlFilteredCaseAggregatedData=Object(i.S)({await:function(){return[u.oqlFilteredAlterations,u.samples,u.patients]},invoke:function(){return Promise.resolve({samples:Object(y.W)(u.oqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},u.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(y.W)(u.oqlFilteredAlterations.result,function(e){return e.uniquePatientKey},u.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.nonOqlFilteredCaseAggregatedData=Object(i.S)({await:function(){return[u.nonOqlFilteredAlterations,u.samples,u.patients]},invoke:function(){return Promise.resolve({samples:Object(y.W)(u.nonOqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},u.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(y.W)(u.nonOqlFilteredAlterations.result,function(e){return e.uniquePatientKey},u.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.defaultOQLQuery,u.samples,u.patients]},invoke:function(){var e=[].concat(It(u.filteredAndAnnotatedMutations.result),It(u.filteredAndAnnotatedMolecularData.result)),t=new U.b(u.selectedMolecularProfiles.result),n=u.defaultOQLQuery.result,r=u.samples.result,o=u.patients.result;if(""===u.oqlText.trim())return Promise.resolve([]);var i=Object(V.e)(u.oqlText,e,t,n);return Promise.resolve(i.map(function(i){return{cases:Object($e.s)(i,r,o),oql:i,mergedTrackOqlList:Object($e.m)(i,n,e,t,r,o)}}))}}),this.isSampleAlteredMap=Object(i.S)({await:function(){return[u.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,u.samples,u.coverageInformation,u.selectedMolecularProfiles,u.studyToMolecularProfiles]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object($e.q)(this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result,this.samples.result,this.oqlText,this.coverageInformation.result,this.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId}),this.studyToMolecularProfiles.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.oqlFilteredCaseAggregatedDataByOQLLine=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.defaultOQLQuery,u.samples,u.patients]},invoke:function(){if(""===u.oqlText.trim())return Promise.resolve([]);var e=Object(V.d)(u.oqlText,[].concat(It(u.filteredAndAnnotatedMutations.result),It(u.filteredAndAnnotatedMolecularData.result)),new U.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result);return Promise.resolve(e.map(function(e){return{cases:Object($e.s)(e,u.samples.result,u.patients.result),oql:e}}))}}),this.studyToMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(w.groupBy(u.molecularProfilesInStudies.result,function(e){return e.studyId}))}}),this.coverageInformation=Object(i.S)({await:function(){return[u.studyToMolecularProfiles,u.genes,u.samples,u.patients]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.samples.result.forEach(function(e){var n=a.studyToMolecularProfiles.result[e.studyId];if(n){var r=e.sampleId,o=!0,i=!1,u=void 0;try{for(var l,s=n[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;t.push({molecularProfileId:c.molecularProfileId,sampleId:r})}}catch(e){i=!0,u=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}}}),!t.length||!this.genes.result.length){e.next=8;break}return e.next=5,r.a.fetchGenePanelDataInMultipleMolecularProfilesUsingPOST({sampleMolecularIdentifiers:t});case 5:n=e.sent,e.next=9;break;case 8:n=[];case 9:if(o=w.uniq(n.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),i=[],!o.length){e.next=15;break}return e.next=14,r.a.fetchGenePanelsUsingPOST({genePanelIds:o,projection:"DETAILED"});case 14:i=e.sent;case 15:return e.abrupt("return",Object($e.g)(n,i,this.samples.result,this.patients.result,this.genes.result));case 16:case"end":return e.stop()}},e,this)}))}},{samples:{},patients:{}}),this.sequencedSampleKeys=Object(i.S)({await:function(){return[u.samples,u.coverageInformation,u.selectedMolecularProfiles]},invoke:function(){var e=u.coverageInformation.result,t=u.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(w.chain(u.samples.result).filter(function(n){return w.some(Object(tt.b)(n.uniqueSampleKey,t,e))}).map(function(e){return e.uniqueSampleKey}).value())}}),this.sequencedPatientKeys=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.sequencedSampleKeys]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",w.chain(this.sequencedSampleKeys.result).map(function(e){return t[e].uniquePatientKey}).uniq().value());case 2:case"end":return e.stop()}},e,this)}))}}),this.sequencedSampleKeysByGene=Object(i.S)({await:function(){return[u.samples,u.genes,u.coverageInformation,u.selectedMolecularProfiles]},invoke:function(){var e=u.coverageInformation.result,t=u.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(u.genes.result.reduce(function(n,r){return n[r.hugoGeneSymbol]=u.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(n){return w.some(Object(tt.b)(n,t,e,r.hugoGeneSymbol))}),n},{}))}}),this.existUnsequencedSamplesInAGene=Object(i.S)({await:function(){return[u.samples,u.sequencedSampleKeysByGene]},invoke:function(){var e=u.samples.result.length;return Promise.resolve(w.some(u.sequencedSampleKeysByGene.result,function(t){return t.length<e}))}}),this.sequencedPatientKeysByGene=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.sequencedSampleKeysByGene]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",w.mapValues(this.sequencedSampleKeysByGene.result,function(e){return w.chain(e).map(function(e){return t[e].uniquePatientKey}).uniq().value()}));case 2:case"end":return e.stop()}},e,this)}))}}),this.alteredSampleKeys=Object(i.S)({await:function(){return[u.samples,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result.samples;return Promise.resolve(u.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return e[t].length>0}))}}),this.alteredSamples=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.alteredSampleKeys]},invoke:function(){return Promise.resolve(u.alteredSampleKeys.result.map(function(e){return u.sampleKeyToSample.result[e]}))}},[]),this.alteredPatients=Object(i.S)({await:function(){return[u.patients,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result;return Promise.resolve(u.patients.result.filter(function(t){return!!e.patients[t.uniquePatientKey].length}))}}),this.alteredPatientKeys=Object(i.S)({await:function(){return[u.alteredPatients]},invoke:function(){return Promise.resolve(u.alteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredSampleKeys=Object(i.S)({await:function(){return[u.samples,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result;return Promise.resolve(u.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return!e.samples[t].length}))}}),this.unalteredSamples=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.unalteredSampleKeys]},invoke:function(){var e=[];return u.unalteredSampleKeys.result.forEach(function(t){return e.push(u.sampleKeyToSample.result[t])}),Promise.resolve(e)}},[]),this.unalteredPatientKeys=Object(i.S)({await:function(){return[u.unalteredPatients]},invoke:function(){return Promise.resolve(u.unalteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredPatients=Object(i.S)({await:function(){return[u.patients,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result;return Promise.resolve(u.patients.result.filter(function(t){return!e.patients[t.uniquePatientKey].length}))}}),this.oqlFilteredAlterationsByGene=Object(i.S)({await:function(){return[u.genes,u.oqlFilteredAlterations]},invoke:function(){var e=w.groupBy(u.oqlFilteredAlterations.result,function(e){return e.gene.hugoGeneSymbol}),t=u.genes.result.reduce(function(t,n){return t[n.hugoGeneSymbol]=e[n.hugoGeneSymbol],t},{});return Promise.resolve(t)}}),this.defaultOQLQuery=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){var e=w.uniq(w.map(u.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType}));return Promise.resolve(function(e,t,n){for(var r={},o=0;o<e.length;o++)switch(e[o]){case"MUTATION_EXTENDED":r.MUT=!0,r.FUSION=!0;break;case"COPY_NUMBER_ALTERATION":r.AMP=!0,r.HOMDEL=!0;break;case"MRNA_EXPRESSION":r["EXP>="+t]=!0,r["EXP<=-"+t]=!0;break;case"PROTEIN_LEVEL":r["PROT>="+n]=!0,r["PROT<=-"+n]=!0}return Object.keys(r).join(" ")}(e,u.zScoreThreshold,u.rppaScoreThreshold))}}),this.survivalClinicalAttributesPrefix=Object(i.S)({await:function(){return[u.clinicalAttributes]},invoke:function(){return Promise.resolve(Object(y.V)(u.clinicalAttributes.result))}}),this.survivalClinicalDataExists=Object(i.S)({await:function(){return[u.samples,u.survivalClinicalAttributesPrefix]},invoke:function(){return Object(y.E)(u.samples.result,u.survivalClinicalAttributesPrefix.result)}}),this.samplesByDetailedCancerType=Object(i.S)({await:function(){return[u.samples,u.clinicalDataForSamples]},invoke:function(){var e=u.groupSamplesByCancerType(u.clinicalDataForSamples.result,u.samples.result,"CANCER_TYPE");return 1===w.size(e)&&(e=u.groupSamplesByCancerType(u.clinicalDataForSamples.result,u.samples.result,"CANCER_TYPE_DETAILED")),Promise.resolve(e)}}),this.samplesExtendedWithClinicalData=Object(i.S)({await:function(){return[u.samples,u.clinicalDataForSamples,u.studies]},invoke:function(){return Promise.resolve((e=u.samples.result,t=u.clinicalDataForSamples.result,n=u.studies.result,r=w.groupBy(t,function(e){return e.uniqueSampleKey}),o=e.map(function(e){var t=r[e.uniqueSampleKey];return t&&t.forEach(function(t){switch(t.clinicalAttributeId){case"CANCER_TYPE_DETAILED":e.cancerTypeDetailed=t.value;break;case"CANCER_TYPE":e.cancerType=t.value}}),e}),i=w.keyBy(n,function(e){return e.studyId}),o.forEach(function(e){if(!e.cancerType){var t=i[e.studyId];e.cancerType=t?t.cancerType.name:"Unknown"}e.cancerType&&!e.cancerTypeDetailed&&(e.cancerTypeDetailed=e.cancerType)}),o));var e,t,n,r,o,i}}),this.oqlFilteredAlterationsByGeneBySampleKey=Object(i.S)({await:function(){return[u.oqlFilteredAlterationsByGene,u.samples]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.mapValues(this.oqlFilteredAlterationsByGene.result,function(e){return w.groupBy(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.studyWithSamples=Object(i.S)({await:function(){return[u.samples,u.queriedStudies,u.queriedVirtualStudies]},invoke:function(){return Promise.resolve(Object(gt.L)(u.samples.result,u.queriedStudies.result,u.queriedVirtualStudies.result))},onError:function(e){},default:[]}),this.mutationProfiles=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaProfiles=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"COPY_NUMBER_ALTERATION"===e.molecularAlterationType&&"DISCRETE"===e.datatype}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.virtualStudyParams=Object(i.S)({await:function(){return[u.samples,u.studyIds,u.studyWithSamples,u.queriedVirtualStudies]},invoke:function(){return Promise.resolve({user:u.appStore.userName,name:1===u.queriedVirtualStudies.result.length?u.queriedVirtualStudies.result[0].data.name:void 0,description:1===u.queriedVirtualStudies.result.length?u.queriedVirtualStudies.result[0].data.description:void 0,studyWithSamples:u.studyWithSamples.result,selectedSamples:u.samples.result,filter:{studyIds:u.studyIds.result},attributesMetaSet:u.chartMetaSet})}}),this.givenSampleOrder=Object(i.S)({await:function(){return[u.samples,u.samplesSpecification]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.samplesSpecification.result.find(function(e){return!e.sampleId})){e.next=2;break}return e.abrupt("return",[]);case 2:return t=w.reduce(this.samplesSpecification.result,function(e,t,n){return e[t.studyId]=e[t.studyId]||{},e[t.studyId][t.sampleId]=n,e},{}),e.abrupt("return",w.sortBy(this.samples.result,function(e){return t[e.studyId][e.sampleId]}));case 4:case"end":return e.stop()}},e,this)}))}}),this.studyToSampleIds=Object(i.S)({await:function(){return[u.samplesSpecification]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a,u,l,s,c,p,d,f,h,m,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n={},o=!0,a=!1,u=void 0,e.prev=5,l=this.samplesSpecification.result[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)(c=s.value).sampleId?(n[c.studyId]=n[c.studyId]||{},n[c.studyId][c.sampleId]=!0):c.sampleListId&&t.push(c);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),a=!0,u=e.t0;case 13:e.prev=13,e.prev=14,o||null==l.return||l.return();case 16:if(e.prev=16,!a){e.next=19;break}throw u;case 19:return e.finish(16);case 20:return e.finish(13);case 21:if(!(t.length>0)){e.next=44;break}return e.next=24,r.a.fetchSampleListsUsingPOST({sampleListIds:t.map(function(e){return e.sampleListId}),projection:"DETAILED"});case 24:for(p=e.sent,d=!0,f=!1,h=void 0,e.prev=28,m=p[Symbol.iterator]();!(d=(y=m.next()).done);d=!0)v=y.value,n[v.studyId]=Object(i.Y)(v.sampleIds);e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),f=!0,h=e.t1;case 36:e.prev=36,e.prev=37,d||null==m.return||m.return();case 39:if(e.prev=39,!f){e.next=42;break}throw h;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",n);case 45:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20],[28,32,36,44],[37,,39,43]])}))}},{}),this.studyToSampleListId=Object(i.S)({await:function(){return[u.samplesSpecification]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.samplesSpecification.result.reduce(function(e,t){return t.sampleListId&&(e[t.studyId]=t.sampleListId),e},{}));case 1:case"end":return e.stop()}},e,this)}))}}),this.samplesSpecification=Object(i.S)({await:function(){return[u.queriedVirtualStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sampleListCategory){e.next=8;break}if(!(this.queriedVirtualStudies.result.length>0)){e.next=5;break}return e.abrupt("return",Object(ut.g)(this.samplesSpecificationParams,this.queriedVirtualStudies.result));case 5:return e.abrupt("return",this.samplesSpecificationParams);case 6:e.next=17;break;case 8:return t=[],t=this.queriedVirtualStudies.result.length>0?Object(ut.g)(this.samplesSpecificationParams,this.queriedVirtualStudies.result):this.samplesSpecificationParams,n=w.chain(t).map(function(e){return e.studyId}).uniq().value(),e.next=13,Promise.all(n.map(function(e){return r.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"SUMMARY"})}));case 13:return o=e.sent,i=Dt[this.sampleListCategory],a=o.reduce(function(e,t){var n=w.find(t,function(e){return e.category===i});return n&&e.push({studyId:n.studyId,sampleListId:n.sampleListId,sampleId:void 0}),e},[]),e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)}))}}),this.studyToMutationMolecularProfile=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=u.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,l=a.studyId;!e[l]&&Object(y.Z)(a)&&(e[l]=a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}},{}),this.allStudies=Object(i.S)({invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getAllStudiesUsingGET({projection:"SUMMARY"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}},[]),this.everyStudyIdToStudy=Object(i.S)({await:function(){return[u.allStudies]},invoke:function(){return Promise.resolve(w.keyBy(u.allStudies.result,function(e){return e.studyId}))}}),this.queriedVirtualStudies=Object(i.S)({await:function(){return[u.allStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,l,s,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.allStudies.result,n=this.cancerStudyIds,r=w.differenceWith(n,t,function(e,t){return e===t.studyId}),o=[],i=!0,a=!1,u=void 0,e.prev=7,l=r[Symbol.iterator]();case 9:if(i=(s=l.next()).done){e.next=24;break}return c=s.value,e.prev=11,e.next=14,ht.a.getVirtualStudy(c);case 14:p=e.sent,o=o.concat(p),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("continue",21);case 21:i=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(7),a=!0,u=e.t1;case 30:e.prev=30,e.prev=31,i||null==l.return||l.return();case 33:if(e.prev=33,!a){e.next=36;break}throw u;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",Promise.resolve(o));case 39:case"end":return e.stop()}},e,this,[[7,26,30,38],[11,18],[31,,33,37]])}))},onError:function(){}},[]),this.studyIds=Object(i.S)({await:function(){return[u.queriedVirtualStudies]},invoke:function(){var e;return e=u.queriedVirtualStudies.result.length>0?Object(ut.h)(u.cancerStudyIds,u.queriedVirtualStudies.result):u.cancerStudyIds.slice(),Promise.resolve(e)}},[]),this.invalidStudyIds=Object(i.S)({await:function(){return[u.allStudies,u.queriedVirtualStudies]},invoke:function(){var e=u.allStudies.result,t=u.cancerStudyIds,n=w.differenceWith(t,e,function(e,t){return e===t.studyId});return n.length&&0===u.queriedVirtualStudies.result.length?Promise.resolve(n):Promise.resolve([])}},[]),this.sampleLists=Object(i.S)({await:function(){return[u.studyToSampleListId]},invoke:function(){var e=w.values(u.studyToSampleListId.result);return e.length>0?r.a.fetchSampleListsUsingPOST({sampleListIds:e}):Promise.resolve([])}}),this.mutations=Object(i.S)({await:function(){return[u.genes,u.selectedMolecularProfiles,u.samples,u.studyIdToStudy]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=w.filter(this.selectedMolecularProfiles.result,function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType})).length){e.next=3;break}return e.abrupt("return",[]);case 3:return n=w.keyBy(t,function(e){return e.studyId}),o=this.samples.result.reduce(function(e,t){return t.studyId in n&&e.push({molecularProfileId:n[t.studyId].molecularProfileId,sampleId:t.sampleId}),e},[]),i={entrezGeneIds:w.map(this.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:o},e.next=8,r.a.fetchMutationsInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",mutationMultipleStudyFilter:i});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}))}}),this.mutationsTabFilteringSettings=this.makeMutationsTabFilteringSettings(),this.mutationsReportByGene=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMutationsReport,u.genes]},invoke:function(){var e=u._filteredAndAnnotatedMutationsReport.result,t={},n=!0,r=!1,o=void 0;try{for(var i,a=u.genes.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){t[i.value.hugoGeneSymbol]={data:[],vus:[],germline:[],vusAndGermline:[]}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l=!0,s=!1,c=void 0;try{for(var p,d=e.data[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;t[f.gene.hugoGeneSymbol].data.push(f)}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var h=!0,m=!1,y=void 0;try{for(var v,g=e.vus[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value;t[b.gene.hugoGeneSymbol].vus.push(b)}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}var S=!0,T=!1,C=void 0;try{for(var P,A=e.germline[Symbol.iterator]();!(S=(P=A.next()).done);S=!0){var I=P.value;t[I.gene.hugoGeneSymbol].germline.push(I)}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}var E=!0,O=!1,_=void 0;try{for(var w,k=e.vusAndGermline[Symbol.iterator]();!(E=(w=k.next()).done);E=!0){var M=w.value;t[M.gene.hugoGeneSymbol].vusAndGermline.push(M)}}catch(e){O=!0,_=e}finally{try{E||null==k.return||k.return()}finally{if(O)throw _}}return Promise.resolve(t)}}),this.mutationsByGene=Object(i.S)({await:function(){return[u.selectedMolecularProfiles,u.defaultOQLQuery,u.mutationsReportByGene]},invoke:function(){return Promise.resolve(w.mapValues(u.mutationsReportByGene.result,function(e){return u.mutationsTabFilteringSettings.useOql&&u.queryContainsMutationOql&&(e=w.mapValues(e,function(e){return Object(V.c)(u.oqlText,e,new U.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result)})),Object($e.e)(e,u.mutationsTabFilteringSettings.excludeVus,u.mutationsTabFilteringSettings.excludeGermline)}))}}),this.mutationMapperStores=Object(i.S)({await:function(){return[u.genes,u.oncoKbCancerGenes,u.uniqueSampleKeyToTumorType,u.mutations,u.mutationsByGene]},invoke:function(){return u.genes.result?Promise.resolve(w.reduce(u.genes.result,function(e,t){return e[t.hugoGeneSymbol]=new O(_.b.serverConfig,{},t,u.samples,u.oncoKbCancerGenes,function(){return u.mutationsByGene.result[t.hugoGeneSymbol]||[]},function(){return u.mutationCountCache},function(){return u.genomeNexusCache},function(){return u.genomeNexusMutationAssessorCache},function(){return u.discreteCNACache},u.studyToMolecularProfileDiscreteCna.result,u.studyIdToStudy,u.molecularProfileIdToMolecularProfile,u.clinicalDataForSamples,u.studiesForSamplesWithoutCancerTypeClinicalData,u.germlineConsentedSamples,u.indexedHotspotData,u.indexedVariantAnnotations,u.uniqueSampleKeyToTumorType.result,u.generateGenomeNexusHgvsgUrl,u.genomeNexusClient,u.genomeNexusInternalClient),e},{})):Promise.resolve({})}},{}),this.oncoKbCancerGenes=Object(i.S)({invoke:function(){return _.b.serverConfig.show_oncokb?Object(y.x)():Promise.resolve([])}},[]),this.oncoKbAnnotatedGenes=Object(i.S)({await:function(){return[u.oncoKbCancerGenes]},invoke:function(){return _.b.serverConfig.show_oncokb?Promise.resolve(w.reduce(u.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{}),this.clinicalDataForSamples=Object(i.S)({await:function(){return[u.studies,u.samples]},invoke:function(){return u.getClinicalData("SAMPLE",u.studies.result,u.samples.result,["CANCER_TYPE","CANCER_TYPE_DETAILED"])}},[]),this.germlineConsentedSamples=Object(i.S)({await:function(){return[u.studyIds,u.samples]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.r)(this.studyIds,_.b.serverConfig.studiesWithGermlineConsentedSamples);case 2:return t=e.sent,n=this.samples.result?this.samples.result.map(function(e){return e.sampleId}):[],e.abrupt("return",t.filter(function(e){return n.includes(e.sampleId)}));case 5:case"end":return e.stop()}},e,this)}))},onError:function(){}},[]),this.samples=Object(i.S)({await:function(){return[u.studyToDataQueryFilter]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],w.each(this.studyToDataQueryFilter.result,function(e,r){e.sampleIds?t=t.concat(e.sampleIds.map(function(e){return{sampleId:e,studyId:r}})):e.sampleListId&&n.push(e.sampleListId)}),o=[],t.length&&o.push(r.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:t},projection:"DETAILED"})),n.length&&o.push(r.a.fetchSamplesUsingPOST({sampleFilter:{sampleListIds:n},projection:"DETAILED"})),e.t0=w,e.next=9,Promise.all(o);case 9:return e.t1=e.sent,e.abrupt("return",e.t0.flatten.call(e.t0,e.t1));case 11:case"end":return e.stop()}},e,this)}))}},[]),this.sampleSet=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Promise.resolve(Tt.a.from(u.samples.result.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})))}}),this.sampleKeyToSample=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Promise.resolve(w.keyBy(u.samples.result,function(e){return e.uniqueSampleKey}))}}),this.patientKeyToPatient=Object(i.S)({await:function(){return[u.patients]},invoke:function(){return Promise.resolve(w.keyBy(u.patients.result,function(e){return e.uniquePatientKey}))}}),this.patientKeyToSamples=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Promise.resolve(w.groupBy(u.samples.result,function(e){return e.uniquePatientKey}))}}),this.patients=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Object($e.j)(u.samples.result)},default:[]}),this.samplesWithoutCancerTypeClinicalData=Object(i.S)({await:function(){return[u.samples,u.clinicalDataForSamples]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=u.clinicalDataForSamples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[Object(M.a)(a.studyId,a.sampleId)]=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(u.samples.result.filter(function(t){return!e[Object(M.a)(t.studyId,t.sampleId)]}))}},[]),this.studiesForSamplesWithoutCancerTypeClinicalData=Object(i.S)({await:function(){return[u.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(y.D)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studies=Object(i.S)({await:function(){return[u.studyIds]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.fetchStudiesUsingPOST({studyIds:this.studyIds.result,projection:"DETAILED"}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.queriedStudies=Object(i.S)({await:function(){return[u.everyStudyIdToStudy,u.queriedVirtualStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isEmpty(this.cancerStudyIds)){e.next=4;break}return e.abrupt("return",Object($e.k)(this.everyStudyIdToStudy.result,this.cancerStudyIds,this.queriedVirtualStudies.result?this.queriedVirtualStudies.result:[]));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.studyIdToStudy=Object(i.S)({await:function(){return[u.studies]},invoke:function(){return Promise.resolve(w.keyBy(u.studies.result,function(e){return e.studyId}))}},{}),this.molecularProfilesInStudies=Object(i.S)({await:function(){return[u.studyIds]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.studyIds.result}}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.nonSelectedDownloadableMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.selectedMolecularProfiles]},invoke:function(){return Promise.resolve(Object($e.i)(w.difference(u.molecularProfilesInStudies.result,u.selectedMolecularProfiles.result)))}},[]),this.molecularProfileIdToMolecularProfile=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(u.molecularProfilesInStudies.result.reduce(function(e,t){return e[t.molecularProfileId]=t,e},{}))}},{}),this.nonSelectedDownloadableMolecularProfilesGroupByName=Object(i.S)({await:function(){return[u.nonSelectedDownloadableMolecularProfiles]},invoke:function(){var e=w.sortBy(u.nonSelectedDownloadableMolecularProfiles.result,function(e){return Object(bt.a)(e.molecularAlterationType)});return Promise.resolve(w.groupBy(e,function(e){return e.name}))}},{}),this.studyToMolecularProfileDiscreteCna=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=!0,r=!1,o=void 0,e.prev=4,i=this.molecularProfilesInStudies.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)(u=a.value).datatype===Rt.DISCRETE&&u.molecularAlterationType===Nt.COPY_NUMBER_ALTERATION&&(t[u.studyId]=u);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,n||null==i.return||i.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{}),this.heatmapMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.selectedMolecularProfiles,u.genesetMolecularProfile]},invoke:function(){var e=Nt.MRNA_EXPRESSION,t=Nt.PROTEIN_LEVEL,n=Nt.METHYLATION,r=Nt.GENERIC_ASSAY,o=Object(i.Y)(u.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId})),a=w.sortBy(w.filter(u.molecularProfilesInStudies.result,function(o){return(o.molecularAlterationType===e||o.molecularAlterationType===t||o.molecularAlterationType===r)&&o.showProfileInAnalysisTab||o.molecularAlterationType===n}),function(i){if(i.molecularProfileId in o)switch(i.molecularAlterationType){case e:return 0;case t:return 1;case n:return 2;case r:return 3}else switch(i.molecularAlterationType){case e:return 4;case t:return 5;case n:return 6;case r:return 7}}),l=u.genesetMolecularProfile.result,s=l.isApplicable?[l.value]:[];return Promise.resolve(a.concat(s))}}),this.genesetMolecularProfile=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){var e=w.filter(u.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType===Nt.GENESET_SCORE&&e.showProfileInAnalysisTab});if(e.length>1)return Promise.reject(new Error("Queried more than one gene set score profile"));var t=e.pop(),n=t?{isApplicable:!0,value:t}:{isApplicable:!1};return Promise.resolve(n)}}),this.studyToDataQueryFilter=Object(i.S)({await:function(){return[u.studyToSampleIds,u.studyIds,u.studyToSampleListId]},invoke:function(){var e=u.studyIds.result,t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;t[l]=Object(y.M)(u.studyToSampleListId.result[l]||null,Object.keys(u.studyToSampleIds.result[l]||{}))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Promise.resolve(t)}},{}),this.molecularProfileIdToDataQueryFilter=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.studyToDataQueryFilter]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=u.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[a.molecularProfileId]=u.studyToDataQueryFilter.result[a.studyId]}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)},default:{}}),this.genes=Object(i.S)({invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.q)(this.hugoGeneSymbols);case 2:if(t=e.sent,!w.isEqual(w.sortBy(this.hugoGeneSymbols),w.sortBy(t.map(function(e){return e.hugoGeneSymbol})))){e.next=7;break}return e.abrupt("return",t);case 7:throw new Error(at.InvalidGenes);case 8:case"end":return e.stop()}},e,this)}))},onResult:function(e){u.geneCache.addData(e)},onError:function(e){throw e}}),this.referenceGenes=Object(i.S)({await:function(){return[u.studies]},invoke:function(){return u.studies.result.length>0?Object(y.e)(u.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(i.S)({await:function(){return[u.referenceGenes]},invoke:function(){return Promise.resolve(w.keyBy(u.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.entrezGeneIdToReferenceGene=Object(i.S)({await:function(){return[u.referenceGenes]},invoke:function(){return Promise.resolve(w.keyBy(u.referenceGenes.result,function(e){return e.entrezGeneId}))}}),this.genesets=Object(i.S)({invoke:function(){return u.genesetIds&&u.genesetIds.length>0?$.a.fetchGenesetsUsingPOST({genesetIds:u.genesetIds.slice()}):Promise.resolve([])},onResult:function(e){u.genesetCache.addData(e)}}),this.geneticEntities=Object(i.S)({await:function(){return[u.genes,u.genesets,u.hugoGeneSymbolToReferenceGene]},invoke:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=u.genes.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push({geneticEntityName:a.hugoGeneSymbol,geneticEntityType:kt.GENE,geneticEntityId:a.entrezGeneId,cytoband:u.hugoGeneSymbolToReferenceGene.result[a.hugoGeneSymbol].cytoband,geneticEntityData:a})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var l=!0,s=!1,c=void 0;try{for(var p,d=u.genesets.result[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;e.push({geneticEntityName:f.name,geneticEntityType:kt.GENESET,geneticEntityId:f.genesetId,cytoband:"-",geneticEntityData:f})}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}return Promise.resolve(e)}}),this.genericAssayEntitiesGroupByGenericAssayType=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.c)(this.molecularProfilesInStudies.result);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}),this.genericAssayEntitiesGroupByMolecularProfileId=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.d)(this.molecularProfilesInStudies.result);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}),this.selectedGenericAssayEntitiesGroupByGenericAssayType=Object(i.S)({await:function(){return[u.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return Promise.resolve(w.mapValues(u.genericAssayEntitiesGroupByGenericAssayType.result,function(e,t){var n=u.selectedGenericAssayEntities[t];return e.filter(function(e){return n.includes(e.stableId)})}))}}),this.entrezGeneIdToGene=Object(i.S)({await:function(){return[u.genes]},invoke:function(){return Promise.resolve(w.keyBy(u.genes.result,function(e){return e.entrezGeneId}))}}),this.genesetLinkMap=Object(i.S)({invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.genesetIds||!this.genesetIds.length){e.next=9;break}return e.next=3,$.a.fetchGenesetsUsingPOST({genesetIds:this.genesetIds.slice()});case 3:return t=e.sent,n={},t.forEach(function(e){var t=e.genesetId,r=e.refLink;n[t]=r}),e.abrupt("return",n);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,this)}))}}),this.genericAssayEntitiesGroupByGenericAssayTypeLinkMap=Object(i.S)({await:function(){return[u.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(w.isEmpty(this.genericAssayEntitiesGroupByGenericAssayType.result)){e.next=4;break}return e.abrupt("return",w.mapValues(this.genericAssayEntitiesGroupByGenericAssayType.result,function(e){var t={};return e.forEach(function(e){t[e.stableId]="URL"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.URL:""}),t}));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))}}),this.customDriverAnnotationReport=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){return Promise.resolve(Object($e.f)(u.mutations.result))},onResult:function(e){Object($e.t)(e,u.driverAnnotationSettings,u.driverAnnotationSettings.customTiersDefault,u.driverAnnotationSettings.oncoKb,u.driverAnnotationSettings.hotspots)}}),this._filteredAndAnnotatedMutationsReport=Object(i.S)({await:function(){return[u.mutations,u.getPutativeDriverInfo,u.entrezGeneIdToGene]},invoke:function(){return Promise.resolve(Object($e.l)(u.mutations.result,u.getPutativeDriverInfo.result,u.entrezGeneIdToGene.result))}}),this.filteredAndAnnotatedMutations=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMutationsReport]},invoke:function(){return Promise.resolve(Object($e.e)(u._filteredAndAnnotatedMutationsReport.result,u.driverAnnotationSettings.excludeVUS,u.excludeGermlineMutations))}}),this.annotatedMutationCache=new et.a(function(e){return{await:function(){return[u.mutationCache.get(e),u.getPutativeDriverInfo,u.entrezGeneIdToGene]},invoke:function(){var t=Object($e.l)(u.mutationCache.get(e).result,u.getPutativeDriverInfo.result,u.entrezGeneIdToGene.result),n=t.data.concat(t.vus).concat(t.germline);return Promise.resolve(n)}}}),this._filteredAndAnnotatedMolecularDataReport=Object(i.S)({await:function(){return[u.molecularData,u.entrezGeneIdToGene,u.getOncoKbCnaAnnotationForOncoprint,u.molecularProfileIdToMolecularProfile]},invoke:function(){var e,t=u.entrezGeneIdToGene.result;e=u.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:u.getOncoKbCnaAnnotationForOncoprint.result;var n=u.molecularProfileIdToMolecularProfile.result,r=[],o=u.molecularData.result.reduce(function(o,i){var a=Object($e.c)(i,e,n,t);return a.oncoKbOncogenic?o.push(a):r.push(a),o},[]);return Promise.resolve({data:o,vus:r})}}),this.filteredAndAnnotatedMolecularData=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMolecularDataReport]},invoke:function(){var e=u._filteredAndAnnotatedMolecularDataReport.result.data;return u.driverAnnotationSettings.excludeVUS||(e=e.concat(u._filteredAndAnnotatedMolecularDataReport.result.vus)),Promise.resolve(e)}}),this.annotatedCnaCache=new et.a(function(e){return{await:function(){return u.numericGeneMolecularDataCache.await([u.studyToMolecularProfileDiscreteCna,u.entrezGeneIdToGene,u.getOncoKbCnaAnnotationForOncoprint,u.molecularProfileIdToMolecularProfile],function(t){return w.values(t).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})})},invoke:function(){var t,n=w.flatten(u.numericGeneMolecularDataCache.getAll(w.values(u.studyToMolecularProfileDiscreteCna.result).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})).map(function(e){return e.result})),r=u.entrezGeneIdToGene.result;t=u.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:u.getOncoKbCnaAnnotationForOncoprint.result;var o=u.molecularProfileIdToMolecularProfile.result;return Promise.resolve(n.map(function(e){return Object($e.c)(e,t,o,r)}))}}}),this.getPutativeDriverInfo=Object(i.S)({await:function(){var e=[];return u.driverAnnotationSettings.oncoKb&&e.push(u.getOncoKbMutationAnnotationForOncoprint),u.driverAnnotationSettings.hotspots&&e.push(u.isHotspotForOncoprint),u.driverAnnotationSettings.cbioportalCount&&e.push(u.getCBioportalCount),u.driverAnnotationSettings.cosmicCount&&e.push(u.getCosmicCount),e},invoke:function(){return Promise.resolve(function(e){var t=u.getOncoKbMutationAnnotationForOncoprint.result,n=u.driverAnnotationSettings.oncoKb&&t&&!(t instanceof Error)&&t(e),r="";return n&&(r=Object($e.p)(n)),{oncoKb:r,hotspots:u.driverAnnotationSettings.hotspots&&!(u.isHotspotForOncoprint.result instanceof Error)&&u.isHotspotForOncoprint.result(e),cbioportalCount:u.driverAnnotationSettings.cbioportalCount&&u.getCBioportalCount.isComplete&&u.getCBioportalCount.result(e)>=u.driverAnnotationSettings.cbioportalCountThreshold,cosmicCount:u.driverAnnotationSettings.cosmicCount&&u.getCosmicCount.isComplete&&u.getCosmicCount.result(e)>=u.driverAnnotationSettings.cosmicCountThreshold,customDriverBinary:u.driverAnnotationSettings.customBinary&&"Putative_Driver"===e.driverFilter||!1,customDriverTier:e.driverTiersFilter&&u.driverAnnotationSettings.driverTiers.get(e.driverTiersFilter)?e.driverTiersFilter:void 0}})}}),this.indexedVariantAnnotations=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutations.result){e.next=6;break}return e.next=3,Object(y.G)(this.mutations.result,["annotation_summary","hotspots"],_.b.serverConfig.isoformOverrideSource,this.genomeNexusClient);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.hotspotData=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){return Object(g.a)(u.mutations,void 0,u.genomeNexusInternalClient)}}),this.indexedHotspotData=Object(i.S)({await:function(){return[u.hotspotData]},invoke:function(){return Promise.resolve(Object(v.W)(u.hotspotData))}}),this.isHotspotForOncoprint=Object(i.S)({invoke:function(){if(u.indexedHotspotData.isComplete){var e=u.indexedHotspotData.result;return e?Promise.resolve(function(t){return Object(st.a)(t,e)}):Promise.resolve(function(e){return!1})}return u.indexedHotspotData.isError?Promise.resolve(new Error):new Promise(function(){})}}),this.uniqueSampleKeyToTumorType=Object(i.S)({await:function(){return[u.clinicalDataForSamples,u.studiesForSamplesWithoutCancerTypeClinicalData,u.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Promise.resolve(Object(y.O)(u.clinicalDataForSamples,u.studiesForSamplesWithoutCancerTypeClinicalData,u.samplesWithoutCancerTypeClinicalData))}}),this.oncoKbDataForOncoprint=Object(i.S)({await:function(){return[u.mutations,u.oncoKbAnnotatedGenes]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(y.y)({},this.oncoKbAnnotatedGenes.result,this.mutations,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",y.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))},onError:function(e){}},y.b),this.cnaOncoKbDataForOncoprint=Object(i.S)({await:function(){return[u.uniqueSampleKeyToTumorType,u.oncoKbAnnotatedGenes,u.molecularData,u.molecularProfileIdToMolecularProfile]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(y.i)({},this.oncoKbAnnotatedGenes.result,this.molecularData,this.molecularProfileIdToMolecularProfile.result,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",y.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))}},y.b),this.getOncoKbMutationAnnotationForOncoprint=Object(i.S)({await:function(){return[u.oncoKbDataForOncoprint]},invoke:function(){var e=u.oncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){var n=Object(i.A)(t.entrezGeneId,Object(y.c)(t.uniqueSampleKey,{}),t.proteinChange,t.mutationType);return e.indicatorMap[n]})}}),this.getOncoKbCnaAnnotationForOncoprint=Object(i.S)({await:function(){return[u.cnaOncoKbDataForOncoprint]},invoke:function(){var e=u.cnaOncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){if(u.driverAnnotationSettings.oncoKb){var n=Object(i.A)(t.entrezGeneId,Object(y.c)(t.uniqueSampleKey,{}),Object(We.a)(t.value));return e.indicatorMap[n]}})}}),this.cbioportalMutationCountData=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){var e=w.values(Object(Je.a)(u.mutations.result));return e.length>0?r.a.fetchMutationCountsByPositionUsingPOST({mutationPositionIdentifiers:e}):Promise.resolve([])}}),this.getCBioportalCount=Object(i.S)({await:function(){return[u.cbioportalMutationCountData]},invoke:function(){var e=w.groupBy(u.cbioportalMutationCountData.result,function(e){return Object(Je.b)(e)});return Promise.resolve(function(t){var n=Object(Je.b)(t),r=e[n];return r?r.reduce(function(e,t){return e+t.count},0):-1})}}),this.cosmicCountData=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){var e=w.uniq(u.mutations.result.filter(function(e){return!!e.keyword}).map(function(e){return e.keyword}));return e.length>0?$.a.fetchCosmicCountsUsingPOST({keywords:e}):Promise.resolve([])}}),this.getCosmicCount=Object(i.S)({await:function(){return[u.cosmicCountData]},invoke:function(){var e=w.groupBy(u.cosmicCountData.result,function(e){return e.keyword});return Promise.resolve(function(t){var n=t.keyword,r=e[n],o=Object(a.k)(t.proteinChange);if(r&&o){var i=o.start;return r.reduce(function(e,t){var n=Object(a.k)(t.proteinChange);return n&&n.start===i?e+t.count:e},0)}return-1})}}),this.molecularProfileIdToProfiledSamples=Object(i.S)({await:function(){return[u.samples,u.coverageInformation,u.molecularProfilesInStudies]},invoke:function(){var e={},t=u.molecularProfilesInStudies.result.map(function(e){return e.molecularProfileId}),n=u.coverageInformation.result,r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){e[a.value]=[]}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}var s=[],c=!0,p=!1,d=void 0;try{for(var f,h=u.samples.result[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value;s=Object(tt.b)(m.uniqueSampleKey,t,n);for(var y=0;y<t.length;y++)s[y]&&e[t[y]].push(m)}}catch(e){p=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(p)throw d}}return Promise.resolve(e)}}),this.geneMolecularDataCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new J(u.molecularProfileIdToDataQueryFilter.result))}}),this.expressionProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(u.molecularProfilesInStudies.result.filter(function(e){return Object($e.v)(e.molecularProfileId)}))}},[]),this.genesetMolecularDataCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new se(u.molecularProfileIdToDataQueryFilter.result))}}),this.numericGenesetMolecularDataCache=new et.a(function(e){return{await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=u.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t?$.a.fetchGeneticDataItemsUsingPOST({geneticProfileId:e.molecularProfileId,genesetDataFilterCriteria:Object.assign({genesetIds:[e.genesetId]},t)}):Promise.resolve([])}}}),this.genesetCorrelatedGeneCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new ve(u.molecularProfileIdToDataQueryFilter.result))}}),this.genericAssayMolecularDataCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new we(u.molecularProfileIdToDataQueryFilter.result))}}),this.geneCache=new je,this.genesetCache=new Ke,this.numericGeneMolecularDataCache=new et.a(function(e){return{await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=u.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t&&(t.sampleIds&&t.sampleIds.length||t.sampleListId)?r.a.fetchAllMolecularDataInMolecularProfileUsingPOST({molecularProfileId:e.molecularProfileId,molecularDataFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},t)}):Promise.resolve([])}}}),this.clinicalDataCache=new nt.g(this.samples,this.patients,this.studyToMutationMolecularProfile,this.studyIdToStudy,this.coverageInformation),this.mutationCache=new et.a(function(e){return{await:function(){return[u.studyToMutationMolecularProfile,u.studyToDataQueryFilter]},invoke:function(){return Gt(u,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=w,t.next=3,Promise.all(Object.keys(this.studyToMutationMolecularProfile.result).map(function(t){var o=n.studyToMutationMolecularProfile.result[t].molecularProfileId,i=n.studyToDataQueryFilter.result[t];return i&&o?r.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:o,mutationFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},i),projection:"DETAILED"}):Promise.resolve([])}));case 3:return t.t1=t.sent,t.abrupt("return",t.t0.flatten.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t,this)}))}}}),Object(l.labelMobxPromises)(this),this.urlWrapper=n,this.getURL();var s=this;this.driverAnnotationSettings=Object(o.observable)({cbioportalCount:!1,cbioportalCountThreshold:0,cosmicCount:!1,cosmicCountThreshold:0,driverTiers:o.observable.map(),_customBinary:void 0,_hotspots:!1,_oncoKb:!1,_excludeVUS:!1,set hotspots(e){this._hotspots=e},get hotspots(){return!!_.b.serverConfig.show_hotspot&&this._hotspots&&!s.didHotspotFailInOncoprint},set oncoKb(e){this._oncoKb=e},get oncoKb(){return _.b.serverConfig.show_oncokb&&this._oncoKb&&!s.didOncoKbFailInOncoprint},set excludeVUS(e){this._excludeVUS=e},get excludeVUS(){return this._excludeVUS&&this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.hotspots||this.cbioportalCount||this.cosmicCount||this.customBinary||this.driverTiers.entries().reduce(function(e,t){return e||t[1]},!1)},get customBinary(){return void 0===this._customBinary?_.b.serverConfig.oncoprint_custom_driver_annotation_binary_default:this._customBinary},get customTiersDefault(){return _.b.serverConfig.oncoprint_custom_driver_annotation_tiers_default}}),this.driverAnnotationsReactionDisposer=Object(o.reaction)(function(){return u.urlWrapper.query.cancer_study_list},function(){u.initDriverAnnotationSettings()},{fireImmediately:!0})}var t,n,b;return t=e,(n=[{key:"destroy",value:function(){this.driverAnnotationsReactionDisposer()}},{key:"setOncoprintAnalysisCaseType",value:function(e){this.urlWrapper.updateURL({show_samples:(e===$e.b.SAMPLE).toString()})}},{key:"setExcludeGermlineMutations",value:function(e){this.urlWrapper.updateURL({exclude_germline_mutations:e.toString()})}},{key:"initDriverAnnotationSettings",value:function(){this.driverAnnotationSettings.cbioportalCount=!1,this.driverAnnotationSettings.cbioportalCountThreshold=10,this.driverAnnotationSettings.cosmicCount=!1,this.driverAnnotationSettings.cosmicCountThreshold=10,this.driverAnnotationSettings.driverTiers=o.observable.map(),this.driverAnnotationSettings._oncoKb=!!_.b.serverConfig.oncoprint_oncokb_default,this.driverAnnotationSettings.hotspots=!!_.b.serverConfig.oncoprint_hotspots_default,this.driverAnnotationSettings._excludeVUS=!!_.b.serverConfig.oncoprint_hide_vus_default}},{key:"makeMutationsTabFilteringSettings",value:function(){var e=this,t=o.observable.box(void 0),n=o.observable.box(void 0);return Object(o.observable)({useOql:!0,get excludeVus(){return void 0===t.get()?e.driverAnnotationSettings.excludeVUS:t.get()},get excludeGermline(){return void 0===n.get()?e.excludeGermlineMutations:n.get()},set excludeVus(e){t.set(e)},set excludeGermline(e){n.set(e)}})}},{key:"getURL",value:function(){var e=window.location.href;if(e.includes("session_id")){var t=e.indexOf("&show");t>-1&&(this.sessionIdURL=e.slice(0,t))}}},{key:"groupSamplesByCancerType",value:function(e,t,n){var r=w.reduce(e,function(e,t){return t.clinicalAttributeId===n&&(e[t.uniqueSampleKey]=t.value),"CANCER_TYPE"===n&&(e[t.uniqueSampleKey]||"CANCER_TYPE_DETAILED"!==t.clinicalAttributeId||(e[t.uniqueSampleKey]=t.value)),e},{});return w.reduce(t,function(e,t){return t.uniqueSampleKey in r&&(e[r[t.uniqueSampleKey]]=e[r[t.uniqueSampleKey]]||[],e[r[t.uniqueSampleKey]].push(t)),e},{})}},{key:"getMutationMapperStore",value:function(e){return this.mutationMapperStores.result[e]}},{key:"getClinicalData",value:function(e,t,n,o){if(1===t.length){var i=this.studies.result[0],a={attributeIds:o,ids:w.map(n,"SAMPLE"===e?"sampleId":"patientId")};return r.a.fetchAllClinicalDataInStudyUsingPOST({studyId:i.studyId,clinicalDataSingleStudyFilter:a,clinicalDataType:e})}var u={attributeIds:o,identifiers:n.map(function(t){return"SAMPLE"===e?{entityId:t.sampleId,studyId:t.studyId}:{entityId:t.patientId,studyId:t.studyId}})};return r.a.fetchClinicalDataUsingPOST({clinicalDataType:e,clinicalDataMultiStudyFilter:u})}},{key:"generateGenomeNexusHgvsgUrl",value:function(e){return Object(Pt.q)(e,this.referenceGenomeBuild)}},{key:"sortRnaSeqMolecularDataByStudy",value:function(e){return w.keyBy(e,function(e){return e[0].studyId})}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"oqlText",get:function(){return this.urlWrapper.query.gene_list}},{key:"genesetIds",get:function(){return this.urlWrapper.query.geneset_list&&this.urlWrapper.query.geneset_list.trim().length?this.urlWrapper.query.geneset_list.trim().split(/\s+/):[]}},{key:"selectedGenericAssayEntities",get:function(){return Object($e.y)(this.urlWrapper.query.generic_assay_groups)}},{key:"cancerStudyIds",get:function(){return this.urlWrapper.query.cancer_study_list.split(",")}},{key:"rppaScoreThreshold",get:function(){return this.urlWrapper.query.RPPA_SCORE_THRESHOLD?parseFloat(this.urlWrapper.query.RPPA_SCORE_THRESHOLD):2}},{key:"zScoreThreshold",get:function(){return this.urlWrapper.query.Z_SCORE_THRESHOLD?parseFloat(this.urlWrapper.query.Z_SCORE_THRESHOLD):2}},{key:"selectedMolecularProfileIds",get:function(){return Object($e.n)(this.urlWrapper.query)}},{key:"tabId",get:function(){return this.urlWrapper.tabId||ut.b.ONCOPRINT}},{key:"profileFilter",get:function(){return this.urlWrapper.query.profileFilter?parseInt(this.urlWrapper.query.profileFilter,10):0}},{key:"doNonSelectedDownloadableMolecularProfilesExist",get:function(){return this.nonSelectedDownloadableMolecularProfilesGroupByName.result&&w.keys(this.nonSelectedDownloadableMolecularProfilesGroupByName.result).length>0}},{key:"excludeGermlineMutations",get:function(){return"true"===this.urlWrapper.query.exclude_germline_mutations}},{key:"hugoGeneSymbols",get:function(){return this.urlWrapper.query.gene_list.length>0?Object(V.i)(this.urlWrapper.query.gene_list):[]}},{key:"queryContainsOql",get:function(){return Object(V.b)(this.urlWrapper.query.gene_list)}},{key:"queryContainsMutationOql",get:function(){return Object(V.a)(this.urlWrapper.query.gene_list)}},{key:"sampleListCategory",get:function(){return this.urlWrapper.query.case_set_id&&[wt.w_mut,wt.w_cna,wt.w_mut_cna].includes(this.urlWrapper.query.case_set_id)?this.urlWrapper.query.case_set_id:void 0}},{key:"comparisonGroupsReferencedInURL",get:function(){var e=this.urlWrapper.query.clinicallist;return e?e.split(",").filter(function(e){return Object(nt.d)({clinicalAttributeId:e})}).map(function(e){return Object(pt.b)(e,!1)}):[]}},{key:"physicalStudySet",get:function(){return w.keyBy(this.studies.result,function(e){return e.studyId})}},{key:"chartMetaSet",get:function(){var e,t={};if(w.reduce(this.clinicalAttributes.result,function(e,t){var n=Object(gt.fb)(t);return e[n]={displayName:t.displayName,uniqueKey:n,dataType:Object(gt.A)(n),patientAttribute:t.patientAttribute,description:t.description,priority:Object(gt.Z)(t),renderWhenDataChange:!1,clinicalAttribute:t},e},t),!w.isEmpty(this.mutationProfiles.result)){var n=Object(gt.gb)(this.mutationProfiles.result.map(function(e){return e.molecularProfileId}));t[n]={uniqueKey:n,dataType:gt.a.GENOMIC,patientAttribute:!1,displayName:"Mutated Genes",priority:Object(gt.I)(St.a.MUTATED_GENES_TABLE),renderWhenDataChange:!1,description:""}}if(!w.isEmpty(this.cnaProfiles.result)){var r=Object(gt.gb)(this.cnaProfiles.result.map(function(e){return e.molecularProfileId}));t[r]={uniqueKey:r,dataType:gt.a.GENOMIC,patientAttribute:!1,displayName:"CNA Genes",renderWhenDataChange:!1,priority:Object(gt.I)(St.a.CNA_GENES_TABLE),description:""}}var o=w.reduce(this.clinicalAttributes.result,function(e,t){return gt.g.MUTATION_COUNT===t.clinicalAttributeId&&(e[gt.g.MUTATION_COUNT]=!0),gt.g.FRACTION_GENOME_ALTERED===t.clinicalAttributeId&&(e[gt.g.FRACTION_GENOME_ALTERED]=!0),e},(Ot(e={},gt.g.MUTATION_COUNT,!1),Ot(e,gt.g.FRACTION_GENOME_ALTERED,!1),e));return o[gt.g.MUTATION_COUNT]&&o[gt.g.FRACTION_GENOME_ALTERED]&&(t[gt.g.MUTATION_COUNT_CNA_FRACTION]={dataType:gt.a.GENOMIC,patientAttribute:!1,uniqueKey:gt.g.MUTATION_COUNT_CNA_FRACTION,displayName:"Mutation Count vs Fraction of Genome Altered",priority:Object(gt.I)(gt.g.MUTATION_COUNT_CNA_FRACTION),renderWhenDataChange:!1,description:""}),t}},{key:"samplesSpecificationParams",get:function(){return Object(ut.f)(this.urlWrapper.query.case_ids,this.urlWrapper.query.sample_list_ids,this.urlWrapper.query.case_set_id,this.cancerStudyIds)}},{key:"downloadFilenamePrefix",get:function(){return Object(ct.a)(this.studies.result)}},{key:"referenceGenomeBuild",get:function(){if(!this.studies.isComplete)throw new Error("Failed to get studies");return Object(y.S)(this.studies.result)}},{key:"ensemblLink",get:function(){return this.referenceGenomeBuild===_.b.serverConfig.genomenexus_url_grch38?_.b.serverConfig.ensembl_transcript_grch38_url:_.b.serverConfig.ensembl_transcript_url}},{key:"genomeNexusClient",get:function(){return new u.b(this.referenceGenomeBuild)}},{key:"genomeNexusInternalClient",get:function(){return new u.c(this.referenceGenomeBuild)}},{key:"referenceGenome",get:function(){var e=this.studies.result?this.studies.result[0]:void 0;return e?e.referenceGenome:$e.a}},{key:"genesInvalid",get:function(){return this.genes.isError}},{key:"isQueryInvalid",get:function(){return this.hugoGeneSymbols.length*this.samples.result.length>_.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(_.b.serverConfig.query_product_limit/this.samples.result.length)}},{key:"didOncoKbFailInOncoprint",get:function(){return"complete"===this.getOncoKbMutationAnnotationForOncoprint.peekStatus&&this.getOncoKbMutationAnnotationForOncoprint.result instanceof Error}},{key:"didHotspotFailInOncoprint",get:function(){return"complete"===this.isHotspotForOncoprint.peekStatus&&this.isHotspotForOncoprint.result instanceof Error}},{key:"genomeNexusCache",get:function(){return new c.a(Object(Ct.a)(["annotation_summary"],this.genomeNexusClient))}},{key:"genomeNexusMutationAssessorCache",get:function(){return new p.a(Object(Ct.a)(["annotation_summary","mutation_assessor"],this.genomeNexusClient))}},{key:"pubMedCache",get:function(){return new s.a}},{key:"discreteCNACache",get:function(){return new h.a(this.studyToMolecularProfileDiscreteCna.result)}},{key:"cancerTypeCache",get:function(){return new d.a}},{key:"mutationCountCache",get:function(){return new f.a}},{key:"pdbHeaderCache",get:function(){return new m.a}},{key:"mutationDataCache",get:function(){return new q(this.studyToMutationMolecularProfile.result,this.studyToDataQueryFilter.result)}},{key:"isMixedReferenceGenome",get:function(){if(this.studies.result)return Object(At.c)(this.studies.result)}}])&&Et(t.prototype,n),b&&Et(t,b),e}();Mt([o.computed],jt.prototype,"oqlText",null),Mt([o.computed],jt.prototype,"genesetIds",null),Mt([o.computed],jt.prototype,"selectedGenericAssayEntities",null),Mt([o.computed],jt.prototype,"cancerStudyIds",null),Mt([o.computed],jt.prototype,"rppaScoreThreshold",null),Mt([o.computed],jt.prototype,"zScoreThreshold",null),Mt([o.computed],jt.prototype,"selectedMolecularProfileIds",null),Mt([o.computed],jt.prototype,"tabId",null),Mt([o.observable],jt.prototype,"resultsPageSettingsVisible",void 0),Mt([o.observable],jt.prototype,"checkingVirtualStudies",void 0),Mt([o.observable],jt.prototype,"urlValidationError",void 0),Mt([o.computed],jt.prototype,"profileFilter",null),Mt([o.observable],jt.prototype,"ajaxErrors",void 0),Mt([o.observable],jt.prototype,"sessionIdURL",void 0),Mt([o.observable],jt.prototype,"queryFormVisible",void 0),Mt([o.computed],jt.prototype,"doNonSelectedDownloadableMolecularProfilesExist",null),Mt([o.observable],jt.prototype,"modifyQueryParams",void 0),Mt([vt.default,o.action],jt.prototype,"setOncoprintAnalysisCaseType",null),Mt([o.computed],jt.prototype,"excludeGermlineMutations",null),Mt([vt.default,o.action],jt.prototype,"setExcludeGermlineMutations",null),Mt([o.computed],jt.prototype,"hugoGeneSymbols",null),Mt([o.computed],jt.prototype,"queryContainsOql",null),Mt([o.computed],jt.prototype,"queryContainsMutationOql",null),Mt([o.computed],jt.prototype,"sampleListCategory",null),Mt([o.computed.struct],jt.prototype,"comparisonGroupsReferencedInURL",null),Mt([o.computed],jt.prototype,"chartMetaSet",null),Mt([o.computed],jt.prototype,"samplesSpecificationParams",null),Mt([o.computed],jt.prototype,"downloadFilenamePrefix",null),Mt([o.computed],jt.prototype,"referenceGenomeBuild",null),Mt([vt.default],jt.prototype,"generateGenomeNexusHgvsgUrl",null),Mt([o.computed],jt.prototype,"ensemblLink",null),Mt([o.computed],jt.prototype,"genomeNexusClient",null),Mt([o.computed],jt.prototype,"genomeNexusInternalClient",null),Mt([o.computed],jt.prototype,"referenceGenome",null),Mt([o.computed],jt.prototype,"genesInvalid",null),Mt([o.computed],jt.prototype,"isQueryInvalid",null),Mt([o.computed],jt.prototype,"geneLimit",null),Mt([o.computed],jt.prototype,"didOncoKbFailInOncoprint",null),Mt([o.computed],jt.prototype,"didHotspotFailInOncoprint",null),Mt([l.cached],jt.prototype,"genomeNexusCache",null),Mt([l.cached],jt.prototype,"genomeNexusMutationAssessorCache",null),Mt([l.cached],jt.prototype,"pubMedCache",null),Mt([l.cached],jt.prototype,"discreteCNACache",null),Mt([l.cached],jt.prototype,"cancerTypeCache",null),Mt([l.cached],jt.prototype,"mutationCountCache",null),Mt([l.cached],jt.prototype,"pdbHeaderCache",null),Mt([l.cached],jt.prototype,"mutationDataCache",null),Mt([Ye.a],jt.prototype,"sortRnaSeqMolecularDataByStudy",null),Mt([o.action],jt.prototype,"clearErrors",null),Mt([o.computed],jt.prototype,"isMixedReferenceGenome",null)},571:function(e,t,n){"use strict";var r=n(187),o=n.n(r);var i=n(2);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return d});var s=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function p(e){return e.hasOwnProperty("meta")}var d=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToKey=t,this.dataToKey=n,this.fetch=r,this.init();for(var a=arguments.length,u=new Array(a>3?a-3:0),l=3;l<a;l++)u[l-3]=arguments[l];this.staticDependencies=u,this.debouncedPopulate=function(e,t,n,r,o){var i,a,u;function l(){u=n(),a=!1,i=null}function s(){a?(e(u),l()):(a=!0,i=window.setTimeout(s,r)),o&&o()}return l(),Object.assign(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];u=t.apply(void 0,[u].concat(n)),null===i?(a=!0,i=window.setTimeout(s,r)):a=!1},{isPending:function(){return null!==i},cancel:function(){null!==i&&window.clearTimeout(i),l()}})}(function(e){var t=Object.keys(e).map(function(t){return e[t]});o.populate(t)},function(e,t){return e[o.queryToKey(t)]=t,e},function(){return{}},0),Object(i.reaction)(function(){return o._cache},function(e){o.promises=o.promises.filter(function(e){return!o.tryTrigger(e)})})}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.pending={},this._cache=o.a.from({}),this.promises=[]}},{key:"getPromise",value:function(e,t){var n=this;return new Promise(function(r,o){var i,a={keys:(i=Array.isArray(e)?e:[e]).map(function(e){return n.queryToKey(e)}),callback:r,error:o};n.tryTrigger(a)||(n.promises.push(a),t&&i.map(function(e){return n.debouncedPopulate(e)}))})}},{key:"tryTrigger",value:function(e){var t=this,n=!0,r=!1,o=e.keys.map(function(e){var o=t._cache[e];return o?"error"===o.status&&(n=!1,r=!0):n=!1,o});return r?(e.error(),!0):!!n&&(e.callback(o),!0)}},{key:"peek",value:function(e){var t=this.queryToKey(e);return this._cache[t]||null}},{key:"get",value:function(e){return this.debouncedPopulate(e),this.peek(e)}},{key:"getImmediately",value:function(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.populate([e]);case 2:return t.abrupt("return",this.peek(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"addData",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[this.dataToKey(u)]={status:"complete",data:u}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.updateCache(t)}},{key:"populate",value:function(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=this.getMissing(e)).length){t.next=3;break}return t.abrupt("return");case 3:return this.markPending(n),t.prev=4,t.next=7,this.fetch.apply(this,[n].concat(a(this.staticDependencies)));case 7:return r=t.sent,this.putData(n,r),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(4),this.markError(n),t.abrupt("return",!1);case 16:return t.prev=16,this.unmarkPending(n),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[4,12,16,19]])}))}},{key:"getMissing",value:function(e){var t=this,n=this._cache,r=this.pending;return e.filter(function(e){var o=t.queryToKey(e);return!n[o]&&!r[o]})}},{key:"markPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[this.queryToKey(u)]=!0}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"unmarkPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[this.queryToKey(u)]=!1}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"markError",value:function(e){var t={},n={status:"error",data:null},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t[this.queryToKey(l)]=n}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}this.updateCache(t)}},{key:"putData",value:function(e,t){var n={},r={},o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;if(p(s)){var c=s.meta,d=!0,f=!1,h=void 0;try{for(var m,y=s.data[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var v=m.value,g=this.dataToKey(v,c);n[g]={status:"complete",data:v,meta:c},r[g]=!0}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}}else{var b=this.dataToKey(s);n[b]={status:"complete",data:s},r[b]=!0}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var S=!0,T=!1,C=void 0;try{for(var P,A=e[Symbol.iterator]();!(S=(P=A.next()).done);S=!0){var I=P.value,E=this.queryToKey(I);r[E]||(n[E]={status:"complete",data:null})}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}this.updateCache(n)}},{key:"updateCache",value:function(e){Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}},{key:"cache",get:function(){return this._cache}},{key:"activePromisesCount",get:function(){return this.promises.length}}])&&u(t.prototype,n),r&&u(t,r),e}();s([i.observable.ref],d.prototype,"_cache",void 0),s([i.action],d.prototype,"updateCache",null)},572:function(e,t,n){"use strict";n.d(t,"b",function(){return I}),n.d(t,"a",function(){return E}),n.d(t,"eb",function(){return O}),n.d(t,"u",function(){return _}),n.d(t,"F",function(){return w}),n.d(t,"G",function(){return k}),n.d(t,"q",function(){return M}),n.d(t,"B",function(){return G}),n.d(t,"e",function(){return N}),n.d(t,"A",function(){return x}),n.d(t,"Q",function(){return D}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return L}),n.d(t,"k",function(){return B}),n.d(t,"l",function(){return F}),n.d(t,"C",function(){return q}),n.d(t,"r",function(){return U}),n.d(t,"K",function(){return H}),n.d(t,"D",function(){return K}),n.d(t,"m",function(){return W}),n.d(t,"t",function(){return Q}),n.d(t,"s",function(){return Y}),n.d(t,"j",function(){return X}),n.d(t,"p",function(){return Z}),n.d(t,"o",function(){return J}),n.d(t,"v",function(){return $}),n.d(t,"w",function(){return ee}),n.d(t,"x",function(){return te}),n.d(t,"z",function(){return ne}),n.d(t,"y",function(){return re}),n.d(t,"h",function(){return oe}),n.d(t,"i",function(){return ie}),n.d(t,"c",function(){return ae}),n.d(t,"gb",function(){return le}),n.d(t,"fb",function(){return se}),n.d(t,"n",function(){return ce}),n.d(t,"H",function(){return pe}),n.d(t,"Z",function(){return de}),n.d(t,"J",function(){return fe}),n.d(t,"L",function(){return he}),n.d(t,"I",function(){return me}),n.d(t,"O",function(){return ye}),n.d(t,"bb",function(){return ve}),n.d(t,"cb",function(){return ge}),n.d(t,"Y",function(){return be}),n.d(t,"db",function(){return Se}),n.d(t,"d",function(){return Ce}),n.d(t,"N",function(){return Ae}),n.d(t,"M",function(){return Ie}),n.d(t,"ab",function(){return Ee}),n.d(t,"X",function(){return Oe}),n.d(t,"W",function(){return _e}),n.d(t,"T",function(){return we}),n.d(t,"S",function(){return ke}),n.d(t,"V",function(){return Me}),n.d(t,"E",function(){return Ge}),n.d(t,"P",function(){return Ne}),n.d(t,"U",function(){return xe}),n.d(t,"R",function(){return Re});var r=n(4),o=n(11),i=n.n(o),a=n(102),u=n(178),l=n(103),s=n(184),c=n(3),p=n(182),d=n(180),f=n(628),h=n(653),m=n(625),y=n(611),v=n(570),g=n(593),b=n(6),S=n(15),T=n(602),C=n(601);function P(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},I={indicatorMap:{}},E={UNKNOWN:void 0,WHOLE_EXOME_SEQ:"WES",WHOLE_GENOME_SEQ:"WGS"};function O(e){return e===E.UNKNOWN||e===E.WHOLE_EXOME_SEQ||e===E.WHOLE_GENOME_SEQ}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,n.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:t,mutationFilter:e,projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(a.J)(Object(g.c)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(a.K)(Object(g.c)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!e.length){n.next=10;break}return o=Object(c.W)(e),n.t0=r,n.next=5,t.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.slice(),projection:"SUMMARY"});case 5:return n.t1=n.sent,n.t2=function(e){return o[e.hugoGeneSymbol]},n.abrupt("return",n.t0.sortBy.call(n.t0,n.t1,n.t2));case 10:return n.abrupt("return",[]);case 11:case"end":return n.stop()}},n)}))}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t||!t.length){o.next=10;break}return i=Object(c.W)(t),o.t0=r,o.next=5,n.fetchReferenceGenomeGenesUsingPOST({genomeName:e,geneIds:t.slice()});case 5:return o.t1=o.sent,o.t2=function(e){return i[e.hugoGeneSymbol]},o.abrupt("return",o.t0.sortBy.call(o.t0,o.t1,o.t2));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("public-portal"!==b.b.serverConfig.app_name){n.next=2;break}return n.abrupt("return",i.a.get(Object(S.n)("reactapp/reference_genome_hg19.json")));case 2:if(!e){n.next=8;break}return n.next=5,t.getAllReferenceGenomeGenesUsingGET({genomeName:e});case 5:return n.abrupt("return",n.sent);case 8:return n.abrupt("return",[]);case 9:case"end":return n.stop()}},n)}))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.getAlignmentUsingGET({idType:"ensembl",id:e});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchCanonicalEnsemblTranscriptsByHugoSymbolsPOST({hugoSymbols:e,isoformOverrideSource:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r)}))}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,R(e,t,n);case 2:return i=o.sent,o.abrupt("return",i?r.zipObject(e,i):void 0);case 4:case"end":return o.stop()}},o)}))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:e,projection:"DETAILED"});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=6;break}return r.next=3,n.getAllClinicalDataOfPatientInStudyUsingGET({projection:"DETAILED",studyId:e,patientId:t});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e&&t.length>0)){r.next=6;break}return r.next=3,n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:t.map(function(t){return{sampleId:t,studyId:e}}),projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return e.length>0?n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:e.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),chromosome:t,projection:"DETAILED"}):Promise.resolve([])}function q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t){o.next=6;break}return o.next=3,r.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t,projection:"DETAILED"});case 3:return o.abrupt("return",o.sent);case 6:if(!e||!n){o.next=12;break}return o.next=9,r.getSampleInStudyUsingGET({studyId:e,sampleId:n}).then(function(e){return[e]});case 9:return o.abrupt("return",o.sent);case 12:return o.abrupt("return",[]);case 13:case"end":return o.stop()}},o)}))}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t&&e.result){o.next=2;break}return o.abrupt("return",[]);case 2:if(!((i=e.result.filter(function(e){return r.find(t,function(t){return t===e})})).length>0)){o.next=10;break}return o.next=6,Promise.all(i.map(function(e){return n.getAllSampleIdsInSampleListUsingGET({sampleListId:V(e)})}));case 6:return a=o.sent,o.abrupt("return",r.flatten(a.map(function(e,t){var n=i[t];return e.map(function(e){return{sampleId:e,studyId:n}})})));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function V(e){return"".concat(e,"_germline")}function z(e){var t={};return e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"!==e.clinicalAttributeId&&"CANCER_TYPE"!==e.clinicalAttributeId||(t[e.uniqueSampleKey]=!0)}),t}function H(e,t){if(e.result&&e.result.length>0&&t.result){var n=z(t);return r.filter(e.result,function(e){return!0!==n[e.uniqueSampleKey]})}return[]}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=[],!(e.result&&e.result.length>0)){n.next=6;break}return i=r.uniq(e.result.map(function(e){return e.studyId})),n.next=5,t.fetchStudiesUsingPOST({studyIds:i,projection:"DETAILED"});case 5:o=n.sent;case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}},n)}))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==(i=Ce(e,t)).length){o.next=3;break}return o.abrupt("return",void 0);case 3:if(!((a=r.chain(i).filter(function(e){return e.hasOwnProperty("keyword")}).map(function(e){return e.keyword}).uniq().value()).length>0)){o.next=11;break}return o.next=7,n.fetchCosmicCountsUsingPOST({keywords:r.filter(a,function(e){return null!=e})});case 7:return u=o.sent,o.abrupt("return",Object(h.b)(u));case 11:return o.abrupt("return",void 0);case 12:case"end":return o.stop()}},o)}))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSignificantlyMutatedGenesUsingGET({studyId:e});case 2:return r=n.sent,o=r.reduce(function(e,t){return e[t.entrezGeneId]={qValue:t.qValue},e},{}),n.abrupt("return",o);case 5:case"end":return n.stop()}},n)}))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=3,t.getSignificantCopyNumberRegionsUsingGET({studyId:e});case 3:return r=n.sent,n.abrupt("return",r.reduce(function(e,t){return t.genes.forEach(function(n){void 0===e[n.entrezGeneId]&&(e[n.entrezGeneId]=[]),e[n.entrezGeneId].push({amp:t.amp,qValue:t.qValue,peakGeneCount:t.genes.length})}),e},{}));case 7:return n.abrupt("return",{});case 8:case"end":return n.stop()}},n)}))}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.result?e.result.map(function(e){return{alteration:e.alteration,entrezGeneId:e.entrezGeneId}}):[],!(t.result&&o.length>0)){r.next=7;break}return r.next=4,n.fetchCopyNumberCountsUsingPOST({molecularProfileId:t.result,copyNumberCountIdentifiers:o});case 4:return r.abrupt("return",r.sent);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},r)}))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i={},t.length>0&&(i.sampleIds=t),n.length>0&&(i.sampleListId=n),o.next=5,u.a.getGenePanelDataUsingPOST({molecularProfileId:e,genePanelDataFilter:i});case 5:return a=o.sent,o.abrupt("return",r.keyBy(a,function(e){return e.sampleId}));case 7:case"end":return o.stop()}},o)}))}function J(e){return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return{},n=r.uniq(e),t.next=4,Promise.all(r.map(n,function(e){return A(i,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getGenePanelUsingGET({genePanelId:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}));case 4:return o=t.sent,t.abrupt("return",r.keyBy(o,function(e){return e.genePanelId}));case 6:case"end":return t.stop()}},t)}))}function $(){return n(723)}function ee(){return n(724)}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.utilsCancerGeneListGetUsingGET_1({});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.infoGetUsingGET_1({});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}function re(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var u,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=Ce(n,i),!(t instanceof Error)){o.next=5;break}return o.abrupt("return",new Error);case 5:if(0!==u.length){o.next=7;break}return o.abrupt("return",I);case 7:return l=r.filter(u,function(e){return!!t[e.entrezGeneId]}),o.abrupt("return",le(l.map(function(t){return{entrezGeneId:t.entrezGeneId,alteration:t.proteinChange,proteinPosStart:t.proteinPosStart,proteinPosEnd:t.proteinPosEnd,mutationType:t.mutationType,tumorType:ae(t.uniqueSampleKey,e)}}),a));case 9:case"end":return o.stop()}},o)}))}function oe(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function i(){var a,u;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.result&&0!==n.result.length){i.next=4;break}return i.abrupt("return",I);case 4:return a=r.filter(n.result,function(e){return!!t[e.gene.entrezGeneId]}),u=r.uniqBy(r.map(a,function(t){return Object(c.x)(t.gene.entrezGeneId,ae(t.uniqueSampleKey,e),Object(f.a)(t.alteration))}).filter(function(e){return e.copyNameAlterationType}),"id"),i.abrupt("return",se(u,o));case 7:case"end":return i.stop()}},i)}))}function ie(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function i(){var u,l;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.result&&0!==n.result.length){i.next=4;break}return i.abrupt("return",I);case 4:return u=r.filter(n.result,function(e){return o[e.molecularProfileId].molecularAlterationType===v.a.COPY_NUMBER_ALTERATION&&!!t[e.entrezGeneId]}),l=r.uniqBy(r.map(u,function(t){return Object(c.x)(t.entrezGeneId,ae(t.uniqueSampleKey,e),Object(f.a)(t.value))}).filter(function(e){return e.copyNameAlterationType}),function(e){return e.id}),i.abrupt("return",se(l,a));case 7:case"end":return i.stop()}},i)}))}function ae(e,t){return t[e]||null}var ue="Fusion";function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a,n=arguments.length>2?arguments[2]:void 0;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,u,l,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=r.uniqBy(r.map(e.filter(function(e){return e.mutationType!==ue}),function(e){return Object(c.z)(e.entrezGeneId,e.tumorType,e.alteration,e.mutationType,e.proteinPosStart,e.proteinPosEnd,n)}),"id"),a=r.uniqBy(r.map(e.filter(function(e){return e.mutationType===ue}),function(e){return Object(c.w)(e.entrezGeneId,e.tumorType,e.alteration,e.mutationType,n)}),"id"),0!==i.length){o.next=6;break}o.t0=[],o.next=9;break;case 6:return o.next=8,t.annotateMutationsByProteinChangePostUsingPOST_1({body:i});case 8:o.t0=o.sent;case 9:if(u=o.t0,0!==a.length){o.next=14;break}o.t1=[],o.next=17;break;case 14:return o.next=16,t.annotateStructuralVariantsPostUsingPOST_1({body:a});case 16:o.t1=o.sent;case 17:return l=o.t1,s={indicatorMap:Object(c.y)(u.concat(l))},o.abrupt("return",s);case 20:case"end":return o.stop()}},o)}))}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=4;break}n.t0=[],n.next=7;break;case 4:return n.next=6,t.annotateCopyNumberAlterationsPostUsingPOST_1({body:e});case 6:n.t0=n.sent;case 7:return r=n.t0,n.abrupt("return",(o=r,{indicatorMap:Object(c.y)(o)}));case 9:case"end":return n.stop()}var o},n)}))}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isComplete||!t.result){r.next=6;break}return r.next=3,n.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",discreteCopyNumberFilter:e,molecularProfileId:t.result});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function pe(e){if(e.result){var t=e.result.find(function(e){return"DISCRETE"===e.datatype});return t?t.molecularProfileId:void 0}}function de(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.a;if(e.result)return e.result.find(function(e){return e.molecularProfileId==="".concat(t).concat(n)})}function he(e,t){var n=fe(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.b);return n?n.molecularProfileId:void 0}function me(e){if(!e.result)return null;var t=/^.+rna_seq.*_zscores$/,n=/^.*_zscores$/,r=e.result.find(function(e){return t.test(e.molecularProfileId.toLowerCase())});if(r)return r.molecularProfileId;var o=e.result.find(function(e){return n.test(e.molecularProfileId.toLowerCase())});return o?o.molecularProfileId:null}function ye(e,t,n){var o={};if(e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"===e.clinicalAttributeId&&(o[e.uniqueSampleKey]=e.value)}),t&&t.result&&n&&n.result){var i=Ee(t.result);r.each(n.result,function(e){void 0===o[e.uniqueSampleKey]&&(o[e.uniqueSampleKey]=i[e.studyId])})}return o}function ve(e){var t={};if(e.result){var n=!0,r=!1,o=void 0;try{for(var i,a=e.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l="".concat(u.entrezGeneId,"_").concat(u.alteration);t[l]=t[l]||[],t[l].push(u)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return Object.keys(t).map(function(e){return t[e]})}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae,n={};return Te(n,e,t,!1),Object.keys(n).map(function(e){return n[e]})}function be(e){return Object(m.d)(e.result||[])}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae,r={};return Te(r,e,n,!1),Te(r,t,n,!0),Object.keys(r).map(function(e){return r[e]})}function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae,r=arguments.length>3?arguments[3]:void 0;if(t.result){var o=!0,i=!1,a=void 0;try{for(var u,l=t.result[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value,c=n(s);(!r||c in e)&&(e[c]=e[c]||[],e[c].push(s))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}function Ce(e,t){var n=e&&e.result?e.result:[],r=t&&t.result?t.result:[];return n.concat(r)}function Pe(e){return[e.chr,e.startPosition,e.endPosition,e.referenceAllele,e.variantAllele]}function Ae(e){return[e.gene.hugoGeneSymbol,e.proteinChange].concat(P(Pe(e))).join("_")}function Ie(e,t){var n={};return e?n={sampleListId:e}:t&&(n={sampleIds:t}),n}function Ee(e){return e.reduce(function(e,t){return e[t.studyId]=t.cancerType.name,e},{})}function Oe(e,t){return r.map(e,function(e){return{id:e,clinicalData:t.filter(function(t){return t.sampleId===e})}})}function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={},o=!0,i=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){r[u.value]=[]}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var s=!0,c=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value,m=t(h);r[m]=r[m]||[],r[m].push(h)}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}return r}function we(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.fetchGenesetHierarchyInfoUsingPOST({geneticProfileId:e,percentile:t,scoreThreshold:n,pvalueThreshold:r,sampleListId:o});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)}))}function ke(e){return e&&r.every(e,function(e){return new RegExp(T.a.grch38.NCBI,"i").test(e.referenceGenome)||new RegExp(T.a.grch38.UCSC,"i").test(e.referenceGenome)})?b.b.serverConfig.genomenexus_url_grch38:b.b.serverConfig.genomenexus_url}function Me(e){var t=Object(C.m)(e),n=r.reduce(t,function(e,n){var r=n.substring(0,n.indexOf("_STATUS"));return e.includes(r)||t.includes("".concat(r,"_MONTHS"))&&e.push(r),e},[]);return r.sortBy(n,function(e){return C.p[e]||C.a})}function Ge(e,t){return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return",!1);case 2:if(0!==(o=r.reduce(t,function(e,t){return e.push(t+"_STATUS"),e.push(t+"_MONTHS"),e},[])).length){n.next=5;break}return n.abrupt("return",!1);case 5:return i={attributeIds:o,identifiers:e.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})},n.next=8,u.a.fetchClinicalDataUsingPOSTWithHttpInfo({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:i,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)});case 8:return a=n.sent,n.abrupt("return",a>0);case 10:case"end":return n.stop()}},n)}))}function Ne(e){var t=!1,n=!1,r=!1,o=!1,i=!0,a=!1,u=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,p=!0,d=!1,f=void 0;try{for(var h,m=(c.alterations||[])[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var y=h.value;t=t||"mut"===y.alteration_type,n=n||"cna"===y.alteration_type,r=r||"exp"===y.alteration_type,o=o||"prot"===y.alteration_type}}catch(e){d=!0,f=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw f}}}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return{haveMutInQuery:t,haveCnaInQuery:n,haveMrnaInQuery:r,haveProtInQuery:o}}function xe(e){return r.flatten(e.map(function(e){return(e.alterations||[]).filter(function(e){return"mut"===e.alteration_type&&e.info.unrecognized})})).map(function(e){return'Unrecognized input "'.concat(e.constr_val,'" is interpreted as a mutation code.')})}function Re(e){return r.mapValues(r.keyBy([v.a.MUTATION_EXTENDED,v.a.COPY_NUMBER_ALTERATION,v.a.MRNA_EXPRESSION,v.a.PROTEIN_LEVEL]),function(t){return e.find(function(e){return e.showProfileInAnalysisTab&&e.molecularAlterationType===t})})}},573:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"m",function(){return f}),n.d(t,"o",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"l",function(){return y}),n.d(t,"k",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"i",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"g",function(){return C}),n.d(t,"p",function(){return P}),n.d(t,"n",function(){return A}),n.d(t,"r",function(){return I}),n.d(t,"f",function(){return E}),n.d(t,"q",function(){return O}),n.d(t,"j",function(){return _}),n.d(t,"e",function(){return w});var r=n(4),o=n(102),i=n(3),a=n(22),u=n(611),l=n(654),s=n(578),c=n(593),p=n(598),d={missenseColor:s.p,inframeColor:s.n,truncatingColor:s.t,otherColor:s.r};function f(e){return"fusion"===Object(p.c)(e.mutationType)}function h(e){return new RegExp(u.b+"$").test(e)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return Object(o.P)(Object(c.c)(e),t)}function y(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,s=!1,c=void 0;try{for(var p,d=u[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value,h=f.proteinPosStart;null!=h&&(t[h]=t[h]||[],t[h].push(f))}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}function v(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l="".concat(u.gene.hugoGeneSymbol,"_").concat(u.patientId,"_").concat(u.proteinChange);t[l]=t[l]||[],t[l].push(u)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}function g(e){return r.values(e).map(function(e){return e.length>0?e.length-1:0}).reduce(function(e,t){return e+t},0)}function b(e){return Object.keys(v(e)).length}function S(e,t,n){var o=[];return e.forEach(function(e){var r=e[0];r.proteinPosStart>-1&&r.proteinPosStart>=t&&r.proteinPosStart<=n&&o.push(r.proteinPosStart),r.proteinPosEnd>r.proteinPosStart&&r.proteinPosEnd>=t&&r.proteinPosEnd<=n&&o.push(r.proteinPosEnd)}),r.uniq(o)}var T=new RegExp(u.c,"i");function C(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(i.Y)(o.map(l.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&T.test(t.mutationStatus)&&!!a[Object(l.a)(r.studyId,t.sampleId)])}).map(l.a).uniq().value().length/o.length}return 0}function P(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(i.Y)(o.map(l.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&!T.test(t.mutationStatus)&&!!a[Object(l.a)(r.studyId,t.sampleId)])}).map(l.a).uniq().value().length/o.length}return 0}function A(e){return!e.mutationStatus||!T.test(e.mutationStatus)}function I(e,t){e.forEach(function(e){if(e.gene&&e.gene.hugoGeneSymbol){var n=t[e.gene.hugoGeneSymbol];n&&(e.gene=r.merge({},n,e.gene),e.entrezGeneId=e.entrezGeneId||n.entrezGeneId)}})}function E(e){var t=e.chromosome;switch(e.chromosome.toUpperCase()){case"X":t="23";break;case"Y":t="24"}return"".concat(t,",").concat(e.start,",").concat(e.end,",").concat(e.referenceAllele,",").concat(e.variantAllele)}function O(e){var t={};return e.map(function(e){var n=Object(a.d)(e);n&&(t[E(n)]=n)}),r.values(t)}function _(e){if(Number.isInteger(e.tumorRefCount)&&Number.isInteger(e.tumorAltCount)){var t=e.tumorAltCount/(e.tumorAltCount+e.tumorRefCount);return isNaN(t)?null:t}return null}function w(e){return function(e){if(e.chr&&e.startPosition&&-1!==e.startPosition&&e.endPosition&&-1!==e.endPosition&&e.referenceAllele&&"NA"!==e.referenceAllele&&e.variantAllele&&"NA"!==e.variantAllele)return"-"!==e.referenceAllele||"-"!==e.variantAllele;return!1}(e)?"-"===e.referenceAllele?"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"ins").concat(e.variantAllele):"-"===e.variantAllele?e.startPosition===e.endPosition?"".concat(e.chr,":g.").concat(e.startPosition,"del"):"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"del"):1===e.referenceAllele.length&&1===e.variantAllele.length?"".concat(e.chr,":g.").concat(e.startPosition).concat(e.referenceAllele,">").concat(e.variantAllele):1===e.referenceAllele.length&&e.variantAllele.length>1?"".concat(e.chr,":g.").concat(e.startPosition,"delins").concat(e.variantAllele):"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"delins").concat(e.variantAllele):null}},574:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return S}),n.d(t,"e",function(){return T}),n.d(t,"c",function(){return C}),n.d(t,"g",function(){return A}),n.d(t,"a",function(){return I}),n.d(t,"f",function(){return O}),n.d(t,"d",function(){return k}),n.d(t,"C",function(){return G}),n.d(t,"tb",function(){return N}),n.d(t,"s",function(){return x}),n.d(t,"mb",function(){return R}),n.d(t,"v",function(){return D}),n.d(t,"fb",function(){return j}),n.d(t,"P",function(){return L}),n.d(t,"gb",function(){return q}),n.d(t,"U",function(){return U}),n.d(t,"G",function(){return V}),n.d(t,"hb",function(){return z}),n.d(t,"kb",function(){return H}),n.d(t,"sb",function(){return K}),n.d(t,"H",function(){return W}),n.d(t,"q",function(){return Q}),n.d(t,"p",function(){return Y}),n.d(t,"nb",function(){return J}),n.d(t,"u",function(){return $}),n.d(t,"t",function(){return ee}),n.d(t,"pb",function(){return ne}),n.d(t,"lb",function(){return oe}),n.d(t,"r",function(){return ae}),n.d(t,"jb",function(){return se}),n.d(t,"A",function(){return de}),n.d(t,"M",function(){return fe}),n.d(t,"N",function(){return he}),n.d(t,"n",function(){return me}),n.d(t,"m",function(){return ye}),n.d(t,"O",function(){return ve}),n.d(t,"x",function(){return be}),n.d(t,"y",function(){return Se}),n.d(t,"i",function(){return Te}),n.d(t,"I",function(){return Ce}),n.d(t,"Z",function(){return Pe}),n.d(t,"ib",function(){return Ae}),n.d(t,"T",function(){return Ie}),n.d(t,"eb",function(){return Ee}),n.d(t,"ab",function(){return Oe}),n.d(t,"E",function(){return _e}),n.d(t,"h",function(){return we}),n.d(t,"X",function(){return ke}),n.d(t,"ob",function(){return Me}),n.d(t,"K",function(){return Ne}),n.d(t,"cb",function(){return xe}),n.d(t,"bb",function(){return Re}),n.d(t,"o",function(){return De}),n.d(t,"qb",function(){return je}),n.d(t,"L",function(){return Le}),n.d(t,"k",function(){return qe}),n.d(t,"j",function(){return Ue}),n.d(t,"rb",function(){return Ve}),n.d(t,"F",function(){return ze}),n.d(t,"db",function(){return He}),n.d(t,"Y",function(){return Ke}),n.d(t,"B",function(){return We}),n.d(t,"R",function(){return Xe}),n.d(t,"S",function(){return Ze}),n.d(t,"w",function(){return Je}),n.d(t,"J",function(){return $e}),n.d(t,"D",function(){return et}),n.d(t,"ub",function(){return tt}),n.d(t,"V",function(){return nt}),n.d(t,"l",function(){return rt}),n.d(t,"Q",function(){return ot}),n.d(t,"z",function(){return it}),n.d(t,"W",function(){return at});var r=n(4),o=n.n(r),i=n(0),a=n(15),u=n(103),l=n(178),s=n(606),c=n(3),p=n(578),d=n(667),f=n.n(d),h=n(668),m=n(600),y=n(589),v=n(642);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S,T,C,P,A,I,E=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.SAMPLE="SAMPLE",e.PATIENT="PATIENT"}(S||(S={})),function(e){e.QUARTILES="QUARTILES",e.MEDIAN="MEDIAN",e.BINS="BINS"}(T||(T={})),function(e){e.STRING="STRING",e.NUMBER="NUMBER"}(C||(C={})),function(e){e.cna="cna",e.gistic="gistic",e.rae="rae",e.cna_consensus="cna_consensus"}(P||(P={})),function(e){e.CUSTOM_SELECT="CUSTOM_SELECT",e.SELECTED_COMPARISON_GROUPS="SELECTED_COMPARISON_GROUPS",e.MUTATION_COUNT_CNA_FRACTION="MUTATION_COUNT_CNA_FRACTION",e.CANCER_STUDIES="CANCER_STUDIES",e.MUTATION_COUNT="MUTATION_COUNT",e.FRACTION_GENOME_ALTERED="FRACTION_GENOME_ALTERED",e.GENOMIC_PROFILES_SAMPLE_COUNT="GENOMIC_PROFILES_SAMPLE_COUNT",e.CASE_LISTS_SAMPLE_COUNT="CASE_LISTS_SAMPLE_COUNT"}(A||(A={})),function(e){e.CUSTOM_DATA="Custom_Data",e.CLINICAL="Clinical",e.GENOMIC="Genomic",e.GENE_SPECIFIC="Gene_Specific"}(I||(I={}));var O=[{uniqueKey:A.CANCER_STUDIES,displayName:"Cancer Studies",description:"Cancer Studies",dataType:I.CLINICAL,patientAttribute:!1,chartType:s.a.PIE_CHART,dimension:{w:1,h:1},renderWhenDataChange:!1,priority:70},{uniqueKey:A.GENOMIC_PROFILES_SAMPLE_COUNT,displayName:"Genomic Profile Sample Counts",description:"",chartType:s.a.GENOMIC_PROFILES_TABLE,dataType:I.GENOMIC,patientAttribute:!1,dimension:{w:2,h:2},priority:70,renderWhenDataChange:!1},{uniqueKey:A.CASE_LISTS_SAMPLE_COUNT,displayName:"Case Lists",description:"",chartType:s.a.CASE_LIST_TABLE,dataType:I.CLINICAL,patientAttribute:!1,dimension:{w:2,h:2},priority:70,renderWhenDataChange:!1}],_=[s.d.colors.theme.primary,s.d.colors.theme.secondary,s.d.colors.theme.tertiary,s.d.colors.theme.quaternary,"#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411","#743440","#9986e2","#6c3912","#788508","#609618","#790099","#5099c6","#2d4477","#76aa00","#882e2e","#916395","#794499","#92aa99","#2aaa11","#5633cc","#667300","#100707","#751067","#229262","#4574a6","#103eac","#177322","#66d620","#291383","#94359e","#5c5935","#29c413","#6a778d","#868d1c","#5ea413","#6c5922","#243411","#103440","#2886e2","#d93912","#f28508","#110618","#970099","#0109c6","#d10477","#68aa00","#b12e2e","#310395","#944499","#24aa99","#a4aa11","#6333cc","#e77300","#820707","#610067","#339262","#5874a6","#313eac","#b67322","#13d620","#b81383","#f8359e","#935935","#a10413","#29778d","#678d1c","#b2a413","#075922","#763411","#773440","#2996e2","#dc4912","#f81508","#104618","#991099","#0049c6","#dd2477","#663a00","#b84e2e","#312395","#993499","#223a99","#aa1a11","#6673cc","#e66300","#8b5707","#656067","#323262","#5514a6","#3b8eac","#b71322","#165620","#b99383","#f4859e","#9c4935","#a91413","#2a978d","#669d1c","#be1413","#0c8922","#742411","#744440","#2983e2","#dc3612","#f88808","#109518","#990599","#0092c6","#dd4977","#66a900","#b8282e","#316295","#994199","#22a499","#aaa101","#66310c","#e67200","#8b0907","#651167","#329962","#5573a6","#3b37ac","#b77822","#16d120","#b91783","#f4339e","#9c5105","#a9c713","#2a710d","#66841c","#bea913","#0c5822","#743911","#743740","#298632","#dc3922","#f88588","#109658","#990010","#009916","#dd4447","#66aa60","#b82e9e","#316365","#994489","#22aa69","#aaaa51","#66332c","#e67390","#8b0777","#651037","#329232","#557486","#3b3e4c","#b77372","#16d690","#b91310","#f4358e","#9c5910","#a9c493","#2a773d","#668d5c","#bea463","#0c5952","#743471","#743450","#2986e3","#dc3914","#f88503","#109614","#990092","#0099c8","#dd4476","#66aa04","#b82e27","#316397","#994495","#22aa93","#aaaa14","#6633c1","#e67303","#8b0705","#651062","#329267","#5574a1","#3b3ea5"],w=3,k=52,M={"<=":"≤","<":"<",">=":"≥",">":">"};function G(e,t,n){var r=e.toLowerCase().trim(),o=t.toLowerCase().trim().replace(/.&/,"");return i.createElement("div",{style:{maxWidth:"300px"}},i.createElement("div",null,i.createElement("b",null,e)," ",!!n&&i.createElement("span",{className:f.a.titleMeta},"ID: ",n)),o!==r&&i.createElement("div",null,t))}function N(e,t){var n=o.a.filter(e,function(e){return e.gene!==t});return n.length===e.length&&n.push({gene:t,alterations:!1}),n}function x(e,t,n){var r;return n=(r=n)?">="===r?"≥":"<="===r?"≤":r:"",void 0===e?void 0===t?n:"".concat(n).concat(t.toLocaleString()):void 0===t?"".concat(n).concat(e.toLocaleString()):e!==t?"".concat(n).concat(e.toLocaleString(),"-").concat(t.toLocaleString()):"".concat(n).concat(e.toLocaleString())}function R(e){var t=function(e){return{mutRange:x(e.minY,e.maxY,void 0),fgaRange:e.maxX.toFixed(2)!==e.minX.toFixed(2)?"".concat(e.minX.toFixed(2),"-").concat(e.maxX.toFixed(2)):e.minX.toFixed(2)}}(e);return i.createElement("div",null,i.createElement("div",null,"Number of Samples: ",i.createElement("b",null,e.count.toLocaleString())),i.createElement("div",null,"Mutation Count: ",i.createElement("b",null,t.mutRange)),i.createElement("div",null,"Fraction Genome Altered: ",i.createElement("b",null,t.fgaRange)))}function D(e,t,n,r){var i,a=["Cancer Study","Patient ID","Sample ID","Mutation Count","CNA Fraction"];void 0!==n&&void 0!==t&&(a.push(n.displayName),void 0!==r&&(a.push("Color"),i=o.a.keyBy(r,"value")));var u=e.map(function(e){var o=["".concat(e.studyId),"".concat(e.patientId),"".concat(e.sampleId),"".concat(e.y),"".concat(e.x)];if(void 0!==n&&void 0!==t){var a=t[e.uniqueSampleKey];o.push(void 0!==a?"".concat(a):v.a.NA),void 0!==r&&void 0!==a&&o.push(void 0!==i[a]?i[a].color:v.a.NA)}return o});return[a].concat(u).map(function(e){return e.join("\t")}).join("\n")}function j(e){return e.clinicalAttributeId}function L(e,t){return e+"_"+t}var B,F=":";function q(e){return o.a.sortBy(e).join(F)}function U(e){return e.split(F)}function V(){return(new Date).toISOString().slice(0,10)}function z(e,t,n,r,i,a,u){var l=[];if(e){var s=new RegExp("".concat("Created on",".*"));l.push(e.replace(s,""))}else{var c=o.a.uniq(o.a.flatMap(t,function(e){return e.uniqueSampleKeys}));l.push("".concat(c.length," sample").concat(c.length>1?"s":""," from ").concat(t.length," ").concat(t.length>1?"studies:":"study:")),t.forEach(function(e){l.push("- ".concat(e.name," (").concat(e.uniqueSampleKeys.length," sample").concat(c.length>1?"s":"",")"))});var p=[];o.a.isEmpty(n)||(o.a.each(n.geneFilters||[],function(e){var t=r[q(e.molecularProfileIds)];p.push("- ".concat(t,":")),p=p.concat(e.geneQueries.map(function(e){return e.join(", ").trim()}).map(function(e){return"  - "+e}))}),o.a.isEmpty(n.genomicProfiles)||(p.push("- Genomic Profile Sample Counts:"),p=p.concat(n.genomicProfiles.map(function(e){return e.map(function(e){return i[e]}).join(", ").trim()}).map(function(e){return"  - "+e}))),o.a.isEmpty(n.caseLists)||(p.push("- Case List Sample Counts:"),p=p.concat(n.caseLists.map(function(e){return e.map(function(e){return a[e]}).join(", ").trim()}).map(function(e){return"  - "+e}))),o.a.each(n.clinicalDataFilters||[],function(e){var t=r[e.attributeId];p.push("- ".concat(t,": ").concat(se(e.values)))}),o.a.each(n.genomicDataFilters||[],function(e){var t=L(e.hugoGeneSymbol,e.profileType),n=r[t];p.push("- ".concat(n,": ").concat(se(e.values)))}),o.a.each(n.sampleIdentifiersSet||{},function(e,t){var n=r[t]||t;p.push("- ".concat(n,": ").concat(e.length," samples"))})),p.length>0&&(l.push(""),l.push("Filters:"),l=l.concat(p)),l.push("")}return l.push("".concat("Created on"," ")+V()+(u?" by "+u:"")),l.join("\n")}function H(e){var t=!(o.a.isEmpty(e)||o.a.isEmpty(e.clinicalDataFilters)&&o.a.isEmpty(e.geneFilters)&&o.a.isEmpty(e.genomicProfiles)&&o.a.isEmpty(e.genomicDataFilters)&&o.a.isEmpty(e.caseLists));return e.sampleIdentifiersSet?t||!o.a.isEmpty(e.sampleIdentifiersSet):t}function K(t,n){var r=t.cloneNode(!0),o=e(t).find(n.legendGroupSelector).get(0).getBoundingClientRect();n.selectorToHide&&e(r).find(n.selectorToHide).remove();var i=+e(t).height()+o.height,a=Math.max(e(t).width(),o.width);if(e(r).attr("height",i+5),e(r).attr("width",a),e(r).css({height:i+5,width:a}),n.centerLegend){var u=Math.abs(e(t).width()-o.width),l="translate(".concat(u/2,", 0)");e(t).width()>o.width?e(r).find(n.legendGroupSelector).attr("transform",l):n.chartGroupSelector&&e(r).find(n.chartGroupSelector).attr("transform",l)}return r}function W(e){return e.map(function(e){return{start:e.start,end:e.end,value:void 0===e.start&&void 0===e.end?e.specialValue:void 0}})}function Q(e){return e.filter(function(e){return void 0!==e.start||void 0!==e.end})}function Y(e){return e.filter(function(e){return void 0===e.start&&void 0===e.end})}function X(e){return e.filter(function(e){return void 0!==e.start&&void 0!==e.end})}function Z(e){var t=e.map(function(e){return e.start});if(e.length>0){var n=e[e.length-1];n.start!==n.end&&t.push(n.end)}return t}function J(e){return oe(e)&&void 0!==e[0].start&&0!==e[0].start&&!ue(e[0].start)}function $(e){var t=J(e)?2:1;return e.map(function(n,r){var o;return 0===r&&void 0===n.start?o=r:r===e.length-1&&void 0===n.end?(o=r,r-1>-1&&e[r-1].start!==e[r-1].end&&o++):o=n.start===n.end?r:r+.5,{x:o+t,y:n.count,dataBin:n}})}function ee(e,t){return e.map(function(e,n){return{x:t+n+1,y:e.count,dataBin:e}})}function te(e){return e.length>0&&void 0===e.find(function(e){return 0!==e&&-1<e&&e<1||0!==e&&ge(e)%.5!=0})}function ne(e,t,n){return H(e)||t>=2||1===n}function re(e){return e&&e.length>0&&void 0===e.find(function(e){return e.start!==e.end})}function oe(e){if(!e)return!1;var t=X(Q(e)),n=Z(t);return!re(t)&&te(n)}function ie(e){return 0!==e&&-.001<=e&&e<=.001}function ae(e){if(0===e.length)return[];var t,n=e[0],r=e[e.length-1],o=X(e),i=Z(o),a=!re(o)&&te(i);return void 0===n.start?i=[n.end].concat(b(i)):a&&0!==n.start&&(ue(n.start)||(i=[le(n.start,B.LEADING)].concat(b(i)))),void 0===r.end?i.push(r.start):a&&0!==r.end&&(ue(r.end)||i.push(le(r.end,B.TRAILING))),t=a?function(e){return e.map(function(e){var t;if(-10===e||-1===e||0===e||1===e||10===e)t="".concat(e);else{var n=ge(e);(t=Number.isInteger(n)?"10^".concat(n.toFixed(0)):n%.5==0?"":"".concat(e))&&e<0&&(t="-".concat(t))}return t})}(i):o.length>0&&ie(o[Math.floor(o.length/2)].end)?i.map(function(e){return e.toExponential(0)}):function(e){return e.map(function(e){return ie(e)?e.toExponential(0):pe(e)})}(i),void 0===n.start&&(t[0]="".concat(M[n.specialValue]||n.specialValue).concat(t[0])),void 0===r.end&&(t[t.length-1]="".concat(M[r.specialValue]||r.specialValue).concat(t[t.length-1])),t}function ue(e){var t=!1;if(e){var n=Math.log10(Math.abs(e));Number.isInteger(n)&&(t=!0)}return t}function le(e,t){if(e){var n=Math.log10(Math.abs(e)),r=e*t>0?Math.floor(n):Math.ceil(n),o=Math.pow(10,r);return Math.sign(e)*o}return 1}function se(e){var t=e.filter(function(e){return void 0===e.start&&void 0===e.end}).map(function(e){return e.value}),n=e.filter(function(e){return void 0!==e.start||void 0!==e.end}),r=n.length>0?n[0].start:void 0,o=n.length>0?n[n.length-1].end:void 0,i=[];return n.length>0&&(void 0===r&&void 0===o?i.push("All Numbers"):void 0===r?i.push("≤ ".concat(ce(o))):void 0===o?i.push("> ".concat(ce(r))):r===o?i.push("".concat(ce(r))):n[0].start===n[0].end?i.push("".concat(ce(r)," ≤ x ≤ ").concat(ce(o))):i.push("".concat(ce(r)," < x ≤ ").concat(ce(o)))),t.length>0&&(i=i.concat(t)),i.length>0?i.join(", "):""}function ce(e){var t;return void 0!==e&&(t=ie(e)?e.toExponential(0):pe(e)),t}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"".concat(e);var n=Math.abs(e);if(Number.isInteger(n))return"".concat(e);var r=t;if(e<1&&e>-1){var o=Math.abs(Math.log10(n%1));r+=Number.isInteger(o)?Math.floor(o)-1:Math.floor(o)}return"".concat(Number(e.toFixed(r)))}function de(e){var t=[A.MUTATION_COUNT_CNA_FRACTION,A.MUTATION_COUNT,A.FRACTION_GENOME_ALTERED,A.GENOMIC_PROFILES_SAMPLE_COUNT];return o.a.includes(t,e)?I.GENOMIC:I.CLINICAL}function fe(e,t){return Math.floor((e-10-he(t))/2)}function he(e){return Math.floor(Object(c.L)(e,"Helvetica Neue","13px"))}function me(e){return e>0?e:0}function ye(e){return Math.ceil(e)}function ve(e){var t="";return e<0?v.a.NA:(t=0===e?"0":e<100&&e>=99.9?"99.9":e>=.1?e.toFixed(1).toString():"<0.1","".concat(t,"%"))}function ge(e){var t=Math.abs(e)<50?1:2;return Number(Math.log10(Math.abs(e)).toFixed(t))}function be(e){return m.b[e]||""}function Se(e){switch(e){case"HOMDEL":return p.d;case"AMP":return p.a;default:return}}function Te(e,t,n,r,i,a){var u=[],l={},s=[new Array(t).fill("")];if(e.sort(Ue),r.length>0)if(i&&a){var c=r.find(function(e){return e.i===i.uniqueKey});if(!c)throw new Error("cannot find matching unique key in the grid layout");var p=function(e,t,n,r){var o=e.x,i=e.y,a=r.w,u=o,l=i;s={w:e.w,h:e.h},c=r,s.w+s.h>c.w+c.h?u=o+e.w-a:o+a>=n&&o-a>=0&&(u=n-a);var s,c;return{i:t.uniqueKey,x:u,y:l,w:r.w,h:r.h,isResizable:!1}}(c,i,t,a);u.push(p),l[i.uniqueKey]=!0,s=function(e,t){var n=[new Array(t).fill("")],r=e.x+e.w,o=e.y+e.h;for(;o>=n.length;)n.push(new Array(t).fill(""));for(var i=e.y;i<o;i++)for(var a=e.x;a<r;a++)n[i][a]=e.i;return n}(p,t)}else{var d=o.a.keyBy(r,function(e){return e.i});e.sort(function(e,t){var n=d[e.uniqueKey],r=d[t.uniqueKey];return n||r?r?n?n.y===r.y?n.x-r.x:n.y-r.y:1:-1:0})}return o.a.forEach(o.a.filter(e,function(e){return!l[e.uniqueKey]}),function(e){for(var r=n[e.uniqueKey]||{w:1,h:1},i=function(e,t){if(0===e.length)return{x:0,y:0};var n=void 0;return o.a.each(e,function(r,i){if(o.a.each(r,function(r,o){if(!r&&!function(e,t,n){var r=!1;if(0===e.length)return!1;if(n.w>1&&t.x%2!=0&&(r=!0),n.h>1&&t.y%2!=0&&(r=!0),!r)for(var o=t.x+n.w,i=t.y+n.h,a=t.y;a<i&&!(a>=e.length);a++){for(var u=t.x;u<o;u++)if(u>=e[0].length||e[a][u]){r=!0;break}if(r)break}return r}(e,{x:o,y:i},t))return n={x:o,y:i},!1}),n)return!1}),n||{x:0,y:e.length}}(s,r);i.y+r.h>=s.length;)s.push(new Array(t).fill(""));u.push({i:e.uniqueKey,x:i.x,y:i.y,w:r.w,h:r.h,isResizable:!1});for(var a=i.x+r.w,l=i.y+r.h,c=i.y;c<l;c++)for(var p=i.x;p<a;p++)s[c][p]=e.uniqueKey}),u}function Ce(e){return void 0===s.d.priority[e]?1:s.d.priority[e]}function Pe(e){var t=Number(e.priority);if(t===s.d.defaultPriority){var n=j(e);return void 0===s.d.priority[n]?s.d.defaultPriority:s.d.priority[n]}return t}function Ae(e,t){return s.d.layout.grid.w*e.w+(e.w-1)*s.d.layout.gridMargin.x-2*t}function Ie(e,t){return s.d.layout.grid.h*e.h+(e.h-1)*s.d.layout.gridMargin.y-t}function Ee(e,t){return Ie(e,t)-30}function Oe(e){return 0===e?"0":e.toExponential(w)}function _e(e){e.sort(Be);var t=Me(e),n=o.a.sumBy(e,function(e){return e.count});return e.map(function(e){var r=e.count/n;return Object.assign(Object.assign({},e),{color:t[e.value],percentage:r,freq:ve(100*r)})})}function we(e,t){return o.a.reduce(e,function(e,n,r){return e[r]=100*n/t,e},{})}function ke(e,t,n){return o.a.map(e,function(e){return{label:e.displayName,key:e.uniqueKey,chartType:n[e.uniqueKey],disabled:!1,selected:t.includes(e.uniqueKey),freq:100}})}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=o.a.cloneDeep(t),r=function(e){return o.a.reduce(e,function(e,t){var n=Ge(t.value)?p.f:Object(p.y)(t.value);return n&&(e[t.value]=n),e},{})}(e);return n=o.a.difference(n,o.a.values(r)),Object.assign(Object.assign({},function(e,t){var n=0;return o.a.reduce(e,function(e,r){return Ge(r.value)||Object(p.y)(r.value)||(e[r.value]=t[n%t.length],n++),e},{})}(e,n)),r)}function Ge(e){return"na"===e.toLowerCase().trim()}function Ne(e,t){return o.a.reduce(e,function(e,n){return(void 0===t||t(n))&&e.push({sampleId:n.sampleId,studyId:n.studyId}),e},[])}function xe(e,t,n,r,i){var a={clinicalDataFilters:t.clinicalDataFilters,geneFilters:t.geneFilters},l=o.a.reduce(n,function(t,n,r){return e!==r&&(t=0===t.length?n:o.a.intersectionWith(t,n,o.a.isEqual)),t},[]);return l&&l.length>0?a.sampleIdentifiers=l:o.a.isEmpty(r)?a.studyIds=i:a.sampleIdentifiers=r,u.a.fetchFilteredSamplesUsingPOST({studyViewFilter:a})}function Re(e,t,n,r,o,i,a){return t&&e&&!r?[a]:e||n?r?[]:[o]:[i]}function De(e){return 0!==e.length&&!o.a.some(e,function(e){return isNaN(Number(e))})}function je(e,t){return 0===e.length&&1===t.length}function Le(e,t,n){var r=[],i=o.a.groupBy(e,function(e){return e.studyId});return o.a.each(t,function(e){var t=i[e.studyId];t&&t.length>0&&r.push(Object.assign(Object.assign({},e),{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}),o.a.each(n,function(e){var t=[];if(e.data.studies.forEach(function(e){var n=i[e.id];n&&n.length>0&&(t=t.concat(n))}),t.length>0){var n={name:e.data.name,description:e.data.description,studyId:e.id};r.push(Object.assign(Object.assign({},n),{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}}),r}function Be(e,t){return Ge(e.value)?Ge(t.value)?0:1:Ge(t.value)?-1:t.count-e.count}function Fe(e,t){return t.priority-e.priority||e.displayName.localeCompare(t.displayName)}function qe(e,t){return Fe({priority:Number(e.priority),displayName:e.displayName},{priority:Number(t.priority),displayName:t.displayName})}function Ue(e,t){return Fe({priority:e.priority,displayName:e.displayName},{priority:t.priority,displayName:t.displayName})}function Ve(e,t,n){try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(a.b)(e),n)}catch(r){window.localStorage.clear();try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(a.b)(e),n)}catch(e){alert("Sorry, the query is too large to submit")}}}function ze(e){return e.replace(/\\,/g,"$@$").split(",").map(function(e){return e.trim().replace(/\$@\$/g,",")})}function He(e){return e.length<=2?e.map(function(e){return e.name}).join(" and "):"".concat(e[0].name," and ").concat(e.length-1," other groups")}function Ke(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.patients.map(function(e){return{studyId:t,patientId:e}})})})),function(e,t){return e.patientId===t.patientId&&e.studyId===t.studyId})}function We(e,t,n,r,i,a,u){var l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],p=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],d=arguments.length>10?arguments[10]:void 0;d||(d=Te(e,t,n,[]));var f={};return e.forEach(function(e){var t=e.uniqueKey,n=r[t]||"NONE";f[e.uniqueKey]={id:e.uniqueKey,chartType:n,patientAttribute:e.patientAttribute},n===s.a.MUTATED_GENES_TABLE?f[e.uniqueKey].filterByCancerGenes=l:n===s.a.FUSION_GENES_TABLE?f[e.uniqueKey].filterByCancerGenes=c:n===s.a.CNA_GENES_TABLE&&(f[e.uniqueKey].filterByCancerGenes=p);var d=i[t];d&&(f[t].groups=d.groups,f[t].name=e.displayName);var h=a[t];h&&(f[t].name=h.name,f[t].description=h.description,f[t].hugoGeneSymbol=h.hugoGeneSymbol,f[t].profileType=h.profileType),u[t]&&(u[t].disableLogScale&&(f[t].disableLogScale=!0),o.a.isEmpty(u[t].customBins)||(f[t].customBins=u[t].customBins))}),d.forEach(function(e){e.i&&f[e.i]&&(f[e.i].layout={x:e.x,y:e.y,w:e.w,h:e.h})}),f}function Qe(e){return Number.isInteger(e)?e.toFixed(0):e.toFixed(2)}function Ye(e){return void 0!==e.specialValue?void 0!==e.start?e.specialValue+Qe(e.start):void 0!==e.end?e.specialValue+Qe(e.end):e.specialValue:void 0!==e.start&&void 0!==e.end?"".concat(Qe(e.start),"-").concat(Qe(e.end)):""}function Xe(e,t,n,r,i){var a={};t&&(a=o.a.groupBy(e,function(e){return e.uniquePatientKey}));var u=function(e,t){var n=t.filter(function(e){return void 0===e.specialValue}),r=t.filter(function(e){return void 0!==e.specialValue});return o.a.reduce(e,function(e,t){var i;if(isNaN(t.value)||(i=o.a.find(n,function(e){return parseFloat(t.value)>e.start&&parseFloat(t.value)<=e.end})),void 0===i&&(i=o.a.find(r,function(e){if(!isNaN(t.value)){if(void 0!==e.end)return parseFloat(t.value)<=e.end;if(void 0!==e.start)return parseFloat(t.value)>e.start}return e.specialValue===t.value})),i){var a=Ye(i);void 0===e[a]&&(e[a]=[]),e[a].push(t)}return e},{})}(n,r),l=r.map(function(e){return Ye(e)}),s=Object(c.W)(l);return o.a.reduce(u,function(e,n,r){if(0!==n.length){var u=[];u=t?o.a.flatMapDeep(n,function(e){return a[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})}):n.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}),e.push(Object(h.b)(r,u,i))}return e},[]).sort(function(e,t){return s[e.name]-s[t.name]})}function Ze(e,t,n,r){var i={};return t&&(i=o.a.groupBy(e,function(e){return e.uniquePatientKey})),n.map(function(e){var n=[];return n=t?o.a.flatMapDeep(e,function(e){return i[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})}):e.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}),Object(h.b)("".concat(Qe(parseFloat(e[0].value)),"-").concat(Qe(parseFloat(e[e.length-1].value))),n,r)})}function Je(e){return e+" "+String.fromCharCode(9662)}function $e(e){var t=e.filter(function(e){return void 0!==e.start||void 0!==e.end});return{start:t.length>0?t[0].start:void 0,end:t.length>0?t[t.length-1].end:void 0}}function et(e){return E(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,l.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:{identifiers:o.a.map(e,function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 3:return r=t.sent,o.a.forEach(r,function(e){n[e.uniqueSampleKey]=Object.assign(Object.assign({},n[e.uniqueSampleKey]||{}),g({},e.clinicalAttributeId,e.value))}),t.next=7,l.a.fetchClinicalDataUsingPOST({clinicalDataType:S.PATIENT,clinicalDataMultiStudyFilter:{identifiers:o.a.map(e,function(e){return{entityId:e.patientId,studyId:e.studyId}})}});case 7:return i=t.sent,a=o.a.groupBy(e,function(e){return e.uniquePatientKey}),o.a.forEach(i,function(e){(a[e.uniquePatientKey]||[]).forEach(function(t){n[t.uniqueSampleKey]=Object.assign(Object.assign({},n[t.uniqueSampleKey]||{}),g({},e.clinicalAttributeId,e.value))})}),t.abrupt("return",n);case 11:case"end":return t.stop()}},t)}))}function tt(e){var t=/^CUSTOM_FILTERS_\d+/i,n=/^(?:PATIENT_|SAMPLE_)([a-zA-Z0-9_]+)/i,r=0,i=0,a=o.a.reduce(A,function(e,t){return e[t]=!0,e},{});return e.forEach(function(e){e.id.match(t)||void 0!==a[e.id]||(r++,e.id.match(n)&&i++)}),r===i?e.map(function(e){var t=e.id.match(n);return t?Object.assign(Object.assign({},e),{id:t[1]}):e}):e}function nt(e,t,n){return o.a.chain(e).filter(function(e){return!n||n(e)}).groupBy(function(e){return e.molecularProfileId.replace(e.studyId+"_","")}).map(function(e,n){var r=o.a.chain(e).flatMap(function(e){return t[e.molecularProfileId]||[]}).uniq().value();return{value:n,count:r.length,label:e[0].name,description:e[0].description,sampleUniqueKeys:r}}).filter(function(e){return e.count>0}).value()}function rt(e){return e.map(function(e){return{attributeId:L(e.hugoGeneSymbol,e.profileType),count:e.count,end:e.end,specialValue:e.specialValue,start:e.start}})}function ot(e,t,n){return E(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i,a,u,s,c,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.a.getGeneUsingGET({geneId:e.hugoGeneSymbol});case 2:if(i=r.sent,a=t[e.profileType],!o.a.isEmpty(a)){r.next=6;break}return r.abrupt("return",[]);case 6:return u=o.a.keyBy(a,function(e){return e.studyId}),s=n.map(function(e){return{sampleId:e.sampleId,molecularProfileId:u[e.studyId].molecularProfileId}}),r.next=10,l.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:[i.entrezGeneId],sampleMolecularIdentifiers:s}});case 10:return c=r.sent,p=new y.a,c.forEach(function(e){return p.set({sampleId:e.sampleId,molecularProfileId:e.molecularProfileId},e)}),r.abrupt("return",n.map(function(e){var t=u[e.studyId].molecularProfileId,n=p.get({sampleId:e.sampleId,molecularProfileId:t}),r={clinicalAttributeId:i.entrezGeneId+"-"+t,patientId:e.patientId,sampleId:e.sampleId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,uniqueSampleKey:e.uniqueSampleKey};return r.value=n?"".concat(n.value):v.a.NA,r}));case 14:case"end":return r.stop()}},r)}))}function it(e){return e[P.cna]||e[P.gistic]||e[P.rae]||e[P.cna_consensus]||0}function at(e,t){var n=o.a.keyBy(e,function(e){return e.uniqueSampleKey});return o.a.reduce(t,function(e,t){return void 0!==n[t.uniqueSampleKey]&&(void 0===e[t.molecularProfileId]&&(e[t.molecularProfileId]=[]),e[t.molecularProfileId].push(t.uniqueSampleKey)),e},{})}!function(e){e[e.LEADING=1]="LEADING",e[e.TRAILING=-1]="TRAILING"}(B||(B={}))}).call(this,n(11))},575:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return w}),n.d(t,"a",function(){return k});var r=n(703),o=n(0),i=n(2),a=n(7),u=(n(716),n(603)),l=n(681),s=n(718),c=n(3),p=n(700),d=n(706),f=n(56),h=n(785),m=n.n(h),y=n(595),v=n(721),g=n(669);function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function _(e,t,n){var r=0;return e!==t&&(null===e?r=1:null===t?r=-1:"number"==typeof e?r=e<t?n?-1:1:n?1:-1:"string"==typeof e&&(r=(n?1:-1)*e.localeCompare(t))),r}function w(e,t){for(var n,r,o,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[],u=0;u<e.length;u++){var l=e[u];a.push({data:l,initialPosition:u,sortBy:[].concat(t(l))})}return a.sort(function(e,t){return 0===(n=function(e,t,n){for(var r=0,o=Math.min(e.length,t.length),i=0;i<o&&0===(r=_(e[i],t[i],n));i++);return 0===r&&(e.length<t.length?r=n?-1:1:e.length>t.length&&(r=n?1:-1)),r}(e.sortBy,t.sortBy,i))&&(r=e.initialPosition,o=t.initialPosition,n=r<o?-1:1),n}),a.map(function(e){return e.data})}var k=function(){function t(e){var n=this;P(this,t),this.sortColumn=e.initialSortColumn||"",this.sortAscending="desc"!==e.initialSortDirection,this.setProps(e),Object(i.reaction)(function(){return n.displayData.length},function(){n.page=n.clampPage(n.page)})}return I(t,[{key:"clampPage",value:function(e){return e=Math.max(e,0),e=Math.min(e,this.maxPage)}},{key:"getNextSortAscending",value:function(e){return this.sortColumn===e.name?!this.sortAscending:"asc"===(e.defaultSortDirection||"asc")}},{key:"defaultHeaderClick",value:function(e){this.sortAscending=this.getNextSortAscending(e),this.dataStore.sortAscending=this.sortAscending,this.sortColumn=e.name,this.dataStore.sortMetric=this.sortMetric,this.page=0}},{key:"pageToRowIndex",value:function(e){this.page=Math.floor(e/this.itemsPerPage)}},{key:"setFilterString",value:function(e){var t=this;this.filterString=e,this.dataStore.filterString=e,this.page=0,this.dataStore.setFilter(function(e,n,r,o){if(!n)return!0;var i=!1,a=!0,u=!1,l=void 0;try{for(var s,c=t.visibleColumns[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var p=s.value;if(i=p.filter&&p.filter(e,n,r,o)||!1)break}}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return i})}},{key:"setProps",value:function(e){this.columns=e.columns,this._itemsLabel=e.itemsLabel,this._itemsLabelPlural=e.itemsLabelPlural,this._columnVisibility=e.columnVisibility,this.downloadDataFetcher=e.downloadDataFetcher,this.onRowClick=e.onRowClick,this.onRowMouseEnter=e.onRowMouseEnter,this.onRowMouseLeave=e.onRowMouseLeave,e.dataStore?this.dataStore=e.dataStore:this.dataStore=new y.b(e.data||[]),void 0===this.dataStore.page&&(this.dataStore.page=0),void 0===this.itemsPerPage&&(this.itemsPerPage=e.initialItemsPerPage||50),void 0===this.dataStore.sortAscending?this.dataStore.sortAscending=this.sortAscending:this.sortAscending=this.dataStore.sortAscending,void 0===this.dataStore.sortMetric&&(this.dataStore.sortMetric=this.sortMetric),!e.dataStore&&this.filterString&&this.setFilterString(this.filterString)}},{key:"updateColumnVisibility",value:function(e,t){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(c.T)(this.columnVisibilityByColumnDefinition,this._columnVisibility)),void 0!==this._columnVisibilityOverride[e]&&(this._columnVisibilityOverride[e]=t)}},{key:"isVisible",value:function(e){return this.columnVisibility[e.name]||!1}},{key:"itemsPerPage",get:function(){return this.dataStore.itemsPerPage},set:function(e){this.dataStore.itemsPerPage=e,this.page=this.page}},{key:"firstHighlightedRowIndex",get:function(){for(var e=-1,t=0;t<this.displayData.length;t++)if(this.dataStore.isHighlighted(this.displayData[t])){e=t;break}return e}},{key:"displayData",get:function(){return this.dataStore.tableData}},{key:"showingAllRows",get:function(){return this.displayData.length<=this.itemsPerPage||-1===this.itemsPerPage}},{key:"page",get:function(){return this.dataStore.page},set:function(e){this.dataStore.page=this.clampPage(e)}},{key:"maxPage",get:function(){return Object(v.a)(this.displayData.length,this.itemsPerPage)}},{key:"columnVisibility",get:function(){return Object(c.T)(this.columnVisibilityByColumnDefinition,this._columnVisibility,this._columnVisibilityOverride)}},{key:"columnVisibilityByColumnDefinition",get:function(){return Object(c.U)(this.columns)}},{key:"downloadData",get:function(){var e=this,t=[];return t[0]=[],this.columns.forEach(function(e){t[0].push(e.headerDownload?e.headerDownload(e.name):e.name)}),this.dataStore.sortedData.forEach(function(n){var r,o,i,a=function(e,t){var n={data:[],maxColLength:1};return e.forEach(function(e){if(e.download){var r=e.download(t);r instanceof Array?(n.data.push(r),r.length>n.maxColLength&&(n.maxColLength=r.length)):n.data.push(r)}else n.data.push("")}),n}(e.columns,n),u=(r=a.data,o=a.maxColLength,i=[],r.forEach(function(e){if(e instanceof Array){if(o!=e.length)throw new Error("Not all the arrays returned from the download functions are from the same length.");i.push(e)}else{for(var t=[],n=0;n<o;n++)t=t.concat(e);i.push(t)}}),i);u[0].map(function(e,t){return u.map(function(e){return e[t]})}).forEach(function(e){t.push(e)})}),t}},{key:"sortColumnObject",get:function(){var e=this;return this.columns.find(function(t){return e.isVisible(t)&&t.name===e.sortColumn})}},{key:"visibleData",get:function(){return this.dataStore.visibleData}},{key:"sortMetric",get:function(){var e=this.sortColumnObject;return e&&e.sortBy?e.sortBy:function(){return 0}}},{key:"headers",get:function(){var t=this;return this.visibleColumns.map(function(n,r){var i,a,u={};n.sortBy&&(u.role="button",u.onClick=function(r){var o=r.target,i=e(o).closest(".multilineHeader");i&&i.length>0&&t.defaultHeaderClick(n)}),t.sortColumn===n.name&&(u.className=t.sortAscending?"multilineHeader sort-asc":"multilineHeader sort-des"),i=n.headerRender?n.headerRender(n.name):o.createElement("span",null,n.name),a=n.tooltip?o.createElement(c.c,{placement:"top",overlay:n.tooltip},i):i;var l={};return n.align&&(l.textAlign=n.align),n.width&&(l.width=n.width),o.createElement(o.Fragment,{key:r},o.createElement("th",C({className:"multilineHeader"},u,{style:l}),a),n.resizable&&o.createElement(m.a,{className:"multilineHeader columnResizer",minWidth:0}))})}},{key:"visibleColumns",get:function(){var e=this;return this.columns.filter(function(t){return e.isVisible(t)})}},{key:"colVisProp",get:function(){var e=this,t=[];return this.columns.forEach(function(n){t.push({id:n.name,name:n.name,visible:e.columnVisibility[n.name],togglable:!n.hasOwnProperty("togglable")||n.togglable})}),t}},{key:"paginationStatusText",get:function(){var e,t;0===this.rows.length?(e=0,t=0):(e=this.itemsPerPage===u.b?1:this.page*this.itemsPerPage+1,t=this.itemsPerPage===u.b?this.rows.length:e+this.rows.length-1);var n=this.itemsLabel;return n.length&&(n=" ".concat(n)),"Showing ".concat(e,"-").concat(t," of ").concat(this.displayData.length).concat(n)}},{key:"tds",get:function(){var e=this;return this.visibleData.map(function(t){return e.visibleColumns.map(function(e){var n=o.createElement("td",{key:e.name},e.render(t));return e.resizable?o.createElement(o.Fragment,null,n,o.createElement(m.a,{className:"columnResizer",minWidth:0})):n})})}},{key:"rows",get:function(){for(var e=this,t=[],n=function(n){var r={},i=[];if(e.dataStore.isHighlighted(e.visibleData[n])&&i.push("highlighted"),e.onRowClick){i.push("clickable");var a=e.onRowClick;r.onClick=function(){a(e.visibleData[n])}}if(e.onRowMouseEnter){var u=e.onRowMouseEnter;r.onMouseEnter=function(){u(e.visibleData[n])}}if(e.onRowMouseLeave){var l=e.onRowMouseLeave;r.onMouseLeave=function(){l(e.visibleData[n])}}i.length&&(r.className=i.join(" ")),t.push(o.createElement("tr",C({key:n},r),e.tds[n]))},r=0;r<this.visibleData.length;r++)n(r);return t}},{key:"itemsLabel",get:function(){return this._itemsLabel?this._itemsLabelPlural&&1!==this.displayData.length?this._itemsLabelPlural:this._itemsLabel:""}}]),t}();O([i.observable],k.prototype,"_itemsLabel",void 0),O([i.observable],k.prototype,"_itemsLabelPlural",void 0),O([i.observable],k.prototype,"sortColumn",void 0),O([i.observable],k.prototype,"sortAscending",void 0),O([i.observable.ref],k.prototype,"columns",void 0),O([i.observable],k.prototype,"dataStore",void 0),O([i.observable],k.prototype,"downloadDataFetcher",void 0),O([i.observable],k.prototype,"onRowClick",void 0),O([i.observable],k.prototype,"onRowMouseEnter",void 0),O([i.observable],k.prototype,"onRowMouseLeave",void 0),O([i.observable],k.prototype,"_columnVisibility",void 0),O([i.observable],k.prototype,"_columnVisibilityOverride",void 0),O([i.computed],k.prototype,"itemsPerPage",null),O([i.computed],k.prototype,"firstHighlightedRowIndex",null),O([i.computed],k.prototype,"displayData",null),O([i.computed],k.prototype,"showingAllRows",null),O([i.computed],k.prototype,"page",null),O([i.computed],k.prototype,"maxPage",null),O([i.computed],k.prototype,"columnVisibility",null),O([i.computed],k.prototype,"columnVisibilityByColumnDefinition",null),O([i.computed],k.prototype,"downloadData",null),O([i.computed],k.prototype,"sortColumnObject",null),O([i.computed],k.prototype,"visibleData",null),O([i.computed],k.prototype,"sortMetric",null),O([i.action],k.prototype,"defaultHeaderClick",null),O([i.computed],k.prototype,"headers",null),O([i.computed],k.prototype,"visibleColumns",null),O([i.computed],k.prototype,"colVisProp",null),O([i.computed],k.prototype,"paginationStatusText",null),O([i.computed],k.prototype,"tds",null),O([i.computed],k.prototype,"rows",null),O([i.action],k.prototype,"pageToRowIndex",null),O([i.action],k.prototype,"setFilterString",null),O([i.computed],k.prototype,"itemsLabel",null),O([i.action],k.prototype,"setProps",null),O([i.action],k.prototype,"updateColumnVisibility",null);var M=function(e){function t(e){var n,r,o;return P(this,t),r=this,o=b(t).call(this,e),(n=!o||"object"!==E(o)&&"function"!=typeof o?S(r):o).store=new k(e),n.handlers={onFilterTextChange:Object(g.a)(function(e){n.store.setFilterString(e)},400),visibilityToggle:function(e){n.updateColumnVisibility(e,!n.store.columnVisibility[e])},changeItemsPerPage:function(e){n.store.itemsPerPage=e},incPage:function(){n.store.page+=1},decPage:function(){n.store.page-=1},filterInputRef:function(e){n.filterInput=e}},n.getDownloadData=n.getDownloadData.bind(S(n)),n.getDownloadDataPromise=n.getDownloadDataPromise.bind(S(n)),n.getTopToolbar=n.getTopToolbar.bind(S(n)),n.getBottomToolbar=n.getBottomToolbar.bind(S(n)),n.getTable=n.getTable.bind(S(n)),n.getPaginationControls=n.getPaginationControls.bind(S(n)),n.filterInputReaction=Object(i.reaction)(function(){return n.store.dataStore.filterString},function(e){n.filterInput&&(n.filterInput.value=e)}),n.pageToHighlightReaction=Object(i.reaction)(function(){return n.store.firstHighlightedRowIndex},function(e){n.props.pageToHighlight&&n.store.pageToRowIndex(n.store.firstHighlightedRowIndex)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,o["Component"]),I(t,[{key:"getDownloadData",value:function(){return Object(d.a)(this.store.downloadData)}},{key:"getDownloadDataPromise",value:function(){var e=this;return new Promise(function(t){e.store.downloadDataFetcher?e.store.downloadDataFetcher.fetchAndCacheAllLazyData().then(function(n){t({status:"complete",text:e.getDownloadData()})}).catch(function(){t({status:"incomplete",text:e.getDownloadData()})}):t({status:"complete",text:e.getDownloadData()})})}},{key:"updateColumnVisibility",value:function(e,t){void 0!==this.store.columnVisibility[e]&&this.store.updateColumnVisibility(e,t)}},{key:"componentWillUnmount",value:function(){this.filterInputReaction(),this.pageToHighlightReaction()}},{key:"componentWillReceiveProps",value:function(e){this.store.setProps(e)}},{key:"getPaginationControls",value:function(){var e={className:"text-center topPagination",itemsPerPage:this.store.itemsPerPage,totalItems:this.store.displayData.length,currentPage:this.store.page,onChangeItemsPerPage:this.handlers.changeItemsPerPage,showItemsPerPageSelector:!1,onPreviousPageClick:this.handlers.decPage,onNextPageClick:this.handlers.incPage,previousPageDisabled:0===this.store.page,nextPageDisabled:this.store.page===this.store.maxPage,textBeforeButtons:this.store.paginationStatusText,groupButtons:!1,bsStyle:"primary"};return this.props.paginationProps&&(!1===this.props.paginationProps.showMoreButton&&(delete e.textBeforeButtons,e.textBetweenButtons=this.store.paginationStatusText),e=Object.assign(e,this.props.paginationProps)),o.createElement(u.a,e)}},{key:"getTopToolbar",value:function(){return o.createElement("div",null,this.props.showCountHeader&&this.countHeader,o.createElement(f.ButtonToolbar,{style:{marginLeft:0},className:"tableMainToolbar"},this.props.showFilter?o.createElement("div",{className:"pull-right form-group has-feedback input-group-sm tableFilter",style:{display:"inline-block",marginLeft:5}},o.createElement("input",{ref:this.handlers.filterInputRef,placeholder:this.props.filterPlaceholder||"",type:"text",onInput:this.handlers.onFilterTextChange,className:"form-control tableSearchInput",style:{width:200}}),o.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true",style:{zIndex:0}})):"",this.props.showColumnVisibility?o.createElement(l.a,C({className:"pull-right",columnVisibility:this.store.colVisProp,onColumnToggled:this.handlers.visibilityToggle},this.props.columnVisibilityProps)):"",this.props.showCopyDownload?this.props.downloadDataFetcher?o.createElement(s.a,C({className:"pull-right",downloadData:this.getDownloadDataPromise,downloadFilename:"table.tsv"},this.props.copyDownloadProps)):o.createElement(p.a,C({className:"pull-right",downloadData:this.getDownloadData,downloadFilename:"table.tsv",controlsStyle:"BUTTON"},this.props.copyDownloadProps)):"",this.props.showPagination&&this.props.showPaginationAtTop?o.createElement(a.Observer,null,this.getPaginationControls):null))}},{key:"getBottomToolbar",value:function(){return o.createElement(f.ButtonToolbar,{style:{marginLeft:0,float:"none"},className:"tableMainToolbar center"},this.props.showPagination&&o.createElement(a.Observer,null,this.getPaginationControls))}},{key:"getTable",value:function(){return o.createElement("div",{style:{overflowX:this.props.enableHorizontalScroll?"auto":"visible"}},o.createElement(r.a,{headers:this.store.headers,rows:this.store.rows,className:this.props.className}))}},{key:"render",value:function(){return o.createElement("div",{className:"lazy-mobx-table","data-test":"LazyMobXTable"},o.createElement(a.Observer,null,this.getTopToolbar),o.createElement(a.Observer,null,this.getTable),!this.props.showPaginationAtTop&&o.createElement(a.Observer,null,this.getBottomToolbar))}},{key:"dataStore",get:function(){return this.store.dataStore}},{key:"countHeader",get:function(){return o.createElement("span",{"data-test":"LazyMobXTable_CountHeader",style:{float:"left",color:"black",fontSize:"16px",fontWeight:"bold"}},this.store.displayData.length," ",this.store.itemsLabel," (page"," ",this.store.page+1," of ",this.store.maxPage+1,")")}}]),t}();M.defaultProps={showFilter:!0,showCopyDownload:!0,showPagination:!0,showColumnVisibility:!0,showPaginationAtTop:!1,showCountHeader:!1},O([i.action],M.prototype,"componentWillReceiveProps",null),M=O([a.observer],M),t.b=M}).call(this,n(11))},576:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c});var r=n(4),o=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],i={fontFamily:"Arial, Helvetica",width:350,height:350,padding:50},a={fontFamily:"Arial, Helvetica",fontSize:13,letterSpacing:"normal",padding:8,stroke:"transparent",strokeWidth:0},u=Object(r.assign)({textAnchor:"middle"},a),l=Object(r.assign)({},a,{fontSize:13,padding:8}),s=Object(r.assign)({},a,{fill:"black",padding:2}),c=Object(r.assign)({},a),p={area:Object(r.assign)({style:{data:{fill:"#212121"},labels:u}},i),axis:Object(r.assign)({style:{axis:{fill:"transparent",stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:Object(r.assign)({},u,l),grid:{fill:"none",stroke:"#ECEFF1",strokeOpacity:function(e){return 0===e?0:1},strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"visible"},ticks:{fill:"transparent",size:4,stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:s}},i),bar:Object(r.assign)({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:a}},i),boxplot:Object(r.assign)({style:{max:{padding:8,stroke:"#455A64",strokeWidth:1},maxLabels:a,median:{padding:8,stroke:"#455A64",strokeWidth:1},medianLabels:a,min:{padding:8,stroke:"#455A64",strokeWidth:1},minLabels:a,q1:{padding:8,fill:"#455A64"},q1Labels:a,q3:{padding:8,fill:"#455A64"},q3Labels:a},boxWidth:20},i),candlestick:Object(r.assign)({style:{data:{stroke:"#455A64"},labels:u},candleColors:{positive:"#ffffff",negative:"#455A64"}},i),chart:i,errorbar:Object(r.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},i),group:Object(r.assign)({colorScale:o},i),line:Object(r.assign)({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},i),pie:Object(r.assign)({colorScale:o,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:Object(r.assign)({},a,{padding:20})}},i),scatter:Object(r.assign)({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:u}},i),stack:Object(r.assign)({colorScale:o},i),tooltip:{style:Object(r.assign)({},u,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:Object(r.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object(r.assign)({},u,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},i),legend:{colorScale:o,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle",size:3,strokeWidth:1,stroke:"black"},labels:c,title:Object(r.assign)({},a,{padding:5})}}};t.d=p},577:function(e,t,n){"use strict";var r=n(4),o=n.n(r),i=n(0),a=n(621),u=n(589);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new u.a}var t,n,r;return t=e,(n=[{key:"increment",value:function(e){this.map.set(e,(this.map.get(e)||0)+1)}},{key:"get",value:function(e){return this.map.get(e)||0}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&l(t.prototype,n),r&&l(t,r),e}(),c=n(657),p=n(579),d=n(639),f=n(101),h=n(590),m=n(3),y=n(574);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e){var t=o.a.partition(e,function(e){return"na"===e.name.toLowerCase()});return o.a.sortBy(t[1],function(e){return e.name.toLowerCase()}).concat(t[0])}n.d(t,"l",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"t",function(){return T}),n.d(t,"j",function(){return C}),n.d(t,"i",function(){return P}),n.d(t,"v",function(){return A}),n.d(t,"B",function(){return O}),n.d(t,"x",function(){return _}),n.d(t,"w",function(){return w}),n.d(t,"s",function(){return k}),n.d(t,"r",function(){return M}),n.d(t,"o",function(){return G}),n.d(t,"d",function(){return x}),n.d(t,"g",function(){return R}),n.d(t,"h",function(){return D}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return L}),n.d(t,"a",function(){return B}),n.d(t,"p",function(){return F}),n.d(t,"y",function(){return q}),n.d(t,"e",function(){return U}),n.d(t,"D",function(){return V}),n.d(t,"A",function(){return z}),n.d(t,"n",function(){return H}),n.d(t,"F",function(){return K}),n.d(t,"z",function(){return W}),n.d(t,"m",function(){return Q}),n.d(t,"E",function(){return Y}),n.d(t,"k",function(){return X}),n.d(t,"C",function(){return Z}),n.d(t,"u",function(){return J}),n.d(t,"q",function(){return $});var b=20,S="-ABCDEFGHIJKLMNOPQRSTUVWXYZ";function T(e,t){if(e<=0)return[];for(var n,r,i=[[1]],a=1;a<e;a++){n=i[a-1],(r=o.a.clone(n))[r.length-1]+=1;for(var u=r.length-1;u>=0;u--)r[u]>t&&(r[u]-=t,u>0?r[u-1]+=1:r.unshift(1));i.push(r)}return i.map(function(e){return e.map(function(e){return S[e]}).join("")})}function C(e,t){var n="";if((Array.isArray(e)||e.isComplete)&&(Array.isArray(t)||t.isComplete)){var r=Array.isArray(e)?e:e.result,o=Array.isArray(t)?t:t.result;if(r.length===o.length)n="(".concat(r.length,")");else{var i=1!==r.length,a=1!==o.length;n="(".concat(r.length," sample").concat(i?"s":"","/").concat(o.length," patient").concat(a?"s":"",")")}}return n}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";if(e===t){var o=1!==e;return"".concat(e).concat(r,"sample").concat(o?"s":"").concat(n,"patient").concat(o?"s":"")}var i=1!==e,a=1!==t;return"".concat(e).concat(r,"sample").concat(i?"s":"").concat(n).concat(t).concat(r,"patient").concat(a?"s":"")}function A(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value,c=t.get({studyId:s.studyId,sampleId:s.sampleId});!c||c.uniquePatientKey in n||(n[c.uniquePatientKey]={patientId:c.patientId,studyId:c.studyId})}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return o.a.values(n)}function I(e){var t=new s,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,c=!1,p=void 0;try{for(var d,f=u.studies[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value,m=h.id,y=!0,v=!1,g=void 0;try{for(var b,S=h.samples[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var T=b.value;t.increment({studyId:m,sampleId:T})}}catch(e){v=!0,g=e}finally{try{y||null==S.return||S.return()}finally{if(v)throw g}}}}catch(e){c=!0,p=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var C=[],P=!0,A=!1,I=void 0;try{for(var E,O=t.entries()[Symbol.iterator]();!(P=(E=O.next()).done);P=!0){var _=E.value;_.value>1&&C.push(_.key)}}catch(e){A=!0,I=e}finally{try{P||null==O.return||O.return()}finally{if(A)throw I}}return C}function E(e){var t=new s,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,c=!1,p=void 0;try{for(var d,f=u.studies[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value,m=h.id,y=!0,v=!1,g=void 0;try{for(var b,S=h.patients[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var T=b.value;t.increment({studyId:m,patientId:T})}}catch(e){v=!0,g=e}finally{try{y||null==S.return||S.return()}finally{if(v)throw g}}}}catch(e){c=!0,p=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var C=[],P=!0,A=!1,I=void 0;try{for(var E,O=t.entries()[Symbol.iterator]();!(P=(E=O.next()).done);P=!0){var _=E.value;_.value>1&&C.push(_.key)}}catch(e){A=!0,I=e}finally{try{P||null==O.return||O.return()}finally{if(A)throw I}}return C}function O(e){return!o.a.some(e.studies,function(e){return e.samples.length>0||e.patients.length>0})}function _(e){return o.a.uniq(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){return e.id})})))}function w(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.samples.map(function(e){return{studyId:t,sampleId:e}})})})),function(e,t){return e.sampleId===t.sampleId&&e.studyId===t.studyId})}function k(e,t){return o.a.sum(e.studies.map(function(e){if(t){var n=e.id,r=0,o=!0,i=!1,a=void 0;try{for(var u,l=e.samples[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;t(n,s)&&(r+=1)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}return e.samples.length}))}function M(e){return o.a.sum(e.studies.map(function(e){return e.patients.length}))}function G(e,t){var n=[],r=[],i=!0,a=!1,u=void 0;try{for(var l,s=e.studies[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,p=c.id,d=[],f=[],h=!0,m=!1,y=void 0;try{for(var v,g=c.samples[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value,S=t.get({studyId:p,sampleId:b});S?(d.push(b),f.push(S.patientId)):n.push({studyId:p,sampleId:b})}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}f=o.a.uniq(f),(d.length>0||f.length>0)&&r.push({id:p,samples:d,patients:f})}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return{nonExistentSamples:n,studies:r}}function N(e,t){var n=t.overlappingSamplesSet,r=t.overlappingPatientsSet;return e.map(function(e){var t=[],o=!0,i=!1,a=void 0;try{for(var u,l=function(){var e=u.value,o=e.id,i=e.samples.filter(function(e){return!n.has({studyId:o,sampleId:e})}),a=e.patients.filter(function(e){return!r.has({studyId:o,patientId:e})});(i.length>0||a.length>0)&&t.push({id:o,samples:i,patients:a})},s=e.studies[Symbol.iterator]();!(o=(u=s.next()).done);o=!0)l()}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return Object.assign({},e,{studies:t})})}function x(e,t,n,r,o,a){return Object(p.a)({await:function(){var n=e(),r=[n._activeGroupsNotOverlapRemoved,n.activeGroups,n.activeStudyIds];return n.activeGroups.isComplete&&2!==n.activeGroups.result.length||n.activeStudyIds.isComplete&&n.activeStudyIds.result.length>1||r.push(t()),r},render:function(){var u=e(),l=u.activeGroups.result.length;if(!r&&2!==l||r&&l<2)return i.createElement("span",null,function(e,t,n){if(t<2)return"Please select more groups - we need ".concat(n?"at least":"exactly"," 2 selected groups to show enrichments.");if(e<2)return"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need exactly 2 nonempty selected groups to show enrichments.";if(e>2)return"Please deselect groups - we need exactly 2 selected groups to show enrichments."}(u.activeGroups.result.length,u._activeGroupsNotOverlapRemoved.result.length,r));if(u.activeStudyIds.result.length>1&&!a)return i.createElement("span",null,"The selected comparison groups span more than one study, so we can't show ".concat(n," enrichments. Please change your selection in the Groups section so that all samples only come from one study."));var s=[];return s.push(i.createElement(d.a,{store:u,only:o&&u.usePatientLevelEnrichments?"patient":"sample"})),s.push(t().component),s},renderPending:function(){return i.createElement(f.a,{center:!0,isLoading:!0,size:"big"})},renderError:function(){return i.createElement(h.a,null)}})}var R="We need at least 1 group to show survival. Please select more groups from the Groups section above.",D="We can't show survival for more than 10 groups. Please deselect groups in the Groups section.",j="Another group already has this name.",L="We need at least 2 groups to show overlap. Please select more groups from the Groups section above.";function B(e){return e>=2?"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need at least 2.":"We need at least 2 groups to show clinical data enrichments. Please select more groups from the Groups section above."}function F(e,t,n){var r=o.a.chain(e.clinicalDataFilters||[]).filter(function(e){return n[e.attributeId]===y.c.STRING}).sortBy(function(e){return e.attributeId}).map(function(e){return o.a.flatMap(e.values,function(e){return e.value}).join("+")}).value(),i=o()(t).keys().sortBy().map(function(e){return t[e].join("+")}).value(),a=o.a.chain(e.geneFilters||[]).flatMapDeep(function(e){return e.geneQueries}).value(),u=o.a.chain(e.caseLists||[]).flatMapDeep(function(e){return e}).value(),l=o.a.flatMapDeep(e.genomicProfiles||[]);return a.concat(r).concat(i).concat(l).concat(u).join(", ")}function q(e){var t=e.match(/comparison\/([^\/]+)/);return t?t[1]:void 0}function U(e){return i.createElement("div",{style:{width:380}},i.createElement("div",{style:{marginBottom:7}},"The following samples cannot be found in our database. They might have been removed or changed since this group was created:"," "),i.createElement("div",{style:{maxHeight:200,overflowY:"scroll"}},e.samples.map(function(e){return i.createElement("div",null,"".concat(e.studyId,":").concat(e.sampleId))})))}function V(e,t){for(var n=(e=o.a.chain(e).filter(function(e){return!isNaN(e.value)}).sortBy(function(e){return parseFloat(e.value)}).value()).length/t,r=[],i=0;i<t;i++){var a=e.slice(n*i,n*(i+1));a.length>0&&r.push(a)}return r}function z(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,samples:o.a.intersection(e.samples,t in r?r[t].samples:[])}});return o.a.values(i).filter(function(e){return e.samples.length>0})}function H(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,samples:t in r?o.a.difference(e.samples,r[t].samples):e.samples}});return o.a.values(i).filter(function(e){return e.samples.length>0})}function K(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],i=r[e];return t&&i?{id:e,samples:o.a.union(t.samples,i.samples)}:t||i})}function W(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,patients:o.a.intersection(e.patients,t in r?r[t].patients:[])}});return o.a.values(i).filter(function(e){return e.patients.length>0})}function Q(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,patients:t in r?o.a.difference(e.patients,r[t].patients):e.patients}});return o.a.values(i).filter(function(e){return e.patients.length>0})}function Y(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],i=r[e];return t&&i?{id:e,patients:o.a.union(t.patients,i.patients)}:t||i})}function X(e,t){return e.map(function(e){return{id:e.id,samples:o.a.flatten(e.patients.map(function(n){return(t.get({patientId:n,studyId:e.id})||[]).map(function(e){return e.sampleId})}))}})}function Z(e,t,n,r){var i=new c.a,a=e.reduce(function(e,r){return e[r.uid]=o.a.keyBy(t(r).map(function(e){return n(e)})),e},{}),u=!0,l=!1,s=void 0;try{for(var p,d=r[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var f=p.value,h={},m=!0,y=!1,v=void 0;try{for(var g,b=e[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var S=g.value;h[S.uid]=f in a[S.uid]}}catch(e){y=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw v}}i.add(h,f)}}catch(e){l=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw s}}return i.entries()}function J(e,t){var n=e.filter(function(e){return t(e.name)}),r=new a.a,i=new a.a,u=[],l=[],s=new a.a,c=new a.a,p={};if(n.length>0)for(;;){u=I(n),l=E(n),s=new a.a,c=new a.a;var d=void 0,f=!0,h=!1,y=void 0;try{for(var g,b=u[Symbol.iterator]();!(f=(g=b.next()).done);f=!0){var S=g.value;d={studyId:S.studyId,sampleId:S.sampleId},s.add(d),r.add(d)}}catch(e){h=!0,y=e}finally{try{f||null==b.return||b.return()}finally{if(h)throw y}}var T=void 0,C=!0,P=!1,A=void 0;try{for(var _,w=l[Symbol.iterator]();!(C=(_=w.next()).done);C=!0){var k=_.value;T={studyId:k.studyId,patientId:k.patientId},c.add(T),i.add(T)}}catch(e){P=!0,A=e}finally{try{C||null==w.return||w.return()}finally{if(P)throw A}}var M=v(o.a.partition(N(n,{overlappingSamplesSet:s,overlappingPatientsSet:c}),function(e){return O(e)}),2),G=M[0],x=M[1];if(G.length>0){var R=G.pop();p[R.uid]=R}if(x.length===n.length)break;n=n.filter(function(e){return!(e.uid in p)})}var D=Object(m.W)(e.map(function(e){return e.uid})),j=N(n,{overlappingSamplesSet:s,overlappingPatientsSet:c}).concat(o.a.values(p));return{groups:j=o.a.sortBy(j,function(e){return D[e.uid]}),overlappingSamples:u,overlappingPatients:l,overlappingSamplesSet:s,overlappingPatientsSet:c,totalSampleOverlap:r.keys().length,totalPatientOverlap:i.keys().length,excludedFromAnalysis:o.a.mapValues(p,function(e){return!0})}}function $(e,t,n){var r=[],o=["Sample ID","Patient ID","Study ID"].concat(t.map(function(e){return e.name}));r.push(o);var i=!0,a=!1,u=void 0;try{for(var l,s=function(){var e=l.value,o=n[e.uniqueSampleKey],i=[e.sampleId,e.patientId,e.studyId].concat(t.map(function(e){return o[e.uid]?"Yes":"No"}));r.push(i)},c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0)s()}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}return r.map(function(e){return e.join("\t")}).join("\n")}},578:function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"g",function(){return u}),n.d(t,"p",function(){return l}),n.d(t,"q",function(){return s}),n.d(t,"n",function(){return c}),n.d(t,"o",function(){return p}),n.d(t,"t",function(){return d}),n.d(t,"u",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"s",function(){return m}),n.d(t,"r",function(){return y}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return T}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return P}),n.d(t,"c",function(){return A}),n.d(t,"d",function(){return I}),n.d(t,"f",function(){return E}),n.d(t,"x",function(){return O}),n.d(t,"y",function(){return _});var r=n(4),o="#D3D3D3",i="#BEBEBE",a="#000000",u=i,l="#008000",s="#53D400",c="#993404",p="#a68028",d="#000000",f="#708090",h="#8B00C9",m="#00B7CE",y="#cf58bc",v="#ff9999",g="#6699cc",b="#FFFFFF",S="#ff3df8",T="#00E1FF",C="#ff0000",P="#ffb6c1",A="#8fd8d8",I="#0000ff",E=o,O={true:"#1b9e77",yes:"#1b9e77",positive:"#1b9e77","disease free":"#1b9e77","tumor free":"#1b9e77",living:"#1b9e77",alive:"#1b9e77","not progressed":"#1b9e77",false:"#d95f02",no:"#d95f02",negative:"#d95f02",recurred:"#d95f02",progressed:"#d95f02","recurred/progressed":"#d95f02","with tumor":"#d95f02",deceased:"#d95f02",female:"#E0699E",f:"#E0699E",male:"#2986E2",m:"#2986E2",other:"#A9A9A9",unknown:E,na:E,missense:l,inframe:c,truncating:d,fusion:h,promoter:m,"1:deceased":"#d95f02","1:recurred/progressed":"#d95f02","1:recurred":"#d95f02","1:progressed":"#d95f02","1:yes":"#d95f02","1:1":"#d95f02","1:progression":"#d95f02","1:event":"#d95f02","1:dead of melanoma":"#d95f02","1:dead with tumor":"#d95f02","1:metastatic relapse":"#d95f02","1:localized relapse":"#d95f02","0:living":"#1b9e77","0:alive":"#1b9e77","0:diseasefree":"#1b9e77","0:no":"#1b9e77","0:0":"#1b9e77","0:progressionfree":"#1b9e77","0:no progression":"#1b9e77","0:not progressed":"#1b9e77","0:censored":"#1b9e77","0:censor":"#1b9e77","0:alive or censored":"#1b9e77","0:alive or dead tumor free":"#1b9e77","0:no relapse":"#1b9e77","0:progression free":"#1b9e77","0:censure":"#1b9e77","0:ned":"#1b9e77","wild type":i,amplification:C,gain:P,diploid:i,"shallow deletion":A,"deep deletion":I};function _(e){return O[e.replace(/\s/g,"").toLowerCase()]}r.forEach(O,function(e,t){O[t.toLowerCase()]=e,O[t.toUpperCase()]=e;var n=t.replace(/\s/g,"");O[n]=e,O[n.toLowerCase()]=e,O[n.toUpperCase()]=e,O[t[0].toUpperCase()+t.slice(1).toLowerCase()]=e,O[t.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join(" ")]=e})},579:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),o=n(3);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n=!1;return Object(r.observable)({get status(){var t=e.await();return o.E.apply(void 0,i(t))},get isComplete(){return"complete"===this.status},get isError(){return"error"===this.status},get isPending(){return"pending"===this.status},get component(){var r=null;switch(this.status){case"complete":r=e.render(),n=!0,t=r;break;case"pending":e.showLastRenderWhenPending&&n?r=t:e.renderPending&&(r=e.renderPending());break;case"error":e.renderError&&(r=e.renderError())}return r}})}},580:function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return m});var r=n(0),o=n(4),i=n(582),a=n(640),u=n.n(a);function l(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}function s(e,t){e.toFixed(t);for(var n="",r=0;r<t;r++)n+="0";return u()(e).format("0[.][".concat(n,"]"))}function c(e,t){var n=e.toFixed(t);if(0!==e&&0===parseFloat(n)){var r=t>1?o.fill(Array(t-1),"0"):[];n="".concat(e>0?"<":">-","0.").concat(r.join(""),"1")}return n}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(c(100*e,t),"%")}function d(e){var t=r.createElement("span",null,Object(i.b)(e,3,.01));return e<.05&&(t=r.createElement("b",null,t)),t}function f(e){return e<-10?"<-10":e>10?">10":e.toFixed(2)}function h(e,t){return e>t?t:e<-t?-t:Number(e.toFixed(2))}function m(e,t,n,o){return 0===e||Math.log10(e)<o?r.createElement("span",null,"< 10",r.createElement("sup",null,o)):Object(i.b)(e,t,n)}},581:function(e,t,n){e.exports=n(16)(903)},582:function(e,t,n){"use strict";function r(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}function o(e,t,n){return Math.min(n,Math.max(t,e))}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},583:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"j",function(){return T}),n.d(t,"l",function(){return C}),n.d(t,"a",function(){return P}),n.d(t,"b",function(){return A});var r=n(4),o=n.n(r),i=n(632),a=n.n(i),u=n(3),l=n(576),s=n(582);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e){if("gradient"===e.symbol.type)return 100;var t=[].concat(e.name);return o.a.sumBy(t,function(e){return Object(u.K)(e,l.d.legend.style.labels.fontFamily,l.d.legend.style.labels.fontSize+"px")})}function d(e,t,n){var r=Math.ceil(t.length/e),i=Math.max.apply(Math,c(t.map(p)))*r;i+=20*(r-1);var a=0;if(n){var s=[].concat(n);a=o.a.sumBy(s,function(e){return Object(u.K)(e,l.d.legend.style.title.fontFamily,l.d.legend.style.title.fontSize+"px")}),a+=10*(s.length-1)}return Math.max(i,a)}function f(e){return Math.max.apply(Math,c(e.map(function(e){return Object(u.L)(Array.isArray(e.name)?e.name.join(" "):e.name,l.e.fontFamily,l.e.fontSize+"px")})))}function h(e,t,n,r){var o=e+50+n,i=t;if(r){var a=[].concat(r);i-=Math.max.apply(Math,c(a.map(function(e){return Object(u.L)(e,l.d.legend.style.title.fontFamily,l.d.legend.style.title.fontSize+"px")}))),i-=l.d.legend.gutter}return Object(s.a)(Math.floor(i/o),1,5)}function m(e,t){var n=(e=1e4*Math.sin(e))-Math.floor(e);return t&&(n=n*(t[1]-t[0])+t[0]),n}function y(e){return m(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(e),[-1,1])}function v(e){var t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}function g(e,t){return t?e&&"function"==typeof t?function(n,r){return t(n,r,e(n))}:t:function(t,n){return n||e&&e(t)?6:3}}function b(e,t,n){return n?8:t?6:4}function S(e){var t=parseInt(e,16);return t*=.95,1===(e=(t=Math.round(t)).toString(16)).length&&(e="0"+e),e}function T(e){e=e||[];var t=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],n=0,r={},o=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;r[s]=!0}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return function(){for(var e,o,i,a,u=t[n%t.length];r[u];)if(n<t.length)u=t[(n+=1)%t.length];else{var l=(o=void 0,i=void 0,a=void 0,o=(e=u)[1]+e[2],i=e[3]+e[4],a=e[5]+e[6],"#"+(o=S(o))+(i=S(i))+(a=S(a)));if(l===u)break;u=l}return r[u]=!0,n+=1,u}}function C(e,t,n,r,i,a,u,l){var s,c,p,d,f,h,m,y,v=[],g=!0,b=!1,S=void 0;try{for(var T,C=function(){var e=T.value;s="function"==typeof t?t(e):t,c="function"==typeof n?n(e):n,p="function"==typeof r?r(e):r,d="function"==typeof i?i(e):i,f="function"==typeof a?a(e):a,h="function"==typeof u?u(e):u,m=l?l.map(function(t){return t(e)}):[1],y=!1;for(var g=0,b=v;g<b.length;g++){var S=b[g];if(S.fill===s&&S.stroke===c&&S.strokeWidth===p&&S.strokeOpacity===d&&S.fillOpacity===f&&S.symbol===h&&o.a.isEqual(S.sortBy,m)){S.data.push(e),y=!0;break}}y||v.push({data:[e],fill:s,stroke:c,strokeWidth:p,strokeOpacity:d,fillOpacity:f,symbol:h,sortBy:m})},P=e[Symbol.iterator]();!(g=(T=P.next()).done);g=!0)C()}catch(e){b=!0,S=e}finally{try{g||null==P.return||P.return()}finally{if(b)throw S}}if(l){var A=l.map(function(e,t){return function(e){return e.sortBy[t]}});v=o.a.sortBy(v,A)}return v}function P(e,t){var n=e;if(1===Math.abs(n))return 0;var r=t;if(r>2){var o=Math.abs(n)*Math.sqrt((r-2)/(1-n*n));return a.a.ttest(o,r-1,2)}return null}function A(e){return function(e){return"thresholdType"in e}(e)?!!e.thresholdType:!!function(e){return"xThresholdType"in e||"yThresholdType"in e}(e)&&(!!e.xThresholdType||!!e.yThresholdType)}},584:function(e,t,n){"use strict";var r=n(3);t.a=new r.p},585:function(e,t,n){"use strict";n.d(t,"f",function(){return T}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return C}),n.d(t,"t",function(){return P}),n.d(t,"l",function(){return I}),n.d(t,"e",function(){return E}),n.d(t,"p",function(){return _}),n.d(t,"g",function(){return w}),n.d(t,"c",function(){return k}),n.d(t,"k",function(){return M}),n.d(t,"s",function(){return G}),n.d(t,"m",function(){return N}),n.d(t,"v",function(){return x}),n.d(t,"w",function(){return R}),n.d(t,"u",function(){return D}),n.d(t,"d",function(){return j}),n.d(t,"n",function(){return L}),n.d(t,"h",function(){return B}),n.d(t,"q",function(){return F}),n.d(t,"r",function(){return q}),n.d(t,"o",function(){return U}),n.d(t,"x",function(){return V}),n.d(t,"j",function(){return H}),n.d(t,"i",function(){return K}),n.d(t,"y",function(){return W});var r=n(2),o=n(598),i=n(588),a=n(643),u=n.n(a),l=n(572),s=n(570),c=n(3),p=n(4),d=n.n(p),f=n(178),h=n(620),m=n(612),y=n(651),v=n(573);function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b,S=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function T(e){var t=!1,n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t=t||!!l.driverFilter,l.driverTiersFilter&&(n[l.driverTiersFilter]=!0)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return{hasBinary:t,tiers:Object.keys(n)}}!function(e){e.SAMPLE="sample",e.PATIENT="patient"}(b||(b={}));var C="hg19",P=Object(r.action)(function(e,t,n,r,o){var i=!0,a=!1,u=void 0;try{for(var l,s=e.tiers[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;t.driverTiers.set(c,n)}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}r&&(t.oncoKb=!0),o&&(t.hotspots=!0)});function A(e,t){var n=!!(t.oncoKb||t.hotspots||t.cbioportalCount||t.cosmicCount||t.customDriverBinary||t.customDriverTier);return Object.assign({putativeDriver:n,isHotspot:t.hotspots,oncoKbOncogenic:t.oncoKb,simplifiedMutationType:Object(o.c)(e.mutationType)},e)}function I(e,t,n){var r=[],o=[],i=[],a=[],u=!0,l=!1,s=void 0;try{for(var c,p=e[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var d=c.value,f=A(d,t(d));f.hugoGeneSymbol=n[d.entrezGeneId].hugoGeneSymbol;var h=!Object(v.n)(d),m=!f.putativeDriver;h&&m?i.push(f):h?o.push(f):m?r.push(f):a.push(f)}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}return{data:a,vus:r,germline:o,vusAndGermline:i}}function E(e,t,n){var r=e.data;return t||(r=r.concat(e.vus)),n||(r=r.concat(e.germline)),t||n||(r=r.concat(e.vusAndGermline)),r}var O=["likely oncogenic","predicted oncogenic","oncogenic"];function _(e){return O.indexOf((e.oncogenic||"").toLowerCase())>-1?e.oncogenic:""}function w(e,t,n,r,o){var i=d.a.keyBy(o,function(e){return e.entrezGeneId}),a=d.a.mapValues(d.a.keyBy(t,function(e){return e.genePanelId}),function(e){return e.genes.filter(function(e){return!!i[e.entrezGeneId]})}),u=d.a.reduce(n,function(e,t){return e[t.uniqueSampleKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),l=d.a.reduce(r,function(e,t){return e[t.uniquePatientKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),s=[],c=!0,p=!1,f=void 0;try{for(var h,m=e[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var y=h.value,v=u[y.uniqueSampleKey],g=l[y.uniquePatientKey],b=y.genePanelId;if(y.profiled)if(b){if(a[b]){var S=!0,T=!1,C=void 0;try{for(var P,A=a[b][Symbol.iterator]();!(S=(P=A.next()).done);S=!0){var I=P.value;v.byGene[I.hugoGeneSymbol]=v.byGene[I.hugoGeneSymbol]||[],v.byGene[I.hugoGeneSymbol].push(y),g.byGene[I.hugoGeneSymbol]=g.byGene[I.hugoGeneSymbol]||[],g.byGene[I.hugoGeneSymbol].push(y)}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}s.push(y)}}else v.allGenes.push(y),g.allGenes.push(y);else v.notProfiledAllGenes.push(y),g.notProfiledAllGenes.push(y)}}catch(e){p=!0,f=e}finally{try{c||null==m.return||m.return()}finally{if(p)throw f}}for(var E=0,O=s;E<O.length;E++){var _=O[E],w=u[_.uniqueSampleKey],k=l[_.uniquePatientKey],M=!0,G=!1,N=void 0;try{for(var x,R=o[Symbol.iterator]();!(M=(x=R.next()).done);M=!0){var D=x.value;w.byGene[D.hugoGeneSymbol]||(w.notProfiledByGene[D.hugoGeneSymbol]=w.notProfiledByGene[D.hugoGeneSymbol]||[],w.notProfiledByGene[D.hugoGeneSymbol].push(_)),k.byGene[D.hugoGeneSymbol]||(k.notProfiledByGene[D.hugoGeneSymbol]=k.notProfiledByGene[D.hugoGeneSymbol]||[],k.notProfiledByGene[D.hugoGeneSymbol].push(_))}}catch(e){G=!0,N=e}finally{try{M||null==R.return||R.return()}finally{if(G)throw N}}}return{samples:u,patients:l}}function k(e,t,n,r){var o=r[e.entrezGeneId].hugoGeneSymbol,i="";if("COPY_NUMBER_ALTERATION"===n[e.molecularProfileId].molecularAlterationType){var a=t(e);a&&(i=_(a))}return Object.assign({oncoKbOncogenic:i,hugoGeneSymbol:o},e)}function M(e,t,n){return S(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,a,u,l,s,c,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(o=[],i={},a=!0,u=!1,l=void 0,r.prev=5,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)p=c.value,e[p]?o.push(e[p]):i[p]=!0;r.next=13;break;case 9:r.prev=9,r.t0=r.catch(5),u=!0,l=r.t0;case 13:r.prev=13,r.prev=14,a||null==s.return||s.return();case 16:if(r.prev=16,!u){r.next=19;break}throw l;case 19:return r.finish(16);case 20:return r.finish(13);case 21:return d.a.isEmpty(i)||n.filter(function(e){return i[e.id]}).forEach(function(e){var t={allSampleCount:d.a.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:"My Virtual Studies"};o.push(t)}),r.abrupt("return",o);case 23:case"end":return r.stop()}},r,null,[[5,9,13,21],[14,,16,20]])}))}function G(e,t,n){var r=Object(i.f)(e)?d.a.flatMap(e.list,function(e){return e.data}):e.data;return{samples:Object(l.W)(r,function(e){return e.uniqueSampleKey},t.map(function(e){return e.uniqueSampleKey})),patients:Object(l.W)(r,function(e){return e.uniquePatientKey},n.map(function(e){return e.uniquePatientKey}))}}function N(e,t,n,r,o,a){return Object(i.f)(e)?e.list.map(function(e){return u=e.oql_line,{cases:G(l=Object(i.e)(u,n,r,t)[0],o,a),oql:l};var u,l}):void 0}function x(e){return RegExp("rna_seq_mrna$|rna_seq_v2_mrna$|pan_can_atlas_2018_rna_seq_mrna_median$|pan_can_atlas_2018_rna_seq_v2_mrna_median$").test(e)}function R(e){return/tcga$/.test(e)}function D(e){return/tcga_pan_can_atlas/.test(e)}function j(e,t){var n=["cBioPortal for Cancer Genomics: "];return e.length&&(n.push(e[0]),e.length>1&&(n.push(", "),n.push(e[1])),e.length>2&&(n.push(" and "),n.push((e.length-2).toString()),n.push(" other "),n.push(e.length-2>1?"genes":"gene")),t.length&&(n.push(" in "),n.push(t[0].shortName),t.length>1&&(n.push(" and "),n.push((t.length-1).toString()),n.push(" other "),n.push(t.length-1>1?"studies":"study")))),n.join("")}function L(e){var t=[e.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,e.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,e.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,e.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,e.genetic_profile_ids_PROFILE_GENESET_SCORE,e.genetic_profile_ids_GENERIC_ASSAY].filter(function(e){return!!e});return t=t.concat(e.genetic_profile_ids||[]),t=d.a.uniq(t)}function B(e){if(0===e.length)return!1;if("copyNumberSegmentPresent"in e[0])return d.a.some(e,function(e){return!!e.copyNumberSegmentPresent});throw"Passed non-detailed sample projection when detailed expected."}function F(e,t,n,r,o,i){var a={};return e.forEach(function(e,u){if(void 0===e.mergedTrackOqlList){var l=e.oql,s=d.a.keyBy(d.a.map(l.data,function(e){return e.uniqueSampleKey})),c=d.a.keyBy(t.filter(function(e){var t=i[e.studyId]?d.a.intersection(i[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return d.a.some(d.a.map(t,function(t){return Object(m.a)(e.uniqueSampleKey,t,l.gene,r)}),function(e){return!1===e})}).map(function(e){return e.uniqueSampleKey}));a[q(u,n,l)]=t.map(function(e){return e.uniqueSampleKey in c?y.a.UNPROFILED:e.uniqueSampleKey in s?y.a.ALTERED:y.a.UNALTERED})}else{var p=e.oql,f=d.a.keyBy(d.a.map(d.a.flatten(d.a.map(p.list,function(e){return e.data})),function(e){return e.uniqueSampleKey})),h=d.a.map(p.list,function(e){return e.gene}),v=d.a.keyBy(t.filter(function(e){var t=i[e.studyId]?d.a.intersection(i[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return d.a.some(d.a.map(t,function(t){return d.a.every(d.a.map(h,function(n){return Object(m.a)(e.uniqueSampleKey,t,n,r)}),function(e){return!1===e})}),function(e){return!0===e})}).map(function(e){return e.uniqueSampleKey}));a[U(p)]=t.map(function(e){return e.uniqueSampleKey in v?y.a.UNPROFILED:e.uniqueSampleKey in f?y.a.ALTERED:y.a.UNALTERED})}}),a}function q(e,t,n){return!1===u.a.parse(t)[e].alterations?n.gene:n.oql_line.slice(0,-1)}function U(e){return e.label?e.label:d.a.map(e.list,function(e){return e.gene}).join(" / ")}function V(e){var t=this;return Object(c.S)({await:function(){var t=e.await();return e.storeForExcludingQueryGenes&&t.push(e.storeForExcludingQueryGenes.selectedMolecularProfiles),t.push(e.referenceGenesPromise),t},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,a,u,l,s,c,p,f,m,y,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getSelectedProfileMap())){t.next=35;break}return t.next=4,e.fetchData();case 4:for(r=t.sent,e.storeForExcludingQueryGenes&&e.storeForExcludingQueryGenes.selectedMolecularProfiles.result.findIndex(function(e){return void 0!==n[e.studyId]})>-1&&(o=d.a.keyBy(e.storeForExcludingQueryGenes.hugoGeneSymbols,function(e){return e.toUpperCase()}),r=r.filter(function(e){return!(e.hugoGeneSymbol.toUpperCase()in o)})),i=e.referenceGenesPromise.result,a=!0,u=!1,l=void 0,t.prev=10,s=r[Symbol.iterator]();!(a=(c=s.next()).done);a=!0)p=c.value,(f=i[p.hugoGeneSymbol])&&(p.cytoband=f.cytoband);t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),u=!0,l=t.t0;case 18:t.prev=18,t.prev=19,a||null==s.return||s.return();case 21:if(t.prev=21,!u){t.next=24;break}throw l;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return m=[],y=[],r.forEach(function(e){void 0===e.pValue?y.push(e):m.push(e)}),v=d.a.sortBy(m,function(e){return e.pValue}),Object(h.a)(v.map(function(e){return e.pValue})).forEach(function(e,t){v[t].qValue=e}),t.abrupt("return",z([].concat(g(v),y)));case 35:return t.abrupt("return",[]);case 36:case"end":return t.stop()}},t,null,[[10,14,18,26],[19,,21,25]])}))}})}function z(e){return d.a.sortBy(e,["pValue","hugoGeneSymbol"])}function H(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[u.uniquePatientKey]={patientId:u.patientId,studyId:u.studyId}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l={uniquePatientKeys:d.a.uniq(e.map(function(e){return e.uniquePatientKey}))};return f.a.fetchPatientsUsingPOST({patientFilter:l})}function K(e){var t=[s.a.MUTATION_EXTENDED,s.a.MUTATION_UNCALLED,s.a.FUSION,s.a.STRUCTURAL_VARIANT];return e.filter(function(e){return!t.includes(e.molecularAlterationType)})}function W(e){return(e?e.split(";").map(function(e){return e.split(",")}):[]).reduce(function(e,t){return e[t[0]]=t.slice(1),e},{})}},587:function(e,t,n){},588:function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return s}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"j",function(){return y}),n.d(t,"c",function(){return T}),n.d(t,"d",function(){return C}),n.d(t,"e",function(){return P}),n.d(t,"i",function(){return A});var r=n(4),o=n(643),i=n.n(o),a=n(658),u=n(597);function l(e){return void 0!==e.list}function s(e){return void 0!==e.list}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";function n(e,t){return e.reduce(function(e,t){var o=e.dt_state,i=e.query,a=function(e,t){if(function(e){return void 0!==e.gene&&"DATATYPES"===e.gene.toUpperCase()}(t))return{dt_state:t.alterations,query_line:[]};if(l(t)){var o=n(t.list,e);return{dt_state:e,query_line:[r.assign({},t,{list:o})]}}var i=t.alterations||e;return{dt_state:e,query_line:[r.assign({},t,{alterations:i})]}}(o,t),u=a.dt_state,s=a.query_line;return{dt_state:u,query:i.concat(s)}},{dt_state:t,query:[]}).query}var o=n(i.a.parse(e),!1);t.length>0&&(o=n(o,i.a.parse("DUMMYGENE:".concat(t,";"))[0].alterations));return o}function p(e,t){var n=c(e,t);return r.flatMap(n,function(e){return function(e){return!!e.list}(e)?e.list:[e]})}function d(e){var t=p(e),n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){if(!1!==a.value.alterations){n=!0;break}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function f(e){var t=p(e),n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(!1!==l.alterations){var s=!0,c=!1,d=void 0;try{for(var f,h=l.alterations[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var m=f.value;if("mut"===m.alteration_type&&(void 0!==m.constr_rel||m.modifiers.length>0)){n=!0;break}if("any"===m.alteration_type&&m.modifiers.find(function(e){return"DRIVER"===e.type})){n=!0;break}}}catch(e){c=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw d}}if(n)break}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function h(e){switch(e.type){case"RANGE":return"(".concat(Object(u.a)(e.start,""),"-").concat(Object(u.a)(e.end,"")).concat(e.completeOverlapOnly?"*":"",")");default:return e.type}}function m(e){var t;switch(e.alteration_type){case"cna":return t="="===e.constr_rel?e.constr_val:["CNA",e.constr_rel,e.constr_val].join(""),e.modifiers.length>0&&(t+="_",t+=e.modifiers.map(function(e){return e.type}).join("_")),t;case"mut":var n=!0;return e.constr_rel?"position"===e.constr_type?t=["MUT",e.constr_rel,e.info.amino_acid,e.constr_val].join(""):(t=["MUT",e.constr_rel,e.constr_val].join(""),e.constr_val||(n=!1)):t="MUT",n&&e.modifiers.length>0&&(t+="_"),t+=e.modifiers.map(h).join("_");case"exp":return"EXP"+e.constr_rel+e.constr_val;case"prot":return"PROT"+e.constr_rel+e.constr_val;case"fusion":return"FUSION"+e.modifiers.map(function(e){return"_"+e.type}).join("");case"any":return e.modifiers.map(function(e){return e.type}).join("_")}}function y(e){var t=e.gene,n=e.alterations;return n&&n.length>0&&(t+=": "+n.map(m).join(" "),t+=";"),t}function v(e,t,n,r){return e.gene.toUpperCase()===n&&(!e.alterations||1===e.alterations.map(function(e){return function(e,t,n){switch(e.alteration_type){case"cna":return function(e,t,n){var r=n.cna(t);if(r){var o=!0;switch(e.constr_rel){case"=":o=r===e.constr_val.toLowerCase();break;case void 0:break;default:var i={amp:2,gain:1,hetloss:-1,homdel:-2},a=i[r],u=i[e.constr_val.toLowerCase()];">"===e.constr_rel?o=a>u:">="===e.constr_rel?o=a>=u:"<"===e.constr_rel?o=a<u:"<="===e.constr_rel&&(o=a<=u)}for(var l=0;l<e.modifiers.length;l++){var s=b(e.modifiers[l],t,n);null!==s&&(o=o&&s)}return 2*+o-1}return 0}(e,t,n);case"mut":return function(e,t,n){var r=n.mut_type(t);if(r){r=r.toLowerCase();var o=!1;if(e.constr_rel&&e.constr_type||(o=!0),"class"===e.constr_type){var i=e.constr_val.toLowerCase();o=r===i||"trunc"===i&&"missense"!==r&&"inframe"!==r,"!="===e.constr_rel&&(o=!o)}else if("position"===e.constr_type){var a=n.mut_position(t);if(!a)return-1;var u=e.constr_val;o=u>=a[0]&&u<=a[1],"!="===e.constr_rel&&(o=!o)}else if("name"===e.constr_type){var l=n.mut_amino_acid_change(t);if(!l)return-1;l=l.toLowerCase();var s=e.constr_val.toLowerCase();o=s===l,"!="===e.constr_rel&&(o=!o)}for(var c=0;c<e.modifiers.length;c++){var p=g(e.modifiers[c],t,n);null!==p&&(o=o&&p)}return 2*+o-1}return 0}(e,t,n);case"exp":case"prot":return function(e,t,n){var r=n["exp"===e.alteration_type?"exp":"prot"](t);if(null===r)return 0;var o,i=e.constr_val,a=e.constr_rel,u=void 0;return"<"===a&&r<i||"<="===a&&r<=i?(o=1,u=-1):">"===a&&r>i||">="===a&&r>=i?(o=1,u=1):o=-1,o>0&&(t.alterationSubType=u&&u>0?"high":"low"),o}(e,t,n);case"fusion":return function(e,t,n){if(null===n.fusion(t))return 0;for(var r=!0,o=0;o<e.modifiers.length;o++){var i=b(e.modifiers[o],t,n);null!==i&&(r=r&&i)}return 2*+r-1}(e,t,n);case"any":return function(e,t,n){for(var r=!1,o=!1,i=0;i<e.modifiers.length;i++){var a=e.modifiers[i],u=null;switch(a.type){case"DRIVER":var l=n.cna(t);u="gain"!==l&&"hetloss"!==l&&b(a,t,n)}if(!0===u)r=!0;else if(!1===u){o=!0;break}}return o?-1:r?1:0}(e,t,n)}return 0}(e,t,r)}).reduce(function(e,t){return 1===t?1:0===t?e:-1===t?1===e?1:-1:void 0},-1))}function g(e,t,n){switch(e.type){case"GERMLINE":case"SOMATIC":return n.mut_status(t)===e.type.toLowerCase();case"RANGE":var r=n.mut_position(t);if(!r)return!1;var o=[Object(u.a)(e.start,Number.NEGATIVE_INFINITY),Object(u.a)(e.end,Number.POSITIVE_INFINITY)];return e.completeOverlapOnly?o[0]<=r[0]&&o[1]>=r[1]:o[0]<=r[1]&&r[0]<=o[1];default:return b(e,t,n)}}function b(e,t,n){switch(e.type){case"DRIVER":return n.is_driver(t);default:return!1}}function S(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;n=e.extend(!0,[],n);for(var u=r,s=0;s<n.length;s++)n[s].molecularProfileAlterationType=u.molecularAlterationType(n[s].molecularProfileId),Object(a.a)(n[s],u);function d(e){return function(t){return l(t)?Object.assign(Object.assign({},t),{list:t.list.map(d(e))}):e(t)}}var f=("mergedtrack"===i?c:p)(t,o).map(d(function(e){return Object.assign(Object.assign({},e),{gene:e.gene.toUpperCase()})}));return i?f.map(d(function(e){return{gene:e.gene,parsed_oql_line:e,oql_line:y(e),data:n.filter(function(t){return v(e,t,u.gene(t).toUpperCase(),u)})}})):n.filter(function(e){return function(e,t,n){var r=n.gene(t).toUpperCase();return!!r&&e.map(function(e){return v(e,t,r,n)}).reduce(function(e,t){return e||t},!1)}(f,e,u)})}function T(e,t,n,r){return S(e,t,n,r)}function C(e,t,n,r){return S(e,t,n,r,"gene")}function P(e,t,n,r){return S(e,t,n,r,"mergedtrack")}function A(e){for(var t=p(e).filter(function(e){return"datatypes"!==e.gene.toLowerCase()}).map(function(e){return e.gene.toUpperCase()}),n={},r=0;r<t.length;r++)n[t[r]]=!0;return Object.keys(n)}}).call(this,n(11))},589:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(4),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n[l]=e[l]}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}return e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={}}var t,n,r;return t=e,r=[{key:"from",value:function(t,n){var r=new e,o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;r.set(n(s),s)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}}],(n=[{key:"entries",value:function(){return o.a.flatten(o.a.values(this.map))}},{key:"set",value:function(e,t,n){e=a(e,n);var r=this.getEntry(e);return r?(r.value=t,!1):(this.getEntriesWithStringKey(e).push({key:e,value:t}),!0)}},{key:"get",value:function(e,t){e=a(e,t);var n=this.getEntry(e);return n?n.value:void 0}},{key:"has",value:function(e,t){return e=a(e,t),!!this.getEntry(e)}},{key:"clear",value:function(){this.map={}}},{key:"getEntriesWithStringKey",value:function(e){var t=function(e){var t=o.a.keys(e);return o.a.sortBy(t).map(function(t){return"".concat(e,":").concat(e[t])}).join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}},{key:"getEntry",value:function(e){return this.getEntriesWithStringKey(e).find(function(t){return n=t.key,r=e,o.a.isEqual(n,r);var n,r})}}])&&i(t.prototype,n),r&&i(t,r),e}()},590:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(6);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",null,r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:{color:"#BB1700",cursor:"pointer",marginRight:7}}),this.props.message," Please let us know about this error and how you got here at"," ",r.createElement("b",{style:{whiteSpace:"nowrap"}},r.createElement("a",{href:"mailto:".concat(i.b.serverConfig.skin_email_contact)},i.b.serverConfig.skin_email_contact)))}}])&&a(n.prototype,o),c&&a(n,c),t}();d.defaultProps={message:"Error encountered."},d=p([o.observer],d),t.a=d},591:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1P_Zv",framedImage:"styles-module__framedImage__1iqVk",QueryAndDownloadTabs:"styles-module__QueryAndDownloadTabs__ivykJ",QueryContainer:"styles-module__QueryContainer__2cy7B",forkedButtons:"styles-module__forkedButtons__2ctM7",errorMessage:"styles-module__errorMessage__32yZg",oqlMessage:"styles-module__oqlMessage__3xhe8",CancerStudySelector:"styles-module__CancerStudySelector__1FU50",MolecularProfileSelector:"styles-module__MolecularProfileSelector__rlomm",DataTypePrioritySelector:"styles-module__DataTypePrioritySelector__1_VUf",CaseSetSelector:"styles-module__CaseSetSelector__YteFo",StudySelection:"styles-module__StudySelection__3booh",GeneSetSelector:"styles-module__GeneSetSelector__2DY1b",icon:"styles-module__icon__1E8Oh",geneCount:"styles-module__geneCount__3cB9u",SelectedStudiesWindow:"styles-module__SelectedStudiesWindow__NAG6X",CancerStudySelectorHeader:"styles-module__CancerStudySelectorHeader__D2N40",selectAll:"styles-module__selectAll__sQO_b",noData:"styles-module__noData__3J5xx",selectedCount:"styles-module__selectedCount__TRoaE",selectionsExist:"styles-module__selectionsExist__1icpM",cancerStudySelectorBody:"styles-module__cancerStudySelectorBody__2BfDm",cancerTypeListContainer:"styles-module__cancerTypeListContainer__rnSbV",cancerStudyListContainer:"styles-module__cancerStudyListContainer__356jB",cancerTypeList:"styles-module__cancerTypeList__ouFgb",cancerTypeListItemLabel:"styles-module__cancerTypeListItemLabel__31N8Y",cancerTypeListItemCount:"styles-module__cancerTypeListItemCount__1HB2c",selectable:"styles-module__selectable__3NCiW",selected:"styles-module__selected__Zy9_9",matchingNodeText:"styles-module__matchingNodeText__3lV9e",nonMatchingNodeText:"styles-module__nonMatchingNodeText__1l5PU",containsSelectedStudies:"styles-module__containsSelectedStudies__20v-B",searchTextInput:"styles-module__searchTextInput__1VIxV",group:"styles-module__group__Cs8DR",zScore:"styles-module__zScore__23rtN",infoIcon:"styles-module__infoIcon__zMiog",profileName:"styles-module__profileName__1fbIy",DataTypePriorityLabel:"styles-module__DataTypePriorityLabel__21k9z",radioRow:"styles-module__radioRow__1G_fF",buttonRow:"styles-module__buttonRow__51RtG",geneSet:"styles-module__geneSet__Ra6KD",notEmpty:"styles-module__notEmpty__23mDp",GeneSymbolValidator:"styles-module__GeneSymbolValidator__ZK8rf",pendingMessage:"styles-module__pendingMessage__2jgIM",oqlNotice:"styles-module__oqlNotice__1tycm",validBubble:"styles-module__validBubble__QCGq3",invalidBubble:"styles-module__invalidBubble__1gB6Z",suggestionBubble:"styles-module__suggestionBubble__aRL1R",noChoiceLabel:"styles-module__noChoiceLabel__2GF5_",singleChoiceLabel:"styles-module__singleChoiceLabel__2wdqL",multiChoiceLabel:"styles-module__multiChoiceLabel__19sFa",MutSigGeneSelectorWindow:"styles-module__MutSigGeneSelectorWindow__1Uiku",MutSigGeneSelector:"styles-module__MutSigGeneSelector__25hKH",selectionColumnHeader:"styles-module__selectionColumnHeader__2MSUO",selectionColumnCell:"styles-module__selectionColumnCell__3RJ8f",selectButton:"styles-module__selectButton__2dXHK",GisticGeneSelectorWindow:"styles-module__GisticGeneSelectorWindow__1J2UG",GisticGeneSelector:"styles-module__GisticGeneSelector__U5Lb9",header:"styles-module__header__3cqyY",amp:"styles-module__amp__1zeIe",del:"styles-module__del__1_otl",gisticTable:"styles-module__gisticTable__2fquv",GisticGeneToggles:"styles-module__GisticGeneToggles__1aR6k",someGenes:"styles-module__someGenes__J-RhD",moreGenes:"styles-module__moreGenes__2gVF_",geneToggle:"styles-module__geneToggle__EGiaB",simulateHovered:"styles-module__simulateHovered__3IL_G",notSelected:"styles-module__notSelected__3-Rmx",showMoreLess:"styles-module__showMoreLess__3Ef4J",GenesetsSelectorWindow:"styles-module__GenesetsSelectorWindow__NTbph",GenesetsFormGroup:"styles-module__GenesetsFormGroup__1uJYh",GenesetsVolcanoSelectorWindow:"styles-module__GenesetsVolcanoSelectorWindow__w4nHP",GenesetsSelectionArea:"styles-module__GenesetsSelectionArea__3ebp-",transposeDataMatrix:"styles-module__transposeDataMatrix__YP_NR",submitRow:"styles-module__submitRow__k2sC8",genomeSpace:"styles-module__genomeSpace__2augo",tooltip:"styles-module__tooltip__ux3KI",learnOql:"styles-module__learnOql__1Aj5I",quickSelect:"styles-module__quickSelect__3ZhaC",studyName:"styles-module__studyName__2iQkr"}},592:function(e,t,n){"use strict";var r=n(616),o=n(4),i=n.n(o),a=n(178),u=n(103),l=n(621),s=n(583),c=n(578),p=n(781);function d(e,t){var n,r,o,a;switch(t){case"STRING":var u=Object(s.j)(i.a.values(c.x));n=i.a.cloneDeep(c.x);var l=!0,d=!1,f=void 0;try{for(var h,m=e[Symbol.iterator]();!(l=(h=m.next()).done);l=!0){var y=h.value;y.value in n||(n[y.value]=u())}}catch(e){d=!0,f=e}finally{try{l||null==m.return||m.return()}finally{if(d)throw f}}break;case"NUMBER":var v=e.reduce(function(e,t){return t.value&&!isNaN(t.value)&&e.push(parseFloat(t.value)),e},[]),g=i.a.min(v),b=i.a.max(v);if(void 0!==g&&void 0!==b){if(r=function(e){return Object(p.b)((e-g)/(b-g))},g>=0){var S=function(e){return Math.log(Math.max(.01,e))},T=S(g),C=S(b);o=function(e){return Object(p.b)((S(e)-T)/(C-T))}}a=[g,b]}else r=function(e){return"#000000"}}return{categoryToColor:n,numericalValueToColor:r,numericalValueRange:a,logScaleNumericalValueToColor:o}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"c",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"f",function(){return C}),n.d(t,"d",function(){return P}),n.d(t,"e",function(){return A}),n.d(t,"g",function(){return _});var v,g=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.MutationSpectrum="NO_CONTEXT_MUTATION_SIGNATURE",e.StudyOfOrigin="CANCER_STUDY",e.ProfiledInPrefix="PROFILED_IN",e.ComparisonGroupPrefix="IN_COMPARISON_GROUP",e.NumSamplesPerPatient="NUM_SAMPLES_PER_PATIENT"}(v||(v={}));var b=["C>A","C>G","C>T","T>A","T>C","T>G"],S=["#3D6EB1","#8EBFDC","#DFF1F8","#FCE08E","#F78F5E","#D62B23"],T=[v.StudyOfOrigin,v.NumSamplesPerPatient];function C(e){return e.clinicalAttributeId.startsWith(v.ProfiledInPrefix)}function P(e){return e.clinicalAttributeId.startsWith(v.ComparisonGroupPrefix)}function A(e){return C(e)||P(e)||T.indexOf(e.clinicalAttributeId)>-1}function I(e,t){var n=[],r=new l.a,o=!0,i=!1,a=void 0;try{for(var u,s=e.comparisonGroup.data.studies[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value,p=c.id,d=!0,f=!1,h=void 0;try{for(var m,y=c.samples[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var v=m.value;r.add({studyId:p,sampleId:v})}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}var g=!0,b=!1,S=void 0;try{for(var T,C=t[Symbol.iterator]();!(g=(T=C.next()).done);g=!0){var P=T.value;n.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:P.patientId,sampleId:P.sampleId,studyId:P.studyId,uniquePatientKey:P.uniquePatientKey,uniqueSampleKey:P.uniqueSampleKey,value:r.has({studyId:P.studyId,sampleId:P.sampleId})?"Yes":"No"})}}catch(e){b=!0,S=e}finally{try{g||null==C.return||C.return()}finally{if(b)throw S}}return n}function E(e,t,n){var r=e.molecularProfileIds,o=[],a=!0,u=!1,l=void 0;try{for(var s,c=function(){var t=s.value,a=n.samples[t.uniqueSampleKey];if(!a)return"continue";var u=i.a.flatten(i.a.values(a.byGene)).concat(a.allGenes),l=i.a.keyBy(u,"molecularProfileId");i.a.some(r,function(e){return e in l})&&o.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:"Yes"})},p=t[Symbol.iterator]();!(a=(s=p.next()).done);a=!0)c()}catch(e){u=!0,l=e}finally{try{a||null==p.return||p.return()}finally{if(u)throw l}}return o}function O(e,t,n,r,o,l){return g(this,void 0,void 0,regeneratorRuntime.mark(function s(){var c,p,d,f;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:s.t0=e.clinicalAttributeId,s.next=s.t0===v.MutationSpectrum?3:s.t0===v.StudyOfOrigin?10:s.t0===v.NumSamplesPerPatient?12:16;break;case 3:return p=i.a.groupBy(t,function(e){return e.studyId}),s.t1=i.a,s.next=7,Promise.all(Object.keys(r).map(function(e){var t=p[e];return t.length?u.a.fetchMutationSpectrumsUsingPOST({molecularProfileId:r[e].molecularProfileId,mutationSpectrumFilter:{sampleIds:t.map(function(e){return e.sampleId})}}):Promise.resolve([])}));case 7:return s.t2=s.sent,c=s.t1.flatten.call(s.t1,s.t2),s.abrupt("break",28);case 10:return c=t.map(function(t){return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:o[t.studyId].name}}),s.abrupt("break",28);case 12:return d=i.a.groupBy(t,"uniquePatientKey"),f=i.a.keyBy(n,"uniquePatientKey"),c=i.a.map(d,function(t,n){var r=f[n];return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:r.patientId,uniquePatientKey:n,studyId:r.studyId,value:t.length}}),s.abrupt("break",28);case 16:if(!C(e)){s.next=20;break}c=E(e,t,l),s.next=27;break;case 20:if(!P(e)){s.next=24;break}c=I(e,t),s.next=27;break;case 24:return s.next=26,a.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:e.patientAttribute?n.map(function(e){return{entityId:e.patientId,studyId:e.studyId}}):t.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 26:c=s.sent;case 27:return s.abrupt("break",28);case 28:return s.abrupt("return",c);case 29:case"end":return s.stop()}},s)}))}var _=function(e){function t(e,n,r,o,i){var a,u,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=this,l=h(t).call(this,function(t){return{await:function(){return[e,n,r,o,i]},invoke:function(){return g(m(a),void 0,void 0,regeneratorRuntime.mark(function a(){var u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O(t,e.result,n.result,r.result,o.result,i.result);case 2:return u=a.sent,a.abrupt("return",Object.assign({data:u},d(u,t.datatype)));case 4:case"end":return a.stop()}},a)}))}}},function(e){return"".concat(e.clinicalAttributeId,",").concat((e.molecularProfileIds||[]).join("-"),",").concat(e.patientAttribute)}),a=!l||"object"!==f(l)&&"function"!=typeof l?m(u):l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["a"]),t}()},593:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return u});var r=n(102),o=n(6);function i(e){return Object.assign({chromosome:e.chr},e)}function a(e){return e.map(i)}function u(e,t){return function(n){return n.length>0?Object(r.J)(n,e,o.b.serverConfig.isoformOverrideSource,t):Promise.resolve([])}}},594:function(e,t,n){"use strict";var r=n(4),o=n(178),i=n(2);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l="tissue",s="My Virtual Studies",c="Studies",p=function(){function e(t){var n,o,i,u=this,p=t.cancerTypes,d=void 0===p?[]:p,f=t.studies,h=void 0===f?[]:f,m=t.priorityStudies,y=void 0===m?{}:m,v=t.virtualStudies,g=void 0===v?[]:v,b=t.maxTreeDepth,S=void 0===b?0:b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootCancerType={clinicalTrialKeywords:"",dedicatedColor:"",name:"All",parent:"",shortName:"All",cancerTypeId:l},this.virtualStudyCategory={clinicalTrialKeywords:"",dedicatedColor:"",name:s,parent:l,shortName:s,cancerTypeId:s,alwaysVisible:!0},this.physicalStudyCategory={clinicalTrialKeywords:"",dedicatedColor:"",name:c,parent:l,shortName:c,cancerTypeId:c,alwaysVisible:!0},this.priorityCategories=[],this.map_node_meta=new Map,this.map_cancerTypeId_cancerType=new Map,this.map_studyId_cancerStudy=new Map,d=e.sortNodes(d);var T=g.map(function(e){if(e.data)return{allSampleCount:r.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:s}}).filter(function(e){return e});for(var C in y)this.priorityCategories.push({clinicalTrialKeywords:"",dedicatedColor:"",name:C,parent:l,shortName:C,cancerTypeId:C});0===S&&g.length>0&&(h=r.map(h,function(e){return e.cancerTypeId=u.physicalStudyCategory.cancerTypeId,e}));for(var P=0,A=[d=[this.virtualStudyCategory,this.physicalStudyCategory].concat(a(this.priorityCategories),[this.rootCancerType],a(d)),h=e.sortNodes([].concat(a(T),a(h)))];P<A.length;P++){n=A[P];var I=!0,E=!1,O=void 0;try{for(var _,w=n[Symbol.iterator]();!(I=(_=w.next()).done);I=!0){o=_.value;var k=n==d;k?this.map_cancerTypeId_cancerType.set(o.cancerTypeId,o):this.map_studyId_cancerStudy.set(o.studyId,o);var M=k?o.name:[o.name,o.description].join("\n");this.map_node_meta.set(o,{isCancerType:k,isPriorityCategory:!1,priorityCategories:[],childCancerTypes:[],childStudies:[],descendantStudies:[],descendantCancerTypes:[],ancestors:[],siblings:[],searchTerms:M})}}catch(e){E=!0,O=e}finally{try{I||null==w.return||w.return()}finally{if(E)throw O}}}var G=!0,N=!1,x=void 0;try{for(var R,D=this.priorityCategories[Symbol.iterator]();!(G=(R=D.next()).done);G=!0){var j=R.value;(i=this.map_node_meta.get(j)).isPriorityCategory=!0;var L=!0,B=!1,F=void 0;try{for(var q,U=y[j.cancerTypeId][Symbol.iterator]();!(L=(q=U.next()).done);L=!0){var V=q.value,z=this.map_studyId_cancerStudy.get(V);if(z)i.childStudies.push(z),i.descendantStudies.push(z),this.map_node_meta.get(z).priorityCategories.push(j)}}catch(e){B=!0,F=e}finally{try{L||null==U.return||U.return()}finally{if(B)throw F}}}}catch(e){N=!0,x=e}finally{try{G||null==D.return||D.return()}finally{if(N)throw x}}for(var H=0,K=[d,h];H<K.length;H++){n=K[H];var W=!0,Q=!1,Y=void 0;try{for(var X,Z=n[Symbol.iterator]();!(W=(X=Z.next()).done);W=!0){o=X.value,i=this.map_node_meta.get(o);var J=void 0;if(i.isCancerType){var $=o.alwaysVisible;J=this.map_cancerTypeId_cancerType.get(o.parent),$&&J&&(J.alwaysVisible=$)}else J=this.map_cancerTypeId_cancerType.get(o.cancerTypeId);var ee=J&&this.map_node_meta.get(J);for(ee&&(i.isCancerType?ee.childCancerTypes.push(o):ee.childStudies.push(o));J&&ee;)i.ancestors.push(J),i.isCancerType?ee.descendantCancerTypes.push(o):ee.descendantStudies.push(o),ee=(J=this.map_cancerTypeId_cancerType.get(J.parent))&&this.map_node_meta.get(J);var te=[].concat(a(i.ancestors),a(i.priorityCategories)).map(function(e){return e.name});i.searchTerms=[i.searchTerms].concat(a(te)).join("\n")}}catch(e){Q=!0,Y=e}finally{try{W||null==Z.return||Z.return()}finally{if(Q)throw Y}}}var ne=!0,re=!1,oe=void 0;try{for(var ie,ae=h[Symbol.iterator]();!(ne=(ie=ae.next()).done);ne=!0){o=ie.value;var ue=(i=this.map_node_meta.get(o)).ancestors[i.ancestors.length-2];if(ue){var le=this.map_node_meta.get(ue);i.siblings=le.descendantStudies}}}catch(e){re=!0,oe=e}finally{try{ne||null==ae.return||ae.return()}finally{if(re)throw oe}}}var t,n,o;return t=e,o=[{key:"sortNodes",value:function(e){return r.sortBy(e,function(e){return e.name})}}],(n=null)&&u(t.prototype,n),o&&u(t,o),e}(),d=n(3),f=n(66),h=n(103),m=n(588),y=n(104),v=n.n(y),g=n(6),b=n(692),S=n(50),T=n.n(S),C=n(15),P=n(701),A=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function I(e,t,n){return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=r.chunk(e,n),a=i.map(t),o.t0=r,o.next=5,Promise.all(a);case 5:return o.t1=o.sent,o.abrupt("return",o.t0.flatten.call(o.t0,o.t1));case 7:case"end":return o.stop()}},o)}))}var E=n(570);function O(e){var t=e.selectableSelectedStudyIds,n=e.asyncCustomCaseSet.result.map(function(e){return e.studyId+":"+e.sampleId}).join("+"),r=e.getSelectedProfileIdFromMolecularAlterationType("MUTATION_EXTENDED");e.alterationTypesInOQL.haveMutInQuery&&!r&&e.defaultMutationProfile&&(r=e.defaultMutationProfile.molecularProfileId);var o=e.getSelectedProfileIdFromMolecularAlterationType("COPY_NUMBER_ALTERATION");e.alterationTypesInOQL.haveCnaInQuery&&!o&&e.defaultCnaProfile&&(o=e.defaultCnaProfile.molecularProfileId);var i=e.getSelectedProfileIdFromMolecularAlterationType("MRNA_EXPRESSION");e.alterationTypesInOQL.haveMrnaInQuery&&!i&&e.defaultMrnaProfile&&(i=e.defaultMrnaProfile.molecularProfileId);var a=e.getSelectedProfileIdFromMolecularAlterationType("PROTEIN_LEVEL");e.alterationTypesInOQL.haveProtInQuery&&!a&&e.defaultProtProfile&&(a=e.defaultProtProfile.molecularProfileId);var u={genetic_profile_ids_PROFILE_MUTATION_EXTENDED:r,genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION:o,genetic_profile_ids_PROFILE_MRNA_EXPRESSION:i,genetic_profile_ids_PROFILE_METHYLATION:e.getSelectedProfileIdFromMolecularAlterationType("METHYLATION")||e.getSelectedProfileIdFromMolecularAlterationType("METHYLATION_BINARY"),genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION:a,genetic_profile_ids_PROFILE_GENESET_SCORE:e.getSelectedProfileIdFromMolecularAlterationType("GENESET_SCORE"),genetic_profile_ids_PROFILE_GENERIC_ASSAY:e.getSelectedProfileIdFromMolecularAlterationType("GENERIC_ASSAY"),cancer_study_id:1===t.length?t[0]:"all",cancer_study_list:void 0,Z_SCORE_THRESHOLD:e.zScoreThreshold,RPPA_SCORE_THRESHOLD:e.rppaScoreThreshold,data_priority:e.dataTypePriorityCode,profileFilter:e.dataTypePriorityCode,case_set_id:e.selectedSampleListId||"-1",case_ids:n,gene_list:ae(e.geneQuery)||" ",geneset_list:ae(e.genesetQuery)||" ",tab_index:e.forDownloadTab?"tab_download":"tab_visualize",transpose_matrix:e.transposeDataMatrix?"on":void 0,Action:"Submit"};return 1!==t.length&&(u.cancer_study_list=t.join(",")),{query:u}}function _(e){var t=!1,n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;if(l.showProfileInAnalysisTab){switch(l.molecularAlterationType){case E.a.MUTATION_EXTENDED:t=!0;break;case E.a.COPY_NUMBER_ALTERATION:n=!0}if(t&&n)break}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return{mutation:t,cna:n}}function w(e,t,n){var o={},i={},a={},u={},l={},s={},c={},p={};r.each(e,function(e){switch(e.category){case"all_cases_with_mutation_and_cna_data":a[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_with_mutation_data":o[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_with_cna_data":i[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_in_study":u[e.studyId]=r.keyBy(e.sampleIds);break;default:e.sampleListId===e.studyId+"_all"&&(u[e.studyId]=r.keyBy(e.sampleIds))}});var d=r.map(n,function(e){return e.id}),f=t.filter(function(e){return!r.includes(d,e)});return r.forEach(f,function(e){l[e]=o[e]||{},s[e]=i[e]||{},c[e]=a[e]||{},p[e]=u[e]||{}}),r.forEach(n,function(e){r.forEach(e.data.studies,function(e){r.includes(f,e.id)||(l[e.id]=l[e.id]||{},s[e.id]=s[e.id]||{},c[e.id]=c[e.id]||{},p[e.id]=p[e.id]||{},r.forEach(e.samples,function(t){o[e.id]&&o[e.id][t]&&(l[e.id][t]=t),i[e.id]&&i[e.id][t]&&(s[e.id][t]=t),a[e.id]&&a[e.id][t]&&(c[e.id][t]=t),u[e.id]&&u[e.id][t]&&(p[e.id][t]=t)}))})}),{w_mut:r.reduce(l,function(e,t){return e+Object.keys(t).length},0),w_cna:r.reduce(s,function(e,t){return e+Object.keys(t).length},0),w_mut_cna:r.reduce(c,function(e,t){return e+Object.keys(t).length},0),all:r.reduce(p,function(e,t){return e+Object.keys(t).length},0)}}var k=n(571);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function D(e){return e}function j(e,t){return t}function L(e){return R(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:e}});case 2:return n=t.sent,i=r.groupBy(n,function(e){return e.studyId}),t.abrupt("return",e.map(function(e){return{data:[i[e]||[]],meta:e}}));case 5:case"end":return t.stop()}},t)}))}var B=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,N(t).call(this,D,j,L))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,k["a"]),t}(),F=n(572),q=n(127);function U(e){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;r.has(l,"genesets")&&l.genesets.forEach(function(e){return t.push(e)})}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}var V=n(616);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};var Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),H(this,K(t).call(this,function(e){return{invoke:function(){return function(e){return Q(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"DETAILED"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}(e)}}},function(e){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,V["a"]),t}();var X=n(128),Z=n(602);function J(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return oe}),n.d(t,"e",function(){return ae}),n.d(t,"b",function(){return ue}),n.d(t,"c",function(){return se}),n.d(t,"d",function(){return ce});var ne=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":te(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},re=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},oe="-1";function ie(e){return Number.isInteger(Number(e))}function ae(e){return e.trim().replace(/^\s+|\s+$/g,"").replace(/[ \+]+/g," ").toUpperCase()}var ue,le=["searchText","selectableSelectedStudyIds","dataTypePriority","selectedProfileIds","zScoreThreshold","rppaScoreThreshold","selectedSampleListId","caseIds","caseIdsMode","geneQuery","genesetQuery"];!function(e){e[e.Unfocused=0]="Unfocused",e[e.ShouldFocus=1]="ShouldFocus",e[e.Focused=2]="Focused"}(ue||(ue={}));var se=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.studiesHaveChangedSinceInitialization=!1,this.deletedVirtualStudies=[],this.forDownloadTab=!1,this.transposeDataMatrix=!1,this.searchText="",this._allSelectedStudyIds=i.observable.map(),this._defaultSelectedIds=i.observable.map(),this.dataTypePriority={mutation:!0,cna:!0},this._selectedProfileIds=void 0,this.zScoreThreshold="2.0",this.rppaScoreThreshold="2.0",this._selectedSampleListId=void 0,this.caseIds="",this._defaultStudySampleMap={},this._caseIdsMode="sample",this._geneQuery="",this.rawGenesetQuery="",this.geneQueryErrorDisplayStatus=ue.Unfocused,this.genesetQueryErrorDisplayStatus=ue.Unfocused,this.showMutSigPopup=!1,this.showGisticPopup=!1,this.showGenesetsHierarchyPopup=!1,this.showGenesetsVolcanoPopup=!1,this.priorityStudies=g.a.parseConfigFormat(g.b.serverConfig.priority_studies),this.showSelectedStudiesOnly=!1,this.selectedCancerTypeIds=[],this.clickAgainToDeselectSingle=!0,this.searchExampleMessage="",this.volcanoPlotSelectedPercentile={label:"75%",value:"75"},this._maxTreeDepth=parseInt(g.b.serverConfig.skin_query_max_tree_depth,10),this.cancerTypes=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.getAllCancerTypesUsingGET({}).then(function(e){return e.filter(function(e){return"null"!==e.parent})}));case 1:case"end":return e.stop()}},e)}))}},[]),this.cancerStudies=Object(d.S)(o.a.getAllStudiesUsingGET({projection:"SUMMARY"}),[]),this.cancerStudyIdsSet=Object(d.S)({await:function(){return[n.cancerStudies]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(d.Y)(this.cancerStudies.result.map(function(e){return e.studyId})));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.physicalStudiesIdsSet=Object(d.S)({await:function(){return[n.cancerStudies]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cancerStudies.result.reduce(function(e,t){return e[t.studyId]=[t.studyId],e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.virtualStudiesIdsSet=Object(d.S)({await:function(){return[n.userVirtualStudies]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.userVirtualStudies.result.reduce(function(e,t){return e[t.id]=[t.id],e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.sharedQueriedStudiesSet=Object(d.S)({await:function(){return[n.physicalStudiesIdsSet,n.virtualStudiesIdsSet]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesIdsSet.result,n=this.virtualStudiesIdsSet.result,o=Object.assign({},t,n),i=this._defaultSelectedIds.keys().filter(function(e){return!o[e]}),a={},e.next=7,Promise.all(i.map(function(e){return new Promise(function(n,o){q.a.getVirtualStudy(e).then(function(o){var i=o.data.studies.map(function(e){return e.id}),u=i.filter(function(e){return!t[e]});r.isEmpty(u)&&(a[e]=i),n()}).catch(function(){n()})})}));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}))},default:{}}),this.physicalStudiesSet=Object(d.S)({await:function(){return[n.cancerStudies]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cancerStudies.result.reduce(function(e,t){return e[t.studyId]=t,e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.userVirtualStudies=Object(d.S)(function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.a.sessionServiceIsEnabled()||!this.userLoggedIn){e.next=13;break}return e.prev=1,e.next=4,q.a.getUserVirtualStudies();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:e.next=14;break;case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}},e,this,[[1,8]])}))},[]),this.userVirtualStudiesSet=Object(d.S)({await:function(){return[n.userVirtualStudies]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.userVirtualStudies.result.reduce(function(e,t){return e[t.id]=t,e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.sharedVirtualStudiesSet=Object(d.S)({await:function(){return[n.physicalStudiesSet,n.userVirtualStudiesSet]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesSet.result,n=this.userVirtualStudiesSet.result,o=Object.assign([],Object.keys(t),Object.keys(n)),i=this._defaultSelectedIds.keys().filter(function(e){return!r.includes(o,e)}),a={},e.next=7,Promise.all(i.map(function(e){return new Promise(function(n,r){q.a.getVirtualStudy(e).then(function(r){0===r.data.studies.map(function(e){return e.id}).filter(function(e){return!t[e]}).length&&(a[e]=r),n()}).catch(function(){n()})})}));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}))},default:{}}),this.selectedStudyToSampleSet=Object(d.S)({await:function(){return[n.userVirtualStudiesSet,n.sharedVirtualStudiesSet]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},n=r.filter(this.allSelectedStudyIds,function(e){return a.physicalStudiesSet.result[e]}),this._allSelectedStudyIds.keys().length===n.length){e.next=9;break}return e.next=5,Promise.all(r.map(n,function(e){return o.a.getAllSamplesInStudyUsingGET({studyId:e}).then(function(n){t[e]=Object(d.Y)(n.map(function(e){return e.sampleId}))})}));case 5:i=Object.assign(Object.assign({},this.userVirtualStudiesSet.result),this.sharedVirtualStudiesSet.result),this._allSelectedStudyIds.keys().forEach(function(e){i[e]&&i[e].data.studies.forEach(function(e){void 0===t[e.id]&&(t[e.id]=Object(d.Y)(e.samples))})}),e.next=10;break;case 9:n.forEach(function(e){t[e]={}});case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)}))},default:{}}),this.selectableStudiesSet=Object(d.S)({await:function(){return[n.physicalStudiesSet,n.selectedStudyToSampleSet]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r.each(this.physicalStudiesSet.result,function(e,n){t[n]=[n]}),r.each(this.userVirtualStudiesSet.result,function(e,n){t[n]=[n]}),r.each(this.sharedVirtualStudiesSet.result,function(e,n){t[n]=e.data.studies.map(function(e){return e.id})}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))},default:{},onResult:function(){if(n.selectedSampleListId!==oe){var e=n.sharedVirtualStudiesSet.result,t=r.filter(n._allSelectedStudyIds.keys(),function(t){return void 0!==e[t]});if(r.isEmpty(t))n.caseIds="";else{var o=n._defaultStudySampleMap;(void 0===o||r.isEmpty(o))&&(o=r.reduce(n.selectedStudyToSampleSet.result,function(e,t,n){return e[n]=r.keys(t),e},{})),r.some(o,function(e){return e.length>0})&&n.setCaseIds(o)}}}}),this.unknownStudyIds=Object(d.S)({await:function(){return[n.selectableStudiesSet]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectableStudiesSet.result,n=this._allSelectedStudyIds.keys(),e.abrupt("return",n.filter(function(e){return!(e in t)}));case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.molecularProfiles=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.physicalStudyIdsInSelection.length){e.next=6;break}return e.next=3,o.a.getAllMolecularProfilesInStudyUsingGET({studyId:this.physicalStudyIdsInSelection[0]});case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.profileIds&&!n.studiesHaveChangedSinceInitialization||(n._selectedProfileIds=void 0)}}),this.molecularProfilesInSelectedStudies=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.molecularProfilesInStudyCache.getPromise(this.physicalStudyIdsInSelection,!0);case 2:return t=e.sent,e.abrupt("return",r.flatten(t.map(function(e){return e.data?e.data:[]})));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.sampleListInSelectedStudies=Object(d.S)({await:function(){return n.physicalStudyIdsInSelection.map(function(e){return n.sampleListsInStudyCache.get(e)})},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reduce(this.physicalStudyIdsInSelection,function(e,n){var o=t.sampleListsInStudyCache.get(n).result;return r.isUndefined(o)||(e=e.concat(o)),e},[]));case 1:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n._selectedSampleListId=void 0)}}),this.profileAvailability=Object(d.S)({await:function(){return[n.molecularProfilesInSelectedStudies]},invoke:function(){return Promise.resolve(_(n.molecularProfilesInSelectedStudies.result))},default:{mutation:!1,cna:!1},onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n.dataTypePriority=_(n.molecularProfilesInSelectedStudies.result))}}),this.profiledSamplesCount=Object(d.S)({await:function(){return[n.sampleListInSelectedStudies]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w(this.sampleListInSelectedStudies.result,this.selectableSelectedStudyIds,this.selectedVirtualStudies));case 1:case"end":return e.stop()}},e,this)}))},default:{w_mut:0,w_cna:0,w_mut_cna:0,all:0}}),this.sampleLists=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return this.sampleListsInStudyCache.get(this.selectableSelectedStudyIds[0]).result,e.next=5,this.sampleListsInStudyCache.get(this.selectableSelectedStudyIds[0]).result;case 5:return t=e.sent,e.abrupt("return",r.sortBy(t,function(e){return e.name}));case 7:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n._selectedSampleListId=void 0)}}),this.mutSigForSingleStudy=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,h.a.getSignificantlyMutatedGenesUsingGET({studyId:this.selectableSelectedStudyIds[0]});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.gisticForSingleStudy=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,h.a.getSignificantCopyNumberRegionsUsingGET({studyId:this.selectableSelectedStudyIds[0]});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.genes=Object(d.S)({invoke:function(){return n.invokeGenesLater(n.geneIds)},default:{found:[],suggestions:[]}}),this.genesets=Object(d.S)({invoke:function(){return n.invokeGenesetsLater(n.genesetIds)},default:{found:[],invalid:[]}}),this.invokeGenesLater=Object(f.debounceAsync)(function(e){return re(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,u,l,s,c,p,d,f,h=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.partition(r.uniq(e),ie),i=$(n,2),a=i[0],u=i[1],l=function(){return re(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.length){e.next=6;break}return e.next=3,o.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:a});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=r.difference(a,t.map(function(e){return e.entrezGeneId+""})),i=n.map(function(e){return{alias:e,genes:[]}}),u=t.map(function(e){return{alias:e.entrezGeneId+"",genes:[e]}}),l=[].concat(J(i),J(u)),e.abrupt("return",{found:t,suggestions:l});case 12:case"end":return e.stop()}},e)}))},s=function(){return re(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.length){e.next=6;break}return e.next=3,o.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:u});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=r.difference(u,t.map(function(e){return e.hugoGeneSymbol})),e.next=10,Promise.all(n.map(function(e){return a.getGeneSuggestions(e)}));case 10:return i=e.sent,e.abrupt("return",{found:t,suggestions:i});case 12:case"end":return e.stop()}},e)}))},t.next=5,Promise.all([l(),s()]);case 5:return c=t.sent,p=$(c,2),d=p[0],f=p[1],t.abrupt("return",{found:[].concat(J(d.found),J(f.found)),suggestions:[].concat(J(d.suggestions),J(f.suggestions))});case 10:case"end":return t.stop()}},t)}))},500),this.invokeGenesetsLater=Object(f.debounceAsync)(function(e){return re(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=8;break}return t.next=3,h.a.fetchGenesetsUsingPOST({genesetIds:e});case 3:return n=t.sent,o=r.difference(e,n.map(function(e){return e.genesetId})),t.abrupt("return",{found:n,invalid:o});case 8:return t.abrupt("return",Promise.resolve({found:[],invalid:[]}));case 9:case"end":return t.stop()}},t)}))},500),this.asyncCustomCaseSet=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedSampleListId===oe&&0!==this.caseIds.trim().length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",this.invokeCustomCaseSetLater({isVirtualStudySelected:this.isVirtualStudySelected,caseIds:this.caseIds,caseIdsMode:this.caseIdsMode}));case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.invokeCustomCaseSetLater=Object(f.debounceAsync)(function(e){return re(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,u,l,s,c,p,f,h,m,y,v,g,b,S,T,C,P,A,E,O,_,w,k,M,G=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",this.isSingleNonVirtualStudySelected&&(n=this.selectableSelectedStudyIds[0]),i=e.caseIds.trim().split(/\s+/g),a=Object(d.Y)(this.physicalStudyIdsInSelection),u=i.map(function(e){var t=e.split(":");if(1===t.length){if(n)return{id:e,study:n};throw new Error("No study specified for ".concat(G.caseIdsMode," id: ").concat(e,", and more than one study selected for query."))}if(2===t.length){var r=t[0],o=t[1];if(!a[r]){var i="";throw G.isVirtualStudySelected&&(i=", nor part of a selected Saved Study"),new Error("Study ".concat(r," is not selected").concat(i,"."))}return{id:o,study:r}}throw new Error("Input error for entity: ".concat(e,"."))}),l=Object(d.W)(u.map(function(e){return"".concat(e.study,":").concat(e.id)})),s=[],c={},p=[],"sample"!==e.caseIdsMode){t.next=37;break}if(!(f=u.map(function(e){return{studyId:e.study,sampleId:e.id}})).length){t.next=35;break}return t.next=14,I(f,function(e){return o.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:e},projection:"SUMMARY"})},990);case 14:for(h=t.sent,h=r.sortBy(h,function(e){return l["".concat(e.studyId,":").concat(e.sampleId)]}),m=!0,y=!1,v=void 0,t.prev=19,g=h[Symbol.iterator]();!(m=(b=g.next()).done);m=!0)S=b.value,s.push({studyId:S.studyId,sampleId:S.sampleId}),c["".concat(S.studyId,":").concat(S.sampleId)]=!0;t.next=27;break;case 23:t.prev=23,t.t0=t.catch(19),y=!0,v=t.t0;case 27:t.prev=27,t.prev=28,m||null==g.return||g.return();case 30:if(t.prev=30,!y){t.next=33;break}throw v;case 33:return t.finish(30);case 34:return t.finish(27);case 35:t.next=61;break;case 37:return T=u.map(function(e){return G.getSamplesForStudyAndPatient(e.study,e.id)}),t.next=40,Promise.all(T);case 40:for(C=t.sent,C=r.sortBy(C,function(e){return l["".concat(e.studyId,":").concat(e.patientId)]}),P=!0,A=!1,E=void 0,t.prev=45,O=C[Symbol.iterator]();!(P=(_=O.next()).done);P=!0)w=_.value,w.studyId,w.patientId,k=w.samples,!w.error&&k.length&&(s=s.concat(k.map(function(e){return c["".concat(e.studyId,":").concat(e.patientId)]=!0,{studyId:e.studyId,sampleId:e.sampleId}})));t.next=53;break;case 49:t.prev=49,t.t1=t.catch(45),A=!0,E=t.t1;case 53:t.prev=53,t.prev=54,P||null==O.return||O.return();case 56:if(t.prev=56,!A){t.next=59;break}throw E;case 59:return t.finish(56);case 60:return t.finish(53);case 61:if(p=p.concat(u.filter(function(e){return!c["".concat(e.study,":").concat(e.id)]})),M=this.selectedStudyToSampleSet.result,s.forEach(function(e){M[e.studyId]&&!r.isEmpty(M[e.studyId])&&(M[e.studyId][e.sampleId]||p.push({id:e.sampleId,study:e.studyId}))}),!p.length){t.next=70;break}if(!this.isSingleNonVirtualStudySelected){t.next=69;break}throw new Error("Invalid ".concat(e.caseIdsMode).concat(p.length>1?"s":""," for the selected cancer study: ").concat(p.map(function(e){return e.id}).join(", ")));case 69:throw new Error("Invalid (study, ".concat(e.caseIdsMode,") pair").concat(p.length>1?"s":"",": ").concat(p.map(function(e){return"(".concat(e.study,", ").concat(e.id,")")}).join(", "),"\n\t\t\t\t\t\t"));case 70:return t.abrupt("return",s);case 71:case"end":return t.stop()}},t,this,[[19,23,27,35],[28,,30,34],[45,49,53,61],[54,,56,60]])}))},500),this.studyListLogic=new P.b(this),this.hierarchyData=Object(d.S)({invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.T)(this.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId,Number(this.volcanoPlotSelectedPercentile.value),0,1,this.defaultSelectedSampleListId);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}}),this.volcanoPlotTableData=Object(d.S)({await:function(){return[n.hierarchyData]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(this.hierarchyData.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.map_genesets_selected_volcano=new i.ObservableMap,this.dict_molecularAlterationType_filenameSuffix={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"cna",MRNA_EXPRESSION:"mrna",METHYLATION:"methylation",METHYLATION_BINARY:"methylation",PROTEIN_LEVEL:"rppa"},this.asyncUrlParams=Object(d.S)({await:function(){return[n.asyncCustomCaseSet]},invoke:function(){return re(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(this));case 1:case"end":return e.stop()}},e,this)}))}}),this.initiallySelected={profileIds:!1,sampleListId:!1},this.initialize(t)}var t,n,a;return t=e,(n=[{key:"initialize",value:function(e){var t=this;Object(f.labelMobxPromises)(this),e&&this.setParamsFromUrl(e);var n=localStorage.getItem("legacyStudySubmission");if(localStorage.removeItem("legacyStudySubmission"),n)try{this.setParamsFromLocalStorage(JSON.parse(n))}catch(e){throw"error parseing/setting legacyStudySubmission"}Object(i.reaction)(function(){return t.allSelectedStudyIds},function(){t.studiesHaveChangedSinceInitialization=!0})}},{key:"deleteVirtualStudy",value:function(e){var t=this;q.a.deleteVirtualStudy(e).then(Object(i.action)(function(){t.deletedVirtualStudies.push(e),-1!==t.selectableSelectedStudyIds.indexOf(e)&&(t.selectableSelectedStudyIds=r.difference(t.selectableSelectedStudyIds,[e]))}),Object(i.action)(function(e){}))}},{key:"restoreVirtualStudy",value:function(e){var t=this;q.a.addVirtualStudy(e).then(Object(i.action)(function(){t.deletedVirtualStudies=t.deletedVirtualStudies.filter(function(t){return t!==e})}),Object(i.action)(function(e){}))}},{key:"setStudyIdSelected",value:function(e,t){if(this.forDownloadTab){var n={};t&&(n[e]=t),this._allSelectedStudyIds=i.observable.map(n)}else t?this._allSelectedStudyIds.set(e,!0):this._allSelectedStudyIds.delete(e)}},{key:"setCaseIds",value:function(e){this.selectedSampleListId=oe,this.caseIdsMode="sample",this.caseIds=r.flatten(Object.keys(e).map(function(t){return e[t].map(function(e){return"".concat(t,":").concat(e)})})).join("\n")}},{key:"getGeneSuggestions",value:function(e){return re(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,o.a.getAllGenesUsingGET({alias:e});case 3:return t.t1=t.sent,t.abrupt("return",{alias:t.t0,genes:t.t1});case 5:case"end":return t.stop()}},t)}))}},{key:"getSamplesForStudyAndPatient",value:function(e,t){return o.a.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t}).then(function(n){return{studyId:e,patientId:t,samples:n,error:void 0}},function(n){return{studyId:e,patientId:t,samples:[],error:n}})}},{key:"isVirtualStudy",value:function(e){return!this.cancerStudyIdsSet.result[e]}},{key:"isDeletedVirtualStudy",value:function(e){return!!(this.isVirtualStudy(e)&&this.deletedVirtualStudies.indexOf(e)>-1)}},{key:"isSingleStudySelected",value:function(e){if(1!==this.selectableSelectedStudyIds.length)return!1;var t=this.selectableSelectedStudyIds[0];return this.isVirtualStudy(t)===e}},{key:"calculateDataTypePriorityCode",value:function(e){var t=e.mutation,n=e.cna;return t&&n?"0":t?"1":n?"2":"0"}},{key:"getFilteredProfiles",value:function(e){var t=this;return this.molecularProfiles.result.filter(function(n){return n.molecularAlterationType==e&&(n.showProfileInAnalysisTab||t.forDownloadTab)})}},{key:"isProfileSelected",value:function(e){return r.includes(this.selectedProfileIds,e)}},{key:"getSelectedProfileIdFromMolecularAlterationType",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=(t||this.selectedProfileIds)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=this.dict_molecularProfileId_molecularProfile[u];if(l&&l.molecularAlterationType===e)return l.molecularProfileId}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return""}},{key:"sanitizeQueryParams",value:function(e){return e?decodeURIComponent(e).replace(/\+/g,"\n"):""}},{key:"setParamsFromUrl",value:function(e){var t;"string"==typeof e?t=T.a.parse(e,!0).query:t=e;var n=[t.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,t.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,t.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,t.genetic_profile_ids_PROFILE_METHYLATION,t.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,t.genetic_profile_ids_PROFILE_GENESET_SCORE,t.genetic_profile_ids_PROFILE_GENERIC_ASSAY],o=t.cancer_study_list?t.cancer_study_list.split(","):t.cancer_study_id?[t.cancer_study_id]:[];this.selectableSelectedStudyIds=o,this._defaultSelectedIds=i.observable.map(Object(d.Y)(o)),this._selectedProfileIds=n.every(function(e){return void 0===e})?void 0:n.filter(r.identity),this.zScoreThreshold=t.Z_SCORE_THRESHOLD||"2.0",this.rppaScoreThreshold=t.RPPA_SCORE_THRESHOLD||"2.0",this.dataTypePriorityCode=t.data_priority||t.profileFilter||"0",this.selectedSampleListId=t.case_set_id?t.case_set_id.toString():"",this.caseIds=this.sanitizeQueryParams(t.case_ids),this.caseIdsMode="sample",this.geneQuery=ae(decodeURIComponent(t.gene_list||"")),this.genesetQuery=ae(decodeURIComponent(t[X.a.geneset_list]||"")),this.forDownloadTab="tab_download"===t.tab_index,this.initiallySelected.profileIds=!0,this.initiallySelected.sampleListId=!0}},{key:"setParamsFromLocalStorage",value:function(e){var t=e.case_ids;if(t&&e.case_set_id==oe&&(this.selectedSampleListId=oe,this.caseIdsMode="sample",this.caseIds=t.replace(/\+/g,"\n"),this.initiallySelected.sampleListId=!0),e.cancer_study_list){var n=!0,r=!1,o=void 0;try{for(var i,a=e.cancer_study_list.split(",")[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;"null"!==u&&(this.setStudyIdSelected(u,!0),this._defaultSelectedIds.set(u,!0))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}},{key:"selectCancerType",value:function(e,t){var n=e.cancerTypeId;t?r.includes(this.selectedCancerTypeIds,n)?this.selectedCancerTypeIds=r.difference(this.selectedCancerTypeIds,[n]):this.selectedCancerTypeIds=r.union(this.selectedCancerTypeIds,[n]):this.clickAgainToDeselectSingle&&r.isEqual(Object(i.toJS)(this.selectedCancerTypeIds),[n])?this.selectedCancerTypeIds=[]:this.selectedCancerTypeIds=[n]}},{key:"setSearchText",value:function(e){this.clearSelectedCancerType(),this.searchText=e}},{key:"clearSelectedCancerType",value:function(){this.selectedCancerTypeIds=[]}},{key:"selectMolecularProfile",value:function(e,t){var n=this.getFilteredProfiles(e.molecularAlterationType).map(function(e){return e.molecularProfileId});if(this.forDownloadTab)this._selectedProfileIds=[e.molecularProfileId];else{var o=r.difference(this.selectedProfileIds,n);this._selectedProfileIds=t?r.union(o,[e.molecularProfileId]):o}}},{key:"replaceGene",value:function(e,t){this.geneQuery=ae(this.geneQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}))}},{key:"replaceGeneset",value:function(e,t){this.genesetQuery=ae(this.genesetQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}))}},{key:"applyGeneSelection",value:function(e){var t=$(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=t[1];n=r.difference(n,this.geneIds),o=r.intersection(o,this.geneIds);var i=!0,a=!1,u=void 0;try{for(var l,s=o[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;this.replaceGene(c,"")}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}this.geneQuery=ae([this.geneQuery].concat(J(n)).join(" "))}},{key:"addToGenesetSelection",value:function(e){var t=$(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=(t[1],r.union(n,this.genesetIds).join(" "));this.genesetQuery=ae(o)}},{key:"applyGenesetSelection",value:function(e){var t=$(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=t[1],i=this.genesetQuery;if(n.length>0){var a=[],u=!0,l=!1,s=void 0;try{for(var c,p=n[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var d=c.value;a.push(d)}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}i=a.join(" ")}if(o.length>0){var f=i.split(" "),h=!0,m=!1,y=void 0;try{for(var v,g=o[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value,S=!0,T=!1,C=void 0;try{for(var P,A=f[Symbol.iterator]();!(S=(P=A.next()).done);S=!0){var I=P.value;if(b===I){var E=f.indexOf(I);E>=0&&f.splice(E,1)}}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}i=f.join(" ")}i=ae(i),this.genesetQuery=i}},{key:"submit",value:function(){if(this.oql.error)return this.geneQueryErrorDisplayStatus=ue.ShouldFocus,this.genesetQueryErrorDisplayStatus=ue.ShouldFocus,!1;if(!this.submitEnabled||!this.asyncUrlParams.isComplete)return!1;var e=this.asyncUrlParams.result;return this.forDownloadTab?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post",o=document.createElement("form"),i=r;"smart"===r&&(i=Object(C.b)(e,t).length>1800?"post":"get"),o.setAttribute("method",i),o.setAttribute("action",e),n&&o.setAttribute("target",n);for(var a=0,u=Object.keys(t);a<u.length;a++){var l=u[a],s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name",l),s.setAttribute("value",t[l]),o.appendChild(s)}document.body.appendChild(o),o.submit()}(Object(C.b)("data_download"),e.query,void 0,"smart"):this.singlePageAppSubmitRoutine(e.query),!0}},{key:"openSummary",value:function(){this.summaryEnabled&&Object(C.E)(this.selectableSelectedStudyIds)}},{key:"virtualStudiesMap",get:function(){return r.keyBy(this.userVirtualStudies.result,function(e){return e.id})}},{key:"selectedVirtualStudies",get:function(){var e=this;return r.reduce(this.selectableSelectedStudies,function(t,n){return e.isVirtualStudy(n.studyId)&&void 0!==e.virtualStudiesMap&&e.virtualStudiesMap[n.studyId]&&t.push(e.virtualStudiesMap[n.studyId]),t},[])}},{key:"physicalStudyIdsInSelection",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.selectableSelectedStudyIds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=this.virtualStudiesMap[a];u?u.data.studies.forEach(function(t){return e[t.id]=!0}):e[a]=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Object.keys(e)}},{key:"stateToSerialize",get:function(){return r.pick(this,le)}},{key:"onlyOneReferenceGenome",get:function(){return 1===r.uniq(this.selectableSelectedStudies.map(function(e){return e.referenceGenome})).length}},{key:"allSelectedStudyIds",get:function(){return this._allSelectedStudyIds.keys()}},{key:"selectableSelectedStudyIds",get:function(){var e=this._allSelectedStudyIds.keys(),t=this.selectableStudiesSet.result;return e=e.reduce(function(e,n){return t[n]?e.concat(t[n]):e},[]),e=r.uniq(e),this.forDownloadTab?e.slice(-1):e},set:function(e){this._allSelectedStudyIds=i.observable.map(Object(d.Y)(e))}},{key:"defaultSelectedIds",get:function(){return this._defaultSelectedIds}},{key:"selectedProfileIds",get:function(){var e,t=this;if(void 0!==this._selectedProfileIds)e=this._selectedProfileIds;else{e=[];for(var n=0,r=["MUTATION_EXTENDED","COPY_NUMBER_ALTERATION"];n<r.length;n++){var o=r[n],i=this.getFilteredProfiles(o);i.length&&e.push(i[0].molecularProfileId)}}return this.forDownloadTab?e.slice(0,1):e.filter(function(e){var n=t.dict_molecularProfileId_molecularProfile[e];return n&&n.showProfileInAnalysisTab})},set:function(e){this._selectedProfileIds=e}},{key:"selectedSampleListId",get:function(){return void 0!==this._selectedSampleListId?this._selectedSampleListId:this.defaultSelectedSampleListId},set:function(e){this._selectedSampleListId=e}},{key:"caseIdsMode",get:function(){return this.selectedSampleListId===oe?this._caseIdsMode:"sample"},set:function(e){this._caseIdsMode=e}},{key:"geneQuery",get:function(){return this._geneQuery},set:function(e){this.geneQueryErrorDisplayStatus=ue.Unfocused,this._geneQuery=e}},{key:"genesetQuery",get:function(){return this.rawGenesetQuery.toUpperCase()},set:function(e){this.genesetQueryErrorDisplayStatus=ue.Unfocused,this.rawGenesetQuery=e}},{key:"maxTreeDepth",get:function(){return this.forDownloadTab&&this._maxTreeDepth>0?1:this._maxTreeDepth},set:function(e){this._maxTreeDepth=e}},{key:"userLoggedIn",get:function(){return Object(d.B)().globalStores.appStore.isLoggedIn}},{key:"treeData",get:function(){return new p({cancerTypes:this.cancerTypes.result,studies:this.cancerStudies.result,priorityStudies:this.priorityStudies,virtualStudies:this.forDownloadTab?[]:this.userVirtualStudies.result,maxTreeDepth:this.maxTreeDepth})}},{key:"selectedCancerTypes",get:function(){var e=this;return this.selectedCancerTypeIds.map(function(t){return e.treeData.map_cancerTypeId_cancerType.get(t)}).filter(r.identity)}},{key:"selectableSelectedStudies",get:function(){var e=this;return this.selectableSelectedStudyIds.map(function(t){return e.treeData.map_studyId_cancerStudy.get(t)}).filter(r.identity)}},{key:"isSingleVirtualStudySelected",get:function(){return this.isSingleStudySelected(!0)}},{key:"isSingleNonVirtualStudySelected",get:function(){return this.isSingleStudySelected(!1)}},{key:"isMultipleNonVirtualStudiesSelected",get:function(){var e=this;return this.selectableSelectedStudyIds.filter(function(t){return!e.isVirtualStudy(t)}).length>1}},{key:"getOverlappingStudiesMap",get:function(){var e,t,n=(e=this.selectableSelectedStudies,t=r.reduce(e,function(e,t){if(/_tcga/.test(t.studyId)){var n=t.studyId.replace(/(_\d\d\d\d|_pub|(_pub\d\d\d\d)|_pan_can_atlas_\d\d\d\d)$/g,"");n&&(n in e?e[n].push(t):e[n]=[t])}return e},{}),r.filter(t,function(e){return e.length>1}));return r.chain(n).flatten().keyBy(function(e){return e.studyId}).value()}},{key:"isVirtualStudySelected",get:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=this.selectableSelectedStudyIds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(this.virtualStudiesMap[a]){e=!0;break}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"isVirtualStudyQuery",get:function(){return 0!==this.selectableSelectedStudyIds.length&&(this.selectableSelectedStudyIds.length>1||this.isSingleVirtualStudySelected)}},{key:"dataTypePriorityCode",set:function(e){switch(e){default:case"0":this.dataTypePriority={mutation:!0,cna:!0};break;case"1":this.dataTypePriority={mutation:!0,cna:!1};break;case"2":this.dataTypePriority={mutation:!1,cna:!0}}},get:function(){return this.calculateDataTypePriorityCode(this.dataTypePriority)}},{key:"dict_molecularProfileId_molecularProfile",get:function(){return r.keyBy(this.molecularProfiles.result,function(e){return e.molecularProfileId})}},{key:"isGenesetProfileSelected",get:function(){var e=!1;if(this.getFilteredProfiles("GENESET_SCORE")[0])for(var t in this.selectedProfileIds)this.selectedProfileIds[t]===this.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId&&(e=!0);return e}},{key:"defaultProfilesForOql",get:function(){if(this.molecularProfilesInSelectedStudies.isComplete)return Object(F.R)(this.molecularProfilesInSelectedStudies.result)}},{key:"defaultMutationProfile",get:function(){return this.defaultProfilesForOql&&this.defaultProfilesForOql[E.a.MUTATION_EXTENDED]}},{key:"defaultCnaProfile",get:function(){return this.defaultProfilesForOql&&this.defaultProfilesForOql[E.a.COPY_NUMBER_ALTERATION]}},{key:"defaultMrnaProfile",get:function(){return this.defaultProfilesForOql&&this.defaultProfilesForOql[E.a.MRNA_EXPRESSION]}},{key:"defaultProtProfile",get:function(){return this.defaultProfilesForOql&&this.defaultProfilesForOql[E.a.PROTEIN_LEVEL]}},{key:"defaultSelectedSampleListId",get:function(){if(this.isVirtualStudyQuery)return"all";if(1===this.selectableSelectedStudyIds.length){var e=this.selectableSelectedStudyIds[0],t=this.getSelectedProfileIdFromMolecularAlterationType("MUTATION_EXTENDED"),n=this.getSelectedProfileIdFromMolecularAlterationType("COPY_NUMBER_ALTERATION"),r=this.getSelectedProfileIdFromMolecularAlterationType("MRNA_EXPRESSION"),o=this.getSelectedProfileIdFromMolecularAlterationType("PROTEIN_LEVEL"),i=e+"_all";return t&&n&&!r&&!o?i=e+"_cnaseq":!t||n||r||o?t||!n||r||o?t||n||!r||o?(t||n)&&r&&!o?i=e+"_3way_complete":t||n||r||!o||(i=e+"_rppa"):this.isProfileSelected(e+"_mrna_median_Zscores")?i=e+"_mrna":this.isProfileSelected(e+"_rna_seq_mrna_median_Zscores")?i=e+"_rna_seq_mrna":this.isProfileSelected(e+"_rna_seq_v2_mrna_median_Zscores")&&(i=e+"_rna_seq_v2_mrna"):i=e+"_cna":i=e+"_sequenced",this.dict_sampleListId_sampleList[i]||(i===e+"_cnaseq"?i=e+"_cna_seq":i===e+"_3way_complete"&&(i=e+"_complete")),this.dict_sampleListId_sampleList[i]||(i=e+"_all"),i}}},{key:"dict_sampleListId_sampleList",get:function(){return r.keyBy(this.sampleLists.result,function(e){return e.sampleListId})}},{key:"oql",get:function(){try{return{query:this.geneQuery?Object(m.g)(this.geneQuery.trim().toUpperCase()):[],error:void 0}}catch(o){if("SyntaxError"!==o.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(o)}};var e,t,n,r=o.location.start.offset;return r===this.geneQuery.length?(e="after",t=r-1,n=r):0===r?(e="before",t=r,n=r+1):(e="at",t=r,n=r+1),{query:[],error:{start:t,end:n,message:"OQL syntax error ".concat(e," selected character; please fix and submit again.")}}}}},{key:"geneIds",get:function(){try{return this.oql.query.map(function(e){return e.gene})}catch(e){return[]}}},{key:"genesetIdsQuery",get:function(){try{return{query:this.genesetQuery?this.genesetQuery.split(/[ \n]+/):[],error:void 0}}catch(o){if("SyntaxError"!==o.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(o)}};var e,t,n,r=o.location.start.offset;return r===this.geneQuery.length?(e="after",t=r-1,n=r):0===r?(e="before",t=r,n=r+1):(e="at",t=r,n=r+1),{query:[],error:{start:t,end:n,message:"OQL syntax error ".concat(e," selected character; please fix and submit again.")}}}}},{key:"genesetIds",get:function(){return this.genesetIdsQuery.query}},{key:"minYVolcanoPlot",get:function(){return this.volcanoPlotTableData.result&&(e=this.volcanoPlotTableData.result).length>0?r.minBy(e,function(e){return e.representativePvalue}).representativePvalue:void 0;var e}},{key:"volcanoPlotGraphData",get:function(){return this.volcanoPlotTableData.result?(e=this.volcanoPlotTableData.result,t=this.map_genesets_selected_volcano,e.length>0?e.map(function(e){var n=e.representativeScore,r=e.representativePvalue,o=e.name;return{x:n,y:-Math.log(r)/Math.log(10),fill:t.get(o)?"tomato":"3786C2"}}):void 0):void 0;var e,t}},{key:"submitEnabled",get:function(){return!this.submitError&&(this.genes.isComplete||this.genesets.isComplete)&&this.asyncUrlParams.isComplete||!!this.oql.error||!!this.genesetIdsQuery.error}},{key:"summaryEnabled",get:function(){return this.selectableSelectedStudyIds.length>0}},{key:"hasSelectedStudies",get:function(){return this.selectableSelectedStudyIds.length>0}},{key:"oqlMessages",get:function(){return Object(F.U)(this.oql.query)}},{key:"approxSampleCount",get:function(){var e=this.selectedSampleListId;if(!e)return this.profiledSamplesCount.result.all;if(e===oe)return this.caseIds?Math.max(this.caseIds.trim().split(/\s+/g).length,1):1;var t=this.sampleLists.result.find(function(t){return t.sampleListId===e});return t?t.sampleCount:e in this.profiledSamplesCount.result?this.profiledSamplesCount.result[e]:this.profiledSamplesCount.result.all}},{key:"isQueryLimitReached",get:function(){return this.oql.query.length*this.approxSampleCount>g.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(g.b.serverConfig.query_product_limit/this.approxSampleCount)}},{key:"isMixedReferenceGenome",get:function(){var e=this;if(this.physicalStudyIdsInSelection&&this.physicalStudiesSet.result){var t=r.map(this.physicalStudyIdsInSelection,function(t){return e.physicalStudiesSet.result[t]});return Object(Z.c)(t)}}},{key:"alterationTypesInOQL",get:function(){return Object(F.P)(this.oql.query)}},{key:"submitError",get:function(){if(!this.selectableSelectedStudyIds.length)return"Please select one or more cancer studies.";if(this.isSingleNonVirtualStudySelected){if(!this.selectedProfileIds.length)return"Please select one or more molecular profiles.";if(this.alterationTypesInOQL.haveMutInQuery&&!this.defaultMutationProfile)return"Mutation data query specified in OQL, but no mutation profile is available for the selected study.";if(this.alterationTypesInOQL.haveCnaInQuery&&!this.defaultCnaProfile)return"CNA data query specified in OQL, but no CNA profile is available in the selected study.";if(this.alterationTypesInOQL.haveMrnaInQuery&&!this.defaultMrnaProfile)return"mRNA expression data query specified in OQL, but no mRNA profile is available in the selected study.";if(this.alterationTypesInOQL.haveProtInQuery&&!this.defaultProtProfile)return"Protein level data query specified in OQL, but no protein level profile is available in the selected study."}else if(!this.dataTypePriority.mutation&&!this.dataTypePriority.cna)return"Please select one or more molecular profiles.";if(this.selectableSelectedStudyIds.length&&this.selectedSampleListId===oe){if(this.asyncCustomCaseSet.isComplete&&!this.asyncCustomCaseSet.result.length)return"Please enter at least one ID in your custom case set.";if(this.asyncCustomCaseSet.error)return"Error in custom case set."}else{if(this.alterationTypesInOQL.haveMrnaInQuery&&this.selectableSelectedStudyIds.length>1)return"Expression filtering in the gene list (the EXP command) is not supported when doing cross cancer queries.";if(this.alterationTypesInOQL.haveProtInQuery&&this.selectableSelectedStudyIds.length>1)return"Protein level filtering in the gene list (the PROT command) is not supported when doing cross cancer queries."}if(0!==this.selectedProfileIds.length){if(1===this.selectedProfileIds.length){if(this.isGenesetProfileSelected){if(!this.genesetQuery.length&&!this.oql.query.length)return"Please enter one or more gene symbols and gene sets.";if(!this.genesetQuery.length)return"Please enter one or more gene sets or deselect gene set profiles.";if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(this.isGenesetProfileSelected){if(!this.genesetQuery.length&&!this.oql.query.length)return"Please enter one or more gene symbols and gene sets.";if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols.";if(this.isQueryLimitReached)return"Please limit your queries to ".concat(this.geneLimit," genes or fewer.");if(this.genes.result.suggestions.length)return"Please edit the gene symbols.";var e=r.groupBy(this.genes.result.found,function(e){return e.hugoGeneSymbol});return r.some(e,function(e){return e.length>1})?"Please edit the gene symbols.":void 0}},{key:"downloadDataFilename",get:function(){var e=1===this.selectableSelectedStudyIds.length&&this.treeData.map_studyId_cancerStudy.get(this.selectableSelectedStudyIds[0]),t=this.dict_molecularProfileId_molecularProfile[this.selectedProfileIds[0]];if(!this.forDownloadTab||!e||!t)return"cbioportal-data.txt";var n=this.dict_molecularAlterationType_filenameSuffix[t.molecularAlterationType]||t.molecularAlterationType.toLowerCase();return"cbioportal-".concat(e.studyId,"-").concat(n,".txt")}},{key:"molecularProfilesInStudyCache",get:function(){return new B}},{key:"sampleListsInStudyCache",get:function(){return new Y}}])&&ee(t.prototype,n),a&&ee(t,a),e}();ne([i.observable],se.prototype,"studiesHaveChangedSinceInitialization",void 0),ne([i.observable],se.prototype,"deletedVirtualStudies",void 0),ne([i.computed],se.prototype,"virtualStudiesMap",null),ne([i.computed],se.prototype,"selectedVirtualStudies",null),ne([i.computed],se.prototype,"physicalStudyIdsInSelection",null),ne([i.computed],se.prototype,"stateToSerialize",null),ne([i.computed],se.prototype,"onlyOneReferenceGenome",null),ne([i.observable],se.prototype,"forDownloadTab",void 0),ne([i.observable],se.prototype,"transposeDataMatrix",void 0),ne([i.observable],se.prototype,"searchText",void 0),ne([i.observable],se.prototype,"_allSelectedStudyIds",void 0),ne([i.computed],se.prototype,"allSelectedStudyIds",null),ne([i.computed],se.prototype,"selectableSelectedStudyIds",null),ne([i.action],se.prototype,"setStudyIdSelected",null),ne([i.computed],se.prototype,"defaultSelectedIds",null),ne([i.observable],se.prototype,"dataTypePriority",void 0),ne([i.observable.ref],se.prototype,"_selectedProfileIds",void 0),ne([i.computed],se.prototype,"selectedProfileIds",null),ne([i.observable],se.prototype,"zScoreThreshold",void 0),ne([i.observable],se.prototype,"rppaScoreThreshold",void 0),ne([i.observable],se.prototype,"_selectedSampleListId",void 0),ne([i.computed],se.prototype,"selectedSampleListId",null),ne([i.observable],se.prototype,"caseIds",void 0),ne([i.observable],se.prototype,"_defaultStudySampleMap",void 0),ne([i.observable],se.prototype,"_caseIdsMode",void 0),ne([i.computed],se.prototype,"caseIdsMode",null),ne([i.observable],se.prototype,"_geneQuery",void 0),ne([i.observable],se.prototype,"rawGenesetQuery",void 0),ne([i.observable],se.prototype,"geneQueryErrorDisplayStatus",void 0),ne([i.observable],se.prototype,"genesetQueryErrorDisplayStatus",void 0),ne([i.observable],se.prototype,"showMutSigPopup",void 0),ne([i.observable],se.prototype,"showGisticPopup",void 0),ne([i.observable],se.prototype,"showGenesetsHierarchyPopup",void 0),ne([i.observable],se.prototype,"showGenesetsVolcanoPopup",void 0),ne([i.observable],se.prototype,"priorityStudies",void 0),ne([i.observable],se.prototype,"showSelectedStudiesOnly",void 0),ne([i.observable.shallow],se.prototype,"selectedCancerTypeIds",void 0),ne([i.observable],se.prototype,"clickAgainToDeselectSingle",void 0),ne([i.observable],se.prototype,"searchExampleMessage",void 0),ne([i.observable],se.prototype,"volcanoPlotSelectedPercentile",void 0),ne([i.observable],se.prototype,"_maxTreeDepth",void 0),ne([i.computed],se.prototype,"maxTreeDepth",null),ne([i.computed],se.prototype,"userLoggedIn",null),ne([i.action],se.prototype,"setCaseIds",null),ne([v.a],se.prototype,"getGeneSuggestions",null),ne([v.a],se.prototype,"getSamplesForStudyAndPatient",null),ne([f.cached],se.prototype,"treeData",null),ne([i.computed],se.prototype,"selectedCancerTypes",null),ne([i.computed],se.prototype,"selectableSelectedStudies",null),ne([i.computed],se.prototype,"isSingleVirtualStudySelected",null),ne([i.computed],se.prototype,"isSingleNonVirtualStudySelected",null),ne([i.computed],se.prototype,"isMultipleNonVirtualStudiesSelected",null),ne([i.computed],se.prototype,"getOverlappingStudiesMap",null),ne([i.computed],se.prototype,"isVirtualStudySelected",null),ne([i.computed],se.prototype,"isVirtualStudyQuery",null),ne([i.computed],se.prototype,"dataTypePriorityCode",null),ne([i.computed],se.prototype,"dict_molecularProfileId_molecularProfile",null),ne([i.computed],se.prototype,"defaultProfilesForOql",null),ne([i.computed],se.prototype,"defaultMutationProfile",null),ne([i.computed],se.prototype,"defaultCnaProfile",null),ne([i.computed],se.prototype,"defaultMrnaProfile",null),ne([i.computed],se.prototype,"defaultProtProfile",null),ne([i.computed],se.prototype,"defaultSelectedSampleListId",null),ne([i.computed],se.prototype,"dict_sampleListId_sampleList",null),ne([i.computed],se.prototype,"oql",null),ne([i.computed],se.prototype,"geneIds",null),ne([i.computed],se.prototype,"genesetIdsQuery",null),ne([i.computed],se.prototype,"genesetIds",null),ne([i.computed],se.prototype,"minYVolcanoPlot",null),ne([i.observable],se.prototype,"map_genesets_selected_volcano",void 0),ne([i.computed],se.prototype,"volcanoPlotGraphData",null),ne([i.computed],se.prototype,"submitEnabled",null),ne([i.computed],se.prototype,"summaryEnabled",null),ne([i.computed],se.prototype,"hasSelectedStudies",null),ne([i.computed],se.prototype,"oqlMessages",null),ne([i.computed],se.prototype,"approxSampleCount",null),ne([i.computed],se.prototype,"isQueryLimitReached",null),ne([i.computed],se.prototype,"geneLimit",null),ne([i.computed],se.prototype,"isMixedReferenceGenome",null),ne([i.computed],se.prototype,"alterationTypesInOQL",null),ne([i.computed],se.prototype,"submitError",null),ne([i.computed],se.prototype,"downloadDataFilename",null),ne([i.action],se.prototype,"setParamsFromUrl",null),ne([i.action],se.prototype,"setParamsFromLocalStorage",null),ne([i.action],se.prototype,"selectCancerType",null),ne([i.action],se.prototype,"setSearchText",null),ne([i.action],se.prototype,"clearSelectedCancerType",null),ne([i.action],se.prototype,"selectMolecularProfile",null),ne([i.action],se.prototype,"replaceGene",null),ne([i.action],se.prototype,"replaceGeneset",null),ne([i.action],se.prototype,"applyGeneSelection",null),ne([i.action],se.prototype,"addToGenesetSelection",null),ne([i.action],se.prototype,"applyGenesetSelection",null),ne([i.action],se.prototype,"submit",null),ne([i.action],se.prototype,"openSummary",null),ne([f.cached],se.prototype,"molecularProfilesInStudyCache",null),ne([f.cached],se.prototype,"sampleListsInStudyCache",null);var ce=Object(b.a)(se)},595:function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return y});var r=n(2),o=n(575),i=n(603);function a(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0},n=arguments.length>2?arguments[2]:void 0,r=void 0===n||n;return Object(o.c)(e,t,r)}function h(e,t,n){var r=t.toUpperCase(),o=t.toLowerCase();return e.filter(function(e){return n(e,t,r,o)})}var m=function(){function e(t){s(this,e),this.getData=t,this.filterString="",this.dataHighlighter=function(){return!1},this.dataSelector=function(){return!1},this.dataFilter=function(){return!0}}var t,n,r;return t=e,(n=[{key:"setFilter",value:function(e){this.dataFilter=e}},{key:"getFilter",value:function(){return this.dataFilter}},{key:"resetFilter",value:function(){this.dataFilter=function(){return!0},this.filterString=""}},{key:"isHighlighted",value:function(e){return this.dataHighlighter(e)}},{key:"allData",get:function(){return this.getData()}},{key:"sortedData",get:function(){return f(this.allData,this.sortMetric,this.sortAscending)}},{key:"sortedFilteredData",get:function(){return h(this.sortedData,this.filterString,this.dataFilter)}},{key:"sortedFilteredSelectedData",get:function(){return this.sortedFilteredData.filter(this.dataSelector)}},{key:"tableData",get:function(){return e=this.sortedFilteredData,(t=this.sortedFilteredSelectedData).length?t:e;var e,t}},{key:"visibleData",get:function(){return e=this.tableData,t=this.itemsPerPage,n=this.page,t===i.b?e:e.slice(n*t,(n+1)*t);var e,t,n}},{key:"showingAllData",get:function(){return this.tableData.length===this.allData.length}}])&&c(t.prototype,n),r&&c(t,r),e}();d([r.observable],m.prototype,"dataFilter",void 0),d([r.observable],m.prototype,"dataSelector",void 0),d([r.observable],m.prototype,"dataHighlighter",void 0),d([r.observable],m.prototype,"filterString",void 0),d([r.observable],m.prototype,"sortMetric",void 0),d([r.observable],m.prototype,"sortAscending",void 0),d([r.observable],m.prototype,"page",void 0),d([r.observable],m.prototype,"itemsPerPage",void 0),d([r.computed],m.prototype,"allData",null),d([r.computed],m.prototype,"sortedData",null),d([r.computed],m.prototype,"sortedFilteredData",null),d([r.computed],m.prototype,"sortedFilteredSelectedData",null),d([r.computed],m.prototype,"tableData",null),d([r.computed],m.prototype,"visibleData",null),d([r.computed],m.prototype,"showingAllData",null),d([r.action],m.prototype,"setFilter",null),d([r.action],m.prototype,"resetFilter",null);var y=function(e){function t(e){return s(this,t),a(this,u(t).call(this,function(){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,m),t}()},596:function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"i",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"h",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return y});var r=n(0),o=n(652),i=n(4),a=n.n(i),u=n(577);function l(e,t){return t.find(function(t){return a.a.isEqual(t,e)})}function s(e,t){var n=t.filter(function(t){return!a.a.isEqual(t,e)});return n.length===t.length?t.concat([e]):n}function c(e,t){for(var n=[],r=0;r<t;r++)e.includes(r)||n.push(r);return n}function p(e){return r.createElement("span",null,e.ordinal.length>0&&r.createElement(r.Fragment,null,"(",r.createElement("strong",null,e.ordinal),") "),e.name)}function d(e,t){var n=e.map(p);switch(n.length){case 0:return r.createElement("span",null);case 1:return n[0];case 2:return r.createElement("span",null,n[0]," ",t," ",n[1]);default:var o=n.slice(0,n.length-1);return r.createElement("span",null,o.map(function(e){return[e,", "]}),t," ",n[n.length-1])}}function f(e){return 1==e.length?e[0]:a.a.reduce(e.slice(2),function(e,t){return o.interpolateLab(e,t)(.5)},o.interpolateLab(e[0],e[1])(.5))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=1,r=o.rgb(e);return.299*r.r+.587*r.g+.114*r.b>186&&(n=0),t&&(n+=1),["black","white"][n%2]}function m(e,t,n){var r=a.a.keyBy(e,function(e){return e.uid}),o=[],i=!0,l=!1,s=void 0;try{for(var c,p=t[Symbol.iterator]();!(i=(c=p.next()).done);i=!0){for(var d=c.value,f=r[d[0]].studies,h=1;h<d.length;h++)f=Object(u.A)(f,r[d[h]].studies);var m=!0,y=!1,v=void 0;try{for(var g,b=n[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var S=g.value;d.includes(S)||(f=Object(u.n)(f,r[S].studies))}}catch(e){y=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw v}}o=Object(u.F)(o,f)}}catch(e){l=!0,s=e}finally{try{i||null==p.return||p.return()}finally{if(l)throw s}}return o}function y(e,t,n,r){var o=a.a.keyBy(e,function(e){return e.uid}),i=[],l=!0,s=!1,c=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){for(var f=p.value,h=o[f[0]].studies,m=1;m<f.length;m++)h=Object(u.z)(h,o[f[m]].studies);var y=!0,v=!1,g=void 0;try{for(var b,S=n[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var T=b.value;f.includes(T)||(h=Object(u.m)(h,o[T].studies))}}catch(e){v=!0,g=e}finally{try{y||null==S.return||S.return()}finally{if(v)throw g}}i=Object(u.E)(i,h)}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}return Object(u.k)(i,r)}},597:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return i});var o="undefined";function i(e,t){return r(e)===o?t:e}},598:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});var r=n(4),o=n(570),i=n(573);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u={"-2":"homdel","-1":"hetloss",0:null,1:"gain",2:"amp"};function l(e){var t;switch(e="string"==typeof e?e.toLowerCase():""){case"missense_mutation":case"missense":case"missense_variant":t="missense";break;case"frame_shift_ins":case"frame_shift_del":case"frameshift":case"frameshift_deletion":case"frameshift_insertion":case"de_novo_start_outofframe":case"frameshift_variant":t="frameshift";break;case"nonsense_mutation":case"nonsense":case"stopgain_snv":t="nonsense";break;case"splice_site":case"splice":case"splice site":case"splicing":case"splice_site_snp":case"splice_site_del":case"splice_site_indel":case"splice_region":t="splice";break;case"translation_start_site":case"start_codon_snp":case"start_codon_del":t="nonstart";break;case"nonstop_mutation":t="nonstop";break;case"fusion":t="fusion";break;case"in_frame_del":case"in_frame_ins":case"in_frame_deletion":case"in_frame_insertion":case"indel":case"nonframeshift_deletion":case"nonframeshift":case"nonframeshift insertion":case"nonframeshift_insertion":t="inframe";break;default:t="other"}return t}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.molecularProfileIdToMolecularProfile=r.keyBy(t,function(e){return e.molecularProfileId})}var t,n,s;return t=e,(n=[{key:"isMutation",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED}},{key:"gene",value:function(e){return e.gene.hugoGeneSymbol}},{key:"molecularAlterationType",value:function(e){var t=this.molecularProfileIdToMolecularProfile[e];return t&&t.molecularAlterationType}},{key:"cna",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.COPY_NUMBER_ALTERATION?u[e.value]:null}},{key:"mut_type",value:function(e){return this.isMutation(e)?e.mutationType&&"fusion"===e.mutationType.toLowerCase()?null:e.proteinChange&&"promoter"===e.proteinChange.toLowerCase()?"promoter":l(e.mutationType):null}},{key:"mut_status",value:function(e){return this.isMutation(e)?Object(i.n)(e)?"somatic":"germline":null}},{key:"mut_position",value:function(e){if(this.isMutation(e)){var t=e.proteinPosStart,n=e.proteinPosEnd;return!isNaN(t)&&!isNaN(n)&&-1!==t&&-1!==n&&t<=n?[t,n]:null}return null}},{key:"mut_amino_acid_change",value:function(e){return this.isMutation(e)?e.proteinChange:null}},{key:"exp",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MRNA_EXPRESSION?e.value:null}},{key:"prot",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.PROTEIN_LEVEL?e.value:null}},{key:"fusion",value:function(e){return this.isMutation(e)&&"fusion"===l(e.mutationType)||null}},{key:"is_driver",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED?!!e.putativeDriver:this.molecularAlterationType(e.molecularProfileId)===o.a.COPY_NUMBER_ALTERATION?!!e.oncoKbOncogenic:null}}])&&a(t.prototype,n),s&&a(t,s),e}()},599:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__39rg3",framedImage:"styles-module__framedImage__3ikaJ",Container:"styles-module__Container__2Drra",ChartsPanel:"styles-module__ChartsPanel__1kFpX",Checkboxes:"styles-module__Checkboxes__3JkxF",TableContainer:"styles-module__TableContainer__3OVxd",Checkbox:"styles-module__Checkbox__w95Pc",GeneName:"styles-module__GeneName__1qAkS",DataSet:"styles-module__DataSet__7fRDD",ScatterTooltip:"styles-module__ScatterTooltip__3EYSa",BarTooltip:"styles-module__BarTooltip__1hGLv",BoxTooltip:"styles-module__BoxTooltip__2FA6X",Tendency:"styles-module__Tendency__rxjNz",Significant:"styles-module__Significant__1CIHn",ColoredBackground:"styles-module__ColoredBackground__hGi2k",FlexCheckbox:"styles-module__FlexCheckbox__3iqpB",ChartLoader:"styles-module__ChartLoader__IBVBT",BoxEmpty:"styles-module__BoxEmpty__2g857",BoxPlot:"styles-module__BoxPlot__3hhKs"}},600:function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return E}),n.d(t,"e",function(){return O}),n.d(t,"l",function(){return _}),n.d(t,"f",function(){return w}),n.d(t,"k",function(){return k}),n.d(t,"m",function(){return M}),n.d(t,"h",function(){return G}),n.d(t,"q",function(){return N}),n.d(t,"o",function(){return x}),n.d(t,"p",function(){return R}),n.d(t,"r",function(){return D}),n.d(t,"d",function(){return j}),n.d(t,"j",function(){return L}),n.d(t,"i",function(){return B}),n.d(t,"n",function(){return F});var r=n(0),o=n(580),i=n(4),a=n(570),u=n(622),l=n(684),s=n(599),c=n.n(s),p=n(9),d=n.n(p),f=n(596),h=n(614),m=n(685),y=n(642);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,b,S={2:"AMP","-2":"HOMDEL"};function T(e){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(h.a,{text:e,maxLength:20,addTooltip:"never"}))}function C(e,t){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},e," in ",r.createElement(h.a,{text:t,maxLength:20,addTooltip:"never"}))}function P(e){return r.createElement(h.a,{text:e,maxLength:20})}function A(e,t){var n=t.groupsSet[e];return n.alteredCount+" ("+n.alteredPercentage.toFixed(2)+"%)"}function I(e){return 0===e||Math.log10(e)<-10?10:-Math.log10(e)}function E(e,t){return e.filter(function(e){return void 0!==e.pValue&&void 0!==e.qValue&&!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:Object(o.d)(Number(e.logRatio),10),y:I(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function O(e,t,n,r){return e.filter(function(e){return void 0!==e.pValue&&void 0!==e.qValue&&!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.groupsSet[n].alteredPercentage,y:e.groupsSet[r].alteredPercentage,hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio}})}function _(e,t){return e.filter(function(e){return!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.logRatio,y:I(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function w(e,t,n){return e.map(function(e){var r=i.map(e.counts,function(e){var t=e.alteredCount>0&&e.profiledCount>0?e.alteredCount/e.profiledCount*100:0;return Object.assign(Object.assign({},e),{alteredPercentage:t})}),o=i.keyBy(r,function(e){return e.name}),a=void 0,u=void 0;if(2===n.length){var l=o[n[0].name],s=o[n[1].name];if(void 0!==e.pValue){u=Math.log2(l.alteredPercentage/s.alteredPercentage);var c=n[0].nameOfEnrichmentDirection||n[0].name,p=n[1].nameOfEnrichmentDirection||n[1].name;a=u>0?c:p}}else void 0!==e.pValue&&(r.sort(function(e,t){return t.alteredPercentage-e.alteredPercentage}),a=r[0].name);return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:a,groupsSet:o,logRatio:u,value:e.value}})}function k(e,t,n){return e.map(function(e){var r="",o=void 0,a=i.keyBy(e.groupsStatistics,function(e){return e.name});if(2===n.length){var u=a[n[0].name],l=a[n[1].name];o=u.meanExpression-l.meanExpression;var s=n[0].nameOfEnrichmentDirection||n[0].name,c=n[1].nameOfEnrichmentDirection||n[1].name;r=o>0?s:c}else r=e.groupsStatistics.sort(function(e,t){return t.meanExpression-e.meanExpression})[0].name;return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:r,groupsSet:a,logRatio:o}})}function M(e,t,n,r){return e.filter(function(e){var o=!1;return t.forEach(function(t){var n=e.groupsSet[t];if(!n)return!1;var r=n.meanExpression||n.alteredPercentage,a=i.reduce(e.groupsSet,function(e,n,o){if(t!==o){var i=n.meanExpression||n.alteredPercentage;e=e&&r>=i}return e},!0);return a?(o=a,!1):void 0}),n&&e.qValue&&(o=o&&e.qValue<.05),r&&(o=o&&r.includes(e.hugoGeneSymbol)),o})}function G(e){var t,n="";return e.forEach(function(e){var r=e.gene.hugoGeneSymbol;r!=t&&(n+=r+": "),"MUTATION_EXTENDED"===e.alterationType?n+="MUT":"PROTEIN_LEVEL"===e.alterationType?n+="RPPA-"+e.alterationSubType.toUpperCase():n+=e.alterationSubType.toUpperCase(),n+="; ",t=r}),n}function N(e){return i.filter(e,function(e){return e.molecularAlterationType===a.a.MUTATION_EXTENDED})}function x(e){return i.filter(e,function(e){return e.molecularAlterationType===a.a.COPY_NUMBER_ALTERATION&&"DISCRETE"===e.datatype})}function R(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.MRNA_EXPRESSION});return Object(u.a)(t)}function D(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.PROTEIN_LEVEL});return Object(u.a)(t)}function j(e,t){var n=[],a=i.keyBy(e,function(e){return e.name}),u={name:t?l.a.TENDENCY:2===e.length?l.a.ENRICHED:l.a.MOST_ENRICHED,render:function(e){var n;if(void 0===e.enrichedGroup||void 0===e.qValue)return r.createElement("span",null,"-");var o=void 0,i=e.qValue<.05;return!t&&i&&(o=a[e.enrichedGroup].color),r.createElement("div",{className:d()(c.a.Tendency,(n={},v(n,c.a.Significant,i),v(n,c.a.ColoredBackground,!!o),n)),style:{backgroundColor:o,color:o&&Object(f.e)(o)}},t?e.enrichedGroup:P(e.enrichedGroup))},filter:function(e,t,n){return(e.enrichedGroup||"").toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup||"-"},download:function(e){return e.enrichedGroup||"-"},tooltip:r.createElement("span",null,"The group with the highest alteration frequency")};if(e.length<2)return[];if(2===e.length){var s=e[0],p=e[1];n.push({name:l.a.LOG_RATIO,render:function(e){return r.createElement("span",null,e.logRatio?Object(o.a)(e.logRatio):"-")},tooltip:r.createElement("span",null,"Log2 based ratio of (pct in ",s.name,"/ pct in"," ",p.name,")"),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(o.a)(e.logRatio)}}),u.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",s.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",p.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(u),e.forEach(function(e){n.push({name:e.name,headerRender:T,render:function(t){return r.createElement("span",null,A(e.name,t))},tooltip:r.createElement("span",null,r.createElement("strong",null,e.name,":")," ",e.description),sortBy:function(t){return function(e,t){return t.groupsSet[e].alteredCount}(e.name,t)},download:function(t){return A(e.name,t)}})}),n}function L(e,t){if(e.length<2)return[];var n=[],a=i.keyBy(e,function(e){return e.name}),u={name:t?m.a.TENDENCY:m.a.EXPRESSED,render:function(e){var n;if(void 0===e.pValue)return r.createElement("span",null,"-");var o=void 0,i=e.qValue<.05;return!t&&i&&(o=a[e.enrichedGroup].color),r.createElement("div",{className:d()(c.a.Tendency,(n={},v(n,c.a.Significant,i),v(n,c.a.ColoredBackground,!!o),n)),style:{backgroundColor:o,color:o&&Object(f.e)(o)}},t?e.enrichedGroup:P(e.enrichedGroup))},filter:function(e,t,n){return e.enrichedGroup.toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup},download:function(e){return e.enrichedGroup},tooltip:r.createElement("span",null,"The group with the highest expression frequency")};if(2===e.length){var l=e[0],s=e[1];n.push({name:m.a.LOG_RATIO,render:function(e){return r.createElement("span",null,Object(o.a)(e.logRatio))},tooltip:r.createElement("span",null,"Log2 of ratio of (unlogged) mean in ",l.name," to (unlogged) mean in ",s.name),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(o.a)(e.logRatio)}}),u.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",l.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",s.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(u),e.forEach(function(e){n.push({name:e.name,headerRender:function(e){return C("μ",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name]?t.groupsSet[e.name].meanExpression.toFixed(2):y.a.NA)},tooltip:r.createElement("span",null,"Mean log2 expression of the listed gene in"," ",e.description),sortBy:function(t){return t.groupsSet[e.name].meanExpression},download:function(t){return t.groupsSet[e.name].meanExpression.toFixed(2)},uniqueName:e.name+m.a.MEAN_SUFFIX}),n.push({name:e.name,headerRender:function(e){return C("σ",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name]?t.groupsSet[e.name].standardDeviation.toFixed(2):"NA")},tooltip:r.createElement("span",null,"Standard deviation of log2 expression of the listed gene in"," ",e.description),sortBy:function(t){return t.groupsSet[e.name].standardDeviation},download:function(t){return t.groupsSet[e.name].standardDeviation.toFixed(2)},uniqueName:e.name+m.a.STANDARD_DEVIATION_SUFFIX})}),n}function B(e,t){var n={};if(i.isEmpty(t))return[];var r=i.reduce(t,function(t,r){var o=e[r];return o&&i.each(o.groupsSet,function(e){var i=e.name;t[i]||(t[i]={});var a=r+(o.qValue&&o.qValue<.05?"*":"");t[i][a]=e.alteredPercentage,n[a]=!0}),t},{}),o={};return i.forEach(n,function(e,t){var n=0;i.forEach(r,function(e){e[t]=e[t]||0,n+=e[t]}),o[t]=n}),i.map(r,function(e,t){return{minorCategory:t,counts:i.map(e,function(e,t){var n=e/o[t]*100;return{majorCategory:t,count:e,percentage:parseFloat(n.toFixed(2))}})}})}function F(e,t){if(i.isEmpty(e))return[{label:g.USER_DEFINED_OPTION,genes:[]}];var n=e;t&&(n=i.map(n,function(e){return Object.assign(Object.assign({},e),{optionName:e.hugoGeneSymbol+": ".concat(S[e.value])})}));var r=i.clone(n).sort(function(e,t){var n=i.reduce(e.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0);return i.reduce(t.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0)-n}),o=i.clone(n).sort(function(e,t){var n=i.sumBy(i.values(e.groupsSet),function(e){return e.alteredPercentage})/i.keys(e.groupsSet).length;return i.sumBy(i.values(t.groupsSet),function(e){return e.alteredPercentage})/i.keys(t.groupsSet).length-n}),a=i.clone(n).sort(function(e,t){return void 0!==e.pValue&&void 0!==t.pValue?0:void 0!==e.pValue?1:void 0!==t.pValue?-1:Number(e.pValue)-Number(t.pValue)});return[{label:g.USER_DEFINED_OPTION,genes:[]},{label:g.HIGHEST_FREQUENCY,genes:i.map(r,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.AVERAGE_FREQUENCY,genes:i.map(o,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.SIGNIFICANT_P_VALUE,genes:i.map(a,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.SYNC_WITH_TABLE,genes:[]}]}!function(e){e.USER_DEFINED_OPTION="User-defined genes",e.HIGHEST_FREQUENCY="Genes with highest frequency in any group",e.AVERAGE_FREQUENCY="Genes with highest average frequency",e.SIGNIFICANT_P_VALUE="Genes with most significant p-value",e.SYNC_WITH_TABLE="Sync with table (up to 100 genes)"}(g||(g={})),function(e){e.MUTATION="MUTATION",e.COPY_NUMBER="COPY_NUMBER"}(b||(b={}))},601:function(e,t,n){"use strict";n.d(t,"q",function(){return l}),n.d(t,"p",function(){return s}),n.d(t,"a",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"n",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"o",function(){return m}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"f",function(){return C}),n.d(t,"c",function(){return I}),n.d(t,"e",function(){return O}),n.d(t,"d",function(){return _}),n.d(t,"m",function(){return w});var r=n(854),o=n(632),i=n.n(o),a=n(4),u={OS:"DECEASED",PFS:"Progressed",DFS:"Recurred/Progressed",DSS:"DECEASED"},l={OS:"Time of Death",PFS:"Time of Death",DFS:"Time of relapse",DSS:"Time of Death"},s={OS:1,DFS:2,PFS:3,DSS:4},c=new Set(["[not applicable]","[not available]","[pending]","[discrepancy]","[completed]","[null]","","na"]),p=999;function d(e){var t=[],n=1;return e.forEach(function(r,o){if(r.status){var i=e.length-o,a=n*((i-1)/i);n=a,t.push(a)}else t.push(n)}),t}function f(e,t){var n=function(e){var t=e.split(":").map(function(e){return e.trim()}),n=void 0,r=void 0;return 2===t.length?(n=t[0],r=t[1]):r=t[0],{status:n,label:r}}(e);return!!n.status&&"1"===n.status}function h(e,t){var n="Event";return e in u?n=u[e]:a.forEach(t,function(e){var t=e.split(":");if(2==t.length&&"1"===t[0])return n=t[1],!1}),a.startCase(a.toLower(n))}function m(e){return c.has(e.trim().toLowerCase())}function y(e,t){for(var n="NA",r=0;r<t.length;r++)if(t[r]<=.5){n=e[r].months.toFixed(2);break}return n}function v(e,t){var n=[];return n.push({x:0,y:100}),e.forEach(function(e,r){n.push({x:e.months,y:100*t[r]})}),n}function g(e,t,n){return e.map(function(e,r){var o={x:e.months,y:100*t[r],patientId:e.patientId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,status:e.status};return n&&(o.group=n),o})}function b(e,t,n){var r,o=g(e,t,n),i=[];return e.forEach(function(e,n){var a=t[n],u=1;r&&a!==r&&(u=0),r=a,i.push(Object.assign(Object.assign({},o[n]),{opacity:u}))}),i}function S(e,t){return e&&t?[e.length,e.filter(function(e){return!0===e.status}).length,y(e,t)]:[0,0,"N/A"]}function T(e,t){for(var n=0,r=0,o=0,a=0,u=0;n<e.length&&r<t.length;){var l=0,s=0,c=e.length-n,p=t.length-r,d=e[n],f=t[r];(d.months<f.months||d.months===f.months)&&(d.status&&(l=1),n+=1),(d.months>f.months||d.months===f.months)&&(f.status&&(s=1),r+=1);var h=l+s,m=c+p;o+=l,a+=c/m*h,u+=h*(m-h)*c*p/(m*m*(m-1))}var y=(o-a)*(o-a)/u;return 1-i.a.chisquare.cdf(y,1)}function C(e,t){var n=t,o=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;n+="\n\n",n+=s.title,n+="\n",n+=Object(r.a)(P(s.scatterData))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}function P(e){var t=[];return e.map(function(n,r){t.push({"Case ID":n.patientId,"Study ID":n.studyId,"Number at Risk":e.length-r,Status:n.status?"deceased":"censored","Survival Rate":n.y/100,"Time (months)":n.x})}),t}function A(e,t){var n=a.maxBy(e,"x"),r=a.minBy(e,"x"),o=a.maxBy(e,"y"),i=a.minBy(e,"y");if(t.xDenominator<=0||t.yDenominator<=0)return e;var u=((n?n.x:0)-(r?r.x:0))/t.xDenominator,l=((o?o.y:0)-(i?i.y:0))/t.yDenominator,s=Math.hypot(u,l),c={x:0,y:0},p={x:0,y:0};return e.filter(function(e,t){var n=a.isUndefined(e.opacity)||e.opacity>0;if(0==t)return p.x=e.x,p.y=e.y,c.x=e.x,c.y=e.y,!0;return(n?Math.hypot(e.x-c.x,e.y-c.y):Math.hypot(e.x-p.x,e.y-p.y))>s&&(p.x=e.x,p.y=e.y,n&&(c.x=e.x,c.y=e.y),!0)})}function I(e,t,n){var r=a.cloneDeep(e);return a.forEach(r,function(e){e.numOfCases>n.threshold&&(t&&(e.scatter=e.scatter.filter(function(e){return E(t,e)}),e.scatterWithOpacity=e.scatterWithOpacity.filter(function(e){return E(t,e)})),e.scatter=A(e.scatter,n),e.scatterWithOpacity=A(e.scatterWithOpacity,n),e.numOfCases=e.scatter.length)}),r}function E(e,t){return t.x<=e.x[1]&&t.x>=e.x[0]&&t.y<=e.y[1]&&t.y>=e.y[0]}function O(e){return e.replace(/status|survival/gi,"")}function _(e){var t=e.replace(/status/gi,"");return/survival/i.test(t)?t:"".concat(t," Survival")}function w(e){return a.chain(e).map(function(e){return e.clinicalAttributeId}).filter(function(e){return/_STATUS$/i.test(e)||/_MONTHS$/i.test(e)}).uniq().value()}},602:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return f});var r=n(0),o=n.n(r),i=n(4),a=n.n(i),u=n(3),l={grch37:{NCBI:"GRCh37",UCSC:"hg19"},grch38:{NCBI:"GRCh38",UCSC:"hg38"}};function s(e){var t=a.a.every(e,function(e){return p(e.referenceGenome)}),n=a.a.every(e,function(e){return d(e.referenceGenome)});return!(t||n)}function c(){return o.a.createElement(u.c,{placement:"right",overlay:o.a.createElement("div",null,"You are combining studies with molecular data based on both GRCh37/hg19 and GRCh38/hg38. This is not fully supported yet. Please double check your findings"),destroyTooltipOnHide:!0},o.a.createElement("i",{className:"banner-icon fa fa-md fa-exclamation-triangle",style:{verticalAlign:"middle !important",marginLeft:6}}))}function p(e){return l.grch37.NCBI.match(new RegExp(e,"i"))||l.grch37.UCSC.match(new RegExp(e,"i"))}function d(e){return l.grch38.NCBI.match(new RegExp(e,"i"))||l.grch38.UCSC.match(new RegExp(e,"i"))}function f(e){return p(e)?l.grch37.NCBI+"/"+l.grch37.UCSC:d(e)?l.grch38.NCBI+"/"+l.grch38.UCSC:void 0}},603:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b});var r=n(0),o=n(56),i=n(717),a=n.n(i),u=n(17),l=n(7),s=n(9),c=n.n(s),p=n(3);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=-1,b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==y(o)&&"function"!=typeof o?h(r):o).handleChangeItemsPerPage=n.handleChangeItemsPerPage.bind(h(n)),n.resetItemsPerPage=n.resetItemsPerPage.bind(h(n)),n.jumpToPage=n.jumpToPage.bind(h(n)),n.handleShowMore=n.handleShowMore.bind(h(n)),n.getSectionBetweenPaginationButtons=n.getSectionBetweenPaginationButtons.bind(h(n)),n}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(i=[{key:"jumpToPage",value:function(e){this.props.onChangeCurrentPage&&this.props.onChangeCurrentPage(parseInt(e,10))}},{key:"handleChangeItemsPerPage",value:function(e){this.props.onChangeItemsPerPage&&this.props.onChangeItemsPerPage(parseInt(e.target.value,10))}},{key:"handleShowMore",value:function(){if(this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage&&this.props.onChangeItemsPerPage){var e=this.props.itemsPerPageOptions.indexOf(this.props.itemsPerPage);e>-1&&e<this.props.itemsPerPageOptions.length-1?this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[e+1]):this.props.onChangeItemsPerPage(this.props.itemsPerPage+this.props.itemsPerPageOptions[this.props.itemsPerPageOptions.length-1])}}},{key:"resetItemsPerPage",value:function(){this.props.onChangeItemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[0])}},{key:"getSectionBetweenPaginationButtons",value:function(){return this.props.showMoreButton?r.createElement(o.Button,{id:"showMoreButton",bsSize:"sm",disabled:!this.props.itemsPerPageOptions||!this.props.itemsPerPage||!this.props.totalItems||this.props.itemsPerPage>=this.props.totalItems,onClick:this.handleShowMore,style:{width:200},bsStyle:this.props.bsStyle},"Show more"):r.createElement("span",{key:"textBetweenButtons",className:c()("btn","btn-sm","btn-default","textBetweenButtons","disabled",a.a["default-cursor"]),style:{cursor:"default",color:"black"}},r.createElement(u.If,{condition:this.props.pageNumberEditable},r.createElement(p.e,{className:a.a["page-number-input"],value:this.props.currentPage+"",setValue:this.jumpToPage,maxChars:6,numericOnly:!0})),this.props.textBetweenButtons)}},{key:"render",value:function(){var e=(this.props.itemsPerPageOptions||[]).map(function(e){return r.createElement("option",{key:e,value:e+""},e)});this.props.showAllOption&&e.push(r.createElement("option",{key:"all",value:g+""},"all"));var t=[r.createElement(u.If,{condition:!!this.props.showFirstPage},r.createElement(o.Button,{key:"firstPageBtn",bsSize:"sm",disabled:!!this.props.firstPageDisabled,onClick:this.props.onFirstPageClick,className:c()(this.props.groupButtons?void 0:a.a["margin-right-button"]),bsStyle:this.props.bsStyle},this.props.firstButtonContent)),r.createElement(o.Button,{className:c()("prevPageBtn",this.props.groupButtons?void 0:a.a["margin-right-button"]),key:"prevPageBtn",bsSize:"sm",disabled:!!this.props.previousPageDisabled,onClick:this.props.onPreviousPageClick,bsStyle:this.props.bsStyle},this.props.previousButtonContent),this.getSectionBetweenPaginationButtons(),r.createElement(o.Button,{className:c()("nextPageBtn",this.props.groupButtons?void 0:a.a["margin-left-button"]),key:"nextPageBtn",bsSize:"sm",disabled:!!this.props.nextPageDisabled,onClick:this.props.onNextPageClick,bsStyle:this.props.bsStyle},this.props.nextButtonContent),r.createElement(u.If,{condition:!!this.props.showLastPage},r.createElement(o.Button,{key:"lastPageBtn",bsSize:"sm",disabled:!!this.props.lastPageDisabled,onClick:this.props.onLastPageClick,className:c()(this.props.groupButtons?void 0:a.a["margin-left-button"]),bsStyle:this.props.bsStyle},this.props.lastButtonContent)),r.createElement(u.If,{condition:!!this.props.showMoreButton},r.createElement(o.Button,{id:"resetItemsPerPageButton",bsStyle:"link",bsSize:"sm",className:this.props.itemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage>this.props.itemsPerPageOptions[0]?void 0:a.a["hidden-button"],onClick:this.resetItemsPerPage},"Reset"))];return t=this.props.groupButtons?r.createElement(o.ButtonGroup,{style:{float:"none"}},t):r.createElement("div",{style:{float:"none"}},t),this.shouldHidePaginationControls&&(t=null),r.createElement("div",{className:c()(a.a.paginationControls,this.props.className),style:this.props.style},r.createElement("span",{style:{fontSize:12,marginRight:10}},this.props.textBeforeButtons),t,r.createElement(u.If,{condition:!!this.props.showItemsPerPageSelector&&!this.shouldHidePaginationControls},r.createElement(o.FormGroup,{bsSize:"sm",className:a.a["form-select"]},r.createElement(o.FormControl,{className:"itemsPerPageSelector",componentClass:"select",value:this.props.itemsPerPage,onChange:this.handleChangeItemsPerPage},e))))}},{key:"shouldHidePaginationControls",get:function(){return this.props.hidePaginationIfOnePage&&this.props.itemsPerPageOptions&&void 0!==this.props.totalItems&&this.props.itemsPerPageOptions[0]>=this.props.totalItems}}])&&d(n.prototype,i),l&&d(n,l),t}();b.defaultProps={itemsPerPage:g,itemsPerPageOptions:[10,25,50,100],showAllOption:!0,textBeforeButtons:"",textBetweenButtons:"text btwn buttons",firstButtonContent:r.createElement("i",{className:"fa fa-angle-double-left"}),previousButtonContent:r.createElement("i",{className:"fa fa-angle-left"}),nextButtonContent:r.createElement("i",{className:"fa fa-angle-right"}),lastButtonContent:r.createElement("i",{className:"fa fa-angle-double-right"}),showItemsPerPageSelector:!0,showFirstPage:!1,showLastPage:!1,className:"",style:{},previousPageDisabled:!1,nextPageDisabled:!1,pageNumberEditable:!1,showMoreButton:!0,groupButtons:!0,hidePaginationIfOnePage:!0,bsStyle:"default"};b=v([l.observer],b)},604:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return d});var r=n(570),o=n(178),i=n(4),a=n.n(i),u=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},l="NA";function s(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filter(function(e){return e.molecularAlterationType===r.a.GENERIC_ASSAY}),o=a.a.groupBy(n,"genericAssayType"),i=a.a.keys(o),u={},t.next=6,Promise.all(i.map(function(e){return p(a.a.map(o[e],function(e){return e.molecularProfileId})).then(function(t){u[e]=t})}));case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t)}))}function c(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filter(function(e){return e.molecularAlterationType===r.a.GENERIC_ASSAY}),o={},t.next=4,Promise.all(n.map(function(e){return p([e.molecularProfileId]).then(function(t){o[e.molecularProfileId]=t})}));case 4:return t.abrupt("return",o);case 5:case"end":return t.stop()}},t)}))}function p(e){return e.length>0?o.a.fetchGenericAssayMetaDataUsingPOST({genericAssayMetaFilter:{molecularProfileIds:e}}):Promise.resolve([])}function d(e,t){return u(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.a.map(e,function(e,n){return{molecularProfileId:n,genericAssayDataFilter:Object.assign({genericAssayStableIds:e},t[n])}}),i=r.map(function(e){return o.a.fetchGenericAssayDataInMolecularProfileUsingPOST(e)}),n.next=4,Promise.all(i);case 4:return u=n.sent,n.abrupt("return",u);case 6:case"end":return n.stop()}},n)}))}},605:function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return P});var r=n(0),o=n(4),i=n(9),a=n.n(i),u=(n(666),n(8)),l=n(101),s=n(2),c=n(7),p=n(649);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=function(e){function t(){var e;return d(this,t),(e=m(this,y(t).apply(this,arguments))).renderedOnce=!1,e}return v(t,r["Component"]),h(t,[{key:"render",value:function(){var e=this;return this.renderedOnce||setTimeout(function(){return e.renderedOnce=!0}),r.createElement("div",{className:this.props.className},this.renderedOnce&&this.props.children,!this.renderedOnce&&(this.props.loadingState||null))}}]),t}();S([s.observable],T.prototype,"renderedOnce",void 0),T=S([c.observer],T);var C=function(e){function t(){return d(this,t),m(this,y(t).apply(this,arguments))}return v(t,r["Component"]),h(t,[{key:"componentDidMount",value:function(){this.props.onTabDidMount&&this.props.onTabDidMount(this.div)}},{key:"componentWillUnmount",value:function(){this.props.onTabUnmount&&this.props.onTabUnmount(this.div)}},{key:"assignRef",value:function(e){this.div=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{ref:function(t){return e.div=t},className:a()({"msk-tab":!0,hiddenByPosition:!!this.props.inactive},this.props.className)},this.props.children)}}]),t}();S([u.default],C.prototype,"assignRef",null);var P=function(e){function t(e){var n;return d(this,t),(n=m(this,y(t).call(this,e))).shownTabs=[],n.tabRefs=[],n.tabIdToNavTabWidth={},n.needToRecomputeNavTabWidths=!0,n.tabClickHandlers=Object(p.a)(function(e,t){e.preventDefault(),n.setActiveTab(t.id,t.datum)}),n.state={currentPage:1,pageBreaks:[]},n}return v(t,r["Component"]),h(t,[{key:"cloneTab",value:function(e,t,n){return n?r.cloneElement(e,{inactive:t},this.props.loadingComponent):r.cloneElement(e,{inactive:t})}},{key:"setActiveTab",value:function(e,t){this.props.onTabClick&&this.props.onTabClick(e,t)}},{key:"navTabsRefHandler",value:function(e){this.navTabsRef=e}},{key:"tabRefHandler",value:function(e,t){e&&t&&this.tabRefs.push({id:e,element:t})}},{key:"nextPage",value:function(){this.setState({currentPage:this.state.currentPage+1})}},{key:"prevPage",value:function(){this.setState({currentPage:this.state.currentPage-1})}},{key:"render",value:function(){var e=this;if(this.props.children&&r.Children.count(this.props.children)){var t,n=this.props.children,i=r.Children.toArray(n),u=e.props.activeTabId&&o.some(i,function(t){return t.props.id===e.props.activeTabId})?e.props.activeTabId:i[0].props.id;return t=o.reduce(i,function(t,n){return n.props.hide||(n.props.id===u?(e.shownTabs.push(n.props.id),t.push(e.cloneTab(n,!1))):(!1===n.props.unmountOnHide||void 0===n.props.unmountOnHide&&!1===e.props.unmountOnHide)&&o.includes(e.shownTabs,n.props.id)&&t.push(e.cloneTab(n,!0))),t},[]),r.createElement("div",{id:this.props.id?this.props.id:"",className:a()("msk-tabs","posRelative",this.props.className)},this.navTabs(n,u),r.createElement(T,{className:"tab-content",loadingState:r.createElement(l.a,{isLoading:!0,center:!0,size:"big"})},t))}return null}},{key:"navTabs",value:function(e,t){this.tabRefs=[];var n=this.tabPages(e,t),o=this.state.pageBreaks.length+1,i=this.state.currentPage>1?r.createElement("li",{key:"prevPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.prevPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-left",style:this.props.arrowStyle}))):null,u=this.state.currentPage<o?r.createElement("li",{key:"nextPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.nextPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-right",style:this.props.arrowStyle}))):null,l=this.props.tabButtonStyle||"tabs";return r.createElement("ul",{ref:this.navTabsRefHandler.bind(this),className:a()("nav","nav-".concat(l))},i,n[this.state.currentPage-1],u)}},{key:"tabPages",value:function(e,t){var n=this,o=[[]],i=1;return r.Children.forEach(e,function(e){if(e&&!e.props.hide){var u=t===e.props.id?"active":"";n.props.getPaginationWidth&&n.state.pageBreaks.length>0&&n.state.pageBreaks[i-1]===e.props.id&&(o[++i-1]=[]);var l=null;if(e.props.onClickClose){var s=e.props.onClickClose;l=r.createElement("div",{className:"closeButton",onClick:function(t){t.stopPropagation(),s(e.props.id)}},r.createElement("i",{className:"fa fa-md fa-times-circle"}))}o[i-1].push(r.createElement("li",{key:e.props.id,style:{cursor:"pointer"},ref:n.tabRefHandler.bind(n,e.props.id),className:u},r.createElement("a",{className:a()("tabAnchor","tabAnchor_".concat(e.props.id),e.props.anchorClassName),onClick:n.tabClickHandlers(e.props),href:n.props.getTabHref&&n.props.getTabHref(e.props.id),style:e.props.anchorStyle},e.props.linkText,l)))}}),o}},{key:"componentWillReceiveProps",value:function(e){o.isEqual(t.getVisibleTabIds(e.children),t.getVisibleTabIds(this.props.children))||(this.needToRecomputeNavTabWidths=!0)}},{key:"componentDidMount",value:function(){var e=this;this.computeNavTabWidths(),this.needToRecomputeNavTabWidths=!1,this.widthReaction=Object(s.autorun)(function(){e.props.getPaginationWidth&&(e.props.getPaginationWidth(),e.initPaging())})}},{key:"componentWillUnmount",value:function(){this.widthReaction()}},{key:"componentDidUpdate",value:function(){this.needToRecomputeNavTabWidths&&(this.computeNavTabWidths(),this.needToRecomputeNavTabWidths=!1,this.initPaging())}},{key:"computeNavTabWidths",value:function(){var e=this;o.each(this.tabRefs,function(t){e.tabIdToNavTabWidth[t.id]=t.element.offsetWidth}),window.test=this.tabIdToNavTabWidth}},{key:"initPaging",value:function(){if(this.props.getPaginationWidth){var e=this.findPageBreaks(),t=this.findCurrentPage(e);this.setState({currentPage:t,pageBreaks:e})}}},{key:"findCurrentPage",value:function(e){var t=this,n=1,r=!1;return this.props.activeTabId&&e.length>0&&o.each(this.tabRefs,function(o){if(o.id===e[n-1]&&n++,o.id===t.props.activeTabId)return r=!0,!1}),r?n:1}},{key:"findPageBreaks",value:function(){var e=this,t=[];if(this.needToRecomputeNavTabWidths)return[];var n=this.props.getPaginationWidth&&this.props.getPaginationWidth()||0;if(n>0){var o=0;r.Children.forEach(this.props.children,function(r,i){if(r&&r.props.id in e.tabIdToNavTabWidth&&(o+=e.tabIdToNavTabWidth[r.props.id],0!==i)){o>n-50&&(t.push(r.props.id),o=e.tabIdToNavTabWidth[r.props.id])}})}return t}}],[{key:"getVisibleTabIds",value:function(e){return r.Children.map(e,function(e){return e&&!e.props.hide?e.props.id:null}).filter(function(e){return null!==e})}}]),t}();P.defaultProps={unmountOnHide:!0,loadingComponent:r.createElement(l.a,{isLoading:!0,center:!0,size:"big"})},S([u.default],P.prototype,"initPaging",null)},606:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return p});var r,o,i,a=n(6),u=n(4);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.PIE_CHART="PIE_CHART",e.BAR_CHART="BAR_CHART",e.SURVIVAL="SURVIVAL",e.TABLE="TABLE",e.SCATTER="SCATTER",e.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",e.FUSION_GENES_TABLE="FUSION_GENES_TABLE",e.CNA_GENES_TABLE="CNA_GENES_TABLE",e.GENOMIC_PROFILES_TABLE="GENOMIC_PROFILES_TABLE",e.CASE_LIST_TABLE="CASE_LIST_TABLE",e.NONE="NONE"}(o||(o={})),function(e){e.PIE_CHART="pie chart",e.BAR_CHART="bar chart",e.SURVIVAL="survival plot",e.TABLE="table",e.SCATTER="density plot",e.MUTATED_GENES_TABLE="table",e.FUSION_GENES_TABLE="table",e.CNA_GENES_TABLE="table",e.GENOMIC_PROFILES_TABLE="table",e.CASE_LIST_TABLE="table",e.NONE="none"}(i||(i={}));var s="Freq",c={alwaysShownClinicalAttributes:["CANCER_TYPE","CANCER_TYPE_DETAILED"],defaultPriority:1,tableAttrs:["CANCER_TYPE","CANCER_TYPE_DETAILED"],initialBins:{MSI_SCORE:[1,2,5,10,30]},priority:{CANCER_TYPE:3e3,CANCER_TYPE_DETAILED:2e3,GENOMIC_PROFILES_SAMPLE_COUNT:1e3,CASE_LISTS_SAMPLE_COUNT:1e3,OS_SURVIVAL:400,DFS_SURVIVAL:300,DSS_SURVIVAL:250,PFS_SURVIVAL:250,MUTATION_COUNT_CNA_FRACTION:200,MUTATED_GENES_TABLE:90,FUSION_GENES_TABLE:85,CNA_GENES_TABLE:80,CANCER_STUDIES:70,SEQUENCED:60,HAS_CNA_DATA:50,SAMPLE_COUNT:40,MUTATION_COUNT:30,FRACTION_GENOME_ALTERED:20,GENDER:9,SEX:9,AGE:9,RACE:8,ETHNICITY:8,SAMPLE_TYPE:8,HISTOLOGY:8,TUMOR_TYPE:8,SUBTYPE:8,TUMOR_SITE:8},thresholds:{pieToTable:20,piePadding:20,barRatio:.8,rowsInTableForOneGrid:4,clinicalCharts:20,chartHighlight:1e4},layout:{layout:[],cols:6,grid:{w:195,h:170},gridMargin:{x:5,y:5},dimensions:(r={},l(r,o.PIE_CHART,{w:1,h:1}),l(r,o.BAR_CHART,{w:2,h:1}),l(r,o.SCATTER,{w:2,h:2}),l(r,o.TABLE,{w:2,h:2}),l(r,o.SURVIVAL,{w:1,h:1}),l(r,o.MUTATED_GENES_TABLE,{w:2,h:2}),l(r,o.FUSION_GENES_TABLE,{w:2,h:2}),l(r,o.CNA_GENES_TABLE,{w:2,h:2}),l(r,o.GENOMIC_PROFILES_TABLE,{w:2,h:2}),l(r,o.CASE_LIST_TABLE,{w:2,h:2}),l(r,o.NONE,{w:0,h:0}),r)},colors:{theme:{primary:"#2986E2",secondary:"#DC3912",tertiary:"#f88508",quaternary:"#109618",unselectedGroup:"#2986E2",selectedGroup:"#DC3912",clinicalFilterTitle:"#A9A9A9",clinicalFilterContent:"#2986E2"}}},p=u.assign(c,a.b.serverConfig.study_view)},607:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return d});var r=n(4),o=n.n(r),i=n(640),a=n.n(i),u=n(3),l=n(576);function s(e,t){return Object(u.fb)(e,t,l.b.fontFamily,l.b.fontSize+"px")}function c(e){for(var t="",n=0;n<e;n++)t+="0";return t}function p(e,t){for(var n=0,r="";n<3;){if(r=t(n),o.a.uniq(e.map(function(e){return a()(e).format(r)})).length===e.length)break;n++}return r}function d(e,t,n){return n&&(e=n(e),t=t.map(n)),e>=1e3?a()(e).format(function(e){return p(e=e.filter(function(e){return Math.abs(e)>=1e3}),function(e){return"0.[".concat(c(e),"]a")})}(t)):a()(e).format(function(e){return p(e=e.filter(function(e){return Math.abs(e)<1e3}),function(e){return"0.[".concat(c(e),"]")})}(t))}},608:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(691),i=n.n(o),a=n(9),u=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=p(this,d(t).apply(this,arguments))).handleInputRef=function(t){e.input=t,e.props.inputProps&&"function"==typeof e.props.inputProps.ref&&e.props.inputProps.ref(t)},e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"componentDidUpdate",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"render",value:function(){var e=this.props.labelProps&&this.props.labelProps.className,t=u()(i.a.labeledCheckbox,e);return r.createElement("label",s({className:t},this.props.labelProps),r.createElement("input",s({type:this.props.inputProps&&this.props.inputProps.type||"checkbox",checked:this.props.checked,onChange:this.props.onChange,disabled:this.props.disabled},this.props.inputProps,{ref:this.handleInputRef})),this.props.children)}}])&&c(n.prototype,o),a&&c(n,a),t}()},609:function(e,t,n){e.exports=n(16)(1037)},610:function(e,t,n){"use strict";n.d(t,"a",function(){return A}),n.d(t,"c",function(){return I}),n.d(t,"m",function(){return E}),n.d(t,"l",function(){return _}),n.d(t,"n",function(){return w}),n.d(t,"N",function(){return k}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return G}),n.d(t,"f",function(){return N}),n.d(t,"e",function(){return x}),n.d(t,"g",function(){return R}),n.d(t,"x",function(){return V}),n.d(t,"w",function(){return z}),n.d(t,"r",function(){return H}),n.d(t,"L",function(){return Z}),n.d(t,"J",function(){return J}),n.d(t,"B",function(){return re}),n.d(t,"O",function(){return oe}),n.d(t,"o",function(){return ie}),n.d(t,"i",function(){return ae}),n.d(t,"I",function(){return he}),n.d(t,"y",function(){return ve}),n.d(t,"S",function(){return ge}),n.d(t,"G",function(){return ke}),n.d(t,"Q",function(){return Ge}),n.d(t,"P",function(){return Ne}),n.d(t,"R",function(){return De}),n.d(t,"K",function(){return je}),n.d(t,"k",function(){return Le}),n.d(t,"A",function(){return Be}),n.d(t,"z",function(){return Fe}),n.d(t,"D",function(){return qe}),n.d(t,"F",function(){return Ue}),n.d(t,"H",function(){return Ve}),n.d(t,"q",function(){return Ke}),n.d(t,"t",function(){return We}),n.d(t,"M",function(){return Qe}),n.d(t,"j",function(){return Ye}),n.d(t,"u",function(){return Xe}),n.d(t,"v",function(){return Ze}),n.d(t,"p",function(){return Je}),n.d(t,"E",function(){return $e}),n.d(t,"C",function(){return et}),n.d(t,"h",function(){return tt}),n.d(t,"s",function(){return nt});var r,o=n(747),i=n(3),a=n(15),u=n(4),l=n.n(u),s=n(0),c=n(619),p=n(578),d=n(570),f=n(640),h=n.n(f),m=n(583),y=n(612),v=n(711),g=n.n(v),b=n(6),S=n(574),T=n(580);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},A="clinical_attribute",I="GENESET_SCORE",E=(C(r={},d.a.MUTATION_EXTENDED,"Mutation"),C(r,d.a.COPY_NUMBER_ALTERATION,"Copy Number"),C(r,d.a.MRNA_EXPRESSION,"mRNA"),C(r,d.a.PROTEIN_LEVEL,"Protein Level"),C(r,d.a.METHYLATION,"DNA Methylation"),C(r,A,"Clinical Attribute"),C(r,I,"Gene Sets"),r),O=(o.d,{missense:"Missense",inframe:"Inframe",fusion:"Fusion",promoter:"Promoter",trunc:"Truncating",other:"Other"}),_=[A,d.a.MUTATION_EXTENDED,d.a.COPY_NUMBER_ALTERATION,d.a.MRNA_EXPRESSION,I,d.a.PROTEIN_LEVEL,d.a.METHYLATION];function w(e,t){var n="",r=b.b.serverConfig.generic_assay_display_text.split(","),o=l.a.reduce(r,function(e,t){var n=t.split(":");return 2==n.length&&(e[n[0]]=n[1]),e},{});e in o?n=o[e]:n=e.split("_").map(function(e){return Object(i.s)(e.toLowerCase())}).join(" ");return t?g.a.plural(n):n}function k(e){if(!e.length)return[];var t;switch(e[0].molecularAlterationType){case d.a.COPY_NUMBER_ALTERATION:t=function(e){return"DISCRETE"===e.datatype?0:1};break;default:t=function(e){return e.name}}return l.a.sortBy(e,t)}var M=1.8,G=650,N=500,x=480,R=1.6,D=["Not profiled","for mutations"],j=["Not profiled","for CNA"],L="No data",B="not_profiled_mutation",F="not_mutated",q="not_profiled_cna",U="not_profiled_cna";function V(e){return"string"===e.datatype}function z(e){return"number"===e.datatype}function H(e){return"".concat(e.info.entrezGeneId,"_").concat(JSON.stringify(e.info.clinicalAttribute))}function K(e){return void 0!==e.dispClinicalValue}function W(e){return!!e.dispMutationType}function Q(e){return!!e.dispCna}function Y(e){return!!e.profiledMutations}function X(e){return!!e.profiledCna}function Z(e,t){var n,r=t?function(e){return t(e)?1:0}:function(e){return 0},i=function(e){return e.profiledMutations?e.dispMutationType?e.dispMutationType in he?-he[e.dispMutationType]:Number.NEGATIVE_INFINITY:-he[F]:-he[B]},a=function(e){return e.profiledCna?e.dispCna?e.dispCna.value in Ee?-Ee[e.dispCna.value]:Number.NEGATIVE_INFINITY:-Ee[U]:-Ee[q]};switch(e){case o.a.ClinicalData:n=[r,function(e){return void 0===e.dispClinicalValue?Number.NEGATIVE_INFINITY:1}];break;case o.a.MutationTypeAndCopyNumber:n=[r,i,a];break;case o.a.MutationType:n=[r,i];break;case o.a.CopyNumber:n=[r,a]}return n}function J(e,t,n,r,i,a,u,s,c,p,d,f){var h=r.isComplete&&r.result,m=i.isComplete&&i.result,y=[];switch(t){case o.a.ClinicalData:p&&p.categoryToColor?y=function(e,t,n){var r=t===o.f.WaterfallPlot?"square":"circle",i=l.a.sortBy(l.a.uniq(e.data.map(function(e){return e.value}))).map(function(t){return{name:t,symbol:{stroke:"#000000",strokeOpacity:ue,fill:e.categoryToColor[t],type:r},highlighting:n&&{uid:t,isDatumHighlighted:function(e){return e.dispClinicalValue===t},onClick:n}}});i.push({name:L,symbol:{stroke:"#000000",strokeOpacity:ue,fill:de.fill,type:r},highlighting:n&&{uid:L,isDatumHighlighted:function(e){return!K(e)},onClick:n}});return i}(p,n,f):p&&p.numericalValueToColor&&(y=function(e,t,n){var r=e.numericalValueRange;if(!r)return[];var i=t===o.f.WaterfallPlot?"square":"circle",a=[];a.push({name:"",symbol:{type:"gradient",range:r,colorFn:n?e.logScaleNumericalValueToColor:e.numericalValueToColor,gradientUid:"gradient"}}),a.push({name:L,symbol:{stroke:"#000000",strokeOpacity:ue,fill:de.fill,type:i},margin:125});return a}(p,n,d));break;case o.a.CopyNumber:m&&(y=te(e,n,f));break;case o.a.LimitValCopyNumber:m&&(y=te(e,n,f).concat(ee(n,u,f)));break;case o.a.LimitValMutationType:h&&(y=$(e,a,!0,n,f).concat(ee(n,u,f)));break;case o.a.MutationType:h&&(y=$(e,a,!0,n,f));break;case o.a.MutationTypeAndCopyNumber:h&&m&&(y=$(e,a,!1,n,f).concat(te(e,n,f)));break;case o.a.LimitValMutationTypeAndCopyNumber:h&&i&&(y=$(e,a,!1,n,f).concat(te(e,n,f)).concat(ee(n,u,f)));break;case o.a.LimitVal:y=ee(n,u,f)}var v=function(e,t,n){if(t===o.f.WaterfallPlot&&n&&l.a.some(e,function(e){return n(e)}))return{name:ge.legendLabel,symbol:{fill:ge.fill,fillOpacity:ge.fillOpacity,stroke:ge.stroke,strokeOpacity:ge.strokeOpacity,type:ge.symbol}};return}(e,n,c);return v&&(y=y.concat(v)),s&&y.forEach(function(e){var t={};e.highlighting&&(t.cursor="pointer",e.symbol.cursor="pointer",s.has(e.highlighting.uid)&&(t.fontWeight="bold")),e.labels=t}),y}function $(e,t,n,r,i){var a=t?le:se,u=!1,s=!1,c=l.a.chain(e).map(function(e){var t=e.dispMutationType?e.dispMutationType:null;return Y(e)||(s=!0),t}).uniq().filter(function(e){var t=!!e;return t||(u=!0),t}).keyBy(function(e){return e}).value(),p=l.a.chain(fe).filter(function(e){return!!c[e]}).map(function(e){var t=a[e],u=r===o.f.WaterfallPlot?"square":t.symbol,l=r===o.f.WaterfallPlot?t.fill:t.stroke;return{name:t.legendLabel,symbol:{stroke:l,strokeOpacity:n?t.strokeOpacity:0,fill:t.fill,type:u},highlighting:i&&{uid:t.legendLabel,isDatumHighlighted:function(t){return t.dispMutationType===e},onClick:i}}}).value();if(u){var d=r===o.f.WaterfallPlot?"square":me.symbol,f=r===o.f.WaterfallPlot?me.fill:me.stroke;p.push({name:me.legendLabel,symbol:{stroke:f,strokeOpacity:n?me.strokeOpacity:0,fill:me.fill,type:d},highlighting:i&&{uid:me.legendLabel,isDatumHighlighted:function(e){return Y(e)&&!W(e)},onClick:i}})}if(s){var h=r===o.f.WaterfallPlot?"square":"circle",m=pe.stroke;p.push({name:D,symbol:{stroke:m,strokeOpacity:pe.strokeOpacity,fill:pe.fill,type:h},highlighting:i&&{uid:JSON.stringify(D),isDatumHighlighted:function(e){return!Y(e)},onClick:i}})}return p}function ee(e,t,n){var r=[];if(t&&t.length>0){var i=e===o.f.WaterfallPlot?0:1,a=e===o.f.WaterfallPlot?"#000000":"#999",u="value ".concat(t.join(" or "));r.push({name:u,symbol:{fill:"#999",fillOpacity:i,stroke:a,strokeOpacity:1,type:ve.symbol},highlighting:n&&{uid:u,isDatumHighlighted:function(e){return Object(m.b)(e)},onClick:n}})}return r}function te(e,t,n){var r=!1,i=t===o.f.WaterfallPlot?"square":"circle",a=t===o.f.WaterfallPlot?1:0,u=l.a.chain(e).map(function(e){var t=e.dispCna?e.dispCna.value:null;return X(e)||(r=!0),t}).uniq().filter(function(e){return null===e&&(r=!0),null!==e}).sortBy(function(e){return-e}).value().map(function(e){var t=ye[e];return{name:t.legendLabel,symbol:{stroke:t.stroke,fillOpacity:a,fill:t.stroke,type:i,strokeWidth:M},highlighting:n&&{uid:t.legendLabel,isDatumHighlighted:function(t){return!(!t.dispCna||t.dispCna.value!==e)},onClick:n}}});return r&&u.push({name:j,symbol:{stroke:ce.stroke,fillOpacity:a,fill:ce.stroke,type:i,strokeWidth:M},highlighting:n&&{uid:L,isDatumHighlighted:function(e){return!X(e)||!Q(e)},onClick:n}}),u}function ne(e,t,n,r,a,u,s,p,f){var h;return Object(i.S)({await:function(){var o=[];return u.isComplete?(u.result[t].molecularAlterationType===d.a.MUTATION_EXTENDED?(h=n.get({entrezGeneId:e}),o.push(p),o.push(f)):h=r.get({entrezGeneId:e,molecularProfileId:t}),o.push(h)):o.push(u),o.push(a),o},invoke:function(){var n=u.result[t],r=a.result[e].hugoGeneSymbol;if(n.molecularAlterationType===d.a.MUTATION_EXTENDED){var i=h.result;return Promise.resolve(function(e,t,n,r,i,a){var u=l.a.mapValues(l.a.groupBy(n,function(e){return e.uniqueSampleKey}),function(e){return l.a.uniq(e.map(function(e){return O[Object(c.b)(e)]}))}),s=a.map(function(n){var a,l=u[n.uniqueSampleKey];if(l)switch(i){case o.b.MutationType:a=l.length>1?Te:l;break;case o.b.MutatedVsWildType:default:a=Se}else a=Object(y.a)(n.uniqueSampleKey,e,t,r)?Ce:Pe;return{uniqueSampleKey:n.uniqueSampleKey,value:a}}),p=[];switch(i){case o.b.MutationType:p=Ae;break;case o.b.MutatedVsWildType:default:p=Ie}return{data:s,hugoGeneSymbol:t,datatype:"string",categoryOrder:p}}(t,r,i,p.result,s,f.result))}var m=n.molecularAlterationType===d.a.COPY_NUMBER_ALTERATION&&"DISCRETE"===n.datatype,v=h.result;return Promise.resolve({data:v.map(function(e){var t=e.value;if(m){var n=ye[e.value];n&&(t=n.legendLabel)}return{uniqueSampleKey:e.uniqueSampleKey,value:t}}),hugoGeneSymbol:r,datatype:m?"string":"number",categoryOrder:m?be:void 0})}})}function re(e,t,n,r,a,u,l,s,c,p,d,f){var h=Object(i.S)(function(){return new Promise(function(){return 0})});if(e.dataType&&e.isGenericAssayType&&void 0!==e.genericAssayEntityId&&void 0!==e.dataSourceId)return h=function(e,t,n,r){var o=this;return Object(i.S)({await:function(){return[n,r]},invoke:function(){return P(o,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r.result[t],o.next=4,n.result.getPromise({stableId:e,molecularProfileId:t},!0);case 4:return i=n.result.get({molecularProfileId:t,stableId:e}).data,o.abrupt("return",Promise.resolve({data:i.map(function(e){return{uniqueSampleKey:e.uniqueSampleKey,value:parseFloat(e.value),thresholdType:e.thresholdType}}),datatype:"number",genericAssayEntityId:e}));case 6:case"end":return o.stop()}},o)}))}})}(e.genericAssayEntityId,e.dataSourceId,f,n);switch(e.dataType){case void 0:break;case o.e:h=Object(i.S)(function(){return Promise.resolve({data:[],datatype:"none"})});break;case A:if(void 0!==e.dataSourceId&&t.isComplete)h=function(e,t,n){var r=t.get(e);return Object(i.S)({await:function(){return[r,n]},invoke:function(){var t=n.result,o=r.result.data,i={data:[],datatype:e.datatype.toLowerCase()},a="number"===e.datatype.toLowerCase(),u=i.data;if(e.patientAttribute){var l=!0,s=!1,c=void 0;try{for(var p,d=o[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value,h=t[f.uniquePatientKey],m=!0,y=!1,v=void 0;try{for(var g,b=h[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var S=g.value;u.push({uniqueSampleKey:S.uniqueSampleKey,value:f.value})}}catch(e){y=!0,v=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw v}}}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}else{var T=!0,C=!1,P=void 0;try{for(var A,I=o[Symbol.iterator]();!(T=(A=I.next()).done);T=!0){var E=A.value;u.push({uniqueSampleKey:E.uniqueSampleKey,value:E.value})}}catch(e){C=!0,P=e}finally{try{T||null==I.return||I.return()}finally{if(C)throw P}}}if(a){var O=!0,_=!1,w=void 0;try{for(var k,M=u[Symbol.iterator]();!(O=(k=M.next()).done);O=!0){var G=k.value;G.value=parseFloat(G.value)}}catch(e){_=!0,w=e}finally{try{O||null==M.return||M.return()}finally{if(_)throw w}}}return Promise.resolve(i)}})}(t.result[e.dataSourceId],u,r);break;case I:void 0!==e.genesetId&&void 0!==e.dataSourceId&&(h=function(e,t,n,r){var o=this;return Object(i.S)({await:function(){return[n,r]},invoke:function(){return P(o,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r.result[t],o.next=4,n.result.getPromise({genesetId:e,molecularProfileId:t},!0);case 4:return i=n.result.get({molecularProfileId:t,genesetId:e}).data,o.abrupt("return",Promise.resolve({data:i.map(function(e){var t=e.value;return{uniqueSampleKey:e.uniqueSampleKey,value:Number(t)}}),genesetId:e,datatype:"number"}));case 6:case"end":return o.stop()}},o)}))}})}(e.genesetId,e.dataSourceId,d,n));break;default:void 0!==e.entrezGeneId&&void 0!==e.dataSourceId&&(h=ne(e.entrezGeneId,e.dataSourceId,l,s,a,n,e.mutationCountBy,c,p))}return h}function oe(e,t,n){return e>(n+t)/2?"rgb(255,255,255)":"rgb(0,0,0)"}function ie(e,t,n,r,i){var a="",u=t[e.dataSourceId],l="";switch(i&&(l=i.label),e.dataType){case o.e:break;case A:var s=r[e.dataSourceId];s&&(a=s.displayName);break;case I:u&&void 0!==e.genesetId&&(a="".concat(e.genesetId,": ").concat(u.name));break;default:u&&void 0!==e.entrezGeneId&&e.entrezGeneId!==o.d&&(a="".concat(n[e.entrezGeneId].hugoGeneSymbol,": ").concat(u.name))}if(e.dataType&&e.isGenericAssayType&&u&&e.selectedGenericAssayOption&&e.selectedGenericAssayOption.label){var c=e.selectedGenericAssayOption.label;a="".concat(c,": ").concat(u.name)}return l&&(a+=" (".concat(l,")")),a}var ae={fill:"#00AAF8",stroke:"#0089C6",strokeOpacity:1},ue=.5,le={inframe:{symbol:"circle",fill:p.o,stroke:"#000000",strokeOpacity:ue,legendLabel:"Inframe (VUS)"},"inframe.driver":{symbol:"circle",fill:p.n,stroke:"#000000",strokeOpacity:ue,legendLabel:"Inframe (Driver)"},missense:{symbol:"circle",fill:p.q,stroke:"#000000",strokeOpacity:ue,legendLabel:"Missense (VUS)"},"missense.driver":{symbol:"circle",fill:p.p,stroke:"#000000",strokeOpacity:ue,legendLabel:"Missense (Driver)"},fusion:{symbol:"circle",fill:p.l,stroke:"#000000",strokeOpacity:ue,legendLabel:"Fusion"},trunc:{symbol:"circle",fill:p.u,stroke:"#000000",strokeOpacity:ue,legendLabel:"Truncating (VUS)"},"trunc.driver":{symbol:"circle",fill:p.t,stroke:"#000000",strokeOpacity:ue,legendLabel:"Truncating (Driver)"},promoter:{symbol:"circle",fill:p.s,stroke:"#000000",strokeOpacity:ue,legendLabel:"Promoter"},other:{symbol:"circle",fill:p.r,stroke:"#000000",strokeOpacity:ue,legendLabel:"Other"}},se={inframe:{symbol:"circle",fill:p.n,stroke:"#000000",strokeOpacity:ue,legendLabel:"Inframe"},missense:{symbol:"circle",fill:p.p,stroke:"#000000",strokeOpacity:ue,legendLabel:"Missense"},fusion:{symbol:"circle",fill:p.l,stroke:"#000000",strokeOpacity:ue,legendLabel:"Fusion"},trunc:{symbol:"circle",fill:p.t,stroke:"#000000",strokeOpacity:ue,legendLabel:"Truncating"},promoter:{symbol:"circle",fill:p.s,stroke:"#000000",strokeOpacity:ue,legendLabel:"Promoter"},other:{symbol:"circle",fill:p.r,stroke:"#000000",strokeOpacity:ue,legendLabel:"Other"}},ce={symbol:"circle",stroke:"#000000",strokeOpacity:.3},pe=Object.assign({},{fill:"#ffffff"},ce),de=Object.assign({},pe,{fill:p.i}),fe=["fusion","promoter.driver","promoter","trunc.driver","trunc","inframe.driver","inframe","missense.driver","missense","other"],he=Object(i.W)(["fusion","promoter.driver","trunc.driver","inframe.driver","missense.driver","promoter","trunc","inframe","missense","other",F,B]),me={symbol:"circle",fill:"#c4e5f5",stroke:"#000000",strokeOpacity:.3,legendLabel:"Not mutated"},ye={"-2":{legendLabel:"Deep Deletion",stroke:p.d,strokeOpacity:1},"-1":{legendLabel:"Shallow Deletion",stroke:"#2aced4",strokeOpacity:1},0:{legendLabel:"Diploid",stroke:p.e,strokeOpacity:1},1:{legendLabel:"Gain",stroke:"#ff8c9f",strokeOpacity:1},2:{legendLabel:"Amplification",stroke:p.a,strokeOpacity:1}},ve={legendLabel:"Limit value",symbol:"diamond"},ge={legendLabel:"Sample match",symbol:"plus",fill:"white",fillOpacity:1,stroke:"red",strokeWidth:1,strokeOpacity:1,size:3},be=["-2","-1","0","1","2"].map(function(e){return ye[e].legendLabel}),Se="Mutated",Te="Multiple",Ce="Wild type",Pe="Not profiled",Ae=[O.missense,O.inframe,O.trunc,O.fusion,O.promoter,O.other,Te,Ce,Pe],Ie=[Se,Ce,Pe],Ee=Object(i.W)(["-2","2","-1","1","0",q]);function Oe(e,t){return Y(e)?W(e)?t[e.dispMutationType]:me:pe}function _e(e){return Q(e)&&X(e)?ye[e.dispCna.value]:ce}function we(e){return Object(m.b)(e)?ve:{}}function ke(e,t,n,r,i,a,u){var l=r?le:se;switch(e){case o.a.ClinicalData:if(!i||!a)break;var s=a.get(i.info.clinicalAttribute);if(s.isComplete){if("STRING"===i.info.clinicalAttribute.datatype){var c=s.result.categoryToColor;return function(e){return K(e)?{stroke:"#000000",strokeOpacity:ue,fill:c[e.dispClinicalValue],fillOpacity:1,symbol:"circle"}:de}}var p;if("NUMBER"===i.info.clinicalAttribute.datatype)return p=u&&s.result.logScaleNumericalValueToColor?s.result.logScaleNumericalValueToColor:s.result.numericalValueToColor,function(e){return K(e)?{stroke:"#000000",strokeOpacity:ue,fill:p(e.dispClinicalValue),fillOpacity:1,symbol:"circle"}:de}}break;case o.a.MutationTypeAndCopyNumber:if(n.isComplete&&n.result&&t.isComplete&&t.result)return function(e){var t=_e(e),n=Oe(e,l);return Object.assign({},n,t)};break;case o.a.CopyNumber:if(n.isComplete&&n.result)return _e;break;case o.a.MutationType:if(t.isComplete&&t.result)return function(e){return Oe(e,l)};break;case o.a.LimitValMutationTypeAndCopyNumber:if(n.isComplete&&n.result&&t.isComplete&&t.result)return function(e){var t=we(e),n=_e(e),r=Oe(e,l);return Object.assign({},r,n,t)};break;case o.a.LimitValCopyNumber:if(n.isComplete&&n.result)return function(e){var t=we(e),n=_e(e);return Object.assign({},n,t)};break;case o.a.LimitValMutationType:if(t.isComplete&&t.result)return function(e){var t=we(e),n=Oe(e,l);return Object.assign({},n,t)};break;case o.a.LimitVal:return function(e){var t=we(e),n=ae;return Object.assign({},n,t)}}return function(){return ae}}function Me(e,t){var n=l.a.groupBy(e,function(e){return t[e.entrezGeneId].hugoGeneSymbol});return l.a.chain(n).entries().sortBy(function(e){return e[0]}).value().map(function(e){return"".concat(e[0],": ").concat(e[1].filter(function(e){return!!e.proteinChange}).map(function(e){return e.proteinChange}).join(", "))})}function Ge(e){var t=function(e){return s.createElement("img",{src:n(673),title:e.oncoKbOncogenic,style:{height:11,width:11,marginLeft:2,marginBottom:2}})},r=s.createElement("img",{src:n(690),title:"Hotspot",style:{height:11,width:11,marginLeft:2,marginBottom:3}}),o=l.a.groupBy(e.filter(function(e){return!!e.proteinChange}),function(e){return e.hugoGeneSymbol}),i=l.a.chain(o).entries().sortBy(function(e){return e[0]}).value();return s.createElement("span",null,i.map(function(e){var n=[],o=!0,i=!1,a=void 0;try{for(var u,l=e[1][Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;n.push(s.createElement("span",{key:c.proteinChange},c.proteinChange,s.createElement("span",{style:{marginLeft:1}},c.isHotspot?r:null,c.oncoKbOncogenic?t(c):null))),n.push(s.createElement("span",null,", "))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n.pop(),s.createElement("span",null,e[0],": ",n)}))}function Ne(e){var t=function(e){return s.createElement("img",{src:n(673),title:e.oncoKbOncogenic,style:{height:11,width:11,marginLeft:2,marginBottom:2}})},r=l.a.groupBy(e,function(e){return e.hugoGeneSymbol}),o=l.a.chain(r).entries().sortBy(function(e){return e[0]}).value();return s.createElement("span",null,o.map(function(e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[1][Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;l.value in ye&&(n.push(s.createElement("span",{key:l.value},ye[l.value].legendLabel,s.createElement("span",{style:{marginLeft:1}},l.oncoKbOncogenic?t(l):null))),n.push(s.createElement("span",null,", ")))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n.pop(),s.createElement("span",null,e[0],": ",n)}))}function xe(e,t){return t?s.createElement("span",null,t.displayName,":"," ",s.createElement("b",null,void 0===e?L:"string"==typeof e?e:e.toFixed(2))):null}function Re(e,t,n,r,o,i){var u=null;e.mutations.length>0&&(u=Ge(e.mutations));var l=null;e.copyNumberAlterations.length>0&&(l=Ne(e.copyNumberAlterations));var c=null;i&&(c=xe(e.dispClinicalValue,i));var p=t(e),d=n(e);"number"==typeof p&&(p=Object(T.f)(p,2)),"number"==typeof d&&(d=Object(T.f)(d,2));var f=r?"".concat(e[r]).concat(p):p,h=o?"".concat(e[o]).concat(d):d;return s.createElement("div",null,s.createElement("a",{href:Object(a.y)(e.studyId,e.sampleId),target:"_blank"},e.sampleId),s.createElement("div",null,"Horizontal:"," ",s.createElement("span",{style:{fontWeight:"bold"}}," ",f)),s.createElement("div",null,"Vertical:"," ",s.createElement("span",{style:{fontWeight:"bold"}}," ",h)),u,!!u&&s.createElement("br",null),l,!!l&&s.createElement("br",null),c)}function De(e,t){return function(e,t,n,r){var o=null;e.mutations.length>0&&(o=Ge(e.mutations));var i=null;e.copyNumberAlterations.length>0&&(i=Ne(e.copyNumberAlterations));var u=null;r&&(u=xe(e.dispClinicalValue,r));var l=e[t];l=l.toFixed(4);var c=n&&e[n]?e[n]:"";return s.createElement("div",null,s.createElement("a",{href:Object(a.y)(e.studyId,e.sampleId),target:"_blank",style:{whiteSpace:"pre-line",wordBreak:"break-word"}},e.sampleId),s.createElement("div",null,"Value:"," ",s.createElement("span",{style:{fontWeight:"bold"}}," ",c,l," ")),o,!!o&&s.createElement("br",null),i,!!i&&s.createElement("br",null),u)}(e,"value","thresholdType",t)}function je(e,t,n,r){return Re(e,t?function(e){return t.fLogScale(e.x)}:function(e){return e.x},n?function(e){return n.fLogScale(e.y)}:function(e){return e.y},"xThresholdType","yThresholdType",r)}function Le(e,t,n,r){var o=t?"value":"category",i=t?"category":"value";return Re(e,n&&t?function(e){return n.fLogScale(e.value)}:function(e){return e[o]},n&&!t?function(e){return n.fLogScale(e.value)}:function(e){return e[i]},t?"thresholdType":void 0,t?void 0:"thresholdType",r)}function Be(e){return!/zscore/i.test(e)&&/rna_seq/i.test(e)}function Fe(e){return e.dataType!==A?!(!e.dataType||!e.isGenericAssayType)||!(!e.dataSourceId||!Be(e.dataSourceId)):e.dataSourceId===S.g.MUTATION_COUNT}function qe(e,t,n,r,o,i,a,u){var s=Ue(e,t,n,r,o,i,a,u),c=l.a.groupBy(s,function(e){return e.category}),p=l.a.entries(c).map(function(e){return{label:e[0],data:e[1]}}),d=e.categoryOrder;return d&&(p=l.a.sortBy(p,function(e){return d.indexOf(e.label)})),p}function Ue(e,t,n,r,o,i,a,u){var s=o?l.a.groupBy(o.data,function(e){return e.uniqueSampleKey}):{},p=i?l.a.groupBy(i.data,function(e){return e.uniqueSampleKey}):{},d={};u&&(d=u.clinicalAttribute.patientAttribute?l.a.keyBy(u.data,function(e){return e.uniquePatientKey}):l.a.keyBy(u.data,function(e){return e.uniqueSampleKey}));var f={},h=!0,y=!1,v=void 0;try{for(var g,b=e.data[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var S=g.value,T=n[S.uniqueSampleKey],C=p[S.uniqueSampleKey],P=void 0;if(C&&C.length){P=C[0];var A=!0,I=!1,E=void 0;try{for(var O,_=C[Symbol.iterator]();!(A=(O=_.next()).done);A=!0){var w=O.value;Math.abs(w.value)>Math.abs(P.value)&&(P=w)}}catch(e){I=!0,E=e}finally{try{A||null==_.return||_.return()}finally{if(I)throw E}}}var k=void 0,M=s[S.uniqueSampleKey];if(M&&M.length){var G=l.a.chain(M).groupBy(function(e){var t=Object(c.b)(e),n="fusion"!==t&&"promoter"!==t&&"other"!==t&&e.putativeDriver?".driver":"";return"".concat(t).concat(n)}).mapValues(function(e){return e.length}).value();k=Object(c.f)(G,he)}var N=r[S.uniqueSampleKey],x=void 0,R=void 0;if(o||i){var D=ze(a?a.hugoGeneSymbol:e.hugoGeneSymbol,a?a.hugoGeneSymbol:t.hugoGeneSymbol,N);if(o){x=!1;var j=!0,L=!1,B=void 0;try{for(var F,q=o.molecularProfileIds[Symbol.iterator]();!(j=(F=q.next()).done);j=!0){var U=F.value;x=x||!!D[U]}}catch(e){L=!0,B=e}finally{try{j||null==q.return||q.return()}finally{if(L)throw B}}}if(i){R=!1;var V=!0,z=!1,H=void 0;try{for(var K,W=i.molecularProfileIds[Symbol.iterator]();!(V=(K=W.next()).done);V=!0){var Q=K.value;R=R||!!D[Q]}}catch(e){z=!0,H=e}finally{try{V||null==W.return||W.return()}finally{if(z)throw H}}}}var Y=void 0,X=void 0;(X=u&&u.clinicalAttribute.patientAttribute?d[n[S.uniqueSampleKey].uniquePatientKey]:d[S.uniqueSampleKey])&&(Y=X.value),f[S.uniqueSampleKey]={uniqueSampleKey:S.uniqueSampleKey,sampleId:T.sampleId,studyId:T.studyId,horzValues:[].concat(S.value),horzThresholdTypes:[].concat(S.thresholdType||""),mutations:M||[],copyNumberAlterations:C||[],dispCna:P,dispMutationType:k,dispClinicalValue:Y,profiledCna:R,profiledMutations:x}}}catch(e){y=!0,v=e}finally{try{h||null==b.return||b.return()}finally{if(y)throw v}}var Z=[],J=!0,$=!1,ee=void 0;try{for(var te,ne=t.data[Symbol.iterator]();!(J=(te=ne.next()).done);J=!0){var re=te.value,oe=f[re.uniqueSampleKey];oe&&(oe.vertValues=[].concat(re.value),oe.vertThresholdTypes=[].concat(re.thresholdType||""),oe.jitter=Object(m.e)(re.uniqueSampleKey),Z.push(oe))}}catch(e){$=!0,ee=e}finally{try{J||null==ne.return||ne.return()}finally{if($)throw ee}}for(var ie=[],ae=0,ue=Z;ae<ue.length;ae++)for(var le=ue[ae],se=0;se<le.horzValues.length;se++)for(var ce=le.horzValues[se],pe=0;pe<le.vertValues.length;pe++){var de=le.vertValues[pe];if(!Number.isNaN(ce)&&!Number.isNaN(de)){var fe=le.horzThresholdTypes[se],me=le.vertThresholdTypes[pe];ie.push(Object.assign({},le,{x:ce,xThresholdType:fe,category:ce,y:de,yThresholdType:me,value:de,thresholdType:me}))}}return ie}function Ve(e,t,n,r,o,i,a){var u=o?l.a.groupBy(o.data,function(e){return e.uniqueSampleKey}):{},s=i?l.a.groupBy(i.data,function(e){return e.uniqueSampleKey}):{},p={};a&&(p=a.clinicalAttribute.patientAttribute?l.a.keyBy(a.data,function(e){return e.uniquePatientKey}):l.a.keyBy(a.data,function(e){return e.uniqueSampleKey}));var d=[],f=!0,h=!1,y=void 0;try{for(var v,g=e.data[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var b=v.value,S=t[b.uniqueSampleKey],T=s[b.uniqueSampleKey],C=void 0,P=void 0,A=u[b.uniqueSampleKey];if(T&&T.length&&r&&(C=l()(T).filter(function(e){return e.entrezGeneId===r.entrezGeneId}).maxBy("value")),A&&A.length&&r){var I=l()(A).filter(function(e){return e.entrezGeneId===r.entrezGeneId}).groupBy(function(e){var t=Object(c.b)(e),n="fusion"!==t&&"promoter"!==t&&"other"!==t&&e.putativeDriver?".driver":"";return"".concat(t).concat(n)}).mapValues(function(e){return e.length}).value();P=Object(c.f)(I,he)}var E=n[b.uniqueSampleKey],O=void 0,_=void 0;if((o||i)&&r){var w=He(r.hugoGeneSymbol,E);if(o){O=!1;var k=!0,M=!1,G=void 0;try{for(var N,x=o.molecularProfileIds[Symbol.iterator]();!(k=(N=x.next()).done);k=!0){var R=N.value;O=O||!!w[R]}}catch(e){M=!0,G=e}finally{try{k||null==x.return||x.return()}finally{if(M)throw G}}}if(i){_=!1;var D=!0,j=!1,L=void 0;try{for(var B,F=i.molecularProfileIds[Symbol.iterator]();!(D=(B=F.next()).done);D=!0){var q=B.value;_=_||!!w[q]}}catch(e){j=!0,L=e}finally{try{D||null==F.return||F.return()}finally{if(j)throw L}}}}var U=void 0,V=void 0;(V=a&&a.clinicalAttribute.patientAttribute?p[t[b.uniqueSampleKey].uniquePatientKey]:p[b.uniqueSampleKey])&&(U=V.value),d.push({uniqueSampleKey:b.uniqueSampleKey,sampleId:S.sampleId,studyId:S.studyId,values:[].concat(b.value),thresholdTypes:[].concat(b.thresholdType||void 0),mutations:A||[],copyNumberAlterations:T||[],jitter:Object(m.e)(b.uniqueSampleKey),dispCna:C,dispMutationType:P,dispClinicalValue:U,profiledCna:_,profiledMutations:O})}}catch(e){h=!0,y=e}finally{try{f||null==g.return||g.return()}finally{if(h)throw y}}for(var z=[],H=0,K=d;H<K.length;H++)for(var W=K[H],Q=0;Q<W.values.length;Q++){var Y=W.values[Q];if(!Number.isNaN(Y)){var X=W.thresholdTypes[Q];z.push(Object.assign({},W,{value:Y,thresholdType:X,category:Y}))}}return z}function ze(e,t,n){var r={};if(e){var o=!0,i=!1,a=void 0;try{for(var u,l=(n.byGene[e]||[])[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){r[u.value.molecularProfileId]=!0}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}if(t){var s=!0,c=!1,p=void 0;try{for(var d,f=(n.byGene[t]||[])[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){r[d.value.molecularProfileId]=!0}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}}var h=!0,m=!1,y=void 0;try{for(var v,g=n.allGenes[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){r[v.value.molecularProfileId]=!0}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}return r}function He(e,t){var n={};if(e){var r=!0,o=!1,i=void 0;try{for(var a,u=(t.byGene[e]||[])[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n[a.value.molecularProfileId]=!0}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}var l=!0,s=!1,c=void 0;try{for(var p,d=t.allGenes[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){n[p.value.molecularProfileId]=!0}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}return n}function Ke(e){var t=[];return void 0!==e.selectedOption&&e.selectedOption.info.entrezGeneId!==o.d&&void 0!==e.selectedOption.info.entrezGeneId&&t.push({entrezGeneId:e.selectedOption.info.entrezGeneId}),l.a.uniqBy(t,"entrezGeneId")}function We(e){var t=[];return void 0!==e.selectedOption&&e.selectedOption.info.entrezGeneId!==o.d&&void 0!==e.selectedOption.info.entrezGeneId&&t.push({entrezGeneId:e.selectedOption.info.entrezGeneId}),l.a.uniqBy(t,"entrezGeneId")}function Qe(e,t){return void 0!==t.dataType&&!!t.isGenericAssayType&&e.dataType===o.e||void 0!==e.dataType&&!!e.isGenericAssayType&&t.dataType===o.e}function Ye(e,t){var n=[A,o.e],r=e.dataType||"",i=t.dataType||"";return(n.includes(r)||!!e.isGenericAssayType)&&(n.includes(i)||!!t.isGenericAssayType)}function Xe(e,t,n,r,o,i,a){var u=[],l=!0,s=!1,c=void 0;try{for(var p,d=e[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value,m=[];if(m.push(f.sampleId),m.push(h()(f.x).format("0[.][000000]")),m.push(h()(f.y).format("0[.][000000]")),o&&(f.mutations.length?m.push(Me(f.mutations,r).join("; ")):!1===f.profiledMutations?m.push("Not Profiled"):m.push("-")),i)if(f.dispCna){var y=ye[f.dispCna.value];m.push("".concat(f.dispCna.hugoGeneSymbol,": ").concat(y.legendLabel))}else!1===f.profiledCna?m.push("Not Profiled"):m.push("-");a&&m.push(f.dispClinicalValue||"-"),u.push(m.join("\t"))}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var v=["Sample Id",t,n];return o&&v.push("Mutations"),i&&v.push("Copy Number Alterations"),a&&v.push(a.displayName),v.join("\t")+"\n"+u.join("\n")}function Ze(e,t,n,r,o,i,a,u){var s=l.a.cloneDeep(e);s=l.a.sortBy(s,function(e){return e.value}),"DESC"===t&&(s=l.a.reverse(s));var c=[],p=!0,d=!1,f=void 0;try{for(var m,y=s[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var v=m.value,g=[];if(g.push(v.sampleId),g.push(h()(v.value).format("0[.][000000]")),g.push(h()(n).format("0[.][000000]")),g.push(t||""),i&&(v.mutations.length?g.push(Me(v.mutations,o).join("; ")):!1===v.profiledMutations?g.push("Not Profiled"):g.push("-")),a)if(v.dispCna){var b=ye[v.dispCna.value];g.push("".concat(v.dispCna.hugoGeneSymbol,": ").concat(b.legendLabel))}else!1===v.profiledCna?g.push("Not Profiled"):g.push("-");u&&g.push(v.dispClinicalValue||"-"),c.push(g.join("\t"))}}catch(e){d=!0,f=e}finally{try{p||null==y.return||y.return()}finally{if(d)throw f}}var S=["Sample Id","".concat(r),"pivot threshold","sort order"];return i&&S.push("Mutations"),a&&S.push("Copy Number Alterations"),u&&S.push(u.displayName),S.join("\t")+"\n"+c.join("\n")}function Je(e,t,n,r,o,i,a){var u=[],l=!0,s=!1,c=void 0;try{for(var p,d=e[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value,m=f.label,y=!0,v=!1,g=void 0;try{for(var b,S=f.data[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var T=b.value,C=[];if(C.push(T.sampleId),C.push(m),C.push(h()(T.value).format("0[.][000000]")),o&&(T.mutations.length?C.push(Me(T.mutations,r).join("; ")):!1===T.profiledMutations?C.push("Not Profiled"):C.push("-")),i)if(T.dispCna){var P=ye[T.dispCna.value];C.push("".concat(T.dispCna.hugoGeneSymbol,": ").concat(P.legendLabel))}else!1===T.profiledCna?C.push("Not Profiled"):C.push("-");a&&C.push(T.dispClinicalValue||"-"),u.push(C.join("\t"))}}catch(e){v=!0,g=e}finally{try{y||null==S.return||S.return()}finally{if(v)throw g}}}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var A=["Sample Id",t,n];return o&&A.push("Mutations"),i&&A.push("Copy Number Alterations"),a&&A.push(a.displayName),A.join("\t")+"\n"+u.join("\n")}function $e(e){var t=["number","string"],n=e.filter(function(e){return t.indexOf(e.datatype.toLowerCase())>-1});return l.a.sortBy(n.map(function(e){return{value:e.clinicalAttributeId,label:e.displayName,priority:parseFloat(e.priority||"-1")}}),[function(e){return-e.priority},function(e){return e.label}])}function et(e){var t,n,r;if(e.logScale)return void 0!==e.dataType&&e.isGenericAssayType?(t="log10",n=function(e,t){return t||(t=0),e+t===0?0:Math.log10(e+t)},r=function(e,t){return t||(t=0),Math.pow(10,e-t)}):(t="log2",n=function(e){return Math.log2(Math.max(e,.01))},r=function(e){return Math.pow(2,e)}),{label:t,fLogScale:n,fInvLogScale:r}}function tt(e){return!!z(e)&&l()(e.data).filter(function(e){return e.value<0}).size()>0}function nt(e){return l()(e).filter(function(e){return void 0!==e.thresholdType&&""!==e.thresholdType&&!Array.isArray(e.value)}).map(function(e){return"".concat(e.thresholdType).concat(e.value.toFixed(2))}).uniq().value()}},611:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var r="_mutations",o="".concat(r,"_uncalled"),i="Germline",a="Putative_Driver"},612:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(4);function o(e,t,n,r){return!!i(e,r,n)[t]}function i(e,t,n){var o=t.samples[e];if(!o)return{};var i=n?o.byGene[n]:r.flatten(r.values(o.byGene));if(!i&&0===o.allGenes.length)return{};var a={},u=!0,l=!1,s=void 0;try{for(var c,p=(i||[])[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){a[c.value.molecularProfileId]=!0}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}var d=!0,f=!1,h=void 0;try{for(var m,y=o.allGenes[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){a[m.value.molecularProfileId]=!0}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}return a}function a(e,t,n,r){var o=i(e,n,r);return t.map(function(e){return!!o[e]})}},614:function(e,t,n){"use strict";var r=n(0),o=n(9),i=n.n(o),a=n(7),u=n(2),l=n(3);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h,m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function y(e,t,n){return null!=e&&e.length>t+(n||0)}var v=h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,p(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=r.createElement("span",{style:{whiteSpace:"nowrap"},className:i()(this.props.className)},this.truncatedText);return this.needsTooltip&&(t=r.createElement(l.c,{overlay:function(){return e.props.tooltip||r.createElement("div",{style:{maxWidth:500}},e.props.text)},placement:"right",destroyTooltipOnHide:!0},t)),t}},{key:"needsTooltip",get:function(){return"never"!==this.props.addTooltip&&("always"===this.props.addTooltip||"truncated"===this.props.addTooltip&&this.isTooLong)}},{key:"isTooLong",get:function(){return y(this.props.text,this.props.maxLength||h.defaultProps.maxLength,this.props.buffer)}},{key:"truncatedText",get:function(){return e=this.props.text,t=this.props.suffix||h.defaultProps.suffix,n=this.props.maxLength||h.defaultProps.maxLength,r=this.props.buffer,y(e,n,r)?e.substring(0,n)+t:e;var e,t,n,r}}])&&s(n.prototype,o),a&&s(n,a),t}();v.defaultProps={maxLength:50,buffer:2,suffix:"...",addTooltip:"truncated"},m([u.computed],v.prototype,"needsTooltip",null),m([u.computed],v.prototype,"isTooLong",null),m([u.computed],v.prototype,"truncatedText",null),v=h=m([a.observer],v),t.a=v},615:function(e,t,n){"use strict";var r=n(2);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,u=0;return n=e instanceof Array?e:[e],Object(r.autorun)(function(e){n.reduce(function(e,t){return e&&t.isComplete},!0)&&(t.apply(void 0,o(n.map(function(e){return e.result}))),u+=1),u>=i&&(e.dispose(),a&&a())})}},616:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(66),o=n(631);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=Object.keys(e);return t.sort(),"{".concat(t.map(function(t){var n=e[t];if(a(n)===a({}))throw new Error("Warning: keys in cache may not be unique because query contains nested objects. Specify queryToKey init. param. to be safe.");return'"'.concat(t,'":"').concat(n,'"')}).join(","),"}")}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToMobxPromiseInput=t,this.queryToKey=n,this.cache={}}var t,n,a;return t=e,(n=[{key:"get",value:function(e){var t=this.queryToKey(e);return this.cache[t]||(this.cache[t]=new r.MobxPromise(this.queryToMobxPromiseInput(e))),this.cache[t]}},{key:"getAll",value:function(e){var t=this;return e.map(function(e){return t.get(e)})}},{key:"await",value:function(e,t){var n=e;return Object(o.a)(e.map(function(e){return e.isComplete}))&&(n=n.concat(this.getAll(t.apply(null,e.map(function(e){return e.result}))))),n}}])&&i(t.prototype,n),a&&i(t,a),e}()},619:function(e,t,n){"use strict";function r(e){return e.hasOwnProperty("sampleId")}function o(e){return!e.length||r(e[0])}var i=n(598),a=n(4),u=n.n(a),l=n(611),s=n(592),c=n(3);n.d(t,"b",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return C}),n.d(t,"c",function(){return I});var p={"-2":"homdel","-1":"hetloss",0:void 0,1:"gain",2:"amp"},d=Object(c.W)(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other"]),f={amp:0,homdel:0,gain:1,hetloss:1},h={high:0,low:0},m={high:0,low:0};function y(e){if("promoter"===(e.proteinChange||"").toLowerCase())return"promoter";var t=Object(i.c)(e.mutationType);switch(t){case"missense":case"inframe":case"fusion":case"other":return t;default:return"trunc"}}function v(e,t){var n=Object.keys(e).map(function(t){return{key:t,value:e[t]}});return n.length>0?(n.sort(function(e,n){var r=t[e.key]-t[n.key];return r<0?-1:r>0?1:e.value<n.value?1:e.value>n.value?-1:0}),n[0].key):void 0}function g(e,t,n){e.trackLabel=t,e.data=n;var r=!1,o={},i={},a={},u={},s={},c=new RegExp(l.c,"i"),g=!0,b=!1,S=void 0;try{for(var T,C=n[Symbol.iterator]();!(g=(T=C.next()).done);g=!0){var P=T.value;switch(P.molecularProfileAlterationType){case"COPY_NUMBER_ALTERATION":var A=p[P.value];A&&(o[A]=o[A]||0,o[A]+=1);break;case"MRNA_EXPRESSION":if(P.alterationSubType){var I=P.alterationSubType;i[I]=i[I]||0,i[I]+=1}break;case"PROTEIN_LEVEL":if(P.alterationSubType){var E=P.alterationSubType;a[E]=a[E]||0,a[E]+=1}break;case"MUTATION_EXTENDED":var O=y(P);"fusion"===O?r=!0:(P.putativeDriver&&(O+="_rec"),s[O]=s[O]||c.test(P.mutationStatus),u[O]=u[O]||0,u[O]+=1)}}}catch(e){b=!0,S=e}finally{try{g||null==C.return||C.return()}finally{if(b)throw S}}return r&&(e.disp_fusion=!0),e.disp_cna=v(o,f),e.disp_mrna=v(i,h),e.disp_prot=v(a,m),e.disp_mut=v(u,d),e.disp_germ=e.disp_mut?s[e.disp_mut]:void 0,e}function b(e,t,n,r,i){if(!n.length)return[];var a=t instanceof Array?t:[t],l=u.a.keyBy(i,function(e){return e.molecularProfileId}),s=[];if(o(n)){var c=!0,p=!1,d=void 0;try{for(var f,h=function(){var t=f.value,n={};n.sample=t.sampleId,n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniqueSampleKey;var o=r.samples[t.uniqueSampleKey];n.profiled_in=u.a.flatMap(a,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!l[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=u.a.flatMap(a,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!l[e.molecularProfileId]});var i=e[t.uniqueSampleKey];s.push(g(n,a.join(" / "),i))},m=n[Symbol.iterator]();!(c=(f=m.next()).done);c=!0)h()}catch(e){p=!0,d=e}finally{try{c||null==m.return||m.return()}finally{if(p)throw d}}}else{var y=!0,v=!1,b=void 0;try{for(var S,T=function(){var t=S.value,n={};n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniquePatientKey;var o=r.patients[t.uniquePatientKey];n.profiled_in=u.a.flatMap(a,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!l[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=u.a.flatMap(a,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!l[e.molecularProfileId]});var i=e[t.uniquePatientKey];s.push(g(n,a.join(" / "),i))},C=n[Symbol.iterator]();!(y=(S=C.next()).done);y=!0)T()}catch(e){v=!0,b=e}finally{try{y||null==C.return||C.return()}finally{if(v)throw b}}}return s}function S(e,t,n,o,i,a){e[t]=n,e.study_id=o.studyId;var l=u.a.filter(i,function(e){return!isNaN(e.value)});if(l&&l.length)if(1===l.length)e.profile_data=l[0].value,l[0].thresholdType&&(e.thresholdType=l[0].thresholdType,e.category=e.profile_data&&e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0);else{if(r(o))throw Error("Unexpectedly received multiple heatmap profile data for one sample");var s;switch(a){case"ASC":var c=u()(l).map(function(e){return e.value}).min();s=T(c,l,!1);break;case"DESC":s=T(c=u()(l).map(function(e){return e.value}).max(),l,!1);break;default:s=T(c=u.a.maxBy(l,function(e){return Math.abs(e.value)}).value,l,!0)}void 0===s&&(s=l[0]),e.profile_data=s.value,s.thresholdType&&(e.thresholdType=s.thresholdType,e.category=e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0)}else e.profile_data=null,e.na=!0;return e}function T(e,t,n){var r=n?function(t){return Math.abs(t.value)===e}:function(t){return t.value===e},o=u.a.filter(t,r),i=u.a.filter(o,function(e){return!e.thresholdType});return i.length>0?i[0]:o[0]}function C(e,t,n,r,i){if(!n.length)return[];var a,l;o(n);return o(n)?(a=u.a.groupBy(r,function(e){return e.uniqueSampleKey}),l=n.map(function(n){var r={};r.sample=n.sampleId,r.uid=n.uniqueSampleKey;var o=a[n.uniqueSampleKey];return S(r,e,t,n,o),r})):(a=u.a.groupBy(r,function(e){return e.uniquePatientKey}),l=n.map(function(n){var r={};r.patient=n.patientId,r.uid=n.uniquePatientKey;var o=a[n.uniquePatientKey];return S(r,e,t,n,o,i),r})),l}function P(e,t){"MUTATION_COUNT"===t.clinicalAttributeId?e.attr_val=0:e.na=!0}function A(e,t,n,r){if(e.attr_id=t.clinicalAttributeId,e.study_id=n.studyId,e.attr_val_counts={},r&&r.length){if("number"===t.datatype.toLowerCase()){var o=[],i=!0,a=!1,u=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value,d=parseFloat(p.value+"");isNaN(d)||o.push(d)}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}if(0===o.length)P(e,t);else{switch(t.clinicalAttributeId){case"MUTATION_COUNT":e.attr_val=o.reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY);break;default:e.attr_val=o.reduce(function(e,t){return e+t},0)/o.length}e.attr_val_counts[e.attr_val]=1}}else if("string"===t.datatype.toLowerCase()){var f=e.attr_val_counts,h=!0,m=!1,y=void 0;try{for(var v,g=r[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value;f[b.value]=f[b.value]||0,f[b.value]+=1}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}var S=Object.keys(f);S.length>1?e.attr_val="Mixed":e.attr_val=S[0]}else if(t.clinicalAttributeId===s.c.MutationSpectrum){var T=r,C=e.attr_val_counts;C["C>A"]=0,C["C>G"]=0,C["C>T"]=0,C["T>A"]=0,C["T>C"]=0,C["T>G"]=0;var A=!0,I=!1,E=void 0;try{for(var O,_=T[Symbol.iterator]();!(A=(O=_.next()).done);A=!0){var w=O.value;C["C>A"]+=w.CtoA,C["C>G"]+=w.CtoG,C["C>T"]+=w.CtoT,C["T>A"]+=w.TtoA,C["T>C"]+=w.TtoC,C["T>G"]+=w.TtoG}}catch(e){I=!0,E=e}finally{try{A||null==_.return||_.return()}finally{if(I)throw E}}0===C["C>A"]&&0===C["C>G"]&&0===C["C>T"]&&0===C["T>A"]&&0===C["T>C"]&&0===C["T>G"]&&P(e,t),e.attr_val=e.attr_val_counts}}else P(e,t);return e}function I(e,t,n){u.a.groupBy(n,o(t)?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey});var r=function(e,t,n){if(e.patientAttribute){var r=u.a.groupBy(n,function(e){return e.uniquePatientKey});return function(e){return r[e.uniquePatientKey]}}var o="sample"===t?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey},i=u.a.groupBy(n,o);return function(e){return i[o(e)]}}(e,o(t)?"sample":"patient",n);return o(t)?t.map(function(t){var n={};return n.uid=t.uniqueSampleKey,n.sample=t.sampleId,A(n,e,t,r(t)),n}):t.map(function(t){var n={};return n.uid=t.uniquePatientKey,n.patient=t.patientId,A(n,e,t,r(t)),n})}},620:function(e,t,n){"use strict";function r(e){var t,n=e.length;return e.reverse().map(function(e,r){if(t){var o=Math.min(t,e*n/(n-r));return t=o,o}return t=e,e}).reverse()}n.d(t,"a",function(){return r})},621:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(589);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,i;return t=e,i=[{key:"from",value:function(t){var n=new e,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n.add(l)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}],(n=[{key:"keys",value:function(){return this.map.entries().filter(function(e){return e.value}).map(function(e){return e.key})}},{key:"add",value:function(e){this.map.set(e,!0)}},{key:"delete",value:function(e){this.map.set(e,!1)}},{key:"has",value:function(e,t){return!!this.map.get(e,t)}},{key:"isEmpty",value:function(){return 0===this.keys().length}},{key:"clear",value:function(){this.map.clear()}}])&&o(t.prototype,n),i&&o(t,i),e}()},622:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s});var r=n(4),o=n(570),i="Coexpression data can be filtered by gene, or by cytoband. To exclude all genes from a cytoband, prefix with a dash -. For example, to exclude all genes on 1p, search '-1p'.";function a(e){return r.sortBy(e,function(e){return e.molecularProfileId.toLowerCase().indexOf("rna_seq")>-1?0:1})}function u(e){return a(e.filter(function(e){var t=!1;if(e.molecularAlterationType===o.a.MRNA_EXPRESSION||e.molecularAlterationType===o.a.PROTEIN_LEVEL){var n=e.molecularProfileId.toLowerCase();t=n.indexOf("merged_median_zscores")>-1||-1===n.indexOf("zscores")}return t}))}function l(e){return e.filter(function(e){var t=!1;e.molecularAlterationType===o.a.GENESET_SCORE&&(t=-1===e.molecularProfileId.toLowerCase().indexOf("gsva_pvalues"));return t})}function s(e,t){return e.map(function(e){var n=e.name;if(t){var r=t[e.molecularProfileId].length;n+=" (".concat(r," sample").concat(1!==r?"s":"",")")}return{label:n,value:e.molecularProfileId}})}},624:function(e,t,n){"use strict";var r,o=n(665),i=n(578),a=n(4),u=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s;!function(e){e.defaultGrayRectangle="defaultGrayRectangle",e.ampRectangle="ampRectangle",e.gainRectangle="gainRectangle",e.homdelRectangle="homdelRectangle",e.hetlossRectangle="hetlossRectangle",e.mrnaHighRectangle="mrnaHighRectangle",e.mrnaLowRectangle="mrnaLowRectangle",e.protHighRectangle="protHighRectangle",e.protLowRectangle="protLowRectangle",e.fusionRectangle="fusionRectangle",e.germlineRectangle="germlineRectangle",e.missenseMutationDriverRectangle="missenseMutationDriverRectangle",e.missenseMutationVUSRectangle="missenseMutationVUSRectangle",e.otherMutationRectangle="otherMutationRectangle",e.promoterMutationRectangle="promoterMutationRectangle",e.truncatingMutationDriverRectangle="truncatingMutationDriverRectangle",e.truncatingMutationVUSRectangle="truncatingMutationVUSRectangle",e.inframeMutationDriverRectangle="inframeMutationDriverRectangle",e.inframeMutationVUSRectangle="inframeMutationVUSRectangle"}(s||(s={}));var c=(l(r={},s.defaultGrayRectangle,{type:"rectangle",fill:i.e,z:1}),l(r,s.ampRectangle,{type:"rectangle",fill:i.a,x:0,y:0,width:100,height:100,z:2}),l(r,s.gainRectangle,{type:"rectangle",fill:i.b,x:0,y:0,width:100,height:100,z:2}),l(r,s.homdelRectangle,{type:"rectangle",fill:i.d,x:0,y:0,width:100,height:100,z:2}),l(r,s.hetlossRectangle,{type:"rectangle",fill:i.c,x:0,y:0,width:100,height:100,z:2}),l(r,s.mrnaHighRectangle,{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:i.j,"stroke-width":2,x:0,y:0,width:100,height:100,z:3}),l(r,s.mrnaLowRectangle,{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:i.k,"stroke-width":2,x:0,y:0,width:100,height:100,z:3}),l(r,s.protHighRectangle,{type:"rectangle",fill:i.v,x:0,y:0,width:100,height:20,z:4}),l(r,s.protLowRectangle,{type:"rectangle",fill:i.w,x:0,y:80,width:100,height:20,z:4}),l(r,s.fusionRectangle,{type:"rectangle",fill:i.l,x:0,y:20,width:100,height:60,z:5}),l(r,s.germlineRectangle,{type:"rectangle",fill:i.m,x:0,y:46,width:100,height:8,z:7}),l(r,s.missenseMutationDriverRectangle,{type:"rectangle",fill:i.p,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.missenseMutationVUSRectangle,{type:"rectangle",fill:i.q,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.otherMutationRectangle,{type:"rectangle",fill:i.r,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.promoterMutationRectangle,{type:"rectangle",fill:i.s,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.truncatingMutationDriverRectangle,{type:"rectangle",fill:i.t,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.truncatingMutationVUSRectangle,{type:"rectangle",fill:i.u,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.inframeMutationDriverRectangle,{type:"rectangle",fill:i.n,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,s.inframeMutationVUSRectangle,{type:"rectangle",fill:i.o,x:0,y:33.33,width:100,height:33.33,z:6}),r),p={always:{shapes:[c[s.defaultGrayRectangle]],legend_label:"No alterations",legend_order:Number.POSITIVE_INFINITY},conditional:{disp_cna:{amp:{shapes:[c[s.ampRectangle]],legend_label:"Amplification",legend_order:10},gain:{shapes:[c[s.gainRectangle]],legend_label:"Gain",legend_order:11},homdel:{shapes:[c[s.homdelRectangle]],legend_label:"Deep Deletion",legend_order:12},hetloss:{shapes:[c[s.hetlossRectangle]],legend_label:"Shallow Deletion",legend_order:13}},disp_mrna:{high:{shapes:[c[s.mrnaHighRectangle]],legend_label:"mRNA High",legend_order:20},low:{shapes:[c[s.mrnaLowRectangle]],legend_label:"mRNA Low",legend_order:21}},disp_prot:{high:{shapes:[c[s.protHighRectangle]],legend_label:"Protein High",legend_order:31},low:{shapes:[c[s.protLowRectangle]],legend_label:"Protein Low",legend_order:32}},disp_fusion:{true:{shapes:[c[s.fusionRectangle]],legend_label:"Fusion",legend_order:1}}}},d={disp_germ:{true:{shapes:[{type:"rectangle",fill:i.m,x:0,y:46,width:100,height:8,z:7}],legend_label:"Germline Mutation",legend_order:2}}},f={type:o.RuleSetType.GENE,legend_label:"Genetic Alteration",na_legend_label:"Not profiled",legend_base_color:i.e},h=u.a.assign({},f,{rule_params:{always:p.always,conditional:u.a.assign({},p.conditional,{disp_mut:{"trunc,inframe,missense,promoter,other,trunc_rec,inframe_rec,missense_rec,promoter_rec,other_rec":{shapes:[c[s.missenseMutationDriverRectangle]],legend_label:"Mutation",legend_order:0}}})}}),m=u.a.assign({},f,{rule_params:{always:p.always,conditional:u.a.assign({},p.conditional,{disp_mut:{"missense_rec,inframe_rec,trunc_rec,promoter_rec,other_rec":{shapes:[c[s.missenseMutationDriverRectangle]],legend_label:"Mutation (putative driver)",legend_order:0},"missense,inframe,trunc,promoter,other":{shapes:[c[s.missenseMutationVUSRectangle]],legend_label:"Mutation (unknown significance)",legend_order:0}}})}}),y=u.a.assign({},f,{rule_params:{always:p.always,conditional:u.a.assign({},p.conditional,{disp_mut:{"other,other_rec":{shapes:[c[s.otherMutationRectangle]],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[c[s.promoterMutationRectangle]],legend_label:"Promoter Mutation",legend_order:0},"trunc,trunc_rec":{shapes:[c[s.truncatingMutationDriverRectangle]],legend_label:"Truncating Mutation",legend_order:0},"inframe,inframe_rec":{shapes:[c[s.inframeMutationDriverRectangle]],legend_label:"Inframe Mutation",legend_order:0},"missense,missense_rec":{shapes:[c[s.missenseMutationDriverRectangle]],legend_label:"Missense Mutation",legend_order:0}}})}}),v=u.a.assign({},f,{rule_params:{always:p.always,conditional:u.a.assign({},p.conditional,{disp_mut:{"other,other_rec":{shapes:[c[s.otherMutationRectangle]],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[c[s.promoterMutationRectangle]],legend_label:"Promoter Mutation",legend_order:0},trunc_rec:{shapes:[c[s.truncatingMutationDriverRectangle]],legend_label:"Truncating Mutation (putative driver)",legend_order:0},trunc:{shapes:[c[s.truncatingMutationVUSRectangle]],legend_label:"Truncating Mutation (unknown significance)",legend_order:0},inframe_rec:{shapes:[c[s.inframeMutationDriverRectangle]],legend_label:"Inframe Mutation (putative driver)",legend_order:0},inframe:{shapes:[c[s.inframeMutationVUSRectangle]],legend_label:"Inframe Mutation (unknown significance)",legend_order:0},missense_rec:{shapes:[c[s.missenseMutationDriverRectangle]],legend_label:"Missense Mutation (putative driver)",legend_order:0},missense:{shapes:[c[s.missenseMutationVUSRectangle]],legend_label:"Missense Mutation (unknown significance)",legend_order:0}}})}}),g=n(570),b=n(3),S=n(619),T=n(2),C=n(588),P=n(592),A=n(604);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"h",function(){return M}),n.d(t,"f",function(){return G}),n.d(t,"g",function(){return N}),n.d(t,"e",function(){return x}),n.d(t,"p",function(){return R}),n.d(t,"a",function(){return L}),n.d(t,"d",function(){return F}),n.d(t,"c",function(){return q}),n.d(t,"i",function(){return U}),n.d(t,"n",function(){return z}),n.d(t,"j",function(){return H}),n.d(t,"o",function(){return K}),n.d(t,"k",function(){return W}),n.d(t,"l",function(){return Q}),n.d(t,"m",function(){return Y}),n.d(t,"b",function(){return X});var E=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function O(e,t,n,r){var o=this;return r.initIteration(t,n),function(){return E(o,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.next(t,5);case 2:n.t0=function(e){return{entrezGeneId:e.entrezGeneId,hugoGeneSymbol:e.hugoGeneSymbol,correlationValue:e.correlationValue,molecularProfileId:e.zScoreGeneticProfileId}},o=n.sent.map(n.t0),Object(T.runInAction)("genesetHeatmapExpansion",function(){var n=e.expansionsByGenesetHeatmapTrackKey.get(t)||[];e.expansionsByGenesetHeatmapTrackKey.set(t,n.concat(o))});case 5:case"end":return n.stop()}},n)}))}}function _(e,t,n,r,o){return Object(T.action)("genesetHeatmapUnexpansion",function(){var i=e.expansionsByGenesetHeatmapTrackKey.get(t);if(!i)throw new Error("Track '".concat(t,"' has no expansions to remove."));if(r===e.genesetHeatmapTrackGroup){var a=i.findIndex(function(e){return e.entrezGeneId===n});-1!==a&&(i.splice(a,1),i.length||o())}})}function w(e){return Object(C.f)(e)?"":e.oql_line.substring(e.gene.length).replace(";","")}function k(e){return Object(C.f)(e)?"[".concat(e.list.map(function(e){return e.oql_line}).join(" "),"]"):e.oql_line}function M(e){var t,n,r,i,a="",l="";switch(e.molecularAlterationType){case g.a.GENERIC_ASSAY:return function(e){var t,n,r,i,a;n="".concat(e.molecularProfileName);var l=e.data,s=e.pivotThreshold,c=e.sortOrder,p=[0,114,178,1],d=[204,236,255,1],f=["rgba(240,228,66,1)","rgba(0,158,115,1)","rgba(204,121,167,1)","rgba(0,0,0,1)"],h=e.maxProfileValue,m=e.minProfileValue;void 0!==s&&(h=Math.max(h,s),m=Math.min(m,s));var y=s&&(h===s||m===s),v=Math.max(0,h),g=Math.min(0,m);t=[g,v],void 0===s||y?(r=[p,d],i=[g,v]):(r=[p,d,[255,226,204,1],[213,94,0,1]],i=s<=g?[s-(v-s),s,s,v]:s>=v?[g,s,s,s+(s-g)]:[g,s,s,v]);"DESC"===c&&(t=u.a.reverse(t),i=u.a.reverse(i));var b=0;return u()(l).filter(function(e){return!!e.category}).map(function(e){return e.category}).uniq().value().forEach(function(e){void 0===a&&(a={}),a[e]=f[b++],b===f.length&&(b=0)}),{type:o.RuleSetType.GRADIENT_AND_CATEGORICAL,legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:i,null_color:"rgba(224,224,224,1)",category_key:"category",category_to_color:a}}(e);case g.a.METHYLATION:t=[0,1],n="Methylation Heatmap",i=[0,.35,1],r=[[0,0,255,1],[255,255,255,1],[255,0,0,1]];break;case g.a.MUTATION_EXTENDED:t=[0,1],n="VAF Heatmap",a="Not mutated/no VAF data",l="Not sequenced",i=[0,1],r=[[241,242,181,1],[19,80,88,1]];break;default:t=[-3,3],n="Expression Heatmap",i=[-3,0,3],r=[[0,0,255,1],[0,0,0,1],[255,0,0,1]]}return{type:o.RuleSetType.GRADIENT,legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:i,null_color:"rgba(224,224,224,1)",null_legend_label:a,na_legend_label:l,na_shapes:e.customNaShapes}}function G(){return{type:o.RuleSetType.GRADIENT,legend_label:"Gene Set Heatmap",value_key:"profile_data",value_range:[-1,1],colors:[[39,100,25,1],[77,146,33,1],[127,188,65,1],[184,225,134,1],[230,245,208,1],[247,247,247,1],[253,224,239,1],[241,182,218,1],[222,119,174,1],[197,27,125,1],[142,1,82,1]],value_stop_points:[-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1],null_color:"rgba(224,224,224,1)"}}function N(e,t,n){var r;return r=e||t?!e&&t?m:e&&!t?y:v:h,r=u.a.cloneDeep(r),n&&Object.assign(r.rule_params.conditional,d),r}function x(e){var t;switch(e.datatype){case"number":t={type:o.RuleSetType.BAR,value_key:"attr_val",value_range:e.numberRange,log_scale:e.numberLogScale};break;case"counts":t={type:o.RuleSetType.STACKED_BAR,value_key:"attr_val",categories:e.countsCategoryLabels,fills:e.countsCategoryFills};break;case"string":default:t={type:o.RuleSetType.CATEGORICAL,category_key:"attr_val",category_to_color:Object.assign({},e.category_to_color,i.x)}}return t}function R(e,t){if(0===t)return"N/P";var n,r=e/t,o=100*r;return r<.03?"0"===(n=o.toFixed(1))[n.length-1]&&(n=o.toFixed()):n=o.toFixed(),n+"%"}function D(e,t,n,r){var o=t instanceof Array?t:[t.gene];return e?u.a.uniq(u.a.flatMap(o,function(e){return n[e]})).length:u.a.uniq(u.a.flatMap(o,function(e){return r[e]})).length}function j(e,t,n,r){var o=D(e,t.oql,n,r),i=u.a.sumBy(t.trackData,function(e){return+B(e)});return{sequenced:o,altered:i,percent:R(i,o)}}function L(e,t,n,r){var o=D(e,t.oql,n,r),i=e?Object.keys(t.cases.samples).filter(function(e){return!!t.cases.samples[e].length}).length:Object.keys(t.cases.patients).filter(function(e){return!!t.cases.patients[e].length}).length;return{sequenced:o,altered:i,percent:R(i,o)}}function B(e){return e.data.length>0}function F(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=!0,s=!1,c=void 0;try{for(var p,d=u.data[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;B(f)&&(t[f.uid]=!0)}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Object.keys(t)}function q(e,t,n,r,o,i,a,u,l){var s=a.oql,c=Object(C.f)(s)?s.list.map(function(e){return e.gene}):[s.gene],p=a.cases,d=j(!1,{trackData:Object(S.d)(p.patients,c,t,n,i),oql:c},r,o);return u||!l.map(function(e){return e.hugoGeneSymbol}).includes(s.gene)?{gene:s.gene,altered:d.altered,sequenced:d.sequenced,percentAltered:d.percent}:void 0}function U(e){var t=u.a.chain(e).map(function(e){return e.data.map(function(e){return e.uid})}).flatten().uniq().value();return u.a.difference(t,F(e))}function V(e){var t=e.sampleMode,n=e.oncoprint,r=e.samples,o=e.patients,i=e.coverageInformation,a=e.sequencedSampleKeysByGene,l=e.sequencedPatientKeysByGene,s=e.selectedMolecularProfiles,c=e.expansionIndexMap;return function e(p,d,f){var h=p.oql,m=Object(C.f)(h)?h.list.map(function(e){return e.gene}):[h.gene],y=p.cases,v=t?Object(S.d)(y.samples,m,r,i,s):Object(S.d)(y.patients,m,o,i,s),g=j(t,{trackData:v,oql:m},a,l),b=void 0===f?"GENETICTRACK_".concat(d):"".concat(f,"_EXPANSION_").concat(d),T=Object(C.f)(h)?function(){c.set(b,u.a.range(h.list.length))}:void 0,P=void 0!==f?function(){c.get(f).remove(d)}:void 0,A=[];if(p.mergedTrackOqlList){var I=p.mergedTrackOqlList;A=(c.get(b)||[]).map(function(t){return e(I[t],t,b)})}var E,O=g.percent,_=void 0;return 0!==g.sequenced&&(_="altered / profiled = ".concat(g.altered," / ").concat(g.sequenced)),g.sequenced>0&&g.sequenced<(t?r:o).length&&(O="".concat(O,"*")),{key:b,label:(void 0!==f?"  ":"")+(E=h,Object(C.f)(E)?E.label||E.list.map(function(e){return e.gene}).join(" / "):E.gene),sublabel:w(h),labelColor:void 0!==f?"grey":void 0,oql:k(h),info:O,infoTooltip:_,data:v,expansionCallback:T,removeCallback:P,expansionTrackList:A.length?A:void 0,customOptions:[{separator:!0},{label:"Sort by genes",onClick:n.clearSortDirectionsAndSortByData}]}}}function z(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,e.props.store.coverageInformation,e.props.store.sequencedSampleKeysByGene,e.props.store.sequencedPatientKeysByGene,e.props.store.selectedMolecularProfiles]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=V({sampleMode:t,oncoprint:e,samples:e.props.store.samples.result,patients:e.props.store.patients.result,coverageInformation:e.props.store.coverageInformation.result,sequencedSampleKeysByGene:e.props.store.sequencedSampleKeysByGene.result,sequencedPatientKeysByGene:e.props.store.sequencedPatientKeysByGene.result,selectedMolecularProfiles:e.props.store.selectedMolecularProfiles.result,expansionIndexMap:e.expansionsByGeneticTrackKey}),n.abrupt("return",e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.map(function(e,t){return r(e,t,void 0)}));case 2:case"end":return n.stop()}},n)}))},default:[]})}function H(e,t){var n=this;return Object(b.S)({await:function(){var t=[e.props.store.samples,e.props.store.patients,e.props.store.clinicalAttributeIdToClinicalAttribute,e.alteredKeys];if(e.props.store.clinicalAttributeIdToClinicalAttribute.isComplete){var n=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e});t=t.concat(e.props.store.clinicalDataCache.getAll(n))}return t},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.selectedClinicalAttributeIds.keys().length){n.next=2;break}return n.abrupt("return",[]);case 2:return r=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e}),n.abrupt("return",r.map(function(n){var r=e.props.store.clinicalDataCache.get(n).result,o=void 0;e.onlyShowClinicalLegendForAlteredCases&&(o=e.alteredKeys.result);var i={key:e.clinicalAttributeIdToTrackKey(n.clinicalAttributeId),attributeId:n.clinicalAttributeId,label:n.displayName,description:n.description,data:Object(S.c)(n,t?e.props.store.samples.result:e.props.store.patients.result,r.data),altered_uids:o};return Object(P.f)(n)&&(i.na_tooltip_value="No",i.na_legend_label="No"),"NUMBER"===n.datatype?(i.datatype="number","FRACTION_GENOME_ALTERED"===n.clinicalAttributeId?i.numberRange=[0,1]:"MUTATION_COUNT"===n.clinicalAttributeId?i.numberLogScale=!0:n.clinicalAttributeId===P.c.NumSamplesPerPatient&&(i.numberRange=[0,void 0],i.custom_options=t?[{label:"Show one column per patient.",onClick:function(){return e.controlsHandlers.onSelectColumnType("patient")}}]:[{label:"Show one column per sample.",onClick:function(){return e.controlsHandlers.onSelectColumnType("sample")}}])):"STRING"===n.datatype?(i.datatype="string",i.category_to_color=r.categoryToColor):n.clinicalAttributeId===P.c.MutationSpectrum&&(i.datatype="counts",i.countsCategoryLabels=P.a,i.countsCategoryFills=P.b),i}));case 4:case"end":return n.stop()}},n)}))},default:[]})}function K(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,l,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,i=u.a.filter(u.a.values(o),function(e){return e.molecularAlterationType!==g.a.GENERIC_ASSAY}),a=u.a.flatten(i.map(function(e){return u.a.keys(e.entities)})),n.next=6,e.props.store.geneCache.getPromise(a.map(function(e){return{hugoGeneSymbol:e}}),!0);case 6:return l=u.a.flatten(i.map(function(t){return u.a.keys(t.entities).map(function(n){return{molecularProfileId:t.molecularProfileId,entrezGeneId:e.props.store.geneCache.get({hugoGeneSymbol:n}).data.entrezGeneId,hugoGeneSymbol:n.toUpperCase()}})})),n.next=9,e.props.store.geneMolecularDataCache.result.getPromise(l,!0);case 9:return s=e.props.store.samples.result,c=e.props.store.patients.result,n.abrupt("return",l.map(function(n){var i=n.molecularProfileId,a=n.hugoGeneSymbol,l=e.props.store.geneMolecularDataCache.result.get(n).data;return{key:"HEATMAPTRACK_".concat(i,",").concat(a),label:a,molecularProfileId:i,molecularAlterationType:r[i].molecularAlterationType,datatype:r[i].datatype,data:Object(S.e)("hugo_gene_symbol",a,t?s:c,l),trackGroupIndex:o[i].trackGroupIndex,onClickRemoveInTrackMenu:Object(T.action)(function(){var t=e.molecularProfileIdToHeatmapTracks[i];if(t){var n=u.a.keys(t.entities).filter(function(e){return e!==a});0===n.length?e.removeHeatmapByMolecularProfileId(i):e.addHeatmapTracks(i,n)}void 0===t&&"heatmap"===e.sortMode.type&&e.sortMode.clusteredHeatmapProfile===i&&e.sortByData()})}}));case 12:case"end":return n.stop()}},n)}))},default:[]})}function W(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.genericAssayMolecularDataCache,e.props.store.genericAssayEntitiesGroupByGenericAssayTypeLinkMap,e.props.store.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,l,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,i=u.a.filter(o,function(e){return e.molecularAlterationType===g.a.GENERIC_ASSAY}),a=u.a.flatten(i.map(function(t){var n=r[t.molecularProfileId].genericAssayType,o=u.a.keyBy(e.props.store.genericAssayEntitiesGroupByGenericAssayType.result[n],function(e){return e.stableId});return u.a.keys(t.entities).map(function(e){var n=o[e];return{molecularProfileId:t.molecularProfileId,stableId:e,entityName:"NAME"in n.genericEntityMetaProperties?n.genericEntityMetaProperties.NAME:A.a}})})),n.next=6,e.props.store.genericAssayMolecularDataCache.result.getPromise(a.map(function(e){return{molecularProfileId:e.molecularProfileId,stableId:e.stableId}}),!0);case 6:return l=e.props.store.samples.result,s=e.props.store.patients.result,c=a.map(function(n){var i=n.molecularProfileId,a=r[i],c=e.props.store.genericAssayMolecularDataCache.result,p=n.stableId,d=a.pivotThreshold,f=a.sortOrder,h=e.props.store.genericAssayEntitiesGroupByGenericAssayTypeLinkMap.result[a.genericAssayType];return{key:"GENERICASSAYHEATMAPTRACK_".concat(i,",").concat(p),label:n.entityName,molecularProfileId:n.molecularProfileId,molecularProfileName:r[i].name,molecularAlterationType:r[i].molecularAlterationType,datatype:r[i].datatype,data:Object(S.e)("entityId",p,t?l:s,c.get(n).data.map(function(e){return Object.assign(Object.assign({},e),{value:parseFloat(e.value)})}),f),pivotThreshold:d,sortOrder:f,trackLinkUrl:h[p],trackGroupIndex:o[i].trackGroupIndex,onClickRemoveInTrackMenu:Object(T.action)(function(){var t=e.molecularProfileIdToHeatmapTracks[i];if(t){var n=u.a.keys(t.entities).filter(function(e){return e!==p});e.addHeatmapTracks(i,n)}void 0===t&&"heatmap"===e.sortMode.type&&e.sortMode.clusteredHeatmapProfile===i&&e.sortByData()})}}),n.abrupt("return",c);case 10:case"end":return n.stop()}},n)}))},default:[]})}function Q(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache,e.props.store.genesetCorrelatedGeneCache]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,l,s,c,p,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.samples.result,o=e.props.store.patients.result,i=e.props.store.molecularProfileIdToMolecularProfile.result,a=e.props.store.geneMolecularDataCache.result,l=e.props.store.genesetCorrelatedGeneCache.result,s=e.genesetHeatmapTrackGroup,c=e.expansionsByGenesetHeatmapTrackKey,p=u.a.flatten(c.values().map(function(e){return e.slice()})).map(function(e){return{entrezGeneId:e.entrezGeneId,molecularProfileId:e.molecularProfileId}}),n.next=10,a.getPromise(p,!0);case 10:return d={},c.entries().forEach(function(n){var u=I(n,2),c=u[0],p=u[1];d[c]=p.map(function(n){var u=n.entrezGeneId,p=n.hugoGeneSymbol,d=n.molecularProfileId,f=n.correlationValue,h=a.get({entrezGeneId:u,molecularProfileId:d}).data,m=i[d];return{key:"EXPANSIONTRACK_".concat(c,",").concat(p,",GROUP").concat(s),label:"  "+p,labelColor:"grey",info:f.toFixed(2),molecularProfileId:d,molecularAlterationType:m.molecularAlterationType,datatype:m.datatype,data:Object(S.e)("hugo_gene_symbol",p,t?r:o,h),trackGroupIndex:s,onRemove:_(e,c,u,s,l.reset.bind(l,c))}})}),n.abrupt("return",d);case 13:case"end":return n.stop()}},n)}))},default:{}})}function Y(e,t,n){var r=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.genesetMolecularProfile,e.props.store.genesetMolecularDataCache,e.props.store.genesetLinkMap,e.props.store.genesetCorrelatedGeneCache,n]},invoke:function(){return E(r,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,a,u,l,s,c,p,d,f,h;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.props.store.samples.result,i=e.props.store.patients.result,a=e.props.store.genesetMolecularProfile.result,u=e.props.store.genesetMolecularDataCache.result,l=e.props.store.genesetLinkMap.result,s=e.props.store.genesetCorrelatedGeneCache.result,c=n.result,p=e.genesetHeatmapTrackGroup,a.isApplicable){r.next=10;break}return r.abrupt("return",[]);case 10:return d=a.value.molecularProfileId,f=e.props.store.genesetIds,h=f.map(function(e){return{molecularProfileId:d,genesetId:e}}),r.next=15,u.getPromise(h,!0);case 15:return r.abrupt("return",f.map(function(n){var r="GENESETHEATMAPTRACK_".concat(d,",").concat(n);return{key:"GENESETHEATMAPTRACK_".concat(d,",").concat(n,",GROUP").concat(p),label:n,molecularProfileId:d,molecularAlterationType:a.value.molecularAlterationType,datatype:a.value.datatype,trackLinkUrl:l[n],data:Object(S.e)("geneset_id",n,t?o:i,u.get({molecularProfileId:d,genesetId:n}).data.map(function(e){return Object.assign(Object.assign({},e),{value:parseFloat(e.value)})})),trackGroupIndex:p,expansionCallback:O(e,r,{molecularProfileId:d,genesetId:n},s),expansionTrackList:c[r]}}));case 16:case"end":return r.stop()}},r)}))},default:[]})}function X(e,t,n){var r=function(e){return e=e.replace(/[,\s\n]+/g," ").trim(),u.a.uniq(e.split(/[,\s\n]+/))}(e),o=[];return u.a.each(r,function(e){e in n&&(o.push(e),t.includes(e)||t.push(e))}),o.length>0&&u.a.each(o,function(t){e=e.replace(t,"")}),e.trim().replace("\t+","\t").replace(" +"," ")}},625:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d});var r=n(4),o=n(678),i=["5xzc"];function a(e,t){var n={pdbInfo:e.title};return r.find(e.compound,function(e){if(e.molecule&&-1!==r.indexOf(e.chain,t.toLowerCase()))return n.moleculeInfo=e.molecule,e}),n}function u(e){return function(e){var t={};return e.forEach(function(e){t[e.pdbId]||(t[e.pdbId]={}),t[e.pdbId][e.chain]||(t[e.pdbId][e.chain]=[]),t[e.pdbId][e.chain].push(e)}),t}(e)}function l(e){var t=[];return r.each(e,function(e){r.each(e,function(e){var n=function(e){var t,n="";if(!(e.length>0))return;t=e[0].seqFrom;return e.forEach(function(e){var r=function(e){var t,n=e.midlineAlign,r=e.seqAlign,o=e.pdbAlign;if(n.length===r.length&&n.length===o.length){for(var i=[],a=0;a<n.length;a++)"-"!==r[a]&&("-"===o[a]?i.push("-"):i.push(n[a]));t=i.join("")}return t}(e)||"",o=Math.abs(e.seqFrom-t);if(e.seqFrom<t){var i=Math.abs(r.length-o);n=r.length>=o?r+n.substr(i):r+s(i)+n}else if(e.seqFrom>=t){var a=Math.abs(n.length-o);n=n.length>=o?n.substr(0,n.length-a)+r+n.substr(n.length-a+r.length):n+s(a)+r}t=Math.min(t,e.seqFrom)}),{pdbId:e[0].pdbId,chain:e[0].chain,uniprotStart:t,uniprotEnd:t+n.length-1,alignment:n,identityPerc:c(n),identity:p(n)}}(e);n&&t.push(n)})}),t}function s(e){for(var t=[],n=0;n<e;n++)t.push(o.a);return t.join("")}function c(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=e[r];i===o.a?t++:i!==o.b&&i!==o.c&&i!==o.d||n++}return 1-n/(e.length-t)}function p(e){e=e.toLowerCase();for(var t=0,n=0;n<e.length;n++)e[n].match(/[a-z]/)&&t++;return t}function d(e,t){for(var n=[0,0,0,0],r=t?-1:1,o=0;o<e.length||o<5;o++)n.push(r*e.charCodeAt(o));return n}},627:function(e,t,n){"use strict";var r=n(14),o=n(15),i=n(2);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=t,Object(i.runInAction)(function(){n._status="pending",t.then(Object(i.action)(function(e){n._status="complete",n._result=e}),Object(i.action)(function(e){n._status="error",n._error=e}))})}var t,n,r;return t=e,(n=[{key:"status",get:function(){return this._status}},{key:"result",get:function(){return this._result}},{key:"error",get:function(){return this._error}},{key:"promise",get:function(){return this._promise}}])&&a(t.prototype,n),r&&a(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}l([i.observable],s.prototype,"_status",void 0),l([i.observable],s.prototype,"_result",void 0),l([i.observable],s.prototype,"_error",void 0),l([i.computed],s.prototype,"status",null),l([i.computed],s.prototype,"result",null),l([i.computed],s.prototype,"error",null),l([i.computed],s.prototype,"promise",null);var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pendingDeletions=[]}var t,n,i;return t=e,(n=[{key:"getPendingDeletions",value:function(){return this._pendingDeletions=this._pendingDeletions.filter(function(e){return"pending"!==e.status}),this._pendingDeletions.map(function(e){return e.promise})}},{key:"addGroup",value:function(e){return r.post(Object(o.e)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"updateGroup",value:function(e,t){return r.post("".concat(Object(o.e)(),"/").concat(e)).send(t)}},{key:"getGroup",value:function(e){return r.get("".concat(Object(o.e)(),"/").concat(e)).then(function(e){return e.body})}},{key:"getGroupsForStudies",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.getPendingDeletions());case 2:return t.abrupt("return",r.post(Object(o.c)()).send(e).then(function(e){return e.body}));case 3:case"end":return t.stop()}},t,this)}))}},{key:"deleteGroup",value:function(e){var t=r.get("".concat(Object(o.e)(),"/delete/").concat(e)).then(function(){});return this._pendingDeletions.push(new s(t)),t}},{key:"addComparisonSession",value:function(e){return r.post(Object(o.g)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"getComparisonSession",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("".concat(Object(o.g)(),"/").concat(e)).then(function(e){return e.body});case 2:return n=t.sent,t.abrupt("return",Object.assign(n.data,{id:n.id}));case 4:case"end":return t.stop()}},t)}))}}])&&c(t.prototype,n),i&&c(t,i),e}());t.a=d},628:function(e,t,n){"use strict";var r;function o(e){return r[e]||""}n.d(t,"a",function(){return o}),function(e){e[e.Deletion=-2]="Deletion",e[e.Loss=-1]="Loss",e[e.Gain=1]="Gain",e[e.Amplification=2]="Amplification"}(r||(r={}))},630:function(e,t,n){"use strict";n.d(t,"a",function(){return I}),n.d(t,"b",function(){return _});var r=n(577),o=n(185),i=n(3),a=n(2),u=n(178),l=n(627),s=n(4),c=n.n(s),p=n(600),d=n(585),f=n(103),h=n(8),m=n(705),y=n(574),v=n(620),g=n(589),b=n(657),S=n(572),T=n(601),C=n(615);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I,E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.INCLUDE="Include",e.EXCLUDE="Exclude"}(I||(I={}));var _=function(){function e(t,n){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=t,this.resultsViewStore=n,this.tabHasBeenShown=a.observable.map(),this.newSessionPending=!1,this.origin=Object(i.S)({await:function(){return[s._session]},invoke:function(){return Promise.resolve(s._session.result.origin)}}),this.existingGroupNames=Object(i.S)({await:function(){return[s._originalGroups,s.origin]},invoke:function(){return O(s,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={session:this._originalGroups.result.map(function(e){return e.name}),user:[]},!this.isLoggedIn){e.next=6;break}return e.next=4,l.a.getGroupsForStudies(this.origin.result);case 4:e.t0=function(e){return e.data.name},t.user=e.sent.map(e.t0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))}}),this.overlapComputations=Object(i.S)({await:function(){return[s._originalGroups]},invoke:function(){return Promise.resolve(Object(r.u)(s._originalGroups.result,s.isGroupSelected))}}),this.availableGroups=Object(i.S)({await:function(){return[s._originalGroups,s._originalGroupsOverlapRemoved]},invoke:function(){var e;switch(s.overlapStrategy){case I.INCLUDE:e=s._originalGroups.result;break;case I.EXCLUDE:default:e=s._originalGroupsOverlapRemoved.result}return Promise.resolve(e)}}),this.activeGroups=Object(i.S)({await:function(){return[s.availableGroups]},invoke:function(){return Promise.resolve(s.availableGroups.result.filter(function(e){return s.isGroupSelected(e.name)&&!Object(r.B)(e)}))}}),this.enrichmentAnalysisGroups=Object(i.S)({await:function(){return[s.activeGroups,s.sampleSet]},invoke:function(){var e=s.sampleSet.result||new g.a,t=s.activeGroups.result.map(function(t){var n=[];return t.studies.forEach(function(t){var r=t.id;t.samples.forEach(function(t){if(e.has({studyId:r,sampleId:t})){var o=e.get({studyId:r,sampleId:t});n.push(o)}})}),{name:t.nameWithOrdinal,description:"",count:Object(r.s)(t),color:t.color,samples:n,nameOfEnrichmentDirection:t.nameOfEnrichmentDirection}});return Promise.resolve(t)}}),this._originalGroupsOverlapRemoved=Object(i.S)({await:function(){return[s.overlapComputations,s._originalGroups]},invoke:function(){return Promise.resolve(s.overlapComputations.result.groups)}}),this._activeGroupsOverlapRemoved=Object(i.S)({await:function(){return[s._originalGroupsOverlapRemoved]},invoke:function(){return Promise.resolve(s._originalGroupsOverlapRemoved.result.filter(function(e){return s.isGroupSelected(e.name)&&!Object(r.B)(e)}))}}),this._activeGroupsNotOverlapRemoved=Object(i.S)({await:function(){return[s._originalGroups,s.overlapComputations]},invoke:function(){var e=s.overlapComputations.result.excludedFromAnalysis;return s.overlapStrategy===I.INCLUDE&&(e={}),Promise.resolve(s._originalGroups.result.filter(function(t){return s.isGroupSelected(t.name)&&!(t.uid in e)}))}}),this._selectedGroups=Object(i.S)({await:function(){return[s._originalGroups]},invoke:function(){return Promise.resolve(s._originalGroups.result.filter(function(e){return s.isGroupSelected(e.name)}))}}),this.activeSamplesNotOverlapRemoved=Object(i.S)({await:function(){return[s.sampleSet,s._activeGroupsNotOverlapRemoved]},invoke:function(){var e=Object(r.w)(s._activeGroupsNotOverlapRemoved.result),t=s.sampleSet.result;return Promise.resolve(e.map(function(e){return t.get(e)}))}}),this.activePatientKeysNotOverlapRemoved=Object(i.S)({await:function(){return[s.activeSamplesNotOverlapRemoved]},invoke:function(){return Promise.resolve(c.a.uniq(s.activeSamplesNotOverlapRemoved.result.map(function(e){return e.uniquePatientKey})))}}),this.activeStudyIds=Object(i.S)({await:function(){return[s.activeGroups]},invoke:function(){return Promise.resolve(Object(r.x)(s.activeGroups.result))}}),this.molecularProfilesInActiveStudies=Object(i.S)({await:function(){return[s.activeStudyIds]},invoke:function(){return O(s,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.activeStudyIds.result.length>0)){e.next=4;break}return e.abrupt("return",u.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.activeStudyIds.result}}));case 4:return e.abrupt("return",Promise.resolve([]));case 5:case"end":return e.stop()}},e,this)}))}},[]),this.referenceGenes=Object(i.S)({await:function(){return[s.studies]},invoke:function(){return s.studies.result.length>0?Object(S.e)(s.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(i.S)({await:function(){return[s.referenceGenes]},invoke:function(){return Promise.resolve(c.a.keyBy(s.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.mutationEnrichmentProfiles=Object(i.S)({await:function(){return[s.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.q)(s.molecularProfilesInActiveStudies.result))}}),this.copyNumberEnrichmentProfiles=Object(i.S)({await:function(){return[s.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.o)(s.molecularProfilesInActiveStudies.result))}}),this.mRNAEnrichmentProfiles=Object(i.S)({await:function(){return[s.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.p)(s.molecularProfilesInActiveStudies.result))}}),this.proteinEnrichmentProfiles=Object(i.S)({await:function(){return[s.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.r)(s.molecularProfilesInActiveStudies.result))}}),this._mutationEnrichmentProfileMap={},this._copyNumberEnrichmentProfileMap={},this._mRNAEnrichmentProfileMap={},this._proteinEnrichmentProfileMap={},this.selectedStudyMutationEnrichmentProfileMap=Object(i.S)({await:function(){return[s.mutationEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(s._mutationEnrichmentProfileMap)){var e=c.a.groupBy(s.mutationEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(s._mutationEnrichmentProfileMap)}}),this.selectedStudyCopyNumberEnrichmentProfileMap=Object(i.S)({await:function(){return[s.copyNumberEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(s._copyNumberEnrichmentProfileMap)){var e=c.a.groupBy(s.copyNumberEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(s._copyNumberEnrichmentProfileMap)}}),this.selectedmRNAEnrichmentProfileMap=Object(i.S)({await:function(){return[s.mRNAEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(s._mRNAEnrichmentProfileMap)){var e=c.a.groupBy(s.mRNAEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(s._mRNAEnrichmentProfileMap)}}),this.selectedProteinEnrichmentProfileMap=Object(i.S)({await:function(){return[s.proteinEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(s._proteinEnrichmentProfileMap)){var e=c.a.groupBy(s.proteinEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(s._proteinEnrichmentProfileMap)}}),this.mutationEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[s.enrichmentAnalysisGroups,s.selectedStudyMutationEnrichmentProfileMap]},invoke:function(){return Promise.resolve(s.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==s.selectedStudyMutationEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"Number (percentage) of ".concat(s.usePatientLevelEnrichments?"patients":"samples"," in ").concat(t.name," that have a mutation in the listed gene.")})),e},[]))}}),this.mutationEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[s.mutationEnrichmentAnalysisGroups,s.selectedStudyMutationEnrichmentProfileMap]},invoke:function(){return Promise.resolve(s.mutationEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:s.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:s.selectedStudyMutationEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.mutationEnrichmentData=Object(d.x)({storeForExcludingQueryGenes:this.resultsViewStore,await:function(){return[s.mutationEnrichmentDataRequestGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return s.selectedStudyMutationEnrichmentProfileMap.result},fetchData:function(){return s.mutationEnrichmentDataRequestGroups.result&&s.mutationEnrichmentDataRequestGroups.result.length>1?f.a.fetchMutationEnrichmentsUsingPOST({enrichmentType:s.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:s.mutationEnrichmentDataRequestGroups.result}):Promise.resolve([])}}),this.copyNumberEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[s.selectedStudyCopyNumberEnrichmentProfileMap,s.enrichmentAnalysisGroups]},invoke:function(){return Promise.resolve(s.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==s.selectedStudyCopyNumberEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"Number (percentage) of ".concat(s.usePatientLevelEnrichments?"patients":"samples"," in ").concat(t.name," that have the listed alteration in the listed gene.")})),e},[]))}}),this.copyNumberEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[s.copyNumberEnrichmentAnalysisGroups,s.selectedStudyCopyNumberEnrichmentProfileMap]},invoke:function(){return Promise.resolve(s.copyNumberEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:s.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:s.selectedStudyCopyNumberEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.copyNumberHomdelEnrichmentData=Object(i.S)({await:function(){return[s.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return s.copyNumberEnrichmentDataRequestGroups.result&&s.copyNumberEnrichmentDataRequestGroups.result.length>1?s.getCopyNumberEnrichmentData(s.copyNumberEnrichmentDataRequestGroups.result,"HOMDEL"):Promise.resolve([])}}),this.copyNumberAmpEnrichmentData=Object(i.S)({await:function(){return[s.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return s.copyNumberEnrichmentDataRequestGroups.result&&s.copyNumberEnrichmentDataRequestGroups.result.length>1?s.getCopyNumberEnrichmentData(s.copyNumberEnrichmentDataRequestGroups.result,"AMP"):Promise.resolve([])}}),this.copyNumberEnrichmentData=Object(d.x)({storeForExcludingQueryGenes:this.resultsViewStore,await:function(){return[s.copyNumberHomdelEnrichmentData,s.copyNumberAmpEnrichmentData,s.selectedStudyCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return s.selectedStudyCopyNumberEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){var e=s.copyNumberAmpEnrichmentData.result.map(function(e){return e.value=2,e}),t=s.copyNumberHomdelEnrichmentData.result.map(function(e){return e.value=-2,e});return Promise.resolve(e.concat(t))}}),this.mrnaEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[s.selectedmRNAEnrichmentProfileMap,s.enrichmentAnalysisGroups]},invoke:function(){return 1===Object.keys(s.selectedmRNAEnrichmentProfileMap.result).length?Promise.resolve(s.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==s.selectedmRNAEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"samples in ".concat(t.name)})),e},[])):Promise.resolve([])}}),this.mrnaEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[s.mrnaEnrichmentAnalysisGroups,s.selectedmRNAEnrichmentProfileMap]},invoke:function(){return Promise.resolve(s.mrnaEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:e.sampleId,molecularProfileId:s.selectedmRNAEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.mRNAEnrichmentData=Object(d.x)({await:function(){return[s.mrnaEnrichmentDataRequestGroups]},getSelectedProfileMap:function(){return s.selectedmRNAEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){return s.mrnaEnrichmentDataRequestGroups.result&&s.mrnaEnrichmentDataRequestGroups.result.length>1?f.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:s.mrnaEnrichmentDataRequestGroups.result}):Promise.resolve([])}}),this.proteinEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[s.selectedProteinEnrichmentProfileMap,s.enrichmentAnalysisGroups]},invoke:function(){return 1===Object.keys(s.selectedProteinEnrichmentProfileMap.result).length?Promise.resolve(s.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==s.selectedProteinEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"samples in ".concat(t.name)})),e},[])):Promise.resolve([])}}),this.proteinEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[s.proteinEnrichmentAnalysisGroups,s.selectedProteinEnrichmentProfileMap]},invoke:function(){return Promise.resolve(s.proteinEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:e.sampleId,molecularProfileId:s.selectedProteinEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.proteinEnrichmentData=Object(d.x)({await:function(){return[s.proteinEnrichmentDataRequestGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return s.selectedProteinEnrichmentProfileMap.result},fetchData:function(){return s.proteinEnrichmentDataRequestGroups.result&&s.proteinEnrichmentDataRequestGroups.result.length>1?f.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:s.proteinEnrichmentDataRequestGroups.result}):Promise.resolve([])}}),this.sampleSet=Object(i.S)({await:function(){return[s.samples]},invoke:function(){var e=new g.a,t=!0,n=!1,r=void 0;try{for(var o,i=s.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.set({studyId:a.studyId,sampleId:a.sampleId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeys=Object(i.S)({await:function(){return[s.samples]},invoke:function(){return Promise.resolve(c.a.uniq(s.samples.result.map(function(e){return e.uniquePatientKey})))}}),this.patientToSamplesSet=Object(i.S)({await:function(){return[s.samples]},invoke:function(){var e=new b.a,t=!0,n=!1,r=void 0;try{for(var o,i=s.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.add({studyId:a.studyId,patientId:a.patientId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeyToSamples=Object(i.S)({await:function(){return[s.samples]},invoke:function(){return Promise.resolve(c.a.groupBy(s.samples.result,function(e){return e.uniquePatientKey}))}}),this.sampleKeyToSample=Object(i.S)({await:function(){return[s.samples]},invoke:function(){var e=c.a.reduce(s.samples.result,function(e,t){return e[t.uniqueSampleKey]=t,e},{});return Promise.resolve(e)}}),this.sampleKeyToGroups=Object(i.S)({await:function(){return[s._originalGroups,s.sampleSet]},invoke:function(){var e=s.sampleSet.result,t=s._originalGroups.result,n={},r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value,c=!0,p=!1,d=void 0;try{for(var f,h=l.studies[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value,y=m.id,v=!0,g=!1,b=void 0;try{for(var S,T=m.samples[Symbol.iterator]();!(v=(S=T.next()).done);v=!0){var C=S.value,P=e.get({sampleId:C,studyId:y});P&&(n[P.uniqueSampleKey]=n[P.uniqueSampleKey]||{},n[P.uniqueSampleKey][l.uid]=!0)}}catch(e){g=!0,b=e}finally{try{v||null==T.return||T.return()}finally{if(g)throw b}}}}catch(e){p=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(p)throw d}}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return Promise.resolve(n)}}),this.patientsVennPartition=Object(i.S)({await:function(){return[s._activeGroupsNotOverlapRemoved,s.patientToSamplesSet,s.activePatientKeysNotOverlapRemoved]},invoke:function(){var e=s.patientToSamplesSet.result;return Promise.resolve(Object(r.C)(s._activeGroupsNotOverlapRemoved.result,function(e){return Object(y.Y)([e])},function(t){return e.get({studyId:t.studyId,patientId:t.patientId})[0].uniquePatientKey},s.activePatientKeysNotOverlapRemoved.result))}}),this.survivalClinicalDataExists=Object(i.S)({await:function(){return[s.activeSamplesNotOverlapRemoved,s.survivalClinicalAttributesPrefix]},invoke:function(){return Object(S.E)(s.activeSamplesNotOverlapRemoved.result,s.survivalClinicalAttributesPrefix.result)}}),this.survivalClinicalData=Object(i.S)({await:function(){return[s.activeSamplesNotOverlapRemoved,s.survivalClinicalAttributesPrefix]},invoke:function(){if(0===s.activeSamplesNotOverlapRemoved.result.length)return Promise.resolve([]);var e=c.a.reduce(s.survivalClinicalAttributesPrefix.result,function(e,t){return e.push(t+"_STATUS"),e.push(t+"_MONTHS"),e},[]);if(0===e.length)return Promise.resolve([]);var t={attributeIds:e,identifiers:s.activeSamplesNotOverlapRemoved.result.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})};return u.a.fetchClinicalDataUsingPOST({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:t})}},[]),this.activeStudiesClinicalAttributes=Object(i.S)({await:function(){return[s.activeStudyIds]},invoke:function(){return 0===s.activeStudyIds.result.length?Promise.resolve([]):u.a.fetchClinicalAttributesUsingPOST({studyIds:s.activeStudyIds.result})}},[]),this.survivalClinicalAttributesPrefix=Object(i.S)({await:function(){return[s.activeStudiesClinicalAttributes]},invoke:function(){return Promise.resolve(Object(S.V)(s.activeStudiesClinicalAttributes.result))}}),this.survivalClinicalDataGroupByUniquePatientKey=Object(i.S)({await:function(){return[s.survivalClinicalData]},invoke:function(){return O(s,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.groupBy(this.survivalClinicalData.result,"uniquePatientKey"));case 1:case"end":return e.stop()}},e,this)}))}}),this.patientSurvivals=Object(i.S)({await:function(){return[s.survivalClinicalDataGroupByUniquePatientKey,s.activePatientKeysNotOverlapRemoved,s.survivalClinicalAttributesPrefix]},invoke:function(){return Promise.resolve(c.a.reduce(s.survivalClinicalAttributesPrefix.result,function(e,t){return e[t]=Object(m.b)(s.survivalClinicalDataGroupByUniquePatientKey.result,s.activePatientKeysNotOverlapRemoved.result,"".concat(t,"_STATUS"),"".concat(t,"_MONTHS"),function(e){return Object(T.n)(e,t)}),e},{}))}}),this.patientSurvivalUniqueStatusText=Object(i.S)({await:function(){return[s.survivalClinicalDataGroupByUniquePatientKey,s.activePatientKeysNotOverlapRemoved,s.survivalClinicalAttributesPrefix]},invoke:function(){return Promise.resolve(c.a.reduce(s.survivalClinicalAttributesPrefix.result,function(e,t){var n=Object(m.a)(s.survivalClinicalDataGroupByUniquePatientKey.result,s.activePatientKeysNotOverlapRemoved.result,"".concat(t,"_STATUS"),"".concat(t,"_MONTHS"));return e[t]=c.a.chain(n).map(function(e){return e.value}).uniq().value(),e},{}))}}),this.uidToGroup=Object(i.S)({await:function(){return[s._originalGroups]},invoke:function(){return Promise.resolve(c.a.keyBy(s._originalGroups.result,function(e){return e.uid}))}}),this.clinicalDataEnrichments=Object(i.S)({await:function(){return[s.activeGroups]},invoke:function(){if(s.clinicalTabUnavailable)return Promise.resolve([]);var e=c.a.map(s.activeGroups.result,function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.studies[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,l=u.id,s=!0,c=!1,p=void 0;try{for(var d,f=u.samples[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value;t.push({studyId:l,sampleId:h})}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{name:e.nameWithOrdinal||e.uid,sampleIdentifiers:t}});return e.length>1?f.a.fetchClinicalEnrichmentsUsingPOST({groupFilter:{groups:e}}):Promise.resolve([])},onError:function(){}},[]),this.clinicalDataEnrichmentsWithQValues=Object(i.S)({await:function(){return[s.clinicalDataEnrichments]},invoke:function(){var e=s.clinicalDataEnrichments.result,t=c.a.sortBy(e,function(e){return e.pValue});return Object(v.a)(t.map(function(e){return e.pValue})).forEach(function(e,n){t[n].qValue=e}),Promise.resolve(t)},onError:function(){}},[]),this.activeStudyIdToStudy=Object(i.S)({await:function(){return[s.studies,s.activeStudyIds]},invoke:function(){return Promise.resolve(c.a.keyBy(c.a.filter(s.studies.result,function(e){return s.activeStudyIds.result.includes(e.studyId)}),function(e){return e.studyId}))}},{}),this.survivalDescriptions=Object(i.S)({await:function(){return[s.activeStudiesClinicalAttributes,s.activeStudyIdToStudy,s.survivalClinicalAttributesPrefix]},invoke:function(){var e=c.a.reduce(s.survivalClinicalAttributesPrefix.result,function(e,t){var n="".concat(t,"_STATUS"),r=c.a.groupBy(s.activeStudiesClinicalAttributes.result,"clinicalAttributeId"),o=s.activeStudyIdToStudy.result;return r&&r[n]&&r[n].length>0&&r[n].map(function(n){e[t]||(e[t]=[]),e[t].push({studyName:o[n.studyId].name,description:n.description,displayName:n.displayName})}),e},{});return Promise.resolve(e)}}),setTimeout(function(){s.tabHasBeenShownReactionDisposer=Object(a.autorun)(function(){s.tabHasBeenShown.set(o.a.SURVIVAL,!!s.tabHasBeenShown.get(o.a.SURVIVAL)||s.showSurvivalTab),s.tabHasBeenShown.set(o.a.MUTATIONS,!!s.tabHasBeenShown.get(o.a.MUTATIONS)||s.showMutationsTab),s.tabHasBeenShown.set(o.a.CNA,!!s.tabHasBeenShown.get(o.a.CNA)||s.showCopyNumberTab),s.tabHasBeenShown.set(o.a.MRNA,!!s.tabHasBeenShown.get(o.a.MRNA)||s.showMRNATab),s.tabHasBeenShown.set(o.a.PROTEIN,!!s.tabHasBeenShown.get(o.a.PROTEIN)||s.showProteinTab)})})}var t,n,s;return t=e,(n=[{key:"destroy",value:function(){this.tabHasBeenShownReactionDisposer&&this.tabHasBeenShownReactionDisposer()}},{key:"isGroupSelected",value:function(e){throw new Error("isGroupSelected must be implemented in subclass")}},{key:"setUsePatientLevelEnrichments",value:function(e){throw new Error("setUsePatientLevelEnrichments must be implemented in subclass")}},{key:"toggleGroupSelected",value:function(e){throw new Error("toggleGroupSelected must be implemented in subclass")}},{key:"updateGroupOrder",value:function(e,t){throw new Error("updateGroupOrder must be implemented in subclass")}},{key:"selectAllGroups",value:function(){throw new Error("selectAllGroups must be implemented in subclass")}},{key:"deselectAllGroups",value:function(){throw new Error("deselectAllGroups must be implemented in subclass")}},{key:"saveAndGoToSession",value:function(e){return O(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("saveAndGoToSession must be implemented in subclass");case 1:case"end":return e.stop()}},e)}))}},{key:"addGroup",value:function(e,t){return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.newSessionPending=!0,!t||!this.isLoggedIn){n.next=4;break}return n.next=4,l.a.addGroup(e);case 4:(r=c.a.cloneDeep(this._session.result)).groups.push(e),this.saveAndGoToSession(r);case 7:case"end":return n.stop()}},n,this)}))}},{key:"deleteGroup",value:function(e){return O(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.newSessionPending=!0,(n=c.a.cloneDeep(this._session.result)).groups=n.groups.filter(function(t){return t.name!==e}),this.saveAndGoToSession(n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"setMutationEnrichmentProfileMap",value:function(e){this._mutationEnrichmentProfileMap=e}},{key:"setCopyNumberEnrichmentProfileMap",value:function(e){this._copyNumberEnrichmentProfileMap=e}},{key:"setMRNAEnrichmentProfileMap",value:function(e){this._mRNAEnrichmentProfileMap=e}},{key:"setProteinEnrichmentProfileMap",value:function(e){this._proteinEnrichmentProfileMap=e}},{key:"getCopyNumberEnrichmentData",value:function(e,t){return f.a.fetchCopyNumberEnrichmentsUsingPOST({copyNumberEventType:t,enrichmentType:this.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:e})}},{key:"getGroupsDownloadDataPromise",value:function(){var e=this;return new Promise(function(t){Object(C.a)([e._originalGroups,e.samples,e.sampleKeyToGroups],function(e,n,o){t(Object(r.q)(n,e,o))})})}},{key:"isLoggedIn",get:function(){return this.appStore.isLoggedIn}},{key:"survivalTabShowable",get:function(){return this.survivalClinicalDataExists.isComplete&&this.survivalClinicalDataExists.result}},{key:"showSurvivalTab",get:function(){return this.survivalTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.SURVIVAL)}},{key:"survivalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length>10||!this.survivalTabShowable}},{key:"mutationsTabShowable",get:function(){return this.mutationEnrichmentProfiles.isComplete&&this.mutationEnrichmentProfiles.result.length>0}},{key:"showMutationsTab",get:function(){return this.mutationsTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.MUTATIONS)}},{key:"mutationsTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.mutationsTabShowable}},{key:"clinicalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2}},{key:"copyNumberTabShowable",get:function(){return this.copyNumberEnrichmentProfiles.isComplete&&this.copyNumberEnrichmentProfiles.result.length>0}},{key:"showCopyNumberTab",get:function(){return this.copyNumberTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.CNA)}},{key:"copyNumberUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.copyNumberTabShowable}},{key:"mRNATabShowable",get:function(){return this.mRNAEnrichmentProfiles.isComplete&&this.mRNAEnrichmentProfiles.result.length>0}},{key:"showMRNATab",get:function(){return this.mRNATabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.MRNA)}},{key:"mRNATabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.mRNATabShowable}},{key:"proteinTabShowable",get:function(){return this.proteinEnrichmentProfiles.isComplete&&this.proteinEnrichmentProfiles.result.length>0}},{key:"showProteinTab",get:function(){return this.proteinTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.PROTEIN)}},{key:"proteinTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.proteinTabShowable}}])&&P(t.prototype,n),s&&P(t,s),e}();E([a.observable],_.prototype,"newSessionPending",void 0),E([a.observable.ref],_.prototype,"_mutationEnrichmentProfileMap",void 0),E([a.observable.ref],_.prototype,"_copyNumberEnrichmentProfileMap",void 0),E([a.observable.ref],_.prototype,"_mRNAEnrichmentProfileMap",void 0),E([a.observable.ref],_.prototype,"_proteinEnrichmentProfileMap",void 0),E([a.action],_.prototype,"setMutationEnrichmentProfileMap",null),E([a.action],_.prototype,"setCopyNumberEnrichmentProfileMap",null),E([a.action],_.prototype,"setMRNAEnrichmentProfileMap",null),E([a.action],_.prototype,"setProteinEnrichmentProfileMap",null),E([a.computed],_.prototype,"survivalTabShowable",null),E([a.computed],_.prototype,"showSurvivalTab",null),E([a.computed],_.prototype,"survivalTabUnavailable",null),E([a.computed],_.prototype,"mutationsTabShowable",null),E([a.computed],_.prototype,"showMutationsTab",null),E([a.computed],_.prototype,"mutationsTabUnavailable",null),E([a.computed],_.prototype,"clinicalTabUnavailable",null),E([a.computed],_.prototype,"copyNumberTabShowable",null),E([a.computed],_.prototype,"showCopyNumberTab",null),E([a.computed],_.prototype,"copyNumberUnavailable",null),E([a.computed],_.prototype,"mRNATabShowable",null),E([a.computed],_.prototype,"showMRNATab",null),E([a.computed],_.prototype,"mRNATabUnavailable",null),E([a.computed],_.prototype,"proteinTabShowable",null),E([a.computed],_.prototype,"showProteinTab",null),E([a.computed],_.prototype,"proteinTabUnavailable",null),E([h.default],_.prototype,"getGroupsDownloadDataPromise",null)},631:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(4),o=n.n(r);function i(e,t){var n=t||function(e){return!!e};return o.a.reduce(e,function(e,t){return e&&n(t)},!0)}},634:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r=n(572),o=n(573),i=n(22),a=n(571),u=n(6);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return e.length>0?Object(r.F)(e,["annotation_summary"],u.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,function(e){return function(e){var t=Object(i.d)(e);return t?Object(o.f)(t):""}(e)},function(e){return Object(o.f)(e.annotation_summary.genomicLocation)},e||d))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["a"]),t}()},635:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r=n(572),o=n(573),i=n(571),a=n(6),u=n(22);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return e.length>0?Object(r.F)(e,["annotation_summary","mutation_assessor"],a.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var f=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).call(this,function(e){return function(e){var t=Object(u.d)(e);return t?Object(o.f)(t):""}(e)},function(e){return Object(o.f)(e.annotation_summary.genomicLocation)},e||d))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i["a"]),t}()},636:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(637),o=n(634),i=n(638),a=n(4),u=n.n(a),l=n(635);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},p=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mutationData=t,this.studyToMolecularProfileDiscrete=n,this.genomeNexusCache=r,this.genomeNexusMutationAssessorCache=o,this.mutationCountCache=i,this.discreteCNACache=a,this.allData=void 0}var t,n,a;return t=e,(n=[{key:"fetchAndCacheAllLazyData",value:function(){var e=this;return this.allData?Promise.resolve(this.allData):new Promise(function(t,n){var r=e.availablePromiseCachePairs();Promise.all(r.promises).then(function(n){e.allData=n;for(var o=0;o<n.length;o++)r.caches[o].addData(n[o]);t(n)}).catch(n)})}},{key:"availablePromiseCachePairs",value:function(){var e=[],t=[];return this.genomeNexusCache&&this.mutationData.result&&(e.push(Object(o.b)(this.mutationData.result)),t.push(this.genomeNexusCache())),this.genomeNexusMutationAssessorCache&&this.mutationData.result&&(e.push(Object(l.b)(this.mutationData.result)),t.push(this.genomeNexusMutationAssessorCache())),this.mutationCountCache&&(e.push(this.fetchAllMutationCountData()),t.push(this.mutationCountCache())),this.discreteCNACache&&(e.push(this.fetchAllDiscreteCNAData()),t.push(this.discreteCNACache())),{promises:e,caches:t}}},{key:"fetchAllMutationCountData",value:function(){return c(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=7;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),e.next=4,Object(r.b)(t);case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}},e,this)}))}},{key:"fetchAllDiscreteCNAData",value:function(){return c(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=9;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId,entrezGeneId:e.entrezGeneId}}),e.next=4,Object(i.b)(t,this.studyToMolecularProfileDiscrete);case 4:return n=e.sent,r=u.a.flatten(u.a.map(n,function(e){return u.a.map(u.a.flatten(e.data),function(t){return Object.assign(Object.assign({},t),{studyId:e.meta})})})),e.abrupt("return",r);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}))}}])&&s(t.prototype,n),a&&s(t,a),e}()},637:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(178),o=n(571);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function c(e){return"".concat(e.studyId,"~").concat(e.sampleId)}function p(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=5;break}return n={attributeIds:["MUTATION_COUNT"],identifiers:e.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})},t.abrupt("return",r.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:n}));case 5:return t.abrupt("return",Promise.resolve([]));case 6:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,c,c,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["a"]),t}()},638:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var r=n(4),o=n(571),i=n(178);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function d(e,t){if(t){var n=r.groupBy(e,"studyId");return Promise.all(Object.keys(n).map(function(e){var o=t[e];return o?function(e,t,n){return p(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,u,l,s,c,p,d,f,h,m,y,v,g,b,S,T,C,P;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,a=r.uniq(e.map(function(e){return e.sampleId})),u=r.uniq(e.map(function(e){return e.entrezGeneId})),!(a.length<u.length)){o.next=27;break}for(s={},c=!0,p=!1,d=void 0,o.prev=8,f=e[Symbol.iterator]();!(c=(h=f.next()).done);c=!0)m=h.value,s[m.sampleId]=s[m.sampleId]||[],s[m.sampleId].push(m.entrezGeneId);o.next=16;break;case 12:o.prev=12,o.t0=o.catch(8),p=!0,d=o.t0;case 16:o.prev=16,o.prev=17,c||null==f.return||f.return();case 19:if(o.prev=19,!p){o.next=22;break}throw d;case 22:return o.finish(19);case 23:return o.finish(16);case 24:l=Object.keys(s).map(function(e){return{sampleIds:[e],entrezGeneIds:s[e]}}),o.next=48;break;case 27:for(y={},v=!0,g=!1,b=void 0,o.prev=31,S=e[Symbol.iterator]();!(v=(T=S.next()).done);v=!0)C=T.value,y[C.entrezGeneId]=y[C.entrezGeneId]||[],y[C.entrezGeneId].push(C.sampleId);o.next=39;break;case 35:o.prev=35,o.t1=o.catch(31),g=!0,b=o.t1;case 39:o.prev=39,o.prev=40,v||null==S.return||S.return();case 42:if(o.prev=42,!g){o.next=45;break}throw b;case 45:return o.finish(42);case 46:return o.finish(39);case 47:l=Object.keys(y).map(function(e){return{sampleIds:y[e],entrezGeneIds:[parseInt(e,10)]}});case 48:return o.next=50,Promise.all(l.map(function(e){return void 0===n?Promise.reject("No molecular profile id given."):i.a.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",molecularProfileId:n,discreteCopyNumberFilter:e,discreteCopyNumberEventType:"ALL"})}));case 50:return P=o.sent,o.abrupt("return",{data:r.flatten(P),meta:t});case 54:throw o.prev=54,o.t2=o.catch(0),o.t2;case 57:case"end":return o.stop()}},o,null,[[0,54],[8,12,16,24],[17,,19,23],[31,35,39,47],[40,,42,46]])}))}(n[e],e,o.molecularProfileId):Promise.resolve({data:[],meta:e})}))}throw"No study to molecular profile id map given"}function f(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.sampleId,"~").concat(e.entrezGeneId)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,s(t).call(this,f,f,d,e))).studyToMolecularProfileDiscrete=e,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"isActive",get:function(){return!!(this.studyToMolecularProfileDiscrete&&Object.keys(this.studyToMolecularProfileDiscrete).length>0)}}])&&u(n.prototype,r),i&&u(n,i),t}()},639:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(596),a=n(2),u=n(579),l=n(630);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};var m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=c(this,p(t).apply(this,arguments))).excludedGroupsSummary=Object(u.a)({await:function(){return[e.props.store.overlapComputations]},render:function(){var t,n=e.props.store.overlapComputations.result,o=n.groups.filter(function(e){return e.uid in n.excludedFromAnalysis}),a=Object(i.f)(o,"and"),u=1===o.length?"is":"are";return o.length>0&&(t=r.createElement("span",null,a," ".concat(u," completely overlapping with other selected groups, so "),e.props.overlapTabMode?"".concat(u," excluded from analysis in other tabs."):"".concat(1===o.length?"has":"have"," been excluded from this analysis."))),t?r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(e.classNames.icon),style:{color:"#000000",marginRight:5}}),t):null}}),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"makeOverlappingCasesMessage",value:function(e,t){var n,o="sample"===e?t.overlappingSamples.length:t.overlappingPatients.length;if(0===o)return null;if(this.props.survivalTabMode&&t.totalPatientOverlap>0&&this.props.store.overlapStrategy===l.a.INCLUDE)n=function(e){return r.createElement("span",null,"Overlapping patients (",e,") are plotted as distinct groups below.")}(o);else{var a,u=t.groups.filter(function(e){return!(e.uid in t.excludedFromAnalysis)});a=u.length<t.groups.length?r.createElement("span",null,"between ",Object(i.f)(u,"and")):r.createElement("span",null,"in the selected groups"),n=r.createElement("span",null,"".concat("sample"===e?"Samples":"Patients"," (").concat(o,") that overlap "),a," are ".concat(this.props.store.overlapStrategy===l.a.INCLUDE?"included in":"excluded from"),this.props.overlapTabMode?" ".concat(e,"-level analysis in other tabs."):" ".concat(e,"-level analysis below."))}return r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(this.classNames.icon),style:{color:"#000000",marginRight:5}}),n)}},{key:"render",value:function(){if(this.props.store.overlapComputations.isComplete){var e=this.props.store.overlapComputations.result;return!e.totalSampleOverlap&&!e.totalPatientOverlap||"sample"===this.props.only&&!e.totalSampleOverlap||"patient"===this.props.only&&!e.totalPatientOverlap?null:r.createElement("div",{className:"alert ".concat(this.classNames.alert)},this.excludedGroupsSummary.component,"patient"!==this.props.only&&this.makeOverlappingCasesMessage("sample",e),"sample"!==this.props.only&&this.makeOverlappingCasesMessage("patient",e))}return null}},{key:"classNames",get:function(){var e="",t="";switch(this.props.store.overlapStrategy){case l.a.INCLUDE:this.props.survivalTabMode?(e="fa-info-circle",t="alert-info"):(e="fa-exclamation-triangle",t="alert-warning");break;case l.a.EXCLUDE:e="fa-info-circle",t="alert-info"}return{icon:e,alert:t}}}])&&s(n.prototype,o),a&&s(n,a),t}();m.defaultProps={overlapTabMode:!1,survivalTabMode:!1},h([a.computed],m.prototype,"classNames",null),m=h([o.observer],m),t.a=m},641:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(631),o=n(4),i=n.n(o);function a(e,t){if(t.length){var n,r=!1;return"-"===t[0]&&(t=t.substring(1),r=!0),t.length?(n=!(!e.cytoband||0!==e.cytoband.indexOf(t)),r?!n:n):!0}return!0}function u(e,t){if((t=t.trim()).length){var n=t.split(/\s+/g),o=[],u=[],l=!0,s=!1,c=void 0;try{for(var p,d=n[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;"-"===f[0]?u.push(f):o.push(f)}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var h=!o.length||i.a.some(o,function(t){return a(e,t)}),m=!u.length||Object(r.a)(u.map(function(t){return a(e,t)}));return h&&m}return!0}},642:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.YES="YES",e.NO="NO",e.NA="NA"}(r||(r={}))},643:function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],n[o.type](o));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={start:Mn},a=Mn,u=function(){return!1},l=/^[0-9]/,s=En([["0","9"]],!1,!1),c=function(e){return e.join("")},p="-",d=In("-",!1),f=function(e){return"-"+e},h=".",m=In(".",!1),y=function(e,t){return e+"."+t},v=function(e){return"."+e},g=function(e){return e},b=/^[\-_.@\/a-zA-Z0-9*]/,S=En(["-","_",".","@","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),T=function(e){return e.join("")},C=/^[\-_.\/a-zA-Z0-9*]/,P=En(["-","_",".","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),A=function(e){return e},I=/^[GPAVLIMCFYWHKRQNEDST]/,E=En(["G","P","A","V","L","I","M","C","F","Y","W","H","K","R","Q","N","E","D","S","T"],!1,!1),O=function(e){return e},_=/^[^"]/,w=En(['"'],!0,!1),k=function(e){return e.join("")},M=/^[ \t\r]/,G=En([" ","\t","\r"],!1,!1),N=/^[,; \t\r\n]/,x=En([",",";"," ","\t","\r","\n"],!1,!1),R="[",D=In("[",!1),j='"',L=In('"',!1),B=function(e){return{label:e,list:[]}},F=function(){return{label:void 0,list:[]}},q="amp",U=In("AMP",!0),V="homdel",z=In("HOMDEL",!0),H="gain",K=In("GAIN",!0),W="hetloss",Q=In("HETLOSS",!0),Y="mut",X=In("MUT",!0),Z=(In("EXP",!0),In("PROT",!0),function(e,t){return e.concat(t)}),J=function(e,t){return e.concat(t)},$=function(e){return e},ee=function(e){return e},te="]",ne=In("]",!1),re=function(e,t,n){return e.list=t,[e].concat(n)},oe=function(e,t){return e.list=t,[e]},ie=function(e,t){return[e].concat(t)},ae=function(e){return[e]},ue=":",le=In(":",!1),se=function(e,t){return{gene:e,alterations:t}},ce=function(e){return{gene:e,alterations:!1}},pe=function(e,t){return[e].concat(t)},de=function(e){return[e]},fe=function(e){return e},he="_",me=In("_",!1),ye=function(e){return{alteration_type:"any",modifiers:[e]}},ve=function(){return"AMP"},ge=function(){return"HOMDEL"},be=function(){return"GAIN"},Se=function(){return"HETLOSS"},Te="cna",Ce=In("CNA",!0),Pe=function(e,t){return{alteration_type:"cna",constr_rel:e,constr_val:t,modifiers:[]}},Ae="CNA_",Ie=In("CNA_",!1),Ee=function(e){return{alteration_type:"cna",modifiers:[e]}},Oe=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[t]}},_e="_CNA",we=In("_CNA",!1),ke=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:t,modifiers:[e]}},Me=function(e){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[]}},Ge="MUT",Ne=In("MUT",!1),xe="=",Re=In("=",!1),De=function(e){return{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},je="!=",Le=In("!=",!1),Be=function(e){return{alteration_type:"mut",constr_rel:"!=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},Fe=function(e){return e.type?{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}:{alteration_type:"mut",info:{},modifiers:e.modifiers}},qe="EXP",Ue=In("EXP",!1),Ve=function(e,t){return{alteration_type:"exp",constr_rel:e,constr_val:parseFloat(t)}},ze="fusion",He=In("FUSION",!0),Ke=function(e){return{alteration_type:"fusion",modifiers:[e]}},We="_fusion",Qe=In("_FUSION",!0),Ye=function(){return{alteration_type:"fusion",modifiers:[]}},Xe="PROT",Ze=In("PROT",!1),Je=function(e,t){return{alteration_type:"prot",constr_rel:e,constr_val:parseFloat(t)}},$e=">=",et=In(">=",!1),tt=function(){return">="},nt="<=",rt=In("<=",!1),ot=function(){return"<="},it=">",at=In(">",!1),ut=function(){return">"},lt="<",st=In("<",!1),ct=function(){return"<"},pt=function(e,t){return t.modifiers.unshift(e),t},dt=function(e,t){return e.modifiers=t,e},ft=function(e){return{info:{},modifiers:[e]}},ht=function(e){return e.modifiers=[],e},mt=function(e,t){return[e].concat(t)},yt=function(e){return[e]},vt=function(){return{info:{}}},gt="missense",bt=In("MISSENSE",!0),St=function(){return{type:"class",value:"MISSENSE",info:{}}},Tt="nonsense",Ct=In("NONSENSE",!0),Pt=function(){return{type:"class",value:"NONSENSE",info:{}}},At="nonstart",It=In("NONSTART",!0),Et=function(){return{type:"class",value:"NONSTART",info:{}}},Ot="nonstop",_t=In("NONSTOP",!0),wt=function(){return{type:"class",value:"NONSTOP",info:{}}},kt="frameshift",Mt=In("FRAMESHIFT",!0),Gt=function(){return{type:"class",value:"FRAMESHIFT",info:{}}},Nt="inframe",xt=In("INFRAME",!0),Rt=function(){return{type:"class",value:"INFRAME",info:{}}},Dt="splice",jt=In("SPLICE",!0),Lt=function(){return{type:"class",value:"SPLICE",info:{}}},Bt="trunc",Ft=In("TRUNC",!0),qt=function(){return{type:"class",value:"TRUNC",info:{}}},Ut="promoter",Vt=In("PROMOTER",!0),zt=function(){return{type:"class",value:"PROMOTER",info:{}}},Ht=function(e,t,n){return{type:"name",value:e+t+n,info:{}}},Kt=function(e,t){return{type:"position",value:parseInt(t),info:{amino_acid:e.toUpperCase()}}},Wt=function(e){return{type:"name",value:e,info:{unrecognized:!0}}},Qt=function(e,t){return e+t},Yt=function(e){return e},Xt=function(e){return e},Zt="germline",Jt=In("GERMLINE",!0),$t=function(){return{type:"GERMLINE"}},en="somatic",tn=In("SOMATIC",!0),nn=function(){return{type:"SOMATIC"}},rn=function(e){return e},on=function(e){return e},an="driver",un=In("DRIVER",!0),ln=function(){return{type:"DRIVER"}},sn="(",cn=In("(",!1),pn=/^[*]/,dn=En(["*"],!1,!1),fn=")",hn=In(")",!1),mn=function(e,t,n){return{type:"RANGE",start:parseInt(e,10),end:parseInt(t,10),completeOverlapOnly:!!n}},yn="(-",vn=In("(-",!1),gn=function(e,t){return{type:"RANGE",end:parseInt(e,10),completeOverlapOnly:!!t}},bn=function(e,t){return{type:"RANGE",start:parseInt(e,10),completeOverlapOnly:!!t}},Sn=0,Tn=[{line:1,column:1}],Cn=0,Pn=[],An=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function In(e,t){return{type:"literal",text:e,ignoreCase:t}}function En(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function On(t){var n,r=Tn[t];if(r)return r;for(n=t-1;!Tn[n];)n--;for(r={line:(r=Tn[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Tn[t]=r,r}function _n(e,t){var n=On(e),r=On(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function wn(e){Sn<Cn||(Sn>Cn&&(Cn=Sn,Pn=[]),Pn.push(e))}function kn(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function Mn(){var e,t;return(e=function e(){var t,n,r;return t=Sn,(n=Un())!==o&&Fn()!==o&&(r=e())!==o?(n=Z(n,r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Vn())!==o&&Fn()!==o&&(r=e())!==o?(n=J(n,r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Un())!==o&&Bn()!==o?(n=$(n),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Vn())!==o&&Bn()!==o?(n=ee(n),t=n):(Sn=t,t=o)))),t}())===o&&(e=Sn,(t=jn())!==o&&(t=u()),e=t),e}function Gn(){var t,n;if(Sn,t=[],l.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(s)),n!==o)for(;n!==o;)t.push(n),l.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(s));else t=o;return t!==o&&(t=c(t)),t}function Nn(){var t,n,r,i;return t=Sn,45===e.charCodeAt(Sn)?(n=p,Sn++):(n=o,0===An&&wn(d)),n!==o&&(r=Nn())!==o?t=n=f(r):(Sn=t,t=o),t===o&&(t=Sn,(n=Gn())!==o?(46===e.charCodeAt(Sn)?(r=h,Sn++):(r=o,0===An&&wn(m)),r!==o&&(i=Gn())!==o?t=n=y(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,46===e.charCodeAt(Sn)?(n=h,Sn++):(n=o,0===An&&wn(m)),n!==o&&(r=Gn())!==o?t=n=v(r):(Sn=t,t=o),t===o&&(t=Sn,(n=Gn())!==o&&(n=g(n)),t=n))),t}function xn(){var t,n;if(Sn,t=[],b.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(S)),n!==o)for(;n!==o;)t.push(n),b.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(S));else t=o;return t!==o&&(t=T(t)),t}function Rn(){var t;return Sn,C.test(e.charAt(Sn))?(t=e.charAt(Sn),Sn++):(t=o,0===An&&wn(P)),t!==o&&(t=A(t)),t}function Dn(){var t;return Sn,I.test(e.charAt(Sn))?(t=e.charAt(Sn),Sn++):(t=o,0===An&&wn(E)),t!==o&&(t=O(t)),t}function jn(){var t,n;if(t=[],M.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(G)),n!==o)for(;n!==o;)t.push(n),M.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(G));else t=o;return t}function Ln(){var t,n;for(t=[],M.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(G));n!==o;)t.push(n),M.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(G));return t}function Bn(){var t,n;for(t=[],N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(x));n!==o;)t.push(n),N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(x));return t}function Fn(){var t,n;if(t=[],N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(x)),n!==o)for(;n!==o;)t.push(n),N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(x));else t=o;return t}function qn(){var t,n,r,i,a;return t=Sn,91===e.charCodeAt(Sn)?(n=R,Sn++):(n=o,0===An&&wn(D)),n!==o&&Bn()!==o?(34===e.charCodeAt(Sn)?(r=j,Sn++):(r=o,0===An&&wn(L)),r!==o&&(i=function(){var t,n;if(Sn,t=[],_.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(w)),n!==o)for(;n!==o;)t.push(n),_.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===An&&wn(w));else t=o;return t!==o&&(t=k(t)),t}())!==o?(34===e.charCodeAt(Sn)?(a=j,Sn++):(a=o,0===An&&wn(L)),a!==o?t=n=B(i):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,91===e.charCodeAt(Sn)?(n=R,Sn++):(n=o,0===An&&wn(D)),n!==o&&Bn()!==o?t=n=F():(Sn=t,t=o)),t}function Un(){var t,n,r,i,a;return t=Sn,Bn()!==o&&(n=qn())!==o&&(r=Vn())!==o&&Bn()!==o?(93===e.charCodeAt(Sn)?(i=te,Sn++):(i=o,0===An&&wn(ne)),i!==o&&Bn()!==o&&(a=Un())!==o?t=re(n,r,a):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,Bn()!==o&&(n=qn())!==o&&(r=Vn())!==o&&Bn()!==o?(93===e.charCodeAt(Sn)?(i=te,Sn++):(i=o,0===An&&wn(ne)),i!==o?t=oe(n,r):(Sn=t,t=o)):(Sn=t,t=o)),t}function Vn(){var e,t,n;return e=Sn,Bn()!==o&&(t=zn())!==o&&Fn()!==o&&(n=Vn())!==o?e=ie(t,n):(Sn=e,e=o),e===o&&(e=Sn,Bn()!==o&&(t=zn())!==o?e=ae(t):(Sn=e,e=o)),e}function zn(){var t,n,r,i;return t=Sn,(n=xn())!==o&&Ln()!==o?(58===e.charCodeAt(Sn)?(r=ue,Sn++):(r=o,0===An&&wn(le)),r!==o&&Ln()!==o&&(i=function e(){var t,n,r;return t=Sn,(n=Hn())!==o&&jn()!==o&&(r=e())!==o?(n=pe(n,r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Hn())!==o&&(n=de(n)),t=n),t}())!==o?t=n=se(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=xn())!==o&&(n=ce(n)),t=n),t}function Hn(){var t,n;return t=Sn,(n=function(){var t,n,r,i;return t=Sn,(n=tr())!==o?(r=Sn,An++,95===e.charCodeAt(Sn)?(i=he,Sn++):(i=o,0===An&&wn(me)),An--,i===o?r=void 0:(Sn=r,r=o),r!==o?(n=ye(n),t=n):(Sn=t,t=o)):(Sn=t,t=o),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i,a;return t=Sn,e.substr(Sn,3).toLowerCase()===Te?(n=e.substr(Sn,3),Sn+=3):(n=o,0===An&&wn(Ce)),n!==o&&(r=Ln())!==o&&(i=Wn())!==o&&Ln()!==o&&(a=Kn())!==o?(n=Pe(i,a),t=n):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,4)===Ae?(n=Ae,Sn+=4):(n=o,0===An&&wn(Ie)),n!==o&&(r=$n())!==o?(n=Ee(r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Kn())!==o?(95===e.charCodeAt(Sn)?(r=he,Sn++):(r=o,0===An&&wn(me)),r!==o&&(i=$n())!==o?(n=Oe(n,i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=$n())!==o?(e.substr(Sn,4)===_e?(r=_e,Sn+=4):(r=o,0===An&&wn(we)),r!==o?(n=Ee(n),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=$n())!==o?(95===e.charCodeAt(Sn)?(r=he,Sn++):(r=o,0===An&&wn(me)),r!==o&&(i=Kn())!==o?(n=ke(n,i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Kn())!==o&&(n=Me(n)),t=n))))),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,3)===qe?(n=qe,Sn+=3):(n=o,0===An&&wn(Ue)),n!==o&&Ln()!==o&&(r=Wn())!==o&&Ln()!==o&&(i=Nn())!==o?(n=Ve(r,i),t=n):(Sn=t,t=o),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,4)===Xe?(n=Xe,Sn+=4):(n=o,0===An&&wn(Ze)),n!==o&&Ln()!==o&&(r=Wn())!==o&&Ln()!==o&&(i=Nn())!==o?(n=Je(r,i),t=n):(Sn=t,t=o),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,6).toLowerCase()===ze?(n=e.substr(Sn,6),Sn+=6):(n=o,0===An&&wn(He)),n!==o?(95===e.charCodeAt(Sn)?(r=he,Sn++):(r=o,0===An&&wn(me)),r!==o&&(i=er())!==o?(n=Ke(i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=er())!==o?(e.substr(Sn,7).toLowerCase()===We?(r=e.substr(Sn,7),Sn+=7):(r=o,0===An&&wn(Qe)),r!==o?(n=Ke(n),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,6).toLowerCase()===ze?(n=e.substr(Sn,6),Sn+=6):(n=o,0===An&&wn(He)),n!==o&&(n=Ye()),t=n)),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,3)===Ge?(n=Ge,Sn+=3):(n=o,0===An&&wn(Ne)),n!==o&&Ln()!==o?(61===e.charCodeAt(Sn)?(r=xe,Sn++):(r=o,0===An&&wn(Re)),r!==o&&Ln()!==o&&(i=Qn())!==o?(n=De(i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,3)===Ge?(n=Ge,Sn+=3):(n=o,0===An&&wn(Ne)),n!==o&&Ln()!==o?(e.substr(Sn,2)===je?(r=je,Sn+=2):(r=o,0===An&&wn(Le)),r!==o&&Ln()!==o&&(i=Qn())!==o?(n=Be(i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Qn())!==o&&(n=Fe(n)),t=n)),t}())!==o&&(n=fe(n)),t=n))))),t}function Kn(){var t,n;return t=Sn,e.substr(Sn,3).toLowerCase()===q?(n=e.substr(Sn,3),Sn+=3):(n=o,0===An&&wn(U)),n!==o&&(n=ve()),(t=n)===o&&(t=Sn,e.substr(Sn,6).toLowerCase()===V?(n=e.substr(Sn,6),Sn+=6):(n=o,0===An&&wn(z)),n!==o&&(n=ge()),(t=n)===o&&(t=Sn,e.substr(Sn,4).toLowerCase()===H?(n=e.substr(Sn,4),Sn+=4):(n=o,0===An&&wn(K)),n!==o&&(n=be()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===W?(n=e.substr(Sn,7),Sn+=7):(n=o,0===An&&wn(Q)),n!==o&&(n=Se()),t=n))),t}function Wn(){var t,n;return t=Sn,e.substr(Sn,2)===$e?(n=$e,Sn+=2):(n=o,0===An&&wn(et)),n!==o&&(n=tt()),(t=n)===o&&(t=Sn,e.substr(Sn,2)===nt?(n=nt,Sn+=2):(n=o,0===An&&wn(rt)),n!==o&&(n=ot()),(t=n)===o&&(t=Sn,62===e.charCodeAt(Sn)?(n=it,Sn++):(n=o,0===An&&wn(at)),n!==o&&(n=ut()),(t=n)===o&&(t=Sn,60===e.charCodeAt(Sn)?(n=lt,Sn++):(n=o,0===An&&wn(st)),n!==o&&(n=ct()),t=n))),t}function Qn(){var t,n,r,i;return t=Sn,(n=Jn())!==o?(95===e.charCodeAt(Sn)?(r=he,Sn++):(r=o,0===An&&wn(me)),r!==o&&(i=Qn())!==o?t=n=pt(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Yn())!==o?(95===e.charCodeAt(Sn)?(r=he,Sn++):(r=o,0===An&&wn(me)),r!==o&&(i=function t(){var n,r,i,a;return n=Sn,(r=Jn())!==o?(95===e.charCodeAt(Sn)?(i=he,Sn++):(i=o,0===An&&wn(me)),i!==o&&(a=t())!==o?(r=mt(r,a),n=r):(Sn=n,n=o)):(Sn=n,n=o),n===o&&(n=Sn,(r=Jn())!==o&&(r=yt(r)),n=r),n}())!==o?t=n=dt(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Jn())!==o&&(n=ft(n)),(t=n)===o&&(t=Sn,(n=Yn())!==o&&(n=ht(n)),t=n))),t}function Yn(){var t,n,r,i;return t=Sn,e.substr(Sn,3).toLowerCase()===Y?(n=e.substr(Sn,3),Sn+=3):(n=o,0===An&&wn(X)),n!==o&&(n=vt()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===gt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===An&&wn(bt)),n!==o&&(n=St()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===Tt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===An&&wn(Ct)),n!==o&&(n=Pt()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===At?(n=e.substr(Sn,8),Sn+=8):(n=o,0===An&&wn(It)),n!==o&&(n=Et()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===Ot?(n=e.substr(Sn,7),Sn+=7):(n=o,0===An&&wn(_t)),n!==o&&(n=wt()),(t=n)===o&&(t=Sn,e.substr(Sn,10).toLowerCase()===kt?(n=e.substr(Sn,10),Sn+=10):(n=o,0===An&&wn(Mt)),n!==o&&(n=Gt()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===Nt?(n=e.substr(Sn,7),Sn+=7):(n=o,0===An&&wn(xt)),n!==o&&(n=Rt()),(t=n)===o&&(t=Sn,e.substr(Sn,6).toLowerCase()===Dt?(n=e.substr(Sn,6),Sn+=6):(n=o,0===An&&wn(jt)),n!==o&&(n=Lt()),(t=n)===o&&(t=Sn,e.substr(Sn,5).toLowerCase()===Bt?(n=e.substr(Sn,5),Sn+=5):(n=o,0===An&&wn(Ft)),n!==o&&(n=qt()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===Ut?(n=e.substr(Sn,8),Sn+=8):(n=o,0===An&&wn(Vt)),n!==o&&(n=zt()),(t=n)===o&&(t=Sn,(n=Dn())!==o&&(r=Gn())!==o&&(i=Xn())!==o?t=n=Ht(n,r,i):(Sn=t,t=o),t===o&&(t=Sn,(n=Dn())!==o&&(r=Gn())!==o?t=n=Kt(n,r):(Sn=t,t=o),t===o&&(t=Sn,(n=Xn())!==o&&(n=Wt(n)),t=n)))))))))))),t}function Xn(){var e,t,n,r,i;return e=Sn,t=Sn,An++,n=Zn(),An--,n===o?t=void 0:(Sn=t,t=o),t!==o&&(n=Rn())!==o?(r=Sn,An++,i=Zn(),An--,i===o?r=void 0:(Sn=r,r=o),r!==o&&(i=Xn())!==o?e=t=Qt(n,i):(Sn=e,e=o)):(Sn=e,e=o),e===o&&(e=Sn,t=Sn,An++,n=Zn(),An--,n===o?t=void 0:(Sn=t,t=o),t!==o&&(n=Rn())!==o?e=t=Yt(n):(Sn=e,e=o)),e}function Zn(){var t,n,r;return t=Sn,95===e.charCodeAt(Sn)?(n=he,Sn++):(n=o,0===An&&wn(me)),n!==o&&(r=Jn())!==o?t=n=Xt(r):(Sn=t,t=o),t}function Jn(){var t,n;return t=Sn,e.substr(Sn,8).toLowerCase()===Zt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===An&&wn(Jt)),n!==o&&(n=$t()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===en?(n=e.substr(Sn,7),Sn+=7):(n=o,0===An&&wn(tn)),n!==o&&(n=nn()),(t=n)===o&&(t=Sn,(n=tr())!==o&&(n=Xt(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i,a,u,l;return t=Sn,40===e.charCodeAt(Sn)?(n=sn,Sn++):(n=o,0===An&&wn(cn)),n!==o&&(r=Gn())!==o?(45===e.charCodeAt(Sn)?(i=p,Sn++):(i=o,0===An&&wn(d)),i!==o&&(a=Gn())!==o?(pn.test(e.charAt(Sn))?(u=e.charAt(Sn),Sn++):(u=o,0===An&&wn(dn)),u===o&&(u=null),u!==o?(41===e.charCodeAt(Sn)?(l=fn,Sn++):(l=o,0===An&&wn(hn)),l!==o?(n=mn(r,a,u),t=n):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,2)===yn?(n=yn,Sn+=2):(n=o,0===An&&wn(vn)),n!==o&&(r=Gn())!==o?(pn.test(e.charAt(Sn))?(i=e.charAt(Sn),Sn++):(i=o,0===An&&wn(dn)),i===o&&(i=null),i!==o?(41===e.charCodeAt(Sn)?(a=fn,Sn++):(a=o,0===An&&wn(hn)),a!==o?(n=gn(r,i),t=n):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,40===e.charCodeAt(Sn)?(n=sn,Sn++):(n=o,0===An&&wn(cn)),n!==o&&(r=Gn())!==o?(45===e.charCodeAt(Sn)?(i=p,Sn++):(i=o,0===An&&wn(d)),i!==o?(pn.test(e.charAt(Sn))?(a=e.charAt(Sn),Sn++):(a=o,0===An&&wn(dn)),a===o&&(a=null),a!==o?(41===e.charCodeAt(Sn)?(u=fn,Sn++):(u=o,0===An&&wn(hn)),u!==o?(n=bn(r,a),t=n):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o))),t}())!==o&&(n=rn(n)),t=n))),t}function $n(){var e;return Sn,(e=tr())!==o&&(e=on(e)),e}function er(){var e;return Sn,(e=tr())!==o&&(e=on(e)),e}function tr(){var t;return Sn,e.substr(Sn,6).toLowerCase()===an?(t=e.substr(Sn,6),Sn+=6):(t=o,0===An&&wn(un)),t!==o&&(t=ln()),t}if((n=a())!==o&&Sn===e.length)return n;throw n!==o&&Sn<e.length&&wn({type:"end"}),kn(Pn,Cn<e.length?e.charAt(Cn):null,Cn<e.length?_n(Cn,Cn+1):_n(Cn,Cn))}}},645:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(9),a=n.n(i),u=n(2);n(802);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e,t,n,o;return this.props.store.queryContainsOql?(this.props.isUnaffected?(e="alert alert-unaffected",t="Your OQL specification does not affect the results below because you have not specified any filters for mutations in this gene.",n="fa fa-md fa-info-circle",o="OqlStatusBannerUnaffected"):this.props.tabReflectsOql?(e="alert alert-success",t="The results below are filtered by the OQL specification from your query.",n="fa fa-md fa-check",o="OqlStatusBannerYes"):(e="alert alert-info",t="The results below are not filtered by the OQL specification from your query.",n="fa fa-md fa-exclamation-triangle",o="OqlStatusBannerNo"),r.createElement("div",{"data-test":o,className:a()("oql-status-banner",e,this.props.className),style:Object.assign({},this.props.style||{})},r.createElement("span",{style:{verticalAlign:"middle"}},r.createElement("i",{className:a()("banner-icon",n),style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),t,this.toggleButton))):null}},{key:"toggleButton",get:function(){return this.props.onToggle&&!this.props.isUnaffected?r.createElement("span",null,r.createElement("button",{onClick:this.props.onToggle,className:"btn btn-default btn-xs",style:{marginLeft:5}},this.props.tabReflectsOql?"Do not filter by OQL":"Filter by OQL")):null}}])&&l(n.prototype,o),i&&l(n,i),t}();f([u.computed],h.prototype,"toggleButton",null),h=f([o.observer],h),t.a=h},646:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(2),a=n(579);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function f(e,t){var n=[];return e.mutation&&n.push("mutation".concat(t?"s":"")),e.cna&&n.push("copy number alteration".concat(t?"s":"")),"".concat(n.join(" and ")," of unknown significance")}var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,s(t).apply(this,arguments))).vusWarning=Object(a.a)({await:function(){return e.props.mutationsTabModeSettings?[e.props.store.mutationsReportByGene]:[e.props.store.oqlFilteredMutationsReport,e.props.store.oqlFilteredMolecularDataReport]},render:function(){var t=0,o={mutation:!1,cna:!1};if(e.props.mutationsTabModeSettings){var i=e.props.store.mutationsReportByGene.result[e.props.mutationsTabModeSettings.hugoGeneSymbol];(t=i.vus.length+i.vusAndGermline.length)>0&&(o.mutation=!0)}else{var a=e.props.store.oqlFilteredMutationsReport.result,u=a.vus.length+a.vusAndGermline.length,l=e.props.store.oqlFilteredMolecularDataReport.result.vus.length;t=u+l,u>0&&(o.mutation=!0),l>0&&(o.cna=!0)}if(!(t>0))return null;var s=1===t?"is":"are",c=1===t?"does":"do",p=1===t?"an alteration":"alterations";return e.props.isUnaffected&&e.excludeVUS?r.createElement("div",{className:"alert alert-unaffected"},r.createElement("i",{className:"fa fa-md fa-info-circle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),"".concat(t," ").concat(f(o,1!==t)," ").concat(s," included in analysis.")):e.excludeVUS||e.vusToggleable?r.createElement("div",{className:"alert alert-info"},r.createElement("img",{src:n(744),style:{marginRight:6,width:15,marginTop:-2}}),e.excludeVUS?"".concat(t," ").concat(f(o,1!==t)," ").concat(e.props.mutationsTabModeSettings?"".concat(s," hidden below."):"".concat(c," not count as ").concat(p," for this analysis.")):"".concat(t," ").concat(f(o,1!==t)," ").concat(s," ").concat(e.props.mutationsTabModeSettings?"shown below.":"included in analysis."),e.vusToggleable&&r.createElement("button",{onClick:e.props.mutationsTabModeSettings.toggleExcludeVUS,className:"btn btn-default btn-xs",style:{marginLeft:5}},e.excludeVUS?e.props.mutationsTabModeSettings?"Show":"Include":e.props.mutationsTabModeSettings?"Hide":"Exclude")):void 0}}),e.germlineWarning=Object(a.a)({await:function(){return e.props.mutationsTabModeSettings?[e.props.store.mutationsReportByGene]:[e.props.store.oqlFilteredMutationsReport]},render:function(){var t,o=(t=e.props.mutationsTabModeSettings?e.props.store.mutationsReportByGene.result[e.props.mutationsTabModeSettings.hugoGeneSymbol]:e.props.store.oqlFilteredMutationsReport.result).germline.length+t.vusAndGermline.length;if(!(o>0))return null;var i=1===o?"is":"are",a=1===o?"does":"do",u=1===o?"an alteration":"alterations";return e.props.isUnaffected&&e.excludeGermline?r.createElement("div",{className:"alert alert-unaffected"},r.createElement("i",{className:"fa fa-md fa-info-circle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),"".concat(o," germline mutations ").concat(i," included in analysis.")):e.excludeGermline||e.germlineToggleable?r.createElement("div",{className:"alert alert-info"},r.createElement("img",{src:n(744),style:{marginRight:6,width:15,marginTop:-2}}),e.excludeGermline?"".concat(o," germline mutations ").concat(e.props.mutationsTabModeSettings?"".concat(i," hidden below."):"".concat(a," not count as ").concat(u," for this analysis.")):"".concat(o," germline mutations ").concat(i," ").concat(e.props.mutationsTabModeSettings?"shown below.":"included in analysis."),e.germlineToggleable&&r.createElement("button",{onClick:e.props.mutationsTabModeSettings.toggleExcludeGermline,className:"btn btn-default btn-xs",style:{marginLeft:5}},e.excludeGermline?e.props.mutationsTabModeSettings?"Show":"Include":e.props.mutationsTabModeSettings?"Hide":"Exclude")):void 0}}),e}var o,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),o=t,(i=[{key:"render",value:function(){return r.createElement(r.Fragment,null,this.vusWarning.component,this.germlineWarning.component)}},{key:"excludeVUS",get:function(){return this.props.mutationsTabModeSettings?this.props.mutationsTabModeSettings.excludeVUS:this.props.store.driverAnnotationSettings.excludeVUS}},{key:"excludeGermline",get:function(){return this.props.mutationsTabModeSettings?this.props.mutationsTabModeSettings.excludeGermline:this.props.store.excludeGermlineMutations}},{key:"vusToggleable",get:function(){return this.props.mutationsTabModeSettings&&this.props.store.driverAnnotationSettings.excludeVUS}},{key:"germlineToggleable",get:function(){return this.props.mutationsTabModeSettings&&this.props.store.excludeGermlineMutations}}])&&u(o.prototype,i),p&&u(o,p),t}();d([i.computed],h.prototype,"excludeVUS",null),d([i.computed],h.prototype,"excludeGermline",null),d([i.computed],h.prototype,"vusToggleable",null),d([i.computed],h.prototype,"germlineToggleable",null),h=d([o.observer],h),t.a=h},649:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputToKey=t,this.inputToOutput=n,this.memo={}}var t,n,o;return t=e,(n=[{key:"get",value:function(e){var t=this.inputToKey(e);return this.memo[t]=this.memo[t]||this.inputToOutput(e),this.memo[t]}},{key:"has",value:function(e){return this.inputToKey(e)in this.memo}}])&&r(t.prototype,n),o&&r(t,o),e}();function i(e){return JSON.stringify(e,Object.keys(e).sort())}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=new o(t,function(t){return function(n){return e(n,t)}});return function(e){return n.get(e)}}n.d(t,"a",function(){return a})},651:function(e,t,n){"use strict";var r=n(0);function o(e,t,n,r,o){var i=e+t+n+r,a=o[e+t]+o[n+r]+o[e+n]+o[t+r]-(o[e]+o[t]+o[n]+o[r]+o[i]);return Math.exp(a)}var i,a=n(620),u=n(784),l=n.n(u),s=n(4);function c(e,t,n,r){return function(e,t,n,r){var i,a,u=e+t+n+r,l=0,s=new Array(u+1);s[0]=0;for(var c=1;c<=u;c++)s[c]=s[c-1]+Math.log(c);if(l+=o(e,t,n,r,s),e*r>=t*n)for(i=n<t?n:t,a=0;a<i;a++)l+=o(++e,--t,--n,++r,s);if(e*r<t*n)for(i=e<r?e:r,a=0;a<i;a++)l+=o(--e,++t,++n,--r,s);return l}(e,t,n,r)}function p(e,t){var n=s.size(e),o=n>1?"pairs":"pair";return r.createElement("p",null,"The analysis tested ",r.createElement("b",null,n)," ",o," between the"," ",r.createElement("b",null,t)," tracks in the OncoPrint.")}function d(e){var t=[];l.a.bigCombination(Object.keys(e),2).toArray().forEach(function(n){var r,o,a,u,l,s,p,d,f,h,m=n[0],y=n[1],v=(r=e[m],o=e[y],a=0,u=0,l=0,s=0,r.forEach(function(e,t){if(e===i.UNPROFILED||o[t]===i.UNPROFILED)return!0;var n=o[t];e===i.UNALTERED&&n===i.UNALTERED?a++:e===i.UNALTERED&&n===i.ALTERED?u++:e===i.ALTERED&&n===i.UNALTERED?l++:s++}),[a,u,l,s]),g=c(v[0],v[1],v[2],v[3]),b=(d=v[1],f=v[2],(p=v[0])*(h=v[3])==0&&d*f==0?1/0:Math.log2(p*h/(d*f))),S=function(e){return e>0?"Co-occurrence":"Mutual exclusivity"}(b);t.push({trackA:m,trackB:y,neitherCount:v[0],bNotACount:v[1],aNotBCount:v[2],bothCount:v[3],logOddsRatio:b,pValue:g,qValue:0,association:S})}),t=s.sortBy(t,["pValue"]);var n=Object(a.a)(s.map(t,function(e){return e.pValue}));return t.forEach(function(e,t){e.qValue=n[t]}),t}function f(e,t,n,r){return e.filter(function(e){var o=!1;return t&&(o=o||e.logOddsRatio<=0),n&&(o=o||e.logOddsRatio>0),r&&(o=o&&e.qValue<.05),o})}function h(e){return e<.001?"<0.001":e.toFixed(3)}function m(e){var t=r.createElement("span",null,h(e));return e<.05&&(t=r.createElement("b",null,t)),t}function y(e){return e<-3?"<-3":e>3?">3":e.toFixed(3)}function v(e){var t={};return s.forIn(e,function(e,n){e&&e.length>0&&e.filter(function(e){return e!=i.UNPROFILED}).length>0&&(t[n]=e)}),t}n.d(t,"a",function(){return i}),n.d(t,"h",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"g",function(){return v}),function(e){e.UNPROFILED="unprofiled",e.ALTERED="altered",e.UNALTERED="unaltered"}(i||(i={}))},652:function(e,t,n){e.exports=n(16)(1031)},653:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u});var r=n(102),o=n(593);function i(e){var t={};return e.forEach(function(e){e.keyword in t||(t[e.keyword]=[]),t[e.keyword].push(e)}),t}function a(e){return e.type.toLowerCase().includes("single")||e.type.toLowerCase().includes("indel")}function u(e,t){return Object(r.Y)(Object(o.b)(e),t,a)}},654:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=":";function o(e,t){return"".concat(e).concat(r).concat(t)}function i(e,t){if("string"==typeof e){if(t)return o(e,t);throw"no sampleId given"}return o(e.studyId,e.sampleId)}},655:function(e,t,n){e.exports={portalWidth:"copyDownloadControls-module__portalWidth__wDcH_",framedImage:"copyDownloadControls-module__framedImage__1bvsU",downloadTabLinksGroup:"copyDownloadControls-module__downloadTabLinksGroup__-hkGB"}},656:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(17),i=n(56),a=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,p(t).apply(this,arguments))}var n,u,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(u=[{key:"copyButton",value:function(){var e=r.createElement("button",{ref:this.props.copyButtonRef,className:"btn btn-sm btn-default","data-clipboard-text":"NA",id:"copyButton",onClick:this.props.handleCopy},this.props.copyLabel," ",r.createElement("i",{className:"fa fa-clipboard"}));return r.createElement(a.c,l({overlay:r.createElement("span",{className:"alert-success"},"Copied!"),visible:this.props.showCopyMessage},this.baseTooltipProps,{overlayClassName:this.props.className}),r.createElement(a.c,l({overlay:r.createElement("span",null,"Copy"),visible:!this.props.showCopyMessage&&void 0},this.baseTooltipProps,{overlayClassName:this.props.className}),e))}},{key:"downloadButton",value:function(){return r.createElement(a.c,l({overlay:r.createElement("span",null,"Download TSV")},this.baseTooltipProps,{overlayClassName:this.props.className}),r.createElement(i.Button,{className:"btn-sm",onClick:this.props.handleDownload},this.props.downloadLabel," ",r.createElement("i",{className:"fa fa-cloud-download"})))}},{key:"render",value:function(){return r.createElement("span",{className:this.props.className},r.createElement(i.ButtonGroup,{className:this.props.className},r.createElement(o.If,{condition:this.props.showCopy},this.copyButton()),r.createElement(o.If,{condition:this.props.showDownload},this.downloadButton())))}},{key:"baseTooltipProps",get:function(){return{placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5}}}])&&s(n.prototype,u),f&&s(n,f),t}();f.defaultProps={className:"",copyLabel:"",downloadLabel:"",showCopy:!0,showDownload:!0,showCopyMessage:!1}},657:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(589);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,i;return t=e,(n=[{key:"add",value:function(e,t){var n=[];this.map.has(e)?n=this.map.get(e):this.map.set(e,n),n.push(t)}},{key:"get",value:function(e){return this.map.get(e)}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&o(t.prototype,n),i&&o(t,i),e}()},658:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(570);function o(e,t){var n=t.molecularAlterationType(e.molecularProfileId);switch(n){case r.a.MUTATION_EXTENDED:case r.a.FUSION:null!==t.fusion(e)?(e.alterationType=r.a.FUSION,e.alterationSubType=""):(e.alterationType=r.a.MUTATION_EXTENDED,e.alterationSubType=t.mut_type(e));break;case r.a.COPY_NUMBER_ALTERATION:e.alterationType=r.a.COPY_NUMBER_ALTERATION,e.alterationSubType=t.cna(e);break;case r.a.MRNA_EXPRESSION:case r.a.PROTEIN_LEVEL:e.alterationType=n}return e}},659:function(e,t,n){e.exports=n(16)(68)},661:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3xfuL",framedImage:"styles-module__framedImage__3MWaq",validationBubbleBase:"styles-module__validationBubbleBase__1bQNI",genesSelection:"styles-module__genesSelection__17BpH",GeneSymbolValidator:"styles-module__GeneSymbolValidator__1K2q1",validBubble:"styles-module__validBubble__2iAqd",invalidBubble:"styles-module__invalidBubble__3Hs4P",suggestionBubble:"styles-module__suggestionBubble__1TnzN",topRow:"styles-module__topRow__2F7H0",default:"styles-module__default__3ZAms",oncoprintHeatmap:"styles-module__oncoprintHeatmap__lvPrO",studyView:"styles-module__studyView__3TtjM",studyViewFocus:"styles-module__studyViewFocus__1CfEf",nowrap:"styles-module__nowrap__1GVDf",icon:"styles-module__icon__2RDD6",pendingMessage:"styles-module__pendingMessage__1gVAe",oqlNotice:"styles-module__oqlNotice__3naFJ",errorMessage:"styles-module__errorMessage__3pZ_v",noChoiceLabel:"styles-module__noChoiceLabel__2sdit",singleChoiceLabel:"styles-module__singleChoiceLabel__178JA",multiChoiceLabel:"styles-module__multiChoiceLabel__1PPmp"}},662:function(e,t,n){"use strict";var r=n(0),o=n(4),i=n(7),a=n(9),u=n.n(a),l=n(661),s=n.n(l),c=n(591),p=n.n(c),d=n(2),f=n(594),h=n(588);function m(e){try{return{query:e?Object(h.g)(e.trim().toUpperCase()):[],error:void 0}}catch(i){if("SyntaxError"!==i.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(i)}};var t,n,r,o=i.location.start.offset;return o===e.length?(t="after",n=o-1,r=o):0===o?(t="before",n=o,r=o+1):(t="at",n=o,r=o+1),{query:[],error:{start:n,end:r,message:"OQL syntax error ".concat(t," selected character; please fix and submit again.")}}}}n(728);var y=n(3),v=n(178),g=n(104),b=n.n(g),S=n(626),T=n.n(S),C=n(56);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){if(0==e.genes.length){return r.createElement("div",{className:s.a.suggestionBubble,title:"Could not find gene symbol. Click to remove it from the gene list.",onClick:function(){return e.replaceGene(e.alias,"")}},r.createElement(T.a,{className:s.a.icon,name:"times-circle"}),r.createElement("span",{className:s.a.noChoiceLabel},e.alias))}if(1==e.genes.length){var t=e.genes[0].hugoGeneSymbol,n="'".concat(e.alias,"' is a synonym for '").concat(t,"'. Click here to replace it with the official symbol.");return r.createElement("div",{className:s.a.suggestionBubble,title:n,onClick:function(){return e.replaceGene(e.alias,t)}},r.createElement(T.a,{className:s.a.icon,name:"question"}),r.createElement("span",{className:s.a.singleChoiceLabel},e.alias),r.createElement("span",null,": ".concat(t)))}var o="Ambiguous gene symbol. Click on one of the alternatives to replace it.",i=e.genes.map(function(e){return{label:e.hugoGeneSymbol,value:e.hugoGeneSymbol}});return r.createElement("div",{className:s.a.suggestionBubble,title:o},r.createElement(T.a,{className:s.a.icon,name:"question"}),r.createElement("span",{className:s.a.multiChoiceLabel},e.alias),r.createElement("span",null,":"," "),r.createElement(C.DropdownButton,{bsStyle:o.toLowerCase(),bsSize:"xsmall",title:"Select symbol",id:"geneReplace_".concat(e.alias)},i.map(function(t,n){return r.createElement(C.MenuItem,{onClick:function(){e.replaceGene(e.alias,t.value)},eventKey:n+1},t.label)})))},k=function(e){if(e.oql instanceof Error)return r.createElement("div",{className:s.a.GeneSymbolValidator},r.createElement("span",{className:s.a.errorMessage},"Cannot validate gene symbols because of invalid OQL.","  ",r.createElement("a",{className:"underline",onMouseDown:function(t){t.preventDefault(),e.highlightError()}},"Click to highlight error")));if(0===e.oql.query.length)return null;if(!e.errorMessageOnly&&e.validatingGenes)return r.createElement("div",{className:s.a.GeneSymbolValidator},r.createElement("span",{className:s.a.pendingMessage},"Validating gene symbols..."));if(e.genes instanceof Error)return r.createElement("div",{className:s.a.GeneSymbolValidator},r.createElement("span",{className:s.a.pendingMessage},"Unable to validate gene symbols."));if(e.genes.suggestions.length>0)return r.createElement("div",{className:s.a.GeneSymbolValidator},r.createElement("div",{className:s.a.invalidBubble,title:"Please edit the gene symbols."},r.createElement(T.a,{className:s.a.icon,name:"exclamation-circle"}),r.createElement("span",null,"Invalid gene symbols.")),e.genes.suggestions.map(function(t,n){return r.createElement(w,{key:n,genes:t.genes,alias:t.alias,replaceGene:e.replaceGene})}));var t,n,i,a=o.groupBy(e.genes.found,function(e){return e.hugoGeneSymbol}),l=o.reduce(a,function(e,t,n){return t.length>1&&e.push(n),e},[]);return l.length>0?r.createElement("div",{className:s.a.GeneSymbolValidator},r.createElement("div",{className:s.a.invalidBubble,title:"Please edit the gene symbols."},r.createElement(T.a,{className:s.a.icon,name:"exclamation-circle"}),r.createElement("span",null,"The portal does not currently support the following gene(s):")),l.map(function(t,n){return r.createElement(w,{key:n,genes:[],alias:t,replaceGene:e.replaceGene})})):e.errorMessageOnly?null:r.createElement("div",{className:u()(s.a.GeneSymbolValidator,(t={},n=s.a.nowrap,i=!e.wrapTheContent,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))},r.createElement("div",{className:s.a.validBubble,title:"You can now submit the list."},r.createElement(T.a,{className:s.a.icon,name:"check-circle"}),r.createElement("span",null,"All gene symbols are valid.")))},M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,O(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return this.props.children?r.createElement("div",{id:"wideGeneBoxValidationStatus"},this.props.children):r.createElement("div",{id:"geneBoxValidationStatus"},r.createElement(k,A({replaceGene:this.props.replaceGene},this.props)))}}])&&I(n.prototype,o),i&&I(n,i),t}();function G(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},F=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function q(e){return Number.isInteger(Number(e))}var U=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=R(t).apply(this,arguments),(e=!r||"object"!==L(r)&&"function"!=typeof r?D(n):r).genes=Object(y.S)({invoke:function(){return F(D(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a,u,l,s,c,p,d=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.geneIds.length){e.next=2;break}return e.abrupt("return",{found:[],suggestions:[]});case 2:return t=o.partition(o.uniq(this.geneIds),q),n=N(t,2),r=n[0],i=n[1],a=function(){return F(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.length){e.next=6;break}return e.next=3,v.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:r});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=o.difference(r,t.map(function(e){return e.entrezGeneId+""})),i=n.map(function(e){return{alias:e,genes:[]}}),a=t.map(function(e){return{alias:e.entrezGeneId+"",genes:[e]}}),u=[].concat(G(i),G(a)),e.abrupt("return",{found:t,suggestions:u});case 12:case"end":return e.stop()}},e)}))},u=function(){return F(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=6;break}return e.next=3,v.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:i});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=o.difference(i,t.map(function(e){return e.hugoGeneSymbol})),e.next=10,Promise.all(n.map(function(e){return a.getGeneSuggestions(e)}));case 10:return r=e.sent,e.abrupt("return",{found:t,suggestions:r});case 12:case"end":return e.stop()}},e)}))},e.next=7,Promise.all([a(),u()]);case 7:return l=e.sent,s=N(l,2),c=s[0],p=s[1],e.abrupt("return",{found:[].concat(G(c.found),G(p.found)),suggestions:[].concat(G(c.suggestions),G(p.suggestions))});case 12:case"end":return e.stop()}},e,this)}))},onResult:function(t){e.props.afterValidation&&e.props.afterValidation(0===t.suggestions.length,e.genes.result,e.oql)},default:{found:[],suggestions:[]}}),e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,r["Component"]),n=t,(i=[{key:"getGeneSuggestions",value:function(e){return F(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,v.a.getAllGenesUsingGET({alias:e});case 3:return t.t1=t.sent,t.abrupt("return",{alias:t.t0,genes:t.t1});case 5:case"end":return t.stop()}},t)}))}},{key:"render",value:function(){var e=this;return this.props.skipGeneValidation&&this.props.afterValidation&&this.props.afterValidation(!0,{found:[],suggestions:[]},this.oql),r.createElement(M,{genes:this.props.skipGeneValidation?{found:[],suggestions:[]}:this.genes.isError?new Error("ERROR"):this.genes.result,highlightError:function(){e.props.highlightError&&e.props.highlightError(e.oql)},oql:this.oqlOrError,validatingGenes:!this.props.skipGeneValidation&&this.genes.isPending,errorMessageOnly:this.props.errorMessageOnly,wrapTheContent:this.props.wrap,replaceGene:this.props.replaceGene},this.props.children)}},{key:"oql",get:function(){return m(this.props.geneQuery)}},{key:"geneIds",get:function(){return this.oql.error?[]:this.oql.query.map(function(e){return e.gene})}},{key:"oqlOrError",get:function(){return this.oql.error?new Error("OQL error at character ".concat(this.oql.error.start)):this.oql}}])&&x(n.prototype,i),a&&x(n,a),t}();U.defaultProps={errorMessageOnly:!1},B([b.a],U.prototype,"getGeneSuggestions",null),B([d.computed],U.prototype,"oql",null),B([d.computed],U.prototype,"geneIds",null),B([d.computed],U.prototype,"oqlOrError",null);var V=U=B([i.observer],U),z=n(8),H=n(586),K=n.n(H);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return J});var J,$=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Z(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.STUDY_VIEW_PAGE=1]="STUDY_VIEW_PAGE",e[e.ONCOPRINT_HEATMAP=2]="ONCOPRINT_HEATMAP"}(J||(J={}));var ee=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Q(this,Y(t).call(this,e))).currentTextAreaValue="",n._geneQuery="",n.geneQueryIsValid=!0,n.queryToBeValidated="",n.isFocused=!1,n.skipGenesValidation=!1,n.updateQueryToBeValidateDebounce=o.debounce(function(){n.queryToBeValidated=n.currentTextAreaValue,n.skipGenesValidation=!1,""===n.currentTextAreaValue&&(n.geneQuery="",n.props.callback&&n.props.callback(m(""),{found:[],suggestions:[]},n.geneQuery))},500),n.geneQuery=n.props.inputGeneQuery||"",n.queryToBeValidated=n.geneQuery,n.props.validateInputGeneQuery||(n.skipGenesValidation=!0),n.textAreaRef=r.createRef(),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.disposers=[Object(d.reaction)(function(){return e.props.inputGeneQuery},function(t){(t||"").toUpperCase()!==e.geneQuery.toUpperCase()&&(e.props.validateInputGeneQuery||(e.skipGenesValidation=!0),e.geneQuery=(t||"").trim(),e.queryToBeValidated=e.geneQuery),e.updateTextAreaRefValue()}),Object(d.reaction)(function(){return e.showFullText},function(){e.updateTextAreaRefValue()})]}},{key:"componentWillUnmount",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.disposers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"updateGeneQuery",value:function(e){this.geneQuery=e,this.queryToBeValidated=e,this.isFocused=!0,this.updateTextAreaRefValue()}},{key:"getTextAreaValue",value:function(){return this.showFullText?this.geneQuery:this.getFocusOutValue()}},{key:"updateTextAreaRefValue",value:function(){this.textAreaRef.current.value=this.getTextAreaValue()}},{key:"getFocusOutValue",value:function(){return function(e){var t="";if(e.length>0){t=e[0];for(var n=1;n<e.length;n++){if(t.length>13||t.length+e[n].length>13){t+=" and "+(e.length-n)+" more";break}t+=" "+e[n]}}return t}(m(this.geneQuery).query.map(function(e){return e.gene}))}},{key:"afterGeneSymbolValidation",value:function(e,t,n){this.geneQueryIsValid=e,this.props.callback&&this.props.callback(n,t,this.geneQuery)}},{key:"highlightError",value:function(e){this.textAreaRef.current.focus(),this.textAreaRef.current.setSelectionRange(e.error.start,e.error.end)}},{key:"onChange",value:function(e){this.currentTextAreaValue=e.currentTarget.value,this.geneQuery=this.currentTextAreaValue,this.updateQueryToBeValidateDebounce()}},{key:"onFocus",value:function(){this.isFocused=!0}},{key:"onBlur",value:function(){this.isFocused=!1}},{key:"replaceGene",value:function(e,t){var n=Object(f.e)(this.getTextAreaValue().toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}));this.updateGeneQuery(n)}},{key:"render",value:function(){return r.createElement("div",{className:s.a.genesSelection},r.createElement("div",{className:s.a.topRow},r.createElement("textarea",{ref:this.textAreaRef,onFocus:this.onFocus,onBlur:this.onBlur,className:u()(this.textAreaClasses),rows:5,cols:80,placeholder:this.promptText,title:this.promptText,defaultValue:this.getTextAreaValue(),onChange:this.onChange,"data-test":"geneSet",style:{height:this.props.textAreaHeight}}),this.props.submitButton),r.createElement("div",{className:"oqlValidationContainer"},r.createElement(V,{focus:this.props.focus,geneQuery:this.queryToBeValidated,skipGeneValidation:this.skipGenesValidation,updateGeneQuery:this.updateGeneQuery,afterValidation:this.afterGeneSymbolValidation,replaceGene:this.replaceGene,errorMessageOnly:this.props.location===J.STUDY_VIEW_PAGE,highlightError:this.highlightError},this.props.children)),r.createElement("div",null,this.showErrorsAndMessages&&this.props.error&&r.createElement("span",{className:p.a.errorMessage,"data-test":"oqlErrorMessage"},this.props.error),this.showErrorsAndMessages&&this.props.messages&&this.props.messages.map(function(e){return r.createElement("span",{className:p.a.oqlMessage},r.createElement("i",{className:"fa fa-info-circle",style:{marginRight:5}}),e)})))}},{key:"geneQuery",get:function(){return this.queryStore?this.queryStore.geneQuery:this._geneQuery},set:function(e){this.queryStore?this.queryStore.geneQuery=e:this._geneQuery=e}},{key:"textAreaClasses",get:function(){var e=[];switch(this.props.location){case J.STUDY_VIEW_PAGE:e.push(s.a.studyView),!this.isFocused&&this.geneQueryIsValid||e.push(s.a.studyViewFocus);break;case J.ONCOPRINT_HEATMAP:e.push(s.a.oncoprintHeatmap);break;default:e.push(s.a.default)}return this.geneQuery||e.push(s.a.empty),e}},{key:"showFullText",get:function(){return!this.geneQueryIsValid||this.isFocused||this.props.location!==J.STUDY_VIEW_PAGE}},{key:"promptText",get:function(){return this.props.textBoxPrompt?this.props.textBoxPrompt:"Click gene symbols below or enter here"}},{key:"showErrorsAndMessages",get:function(){return this.props.location!==J.STUDY_VIEW_PAGE||this.isFocused}}])&&W(n.prototype,i),a&&W(n,a),t}();ee.defaultProps={validateInputGeneQuery:!0},$([d.observable],ee.prototype,"_geneQuery",void 0),$([d.computed],ee.prototype,"geneQuery",null),$([d.observable],ee.prototype,"geneQueryIsValid",void 0),$([d.observable],ee.prototype,"queryToBeValidated",void 0),$([d.observable],ee.prototype,"isFocused",void 0),$([d.observable],ee.prototype,"skipGenesValidation",void 0),$([z.default,d.action],ee.prototype,"updateGeneQuery",null),$([z.default,d.action],ee.prototype,"updateTextAreaRefValue",null),$([d.computed],ee.prototype,"textAreaClasses",null),$([d.computed],ee.prototype,"showFullText",null),$([z.default,d.action],ee.prototype,"afterGeneSymbolValidation",null),$([z.default],ee.prototype,"highlightError",null),$([d.computed],ee.prototype,"promptText",null),$([K.a],ee.prototype,"onChange",null),$([K.a],ee.prototype,"onFocus",null),$([K.a],ee.prototype,"onBlur",null),$([K.a],ee.prototype,"replaceGene",null),$([d.computed],ee.prototype,"showErrorsAndMessages",null),ee=$([i.observer],ee);t.b=ee},664:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return m});var r=n(592),o=n(4),i=n.n(o),a=n(672),u=n.n(a),l=n(0),s=n(604),c={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"copy number alterations",MRNA_EXPRESSION:"mRNA expression",PROTEIN_LEVEL:"protein expression"};function p(e,t){var n;return n=e&&t?"Annotating with OncoKB and Cancer Hotspots":e?"Annotating with OncoKB":t?"Annotating with Cancer Hotspots":"Processing data",l.createElement("span",{style:{whiteSpace:"nowrap"}},n)}function d(e,t){return t?"".concat(r.c.ComparisonGroupPrefix,"_").concat(e):e.substring(r.c.ComparisonGroupPrefix.length+1)}function f(e){return e.map(function(e){return{clinicalAttributeId:d(e.id,!0),datatype:"STRING",description:"Membership in ".concat(e.data.name),displayName:"In group: ".concat(e.data.name),comparisonGroup:e,patientAttribute:!1}})}function h(e,t,n,o){var a=i.a.groupBy(n,"molecularAlterationType"),l=i.a.keyBy(n,function(e){return e.molecularProfileId}),s=i.a.mapValues(a,function(e){return!0}),p=i.a.reduce(e,function(e,n){var r=i.a.clone(s),o=!0,a=!1,u=void 0;try{for(var c,p=n.notProfiledAllGenes[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value;d.molecularProfileId in l&&(r[t[d.molecularProfileId].molecularAlterationType]=!0)}}catch(e){a=!0,u=e}finally{try{o||null==p.return||p.return()}finally{if(a)throw u}}i.a.forEach(n.notProfiledByGene,function(e){var n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;s.molecularProfileId in l&&(r[t[s.molecularProfileId].molecularAlterationType]=!0)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}});var f=!0,h=!1,m=void 0;try{for(var y,v=n.allGenes[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var g=y.value;g.molecularProfileId in l&&(r[t[g.molecularProfileId].molecularAlterationType]=!1)}}catch(e){h=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw m}}return i.a.forEach(n.byGene,function(e){var n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;s.molecularProfileId in l&&(r[t[s.molecularProfileId].molecularAlterationType]=!1)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}}),i.a.forEach(r,function(t,n){t&&(e[n]=e[n]||0,e[n]+=1)}),e},{}),d=Object.keys(p).filter(function(e){return p[e]>0}).map(function(e){var t=a[e];if(t){if(1===t.length&&o){var n=t[0];return{clinicalAttributeId:"".concat(r.c.ProfiledInPrefix,"_").concat(n.molecularProfileId),datatype:"STRING",description:"Profiled in ".concat(n.name,": ").concat(n.description),displayName:"Profiled in ".concat(n.name),molecularProfileIds:[n.molecularProfileId],patientAttribute:!1}}return{clinicalAttributeId:"".concat(r.c.ProfiledInPrefix,"_").concat(e),datatype:"STRING",description:"",displayName:"Profiled for ".concat(c[e]),molecularProfileIds:t.map(function(e){return e.molecularProfileId}),patientAttribute:!1}}return null}).filter(function(e){return!!e});return d.sort(function(e,t){return u()(e.displayName,t.displayName)}),d}function m(e){return i.a.mapValues(e,function(e){return i.a.map(e,function(e){var t="NAME"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.NAME:s.a,n="DESCRIPTION"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.DESCRIPTION:s.a,r=t!==e.stableId,o=n!==e.stableId&&n!==t,i="";return i=r||o?r?o?"".concat(t," (").concat(e.stableId,"): ").concat(n):"".concat(t," (").concat(e.stableId,")"):"".concat(e.stableId,": ").concat(n):e.stableId,{id:e.stableId,value:i,label:i}})})}},666:function(e,t,n){},667:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3H61V",framedImage:"styles-module__framedImage__3vt8Y",absolutePanel:"styles-module__absolutePanel__3vVTX",selectedInfoLoadingIndicator:"styles-module__selectedInfoLoadingIndicator__lMgyy",selectedInfo:"styles-module__selectedInfo__1Vuvh",selectedInfoCheckbox:"styles-module__selectedInfoCheckbox__1dPUi",mainTabs:"styles-module__mainTabs__3BkVf",studyViewSurvivalPlot:"styles-module__studyViewSurvivalPlot__2J73a",studyViewSurvivalPlotTitle:"styles-module__studyViewSurvivalPlotTitle__3oyYN",studyViewSurvivalPlotBody:"styles-module__studyViewSurvivalPlotBody__38PYq",studyViewAutoMargin:"styles-module__studyViewAutoMargin__ST9aM",studyViewLoadingIndicator:"styles-module__studyViewLoadingIndicator__3qAeE",userSelections:"styles-module__userSelections__2SV9k",parentGroupLogic:"styles-module__parentGroupLogic__3_MlA",summaryClearAllBtn:"styles-module__summaryClearAllBtn__2ZLVo",filterClinicalAttrName:"styles-module__filterClinicalAttrName__1bFhQ",summary:"styles-module__summary___VCN0",description:"styles-module__description__2DLbO",actionButtons:"styles-module__actionButtons__3xgw0",studyFilterResult:"styles-module__studyFilterResult__2WKz_",titleMeta:"styles-module__titleMeta__2ZbFA",bookmarkButton:"styles-module__bookmarkButton__2q-0U"}},668:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return s});var r=n(4),o=n.n(r),i=n(577);function a(e,t){return e.filter(function(e){return t.isComparisonGroupSelected(e.uid)})}function u(e,t){var n=o.a.groupBy(e,function(e){return e.studyId}),r=t?o.a.groupBy(t,function(e){return e.studyId}):{};return o.a.uniq(Object.keys(n).concat(Object.keys(r))).map(function(e){var i={id:e,samples:o.a.uniq((n[e]||[]).map(function(e){return e.sampleId}))};return t&&(i.patients=o.a.uniq((r[e]||[]).map(function(e){return e.patientId}))),i})}function l(e,t,n,r){return{name:e,description:"",studies:u(t),origin:n,color:r}}function s(e,t){e=Object.assign({},e);var n=Object(i.w)([e]),r=o.a.uniqWith(n.concat(t),function(e,t){return e.studyId===t.studyId&&e.sampleId===t.sampleId});return e.studies=u(r),e}},669:function(e,t,n){"use strict";function r(e,t){var n=null;return function(r){null!==n&&(window.clearTimeout(n),n=null);var o=r.currentTarget.value;n=window.setTimeout(function(){e(o)},t||400)}}n.d(t,"a",function(){return r})},670:function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return b});var r=n(4),o=n(2),i=n(8),a=n(102),u=n(595),l=n(573);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y="_cBioPortalProteinImpactTypeFilter_",v="_cBioPortalMutationStatusFilter_";function g(e){return e.find(function(e){return e.id===y})}var b=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,d(t).call(this,e))).dataFilters=[],r.selectionFilters=[],r.highlightFilters=[],r.dataFilters=o,r.selectionFilters=i,r.highlightFilters=a,r.groupFilters=u,r.dataSelector=function(e){return r.dataSelectFilter(e)},r.dataHighlighter=function(e){return r.dataHighlightFilter(e)},r.customFilterApplier=n,r.setFilter(),r}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,u["b"]),n=t,(o=[{key:"clearDataFilters",value:function(){this.dataFilters=[]}},{key:"clearHighlightFilters",value:function(){this.highlightFilters=[]}},{key:"clearSelectionFilters",value:function(){this.selectionFilters=[]}},{key:"setDataFilters",value:function(e){this.dataFilters=e}},{key:"setHighlightFilters",value:function(e){this.highlightFilters=e}},{key:"setSelectionFilters",value:function(e){this.selectionFilters=e}},{key:"setGroupFilters",value:function(e){this.groupFilters=e}},{key:"isPositionSelected",value:function(e){return!!this.selectedPositions[e+""]}},{key:"isPositionHighlighted",value:function(e){return!!this.highlightedPositions[e+""]}},{key:"setFilter",value:function(e){var n=this;p(d(t.prototype),"setFilter",this).call(this,function(t,r,o,i){return(!e||e(t,r,o,i))&&(0===n.dataFilters.length||n.dataMainFilter(t))}),this.lazyMobXTableFilter=e}},{key:"resetFilter",value:function(){var e=this;p(d(t.prototype),"resetFilter",this).call(this),this.dataFilter=function(t){return 0===e.dataFilters.length||e.dataMainFilter(t)},this.lazyMobXTableFilter=void 0}},{key:"resetFilters",value:function(){this.resetFilter(),this.resetDataFilters()}},{key:"resetDataFilters",value:function(){this.clearDataFilters(),this.clearHighlightFilters(),this.clearSelectionFilters()}},{key:"dataMainFilter",value:function(e){return Object(a.z)(e,this.dataFilters,this.applyFilter)}},{key:"dataSelectFilter",value:function(e){return Object(a.z)(e,this.selectionFilters,this.applyFilter)}},{key:"dataHighlightFilter",value:function(e){return Object(a.z)(e,this.highlightFilters,this.applyFilter)}},{key:"applyFilter",value:function(e,t){var n=r.flatten([t])[0];return this.customFilterApplier?this.customFilterApplier.applyFilter(e,n):e.type!==a.h.POSITION||e.values.includes(n.proteinPosStart)}},{key:"applyLazyMobXTableFilter",value:function(e){return!this.filterString||!this.lazyMobXTableFilter||this.lazyMobXTableFilter([r.flatten([e])[0]],this.filterString.toLowerCase(),this.filterString.toUpperCase())}},{key:"sortedFilteredGroupedData",get:function(){return Object(a.T)(this.groupFilters,this.sortedFilteredData,this.applyFilter)}},{key:"selectedPositions",get:function(){return r.keyBy(Object(a.L)(this.selectionFilters).map(function(e){return{position:e}}),"position")}},{key:"highlightedPositions",get:function(){return r.keyBy(Object(a.L)(this.highlightFilters).map(function(e){return{position:e}}),"position")}},{key:"tableDataGroupedByPatients",get:function(){return Object(l.k)(r.flatten(this.tableData))}},{key:"duplicateMutationCountInMultipleSamples",get:function(){return Object(l.c)(this.tableDataGroupedByPatients)}}])&&s(n.prototype,o),i&&s(n,i),t}();m([o.observable],b.prototype,"dataFilters",void 0),m([o.observable],b.prototype,"selectionFilters",void 0),m([o.observable],b.prototype,"highlightFilters",void 0),m([o.observable],b.prototype,"groupFilters",void 0),m([o.computed],b.prototype,"sortedFilteredGroupedData",null),m([o.computed],b.prototype,"selectedPositions",null),m([o.computed],b.prototype,"highlightedPositions",null),m([o.action],b.prototype,"clearDataFilters",null),m([o.action],b.prototype,"clearHighlightFilters",null),m([o.action],b.prototype,"clearSelectionFilters",null),m([o.action],b.prototype,"setDataFilters",null),m([o.action],b.prototype,"setHighlightFilters",null),m([o.action],b.prototype,"setSelectionFilters",null),m([o.action],b.prototype,"setGroupFilters",null),m([o.action],b.prototype,"setFilter",null),m([o.action],b.prototype,"resetFilter",null),m([o.action],b.prototype,"resetFilters",null),m([o.action],b.prototype,"resetDataFilters",null),m([o.computed],b.prototype,"tableDataGroupedByPatients",null),m([o.computed],b.prototype,"duplicateMutationCountInMultipleSamples",null),m([i.default],b.prototype,"dataMainFilter",null),m([i.default],b.prototype,"dataSelectFilter",null),m([i.default],b.prototype,"dataHighlightFilter",null),m([i.default],b.prototype,"applyFilter",null),m([i.default],b.prototype,"applyLazyMobXTableFilter",null)},671:function(e,t,n){"use strict";function r(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;t[o(l)]={entrezGeneId:l.entrezGeneId,proteinPosStart:l.proteinPosStart,proteinPosEnd:l.proteinPosEnd}}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}function o(e){return"".concat(e.entrezGeneId,"_").concat(e.proteinPosStart,"_").concat(e.proteinPosEnd)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},673:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDE5NC4wMDAwMDAgMTk0LjAwMDAwMCIKICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4KIDxtZXRhZGF0YT4KICBDcmVhdGVkIGJ5IHBvdHJhY2UgMS4xMCwgd3JpdHRlbiBieSBQZXRlciBTZWxpbmdlciAyMDAxLTIwMTEKIDwvbWV0YWRhdGE+CiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwxOTQuMDAwMDAwKSBzY2FsZSgwLjA1MDAwMCwtMC4wNTAwMDApIgogICAgZmlsbD0iIzM2NmJjYyIgc3Ryb2tlPSJub25lIj4KICA8cGF0aCBkPSJNMTc0NiAzODU4IGMtMTYwNSAtMTQ5IC0yMzEyIC0yMTM1IC0xMTY4IC0zMjgwIDEyMTIgLTEyMTIgMzI4NQotMzUzIDMyODUgMTM2MiAwIDExNDkgLTk2NyAyMDI1IC0yMTE3IDE5MTh6IG00OTAgLTQ4OSBjOTIyIC0xODcgMTQyNyAtMTIxMQoxMDE0IC0yMDU5IC01MzggLTExMDUgLTIwODIgLTExMDUgLTI2MjAgMCAtNTI2IDEwODAgNDI0IDIyOTggMTYwNiAyMDU5eiIvPgogIDxwYXRoIGQ9Ik0xNjcwIDMxMTEgYy0xODEgLTU0IC0xOTkgLTYwIC0zMjUgLTEyOSAtNjc2IC0zNjYgLTgwNSAtMTMzNiAtMjUyCi0xODg5IDU1MiAtNTUzIDE1MjQgLTQyNCAxODg5IDI1MiAzMTggNTkwIDExNiAxMzMzIC00NDcgMTYzNyAtMjY0IDE0MiAtNjMxCjE5NyAtODY1IDEyOXogbTU0MyAtNDk0IGMxNjIgLTYwIDM0MyAtMjQxIDQwNyAtNDA3IDI4NSAtNzM1IC02MzUgLTEzMzkKLTExOTIgLTc4MiAtNTYxIDU2MSAzOCAxNDY4IDc4NSAxMTg5eiIvPgogIDxwYXRoIGQ9Ik0xODIwIDI0MDIgYy01MzIgLTE3NCAtNDM1IC05MzEgMTIwIC05MzEgNDk5IDAgNjU3IDY2NCAyMTIgODkzIC04Ngo0NCAtMjU1IDY0IC0zMzIgMzh6Ii8+CiA8L2c+Cjwvc3ZnPgo="},674:function(e,t,n){e.exports=n(16)(483)},675:function(e,t,n){e.exports=n(16)(39)},678:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a});var r="*",o="+",i="-",a=" "},679:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(571),o=n(14),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){i.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:e.join(",")}).end(function(e,r){if(!e&&r.ok){var o=JSON.parse(r.text).result,i=o.uids,a={},u=!0,l=!1,s=void 0;try{for(var c,p=i[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var d=c.value;a[d]=o[d]}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}t(a)}else n(e)})});case 2:for(n=t.sent,r=[],o=0,a=Object.keys(n);o<a.length;o++)u=a[o],r.push({data:[n[u]],meta:u});return t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).call(this,function(e){return e+""},function(e,t){return t},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},680:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(183),o=n(572),i=n(573),a=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return a(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(a=l(Object(o.d)(e,t))).length){r.next=3;break}return r.abrupt("return",[]);case 3:return u=Object(i.q)(a),r.next=6,n.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:u});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r)}))}function l(e){var t=n(715);return e.filter(function(e){return!e.gene.hugoGeneSymbol||t.includes(e.gene.hugoGeneSymbol)})}},681:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(4),i=n(56);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=s(t).call(this,e))||"object"!==a(o)&&"function"!=typeof o?c(r):o).handleSelect=n.handleSelect.bind(c(n)),n}var n,d,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(d=[{key:"render",value:function(){var e=this;return r.createElement(i.Dropdown,{className:this.props.className,id:"dropdown-custom-1"},r.createElement(i.Dropdown.Toggle,u({rootCloseEvent:"click"},{className:"btn-sm"}),this.props.buttonText),r.createElement(i.Dropdown.Menu,u({bsRole:"menu"},{style:{paddingLeft:10,overflow:"auto",maxHeight:300,whiteSpace:"nowrap"}}),r.createElement("ul",{className:"list-unstyled"},this.props.columnVisibility&&o.map(this.props.columnVisibility,function(t){return t.togglable?r.createElement("li",{key:t.id},r.createElement(i.Checkbox,{"data-id":t.id,onChange:e.handleSelect,checked:t.visible,inline:!0},t.name)):null}))))}},{key:"handleSelect",value:function(e){var t=e.currentTarget.getAttribute("data-id");this.props.onColumnToggled&&t&&this.props.onColumnToggled(t,this.props.columnVisibility)}}])&&l(n.prototype,d),f&&l(n,f),t}();d.defaultProps={className:"",buttonText:"Columns"}},683:function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r=n(0),o=n(4),i=n(720),a=n.n(i),u=n(7),l=n(2),s=n(9),c=n.n(s),p=n(3),d=n(127),f=n(17),h=n(15),m=n(574),y=n(8),v=n(65);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function T(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},k=n(613),M=function(e){function t(){var e;return g(this,t),(e=T(this,P(t).apply(this,arguments))).showDescription=!1,e}return A(t,r["Component"]),S(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{className:a.a.studySummary},r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("span",{className:a.a.studyName},r.createElement("i",{className:"fa fa-".concat(this.showDescription?"minus":"plus","-circle"),onClick:function(){return e.showDescription=!e.showDescription}}),this.props.name),r.createElement("a",{target:"_blank",href:Object(h.B)(this.props.studyId)},r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"}))),r.createElement("div",{className:a.a.studyDescription,style:{display:this.showDescription?"block":"none"}},r.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(this.props.description.replace(/\r?\n/g,"<br/>"))}}))))}}]),t}();O([l.observable],M.prototype,"showDescription",void 0),M=O([u.observer],M);var G=function(e){function t(e){var n;return g(this,t),(n=T(this,P(t).call(this,e))).saving=!1,n.sharing=!1,n.copied=!1,n.virtualStudy=Object(p.S)({invoke:function(){return _(C(n),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.saving&&!this.sharing){e.next=8;break}return t=o.groupBy(this.props.selectedSamples,function(e){return e.studyId}),n=o.reduce(t,function(e,t,n){return e.push({id:n,samples:t.map(function(e){return e.sampleId})}),e},[]),r=this.props.filter,r.sampleIdentifiersSet,i=w(r,["sampleIdentifiersSet"]),a={name:this.name||this.namePlaceHolder,description:this.description,studyViewFilter:i,origin:this.props.studyWithSamples.map(function(e){return e.studyId}),studies:n},e.next=7,d.a.saveVirtualStudy(a,this.saving);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}},e,this)}))}},void 0),n.name=e.name||"",n.description=e.description||Object(m.hb)(n.props.description,n.props.studyWithSamples,n.props.filter,n.attributeNamesSet,n.props.molecularProfileNameSet,n.props.caseListNameSet,n.props.user),n}return A(t,r["Component"]),S(t,[{key:"copyLinkRef",value:function(e){var t=this;e&&new k(e,{text:function(){return t.virtualStudyUrl}})}},{key:"onCopyClick",value:function(){this.copied=!0}},{key:"onTooltipVisibleChange",value:function(e){this.copied=!e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:a.a.virtualStudy},r.createElement(f.If,{condition:this.virtualStudy.isError},r.createElement(f.Then,null,r.createElement("div",{style:{textAlign:"center"}},r.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"orange"}}),r.createElement("span",{style:{marginLeft:"5px"}},"Failed to ".concat(this.saving?"save":"share"," virtual study, please try again later.")))),r.createElement(f.Else,null,r.createElement(f.If,{condition:this.virtualStudy.isPending||o.isUndefined(this.virtualStudy.result)},r.createElement(f.Then,null,r.createElement("div",null,r.createElement("div",{className:c()(a.a.virtualStudyForm,this.virtualStudy.isPending?a.a.disabled:void 0)},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control",value:this.name,placeholder:this.namePlaceHolder||"Virtual study name",onInput:function(t){return e.name=t.currentTarget.value}}),r.createElement("div",{className:"input-group-btn"},this.showSaveButton&&r.createElement("button",{className:c()("btn btn-default",a.a.saveButton),"data-event":Object(v.e)({category:"studyPage",action:"saveVirtualStudy"}),type:"button",disabled:this.buttonsDisabled,onClick:function(t){e.saving=!0}},this.saving?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Save"),r.createElement("button",{className:c()("btn btn-default",a.a.saveButton),type:"button",disabled:this.buttonsDisabled,"data-event":Object(v.e)({category:"studyPage",action:"shareVirtualStudy"}),onClick:function(t){e.sharing=!0}},this.sharing?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Share"))),r.createElement("textarea",{className:"form-control",rows:10,placeholder:"Virtual study description (Optional)",value:this.description,onChange:function(t){return e.description=t.currentTarget.value}})),r.createElement("span",{style:{display:"block",fontWeight:"bold"}},"This virtual study was derived from:"),r.createElement("div",{className:a.a.studiesSummaryInfo},this.props.studyWithSamples.map(function(e){return r.createElement(M,e)})))),r.createElement(f.Else,null,r.createElement("div",{className:c()(a.a.result)},r.createElement("div",{className:a.a.name},r.createElement("a",{target:"_blank",href:"".concat(this.virtualStudyUrl),style:{width:"220px"}},this.virtualStudyUrl)),r.createElement("div",{className:c()("btn-group btn-group-xs",a.a.controls)},r.createElement(p.c,{overlay:r.createElement(f.If,{condition:this.copied},r.createElement(f.Then,null,r.createElement("span",{className:"alert-success"},"Copied!")),r.createElement(f.Else,null,r.createElement("span",null,"Copy"))),placement:"top",onVisibleChange:this.onTooltipVisibleChange},r.createElement("span",{className:"btn btn-default",ref:this.copyLinkRef,onClick:this.onCopyClick},"Copy")),r.createElement("span",{className:"btn btn-default",onClick:function(t){return window.open(e.virtualStudyUrl,"_blank")}},"View"),this.saving&&r.createElement("span",{className:"btn btn-default",onClick:function(t){e.virtualStudy.result&&window.open(Object(h.b)("results",{cancer_study_id:e.virtualStudy.result.id}),"_blank")}},"Query"))))))))}},{key:"namePlaceHolder",get:function(){return"Selected sample".concat(this.props.selectedSamples.length>1?"s":""," (").concat(Object(m.G)(),")")}},{key:"buttonsDisabled",get:function(){return o.isEmpty(this.namePlaceHolder)&&o.isEmpty(this.name)}},{key:"virtualStudyUrl",get:function(){return Object(h.b)({pathname:"study",query:{id:this.virtualStudy.result?this.virtualStudy.result.id:""}})}},{key:"showSaveButton",get:function(){return!(o.isUndefined(this.props.user)||o.isEmpty(this.props.user)||o.isEqual(this.props.user.toLowerCase(),"anonymoususer"))}},{key:"attributeNamesSet",get:function(){return o.reduce(this.props.attributesMetaSet,function(e,t,n){return e[n]=t.displayName,e},{})}}]),t}();O([l.observable],G.prototype,"name",void 0),O([l.observable],G.prototype,"description",void 0),O([l.observable],G.prototype,"saving",void 0),O([l.observable],G.prototype,"sharing",void 0),O([l.observable],G.prototype,"copied",void 0),O([l.computed],G.prototype,"namePlaceHolder",null),O([l.computed],G.prototype,"buttonsDisabled",null),O([l.computed],G.prototype,"virtualStudyUrl",null),O([y.default],G.prototype,"copyLinkRef",null),O([y.default,l.action],G.prototype,"onCopyClick",null),O([y.default,l.action],G.prototype,"onTooltipVisibleChange",null),O([l.computed],G.prototype,"showSaveButton",null),O([l.computed],G.prototype,"attributeNamesSet",null),G=O([u.observer],G),t.b=G},684:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var r=n(0),o=n(4),i=n(575),a=n(7),u=n(2),l=n(56),s=n(580),c=n(582),p=n(599),d=n.n(p),f=n(641),h=n(8),m=n(578);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T,C=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.ALTERATION="ALTERATION",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.LOG_RATIO="Log Ratio",e.TENDENCY="Tendency",e.ENRICHED="Enriched in",e.MOST_ENRICHED="Most enriched in"}(T||(T={}));var P={2:"Amp","-2":"DeepDel"},A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(i.b,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[T.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(l.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:d.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:d.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[T.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:f.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[T.ALTERATION]={name:"Alteration",render:function(e){return r.createElement("span",{style:{color:2===e.value?m.a:m.d}},P[e.value])},tooltip:r.createElement("span",null,"Copy number alteration"),filter:function(e,t,n){return P[e.value].toUpperCase().includes(n)},sortBy:function(e){return P[e.value]},download:function(e){return P[e.value]}},t[T.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:e.qValue<.05?"bold":"normal"}},void 0!==e.pValue?Object(s.e)(e.pValue,3,.01,-10):"-")},tooltip:this.props.data.length>0?r.createElement("span",null,"Derived from"," ",o.values(this.props.data[0].groupsSet).length>2?"Chi-squared test":"one-sided Fisher Exact test"):void 0,sortBy:function(e){return Number(e.pValue)},download:function(e){return void 0!==e.pValue?Object(c.b)(e.pValue,3,.01):"-"}},t[T.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:e.qValue<.05?"bold":"normal"}},void 0!==e.qValue?Object(s.e)(e.qValue,3,.01,-10):"-")},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return Number(e.qValue)},download:function(e){return void 0!==e.qValue?Object(c.b)(e.qValue,3,.01):"-"}},t}}])&&y(n.prototype,a),u&&y(n,u),t}();A.defaultProps={columns:[T.GENE,T.CYTOBAND,T.P_VALUE,T.Q_VALUE],initialSortColumn:"q-Value"},C([h.default],A.prototype,"onRowClick",null),C([u.computed],A.prototype,"columns",null),A=C([a.observer],A),t.b=A},685:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(4),i=n(575),a=n(7),u=n(2),l=n(56),s=n(580),c=n(582),p=n(599),d=n.n(p),f=n(641),h=n(8);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S,T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.LOG_RATIO="Log Ratio",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.TENDENCY="Tendency",e.EXPRESSED="Higher expression in",e.MEAN_SUFFIX=" mean",e.STANDARD_DEVIATION_SUFFIX=" standard deviation"}(S||(S={}));var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol,e.entrezGeneId),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(i.b,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[S.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(l.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:d.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:d.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[S.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:f.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[S.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(c.b)(e.pValue,3,.01))},tooltip:r.createElement("span",null,"Derived from Student's t-test"),sortBy:function(e){return e.pValue},download:function(e){return Object(c.b)(e.pValue,3,.01)}},t[S.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(s.b)(e.qValue))},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(c.b)(e.qValue,3,.01)}},t}}])&&m(n.prototype,a),u&&m(n,u),t}();C.defaultProps={columns:[S.GENE,S.CYTOBAND,S.P_VALUE,S.Q_VALUE],initialSortColumn:"q-Value",mutexTendency:!0},T([h.default],C.prototype,"onRowClick",null),T([u.computed],C.prototype,"columns",null),C=T([a.observer],C),t.b=C},690:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogICAgPGcgaWQ9Imljb21vb24taWdub3JlIj4KICAgIDwvZz4KICAgIDxwYXRoIGZpbGw9IiNmZjk5MDAiIGQ9Ik0zMjEuMDA4IDEwNDUuMzMzYy02OC4yNDUtMTQyLjAwOC0zMS45MDEtMjIzLjM3OSAyMC41NTEtMzAwLjA0NCA1Ny40NC04My45NTYgNzIuMjQ0LTE2Ny4wNjUgNzIuMjQ0LTE2Ny4wNjVzNDUuMTUzIDU4LjcgMjcuMDkyIDE1MC41MDhjNzkuNzcyLTg4LjggOTQuODI0LTIzMC4yOCA4Mi43ODMtMjg0LjQ2NCAxODAuMzE1IDEyNi4wMTIgMjU3LjM3NiAzOTguODU2IDE1My41MjMgNjAxLjA2NSA1NTIuMzcyLTMxMi41MzIgMTM3LjM5OS03ODAuMTcyIDY1LjE1NS04MzIuODUxIDI0LjA4MSA1Mi42NzYgMjguNjQ4IDE0MS44NTEtMjAgMTg1LjEyNy04Mi4zNTItMzEyLjI3Ni0yODUuOTcyLTM3Ni4yNzYtMjg1Ljk3Mi0zNzYuMjc2IDI0LjA4MyAxNjEuMDQ0LTg3LjI5NiAzMzcuMTQ0LTE5NC42OTYgNDY4LjczMS0zLjc3NS02NC4yMTYtNy43ODMtMTA4LjUyOC00MS41NDktMTY5Ljk4LTcuNTggMTE2LjY1Ni05Ni43MzIgMjExLjc0OC0xMjAuODczIDMyOC42MjgtMzIuNzAxIDE1OC4yODcgMjQuNDk2IDI3NC4xOCAyNDEuNzQ4IDM5Ni42MjN6Ij48L3BhdGg+Cjwvc3ZnPgo="},691:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__-Qj7G",framedImage:"styles-module__framedImage__TmznI",labeledCheckbox:"styles-module__labeledCheckbox__jTAe1"}},692:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r=n(0),o=n(758),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return function(t,n,r){return n in t&&t[n]instanceof e?null:new Error("Expecting ".concat(r," to receive {").concat(JSON.stringify(n),": ").concat(e.name,"} from context"))}}function d(e){return i()({store:p(e)},function(e){return{store:e.store}})}function f(e){var t;return(t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"store",get:function(){return this.context.store}}])&&u(n.prototype,o),i&&u(n,i),t}()).contextTypes={store:p(e)},t}},693:function(e,t,n){e.exports={portalWidth:"tables-module__portalWidth__2u2eA",framedImage:"tables-module__framedImage__2sdMG",studyViewTablesTable:"tables-module__studyViewTablesTable__29Y2_",tableSearchInput:"tables-module__tableSearchInput__2uOMk",labelContent:"tables-module__labelContent__2FLsJ",labelContentSVG:"tables-module__labelContentSVG__2v71D",controls:"tables-module__controls__2KTG_",controlsBtn:"tables-module__controlsBtn__24B4k",geneSymbol:"tables-module__geneSymbol__1OUGZ",cancerGene:"tables-module__cancerGene__CqmRo",headerColumn:"tables-module__headerColumn__WCJTO",headerRow:"tables-module__headerRow__3Ckx0",row:"tables-module__row__20ZyT",oddRow:"tables-module__oddRow__3vz4c",evenRow:"tables-module__evenRow__KCskI",highlightedEvenRow:"tables-module__highlightedEvenRow__2EYSy",highlightedRow:"tables-module__highlightedRow__1wuhn",highlightedOddRow:"tables-module__highlightedOddRow__1RWUf",cancerGeneIcon:"tables-module__cancerGeneIcon__1Zp6i",gistic:"tables-module__gistic__1d6Gl",mutsig:"tables-module__mutsig__3Q3o0",cancerGenesRow:"tables-module__cancerGenesRow__1crxh",amp:"tables-module__amp__yRy0o",del:"tables-module__del__PLU6Y",displayFlex:"tables-module__displayFlex__7WOab",headerSortingIcon:"tables-module__headerSortingIcon__1aRye",autoMarginCheckbox:"tables-module__autoMarginCheckbox__3tMQV",union:"tables-module__union__3dOlj",intersection:"tables-module__intersection__2qPMu"}},694:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(581),i=n(580);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e="horizontal"===this.props.orientation;if("gradient"===this.props.datum.symbol.type){for(var t=this.props.datum.symbol.colorFn,n=this.props.datum.symbol.range,a=this.props.datum.symbol.gradientUid,u=[],l=0;l<30;l++){var s=l/30;u.push(r.createElement("stop",{offset:"".concat((100*s).toFixed(0),"%"),stopColor:t(s*n[1]+(1-s)*n[0])}))}var c,p,d,f,h,m,y=r.createElement("linearGradient",{id:a,key:a,x1:"0",y1:e?"0":"1",x2:e?"1":"0",y2:"0"},u),v=n[1]-n[0]>5,g=v?90:50;e?(c=g,p=25,d=this.props.x,f=this.props.y-p/2,h="-0.5em",m="1em"):(c=25,p=g,d=this.props.x,f=this.props.y,h="0em",m="0.5em");var b=r.createElement("rect",{fill:"url(#".concat(a,")"),x:d,y:f,width:c,height:p}),S=[r.createElement("text",{fontSize:11,x:e?d+c:d+c+4,y:e?f+p+4:f,dx:h,dy:m},Object(i.f)(n[1],2)),r.createElement("text",{fontSize:11,x:e?d:d+c+4,y:e?f+p+4:f+p,dx:h,dy:m},Object(i.f)(n[0],2))];return v&&S.push(r.createElement("text",{fontSize:11,x:e?d+c/2:d+c+4,y:e?f+p+4:f+p/2,dx:h,dy:m},Object(i.f)((n[0]+n[1])/2,2))),r.createElement("g",null,y,b,S)}var T=r.createElement(o.Point,this.props);if(void 0!==this.props.datum.margin){var C=e?this.props.datum.margin:0,P=e?0:this.props.datum.margin;return r.createElement("g",{transform:"translate(".concat(C,",").concat(P,")")},T)}return T}}])&&u(n.prototype,a),p&&u(n,p),t}()},695:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(581);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){var e="horizontal"===this.props.orientation,t=r.createElement(o.VictoryLabel,a({className:"legendLabel_".concat(this.props.text)},this.props));if(void 0!==this.props.datum.margin){var n=e?this.props.datum.margin:0,i=e?0:this.props.datum.margin;return r.createElement("g",{transform:"translate(".concat(n,",").concat(i,")")},t)}return t}}])&&u(n.prototype,i),p&&u(n,p),t}()},700:function(e,t,n){"use strict";var r=n(0),o=n(126),i=n.n(o),a=n(7),u=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,p(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:this.props.className},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard",style:{marginRight:5}}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",{style:{margin:"0px 10px"}},"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload,style:{marginRight:10}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),this.props.downloadLabel),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&s(n.prototype,o),i&&s(n,i),t}();f.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",showCopy:!0,showDownload:!0};var h=n(656),m=n(9),y=n.n(m),v=n(655),g=n.n(v),b=n(3),S=n(683);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,A(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:y()(g.a.downloadTabLinksGroup,this.props.className)},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard"}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",null,"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload},r.createElement("i",{className:"fa fa-cloud-download"}),this.props.downloadLabel),this.props.showDownload&&this.props.showQuery&&r.createElement("span",null,"|"),this.props.showQuery&&r.createElement("a",{onClick:this.props.handleQuery},r.createElement("i",{className:"fa fa-external-link-square"}),this.props.queryButtonLabel),this.props.showQuery&&this.props.showVirtualStudy&&r.createElement("span",null,"|"),this.props.showVirtualStudy&&r.createElement(b.c,{trigger:["click"],destroyTooltipOnHide:!0,overlay:this.props.virtualStudyParams&&r.createElement(S.b,{user:this.props.virtualStudyParams.user,name:this.props.virtualStudyParams.name,description:this.props.virtualStudyParams.description,studyWithSamples:this.props.virtualStudyParams.studyWithSamples,selectedSamples:this.props.virtualStudyParams.selectedSamples,filter:this.props.virtualStudyParams.filter,attributesMetaSet:this.props.virtualStudyParams.attributesMetaSet,molecularProfileNameSet:this.props.virtualStudyParams.molecularProfileNameSet,caseListNameSet:this.props.virtualStudyParams.caseListNameSet}),placement:"bottom"},r.createElement("a",null,r.createElement("i",{className:"fa fa-pie-chart"}),this.props.virtualStudyButtonLabel)),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&C(n.prototype,o),i&&C(n,i),t}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}E.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",queryButtonLabel:"Query",virtualStudyButtonLabel:"Virtual Study",showCopy:!0,showDownload:!0,showQuery:!1,showVirtualStudy:!1},n.d(t,"a",function(){return x});var G=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":M(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=n(613),x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_(t).call(this,e))||"object"!==M(o)&&"function"!=typeof o?w(r):o).showCopyMessage=!1,n.handleDownload=n.handleDownload.bind(w(n)),n.copyLinkRef=n.copyLinkRef.bind(w(n)),n.copyButtonRef=n.copyButtonRef.bind(w(n)),n.handleAfterCopy=n.handleAfterCopy.bind(w(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return"LINK"===this.props.controlsStyle?r.createElement(f,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage}):"QUERY"===this.props.controlsStyle?r.createElement(E,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage,showQuery:this.props.showQuery,handleQuery:this.props.handleQuery,showVirtualStudy:this.props.showVirtualStudy,virtualStudyParams:this.props.virtualStudyParams}):r.createElement(h.a,{className:this.props.className,handleDownload:this.handleDownload,copyButtonRef:this.copyButtonRef,handleCopy:this.handleAfterCopy,showCopyMessage:this.showCopyMessage,showCopy:this.props.showCopy,showDownload:this.props.showDownload})}},{key:"handleDownload",value:function(){this.props.downloadData&&i()(this.props.downloadData(),this.props.downloadFilename)}},{key:"copyLinkRef",value:function(e){this.handleCopyRef(e)}},{key:"copyButtonRef",value:function(e){this.handleCopyRef(e)}},{key:"handleCopyRef",value:function(e){if(e){var t=this.props,n=t.downloadData,r=t.containerId,o=r?{text:n,container:document.getElementById(r)}:{text:n};new N(e,o)}}},{key:"handleAfterCopy",value:function(){var e=this;this.showCopyMessage=!0,setTimeout(function(){e.showCopyMessage=!1},this.props.copyMessageDuration)}}])&&O(n.prototype,o),a&&O(n,a),t}();x.defaultProps={className:"",showCopy:!0,copyMessageDuration:3e3,showDownload:!0,showQuery:!0,showVirtualStudy:!0,copyLabel:"Copy",downloadLabel:"Download",downloadFilename:"data.tsv",controlsStyle:"LINK"},G([u.observable],x.prototype,"showCopyMessage",void 0),x=G([a.observer],x)},701:function(e,t,n){"use strict";var r=n(4),o=n(2);function i(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}function a(e,t,n){n||(n=i);var r=!1,o=!1,a=!1,u=!0,l=!1,s=void 0;try{for(var c,p=e[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){if("not"!==c.value.type){o=!0;break}}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}o||(r=!0);var d=!0,f=!1,h=void 0;try{for(var m,y=e[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var v=m.value;if("not"===v.type){if(n(v.data,t)){r=!1,a=!0;break}}else if("and"===v.type){o=!0;var g=!0,b=!0,S=!1,T=void 0;try{for(var C,P=v.data[Symbol.iterator]();!(b=(C=P.next()).done);b=!0){var A=C.value;g=g&&n(A,t)}}catch(e){S=!0,T=e}finally{try{b||null==P.return||P.return()}finally{if(S)throw T}}r=r||g}}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}return{match:r,forced:a}}var u=n(66),l=n(6),s=n(104),c=n.n(s);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var v=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g="pan_can_atlas",b=function(){function e(t){f(this,e),this.store=t}return m(e,[{key:"getMetadata",value:function(e){return this.store.treeData.map_node_meta.get(e)}},{key:"cancerTypeContainsSelectedStudies",value:function(e){var t=this.getMetadata(e).descendantStudies;return r.intersection(this.store.selectableSelectedStudies,t).length>0}},{key:"getDepth",value:function(e){return this.getMetadata(e).ancestors.length}},{key:"isHighlighted",value:function(e){return!!this.store.searchText&&!!this.map_node_filterBySearchText.get(e)}},{key:"map_node_filterByDepth",get:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var o,i=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=d(o.value,2),u=a[0],l=a[1],s=!0;l.isCancerType&&(!l.descendantStudies.length||l.ancestors.length>this.store.maxTreeDepth&&!u.alwaysVisible)&&(s=!1),e.set(u,s)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"map_node_filterBySearchText",get:function(){var e=function(e){e=e.toLowerCase().trim().split(/\s+/g).join(" ");for(var t,n,r=[],o=0;o<e.length;)'"'===e[o]?-1===(n=e.indexOf('"',o+1))?(r.push(e.substring(o+1)),o=e.length):(r.push(e.substring(o+1,n)),o=n+1):" "===e[o]?o+=1:"-"===e[o]?(r.push("-"),o+=1):-1===(t=e.indexOf(" ",o))?(r.push(e.substring(o)),o=e.length):(r.push(e.substring(o,t)),o=t+1);var i,a,u=[];for(o=0;o<r.length;)"-"===r[o]?(o<r.length-1&&u.push({type:"not",data:r[o+1]}),o+=2):(i=r.indexOf("or",o),a=r.indexOf("-",o),-1===i&&-1===a?(u.push({type:"and",data:r.slice(o)}),o=r.length):-1===i&&a>0?(u.push({type:"and",data:r.slice(o,a)}),o=a):i>0&&-1===a?(u.push({type:"and",data:r.slice(o,i)}),o=i+1):i<a?(u.push({type:"and",data:r.slice(o,i)}),o=i+1):(u.push({type:"and",data:r.slice(o,a)}),o=a));return u}(this.store.searchText),t=new Map,n=!0,r=!1,o=void 0;try{for(var i,u=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=d(i.value,2),s=l[0],c=(S=l[1]).searchTerms;s.hasOwnProperty("studyId")&&(c+=s.studyId?s.studyId:""),t.set(s,a(e,c))}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}var f=new Map,h=!0,m=!1,y=void 0;try{for(var v,g=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=d(v.value,2),S=(s=b[0],b[1]);if(!f.has(s)){for(var T=!1,C=0,P=[s].concat(p(S.ancestors),p(S.priorityCategories));C<P.length;C++){var A=P[C],I=t.get(A);if(!I.match&&I.forced){T=!1;break}T=T||I.match}if(f.set(s,T),T&&!S.isCancerType)for(var E=0,O=[S.ancestors,S.priorityCategories];E<O.length;E++){var _=O[E],w=!0,k=!1,M=void 0;try{for(var G,N=_[Symbol.iterator]();!(w=(G=N.next()).done);w=!0){var x=G.value;f.set(x,!0)}}catch(e){k=!0,M=e}finally{try{w||null==N.return||N.return()}finally{if(k)throw M}}}}}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}return f}},{key:"map_node_filterBySelectedCancerTypes",get:function(){var e=new Map;if(this.store.selectedCancerTypes.length){var t=!0,n=!1,r=void 0;try{for(var o,i=this.store.selectedCancerTypes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=this.getMetadata(a);e.set(a,!0);for(var l=0,s=[u.ancestors,u.descendantCancerTypes,u.descendantStudies];l<s.length;l++){var c=s[l],p=!0,d=!1,f=void 0;try{for(var h,m=c[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var y=h.value;e.set(y,!0)}}catch(e){d=!0,f=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw f}}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else{var v=!0,g=!1,b=void 0;try{for(var S,T=this.store.treeData.map_node_meta.keys()[Symbol.iterator]();!(v=(S=T.next()).done);v=!0){var C=S.value;e.set(C,!0)}}catch(e){g=!0,b=e}finally{try{v||null==T.return||T.return()}finally{if(g)throw b}}}return e}},{key:"map_node_filterBySelectedStudies",get:function(){var e=new Map;if(this.store.selectableSelectedStudies.length){var t=!0,n=!1,r=void 0;try{for(var o,i=this.store.selectableSelectedStudies[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=this.store.treeData.map_node_meta.get(a);e.set(a,!0);for(var l=0,s=[u.descendantStudies,u.ancestors,u.priorityCategories];l<s.length;l++){var c=s[l],p=!0,d=!1,f=void 0;try{for(var h,m=c[Symbol.iterator]();!(p=(h=m.next()).done);p=!0){var y=h.value;e.set(y,!0)}}catch(e){d=!0,f=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw f}}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}return e}},{key:"mainView",get:function(){return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySearchText,this.map_node_filterBySelectedCancerTypes])}},{key:"cancerTypeListView",get:function(){return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySearchText])}},{key:"selectedStudiesView",get:function(){var e=this;return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySelectedStudies,{get:function(t){return!e.getMetadata(t).isPriorityCategory}}])}}]),e}();v([u.cached],b.prototype,"map_node_filterByDepth",null),v([u.cached],b.prototype,"map_node_filterBySearchText",null),v([u.cached],b.prototype,"map_node_filterBySelectedCancerTypes",null),v([u.cached],b.prototype,"map_node_filterBySelectedStudies",null),v([o.computed],b.prototype,"mainView",null),v([o.computed],b.prototype,"cancerTypeListView",null),v([o.computed],b.prototype,"selectedStudiesView",null);var S=function(){function e(t,n){var r=this;f(this,e),this.store=t,this.filters=n,this.nodeFilter=function(e){return r.filters.every(function(t){return!!t.get(e)})}}return m(e,[{key:"getMetadata",value:function(e){return this.store.treeData.map_node_meta.get(e)}},{key:"getChildCancerTypes",value:function(e,t){var n=this.getMetadata(e);return(n.ancestors.length<this.store.maxTreeDepth||!t&&e.alwaysVisible?n.childCancerTypes:[]).filter(this.nodeFilter)}},{key:"getChildCancerStudies",value:function(e){var t=this.getMetadata(e),n=[];if(t.ancestors.length<this.store.maxTreeDepth)n=t.childStudies;else if(n=t.descendantStudies,e.alwaysVisible){var o=r.chain(t.descendantCancerTypes).filter(function(e){return e.alwaysVisible}).map(function(e){return e.cancerTypeId}).value();n=r.filter(n,function(e){return!o.includes(e.cancerTypeId)})}return n.filter(this.nodeFilter)}},{key:"getDescendantCancerStudies",value:function(e){return this.getMetadata(e).descendantStudies.filter(this.nodeFilter)}},{key:"getCheckboxProps",value:function(e){var t=this;if(this.getMetadata(e).isCancerType){var n=(this.store.selectableSelectedStudyIds||[]).map(function(e){return t.store.treeData.map_studyId_cancerStudy.get(e)}),o=this.getDescendantCancerStudies(e),i=r.intersection(o,n),a=i.length>0;return{checked:a,indeterminate:a&&i.length!=o.length}}var u=e;return{checked:!!this.store.selectableSelectedStudyIds.find(function(e){return e==u.studyId}),disabled:this.store.isDeletedVirtualStudy(u.studyId)}}},{key:"isCheckBoxDisabled",value:function(e){if(this.getMetadata(e).isCancerType)return!1;var t=e;return!!this.store.isDeletedVirtualStudy(t.studyId)}},{key:"clearAllSelection",value:function(){this.store.selectableSelectedStudyIds=[]}},{key:"onCheck",value:function(e,t){var n;this.getMetadata(e).isCancerType?this.store.forDownloadTab||(n=this.getDescendantCancerStudies(e).map(function(e){return e.studyId})):n=[e.studyId],n&&this.handleCheckboxStudyIds(n,t)}},{key:"getSelectionReport",value:function(){var e=this,t=this.store.selectableSelectedStudyIds||[],n=t.map(function(t){return e.store.treeData.map_studyId_cancerStudy.get(t)}),o=this.getDescendantCancerStudies(this.store.treeData.rootCancerType);return{selectableSelectedStudyIds:t,selectableSelectedStudies:n,shownStudies:o,shownAndSelectedStudies:r.intersection(o,n)}}},{key:"quickSelectButtons",value:function(e){if(!e)return{};try{return l.a.parseConfigFormat(e)}catch(e){return{}}}},{key:"toggleAllFiltered",value:function(){var e=this,t=this.getSelectionReport(),n=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies),o=t.shownAndSelectedStudies,i=[];i=n.length===o.length?r.without.apply(r,[this.store.selectableSelectedStudyIds].concat(p(n.map(function(e){return e.studyId})))):r.union(this.store.selectableSelectedStudyIds,n.map(function(e){return e.studyId})),this.store.selectableSelectedStudyIds=i.filter(function(t){return!r.includes(e.store.deletedVirtualStudies,t)})}},{key:"selectAllMatchingStudies",value:function(e){var t=this.getSelectionReport(),n=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies);t.shownAndSelectedStudies;this.store.selectableSelectedStudyIds=n.map(function(e){return e.studyId}).filter(function(t){return r.isArray(e)?e.includes(t):t.includes(e)})}},{key:"handleCheckboxStudyIds",value:function(e,t){var n=this,o=this.store.selectableSelectedStudyIds;o=t?r.union(o,e):r.difference(o,e),this.store.selectableSelectedStudyIds=o.filter(function(e){return!r.includes(n.store.deletedVirtualStudies,e)})}},{key:"isFiltered",get:function(){return this.store.selectedCancerTypeIds.length>0||this.store.searchText.length>0}}]),e}();v([o.action],S.prototype,"clearAllSelection",null),v([o.action],S.prototype,"onCheck",null),v([o.computed],S.prototype,"isFiltered",null),v([c.a],S.prototype,"quickSelectButtons",null),v([o.action],S.prototype,"toggleAllFiltered",null),v([o.action],S.prototype,"selectAllMatchingStudies",null)},702:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(180),o=n(571);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return 0===e.length?Promise.reject("No pdb ids given"):r.a.fetchPdbHeaderPOST({pdbIds:e})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,function(e){return e},function(e){return e.pdbId},s))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["a"]),t}()},703:function(e,t,n){"use strict";var r=n(0),o=(n(704),n(9)),i=n.n(o),a=n(7);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.headers,n=e.rows,o=e.className,a=e.noRowsText,u=n.length>0?n:[r.createElement("tr",{key:"0"},r.createElement("td",{style:{textAlign:"center"},colSpan:t.length},a||"There are no results."))];return r.createElement("table",{className:i()("simple-table table table-striped table-border-top",o)},r.createElement("thead",null,r.createElement("tr",null,t)),r.createElement("tbody",null,u))}}])&&u(n.prototype,o),a&&u(n,a),t}();f=d([a.observer],f),t.a=f},704:function(e,t,n){},705:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(601);function o(e,t,n,o,i){return t?t.reduce(function(t,a){var u=e[a];if(u){var l=u.find(function(e){return e.clinicalAttributeId===n}),s=u.find(function(e){return e.clinicalAttributeId===o});!l||!s||Object(r.o)(l.value)||Object(r.o)(s.value)||Number.isNaN(Number(s.value))||t.push({uniquePatientKey:a,patientId:u[0].patientId,studyId:u[0].studyId,status:i(l.value),months:parseFloat(s.value)})}return t},[]):[]}function i(e,t,n,o){return t?t.reduce(function(t,i){var a=e[i];if(a){var u=a.find(function(e){return e.clinicalAttributeId===n}),l=a.find(function(e){return e.clinicalAttributeId===o});!u||!l||Object(r.o)(u.value)||Object(r.o)(l.value)||Number.isNaN(Number(l.value))||t.push(u)}return t},[]):[]}},706:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",o=[];return t&&(Object.keys(e[0]).forEach(function(e){return o.push(e,n)}),o.pop(),o.push("\r\n")),e.forEach(function(e){r.each(e,function(e){o.push(e,n)}),o.pop(),o.push("\r\n")}),o.join("")}},707:function(e,t,n){"use strict";function r(e){return function(e){var t="";e&&(e.length>1?t="combined_study_":1===e.length&&(t="".concat(e[0],"_")));return t}(e?e.map(function(e){return e.studyId}):void 0)}n.d(t,"a",function(){return r})},708:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"n",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"l",function(){return P}),n.d(t,"m",function(){return A}),n.d(t,"a",function(){return E});var r=n(4),o=n(570),i=n(624),a=n(619),u=n(585);function l(e,t,n){var r=[],i=[],a=[],u=[],l=[],s=[],c=!0,p=!1,d=void 0;try{for(var f,h=e.data[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value,y=m.molecularProfileAlterationType,v=m.alterationSubType.toUpperCase();switch(y){case o.a.COPY_NUMBER_ALTERATION:v.length>0&&(a.push({type:v,value:m.value}),s.push("CNA"));break;case o.a.MRNA_EXPRESSION:v.length>0&&(l.push({type:v,value:m.value}),s.push("EXP"));break;case o.a.PROTEIN_LEVEL:v.length>0&&(u.push({type:v,value:m.value}),s.push("PROT"));break;case o.a.MUTATION_EXTENDED:m.mutationType.toLowerCase().includes("fusion")?(i.push(m.proteinChange),s.push("FUSION")):(r.push(m.proteinChange),s.push("MUT"))}}}catch(e){p=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(p)throw d}}return{sequenced:!t||!t[e.trackLabel]||t[e.trackLabel].sequenced>0,geneSymbol:e.trackLabel,mutation:r,fusion:i,cna:a,mrnaExp:l,proteinLevel:u,isMutationNotProfiled:!1,isFusionNotProfiled:!1,isCnaNotProfiled:!1,isMrnaExpNotProfiled:!1,isProteinLevelNotProfiled:!1,alterationTypes:s}}function s(e,t,n){var r=!0,i=!0,a=!0,u=!0,l=!0;if(e.profiled_in){var s=!0,c=!1,p=void 0;try{for(var d,f=e.profiled_in[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value;if(n)switch(n[h.molecularProfileId].molecularAlterationType){case o.a.COPY_NUMBER_ALTERATION:a=!1;break;case o.a.MRNA_EXPRESSION:u=!1;break;case o.a.PROTEIN_LEVEL:l=!1;break;case o.a.MUTATION_EXTENDED:r=!1;case o.a.FUSION:i=!1}}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}}return t.isMutationNotProfiled=r,t.isFusionNotProfiled=i,t.isCnaNotProfiled=a,t.isMrnaExpNotProfiled=u,t.isProteinLevelNotProfiled=l,t}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!r.isEmpty(t)?e.map(function(e){var n=Object(i.a)(!0,e,t,{});return{gene:e.oql.gene,oqlLine:e.oql.oql_line,altered:n.altered,sequenced:n.sequenced,percentAltered:n.percent}}):[]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return e.map(function(e){return e.join(t)}).join(n)}function d(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.MUTATION_EXTENDED||e.molecularProfileAlterationType===o.a.FUSION}):{}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n,I):[]}function h(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.MRNA_EXPRESSION}):{}}function m(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.PROTEIN_LEVEL}):{}}function y(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.COPY_NUMBER_ALTERATION}):{}}function v(e,t){return t?b(t,function(t){return e.includes(t.molecularProfileId)}):{}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n):[]}function b(e,t){var n={};return r.values(e.samples).forEach(function(e){e.forEach(function(e){var r="".concat(e.gene.hugoGeneSymbol,"_").concat(e.uniqueSampleKey);n[r]=n[r]||[],t&&!t(e)||n[r].push(e)})}),n}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=n.map(function(e){return e.hugoGeneSymbol}),u=r.keyBy(t,"uniqueSampleKey"),l=t.map(function(e){return e.uniqueSampleKey}),s=function(e,t,n,r,o){var i={};return r.forEach(function(r){var a=n[r],u=i[r]||{studyId:a.studyId,sampleId:a.sampleId,patientId:a.patientId,alterationData:{}};i[r]=u,t.forEach(function(t){u.alterationData[t]=u.alterationData[t]||[];var n="".concat(t,"_").concat(r);e[n]&&e[n].forEach(function(e){var n=o?o(e):String(e.value);u.alterationData[t].push(n)})})}),i}(e,a,u,l,o),c=[];return c.push(["STUDY_ID","SAMPLE_ID"].concat(a)),l.forEach(function(e){var t=s[e],n=[];n.push(t.studyId),n.push(t.sampleId),a.forEach(function(e){var r=i?i(t.alterationData[e]):t.alterationData[e].join(" ")||"NA";n.push(r)}),c.push(n)}),c}function T(e,t,n,o,i){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],p=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,f={};if(n&&i){var h=r.keyBy(c,"uniqueSampleKey");n.forEach(function(e){Object(a.d)(e.cases.samples,e.oql.gene,c,i,t).forEach(function(t){var n=t.study_id+":"+t.uid;C(f,t,h);var o=l(t,p);void 0!==f[n].oqlDataByGene[e.oql.gene]?f[n].oqlDataByGene[e.oql.gene]=r.merge(o,f[n].oqlDataByGene[e.oql.gene]):f[n].oqlDataByGene[e.oql.gene]=o,s(t,f[n].oqlDataByGene[e.oql.gene],d)})})}if(o&&i){var m=r.keyBy(c,"uniqueSampleKey");o.forEach(function(n,r){var o,h;void 0===n.mergedTrackOqlList?(o=n.oql.gene,h=Object(u.r)(r,e,n.oql)):(o=n.oql.list.map(function(e){return e.gene}),h=Object(u.o)(n.oql)),Object(a.d)(n.cases.samples,o,c,i,t).forEach(function(e){var t=e.study_id+":"+e.uid;C(f,e,m);var n=l(e,p);f[t].oqlData[h]=n,s(e,f[t].oqlData[h],d)})})}return r.values(f)}function C(e,t,n){var r=t.study_id,o=t.sample||(n[t.uid]?n[t.uid].sampleId:""),i=r+":"+t.uid;e[i]=e[i]||{studyId:r,sampleId:o,patientId:n[t.uid]?n[t.uid].patientId:"",altered:!1,oqlData:{},oqlDataByGene:{}},e[i].altered=e[i].altered||t.data.length>0}function P(e,t){var n=!0,o=!1,i=void 0;try{for(var a,u=r.values(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,s=!0,c=!1,p=void 0;try{for(var d,f=l[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value,m=t?t(h):h.value;if(m&&String(m).length>0)return!0}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return!1}function A(e){return P(e,I)}function I(e){return e.proteinChange}function E(e){switch(e){case"MUTATION_EXTENDED":return 1;case"COPY_NUMBER_ALTERATION":return 2;case"GENESET_SCORE":return 3;case"MRNA_EXPRESSION":return 4;case"METHYLATION":return 5;case"METHYLATION_BINARY":return 6;case"PROTEIN_LEVEL":return 7;default:return Number.MAX_VALUE}}},709:function(e,t,n){"use strict";var r=n(7),o=n(0),i=n(2),a=n(56),u=n(586),l=n.n(u),s=n(9),c=n.n(s),p=n(674),d=n(11),f=n.n(d);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=m(this,y(t).apply(this,arguments))).isHovered=!1,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o["Component"]),n=t,(r=[{key:"onMouseEnter",value:function(){this.isHovered=!0}},{key:"onMouseLeave",value:function(){this.isHovered=!1}},{key:"render",value:function(){var e=void 0===this.props.arrowOffsetTop?30:this.props.arrowOffsetTop,t=!this.props.placement||"left"===this.props.placement||"right"===this.props.placement,n=f()(this.props.container).offset();return n&&(this.props.targetHovered||this.isHovered)?o.createElement(p,{container:document.body},o.createElement(a.Popover,{className:c()("cbioportal-frontend","cbioTooltip",this.props.className),positionLeft:this.props.targetCoords.x+n.left+5-(t?0:30),positionTop:this.props.targetCoords.y+n.top-(t?e:-5),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,arrowOffsetTop:t?e:void 0,arrowOffsetLeft:t?void 0:24,placement:this.props.placement},this.props.overlay)):null}}])&&h(n.prototype,r),i&&h(n,i),t}();b([i.observable],S.prototype,"isHovered",void 0),b([l.a],S.prototype,"onMouseEnter",null),b([l.a],S.prototype,"onMouseLeave",null),S=b([r.observer],S),t.a=S},710:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return r.createElement(o.c,{overlay:this.props.tooltip,placement:this.props.tooltipPlacement||"right"},r.createElement("div",{style:this.props.divStyle},r.createElement("i",{className:"fa fa-info-circle",style:Object.assign({},{color:"#000000",cursor:"pointer"},this.props.style||{})})))}}])&&a(n.prototype,i),c&&a(n,c),t}()},711:function(e,t,n){e.exports=n(16)(1035)},712:function(e,t,n){"use strict";var r=n(4),o=n(2),i=n(66),a=n(102),u=n(22),l=n(180),s=n(183),c=n(182),p=n(3),d=n(184);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function m(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.a;return h(this,void 0,void 0,regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.length>0)){i.next=6;break}return i.next=3,o.postResidueMappingByPDBUsingPOST({idType:"uniprot",id:t,pdbId:n,chainId:r,positionList:e.map(function(e){return"".concat(e)})});case 3:return i.abrupt("return",i.sent);case 6:return i.abrupt("return",[]);case 7:case"end":return i.stop()}},i)}))}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queries={}}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=this,n=this.generateQueryKey(e);return this.queries[n]||(this.queries[n]=Object(p.S)({invoke:function(){return h(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=[],t.next=4,m(e.uniprotPositions,e.uniprotId,e.pdbId,e.chainId);case 4:return(o=t.sent).length>0&&(o.forEach(function(e){r=r.concat(e.residueMapping)}),n=r.map(function(e){return{status:"complete",data:e}})),t.abrupt("return",n);case 7:case"end":return t.stop()}},t)}))},onError:function(e){}},this.defaultData(e))),this.queries[n]}},{key:"generateQueryKey",value:function(e){return"".concat(e.uniprotId,"_").concat(e.pdbId,"_").concat(e.chainId,"_").concat(e.uniprotPositions.join(","))}},{key:"defaultData",value:function(e){return[null]}}])&&f(t.prototype,n),r&&f(t,r),e}(),v=n(572),g=n(625),b=n(575),S=n(636),T=n(595);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=P(this,A(t).call(this,e))).selectedUid="",n.dataSelector=function(e){return n.getChainUid(e)===n.selectedUid},n.dataHighlighter=n.dataSelector,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,T["b"]),n=t,(r=[{key:"getChainUid",value:function(e){return e.pdbId+e.chain}},{key:"selectUid",value:function(e){this.selectedUid=e||""}},{key:"selectFirstChain",value:function(){this.allData.length>0?this.selectedUid=this.getChainUid(this.allData[0]):this.selectedUid=""}},{key:"getPdbChain",value:function(e){var t=this;return this.allData.find(function(n){return t.getChainUid(n)===e})}},{key:"selectedChain",get:function(){return this.getPdbChain(this.selectedUid)}},{key:"tableData",get:function(){return this.sortedFilteredData}}])&&C(n.prototype,r),o&&C(n,o),t}();O([o.observable],_.prototype,"selectedUid",void 0),O([o.action],_.prototype,"selectUid",null),O([o.computed],_.prototype,"selectedChain",null),O([o.action],_.prototype,"selectFirstChain",null),O([o.computed],_.prototype,"tableData",null);var w=n(670),k=n(573),M=n(8),G=n(593),N=n(15);function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return U});var F=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":B(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},q=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},U=function(e){function t(e,n,r,o,u,l,s,c,d,f){var h,m,y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m=this,y=D(t).call(this,r,{isoformOverrideSource:e.isoformOverrideSource,filterMutationsBySelectedTranscript:n.filterMutationsBySelectedTranscript,enableCivic:e.show_civic,enableOncoKb:e.show_oncokb},o),(h=!y||"object"!==B(y)&&"function"!=typeof y?j(m):y).mutationMapperConfig=e,h.mutationMapperStoreConfig=n,h.gene=r,h.getMutations=o,h.indexedHotspotData=u,h.indexedVariantAnnotations=l,h.oncoKbCancerGenes=s,h.uniqueSampleKeyToTumorType=c,h.genomenexusClient=d,h.genomenexusInternalClient=f,h.oncoKbInfo=Object(p.S)({invoke:function(){return h.dataFetcher.fetchOncoKbInfo()},onError:function(){return a.s}},a.s),h.mutationData=Object(p.S)({await:function(){return h.mutationMapperStoreConfig.filterMutationsBySelectedTranscript?[h.canonicalTranscript,h.indexedVariantAnnotations]:[h.canonicalTranscript]},invoke:function(){return q(j(h),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutations);case 1:case"end":return e.stop()}},e,this)}))}},[]),h.alignmentData=Object(p.S)({await:function(){return[h.mutationData]},invoke:function(){return q(j(h),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeTranscript){e.next=4;break}return e.abrupt("return",Object(v.A)(this.activeTranscript));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},[]);var g=h.getMutations;return h.getMutations=function(){return Object(G.c)(g())},Object(i.labelMobxPromises)(j(h)),h}var n,o,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,a["k"]),n=t,(o=[{key:"countUniqueMutations",value:function(e){return Object(k.d)(e)}},{key:"getDefaultTumorType",value:function(e){return this.uniqueSampleKeyToTumorType[e.uniqueSampleKey]}},{key:"getDefaultEntrezGeneId",value:function(e){return e.gene.entrezGeneId}},{key:"dataFetcher",get:function(){return new a.j({myGeneUrlTemplate:this.mutationMapperConfig.mygene_info_url||void 0,uniprotIdUrlTemplate:this.mutationMapperConfig.uniprot_id_url||void 0,genomeNexusUrl:this.mutationMapperConfig.genomenexus_url||void 0,oncoKbUrl:Object(N.u)()||void 0},this.genomenexusClient||l.a,this.genomenexusInternalClient||s.a,c.a)}},{key:"usingPublicOncoKbInstance",get:function(){return this.oncoKbInfo.result?this.oncoKbInfo.result.publicInstance:a.w}},{key:"unfilteredMutationsByPosition",get:function(){return Object(k.l)(this.dataStore.sortedData)}},{key:"oncoKbDataByProteinPosStart",get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:Object(a.V)(this.unfilteredMutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,p.u)}},{key:"mutationsGroupedByProteinImpactType",get:function(){var e=this,t=this.dataStore.dataFilters.filter(function(e){return e.type!==a.h.PROTEIN_IMPACT_TYPE}),n=Object(a.y)(this.dataStore.allData,t,this.dataStore.applyFilter);return n=n.filter(function(t){return e.dataStore.applyLazyMobXTableFilter(t)}),Object(a.U)(n)}},{key:"processedMutationData",get:function(){return(this.mutationData.result||[]).map(function(e){return[e]})}},{key:"mergedAlignmentData",get:function(){return Object(g.e)(this.indexedAlignmentData)}},{key:"indexedAlignmentData",get:function(){return Object(v.Y)(this.alignmentData)}},{key:"sortedMergedAlignmentData",get:function(){return Object(b.c)(this.mergedAlignmentData,function(e){return[e.identity,e.alignment.length,e.identityPerc].concat(x(Object(g.b)(e.pdbId,!0)),[-1*e.chain.charCodeAt(0)])},!1)}},{key:"transcriptsByTranscriptId",get:function(){return r.keyBy(this.allTranscripts.result,function(e){return e.transcriptId})}},{key:"mutationsByTranscriptId",get:function(){var e=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?r.fromPairs(this.transcriptsWithAnnotations.result.map(function(t){return[t,Object(u.h)(e.getMutations(),t,e.indexedVariantAnnotations.result)]})):{}}},{key:"numberOfMutationsTotal",get:function(){return this.getMutations().length}},{key:"dataStore",get:function(){return new w.c(this.processedMutationData,this.filterApplier,this.config.dataFilters,this.config.selectionFilters,this.config.highlightFilters,this.config.groupFilters)}},{key:"downloadDataFetcher",get:function(){return new S.a(this.mutationData)}},{key:"pdbChainDataStore",get:function(){return new _(this.sortedMergedAlignmentData.filter(function(e){return!g.a.includes(e.pdbId.toLowerCase())}))}},{key:"residueMappingCache",get:function(){return new y}}])&&R(n.prototype,o),d&&R(n,d),t}();F([o.computed],U.prototype,"dataFetcher",null),F([o.computed],U.prototype,"usingPublicOncoKbInstance",null),F([M.default],U.prototype,"getDefaultTumorType",null),F([M.default],U.prototype,"getDefaultEntrezGeneId",null),F([o.computed],U.prototype,"unfilteredMutationsByPosition",null),F([o.computed],U.prototype,"oncoKbDataByProteinPosStart",null),F([o.computed],U.prototype,"mutationsGroupedByProteinImpactType",null),F([o.computed],U.prototype,"processedMutationData",null),F([o.computed],U.prototype,"mergedAlignmentData",null),F([o.computed],U.prototype,"indexedAlignmentData",null),F([o.computed],U.prototype,"sortedMergedAlignmentData",null),F([o.computed],U.prototype,"transcriptsByTranscriptId",null),F([o.computed],U.prototype,"mutationsByTranscriptId",null),F([o.computed],U.prototype,"numberOfMutationsTotal",null),F([i.cached],U.prototype,"dataStore",null),F([i.cached],U.prototype,"downloadDataFetcher",null),F([i.cached],U.prototype,"pdbChainDataStore",null),F([i.cached],U.prototype,"residueMappingCache",null)},713:function(e,t,n){"use strict";var r=n(178),o=n(571),i=n(4),a=n.n(i);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function d(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.entityId)}function f(e,t,n,o){return p(this,void 0,void 0,regeneratorRuntime.mark(function i(){var u,l,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=a.a.groupBy(e,"studyId"),l=Object.keys(u),i.next=4,Promise.all(l.map(function(e){return r.a.fetchClinicalDataUsingPOST({clinicalDataType:n,clinicalDataMultiStudyFilter:{attributeIds:t,identifiers:u[e]},projection:o})}));case 4:return s=i.sent,i.abrupt("return",s.map(function(e,t){return{data:e,meta:l[t]}}));case 6:case"end":return i.stop()}},i)}))}var h=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).call(this,d,function(e){return"".concat(e.studyId,"~").concat(e.sampleId)},f,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),t}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return b});var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,v(t).call(this,["CANCER_TYPE_DETAILED"],"SAMPLE","SUMMARY"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,h),t}()},714:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(2),a=n(586),u=n(576),l=n(597),s=n(632),c=n.n(s),p=n(4),d=n.n(p),f=1.5,h=3;var m=n(709),y=n(581),v=n(583),g=n(631),b=n(607),S=n(3),T=n(8),C=n(56),P=n(21),A=n(9),I=n.n(A),E=n(584),O=n(694),_=n(695);function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":R(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},L={min:{stroke:"#999999"},max:{stroke:"#999999"},q1:{fill:"#eeeeee"},q3:{fill:"#eeeeee"},median:{stroke:"#999999",strokeWidth:1}},B=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=G(this,N(t).apply(this,arguments))).scatterPlotTooltipModel=null,e.pointHovered=!1,e.mouseEvents=e.makeMouseEvents(),e.mousePosition={x:0,y:0},e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["Component"]),n=t,(i=[{key:"containerRef",value:function(e){this.container=e}},{key:"makeMouseEvents",value:function(){var e=this,t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.scatterPlotTooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}},{key:"jitter",value:function(e,t){return.2*this.boxWidth*t}},{key:"scatterPlotX",value:function(e){if(this.props.logScale&&this.props.horizontal)return this.props.logScale.fLogScale(e.x,0);var t=0;if(!this.props.horizontal){var n=e.jitter;void 0===n&&(n=Object(v.d)(e.y,[-1,1])),t=this.jitter(e,n)}return e.x+t}},{key:"scatterPlotY",value:function(e){if(this.props.logScale&&!this.props.horizontal)return this.props.logScale.fLogScale(e.y,0);var t=0;if(this.props.horizontal){var n=e.jitter;void 0===n&&(n=Object(v.d)(e.x,[-1,1])),t=this.jitter(e,n)}return e.y+t}},{key:"formatCategoryTick",value:function(e,t){return this.labels[t]}},{key:"formatNumericalTick",value:function(e,t,n){return Object(b.a)(e,n,this.props.logScale&&!this.props.useLogSpaceTicks?this.props.logScale.fInvLogScale:void 0)}},{key:"categoryCoord",value:function(e){return e*(this.boxWidth+this.boxSeparation)}},{key:"onMouseMove",value:function(e){null!==this.boxPlotTooltipModel&&(this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY)}},{key:"getChart",value:function(){var e,t=this;return r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight),onMouseMove:this.onMouseMove,ref:function(e){t.props.containerRef&&t.props.containerRef(e)}},r.createElement("g",{transform:"translate(".concat(this.leftPadding,", ").concat(this.topPadding,")")},r.createElement(y.VictoryChart,{theme:u.d,width:this.chartWidth,height:this.chartHeight,standalone:!1,domainPadding:this.chartDomainPadding,domain:this.plotDomain,singleQuadrantDomainPadding:(e={},k(e,this.dataAxis,!!this.props.startDataAxisAtZero),k(e,this.categoryAxis,!1),e)},this.title,this.legend,this.horzAxis,this.vertAxis,r.createElement(y.VictoryBoxPlot,{boxWidth:this.boxWidth,style:L,data:this.boxPlotData,horizontal:this.props.horizontal,events:this.boxPlotEvents}),this.scatterPlotData.map(function(e){return r.createElement(y.VictoryScatter,{key:"".concat(e.fill,",").concat(e.stroke,",").concat(e.strokeWidth,",").concat(e.strokeOpacity,",").concat(e.fillOpacity,",").concat(e.symbol),style:{data:{fill:e.fill,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,fillOpacity:e.fillOpacity}},size:t.scatterPlotSize,symbol:e.symbol,data:e.data,events:t.mouseEvents,x:t.scatterPlotX,y:t.scatterPlotY})})))))}},{key:"getScatterPlotTooltip",value:function(){return this.container&&this.scatterPlotTooltipModel&&this.props.scatterPlotTooltip?r.createElement(m.a,{placement:this.props.horizontal?"bottom":"right",container:this.container,targetHovered:this.pointHovered,targetCoords:{x:this.scatterPlotTooltipModel.x+this.leftPadding,y:this.scatterPlotTooltipModel.y+this.topPadding},overlay:this.props.scatterPlotTooltip(this.scatterPlotTooltipModel.datum)}):r.createElement("span",null)}},{key:"getBoxPlotTooltipComponent",value:function(){if(this.container&&this.boxPlotTooltipModel&&this.props.boxPlotTooltip){var e=this.mousePosition.x>E.a.size.width-400?"left":"right";return P.createPortal(r.createElement(C.Popover,{arrowOffsetTop:17,className:I()("cbioportal-frontend","cbioTooltip"),positionLeft:this.mousePosition.x+("left"===e?-8:8),positionTop:this.mousePosition.y-17,style:{transform:"left"===e?"translate(-100%,0%)":void 0,maxWidth:400},placement:e},r.createElement("div",null,this.props.boxPlotTooltip(this.boxPlotTooltipModel.datum))),document.body)}return null}},{key:"render",value:function(){return this.props.data.length?r.createElement("div",null,r.createElement(o.Observer,null,this.getChart),r.createElement(o.Observer,null,this.getScatterPlotTooltip),r.createElement(o.Observer,null,this.getBoxPlotTooltipComponent)):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"boxPlotEvents",get:function(){if(this.props.boxPlotTooltip){var e=this;return[{target:["min","max","media","q1","q3"],eventHandlers:{onMouseEnter:function(){return[{mutation:function(t){e.boxPlotTooltipModel=t}}]},onMouseLeave:function(){return[{mutation:function(){e.boxPlotTooltipModel=null}}]}}}]}return[]}},{key:"title",get:function(){if(this.props.title){var e=Object(S.fb)(this.props.title,this.chartWidth,u.b.fontFamily,"".concat(u.b.fontSize,"px"));return r.createElement(y.VictoryLabel,{style:{fontWeight:"bold",fontFamily:u.b.fontFamily,textAnchor:"middle"},x:this.chartWidth/2,y:"1.2em",text:e})}return null}},{key:"chartWidth",get:function(){return this.props.horizontal?this.props.chartBase:this.chartExtent}},{key:"chartHeight",get:function(){return this.props.horizontal?this.chartExtent:this.props.chartBase}},{key:"sideLegendX",get:function(){return this.chartWidth-20}},{key:"legendLocation",get:function(){return void 0!==this.props.legendLocationWidthThreshold&&this.chartWidth>this.props.legendLocationWidthThreshold||this.props.legendData&&this.props.legendData.length>7?"bottom":"right"}},{key:"bottomLegendHeight",get:function(){return this.props.legendData&&this.props.legendData.length&&"bottom"===this.legendLocation?Object(v.c)(this.legendItemsPerRow,this.props.legendData,this.props.legendTitle):0}},{key:"maxLegendLabelWidth",get:function(){return this.props.legendData?Object(v.g)(this.props.legendData):0}},{key:"legendItemsPerRow",get:function(){return Object(v.f)(this.maxLegendLabelWidth,this.svgWidth,45,this.props.legendTitle)}},{key:"legend",get:function(){if(this.props.legendData&&this.props.legendData.length){var e=this.props.legendData;"bottom"===this.legendLocation&&(e=e.map(function(e){var t=e.name,n=j(e,["name"]);return Array.isArray(t)&&(t=t.join(" ")),Object.assign({name:t},n)}));var t="right"===this.legendLocation?"vertical":"horizontal";return r.createElement(y.VictoryLegend,{dataComponent:r.createElement(O.a,{orientation:t}),labelComponent:r.createElement(_.a,{orientation:t}),events:[{childName:"all",target:["data","labels"],eventHandlers:{onClick:function(){return[{target:"data",mutation:function(e){var t=e.data[e.index];t.highlighting&&t.highlighting.onClick(t)}}]}}}],orientation:t,itemsPerRow:"right"===this.legendLocation?void 0:this.legendItemsPerRow,rowGutter:"right"===this.legendLocation?void 0:-5,gutter:"right"===this.legendLocation?void 0:45,data:e,x:"right"===this.legendLocation?this.sideLegendX:0,y:"right"===this.legendLocation?100:this.svgHeight-this.bottomLegendHeight,title:this.props.legendTitle,titleOrientation:"right"===this.legendLocation?"top":"left",style:{title:{fontSize:15,fontWeight:"bold"}},titleComponent:r.createElement(y.VictoryLabel,{dx:"right"===this.legendLocation?0:-10})})}return null}},{key:"plotDomain",get:function(){var e,t,n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=!0,i=!1,a=void 0;try{for(var u,l=this.props.data[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value,c=!0,p=!1,d=void 0;try{for(var f,h=s.data[Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var m=f.value;n=Math.max(m.value,n),r=Math.min(m.value,r)}}catch(e){p=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(p)throw d}}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.props.logScale&&(r=this.props.logScale.fLogScale(r,0),n=this.props.logScale.fLogScale(n,0)),this.props.startDataAxisAtZero&&(r=Math.min(0,r));var y=[r,n],v=[this.categoryCoord(0),this.categoryCoord(Math.max(1,this.props.data.length-1))];return this.props.horizontal?(e=y,t=v):(e=v,t=y),{x:e,y:t}}},{key:"categoryAxisDomainPadding",get:function(){return Math.max(this.boxWidth/2+30,this.domainPadding)}},{key:"dataAxisDomainPadding",get:function(){return this.domainPadding}},{key:"domainPadding",get:function(){return void 0===this.props.domainPadding?100:this.props.domainPadding}},{key:"dataAxis",get:function(){return this.props.horizontal?"x":"y"}},{key:"categoryAxis",get:function(){return this.props.horizontal?"y":"x"}},{key:"chartDomainPadding",get:function(){var e;return k(e={},this.dataAxis,this.dataAxisDomainPadding),k(e,this.categoryAxis,this.categoryAxisDomainPadding),e}},{key:"chartExtent",get:function(){var e=this.props.data.length;return this.categoryCoord(e-1)+2*this.categoryAxisDomainPadding+100}},{key:"svgWidth",get:function(){return this.leftPadding+this.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return this.topPadding+this.chartHeight+this.bottomPadding}},{key:"boxSeparation",get:function(){return.5*this.boxWidth}},{key:"boxWidth",get:function(){return this.props.boxWidth||10}},{key:"scatterPlotSize",get:function(){var e=this.props.highlight,t=this.props.size;return Object(v.i)(e,t)}},{key:"labels",get:function(){var e=this;return this.props.data.map(function(t){return e.props.compressXAxis?Object(S.cb)(t.label,50,u.b.fontFamily,u.b.fontSize+"px"):t.label})}},{key:"horzAxis",get:function(){return r.createElement(y.VictoryAxis,{style:{grid:{strokeOpacity:1}},orientation:"bottom",offsetY:50,crossAxis:!1,label:this.props.axisLabelX,tickValues:this.props.horizontal?void 0:this.categoryTickValues,tickCount:this.props.horizontal?8:void 0,tickFormat:this.props.horizontal?this.formatNumericalTick:this.formatCategoryTick,tickLabelComponent:r.createElement(y.VictoryLabel,{angle:this.props.compressXAxis||this.props.horizontal?void 0:50,verticalAnchor:this.props.compressXAxis||this.props.horizontal?void 0:"start",textAnchor:this.props.compressXAxis||this.props.horizontal?void 0:"start"}),axisLabelComponent:r.createElement(y.VictoryLabel,{dy:this.props.compressXAxis||this.props.horizontal?35:this.biggestCategoryLabelSize+24})})}},{key:"yAxisLabel",get:function(){return this.props.axisLabelY?Object(S.fb)(this.props.axisLabelY,this.chartHeight-20,u.b.fontFamily,"".concat(u.b.fontSize,"px")):[]}},{key:"yAxisLabelVertOffset",get:function(){return this.props.horizontal?-1*this.biggestCategoryLabelSize-24:this.yAxisLabel.length>1?-30:-50}},{key:"vertAxis",get:function(){return r.createElement(y.VictoryAxis,{orientation:"left",offsetX:50,crossAxis:!1,label:this.yAxisLabel,dependentAxis:!0,tickValues:this.props.horizontal?this.categoryTickValues:void 0,tickCount:this.props.horizontal?void 0:8,tickFormat:this.props.horizontal?this.formatCategoryTick:this.formatNumericalTick,axisLabelComponent:r.createElement(y.VictoryLabel,{dy:this.yAxisLabelVertOffset})})}},{key:"scatterPlotData",get:function(){for(var e=this.props.horizontal?"x":"y",t=this.props.horizontal?"y":"x",n=[],r=0;r<this.props.data.length;r++){var o=this.categoryCoord(r),i=!0,a=!1,u=void 0;try{for(var s,c=this.props.data[r].data[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var p,d=s.value;n.push(Object.assign({},d,(k(p={},e,d.value),k(p,t,o),p)))}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}}return Object(v.l)(n,Object(l.a)(this.props.fill,"0x000000"),Object(l.a)(this.props.stroke,"0x000000"),Object(l.a)(this.props.strokeWidth,0),Object(l.a)(this.props.strokeOpacity,1),Object(l.a)(this.props.fillOpacity,1),Object(l.a)(this.props.symbol,"circle"),this.props.zIndexSortBy)}},{key:"leftPadding",get:function(){return this.props.horizontal?this.biggestCategoryLabelSize:25}},{key:"topPadding",get:function(){return 0}},{key:"rightPadding",get:function(){return this.props.legendData&&this.props.legendData.length>0&&"right"===this.legendLocation?Math.max(130,this.maxLegendLabelWidth+50):130}},{key:"bottomPadding",get:function(){var e=10,t=0;return this.props.horizontal||(e=this.props.compressXAxis?20:this.biggestCategoryLabelSize),"bottom"===this.legendLocation&&(t=this.bottomLegendHeight+15),e+t}},{key:"biggestCategoryLabelSize",get:function(){var e=Math.max.apply(Math,w(this.labels.map(function(e){return Object(S.L)(e,u.b.fontFamily,u.b.fontSize+"px")})));return this.props.compressXAxis||this.props.horizontal?e:e*Math.abs(Math.sin(Math.PI/180*50))}},{key:"categoryTickValues",get:function(){var e=this;return this.props.data.map(function(t,n){return e.categoryCoord(n)})}},{key:"boxPlotData",get:function(){var e=this,t=this.props.boxCalculationFilter,n=d.a.cloneDeep(this.props.data);return this.props.excludeLimitValuesFromBoxPlot&&d.a.each(n,function(e){e.data=d.a.filter(e.data,function(e){return!Object(v.b)(e)})}),n.map(function(n){return r=n.data.reduce(function(n,r){return(!t||t&&t(r))&&(e.props.logScale?n.push(e.props.logScale.fLogScale(r.value,0)):n.push(r.value)),n},[]),o=p.sortBy(r,[function(e){return e}]),i=c.a.quartiles(o),a=c.a.median(o),u=i[0],l=i[1],s=i[2],d=s-u,m=o[o.length-1],y=o[0],b=function(e,t,n,r,o){return e.reduce(function(e,i){return i>=t&&(i<n?e.upper.suspectedOutliers.push(i):e.upper.outliers.push(i)),i<=r&&(i>o?e.lower.suspectedOutliers.push(i):e.lower.outliers.push(i)),e},{upper:{outliers:[],suspectedOutliers:[]},lower:{outliers:[],suspectedOutliers:[]}})}(o,g=s+f*d,s+h*d,v=u-f*d,u-h*d),S=b.lower.suspectedOutliers.length>0||b.lower.outliers.length>0?v:o[0],{q1:u,q2:l,q3:s,IQR:d,median:a,whiskerUpper:b.upper.suspectedOutliers.length>0||b.upper.outliers.length>0?g:o[o.length-1],whiskerLower:S,max:m,min:y,outliersUpper:b.upper,outliersLower:b.lower};var r,o,i,a,u,l,s,d,m,y,v,g,b,S}).map(function(t,n){var r={min:t.whiskerLower,max:t.whiskerUpper,median:t.median,q1:t.q1,q3:t.q3};return e.props.horizontal?r.y=e.categoryCoord(n):r.x=e.categoryCoord(n),r}).filter(function(e){return Object(g.a)(["min","max","median","q1","q3"].map(function(t){return!isNaN(e[t])}))})}}])&&M(n.prototype,i),a&&M(n,a),t}();D([i.observable.ref],B.prototype,"scatterPlotTooltipModel",void 0),D([i.observable],B.prototype,"pointHovered",void 0),D([i.observable.ref],B.prototype,"container",void 0),D([i.observable.ref],B.prototype,"boxPlotTooltipModel",void 0),D([i.observable],B.prototype,"mousePosition",void 0),D([a.bind],B.prototype,"containerRef",null),D([i.computed],B.prototype,"chartWidth",null),D([i.computed],B.prototype,"chartHeight",null),D([i.computed],B.prototype,"sideLegendX",null),D([i.computed],B.prototype,"legendLocation",null),D([i.computed],B.prototype,"bottomLegendHeight",null),D([i.computed],B.prototype,"maxLegendLabelWidth",null),D([i.computed],B.prototype,"legendItemsPerRow",null),D([i.computed],B.prototype,"plotDomain",null),D([i.computed],B.prototype,"categoryAxisDomainPadding",null),D([i.computed],B.prototype,"dataAxisDomainPadding",null),D([i.computed],B.prototype,"domainPadding",null),D([i.computed],B.prototype,"dataAxis",null),D([i.computed],B.prototype,"categoryAxis",null),D([i.computed],B.prototype,"chartDomainPadding",null),D([i.computed],B.prototype,"chartExtent",null),D([i.computed],B.prototype,"svgWidth",null),D([i.computed],B.prototype,"svgHeight",null),D([i.computed],B.prototype,"boxSeparation",null),D([i.computed],B.prototype,"boxWidth",null),D([a.bind],B.prototype,"scatterPlotX",null),D([a.bind],B.prototype,"scatterPlotY",null),D([i.computed],B.prototype,"scatterPlotSize",null),D([i.computed],B.prototype,"labels",null),D([a.bind],B.prototype,"formatCategoryTick",null),D([a.bind],B.prototype,"formatNumericalTick",null),D([i.computed],B.prototype,"horzAxis",null),D([i.computed],B.prototype,"yAxisLabel",null),D([i.computed],B.prototype,"yAxisLabelVertOffset",null),D([i.computed],B.prototype,"vertAxis",null),D([i.computed],B.prototype,"scatterPlotData",null),D([i.computed],B.prototype,"leftPadding",null),D([i.computed],B.prototype,"topPadding",null),D([i.computed],B.prototype,"rightPadding",null),D([i.computed],B.prototype,"bottomPadding",null),D([i.computed],B.prototype,"biggestCategoryLabelSize",null),D([i.computed],B.prototype,"categoryTickValues",null),D([i.computed],B.prototype,"boxPlotData",null),D([T.default,i.action],B.prototype,"onMouseMove",null),D([T.default],B.prototype,"getChart",null),D([T.default],B.prototype,"getScatterPlotTooltip",null),D([T.default],B.prototype,"getBoxPlotTooltipComponent",null),B=D([o.observer],B);t.a=B},715:function(e){e.exports=["ABCB1","ABCB6","ACACA","ACAT1","ACE","ACLY","ACOT4","ACP1","ACTA2","ACVR1","ACVR1B","ADAM19","ADCY5","ADGRB2","ADSSL1","AHSA1","AIFM3","AKR7L","AKT1","AKT2","AKT3","ALK","ALOX15B","AMT","AMY1A","AMY1C","AMY2A","ANK1","ANKLE2","ANKRD11","ANKRD30B","ANOS1","ANXA6","AOC1","AP5B1","APCS","APLP1","APOC1","AR","ARAF","ARHGAP32","ARID1A","ARID1B","ARID2","ARNTL","ASMT","ASXL2","ATM","ATP1A2","ATP1A3","ATP4A","ATP7A","ATRX","ATXN1","AXIN1","AXL","B2M","BACH2","BAP1","BAX","BCL10","BCL2","BCL2L11","BCL6","BCOR","BRAF","BRCA2","BRD4","BTNL3","C10ORF71","C2","C2ORF16","C3","CABP1","CACNA1B","CACNA1E","CALM1","CAMK1","CAMK2D","CAND1","CAPN1","CAPNS1","CARD11","CARM1","CASP1","CASP6","CASP7","CASP8","CBFB","CBL","CCL7","CCND1","CCND3","CCT3","CD300C","CD79B","CD81","CDH1","CDK12","CDK2","CDK4","CDK6","CDK8","CDK9","CDKN1A","CDKN1B","CDKN2A","CDKN2C","CEBPA","CENPA","CENPE","CEP164","CFH","CFHR3","CFL1","CHEK2","CHN2","CIAO1","CIC","CLASP1","CLTC","CLTCL1","CNTN2","COL22A1","COL3A1","COLEC11","COPE","CPB2","CR1","CR1L","CRABP2","CREBBP","CRLF2","CRY1","CSF1","CSF3","CSNK1G1","CST6","CTCF","CTCFL","CTLA4","CTNNB1","CTPS1","CTSD","CTSL","CUL1","CUL3","CUL5","CYP2A6","CYSLTR2","DAXX","DCC","DCLRE1B","DCN","DDC","DDX19A","DDX39B","DDX3X","DICER1","DIS3","DLC1","DLG4","DLX5","DNAJB1","DNAJC6","DNM2","DNMT1","DNMT3A","DNMT3B","DOCK6","DOCK8","DOT1L","DPP4","DPP6","DPYSL3","DUSP8","DUSP9","E2F5","ECHDC3","ECT2L","EEF1A1","EEF1G","EGFR","EGR3","EHMT1","EIF1AX","EIF2AK2","EIF4A2","ENPP6","EP300","EPAS1","EPHA1","EPHA7","EPHB1","EPHB2","EPS15L1","ERBB2","ERBB2IP","ERBB3","ERBB4","ERCC2","ERCC3","ERG","ERRFI1","ESR1","ESYT2","ETS2","ETV6","EZH2","F11R","F7","FAM58A","FAT1","FBXO44","FBXW7","FDX1","FGF1","FGF9","FGFR1","FGFR2","FGFR3","FGFR4","FGG","FH","FHL5","FKBP14","FKBP5","FLNA","FLNB","FLT1","FLT3","FMNL3","FOXA1","FOXL2","FOXO1","FOXP1","FUBP1","GABPA","GAS2L3","GATA1","GATA2","GATA3","GCSH","GGA2","GLI1","GLRX2","GNA11","GNAI3","GNAQ","GNAS","GOLGA2","GPAM","GPS2","GPT2","GRB2","GRIA2","GRM1","GSG2","GSK3B","GTF2I","GUCA1A","GUCY1B3","H2AFJ","H3F3A","HBA2","HDAC1","HDAC3","HDAC6","HDAC8","HES1","HGF","HGFAC","HIC2","HIST1H1C","HIST1H2AE","HIST1H2AH","HIST1H2BB","HIST1H2BC","HIST1H2BD","HIST1H2BE","HIST1H2BH","HIST1H2BI","HIST1H2BL","HIST1H3B","HIST1H3C","HIST1H3E","HIST1H3G","HIST1H3H","HIST1H4E","HIST1H4J","HIST1H4K","HIST1H4L","HIST2H3D","HIST4H4","HLA-A","HLA-B","HLA-DQA1","HNF1A","HNRNPH2","HRAS","HSD17B10","IDH1","IDH2","IFIT1","IFNLR1","IGF1R","IGFBP3","IKZF1","IL13RA2","IL18R1","IL21R","IL6ST","IL7R","ING2","INHBA","INPP4A","INPPL1","IQUB","IRF3","IRF4","IRS2","ISPD","ITFG1","ITGA1","ITGA4","ITGAM","ITGB1","ITGB2","ITPR2","JAK1","JPH2","JUN","KCNA3","KCNH5","KDM4B","KDM5C","KDM6A","KDR","KEAP1","KIAA0586","KIF1A","KIFC1","KIT","KLF4","KLHL3","KMT2C","KMT2D","KNSTRN","KPNB1","KRAS","KRT5","LATS2","LCAT","LCMT1","LDB1","LDB2","LDLRAP1","LGALS1","LGALS9","LHX6","LILRB2","LRRC3B","LRRC55","LYN","MAGIX","MAP1B","MAP2K1","MAP2K2","MAP2K4","MAP2K5","MAP3K1","MAP3K13","MAPK1","MASP1","MASP2","MATN3","MAX","MCF2","MDC1","MDFIC","MDGA2","MECOM","MED12","MEF2B","MET","MGAT1","MKI67","MKX","MLST8","MMEL1","MNDA","MOB1B","MRPL11","MRPL3","MST1","MTOR","MYC","MYCN","MYD88","MYO10","MYOD1","MYOM1","MZF1","NCF1","NCKAP1L","NCOA3","NCS1","NDST3","NEBL","NEDD8","NEIL1","NF1","NFE2L2","NGFR","NME3","NMT1","NONO","NOTCH1","NOTCH2","NRAS","NSD1","NUF2","NUP93","OXSM","OXSR1","PACSIN1","PACSIN3","PAK7","PARD3","PARP1","PAX5","PAXIP1","PBRM1","PCBD2","PCBP1","PCDH15","PCDHA4","PCDHB13","PCDHB8","PDE11A","PDGFRA","PDPK1","PDXP","PECR","PGR","PIK3CA","PIK3CB","PIK3CD","PIK3R1","PIK3R2","PIM1","PIWIL2","PLEK","PLEKHA6","PLEKHH1","PLEKHH2","PLG","PLK2","PLXNB1","PMS2","POLE","POLH","POLI","POLM","POR","POTEE","POTEF","PPARG","PPFIA3","PPIP5K2","PPP2R1A","PPP3CA","PPP4R2","PPP6C","PRDM14","PRELID1","PREX2","PRKCB","PRKCI","PRLR","PROCR","PRPF31","PRUNE2","PSAP","PSMB3","PTBP2","PTEN","PTK2B","PTP4A1","PTPN1","PTPN11","PTPRD","PTPRF","PTPRR","PTPRS","PTPRT","PUM1","PYGM","RAB30","RAB33B","RABGAP1L","RAC1","RAD50","RAD51C","RAD52","RAF1","RALYL","RANBP6","RARA","RB1","RBBP7","RBM10","RBM46","RBMS3","RBP2","RBP4","RBP7","RECQL","RECQL4","RELA","RET","RGAG4","RGPD3","RGS6","RHCG","RHEB","RHOA","RICTOR","RIT1","RNF111","RNF41","RNF43","RNF7","RORC","RPRD1B","RPS6KA3","RPS6KA4","RPS6KB1","RPTOR","RQCD1","RRAS2","RUNX1","RXRA","RYR2","S100A14","S100A2","S100A3","SALL3","SDC3","SDHA","SDHAF2","SDR39U1","SELE","SERPINB3","SESN2","SETBP1","SETD2","SF3B1","SH3GL1","SH3GLB2","SHROOM4","SIRT3","SLC12A2","SLC25A11","SLC25A4","SLC25A5","SLFNL1","SLIT2","SMAD2","SMAD3","SMAD4","SMARCA4","SMARCB1","SMARCC2","SMARCD1","SMC1A","SMG7","SMO","SMURF2","SNAP29","SNRNP200","SNRPD3","SNRPN","SNX17","SOCS1","SOCS5","SORL1","SOS1","SOX17","SOX6","SOX9","SPEG","SPON2","SPOP","SPRED1","SRM","SRP9","SRSF2","SSBP1","STARD5","STAT3","STIM1","STK11","STK19","STK24","SUMO3","SUPT5H","SYK","SYT14","SYT7","TAF4B","TBK1","TBL1XR1","TCEB1","TCEB2","TCF21","TCF3","TCF7L2","TDRD7","TEAD2","TET1","TF","TGFBI","TGFBR1","TGFBR2","TH","THADA","THBS2","THRA","THRB","TICAM1","TIGD1","TMPRSS11E","TNFRSF14","TNFSF18","TNR","TOPBP1","TOX","TP53","TP53I3","TP63","TRAF2","TRAF7","TRAP1","TRIM24","TRIM9","TRPV1","TSC1","TSG101","TTC14","TTK","TUBA3D","TUBB2A","TUBB2B","TUBB4A","TXNL4A","U2AF1","UBE2E2","UGP2","UNC5C","UNC79","UQCRFS1","USH1C","USP5","UVSSA","VCL","VHL","VIM","WDR75","WHSC1","WRN","XPO1","ZEB2","ZIC1","ZNF320","ZNF443","ZNF484","ZNF548","ZNF572","ZNF658","ZNF664","ZNF777","ZNF98","ZSCAN16"]},716:function(e,t,n){},717:function(e,t,n){e.exports={portalWidth:"paginationControls-module__portalWidth__2gIaM",framedImage:"paginationControls-module__framedImage__2QU5w","default-cursor":"paginationControls-module__default-cursor__3qNcu","form-select":"paginationControls-module__form-select__3-BhF","page-number-input":"paginationControls-module__page-number-input__2DGhO",paginationControls:"paginationControls-module__paginationControls__MF0uG","margin-right-button":"paginationControls-module__margin-right-button__3tzhL","margin-left-button":"paginationControls-module__margin-left-button__1rLFR","hidden-button":"paginationControls-module__hidden-button__2mt4l"}},718:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(56),i=n(629),a=n(126),u=n.n(a),l=n(2),s=n(7),c=n(655),p=n.n(c),d=n(656);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=n(613),S=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==v(o)&&"function"!=typeof o?m(r):o).downloadingData=!1,n.copyingData=!1,n.showErrorMessage=!1,n.showTooltipCopyMessage=!1,n._copyButton=null,n._modalCopyButton=null,n._modalCopyButtonContainer=null,n._copyText=null,n.handleDownload=n.handleDownload.bind(m(n)),n.handleCopy=n.handleCopy.bind(m(n)),n.handleModalClose=n.handleModalClose.bind(m(n)),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.showCopy&&this.bindCopyButton(this._copyButton)}},{key:"bindCopyButton",value:function(e,t){e&&new b(e,{text:this.getText.bind(this),container:t})}},{key:"render",value:function(){var e=this;return r.createElement("span",null,r.createElement(d.a,{className:this.props.className,showCopy:this.props.showCopy,showCopyMessage:this.showTooltipCopyMessage,showDownload:this.props.showDownload,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,handleDownload:this.handleDownload,handleCopy:this.handleCopy,copyButtonRef:function(t){e._copyButton=t}}),this.downloadIndicatorModal(),this.copyIndicatorModal(),this.downloadErrorModal())}},{key:"downloadIndicatorModal",value:function(){return r.createElement(o.Modal,{show:this.downloadingData,onHide:function(){},bsSize:"sm",className:"".concat(p.a["centered-modal-dialog"])},r.createElement(o.Modal.Body,null,r.createElement(i.ThreeBounce,{style:{display:"inline-block",marginRight:10}}),r.createElement("span",null,"Downloading Table Data...")))}},{key:"copyIndicatorModal",value:function(){var e=this;return r.createElement(o.Modal,{show:this.copyingData,onHide:function(){},onEntered:function(){e.bindCopyButton(e._modalCopyButton,e._modalCopyButtonContainer)},bsSize:"sm",className:"".concat(p.a["centered-modal-dialog"])},r.createElement(o.Modal.Header,null,this.showErrorMessage?"Copy Error!":"Copy Ready!"),r.createElement(o.Modal.Body,null,this.showErrorMessage&&"An error occurred while copying the data. Data may be incomplete.","Please click on Copy to copy the data to clipboard."),r.createElement(o.Modal.Footer,null,r.createElement("span",{ref:function(t){e._modalCopyButtonContainer=t}},r.createElement("button",{ref:function(t){e._modalCopyButton=t},onClick:this.handleModalClose,className:"btn btn-primary","data-clipboard-text":"NA",id:"modalCopyButton"},"Copy"))))}},{key:"downloadErrorModal",value:function(){return r.createElement(o.Modal,{show:!this.copyingData&&this.showErrorMessage,onHide:this.handleModalClose,bsSize:"sm",className:"".concat(p.a["centered-modal-dialog"])},r.createElement(o.Modal.Header,null,"Download Error!"),r.createElement(o.Modal.Body,null,"An error occurred while downloading the data. Downloaded file may contain incomplete data."),r.createElement(o.Modal.Footer,null,r.createElement(o.Button,{onClick:this.handleModalClose,className:"btn btn-primary"},"Close")))}},{key:"getText",value:function(){return this._copyText||""}},{key:"handleCopy",value:function(){this.initCopyProcess()}},{key:"initCopyProcess",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText!==t?(e._copyText=t,e.copyingData=!0):e.showSimpleCopyMessage()})}},{key:"handleDownload",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText=t,e.download(t)})}},{key:"initDownloadProcess",value:function(e){var t=this;this.props.downloadData&&(this.downloadingData=!0,this.props.downloadData().then(function(n){"complete"===n.status?t.downloadingData=!1:t.triggerDownloadError(),e(n.text)}).catch(function(){t.triggerDownloadError()}))}},{key:"download",value:function(e){u()(e,this.props.downloadFilename)}},{key:"handleModalClose",value:function(){this.copyingData=!1,this.showErrorMessage=!1}},{key:"triggerDownloadError",value:function(){this.downloadingData=!1,this.showErrorMessage=!0}},{key:"showSimpleCopyMessage",value:function(){var e=this;this.showTooltipCopyMessage=!0,setTimeout(function(){e.showTooltipCopyMessage=!1},this.props.copyMessageDuration)}}])&&f(n.prototype,a),l&&f(n,l),t}();S.defaultProps={className:"",copyMessageDuration:3e3,showCopy:!0,showDownload:!0,downloadFilename:"data.tsv"},g([l.observable],S.prototype,"downloadingData",void 0),g([l.observable],S.prototype,"copyingData",void 0),g([l.observable],S.prototype,"showErrorMessage",void 0),g([l.observable],S.prototype,"showTooltipCopyMessage",void 0),g([l.action],S.prototype,"handleModalClose",null),g([l.action],S.prototype,"triggerDownloadError",null),g([l.action],S.prototype,"showSimpleCopyMessage",null),S=g([s.observer],S)},720:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__QOSi2",framedImage:"styles-module__framedImage__1dzkM",virtualStudy:"styles-module__virtualStudy__U7f0-",virtualStudyForm:"styles-module__virtualStudyForm__24Vwu",saveButton:"styles-module__saveButton__272LI",studiesSummaryInfo:"styles-module__studiesSummaryInfo__3ewzF",result:"styles-module__result__1BQ9F",name:"styles-module__name__3bVye",controls:"styles-module__controls__31KcC",disabled:"styles-module__disabled__M8SEC",studySummary:"styles-module__studySummary__3Tls0",studyName:"styles-module__studyName__3U1tn",studyDescription:"styles-module__studyDescription__1tQcY"}},721:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(603);function o(e,t){return t===r.b?0:Math.floor(Math.max(e-1,0)/t)}},722:function(e,t,n){e.exports=n(16)(41)},723:function(e){e.exports=[{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.341339866,confidence:.863,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:972538e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.001913222,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.003620254,confidence:.0335,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.001418568,confidence:.005,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.006080752,confidence:.059,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.00451735,confidence:.043,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.001704592,confidence:.017,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:951258e-9,confidence:.0055,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001870896,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.005068029,confidence:.0485,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:982892e-9,confidence:.003,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002622727,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.084106761,confidence:.702,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:826186e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.001429341,confidence:.0085,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:823673e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002915391,confidence:.028,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.007484683,confidence:.0715,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:572061e-9,confidence:0,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.00198798,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001096651,confidence:.008,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.004016701,confidence:.0425,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.001632676,confidence:.01,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:997686e-9,confidence:.0045,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.00308292,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.503912181,confidence:.9955,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.003044077,confidence:.027,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.007111733,confidence:.075,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.001896354,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.151243448,confidence:.27,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.003879945,confidence:.0325,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.005419738,confidence:.047,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.008507836,confidence:.055,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00363819,confidence:.033,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.010844139,confidence:.061,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.034512153,confidence:.1245,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.009953293,confidence:.0745,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.003466513,confidence:.025,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.007610197,confidence:.0585,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.012576643,confidence:.0695,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.003347933,confidence:.0305,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.018327265,confidence:.0885,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.008894914,confidence:.0565,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:.003358317,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008302825,confidence:.062,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.006159875,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.006076796,confidence:.0505,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.014221547,confidence:.088,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.004388324,confidence:.034,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003052651,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.00959173,confidence:.0665,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.006974826,confidence:.0525,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.004176428,confidence:.0355,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00535034,confidence:.0445,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.009369821,confidence:.0615,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.617882475,confidence:.812,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.0036165,confidence:.031,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.008800631,confidence:.059,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.006454707,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.063649069,confidence:.2365,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001628188,confidence:.0125,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.046902463,confidence:.4155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.006882923,confidence:.054,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00361478,confidence:.021,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.014863187,confidence:.083,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.010484074,confidence:.0695,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.003026287,confidence:.0245,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.002453355,confidence:.023,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.002392524,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.014476329,confidence:.1205,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.007135648,confidence:.0805,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002942895,confidence:.0235,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.163993342,confidence:.896,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:686919e-9,confidence:.001,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008949491,confidence:.0915,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001079462,confidence:.0065,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002625438,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.017866136,confidence:.1115,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:671284e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.0020471,confidence:.0165,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.002319558,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003747207,confidence:.036,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.009046077,confidence:.084,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.001463008,confidence:.009,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003301589,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.581148247,confidence:.945,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.013454741,confidence:.141,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.003818527,confidence:.034,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.003330149,confidence:.032,numberOfMutationsForSample:28},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.008049382,confidence:.0675,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001105177,confidence:.0045,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.0036538,confidence:.0365,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.004620752,confidence:.041,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.003782088,confidence:.0255,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.003749777,confidence:.0355,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.003365869,confidence:.029,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.004632342,confidence:.043,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.001719043,confidence:.011,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001231342,confidence:.0085,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.003583696,confidence:.0345,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.002815642,confidence:.0235,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.004149477,confidence:.038,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.129747639,confidence:.78,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:734112e-9,confidence:.002,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.00228644,confidence:.021,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001002355,confidence:.005,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.003832217,confidence:.0375,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.031776993,confidence:.2185,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.001557096,confidence:.0105,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003556415,confidence:.0335,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001487606,confidence:.0115,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003237267,confidence:.0265,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.008425291,confidence:.0805,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00114451,confidence:.0065,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003196741,confidence:.0245,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.754802788,confidence:1,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.001975817,confidence:.0145,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.001780031,confidence:.013,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.002998294,confidence:.0285,numberOfMutationsForSample:26}]},724:function(e){e.exports=[{mutationalSignatureId:"mutational_signature_1",description:"Mutational Signature 1",confidenceStatement:"Signature 1, the aging signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_2",description:"Mutational Signature 2",confidenceStatement:"Signature 2, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 13, the other APOBEC signature"},{mutationalSignatureId:"mutational_signature_3",description:"Mutational Signature 3",confidenceStatement:"Signature 3, the signature of Homologous Recombination Repair deficiency is detected in this case.  This signature is most commonly associated with BRCA mutations"},{mutationalSignatureId:"mutational_signature_4",description:"Mutational Signature 4",confidenceStatement:"Signature 4, the smoking signature is detected in this case"},{mutationalSignatureId:"mutational_signature_5",description:"Mutational Signature 5",confidenceStatement:"Signature 5 is detected in this case.  We are not confident that we are able to detect signature 5 in the IMPACT cohort.  It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with age"},{mutationalSignatureId:"mutational_signature_6",description:"Mutational Signature 6",confidenceStatement:"Signature 6, a MMR signature, is detected in this case.  It is usually associated with high mutational burden.  This signature often co-occurs with other MMR signatures (14, 15, 20, 21 26)"},{mutationalSignatureId:"mutational_signature_7",description:"Mutational Signature 7",confidenceStatement:"Signature 7, the UV light signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_8",description:"Mutational Signature 8",confidenceStatement:"Signature 8 is detected in this case. We are not confident that we are able to detect signature 8 in the IMPACT cohort. It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with HRD defects"},{mutationalSignatureId:"mutational_signature_9",description:"Mutational Signature 9",confidenceStatement:"Signature 9 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is associated with POLH."},{mutationalSignatureId:"mutational_signature_10",description:"Mutational Signature 10",confidenceStatement:"Signature 10, the POLE signature, is detected in this case.  It is associated with functions to the exonucleus domain of the POLE gene and enormous mutational burden.  Oftentimes MMR signatures 6, 14,16, 20,21 and 26 co-occur with the POLE signature."},{mutationalSignatureId:"mutational_signature_11",description:"Mutational Signature 11",confidenceStatement:"Signature 11, the Temozolomide (TMZ) signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_12",description:"Mutational Signature 12",confidenceStatement:"Signature 12 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is found in liver cancer."},{mutationalSignatureId:"mutational_signature_13",description:"Mutational Signature 13",confidenceStatement:"Signature 13, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 2, the other APOBEC signature."},{mutationalSignatureId:"mutational_signature_14",description:"Mutational Signature 14",confidenceStatement:"Signature 14, the signature of simultaneous MMR and POLE dysfunction is detected in this case.  This signature usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 15, 20, 21 26)."},{mutationalSignatureId:"mutational_signature_15",description:"Mutational Signature 15",confidenceStatement:"Signature 15, a MMR signature, is detected in this case.  It is usually associated with high mutational burden."},{mutationalSignatureId:"mutational_signature_16",description:"Mutational Signature 16",confidenceStatement:"Signature 16 is detected in this case. We are not confident that we are able to detect signature 16 in the IMPACT cohort.  In the literature it is associated with Liver cancer and alcohol consumption."},{mutationalSignatureId:"mutational_signature_17",description:"Mutational Signature 17",confidenceStatement:"Signature 17 is detected in this case.  The aetiology of this signature is unknown.  It is predominantly found in gastric cancers."},{mutationalSignatureId:"mutational_signature_18",description:"Mutational Signature 18",confidenceStatement:"Signature 18 is detected in this case.  This signature is associated with MUTYH dysfunction and neuroblastoma."},{mutationalSignatureId:"mutational_signature_19",description:"Mutational Signature 19",confidenceStatement:"Signature 19 is detected in this case. We are not confident that we are able to detect signature 19 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_20",description:"Mutational Signature 20",confidenceStatements:"Signature 20 is detected in this case. This signature is associated with MMR and usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_21",description:"Mutational Signature 21",confidenceStatement:"Signature 21 is detected in this case. This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_22",description:"Mutational Signature 22",confidenceStatement:"Signature 22 is detected in this case. We are not confident that we are able to detect signature 22 in the IMPACT cohort. In the literature it is associated with exposure to Aristolochic Acid."},{mutationalSignatureId:"mutational_signature_23",description:"Mutational Signature 23",confidenceStatement:"Signature 23 is detected in this case. We are not confident that we are able to detect signature 23 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_24",description:"Mutational Signature 24",confidenceStatement:"Signature 24 is detected in this case. We are not confident that we are able to detect signature 24 in the IMPACT cohort.  In the literature it is associated with aflatoxin exposure.  In our cohort we believe it is detected by accident in cases with the smoking signature (signature 4)."},{mutationalSignatureId:"mutational_signature_25",description:"Mutational Signature 25",confidenceStatement:"Signature 25 is detected in this case. We are not confident that we are able to detect signature 25 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_26",description:"Mutational Signature 26",confidenceStatement:"Signature 26 is detected in this case.  This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 20, 21)."},{mutationalSignatureId:"mutational_signature_27",description:"Mutational Signature 27",confidenceStatement:"Signature 27 is detected in this case. We are not confident that we are able to detect signature 27 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_28",description:"Mutational Signature 28",confidenceStatement:"Signature 28 is detected in this case. We are not confident that we are able to detect signature 28 in the IMPACT cohort.  It often co-occurs with signature 28."},{mutationalSignatureId:"mutational_signature_29",description:"Mutational Signature 29",confidenceStatement:"Signature 29, the mutational signature of chewing tobacco is detected in this case."},{mutationalSignatureId:"mutational_signature_30",description:"Mutational Signature 30",confidenceStatement:"Signature 30 is detected in this case. We are not confident that we are able to detect signature 30 in the IMPACT cohort."}]},727:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return y});var r=n(4),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var h=function(){function e(){p(this,e),this.map={}}return f(e,[{key:"entries",value:function(){for(var e=[],t=0,n=Object.keys(this.map);t<n.length;t++){var r=n[t],o=!0,i=!1,a=void 0;try{for(var u,l=this.map[r][Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;e.push(s)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}},{key:"set",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.getEntry(n);return o?(o.value=e,!1):(this.getFolder(n).push({key:n,value:e}),!0)}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.getEntry(t);return r?r.value:void 0}},{key:"has",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!!this.getEntry(t)}},{key:"getEntry",value:function(e){return this.getFolder(e).find(function(t){return o.a.isEqual(t.key,e)})}},{key:"getFolder",value:function(e){var t=function(e){return e.join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}}],[{key:"from",value:function(t,n){var r=new e,o=!0,i=!1,a=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var s=u.value;r.set.apply(r,[s].concat(c(n(s))))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}}]),e}(),m=function(e){function t(){return p(this,t),a(this,u(t).apply(this,arguments))}return l(t,h),t}(),y=function(e){function t(){return p(this,t),a(this,u(t).apply(this,arguments))}return l(t,h),f(t,[{key:"increment",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.has.apply(this,t)?this.set.apply(this,[this.get.apply(this,t)+1].concat(t)):this.set.apply(this,[1].concat(t))}}]),t}()},734:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(2),a=n(586),u=n(576),l=n(3),s=n(8),c=n(4),p=n.n(c),d=n(581),f=n(607),h=n(583);function m(e,t,n){return p.a.sortBy(e,function(e){var r=t(e);return n?r in n?n[r]:Number.POSITIVE_INFINITY:r})}var y=n(21),v=n(56),g=n(9),b=n.n(g),S=n(584);function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=A(this,I(t).apply(this,arguments))).tooltipModel=null,e.mouseEvents=e.makeMouseEvents(),e.legendClassName="stacked-bar-plot-legend-".concat(Math.random()),e.computedLegendWidth=0,e.mousePosition={x:0,y:0},e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),n=t,(i=[{key:"containerRef",value:function(e){this.container=e,this.updateLegendWidth()}},{key:"makeMouseEvents",value:function(){var e=this;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(t){return e.tooltipModel=t,null}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return e.tooltipModel=null,null}}]}}}]}},{key:"formatCategoryTick",value:function(e,t){return this.labels[t]}},{key:"formatNumericalTick",value:function(e,t,n){return Object(f.a)(e,n)}},{key:"categoryCoord",value:function(e){return e*(this.barWidth+this.barSeparation)}},{key:"tooltipFunction",value:function(e){return this.props.tooltip?this.props.tooltip(e):r.createElement("div",null,r.createElement("span",null,e.majorCategory),r.createElement("br",null),r.createElement("strong",null,e.minorCategory,": ",e.count," sample",1===e.count?"":"s"," (",e.percentage,"%)"))}},{key:"getChart",value:function(){var e,t=this;return this.data.length>0?r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight),onMouseMove:this.onMouseMove,ref:function(e){t.props.containerRef&&t.props.containerRef(e)}},r.createElement("g",{transform:"translate(".concat(this.leftPadding,", ").concat(this.topPadding,")")},r.createElement(d.VictoryChart,{theme:u.d,width:this.chartWidth,height:this.chartHeight,standalone:!1,domainPadding:this.chartDomainPadding,domain:this.plotDomain,singleQuadrantDomainPadding:(e={},C(e,this.countAxis,!0),C(e,this.categoryAxis,!1),e)},this.legend,this.horzAxis,this.vertAxis,this.chartEtl)))):r.createElement("span",null,"No data to plot.")}},{key:"onMouseMove",value:function(e){this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY}},{key:"updateLegendWidth",value:function(){if(this.container){var e=this.container.getElementsByClassName(this.legendClassName).item(0);e&&(this.computedLegendWidth=e.getBoundingClientRect().width)}}},{key:"componentDidUpdate",value:function(){this.updateLegendWidth()}},{key:"render",value:function(){return this.data.length?r.createElement("div",null,r.createElement(o.Observer,null,this.getChart),this.tooltipComponent):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"getColor",get:function(){var e=Object(h.j)(p.a.values(this.props.categoryToColor)),t={};return p.a.forEach(this.props.categoryToColor,function(e,n){t[n.toLowerCase()]=e}),function(n){return(n=n.toLowerCase())in t||(t[n]=e()),t[n]}}},{key:"chartWidth",get:function(){var e;return e=this.props.horizontalBars?this.props.chartBase:this.chartExtent,Math.max(e,Object(l.L)(this.props.axisLabelX||"",u.c.fontFamily,u.c.fontSize+"px"))}},{key:"chartHeight",get:function(){var e;return e=this.props.horizontalBars?this.chartExtent:this.props.chartBase,Math.max(e,Object(l.L)(this.props.axisLabelY||"",u.c.fontFamily,u.c.fontSize+"px"))}},{key:"sideLegendX",get:function(){return this.chartWidth-20}},{key:"legendLocation",get:function(){return void 0!==this.props.legendLocationWidthThreshold&&this.chartWidth>this.props.legendLocationWidthThreshold||this.legendData.length>15?"bottom":"right"}},{key:"bottomLegendHeight",get:function(){return 0===this.legendData.length?0:23.7*Math.ceil(this.legendData.length/4)}},{key:"legendData",get:function(){var e=this;return m(this.data,function(e){return e.minorCategory},this.minorCategoryOrder).map(function(t){return{name:t.minorCategory,symbol:{type:"square",fill:e.getColor(t.minorCategory),strokeOpacity:0,size:5}}})}},{key:"legend",get:function(){return this.legendData.length>0?r.createElement(d.VictoryLegend,{orientation:"right"===this.legendLocation?"vertical":"horizontal",itemsPerRow:"right"===this.legendLocation?void 0:4,rowGutter:"right"===this.legendLocation?void 0:-5,gutter:30,data:this.legendData,x:"right"===this.legendLocation?this.sideLegendX:0,y:"right"===this.legendLocation?100:this.svgHeight-this.bottomLegendHeight,groupComponent:r.createElement("g",{className:this.legendClassName})}):null}},{key:"data",get:function(){var e=[];return this.props.horzData&&this.props.vertData?e=function(e,t,n){var r,o;n?(r=t,o=e):(r=e,o=t);var i=p.a.chain(o).keyBy("uniqueSampleKey").mapValues(function(e){return[].concat(e.value)}).value(),a={},u={},l=!0,s=!1,c=void 0;try{for(var d,f=r[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value,m=i[h.uniqueSampleKey];if(m){var y=[].concat(h.value),v=!0,g=!1,b=void 0;try{for(var S,T=m[Symbol.iterator]();!(v=(S=T.next()).done);v=!0){var C=S.value;u[C]=u[C]||{};var P=!0,A=!1,I=void 0;try{for(var E,O=y[Symbol.iterator]();!(P=(E=O.next()).done);P=!0){var _=E.value;a[_]=!0,u[C][_]=u[C][_]||0,u[C][_]+=1}}catch(e){A=!0,I=e}finally{try{P||null==O.return||O.return()}finally{if(A)throw I}}}}catch(e){g=!0,b=e}finally{try{v||null==T.return||T.return()}finally{if(g)throw b}}}}}catch(e){s=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw c}}var w={};return p.a.forEach(a,function(e,t){var n=0;p.a.forEach(u,function(e){e[t]=e[t]||0,n+=e[t]}),w[t]=n}),p.a.map(u,function(e,t){return{minorCategory:t,counts:p.a.map(e,function(e,t){var n=e/w[t]*100;return{majorCategory:t,count:e,percentage:parseFloat(n.toFixed(2))}})}})}(this.props.horzData,this.props.vertData,!!this.props.horizontalBars):this.props.plotData&&(e=this.props.plotData),e}},{key:"maxMajorCount",get:function(){if(this.props.percentage)return 100;var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.data[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=!0,l=!1,s=void 0;try{for(var c,d=a.counts[Symbol.iterator]();!(u=(c=d.next()).done);u=!0){var f=c.value;e[f.majorCategory]=e[f.majorCategory]||0,this.props.stacked?e[f.majorCategory]+=f.count:e[f.majorCategory]=Math.max(f.count,e[f.majorCategory])}}catch(e){l=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw s}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return p.a.chain(e).values().max().value()}},{key:"plotDomain",get:function(){var e,t,n,r=[0,this.maxMajorCount];return n=this.data.length>0?[this.categoryCoord(0),this.categoryCoord(Math.max(1,this.data[0].counts.length-1))]:[0,0],this.props.horizontalBars?(e=r,t=n):(e=n,t=r),{x:e,y:t}}},{key:"offset",get:function(){return this.barWidth}},{key:"categoryAxisDomainPadding",get:function(){return this.domainPadding}},{key:"countAxisDomainPadding",get:function(){return this.domainPadding}},{key:"domainPadding",get:function(){return void 0===this.props.domainPadding?100:this.props.domainPadding}},{key:"countAxis",get:function(){return this.props.horizontalBars?"x":"y"}},{key:"categoryAxis",get:function(){return this.props.horizontalBars?"y":"x"}},{key:"chartDomainPadding",get:function(){var e;return C(e={},this.countAxis,this.props.percentage?0:this.countAxisDomainPadding),C(e,this.categoryAxis,this.categoryAxisDomainPadding+this.additionalPadding),e}},{key:"additionalPadding",get:function(){return this.props.stacked?0:this.categoryCoord(this.data.length/2)+this.data.length}},{key:"chartExtent",get:function(){var e=100;if(this.data.length>0){var t=0;return this.props.stacked?t=this.data[0].counts.length:(t=this.data[0].counts.length*this.data.length,e+=this.categoryCoord(this.data[0].counts.length)),this.categoryCoord(t-1)+2*this.categoryAxisDomainPadding+e}return e}},{key:"svgWidth",get:function(){return this.leftPadding+this.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return this.topPadding+this.chartHeight+this.bottomPadding}},{key:"barSeparation",get:function(){return this.props.stacked?.2*this.barWidth:0}},{key:"barWidth",get:function(){var e=this.props.barWidth||10;return this.props.stacked||this.data.length<=10?e:e/2}},{key:"labels",get:function(){return this.data.length>0?m(this.data[0].counts.map(function(e){return e.majorCategory}),function(e){return e},this.majorCategoryOrder):[]}},{key:"numberOfTicks",get:function(){return void 0!==this.props.ticksCount?this.props.ticksCount:8}},{key:"zeroCountOffset",get:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=this.data[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=!0,l=!1,s=void 0;try{for(var c,p=a.counts[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){if(0===c.value.count){e=!0;break}}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}if(e)break}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return this.props.stacked?0:e?this.maxMajorCount/this.numberOfTicks*.01:0}},{key:"axisStyle",get:function(){return this.props.stacked?this.props.axisStyle||{}:{axis:{stroke:"#b3b3b3"}}}},{key:"categoryAxisStyle",get:function(){var e=this.axisStyle;if(!this.props.stacked){var t=this.categoryCoord(this.data.length)-this.data.length*this.barSeparation;e=Object.assign(Object.assign(Object.assign({},this.axisStyle),{axis:{strokeWidth:0}}),{ticks:{stroke:"black",size:1,strokeLinecap:"butt",strokeLinejoin:"butt",strokeWidth:t}})}return e}},{key:"horzAxis",get:function(){var e=[this.props.axisLabelX];this.props.horizontalBars&&e.unshift("".concat(this.props.countAxisLabel).concat(this.props.percentage?" (%)":""));var t=this.props.horizontalBars?this.axisStyle:this.categoryAxisStyle;return r.createElement(d.VictoryAxis,{orientation:"bottom",offsetY:50,crossAxis:!1,label:e,tickValues:this.props.horizontalBars?void 0:this.categoryTickValues,tickCount:this.props.horizontalBars?this.numberOfTicks:void 0,tickFormat:this.props.horizontalBars?this.formatNumericalTick:this.formatCategoryTick,tickLabelComponent:r.createElement(d.VictoryLabel,{angle:this.props.horizontalBars?void 0:50,verticalAnchor:this.props.horizontalBars?void 0:"start",textAnchor:this.props.horizontalBars?void 0:"start"}),axisLabelComponent:r.createElement(d.VictoryLabel,{dy:this.props.horizontalBars?35:this.biggestCategoryLabelSize+24}),style:t})}},{key:"vertAxis",get:function(){var e=[];this.props.axisLabelY&&e.push(this.props.axisLabelY),this.props.horizontalBars||e.push("".concat(this.props.countAxisLabel).concat(this.props.percentage?" (%)":""));var t=this.props.horizontalBars?this.categoryAxisStyle:this.axisStyle;return r.createElement(d.VictoryAxis,{orientation:"left",offsetX:50,crossAxis:!1,label:e,dependentAxis:!0,tickValues:this.props.horizontalBars?this.categoryTickValues:void 0,tickCount:this.props.horizontalBars?void 0:this.numberOfTicks,tickFormat:this.props.horizontalBars?this.formatCategoryTick:this.formatNumericalTick,axisLabelComponent:r.createElement(d.VictoryLabel,{dy:this.props.horizontalBars?-1*this.biggestCategoryLabelSize-24:-40}),style:t})}},{key:"leftPadding",get:function(){return this.props.horizontalBars?this.biggestCategoryLabelSize:25}},{key:"topPadding",get:function(){return 0}},{key:"rightPadding",get:function(){return this.legendData.length>0&&"right"===this.legendLocation?this.biggestLegendLabelWidth+20:Math.max(50,this.computedLegendWidth-this.chartWidth)}},{key:"bottomPadding",get:function(){var e=10,t=0;return this.props.horizontalBars||(e=this.biggestCategoryLabelSize),"bottom"===this.legendLocation&&(t=this.bottomLegendHeight+15),e+t}},{key:"biggestLegendLabelWidth",get:function(){return Math.max.apply(Math,T(this.legendData.map(function(e){return Object(l.L)(e.name,u.c.fontFamily,u.c.fontSize+"px")})))}},{key:"biggestCategoryLabelSize",get:function(){var e=Math.max.apply(Math,T(this.labels.map(function(e){return Object(l.L)(e,u.b.fontFamily,u.b.fontSize+"px")})));return this.props.horizontalBars?e:e*Math.abs(Math.sin(Math.PI/180*50))}},{key:"minorCategoryOrder",get:function(){var e;return(e=this.props.horizontalBars?this.props.horzCategoryOrder:this.props.vertCategoryOrder)?Object(l.W)(e):void 0}},{key:"majorCategoryOrder",get:function(){var e;return(e=this.props.horizontalBars?this.props.vertCategoryOrder:this.props.horzCategoryOrder)?Object(l.W)(e):void 0}},{key:"categoryTickValues",get:function(){var e=this;return this.data.length>0?this.data[0].counts.map(function(t,n){return e.categoryCoord(n)}):[]}},{key:"bars",get:function(){var e,t,n,o,i,a,u,l,s=this;return(e=this.data,t=this.minorCategoryOrder,n=this.majorCategoryOrder,o=this.getColor,i=this.categoryCoord,a=!!this.props.horizontalBars,u=!!this.props.stacked,l=!!this.props.percentage,e=m(e,function(e){return e.minorCategory},t),(!a&&u||a&&!u)&&(e=p.a.reverse(e)),e.map(function(e){var t=e.minorCategory,r=e.counts;return{fill:o(t),data:m(r,function(e){return e.majorCategory},n).map(function(e,n){return{x:i(n),y:l?e.percentage:e.count,majorCategory:e.majorCategory,minorCategory:t,count:e.count,percentage:e.percentage}})}})).map(function(e){return r.createElement(d.VictoryBar,{style:{data:{fill:e.fill,width:s.barWidth}},data:p.a.map(e.data,function(e){return Object.assign(Object.assign({},e),{y:e.y+s.zeroCountOffset})}),events:s.mouseEvents})})}},{key:"tooltipComponent",get:function(){if(this.tooltipModel){var e="",t=0,n=0,o="";return this.props.horizontalBars?(e="bottom",n=10,o="translate(-50%,0%)"):(n=-17,this.mousePosition.x>S.a.size.width-400?(e="left",t=-8,o="translate(-100%,0%)"):(e="right",t=8)),y.createPortal(r.createElement(v.Popover,{arrowOffsetTop:-n,className:b()("cbioportal-frontend","cbioTooltip"),positionLeft:this.mousePosition.x+t,positionTop:this.mousePosition.y+n,style:{transform:o,maxWidth:400},placement:e},this.tooltipFunction(this.tooltipModel.datum||this.tooltipModel.data[0])),document.body)}return null}},{key:"chartEtl",get:function(){return this.props.stacked?r.createElement(d.VictoryStack,{horizontal:this.props.horizontalBars},this.bars):r.createElement(d.VictoryGroup,{offset:this.offset,horizontal:this.props.horizontalBars},this.bars)}}])&&P(n.prototype,i),a&&P(n,a),t}();w.defaultProps={countAxisLabel:"# samples"},_([i.observable.ref],w.prototype,"tooltipModel",void 0),_([i.observable],w.prototype,"computedLegendWidth",void 0),_([i.observable],w.prototype,"mousePosition",void 0),_([i.observable.ref],w.prototype,"container",void 0),_([a.bind],w.prototype,"containerRef",null),_([i.computed],w.prototype,"getColor",null),_([i.computed],w.prototype,"chartWidth",null),_([i.computed],w.prototype,"chartHeight",null),_([i.computed],w.prototype,"sideLegendX",null),_([i.computed],w.prototype,"legendLocation",null),_([i.computed],w.prototype,"bottomLegendHeight",null),_([i.computed],w.prototype,"legendData",null),_([i.computed],w.prototype,"data",null),_([i.computed],w.prototype,"maxMajorCount",null),_([i.computed],w.prototype,"plotDomain",null),_([i.computed],w.prototype,"offset",null),_([i.computed],w.prototype,"categoryAxisDomainPadding",null),_([i.computed],w.prototype,"countAxisDomainPadding",null),_([i.computed],w.prototype,"domainPadding",null),_([i.computed],w.prototype,"countAxis",null),_([i.computed],w.prototype,"categoryAxis",null),_([i.computed],w.prototype,"chartDomainPadding",null),_([i.computed],w.prototype,"additionalPadding",null),_([i.computed],w.prototype,"chartExtent",null),_([i.computed],w.prototype,"svgWidth",null),_([i.computed],w.prototype,"svgHeight",null),_([i.computed],w.prototype,"barSeparation",null),_([i.computed],w.prototype,"barWidth",null),_([i.computed],w.prototype,"labels",null),_([a.bind],w.prototype,"formatCategoryTick",null),_([a.bind],w.prototype,"formatNumericalTick",null),_([i.computed],w.prototype,"numberOfTicks",null),_([i.computed],w.prototype,"zeroCountOffset",null),_([i.computed],w.prototype,"axisStyle",null),_([i.computed],w.prototype,"categoryAxisStyle",null),_([i.computed],w.prototype,"horzAxis",null),_([i.computed],w.prototype,"vertAxis",null),_([i.computed],w.prototype,"leftPadding",null),_([i.computed],w.prototype,"topPadding",null),_([i.computed],w.prototype,"rightPadding",null),_([i.computed],w.prototype,"bottomPadding",null),_([i.computed],w.prototype,"biggestLegendLabelWidth",null),_([i.computed],w.prototype,"biggestCategoryLabelSize",null),_([i.computed],w.prototype,"minorCategoryOrder",null),_([i.computed],w.prototype,"majorCategoryOrder",null),_([s.default],w.prototype,"categoryCoord",null),_([i.computed],w.prototype,"categoryTickValues",null),_([i.computed],w.prototype,"tooltipComponent",null),_([i.computed],w.prototype,"chartEtl",null),_([s.default],w.prototype,"getChart",null),_([s.default],w.prototype,"onMouseMove",null),w=_([o.observer],w);t.a=w},735:function(e,t,n){"use strict";var r=n(0),o=n(17),i=(n(822),"https://oncokb.org");function a(){return r.createElement("a",{href:"".concat(i,"/cancerGenes"),target:"_blank"},"OncoKB Cancer Gene List")}var u,l,s=n(693),c=n.n(s),p=n(9),d=n.n(p),f=n(3),h=n(578),m=n(574),y=n(774);function v(e,t){return[e,Object(m.x)(t)].join(":")}function g(e,t,n,o,i){return r.createElement("div",{style:{marginLeft:e},className:c.a.displayFlex,"data-test":"gene-column-header"},n&&r.createElement(f.c,{mouseEnterDelay:0,placement:"top",overlay:S(o)},r.createElement("div",{onClick:i,className:c.a.displayFlex},function(e){return r.createElement("span",{"data-test":"cancer-gene-filter",className:d()(c.a.cancerGeneIcon,c.a.displayFlex),style:{color:e?h.h:h.g}},r.createElement("i",{className:"fa fa-filter"}))}(o))),t)}function b(e,t,n,u,l,s){return r.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:300,fontSize:12}},r.createElement("span",null,function(e,t,n,u,l){if(t){var s="";if(u||l){s=" as a ";var c=[];u&&c.push("oncogene"),l&&c.push("tumor suppressor gene"),s="".concat(s," ").concat(c.join(" and "))}return r.createElement("span",null,r.createElement(o.If,{condition:n},r.createElement(o.Then,null,r.createElement("a",{href:"".concat(i,"/gene/").concat(e),target:"_blank"},e)),r.createElement(o.Else,null,r.createElement("span",null,e))),r.createElement("span",null," is included in the "),a(),(u||l)&&r.createElement("span",null,s),".")}}(e,n,u,l,s)))}function S(e){return e?r.createElement("span",null,"Filtered by ",a(),". Click to show all genes."):r.createElement("span",null,"Showing all genes. Click to filter by"," ",a(),".")}function T(e,t,n,o,i,a){var u="# of samples profiled";"data"!==e&&(u+=" for ".concat(e," in this gene: ").concat(t.toLocaleString()));return r.createElement(f.c,{placement:"right",overlay:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"column"},"data-test":"freq-cell-tooltip"},r.createElement("span",null,u),r.createElement(y.a,{genePanelIds:o,toggleModal:i}))},destroyTooltipOnHide:!0},r.createElement("span",{"data-test":"freq-cell",style:a},Object(m.O)(n/t*100)))}function C(e,t){var n="".concat(t?"Percentage":"Number"," of samples");return"data"!==e&&(n+=" with one or more ".concat(e)),n}n.d(t,"d",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return T}),n.d(t,"g",function(){return C}),function(e){e.MUTATION="mutations",e.FUSION="fusions",e.CNA="copy number alterations",e.DATA="data"}(u||(u={})),function(e){e.INTERSECTION="Intersection",e.UNION="Union"}(l||(l={}))},742:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return g});var r=n(0),o=n(665),i=n.n(o),a=n(7),u=n(2),l=n(798),s=n(4),c=n.n(s);n(743);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=1,g=0,b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==m(o)&&"function"!=typeof o?f(r):o).trackSpecKeyToTrackId={},n.divRefHandler=n.divRefHandler.bind(f(n)),n.refreshOncoprint=c.a.debounce(n.refreshOncoprint.bind(f(n)),0),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"divRefHandler",value:function(e){this.div=e}},{key:"getTrackSpecKey",value:function(e){var t=null;return c.a.forEach(this.trackSpecKeyToTrackId,function(n,r){if(n===e)return t=r,!1}),t}},{key:"refreshOncoprint",value:function(e){var t=this;this.oncoprint||(this.oncoprint=new i.a("#".concat(e.divId),e.width,e.initParams),this.oncoprint.setTrackGroupLegendOrder([v,g]),window.frontendOnc=this.oncoprint,e.oncoprintRef&&e.oncoprintRef(this.oncoprint)),this.oncoprint.webgl_unavailable||(Object(l.a)(e,this.lastTransitionProps||{},this.oncoprint,function(){return t.trackSpecKeyToTrackId},function(){return t.props.molecularProfileIdToMolecularProfile}),this.lastTransitionProps=c.a.clone(e))}},{key:"componentWillReceiveProps",value:function(e){this.refreshOncoprint(e)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.refreshOncoprint(this.props)}},{key:"componentWillUnmount",value:function(){this.oncoprint&&(this.oncoprint.destroy(),this.oncoprint=void 0)}},{key:"render",value:function(){return r.createElement("div",{id:this.props.divId,ref:this.divRefHandler})}},{key:"sortByMutationType",get:function(){return this.props.distinguishMutationType&&this.props.sortConfig&&this.props.sortConfig.sortByMutationType}},{key:"sortByDrivers",get:function(){return this.props.distinguishDrivers&&this.props.sortConfig&&this.props.sortConfig.sortByDrivers}}])&&p(n.prototype,o),a&&p(n,a),t}();y([u.computed],b.prototype,"sortByMutationType",null),y([u.computed],b.prototype,"sortByDrivers",null),b=y([a.observer],b),t.c=b},743:function(e,t,n){},744:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzguOTI0cHgiIGhlaWdodD0iMzguNjI1cHgiIHZpZXdCb3g9IjAgMCAzOC45MjQgMzguNjI1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAzOC45MjQgMzguNjI1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSIxOS4zOTkiIGN5PSI3LjE4OCIgcng9IjE3Ljg4NiIgcnk9IjUuODEyIi8+DQo8cGF0aCBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTM4LjA5MSw4LjU2NUwyMi43NDIsMjcuNjkzVjM3Ljc1bC03LjgyMy0zLjEyNGwtMC4wMzItNi44MjFMMC43MzcsOC41NjUNCgljMCwwLDMuNzQ3LDQuMTE5LDE4LjUzOCwzLjgyMUMzNC4wNjMsMTIuMDg5LDM4LjA5MSw4LjU2NSwzOC4wOTEsOC41NjV6Ii8+DQo8L3N2Zz4NCg=="},745:function(e,t,n){e.exports=n(16)(132)},746:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return r.createElement(o.c,{overlay:this.props.tooltip},r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:Object.assign({},{color:"#BB1700",cursor:"pointer"},this.props.style||{})}))}}])&&a(n.prototype,i),c&&a(n,c),t}()},747:function(e,t,n){"use strict";var r=n(0),o=n(2),i=n(7),a=(n(823),n(570)),u=n(56),l=n(609),s=n(88),c=n(4),p=n.n(c),d=n(610),f=n(782),h=n(586),m=n.n(h),y=n(576),v=n(581),g=n(583),b=n(9),S=n.n(b),T=n(674),C=n(11),P=n.n(C);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},k=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=I(this,E(t).apply(this,arguments))).isHovered=!1,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMouseEnter",value:function(){this.isHovered=!0}},{key:"onMouseLeave",value:function(){this.isHovered=!1}},{key:"render",value:function(){var e=!this.props.placement||"left"===this.props.placement||"right"===this.props.placement,t=P()(this.props.container).offset();return t&&(this.props.targetHovered||this.isHovered)?r.createElement(T,{container:document.body},r.createElement(u.Popover,{className:S()("cbioportal-frontend","cbioTooltip",this.props.className),positionLeft:this.props.targetCoords.x+t.left+5-(e?0:30),positionTop:this.props.targetCoords.y+t.top-(e?30:-5),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,arrowOffsetTop:e?30:void 0,arrowOffsetLeft:e?void 0:24,placement:this.props.placement},this.props.overlay)):null}}])&&A(n.prototype,o),i&&A(n,i),t}();w([o.observable],k.prototype,"isHovered",void 0),w([m.a],k.prototype,"onMouseEnter",null),w([m.a],k.prototype,"onMouseLeave",null);var M=k=w([i.observer],k),G=n(607),N=n(3),x=n(694),R=n(695);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":F(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},U=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},V="#ffffff",z="#000000",H=1,K=1,W=3,Q=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=j(this,L(t).apply(this,arguments))).tooltipModel=null,e.pointHovered=!1,e.mouseEvents=e.makeMouseEvents(),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,r["Component"]),n=t,(o=[{key:"containerRef",value:function(e){this.container=e}},{key:"makeMouseEvents",value:function(){var e=this,t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){if(e.props.horizontal&&!n.datum.searchLabel){var r=n.x;n.x=n.y+-5,n.y=r+28.5}else e.props.horizontal||(n.x+=-5);return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}},{key:"datumAccessorY",value:function(e){return e.value}},{key:"datumAccessorBaseLine",value:function(e){return e.offset}},{key:"datumAccessorX",value:function(e){return e.order}},{key:"datumAccessorLabelY",value:function(e){return e.labely}},{key:"datumAccessorLabelX",value:function(e){return e.labelx}},{key:"datumAccessorSearchIndicatorY",value:function(e){return e.searchindicatory}},{key:"datumAccessorSearchIndicatorX",value:function(e){return e.searchindicatorx}},{key:"tickFormat",value:function(e,t,n){return n&&!this.props.useLogSpaceTicks&&(e=n.fInvLogScale(e),t=t.map(function(e){return n.fInvLogScale(e)})),Object(G.a)(e,t)}},{key:"tickFormatX",value:function(e,t,n){if(this.props.horizontal)return this.tickFormat(e,n,this.props.log)}},{key:"tickFormatY",value:function(e,t,n){if(!this.props.horizontal)return this.tickFormat(e,n,this.props.log)}},{key:"resolveStyleOptionType",value:function(e,t){return"function"==typeof t?t(e):t}},{key:"getChart",value:function(){return r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)},r.createElement("g",null,this.title),r.createElement("g",{transform:"translate(".concat(25,",").concat(this.props.horizontal?30:0,")")},r.createElement(v.VictoryChart,{theme:y.d,width:this.props.chartWidth,height:this.props.chartHeight,standalone:!1,domainPadding:this.plotPaddingInPixels,singleQuadrantDomainPadding:this.props.horizontal},this.legend,this.props.horizontal&&r.createElement(v.VictoryAxis,{domain:this.plotDomainX,orientation:"top",crossAxis:!1,tickCount:8,tickFormat:this.tickFormatX,axisLabelComponent:r.createElement(v.VictoryLabel,{dy:-20}),label:this.axisLabel}),this.props.horizontal&&r.createElement(v.VictoryAxis,{orientation:"left",dependentAxis:!0,tickFormat:function(){return""},style:{axis:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{stroke:"none"}}}),!this.props.horizontal&&r.createElement(v.VictoryAxis,{domain:this.plotDomainY,offsetX:50,orientation:"left",crossAxis:!1,tickCount:8,tickFormat:this.tickFormatY,dependentAxis:!0,axisLabelComponent:r.createElement(v.VictoryLabel,{dy:-35}),label:this.axisLabel}),r.createElement(v.VictoryBar,{style:{data:{fill:function(e){return e.fill},stroke:function(e){return e.stroke},strokeWidth:function(e){return e.strokeWidth},strokeOpacity:function(e){return e.strokeOpacity},fillOpacity:function(e){return e.fillOpacity}}},horizontal:this.props.horizontal,data:this.styledWaterfallPlotData,size:this.size,events:this.mouseEvents,x:this.datumAccessorX,y:this.datumAccessorY,y0:this.datumAccessorBaseLine}),r.createElement(v.VictoryScatter,{style:{data:{fill:V,stroke:z,strokeWidth:H,strokeOpacity:K}},symbol:d.y.symbol,size:W,data:this.limitLabels,x:this.datumAccessorLabelX,y:this.datumAccessorLabelY}),r.createElement(v.VictoryScatter,{style:{data:{fill:d.S.fill,stroke:d.S.stroke,strokeWidth:1.5*d.S.strokeWidth,strokeOpacity:d.S.strokeOpacity}},symbol:d.S.symbol,size:1.5*d.S.size,data:this.searchLabels,events:this.mouseEvents,x:this.datumAccessorSearchIndicatorX,y:this.datumAccessorSearchIndicatorY})))))}},{key:"render",value:function(){return this.props.data.length?r.createElement("div",null,r.createElement(i.Observer,null,this.getChart),this.container&&this.tooltipModel&&this.props.tooltip&&r.createElement(M,{container:this.container,targetHovered:this.pointHovered,targetCoords:{x:this.tooltipModel.x+25,y:this.tooltipModel.y},overlay:this.props.tooltip(this.tooltipModel.datum)})):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"fontFamily",get:function(){return this.props.fontFamily||"Verdana,Arial,sans-serif"}},{key:"title",get:function(){if(this.props.title){var e=Object(N.fb)(this.props.title,this.props.chartWidth,this.fontFamily,"13px");return r.createElement(v.VictoryLabel,{style:{fontWeight:"bold",fontFamily:this.fontFamily,textAnchor:"middle"},x:this.svgWidth/2,y:"1.2em",text:e})}return null}},{key:"axisLabel",get:function(){if(this.props.axisLabel){var e=this.props.horizontal?this.props.chartWidth:this.props.chartHeight;return Object(N.fb)(this.props.axisLabel,e,this.fontFamily,"13px")}return""}},{key:"legendX",get:function(){return this.props.chartWidth-20}},{key:"bottomLegendHeight",get:function(){return this.props.legendData&&this.props.legendData.length&&"bottom"===this.legendLocation?Object(g.c)(this.legendItemsPerRow,this.props.legendData,this.props.legendTitle)+50:0}},{key:"maxLegendLabelWidth",get:function(){return this.props.legendData?Object(g.g)(this.props.legendData):0}},{key:"legendItemsPerRow",get:function(){return Object(g.f)(this.maxLegendLabelWidth,this.svgWidth,45,this.props.legendTitle)}},{key:"legend",get:function(){if(this.props.legendData&&this.props.legendData.length){var e=this.props.legendData;"bottom"===this.legendLocation&&(e=e.map(function(e){var t=e.name,n=U(e,["name"]);return Array.isArray(t)&&(t=t.join(" ")),Object.assign({name:t},n)}));var t="right"===this.legendLocation?"vertical":"horizontal";return r.createElement(v.VictoryLegend,{dataComponent:r.createElement(x.a,{orientation:t}),labelComponent:r.createElement(R.a,{orientation:t}),events:[{childName:"all",target:["data","labels"],eventHandlers:{onClick:function(){return[{target:"data",mutation:function(e){var t=e.data[e.index];t.highlighting&&t.highlighting.onClick(t)}}]}}}],orientation:t,itemsPerRow:"right"===this.legendLocation?void 0:this.legendItemsPerRow,rowGutter:"right"===this.legendLocation?void 0:-5,gutter:"right"===this.legendLocation?void 0:45,data:e,x:"right"===this.legendLocation?this.legendX:0,y:"right"===this.legendLocation?100:this.svgHeight-this.bottomLegendHeight+3,title:this.props.legendTitle,titleOrientation:"right"===this.legendLocation?"top":"left",style:{title:{fontSize:15,fontWeight:"bold"}},titleComponent:r.createElement(v.VictoryLabel,{dx:"right"===this.legendLocation?0:-10})})}return null}},{key:"plotDomain",get:function(){var e=p()(this.waterfallPlotData).map("value").max()||0;return{value:[p()(this.waterfallPlotData).map("value").min()||0,e],order:[1,this.waterfallPlotData.length]}}},{key:"plotDomainX",get:function(){return this.props.horizontal?this.plotDomain.value:this.plotDomain.order}},{key:"plotDomainY",get:function(){return this.props.horizontal?this.plotDomain.order:this.plotDomain.value}},{key:"svgWidth",get:function(){return 25+this.props.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return"bottom"===this.legendLocation?this.props.chartHeight+this.bottomLegendHeight:this.props.chartHeight}},{key:"rightPadding",get:function(){return this.props.legendData&&this.props.legendData.length>0&&"right"===this.legendLocation?Math.max(130,this.maxLegendLabelWidth+50):130}},{key:"legendLocation",get:function(){return void 0!==this.props.legendLocationWidthThreshold&&this.props.chartWidth>this.props.legendLocationWidthThreshold||this.props.legendData&&this.props.legendData.length>7?"bottom":"right"}},{key:"size",get:function(){var e=this.props.highlight,t=this.props.size;return Object(g.i)(e,t)}},{key:"waterfallPlotData",get:function(){var e=this.props.log,t=p.a.cloneDeep(this.props.data);t=p.a.sortBy(t,function(e){return e.value}),(this.props.horizontal&&"ASC"===this.props.sortOrder||!this.props.horizontal&&"DESC"===this.props.sortOrder)&&(t=p.a.reverse(t)),p.a.each(t,function(e,t){return e.order=t+1});var n=this.props.pivotThreshold||0,r=p.a.map(t,"value").concat([n]),o=p.a.min(r)||0,i=o<0?Math.abs(o)+1e-4:0;return p.a.each(t,function(t){t.offset=e?e.fLogScale(n,i):n,t.value=e?e.fLogScale(t.value,i):t.value}),t}},{key:"styledWaterfallPlotData",get:function(){var e=this,t=p.a.cloneDeep(this.waterfallPlotData);return p.a.each(t,function(t){t.fill=e.resolveStyleOptionType(t,e.props.fill),t.fillOpacity=e.resolveStyleOptionType(t,e.props.fillOpacity),t.stroke=e.resolveStyleOptionType(t,e.props.stroke),t.strokeOpacity=e.resolveStyleOptionType(t,e.props.strokeOpacity),t.strokeWidth=e.resolveStyleOptionType(t,e.props.strokeWidth),t.symbol=e.resolveStyleOptionType(t,e.props.symbol)}),t}},{key:"limitLabels",get:function(){var e=this,t=p.a.filter(this.waterfallPlotData,function(t){return e.resolveStyleOptionType(t,e.props.labelVisibility)}),n=p.a.cloneDeep(t),r=this.props.horizontal?this.plotDomainX:this.plotDomainY,o=r[0],i=r[1],a=this.props.pivotThreshold||0,u=.02*(i-o);return p.a.each(n,function(t){var n=t.value>=a?u:-u,r=t.value+n;e.props.horizontal?(t.labelx=r,t.labely=t.order):(t.labelx=t.order,t.labely=r)}),n}},{key:"searchLabels",get:function(){var e=this;if(!this.props.highlight)return[];var t=p.a.filter(this.waterfallPlotData,function(t){return e.props.highlight(t)}),n=p.a.cloneDeep(t);p.a.each(n,function(e){return e.searchLabel=!0});var r=this.props.horizontal?this.plotDomainX:this.plotDomainY,o=r[0],i=.02*(r[1]-o);return p.a.each(n,function(t){var n=t.value<=t.offset?i:-i,r=t.offset+n;e.props.horizontal?(t.searchindicatorx=r,t.searchindicatory=t.order):(t.searchindicatorx=t.order,t.searchindicatory=r)}),n}},{key:"plotPaddingInPixels",get:function(){return this.props.horizontal?{y:30,x:3}:{y:3,x:30}}}])&&D(n.prototype,o),a&&D(n,a),t}();q([o.observable.ref],Q.prototype,"tooltipModel",void 0),q([o.observable],Q.prototype,"pointHovered",void 0),q([o.observable.ref],Q.prototype,"container",void 0),q([m.a],Q.prototype,"containerRef",null),q([o.computed],Q.prototype,"fontFamily",null),q([o.computed],Q.prototype,"title",null),q([o.computed],Q.prototype,"axisLabel",null),q([o.computed],Q.prototype,"legendX",null),q([o.computed],Q.prototype,"bottomLegendHeight",null),q([o.computed],Q.prototype,"maxLegendLabelWidth",null),q([o.computed],Q.prototype,"legendItemsPerRow",null),q([o.computed],Q.prototype,"plotDomain",null),q([o.computed],Q.prototype,"plotDomainX",null),q([o.computed],Q.prototype,"plotDomainY",null),q([o.computed],Q.prototype,"svgWidth",null),q([o.computed],Q.prototype,"svgHeight",null),q([o.computed],Q.prototype,"rightPadding",null),q([o.computed],Q.prototype,"legendLocation",null),q([m.a],Q.prototype,"datumAccessorY",null),q([m.a],Q.prototype,"datumAccessorBaseLine",null),q([m.a],Q.prototype,"datumAccessorX",null),q([m.a],Q.prototype,"datumAccessorLabelY",null),q([m.a],Q.prototype,"datumAccessorLabelX",null),q([m.a],Q.prototype,"datumAccessorSearchIndicatorY",null),q([m.a],Q.prototype,"datumAccessorSearchIndicatorX",null),q([o.computed],Q.prototype,"size",null),q([m.a],Q.prototype,"tickFormatX",null),q([m.a],Q.prototype,"tickFormatY",null),q([o.computed],Q.prototype,"waterfallPlotData",null),q([o.computed],Q.prototype,"styledWaterfallPlotData",null),q([o.computed],Q.prototype,"limitLabels",null),q([o.computed],Q.prototype,"searchLabels",null),q([o.computed],Q.prototype,"plotPaddingInPixels",null),q([m.a],Q.prototype,"getChart",null);var Y=Q=q([i.observer],Q),X=n(727),Z=n(672),J=n.n(Z),$=n(1007),ee=n(129),te=n.n(ee),ne=regeneratorRuntime.mark(oe);function re(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;n[l.uniqueSampleKey]=n[l.uniqueSampleKey]||{},n[l.uniqueSampleKey].horz=l.value}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,p=void 0;try{for(var d,f=t[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value;n[h.uniqueSampleKey]=n[h.uniqueSampleKey]||{},n[h.uniqueSampleKey].vert=h.value}}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}return n}function oe(e,t){var n,r,o,i,a,u,l,s,c,p,d,f,h,m,y,v,g,b,S;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:n=re(e,t),r=0,o=Object.keys(n);case 2:if(!(r<o.length)){T.next=61;break}if(i=o[r],!(a=n[i]).horz||!a.vert){T.next=58;break}u=Array.isArray(a.horz)?a.horz:[a.horz],l=Array.isArray(a.vert)?a.vert:[a.vert],s=!0,c=!1,p=void 0,T.prev=11,d=u[Symbol.iterator]();case 13:if(s=(f=d.next()).done){T.next=44;break}h=f.value,m=!0,y=!1,v=void 0,T.prev=18,g=l[Symbol.iterator]();case 20:if(m=(b=g.next()).done){T.next=27;break}return S=b.value,T.next=24,{uniqueSampleKey:i,horz:h,vert:S};case 24:m=!0,T.next=20;break;case 27:T.next=33;break;case 29:T.prev=29,T.t0=T.catch(18),y=!0,v=T.t0;case 33:T.prev=33,T.prev=34,m||null==g.return||g.return();case 36:if(T.prev=36,!y){T.next=39;break}throw v;case 39:return T.finish(36);case 40:return T.finish(33);case 41:s=!0,T.next=13;break;case 44:T.next=50;break;case 46:T.prev=46,T.t1=T.catch(11),c=!0,p=T.t1;case 50:T.prev=50,T.prev=51,s||null==d.return||d.return();case 53:if(T.prev=53,!c){T.next=56;break}throw p;case 56:return T.finish(53);case 57:return T.finish(50);case 58:r++,T.next=2;break;case 61:case"end":return T.stop()}},ne,null,[[11,46,50,58],[18,29,33,41],[34,,36,40],[51,,53,57]])}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),e}function se(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var he=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":fe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ye="middle",ve="Verdana, Arial, sans-serif",ge=12,be=function(e){function t(){return ae(this,t),se(this,ce(t).apply(this,arguments))}return pe(t,r["Component"]),le(t,[{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.style,o=e.text,i=me(e,["maxWidth","style","text"]),a=Object(G.b)(o,t);return n.fontSize=12-.5*(a.length-1),r.createElement(v.VictoryLabel,ie({text:a,style:n},i))}}]),t}(),Se=function(e){function t(){return ae(this,t),se(this,ce(t).apply(this,arguments))}return pe(t,r["Component"]),le(t,[{key:"render",value:function(){if(!this.props.scale)return null;var e=this.props.rectWidth,t=this.props.rectHeight,n=this.props.scale.y(this.props.y)-t/2,o=this.props.scale.x(this.props.x)-e/2;return r.createElement("g",null,r.createElement("rect",{width:e,height:t,x:o,y:n,style:{fill:this.props.cellFill,stroke:"rgb(208,208,208)"}}),r.createElement("text",{x:o+e/2,y:n+t/2,dy:"0.3em",textAnchor:this.props.textAnchor,fill:this.props.textColor,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},this.props.label))}}]),t}(),Te=function(e){function t(){return ae(this,t),se(this,ce(t).apply(this,arguments))}return pe(t,r["Component"]),le(t,[{key:"containerRef",value:function(e){this.container=e}},{key:"getCellCoordinates",value:function(e,t){return{x:this.horzTickValueMap[e],y:this.vertTickValueMap[t]}}},{key:"formatTickHorz",value:function(e,t){return this.formatTickHelper(!0,t)}},{key:"formatTickVert",value:function(e,t){return this.formatTickHelper(!1,t)}},{key:"formatTickHelper",value:function(e,t){return(e?this.tableData.horzCategories:this.tableData.vertCategories)[t]}},{key:"render",value:function(){var e=this;if(!this.tableData.data.length)return r.createElement("div",{className:"alert alert-info"},"No data to plot.");var t=this.tableData.data.map(function(t){var n=t.horzCategory,o=t.vertCategory,i=t.count,a=e.getCellCoordinates(n,o);return r.createElement(Se,{key:"".concat(n,",").concat(o,",rect"),rectWidth:e.cellWidth,rectHeight:e.cellHeight,x:a.x,y:a.y,label:"".concat(i),cellFill:e.getCellColor(i),textColor:e.getTextColor(i),textAnchor:ye,fontFamily:ve,fontSize:ge})});return r.createElement("div",null,r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)},r.createElement("g",{transform:"translate(".concat(150,", 0)")},r.createElement(v.VictoryChart,{theme:y.d,width:this.chartWidth,height:this.chartHeight,standalone:!1,domain:this.domain,domainPadding:{x:this.cellWidth,y:this.cellHeight}},this.horzAxis,this.vertAxis,t)))))}},{key:"tableData",get:function(){var e=new X.b,t=!0,n=!1,r=void 0;try{for(var o,i=oe(this.props.horzData,this.props.vertData)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;void 0!==a.horz&&void 0!==a.vert&&e.set((e.get(a.horz,a.vert)||0)+1,a.horz,a.vert)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var u,l,s={},c={},p=e.entries().map(function(e){var t=e.key[0],n=e.key[1];return s[t]=!0,c[n]=!0,{horzCategory:t,vertCategory:n,count:e.value}});this.props.horzCategoryOrder?u=this.props.horzCategoryOrder.filter(function(e){return!!s[e]}):(u=Object.keys(s)).sort(J.a),this.props.vertCategoryOrder?l=this.props.vertCategoryOrder.filter(function(e){return!!c[e]}):(l=Object.keys(c)).sort(J.a);var d=!0,f=!1,h=void 0;try{for(var m,y=u[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var v=m.value,g=!0,b=!1,S=void 0;try{for(var T,C=l[Symbol.iterator]();!(g=(T=C.next()).done);g=!0){var P=T.value;e.has(v,P)||p.push({horzCategory:v,vertCategory:P,count:0})}}catch(e){b=!0,S=e}finally{try{g||null==C.return||C.return()}finally{if(b)throw S}}}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}return{horzCategories:u,vertCategories:l.reverse(),data:p}}},{key:"dataRange",get:function(){var e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,n=!0,r=!1,o=void 0;try{for(var i,a=this.tableData.data[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e=Math.min(e,u.count),t=Math.max(t,u.count)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{min:e,max:t}}},{key:"getCellColor",get:function(){return this.tableData.data.length?$.a().domain([this.dataRange.min,this.dataRange.max]).range(["rgb(255,255,255)","rgb(0, 102, 204)"]):function(){return"rgb(255,255,255)"}}},{key:"getTextColor",get:function(){if(!this.tableData.data.length)return function(){return"rgb(0,0,0)"};var e=this.dataRange;return function(t){return Object(d.O)(t,e.min,e.max)}}},{key:"chartWidth",get:function(){return Math.max(this.tableData.horzCategories.length*this.cellWidth+150+2*this.cellWidth,this.props.minChartWidth)}},{key:"chartHeight",get:function(){return Math.max(this.tableData.vertCategories.length*this.cellHeight+150+2*this.cellHeight,this.props.minChartHeight)}},{key:"svgWidth",get:function(){return 150+this.chartWidth}},{key:"svgHeight",get:function(){return this.chartHeight+150}},{key:"horzAxis",get:function(){return r.createElement(v.VictoryAxis,{orientation:"bottom",offsetY:50,crossAxis:!1,label:this.props.axisLabelX,tickValues:this.horzTickValues,tickFormat:this.formatTickHorz,tickLabelComponent:r.createElement(be,{angle:-70,verticalAnchor:"middle",textAnchor:"end",maxWidth:120}),axisLabelComponent:r.createElement(v.VictoryLabel,{dy:130})})}},{key:"vertAxis",get:function(){return r.createElement(v.VictoryAxis,{orientation:"left",offsetX:50,crossAxis:!1,label:this.props.axisLabelY,dependentAxis:!0,tickValues:this.vertTickValues,tickFormat:this.formatTickVert,tickLabelComponent:r.createElement(be,{maxWidth:120}),axisLabelComponent:r.createElement(v.VictoryLabel,{dy:-150})})}},{key:"horzTickValueMap",get:function(){return Object(N.X)(this.tableData.horzCategories,function(e,t){return t+1})}},{key:"vertTickValueMap",get:function(){return Object(N.X)(this.tableData.vertCategories,function(e,t){return t+1})}},{key:"horzTickValues",get:function(){var e=this;return this.tableData.horzCategories.map(function(t){return e.horzTickValueMap[t]})}},{key:"vertTickValues",get:function(){var e=this;return this.tableData.vertCategories.map(function(t){return e.vertTickValueMap[t]})}},{key:"cellHeight",get:function(){return Math.max(20,this.props.minCellHeight)}},{key:"cellWidth",get:function(){var e=te()({text:this.dataRange.max+"",fontFamily:ve,fontSize:ge,lineHeight:1}).width.value+20;return Math.max(e,this.props.minCellWidth)}},{key:"domain",get:function(){return{x:[0,this.tableData.horzCategories.length+1],y:[0,this.tableData.vertCategories.length+1]}}}]),t}();he([o.observable.ref],Te.prototype,"container",void 0),he([h.bind],Te.prototype,"containerRef",null),he([o.computed],Te.prototype,"tableData",null),he([o.computed],Te.prototype,"dataRange",null),he([o.computed],Te.prototype,"getCellColor",null),he([o.computed],Te.prototype,"getTextColor",null),he([o.computed],Te.prototype,"chartWidth",null),he([o.computed],Te.prototype,"chartHeight",null),he([o.computed],Te.prototype,"svgWidth",null),he([o.computed],Te.prototype,"svgHeight",null),he([h.bind],Te.prototype,"formatTickHorz",null),he([h.bind],Te.prototype,"formatTickVert",null),he([o.computed],Te.prototype,"horzAxis",null),he([o.computed],Te.prototype,"vertAxis",null),he([o.computed],Te.prototype,"horzTickValueMap",null),he([o.computed],Te.prototype,"vertTickValueMap",null),he([o.computed],Te.prototype,"horzTickValues",null),he([o.computed],Te.prototype,"vertTickValues",null),he([o.computed],Te.prototype,"cellHeight",null),he([o.computed],Te.prototype,"cellWidth",null),he([o.computed],Te.prototype,"domain",null);var Ce=Te=he([i.observer],Te),Pe=n(101),Ae=n(710),Ie=n(714),Ee=n(8),Oe=n(126),_e=n.n(Oe),we=n(645),ke=n(764),Me=n(734),Ge=n(578),Ne=n(615),xe=n(646);function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var je=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":De(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.horizontal=new Map,this.vertical=new Map}var t,n,r;return t=e,r=[{key:"updateSelection",value:function(e,t){return e.gene=t.selectedGeneOption,e.geneSet=t.selectedGenesetOption,e.source=t.selectedDataSourceOption,e.genericAssay=t.selectedGenericAssayOption,e}},{key:"runSelectionUpdaters",value:function(e,t,n,r,o,i){e.get(t)&&[{saved:e.get(t).gene,updater:n},{saved:e.get(t).geneSet,updater:r},{saved:e.get(t).source,updater:o},{saved:e.get(t).genericAssay,updater:i}].filter(function(e){return void 0!==e.saved}).forEach(function(e){return e.updater(e.saved)})}}],(n=[{key:"updateHorizontalFromSelection",value:function(e){this.updateAxisWithSelection(this.horizontal,e)}},{key:"updateVerticalFromSelection",value:function(e){this.updateAxisWithSelection(this.vertical,e)}},{key:"updateAxisWithSelection",value:function(t,n){if(void 0!==n.dataType){var r=t.get(n.dataType);void 0===r&&(r={}),t.set(n.dataType,e.updateSelection(r,n))}}},{key:"runHorizontalUpdaters",value:function(t,n,r,o,i){e.runSelectionUpdaters(this.horizontal,t,n,r,o,i)}},{key:"runVerticalUpdaters",value:function(t,n,r,o,i){e.runSelectionUpdaters(this.vertical,t,n,r,o,i)}}])&&Re(t.prototype,n),r&&Re(t,r),e}();je([Ee.default],Le.prototype,"updateHorizontalFromSelection",null),je([Ee.default],Le.prototype,"updateVerticalFromSelection",null),je([Ee.default],Le.prototype,"runHorizontalUpdaters",null),je([Ee.default],Le.prototype,"runVerticalUpdaters",null);var Be=[{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"MUTATION_COUNT"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})&&n.length>1&&n.length<16},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"MUTATION_COUNT"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"Mut# vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"MUTATION_COUNT"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"MUTATION_COUNT"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE"===e.value})&&n.length>15},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"MUTATION_COUNT"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"Mut# vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"MUTATION_COUNT"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})&&n.length>1&&n.length<16},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"FRACTION_GENOME_ALTERED"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"FGA vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE"===e.value})&&n.length>15},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"FRACTION_GENOME_ALTERED"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"FGA vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE"===e.value})}}}}},{isApplicableToQuery:function(e,t){var n=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==n.find(function(e){return"MUTATION_COUNT"===e.value})&&void 0!==n.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"MUTATION_COUNT"===e.source&&"clinical_attribute"===t.type&&"FRACTION_GENOME_ALTERED"===t.source,display:"Mut# vs FGA",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"MUTATION_COUNT"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})&&n.length>1},toButtonInfo:function(e,t,n,r){return{selected:"MRNA_EXPRESSION"===e.type&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"mRNA vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n,r){return void 0!==e.find(function(e){return"MUTATION_EXTENDED"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})&&r>0},toButtonInfo:function(e,t,n){return{selected:"MRNA_EXPRESSION"===e.type&&"MUTATION_EXTENDED"===t.type,display:"mRNA vs mut type",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0,useSameGene:!0},horizontal:{dataType:n.find(function(e){return"MUTATION_EXTENDED"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"COPY_NUMBER_ALTERATION"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})},toButtonInfo:function(e,t,n){return{selected:"MRNA_EXPRESSION"===e.type&&"COPY_NUMBER_ALTERATION"===t.type,display:"mRNA vs CNA",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0,useSameGene:!0},horizontal:{dataType:n.find(function(e){return"COPY_NUMBER_ALTERATION"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"METHYLATION"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})},toButtonInfo:function(e,t,n){return{selected:"MRNA_EXPRESSION"===e.type&&"METHYLATION"===t.type,display:"mRNA vs methyl",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0,useSameGene:!0},horizontal:{dataType:n.find(function(e){return"METHYLATION"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"PROTEIN_LEVEL"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})},toButtonInfo:function(e,t,n,r){return{selected:"PROTEIN_LEVEL"===e.type&&"MRNA_EXPRESSION"===t.type,display:"Protein vs mRNA",plotModel:{vertical:{dataType:n.find(function(e){return"PROTEIN_LEVEL"===e.value}),dataSource:r.PROTEIN_LEVEL.find(function(e){return"brca_tcga_protein_quantification"===e.value}),useSameGene:!0},horizontal:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return e.value===a.c.TREATMENT_RESPONSE})},toButtonInfo:function(e,t,n){return{selected:e.type===a.c.TREATMENT_RESPONSE&&t.type===lt,display:"Tx Waterfall",plotModel:{horizontal:{dataType:{value:lt,label:ct},dataSource:void 0},vertical:{dataType:n.find(function(e){return e.value===a.c.TREATMENT_RESPONSE}),dataSource:void 0}}}}}];var Fe=n(592),qe=n(608);function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return Je}),n.d(t,"f",function(){return et}),n.d(t,"b",function(){return nt}),n.d(t,"e",function(){return lt}),n.d(t,"d",function(){return st}),n.d(t,"c",function(){return ct});var Ze,Je,$e,et,tt,nt,rt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Xe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.horz_logScale=0]="horz_logScale",e[e.vert_logScale=1]="vert_logScale",e[e.utilities_horizontalBars=2]="utilities_horizontalBars",e[e.utilities_showRegressionLine=3]="utilities_showRegressionLine",e[e.utilities_viewLimitValues=4]="utilities_viewLimitValues"}(Ze||(Ze={})),function(e){e[e.ClinicalData=0]="ClinicalData",e[e.MutationType=1]="MutationType",e[e.MutationTypeAndCopyNumber=2]="MutationTypeAndCopyNumber",e[e.CopyNumber=3]="CopyNumber",e[e.LimitVal=4]="LimitVal",e[e.LimitValMutationType=5]="LimitValMutationType",e[e.LimitValCopyNumber=6]="LimitValCopyNumber",e[e.LimitValMutationTypeAndCopyNumber=7]="LimitValMutationTypeAndCopyNumber",e[e.None=8]="None"}(Je||(Je={})),function(e){e[e.MutationTypeAndCopyNumber=0]="MutationTypeAndCopyNumber",e[e.None=1]="None",e[e.LimitValMutationTypeAndCopyNumber=2]="LimitValMutationTypeAndCopyNumber",e[e.LimitVal=3]="LimitVal"}($e||($e={})),function(e){e[e.ScatterPlot=0]="ScatterPlot",e[e.WaterfallPlot=1]="WaterfallPlot",e[e.BoxPlot=2]="BoxPlot",e[e.DiscreteVsDiscrete=3]="DiscreteVsDiscrete",e[e.Table=4]="Table"}(et||(et={})),function(e){e.Bar="Bar",e.StackedBar="StackedBar",e.PercentageStackedBar="PercentageStackedBar",e.Table="Table"}(tt||(tt={})),function(e){e.MutationType="MutationType",e.MutatedVsWildType="MutatedVsWildType"}(nt||(nt={}));var ot=function(e){function t(){return ze(this,t),He(this,We(t).apply(this,arguments))}return Qe(t,f["a"]),t}(),it=function(e){function t(){return ze(this,t),He(this,We(t).apply(this,arguments))}return Qe(t,Ie["a"]),t}(),at=function(e){function t(){return ze(this,t),He(this,We(t).apply(this,arguments))}return Qe(t,Y),t}(),ut="plots-tab-plot-svg",lt="none",st=-1,ct="Ordered samples",pt="same",dt=-2,ft=[{value:nt.MutationType,label:"Mutation Type"},{value:nt.MutatedVsWildType,label:"Mutated vs Wild-type"}],ht=[{value:tt.Bar,label:"Bar chart"},{value:tt.StackedBar,label:"Stacked bar chart"},{value:tt.PercentageStackedBar,label:"100% stacked bar chart"},{value:tt.Table,label:"Table"}],mt=function(e){function t(e){var n;return ze(this,t),(n=He(this,We(t).call(this,e))).selectionHistory=new Le,n.showRegressionLine=!1,n.discreteVsDiscretePlotType=tt.StackedBar,n.horizontalBars=!1,n.percentageBar=!1,n.stackedBar=!1,n.viewLimitValues=!0,n._waterfallPlotSortOrder=void 0,n.searchCase="",n.searchMutation="",n.plotExists=!1,n.highlightedLegendItems=o.observable.shallowMap(),n.downloadFilename="plot",n.horzDatatypeOptions=Object(N.S)({await:function(){return[n.dataTypeOptions]},invoke:function(){var e=void 0;n.dataTypeOptions.result&&n.vertSelection.dataType&&n.vertSelection.isGenericAssayType&&(e=[{value:lt,label:ct}]);var t=(e||[]).concat(n.dataTypeOptions.result||[]);return Promise.resolve(t)}}),n.vertDatatypeOptions=Object(N.S)({await:function(){return[n.dataTypeOptions]},invoke:function(){var e=void 0;return n.dataTypeOptions.result&&n.horzSelection.dataType&&n.horzSelection.isGenericAssayType&&(e=[{value:lt,label:ct}]),Promise.resolve((e||[]).concat(n.dataTypeOptions.result||[]))}}),n.horzGeneOptions=Object(N.S)({await:function(){return[n.props.store.genes]},invoke:function(){return Promise.resolve(n.props.store.genes.result.map(function(e){return{value:e.entrezGeneId,label:e.hugoGeneSymbol}}))}}),n.vertGeneOptions=Object(N.S)({await:function(){return[n.horzGeneOptions]},invoke:function(){var e=void 0;return n.horzSelection.dataType&&n.showGeneSelectBox(n.horzSelection.dataType,n.horzSelection.isGenericAssayType)&&n.horzSelection.selectedGeneOption&&n.horzSelection.selectedGeneOption.value!==st&&(e=[{value:dt,label:"Same gene (".concat(n.horzSelection.selectedGeneOption.label,")")}]),Promise.resolve((e||[]).concat(n.horzGeneOptions.result||[]))}}),n.coloringMenuOmnibarOptions=Object(N.S)({await:function(){return[n.props.store.genes,n.props.store.clinicalAttributes]},invoke:function(){var e=[];return e.push({label:"Genes",options:n.props.store.genes.result.map(function(e){return{label:e.hugoGeneSymbol,info:{entrezGeneId:e.entrezGeneId}}})}),e.push({label:"Clinical Attributes",options:n.props.store.clinicalAttributes.result.filter(function(e){return e.clinicalAttributeId!==Fe.c.MutationSpectrum}).map(function(e){return{label:e.displayName,info:{clinicalAttribute:e}}})}),e.length>0&&e.unshift({label:"None",info:{entrezGeneId:st}}),e.forEach(function(e){e.options?e.options.forEach(function(e){e.value=Object(d.r)(e)}):e.value=Object(d.r)(e)}),Promise.resolve(e)}}),n.horzGenesetOptions=Object(N.S)({await:function(){return[n.props.store.genesets]},invoke:function(){return Promise.resolve(n.props.store.genesets.result.map(function(e){return{value:e.genesetId,label:e.name}}))}}),n.vertGenesetOptions=Object(N.S)({await:function(){return[n.horzGenesetOptions]},invoke:function(){var e=void 0;return(n.horzGenesetOptions||n.horzSelection.dataType)&&n.horzSelection.dataType&&n.showGenesetSelectBox(n.horzSelection.dataType)&&n.horzSelection.selectedGenesetOption&&n.horzSelection.selectedGenesetOption.value!==lt&&(e=[{value:pt,label:"Same gene set (".concat(n.horzSelection.selectedGenesetOption.label,")")}]),Promise.resolve((e||[]).concat(n.horzGenesetOptions.result||[]))}}),n.genericEntitiesGroupByEntityId=Object(N.S)({await:function(){return[n.props.store.genericAssayEntitiesGroupByMolecularProfileId]},invoke:function(){var e=p.a.chain(n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result).values().flatten().groupBy(function(e){return e.stableId}).mapValues(function(e){return e[0]}).value();return Promise.resolve(e)}}),n.horzGenericAssayOptions=Object(N.S)({await:function(){return[n.props.store.genericAssayEntitiesGroupByMolecularProfileId]},invoke:function(){return n.horzSelection.dataSourceId&&n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result&&n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result[n.horzSelection.dataSourceId]?Promise.resolve(n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result[n.horzSelection.dataSourceId].map(function(e){return{value:e.stableId,label:"NAME"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.NAME:""}})):Promise.resolve([])}}),n.vertGenericAssayOptions=Object(N.S)({await:function(){return[n.props.store.genericAssayEntitiesGroupByMolecularProfileId]},invoke:function(){var e=void 0,t=void 0;return n.vertSelection.dataType&&n.showGenericAssaySelectBox(n.vertSelection.dataType,n.vertSelection.isGenericAssayType)&&(n.vertSelection.dataSourceId&&n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result&&n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result[n.vertSelection.dataSourceId]&&(t=n.props.store.genericAssayEntitiesGroupByMolecularProfileId.result[n.vertSelection.dataSourceId].map(function(e){return{value:e.stableId,label:"NAME"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.NAME:""}})),n.horzSelection.dataType&&n.horzSelection.dataType===n.vertSelection.dataType&&n.showGenericAssaySelectBox(n.horzSelection.dataType,n.horzSelection.isGenericAssayType)&&n.horzSelection.selectedGenericAssayOption&&n.horzSelection.selectedGenericAssayOption.value!==lt&&(e=[{value:pt,label:"Same ".concat(d.m[n.horzSelection.dataType]," (").concat(n.horzSelection.selectedGenericAssayOption.label,")")}])),Promise.resolve((e||[]).concat(t||[]))}}),n.clinicalAttributeIdToClinicalAttribute=Object(N.S)({await:function(){return[n.props.store.clinicalAttributes,n.props.store.studyIds]},invoke:function(){var e=p.a.keyBy(n.props.store.clinicalAttributes.result,function(e){return e.clinicalAttributeId});return Promise.resolve(e)}}),n.clinicalAttributeOptions=Object(N.S)({await:function(){return[n.props.store.clinicalAttributes]},invoke:function(){return Promise.resolve(Object(d.E)(n.props.store.clinicalAttributes.result))}}),n.dataTypeOptions=Object(N.S)({await:function(){return[n.props.store.molecularProfilesWithData,n.clinicalAttributeOptions,n.props.store.molecularProfilesInStudies]},invoke:function(){var e=n.props.store.molecularProfilesWithData.result,t=p.a.uniq(e.map(function(e){return e.molecularAlterationType})).filter(function(e){return!!d.m[e]});0===n.props.store.genesets.result.length&&t.includes(a.a.GENESET_SCORE)&&p.a.remove(t,function(e){return e===a.a.GENESET_SCORE}),n.clinicalAttributeOptions.result.length&&t.push(d.a),n.props.store.molecularProfilesInStudies.result.length&&n.horzGenesetOptions.result&&n.horzGenesetOptions.result.length>0&&n.props.store.molecularProfilesInStudies.result.filter(function(e){e.molecularAlterationType===a.a[d.c]&&-1===t.indexOf(d.c)&&t.push(d.c)});var r=p.a.chain(e).filter(function(e){return e.molecularAlterationType===a.a.GENERIC_ASSAY}).uniqBy(function(e){return e.genericAssayType}).map(function(e){return{value:e.genericAssayType,label:Object(d.n)(e.genericAssayType),isGenericAssayType:!0}}).value();return Promise.resolve(p.a.concat(p.a.sortBy(t,function(e){return d.l.indexOf(e)}).map(function(e){return{value:e,label:d.m[e]}}),r))}}),n.dataTypeToDataSourceOptions=Object(N.S)({await:function(){return[n.props.store.molecularProfilesInStudies,n.clinicalAttributeOptions]},invoke:function(){var e=n.props.store.molecularProfilesInStudies.result,t=p.a.filter(e,function(e){return e.molecularAlterationType!==a.a.GENERIC_ASSAY||e.molecularAlterationType===a.a.GENERIC_ASSAY&&e.showProfileInAnalysisTab}),r=p.a.mapValues(p.a.groupBy(t,function(e){return e.molecularAlterationType===a.a.GENERIC_ASSAY?e.genericAssayType:e.molecularAlterationType}),function(e){return Object(d.N)(e).map(function(e){return{value:e.molecularProfileId,label:e.name}})});return n.clinicalAttributeOptions.result.length&&(r[d.a]=n.clinicalAttributeOptions.result),Promise.resolve(r)}}),n.cnaPromise=Object(N.S)({await:function(){return n.props.store.annotatedCnaCache.getAll(Object(d.q)(n.coloringMenuSelection))},invoke:function(){var e=Object(d.q)(n.coloringMenuSelection);return e.length>0?Promise.resolve(p.a.flatten(n.props.store.annotatedCnaCache.getAll(e).map(function(e){return e.result}))):Promise.resolve([])}}),n.mutationPromise=Object(N.S)({await:function(){return n.props.store.annotatedMutationCache.getAll(Object(d.t)(n.coloringMenuSelection))},invoke:function(){return Promise.resolve(p.a.flatten(n.props.store.annotatedMutationCache.getAll(Object(d.t)(n.coloringMenuSelection)).map(function(e){return e.result})).filter(function(e){return!!e}))}}),n.mutationDataExists=Object(N.S)({await:function(){return[n.props.store.studyToMutationMolecularProfile]},invoke:function(){return Promise.resolve(!!p.a.values(n.props.store.studyToMutationMolecularProfile).length)}}),n.cnaDataExists=Object(N.S)({await:function(){return[n.props.store.studyToMolecularProfileDiscreteCna]},invoke:function(){return Promise.resolve(!!p.a.values(n.props.store.studyToMolecularProfileDiscreteCna).length)}}),n.horzLabel=Object(N.S)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile,n.props.store.entrezGeneIdToGene,n.clinicalAttributeIdToClinicalAttribute,n.plotType]},invoke:function(){return Promise.resolve(Object(d.o)(n.horzSelection,n.props.store.molecularProfileIdToMolecularProfile.result,n.props.store.entrezGeneIdToGene.result,n.clinicalAttributeIdToClinicalAttribute.result,n.horzLogScaleFunction))}}),n.vertLabel=Object(N.S)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile,n.props.store.entrezGeneIdToGene,n.clinicalAttributeIdToClinicalAttribute]},invoke:function(){return Promise.resolve(Object(d.o)(n.vertSelection,n.props.store.molecularProfileIdToMolecularProfile.result,n.props.store.entrezGeneIdToGene.result,n.clinicalAttributeIdToClinicalAttribute.result,n.vertLogScaleFunction))}}),n.waterfallLabel=Object(N.S)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile,n.props.store.entrezGeneIdToGene,n.clinicalAttributeIdToClinicalAttribute,n.plotType]},invoke:function(){var e=n.isHorizontalWaterfallPlot?n.horzSelection:n.vertSelection,t=n.isHorizontalWaterfallPlot?n.horzLogScaleFunction:n.vertLogScaleFunction;return Promise.resolve(Object(d.o)(e,n.props.store.molecularProfileIdToMolecularProfile.result,n.props.store.entrezGeneIdToGene.result,n.clinicalAttributeIdToClinicalAttribute.result,t))}}),n.fDatumHasMutation=function(e,t){var n=new RegExp(t,"i");return!!t&&!!e.mutations.find(function(e){return!(!e.proteinChange||!n.test(e.proteinChange))})},n.plotType=Object(N.S)({await:function(){return[n.horzAxisDataPromise,n.vertAxisDataPromise]},invoke:function(){var e=n.horzAxisDataPromise.result,t=n.vertAxisDataPromise.result,r=n.horzSelection.dataType===lt,o=n.vertSelection.dataType===lt;return e&&t?o&&e||r&&t?Promise.resolve(et.WaterfallPlot):Object(d.x)(e)&&Object(d.x)(t)?Promise.resolve(et.DiscreteVsDiscrete):Object(d.w)(e)&&Object(d.w)(t)?Promise.resolve(et.ScatterPlot):Promise.resolve(et.BoxPlot):new Promise(function(){return 0})}}),n.scatterPlotData=Object(N.S)({await:function(){var e=[n.horzAxisDataPromise,n.vertAxisDataPromise,n.props.store.sampleKeyToSample,n.props.store.coverageInformation,n.mutationPromise,n.props.store.studyToMutationMolecularProfile,n.cnaPromise,n.props.store.studyToMolecularProfileDiscreteCna];return n.coloringMenuSelection.selectedOption&&n.coloringMenuSelection.selectedOption.info.clinicalAttribute&&e.push(n.props.store.clinicalDataCache.get(n.coloringMenuSelection.selectedOption.info.clinicalAttribute)),e},invoke:function(){var e;n.coloringMenuSelection.selectedOption&&n.coloringMenuSelection.selectedOption.info.clinicalAttribute&&(e=n.props.store.clinicalDataCache.get(n.coloringMenuSelection.selectedOption.info.clinicalAttribute).result.data);var t=n.horzAxisDataPromise.result,r=n.vertAxisDataPromise.result;return t&&r?Object(d.w)(t)&&Object(d.w)(r)?Promise.resolve(Object(d.F)(t,r,n.props.store.sampleKeyToSample.result,n.props.store.coverageInformation.result.samples,n.mutationDataExists.result?{molecularProfileIds:p.a.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.mutationPromise.result}:void 0,n.cnaDataExists.result?{molecularProfileIds:p.a.values(n.props.store.studyToMolecularProfileDiscreteCna.result).map(function(e){return e.molecularProfileId}),data:n.cnaPromise.result}:void 0,n.selectedGeneForStyling,e&&{clinicalAttribute:n.coloringMenuSelection.selectedOption.info.clinicalAttribute,data:e})):Promise.resolve([]):new Promise(function(){return 0})}}),n.waterfallPlotData=Object(N.S)({await:function(){var e=[n.horzAxisDataPromise,n.vertAxisDataPromise,n.props.store.sampleKeyToSample,n.props.store.coverageInformation,n.mutationPromise,n.props.store.studyToMutationMolecularProfile,n.cnaPromise,n.props.store.studyToMolecularProfileDiscreteCna];return n.coloringMenuSelection.selectedOption&&n.coloringMenuSelection.selectedOption.info.clinicalAttribute&&e.push(n.props.store.clinicalDataCache.get(n.coloringMenuSelection.selectedOption.info.clinicalAttribute)),e},invoke:function(){var e;n.coloringMenuSelection.selectedOption&&n.coloringMenuSelection.selectedOption.info.clinicalAttribute&&(e=n.props.store.clinicalDataCache.get(n.coloringMenuSelection.selectedOption.info.clinicalAttribute).result.data);var t=n.horzAxisDataPromise.result,r=n.vertAxisDataPromise.result;if(t||r){var o=n.isHorizontalWaterfallPlot?t:r,i=n.coloringMenuSelection.selectedOption?n.coloringMenuSelection.selectedOption.info.entrezGeneId:null,a=i?n.props.store.entrezGeneIdToGene.result[i]:null;return Object(d.w)(o)?Promise.resolve({data:Object(d.H)(o,n.props.store.sampleKeyToSample.result,n.props.store.coverageInformation.result.samples,a,n.mutationDataExists.result?{molecularProfileIds:p.a.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.mutationPromise.result}:void 0,n.cnaDataShown?{molecularProfileIds:p.a.values(n.props.store.studyToMolecularProfileDiscreteCna.result).map(function(e){return e.molecularProfileId}),data:n.cnaPromise.result}:void 0,e&&{clinicalAttribute:n.coloringMenuSelection.selectedOption.info.clinicalAttribute,data:e})}):Promise.resolve({data:[]})}return new Promise(function(){return 0})}}),n.boxPlotData=Object(N.S)({await:function(){var e=[n.horzAxisDataPromise,n.vertAxisDataPromise,n.props.store.sampleKeyToSample,n.props.store.coverageInformation,n.mutationPromise,n.props.store.studyToMutationMolecularProfile,n.cnaPromise,n.props.store.studyToMolecularProfileDiscreteCna];return n.coloringMenuSelection.selectedOption&&n.coloringMenuSelection.selectedOption.info.clinicalAttribute&&e.push(n.props.store.clinicalDataCache.get(n.coloringMenuSelection.selectedOption.info.clinicalAttribute)),e},invoke:function(){var e;n.coloringMenuSelection.selectedOption&&n.coloringMenuSelection.selectedOption.info.clinicalAttribute&&(e=n.props.store.clinicalDataCache.get(n.coloringMenuSelection.selectedOption.info.clinicalAttribute).result.data);var t=n.horzAxisDataPromise.result,r=n.vertAxisDataPromise.result;if(t&&r){var o,i,a;if(Object(d.w)(t)&&Object(d.x)(r))o=r,i=t,a=!0;else{if(!Object(d.x)(t)||!Object(d.w)(r))return Promise.resolve({horizontal:!1,data:[]});o=t,i=r,a=!1}return Promise.resolve({horizontal:a,data:Object(d.D)(o,i,n.props.store.sampleKeyToSample.result,n.props.store.coverageInformation.result.samples,n.mutationDataExists.result?{molecularProfileIds:p.a.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.mutationPromise.result}:void 0,n.cnaDataExists.result?{molecularProfileIds:p.a.values(n.props.store.studyToMolecularProfileDiscreteCna.result).map(function(e){return e.molecularProfileId}),data:n.cnaPromise.result}:void 0,n.selectedGeneForStyling,e&&{clinicalAttribute:n.coloringMenuSelection.selectedOption.info.clinicalAttribute,data:e})})}return new Promise(function(){return 0})}}),n.horzSelection=n.initAxisMenuSelection(!1),n.vertSelection=n.initAxisMenuSelection(!0),n.coloringMenuSelection=n.initColoringMenuSelection(),n.searchCaseInput="",n.searchMutationInput="",window.resultsViewPlotsTab=Ke(n),n}var n,c,f;return Qe(t,r["Component"]),n=t,(c=[{key:"onClickLegendItem",value:function(e){this.highlightedLegendItems.has(e.highlighting.uid)?this.highlightedLegendItems.delete(e.highlighting.uid):this.highlightedLegendItems.set(e.highlighting.uid,e)}},{key:"onClickColorByCopyNumber",value:function(){this.plotType.result===et.WaterfallPlot?(this.coloringMenuSelection.colorByMutationType=!1,this.coloringMenuSelection.colorByCopyNumber=!0):this.coloringMenuSelection.colorByCopyNumber=!this.coloringMenuSelection.colorByCopyNumber}},{key:"onClickColorByMutationType",value:function(){this.plotType.result===et.WaterfallPlot?(this.coloringMenuSelection.colorByCopyNumber=!1,this.coloringMenuSelection.colorByMutationType=!0):this.coloringMenuSelection.colorByMutationType=!this.coloringMenuSelection.colorByMutationType}},{key:"getScrollPane",value:function(){return this.scrollPane}},{key:"getSvg",value:function(){return document.getElementById(ut)}},{key:"initAxisMenuSelection",value:function(e){var t=this;return Object(o.observable)({get entrezGeneId(){return t.showGeneSelectBox(this.dataType,this.isGenericAssayType)&&this.selectedGeneOption?e&&this.selectedGeneOption.value===dt?t.horzSelection.entrezGeneId:this.selectedGeneOption.value:void 0},get selectedGeneOption(){var n=(e?t.vertGeneOptions.result:t.horzGeneOptions.result)||[];return void 0===this._selectedGeneOption&&n.length?n[0]:e&&this._selectedGeneOption&&this._selectedGeneOption.value===dt&&t.horzSelection.dataType&&!t.showGeneSelectBox(t.horzSelection.dataType,t.horzSelection.isGenericAssayType)?t.horzSelection.selectedGeneOption:this._selectedGeneOption},set selectedGeneOption(e){this._selectedGeneOption=e},get dataType(){if(!t.dataTypeOptions.isComplete)return this._dataType;var n=t.dataTypeOptions.result;return void 0===this._dataType&&n.length?e&&n.find(function(e){return e.value===a.a.MRNA_EXPRESSION})?a.a.MRNA_EXPRESSION:!e&&n.find(function(e){return e.value===a.a.COPY_NUMBER_ALTERATION})?a.a.COPY_NUMBER_ALTERATION:n[0].value:this._dataType===lt&&(e&&t.vertDatatypeOptions.result||!e&&t.horzDatatypeOptions.result)?(e?t.vertDatatypeOptions.result[0]:t.horzDatatypeOptions.result[0]).value===lt?this._dataType:n[0].value:this._dataType},set dataType(e){this._dataType!==e&&(this._selectedDataSourceOption=void 0),this._dataType=e},get selectedDataSourceOption(){if(!t.dataTypeToDataSourceOptions.isComplete)return this._selectedDataSourceOption;var e=t.dataTypeToDataSourceOptions.result;return void 0===this._selectedDataSourceOption&&this.dataType&&e[this.dataType]&&e[this.dataType].length?e[this.dataType][0]:this._selectedDataSourceOption},set selectedDataSourceOption(e){this._selectedDataSourceOption=e},get dataSourceId(){if(this.selectedDataSourceOption)return this.selectedDataSourceOption.value},get mutationCountBy(){return void 0===this._mutationCountBy?nt.MutationType:this._mutationCountBy},set mutationCountBy(e){this._mutationCountBy=e},get logScale(){return this._logScale&&Object(d.z)(this)},set logScale(e){this._logScale=e},get genesetId(){return this.selectedGenesetOption?this.selectedGenesetOption.value===pt?t.horzSelection.genesetId:this.selectedGenesetOption.value:void 0},get selectedGenesetOption(){var n=(e?t.vertGenesetOptions.result:t.horzGenesetOptions.result)||[];return void 0===this._selectedGenesetOption&&n.length?n[0]:e&&this._selectedGenesetOption&&this._selectedGenesetOption.value===pt&&t.horzSelection.dataType===d.a?t.horzSelection.selectedGenesetOption:this._selectedGenesetOption},set selectedGenesetOption(e){this._selectedGenesetOption=e},get genericAssayEntityId(){return t.showGenericAssaySelectBox(this.dataType,this.isGenericAssayType)&&this.selectedGenericAssayOption?this.selectedGenericAssayOption.value===pt?t.horzSelection.genericAssayEntityId:this.selectedGenericAssayOption.value:void 0},get selectedGenericAssayOption(){var n=(e?t.vertGenericAssayOptions.result:t.horzGenericAssayOptions.result)||[];return void 0===this._selectedGenericAssayOption&&n.length?n[0]:e&&this._selectedGenericAssayOption&&this._selectedGenericAssayOption.value===pt&&t.horzSelection.dataType===d.a?t.horzSelection.selectedGenericAssayOption:this._selectedGenericAssayOption},set selectedGenericAssayOption(e){this._selectedGenericAssayOption=e},get isGenericAssayType(){if(!t.dataTypeOptions.isComplete)return this._isGenericAssayType;var n=t.dataTypeOptions.result;if(e&&t.vertSelection.dataType){var r=p.a.find(n,function(e){return e.value===t.vertSelection.dataType});return r&&r.isGenericAssayType}if(!e&&t.horzSelection.dataType){var o=p.a.find(n,function(e){return e.value===t.horzSelection.dataType});return o&&o.isGenericAssayType}return this._isGenericAssayType},set isGenericAssayType(e){this._isGenericAssayType=e},get _selectedGeneOption(){var n=((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).selectedGeneOption;if(n){var r=parseFloat(n);return((e?t.vertGeneOptions.result:t.horzGeneOptions.result)||[]).find(function(e){return e.value===r})}},set _selectedGeneOption(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.selectedGeneOption=n&&n.value:t.plots_horz_selection.selectedGeneOption=n&&n.value,t})},get _selectedGenesetOption(){var n=((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).selectedGenesetOption;return n?((e?t.vertGenesetOptions.result:t.horzGenesetOptions.result)||[]).find(function(e){return e.value===n}):void 0},set _selectedGenesetOption(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.selectedGenesetOption=n&&n.value:t.plots_horz_selection.selectedGenesetOption=n&&n.value,t})},get _selectedGenericAssayOption(){var n=((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).selectedGenericAssayOption;return n?((e?t.vertGenericAssayOptions.result:t.horzGenericAssayOptions.result)||[]).find(function(e){return e.value===n}):void 0},set _selectedGenericAssayOption(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.selectedGenericAssayOption=n&&n.value:t.plots_horz_selection.selectedGenericAssayOption=n&&n.value,t})},get _selectedDataSourceOption(){var n=((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).selectedDataSourceOption;if(n){var r=t.dataTypeToDataSourceOptions.result;return this.dataType&&r&&r[this.dataType]&&r[this.dataType].length?r[this.dataType].find(function(e){return e.value===n}):void 0}},set _selectedDataSourceOption(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.selectedDataSourceOption=n&&n.value:t.plots_horz_selection.selectedDataSourceOption=n&&n.value,t})},get _dataType(){return((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).dataType},set _dataType(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.dataType=n:t.plots_horz_selection.dataType=n,t})},get _mutationCountBy(){return((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).mutationCountBy},set _mutationCountBy(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.mutationCountBy=n:t.plots_horz_selection.mutationCountBy=n,t})},get _logScale(){return"true"===((e?t.props.urlWrapper.query.plots_vert_selection:t.props.urlWrapper.query.plots_horz_selection)||{}).logScale},set _logScale(n){t.props.urlWrapper.updateURL(function(t){return e?t.plots_vert_selection.logScale=n.toString():t.plots_horz_selection.logScale=n.toString(),t})},_isGenericAssayType:void 0})}},{key:"initColoringMenuSelection",value:function(){var e=this;return Object(o.observable)({get selectedOption(){var t=this,n=e.coloringMenuOmnibarOptions.isComplete?p.a.flatMap(e.coloringMenuOmnibarOptions.result,function(e){return e.options?e.options:e}):[];if(void 0===this._selectedOptionValue&&n.length){var r=void 0;return(r=n.find(function(e){return void 0!==e.info.entrezGeneId&&e.info.entrezGeneId!==st&&e.info.entrezGeneId===t.default.entrezGeneId}))||(r=n.find(function(e){return void 0!==e.info.entrezGeneId&&e.info.entrezGeneId!==st})),r}return n.find(function(e){return e.value===t._selectedOptionValue})},set selectedOption(e){this._selectedOptionValue=e&&e.value},get _selectedOptionValue(){return e.props.urlWrapper.query.plots_coloring_selection.selectedOption},set _selectedOptionValue(t){Object(o.runInAction)(function(){e.props.urlWrapper.updateURL(function(e){return e.plots_coloring_selection.selectedOption=t,e}),e.highlightedLegendItems.clear()})},get logScale(){return"true"===e.props.urlWrapper.query.plots_coloring_selection.logScale},set logScale(t){e.props.urlWrapper.updateURL(function(e){return e.plots_coloring_selection.logScale=t.toString(),e})},get colorByMutationType(){return"false"!==e.props.urlWrapper.query.plots_coloring_selection.colorByMutationType},set colorByMutationType(t){Object(o.runInAction)(function(){e.props.urlWrapper.updateURL(function(e){return e.plots_coloring_selection.colorByMutationType=t.toString(),e}),e.highlightedLegendItems.clear()})},get colorByCopyNumber(){return e.plotType.result===et.WaterfallPlot?this._colorByCopyNumber&&!this.colorByMutationType:this._colorByCopyNumber},get _colorByCopyNumber(){return"false"!==e.props.urlWrapper.query.plots_coloring_selection.colorByCopyNumber},set colorByCopyNumber(t){Object(o.runInAction)(function(){e.props.urlWrapper.updateURL(function(e){return e.plots_coloring_selection.colorByCopyNumber=t.toString(),e}),e.highlightedLegendItems.clear()})},default:{entrezGeneId:void 0}})}},{key:"updateColoringMenuGene",value:function(e){this.coloringMenuSelection.selectedOption=void 0,this.coloringMenuSelection.default.entrezGeneId=e}},{key:"onInputClick",value:function(e){this.plotType.result;switch(parseInt(e.target.value,10)){case Ze.horz_logScale:this.horzSelection.logScale=!this.horzSelection.logScale;break;case Ze.vert_logScale:this.vertSelection.logScale=!this.vertSelection.logScale;break;case Ze.utilities_showRegressionLine:this.showRegressionLine=!this.showRegressionLine;break;case Ze.utilities_horizontalBars:this.horizontalBars=!this.horizontalBars;break;case Ze.utilities_viewLimitValues:this.viewLimitValues=!this.viewLimitValues}}},{key:"downloadData",value:function(){var e=this;Object(Ne.a)([this.props.store.entrezGeneIdToGene,this.props.store.sampleKeyToSample,this.horzLabel,this.vertLabel],function(t,n,r,o){var i="".concat(e.downloadFilename,".txt");switch(e.plotType.result){case et.ScatterPlot:_e()(Object(d.u)(e.scatterPlotData.result,r,o,t,e.coloringMenuSelection.colorByMutationType,e.coloringMenuSelection.colorByCopyNumber,e.coloringMenuSelection.selectedOption&&e.coloringMenuSelection.selectedOption.info.clinicalAttribute),i);break;case et.WaterfallPlot:_e()(Object(d.v)(e.waterfallPlotData.result.data,e.waterfallPlotSortOrder,e.waterfallPlotPivotThreshold,e.waterfallLabel.result,t,e.coloringMenuSelection.colorByMutationType,e.coloringMenuSelection.colorByCopyNumber,e.coloringMenuSelection.selectedOption&&e.coloringMenuSelection.selectedOption.info.clinicalAttribute),i);break;case et.BoxPlot:var a=e.boxPlotData.result.horizontal?o:r,u=e.boxPlotData.result.horizontal?r:o;_e()(Object(d.p)(e.boxPlotData.result.data,a,u,t,e.coloringMenuSelection.colorByMutationType,e.coloringMenuSelection.colorByCopyNumber,e.coloringMenuSelection.selectedOption&&e.coloringMenuSelection.selectedOption.info.clinicalAttribute),i);break;case et.DiscreteVsDiscrete:_e()(function(e,t,n,r,o){var i=[],a=!0,u=!1,l=void 0;try{for(var s,c=oe(e,t)[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var p=s.value,d=[];d.push(n[p.uniqueSampleKey].sampleId),d.push(p.horz||"n/a"),d.push(p.vert||"n/a"),i.push(d.join("\t"))}}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}return["Sample Id",r,o].join("\t")+"\n"+i.join("\n")}(e.horzAxisDataPromise.result.data,e.vertAxisDataPromise.result.data,n,r,o),i)}})}},{key:"setSearchCaseInput",value:function(e){var t=this;this.searchCaseInput=e.target.value,clearTimeout(this.searchCaseTimeout),this.searchCaseTimeout=setTimeout(function(){return t.executeSearchCase(t.searchCaseInput)},600)}},{key:"setSearchMutationInput",value:function(e){var t=this;this.searchMutationInput=e.target.value,clearTimeout(this.searchMutationTimeout),this.searchMutationTimeout=setTimeout(function(){return t.executeSearchMutation(t.searchMutationInput)},600)}},{key:"executeSearchCase",value:function(e){this.searchCase=e}},{key:"executeSearchMutation",value:function(e){this.searchMutation=e}},{key:"getHorizontalAxisMenu",value:function(){return this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete?this.getAxisMenu(!1,this.dataTypeToDataSourceOptions.result):r.createElement("span",null)}},{key:"getVerticalAxisMenu",value:function(){return this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete?this.getAxisMenu(!0,this.dataTypeToDataSourceOptions.result):r.createElement("span",null)}},{key:"onVerticalAxisGeneSelect",value:function(e){this.vertSelection.selectedGeneOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection),this.autoChooseColoringMenuGene()}},{key:"onHorizontalAxisGeneSelect",value:function(e){this.horzSelection.selectedGeneOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection),this.autoChooseColoringMenuGene()}},{key:"selectSameGeneOptionForVerticalAxis",value:function(){if(this.vertGeneOptions.result){var e=this.vertGeneOptions.result.find(function(e){return e.value===dt});e&&this.onVerticalAxisGeneSelect(e)}}},{key:"onVerticalAxisGenesetSelect",value:function(e){this.vertSelection.selectedGenesetOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection)}},{key:"onHorizontalAxisGenesetSelect",value:function(e){this.horzSelection.selectedGenesetOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection)}},{key:"onVerticalAxisGenericAssaySelect",value:function(e){this.vertSelection.selectedGenericAssayOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection)}},{key:"onHorizontalAxisGenericAssaySelect",value:function(e){this.horzSelection.selectedGenericAssayOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection)}},{key:"onColoringMenuOptionSelect",value:function(e){this.coloringMenuSelection.selectedOption=e}},{key:"test__selectGeneOption",value:function(e,t){var n=(e?this.vertGeneOptions.result||[]:this.horzGeneOptions.result||[]).find(function(e){return e.value===t});if(!n)throw"Option not found";e?this.onVerticalAxisGeneSelect(n):this.onHorizontalAxisGeneSelect(n)}},{key:"showGeneSelectBox",value:function(e,t){return e!==lt&&e!==d.c&&e!==d.a&&!t}},{key:"showGenesetSelectBox",value:function(e){return e!==lt&&e===d.c}},{key:"showGenericAssaySelectBox",value:function(e,t){return e!==lt&&!!t}},{key:"showDatasourceBox",value:function(e){return e!==lt}},{key:"showSortOrderButton",value:function(e){return!!this.waterfallPlotIsShown&&(e?!this.isHorizontalWaterfallPlot:this.isHorizontalWaterfallPlot)}},{key:"onVerticalAxisDataTypeSelect",value:function(e){var t=this.vertSelection.selectedGeneOption,n=this.horzSelection.selectedGeneOption;this.vertSelection.dataType=e.value,e.isGenericAssayType&&(this.vertSelection.isGenericAssayType=!0),this.viewLimitValues=!0,this.selectionHistory.runVerticalUpdaters(e.value,this.onVerticalAxisGeneSelect,this.onVerticalAxisGenesetSelect,this.onVerticalAxisDataSourceSelect,this.onVerticalAxisGenericAssaySelect),this.vertSelection.dataType&&!this.showGeneSelectBox(this.vertSelection.dataType,this.vertSelection.isGenericAssayType)&&n&&n.value==dt&&this.onHorizontalAxisGeneSelect(t),this.autoChooseColoringMenuGene()}},{key:"onHorizontalAxisDataTypeSelect",value:function(e){var t=this.horzSelection.selectedGeneOption,n=this.vertSelection.selectedGeneOption;this.horzSelection.dataType=e.value,e.isGenericAssayType&&(this.horzSelection.isGenericAssayType=!0),this.viewLimitValues=!0,this.selectionHistory.runHorizontalUpdaters(e.value,this.onHorizontalAxisGeneSelect,this.onHorizontalAxisGenesetSelect,this.onHorizontalAxisDataSourceSelect,this.onHorizontalAxisGenericAssaySelect),this.horzSelection.dataType&&!this.showGeneSelectBox(this.horzSelection.dataType,this.horzSelection.isGenericAssayType)&&n&&n.value==dt&&this.onVerticalAxisGeneSelect(t),this.autoChooseColoringMenuGene()}},{key:"onVerticalAxisDataSourceSelect",value:function(e){this.vertSelection.selectedDataSourceOption=e,this.vertSelection.selectedGenericAssayOption=void 0,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection),this.autoChooseColoringMenuGene()}},{key:"onHorizontalAxisDataSourceSelect",value:function(e){this.horzSelection.selectedDataSourceOption=e,this.horzSelection.selectedGenericAssayOption=void 0,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection),this.autoChooseColoringMenuGene()}},{key:"autoChooseColoringMenuGene",value:function(){var e=this.coloringMenuSelection.selectedOption?this.coloringMenuSelection.selectedOption.info.entrezGeneId:void 0;if(this.oneAxisMolecularProfile){var t=this.hasMolecularProfile(this.horzSelection.dataType)?this.horzSelection.selectedGeneOption:this.vertSelection.selectedGeneOption;this.updateColoringMenuGene(t.value)}else this.bothAxesMolecularProfile&&e!==this.horzSelection.selectedGeneOption.value&&e!==this.vertSelection.selectedGeneOption.value&&this.updateColoringMenuGene(this.horzSelection.selectedGeneOption.value);!this.coloringMenuSelection.selectedOption||this.coloringMenuSelection.selectedOption.info.entrezGeneId===st||this.coloringMenuSelection.colorByCopyNumber||this.coloringMenuSelection.colorByMutationType||(this.coloringMenuSelection.colorByMutationType=!0,this.coloringMenuSelection.colorByCopyNumber=!0)}},{key:"onVerticalAxisMutationCountBySelect",value:function(e){this.vertSelection.mutationCountBy=e.value,this.viewLimitValues=!0,this.autoChooseColoringMenuGene()}},{key:"onHorizontalAxisMutationCountBySelect",value:function(e){this.horzSelection.mutationCountBy=e.value,this.viewLimitValues=!0,this.autoChooseColoringMenuGene()}},{key:"onDiscreteVsDiscretePlotTypeSelect",value:function(e){this.discreteVsDiscretePlotType=e.value}},{key:"onSortOrderButtonPressed",value:function(){this._waterfallPlotSortOrder="ASC"===this.waterfallPlotSortOrder?"DESC":"ASC"}},{key:"swapHorzVertSelections",value:function(){var e=this,t=["dataType","selectedDataSourceOption","logScale","mutationCountBy"];this.vertSelection.selectedGeneOption&&this.vertSelection.selectedGeneOption.value===dt||t.push("selectedGeneOption"),this.vertSelection.selectedGenesetOption&&this.vertSelection.selectedGenesetOption.value===pt||t.push("selectedGenesetOption"),this.vertSelection.selectedGenericAssayOption&&this.vertSelection.selectedGenericAssayOption.value===pt||t.push("selectedGenericAssayOption");for(var n=t.map(function(t){return e.horzSelection[t]}),r=t.map(function(t){return e.vertSelection[t]}),o=0;o<t.length;o++)this.horzSelection[t[o]]=r[o],this.vertSelection[t[o]]=n[o]}},{key:"isAxisMolecularProfile",value:function(e){return void 0!==e.dataType&&e.dataType!==lt&&e.dataType!==d.a&&e.dataType!==d.c&&!e.isGenericAssayType}},{key:"scatterPlotStroke",value:function(e){return this.scatterPlotAppearance(e).stroke}},{key:"scatterPlotStrokeOpacity",value:function(e){return this.scatterPlotAppearance(e).strokeOpacity}},{key:"scatterPlotSymbol",value:function(e){return this.scatterPlotAppearance(e).symbol||"circle"}},{key:"waterfallPlotColor",value:function(e){switch(this.coloringType){case Je.CopyNumber:case Je.LimitValCopyNumber:return this.scatterPlotStroke(e);case Je.MutationType:case Je.LimitValMutationType:case Je.ClinicalData:return this.scatterPlotAppearance(e).fill;case Je.LimitVal:case Je.None:default:return d.i.fill}}},{key:"waterfallPlotLimitValueSymbolVisibility",value:function(e){switch(this.coloringType){case Je.LimitVal:case Je.LimitValMutationType:case Je.LimitValCopyNumber:case Je.LimitValMutationTypeAndCopyNumber:return Object(g.b)(e);default:return!1}}},{key:"scatterPlotTooltip",value:function(e){return Object(d.K)(e,this.horzLogScaleFunction,this.vertLogScaleFunction,this.coloringMenuSelection.selectedOption&&this.coloringMenuSelection.selectedOption.info.clinicalAttribute)}},{key:"waterfallPlotTooltip",value:function(e){return Object(d.R)(e,this.coloringMenuSelection.selectedOption&&this.coloringMenuSelection.selectedOption.info.clinicalAttribute)}},{key:"isDisabledAxisLogCheckbox",value:function(e){return e?this.vertAxisDataHasNegativeNumbers:this.horzAxisDataHasNegativeNumbers}},{key:"getAxisMenu",value:function(e,t){var n=e?this.vertSelection:this.horzSelection;if(n.dataType===d.a&&!this.clinicalAttributeIdToClinicalAttribute.isComplete||n.dataType!==d.a&&n.dataType!==a.a.MUTATION_EXTENDED&&!this.props.store.molecularProfileIdToMolecularProfile.isComplete||n.dataType&&n.isGenericAssayType&&!this.horzGenericAssayOptions.isComplete)return r.createElement(Pe.a,{isLoading:!0});var o=e?"Vertical":"Horizontal",i="Profile",c=n.dataSourceId,p=(n.dataType?t[n.dataType]:[])||[],f=e?this.onVerticalAxisDataSourceSelect:this.onHorizontalAxisDataSourceSelect;switch(n.dataType){case d.a:i="Clinical Attribute";break;case a.a.MUTATION_EXTENDED:i="Group Mutations by",c=n.mutationCountBy,p=ft,f=e?this.onVerticalAxisMutationCountBySelect:this.onHorizontalAxisMutationCountBySelect;break;case void 0:break;default:i="".concat(n.isGenericAssayType?Object(d.n)(n.dataType):d.m[n.dataType]," Profile")}var h="";c&&n.dataType!==a.a.MUTATION_EXTENDED&&(h=n.dataType===d.a?this.clinicalAttributeIdToClinicalAttribute.result[c].description:this.props.store.molecularProfileIdToMolecularProfile.result[c].description);var m="";if(n.dataType===lt){var y=e?this.horzSelection.dataSourceId:this.vertSelection.dataSourceId,v=this.props.store.molecularProfileIdToMolecularProfile.result[y].name;m="Sample order determined by values on the '".concat(v,"' axis")}var g="",b="",S=e?this.vertSelection.genericAssayEntityId:this.horzSelection.genericAssayEntityId;if(n.dataType&&n.isGenericAssayType&&S){var T=this.genericEntitiesGroupByEntityId.result[S];g="DESCRIPTION"in T.genericEntityMetaProperties?T.genericEntityMetaProperties.DESCRIPTION:"",b="URL"in T.genericEntityMetaProperties?T.genericEntityMetaProperties.URL:""}var C=[],P=[];return n.dataType&&this.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl&&this.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl[n.dataType]&&(P=this.selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl[n.dataType]),e&&this.vertGenericAssayOptions.result?C=this.makeGenericAssayGroupOptions(this.vertGenericAssayOptions.result,P)||[]:!e&&this.horzGenericAssayOptions.result&&(C=this.makeGenericAssayGroupOptions(this.horzGenericAssayOptions.result,P)||[]),r.createElement("form",{className:"main-form"},r.createElement("h4",{className:"tab-title"},e?"Vertical":"Horizontal"," Axis"),r.createElement("div",null,r.createElement("div",{style:{marginBottom:"5px"},className:"form-group"},r.createElement("label",{className:"label-text"},"Data Type"),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(l.default,{name:"".concat(e?"v":"h","-profile-type-selector"),value:n.dataType,onChange:e?this.onVerticalAxisDataTypeSelect:this.onHorizontalAxisDataTypeSelect,options:(e?this.vertDatatypeOptions.result:this.horzDatatypeOptions.result)||[],clearable:!1,searchable:!1}),m&&r.createElement(Ae.a,{tooltip:r.createElement("span",null,m),tooltipPlacement:"right",style:{marginLeft:7}}))),this.showSortOrderButton(!e)&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement(u.Button,{className:"btn btn-default sort-order","data-test":"changeSortOrderButton",type:"button",onClick:this.onSortOrderButtonPressed},r.createElement("i",{className:this.sortOrderImageClassName})),"Sort Order")),n.dataType&&this.showDatasourceBox(n.dataType)&&r.createElement("div",{style:{marginBottom:"5px"},className:"form-group"},r.createElement("label",{className:"label-text"},i),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(l.default,{className:"data-source-id",name:"".concat(e?"v":"h","-profile-name-selector"),value:c,onChange:f,options:p,clearable:!1,searchable:!0}),h&&r.createElement(Ae.a,{tooltip:r.createElement("span",null,h),tooltipPlacement:"right",style:{marginLeft:7}}))),Object(d.z)(n)&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"".concat(o,"LogCheckbox"),type:"checkbox",name:"vert_logScale",value:e?Ze.vert_logScale:Ze.horz_logScale,checked:n.logScale&&!this.isDisabledAxisLogCheckbox(e),disabled:this.isDisabledAxisLogCheckbox(e),onClick:this.onInputClick}),"Log Scale")),(e&&this.vertLimitValuesCanBeShown||!e&&this.horzLimitValuesCanBeShown)&&r.createElement("div",{className:"checkbox color-samples-toolbar-elt"},r.createElement("label",{className:"limit-value-label"},r.createElement("input",{"data-test":"ViewLimitValues",type:"checkbox",name:"utilities_viewLimitValues",value:Ze.utilities_viewLimitValues,checked:this.viewLimitValues,onClick:this.onInputClick,disabled:e&&!this.vertLimitValuesCanBeShown||!e&&!this.horzLimitValuesCanBeShown}),e?this.vertMenuLimitValueLabel:this.horzMenuLimitValueLabel)),n.dataType&&this.showGeneSelectBox(n.dataType,n.isGenericAssayType)&&r.createElement("div",{className:"form-group",style:{display:n.dataType===d.a?"none":"block"}},r.createElement("label",null,"Gene"),r.createElement("div",{style:{display:"flex"}},r.createElement(l.default,{name:"".concat(e?"v":"h","-gene-selector"),value:n.selectedGeneOption?n.selectedGeneOption.value:void 0,onChange:e?this.onVerticalAxisGeneSelect:this.onHorizontalAxisGeneSelect,isLoading:this.horzGeneOptions.isPending,options:(e?this.vertGeneOptions.result:this.horzGeneOptions.result)||[],clearable:!1,searchable:!1,disabled:n.dataType===d.a||n.dataType===d.c}))),n.dataType&&this.showGenesetSelectBox(n.dataType)&&r.createElement("div",{className:"form-group",style:{opacity:1}},r.createElement("label",null,"Gene Set"),r.createElement("div",{style:{display:"flex"}},r.createElement(l.default,{name:"".concat(e?"v":"h","-geneset-selector"),value:n.selectedGenesetOption?n.selectedGenesetOption.value:void 0,onChange:e?this.onVerticalAxisGenesetSelect:this.onHorizontalAxisGenesetSelect,isLoading:this.horzGenesetOptions.isPending,options:(e?this.vertGenesetOptions.result:this.horzGenesetOptions.result)||[],clearable:!1,searchable:!1,disabled:n.dataType!==d.c}))),n.dataType&&this.showGenericAssaySelectBox(n.dataType,n.isGenericAssayType)&&r.createElement("div",{className:"form-group",style:{opacity:1}},r.createElement("label",null,Object(d.n)(n.dataType,!0)),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(s.default,{name:"".concat(e?"v":"h","-generic-assay-selector"),className:"genericAssaySelectBox",value:n.selectedGenericAssayOption?n.selectedGenericAssayOption:void 0,onChange:e?this.onVerticalAxisGenericAssaySelect:this.onHorizontalAxisGenericAssaySelect,isLoading:this.horzGenericAssayOptions.isPending||this.props.store.genericAssayEntitiesGroupByMolecularProfileId.isPending,options:C,formatGroupLabel:function(e){return r.createElement("div",null,r.createElement("span",null,e.label))},clearable:!1,searchable:!0,disabled:void 0===n.dataType||n.dataType===d.a||!n.isGenericAssayType}),g&&r.createElement("div",{"data-test":"generic-assay-info-icon"},r.createElement(Ae.a,{tooltip:r.createElement("div",null,b&&n.selectedGenericAssayOption&&r.createElement("a",{target:"_blank",href:b},r.createElement("b",null,n.selectedGenericAssayOption.value)),r.createElement("div",null,g)),tooltipPlacement:"right",style:{marginLeft:7}}))))))}},{key:"makeGenericAssayGroupOptions",value:function(e,t){if(e){var n=e.filter(function(e){return t.includes(e.value)}),r=p.a.difference(e,n);return 0===n.length?e:[{label:"Selected entities",options:n},{label:"Other entities",options:r}]}}},{key:"getUtilitiesMenu",value:function(){var e=this.plotType.isComplete&&this.plotType.result!==et.DiscreteVsDiscrete,t=this.plotType.isComplete&&this.plotType.result===et.DiscreteVsDiscrete,n=t&&this.discreteVsDiscretePlotType!==tt.Table,o=this.mutationDataCanBeShown||this.cnaDataCanBeShown,i=this.plotType.isComplete&&this.plotType.result===et.ScatterPlot;return e||o||t||n||i?r.createElement("div",{style:{marginTop:10}},r.createElement("div",null,e&&r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("label",null,"Search Case(s)"),r.createElement(u.FormControl,{type:"text",value:this.searchCaseInput,onChange:this.setSearchCaseInput,placeholder:"Case ID.."})),this.mutationDataCanBeShown&&r.createElement("div",{className:"form-group"},r.createElement("label",null,"Search Mutation(s)"),r.createElement(u.FormControl,{type:"text",value:this.searchMutationInput,onChange:this.setSearchMutationInput,placeholder:"Protein Change.."}),this.showMutationNotFoundMessage&&r.createElement("span",{className:"mutation-message"},"Mutation not found for selected gene"))),t&&r.createElement("div",{className:"form-group"},r.createElement("label",null,"Plot Type"),r.createElement("div",{style:{display:"flex"}},r.createElement(l.default,{name:"discrete-vs-discrete-plot-type",value:this.discreteVsDiscretePlotType,onChange:this.onDiscreteVsDiscretePlotTypeSelect,options:ht,clearable:!1,searchable:!0}))),n&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"horizontalBars",type:"checkbox",name:"utilities_horizontalBars",value:Ze.utilities_horizontalBars,checked:this.horizontalBars,onClick:this.onInputClick})," ","Horizontal Bars")),i&&r.createElement("div",{className:"checkbox",style:{marginTop:14}},r.createElement("label",null,r.createElement("input",{"data-test":"ShowRegressionline",type:"checkbox",name:"utilities_showRegressionLine",value:Ze.utilities_showRegressionLine,checked:this.showRegressionLine,onClick:this.onInputClick})," ","Show Regression Line")))):r.createElement("span",null)}},{key:"assignScrollPaneRef",value:function(e){this.scrollPane=e}},{key:"controls",value:function(){return r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("div",{className:"axisBlock"},r.createElement(i.Observer,null,this.getHorizontalAxisMenu)),r.createElement("div",{className:"swapAxes"},r.createElement("button",{className:"btn btn-link btn-xs","data-test":"swapHorzVertButton",onClick:this.swapHorzVertSelections},r.createElement("i",{className:"fa fa-arrow-up"})," Swap Axes"," ",r.createElement("i",{className:"fa fa-arrow-down"}))),r.createElement("div",{className:"axisBlock"},r.createElement(i.Observer,null,this.getVerticalAxisMenu)),r.createElement("div",null,r.createElement(i.Observer,null,this.getUtilitiesMenu)))}},{key:"componentDidUpdate",value:function(){this.plotExists=!!this.getSvg()}},{key:"render",value:function(){return r.createElement("div",{"data-test":"PlotsTabEntireDiv"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(we.a,{className:"plots-oql-status-banner",store:this.props.store,tabReflectsOql:!1}),r.createElement(xe.a,{store:this.props.store,isUnaffected:!0})),r.createElement("div",{className:"plotsTab"},r.createElement("div",{className:"quickPlotsContainer"},r.createElement("strong",{className:"quickPlotsTitle"},"Examples: "),this.quickPlotButtons),r.createElement("div",{style:{display:"flex"}},r.createElement("div",{className:"leftColumn"},this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete?r.createElement(i.Observer,null,this.controls):r.createElement(Pe.a,{isLoading:!0,center:!0,size:"big"})),r.createElement("div",{className:"chartWrapper"},this.plot))))}},{key:"coloringType",get:function(){if(this.coloringMenuSelection.selectedOption&&this.coloringMenuSelection.selectedOption.info.clinicalAttribute)return Je.ClinicalData;var e=Je.None,t=this.coloringMenuSelection.colorByMutationType,n=this.coloringMenuSelection.colorByCopyNumber;switch(this.potentialColoringType){case $e.MutationTypeAndCopyNumber:e=t&&n?Je.MutationTypeAndCopyNumber:t?Je.MutationType:n?Je.CopyNumber:Je.None;break;case $e.LimitValMutationTypeAndCopyNumber:e=t&&n&&this.viewLimitValues?Je.LimitValMutationTypeAndCopyNumber:t&&n?Je.MutationTypeAndCopyNumber:t&&this.viewLimitValues?Je.LimitValMutationType:n&&this.viewLimitValues?Je.LimitValCopyNumber:t?Je.MutationType:n?Je.CopyNumber:this.viewLimitValues?Je.LimitVal:Je.None;break;case $e.LimitVal:this.viewLimitValues&&(e=Je.LimitVal)}return e}},{key:"quickPlotButtons",get:function(){var e=this;if(!(this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete&&this.props.store.samplesByDetailedCancerType.isComplete&&this.props.store.mutations.isComplete))return r.createElement(Pe.a,{isLoading:!0,size:"small"});var t=Object.keys(this.props.store.samplesByDetailedCancerType.result),n=this.props.store.mutations.result.length,i=this.horzSelection.selectedDataSourceOption?this.horzSelection.selectedDataSourceOption.value:void 0,a=this.vertSelection.selectedDataSourceOption?this.vertSelection.selectedDataSourceOption.value:void 0,u=function(e,t,n,r,o,i){return Be.filter(function(o){return o.isApplicableToQuery(e,t,n,r)}).map(function(n){return n.toButtonInfo(i,o,e,t)})}(this.dataTypeOptions.result,this.dataTypeToDataSourceOptions.result,t,n,{type:this.horzSelection.dataType,source:i},{type:this.vertSelection.dataType,source:a});return r.createElement("div",{className:"pillTabs"},r.createElement("ul",{className:"nav nav-pills"},u.map(function(t){return r.createElement("li",{className:"plots-tab-pills "+(t.selected?"active":""),onClick:Object(o.action)(function(){t.plotModel.horizontal.dataType&&e.onHorizontalAxisDataTypeSelect(t.plotModel.horizontal.dataType),t.plotModel.horizontal.dataSource&&e.onHorizontalAxisDataSourceSelect(t.plotModel.horizontal.dataSource),t.plotModel.vertical.dataType&&e.onVerticalAxisDataTypeSelect(t.plotModel.vertical.dataType),t.plotModel.vertical.dataSource&&e.onVerticalAxisDataSourceSelect(t.plotModel.vertical.dataSource),t.plotModel.vertical.useSameGene&&e.selectSameGeneOptionForVerticalAxis()})},r.createElement("a",null,t.display))})))}},{key:"potentialColoringType",get:function(){return this.plotType.result===et.DiscreteVsDiscrete?$e.None:this.limitValuesCanBeShown?$e.LimitValMutationTypeAndCopyNumber:$e.MutationTypeAndCopyNumber}},{key:"bothAxesNoMolecularProfile",get:function(){return Object(d.j)(this.horzSelection,this.vertSelection)}},{key:"waterfallPlotIsShown",get:function(){return Object(d.M)(this.horzSelection,this.vertSelection)}},{key:"hasMolecularProfile",get:function(){return function(e){return e!==d.a&&e!==a.a.GENERIC_ASSAY}}},{key:"bothAxesMolecularProfile",get:function(){return this.isAxisMolecularProfile(this.horzSelection)&&this.isAxisMolecularProfile(this.vertSelection)}},{key:"oneAxisMolecularProfile",get:function(){return this.isAxisMolecularProfile(this.horzSelection)!==this.isAxisMolecularProfile(this.vertSelection)}},{key:"sameGeneInBothAxes",get:function(){return this.bothAxesMolecularProfile&&this.horzSelection.entrezGeneId===this.vertSelection.entrezGeneId}},{key:"cnaDataCanBeShown",get:function(){return!(!this.cnaDataExists.result||this.potentialColoringType!==$e.MutationTypeAndCopyNumber&&this.potentialColoringType!==$e.LimitValMutationTypeAndCopyNumber)}},{key:"limitValuesCanBeShown",get:function(){return this.limitValueTypes.length>0}},{key:"limitValueTypes",get:function(){return p.a.uniq(this.horzLimitValueTypes.concat(this.vertLimitValueTypes))}},{key:"horzLimitValueTypes",get:function(){return this.horzAxisDataPromise.result&&this.horzSelection.dataType&&this.horzSelection.isGenericAssayType?Object(d.s)(this.horzAxisDataPromise.result.data):[]}},{key:"horzLimitValuesCanBeShown",get:function(){return this.horzLimitValueTypes.length>0}},{key:"vertLimitValueTypes",get:function(){return this.vertAxisDataPromise.result&&this.vertSelection.dataType&&this.vertSelection.isGenericAssayType?Object(d.s)(this.vertAxisDataPromise.result.data):[]}},{key:"vertLimitValuesCanBeShown",get:function(){return this.vertLimitValueTypes.length>0}},{key:"legendLimitValueLabel",get:function(){return"value ".concat(this.limitValueTypes.join(" or ")).concat(this.isWaterfallPlot?"":" **")}},{key:"vertMenuLimitValueLabel",get:function(){return"Value ".concat(this.vertLimitValueTypes.join(" or ")," Labels").concat(this.isWaterfallPlot?"":" **")}},{key:"horzMenuLimitValueLabel",get:function(){return"Value ".concat(this.horzLimitValueTypes.join(" or ")," Labels").concat(this.isWaterfallPlot?"":" **")}},{key:"cnaDataShown",get:function(){return!(!this.cnaDataExists.result||this.coloringType!==Je.CopyNumber&&this.coloringType!==Je.MutationTypeAndCopyNumber&&this.coloringType!==Je.LimitValCopyNumber&&this.coloringType!==Je.LimitValMutationTypeAndCopyNumber)}},{key:"mutationDataCanBeShown",get:function(){return!(!this.mutationDataExists.result||this.potentialColoringType===$e.None||this.potentialColoringType===$e.LimitVal)}},{key:"mutationDataShown",get:function(){return!(!this.mutationDataExists.result||this.coloringType!==Je.MutationType&&this.coloringType!==Je.MutationTypeAndCopyNumber)}},{key:"plotDataExistsForTwoAxes",get:function(){return this.horzAxisDataPromise.isComplete&&this.horzAxisDataPromise.result.data.length>0&&this.vertAxisDataPromise.isComplete&&this.vertAxisDataPromise.result.data.length>0}},{key:"horzAxisDataPromise",get:function(){return Object(d.B)(this.horzSelection,this.clinicalAttributeIdToClinicalAttribute,this.props.store.molecularProfileIdToMolecularProfile,this.props.store.patientKeyToSamples,this.props.store.entrezGeneIdToGene,this.props.store.clinicalDataCache,this.props.store.mutationCache,this.props.store.numericGeneMolecularDataCache,this.props.store.coverageInformation,this.props.store.samples,this.props.store.genesetMolecularDataCache,this.props.store.genericAssayMolecularDataCache)}},{key:"vertAxisDataPromise",get:function(){return Object(d.B)(this.vertSelection,this.clinicalAttributeIdToClinicalAttribute,this.props.store.molecularProfileIdToMolecularProfile,this.props.store.patientKeyToSamples,this.props.store.entrezGeneIdToGene,this.props.store.clinicalDataCache,this.props.store.mutationCache,this.props.store.numericGeneMolecularDataCache,this.props.store.coverageInformation,this.props.store.samples,this.props.store.genesetMolecularDataCache,this.props.store.genericAssayMolecularDataCache)}},{key:"vertAxisDataHasNegativeNumbers",get:function(){return!(!this.vertAxisDataPromise.isComplete||!this.vertAxisDataPromise.result)&&Object(d.h)(this.vertAxisDataPromise.result)}},{key:"horzAxisDataHasNegativeNumbers",get:function(){return!(!this.horzAxisDataPromise.isComplete||!this.horzAxisDataPromise.result)&&Object(d.h)(this.horzAxisDataPromise.result)}},{key:"waterfallPlotWidth",get:function(){var e=this.waterfallPlotData.isComplete?this.waterfallPlotData.result.data.length:0;return this.isHorizontalWaterfallPlot?d.f:d.e+Math.round(e*d.g)}},{key:"waterfallPlotHeigth",get:function(){var e=this.waterfallPlotData.isComplete?this.waterfallPlotData.result.data.length:0;return this.isHorizontalWaterfallPlot?d.e+Math.round(e*d.g):d.f}},{key:"scatterPlotAppearance",get:function(){return Object(d.G)(this.coloringType,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.coloringMenuSelection.selectedOption,this.props.store.clinicalDataCache,this.coloringLogScale)}},{key:"scatterPlotFill",get:function(){var e=this;switch(this.coloringType){case Je.CopyNumber:return"#000000";case Je.ClinicalData:case Je.MutationTypeAndCopyNumber:case Je.MutationType:case Je.LimitVal:case Je.LimitValMutationType:case Je.LimitValMutationTypeAndCopyNumber:return function(t){return e.scatterPlotAppearance(t).fill};case Je.None:return d.i.fill}}},{key:"scatterPlotFillOpacity",get:function(){return this.coloringType===Je.CopyNumber||this.coloringType===Je.LimitValCopyNumber?0:1}},{key:"scatterPlotStrokeWidth",get:function(){return this.coloringType===Je.CopyNumber||this.coloringType===Je.MutationTypeAndCopyNumber||this.coloringType===Je.LimitValCopyNumber||this.coloringType===Je.LimitValMutationTypeAndCopyNumber?d.b:1}},{key:"boxPlotTooltip",get:function(){var e=this;return function(t){return e.boxPlotData.isComplete?Object(d.k)(t,e.boxPlotData.result.horizontal,e.boxPlotData.result.horizontal?e.horzLogScaleFunction:e.vertLogScaleFunction,e.coloringMenuSelection.selectedOption&&e.coloringMenuSelection.selectedOption.info.clinicalAttribute):r.createElement("span",null,"Loading... (this shouldnt appear because the box plot shouldnt be visible)")}}},{key:"searchMutationWords",get:function(){return this.searchMutation.trim().split(/\s+/g).filter(function(e){return!!e.length})}},{key:"scatterPlotHighlight",get:function(){var e=this,t=this.searchCase.trim().split(/\s+/g),n=this.searchMutationWords,r=[function(r){var o=!1,i=!0,a=!1,u=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value;if(o=o||!!c.length&&r.sampleId.indexOf(c)>-1)break}}catch(e){a=!0,u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}var p=!1,d=!0,f=!1,h=void 0;try{for(var m,y=n[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var v=m.value;if(p=p||e.fDatumHasMutation(r,v))break}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}return o||p}].concat(Ue(this.highlightedLegendItems.values().map(function(e){return e.highlighting.isDatumHighlighted})));return function(e){return p.a.some(r,function(t){return t(e)})}}},{key:"showMutationNotFoundMessage",get:function(){var e=this,t=!1;return this.searchMutationWords.length>0&&this.waterfallPlotIsShown&&this.waterfallPlotData.isComplete&&(t=!0,p.a.each(this.searchMutationWords,function(n){var r=e.waterfallPlotData.result.data;p.a.some(r,function(t){return e.fDatumHasMutation(t,n)})&&(t=!1)})),t}},{key:"selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl",get:function(){var e=this;return p.a.reduce(this.props.store.selectedGenericAssayEntities,function(t,n,r){if(e.props.store.molecularProfileIdToMolecularProfile.result[r]){var o=e.props.store.molecularProfileIdToMolecularProfile.result[r].genericAssayType;return t[o]=t[o]?p.a.union(n,t[o]):n,t}},{})}},{key:"selectedGeneForStyling",get:function(){if(!this.noGeneSelectedForStyling&&this.coloringMenuSelection.selectedOption){var e=this.coloringMenuSelection.selectedOption.info.entrezGeneId;return void 0===e&&(e=st),this.props.store.entrezGeneIdToGene.result[e]}}},{key:"legendTitle",get:function(){return this.selectedGeneForStyling?this.selectedGeneForStyling.hugoGeneSymbol:this.coloringMenuSelection.selectedOption&&this.coloringMenuSelection.selectedOption.info.clinicalAttribute?Object(N.fb)(this.coloringMenuSelection.selectedOption.info.clinicalAttribute.displayName,100,y.d.legend.style.title.fontFamily,y.d.legend.style.title.fontSize+"px"):""}},{key:"waterfallPlotPivotThreshold",get:function(){var e=this.isHorizontalWaterfallPlot?this.horzSelection.dataSourceId:this.vertSelection.dataSourceId;return this.props.store.molecularProfileIdToMolecularProfile.result[e].pivotThreshold}},{key:"waterfallPlotSortOrder",get:function(){if(void 0===this._waterfallPlotSortOrder&&this.isWaterfallPlot){var e=this.horzSelection.dataSourceId||this.vertSelection.dataSourceId;return this.props.store.molecularProfileIdToMolecularProfile.result[e].sortOrder}return this._waterfallPlotSortOrder}},{key:"isHorizontalWaterfallPlot",get:function(){return this.isWaterfallPlot&&!!this.vertAxisDataPromise.result&&this.vertAxisDataPromise.result.datatype===lt}},{key:"isWaterfallPlot",get:function(){return!!this.plotType.result&&this.plotType.result===et.WaterfallPlot}},{key:"sortOrderImageClassName",get:function(){var e=this.isHorizontalWaterfallPlot?"horz":"vert",t=!this.isHorizontalWaterfallPlot&&"ASC"===this.waterfallPlotSortOrder||this.isHorizontalWaterfallPlot&&"DESC"===this.waterfallPlotSortOrder?"ascending":"descending";return"".concat("fa fa-signal"," ").concat(e,"-").concat(t)}},{key:"zIndexSortBy",get:function(){return Object(d.L)(this.coloringType,this.scatterPlotHighlight)}},{key:"boxPlotBoxWidth",get:function(){return this.boxPlotData.isComplete?this.boxPlotData.result.data.length>7?30:60:30}},{key:"horzLogScaleFunction",get:function(){return Object(d.C)(this.horzSelection)}},{key:"vertLogScaleFunction",get:function(){return Object(d.C)(this.vertSelection)}},{key:"showNoGenericAssaySelectedWarning",get:function(){return this.vertSelection.dataType&&this.vertSelection.isGenericAssayType&&this.vertGenericAssayOptions.isComplete&&0===this.vertGenericAssayOptions.result.length||this.horzSelection.dataType&&this.horzSelection.isGenericAssayType&&this.horzGenericAssayOptions.isComplete&&0===this.horzGenericAssayOptions.result.length}},{key:"showUtilitiesMenu",get:function(){return(this.plotDataExistsForTwoAxes||this.waterfallPlotIsShown)&&(this.mutationDataCanBeShown||this.cnaDataCanBeShown)}},{key:"noGeneSelectedForStyling",get:function(){return!!this.coloringMenuSelection.selectedOption&&this.coloringMenuSelection.selectedOption.info.entrezGeneId===st}},{key:"coloringClinicalDataPromise",get:function(){return this.coloringMenuSelection.selectedOption&&this.coloringMenuSelection.selectedOption.info.clinicalAttribute?this.props.store.clinicalDataCache.get(this.coloringMenuSelection.selectedOption.info.clinicalAttribute):void 0}},{key:"coloringLogScalePossible",get:function(){return!!(this.coloringClinicalDataPromise&&this.coloringClinicalDataPromise.isComplete&&this.coloringClinicalDataPromise.result.logScaleNumericalValueToColor)}},{key:"coloringLogScale",get:function(){return!(!this.coloringLogScalePossible||!this.coloringMenuSelection.logScale)}},{key:"coloringByGene",get:function(){return!(!this.coloringMenuSelection.selectedOption||void 0===this.coloringMenuSelection.selectedOption.info.entrezGeneId)}},{key:"plot",get:function(){var e=this,t=[this.plotType,this.horzAxisDataPromise,this.vertAxisDataPromise,this.horzLabel,this.vertLabel,this.genericEntitiesGroupByEntityId,this.horzGenericAssayOptions];this.coloringClinicalDataPromise&&t.push(this.coloringClinicalDataPromise);var n=N.E.apply(void 0,t),i=this.discreteVsDiscretePlotType===tt.PercentageStackedBar,a=i||this.discreteVsDiscretePlotType===tt.StackedBar;if(this.showNoGenericAssaySelectedWarning)return r.createElement("div",null,r.createElement("i",{className:"fa fa-exclamation-triangle text-danger"})," ",r.createElement("span",null,"To visualize selected generic assay data, you must ensure you have already imported related data and select an entity."));switch(n){case"pending":return r.createElement(Pe.a,{isLoading:!0,center:!0,size:"big"});case"error":return r.createElement("span",null,"Error loading plot data.");default:var u=null;switch(this.plotType.result){case et.DiscreteVsDiscrete:u=this.discreteVsDiscretePlotType===tt.Table?r.createElement(Ce,{svgId:ut,horzData:this.horzAxisDataPromise.result.data,vertData:this.vertAxisDataPromise.result.data,horzCategoryOrder:this.horzAxisDataPromise.result.categoryOrder,vertCategoryOrder:this.vertAxisDataPromise.result.categoryOrder,minCellWidth:35,minCellHeight:35,minChartWidth:d.d,minChartHeight:d.d,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result}):r.createElement(Me.a,{svgId:ut,horzData:this.horzAxisDataPromise.result.data,vertData:this.vertAxisDataPromise.result.data,categoryToColor:Ge.x,horzCategoryOrder:this.horzAxisDataPromise.result.categoryOrder,vertCategoryOrder:this.vertAxisDataPromise.result.categoryOrder,barWidth:20,domainPadding:20,chartBase:d.d,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result,legendLocationWidthThreshold:550,horizontalBars:this.horizontalBars,percentage:i,stacked:a});break;case et.ScatterPlot:if(this.scatterPlotData.isComplete){u=r.createElement(ot,{svgId:ut,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result,data:this.scatterPlotData.result,size:g.k,chartWidth:d.d,chartHeight:d.d,tooltip:this.scatterPlotTooltip,highlight:this.scatterPlotHighlight,showRegressionLine:this.showRegressionLine,logX:this.horzLogScaleFunction,logY:this.vertLogScaleFunction,fill:this.scatterPlotFill,stroke:this.scatterPlotStroke,strokeOpacity:this.scatterPlotStrokeOpacity,zIndexSortBy:this.zIndexSortBy,symbol:this.scatterPlotSymbol,fillOpacity:this.scatterPlotFillOpacity,strokeWidth:this.scatterPlotStrokeWidth,useLogSpaceTicks:!0,excludeLimitValuesFromCorrelation:this.limitValuesCanBeShown&&this.viewLimitValues,legendData:Object(d.J)(this.scatterPlotData.result,this.coloringType,et.ScatterPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.limitValueTypes,this.highlightedLegendItems,this.scatterPlotHighlight,this.coloringClinicalDataPromise&&this.coloringClinicalDataPromise.result,this.coloringLogScale,this.onClickLegendItem),legendTitle:this.legendTitle});break}return this.scatterPlotData.isError?r.createElement("span",null,"Error loading plot data."):r.createElement(Pe.a,{isLoading:!0,center:!0,size:"big"});case et.WaterfallPlot:if(this.waterfallPlotData.isComplete){var l=this.isHorizontalWaterfallPlot;u=r.createElement(at,{svgId:ut,axisLabel:this.waterfallLabel.result,data:this.waterfallPlotData.result.data,size:g.k,chartWidth:this.waterfallPlotWidth,chartHeight:this.waterfallPlotHeigth,tooltip:this.waterfallPlotTooltip,highlight:this.scatterPlotHighlight,log:l?this.horzLogScaleFunction:this.vertLogScaleFunction,horizontal:l,fill:this.waterfallPlotColor,fillOpacity:1,stroke:this.waterfallPlotColor,strokeOpacity:1,strokeWidth:this.scatterPlotStrokeWidth,symbol:this.scatterPlotSymbol,labelVisibility:this.waterfallPlotLimitValueSymbolVisibility,zIndexSortBy:this.zIndexSortBy,useLogSpaceTicks:!0,legendLocationWidthThreshold:550,sortOrder:this.waterfallPlotSortOrder,pivotThreshold:this.waterfallPlotPivotThreshold,legendData:Object(d.J)(this.waterfallPlotData.result.data,this.coloringType,et.WaterfallPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.limitValueTypes,this.highlightedLegendItems,this.scatterPlotHighlight,this.coloringClinicalDataPromise&&this.coloringClinicalDataPromise.result,this.coloringLogScale,this.onClickLegendItem),legendTitle:this.legendTitle});break}return this.waterfallPlotData.isError?r.createElement("span",null,"Error loading plot data."):r.createElement(Pe.a,{isLoading:!0,center:!0,size:"big"});case et.BoxPlot:if(this.boxPlotData.isComplete){var c=this.boxPlotData.result.horizontal;u=r.createElement(it,{svgId:ut,domainPadding:75,boxWidth:this.boxPlotBoxWidth,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result,data:this.boxPlotData.result.data,chartBase:550,scatterPlotTooltip:this.boxPlotTooltip,highlight:this.scatterPlotHighlight,horizontal:c,logScale:c?this.horzLogScaleFunction:this.vertLogScaleFunction,size:g.k,fill:this.scatterPlotFill,stroke:this.scatterPlotStroke,strokeOpacity:this.scatterPlotStrokeOpacity,zIndexSortBy:this.zIndexSortBy,symbol:this.scatterPlotSymbol,fillOpacity:this.scatterPlotFillOpacity,strokeWidth:this.scatterPlotStrokeWidth,useLogSpaceTicks:!0,excludeLimitValuesFromBoxPlot:this.limitValuesCanBeShown&&this.viewLimitValues,legendData:Object(d.J)(p.a.flatten(this.boxPlotData.result.data.map(function(e){return e.data})),this.coloringType,et.BoxPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.limitValueTypes,this.highlightedLegendItems,this.scatterPlotHighlight,this.coloringClinicalDataPromise&&this.coloringClinicalDataPromise.result,this.coloringLogScale,this.onClickLegendItem),legendLocationWidthThreshold:550,legendTitle:this.legendTitle});break}return this.boxPlotData.isError?r.createElement("span",null,"Error loading plot data."):r.createElement(Pe.a,{isLoading:!0,center:!0,size:"big"});default:return r.createElement("span",null,"Not implemented yet")}return r.createElement("div",null,r.createElement("div",{"data-test":"PlotsTabPlotDiv",className:"borderedChart posRelative"},r.createElement(ke.a,{style:{position:"relative",top:-5},getScrollEl:this.getScrollPane}),this.showUtilitiesMenu&&r.createElement("div",{style:{textAlign:"left",position:"relative",zIndex:1,marginTop:"-6px",marginBottom:this.isWaterfallPlot?"9px":"-16px",minWidth:this.mutationDataCanBeShown&&this.cnaDataCanBeShown?600:0}},r.createElement("div",{style:{display:"inline-flex",position:"relative",alignItems:"center"},className:"coloring-menu"},r.createElement("label",{className:"legend-label"},"Color samples by:")," ",r.createElement("div",{style:{display:"inline-block"},className:"gene-select-background"},r.createElement("div",{className:"checkbox gene-select-container"},r.createElement(s.default,{className:"color-samples-toolbar-elt gene-select",name:"utilities_geneSelectionBox",value:this.coloringMenuSelection.selectedOption,onChange:this.onColoringMenuOptionSelect,isLoading:this.horzGeneOptions.isPending,options:this.coloringMenuOmnibarOptions.result,clearable:!1,searchable:!0,disabled:!this.coloringMenuOmnibarOptions.isComplete}))),this.coloringLogScalePossible&&r.createElement(qe.a,{checked:this.coloringMenuSelection.logScale,onChange:function(){return e.coloringMenuSelection.logScale=!e.coloringMenuSelection.logScale},inputProps:{style:{marginTop:4},className:"coloringLogScale"}},"Log Scale"),this.coloringByGene&&this.mutationDataCanBeShown&&r.createElement(qe.a,{checked:this.coloringMenuSelection.colorByMutationType,onChange:this.onClickColorByMutationType,inputProps:{type:this.waterfallPlotIsShown?"radio":"checkbox",style:{marginTop:4},"data-test":"ViewMutationType"}},"Mutation Type *"),this.coloringByGene&&this.cnaDataCanBeShown&&r.createElement(qe.a,{checked:this.coloringMenuSelection.colorByCopyNumber,onChange:this.onClickColorByCopyNumber,inputProps:{type:this.waterfallPlotIsShown?"radio":"checkbox",style:{marginTop:4},"data-test":"ViewCopyNumber"}},"Copy Number"),this.coloringByGene&&this.waterfallPlotIsShown&&(this.mutationDataCanBeShown||this.cnaDataCanBeShown)&&r.createElement(qe.a,{checked:!this.coloringMenuSelection.colorByCopyNumber&&!this.coloringMenuSelection.colorByMutationType,onChange:Object(o.action)(function(){e.coloringMenuSelection.colorByMutationType=!1,e.coloringMenuSelection.colorByCopyNumber=!1}),inputProps:{type:"radio",style:{marginTop:4}}},"None"))),this.plotExists&&r.createElement(N.d,{getSvg:this.getSvg,filename:this.downloadFilename,additionalRightButtons:[{key:"Data",content:r.createElement("span",null,"Data"," ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:this.downloadData,disabled:!this.props.store.entrezGeneIdToGene.isComplete}],dontFade:!0,style:{position:"absolute",right:10,top:10},type:"button"}),r.createElement("div",{ref:this.assignScrollPaneRef,style:{position:"relative",display:"inline-block"}},u)),this.mutationDataCanBeShown&&r.createElement("div",{style:{marginTop:5}},"* Driver annotation settings are located in the settings menu"," ",r.createElement("i",{className:"fa fa-sliders fa-sm"})," at the top of the page."),this.limitValuesCanBeShown&&this.plotType.result===et.ScatterPlot&&r.createElement("div",{style:{marginTop:5}},r.createElement("div",null,"** Labeling of threshold values (e.g. >8.00) excludes threshold values from correlation coefficient calculation.")),this.limitValuesCanBeShown&&this.plotType.result===et.BoxPlot&&r.createElement("div",{style:{marginTop:5}},r.createElement("div",null,"** Labeling of threshold values (e.g. >8.00) excludes threshold values from box plot calculation.")))}}}])&&Ve(n.prototype,c),f&&Ve(n,f),t}();rt([o.observable],mt.prototype,"searchCaseInput",void 0),rt([o.observable],mt.prototype,"searchMutationInput",void 0),rt([o.observable],mt.prototype,"showRegressionLine",void 0),rt([o.observable],mt.prototype,"discreteVsDiscretePlotType",void 0),rt([o.observable],mt.prototype,"horizontalBars",void 0),rt([o.observable],mt.prototype,"percentageBar",void 0),rt([o.observable],mt.prototype,"stackedBar",void 0),rt([o.observable],mt.prototype,"viewLimitValues",void 0),rt([o.observable],mt.prototype,"_waterfallPlotSortOrder",void 0),rt([o.observable],mt.prototype,"searchCase",void 0),rt([o.observable],mt.prototype,"searchMutation",void 0),rt([o.observable],mt.prototype,"plotExists",void 0),rt([o.observable],mt.prototype,"highlightedLegendItems",void 0),rt([Ee.default,o.action],mt.prototype,"onClickLegendItem",null),rt([Ee.default,o.action],mt.prototype,"onClickColorByCopyNumber",null),rt([Ee.default,o.action],mt.prototype,"onClickColorByMutationType",null),rt([Ee.default],mt.prototype,"getScrollPane",null),rt([o.computed],mt.prototype,"coloringType",null),rt([o.computed],mt.prototype,"quickPlotButtons",null),rt([o.computed],mt.prototype,"potentialColoringType",null),rt([o.computed],mt.prototype,"bothAxesNoMolecularProfile",null),rt([Ee.default],mt.prototype,"getSvg",null),rt([Ee.default,o.action],mt.prototype,"updateColoringMenuGene",null),rt([Ee.default,o.action],mt.prototype,"onInputClick",null),rt([Ee.default],mt.prototype,"downloadData",null),rt([Ee.default,o.action],mt.prototype,"setSearchCaseInput",null),rt([Ee.default,o.action],mt.prototype,"setSearchMutationInput",null),rt([Ee.default,o.action],mt.prototype,"executeSearchCase",null),rt([Ee.default,o.action],mt.prototype,"executeSearchMutation",null),rt([Ee.default],mt.prototype,"getHorizontalAxisMenu",null),rt([Ee.default],mt.prototype,"getVerticalAxisMenu",null),rt([Ee.default,o.action],mt.prototype,"onVerticalAxisGeneSelect",null),rt([Ee.default,o.action],mt.prototype,"onHorizontalAxisGeneSelect",null),rt([Ee.default,o.action],mt.prototype,"selectSameGeneOptionForVerticalAxis",null),rt([Ee.default,o.action],mt.prototype,"onVerticalAxisGenesetSelect",null),rt([Ee.default,o.action],mt.prototype,"onHorizontalAxisGenesetSelect",null),rt([Ee.default,o.action],mt.prototype,"onVerticalAxisGenericAssaySelect",null),rt([Ee.default,o.action],mt.prototype,"onHorizontalAxisGenericAssaySelect",null),rt([Ee.default,o.action],mt.prototype,"onColoringMenuOptionSelect",null),rt([o.computed],mt.prototype,"waterfallPlotIsShown",null),rt([Ee.default,o.action],mt.prototype,"onVerticalAxisDataTypeSelect",null),rt([Ee.default,o.action],mt.prototype,"onHorizontalAxisDataTypeSelect",null),rt([Ee.default,o.action],mt.prototype,"onVerticalAxisDataSourceSelect",null),rt([Ee.default,o.action],mt.prototype,"onHorizontalAxisDataSourceSelect",null),rt([o.computed],mt.prototype,"hasMolecularProfile",null),rt([Ee.default,o.action],mt.prototype,"autoChooseColoringMenuGene",null),rt([Ee.default,o.action],mt.prototype,"onVerticalAxisMutationCountBySelect",null),rt([Ee.default,o.action],mt.prototype,"onHorizontalAxisMutationCountBySelect",null),rt([Ee.default,o.action],mt.prototype,"onDiscreteVsDiscretePlotTypeSelect",null),rt([Ee.default,o.action],mt.prototype,"onSortOrderButtonPressed",null),rt([Ee.default,o.action],mt.prototype,"swapHorzVertSelections",null),rt([o.computed],mt.prototype,"bothAxesMolecularProfile",null),rt([o.computed],mt.prototype,"oneAxisMolecularProfile",null),rt([o.computed],mt.prototype,"sameGeneInBothAxes",null),rt([o.computed],mt.prototype,"cnaDataCanBeShown",null),rt([o.computed],mt.prototype,"limitValuesCanBeShown",null),rt([o.computed],mt.prototype,"limitValueTypes",null),rt([o.computed],mt.prototype,"horzLimitValueTypes",null),rt([o.computed],mt.prototype,"horzLimitValuesCanBeShown",null),rt([o.computed],mt.prototype,"vertLimitValueTypes",null),rt([o.computed],mt.prototype,"vertLimitValuesCanBeShown",null),rt([o.computed],mt.prototype,"legendLimitValueLabel",null),rt([o.computed],mt.prototype,"vertMenuLimitValueLabel",null),rt([o.computed],mt.prototype,"horzMenuLimitValueLabel",null),rt([o.computed],mt.prototype,"cnaDataShown",null),rt([o.computed],mt.prototype,"mutationDataCanBeShown",null),rt([o.computed],mt.prototype,"mutationDataShown",null),rt([o.computed],mt.prototype,"plotDataExistsForTwoAxes",null),rt([o.computed],mt.prototype,"horzAxisDataPromise",null),rt([o.computed],mt.prototype,"vertAxisDataPromise",null),rt([o.computed],mt.prototype,"vertAxisDataHasNegativeNumbers",null),rt([o.computed],mt.prototype,"horzAxisDataHasNegativeNumbers",null),rt([o.computed],mt.prototype,"waterfallPlotWidth",null),rt([o.computed],mt.prototype,"waterfallPlotHeigth",null),rt([o.computed],mt.prototype,"scatterPlotAppearance",null),rt([o.computed],mt.prototype,"scatterPlotFill",null),rt([o.computed],mt.prototype,"scatterPlotFillOpacity",null),rt([Ee.default],mt.prototype,"scatterPlotStroke",null),rt([o.computed],mt.prototype,"scatterPlotStrokeWidth",null),rt([Ee.default],mt.prototype,"scatterPlotStrokeOpacity",null),rt([Ee.default],mt.prototype,"scatterPlotSymbol",null),rt([Ee.default],mt.prototype,"waterfallPlotColor",null),rt([Ee.default],mt.prototype,"waterfallPlotLimitValueSymbolVisibility",null),rt([Ee.default],mt.prototype,"scatterPlotTooltip",null),rt([Ee.default],mt.prototype,"waterfallPlotTooltip",null),rt([o.computed],mt.prototype,"boxPlotTooltip",null),rt([o.computed],mt.prototype,"searchMutationWords",null),rt([o.computed],mt.prototype,"scatterPlotHighlight",null),rt([o.computed],mt.prototype,"showMutationNotFoundMessage",null),rt([o.computed],mt.prototype,"selectedGenericAssayEntitiesGroupByGenericAssayTypeFromUrl",null),rt([Ee.default],mt.prototype,"getUtilitiesMenu",null),rt([Ee.default],mt.prototype,"assignScrollPaneRef",null),rt([Ee.default],mt.prototype,"controls",null),rt([o.computed],mt.prototype,"selectedGeneForStyling",null),rt([o.computed],mt.prototype,"legendTitle",null),rt([o.computed],mt.prototype,"waterfallPlotPivotThreshold",null),rt([o.computed],mt.prototype,"waterfallPlotSortOrder",null),rt([o.computed],mt.prototype,"isHorizontalWaterfallPlot",null),rt([o.computed],mt.prototype,"isWaterfallPlot",null),rt([o.computed],mt.prototype,"sortOrderImageClassName",null),rt([o.computed],mt.prototype,"zIndexSortBy",null),rt([o.computed],mt.prototype,"boxPlotBoxWidth",null),rt([o.computed],mt.prototype,"horzLogScaleFunction",null),rt([o.computed],mt.prototype,"vertLogScaleFunction",null),rt([o.computed],mt.prototype,"showNoGenericAssaySelectedWarning",null),rt([o.computed],mt.prototype,"showUtilitiesMenu",null),rt([o.computed],mt.prototype,"noGeneSelectedForStyling",null),rt([o.computed],mt.prototype,"coloringClinicalDataPromise",null),rt([o.computed],mt.prototype,"coloringLogScalePossible",null),rt([o.computed],mt.prototype,"coloringLogScale",null),rt([o.computed],mt.prototype,"coloringByGene",null),rt([o.computed],mt.prototype,"plot",null),mt=rt([i.observer],mt);t.g=mt},753:function(e,t,n){e.exports=n.p+"reactapp/images/58335fa45d1c6a16c7d06eabd2ecee93.png"},754:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAAG2CAYAAAC6fWvkAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABOvAAATrwFj5o7DAAAAB3RJTUUH4QgXDAozoFc2mAAAIABJREFUeNrt3Xl8VPW9//FvkpkhC4SQsAkuuKHiVisTCrZel1ttq17rQ6xttdd7r7a/3uq97eNhtFbbCiQh20Cxtra9Uu21rUKAAGEnFAKYEJiETXYhk5nJrJlMkklmYeacOb8/6u/XWlmSkGTOmXk9/8QwOef9PfLOJ3O+Z9IURREAzq/oT61Lq566+rm0tDTCAM4jnQiA81t/yD/3/br2Z//Y4P1P0gDOL43JBDg3RVHEnNf2f2x1BK+bUJDpNFcapxp0TCcAkwkwAH/Y7X3B6gheJ4QQHZ2RKW/WOV4nFYDJBOi3SEwWhS+3uHz+yOT/92ejR+u7zFXG/LHZOgICmEyAi3tzq6v474tECCH6+mLjKtbZf006AJMJcFHdISndWLSvMxiU8v7xvxn0GcEGk3HG1DyDjaQAJhPgvMpqbW+dq0iEECIak3OKV7ZVkRJAmQDnZeuMTFu2zfmdC33N+gb3Y8ccodtJC6BMgHMqrrGZYrF49oW+Jh4X+nkr2haTFkCZAJ9xpD10x8YG96P9+doPD/juazgVuJ/UAMoE+JR51a2LFUXo+v/1FhOpAZQJ8P/tOtnz5cZD/nsG8neOftzzuTUtnd8mPYAyAYQQQsxfNrgpo2yFpUSWub0eoEyQ8lY1+54+3hq4bTB/1+4KXf3ubs+PSBGpjk2LSGmSrIjZP2mxODyhaYN9jfw8g3dflXFStiGDQMFkAqSipfXuokspEiGE8HdHJ76xxVlGmmAyAVJQMCqLwiKzt6snOuFSXys7SxdoqjJeMX6MPkCyYDIBUsiSjY7KoSgSIYQIhaXc8rV2NjKCMgFSSUdvLP+dTe3/Zyhfs3qH89ttvsh1pAvKBEgRC9fYFoUjUu5QvqYkxbPmr7QuIl1QJkAKsHgj16/a4XpyOF57a5Pn4QO2YCEpgzIBkty8VW2LJDmeNRyvrSgifV51K++dgDIBktl+a+8Xtu31PjSc38P8Uddd2452P0TaoEyAJPX68rbFijL81/2C5a2VpA3KBEhCdUe6/6XlaNfskfhep619M5Y3dfwHqYMyAZLMguWtFSP5/SpWts2PSWwKBmUCJI0P9nQ8d8bWd+NIfk93R/jy3+1w/YT0kQp4nAqSXlRSxKwfN7d7fOGpI/29c8foO5tNxvGjM3UsBJhMAC377XbXa4koEiGECPTGCkwbHL9gFcBkAmhYICyJwpfMnYHeWH6ijmHUqIy+PVXGGyaPNThZETCZABpk2uB4I5FFIoQQZ8/Ko0tW27hVGJQJoEWunujU97a0P6uGY1mz0/nEKXd4BqsCygTQmNIaW2U0Kueo4VjicWGYt6KNx6yAMgG05KQ7fPOaXc65ajqm+uaOB5rO9N7N6oAyATRifnXb4nhcGFR2WGnzlluYTkCZAFqw53TgnvqWji+r8dgOn+y+c8Mh/+OsEigTQOXmLbeYhBBpaj2+kuWWcm7JB2UCqNj6Q/65H53quVPNx2h1BK/73w+9z7NaSCZsWkTSkGVF3PWz/adtjuC1aj/W8fmZ7n2Vd16Wqc9g4cBkAqjJew3eF7RQJEII4fNHJv9qq2sBqwYmE0BFwjFZFL7U4u7sikzSyjHn5Oi6zabCgrxsXZwVBJMJoAK/2uoq1lKRCCFEMCjlldfaf83qgckEUIGuoKQvfGmfNxiU8rR27Hp9emh3xcybryzIbGMlwWQCJFD5OtubWiwSIYSIxeLZxTU2E6sIygRIIFtnZNqyOud3tHwOGxvcjx5pD93BaoIyARKkuMZmiknxbC2fg6II3bwVbYtYTVAmQAJ8ZA9+fmOD+9FkOJfGg757d57oeZBVBWUCjLD5KyyLFEUkzYerz19mqWJVQZkAI6j+RM9XGg/570mmczphCdy6qtn3NKsLygQYIQuWWZLyY3DLq9uKJZnb9UGZAMNuVbPv6ROWwK3JeG4OT2ja0np3EasMrWHTIjRFkhXxhZ+0tDk9oauS9RzHjTV07DMZJ+YYeAgkmEyAYbG03l2UzEUihBBdPdEJSzY6KlltMJkAwyAYlUVhkdnb1ROdkOznmpWZ0dtkKpw2YYzez8qDyQQYQks2OipToUiEECIckceUreExK6BMgCHVEYgVvLPJ/v1UOueVO1zfbO0IT2f1QZkAQ6Rsra0qHJHHpNI5S3I8a/5KK9MJKBNgKLR2hKev3OH6Ziqe+7a93odaLL1zuApAmQCXaP5Kq0mS41mpeO6KItLnrWhjOgFlAlyKFkvvnG17vQ+ldAZHu2Zv/aj7Ua4GUCbAIM1b0WZSFK7T4urWCm7jB2UCDMLWj7ofbTnaNZskhDhj67thWZPvOZKAWrFpEaqkKIq4++cHTpyx9d1AGn81sSDTua/SONWgSyMMMJkA/bGsyfccRfJp3s7IlN9ud71GEmAyAfohKili1o+b2z2+8FTS+LQxo/VdZpMxPzdLRxhgMgEu5LfbXa9RJOfW2xcbZ9rgeIMkwGQCXEAgLAljkdnf2xcbRxrnZjBkBBurjDdNyTPYSQNMJsA5mDY43qBILiwalXNKV9sqSAKUCXAOzu7oFe9taX+WJC5u7S7n3OOO0G0kAcoE+AcLV9vKo1E5hyQuLh4X+gWreAgkKBPgU467Qres2eWcSxL9t7Ol48sNpwL3kQQoE+ATxSusi+JxYSCJgZlXbWE6AWUCCCFE4+nAvfUtHQ+QxMAd/bjnjnUH/N8gCVAm4Kfr5fx0fSlKq1vLZJlb/EGZIIWtP+Sfe+RUz+dJYvBsztA17zV4/oskkEhsWkTCyLIi7vrp/tM2Z/Ba0rg0+eMMHnOVcXKWPoMwwGSC1PJeg/cFimRo+Luik97c4iwhCTCZIKWEY7IwvmR2+7uik0hjaORk6XqaFhmnFuTog6QBJhOkhF9tdRVTJEMrGJbGVtTaF5MEmEyQErqCkr7wxX0dwbA0ljSGlk6XHt5dMfPWq8ZnniENMJkgqVWss/+SIhkekhTPKq6xVpEEKBMkNWtn5JoP6hz/ShLDZ1Oj55GDtqCRJECZIGmV1NgqY1I8mySGj6II3YIVbAQFZYIkddgenLmxwf0oSQy/psP+u7cf7fkaSYAyQdJZsMJSpSiCDy8fIfOrz/DeCSgTJJcdx3u+2njIfw9JjJyP2/pmrDD7niEJUCZInqlkuaWSFEZeebWlOCZx+z8oEySBVc2+p09aAreQxMhzecNXvF3vfpkkMNzYtIhhJcmKmPVKs9XlDV9JGokxNlff2VxVOD4nk4dAgskEGrW03l1EkSRWTyBWsHiTg1uFwWQCbQpGZGF82dzR3RMdTxqJlTkqo7fJVHj9xFy9hzTAZAJNWbLZUUmRqEPkrDymdI2NmyBAmUBbOgKxgnc22b9PEupRU+968mNP+CaSAGUCzShba6sKR+QxJKEeshwftWAVD4EEZQKNOO0J37hih+vbJKE+f9nr/dq+1t4vkgQoE6hecY21Upbjo0hCldIWVLcxnYAygbo1W3rvqmvyPkwS6rX/eNcXNhzyP04SoEygWvNXtFUJIdJIQt1Kqy1lbAsAZQJV2nzY/1jL0a7ZJKF+be3B6//U4OVuOwwZNi1iSCiKIr70swMnW+1900lDGybkZ7r2Vt45JVPPY1bAZAKVWNbke44i0ZYOf+Syt7a5fk4SYDKBKkQlRRS+bHZ4OyNTSENbcnJ03WZTYUFeti5OGmAyQUL9drvrNYpEm4JBKc+03v4GSYDJBAnVE5KE8SWzv68vNo40tEmvTw81VBbOuDzfYCUNMJkgIRZvciyhSLQtFotnl65pqyAJXAodEWCwfL2x+w+eCXzv9hvyCEPjbN7IE23eiHnaxMxFpIHB4NdcAIBLxq+5AACUCQCAMgEAUCYAAFAmAADKBABAmQAAKBMAACgTAABlAgCgTAAAlAkAAJQJAIAyAQBQJgAAygQAAMoEAECZAAAoEwAAZQIAAGUCAKBMAACUCQCAMgEAgDIBAFAmAADKBABAmQAAQJkAACgTAABlAgCgTAAAoEwAAJQJAEB9dESQWt7Z5a5d8aH3EZLAcLr/9vyGoocu/yJJpI40RVFIIUU4uqNX3lVkPhaNyTmkgWH9hyVNSJuK75x92xU5zaSRGvg1VwopW20ro0gwEhRF6IpXWitJgjJBkjnmCN2+ZpfzCZLASGk46Lt3x/Ger5IEZYIkUrLKWhmPCz1JYCQtWG5hOqFMkDQ/IZ4K3F/f0vEASWCknbQEblnd3PkUSVAmSAKvL7MsIgUkbCpe3rpQkrnRhzKBpq0/5J977EzP7SSBRHF5w1f+fpf7RZJIbtwanMRkWRFzXmtptbtCV5MGEilvrMFnrjROyMnMIAwmE2jNew3eFygSqEF3T3T8G1uc5STBZAKNCUVlUfiS2ePvjk4kDahB5qiM3r2mwqsn5Oo7SYPJBBrxVp1rAUUCNYmclceUr7NxqzBlAq3w9cZyf7vO9kOSgNpU/8X11GlP+EaSoEygAaYN7RWhsJRLElAbWY6PKqnhMSuUCVTP6otc+36d4xmSgFptbfI+3GzpvYskKBOoWMlqW4UkxbNIAiqWtmBFG9MJZQK1OmgLGjc2uB8jCahd89GuOZsP+7lWKROocipZaalUFNYU2lBcbSlnawJlApXZdrT7ocZD/ntIAlphsQenL9/re5YkKBOo6qe8Vn4HDc0pq7YsiEpMJ5QJVGFVs+/pj9v6ZpAEtKajMzLld9tdr5KE9vE4FY2LSYqY9Uqz3d0Rvpw0oEWjR+u7zFXG/LHZOsJgMkGi/H6nu4gigZb19cXGLd7kWEISTCZIkGBEFncW7fMFemMFpAEtM+gzgg0m44ypeQYbaTCZYIQt2eKooEiQDKIxOadsta2MJCgTjDBvIDZp6Qb7D0gCyWLNLucTxxwhPhWUMsFIKl9rKzt7Vh5NEkgW8bjQl6ziIZCUCUbMx57wTSt2uL5NEkg29S0dDzScCtxPEpQJRkBJjbVCluOjSALJ6PVllkWkQJlgmO090/uluibvwySBZHXsTM/t6w/555IEZYLhnEpWtVUIIdJIAsms+IPWSllm2wJlgmGx4ZD/8ZajXbNJAsnO7gpd/V6D9wWS0A42LWqEoijirp/uP9XWHryeNJAK8vMM3n1VxknZhgzCYDLBUFnW5HuOIkEq8XdHJ/66zlVMEkwmGCKRmCxmvdzi7PBHLiMNpJLsLF2gqcp4xfgx+gBpMJngEr29w/MqRYJUFApLuVUb7GxkZDLBpeoOSenGon2dwaCURxpIRTpdenhXxczbpo3PPE0aTCYYpF9sciymSJDKJCmeVVJjrSAJygSD1O6PXvWHTfbvkgRS3aZGz9cP2IKFJEGZYBDK19oWxmLxbJJAqlMUkV6y0sJ7J5QJBupoe+hza3Y5nyAJ4K/2HPL/U92Rbh4lRJlgIEprrBXxuNCTBPA3xdWtvHdCmaC/dp8M/HN9S8cDJAF82mlr34yVZt93SIIyQT/Mr27lEdzA+ab25ZaFMYktDZQJLmj9If/cY6cDt5EEcG6ejvDlS3e6XyIJdWHToorIsiJmv9ZiaXeFppEGcH65Y/SdzSbj+NGZOsJgMsE/eq/B+wJFAlxcoDdWsGSzs4okmEzwD0JRWRhfMnu6uqMTSQO4uFGjMvr2VBlvmDzW4CQNJhN84q061wKKBOi/s2fl0RW19lKSYDLBJ3y9sdxZRWZ7OCLlkgYwgJ+G00V0e5nxjumTs46RBpNJyjNtaK+gSICBi8eFoaTGWk4SlEnKa/NFrnu/zvEMSQCDs22v9+GmM713kwRlktJKV9vKJSmeRRLAoKWVrmxjOqFMUtcBW7BwY4P7MZIALk3Lsa7Z6w74v0ESlElqTiUrLRWKwhoAQ2HhCkspNxRRJimn7kj3w42H/PeQBDA0rI7gdX/e4/seSSQGtwYnyN0/33/stLXvJpIAhs74/Ez3vso7L8vUZxAGk0nyW9Xse5oiAYaezx+Z/Lu/eH5KEkwmSS8mKaLwlWa7pyN8OWkAQy8nR9dtNhUW5GXr4qTBZJK03tntfpEiAYZPMCjlLdroWEISTCZJqy8iiZlFZl+gN1ZAGsDw0evSQ7srZ958ZUFmG2kwmSSdN7Y4KygSYPjFpHh2+VpbGUlQJknH3ROdsnSD/QckAYyMtbvcc4+0h+4gCcokqVTW2kvOnpVHkwQwMhRF6EpWtVWSBGWSNE65wzOqtzueIglgZO3a7/vnnSd6HiQJyiQplK62lsfjwkASwMibv8zCx/tSJtq390zvl+qavA+TBJAYJyyBW2sPdD5JEpSJtqeSVW3lQog0kgASZ8EHlgpJZhsEZaJR6w/55zYf7ZpDEkBiOT2hq9770PPfJDF82LQ4TBRFEXNe2/+x1RG8jjSAxMsba/CZTcYJOQYeAslkoiHLmnzPUSSAenT3RMf/aquzlCSYTDQjEpNF4cstLp8/Mpk0APXIyszobTIVTpswRu8nDSYT1Xt7h+dVigRQn3BEHlO5zs7nxTOZaGCUDknpxqJ9ncGglEcagProMtLD9RV3fu6aCVmnSIPJRLV+scmxmCIB1EuS41mlNbYKkqBMVKvdH73qD5vs3yUJQN02NXoebbH0cts+ZaJO5WttC2OxeDZJAKqXVlJj5b0TykR9jraHPrd6p/MbJAFow97D/i9t+aj76yRBmahKaY21QlGEjiQA7Sipbi3nJiTKRDV2nez5cn1LxwMkAWjLGVvfDSv2df4bSVAmqjB/mcVECoA2LVzeWhqVmE4okwRbf8g/93hr4DaSALTJ2xmZsrTe/WOSuDRsWrwEsqyIL/ykxeLwhKaRBqBdY0bru8wmY35uFm97MpkkwB8bvc9TJID29fbFxi3Z5FxEEkwmIy4UlYWxyOzt6olOIA1A+wz6jGCjyXjTlDyDnTSYTEbMW3WuBRQJkDyiMTmnfK2NR9RTJiOnozeW/5ta2w9JAkguNfXObx53hLihhjIZGYs2tJeGI1IuSQDJJR4X+tLVPGaFMhkBFm/k+ve3Op4hCSA5bTd3fLXhVOA+kqBMhtXCtbYySY5nkQSQvMpq2haSAmUybPZbg7M2NrgfIwkgyf9fP949a21L57dIgjIZnqmkxlqmKGQGpMR0stJSIstsnaBMhljdke5/aTzou5ckgNRgc4au+fMe73+SRP+wabGfvvSz/cfP2PpuJAkgdeTnGbxmk3FSlj6DMJhMLt2qZt/TFAmQevzd0YlvbXO9ThJMJpcsJimi8JVmu6cjfDlpAKknO0sX2LvIOKUgRx8kDSaTQXtnt/tFigRIXaGwlLt4Q3sFSTCZDFpfRBIzi8ydgd5YPmkAqUunSw/vrph561XjM8+QBpPJgL2xxVlBkQCQpHhW2RobGxkpk4Fz90SnvL3e/jxJABBCiHUfuucetAWNJEGZDEhlrb0kGpVzSAKAEEIoikhfWMNDICmTATjpDt9cvd3xFEkA+HsfHvDdt/1oz9dI4rP4wONzWLW3491br88zkASAz/z7sM/z1n03j51GEp/G3VwAgEvGr7kAAJQJAIAyAQBQJgAAUCYAAMoEAECZAAAoEwAAKBMAAGUCAKBMAACUCQAAlAkAgDIBAFAmAADKBAAAygQAQJkAACgTAABlAgAAZQIAoEwAAJQJAIAyAQCAMgEAUCYAAMoEAECZAABAmQAAKBMAAGUCAKBMAACgTAAAlAkAQH10yXAS1s7Ij37w9qlF8TjlCEBbSr51ddmdV495VevnkaYoiuYX499+c6J2a5P3ES5LAFpz7ZWjT+wu/vxNWj8Pzf8kv+d04B6KBIBWnbH13biq2fc0ZZJgZTXWUi5HAFpW8oGlPCZp+7dEmi6T2gOdTzYf7ZrDpQhAyzy+8NTf73QXafkcNPueiaIoYvar+0/bnMFruRQBaN2Y0fous8mYn5ulzfuiNDuZLN/re5YiAZAsevti497c6qxgMhlB4ZgsjC+Z3f6u6CQuQQDJwmDICO4xGW+4bKzBwWQyApbu8LxKkQBINtGonFNVay9mMhkBXUFJX/jivo5gWBrLpQcg2aSni1jdwpmfv+my7CNMJsNoyWZHFUUCIFnF40Jfvsa2UHMlqKWDtXVGpv1ho/27XG4Aklldk/eRPacD91Amw6Sytr00JsWzudQAJLuFNVZNTSeaKZOP7MHPr97p/AaXGIBU0HK0a3btgc4nKZMhVrbGtlBRkuMpxwDQr+mkuq1UKzdJaaJM6k/0fKW+ueNBLi0AqcTmDF67rMn3nBaOVRO3Bt877+BHJy2BW7i0AKSa/HEGj7nKODlLn8Fkcik2HPI/TpEASFX+ruikt3d4XmMyuQSSrIhZrzRbXd7wlVxSAFJVTpauZ9+iwgnjcnQxJpNB+FOj93mKBECqC4alsb/Y5DAxmQwmvKgsjEXmju6e6HguJQCpTq9LD+2qnHnrVQWZrUwmA/CbOtcCigQA/iomxbMra9tL1Hp8qiyTjkCs4K211h9x+QDA36zZ6XzysD04kzLpp0Ub20siZ+UxXDoA8DeKItLLVqvzIZCqK5PWjvD0P291/DuXDQB81s6Wji/vON7zVcrkIsrX2EtlOT6KSwYAzm3+MksVZXIBLZbeOes/dD/OpQIA53eqLXDzugN+VT34VlVlUrbGXiKESONSAYALm/f+GZMkq2drh2rKZMtH3V9vPOi7l0sEAC7O5Q1f8ccGz3+p5XhUs2nxiz/df7LV3jedSwQA+mdsrr6zuapwfE5m4h8CqYrJZHVz51MUCQAMTE8gVvDrbU5VbGRM+GQSlRRR+LLZ4e2MTOHSAICByRyV0bvXVHj1hFx9Z0pPJu/udr9IkQDA4ETOymOqNtgTvpExoZNJICyJmUVmf19fbByXBAAMTkZG+tkdZXd+7rpJWSdScjJ5c6uzgiIBgEsjy/FR5WsT+5iVhJWJszt6xdvr7M9zGQDApdvY4Pl6s6X3rpQrE9M6+/xoTM7hEgCAIZG2sMaasOkkIWVy3BW6pXq742nWHgCGTtNh/92bD/sfS5kyqVhjWxiPCz1LDwBDq7jaUp6IG6tGvEwaTwfu3drkfYQlB4ChZ7EHp69s7nwm6cukvMZawnIDwPApeb+1LCqN7HQyomVSu7/zm81Hu+aw1AAwfDr8kcuW1rtfHsnvOWKbFhVFEbNfbTljc4auYakBYHjl5Oi6m02F48Zm65JrMlm+1/csRQIAIyMYlPJ+ucVpSqrJJByThfEls9vfFZ3EEgPAyNDr00ONpsKbpuYZbEkxmSzd4XmVIgGAkRWLxbMra+3FSTGZdAUlvfHFfb5QWMplaQFgZKWlCamudObMGVOzD2l6Mlmy2VFFkQBAYiiK0JWttZUO9/cZ1jKxdkaueXej/XssJwAkzl/2eh9qOBW4X7NlUrWufYEkxbNYSgBIrLJh3jA+bGVy2B6cubre+S2WEAASb//xri+sbu58SnNlUr7GVqIoif9YYADAJ9PJSkuJLA/PTVfD8o/9juM9X61v7niQpQMA9Wh3haa9v8f7/eF47WG5Nfie1w8eOdUWuJmlAwB1GZdn8JqrjJOyDRnqnkw2HPI/TpEAgDp1dUcn/s92z89UPZlIsiJmvdJsc3nDV7BkAKBOWZm6wF6T8YrxY/QBVU4mf2r0Pk+RAIC6hSNS7pJN7UO6kXHIJpNgVBYzX9zn6wnEClgqAFA3XUZ6eFflzNumjc88rarJ5Dd1rgUUCQBogyTHsypqbUO2kXFIyqQjECt4a631RywPAGhH7S73EwdswULVlMmije0lkbPyGJYGALRDUUR6+WrrQlWUyWlP+MY/b3X8O8sCANqze7/v/roj3Q8nvEwqa+3FshwfxZIAgDYVV7dWJrRMmi29d63/0P04SwEA2nXa2ndT7f7ObyasTMrX2IuFEGksBQBo2+vvt1bFpMFvFRl0mWw+7H+s8aDvXpYAALTP0xG+/L0Gzw8H+/cHvWnxrp+2nLTYg9NZAgBIDrlj9P5mk7FgdKZuZCaT1c2dT1EkAJBcAr2x/F/VuQZ1q/CAJ5OopAjjy2ZHR2dkCtEDQHIxGDKCTSbj9MljDc5hnUze3e1+kSIBgOQUjco5pg3t84d1MgmEJTGzyOzv64uNI3IASE7p6SK6vcx4x/TJWceGZTJ5c6uzgiIBgOQWjwtD+VrbgN476XeZOLujV/zPOtsLxAwAyW9zo+fRpjO9dw95mSzaYJ8Xi8WziRgAUkN5jbXfH6DVrzI57gjdtnyb4ztECwCpY98R/xfXHfB/Y8jKpKLWVhKPCz3RAkBqKV1hWdifG7UuWiYNpwL3bW3yPkKkAJB6bI7gtdX7Oi/6MSMXLZOKNdZi4gSA1FXyQWtZJCYPvkzWtnR+q/lo1xyiBIDU1dkVmfT7eu8rF/qa825alGVFzHmtpdXuCl1NlACQ2nKydD3mxYX5edm6+IAmkxVm37MUCQBACCGCYWnsG5sdpgFNJuGYLIxFZo+/OzqRCAEAQgih16WHdlfOvPnKgsy2fk0mS3d4XqVIAAB/LybFs6vWtxf3azLpDMZyZr1odobCUi7RAQA+VRppQtpSMrPwlsuzD1xwMvnlZmcpRQIAOBdFEbqFq62feQjkp8rE6otc++5G+/eICwBwPvXNHV/ZeaLnwfOWSdX69vmSFM8iKgDAhVSuti44Z5kctAWNq+ud3yIiAMDFHDjRXbjC7HvmM2VSudZWrCgD/xhfAEBqKq+2LJBk5W9lsv1oz9fqmzseJBoAQH+5vOEr/9zo/YEQn9wafPfP9x89be2bQTQAgIHIG2vwmU3GCRnGx/778f/d3P48kQAABipyVs42ZOvTdE0f9/7TnNvz64kEADAYx9uDt6b15xO0AAC4EO7eAgBQJgAAygQAQJkAAECZAAAoEwAAZQIAoEwAAKBMAACUCQCAMgEAUCYAAFAmAADKBABAmQAAKBMAACgTAABlAgCgTAAAlAkAAJQJAIAyAQBQJgAAygQAAMoEAECZAAAk0Gq+AAAAlUlEQVQoEwAAZQIAAGUCAKBMAACUCQCAMgEAgDIBAFAmAADKBABAmQAAQJkAACgTAABlAgCgTAAAoEwAAJQJAIAyAQBQJgAAUCYAAMoEAECZAAAoEwAAKBMAAGUCAKBMAACUCQAAlAkAgDIBAFAmAADKBAAAygQAQJkAACgTAABlAgAAZQIAoEwAAJQJAIAyAQDgYv4vMVxnuxH2/TUAAAAASUVORK5CYII="},756:function(e,t,n){"use strict";var r=n(0),o=n(56),i=n(7),a=n(101),u=n(8);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(i=[{key:"handleClose",value:function(){this.props.onHide()}},{key:"render",value:function(){return r.createElement(o.Modal,{show:this.props.show,onHide:this.handleClose,keyboard:!0,className:this.props.className},r.createElement(o.Modal.Header,{closeButton:!0},r.createElement(o.Modal.Title,{"data-test":"gene-panel-modal-title"},this.props.panelName)),r.createElement(o.Modal.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},this.props.show&&this.props.isLoading&&r.createElement(a.a,{isLoading:!0}),this.props.show&&!this.props.isLoading&&r.createElement("div",{"data-test":"gene-panel-modal-body"},this.props.children)),r.createElement(o.Modal.Footer,null,r.createElement(o.Button,{"data-test":"modal-button",onClick:this.handleClose},"Close")))}}])&&l(n.prototype,i),u&&l(n,u),t}();f([u.default],h.prototype,"handleClose",null),h=f([i.observer],h),t.a=h},760:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},761:function(e,t,n){e.exports=n(16)(486)},762:function(e,t,n){"use strict";var r,o=n(0),i=n(575),a=n(1005),u=(n(932),n(2)),l=n(693),s=n.n(l),c=n(4),p=n(7),d=n(9),f=n.n(d),h=n(17),m=n(8),y=n(669),v=n(3),g=n(595),b=n(735),S=n(56);function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function I(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var M=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},G=(w(r={},"desc",a.b.DESC),w(r,"asc",a.b.ASC),r),N=function(e){function t(e,n){var r;return C(this,t),(r=I(this,E(t).call(this,e))).fixedTopRowsData=n,r}return O(t,g["a"]),A(t,[{key:"sortedData",get:function(){var e=this.sortMetric||function(){return 0},t=void 0===this.sortAscending||this.sortAscending;return[].concat(T(this.fixedTopRowsData),T(Object(i.c)(this.allData,e,t)))}}]),t}();M([u.computed],N.prototype,"sortedData",null);var x=function(e){function t(e){var n;C(this,t),(n=I(this,E(t).call(this,e)))._sortBy=e.sortBy;var r=c.find(n.props.columns,function(e){return e.name===n._sortBy});return n._sortDirection=void 0===e.sortDirection?c.isUndefined(r)?"desc":r.defaultSortDirection||"desc":e.sortDirection,n.initDataStore(),n}return O(t,o["Component"]),A(t,[{key:"componentWillReceiveProps",value:function(e){this.updateDataStore(e)}},{key:"updateDataStore",value:function(e){var t=this,n=new N(function(){return t.props.data},this.props.fixedTopRowsData||[]),r=Object(u.toJS)(this._store.filterString);this._store.setProps({columns:e.columns,dataStore:n,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection}),void 0!==r&&this._store.setFilterString(r)}},{key:"initDataStore",value:function(){var e=this,t=new N(function(){return e.props.data},this.props.fixedTopRowsData||[]);this._store=new i.a({columns:this.props.columns,dataStore:t,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"rowClassName",value:function(e){var t=e.index;if(t>-1&&this.isSelectedRow(this._store.dataStore.sortedFilteredData[t])){var n=[s.a.row];if(this.props.highlightedRowClassName){var r=this.props.highlightedRowClassName(this._store.dataStore.sortedFilteredData[t]);n.push(r)}else n.push(s.a.highlightedRow);return f()(n)}return t<0?s.a.headerRow:f()(s.a.row,t%2==0?s.a.evenRow:s.a.oddRow)}},{key:"rowGetter",value:function(e){var t=e.index;return this._store.dataStore.sortedFilteredData[t]}},{key:"getColumn",value:function(e){return c.keyBy(this.props.columns,function(e){return e.name})[e]}},{key:"sort",value:function(e){var t=e.sortBy;this._store.defaultHeaderClick(this.getColumn(t)),this._sortBy=t,this._sortDirection=this._store.dataStore.sortAscending?"asc":"desc",this.props.afterSorting&&this.props.afterSorting(this._sortBy,this._sortDirection)}},{key:"onFilterTextChange",value:function(){var e=this;return Object(y.a)(function(t){e._store.setFilterString(t)},400)}},{key:"afterSelectingRows",value:function(){this.props.afterSelectingRows&&this.props.afterSelectingRows()}},{key:"changeSelectionType",value:function(e){this.props.toggleSelectionOperator&&this.props.defaultSelectionOperator!==e&&this.props.toggleSelectionOperator()}},{key:"isSelectedRow",value:function(e){return!!c.isFunction(this.props.isSelectedRow)&&this.props.isSelectedRow(e)}},{key:"onAddAll",value:function(){this.props.addAll&&this.props.addAll(this._store.dataStore.sortedFilteredData)}},{key:"onRemoveAll",value:function(){this.props.removeAll&&this.props.removeAll(this._store.dataStore.sortedFilteredData)}},{key:"setInputRef",value:function(e){this.inputElement=e}},{key:"componentDidMount",value:function(){!this.props.hideControls&&this.props.autoFocusSearchAfterRendering&&this.inputElement.focus()}},{key:"getSelectionOptions",value:function(){var e=this;return Object.keys(b.b).map(function(t){var n=b.b[t];return o.createElement(S.MenuItem,{onClick:function(){return e.changeSelectionType(n)},active:e.props.defaultSelectionOperator===t},o.createElement(v.c,{overlay:"".concat(n," of samples in the newly selected rows")},o.createElement("div",null,n," ",o.createElement("i",{className:s.a[n.toLowerCase()]}))))})}},{key:"getControls",value:function(){return o.createElement("div",{className:f()(s.a.controls)},!this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),className:f()("form-control",s.a.tableSearchInput)}),o.createElement(h.If,{condition:this.props.showAddRemoveAllButtons},o.createElement("div",{className:"btn-group",role:"group"},this.props.addAll&&o.createElement("button",{className:"btn btn-default btn-xs",onClick:this.onAddAll,"data-test":"fixed-header-table-add-all"},"Select all".concat(this.props.showSelectableNumber?" (".concat(this._store.dataStore.sortedFilteredData.length,")"):"")),this.props.removeAll&&o.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-remove-all",onClick:this.onRemoveAll,disabled:this.props.removeAllDisabled},"Deselect all"))),o.createElement(h.If,{condition:this.props.numberOfSelectedRows>0},o.createElement("div",{className:"btn-group"},o.createElement("button",{className:"btn btn-default btn-xs",onClick:this.afterSelectingRows},"Select Samples"," ",o.createElement(h.If,{condition:this.props.numberOfSelectedRows>1},o.createElement("i",{style:{marginTop:"-2px"},className:this.props.defaultSelectionOperator===b.b.INTERSECTION?s.a.intersection:s.a.union}))),o.createElement(h.If,{condition:this.props.numberOfSelectedRows>1},o.createElement(S.DropdownButton,{bsSize:"xsmall",title:"",id:"selectButton",pullRight:!0},this.getSelectionOptions())))),this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),ref:this.setInputRef,"data-test":"fixed-header-table-search-input",className:f()("form-control",s.a.tableSearchInput)}))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:s.a.studyViewTablesTable},!this.props.hideControls&&this.props.showControlsAtTop&&this.getControls(),o.createElement(p.Observer,null,function(){return o.createElement(a.c,{width:e.props.width,height:e.props.height,headerHeight:e.props.headerHeight,rowHeight:e.props.rowHeight,rowCount:e._store.dataStore.sortedFilteredData.length,rowGetter:e.rowGetter,rowClassName:e.rowClassName,headerClassName:s.a.headerColumn,sort:e.sort,sortDirection:G[e._sortDirection],sortBy:e._sortBy},e.props.columns.map(function(t,n){return o.createElement(a.a,{key:t.name,label:t.name,dataKey:t.name,width:Number(t.width),headerRenderer:e.columnHeaders[n],cellRenderer:function(e){return t.render(e.rowData)}})}))}),!this.props.hideControls&&!this.props.showControlsAtTop&&this.getControls())}},{key:"columnHeaders",get:function(){var e=this;return this.props.columns.map(function(t){return function(n){var r=[];t.headerRender?r.push(t.headerRender(t.name)):r.push(o.createElement("span",{key:t.name},t.name)),t.name===e._sortBy&&r.push(o.createElement("i",{className:f()(s.a.headerSortingIcon,"fa","desc"===e._sortDirection?"fa-sort-desc":"fa-sort-asc")}));var i=o.createElement("div",{style:{display:"flex"}},r);return t.tooltip?o.createElement(v.c,{placement:"top",overlay:t.tooltip},i):i}})}}]),t}();x.defaultProps={showControlsAtTop:!1,showAddRemoveAllButtons:!1,autoFocusSearchAfterRendering:!1,width:398,height:350,headerHeight:25,rowHeight:25,showSelectableNumber:!1,sortBy:"",numberOfSelectedRows:0,hideControls:!1},M([u.observable],x.prototype,"_sortBy",void 0),M([u.observable],x.prototype,"_sortDirection",void 0),M([m.default],x.prototype,"rowClassName",null),M([m.default],x.prototype,"rowGetter",null),M([m.default],x.prototype,"getColumn",null),M([m.default,u.action],x.prototype,"sort",null),M([m.default,u.action],x.prototype,"onFilterTextChange",null),M([m.default,u.action],x.prototype,"afterSelectingRows",null),M([m.default,u.action],x.prototype,"changeSelectionType",null),M([m.default],x.prototype,"isSelectedRow",null),M([m.default],x.prototype,"onAddAll",null),M([m.default],x.prototype,"onRemoveAll",null),M([u.computed],x.prototype,"columnHeaders",null),M([m.default],x.prototype,"setInputRef",null),x=M([p.observer],x),t.a=x},764:function(e,t,n){"use strict";var r=n(0),o=n(757),i=n.n(o),a=n(7),u=n(2),l=n(824),s=n.n(l),c=n(8);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=d(this,f(t).apply(this,arguments))).visible=!1,e.handleWidth="10%",e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"doScroll",value:function(e){this.overflow>0&&(this.scrollEl.style.left=e*this.overflow*-1+"px")}},{key:"componentDidMount",value:function(){this.updateScrollbar()}},{key:"componentDidUpdate",value:function(){this.updateScrollbar()}},{key:"updateScrollbar",value:function(){var e=this;setTimeout(function(){e.overflow>0&&Object(u.runInAction)(function(){e.visible=!0;var t=e.scrollEl.parentNode.offsetWidth/e.scrollEl.offsetWidth;e.handleWidth=75*t+"%"})},1)}},{key:"handleDragEvent",value:function(e,t){var n=t.node,r=t.x/(n.parentNode.offsetWidth-n.offsetWidth);r=(r=r>1?1:r)<0?0:r,this.props.onScroll&&this.props.onScroll({percentage:r}),this.doScroll(r)}},{key:"render",value:function(){var e=this,t=Object.assign({},{visibility:this.visible?"visible":"hidden"},this.props.style);return r.createElement("div",{className:s.a.scrollbar,style:t,ref:function(t){return e.scrollbarEl=t}},r.createElement(i.a,{bounds:"parent",onDrag:this.handleDragEvent},r.createElement("div",{className:s.a.handle,style:{width:this.handleWidth}})))}},{key:"scrollEl",get:function(){return this.props.getScrollEl()}},{key:"overflow",get:function(){return this.scrollEl.offsetWidth-this.scrollEl.parentNode.offsetWidth}}])&&p(n.prototype,o),a&&p(n,a),t}();y([u.observable],v.prototype,"visible",void 0),y([u.observable],v.prototype,"handleWidth",void 0),y([c.default],v.prototype,"handleDragEvent",null),v=y([a.observer],v),t.a=v},772:function(e,t,n){e.exports=n(16)(166)},773:function(e,t,n){e.exports=n(16)(101)},774:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var r=n(0),o=n(7),i=n(756);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(e){var t=e.genePanelIds,n=e.toggleModal;return t.length>0?r.createElement("span",{style:{maxWidth:400}},"Gene panels:"," ",t.map(function(e,t){return[t>0&&", ",r.createElement("a",{key:e,"data-test":"gene-panel-linkout-".concat(e),href:"#",onClick:function(){n(e)}},e)]})):r.createElement("span",null)},f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,l(t).apply(this,arguments))).getGenesList=function(e){return e&&e.genes?e.genes.map(function(e){return r.createElement("p",{key:e.entrezGeneId},e.hugoGeneSymbol)}):null},e}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props.genePanelCache.get({genePanelId:this.props.panelName});return r.createElement(i.a,{panelName:this.props.panelName,show:this.props.show,onHide:this.props.onHide,isLoading:e.isPending},e.isComplete&&this.getGenesList(e.result))}}])&&a(n.prototype,o),c&&a(n,c),t}();f=p([o.observer],f)},775:function(e,t,n){"use strict";function r(e,t){var n=t.indexOf(e);if(-1===n)return t.concat([e]);var r=t.slice();return r.splice(n,1),r}function o(e,t){for(var n=[],r=0;r<t.length;r++)n.push(t[r]),r<t.length-1&&n.push(e);return n}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},782:function(e,t,n){"use strict";var r=n(4),o=n.n(r),i=n(0),a=n(7),u=n(586),l=n.n(u),s=n(2),c=n(576),p=n(581),d=n(632),f=n.n(d),h=n(709),m=n(607),y=n(583),v=n(582),g=n(934),b=n.n(g);var S=n(597),T=n(3),C=n(694),P=n(695);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},M={fontFamily:c.c.fontFamily,fontSize:c.c.fontSize},G=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=I(this,E(t).apply(this,arguments))).tooltipModel=null,e.pointHovered=!1,e.mouseEvents=e.makeMouseEvents(),e}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,i["Component"]),n=t,(r=[{key:"containerRef",value:function(e){this.container=e}},{key:"makeMouseEvents",value:function(){var e=this,t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}},{key:"x",value:function(e){return this.props.logX?this.props.logX.fLogScale(e.x,0):e.x}},{key:"y",value:function(e){return this.props.logY?this.props.logY.fLogScale(e.y,0):e.y}},{key:"tickFormat",value:function(e,t,n){return n&&!this.props.useLogSpaceTicks&&(e=n.fInvLogScale(e),t=t.map(function(e){return n.fInvLogScale(e)})),Object(m.a)(e,t)}},{key:"tickFormatX",value:function(e,t,n){return this.tickFormat(e,n,this.props.logX)}},{key:"tickFormatY",value:function(e,t,n){return this.tickFormat(e,n,this.props.logY)}},{key:"getChart",value:function(){var e=this;return i.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},i.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)},i.createElement("g",{transform:"translate(".concat(25,",0)")},i.createElement(p.VictoryChart,{theme:c.d,width:this.props.chartWidth,height:this.props.chartHeight,standalone:!1,domainPadding:50,singleQuadrantDomainPadding:!1},this.title,this.legend,i.createElement(p.VictoryAxis,{domain:this.plotDomain.x,orientation:"bottom",offsetY:50,crossAxis:!1,tickCount:8,tickFormat:this.tickFormatX,axisLabelComponent:i.createElement(p.VictoryLabel,{dy:25}),label:this.props.axisLabelX}),i.createElement(p.VictoryAxis,{domain:this.plotDomain.y,offsetX:50,orientation:"left",crossAxis:!1,tickCount:8,tickFormat:this.tickFormatY,dependentAxis:!0,axisLabelComponent:i.createElement(p.VictoryLabel,{dy:-35}),label:this.props.axisLabelY}),this.data.map(function(t){return i.createElement(p.VictoryScatter,{key:"".concat(t.fill,",").concat(t.stroke,",").concat(t.strokeWidth,",").concat(t.strokeOpacity,",").concat(t.fillOpacity,",").concat(t.symbol),style:{data:{fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity,fillOpacity:t.fillOpacity}},size:e.size,symbol:t.symbol,data:t.data,events:e.mouseEvents,x:e.x,y:e.y})}),this.regressionLine),this.correlationInfo,this.regressionLineEquation)))}},{key:"render",value:function(){return this.props.data.length?i.createElement("div",null,i.createElement(a.Observer,null,this.getChart),this.container&&this.tooltipModel&&this.props.tooltip&&i.createElement(h.a,{container:this.container,targetHovered:this.pointHovered,targetCoords:{x:this.tooltipModel.x+25,y:this.tooltipModel.y},overlay:this.props.tooltip(this.tooltipModel.datum)})):i.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"fontFamily",get:function(){return this.props.fontFamily||"Verdana,Arial,sans-serif"}},{key:"title",get:function(){if(this.props.title){var e=Object(T.fb)(this.props.title,this.props.chartWidth,this.fontFamily,"14px");return i.createElement(p.VictoryLabel,{style:{fontWeight:"bold",fontFamily:this.fontFamily,textAnchor:"middle"},x:this.props.chartWidth/2,y:"1.2em",text:e})}return null}},{key:"sideLegendX",get:function(){return this.props.chartWidth-20}},{key:"sideLegendY",get:function(){return this.props.showRegressionLine?235:190}},{key:"legendLocation",get:function(){return this.props.legendData&&this.props.legendData.length>7?"bottom":"right"}},{key:"bottomLegendHeight",get:function(){return this.props.legendData&&this.props.legendData.length&&"bottom"===this.legendLocation?Object(y.c)(this.legendItemsPerRow,this.props.legendData,this.props.legendTitle):0}},{key:"maxLegendLabelWidth",get:function(){return this.props.legendData?Object(y.g)(this.props.legendData):0}},{key:"legendItemsPerRow",get:function(){return Object(y.f)(this.maxLegendLabelWidth,this.svgWidth,45,this.props.legendTitle)}},{key:"legend",get:function(){if(this.props.legendData&&this.props.legendData.length){var e=this.props.legendData;"bottom"===this.legendLocation&&(e=e.map(function(e){var t=e.name,n=k(e,["name"]);return Array.isArray(t)&&(t=t.join(" ")),Object.assign({name:t},n)}));var t="right"===this.legendLocation?"vertical":"horizontal";return i.createElement(p.VictoryLegend,{dataComponent:i.createElement(C.a,{orientation:t}),labelComponent:i.createElement(P.a,{orientation:t}),events:[{childName:"all",target:["data","labels"],eventHandlers:{onClick:function(){return[{target:"data",mutation:function(e){var t=e.data[e.index];t.highlighting&&t.highlighting.onClick(t)}}]}}}],orientation:t,itemsPerRow:"right"===this.legendLocation?void 0:this.legendItemsPerRow,rowGutter:"right"===this.legendLocation?void 0:-5,gutter:"right"===this.legendLocation?void 0:45,data:e,x:"right"===this.legendLocation?this.sideLegendX:0,y:"right"===this.legendLocation?this.sideLegendY:this.svgHeight-this.bottomLegendHeight,title:this.props.legendTitle,titleOrientation:"right"===this.legendLocation?"top":"left",style:{title:{fontSize:15,fontWeight:"bold"}},titleComponent:i.createElement(p.VictoryLabel,{dx:"right"===this.legendLocation?0:-10})})}return null}},{key:"correlationInfo",get:function(){var e=this.sideLegendX;return i.createElement("g",null,i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",text:"Spearman: ".concat(this.spearmanCorr.toFixed(2)),style:M}),null!==this.spearmanPval&&i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",dy:"2",text:"(p = ".concat(Object(v.b)(this.spearmanPval,3,.01),")"),style:M}),i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",dy:"5",text:"Pearson: ".concat(this.pearsonCorr.toFixed(2)),style:M}),null!==this.pearsonPval&&i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",dy:"7",text:"(p = ".concat(Object(v.b)(this.pearsonPval,3,.01),")"),style:M}))}},{key:"regressionLineEquation",get:function(){if(!this.props.showRegressionLine)return null;var e=this.regressionLineComputations.string,t="R² = ".concat(this.regressionLineComputations.r2);return i.createElement("g",null,i.createElement("line",{stroke:"#c43a31",strokeWidth:2,x1:this.sideLegendX+10,y1:195,x2:this.sideLegendX+10+10,y2:195,dy:"0"}),i.createElement(p.VictoryLabel,{x:this.sideLegendX+10+10+7,y:195,dy:"0",textAnchor:"start",text:e,style:M}),i.createElement(p.VictoryLabel,{x:this.sideLegendX+10+10+7,y:195,dy:"2",textAnchor:"start",text:t,style:M}))}},{key:"splitData",get:function(){var e=this.props.excludeLimitValuesFromCorrelation?o.a.filter(this.props.data,function(e){return!Object(y.b)(e)}):this.props.data,t=[],n=[],r=!0,i=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;t.push(s.x),n.push(s.y)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return{x:t,y:n}}},{key:"plotDomain",get:function(){var e={x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY},t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},n=!0,r=!1,o=void 0;try{for(var i,a=this.props.data[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.x=Math.max(u.x,e.x),e.y=Math.max(u.y,e.y),t.x=Math.min(u.x,t.x),t.y=Math.min(u.y,t.y)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this.props.logX&&(t.x=this.props.logX.fLogScale(t.x,0),e.x=this.props.logX.fLogScale(e.x,0)),this.props.logY&&(t.y=this.props.logY.fLogScale(t.y,0),e.y=this.props.logY.fLogScale(e.y,0)),{x:[t.x,e.x],y:[t.y,e.y]}}},{key:"pearsonCorr",get:function(){var e=this;if(this.props.correlation)return this.props.correlation.pearson;var t=this.splitData.x,n=this.splitData.y;return this.props.logX&&(t=t.map(function(t){return e.props.logX.fLogScale(t,0)})),this.props.logY&&(n=n.map(function(t){return e.props.logY.fLogScale(t,0)})),f.a.corrcoeff(t,n)}},{key:"spearmanCorr",get:function(){return this.props.correlation?this.props.correlation.spearman:f.a.spearmancoeff(this.splitData.x,this.splitData.y)}},{key:"spearmanPval",get:function(){return Object(y.a)(this.spearmanCorr,this.splitData.x.length)}},{key:"pearsonPval",get:function(){return Object(y.a)(this.pearsonCorr,this.splitData.x.length)}},{key:"rightPadding",get:function(){return this.props.legendData&&this.props.legendData.length>0&&"right"===this.legendLocation?Math.max(120,this.maxLegendLabelWidth+50):120}},{key:"svgWidth",get:function(){return 25+this.props.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return this.props.chartHeight+this.bottomLegendHeight}},{key:"size",get:function(){var e=this.props.highlight,t=this.props.size;return Object(y.i)(e,t)}},{key:"data",get:function(){return Object(y.l)(this.props.data,Object(S.a)(this.props.fill,"0x000000"),Object(S.a)(this.props.stroke,"0x000000"),Object(S.a)(this.props.strokeWidth,0),Object(S.a)(this.props.strokeOpacity,1),Object(S.a)(this.props.fillOpacity,1),Object(S.a)(this.props.symbol,"circle"),this.props.zIndexSortBy)}},{key:"regressionLineComputations",get:function(){var e=this;return function(e){return b.a.linear(e)}(this.props.data.map(function(t){return[e.x(t),e.y(t)]}))}},{key:"regressionLine",get:function(){var e=this.props.excludeLimitValuesFromCorrelation?o.a.filter(this.props.data,function(e){return!Object(y.b)(e)}):this.props.data;if(this.props.showRegressionLine&&e.length>=2){var t=this.regressionLineComputations,n=function(e){return t.predict(e)[1]},r=[this.plotDomain.x[0],this.plotDomain.x[0]*(1-.7)+.7*this.plotDomain.x[1],this.plotDomain.x[1]].map(function(e){return{x:e,y:n(e),label:""}});return[i.createElement(p.VictoryLine,{style:{data:{stroke:"#c43a31",strokeWidth:2},labels:{fontSize:15,fill:"#000000",stroke:"#ffffff",strokeWidth:6,fontWeight:"bold",paintOrder:"stroke"}},data:r,labelComponent:i.createElement(p.VictoryLabel,{lineHeight:1.3})})]}return null}}])&&A(n.prototype,r),u&&A(n,u),t}();w([s.observable.ref],G.prototype,"tooltipModel",void 0),w([s.observable],G.prototype,"pointHovered",void 0),w([s.observable.ref],G.prototype,"container",void 0),w([l.a],G.prototype,"containerRef",null),w([s.computed],G.prototype,"fontFamily",null),w([s.computed],G.prototype,"sideLegendX",null),w([s.computed],G.prototype,"sideLegendY",null),w([s.computed],G.prototype,"legendLocation",null),w([s.computed],G.prototype,"bottomLegendHeight",null),w([s.computed],G.prototype,"maxLegendLabelWidth",null),w([s.computed],G.prototype,"legendItemsPerRow",null),w([s.computed],G.prototype,"splitData",null),w([s.computed],G.prototype,"plotDomain",null),w([s.computed],G.prototype,"pearsonCorr",null),w([s.computed],G.prototype,"spearmanCorr",null),w([s.computed],G.prototype,"spearmanPval",null),w([s.computed],G.prototype,"pearsonPval",null),w([s.computed],G.prototype,"rightPadding",null),w([s.computed],G.prototype,"svgWidth",null),w([s.computed],G.prototype,"svgHeight",null),w([l.a],G.prototype,"x",null),w([l.a],G.prototype,"y",null),w([s.computed],G.prototype,"size",null),w([l.a],G.prototype,"tickFormatX",null),w([l.a],G.prototype,"tickFormatY",null),w([s.computed],G.prototype,"data",null),w([s.computed],G.prototype,"regressionLineComputations",null),w([l.a],G.prototype,"getChart",null),G=w([a.observer],G);t.a=G},798:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var r=n(742),o=n(4),i=n.n(o),a=n(624),u=n(799),l=n(800),s=n(570),c=n(597);function p(e,t,n,o,a){var u=function(e,t){return function(e,t){if(m(e.geneticTracks||[],t.geneticTracks||[]))return!0;return T(e)!==T(t)||C(e)!==C(t)}(e,t)||function(e,t){if(m(e.clinicalTracks||[],t.clinicalTracks||[]))return!0}(e,t)||function(e,t){if(m(e.heatmapTracks,t.heatmapTracks||[])||m(e.genesetHeatmapTracks,t.genesetHeatmapTracks||[]))return!0}(e,t)}(e,t),l=function(e,t){return!e.suppressRendering&&(b(e,t)||h(y(e),y(t))>1)}(e,t);l&&d(e,n),u&&n.keepSorted(!1),function(e,t,n){e.suppressRendering&&!t.suppressRendering&&d(e,n)}(e,t,n),function(e,t,n){e.width!==t.width&&n.setWidth(e.width)}(e,t,n),function(e,t,n){i.a.isEqual(e.columnLabels,t.columnLabels)||n.setColumnLabels(e.columnLabels||{})}(e,t,n),function(e,t,n){e.showWhitespaceBetweenColumns!==t.showWhitespaceBetweenColumns&&n.setCellPaddingOn(!!e.showWhitespaceBetweenColumns)}(e,t,n),function(e,t,n){e.showMinimap!==t.showMinimap&&n.setMinimapVisible(!!e.showMinimap)}(e,t,n),function(e,t,n){e.onMinimapClose&&e.onMinimapClose!==t.onMinimapClose&&n.onMinimapClose(e.onMinimapClose)}(e,t,n),function(e,t,n){e.showTrackLabels!==t.showTrackLabels&&n.setShowTrackLabels(!!e.showTrackLabels)}(e,t,n),function(e,t,n){e.showSublabels!==t.showSublabels&&n.setShowTrackSublabels(!!e.showSublabels)}(e,t,n),function(e,t,n){if(!i.a.isEqual(e.heatmapTrackHeaders,t.heatmapTrackHeaders)){var r=e.heatmapTrackHeaders||{},o=t.heatmapTrackHeaders||{},a=Object.keys(r).map(function(e){return parseInt(e,10)}),u=Object.keys(o).map(function(e){return parseInt(e,10)}),l=!0,s=!1,c=void 0;try{for(var p,d=a[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;n.setTrackGroupHeader(f,r[f])}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var h=!0,m=!1,y=void 0;try{for(var v,g=u[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var b=v.value;b in r||n.setTrackGroupHeader(b,void 0)}}catch(e){m=!0,y=e}finally{try{h||null==g.return||g.return()}finally{if(m)throw y}}}}(e,t,n),function(e,t,n,o,a){var u={genetic:void 0,genesetHeatmap:void 0,heatmap:void 0,heatmap01:void 0,genericAssay:{}},l=o();t.geneticTracks&&t.geneticTracks.length&&!b(e,t)&&(u.genetic=l[t.geneticTracks[0].key]);t.genesetHeatmapTracks&&t.genesetHeatmapTracks.length&&(u.genesetHeatmap=l[t.genesetHeatmapTracks[0].key]);if(t.heatmapTracks&&t.heatmapTracks.length){var c,p,d=!0,f=!1,h=void 0;try{for(var m,y=t.heatmapTracks[Symbol.iterator]();!(d=(m=y.next()).done);d=!0){var v=m.value;if(void 0===c&&v.molecularAlterationType===s.a.METHYLATION?c=l[v.key]:void 0===p&&v.molecularAlterationType!==s.a.METHYLATION&&v.molecularAlterationType!==s.a.GENERIC_ASSAY&&(p=l[v.key]),void 0!==c&&void 0!==p)break}}catch(e){f=!0,h=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw h}}u.heatmap=p,u.heatmap01=c}else if(t.genesetHeatmapTracks){var g=!0,S=!1,T=void 0;try{for(var C,P=t.genesetHeatmapTracks[Symbol.iterator]();!(g=(C=P.next()).done);g=!0){var _=C.value;if(_.expansionTrackList&&_.expansionTrackList.length){u.heatmap=l[_.expansionTrackList[0].key];break}}}catch(e){S=!0,T=e}finally{try{g||null==P.return||P.return()}finally{if(S)throw T}}}u.genericAssay=i.a.chain(t.heatmapTracks).filter(function(e){return e.molecularAlterationType===s.a.GENERIC_ASSAY}).groupBy(function(e){return e.molecularProfileId}).mapValues(function(e){return i.a.last(e)}).mapValues(function(e){return l[e.key]}).value();var w=i.a.chain(e.heatmapTracks).filter(function(e){return e.molecularAlterationType===s.a.GENERIC_ASSAY}).groupBy(function(e){return e.molecularProfileId}).mapValues(function(e){return i()(e).flatMap(function(e){return e.data}).filter(function(e){return!e.category}).map(function(e){return e.profile_data}).value()}).value(),k=i.a.mapValues(w,function(e){return i.a.max(e)}),M=i.a.mapValues(w,function(e){return i.a.min(e)}),G=i.a.keyBy(t.geneticTracks||[],function(e){return e.key}),N=!0,x=!1,R=void 0;try{for(var D,j=e.geneticTracks[Symbol.iterator]();!(N=(D=j.next()).done);N=!0){var L=D.value;A(L,G[L.key],o,a,n,e,t,u),delete G[L.key]}}catch(e){x=!0,R=e}finally{try{N||null==j.return||j.return()}finally{if(x)throw R}}var B=!0,F=!1,q=void 0;try{for(var U,V=(t.geneticTracks||[])[Symbol.iterator]();!(B=(U=V.next()).done);B=!0){var z=U.value;G.hasOwnProperty(z.key)&&A(void 0,G[z.key],o,a,n,e,t,u)}}catch(e){F=!0,q=e}finally{try{B||null==V.return||V.return()}finally{if(F)throw q}}!function(e,t,n,o){var a=i.a.keyBy(e.geneticTracks,"key"),u=i.a.keyBy(t.geneticTracks||[],"key"),l=(e.geneticTracksOrder||e.geneticTracks.map(function(e){return e.key})).filter(function(e){return e in a}),s=(t.geneticTracksOrder||(t.geneticTracks||[]).map(function(e){return e.key})).filter(function(e){return e in u});if(!i.a.isEqual(l,s)){var c=o();n.setTrackGroupOrder(r.b,l.map(function(e){return c[e]}))}}(e,t,n,o);var H=i.a.keyBy(t.clinicalTracks||[],function(e){return e.key}),K=!0,W=!1,Q=void 0;try{for(var Y,X=e.clinicalTracks[Symbol.iterator]();!(K=(Y=X.next()).done);K=!0){var Z=Y.value;I(Z,H[Z.key],o,n,e),delete H[Z.key]}}catch(e){W=!0,Q=e}finally{try{K||null==X.return||X.return()}finally{if(W)throw Q}}var J=!0,$=!1,ee=void 0;try{for(var te,ne=(t.clinicalTracks||[])[Symbol.iterator]();!(J=(te=ne.next()).done);J=!0){var re=te.value;H.hasOwnProperty(re.key)&&I(void 0,H[re.key],o,n,e)}}catch(e){$=!0,ee=e}finally{try{J||null==ne.return||ne.return()}finally{if($)throw ee}}var oe=i.a.keyBy(t.genesetHeatmapTracks||[],function(e){return e.key}),ie=!0,ae=!1,ue=void 0;try{for(var le,se=e.genesetHeatmapTracks[Symbol.iterator]();!(ie=(le=se.next()).done);ie=!0){var ce=le.value;E(ce,oe[ce.key],o,n,e,u),delete oe[ce.key]}}catch(e){ae=!0,ue=e}finally{try{ie||null==se.return||se.return()}finally{if(ae)throw ue}}var pe=!0,de=!1,fe=void 0;try{for(var he,me=(t.genesetHeatmapTracks||[])[Symbol.iterator]();!(pe=(he=me.next()).done);pe=!0){var ye=he.value;oe.hasOwnProperty(ye.key)&&E(void 0,oe[ye.key],o,n,e,u)}}catch(e){de=!0,fe=e}finally{try{pe||null==me.return||me.return()}finally{if(de)throw fe}}var ve=i.a.keyBy(t.heatmapTracks||[],function(e){return e.key}),ge=!0,be=!1,Se=void 0;try{for(var Te,Ce=e.heatmapTracks[Symbol.iterator]();!(ge=(Te=Ce.next()).done);ge=!0){var Pe=Te.value;Pe.maxProfileValue=k[Pe.molecularProfileId],Pe.minProfileValue=M[Pe.molecularProfileId],O(Pe,ve[Pe.key],o,function(){},n,e,{},u,void 0),delete ve[Pe.key]}}catch(e){be=!0,Se=e}finally{try{ge||null==Ce.return||Ce.return()}finally{if(be)throw Se}}var Ae=!0,Ie=!1,Ee=void 0;try{for(var Oe,_e=(t.heatmapTracks||[])[Symbol.iterator]();!(Ae=(Oe=_e.next()).done);Ae=!0){var we=Oe.value;ve.hasOwnProperty(we.key)&&(we.maxProfileValue=k[we.molecularProfileId],we.minProfileValue=M[we.molecularProfileId],O(void 0,ve[we.key],o,function(){},n,e,{},u,void 0))}}catch(e){Ie=!0,Ee=e}finally{try{Ae||null==_e.return||_e.return()}finally{if(Ie)throw Ee}}!function(e,t,n,r){var o=i.a.keyBy(e.heatmapTracks,"key"),a=i.a.keyBy(t.heatmapTracks||[],"key");i.a.forEach(e.heatmapTracksOrder||{},function(e,u){var l=e.filter(function(e){return e in o}),s=((t.heatmapTracksOrder||{})[u]||[]).filter(function(e){return e in a});if(!i.a.isEqual(l,s)){var c=r();n.setTrackGroupOrder(parseInt(u,10),l.map(function(e){return c[e]}))}})}(e,t,n,o)}(e,t,n,o,a),function(e,t,n){var r=g(t),o=g(e);("order"===r.type&&"order"===o.type&&r.order!==o.order||!i.a.isEqual(r,o))&&n.setSortConfig(o)}(e,t,n),function(e,t,n){var o=i.a.sortBy(i.a.uniq((t.heatmapTracks||[]).concat(t.genesetHeatmapTracks||[]).map(function(e){return e.trackGroupIndex}))),a=i.a.sortBy(i.a.uniq(e.heatmapTracks.concat(e.genesetHeatmapTracks).map(function(e){return e.trackGroupIndex})));i.a.xor(a,o).length&&n.setTrackGroupSortPriority([r.a].concat(a).concat(r.b))}(e,t,n),function(e,t,n){e.hiddenIds!==t.hiddenIds&&n.hideIds(e.hiddenIds||[],!0)}(e,t,n),function(e,t,n){i.a.isEqual(e.horzZoomToFitIds,t.horzZoomToFitIds)||n.updateHorzZoomToFitIds(e.horzZoomToFitIds||[])}(e,t,n),function(e,t,n,r){var o=r(),i=e.clinicalTracks.map(function(e){return o[e.key]});e.showClinicalTrackLegends&&!t.showClinicalTrackLegends?n.showTrackLegends(i):!e.showClinicalTrackLegends&&t.showClinicalTrackLegends&&n.hideTrackLegends(i)}(e,t,n,o),function(e,t,n){e.highlightedIds!==t.highlightedIds&&n.setHighlightedIds(e.highlightedIds||[])}(e,t,n),function(e,t,n,r){if(e.highlightedTracks!==t.highlightedTracks){var o=e.highlightedTracks||[],i=r();n.setHighlightedTracks(o.map(function(e){return i[e]}))}}(e,t,n,o),function(e,t,n){!e.suppressRendering&&t.suppressRendering&&f(e,n)}(e,t,n),u&&n.keepSorted(!0),l&&f(e,n)}function d(e,t){t.suppressRendering(),e.onSuppressRendering&&e.onSuppressRendering()}function f(e,t){t.releaseRendering(e.onReleaseRendering)}function h(e,t){var n=i.a.keyBy(t,function(e){return e.key}),r=0,o=0,a=0,u=!0,l=!1,s=void 0;try{for(var c,p=e[Symbol.iterator]();!(u=(c=p.next()).done);u=!0){var d=c.value,f=n[d.key];f?(o+=1,f.data!==d.data&&(a+=1)):r+=1}}catch(e){l=!0,s=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw s}}return r+(t.length-o)+a}function m(e,t){return e.length!==t.length||h(e,t)>0}function y(e){return(e.geneticTracks||[]).concat(e.genesetHeatmapTracks||[]).concat(e.clinicalTracks||[]).concat(e.heatmapTracks||[])}function v(e){return e.profile_data}function g(e){var t={},n=function(e){return e.sortConfig&&e.sortConfig.order}(e);return n?t={type:"order",order:n}:e.sortConfig&&void 0!==e.sortConfig.clusterHeatmapTrackGroupIndex&&(t={type:"cluster",track_group_index:e.sortConfig.clusterHeatmapTrackGroupIndex,clusterValueFn:v}),t}function b(e,t){return e.distinguishMutationType!==t.distinguishMutationType||e.distinguishDrivers!==t.distinguishDrivers||e.distinguishGermlineMutations!==t.distinguishGermlineMutations}function S(e,t,n,r){if(!e&&t){var o=n[t.key];return void 0!==o&&(r.getTracks().includes(o)&&r.removeTrack(o),delete n[t.key]),!0}return!1}function T(e){return e.distinguishMutationType&&e.sortConfig&&e.sortConfig.sortByMutationType}function C(e){return e.distinguishDrivers&&e.sortConfig&&e.sortConfig.sortByDrivers}function P(e,t,n,r,o,a,u,l,s){var c=t&&t.expansionTrackList?t.expansionTrackList:[],p=e&&e.expansionTrackList?e.expansionTrackList:[],d=i.a.keyBy(c,function(e){return e.key}),f=!0,h=!1,m=void 0;try{for(var y,v=p[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var g=y.value;s(g,d[g.key],n,r,o,a,u,l,e.key),delete d[g.key]}}catch(e){h=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw m}}var b=!0,S=!1,T=void 0;try{for(var C,P=c[Symbol.iterator]();!(b=(C=P.next()).done);b=!0){var A=C.value;d.hasOwnProperty(A.key)&&s(void 0,d[A.key],n,r,o,a,u,l)}}catch(e){S=!0,T=e}finally{try{b||null==P.return||P.return()}finally{if(S)throw T}}}function A(t,n,o,i,s,c,p,d,f){var h=o();if(!S(t,n,h,s))if(t&&!n){var m={rule_set_params:Object(a.g)(c.distinguishMutationType,c.distinguishDrivers,c.distinguishGermlineMutations),label:t.label,sublabel:t.sublabel,track_label_color:t.labelColor||void 0,target_group:r.b,sortCmpFn:Object(u.b)(T(c),C(c)),description:t.oql,data_id_key:"uid",data:t.data,tooltipFn:Object(l.c)(c.caseLinkOutInTooltips,i,c.alterationTypesInQuery),track_info:t.info,$track_info_tooltip_elt:t.infoTooltip?e("<div>"+t.infoTooltip+"</div>"):void 0,removeCallback:function(){delete o()[t.key],t.removeCallback&&t.removeCallback()},expandCallback:t.expansionCallback||void 0,expandButtonTextGetter:function(){return"Expand"},expansion_of:f?h[f]:void 0,custom_track_options:t.customOptions},y=s.addTracks([m])[0];h[t.key]=y,void 0!==d.genetic&&s.shareRuleSet(d.genetic,y),d.genetic=y}else if(t&&n){var v=h[t.key],g=T(c),I=C(c);g===T(p)&&I===C(p)||s.setTrackSortComparator(v,Object(u.b)(g,I)),t.data!==n.data&&s.setTrackData(v,t.data,"uid"),function(e,t){return e.caseLinkOutInTooltips!==t.caseLinkOutInTooltips||e.alterationTypesInQuery!==t.alterationTypesInQuery}(c,p)&&s.setTrackTooltipFn(v,Object(l.c)(c.caseLinkOutInTooltips,i,c.alterationTypesInQuery)),t.info!==n.info&&s.setTrackInfo(v,t.info),t.infoTooltip!==n.infoTooltip&&s.setTrackInfoTooltip(v,t.infoTooltip?e("<div>"+t.infoTooltip+"</div>"):void 0),b(c,p)&&(void 0!==d.genetic?s.shareRuleSet(d.genetic,v):s.setRuleSet(v,Object(a.g)(c.distinguishMutationType,c.distinguishDrivers,c.distinguishGermlineMutations))),d.genetic=v,t.expansionTrackList&&t.expansionTrackList.length>0?s.disableTrackExpansion(v):t.expansionCallback&&s.enableTrackExpansion(v),P(t,n,o,i,s,c,p,d,A)}}function I(e,t,n,o,i){var s=n();if(!S(e,t,s,o))if(e&&!t){var c=Object(a.e)(e);c.legend_label=e.label,c.exclude_from_legend=!i.showClinicalTrackLegends,c.na_legend_label=e.na_legend_label;var p={rule_set_params:c,data:e.data,data_id_key:"uid",label:e.label,description:(e.label||"").trim()===(e.description||"").trim()?void 0:e.description,removable:!0,removeCallback:function(){delete n()[e.key]},onClickRemoveInTrackMenu:function(){i.onDeleteClinicalTrack&&i.onDeleteClinicalTrack(e.key)},sort_direction_changeable:!0,tooltipFn:Object(l.b)(e,i.caseLinkOutInTooltips),important_ids:e.altered_uids,sortCmpFn:Object(u.a)(e),init_sort_direction:0,target_group:r.a,onSortDirectionChange:i.onTrackSortDirectionChange,custom_track_options:e.custom_options,track_can_show_gaps:"string"===e.datatype};s[e.key]=o.addTracks([p])[0]}else if(e&&t){var d=s[e.key];e.data!==t.data&&o.setTrackData(d,e.data,"uid"),e.altered_uids!==t.altered_uids&&o.setTrackImportantIds(d,e.altered_uids),o.setTrackTooltipFn(d,Object(l.b)(e,i.caseLinkOutInTooltips)),t.custom_options!==e.custom_options&&o.setTrackCustomOptions(d,e.custom_options)}}function E(e,t,n,r,o,i){var s=n();if(S(e,t,s,r))P(void 0,t,n,function(){},r,o,{},i,O);else if(e&&!t){var c={rule_set_params:Object(a.f)(),data:e.data,data_id_key:"uid",has_column_spacing:!1,track_padding:0,label:e.label,html_label:Object(l.a)(e.label),target_group:e.trackGroupIndex,sort_direction_changeable:!0,sortCmpFn:u.c,init_sort_direction:0,description:"Gene set scores from ".concat(e.molecularProfileId),link_url:e.trackLinkUrl,tooltipFn:Object(l.d)(e.molecularAlterationType,!0),onSortDirectionChange:o.onTrackSortDirectionChange,expandCallback:e.expansionCallback,expandButtonTextGetter:function(e){return"".concat(e?"More":"Show","  genes")}},p=r.addTracks([c])[0];s[e.key]=p,void 0!==i.genesetHeatmap&&r.shareRuleSet(i.genesetHeatmap,p),i.genesetHeatmap=p,P(e,void 0,n,function(){},r,o,{},i,O)}else if(e&&t){var d=s[e.key];e.data!==t.data&&r.setTrackData(d,e.data,"uid"),r.setTrackTooltipFn(d,Object(l.d)(e.molecularAlterationType,!0)),P(e,t,n,function(){},r,o,{},i,O)}}function O(e,t,n,r,o,i,p,d,f){var h=n();if(!S(e,t,h,o))if(e&&!t){var m={rule_set_params:Object(a.h)(e),data:e.data,data_id_key:"uid",has_column_spacing:Object(c.a)(e.hasColumnSpacing,!1),track_padding:0,label:e.label,track_label_color:e.labelColor,track_label_circle_color:e.labelCircleColor,track_label_font_weight:e.labelFontWeight,track_label_left_padding:e.labelLeftPadding,target_group:e.trackGroupIndex,removable:!!e.onRemove||!!e.onClickRemoveInTrackMenu,movable:e.movable,na_legend_label:e.naLegendLabel,removeCallback:function(){delete n()[e.key],e.onRemove&&e.onRemove()},onClickRemoveInTrackMenu:function(){e.onClickRemoveInTrackMenu&&e.onClickRemoveInTrackMenu()},sort_direction_changeable:Object(c.a)(e.sortDirectionChangeable,!0),sortCmpFn:u.c,init_sort_direction:Object(c.a)(e.initSortDirection,0),link_url:e.trackLinkUrl,description:Object(c.a)(e.description,"".concat(e.label," data from ").concat(e.molecularProfileId)),tooltipFn:e.tooltip||Object(l.d)(e.molecularAlterationType,!0),track_info:e.info||"",onSortDirectionChange:i.onTrackSortDirectionChange,expansion_of:f?h[f]:void 0},y=o.addTracks([m])[0];if(h[e.key]=y,e.molecularAlterationType!==s.a.GENERIC_ASSAY){var v="heatmap";"METHYLATION"===e.molecularAlterationType&&(v="heatmap01"),void 0!==d[v]&&o.shareRuleSet(d[v],y),d[v]=y}else d.genericAssay[e.molecularProfileId]=y}else if(e&&t){var g=h[e.key];if(e.data!==t.data&&o.setTrackData(g,e.data,"uid"),e.info!==t.info&&void 0!==e.info&&o.setTrackInfo(g,e.info),e.movable!==t.movable&&void 0!==e.movable&&o.setTrackMovable(g,e.movable),e.molecularAlterationType===s.a.GENERIC_ASSAY&&void 0!==d.genericAssay[e.molecularProfileId]){var b=d.genericAssay[e.molecularProfileId];o.shareRuleSet(b,g)}o.setTrackTooltipFn(g,e.tooltip||Object(l.d)(e.molecularAlterationType,!0))}}}).call(this,n(11))},799:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d});var r=n(672),o=n.n(r);function i(e){for(var t={},n=0;n<e.length;n++)for(var r=[].concat(e[n]),o=0;o<r.length;o++)t[r[o]]=n;return t}function a(e,t){var n,r=i(["amp","homdel","gain","hetloss","diploid",void 0]),o=e||t?(!e&&t?n=i([["inframe_rec","missense_rec","promoter_rec","trunc_rec","other_rec"],["inframe","missense","promoter","trunc","other"],void 0]):e&&!t?n=i([["trunc","trunc_rec"],["inframe","inframe_rec"],["promoter","promoter_rec"],["missense","missense_rec"],["other","other_rec"],void 0,!0,!1]):e&&t&&(n=i(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other",void 0,!0,!1])),function(e){return n[e]}):function(e){return{true:1,false:2}[!!e+""]},a=i(["high","low",void 0]),u=i([!0,!1,void 0]);function l(e){var t=[];return e.disp_fusion?t.push(0):t.push(1),t.push(r[e.disp_cna+""]),t.push(o(e.disp_mut)),t.push(u[e.disp_germ+""]),t.push(a[e.disp_mrna+""]),t.push(a[e.disp_prot+""]),t}return{preferred:function(e){return[+!!e.na].concat(l(e)).concat([e.sample?e.sample:e.patient])},mandatory:function(e){return l(e)},isVector:!0}}function u(e){return function(t,n){return t.na&&n.na?0:t.na&&!n.na?2:!t.na&&n.na?-2:t[e]<n[e]?-1:t[e]===n[e]?0:1}}function l(e,t){return e.na&&t.na?0:e.na&&!t.na?2:!e.na&&t.na?-2:o()(e.attr_val,t.attr_val)}function s(e){return function(t,n){var r=e(t,n);return 0===r?t.sample?o()(t.sample,n.sample):o()(t.patient,n.patient):r}}function c(e){var t,n;switch(e.datatype){case"number":t=u("attr_val");break;case"counts":n=e.countsCategoryLabels,t=function(e,t){if(e.na&&t.na)return 0;if(e.na&&!t.na)return 2;if(!e.na&&t.na)return-2;for(var r=0,o=0,i=0;i<n.length;i++)r+=e.attr_val[n[i]]||0,o+=t.attr_val[n[i]]||0;if(0===r&&0===o)return 0;if(0===r)return 1;if(0===o)return-1;var a=0,u=0;for(i=0;i<n.length;i++)e.attr_val[n[i]]>e.attr_val[n[a]]&&(a=i),t.attr_val[n[i]]>t.attr_val[n[u]]&&(u=i);if(a<u)return-1;if(a>u)return 1;var l,s=n[a],c=e.attr_val[s]/r,p=t.attr_val[s]/o;return(l=c-p)>0?1:l<0?-1:0};break;case"string":default:t=l}return{preferred:s(t),mandatory:t}}var p,d={preferred:s(p=u("profile_data")),mandatory:p}},800:function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return P}),n.d(t,"d",function(){return A}),n.d(t,"c",function(){return O});var r=n(15),o=n(11),i=n.n(o),a=n(178),u=n(570),l=n(4),s=n.n(l),c=n(664),p=n(573),d=n(727);n(743);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=n(690),y=n(673),v=n(753),g=n(754),b="oncoprint__tooltip",S="N/A";function T(e,t,n){var r=i()('<span class="nobreak"><a href="#" '.concat(t?"":'style="color:red;"',' oncontextmenu="return false;">').concat(e,"</a>").concat(n?" (".concat(n,")"):"","</span>"));return r.ready(function(){r.click(function(){a.a.getGenePanelUsingGET({genePanelId:e}).then(function(t){var n=t.genes.map(function(e){return e.hugoGeneSymbol}).sort(),r=open("","_blank","width=500,height=500");if(r){var o=r.document.createElement("div");r.document.body.appendChild(o),i()('<h3 style="text-align:center;">'.concat(e,"</h3><br>")).appendTo(o),i()("<span>".concat(n.join("<br>"),"</span>")).appendTo(o)}})})}),r}function C(e){return i()("<div>").text(e).html().replace(/_/g,"_&#8203;").replace(/\./g,".&#8203;")}function P(e,t){return function(n){var r="";if("counts"===e.datatype)for(var o=n[0],a=0;a<e.countsCategoryLabels.length;a++)r+='<span class="nobreak" style="color:'+e.countsCategoryFills[a]+';font-weight:bold;">'+e.countsCategoryLabels[a]+"</span>: "+o.attr_val_counts[e.countsCategoryLabels[a]]+"<br>";else{var u={},l=!0,s=!1,c=void 0;try{for(var p,d=n[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;if(f.attr_val_counts)for(var h=0,m=Object.keys(f.attr_val_counts);h<m.length;h++){var y=m[h];u[y]=u[y]||0,u[y]+=f.attr_val_counts[y]}}}catch(e){s=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}var v=Object.keys(u);if("number"===e.datatype){for(var g=0,S=0,T=0,C=v;T<C.length;T++){var P=C[T],A=u[P];g+=A*parseFloat(P),S+=A}var I=(g/S).toFixed(2);".00"===I.substring(I.length-3)&&(I=I.substring(0,I.length-3)),r+=e.label+': <span class="nobreak"><b>'+I+"".concat(S>1?" (average of ".concat(S," values)"):"","</b></span><br>")}else if(v.length>1){r+=e.label+":<br>";for(var O=0;O<v.length;O++){var _=v[O];r+='<span class="nobreak"><b>'+_+"</b>: "+u[_]+" sample".concat(1===u[_]?"":"s","</span><br>")}}else if(1===v.length){var w=v[0];r+=e.label+': <span class="nobreak"><b>'+w+"</b>".concat(n.length>1?" (".concat(u[v[0]]," samples)"):"","</span><br>")}}var k=0,M=!0,G=!1,N=void 0;try{for(var x,R=n[Symbol.iterator]();!(M=(x=R.next()).done);M=!0){x.value.na&&(k+=1)}}catch(e){G=!0,N=e}finally{try{M||null==R.return||R.return()}finally{if(G)throw N}}return k>0&&e.na_tooltip_value&&(r+="".concat(e.label,": <b>").concat(e.na_tooltip_value,"</b>").concat(n.length>1?" (".concat(k," samples)"):"","<br/>")),i()("<div>").addClass(b).append(E(n,!!t)).append("<br/>").append(r)}}function A(e,t){return function(n){var r="",o=S,a="";switch(e){case u.a.MRNA_EXPRESSION:r="MRNA: ";break;case u.a.PROTEIN_LEVEL:r="PROT: ";break;case u.a.METHYLATION:r="METHYLATION: ";break;case u.a.GENERIC_ASSAY:r="GENERIC ASSAY: "}var l=0,c=[],p=0,d=0,f=!0,h=!1,m=void 0;try{for(var y,v=n[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){var g=y.value;null!==g.profile_data&&void 0!==g.profile_data&&(e===u.a.GENERIC_ASSAY&&g.category?(c.push(g.category),d+=1):(l+=g.profile_data,p+=1))}}catch(e){h=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw m}}if(p>0){var T=(l/p).toFixed(2);o=1===p?T:"".concat(T," (average of ").concat(p," values)")}d>0&&(a=0===p&&1===d?c[0]:p>0&&1===d?"".concat(c[0]):"".concat(s.a.uniq(c).join(", ")," (").concat(d," data points)"));var C=r;return o===S&&0!==d||(C+="<b>"+o+"</b>"),o!==S&&d>0&&(C+=" and "),d>0&&(C+="<b>"+a+"</b>"),C+="<br />",i()("<div>").addClass(b).append(E(n,!!t)).append("<br/>").append(C)}}function I(e,t,n,r){var o=[],i={},a=void 0,u={},l=void 0,p=[],d=void 0;if(e&&(o=s.a.uniq(e.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),a=s.a.uniq(e.map(function(e){return e.molecularProfileId})),r&&(d=s.a.keyBy(a,function(e){return r[e].molecularAlterationType})),u=s.a.keyBy(a),i=s.a.keyBy(o)),t){if(l=s.a.uniq(t.map(function(e){return e.molecularProfileId})).filter(function(e){return!u[e]}),d&&n&&r){var f=s.a.keyBy(l,function(e){return r[e].molecularAlterationType});l=l.concat(n.filter(function(e){return!d[e]&&!f[e]}).map(function(e){return c.a[e]}))}p=s.a.uniq(t.map(function(e){return e.genePanelId})).filter(function(e){return!!e&&!i[e]})}return{dispProfiledGenePanelIds:o,dispNotProfiledGenePanelIds:p,dispProfiledIn:a,dispNotProfiledIn:l,dispAllProfiled:!(!(a&&a.length&&l)||l.length),dispNotProfiled:!(!(l&&l.length&&a)||a.length)}}function E(e,t){return e.length?e[0].sample?e.length>1?t?'<a class="nobreak" href='.concat(Object(r.y)(e[0].study_id,e[0].sample,e.map(function(e){return{studyId:e.study_id,patientId:e.patient}})),' target="_blank">View these ').concat(e.length," samples<a/>"):'<span class="nobreak">'.concat(e.length," samples</span>"):t?(n=e[0].study_id,o=e[0].sample,'<a class="nobreak" href="'.concat(Object(r.y)(n,o),'" target="_blank">').concat(o,"</a>")):'<span class="nobreak">'.concat(e[0].sample,"</span>"):e[0].patient?e.length>1?t?'<a class="nobreak" href='.concat(Object(r.w)(e[0].study_id,e[0].patient,e.map(function(e){return{studyId:e.study_id,patientId:e.patient}})),' target="_blank">View these ').concat(e.length," patients<a/>"):'<span class="nobreak">'.concat(e.length," patients</span>"):t?function(e,t){return'<a class="nobreak" href="'.concat(Object(r.w)(e,t),'" target="_blank">').concat(t,"</a>")}(e[0].study_id,e[0].patient):'<span class="nobreak">'.concat(e[0].patient,"</span>"):"":"";var n,o}function O(e,t,n){function r(e,t){var n=new d.a,r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;n.increment(s.hugo_gene_symbol,s.amino_acid_change,s.cancer_hotspots_hotspot,s.oncokb_oncogenic,s.driver_filter,s.driver_filter_annotation,s.driver_tiers_filter,s.driver_tiers_filter_annotation,s.germline)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n.entries().map(function(e){var n=h(e.key,9),r=n[0],o=n[1],a=n[2],u=n[3],l=n[4],s=n[5],c=n[6],p=n[7],d=n[8],f=e.value,b=i()("<span>").addClass("nobreak");return b.append('<b class="nobreak">'.concat(r," ").concat(o,"</b>")),a&&b.append('<img src="'.concat(m,'" title="Hotspot" style="height:11px; width:11px; margin-left:3px"/>')),u&&b.append('<img src="'.concat(y,'" title="').concat(u,'" style="height:11px; width:11px;margin-left:3px"/>')),l&&"Putative_Driver"===l&&b.append('<img src="'.concat(v,'" title="').concat(l,": ").concat(s,'" alt="driver filter" style="height:11px; width:11px;margin-left:3px"/>')),c&&b.append('<img src="'.concat(g,'" title="').concat(c,": ").concat(p,'" alt="driver tiers filter" style="height:11px; width:11px;margin-left:3px"/>')),d&&b.append(function(){var e=i()('<small style="color: #ff0000">');return e.append("&nbsp;Germline"),e}()),t&&b.append("&nbsp;(".concat(f,")")),b})}function o(e,t){var n=new d.a,r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;n.increment(s.hugo_gene_symbol,s.direction)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n.entries().map(function(e){var n=h(e.key,2),r=n[0],o=n[1],a=e.value,u=i()("<span>").addClass("nobreak");return u.append('<b class="nobreak">'.concat(r," ").concat(o,"</b>")),t&&u.append("&nbsp;(".concat(a,")")),u})}var a={"-2":"HOMODELETED","-1":"HETLOSS",1:"GAIN",2:"AMPLIFIED"};return function(u){var l=i()("<div>").addClass(b);l.append(E(u,e)).append("<br/>");var s=[],c=[],m=[],v=[],g=[],S=!0,C=!1,P=void 0;try{for(var A,O=u[Symbol.iterator]();!(S=(A=O.next()).done);S=!0)for(var _=A.value,w=0;w<_.data.length;w++){var k=_.data[w],M=k.molecularProfileAlterationType,G=k.hugoGeneSymbol;switch(M){case"MUTATION_EXTENDED":var N={};N.hugo_gene_symbol=G,N.amino_acid_change=k.proteinChange,N.driver_filter=k.driverFilter,N.driver_filter_annotation=k.driverFilterAnnotation,N.driver_tiers_filter=k.driverTiersFilter,N.driver_tiers_filter_annotation=k.driverTiersFilterAnnotation,k.isHotspot&&(N.cancer_hotspots_hotspot=!0),Object(p.n)(k)||(N.germline=!0);var x=k.oncoKbOncogenic;x&&(N.oncokb_oncogenic=x),("fusion"===k.alterationSubType?g:s).push(N);break;case"COPY_NUMBER_ALTERATION":if(a.hasOwnProperty(k.value)){var R={cna:a[k.value],hugo_gene_symbol:G},D=k.oncoKbOncogenic;D&&(R.oncokb_oncogenic=D),c.push(R)}break;case"MRNA_EXPRESSION":case"PROTEIN_LEVEL":var j=k.alterationSubType,L="MRNA_EXPRESSION"===M?m:v;"high"===j?L.push({hugo_gene_symbol:G,direction:"HIGH"}):"low"===j&&L.push({hugo_gene_symbol:G,direction:"LOW"})}}}catch(e){C=!0,P=e}finally{try{S||null==O.return||O.return()}finally{if(C)throw P}}if(g.length>0){l.append("Fusion: "),g=r(g,u.length>1);for(var B=0;B<g.length;B++)B>0&&l.append(","),l.append(g[B]);l.append("<br>")}if(s.length>0){l.append("Mutation: "),s=r(s,u.length>1);for(B=0;B<s.length;B++)B>0&&l.append(", "),l.append(s[B]);l.append("<br>")}if(c.length>0){l.append("Copy Number Alteration: "),c=function(e,t){var n=new d.a,r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;n.increment(s.hugo_gene_symbol,s.cna,s.oncokb_oncogenic)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n.entries().map(function(e){var n=h(e.key,3),r=n[0],o=n[1],a=n[2],u=e.value,l=i()("<span>").addClass("nobreak");return l.append('<b class="nobreak">'.concat(r," ").concat(o,"</b>")),a&&l.append("<img src=".concat(y,' title="').concat(a,'" style="height:11px; width:11px;margin-left:3px"/>')),t&&l.append("&nbsp;(".concat(u,")")),l})}(c,u.length>1);for(B=0;B<c.length;B++)B>0&&l.append(", "),l.append(c[B]);l.append("<br>")}if(m.length>0){l.append("MRNA: "),m=o(m,u.length>1);for(B=0;B<m.length;B++)B>0&&l.append(", "),l.append(m[B]);l.append("<br>")}if(v.length>0){l.append("PROT: "),v=o(v,u.length>1);for(B=0;B<v.length;B++)B>0&&l.append(", "),l.append(v[B]);l.append("<br>")}var F=t&&t(),q=new d.a,U=new d.a,V=new d.a,z=new d.a,H=0,K=0,W=!0,Q=!1,Y=void 0;try{for(var X,Z=u[Symbol.iterator]();!(W=(X=Z.next()).done);W=!0){var J=X.value,$=I(J.profiled_in,J.not_profiled_in,n,F),ee=!0,te=!1,ne=void 0;try{for(var re,oe=$.dispProfiledGenePanelIds[Symbol.iterator]();!(ee=(re=oe.next()).done);ee=!0){var ie=re.value;q.increment(ie)}}catch(e){te=!0,ne=e}finally{try{ee||null==oe.return||oe.return()}finally{if(te)throw ne}}var ae=!0,ue=!1,le=void 0;try{for(var se,ce=$.dispNotProfiledGenePanelIds[Symbol.iterator]();!(ae=(se=ce.next()).done);ae=!0){var pe=se.value;U.increment(pe)}}catch(e){ue=!0,le=e}finally{try{ae||null==ce.return||ce.return()}finally{if(ue)throw le}}if($.dispProfiledIn){var de=!0,fe=!1,he=void 0;try{for(var me,ye=$.dispProfiledIn[Symbol.iterator]();!(de=(me=ye.next()).done);de=!0){var ve=me.value;V.increment(ve)}}catch(e){fe=!0,he=e}finally{try{de||null==ye.return||ye.return()}finally{if(fe)throw he}}}if($.dispNotProfiledIn){var ge=!0,be=!1,Se=void 0;try{for(var Te,Ce=$.dispNotProfiledIn[Symbol.iterator]();!(ge=(Te=Ce.next()).done);ge=!0){var Pe=Te.value;z.increment(Pe)}}catch(e){be=!0,Se=e}finally{try{ge||null==Ce.return||Ce.return()}finally{if(be)throw Se}}}$.dispAllProfiled?H+=1:$.dispNotProfiled&&(K+=1)}}catch(e){Q=!0,Y=e}finally{try{W||null==Z.return||Z.return()}finally{if(Q)throw Y}}var Ae=q.entries(),Ie=U.entries();if(Ae.length||Ie.length){l.append("Gene Panels: ");var Ee=!1,Oe=!0,_e=!1,we=void 0;try{for(var ke,Me=Ae[Symbol.iterator]();!(Oe=(ke=Me.next()).done);Oe=!0){var Ge=ke.value;Ee&&l.append(",&nbsp;"),Ee=!0,l.append(T(Ge.key[0],!0,u.length>1?Ge.value:void 0))}}catch(e){_e=!0,we=e}finally{try{Oe||null==Me.return||Me.return()}finally{if(_e)throw we}}var Ne=!0,xe=!1,Re=void 0;try{for(var De,je=Ie[Symbol.iterator]();!(Ne=(De=je.next()).done);Ne=!0){var Le=De.value;q.has.apply(q,f(Le.key))||(Ee&&l.append(",&nbsp;"),Ee=!0,l.append(T(Le.key[0],!1,u.length>1?Le.value:void 0)))}}catch(e){xe=!0,Re=e}finally{try{Ne||null==je.return||je.return()}finally{if(xe)throw Re}}l.append("<br>")}var Be=V.entries(),Fe=z.entries();return H===u.length?(l.append("Profiled in all selected molecular profiles."+(u.length>1?" (".concat(H,")"):"")),l.append("<br>")):K===u.length?(l.append("Not profiled in selected molecular profiles."+(u.length>1?" (".concat(K,")"):"")),l.append("<br>")):(Be.length&&(l.append("Profiled in: "+Be.map(function(e){var t=e.key[0],n=t;return F&&t in F&&(n=F[t].name),'<span class="nobreak">'.concat(n).concat(u.length>1?" (".concat(e.value,")"):"","</span>")}).join(", ")),l.append("<br>")),Fe.length&&(l.append("<span class=\"nobreak\" style='color:red; font-weight:bold'>Not profiled in: "+Fe.map(function(e){var t=e.key[0],n=t;return F&&t in F&&(n=F[t].name),'<span class="nobreak">'.concat(n).concat(u.length>1?" (".concat(e.value,")"):"","</span>")}).join(", ")+"</span>"),l.append("<br>")),H>0&&(l.append("Profiled in all selected molecular profiles."+(u.length>1?" (".concat(H,")"):"")),l.append("<br>")),K>0&&(l.append("Not profiled in selected molecular profiles."+(u.length>1?" (".concat(K,")"):"")),l.append("<br>"))),l}}},802:function(e,t,n){},803:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__22mhB",framedImage:"styles-module__framedImage__-4l6t",Checkboxes:"styles-module__Checkboxes__2oyZv",Tendency:"styles-module__Tendency__2Y46X",Significant:"styles-module__Significant__34YnP"}},810:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=v(n(9)),i=v(n(896)),a=v(n(761)),u=v(n(898)),l=v(n(899)),s=v(n(811)),c=v(n(1)),p=v(n(0)),d=v(n(21)),f=v(n(812)),h=v(n(813)),m=v(n(814)),y=v(n(815));function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.onWindowScroll=function(){o.onUpdate()},o.onDocumentClick=function(){(0,s.default)(function(){return o.onUpdate()})},o.onUpdate=function(){if(o._isMounted){var e=o.props,t=e.offsetTop,n=e.viewportOffsetTop,r=(0,l.default)((0,y.default)(o))+(n||0);r<=t?o.updateState("top",null,null):r>o.getPositionTopMax()?"bottom"===o.state.affixed?o.updateStateAtBottom():o.setState({affixed:"bottom",position:"absolute",top:null},function(){o._isMounted&&o.updateStateAtBottom()}):o.updateState("affix","fixed",n)}},o.getPositionTopMax=function(){return(0,h.default)((0,m.default)(o))-(0,i.default)(d.default.findDOMNode(o))-o.props.offsetBottom},o.updateState=function(e,t,n){if(e!==o.state.affixed||t!==o.state.position||n!==o.state.top){var r="affix"===e?"":e.charAt(0).toUpperCase()+e.substr(1);o.props["onAffix"+r]&&o.props["onAffix"+r](),o.setState({affixed:e,position:t,top:n},function(){o.props["onAffixed"+r]&&o.props["onAffixed"+r]()})}},o.updateStateAtBottom=function(){var e=o.getPositionTopMax(),t=(0,u.default)(d.default.findDOMNode(o)),n=(0,a.default)(t).top;o.updateState("bottom","absolute",e-n)},o.state={affixed:"top",position:null,top:null},o._needPositionUpdate=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,f.default)((0,y.default)(this),"scroll",function(){return e.onWindowScroll()}),this._documentClickListener=(0,f.default)((0,m.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},t.prototype.render=function(){var e=p.default.Children.only(this.props.children),t=e.props,n=t.className,i=t.style,a=this.state,u=a.affixed,l={position:a.position,top:a.top},s=void 0,c=void 0;return"top"===u?(s=this.props.topClassName,c=this.props.topStyle):"bottom"===u?(s=this.props.bottomClassName,c=this.props.bottomStyle):(s=this.props.affixClassName,c=this.props.affixStyle),p.default.cloneElement(e,{className:(0,o.default)(s,n),style:r({},l,c,i)})},t}(p.default.Component);g.propTypes={offsetTop:c.default.number,viewportOffsetTop:c.default.number,offsetBottom:c.default.number,topClassName:c.default.string,topStyle:c.default.object,affixClassName:c.default.string,affixStyle:c.default.object,bottomClassName:c.default.string,bottomStyle:c.default.object,onAffix:c.default.func,onAffixed:c.default.func,onAffixTop:c.default.func,onAffixedTop:c.default.func,onAffixBottom:c.default.func,onAffixedBottom:c.default.func},g.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},t.default=g,e.exports=t.default},811:function(e,t,n){"use strict";var r=n(760);t.__esModule=!0,t.default=void 0;var o,i=r(n(900)),a="clearTimeout",u=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),r=setTimeout(e,n);return s=t,r},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some(function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),u=function(e){return window[t](e)}});var s=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var c=o;t.default=c,e.exports=t.default},812:function(e,t,n){e.exports=n(16)(469)},813:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Math.max(e.documentElement.offsetHeight||0,e.height||0,e.body.scrollHeight||0,e.body.offsetHeight||0)},e.exports=t.default},814:function(e,t,n){e.exports=n(16)(169)},815:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(r.default.findDOMNode(e))};var r=i(n(21)),o=i(n(901));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},816:function(e,t,n){"use strict";var r=n(0),o=n(2),i=n(7),a=n(817),u=n.n(a),l=n(4),s=n(608),c=n(574),p=n(101),d=n(762),f=n(8),h=n(9),m=n.n(h),y=n(3),v=n(597);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=function(e){function t(){return b(this,t),S(this,T(t).apply(this,arguments))}return C(t,d["a"]),t}(),O=function(e){function t(){var e;return b(this,t),(e=S(this,T(t).apply(this,arguments)))._columns=[{name:e.props.firstColumnHeaderName,render:function(t){return r.createElement(i.Observer,null,function(){return r.createElement("div",{className:m()(u.a.option,"add-chart-option"),"data-test":"add-chart-option-".concat(t.label.toLowerCase().replace(/\s/g,"-"))},r.createElement(s.a,{checked:t.selected,disabled:t.disabled,labelProps:{className:m()(u.a.label,t.disabled?u.a.labelDisabled:"")},inputProps:{className:u.a.input},onChange:function(){return e.onOptionChange(t)}},r.createElement(y.f,{text:t.label})))})},filter:function(e,t,n){return e.label.toUpperCase().includes(n)},sortBy:function(e){return e.label},width:320,defaultSortDirection:"asc"},{name:"Freq",tooltip:r.createElement("span",null,Object(v.a)(e.props.frequencyHeaderTooltip,"% samples with data")),render:function(t){return r.createElement("span",{style:{display:"flex",flexDirection:"row-reverse"},className:m()(t.disabled?u.a.labelDisabled:"")},e.props.freqPromise.isComplete?Object(c.O)(t.freq):"")},sortBy:function(e){return e.freq},headerRender:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"row-reverse",flexGrow:1}},"Freq")},defaultSortDirection:"desc",width:60}],e}var n,o,a;return C(t,r["Component"]),n=t,(o=[{key:"getCurrentSelectedRows",value:function(){return this.options.filter(function(e){return e.selected})}},{key:"getCurrentSelectedRowKeys",value:function(){return this.getCurrentSelectedRows().map(function(e){return e.key})}},{key:"addAll",value:function(e){this.props.onAddAll(l.filter(e,function(e){return!e.disabled}).map(function(e){return e.key}))}},{key:"removeAll",value:function(e){this.props.onClearAll(e.map(function(e){return e.key}))}},{key:"onOptionChange",value:function(e){this.props.onToggleOption(e.key)}},{key:"render",value:function(){return r.createElement("div",{style:{display:"flex",flexDirection:"column"},"data-test":"add-by-type"},this.props.freqPromise.isComplete&&r.createElement(E,{width:380,height:this.tableHeight,columns:this._columns,data:this.options,showControlsAtTop:!0,addAll:this.addAll,removeAll:this.removeAll,showSelectableNumber:!0,showAddRemoveAllButtons:!0,autoFocusSearchAfterRendering:!0,removeAllDisabled:!l.some(this.options,function(e){return e.selected}),hideControls:this.props.hideControls}),this.props.freqPromise.isPending&&r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:100}},r.createElement(p.a,{isLoading:!0}),r.createElement("br",null),"Calculating data availability..."))}},{key:"options",get:function(){var e=this;if(this.props.freqPromise.isComplete){var t=l.reduce(this.props.options,function(t,n){var r=0===e.props.freqPromise.result[n.key];return t.push({label:n.label,key:n.key,disabled:r,selected:n.selected,freq:r?0:e.props.freqPromise.result[n.key]}),t},[]);return this.props.optionsGivenInSortedOrder?t:t.sort(function(e,t){return t.freq-e.freq||e.label.localeCompare(t.label)})}var n=this.props.options.map(function(e){return Object.assign({freq:100},e)});return this.props.optionsGivenInSortedOrder?n:n.sort(function(e,t){return e.label.localeCompare(t.label)})}},{key:"tableHeight",get:function(){return this.options.length>15?375:25*(this.options.length+1)}}])&&g(n.prototype,o),a&&g(n,a),t}();O.defaultProps={firstColumnHeaderName:"Name",hideControls:!1},I([o.computed],O.prototype,"options",null),I([o.computed],O.prototype,"tableHeight",null),I([f.default],O.prototype,"getCurrentSelectedRows",null),I([f.default],O.prototype,"getCurrentSelectedRowKeys",null),I([f.default,o.action],O.prototype,"addAll",null),I([f.default,o.action],O.prototype,"removeAll",null),I([f.default,o.action],O.prototype,"onOptionChange",null),O=I([i.observer],O),t.a=O},817:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1Knza",framedImage:"styles-module__framedImage__p1p-k",main:"styles-module__main__2V5AI",operations:"styles-module__operations__2tHBt",options:"styles-module__options__2V0tE",option:"styles-module__option__dhLVt",footer:"styles-module__footer__8u68Z",input:"styles-module__input__2Zk8R",label:"styles-module__label__YKqSs",labelDisabled:"styles-module__labelDisabled__3jDaR"}},818:function(e,t,n){e.exports=n(16)(452)},819:function(e,t,n){e.exports=n(16)(835)},820:function(e,t,n){e.exports=n(16)(358)},821:function(e,t,n){e.exports=n(16)(824)},822:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+CiAgPCEtLU5vIGxldmVsIGljb25zLS0+CiAgICAgIDxnICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LCA3KSI+CiAgICAgICAgPGNpcmNsZSByPSI2IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIzIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIxLjUiIGZpbGw9IiMwMDdGRkYiIHN0cm9rZT0ibm9uZSI+PC9jaXJjbGU+CiAgICAgIDwvZz4KPC9zdmc+"},823:function(e,t,n){},824:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__quCC8",framedImage:"styles-module__framedImage__2pTmh",scrollbar:"styles-module__scrollbar__-BNTg",handle:"styles-module__handle__2PODi"}},825:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return f});var r=n(4),o=n.n(r),i=n(583),a=n(592);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,s="N/A",c=/^((?:[^\(\)])+)(?:\(([^\(\)]+)\))?$/,p=/^(?:[^\/]+\/)+[^\/]+$/;function d(e){var t=e.trim().split("\n").map(function(e){return e.trim().split(/\s+/)});if(0===t.length)return{status:"complete",result:{headers:[],data:[]},error:void 0};try{var n=function(e){e.shift();var t="Clinical data input error in line 1 (header): ",n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,d=s.match(c);if(!d)throw new Error("".concat(t,"misformatted attribute name ").concat(s));var f=d[2]||l.STRING,h=void 0;if(f!==l.NUMBER&&f!==l.LOG_NUMBER&&f!==l.STRING){if(!p.test(f))throw new Error("".concat(t,"invalid track data type ").concat(f));h=f.split("/"),f=l.COUNTS}n.push({clinicalAttributeName:d[1],datatype:f,countsCategories:h})}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t.shift()),r=t.map(function(e,t){var r="Clinical data input error on line ".concat(t+2,": \n").concat(e.join("\t"),"\n\n");if(e.length===n.length+1)return{sampleId:e[0],orderedValues:e.slice(1)};throw new Error("".concat(r,"data lines must have ").concat(n.length+1," columns, the same number as in the header."))});return{status:"complete",result:{headers:n,data:r.filter(function(e){return!!e})},error:void 0}}catch(e){return{status:"error",result:void 0,error:e.message}}}function f(e,t,n){var r=function(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var p=a.value;n[p.clinicalAttributeName]=[]}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t.forEach(function(t,r){for(var o="Clinical data input error on line ".concat(r+2,": \n\n"),i=0;i<e.length;i++){var a=t.orderedValues[i];if(a===s)n[e[i].clinicalAttributeName].push({sample:t.sampleId,attr_id:e[i].clinicalAttributeName,attr_val_counts:{},attr_val:"",uid:t.sampleId,na:!0});else{var c=void 0,p=void 0;!function(){switch(e[i].datatype){case l.STRING:c=u({},a,1),p=a;break;case l.NUMBER:case l.LOG_NUMBER:var t=parseFloat(a);if(isNaN(t))throw new Error("".concat(o," input ").concat(a," is not valid for numerical track ").concat(e[i].clinicalAttributeName));c=u({},t,1),p=t;break;case l.COUNTS:var n=a.split("/").map(parseFloat);if(n.length!==e[i].countsCategories.length)throw new Error("".concat(o," input ").concat(a," is not valid - must have ").concat(e[i].countsCategories.length," values to match with header, but only has ").concat(n.length));c=e[i].countsCategories.reduce(function(e,t,r){return e[t]=n[r],e},{}),p=c}}(),n[e[i].clinicalAttributeName].push({sample:t.sampleId,attr_id:e[i].clinicalAttributeName,attr_val_counts:c,attr_val:p,uid:t.sampleId,na:a===s})}}}),n}(e,t),c=o.a.keyBy(n||[]);r=o.a.mapValues(r,function(e){return e.filter(function(e){return!(e.sample in c)})});Object(i.j)();return e.map(function(e){var t,n,o,i,u=r[e.clinicalAttributeName];switch(e.datatype){case l.STRING:t="string";break;case l.NUMBER:case l.LOG_NUMBER:t="number",n=function(e){var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;isNaN(l.attr_val)||(t=Math.min(t,l.attr_val),n=Math.max(n,l.attr_val))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return[t,n]}(u);break;case l.COUNTS:t="counts","mutation_spectrum"===e.clinicalAttributeName.toLowerCase()&&e.countsCategories.length===a.b.length&&(o=a.b)}return{key:(i=e.clinicalAttributeName,"clinicalTrack_".concat(i)),attributeId:e.clinicalAttributeName,label:e.clinicalAttributeName,data:u,datatype:t,description:"",numberRange:n,numberLogScale:e.datatype===l.LOG_NUMBER||void 0,countsCategoryLabels:e.countsCategories,countsCategoryFills:o}})}!function(e){e.NUMBER="number",e.LOG_NUMBER="lognumber",e.STRING="string",e.COUNTS="counts"}(l||(l={}))},860:function(e,t,n){e.exports=n(16)(367)},861:function(e,t,n){e.exports=n(16)(329)},862:function(e,t,n){e.exports=n(16)(878)},863:function(e,t,n){e.exports=n(16)(167)},864:function(e,t,n){e.exports=n(16)(877)},865:function(e,t,n){e.exports=n(16)(360)},866:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(746),a=n(8),u=n(3);n(587);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.distinguishDrivers="0",e.annotateOncoKb="1",e.annotateHotspots="2",e.annotateCBioPortal="3",e.annotateCOSMIC="4",e.customDriverBinaryAnnotation="5"}(f||(f={}));var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var o,a,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),o=t,(a=[{key:"onInputClick",value:function(e){switch(e.target.value){case f.distinguishDrivers:this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case f.annotateOncoKb:this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case f.annotateHotspots:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case f.annotateCBioPortal:this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case f.annotateCOSMIC:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case f.customDriverBinaryAnnotation:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByDriver",type:"checkbox",value:f.distinguishDrivers,checked:this.props.state.distinguishDrivers,onClick:this.onInputClick})," ","Putative drivers vs VUS:")),r.createElement("div",{style:{marginLeft:"20px"}},!this.props.state.annotateDriversOncoKbDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateOncoKb,checked:this.props.state.annotateDriversOncoKb,onClick:this.onInputClick,"data-test":"annotateOncoKb",disabled:this.props.state.annotateDriversOncoKbError}),this.props.state.annotateDriversOncoKbError&&r.createElement(i.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading OncoKb data. Please refresh the page or try again later.")}),r.createElement(u.c,{overlay:r.createElement("span",null,"Oncogenicity from OncoKB"),placement:"top"},r.createElement("img",{src:n(933),style:{maxHeight:"12px",cursor:"pointer",marginRight:"5px"}})),"driver annotation")),this.props.handlers.onSelectAnnotateHotspots&&!this.props.state.annotateDriversHotspotsDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateHotspots,checked:this.props.state.annotateDriversHotspots,onClick:this.onInputClick,"data-test":"annotateHotspots",disabled:this.props.state.annotateDriversHotspotsError}),this.props.state.annotateDriversHotspotsError&&r.createElement(i.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading Hotspots data. Please refresh the page or try again later.")}),"Hotspots",r.createElement(u.c,{overlay:r.createElement("div",{style:{maxWidth:"400px"}},"Identified as a recurrent hotspot (statistically significant) in a population-scale cohort of tumor samples of various cancer types using methodology based in part on"," ",r.createElement("a",{href:Object(u.F)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016."),"Explore all mutations at"," ",r.createElement("a",{href:"https://www.cancerhotspots.org",target:"_blank"},"https://cancerhotspots.org")),placement:"top"},r.createElement("img",{src:n(690),style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}})))),this.props.handlers.onChangeAnnotateCBioPortalInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateCBioPortal,checked:this.props.state.annotateDriversCBioPortal,onClick:this.onInputClick,"data-test":"annotateCBioPortalCount"}),"cBioPortal >="),r.createElement(u.e,{value:this.props.state.annotateCBioPortalInputValue||"",setValue:this.props.handlers.onChangeAnnotateCBioPortalInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),this.props.handlers.onChangeAnnotateCOSMICInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateCOSMIC,checked:this.props.state.annotateDriversCOSMIC,onClick:this.onInputClick,"data-test":"annotateCOSMICCount"}),"COSMIC >="),r.createElement(u.e,{value:this.props.state.annotateCOSMICInputValue||"",setValue:this.props.handlers.onChangeAnnotateCOSMICInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),!!this.props.state.customDriverAnnotationBinaryMenuLabel&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.state.annotateCustomDriverBinary,value:f.customDriverBinaryAnnotation,onClick:this.onInputClick,"data-test":"annotateCustomBinary"})," ",this.props.state.customDriverAnnotationBinaryMenuLabel,r.createElement("img",{src:n(753),alt:"driver filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}))),!!this.props.state.customDriverAnnotationTiersMenuLabel&&r.createElement("span",null,r.createElement("span",{className:"caret"}),"  ",r.createElement("span",null,this.props.state.customDriverAnnotationTiersMenuLabel)," ",r.createElement("img",{src:n(754),alt:"driver tiers filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}),r.createElement("div",{style:{marginLeft:"30px"}},(this.props.state.customDriverAnnotationTiers||[]).map(function(t){return r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:t,checked:!(!e.props.state.selectedCustomDriverAnnotationTiers||!e.props.state.selectedCustomDriverAnnotationTiers.get(t)),onClick:e.props.handlers.onCustomDriverTierCheckboxClick})," ",t))})))))}}])&&l(o.prototype,a),d&&l(o,d),t}();h([a.default],m.prototype,"onInputClick",null),m=h([o.observer],m),t.a=m},867:function(e,t,n){e.exports=n(16)(128)},868:function(e,t,n){e.exports=n(16)(26)},869:function(e,t,n){e.exports=n(16)(335)},870:function(e,t,n){"use strict";n.d(t,"l",function(){return C}),n.d(t,"j",function(){return P}),n.d(t,"i",function(){return A}),n.d(t,"d",function(){return I}),n.d(t,"c",function(){return E}),n.d(t,"b",function(){return O}),n.d(t,"k",function(){return w}),n.d(t,"h",function(){return M}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return N}),n.d(t,"g",function(){return x}),n.d(t,"a",function(){return R}),n.d(t,"m",function(){return D});var r=n(2),o=n(6),i=n(4),a=n.n(i),u=n(624),l=n(570),s=n(598),c=n(619),p=n(3),d=n(22),f=n(572),h=n(182),m=n(585),y=n(671),v=n(628),g=n(573),b=n(588),S=n(611),T=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function u(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})};function C(e){return e.hasOwnProperty("alteration")}function P(e){var t,n,i;return e.existCustomDrivers?(t=!1,n=!1,i=!0):(t=!0,n=!1,i=!1),Object(r.observable)({cbioportalCountThreshold:0,_oncoKb:t,_cbioportalCount:n,_customBinary:i,_excludeVUS:!1,hotspots:!1,get customBinary(){return this._customBinary},set customBinary(t){this._customBinary=t,e.customDriverWarningHidden=!0},get cbioportalCount(){return this._cbioportalCount},set cbioportalCount(t){this._cbioportalCount=t,e.customDriverWarningHidden=!0},set oncoKb(t){this._oncoKb=t,e.customDriverWarningHidden=!0},get oncoKb(){return!(!o.b.serverConfig.show_oncokb||!this._oncoKb||e.didOncoKbFail)},set excludeVUS(e){this._excludeVUS=e},get excludeVUS(){return this._excludeVUS&&this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.cbioportalCount||this.hotspots||e.existCustomDrivers&&this.customBinary}})}function A(e){return a.a.chain(e).map(function(e){return e.sampleId}).uniq().value()}function I(e){return a.a.chain(e).filter(function(e){return C(e)}).map(function(e){return e.hugoGeneSymbol}).uniq().value()}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.a;return T(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof Error)){r.next=2;break}return r.abrupt("return",new Error);case 2:if(0!==(o=a.a.chain(t).filter(function(t){return!!e[t.entrezGeneId]}).filter(function(e){return void 0!==e.proteinPosStart&&void 0!==e.proteinPosEnd}).value()).length){r.next=5;break}return r.abrupt("return",f.b);case 5:return r.abrupt("return",Object(f.gb)(o.map(function(e){return{entrezGeneId:e.entrezGeneId,alteration:e.proteinChange,proteinPosStart:e.proteinPosStart,proteinPosEnd:e.proteinPosEnd,mutationType:e.mutationType,tumorType:null}}),n,[p.g.ONCOGENIC]));case 6:case"end":return r.stop()}},r)}))}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.a;return T(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof Error)){r.next=2;break}return r.abrupt("return",new Error);case 2:if(0!==(o=a.a.chain(t).filter(function(t){return!!e[t.entrezGeneId]}).filter(function(e){return e.molecularProfileAlterationType===l.a.COPY_NUMBER_ALTERATION}).value()).length){r.next=5;break}return r.abrupt("return",f.b);case 5:return i=a.a.chain(o).map(function(e){return Object(p.x)(e.entrezGeneId,null,Object(v.a)(e.value),[p.g.ONCOGENIC])}).uniqBy("id").value(),r.abrupt("return",Object(f.fb)(i,n));case 7:case"end":return r.stop()}},r)}))}function _(e,t){var n={driverTiersFilter:"",driverTiersFilterAnnotation:"",oncoKbOncogenic:"",isHotspot:!1,putativeDriver:!1,hugoGeneSymbol:e.hugoGeneSymbol,proteinChange:e.proteinChange,mutationStatus:e.isGermline?S.c:"",driverFilter:e.isCustomDriver?S.d:"",driverFilterAnnotation:e.isCustomDriver?"You indicated that this mutation is a driver.":"",molecularProfileAlterationType:void 0,alterationSubType:"",value:void 0,mutationType:"",entrezGeneId:0,proteinPosStart:void 0,proteinPosEnd:void 0},r=t[e.hugoGeneSymbol];if(r&&(n.entrezGeneId=r.entrezGeneId),n.proteinChange){var o=Object(d.k)(n.proteinChange);o&&(n.proteinPosStart=o.start,n.proteinPosEnd=o.end)}switch(e.alteration){case"missense":n=Object.assign(n,{molecularProfileAlterationType:l.a.MUTATION_EXTENDED,alterationSubType:"missense",mutationType:"missense_mutation"});break;case"inframe":n=Object.assign(n,{molecularProfileAlterationType:l.a.MUTATION_EXTENDED,alterationSubType:"inframe",mutationType:"indel"});break;case"fusion":n=Object.assign(n,{molecularProfileAlterationType:l.a.MUTATION_EXTENDED,mutationType:"fusion"});break;case"promoter":n=Object.assign(n,{molecularProfileAlterationType:l.a.MUTATION_EXTENDED,proteinChange:"promoter"});break;case"trunc":n=Object.assign(n,{molecularProfileAlterationType:l.a.MUTATION_EXTENDED,alterationSubType:"nonsense",mutationType:"nonsense"});break;case"other":n=Object.assign(n,{molecularProfileAlterationType:l.a.MUTATION_EXTENDED,alterationSubType:"other"});break;case"amp":n=Object.assign(n,{molecularProfileAlterationType:l.a.COPY_NUMBER_ALTERATION,alterationSubType:s.a[2],value:2});break;case"homdel":n=Object.assign(n,{molecularProfileAlterationType:l.a.COPY_NUMBER_ALTERATION,alterationSubType:s.a[-2],value:-2});break;case"gain":n=Object.assign(n,{molecularProfileAlterationType:l.a.COPY_NUMBER_ALTERATION,alterationSubType:s.a[1],value:1});break;case"hetloss":n=Object.assign(n,{molecularProfileAlterationType:l.a.COPY_NUMBER_ALTERATION,alterationSubType:s.a[-1],value:-1});break;case"mrnaHigh":n=Object.assign(n,{molecularProfileAlterationType:l.a.MRNA_EXPRESSION,alterationSubType:"high"});break;case"mrnaLow":n=Object.assign(n,{molecularProfileAlterationType:l.a.MRNA_EXPRESSION,alterationSubType:"low"});break;case"protHigh":n=Object.assign(n,{molecularProfileAlterationType:l.a.PROTEIN_LEVEL,alterationSubType:"high"});break;case"protLow":n=Object.assign(n,{molecularProfileAlterationType:l.a.PROTEIN_LEVEL,alterationSubType:"low"})}return n}function w(e){return e.disp_mut||e.disp_cna||e.disp_mrna||e.disp_prot||e.disp_fusion}function k(e){var t=a.a.chain(e).filter(w).size().value();return Object(u.p)(t,e.length)}function M(e,t,n){var r={},o=e.filter(function(e){return C(e)}),i=!0,u=!1,l=void 0;try{for(var s,c=o[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var p=s.value;p.hugoGeneSymbol in r||(r[p.hugoGeneSymbol]={});var d=r[p.hugoGeneSymbol];p.sampleId in d||(d[p.sampleId]=[]);var f=_(p,t);n&&g.b.test(f.mutationStatus)||d[p.sampleId].push(f)}}catch(e){u=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(u)throw l}}var h=!0,m=!1,y=void 0;try{for(var v,b=function(){var e=v.value;a.a.forEach(r,function(t,n){e.sampleId in t||(t[e.sampleId]=[])})},S=e[Symbol.iterator]();!(h=(v=S.next()).done);h=!0)b()}catch(e){m=!0,y=e}finally{try{h||null==S.return||S.return()}finally{if(m)throw y}}return a.a.mapValues(r,function(e){return a.a.chain(e).map(function(e,t){return{sampleId:t,data:e}}).value()})}function G(e){return a.a.mapValues(e,function(e,t){return e.map(function(e){return Object(c.a)({sample:e.sampleId,patient:e.sampleId,study_id:"",uid:e.sampleId},t,e.data)})})}function N(e){return"geneticTrack_".concat(e)}function x(e,t,n){var r=a.a.keyBy(n||[]);e=a.a.mapValues(e,function(e){return e.filter(function(e){return!(e.sample in r)})});var o=a.a.mapValues(e,k);return(t?t.filter(function(t){return t in e}):Object.keys(e)).map(function(t){return{key:N(t),label:t,info:o[t],data:e[t]}})}function R(e,t,n,r){var o=function(e){return""};if(t.oncoKbCna.isComplete&&!(t.oncoKbCna.result instanceof Error)){var i=t.oncoKbCna.result.indicatorMap;o=function(e){var t=Object(p.A)(e.entrezGeneId,null,Object(v.a)(e.value)),n=i[t];return n?Object(m.p)(n):""}}var u=function(e){return""};if(t.oncoKb&&t.oncoKb.isComplete&&!(t.oncoKb.result instanceof Error)){var s=t.oncoKb.result.indicatorMap;u=function(e){var t=Object(p.A)(e.entrezGeneId,null,e.proteinChange,e.mutationType),n=s[t];return n?Object(m.p)(n):""}}var c=function(e){return!1};if(t.cbioportalCount&&t.cbioportalCount.isComplete){var d=t.cbioportalCount.result,f=n.cbioportalCountThreshold;c=function(e){if(e.molecularProfileAlterationType===l.a.MUTATION_EXTENDED){var t=Object(y.b)(e),n=d[t];return f<=n}return!1}}return a.a.mapValues(e,function(e,t){return e.map(function(e){var t=a.a.clone(e);return t.data=t.data.filter(function(e){switch(delete e.oncoKbOncogenic,delete e.putativeDriver,e.molecularProfileAlterationType){case l.a.COPY_NUMBER_ALTERATION:e.oncoKbOncogenic=o(e);break;case l.a.MUTATION_EXTENDED:e.oncoKbOncogenic=u(e)}return e.molecularProfileAlterationType!==l.a.MUTATION_EXTENDED||(e.putativeDriver=!!(e.oncoKbOncogenic||n.useHotspots&&e.isHotspot||c(e)||n.useCustomBinary&&e.driverFilter===S.d),!r||e.putativeDriver)}),t},[])})}function D(e){var t=e.trim().split("\n").map(function(e){return e.trim().split(/\s+/)});try{return{status:"complete",result:t.map(function(e,n){if(0===n&&a.a.isEqual(t[0].map(function(e){return e.toLowerCase()}),["sample","gene","alteration","type"]))return null;var r="Genetic data input error on line ".concat(n+1,": \n").concat(e.join("\t"),"\n\n");if(1===e.length)return{sampleId:e[0]};if(4===e.length){var o=e[0],i=e[1],u=e[2],l=u.toLowerCase(),s=e[3],c=s.toLowerCase(),p={sampleId:o,hugoGeneSymbol:i};switch(c){case"cna":if(-1===["amp","gain","hetloss","homdel"].indexOf(l))throw new Error("".concat(r,'Alteration "').concat(u,'" is not valid - it must be "AMP", "GAIN" ,"HETLOSS", or "HOMDEL" since Type is "CNA"'));p.alteration=l;break;case"exp":if("high"===l)p.alteration="mrnaHigh";else{if("low"!==l)throw new Error("".concat(r,'Alteration "').concat(u,'" is not valid - it must be "HIGH" or "LOW" if Type is "EXP"'));p.alteration="mrnaLow"}break;case"prot":if("high"===l)p.alteration="protHigh";else{if("low"!==l)throw new Error("".concat(r,'Alteration "').concat(u,'" is not valid - it must be "HIGH" or "LOW" if Type is "PROT"'));p.alteration="protLow"}break;case"fusion":if("fusion"!==c)throw new Error("".concat(r,'Type "').concat(s,'" is not valid - it must be "FUSION" if Alteration is "FUSION"'));p.alteration=c,p.proteinChange=u;break;default:var d;try{d=Object(b.g)("GENE: ".concat(c))[0].alterations[0]}catch(e){throw new Error("".concat(r,"Mutation type ").concat(s," is not valid."))}var f=!0,h=!1,m=void 0;try{for(var y,v=d.modifiers[Symbol.iterator]();!(f=(y=v.next()).done);f=!0){switch(y.value.type){case"GERMLINE":p.isGermline=!0;break;case"DRIVER":p.isCustomDriver=!0;break;default:throw new Error("".concat(r,"Only allowed mutation modifiers are GERMLINE and DRIVER"))}}}catch(e){h=!0,m=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw m}}var g=d.constr_val.toLowerCase();if(-1===["missense","inframe","promoter","trunc","other"].indexOf(g))throw new Error("".concat(r,'Type "').concat(s,'" is not valid - it must be "MISSENSE", "INFRAME", "TRUNC", "PROMOTER", or "OTHER" for a mutation alteration.'));p.alteration=g,p.proteinChange=u}return p}throw new Error("".concat(r,"input lines must have either 1 or 4 columns."))}).filter(function(e){return!!e}),error:void 0}}catch(e){return{status:"error",result:void 0,error:e.message}}}},876:function(e,t,n){"use strict";var r=n(0),o=n(4),i=n(575),a=n(7),u=n(2),l=n(651),s=n(803),c=n.n(s),p=n(9),d=n.n(p);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S,T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.TRACK_A=0]="TRACK_A",e[e.TRACK_B=1]="TRACK_B",e[e.NEITHER=2]="NEITHER",e[e.A_NOT_B=3]="A_NOT_B",e[e.B_NOT_A=4]="B_NOT_A",e[e.BOTH=5]="BOTH",e[e.LOG_ODDS_RATIO=6]="LOG_ODDS_RATIO",e[e.P_VALUE=7]="P_VALUE",e[e.Q_VALUE=8]="Q_VALUE",e[e.ASSOCIATION=9]="ASSOCIATION"}(S||(S={}));var C=function(e){function t(){return h(this,t),m(this,y(t).apply(this,arguments))}return v(t,i["b"]),t}(),P=function(e){function t(e){var n;return h(this,t),(n=m(this,y(t).call(this,e)))._columns={},n.generateColumns(),n}var n,i,a;return v(t,r["Component"]),n=t,(i=[{key:"generateColumns",value:function(){this._columns={},this._columns[S.TRACK_A]={name:"A",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackA))},tooltip:r.createElement("span",null,"A"),filter:function(e,t,n){return e.trackA.toUpperCase().includes(n)},sortBy:function(e){return e.trackA},download:function(e){return e.trackA}},this._columns[S.TRACK_B]={name:"B",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackB))},tooltip:r.createElement("span",null,"B"),filter:function(e,t,n){return e.trackB.toUpperCase().includes(n)},sortBy:function(e){return e.trackB},download:function(e){return e.trackB}},this._columns[S.NEITHER]={name:"Neither",render:function(e){return r.createElement("span",null,e.neitherCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in neither A nor B"),sortBy:function(e){return e.neitherCount},download:function(e){return e.neitherCount.toString()}},this._columns[S.A_NOT_B]={name:"A Not B",render:function(e){return r.createElement("span",null,e.aNotBCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in A but not in B"),sortBy:function(e){return e.aNotBCount},download:function(e){return e.aNotBCount.toString()}},this._columns[S.B_NOT_A]={name:"B Not A",render:function(e){return r.createElement("span",null,e.bNotACount)},tooltip:r.createElement("span",null,"Number of samples with alterations in B but not in A"),sortBy:function(e){return e.bNotACount},download:function(e){return e.bNotACount.toString()}},this._columns[S.BOTH]={name:"Both",render:function(e){return r.createElement("span",null,e.bothCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in both A and B"),sortBy:function(e){return e.bothCount},download:function(e){return e.bothCount.toString()}},this._columns[S.LOG_ODDS_RATIO]={name:"Log2 Odds Ratio",render:function(e){return r.createElement("span",null,Object(l.b)(e.logOddsRatio))},tooltip:r.createElement("span",{style:{display:"inline-block",maxWidth:300}},"Quantifies how strongly the presence or absence of alterations in A are associated with the presence or absence of alterations in B in the selected samples. OR = (Neither * Both) / (A Not B * B Not A)"),sortBy:function(e){return e.logOddsRatio},download:function(e){return Object(l.b)(e.logOddsRatio)}},this._columns[S.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",null,Object(l.c)(e.pValue))},tooltip:r.createElement("span",null,"Derived from one-sided Fisher Exact Test"),sortBy:function(e){return e.pValue},download:function(e){return Object(l.c)(e.pValue)}},this._columns[S.Q_VALUE]={name:"q-Value",render:function(e){return Object(l.d)(e.qValue)},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg FDR correction procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(l.c)(e.qValue)}},this._columns[S.ASSOCIATION]={name:"Tendency",render:function(e){return r.createElement("div",{className:d()(c.a.Tendency,(t={},n=c.a.Significant,o=e.qValue<.05,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},e.association);var t,n,o},tooltip:r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log2 ratio > 0"),r.createElement("td",null,": Tendency towards co-occurrence")),r.createElement("tr",null,r.createElement("td",null,"Log2 ratio <= 0"),r.createElement("td",null,": Tendency towards mutual exclusivity")),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association"))),filter:function(e,t,n){return e.association.toUpperCase().includes(n)},sortBy:function(e){return e.association},download:function(e){return e.association}}}},{key:"render",value:function(){var e=o.sortBy(this._columns,function(e){return e.order});return r.createElement(C,{columns:e,data:this.props.data,initialItemsPerPage:50,initialSortColumn:this.props.initialSortColumn,paginationProps:{itemsPerPageOptions:[50]}})}}])&&f(n.prototype,i),a&&f(n,a),t}();P.defaultProps={columns:[S.TRACK_A,S.TRACK_B,S.NEITHER,S.A_NOT_B,S.B_NOT_A,S.BOTH,S.LOG_ODDS_RATIO,S.P_VALUE,S.Q_VALUE,S.ASSOCIATION],initialSortColumn:"q-Value"},T([u.observable],P.prototype,"_columns",void 0);var A=P=T([a.observer],P),I=n(56),E=n(101),O=n(645),_=n(646);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":N(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=k(t).call(this,e))||"object"!==N(o)&&"function"!=typeof o?M(r):o).mutualExclusivityFilter=!0,n.coOccurenceFilter=!0,n.significantPairsFilter=!1,n.mutualExclusivityFilterChange=n.mutualExclusivityFilterChange.bind(M(n)),n.coOccurenceFilterChange=n.coOccurenceFilterChange.bind(M(n)),n.significantPairsFilterChange=n.significantPairsFilterChange.bind(M(n)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,r["Component"]),n=t,(i=[{key:"mutualExclusivityFilterChange",value:function(){this.mutualExclusivityFilter=!this.mutualExclusivityFilter}},{key:"coOccurenceFilterChange",value:function(){this.coOccurenceFilter=!this.coOccurenceFilter}},{key:"significantPairsFilterChange",value:function(){this.significantPairsFilter=!this.significantPairsFilter}},{key:"render",value:function(){return this.props.isSampleAlteredMap.isPending?r.createElement(E.a,{isLoading:!0}):this.props.isSampleAlteredMap.isComplete?this.notEnoughDataError?r.createElement("div",{className:"tabMessageContainer"},r.createElement("div",{className:"alert alert-info"},this.notEnoughDataError),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),this.props.store&&r.createElement(_.a,{store:this.props.store})):r.createElement("div",{"data-test":"mutualExclusivityTabDiv"},this.props.store&&r.createElement("div",{className:"tabMessageContainer"},r.createElement(O.a,{className:"mutex-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),r.createElement(_.a,{store:this.props.store})),Object(l.h)(this.data,o.size(this.isSampleAlteredFilteredMap)),r.createElement("div",{className:c.a.Checkboxes},r.createElement(I.Checkbox,{checked:this.mutualExclusivityFilter,onChange:this.mutualExclusivityFilterChange},"Mutual exclusivity"),r.createElement(I.Checkbox,{checked:this.coOccurenceFilter,onChange:this.coOccurenceFilterChange},"Co-occurrence"),r.createElement(I.Checkbox,{checked:this.significantPairsFilter,onChange:this.significantPairsFilterChange},"Significant only")),r.createElement(A,{data:this.filteredData})):null}},{key:"data",get:function(){return Object(l.e)(this.isSampleAlteredFilteredMap)}},{key:"filteredData",get:function(){return Object(l.f)(this.data,this.mutualExclusivityFilter,this.coOccurenceFilter,this.significantPairsFilter)}},{key:"isSampleAlteredFilteredMap",get:function(){return Object(l.g)(this.props.isSampleAlteredMap.result)}},{key:"filteredTrackOqls",get:function(){return o.difference(Object.keys(this.props.isSampleAlteredMap.result),Object.keys(this.isSampleAlteredFilteredMap))}},{key:"filteredTrackOqlsMessage",get:function(){return 1==this.filteredTrackOqls.length?"".concat(this.filteredTrackOqls[0]," is not profiled in any queried samples and therefore is excluded from this analysis."):this.filteredTrackOqls.length>1?"".concat(this.filteredTrackOqls.slice(0,-1).join(", ")," and ").concat(this.filteredTrackOqls.slice(-1)," are not profiled in any queried samples and therefore are excluded from this analysis."):""}},{key:"notEnoughDataError",get:function(){return o.size(this.props.isSampleAlteredMap.result)<2?"Mutual exclusivity analysis can only be performed when data from at least two genes is provided.":o.size(this.isSampleAlteredFilteredMap)<2?"Mutual exclusivity analysis can only be performed when at least two of the queried genes have been profiled in the queried samples.":null}}])&&w(n.prototype,i),a&&w(n,a),t}();x([u.observable],R.prototype,"mutualExclusivityFilter",void 0),x([u.observable],R.prototype,"coOccurenceFilter",void 0),x([u.observable],R.prototype,"significantPairsFilter",void 0),x([u.computed],R.prototype,"data",null),x([u.computed],R.prototype,"filteredData",null),x([u.computed],R.prototype,"isSampleAlteredFilteredMap",null),x([u.computed],R.prototype,"filteredTrackOqls",null),x([u.computed],R.prototype,"filteredTrackOqlsMessage",null),x([u.computed],R.prototype,"notEnoughDataError",null),R=x([a.observer],R);t.a=R},895:function(e,t,n){"use strict";t.__esModule=!0,t.RootCloseWrapper=t.Transition=t.Position=t.Portal=t.Overlay=t.Modal=t.AutoAffix=t.Affix=void 0;var r=p(n(810)),o=p(n(903)),i=p(n(906)),a=p(n(907)),u=p(n(674)),l=p(n(908)),s=p(n(909)),c=p(n(910));function p(e){return e&&e.__esModule?e:{default:e}}t.Affix=r.default,t.AutoAffix=o.default,t.Modal=i.default,t.Overlay=a.default,t.Portal=u.default,t.Position=l.default,t.Transition=s.default,t.RootCloseWrapper=c.default},896:function(e,t,n){"use strict";var r=n(760);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,o.default)(e).height};var o=r(n(761)),i=r(n(897));e.exports=t.default},897:function(e,t,n){e.exports=n(16)(248)},898:function(e,t,n){e.exports=n(16)(896)},899:function(e,t,n){e.exports=n(16)(487)},900:function(e,t,n){e.exports=n(16)(116)},901:function(e,t,n){"use strict";var r=n(760);t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e);return t&&t.defaultView||t.parentWindow};var o=r(n(902));e.exports=t.default},902:function(e,t,n){e.exports=n(16)(154)},903:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=m(n(761)),i=m(n(811)),a=m(n(1)),u=m(n(904)),l=m(n(0)),s=m(n(810)),c=m(n(812)),p=m(n(905)),d=m(n(813)),f=m(n(814)),h=m(n(815));function m(e){return e&&e.__esModule?e:{default:e}}var y=r({},s.default.propTypes,{container:a.default.oneOfType([u.default,a.default.func]),autoWidth:a.default.bool}),v=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return a.onWindowScroll=function(){a.onUpdate()},a.onWindowResize=function(){a.props.autoWidth&&(0,i.default)(function(){return a.onUpdate()})},a.onDocumentClick=function(){(0,i.default)(function(){return a.onUpdate()})},a.onUpdate=function(){if(a._isMounted){var e=(0,o.default)(a.positioner),t=e.top,n=e.width,r=(0,p.default)(a.props.container),i=void 0;if(r){var u=(0,d.default)((0,f.default)(a)),l=(0,o.default)(r);i=u-l.top-l.height}else i=null;a.updateState(t,i,n)}},a.updateState=function(e,t,n){e===a.state.offsetTop&&t===a.state.offsetBottom&&n===a.state.width||a.setState({offsetTop:e,offsetBottom:t,width:n})},a.state={offsetTop:null,offsetBottom:null,width:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,c.default)((0,h.default)(this),"scroll",function(){return e.onWindowScroll()}),this._windowResizeListener=(0,c.default)((0,h.default)(this),"resize",function(){return e.onWindowResize()}),this._documentClickListener=(0,c.default)((0,f.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},t.prototype.render=function(){var e=this,t=this.props,n=t.autoWidth,o=t.viewportOffsetTop,i=t.children,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["autoWidth","viewportOffsetTop","children"]),u=this.state,c=u.offsetTop,p=u.offsetBottom,d=u.width;delete a.container;var f=Math.max(c,o||0),h=this.props,m=h.affixStyle,y=h.bottomStyle;return n&&(m=r({width:d},m),y=r({width:d},y)),l.default.createElement("div",null,l.default.createElement("div",{ref:function(t){e.positioner=t}}),l.default.createElement(s.default,r({},a,{offsetTop:f,viewportOffsetTop:o,offsetBottom:p,affixStyle:m,bottomStyle:y}),i))},t}(l.default.Component);v.displayName="AutoAffix",v.propTypes=y,v.defaultProps={viewportOffsetTop:0,autoWidth:!0},t.default=v,e.exports=t.default},904:function(e,t,n){e.exports=n(16)(247)},905:function(e,t,n){e.exports=n(16)(249)},906:function(e,t,n){e.exports=n(16)(197)},907:function(e,t,n){e.exports=n(16)(431)},908:function(e,t,n){e.exports=n(16)(892)},909:function(e,t,n){e.exports=n(16)(328)},910:function(e,t,n){e.exports=n(16)(422)},911:function(e,t,n){},912:function(e,t,n){e.exports=n(16)(834)},914:function(e,t,n){e.exports=n(16)(200)},915:function(e,t,n){e.exports=n(16)(420)},917:function(e,t,n){e.exports=n(16)(202)},918:function(e,t,n){e.exports=n(16)(846)},919:function(e,t,n){e.exports=n(16)(244)},920:function(e,t,n){e.exports=n(16)(874)},921:function(e,t,n){e.exports=n(16)(875)},922:function(e,t,n){e.exports=n(16)(451)},923:function(e,t,n){e.exports=n(16)(833)},924:function(e,t,n){e.exports=n(16)(448)},926:function(e,t,n){e.exports=n(16)(165)},927:function(e,t,n){e.exports=n(16)(369)},928:function(e,t,n){e.exports=n(16)(879)},929:function(e,t,n){e.exports=n(16)(151)},930:function(e,t,n){e.exports=n(16)(456)},931:function(e,t,n){e.exports=n(16)(204)},933:function(e,t,n){e.exports=n.p+"reactapp/images/ac30afc0653ff15c1ea9fd9cbae0414a.png"},935:function(e,t,n){e.exports=n(16)(433)},936:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="}}]);