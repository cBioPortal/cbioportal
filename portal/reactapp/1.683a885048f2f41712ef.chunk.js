(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1040:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Collapse=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(3)),s=n(1156);function l(t){return t&&t.__esModule?t:{default:t}}var u="IDLING",c=function(){return null},p=e.Collapse=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return d.call(n),n.state={currentState:u,from:0,to:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.PureComponent),o(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.isOpened,n=t.forceInitialAnimation,r=t.onRest;if(e){var o=this.getTo();if(n){var i=this.wrapper.clientHeight;this.setState({currentState:"RESIZING",from:i,to:o})}else this.setState({currentState:u,from:o,to:o})}r()}},{key:"componentWillReceiveProps",value:function(t){t.hasNestedCollapse?t.isOpened!==this.props.isOpened&&this.setState({currentState:"WAITING"}):this.state.currentState===u&&(t.isOpened||this.props.isOpened)&&this.setState({currentState:"WAITING"})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.isOpened,o=n.onRest,i=n.onMeasure;if(this.state.currentState!==u){e.to!==this.state.to&&i({height:this.state.to,width:this.content.clientWidth});var a=this.wrapper.clientHeight,s=r?this.getTo():0;a===s?"RESTING"!==this.state.currentState&&"WAITING"!==this.state.currentState||this.setState({currentState:u,from:a,to:s}):this.setState({currentState:"RESIZING",from:a,to:s})}else o()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.raf)}},{key:"render",value:function(){return i.default.createElement(s.Motion,r({},this.getMotionProps(),{onRest:this.onRest,children:this.renderContent}))}}]),e}();p.propTypes={isOpened:a.default.bool.isRequired,springConfig:a.default.objectOf(a.default.number),forceInitialAnimation:a.default.bool,hasNestedCollapse:a.default.bool,fixedHeight:a.default.number,theme:a.default.objectOf(a.default.string),style:a.default.object,onRender:a.default.func,onRest:a.default.func,onMeasure:a.default.func,children:a.default.node.isRequired},p.defaultProps={forceInitialAnimation:!1,hasNestedCollapse:!1,fixedHeight:-1,style:{},theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},onRender:c,onRest:c,onMeasure:c};var d=function(){var t=this;this.onContentRef=function(e){t.content=e},this.onWrapperRef=function(e){t.wrapper=e},this.onRest=function(){t.raf=requestAnimationFrame(t.setResting)},this.setResting=function(){t.setState({currentState:"RESTING"})},this.getTo=function(){var e=t.props.fixedHeight;return e>-1?e:t.content.clientHeight},this.getWrapperStyle=function(e){if(t.state.currentState===u&&t.state.to){var n=t.props.fixedHeight;return n>-1?{overflow:"hidden",height:n}:{height:"auto"}}return"WAITING"!==t.state.currentState||t.state.to?{overflow:"hidden",height:Math.max(0,e)}:{overflow:"hidden",height:0}},this.getMotionProps=function(){var e=t.props.springConfig;return t.state.currentState===u?{defaultStyle:{height:t.state.to},style:{height:t.state.to}}:{defaultStyle:{height:t.state.from},style:{height:(0,s.spring)(t.state.to,r({precision:1},e))}}},this.renderContent=function(e){var n=e.height,o=t.props,a=(o.isOpened,o.springConfig,o.forceInitialAnimation,o.hasNestedCollapse,o.fixedHeight,o.theme),s=o.style,l=o.onRender,u=(o.onRest,o.onMeasure,o.children),c=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(o,["isOpened","springConfig","forceInitialAnimation","hasNestedCollapse","fixedHeight","theme","style","onRender","onRest","onMeasure","children"]),p=t.state;return l({current:n,from:p.from,to:p.to}),i.default.createElement("div",r({ref:t.onWrapperRef,className:a.collapse,style:r({},t.getWrapperStyle(Math.max(0,n)),s)},c),i.default.createElement("div",{ref:t.onContentRef,className:a.content},u))}}},1041:function(t,e,n){"use strict";e.__esModule=!0,e.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},t.exports=e.default},1042:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=v(n(44)),i=v(n(1171)),a=v(n(732)),s=v(n(769)),l=v(n(770)),u=v(n(1043)),c=v(n(3)),p=v(n(0)),d=v(n(46)),h=v(n(745)),f=v(n(1044)),m=v(n(746)),g=v(n(1045));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return o.onWindowScroll=function(){o.onUpdate()},o.onDocumentClick=function(){(0,u.default)(function(){return o.onUpdate()})},o.onUpdate=function(){if(o._isMounted){var t=o.props,e=t.offsetTop,n=t.viewportOffsetTop,r=(0,l.default)((0,g.default)(o))+(n||0);r<=e?o.updateState("top",null,null):r>o.getPositionTopMax()?"bottom"===o.state.affixed?o.updateStateAtBottom():o.setState({affixed:"bottom",position:"absolute",top:null},function(){o._isMounted&&o.updateStateAtBottom()}):o.updateState("affix","fixed",n)}},o.getPositionTopMax=function(){return(0,f.default)((0,m.default)(o))-(0,i.default)(d.default.findDOMNode(o))-o.props.offsetBottom},o.updateState=function(t,e,n){if(t!==o.state.affixed||e!==o.state.position||n!==o.state.top){var r="affix"===t?"":t.charAt(0).toUpperCase()+t.substr(1);o.props["onAffix"+r]&&o.props["onAffix"+r](),o.setState({affixed:t,position:e,top:n},function(){o.props["onAffixed"+r]&&o.props["onAffixed"+r]()})}},o.updateStateAtBottom=function(){var t=o.getPositionTopMax(),e=(0,s.default)(d.default.findDOMNode(o)),n=(0,a.default)(e).top;o.updateState("bottom","absolute",t-n)},o.state={affixed:"top",position:null,top:null},o._needPositionUpdate=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this._windowScrollListener=(0,h.default)((0,g.default)(this),"scroll",function(){return t.onWindowScroll()}),this._documentClickListener=(0,h.default)((0,m.default)(this),"click",function(){return t.onDocumentClick()}),this.onUpdate()},e.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},e.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},e.prototype.render=function(){var t=p.default.Children.only(this.props.children),e=t.props,n=e.className,i=e.style,a=this.state,s=a.affixed,l={position:a.position,top:a.top},u=void 0,c=void 0;return"top"===s?(u=this.props.topClassName,c=this.props.topStyle):"bottom"===s?(u=this.props.bottomClassName,c=this.props.bottomStyle):(u=this.props.affixClassName,c=this.props.affixStyle),p.default.cloneElement(t,{className:(0,o.default)(u,n),style:r({},l,c,i)})},e}(p.default.Component);y.propTypes={offsetTop:c.default.number,viewportOffsetTop:c.default.number,offsetBottom:c.default.number,topClassName:c.default.string,topStyle:c.default.object,affixClassName:c.default.string,affixStyle:c.default.object,bottomClassName:c.default.string,bottomStyle:c.default.object,onAffix:c.default.func,onAffixed:c.default.func,onAffixTop:c.default.func,onAffixedTop:c.default.func,onAffixBottom:c.default.func,onAffixedBottom:c.default.func},y.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},e.default=y,t.exports=e.default},1043:function(t,e,n){"use strict";var r=n(896);e.__esModule=!0,e.default=void 0;var o,i=r(n(771)),a="clearTimeout",s=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-u)),r=setTimeout(t,n);return u=e,r},l=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some(function(t){var e=l(t,"request");if(e in window)return a=l(t,"cancel"),s=function(t){return window[e](t)}});var u=(new Date).getTime();(o=function(t){return s(t)}).cancel=function(t){window[a]&&"function"==typeof window[a]&&window[a](t)};var c=o;e.default=c,t.exports=e.default},1044:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return Math.max(t.documentElement.offsetHeight||0,t.height||0,t.body.scrollHeight||0,t.body.offsetHeight||0)},t.exports=e.default},1045:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return(0,o.default)(r.default.findDOMNode(t))};var r=i(n(46)),o=i(n(1172));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1046:function(t,e,n){var r=n(725),o=n(736),i=n(726)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},1047:function(t,e,n){var r,o,i,a=n(735),s=n(1189),l=n(793),u=n(794),c=n(707),p=c.process,d=c.setImmediate,h=c.clearImmediate,f=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete v[t]},"process"==n(753)(p)?r=function(t){p.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:f?(i=(o=new f).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:h}},1048:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},1049:function(t,e,n){var r=n(725),o=n(751),i=n(899);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},1050:function(t,e,n){"use strict";(function(t){function r(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;var r,o,i="undefined"!=typeof document&&document.attachEvent;if(!i){var a=(o=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)},function(t){return o(t)}),s=(r=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(t){return r(t)}),l=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})}},c=!1,p="",d="animationstart",h="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(c=!0),!1===c)for(var g=0;g<h.length;g++)if(void 0!==m.style[h[g]+"AnimationName"]){p="-"+h[g].toLowerCase()+"-",d=f[g],c=!0;break}var v="resizeanim",y="@"+p+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=p+"animation: 1ms "+v+"; "}return{addResizeListener:function(t,r){if(i)t.attachEvent("onresize",r);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,a=n.getComputedStyle(t);a&&"static"==a.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(t.createTextNode(n)),r.appendChild(o)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),l(t),t.addEventListener("scroll",u,!0),d&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==v&&l(t)},t.__resizeTriggers__.addEventListener(d,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(i)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(d,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}n.d(e,"a",function(){return r})}).call(this,n(85))},1156:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t.default:t}e.__esModule=!0;var o=n(1157);e.Motion=r(o);var i=n(1158);e.StaggeredMotion=r(i);var a=n(1159);e.TransitionMotion=r(a);var s=n(1161);e.spring=r(s);var l=n(1041);e.presets=r(l);var u=n(884);e.stripStyle=r(u);var c=n(1162);e.reorderKeys=r(c)},1157:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(892)),a=o(n(884)),s=o(n(893)),l=o(n(894)),u=o(n(731)),c=o(n(895)),p=o(n(0)),d=o(n(3)),h=o(n(23)),f=h.default({propTypes:{defaultStyle:d.default.objectOf(d.default.number),style:d.default.objectOf(d.default.oneOfType([d.default.number,d.default.object])).isRequired,children:d.default.func.isRequired,onRest:d.default.func},getInitialState:function(){var t=this.props,e=t.defaultStyle,n=t.style,r=e||a.default(n),o=i.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(t){var e=!1,n=this.state,o=n.currentStyle,i=n.currentVelocity,a=n.lastIdealStyle,s=n.lastIdealVelocity;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var u=t[l];"number"==typeof u&&(e||(e=!0,o=r({},o),i=r({},i),a=r({},a),s=r({},s)),o[l]=u,i[l]=0,a[l]=u,s[l]=0)}e&&this.setState({currentStyle:o,currentVelocity:i,lastIdealStyle:a,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var t=this;this.animationID=u.default(function(e){var n=t.props.style;if(c.default(t.state.currentStyle,n,t.state.currentVelocity))return t.wasAnimating&&t.props.onRest&&t.props.onRest(),t.animationID=null,t.wasAnimating=!1,void(t.accumulatedTime=0);t.wasAnimating=!0;var r=e||l.default(),o=r-t.prevTime;if(t.prevTime=r,t.accumulatedTime=t.accumulatedTime+o,t.accumulatedTime>1e3/60*10&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();var i=(t.accumulatedTime-Math.floor(t.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),a=Math.floor(t.accumulatedTime/(1e3/60)),u={},p={},d={},h={};for(var f in n)if(Object.prototype.hasOwnProperty.call(n,f)){var m=n[f];if("number"==typeof m)d[f]=m,h[f]=0,u[f]=m,p[f]=0;else{for(var g=t.state.lastIdealStyle[f],v=t.state.lastIdealVelocity[f],y=0;y<a;y++){var b=s.default(1e3/60/1e3,g,v,m.val,m.stiffness,m.damping,m.precision);g=b[0],v=b[1]}var _=s.default(1e3/60/1e3,g,v,m.val,m.stiffness,m.damping,m.precision),x=_[0],S=_[1];d[f]=g+(x-g)*i,h[f]=v+(S-v)*i,u[f]=g,p[f]=v}}t.animationID=null,t.accumulatedTime-=a*(1e3/60),t.setState({currentStyle:d,currentVelocity:h,lastIdealStyle:u,lastIdealVelocity:p}),t.unreadPropStyle=null,t.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=t.style,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},render:function(){var t=this.props.children(this.state.currentStyle);return t&&p.default.Children.only(t)}});e.default=f,t.exports=e.default},1158:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(892)),a=o(n(884)),s=o(n(893)),l=o(n(894)),u=o(n(731)),c=o(n(895)),p=o(n(0)),d=o(n(3)),h=o(n(23));var f=h.default({propTypes:{defaultStyles:d.default.arrayOf(d.default.objectOf(d.default.number)),styles:d.default.func.isRequired,children:d.default.func.isRequired},getInitialState:function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=e||n().map(a.default),o=r.map(function(t){return i.default(t)});return{currentStyles:r,currentVelocities:o,lastIdealStyles:r,lastIdealVelocities:o}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(t){for(var e=this.state,n=e.currentStyles,o=e.currentVelocities,i=e.lastIdealStyles,a=e.lastIdealVelocities,s=!1,l=0;l<t.length;l++){var u=t[l],c=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var d=u[p];"number"==typeof d&&(c||(c=!0,s=!0,n[l]=r({},n[l]),o[l]=r({},o[l]),i[l]=r({},i[l]),a[l]=r({},a[l])),n[l][p]=d,o[l][p]=0,i[l][p]=d,a[l][p]=0)}}s&&this.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:i,lastIdealVelocities:a})},startAnimationIfNecessary:function(){var t=this;this.animationID=u.default(function(e){var n=t.props.styles(t.state.lastIdealStyles);if(function(t,e,n){for(var r=0;r<t.length;r++)if(!c.default(t[r],e[r],n[r]))return!1;return!0}(t.state.currentStyles,n,t.state.currentVelocities))return t.animationID=null,void(t.accumulatedTime=0);var r=e||l.default(),o=r-t.prevTime;if(t.prevTime=r,t.accumulatedTime=t.accumulatedTime+o,t.accumulatedTime>1e3/60*10&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();for(var i=(t.accumulatedTime-Math.floor(t.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),a=Math.floor(t.accumulatedTime/(1e3/60)),u=[],p=[],d=[],h=[],f=0;f<n.length;f++){var m=n[f],g={},v={},y={},b={};for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)){var x=m[_];if("number"==typeof x)g[_]=x,v[_]=0,y[_]=x,b[_]=0;else{for(var S=t.state.lastIdealStyles[f][_],w=t.state.lastIdealVelocities[f][_],C=0;C<a;C++){var k=s.default(1e3/60/1e3,S,w,x.val,x.stiffness,x.damping,x.precision);S=k[0],w=k[1]}var T=s.default(1e3/60/1e3,S,w,x.val,x.stiffness,x.damping,x.precision),M=T[0],j=T[1];g[_]=S+(M-S)*i,v[_]=w+(j-w)*i,y[_]=S,b[_]=w}}d[f]=g,h[f]=v,u[f]=y,p[f]=b}t.animationID=null,t.accumulatedTime-=a*(1e3/60),t.setState({currentStyles:d,currentVelocities:h,lastIdealStyles:u,lastIdealVelocities:p}),t.unreadPropStyles=null,t.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=t.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},render:function(){var t=this.props.children(this.state.currentStyles);return t&&p.default.Children.only(t)}});e.default=f,t.exports=e.default},1159:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(892)),a=o(n(884)),s=o(n(893)),l=o(n(1160)),u=o(n(894)),c=o(n(731)),p=o(n(895)),d=o(n(0)),h=o(n(3)),f=o(n(23));function m(t,e,n){var r=e;return null==r?t.map(function(t,e){return{key:t.key,data:t.data,style:n[e]}}):t.map(function(t,e){for(var o=0;o<r.length;o++)if(r[o].key===t.key)return{key:r[o].key,data:r[o].data,style:n[e]};return{key:t.key,data:t.data,style:n[e]}})}function g(t,e,n,r,o,a,s,u,c){for(var d=l.default(r,o,function(t,r){var o=e(r);return null==o?(n({key:r.key,data:r.data}),null):p.default(a[t],o,s[t])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:o}}),h=[],f=[],m=[],g=[],v=0;v<d.length;v++){for(var y=d[v],b=null,_=0;_<r.length;_++)if(r[_].key===y.key){b=_;break}if(null==b){var x=t(y);h[v]=x,m[v]=x;var S=i.default(y.style);f[v]=S,g[v]=S}else h[v]=a[b],m[v]=u[b],f[v]=s[b],g[v]=c[b]}return[d,h,f,m,g]}var v=f.default({propTypes:{defaultStyles:h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.number).isRequired})),styles:h.default.oneOfType([h.default.func,h.default.arrayOf(h.default.shape({key:h.default.string.isRequired,data:h.default.any,style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired}))]).isRequired,children:h.default.func.isRequired,willEnter:h.default.func,willLeave:h.default.func,didLeave:h.default.func},getDefaultProps:function(){return{willEnter:function(t){return a.default(t.style)},willLeave:function(){return null},didLeave:function(){}}},getInitialState:function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=t.willEnter,o=t.willLeave,s=t.didLeave,l="function"==typeof n?n(e):n,u=void 0;u=null==e?l:e.map(function(t){for(var e=0;e<l.length;e++)if(l[e].key===t.key)return l[e];return t});var c=null==e?l.map(function(t){return a.default(t.style)}):e.map(function(t){return a.default(t.style)}),p=null==e?l.map(function(t){return i.default(t.style)}):e.map(function(t){return i.default(t.style)}),d=g(r,o,s,u,l,c,p,c,p),h=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:h}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(t){for(var e=g(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,t,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=0;l<t.length;l++){var u=t[l].style,c=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var d=u[p];"number"==typeof d&&(c||(c=!0,o[l]=r({},o[l]),i[l]=r({},i[l]),a[l]=r({},a[l]),s[l]=r({},s[l]),n[l]={key:n[l].key,data:n[l].data,style:r({},n[l].style)}),o[l][p]=d,i[l][p]=0,a[l][p]=d,s[l][p]=0,n[l].style[p]=d)}}this.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:s})},startAnimationIfNecessary:function(){var t=this;this.unmounting||(this.animationID=c.default(function(e){if(!t.unmounting){var n=t.props.styles,r="function"==typeof n?n(m(t.state.mergedPropsStyles,t.unreadPropStyles,t.state.lastIdealStyles)):n;if(function(t,e,n,r){if(r.length!==e.length)return!1;for(var o=0;o<r.length;o++)if(r[o].key!==e[o].key)return!1;for(o=0;o<r.length;o++)if(!p.default(t[o],e[o].style,n[o]))return!1;return!0}(t.state.currentStyles,r,t.state.currentVelocities,t.state.mergedPropsStyles))return t.animationID=null,void(t.accumulatedTime=0);var o=e||u.default(),i=o-t.prevTime;if(t.prevTime=o,t.accumulatedTime=t.accumulatedTime+i,t.accumulatedTime>1e3/60*10&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();for(var a=(t.accumulatedTime-Math.floor(t.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),l=Math.floor(t.accumulatedTime/(1e3/60)),c=g(t.props.willEnter,t.props.willLeave,t.props.didLeave,t.state.mergedPropsStyles,r,t.state.currentStyles,t.state.currentVelocities,t.state.lastIdealStyles,t.state.lastIdealVelocities),d=c[0],h=c[1],f=c[2],v=c[3],y=c[4],b=0;b<d.length;b++){var _=d[b].style,x={},S={},w={},C={};for(var k in _)if(Object.prototype.hasOwnProperty.call(_,k)){var T=_[k];if("number"==typeof T)x[k]=T,S[k]=0,w[k]=T,C[k]=0;else{for(var M=v[b][k],j=y[b][k],E=0;E<l;E++){var O=s.default(1e3/60/1e3,M,j,T.val,T.stiffness,T.damping,T.precision);M=O[0],j=O[1]}var I=s.default(1e3/60/1e3,M,j,T.val,T.stiffness,T.damping,T.precision),P=I[0],A=I[1];x[k]=M+(P-M)*a,S[k]=j+(A-j)*a,w[k]=M,C[k]=j}}v[b]=w,y[b]=C,h[b]=x,f[b]=S}t.animationID=null,t.accumulatedTime-=l*(1e3/60),t.setState({currentStyles:h,currentVelocities:f,lastIdealStyles:v,lastIdealVelocities:y,mergedPropsStyles:d}),t.unreadPropStyles=null,t.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var e=t.styles;this.unreadPropStyles="function"==typeof e?e(m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):e,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},render:function(){var t=m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),e=this.props.children(t);return e&&d.default.Children.only(e)}});e.default=v,t.exports=e.default},1160:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){for(var r={},o=0;o<t.length;o++)r[t[o].key]=o;for(var i={},o=0;o<e.length;o++)i[e[o].key]=o;for(var a=[],o=0;o<e.length;o++)a[o]=e[o];for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(i,t[o].key)){var s=n(o,t[o]);null!=s&&a.push(s)}return a.sort(function(t,n){var o=i[t.key],a=i[n.key],s=r[t.key],l=r[n.key];if(null!=o&&null!=a)return i[t.key]-i[n.key];if(null!=s&&null!=l)return r[t.key]-r[n.key];if(null!=o){for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(o<i[c]&&l>r[c])return-1;if(o>i[c]&&l<r[c])return 1}}return 1}for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<i[c]&&s>r[c])return 1;if(a>i[c]&&s<r[c])return-1}}return-1})},t.exports=e.default},1161:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e){return r({},s,e,{val:t})};var o,i=n(1041),a=(o=i)&&o.__esModule?o:{default:o},s=r({},a.default.noWobble,{precision:.01});t.exports=e.default},1162:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){0};t.exports=e.default},1163:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnmountClosed=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(3)),s=n(1040);function l(t){return t&&t.__esModule?t:{default:t}}(e.UnmountClosed=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.componentWillReceiveProps=function(t){var e=t.isOpened;!n.props.isOpened&&e&&n.setState({forceInitialAnimation:!0,shouldUnmount:!1})},n.onRest=function(){var t=n.props,e=t.isOpened,r=t.onRest;e||n.setState({shouldUnmount:!0}),r&&r.apply(void 0,arguments)},n.state={shouldUnmount:!n.props.isOpened,forceInitialAnimation:!n.props.isOpened},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.PureComponent),o(e,[{key:"render",value:function(){var t=this.props,e=t.isOpened,n=(t.onRest,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["isOpened","onRest"])),o=this.state,a=o.forceInitialAnimation;return o.shouldUnmount?null:i.default.createElement(s.Collapse,r({forceInitialAnimation:a,isOpened:e,onRest:this.onRest},n))}}]),e}()).propTypes={isOpened:a.default.bool.isRequired,onRest:a.default.func}},1164:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var n=new a(t),r=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(226)&&n(817)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.alea=l}(0,t,n(226))}).call(this,n(227)(t))},1165:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(226)&&n(817)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xor128=l}(0,t,n(226))}).call(this,n(227)(t))},1166:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(226)&&n(817)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xorwow=l}(0,t,n(226))}).call(this,n(227)(t))},1167:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(226)&&n(817)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xorshift7=l}(0,t,n(226))}).call(this,n(227)(t))},1168:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,i=e.i;return e.w=r=r+1640531527|0,n=o[i+34&127],t=o[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,o,i,a,s=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),o=0,i=-32;i<l;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;t.w=a,t.X=s,t.i=o}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(226)&&n(817)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xor4096=l}(0,t,n(226))}).call(this,n(227)(t))},1169:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(226)&&n(817)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.tychei=l}(0,t,n(226))}).call(this,n(227)(t))},1170:function(t,e,n){var r;!function(o,i){var a,s=(0,eval)("this"),l=256,u=6,c="random",p=i.pow(l,u),d=i.pow(2,52),h=2*d,f=l-1;function m(t,e,n){var r=[],f=y(function t(e,n){var r,o=[],i=typeof e;if(n&&"object"==i)for(r in e)try{o.push(t(e[r],n-1))}catch(t){}return o.length?o:"string"==i?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,b(o)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(l):(t=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(t)),b(t)}catch(t){var e=s.navigator,n=e&&e.plugins;return[+new Date,s,n,s.screen,b(o)]}}():t,3),r),m=new g(r),_=function(){for(var t=m.g(u),e=p,n=0;t<d;)t=(t+n)*l,e*=l,n=m.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|m.g(4)},_.quick=function(){return m.g(4)/4294967296},_.double=_,y(b(m.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&v(r,m),t.state=function(){return v(m,{})}),n?(i[c]=t,e):t})(_,f,"global"in e?e.global:this==i,e.state)}function g(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);o<l;)a[o]=o++;for(o=0;o<l;o++)a[o]=a[i=f&i+t[o%n]+(e=a[o])],a[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,a=r.S;t--;)e=a[o=f&o+1],n=n*l+a[f&(a[o]=a[i=f&i+e])+(a[i]=e)];return r.i=o,r.j=i,n})(l)}function v(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){for(var n,r=t+"",o=0;o<r.length;)e[f&o]=f&(n^=19*e[f&o])+r.charCodeAt(o++);return b(e)}function b(t){return String.fromCharCode.apply(0,t)}if(i["seed"+c]=m,y(i.random(),o),t.exports){t.exports=m;try{a=n(765)}catch(t){}}else void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}([],Math)},1171:function(t,e,n){"use strict";var r=n(896);e.__esModule=!0,e.default=function(t,e){var n=(0,i.default)(t);return n?n.innerHeight:e?t.clientHeight:(0,o.default)(t).height};var o=r(n(732)),i=r(n(768));t.exports=e.default},1172:function(t,e,n){"use strict";var r=n(896);e.__esModule=!0,e.default=function(t){var e=(0,o.default)(t);return e&&e.defaultView||e.parentWindow};var o=r(n(772));t.exports=e.default},1173:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=m(n(732)),i=m(n(1043)),a=m(n(3)),s=m(n(773)),l=m(n(0)),u=m(n(1042)),c=m(n(745)),p=m(n(774)),d=m(n(1044)),h=m(n(746)),f=m(n(1045));function m(t){return t&&t.__esModule?t:{default:t}}var g=r({},u.default.propTypes,{container:a.default.oneOfType([s.default,a.default.func]),autoWidth:a.default.bool}),v=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return a.onWindowScroll=function(){a.onUpdate()},a.onWindowResize=function(){a.props.autoWidth&&(0,i.default)(function(){return a.onUpdate()})},a.onDocumentClick=function(){(0,i.default)(function(){return a.onUpdate()})},a.onUpdate=function(){if(a._isMounted){var t=(0,o.default)(a.positioner),e=t.top,n=t.width,r=(0,p.default)(a.props.container),i=void 0;if(r){var s=(0,d.default)((0,h.default)(a)),l=(0,o.default)(r);i=s-l.top-l.height}else i=null;a.updateState(e,i,n)}},a.updateState=function(t,e,n){t===a.state.offsetTop&&e===a.state.offsetBottom&&n===a.state.width||a.setState({offsetTop:t,offsetBottom:e,width:n})},a.state={offsetTop:null,offsetBottom:null,width:null},a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this._windowScrollListener=(0,c.default)((0,f.default)(this),"scroll",function(){return t.onWindowScroll()}),this._windowResizeListener=(0,c.default)((0,f.default)(this),"resize",function(){return t.onWindowResize()}),this._documentClickListener=(0,c.default)((0,h.default)(this),"click",function(){return t.onDocumentClick()}),this.onUpdate()},e.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},e.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},e.prototype.render=function(){var t=this,e=this.props,n=e.autoWidth,o=e.viewportOffsetTop,i=e.children,a=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["autoWidth","viewportOffsetTop","children"]),s=this.state,c=s.offsetTop,p=s.offsetBottom,d=s.width;delete a.container;var h=Math.max(c,o||0),f=this.props,m=f.affixStyle,g=f.bottomStyle;return n&&(m=r({width:d},m),g=r({width:d},g)),l.default.createElement("div",null,l.default.createElement("div",{ref:function(e){t.positioner=e}}),l.default.createElement(u.default,r({},a,{offsetTop:h,viewportOffsetTop:o,offsetBottom:p,affixStyle:m,bottomStyle:g}),i))},e}(l.default.Component);v.displayName="AutoAffix",v.propTypes=g,v.defaultProps={viewportOffsetTop:0,autoWidth:!0},e.default=v,t.exports=e.default},1174:function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t}},1175:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(1176)),o=i(n(1177));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=(0,o.default)(t);return function(n,o){return(0,r.default)(!1,e,t,n,o)}}},1176:function(t,e,n){"use strict";e.__esModule=!0;var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n,r,i){if(!t&&e)return n(i?o({},r,{children:i}):r);var s=n;return i?a.default.createElement(s,r,i):a.default.createElement(s,r)}},1177:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1178),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){return Boolean(!("function"!=typeof t||(0,i.default)(t)||t.defaultProps||t.contextTypes))}},1178:function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t){return Boolean(t&&t.prototype&&"object"==typeof t.prototype.isReactComponent)}},1179:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={position:"absolute",width:"1px",height:"1px",padding:"0px",margin:"-1px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",border:"0px"},t.exports=e.default},1180:function(t,e,n){n(1181),t.exports=n(628).Object.getPrototypeOf},1181:function(t,e,n){var r=n(748),o=n(783);n(897)("getPrototypeOf",function(){return function(t){return o(r(t))}})},1182:function(t,e,n){n(1183),t.exports=n(628).Object.keys},1183:function(t,e,n){var r=n(748),o=n(787);n(897)("keys",function(){return function(t){return o(r(t))}})},1184:function(t,e,n){t.exports={default:n(1185),__esModule:!0}},1185:function(t,e,n){n(788),n(733),n(734),n(1186),n(1194),n(1195),t.exports=n(628).Promise},1186:function(t,e,n){"use strict";var r,o,i,a,s=n(789),l=n(707),u=n(735),c=n(750),p=n(722),d=n(751),h=n(736),f=n(1187),m=n(1188),g=n(1046),v=n(1047).set,y=n(1190)(),b=n(899),_=n(1048),x=n(1191),S=n(1049),w=l.TypeError,C=l.process,k=C&&C.versions,T=k&&k.v8||"",M=l.Promise,j="process"==c(C),E=function(){},O=o=b.f,I=!!function(){try{var t=M.resolve(1),e=(t.constructor={})[n(726)("species")]=function(t){t(E,E)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==T.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},A=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(o||(2==t._h&&F(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?u(w("Promise-chain cycle")):(i=P(n))?i.call(n,l,u):l(n)):u(r)}catch(t){c&&!a&&c.exit(),u(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){v.call(l,function(){var e,n,r,o=t._v,i=R(t);if(i&&(e=_(function(){j?C.emit("unhandledRejection",o,t):(n=l.onunhandledrejection)?n({promise:t,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=j||R(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){v.call(l,function(){var e;j?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},z=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),A(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=P(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(N,r,1),u(z,r,1))}catch(t){z.call(r,t)}}):(n._v=t,n._s=1,A(n,!1))}catch(t){z.call({_w:n,_d:!1},t)}}};I||(M=function(t){f(this,M,"Promise","_h"),h(t),r.call(this);try{t(u(N,this,1),u(z,this,1))}catch(t){z.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(1192)(M.prototype,{then:function(t,e){var n=O(g(this,M));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=j?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(z,t,1)},b.f=O=function(t){return t===M||t===a?new i(t):o(t)}),p(p.G+p.W+p.F*!I,{Promise:M}),n(796)(M,"Promise"),n(1193)("Promise"),a=n(628).Promise,p(p.S+p.F*!I,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!I),"Promise",{resolve:function(t){return S(s&&this===a?M:this,t)}}),p(p.S+p.F*!(I&&n(797)(function(t){M.all(t).catch(E)})),"Promise",{all:function(t){var e=this,n=O(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;m(t,!1,function(t){var s=i++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,o=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},1187:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},1188:function(t,e,n){var r=n(735),o=n(790),i=n(791),a=n(725),s=n(792),l=n(752),u={},c={};(e=t.exports=function(t,e,n,p,d){var h,f,m,g,v=d?function(){return t}:l(t),y=r(n,p,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(h=s(t.length);h>b;b++)if((g=e?y(a(f=t[b])[0],f[1]):y(t[b]))===u||g===c)return g}else for(m=v.call(t);!(f=m.next()).done;)if((g=o(m,y,f.value,e))===u||g===c)return g}).BREAK=u,e.RETURN=c},1189:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},1190:function(t,e,n){var r=n(707),o=n(1047).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(753)(a);t.exports=function(){var t,e,n,u=function(){var r,o;for(l&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){o.call(r,u)};else{var p=!0,d=document.createTextNode("");new i(u).observe(d,{characterData:!0}),n=function(){d.data=p=!p}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},1191:function(t,e,n){var r=n(707).navigator;t.exports=r&&r.userAgent||""},1192:function(t,e,n){var r=n(795);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},1193:function(t,e,n){"use strict";var r=n(707),o=n(628),i=n(762),a=n(761),s=n(726)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},1194:function(t,e,n){"use strict";var r=n(722),o=n(628),i=n(707),a=n(1046),s=n(1049);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},1195:function(t,e,n){"use strict";var r=n(722),o=n(899),i=n(1048);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},1196:function(t,e,n){t.exports={default:n(1197),__esModule:!0}},1197:function(t,e,n){n(1198);var r=n(628).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},1198:function(t,e,n){var r=n(798),o=n(799).f;n(897)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},1199:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(1200)),o=i(n(1203));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(t);!(r=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},1200:function(t,e,n){t.exports={default:n(1201),__esModule:!0}},1201:function(t,e,n){n(734),n(733),t.exports=n(1202)},1202:function(t,e,n){var r=n(750),o=n(726)("iterator"),i=n(800);t.exports=n(628).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},1203:function(t,e,n){t.exports={default:n(1204),__esModule:!0}},1204:function(t,e,n){n(734),n(733),t.exports=n(1205)},1205:function(t,e,n){var r=n(725),o=n(752);t.exports=n(628).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},515:function(t,e,n){"use strict";var r=n(730),o=n(0),i=n.n(o),a=n(44),s=n.n(a),l=n(151),u=n(7),c=n(18),p=n(9),d=n.n(p),h=n(816),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function m(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var g={get:function(t,e,n){if(!e)return t;var r=y(e),o=void 0;try{o=r.reduce(function(t,e){return t[e]},t)}catch(t){}return void 0!==o?o:n},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2],r=y(e),o=void 0,i=t;for(;(o=r.shift())&&r.length;)i[o]||(i[o]={}),i=i[o];return i[o]=n,t},takeRight:function(t,e){var n=e>t.length?0:t.length-e;return t.slice(n)},last:function(t){return t[t.length-1]},orderBy:function(t,e,n,r){return t.sort(function(t,o){for(var i=0;i<e.length;i+=1){var a=e[i],s=!1===n[i]||"desc"===n[i],l=a(t,o);if(l)return s?-l:l}return n[0]?t[r]-o[r]:o[r]-t[r]})},range:function(t){for(var e=[],n=0;n<t;n+=1)e.push(t);return e},remove:function(t,e){return t.filter(function(n,r){var o=e(n);return!!o&&(t.splice(r,1),!0)})},clone:function(t){try{return JSON.parse(JSON.stringify(t,function(t,e){return"function"==typeof e?e.toString():e}))}catch(e){return t}},getFirstDefined:function(){for(var t=0;t<arguments.length;t+=1)if(void 0!==(arguments.length<=t?void 0:arguments[t]))return arguments.length<=t?void 0:arguments[t]},sum:function(t){return t.reduce(function(t,e){return t+e},0)},makeTemplateComponent:function(t,e){if(!e)throw new Error("No displayName found for template component:",t);var n=function(e){var n=e.children,r=e.className,o=m(e,["children","className"]);return i.a.createElement("div",f({className:s()(t,r)},o),n)};return n.displayName=e,n},groupBy:function(t,e){return t.reduce(function(t,n,r){var o="function"==typeof e?e(n,r):n[e];return t[o]=v(t[o])?t[o]:[],t[o].push(n),t},{})},isArray:v,splitProps:function(t){var e=t.className,n=t.style,r=m(t,["className","style"]);return{className:e,style:n,rest:r||{}}},compactObject:function(t){var e={};t&&Object.keys(t).map(function(n){return Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&void 0!==t[n]&&(e[n]=t[n]),!0});return e},isSortingDesc:function(t){return!("desc"!==t.sort&&!0!==t.desc&&!1!==t.asc)},normalizeComponent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return"function"==typeof t?i.a.createElement(t,e):n},asPx:function(t){return t=Number(t),Number.isNaN(t)?null:t+"px"}};function v(t){return Array.isArray(t)}function y(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(v(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}(t).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}var b=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var _=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),b(n,[{key:"componentWillMount",value:function(){this.setStateWithData(this.getDataModel(this.getResolvedState(),!0))}},{key:"componentDidMount",value:function(){this.fireFetchData()}},{key:"componentWillReceiveProps",value:function(t,e){var n=this.getResolvedState(),r=this.getResolvedState(t,e);["sorted","filtered","resized","expanded"].forEach(function(t){var e="default"+(t.charAt(0).toUpperCase()+t.slice(1));JSON.stringify(n[e])!==JSON.stringify(r[e])&&(r[t]=r[e])});["sortable","filterable","resizable"].forEach(function(t){if(n[t]!==r[t]){var e=t.replace("able","")+"ed",o="default"+(e.charAt(0).toUpperCase()+e.slice(1));r[e]=r[o]}}),n.data===r.data&&n.columns===r.columns&&n.pivotBy===r.pivotBy&&n.sorted===r.sorted&&n.filtered===r.filtered||this.setStateWithData(this.getDataModel(r,n.data!==r.data))}},{key:"setStateWithData",value:function(t,e){var n=this,r=this.getResolvedState(),o=this.getResolvedState({},t),i=o.freezeWhenExpanded;if(o.frozen=!1,i)for(var a=Object.keys(o.expanded),s=0;s<a.length;s+=1)if(o.expanded[a[s]]){o.frozen=!0;break}return(r.frozen&&!o.frozen||r.sorted!==o.sorted||r.filtered!==o.filtered||r.showFilters!==o.showFilters||!o.frozen&&r.resolvedData!==o.resolvedData)&&((r.sorted!==o.sorted&&this.props.collapseOnSortingChange||r.filtered!==o.filtered||r.showFilters!==o.showFilters||r.sortedData&&!o.frozen&&r.resolvedData!==o.resolvedData&&this.props.collapseOnDataChange)&&(o.expanded={}),Object.assign(o,this.getSortedData(o))),r.filtered!==o.filtered&&(o.page=0),o.sortedData&&(o.pages=o.manual?o.pages:Math.ceil(o.sortedData.length/o.pageSize),o.page=o.manual?o.page:Math.max(o.page>=o.pages?o.pages-1:o.page,0)),this.setState(o,function(){e&&e(),r.page===o.page&&r.pageSize===o.pageSize&&r.sorted===o.sorted&&r.filtered===o.filtered||n.fireFetchData()})}}]),n}()},x=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var T=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),w(n,[{key:"getResolvedState",value:function(t,e){return S({},g.compactObject(this.state),g.compactObject(this.props),g.compactObject(e),g.compactObject(t))}},{key:"getDataModel",value:function(t,e){var n=this,r=t.columns,o=t.pivotBy,a=void 0===o?[]:o,s=t.data,l=t.resolveData,u=t.pivotIDKey,c=t.pivotValKey,p=t.subRowsKey,d=t.aggregatedKey,h=t.nestingLevelKey,f=t.originalKey,m=t.indexKey,v=t.groupedByPivotKey,y=t.SubComponent,b=!1;r.forEach(function(t){t.columns&&(b=!0)});var _=[].concat(k(r)),w=r.find(function(t){return t.expander||t.columns&&t.columns.some(function(t){return t.expander})});w&&!w.expander&&(w=w.columns.find(function(t){return t.expander})),y&&!w&&(_=[w={expander:!0}].concat(k(_)));var T=[],M=function(t,e){var r=function(t,e){var r=void 0;if((r=t.expander?S({},n.props.column,n.props.expanderDefaults,t):S({},n.props.column,t)).maxWidth<r.minWidth&&(r.minWidth=r.maxWidth),e&&(r.parentColumn=e),"string"==typeof r.accessor){r.id=r.id||r.accessor;var o=r.accessor;return r.accessor=function(t){return g.get(t,o)},r}if(r.accessor&&!r.id)throw console.warn(r),new Error("A column id is required if using a non-string accessor for column above.");return r.accessor||(r.accessor=function(){}),r}(t,e);return T.push(r),r},j=_.map(function(t){return t.columns?S({},t,{columns:t.columns.map(function(e){return M(e,t)})}):M(t)}).slice(),E=[],O=(j=(j=j.map(function(t){if(t.columns){var e=t.columns.filter(function(t){return!(a.indexOf(t.id)>-1)&&g.getFirstDefined(t.show,!0)});return S({},t,{columns:e})}return t})).filter(function(t){return t.columns?t.columns.length:!(a.indexOf(t.id)>-1)&&g.getFirstDefined(t.show,!0)})).findIndex(function(t){return t.pivot});if(a.length){var I=[];a.forEach(function(t){var e=T.find(function(e){return e.id===t});e&&I.push(e)});var P=I.reduce(function(t,e){return t&&t===e.parentColumn&&e.parentColumn},I[0].parentColumn),A=b&&P.Header,D={Header:A=A||function(){return i.a.createElement("strong",null,"Pivoted")},columns:I.map(function(t){return S({},n.props.pivotDefaults,t,{pivoted:!0})})};O>=0?(D=S({},j[O],D),j.splice(O,1,D)):j.unshift(D)}var R=[],F=[],z=function(t,e){R.push(S({},n.props.column,e,{columns:t})),F=[]};j.forEach(function(t){if(t.columns)return E=E.concat(t.columns),F.length>0&&z(F),void z(t.columns,t);E.push(t),F.push(t)}),b&&F.length>0&&z(F);var N=this.resolvedData;this.resolvedData&&!e||(N=l(s),this.resolvedData=N),N=N.map(function(t,e){return function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(C(r={},f,e),C(r,m,n),C(r,p,e[p]),C(r,h,o),r);return T.forEach(function(t){t.expander||(i[t.id]=t.accessor(e))}),i[p]&&(i[p]=i[p].map(function(e,n){return t(e,n,o+1)})),i}(t,e)});var L=E.filter(function(t){return!t.expander&&t.aggregate});if(a.length){N=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===n.length)return e;var o=Object.entries(g.groupBy(e,n[r])).map(function(t){var e,o=x(t,2),i=o[0],a=o[1];return C(e={},u,n[r]),C(e,c,i),C(e,n[r],i),C(e,p,a),C(e,h,r),C(e,v,!0),e});return o=o.map(function(e){var o,i,a,s=t(e[p],n,r+1);return S({},e,(C(o={},p,s),C(o,d,!0),o),(i=s,a={},L.forEach(function(t){var e=i.map(function(e){return e[t.id]});a[t.id]=t.aggregate(e,i)}),a))})}(N,a)}return S({},t,{resolvedData:N,allVisibleColumns:E,headerGroups:R,allDecoratedColumns:T,hasHeaderGroups:b})}},{key:"getSortedData",value:function(t){var e=t.manual,n=t.sorted,r=t.filtered,o=t.defaultFilterMethod,i=t.resolvedData,a=t.allDecoratedColumns,s={};return a.filter(function(t){return t.sortMethod}).forEach(function(t){s[t.id]=t.sortMethod}),{sortedData:e?i:this.sortData(this.filterData(i,r,o,a),n,s)}}},{key:"fireFetchData",value:function(){var t=S({},this.getResolvedState(),{page:this.getStateOrProp("page"),pageSize:this.getStateOrProp("pageSize"),filter:this.getStateOrProp("filter")});this.props.onFetchData(t,this)}},{key:"getPropOrState",value:function(t){return g.getFirstDefined(this.props[t],this.state[t])}},{key:"getStateOrProp",value:function(t){return g.getFirstDefined(this.state[t],this.props[t])}},{key:"filterData",value:function(t,e,n,r){var o=this,i=t;return e.length&&(i=(i=e.reduce(function(t,e){var o=r.find(function(t){return t.id===e.id});if(!o||!1===o.filterable)return t;var i=o.filterMethod||n;return o.filterAll?i(e,t,o):t.filter(function(t){return i(e,t,o)})},i)).map(function(t){return t[o.props.subRowsKey]?S({},t,C({},o.props.subRowsKey,o.filterData(t[o.props.subRowsKey],e,n,r))):t}).filter(function(t){return!t[o.props.subRowsKey]||t[o.props.subRowsKey].length>0})),i}},{key:"sortData",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.length)return t;var o=(this.props.orderByMethod||g.orderBy)(t,e.map(function(t){return r[t.id]?function(e,n){return r[t.id](e[t.id],n[t.id],t.desc)}:function(e,r){return n.props.defaultSortMethod(e[t.id],r[t.id],t.desc)}}),e.map(function(t){return!t.desc}),this.props.indexKey);return o.forEach(function(t){t[n.props.subRowsKey]&&(t[n.props.subRowsKey]=n.sortData(t[n.props.subRowsKey],e,r))}),o}},{key:"getMinRows",value:function(){return g.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function(t){var e=this.props,n=e.onPageChange,r=e.collapseOnPageChange,o={page:t};r&&(o.expanded={}),this.setStateWithData(o,function(){return n&&n(t)})}},{key:"onPageSizeChange",value:function(t){var e=this.props.onPageSizeChange,n=this.getResolvedState(),r=n.pageSize*n.page,o=Math.floor(r/t);this.setStateWithData({pageSize:t,page:o},function(){return e&&e(t,o)})}},{key:"sortColumn",value:function(t,e){var n=this.getResolvedState(),r=n.sorted,o=n.skipNextSort,i=n.defaultSortDesc,a=Object.prototype.hasOwnProperty.call(t,"defaultSortDesc")?t.defaultSortDesc:i,s=!a;if(o)this.setStateWithData({skipNextSort:!1});else{var l=this.props.onSortedChange,u=g.clone(r||[]).map(function(t){return t.desc=g.isSortingDesc(t),t});if(g.isArray(t)){var c=u.findIndex(function(e){return e.id===t[0].id});if(c>-1)u[c].desc===s?e?u.splice(c,t.length):t.forEach(function(t,e){u[c+e].desc=a}):t.forEach(function(t,e){u[c+e].desc=s}),e||(u=u.slice(c,t.length));else u=e?u.concat(t.map(function(t){return{id:t.id,desc:a}})):t.map(function(t){return{id:t.id,desc:a}})}else{var p=u.findIndex(function(e){return e.id===t.id});if(p>-1){var d=u[p];d.desc===s?e?u.splice(p,1):(d.desc=a,u=[d]):(d.desc=s,e||(u=[d]))}else e?u.push({id:t.id,desc:a}):u=[{id:t.id,desc:a}]}this.setStateWithData({page:!r.length&&u.length||!e?0:this.state.page,sorted:u},function(){return l&&l(u,t,e)})}}},{key:"filterColumn",value:function(t,e){var n=this.getResolvedState().filtered,r=this.props.onFilteredChange,o=(n||[]).filter(function(e){return e.id!==t.id});""!==e&&o.push({id:t.id,value:e}),this.setStateWithData({filtered:o},function(){return r&&r(o,t,e)})}},{key:"resizeColumnStart",value:function(t,e,n){var r=this;t.stopPropagation();var o=t.target.parentElement.getBoundingClientRect().width,i=void 0;i=n?t.changedTouches[0].pageX:t.pageX,this.trapEvents=!0,this.setStateWithData({currentlyResizing:{id:e.id,startX:i,parentWidth:o}},function(){n?(document.addEventListener("touchmove",r.resizeColumnMoving),document.addEventListener("touchcancel",r.resizeColumnEnd),document.addEventListener("touchend",r.resizeColumnEnd)):(document.addEventListener("mousemove",r.resizeColumnMoving),document.addEventListener("mouseup",r.resizeColumnEnd),document.addEventListener("mouseleave",r.resizeColumnEnd))})}},{key:"resizeColumnMoving",value:function(t){t.stopPropagation();var e=this.props,n=e.onResizedChange,r=e.column,o=this.getResolvedState(),i=o.resized,a=o.currentlyResizing,s=o.columns.find(function(t){return t.accessor===a.id||t.id===a.id}),l=s&&null!=s.minResizeWidth?s.minResizeWidth:r.minResizeWidth,u=i.filter(function(t){return t.id!==a.id}),c=void 0;"touchmove"===t.type?c=t.changedTouches[0].pageX:"mousemove"===t.type&&(c=t.pageX);var p=Math.max(a.parentWidth+c-a.startX,l);u.push({id:a.id,value:p}),this.setStateWithData({resized:u},function(){return n&&n(u,t)})}},{key:"resizeColumnEnd",value:function(t){t.stopPropagation();var e="touchend"===t.type||"touchcancel"===t.type;e&&(document.removeEventListener("touchmove",this.resizeColumnMoving),document.removeEventListener("touchcancel",this.resizeColumnEnd),document.removeEventListener("touchend",this.resizeColumnEnd)),document.removeEventListener("mousemove",this.resizeColumnMoving),document.removeEventListener("mouseup",this.resizeColumnEnd),document.removeEventListener("mouseleave",this.resizeColumnEnd),e||this.setStateWithData({skipNextSort:!0,currentlyResizing:!1})}}]),n}()},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var E=function(t){return i.a.createElement("button",j({type:"button"},t,{className:"-btn"}),t.children)},O=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getSafePage=n.getSafePage.bind(n),n.changePage=n.changePage.bind(n),n.applyPage=n.applyPage.bind(n),n.state={page:t.page},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["Component"]),M(e,[{key:"componentWillReceiveProps",value:function(t){this.props.page!==t.page&&this.setState({page:t.page})}},{key:"getSafePage",value:function(t){return Number.isNaN(t)&&(t=this.props.page),Math.min(Math.max(t,0),this.props.pages-1)}},{key:"changePage",value:function(t){t=this.getSafePage(t),this.setState({page:t}),this.props.page!==t&&this.props.onPageChange(t)}},{key:"applyPage",value:function(t){t&&t.preventDefault();var e=this.state.page;this.changePage(""===e?this.props.page:e)}},{key:"getPageJumpProperties",value:function(){var t=this;return{onKeyPress:function(e){13!==e.which&&13!==e.keyCode||t.applyPage()},onBlur:this.applyPage,value:""===this.state.page?"":this.state.page+1,onChange:function(e){var n=e.target.value,r=n-1;if(""===n)return t.setState({page:n});t.setState({page:t.getSafePage(r)})},inputType:""===this.state.page?"text":"number",pageJumpText:this.props.pageJumpText}}},{key:"render",value:function(){var t=this,e=this.props,n=e.pages,r=e.page,o=e.showPageSizeOptions,a=e.pageSizeOptions,l=e.pageSize,u=e.showPageJump,c=e.canPrevious,p=e.canNext,d=e.onPageSizeChange,h=e.className,f=e.PreviousComponent,m=e.NextComponent,g=e.renderPageJump,v=e.renderCurrentPage,y=e.renderTotalPagesCount,b=e.renderPageSizeOptions;return i.a.createElement("div",{className:s()(h,"-pagination"),style:this.props.style},i.a.createElement("div",{className:"-previous"},i.a.createElement(f,{onClick:function(){c&&t.changePage(r-1)},disabled:!c},this.props.previousText)),i.a.createElement("div",{className:"-center"},i.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",u?g(this.getPageJumpProperties()):v(r)," ",this.props.ofText," ",y(n)),o&&b({pageSize:l,rowsSelectorText:this.props.rowsSelectorText,pageSizeOptions:a,onPageSizeChange:d,rowsText:this.props.rowsText})),i.a.createElement("div",{className:"-next"},i.a.createElement(m,{onClick:function(){p&&t.changePage(r+1)},disabled:!p},this.props.nextText)))}}]),e}();O.defaultProps={PreviousComponent:E,NextComponent:E,renderPageJump:function(t){var e=t.onChange,n=t.value,r=t.onBlur,o=t.onKeyPress,a=t.inputType,s=t.pageJumpText;return i.a.createElement("div",{className:"-pageJump"},i.a.createElement("input",{"aria-label":s,type:a,onChange:e,value:n,onBlur:r,onKeyPress:o}))},renderCurrentPage:function(t){return i.a.createElement("span",{className:"-currentPage"},t+1)},renderTotalPagesCount:function(t){return i.a.createElement("span",{className:"-totalPages"},t||1)},renderPageSizeOptions:function(t){var e=t.pageSize,n=t.pageSizeOptions,r=t.rowsSelectorText,o=t.onPageSizeChange,a=t.rowsText;return i.a.createElement("span",{className:"select-wrap -pageSizeOptions"},i.a.createElement("select",{"aria-label":r,onChange:function(t){return o(Number(t.target.value))},value:e},n.map(function(t,e){return i.a.createElement("option",{key:e,value:t},t+" "+a)})))}};var I=O,P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function A(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var D=function(){return{}},R={data:[],resolveData:function(t){return t},loading:!1,showPagination:!0,showPaginationTop:!1,showPaginationBottom:!0,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],defaultPage:0,defaultPageSize:20,showPageJump:!0,collapseOnSortingChange:!0,collapseOnPageChange:!0,collapseOnDataChange:!0,freezeWhenExpanded:!1,sortable:!0,multiSort:!0,resizable:!0,filterable:!1,defaultSortDesc:!1,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function(t,e,n){var r=t.pivotId||t.id;return void 0===e[r]||String(e[r]).startsWith(t.value)},defaultSortMethod:function(t,e,n){return e=null==e?"":e,(t="string"==typeof(t=null==t?"":t)?t.toLowerCase():t)>(e="string"==typeof e?e.toLowerCase():e)?1:t<e?-1:0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function(){return null},className:"",style:{},getProps:D,getTableProps:D,getTheadGroupProps:D,getTheadGroupTrProps:D,getTheadGroupThProps:D,getTheadProps:D,getTheadTrProps:D,getTheadThProps:D,getTheadFilterProps:D,getTheadFilterTrProps:D,getTheadFilterThProps:D,getTbodyProps:D,getTrGroupProps:D,getTrProps:D,getTdProps:D,getTfootProps:D,getTfootTrProps:D,getTfootTdProps:D,getPaginationProps:D,getLoadingProps:D,getNoDataProps:D,getResizerProps:D,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,Placeholder:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:!0,minWidth:100,minResizeWidth:11,className:"",style:{},getProps:D,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:D,footerClassName:"",footerStyle:{},getFooterProps:D,filterMethod:void 0,filterAll:!1,sortMethod:void 0},expanderDefaults:{sortable:!1,resizable:!1,filterable:!1,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",pageJumpText:"jump to page",rowsSelectorText:"rows per page",TableComponent:function(t){var e=t.children,n=t.className,r=A(t,["children","className"]);return i.a.createElement("div",P({className:s()("rt-table",n),role:"grid"},r),e)},TheadComponent:g.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:g.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function(t){var e=t.children,n=t.className,r=A(t,["children","className"]);return i.a.createElement("div",P({className:s()("rt-tr-group",n),role:"rowgroup"},r),e)},TrComponent:function(t){var e=t.children,n=t.className,r=A(t,["children","className"]);return i.a.createElement("div",P({className:s()("rt-tr",n),role:"row"},r),e)},ThComponent:function(t){var e=t.toggleSort,n=t.className,r=t.children,o=A(t,["toggleSort","className","children"]);return i.a.createElement("div",P({className:s()("rt-th",n),onClick:function(t){return e&&e(t)},role:"columnheader",tabIndex:"-1"},o),r)},TdComponent:function(t){t.toggleSort;var e=t.className,n=t.children,r=A(t,["toggleSort","className","children"]);return i.a.createElement("div",P({className:s()("rt-td",e),role:"gridcell"},r),n)},TfootComponent:g.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function(t){var e=t.filter,n=t.onChange,r=t.column;return i.a.createElement("input",{type:"text",style:{width:"100%"},placeholder:r.Placeholder,value:e?e.value:"",onChange:function(t){return n(t.target.value)}})},ExpanderComponent:function(t){var e=t.isExpanded;return i.a.createElement("div",{className:s()("rt-expander",e&&"-open")},"•")},PivotValueComponent:function(t){var e=t.subRows,n=t.value;return i.a.createElement("span",null,n," ",e&&"("+e.length+")")},AggregatedComponent:function(t){var e=t.subRows,n=t.column,r=e.filter(function(t){return void 0!==t[n.id]}).map(function(t,r){return i.a.createElement("span",{key:r},t[n.id],r<e.length-1?", ":"")});return i.a.createElement("span",null,r)},PivotComponent:void 0,PaginationComponent:I,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function(t){var e=t.className,n=t.loading,r=t.loadingText,o=A(t,["className","loading","loadingText"]);return i.a.createElement("div",P({className:s()("-loading",{"-active":n},e)},o),i.a.createElement("div",{className:"-loading-inner"},r))},NoDataComponent:g.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:g.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function(){return i.a.createElement("span",null," ")}},F=n(3),z=n.n(F),N={data:z.a.any,loading:z.a.bool,showPagination:z.a.bool,showPaginationTop:z.a.bool,showPaginationBottom:z.a.bool,showPageSizeOptions:z.a.bool,pageSizeOptions:z.a.array,defaultPageSize:z.a.number,showPageJump:z.a.bool,collapseOnSortingChange:z.a.bool,collapseOnPageChange:z.a.bool,collapseOnDataChange:z.a.bool,freezeWhenExpanded:z.a.bool,sortable:z.a.bool,resizable:z.a.bool,filterable:z.a.bool,defaultSortDesc:z.a.bool,defaultSorted:z.a.array,defaultFiltered:z.a.array,defaultResized:z.a.array,defaultExpanded:z.a.object,defaultFilterMethod:z.a.func,defaultSortMethod:z.a.func,onPageChange:z.a.func,onPageSizeChange:z.a.func,onSortedChange:z.a.func,onFilteredChange:z.a.func,onResizedChange:z.a.func,onExpandedChange:z.a.func,pivotBy:z.a.array,pivotValKey:z.a.string,pivotIDKey:z.a.string,subRowsKey:z.a.string,aggregatedKey:z.a.string,nestingLevelKey:z.a.string,originalKey:z.a.string,indexKey:z.a.string,groupedByPivotKey:z.a.string,onFetchData:z.a.func,className:z.a.string,style:z.a.object,getProps:z.a.func,getTableProps:z.a.func,getTheadGroupProps:z.a.func,getTheadGroupTrProps:z.a.func,getTheadGroupThProps:z.a.func,getTheadProps:z.a.func,getTheadTrProps:z.a.func,getTheadThProps:z.a.func,getTheadFilterProps:z.a.func,getTheadFilterTrProps:z.a.func,getTheadFilterThProps:z.a.func,getTbodyProps:z.a.func,getTrGroupProps:z.a.func,getTrProps:z.a.func,getTdProps:z.a.func,getTfootProps:z.a.func,getTfootTrProps:z.a.func,getTfootTdProps:z.a.func,getPaginationProps:z.a.func,getLoadingProps:z.a.func,getNoDataProps:z.a.func,getResizerProps:z.a.func,columns:z.a.arrayOf(z.a.shape({Cell:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),Header:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),Footer:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),Aggregated:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),Pivot:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),PivotValue:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),Expander:z.a.oneOfType([z.a.element,z.a.string,z.a.func]),Filter:z.a.oneOfType([z.a.element,z.a.func]),sortable:z.a.bool,resizable:z.a.bool,filterable:z.a.bool,show:z.a.bool,minWidth:z.a.number,minResizeWidth:z.a.number,className:z.a.string,style:z.a.object,getProps:z.a.func,aggregate:z.a.func,headerClassName:z.a.string,headerStyle:z.a.object,getHeaderProps:z.a.func,footerClassName:z.a.string,footerStyle:z.a.object,getFooterProps:z.a.func,filterMethod:z.a.func,filterAll:z.a.bool,sortMethod:z.a.func})),expanderDefaults:z.a.shape({sortable:z.a.bool,resizable:z.a.bool,filterable:z.a.bool,width:z.a.number}),pivotDefaults:z.a.object,previousText:z.a.node,nextText:z.a.node,loadingText:z.a.node,noDataText:z.a.node,pageText:z.a.node,ofText:z.a.node,rowsText:z.a.node,pageJumpText:z.a.node,rowsSelectorText:z.a.node,TableComponent:z.a.oneOfType([z.a.func,z.a.element]),TheadComponent:z.a.oneOfType([z.a.func,z.a.element]),TbodyComponent:z.a.oneOfType([z.a.func,z.a.element]),TrGroupComponent:z.a.oneOfType([z.a.func,z.a.element]),TrComponent:z.a.oneOfType([z.a.func,z.a.element]),ThComponent:z.a.oneOfType([z.a.func,z.a.element]),TdComponent:z.a.oneOfType([z.a.func,z.a.element]),TfootComponent:z.a.oneOfType([z.a.func,z.a.element]),FilterComponent:z.a.oneOfType([z.a.func,z.a.element]),ExpanderComponent:z.a.oneOfType([z.a.func,z.a.element]),PivotValueComponent:z.a.oneOfType([z.a.func,z.a.element]),AggregatedComponent:z.a.oneOfType([z.a.func,z.a.element]),PivotComponent:z.a.oneOfType([z.a.func,z.a.element]),PaginationComponent:z.a.oneOfType([z.a.func,z.a.element]),PreviousComponent:z.a.oneOfType([z.a.func,z.a.element]),NextComponent:z.a.oneOfType([z.a.func,z.a.element]),LoadingComponent:z.a.oneOfType([z.a.func,z.a.element]),NoDataComponent:z.a.oneOfType([z.a.func,z.a.element]),ResizerComponent:z.a.oneOfType([z.a.func,z.a.element]),PadRowComponent:z.a.oneOfType([z.a.func,z.a.element])},L=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var V=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.getResolvedState=n.getResolvedState.bind(n),n.getDataModel=n.getDataModel.bind(n),n.getSortedData=n.getSortedData.bind(n),n.fireFetchData=n.fireFetchData.bind(n),n.getPropOrState=n.getPropOrState.bind(n),n.getStateOrProp=n.getStateOrProp.bind(n),n.filterData=n.filterData.bind(n),n.sortData=n.sortData.bind(n),n.getMinRows=n.getMinRows.bind(n),n.onPageChange=n.onPageChange.bind(n),n.onPageSizeChange=n.onPageSizeChange.bind(n),n.sortColumn=n.sortColumn.bind(n),n.filterColumn=n.filterColumn.bind(n),n.resizeColumnStart=n.resizeColumnStart.bind(n),n.resizeColumnEnd=n.resizeColumnEnd.bind(n),n.resizeColumnMoving=n.resizeColumnMoving.bind(n),n.state={page:t.defaultPage,pageSize:t.defaultPageSize,sorted:t.defaultSorted,expanded:t.defaultExpanded,filtered:t.defaultFiltered,resized:t.defaultResized,currentlyResizing:!1,skipNextSort:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,T(_(o["Component"]))),H(e,[{key:"render",value:function(){var t=this,e=this.getResolvedState(),n=e.children,r=e.className,o=e.style,a=e.getProps,l=e.getTableProps,u=e.getTheadGroupProps,c=e.getTheadGroupTrProps,p=e.getTheadGroupThProps,d=e.getTheadProps,h=e.getTheadTrProps,f=e.getTheadThProps,m=e.getTheadFilterProps,v=e.getTheadFilterTrProps,y=e.getTheadFilterThProps,b=e.getTbodyProps,_=e.getTrGroupProps,x=e.getTrProps,S=e.getTdProps,w=e.getTfootProps,C=e.getTfootTrProps,k=e.getTfootTdProps,T=e.getPaginationProps,M=e.getLoadingProps,j=e.getNoDataProps,E=e.getResizerProps,O=e.showPagination,I=e.showPaginationTop,P=e.showPaginationBottom,A=e.manual,D=e.loadingText,F=e.noDataText,z=e.sortable,N=e.multiSort,H=e.resizable,V=e.filterable,q=e.pivotIDKey,G=e.pivotValKey,W=e.pivotBy,U=e.subRowsKey,K=e.aggregatedKey,Y=e.originalKey,X=e.indexKey,Z=e.groupedByPivotKey,$=e.loading,Q=e.pageSize,J=e.page,tt=e.sorted,et=e.filtered,nt=e.resized,rt=e.expanded,ot=e.pages,it=e.onExpandedChange,at=e.TableComponent,st=e.TheadComponent,lt=e.TbodyComponent,ut=e.TrGroupComponent,ct=e.TrComponent,pt=e.ThComponent,dt=e.TdComponent,ht=e.TfootComponent,ft=e.PaginationComponent,mt=e.LoadingComponent,gt=e.SubComponent,vt=e.NoDataComponent,yt=e.ResizerComponent,bt=e.ExpanderComponent,_t=e.PivotValueComponent,xt=e.PivotComponent,St=e.AggregatedComponent,wt=e.FilterComponent,Ct=e.PadRowComponent,kt=e.resolvedData,Tt=e.allVisibleColumns,Mt=e.headerGroups,jt=e.hasHeaderGroups,Et=e.sortedData,Ot=e.currentlyResizing,It=Q*J,Pt=It+Q,At=A?kt:Et.slice(It,Pt),Dt=this.getMinRows(),Rt=g.range(Math.max(Dt-At.length,0)),Ft=Tt.some(function(t){return t.Footer}),zt=V||Tt.some(function(t){return t.filterable}),Nt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[e.map(function(e,o){var i=B({},e,{_viewIndex:r+=1}),a=n.concat([o]);if(i[U]&&g.get(rt,a)){var s=t(i[U],a,r),l=L(s,2);i[U]=l[0],r=l[1]}return i}),r]}(At),Lt=L(Nt,1);At=Lt[0];var Bt=J>0,Ht=J+1<ot,Vt=g.sum(Tt.map(function(t){var e=nt.find(function(e){return e.id===t.id})||{};return g.getFirstDefined(e.value,t.width,t.minWidth)})),qt=-1,Gt=B({},e,{startRow:It,endRow:Pt,pageRows:At,minRows:Dt,padRows:Rt,hasColumnFooter:Ft,canPrevious:Bt,canNext:Ht,rowMinWidth:Vt}),Wt=g.splitProps(a(Gt,void 0,void 0,this)),Ut=g.splitProps(l(Gt,void 0,void 0,this)),Kt=g.splitProps(b(Gt,void 0,void 0,this)),Yt=M(Gt,void 0,void 0,this),Xt=j(Gt,void 0,void 0,this),Zt=function(e,n){var r=function(t){return(nt.find(function(e){return e.id===t.id})||{}).value},o=g.sum(e.columns.map(function(t){return t.width||r(t)?0:t.minWidth})),a=g.sum(e.columns.map(function(t){return g.getFirstDefined(r(t),t.width,t.minWidth)})),l=g.sum(e.columns.map(function(t){return g.getFirstDefined(r(t),t.width,t.maxWidth)})),u=g.splitProps(p(Gt,void 0,e,t)),c=g.splitProps(e.getHeaderProps(Gt,void 0,e,t)),d=[e.headerClassName,u.className,c.className],h=B({},e.headerStyle,u.style,c.style),f=B({},u.rest,c.rest),m={flex:o+" 0 auto",width:g.asPx(a),maxWidth:g.asPx(l)};return i.a.createElement(pt,B({key:n+"-"+e.id,className:s()(d),style:B({},h,m)},f),g.normalizeComponent(e.Header,{data:Et,column:e}))},$t=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o=tt.find(function(t){return t.id===e.id}),a="function"==typeof e.show?e.show():e.show,l=g.getFirstDefined(r.value,e.width,e.minWidth),u=g.getFirstDefined(r.value,e.width,e.maxWidth),c=g.splitProps(f(Gt,void 0,e,t)),p=g.splitProps(e.getHeaderProps(Gt,void 0,e,t)),d=[e.headerClassName,c.className,p.className],h=B({},e.headerStyle,c.style,p.style),m=B({},c.rest,p.rest),v=g.getFirstDefined(e.resizable,H,!1),y=v?i.a.createElement(yt,B({onMouseDown:function(n){return t.resizeColumnStart(n,e,!1)},onTouchStart:function(n){return t.resizeColumnStart(n,e,!0)}},E("finalState",void 0,e,t))):null,b=g.getFirstDefined(e.sortable,z,!1);return i.a.createElement(pt,B({key:n+"-"+e.id,className:s()(d,v&&"rt-resizable-header",o?o.desc?"-sort-desc":"-sort-asc":"",b&&"-cursor-pointer",!a&&"-hidden",W&&W.slice(0,-1).includes(e.id)&&"rt-header-pivot"),style:B({},h,{flex:l+" 0 auto",width:g.asPx(l),maxWidth:g.asPx(u)}),toggleSort:function(n){b&&t.sortColumn(e,!!N&&n.shiftKey)}},m),i.a.createElement("div",{className:s()(v&&"rt-resizable-header-content")},g.normalizeComponent(e.Header,{data:Et,column:e})),y)},Qt=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o=g.getFirstDefined(r.value,e.width,e.minWidth),a=g.getFirstDefined(r.value,e.width,e.maxWidth),l=g.splitProps(y(Gt,void 0,e,t)),u=g.splitProps(e.getHeaderProps(Gt,void 0,e,t)),c=[e.headerClassName,l.className,u.className],p=B({},e.headerStyle,l.style,u.style),d=B({},l.rest,u.rest),h=et.find(function(t){return t.id===e.id}),f=e.Filter||wt,m=g.getFirstDefined(e.filterable,V,!1);return i.a.createElement(pt,B({key:n+"-"+e.id,className:s()(c),style:B({},p,{flex:o+" 0 auto",width:g.asPx(o),maxWidth:g.asPx(a)})},d),m?g.normalizeComponent(f,{column:e,filter:h,onChange:function(n){return t.filterColumn(e,n)}},R.column.Filter):null)},Jt=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o="function"==typeof e.show?e.show():e.show,a=g.getFirstDefined(r.value,e.width,e.minWidth),l=a,u=g.getFirstDefined(r.value,e.width,e.maxWidth),c=g.splitProps(S(Gt,void 0,e,t)),p=g.splitProps(e.getProps(Gt,void 0,e,t)),d=[c.className,e.className,p.className],h=B({},c.style,e.style,p.style);return i.a.createElement(dt,B({key:n+"-"+e.id,className:s()(d,!o&&"hidden"),style:B({},h,{flex:l+" 0 auto",width:g.asPx(a),maxWidth:g.asPx(u)})},c.rest),g.normalizeComponent(Ct))},te=function(e,n){var r=_(Gt,void 0,void 0,t),o=g.splitProps(x(Gt,void 0,void 0,t));return i.a.createElement(ut,B({key:"pad-"+n},r),i.a.createElement(ct,{className:s()("-padRow",(At.length+n)%2?"-even":"-odd",o.className),style:o.style||{}},Tt.map(Jt)))},ee=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o="function"==typeof e.show?e.show():e.show,a=g.getFirstDefined(r.value,e.width,e.minWidth),l=g.getFirstDefined(r.value,e.width,e.maxWidth),u=g.splitProps(k(Gt,void 0,void 0,t)),c=g.splitProps(e.getProps(Gt,void 0,e,t)),p=g.splitProps(e.getFooterProps(Gt,void 0,e,t)),d=[u.className,e.className,c.className,p.className],h=B({},u.style,e.style,c.style,p.style);return i.a.createElement(dt,B({key:n+"-"+e.id,className:s()(d,!o&&"hidden"),style:B({},h,{flex:a+" 0 auto",width:g.asPx(a),maxWidth:g.asPx(l)})},c.rest,u.rest,p.rest),g.normalizeComponent(e.Footer,{data:Et,column:e}))},ne=function(n){var r=g.splitProps(T(Gt,void 0,void 0,t));return i.a.createElement(ft,B({},e,{pages:ot,canPrevious:Bt,canNext:Ht,onPageChange:t.onPageChange,onPageSizeChange:t.onPageSizeChange,className:r.className,style:r.style,isTop:n},r.rest))},re=function(){return i.a.createElement("div",B({className:s()("ReactTable",r,Wt.className),style:B({},o,Wt.style)},Wt.rest),O&&I?i.a.createElement("div",{className:"pagination-top"},ne(!0)):null,i.a.createElement(at,B({className:s()(Ut.className,Ot?"rt-resizing":""),style:Ut.style},Ut.rest),jt?(y=g.splitProps(u(Gt,void 0,void 0,t)),b=g.splitProps(c(Gt,void 0,void 0,t)),i.a.createElement(st,B({className:s()("-headerGroups",y.className),style:B({},y.style,{minWidth:Vt+"px"})},y.rest),i.a.createElement(ct,B({className:b.className,style:b.style},b.rest),Mt.map(Zt)))):null,(p=g.splitProps(d(Gt,void 0,void 0,t)),f=g.splitProps(h(Gt,void 0,void 0,t)),i.a.createElement(st,B({className:s()("-header",p.className),style:B({},p.style,{minWidth:Vt+"px"})},p.rest),i.a.createElement(ct,B({className:f.className,style:f.style},f.rest),Tt.map($t)))),zt?(a=g.splitProps(m(Gt,void 0,void 0,t)),l=g.splitProps(v(Gt,void 0,void 0,t)),i.a.createElement(st,B({className:s()("-filters",a.className),style:B({},a.style,{minWidth:Vt+"px"})},a.rest),i.a.createElement(ct,B({className:l.className,style:l.style},l.rest),Tt.map(Qt)))):null,i.a.createElement(lt,B({className:s()(Kt.className),style:B({},Kt.style,{minWidth:Vt+"px"})},Kt.rest),At.map(function(e,n){return function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a={original:n[Y],row:n,index:n[X],viewIndex:qt+=1,pageSize:Q,page:J,level:o.length,nestingPath:o.concat([r]),aggregated:n[K],groupedByPivot:n[Z],subRows:n[U]},l=g.get(rt,a.nestingPath),u=_(Gt,a,void 0,t),c=g.splitProps(x(Gt,a,void 0,t));return i.a.createElement(ut,B({key:a.nestingPath.join("_")},u),i.a.createElement(ct,B({className:s()(c.className,n._viewIndex%2?"-even":"-odd"),style:c.style},c.rest),Tt.map(function(e,r){var o=nt.find(function(t){return t.id===e.id})||{},u="function"==typeof e.show?e.show():e.show,c=g.getFirstDefined(o.value,e.width,e.minWidth),p=g.getFirstDefined(o.value,e.width,e.maxWidth),d=g.splitProps(S(Gt,a,e,t)),h=g.splitProps(e.getProps(Gt,a,e,t)),f=[d.className,e.className,h.className],m=B({},d.style,e.style,h.style),v=B({},a,{isExpanded:l,column:B({},e),value:a.row[e.id],pivoted:e.pivoted,expander:e.expander,resized:nt,show:u,width:c,maxWidth:p,tdProps:d,columnProps:h,classes:f,styles:m}),y=v.value,b=void 0,_=void 0,x=void 0,w=g.normalizeComponent(e.Cell,v,y),C=e.Aggregated||(e.aggregate?e.Cell:St),k=e.Expander||bt,T=e.PivotValue||_t,M=xt||function(t){return i.a.createElement("div",null,i.a.createElement(k,t),i.a.createElement(T,t))},j=e.Pivot||M;(v.pivoted||v.expander)&&(v.expandable=!0,b=!0,!v.pivoted||v.subRows||gt||(v.expandable=!1)),v.pivoted?(_=a.row[q]===e.id&&v.subRows,x=W.indexOf(e.id)>W.indexOf(a.row[q])&&v.subRows,w=_?g.normalizeComponent(j,B({},v,{value:n[G]}),n[G]):x?g.normalizeComponent(C,v,y):null):v.aggregated&&(w=g.normalizeComponent(C,v,y)),v.expander&&(w=g.normalizeComponent(k,v,n[G]),W&&(v.groupedByPivot&&(w=null),v.subRows||gt||(w=null)));var E=b?function(e){var n=g.clone(rt);return n=l?g.set(n,v.nestingPath,!1):g.set(n,v.nestingPath,{}),t.setStateWithData({expanded:n},function(){return it&&it(n,v.nestingPath,e,v)})}:function(){},O={onClick:E};return d.rest.onClick&&(O.onClick=function(t){d.rest.onClick(t,function(){return E(t)})}),h.rest.onClick&&(O.onClick=function(t){h.rest.onClick(t,function(){return E(t)})}),i.a.createElement(dt,B({key:r+"-"+e.id,className:s()(f,!v.expandable&&!u&&"hidden",v.expandable&&"rt-expandable",(_||x)&&"rt-pivot"),style:B({},m,{flex:c+" 0 auto",width:g.asPx(c),maxWidth:g.asPx(p)})},d.rest,h.rest,O),w)})),a.subRows&&l&&a.subRows.map(function(t,n){return e(t,n,a.nestingPath)}),gt&&!a.subRows&&l&&gt(a,function(){var t=g.clone(rt);g.set(t,a.nestingPath,!1)}))}(e,n)}),Rt.map(te)),Ft?(e=g.splitProps(w(Gt,void 0,void 0,t)),n=g.splitProps(C(Gt,void 0,void 0,t)),i.a.createElement(ht,B({className:e.className,style:B({},e.style,{minWidth:Vt+"px"})},e.rest),i.a.createElement(ct,B({className:s()(n.className),style:n.style},n.rest),Tt.map(ee)))):null),O&&P?i.a.createElement("div",{className:"pagination-bottom"},ne(!1)):null,!At.length&&i.a.createElement(vt,Xt,g.normalizeComponent(F)),i.a.createElement(mt,B({loading:$,loadingText:D},Yt)));var e,n,a,l,p,f,y,b};return n?n(Gt,re,this):re()}}]),e}();V.propTypes=N,V.defaultProps=R;var q=V,G=n(82),W=n(10),U=n.n(W),K=n(13),Y=n.n(K),X=n(73),Z=n(589);n.d(e,"a",function(){return Pn}),n.d(e,"b",function(){return Dn}),n.d(e,"c",function(){return de}),n.d(e,"d",function(){return ht}),n.d(e,"e",function(){return hn}),n.d(e,"f",function(){return gr}),n.d(e,"g",function(){return ue}),n.d(e,"h",function(){return le}),n.d(e,"i",function(){return gn}),n.d(e,"j",function(){return Ue}),n.d(e,"k",function(){return jt}),n.d(e,"l",function(){return at}),n.d(e,"m",function(){return Tn}),n.d(e,"n",function(){return Mn}),n.d(e,"o",function(){return Ee}),n.d(e,"p",function(){return ye}),n.d(e,"q",function(){return yn}),n.d(e,"r",function(){return kt}),n.d(e,"s",function(){return pt}),n.d(e,"t",function(){return Le}),n.d(e,"u",function(){return ke}),n.d(e,"v",function(){return We}),n.d(e,"w",function(){return it}),n.d(e,"x",function(){return ae}),n.d(e,"y",function(){return ie}),n.d(e,"z",function(){return mn});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var $=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Q(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var J=function(){return(J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function tt(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function et(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}l((r=r.apply(t,e||[])).next())})}function nt(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=Object(o.createElement)("span",{className:this.props.className||e.defaultProps.className},this.props.headerContent);return this.props.overlay&&(t=Object(o.createElement)(r.DefaultTooltip,{mouseEnterDelay:.5,placement:"top",overlay:this.props.overlay,destroyTooltipOnHide:!0},t)),t},e.defaultProps={className:"text-wrap"},e}(o.Component),ot={"annotation-item-load":"annotation-module_annotation-item-load__1pDN0","annotation-item-text":"annotation-module_annotation-item-text__Gy_Jv","annotation-item-error":"annotation-module_annotation-item-error__5BhTo","annotation-item":"annotation-module_annotation-item__2EgnB"};function it(t){return Object(o.createElement)("span",{className:s()(""+ot["annotation-item"],""+ot["annotation-item-load"],t)},Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse"}))}function at(t){return Object(o.createElement)(r.DefaultTooltip,{overlay:Object(o.createElement)("span",null,t),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("span",{className:""+ot["annotation-item-error"]},Object(o.createElement)("i",{className:"fa fa-exclamation-triangle text-danger"})))}var st={"hotspot-info":"hotspotInfo-module_hotspot-info__33VyL"};function lt(t,e,n,i){return Object(o.createElement)("span",{className:st["hotspot-info"]},function(t,e,n,r){var i=t?Object(o.createElement)("b",null,"Recurrent Hotspot"):null,a=t&&e?Object(o.createElement)("span",null,"and"):null,s=e?Object(o.createElement)("b",null,"3D Clustered Hotspot"):null,l=null;if(n){var u=n>1?"samples":"sample";l=Object(o.createElement)("span",null,Object(o.createElement)("b",null,n)," ",u," with")}return Object(o.createElement)("span",null,l," ",i," ",a," ",s," ",r)}(t,e,n,i),Object(o.createElement)("br",null),function(t,e){var n=t?"a recurrent hotspot (statistically significant)":"",i=t&&e?"and":"",a=e?"a 3D clustered hotspot":"",s=t?Object(o.createElement)("a",{href:Object(r.getNCBIlink)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016"):"",l=e?Object(o.createElement)("a",{href:"http://genomemedicine.biomedcentral.com/articles/10.1186/s13073-016-0393-x",target:"_blank"},"Gao et al., Genome Medicine, 2017"):"";return Object(o.createElement)("span",null,"This mutated amino acid was identified as ",n," ",i," ",a," in a population-scale cohort of tumor samples of various cancer types using methodology based in part on ",s," ",i," ",l,".")}(t,e),Object(o.createElement)("br",null),Object(o.createElement)("br",null),function(t,e){var n=t?Object(o.createElement)("a",{href:"https://www.cancerhotspots.org/",target:"_blank"},"https://cancerhotspots.org/"):"",r=t&&e?"and":"",i=e?Object(o.createElement)("a",{href:"https://www.3dhotspots.org/",target:"_blank"},"https://3dhotspots.org/"):"";return Object(o.createElement)("span",null,"Explore all mutations at ",n," ",r," ",i,".")}(t,e))}var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this.props;return lt(t.isHotspot,t.is3dHotspot,t.count,t.customInfo)},e}(o.Component),ct="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%221024%22%20height%3D%221024%22%20viewBox%3D%220%200%201024%201024%22%3E%20%20%20%20%3Cg%20id%3D%22icomoon-ignore%22%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cpath%20fill%3D%22%23ff9900%22%20d%3D%22M321.008%201045.333c-68.245-142.008-31.901-223.379%2020.551-300.044%2057.44-83.956%2072.244-167.065%2072.244-167.065s45.153%2058.7%2027.092%20150.508c79.772-88.8%2094.824-230.28%2082.783-284.464%20180.315%20126.012%20257.376%20398.856%20153.523%20601.065%20552.372-312.532%20137.399-780.172%2065.155-832.851%2024.081%2052.676%2028.648%20141.851-20%20185.127-82.352-312.276-285.972-376.276-285.972-376.276%2024.083%20161.044-87.296%20337.144-194.696%20468.731-3.775-64.216-7.783-108.528-41.549-169.98-7.58%20116.656-96.732%20211.748-120.873%20328.628-32.701%20158.287%2024.496%20274.18%20241.748%20396.623z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E";function pt(t,e){var n=0;return t&&(n+=1),e&&(n+=.5),n}function dt(t){t.querySelector(".rc-tooltip-arrow").style.left="10px"}var ht=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return Q(e,t),e.prototype.render=function(){var t=this.props,e=t.isHotspot,n=t.is3dHotspot,i=Object(o.createElement)("span",{className:""+ot["annotation-item"]});if("pending"===this.props.status)i=it("pull-left");else if(e||n){var a=14,s=ct;e||(s="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20width%3D%2224.263px%22%20height%3D%2236.366px%22%20viewBox%3D%220%200%2024.263%2036.366%22%20enable-background%3D%22new%200%200%2024.263%2036.366%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%20%3Cpath%20fill%3D%22%23FF9900%22%20d%3D%22M6.828%2C27.947c-1.859-3.872-0.869-6.094%2C0.564-8.184c1.565-2.296%2C1.968-4.558%2C1.968-4.558%20%20s1.231%2C1.6%2C0.742%2C4.104c2.181-2.423%2C2.591-6.286%2C2.256-7.764c4.921%2C3.436%2C7.027%2C10.889%2C4.19%2C16.401%20%20C31.627%2C19.419%2C20.3%2C6.66%2C18.326%2C5.221c0.656%2C1.439%2C0.783%2C3.873-0.546%2C5.053C15.536%2C1.75%2C9.98%2C0%2C9.98%2C0%20%20c0.657%2C4.397-2.388%2C9.208-5.316%2C12.8C4.56%2C11.046%2C4.451%2C9.831%2C3.53%2C8.155c-0.201%2C3.183-2.636%2C5.785-3.298%2C8.974%20%20C-0.659%2C21.445%2C0.9%2C24.61%2C6.828%2C27.947L6.828%2C27.947z%22%2F%3E%20%3Ctext%20transform%3D%22matrix%280.583%200%200%200.583%203.7324%2036.1963%29%22%20fill%3D%22%23000000%22%20font-family%3D%22%5CiArial-BoldItalicMT%5Ci%22%20font-size%3D%2220.6802%22%3E3D%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E",a=18);var l=Object(o.createElement)("div",{className:"rc-tooltip-arrow-inner"}),u=Object(o.createElement)(ut,{isHotspot:e,is3dHotspot:n});i=Object(o.createElement)(r.DefaultTooltip,{overlay:u,placement:"topLeft",trigger:["hover","focus"],arrowContent:l,onPopupAlign:dt},Object(o.createElement)("span",{className:ot["annotation-item"]+" chang_hotspot"},Object(o.createElement)("img",{width:14,height:a,src:s,alt:"Recurrent Hotspot Symbol"})))}return i},e}(o.Component),ft={"Likely Neutral":"neutral",Unknown:"unknown",Inconclusive:"inconclusive","Predicted Oncogenic":"oncogenic","Likely Oncogenic":"oncogenic",Oncogenic:"oncogenic"},mt={Unknown:0,Inconclusive:0,"Likely Neutral":0,"Predicted Oncogenic":5,"Likely Oncogenic":5,Oncogenic:5},gt={4:1,"3B":2,"3A":3,"2B":4,"2A":5,1:6},vt={R3:1,R2:2,R1:3};function yt(t){if(t){var e=t.match(/LEVEL_(R?\d[AB]?)/);return e&&e.length>=2?e[1]:t}return null}function bt(t){var e=["oncokb","annotation-icon","unknown","no-level"];if(t){var n=yt(t.highestSensitiveLevel),r=yt(t.highestResistanceLevel);if(e[2]=ft[t.oncogenic]||(t.vus?"vus":"unknown"),n||r){var o="level";n&&(o=o+"-"+n),r&&(o=o+"-"+r),e[3]=o}}return e.join(" ")}function _t(t){return"oncokb level-icon level-"+t}function xt(t){var e={},n=[];return d.a.each(t,function(t){d.a.each(t,function(t){var n=wt(t.level),r=function(t){if(d.a.isArray(t)){var e=[];return t.forEach(function(t){var n,r;e.push((n=t.drugs,r=[],n.forEach(function(t){r.push(t.drugName)}),r.sort().join(" + ")))}),e.sort().join(", ")}return""}(t.content),o=t.tumorType,i=t.alterations.map(function(t){return t.name}).join(",");e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(i)||(e[n][i]={}),e[n][i].hasOwnProperty(r)||(e[n][i][r]={}),e[n][i][r].hasOwnProperty(o)?e[n][i][r][o].description=[e[n][i][r][o].description,"<br/>",t.description].join():e[n][i][r][o]={articles:[],tumorType:o,alterations:t.alterations,level:n,description:t.description,treatment:r},e[n][i][r][o].articles=d.a.union(e[n][i][r][o].articles,t.articles)})}),d.a.each(d.a.keys(e).sort(St),function(t){d.a.each(d.a.keys(e[t]).sort(),function(r){d.a.each(d.a.keys(e[t][r]).sort(),function(o){d.a.each(d.a.keys(e[t][r][o]).sort(),function(i){var a=e[t][r][o][i];n.push({level:a.level,variant:a.alterations.map(function(t){return t.name}),treatment:o,pmids:a.articles.filter(function(t){return!isNaN(t.pmid)}).map(function(t){return Number(t.pmid)}).sort(),abstracts:a.articles.filter(function(t){return d.a.isString(t.abstract)}).map(function(t){return{abstract:t.abstract,link:t.link}}),description:a.description,cancerType:a.tumorType})})})})}),n}function St(t,e){return r.LEVELS.all.indexOf(t)>r.LEVELS.all.indexOf(e)?-1:1}function wt(t){if(t){var e=t.match(/LEVEL_(R?\d[AB]?)/);return e instanceof Array&&e.length>=2?e[1]:t}return""}function Ct(t){var e={};return t&&t.length>0&&t.forEach(function(t){var n=t.query.id,o={id:"",gene:{},alteration:[],prevalence:[],progImp:[],treatments:{sensitivity:[],resistance:[]},trials:[],oncogenic:"",oncogenicRefs:[],mutationEffect:{},mutationEffectRefs:[],summary:""},i=[],a=[],s=[];(s=s.concat(t.evidences)).forEach(function(t){var e="";if(e=t.shortDescription?t.shortDescription:t.description,"GENE_SUMMARY"===t.evidenceType)o.gene.summary=e;else if("GENE_BACKGROUND"===t.evidenceType)o.gene.background=e;else if("ONCOGENIC"===t.evidenceType)t.articles&&(o.oncogenicRefs=t.articles);else if("MUTATION_EFFECT"===t.evidenceType){var n={};t.knownEffect&&(n.knownEffect=t.knownEffect),t.articles&&(n.refs=t.articles),e&&(n.description=e),o.alteration.push(n)}else if(t.levelOfEvidence&&-1===["LEVEL_0"].indexOf(t.levelOfEvidence)){var s={};s.alterations=t.alterations,s.articles=t.articles,s.tumorType=function(t){var e=d.a.isObject(t.tumorType)?t.tumorType.name:t.subtype||t.cancerType,n="";d.a.isObject(t.oncoTreeType)&&(n=t.oncoTreeType.name?t.oncoTreeType.name:t.oncoTreeType.mainType?t.oncoTreeType.mainType.name:"");n&&(e=n);return e}(t),s.level=t.levelOfEvidence,s.content=t.treatments,s.description=e||"",-1!==r.LEVELS.sensitivity.indexOf(wt(t.levelOfEvidence))?i.push(s):a.push(s)}}),o.alteration.length>0&&(o.mutationEffect=o.alteration[0]),o.treatments.sensitivity=i,o.treatments.resistance=a,e[n]=o}),e}function kt(t,e,n,r,o){var i={};return d.a.keys(t).forEach(function(a){var s=Number(a),l=t[s].map(function(t){return Tt(t,e,n,r)}).filter(function(t){return void 0!==t&&(!o||o(t))});s>0&&l.length>0&&(i[s]=l)}),i}function Tt(t,e,n,o){if(null!==e.indicatorMap){var i=Object(r.generateQueryVariantId)(o(t),n(t),t.proteinChange,t.mutationType);return e.indicatorMap[i]}}function Mt(t){return t.oncogenic.toLowerCase().trim().includes("oncogenic")}function jt(t,e,n,r){var o=!0;if(e&&n&&r){var i=Tt(t,e,n,r);o=!!i&&Mt(i)}return o}var Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)("div",null,Object(o.createElement)("span",null,"The gene is listed under "),Object(o.createElement)("a",{href:"https://www.oncokb.org/cancerGenes",target:"_blank"},"OncoKB Cancer Gene List"),Object(o.createElement)("span",null," but hasn't been curated yet. Please feel free to "),Object(o.createElement)("a",{target:"_blank",href:"mailto:contact@oncokb.org?subject=Annotation suggestion for "+this.props.gene+"&&body=Thank you for using OncoKB.%0APlease provide the following information for "+this.props.gene+" curation:%0A%0AEvidence:%0APMIDs:%0AAbstracts:",title:"suggest to annotate this gene"},"suggest the team annotate the gene"),".")},e}(o.Component);function Ot(t,e){return e=null==e?-1/0:e,(t="string"==typeof(t=null==t?-1/0:t)?t.toLowerCase():t)>(e="string"==typeof e?e.toLowerCase():e)?1:t<e?-1:0}function It(t,e){return Ot(t.join(),e.join())}function Pt(t,e){for(var n=0,r=Math.min(t.length,e.length),o=0;o<r&&0===(n=Ot(t[o],e[o]));o++);return 0===n&&(t.length<e.length?n=-1:t.length>e.length&&(n=1)),n}var At=function(){function t(){}return Object.defineProperty(t,"LEVELS",{get:function(){return["1","2A","2B","3A","3B","4","R1","R2"]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"LEVEL_DESC",{get:function(){return{1:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"FDA-recognized")," biomarker predictive of response to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in this indication")),"2A":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Standard care")," biomarker predictive of response to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in this indication")),"2B":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Standard care")," biomarker predictive of response to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in another indication"),", but not standard care for this indication"),"3A":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug ",Object(o.createElement)("b",null,"in this indication")),"3B":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug ",Object(o.createElement)("b",null,"in another indication")),4:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling biological evidence")," supports the biomarker as being predictive of response to a drug"),R1:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Standard care")," biomarker predictive of ",Object(o.createElement)("b",null,"resistance")," to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in this indication")),R2:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of ",Object(o.createElement)("b",null,"resistance")," to a drug")}},enumerable:!0,configurable:!0}),t}(),Dt="listGroupItem-module_list-group-item__1Y5zb",Rt="listGroupItem-module_list-group-item-title__3diZg",Ft="listGroupItem-module_list-group-item-content__Sspft",zt="listGroupItem-module_no-style-ul__2Rf8i",Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=Object(o.createElement)("b",null,this.props.abstract);return this.props.link&&(t=Object(o.createElement)("a",{href:this.props.link,target:"_blank"},t)),Object(o.createElement)("li",{key:"abstract_"+this.props.abstract,className:Dt},Object(o.createElement)("span",{className:Rt},t))},e}(o.Component),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)("li",{key:this.props.pmid,className:Dt},Object(o.createElement)("a",{className:Rt,href:Object(r.getNCBIlink)("/pubmed/"+this.props.pmid),target:"_blank"},Object(o.createElement)("b",null,this.props.title)),Object(o.createElement)("div",{className:Ft},Object(o.createElement)("span",null,this.props.author," ",this.props.source,". ",this.props.date),Object(o.createElement)("span",null,"PMID: ",this.props.pmid)))},e}(o.Component),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this,e=[];return this.props.pmidData&&this.props.pmids.forEach(function(n){var r=t.props.pmidData[n.toString()],i=r?r.data:null;i&&e.push(Object(o.createElement)(Lt,{title:i.title,author:Object(p.isArray)(i.authors)&&i.authors.length>0?i.authors[0].name+" et al.":"Unknown",source:i.source,date:new Date(i.pubdate).getFullYear().toString(),pmid:i.uid}))}),this.props.abstracts.forEach(function(t){e.push(Object(o.createElement)(Nt,{abstract:t.abstract,link:t.link}))}),Object(o.createElement)("ul",{className:zt},e)},e}(o.Component),Ht={"oncokb-card":"main-module_oncokb-card__32DzD","tooltip-refs":"main-module_tooltip-refs__SpA4W",disclaimer:"main-module_disclaimer__3CLlM","orange-icon":"main-module_orange-icon__3k3xO",footer:"main-module_footer__2dc-8",feedback:"main-module_feedback__3vkZD","oncokb-logo":"main-module_oncokb-logo__3RVg7","enable-hover-a":"main-module_enable-hover-a__BuHRF","enable-hover-active":"main-module_enable-hover-active__2CbLQ",title:"main-module_title__2kT-n","additional-info":"main-module_additional-info__1nXTm","ellipsis-text-wrapper":"main-module_ellipsis-text-wrapper__18dny",indicator:"main-module_indicator__2DwvF"},Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this,e=this.props.content.split(/pmid|nct/i);if(e.length<2)return Object(o.createElement)("span",null,this.props.content);var n,i,a=e[1].match(/[0-9]+/g);if(!a)return Object(o.createElement)("span",null,this.props.content);if(this.props.content.toLowerCase().indexOf("pmid")>=0?n="PMID: ":this.props.content.toLowerCase().indexOf("nct")>=0&&(n="NCT"),n&&(i=Object(o.createElement)("a",{target:"_blank",href:Object(r.getNCBIlink)("/pubmed/"+a.join(","))},""+n+a.join(","))),"tooltip"===this.props.componentType){return Object(o.createElement)("span",{key:this.props.content},e[0],Object(o.createElement)(r.DefaultTooltip,{overlay:function(){return Object(o.createElement)("div",{className:Ht["tooltip-refs"]},Object(o.createElement)(Bt,{pmids:a.map(function(t){return parseInt(t)}),pmidData:t.props.pmidData,abstracts:[]}))},placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("i",{className:"fa fa-book",style:{color:"black"}})),")")}return i?Object(o.createElement)("span",{key:this.props.content},e[0],i,")"):Object(o.createElement)("span",null,this.props.content)},e}(o.Component),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this;if(!this.props.content)return Object(o.createElement)("span",null);var e=[],n=/(\(.*?[PMID|NCT].*?\))/i;return this.props.content.split(n).forEach(function(r){r.match(n)?e.push(Object(o.createElement)(Vt,{pmidData:t.props.pmidData,componentType:t.props.type,content:r})):e.push(Object(o.createElement)("span",null,r))}),Object(o.createElement)("span",null,e)},e}(o.Component),Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelTooltipContent=function(t){return Object(o.createElement)("div",{style:{maxWidth:"200px"}},At.LEVEL_DESC[t])},e.treatmentTooltipContent=function(t,n,r,i){return t.length>0||n.length>0?function(){return Object(o.createElement)("div",{className:Ht["tooltip-refs"]},void 0!==i&&i.length>0?Object(o.createElement)(qt,{content:i,type:"tooltip",pmidData:e.props.pmidData}):Object(o.createElement)(Bt,{pmids:n,pmidData:r,abstracts:t}))}:Object(o.createElement)("span",null)},e.columns=[{id:"level",Header:Object(o.createElement)("span",null,"Level"),accessor:"level",maxWidth:45,sortMethod:function(t,e){return Ot(r.LEVELS.all.indexOf(t),r.LEVELS.all.indexOf(e))},Cell:function(t){return Object(o.createElement)(r.DefaultTooltip,{overlay:e.levelTooltipContent(t.value),placement:"left",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("i",{className:_t(t.value),style:{margin:"auto"}}))}},{id:"variant",Header:Object(o.createElement)("span",null,"Alteration(s)"),accessor:"variant",minWidth:80,sortMethod:function(t,e){return Pt(t,e)},Cell:function(t){return Object(o.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},(e=t.value,n={},r=[],i=new RegExp("^([A-Z])([0-9]+)([A-Z]$)"),d.a.isString(e)?e:(d.a.each(e,function(t){var e=i.exec(t);d.a.isArray(e)&&4===e.length?(n.hasOwnProperty(e[2])||(n[e[2]]={}),n[e[2]].hasOwnProperty(e[1])||(n[e[2]][e[1]]={}),n[e[2]][e[1]][e[3]]=1):r.push(t)}),d.a.each(d.a.keys(n).map(function(t){return Number(t)}).sort(),function(t){d.a.each(d.a.keys(n[t]).sort(),function(e){r.push(e+t+d.a.keys(n[t][e]).sort().join("/"))})}),r.join(", "))));var e,n,r,i}},{id:"treatment",Header:Object(o.createElement)("span",null,"Drug(s)"),accessor:"treatment",Cell:function(t){return Object(o.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},t.original.treatment)}},{id:"cancerType",Header:Object(o.createElement)("span",null,"Level-associated",Object(o.createElement)("br",null),"cancer type(s)"),accessor:"cancerType",minWidth:120,Cell:function(t){return Object(o.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},t.original.cancerType)}},{id:"referenceList",Header:Object(o.createElement)("span",null),sortable:!1,maxWidth:25,Cell:function(t){return(t.original.abstracts.length>0||t.original.pmids.length>0)&&Object(o.createElement)(r.DefaultTooltip,{overlay:e.treatmentTooltipContent(t.original.abstracts,t.original.pmids,e.props.pmidData,t.original.description),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("i",{className:"fa fa-book"}))}}],e}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{className:"oncokb-treatment-table"},Object(o.createElement)(q,{data:this.props.treatments,columns:this.columns,defaultSorted:[{id:"level",desc:!0}],showPagination:!1,pageSize:this.props.treatments.length,className:"-striped -highlight"}))},e=tt([c.observer],e)}(o.Component),Wt="collapsible-module_collapsible-header__3nZtU",Ut="collapsible-module_levels-collapse__2GBRW",Kt="level-module_levels__2ZL1B",Yt="level-module_levels-li__1tgCC",Xt="tabs-module_tabs-wrapper__XKjzo",Zt="tabs-module_tabs__2I3mz",$t="tabs-module_tab__3MoDA",Qt="tabs-module_tab-pane__sGd85",Jt="tabs-module_tab-title-a__2WTNA",te="tabs-module_tab-title__2z9-D",ee="tabs-module_tab-subtitle__1P8B_",ne=function(t){function e(e){var n=t.call(this,e)||this;return n.activeTab="oncogenicity",n.levelsCollapsed=!0,n.handleOncogenicityTabSelect=n.handleOncogenicityTabSelect.bind(n),n.handleMutationEffectTabSelect=n.handleMutationEffectTabSelect.bind(n),n.handleLevelCollapse=n.handleLevelCollapse.bind(n),n}return Q(e,t),Object.defineProperty(e.prototype,"oncokbLinkOut",{get:function(){var t=void 0;return this.props.gene&&(t="https://oncokb.org/gene/"+this.props.gene,this.props.variant&&(t=t+"/"+this.props.variant)),t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LEVELS",{get:function(){return["1","2A","2B","3A","3B","4","R1","R2"]},enumerable:!0,configurable:!0}),e.prototype.levelListItem=function(t,e){return Object(o.createElement)("li",{key:t,className:Yt},Object(o.createElement)("i",{className:_t(t)}),e)},e.prototype.generateLevelRows=function(t,e){var n=this,r=[];return t.forEach(function(t){r.push(n.levelListItem(t,e[t]))}),r},e.prototype.render=function(){var t=Object(o.createElement)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAABbCAYAAABd59MPAAAABGdBTUEAALGPC/xhBQAACjppQ0NQUGhvdG9zaG9wIElDQyBwcm9maWxlAABIiZ2Wd1RU1xaHz713eqHNMBQpQ++9DSC9N6nSRGGYGWAoAw4zNLEhogIRRUQEFUGCIgaMhiKxIoqFgGDBHpAgoMRgFFFReTOyVnTl5b2Xl98fZ31rn733PWfvfda6AJC8/bm8dFgKgDSegB/i5UqPjIqmY/sBDPAAA8wAYLIyMwJCPcOASD4ebvRMkRP4IgiAN3fEKwA3jbyD6HTw/0malcEXiNIEidiCzclkibhQxKnZggyxfUbE1PgUMcMoMfNFBxSxvJgTF9nws88iO4uZncZji1h85gx2GlvMPSLemiXkiBjxF3FRFpeTLeJbItZMFaZxRfxWHJvGYWYCgCKJ7QIOK0nEpiIm8cNC3ES8FAAcKfErjv+KBZwcgfhSbukZuXxuYpKArsvSo5vZ2jLo3pzsVI5AYBTEZKUw+Wy6W3paBpOXC8DinT9LRlxbuqjI1ma21tZG5sZmXxXqv27+TYl7u0ivgj/3DKL1fbH9lV96PQCMWVFtdnyxxe8FoGMzAPL3v9g0DwIgKepb+8BX96GJ5yVJIMiwMzHJzs425nJYxuKC/qH/6fA39NX3jMXp/igP3Z2TwBSmCujiurHSU9OFfHpmBpPFoRv9eYj/ceBfn8MwhJPA4XN4oohw0ZRxeYmidvPYXAE3nUfn8v5TE/9h2J+0ONciURo+AWqsMZAaoALk1z6AohABEnNAtAP90Td/fDgQv7wI1YnFuf8s6N+zwmXiJZOb+DnOLSSMzhLysxb3xM8SoAEBSAIqUAAqQAPoAiNgDmyAPXAGHsAXBIIwEAVWARZIAmmAD7JBPtgIikAJ2AF2g2pQCxpAE2gBJ0AHOA0ugMvgOrgBboMHYASMg+dgBrwB8xAEYSEyRIEUIFVICzKAzCEG5Ah5QP5QCBQFxUGJEA8SQvnQJqgEKoeqoTqoCfoeOgVdgK5Cg9A9aBSagn6H3sMITIKpsDKsDZvADNgF9oPD4JVwIrwazoML4e1wFVwPH4Pb4Qvwdfg2PAI/h2cRgBARGqKGGCEMxA0JRKKRBISPrEOKkUqkHmlBupBe5CYygkwj71AYFAVFRxmh7FHeqOUoFmo1ah2qFFWNOoJqR/WgbqJGUTOoT2gyWgltgLZD+6Aj0YnobHQRuhLdiG5DX0LfRo+j32AwGBpGB2OD8cZEYZIxazClmP2YVsx5zCBmDDOLxWIVsAZYB2wglokVYIuwe7HHsOewQ9hx7FscEaeKM8d54qJxPFwBrhJ3FHcWN4SbwM3jpfBaeDt8IJ6Nz8WX4RvwXfgB/Dh+niBN0CE4EMIIyYSNhCpCC+ES4SHhFZFIVCfaEoOJXOIGYhXxOPEKcZT4jiRD0ie5kWJIQtJ20mHSedI90isymaxNdiZHkwXk7eQm8kXyY/JbCYqEsYSPBFtivUSNRLvEkMQLSbyklqSL5CrJPMlKyZOSA5LTUngpbSk3KabUOqkaqVNSw1Kz0hRpM+lA6TTpUumj0lelJ2WwMtoyHjJsmUKZQzIXZcYoCEWD4kZhUTZRGiiXKONUDFWH6kNNppZQv6P2U2dkZWQtZcNlc2RrZM/IjtAQmjbNh5ZKK6OdoN2hvZdTlnOR48htk2uRG5Kbk18i7yzPkS+Wb5W/Lf9ega7goZCisFOhQ+GRIkpRXzFYMVvxgOIlxekl1CX2S1hLipecWHJfCVbSVwpRWqN0SKlPaVZZRdlLOUN5r/JF5WkVmoqzSrJKhcpZlSlViqqjKle1QvWc6jO6LN2FnkqvovfQZ9SU1LzVhGp1av1q8+o66svVC9Rb1R9pEDQYGgkaFRrdGjOaqpoBmvmazZr3tfBaDK0krT1avVpz2jraEdpbtDu0J3XkdXx08nSadR7qknWddFfr1uve0sPoMfRS9Pbr3dCH9a30k/Rr9AcMYANrA67BfoNBQ7ShrSHPsN5w2Ihk5GKUZdRsNGpMM/Y3LjDuMH5homkSbbLTpNfkk6mVaappg+kDMxkzX7MCsy6z3831zVnmNea3LMgWnhbrLTotXloaWHIsD1jetaJYBVhtseq2+mhtY823brGestG0ibPZZzPMoDKCGKWMK7ZoW1fb9banbd/ZWdsJ7E7Y/WZvZJ9if9R+cqnOUs7ShqVjDuoOTIc6hxFHumOc40HHESc1J6ZTvdMTZw1ntnOj84SLnkuyyzGXF66mrnzXNtc5Nzu3tW7n3RF3L/di934PGY/lHtUejz3VPRM9mz1nvKy81nid90Z7+3nv9B72UfZh+TT5zPja+K717fEj+YX6Vfs98df35/t3BcABvgG7Ah4u01rGW9YRCAJ9AncFPgrSCVod9GMwJjgouCb4aYhZSH5IbyglNDb0aOibMNewsrAHy3WXC5d3h0uGx4Q3hc9FuEeUR4xEmkSujbwepRjFjeqMxkaHRzdGz67wWLF7xXiMVUxRzJ2VOitzVl5dpbgqddWZWMlYZuzJOHRcRNzRuA/MQGY9czbeJ35f/AzLjbWH9ZztzK5gT3EcOOWciQSHhPKEyUSHxF2JU0lOSZVJ01w3bjX3ZbJ3cm3yXEpgyuGUhdSI1NY0XFpc2imeDC+F15Oukp6TPphhkFGUMbLabvXu1TN8P35jJpS5MrNTQBX9TPUJdYWbhaNZjlk1WW+zw7NP5kjn8HL6cvVzt+VO5HnmfbsGtYa1pjtfLX9j/uhal7V166B18eu612usL1w/vsFrw5GNhI0pG38qMC0oL3i9KWJTV6Fy4YbCsc1em5uLJIr4RcNb7LfUbkVt5W7t32axbe+2T8Xs4mslpiWVJR9KWaXXvjH7puqbhe0J2/vLrMsO7MDs4O24s9Np55Fy6fK88rFdAbvaK+gVxRWvd8fuvlppWVm7h7BHuGekyr+qc6/m3h17P1QnVd+uca1p3ae0b9u+uf3s/UMHnA+01CrXltS+P8g9eLfOq669Xru+8hDmUNahpw3hDb3fMr5talRsLGn8eJh3eORIyJGeJpumpqNKR8ua4WZh89SxmGM3vnP/rrPFqKWuldZachwcFx5/9n3c93dO+J3oPsk42fKD1g/72ihtxe1Qe277TEdSx0hnVOfgKd9T3V32XW0/Gv94+LTa6ZozsmfKzhLOFp5dOJd3bvZ8xvnpC4kXxrpjux9cjLx4qye4p/+S36Urlz0vX+x16T13xeHK6at2V09dY1zruG59vb3Pqq/tJ6uf2vqt+9sHbAY6b9je6BpcOnh2yGnowk33m5dv+dy6fnvZ7cE7y+/cHY4ZHrnLvjt5L/Xey/tZ9+cfbHiIflj8SOpR5WOlx/U/6/3cOmI9cmbUfbTvSeiTB2Ossee/ZP7yYbzwKflp5YTqRNOk+eTpKc+pG89WPBt/nvF8frroV+lf973QffHDb86/9c1Ezoy/5L9c+L30lcKrw68tX3fPBs0+fpP2Zn6u+K3C2yPvGO9630e8n5jP/oD9UPVR72PXJ79PDxfSFhb+BQOY8/wldxZ1AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfjBhkVDBxcDFzhAAAZ4ElEQVR42u2dd5wWxd3Av3fHnQciIkp1VRQJqBGRtcVELLG3GGPsYo8tUTGuJTGv5bW+q9GIFSv2FkvsGiKK8qK4xoaIBVEXbKgUj0PKXf6YecLj+dyWZ2d293me+X4+z+c5eHZnZ2dn5zczvwYGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYCifupzXrwuwItAs/+5Y91Zgofw2GAwGQw0KkJ5AP2A9YFdgK2BIzDLmAJOBp4EXgc/lx2AwGAxVJECagIHA4cCpJVYXKnkIuAyYCsw1j9xgiMyqCceIVqAlg7Glh4Zxch6wOOCYeqBXRs+pXdat8GmvVmE1ELhX3mAWn5nA1kBXMzYYDJEGpiSfa1OubzPQpmHcmBHh2r0zHNdKfaYB44BjgMGyfo2V2AmbgL1z1rjtwBhgJTNGGAydsizhO3ZlinWtlzsMqscJP+L1e+dwjCv1mSIn0d3z3vm6SOmX9wYdD3QzY4XBUNEC5GMNY8PXMa5fKQKk+PMqYOWx4/2yAhvzOvTqYgwGI0D08LqG8eA74ul/KlGAFD6fA6vlocPVAbMquCHbgfXNuGEwVIwA+ZemcaA5Zj16V/i4V5bOql7hg9wTocAaUOEvzVS5rVVnxg+DIdc8BGyrodyuwKIabM9jgU+yECDPA49UUUNuJ2dfjeYdNRhyyThgLw3l9qxR4VFgDWK4O6gQIHOAkVXYkHUIm+q+5l01GHLFGGCUhnJ7I/w9ap2VgQ/SECDfIZyNqpnPgWGmTxkMueAC4Pcayu0jJ8MGwSDgUZ0CZCEiTlUt8AawoelTBkOmnAb8SUO5qwNfmeb9EbsDm+sQIAuoPW/uN6VUNhgM6XMUcImGctcGZpvm7ZQ7VQuQGVSAF6MmPiC7eDcGQy3PhG/QUO4gRHgjQ3AbDVUlQK6SEruWMR3OYEiPTYmwF18Gw4kW48ogxv2SxPG8HgyckGKl3wTuBiYA3yJ0LsU0IXQwmyLM+XZPqV4rAbehxwrEYDAsZ23gZQ3ljkToNQ3RSKz/bSIdT8irEZ7g5fpfWIgQ8YtSqOvPTb8yVDlZeqKvBCzR8N5uq6mtVHiinxTzmnUIj/m+ctwcBUzXNN4l4i7Ng/FhqFfKb4LQWeiqcxvGW91gBIguAdKq4Z39rca2UiFA/qioLmsBDypuu7KDLvbVOAifi/4AhjvIwV5HnoBzzBhjMAJEuQCZr+Fd1b39nicBUmB3he1Xttf/DA0Pcx5Cp5IWXTRI5MJnNTPOGIwAUSZAvtLwjp6cQlvlUYAgt8W0tWGYFdZg1FtdvYIwhX0/xRdhKSKplaOh7AvNOGMwKOFjDROyC4ArarhN/wZ8o6CcXuUIkCcU38xjCM/GZRk15qXAEYrLPBoRO8ZgMJTPVGBNxWVeD5xlmlaJAK2LK0DWBNZVeBMvA3vkoDFvAX6nuMxTTB81GMrmRdTn4RmHCE9uEG2RlNje+lehbg/yW/JnsTRW4f0tMX3UUIWkoQN5GPU6jwczaKu86kAKpOq20Kj4gQ7O4ctRh9gbVHWPu+Xs/roA+0pB+RalrdBagHeAe4HRwIgKGtxGAMchUhFPAr7sZMBrkdsj9yN0YNuQw9TFluNF+r8qEyA3ahAez2bUVnkWICr8+KLvawFbAi8pqvx5wNk5HYT6oy6Q2oPAb2I80GcoTxfUKAf7zkaXTYE/A79KMFO5GBG4Lk+5EVaQ7XsYwjQ7KVMREQUeJGLuA02CYy05wRqAUFT2kD+1SaE4G5jhu/Y7xYLFd+20BEiSiN1jgBM7+e1C4EzF9X0B2DpDAfJlwjJOBS7TULddgccTnD8PkWgrsgC5CzhA0bKpAQWejBq5D3UORlG36bry49AscdgB+GeH/1tdzrJ/prBtzkH46mTJhlIg7qfxGtOkUH46BYGxpnx+o4ifiO1DKfSe8F371RSEiS4BMhr4q+K6egjn4azIswB5Tq68y+V1YONSP3TWOQ5QVPFDci48QIQ+UcVWGd3DsYCvWHgUBMhnZOPrMhSxNfWmZuEBsB7wFPAp8FNNgmNPy/GmI0xVb6S8LJ6DpECfYjlem+V4o5EWgDnY7orKwRqEx7SMhUfeSRp2aXRnP5QSID9RWPF7K6BxW0rM5sslCyuzccC1Gsvvh3DuGpjS/TTLWfY0DQIxdJxH6ItcBQKj8L2v5XjtwCOK3606ORDPtRzvYmSKhZwLkt2A2xWX+QHqLbiqiWmUH1sQ+e5PiCNAVD2MSxAOfJWAqhlu2gEW7yC9qMAzWL4/r4vhiBhIh2TcH04F3i3nxSsawNe3HO+7lCZRpwMLLMcb5bt2XoXILxB+YCqZTT4NdPJAnRz4hyYs58SgH0sJkF0U3cBtFdTYqpTFm6dU3zaE78lBKXfIVzSWfwrw7xz1iSHAF3GFhxzAr0Yo6dNO+TzOcrz3yJ9j6zBgouIy5yP0foYfj+lbyzEiqUHBZOCeuAJkJ0U38k4FNfoyxL50UhqAVVKob3/0KNuiDKpnaij39ozuJ4yZMVceK1qO9w1wfIZ1HozY1tqkw4ooC9oRzsiqc28sAFatwsF/RXlfvSN++iG2XQfLcfteOZZNUFCXuUTYQq7r5KEn5R7UKeLTYk2EgjMp2wPjQ45JaoW1lOx8GRahNvT+o6SXDCzuBGiDGMKjF/B1wlVlC8u3fRsQ+qCmBGUe4rv2HQkstZJaYT0A7KP4uSxBGHXMz1l/UWGFlRcWI8zmI21LFLMaQmmSlJ1JwSRSMc2I/feknES4A1VSAZI1ZyP8e5JyHXBMDu/vI2CdGMJjZTljizsJ+By4Cbjed+3PAq5xMHCarFPcbbETfNe+JsHKvD5nz6YXIrJF3qgWAfKNvJe2cgTIUITWPilDEZmxKokG1Cj9rwL+UOUC5GOSW2XtibBMyhtfInLgRBUejcD3RPcBWgRc5Lv2eSXK6yJXlgXv38UdVw6W420F/F2+5FE5yHftu6pAgPQG5uT0nagGATKBmBkbu5SQ7ir4ugIbb5l8uZsTlrMK1c9acpD9IkEZD+XwvuZFFR5FE7CFEYVHO3Ca79qXFpn4NiP8F06nk208y/GmIqKp3gO0+K49EehjOd4QRIDSKArzOy3He8N37akV3OfWzLHwqHS+R/iwTYl7YsfZxUoKX8RK5DUFZfSokU6XJLfKRzncGmmhk3ANnaw8QPiMRNFFzfBdux4oCA/LcrwPEVumEwnWAW0A3IBQHLdZjrez5Xj1vmtP9127J9GNP17rUPdKYiDCydOglsUI37XmcoRHKQHSqKhilRqdVsW2Wx5MKAs52wsfHZTrdb8rep0Si+89qkFIGzGseqSp7o5EU7K7vmsPkn+vIIXnp0TUsZTgSWCZ5XiFax8NbBHhvCbL8Z5PKYaWas7GoJIXEI6nzST0zekoQLrXeMN+UeH1nwpsJp9rQ9GnHvWmpeUOgHdouO+nEU6cdR3uvWATPyvk/D5yGR8JqauIYiRyqO/ap8lzjkJskaoSnm9bjjfed218136ZaFunIy3H27sC+/XhCCMCgxpGAt/JidMMEsTJ0rGNsNA8n0wEXyMijtOUTmbl18rn/YCia5YTH+sg1OmI2hFpihsQVn+TAmZblpxtlbJ0Wp34Orv7Ixxzku/at0nhcSdiG0o121mOt8ByvCbftecSLf309RXaxy9Bbdw6g2BtRLDFdkSE8MwFSDfzTFLlZYRDURQLsnZE5OFnFF077mz6SkXXfVf23YeIvkX3PSJk+tgOq6jI4fwtx8NyvBWAvUIOfcR37SvlOf8ADtT4/LsDrVKIzIxwrdUsxzu1QnUhN8vJgkEPO8gxInK8so4C5Lsab0AVOZnTzLzYSrT9747shFCgJSVOBNRG1Fj5vYSInlsuxwBPIOJufRTnRKk/uCnCoftI4XE56QTYrEeEesd37bsJt3BzUtKFzNJQ5pOkFzKoVjkYYbTRM0rHK0bV9lPXCm24dRSUkaYF2skJzv2TgusPiXHsLQqu9wkiKF9SdqOM8BrS7DYs/tgw37WXWo63ccznsxiRP+NARCbJvwDvxame5XgXSSGyd8iKtI/leDul0D/vBy7QUO5k0osOXat0RzhsbhN0UEcTxAWKLt4DNV7dabOFgjLSEiDL+OF2TFwuQ+wrNyQoI0548r0U3POQjPtH2Mz3Pd+135J/PxWxzJuAU3zXLhWa43zL8brJrYWHI5R1huV443zXfhc4A7g04NgL0R8togE4C7BRv/X0EcLicT4GnTxH6QR2JVcgcxVddLUKbKgGReXMTqm+9ygoI+mW5YAYxyZ10HwAYcWUJWGrqJ2knuRchGVXEIuAfr5rHwXMD9BJLPRd+xGEbjGKrf59chVyWUh7bZhiu+2CHi9t4xuSDs/SyXZWRwGi6iFvUIGN1KSonPdTqu94BWW8l/D8qFuVaysQ0Idm2Tksx+tKiJWT79ozpW7hxJDivgS6+679RVGgwyssx/vYcrxvLcebZznebMvxJrDcKKXVd+3NEGFMgthQbp8BBMXAarQcb7sUm3CghjJ7GCGSGh9EESCqtl9GVWADqUpMk1YY+7cUlPH/Ka3aklohTSdD83C5OgiLMHCiPHZrwpWPQxBbkAB7WY63CBGEc015bg9EyP6tgRbL8R4uJIryXXsfSpsjF/N7+X1dyHF/SNEaqxU9+Tss1ESQyAMnI4xw4nwKPk8ryj4zFLFdqDpU0KqUMCApZcb7toKL7Ub+QlWEcb6icianVN+ZCsr4MKW6Jk1sk2miKblC+GXIYQXTx8vDBm3ftedKgXCwfNHDQmf/ynK8yUXZBtcqEkClOELW+32CI9cOS9kzfTZCH6KajYF/VIEAKSdFQyHqwkJEdOfpCN3W3lLAbCb/X8vCoNQg/7iii21UQQ+uETXmlvNDXmyVqAgsl9byP+mg8WwO+sivQ35vkd8DA45Z6Lv2VVJPsi7x8oNvbjneKdLzfAnwfMiqaaMIbZdF4M/XEL5IqtkDNUnhqo0pcmVysCIBNyZMgIxXVPHRFdTIa1XY6kMVn6V0naRm3XlIDRCU736JHNTDBuWrilY0l5dRh8ssx+siVyH7hRw7XH4H7VFlFfjzAYQVmGqOxMTN6ow7UWMJd0SYAHlXUYUPoXIi0z6lqJwXUqqvqlXO4pTqm9S50s9BH+kf8NtzctYf5oj6jFx9dKH8LIzry1XIHIL1Qj+V30GGEg0ZtuefFU5WizkHOMrIi5I8TfJYdN0oMjiq72RbQ1UE15MroFFXAQYpKuvBChmQK41lWV7ccrwwfV7B8m5o2EpKrj42SVCdI4v+DjLDLiisvwq5tywnedujJ4DpDcCONfieRJ3YJ2V0kAAB4WSmgnOJmGMhQyYpKmcharI5ViPtCc/vl/P6FyL5hqVDKOhJkuTdGRBRsBZWF0s1PxsUPFsddXiaZCFvqpkPEp5/dJgAuU1hZW/JcUP+PMKsMSq3m37ZKUkdAIdmXP+wmWzBSTJsS7CQLiGJufynJYREKZZGFGp5sJbUpcx/mxh5XmqIpKu+fmGd522Fld2L8vd7dbIC8KLiZbOhNEl9Y0ZmWXnftcO2dAshXcJWoEOlAnyKon4WtJIp6I16h9xbHrKHzkOPeW8dwnTYbGX9kKQqioYosw+VVlSPEi/XdBpMUljW5wRbu9Q6ExKev2kO7iFIkb+tHIzDlP07SwV4O+Xry96XivgBBFu3vd1BuAWtUvLAa/xQv6OKJtSFaKoWkmZNrYsiQFRvyUwj3GEqLW4ERigsz5gOBpPUK3Z4Du4hyMKuwXK8gmXKNwHHnQD/9WwvZ4L2O9+1l0pFfFhisNfld5DCPm+BCG8mOPxKufQg+b5/NbGOqoKCBMjXqHWH74kwKVwx48Ybq2GmM9b0yUA8kitK/5bxPTwS8nshZlWQd/8KluP9Ua5CPiFehOInfde+Qa4+uhESGbgoKnBQ2PZvc9hXTlCwYi3FICrPT0sHO5A8dXl7FAECIvmOKuqANRCB5FbPoOHq5CBwtOJyzzB9MhJJFenHZlVxuWIIG9QKk5KwQIqXWo7XV8a1egRhyhoW5+tm37V3LQq8ODPk3b1e1ns9gvUkr+c0M+G2xEz2FZHNgXE1/h7eqqCMtqgC5CvUxpipkzM1H9g/xUYbKGdbOrLDXWJkQySmJDy/KasZpBy0w7Z7LrUcr8537ckEb2OBMCoo6C/G+669ImIb9C05wZqD2HK5G2j2XfvIgvCwHO8JQhTjSI/3CEL3rynHwoq7zbJAQ7mjgDNr9B38O/FSMHTG91EFCIRnYCuXu+WLZGlssGZERrRC8hnV1hgHY4iKinDsm6PGR+niCINwRyGyiPCQKoPkjP7/Qo7rBcyzHO8nRQESz/Nde5jv2n191+7tu/Zg37UPLHpZV7Ic701Ebo1AQe27dkGBflzAcYt9156U8z7TDz1OpBcCB9TY+/cAIsCiCh6LI0C+A47XdFPrIezax6MmH3mBnggv+FbUpG4tOaYg4ssYojFT0YzyFODaBOdfAZyOsIWPG6PriJDfX5D6jUsIjzPWCEy3HO9uYEDASqCn5XiHyhVQlCRQBwJYjvcXgn1A3qyAPrOQ4BhkSbgL+FmVv3MNCPPoduA3Csu9svBH1PDB18lZVXdNN7od8DHCEesE4AnE9tmSGGWsCqwrb26zFB7OVkYmxMYFzlNQzrFyoNwQkSc9Ct2Bl4Bh8t91iG3NlWL0szCFQX/L8TbxXftVxD5+lLhy+wP7y1XIbQjz8qVycrUP8QJ9nuW7dsHa6JyQY0+rkD7zshwTrtZQ9iREHqC8WGh1QzhVlrNT0shyFcH6iJ0jHWqCxcCrFL1EcW6uJeUGnQU8A7zCcietggXA6ghT3JEpCYxijiZZ6OiuJEuQ1IaaQHgjSOa/MrmMWVwLyy2WVLBArgwmytXyIpYr+ZoQJpwnB6xEvyZGCmbL8W4k3IqvyXftJZbjnY8IGpgG7/muPUTW8XFg14BjP/ddu3+EMpeRzFN9DOFGBVG5huAtuSQMIHlk6t7oSdubN6ZTFBkirqTbnnzkZsh6RrRFwjJqWYCciZ5Q3kn4iAi28XKV0ESRErETnvFdeyd5zp0kz8gYRSj38F27zXK8IyNMbk4ExkRQoOdJgAA8iZqQ5KXoSbIQM7UiQPpQFKAzbuf4J2rMwCqVxcCWGJJwEeoypKlibWBq2EFSv7GY8FhxO1qOd6Y85yD0+gl9VSQ81osgPD7zXXtMjq2vgtgFdekmOjKX/Dg655V36BDduZzZxeFknGI0Q1ZFXaj7WmZYDuu0PhEUy3IVcniE8i60HO84KUSOQY8142O+a/eRwqM/0WKOHZVT34+orIc+D/o55tXslCXABh3/s9zl6QjU5OSuJHoRnH/BEG/WfHkO67UhYosybBXSRrQAj9dYjlfwybgLsWX8joJ6tgPr+K69hxRq2yCCBobxrO/aT1To6qOYAZrK7V7Dk+MwSm4dJtnfXLuGGrs7+Qz7UMmcgrCKyhubAf+KcNxEoumPTrAc7wugUQqfDeRKtpyI10uBkb5r1/uu/ZEUHvchMyKG0Oq79o5V0ndagI01lT0cuN+8nj/gss7eiaS5AEaQXha+LFiG2BdtMX1IC78ggu4hA7YFHo+wEtmEaCFa+gCLLccrBN38Rq526uX3/XQeGfdVhBK+QQqhiVJwbGQ53vfAb2OsrqqJ19Hn5LwPJsJEgbHAqZ39qMozez/gnipruEkIXw8dOo9atsIqxVssz+GdJx4jIPxNUXiRJUT3qQK41Hdtp0R59UXvZDvQ1nG7yXK8XaXAiWMKvZeMu1XOBCpPVlilOAv4X01lH090p9VqtMI6lZDIDypDe3RH2NQ3VUHD7R42AzUCRKkAAZEzJm+Jx5YSktGvyLS3NeZg2yZXtmOBqwtbUiXKb0T4ufyPHKQaY97D4b5r35pgBZ53AQIi9YSusEL7A/fWmABpR5i1zww7UHVsqHpEnCGnQhtuFjAE/VtWRoCU5jDykwJ5EcJwojXsQClEuiKsg7okeKZL5KBdJ9+lhgTl/XflURTFt1oFCMAb6LPu2wZ4vkYEyBVy5REpBpnqfMhtiBAJK6PPXlsXNiKwo9F3ZMetiFAOn2VcD0+uqFujHCwH51bEttLsMq9Zj9C3dZPCaIWEwmP9hMKj0hhOuINnuUyg+nRIHbkXkatpNDECWNZrqsx8hL32QPJv7vtr+aK+ZsbvXDAXYaa5fUbX3wORxS9WFFg5SC/xXXt1hLNkVrwBdPNde1pRvWqBdvSZ94LwEVq1ytpsMSK8fQ/EVl3sXZF6zRX8GGHuuwb5stb6EhEavAF4GD0how3JGC+fz/ak439zopz5P1ZuAYXQ7L5r/0n2+bRzce/pu/bwqCunKuQbSji7KcRPYczUzYuITJj95Sr3dhJEyU6rMXxEOOEeCIeULKJftiF8D9YA+iICNFaqV7mq55ZUj9IjhWc2HhExdx1EbheVPC4nEo2I/fpFiTv68hm/77v2KogUoronKGcCXX3XflTxllXSftYtg3fjHWA3TWU3B8zS63IyNrTK8fVJhD56NylU+8g6boXIzKoknFCWN90Tsc11CCI0RLOGazyJSO/5b6KH/TbknzUQOa73lSuUwRHOmQc8hUis86Z8yVKbQFiOtyUiLYKqvfTvgaOAh3zXbqkhXYchR9TlqC49EErsQpj2EXJgWAehlC/FEikY3kU4pE1BRFadRf4C9hn00h2xBdWtQ/+eh9hKas9DJS3H64OI5nwMwSHXO5tdX4MISfKeLM8IDoMRIAZDLWI5Xj+E8rcvYquuoKhtQ1ijzQFm+649s+gcIzQMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBk38B9V+MKCNqpWZAAAAAElFTkSuQmCC",className:Ht["oncokb-logo"],alt:"OncoKB"});return Object(o.createElement)("div",{className:Ht["oncokb-card"],"data-test":"oncokb-card"},Object(o.createElement)("div",null,!this.props.geneNotExist&&Object(o.createElement)("span",null,Object(o.createElement)("div",{className:Xt},Object(o.createElement)("div",{className:Ht.title,"data-test":"oncokb-card-title"},this.props.title),Object(o.createElement)("div",{className:Zt},Object(o.createElement)("div",{key:"oncogenicity",className:s()($t,"enable-hover")},Object(o.createElement)("a",{className:s()("oncogenicity",Jt,Ht["enable-hover-a"],"oncogenicity"===this.activeTab?Ht["enable-hover-active"]:""),onClick:this.handleOncogenicityTabSelect},Object(o.createElement)("span",{className:te},"clinical implications"),Object(o.createElement)("span",{className:ee},this.props.oncogenicity||"Unknown"))),Object(o.createElement)("div",{key:"mutationEffect",className:s()($t,"enable-hover")},Object(o.createElement)("a",{className:s()("mutation-effect",Jt,Ht["enable-hover-a"],"mutationEffect"===this.activeTab?Ht["enable-hover-active"]:""),onClick:this.handleMutationEffectTabSelect},Object(o.createElement)("span",{className:te},"Biological Effect"),Object(o.createElement)("span",{className:ee},this.props.mutationEffect||"Unknown"))),Object(o.createElement)("div",{className:Ht.indicator})),"oncogenicity"===this.activeTab&&Object(o.createElement)("div",null,Object(o.createElement)("div",{className:s()(Qt)},Object(o.createElement)("p",null,this.props.geneSummary),Object(o.createElement)("p",null,this.insertLink(this.props.variantSummary,{keyword:"Chang et al. 2016",link:Object(r.getNCBIlink)("/pubmed/26619011")})),Object(o.createElement)("p",{style:{marginBottom:0}},this.props.tumorTypeSummary),this.props.treatments.length>0&&Object(o.createElement)("div",{style:{marginTop:10}},Object(o.createElement)(Gt,{pmidData:this.props.pmidData,treatments:this.props.treatments})))),"mutationEffect"===this.activeTab&&Object(o.createElement)("div",{className:s()(Qt),style:{maxHeight:200,overflowY:"auto"}},void 0!==this.props.biologicalSummary&&this.props.biologicalSummary.length>0?Object(o.createElement)(qt,{content:this.props.biologicalSummary,type:"tooltip",pmidData:this.props.pmidData}):this.props.mutationEffectCitations&&(this.props.mutationEffectCitations.abstracts.length>0||this.props.mutationEffectCitations.pmids.length>0)?Object(o.createElement)(Bt,{pmidData:this.props.pmidData,pmids:this.props.mutationEffectCitations.pmids.map(function(t){return Number(t)}),abstracts:this.props.mutationEffectCitations.abstracts}):Object(o.createElement)("span",null,"Mutation effect information is not available."))),Object(o.createElement)("div",{className:Ht.disclaimer},Object(o.createElement)("span",null,"The information above is intended for research purposes only and should not be used as a substitute for professional diagnosis and treatment.")),Object(o.createElement)("div",null,Object(o.createElement)("div",{className:Wt,onClick:this.handleLevelCollapse},"Levels",Object(o.createElement)("span",{style:{float:"right"}},this.levelsCollapsed?Object(o.createElement)("i",{className:s()("fa fa-chevron-down",Ht["orange-icon"])}):Object(o.createElement)("i",{className:s()("fa fa-chevron-up",Ht["orange-icon"])}))),Object(o.createElement)(h.Collapse,{isOpened:!this.levelsCollapsed},Object(o.createElement)("div",{className:s()(Kt,Ut)},Object(o.createElement)("ul",{style:{lineHeight:8,padding:0}},this.generateLevelRows(At.LEVELS,At.LEVEL_DESC)))))),!this.props.isCancerGene&&Object(o.createElement)("div",{className:Ht["additional-info"]},"There is currently no information about this gene in OncoKB."),this.props.geneNotExist&&this.props.isCancerGene&&Object(o.createElement)("div",{className:Ht["additional-info"]},Object(o.createElement)(Et,{gene:this.props.gene})),Object(o.createElement)("div",{className:Ht.footer},void 0===this.oncokbLinkOut?{oncokbLogo:t}:Object(o.createElement)("a",{href:""+this.oncokbLinkOut,target:"_blank"},t),this.props.handleFeedbackOpen&&Object(o.createElement)("span",{className:s()("pull-right",Ht.feedback)},Object(o.createElement)("button",{className:"btn btn-default btn-sm btn-xs",onClick:this.props.handleFeedbackOpen},"Feedback")))))},e.prototype.handleOncogenicityTabSelect=function(){this.handleTabSelect("oncogenicity")},e.prototype.handleMutationEffectTabSelect=function(){this.handleTabSelect("mutationEffect")},e.prototype.handleTabSelect=function(t){this.activeTab=t},e.prototype.handleLevelCollapse=function(){this.levelsCollapsed=!this.levelsCollapsed},e.prototype.insertLink=function(t,e){if(!t)return t;var n=[],r=t.split(e.keyword);n.push(r[0]);for(var i=Object(o.createElement)("a",{href:e.link,target:e.target||"_blank"},e.keyword),a=1;a<r.length;a++)n.push(i),n.push(r[a]);return n},tt([u.observable],e.prototype,"activeTab",void 0),tt([u.observable],e.prototype,"levelsCollapsed",void 0),tt([u.computed],e.prototype,"oncokbLinkOut",null),tt([u.action],e.prototype,"handleTabSelect",null),tt([u.action],e.prototype,"handleLevelCollapse",null),e=tt([c.observer],e)}(o.Component),re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),Object.defineProperty(e.prototype,"evidenceCacheData",{get:function(){var t;if(!this.props.geneNotExist&&this.props.evidenceCache&&this.props.evidenceQuery){var e=this.props.evidenceCache.getData([this.props.evidenceQuery.id],[this.props.evidenceQuery]);e&&(t=e[this.props.evidenceQuery.id])}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pmidData",{get:function(){if(this.props.pubMedCache&&this.evidenceCacheData)for(var t=this.props.indicator&&this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.citations.pmids.map(function(t){return Number(t)}):[],e=0,n=function(t){var e=[];return t.treatments&&d.a.isArray(t.treatments.sensitivity)&&t.treatments.sensitivity.forEach(function(t){d.a.isArray(t.articles)&&(e=e.concat(t.articles.map(function(t){return Number(t.pmid)})))}),t.treatments&&d.a.isArray(t.treatments.resistance)&&t.treatments.resistance.forEach(function(t){d.a.isArray(t.articles)&&(e=e.concat(t.articles.map(function(t){return Number(t.pmid)})))}),e}(this.evidenceCacheData.data).concat(t);e<n.length;e++){var r=n[e];this.props.pubMedCache.get(r)}return this.props.pubMedCache&&this.props.pubMedCache.cache||{}},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t,e=Object(o.createElement)("span",null),n=this.evidenceCacheData;if(this.props.geneNotExist&&(e=Object(o.createElement)(ne,{gene:this.props.hugoSymbol,geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,pmidData:{},handleFeedbackOpen:this.props.handleFeedbackOpen})),!n||!this.props.indicator)return e;if("complete"===n.status&&n.data&&!this.props.geneNotExist){var i=n.data,a=this.pmidData;e=Object(o.createElement)(ne,{geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,title:this.props.indicator.query.hugoSymbol+" "+this.props.indicator.query.alteration+" in "+this.props.indicator.query.tumorType,gene:this.props.indicator.geneExist?this.props.indicator.query.hugoSymbol:"",variant:this.props.indicator.query.alteration?this.props.indicator.query.alteration:"",oncogenicity:this.props.indicator.oncogenic,oncogenicityPmids:(t=i.oncogenicRefs,d.a.isArray(t)?d.a.map(t,function(t){return Number(t.pmid)}).sort():[]),mutationEffect:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.knownEffect:"",mutationEffectCitations:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.citations:{abstracts:[],pmids:[]},geneSummary:this.props.indicator.geneSummary,variantSummary:this.props.indicator.variantSummary,tumorTypeSummary:this.props.indicator.tumorTypeSummary,biologicalSummary:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.description:"",treatments:xt(i.treatments),pmidData:a,handleFeedbackOpen:this.props.handleFeedbackOpen})}else"pending"===n.status?e=Object(o.createElement)(r.TableCellStatusIndicator,{status:r.TableCellStatus.LOADING}):"error"===n.status&&(e=Object(o.createElement)(r.TableCellStatusIndicator,{status:r.TableCellStatus.ERROR}));return e},e.prototype.componentDidUpdate=function(){this.evidenceCacheData&&"complete"===this.evidenceCacheData.status&&this.evidenceCacheData.data&&this.props.onLoadComplete&&this.props.onLoadComplete()},e=tt([c.observer],e)}(o.Component),oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t="entry.1744186665="+(this.props.hugoSymbol||""),e="entry.1671960263="+(this.props.alteration||""),n="entry.1381123986="+(this.props.userEmailAddress||""),r="entry.1083850662="+encodeURIComponent(window.location.href);return Object(o.createElement)(G.Modal,{show:this.props.showFeedback,onHide:this.props.handleFeedbackClose},Object(o.createElement)(G.Modal.Header,{closeButton:!0},Object(o.createElement)(G.Modal.Title,null,"OncoKB Annotation Feedback")),Object(o.createElement)(G.Modal.Body,null,Object(o.createElement)("iframe",{src:"https://docs.google.com/forms/d/1lt6TtecxHrhIE06gAKVF_JW4zKFoowNFzxn6PJv4g7A/viewform?"+t+"&"+e+"&entry.118699694&entry.1568641202&"+n+"&"+r+"&embedded=true",style:{width:550,height:500,border:"none",marginLeft:"10px"},marginHeight:0,marginWidth:0},Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"}))))},e}(o.Component);function ie(t){var e,n,r=[0,0,0];return t&&(r[0]=(n=t.oncogenic,mt[n]||0),r[1]=(e=t.highestSensitiveLevel,gt[yt(e)||""]||0),r[2]=function(t){return vt[yt(t)||""]||0}(t.highestResistanceLevel)),r}function ae(t){return t?(t.oncogenic?t.oncogenic:"Unknown")+", "+(t.highestSensitiveLevel?t.highestSensitiveLevel.toLowerCase():"level NA"):"NA"}function se(t){t.querySelector(".rc-tooltip-arrow").style.display="none"}var le,ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showFeedback=!1,e.tooltipDataLoadComplete=!1,e}return Q(e,t),e.prototype.render=function(){var t=Object(o.createElement)("span",{className:""+ot["annotation-item"]});return"error"===this.props.status?t=at("Error fetching OncoKB data"):"pending"===this.props.status?t=it("pull-left"):(t=Object(o.createElement)("span",{className:""+ot["annotation-item"]},Object(o.createElement)("i",{className:bt(this.props.indicator),"data-test":"oncogenic-icon-image","data-test2":this.props.hugoGeneSymbol})),!this.props.disableFeedback&&this.showFeedback?t=Object(o.createElement)("span",null,t,Object(o.createElement)(oe,{userEmailAddress:this.props.userEmailAddress,hugoSymbol:this.props.hugoGeneSymbol,alteration:this.props.evidenceQuery?this.props.evidenceQuery.alteration:void 0,showFeedback:this.showFeedback,handleFeedbackClose:this.handleFeedbackClose})):(this.tooltipDataLoadComplete||this.props.evidenceCache&&this.props.evidenceQuery)&&(t=Object(o.createElement)(r.DefaultTooltip,{overlayClassName:"oncokb-tooltip",overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],onPopupAlign:se,destroyTooltipOnHide:!0},t))),t},e.prototype.tooltipContent=function(){return Object(o.createElement)(re,{hugoSymbol:this.props.hugoGeneSymbol,geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,indicator:this.props.indicator||void 0,evidenceCache:this.props.evidenceCache,evidenceQuery:this.props.evidenceQuery,pubMedCache:this.props.pubMedCache,onLoadComplete:this.handleLoadComplete,handleFeedbackOpen:this.props.disableFeedback?void 0:this.handleFeedbackOpen})},e.prototype.handleLoadComplete=function(){this.tooltipDataLoadComplete||(this.tooltipDataLoadComplete=!0)},e.prototype.handleFeedbackOpen=function(){this.showFeedback=!0},e.prototype.handleFeedbackClose=function(){this.showFeedback=!1},tt([u.observable],e.prototype,"showFeedback",void 0),tt([u.observable],e.prototype,"tooltipDataLoadComplete",void 0),tt([l.default],e.prototype,"tooltipContent",null),tt([l.default],e.prototype,"handleLoadComplete",null),tt([l.default],e.prototype,"handleFeedbackOpen",null),tt([l.default],e.prototype,"handleFeedbackClose",null),e=tt([c.observer],e)}(o.Component),ce=function(t){function e(e){return t.call(this,e)||this}return Q(e,t),Object.defineProperty(e.prototype,"selectedValues",{get:function(){return(this.props.columnVisibility||[]).filter(function(t){return t.visible}).map(function(t){return{value:t.id}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return(this.props.columnVisibility||[]).map(function(t){return{label:Object(o.createElement)("span",null,t.name),value:t.id}})},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(r.CheckedSelect,{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onChange,options:this.options,value:this.selectedValues,showControls:this.props.showControls})},e.prototype.onChange=function(t){this.props.onColumnToggled&&this.props.onColumnToggled(t.map(function(t){return t.value}))},e.defaultProps={name:"dataTableColumns",placeholder:"Columns",showControls:!1},tt([u.computed],e.prototype,"selectedValues",null),tt([u.computed],e.prototype,"options",null),tt([l.default,u.action],e.prototype,"onChange",null),e=tt([c.observer],e)}(o.Component),pe="filterResetPanel-module_filterResetPanel__32AR2",de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{className:this.props.className},Object(o.createElement)("span",{style:{verticalAlign:"middle"}},this.props.mutationsShown+" mutations are shown based on your filtering.",Object(o.createElement)("button",{className:this.props.buttonClass,style:{cursor:"pointer",marginLeft:6},onClick:this.props.resetFilters},this.props.buttonText)))},e.defaultProps={buttonText:"Show all mutations",buttonClass:s()("btn","btn-secondary","btn-sm"),className:s()("alert","alert-success",pe)},e=tt([c.observer],e)}(o.Component),he=function(t){function e(e){var n=t.call(this,e)||this;return n.textElt=null,n.isMounted=!1,n.state={displayText:e.label||""},n.handlers={textRef:function(t){n.textElt=t}},n}return Q(e,t),Object.defineProperty(e.prototype,"hitRect",{get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.props.x+this.props.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.props.y+this.props.height/2},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.isMounted=!0},Object.defineProperty(e.prototype,"displayText",{get:function(){var t=this.props.label||"";if(!this.textElt||!this.isMounted)return t;if(!U()(this.textElt).is(":visible"))return t;for(var e=t.length;e>0&&this.textElt.getSubStringLength(0,e)>this.props.width;)e-=1;var n=t;return e<t.length&&(n=(e-=2)<=0?"":t.substr(0,e)+".."),n},enumerable:!0,configurable:!0}),e.prototype.makeTextElement=function(t){var e={x:this.centerX,y:this.centerY,textAnchor:"middle",dy:"0.3em",fill:this.props.labelColor||"#FFFFFF",style:{fontSize:"12px",fontFamily:"arial"}},n=t?this.props.label||"":this.displayText;return t&&(e.ref=this.handlers.textRef,e.visibility="hidden",e.style={opacity:0},e.className=this.props.hitzoneClassName),Object(o.createElement)("text",J({},e),n)},e.prototype.render=function(){return Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),this.makeTextElement(!0),this.makeTextElement(!1),Object(o.createElement)("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,style:{opacity:0}}))},tt([u.observable],e.prototype,"textElt",void 0),tt([u.observable],e.prototype,"isMounted",void 0),tt([u.computed],e.prototype,"displayText",null),e=tt([c.observer],e)}(o.Component),fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHovered=!1,e}return Q(e,t),Object.defineProperty(e.prototype,"headRadius",{get:function(){return this.isHovered?this.props.hoverHeadRadius:this.props.headRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circleX",{get:function(){return this.props.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circleY",{get:function(){return this.props.stickBaseY-this.props.stickHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circleHitRect",{get:function(){return{x:this.circleX-this.props.hoverHeadRadius,y:this.circleY-this.props.hoverHeadRadius,width:2*this.props.hoverHeadRadius,height:2*this.props.hoverHeadRadius}},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=null;return this.props.label&&(t=Object(o.createElement)("text",{fill:"#2E3436",style:{fontSize:this.props.label.fontSize||10,fontFamily:this.props.label.fontFamily||"arial"},textAnchor:this.props.label.textAnchor||"middle",x:this.props.x,y:this.props.stickBaseY-this.props.stickHeight-this.props.headRadius-5},this.props.label.text)),Object(o.createElement)("g",null,Object(o.createElement)("line",{strokeWidth:"1",stroke:this.props.stickColor||"#BABDB6",x1:this.props.x,x2:this.props.x,y1:this.props.stickBaseY,y2:this.props.stickBaseY-this.props.stickHeight}),Object(o.createElement)("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.headColor||"#000000",r:this.headRadius,cx:this.circleX,cy:this.circleY}),Object(o.createElement)("circle",{className:this.props.hitzoneClassName,r:this.props.hoverHeadRadius,cx:this.circleX,cy:this.circleY,cursor:"pointer",style:{opacity:0}}),t)},tt([u.observable],e.prototype,"isHovered",void 0),tt([u.computed],e.prototype,"headRadius",null),tt([u.computed],e.prototype,"circleX",null),tt([u.computed],e.prototype,"circleY",null),tt([u.computed],e.prototype,"circleHitRect",null),e=tt([c.observer],e)}(o.Component),me={missenseColor:"#008000",inframeColor:"#993404",truncatingColor:"#000000",otherColor:"#CF58BC"},ge={missense:1,inframe:2,truncating:4,nonsense:6,nonstop:7,nonstart:8,frameshift:4,frame_shift_del:4,frame_shift_ins:5,in_frame_ins:3,in_frame_del:2,splice_site:9,fusion:10,silent:11,other:11};function ve(t,e){var n=ge[t],r=ge[e];return n<r?-1:n>r?1:t.localeCompare(e)}function ye(t,e,n){void 0===e&&(e=me),void 0===n&&(n=function(){return 1});var o=d.a.flatten(t.map(function(t){return d.a.fill(Array(n(t)),Object(r.getCanonicalMutationType)(t.mutationType||""))})).sort(ve),i=Object(r.findFirstMostCommonElt)(o);if(!i)return"#FF0000";switch(Object(r.getProteinImpactTypeFromCanonical)(i)){case"missense":return e.missenseColor;case"truncating":return e.truncatingColor;case"inframe":return e.inframeColor;default:return e.otherColor}}function be(t){var e=t.chromosome||t.gene&&t.gene.chromosome;return e&&t.startPosition&&t.endPosition&&t.referenceAllele&&t.variantAllele?{chromosome:e.replace("chr",""),start:t.startPosition,end:t.endPosition,referenceAllele:t.referenceAllele,variantAllele:t.variantAllele}:void 0}function _e(t){return t.chromosome+","+t.start+","+t.end+","+t.referenceAllele+","+t.variantAllele}function xe(t){var e={};return t.map(function(t){var n=be(t);n&&(e[_e(n)]=n)}),d.a.values(e)}function Se(t,e){var n=function(t){var e=d.a.groupBy(t,"proteinChange"),n=d.a.map(e,function(t){return{proteinChange:t[0].proteinChange,count:t.length}});return d.a.orderBy(n,["count","proteinChange"],["desc","asc"])}(t).filter(function(t){return void 0!==t.proteinChange}),o=n.map(function(t){return t.proteinChange}).slice(0,e&&e>0?e:void 0),i=o.slice(0).sort(),a="";i.length>1&&(a=Object(r.longestCommonStartingSubstring)(i[0],i[i.length-1]));var s=o.map(function(t){return t.substring(a.length)}),l=a+s.join("/");return o.length<n.length&&(l=l+" and "+(n.length-o.length)+" more"),l}function we(t,e,n,o,i,a){var s="middle",l=Object(r.getTextWidth)(t,n,o+"px"),u=e*(i/a);return l/2>u?s="start":l/2>i-u&&(s="end"),s}!function(t){t.PDB="PDB",t.CancerHotspots="CANCER_HOTSPOTS",t.OncoKB="ONCO_KB",t.PTM="PTM"}(le||(le={}));var Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.onChange=function(t){this.props.onChange(t.map(function(t){return t.value}))},Object.defineProperty(e.prototype,"selectedValues",{get:function(){var t=this;return Object.keys(this.props.trackVisibility).filter(function(e){return"visible"===t.props.trackVisibility[e]}).map(function(t){return{value:t}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableOptions",{get:function(){var t;return(t={})[le.CancerHotspots]={label:Object(o.createElement)("span",null,"Cancer Hotspots",this.isPending(le.CancerHotspots)&&this.loaderIcon()),value:le.CancerHotspots},t[le.OncoKB]={label:Object(o.createElement)("span",null,"OncoKB",this.isPending(le.OncoKB)&&this.loaderIcon()),value:le.OncoKB},t[le.PTM]={label:Object(o.createElement)("span",null,"Post Translational Modifications",this.isPending(le.PTM)&&this.loaderIcon()),value:le.PTM},t[le.PDB]={label:Object(o.createElement)("span",null,"3D Structure",this.isPending(le.PDB)&&this.loaderIcon()),value:le.PDB,disabled:this.isDisabled(le.PDB)},t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var t=this;return this.props.tracks.filter(function(e){return void 0!==t.props.trackVisibility[e]}).map(function(e){return t.availableOptions[e]})},enumerable:!0,configurable:!0}),e.prototype.isPending=function(t){return this.props.trackDataStatus&&"pending"===this.props.trackDataStatus[t]},e.prototype.isDisabled=function(t){return this.props.trackDataStatus&&"complete"!==this.props.trackDataStatus[t]},e.prototype.loaderIcon=function(){return Object(o.createElement)("span",{style:{display:"inline-block",verticalAlign:"bottom",marginLeft:5}},Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse"}))},e.prototype.render=function(){return Object(o.createElement)(r.CheckedSelect,{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onChange,options:this.options,value:this.selectedValues})},e.defaultProps={name:"mutationMapperTrackSelector",placeholder:"Add annotation tracks",tracks:[le.CancerHotspots,le.OncoKB,le.PTM,le.PDB]},tt([l.default,u.action],e.prototype,"onChange",null),tt([u.computed],e.prototype,"selectedValues",null),tt([u.computed],e.prototype,"availableOptions",null),tt([u.computed],e.prototype,"options",null),e=tt([c.observer],e)}(o.Component);function ke(){var t;return(t={})[le.OncoKB]="hidden",t[le.CancerHotspots]="hidden",t[le.PTM]="hidden",t[le.PDB]="hidden",t}var Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{style:{maxWidth:700,marginTop:5}},Object(o.createElement)("strong",{style:{color:"#2153AA"}},"Color Codes"),Object(o.createElement)("p",null,"Mutation diagram circles are colored with respect to the corresponding mutation types. In case of different mutation types at a single position, color of the circle is determined with respect to the most frequent mutation type."),Object(o.createElement)("br",null),Object(o.createElement)("div",null,"Mutation types and corresponding color codes are as follows:",Object(o.createElement)("ul",null,Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.missenseColor}},"Missense Mutations")),Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.truncatingColor}},"Truncating Mutations"),": Nonsense, Nonstop, Frameshift deletion, Frameshift insertion, Splice site"),Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.inframeColor}},"Inframe Mutations"),": Inframe deletion, Inframe insertion"),Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.otherColor}},"Other Mutations"),": All other types of mutations"))))},e.defaultProps={missenseColor:"#008000",truncatingColor:"#000000",inframeColor:"#993404",otherColor:"#CF58BC"},e}(o.Component);function Me(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r={});var o=t.isPositionSelected(e),i=[];n&&(i=Ee(t.selectionFilters),o&&(i=d.a.without(i,e))),o||i.push(e);var a=J({},r,{position:i}),s=t.selectionFilters.filter(function(t){return void 0===t.position});t.clearSelectionFilters(),t.setSelectionFilters([a].concat(s))}function je(t,e,n){void 0===n&&(n={}),t.clearHighlightFilters(),t.setHighlightFilters([J({},n,{position:[e]})])}function Ee(t){return d.a.uniq(d.a.flatten(t.filter(function(t){return void 0!==t.position}).map(function(t){return t.position.slice()})))}var Oe,Ie=function(t){function e(e){var n=t.call(this,e)||this;return n.isMounted=!1,n}return Q(e,t),Object.defineProperty(e.prototype,"hitRect",{get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.isMounted=!0},e.prototype.render=function(){return Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),Object(o.createElement)("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,style:{opacity:0}}))},tt([u.observable],e.prototype,"isMounted",void 0),e=tt([c.observer],e)}(o.Component),Pe="delete-for-download",Ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lollipopComponents={},e.domainComponents={},e.sequenceComponents=[],e.shiftPressed=!1,e.lollipopZeroHeight=10,e.xAxisCandidateTickIntervals=[50,100,200,250,500,1e3,2500,5e3,1e4,25e3],e.yAxisCandidateTickIntervals=[1,2,5,10,20,50,100,200,500],e.xAxisHeight=30,e.yAxisWidth=50,e.geneHeight=14,e.domainHeight=24,e}return Q(e,t),e.prototype.ref=function(t){this.svg=t},e.prototype.onBackgroundClick=function(){this.props.dataStore.clearSelectionFilters()},e.prototype.onBackgroundMouseMove=function(){this.props.onBackgroundMouseMove&&this.props.onBackgroundMouseMove(),this.unhoverAllLollipops()},e.prototype.onLollipopClick=function(t){Me(this.props.dataStore,t,this.shiftPressed)},e.prototype.onKeyDown=function(t){16===t.which&&(this.shiftPressed=!0)},e.prototype.onKeyUp=function(t){16===t.which&&(this.shiftPressed=!1)},e.prototype.onMouseOver=function(t){var e=this;this.unhoverAllLollipops();var n=t.target.getAttribute("class")||"",r=this.getLollipopIndex(n),o=null,i=null;if(null!==r){var a=this.lollipopComponents[r];a&&(a.isHovered=!0,this.props.setHitZone&&this.props.setHitZone(a.circleHitRect,a.props.spec.tooltip,Object(u.action)(function(){je(e.props.dataStore,a.props.spec.codon),a.isHovered=!0}),Object(u.action)(function(){return e.onLollipopClick(a.props.spec.codon)})))}else o=this.getDomainIndex(n);if(null!==o){var s=this.domainComponents[o];s&&this.props.setHitZone&&this.props.setHitZone(s.hitRect,s.props.spec.tooltip,void 0,void 0,void 0,"auto")}else i=this.getSequenceIndex(n);if(null!==i){var l=this.sequenceComponents[i];l&&this.props.setHitZone&&this.props.setHitZone(l.hitRect,l.props.spec.tooltip,void 0,void 0,void 0,"auto")}},e.prototype.onSVGMouseLeave=function(t){"svg"===t.target.tagName.toLowerCase()&&this.props.onMouseLeave&&this.props.onMouseLeave()},e.prototype.unhoverAllLollipops=function(){Object(r.unhoverAllComponents)(this.lollipopComponents),this.props.dataStore.clearHighlightFilters()},e.prototype.componentDidMount=function(){U()(document).on("keydown",this.onKeyDown),U()(document).on("keyup",this.onKeyUp),this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)},e.prototype.componentWillUnmount=function(){U()(document).off("keydown",this.onKeyDown),U()(document).off("keyup",this.onKeyUp)},e.prototype.componentDidUpdate=function(){this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)},e.prototype.codonToX=function(t){return t/this.props.xMax*this.props.vizWidth},e.prototype.countToHeight=function(t){return this.lollipopZeroHeight+Math.min(1,t/this.yMax)*this.yAxisHeight},e.prototype.calculateTickInterval=function(t,e,n){var r,o=t.find(function(t){return e/t<n-1});if(o)r=o;else for(r=10;e/r>n-1;)r*=10;return r},e.prototype.calculateTicks=function(t,e,n){for(var r=[],o=t;o<e;){var i=void 0;n&&e-o>2*t/3&&o%(2*t)==0&&(i=o+""),r.push({position:o,label:i}),o+=t}return r},Object.defineProperty(e.prototype,"xAxisTickInterval",{get:function(){return this.calculateTickInterval(this.xAxisCandidateTickIntervals,this.props.xMax,16)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisTickInterval",{get:function(){return this.calculateTickInterval(this.yAxisCandidateTickIntervals,this.yMax,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xTicks",{get:function(){var t=[];return t.push({position:0,label:"0"}),t.push({position:this.props.xMax,label:this.props.xMax+"aa"}),t=t.concat(this.calculateTicks(this.xAxisTickInterval,this.props.xMax,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yTicks",{get:function(){var t=[];return t.push({position:0,label:"0"}),t.push({position:this.yMax,label:this.yMaxLabel}),t=t.concat(this.calculateTicks(this.yAxisTickInterval,this.yMax,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMax",{get:function(){return this.props.yMax||this.props.lollipops.reduce(function(t,e){return Math.max(t,e.count)},1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMaxLabel",{get:function(){var t=this;return(this.props.lollipops.find(function(e){return e.count>t.yMax})?">= ":"")+this.yMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisHeight",{get:function(){return this.props.vizHeight-this.domainHeight-this.lollipopZeroHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geneX",{get:function(){return this.yAxisWidth+75},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geneY",{get:function(){return this.props.vizHeight-this.geneHeight+30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domainY",{get:function(){return this.geneY-(this.domainHeight-this.geneHeight)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequenceSegments",{get:function(){var t=this,e=[],n=0,r=d.a.map(this.props.domains,function(e){var r={start:n,end:t.codonToX(e.startCodon)};return n=t.codonToX(e.endCodon),r}),i=this.props.vizWidth;return r.push({start:n,end:i}),r.sort(function(t,e){return t.start-e.start}),r.forEach(function(n,r){e.push(Object(o.createElement)(Ie,{ref:function(e){null!==e&&(t.sequenceComponents[r]=e)},color:"#BABDB6",x:t.geneX+n.start,y:t.geneY,height:t.geneHeight,width:n.end-n.start,spec:t.props.sequence,hitzoneClassName:[Pe,t.makeSequenceIndexClass(r)].join(" ")}))}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lollipops",{get:function(){var t=this;this.lollipopComponents={};return this.props.lollipops.map(function(e,n){return Object(o.createElement)(fe,{key:e.codon,ref:function(e){null!==e&&(t.lollipopComponents[n]=e)},x:t.geneX+t.codonToX(e.codon),stickBaseY:t.geneY,stickHeight:t.countToHeight(e.count),headRadius:t.props.dataStore.isPositionSelected(e.codon)||t.props.dataStore.isPositionHighlighted(e.codon)?5:2.8,hoverHeadRadius:5,label:e.label,headColor:e.color,hitzoneClassName:[Pe,t.makeLollipopIndexClass(n)].join(" "),spec:e})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domains",{get:function(){var t=this;return this.domainComponents={},this.props.domains.map(function(e,n){var r=t.codonToX(e.startCodon),i=t.codonToX(e.endCodon)-r;return Object(o.createElement)(he,{key:n,ref:function(e){null!==e&&(t.domainComponents[n]=e)},x:t.geneX+r,y:t.domainY,width:i,height:t.domainHeight,color:e.color,label:e.label,labelColor:e.labelColor,hitzoneClassName:[Pe,t.makeDomainIndexClass(n)].join(" "),spec:e})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgWidth",{get:function(){return this.props.vizWidth+this.geneX+30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgHeight",{get:function(){return this.geneY+this.domainHeight+this.xAxisHeight},enumerable:!0,configurable:!0}),e.prototype.makeDomainIndexClass=function(t){return"domain-"+t},e.prototype.makeLollipopIndexClass=function(t){return"lollipop-"+t},e.prototype.makeSequenceIndexClass=function(t){return"sequence-"+t},e.prototype.getDomainIndex=function(t){return Object(r.getComponentIndex)(t,"domain-")},e.prototype.getLollipopIndex=function(t){return Object(r.getComponentIndex)(t,"lollipop-")},e.prototype.getSequenceIndex=function(t){return Object(r.getComponentIndex)(t,"sequence-")},e.prototype.toSVGDOMNode=function(){if(this.svg){var t=this.svg.cloneNode(!0);return U()(t).find("."+Pe).remove(),t}return document.createElementNS("http://www.w3.org/2000/svg","svg")},e.prototype.render=function(){return Object(o.createElement)("div",{onMouseOver:this.onMouseOver},Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",ref:this.ref,width:this.svgWidth,height:this.svgHeight,className:"lollipop-svgnode",onMouseLeave:this.onSVGMouseLeave},Object(o.createElement)("rect",{fill:"#FFFFFF",x:0,y:0,width:this.svgWidth,height:this.svgHeight,onClick:this.onBackgroundClick,onMouseMove:this.onBackgroundMouseMove}),Object(o.createElement)("rect",{fill:"#BABDB6",x:this.geneX,y:this.geneY,height:this.geneHeight,width:this.props.vizWidth+1}),this.lollipops,this.domains,Object(o.createElement)(r.SVGAxis,{key:"horz",x:this.geneX,y:this.geneY+this.geneHeight+10,length:this.props.vizWidth,tickLength:7,rangeLower:0,rangeUpper:this.props.xMax,ticks:this.xTicks}),Object(o.createElement)(r.SVGAxis,{key:"vert",x:this.geneX-10,y:this.geneY-this.lollipopZeroHeight-this.yAxisHeight,length:this.yAxisHeight,tickLength:7,rangeLower:0,rangeUpper:this.yMax,ticks:this.yTicks,vertical:!0,label:"# "+this.props.hugoGeneSymbol+" Mutations"})))},tt([l.default],e.prototype,"ref",null),tt([l.default,u.action],e.prototype,"onBackgroundClick",null),tt([l.default,u.action],e.prototype,"onBackgroundMouseMove",null),tt([l.default,u.action],e.prototype,"onLollipopClick",null),tt([l.default,u.action],e.prototype,"onKeyDown",null),tt([l.default,u.action],e.prototype,"onKeyUp",null),tt([l.default,u.action],e.prototype,"onMouseOver",null),tt([l.default,u.action],e.prototype,"onSVGMouseLeave",null),tt([u.computed],e.prototype,"xAxisTickInterval",null),tt([u.computed],e.prototype,"yAxisTickInterval",null),tt([u.computed],e.prototype,"xTicks",null),tt([u.computed],e.prototype,"yTicks",null),tt([u.computed],e.prototype,"yMax",null),tt([u.computed],e.prototype,"yMaxLabel",null),tt([u.computed],e.prototype,"yAxisHeight",null),tt([u.computed],e.prototype,"geneX",null),tt([u.computed],e.prototype,"geneY",null),tt([u.computed],e.prototype,"domainY",null),tt([u.computed],e.prototype,"sequenceSegments",null),tt([u.computed],e.prototype,"lollipops",null),tt([u.computed],e.prototype,"domains",null),tt([u.computed],e.prototype,"svgWidth",null),tt([u.computed],e.prototype,"svgHeight",null),e=tt([c.observer],e)}(o.Component),De=function(t){function e(e){var n=t.call(this,e)||this;return n.hitZoneConfig=Object(r.defaultHitzoneConfig)(),n.handlers={ref:function(t){n.plot=t},setHitZone:function(t,e,r,o,i,a,s){void 0===a&&(a="pointer"),void 0===s&&(s="top"),n.hitZoneConfig={hitRect:t,content:e,onMouseOver:r,onClick:o,onMouseOut:i,cursor:a,tooltipPlacement:s}},getOverlay:function(){return n.hitZoneConfig.content},getOverlayPlacement:function(){return n.hitZoneConfig.tooltipPlacement},onMouseLeave:function(){n.hitZoneConfig.onMouseOut&&n.hitZoneConfig.onMouseOut()},onBackgroundMouseMove:function(){n.hitZoneConfig.onMouseOut&&n.hitZoneConfig.onMouseOut()}},n}return Q(e,t),Object.defineProperty(e.prototype,"tooltipVisible",{get:function(){return!!this.hitZoneConfig.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitZone",{get:function(){return Object(r.initHitZoneFromConfig)(this.hitZoneConfig)},enumerable:!0,configurable:!0}),e.prototype.toSVGDOMNode=function(){return this.plot?this.plot.toSVGDOMNode():document.createElementNS("http://www.w3.org/2000/svg","svg")},e.prototype.render=function(){var t={};return this.tooltipVisible||(t.visible=!1),Object(o.createElement)("div",{style:{position:"relative",display:"inline-block"},"data-test":"LollipopPlot"},Object(o.createElement)(r.DefaultTooltip,J({placement:this.handlers.getOverlayPlacement(),overlay:this.handlers.getOverlay},t),this.hitZone),Object(o.createElement)(Ae,J({ref:this.handlers.ref,setHitZone:this.handlers.setHitZone,onMouseLeave:this.handlers.onMouseLeave,onBackgroundMouseMove:this.handlers.onBackgroundMouseMove},this.props)))},tt([u.observable],e.prototype,"hitZoneConfig",void 0),tt([u.computed],e.prototype,"tooltipVisible",null),tt([u.computed],e.prototype,"hitZone",null),e=tt([c.observer],e)}(o.Component),Re="lollipopMutationPlot-module_fade-out__10ao0",Fe="lollipopMutationPlot-module_fade-in__3IPdh",ze="lollipopMutationPlot-module_ymax-number-input__3G81r",Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),Object.defineProperty(e.prototype,"yMaxSlider",{get:function(){return Object(o.createElement)("div",{className:"small",style:{display:"flex",alignItems:"center",marginLeft:10}},Object(o.createElement)("span",null,"Y-Axis Max:"),Object(o.createElement)("input",{style:{display:"inline-block",padding:0,width:200,marginLeft:10,marginRight:10},type:"range",min:this.props.countRange[0],max:this.props.countRange[1],step:"1",onChange:this.props.onYAxisMaxSliderChange,value:this.props.yMaxSlider}),Object(o.createElement)(r.EditableSpan,{className:ze,value:""+this.props.yMaxInput,setValue:this.props.onYAxisMaxChange,numericOnly:!0,onFocus:this.props.onYMaxInputFocused,onBlur:this.props.onYMaxInputBlurred}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackSelector",{get:function(){return Object(o.createElement)("div",{className:s()("annotation-track-selector","small"),style:{width:180,marginRight:7}},Object(o.createElement)(Ce,{tracks:this.props.tracks,trackVisibility:this.props.trackVisibility,trackDataStatus:this.props.trackDataStatus,onChange:this.props.onTrackVisibilityChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendToggle",{get:function(){return Object(o.createElement)("button",{className:"btn btn-default btn-xs",onClick:this.props.onToggleLegend,style:{marginRight:7}},"Legend ",Object(o.createElement)("i",{className:"fa fa-eye","aria-hidden":"true"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downloadControls",{get:function(){return Object(o.createElement)(r.DownloadControls,{getSvg:this.props.getSVG,filename:this.props.hugoGeneSymbol+"_lollipop.svg",dontFade:!0,type:"button"})},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("div",{className:s()("lollipop_mutation_plot__controls",this.props.showControls?Fe:Re)},Object(o.createElement)("div",{style:{display:"flex",alignItems:"center"}},this.props.trackVisibility&&this.props.onTrackVisibilityChange&&this.trackSelector,this.props.showYMaxSlider&&this.yMaxSlider,Object(o.createElement)("div",{style:{display:"flex",marginLeft:"auto"}},this.props.showLegendToggle&&this.legendToggle,this.props.showDownloadControls&&this.downloadControls)),"  ")},e.defaultProps={showYMaxSlider:!0,showLegendToggle:!0,showDownloadControls:!0},e=tt([c.observer],e)}(o.Component);function Le(t){return t.result?(e=t.result,n={},e.forEach(function(t){n[_e(t.genomicLocation)]=t}),n):void 0;var e,n}function Be(t,e,n){var r=[];return t.forEach(function(t){var n=be(t),o=n?e[_e(n)]:void 0;o&&(r=r.concat(o.hotspots))}),n&&(r=r.filter(n)),r}function He(t,e){return Be(t,e,function(t){return t.type.toLowerCase().includes("single")||t.type.toLowerCase().includes("indel")})}function Ve(t,e){return Be(t,e,function(t){return t.type.toLowerCase().includes("3d")})}function qe(t,e){return He([t],e).length>0}function Ge(t,e){return Ve([t],e).length>0}function We(t,e,n){return Be([t],e,n).length>0}function Ue(t){var e=t.type.toLowerCase();return e.includes("single")||e.includes("indel")||e.includes("3d")}!function(t){t.DefaultHotspot="DEFAULT_HOTSPOT"}(Oe||(Oe={}));var Ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHovered=!1,e}var n;return Q(e,t),n=e,Object.defineProperty(e.prototype,"circleRadius",{get:function(){return this.isHovered?this.props.hoverRadius:this.props.radius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitRectangle",{get:function(){var t=this.props.hoverRadius||n.defaultProps.hoverRadius;return{x:this.props.x-t+(this.props.hitZoneXOffset||0),y:this.props.y,width:2*t,height:2*t}},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("g",null,Object(o.createElement)("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.spec.color,r:this.circleRadius,cx:this.props.x,cy:this.props.y}),Object(o.createElement)("circle",{className:this.props.hitZoneClassName,r:this.props.hoverRadius,cx:this.props.x,cy:this.props.y,cursor:"pointer",style:{opacity:0}}))},e.defaultProps={radius:2.8,hoverRadius:5},tt([u.observable],e.prototype,"isHovered",void 0),tt([u.computed],e.prototype,"circleRadius",null),tt([u.computed],e.prototype,"hitRectangle",null),e=n=tt([c.observer],e)}(o.Component),Ye="trackStyles-module_trackTitle__3ppKI",Xe=function(t){function e(e){var n=t.call(this,e)||this;return n.hitZoneConfig=Object(r.defaultHitzoneConfig)(),n.shiftPressed=!1,n.tooltipActive=!1,n}return Q(e,t),e.prototype.setHitZone=function(t,e,n,r,o,i,a){void 0===i&&(i="pointer"),void 0===a&&(a="top"),this.hitZoneConfig={hitRect:t,content:e,onMouseOver:n,onClick:r,onMouseOut:o,cursor:i,tooltipPlacement:a}},e.prototype.getOverlay=function(){return this.hitZoneConfig.content},e.prototype.getOverlayPlacement=function(){return this.hitZoneConfig.tooltipPlacement},e.prototype.onMouseLeave=function(){this.hitZoneConfig.onMouseOut&&this.hitZoneConfig.onMouseOut()},e.prototype.onBackgroundMouseMove=function(){this.hitZoneConfig.onMouseOut&&this.hitZoneConfig.onMouseOut()},e.prototype.onBackgroundClick=function(){this.props.dataStore.clearSelectionFilters()},e.prototype.onTrackCircleClick=function(t){Me(this.props.dataStore,t.props.spec.codon,this.shiftPressed,this.props.defaultFilterProps)},e.prototype.onTrackCircleHover=function(t){je(this.props.dataStore,t.props.spec.codon,this.props.defaultFilterProps),t.isHovered=!0},e.prototype.onKeyDown=function(t){16===t.which&&(this.shiftPressed=!0)},e.prototype.onKeyUp=function(t){16===t.which&&(this.shiftPressed=!1)},e.prototype.onMouseOver=function(t){var e=this;this.unhoverAllComponents();var n=t.target.getAttribute("class")||"",r=this.getComponentIndex(n);if(null!==r){var o=this.circles[r];o&&this.setHitZone(o.hitRectangle,o.props.spec.tooltip,Object(u.action)(function(){return e.onTrackCircleHover(o)}),Object(u.action)(function(){return e.onTrackCircleClick(o)}),this.onHitzoneMouseOut,"pointer","bottom")}},e.prototype.onSVGMouseLeave=function(t){"svg"===t.target.tagName.toLowerCase()&&this.onMouseLeave()},e.prototype.onTooltipVisibleChange=function(t){this.tooltipActive=t,t||this.unhoverAllComponents()},e.prototype.onHitzoneMouseOut=function(){this.tooltipActive||this.unhoverAllComponents()},Object.defineProperty(e.prototype,"svgHeight",{get:function(){return 10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this.circles={},(this.props.trackItems||[]).map(function(e,n){return Object(o.createElement)(Ke,{ref:function(e){null!==e&&(t.circles[n]=e)},key:e.codon,hitZoneClassName:""+t.props.idClassPrefix+n,hitZoneXOffset:t.props.xOffset,x:t.props.width/t.props.proteinLength*e.codon,y:t.svgHeight/2,radius:t.props.dataStore.isPositionSelected(e.codon)||t.props.dataStore.isPositionHighlighted(e.codon)?5:2.8,hoverRadius:5,spec:e})})},enumerable:!0,configurable:!0}),e.prototype.unhoverAllComponents=function(){Object(r.unhoverAllComponents)(this.circles),this.props.dataStore.clearHighlightFilters()},e.prototype.getComponentIndex=function(t){return Object(r.getComponentIndex)(t,this.props.idClassPrefix||"track-circle-")},Object.defineProperty(e.prototype,"tooltipVisible",{get:function(){return!!this.hitZoneConfig.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitZone",{get:function(){return Object(r.initHitZoneFromConfig)(this.hitZoneConfig)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipVisibleProps",{get:function(){var t={};return this.tooltipVisible||(t.visible=!1),t},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){U()(document).on("keydown",this.onKeyDown),U()(document).on("keyup",this.onKeyUp)},e.prototype.componentWillUnmount=function(){U()(document).off("keydown",this.onKeyDown),U()(document).off("keyup",this.onKeyUp)},e.prototype.render=function(){return Object(o.createElement)("div",{style:{position:"relative",display:"flex"}},Object(o.createElement)("span",{className:s()(Ye,"small")},this.props.trackTitle),Object(o.createElement)("span",null,Object(o.createElement)(r.DefaultTooltip,J({placement:this.getOverlayPlacement(),overlay:this.getOverlay,onVisibleChange:this.onTooltipVisibleChange,destroyTooltipOnHide:!0},this.tooltipVisibleProps),this.hitZone),Object(o.createElement)("span",{style:{marginLeft:this.props.xOffset},onMouseOver:this.onMouseOver},Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.svgHeight,className:"track-svgnode",onMouseLeave:this.onSVGMouseLeave,style:{overflow:"visible"}},Object(o.createElement)("rect",{fill:"#FFFFFF",x:0,y:0,width:this.props.width,height:this.svgHeight,onClick:Object(u.action)(this.onBackgroundClick),onMouseMove:this.onBackgroundMouseMove}),!this.props.hideBaseline&&Object(o.createElement)("line",{stroke:"#666666",strokeWidth:"0.5",x1:0,x2:this.props.width,y1:this.svgHeight/2,y2:this.svgHeight/2}),this.items))))},tt([u.observable],e.prototype,"hitZoneConfig",void 0),tt([u.observable],e.prototype,"shiftPressed",void 0),tt([l.default],e.prototype,"setHitZone",null),tt([l.default],e.prototype,"getOverlay",null),tt([l.default],e.prototype,"getOverlayPlacement",null),tt([l.default,u.action],e.prototype,"onMouseLeave",null),tt([l.default],e.prototype,"onBackgroundMouseMove",null),tt([l.default,u.action],e.prototype,"onBackgroundClick",null),tt([l.default,u.action],e.prototype,"onTrackCircleClick",null),tt([l.default,u.action],e.prototype,"onTrackCircleHover",null),tt([l.default,u.action],e.prototype,"onKeyDown",null),tt([l.default,u.action],e.prototype,"onKeyUp",null),tt([l.default,u.action],e.prototype,"onMouseOver",null),tt([l.default,u.action],e.prototype,"onSVGMouseLeave",null),tt([l.default,u.action],e.prototype,"onTooltipVisibleChange",null),tt([l.default,u.action],e.prototype,"onHitzoneMouseOut",null),tt([u.action],e.prototype,"unhoverAllComponents",null),tt([u.computed],e.prototype,"tooltipVisible",null),tt([u.computed],e.prototype,"hitZone",null),e=tt([c.observer],e)}(o.Component);var Ze,$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),Object.defineProperty(e.prototype,"hotspotSpecs",{get:function(){var t=this,e=this.props.store.hotspotsByPosition;return Object(p.isEmpty)(e)?[]:Object(p.keys)(e).filter(function(t){return Number(t)>=0}).map(function(n){return{codon:Number(n),color:"#FF9900",tooltip:(r=t.props.store.mutationsByPosition[Number(n)],i=t.props.store.indexedHotspotData.result||{},a=e[Number(n)],s=He(r,i),l=Ve(r,i),u=r.filter(function(t){return We(t,i,Ue)}).length,c=Object(p.uniq)(a.map(function(t){return t.residue})),d=Object(o.createElement)("b",null,""+c.join(", ")),h=c.length>1?"s":void 0,f=Object(o.createElement)("span",null,"on residue",h," ",d),Object(o.createElement)(ut,{isHotspot:s.length>0,is3dHotspot:l.length>0,count:u,customInfo:f}))};var r,i,a,s,l,u,c,d,h,f})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackTitle",{get:function(){return Object(o.createElement)("span",null,Object(o.createElement)("span",{style:{marginRight:2}},Object(o.createElement)("img",{src:ct,alt:"Recurrent Hotspot Symbol"})),"Cancer Hotspots")},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(Xe,{dataStore:this.props.dataStore,defaultFilterProps:{hotspot:[Oe.DefaultHotspot]},width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.trackTitle,trackItems:this.hotspotSpecs,idClassPrefix:"cancer-hotspot-"})},tt([u.computed],e.prototype,"hotspotSpecs",null),tt([u.computed],e.prototype,"trackTitle",null),e=tt([c.observer],e)}(o.Component);!function(t){t.Oncogenic="ONCOGENIC"}(Ze||(Ze={}));var Qe=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}var n;return Q(e,t),n=e,Object.defineProperty(e.prototype,"hasLevelData",{get:function(){return void 0!==this.props.data.find(function(t){return t.level.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return[{id:"proteinChange",accessor:"proteinChange",Header:"Protein Change",sortMethod:function(t,e){return Ot(Object(r.calcProteinChangeSortValue)(t),Object(r.calcProteinChangeSortValue)(e))}},{id:"count",accessor:"count",Header:"Occurrence",maxWidth:80},{id:"clinicalImplication",accessor:"clinicalImplication",Header:"Implication",Cell:function(t){return Object(o.createElement)("span",null,t.original.clinicalImplication.join(", "))},sortMethod:It,minWidth:120},{id:"biologicalEffect",accessor:"biologicalEffect",Header:"Effect",Cell:function(t){return Object(o.createElement)("span",null,t.original.biologicalEffect.join(", "))},sortMethod:It,minWidth:150},{id:"level",accessor:"level",Header:"Level",sortable:!1,Cell:function(t){return Object(o.createElement)(o.Fragment,null,t.original.level.map(function(t){return Object(o.createElement)("div",{key:t.level,style:{overflow:"hidden",textOverflow:"ellipsis"}},Object(o.createElement)("i",{className:_t(t.level),style:{verticalAlign:"text-bottom",display:"inline-block"}}),Object(o.createElement)("span",null,": "),Object(o.createElement)(r.EllipsisTextTooltip,{text:t.tumorTypes.join(", "),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}))}))},minWidth:this.hasLevelData?180:50}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.props,e=t.data,r=t.initialSortColumn,i=t.initialSortDirection,a=t.initialItemsPerPage,l=e.length>(this.props.initialItemsPerPage||n.defaultProps.initialItemsPerPage);return Object(o.createElement)("div",{className:s()("cbioportal-frontend","default-track-tooltip-table")},Object(o.createElement)(q,{data:e,columns:this.columns,defaultSorted:[{id:r||n.defaultProps.initialSortColumn,desc:"desc"===i}],defaultPageSize:e.length>a?a:e.length,showPagination:l,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight",previousText:"<",nextText:">"}))},e.defaultProps={data:[],initialSortColumn:"count",initialSortDirection:"desc",initialItemsPerPage:10},tt([u.computed],e.prototype,"hasLevelData",null),tt([u.computed],e.prototype,"columns",null),e=n=tt([c.observer],e)}(o.Component);var Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return this.props.indicatorData?function(t){var e=t.length,n=e>1?"s":void 0,i=Object(p.groupBy)(t,"oncogenic"),a=Object(p.keys)(i).map(function(t){return Object(o.createElement)("b",null,t)}),s=[];if(a.length>1){var l=a.slice(0,a.length-1).reduce(function(t,e){return[t,", ",e]});s.push(l),s.push(" and "),s.push(a[a.length-1])}else s=a;var u=Object(p.groupBy)(t,function(t){return t.query.alteration}),c=Object(p.keys)(u).map(function(t){return{count:u[t].length,proteinChange:t,clinicalImplication:Object(p.uniq)(u[t].map(function(t){return t.oncogenic?t.oncogenic:"Unknown"})),biologicalEffect:Object(p.uniq)(u[t].map(function(t){return t.mutationEffect&&t.mutationEffect.knownEffect?t.mutationEffect.knownEffect:"Unknown"})),level:(e=u[t],n={},e.forEach(function(t){t.treatments.forEach(function(e){var r=e.level.split("_"),o=2===r.length?r[1]:e.level;n[o]=n[o]||[],n[o].push(t.query.tumorType)})}),Object(p.keys)(n).sort(function(t,e){return r.LEVELS.all.indexOf(t)>r.LEVELS.all.indexOf(e)?-1:1}).map(function(t){return{level:t,tumorTypes:Object(p.uniq)(n[t])}}))};var e,n});return Object(o.createElement)("span",null,Object(o.createElement)("b",null,e)," sample",n," with ",s," mutations.",Object(o.createElement)(Qe,{data:c}))}(this.props.indicatorData):null},e}(o.Component),tn=(i.a.createElement("circle",{r:6,fill:"none",strokeWidth:2,stroke:"#007FFF"}),i.a.createElement("circle",{r:3,fill:"none",strokeWidth:2,stroke:"#007FFF"}),i.a.createElement("circle",{r:1.5,fill:"#007FFF"}),"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2214%22%20height%3D%2214%22%3E%20%20%20%20%20%20%3Cg%20%20transform%3D%22translate%287%2C%207%29%22%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%226%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke%3D%22%23007FFF%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%223%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke%3D%22%23007FFF%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%221.5%22%20fill%3D%22%23007FFF%22%20stroke%3D%22none%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E");var en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),Object.defineProperty(e.prototype,"oncoKbSpecs",{get:function(){var t=this,e=this.props.store.oncoKbDataByPosition;return Object(p.isEmpty)(e)?[]:Object(p.keys)(e).filter(function(t){return Number(t)>=0}).map(function(n){return{codon:Number(n),color:"#007FFF",tooltip:Object(o.createElement)(Je,{mutations:t.props.store.mutationsByPosition[Number(n)],indicatorData:e[Number(n)],hugoGeneSymbol:t.props.store.gene.hugoGeneSymbol})}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackTitle",{get:function(){return Object(o.createElement)("span",null,Object(o.createElement)("span",{style:{marginRight:2}},Object(o.createElement)("img",{src:tn,alt:"OncoKB Oncogenic Symbol"})),"OncoKB")},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(Xe,{dataStore:this.props.dataStore,defaultFilterProps:{oncokb:[Ze.Oncogenic]},width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.trackTitle,trackItems:this.oncoKbSpecs,idClassPrefix:"onco-kb-"})},tt([u.computed],e.prototype,"oncoKbSpecs",null),tt([u.computed],e.prototype,"trackTitle",null),e=tt([c.observer],e)}(o.Component),nn={Phosphorylation:"#2DCF00",Acetylation:"#5B5BFF",Ubiquitination:"#B9264F",Methylation:"#EBD61D",multiType:"#444444",default:"#BA21E0"},rn={Phosphorylation:1,Acetylation:2,Ubiquitination:3,Methylation:4,default:999};function on(t){var e=nn.default,n=Object(p.uniq)((t||[]).map(function(t){return t.type}));return 1===n.length?e=nn[n[0]]||nn.default:n.length>1&&(e=nn.multiType),e}function an(t,e){var n=rn[t]||rn.default,r=rn[e]||rn.default;return n>r?1:r>n?-1:t>e?1:e>t?-1:0}var sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)(r.DefaultTooltip,{placement:"right",overlay:Object(o.createElement)("div",{style:{maxWidth:400,maxHeight:400,overflowY:"auto"}},Object(o.createElement)(Bt,{pmids:this.props.pubmedIds.map(function(t){return(e=t.match(/[0-9]+/))?Number(e[0]):void 0;var e}).filter(function(t){return void 0!==t}),pmidData:this.props.pmidData,abstracts:[]})),destroyTooltipOnHide:!0},Object(o.createElement)("div",{style:{textAlign:"right"}},Object(o.createElement)("i",{className:"fa fa-book",style:{color:"black"}})))},e=tt([c.observer],e)}(o.Component),ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Q(e,t),n=e,Object.defineProperty(e.prototype,"pmidData",{get:function(){var t=this;return this.props.pubMedCache&&this.props.data.forEach(function(e){return e.pubmedIds.forEach(function(e){return t.props.pubMedCache.get(Number(e))})}),this.props.pubMedCache&&this.props.pubMedCache.cache||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){var t=this;return[{id:"position",accessor:"position",Header:"Position",Cell:function(t){return Object(o.createElement)("div",{style:{textAlign:"right"}},t.original.position)},maxWidth:64},{id:"type",accessor:"type",Header:"Type",minWidth:140},{id:"pubmedIds",Header:"",Cell:d.a.isEmpty(this.pmidData)?function(){return t.props.pubMedCache?Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse"}):null}:function(e){return Object(o.createElement)(sn,{pmidData:t.pmidData,pubmedIds:e.original.pubmedIds})},sortable:!1,maxWidth:32}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.props,e=t.data,r=t.initialSortColumn,i=t.initialSortDirection,a=t.initialItemsPerPage,l=e.length>(this.props.initialItemsPerPage||n.defaultProps.initialItemsPerPage);return Object(o.createElement)("div",{className:s()("cbioportal-frontend","default-track-tooltip-table")},Object(o.createElement)(q,{data:e,columns:this.columns,defaultSorted:[{id:r||n.defaultProps.initialSortColumn,desc:"desc"===i}],defaultPageSize:e.length>a?a:e.length,showPagination:l,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight",previousText:"<",nextText:">"}))},e.defaultProps={data:[],initialSortColumn:"type",initialSortDirection:"asc",initialItemsPerPage:10},tt([u.computed],e.prototype,"pmidData",null),tt([u.computed],e.prototype,"columns",null),e=n=tt([c.observer],e)}(o.Component),un={ptmLegend:"ptmTrackStyles-module_ptmLegend__3AGTw",Phosphorylation:"ptmTrackStyles-module_Phosphorylation__34X-L",Acetylation:"ptmTrackStyles-module_Acetylation__2a4-P",Ubiquitination:"ptmTrackStyles-module_Ubiquitination__3wFGM",Methylation:"ptmTrackStyles-module_Methylation__1TJRK",multiType:"ptmTrackStyles-module_multiType__3aDpN",default:"ptmTrackStyles-module_default__2hB-B"};function cn(t,e){return Object(o.createElement)(ln,{data:t,pubMedCache:e})}var pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expanded=!0,e}var n;return Q(e,t),n=e,Object.defineProperty(e.prototype,"ptmSpecs",{get:function(){var t=this,e=this.props.store.ptmDataByProteinPosStart.result;return e&&!Object(p.isEmpty)(e)?Object(p.keys)(e).filter(function(t){return Number(t)>=0}).map(function(n){return{codon:Number(n),color:on(e[Number(n)]),tooltip:cn(e[Number(n)],t.props.pubMedCache)}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ptmSubSpecs",{get:function(){var t=this,e=this.props.store.ptmDataByTypeAndProteinPosStart.result;return e&&!Object(p.isEmpty)(e)?Object(p.keys)(e).sort(an).map(function(n){return{title:n,specs:Object(p.keys)(e[n]).filter(function(t){return Number(t)>=0}).map(function(r){return{codon:Number(r),color:on(e[n][Number(r)]),tooltip:cn(e[n][Number(r)],t.props.pubMedCache)}})}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainTrackTitle",{get:function(){var t=this;return Object(o.createElement)("span",{style:{cursor:"pointer"}},Object(o.createElement)("span",{onClick:this.handleToggleExpand},this.expander),Object(o.createElement)(r.DefaultTooltip,{placement:"left",overlay:function(){return e=t.props.ensemblTranscriptId,Object(o.createElement)("div",{style:{maxWidth:400}},Object(o.createElement)("p",null,"Displays all Post Translational Modifications (PTMs) available",e&&Object(o.createElement)("span",null," for the Ensembl transcript ",e),"."),Object(o.createElement)("p",{className:un.ptmLegend},"PTM types and corresponding color codes are as follows:",Object(o.createElement)("ul",null,Object(o.createElement)("li",{className:un.Phosphorylation},Object(o.createElement)("strong",null,"Phosphorylation")),Object(o.createElement)("li",{className:un.Acetylation},Object(o.createElement)("strong",null,"Acetylation")),Object(o.createElement)("li",{className:un.Ubiquitination},Object(o.createElement)("strong",null,"Ubiquitination")),Object(o.createElement)("li",{className:un.Methylation},Object(o.createElement)("strong",null,"Methylation")),Object(o.createElement)("li",{className:un.multiType},Object(o.createElement)("strong",null,"Multiple Type"),": Sites with more than one PTM type"),Object(o.createElement)("li",{className:un.default},Object(o.createElement)("strong",null,"Other"),": All other PTM types"))),Object(o.createElement)("div",null,"Data Source: ",Object(o.createElement)("a",{href:"http://dbptm.mbc.nctu.edu.tw/",target:"_blank"},"dbPTM")));var e},destroyTooltipOnHide:!0},Object(o.createElement)("span",{style:{marginLeft:4},onClick:this.handleToggleExpand},"PTM Sites ",Object(o.createElement)("i",{className:"fa fa-info-circle"}))))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expander",{get:function(){var t=this.hasSubTracks?this.mainTrackHidden?"fa fa-caret-down":"fa fa-caret-right":null;return t?Object(o.createElement)("i",{className:t,style:{width:10,marginLeft:2}}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subTrackMargin",{get:function(){return this.props.subTrackMargin||n.defaultProps.subTrackMargin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subTrackTitleWidth",{get:function(){return this.props.xOffset?this.props.xOffset-this.subTrackMargin:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subTracks",{get:function(){var t=this;return this.hasSubTracks?this.ptmSubSpecs.map(function(e,n){return Object(o.createElement)(Xe,{key:e.title,dataStore:t.props.dataStore,xOffset:t.props.xOffset,trackTitle:Object(o.createElement)("span",{style:{marginLeft:t.subTrackMargin,width:t.subTrackTitleWidth,display:"flex"}},Object(o.createElement)(r.EllipsisTextTooltip,{text:e.title,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),width:t.props.width,proteinLength:t.props.proteinLength,trackItems:e.specs,idClassPrefix:"ptm-"+n+"-"})}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainTrackHidden",{get:function(){return this.expanded&&this.hasSubTracks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSubTracks",{get:function(){return this.ptmSubSpecs.length>0},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("span",null,Object(o.createElement)(Xe,{dataStore:this.props.dataStore,width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.mainTrackTitle,trackItems:this.mainTrackHidden?[]:this.ptmSpecs,hideBaseline:this.mainTrackHidden,idClassPrefix:"ptm-"}),Object(o.createElement)(h.Collapse,{isOpened:this.mainTrackHidden},Object(o.createElement)("span",null,this.subTracks)))},e.prototype.handleToggleExpand=function(){this.expanded=!this.expanded},e.defaultProps={subTrackMargin:25},tt([u.observable],e.prototype,"expanded",void 0),tt([u.computed],e.prototype,"ptmSpecs",null),tt([u.computed],e.prototype,"ptmSubSpecs",null),tt([u.computed],e.prototype,"mainTrackTitle",null),tt([u.computed],e.prototype,"expander",null),tt([u.computed],e.prototype,"subTrackMargin",null),tt([u.computed],e.prototype,"subTrackTitleWidth",null),tt([u.computed],e.prototype,"subTracks",null),tt([u.computed],e.prototype,"mainTrackHidden",null),tt([u.computed],e.prototype,"hasSubTracks",null),tt([l.default,u.action],e.prototype,"handleToggleExpand",null),e=n=tt([c.observer],e)}(o.Component),dn=function(t){function e(e){return t.call(this,e)||this}return Q(e,t),Object.defineProperty(e.prototype,"proteinLength",{get:function(){var t=this.props.proteinLength||0;return Math.max(t,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableTracks",{get:function(){var t;return(t={})[le.CancerHotspots]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[le.CancerHotspots]?null:Object(o.createElement)($e,{store:this.props.store,dataStore:this.props.store.dataStore,hotspotIndex:this.props.store.indexedHotspotData.result||{},width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),t[le.OncoKB]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[le.OncoKB]?null:Object(o.createElement)(en,{store:this.props.store,dataStore:this.props.store.dataStore,width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),t[le.PTM]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[le.PTM]?null:Object(o.createElement)(pn,{store:this.props.store,pubMedCache:this.props.pubMedCache,ensemblTranscriptId:this.props.store.activeTranscript,dataStore:this.props.store.dataStore,width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),t},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;return Object(o.createElement)("div",{style:{overflowY:"hidden",maxHeight:this.props.maxHeight,position:"relative"}},this.props.tracks.map(function(e){return t.availableTracks[e]}).filter(function(t){return null!=t}))},e.defaultProps={tracks:[le.CancerHotspots,le.OncoKB,le.PTM]},tt([u.computed],e.prototype,"proteinLength",null),e=tt([c.observer],e)}(o.Component),hn=function(t){function e(e){var n=t.call(this,e)||this;return n.mouseInPlot=!0,n.legendShown=!1,n.yMaxInputFocused=!1,n._trackVisibility=ke(),n.handlers={handleYAxisMaxSliderChange:Object(u.action)(function(t){var e=t.target.value,r=parseInt(e,10);n._yMaxInput=r<n.countRange[0]?n.countRange[0]:r}),handleYAxisMaxChange:Object(u.action)(function(t){var e=parseInt(t,10);n._yMaxInput=e<n.countRange[0]?n.countRange[0]:e}),onYMaxInputFocused:function(){n.yMaxInputFocused=!0},onYMaxInputBlurred:function(){n.yMaxInputFocused=!1},handleToggleLegend:Object(u.action)(function(){n.legendShown=!n.legendShown}),onMouseEnterPlot:Object(u.action)(function(){n.mouseInPlot=!0}),onMouseLeavePlot:Object(u.action)(function(){n.mouseInPlot=!1})},n}return Q(e,t),Object.defineProperty(e.prototype,"showControls",{get:function(){return!this.props.autoHideControls||(this.yMaxInputFocused||this.mouseInPlot)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackVisibility",{get:function(){return this.props.trackVisibility||this._trackVisibility},enumerable:!0,configurable:!0}),e.prototype.lollipopTooltip=function(t,e){var n=e[t[0].proteinPosStart],r="mutation"+(n>1?"s":""),i=Se(t);return Object(o.createElement)("div",null,Object(o.createElement)("b",null,n," ",r),Object(o.createElement)("br",null),Object(o.createElement)("span",null,"AA Change: ",i))},Object.defineProperty(e.prototype,"lollipops",{get:function(){var t=this.props.store.mutationsByPosition,e=this.props.store.uniqueMutationCountsByPosition;if(0===Object.keys(t).length)return[];var n=Object.keys(t).map(function(e){return t[parseInt(e,10)]}).sort(function(t,n){return e[t[0].proteinPosStart]<e[n[0].proteinPosStart]?1:-1}),r=n&&n[0]?e[n[0][0].proteinPosStart]:0,o=n?n.findIndex(function(t){return e[t[0].proteinPosStart]!==r}):-1;-1===o&&(o=n?n.length:0);var i;i=o>1&&o>2?0:Math.min(o,1);for(var a=[],s=0;s<n.length;s++){var l=n[s],u=l[0].proteinPosStart,c=e[u];if(!(isNaN(u)||u<0||this.props.store.allTranscripts.isComplete&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&u>this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].proteinLength+1)){var p=void 0;if(s<i&&c>=1){var d=Se(l,3);p={text:d,textAnchor:we(d,u,"arial",10,this.props.geneWidth,this.proteinLength),fontSize:10,fontFamily:"arial"}}else p=void 0;a.push({codon:u,count:c,tooltip:this.lollipopTooltip(l,e),color:this.props.getLollipopColor?this.props.getLollipopColor(l):ye(l,me,this.props.getMutationCount),label:p})}}return a},enumerable:!0,configurable:!0}),e.prototype.mutationAlignerLink=function(t){if(this.props.store.mutationAlignerLinks&&this.props.store.mutationAlignerLinks.result){var e=this.props.store.mutationAlignerLinks.result[t];return e?Object(o.createElement)("a",{href:e,target:"_blank"},"Mutation Aligner"):null}return null},e.prototype.domainTooltip=function(t,e,n){var r=e?e.pfamAccession:n,i=e?e.name+": "+e.description:r;return Object(o.createElement)("div",{style:{maxWidth:200}},Object(o.createElement)("div",null,i," (",t.pfamDomainStart," - ",t.pfamDomainEnd,")"),Object(o.createElement)("div",null,Object(o.createElement)("a",{style:{marginRight:"5px"},href:"http://pfam.xfam.org/family/"+r,target:"_blank"},"PFAM"),this.mutationAlignerLink(r)))},Object.defineProperty(e.prototype,"domains",{get:function(){var t=this;return this.props.store.pfamDomainData.isComplete&&this.props.store.pfamDomainData.result&&0!==this.props.store.pfamDomainData.result.length&&this.props.store.allTranscripts.isComplete&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains&&0!==this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.length?this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.map(function(e){var n=t.domainMap[e.pfamDomainId];return{startCodon:e.pfamDomainStart,endCodon:e.pfamDomainEnd,label:n?n.name:e.pfamDomainId,color:t.domainColorMap[e.pfamDomainId],tooltip:t.domainTooltip(e,n,e.pfamDomainId)}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domainColorMap",{get:function(){return!this.props.store.allTranscripts.isPending&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.length>0?(t=this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains,e=["#2dcf00","#ff5353","#5b5bff","#ebd61d","#ba21e0","#ff9c42","#ff7dff","#b9264f","#baba21","#c48484","#1f88a7","#cafeb8","#4a9586","#ceb86c","#0e180f"],n={},r=0,t.sort(function(t,e){return t.pfamDomainStart-e.pfamDomainStart}).forEach(function(t){void 0===n[t.pfamDomainId]&&(n[t.pfamDomainId]=e[r%e.length],r++)}),n):{};var t,e,n,r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domainMap",{get:function(){return!this.props.store.pfamDomainData.isPending&&this.props.store.pfamDomainData.result&&this.props.store.pfamDomainData.result.length>0?d.a.keyBy(this.props.store.pfamDomainData.result,"pfamAccession"):{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"proteinLength",{get:function(){return this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].proteinLength||10},enumerable:!0,configurable:!0}),e.prototype.sequenceTooltip=function(){return Object(o.createElement)("div",{style:{maxWidth:200}},Object(o.createElement)("a",{href:"http://www.uniprot.org/uniprot/"+this.props.store.uniprotId.result,target:"_blank"},this.props.store.uniprotId.result))},Object.defineProperty(e.prototype,"sequence",{get:function(){return{tooltip:this.sequenceTooltip()}},enumerable:!0,configurable:!0}),e.prototype.getSVG=function(){return U()(this.divContainer).find(".lollipop-svgnode")[0]},Object.defineProperty(e.prototype,"hugoGeneSymbol",{get:function(){return this.props.store.gene.hugoGeneSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"countRange",{get:function(){if(0===this.lollipops.length)return[0,0];for(var t=5,e=1,n=0,r=this.lollipops;n<r.length;n++){var o=r[n];t=Math.max(t,o.count),e=Math.min(e,o.count)}return[e,t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sliderRange",{get:function(){return[this.countRange[0],Math.max(this.countRange[1],this.countRange[0]+5)]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMaxSlider",{get:function(){return Math.min(this.countRange[1],this._yMaxInput||this.countRange[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMaxInput",{get:function(){return this._yMaxInput||this.countRange[1]},enumerable:!0,configurable:!0}),e.prototype.onXAxisOffset=function(t){this.geneXOffset=t,this.props.onXAxisOffset&&this.props.onXAxisOffset(t)},e.prototype.onTrackVisibilityChange=function(t){var e=this;this.props.onTrackVisibilityChange?this.props.onTrackVisibilityChange(t):(Object.keys(this.trackVisibility).forEach(function(t){return e.trackVisibility[t]="hidden"}),t.forEach(function(t){return e.trackVisibility[t]="visible"}))},e.prototype.render=function(){var t=this;return this.props.store.pfamDomainData.isComplete&&this.props.store.pfamDomainData.result?Object(o.createElement)("div",{style:{display:"inline-block"},ref:function(e){return t.divContainer=e},onMouseEnter:this.handlers.onMouseEnterPlot,onMouseLeave:this.handlers.onMouseLeavePlot},Object(o.createElement)(Ne,{showControls:this.showControls,showYMaxSlider:this.props.showYMaxSlider,showLegendToggle:this.props.showLegendToggle,showDownloadControls:this.props.showDownloadControls,hugoGeneSymbol:this.hugoGeneSymbol,countRange:this.countRange,onYAxisMaxSliderChange:this.handlers.handleYAxisMaxSliderChange,onYAxisMaxChange:this.handlers.handleYAxisMaxChange,onYMaxInputFocused:this.handlers.onYMaxInputFocused,onYMaxInputBlurred:this.handlers.onYMaxInputBlurred,onToggleLegend:this.handlers.handleToggleLegend,yMaxSlider:this.yMaxSlider,yMaxInput:this.yMaxInput,trackVisibility:this.trackVisibility,tracks:this.props.tracks,trackDataStatus:this.props.trackDataStatus,onTrackVisibilityChange:this.onTrackVisibilityChange,getSVG:this.getSVG}),Object(o.createElement)(h.Collapse,{isOpened:this.legendShown},this.props.legend||Object(o.createElement)(Te,null)),Object(o.createElement)(De,{sequence:this.sequence,lollipops:this.lollipops,domains:this.domains,dataStore:this.props.store.dataStore,vizWidth:this.props.geneWidth,vizHeight:130,hugoGeneSymbol:this.hugoGeneSymbol,xMax:this.proteinLength,yMax:this.yMaxInput,onXAxisOffset:this.onXAxisOffset}),Object(o.createElement)(dn,{store:this.props.store,geneWidth:this.props.geneWidth,tracks:this.props.tracks,trackVisibility:this.trackVisibility,pubMedCache:this.props.pubMedCache,proteinLength:this.proteinLength,geneXOffset:this.geneXOffset})):this.props.loadingIndicator||Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"})},tt([u.observable],e.prototype,"mouseInPlot",void 0),tt([u.observable],e.prototype,"_yMaxInput",void 0),tt([u.observable],e.prototype,"legendShown",void 0),tt([u.observable],e.prototype,"yMaxInputFocused",void 0),tt([u.observable],e.prototype,"geneXOffset",void 0),tt([u.observable],e.prototype,"_trackVisibility",void 0),tt([u.computed],e.prototype,"showControls",null),tt([u.computed],e.prototype,"trackVisibility",null),tt([u.computed],e.prototype,"lollipops",null),tt([u.computed],e.prototype,"domains",null),tt([u.computed],e.prototype,"domainColorMap",null),tt([u.computed],e.prototype,"domainMap",null),tt([u.computed],e.prototype,"sequence",null),tt([l.default],e.prototype,"getSVG",null),tt([u.computed],e.prototype,"hugoGeneSymbol",null),tt([u.computed],e.prototype,"countRange",null),tt([u.computed],e.prototype,"sliderRange",null),tt([u.computed],e.prototype,"yMaxSlider",null),tt([u.computed],e.prototype,"yMaxInput",null),tt([l.default,u.action],e.prototype,"onXAxisOffset",null),tt([l.default,u.action],e.prototype,"onTrackVisibilityChange",null),e=tt([c.observer],e)}(o.Component),fn=function(){function t(){this._cache=u.observable.shallowMap()}return t.prototype.fetch=function(t){return et(this,void 0,void 0,function(){return nt(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,n){Y.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:t}).end(function(t,r){if(!t&&r.ok){for(var o=JSON.parse(r.text).result,i={},a=0,s=o.uids;a<s.length;a++){var l=s[a];i[l]=o[l]}e(i)}else n(t)})})];case 1:return[2,e.sent()[t]]}})})},t.prototype.get=function(t){var e=this;return this._cache[t]||(this._cache[t]={status:"pending"},this.fetch(t).then(function(n){return e._cache[t]={status:"complete",data:n}}).catch(function(){return e._cache[t]={status:"error"}})),this._cache[t]},Object.defineProperty(t.prototype,"cache",{get:function(){return this._cache},enumerable:!0,configurable:!0}),tt([u.action],t.prototype,"get",null),t}();function mn(t){!function(t){t.forEach(function(t){if(void 0===t.proteinPosStart&&void 0===t.proteinPosEnd){var e=t.proteinChange||t.aminoAcidChange,n=Object(r.getProteinPositionFromProteinChange)(e);n&&(t.proteinPosStart=n.start,t.proteinPosEnd=n.end)}})}(t),function(t){t.forEach(function(t){t.mutationType||(t.mutationType=Object(r.getMutationTypeFromProteinChange)(t.proteinChange||t.aminoAcidChange)||"")})}(t)}function gn(t,e){return t.map(function(t){return function(t,e){var n,r=be(t),o=r?e[_e(r)]:void 0;o&&(n=function(t){var e=Object(p.find)(t.transcriptConsequenceSummaries,function(e){return e.transcriptId===t.canonicalTranscriptId});e||(e=t.transcriptConsequenceSummaries.length>0?t.transcriptConsequenceSummaries[0]:void 0);return e}(o.annotation_summary));return o&&n?vn(t,o.annotation_summary,n,!1):bn(t)}(t,e)})}function vn(t,e,n,r){var o=bn(t);o.variantType=!r&&o.variantType||e.variantType,o.proteinChange=!r&&o.proteinChange||n.hgvspShort,o.proteinChange&&(o.proteinChange=o.proteinChange.replace(/^p./,"")),o.mutationType=!r&&o.mutationType||n.variantClassification,n.proteinPosition&&(o.proteinPosStart=!r&&o.proteinChange?o.proteinPosStart:n.proteinPosition.start,o.proteinPosEnd=!r&&o.proteinChange?o.proteinPosEnd:n.proteinPosition.end);var i=parseInt(n.entrezGeneId,10);return o.gene=J({},o.gene,{hugoGeneSymbol:!r&&o.gene&&o.gene.hugoGeneSymbol||n.hugoGeneSymbol,entrezGeneId:o.gene&&o.gene.entrezGeneId||i}),o}function yn(t,e,n){return Object(p.compact)(t.map(function(t){return function(t,e,n){var r=be(t),o=r?n[_e(r)]:void 0,i=o&&o.annotation_summary&&o.annotation_summary.transcriptConsequenceSummaries&&o.annotation_summary.transcriptConsequenceSummaries.filter(function(t){return t.transcriptId===e});if(o&&i&&i.length>0){var a=i[0],s=vn(t,o.annotation_summary,a,!0);return s.proteinChange&&s.proteinChange.length>0&&new RegExp(/.*[A-Z].*/,"i").test(s.proteinChange.toLowerCase())?s:void 0}}(t,e,n)}))}function bn(t){var e=Object(u.toJS)(t);return J({},e,{variantType:e.variantType||"",gene:e.gene||{hugoGeneSymbol:""},proteinChange:e.proteinChange||"",mutationType:e.mutationType||""})}function _n(t){return Object(p.keyBy)(t,function(t){return _e(t.annotation_summary.genomicLocation)})}var xn="https://www.genomenexus.org/",Sn="https://www.oncokb.org/",wn={indicatorMap:{}},Cn=jn();function kn(t,e){return d.a.template(t)(e)}function Tn(t,e,n,r){return void 0===e&&(e=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=Cn),et(this,void 0,void 0,function(){var o,i;return nt(this,function(a){switch(a.label){case 0:return(o=xe(t)).length>0&&r.fetchVariantAnnotationByGenomicLocationPOST?[4,r.fetchVariantAnnotationByGenomicLocationPOST({genomicLocations:o,fields:e,isoformOverrideSource:n})]:[3,2];case 1:return i=a.sent(),[3,3];case 2:i=[],a.label=3;case 3:return[2,i]}})})}function Mn(t,e,n,r){return void 0===e&&(e=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=Cn),et(this,void 0,void 0,function(){return nt(this,function(o){switch(o.label){case 0:return[4,Tn(t,e,n,r)];case 1:return[2,_n(o.sent())]}})})}function jn(t){return new r.GenomeNexusAPI(t||xn)}function En(t){return new r.OncoKbAPI(t||Sn)}var On,In=function(){function t(t,e){this.dataFilters=[],this.selectionFilters=[],this.highlightFilters=[],this.data=t,this.applyCustomFilter=e}return Object.defineProperty(t.prototype,"allData",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){var t=this;return this.dataFilters.length>0?this.data.filter(function(e){return t.dataMainFilter(d.a.flatten([e])[0])}):this.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortedFilteredData",{get:function(){return this.filteredData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortedFilteredSelectedData",{get:function(){var t=this;return this.selectionFilters.length>0?this.data.filter(function(e){return t.dataSelectFilter(d.a.flatten([e])[0])}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPositions",{get:function(){return d.a.keyBy(Ee(this.selectionFilters).map(function(t){return{position:t}}),"position")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightedPositions",{get:function(){return d.a.keyBy(Ee(this.highlightFilters).map(function(t){return{position:t}}),"position")},enumerable:!0,configurable:!0}),t.prototype.clearHighlightFilters=function(){this.highlightFilters.length>0&&(this.highlightFilters=[])},t.prototype.clearSelectionFilters=function(){this.selectionFilters.length>0&&(this.selectionFilters=[])},t.prototype.clearDataFilters=function(){this.dataFilters.length>0&&(this.dataFilters=[])},t.prototype.setHighlightFilters=function(t){this.highlightFilters=t},t.prototype.setSelectionFilters=function(t){this.selectionFilters=t},t.prototype.isPositionSelected=function(t){return!!this.selectedPositions[t+""]},t.prototype.isPositionHighlighted=function(t){return!!this.highlightedPositions[t+""]},t.prototype.dataMainFilter=function(t){var e=this;return this.dataFilters.length>0&&!this.dataFilters.map(function(n){return e.applyFilter(n,t,e.selectedPositions)}).includes(!1)},t.prototype.dataSelectFilter=function(t){var e=this;return this.selectionFilters.length>0&&!this.selectionFilters.map(function(n){return e.applyFilter(n,t,e.selectedPositions)}).includes(!1)},t.prototype.dataHighlightFilter=function(t){var e=this;return this.highlightFilters.length>0&&!this.highlightFilters.map(function(n){return e.applyFilter(n,t,e.highlightedPositions)}).includes(!1)},t.prototype.applyFilter=function(t,e,n){return this.applyCustomFilter?this.applyCustomFilter(t,e,n):!!n[e.proteinPosStart+""]},tt([u.observable],t.prototype,"dataFilters",void 0),tt([u.observable],t.prototype,"selectionFilters",void 0),tt([u.observable],t.prototype,"highlightFilters",void 0),tt([u.computed],t.prototype,"allData",null),tt([u.computed],t.prototype,"filteredData",null),tt([u.computed],t.prototype,"sortedFilteredData",null),tt([u.computed],t.prototype,"sortedFilteredSelectedData",null),tt([u.computed],t.prototype,"selectedPositions",null),tt([u.computed],t.prototype,"highlightedPositions",null),tt([u.action],t.prototype,"clearHighlightFilters",null),tt([u.action],t.prototype,"clearSelectionFilters",null),tt([u.action],t.prototype,"clearDataFilters",null),tt([u.action],t.prototype,"setHighlightFilters",null),tt([u.action],t.prototype,"setSelectionFilters",null),t}(),Pn=function(){function t(t,e,n,o){var i;this.config=t,this.genomeNexusClient=e||jn(t.genomeNexusUrl),this.genomeNexusInternalClient=n||(i=t.genomeNexusUrl,new r.GenomeNexusAPIInternal(i||xn)),this.oncoKbClient=o||En(t.oncoKbUrl)}return t.prototype.fetchSwissProtAccession=function(t){return et(this,void 0,void 0,function(){var e;return nt(this,function(n){switch(n.label){case 0:return[4,Y.a.get(kn(this.config.myGeneUrlTemplate||"https://mygene.info/v3/gene/<%= entrezGeneId %>?fields=uniprot",{entrezGeneId:t}))];case 1:return e=n.sent(),[2,JSON.parse(e.text).uniprot["Swiss-Prot"]]}})})},t.prototype.fetchUniprotId=function(t){return et(this,void 0,void 0,function(){return nt(this,function(e){switch(e.label){case 0:return[4,Y.a.get(kn(this.config.uniprotIdUrlTemplate||"https://www.uniprot.org/uniprot/?query=accession:<%= swissProtAccession %>&format=tab&columns=entry+name",{swissProtAccession:t}))];case 1:return[2,e.sent().text.split("\n")[1]]}})})},t.prototype.fetchMutationAlignerLink=function(t){return Y.a.get(kn(this.config.mutationAlignerUrlTemplate||"https://www.cbioportal.org/getMutationAligner.json?pfamAccession=<%= pfamDomainId %>",{pfamDomainId:t}))},t.prototype.fetchPfamDomainData=function(t,e){return void 0===e&&(e=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,e.fetchPfamDomainsByPfamAccessionPOST({pfamAccessions:t})];case 1:return[2,n.sent()]}})})},t.prototype.fetchVariantAnnotationsIndexedByGenomicLocation=function(t,e,n,r){return void 0===e&&(e=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(o){switch(o.label){case 0:return[4,Mn(t,e,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.fetchCanonicalTranscriptWithFallback=function(t,e,n,r){return void 0===r&&(r=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(o){return[2,this.fetchCanonicalTranscript(t,e,r).catch(function(){var t=d.a.maxBy(n,function(t){return t.proteinLength});return t||void 0})]})})},t.prototype.fetchCanonicalTranscript=function(t,e,n){return void 0===n&&(n=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(r){switch(r.label){case 0:return[4,n.fetchCanonicalEnsemblTranscriptByHugoSymbolGET({hugoSymbol:t,isoformOverrideSource:e})];case 1:return[2,r.sent()]}})})},t.prototype.fetchEnsemblTranscriptsByEnsemblFilter=function(t,e){return void 0===e&&(e=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,e.fetchEnsemblTranscriptsByEnsemblFilterPOST({ensemblFilter:Object.assign({geneIds:[],hugoSymbols:[],proteinIds:[],transcriptIds:[]},t)})];case 1:return[2,n.sent()]}})})},t.prototype.fetchPtmData=function(t,e){return void 0===e&&(e=this.genomeNexusClient),t?e.fetchPostTranslationalModificationsGET({ensemblTranscriptId:t}):Promise.resolve([])},t.prototype.fetchCancerHotspotData=function(t,e){return void 0===e&&(e=this.genomeNexusInternalClient),t?e.fetchHotspotAnnotationByTranscriptIdGET({transcriptId:t}):Promise.resolve([])},t.prototype.fetchAggregatedHotspotsData=function(t,e){if(void 0===e&&(e=this.genomeNexusInternalClient),0===t.length)return Promise.resolve([]);var n=xe(t);return e.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:n})},t.prototype.fetchOncoKbCancerGenes=function(t){return void 0===t&&(t=this.oncoKbClient),t.utilsCancerGeneListGetUsingGET({})},t.prototype.fetchOncoKbData=function(t,e,n,o,i,a){return void 0===a&&(a=this.oncoKbClient),et(this,void 0,void 0,function(){var s,l;return nt(this,function(u){return e instanceof Error?[2,new Error]:0===t.length?[2,wn]:(s=d.a.filter(t,function(t){return!!e[o(t)]}),l=d.a.uniqBy(d.a.map(s,function(t){return Object(r.generateQueryVariant)(o(t),n(t),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd)}),"id"),[2,this.queryOncoKbData(l,i,a)])})})},t.prototype.queryOncoKbData=function(t,e,n){return void 0===n&&(n=this.oncoKbClient),et(this,void 0,void 0,function(){var o;return nt(this,function(i){switch(i.label){case 0:return[4,n.searchPostUsingPOST({body:J({},Object(r.generatePartialEvidenceQuery)(e),{queries:t})})];case 1:return o=i.sent(),[2,{indicatorMap:d.a.keyBy(o,function(t){return t.query.id})}]}})})},t}(),An=function(t){function e(e){var n=t.call(this)||this;return n.oncoKbClient=e||En(),n}return Q(e,t),e.prototype.fetch=function(t){return et(this,void 0,void 0,function(){var e,n,o,i;return nt(this,function(a){switch(a.label){case 0:e={},a.label=1;case 1:return a.trys.push([1,4,,5]),this.oncoKbClient.evidencesLookupPostUsingPOST?[4,this.oncoKbClient.evidencesLookupPostUsingPOST({body:J({},Object(r.generatePartialEvidenceQuery)("STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_RESISTANCE"),{queries:t})})]:[3,3];case 2:for(i in n=a.sent(),o=Ct(n))o.hasOwnProperty(i)&&(e[i]={status:"complete",data:o[i]});this.putData(e),a.label=3;case 3:return[3,5];case 4:return a.sent(),t.forEach(function(t){e[t.id]={status:"error"}}),this.putData(e),[3,5];case 5:return[2]}})})},e}(r.SimpleCache),Dn=function(){function t(t,e,n){var o=this;this.gene=t,this.config=e,this.getMutations=n,this._activeTranscript=void 0,this.mutationData=Object(r.remoteData)({await:function(){return o.config.filterMutationsBySelectedTranscript?[o.canonicalTranscript,o.indexedVariantAnnotations]:[o.canonicalTranscript]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.mutations]})})}},[]),this.swissProtId=Object(r.remoteData)({invoke:function(){return et(o,void 0,void 0,function(){var t;return nt(this,function(e){switch(e.label){case 0:return!this.gene.entrezGeneId||this.gene.entrezGeneId<1?[2,""]:[4,this.dataFetcher.fetchSwissProtAccession(this.gene.entrezGeneId)];case 1:return t=e.sent(),d.a.isArray(t)?[2,t[0]]:[2,t]}})})},onError:function(){}},""),this.uniprotId=Object(r.remoteData)({await:function(){return[o.swissProtId]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.swissProtId.result?[2,this.dataFetcher.fetchUniprotId(this.swissProtId.result)]:[2,""]})})},onError:function(){}},""),this.mutationAlignerLinks=Object(r.remoteData)({await:function(){return[o.canonicalTranscript,o.allTranscripts]},invoke:function(){return new Promise(function(t,e){for(var n=o.allTranscripts.result&&o.activeTranscript&&o.transcriptsByTranscriptId[o.activeTranscript]?o.transcriptsByTranscriptId[o.activeTranscript].pfamDomains:void 0,r=[],i=0;n&&i<n.length;i++)r.push(o.dataFetcher.fetchMutationAlignerLink(n[i].pfamDomainId));var a=Promise.all(r);a.then(function(e){for(var r,o,i=e.map(function(t){return JSON.parse(t.text)}),a={},s=0;s<i.length;s++)r=i[s],(o=n?n[s].pfamDomainId:null)&&r.linkToMutationAligner&&(a[o]=r.linkToMutationAligner);t(a)}),a.catch(e)})}},{}),this.pfamDomainData=Object(r.remoteData)({await:function(){return[o.canonicalTranscript,o.transcriptsWithProteinLength]},invoke:function(){return et(o,void 0,void 0,function(){var t,e=this;return nt(this,function(n){return this.canonicalTranscript.result&&this.canonicalTranscript.result.pfamDomains&&this.canonicalTranscript.result.pfamDomains.length>0?(t=this.canonicalTranscript.result.pfamDomains,this.config.filterMutationsBySelectedTranscript&&this.transcriptsWithProteinLength.result&&this.transcriptsWithProteinLength.result.length>0&&(t=[].concat.apply([t],d.a.compact(this.transcriptsWithProteinLength.result.map(function(t){return e.transcriptsByTranscriptId[t].pfamDomains})))),[2,this.dataFetcher.fetchPfamDomainData(t.map(function(t){return t.pfamDomainId}))]):[2,void 0]})})}},void 0),this.canonicalTranscript=Object(r.remoteData)({await:function(){return[o.transcriptsByHugoSymbol]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.gene?[2,this.dataFetcher.fetchCanonicalTranscriptWithFallback(this.gene.hugoGeneSymbol,this.isoformOverrideSource,this.transcriptsByHugoSymbol.result)]:[2,void 0]})})},onError:function(){throw new Error("Failed to get canonical transcript")}},void 0),this.allTranscripts=Object(r.remoteData)({await:function(){return[o.transcriptsByHugoSymbol,o.canonicalTranscript]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,d.a.compact(d.a.unionBy(this.transcriptsByHugoSymbol.result,[this.canonicalTranscript.result],function(t){return t&&t.transcriptId}))]})})},onError:function(){throw new Error("Failed to get all transcripts")}},void 0),this.transcriptsByHugoSymbol=Object(r.remoteData)({invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.gene?[2,this.dataFetcher.fetchEnsemblTranscriptsByEnsemblFilter({hugoSymbols:[this.gene.hugoGeneSymbol]})]:[2,void 0]})})},onError:function(){throw new Error("Failed to fetch all transcripts")}},void 0),this.transcriptsWithProteinLength=Object(r.remoteData)({await:function(){return[o.allTranscripts,o.canonicalTranscript]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.allTranscripts.result&&this.canonicalTranscript.result?[2,d.a.compact(this.allTranscripts.result.map(function(t){return t.proteinLength&&t.transcriptId}))]:[2,[]]})})},onError:function(){throw new Error("Failed to get transcriptsWithProteinLength")}},void 0),this.transcriptsWithAnnotations=Object(r.remoteData)({await:function(){return[o.indexedVariantAnnotations,o.allTranscripts,o.transcriptsWithProteinLength]},invoke:function(){return et(o,void 0,void 0,function(){var t=this;return nt(this,function(e){return this.indexedVariantAnnotations.result&&this.allTranscripts.result&&this.transcriptsWithProteinLength.result&&this.transcriptsWithProteinLength.result.length>0?[2,d.a.uniq([].concat.apply([],xe(this.getMutations()).map(function(e){return t.indexedVariantAnnotations.result&&t.indexedVariantAnnotations.result[_e(e)]?t.indexedVariantAnnotations.result[_e(e)].transcript_consequences.map(function(t){return t.transcript_id}).filter(function(e){return t.transcriptsWithProteinLength.result.includes(e)}):[]}))).filter(function(e){return yn(t.getMutations(),e,t.indexedVariantAnnotations.result).length>0})]:[2,[]]})})},onError:function(){throw new Error("Failed to get transcriptsWithAnnotations")}},void 0),this.ptmData=Object(r.remoteData)({await:function(){return[o.mutationData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.activeTranscript?[2,this.dataFetcher.fetchPtmData(this.activeTranscript)]:[2,[]]})})},onError:function(){}},[]),this.ptmDataByProteinPosStart=Object(r.remoteData)({await:function(){return[o.ptmData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.ptmData.result?(e=this.ptmData.result,Object(p.groupBy)(e,"position")):{}];var e})})}},{}),this.ptmDataByTypeAndProteinPosStart=Object(r.remoteData)({await:function(){return[o.ptmData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.ptmData.result?(e=this.ptmData.result,n=Object(p.groupBy)(e,"type"),r={},Object(p.keys)(n).forEach(function(t){r[t]=Object(p.groupBy)(n[t],"position")}),r):{}];var e,n,r})})}},{}),this.cancerHotspotsData=Object(r.remoteData)({await:function(){return[o.mutationData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.activeTranscript?[2,this.dataFetcher.fetchCancerHotspotData(this.activeTranscript)]:[2,[]]})})},onError:function(){}},[]),this.cancerHotspotsDataByProteinPosStart=Object(r.remoteData)({await:function(){return[o.cancerHotspotsData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.ptmData.result?(e=this.cancerHotspotsData.result,Object(p.groupBy)(e,"proteinPosStart")):{}];var e})})}},{}),this.hotspotData=Object(r.remoteData)({await:function(){return[o.mutationData]},invoke:function(){return o.dataFetcher.fetchAggregatedHotspotsData(o.mutations)}}),this.indexedHotspotData=Object(r.remoteData)({await:function(){return[o.hotspotData]},invoke:function(){return Promise.resolve(Le(o.hotspotData))}}),this.oncoKbCancerGenes=Object(r.remoteData)({invoke:function(){return o.dataFetcher.fetchOncoKbCancerGenes()}},[]),this.oncoKbAnnotatedGenes=Object(r.remoteData)({await:function(){return[o.oncoKbCancerGenes]},invoke:function(){return Promise.resolve(d.a.reduce(o.oncoKbCancerGenes.result,function(t,e){return e.oncokbAnnotated&&(t[e.entrezGeneId]=!0),t},{}))}},{}),this.oncoKbData=Object(r.remoteData)({await:function(){return[o.mutationData,o.oncoKbAnnotatedGenes]},invoke:function(){return o.dataFetcher.fetchOncoKbData(o.mutations,o.oncoKbAnnotatedGenes.result,o.getDefaultTumorType,o.getDefaultEntrezGeneId)},onError:function(){}},wn),this.indexedVariantAnnotations=Object(r.remoteData)({invoke:function(){return et(o,void 0,void 0,function(){var t;return nt(this,function(e){switch(e.label){case 0:return this.getMutations()?[4,this.dataFetcher.fetchVariantAnnotationsIndexedByGenomicLocation(this.getMutations(),["annotation_summary","hotspots"],this.isoformOverrideSource)]:[3,2];case 1:return t=e.sent(),[3,3];case 2:t=void 0,e.label=3;case 3:return[2,t]}})})},onError:function(){}},void 0)}return Object.defineProperty(t.prototype,"activeTranscript",{get:function(){var t=!this.canonicalTranscript.isPending&&this.canonicalTranscript.result?this.canonicalTranscript.result.transcriptId:void 0;return void 0!==this._activeTranscript?this._activeTranscript:this.config.filterMutationsBySelectedTranscript&&this.transcriptsWithAnnotations.result&&this.transcriptsWithAnnotations.result.length>0&&t&&!this.transcriptsWithAnnotations.result.includes(t)?this.transcriptsWithAnnotations.result[0]:t},set:function(t){this._activeTranscript=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isoformOverrideSource",{get:function(){return this.config.isoformOverrideSource||"uniprot"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataStore",{get:function(){return new In(this.mutations,this.customFilterApplier)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oncoKbEvidenceCache",{get:function(){return new An(this.dataFetcher.oncoKbClient)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutations",{get:function(){return this.canonicalTranscript.isPending||this.config.filterMutationsBySelectedTranscript&&(this.transcriptsWithAnnotations.isPending||this.indexedVariantAnnotations.isPending)?[]:this.config.filterMutationsBySelectedTranscript&&this.activeTranscript&&this.indexedVariantAnnotations.result&&!d.a.isEmpty(this.indexedVariantAnnotations.result)?yn(this.getMutations(),this.activeTranscript,this.indexedVariantAnnotations.result):this.getMutations()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFetcher",{get:function(){return new Pn({genomeNexusUrl:this.config.genomeNexusUrl,oncoKbUrl:this.config.oncoKbUrl})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationsByPosition",{get:function(){return function(t){for(var e={},n=0,r=t;n<r.length;n++){var o=r[n],i=o.proteinPosStart;null!=i&&(e[i]=e[i]||[],e[i].push(o))}return e}(d.a.flatten(this.dataStore.sortedFilteredData))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueMutationCountsByPosition",{get:function(){var t=this,e={};return Object.keys(this.mutationsByPosition).forEach(function(n){var r=parseInt(n,10),o=t.mutationsByPosition[r];o&&(e[r]=t.countUniqueMutations(o))}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transcriptsByTranscriptId",{get:function(){return d.a.keyBy(this.allTranscripts.result,function(t){return t.transcriptId})},enumerable:!0,configurable:!0}),t.prototype.countUniqueMutations=function(t){return this.config.getMutationCount?this.getMutationCount(t,this.config.getMutationCount):t.length},t.prototype.getMutationCount=function(t,e){return t.map(function(t){return e(t)}).reduce(function(t,e){return t+e})},Object.defineProperty(t.prototype,"hotspotsByPosition",{get:function(){return this.indexedHotspotData.result?(t=this.mutationsByPosition,e=this.indexedHotspotData.result,n=Ue,r={},Object(p.keys)(t).forEach(function(o){var i=Number(o),a=Be(t[i],e,n);a.length>0&&(r[i]=a)}),r):{};var t,e,n,r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oncoKbDataByPosition",{get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:kt(this.mutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,Mt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationsByTranscriptId",{get:function(){var t=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?d.a.fromPairs(this.transcriptsWithAnnotations.result.map(function(e){return[e,yn(t.getMutations(),e,t.indexedVariantAnnotations.result)]})):{}},enumerable:!0,configurable:!0}),t.prototype.getDefaultTumorType=function(t){return t?"Unknown":""},t.prototype.getDefaultEntrezGeneId=function(t){return this.gene.entrezGeneId||t.gene&&t.gene.entrezGeneId||0},t.prototype.customFilterApplier=function(t,e,n){var r=!0;return t.position&&(r=!!n[e.proteinPosStart+""]),r&&t.hotspot&&this.indexedHotspotData.result&&(r=We(e,this.indexedHotspotData.result,Ue)),r&&t.oncokb&&this.oncoKbData.result&&!(this.oncoKbData.result instanceof Error)&&(r=jt(e,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId)),r&&t.mutation&&(r=!t.mutation.map(function(t){return void 0===t.mutationType||e.mutationType===t.mutationType}).includes(!1)),r},tt([u.observable],t.prototype,"_activeTranscript",void 0),tt([u.computed],t.prototype,"activeTranscript",null),tt([u.computed],t.prototype,"isoformOverrideSource",null),tt([X.cached],t.prototype,"dataStore",null),tt([X.cached],t.prototype,"oncoKbEvidenceCache",null),tt([u.computed],t.prototype,"mutations",null),tt([u.computed],t.prototype,"dataFetcher",null),tt([u.computed],t.prototype,"mutationsByPosition",null),tt([u.computed],t.prototype,"uniqueMutationCountsByPosition",null),tt([u.computed],t.prototype,"transcriptsByTranscriptId",null),tt([u.computed],t.prototype,"hotspotsByPosition",null),tt([u.computed],t.prototype,"oncoKbDataByPosition",null),tt([u.computed],t.prototype,"mutationsByTranscriptId",null),tt([l.default],t.prototype,"getDefaultTumorType",null),tt([l.default],t.prototype,"getDefaultEntrezGeneId",null),tt([l.default],t.prototype,"customFilterApplier",null),t}();var Rn="defaultMutationRateSummary-module_mutationRateSummary__1igna",Fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)(o.Fragment,null,this.props.rates.map(function(t){return Object(o.createElement)("div",{key:t.title,className:Rn},Object(o.createElement)("span",null,t.title,": "),Object(o.createElement)("span",null,t.rate.toFixed(1),"%"),t.description&&Object(o.createElement)(r.DefaultTooltip,{placement:"right",overlay:Object(o.createElement)("span",null,t.description)},Object(o.createElement)("i",{className:"fa fa-info-circle",style:{marginLeft:"0.2rem"}})))}))},e}(o.Component),zn={oncoKbStatus:"complete",oncoKbGeneExist:!1,isOncoKbCancerGene:!1,isHotspot:!1,is3dHotspot:!1,hotspotStatus:"complete",hugoGeneSymbol:""};function Nn(t){return t.gene&&t.gene.entrezGeneId||0}function Ln(){return"Unknown"}function Bn(t,e,n,r,o,i){var a;if(void 0===o&&(o=Ln),void 0===i&&(i=Nn),t){var s=i(t),l=void 0,u=t.gene?t.gene.hugoGeneSymbol:void 0,c=!1,p=!1;!e||e.result instanceof Error||(c=void 0!==d.a.find(e.result,function(t){return t.oncokbAnnotated&&t.entrezGeneId===s}),p=void 0!==d.a.find(e.result,function(t){return t.entrezGeneId===s})),a={hugoGeneSymbol:u,oncoKbGeneExist:c,isOncoKbCancerGene:p,isHotspot:!(!n||!n.result||"complete"!==n.status)&&qe(t,n.result),is3dHotspot:!(!n||!n.result||"complete"!==n.status)&&Ge(t,n.result),hotspotStatus:n?n.status:"pending"},r&&r.result instanceof Error?a=J({},a,{oncoKbStatus:"error",oncoKbIndicator:void 0}):c?(!r||!r.result||r.result instanceof Error||"complete"!==r.status||(l=Tt(t,r.result,o,i)),a=J({},a,{oncoKbStatus:r?r.status:"pending",oncoKbIndicator:l})):a=J({},a,{oncoKbStatus:"complete",oncoKbIndicator:void 0})}else a=zn;return a}function Hn(t,e){return Pt(Vn(t),Vn(e))}function Vn(t){return d.a.flatten([ie(t.oncoKbIndicator),pt(t.isHotspot,t.is3dHotspot),t.isOncoKbCancerGene?1:0])}var qn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t,e,n,i=this.getAnnotationData(this.props),a=(t=this.props.mutation,e=this.props.resolveEntrezGeneId,n=this.props.resolveTumorType,void 0===e&&(e=Nn),void 0===n&&(n=Ln),Object(r.generateQueryVariant)(e(t),n(t),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd));return Object(o.createElement)("span",{style:{display:"flex",minWidth:100}},this.props.enableOncoKb&&Object(o.createElement)(ue,{hugoGeneSymbol:i.hugoGeneSymbol,geneNotExist:!i.oncoKbGeneExist,isCancerGene:i.isOncoKbCancerGene,status:i.oncoKbStatus,indicator:i.oncoKbIndicator,evidenceCache:this.props.oncoKbEvidenceCache,evidenceQuery:a,pubMedCache:this.props.pubMedCache,userEmailAddress:this.props.userEmailAddress}),this.props.enableHotspot&&Object(o.createElement)(ht,{isHotspot:i.isHotspot,is3dHotspot:i.is3dHotspot,status:i.hotspotStatus}))},e.prototype.getAnnotationData=function(t){var e=t.mutation,n=t.oncoKbCancerGenes,r=t.hotspotData,o=t.oncoKbData,i=t.resolveEntrezGeneId;return Bn(e,n,r,o,t.resolveTumorType,i)},e=tt([c.observer],e)}(o.Component),Gn="mutationStatus-module_germline__14ouw",Wn="mutationStatus-module_somatic__2kcEn",Un="mutationStatus-module_unknown__jR1Lo",Kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t,e=this.props.mutation.mutationStatus,n=!1;return e?e.toLowerCase().indexOf("somatic")>-1?(t=Object(o.createElement)("span",{className:Wn},this.props.displayValueMap&&this.props.displayValueMap.somatic||"Somatic"),n=void 0!==this.props.displayValueMap):e.toLowerCase().indexOf("germline")>-1?(t=Object(o.createElement)("span",{className:Gn},this.props.displayValueMap&&this.props.displayValueMap.germline||"Germline"),n=void 0!==this.props.displayValueMap):t=Object(o.createElement)("span",{className:Un},e):t=Object(o.createElement)("span",null),n&&(t=Object(o.createElement)(r.DefaultTooltip,{overlay:Object(o.createElement)("span",null,e),placement:"right"},t)),t},e}(o.Component),Yn={"missense-mutation":"mutationType-module_missense-mutation__2JtLH","trunc-mutation":"mutationType-module_trunc-mutation__17JAR","inframe-mutation":"mutationType-module_inframe-mutation__1eiid","other-mutation":"mutationType-module_other-mutation__1hRce","default-mutation":"mutationType-module_default-mutation__3X-GT"},Xn={missense:{label:"Missense",className:"missense-mutation"},inframe:{label:"IF",className:"inframe-mutation"},truncating:{label:"Truncating",className:"trunc-mutation"},nonsense:{label:"Nonsense",className:"trunc-mutation"},nonstop:{label:"Nonstop",className:"trunc-mutation"},nonstart:{label:"Nonstart",className:"trunc-mutation"},frameshift:{label:"FS",className:"trunc-mutation"},frame_shift_del:{label:"FS del",className:"trunc-mutation"},frame_shift_ins:{label:"FS ins",className:"trunc-mutation"},in_frame_ins:{label:"IF ins",className:"inframe-mutation"},in_frame_del:{label:"IF del",className:"inframe-mutation"},splice_site:{label:"Splice",className:"trunc-mutation"},fusion:{label:"Fusion",className:"fusion"},silent:{label:"Silent",className:"other-mutation"},other:{label:"Other",className:"other-mutation"}};function Zn(t){var e=t.mutationType;return e?Xn[Object(r.getCanonicalMutationType)(e)]:void 0}var $n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t,e,n=(t=this.props.mutation,(e=Zn(t))&&e.label?e.label:t.mutationType||""),i=function(t){var e=Zn(t);return e&&e.className?e.className:Xn.other.className}(this.props.mutation),a=this.props.mutation.mutationType,s=Object(o.createElement)("span",{className:Yn[i]},n);return a&&a.toLowerCase()!==n.toLowerCase()&&(s=Object(o.createElement)(r.DefaultTooltip,{overlay:Object(o.createElement)("span",null,a),placement:"left"},s)),s},e}(o.Component),Qn="proteinChange-module_proteinChange__3MSnG",Jn="proteinChange-module_germline__25Wi_";function tr(t,e){return Ot(t?Object(r.calcProteinChangeSortValue)(t):null,e?Object(r.calcProteinChangeSortValue)(e):null)}var er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this.props.mutation,e=t.proteinChange,n=t.mutationStatus,r=Object(o.createElement)("span",{className:Qn},e);return n&&n.toLowerCase().indexOf("germline")>-1&&(r=Object(o.createElement)(o.Fragment,null,r,Object(o.createElement)("span",{className:Jn},"Germline"))),r},e}(o.Component),nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{className:"dataTableMainToolbar",style:{paddingBottom:"0.4rem"}},this.props.showColumnVisibility&&Object(o.createElement)("div",{className:"small",style:{width:150,marginLeft:"auto"}},Object(o.createElement)(ce,J({columnVisibility:this.props.columnVisibility,onColumnToggled:this.props.visibilityToggle},this.props.columnSelectorProps))))},e.defaultProps={showColumnVisibility:!0},e=tt([c.observer],e)}(o.Component);function rr(t){return t?(e=d.a.compact(t),d.a.some(e,function(t){return"error"===t.status})?"error":d.a.some(e,function(t){return"pending"===t.status})?"pending":"complete"):"complete";var e}var or,ir,ar,sr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expanded={},e}return Q(e,t),Object.defineProperty(e.prototype,"tableData",{get:function(){var t=this.props.data;return this.props.dataStore&&(t=this.props.dataStore.sortedFilteredSelectedData.length>0?this.props.dataStore.sortedFilteredSelectedData:this.props.dataStore.sortedFilteredData),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){var t=this;return(this.props.columns||[]).map(function(e){return J({},e,{show:e.id?t.columnVisibility[e.id]:e.expander||e.show})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needToCustomizeRowStyle",{get:function(){return this.props.dataStore&&this.props.dataStore.highlightFilters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showPagination",{get:function(){var t=this.props.initialItemsPerPage;return void 0!==this.tableData&&this.tableData.length>t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPageSize",{get:function(){var t=this.props.initialItemsPerPage;return this.tableData?this.tableData.length>t?t:this.tableData.length:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialColumnDataStatus",{get:function(){return rr(this.props.initialSortColumnData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultSorted",{get:function(){var t=this.props,e=t.initialSortColumn,n=t.initialSortDirection;return void 0===e||"pending"===this.initialColumnDataStatus?void 0:[{id:e,desc:"desc"===n}]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnVisibility",{get:function(){return Object(r.resolveColumnVisibility)(this.columnVisibilityByColumnDefinition,this.props.columnVisibility,this._columnVisibilityOverride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnVisibilityDef",{get:function(){return t=this.props.columns||[],e=this.columnVisibility,n=[],(t||[]).filter(function(t){return t.id}).forEach(function(t){return n.push({id:t.id,name:t.name||t.id,visible:e[t.id],togglable:void 0===t.togglable||t.togglable})}),n;var t,e,n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnVisibilityByColumnDefinition",{get:function(){return Object(r.resolveColumnVisibilityByColumnDefinition)((this.props.columns||[]).filter(function(t){return t.id}).map(function(t){return{name:t.name||t.id,id:t.id,visible:t.show}}))},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("div",{className:"cbioportal-frontend"},Object(o.createElement)(nr,{visibilityToggle:this.onVisibilityToggle,columnVisibility:this.columnVisibilityDef,columnSelectorProps:this.props.columnSelectorProps}),Object(o.createElement)("div",{className:s()(this.props.className,"cbioportal-frontend","default-data-table")},Object(o.createElement)(q,J({data:this.tableData,columns:this.columns,getTrProps:this.needToCustomizeRowStyle?this.getTrProps:void 0,defaultSorted:this.defaultSorted,defaultPageSize:this.defaultPageSize,showPagination:this.showPagination,className:"-striped -highlight",previousText:"<",nextText:">",expanded:this.expanded,onExpandedChange:this.onExpandedChange,onPageChange:this.resetExpander,onPageSizeChange:this.resetExpander,onSortedChange:this.resetExpander},this.props.reactTableProps))))},e.prototype.componentWillReceiveProps=function(t){var e=this;t.dataStore&&Object(u.reaction)(function(){return[t.dataStore.selectionFilters,t.dataStore.dataFilters]},function(t,n){t.length>0&&e.resetExpander(),n.dispose()})},e.prototype.getTrProps=function(t,e){return{style:{background:t&&e&&this.getRowBackground(e)}}},e.prototype.onVisibilityToggle=function(t){var e=this;Object.keys(this.columnVisibility).forEach(function(t){return e.updateColumnVisibility(t,!1)}),t.forEach(function(t){return e.updateColumnVisibility(t,!0)})},e.prototype.updateColumnVisibility=function(t,e){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(r.resolveColumnVisibility)(this.columnVisibilityByColumnDefinition,this.props.columnVisibility)),this._columnVisibilityOverride&&void 0!==this._columnVisibilityOverride[t]&&(this._columnVisibilityOverride[t]=e)},e.prototype.onExpandedChange=function(t){this.expanded=t},e.prototype.resetExpander=function(){this.expanded={}},e.prototype.isRowHighlighted=function(t){return this.props.dataStore&&this.props.dataStore.dataHighlightFilter(t)},e.prototype.getRowBackground=function(t){var e;return this.isRowHighlighted(t.original)&&(e=t.viewIndex%2==1?this.props.highlightColorDark:this.props.highlightColorLight),e},e.defaultProps={data:[],initialSortDirection:"desc",initialItemsPerPage:10,highlightColorLight:"#B0BED9",highlightColorDark:"#9FAFD1"},tt([u.observable],e.prototype,"_columnVisibilityOverride",void 0),tt([u.observable],e.prototype,"expanded",void 0),tt([u.computed],e.prototype,"tableData",null),tt([u.computed],e.prototype,"columns",null),tt([u.computed],e.prototype,"needToCustomizeRowStyle",null),tt([u.computed],e.prototype,"showPagination",null),tt([u.computed],e.prototype,"defaultPageSize",null),tt([u.computed],e.prototype,"initialColumnDataStatus",null),tt([u.computed],e.prototype,"defaultSorted",null),tt([u.computed],e.prototype,"columnVisibility",null),tt([u.computed],e.prototype,"columnVisibilityDef",null),tt([u.computed],e.prototype,"columnVisibilityByColumnDefinition",null),tt([l.default],e.prototype,"getTrProps",null),tt([u.action.bound],e.prototype,"onVisibilityToggle",null),tt([u.action.bound],e.prototype,"updateColumnVisibility",null),tt([u.action.bound],e.prototype,"onExpandedChange",null),tt([u.action.bound],e.prototype,"resetExpander",null),e=tt([c.observer],e)}(o.Component);!function(t){t.PROTEIN_CHANGE="proteinChange",t.ANNOTATION="annotation",t.MUTATION_STATUS="mutationStatus",t.MUTATION_TYPE="mutationType",t.CHROMOSOME="chromosome",t.START_POSITION="startPosition",t.END_POSITION="endPosition",t.REFERENCE_ALLELE="referenceAllele",t.VARIANT_ALLELE="variantAllele"}(ir||(ir={})),function(t){t.PROTEIN_CHANGE="Protein Change",t.ANNOTATION="Annotation",t.MUTATION_STATUS="Mutation Status",t.MUTATION_TYPE="Mutation Type",t.CHROMOSOME="Chromosome",t.START_POSITION="Start Pos",t.END_POSITION="End Pos",t.REFERENCE_ALLELE="Ref",t.VARIANT_ALLELE="Var"}(ar||(ar={}));var lr=((or={})[ir.PROTEIN_CHANGE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.PROTEIN_CHANGE)}),or[ir.ANNOTATION]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.ANNOTATION)}),or[ir.MUTATION_STATUS]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.MUTATION_STATUS)}),or[ir.MUTATION_TYPE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.MUTATION_TYPE)}),or[ir.CHROMOSOME]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.CHROMOSOME)}),or[ir.START_POSITION]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.START_POSITION)}),or[ir.END_POSITION]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.END_POSITION)}),or[ir.REFERENCE_ALLELE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.REFERENCE_ALLELE),overlay:Object(o.createElement)("span",null,"Reference Allele")}),or[ir.VARIANT_ALLELE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.VARIANT_ALLELE),overlay:Object(o.createElement)("span",null,"Variant Allele")}),or),ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e=tt([c.observer],e)}(sr),cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),Object.defineProperty(e.prototype,"initialColumnDataStatus",{get:function(){return rr(this.props.initialSortColumnData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotationColumnAccessor",{get:function(){var t=this;return function(e){return t.props.initialSortColumn===ir.ANNOTATION&&"pending"===t.initialColumnDataStatus?void 0:Bn(e,t.props.oncoKbCancerGenes,t.props.hotspotData,t.props.oncoKbData)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialSortColumnData",{get:function(){return this.props.initialSortColumnData||[this.props.oncoKbCancerGenes,this.props.hotspotData,this.props.oncoKbData]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.props.columns?this.props.appendColumns?this.defaultColumns.concat(this.props.columns):this.props.columns:this.defaultColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultColumns",{get:function(){var t=this;return[{id:ir.PROTEIN_CHANGE,name:ar.PROTEIN_CHANGE,accessor:ir.PROTEIN_CHANGE,Cell:function(t){return Object(o.createElement)(er,{mutation:t.original})},Header:lr[ir.PROTEIN_CHANGE],sortMethod:tr},{id:ir.ANNOTATION,name:ar.ANNOTATION,accessor:this.annotationColumnAccessor,Cell:function(e){return Object(o.createElement)(qn,{mutation:e.original,enableOncoKb:!0,enableHotspot:!0,hotspotData:t.props.hotspotData,oncoKbData:t.props.oncoKbData,oncoKbCancerGenes:t.props.oncoKbCancerGenes,oncoKbEvidenceCache:t.props.oncoKbEvidenceCache,pubMedCache:t.props.pubMedCache})},Header:lr[ir.ANNOTATION],sortMethod:Hn},{id:ir.MUTATION_TYPE,name:ar.MUTATION_TYPE,accessor:ir.MUTATION_TYPE,Cell:function(t){return Object(o.createElement)($n,{mutation:t.original})},Header:lr[ir.MUTATION_TYPE]},{id:ir.MUTATION_STATUS,name:ar.MUTATION_STATUS,accessor:ir.MUTATION_STATUS,Cell:function(t){return Object(o.createElement)(Kn,{mutation:t.original})},Header:lr[ir.MUTATION_STATUS]},{id:ir.CHROMOSOME,name:ar.CHROMOSOME,accessor:ir.CHROMOSOME,Header:lr[ir.CHROMOSOME],show:!1},{id:ir.START_POSITION,name:ar.START_POSITION,accessor:ir.START_POSITION,Header:lr[ir.START_POSITION],show:!1},{id:ir.END_POSITION,name:ar.END_POSITION,accessor:ir.END_POSITION,Header:lr[ir.END_POSITION],show:!1},{id:ir.REFERENCE_ALLELE,name:ar.REFERENCE_ALLELE,accessor:ir.REFERENCE_ALLELE,Header:lr[ir.REFERENCE_ALLELE],show:!1},{id:ir.VARIANT_ALLELE,name:ar.VARIANT_ALLELE,accessor:ir.VARIANT_ALLELE,Header:lr[ir.VARIANT_ALLELE],show:!1}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(ur,J({},this.props,{columns:this.columns,initialSortColumnData:this.initialSortColumnData}))},e.defaultProps={initialSortColumn:ir.ANNOTATION,appendColumns:!0},tt([u.computed],e.prototype,"initialColumnDataStatus",null),tt([u.computed],e.prototype,"annotationColumnAccessor",null),tt([u.computed],e.prototype,"initialSortColumnData",null),tt([u.computed],e.prototype,"columns",null),tt([u.computed],e.prototype,"defaultColumns",null),e=tt([c.observer],e)}(o.Component),pr="transcriptDropdown-module_dropDown__1UEvR",dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this.props,e=t.showDropDown,n=t.canonicalTranscript,r=t.showOnlyAnnotatedTranscriptsInDropdown,i=t.activeTranscript,a=t.transcriptsByTranscriptId,l=t.transcriptsWithProteinLength,u=t.transcriptsWithAnnotations,c=t.indexedVariantAnnotations,p=t.mutationsByTranscriptId,d=n.result&&n.result.transcriptId;if(e){if(r){var h=l.isPending||u.isPending||n.isPending,f=c.result&&Object.keys(c.result).length>0&&d&&u.result&&u.result.length>0;return Object(o.createElement)("div",{className:s()("small",pr)},this.loadingIndicator(h),!h&&f&&this.getDropdownTranscripts(i||d,u.result,d,a,p))}h=l.isPending||n.isPending,f=l.result&&l.result.length>0&&d;return Object(o.createElement)("div",{className:s()("small",pr)},this.loadingIndicator(h),!h&&f&&this.getDropdownTranscripts(i||d,l.result,d,a))}return Object(o.createElement)("span",null)},e.prototype.getDropdownTranscripts=function(t,e,n,r,i){var a=this,s=r[t].refseqMrnaId;return Object(o.createElement)("div",null,Object(o.createElement)(Z.default,{value:{label:s||t,value:t},clearable:!1,deleteRemoves:!1,options:this.sortTranscripts(e).map(function(t){var e=r[t].proteinLength,o=r[t].refseqMrnaId,a=r[t].ccdsId,s=i&&i[t]&&i[t].length;return{label:(o?o+" / ":"")+t+" "+(a?"("+a+")":"")+" "+(e?"("+e+" amino acids)":"")+" "+(s?"("+s+" mutations)":"")+" "+(t===n?" (default)":""),value:t}}),onChange:function(t){t.value&&a.props.onChange(t.value)}}))},e.prototype.sortTranscripts=function(t){var e=this.props,n=e.canonicalTranscript,r=e.transcriptsByTranscriptId;return t=d.a.orderBy(t,[function(t){return n.result&&t===n.result.transcriptId},function(t){return r[t].hasOwnProperty("refseqMrnaId")},function(t){return r[t].proteinLength},function(t){return t}],["desc","desc","desc","asc"])},e.prototype.loadingIndicator=function(t){return t?this.props.loadingIndicator||Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"}):null},e=tt([c.observer],e)}(o.Component),hr="geneSummary-module_geneSummary__1Gt_H",fr="geneSummary-module_hugoSymbol__3Qn9u",mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.render=function(){var t=this.props,e=t.hugoGeneSymbol,n=t.uniprotId,i=t.showDropDown,a=t.showOnlyAnnotatedTranscriptsInDropdown,s=t.canonicalTranscript,l=t.activeTranscript,u=t.transcriptsByTranscriptId,c=t.transcriptsWithAnnotations,p=t.transcriptsWithProteinLength,d=t.indexedVariantAnnotations,h=t.mutationsByTranscriptId,f=t.onTranscriptChange,m=t.loadingIndicator,g=s.result&&s.result.transcriptId,v=l&&l===g?s.result:u[l],y=v&&v.refseqMrnaId,b=v&&v.ccdsId;return Object(o.createElement)("div",{className:hr},Object(o.createElement)("h4",{className:fr},e),Object(o.createElement)(dr,{showDropDown:i,showOnlyAnnotatedTranscriptsInDropdown:a,activeTranscript:l,transcriptsByTranscriptId:u,canonicalTranscript:s,transcriptsWithProteinLength:p,transcriptsWithAnnotations:c,indexedVariantAnnotations:d,mutationsByTranscriptId:h,onChange:f,loadingIndicator:m}),Object(o.createElement)("div",null,Object(o.createElement)("span",{"data-test":"GeneSummaryRefSeq"},"RefSeq: ",y?Object(o.createElement)("a",{href:Object(r.getNCBIlink)("/nuccore/"+y),target:"_blank"},y):"-")),i?l&&Object(o.createElement)("div",null,Object(o.createElement)("span",null,"Ensembl: "),Object(o.createElement)("a",{href:"http://grch37.ensembl.org/homo_sapiens/Transcript/Summary?t="+l,target:"_blank"},l)):g&&Object(o.createElement)("div",null,Object(o.createElement)("span",null,"Ensembl: "),Object(o.createElement)("a",{href:"http://grch37.ensembl.org/homo_sapiens/Transcript/Summary?t="+g,target:"_blank"},g)),Object(o.createElement)("div",null,Object(o.createElement)("span",{"data-test":"GeneSummaryCCDS"},"CCDS: ",b?Object(o.createElement)("a",{href:Object(r.getNCBIlink)({pathname:"/CCDS/CcdsBrowse.cgi",query:{REQUEST:"CCDS",DATA:b}}),target:"_blank"},b):"-")),Object(o.createElement)("div",null,Object(o.createElement)("span",{"data-test":"GeneSummaryUniProt"},"UniProt: ",n?Object(o.createElement)("a",{href:"http://www.uniprot.org/uniprot/"+n,target:"_blank"},n):"-")))},e=tt([c.observer],e)}(o.Component),gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),Object.defineProperty(e.prototype,"geneWidth",{get:function(){return this.lollipopPlotGeneX?.7*this.windowWrapper.size.width-this.lollipopPlotGeneX:666},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackVisibility",{get:function(){return this.props.trackVisibility?this.props.trackVisibility:(this._trackVisibility||(this._trackVisibility=ke()),this._trackVisibility)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackDataStatus",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){var t=this;return this.props.store?this.props.store:new Dn({hugoGeneSymbol:this.props.hugoSymbol?this.props.hugoSymbol:""},{isoformOverrideSource:this.props.isoformOverrideSource,filterMutationsBySelectedTranscript:this.props.filterMutationsBySelectedTranscript,genomeNexusUrl:this.props.genomeNexusUrl,oncoKbUrl:this.props.oncoKbUrl,getMutationCount:this.props.getMutationCount},function(){return t.props.data||[]})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pubMedCache",{get:function(){return this.props.pubMedCache||new fn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"windowWrapper",{get:function(){return this.props.windowWrapper?this.props.windowWrapper:(On||(On=new r.WindowWrapper),On)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationTableComponent",{get:function(){return this.props.mutationTable?this.props.mutationTable:Object(o.createElement)(cr,{dataStore:this.store.dataStore,columns:this.props.customMutationTableColumns,reactTableProps:this.props.customMutationTableProps,hotspotData:this.store.indexedHotspotData,oncoKbData:this.store.oncoKbData,oncoKbCancerGenes:this.store.oncoKbCancerGenes,oncoKbEvidenceCache:this.store.oncoKbEvidenceCache,pubMedCache:this.pubMedCache})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationPlot",{get:function(){return Object(o.createElement)(hn,{store:this.store,pubMedCache:this.pubMedCache,geneWidth:this.geneWidth,trackVisibility:this.trackVisibility,tracks:this.props.tracks,showYMaxSlider:this.props.showPlotYMaxSlider,showLegendToggle:this.props.showPlotLegendToggle,showDownloadControls:this.props.showPlotDownloadControls,trackDataStatus:this.trackDataStatus,onXAxisOffset:this.onXAxisOffset,onTrackVisibilityChange:this.props.onTrackVisibilityChange,getMutationCount:this.props.getMutationCount,getLollipopColor:this.props.getLollipopColor})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geneSummary",{get:function(){return Object(o.createElement)(mr,{hugoGeneSymbol:this.store.gene.hugoGeneSymbol,uniprotId:this.store.uniprotId.result,showDropDown:!!this.props.showTranscriptDropDown,showOnlyAnnotatedTranscriptsInDropdown:!!this.props.showOnlyAnnotatedTranscriptsInDropdown,transcriptsByTranscriptId:this.store.transcriptsByTranscriptId,canonicalTranscript:this.store.canonicalTranscript,loadingIndicator:this.props.geneSummaryLoadingIndicator,activeTranscript:this.store.activeTranscript,indexedVariantAnnotations:this.store.indexedVariantAnnotations,transcriptsWithAnnotations:this.store.transcriptsWithAnnotations,transcriptsWithProteinLength:this.store.transcriptsWithProteinLength,mutationsByTranscriptId:this.store.mutationsByTranscriptId,onTranscriptChange:this.handleTranscriptChange})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationRateSummary",{get:function(){return this.props.mutationRates?Object(o.createElement)(Fn,{rates:this.props.mutationRates}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFiltered",{get:function(){return this.store.dataStore.selectionFilters.length>0||this.store.dataStore.dataFilters.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMutationTableDataLoading",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterResetPanel",{get:function(){var t=this.store.dataStore,e=t.sortedFilteredSelectedData.length>0?t.sortedFilteredSelectedData:t.sortedFilteredData,n=t.allData;return Object(o.createElement)(de,{mutationsShown:e.length+"/"+n.length,resetFilters:this.resetFilters})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationTable",{get:function(){return Object(o.createElement)("span",null,this.mutationTableComponent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"proteinChainPanel",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationFilterPanel",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view3dButton",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMutationPlotDataLoading",{get:function(){return this.store.pfamDomainData.isPending},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this.store.mutationData.isPending||this.isMutationPlotDataLoading||this.isMutationTableDataLoading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadingIndicator",{get:function(){return this.props.mainLoadingIndicator||Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"})},enumerable:!0,configurable:!0}),e.prototype.render=function(){return this.isLoading?this.loadingIndicator:Object(o.createElement)("div",null,this.isFiltered&&this.filterResetPanel,Object(o.createElement)("div",{style:{display:"flex"}},Object(o.createElement)("div",{className:"borderedChart",style:{marginRight:"1rem"}},this.mutationPlot,this.proteinChainPanel),Object(o.createElement)("div",{className:"mutationMapperMetaColumn"},this.geneSummary,this.mutationRateSummary,this.mutationFilterPanel,this.view3dButton)),this.mutationTable)},e.prototype.handleTranscriptChange=function(t){this.store.activeTranscript=t},e.prototype.onXAxisOffset=function(t){this.props.onXAxisOffset?this.props.onXAxisOffset(t):this.lollipopPlotGeneX=t},e.prototype.resetFilters=function(){this.store.dataStore.clearDataFilters(),this.store.dataStore.clearSelectionFilters(),this.store.dataStore.clearHighlightFilters()},e.defaultProps={showOnlyAnnotatedTranscriptsInDropdown:!1,showTranscriptDropDown:!1,filterMutationsBySelectedTranscript:!1},tt([u.observable],e.prototype,"_trackVisibility",void 0),tt([u.observable],e.prototype,"lollipopPlotGeneX",void 0),tt([u.computed],e.prototype,"geneWidth",null),tt([u.computed],e.prototype,"trackVisibility",null),tt([u.computed],e.prototype,"store",null),tt([u.computed],e.prototype,"windowWrapper",null),tt([u.action.bound],e.prototype,"handleTranscriptChange",null),tt([u.action.bound],e.prototype,"onXAxisOffset",null),tt([u.action.bound],e.prototype,"resetFilters",null),e=tt([c.observer],e)}(o.Component)},539:function(t,e,n){"use strict";var r=n(781),o=n.n(r),i=n(44),a=n.n(i),s=n(3),l=n.n(s),u=n(0),c=n.n(u),p=n(46),d=function(t){var e=t.onMouseDown;return c.a.createElement("span",{className:"Select-arrow",onMouseDown:e})};d.propTypes={onMouseDown:l.a.func};var h=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],f=function(t){for(var e=0;e<h.length;e++)t=t.replace(h[e].letters,h[e].base);return t},m=function(t){return null!=t&&""!==t},g=function(t,e,n,r){return r.ignoreAccents&&(e=f(e)),r.ignoreCase&&(e=e.toLowerCase()),r.trimFilter&&(e=e.replace(/^\s+|\s+$/g,"")),n&&(n=n.map(function(t){return t[r.valueKey]})),t.filter(function(t){if(n&&n.indexOf(t[r.valueKey])>-1)return!1;if(r.filterOption)return r.filterOption.call(void 0,t,e);if(!e)return!0;var o=t[r.valueKey],i=t[r.labelKey],a=m(o),s=m(i);if(!a&&!s)return!1;var l=a?String(o):null,u=s?String(i):null;return r.ignoreAccents&&(l&&"label"!==r.matchProp&&(l=f(l)),u&&"value"!==r.matchProp&&(u=f(u))),r.ignoreCase&&(l&&"label"!==r.matchProp&&(l=l.toLowerCase()),u&&"value"!==r.matchProp&&(u=u.toLowerCase())),"start"===r.matchPos?l&&"label"!==r.matchProp&&l.substr(0,e.length)===e||u&&"value"!==r.matchProp&&u.substr(0,e.length)===e:l&&"label"!==r.matchProp&&l.indexOf(e)>=0||u&&"value"!==r.matchProp&&u.indexOf(e)>=0})},v=function(t){var e=t.focusedOption,n=t.focusOption,r=t.inputValue,o=t.instancePrefix,i=t.onFocus,s=t.onOptionRef,l=t.onSelect,u=t.optionClassName,p=t.optionComponent,d=t.optionRenderer,h=t.options,f=t.removeValue,m=t.selectValue,g=t.valueArray,v=t.valueKey,y=p;return h.map(function(t,p){var h=g&&g.some(function(e){return e[v]===t[v]}),b=t===e,_=a()(u,{"Select-option":!0,"is-selected":h,"is-focused":b,"is-disabled":t.disabled});return c.a.createElement(y,{className:_,focusOption:n,inputValue:r,instancePrefix:o,isDisabled:t.disabled,isFocused:b,isSelected:h,key:"option-"+p+"-"+t[v],onFocus:i,onSelect:l,option:t,optionIndex:p,ref:function(t){s(t,b)},removeValue:f,selectValue:m},d(t,p,r))})};v.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var y=function(t){t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName&&"href"in t.target&&(t.target.target?window.open(t.target.href,t.target.target):window.location.href=t.target.href)},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=(function(){function t(t){this.value=t}function e(e){var n,r;function o(n,r){try{var a=e[n](r),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(a.done?"return":"normal",a.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(i,a){var s={key:t,arg:e,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},k=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},T=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},M=function(t){function e(t){_(this,e);var n=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return C(e,t),x(e,[{key:"handleMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onSelect(this.props.option,t)}},{key:"handleMouseEnter",value:function(t){this.onFocus(t)}},{key:"handleMouseMove",value:function(t){this.onFocus(t)}},{key:"handleTouchEnd",value:function(t){this.dragging||this.handleMouseDown(t)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(t){this.props.isFocused||this.props.onFocus(this.props.option,t)}},{key:"render",value:function(){var t=this.props,e=t.option,n=t.instancePrefix,r=t.optionIndex,o=a()(this.props.className,e.className);return e.disabled?c.a.createElement("div",{className:o,onMouseDown:y,onClick:y},this.props.children):c.a.createElement("div",{className:o,style:e.style,role:"option","aria-label":e.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:e.title},this.props.children)}}]),e}(c.a.Component);M.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var j=function(t){function e(t){_(this,e);var n=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return C(e,t),x(e,[{key:"handleMouseDown",value:function(t){if("mousedown"!==t.type||0===t.button)return this.props.onClick?(t.stopPropagation(),void this.props.onClick(this.props.value,t)):void(this.props.value.href&&t.stopPropagation())}},{key:"onRemove",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(t){this.dragging||this.onRemove(t)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return c.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?c.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):c.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return c.a.createElement("div",{className:a()("Select-value",this.props.value.disabled?"Select-value-disabled":"",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),e}(c.a.Component);j.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/
var E=function(t){return"string"==typeof t?t:null!==t&&JSON.stringify(t)||""},O=l.a.oneOfType([l.a.string,l.a.node]),I=l.a.oneOfType([l.a.string,l.a.number]),P=1,A=function(t,e){var n=void 0===t?"undefined":b(t);if("string"!==n&&"number"!==n&&"boolean"!==n)return t;var r=e.options,o=e.valueKey;if(r)for(var i=0;i<r.length;i++)if(String(r[i][o])===String(t))return r[i]},D=function(t,e){return!t||(e?0===t.length:0===Object.keys(t).length)},R=function(t){function e(t){_(this,e);var n=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(t){return n[t]=n[t].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return C(e,t),x(e,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++P)+"-";var t=this.getValueArray(this.props.value);this.props.required&&this.setState({required:D(t[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.getValueArray(t.value,t);t.required?this.setState({required:D(e[0],t.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==t.value&&t.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(t,e){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(p.findDOMNode)(this.focused),r=Object(p.findDOMNode)(this.menu),o=r.scrollTop,i=o+r.offsetHeight,a=n.offsetTop,s=a+n.offsetHeight;(o>a||i<s)&&(r.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(p.findDOMNode)(this.focused),u=Object(p.findDOMNode)(this.menu),c=l.getBoundingClientRect(),d=u.getBoundingClientRect();c.bottom>d.bottom?u.scrollTop=l.offsetTop+l.clientHeight-u.offsetHeight:c.top<d.top&&(u.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var h=this.menuContainer.getBoundingClientRect();window.innerHeight<h.bottom+this.props.menuBuffer&&window.scrollBy(0,h.bottom+this.props.menuBuffer-window.innerHeight)}if(t.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),e.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var f=this.state.isOpen?this.props.onOpen:this.props.onClose;f&&f()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(t){var e=t?document.addEventListener?"addEventListener":"attachEvent":document.removeEventListener?"removeEventListener":"detachEvent",n=document.addEventListener?"":"on";document[e](n+"touchstart",this.handleTouchOutside),document[e](n+"mousedown",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(t){this.wrapper&&!this.wrapper.contains(t.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(t){this.dragging||this.handleMouseDown(t)}},{key:"handleTouchEndClearValue",value:function(t){this.dragging||this.clearValue(t)}},{key:"handleMouseDown",value:function(t){if(!(this.props.disabled||"mousedown"===t.type&&0!==t.button))if("INPUT"!==t.target.tagName){if(t.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen,focusedOption:null});if(this.state.isFocused){this.focus();var e=this.input,n=!0;"function"==typeof e.getInput&&(e=e.getInput()),e.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1,focusedOption:null}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(this.state.isOpen?(t.stopPropagation(),t.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(t){if(!this.props.disabled){var e=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;e=!this._focusAfterClear&&e,this.props.onFocus&&this.props.onFocus(t),this.setState({isFocused:!0,isOpen:!!e}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(t){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(t);var e={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(e.inputValue=this.handleInputValueChange("")),this.setState(e)}else this.focus()}},{key:"handleInputChange",value:function(t){var e=t.target.value;this.state.inputValue!==t.target.value&&(e=this.handleInputValueChange(e)),this.setState({inputValue:e,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(t){if(this.props.onInputChange){var e=this.props.onInputChange(t);null!=e&&"object"!==(void 0===e?"undefined":b(e))&&(t=""+e)}this.setState({inputValue:t})}},{key:"handleInputValueChange",value:function(t){if(this.props.onInputChange){var e=this.props.onInputChange(t);null!=e&&"object"!==(void 0===e?"undefined":b(e))&&(t=""+e)}return t}},{key:"handleKeyDown",value:function(t){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(t),t.defaultPrevented)))switch(t.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(t.preventDefault(),this.popValue());break;case 9:if(t.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;t.preventDefault(),this.selectFocusedOption();break;case 13:t.preventDefault(),t.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:t.preventDefault(),this.state.isOpen?(this.closeMenu(),t.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(t),t.stopPropagation());break;case 32:if(this.props.searchable)break;if(t.preventDefault(),!this.state.isOpen){this.focusNextOption();break}t.stopPropagation(),this.selectFocusedOption();break;case 38:t.preventDefault(),this.focusPreviousOption();break;case 40:t.preventDefault(),this.focusNextOption();break;case 33:t.preventDefault(),this.focusPageUpOption();break;case 34:t.preventDefault(),this.focusPageDownOption();break;case 35:if(t.shiftKey)break;t.preventDefault(),this.focusEndOption();break;case 36:if(t.shiftKey)break;t.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(t.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(t,e){this.props.onValueClick&&this.props.onValueClick(t,e)}},{key:"handleMenuScroll",value:function(t){if(this.props.onMenuScrollToBottom){var e=t.target;e.scrollHeight>e.offsetHeight&&e.scrollHeight-e.offsetHeight-e.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(t){return t[this.props.labelKey]}},{key:"getValueArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===e?"undefined":b(e))?e:this.props;if(n.multi){if("string"==typeof t&&(t=t.split(n.delimiter)),!Array.isArray(t)){if(null==t)return[];t=[t]}return t.map(function(t){return A(t,n)}).filter(function(t){return t})}var r=A(t,n);return r?[r]:[]}},{key:"setValue",value:function(t){var e=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=D(t,this.props.multi);this.setState({required:n})}this.props.simpleValue&&t&&(t=this.props.multi?t.map(function(t){return t[e.props.valueKey]}).join(this.props.delimiter):t[this.props.valueKey]),this.props.onChange&&this.props.onChange(t)}},{key:"selectValue",value:function(t){var e=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){e.getValueArray(e.props.value).some(function(n){return n[e.props.valueKey]===t[e.props.valueKey]})?e.removeValue(t):e.addValue(t)}):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){e.setValue(t)})}},{key:"addValue",value:function(t){var e=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(t){return!t.disabled}),r=n.indexOf(t);this.setValue(e.concat(t)),this.props.closeOnSelect&&(n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1]))}},{key:"popValue",value:function(){var t=this.getValueArray(this.props.value);t.length&&!1!==t[t.length-1].clearableValue&&this.setValue(this.props.multi?t.slice(0,t.length-1):null)}},{key:"removeValue",value:function(t){var e=this,n=this.getValueArray(this.props.value);this.setValue(n.filter(function(n){return n[e.props.valueKey]!==t[e.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(t){t&&"mousedown"===t.type&&0!==t.button||(t.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(t){this.setState({focusedOption:t})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(t){var e=this._visibleOptions.map(function(t,e){return{option:t,index:e}}).filter(function(t){return!t.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(e.length?e["next"===t?0:e.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(e.length){for(var r=-1,o=0;o<e.length;o++)if(this._focusedOption===e[o].option){r=o;break}if("next"===t&&-1!==r)r=(r+1)%e.length;else if("previous"===t)r>0?r-=1:r=e.length-1;else if("start"===t)r=0;else if("end"===t)r=e.length-1;else if("page_up"===t){var i=r-this.props.pageSize;r=i<0?0:i}else if("page_down"===t){var a=r+this.props.pageSize;r=a>e.length-1?e.length-1:a}-1===r&&(r=0),this.setState({focusedIndex:e[r].index,focusedOption:e[r].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return c.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(t,e){var n=this,r=this.props.valueRenderer||this.getOptionLabel,o=this.props.valueComponent;if(!t.length)return function(t,e,n){var r=t.inputValue,o=t.isPseudoFocused,i=t.isFocused,a=e.onSelectResetsInput;return!r||!a&&!n&&!o&&!i}(this.state,this.props,e)?c.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null;var i,a,s,l,u,p,d=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?t.map(function(e,i){return c.a.createElement(o,{disabled:n.props.disabled||!1===e.clearableValue,id:n._instancePrefix+"-value-"+i,instancePrefix:n._instancePrefix,key:"value-"+i+"-"+e[n.props.valueKey],onClick:d,onRemove:n.removeValue,placeholder:n.props.placeholder,value:e,values:t},r(e,i),c.a.createElement("span",{className:"Select-aria-only"}," "))}):(i=this.state,a=this.props,s=i.inputValue,l=i.isPseudoFocused,u=i.isFocused,p=a.onSelectResetsInput,s&&(p||!u&&l||u&&!l)?void 0:(e&&(d=null),c.a.createElement(o,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:d,placeholder:this.props.placeholder,value:t[0]},r(t[0]))))}},{key:"renderInput",value:function(t,e){var n,r=this,i=a()("Select-input",this.props.inputProps.className),s=this.state.isOpen,l=a()((S(n={},this._instancePrefix+"-list",s),S(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),u=this.state.inputValue;!u||this.props.onSelectResetsInput||this.state.isFocused||(u="");var p=w({},this.props.inputProps,{"aria-activedescendant":s?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+s,"aria-haspopup":""+s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(t){return r.input=t},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:u});if(this.props.inputRenderer)return this.props.inputRenderer(p);if(this.props.disabled||!this.props.searchable){var d=k(this.props.inputProps,[]),h=a()(S({},this._instancePrefix+"-list",s));return c.a.createElement("div",w({},d,{"aria-expanded":s,"aria-owns":h,"aria-activedescendant":s?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:i,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(t){return r.input=t},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?c.a.createElement(o.a,w({id:this.props.id},p,{className:i,minWidth:"5"})):c.a.createElement("div",{className:i,key:"input-wrap",style:{display:"inline-block"}},c.a.createElement("input",w({id:this.props.id},p)))}},{key:"renderClear",value:function(){var t=this.getValueArray(this.props.value);if(this.props.clearable&&t.length&&!this.props.disabled&&!this.props.isLoading){var e=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return c.a.createElement("span",{"aria-label":e,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:e},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var t=this.handleMouseDownOnArrow,e=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:t,isOpen:e});return n?c.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:t},n):null}}},{key:"filterOptions",value:function(t){var e=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:g;return r(n,e,t,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(t,e){e&&(this.focused=t)}},{key:"renderMenu",value:function(t,e,n){return t&&t.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:t,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:e,valueKey:this.props.valueKey}):this.props.noResultsText?c.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(t){var e=this;if(this.props.name){if(this.props.joinValues){var n=t.map(function(t){return E(t[e.props.valueKey])}).join(this.props.delimiter);return c.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(t){return e.value=t},type:"hidden",value:n})}return t.map(function(t,n){return c.a.createElement("input",{disabled:e.props.disabled,key:"hidden."+n,name:e.props.name,ref:"value"+n,type:"hidden",value:E(t[e.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(t){var e=this._visibleOptions;if(!e.length)return null;var n=this.props.valueKey,r=this.state.focusedOption||t;if(r&&!r.disabled){var o=-1;if(e.some(function(t,e){var i=t[n]===r[n];return i&&(o=e),i}),-1!==o)return o}for(var i=0;i<e.length;i++)if(!e[i].disabled)return i;return null}},{key:"renderOuter",value:function(t,e,n){var r=this,o=this.renderMenu(t,e,n);return o?c.a.createElement("div",{ref:function(t){return r.menuContainer=t},className:"Select-menu-outer",style:this.props.menuContainerStyle},c.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(t){return r.menu=t},role:"listbox",style:this.props.menuStyle,tabIndex:-1},o)):null}},{key:"render",value:function(){var t=this,e=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?e:null),r=this.state.isOpen;this.props.multi&&!n.length&&e.length&&!this.state.inputValue&&(r=!1);var o=this.getFocusableOptionIndex(e[0]),i=null;i=this._focusedOption=null!==o?n[o]:null;var s=a()("Select",this.props.className,{"has-value":e.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&e.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=c.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",e[e.length-1][this.props.labelKey]))),c.a.createElement("div",{ref:function(e){return t.wrapper=e},className:s,style:this.props.wrapperStyle},this.renderHiddenField(e),c.a.createElement("div",{ref:function(e){return t.control=e},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},c.a.createElement("div",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(e,r),this.renderInput(e,o)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,e,i):null)}}]),e}(c.a.Component);R.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:O,clearRenderer:l.a.func,clearValueText:O,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:O,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:O,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:I,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},R.defaultProps={arrowRenderer:d,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:function(){return c.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:g,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:v,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:M,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:j,valueKey:"value"};var F={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},z={},N={autoload:!0,cache:z,children:function(t){return c.a.createElement(R,t)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},L=function(t){function e(t,n){_(this,e);var r=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r._cache=t.cache===z?{}:t.cache,r.state={inputValue:"",isLoading:!1,options:t.options},r.onInputChange=r.onInputChange.bind(r),r}return C(e,t),x(e,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(t){t.options!==this.props.options&&this.setState({options:t.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(t){var e=this,n=this.props.loadOptions,r=this._cache;if(r&&Object.prototype.hasOwnProperty.call(r,t))return this._callback=null,void this.setState({isLoading:!1,options:r[t]});var o=function n(o,i){var a=i&&i.options||[];r&&(r[t]=a),n===e._callback&&(e._callback=null,e.setState({isLoading:!1,options:a}))};this._callback=o;var i=n(t,o);i&&i.then(function(t){return o(0,t)},function(t){return o()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(t){var e=this.props,n=e.ignoreAccents,r=e.ignoreCase,o=e.onInputChange,i=t;if(o){var a=o(i);null!=a&&"object"!==(void 0===a?"undefined":b(a))&&(i=""+a)}var s=i;return n&&(s=f(s)),r&&(s=s.toLowerCase()),this.setState({inputValue:i}),this.loadOptions(s),i}},{key:"noResultsText",value:function(){var t=this.props,e=t.loadingPlaceholder,n=t.noResultsText,r=t.searchPromptText,o=this.state,i=o.inputValue;return o.isLoading?e:i&&n?n:r}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.loadingPlaceholder,o=e.placeholder,i=this.state,a=i.isLoading,s=i.options,l={noResultsText:this.noResultsText(),placeholder:a?r:o,options:a&&r?[]:s,ref:function(e){return t.select=e}};return n(w({},this.props,l,{isLoading:a,onInputChange:this.onInputChange}))}}]),e}(u.Component);L.propTypes=F,L.defaultProps=N;var B=function(t){function e(t,n){_(this,e);var r=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.filterOptions=r.filterOptions.bind(r),r.menuRenderer=r.menuRenderer.bind(r),r.onInputKeyDown=r.onInputKeyDown.bind(r),r.onInputChange=r.onInputChange.bind(r),r.onOptionSelect=r.onOptionSelect.bind(r),r}return C(e,t),x(e,[{key:"createNewOption",value:function(){var t=this.props,e=t.isValidNewOption,n=t.newOptionCreator,r=t.onNewOptionClick,o=t.options,i=void 0===o?[]:o;if(e({label:this.inputValue})){var a=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:a,options:i})&&(r?r(a):(i.unshift(a),this.select.selectValue(a)))}}},{key:"filterOptions",value:function(){var t=this.props,e=t.filterOptions,n=t.isValidNewOption,r=t.promptTextCreator,o=t.showNewOptionAtTop,i=(arguments.length<=2?void 0:arguments[2])||[],a=e.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,l=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:l,options:i.concat(a)})){var u=r(this.inputValue);this._createPlaceholderOption=s({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),o?a.unshift(this._createPlaceholderOption):a.push(this._createPlaceholderOption)}}return a}},{key:"isOptionUnique",value:function(t){var e=t.option,n=t.options,r=this.props.isOptionUnique;return n=n||this.props.options,r({labelKey:this.labelKey,option:e,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(t){var e=this.props.menuRenderer;return e(w({},t,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(t){var e=this.props.onInputChange;return this.inputValue=t,e&&(this.inputValue=e(t)),this.inputValue}},{key:"onInputKeyDown",value:function(t){var e=this.props,n=e.shouldKeyDownEventCreateNewOption,r=e.onInputKeyDown,o=this.select.getFocusedOption();o&&o===this._createPlaceholderOption&&n(t)?(this.createNewOption(),t.preventDefault()):r&&r(t)}},{key:"onOptionSelect",value:function(t){t===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(t)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.ref,r=k(e,["ref"]),o=this.props.children;return o||(o=H),o(w({},r,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(e){t.select=e,e&&(t.labelKey=e.props.labelKey,t.valueKey=e.props.valueKey),n&&n(e)}}))}}]),e}(c.a.Component),H=function(t){return c.a.createElement(R,t)},V=function(t){var e=t.option,n=t.options,r=t.labelKey,o=t.valueKey;return!n||!n.length||0===n.filter(function(t){return t[r]===e[r]||t[o]===e[o]}).length},q=function(t){return!!t.label},G=function(t){var e=t.label,n=t.labelKey,r={};return r[t.valueKey]=e,r[n]=e,r.className="Select-create-option-placeholder",r},W=function(t){return'Create option "'+t+'"'},U=function(t){switch(t.keyCode){case 9:case 13:case 188:return!0;default:return!1}};B.isOptionUnique=V,B.isValidNewOption=q,B.newOptionCreator=G,B.promptTextCreator=W,B.shouldKeyDownEventCreateNewOption=U,B.defaultProps={filterOptions:g,isOptionUnique:V,isValidNewOption:q,menuRenderer:v,newOptionCreator:G,promptTextCreator:W,shouldKeyDownEventCreateNewOption:U,showNewOptionAtTop:!0},B.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func,showNewOptionAtTop:l.a.bool};var K=function(t){function e(){return _(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return C(e,t),x(e,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this;return c.a.createElement(L,this.props,function(e){var n=e.ref,r=k(e,["ref"]),o=n;return c.a.createElement(B,r,function(e){var n=e.ref,r=k(e,["ref"]),i=n;return t.props.children(w({},r,{ref:function(e){i(e),o(e),t.select=e}}))})})}}]),e}(c.a.Component);K.propTypes={children:l.a.func.isRequired},K.defaultProps={children:function(t){return c.a.createElement(R,t)}},R.Async=L,R.AsyncCreatable=K,R.Creatable=B,R.Value=j,R.Option=M,e.a=R},604:function(t,e,n){var o;t.exports=(function(t,e){var n=t.utils.isFunction;function r(t,e){return t-e}function o(t,n,r){return e.max(n,e.min(t,r))}t.sum=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.sumsqrd=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n]*t[n];return e},t.sumsqerr=function(e){for(var n,r=t.mean(e),o=0,i=e.length;--i>=0;)o+=(n=e[i]-r)*n;return o},t.sumrow=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.product=function(t){for(var e=1,n=t.length;--n>=0;)e*=t[n];return e},t.min=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]<e&&(e=t[n]);return e},t.max=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]>e&&(e=t[n]);return e},t.unique=function(t){for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(n){return e.pow(t.product(n),1/n.length)},t.median=function(t){var e=t.length,n=t.slice().sort(r);return 1&e?n[e/2|0]:(n[e/2-1]+n[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,function(t,e){return t+e})},t.cumprod=function(e){return t.cumreduce(e,function(t,e){return t*e})},t.diff=function(t){for(var e=[],n=t.length,r=1;r<n;r++)e.push(t[r]-t[r-1]);return e},t.rank=function(t){for(var e=t.length,n=t.slice().sort(r),o=new Array(e),i=0;i<e;i++){var a=n.indexOf(t[i]),s=n.lastIndexOf(t[i]);if(a===s)var l=a;else l=(a+s)/2;o[i]=l+1}return o},t.mode=function(t){for(var e=t.length,n=t.slice().sort(r),o=1,i=0,a=0,s=[],l=0;l<e;l++)n[l]===n[l+1]?o++:(o>i?(s=[n[l]],i=o,a=0):o===i&&(s.push(n[l]),a++),o=1);return 0===a?s[0]:s},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,n){return t.sumsqerr(e)/(e.length-(n?1:0))},t.pooledvariance=function(e){return e.reduce(function(e,n){return e+t.sumsqerr(n)},0)/(e.reduce(function(t,e){return t+e.length},0)-e.length)},t.deviation=function(e){for(var n=t.mean(e),r=e.length,o=new Array(r),i=0;i<r;i++)o[i]=e[i]-n;return o},t.stdev=function(n,r){return e.sqrt(t.variance(n,r))},t.pooledstdev=function(n){return e.sqrt(t.pooledvariance(n))},t.meandev=function(n){for(var r=t.mean(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.mean(o)},t.meddev=function(n){for(var r=t.median(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.median(o)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var n=t.length,o=t.slice().sort(r);return[o[e.round(n/4)-1],o[e.round(n/2)-1],o[e.round(3*n/4)-1]]},t.quantiles=function(t,n,i,a){var s,l,u,c,p=t.slice().sort(r),d=[n.length],h=t.length;void 0===i&&(i=3/8),void 0===a&&(a=3/8);for(var f=0;f<n.length;f++)l=h*(s=n[f])+(i+s*(1-i-a)),u=e.floor(o(l,1,h-1)),c=o(l-u,0,1),d[f]=(1-c)*p[u-1]+c*p[u];return d},t.percentile=function(t,e){var n=t.slice().sort(r),o=e*(n.length-1),i=parseInt(o),a=o-i;return i+1<n.length?n[i]*(1-a)+n[i+1]*a:n[i]},t.percentileOfScore=function(t,e,n){var r,o=0,i=t.length,a=!1;"strict"===n&&(a=!0);for(var s=0;s<i;s++)r=t[s],(a&&r<e||!a&&r<=e)&&o++;return o/i},t.histogram=function(n,r){for(var o=t.min(n),i=r||4,a=(t.max(n)-o)/i,s=n.length,l=(r=[],0);l<i;l++)r[l]=0;for(l=0;l<s;l++)r[e.min(e.floor((n[l]-o)/a),i-1)]+=1;return r},t.covariance=function(e,n){for(var r=t.mean(e),o=t.mean(n),i=e.length,a=new Array(i),s=0;s<i;s++)a[s]=(e[s]-r)*(n[s]-o);return t.sum(a)/(i-1)},t.corrcoeff=function(e,n){return t.covariance(e,n)/t.stdev(e,1)/t.stdev(n,1)},t.spearmancoeff=function(e,n){return e=t.rank(e),n=t.rank(n),t.corrcoeff(e,n)},t.stanMoment=function(n,r){for(var o=t.mean(n),i=t.stdev(n),a=n.length,s=0,l=0;l<a;l++)s+=e.pow((n[l]-o)/i,r);return s/n.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var i=t.prototype;!function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(r,o){var a=[],s=0,l=this;if(n(r)&&(o=r,r=!1),o)return setTimeout(function(){o.call(l,i[e].call(l,r))}),this;if(this.length>1){for(l=!0===r?this:this.transpose();s<l.length;s++)a[s]=t[e](l[s]);return a}return t[e](this[0],r)}}(e[r])}("cumsum cumprod".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(r,o){var a=[],s=0,l=this;if(n(r)&&(o=r,r=!1),o)return setTimeout(function(){o.call(l,i[e].call(l,r))}),this;if(this.length>1){for("sumrow"!==e&&(l=!0===r?this:this.transpose());s<l.length;s++)a[s]=t[e](l[s]);return!0===r?t[e](t.utils.toVector(a)):a}return t[e](this[0],r)}}(e[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(){var r=[],o=0,a=this,s=Array.prototype.slice.call(arguments);if(n(s[s.length-1])){var l=s[s.length-1],u=s.slice(0,s.length-1);return setTimeout(function(){l.call(a,i[e].apply(a,u))}),this}l=void 0;var c=function(n){return t[e].apply(a,[n].concat(s))};if(this.length>1){for(a=a.transpose();o<a.length;o++)r[o]=c(a[o]);return r}return c(this[0])}}(e[r])}("quantiles percentileOfScore".split(" "))}(o=function(t,e){var n=Array.prototype.concat,r=Array.prototype.slice,o=Object.prototype.toString;function a(e,n){var r=e>n?e:n;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}var s=Array.isArray||function(t){return"[object Array]"===o.call(t)};function l(t){return"[object Function]"===o.call(t)}function u(t){return"number"==typeof t&&t==t}function c(){return new c._init(arguments)}function p(){return 0}function d(){return 1}function h(t,e){return t===e?1:0}c.fn=c.prototype,c._init=function(t){if(s(t[0]))if(s(t[0][0])){l(t[1])&&(t[0]=c.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=l(t[1])?c.map(t[0],t[1]):t[0],this.length=1;else if(u(t[0]))this[0]=c.seq.apply(null,t),this.length=1;else{if(t[0]instanceof c)return c(t[0].toArray());this[0]=[],this.length=1}return this},c._init.prototype=c.prototype,c._init.constructor=c,c.utils={calcRdx:a,isArray:s,isFunction:l,isNumber:u,toVector:function(t){return n.apply([],t)}},c.extend=function(t){var e;if(1===arguments.length){for(e in t)c[e]=t[e];return this}for(var n=1;n<arguments.length;n++)for(e in arguments[n])t[e]=arguments[n][e];return t},c.rows=function(t){return t.length||1},c.cols=function(t){return t[0].length||1},c.dimensions=function(t){return{rows:c.rows(t),cols:c.cols(t)}},c.row=function(t,e){return s(e)?e.map(function(e){return c.row(t,e)}):t[e]},c.rowa=function(t,e){return c.row(t,e)},c.col=function(t,e){if(s(e)){var n=c.arange(t.length).map(function(t){return new Array(e.length)});return e.forEach(function(e,r){c.arange(t.length).forEach(function(o){n[o][r]=t[o][e]})}),n}for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=[t[o][e]];return r},c.cola=function(t,e){return c.col(t,e).map(function(t){return t[0]})},c.diag=function(t){for(var e=c.rows(t),n=new Array(e),r=0;r<e;r++)n[r]=[t[r][r]];return n},c.antidiag=function(t){for(var e=c.rows(t)-1,n=new Array(e),r=0;e>=0;e--,r++)n[r]=[t[r][e]];return n},c.transpose=function(t){var e,n,r,o,i=[];s(t[0])||(t=[t]),n=t.length,r=t[0].length;for(var a=0;a<r;a++){for(e=new Array(n),o=0;o<n;o++)e[o]=t[o][a];i.push(e)}return 1===i.length?i[0]:i},c.map=function(t,e,n){var r,o,i,a,l;for(s(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),l=0;l<i;l++)a[r][l]=e(t[r][l],r,l);return 1===a.length?a[0]:a},c.cumreduce=function(t,e,n){var r,o,i,a,l;for(s(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),i>0&&(a[r][0]=t[r][0]),l=1;l<i;l++)a[r][l]=e(a[r][l-1],t[r][l]);return 1===a.length?a[0]:a},c.alter=function(t,e){return c.map(t,e,!0)},c.create=function(t,e,n){var r,o=new Array(t);l(e)&&(n=e,e=t);for(var i=0;i<t;i++)for(o[i]=new Array(e),r=0;r<e;r++)o[i][r]=n(i,r);return o},c.zeros=function(t,e){return u(e)||(e=t),c.create(t,e,p)},c.ones=function(t,e){return u(e)||(e=t),c.create(t,e,d)},c.rand=function(e,n){return u(n)||(n=e),c.create(e,n,t.random)},c.identity=function(t,e){return u(e)||(e=t),c.create(t,e,h)},c.symmetric=function(t){var e,n,r=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<r;e++)for(n=0;n<r;n++)if(t[n][e]!==t[e][n])return!1;return!0},c.clear=function(t){return c.alter(t,p)},c.seq=function(t,e,n,r){l(r)||(r=!1);var o,i=[],s=a(t,e),u=(e*s-t*s)/((n-1)*s),c=t;for(o=0;c<=e&&o<n;c=(t*s+u*s*++o)/s)i.push(r?r(c,o):c);return i},c.arange=function(t,n,r){var o=[];if(r=r||1,n===e&&(n=t,t=0),t===n||0===r)return[];if(t<n&&r<0)return[];if(t>n&&r>0)return[];if(r>0)for(i=t;i<n;i+=r)o.push(i);else for(i=t;i>n;i+=r)o.push(i);return o},c.slice=function(){function t(t,n,r,o){var i,a=[],s=t.length;if(n===e&&r===e&&o===e)return c.copy(t);if(n=n||0,r=r||t.length,o=o||1,(n=n>=0?n:s+n)===(r=r>=0?r:s+r)||0===o)return[];if(n<r&&o<0)return[];if(n>r&&o>0)return[];if(o>0)for(i=n;i<r;i+=o)a.push(t[i]);else for(i=n;i>r;i+=o)a.push(t[i]);return a}return function(e,n){if(u((n=n||{}).row)){if(u(n.col))return e[n.row][n.col];var r=c.rowa(e,n.row),o=n.col||{};return t(r,o.start,o.end,o.step)}if(u(n.col)){var i=c.cola(e,n.col),a=n.row||{};return t(i,a.start,a.end,a.step)}var a=n.row||{},o=n.col||{};return t(e,a.start,a.end,a.step).map(function(e){return t(e,o.start,o.end,o.step)})}}(),c.sliceAssign=function(n,r,o){if(u(r.row)){if(u(r.col))return n[r.row][r.col]=o;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var i=c.arange(r.col.start,t.min(n.length,r.col.end),r.col.step),a=r.row;return i.forEach(function(t,e){n[a][t]=o[e]}),n}if(u(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1;var s=c.arange(r.row.start,t.min(n[0].length,r.row.end),r.row.step),l=r.col;return s.forEach(function(t,e){n[t][l]=o[e]}),n}o[0].length===e&&(o=[o]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var s=c.arange(r.row.start,t.min(n.length,r.row.end),r.row.step),i=c.arange(r.col.start,t.min(n[0].length,r.col.end),r.col.step);return s.forEach(function(t,e){i.forEach(function(r,i){n[t][r]=o[e][i]})}),n},c.diagonal=function(t){var e=c.zeros(t.length,t.length);return t.forEach(function(t,n){e[n][n]=t}),e},c.copy=function(t){return t.map(function(t){return u(t)?t:t.map(function(t){return t})})};var f=c.prototype;return f.length=0,f.push=Array.prototype.push,f.sort=Array.prototype.sort,f.splice=Array.prototype.splice,f.slice=Array.prototype.slice,f.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},f.map=function(t,e){return c(c.map(this,t,e))},f.cumreduce=function(t,e){return c(c.cumreduce(this,t,e))},f.alter=function(t){return c.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)!function(t){f[t]=function(e){var n,r=this;return e?(setTimeout(function(){e.call(r,f[t].call(r))}),this):(n=c[t](this),s(n)?c(n):n)}}(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){f[t]=function(e,n){var r=this;return n?(setTimeout(function(){n.call(r,f[t].call(r,e))}),this):c(c[t](this,e))}}(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)n=t[e],f[n]=new Function("return jStat(jStat."+n+".apply(null, arguments));");var n}("create zeros ones rand identity".split(" ")),c}(Math),Math),function(t,e){t.gammaln=function(t){var n,r,o,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],s=1.000000000190015;for(o=(r=n=t)+5.5,o-=(n+.5)*e.log(o);i<6;i++)s+=a[i]/++r;return e.log(2.5066282746310007*s/n)-o},t.gammafn=function(t){var n,r,o,i=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,l=0,u=0,c=0,p=t;if(p<=0){if(!(o=p%1+3.6e-16))return 1/0;s=(1&p?-1:1)*e.PI/e.sin(e.PI*o),p=1-p}r=p,n=p<1?p++:(p-=l=(0|p)-1)-1;for(var d=0;d<8;++d)c=(c+i[d])*n,u=u*n+a[d];if(o=c/u+1,r<p)o/=r;else if(r>p)for(d=0;d<l;++d)o*=p,p++;return s&&(o=s/o),o},t.gammap=function(e,n){return t.lowRegGamma(e,n)*t.gammafn(e)},t.lowRegGamma=function(n,r){var o,i=t.gammaln(n),a=n,s=1/n,l=s,u=r+1-n,c=1/1e-30,p=1/u,d=p,h=1,f=-~(8.5*e.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;h<=f;h++)s+=l*=r/++a;return s*e.exp(-r+n*e.log(r)-i)}for(;h<=f;h++)d*=(p=1/(p=(o=-h*(h-n))*p+(u+=2)))*(c=u+o/c);return 1-d*e.exp(-r+n*e.log(r)-i)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(n,r){return n>170||r>170?e.exp(t.combinationln(n,r)):t.factorial(n)/t.factorial(r)/t.factorial(n-r)},t.combinationln=function(e,n){return t.factorialln(e)-t.factorialln(n)-t.factorialln(e-n)},t.permutation=function(e,n){return t.factorial(e)/t.factorial(e-n)},t.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?e.exp(t.betaln(n,r)):t.gammafn(n)*t.gammafn(r)/t.gammafn(n+r)},t.betaln=function(e,n){return t.gammaln(e)+t.gammaln(n)-t.gammaln(e+n)},t.betacf=function(t,n,r){var o,i,a,s,l=1,u=n+r,c=n+1,p=n-1,d=1,h=1-u*t/c;for(e.abs(h)<1e-30&&(h=1e-30),s=h=1/h;l<=100&&(h=1+(i=l*(r-l)*t/((p+(o=2*l))*(n+o)))*h,e.abs(h)<1e-30&&(h=1e-30),d=1+i/d,e.abs(d)<1e-30&&(d=1e-30),s*=(h=1/h)*d,h=1+(i=-(n+l)*(u+l)*t/((n+o)*(c+o)))*h,e.abs(h)<1e-30&&(h=1e-30),d=1+i/d,e.abs(d)<1e-30&&(d=1e-30),s*=a=(h=1/h)*d,!(e.abs(a-1)<3e-7));l++);return s},t.gammapinv=function(n,r){var o,i,a,s,l,u,c=0,p=r-1,d=t.gammaln(r);if(n>=1)return e.max(100,r+100*e.sqrt(r));if(n<=0)return 0;for(r>1?(l=e.log(p),u=e.exp(p*(l-1)-d),s=n<.5?n:1-n,o=(2.30753+.27061*(i=e.sqrt(-2*e.log(s))))/(1+i*(.99229+.04481*i))-i,n<.5&&(o=-o),o=e.max(.001,r*e.pow(1-1/(9*r)-o/(3*e.sqrt(r)),3))):o=n<(i=1-r*(.253+.12*r))?e.pow(n/i,1/r):1-e.log(1-(n-i)/(1-i));c<12;c++){if(o<=0)return 0;if((o-=i=(a=(t.lowRegGamma(r,o)-n)/(i=r>1?u*e.exp(-(o-p)+p*(e.log(o)-l)):e.exp(-o+p*e.log(o)-d)))/(1-.5*e.min(1,a*((r-1)/o-1))))<=0&&(o=.5*(o+i)),e.abs(i)<1e-8*o)break}return o},t.erf=function(t){var n,r,o,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],s=a.length-1,l=!1,u=0,c=0;for(t<0&&(t=-t,l=!0),r=4*(n=2/(2+t))-2;s>0;s--)o=u,u=r*u-c+a[s],c=o;return i=n*e.exp(-t*t+.5*(a[0]+r*u)-c),l?i-1:1-i},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(n){var r,o,i,a,s=0;if(n>=2)return-100;if(n<=0)return 100;for(a=n<1?n:2-n,r=-.70711*((2.30753+.27061*(i=e.sqrt(-2*e.log(a/2))))/(1+i*(.99229+.04481*i))-i);s<2;s++)r+=(o=t.erfc(r)-a)/(1.1283791670955126*e.exp(-r*r)-r*o);return n<1?r:-r},t.ibetainv=function(n,r,o){var i,a,s,l,u,c,p,d,h,f,m=r-1,g=o-1,v=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&o>=1?(s=n<.5?n:1-n,c=(2.30753+.27061*(l=e.sqrt(-2*e.log(s))))/(1+l*(.99229+.04481*l))-l,n<.5&&(c=-c),p=(c*c-3)/6,d=2/(1/(2*r-1)+1/(2*o-1)),h=c*e.sqrt(p+d)/d-(1/(2*o-1)-1/(2*r-1))*(p+5/6-2/(3*d)),c=r/(r+o*e.exp(2*h))):(i=e.log(r/(r+o)),a=e.log(o/(r+o)),c=n<(l=e.exp(r*i)/r)/(h=l+(u=e.exp(o*a)/o))?e.pow(r*h*n,1/r):1-e.pow(o*h*(1-n),1/o)),f=-t.gammaln(r)-t.gammaln(o)+t.gammaln(r+o);v<10;v++){if(0===c||1===c)return c;if((c-=l=(u=(t.ibeta(c,r,o)-n)/(l=e.exp(m*e.log(c)+g*e.log(1-c)+f)))/(1-.5*e.min(1,u*(m/c-g/(1-c)))))<=0&&(c=.5*(c+l)),c>=1&&(c=.5*(c+l+1)),e.abs(l)<1e-8*c&&v>0)break}return c},t.ibeta=function(n,r,o){var i=0===n||1===n?0:e.exp(t.gammaln(r+o)-t.gammaln(r)-t.gammaln(o)+r*e.log(n)+o*e.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+o+2)?i*t.betacf(n,r,o)/r:1-i*t.betacf(1-n,o,r)/o)},t.randn=function(n,r){var o,i,a,s,l;if(r||(r=n),n)return t.create(n,r,function(){return t.randn()});do{o=e.random(),i=1.7156*(e.random()-.5),l=(a=o-.449871)*a+(s=e.abs(i)+.386595)*(.196*s-.25472*a)}while(l>.27597&&(l>.27846||i*i>-4*e.log(o)*o*o));return i/o},t.randg=function(n,r,o){var i,a,s,l,u,c,p=n;if(o||(o=r),n||(n=1),r)return(c=t.zeros(r,o)).alter(function(){return t.randg(n)}),c;n<1&&(n+=1),i=n-1/3,a=1/e.sqrt(9*i);do{do{l=1+a*(u=t.randn())}while(l<=0);l*=l*l,s=e.random()}while(s>1-.331*e.pow(u,4)&&e.log(s)>.5*u*u+i*(1-l+e.log(l)));if(n==p)return i*l;do{s=e.random()}while(0===s);return e.pow(s,1/p)*i*l},function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t.map(this,function(n){return t[e](n)}))}}(e[n])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}}(e[n])}("randn".split(" "))}(o,Math),function(t,e){function n(n,r,o){var i=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],a=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],s=.5*n;if(s>=8)return 1;var l,u=2*t.normal.cdf(s,0,1,1,0)-1;u=u>=e.exp(-50/o)?e.pow(u,o):0;for(var c=s,p=(8-s)/(l=n>3?2:3),d=c+p,h=0,f=o-1,m=1;m<=l;m++){for(var g=0,v=.5*(d+c),y=.5*(d-c),b=1;b<=12;b++){var _,x=v+y*(6<b?i[(_=12-b+1)-1]:-i[(_=b)-1]),S=x*x;if(S>60)break;var w=2*t.normal.cdf(x,0,1,1,0)*.5-2*t.normal.cdf(x,n,1,1,0)*.5;w>=e.exp(-30/f)&&(g+=w=a[_-1]*e.exp(-.5*S)*e.pow(w,f))}h+=g*=2*y*o/e.sqrt(2*e.PI),c=d,d+=p}return(u+=h)<=e.exp(-30/r)?0:(u=e.pow(u,r))>=1?1:u}!function(e){for(var n=0;n<e.length;n++)!function(e){t[e]=function(t,e,n){return this instanceof arguments.callee?(this._a=t,this._b=e,this._c=n,this):new arguments.callee(t,e,n)},t.fn[e]=function(n,r,o){var i=t[e](n,r,o);return i.data=this,i},t[e].prototype.sample=function(n){var r=this._a,o=this._b,i=this._c;return n?t.alter(n,function(){return t[e].sample(r,o,i)}):t[e].sample(r,o,i)},function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(r){var o=this._a,i=this._b,a=this._c;return r||0===r||(r=this.data),"number"!=typeof r?t.fn.map.call(r,function(r){return t[e][n](r,o,i,a)}):t[e][n](r,o,i,a)}}(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(){return t[e][n](this._a,this._b,this._c)}}(n[r])}("mean median mode variance".split(" "))}(e[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(n,r,o){return n>1||n<0?0:1==r&&1==o?1:r<512&&o<512?e.pow(n,r-1)*e.pow(1-n,o-1)/t.betafn(r,o):e.exp((r-1)*e.log(n)+(o-1)*e.log(1-n)-t.betaln(r,o))},cdf:function(e,n,r){return e>1||e<0?1*(e>1):t.ibeta(e,n,r)},inv:function(e,n,r){return t.ibetainv(e,n,r)},mean:function(t,e){return t/(t+e)},median:function(e,n){return t.ibetainv(.5,e,n)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,n){var r=t.randg(e);return r/(r+t.randg(n))},variance:function(t,n){return t*n/(e.pow(t+n,2)*(t+n+1))}}),t.extend(t.centralF,{pdf:function(n,r,o){var i;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/t.betafn(r/2,o/2)*e.pow(r/o,r/2)*e.pow(n,r/2-1)*e.pow(1+r/o*n,-(r+o)/2):(i=r*n/(o+n*r),r*(o/(o+n*r))/2*t.binomial.pdf((r-2)/2,(r+o-2)/2,i))},cdf:function(e,n,r){return e<0?0:t.ibeta(n*e/(n*e+r),n/2,r/2)},inv:function(e,n,r){return r/(n*(1/t.ibetainv(e,n/2,r/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,n){return 2*t.randg(e/2)/e/(2*t.randg(n/2)/n)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,n,r){return r<0?0:r/(e.pow(t-n,2)+e.pow(r,2))/e.PI},cdf:function(t,n,r){return e.atan((t-n)/r)/e.PI+.5},inv:function(t,n,r){return n+r*e.tan(e.PI*(t-.5))},median:function(t,e){return t},mode:function(t,e){return t},sample:function(n,r){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*r+n}}),t.extend(t.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:e.exp((r/2-1)*e.log(n)-n/2-r/2*e.log(2)-t.gammaln(r/2))},cdf:function(e,n){return e<0?0:t.lowRegGamma(n/2,e/2)},inv:function(e,n){return 2*t.gammapinv(e,.5*n)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,n){return t<0?0:n*e.exp(-n*t)},cdf:function(t,n){return t<0?0:1-e.exp(-n*t)},inv:function(t,n){return-e.log(1-t)/n},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*e.log(e.random())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(n,r,o){return n<0?0:0===n&&1===r?1/o:e.exp((r-1)*e.log(n)-n/o-t.gammaln(r)-r*e.log(o))},cdf:function(e,n,r){return e<0?0:t.lowRegGamma(n,e/r)},inv:function(e,n,r){return t.gammapinv(e,n)*r},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,n){return t.randg(e)*n},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(n,r,o){return n<=0?0:e.exp(-(r+1)*e.log(n)-o/n-t.gammaln(r)+r*e.log(o))},cdf:function(e,n,r){return e<=0?0:1-t.lowRegGamma(n,r/e)},inv:function(e,n,r){return r/t.gammapinv(1-e,n)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,n){return n/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,n,r){return 0===t&&1===n?r:1===t&&1===r?n:e.exp(e.log(n)+e.log(r)+(n-1)*e.log(t)+(r-1)*e.log(1-e.pow(t,n)))},cdf:function(t,n,r){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,n),r)},inv:function(t,n,r){return e.pow(1-e.pow(1-t,1/r),1/n)},mean:function(e,n){return n*t.gammafn(1+1/e)*t.gammafn(n)/t.gammafn(1+1/e+n)},median:function(t,n){return e.pow(1-e.pow(2,-1/n),1/t)},mode:function(t,n){if(t>=1&&n>=1&&1!==t&&1!==n)return e.pow((t-1)/(t*n-1),1/t)},variance:function(t,e){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,n,r){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(r)-e.pow(e.log(t)-n,2)/(2*r*r))},cdf:function(n,r,o){return n<0?0:.5+.5*t.erf((e.log(n)-r)/e.sqrt(2*o*o))},inv:function(n,r,o){return e.exp(-1.4142135623730951*o*t.erfcinv(2*n)+r)},mean:function(t,n){return e.exp(t+n*n/2)},median:function(t,n){return e.exp(t)},mode:function(t,n){return e.exp(t-n*n)},sample:function(n,r){return e.exp(t.randn()*r+n)},variance:function(t,n){return(e.exp(n*n)-1)*e.exp(2*t+n*n)}}),t.extend(t.noncentralt,{pdf:function(n,r,o){return e.abs(o)<1e-14?t.studentt.pdf(n,r):e.abs(n)<1e-14?e.exp(t.gammaln((r+1)/2)-o*o/2-.5*e.log(e.PI*r)-t.gammaln(r/2)):r/n*(t.noncentralt.cdf(n*e.sqrt(1+2/r),r+2,o)-t.noncentralt.cdf(n,r,o))},cdf:function(n,r,o){if(e.abs(o)<1e-14)return t.studentt.cdf(n,r);var i=!1;n<0&&(i=!0,o=-o);for(var a=t.normal.cdf(-o,0,1),s=1e-14+1,l=s,u=n*n/(n*n+r),c=0,p=e.exp(-o*o/2),d=e.exp(-o*o/2-.5*e.log(2)-t.gammaln(1.5))*o;c<200||l>1e-14||s>1e-14;)l=s,c>0&&(p*=o*o/(2*c),d*=o*o/(2*(c+.5))),a+=.5*(s=p*t.beta.cdf(u,c+.5,r/2)+d*t.beta.cdf(u,c+1,r/2)),c++;return i?1-a:a}}),t.extend(t.normal,{pdf:function(t,n,r){return e.exp(-.5*e.log(2*e.PI)-e.log(r)-e.pow(t-n,2)/(2*r*r))},cdf:function(n,r,o){return.5*(1+t.erf((n-r)/e.sqrt(2*o*o)))},inv:function(e,n,r){return-1.4142135623730951*r*t.erfcinv(2*e)+n},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},sample:function(e,n){return t.randn()*n+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,n,r){return t<n?0:r*e.pow(n,r)/e.pow(t,r+1)},cdf:function(t,n,r){return t<n?0:1-e.pow(n/t,r)},inv:function(t,n,r){return n/e.pow(1-t,1/r)},mean:function(t,n){if(!(n<=1))return n*e.pow(t,n)/(n-1)},median:function(t,n){return t*(n*e.SQRT2)},mode:function(t,e){return t},variance:function(t,n){if(!(n<=2))return t*t*n/(e.pow(n-1,2)*(n-2))}}),t.extend(t.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(e.sqrt(r)*t.betafn(.5,r/2))*e.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var o=r/2;return t.ibeta((n+e.sqrt(n*n+r))/(2*e.sqrt(n*n+r)),o,o)},inv:function(n,r){var o=t.ibetainv(2*e.min(n,1-n),.5*r,.5);return o=e.sqrt(r*(1-o)/o),n>.5?o:-o},mean:function(t){return t>1?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(n){return t.randn()*e.sqrt(n/(2*t.randg(n/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,n,r){return t<0||n<0||r<0?0:r/n*e.pow(t/n,r-1)*e.exp(-e.pow(t/n,r))},cdf:function(t,n,r){return t<0?0:1-e.exp(-e.pow(t/n,r))},inv:function(t,n,r){return n*e.pow(-e.log(1-t),1/r)},mean:function(e,n){return e*t.gammafn(1+1/n)},median:function(t,n){return t*e.pow(e.log(2),1/n)},mode:function(t,n){return n<=1?0:t*e.pow((n-1)/n,1/n)},sample:function(t,n){return t*e.pow(-e.log(e.random()),1/n)},variance:function(n,r){return n*n*t.gammafn(1+2/r)-e.pow(t.weibull.mean(n,r),2)}}),t.extend(t.uniform,{pdf:function(t,e,n){return t<e||t>n?0:1/(n-e)},cdf:function(t,e,n){return t<e?0:t<n?(t-e)/(n-e):1},inv:function(t,e,n){return e+t*(n-e)},mean:function(t,e){return.5*(t+e)},median:function(e,n){return t.mean(e,n)},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e.random()-1)},variance:function(t,n){return e.pow(n-t,2)/12}}),t.extend(t.binomial,{pdf:function(n,r,o){return 0===o||1===o?r*o===n?1:0:t.combination(r,n)*e.pow(o,n)*e.pow(1-o,r-n)},cdf:function(e,n,r){var o=[],i=0;if(e<0)return 0;if(e<n){for(;i<=e;i++)o[i]=t.binomial.pdf(i,n,r);return t.sum(o)}return 1}}),t.extend(t.negbin,{pdf:function(n,r,o){return n===n>>>0&&(n<0?0:t.combination(n+r-1,r-1)*e.pow(1-o,n)*e.pow(o,r))},cdf:function(e,n,r){var o=0,i=0;if(e<0)return 0;for(;i<=e;i++)o+=t.negbin.pdf(i,n,r);return o}}),t.extend(t.hypgeom,{pdf:function(n,r,o,i){if(n!=n|0)return!1;if(n<0||n<o-(r-i))return 0;if(n>i||n>o)return 0;if(2*o>r)return 2*i>r?t.hypgeom.pdf(r-o-i+n,r,r-o,r-i):t.hypgeom.pdf(i-n,r,r-o,i);if(2*i>r)return t.hypgeom.pdf(o-n,r,o,r-i);if(o<i)return t.hypgeom.pdf(n,r,i,o);for(var a=1,s=0,l=0;l<n;l++){for(;a>1&&s<i;)a*=1-o/(r-s),s++;a*=(i-l)*(o-l)/((l+1)*(r-o-i+l+1))}for(;s<i;s++)a*=1-o/(r-s);return e.min(1,e.max(0,a))},cdf:function(n,r,o,i){if(n<0||n<o-(r-i))return 0;if(n>=i||n>=o)return 1;if(2*o>r)return 2*i>r?t.hypgeom.cdf(r-o-i+n,r,r-o,r-i):1-t.hypgeom.cdf(i-n-1,r,r-o,i);if(2*i>r)return 1-t.hypgeom.cdf(o-n-1,r,o,r-i);if(o<i)return t.hypgeom.cdf(n,r,i,o);for(var a=1,s=1,l=0,u=0;u<n;u++){for(;a>1&&l<i;){var c=1-o/(r-l);s*=c,a*=c,l++}a+=s*=(i-u)*(o-u)/((u+1)*(r-o-i+u+1))}for(;l<i;l++)a*=1-o/(r-l);return e.min(1,e.max(0,a))}}),t.extend(t.poisson,{pdf:function(n,r){return r<0||n%1!=0||n<0?0:e.pow(r,n)*e.exp(-r)/t.factorial(n)},cdf:function(e,n){var r=[],o=0;if(e<0)return 0;for(;o<=e;o++)r.push(t.poisson.pdf(o,n));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sample:function(t){var n=1,r=0,o=e.exp(-t);do{r++,n*=e.random()}while(n>o);return r-1}}),t.extend(t.triangular,{pdf:function(t,e,n,r){return n<=e||r<e||r>n?NaN:t<e||t>n?0:t<r?2*(t-e)/((n-e)*(r-e)):t===r?2/(n-e):2*(n-t)/((n-e)*(n-r))},cdf:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=n?0:t>=r?1:t<=o?e.pow(t-n,2)/((r-n)*(o-n)):1-e.pow(r-t,2)/((r-n)*(r-o))},inv:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=(o-n)/(r-n)?n+(r-n)*e.sqrt(t*((o-n)/(r-n))):n+(r-n)*(1-e.sqrt((1-t)*(1-(o-n)/(r-n))))},mean:function(t,e,n){return(t+e+n)/3},median:function(t,n,r){return r<=(t+n)/2?n-e.sqrt((n-t)*(n-r))/e.sqrt(2):r>(t+n)/2?t+e.sqrt((n-t)*(r-t))/e.sqrt(2):void 0},mode:function(t,e,n){return n},sample:function(t,n,r){var o=e.random();return o<(r-t)/(n-t)?t+e.sqrt(o*(n-t)*(r-t)):n-e.sqrt((1-o)*(n-t)*(n-r))},variance:function(t,e,n){return(t*t+e*e+n*n-t*e-t*n-e*n)/18}}),t.extend(t.arcsine,{pdf:function(t,n,r){return r<=n?NaN:t<=n||t>=r?0:2/e.PI*e.pow(e.pow(r-n,2)-e.pow(2*t-n-r,2),-.5)},cdf:function(t,n,r){return t<n?0:t<r?2/e.PI*e.asin(e.sqrt((t-n)/(r-n))):1},inv:function(t,n,r){return n+(.5-.5*e.cos(e.PI*t))*(r-n)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,n){return n<=t?NaN:e.pow(n-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,n,r){return r<=0?0:e.exp(-e.abs(t-n)/r)/(2*r)},cdf:function(t,n,r){return r<=0?0:t<n?.5*e.exp((t-n)/r):1-.5*e.exp(-(t-n)/r)},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},variance:function(t,e){return 2*e*e},sample:function(t,n){var r,o=e.random()-.5;return t-n*((r=o)/e.abs(r))*e.log(1-2*e.abs(o))}}),t.extend(t.tukey,{cdf:function(r,o,i){var a=o,s=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],l=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(r<=0)return 0;if(i<2||a<2)return NaN;if(!Number.isFinite(r))return 1;if(i>25e3)return n(r,1,a);var u,c=.5*i,p=c*e.log(i)-i*e.log(2)-t.gammaln(c),d=c-1,h=.25*i;u=i<=100?1:i<=800?.5:i<=5e3?.25:.125,p+=e.log(u);for(var f=0,m=1;m<=50;m++){for(var g=0,v=(2*m-1)*u,y=1;y<=16;y++){var b,_;8<y?(b=y-8-1,_=p+d*e.log(v+s[b]*u)-(s[b]*u+v)*h):(b=y-1,_=p+d*e.log(v-s[b]*u)+(s[b]*u-v)*h),_>=-30&&(g+=n(8<y?r*e.sqrt(.5*(s[b]*u+v)):r*e.sqrt(.5*(-s[b]*u+v)),1,a)*l[b]*e.exp(_))}if(m*u>=1&&g<=1e-14)break;f+=g}if(g>1e-14)throw new Error("tukey.cdf failed to converge");return f>1&&(f=1),f},inv:function(n,r,o){if(o<2||r<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var i,a=function(t,n,r){var o=.5-.5*t,i=e.sqrt(e.log(1/(o*o))),a=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);r<120&&(a+=(a*a*a+a)/r/4);var s=.8832-.2368*a;return r<120&&(s+=-1.214/r+1.208*a/r),a*(s*e.log(n-1)+1.4142)}(n,r,o),s=t.tukey.cdf(a,r,o)-n;i=s>0?e.max(0,a-1):a+1;for(var l,u=t.tukey.cdf(i,r,o)-n,c=1;c<50;c++)if(l=i-u*(i-a)/(u-s),s=u,a=i,l<0&&(l=0,u=-n),u=t.tukey.cdf(l,r,o)-n,i=l,e.abs(i-a)<1e-4)return l;throw new Error("tukey.inv failed to converge")}})}(o,Math),function(t,e){var n,o,a=Array.prototype.push,s=t.utils.isArray;function l(e){return s(e)||e instanceof t}t.extend({add:function(e,n){return l(n)?(l(n[0])||(n=[n]),t.map(e,function(t,e,r){return t+n[e][r]})):t.map(e,function(t){return t+n})},subtract:function(e,n){return l(n)?(l(n[0])||(n=[n]),t.map(e,function(t,e,r){return t-n[e][r]||0})):t.map(e,function(t){return t-n})},divide:function(e,n){return l(n)?(l(n[0])||(n=[n]),t.multiply(e,t.inv(n))):t.map(e,function(t){return t/n})},multiply:function(e,n){var r,o,i,a,s,u,c,p;if(void 0===e.length&&void 0===n.length)return e*n;if(s=e.length,u=e[0].length,c=t.zeros(s,i=l(n)?n[0].length:u),p=0,l(n)){for(;p<i;p++)for(r=0;r<s;r++){for(a=0,o=0;o<u;o++)a+=e[r][o]*n[o][p];c[r][p]=a}return 1===s&&1===p?c[0][0]:c}return t.map(e,function(t){return t*n})},outer:function(e,n){return t.multiply(e.map(function(t){return[t]}),[n])},dot:function(e,n){l(e[0])||(e=[e]),l(n[0])||(n=[n]);for(var r,o,i=1===e[0].length&&1!==e.length?t.transpose(e):e,a=1===n[0].length&&1!==n.length?t.transpose(n):n,s=[],u=0,c=i.length,p=i[0].length;u<c;u++){for(s[u]=[],r=0,o=0;o<p;o++)r+=i[u][o]*a[u][o];s[u]=r}return 1===s.length?s[0]:s},pow:function(n,r){return t.map(n,function(t){return e.pow(t,r)})},exp:function(n){return t.map(n,function(t){return e.exp(t)})},log:function(n){return t.map(n,function(t){return e.log(t)})},abs:function(n){return t.map(n,function(t){return e.abs(t)})},norm:function(t,n){var r=0,o=0;for(isNaN(n)&&(n=2),l(t[0])&&(t=t[0]);o<t.length;o++)r+=e.pow(e.abs(t[o]),n);return e.pow(r,1/n)},angle:function(n,r){return e.acos(t.dot(n,r)/(t.norm(n)*t.norm(r)))},aug:function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r].slice());for(r=0;r<n.length;r++)a.apply(n[r],e[r]);return n},inv:function(e){for(var n,r=e.length,o=e[0].length,i=t.identity(r,o),a=t.gauss_jordan(e,i),s=[],l=0;l<r;l++)for(s[l]=[],n=o;n<a[0].length;n++)s[l][n-o]=a[l][n];return s},det:function(t){var e,n=t.length,r=2*n,o=new Array(r),i=n-1,a=r-1,s=i-n+1,l=a,u=0,c=0;if(2===n)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;u<r;u++)o[u]=1;for(u=0;u<n;u++){for(e=0;e<n;e++)o[s<0?s+n:s]*=t[u][e],o[l<n?l+n:l]*=t[u][e],s++,l--;s=--i-n+1,l=--a}for(u=0;u<n;u++)c+=o[u];for(;u<r;u++)c-=o[u];return c},gauss_elimination:function(n,r){var o,i,a,s,l=0,u=0,c=n.length,p=n[0].length,d=1,h=0,f=[];for(o=(n=t.aug(n,r))[0].length,l=0;l<c;l++){for(i=n[l][l],u=l,s=l+1;s<p;s++)i<e.abs(n[s][l])&&(i=n[s][l],u=s);if(u!=l)for(s=0;s<o;s++)a=n[l][s],n[l][s]=n[u][s],n[u][s]=a;for(u=l+1;u<c;u++)for(d=n[u][l]/n[l][l],s=l;s<o;s++)n[u][s]=n[u][s]-d*n[l][s]}for(l=c-1;l>=0;l--){for(h=0,u=l+1;u<=c-1;u++)h+=f[u]*n[l][u];f[l]=(n[l][o-1]-h)/n[l][l]}return f},gauss_jordan:function(n,r){for(var o=t.aug(n,r),i=o.length,a=o[0].length,s=0,l=0;l<i;l++){for(var u=l,c=l+1;c<i;c++)e.abs(o[c][l])>e.abs(o[u][l])&&(u=c);var p=o[l];for(o[l]=o[u],o[u]=p,c=l+1;c<i;c++){s=o[c][l]/o[l][l];for(var d=l;d<a;d++)o[c][d]-=o[l][d]*s}}for(l=i-1;l>=0;l--){for(s=o[l][l],c=0;c<l;c++)for(d=a-1;d>l-1;d--)o[c][d]-=o[l][d]*o[c][l]/s;for(o[l][l]/=s,d=i;d<a;d++)o[l][d]/=s}return o},triaUpSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return null!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o-1,-1,-1).forEach(function(a){r=t.arange(a+1,o).map(function(t){return i[t]*e[a][t]}),i[a]=(n[a]-t.sum(r))/e[a][a]}),a?i.map(function(t){return[t]}):i},triaLowSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return null!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o).forEach(function(o){r=t.arange(o).map(function(t){return e[o][t]*i[t]}),i[o]=(n[o]-t.sum(r))/e[o][o]}),a?i.map(function(t){return[t]}):i},lu:function(e){var n,r=e.length,o=t.identity(r),a=t.zeros(e.length,e[0].length);return t.arange(r).forEach(function(t){a[0][t]=e[0][t]}),t.arange(1,r).forEach(function(s){t.arange(s).forEach(function(r){n=t.arange(r).map(function(t){return o[s][t]*a[t][r]}),o[s][r]=(e[s][r]-t.sum(n))/a[r][r]}),t.arange(s,r).forEach(function(r){n=t.arange(s).map(function(t){return o[s][t]*a[t][r]}),a[s][r]=e[i][r]-t.sum(n)})}),[o,a]},cholesky:function(n){var r,o=n.length,i=t.zeros(n.length,n[0].length);return t.arange(o).forEach(function(a){r=t.arange(a).map(function(t){return e.pow(i[a][t],2)}),i[a][a]=e.sqrt(n[a][a]-t.sum(r)),t.arange(a+1,o).forEach(function(e){r=t.arange(a).map(function(t){return i[a][t]*i[e][t]}),i[e][a]=(n[a][e]-t.sum(r))/i[a][a]})}),i},gauss_jacobi:function(n,r,o,i){for(var a,s,l,u,c=0,p=0,d=n.length,h=[],f=[],m=[];c<d;c++)for(h[c]=[],f[c]=[],m[c]=[],p=0;p<d;p++)c>p?(h[c][p]=n[c][p],f[c][p]=m[c][p]=0):c<p?(f[c][p]=n[c][p],h[c][p]=m[c][p]=0):(m[c][p]=n[c][p],h[c][p]=f[c][p]=0);for(l=t.multiply(t.multiply(t.inv(m),t.add(h,f)),-1),s=t.multiply(t.inv(m),r),a=o,u=t.add(t.multiply(l,o),s),c=2;e.abs(t.norm(t.subtract(u,a)))>i;)a=u,u=t.add(t.multiply(l,a),s),c++;return u},gauss_seidel:function(n,r,o,i){for(var a,s,l,u,c,p=0,d=n.length,h=[],f=[],m=[];p<d;p++)for(h[p]=[],f[p]=[],m[p]=[],a=0;a<d;a++)p>a?(h[p][a]=n[p][a],f[p][a]=m[p][a]=0):p<a?(f[p][a]=n[p][a],h[p][a]=m[p][a]=0):(m[p][a]=n[p][a],h[p][a]=f[p][a]=0);for(u=t.multiply(t.multiply(t.inv(t.add(m,h)),f),-1),l=t.multiply(t.inv(t.add(m,h)),r),s=o,c=t.add(t.multiply(u,o),l),p=2;e.abs(t.norm(t.subtract(c,s)))>i;)s=c,c=t.add(t.multiply(u,s),l),p+=1;return c},SOR:function(n,r,o,i,a){for(var s,l,u,c,p,d=0,h=n.length,f=[],m=[],g=[];d<h;d++)for(f[d]=[],m[d]=[],g[d]=[],s=0;s<h;s++)d>s?(f[d][s]=n[d][s],m[d][s]=g[d][s]=0):d<s?(m[d][s]=n[d][s],f[d][s]=g[d][s]=0):(g[d][s]=n[d][s],f[d][s]=m[d][s]=0);for(c=t.multiply(t.inv(t.add(g,t.multiply(f,a))),t.subtract(t.multiply(g,1-a),t.multiply(m,a))),u=t.multiply(t.multiply(t.inv(t.add(g,t.multiply(f,a))),r),a),l=o,p=t.add(t.multiply(c,o),u),d=2;e.abs(t.norm(t.subtract(p,l)))>i;)l=p,p=t.add(t.multiply(c,l),u),d++;return p},householder:function(n){for(var r,o,i,a,s=n.length,l=n[0].length,u=0,c=[],p=[];u<s-1;u++){for(r=0,a=u+1;a<l;a++)r+=n[a][u]*n[a][u];for(r=(n[u+1][u]>0?-1:1)*e.sqrt(r),o=e.sqrt((r*r-n[u+1][u]*r)/2),(c=t.zeros(s,1))[u+1][0]=(n[u+1][u]-r)/(2*o),i=u+2;i<s;i++)c[i][0]=n[i][u]/(2*o);p=t.subtract(t.identity(s,l),t.multiply(t.multiply(c,t.transpose(c)),2)),n=t.multiply(p,t.multiply(n,p))}return n},QR:(n=t.sum,o=t.arange,function(i){var a,s,l,u=i.length,c=i[0].length;for(i=t.copy(i),r=t.zeros(c,c),s=0;s<c;s++){for(r[s][s]=e.sqrt(n(o(u).map(function(t){return i[t][s]*i[t][s]}))),a=0;a<u;a++)i[a][s]=i[a][s]/r[s][s];for(l=s+1;l<c;l++)for(r[s][l]=n(o(u).map(function(t){return i[t][s]*i[t][l]})),a=0;a<u;a++)i[a][l]=i[a][l]-i[a][s]*r[s][l]}return[i,r]}),lstsq:function(e,n){var r=!1;void 0===n[0].length&&(n=n.map(function(t){return[t]}),r=!0);var o=t.QR(e),i=o[0],a=o[1],s=e[0].length,l=t.slice(i,{col:{end:s}}),u=function(e){var n=(e=t.copy(e)).length,r=t.identity(n);return t.arange(n-1,-1,-1).forEach(function(n){t.sliceAssign(r,{row:n},t.divide(t.slice(r,{row:n}),e[n][n])),t.sliceAssign(e,{row:n},t.divide(t.slice(e,{row:n}),e[n][n])),t.arange(n).forEach(function(o){var i=t.multiply(e[o][n],-1),a=t.slice(e,{row:o}),s=t.multiply(t.slice(e,{row:n}),i);t.sliceAssign(e,{row:o},t.add(a,s));var l=t.slice(r,{row:o}),u=t.multiply(t.slice(r,{row:n}),i);t.sliceAssign(r,{row:o},t.add(l,u))})}),r}(t.slice(a,{row:{end:s}})),c=t.transpose(l);void 0===c[0].length&&(c=[c]);var p=t.multiply(t.multiply(u,c),n);return void 0===p.length&&(p=[[p]]),r?p.map(function(t){return t[0]}):p},jacobi:function(n){for(var r,o,i,a,s,l,u=1,c=n.length,p=t.identity(c,c),d=[];1===u;){a=n[0][1],o=0,i=1;for(var h=0;h<c;h++)for(r=0;r<c;r++)h!=r&&a<e.abs(n[h][r])&&(a=e.abs(n[h][r]),o=h,i=r);for(s=n[o][o]===n[i][i]?n[o][i]>0?e.PI/4:-e.PI/4:e.atan(2*n[o][i]/(n[o][o]-n[i][i]))/2,(l=t.identity(c,c))[o][o]=e.cos(s),l[o][i]=-e.sin(s),l[i][o]=e.sin(s),l[i][i]=e.cos(s),p=t.multiply(p,l),n=t.multiply(t.multiply(t.inv(l),n),l),u=0,h=1;h<c;h++)for(r=1;r<c;r++)h!=r&&e.abs(n[h][r])>.001&&(u=1)}for(h=0;h<c;h++)d.push(n[h][h]);return[p,d]},rungekutta:function(t,e,n,r,o,i){var a,s,l;if(2===i)for(;r<=n;)o+=((a=e*t(r,o))+(s=e*t(r+e,o+a)))/2,r+=e;if(4===i)for(;r<=n;)o+=((a=e*t(r,o))+2*(s=e*t(r+e/2,o+a/2))+2*(l=e*t(r+e/2,o+s/2))+e*t(r+e,o+l))/6,r+=e;return o},romberg:function(t,n,r,o){for(var i,a,s,l,u,c=0,p=(r-n)/2,d=[],h=[],f=[];c<o/2;){for(u=t(n),s=n,l=0;s<=r;s+=p,l++)d[l]=s;for(i=d.length,s=1;s<i-1;s++)u+=(s%2!=0?4:2)*t(d[s]);u=p/3*(u+t(r)),f[c]=u,p/=2,c++}for(a=f.length,i=1;1!==a;){for(s=0;s<a-1;s++)h[s]=(e.pow(4,i)*f[s+1]-f[s])/(e.pow(4,i)-1);a=h.length,f=h,h=[],i++}return f},richardson:function(t,n,r,o){function i(t,e){for(var n,r=0,o=t.length;r<o;r++)t[r]===e&&(n=r);return n}t.length;for(var a,s,l,u,c,p=e.abs(r-t[i(t,r)+1]),d=0,h=[],f=[];o>=p;)a=i(t,r+o),s=i(t,r),h[d]=(n[a]-2*n[s]+n[2*s-a])/(o*o),o/=2,d++;for(u=h.length,l=1;1!=u;){for(c=0;c<u-1;c++)f[c]=(e.pow(4,l)*h[c+1]-h[c])/(e.pow(4,l)-1);u=f.length,h=f,f=[],l++}return h},simpson:function(t,e,n,r){for(var o,i=(n-e)/r,a=t(e),s=[],l=e,u=0,c=1;l<=n;l+=i,u++)s[u]=l;for(o=s.length;c<o-1;c++)a+=(c%2!=0?4:2)*t(s[c]);return i/3*(a+t(n))},hermite:function(t,e,n,r){for(var o,i=t.length,a=0,s=0,l=[],u=[],c=[],p=[];s<i;s++){for(l[s]=1,o=0;o<i;o++)s!=o&&(l[s]*=(r-t[o])/(t[s]-t[o]));for(u[s]=0,o=0;o<i;o++)s!=o&&(u[s]+=1/(t[s]-t[o]));c[s]=(1-2*(r-t[s])*u[s])*(l[s]*l[s]),p[s]=(r-t[s])*(l[s]*l[s]),a+=c[s]*e[s]+p[s]*n[s]}return a},lagrange:function(t,e,n){for(var r,o,i=0,a=0,s=t.length;a<s;a++){for(o=e[a],r=0;r<s;r++)a!=r&&(o*=(n-t[r])/(t[a]-t[r]));i+=o}return i},cubic_spline:function(e,n,r){for(var o,i,a=e.length,s=0,l=[],u=[],c=[],p=[],d=[],h=[];s<a-1;s++)p[s]=e[s+1]-e[s];for(c[0]=0,s=1;s<a-1;s++)c[s]=3/p[s]*(n[s+1]-n[s])-3/p[s-1]*(n[s]-n[s-1]);for(s=1;s<a-1;s++)l[s]=[],u[s]=[],l[s][s-1]=p[s-1],l[s][s]=2*(p[s-1]+p[s]),l[s][s+1]=p[s],u[s][0]=c[s];for(i=t.multiply(t.inv(l),u),o=0;o<a-1;o++)d[o]=(n[o+1]-n[o])/p[o]-p[o]*(i[o+1][0]+2*i[o][0])/3,h[o]=(i[o+1][0]-i[o][0])/(3*p[o]);for(o=0;o<a&&!(e[o]>r);o++);return n[o-=1]+(r-e[o])*d[o]+t.sq(r-e[o])*i[o]+(r-e[o])*t.sq(r-e[o])*h[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var n,r,o,i,a,s=e.length,l=e[0].length,u=0,c=[],p=[],d=[],h=[],f=[],m=[],g=[];for(u=0;u<s;u++)c[u]=t.sum(e[u])/l;for(u=0;u<l;u++)for(f[u]=[],n=0;n<s;n++)f[u][n]=e[n][u]-c[n];for(f=t.transpose(f),u=0;u<s;u++)for(m[u]=[],n=0;n<s;n++)m[u][n]=t.dot([f[u]],[f[n]])/(l-1);for(a=(o=t.jacobi(m))[0],p=o[1],g=t.transpose(a),u=0;u<p.length;u++)for(n=u;n<p.length;n++)p[u]<p[n]&&(r=p[u],p[u]=p[n],p[n]=r,d=g[u],g[u]=g[n],g[n]=d);for(i=t.transpose(f),u=0;u<s;u++)for(h[u]=[],n=0;n<i.length;n++)h[u][n]=t.dot([g[u]],[i[n]]);return[e,p,g,h]}}),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(n,r){var o=this;return r?(setTimeout(function(){r.call(o,t.fn[e].call(o,n))},15),this):"number"==typeof t[e](this,n)?t[e](this,n):t(t[e](this,n))}}(e[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(o,Math),function(t,e){var n=[].slice,r=t.utils.isNumber,o=t.utils.isArray;function i(t,n,r,o){if(t>1||r>1||t<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(t*n+r*o)/(n+o);return(t-r)/e.sqrt(i*(1-i)*(1/n+1/o))}t.extend({zscore:function(){var e=n.call(arguments);return r(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var r,i=n.call(arguments);return o(i[1])?(r=t.zscore(i[0],i[1],i[3]),1===i[2]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):i.length>2?(r=t.zscore(i[0],i[1],i[2]),1===i[3]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):(r=i[0],1===i[1]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(n,r,o){var i=e.abs(this.zscore(n,o));return 1===r?t.normal.cdf(-i,0,1):2*t.normal.cdf(-i,0,1)}}),t.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/e.sqrt(r[3])):(r[0]-t.mean(r[1]))/(t.stdev(r[1],!0)/e.sqrt(r[1].length))},ttest:function(){var o,i=n.call(arguments);return 5===i.length?(o=e.abs(t.tscore(i[0],i[1],i[2],i[3])),1===i[4]?t.studentt.cdf(-o,i[3]-1):2*t.studentt.cdf(-o,i[3]-1)):r(i[1])?(o=e.abs(i[0]),1==i[2]?t.studentt.cdf(-o,i[1]-1):2*t.studentt.cdf(-o,i[1]-1)):(o=e.abs(t.tscore(i[0],i[1])),1==i[2]?t.studentt.cdf(-o,i[1].length-1):2*t.studentt.cdf(-o,i[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-t.studentt.cdf(e.abs(this.tscore(n)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(n)),this.cols()-1)}}),t.extend({anovafscore:function(){var r,o,i,a,s,l,u,c=n.call(arguments);if(1===c.length){s=new Array(c[0].length);for(var p=0;p<c[0].length;p++)s[p]=c[0][p];c=s}if(2===c.length)return t.variance(c[0])/t.variance(c[1]);for(o=new Array,p=0;p<c.length;p++)o=o.concat(c[p]);for(i=t.mean(o),r=0,p=0;p<c.length;p++)r+=c[p].length*e.pow(t.mean(c[p])-i,2);for(r/=c.length-1,l=0,p=0;p<c.length;p++)for(a=t.mean(c[p]),u=0;u<c[p].length;u++)l+=e.pow(c[p][u]-a,2);return r/(l/=o.length-c.length)},anovaftest:function(){var e,o,i,a=n.call(arguments);if(r(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);anovafscore=t.anovafscore(a),e=a.length-1,i=0;for(var s=0;s<a.length;s++)i+=a[s].length;return o=i-e-1,1-t.centralF.cdf(anovafscore,e,o)},ftest:function(e,n,r){return 1-t.centralF.cdf(e,n,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){for(var e=0,n=0;n<this.length;n++)e+=this[n].length;return t.ftest(this.anovafscore(),this.length-1,e-this.length)}}),t.extend({qscore:function(){var o,i,a,s,l,u=n.call(arguments);return r(u[0])?(o=u[0],i=u[1],a=u[2],s=u[3],l=u[4]):(o=t.mean(u[0]),i=t.mean(u[1]),a=u[0].length,s=u[1].length,l=u[2]),e.abs(o-i)/(l*e.sqrt((1/a+1/s)/2))},qtest:function(){var e,r=n.call(arguments);3===r.length?(e=r[0],r=r.slice(1)):7===r.length?(e=t.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(e=t.qscore(r[0],r[1],r[2]),r=r.slice(3));var o=r[0],i=r[1];return 1-t.tukey.cdf(e,i,o-i)},tukeyhsd:function(e){for(var n=t.pooledstdev(e),r=e.map(function(e){return t.mean(e)}),o=e.reduce(function(t,e){return t+e.length},0),i=[],a=0;a<e.length;++a)for(var s=a+1;s<e.length;++s){var l=t.qtest(r[a],r[s],e[a].length,e[s].length,n,o,e.length);i.push([[a,s],l])}return i}}),t.extend({normalci:function(){var r,o=n.call(arguments),i=new Array(2);return r=4===o.length?e.abs(t.normal.inv(o[1]/2,0,1)*o[2]/e.sqrt(o[3])):e.abs(t.normal.inv(o[1]/2,0,1)*t.stdev(o[2])/e.sqrt(o[2].length)),i[0]=o[0]-r,i[1]=o[0]+r,i},tci:function(){var r,o=n.call(arguments),i=new Array(2);return r=4===o.length?e.abs(t.studentt.inv(o[1]/2,o[3]-1)*o[2]/e.sqrt(o[3])):e.abs(t.studentt.inv(o[1]/2,o[2].length-1)*t.stdev(o[2],!0)/e.sqrt(o[2].length)),i[0]=o[0]-r,i[1]=o[0]+r,i},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,n){return t.normalci(e,n,this.toArray())},tci:function(e,n){return t.tci(e,n,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,n,r,o){var a=i(e,n,r,o);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(e,n,r,o){var a=i(e,n,r,o);return t.ztest(a,2)}})}(o,Math),o.models=function(){function t(t,e){var n=t.length,r=e[0].length-1,i=n-r-1,a=o.lstsq(e,t),s=o.multiply(e,a.map(function(t){return[t]})).map(function(t){return t[0]}),l=o.subtract(t,s),u=o.mean(t),c=o.sum(s.map(function(t){return Math.pow(t-u,2)})),p=o.sum(t.map(function(t,e){return Math.pow(t-s[e],2)})),d=c+p;return{exog:e,endog:t,nobs:n,df_model:r,df_resid:i,coef:a,predict:s,resid:l,ybar:u,SST:d,SSE:c,SSR:p,R2:c/d}}function e(e){var n,r,i=(n=e.exog,r=n[0].length,o.arange(r).map(function(e){var i=o.arange(r).filter(function(t){return t!==e});return t(o.col(n,e).map(function(t){return t[0]}),o.col(n,i))})),a=Math.sqrt(e.SSR/e.df_resid),s=i.map(function(t){var e=t.SST,n=t.R2;return a/Math.sqrt(e*(1-n))}),l=e.coef.map(function(t,e){return(t-0)/s[e]}),u=l.map(function(t){var n=o.studentt.cdf(t,e.df_resid);return 2*(n>.5?1-n:n)}),c=o.studentt.inv(.975,e.df_resid),p=e.coef.map(function(t,e){var n=c*s[e];return[t-n,t+n]});return{se:s,t:l,p:u,sigmaHat:a,interval95:p}}return{ols:function(n,r){var i=t(n,r),a=e(i),s=function(t){var e,n,r,i=t.R2/t.df_model/((1-t.R2)/t.df_resid);return{F_statistic:i,pvalue:1-(e=i,n=t.df_model,r=t.df_resid,o.beta.cdf(e/(r/n+e),n/2,r/2))}}(i),l=1-(1-i.R2)*((i.nobs-1)/i.df_resid);return i.t=a,i.f=s,i.adjust_R2=l,i}}}(),o.jStat=o,o)},618:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(3)),s=l(n(1179));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.displayName="FontAwesome",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),o(e,[{key:"render",value:function(){var t=this.props,e=t.border,n=t.cssModule,o=t.className,a=t.fixedWidth,l=t.flip,u=t.inverse,c=t.name,p=t.pulse,d=t.rotate,h=t.size,f=t.spin,m=t.stack,g=t.tag,v=void 0===g?"span":g,y=t.ariaLabel,b=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","tag","ariaLabel"]),_=[];return n?(_.push(n.fa),_.push(n["fa-"+c]),h&&_.push(n["fa-"+h]),f&&_.push(n["fa-spin"]),p&&_.push(n["fa-pulse"]),e&&_.push(n["fa-border"]),a&&_.push(n["fa-fw"]),u&&_.push(n["fa-inverse"]),l&&_.push(n["fa-flip-"+l]),d&&_.push(n["fa-rotate-"+d]),m&&_.push(n["fa-stack-"+m])):(_.push("fa"),_.push("fa-"+c),h&&_.push("fa-"+h),f&&_.push("fa-spin"),p&&_.push("fa-pulse"),e&&_.push("fa-border"),a&&_.push("fa-fw"),u&&_.push("fa-inverse"),l&&_.push("fa-flip-"+l),d&&_.push("fa-rotate-"+d),m&&_.push("fa-stack-"+m)),o&&_.push(o),i.default.createElement(v,r({},b,{"aria-hidden":!0,className:_.join(" ")}),y?i.default.createElement("span",{style:s.default},y):null)}}]),e}();u.propTypes={ariaLabel:a.default.string,border:a.default.bool,className:a.default.string,cssModule:a.default.object,fixedWidth:a.default.bool,flip:a.default.oneOf(["horizontal","vertical"]),inverse:a.default.bool,name:a.default.string.isRequired,pulse:a.default.bool,rotate:a.default.oneOf([90,180,270]),size:a.default.oneOf(["lg","2x","3x","4x","5x"]),spin:a.default.bool,stack:a.default.oneOf(["1x","2x"]),tag:a.default.string},e.default=u,t.exports=e.default},623:function(t,e){t.exports=function t(e,n){"use strict";var r,o,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},p=c(e).replace(a,"")||"",d=c(n).replace(a,"")||"",h=p.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(p.match(l),16)||1!==h.length&&p.match(s)&&Date.parse(p),g=parseInt(d.match(l),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(h.length,f.length);v<y;v++){if(r=!(h[v]||"").match(u)&&parseFloat(h[v])||h[v]||0,o=!(f[v]||"").match(u)&&parseFloat(f[v])||f[v]||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(r>o)return 1}return 0}},644:function(t,e,n){t.exports={default:n(1180),__esModule:!0}},654:function(t,e,n){var r,o;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(o="function"==typeof(r=function(){var t,e,n,r,o,i={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function u(t,e){this._input=t,this._value=e}return(t=function(n){var r,o,a,s;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(l.zeroFormat&&n===l.zeroFormat)r=0;else if(l.nullFormat&&n===l.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(o in i)if((s="function"==typeof i[o].regexps.unformat?i[o].regexps.unformat():i[o].regexps.unformat)&&n.match(s)){a=i[o].unformat;break}r=(a=a||t._.stringToNumber)(n)}else r=Number(n)||null;return new u(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof u},t._=e={numberToFormat:function(e,n,r){var o,i,s,l,u,c,p,d,h=a[t.options.currentLocale],f=!1,m=!1,g="",v="",y=!1;if(e=e||0,s=Math.abs(e),t._.includes(n,"(")?(f=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=1e12&&!i||"t"===i?(g+=h.abbreviations.trillion,e/=1e12):s<1e12&&s>=1e9&&!i||"b"===i?(g+=h.abbreviations.billion,e/=1e9):s<1e9&&s>=1e6&&!i||"m"===i?(g+=h.abbreviations.million,e/=1e6):(s<1e6&&s>=1e3&&!i||"k"===i)&&(g+=h.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),l=e.toString().split(".")[0],u=n.split(".")[1],p=n.indexOf(","),o=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),v=t._.toFixed(e,u[0].length+u[1].length,r,u[1].length)):v=t._.toFixed(e,u.length,r),l=v.split(".")[0],v=t._.includes(v,".")?h.delimiters.decimal+v.split(".")[1]:"",m&&0===Number(v.slice(1))&&(v="")):l=t._.toFixed(e,0,r),g&&!i&&Number(l)>=1e3&&g!==h.abbreviations.trillion)switch(l=String(Number(l)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(t._.includes(l,"-")&&(l=l.slice(1),y=!0),l.length<o)for(var b=o-l.length;b>0;b--)l="0"+l;return p>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(l=""),d=l+v+(g||""),f?d=(f&&y?"(":"")+d+(f&&y?")":""):c>=0?d=0===c?(y?"-":"+")+d:d+(y?"-":"+"):y&&(d="-"+d),d},stringToNumber:function(t){var e,n,r,o=a[l.currentLocale],i=t,s={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&t===l.zeroFormat)n=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,s[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),o=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,n){var r=e.multiplier(n);return t>r?t:r},1)},toFixed:function(t,e,n,r){var o,i,a,s,l=t.toString().split("."),u=e-(r||0);return o=2===l.length?Math.min(Math.max(l[1].length,u),e):u,a=Math.pow(10,o),s=(n(t+"e+"+o)/a).toFixed(o),r>e-o&&(i=new RegExp("\\.?0{1,"+(r-(e-o))+"}$"),s=s.replace(i,"")),s}},t.options=l,t.formats=i,t.locales=a,t.locale=function(t){return t&&(l.currentLocale=t.toLowerCase()),l.currentLocale},t.localeData=function(t){if(!t)return a[l.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in s)l[t]=s[t]},t.zeroFormat=function(t){l.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){l.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){l.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,o,i,a,s,l,u,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{u=t.localeData(n)}catch(e){u=t.localeData(t.locale())}return i=u.currency.symbol,s=u.abbreviations,r=u.delimiters.decimal,o="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(c=e.match(/^[^\d]+/))&&(e=e.substr(1),c[0]!==i)||null!==(c=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),c[0]!==s.thousand&&c[0]!==s.million&&c[0]!==s.billion&&c[0]!==s.trillion)||(l=new RegExp(o+"{2}"),e.match(/[^\d.,]/g)||(a=e.split(r)).length>2||(a.length<2?!a[0].match(/^\d+.*\d$/)||a[0].match(l):1===a[0].length?!a[0].match(/^\d+$/)||a[0].match(l)||!a[1].match(/^\d+$/):!a[0].match(/^\d+.*\d$/)||a[0].match(l)||!a[1].match(/^\d+$/))))},t.fn=u.prototype={clone:function(){return t(this)},format:function(e,n){var r,o,a,s=this._value,u=e||l.defaultFormat;if(n=n||Math.round,0===s&&null!==l.zeroFormat)o=l.zeroFormat;else if(null===s&&null!==l.nullFormat)o=l.nullFormat;else{for(r in i)if(u.match(i[r].regexps.format)){a=i[r].format;break}o=(a=a||t._.numberToFormat)(s,u,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],function(t,e,r,o){return t+Math.round(n*e)},0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],function(t,e,r,o){return t-Math.round(n*e)},Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var o,i=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"BPS"),o=o.join("")):o=o+i+"BPS",o},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter(function(t){return n.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(e,o,i){var a,s,l,u=t._.includes(o,"ib")?r:n,c=t._.includes(o," b")||t._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),a=0;a<=u.suffixes.length;a++)if(s=Math.pow(u.base,a),l=Math.pow(u.base,a+1),null===e||0===e||e>=s&&e<l){c+=u.suffixes[a],s>0&&(e/=s);break}return t._.numberToFormat(e,o,i)+c},unformat:function(e){var o,i,a=t._.stringToNumber(e);if(a){for(o=n.suffixes.length-1;o>=0;o--){if(t._.includes(e,n.suffixes[o])){i=Math.pow(n.base,o);break}if(t._.includes(e,r.suffixes[o])){i=Math.pow(r.base,o);break}}a*=i||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var o,i,a=t.locales[t.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=t._.numberToFormat(e,n,r),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),i=0;i<s.before.length;i++)switch(s.before[i]){case"$":o=t._.insert(o,a.currency.symbol,i);break;case" ":o=t._.insert(o," ",i+a.currency.symbol.length-1)}for(i=s.after.length-1;i>=0;i--)switch(s.after[i]){case"$":o=i===s.after.length-1?o+a.currency.symbol:t._.insert(o,a.currency.symbol,-(s.after.length-(1+i)));break;case" ":o=i===s.after.length-1?o+" ":t._.insert(o," ",-(s.after.length-(1+i)+a.currency.symbol.length-1))}return o}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var o=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(o[0]),n,r)+"e"+o[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),o=Number(n[1]);return o=t._.includes(e,"e-")?o*=-1:o,t._.reduce([r,Math.pow(10,o)],function(e,n,r,o){var i=t._.correctionFactor(e,n);return e*i*(n*i)/(i*i)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var o=t.locales[t.options.currentLocale],i=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=o.ordinal(e),t._.numberToFormat(e,n,r)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var o,i=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"%"),o=o.join("")):o=o+i+"%",o},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),o=Math.floor((t-60*r*60)/60),i=Math.round(t-60*r*60-60*o);return r+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})?r.call(e,n,e,t):r)||(t.exports=o)},664:function(t,e,n){"use strict";var r={},o={},i=34,a=10,s=13;function l(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var u=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function u(t,e){var l,u=[],c=t.length,p=0,d=0,h=c<=0,f=!1;function m(){if(h)return o;if(f)return f=!1,r;var e,l,u=p;if(t.charCodeAt(u)===i){for(;p++<c&&t.charCodeAt(p)!==i||t.charCodeAt(++p)===i;);return(e=p)>=c?h=!0:(l=t.charCodeAt(p++))===a?f=!0:l===s&&(f=!0,t.charCodeAt(p)===a&&++p),t.slice(u+1,e-1).replace(/""/g,'"')}for(;p<c;){if((l=t.charCodeAt(e=p++))===a)f=!0;else if(l===s)f=!0,t.charCodeAt(p)===a&&++p;else if(l!==n)continue;return t.slice(u,e)}return h=!0,t.slice(u,c)}for(t.charCodeAt(c-1)===a&&--c,t.charCodeAt(c-1)===s&&--c;(l=m())!==o;){for(var g=[];l!==r&&l!==o;)g.push(l),l=m();e&&null==(g=e(g,d++))||u.push(g)}return u}function c(e){return e.map(p).join(t)}function p(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=u(t,function(t,o){if(n)return n(t,o-1);r=t,n=e?function(t,e){var n=l(t);return function(r,o){return e(n(r),o,t)}}(t,e):l(t)});return o.columns=r||[],o},parseRows:u,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(p).join(t)].concat(e.map(function(e){return n.map(function(t){return p(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(c).join("\n")}}},c=u(","),p=(c.parse,c.parseRows,c.format,c.formatRows,u("\t")),d=(p.parse,p.parseRows,p.format);p.formatRows;n.d(e,"a",function(){return d})},724:function(t,e,n){},747:function(t,e,n){},763:function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t=function(t,e){if(e%1!=0)throw new RangeError;for(var n=1;e--;)n*=t--;return n},e=function(e,n){return n>e?0:t(e,n)/t(n,n)},n=function(e){return t(e,e)},r=function(t,e){var r=1;if(e)r=n(e);else{for(e=1;r<t;r*=++e);r>t&&(r/=e--)}for(var o=[0];e;r/=e--)o[e]=Math.floor(t/r),t%=r;return o},o=function(t,e){Object.keys(e).forEach(function(n){Object.defineProperty(t,n,{value:e[n],configurable:"next"==n})})},i=function(t,e){Object.defineProperty(t,e,{writable:!0})},a=function(t){var e,n=[];for(this.init();e=this.next();)n.push(t?t(e):e);return this.init(),n},s={toArray:a,map:a,forEach:function(t){var e;for(this.init();e=this.next();)t(e);this.init()},filter:function(t){var e,n=[];for(this.init();e=this.next();)t(e)&&n.push(e);return this.init(),n},find:function(t){var e,n;for(this.init();e=this.next();)if(t(e)){n=e;break}return this.init(),n},lazyMap:function(t){return this._lazyMap=t,this},lazyFilter:function(t){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof t)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var e=this._next.bind(this);this.next=function(){for(var n;n=e();)if(t(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},l=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var a=(1<<n)-1,l=e(t.length,n),u=1<<t.length,c=function(){return l},p=Object.create(t.slice(),{length:{get:c}});return i(p,"index"),o(p,{valueOf:c,init:function(){this.index=a},next:function(){if(!(this.index>=u)){for(var t=0,e=this.index,n=[];e;e>>>=1,t++)1&e&&(n[n.length]=this[t]);return this.index=function(t){var e=t&-t,n=t+e;return n|((n&-n)/e>>1)-1}(this.index),"function"==typeof p._lazyMap?p._lazyMap(n):n}}}),o(p,s),p.init(),"function"==typeof r?p.map(r):p},u=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var a=function(t){for(var e=[],n=0;n<t;n++)e[n]=1;return e[0]=1,e}(n),l=e(t.length,n),u=t.length,c=function(){return l},p=Object.create(t.slice(),{length:{get:c}});return i(p,"index"),o(p,{valueOf:c,init:function(){this.index=a.concat()},next:function(){if(!(this.index.length>u)){for(var t=0,e=this.index,r=[],o=0;o<e.length;o++,t++)e[o]&&(r[r.length]=this[t]);return function(t,e){var n=t,r=e,o=0;for(o=n.length-1;o>=0&&1==n[o];o--)r--;if(0==r){n[n.length]=1;for(var i=n.length-2;i>=0;i--)n[i]=i<e-1?1:0}else{for(var a=-1,s=-1,o=0;o<n.length;o++)if(0==n[o]&&-1!=a&&(s=o),1==n[o]&&(a=o),-1!=s&&-1!=a){n[s]=1,n[a]=0;break}r=e;for(var o=n.length-1;o>=a;o--)1==n[o]&&r--;for(var o=0;o<a;o++)n[o]=o<r?1:0}}(this.index,n),"function"==typeof p._lazyMap?p._lazyMap(r):r}}}),o(p,s),p.init(),"function"==typeof r?p.map(r):p},c=function(t){var e=t.slice(),o=n(e.length);return e.index=0,e.next=function(){if(!(this.index>=o)){for(var t=this.slice(),n=r(this.index,this.length),i=[],a=this.length-1;a>=0;--a)i.push(t.splice(n[a],1)[0]);return this.index++,"function"==typeof e._lazyMap?e._lazyMap(i):i}},e},p=Array.prototype.slice,d=Object.create(null);return o(d,{C:e,P:t,factorial:n,factoradic:r,cartesianProduct:function(){if(!arguments.length)throw new RangeError;var t=p.call(arguments),e=t.reduce(function(t,e){return t*e.length},1),n=function(){return e},r=t.length,a=Object.create(t,{length:{get:n}});if(!e)throw new RangeError;return i(a,"index"),o(a,{valueOf:n,dim:r,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],e=0;e<r;e++){var n=arguments[e];if(n>=this[e].length)return;t.push(this[e][n])}return"function"==typeof a._lazyMap?a._lazyMap(t):t}},nth:function(t){for(var e=[],n=0;n<r;n++){var o=this[n].length,i=t%o;e.push(this[n][i]),t-=i,t/=o}return"function"==typeof a._lazyMap?a._lazyMap(e):e},next:function(){if(!(this.index>=e)){var t=this.nth(this.index);return this.index++,t}}}),o(a,s),a.init(),a},combination:l,bigCombination:u,permutation:function(e,n,r){if(n||(n=e.length),n<1)throw new RangeError;if(n>e.length)throw new RangeError;var a=t(e.length,n),p=Object.create(e.slice(),{length:{get:function(){return a}}});return i(p,"cmb"),i(p,"per"),o(p,{valueOf:function(){return a},init:function(){e.length<31?this.cmb=l(e,n):this.cmb=u(e,n),this.per=c(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var e=this.cmb.next();if(!e)return;return this.per=c(e),this.next()}return"function"==typeof p._lazyMap?p._lazyMap(t):t}}),o(p,s),p.init(),"function"==typeof r?p.map(r):p},permutationCombination:function(e,n){var r=function(e){for(var n=0,r=1;r<=e;r++){var o=t(e,r);n+=o}return n}(e.length),a=Object.create(e.slice(),{length:{get:function(){return r}}});return i(a,"cmb"),i(a,"per"),i(a,"nelem"),o(a,{valueOf:function(){return r},init:function(){this.nelem=1,this.cmb=l(e,this.nelem),this.per=c(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var n=this.cmb.next();if(!n){if(this.nelem++,this.nelem>e.length)return;if(this.cmb=l(e,this.nelem),!(n=this.cmb.next()))return}return this.per=c(n),this.next()}return"function"==typeof a._lazyMap?a._lazyMap(t):t}}),o(a,s),a.init(),"function"==typeof n?a.map(n):a},power:function(t,e){var n=1<<t.length,r=function(){return n},a=Object.create(t.slice(),{length:{get:r}});return i(a,"index"),o(a,{valueOf:r,init:function(){a.index=0},nth:function(t){if(!(t>=n)){for(var e=0,r=[];t;t>>>=1,e++)1&t&&r.push(this[e]);return"function"==typeof a._lazyMap?a._lazyMap(r):r}},next:function(){return this.nth(this.index++)}}),o(a,s),a.init(),"function"==typeof e?a.map(e):a},baseN:function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;var r=t.length,a=Math.pow(r,e),l=function(){return a},u=Object.create(t.slice(),{length:{get:l}});return i(u,"index"),o(u,{valueOf:l,init:function(){u.index=0},nth:function(n){if(!(n>=a)){for(var o=[],i=0;i<e;i++){var s=n%r;o.push(t[s]),n-=s,n/=r}return"function"==typeof u._lazyMap?u._lazyMap(o):o}},next:function(){return this.nth(this.index++)}}),o(u,s),u.init(),"function"==typeof n?u.map(n):u},VERSION:"0.5.4"}),d})?r.apply(e,o):r)||(t.exports=i)},764:function(t,e,n){var r=n(1164),o=n(1165),i=n(1166),a=n(1167),s=n(1168),l=n(1169),u=n(1170);u.alea=r,u.xor128=o,u.xorwow=i,u.xorshift7=a,u.xor4096=s,u.tychei=l,t.exports=u},766:function(t,e,n){(function(e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){var r;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";var i=[],a=n.document,s=Object.getPrototypeOf,l=i.slice,u=i.concat,c=i.push,p=i.indexOf,d={},h=d.toString,f=d.hasOwnProperty,m=f.toString,g=m.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,o,i=(n=n||a).createElement("script");if(i.text=t,e)for(r in _)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[h.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(t){var e=!!t&&"length"in t&&t.length,n=S(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.4.1",constructor:w,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var t,e,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(u&&r&&(w.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[e],i=o&&!Array.isArray(n)?[]:o||w.isPlainObject(n)?n:{},o=!1,a[e]=w.extend(u,i,r)):void 0!==r&&(a[e]=r));return a},w.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t))&&(!(e=s(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&m.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var n,r=0;if(k(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?w.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:p.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,o=t.length;r<n;r++)t[o++]=e[r];return t.length=o,t},grep:function(t,e,n){for(var r=[],o=0,i=t.length,a=!n;o<i;o++)!e(t[o],o)!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,i=0,a=[];if(k(t))for(r=t.length;i<r;i++)null!=(o=e(t[i],i,n))&&a.push(o);else for(i in t)null!=(o=e(t[i],i,n))&&a.push(o);return u.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var T=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,n,r,o,i,a,s,l,u,c,p,d,h,f,m,g,v,y,b,_="sizzle"+1*new Date,x=t.document,S=0,w=0,C=lt(),k=lt(),T=lt(),M=lt(),j=function(t,e){return t===e&&(p=!0),0},E={}.hasOwnProperty,O=[],I=O.pop,P=O.push,A=O.push,D=O.slice,R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+z+"*("+N+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+z+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",H=new RegExp(z+"+","g"),V=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),q=new RegExp("^"+z+"*,"+z+"*"),G=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),W=new RegExp(z+"|>"),U=new RegExp(B),K=new RegExp("^"+N+"$"),Y={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),nt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},at=_t(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{A.apply(O=D.call(x.childNodes),x.childNodes),O[x.childNodes.length].nodeType}catch(t){A={apply:O.length?function(t,e){P.apply(t,D.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,o){var i,s,u,c,p,f,v,y=e&&e.ownerDocument,S=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==S&&9!==S&&11!==S)return r;if(!o&&((e?e.ownerDocument||e:x)!==h&&d(e),e=e||h,m)){if(11!==S&&(p=J.exec(t)))if(i=p[1]){if(9===S){if(!(u=e.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(y&&(u=y.getElementById(i))&&b(e,u)&&u.id===i)return r.push(u),r}else{if(p[2])return A.apply(r,e.getElementsByTagName(t)),r;if((i=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(r,e.getElementsByClassName(i)),r}if(n.qsa&&!M[t+" "]&&(!g||!g.test(t))&&(1!==S||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===S&&W.test(t)){for((c=e.getAttribute("id"))?c=c.replace(rt,ot):e.setAttribute("id",c=_),s=(f=a(t)).length;s--;)f[s]="#"+c+" "+bt(f[s]);v=f.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return A.apply(r,y.querySelectorAll(v)),r}catch(e){M(t,!0)}finally{c===_&&e.removeAttribute("id")}}}return l(t.replace(V,"$1"),e,r,o)}function lt(){var t=[];return function e(n,o){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function ut(t){return t[_]=!0,t}function ct(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function pt(t,e){for(var n=t.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=e}function dt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ut(function(e){return e=+e,ut(function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},i=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!X.test(e||n&&n.nodeName||"HTML")},d=st.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:x;return a!==h&&9===a.nodeType&&a.documentElement?(f=(h=a).documentElement,m=!i(h),x!==h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=ct(function(t){return f.appendChild(t).id=_,!h.getElementsByName||!h.getElementsByName(_).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,r,o,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(o=e.getElementsByName(t),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=Q.test(h.querySelectorAll))&&(ct(function(t){f.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+z+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Q.test(f.compareDocumentPosition),b=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=e?function(t,e){if(t===e)return p=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===h||t.ownerDocument===x&&b(x,t)?-1:e===h||e.ownerDocument===x&&b(x,e)?1:c?R(c,t)-R(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return p=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,a=[t],s=[e];if(!o||!i)return t===h?-1:e===h?1:o?-1:i?1:c?R(c,t)-R(c,e):0;if(o===i)return dt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?dt(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},h):h},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==h&&d(t),n.matchesSelector&&m&&!M[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){M(e,!0)}return st(e,h,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==h&&d(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==h&&d(t);var o=r.attrHandle[e.toLowerCase()],i=o&&E.call(r.attrHandle,e.toLowerCase())?o(t,e,!m):void 0;return void 0!==i?i:n.attributes||!m?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},st.escape=function(t){return(t+"").replace(rt,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],o=0,i=0;if(p=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(j),p){for(;e=t[i++];)e===t[i]&&(o=r.push(i));for(;o--;)t.splice(r[o],1)}return c=null,t},o=st.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},(r=st.selectors={cacheLength:50,createPseudo:ut,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+z+")"+t+"("+z+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var o=st.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,p,d,h,f,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(u=(c=(p=(d=g)[_]||(d[_]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===S&&u[1])&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(b=h=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[S,h,b];break}}else if(y&&(b=h=(u=(c=(p=(d=e)[_]||(d[_]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]||[])[0]===S&&u[1]),!1===b)for(;(d=++h&&d&&d[m]||(b=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(p=d[_]||(d[_]={}))[d.uniqueID]||(p[d.uniqueID]={}))[t]=[S,b]),d!==e)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[_]?o(e):o.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,n){for(var r,i=o(t,e),a=i.length;a--;)t[r=R(t,i[a])]=!(n[r]=i[a])}):function(t){return o(t,0,n)}):o}},pseudos:{not:ut(function(t){var e=[],n=[],r=s(t.replace(V,"$1"));return r[_]?ut(function(t,e,n,o){for(var i,a=r(t,null,o,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))}):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}}),has:ut(function(t){return function(e){return st(t,e).length>0}}),contains:ut(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}}),lang:ut(function(t){return K.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt(function(){return[0]}),last:gt(function(t,e){return[e-1]}),eq:gt(function(t,e,n){return[n<0?n+e:n]}),even:gt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:gt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:gt(function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t}),gt:gt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ft(e);function yt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function _t(t,e,n){var r=e.dir,o=e.next,i=o||r,a=n&&"parentNode"===i,s=w++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,l){var u,c,p,d=[S,s];if(l){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(p=e[_]||(e[_]={}))[e.uniqueID]||(p[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[i])&&u[0]===S&&u[1]===s)return d[2]=u[2];if(c[i]=d,d[2]=t(e,n,l))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function St(t,e,n,r,o){for(var i,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),u&&e.push(s)));return a}function wt(t,e,n,r,o,i){return r&&!r[_]&&(r=wt(r)),o&&!o[_]&&(o=wt(o,i)),ut(function(i,a,s,l){var u,c,p,d=[],h=[],f=a.length,m=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!i&&e?m:St(m,d,t,s,l),v=n?o||(i?t:f||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(u=St(v,h),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(v[h[c]]=!(g[h[c]]=p));if(i){if(o||t){if(o){for(u=[],c=v.length;c--;)(p=v[c])&&u.push(g[c]=p);o(null,v=[],u,l)}for(c=v.length;c--;)(p=v[c])&&(u=o?R(i,p):d[c])>-1&&(i[u]=!(a[u]=p))}}else v=St(v===a?v.splice(f,v.length):v),o?o(null,a,v,l):A.apply(a,v)})}function Ct(t){for(var e,n,o,i=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],l=a?1:0,c=_t(function(t){return t===e},s,!0),p=_t(function(t){return R(e,t)>-1},s,!0),d=[function(t,n,r){var o=!a&&(r||n!==u)||((e=n).nodeType?c(t,n,r):p(t,n,r));return e=null,o}];l<i;l++)if(n=r.relative[t[l].type])d=[_t(xt(d),n)];else{if((n=r.filter[t[l].type].apply(null,t[l].matches))[_]){for(o=++l;o<i&&!r.relative[t[o].type];o++);return wt(l>1&&xt(d),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(V,"$1"),n,l<o&&Ct(t.slice(l,o)),o<i&&Ct(t=t.slice(o)),o<i&&bt(t))}d.push(n)}return xt(d)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,o,i,a,s,l,u,c=k[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=r.preFilter;s;){for(a in n&&!(o=q.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=G.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(o=Y[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):k(t,l).slice(0)},s=st.compile=function(t,e){var n,o=[],i=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=Ct(e[n]))[_]?o.push(s):i.push(s);(s=T(t,function(t,e){var n=e.length>0,o=t.length>0,i=function(i,a,s,l,c){var p,f,g,v=0,y="0",b=i&&[],_=[],x=u,w=i||o&&r.find.TAG("*",c),C=S+=null==x?1:Math.random()||.1,k=w.length;for(c&&(u=a===h||a||c);y!==k&&null!=(p=w[y]);y++){if(o&&p){for(f=0,a||p.ownerDocument===h||(d(p),s=!m);g=t[f++];)if(g(p,a||h,s)){l.push(p);break}c&&(S=C)}n&&((p=!g&&p)&&v--,i&&b.push(p))}if(v+=y,n&&y!==v){for(f=0;g=e[f++];)g(b,_,a,s);if(i){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=I.call(l));_=St(_)}A.apply(l,_),c&&!i&&_.length>0&&v+e.length>1&&st.uniqueSort(l)}return c&&(S=C,u=x),b};return n?ut(i):i}(i,o))).selector=t}return s},l=st.select=function(t,e,n,o){var i,l,u,c,p,d="function"==typeof t&&t,h=!o&&a(t=d.selector||t);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&m&&r.relative[l[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(i=Y.needsContext.test(t)?0:l.length;i--&&(u=l[i],!r.relative[c=u.type]);)if((p=r.find[c])&&(o=p(u.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(i,1),!(t=o.length&&bt(l)))return A.apply(n,o),n;break}}return(d||s(t,h))(o,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=_.split("").sort(j).join("")===_,n.detectDuplicates=!!p,d(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||pt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||pt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||pt(F,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),st}(n);w.find=T,w.expr=T.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=T.uniqueSort,w.text=T.getText,w.isXMLDoc=T.isXML,w.contains=T.contains,w.escapeSelector=T.escape;var M=function(t,e,n){for(var r=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&w(t).is(n))break;r.push(t)}return r},j=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=w.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return y(e)?w.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?w.grep(t,function(t){return t===e!==n}):"string"!=typeof e?w.grep(t,function(t){return p.call(e,t)>-1!==n}):w.filter(e,t,n)}w.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?w.find.matchesSelector(r,t)?[r]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,r=this.length,o=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<r;e++)if(w.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)w.find(t,o[e],n);return r>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&E.test(t)?w(t):t||[],!1).length}});var A,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),I.test(r[1])&&w.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=a.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,A=w(a);var R=/^(?:parents|prev(?:Until|All))/,F={children:!0,contents:!0,next:!0,prev:!0};function z(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,o=this.length,i=[],a="string"!=typeof t&&w(t);if(!E.test(t))for(;r<o;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?w.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?p.call(w(t),this[0]):p.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,n){return M(t,"parentNode",n)},next:function(t){return z(t,"nextSibling")},prev:function(t){return z(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,n){return M(t,"nextSibling",n)},prevUntil:function(t,e,n){return M(t,"previousSibling",n)},siblings:function(t){return j((t.parentNode||{}).firstChild,t)},children:function(t){return j(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(O(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(n,r){var o=w.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=w.filter(r,o)),this.length>1&&(F[t]||w.uniqueSort(o),R.test(t)&&o.reverse()),this.pushStack(o)}});var N=/[^\x20\t\r\n\f]+/g;function L(t){return t}function B(t){throw t}function H(t,e,n,r){var o;try{t&&y(o=t.promise)?o.call(t).done(e).fail(n):t&&y(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(N)||[],function(t,n){e[n]=!0}),e}(t):w.extend({},t);var e,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=i.length,n=!1);t.memory||(n=!1),e=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!e&&(s=i.length-1,a.push(n)),function e(n){w.each(n,function(n,r){y(r)?t.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==S(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;(n=w.inArray(e,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(t){return t?w.inArray(t,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||e||(i=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},w.extend({Deferred:function(t){var e=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(n){w.each(e,function(e,r){var o=y(t[r[4]])&&t[r[4]];i[r[1]](function(){var t=o&&o.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(t,r,o){var i=0;function a(t,e,r,o){return function(){var s=this,l=arguments,u=function(){var n,u;if(!(t<i)){if((n=r.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?o?u.call(n,a(i,e,L,o),a(i,e,B,o)):(i++,u.call(n,a(i,e,L,o),a(i,e,B,o),a(i,e,L,e.notifyWith))):(r!==L&&(s=void 0,l=[n]),(o||e.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,c.stackTrace),t+1>=i&&(r!==B&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),n.setTimeout(c))}}return w.Deferred(function(n){e[0][3].add(a(0,n,y(o)?o:L,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:L)),e[2][3].add(a(0,n,y(r)?r:B))}).promise()},promise:function(t){return null!=t?w.extend(t,o):o}},i={};return w.each(e,function(t,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,n=e,r=Array(n),o=l.call(arguments),i=w.Deferred(),a=function(t){return function(n){r[t]=this,o[t]=arguments.length>1?l.call(arguments):n,--e||i.resolveWith(r,o)}};if(e<=1&&(H(t,i.done(a(n)).resolve,i.reject,!e),"pending"===i.state()||y(o[n]&&o[n].then)))return i.then();for(;n--;)H(o[n],a(n),i.reject);return i.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&V.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},w.readyException=function(t){n.setTimeout(function(){throw t})};var q=w.Deferred();function G(){a.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),w.ready()}w.fn.ready=function(t){return q.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||q.resolveWith(a,[w]))}}),w.ready.then=q.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(w.ready):(a.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var W=function(t,e,n,r,o,i,a){var s=0,l=t.length,u=null==n;if("object"===S(n))for(s in o=!0,n)W(t,e,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,y(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(w(t),n)})),e))for(;s<l;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return o?t:u?e.call(t):l?e(t[0],n):i},U=/^-ms-/,K=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function X(t){return t.replace(U,"ms-").replace(K,Y)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $(){this.expando=w.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,o=this.cache(t);if("string"==typeof e)o[X(e)]=n;else for(r in e)o[X(r)]=e[r];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in r?[e]:e.match(N)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||w.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var Q=new $,J=new $,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return J.hasData(t)||Q.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(o=J.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=X(r.slice(5)),nt(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){J.set(this,t)}):W(this,function(e){var n;if(i&&void 0===e)return void 0!==(n=J.get(i,t))?n:void 0!==(n=nt(i,t))?n:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),w.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Q.get(t,e),n&&(!r||Array.isArray(n)?r=Q.access(t,e,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),r=n.length,o=n.shift(),i=w._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===e&&n.unshift("inprogress"),delete i.stop,o.call(t,function(){w.dequeue(t,e)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:w.Callbacks("once memory").add(function(){Q.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each(function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,o=w.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Q.get(i[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],at=a.documentElement,st=function(t){return w.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(st=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===w.css(t,"display")},ct=function(t,e,n,r){var o,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];for(i in o=n.apply(t,r||[]),e)t.style[i]=a[i];return o};function pt(t,e,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return w.css(t,e,"")},l=s(),u=n&&n[3]||(w.cssNumber[e]?"":"px"),c=t.nodeType&&(w.cssNumber[e]||"px"!==u&&+l)&&ot.exec(w.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)w.style(t,e,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,w.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var dt={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,o=dt[r];return o||(e=n.body.appendChild(n.createElement(r)),o=w.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),dt[r]=o,o)}function ft(t,e){for(var n,r,o=[],i=0,a=t.length;i<a;i++)(r=t[i]).style&&(n=r.style.display,e?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ut(r)&&(o[i]=ht(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(t[i].style.display=o[i]);return t}w.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ut(this)?w(this).show():w(this).hide()})}});var mt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?w.merge([t],n):n}function _t(t,e){for(var n=0,r=t.length;n<r;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}yt.optgroup=yt.option,yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td;var xt,St,wt=/<|&#?\w+;/;function Ct(t,e,n,r,o){for(var i,a,s,l,u,c,p=e.createDocumentFragment(),d=[],h=0,f=t.length;h<f;h++)if((i=t[h])||0===i)if("object"===S(i))w.merge(d,i.nodeType?[i]:i);else if(wt.test(i)){for(a=a||p.appendChild(e.createElement("div")),s=(gt.exec(i)||["",""])[1].toLowerCase(),l=yt[s]||yt._default,a.innerHTML=l[1]+w.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;w.merge(d,a.childNodes),(a=p.firstChild).textContent=""}else d.push(e.createTextNode(i));for(p.textContent="",h=0;i=d[h++];)if(r&&w.inArray(i,r)>-1)o&&o.push(i);else if(u=st(i),a=bt(p.appendChild(i),"script"),u&&_t(a),n)for(c=0;i=a[c++];)vt.test(i.type||"")&&n.push(i);return p}xt=a.createDocumentFragment().appendChild(a.createElement("div")),(St=a.createElement("input")).setAttribute("type","radio"),St.setAttribute("checked","checked"),St.setAttribute("name","t"),xt.appendChild(St),v.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var kt=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Mt=/^([^.]*)(?:\.(.+)|)/;function jt(){return!0}function Et(){return!1}function Ot(t,e){return t===function(){try{return a.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,n,r,o,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)It(t,s,n,r,e[s],i);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Et;else if(!o)return t;return 1===i&&(a=o,(o=function(t){return w().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),t.each(function(){w.event.add(this,e,o,r,n)})}function Pt(t,e,n){n?(Q.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var r,o,i=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(i.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=l.call(arguments),Q.set(this,e,i),r=n(this,e),this[e](),i!==(o=Q.get(this,e))||r?Q.set(this,e,!1):o={},i!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else i.length&&(Q.set(this,e,{value:w.event.trigger(w.extend(i[0],w.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&w.event.add(t,e,jt)}w.event={global:{},add:function(t,e,n,r,o){var i,a,s,l,u,c,p,d,h,f,m,g=Q.get(t);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&w.find.matchesSelector(at,o),n.guid||(n.guid=w.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(N)||[""]).length;u--;)h=m=(s=Mt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),h&&(p=w.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=w.event.special[h]||{},c=w.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:f.join(".")},i),(d=l[h])||((d=l[h]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,r,f,a)||t.addEventListener&&t.addEventListener(h,a)),p.add&&(p.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),w.event.global[h]=!0)},remove:function(t,e,n,r,o){var i,a,s,l,u,c,p,d,h,f,m,g=Q.hasData(t)&&Q.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(N)||[""]).length;u--;)if(h=m=(s=Mt.exec(e[u])||[])[1],f=(s[2]||"").split(".").sort(),h){for(p=w.event.special[h]||{},d=l[h=(r?p.delegateType:p.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,p.remove&&p.remove.call(t,c));a&&!d.length&&(p.teardown&&!1!==p.teardown.call(t,f,g.handle)||w.removeEvent(t,h,g.handle),delete l[h])}else for(h in l)w.event.remove(t,h+e[u],n,r,!0);w.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,r,o,i,a,s=w.event.fix(t),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[s.type]||[],c=w.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=w.event.handlers.call(this,s,u),e=0;(o=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((w.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,o,i,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=e[n]).selector+" "]&&(a[o]=r.needsContext?w(o,this).index(u)>-1:w.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&O(e,"input")&&Pt(e,"click",jt),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&O(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&O(e,"input")&&Q.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?jt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=jt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=jt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=jt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(t,e){w.event.special[t]={setup:function(){return Pt(this,t,Ot),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,o=t.handleObj;return r&&(r===this||w.contains(this,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),w.fn.extend({on:function(t,e,n,r){return It(this,t,e,n,r)},one:function(t,e,n,r){return It(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,w(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each(function(){w.event.remove(this,t,n,e)})}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Dt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function zt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,r,o,i,a,s,l,u;if(1===e.nodeType){if(Q.hasData(t)&&(i=Q.access(t),a=Q.set(e,i),u=i.events))for(o in delete a.handle,a.events={},u)for(n=0,r=u[o].length;n<r;n++)w.event.add(e,o,u[o][n]);J.hasData(t)&&(s=J.access(t),l=w.extend({},s),J.set(e,l))}}function Ht(t,e,n,r){e=u.apply([],e);var o,i,a,s,l,c,p=0,d=t.length,h=d-1,f=e[0],m=y(f);if(m||d>1&&"string"==typeof f&&!v.checkClone&&Rt.test(f))return t.each(function(o){var i=t.eq(o);m&&(e[0]=f.call(this,o,i.html())),Ht(i,e,n,r)});if(d&&(i=(o=Ct(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=w.map(bt(o,"script"),Nt)).length;p<d;p++)l=o,p!==h&&(l=w.clone(l,!0,!0),s&&w.merge(a,bt(l,"script"))),n.call(t[p],l,p);if(s)for(c=a[a.length-1].ownerDocument,w.map(a,Lt),p=0;p<s;p++)l=a[p],vt.test(l.type||"")&&!Q.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(Ft,""),l,c))}return t}function Vt(t,e,n){for(var r,o=e?w.filter(e,t):t,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||w.cleanData(bt(r)),r.parentNode&&(n&&st(r)&&_t(bt(r,"script")),r.parentNode.removeChild(r));return t}w.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,n){var r,o,i,a,s,l,u,c=t.cloneNode(!0),p=st(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(a=bt(c),r=0,o=(i=bt(t)).length;r<o;r++)s=i[r],l=a[r],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&mt.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(i=i||bt(t),a=a||bt(c),r=0,o=i.length;r<o;r++)Bt(i[r],a[r]);else Bt(t,c);return(a=bt(c,"script")).length>0&&_t(a,!p&&bt(t,"script")),c},cleanData:function(t){for(var e,n,r,o=w.event.special,i=0;void 0!==(n=t[i]);i++)if(Z(n)){if(e=n[Q.expando]){if(e.events)for(r in e.events)o[r]?w.event.remove(n,r):w.removeEvent(n,r,e.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Vt(this,t,!0)},remove:function(t){return Vt(this,t)},text:function(t){return W(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ht(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||zt(this,t).appendChild(t)})},prepend:function(){return Ht(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=zt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ht(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ht(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return W(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!yt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(bt(this)),n&&n.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var n,r=[],o=w(t),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),w(o[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var qt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Wt=new RegExp(it.join("|"),"i");function Ut(t,e,n){var r,o,i,a,s=t.style;return(n=n||Gt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=w.style(t,e)),!v.pixelBoxStyles()&&qt.test(a)&&Wt.test(e)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),o=36===e(t.width),c.style.position="absolute",i=12===e(c.offsetWidth/3),at.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var r,o,i,s,l,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(v,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i}}))}();var Yt=["Webkit","Moz","ms"],Xt=a.createElement("div").style,Zt={};function $t(t){var e=w.cssProps[t]||Zt[t];return e||(t in Xt?t:Zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Xt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var r=ot.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function re(t,e,n,r,o,i){var a="width"===e?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=w.css(t,n+it[a],!0,o)),r?("content"===n&&(l-=w.css(t,"padding"+it[a],!0,o)),"margin"!==n&&(l-=w.css(t,"border"+it[a]+"Width",!0,o))):(l+=w.css(t,"padding"+it[a],!0,o),"padding"!==n?l+=w.css(t,"border"+it[a]+"Width",!0,o):s+=w.css(t,"border"+it[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-i-l-s-.5))||0),l}function oe(t,e,n){var r=Gt(t),o=(!v.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,r),i=o,a=Ut(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(qt.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===w.css(t,"display",!1,r))&&t.getClientRects().length&&(o="border-box"===w.css(t,"boxSizing",!1,r),(i=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+re(t,e,n||(o?"border":"content"),i,r,a)+"px"}function ie(t,e,n,r,o){return new ie.prototype.init(t,e,n,r,o)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,i,a,s=X(e),l=Jt.test(e),u=t.style;if(l||(e=$t(s)),a=w.cssHooks[e]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,r))?o:u[e];"string"===(i=typeof n)&&(o=ot.exec(n))&&o[1]&&(n=pt(t,e,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(w.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var o,i,a,s=X(e);return Jt.test(e)||(e=$t(s)),(a=w.cssHooks[e]||w.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Ut(t,e,r)),"normal"===o&&e in ee&&(o=ee[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,n,r){if(n)return!Qt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,r):ct(t,te,function(){return oe(t,e,r)})},set:function(t,n,r){var o,i=Gt(t),a=!v.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===w.css(t,"boxSizing",!1,i),l=r?re(t,e,r,s,i):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(i[e])-re(t,e,"border",!1,i)-.5)),l&&(o=ot.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),ne(0,n,l)}}}),w.cssHooks.marginLeft=Kt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[t+it[r]+e]=i[r]||i[r-2]||i[0];return o}},"margin"!==t&&(w.cssHooks[t+e].set=ne)}),w.fn.extend({css:function(t,e){return W(this,function(t,e,n){var r,o,i={},a=0;if(Array.isArray(e)){for(r=Gt(t),o=e.length;a<o;a++)i[e[a]]=w.css(t,e[a],!1,r);return i}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=ie,ie.prototype={constructor:ie,init:function(t,e,n,r,o,i){this.elem=t,this.prop=n,this.easing=o||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=i||(w.cssNumber[n]?"":"px")},cur:function(){var t=ie.propHooks[this.prop];return t&&t.get?t.get(this):ie.propHooks._default.get(this)},run:function(t){var e,n=ie.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ie.propHooks._default.set(this),this}},ie.prototype.init.prototype=ie.prototype,ie.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[$t(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},ie.propHooks.scrollTop=ie.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ie.prototype.init,w.fx.step={};var ae,se,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function ce(){se&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,w.fx.interval),w.fx.tick())}function pe(){return n.setTimeout(function(){ae=void 0}),ae=Date.now()}function de(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)o["margin"+(n=it[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function he(t,e,n){for(var r,o=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,e,t))return r}function fe(t,e,n){var r,o,i=0,a=fe.prefilters.length,s=w.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ae||pe(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(t,[u,r,n]),r<1&&a?n:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||pe(),duration:n.duration,tweens:[],createTween:function(e,n){var r=w.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,r,o,i,a;for(n in t)if(o=e[r=X(n)],i=t[n],Array.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),(a=w.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete t[r],i)n in t||(t[n]=i[n],e[n]=o);else e[r]=o}(c,u.opts.specialEasing);i<a;i++)if(r=fe.prefilters[i].call(u,t,c,u.opts))return y(r.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,he,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return pt(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(N);for(var n,r=0,o=t.length;r<o;r++)n=t[r],fe.tweeners[n]=fe.tweeners[n]||[],fe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,o,i,a,s,l,u,c,p="width"in e||"height"in e,d=this,h={},f=t.style,m=t.nodeType&&ut(t),g=Q.get(t,"fxshow");for(r in n.queue||(null==(a=w._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,w.queue(t,"fx").length||a.empty.fire()})})),e)if(o=e[r],le.test(o)){if(delete e[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||w.style(t,r)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(h))for(r in p&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=Q.get(t,"display")),"none"===(c=w.css(t,"display"))&&(u?c=u:(ft([t],!0),u=t.style.display||u,c=w.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(t,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(t,"fxshow",{display:u}),i&&(g.hidden=!m),m&&ft([t],!0),d.done(function(){for(r in m||ft([t]),Q.remove(t,"fxshow"),h)w.style(t,r,h[r])})),l=he(m?g[r]:0,r,d),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),w.speed=function(t,e,n){var r=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var o=w.isEmptyObject(t),i=w.speed(e,n,r),a=function(){var e=fe(this,w.extend({},t),i);(o||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",i=w.timers,a=Q.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ue.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),e=!1,i.splice(o,1));!e&&n||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Q.get(this),r=n[t+"queue"],o=n[t+"queueHooks"],i=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(t,e){var n=w.fn[e];w.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(de(e,!0),t,r,o)}}),w.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ae=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){se||(se=!0,ce())},w.fx.stop=function(){se=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,e){return t=w.fx&&w.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var o=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(o)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var me,ge=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return W(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===t.getAttribute?w.prop(t,e,n):(1===i&&w.isXMLDoc(t)||(o=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(r=o.get(t,e))?r:null==(r=w.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,o=e&&e.match(N);if(o&&1===t.nodeType)for(;n=o[r++];)t.removeAttribute(n)}}),me={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ge[e]||w.find.attr;ge[e]=function(t,e,r){var o,i,a=e.toLowerCase();return r||(i=ge[a],ge[a]=o,o=null!=n(t,e,r)?a:null,ge[a]=i),o}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function be(t){return(t.match(N)||[]).join(" ")}function _e(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}w.fn.extend({prop:function(t,e){return W(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&w.isXMLDoc(t)||(e=w.propFix[e]||e,o=w.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:t[e]=n:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,l=0;if(y(t))return this.each(function(e){w(this).addClass(t.call(this,e,_e(this)))});if((e=xe(t)).length)for(;n=this[l++];)if(o=_e(n),r=1===n.nodeType&&" "+be(o)+" "){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=be(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,l=0;if(y(t))return this.each(function(e){w(this).removeClass(t.call(this,e,_e(this)))});if(!arguments.length)return this.attr("class","");if((e=xe(t)).length)for(;n=this[l++];)if(o=_e(n),r=1===n.nodeType&&" "+be(o)+" "){for(a=0;i=e[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=be(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){w(this).toggleClass(t.call(this,n,_e(this),e),e)}):this.each(function(){var e,o,i,a;if(r)for(o=0,i=w(this),a=xe(t);e=a[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=_e(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+be(_e(n))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;w.fn.extend({val:function(t){var e,n,r,o=this[0];return arguments.length?(r=y(t),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?t.call(this,n,w(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Se,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:be(w.text(t))}},select:{get:function(t){var e,n,r,o=t.options,i=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=w(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,o=t.options,i=w.makeArray(e),a=o.length;a--;)((r=o[a]).selected=w.inArray(w.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},v.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var we=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(t,e,r,o){var i,s,l,u,c,p,d,h,m=[r||a],g=f.call(t,"type")?t.type:t,v=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=l=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!we.test(g+w.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[w.expando]?t:new w.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:w.makeArray(e,[t]),d=w.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(r,e))){if(!o&&!d.noBubble&&!b(r)){for(u=d.delegateType||g,we.test(u+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(r.ownerDocument||a)&&m.push(l.defaultView||l.parentWindow||n)}for(i=0;(s=m[i++])&&!t.isPropagationStopped();)h=s,t.type=i>1?u:d.bindType||g,(p=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"))&&p.apply(s,e),(p=c&&s[c])&&p.apply&&Z(s)&&(t.result=p.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!Z(r)||c&&y(r[g])&&!b(r)&&((l=r[c])&&(r[c]=null),w.event.triggered=g,t.isPropagationStopped()&&h.addEventListener(g,Ce),r[g](),t.isPropagationStopped()&&h.removeEventListener(g,Ce),w.event.triggered=void 0,l&&(r[c]=l)),t.result}},simulate:function(t,e,n){var r=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(r,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),v.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var r=this.ownerDocument||this,o=Q.access(r,e);o||r.addEventListener(t,n,!0),Q.access(r,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Q.access(r,e)-1;o?Q.access(r,e,o):(r.removeEventListener(t,n,!0),Q.remove(r,e))}}});var ke=n.location,Te=Date.now(),Me=/\?/;w.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),e};var je=/\[\]$/,Ee=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,n,r){var o;if(Array.isArray(e))w.each(e,function(e,o){n||je.test(t)?r(t,o):Pe(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,r)});else if(n||"object"!==S(e))r(t,e);else for(o in e)Pe(t+"["+o+"]",e[o],n,r)}w.param=function(t,e){var n,r=[],o=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){o(this.name,this.value)});else for(n in t)Pe(n,t[n],e,o);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Ie.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}}):{name:e.name,value:n.replace(Ee,"\r\n")}}).get()}});var Ae=/%20/g,De=/#.*$/,Re=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,ze=/^(?:GET|HEAD)$/,Ne=/^\/\//,Le={},Be={},He="*/".concat("*"),Ve=a.createElement("a");function qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,o=0,i=e.toLowerCase().match(N)||[];if(y(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ge(t,e,n,r){var o={},i=t===Be;function a(s){var l;return o[s]=!0,w.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)}),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function We(t,e){var n,r,o=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&w.extend(!0,t,r),t}Ve.href=ke.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,w.ajaxSettings),e):We(w.ajaxSettings,t)},ajaxPrefilter:qe(Le),ajaxTransport:qe(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,i,s,l,u,c,p,d,h,f=w.ajaxSetup({},e),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=f.statusCode||{},_={},x={},S="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Fe.exec(i);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||S;return r&&r.abort(e),k(0,e),this}};if(v.promise(C),f.url=((t||f.url||ke.href)+"").replace(Ne,ke.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){u=a.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ve.protocol+"//"+Ve.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),Ge(Le,f,e,C),c)return C;for(d in(p=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ze.test(f.type),o=f.url.replace(De,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ae,"+")):(h=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(Me.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Re,"$1"),h=(Me.test(o)?"&":"?")+"_="+Te+++h),f.url=o+h),f.ifModified&&(w.lastModified[o]&&C.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&C.setRequestHeader("If-None-Match",w.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+He+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,C,f)||c))return C.abort();if(S="abort",y.add(f.complete),C.done(f.success),C.fail(f.error),r=Ge(Be,f,e,C)){if(C.readyState=1,p&&g.trigger("ajaxSend",[C,f]),c)return C;f.async&&f.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},f.timeout));try{c=!1,r.send(_,k)}catch(t){if(c)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,a,s){var u,d,h,_,x,S=e;c||(c=!0,l&&n.clearTimeout(l),r=void 0,i=s||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var r,o,i,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(f,C,a)),_=function(t,e,n,r){var o,i,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(i=c.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+i}}}return{state:"success",data:e}}(f,_,C,u),u?(f.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(w.etag[o]=x)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=_.state,d=_.data,u=!(h=_.error))):(h=S,!t&&S||(S="error",t<0&&(t=0))),C.status=t,C.statusText=(e||S)+"",u?v.resolveWith(m,[d,S,C]):v.rejectWith(m,[C,S,h]),C.statusCode(b),b=void 0,p&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,f,u?d:h]),y.fireWith(m,[C,S]),p&&(g.trigger("ajaxComplete",[C,f]),--w.active||w.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,n,r,o){return y(n)&&(o=o||r,r=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:o,data:n,success:r},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t,e){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){w(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},Ke=w.ajaxSettings.xhr();v.cors=!!Ke&&"withCredentials"in Ke,v.ajax=Ke=!!Ke,w.ajaxTransport(function(t){var e,r;if(v.cors||Ke&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ue[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ye,Xe=[],Ze=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||w.expando+"_"+Te++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(t,e,r){var o,i,a,s=!1!==t.jsonp&&(Ze.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ze,"$1"+o):!1!==t.jsonp&&(t.url+=(Me.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||w.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?w(n).removeProp(o):n[o]=i,t[o]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(o)),a&&y(i)&&i(a[0]),a=i=void 0}),"script"}),v.createHTMLDocument=((Ye=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=!n&&[],(o=I.exec(t))?[e.createElement(o[1])]:(o=Ct([t],e,i),i&&i.length&&w(i).remove(),w.merge([],o.childNodes)));var r,o,i},w.fn.load=function(t,e,n){var r,o,i,a=this,s=t.indexOf(" ");return s>-1&&(r=be(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&w.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){i=arguments,a.html(r?w("<div>").append(w.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,i||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,n){var r,o,i,a,s,l,u=w.css(t,"position"),c=w(t),p={};"static"===u&&(t.style.position="relative"),s=c.offset(),i=w.css(t,"top"),l=w.css(t,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),y(e)&&(e=e.call(t,n,w.extend({},s))),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+o),"using"in e?e.using.call(t,p):c.css(p)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],o={top:0,left:0};if("fixed"===w.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((o=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),o.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-w.css(r,"marginTop",!0),left:e.left-o.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||at})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;w.fn[t]=function(r){return W(this,function(t,r,o){var i;if(b(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===o)return i?i[e]:t[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o},t,r,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=Kt(v.pixelPosition,function(t,n){if(n)return n=Ut(t,e),qt.test(n)?w(t).position()[e]+"px":n})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){w.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return W(this,function(e,n,o){var i;return b(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?w.css(e,n,s):w.style(e,n,o,s)},e,a?o:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),w.proxy=function(t,e){var n,r,o;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=l.call(arguments,2),(o=function(){return t.apply(e||this,r.concat(l.call(arguments)))}).guid=t.guid=t.guid||w.guid++,o},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=O,w.isFunction=y,w.isWindow=b,w.camelCase=X,w.type=S,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return w}.apply(e,[]))||(t.exports=r);var $e=n.jQuery,Qe=n.$;return w.noConflict=function(t){return n.$===w&&(n.$=Qe),t&&n.jQuery===w&&(n.jQuery=$e),w},o||(n.jQuery=n.$=w),w})},function(t,e){var n={EPSILON:1e-6};n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){var r=n(26),o=n(27),i=n(3),a=function(t){if(t.indexOf("rgb(")>-1||t.indexOf("url(")>-1)return{rgb:t,opacity:1};var e=i(t);return{rgb:"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")",opacity:e[3]}};var s,l=(s=0,function(){return s+=1});t.exports={text:function(t,e,n,o,i,a,s){var l=o=o||12;"middle"===s?l=o/2:"bottom"===s&&(l=0);var u=r("text",{x:e||0,y:(n||0)+l,"font-size":o,"font-family":i||"serif","font-weight":a||"normal","text-anchor":"start"});return u.textContent=t+"",u},group:function(t,e){return r("g",{transform:"translate("+(t=t||0)+","+(e=e||0)+")"})},svg:function(t,e){return r("svg",{width:t||0,height:e||0})},wrapText:function(t,e){var n=t.textContent;t.textContent="";var o=n.split(" "),i=0,a=r("tspan",{x:"0",dy:i});t.appendChild(a);for(var s=[],l=0;l<o.length;l++)s.push(o[l]),a.textContent=s.join(" "),a.getComputedTextLength()>e&&(a.textContent=s.slice(0,s.length-1).join(" "),i=t.getBBox().height,s=[o[l]],a=r("tspan",{x:"0",dy:i}),t.appendChild(a),a.textContent=o[l])},fromShape:function(t,e,n){return o(t,e,n)},polygon:function(t,e){return e=a(e),r("polygon",{points:t,fill:e.rgb,"fill-opacity":e.opacity})},rect:function(t,e,n,o,i){return i=a(i),r("rect",{x:t,y:e,width:n,height:o,fill:i.rgb,"fill-opacity":i.opacity})},bgrect:function(t,e,n){return n=a(n),r("rect",{width:t,height:e,fill:n.rgb,"fill-opacity":n.opacity})},path:function(t,e,n,o){(t=t.map(function(t){return t.join(",")}))[0]="M"+t[0];for(var i=1;i<t.length;i++)t[i]="L"+t[i];return o||(e=a(e),n=a(n)),r("path",{d:t.join(" "),stroke:o?"url(#"+o.getAttribute("id")+")":e.rgb,"stroke-opacity":o?0:e.opacity,fill:o?"url(#"+o.getAttribute("id")+")":n.rgb,"fill-opacity":o?1:n.opacity})},stop:function(t,e){var n=a(e);return r("stop",{offset:t+"%","stop-color":n.rgb,"stop-opacity":n.opacity})},linearGradient:function(){return r("linearGradient",{id:"linearGradient"+l()})},defs:function(){return r("defs")},gradient:function(t){for(var e=r("linearGradient",{id:"gradient"+l(),x1:0,y1:0,x2:1,y2:0}),n=0;n<=100;n++)e.appendChild(this.stop(n,t(n/100)));return e}}},function(t,e){t.exports=function(t){var e=[0,0,0,1];"#"===t[0]&&(t="rgba("+parseInt(t[1]+t[2],16)+","+parseInt(t[3]+t[4],16)+","+parseInt(t[5]+t[6],16)+",1)");var n=t.match(/^[\s]*rgba\([\s]*([0-9.]+)[\s]*,[\s]*([0-9.]+)[\s]*,[\s]*([0-9.]+)[\s]*,[\s]*([0-9.]+)[\s]*\)[\s]*$/);return n&&5===n.length&&(e=[parseFloat(n[1])/255,parseFloat(n[2])/255,parseFloat(n[3])/255,parseFloat(n[4])]),e}},function(t,e){t.exports=function(t,e,n,r){if(!t.length)return-1;for(var o,i=t.length,a=0;a<i;){var s=n(t[o=Math.floor((i+a)/2)]);if(s===e)return o;if(e>s)a=o+1;else{if(!(e<s))return-1;i=o}}return r?Math.max(0,a-1):-1}},function(t,e){var n=function(){function t(t,e){this.value=t,this.updateFn=e,this.bound_properties=[]}return t.prototype.update=function(){this.value=this.updateFn.apply(null,arguments);for(var t=0;t<this.bound_properties.length;t++)this.bound_properties[t].update()},t.prototype.get=function(){return this.value},t.prototype.updateAndGet=function(){return this.update(),this.get()},t.prototype.addBoundProperty=function(t){this.bound_properties.push(t)},t}();t.exports=n},function(t,e){t.exports={cloneShallow:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},doesCellIntersectPixel:function(t,e){var n=t[0];return!(t[1]<e)&&n<e+1}}},function(t,e,n){e.glMatrix=n(1),e.mat2=n(21),e.mat2d=n(22),e.mat3=n(8),e.mat4=n(23),e.quat=n(24),e.vec2=n(25),e.vec3=n(9),e.vec4=n(10)},function(t,e,n){var r=n(1),o={create:function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},fromValues:function(t,e,n,o,i,a,s,l,u){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=o,c[4]=i,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c},set:function(t,e,n,r,o,i,a,s,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=c*a-s*u,d=-c*i+s*l,h=u*i-a*l,f=n*p+r*d+o*h;return f?(f=1/f,t[0]=p*f,t[1]=(-c*r+o*u)*f,t[2]=(s*r-o*a)*f,t[3]=d*f,t[4]=(c*n-o*l)*f,t[5]=(-s*n+o*i)*f,t[6]=h*f,t[7]=(-u*n+r*l)*f,t[8]=(a*n-r*i)*f,t):null},adjoint:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=o*u-r*c,t[2]=r*s-o*a,t[3]=s*l-i*c,t[4]=n*c-o*l,t[5]=o*i-n*s,t[6]=i*u-a*l,t[7]=r*l-n*u,t[8]=n*a-r*i,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*i-a*l)+n*(-u*o+a*s)+r*(l*o-i*s)},multiply:function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=n[0],h=n[1],f=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],_=n[8];return t[0]=d*r+h*a+f*u,t[1]=d*o+h*s+f*c,t[2]=d*i+h*l+f*p,t[3]=m*r+g*a+v*u,t[4]=m*o+g*s+v*c,t[5]=m*i+g*l+v*p,t[6]=y*r+b*a+_*u,t[7]=y*o+b*s+_*c,t[8]=y*i+b*l+_*p,t}};o.mul=o.multiply,o.translate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=n[0],h=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=d*r+h*a+u,t[7]=d*o+h*s+c,t[8]=d*i+h*l+p,t},o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=Math.sin(n),h=Math.cos(n);return t[0]=h*r+d*a,t[1]=h*o+d*s,t[2]=h*i+d*l,t[3]=h*a-d*r,t[4]=h*s-d*o,t[5]=h*l-d*i,t[6]=u,t[7]=c,t[8]=p,t},o.scale=function(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,p=r*s,d=o*a,h=o*s,f=o*l,m=i*a,g=i*s,v=i*l;return t[0]=1-p-f,t[3]=c-v,t[6]=d+g,t[1]=c+v,t[4]=1-u-f,t[7]=h-m,t[2]=d-g,t[5]=h+m,t[8]=1-u-p,t},o.normalFromMat4=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],d=e[10],h=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,S=r*u-i*s,w=o*u-i*l,C=c*m-p*f,k=c*g-d*f,T=c*v-h*f,M=p*g-d*m,j=p*v-h*m,E=d*v-h*g,O=y*E-b*j+_*M+x*T-S*k+w*C;return O?(O=1/O,t[0]=(s*E-l*j+u*M)*O,t[1]=(l*T-a*E-u*k)*O,t[2]=(a*j-s*T+u*C)*O,t[3]=(o*j-r*E-i*M)*O,t[4]=(n*E-o*T+i*k)*O,t[5]=(r*T-n*j-i*C)*O,t[6]=(m*w-g*S+v*x)*O,t[7]=(g*_-f*w-v*b)*O,t[8]=(f*S-m*_+v*y)*O,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],d=e[0],h=e[1],f=e[2],m=e[3],g=e[4],v=e[5],y=t[6],b=e[7],_=e[8];return Math.abs(n-d)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(p-_)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(_))},t.exports=o},function(t,e,n){var r,o=n(1),i={};i.create=function(){var t=new o.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new o.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var r=new o.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2];return t[0]=o*l-i*s,t[1]=i*a-r*l,t[2]=r*s-o*a,t},i.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return t[0]=e[0]*s+n[0]*l+r[0]*u+o[0]*c,t[1]=e[1]*s+n[1]*l+r[1]*u+o[1]*c,t[2]=e[2]*s+n[2]*l+r[2]*u+o[2]*c,t},i.bezier=function(t,e,n,r,o,i){var a=1-i,s=a*a,l=i*i,u=s*a,c=3*i*s,p=3*l*a,d=l*i;return t[0]=e[0]*u+n[0]*c+r[0]*p+o[0]*d,t[1]=e[1]*u+n[1]*c+r[1]*p+o[1]*d,t[2]=e[2]*u+n[2]*c+r[2]*p+o[2]*d,t},i.random=function(t,e){e=e||1;var n=2*o.RANDOM()*Math.PI,r=2*o.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},i.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,p=u*o+l*r-a*i,d=u*i+a*o-s*r,h=-a*r-s*o-l*i;return t[0]=c*u+h*-a+p*-l-d*-s,t[1]=p*u+h*-s+d*-a-c*-l,t[2]=d*u+h*-l+c*-s-p*-a,t},i.rotateX=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},i.rotateY=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},i.rotateZ=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},i.forEach=(r=i.create(),function(t,e,n,o,i,a){var s,l;for(e||(e=3),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t}),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},t.exports=i},function(t,e,n){var r,o=n(1),i={};i.create=function(){var t=new o.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},i.clone=function(t){var e=new o.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},i.fromValues=function(t,e,n,r){var i=new o.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},i.set=function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=o.RANDOM(),t[1]=o.RANDOM(),t[2]=o.RANDOM(),t[3]=o.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,p=u*o+l*r-a*i,d=u*i+a*o-s*r,h=-a*r-s*o-l*i;return t[0]=c*u+h*-a+p*-l-d*-s,t[1]=p*u+h*-s+d*-a-c*-l,t[2]=d*u+h*-l+c*-s-p*-a,t[3]=e[3],t},i.forEach=(r=i.create(),function(t,e,n,o,i,a){var s,l;for(e||(e=4),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],r[3]=t[s+3],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2],t[s+3]=r[3];return t}),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-l)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-u)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},t.exports=i},function(t,e){var n=function(){var t={width:"100%",height:"100%",x:"0%",y:"0%",z:0,x1:"0%",x2:"0%",x3:"0%",y1:"0%",y2:"0%",y3:"0%",stroke:"rgba(0,0,0,0)",fill:"rgba(23,23,23,1)","stroke-width":"0","stroke-opacity":"0"},e={"stroke-width":0,width:0,x:0,x1:0,x2:0,x3:0,height:1,y:1,y1:1,y2:1,y3:1},n=Object.keys(t).concat("type");function r(t){this.params=t,this.params_with_type={},this.completeWithDefaults(),this.markParameterTypes()}var o,i=(o={},function(t){var e=r.hashComputedShape(t);return o[e]=o[e]||Object.freeze(t),o[e]});return r.prototype.completeWithDefaults=function(){for(var e=this.getRequiredParameters(),n=0;n<e.length;n++){var r=e[n];this.params[r]=void 0===this.params[r]?t[r]:this.params[r]}},r.prototype.markParameterTypes=function(){for(var t=Object.keys(this.params),e=0;e<t.length;e++){var n=t[e],r=this.params[n];this.params_with_type[n]="function"==typeof r?{type:"function",value:r}:{type:"value",value:r}}},r.prototype.getComputedParams=function(t,n,r){for(var o={},a=Object.keys(this.params_with_type),s=[n,r],l=0;l<a.length;l++){var u=a[l],c=this.params_with_type[u],p=c.value;"type"!==u&&("function"===c.type&&(p=p(t)),"%"===p[p.length-1]&&(p="100%"===p?1:parseFloat(p)/100,p*=s[e[u]])),o[u]=p}return i(o)},r.hashComputedShape=function(t,e){return n.reduce(function(e,n){return e+","+t[n]},"")+","+e},r}(),r=function(){function t(t){n.call(this,t)}return t.prototype=Object.create(n.prototype),t.prototype.getRequiredParameters=function(){return["width","height","x","y","z","stroke","fill","stroke-width"]},t}(),o=function(){function t(t){n.call(this,t)}return t.prototype=Object.create(n.prototype),t.prototype.getRequiredParameters=function(){return["x1","x2","x3","y1","y2","y3","z","stroke","fill","stroke-width"]},t}(),i=function(){function t(t){n.call(this,t)}return t.prototype=Object.create(n.prototype),t.prototype.getRequiredParameters=function(){return["width","height","x","y","z","stroke","fill","stroke-width"]},t}(),a=function(){function t(t){n.call(this,t)}return t.prototype=Object.create(n.prototype),t.prototype.getRequiredParameters=function(){return["x1","x2","y1","y2","z","stroke","stroke-width"]},t}();t.exports={Rectangle:r,Triangle:o,Ellipse:i,Line:a,Shape:n}},function(t,e,n){n(13);var r=n(14),o=n(20),i=n(29),a=n(30),s=n(32),l=n(34),u=n(35),c=n(36),p=n(37),d=n(2),h=n(0),f=function(t,e,n){return Math.min(Math.max(t,e),n)},m=function(){var t,e=(t=0,function(){return t+=1});function n(t,e){var n=this;if(this.destroyed=!1,this.webgl_unavailable=null===document.createElement("canvas").getContext("experimental-webgl"),this.webgl_unavailable)h(t).append("<p class='oncoprintjs__webgl_unavailable_message'>WebGL context cannot be retrieved, so oncoprint cannot be used. Please visit <a href='http://webglreport.com'>WebGL Report</a> to explore your browsers WebGL capabilities.</p>");else{this.ctr_selector=t;var a,d,m=h("<span></span>").css({position:"relative",display:"inline-block"}).appendTo(t),g=h("<div></div>").css({position:"absolute",display:"inline-block"}).appendTo(m),v=h("<span></span>").css({position:"fixed",top:0,left:0,"z-index":99999}).appendTo(t),b=h("<div></div>").css({position:"absolute",display:"inline-block",top:0,left:0,"min-height":1}).appendTo(m),C=h("<canvas></canvas>").css({display:"inline-block",position:"absolute",left:"0px",top:"0px"}).addClass("noselect").attr({width:"150",height:"250"}),k=h("<div></div>").css({position:"absolute",left:"150px",top:"0px"}).addClass("noselect").attr({width:"50",height:"250"}),T=h("<div></div>").css({position:"absolute",top:"250px","min-height":1}).addClass("noselect oncoprint-legend-div"),j=h("<div>").css({width:e,display:"inline-block",position:"absolute",left:"200px",top:"0px"}).addClass("noselect"),E=h("<canvas></canvas>").attr({width:"0px",height:"0px"}).css({position:"absolute",top:"0px",left:"0px"}).addClass("noselect"),O=h("<div>").css({position:"absolute","overflow-x":"scroll","overflow-y":"scroll",top:"0",left:"0px",height:"1px"}).addClass("oncoprintjs__scroll_div"),I=h("<div>").appendTo(O),P=h("<canvas></canvas>").attr({width:"0px",height:"0px"}).css({position:"absolute",top:"0px",left:"0px"}).addClass("noselect").addClass("oncoprintjs__cell_overlay_div"),A=h("<div>").css({position:"absolute"}),D=h("<div>").css({position:"absolute",outline:"solid 1px black",display:"none"}).addClass("noselect"),R=h("<canvas></canvas>").attr("width",300).attr("height",300).css({position:"absolute",top:"0px",left:"0px","z-index":0}).addClass("noselect"),F=h("<canvas></canvas>").attr("width",300).attr("height",300).css({position:"absolute",top:"0px",left:"0px","z-index":1}).addClass("noselect");C.appendTo(g),j.appendTo(g),k.appendTo(g),A.appendTo(g),T.appendTo(b),D.appendTo(m),E.appendTo(j),P.appendTo(j),O.appendTo(j),O.on("mousemove mousedown mouseup",function(t){P.trigger(t)}),R.appendTo(D),F.appendTo(D),this.$ctr=m,this.$oncoprint_ctr=g,this.$cell_div=j,this.$legend_div=T,this.$track_options_div=k,this.$track_info_div=A,this.$dummy_scroll_div=O,this.$minimap_div=D,this.$cell_canvas=E,this.$cell_overlay_canvas=P,this.model=new r,this.cell_view=new o(j,E,P,I,this.model,new u(v),function(t,e){var r=n.model.getIdsInLeftInterval(t,e);n.setHorzZoom(n.model.getHorzZoomToFit(n.cell_view.visible_area_width,r)),n.$dummy_scroll_div.scrollLeft(n.model.getZoomedColumnLeft(r[0])),n.id_clipboard=r},(a=null,d=null,function(t){null===t?(d=null,n.highlightTrack(null),clearTimeout(a)):d!==t&&(n.highlightTrack(null),clearTimeout(a),d=t,a=setTimeout(function(){n.highlightTrack(d)},250))})),this.minimap_view=new p(D,R,F,this.model,this.cell_view,150,150,function(t,e){n.setScroll(t,e)},function(t){n.setViewport(t.col,t.scroll_y_proportion,t.num_cols,t.zoom_y)},function(t){var e=n.cell_view.getViewportOncoprintSpace(n.model),r=(e.left+e.right)/2,o=Math.floor(r/(n.model.getCellWidth(!0)+n.model.getCellPadding(!0)));n.setHorzZoom(t);var i=n.cell_view.getViewportOncoprintSpace(n.model),a=o*(n.model.getCellWidth()+n.model.getCellPadding()),s=n.model.getHorzZoom()*(i.right-i.left)/2;n.setHorzScroll(a-s)},function(t){var e=n.cell_view.getViewportOncoprintSpace(n.model),r=(e.top+e.bottom)/2;n.setVertZoom(t);var o=n.cell_view.getViewportOncoprintSpace(n.model),i=n.model.getVertZoom()*(o.bottom-o.top)/2;n.setVertScroll(r*n.model.getVertZoom()-i)},function(){w(n);var t=n.model.getZoomedColumnLeft();n.setHorzScroll(Math.min.apply(null,n.keep_horz_zoomed_to_fit_ids.map(function(e){return t[e]})))},function(){n.setMinimapVisible(!1)}),this.track_options_view=new s(k,function(t){var e=n.model.getContainingTrackGroup(t),r=e.indexOf(t);if(r>0){var o=null;r>=2&&(o=e[r-2]),n.moveTrack(t,o)}},function(t){var e=n.model.getContainingTrackGroup(t),r=e.indexOf(t);r<e.length-1&&n.moveTrack(t,e[r+1])},function(t){n.removeTrack(t)},function(t,e){n.setTrackSortDirection(t,e)},function(t){n.removeExpansionTracksFor(t)}),this.track_info_view=new c(A,new u(v)),this.label_view=new i(C,this.model,new u(v,{noselect:!0})),this.label_view.setDragCallback(function(t,e){n.moveTrack(t,e)}),this.legend_view=new l(T,10,20),this.keep_sorted=!1,this.keep_horz_zoomed_to_fit=!1,this.keep_horz_zoomed_to_fit_ids=[];var z;this.cell_view,this.model;this.target_dummy_scroll_left=0,this.target_dummy_scroll_top=0,z=n,O.scroll(function(t){var e=O.scrollLeft(),r=O.scrollTop();if(e!==n.target_dummy_scroll_left||r!==n.target_dummy_scroll_top){n.target_dummy_scroll_left=e,n.target_dummy_scroll_top=r;var o=S(z),i=o.left,a=o.top,s=i>0?e/i:0,l=a>0?r/a:0;s=f(s,0,1),l=f(l,0,1);var u=_(n),c=x(n),p=Math.round(u*s),d=Math.round(c*l);n.keep_horz_zoomed_to_fit=!1,M(n,p,d)}}),this.horz_zoom_callbacks=[],this.minimap_close_callbacks=[],this.onWindowResize=function(){y(n)},h(window).on("resize",this.onWindowResize),this.id_clipboard=[],this.clipboard_change_callbacks=[],this.pending_resize_and_organize=!1}}var m=function(t){t.model.rendering_suppressed_depth>0||t.$legend_div.css({top:t.model.getCellViewHeight()+30})},g=function(t){t.model.rendering_suppressed_depth>0||setTimeout(function(){v(t),m(t)},0)},v=function(t){t.$ctr.css({"min-height":t.model.getCellViewHeight()+Math.max(t.$legend_div.outerHeight(),t.$minimap_div.is(":visible")?t.$minimap_div.outerHeight():0)+30})},y=function(t,e){if(!(t.model.rendering_suppressed_depth>0)){var n=h(t.ctr_selector).width();if(0!==n){t.$track_options_div.css({left:t.label_view.getWidth()}),t.$track_info_div.css({left:t.label_view.getWidth()+t.track_options_view.getWidth()});var r=t.label_view.getWidth()+t.track_options_view.getWidth()+t.track_info_view.getWidth();t.$cell_div.css("left",r),t.cell_view.setWidth(n-r-20,t.model),m(t),t.legend_view.setWidth(n-t.$minimap_div.outerWidth()-20,t.model),v(t),t.$ctr.css({"min-width":n}),setTimeout(function(){t.keep_horz_zoomed_to_fit&&w(t),e&&e()},0)}else t.pending_resize_and_organize=!0}},b=function(t,e){t.model.rendering_suppressed_depth>0||setTimeout(function(){y(t,e)},0)},_=function(t){return Math.max(0,t.model.getOncoprintWidth()-t.cell_view.getWidth())},x=function(t){return Math.max(0,t.model.getOncoprintHeight()-t.model.getCellViewHeight())},S=function(t){var e=t.cell_view.getDummyScrollDivClientSize();return{left:Math.max(0,t.$dummy_scroll_div[0].scrollWidth-e.width),top:Math.max(0,t.$dummy_scroll_div[0].scrollHeight-e.height)}};n.prototype.setMinimapVisible=function(t){this.webgl_unavailable||this.destroyed||(t?this.$minimap_div.css({display:"block",top:this.model.getCellViewHeight()+30,left:h(this.ctr_selector).width()-this.$minimap_div.outerWidth()-10}):(this.$minimap_div.css("display","none"),T(this)),b(this))},n.prototype.scrollTo=function(t){this.webgl_unavailable||this.destroyed||this.$dummy_scroll_div.scrollLeft(t)},n.prototype.onHorzZoom=function(t){this.webgl_unavailable||this.destroyed||this.horz_zoom_callbacks.push(t)},n.prototype.onMinimapClose=function(t){this.webgl_unavailable||this.destroyed||this.minimap_close_callbacks.push(t)},n.prototype.moveTrack=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.moveTrack(t,e),this.cell_view.moveTrack(this.model),this.label_view.moveTrack(this.model),this.track_options_view.moveTrack(this.model),this.track_info_view.moveTrack(this.model),this.minimap_view.moveTrack(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected([t,e],"track")&&this.sort(),b(this))},n.prototype.setTrackGroupOrder=function(t,e,n){this.webgl_unavailable||this.destroyed||(this.model.setTrackGroupOrder(t,e),this.cell_view.setTrackGroupOrder(this.model),this.label_view.setTrackGroupOrder(this.model),this.track_options_view.setTrackGroupOrder(this.model),this.track_info_view.setTrackGroupOrder(this.model),!n&&this.keep_sorted&&this.model.isSortAffected(t,"group")&&this.sort(),b(this))},n.prototype.setTrackGroupLegendOrder=function(t){this.webgl_unavailable||this.destroyed||(this.model.setTrackGroupLegendOrder(t),this.legend_view.setTrackGroupLegendOrder(this.model),b(this))},n.prototype.keepSorted=function(t){this.webgl_unavailable||this.destroyed||(this.keep_sorted=void 0===t||t,this.keep_sorted&&this.sort())},n.prototype.addTracks=function(t){if(!this.webgl_unavailable&&!this.destroyed){var n=[];return t=t.map(function(t){return t.track_id=e(),t.rule_set=a(t.rule_set_params),n.push(t.track_id),t}),this.model.addTracks(t),this.cell_view.addTracks(this.model,n),this.label_view.addTracks(this.model,n),this.track_options_view.addTracks(this.model),this.track_info_view.addTracks(this.model),this.legend_view.addTracks(this.model),this.minimap_view.addTracks(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected(n,"track")&&this.sort(),b(this),n}},n.prototype.removeTrack=function(t){this.webgl_unavailable||this.destroyed||(this.model.removeTrack(t),this.cell_view.removeTrack(this.model,t),this.label_view.removeTrack(this.model,t),this.track_options_view.removeTrack(this.model,t),this.track_info_view.removeTrack(this.model),this.legend_view.removeTrack(this.model),this.minimap_view.removeTrack(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort(),b(this))},n.prototype.removeTracks=function(t){if(!this.webgl_unavailable&&!this.destroyed){this.keepSorted(!1),this.suppressRendering();for(var e=0;e<t.length;e++)this.removeTrack(t[e]);this.keepSorted(!0),this.releaseRendering()}},n.prototype.getTracks=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTracks().slice()},n.prototype.removeAllTracks=function(){if(!this.webgl_unavailable&&!this.destroyed){var t=this.model.getTracks();this.removeTracks(t)}},n.prototype.removeExpansionTracksFor=function(t){this.removeTracks(this.model.track_expansion_tracks[t].slice())},n.prototype.disableTrackExpansion=function(t){this.model.disableTrackExpansion(t)},n.prototype.enableTrackExpansion=function(t){this.model.enableTrackExpansion(t)},n.prototype.removeAllExpansionTracksInGroup=function(t){var e,n=this.model.getTrackGroups()[t],r=[];for(e=0;e<n.length;e++)this.model.isTrackExpanded(n[e])&&r.push(n[e]);for(this.suppressRendering(),e=0;e<r.length;e++)this.removeExpansionTracksFor(r[e]);this.releaseRendering()},n.prototype.setHorzZoomToFit=function(t){this.webgl_unavailable||this.destroyed||(this.keep_horz_zoomed_to_fit=!0,this.updateHorzZoomToFitIds(t),w(this))},n.prototype.updateHorzZoomToFitIds=function(t){this.webgl_unavailable||this.destroyed||(this.keep_horz_zoomed_to_fit_ids=t.slice(),this.keep_horz_zoomed_to_fit&&w(this))};var w=function(t){t.setHorzZoom(C(t,t.keep_horz_zoomed_to_fit_ids),!0)},C=function(t,e){return e=e||[],t.model.getHorzZoomToFit(t.cell_view.visible_area_width,e)},k=function(t){for(var e=0;e<t.horz_zoom_callbacks.length;e++)t.horz_zoom_callbacks[e](t.model.getHorzZoom())},T=function(t){for(var e=0;e<t.minimap_close_callbacks.length;e++)t.minimap_close_callbacks[e]()};n.prototype.getHorzZoom=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getHorzZoom()},n.prototype.setHorzZoom=function(t,e){if(!this.webgl_unavailable&&!this.destroyed)return this.keep_horz_zoomed_to_fit=this.keep_horz_zoomed_to_fit&&e,this.model.setHorzZoom(t),this.cell_view.setHorzZoom(this.model),this.minimap_view.setHorzZoom(this.model,this.cell_view),k(this),this.model.getHorzZoom()},n.prototype.getVertZoom=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getVertZoom()},n.prototype.setVertZoom=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.setVertZoom(t),this.cell_view.setVertZoom(this.model,t),this.label_view.setVertZoom(this.model,t),this.track_info_view.setVertZoom(this.model),this.track_options_view.setVertZoom(this.model),this.minimap_view.setVertZoom(this.model,this.cell_view),b(this),this.model.getVertZoom()};var M=function(t,e,n){e=Math.min(e,_(t)),n=Math.min(n,x(t)),t.model.setScroll(e,n),t.cell_view.setScroll(t.model),t.label_view.setScroll(t.model),t.track_info_view.setScroll(t.model),t.track_options_view.setScroll(t.model),t.minimap_view.setScroll(t.model,t.cell_view)},j=function(t){var e=t.model.getHorzScroll(),n=t.model.getVertScroll(),r=_(t),o=x(t),i=r>0?e/r:0,a=o>0?n/o:0;i=f(i,0,1),a=f(a,0,1);var s=S(t),l=s.left,u=s.top;t.target_dummy_scroll_left=Math.round(i*l),t.target_dummy_scroll_top=Math.round(a*u),t.$dummy_scroll_div.scrollLeft(t.target_dummy_scroll_left),t.$dummy_scroll_div.scrollTop(t.target_dummy_scroll_top)};return n.prototype.setScroll=function(t,e){this.webgl_unavailable||this.destroyed||(M(this,t,e),j(this))},n.prototype.setZoom=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setZoom(t,e),this.cell_view.setZoom(this.model),this.label_view.setZoom(this.model),this.track_info_view.setZoom(this.model),this.track_options_view.setZoom(this.model),this.minimap_view.setZoom(this.model,this.cell_view))},n.prototype.setHorzScroll=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.setHorzScroll(Math.min(t,_(this))),this.cell_view.setHorzScroll(this.model),this.label_view.setHorzScroll(this.model),this.track_info_view.setHorzScroll(this.model),this.track_options_view.setHorzScroll(this.model),this.minimap_view.setHorzScroll(this.model,this.cell_view),j(this),this.model.getHorzScroll()},n.prototype.setVertScroll=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.setVertScroll(Math.min(t,x(this))),this.cell_view.setVertScroll(this.model),this.label_view.setVertScroll(this.model),this.track_info_view.setVertScroll(this.model),this.track_options_view.setVertScroll(this.model),this.minimap_view.setVertScroll(this.model,this.cell_view),j(this),this.model.getVertScroll()},n.prototype.setViewport=function(t,e,n,r){if(!this.webgl_unavailable&&!this.destroyed){var o=this.model.getHorzZoomToFitNumCols(this.cell_view.getWidth(),n);this.setZoom(o,r);var i=Math.min(t*(this.model.getCellWidth()+this.model.getCellPadding()),_(this)),a=Math.min(e*this.model.getOncoprintHeight(),x(this));this.setScroll(i,a),k(this)}},n.prototype.getTrackData=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTrackData(t)},n.prototype.getTrackDataIdKey=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTrackDataIdKey(t)},n.prototype.setTrackData=function(t,e,n){this.webgl_unavailable||this.destroyed||(this.model.setTrackData(t,e,n),this.cell_view.setTrackData(this.model,t),this.legend_view.setTrackData(this.model),this.minimap_view.setTrackData(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort(),b(this))},n.prototype.setTrackImportantIds=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setTrackImportantIds(t,e),this.cell_view.setTrackImportantIds(this.model,t),this.legend_view.setTrackImportantIds(this.model),b(this))},n.prototype.setTrackGroupSortPriority=function(t){this.webgl_unavailable||this.destroyed||(this.model.setTrackGroupSortPriority(t),this.cell_view.setTrackGroupSortPriority(this.model),this.keep_sorted&&this.sort(),b(this))},n.prototype.setTrackSortDirection=function(t,e){if(!this.webgl_unavailable&&!this.destroyed)return this.model.isTrackSortDirectionChangeable(t)&&(this.model.setTrackSortDirection(t,e),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort()),this.model.getTrackSortDirection(t)},n.prototype.setTrackSortComparator=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setTrackSortComparator(t,e),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort())},n.prototype.getTrackSortDirection=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTrackSortDirection(t)},n.prototype.setTrackInfo=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setTrackInfo(t,e),this.track_info_view.setTrackInfo(this.model))},n.prototype.setTrackTooltipFn=function(t,e){this.webgl_unavailable||this.destroyed||this.model.setTrackTooltipFn(t,e)},n.prototype.setShowTrackSublabels=function(t){this.model.setShowTrackSublabels(t),this.label_view.setShowTrackSublabels(this.model),b(this)},n.prototype.sort=function(){if(!this.webgl_unavailable&&!this.destroyed){var t=this;this.model.sort().then(function(e){t.cell_view.sort(t.model),t.minimap_view.sort(t.model,t.cell_view),e&&t.setTrackGroupOrder(e.track_group_index,e.track_id_order,!0)})}},n.prototype.shareRuleSet=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.shareRuleSet(t,e),this.cell_view.shareRuleSet(this.model,e),this.legend_view.shareRuleSet(this.model),this.minimap_view.shareRuleSet(this.model,this.cell_view))},n.prototype.setRuleSet=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setRuleSet(t,a(e)),this.cell_view.setRuleSet(this.model,t),this.legend_view.setRuleSet(this.model),this.minimap_view.setRuleSet(this.model,this.cell_view),b(this))},n.prototype.setSortConfig=function(t){this.webgl_unavailable||this.destroyed||(this.model.setSortConfig(t),this.cell_view.setSortConfig(this.model),this.track_options_view.setSortConfig(this.model),this.keep_sorted&&this.sort())},n.prototype.setIdOrder=function(t){this.webgl_unavailable||this.destroyed||(this.model.setIdOrder(t),this.cell_view.setIdOrder(this.model,t),this.minimap_view.setIdOrder(this.model,this.cell_view),this.keep_sorted&&this.sort())},n.prototype.disableInteraction=function(){this.webgl_unavailable||this.destroyed||this.track_options_view.disableInteraction()},n.prototype.enableInteraction=function(){this.webgl_unavailable||this.destroyed||this.track_options_view.enableInteraction()},n.prototype.suppressRendering=function(){this.webgl_unavailable||this.destroyed||(this.model.rendering_suppressed_depth+=1,this.label_view.suppressRendering(),this.cell_view.suppressRendering(),this.track_options_view.suppressRendering(),this.track_info_view.suppressRendering(),this.legend_view.suppressRendering(),this.minimap_view.suppressRendering())},n.prototype.releaseRendering=function(t){this.webgl_unavailable||this.destroyed||(this.model.rendering_suppressed_depth-=1,this.model.rendering_suppressed_depth=Math.max(0,this.model.rendering_suppressed_depth),0===this.model.rendering_suppressed_depth&&(this.label_view.releaseRendering(this.model),this.cell_view.releaseRendering(this.model),this.track_options_view.releaseRendering(this.model),this.track_info_view.releaseRendering(this.model),this.legend_view.releaseRendering(this.model),this.minimap_view.releaseRendering(this.model,this.cell_view),b(this,t)))},n.prototype.triggerPendingResizeAndOrganize=function(t){this.webgl_unavailable||this.destroyed||this.pending_resize_and_organize&&(this.pending_resize_and_organize=!1,b(this,t))},n.prototype.hideIds=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.hideIds(t,e),this.cell_view.hideIds(this.model),this.minimap_view.hideIds(this.model,this.cell_view))},n.prototype.hideTrackLegends=function(t){this.webgl_unavailable||this.destroyed||(t=[].concat(t),this.model.hideTrackLegends(t),this.legend_view.hideTrackLegends(this.model),g(this))},n.prototype.showTrackLegends=function(t){this.webgl_unavailable||this.destroyed||(t=[].concat(t),this.model.showTrackLegends(t),this.legend_view.showTrackLegends(this.model),g(this))},n.prototype.setCellPaddingOn=function(t){this.webgl_unavailable||this.destroyed||(this.model.setCellPaddingOn(t),this.cell_view.setCellPaddingOn(this.model))},n.prototype.setTrackCustomOptions=function(t,e){this.model.setTrackCustomOptions(t,e),this.track_options_view.setTrackCustomOptions(this.model)},n.prototype.setTrackInfoTooltip=function(t,e){this.model.setTrackInfoTooltip(t,e)},n.prototype.toSVG=function(t){if(!this.webgl_unavailable&&!this.destroyed){var e=d.svg(10,10);this.$ctr.append(e);var n=d.group(0,0);e.appendChild(n);var r=d.bgrect(10,10,"#ffffff");t&&n.appendChild(r);var o=this.label_view.toSVGGroup(this.model,!0,0,0);n.appendChild(o);var i=o.getBBox().width+30,a=this.track_info_view.toSVGGroup(this.model,i,0);n.appendChild(a);var s=i+a.getBBox().width+10;n.appendChild(this.cell_view.toSVGGroup(this.model,s,0)),n.appendChild(this.legend_view.toSVGGroup(this.model,0,o.getBBox().y+o.getBBox().height+20));var l=n.getBBox(),u=l.x+l.width,c=l.y+l.height;return e.setAttribute("width",u),e.setAttribute("height",c),t&&(r.setAttribute("width",u),r.setAttribute("height",c)),e.parentNode.removeChild(e),e}},n.prototype.toCanvas=function(t,e){if(!this.webgl_unavailable&&!this.destroyed){var n=this.toSVG(!0);n.setAttribute("xmlns","http://www.w3.org/2000/svg");var r=parseInt(n.getAttribute("width"),10),o=parseInt(n.getAttribute("height"),10),i=document.createElement("canvas"),a=r*(e=e||1)>8192||o*e>8192;i.setAttribute("width",Math.min(8192,r*e)),i.setAttribute("height",Math.min(8192,o*e));var s=document.createElement("div");s.appendChild(n);var l=s.innerHTML,u="data:image/svg+xml;base64,"+window.btoa(l),c=i.getContext("2d");c.setTransform(e,0,0,e,0,0);var p=new Image;return p.onload=function(){c.drawImage(p,0,0),t(i,a)},p.onerror=function(){console.log("IMAGE LOAD ERROR")},p.src=u,p}},n.prototype.toDataUrl=function(t){this.webgl_unavailable||this.destroyed||this.toCanvas(function(e){t(e.toDataURL())})},n.prototype.highlightTrack=function(t){this.webgl_unavailable||this.destroyed||this.label_view.highlightTrack(t,this.model)},n.prototype.getIdOrder=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getIdOrder(t)},n.prototype.setIdClipboardContents=function(t){if(!this.webgl_unavailable&&!this.destroyed){this.id_clipboard=t.slice();for(var e=0;e<this.clipboard_change_callbacks.length;e++)this.clipboard_change_callbacks[e](t)}},n.prototype.getIdClipboardContents=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.id_clipboard.slice()},n.prototype.onClipboardChange=function(t){this.webgl_unavailable||this.destroyed||this.clipboard_change_callbacks.push(t)},n.prototype.destroy=function(){this.webgl_unavailable||this.destroyed||(this.cell_view.destroy(),this.track_options_view.destroy(),this.track_info_view.destroy(),h(window).off("resize",this.onWindowResize),this.destroyed=!0)},n.prototype.clearMouseOverEffects=function(){this.webgl_unavailable||this.destroyed||(this.cell_view.clearOverlay(),this.label_view.highlightTrack(null,this.model))},n}();t.exports=m},function(t,e){t.exports=void(Math.log2=Math.log2||function(t){return Math.log(t)/Math.LN2})},function(t,e,n){var r=n(4),o=n(15),i=n(5),a=n(16),s=n(0),l=n(19),u=n(6).doesCellIntersectPixel;function c(t,e){return void 0===t?e:t}var p=function(){function t(){this.union_count={},this.sets={}}return t.prototype.putSet=function(t,e){this.removeSet(t),this.sets[t]=e;this.union_count;for(var n in e)e[n]&&(this.union_count[n]=this.union_count[n]||0,this.union_count[n]+=1)},t.prototype.removeSet=function(t){var e=this.union_count,n=this.sets[t]||{};for(var r in n)n[r]&&(e[r]-=1,0===e[r]&&delete e[r]);delete this.sets[t]},t.prototype.getUnion=function(){return function(t){var e={};for(var n in t)void 0!==t[n]&&(e[n]=!0);return e}(this.union_count)},t}(),d=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},h=function(t,e,n){return Math.min(n,Math.max(e,t))},f=function(){function t(t,e,n,r,o,a){var s=this;this.sort_config={},this.rendering_suppressed_depth=0,this.max_height=500,this.cell_width=c(o,6),this.horz_zoom=c(n,1),this.vert_zoom=c(r,1),this.horz_scroll=0,this.vert_scroll=0,this.bottom_padding=0,this.track_group_padding=c(a,10),this.cell_padding=c(t,3),this.cell_padding_on=c(e,!0),this.cell_padding_off_cell_width_threshold=2,this.cell_padding_off_because_of_zoom=this.getCellWidth()<this.cell_padding_off_cell_width_threshold,this.id_order=[],this.hidden_ids={},this.track_group_legend_order=[],this.show_track_sublabels=!1,this.track_important_ids={},this.track_label={},this.track_label_color={},this.track_sublabel={},this.track_html_label={},this.track_link_url={},this.track_description={},this.cell_height={},this.track_padding={},this.track_data_id_key={},this.track_tooltip_fn={},this.track_removable={},this.track_remove_callback={},this.track_sort_cmp_fn={},this.track_sort_direction_changeable={},this.track_sort_direction={},this.track_sort_direction_change_callback={},this.track_data={},this.track_rule_set_id={},this.track_active_rules={},this.track_info={},this.$track_info_tooltip_elt={},this.track_has_column_spacing={},this.track_expansion_enabled={},this.track_expand_callback={},this.track_expand_button_getter={},this.track_expansion_tracks={},this.track_expansion_parent={},this.track_custom_options={},this.rule_sets={},this.rule_set_active_rules={},this.visible_id_order=new i([],function(){var t=s.hidden_ids;return s.id_order.filter(function(e){return!t[e]})}),this.track_id_to_datum=new i({},function(t,e){var n=t.track_id_to_datum.get();if(null!==t.getContainingTrackGroup(e)){for(var r={},o=t.getTrackData(e)||[],i=t.getTrackDataIdKey(e)||"",a=0;a<o.length;a++)r[o[a][i]]=o[a];n[e]=r}else delete n[e];return n}),this.track_present_ids=new i(new p,function(t,e){var n=t.track_present_ids.get();if(null!==t.getContainingTrackGroup(e)){for(var r={},o=t.getTrackData(e)||[],i=t.getTrackDataIdKey(e)||"",a=0;a<o.length;a++)r[o[a][i]]=!0;n.putSet(e,r)}else n.removeSet(e);return n}),this.present_ids=new i({},function(){return s.track_present_ids.get().getUnion()}),this.track_present_ids.addBoundProperty(this.present_ids),this.id_to_index=new i({},function(){for(var t={},e=s.getIdOrder(!0),n=0;n<e.length;n++)t[e[n]]=n;return t}),this.visible_id_to_index=new i({},function(){for(var t={},e=s.getIdOrder(),n=0;n<e.length;n++)t[e[n]]=n;return t}),this.visible_id_order.addBoundProperty(this.visible_id_to_index),this.track_groups=[],this.track_group_sort_priority=[],this.track_group_header=[],this.track_tops=new i({},function(){for(var t={},e=s.getTrackGroups(),n=0,r=0;r<e.length;r++){var o=e[r];s.getTrackGroupHeader(r).length>0&&o.length>0&&(n+=s.getTrackGroupHeaderSize());for(var i=0;i<o.length;i++){var a=o[i];t[a]=n,n+=s.getTrackHeight(a,!0)}o.length>0&&(n+=s.getTrackGroupPadding(!0))}return t}),this.cell_tops=new i({},function(){var t=s.track_tops.get(),e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]+s.getTrackPadding(n,!0));return e}),this.label_tops=new i({},function(){return s.cell_tops.get()}),this.track_tops.addBoundProperty(this.cell_tops),this.cell_tops.addBoundProperty(this.label_tops),this.track_tops_zoomed=new i({},function(){for(var t={},e=s.getTrackGroups(),n=0,r=0;r<e.length;r++){for(var o=e[r],i=0;i<o.length;i++){var a=o[i];t[a]=n,n+=s.getTrackHeight(a)}o.length>0&&(n+=s.getTrackGroupPadding())}return t}),this.cell_tops_zoomed=new i({},function(){var t=s.track_tops_zoomed.get(),e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]+s.getTrackPadding(n));return e}),this.label_tops_zoomed=new i({},function(){return s.cell_tops_zoomed.get()}),this.track_tops.addBoundProperty(this.track_tops_zoomed),this.track_tops_zoomed.addBoundProperty(this.cell_tops_zoomed),this.cell_tops_zoomed.addBoundProperty(this.label_tops_zoomed),this.column_left=new i({},function(){for(var t=s.getCellWidth(!0),e=s.getCellPadding(!0),n={},r=s.getIdOrder(),o=0;o<r.length;o++)n[r[o]]=o*(t+e);return n}),this.zoomed_column_left=new i({},function(){for(var t=s.getCellWidth(),e=s.getCellPadding(),n={},r=s.getIdOrder(),o=0;o<r.length;o++)n[r[o]]=o*(t+e);return n}),this.column_left_no_padding=new i({},function(){for(var t=s.getCellWidth(!0),e={},n=s.getIdOrder(),r=0;r<n.length;r++)e[n[r]]=r*t;return e}),this.column_left.addBoundProperty(this.zoomed_column_left),this.column_left.addBoundProperty(this.column_left_no_padding),this.precomputed_comparator=new i({},function(t,e){var n=t.precomputed_comparator.get();return n[e]=new m(t.getTrackData(e),t.getTrackSortComparator(e),t.getTrackSortDirection(e),t.getTrackDataIdKey(e)),n})}t.prototype.toggleCellPadding=function(){return this.cell_padding_on=!this.cell_padding_on,this.column_left.update(),this.cell_padding_on},t.prototype.getCellPadding=function(t,e){return this.cell_padding*(t?1:this.horz_zoom)*+this.cell_padding_on*(e?1:+!this.cell_padding_off_because_of_zoom)},t.prototype.getHorzZoom=function(){return this.horz_zoom},t.prototype.getHorzZoomToFitNumCols=function(t,e){var n,r=this.getCellWidth(!0),o=h(t/(e*(r+this.cell_padding)),0,1),i=h(t/(e*r),0,1);if(this.cell_padding_on)if(r*o<this.cell_padding_off_cell_width_threshold)if(r*i>=this.cell_padding_off_cell_width_threshold){var a=t/(this.cell_padding_off_cell_width_threshold/r*r);n=t/(Math.ceil(a)*r)}else n=i;else n=o;else n=i;return n},t.prototype.getHorzZoomToFit=function(t,e){if(0===(e=e||[]).length)return 1;for(var n=this.getVisibleIdToIndexMap(),r=e.map(function(t){return n[t]}),o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=0;a<r.length;a++)o=Math.max(r[a],o),i=Math.min(r[a],i);var s=o-i+1;return this.getHorzZoomToFitNumCols(t,s)},t.prototype.getMinHorzZoom=function(){return Math.min(100/(this.getIdOrder().length*this.getCellWidth(!0)+(this.getIdOrder().length-1)*this.getCellPadding(!0)),1)},t.prototype.getMinVertZoom=function(){return this.max_height/this.getOncoprintHeight(!0)},t.prototype.setHorzScroll=function(t){return this.horz_scroll=Math.max(0,t),this.horz_scroll},t.prototype.setVertScroll=function(t){return this.vert_scroll=Math.max(0,t),this.vert_scroll},t.prototype.setScroll=function(t,e){this.setHorzScroll(t),this.setVertScroll(e)},t.prototype.getHorzScroll=function(){return this.horz_scroll},t.prototype.getVertScroll=function(){return this.vert_scroll},t.prototype.setZoom=function(t,e){this.setHorzZoom(t),this.setVertZoom(e)};var e=function(t,e){t.cell_padding_off_because_of_zoom=e,t.column_left.update()};t.prototype.setHorzZoom=function(t){var n=this.getMinHorzZoom();return this.horz_zoom=h(t,n,1),this.column_left.update(),this.getCellWidth()<this.cell_padding_off_cell_width_threshold&&!this.cell_padding_off_because_of_zoom?e(this,!0):this.getCellWidth()>=this.cell_padding_off_cell_width_threshold&&this.cell_padding_off_because_of_zoom&&e(this,!1),this.horz_zoom},t.prototype.getVertZoom=function(){return this.vert_zoom},t.prototype.setVertZoom=function(t){var e=this.getMinVertZoom();return this.vert_zoom=h(t,e,1),this.track_tops.update(),this.vert_zoom},t.prototype.hideTrackLegends=function(t){t=[].concat(t);for(var e=0;e<t.length;e++)this.getRuleSet(t[e]).exclude_from_legend=!0},t.prototype.showTrackLegends=function(t){t=[].concat(t);for(var e=0;e<t.length;e++)this.getRuleSet(t[e]).exclude_from_legend=!1};var n=function(t,e){for(var n=t.track_rule_set_id[e],r=t.track_active_rules[e],o=t.rule_set_active_rules[n],i=Object.keys(r),a=0;a<i.length;a++){var s=i[a];o.hasOwnProperty(s)&&(o[s]-=1,o[s]<=0&&delete o[s])}t.track_active_rules[e]={}},o=function(t,e,r){n(t,e),t.track_active_rules[e]=r;for(var o=t.track_rule_set_id[e],i=t.rule_set_active_rules[o],a=Object.keys(r),s=0;s<a.length;s++){var l=a[s];i[l]=i[l]||0,i[l]+=1}};function f(t,e,n){t.track_important_ids[e]=n?n.reduce(function(t,e){return t[e]=!0,t},{}):void 0}t.prototype.getIdentifiedShapeListList=function(t,e,n){var r={},i=this.getTrackData(t),a=this.getTrackDataIdKey(t),s=this.getTrackHasColumnSpacing(t),l=this.getCellWidth(e)+(s?0:this.getCellPadding(e,!0)),u=this.getRuleSet(t).apply(i,l,this.getCellHeight(t,e),r,a,this.getTrackImportantIds(t));o(this,t,r);var c=function(t,e){var n=parseFloat(t.z),r=parseFloat(e.z);return n<r?-1:n>r?1:0};return u.map(function(t,e){return n&&t.sort(c),{id:i[e][a],shape_list:t}})},t.prototype.getActiveRules=function(t){var e=this.rule_set_active_rules[t];return e?this.rule_sets[t].getRulesWithId().filter(function(t){return!!e[t.id]}):[]},t.prototype.setTrackImportantIds=function(t,e){f(this,t,e)},t.prototype.getTrackImportantIds=function(t){return this.track_important_ids[t]},t.prototype.getRuleSets=function(){for(var t=this,e=this.getTrackGroupLegendOrder(),n={},r=this.getTrackGroups(),o=[],i=0;i<e.length;i++)n[e[i]]=!0,r[e[i]]&&o.push(r[e[i]]);for(i=0;i<r.length;i++)!n[i]&&r[i]&&o.push(r[i]);return function(t){for(var e={},n=[],r=0;r<t.length;r++)void 0===e[t[r]]&&(e[t[r]]=!0,n.push(t[r]));return n}(o.reduce(function(t,e){return t.concat(e)},[]).map(function(e){return t.track_rule_set_id[e]})).map(function(e){return t.rule_sets[e]})},t.prototype.getTrackHasColumnSpacing=function(t){return!!this.track_has_column_spacing[t]},t.prototype.getCellWidth=function(t){return this.cell_width*(t?1:this.horz_zoom)},t.prototype.getCellHeight=function(t,e){return this.cell_height[t]*(e?1:this.vert_zoom)},t.prototype.getTrackInfo=function(t){return this.track_info[t]},t.prototype.setTrackInfo=function(t,e){this.track_info[t]=e},t.prototype.getTrackHeight=function(t,e){return this.getCellHeight(t,e)+2*this.getTrackPadding(t,e)},t.prototype.getTrackPadding=function(t,e){return this.track_padding[t]*(e?1:this.vert_zoom)},t.prototype.getBottomPadding=function(){return this.bottom_padding},t.prototype.getTrackSortDirection=function(t){return this.track_sort_direction[t]},t.prototype.setTrackSortDirection=function(t,e,n){this.track_sort_direction[t]=e,n||this.track_sort_direction_change_callback[t](t,e),this.precomputed_comparator.update(this,t)},t.prototype.setCellPaddingOn=function(t){this.cell_padding_on=t,this.column_left.update()},t.prototype.getIdOrder=function(t){return t?this.id_order:this.visible_id_order.get()},t.prototype.getIdToIndexMap=function(){return this.id_to_index.get()},t.prototype.getVisibleIdToIndexMap=function(){return this.visible_id_to_index.get()},t.prototype.getHiddenIds=function(){var t=this.hidden_ids;return this.id_order.filter(function(e){return!!t[e]})},t.prototype.isSortAffected=function(t,e){var n;t=[].concat(t);var r=this;return n="track"===e?t.map(function(t){return r.getContainingTrackGroupIndex(t)}):t,"cluster"!==this.sort_config.type||n.indexOf(this.sort_config.track_group_index)>-1},t.prototype.setIdOrder=function(t){this.id_order=t.slice(),Object.freeze(this.id_order),this.id_to_index.update(),this.visible_id_order.update(),this.column_left.update()},t.prototype.hideIds=function(t,e){e&&(this.hidden_ids={});for(var n=0,r=t.length;n<r;n++)this.hidden_ids[t[n]]=!0;this.visible_id_order.update(),this.column_left.update()},t.prototype.setTrackGroupOrder=function(t,e){this.track_groups[t]=e,this.track_tops.update()},t.prototype.moveTrackGroup=function(t,e){for(var n=[],r=[],o=this.track_groups[t],i=0;i<this.track_groups.length;i++)i!==t&&i!==e&&(n.push(this.track_groups[i]),r.push(this.track_group_header[i])),i===e&&(n.push(o),r.push(this.track_group_header[t]));return this.track_groups=n,this.track_group_header=r,this.track_tops.update(),this.track_groups},t.prototype.addTracks=function(t){for(var e=0;e<t.length;e++){var n=t[e];g(this,n.track_id,n.target_group,n.track_group_header,n.cell_height,n.track_padding,n.has_column_spacing,n.data_id_key,n.tooltipFn,n.link_url,n.removable,n.removeCallback,n.label,n.sublabel,n.description,n.track_info,n.sortCmpFn,n.sort_direction_changeable,n.init_sort_direction,n.onSortDirectionChange,n.data,n.rule_set,n.track_label_color,n.html_label,n.expansion_of,n.expandCallback,n.expandButtonTextGetter,n.important_ids,n.custom_track_options,n.$track_info_tooltip_elt)}this.track_tops.update()};var g=function(t,e,n,r,o,i,a,s,l,u,p,d,h,m,g,v,y,b,_,x,S,w,C,k,T,M,j,E,O,I){for(t.$track_info_tooltip_elt[e]=I,t.track_custom_options[e]=c(O,[]),t.track_label[e]=c(h,"Label"),t.track_sublabel[e]=c(m,""),t.track_label_color[e]=c(C,"black"),t.track_link_url[e]=c(u,null),t.track_description[e]=c(g,""),t.cell_height[e]=c(o,23),t.track_padding[e]=c(i,5),t.track_has_column_spacing[e]=c(a,!0),t.track_tooltip_fn[e]=c(l,function(t){return t+""}),t.track_removable[e]=c(p,!1),t.track_remove_callback[e]=c(d,function(){}),void 0!==M&&(t.track_expand_callback[e]=M,t.track_expansion_enabled[e]=!0),void 0!==j&&(t.track_expand_button_getter[e]=j),t.track_sort_cmp_fn[e]=c(y,function(){return 0}),t.track_sort_direction_changeable[e]=c(b,!1),t.track_sort_direction_change_callback[e]=c(x,function(){}),t.track_data[e]=c(S,[]),t.track_data_id_key[e]=c(s,"id"),t.track_info[e]=c(v,""),void 0!==k&&(t.track_html_label[e]=k),void 0!==w&&(t.rule_sets[w.rule_set_id]=w,t.rule_set_active_rules[w.rule_set_id]={},t.track_rule_set_id[e]=w.rule_set_id),t.track_active_rules[e]={},E&&f(t,e,E),t.track_sort_direction[e]=c(_,1),n=c(n,0);n>=t.track_groups.length;)t.track_groups.push([]),t.track_group_header.push("");r&&(t.track_group_header[n]=r);var P=t.track_groups[n],A=void 0!==T?P.indexOf(t.getLastExpansion(T))+1:P.length;if(P.splice(A,0,e),void 0!==T){if(t.track_expansion_tracks.hasOwnProperty(T)||(t.track_expansion_tracks[T]=[]),-1!==t.track_expansion_tracks[T].indexOf(e))throw new Error("Illegal state: duplicate expansion track ID");t.track_expansion_parent[e]=T,t.track_expansion_tracks[T].push(e)}t.track_id_to_datum.update(t,e),t.track_present_ids.update(t,e),t.precomputed_comparator.update(t,e),t.setIdOrder(Object.keys(t.present_ids.get()))},v=function(t,e,n){var r,o;for(e=parseInt(e),o=0;o<t.track_groups.length;o++)if(t.track_groups[o].indexOf(e)>-1){r=t.track_groups[o];break}return r?n?o:r:null},y=function(t,e){var n,r,o=t.track_expansion_parent[e];return(n=void 0===o?null===(r=v(t,e))?null:r.filter(function(e){return void 0===t.track_expansion_parent[e]}):t.track_expansion_tracks[o])?n.slice():null},b=function(t,e){for(var n=!1,r=t.getTracks(),o=0;o<r.length;o++)if(t.track_rule_set_id[r[o]]===e){n=!0;break}return n},_=function(t,e){delete t.rule_sets[e],delete t.rule_set_active_rules[e]};t.prototype.removeTrack=function(t){var e=this.track_rule_set_id[t];n(this,t),this.track_remove_callback[t](t),delete this.track_data[t],delete this.track_rule_set_id[t],delete this.track_label[t],delete this.track_link_url[t],delete this.cell_height[t],delete this.track_padding[t],delete this.track_data_id_key[t],delete this.track_tooltip_fn[t],delete this.track_removable[t],delete this.track_remove_callback[t],delete this.track_sort_cmp_fn[t],delete this.track_sort_direction_changeable[t],delete this.track_sort_direction[t],delete this.track_info[t],delete this.track_has_column_spacing[t],delete this.track_expansion_enabled[t],delete this.track_expand_callback[t],delete this.track_expand_button_getter[t],delete this.track_expansion_tracks[t];var r=v(this,t);null!==r&&r.splice(r.indexOf(t),1);var o=this.track_expansion_tracks[this.track_expansion_parent[t]];o&&o.splice(o.indexOf(t),1),delete this.track_expansion_parent[t],this.track_tops.update(),this.track_present_ids.update(this,t),this.track_id_to_datum.update(this,t),this.setIdOrder(Object.keys(this.present_ids.get())),b(this,e)||_(this,e)},t.prototype.getOverlappingCells=function(t,e){var n=this.getIdOrder(),o=this.getZoomedColumnLeft(),i=r(n,t,function(t){return o[t]},!0);if(-1===i)return null;var a=this.getTracks(),s=this.getCellTops(),l=r(a,e,function(t){return s[t]},!0);if(-1===l)return null;var c=a[l];if(e>=s[c]+this.getCellHeight(c))return null;var p=[],d=this.getCellWidth();this.getTrackHasColumnSpacing(c)||(d+=this.getCellPadding());for(var h=i;h<n.length;h++)if(u([o[n[h]],o[n[h]]+d],t))p.push(n[h]);else if(o[n[h]]>t+1)break;return p.length>0?{ids:p,track:c,top:s[c],left:o[p[0]]}:null},t.prototype.getTrackDatum=function(t,e){var n=this.track_id_to_datum.get()[t][e];return void 0===n&&(n=null),n},t.prototype.getTrackTops=function(t){return void 0===t?d(this.track_tops.get()):this.track_tops.get()[t]},t.prototype.getZoomedTrackTops=function(t){return void 0===t?d(this.track_tops_zoomed.get()):this.track_tops_zoomed.get()[t]},t.prototype.getCellTops=function(t,e){return void 0===t?d((e?this.cell_tops:this.cell_tops_zoomed).get()):(e?this.cell_tops:this.cell_tops_zoomed).get()[t]},t.prototype.getLabelTops=function(t,e){return void 0===t?d((e?this.label_tops:this.label_tops_zoomed).get()):(e?this.label_tops:this.label_tops_zoomed).get()[t]},t.prototype.getContainingTrackGroup=function(t){return y(this,t)},t.prototype.getContainingTrackGroupIndex=function(t){return v(this,t,!0)},t.prototype.setTrackGroupHeader=function(t,e){this.track_group_header[t]=e,this.track_tops.update()},t.prototype.getTrackGroupHeader=function(t){return this.track_group_header[t]||""},t.prototype.getTrackGroupHeaderSize=function(){return 20},t.prototype.getTrackGroups=function(){return this.track_groups},t.prototype.getTracks=function(){for(var t=[],e=0;e<this.track_groups.length;e++)for(var n=0;n<this.track_groups[e].length;n++)t.push(this.track_groups[e][n]);return t},t.prototype.getIdsInLeftInterval=function(t,e){var n=this.getCellWidth(),r=this.getCellPadding(),o=this.getIdOrder(),i=Math.floor(t/(n+r));t-i*(n+r)>n&&(i+=1);var a=Math.floor(e/(n+r));return o.slice(i,a+1)},t.prototype.getColumnLeft=function(t){return void 0===t?this.column_left.get():this.column_left.get()[t]},t.prototype.getColumnLeftNoPadding=function(t){return void 0===t?this.column_left_no_padding.get():this.column_left_no_padding.get()[t]},t.prototype.getZoomedColumnLeft=function(t){return void 0===t?this.zoomed_column_left.get():this.zoomed_column_left.get()[t]},t.prototype.getOncoprintHeight=function(t){var e=this.getTracks(),n=e[e.length-1];return(t?this.getTrackTops(n):this.getZoomedTrackTops(n))+this.getTrackHeight(n,t)+this.getBottomPadding()},t.prototype.getOncoprintWidth=function(t){return this.getIdOrder().length*(this.getCellWidth(t)+this.getCellPadding(t))},t.prototype.getOncoprintWidthNoColumnPadding=function(t){return this.getIdOrder().length*this.getCellWidth(t)},t.prototype.getCellViewHeight=function(){return Math.min(this.max_height,this.getOncoprintHeight())},t.prototype.getCellViewWidth=function(){return this.getOncoprintWidth()},t.prototype.moveTrack=function(t,e){function n(t,e,n,r){var o=t.indexOf(e),i=t.indexOf(n),a=t.slice(o,i+1);t.splice(o,a.length);var s=null===r?0:t.indexOf(r)+1;t.splice.bind(t,s,0).apply(null,a)}var r,o=v(this,t),i=this.track_expansion_parent[t];null!==o&&(r=void 0!==i&&null===e?i:this.getLastExpansion(e),n(o,t,this.getLastExpansion(t),r)),void 0!==this.track_expansion_parent[t]&&n(this.track_expansion_tracks[i],t,t,e),this.track_tops.update()},t.prototype.getTrackLabel=function(t){return this.track_label[t]},t.prototype.getTrackSublabel=function(t){return this.track_sublabel[t]},t.prototype.getShowTrackSublabels=function(){return this.show_track_sublabels},t.prototype.setShowTrackSublabels=function(t){return this.show_track_sublabels=t},t.prototype.getTrackLabelColor=function(t){return this.track_label_color[t]},t.prototype.getOptionalHtmlTrackLabel=function(t){return this.track_html_label[t]},t.prototype.getTrackLinkUrl=function(t){return this.track_link_url[t]},t.prototype.getTrackDescription=function(t){return this.track_description[t]},t.prototype.getTrackTooltipFn=function(t){return this.track_tooltip_fn[t]},t.prototype.setTrackTooltipFn=function(t,e){this.track_tooltip_fn[t]=e},t.prototype.getTrackDataIdKey=function(t){return this.track_data_id_key[t]},t.prototype.getTrackGroupPadding=function(t){return this.track_group_padding*(t?1:this.vert_zoom)},t.prototype.isTrackRemovable=function(t){return this.track_removable[t]},t.prototype.isTrackSortDirectionChangeable=function(t){return this.track_sort_direction_changeable[t]},t.prototype.isTrackExpandable=function(t){return Boolean(this.track_expansion_enabled[t])},t.prototype.expandTrack=function(t){return this.track_expand_callback[t](t)},t.prototype.disableTrackExpansion=function(t){this.track_expansion_enabled[t]=!1},t.prototype.enableTrackExpansion=function(t){if(!this.track_expand_callback.hasOwnProperty(t))throw new Error("Track '"+t+"' has no expandCallback");this.track_expansion_enabled[t]=!0},t.prototype.isTrackExpanded=function(t){return this.track_expansion_tracks.hasOwnProperty(t)&&this.track_expansion_tracks[t].length>0},t.prototype.getExpandButtonText=function(t){var e=this;return function(t){return e.track_expand_button_getter[t]||function(t){return t?"Expand more":"Expand"}}(t)(this.isTrackExpanded(t))},t.prototype.isExpansionOf=function(t,e){return this.track_expansion_tracks.hasOwnProperty(e)&&-1!==this.track_expansion_tracks[e].indexOf(t)},t.prototype.getLastExpansion=function(t){for(var e=this.track_expansion_tracks[t];e&&e.length;)t=e[e.length-1],e=this.track_expansion_tracks[t];return t},t.prototype.getTrackCustomOptions=function(t){return this.track_custom_options[t]},t.prototype.setTrackCustomOptions=function(t,e){this.track_custom_options[t]=e},t.prototype.setTrackInfoTooltip=function(t,e){this.$track_info_tooltip_elt[t]=e},t.prototype.$getTrackInfoTooltip=function(t){return this.$track_info_tooltip_elt[t]},t.prototype.getRuleSet=function(t){return this.rule_sets[this.track_rule_set_id[t]]},t.prototype.shareRuleSet=function(t,e){o(this,e,{});var n=this.track_rule_set_id[e];this.track_rule_set_id[e]=this.track_rule_set_id[t],b(this,n)||_(this,n)},t.prototype.setRuleSet=function(t,e){o(this,t,{});var n=this.track_rule_set_id[t];this.rule_sets[e.rule_set_id]=e,this.rule_set_active_rules[e.rule_set_id]={},this.track_rule_set_id[t]=e.rule_set_id,b(this,n)||_(this,n)},t.prototype.getTrackSortComparator=function(t){return this.track_sort_cmp_fn[t]},t.prototype.setTrackSortComparator=function(t,e){this.track_sort_cmp_fn[t]=e,this.precomputed_comparator.update(this,t)},t.prototype.getTrackData=function(t){return this.track_data[t]},t.prototype.clusterTrackGroup=function(t,e){var n=this,r=new s.Deferred,o={},i=this.getTrackGroups()[t],l=[];void 0!==i&&(l=y(this,i[0])||[]);for(var u=0;u<l.length;u++)for(var c=l[u],p=this.getTrackDataIdKey(c),d=this.getTrackData(c),h=0;h<d.length;h++){var f=d[h][p],m=e(d[h]);o[f]=o[f]||{},o[f][c]=m}return Object.keys(o).length?(i.forEach(function(t){n.setTrackSortDirection(t,0,!0)}),s.when(a.hclusterColumns(o),a.hclusterTracks(o)).then(function(e,o){n.setIdOrder(e.map(function(t){return t.caseId}));var i=o.map(function(t){return parseInt(t.entityId,10)}),a=[];i.forEach(function(t){a.push(t),Array.prototype.push.apply(a,n.track_expansion_tracks[t]||[])}),r.resolve({track_group_index:t,track_id_order:a})}).fail(function(){r.reject()}),r.promise()):r.resolve().promise()},t.prototype.setTrackData=function(t,e,n){this.track_data[t]=e,this.track_data_id_key[t]=n,this.track_id_to_datum.update(this,t),this.track_present_ids.update(this,t),this.setIdOrder(Object.keys(this.present_ids.get())),this.precomputed_comparator.update(this,t)},t.prototype.computeTrackIdToDatum=function(t){this.track_id_to_datum[t]={};for(var e=this.track_data[t]||[],n=this.track_data_id_key[t],r=0;r<e.length;r++)this.track_id_to_datum[t][e[r][n]]=e[r]},t.prototype.setTrackGroupLegendOrder=function(t){this.track_group_legend_order=t.slice()},t.prototype.getTrackGroupLegendOrder=function(){return this.track_group_legend_order},t.prototype.setTrackGroupSortPriority=function(t){this.track_group_sort_priority=t,this.sort()};return t.prototype.sort=function(){var t,e,n=new s.Deferred;return this.sort_config=this.sort_config||{},"alphabetical"===this.sort_config.type?((e=(t=this).getIdOrder(!0).slice()).sort(function(t,e){return t.localeCompare(e)}),t.setIdOrder(e),n.resolve()):"order"===this.sort_config.type?(this.setIdOrder(this.sort_config.order),n.resolve()):"cluster"===this.sort_config.type?this.clusterTrackGroup(this.sort_config.track_group_index,this.sort_config.clusterValueFn).then(function(t){n.resolve(t)}):(!function(t){var e=t.track_group_sort_priority,n=t.getTrackGroups(),r=(e.length<n.length?n:e.map(function(t){return n[t]})).reduce(function(t,e){return t.concat(e)},[]),o=t.precomputed_comparator.get(),i=function(t){for(var e=[],n=[],i=0;i<r.length;i++){var a=o[r[i]].getSortValue(t);e.push(a.mandatory),n.push(a.preferred)}return e.concat(n)},a=t.getIdOrder(!0).map(function(t){return{id:t,vector:i(t)}}),s=l.bucketSort(a,function(t){return t.vector});t.setIdOrder(s.map(function(t){return t.id}))}(this),n.resolve()),n.promise()},t.prototype.setSortConfig=function(t){this.sort_config=t},t.prototype.isTrackInClusteredGroup=function(t){return"cluster"===this.sort_config.type&&this.sort_config.track_group_index===this.getContainingTrackGroupIndex(t)},t}(),m=function(){function t(t,e,n,r){"object"==typeof e&&e.isVector?function(t,e,n,r,o){var i=function(t){return 0===r?function(t){return 0}:function(e){return t(e).map(function(t){return"number"==typeof t?t*r:t})}},a=i(n.preferred),s=i(n.mandatory),u=e.map(function(t){return{d:t,preferred_vector:a(t),mandatory_vector:s(t)}}),c=n.compareEquals,p=c?function(t,e){return c(t.d,e.d)}:void 0,d=l.bucketSort(u,function(t){return t.preferred_vector},p);t.preferred_change_points=[0],t.mandatory_change_points=[0];for(var h=function(t){return t.mandatory_vector},f=function(t){return t.preferred_vector},m=1;m<d.length;m++)0!==l.compareFull(d[m-1],d[m],h)?t.mandatory_change_points.push(m):0!==l.compareFull(d[m-1],d[m],f,p)&&t.preferred_change_points.push(m);t.id_to_index={};for(var m=0;m<d.length;m++)t.id_to_index[d[m].d[o]]=m}(this,t,e,n,r):function(t,e,n,r,o){var i,a;"function"==typeof n?(i=n,a=n):(i=n.preferred,a=n.mandatory);var s=function(t){return function(e,n){if(0===r)return 0;var o=t(e,n);return 2===o?1:-2===o?-1:o*r}},l=s(i),u=s(a),c=e.sort(l);t.preferred_change_points=[0],t.mandatory_change_points=[0];for(var p=1;p<c.length;p++)0!==u(c[p-1],c[p])?t.mandatory_change_points.push(p):0!==l(c[p-1],c[p])&&t.preferred_change_points.push(p);t.id_to_index={};for(var p=0;p<c.length;p++)t.id_to_index[c[p][o]]=p}(this,t,e,n,r)}return t.prototype.getSortValue=function(t){var e=this.id_to_index[t],n=0,o=0;return this.mandatory_change_points.length&&(n=this.mandatory_change_points[r(this.mandatory_change_points,e,function(t){return t},!0)]),this.preferred_change_points.length&&(o=this.preferred_change_points[r(this.preferred_change_points,e,function(t){return t},!0)]),{mandatory:n,preferred:o}},t.prototype.compare=function(t,e){var n=this.id_to_index[t],r=this.id_to_index[e];if(void 0===n&&void 0===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;var i=!1;if(n===r)return 0;if(n>r){var a=n;n=r,r=a,i=!0}var s=0;return o(this.mandatory_change_points,function(t){return t},n,r)?s=-1:o(this.preferred_change_points,function(t){return t},n,r)&&(s=-.5),i&&(s*=-1),s},t}();t.exports=f},function(t,e){t.exports=function(t,e,n,r){for(var o,i,a=0,s=t.length,l=!1;!(a>=s);)if((i=e(t[o=Math.floor((a+s)/2)]))>=r)s=o;else{if(!(i<n)){l=!0;break}a=o+1}return l}},function(t,n,r){var o=r(17),i=function(t,n){var r=new o,i=new Object,a=new e.Deferred;return i.casesAndEntitites=t,i.dimension=n,r.postMessage(i),r.onmessage=function(t){a.resolve(t.data)},a.promise()};t.exports={hclusterColumns:function(t){return i(t,"CASES")},hclusterTracks:function(t){return i(t,"ENTITIES")}}},function(t,e,n){t.exports=function(){return n(18)("/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  euclidean: function(v1, v2) {\n      var total = 0;\n      for (var i = 0; i < v1.length; i++) {\n         total += Math.pow(v2[i] - v1[i], 2);      \n      }\n      return Math.sqrt(total);\n   },\n   manhattan: function(v1, v2) {\n     var total = 0;\n     for (var i = 0; i < v1.length ; i++) {\n        total += Math.abs(v2[i] - v1[i]);      \n     }\n     return total;\n   },\n   max: function(v1, v2) {\n     var max = 0;\n     for (var i = 0; i < v1.length; i++) {\n        max = Math.max(max , Math.abs(v2[i] - v1[i]));      \n     }\n     return max;\n   }\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar distances = __webpack_require__(0);\n\nfunction KMeans(centroids) {\n   this.centroids = centroids || [];\n}\n\nKMeans.prototype.randomCentroids = function(points, k) {\n   var centroids = points.slice(0); // copy\n   centroids.sort(function() {\n      return (Math.round(Math.random()) - 0.5);\n   });\n   return centroids.slice(0, k);\n}\n\nKMeans.prototype.classify = function(point, distance) {\n   var min = Infinity,\n       index = 0;\n\n   distance = distance || \"euclidean\";\n   if (typeof distance == \"string\") {\n      distance = distances[distance];\n   }\n\n   for (var i = 0; i < this.centroids.length; i++) {\n      var dist = distance(point, this.centroids[i]);\n      if (dist < min) {\n         min = dist;\n         index = i;\n      }\n   }\n\n   return index;\n}\n\nKMeans.prototype.cluster = function(points, k, distance, snapshotPeriod, snapshotCb) {\n   k = k || Math.max(2, Math.ceil(Math.sqrt(points.length / 2)));\n\n   distance = distance || \"euclidean\";\n   if (typeof distance == \"string\") {\n      distance = distances[distance];\n   }\n\n   this.centroids = this.randomCentroids(points, k);\n\n   var assignment = new Array(points.length);\n   var clusters = new Array(k);\n\n   var iterations = 0;\n   var movement = true;\n   while (movement) {\n      // update point-to-centroid assignments\n      for (var i = 0; i < points.length; i++) {\n         assignment[i] = this.classify(points[i], distance);\n      }\n\n      // update location of each centroid\n      movement = false;\n      for (var j = 0; j < k; j++) {\n         var assigned = [];\n         for (var i = 0; i < assignment.length; i++) {\n            if (assignment[i] == j) {\n               assigned.push(points[i]);\n            }\n         }\n\n         if (!assigned.length) {\n            continue;\n         }\n\n         var centroid = this.centroids[j];\n         var newCentroid = new Array(centroid.length);\n\n         for (var g = 0; g < centroid.length; g++) {\n            var sum = 0;\n            for (var i = 0; i < assigned.length; i++) {\n               sum += assigned[i][g];\n            }\n            newCentroid[g] = sum / assigned.length;\n\n            if (newCentroid[g] != centroid[g]) {\n               movement = true;\n            }\n         }\n\n         this.centroids[j] = newCentroid;\n         clusters[j] = assigned;\n      }\n\n      if (snapshotCb && (iterations++ % snapshotPeriod == 0)) {\n         snapshotCb(clusters);\n      }\n   }\n\n   return clusters;\n}\n\nKMeans.prototype.toJSON = function() {\n   return JSON.stringify(this.centroids);\n}\n\nKMeans.prototype.fromJSON = function(json) {\n   this.centroids = JSON.parse(json);\n   return this;\n}\n\nmodule.exports = KMeans;\n\nmodule.exports.kmeans = function(vectors, k) {\n   return (new KMeans()).cluster(vectors, k);\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n * Copyright (c) 2016 The Hyve B.V.\n * This code is licensed under the GNU Affero General Public License,\n * version 3, or (at your option) any later version.\n */\n\n/*\n * This file is part of cBioPortal.\n *\n * cBioPortal is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar clusterfck = __webpack_require__(3);\nvar jStat = __webpack_require__(5);\n\n/**\n * \"Routing\" logic for this worker, based on given message.\n *\n * @param m : message object with m.dimension (CASES or ENTITIES) and m.casesAndEntitites\n *      which is the input for the clustering method.\n */\nonmessage = function(m) {\n    console.log('Clustering worker received message');\n    var result = null;\n    if (m.data.dimension === \"CASES\") {\n        result = hclusterCases(m.data.casesAndEntitites);\n    } else if (m.data.dimension === \"ENTITIES\") {\n        result = hclusterGeneticEntities(m.data.casesAndEntitites);\n    } else {\n        throw new Error(\"Illegal argument given to clustering-worker.js for m.data.dimension: \" + m.data.dimension);\n    }\n    console.log('Posting clustering result back to main script');\n    postMessage(result);\n}\n\n/**\n * Returns false if any value is a valid number != 0.0,\n * and true otherwise.\n */\nvar isAllNaNs = function(values) {\n    for (var i = 0; i < values.length; i++) {\n        var val = values[i];\n        if (!isNaN(val) && val != null && val != 0.0 ) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * Distance measure using 1-spearman's correlation. This function does expect that item1 and item2\n * are an item than contains a item.preProcessedValueList attribute which is the ranked version\n * of item.orderedValueList.\n *\n */\nvar preRankedSpearmanDist = function(item1, item2) {\n    //rules for NaN values:\n    if (item1.isAllNaNs && item2.isAllNaNs) {\n        //return distance 0\n        return 0;\n    }\n    else if (item1.isAllNaNs || item2.isAllNaNs) {\n        //return large distance:\n        return 3;\n    }\n    //take the arrays from the preProcessedValueList:\n    var ranks1 = item1.preProcessedValueList;\n    var ranks2 = item2.preProcessedValueList;\n    //calculate spearman's rank correlation coefficient, using pearson's distance\n    //for correlation of the ranks:\n    var r = jStat.corrcoeff(ranks1, ranks2);\n    if (isNaN(r)) {\n        //assuming the ranks1 and ranks2 lists do not contain NaN entries (and this code DOES assume all missing values have been imputed by a valid number),\n        //this specific scenario should not occur, unless all values are the same (and given the same rank). In this case, there is no variation, and\n        //correlation returns NaN. In theory this could happen on small number of entities being clustered. We give this a large distance:\n        console.log(\"NaN in correlation calculation\");\n        r = -2;\n    }\n    return 1 - r;\n}\n\n/**\n * Prepares the data for using spearman method in the distance function.\n * It will pre-calculate ranks and store this in inputItems[x].preProcessedValueList.\n * This pre-calculation significantly improves the performance of the clustering step itself.\n */\nvar _prepareForDistanceFunction = function(inputItems) {\n    //pre-calculate ranks, and\n    // split up into allNaN and notAllNaN\n    var allNaN = [];\n    var notAllNaN = [];\n    for (var i = 0; i < inputItems.length; i++) {\n        var inputItem = inputItems[i];\n        //check if all NaNs:\n        inputItem.isAllNaNs = isAllNaNs(inputItem.orderedValueList);\n        if (inputItem.isAllNaNs) {\n            allNaN.push(inputItem);\n            continue;\n        } else {\n            notAllNaN.push(inputItem);\n        }\n        //rank using fractional ranking:\n        var ranks = jStat.rank(inputItem.orderedValueList);\n        //store for later use:\n        inputItem.preProcessedValueList = ranks;\n    }\n    return {\n        notAllNaN: notAllNaN,\n        allNaN: allNaN\n    };\n}\n\n/**\n * @param casesAndEntitites: Object with sample(or patient)Id and map\n * of geneticEntity/value pairs. Example:\n *\n * var a =\n *  {\n *    \"TCGA-AO-AA98-01\":\n *    {\n *    \t\"TP53\": 0.045,\n *    \t\"BRA1\": -0.89\n *    }\n *   },\n *   ...\n *\n *   @return the reordered list of sample(or patient) ids, after clustering.\n */\nvar hclusterCases = function(casesAndEntitites) {\n    var refEntityList = null;\n    var inputItems = [];\n    //add orderedValueList to all items, so the values are\n    //compared in same order:\n    for (var caseId in casesAndEntitites) {\n        if (casesAndEntitites.hasOwnProperty(caseId)) {\n            var caseObj = casesAndEntitites[caseId];\n            var inputItem = new Object();\n            inputItem.caseId = caseId;\n            inputItem.orderedValueList = [];\n            if (refEntityList == null) {\n                refEntityList = getRefList(caseObj);\n            }\n            for (var j = 0; j < refEntityList.length; j++) {\n                var entityId = refEntityList[j];\n                var value = caseObj[entityId];\n                inputItem.orderedValueList.push(value);\n            }\n            inputItems.push(inputItem);\n        }\n    }\n    if (refEntityList.length == 1) {\n        //this is a special case, where the \"clustering\" becomes a simple sorting in 1 dimension:\n        //so, just sort and return inputItems:\n        inputItems.sort(function (i1, i2) {\n            var val1 = i1.orderedValueList[0];\n            var val2 = i2.orderedValueList[0];\n            //ensure NaNs are moved out (NaN or null which are seen here as equivalents to NA (not available)) to the end of the list:\n            val1 = (val1 == null || isNaN(val1) ? Number.MAX_VALUE : val1);\n            val2 = (val2 == null || isNaN(val2) ? Number.MAX_VALUE : val2);\n            if (val1 > val2) {\n                return 1;\n            }\n            else if (val1 < val2) {\n                return -1;\n            }\n            return 0;\n        });\n        return inputItems;\n    }\n    //else, normal clustering:\n    inputItems = _prepareForDistanceFunction(inputItems);\n    var clusters = clusterfck.hcluster(inputItems.notAllNaN, preRankedSpearmanDist);\n    return clusters.clusters(1)[0].concat(inputItems.allNaN); // add all nan elements to the end post-sorting\n}\n\nvar getRefList = function(caseItem) {\n    var result = [];\n    for (var entityId in caseItem) {\n        if (caseItem.hasOwnProperty(entityId)) {\n            result.push(entityId);\n        }\n    }\n    return result;\n}\n\n/**\n * @param casesAndEntitites: same as used in hclusterCases above.\n *\n * @return the reordered list of entity ids, after clustering.\n */\nvar hclusterGeneticEntities = function(casesAndEntitites) {\n    var refEntityList = null;\n    var inputItems = [];\n    var refCaseIdList = [];\n    //add orderedValueList to all items, so the values are\n    //compared in same order:\n    for (var caseId in casesAndEntitites) {\n        if (casesAndEntitites.hasOwnProperty(caseId)) {\n            var caseObj = casesAndEntitites[caseId];\n            if (refEntityList == null) {\n                refEntityList = getRefList(caseObj);\n            }\n            //refCaseIdList:\n            refCaseIdList.push(caseId);\n        }\n    }\n    //iterate over genes, and get sample values:\n    for (var i = 0; i < refEntityList.length; i++) {\n        var entityId = refEntityList[i];\n        var inputItem = new Object();\n        inputItem.entityId = entityId;\n        inputItem.orderedValueList = [];\n        for (var j = 0; j < refCaseIdList.length; j++) {\n            var caseId = refCaseIdList[j];\n            var caseObj = casesAndEntitites[caseId];\n            var value = caseObj[entityId];\n            inputItem.orderedValueList.push(value);\n        }\n        inputItems.push(inputItem);\n    }\n    inputItems = _prepareForDistanceFunction(inputItems);\n    var clusters = clusterfck.hcluster(inputItems.notAllNaN, preRankedSpearmanDist);\n    return clusters.clusters(1)[0].concat(inputItems.allNaN); // add all nan elements to the end post-sorting\n}\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n   hcluster: __webpack_require__(4),\n   Kmeans: __webpack_require__(1),\n   kmeans: __webpack_require__(1).kmeans\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar distances = __webpack_require__(0);\n\nvar HierarchicalClustering = function(distance, linkage, threshold) {\n   this.distance = distance;\n   this.linkage = linkage;\n   this.threshold = threshold == undefined ? Infinity : threshold;\n}\n\nHierarchicalClustering.prototype = {\n   tree: function(items, snapshotPeriod, snapshotCb) {\n      this.tree = [];\n      this.dists = [];  // distances between each pair of clusters\n      this.mins = []; // closest cluster for each cluster\n      this.index = []; // keep a hash of all clusters by key\n\n      for (var i = 0; i < items.length; i++) {\n         var cluster = {\n            value: items[i],\n            key: i,\n            index: i,\n            size: 1\n         };\n         this.tree[i] = cluster;\n         this.index[i] = cluster;\n         this.dists[i] = [];\n         this.mins[i] = 0;\n      }\n\n      for (var i = 0; i < this.tree.length; i++) {\n         for (var j = 0; j <= i; j++) {\n            var dist = (i == j) ? Infinity :\n               this.distance(this.tree[i].value, this.tree[j].value);\n            this.dists[i][j] = dist;\n            this.dists[j][i] = dist;\n\n            if (dist < this.dists[i][this.mins[i]]) {\n               this.mins[i] = j;\n            }\n         }\n      }\n\n      var merged = this.mergeClosest();\n      var i = 0;\n      while (merged) {\n        if (snapshotCb && (i++ % snapshotPeriod) == 0) {\n           snapshotCb(this.tree);\n        }\n        merged = this.mergeClosest();\n      }\n\n      this.tree.forEach(function(cluster) {\n        // clean up metadata used for clustering\n        delete cluster.key;\n        delete cluster.index;\n      });\n\n      return this.tree;\n   },\n\n   mergeClosest: function() {\n      // find two closest clusters from cached mins\n      var minKey = 0, min = Infinity;\n      for (var i = 0; i < this.tree.length; i++) {\n         var key = this.tree[i].key,\n             dist = this.dists[key][this.mins[key]];\n         if (dist < min) {\n            minKey = key;\n            min = dist;\n         }\n      }\n      if (min >= this.threshold) {\n         return false;\n      }\n\n      var c1 = this.index[minKey],\n          c2 = this.index[this.mins[minKey]];\n\n      // merge two closest clusters\n      var merged = {\n         dist: min,\n         left: c1,\n         right: c2,\n         key: c1.key,\n         size: c1.size + c2.size\n      };\n\n      this.tree[c1.index] = merged;\n      this.tree.splice(c2.index, 1);\n      this.index[c1.key] = merged;\n\n      // update distances with new merged cluster\n      for (var i = 0; i < this.tree.length; i++) {\n         var ci = this.tree[i];\n         var dist;\n         if (c1.key == ci.key) {\n            dist = Infinity;\n         }\n         else if (this.linkage == \"single\") {\n            dist = this.dists[c1.key][ci.key];\n            if (this.dists[c1.key][ci.key] > this.dists[c2.key][ci.key]) {\n               dist = this.dists[c2.key][ci.key];\n            }\n         }\n         else if (this.linkage == \"complete\") {\n            dist = this.dists[c1.key][ci.key];\n            if (this.dists[c1.key][ci.key] < this.dists[c2.key][ci.key]) {\n               dist = this.dists[c2.key][ci.key];\n            }\n         }\n         else if (this.linkage == \"average\") {\n            dist = (this.dists[c1.key][ci.key] * c1.size\n                   + this.dists[c2.key][ci.key] * c2.size) / (c1.size + c2.size);\n         }\n         else {\n            dist = this.distance(ci.value, c1.value);\n         }\n\n         this.dists[c1.key][ci.key] = this.dists[ci.key][c1.key] = dist;\n      }\n\n\n      // update cached mins\n      for (var i = 0; i < this.tree.length; i++) {\n         var key1 = this.tree[i].key;\n         if (this.mins[key1] == c1.key || this.mins[key1] == c2.key) {\n            var min = key1;\n            for (var j = 0; j < this.tree.length; j++) {\n               var key2 = this.tree[j].key;\n               if (this.dists[key1][key2] < this.dists[key1][min]) {\n                  min = key2;\n               }\n            }\n            this.mins[key1] = min;\n         }\n         this.tree[i].index = i;\n      }\n\n      // clean up metadata used for clustering\n      delete c1.key; delete c2.key;\n      delete c1.index; delete c2.index;\n\n      return true;\n   },\n   clusters: function(num){\n     //  Return all nodes if num is invalid\n     if(num > this.tree.size || num < 1) num = this.tree.size\n\n     var result = [],\n         subtrees = [this.tree];\n\n    //  Get a list of root nodes for num different clusters\n     while(num > 1){\n       var furthest = _findNextFurthest(subtrees);\n       subtrees.splice(subtrees.indexOf(furthest), 1);\n       subtrees.push(furthest.left, furthest.right);\n       num--;\n     }\n\n     //  Transform the subtrees node list into a list of the subtrees leaf values\n     subtrees.forEach(function(tree) {\n       result.push(_getValues(tree));\n     })\n\n     //  Split the next furthest distance root node\n     function _findNextFurthest(subtrees) {\n       var max = -1,\n           furthest;\n       subtrees.forEach(function(tree){\n         if(tree.dist > max) {\n           max = tree.dist;\n           furthest = tree;\n         }\n       });\n       return furthest;\n     }\n\n     //  Traverse the tree and yield a list of the leaf node values\n     function _getValues(tree) {\n       if(tree.size === 1) return [tree.value];\n       return _getValues(tree.left).concat(_getValues(tree.right));\n     }\n\n     return result;\n   }\n}\n\nvar hcluster = function(items, distance, linkage, threshold, snapshot, snapshotCallback) {\n   distance = distance || \"euclidean\";\n   linkage = linkage || \"average\";\n\n   if (typeof distance == \"string\") {\n     distance = distances[distance];\n   }\n  var hc = new HierarchicalClustering(distance, linkage, threshold),\n      tree = hc.tree(items, snapshot, snapshotCallback);\n\n   return {\n     tree: (threshold === undefined ? tree[0] : tree),\n     clusters: hc.clusters\n   };\n}\n\nmodule.exports = hcluster;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (window, factory) {\n    if (true) {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(arg) {\n  return typeof arg === 'number' && arg === arg;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  return Math.pow(jStat.product(arr), 1 / arr.length);\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var arrlen = arr.length;\n  var sorted = arr.slice().sort(ascNum);\n  var ranks = new Array(arrlen);\n  var val;\n  for (var i = 0; i < arrlen; i++) {\n    var first = sorted.indexOf(arr[i]);\n    var last = sorted.lastIndexOf(arr[i]);\n    if (first === last) {\n      val = first;\n    } else {\n      val = (first + last) / 2;\n    }\n    ranks[i] = val + 1;\n  }\n  return ranks;\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function(a, b, c) {\n      if (!(this instanceof arguments.callee))\n        return new arguments.callee(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sample: function sample(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    var alen = a.length,\n    alend = alen * 2,\n    vals = new Array(alend),\n    rowshift = alen - 1,\n    colshift = alend - 1,\n    mrow = rowshift - alen + 1,\n    mcol = colshift,\n    i = 0,\n    result = 0,\n    j;\n    // check for special 2x2 case\n    if (alen === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n    for (; i < alend; i++) {\n      vals[i] = 1;\n    }\n    for (i = 0; i < alen; i++) {\n      for (j = 0; j < alen; j++) {\n        vals[(mrow < 0) ? mrow + alen : mrow ] *= a[i][j];\n        vals[(mcol < alen) ? mcol + alen : mcol ] *= a[i][j];\n        mrow++;\n        mcol--;\n      }\n      mrow = --rowshift - alen + 1;\n      mcol = --colshift;\n    }\n    for (i = 0; i < alen; i++) {\n      result += vals[i];\n    }\n    for (; i < alend; i++) {\n      result -= vals[i];\n    }\n    return result;\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n\n\n/***/ })\n/******/ ]);",null)}},function(t,e,n){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(r.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e){var n="string";function r(t,e,r){e=e||function(t){return t};for(var o,i,a,s,c,p=t,d=[{lower_index_incl:0,upper_index_excl:t.length}],h=[],f=0;f<t.length;f++)(c=e(t[f])).length>h.length&&(h=c);for(var m=h.length,g=0;g<m;g++){o=[],i=[];for(var v=0;v<d.length;v++)l(o,(s=u(p,e,(a=d[v]).lower_index_incl,a.upper_index_excl,g,typeof h[g]===n)).sorted_array),l(i,s.bucket_ranges);p=o,d=i}if(r){var y;o=[];for(v=0;v<d.length;v++)a=d[v],(y=p.slice(a.lower_index_incl,a.upper_index_excl)).sort(r),l(o,y);p=o}return p}function o(t,e){return e=e||function(t){return t},r(t.map(function(t){return{d:t,vector:i(e(t))}}),function(t){return t.vector}).map(function(t){return t.d})}function i(t){for(var e,n=[],r=t.length,o=-1,i=0;i<r;i++)(e=t.charCodeAt(i))>=48&&e<=57?-1===o&&(o=i):(o>-1&&(n.push(parseInt(t.substring(o,i),10)),o=-1),n.push(e));return o>-1&&n.push(parseInt(t.substring(o),10)),n}function a(t,e){for(var r,o,l,u=0,c=0;c<t.length;c++){if(c>=e.length){u=1;break}if(o=t[c],l=e[c],0!==(r=typeof o===n?a(i(o),i(l)):s(o,l))){u=r;break}}return 0===u&&t.length<e.length&&(u=-1),u}function s(t,e){return t<e?-1:t>e?1:0}function l(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}function u(t,e,n,r,i,a){if(!t.length||n>=r)return{sorted_array:[],bucket_ranges:[]};for(var u,c,p={},d=[],h=n;h<r;h++)(u=e(t[h])).length>i?(p[c=u[i]]=p[c]||[],p[c].push(t[h])):d.push(t[h]);var f=Object.keys(p);if(a)f=o(f);else{for(h=0;h<f.length;h++)f[h]=parseFloat(f[h]);f.sort(s)}var m,g,v=[],y=[];d.length&&(m=n+v.length,y.push({lower_index_incl:m,upper_index_excl:m+d.length}),l(v,d));for(h=0;h<f.length;h++){var b=p[f[h]];g=(m=n+v.length)+b.length,y.push({lower_index_incl:m,upper_index_excl:g}),l(v,b)}return{sorted_array:v,bucket_ranges:y}}t.exports={bucketSort:r,stringSort:o,compare:a,compareFull:function(t,e,n,r){var o=a(n(t),n(e));return 0===o&&r&&(o=r(t,e)),o},__bucketSortHelper:u,__stringToVector:i}},function(t,e,n){var r=n(7),o=n(2),i=n(28),a=n(5),s=n(11),l=n(0),u=function(t,e){return t<e?-1:t>e?1:0},c=function(t,e,n){for(var r=n=n||0;r<t.length;r++)if(e(t[r]))return r;return-1},p=function(t,e,n){var r=t.ctx.createShader(t.ctx[n]);if(t.ctx.shaderSource(r,e),t.ctx.compileShader(r),!t.ctx.getShaderParameter(r,t.ctx.COMPILE_STATUS)){var o=t.ctx.getShaderInfoLog(r);throw t.ctx.deleteShader(r),"Unable to compile shader: "+o}return r},d=function(){function t(t,r,o,i,s,u,c,p){this.$container=t,this.$canvas=r,this.$overlay_canvas=o,this.supersampling_ratio=2,this.antialias=!0,this.antialias_on_cell_width_thresh=5,this.position_bit_pack_base=128,f(this),m(this),h(this),this.visible_area_width=r[0].width;var g=this;this.tooltip=u,this.tooltip.center=!0,this.scroll_x=0,this.scroll_y=0,this.$dummy_scroll_div_contents=i,this.dummy_scroll_div_client_size=new a({width:i.parent()[0].clientWidth,height:i.parent()[0].clientHeight},function(){return{width:i.parent()[0].clientWidth,height:i.parent()[0].clientHeight}}),this.identified_shape_list_list={},this.vertex_data={},this.vertex_column_array={},this.vertex_position_buffer={},this.vertex_color_buffer={},this.vertex_column_buffer={},this.color_texture={},this.id_to_first_vertex_index={},this.rendering_suppressed=!1,this.highlight_area_callback=void 0===c?function(){}:c,function(t){var r,o,i=!1,a=function(t,e){return Math.abs(t-e)>=10},c=function(){if(i&&(i=!1,a(r,o))){var e=Math.min(r,o),n=Math.max(r,o);t.highlight_area_callback(e+t.scroll_x,n+t.scroll_x)}},h=function(e,n){var r=t.$overlay_canvas.offset(),o=t.$overlay_canvas.width(),i=t.$overlay_canvas.height();return e>=r.left&&e<o+r.left&&n>=r.top&&n<i+r.top};t.mouseMoveHandler=function(e){h(e.pageX,e.pageY)||(d(t),u.hide(),p(null))},l(document).on("mousemove",t.mouseMoveHandler),t.$overlay_canvas.on("mousemove",function(l){if(!t.rendering_suppressed){d(t);var c=t.$overlay_canvas.offset(),h=l.pageX-c.left,f=l.pageY-c.top;if(i){v=null,o=h;_=Math.min(h,r);var m=Math.max(h,r),g=a(r,o)?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.2)";n(t,_,0,m-_,s.getCellViewHeight(),g)}else{var v=s.getOverlappingCells(h+t.scroll_x,f+t.scroll_y),y=null===v?null:v.ids.map(function(t){return s.getTrackDatum(v.track,t)}),b=(s.getCellWidth(),s.getCellPadding());if(null!==y){p(v.track);var _=s.getZoomedColumnLeft(v.ids[0])-t.scroll_x;e(t,_,s.getCellTops(v.track)-t.scroll_y,s.getCellWidth()+(s.getTrackHasColumnSpacing(v.track)?0:b),s.getCellHeight(v.track),"rgba(0,0,0,1)");for(var x=s.getTracks(),S=0;S<x.length;S++)null!==s.getTrackDatum(x[S],v.ids[0])&&e(t,_,s.getCellTops(x[S])-t.scroll_y,s.getCellWidth()+(s.getTrackHasColumnSpacing(x[S])?0:b),s.getCellHeight(x[S]),"rgba(0,0,0,0.5)");var w=t.$overlay_canvas[0].getBoundingClientRect();u.show(250,s.getZoomedColumnLeft(v.ids[0])+s.getCellWidth()/2+w.left-t.scroll_x,s.getCellTops(v.track)+w.top-t.scroll_y,s.getTrackTooltipFn(v.track)(y))}else u.hideIfNotAlreadyGoingTo(150),v=null}null===v&&p(null)}}),t.$overlay_canvas.on("mousedown",function(e){h(e.pageX,e.pageY)&&(i=!0,r=e.pageX-t.$overlay_canvas.offset().left,o=r,u.hide())}),t.$overlay_canvas.on("mouseup",function(t){h(t.pageX,t.pageY)&&c()}),t.$overlay_canvas.on("mouseleave",function(t){c()})}(this),i.parent().scroll(function(){d(g)})}var e=function(t,e,n,r,o,i){var a=t.overlay_ctx;a.strokeStyle=i,a.strokeWidth=10,a.strokeRect(t.supersampling_ratio*e,t.supersampling_ratio*n,t.supersampling_ratio*r,t.supersampling_ratio*o)},n=function(t,e,n,r,o,i){var a=t.overlay_ctx;a.fillStyle=i,a.fillRect(t.supersampling_ratio*e,t.supersampling_ratio*n,t.supersampling_ratio*r,t.supersampling_ratio*o)},d=function(t){t.overlay_ctx.fillStyle="rgba(0,0,0,0)",t.overlay_ctx.clearRect(0,0,t.$overlay_canvas[0].width,t.$overlay_canvas[0].height)},h=function(t){t.overlay_ctx=t.$overlay_canvas[0].getContext("2d"),d(t)},f=function(t){t.ctx=function(t){try{var e=t.$canvas[0],n=t.ctx||e.getContext("experimental-webgl",{alpha:!1,antialias:t.antialias});return n.clearColor(1,1,1,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.viewportWidth=e.width,n.viewportHeight=e.height,n.viewport(0,0,n.viewportWidth,n.viewportHeight),n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.depthMask(!1),n}catch(t){return null}}(t),function(t){var e=r.mat4.create();r.mat4.lookAt(e,[0,0,1],[0,0,0],[0,1,0]),t.mvMatrix=e;var n=r.mat4.create();r.mat4.ortho(n,0,t.ctx.viewportWidth,t.ctx.viewportHeight,0,-5,1e3),t.pMatrix=n}(t)},m=function(t){var e=["precision highp float;","attribute float aPosVertex;","attribute float aColVertex;","attribute float aVertexOncoprintColumn;","uniform float columnWidth;","uniform float scrollX;","uniform float zoomX;","uniform float scrollY;","uniform float zoomY;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","uniform float offsetY;","uniform float supersamplingRatio;","uniform float positionBitPackBase;","uniform float texSize;","varying float texCoord;","vec3 unpackVec3(float packedVec3, float base) {","\tfloat pos0 = floor(packedVec3 / (base*base));","\tfloat pos0Contr = pos0*base*base;","\tfloat pos1 = floor((packedVec3 - pos0Contr)/base);","\tfloat pos1Contr = pos1*base;","\tfloat pos2 = packedVec3 - pos0Contr - pos1Contr;","\treturn vec3(pos0, pos1, pos2);","}","void main(void) {","\tgl_Position = vec4(unpackVec3(aPosVertex, positionBitPackBase), 1.0);","\tgl_Position[0] += aVertexOncoprintColumn*columnWidth;","\tgl_Position *= vec4(zoomX, zoomY, 1.0, 1.0);","\tgl_Position[1] += offsetY;","\tgl_Position -= vec4(scrollX, scrollY, 0.0, 0.0);","\tgl_Position[0] *= supersamplingRatio;","\tgl_Position[1] *= supersamplingRatio;","\tgl_Position = uPMatrix * uMVMatrix * gl_Position;","\ttexCoord = (aColVertex + 0.5) / texSize;","}"].join("\n"),n=["precision mediump float;","varying float texCoord;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(texCoord, 0.5));","}"].join("\n"),r=function(t,e,n){var r=t.ctx.createProgram();if(t.ctx.attachShader(r,e),t.ctx.attachShader(r,n),t.ctx.linkProgram(r),!t.ctx.getProgramParameter(r,t.ctx.LINK_STATUS)){var o=t.ctx.getProgramInfoLog(r);throw t.ctx.deleteProgram(r),"Unable to link shader program: "+o}return r}(t,p(t,e,"VERTEX_SHADER"),p(t,n,"FRAGMENT_SHADER"));r.vertexPositionAttribute=t.ctx.getAttribLocation(r,"aPosVertex"),t.ctx.enableVertexAttribArray(r.vertexPositionAttribute),r.vertexColorAttribute=t.ctx.getAttribLocation(r,"aColVertex"),t.ctx.enableVertexAttribArray(r.vertexColorAttribute),r.vertexOncoprintColumnAttribute=t.ctx.getAttribLocation(r,"aVertexOncoprintColumn"),t.ctx.enableVertexAttribArray(r.vertexOncoprintColumnAttribute),r.samplerUniform=t.ctx.getUniformLocation(r,"uSampler"),r.pMatrixUniform=t.ctx.getUniformLocation(r,"uPMatrix"),r.mvMatrixUniform=t.ctx.getUniformLocation(r,"uMVMatrix"),r.columnWidthUniform=t.ctx.getUniformLocation(r,"columnWidth"),r.scrollXUniform=t.ctx.getUniformLocation(r,"scrollX"),r.scrollYUniform=t.ctx.getUniformLocation(r,"scrollY"),r.zoomXUniform=t.ctx.getUniformLocation(r,"zoomX"),r.zoomYUniform=t.ctx.getUniformLocation(r,"zoomY"),r.offsetYUniform=t.ctx.getUniformLocation(r,"offsetY"),r.supersamplingRatioUniform=t.ctx.getUniformLocation(r,"supersamplingRatio"),r.positionBitPackBaseUniform=t.ctx.getUniformLocation(r,"positionBitPackBase"),r.texSizeUniform=t.ctx.getUniformLocation(r,"texSize"),t.shader_program=r},g=function(t,e,n){if(!t.rendering_suppressed){var r=t.scroll_x,o=t.scroll_y,i=e.getHorzZoom(),a=e.getVertZoom(),s=t.getViewportOncoprintSpace(e),l=s.left,u=s.right,p=s.top,d=s.bottom,g=e.getColumnLeft(),v=e.getIdOrder(),y=c(v,function(t){return g[t]>=l}),_=c(v,function(t){return g[t]>u},y+1),x=y<1?v[0]:v[y-1],S=-1===_?null:v[_];n||function(t,e){var n=e.getCellViewHeight(),r=t.getTotalWidth(e),o=t.visible_area_width;t.$dummy_scroll_div_contents.css({"min-width":r,"min-height":e.getOncoprintHeight()}),t.$dummy_scroll_div_contents.parent().css({height:n+20,width:o+20}),t.dummy_scroll_div_client_size.update(),t.$canvas[0].height=t.supersampling_ratio*n,t.$canvas[0].style.height=n+"px",t.$overlay_canvas[0].height=t.supersampling_ratio*n,t.$overlay_canvas[0].style.height=n+"px",t.$canvas[0].width=t.supersampling_ratio*o,t.$canvas[0].style.width=o+"px",t.$overlay_canvas[0].width=t.supersampling_ratio*o,t.$overlay_canvas[0].style.width=o+"px",t.$container.css("height",n),t.$container.css("width",o),f(t),m(t),h(t)}(t,e),t.ctx.clearColor(1,1,1,1),t.ctx.clear(t.ctx.COLOR_BUFFER_BIT|t.ctx.DEPTH_BUFFER_BIT);for(var w=e.getTracks(),C=0;C<w.length;C++){var k=w[C],T=e.getCellTops(k),M=e.getCellHeight(k);if(!(T/a>=d||(T+M)/a<p)){var j=b(t,k);if(0!==j.position.numItems){var E=t.id_to_first_vertex_index[k][x],O=null===S?j.position.numItems:t.id_to_first_vertex_index[k][S];t.ctx.useProgram(t.shader_program),t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,j.position),t.ctx.vertexAttribPointer(t.shader_program.vertexPositionAttribute,j.position.itemSize,t.ctx.FLOAT,!1,0,0),t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,j.color),t.ctx.vertexAttribPointer(t.shader_program.vertexColorAttribute,j.color.itemSize,t.ctx.FLOAT,!1,0,0),t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,j.column),t.ctx.vertexAttribPointer(t.shader_program.vertexOncoprintColumnAttribute,j.column.itemSize,t.ctx.FLOAT,!1,0,0),t.ctx.activeTexture(t.ctx.TEXTURE0),t.ctx.bindTexture(t.ctx.TEXTURE_2D,j.color_tex.texture),t.ctx.uniform1i(t.shader_program.samplerUniform,0),t.ctx.uniform1f(t.shader_program.texSizeUniform,j.color_tex.size),t.ctx.uniformMatrix4fv(t.shader_program.pMatrixUniform,!1,t.pMatrix),t.ctx.uniformMatrix4fv(t.shader_program.mvMatrixUniform,!1,t.mvMatrix),t.ctx.uniform1f(t.shader_program.columnWidthUniform,e.getCellWidth(!0)+e.getCellPadding(!0)),t.ctx.uniform1f(t.shader_program.scrollXUniform,r),t.ctx.uniform1f(t.shader_program.scrollYUniform,o),t.ctx.uniform1f(t.shader_program.zoomXUniform,i),t.ctx.uniform1f(t.shader_program.zoomYUniform,a),t.ctx.uniform1f(t.shader_program.offsetYUniform,T),t.ctx.uniform1f(t.shader_program.supersamplingRatioUniform,t.supersampling_ratio),t.ctx.uniform1f(t.shader_program.positionBitPackBaseUniform,t.position_bit_pack_base),t.ctx.drawArrays(t.ctx.TRIANGLES,E,O-E)}}}}},v=function(t,e,n){var r;r=void 0===n?e.getTracks():[n];for(var o=0;o<r.length;o++)t.vertex_position_buffer[r[o]]&&(t.ctx.deleteBuffer(t.vertex_position_buffer[r[o]]),delete t.vertex_position_buffer[r[o]]),t.vertex_color_buffer[r[o]]&&(t.ctx.deleteBuffer(t.vertex_color_buffer[r[o]]),delete t.vertex_color_buffer[r[o]]),t.color_texture[r[o]]&&(t.ctx.deleteTexture(t.color_texture[r[o]].texture),delete t.color_texture[r[o]])},y=function(t,e,n){var r;r=void 0===n?e.getTracks():[n];for(var o=0;o<r.length;o++)t.vertex_column_buffer[r[o]]&&(t.ctx.deleteBuffer(t.vertex_column_buffer[r[o]]),delete t.vertex_column_buffer[r[o]])},b=function(t,e){if(void 0===t.vertex_position_buffer[e]){var n=t.ctx.createBuffer(),r=t.vertex_data[e].pos_array;t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,n),t.ctx.bufferData(t.ctx.ARRAY_BUFFER,new Float32Array(r),t.ctx.STATIC_DRAW),n.itemSize=1,n.numItems=r.length/n.itemSize,t.vertex_position_buffer[e]=n}if(void 0===t.vertex_color_buffer[e]){var o=t.ctx.createBuffer(),i=t.vertex_data[e].col_array;t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,o),t.ctx.bufferData(t.ctx.ARRAY_BUFFER,new Float32Array(i),t.ctx.STATIC_DRAW),o.itemSize=1,o.numItems=i.length/o.itemSize,t.vertex_color_buffer[e]=o}if(void 0===t.color_texture[e]){var a=t.ctx.createTexture();t.ctx.bindTexture(t.ctx.TEXTURE_2D,a);for(var s=t.vertex_data[e].col_bank,l=Math.pow(2,Math.ceil(Math.log2(s.length/4)));s.length<4*l;)s.push(0);t.ctx.texImage2D(t.ctx.TEXTURE_2D,0,t.ctx.RGBA,l,1,0,t.ctx.RGBA,t.ctx.UNSIGNED_BYTE,new Uint8Array(s)),t.ctx.texParameteri(t.ctx.TEXTURE_2D,t.ctx.TEXTURE_MIN_FILTER,t.ctx.NEAREST),t.ctx.texParameteri(t.ctx.TEXTURE_2D,t.ctx.TEXTURE_MAG_FILTER,t.ctx.NEAREST),t.color_texture[e]={texture:a,size:l}}if(void 0===t.vertex_column_buffer[e]){var u=t.ctx.createBuffer(),c=t.vertex_column_array[e];t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,u),t.ctx.bufferData(t.ctx.ARRAY_BUFFER,new Float32Array(c),t.ctx.STATIC_DRAW),u.itemSize=1,u.numItems=c.length/u.itemSize,t.vertex_column_buffer[e]=u}return{position:t.vertex_position_buffer[e],color:t.vertex_color_buffer[e],color_tex:t.color_texture[e],column:t.vertex_column_buffer[e]}},_=function(t,e,n){if(!t.rendering_suppressed){for(var r=t.vertex_data[n].pos_array.length,o=t.id_to_first_vertex_index[n],i=e.getVisibleIdToIndexMap(),a=Object.keys(o).map(function(t){return[t,o[t]]}).sort(function(t,e){return u(t[1],e[1])}),s=[],l=0;l<a.length;l++)for(var c=(l===a.length-1?r:a[l+1][1])-a[l][1],p=i[a[l][0]],d=0;d<c;d++)s.push(p);t.vertex_column_array[n]=s,y(t,e,n)}},x=function(t,e,n){if(!t.rendering_suppressed){var r=t.identified_shape_list_list[n],o=e.getIdToIndexMap();r.sort(function(t,e){return u(o[t.id],o[e.id])});for(var a=[],l=[],c={},p=[],d={},h=t.position_bit_pack_base,f=function(t){return h*h*t[0]+h*t[1]+t[2]},m={},g=0;g<r.length;g++){var y=r[g].shape_list;c[r[g].id]=a.length;for(var b=0;b<y.length;b++){var _=y[b],x=s.Shape.hashComputedShape(_,b);if(!m.hasOwnProperty(x)){m[x]={position:[],color:[]};var S=m[x].position,w=m[x].color;i(_,b,function(t,e){t=t.map(Math.round),e=e.map(function(t){return Math.round(255*t)}),S.push(f(t));var n=e.join(","),r=d[n];void 0===r&&(r=p.length,p.push(e),d[n]=r),w.push(r)})}a.push.apply(a,m[x].position),l.push.apply(l,m[x].color)}}0===(p=p.reduce(function(t,e){return t.concat(e)},[])).length&&p.push(0,0,0,0),t.vertex_data[n]={pos_array:a,col_array:l,col_bank:p},t.id_to_first_vertex_index[n]=c,v(t,e,n)}},S=function(t,e,n){t.rendering_suppressed||(t.identified_shape_list_list[n]=e.getIdentifiedShapeListList(n,!0,!0))},w=function(t,e){v(t,e),y(t,e),function(t){var e=t.$canvas[0],n=e.cloneNode(),r=e.parentNode;r.removeChild(e),r.insertBefore(n,t.$overlay_canvas[0]),t.$canvas=l(n),t.ctx=null}(t),f(t,e),m(t)};t.prototype.clearOverlay=function(){d(this)},t.prototype.getViewportOncoprintSpace=function(t){var e=this.scroll_x,n=this.scroll_y,r=t.getHorzZoom(),o=t.getVertZoom(),i=Math.round(e/r),a=Math.round((e+this.visible_area_width)/r);return{top:Math.round(n/o),bottom:Math.round((n+t.getCellViewHeight())/o),left:i,right:a}},t.prototype.isUsable=function(){return null!==this.ctx},t.prototype.removeTrack=function(t,e){delete this.identified_shape_list_list[e],delete this.vertex_data[e],delete this.vertex_column_array[e],delete this.id_to_first_vertex_index[e],v(this,t,e),y(this,t,e),this.rendering_suppressed||g(this,t)},t.prototype.moveTrack=function(t){this.rendering_suppressed||g(this,t)},t.prototype.setTrackGroupOrder=function(t){g(this,t)},t.prototype.addTracks=function(t,e){if(!this.rendering_suppressed){for(var n=0;n<e.length;n++)S(this,t,e[n]),x(this,t,e[n]),_(this,t,e[n]);g(this,t)}},t.prototype.setIdOrder=function(t,e){if(!this.rendering_suppressed){for(var n=t.getTracks(),r=0;r<n.length;r++)_(this,t,n[r]);g(this,t)}},t.prototype.setTrackGroupSortPriority=function(t){this.rendering_suppressed||g(this,t)},t.prototype.sort=function(t){if(!this.rendering_suppressed){for(var e=t.getTracks(),n=0;n<e.length;n++)x(this,t,e[n]),_(this,t,e[n]);g(this,t)}},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,C(this,t);for(var e=t.getTracks(),n=0;n<e.length;n++)S(this,t,e[n]),x(this,t,e[n]),_(this,t,e[n]);g(this,t)},t.prototype.hideIds=function(t){if(!this.rendering_suppressed){for(var e=t.getTracks(),n=0;n<e.length;n++)_(this,t,e[n]);g(this,t)}},t.prototype.setTrackImportantIds=function(t,e){this.rendering_suppressed||(S(this,t,e),x(this,t,e),_(this,t,e),g(this,t))},t.prototype.setTrackData=function(t,e){this.rendering_suppressed||(S(this,t,e),x(this,t,e),_(this,t,e),g(this,t))},t.prototype.setRuleSet=function(t,e){this.rendering_suppressed||(S(this,t,e),x(this,t,e),g(this,t))},t.prototype.shareRuleSet=function(t,e){this.rendering_suppressed||(S(this,t,e),x(this,t,e),g(this,t))},t.prototype.setSortConfig=function(t){this.rendering_suppressed||this.sort(t)},t.prototype.setHorzScroll=function(t){this.setScroll(t)},t.prototype.setVertScroll=function(t){this.setScroll(t)},t.prototype.setScroll=function(t){this.scroll_x=t.getHorzScroll(),this.scroll_y=t.getVertScroll(),this.rendering_suppressed||g(this,t,!0)};var C=function(t,e){e.getCellWidth()<t.antialias_on_cell_width_thresh?t.antialias||(t.antialias=!0,w(t,e)):t.antialias&&(t.antialias=!1,w(t,e))};return t.prototype.setZoom=function(t){this.rendering_suppressed||(C(this,t),g(this,t))},t.prototype.setHorzZoom=function(t){this.rendering_suppressed||(C(this,t),g(this,t))},t.prototype.setVertZoom=function(t){this.rendering_suppressed||g(this,t)},t.prototype.setViewport=function(t){this.scroll_x=t.getHorzScroll(),this.scroll_y=t.getVertScroll(),this.rendering_suppressed||(C(this,t),g(this,t))},t.prototype.getTotalWidth=function(t,e){return(t.getCellWidth(e)+t.getCellPadding(e))*t.getIdOrder().length},t.prototype.getWidth=function(){return this.visible_area_width},t.prototype.setWidth=function(t,e){this.visible_area_width=t,this.rendering_suppressed||g(this,e)},t.prototype.setCellPaddingOn=function(t){if(!this.rendering_suppressed){for(var e=t.getTracks(),n=0;n<e.length;n++)t.getTrackHasColumnSpacing(e[n])||(S(this,t,e[n]),x(this,t,e[n])),_(this,t,e[n]);g(this,t)}},t.prototype.getDummyScrollDivClientSize=function(){return this.dummy_scroll_div_client_size.get()},t.prototype.toSVGGroup=function(t,e,n){for(var r=o.group(e||0,n||0),i=t.getCellTops(),a=t.getTracks(),s=t.getZoomedColumnLeft(),l=0;l<a.length;l++)for(var u=a[l],c=(n=i[u],t.getIdentifiedShapeListList(u,!1,!0)),p=0;p<c.length;p++){var d=c[p],h=d.id,f=d.shape_list;if(void 0!==(e=s[h]))for(var m=0;m<f.length;m++)r.appendChild(o.fromShape(f[m],e,n))}return r},t.prototype.destroy=function(){this.$overlay_canvas.off(),l(document).off("mousemove",self.mouseMoveHandler)},t}();t.exports=d},function(t,e,n){var r=n(1),o={create:function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},fromValues:function(t,e,n,o){var i=new r.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=o,i},set:function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*i-o*r;return a?(a=1/a,t[0]=i*a,t[1]=-r*a,t[2]=-o*a,t[3]=n*a,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*s+i*l,t[1]=o*s+a*l,t[2]=r*u+i*c,t[3]=o*u+a*c,t}};o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=o*l+a*s,t[2]=r*-s+i*l,t[3]=o*-s+a*l,t},o.scale=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*l,t[3]=a*l,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},o.sub=o.subtract,o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=o},function(t,e,n){var r=n(1),o={create:function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},fromValues:function(t,e,n,o,i,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=o,s[4]=i,s[5]=a,s},set:function(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t},invert:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=n*i-r*o;return l?(l=1/l,t[0]=i*l,t[1]=-r*l,t[2]=-o*l,t[3]=n*l,t[4]=(o*s-i*a)*l,t[5]=(r*a-n*s)*l,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1],p=n[2],d=n[3],h=n[4],f=n[5];return t[0]=r*u+i*c,t[1]=o*u+a*c,t[2]=r*p+i*d,t[3]=o*p+a*d,t[4]=r*h+i*f+s,t[5]=o*h+a*f+l,t}};o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*u,t[1]=o*c+a*u,t[2]=r*-u+i*c,t[3]=o*-u+a*c,t[4]=s,t[5]=l,t},o.scale=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r*u,t[1]=o*u,t[2]=i*c,t[3]=a*c,t[4]=s,t[5]=l,t},o.translate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=r*u+i*c+s,t[5]=o*u+a*c+l,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=e[0],c=e[1],p=e[2],d=e[3],h=e[4],f=e[5];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-h)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(l-f)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(f))},t.exports=o},function(t,e,n){var r=n(1),o={scalar:{},SIMD:{},create:function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(t,e,n,o,i,a,s,l,u,c,p,d,h,f,m,g){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=o,v[4]=i,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=p,v[11]=d,v[12]=h,v[13]=f,v[14]=m,v[15]=g,v},set:function(t,e,n,r,o,i,a,s,l,u,c,p,d,h,f,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=p,t[11]=d,t[12]=h,t[13]=f,t[14]=m,t[15]=g,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}};o.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},o.SIMD.transpose=function(t,e){var n,r,o,i,a,s,l,u,c,p;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(o,i,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(o,i,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),p=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,p),t},o.transpose=r.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],d=e[10],h=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,S=r*u-i*s,w=o*u-i*l,C=c*m-p*f,k=c*g-d*f,T=c*v-h*f,M=p*g-d*m,j=p*v-h*m,E=d*v-h*g,O=y*E-b*j+_*M+x*T-S*k+w*C;return O?(O=1/O,t[0]=(s*E-l*j+u*M)*O,t[1]=(o*j-r*E-i*M)*O,t[2]=(m*w-g*S+v*x)*O,t[3]=(d*S-p*w-h*x)*O,t[4]=(l*T-a*E-u*k)*O,t[5]=(n*E-o*T+i*k)*O,t[6]=(g*_-f*w-v*b)*O,t[7]=(c*w-d*_+h*b)*O,t[8]=(a*j-s*T+u*C)*O,t[9]=(r*T-n*j-i*C)*O,t[10]=(f*S-m*_+v*y)*O,t[11]=(p*_-c*S-h*y)*O,t[12]=(s*k-a*M-l*C)*O,t[13]=(n*M-r*k+o*C)*O,t[14]=(m*b-f*x-g*y)*O,t[15]=(c*x-p*b+d*y)*O,t):null},o.SIMD.invert=function(t,e){var n,r,o,i,a,s,l,u,c,p,d=SIMD.Float32x4.load(e,0),h=SIMD.Float32x4.load(e,4),f=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(d,h,0,1,4,5),r=SIMD.Float32x4.shuffle(f,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(d,h,2,3,6,7),i=SIMD.Float32x4.shuffle(f,m,2,3,6,7),o=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(o,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),p=SIMD.Float32x4.mul(n,s),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,2,3,0,1),p),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,1,0,3,2),p),a=SIMD.Float32x4.reciprocalApproximation(p),p=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(p,SIMD.Float32x4.mul(a,a))),(p=SIMD.Float32x4.swizzle(p,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(p,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(p,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(p,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(p,c)),t):null},o.invert=r.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],d=e[10],h=e[11],f=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(d*v-h*g)-p*(l*v-u*g)+m*(l*h-u*d),t[1]=-(r*(d*v-h*g)-p*(o*v-i*g)+m*(o*h-i*d)),t[2]=r*(l*v-u*g)-s*(o*v-i*g)+m*(o*u-i*l),t[3]=-(r*(l*h-u*d)-s*(o*h-i*d)+p*(o*u-i*l)),t[4]=-(a*(d*v-h*g)-c*(l*v-u*g)+f*(l*h-u*d)),t[5]=n*(d*v-h*g)-c*(o*v-i*g)+f*(o*h-i*d),t[6]=-(n*(l*v-u*g)-a*(o*v-i*g)+f*(o*u-i*l)),t[7]=n*(l*h-u*d)-a*(o*h-i*d)+c*(o*u-i*l),t[8]=a*(p*v-h*m)-c*(s*v-u*m)+f*(s*h-u*p),t[9]=-(n*(p*v-h*m)-c*(r*v-i*m)+f*(r*h-i*p)),t[10]=n*(s*v-u*m)-a*(r*v-i*m)+f*(r*u-i*s),t[11]=-(n*(s*h-u*p)-a*(r*h-i*p)+c*(r*u-i*s)),t[12]=-(a*(p*g-d*m)-c*(s*g-l*m)+f*(s*d-l*p)),t[13]=n*(p*g-d*m)-c*(r*g-o*m)+f*(r*d-o*p),t[14]=-(n*(s*g-l*m)-a*(r*g-o*m)+f*(r*l-o*s)),t[15]=n*(s*d-l*p)-a*(r*d-o*p)+c*(r*l-o*s),t},o.SIMD.adjoint=function(t,e){var n,r,o,i,a,s,l,u,c,p=SIMD.Float32x4.load(e,0),d=SIMD.Float32x4.load(e,4),h=SIMD.Float32x4.load(e,8),f=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(p,d,0,1,4,5),r=SIMD.Float32x4.shuffle(h,f,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(p,d,2,3,6,7),i=SIMD.Float32x4.shuffle(h,f,2,3,6,7),o=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(o,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),SIMD.Float32x4.store(t,0,s),SIMD.Float32x4.store(t,4,l),SIMD.Float32x4.store(t,8,u),SIMD.Float32x4.store(t,12,c),t},o.adjoint=r.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],d=t[11],h=t[12],f=t[13],m=t[14],g=t[15];return(e*a-n*i)*(p*g-d*m)-(e*s-r*i)*(c*g-d*f)+(e*l-o*i)*(c*m-p*f)+(n*s-r*a)*(u*g-d*h)-(n*l-o*a)*(u*m-p*h)+(r*l-o*s)*(u*f-c*h)},o.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var p=SIMD.Float32x4.load(n,8),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),a))));SIMD.Float32x4.store(t,8,d);var h=SIMD.Float32x4.load(n,12),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(h,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,f),t},o.scalar.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],h=e[10],f=e[11],m=e[12],g=e[13],v=e[14],y=e[15],b=n[0],_=n[1],x=n[2],S=n[3];return t[0]=b*r+_*s+x*p+S*m,t[1]=b*o+_*l+x*d+S*g,t[2]=b*i+_*u+x*h+S*v,t[3]=b*a+_*c+x*f+S*y,b=n[4],_=n[5],x=n[6],S=n[7],t[4]=b*r+_*s+x*p+S*m,t[5]=b*o+_*l+x*d+S*g,t[6]=b*i+_*u+x*h+S*v,t[7]=b*a+_*c+x*f+S*y,b=n[8],_=n[9],x=n[10],S=n[11],t[8]=b*r+_*s+x*p+S*m,t[9]=b*o+_*l+x*d+S*g,t[10]=b*i+_*u+x*h+S*v,t[11]=b*a+_*c+x*f+S*y,b=n[12],_=n[13],x=n[14],S=n[15],t[12]=b*r+_*s+x*p+S*m,t[13]=b*o+_*l+x*d+S*g,t[14]=b*i+_*u+x*h+S*v,t[15]=b*a+_*c+x*f+S*y,t},o.multiply=r.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,e,n){var r,o,i,a,s,l,u,c,p,d,h,f,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],d=e[9],h=e[10],f=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=d,t[10]=h,t[11]=f,t[12]=r*m+s*g+p*v+e[12],t[13]=o*m+l*g+d*v+e[13],t[14]=i*m+u*g+h*v+e[14],t[15]=a*m+c*g+f*v+e[15]),t},o.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,1,1,1,1)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,SIMD.Float32x4.add(i,a)));return SIMD.Float32x4.store(t,12,l),t},o.translate=r.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.SIMD.scale=function(t,e,n){var r,o,i,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),o=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,1,1,1,1))),i=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.scale=r.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,e,n,o){var i,a,s,l,u,c,p,d,h,f,m,g,v,y,b,_,x,S,w,C,k,T,M,j,E=o[0],O=o[1],I=o[2],P=Math.sqrt(E*E+O*O+I*I);return Math.abs(P)<r.EPSILON?null:(E*=P=1/P,O*=P,I*=P,i=Math.sin(n),s=1-(a=Math.cos(n)),l=e[0],u=e[1],c=e[2],p=e[3],d=e[4],h=e[5],f=e[6],m=e[7],g=e[8],v=e[9],y=e[10],b=e[11],_=E*E*s+a,x=O*E*s+I*i,S=I*E*s-O*i,w=E*O*s-I*i,C=O*O*s+a,k=I*O*s+E*i,T=E*I*s+O*i,M=O*I*s-E*i,j=I*I*s+a,t[0]=l*_+d*x+g*S,t[1]=u*_+h*x+v*S,t[2]=c*_+f*x+y*S,t[3]=p*_+m*x+b*S,t[4]=l*w+d*C+g*k,t[5]=u*w+h*C+v*k,t[6]=c*w+f*C+y*k,t[7]=p*w+m*C+b*k,t[8]=l*T+d*M+g*j,t[9]=u*T+h*M+v*j,t[10]=c*T+f*M+y*j,t[11]=p*T+m*M+b*j,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},o.scalar.rotateX=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*r,t[5]=a*o+c*r,t[6]=s*o+p*r,t[7]=l*o+d*r,t[8]=u*o-i*r,t[9]=c*o-a*r,t[10]=p*o-s*r,t[11]=d*o-l*r,t},o.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,r))),t},o.rotateX=r.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],p=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*r,t[1]=a*o-c*r,t[2]=s*o-p*r,t[3]=l*o-d*r,t[8]=i*r+u*o,t[9]=a*r+c*o,t[10]=s*r+p*o,t[11]=l*r+d*o,t},o.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(a,o))),t},o.rotateY=r.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*r,t[1]=a*o+c*r,t[2]=s*o+p*r,t[3]=l*o+d*r,t[4]=u*o-i*r,t[5]=c*o-a*r,t[6]=p*o-s*r,t[7]=d*o-l*r,t},o.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,r))),t},o.rotateZ=r.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e,n){var o,i,a,s=n[0],l=n[1],u=n[2],c=Math.sqrt(s*s+l*l+u*u);return Math.abs(c)<r.EPSILON?null:(s*=c=1/c,l*=c,u*=c,o=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=s*s*a+i,t[1]=l*s*a+u*o,t[2]=u*s*a-l*o,t[3]=0,t[4]=s*l*a-u*o,t[5]=l*l*a+i,t[6]=u*l*a+s*o,t[7]=0,t[8]=s*u*a+l*o,t[9]=l*u*a-s*o,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,l=o+o,u=i+i,c=r*s,p=r*l,d=r*u,h=o*l,f=o*u,m=i*u,g=a*s,v=a*l,y=a*u;return t[0]=1-(h+m),t[1]=p+y,t[2]=d-v,t[3]=0,t[4]=p-y,t[5]=1-(c+m),t[6]=f+g,t[7]=0,t[8]=d+v,t[9]=f-g,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},o.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},o.fromRotationTranslationScale=function(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],l=o+o,u=i+i,c=a+a,p=o*l,d=o*u,h=o*c,f=i*u,m=i*c,g=a*c,v=s*l,y=s*u,b=s*c,_=r[0],x=r[1],S=r[2];return t[0]=(1-(f+g))*_,t[1]=(d+b)*_,t[2]=(h-y)*_,t[3]=0,t[4]=(d-b)*x,t[5]=(1-(p+g))*x,t[6]=(m+v)*x,t[7]=0,t[8]=(h+y)*S,t[9]=(m-v)*S,t[10]=(1-(p+f))*S,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,e,n,r,o){var i=e[0],a=e[1],s=e[2],l=e[3],u=i+i,c=a+a,p=s+s,d=i*u,h=i*c,f=i*p,m=a*c,g=a*p,v=s*p,y=l*u,b=l*c,_=l*p,x=r[0],S=r[1],w=r[2],C=o[0],k=o[1],T=o[2];return t[0]=(1-(m+v))*x,t[1]=(h+_)*x,t[2]=(f-b)*x,t[3]=0,t[4]=(h-_)*S,t[5]=(1-(d+v))*S,t[6]=(g+y)*S,t[7]=0,t[8]=(f+b)*w,t[9]=(g-y)*w,t[10]=(1-(d+m))*w,t[11]=0,t[12]=n[0]+C-(t[0]*C+t[4]*k+t[8]*T),t[13]=n[1]+k-(t[1]*C+t[5]*k+t[9]*T),t[14]=n[2]+T-(t[2]*C+t[6]*k+t[10]*T),t[15]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,p=r*s,d=o*a,h=o*s,f=o*l,m=i*a,g=i*s,v=i*l;return t[0]=1-p-f,t[1]=c+v,t[2]=d-g,t[3]=0,t[4]=c-v,t[5]=1-u-f,t[6]=h+m,t[7]=0,t[8]=d+g,t[9]=h-m,t[10]=1-u-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,e,n,r,o,i,a){var s=1/(n-e),l=1/(o-r),u=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*l,t[10]=(a+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*u,t[15]=0,t},o.perspective=function(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(o+i);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(o-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,e,n,r,o,i,a){var s=1/(e-n),l=1/(r-o),u=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*l,t[14]=(a+i)*u,t[15]=1,t},o.lookAt=function(t,e,n,i){var a,s,l,u,c,p,d,h,f,m,g=e[0],v=e[1],y=e[2],b=i[0],_=i[1],x=i[2],S=n[0],w=n[1],C=n[2];return Math.abs(g-S)<r.EPSILON&&Math.abs(v-w)<r.EPSILON&&Math.abs(y-C)<r.EPSILON?o.identity(t):(d=g-S,h=v-w,f=y-C,a=_*(f*=m=1/Math.sqrt(d*d+h*h+f*f))-x*(h*=m),s=x*(d*=m)-b*f,l=b*h-_*d,(m=Math.sqrt(a*a+s*s+l*l))?(a*=m=1/m,s*=m,l*=m):(a=0,s=0,l=0),u=h*l-f*s,c=f*a-d*l,p=d*s-h*a,(m=Math.sqrt(u*u+c*c+p*p))?(u*=m=1/m,c*=m,p*=m):(u=0,c=0,p=0),t[0]=a,t[1]=u,t[2]=d,t[3]=0,t[4]=s,t[5]=c,t[6]=h,t[7]=0,t[8]=l,t[9]=p,t[10]=f,t[11]=0,t[12]=-(a*g+s*v+l*y),t[13]=-(u*g+c*v+p*y),t[14]=-(d*g+h*v+f*y),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],d=t[9],h=t[10],f=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=e[0],_=e[1],x=e[2],S=e[3],w=e[4],C=e[5],k=e[6],T=e[7],M=e[8],j=e[9],E=e[10],O=e[11],I=e[12],P=e[13],A=e[14],D=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-S)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-w)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(l-C)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-k)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(c-T)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(p-M)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(d-j)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(h-E)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(f-O)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(m-I)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(g-P)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(v-A)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(y-D)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(D))},t.exports=o},function(t,e,n){var r,o,i,a,s,l,u=n(1),c=n(8),p=n(9),d=n(10),h={};h.create=function(){var t=new u.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.rotationTo=(r=p.create(),o=p.fromValues(1,0,0),i=p.fromValues(0,1,0),function(t,e,n){var a=p.dot(e,n);return a<-.999999?(p.cross(r,o,e),p.length(r)<1e-6&&p.cross(r,i,e),p.normalize(r,r),h.setAxisAngle(t,r,Math.PI),t):a>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(p.cross(r,e,n),t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=1+a,h.normalize(t,t))}),h.setAxes=(a=c.create(),function(t,e,n,r){return a[0]=n[0],a[3]=n[1],a[6]=n[2],a[1]=r[0],a[4]=r[1],a[7]=r[2],a[2]=-e[0],a[5]=-e[1],a[8]=-e[2],h.normalize(t,h.fromMat3(t,a))}),h.clone=d.clone,h.fromValues=d.fromValues,h.copy=d.copy,h.set=d.set,h.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},h.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},h.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},h.add=d.add,h.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+o*u-i*l,t[1]=o*c+a*l+i*s-r*u,t[2]=i*c+a*u+r*l-o*s,t[3]=a*c-r*s-o*l-i*u,t},h.mul=h.multiply,h.scale=d.scale,h.rotateX=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=o*l+i*s,t[2]=i*l-o*s,t[3]=a*l-r*s,t},h.rotateY=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-i*s,t[1]=o*l+a*s,t[2]=i*l+r*s,t[3]=a*l-o*s,t},h.rotateZ=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=o*l-r*s,t[2]=i*l+a*s,t[3]=a*l-i*s,t},h.calculateW=function(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},h.dot=d.dot,h.lerp=d.lerp,h.slerp=function(t,e,n,r){var o,i,a,s,l,u=e[0],c=e[1],p=e[2],d=e[3],h=n[0],f=n[1],m=n[2],g=n[3];return(i=u*h+c*f+p*m+d*g)<0&&(i=-i,h=-h,f=-f,m=-m,g=-g),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,l=Math.sin(r*o)/a):(s=1-r,l=r),t[0]=s*u+l*h,t[1]=s*c+l*f,t[2]=s*p+l*m,t[3]=s*d+l*g,t},h.sqlerp=(s=h.create(),l=h.create(),function(t,e,n,r,o,i){return h.slerp(s,e,o,i),h.slerp(l,n,r,i),h.slerp(t,s,l,2*i*(1-i)),t}),h.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-o*s,t[3]=i*s,t},h.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},h.length=d.length,h.len=h.length,h.squaredLength=d.squaredLength,h.sqrLen=h.squaredLength,h.normalize=d.normalize,h.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*i+a]-e[3*a+i])*n,t[i]=(e[3*i+o]+e[3*o+i])*n,t[a]=(e[3*a+o]+e[3*o+a])*n}return t},h.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},h.exactEquals=d.exactEquals,h.equals=d.equals,t.exports=h},function(t,e,n){var r,o=n(1),i={};i.create=function(){var t=new o.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new o.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new o.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t},i.random=function(t,e){e=e||1;var n=2*o.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},i.transformMat2d=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},i.forEach=(r=i.create(),function(t,e,n,o,i,a){var s,l;for(e||(e=2),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],i(r,r,a),t[s]=r[0],t[s+1]=r[1];return t}),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))},t.exports=i},function(t,e){t.exports=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)e.hasOwnProperty(r)&&n.setAttribute(r,e[r]);return n}},function(t,e,n){var r=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)e.hasOwnProperty(r)&&n.setAttribute(r,e[r]);return n},o=n(3),i=function(t){if(t.indexOf("rgb(")>-1)return{rgb:t,opacity:1};var e=o(t);return{rgb:"rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+")",opacity:e[3]}};t.exports=function(t,e,n){var o=t.type;return"rectangle"===o?function(t,e,n){var o=i(t.stroke),a=i(t.fill);return r("rect",{width:t.width,height:t.height,x:parseFloat(t.x)+e,y:parseFloat(t.y)+n,stroke:o.rgb,"stroke-opacity":o.opacity,"stroke-width":t["stroke-width"],fill:a.rgb,"fill-opacity":a.opacity})}(t,e,n):"triangle"===o?function(t,e,n){var o=i(t.stroke),a=i(t.fill);return r("polygon",{points:[[parseFloat(t.x1)+e,parseFloat(t.y1)+n],[parseFloat(t.x2)+e,parseFloat(t.y2)+n],[parseFloat(t.x3)+e,parseFloat(t.y3)+n]].map(function(t){return t[0]+","+t[1]}).join(" "),stroke:o.rgb,"stroke-opacity":o.opacity,"stroke-width":t["stroke-width"],fill:a.rgb,"fill-opacity":a.opacity})}(t,e,n):"ellipse"===o?function(t,e,n){var o=i(t.stroke),a=i(t.fill);return r("ellipse",{rx:parseFloat(t.width)/2,height:parseFloat(t.height)/2,cx:parseFloat(t.x)+e,cy:parseFloat(t.y)+n,stroke:o.rgb,"stroke-opacity":o.opacity,"stroke-width":t["stroke-width"],fill:a.rgb,"fill-opacity":a.opacity})}(t,e,n):"line"===o?function(t,e,n){var o=i(t.stroke);return r("line",{x1:parseFloat(t.x1)+e,y1:parseFloat(t.y1)+n,x2:parseFloat(t.x2)+e,y2:parseFloat(t.y2)+n,stroke:o.rgb,"stroke-opacity":o.opacity,"stroke-width":t["stroke-width"]})}(t,e,n):void 0}},function(t,e){var n=Math.sqrt(2)/2,r=function(t){var e=[0,0,0,1];"#"===t[0]&&(t="rgba("+parseInt(t[1]+t[2],16)+","+parseInt(t[3]+t[4],16)+","+parseInt(t[5]+t[6],16)+",1)");var n=t.match(/^[\s]*rgba\([\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9.]+)[\s]*\)[\s]*$/);return n&&5===n.length&&(e=[parseFloat(n[1])/255,parseFloat(n[2])/255,parseFloat(n[3])/255,parseFloat(n[4])]),e};t.exports=function(t,e,o){var i=t.type;return"rectangle"===i?function(t,e,n){var o=parseFloat(t.x),i=parseFloat(t.y),a=parseFloat(t.height),s=parseFloat(t.width),l=r(t.fill);n([o,i,e],l),n([o+s,i,e],l),n([o+s,i+a,e],l),n([o,i,e],l),n([o+s,i+a,e],l),n([o,i+a,e],l);var u=parseFloat(t["stroke-width"]);if(u>0){var c=r(t.stroke);n([o,i,e],c),n([o+u,i,e],c),n([o+u,i+a,e],c),n([o,i,e],c),n([o+u,i+a,e],c),n([o,i+a,e],c),n([o+s,i,e],c),n([o+s-u,i,e],c),n([o+s-u,i+a,e],c),n([o+s,i,e],c),n([o+s-u,i+a,e],c),n([o+s,i+a,e],c),n([o,i,e],c),n([o+s,i,e],c),n([o+s,i+u,e],c),n([o,i,e],c),n([o+s,i+u,e],c),n([o,i+u,e],c),n([o,i+a,e],c),n([o+s,i+a,e],c),n([o+s,i+a-u,e],c),n([o,i+a,e],c),n([o+s,i+a-u,e],c),n([o,i+a-u,e],c)}}(t,e,o):"triangle"===i?function(t,e,n){var o=r(t.fill);n([parseFloat(t.x1),parseFloat(t.y1),e],o),n([parseFloat(t.x2),parseFloat(t.y2),e],o),n([parseFloat(t.x3),parseFloat(t.y3),e],o)}(t,e,o):"ellipse"===i?function(t,e,o){var i={x:parseFloat(t.x)+parseFloat(t.width)/2,y:parseFloat(t.y)+parseFloat(t.height)/2},a=parseFloat(t.width)/2,s=parseFloat(t.height)/2,l=r(t.fill);o([i.x,i.y,e],l),o([i.x+a,i.y,e],l),o([i.x+n*a,i.y+n*s,e],l),o([i.x,i.y,e],l),o([i.x+n*a,i.y+n*s,e],l),o([i.x,i.y+s,e],l),o([i.x,i.y,e],l),o([i.x,i.y+s,e],l),o([i.x-n*a,i.y+n*s,e],l),o([i.x,i.y,e],l),o([i.x-n*a,i.y+n*s,e],l),o([i.x-a,i.y,e],l),o([i.x,i.y,e],l),o([i.x-a,i.y,e],l),o([i.x-n*a,i.y-n*s,e],l),o([i.x,i.y,e],l),o([i.x-n*a,i.y-n*s,e],l),o([i.x,i.y-s,e],l),o([i.x,i.y,e],l),o([i.x,i.y-s,e],l),o([i.x+n*a,i.y-n*s,e],l),o([i.x,i.y,e],l),o([i.x+n*a,i.y-n*s,e],l),o([i.x+a,i.y,e],l)}(t,e,o):"line"===i?function(t,e,n){var o=parseFloat(t.x1),i=parseFloat(t.x2),a=parseFloat(t.y1),s=parseFloat(t.y2);if(o!==i&&Math.min(o,i)===i){var l=o,u=a;o=i,a=s,i=l,s=u}var c=[s-a,o-i],p=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[c[0]/p,c[1]/p],h=parseFloat(t["stroke-width"])/2,f=[d[0]*h,d[1]*h],m=[-1*f[0],-1*f[1]],g=[o+f[0],a+f[1]],v=[o+m[0],a+m[1]],y=[i+f[0],s+f[1]],b=[i+m[0],s+m[1]],_=r(t.stroke);n([g[0],g[1],e],_),n([v[0],v[1],e],_),n([y[0],y[1],e],_),n([y[0],y[1],e],_),n([b[0],b[1],e],_),n([v[0],v[1],e],_)}(t,e,o):void 0}},function(t,e,n){var r=n(2),o=n(0),i=function(){function t(t,n,r){this.supersampling_ratio=2,this.$canvas=t,this.base_font_size=14,this.model=n,this.tooltip=r,this.tooltip.center=!1,this.cell_tops={},this.cell_tops_view_space={},this.cell_heights={},this.cell_heights_view_space={},this.label_middles_view_space={},this.labels={},this.sublabels={},this.show_sublabels=n.getShowTrackSublabels(),this.label_colors={},this.html_labels={},this.track_link_urls={},this.track_descriptions={},this.tracks=[],this.minimum_track_height=Number.POSITIVE_INFINITY,this.maximum_label_width=Number.NEGATIVE_INFINITY,this.rendering_suppressed=!1,this.highlighted_track=null,i(this),function(t){t.drag_callback=function(t,e){},t.dragged_label_track_id=null,t.drag_mouse_y=null,t.$canvas.on("mousedown",function(e){t.tooltip.hide();var r=p(t,e.offsetY);null!==r&&n.getContainingTrackGroup(r).length>1&&!n.isTrackInClusteredGroup(r)&&f(t,r,e.offsetY)}),t.$canvas.on("mousemove",function(r){if(null!==t.dragged_label_track_id){var i=n.getContainingTrackGroup(t.dragged_label_track_id),a=n.getLastExpansion(i[i.length-1]),l=t.track_tops[a]+n.getTrackHeight(a)-t.scroll_y,d=t.track_tops[i[0]]-5-t.scroll_y;t.drag_mouse_y=Math.min(r.pageY-t.$canvas.offset().top,l),t.drag_mouse_y=Math.max(t.drag_mouse_y,d),c(t)}else{var h=p(t,r.pageY-t.$canvas.offset().top);if(null!==h){var f=o("<div>"),m=t.$canvas[0].getBoundingClientRect();(s(t,t.labels[h])||t.track_link_urls[h])&&f.append(u(t.labels[h],t.html_labels[h],t.track_link_urls[h]));var g=t.track_descriptions[h];g.length>0&&f.append(o("<div>").text(g)),n.isTrackInClusteredGroup(h)?(t.$canvas.css("cursor","not-allowed"),f.append("<b>dragging disabled for clustered tracks</b>")):n.getContainingTrackGroup(h).length>1&&(t.$canvas.css("cursor","move"),f.append("<b>hold to drag</b>")),f.contents().length>0&&t.tooltip.fadeIn(200,e(t,t.labels[h])+m.left,t.cell_tops[h]+m.top-t.scroll_y,f)}else t.$canvas.css("cursor","auto"),t.tooltip.hide()}}),t.$canvas.on("mouseup mouseleave",function(e){if(null!==t.dragged_label_track_id){var r=n.getContainingTrackGroup(t.dragged_label_track_id),o=d(t,r,e.offsetY,t.dragged_label_track_id);m(t,o)}t.tooltip.hideIfNotAlreadyGoingTo(150)})}(this)}var e=function(t,e){return t.ctx.measureText(l(t,e)).width/t.supersampling_ratio},n=function(t,e){if(!t.rendering_suppressed){t.show_sublabels=e.getShowTrackSublabels(),t.scroll_y=e.getVertScroll(),t.track_tops=e.getZoomedTrackTops(),t.cell_tops=e.getCellTops(),t.cell_tops_view_space={},t.cell_heights={},t.tracks=e.getTracks(),t.track_descriptions={},t.ctx.font="bold "+t.getFontSize()+"px Arial",t.minimum_track_height=Number.POSITIVE_INFINITY,t.maximum_label_width=0;for(var n=0;n<t.tracks.length;n++){t.minimum_track_height=Math.min(t.minimum_track_height,e.getTrackHeight(t.tracks[n]));var r=l(t,t.labels[t.tracks[n]]),o=l(t,t.sublabels[t.tracks[n]]),i=t.ctx.measureText(r).width+(t.show_sublabels?t.ctx.measureText(o).width:0);t.maximum_label_width=Math.max(t.maximum_label_width,i),t.cell_tops_view_space[t.tracks[n]]=t.cell_tops[t.tracks[n]]*t.supersampling_ratio-t.scroll_y*t.supersampling_ratio,t.track_descriptions[t.tracks[n]]=e.getTrackDescription(t.tracks[n]),t.cell_heights[t.tracks[n]]=e.getCellHeight(t.tracks[n]),t.cell_heights_view_space[t.tracks[n]]=t.cell_heights[t.tracks[n]]*t.supersampling_ratio,t.label_middles_view_space[t.tracks[n]]=t.cell_tops_view_space[t.tracks[n]]+t.cell_heights_view_space[t.tracks[n]]/2}}},i=function(t){t.ctx=t.$canvas[0].getContext("2d"),t.ctx.textAlign="start",t.ctx.textBaseline="middle"},a=function(t,e){if(!t.rendering_suppressed){var n=e.getCellViewHeight(),r=t.getWidth();t.$canvas[0].height=t.supersampling_ratio*n,t.$canvas[0].width=t.supersampling_ratio*r,t.$canvas[0].style.height=n+"px",t.$canvas[0].style.width=r+"px",i(t)}},s=function(t,e){return e.length>g(t)},l=function(t,e){return s(t,e)?e.substring(0,g(t)-3)+"...":e},u=function(t,e,n){var r;return(r=n?o('<a target="_blank" rel="noopener noreferrer">').attr("href",n):o("<span>")).append(e||document.createTextNode(t)),o('<b style="display: block;">').append(r)},c=function(t){if(!t.rendering_suppressed){t.ctx.clearRect(0,0,t.$canvas[0].width,t.$canvas[0].height),null!==t.highlighted_track&&t.cell_tops_view_space.hasOwnProperty(t.highlighted_track)&&(t.ctx.fillStyle="rgba(255,255,0,0.4)",t.ctx.fillRect(0,t.cell_tops_view_space[t.highlighted_track],t.getWidth()*t.supersampling_ratio,t.cell_heights_view_space[t.highlighted_track]));var e=t.getFontSize();t.ctx.font="bold "+e+"px Arial",t.ctx.fillStyle="black";for(var n=t.tracks,r={},o=0;o<n.length;o++){t.label_colors&&t.label_colors[n[o]]&&(t.ctx.fillStyle=t.label_colors[n[o]]);var i=l(t,t.labels[n[o]]);t.ctx.fillText(i,0,t.label_middles_view_space[n[o]]),r[n[o]]=t.ctx.measureText(i).width}if(t.show_sublabels){t.ctx.font=e+"px Arial",t.ctx.fillStyle="rgb(166,166,166)";for(o=0;o<n.length;o++)t.sublabels[n[o]]&&t.ctx.fillText(l(t,t.sublabels[n[o]]),r[n[o]],t.label_middles_view_space[n[o]])}if(null!==t.dragged_label_track_id){t.ctx.font="bold "+e+"px Arial",t.ctx.fillStyle="rgba(255,0,0,0.95)",t.ctx.fillText(l(t,t.labels[t.dragged_label_track_id]),0,t.supersampling_ratio*t.drag_mouse_y),t.ctx.fillStyle="rgba(0,0,0,0.15)";var a,s,u=t.model.getContainingTrackGroup(t.dragged_label_track_id),c=t.model.getLastExpansion(d(t,u,t.drag_mouse_y,null)),p=h(t,u,t.drag_mouse_y,null);if(c===t.dragged_label_track_id||p===t.dragged_label_track_id)return;null!==c&&null!==p?(a=t.cell_tops_view_space[c]+t.cell_heights_view_space[c],s=t.cell_tops_view_space[p]-a):null===c?(a=t.cell_tops_view_space[u[0]]-t.ctx.measureText("m").width,s=t.ctx.measureText("m").width):null===p&&(a=t.cell_tops_view_space[c]+t.cell_heights_view_space[c],s=t.ctx.measureText("m").width);s=Math.max(s,4),t.ctx.fillRect(0,a,t.getWidth()*t.supersampling_ratio,s)}}},p=function(t,e){var n=d(t,t.tracks,e,null);return null===n?null:e<=t.cell_tops[n]-t.scroll_y+t.cell_heights[n]?n:null},d=function(t,e,n,r){if(n<t.cell_tops[e[0]]-t.scroll_y)return null;for(var o=null,i=0;i<e.length;i++)if(null===r||r!==e[i]){if(t.cell_tops[e[i]]-t.scroll_y>n)break;o=e[i]}return o},h=function(t,e,n,r){if(n>t.cell_tops[e[e.length-1]]-t.scroll_y)return null;for(var o=null,i=e.length-1;i>=0;i--)if(null===r||r!==e[i]){if(t.cell_tops[e[i]]-t.scroll_y<n)break;o=e[i]}return o},f=function(t,e,n){t.dragged_label_track_id=e,t.drag_mouse_y=n,c(t)},m=function(t,e){t.drag_callback(t.dragged_label_track_id,e),t.dragged_label_track_id=null,c(t)},g=function(t){return 18};return t.prototype.getWidth=function(){return Math.max(this.maximum_label_width/this.supersampling_ratio+10,70)},t.prototype.getFontSize=function(t){return(t?1:this.supersampling_ratio)*Math.max(Math.min(this.base_font_size,this.minimum_track_height),7)},t.prototype.setDragCallback=function(t){this.drag_callback=t},t.prototype.removeTrack=function(t,e){n(this,t),a(this,t),c(this,t)},t.prototype.moveTrack=function(t){n(this,t),a(this,t),c(this,t)},t.prototype.setTrackGroupOrder=function(t){n(this,t),a(this,t),c(this,t)},t.prototype.addTracks=function(t,e){for(var r=0;r<e.length;r++)this.labels[e[r]]=t.getTrackLabel(e[r]),this.sublabels[e[r]]=t.getTrackSublabel(e[r]),this.label_colors[e[r]]=t.getTrackLabelColor(e[r]),this.html_labels[e[r]]=t.getOptionalHtmlTrackLabel(e[r]),this.track_link_urls[e[r]]=t.getTrackLinkUrl(e[r]);n(this,t),a(this,t),c(this,t)},t.prototype.setShowTrackSublabels=function(t){n(this,t),a(this,t),c(this,t)},t.prototype.setScroll=function(t){this.setVertScroll(t)},t.prototype.setHorzScroll=function(t){},t.prototype.setViewport=function(t){this.setVertScroll(t)},t.prototype.setVertScroll=function(t){n(this,t),a(this,t),c(this,t)},t.prototype.setVertZoom=function(t){n(this,t),a(this,t),c(this,t)},t.prototype.setZoom=function(t){this.setVertZoom(t)},t.prototype.highlightTrack=function(t,e){this.highlighted_track=t,c(this,e)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,n(this,t),a(this,t),c(this)},t.prototype.toSVGGroup=function(t,e,n,o){for(var i=r.group(n||0,o||0),a=t.getCellTops(),s=t.getTracks(),u=0;u<s.length;u++){var c=s[u],p=a[c]+t.getCellHeight(c)/2,d=t.getTrackLabel(c),h=r.text(e?d:l(this,d),0,p,this.getFontSize(!0),"Arial","bold","bottom");h.setAttribute("dy","0.35em"),i.appendChild(h)}return i},t}();t.exports=i},function(t,e,n){var r=n(11),o=(n(3),n(31)),i=n(4),a=n(6).cloneShallow;function s(){var t=0;return function(){return t+=1}}function l(t){t=t||[];for(var e=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],n=0,r={},o=0;o<t.length;o++)r[t[o]]=!0;return function(t){if(!t){for(var o=e[n%e.length];r[o];){var i=f(o);if(i===o)break;o=i}return r[o]=!0,n+=1,o}r[t]=!0}}function u(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var c=function(t){return[{type:"rectangle",fill:"rgba(255,255,255,1)",z:t},{type:"line",stroke:"rgba(190,190,190,1)","stroke-width":"1",x1:"0%",x2:"100%",y1:"50%",y2:"50%",z:t}]},p="na",d="No data",h=function(t){var e,n,r,o=t.match(/^[\s]*rgba\([\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9.]+)[\s]*\)[\s]*$/);if(o&&5===o.length)return e=parseInt(o[1]).toString(16),n=parseInt(o[2]).toString(16),r=parseInt(o[3]).toString(16),1===e.length&&(e="0"+e),1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),"#"+e+n+r;var i=t.match(/^[\s]*rgb\([\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*\)[\s]*$/);return i&&4===i.length?(e=parseInt(i[1]).toString(16),n=parseInt(i[2]).toString(16),r=parseInt(i[3]).toString(16),1===e.length&&(e="0"+e),1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),"#"+e+n+r):t},f=function(t){var e=t[1]+t[2],n=t[3]+t[4],r=t[5]+t[6],o=function(t){return t=parseInt(t,16),t*=.95,1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t};return"#"+(e=o(e))+(n=o(n))+(r=o(r))},m=function(){var t=s(),e=s();function n(e){this.rule_set_id=t(),this.legend_label=e.legend_label,this.legend_base_color=e.legend_base_color,this.exclude_from_legend=e.exclude_from_legend,this.active_rule_ids={},this.rules_with_id=[]}return n.prototype.getLegendLabel=function(){return this.legend_label},n.prototype.getRuleSetId=function(){return this.rule_set_id},n.prototype.addRules=function(t){var e=this;return t.map(function(t){return e.addRule(t)})},n.prototype.addRule=function(t,n){return void 0===n&&(n=e()),this.rules_with_id.push({id:n,rule:new C(t)}),n},n.prototype.removeRule=function(t){for(var e=-1,n=0;n<this.rules_with_id.length;n++)if(this.rules_with_id[n].id===t){e=n;break}e>-1&&this.rules_with_id.splice(e,1),delete this.active_rule_ids[t]},n.prototype.getRuleWithId=function(t){for(var e=null,n=0;n<this.rules_with_id.length;n++)if(this.rules_with_id[n].id===t){e=this.rules_with_id[n];break}return e},n.prototype.isExcludedFromLegend=function(){return this.exclude_from_legend},n.prototype.getRecentlyUsedRules=function(){var t=this;return Object.keys(this.active_rule_ids).map(function(e){return t.getRule(e)})},n.prototype.applyRulesToDatum=function(t,e,n,r){for(var o=[],i=t.length,a=0;a<i;a++)o=o.concat(t[a].rule.apply(e,n,r));return o},n.prototype.apply=function(t,e,n,r,o,i){for(var a=[],s=0;s<t.length;s++){var l=t[s],u=!i||!!i[l[o]],c=this.getRulesWithId(l);if(void 0!==r&&u)for(var p=0;p<c.length;p++)r[c[p].id]=!0;a.push(this.applyRulesToDatum(c,t[s],e,n))}return a},n}(),g=function(){function t(t){m.call(this,t),this.lookup_map_by_key_and_value={},this.lookup_map_by_key={},this.universal_rules=[],this.rule_id_to_conditions={}}t.prototype=Object.create(m.prototype),t.prototype.getRulesWithId=function(t){if(void 0===t)return this.rules_with_id;var e=[];for(var n in e=e.concat(this.universal_rules),t)if(void 0!==t[n]){var r=this.lookup_map_by_key[n];void 0!==r&&e.push(r);var o=this.lookup_map_by_key_and_value[n]&&this.lookup_map_by_key_and_value[n][t[n]]||void 0;void 0!==o&&e.push(o)}return e};var e=function(t,e,n,r){null===e?t.universal_rules.push(r):null===n?t.lookup_map_by_key[e]=r:(t.lookup_map_by_key_and_value[e]=t.lookup_map_by_key_and_value[e]||{},t.lookup_map_by_key_and_value[e][n]=r),t.rule_id_to_conditions[r.id]=t.rule_id_to_conditions[r.id]||[],t.rule_id_to_conditions[r.id].push({key:e,value:n})};return t.prototype.addRule=function(t,n,r){var o=m.prototype.addRule.call(this,r);return e(this,t,n,this.getRuleWithId(o)),o},t.prototype.linkExistingRule=function(t,n,r){e(this,t,n,this.getRuleWithId(r))},t.prototype.removeRule=function(t){for(m.prototype.removeRule.call(this,t);this.rule_id_to_conditions[t].length>0;){var e=this.rule_id_to_conditions[t].pop();if(null===e.key){for(var n=-1,r=0;r<this.universal_rules.length;r++)if(this.universal_rules[r].id===t){n=r;break}n>-1&&this.universal_rules.splice(n,1)}else null===e.value?delete this.lookup_map_by_key[e.key]:delete this.lookup_map_by_key_and_value[e.key][e.value]}delete this.rule_id_to_conditions[t]},t}(),v=function(){function t(t,e){m.call(this,t),this.rule_id_to_condition={},e||this.addRule(function(t){return!0===t[p]},{shapes:c(t.na_z||1e3),legend_label:t.na_legend_label||d,exclude_from_legend:!1,legend_config:{type:"rule",target:{na:!0}},legend_order:Number.POSITIVE_INFINITY})}return t.prototype=Object.create(m.prototype),t.prototype.getRulesWithId=function(t){if(void 0===t)return this.rules_with_id;for(var e=[],n=0;n<this.rules_with_id.length;n++)this.rule_id_to_condition[this.rules_with_id[n].id](t)&&e.push(this.rules_with_id[n]);return e},t.prototype.addRule=function(t,e,n){return n=m.prototype.addRule.call(this,e,n),this.rule_id_to_condition[n]=t,n},t.prototype.removeRule=function(t){m.prototype.removeRule.call(this,t),delete this.rule_id_to_condition[t]},t}(),y=function(){function t(t,n){var r,o,i;for(var s in g.call(this,t),n||this.addRule(p,!0,{shapes:c(t.na_z||1e3),legend_label:t.na_legend_label||d,exclude_from_legend:!1,legend_config:{type:"rule",target:{na:!0}},legend_order:Number.POSITIVE_INFINITY}),this.category_key=t.category_key,this.category_to_color=a((r=t.category_to_color,o={},void 0===r?o:r)),this.getUnusedColor=l((i=this.category_to_color,Object.keys(i).map(function(t){return i[t]})).map(h)),this.category_to_color)if(this.category_to_color.hasOwnProperty(s)){var u=this.category_to_color[s];e(this,s,u),this.getUnusedColor(u)}}t.prototype=Object.create(g.prototype);var e=function(t,e,n){var r={};r[t.category_key]=e;var o={shapes:[{type:"rectangle",fill:n}],legend_label:e,exclude_from_legend:!1,legend_config:{type:"rule",target:r}};t.addRule(t.category_key,e,o)};return t.prototype.apply=function(t,n,r,o,i,a){for(var s=0,l=t.length;s<l;s++)if(!t[s][p]){var u=t[s][this.category_key];if(!this.category_to_color.hasOwnProperty(u)){var c=this.getUnusedColor();this.category_to_color[u]=c,e(this,u,c)}}return g.prototype.apply.call(this,t,n,r,o,i,a)},t}(),b=function(){function t(t){v.call(this,t),this.value_key=t.value_key,this.value_range=t.value_range,this.log_scale=t.log_scale,this.type=t.type,this.rangeTypes={ALL:"ALL",NON_NEGATIVE:"NON_NEGATIVE",NON_POSITIVE:"NON_POSITIVE"},this.makeInterpFn=function(){var t=this.getEffectiveValueRange(),e=this.getValueRangeType(),n=this.type,r=this.rangeTypes;if(this.log_scale){var o=Math.abs(t[0])+1,i=Math.log(t[1]+o)-Math.log(t[0]+o),a=Math.log(t[0]+o);return function(t){return t=parseFloat(t),(Math.log(t+o)-a)/i}}return function(o){var i=t[1]-t[0],a=t[0],s=t[1];return"bar"!==n?(o-a)/i:e===r.NON_POSITIVE?(o-s)/i:e===r.NON_NEGATIVE?(o-a)/i:e===r.ALL?o/(i=Math.abs(t[0])>t[1]?Math.abs(t[0]):t[1]):void 0}}}return t.prototype=Object.create(v.prototype),t.prototype.getEffectiveValueRange=function(){var t=this.value_range&&this.value_range.slice()||[void 0,void 0];return void 0===t[0]&&(t[0]=this.inferred_value_range[0]),void 0===t[1]&&(t[1]=this.inferred_value_range[1]),t[0]===t[1]&&(t[0]-=t[0]/2,t[1]+=t[1]/2),t},t.prototype.getValueRangeType=function(){var t=this.getEffectiveValueRange();return t[0]<0&&t[1]<=0?this.rangeTypes.NON_POSITIVE:t[0]>=0&&t[1]>0?this.rangeTypes.NON_NEGATIVE:this.rangeTypes.ALL},t.prototype.apply=function(t,e,n,r,o,i){for(var a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,u=t.length;l<u;l++){var c=t[l];isNaN(c[this.value_key])||(a=Math.min(a,c[this.value_key]),s=Math.max(s,c[this.value_key]))}return a===Number.POSITIVE_INFINITY&&(a=0),s===Number.NEGATIVE_INFINITY&&(s=0),this.inferred_value_range=[a,s],this.updateLinearRules(),v.prototype.apply.call(this,t,e,n,r,o,i)},t.prototype.updateLinearRules=function(){throw"Not implemented in abstract class"},t}(),_=function(){function t(t){b.call(this,t),this.colors=[],t.colors?this.colors=t.colors||[]:t.colormap_name&&(this.colors=o[t.colormap_name]||[]),0===this.colors.length&&this.colors.push([0,0,0,1],[255,0,0,1]),this.value_stop_points=t.value_stop_points,this.null_color=t.null_color||"rgba(211,211,211,1)"}t.prototype=Object.create(b.prototype);return t.prototype.makeColorFn=function(t,e){var n,r=this.value_stop_points;return n=r?r.map(e):function(t){for(var e=[],n=0;n<t;n++)e.push(n);return e}(t.length).map(function(e){return e/(t.length-1)}),function(e){var r=i(n,e,function(t){return t},!0);if(-1===r)return"rgba(0,0,0,1)";var o=Math.min(t.length-1,r+1),a=n[o]-n[r];return 0===a?"rgba("+t[o].join(",")+")":"rgba("+function(t,e,n){return[Math.round(e[0]*(1-t)+n[0]*t),Math.round(e[1]*(1-t)+n[1]*t),Math.round(e[2]*(1-t)+n[2]*t),e[3]*(1-t)+n[3]*t]}((e-n[r])/a,t[r],t[o]).join(",")+")"}},t.prototype.updateLinearRules=function(){var t;void 0!==this.gradient_rule&&(t=this.gradient_rule,this.removeRule(this.gradient_rule));var e=this.makeInterpFn(),n=this.makeColorFn(this.colors,e),r=this.value_key,o=this.null_color;this.gradient_rule=this.addRule(function(t){return!0!==t[p]},{shapes:[{type:"rectangle",fill:function(t){if(t[r]){var i=e(t[r]);return n(i)}return o}}],exclude_from_legend:!1,legend_config:{type:"gradient",range:this.getEffectiveValueRange(),colorFn:n}},t)},t}(),x=function(){function t(t){b.call(this,t),this.fill=t.fill||"rgba(0,128,0,1)",this.negative_fill=t.negative_fill||"rgba(255,0,0,1)"}return t.prototype=Object.create(b.prototype),t.prototype.updateLinearRules=function(){var t;void 0!==this.bar_rule&&(t=this.bar_rule,this.removeRule(this.bar_rule));var e=this.makeInterpFn(),n=this.value_key,r=this.fill,o=this.negative_fill,i=this.getYPosPercentagesFn(),a=this.getCellHeightPercentagesFn();this.bar_rule=this.addRule(function(t){return!0!==t[p]},{shapes:[{type:"rectangle",y:function(t){var r=e(t[n]);return i(r)},height:function(t){var r=e(t[n]);return a(r)},fill:function(t){return t[n]<0?o:r}}],exclude_from_legend:!1,legend_config:{type:"number",range:this.getEffectiveValueRange(),range_type:this.getValueRangeType(),positive_color:r,negative_color:o,interpFn:e}},t)},t.prototype.getYPosPercentagesFn=function(){var t;switch(this.getValueRangeType()){case this.rangeTypes.NON_POSITIVE:t=function(t){return"0%"};break;case this.rangeTypes.NON_NEGATIVE:t=function(t){return 100*(1-t)+"%"};break;case this.rangeTypes.ALL:t=function(t){return 50*Math.min(1-t,1)+"%"}}return t},t.prototype.getCellHeightPercentagesFn=function(){var t;switch(this.getValueRangeType()){case this.rangeTypes.NON_POSITIVE:t=function(t){return 100*-t+"%"};break;case this.rangeTypes.NON_NEGATIVE:t=function(t){return 100*t+"%"};break;case this.rangeTypes.ALL:t=function(t){return 50*Math.abs(t)+"%"}}return t},t}(),S=function(){function t(t){v.call(this,t);for(var e=t.value_key,n=t.fills||[],r=t.categories||[],o=l(n);n.length<r.length;)n.push(o());for(var i=this,a=0;a<r.length;a++)!function(t){var o={};o[e]={};for(var a=0;a<r.length;a++)o[e][r[a]]=0;o[e][r[t]]=1,i.addRule(function(t){return!0!==t[p]},{shapes:[{type:"rectangle",fill:n[t],width:"100%",height:function(n){for(var o=0,i=0;i<r.length;i++)o+=parseFloat(n[e][r[i]]);return 100*parseFloat(n[e][r[t]])/o+"%"},y:function(n){for(var o=0,i=0,a=0;a<r.length;a++){var s=parseFloat(n[e][r[a]]);a<t&&(i+=s),o+=s}return 100*i/o+"%"}}],exclude_from_legend:!1,legend_config:{type:"rule",target:o},legend_label:r[t]})}(a)}return t.prototype=Object.create(v.prototype),t}(),w=function(){function t(t){g.call(this,t),function(e){var n=t.rule_params;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];if("*"===r)e.addRule(null,null,u(n["*"],{legend_config:{type:"rule",target:{}}}));else for(var i in o)if(o.hasOwnProperty(i)){var a=i.split(","),s={};s[a[0]]=i;for(var l=e.addRule(r,"*"===a[0]?null:a[0],u(o[i],{legend_config:{type:"rule",target:s},legend_base_color:void 0===e.legend_base_color?"":e.legend_base_color})),c=1;c<a.length;c++)e.linkExistingRule(r,"*"===a[c]?null:a[c],l)}}}(this),this.addRule(p,!0,{shapes:c(t.na_z||1),legend_label:t.na_legend_label||d,exclude_from_legend:!1,legend_config:{type:"rule",target:{na:!0}},legend_order:Number.POSITIVE_INFINITY})}return t.prototype=Object.create(g.prototype),t}(),C=function(){function t(t){this.shapes=t.shapes.map(function(t){return"rectangle"===t.type?new r.Rectangle(t):"triangle"===t.type?new r.Triangle(t):"ellipse"===t.type?new r.Ellipse(t):"line"===t.type?new r.Line(t):void 0}),this.legend_label=void 0===t.legend_label?"":t.legend_label,this.legend_base_color=t.legend_base_color,this.exclude_from_legend=t.exclude_from_legend,this.legend_config=t.legend_config,this.legend_order=t.legend_order}return t.prototype.getLegendConfig=function(){return this.legend_config},t.prototype.apply=function(t,e,n){for(var r=[],o=0,i=this.shapes.length;o<i;o++)r.push(this.shapes[o].getComputedParams(t,e,n));return r},t.prototype.isExcludedFromLegend=function(){return this.exclude_from_legend},t}(),k=function(){function t(t){m.call(this,t),this.prototype=Object.create(m.prototype),this.gradientRuleSet=new _(t),this.categoricalRuleSet=new y(t,!0)}return t.prototype=Object.create(m.prototype),t.prototype.apply=function(t,e,n,r,o,i){for(var a=[],s=0;s<t.length;s++){var l=t[s];this.isCategorical(l)?a.push(this.categoricalRuleSet.apply([l],e,n,r,o,i)[0]):a.push(this.gradientRuleSet.apply([l],e,n,r,o,i)[0])}return a},t.prototype.getRulesWithId=function(t){var e=this.categoricalRuleSet.getRulesWithId(t),n=this.gradientRuleSet.getRulesWithId(t);return e.concat(n)},t.prototype.isCategorical=function(t){return void 0!==t[this.categoricalRuleSet.category_key]},t}();t.exports=function(t){return"categorical"===t.type?new y(t):"gradient"===t.type?new _(t):"gradient+categorical"===t.type?new k(t):"bar"===t.type?new x(t):"stacked_bar"===t.type?new S(t):"gene"===t.type?new w(t):void 0}},function(t,e){t.exports={viridis:[[68.08602,1.24287,84.000825,1],[68.47005,2.449275,85.533885,1],[68.83572,3.729375,87.051645,1],[69.182775,5.08521,88.553595,1],[69.51147,6.518565,90.038715,1],[69.821295,8.031735,91.507515,1],[70.11276,9.62676,92.958465,1],[70.38561,11.262585,94.39182,1],[70.63959,12.83772,95.807325,1],[70.874955,14.36262,97.203705,1],[71.091705,15.846975,98.58096,1],[71.28933,17.29818,99.938835,1],[71.468085,18.721335,101.276565,1],[71.62797,20.121285,102.593895,1],[71.76873,21.5016,103.89057,1],[71.89062,22.86483,105.165825,1],[71.993385,24.213525,106.419405,1],[72.07728,25.54998,107.6508,1],[72.14205,26.875215,108.86001,1],[72.188205,28.191015,110.04627,1],[72.215235,29.4984,111.209325,1],[72.223395,30.798135,112.34892,1],[72.212685,32.09124,113.4648,1],[72.18336,33.378225,114.556455,1],[72.13542,34.6596,115.623885,1],[72.068865,35.93613,116.666835,1],[71.98395,37.20756,117.68505,1],[71.881185,38.474655,118.678275,1],[71.76006,39.73767,119.646255,1],[71.62134,40.996605,120.589245,1],[71.465025,42.251715,121.50699,1],[71.29137,43.502745,122.399235,1],[71.10063,44.74995,123.266235,1],[70.89306,45.993585,124.107735,1],[70.66917,47.23314,124.92399,1],[70.42947,48.46887,125.715255,1],[70.173705,49.700775,126.481275,1],[69.90264,50.928855,127.222305,1],[69.61653,52.1526,127.938855,1],[69.31614,53.372265,128.63067,1],[69.001725,54.587595,129.29826,1],[68.67354,55.79859,129.942135,1],[68.33184,57.004995,130.56204,1],[67.9779,58.20681,131.158995,1],[67.611975,59.40378,131.732745,1],[67.234065,60.595905,132.28431,1],[66.84519,61.78293,132.813435,1],[66.445605,62.96511,133.32114,1],[66.036075,64.141935,133.80768,1],[65.61711,65.31315,134.273565,1],[65.189475,66.479265,134.71956,1],[64.753425,67.63977,135.145665,1],[64.30947,68.794665,135.552645,1],[63.858375,69.94395,135.941265,1],[63.400395,71.087625,136.31178,1],[62.936805,72.225435,136.664955,1],[62.46786,73.357125,137.0013,1],[61.993815,74.48346,137.32158,1],[61.515435,75.603675,137.625795,1],[61.03323,76.718025,137.91522,1],[60.547455,77.82651,138.189855,1],[60.05913,78.929385,138.45072,1],[59.568765,80.02614,138.69807,1],[59.07687,81.11703,138.93267,1],[58.583445,82.202055,139.15503,1],[58.08951,83.28147,139.36566,1],[57.595065,84.355275,139.56507,1],[57.100875,85.42347,139.753515,1],[56.607195,86.486055,139.93176,1],[56.114535,87.543285,140.100315,1],[55.62315,88.59516,140.25969,1],[55.13355,89.641425,140.409885,1],[54.64599,90.682845,140.55192,1],[54.160725,91.719165,140.68605,1],[53.678265,92.750385,140.81253,1],[53.198865,93.77676,140.932125,1],[52.72278,94.79829,141.044835,1],[52.250265,95.81523,141.150915,1],[51.781065,96.82758,141.250875,1],[51.315945,97.83585,141.34497,1],[50.85465,98.839785,141.43371,1],[50.39718,99.83964,141.517095,1],[49.9443,100.835415,141.59538,1],[49.4955,101.827365,141.669075,1],[49.051035,102.815745,141.73818,1],[48.610905,103.800555,141.802695,1],[48.175365,104.78205,141.86313,1],[47.743905,105.76023,141.919485,1],[47.31678,106.73535,141.972015,1],[46.89399,107.707665,142.02072,1],[46.47528,108.67692,142.0656,1],[46.060395,109.643625,142.10691,1],[45.649845,110.60778,142.14465,1],[45.242865,111.569385,142.179075,1],[44.839455,112.52895,142.209675,1],[44.43987,113.48622,142.23696,1],[44.043345,114.441705,142.260675,1],[43.64988,115.39515,142.281075,1],[43.25973,116.34681,142.29765,1],[42.87213,117.29694,142.31091,1],[42.487335,118.24554,142.320345,1],[42.104835,119.192865,142.325955,1],[41.724375,120.138915,142.32774,1],[41.34621,121.08369,142.3257,1],[40.969575,122.0277,142.319325,1],[40.59447,122.970435,142.308615,1],[40.220895,123.91266,142.293315,1],[39.84885,124.85412,142.27368,1],[39.477825,125.794815,142.2492,1],[39.10782,126.735,142.21962,1],[38.73909,127.674675,142.184685,1],[38.37138,128.614095,142.14465,1],[38.004945,129.553005,142.09875,1],[37.639785,130.491915,142.047495,1],[37.2759,131.430315,141.989865,1],[36.913545,132.368715,141.92586,1],[36.552465,133.307115,141.855225,1],[36.193425,134.245515,141.777705,1],[35.83668,135.18366,141.693045,1],[35.482485,136.12206,141.60099,1],[35.13135,137.06046,141.50103,1],[34.78404,137.999115,141.393165,1],[34.44183,138.937515,141.277395,1],[34.104465,139.876425,141.152955,1],[33.77322,140.81508,141.01959,1],[33.44886,141.754245,140.877045,1],[33.132915,142.69341,140.72532,1],[32.825895,143.632575,140.563395,1],[32.52984,144.571995,140.39178,1],[32.245515,145.511415,140.209455,1],[31.97547,146.45109,140.01693,1],[31.720725,147.39051,139.813185,1],[31.483065,148.330185,139.598475,1],[31.26453,149.269605,139.372035,1],[31.066905,150.209025,139.133865,1],[30.89274,151.148445,138.883455,1],[30.744075,152.08761,138.620805,1],[30.62346,153.02652,138.34515,1],[30.53319,153.965175,138.057,1],[30.47556,154.90332,137.75559,1],[30.452865,155.840955,137.44041,1],[30.468165,156.778335,137.11146,1],[30.523245,157.71495,136.768485,1],[30.620655,158.651055,136.41123,1],[30.76269,159.58614,136.03944,1],[30.9519,160.52046,135.653115,1],[31.18956,161.454015,135.25149,1],[31.47822,162.386295,134.834565,1],[31.8189,163.317555,134.40234,1],[32.21313,164.247285,133.954305,1],[32.662185,165.175995,133.490205,1],[33.167085,166.10292,133.01004,1],[33.72834,167.02857,132.513555,1],[34.34646,167.95218,132.000495,1],[35.021445,168.87426,131.470605,1],[35.75355,169.794045,130.923885,1],[36.542265,170.712045,130.359825,1],[37.38708,171.62775,129.77868,1],[38.28774,172.540905,129.180195,1],[39.24297,173.451765,128.56386,1],[40.252005,174.360075,127.92993,1],[41.31408,175.26558,127.277895,1],[42.427665,176.16828,126.60801,1],[43.59174,177.06792,125.919765,1],[44.805285,177.9645,125.213415,1],[46.066515,178.85751,124.488195,1],[47.374665,179.747205,123.744615,1],[48.72795,180.63333,122.98242,1],[50.125605,181.515885,122.201355,1],[51.565845,182.39436,121.40142,1],[53.04765,183.268755,120.582615,1],[54.57,184.13907,119.74494,1],[56.13162,185.004795,118.88763,1],[57.731235,185.86644,118.011195,1],[59.367825,186.722985,117.115635,1],[61.04037,187.57494,116.20044,1],[62.74785,188.42205,115.26612,1],[64.489245,189.263805,114.31242,1],[66.263535,190.10046,113.339085,1],[68.069955,190.931505,112.346115,1],[69.907995,191.75694,111.333255,1],[71.776635,192.576765,110.30076,1],[73.674855,193.39047,109.24863,1],[75.602145,194.198055,108.176865,1],[77.55774,194.99952,107.085465,1],[79.540875,195.79461,105.97443,1],[81.551295,196.58307,104.84376,1],[83.58798,197.3649,103.6932,1],[85.650675,198.13959,102.522495,1],[87.73887,198.907395,101.332155,1],[89.8518,199.667805,100.12218,1],[91.988955,200.42082,98.89257,1],[94.14957,201.16644,97.64307,1],[96.333645,201.904155,96.374445,1],[98.540415,202.63422,95.08593,1],[100.76937,203.356125,93.778035,1],[103.020255,204.070125,92.45076,1],[105.292815,204.775455,91.103595,1],[107.58654,205.47237,89.73705,1],[109.900665,206.160615,88.35138,1],[112.234935,206.84019,86.946585,1],[114.58884,207.51084,85.52292,1],[116.96187,208.172565,84.080385,1],[119.353515,208.824855,82.61949,1],[121.76352,209.46822,81.139725,1],[124.19163,210.101895,79.641855,1],[126.636825,210.72588,78.126135,1],[129.099105,211.34043,76.59231,1],[131.57796,211.94529,75.041145,1],[134.07288,212.540205,73.472385,1],[136.583355,213.125175,71.88654,1],[139.10862,213.699945,70.28463,1],[141.64842,214.26477,68.666655,1],[144.20199,214.81965,67.033635,1],[146.768565,215.36433,65.385825,1],[149.34789,215.898555,63.723735,1],[151.938945,216.422835,62.048895,1],[154.541475,216.936915,60.36156,1],[157.154715,217.440795,58.66326,1],[159.777645,217.934475,56.955015,1],[162.41001,218.41821,55.2381,1],[165.050535,218.892,53.514555,1],[167.69871,219.355845,51.78591,1],[170.35377,219.809745,50.054715,1],[173.014695,220.25421,48.323265,1],[175.68072,220.68924,46.594875,1],[178.350825,221.114835,44.872605,1],[181.02399,221.531505,43.160535,1],[183.699705,221.93925,41.463765,1],[186.376695,222.33858,39.787395,1],[189.05394,222.729495,38.138055,1],[191.73042,223.112505,36.52314,1],[194.405115,223.48812,34.95132,1],[197.07726,223.85634,33.432795,1],[199.745325,224.217675,31.978275,1],[202.4088,224.57289,30.601275,1],[205.06641,224.92173,29.316075,1],[207.71688,225.265215,28.138485,1],[210.3597,225.6036,27.085335,1],[212.99385,225.937395,26.17473,1],[215.618055,226.26711,25.42401,1],[218.23155,226.593255,24.85026,1],[220.833315,226.91634,24.468015,1],[223.42284,227.236875,24.28875,1],[225.999105,227.55537,24.32037,1],[228.5616,227.87208,24.565425,1],[231.109305,228.188025,25.021875,1],[233.64171,228.503205,25.682835,1],[236.15703,228.81915,26.538105,1],[238.65552,229.13535,27.573405,1],[241.13718,229.452825,28.77369,1],[243.6015,229.771575,30.12264,1],[246.04797,230.092365,31.604955,1],[248.476335,230.41545,33.204825,1],[250.88634,230.741085,34.908735,1],[253.27824,231.070035,36.70368,1]],inferno:[[.37281,.11883,3.53583,1],[.578085,.32385,4.73535,1],[.841245,.573495,6.180945,1],[1.159485,.86496,7.881795,1],[1.53153,1.19646,9.83229,1],[1.95738,1.56468,11.94318,1],[2.438055,1.966815,14.061465,1],[2.974065,2.401335,16.1823,1],[3.568725,2.862375,18.32481,1],[4.223055,3.34968,20.47191,1],[4.940115,3.858915,22.635585,1],[5.723985,4.385745,24.818385,1],[6.577215,4.929405,27.01215,1],[7.50516,5.483265,29.228355,1],[8.513175,6.04401,31.466235,1],[9.60534,6.609855,33.71916,1],[10.774515,7.175445,35.990955,1],[11.963325,7.73262,38.29182,1],[13.16922,8.28087,40.60977,1],[14.394495,8.815095,42.94557,1],[15.6417,9.33045,45.29871,1],[16.914405,9.81852,47.67531,1],[18.214395,10.27497,50.07027,1],[19.542435,10.685775,52.478745,1],[20.90031,11.04864,54.898695,1],[22.289805,11.36178,57.327315,1],[23.71245,11.623665,59.76129,1],[25.16901,11.83251,62.19552,1],[26.660505,11.98704,64.62465,1],[28.18668,12.086745,67.04256,1],[29.74728,12.13137,69.441855,1],[31.34154,12.12168,71.81412,1],[32.967675,12.059715,74.15094,1],[34.62339,11.94828,76.44288,1],[36.30639,11.79171,78.681015,1],[38.013615,11.59434,80.856675,1],[39.74175,11.362545,82.96119,1],[41.485695,11.10627,84.985635,1],[43.241625,10.834695,86.92287,1],[45.005715,10.55751,88.768305,1],[46.774395,10.283895,90.517605,1],[48.543585,10.023795,92.168985,1],[50.310735,9.792,93.721425,1],[52.073295,9.59616,95.17569,1],[53.829225,9.44265,96.533565,1],[55.576995,9.336825,97.79811,1],[57.314565,9.283275,98.972895,1],[59.04219,9.283275,100.062,1],[60.759615,9.338355,101.070015,1],[62.466585,9.449025,102.001785,1],[64.1631,9.614775,102.86139,1],[65.84967,9.835605,103.653675,1],[67.52655,10.109985,104.382975,1],[69.193485,10.43511,105.05388,1],[70.85175,10.800015,105.66996,1],[72.501855,11.202915,106.23504,1],[74.144565,11.63922,106.752435,1],[75.78039,12.10485,107.225205,1],[77.40984,12.59598,107.65641,1],[79.033425,13.108785,108.048855,1],[80.65191,13.63995,108.40458,1],[82.26555,14.18667,108.726135,1],[83.874855,14.745885,109.015305,1],[85.480335,15.3153,109.27362,1],[87.0825,15.892875,109.503375,1],[88.681605,16.47708,109.705335,1],[90.27816,17.065875,109.88103,1],[91.87242,17.657985,110.031735,1],[93.464895,18.252645,110.15847,1],[95.05584,18.848325,110.262,1],[96.645255,19.444515,110.343345,1],[98.23314,20.040705,110.403525,1],[99.820515,20.636385,110.442795,1],[101.40687,21.230535,110.461665,1],[102.99297,21.8229,110.460645,1],[104.578815,22.41348,110.43999,1],[106.164405,23.001765,110.400465,1],[107.749995,23.587755,110.34207,1],[109.33584,24.17145,110.26506,1],[110.921685,24.752595,110.169945,1],[112.507785,25.33119,110.05647,1],[114.09414,25.907235,109.9254,1],[115.681005,26.48124,109.77699,1],[117.268125,27.052695,109.61073,1],[118.8555,27.62211,109.426875,1],[120.44364,28.189485,109.22517,1],[122.03229,28.75482,109.006125,1],[123.621195,29.31837,108.76974,1],[125.21061,29.880645,108.51576,1],[126.800535,30.441645,108.24444,1],[128.390715,31.001625,107.95578,1],[129.98115,31.561095,107.64978,1],[131.571585,32.1198,107.326185,1],[133.16253,32.67825,106.984995,1],[134.75322,33.236955,106.62621,1],[136.344165,33.79617,106.250085,1],[137.9346,34.355895,105.856365,1],[139.525035,34.916895,105.445305,1],[141.11496,35.47917,105.016395,1],[142.70412,36.04323,104.56989,1],[144.29277,36.609585,104.10579,1],[145.880655,37.178235,103.624095,1],[147.46752,37.749945,103.124805,1],[149.052855,38.32497,102.608175,1],[150.63717,38.903565,102.07395,1],[152.2197,39.48624,101.521875,1],[153.800445,40.073505,100.952205,1],[155.37915,40.66587,100.365195,1],[156.955815,41.263335,99.760845,1],[158.529675,41.86692,99.139155,1],[160.100985,42.476625,98.50038,1],[161.66949,43.09296,97.84452,1],[163.234425,43.71669,97.171575,1],[164.7963,44.34807,96.481545,1],[166.354095,44.987355,95.77443,1],[167.908065,45.63531,95.05074,1],[169.4577,46.292445,94.31073,1],[171.002745,46.959015,93.554145,1],[172.54269,47.635785,92.781495,1],[174.07728,48.322755,91.993035,1],[175.606515,49.020945,91.188765,1],[177.129885,49.730355,90.36894,1],[178.64688,50.452005,89.533815,1],[180.1575,51.18564,88.683135,1],[181.66098,51.93228,87.817665,1],[183.15732,52.69218,86.937405,1],[184.646265,53.46585,86.04312,1],[186.126795,54.253545,85.134555,1],[187.599165,55.05603,84.212475,1],[189.062865,55.87356,83.27688,1],[190.517385,56.70639,82.32828,1],[191.96247,57.55503,81.366675,1],[193.39761,58.419735,80.39283,1],[194.82255,59.30127,79.406745,1],[196.23678,60.199635,78.408675,1],[197.640045,61.115085,77.39913,1],[199.031835,62.048385,76.378365,1],[200.411895,62.99928,75.346635,1],[201.779715,63.96828,74.30445,1],[203.134785,64.95564,73.25232,1],[204.477105,65.96187,72.190245,1],[205.80591,66.98646,71.11899,1],[207.120945,68.03043,70.038555,1],[208.421955,69.09327,68.94945,1],[209.70843,70.175235,67.851675,1],[210.97986,71.276835,66.74625,1],[212.236245,72.397815,65.632665,1],[213.477075,73.538175,64.51194,1],[214.702095,74.697915,63.38382,1],[215.910795,75.877545,62.248815,1],[217.10292,77.0763,61.10718,1],[218.27796,78.29469,59.958915,1],[219.435915,79.53246,58.80453,1],[220.57653,80.78961,57.644025,1],[221.699295,82.065885,56.47791,1],[222.803955,83.36103,55.30593,1],[223.890255,84.6753,54.12834,1],[224.95794,86.008185,52.94514,1],[226.00701,87.35943,51.75684,1],[227.036955,88.729035,50.56293,1],[228.047775,90.116745,49.36392,1],[229.03896,91.522305,48.1593,1],[230.010765,92.94546,46.94958,1],[230.962425,94.3857,45.73425,1],[231.89445,95.84328,44.513565,1],[232.80633,97.31718,43.287525,1],[233.69781,98.807655,42.05562,1],[234.569145,100.314195,40.81785,1],[235.419825,101.836545,39.574215,1],[236.24985,103.374195,38.32446,1],[237.05922,104.927145,37.068585,1],[237.847935,106.494885,35.806335,1],[238.615485,108.076905,34.5372,1],[239.362125,109.673205,33.26169,1],[240.087855,111.283275,31.979295,1],[240.792675,112.90686,30.69027,1],[241.476075,114.543705,29.39436,1],[242.13831,116.1933,28.09182,1],[242.779125,117.85539,26.782905,1],[243.39903,119.52972,25.46787,1],[243.99726,121.21578,24.147225,1],[244.57407,122.91357,22.822245,1],[245.129715,124.62258,21.493695,1],[245.663685,126.34281,20.163615,1],[246.176235,128.073495,18.834045,1],[246.66711,129.81489,17.508045,1],[247.136565,131.56623,16.18944,1],[247.584345,133.327515,14.883585,1],[248.01045,135.09849,13.59762,1],[248.41488,136.8789,12.33996,1],[248.797635,138.66849,11.12259,1],[249.15846,140.46675,9.95775,1],[249.49761,142.273935,8.907405,1],[249.81483,144.089535,8.009295,1],[250.11012,145.913295,7.26954,1],[250.383225,147.74496,6.69375,1],[250.634655,149.58453,6.288555,1],[250.863645,151.431495,6.06135,1],[251.070705,153.28611,6.01953,1],[251.255325,155.14761,6.17151,1],[251.41776,157.01625,6.52596,1],[251.55801,158.891775,7.09257,1],[251.67582,160.773675,7.88154,1],[251.770935,162.66195,8.90358,1],[251.84361,164.5566,10.17093,1],[251.893845,166.457115,11.623155,1],[251.92113,168.36375,13.19625,1],[251.925975,170.27574,14.873895,1],[251.90787,172.193085,16.640535,1],[251.86707,174.115785,18.484695,1],[251.80332,176.04333,20.39745,1],[251.71662,177.97572,22.371405,1],[251.60697,179.9127,24.40197,1],[251.474625,181.854015,26.485065,1],[251.31933,183.79941,28.618395,1],[251.140575,185.748885,30.800175,1],[250.939125,187.702185,33.029385,1],[250.71498,189.65829,35.305515,1],[250.46814,191.61771,37.629075,1],[250.199115,193.579425,40.000065,1],[249.90816,195.543435,42.420015,1],[249.59553,197.508975,44.889435,1],[249.261735,199.47579,47.410365,1],[248.90754,201.44337,49.98459,1],[248.53269,203.41146,52.61466,1],[248.13744,205.379295,55.303635,1],[247.72434,207.34611,58.05279,1],[247.294665,209.310375,60.86493,1],[246.850455,211.271325,63.74286,1],[246.391965,213.228705,66.69117,1],[245.92047,215.18124,69.714705,1],[245.441835,217.12638,72.81423,1],[244.95963,219.062595,75.99255,1],[244.4736,220.98912,79.2591,1],[243.99267,222.902895,82.61337,1],[243.524235,224.800095,86.056125,1],[243.069825,226.68021,89.599095,1],[242.64423,228.53763,93.234885,1],[242.25459,230.369295,96.969105,1],[241.914165,232.170615,100.798695,1],[241.63647,233.936745,104.719575,1],[241.436295,235.66284,108.725115,1],[241.32996,237.344055,112.803585,1],[241.332765,238.975545,116.94096,1],[241.460265,240.55374,121.11735,1],[241.723935,242.07609,125.31363,1],[242.133975,243.541065,129.5043,1],[242.6937,244.949685,133.671765,1],[243.404895,246.30348,137.792055,1],[244.26348,247.605765,141.850125,1],[245.26206,248.86062,145.840875,1],[246.393495,250.07289,149.73753,1],[247.64631,251.24691,153.54927,1],[249.010305,252.387015,157.2738,1],[250.475535,253.497795,160.909335,1],[252.03231,254.58282,164.45562,1]]}},function(t,e,n){var r=n(0),o=n(33),i=function(){function t(t,e,n,o,i,a){var s=t.css("position");"absolute"!==s&&"relative"!==s&&console.log("WARNING: div passed to OncoprintTrackOptionsView must be absolute or relative positioned - layout problems will occur"),this.moveUpCallback=e,this.moveDownCallback=n,this.removeCallback=o,this.sortChangeCallback=i,this.unexpandCallback=a,this.$div=t,this.$ctr=r("<div></div>").css({position:"absolute","overflow-y":"hidden","overflow-x":"hidden"}).appendTo(this.$div),this.$buttons_ctr=r("<div></div>").css({position:"absolute"}).appendTo(this.$ctr),this.$dropdown_ctr=r("<div></div>").css({position:"absolute"}).appendTo(this.$div),this.img_size,this.rendering_suppressed=!1,this.track_options_$elts={},this.menu_shown={};var l=this;this.clickHandler=function(){r(l).trigger("oncoprint-track-options-view.click-out")},r(document).on("click",this.clickHandler),this.interaction_disabled=!1}var e=function(t,e){if(!t.rendering_suppressed){r(t).off("oncoprint-track-options-view.click-out"),r(t).on("oncoprint-track-options-view.click-out",function(){for(var e in t.track_options_$elts)t.track_options_$elts.hasOwnProperty(e)&&a(t,e)}),t.$buttons_ctr.empty(),t.$dropdown_ctr.empty(),n(t,e.getVertScroll());for(var o=e.getTracks(),i=Number.POSITIVE_INFINITY,s=0;s<o.length;s++)i=Math.min(i,e.getTrackHeight(o[s]));t.img_size=Math.floor(.75*i);for(s=0;s<o.length;s++)c(t,e,o[s],s)}},n=function(t,e){t.rendering_suppressed||(t.$buttons_ctr.css({top:-e}),t.$dropdown_ctr.css({top:-e}))},i=function(t,e){t.rendering_suppressed||(t.$div.css({width:t.getWidth(),height:e.getCellViewHeight()}),t.$ctr.css({width:t.getWidth(),height:e.getCellViewHeight()}))},a=function(t,e){t.menu_shown[e]=!1;var n=t.track_options_$elts[e];n.$dropdown.css({"z-index":1}),n.$dropdown.css({border:"1px solid rgba(125,125,125,0)"}),n.$img.css({border:"1px solid rgba(125,125,125,0)"}),n.$dropdown.fadeOut(100)},s=function(t,e,n,o){var i=r("<li>").text(t).css({"font-weight":e,"font-size":12,"border-bottom":"1px solid rgba(0,0,0,0.3)"});return n?(i.addClass("disabled"),i.css({color:"rgb(200, 200, 200)",cursor:"default"})):o?(i.addClass("clickable"),i.css({cursor:"pointer"}),i.click(o).hover(function(){r(this).css({"background-color":"rgb(200,200,200)"})},function(){r(this).css({"background-color":"rgba(255,255,255,0)"})})):i.click(function(t){t.stopPropagation()}),i},l=function(){return r("<li>").css({"border-top":"1px solid black"}).addClass("oncoprintjs__track_options__separator")},u=function(t,e,n){var r="";e.isTrackSortDirectionChangeable(n)&&(r={1:'<i class="fa fa-signal" aria-hidden="true" title="Sorted ascending"></i>',"-1":'<i class="fa fa-signal" style="transform: scaleX(-1);" aria-hidden="true" title="Sorted descending"></i>',0:""}[e.getTrackSortDirection(n)]),t.html(r)},c=function(t,n,i,c){var p,d,h,f,m=n.getZoomedTrackTops(i);p=r("<div>").appendTo(t.$buttons_ctr).css({position:"absolute",left:"0px",top:m+"px","white-space":"nowrap"}),d=r("<img/>").appendTo(p).attr({src:o,width:t.img_size,height:t.img_size}).css({float:"left",cursor:"pointer",border:"1px solid rgba(125,125,125,0)"}).addClass("oncoprintjs__track_options__toggle_btn_img").addClass("nth-"+(c+1)),h=r("<span>").appendTo(p).css({position:"absolute",top:Math.floor(t.img_size/4)+"px"}),f=r("<ul>").appendTo(t.$dropdown_ctr).css({position:"absolute",width:120,display:"none","list-style-type":"none","padding-left":"6","padding-right":"6",float:"right","background-color":"rgb(255,255,255)",left:"0px",top:m+t.img_size+"px"}).addClass("oncoprintjs__track_options__dropdown").addClass("nth-"+(c+1)),t.track_options_$elts[i]={$div:p,$img:d,$dropdown:f},u(h,n,i),d.hover(function(e){t.menu_shown[i]||r(this).css({border:"1px solid rgba(125,125,125,0.3)"})},function(e){t.menu_shown[i]||r(this).css({border:"1px solid rgba(125,125,125,0)"})}),d.click(function(e){e.stopPropagation(),f.is(":visible")?(d.addClass("oncoprintjs__track_options__open"),a(t,i)):(d.removeClass("oncoprintjs__track_options__open"),function(t,e){t.menu_shown[e]=!0;var n=t.track_options_$elts[e];n.$dropdown.css({"z-index":10}),n.$dropdown.css({border:"1px solid rgba(125,125,125,1)"}),n.$img.css({border:"1px solid rgba(125,125,125,1)"}),n.$dropdown.fadeIn(100)}(t,i)),function(t,e){for(var n in e=e.toString(),t.track_options_$elts)if(t.track_options_$elts.hasOwnProperty(n)){if(n===e)continue;a(t,n)}}(t,i)});var g,v,y,b=!n.isTrackInClusteredGroup(i),_=b;(f.append(s("Move up","normal",!b,function(e){e.stopPropagation(),t.moveUpCallback(i)})),f.append(s("Move down","normal",!b,function(e){e.stopPropagation(),t.moveDownCallback(i)})),n.isTrackRemovable(i)&&f.append(s("Remove track","normal",!1,function(e){e.stopPropagation(),t.removeCallback(i)})),n.isTrackSortDirectionChangeable(i))&&(f.append(l()),g=s("Sort a-Z",1===n.getTrackSortDirection(i)?"bold":"normal",!_,function(e){e.stopPropagation(),g.css("font-weight","bold"),v.css("font-weight","normal"),y.css("font-weight","normal"),t.sortChangeCallback(i,1),u(h,n,i)}),v=s("Sort Z-a",-1===n.getTrackSortDirection(i)?"bold":"normal",!_,function(e){e.stopPropagation(),g.css("font-weight","normal"),v.css("font-weight","bold"),y.css("font-weight","normal"),t.sortChangeCallback(i,-1),u(h,n,i)}),y=s("Don't sort track",0===n.getTrackSortDirection(i)?"bold":"normal",!_,function(e){e.stopPropagation(),g.css("font-weight","normal"),v.css("font-weight","normal"),y.css("font-weight","bold"),t.sortChangeCallback(i,0),u(h,n,i)}),f.append(g),f.append(v),f.append(y));n.isTrackExpandable(i)&&f.append(s(n.getExpandButtonText(i),"normal",!1,function(r){r.stopPropagation(),e(t,n),n.expandTrack(i)})),n.isTrackExpanded(i)&&f.append(s("Remove expansion","normal",!1,function(e){e.stopPropagation(),t.unexpandCallback(i)}));var x=n.getTrackCustomOptions(i);if(x&&x.length>0)for(var S=0;S<x.length;S++)!function(){var t=x[S];t.separator?f.append(l()):f.append(s(t.label||"",t.weight||"normal",!!t.disabled,t.onClick&&function(e){e.stopPropagation(),t.onClick(i)}))}()};return t.prototype.enableInteraction=function(){this.interaction_disabled=!1},t.prototype.disableInteraction=function(){this.interaction_disabled=!0},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,e(this,t),i(this,t),n(this,t.getVertScroll())},t.prototype.setScroll=function(t){this.setVertScroll(t)},t.prototype.setHorzScroll=function(t){},t.prototype.setVertScroll=function(t){n(this,t.getVertScroll())},t.prototype.setZoom=function(t){this.setVertZoom(t)},t.prototype.setVertZoom=function(t){e(this,t),i(this,t)},t.prototype.setViewport=function(t){e(this,t),i(this,t),n(this,t.getVertScroll())},t.prototype.getWidth=function(){return 18+this.img_size},t.prototype.addTracks=function(t){e(this,t),i(this,t)},t.prototype.moveTrack=function(t){e(this,t),i(this,t)},t.prototype.setTrackGroupOrder=function(t){e(this,t)},t.prototype.setSortConfig=function(t){e(this,t)},t.prototype.removeTrack=function(t,n){delete this.track_options_$elts[n],e(this,t),i(this,t)},t.prototype.destroy=function(){r(document).off("click",this.clickHandler)},t.prototype.setTrackCustomOptions=function(t){e(this,t)},t}();t.exports=i},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNHB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9Ii0wLjAzMSAwIDQgMTYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTAuMDMxIDAgNCAxNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGZpbGw9IiNCMkIzQjMiIGN4PSIxLjk2OSIgY3k9IjQiIHI9IjEuNSIvPg0KPGNpcmNsZSBmaWxsPSIjQjJCM0IzIiBjeD0iMS45NjkiIGN5PSI4IiByPSIxLjUiLz4NCjxjaXJjbGUgZmlsbD0iI0IyQjNCMyIgY3g9IjEuOTY5IiBjeT0iMTIiIHI9IjEuNSIvPg0KPC9zdmc+DQo="},function(t,e,n){var r=n(2),o=n(0),i=function(){function t(t,e,n){this.$div=t,this.$svg=o(r.svg(200,200)).appendTo(this.$div),this.base_width=e,this.base_height=n,this.rendering_suppressed=!1,this.width=t.width(),this.rule_set_label_config={weight:"bold",size:12,font:"Arial"},this.rule_label_config={weight:"normal",size:12,font:"Arial"},this.padding_after_rule_set_label=10,this.padding_between_rules=20,this.padding_between_rule_set_rows=10}var e=function(t,e,i,a){if(!t.rendering_suppressed&&(void 0===i&&(i=t.$svg[0]),function(t){for(var e=!0;t&&"html"!==t.tagName.toLowerCase();){if("none"===o(t).css("display")){e=!1;break}t=t.parentNode}return e}(i))){o(i).empty();var s=r.defs();i.appendChild(s);var l=r.group(0,0);i.appendChild(l);for(var u=e.getRuleSets(),c=0,p=0;p<u.length;p++)if(!u[p].exclude_from_legend||a){var d=e.getActiveRules(u[p].rule_set_id);if(0!==d.length){var h=r.group(0,c);l.appendChild(h),function(){if(void 0!==u[p].legend_label&&u[p].legend_label.length>0){var t=r.text(u[p].legend_label,0,0,12,"Arial","bold");h.appendChild(t),r.wrapText(t,200)}}();var f=200+t.padding_after_rule_set_label,m=0,g=function(t,e){var n=t.rule.legend_label,r=e.rule.legend_label;return n&&r?n.localeCompare(r):n||r?n?r?void 0:1:-1:0};d.sort(function(t,e){var n=t.rule.legend_order,r=e.rule.legend_order;return void 0===n&&void 0===r?g(t,e):void 0!==n&&void 0!==r?n<r?-1:n>r?1:g(t,e):void 0===n?r===Number.POSITIVE_INFINITY?-1:1:void 0===r?n===Number.POSITIVE_INFINITY?1:-1:void 0});for(var v=0;v<d.length;v++){var y=d[v].rule;if(!y.exclude_from_legend){var b=n(y,t,e,i,s);b.setAttribute("transform","translate("+f+","+m+")"),h.appendChild(b),f+b.getBBox().width>t.width&&(f=200+t.padding_after_rule_set_label,m=h.getBBox().height+t.padding_between_rule_set_rows,b.setAttribute("transform","translate("+f+","+m+")")),f+=b.getBBox().width,f+=t.padding_between_rules}}c+=h.getBBox().height,c+=3*t.padding_between_rule_set_rows}}var _=l.getBBox();t.$svg[0].setAttribute("width",_.width),t.$svg[0].setAttribute("height",_.height+10)}},n=function(t,e,n,o,i){var a=r.group(0,0),s=t.getLegendConfig();if("rule"===s.type){var l=t.apply(s.target,n.getCellWidth(!0),e.base_height);if(t.legend_base_color){var u=r.rect(0,0,n.getCellWidth(!0),e.base_height,t.legend_base_color);a.appendChild(u)}for(var c=0;c<l.length;c++)a.appendChild(r.fromShape(l[c],0,0));if(void 0!==t.legend_label){var p=r.text(t.legend_label,n.getCellWidth(!0)+5,e.base_height/2,12,"Arial","normal");o.appendChild(p);var d=p.getBBox().height;p.setAttribute("y",parseFloat(p.getAttribute("y"))-d/2),o.removeChild(p),a.appendChild(p)}}else if("number"===s.type){var h=2,f=s.range.map(function(t){var e=Math.pow(10,h);return Math.round(t*e)/e});a.appendChild(r.text(f[0],0,0,12,"Arial","normal")),a.appendChild(r.text(f[1],50,0,12,"Arial","normal"));var m=[],g=null,v=null;if("NON_POSITIVE"===s.range_type)g=s.negative_color;else if("NON_NEGATIVE"===s.range_type)g=s.positive_color;else if("ALL"===s.range_type){v=r.linearGradient();var y=Math.abs(f[0])/(Math.abs(f[0])+f[1])*100;v.appendChild(r.stop(y,s.negative_color)),v.appendChild(r.stop(y,s.positive_color)),i.appendChild(v)}m.push([5,20]);for(c=0;c<100;c++){var b=c/100;d=20*s.interpFn((1-b)*s.range[0]+b*s.range[1]);m.push([5+40*c/100,20-d])}m.push([45,20]),a.appendChild(r.path(m,g,g,v))}else if("gradient"===s.type){h=2,f=s.range.map(function(t){var e=Math.pow(10,h);return Math.round(t*e)/e});var _=r.gradient(s.colorFn),x=_.getAttribute("id");i.appendChild(_),a.appendChild(r.text(f[0],0,0,12,"Arial","normal")),a.appendChild(r.text(f[1],120,0,12,"Arial","normal")),a.appendChild(r.rect(30,0,60,20,"url(#"+x+")"))}return a};return t.prototype.setWidth=function(t,n){this.width=t,e(this,n)},t.prototype.removeTrack=function(t){e(this,t)},t.prototype.addTracks=function(t){e(this,t)},t.prototype.setTrackData=function(t){e(this,t)},t.prototype.setTrackImportantIds=function(t){e(this,t)},t.prototype.shareRuleSet=function(t){e(this,t)},t.prototype.setRuleSet=function(t){e(this,t)},t.prototype.setTrackGroupLegendOrder=function(t){e(this,t)},t.prototype.hideTrackLegends=function(t){e(this,t)},t.prototype.showTrackLegends=function(t){e(this,t)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,e(this,t)},t.prototype.toSVGGroup=function(t,n,o){var i=r.group(n||0,o||0);return this.$svg.append(i),e(this,t,i,!0),i.parentNode.removeChild(i),i},t}();t.exports=i},function(t,e,n){var r=n(0),o="oncoprintjs__tooltip",i=function(){function t(t,e){e=e||{},this.$container=t,this.$div=r("<div></div>").addClass(o).appendTo(t).css({"background-color":"rgba(255,255,255,1)",position:"absolute",display:"none",border:"1px solid black","max-width":300,"min-width":150}),e.noselect&&this.$div.addClass("noselect"),this.hide_timeout_id=void 0,this.show_timeout_id=void 0,this.center=!1,this.shown=!1;var n=this;this.$div.on("mousemove",function(t){t.stopPropagation(),a(n)}),this.$div.on("mouseleave",function(t){t.stopPropagation(),n.hide()})}t.prototype.show=function(t,n,r,o,s){if(a(this),void 0===t||this.shown)e(this,n,r,o,s);else{var l=this;i(this),this.show_timeout_id=setTimeout(function(){e(l,n,r,o,s)},t)}};var e=function(t,e,n,o,a){i(t),t.show_timeout_id=void 0,t.$div.empty(),t.$div.css({top:0,left:0,"z-index":9999}),t.$div.append(o),a?t.$div.stop().fadeIn("fast"):t.$div.show();var s=e-(t.center?t.$div.width()/2:0),l=n-t.$div.height();l=Math.max(l,20),l=Math.min(l,r(window).height()-t.$div.height()),s=Math.max(s,20),s=Math.min(s,r(window).width()-t.$div.width()-20),t.$div.css({top:l,left:s,"z-index":9999}),t.shown=!0},n=function(t,e){a(t),t.hide_timeout_id=void 0,e?t.$div.fadeOut():t.$div.hide(),t.shown=!1},i=function(t){clearTimeout(t.show_timeout_id),t.show_timeout_id=void 0},a=function(t){clearTimeout(t.hide_timeout_id),t.hide_timeout_id=void 0};return t.prototype.showIfNotAlreadyGoingTo=function(t,e,n,r){void 0===this.show_timeout_id&&this.show(t,e,n,r)},t.prototype.hideIfNotAlreadyGoingTo=function(t){void 0===this.hide_timeout_id&&this.hide(t)},t.prototype.hide=function(t){if(i(this),this.shown)if(void 0!==t){var e=this;a(this),this.hide_timeout_id=setTimeout(function(){n(e)},t)}else n(this)},t.prototype.fadeIn=function(t,e,n,r){this.show(t,e,n,r,!0)},t}();t.exports=i},function(t,e,n){var r=n(2),o=n(0),i=function(){function t(t,e){this.$div=t,this.tooltip=e,this.tooltip.center=!1,this.$ctr=o("<div></div>").css({position:"absolute","overflow-y":"hidden","overflow-x":"hidden"}).appendTo(this.$div),this.$text_ctr=o("<div></div>").css({position:"absolute"}).appendTo(this.$ctr),this.base_font_size=12,this.font_family="Arial",this.font_weight="bold",this.width=0,this.$label_elts=[],this.rendering_suppressed=!1}var e=function(t){for(var e=0;e<t.$label_elts.length;e++)t.$label_elts[e].off("mousemove mouseleave");t.$label_elts=[]},n=function(t,n){if(!t.rendering_suppressed){t.$text_ctr.empty(),e(t);var r=n.getTracks();t.minimum_track_height=Number.POSITIVE_INFINITY;for(var a=0;a<r.length;a++)t.minimum_track_height=Math.min(t.minimum_track_height,n.getTrackHeight(r[a]));t.width=32;var s=n.getLabelTops();i(t,n.getVertScroll());for(var l=t.getFontSize(),u=0;u<r.length;u++)!function(){var e=u,i=o("<span>").css({position:"absolute","font-family":t.font_family,"font-weight":t.font_weight,"font-size":l}).addClass("noselect");i.text(n.getTrackInfo(r[e])),i.appendTo(t.$text_ctr),t.$label_elts.push(i),setTimeout(function(){i.on("mousemove",function(){var o=n.$getTrackInfoTooltip(r[e]);if(o){var a=i[0].getBoundingClientRect();t.tooltip.fadeIn(200,a.left,a.top,o)}}).on("mouseleave",function(){t.tooltip.hideIfNotAlreadyGoingTo(150)})},0);var a=s[r[e]]+(n.getCellHeight(r[e])-i.outerHeight())/2;i.css({top:a+"px"}),t.width=Math.max(t.width,i[0].clientWidth)}()}},i=function(t,e){t.rendering_suppressed||t.$text_ctr.css({top:-e})},a=function(t,e){t.rendering_suppressed||(t.$div.css({width:t.getWidth(),height:e.getCellViewHeight()}),t.$ctr.css({width:t.getWidth(),height:e.getCellViewHeight()}))};return t.prototype.getFontSize=function(){return Math.max(Math.min(this.base_font_size,this.minimum_track_height),7)},t.prototype.getWidth=function(){return this.width+10},t.prototype.addTracks=function(t){n(this,t),a(this,t)},t.prototype.moveTrack=function(t){n(this,t),a(this,t)},t.prototype.setTrackGroupOrder=function(t){n(this,t),a(this,t)},t.prototype.removeTrack=function(t){n(this,t),a(this,t)},t.prototype.setTrackInfo=function(t){n(this,t),a(this,t)},t.prototype.setScroll=function(t){this.setVertScroll(t)},t.prototype.setHorzScroll=function(t){},t.prototype.setVertScroll=function(t){i(this,t.getVertScroll())},t.prototype.setZoom=function(t){this.setVertZoom(t)},t.prototype.setViewport=function(t){n(this,t),a(this,t),i(this,t.getVertScroll())},t.prototype.setVertZoom=function(t){n(this,t),a(this,t)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,n(this,t),a(this,t),i(this,t.getVertScroll())},t.prototype.destroy=function(){e(this)},t.prototype.toSVGGroup=function(t,e,n){for(var o=r.group(e||0,n||0),i=t.getCellTops(),a=t.getTracks(),s=0;s<a.length;s++){var l=a[s],u=i[l]+t.getCellHeight(l)/2,c=t.getTrackInfo(l),p=r.text(c,0,u,this.font_size,this.font_family,this.font_weight,"bottom");p.setAttribute("dy","0.35em"),o.appendChild(p)}return o},t}();t.exports=i},function(t,e,n){var r=n(7),o=n(38),i=n(0),a=n(39),s=function(t){var e=t.$canvas[0];e.removeEventListener("webglcontextlost",t.handleContextLost);var n=e.cloneNode();n.addEventListener("webglcontextlost",t.handleContextLost);var r=e.parentNode;r.removeChild(e),r.insertBefore(n,t.$overlay_canvas[0]),t.$canvas=i(n),t.ctx=null},l=function(t){try{var e=t.$canvas[0],n=t.ctx||e.getContext("experimental-webgl",{alpha:!1,antialias:!0});return n.clearColor(1,1,1,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.viewportWidth=e.width,n.viewportHeight=e.height,n.viewport(0,0,n.viewportWidth,n.viewportHeight),n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.depthMask(!1),n}catch(t){return null}},u=function(t,e,n){var r=t.ctx.createShader(t.ctx[n]);if(t.ctx.shaderSource(r,e),t.ctx.compileShader(r),!t.ctx.getShaderParameter(r,t.ctx.COMPILE_STATUS)){var o=t.ctx.getShaderInfoLog(r);throw t.ctx.deleteShader(r),"Unable to compile shader: "+o}return r},c=function(t){t.ctx=l(t),function(t){var e=r.mat4.create();r.mat4.lookAt(e,[0,0,1],[0,0,0],[0,1,0]),t.mvMatrix=e;var n=r.mat4.create();r.mat4.ortho(n,0,t.ctx.viewportWidth,t.ctx.viewportHeight,0,-5,1e3),t.pMatrix=n}(t)},p=function(t,e){var n=["precision highp float;","attribute float aPosVertex;","attribute float aColVertex;","attribute float aVertexOncoprintColumn;","uniform float columnWidth;","uniform float zoomX;","uniform float zoomY;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","uniform float offsetY;","uniform float positionBitPackBase;","uniform float texSize;","varying float texCoord;","vec3 unpackVec3(float packedVec3, float base) {","\tfloat pos0 = floor(packedVec3 / (base*base));","\tfloat pos0Contr = pos0*base*base;","\tfloat pos1 = floor((packedVec3 - pos0Contr)/base);","\tfloat pos1Contr = pos1*base;","\tfloat pos2 = packedVec3 - pos0Contr - pos1Contr;","\treturn vec3(pos0, pos1, pos2);","}","void main(void) {","\tgl_Position = vec4(unpackVec3(aPosVertex, positionBitPackBase), 1.0);","\tgl_Position[0] += aVertexOncoprintColumn*columnWidth;","\tgl_Position[1] += offsetY;","\tgl_Position *= vec4(zoomX, zoomY, 1.0, 1.0);","\tgl_Position = uPMatrix * uMVMatrix * gl_Position;","\ttexCoord = (aColVertex + 0.5) / texSize;","}"].join("\n"),r=["precision mediump float;","varying float texCoord;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(texCoord, 0.5));","}"].join("\n"),o=function(t,e,n){var r=t.ctx.createProgram();if(t.ctx.attachShader(r,e),t.ctx.attachShader(r,n),t.ctx.linkProgram(r),!t.ctx.getProgramParameter(r,t.ctx.LINK_STATUS)){var o=t.ctx.getProgramInfoLog(r);throw t.ctx.deleteProgram(r),"Unable to link shader program: "+o}return r}(t,u(t,n,"VERTEX_SHADER"),u(t,r,"FRAGMENT_SHADER"));o.vertexPositionAttribute=t.ctx.getAttribLocation(o,"aPosVertex"),t.ctx.enableVertexAttribArray(o.vertexPositionAttribute),o.vertexColorAttribute=t.ctx.getAttribLocation(o,"aColVertex"),t.ctx.enableVertexAttribArray(o.vertexColorAttribute),o.vertexOncoprintColumnAttribute=t.ctx.getAttribLocation(o,"aVertexOncoprintColumn"),t.ctx.enableVertexAttribArray(o.vertexOncoprintColumnAttribute),o.samplerUniform=t.ctx.getUniformLocation(o,"uSampler"),o.pMatrixUniform=t.ctx.getUniformLocation(o,"uPMatrix"),o.mvMatrixUniform=t.ctx.getUniformLocation(o,"uMVMatrix"),o.columnWidthUniform=t.ctx.getUniformLocation(o,"columnWidth"),o.zoomXUniform=t.ctx.getUniformLocation(o,"zoomX"),o.zoomYUniform=t.ctx.getUniformLocation(o,"zoomY"),o.offsetYUniform=t.ctx.getUniformLocation(o,"offsetY"),o.positionBitPackBaseUniform=t.ctx.getUniformLocation(o,"positionBitPackBase"),o.texSizeUniform=t.ctx.getUniformLocation(o,"texSize"),t.shader_program=o},d=function(t,e,n){return Math.max(e,Math.min(n,t))},h=function(){function t(t,e,n,s,l,f,m,g,v,y,b,_,x){this.$div=t,this.$canvas=e,this.$overlay_canvas=n;var S,w,C,k=this;this.handleContextLost=function(){h(this,s,l)}.bind(this),this.$canvas[0].addEventListener("webglcontextlost",this.handleContextLost),this.layout_numbers={window_width:4+f+4+20,window_height:24+m+4+20,vertical_zoom_area_width:20,horizontal_zoom_area_height:20,padding:4,window_bar_height:20,canvas_left:4,canvas_top:24},this.$div.css({"min-width":this.layout_numbers.window_width,"min-height":this.layout_numbers.window_height,outline:"solid 1px black","background-color":"#ffffff"}),this.$window_bar=i("<div>").css({position:"absolute","min-width":this.layout_numbers.window_width,"min-height":this.layout_numbers.window_bar_height,"background-color":"#cccccc"}).appendTo(this.$div),this.$close_btn=i("<div>").css({position:"absolute",top:3,left:3,"min-width":this.layout_numbers.window_bar_height-6,"min-height":this.layout_numbers.window_bar_height-6,cursor:"pointer"}).appendTo(this.$div),i("<span>").addClass("icon fa fa-times-circle").css("font-size",this.layout_numbers.window_bar_height-6+"px").appendTo(this.$close_btn),this.$close_btn.click(x||function(){}),this.$canvas[0].width=f,this.$canvas[0].height=m,this.$canvas.css({top:this.layout_numbers.canvas_top,left:this.layout_numbers.canvas_left}),this.$overlay_canvas[0].width=f,this.$overlay_canvas[0].height=f,this.$overlay_canvas.css({top:this.layout_numbers.canvas_top,left:this.layout_numbers.canvas_left,outline:"solid 1px #444444"}),this.horizontal_zoom=new o(this.$div,{btn_size:this.layout_numbers.horizontal_zoom_area_height-4,horizontal:!0,width:f,init_val:s.getHorzZoom(),left:4,top:this.layout_numbers.canvas_top+m+4,onChange:function(t){y(t)}}),this.vertical_zoom=new o(this.$div,{btn_size:this.layout_numbers.vertical_zoom_area_width-4,vertical:!0,height:m,init_val:s.getVertZoom(),left:this.layout_numbers.canvas_left+f+4,top:this.layout_numbers.window_bar_height+4,onChange:function(t){b(t)}}),S=k.layout_numbers.horizontal_zoom_area_height-4,w=k.layout_numbers.vertical_zoom_area_width-4,(C=i("<div>").css({position:"absolute","min-height":S,"min-width":w,outline:"solid 1px black",left:k.layout_numbers.canvas_left+f+4,top:k.layout_numbers.canvas_top+m+4,"background-size":w-4+"px "+(S-4)+"px","background-position":"2px 2px","background-image":"url("+a+")","background-repeat":"no-repeat",cursor:"pointer"}).addClass("oncoprint-zoomtofit-btn").appendTo(t)).hover(function(){i(this).css({"background-color":"#cccccc"})},function(){i(this).css({"background-color":"#ffffff"})}),_=_||function(){},C.click(_),c(this),p(this),this.overlay_ctx=n[0].getContext("2d"),this.img=new Image,this.current_rect={top:0,left:0,width:0,height:0,col:0,num_cols:0};k=this;this.img.onload=function(){k.ctx.drawImage(img,0,0)};var T=function(t,e){return t>=k.current_rect.left+5&&t<=k.current_rect.left+k.current_rect.width-5&&e>=k.current_rect.top+5&&e<=k.current_rect.top+k.current_rect.height-5},M=function(t,e){return t>=k.current_rect.left-5&&t<=k.current_rect.left+k.current_rect.width+5&&e>=k.current_rect.top-5&&e<=k.current_rect.top+k.current_rect.height+5},j=function(t,e){return!P(t,e)&&!D(t,e)&&!A(t,e)&&!R(t,e)&&M(t,e)&&Math.abs(t-(k.current_rect.left+k.current_rect.width))<5},E=function(t,e){return!P(t,e)&&!D(t,e)&&!A(t,e)&&!R(t,e)&&M(t,e)&&Math.abs(t-k.current_rect.left)<5},O=function(t,e){return!P(t,e)&&!D(t,e)&&!A(t,e)&&!R(t,e)&&M(t,e)&&Math.abs(e-k.current_rect.top)<5},I=function(t,e){return!P(t,e)&&!D(t,e)&&!A(t,e)&&!R(t,e)&&M(t,e)&&Math.abs(e-(k.current_rect.top+k.current_rect.height))<5},P=function(t,e){return Math.abs(e-k.current_rect.top)<5&&Math.abs(t-k.current_rect.left)<5},A=function(t,e){return Math.abs(e-(k.current_rect.top+k.current_rect.height))<5&&Math.abs(t-k.current_rect.left)<5},D=function(t,e){return Math.abs(e-k.current_rect.top)<5&&Math.abs(t-(k.current_rect.left+k.current_rect.width))<5},R=function(t,e){return Math.abs(e-(k.current_rect.top+k.current_rect.height))<5&&Math.abs(t-(k.current_rect.left+k.current_rect.width))<5};this.resize_hover=!1;var F=function(t,e){void 0===t?k.resize_hover=!1:j(t,e)?k.resize_hover="r":E(t,e)?k.resize_hover="l":O(t,e)?k.resize_hover="t":I(t,e)?k.resize_hover="b":P(t,e)?k.resize_hover="tl":R(t,e)?k.resize_hover="br":A(t,e)?k.resize_hover="bl":D(t,e)?k.resize_hover="tr":k.resize_hover=!1},z=function(e,n){var r;r=void 0===e?"auto":T(e,n)?"move":j(e,n)||E(e,n)?"ew-resize":O(e,n)||I(e,n)?"ns-resize":P(e,n)||R(e,n)?"nwse-resize":A(e,n)||D(e,n)?"nesw-resize":"auto",t.css("cursor",r)},N=function(t,e,n){var r=parseInt(t.$canvas[0].style.top,10),o=parseInt(t.$canvas[0].style.left,10),i=parseInt(t.$canvas[0].width,10),a=parseInt(t.$canvas[0].height,10),s=e-o,l=n-r;return{mouse_x:s,mouse_y:l,outside:s<0||s>=i||l<0||l>=a}},L=!1,B=!1,H=-1,V=-1,q=-1,G=-1,W=-1,U=-1;i(document).on("mousedown",function(t){var e=k.$div.offset(),n=t.pageX-e.left,r=t.pageY-e.top,o=N(k,n,r);if(!o.outside){var i=o.mouse_x,a=o.mouse_y;L=!1,B=!1,U=s.getOncoprintHeight()/parseInt(k.$canvas[0].height,10),T(i,a)?B="move":j(i,a)?B="resize_r":E(i,a)?B="resize_l":O(i,a)?B="resize_t":I(i,a)?B="resize_b":D(i,a)?B="resize_tr":R(i,a)?B="resize_br":P(i,a)?B="resize_tl":A(i,a)&&(B="resize_bl"),!1!==B&&(L=!0,q=i,G=a,H=Math.floor(s.getHorzScroll()/(s.getCellWidth()+s.getCellPadding())),V=s.getVertScroll(),W=s.getVertZoom(),drag_start_rect=k.current_rect)}}),i(document).on("mousemove",function(t){var e=k.$div.offset(),n=t.pageX-e.left,o=t.pageY-e.top,i=N(k,n,o),a=i.mouse_x,c=i.mouse_y,p=r(k,s),h=s.getCellWidth(!0)*p.x;if(L){t.preventDefault();var f=Math.floor(a/h)-Math.floor(q/h),m=c-G;if("move"===B){var v=m*U;g((H+f)*(s.getCellWidth()+s.getCellPadding()),V+v)}else{p=r(k,s);var y,b=s.getIdOrder().length,_=Math.ceil(l.getWidth()/(s.getCellWidth(!0)+s.getCellPadding(!0,!0))),x=s.getOncoprintHeight(!0)*p.y,S=s.getCellViewHeight()*p.y,w=drag_start_rect.col+drag_start_rect.num_cols,C=drag_start_rect.top+drag_start_rect.height;"resize_r"===B?(f=d(f,_-drag_start_rect.num_cols,b-drag_start_rect.num_cols),f=Math.min(f,b-w),y={top:drag_start_rect.top,col:drag_start_rect.col,num_cols:drag_start_rect.num_cols+f,height:drag_start_rect.height}):"resize_l"===B?(f=d(f,drag_start_rect.num_cols-b,drag_start_rect.num_cols-_),f=Math.max(f,-drag_start_rect.col),y={top:drag_start_rect.top,col:drag_start_rect.col+f,num_cols:drag_start_rect.num_cols-f,height:drag_start_rect.height}):"resize_t"===B?(m=d(m,drag_start_rect.height-x,drag_start_rect.height-S),m=Math.max(m,-drag_start_rect.top),y={top:drag_start_rect.top+m,col:drag_start_rect.col,num_cols:drag_start_rect.num_cols,height:drag_start_rect.height-m}):"resize_b"===B?(m=d(m,S-drag_start_rect.height,x-drag_start_rect.height),m=Math.min(m,x-C),y={top:drag_start_rect.top,col:drag_start_rect.col,num_cols:drag_start_rect.num_cols,height:drag_start_rect.height+m}):"resize_tr"===B?(f=d(f,_-drag_start_rect.num_cols,b-drag_start_rect.num_cols),f=Math.min(f,b-w),m=d(m,drag_start_rect.height-x,drag_start_rect.height-S),m=Math.max(m,-drag_start_rect.top),y={top:drag_start_rect.top+m,col:drag_start_rect.col,num_cols:drag_start_rect.num_cols+f,height:drag_start_rect.height-m}):"resize_tl"===B?(f=d(f,drag_start_rect.num_cols-b,drag_start_rect.num_cols-_),f=Math.max(f,-drag_start_rect.col),m=d(m,drag_start_rect.height-x,drag_start_rect.height-S),m=Math.max(m,-drag_start_rect.top),y={top:drag_start_rect.top+m,col:drag_start_rect.col+f,num_cols:drag_start_rect.num_cols-f,height:drag_start_rect.height-m}):"resize_br"===B?(m=d(m,S-drag_start_rect.height,x-drag_start_rect.height),m=Math.min(m,x-C),f=d(f,_-drag_start_rect.num_cols,b-drag_start_rect.num_cols),f=Math.min(f,b-w),y={top:drag_start_rect.top,col:drag_start_rect.col,num_cols:drag_start_rect.num_cols+f,height:drag_start_rect.height+m}):"resize_bl"===B&&(m=d(m,S-drag_start_rect.height,x-drag_start_rect.height),m=Math.min(m,x-C),f=d(f,drag_start_rect.num_cols-b,drag_start_rect.num_cols-_),f=Math.max(f,-drag_start_rect.col),y={top:drag_start_rect.top,col:drag_start_rect.col+f,num_cols:drag_start_rect.num_cols-f,height:drag_start_rect.height+m});h=s.getCellWidth(!0)*p.x;y.left=y.col*h,y.width=y.num_cols*h,u(k,null,null,y)}}else i.outside?(z(),F()):(z(a,c),F(a,c)),u(k,s,l)});var K,Y,X,Z,$;i(document).on("mouseup",function(t){var e=k.$div.offset(),n=t.pageX-e.left,r=t.pageY-e.top;L&&(["resize_t","resize_b","resize_l","resize_r","resize_tl","resize_tr","resize_bl","resize_br"].indexOf(B)>-1&&v({col:k.current_rect.col,scroll_y_proportion:k.current_rect.top/parseInt(k.$canvas[0].height,10),num_cols:k.current_rect.num_cols,zoom_y:drag_start_rect.height/k.current_rect.height*W}),L=!1,B=!1);var o=N(k,n,r);if(o.outside)z(),F();else{var i=o.mouse_x,a=o.mouse_y;z(i,a),F(i,a)}u(k,s,l)}),$=function(t){t.preventDefault();var e=t.pageX-K,n=t.pageY-Y;k.setWindowPosition(X+e,Z+n)},k.$window_bar.hover(function(){i(this).css({cursor:"move"})},function(){i(this).css({cursor:"auto"})}),k.$window_bar.on("mousedown",function(t){K=t.pageX,Y=t.pageY,X=parseInt(k.$div.css("left"),10),Z=parseInt(k.$div.css("top"),10),i(document).on("mousemove",$)}),i(document).on("mouseup click",function(){i(document).off("mousemove",$)})}var e=function(t,e,n){var r=t.ctx.createBuffer(),o=e.vertex_data[n].pos_array;t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,r),t.ctx.bufferData(t.ctx.ARRAY_BUFFER,new Float32Array(o),t.ctx.STATIC_DRAW),r.itemSize=1,r.numItems=o.length/r.itemSize;var i=t.ctx.createBuffer(),a=e.vertex_data[n].col_array;t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,i),t.ctx.bufferData(t.ctx.ARRAY_BUFFER,new Float32Array(a),t.ctx.STATIC_DRAW),i.itemSize=1,i.numItems=a.length/i.itemSize;var s=t.ctx.createTexture();t.ctx.bindTexture(t.ctx.TEXTURE_2D,s);for(var l=e.vertex_data[n].col_bank,u=Math.pow(2,Math.ceil(Math.log2(l.length/4)));l.length<4*u;)l.push(0);t.ctx.texImage2D(t.ctx.TEXTURE_2D,0,t.ctx.RGBA,u,1,0,t.ctx.RGBA,t.ctx.UNSIGNED_BYTE,new Uint8Array(l)),t.ctx.texParameteri(t.ctx.TEXTURE_2D,t.ctx.TEXTURE_MIN_FILTER,t.ctx.NEAREST),t.ctx.texParameteri(t.ctx.TEXTURE_2D,t.ctx.TEXTURE_MAG_FILTER,t.ctx.NEAREST);var c={texture:s,size:u},p=t.ctx.createBuffer(),d=e.vertex_column_array[n];return t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,p),t.ctx.bufferData(t.ctx.ARRAY_BUFFER,new Float32Array(d),t.ctx.STATIC_DRAW),p.itemSize=1,p.numItems=d.length/p.itemSize,{position:r,color:i,color_tex:c,column:p}},n=function(t,n,o){if(!t.rendering_suppressed){!function(t){for(var e=0;e<5&&(!t.ctx||t.ctx.isContextLost());e++)s(t),t.ctx=l(t),p(t);if(!t.ctx||t.ctx.isContextLost())throw new Error("Unable to get WebGL context for Oncoprint Minimap")}(t);var i=r(t,n);t.ctx.clearColor(1,1,1,1),t.ctx.clear(t.ctx.COLOR_BUFFER_BIT|t.ctx.DEPTH_BUFFER_BIT);for(var a=n.getTracks(),u=0;u<a.length;u++){var c=a[u],d=n.getCellTops(c,!0),h=e(t,o,c);0!==h.position.numItems&&(t.ctx.useProgram(t.shader_program),t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,h.position),t.ctx.vertexAttribPointer(t.shader_program.vertexPositionAttribute,h.position.itemSize,t.ctx.FLOAT,!1,0,0),t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,h.color),t.ctx.vertexAttribPointer(t.shader_program.vertexColorAttribute,h.color.itemSize,t.ctx.FLOAT,!1,0,0),t.ctx.bindBuffer(t.ctx.ARRAY_BUFFER,h.column),t.ctx.vertexAttribPointer(t.shader_program.vertexOncoprintColumnAttribute,h.column.itemSize,t.ctx.FLOAT,!1,0,0),t.ctx.activeTexture(t.ctx.TEXTURE0),t.ctx.bindTexture(t.ctx.TEXTURE_2D,h.color_tex.texture),t.ctx.uniform1i(t.shader_program.samplerUniform,0),t.ctx.uniform1f(t.shader_program.texSizeUniform,h.color_tex.size),t.ctx.uniformMatrix4fv(t.shader_program.pMatrixUniform,!1,t.pMatrix),t.ctx.uniformMatrix4fv(t.shader_program.mvMatrixUniform,!1,t.mvMatrix),t.ctx.uniform1f(t.shader_program.columnWidthUniform,n.getCellWidth(!0)),t.ctx.uniform1f(t.shader_program.zoomXUniform,i.x),t.ctx.uniform1f(t.shader_program.zoomYUniform,i.y),t.ctx.uniform1f(t.shader_program.offsetYUniform,d),t.ctx.uniform1f(t.shader_program.positionBitPackBaseUniform,o.position_bit_pack_base),t.ctx.drawArrays(t.ctx.TRIANGLES,0,h.position.numItems))}}},r=function(t,e){var n=parseInt(t.$canvas[0].width,10)/e.getOncoprintWidthNoColumnPadding(!0),r=parseInt(t.$canvas[0].height,10)/e.getOncoprintHeight(!0);return{x:n=Math.max(0,Math.min(1,n)),y:r=Math.max(0,Math.min(1,r))}},u=function(t,e,n,o){if(!t.rendering_suppressed){var i,a,s,l,u,c;if(o)i=o.left,a=o.width,s=o.top,l=o.height,u=o.col,c=o.num_cols;else{var p=e.getCellWidth(!0),d=e.getCellPadding(!0),h=n.getViewportOncoprintSpace(e),f=r(t,e);u=Math.floor(h.left/(p+d)),c=Math.min(e.getIdOrder().length-u,Math.floor(h.right/(p+d))-Math.floor(h.left/(p+d))),i=u*p*f.x,a=c*p*f.x,s=h.top*f.y,l=(h.bottom-h.top)*f.y}var m=t.overlay_ctx,g=t.$overlay_canvas[0],v=parseInt(g.width,10),y=parseInt(g.height,10);m.fillStyle="rgba(0,0,0,0)",m.clearRect(0,0,v,y),m.fillStyle="rgba(255,255,255,0.4)",m.fillRect(i,s,a,l);var b="t"===t.resize_hover||"tr"===t.resize_hover||"tl"===t.resize_hover,_="r"===t.resize_hover||"tr"===t.resize_hover||"br"===t.resize_hover,x="b"===t.resize_hover||"br"===t.resize_hover||"bl"===t.resize_hover,S="l"===t.resize_hover||"tl"===t.resize_hover||"bl"===t.resize_hover;m.beginPath(),m.moveTo(i,s),m.strokeStyle=b?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",m.lineWidth=b?2:1,m.lineTo(i+a,s),m.stroke(),m.beginPath(),m.moveTo(i+a,s),m.strokeStyle=_?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",m.lineWidth=_?2:1,m.lineTo(i+a,s+l),m.stroke(),m.beginPath(),m.moveTo(i+a,s+l),m.strokeStyle=x?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",m.lineWidth=x?2:1,m.lineTo(i,s+l),m.stroke(),m.beginPath(),m.moveTo(i,s+l),m.strokeStyle=S?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",m.lineWidth=S?2:1,m.lineTo(i,s),m.stroke(),t.current_rect={top:s,left:i,width:a,height:l,col:u,num_cols:c}}},h=function(t,e,r){t.rendering_suppressed||(n(t,e,r),u(t,e,r))};return t.prototype.moveTrack=function(t,e){h(this,t,e)},t.prototype.addTracks=function(t,e){h(this,t,e)},t.prototype.removeTrack=function(t,e){h(this,t,e)},t.prototype.setHorzZoom=function(t,e){u(this,t,e),this.horizontal_zoom.setSliderValue(t.getHorzZoom())},t.prototype.setVertZoom=function(t,e){u(this,t,e),this.vertical_zoom.setSliderValue(t.getVertZoom())},t.prototype.setZoom=function(t,e){u(this,t,e),this.horizontal_zoom.setSliderValue(t.getHorzZoom()),this.vertical_zoom.setSliderValue(t.getVertZoom())},t.prototype.setScroll=function(t,e){u(this,t,e)},t.prototype.setHorzScroll=function(t,e){u(this,t,e)},t.prototype.setVertScroll=function(t,e){u(this,t,e)},t.prototype.setViewport=function(t,e){u(this,t,e),this.horizontal_zoom.setSliderValue(t.getHorzZoom()),this.vertical_zoom.setSliderValue(t.getVertZoom())},t.prototype.sort=function(t,e){h(this,t,e)},t.prototype.setTrackData=function(t,e){h(this,t,e)},t.prototype.shareRuleSet=function(t,e){h(this,t,e)},t.prototype.setRuleSet=function(t,e){h(this,t,e)},t.prototype.setIdOrder=function(t,e){h(this,t,e)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t,e){this.rendering_suppressed=!1,h(this,t,e)},t.prototype.hideIds=function(t,e){h(this,t,e)},t.prototype.setWindowPosition=function(t,e){this.$div.css({top:e,left:t})},t.prototype.setWidth=function(t,e,n){this.$canvas[0].width=t,this.$overlay_canvas[0].width=t,c(this),p(this),this.overlay_ctx=this.$overlay_canvas[0].getContext("2d"),h(this,e,n)},t}();t.exports=h},function(t,e,n){var r=n(0),o=function(){var t="v",e=function(e,n){var o=e.$div,i=Math.round(.7*n.btn_size),a=Math.round((n.btn_size-i)/2),s=r("<div>").css({position:"absolute","background-color":"#ffffff",outline:"solid 1px black"}).appendTo(o),l=r("<div>").css({position:"absolute","background-color":"#ffffff",border:"solid 1px black","border-radius":"3px",cursor:"pointer"}).appendTo(o),u=r("<div>").css({position:"absolute","min-height":n.btn_size,"min-width":n.btn_size,"background-color":"#ffffff",border:"solid 1px black","border-radius":"3px",cursor:"pointer"}).appendTo(o);r("<span>").addClass("icon fa fa-plus").css({position:"absolute",top:a,left:a,"min-width":i,"min-height":i}).appendTo(u);var c,p,d,h,f=r("<div>").css({position:"absolute","min-height":n.btn_size,"min-width":n.btn_size,"background-color":"#ffffff",border:"solid 1px black","border-radius":"3px",cursor:"pointer"}).appendTo(o);r("<span>").addClass("icon fa fa-minus").css({position:"absolute",top:a,left:a,"min-width":i,"min-height":i}).appendTo(f),n.vertical?(s.css({"min-height":n.height-2*n.btn_size,"min-width":Math.round(n.btn_size/5)}),l.css({"min-height":Math.round(n.btn_size/2),"min-width":n.btn_size}),u.css({top:0,left:0}),f.css({top:n.height-n.btn_size,left:0}),s.css({top:n.btn_size,left:.4*n.btn_size}),l.css({left:0}),e.orientation=t):(s.css({"min-height":Math.round(n.btn_size/5),"min-width":n.width-2*n.btn_size}),l.css({"min-height":n.btn_size,"min-width":Math.round(n.btn_size/2)}),u.css({top:0,left:n.width-n.btn_size}),f.css({top:0,left:0}),s.css({top:.4*n.btn_size,left:n.btn_size}),l.css({top:0}),e.orientation="h"),u.click(function(){e.value/=.7,n.onChange(e.value)}),f.click(function(){e.value*=.7,n.onChange(e.value)}),[l,u,f].map(function(t){t.hover(function(){r(this).css({"background-color":"#cccccc"})},function(){r(this).css({"background-color":"#ffffff"})})}),e.$slider=l,e.$plus_btn=u,e.$minus_btn=f,h=function(n){n.stopPropagation(),n.preventDefault();var r=(e.orientation===t?c-n.pageY:n.pageX-c)/e.slider_bar_size;e.setSliderValue(p+r)},e.$slider.on("mousedown",function(n){c=e.orientation===t?n.pageY:n.pageX,p=e.value,d=!0,r(document).on("mousemove",h)}),r(document).on("mouseup click",function(){r(document).off("mousemove",h),d&&p!==e.value&&e.onChange(e.value),d=!1})},n=function(e){return e.orientation===t?{bottom:parseInt(e.$minus_btn.css("top"),10)-parseInt(e.$slider.css("min-height"),10),top:parseInt(e.$plus_btn.css("top"),10)+parseInt(e.$plus_btn.css("min-height"),10)}:{left:parseInt(e.$minus_btn.css("left"),10)+parseInt(e.$minus_btn.css("min-width"),10),right:parseInt(e.$plus_btn.css("left"),10)-parseInt(e.$slider.css("min-width"),10)}},o=function(e){!function(e,r){var o=e.$slider,i=n(e);e.orientation===t?o.css("top",i.bottom*(1-r)+i.top*r):"h"===e.orientation&&o.css("left",i.left*(1-r)+i.right*r)}(e,e.value)};function i(n,i){this.$div=r("<div>").css({position:"absolute",top:i.top||0,left:i.left||0}).appendTo(n),(i=i||{}).btn_size=i.btn_size||13,this.onChange=i.onChange||function(){},e(this,i),this.value=i.init_val||.5,this.slider_bar_size=(this.orientation===t?i.height:i.width)-2*i.btn_size,o(this)}return i.prototype.setSliderValue=function(t,e){var n;this.value=(n=t,Math.max(Math.min(n,1),0)),o(this)},i}();t.exports=o},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="}])}).call(this,n(10))},767:function(t,e,n){"use strict";e.__esModule=!0,e.RootCloseWrapper=e.Transition=e.Position=e.Portal=e.Overlay=e.Modal=e.AutoAffix=e.Affix=void 0;var r=p(n(1042)),o=p(n(1173)),i=p(n(775)),a=p(n(776)),s=p(n(777)),l=p(n(778)),u=p(n(779)),c=p(n(780));function p(t){return t&&t.__esModule?t:{default:t}}e.Affix=r.default,e.AutoAffix=o.default,e.Modal=i.default,e.Overlay=a.default,e.Portal=s.default,e.Position=l.default,e.Transition=u.default,e.RootCloseWrapper=c.default},782:function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=a(n(1174)),i=a(n(1175));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.default=(0,o.default)(function(t,e){return function(n){var o=(0,i.default)(n),a=function(t){function n(){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=o=s(this,t.call.apply(t,[this].concat(a))),o.getChildContext=function(){return e(o.props)},s(o,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.render=function(){return o(this.props)},n}(r.Component);return a.childContextTypes=t,a}},"withContext")},785:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=t.displayName||t.name,u="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},801:function(t,e,n){},813:function(t,e,n){"use strict";var r=n(644),o=n.n(r),i=n(528),a=n.n(i),s=n(544),l=n.n(s),u=n(540),c=n.n(u),p=n(541),d=n.n(p),h=n(0),f=n(785),m=n(786),g=n.n(m),v=n(588),y=n.n(v),b=n(44),_=n.n(b);function x(t){var e=t.cellCount,n=t.cellSize,r=t.computeMetadataCallback,o=t.computeMetadataCallbackProps,i=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,l=t.scrollToIndex,u=t.updateScrollOffsetForScrollToIndex;e===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),l>=0&&l===s&&u())}var S=n(721),w=n.n(S),C=(n(3),function(){function t(e){var n=e.cellCount,r=e.cellSizeGetter,o=e.estimatedCellSize;a()(this,t),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return l()(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,n=t.estimatedCellSize,r=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index "+t+" is outside of range 0.."+this._cellCount);if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),n=e.offset+e.size,r=this._lastMeasuredIndex+1;r<=t;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell "+r+" of value "+o);null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell();return t.offset+t.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,o=t.currentOffset,i=t.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,l=s-r+a.size,u=void 0;switch(n){case"start":u=s;break;case"end":u=l;break;case"center":u=s-(r-a.size)/2;break;default:u=Math.max(l,Math.min(s,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,u))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;if(0===this.getTotalSize())return{};var r=n+e,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,n){for(;e<=t;){var r=e+Math.floor((t-e)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?e=r+1:o>n&&(t=r-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var n=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=n,n*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(n,0,t):this._exponentialSearch(n,t)}}]),t}()),k=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},T=function(){function t(e){var n=e.maxScrollSize,r=void 0===n?k():n,o=w()(e,["maxScrollSize"]);a()(this,t),this._cellSizeAndPositionManager=new C(o),this._maxScrollSize=r}return l()(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,o=t.currentOffset,i=t.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;return n=this._safeOffsetToOffset({containerSize:e,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:n})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,n=t.offset,r=t.totalSize;return r<=e?0:n/(r-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:r});return Math.round(i*(o-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(i*(r-e))}}]),t}(),M=n(898),j=n.n(M);function E(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={};return function(n){var r=n.callback,o=n.indices,i=j()(o),a=!t||i.every(function(t){var e=o[t];return Array.isArray(e)?e.length>0:e>=0}),s=i.length!==j()(e).length||i.some(function(t){var n=e[t],r=o[t];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r});e=o,a&&s&&r(o)}}var O=1;function I(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,r=t.previousCellsCount,o=t.previousCellSize,i=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,l=t.scrollOffset,u=t.scrollToAlignment,c=t.scrollToIndex,p=t.size,d=t.sizeJustIncreasedFromZero,h=t.updateScrollIndexCallback,f=n.getCellCount(),m=c>=0&&c<f;m&&(p!==s||d||!o||"number"==typeof e&&e!==o||u!==i||c!==a)?h(c):!m&&f>0&&(p<s||f<r)&&l>n.getTotalSize()-p&&h(f-1)}var P=n(749),A=n.n(P),D=n(1184),R=n.n(D),F=void 0,z=(F="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||F.webkitRequestAnimationFrame||F.mozRequestAnimationFrame||F.oRequestAnimationFrame||F.msRequestAnimationFrame||function(t){return F.setTimeout(t,1e3/60)},N=F.cancelAnimationFrame||F.webkitCancelAnimationFrame||F.mozCancelAnimationFrame||F.oCancelAnimationFrame||F.msCancelAnimationFrame||function(t){F.clearTimeout(t)},L=z,B=N,H=function(t){return B(t.id)},V=function(t,e){var n=void 0;R.a.resolve().then(function(){n=Date.now()});var r={id:L(function o(){Date.now()-n>=e?t.call():r.id=L(o)})};return r},q="observed",G="requested",W=function(t){function e(t){a()(this,e);var n=c()(this,(e.__proto__||o()(e)).call(this,t));n._onGridRenderedMemoizer=E(),n._onScrollMemoizer=E(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var t=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:t,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(t){n._scrollingContainer=t},n._onScroll=function(t){t.target===n._scrollingContainer&&n.handleScrollEvent(t.target)};var r=new T({cellCount:t.columnCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.columnWidth)(n)},estimatedCellSize:e._getEstimatedColumnSize(t)}),i=new T({cellCount:t.rowCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.rowHeight)(n)},estimatedCellSize:e._getEstimatedRowSize(t)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:O,scrollDirectionVertical:O,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(t,n.state)),t.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(t,n.state)),n}return d()(e,t),l()(e,[{key:"getOffsetForCell",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.alignment,n=void 0===e?this.props.scrollToAlignment:e,r=t.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=t.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=y()({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(t){var e=t.scrollLeft,n=void 0===e?0:e,r=t.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,u=i.width,c=this.state.instanceProps,p=c.scrollbarSize,d=c.rowSizeAndPositionManager.getTotalSize(),h=c.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,h-u+p),n),m=Math.min(Math.max(0,d-l+p),o);if(this.state.scrollLeft!==f||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?O:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?O:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:q};a||(g.scrollTop=m),s||(g.scrollLeft=f),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:h,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,e):e,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var t=this.props,e=t.columnCount,n=t.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===O?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===O?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(t){var e=t.columnIndex,n=t.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==e&&this._updateScrollLeftForScrollToColumn(y()({},o,{scrollToColumn:e})),void 0!==n&&this._updateScrollTopForScrollToRow(y()({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var t=this.props,n=t.getScrollbarSize,r=t.height,o=t.scrollLeft,i=t.scrollToColumn,a=t.scrollTop,s=t.scrollToRow,l=t.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState(function(t){var e=y()({},t,{needToResetStyleCache:!1});return e.instanceProps.scrollbarSize=n(),e.instanceProps.scrollbarSizeMeasured=!0,e}),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var c=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});c&&(c.needToResetStyleCache=!1,this.setState(c))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=r>0&&l>0;i>=0&&p&&this._updateScrollLeftForScrollToColumn(),s>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,l=r.rowCount,u=r.scrollToAlignment,c=r.scrollToColumn,p=r.scrollToRow,d=r.width,h=this.state,f=h.scrollLeft,m=h.scrollPositionChangeReason,g=h.scrollTop,v=h.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===t.columnCount||l>0&&0===t.rowCount;m===G&&(!i&&f>=0&&(f!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=f),!o&&g>=0&&(g!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=g));var b=(0===t.width||0===t.height)&&s>0&&d>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):I({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:t.columnCount,previousCellSize:t.columnWidth,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToColumn,previousSize:t.width,scrollOffset:f,scrollToAlignment:u,scrollToIndex:c,size:d,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):I({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:t.rowCount,previousCellSize:t.rowHeight,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToRow,previousSize:t.height,scrollOffset:g,scrollToAlignment:u,scrollToIndex:p,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),f!==e.scrollLeft||g!==e.scrollTop){var _=v.rowSizeAndPositionManager.getTotalSize(),x=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:g,totalColumnsWidth:x,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&H(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoContainerWidth,n=t.autoHeight,r=t.autoWidth,o=t.className,i=t.containerProps,a=t.containerRole,s=t.containerStyle,l=t.height,u=t.id,c=t.noContentRenderer,p=t.role,d=t.style,f=t.tabIndex,m=t.width,g=this.state,v=g.instanceProps,b=g.needToResetStyleCache,x=this._isScrolling(),S={boxSizing:"border-box",direction:"ltr",height:n?"auto":l,position:"relative",width:r?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=v.columnSizeAndPositionManager.getTotalSize(),C=v.rowSizeAndPositionManager.getTotalSize(),k=C>l?v.scrollbarSize:0,T=w>m?v.scrollbarSize:0;T===this._horizontalScrollBarSize&&k===this._verticalScrollBarSize||(this._horizontalScrollBarSize=T,this._verticalScrollBarSize=k,this._scrollbarPresenceChanged=!0),S.overflowX=w+k<=m?"hidden":"auto",S.overflowY=C+T<=l?"hidden":"auto";var M=this._childrenToDisplay,j=0===M.length&&l>0&&m>0;return h.createElement("div",y()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:_()("ReactVirtualized__Grid",o),id:u,onScroll:this._onScroll,role:p,style:y()({},S,d),tabIndex:f}),M.length>0&&h.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:y()({width:e?"auto":w,height:C,maxWidth:w,maxHeight:C,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"},s)},M),j&&c())}},{key:"_calculateChildrenToRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.cellRenderer,r=t.cellRangeRenderer,o=t.columnCount,i=t.deferredMeasurementCache,a=t.height,s=t.overscanColumnCount,l=t.overscanIndicesGetter,u=t.overscanRowCount,c=t.rowCount,p=t.width,d=t.isScrollingOptOut,h=e.scrollDirectionHorizontal,f=e.scrollDirectionVertical,m=e.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:e.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:e.scrollLeft,y=this._isScrolling(t,e);if(this._childrenToDisplay=[],a>0&&p>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:v}),_=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),x=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:v}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var w=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:h,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),C=l({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:f,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),k=w.overscanStartIndex,T=w.overscanStopIndex,M=C.overscanStartIndex,j=C.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var E=M;E<=j;E++)if(!i.has(E,0)){k=0,T=o-1;break}if(!i.hasFixedWidth())for(var O=k;O<=T;O++)if(!i.has(0,O)){M=0,j=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:k,columnStopIndex:T,deferredMeasurementCache:i,horizontalOffsetAdjustment:x,isScrolling:y,isScrollingOptOut:d,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:M,rowStopIndex:j,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:b,visibleRowIndices:_}),this._columnStartIndex=k,this._columnStopIndex=T,this._rowStartIndex=M,this._rowStopIndex=j}}},{key:"_debounceScrollEnded",value:function(){var t=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&H(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=V(this._debounceScrollEndedCallback,t)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e})}}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,r=t.scrollTop,o=t.totalColumnsWidth,i=t.totalRowsHeight;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(t,"isScrolling")?Boolean(t.isScrolling):Boolean(e.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var t=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,t({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(t){var n=t.scrollLeft,r=t.scrollTop,o=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollLeft(t,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e._getScrollLeftForScrollToColumnStateUpdate(t,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollTop(t,n)}},{key:"_resetStyleCache",value:function(){var t=this._styleCache,e=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i=r+"-"+o;this._styleCache[i]=t[i],n&&(this._cellCache[i]=e[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e._getScrollTopForScrollToRowStateUpdate(t,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r={};0===t.columnCount&&0!==n.scrollLeft||0===t.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(t.scrollLeft!==n.scrollLeft&&t.scrollToColumn<0||t.scrollTop!==n.scrollTop&&t.scrollToRow<0)&&g()(r,e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}));var o=n.instanceProps;r.needToResetStyleCache=!1,t.columnWidth===o.prevColumnWidth&&t.rowHeight===o.prevRowHeight||(r.needToResetStyleCache=!0),o.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:e._getEstimatedColumnSize(t),cellSizeGetter:e._wrapSizeGetter(t.columnWidth)}),o.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:e._getEstimatedRowSize(t),cellSizeGetter:e._wrapSizeGetter(t.rowHeight)}),0!==o.prevColumnCount&&0!==o.prevRowCount||(o.prevColumnCount=0,o.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===o.prevIsScrolling&&g()(r,{isScrolling:!1});var i=void 0,a=void 0;return x({cellCount:o.prevColumnCount,cellSize:"number"==typeof o.prevColumnWidth?o.prevColumnWidth:null,computeMetadataCallback:function(){return o.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"==typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:o.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=e._getScrollLeftForScrollToColumnStateUpdate(t,n)}}),x({cellCount:o.prevRowCount,cellSize:"number"==typeof o.prevRowHeight?o.prevRowHeight:null,computeMetadataCallback:function(){return o.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"==typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:o.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=e._getScrollTopForScrollToRowStateUpdate(t,n)}}),o.prevColumnCount=t.columnCount,o.prevColumnWidth=t.columnWidth,o.prevIsScrolling=!0===t.isScrolling,o.prevRowCount=t.rowCount,o.prevRowHeight=t.rowHeight,o.prevScrollToColumn=t.scrollToColumn,o.prevScrollToRow=t.scrollToRow,o.scrollbarSize=t.getScrollbarSize(),void 0===o.scrollbarSize?(o.scrollbarSizeMeasured=!1,o.scrollbarSize=0):o.scrollbarSizeMeasured=!0,r.instanceProps=o,y()({},r,i,a)}},{key:"_getEstimatedColumnSize",value:function(t){return"number"==typeof t.columnWidth?t.columnWidth:t.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(t){return"number"==typeof t.rowHeight?t.rowHeight:t.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(t){var e=t.prevState,n=t.scrollLeft,r=t.scrollTop,o={scrollPositionChangeReason:G};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>e.scrollLeft?O:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>e.scrollTop?O:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==e.scrollLeft||"number"==typeof r&&r>=0&&r!==e.scrollTop?o:null}},{key:"_wrapSizeGetter",value:function(t){return"function"==typeof t?t:function(){return t}}},{key:"_getCalculatedScrollLeft",value:function(t,e){var n=t.columnCount,r=t.height,o=t.scrollToAlignment,i=t.scrollToColumn,a=t.width,s=e.scrollLeft,l=e.instanceProps;if(n>0){var u=n-1,c=i<0?u:Math.min(u,i),p=l.rowSizeAndPositionManager.getTotalSize(),d=l.scrollbarSizeMeasured&&p>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-d,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(t,n){var r=n.scrollLeft,o=e._getCalculatedScrollLeft(t,n);return"number"==typeof o&&o>=0&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(t,e){var n=t.height,r=t.rowCount,o=t.scrollToAlignment,i=t.scrollToRow,a=t.width,s=e.scrollTop,l=e.instanceProps;if(r>0){var u=r-1,c=i<0?u:Math.min(u,i),p=l.columnSizeAndPositionManager.getTotalSize(),d=l.scrollbarSizeMeasured&&p>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-d,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(t,n){var r=n.scrollTop,o=e._getCalculatedScrollTop(t,n);return"number"==typeof o&&o>=0&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):null}}]),e}(h.PureComponent);W.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(t){for(var e=t.cellCache,n=t.cellRenderer,r=t.columnSizeAndPositionManager,o=t.columnStartIndex,i=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,l=t.isScrolling,u=t.isScrollingOptOut,c=t.parent,p=t.rowSizeAndPositionManager,d=t.rowStartIndex,h=t.rowStopIndex,f=t.styleCache,m=t.verticalOffsetAdjustment,g=t.visibleColumnIndices,v=t.visibleRowIndices,y=[],b=r.areOffsetsAdjusted()||p.areOffsetsAdjusted(),_=!l&&!b,x=d;x<=h;x++)for(var S=p.getSizeAndPositionOfCell(x),w=o;w<=i;w++){var C=r.getSizeAndPositionOfCell(w),k=w>=g.start&&w<=g.stop&&x>=v.start&&x<=v.stop,T=x+"-"+w,M=void 0;_&&f[T]?M=f[T]:a&&!a.has(x,w)?M={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(M={height:S.size,left:C.offset+s,position:"absolute",top:S.offset+m,width:C.size},f[T]=M);var j={columnIndex:w,isScrolling:l,isVisible:k,key:T,parent:c,rowIndex:x,style:M},E=void 0;!u&&!l||s||m?E=n(j):(e[T]||(e[T]=n(j)),E=e[T]),null!=E&&!1!==E&&y.push(E)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:A.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return r===O?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},W.propTypes=null,Object(f.polyfill)(W);var U=W,K=1;function Y(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return n=Math.max(1,n),r===K?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i+1)}}var X=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r.state={scrollToColumn:0,scrollToRow:0},r._columnStartIndex=0,r._columnStopIndex=0,r._rowStartIndex=0,r._rowStopIndex=0,r._onKeyDown=function(t){var e=r.props,n=e.columnCount,o=e.disabled,i=e.mode,a=e.rowCount;if(!o){var s=r._getScrollState(),l=s.scrollToColumn,u=s.scrollToRow,c=r._getScrollState(),p=c.scrollToColumn,d=c.scrollToRow;switch(t.key){case"ArrowDown":d="cells"===i?Math.min(d+1,a-1):Math.min(r._rowStopIndex+1,a-1);break;case"ArrowLeft":p="cells"===i?Math.max(p-1,0):Math.max(r._columnStartIndex-1,0);break;case"ArrowRight":p="cells"===i?Math.min(p+1,n-1):Math.min(r._columnStopIndex+1,n-1);break;case"ArrowUp":d="cells"===i?Math.max(d-1,0):Math.max(r._rowStartIndex-1,0)}p===l&&d===u||(t.preventDefault(),r._updateScrollState({scrollToColumn:p,scrollToRow:d}))}},r._onSectionRendered=function(t){var e=t.columnStartIndex,n=t.columnStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;r._columnStartIndex=e,r._columnStopIndex=n,r._rowStartIndex=o,r._rowStopIndex=i},i=n,c()(r,i)}return d()(e,t),l()(e,[{key:"setScrollIndexes",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:e})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.children,r=this._getScrollState(),o=r.scrollToColumn,i=r.scrollToRow;return h.createElement("div",{className:e,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:i}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:e,scrollToRow:n}),o||this.setState({scrollToColumn:e,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isControlled?null:t.scrollToColumn!==e.scrollToColumn||t.scrollToRow!==e.scrollToRow?{scrollToColumn:t.scrollToColumn,scrollToRow:t.scrollToRow}:null}}]),e}(h.PureComponent);X.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},X.propTypes=null,Object(f.polyfill)(X);var Z=n(1050),$=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,o=t.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,d=i-c-p,h=a-l-u;(!e&&r.state.height!==d||!n&&r.state.width!==h)&&(r.setState({height:i-c-p,width:a-l-u}),o({height:i,width:a}))}},r._setRef=function(t){r._autoSizer=t},i=n,c()(r,i)}return d()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(Z.a)(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,o=t.disableWidth,i=t.style,a=this.state,s=a.height,l=a.width,u={overflow:"visible"},c={};return r||(u.height=0,c.height=s),o||(u.width=0,c.width=l),h.createElement("div",{className:n,ref:this._setRef,style:y()({},u,i)},e(c))}}]),e}(h.PureComponent);$.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},$.propTypes=null;var Q=n(46),J=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r._measure=function(){var t=r.props,e=t.cache,n=t.columnIndex,o=void 0===n?0:n,i=t.parent,a=t.rowIndex,s=void 0===a?r.props.index||0:a,l=r._getCellMeasurements(),u=l.height,c=l.width;u===e.getHeight(s,o)&&c===e.getWidth(s,o)||(e.set(s,o,c,u),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))},i=n,c()(r,i)}return d()(e,t),l()(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var t=this.props.children;return"function"==typeof t?t({measure:this._measure}):t}},{key:"_getCellMeasurements",value:function(){var t=this.props.cache,e=Object(Q.findDOMNode)(this);if(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){var n=e.style.width,r=e.style.height;t.hasFixedWidth()||(e.style.width="auto"),t.hasFixedHeight()||(e.style.height="auto");var o=Math.ceil(e.offsetHeight),i=Math.ceil(e.offsetWidth);return n&&(e.style.width=n),r&&(e.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var t=this.props,e=t.cache,n=t.columnIndex,r=void 0===n?0:n,o=t.parent,i=t.rowIndex,a=void 0===i?this.props.index||0:i;if(!e.has(a,r)){var s=this._getCellMeasurements(),l=s.height,u=s.width;e.set(a,r,u,l),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),e}(h.PureComponent);J.__internalCellMeasurerFlag=!1,J.propTypes=null;var tt=30,et=100;!function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(t){var n=t.index,r=e._keyMapper(0,n);return e._columnWidthCache.hasOwnProperty(r)?e._columnWidthCache[r]:e._defaultWidth},this.rowHeight=function(t){var n=t.index,r=e._keyMapper(n,0);return e._rowHeightCache.hasOwnProperty(r)?e._rowHeightCache[r]:e._defaultHeight};var r=n.defaultHeight,o=n.defaultWidth,i=n.fixedHeight,s=n.fixedWidth,l=n.keyMapper,u=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===s,this._minHeight=u||0,this._minWidth=c||0,this._keyMapper=l||nt,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:tt),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:et)}l()(t,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(t,e);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(t,e,n,r){var o=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,e){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,e));var o=this._keyMapper(0,e);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(t,a));var s=this._keyMapper(t,0);this._rowHeightCache[s]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function nt(t,e){return t+"-"+e}var rt={OBSERVED:"observed",REQUESTED:"requested"},ot=function(t){function e(){var t;a()(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(r)));return s.state={isScrolling:!1,scrollLeft:0,scrollTop:0},s._calculateSizeAndPositionDataOnNextUpdate=!1,s._onSectionRenderedMemoizer=E(),s._onScrollMemoizer=E(!1),s._invokeOnSectionRenderedHelper=function(){var t=s.props,e=t.cellLayoutManager,n=t.onSectionRendered;s._onSectionRenderedMemoizer({callback:n,indices:{indices:e.getLastRenderedIndices()}})},s._setScrollingContainerRef=function(t){s._scrollingContainer=t},s._updateScrollPositionForScrollToCell=function(){var t=s.props,e=t.cellLayoutManager,n=t.height,r=t.scrollToAlignment,o=t.scrollToCell,i=t.width,a=s.state,l=a.scrollLeft,u=a.scrollTop;if(o>=0){var c=e.getScrollPositionForCell({align:r,cellIndex:o,height:n,scrollLeft:l,scrollTop:u,width:i});c.scrollLeft===l&&c.scrollTop===u||s._setScrollPosition(c)}},s._onScroll=function(t){if(t.target===s._scrollingContainer){s._enablePointerEventsAfterDelay();var e=s.props,n=e.cellLayoutManager,r=e.height,o=e.isScrollingChange,i=e.width,a=s._scrollbarSize,l=n.getTotalSize(),u=l.height,c=l.width,p=Math.max(0,Math.min(c-i+a,t.target.scrollLeft)),d=Math.max(0,Math.min(u-r+a,t.target.scrollTop));if(s.state.scrollLeft!==p||s.state.scrollTop!==d){var h=t.cancelable?rt.OBSERVED:rt.REQUESTED;s.state.isScrolling||o(!0),s.setState({isScrolling:!0,scrollLeft:p,scrollPositionChangeReason:h,scrollTop:d})}s._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:d,totalWidth:c,totalHeight:u})}},s._scrollbarSize=A()(),void 0===s._scrollbarSize?(s._scrollbarSizeMeasured=!1,s._scrollbarSize=0):s._scrollbarSizeMeasured=!0,s}return d()(e,t),l()(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var t=this.props,e=t.cellLayoutManager,n=t.scrollLeft,r=t.scrollToCell,o=t.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=A()(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=e.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,s=this.state,l=s.scrollLeft,u=s.scrollPositionChangeReason,c=s.scrollTop;u===rt.REQUESTED&&(l>=0&&l!==e.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),c>=0&&c!==e.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),r===t.height&&o===t.scrollToAlignment&&i===t.scrollToCell&&a===t.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoHeight,n=t.cellCount,r=t.cellLayoutManager,o=t.className,i=t.height,a=t.horizontalOverscanSize,s=t.id,l=t.noContentRenderer,u=t.style,c=t.verticalOverscanSize,p=t.width,d=this.state,f=d.isScrolling,m=d.scrollLeft,g=d.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==r||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=r,this._calculateSizeAndPositionDataOnNextUpdate=!1,r.calculateSizeAndPositionData());var v=r.getTotalSize(),b=v.height,x=v.width,S=Math.max(0,m-a),w=Math.max(0,g-c),C=Math.min(x,m+p+a),k=Math.min(b,g+i+c),T=i>0&&p>0?r.cellRenderers({height:k-w,isScrolling:f,width:C-S,x:S,y:w}):[],M={boxSizing:"border-box",direction:"ltr",height:e?"auto":i,position:"relative",WebkitOverflowScrolling:"touch",width:p,willChange:"transform"},j=b>i?this._scrollbarSize:0,E=x>p?this._scrollbarSize:0;return M.overflowX=x+j<=p?"hidden":"auto",M.overflowY=b+E<=i?"hidden":"auto",h.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_()("ReactVirtualized__Collection",o),id:s,onScroll:this._onScroll,role:"grid",style:y()({},M,u),tabIndex:0},n>0&&h.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:b,maxHeight:b,maxWidth:x,overflow:"hidden",pointerEvents:f?"none":"",width:x}},T),0===n&&l())}},{key:"_enablePointerEventsAfterDelay",value:function(){var t=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){(0,t.props.isScrollingChange)(!1),t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,r=t.scrollTop,o=t.totalHeight,i=t.totalWidth;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(t){var e=t.scrollLeft,n=t.scrollTop,r={scrollPositionChangeReason:rt.REQUESTED};e>=0&&(r.scrollLeft=e),n>=0&&(r.scrollTop=n),(e>=0&&e!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return 0!==t.cellCount||0===e.scrollLeft&&0===e.scrollTop?t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop?t.scrollTop:e.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),e}(h.PureComponent);ot.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},ot.propTypes={},Object(f.polyfill)(ot);var it=ot,at=function(){function t(e){var n=e.height,r=e.width,o=e.x,i=e.y;a()(this,t),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}return l()(t,[{key:"addCellIndex",value:function(t){var e=t.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),t}(),st=100,lt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;a()(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return l()(t,[{key:"getCellIndices",value:function(t){var e=t.height,n=t.width,r=t.x,o=t.y,i={};return this.getSections({height:e,width:n,x:r,y:o}).forEach(function(t){return t.getCellIndices().forEach(function(t){i[t]=t})}),j()(i).map(function(t){return i[t]})}},{key:"getCellMetadata",value:function(t){var e=t.index;return this._cellMetadata[e]}},{key:"getSections",value:function(t){for(var e=t.height,n=t.width,r=t.x,o=t.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),l=Math.floor((o+e-1)/this._sectionSize),u=[],c=i;c<=a;c++)for(var p=s;p<=l;p++){var d=c+"."+p;this._sections[d]||(this._sections[d]=new at({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:p*this._sectionSize})),u.push(this._sections[d])}return u}},{key:"getTotalSectionCount",value:function(){return j()(this._sections).length}},{key:"toString",value:function(){var t=this;return j()(this._sections).map(function(e){return t._sections[e].toString()})}},{key:"registerCell",value:function(t){var e=t.cellMetadatum,n=t.index;this._cellMetadata[n]=e,this.getSections(e).forEach(function(t){return t.addCellIndex({index:n})})}}]),t}();function ut(t){var e=t.align,n=void 0===e?"auto":e,r=t.cellOffset,o=t.cellSize,i=t.containerSize,a=t.currentOffset,s=r,l=s-i+o;switch(n){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}var ct=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return d()(e,t),l()(e,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var t=w()(this.props,[]);return h.createElement(it,y()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},t))}},{key:"calculateSizeAndPositionData",value:function(){var t=this.props,e=function(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,r=t.sectionSize,o=[],i=new lt(r),a=0,s=0,l=0;l<e;l++){var u=n({index:l});if(null==u.height||isNaN(u.height)||null==u.width||isNaN(u.width)||null==u.x||isNaN(u.x)||null==u.y||isNaN(u.y))throw Error("Invalid metadata returned for cell "+l+":\n        x:"+u.x+", y:"+u.y+", width:"+u.width+", height:"+u.height);a=Math.max(a,u.y+u.height),s=Math.max(s,u.x+u.width),o[l]=u,i.registerCell({cellMetadatum:u,index:l})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}({cellCount:t.cellCount,cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,sectionSize:t.sectionSize});this._cellMetadata=e.cellMetadata,this._sectionManager=e.sectionManager,this._height=e.height,this._width=e.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(t){var e=t.align,n=t.cellIndex,r=t.height,o=t.scrollLeft,i=t.scrollTop,a=t.width,s=this.props.cellCount;if(n>=0&&n<s){var l=this._cellMetadata[n];o=ut({align:e,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:o,targetIndex:n}),i=ut({align:e,cellOffset:l.y,cellSize:l.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(t){var e=this,n=t.height,r=t.isScrolling,o=t.width,i=t.x,a=t.y,s=this.props,l=s.cellGroupRenderer,u=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:u,cellSizeAndPositionGetter:function(t){var n=t.index;return e._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(t){t||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(t){this._collectionView=t}}]),e}(h.PureComponent);ct.defaultProps={"aria-label":"grid",cellGroupRenderer:function(t){var e=t.cellCache,n=t.cellRenderer,r=t.cellSizeAndPositionGetter,o=t.indices,i=t.isScrolling;return o.map(function(t){var o=r({index:t}),a={index:t,isScrolling:i,key:t,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(t in e||(e[t]=n(a)),e[t]):n(a)}).filter(function(t){return!!t})}};ct.propTypes={};var pt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r._registerChild=r._registerChild.bind(r),r}return d()(e,t),l()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width;n===t.columnMaxWidth&&r===t.columnMinWidth&&o===t.columnCount&&i===t.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width,a=r||1,s=n?Math.min(n,i):i,l=i/o;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),e({adjustedWidth:Math.min(i,l*o),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(t){if(t&&"function"!=typeof t.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=t,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),e}(h.PureComponent);pt.propTypes={};var dt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r._loadMoreRowsMemoizer=E(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return d()(e,t),l()(e,[{key:"resetLoadMoreRowsCache",value:function(t){this._loadMoreRowsMemoizer=E(),t&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(t){var e=this,n=this.props.loadMoreRows;t.forEach(function(t){var r=n(t);r&&r.then(function(){var n,r,o,i,a;n={lastRenderedStartIndex:e._lastRenderedStartIndex,lastRenderedStopIndex:e._lastRenderedStopIndex,startIndex:t.startIndex,stopIndex:t.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||e._registeredChild&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof t.recomputeGridSize?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}(e._registeredChild,e._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(t){var e=t.startIndex,n=t.stopIndex;this._lastRenderedStartIndex=e,this._lastRenderedStopIndex=n,this._doStuff(e,n)}},{key:"_doStuff",value:function(t,e){var n=this,r=this.props,o=r.isRowLoaded,i=r.minimumBatchSize,a=r.rowCount,s=r.threshold,l=function(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,r=t.rowCount,o=t.startIndex,i=t.stopIndex,a=[],s=null,l=null,u=o;u<=i;u++){var c=e({index:u});c?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=u,null===s&&(s=u))}if(null!==l){for(var p=Math.min(Math.max(l,s+n-1),r-1),d=l+1;d<=p&&!e({index:d});d++)l=d;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var h=a[0];h.stopIndex-h.startIndex+1<n&&h.startIndex>0;){var f=h.startIndex-1;if(e({index:f}))break;h.startIndex=f}return a}({isRowLoaded:o,minimumBatchSize:i,rowCount:a,startIndex:Math.max(0,t-s),stopIndex:Math.min(a-1,e+s)}),u=l.reduce(function(t,e){return t.concat([e.startIndex,e.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function(){n._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(t){this._registeredChild=t}}]),e}(h.PureComponent);dt.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};dt.propTypes={};var ht=n(1196),ft=n.n(ht),mt=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r._cellRenderer=function(t){var e=t.parent,n=t.rowIndex,o=t.style,i=t.isScrolling,a=t.isVisible,s=t.key,l=r.props.rowRenderer;return ft()(o,"width").writable&&(o.width="100%"),l({index:n,style:o,isScrolling:i,isVisible:a,key:s,parent:e})},r._setRef=function(t){r.Grid=t},r._onScroll=function(t){var e=t.clientHeight,n=t.scrollHeight,o=t.scrollTop;(0,r.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:o})},r._onSectionRendered=function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:o,stopIndex:i})},i=n,c()(r,i)}return d()(e,t),l()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.noRowsRenderer,r=t.scrollToIndex,o=t.width,i=_()("ReactVirtualized__List",e);return h.createElement(U,y()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),e}(h.PureComponent);mt.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:Y,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},mt.propTypes=null;var gt=n(1030),vt=n.n(gt),yt=n(1199),bt=n.n(yt);var _t={ge:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1;o(t[a],r)>=0?(i=a,n=a-1):e=a+1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1;t[i]>=r?(o=i,n=i-1):e=i+1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},gt:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1;o(t[a],r)>0?(i=a,n=a-1):e=a+1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1;t[i]>r?(o=i,n=i-1):e=i+1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},lt:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1;o(t[a],r)<0?(i=a,e=a+1):n=a-1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1;t[i]<r?(o=i,e=i+1):n=i-1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},le:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1;o(t[a],r)<=0?(i=a,e=a+1):n=a-1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1;t[i]<=r?(o=i,e=i+1):n=i-1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},eq:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(;e<=n;){var i=e+n>>>1,a=o(t[i],r);if(0===a)return i;a<=0?e=i+1:n=i-1}return-1}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(;e<=n;){var o=e+n>>>1,i=t[o];if(i===r)return o;i<=r?e=o+1:n=o-1}return-1}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)}},xt=0,St=1;function wt(t,e,n,r,o){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var Ct=wt.prototype;function kt(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function Tt(t,e){var n=Rt(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function Mt(t,e){var n=t.intervals([]);n.push(e),Tt(t,n)}function jt(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?xt:(n.splice(r,1),Tt(t,n),St)}function Et(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var o=n(t[r]);if(o)return o}}function Ot(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var o=n(t[r]);if(o)return o}}function It(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function Pt(t,e){return t-e}function At(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Dt(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function Rt(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(Pt);var r=e[e.length>>1],o=[],i=[],a=[];for(n=0;n<t.length;++n){var s=t[n];s[1]<r?o.push(s):r<s[0]?i.push(s):a.push(s)}var l=a,u=a.slice();return l.sort(At),u.sort(Dt),new wt(r,Rt(o),Rt(i),l,u)}function Ft(t){this.root=t}Ct.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},Ct.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Mt(this,t):this.left.insert(t):this.left=Rt([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Mt(this,t):this.right.insert(t):this.right=Rt([t]);else{var n=_t.ge(this.leftPoints,t,At),r=_t.ge(this.rightPoints,t,Dt);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},Ct.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?jt(this,t):2===(i=this.left.remove(t))?(this.left=null,this.count-=1,St):(i===St&&(this.count-=1),i):xt;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?jt(this,t):2===(i=this.right.remove(t))?(this.right=null,this.count-=1,St):(i===St&&(this.count-=1),i):xt;if(1===this.count)return this.leftPoints[0]===t?2:xt;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}kt(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?kt(this,this.left):kt(this,this.right);return St}for(o=_t.ge(this.leftPoints,t,At);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(i=_t.ge(this.rightPoints,t,Dt);i<this.rightPoints.length&&this.rightPoints[i][1]===t[1];++i)if(this.rightPoints[i]===t)return this.rightPoints.splice(i,1),St}return xt},Ct.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return Et(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return Ot(this.rightPoints,t,e)}return It(this.leftPoints,e)},Ct.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?Et(this.leftPoints,e,n):t>this.mid?Ot(this.rightPoints,t,n):It(this.leftPoints,n)};var zt=Ft.prototype;zt.insert=function(t){this.root?this.root.insert(t):this.root=new wt(t[0],null,null,[t],[t])},zt.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==xt}return!1},zt.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},zt.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(zt,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(zt,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Nt=function(){function t(){var e;a()(this,t),this._columnSizeMap={},this._intervalTree=e&&0!==e.length?new Ft(Rt(e)):new Ft(null),this._leftMap={}}return l()(t,[{key:"estimateTotalHeight",value:function(t,e,n){var r=t-this.count;return this.tallestColumnSize+Math.ceil(r/e)*n}},{key:"range",value:function(t,e,n){var r=this;this._intervalTree.queryInterval(t,t+e,function(t){var e=bt()(t,3),o=e[0],i=(e[1],e[2]);return n(i,r._leftMap[i],o)})}},{key:"setPosition",value:function(t,e,n,r){this._intervalTree.insert([n,n+r,t]),this._leftMap[t]=e;var o=this._columnSizeMap,i=o[e];o[e]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=0===e?r:Math.min(e,r)}return e}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=Math.max(e,r)}return e}}]),t}(),Lt=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r.state={isScrolling:!1,scrollTop:0},r._invalidateOnUpdateStartIndex=null,r._invalidateOnUpdateStopIndex=null,r._positionCache=new Nt,r._startIndex=null,r._startIndexMemoized=null,r._stopIndex=null,r._stopIndexMemoized=null,r._debounceResetIsScrollingCallback=function(){r.setState({isScrolling:!1})},r._setScrollingContainerRef=function(t){r._scrollingContainer=t},r._onScroll=function(t){var e=r.props.height,n=t.target.scrollTop,o=Math.min(Math.max(0,r._getEstimatedTotalHeight()-e),n);n===o&&(r._debounceResetIsScrolling(),r.state.scrollTop!==o&&r.setState({isScrolling:!0,scrollTop:o}))},i=n,c()(r,i)}return d()(e,t),l()(e,[{key:"clearCellPositions",value:function(){this._positionCache=new Nt,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=e,this._invalidateOnUpdateStopIndex=e):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,e),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,e))}},{key:"recomputeCellPositions",value:function(){var t=this._positionCache.count-1;this._positionCache=new Nt,this._populatePositionCache(0,t),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(t,e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==t.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&H(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var t=this,e=this.props,n=e.autoHeight,r=e.cellCount,o=e.cellMeasurerCache,i=e.cellRenderer,a=e.className,s=e.height,l=e.id,u=e.keyMapper,c=e.overscanByPixels,p=e.role,d=e.style,f=e.tabIndex,m=e.width,g=e.rowDirection,v=this.state,b=v.isScrolling,x=v.scrollTop,S=[],w=this._getEstimatedTotalHeight(),C=this._positionCache.shortestColumnSize,k=this._positionCache.count,T=0,M=void 0;if(this._positionCache.range(Math.max(0,x-c),s+2*c,function(e,n,r){var a;void 0===M?(T=e,M=e):(T=Math.min(T,e),M=Math.max(M,e)),S.push(i({index:e,isScrolling:b,key:u(e),parent:t,style:(a={height:o.getHeight(e)},vt()(a,"ltr"===g?"left":"right",n),vt()(a,"position","absolute"),vt()(a,"top",r),vt()(a,"width",o.getWidth(e)),a)}))}),C<x+s+c&&k<r)for(var j=Math.min(r-k,Math.ceil((x+s+c-C)/o.defaultHeight*m/o.defaultWidth)),E=k;E<k+j;E++)M=E,S.push(i({index:E,isScrolling:b,key:u(E),parent:this,style:{width:o.getWidth(E)}}));return this._startIndex=T,this._stopIndex=M,h.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_()("ReactVirtualized__Masonry",a),id:l,onScroll:this._onScroll,role:p,style:y()({boxSizing:"border-box",direction:"ltr",height:n?"auto":s,overflowX:"hidden",overflowY:w<s?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},d),tabIndex:f},h.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:w,maxWidth:"100%",maxHeight:w,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},S))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var t=this._invalidateOnUpdateStartIndex,e=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(t,e),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var t=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&H(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=V(this._debounceResetIsScrollingCallback,t)}},{key:"_getEstimatedTotalHeight",value:function(){var t=this.props,e=t.cellCount,n=t.cellMeasurerCache,r=t.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(e,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var t=this.props,e=t.height,n=t.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:e,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(t,e){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=t;i<=e;i++){var a=o(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return void 0!==t.scrollTop&&e.scrollTop!==t.scrollTop?{isScrolling:!0,scrollTop:t.scrollTop}:null}}]),e}(h.PureComponent);function Bt(){}Lt.defaultProps={autoHeight:!1,keyMapper:function(t){return t},onCellsRendered:Bt,onScroll:Bt,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Lt.propTypes=null;Object(f.polyfill)(Lt);var Ht=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t),this.columnWidth=function(t){var n=t.index;e._cellMeasurerCache.columnWidth({index:n+e._columnIndexOffset})},this.rowHeight=function(t){var n=t.index;e._cellMeasurerCache.rowHeight({index:n+e._rowIndexOffset})};var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=void 0===o?0:o,s=n.rowIndexOffset,l=void 0===s?0:s;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=l}return l()(t,[{key:"clear",value:function(t,e){this._cellMeasurerCache.clear(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function(t,e,n,r){this._cellMeasurerCache.set(t+this._rowIndexOffset,e+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}(),Vt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));qt.call(r);var i=t.deferredMeasurementCache,s=t.fixedColumnCount,l=t.fixedRowCount;return r._maybeCalculateCachedStyles(!0),i&&(r._deferredMeasurementCacheBottomLeftGrid=l>0?new Ht({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:l}):i,r._deferredMeasurementCacheBottomRightGrid=s>0||l>0?new Ht({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:l}):i,r._deferredMeasurementCacheTopRightGrid=s>0?new Ht({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:0}):i),r}return d()(e,t),l()(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,n-a),u=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:u}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:u}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.scrollLeft,n=t.scrollTop;if(e>0||n>0){var r={};e>0&&(r.scrollLeft=e),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var t=this.props,e=t.onScroll,n=t.onSectionRendered,r=(t.onScrollbarPresenceChange,t.scrollLeft,t.scrollToColumn),o=(t.scrollTop,t.scrollToRow),i=w()(t,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,s=a.scrollLeft,l=a.scrollTop;return h.createElement("div",{style:this._containerOuterStyle},h.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(i),this._renderTopRightGrid(y()({},i,{onScroll:e,scrollLeft:s}))),h.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(y()({},i,{onScroll:e,scrollTop:l})),this._renderBottomRightGrid(y()({},i,{onScroll:e,onSectionRendered:n,scrollLeft:s,scrollToColumn:r,scrollToRow:o,scrollTop:l}))))}},{key:"_getBottomGridHeight",value:function(t){return t.height-this._getTopGridHeight(t)}},{key:"_getLeftGridWidth",value:function(t){var e=t.fixedColumnCount,n=t.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<e;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*e;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(t){return t.width-this._getLeftGridWidth(t)}},{key:"_getTopGridHeight",value:function(t){var e=t.fixedRowCount,n=t.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<e;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*e;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(t){var e=this.props,n=e.columnWidth,r=e.enableFixedColumnScroll,o=e.enableFixedRowScroll,i=e.height,a=e.fixedColumnCount,s=e.fixedRowCount,l=e.rowHeight,u=e.style,c=e.styleBottomLeftGrid,p=e.styleBottomRightGrid,d=e.styleTopLeftGrid,h=e.styleTopRightGrid,f=e.width,m=t||i!==this._lastRenderedHeight||f!==this._lastRenderedWidth,g=t||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,v=t||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(t||m||u!==this._lastRenderedStyle)&&(this._containerOuterStyle=y()({height:i,overflow:"visible",width:f},u)),(t||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:f},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:f}),(t||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=y()({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},c)),(t||g||p!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=y()({left:this._getLeftGridWidth(this.props),position:"absolute"},p)),(t||d!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=y()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},d)),(t||g||h!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=y()({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},h)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=l,this._lastRenderedStyle=u,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=p,this._lastRenderedStyleTopLeftGrid=d,this._lastRenderedStyleTopRightGrid=h,this._lastRenderedWidth=f}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(t){var e=t.enableFixedColumnScroll,n=t.fixedColumnCount,r=t.fixedRowCount,o=t.rowCount,i=t.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!n)return null;var s=a?1:0,l=this._getBottomGridHeight(t),u=this._getLeftGridWidth(t),c=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,p=i?u+c:u,d=h.createElement(U,y()({},t,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:l,onScroll:e?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,o-r)+s,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:p}));return i?h.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:y()({},this._bottomLeftGridStyle,{height:l,width:u,overflowY:"hidden"})},d):d}},{key:"_renderBottomRightGrid",value:function(t){var e=t.columnCount,n=t.fixedColumnCount,r=t.fixedRowCount,o=t.rowCount,i=t.scrollToColumn,a=t.scrollToRow;return h.createElement(U,y()({},t,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,e-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(t),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,o-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:i-n,scrollToRow:a-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(t)}))}},{key:"_renderTopLeftGrid",value:function(t){var e=t.fixedColumnCount,n=t.fixedRowCount;return e&&n?h.createElement(U,y()({},t,{className:this.props.classNameTopLeftGrid,columnCount:e,height:this._getTopGridHeight(t),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(t)})):null}},{key:"_renderTopRightGrid",value:function(t){var e=t.columnCount,n=t.enableFixedRowScroll,r=t.fixedColumnCount,o=t.fixedRowCount,i=t.scrollLeft,a=t.hideTopRightGridScrollbar,s=this.state,l=s.showHorizontalScrollbar,u=s.scrollbarSize;if(!o)return null;var c=l?1:0,p=this._getTopGridHeight(t),d=this._getRightGridWidth(t),f=l?u:0,m=p,g=this._topRightGridStyle;a&&(m=p+f,g=y()({},this._topRightGridStyle,{left:0}));var v=h.createElement(U,y()({},t,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,e-r)+c,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:o,scrollLeft:i,style:g,tabIndex:null,width:d}));return a?h.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:y()({},this._topRightGridStyle,{height:p,width:d,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft&&t.scrollLeft>=0?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop&&t.scrollTop>=0?t.scrollTop:e.scrollTop}:null}}]),e}(h.PureComponent);Vt.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var qt=function(){var t=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(e){t._bottomLeftGrid=e},this._bottomRightGridRef=function(e){t._bottomRightGrid=e},this._cellRendererBottomLeftGrid=function(e){var n=e.rowIndex,r=w()(e,["rowIndex"]),o=t.props,i=o.cellRenderer,a=o.fixedRowCount;return n===o.rowCount-a?h.createElement("div",{key:r.key,style:y()({},r.style,{height:20})}):i(y()({},r,{parent:t,rowIndex:n+a}))},this._cellRendererBottomRightGrid=function(e){var n=e.columnIndex,r=e.rowIndex,o=w()(e,["columnIndex","rowIndex"]),i=t.props,a=i.cellRenderer,s=i.fixedColumnCount,l=i.fixedRowCount;return a(y()({},o,{columnIndex:n+s,parent:t,rowIndex:r+l}))},this._cellRendererTopRightGrid=function(e){var n=e.columnIndex,r=w()(e,["columnIndex"]),o=t.props,i=o.cellRenderer,a=o.columnCount,s=o.fixedColumnCount;return n===a-s?h.createElement("div",{key:r.key,style:y()({},r.style,{width:20})}):i(y()({},r,{columnIndex:n+s,parent:t}))},this._columnWidthRightGrid=function(e){var n=e.index,r=t.props,o=r.columnCount,i=r.fixedColumnCount,a=r.columnWidth,s=t.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&n===o-i?l:"function"==typeof a?a({index:n+i}):a},this._onScroll=function(e){var n=e.scrollLeft,r=e.scrollTop;t.setState({scrollLeft:n,scrollTop:r});var o=t.props.onScroll;o&&o(e)},this._onScrollbarPresenceChange=function(e){var n=e.horizontal,r=e.size,o=e.vertical,i=t.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(n!==a||o!==s){t.setState({scrollbarSize:r,showHorizontalScrollbar:n,showVerticalScrollbar:o});var l=t.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:n,size:r,vertical:o})}},this._onScrollLeft=function(e){var n=e.scrollLeft;t._onScroll({scrollLeft:n,scrollTop:t.state.scrollTop})},this._onScrollTop=function(e){var n=e.scrollTop;t._onScroll({scrollTop:n,scrollLeft:t.state.scrollLeft})},this._rowHeightBottomGrid=function(e){var n=e.index,r=t.props,o=r.fixedRowCount,i=r.rowCount,a=r.rowHeight,s=t.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&n===i-o?l:"function"==typeof a?a({index:n+o}):a},this._topLeftGridRef=function(e){t._topLeftGrid=e},this._topRightGridRef=function(e){t._topRightGrid=e}};Vt.propTypes={},Object(f.polyfill)(Vt);var Gt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return d()(e,t),l()(e,[{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.clientHeight,r=e.clientWidth,o=e.scrollHeight,i=e.scrollLeft,a=e.scrollTop,s=e.scrollWidth;return t({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.clientWidth,r=t.scrollHeight,o=t.scrollLeft,i=t.scrollTop,a=t.scrollWidth;this.setState({clientHeight:e,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),e}(h.PureComponent);Gt.propTypes={};function Wt(t){var e=t.className,n=t.columns,r=t.style;return h.createElement("div",{className:e,role:"row",style:r},n)}Wt.propTypes=null;var Ut={ASC:"ASC",DESC:"DESC"};function Kt(t){var e=t.sortDirection,n=_()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Ut.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Ut.DESC});return h.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===Ut.ASC?h.createElement("path",{d:"M7 14l5-5 5 5z"}):h.createElement("path",{d:"M7 10l5 5 5-5z"}),h.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Yt(t){var e=t.dataKey,n=t.label,r=t.sortBy,o=t.sortDirection,i=r===e,a=[h.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:n},n)];return i&&a.push(h.createElement(Kt,{key:"SortIndicator",sortDirection:o})),a}function Xt(t){var e=t.className,n=t.columns,r=t.index,o=t.key,i=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,l=t.onRowMouseOver,u=t.onRowRightClick,c=t.rowData,p=t.style,d={"aria-rowindex":r+1};return(i||a||s||l||u)&&(d["aria-label"]="row",d.tabIndex=0,i&&(d.onClick=function(t){return i({event:t,index:r,rowData:c})}),a&&(d.onDoubleClick=function(t){return a({event:t,index:r,rowData:c})}),s&&(d.onMouseOut=function(t){return s({event:t,index:r,rowData:c})}),l&&(d.onMouseOver=function(t){return l({event:t,index:r,rowData:c})}),u&&(d.onContextMenu=function(t){return u({event:t,index:r,rowData:c})})),h.createElement("div",y()({},d,{className:e,key:o,role:"row",style:p}),n)}Kt.propTypes={},Yt.propTypes=null,Xt.propTypes=null;var Zt=function(t){function e(){return a()(this,e),c()(this,(e.__proto__||o()(e)).apply(this,arguments))}return d()(e,t),e}(h.Component);Zt.defaultProps={cellDataGetter:function(t){var e=t.dataKey,n=t.rowData;return"function"==typeof n.get?n.get(e):n[e]},cellRenderer:function(t){var e=t.cellData;return null==e?"":String(e)},defaultSortDirection:Ut.ASC,flexGrow:0,flexShrink:1,headerRenderer:Yt,style:{}};var $t=Zt;Zt.propTypes={};var Qt=function(t){function e(t){a()(this,e);var n=c()(this,(e.__proto__||o()(e)).call(this,t));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return d()(e,t),l()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.disableHeader,i=e.gridClassName,a=e.gridStyle,s=e.headerHeight,l=e.headerRowRenderer,u=e.height,c=e.id,p=e.noRowsRenderer,d=e.rowClassName,f=e.rowStyle,m=e.scrollToIndex,g=e.style,v=e.width,b=this.state.scrollbarWidth,x=o?u:u-s,S="function"==typeof d?d({index:-1}):d,w="function"==typeof f?f({index:-1}):f;return this._cachedColumnStyles=[],h.Children.toArray(n).forEach(function(e,n){var r=t._getFlexStyleForColumn(e,e.props.style);t._cachedColumnStyles[n]=y()({},r,{overflow:"hidden"})}),h.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":h.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:_()("ReactVirtualized__Table",r),id:c,role:"grid",style:g},!o&&l({className:_()("ReactVirtualized__Table__headerRow",S),columns:this._getHeaderColumns(),style:y()({height:s,overflow:"hidden",paddingRight:b,width:v},w)}),h.createElement(U,y()({},this.props,{autoContainerWidth:!0,className:_()("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:v,columnCount:1,height:x,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:b,scrollToRow:m,style:y()({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(t){var e=t.column,n=t.columnIndex,r=t.isScrolling,o=t.parent,i=t.rowData,a=t.rowIndex,s=this.props.onColumnClick,l=e.props,u=l.cellDataGetter,c=l.cellRenderer,p=l.className,d=l.columnData,f=l.dataKey,m=l.id,g=c({cellData:u({columnData:d,dataKey:f,rowData:i}),columnData:d,columnIndex:n,dataKey:f,isScrolling:r,parent:o,rowData:i,rowIndex:a}),v=this._cachedColumnStyles[n],y="string"==typeof g?g:null;return h.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:_()("ReactVirtualized__Table__rowColumn",p),key:"Row"+a+"-Col"+n,onClick:function(t){s&&s({columnData:d,dataKey:f,event:t})},role:"gridcell",style:v,title:y},g)}},{key:"_createHeader",value:function(t){var e=t.column,n=t.index,r=this.props,o=r.headerClassName,i=r.headerStyle,a=r.onHeaderClick,s=r.sort,l=r.sortBy,u=r.sortDirection,c=e.props,p=c.columnData,d=c.dataKey,f=c.defaultSortDirection,m=c.disableSort,g=c.headerRenderer,v=c.id,b=c.label,x=!m&&s,S=_()("ReactVirtualized__Table__headerColumn",o,e.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:x}),w=this._getFlexStyleForColumn(e,y()({},i,e.props.headerStyle)),C=g({columnData:p,dataKey:d,disableSort:m,label:b,sortBy:l,sortDirection:u}),k=void 0,T=void 0,M=void 0,j=void 0,E=void 0;if(x||a){var O=l!==d?f:u===Ut.DESC?Ut.ASC:Ut.DESC,I=function(t){x&&s({defaultSortDirection:f,event:t,sortBy:d,sortDirection:O}),a&&a({columnData:p,dataKey:d,event:t})};E=e.props["aria-label"]||b||d,j="none",M=0,k=I,T=function(t){"Enter"!==t.key&&" "!==t.key||I(t)}}return l===d&&(j=u===Ut.ASC?"ascending":"descending"),h.createElement("div",{"aria-label":E,"aria-sort":j,className:S,id:v,key:"Header-Col"+n,onClick:k,onKeyDown:T,role:"columnheader",style:w,tabIndex:M},C)}},{key:"_createRow",value:function(t){var e=this,n=t.rowIndex,r=t.isScrolling,o=t.key,i=t.parent,a=t.style,s=this.props,l=s.children,u=s.onRowClick,c=s.onRowDoubleClick,p=s.onRowRightClick,d=s.onRowMouseOver,f=s.onRowMouseOut,m=s.rowClassName,g=s.rowGetter,v=s.rowRenderer,b=s.rowStyle,x=this.state.scrollbarWidth,S="function"==typeof m?m({index:n}):m,w="function"==typeof b?b({index:n}):b,C=g({index:n}),k=h.Children.toArray(l).map(function(t,o){return e._createColumn({column:t,columnIndex:o,isScrolling:r,parent:i,rowData:C,rowIndex:n,scrollbarWidth:x})}),T=_()("ReactVirtualized__Table__row",S),M=y()({},a,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:x},w);return v({className:T,columns:k,index:n,isScrolling:r,key:o,onRowClick:u,onRowDoubleClick:c,onRowRightClick:p,onRowMouseOver:d,onRowMouseOut:f,rowData:C,style:M})}},{key:"_getFlexStyleForColumn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.props.flexGrow+" "+t.props.flexShrink+" "+t.props.width+"px",r=y()({},e,{flex:n,msFlex:n,WebkitFlex:n});return t.props.maxWidth&&(r.maxWidth=t.props.maxWidth),t.props.minWidth&&(r.minWidth=t.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var t=this,e=this.props,n=e.children;return(e.disableHeader?[]:h.Children.toArray(n)).map(function(e,n){return t._createHeader({column:e,index:n})})}},{key:"_getRowHeight",value:function(t){var e=this.props.rowHeight;return"function"==typeof e?e({index:t}):e}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.scrollHeight,r=t.scrollTop;(0,this.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,r=t.rowStartIndex,o=t.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(t){this.Grid=t}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var t=Object(Q.findDOMNode)(this.Grid),e=t.clientWidth||0,n=(t.offsetWidth||0)-e;this.setState({scrollbarWidth:n})}}}]),e}(h.PureComponent);Qt.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:Y,overscanRowCount:10,rowRenderer:Xt,headerRowRenderer:Wt,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var Jt=Qt;Qt.propTypes={};var te=[],ee=null,ne=null;function re(){ne&&(ne=null,document.body&&null!=ee&&(document.body.style.pointerEvents=ee),ee=null)}function oe(){re(),te.forEach(function(t){return t.__resetIsScrolling()})}function ie(t){t.currentTarget===window&&null==ee&&document.body&&(ee=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){ne&&H(ne);var t=0;te.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),ne=V(oe,t)}(),te.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function ae(t,e){te.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",ie),te.push(t)}function se(t,e){(te=te.filter(function(e){return e!==t})).length||(e.removeEventListener("scroll",ie),ne&&(H(ne),re()))}var le=function(t){return t===window},ue=function(t){return t.getBoundingClientRect()};function ce(t,e){if(t){if(le(t)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return ue(t)}return{height:e.serverHeight,width:e.serverWidth}}function pe(t){return le(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var de=function(){return"undefined"!=typeof window?window:void 0},he=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r._window=de(),r._isMounted=!1,r._positionFromTop=0,r._positionFromLeft=0,r.state=y()({},ce(r.props.scrollElement,r.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),r._registerChild=function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=t,r.updatePosition()},r._onChildScroll=function(t){var e=t.scrollTop;if(r.state.scrollTop!==e){var n=r.props.scrollElement;n&&("function"==typeof n.scrollTo?n.scrollTo(0,e+r._positionFromTop):n.scrollTop=e+r._positionFromTop)}},r._registerResizeListener=function(t){t===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(t,r._onResize)},r._unregisterResizeListener=function(t){t===window?window.removeEventListener("resize",r._onResize,!1):t&&r._detectElementResize.removeResizeListener(t,r._onResize)},r._onResize=function(){r.updatePosition()},r.__handleWindowScrollEvent=function(){if(r._isMounted){var t=r.props.onScroll,e=r.props.scrollElement;if(e){var n=pe(e),o=Math.max(0,n.left-r._positionFromLeft),i=Math.max(0,n.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),t({scrollLeft:o,scrollTop:i})}}},r.__resetIsScrolling=function(){r.setState({isScrolling:!1})},i=n,c()(r,i)}return d()(e,t),l()(e,[{key:"updatePosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,e=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||Q.findDOMNode(this);if(i instanceof Element&&t){var a=function(t,e){if(le(e)&&document.documentElement){var n=document.documentElement,r=ue(t),o=ue(n);return{top:r.top-o.top,left:r.left-o.left}}var i=pe(e),a=ue(t),s=ue(e);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}(i,t);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=ce(t,this.props);r===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),e({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var t=this.props.scrollElement;this._detectElementResize=Object(Z.a)(),this.updatePosition(t),t&&(ae(this,t),this._registerResizeListener(t)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.scrollElement,r=t.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),se(this,r),ae(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var t=this.props.scrollElement;t&&(se(this,t),this._unregisterResizeListener(t)),this._isMounted=!1}},{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.isScrolling,r=e.scrollTop,o=e.scrollLeft,i=e.height,a=e.width;return t({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:o,scrollTop:r,width:a})}}]),e}(h.PureComponent);he.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:de(),serverHeight:0,serverWidth:0},he.propTypes=null;n.d(e,"c",function(){return Jt}),n.d(e,"a",function(){return $t}),n.d(e,"b",function(){return Ut})},816:function(t,e,n){"use strict";var r=n(1040).Collapse,o=n(1163).UnmountClosed;o.Collapse=r,o.UnmountClosed=o,t.exports=o},817:function(t,e){(function(e){t.exports=e}).call(this,{})},884:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]="number"==typeof t[n]?t[n]:t[n].val);return e},t.exports=e.default},892:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=0);return e},t.exports=e.default},893:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n,o,i,a,s){var l=n+(-i*(e-o)+-a*n)*t,u=e+l*t;if(Math.abs(l)<s&&Math.abs(u-o)<s)return r[0]=o,r[1]=0,r;return r[0]=u,r[1]=l,r};var r=[0,0];t.exports=e.default},894:function(t,e,n){(function(e){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(228))},895:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(0!==n[r])return!1;var o="number"==typeof e[r]?e[r]:e[r].val;if(t[r]!==o)return!1}return!0},t.exports=e.default},896:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},897:function(t,e,n){var r=n(722),o=n(628),i=n(784);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},898:function(t,e,n){t.exports={default:n(1182),__esModule:!0}},899:function(t,e,n){"use strict";var r=n(736);function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}}}]);