"use strict";(self.webpackChunkcbioportal_frontend=self.webpackChunkcbioportal_frontend||[]).push([[15],{21015:(e,t,n)=>{n.d(t,{l6:()=>N,Kh:()=>C});var r=n(88034),i=n(57930),a=n.n(i),o=n(76127),s=n.n(o),u=n(5933),l=n(36903),c=n(78566),p=n(27808),f=n(95269);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function v(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?y(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P,O=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},w=function(e){function t(e){var n;return d(this,t),n=v(this,m(t).call(this,e)),Object.defineProperty(y(n),"renderedOnce",{enumerable:!0,configurable:!0,writable:!0,value:!1}),(0,c.makeObservable)(y(n)),n}return g(t,e),h(t,[{key:"render",value:function(){var e=this;return this.renderedOnce||setTimeout((function(){return e.renderedOnce=!0})),r.createElement("div",{className:this.props.className},this.renderedOnce&&this.props.children,!this.renderedOnce&&(this.props.loadingState||null))}}]),t}(r.Component);O([c.observable],w.prototype,"renderedOnce",void 0),w=O([p.observer],w);var N=function(e){function t(){var e;return d(this,t),e=v(this,m(t).apply(this,arguments)),Object.defineProperty(y(e),"div",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return g(t,e),h(t,[{key:"componentDidMount",value:function(){this.props.onTabDidMount&&this.props.onTabDidMount(this.div)}},{key:"componentWillUnmount",value:function(){this.props.onTabUnmount&&this.props.onTabUnmount(this.div)}},{key:"assignRef",value:function(e){this.div=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{ref:function(t){return e.div=t},className:s()({"msk-tab":!0,hiddenByPosition:!!this.props.inactive},this.props.className)},this.props.children)}}]),t}(r.Component);O([u.default],N.prototype,"assignRef",null);var C=P=function(e){function t(e){var n;return d(this,t),n=v(this,m(t).call(this,e)),Object.defineProperty(y(n),"currentPage",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(y(n),"pageBreaks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(y(n),"shownTabs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(y(n),"navTabsRef",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(y(n),"tabRefs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(y(n),"tabIdToNavTabWidth",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(y(n),"needToRecomputeNavTabWidths",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(y(n),"widthReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(y(n),"tabClickHandlers",{enumerable:!0,configurable:!0,writable:!0,value:(0,f.Z)((function(e,t){e.preventDefault(),n.setActiveTab(t.id,t.datum)}))}),(0,c.makeObservable)(y(n)),n}return g(t,e),h(t,[{key:"cloneTab",value:function(e,t,n){return n?r.cloneElement(e,{inactive:t},this.props.loadingComponent):r.cloneElement(e,{inactive:t})}},{key:"setActiveTab",value:function(e,t){this.props.onTabClick&&this.props.onTabClick(e,t)}},{key:"navTabsRefHandler",value:function(e){this.navTabsRef=e}},{key:"tabRefHandler",value:function(e,t){e&&t&&this.tabRefs.push({id:e,element:t})}},{key:"nextPage",value:function(){this.currentPage+=1}},{key:"prevPage",value:function(){this.currentPage-=1}},{key:"render",value:function(){var e=this;if(this.props.children&&r.Children.count(this.props.children)){var t,n=this.props.children,i=r.Children.toArray(n),o=e.props.activeTabId&&a().some(i,(function(t){return t.props.id===e.props.activeTabId}))?e.props.activeTabId:i[0].props.id;return t=a().reduce(i,(function(t,n){return n.props.hide||(n.props.id===o?(e.shownTabs.push(n.props.id),t.push(e.cloneTab(n,!1))):(!1===n.props.unmountOnHide||void 0===n.props.unmountOnHide&&!1===e.props.unmountOnHide)&&a().includes(e.shownTabs,n.props.id)&&t.push(e.cloneTab(n,!0))),t}),[]),r.createElement("div",{id:this.props.id?this.props.id:"",className:s()("msk-tabs","posRelative",this.props.className)},this.navTabs(n,o),r.createElement(w,{className:"tab-content",loadingState:r.createElement(l.Z,{isLoading:!0,center:!0,size:"big"})},this.props.contentWindowExtra,t))}return null}},{key:"navTabs",value:function(e,t){this.tabRefs=[];var n=this.tabPages(e,t),i=this.pageBreaks.length+1,a=this.currentPage>1?r.createElement("li",{key:"prevPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.prevPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-left",style:this.props.arrowStyle}))):null,o=this.currentPage<i?r.createElement("li",{key:"nextPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.nextPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-right",style:this.props.arrowStyle}))):null,u=this.props.tabButtonStyle||"tabs";return r.createElement("ul",{ref:this.navTabsRefHandler.bind(this),className:s()("nav","nav-".concat(u))},a,n[this.currentPage-1],o)}},{key:"tabPages",value:function(e,t){var n=this,i=[[]],a=1;return r.Children.forEach(e,(function(e){if(e&&!e.props.hide){var o=t===e.props.id?"active":"";n.props.getPaginationWidth&&n.pageBreaks.length>0&&n.pageBreaks[a-1]===e.props.id&&(a++,i[a-1]=[]);var u=null;if(e.props.onClickClose){var l=e.props.onClickClose;u=r.createElement("div",{className:"closeButton",onClick:function(t){t.stopPropagation(),l(e.props.id)}},r.createElement("i",{className:"fa fa-md fa-times-circle"}))}i[a-1].push(r.createElement("li",{key:e.props.id,style:{cursor:"pointer"},ref:n.tabRefHandler.bind(n,e.props.id),className:o},r.createElement("a",{className:s()("tabAnchor","tabAnchor_".concat(e.props.id),e.props.anchorClassName),onClick:n.tabClickHandlers(e.props),href:n.props.getTabHref&&n.props.getTabHref(e.props.id),style:e.props.anchorStyle},e.props.linkText,u)))}})),i}},{key:"componentWillReceiveProps",value:function(e){a().isEqual(P.getVisibleTabIds(e.children),P.getVisibleTabIds(this.props.children))||(this.needToRecomputeNavTabWidths=!0)}},{key:"componentDidMount",value:function(){var e=this;this.computeNavTabWidths(),this.needToRecomputeNavTabWidths=!1,this.widthReaction=(0,c.autorun)((function(){e.props.getPaginationWidth&&(e.props.getPaginationWidth(),e.initPaging())}))}},{key:"componentWillUnmount",value:function(){this.widthReaction()}},{key:"componentDidUpdate",value:function(){this.needToRecomputeNavTabWidths&&(this.computeNavTabWidths(),this.needToRecomputeNavTabWidths=!1,this.initPaging())}},{key:"computeNavTabWidths",value:function(){var e=this;a().each(this.tabRefs,(function(t){e.tabIdToNavTabWidth[t.id]=t.element.offsetWidth})),window.test=this.tabIdToNavTabWidth}},{key:"initPaging",value:function(){this.props.getPaginationWidth&&(this.pageBreaks=this.findPageBreaks(),this.currentPage=this.findCurrentPage(this.pageBreaks))}},{key:"findCurrentPage",value:function(e){var t=this,n=1,r=!1;return this.props.activeTabId&&e.length>0&&a().each(this.tabRefs,(function(i){if(i.id===e[n-1]&&n++,i.id===t.props.activeTabId)return r=!0,!1})),r?n:1}},{key:"findPageBreaks",value:function(){var e=this,t=[];if(this.needToRecomputeNavTabWidths)return[];var n=this.props.getPaginationWidth&&this.props.getPaginationWidth()||0;if(n>0){var i=0;r.Children.forEach(this.props.children,(function(r,a){if(r&&r.props.id in e.tabIdToNavTabWidth&&(i+=e.tabIdToNavTabWidth[r.props.id],0!==a)){i>n-50&&(t.push(r.props.id),i=e.tabIdToNavTabWidth[r.props.id])}}))}return t}}],[{key:"getVisibleTabIds",value:function(e){return r.Children.map(e,(function(e){return e&&!e.props.hide?e.props.id:null})).filter((function(e){return null!==e}))}}]),t}(r.Component);Object.defineProperty(C,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{unmountOnHide:!0,loadingComponent:r.createElement(l.Z,{isLoading:!0,center:!0,size:"big"})}}),O([c.observable],C.prototype,"currentPage",void 0),O([c.observable],C.prototype,"pageBreaks",void 0),O([c.action],C.prototype,"nextPage",null),O([c.action],C.prototype,"prevPage",null),O([c.action.bound],C.prototype,"initPaging",null),C=P=O([p.observer],C)},95269:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{Z:()=>o});var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"inputToKey",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inputToOutput",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"memo",{enumerable:!0,configurable:!0,writable:!0,value:{}})}var t,n,i;return t=e,(n=[{key:"get",value:function(e){var t=this.inputToKey(e);return this.memo[t]=this.memo[t]||this.inputToOutput(e),this.memo[t]}},{key:"has",value:function(e){return this.inputToKey(e)in this.memo}}])&&r(t.prototype,n),i&&r(t,i),e}();function a(e){return JSON.stringify(e,Object.keys(e).sort())}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=new i(t,(function(t){return function(n){return e(n,t)}}));return function(e){return n.get(e)}}}}]);