(window.webpackJsonp=window.webpackJsonp||[]).push([[7,2,17,25],Array(541).concat([function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(7),i=n.n(o),a=n(9),s=n.n(a),l=n(47),c=n.n(l),u=n(11),p=n(5),h=n(548),d=n(1044),f=n(582),m=n(25),y=n(553),g=n(991),v=n(656),b=n(552),S=n(4);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function A(e){return e.description?r.createElement("span",null,e.title,r.createElement(S.c,{placement:"right",overlay:r.createElement("span",null,e.description)},r.createElement("i",{className:"fa fa-info-circle",style:{marginLeft:"0.2rem"}}))):e.title}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,k(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return void 0===this.props.germlineContent?r.createElement(r.Fragment,null,this.somaticInfo,this.germlinePlaceholder):r.createElement(y.l,w({badgeSelectorOptions:this.mutationStatusFilterOptions},this.props))}},{key:"mutationStatusFilterOptions",get:function(){var e=[{value:"Somatic",label:A(this.props.somaticContent),badgeStyleOverride:y.j,badgeStyleSelectedOverride:y.j}];return this.props.germlineContent&&e.push({value:"Germline",label:A(this.props.germlineContent),badgeStyleOverride:y.j,badgeStyleSelectedOverride:y.j}),e}},{key:"somaticInfo",get:function(){return this.props.rates?r.createElement(y.a,{label:A(this.props.somaticContent),badgeContent:"".concat(Object(y.y)(this.props.rates.Somatic),"%"),badgeStyleOverride:this.mutationStatusFilterOptions[0].badgeStyleOverride}):null}},{key:"germlinePlaceholder",get:function(){return r.createElement("div",{"data-test":"germlineMutationRate",className:"invisible"},"%")}}])&&C(n.prototype,o),i&&C(n,i),t}();E([p.computed],O.prototype,"mutationStatusFilterOptions",null);var P=O=E([u.observer],O);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":N(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,D(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{"data-test":"mutation-rate-summary"},r.createElement(P,{filter:this.props.mutationStatusFilter,onSelect:this.props.onMutationStatusSelect,rates:{Germline:this.germlineMutationRate,Somatic:this.somaticMutationRate},somaticContent:{title:"Somatic Mutation Frequency",description:"Percentage of samples with a somatic mutation in ".concat(this.props.hugoGeneSymbol)},germlineContent:this.germlineMutationRate>0?{title:"Germline Mutation Frequency",description:"Percentage of samples with a germline mutation in ".concat(this.props.hugoGeneSymbol)}:void 0}))}},{key:"germlineMutationRate",get:function(){var e;return"pending"!==this.props.germlineConsentedSamples.status&&(e=this.props.germlineConsentedSamples&&this.props.germlineConsentedSamples.result&&this.props.germlineConsentedSamples.result.length>0?this.props.germlineConsentedSamples.result:this.props.samples),e?Object(b.h)(this.props.hugoGeneSymbol,this.props.mutations,this.props.molecularProfileIdToMolecularProfile.result,e):0}},{key:"somaticMutationRate",get:function(){return this.props.samples.length>0?Object(b.q)(this.props.hugoGeneSymbol,this.props.mutations,this.props.molecularProfileIdToMolecularProfile.result,this.props.samples):0}}])&&I(n.prototype,o),i&&I(n,i),t}();R([p.computed],j.prototype,"germlineMutationRate",null),R([p.computed],j.prototype,"somaticMutationRate",null);var F=j=R([u.observer],j),G=n(834),B=n(739),z=n(672),V=n(740);function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":$(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Q=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,W(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,G["b"]),n=t,(o=[{key:"componentWillUpdate",value:function(e){this._columns[G.a.STUDY].visible=!!(e.studyIdToStudy&&Object.keys(e.studyIdToStudy).length>1)}},{key:"generateColumns",value:function(){var e=this;q(W(t.prototype),"generateColumns",this).call(this),this._columns[G.a.CANCER_TYPE].visible=B.a.isVisible(this.props.dataStore?this.props.dataStore.allData:this.props.data,this.props.uniqueSampleKeyToTumorType),this._columns[G.a.TUMOR_ALLELE_FREQ].visible=z.a.isVisible(this.props.dataStore?this.props.dataStore.allData:this.props.data),this._columns[G.a.STUDY].order=0,this._columns[G.a.SAMPLE_ID].order=10,this._columns[G.a.CANCER_TYPE].order=15,this._columns[G.a.PROTEIN_CHANGE].order=20,this._columns[G.a.ANNOTATION].order=30,this._columns[G.a.HGVSG].order=35,this._columns[G.a.FUNCTIONAL_IMPACT].order=38,this._columns[G.a.MUTATION_TYPE].order=40,this._columns[G.a.COPY_NUM].order=50,this._columns[G.a.COSMIC].order=60,this._columns[G.a.MUTATION_STATUS].order=70,this._columns[G.a.VALIDATION_STATUS].order=80,this._columns[G.a.CENTER].order=100,this._columns[G.a.CHROMOSOME].order=110,this._columns[G.a.START_POS].order=120,this._columns[G.a.END_POS].order=130,this._columns[G.a.REF_ALLELE].order=140,this._columns[G.a.VAR_ALLELE].order=150,this._columns[G.a.TUMOR_ALLELE_FREQ].order=160,this._columns[G.a.NORMAL_ALLELE_FREQ].order=170,this._columns[G.a.VAR_READS].order=180,this._columns[G.a.REF_READS].order=190,this._columns[G.a.VAR_READS_N].order=200,this._columns[G.a.REF_READS_N].order=210,this._columns[G.a.NUM_MUTATIONS].order=220,this._columns[G.a.EXON].order=230,this._columns[G.a.HGVSC].order=240,this._columns[G.a.GNOMAD].order=260,this._columns[G.a.CLINVAR].order=270,this._columns[G.a.DBSNP].order=280,this._columns[G.a.CANCER_TYPE].shouldExclude=function(){return!e.props.uniqueSampleKeyToTumorType},this._columns[G.a.NUM_MUTATIONS].shouldExclude=function(){return!e.props.mutationCountCache},this._columns[G.a.EXON].render=function(t){return V.a.renderFunction(t,e.props.genomeNexusCache,!1)},this._columns[G.a.EXON].headerRender=function(){return r.createElement("span",{style:{display:"inline-block"}},"Exon",r.createElement("br",null),"(",e.props.totalNumberOfExons," in total)")}}}])&&H(n.prototype,o),i&&H(n,i),t}();Q.defaultProps=Object.assign({},G.b.defaultProps,{columns:[G.a.STUDY,G.a.SAMPLE_ID,G.a.COPY_NUM,G.a.ANNOTATION,G.a.HGVSG,G.a.FUNCTIONAL_IMPACT,G.a.REF_READS_N,G.a.VAR_READS_N,G.a.REF_READS,G.a.VAR_READS,G.a.START_POS,G.a.END_POS,G.a.REF_ALLELE,G.a.VAR_ALLELE,G.a.MUTATION_STATUS,G.a.VALIDATION_STATUS,G.a.CENTER,G.a.CHROMOSOME,G.a.PROTEIN_CHANGE,G.a.MUTATION_TYPE,G.a.COSMIC,G.a.TUMOR_ALLELE_FREQ,G.a.NORMAL_ALLELE_FREQ,G.a.CANCER_TYPE,G.a.NUM_MUTATIONS,G.a.EXON,G.a.HGVSC,G.a.GNOMAD,G.a.CLINVAR,G.a.DBSNP]});var X=Q=Y([u.observer],Q),Z=n(596);function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":re(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ie=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).call(this,e))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,g["a"]),n=t,(o=[{key:"onMutationStatusSelect",value:function(e,t){Object(y.L)(e,t,this.store.dataStore,y.c.MUTATION_STATUS,v.a)}},{key:"mutationStatusFilter",get:function(){return this.store.dataStore.dataFilters.find(function(e){return e.id===v.a})}},{key:"mutationRateSummary",get:function(){return this.props.store.germlineConsentedSamples&&this.props.store.germlineConsentedSamples.result&&this.props.store.mutationData.isComplete&&this.props.store.mutationData.result.length>0?r.createElement(F,{hugoGeneSymbol:this.props.store.gene.hugoGeneSymbol,molecularProfileIdToMolecularProfile:this.props.store.molecularProfileIdToMolecularProfile,mutations:this.props.store.mutationData.result,samples:this.props.store.samples.result,germlineConsentedSamples:this.props.store.germlineConsentedSamples,onMutationStatusSelect:this.onMutationStatusSelect,mutationStatusFilter:this.mutationStatusFilter}):null}},{key:"isMutationTableDataLoading",get:function(){return"pending"===Object(Z.a)(this.props.store.clinicalDataForSamples,this.props.store.studiesForSamplesWithoutCancerTypeClinicalData,this.props.store.canonicalTranscript)}},{key:"totalExonNumber",get:function(){var e=this.props.store.canonicalTranscript.result&&this.props.store.canonicalTranscript.result.transcriptId,t=this.props.store.activeTranscript&&this.props.store.activeTranscript===e?this.props.store.canonicalTranscript.result:this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript];return t&&t.exons&&t.exons.length>0?t.exons.length.toString():"None"}},{key:"mutationTableComponent",get:function(){return r.createElement(X,{uniqueSampleKeyToTumorType:this.props.store.uniqueSampleKeyToTumorType,oncoKbCancerGenes:this.props.store.oncoKbCancerGenes,discreteCNACache:this.props.discreteCNACache,studyIdToStudy:this.props.store.studyIdToStudy.result,molecularProfileIdToMolecularProfile:this.props.store.molecularProfileIdToMolecularProfile.result,oncoKbEvidenceCache:this.props.oncoKbEvidenceCache,pubMedCache:this.props.pubMedCache,mutationCountCache:this.props.mutationCountCache,genomeNexusCache:this.props.genomeNexusCache,genomeNexusMutationAssessorCache:this.props.genomeNexusMutationAssessorCache,genomeNexusMyVariantInfoCache:this.props.genomeNexusMyVariantInfoCache,dataStore:this.props.store.dataStore,itemsLabelPlural:this.itemsLabelPlural,downloadDataFetcher:this.props.store.downloadDataFetcher,myCancerGenomeData:this.props.myCancerGenomeData,hotspotData:this.props.store.indexedHotspotData,indexedVariantAnnotations:this.props.store.indexedVariantAnnotations,cosmicData:this.props.store.cosmicData.result,oncoKbData:this.props.store.oncoKbData,civicGenes:this.props.store.civicGenes,civicVariants:this.props.store.civicVariants,userEmailAddress:this.props.userEmailAddress,enableOncoKb:this.props.enableOncoKb,enableFunctionalImpact:this.props.enableGenomeNexus,enableHotspot:this.props.enableHotspot,enableMyCancerGenome:this.props.enableMyCancerGenome,enableCivic:this.props.enableCivic,totalNumberOfExons:this.totalExonNumber})}},{key:"mutationTable",get:function(){return r.createElement("span",null,!this.isMutationTableDataLoading&&this.mutationTableComponent)}}])&&J(n.prototype,o),i&&J(n,i),t}();oe([p.computed],ie.prototype,"mutationStatusFilter",null),oe([p.computed],ie.prototype,"mutationRateSummary",null),oe([m.a,p.action],ie.prototype,"onMutationStatusSelect",null);var ae=ie=oe([u.observer],ie),se=n(874),le=n(875),ce=n(3),ue=n(638),pe=(n(1133),n(639)),he=n(16);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var be=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ve(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Se=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=me(t).call(this,e))||"object"!==ve(o)&&"function"!=typeof o?ye(r):o).handleTabChange.bind(ye(n)),n.mutationsGeneTab=n.props.store.hugoGeneSymbols[0],n.userSelectionStore=new le.a,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,r["Component"]),n=t,(o=[{key:"onToggleOql",value:function(){this.props.store.mutationsTabFilteringSettings.useOql=!this.props.store.mutationsTabFilteringSettings.useOql}},{key:"onToggleVUS",value:function(){this.props.store.mutationsTabFilteringSettings.excludeVus=!this.props.store.mutationsTabFilteringSettings.excludeVus}},{key:"onToggleGermline",value:function(){this.props.store.mutationsTabFilteringSettings.excludeGermline=!this.props.store.mutationsTabFilteringSettings.excludeGermline}},{key:"render",value:function(){var e=this,t=this.props.routing?this.props.routing.location.query.mutationsGeneTab:this.mutationsGeneTab;return r.createElement("div",{"data-test":"mutationsTabDiv"},this.props.store.mutationMapperStores.isComplete&&r.createElement(f.b,{id:"mutationsPageTabs",activeTabId:t,onTabClick:function(t){return e.handleTabChange(t)},className:"pillTabs resultsPageMutationsGeneTabs",enablePagination:!1,arrowStyle:{"line-height":.8},tabButtonStyle:"pills",unmountOnHide:!0},this.generateTabs(this.props.store.hugoGeneSymbols)))}},{key:"generateTabs",value:function(e){var t=this,n=[];return e.forEach(function(e){var o=t.props.store.getMutationMapperStore(e);if(o){var i=o.mutations.length>0?void 0:{color:"#bbb"};n.push(r.createElement(f.a,{key:e,id:e,linkText:e,anchorStyle:i},r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"mutations-oql-status-banner",store:t.props.store,tabReflectsOql:t.props.store.mutationsTabFilteringSettings.useOql,isUnaffected:!t.props.store.queryContainsMutationOql,onToggle:t.onToggleOql}),r.createElement(pe.a,{store:t.props.store,mutationsTabModeSettings:{excludeVUS:t.props.store.mutationsTabFilteringSettings.excludeVus,excludeGermline:t.props.store.mutationsTabFilteringSettings.excludeGermline,toggleExcludeVUS:t.onToggleVUS,toggleExcludeGermline:t.onToggleGermline,hugoGeneSymbol:e}})),r.createElement(ae,de({},Object(se.a)(ce.b.serverConfig),{oncoKbPublicApiUrl:Object(he.s)(),store:o,trackVisibility:t.userSelectionStore.trackVisibility,discreteCNACache:t.props.store.discreteCNACache,oncoKbEvidenceCache:t.props.store.oncoKbEvidenceCache,pubMedCache:t.props.store.pubMedCache,cancerTypeCache:t.props.store.cancerTypeCache,mutationCountCache:t.props.store.mutationCountCache,genomeNexusCache:t.props.store.genomeNexusCache,genomeNexusMutationAssessorCache:t.props.store.genomeNexusMutationAssessorCache,genomeNexusMyVariantInfoCache:t.props.store.genomeNexusMyVariantInfoCache,pdbHeaderCache:t.props.store.pdbHeaderCache,myCancerGenomeData:t.props.store.myCancerGenomeData,userEmailAddress:t.props.appStore.userName}))))}}),n}},{key:"handleTabChange",value:function(e){this.props.routing?this.props.routing.updateRoute({mutationsGeneTab:e}):this.mutationsGeneTab=e}}])&&fe(n.prototype,o),i&&fe(n,i),t}();be([p.observable],Se.prototype,"mutationsGeneTab",void 0),be([m.a],Se.prototype,"onToggleOql",null),be([m.a],Se.prototype,"onToggleVUS",null),be([m.a],Se.prototype,"onToggleGermline",null);var we=Se=be([u.observer],Se),Ce=n(993),_e=n(607),ke=n(93),Te=n(683),xe=n(876),Ee=n(558);function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var De=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Me(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Le=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Oe(this,Pe(t).apply(this,arguments))).ui=Object(Ee.a)({await:function(){return[e.props.store.existUnsequencedSamplesInAGene,e.props.store.genes]},render:function(){if(e.props.store.existUnsequencedSamplesInAGene.result){var t="";return t=e.props.store.genes.result.length>1?"The results below do not reflect gene panel data. Samples which were not profiled for some or all of the queried genes are included in the analysis below.":"The results below do not reflect gene panel data. Samples which were not profiled for the queried gene are included in the analysis below.",r.createElement("div",{className:"alert alert-warning"},r.createElement("span",{style:{verticalAlign:"middle"}},r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),t))}return null}}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return this.ui.component}}])&&Ae(n.prototype,o),i&&Ae(n,i),t}(),Ne=Le=De([u.observer],Le);function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ze=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Be(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ve=[{value:Te.a,color:"red",name:"Cases with Alteration(s) in Query Gene(s)"},{value:Te.b,color:"blue",name:"Cases without Alteration(s) in Query Gene(s)"}],He=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=je(this,Fe(t).apply(this,arguments))).overallSurvivalTitleText="Overall Survival Kaplan-Meier Estimate",e.diseaseFreeSurvivalTitleText="Disease/Progression-free Kaplan-Meier Estimate",e.multipleDescriptionWarningMessageWithoutTooltip="The survival data on patients from different cohorts may have been defined by ",e.multipleDescriptionWarningMessageWithTooltip="different criteria.",e.differentDescriptionExistMessage="Different descriptions of survival data were used for different studies.",e.overallPatientSurvivalData=Object(S.W)({await:function(){return[e.props.store.overallAlteredPatientSurvivals,e.props.store.overallUnalteredPatientSurvivals]},invoke:function(){return Promise.resolve(Object(Te.k)(e.props.store.overallAlteredPatientSurvivals.result,e.props.store.overallUnalteredPatientSurvivals.result))}}),e.diseaseFreePatientSurvivalData=Object(S.W)({await:function(){return[e.props.store.diseaseFreeAlteredPatientSurvivals,e.props.store.diseaseFreeUnalteredPatientSurvivals]},invoke:function(){return Promise.resolve(Object(Te.k)(e.props.store.diseaseFreeAlteredPatientSurvivals.result,e.props.store.diseaseFreeUnalteredPatientSurvivals.result))}}),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){if(this.overallPatientSurvivalData.isPending||this.diseaseFreePatientSurvivalData.isPending||this.props.store.overallSurvivalDescriptions.isPending||this.props.store.diseaseFreeSurvivalDescriptions.isPending)return r.createElement(ke.a,{isLoading:!0,size:"big",center:!0});var e=[],t=!1,n=!1,o=this.props.store.overallSurvivalDescriptions&&1==this.props.store.overallSurvivalDescriptions.result.length?this.props.store.overallSurvivalDescriptions.result[0].description:"",a=this.props.store.diseaseFreeSurvivalDescriptions&&1==this.props.store.diseaseFreeSurvivalDescriptions.result.length?this.props.store.diseaseFreeSurvivalDescriptions.result[0].description:"";if(this.overallPatientSurvivalData.isComplete&&this.overallPatientSurvivalData.result.patientSurvivals.length>0){if(this.props.store.overallSurvivalDescriptions&&this.props.store.overallSurvivalDescriptions.result.length>1){var s=this.multipleDescriptionWarningMessageWithoutTooltip;i.a.uniq(i.a.map(this.props.store.overallSurvivalDescriptions.result,function(e){return e.description})).length>1&&(s="".concat(this.differentDescriptionExistMessage," ").concat(s)),e.push(r.createElement("div",{className:"tabMessageContainer"},r.createElement("div",{className:"alert alert-warning",role:"alert"},s,r.createElement(S.c,{placement:"bottom",overlay:r.createElement(xe.a,{survivalDescriptionData:this.props.store.overallSurvivalDescriptions.result})},r.createElement("a",{href:"javascript:void(0)"},this.multipleDescriptionWarningMessageWithTooltip)))))}e.push(r.createElement("div",{style:{marginBottom:40}},r.createElement("h4",{className:"forceHeaderStyle h4"},o?"".concat(this.overallSurvivalTitleText," (").concat(o,")"):this.overallSurvivalTitleText),r.createElement("div",{style:{width:"920px"}},r.createElement(_e.c,{className:"borderedChart",patientSurvivals:this.overallPatientSurvivalData.result.patientSurvivals,analysisGroups:Ve,patientToAnalysisGroups:this.overallPatientSurvivalData.result.patientToAnalysisGroups,title:this.overallSurvivalTitleText,xAxisLabel:"Months Survival",yAxisLabel:"Overall Survival",totalCasesHeader:"Number of Cases, Total",statusCasesHeader:"Number of Cases, Deceased",medianMonthsHeader:"Median Months Survival",yLabelTooltip:"Survival estimate",xLabelWithEventTooltip:"Time of death",xLabelWithoutEventTooltip:"Time of last observation",fileName:"Overall_Survival"}))))}else t=!0;if(this.diseaseFreePatientSurvivalData.isComplete&&this.diseaseFreePatientSurvivalData.result.patientSurvivals.length>0){if(this.props.store.diseaseFreeSurvivalDescriptions&&this.props.store.diseaseFreeSurvivalDescriptions.result.length>1){var l=this.multipleDescriptionWarningMessageWithoutTooltip;i.a.uniq(i.a.map(this.props.store.diseaseFreeSurvivalDescriptions.result,function(e){return e.description})).length>1&&(l="".concat(this.differentDescriptionExistMessage," ").concat(l)),e.push(r.createElement("div",{className:"tabMessageContainer"},r.createElement("div",{className:"alert alert-warning",role:"alert"},l,r.createElement(S.c,{placement:"bottom",overlay:r.createElement(xe.a,{survivalDescriptionData:this.props.store.diseaseFreeSurvivalDescriptions.result})},r.createElement("a",{href:"javascript:void(0)"},this.multipleDescriptionWarningMessageWithTooltip)))))}e.push(r.createElement("div",null,r.createElement("h4",{className:"forceHeaderStyle h4"},a?"".concat(this.diseaseFreeSurvivalTitleText," (").concat(a,")"):this.diseaseFreeSurvivalTitleText),r.createElement("div",{style:{width:"920px"}},r.createElement(_e.c,{className:"borderedChart",patientSurvivals:this.diseaseFreePatientSurvivalData.result.patientSurvivals,analysisGroups:Ve,patientToAnalysisGroups:this.diseaseFreePatientSurvivalData.result.patientToAnalysisGroups,title:this.diseaseFreeSurvivalTitleText,xAxisLabel:"Months Disease/Progression-free",yAxisLabel:"Disease/Progression-free Survival",totalCasesHeader:"Number of Cases, Total",statusCasesHeader:"Number of Cases, Relapsed/Progressed",medianMonthsHeader:"Median Months Disease-free",yLabelTooltip:"Disease-free Estimate",xLabelWithEventTooltip:"Time of Relapse",xLabelWithoutEventTooltip:"Time of Last Observation",fileName:"Disease_Free_Survival"}))))}else n=!0;return t&&n&&(e.push(r.createElement("div",{className:"alert alert-info"},this.overallSurvivalTitleText," not available")),e.push(r.createElement("div",{className:"alert alert-info"},this.diseaseFreeSurvivalTitleText," not available"))),r.createElement("div",{"data-test":"survivalTabDiv"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"survival-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),r.createElement(Ne,{store:this.props.store}),r.createElement(pe.a,{store:this.props.store})),e)}}])&&Re(n.prototype,o),a&&Re(n,a),t}(),Ue=He=ze([u.observer],He),qe=n(116),We=n.n(qe),Ke=n(564),$e=n(865),Ye=n(676),Qe=n(554),Xe=n(737);function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var it=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ot(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},at=function(e){function t(){return Je(this,t),et(this,tt(t).apply(this,arguments))}return nt(t,Qe["b"]),t}(),st=function(e){function t(){return Je(this,t),et(this,tt(t).apply(this,arguments))}var n,o,i;return nt(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement(at,{data:this.props.geneAlterationData,columns:[{name:"Gene Symbol",render:function(e){return r.createElement("span",null,e.gene)},download:function(e){return e.gene},sortBy:function(e){return e.gene},filter:function(e,t,n){return e.gene.toUpperCase().indexOf(n)>-1}},{name:"OQL Line",visible:!1,render:function(e){return r.createElement("span",null,e.oqlLine)},download:function(e){return e.oqlLine},sortBy:function(e){return e.oqlLine},filter:function(e,t,n){return e.oqlLine.toUpperCase().indexOf(n)>-1}},{name:"Num Samples Altered",render:function(e){return r.createElement("span",null,e.sequenced?e.altered:"Not Profiled")},download:function(e){return e.sequenced?"".concat(e.altered):"N/P"},sortBy:function(e){return e.altered}},{name:"Percent Samples Altered",render:function(e){return e.sequenced?r.createElement(Xe.a,{barWidth:200,textWidth:45,counts:[e.altered],totalCount:e.sequenced}):r.createElement("span",null,"Not Profiled")},download:function(e){return e.percentAltered},sortBy:function(e){return e.altered/e.sequenced}}],initialSortColumn:"Percent Samples Altered",initialSortDirection:"desc",showPagination:!0,initialItemsPerPage:10,showColumnVisibility:!0,showFilter:!0,showCopyDownload:!0,copyDownloadProps:{downloadFilename:"gene_alteration_frequency.tsv"}})}}])&&Ze(n.prototype,o),i&&Ze(n,i),t}(),lt=st=it([u.observer],st),ct=n(673),ut=n(1008),pt=n.n(ut),ht=n(628),dt=n(560);function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":St(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function Ct(e,t,n){if(!o.isEmpty(e)&&e[t])return function(e,t){var n,r=function(e){return e},o=function(e){return e.map(function(e){return e.type})},i=void 0;switch(0!==e.alterationTypes.length&&e.alterationTypes.includes(t)||(i={summaryContent:"no alteration",summaryClass:pt.a.noAlterationSpan,summaryAlteredStatus:ht.a.UNALTERED}),t){case"MUT":n={label:"MUT",getAlterationData:function(e){return e.mutation},isNotProfiled:function(e){return e.isMutationNotProfiled},getValues:r};break;case"FUSION":n={label:"FUSION",getAlterationData:function(e){return e.fusion},isNotProfiled:function(e){return e.isFusionNotProfiled},getValues:r};break;case"CNA":n={label:"CNA",getAlterationData:function(e){return e.cna},isNotProfiled:function(e){return e.isCnaNotProfiled},getValues:o};break;case"EXP":n={label:"EXP",getAlterationData:function(e){return e.mrnaExp},isNotProfiled:function(e){return e.isMrnaExpNotProfiled},getValues:o};break;case"PROT":n={label:"PROT",getAlterationData:function(e){return e.proteinLevel},isNotProfiled:function(e){return e.isProteinLevelNotProfiled},getValues:o}}if(n){var a=n.getAlterationData(e);a.length>0&&(i={summaryContent:n.getValues(a).join(", "),summaryClass:pt.a.alterationSpan,summaryAlteredStatus:ht.a.ALTERED}),n.isNotProfiled(e)&&(i={summaryContent:"not profiled",summaryClass:pt.a.notProfiledSpan,summaryAlteredStatus:ht.a.UNPROFILED})}return i||void 0}(e[t],n)}function _t(e,t,n){var r=o.map(n,function(n){return Ct(e,t,n)}),i=o.filter(r,function(e){return!!e&&e.summaryAlteredStatus===ht.a.UNPROFILED});if(i&&i.length===n.length)return{summaryContent:"not profiled",summaryClass:pt.a.notProfiledSpan,summaryAlteredStatus:ht.a.UNPROFILED};var a=o.filter(r,function(e){return!!e&&e.summaryAlteredStatus===ht.a.ALTERED}),s=o.map(a,function(e){return e.summaryContent}).join(", ");return a.length>0?{summaryContent:s,summaryClass:pt.a.alterationSpan,summaryAlteredStatus:ht.a.ALTERED}:{summaryContent:"no alteration",summaryClass:pt.a.noAlterationSpan,summaryAlteredStatus:ht.a.UNALTERED}}var kt=function(e){function t(){return mt(this,t),yt(this,gt(t).apply(this,arguments))}return vt(t,Qe["b"]),t}(),Tt=function(e){function t(){return mt(this,t),yt(this,gt(t).apply(this,arguments))}var n,i,a;return vt(t,r["Component"]),n=t,(i=[{key:"render",value:function(){var e=this,t=[{name:"Study ID",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},r.createElement(ct.a,{studyId:e.studyId},e.studyId))},download:function(e){return e.studyId},sortBy:function(e){return e.studyId},filter:function(e,t){return new RegExp(t,"i").test(e.studyId)}},{name:"Sample ID",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},r.createElement("a",{href:Object(he.w)(e.studyId,e.sampleId),target:"_blank"},e.sampleId))},download:function(e){return"".concat(e.sampleId)},sortBy:function(e){return e.sampleId},filter:function(e,t){return new RegExp(t,"i").test(e.sampleId)}},{name:"Patient ID",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},r.createElement("a",{href:Object(he.u)(e.studyId,e.patientId),target:"_blank"},e.patientId))},download:function(e){return"".concat(e.patientId)},sortBy:function(e){return e.patientId},filter:function(e,t){return new RegExp(t,"i").test(e.patientId)}},{name:"Altered",tooltip:r.createElement("span",null,"1 = Sample harbors alteration in one of the input genes"),render:function(e){return r.createElement("span",null,e.altered?"1":"0")},download:function(e){return e.altered?"1":"0"},sortBy:function(e){return e.altered?1:0}}];o.forEach(this.props.trackLabels,function(n){t.push({name:"".concat(n),headerDownload:function(e){return"".concat(n)},render:function(t){var o=_t(t.oqlData,n,e.props.trackAlterationTypesMap[n]);return r.createElement("span",{className:o.summaryClass},o.summaryContent)},download:function(t){return _t(t.oqlData,n,e.props.trackAlterationTypesMap[n]).summaryContent},sortBy:function(t){return _t(t.oqlData,n,e.props.trackAlterationTypesMap[n]).summaryContent},filter:function(t,r){return new RegExp(r,"i").test(_t(t.oqlData,n,e.props.trackAlterationTypesMap[n]).summaryContent)},visible:!0})});var n=o.uniq(o.map(this.props.oqls,function(e){return e.gene}));return o.forEach(n,function(n){e.props.geneAlterationTypesMap[n].forEach(function(e){var i=Object(dt.h)(e),a=e.alteration_type.toUpperCase(),s="".concat(n,": ").concat(i);o.isEmpty(t.find(function(e){return e.name===s}))&&t.push({name:"".concat(n,": ").concat(i),headerDownload:function(e){return"".concat(n,": ").concat(i)},render:function(e){var t=Ct(e.oqlDataByGene,n,a);return r.createElement("span",{className:t.summaryClass},t.summaryContent)},download:function(e){return Ct(e.oqlDataByGene,n,a).summaryContent},sortBy:function(e){return Ct(e.oqlDataByGene,n,a).summaryContent},filter:function(e,t){return new RegExp(t,"i").test(Ct(e.oqlDataByGene,n,a).summaryContent)},visible:!1})})}),r.createElement(kt,{data:this.props.caseAlterationData,columns:t,initialSortColumn:"Altered",initialSortDirection:"desc",initialItemsPerPage:20,showPagination:!0,showColumnVisibility:!0,showFilter:!0,showCopyDownload:!0,enableHorizontalScroll:!0,copyDownloadProps:{downloadFilename:"alterations_across_samples.tsv"}})}}])&&ft(n.prototype,i),a&&ft(n,a),t}(),xt=Tt=wt([u.observer],Tt),Et=n(687),At=n(28),Ot=n.n(At),Pt=n(842),It=n(603),Mt=n(572),Dt=n(563),Lt=n(610),Nt=n.n(Lt);function Rt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":zt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ht=function(e){function t(e){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=Ft(t).call(this,e),(n=!i||"object"!==zt(i)&&"function"!=typeof i?Gt(r):i).geneAlterationData=Object(S.W)({await:function(){return[n.props.store.oqlFilteredCaseAggregatedDataByOQLLine,n.props.store.sequencedSampleKeysByGene]},invoke:function(){return Promise.resolve(Object(Et.e)(n.props.store.oqlFilteredCaseAggregatedDataByOQLLine.result,n.props.store.sequencedSampleKeysByGene.result))}}),n.geneAlterationDataByGene=Object(S.W)({await:function(){return[n.geneAlterationData]},invoke:function(){return Promise.resolve(o.keyBy(n.geneAlterationData.result,"gene"))}}),n.caseAlterationData=Object(S.W)({await:function(){return[n.props.store.selectedMolecularProfiles,n.props.store.oqlFilteredCaseAggregatedDataByOQLLine,n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,n.props.store.coverageInformation,n.props.store.samples,n.geneAlterationDataByGene,n.props.store.molecularProfileIdToMolecularProfile]},invoke:function(){return Promise.resolve(Object(Et.b)(n.props.store.oqlText,n.props.store.selectedMolecularProfiles.result,n.props.store.oqlFilteredCaseAggregatedDataByOQLLine.result,n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result,n.props.store.coverageInformation.result,n.props.store.samples.result,n.geneAlterationDataByGene.result,n.props.store.molecularProfileIdToMolecularProfile.result))}}),n.mutationData=Object(S.W)({await:function(){return[n.props.store.nonOqlFilteredCaseAggregatedData]},invoke:function(){return Promise.resolve(Object(Et.g)(n.props.store.nonOqlFilteredCaseAggregatedData.result))}}),n.mutationDownloadData=Object(S.W)({await:function(){return[n.mutationData,n.props.store.samples,n.props.store.genes]},invoke:function(){return Promise.resolve(Object(Et.h)(n.mutationData.result,n.props.store.samples.result,n.props.store.genes.result))}}),n.allOtherMolecularProfileDataGroupByProfileName=Object(S.W)({await:function(){return[n.props.store.nonQueriedMolecularData,n.props.store.nonSelectedMolecularProfilesGroupByName]},invoke:function(){var e=o.keys(n.props.store.nonSelectedMolecularProfilesGroupByName.result);if(n.props.store.doNonSelectedMolecularProfilesExist){var t={samples:o.groupBy(n.props.store.nonQueriedMolecularData.result,function(e){return e.uniqueSampleKey})},r=o.reduce(e,function(e,r){return e[r]=Object(Et.i)(n.props.store.nonSelectedMolecularProfilesGroupByName.result[r].map(function(e){return e.molecularProfileId}),t),e},{});return Promise.resolve(r)}return Promise.resolve({})}}),n.allOtherMolecularProfileDownloadDataGroupByProfileName=Object(S.W)({await:function(){return[n.allOtherMolecularProfileDataGroupByProfileName,n.props.store.samples,n.props.store.genes]},invoke:function(){return Promise.resolve(o.mapValues(n.allOtherMolecularProfileDataGroupByProfileName.result,function(e){return Object(Et.j)(e,n.props.store.samples.result,n.props.store.genes.result)}))}}),n.mrnaData=Object(S.W)({await:function(){return[n.props.store.nonOqlFilteredCaseAggregatedData]},invoke:function(){return Promise.resolve(Object(Et.f)(n.props.store.nonOqlFilteredCaseAggregatedData.result))}}),n.mrnaDownloadData=Object(S.W)({await:function(){return[n.mrnaData,n.props.store.samples,n.props.store.genes]},invoke:function(){return Promise.resolve(Object(Et.d)(n.mrnaData.result,n.props.store.samples.result,n.props.store.genes.result))}}),n.proteinData=Object(S.W)({await:function(){return[n.props.store.nonOqlFilteredCaseAggregatedData]},invoke:function(){return Promise.resolve(Object(Et.k)(n.props.store.nonOqlFilteredCaseAggregatedData.result))}}),n.proteinDownloadData=Object(S.W)({await:function(){return[n.proteinData,n.props.store.samples,n.props.store.genes]},invoke:function(){return Promise.resolve(Object(Et.d)(n.proteinData.result,n.props.store.samples.result,n.props.store.genes.result))}}),n.cnaData=Object(S.W)({await:function(){return[n.props.store.nonOqlFilteredCaseAggregatedData]},invoke:function(){return Promise.resolve(Object(Et.c)(n.props.store.nonOqlFilteredCaseAggregatedData.result))}}),n.cnaDownloadData=Object(S.W)({await:function(){return[n.cnaData,n.props.store.samples,n.props.store.genes]},invoke:function(){return Promise.resolve(Object(Et.d)(n.cnaData.result,n.props.store.samples.result,n.props.store.genes.result))}}),n.alteredCaseAlterationData=Object(S.W)({await:function(){return[n.caseAlterationData]},invoke:function(){return Promise.resolve(n.caseAlterationData.result.filter(function(e){return e.altered}))}}),n.unalteredCaseAlterationData=Object(S.W)({await:function(){return[n.caseAlterationData]},invoke:function(){return Promise.resolve(n.caseAlterationData.result.filter(function(e){return!e.altered}))}}),n.sampleMatrix=Object(S.W)({await:function(){return[n.caseAlterationData]},invoke:function(){var e=[];return o.map(n.caseAlterationData.result,function(t){if(o.isEmpty(e)){var n=o.keys(t.oqlDataByGene);e.push(["studyID:sampleId","Altered"].concat(Rt(n)))}var r=o.map(t.oqlDataByGene,function(e){return o.isEmpty(e.alterationTypes)?"0":"1"});e.push(["".concat(t.studyId,":").concat(t.sampleId),t.altered?"1":"0"].concat(Rt(r)))}),Promise.resolve(e)}}),n.sampleMatrixText=Object(S.W)({await:function(){return[n.sampleMatrix]},invoke:function(){return Promise.resolve(Object(Et.n)(n.sampleMatrix.result))}}),n.oqls=Object(S.W)({await:function(){return[n.props.store.oqlFilteredCaseAggregatedDataByOQLLine]},invoke:function(){return Promise.resolve(n.props.store.oqlFilteredCaseAggregatedDataByOQLLine.result.map(function(e){return e.oql}))}}),n.trackLabels=Object(S.W)({await:function(){return[n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine]},invoke:function(){var e=[];return n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.forEach(function(t,r){void 0===t.mergedTrackOqlList?e.push(Object(Ke.r)(r,n.props.store.oqlText,t.oql)):e.push(Object(Ke.o)(t.oql))}),Promise.resolve(e)}}),n.trackAlterationTypesMap=Object(S.W)({await:function(){return[n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine]},invoke:function(){var e={};return n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.forEach(function(t,r){if(void 0===t.mergedTrackOqlList){var i=t.oql,a=Object(Ke.r)(r,n.props.store.oqlText,t.oql);i.parsed_oql_line.alterations&&(e[a]=o.uniq(o.map(i.parsed_oql_line.alterations,function(e){return e.alteration_type.toUpperCase()})))}else{var s=t.oql,l=Object(Ke.o)(t.oql),c=[];o.forEach(s.list,function(e){if(e.parsed_oql_line.alterations){var t=o.map(e.parsed_oql_line.alterations,function(e){return e.alteration_type.toUpperCase()});c.push.apply(c,Rt(t))}}),e[l]=o.uniq(c)}}),Promise.resolve(e)}}),n.geneAlterationMap=Object(S.W)({await:function(){return[n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine]},invoke:function(){var e={};return n.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.forEach(function(t,n){if(void 0===t.mergedTrackOqlList){var r=t.oql;r.parsed_oql_line.alterations&&(e[r.gene]=o.chain(r.parsed_oql_line.alterations).union(e[r.gene]).uniq().value())}else{var i=t.oql;o.forEach(i.list,function(t){if(t.parsed_oql_line.alterations){o.map(t.parsed_oql_line.alterations,function(e){return e.alteration_type});e[t.gene]=o.chain(t.parsed_oql_line.alterations).union(e[t.gene]).uniq().value()}})}}),Promise.resolve(e)}}),n.handleMutationDownload=n.handleMutationDownload.bind(Gt(n)),n.handleTransposedMutationDownload=n.handleTransposedMutationDownload.bind(Gt(n)),n.handleCnaDownload=n.handleCnaDownload.bind(Gt(n)),n.handleTransposedCnaDownload=n.handleTransposedCnaDownload.bind(Gt(n)),n.handleMrnaDownload=n.handleMrnaDownload.bind(Gt(n)),n.handleTransposedMrnaDownload=n.handleTransposedMrnaDownload.bind(Gt(n)),n.handleProteinDownload=n.handleProteinDownload.bind(Gt(n)),n.handleTransposedProteinDownload=n.handleTransposedProteinDownload.bind(Gt(n)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){switch(Object(Z.a)(this.geneAlterationData,this.caseAlterationData,this.oqls,this.trackLabels,this.trackAlterationTypesMap,this.geneAlterationMap,this.cnaData,this.mutationData,this.mrnaData,this.proteinData,this.unalteredCaseAlterationData,this.alteredCaseAlterationData,this.props.store.virtualStudyParams,this.sampleMatrixText,this.props.store.nonSelectedMolecularProfilesGroupByName,this.props.store.studies,this.props.store.selectedMolecularProfiles)){case"pending":return r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"});case"error":return r.createElement(Mt.a,null);case"complete":return r.createElement(Pt.a,{"data-test":"downloadTabDiv",offset:60},r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"download-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),r.createElement(pe.a,{store:this.props.store})),r.createElement("div",null,r.createElement($e.a,{title:"Downloadable Data Files",className:"forceHeaderStyle h4",isLoading:!1,style:{marginBottom:15}}),r.createElement("table",{className:Ot()("table","table-striped",pt.a.downloadCopyTable)},r.createElement("tbody",null,Object(Et.l)(this.cnaData.result)&&this.cnaDownloadControls(),Object(Et.m)(this.mutationData.result)&&this.mutationDownloadControls(),Object(Et.l)(this.mrnaData.result)&&this.mrnaExprDownloadControls(this.props.store.selectedMolecularProfiles.result.find(function(e){return e.molecularAlterationType===h.a.MRNA_EXPRESSION}).name),Object(Et.l)(this.proteinData.result)&&this.proteinExprDownloadControls(this.props.store.selectedMolecularProfiles.result.find(function(e){return e.molecularAlterationType===h.a.PROTEIN_LEVEL}).name),this.alteredSamplesDownloadControls(this.alteredCaseAlterationData.result,this.props.store.virtualStudyParams.result),this.unalteredSamplesDownloadControls(this.unalteredCaseAlterationData.result,this.props.store.virtualStudyParams.result),this.sampleMatrixDownloadControls(this.sampleMatrixText.result),this.props.store.doNonSelectedMolecularProfilesExist&&this.nonSelectedProfileDownloadRow(this.props.store.nonSelectedMolecularProfilesGroupByName.result)))),r.createElement("hr",null),r.createElement("div",{className:pt.a["tables-container"],"data-test":"dataDownloadGeneAlterationTable"},r.createElement($e.a,{title:"Gene Alteration Frequency",isLoading:!1,className:"pull-left forceHeaderStyle h4"}),r.createElement(lt,{geneAlterationData:this.geneAlterationData.result})),r.createElement("hr",null),r.createElement("div",{className:pt.a["tables-container"]},r.createElement($e.a,{title:"Type of Genetic Alterations Across All Samples",isLoading:!1,className:"pull-left forceHeaderStyle h4"}),r.createElement(xt,{caseAlterationData:this.caseAlterationData.result,oqls:this.oqls.result,trackLabels:this.trackLabels.result,trackAlterationTypesMap:this.trackAlterationTypesMap.result,geneAlterationTypesMap:this.geneAlterationMap.result})));default:return r.createElement(Mt.a,null)}}},{key:"cnaDownloadControls",value:function(){return this.downloadControlsRow("Copy-number Alterations (OQL is not in effect)",this.handleCnaDownload,this.handleTransposedCnaDownload)}},{key:"mutationDownloadControls",value:function(){return this.downloadControlsRow("Mutations (OQL is not in effect)",this.handleMutationDownload,this.handleTransposedMutationDownload)}},{key:"mrnaExprDownloadControls",value:function(e){return this.downloadControlsRow(e,this.handleMrnaDownload,this.handleTransposedMrnaDownload)}},{key:"proteinExprDownloadControls",value:function(e){return this.downloadControlsRow(e,this.handleProteinDownload,this.handleTransposedProteinDownload)}},{key:"downloadControlsRow",value:function(e,t,n){return r.createElement("tr",null,r.createElement("td",{style:{width:500}},e),r.createElement("td",null,r.createElement("a",{onClick:function(n){return t(e)}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),"Tab Delimited Format"),r.createElement("span",{style:{margin:"0px 10px"}},"|"),r.createElement("a",{onClick:function(t){return n(e)}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),"Transposed Matrix")))}},{key:"nonSelectedProfileDownloadRow",value:function(e){var t=this,n=o.map(e,function(e,n){return 1===t.props.store.studies.result.length?{name:n,description:e[0].description}:{name:n}});return o.map(n,function(e){return r.createElement("tr",null,r.createElement("td",{style:{width:500}},r.createElement("div",{style:{display:"flex",alignItems:"center"}},e.name,e.description&&r.createElement(S.c,{mouseEnterDelay:0,placement:"right",overlay:r.createElement("div",{className:pt.a.tooltip},e.description)},r.createElement(Nt.a,{className:pt.a.infoIcon,name:"info-circle"})))),r.createElement("td",null,r.createElement("div",null,r.createElement("a",{onClick:function(n){return t.handleOtherMolecularProfileDownload(n,e.name)}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),"Tab Delimited Format"),r.createElement("span",{style:{margin:"0px 10px"}},"|"),r.createElement("a",{onClick:function(n){return t.handleTransposedOtherMolecularProfileDownload(n,e.name)}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),"Transposed Matrix"))))})}},{key:"copyDownloadControlsRow",value:function(e,t,n){return r.createElement("tr",null,r.createElement("td",null,e),r.createElement("td",null,r.createElement(Ye.a,{controlsStyle:"LINK",downloadData:t,downloadFilename:n})))}},{key:"copyDownloadQueryControlsRow",value:function(e,t,n,o,i){return r.createElement("tr",null,r.createElement("td",null,e),r.createElement("td",null,r.createElement(Ye.a,{controlsStyle:"QUERY",downloadData:t,downloadFilename:n,handleQuery:o,virtualStudyParams:i})))}},{key:"alteredSamplesDownloadControls",value:function(e,t){var n=this,r=o.map(e,function(e){return"".concat(e.studyId,":").concat(e.sampleId)}),i={user:t.user,name:t.name,description:t.description,studyWithSamples:t.studyWithSamples,selectedSamples:o.filter(t.selectedSamples,function(e){return r.includes("".concat(e.studyId,":").concat(e.sampleId))}),filter:t.filter,attributesMetaSet:t.attributesMetaSet};return this.copyDownloadQueryControlsRow("Altered samples: List of samples with alterations",function(){return r.join("\n")},"altered_samples.txt",function(){return n.handleQueryButtonClick(r)},i)}},{key:"unalteredSamplesDownloadControls",value:function(e,t){var n=this,r=o.map(e,function(e){return"".concat(e.studyId,":").concat(e.sampleId)}),i={user:t.user,name:t.name,description:t.description,studyWithSamples:t.studyWithSamples,selectedSamples:o.filter(t.selectedSamples,function(e){return r.includes("".concat(e.studyId,":").concat(e.sampleId))}),filter:t.filter,attributesMetaSet:t.attributesMetaSet};return this.copyDownloadQueryControlsRow("Unaltered samples: List of samples without any alteration",function(){return r.join("\n")},"unaltered_samples.txt",function(){return n.handleQueryButtonClick(r)},i)}},{key:"sampleMatrixDownloadControls",value:function(e){return this.copyDownloadControlsRow("Sample matrix: List of all samples where 1=altered and 0=unaltered",function(){return e},"sample_matrix.txt")}},{key:"handleMutationDownload",value:function(){var e=this;Object(It.a)(this.mutationDownloadData,function(t){var n=e.downloadDataText(t);We()(n,"mutations.txt")})}},{key:"handleTransposedMutationDownload",value:function(){var e=this;Object(It.a)(this.mutationDownloadData,function(t){var n=e.downloadDataText(e.unzipDownloadData(t));We()(n,"mutations_transposed.txt")})}},{key:"handleMrnaDownload",value:function(e){var t=this;Object(It.a)(this.mrnaDownloadData,function(n){var r=t.downloadDataText(n);We()(r,"".concat(e,".txt"))})}},{key:"handleTransposedMrnaDownload",value:function(e){var t=this;Object(It.a)(this.mrnaDownloadData,function(n){var r=t.downloadDataText(t.unzipDownloadData(n));We()(r,"".concat(e,".txt"))})}},{key:"handleProteinDownload",value:function(e){var t=this;Object(It.a)(this.proteinDownloadData,function(n){var r=t.downloadDataText(n);We()(r,"".concat(e,".txt"))})}},{key:"handleTransposedProteinDownload",value:function(e){var t=this;Object(It.a)(this.proteinDownloadData,function(n){var r=t.downloadDataText(t.unzipDownloadData(n));We()(r,"".concat(e,".txt"))})}},{key:"handleCnaDownload",value:function(){var e=this;Object(It.a)(this.cnaDownloadData,function(t){var n=e.downloadDataText(t);We()(n,"cna.txt")})}},{key:"handleTransposedCnaDownload",value:function(){var e=this;Object(It.a)(this.cnaDownloadData,function(t){var n=e.downloadDataText(e.unzipDownloadData(t));We()(n,"cna_transposed.txt")})}},{key:"handleOtherMolecularProfileDownload",value:function(e,t){var n=this;Object(It.a)(this.allOtherMolecularProfileDownloadDataGroupByProfileName,function(e){var r=n.downloadDataTextGroupByProfileName(e);We()(r[t],"".concat(t,".txt"))})}},{key:"handleTransposedOtherMolecularProfileDownload",value:function(e,t){var n=this;Object(It.a)(this.allOtherMolecularProfileDownloadDataGroupByProfileName,function(e){var r=n.downloadDataTextGroupByProfileName(n.unzipDownloadDataGroupByProfileName(e));We()(r[t],"".concat(t,".txt"))})}},{key:"handleQueryButtonClick",value:function(e){var t={selectedSampleListId:Dt.a,selectedSampleIds:e,caseIdsMode:"sample"};this.props.store.modifyQueryParams=t,this.props.store.queryFormVisible=!0}},{key:"unzipDownloadDataGroupByProfileName",value:function(e){return o.mapValues(e,function(e){return o.unzip(e)})}},{key:"downloadDataTextGroupByProfileName",value:function(e){return o.mapValues(e,function(e){return Object(Et.n)(e)})}},{key:"unzipDownloadData",value:function(e){return o.unzip(e)}},{key:"downloadDataText",value:function(e){return Object(Et.n)(e)}}])&&jt(n.prototype,i),a&&jt(n,a),t}();Vt([m.a],Ht.prototype,"handleOtherMolecularProfileDownload",null),Vt([m.a],Ht.prototype,"handleTransposedOtherMolecularProfileDownload",null),Vt([p.action],Ht.prototype,"handleQueryButtonClick",null);var Ut=Ht=Vt([u.observer],Ht),qt=n(92),Wt=n(167),Kt=n(883),$t=n(885),Yt=n(566),Qt=n(743),Xt=n(761);function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":nn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},on=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jt(this,en(t).call(this,e))).renderingComplete=!1,n.chromosome=Object(S.W)({await:function(){return[n.props.store.hugoGeneSymbolToReferenceGene]},invoke:function(){return Promise.resolve(n.props.store.hugoGeneSymbolToReferenceGene.result[n.activeLocus].chromosome)}}),n.segmentTrackMaxHeight=.7*Yt.a.size.height,n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this;return r.createElement("div",{className:"pillTabs"},r.createElement(ke.a,{isLoading:this.isHidden,size:"big",center:!0},r.createElement(Xt.a,{getItems:function(){return e.progressItems},show:this.isHidden,sequential:!0})),r.createElement($t.a,{promise:this.props.store.cnSegments,filename:this.filename}),r.createElement(qt.Nav,{bsStyle:"pills",activeKey:this.activeLocus,onSelect:this.onTabSelect},r.createElement(qt.NavItem,{eventKey:Qt.a},"Whole Genome"),this.props.store.genes.result&&this.props.store.genes.result.map(function(e){return r.createElement(qt.NavItem,{eventKey:e.hugoGeneSymbol},e.hugoGeneSymbol)})),r.createElement("div",{style:this.isHidden?{opacity:0}:void 0},r.createElement(Kt.a,{tracks:[Object.assign({},Object(Qt.c)(),{height:this.segmentTrackHeight,features:this.features})],genome:this.props.store.referenceGenome,locus:this.activeLocus,onRenderingStart:this.onIgvRenderingStart,onRenderingComplete:this.onIgvRenderingComplete,disableSearch:this.activeLocus!==Qt.a,isVisible:this.props.store.tabId===Wt.a.CN_SEGMENTS&&!this.isHidden})))}},{key:"onTabSelect",value:function(e){this.selectedLocus=e}},{key:"onIgvRenderingStart",value:function(){this.renderingComplete=!1}},{key:"onIgvRenderingComplete",value:function(){this.renderingComplete=!0}},{key:"segmentTrackHeight",get:function(){return Object(Qt.b)(this.features,this.segmentTrackMaxHeight)}},{key:"activeLocus",get:function(){var e=this.selectedLocus;return e||(e=this.props.store.genes.result?this.props.store.genes.result[0].hugoGeneSymbol:Qt.a),e}},{key:"features",get:function(){var e=this.activePromise&&this.activePromise.result||[];return Object(Qt.d)(e)}},{key:"filename",get:function(){return"".concat(this.props.store.downloadFilenamePrefix,"segments.seg")}},{key:"isHidden",get:function(){return this.isLoading||!this.renderingComplete}},{key:"isLoading",get:function(){return!this.activePromise||this.activePromise.isPending}},{key:"activePromise",get:function(){return this.activeLocus===Qt.a?this.props.store.cnSegments:this.props.store.cnSegmentsByChromosome.result&&this.chromosome?this.props.store.cnSegmentsByChromosome.result[this.chromosome.result]:void 0}},{key:"indicatorPromises",get:function(){var e=[this.props.store.studies,this.props.store.genes];return this.activeLocus!==Qt.a&&e.push(this.props.store.cnSegmentsByChromosome),this.activePromise&&e.push(this.activePromise),e}},{key:"progressItems",get:function(){return[{label:"Loading copy number segments data...",promises:this.indicatorPromises},{label:"Rendering"}]}}])&&Zt(n.prototype,o),i&&Zt(n,i),t}();rn([p.observable],on.prototype,"renderingComplete",void 0),rn([p.observable],on.prototype,"selectedLocus",void 0),rn([p.observable],on.prototype,"segmentTrackMaxHeight",void 0),rn([p.computed],on.prototype,"segmentTrackHeight",null),rn([p.computed],on.prototype,"activeLocus",null),rn([p.computed],on.prototype,"features",null),rn([p.computed],on.prototype,"filename",null),rn([p.computed],on.prototype,"isHidden",null),rn([p.computed],on.prototype,"isLoading",null),rn([p.computed],on.prototype,"activePromise",null),rn([p.computed],on.prototype,"indicatorPromises",null),rn([p.computed],on.prototype,"progressItems",null),rn([m.a,p.action],on.prototype,"onTabSelect",null),rn([m.a,p.action],on.prototype,"onIgvRenderingStart",null),rn([m.a,p.action],on.prototype,"onIgvRenderingComplete",null);var an=on=rn([u.observer],on),sn=(n(1134),n(730)),ln=n(992),cn=n(611);var un=n(574),pn=n(647);function hn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vn,bn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":gn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Sn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};!function(e){e.CASE_ID="case_id",e.CASE_LIST="case_list",e.NONE=""}(vn||(vn={}));var wn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==gn(t)&&"function"!=typeof t?mn(e):t}(this,fn(t).call(this,e))).distinguishGermlineMutations=!0,n.distinguishMutationType=!0,n.showUnalteredColumns=!0,n.showWhitespaceBetweenColumns=!0,n.showClinicalTrackLegends=!0,n._onlyShowClinicalLegendForAlteredCases=!1,n.showOqlInLabels=!1,n.showMinimap=!1,n.selectedHeatmapProfile="",n.heatmapGeneInputValue="",n.horzZoom=.5,n.mouseInsideBounds=!1,n.renderingComplete=!1,n.molecularProfileIdToHeatmapTrackGroupIndex={},n.expansionsByGeneticTrackKey=p.observable.map(),n.expansionsByGenesetHeatmapTrackKey=p.observable.map(),n.unalteredKeys=Object(S.W)({await:function(){return[n.geneticTracks]},invoke:function(){return Sn(mn(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(cn.h)(this.geneticTracks.result));case 1:case"end":return e.stop()}},e,this)}))}}),n.treatmentSelectOptions=Object(S.W)({await:function(){return[n.props.store.treatmentsInStudies]},invoke:function(){return Sn(mn(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(pn.f)(this.props.store.treatmentsInStudies.result||[]));case 1:case"end":return e.stop()}},e,this)}))}}),n.alteredKeys=Object(S.W)({await:function(){return[n.geneticTracks]},invoke:function(){return Sn(mn(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(cn.c)(this.geneticTracks.result));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),n.sampleGeneticTracks=Object(cn.l)(mn(n),!0),n.patientGeneticTracks=Object(cn.l)(mn(n),!1),n.sampleClinicalTracks=Object(cn.i)(mn(n),!0),n.patientClinicalTracks=Object(cn.i)(mn(n),!1),n.sampleHeatmapTracks=Object(cn.m)(mn(n),!0),n.patientHeatmapTracks=Object(cn.m)(mn(n),!1),n.sampleTreatmentHeatmapTracks=Object(cn.n)(mn(n),!0),n.patientTreatmentHeatmapTracks=Object(cn.n)(mn(n),!1),n.sampleGenesetHeatmapTracks=Object(cn.k)(mn(n),!0,Object(cn.j)(mn(n),!0)),n.patientGenesetHeatmapTracks=Object(cn.k)(mn(n),!1,Object(cn.j)(mn(n),!1)),n.heatmapTrackHeaders=Object(S.W)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile]},invoke:function(){var e=n.props.store.molecularProfileIdToMolecularProfile.result;return Promise.resolve(i.a.reduce(n.molecularProfileIdToHeatmapTracks,function(t,r){return t[r.trackGroupIndex]={label:{text:e[r.molecularProfileId].name},options:[{label:"Cluster",onClick:n.clusterHeatmapByIndex,weight:function(){return n.clusteredHeatmapTrackGroupIndex===r.trackGroupIndex?"bold":"normal"}},{label:"Don't cluster",onClick:function(){n.clusteredHeatmapTrackGroupIndex===r.trackGroupIndex&&n.sortByData()},weight:function(){return n.clusteredHeatmapTrackGroupIndex===r.trackGroupIndex?"normal":"bold"}},{separator:!0},{label:"Delete",onClick:n.removeHeatmapByIndex}]},t},{}))},default:{}}),n.alterationTypesInQuery=Object(S.W)({await:function(){return[n.props.store.selectedMolecularProfiles]},invoke:function(){return Promise.resolve(i.a.uniq(n.props.store.selectedMolecularProfiles.result.map(function(e){return e.molecularAlterationType})))}}),n.loadingGeneticDataDuringCurrentLoad=!1,n.loadingClinicalDataDuringCurrentLoad=!1,n.showOqlInLabels=e.store.queryContainsOql,window.resultsViewOncoprint=mn(n);var r=mn(n);return n.onChangeSelectedClinicalTracks=n.onChangeSelectedClinicalTracks.bind(mn(n)),n.onDeleteClinicalTrack=n.onDeleteClinicalTrack.bind(mn(n)),n.onMinimapClose=n.onMinimapClose.bind(mn(n)),n.oncoprintRef=n.oncoprintRef.bind(mn(n)),n.toggleColumnMode=n.toggleColumnMode.bind(mn(n)),n.onTrackSortDirectionChange=n.onTrackSortDirectionChange.bind(mn(n)),n.onSuppressRendering=n.onSuppressRendering.bind(mn(n)),n.onReleaseRendering=n.onReleaseRendering.bind(mn(n)),Object(It.a)(n.props.store.heatmapMolecularProfiles,function(e){e.length&&(n.selectedHeatmapProfile=e[0].molecularProfileId)}),n.heatmapGeneInputValueUpdater=Object(It.a)(n.props.store.genes,function(e){n.heatmapGeneInputValue=e.map(function(e){return e.hugoGeneSymbol}).join(" ")},Number.POSITIVE_INFINITY),n.onMouseEnter=n.onMouseEnter.bind(mn(n)),n.onMouseLeave=n.onMouseLeave.bind(mn(n)),n.controlsHandlers=n.buildControlsHandlers(),n.controlsState=Object(p.observable)({get selectedClinicalAttributeIds(){return r.selectedClinicalAttributeIds.keys()},get selectedColumnType(){return r.oncoprintAnalysisCaseType},get showUnalteredColumns(){return r.showUnalteredColumns},get showWhitespaceBetweenColumns(){return r.showWhitespaceBetweenColumns},get showClinicalTrackLegends(){return r.showClinicalTrackLegends},get onlyShowClinicalLegendForAlteredCases(){return r.onlyShowClinicalLegendForAlteredCases},get showOqlInLabels(){return r.showOqlInLabels},get showMinimap(){return r.showMinimap},get hideHeatmapMenu(){return r.props.store.studies.result.length>1},get sortByMutationType(){return r.sortByMutationType},get sortByCaseListDisabled(){return!r.caseListSortPossible},get distinguishMutationType(){return r.distinguishMutationType},get distinguishDrivers(){return r.distinguishDrivers},get distinguishGermlineMutations(){return r.distinguishGermlineMutations},get annotateDriversOncoKb(){return r.props.store.driverAnnotationSettings.oncoKb},get annotateDriversOncoKbDisabled(){return!ce.b.serverConfig.show_oncokb},get annotateDriversOncoKbError(){return r.props.store.didOncoKbFailInOncoprint},get annotateDriversHotspots(){return r.props.store.driverAnnotationSettings.hotspots},get annotateDriversHotspotsDisabled(){return!ce.b.serverConfig.show_hotspot},get annotateDriversHotspotsError(){return r.props.store.didHotspotFailInOncoprint},get annotateDriversCBioPortal(){return r.props.store.driverAnnotationSettings.cbioportalCount},get annotateDriversCOSMIC(){return r.props.store.driverAnnotationSettings.cosmicCount},get hidePutativePassengers(){return r.props.store.driverAnnotationSettings.excludeVUS},get hideGermlineMutations(){return r.props.store.excludeGermlineMutations},get annotateCBioPortalInputValue(){return r.props.store.driverAnnotationSettings.cbioportalCountThreshold+""},get annotateCOSMICInputValue(){return r.props.store.driverAnnotationSettings.cosmicCountThreshold+""},get sortMode(){return r.sortMode},get sortByDrivers(){return r.sortByDrivers},get heatmapProfilesPromise(){return r.props.store.heatmapMolecularProfiles},get treatmentsPromise(){return r.props.store.treatmentsInStudies},get selectedHeatmapProfile(){return r.selectedHeatmapProfile},get selectedHeatmapProfileAlterationType(){return r.selectedHeatmapProfileAlterationType},get heatmapIsDynamicallyQueried(){return r.heatmapIsDynamicallyQueried},get ngchmButtonActive(){return!(!ce.b.serverConfig.show_mdacc_heatmap||!r.props.store.remoteNgchmUrl.result||""==r.props.store.remoteNgchmUrl.result)},get heatmapGeneInputValue(){return r.heatmapGeneInputValue},get customDriverAnnotationBinaryMenuLabel(){var e=ce.b.serverConfig.oncoprint_custom_driver_annotation_binary_menu_label,t=r.props.store.customDriverAnnotationReport.result;return e&&t&&t.hasBinary?e:void 0},get customDriverAnnotationTiersMenuLabel(){var e=ce.b.serverConfig.oncoprint_custom_driver_annotation_tiers_menu_label,t=r.props.store.customDriverAnnotationReport.result;return e&&t&&t.tiers.length?e:void 0},get customDriverAnnotationTiers(){var e=r.props.store.customDriverAnnotationReport.result;return e&&e.tiers.length?e.tiers:void 0},get annotateCustomDriverBinary(){return r.props.store.driverAnnotationSettings.customBinary},get selectedCustomDriverAnnotationTiers(){return r.props.store.driverAnnotationSettings.driverTiers},get columnMode(){return r.oncoprintAnalysisCaseType},get horzZoom(){return isNaN(r.horzZoom)?1:r.horzZoom},get selectedTreatmentsInit(){return r.selectedTreatmentsFromUrl}}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMouseEnter",value:function(){this.mouseInsideBounds=!0}},{key:"onMouseLeave",value:function(){this.mouseInsideBounds=!1}},{key:"selectHeatmapProfile",value:function(e){var t=this;Object(It.a)(this.props.store.heatmapMolecularProfiles,function(n){t.selectedHeatmapProfile=t.props.store.heatmapMolecularProfiles.result[e].molecularProfileId})}},{key:"setAnnotateCBioPortalInputValue",value:function(e){this.controlsHandlers.onChangeAnnotateCBioPortalInputValue&&this.controlsHandlers.onChangeAnnotateCBioPortalInputValue(e)}},{key:"setAnnotateCOSMICInputValue",value:function(e){this.controlsHandlers.onChangeAnnotateCOSMICInputValue&&this.controlsHandlers.onChangeAnnotateCOSMICInputValue(e)}},{key:"buildControlsHandlers",value:function(){var e=this;return{onSelectColumnType:function(t){e.props.store.setOncoprintAnalysisCaseType(t)},onSelectShowUnalteredColumns:function(t){e.showUnalteredColumns=t},onSelectShowWhitespaceBetweenColumns:function(t){e.showWhitespaceBetweenColumns=t},onSelectShowClinicalTrackLegends:function(t){e.showClinicalTrackLegends=t},onSelectOnlyShowClinicalLegendForAlteredCases:function(t){e._onlyShowClinicalLegendForAlteredCases=t},onSelectShowOqlInLabels:function(t){e.showOqlInLabels=t},onSelectShowMinimap:function(t){e.showMinimap=t},onSelectDistinguishMutationType:function(t){e.distinguishMutationType=t},onSelectDistinguishDrivers:Object(p.action)(function(t){t?(e.controlsState.annotateDriversOncoKbDisabled||e.controlsState.annotateDriversOncoKbError||(e.props.store.driverAnnotationSettings.oncoKb=!0),e.controlsState.annotateDriversHotspotsDisabled||e.controlsState.annotateDriversHotspotsError||(e.props.store.driverAnnotationSettings.hotspots=!0),e.props.store.driverAnnotationSettings.cbioportalCount=!0,e.props.store.driverAnnotationSettings.cosmicCount=!0,e.props.store.driverAnnotationSettings.customBinary=!0,e.props.store.driverAnnotationSettings.driverTiers.forEach(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(n,!0)})):(e.props.store.driverAnnotationSettings.oncoKb=!1,e.props.store.driverAnnotationSettings.hotspots=!1,e.props.store.driverAnnotationSettings.cbioportalCount=!1,e.props.store.driverAnnotationSettings.cosmicCount=!1,e.props.store.driverAnnotationSettings.customBinary=!1,e.props.store.driverAnnotationSettings.driverTiers.forEach(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(n,!1)}),e.props.store.driverAnnotationSettings.excludeVUS=!1)}),onSelectDistinguishGermlineMutations:function(t){e.distinguishGermlineMutations=t},onSelectAnnotateOncoKb:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.oncoKb=t}),onSelectAnnotateHotspots:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.hotspots=t}),onSelectAnnotateCBioPortal:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCount=t}),onSelectAnnotateCOSMIC:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.cosmicCount=t}),onChangeAnnotateCBioPortalInputValue:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCountThreshold=parseInt(t,10),e.controlsHandlers.onSelectAnnotateCBioPortal&&e.controlsHandlers.onSelectAnnotateCBioPortal(!0)}),onChangeAnnotateCOSMICInputValue:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.cosmicCountThreshold=parseInt(t,10),e.controlsHandlers.onSelectAnnotateCOSMIC&&e.controlsHandlers.onSelectAnnotateCOSMIC(!0)}),onSelectCustomDriverAnnotationBinary:Object(p.action)(function(t){e.props.store.driverAnnotationSettings.customBinary=t}),onSelectCustomDriverAnnotationTier:Object(p.action)(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(t,n)}),onSelectHidePutativePassengers:function(t){e.props.store.driverAnnotationSettings.excludeVUS=t},onSelectHideGermlineMutations:function(t){e.props.store.setExcludeGermlineMutations(t)},onSelectSortByMutationType:function(t){e.urlWrapper.updateURL({oncoprint_sort_by_mutation_type:t.toString()})},onClickSortAlphabetical:function(){e.urlWrapper.updateURL({oncoprint_sortby:"case_id",oncoprint_cluster_profile:""})},onClickSortCaseListOrder:function(){e.urlWrapper.updateURL({oncoprint_sortby:"case_list",oncoprint_cluster_profile:""})},onSelectSortByDrivers:function(t){e.urlWrapper.updateURL({oncoprint_sort_by_drivers:t.toString()})},onClickSortByData:function(){e.urlWrapper.updateURL({oncoprint_sortby:"",oncoprint_cluster_profile:""})},onChangeSelectedClinicalTracks:this.onChangeSelectedClinicalTracks,onChangeHeatmapGeneInputValue:Object(p.action)(function(t){e.heatmapGeneInputValue=t,e.heatmapGeneInputValueUpdater()}),onSelectHeatmapProfile:function(t){e.selectedHeatmapProfile=t},onClickAddGenesToHeatmap:function(){var t=Object(dt.g)(e.heatmapGeneInputValue.toUpperCase().trim()).map(function(e){return e.gene});e.addHeatmapTracks(e.selectedHeatmapProfile,t)},onClickAddTreatmentsToHeatmap:function(t){e.addHeatmapTracks(e.selectedHeatmapProfile,t)},onClickNGCHM:function(){window.open(e.props.store.remoteNgchmUrl.result,"_blank")},onClickDownload:function(t){switch(t){case"pdf":Object(S.db)("oncoprint.pdf",e.oncoprint.toSVG(!1));break;case"png":e.oncoprint.toCanvas(function(e,t){e.toBlob(function(n){t&&alert("Oncoprint too large - PNG truncated to ".concat(e.getAttribute("width"),"x").concat(e.getAttribute("height"))),We()(n,"oncoprint.png")})},2);break;case"svg":We()((new XMLSerializer).serializeToString(e.oncoprint.toSVG(!1)),"oncoprint.svg");break;case"order":var n=Object(S.y)(e.oncoprintAnalysisCaseType);Object(It.a)([e.props.store.sampleKeyToSample,e.props.store.patientKeyToPatient],function(t,r){var o="".concat(n," order in the Oncoprint is:\n"),i=(e.oncoprintAnalysisCaseType,Ke.b.SAMPLE,e.oncoprint.getIdOrder().map(e.oncoprintAnalysisCaseType===Ke.b.SAMPLE?function(e){return t[e].sampleId}:function(e){return r[e].patientId})),a=!0,s=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;o+="".concat(p,"\n")}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}We()(o,"OncoPrint".concat(n,"s.txt"))});break;case"tabular":Object(It.a)([e.props.store.sampleKeyToSample,e.props.store.patientKeyToPatient],function(t,n){!function(e,t,n,r,o,i,a,s,l){var c=i.map(a),u="sample"===s?"SAMPLE_DATA_":"PATIENT_DATA_",p={CLINICAL:{},CNA:{},MUTATIONS:{},MRNA:{},PROTEIN:{},FUSION:{}},h={amp:"Amplification",gain:"Gain",hetloss:"Shallow Deletion",homdel:"Deep Deletion"},d={};d=l?{inframe:"Inframe Mutation (putative passenger)",inframe_rec:"Inframe Mutation (putative driver)",missense:"Missense Mutation (putative passenger)",missense_rec:"Missense Mutation (putative driver)",promoter:"Promoter Mutation",promoter_rec:"Promoter Mutation",trunc:"Truncating mutation (putative passenger)",trunc_rec:"Truncating mutation (putative driver)"}:{inframe:"Inframe Mutation",inframe_rec:"Inframe Mutation",missense:"Missense Mutation",missense_rec:"Missense Mutation",promoter:"Promoter Mutation",promoter_rec:"Promoter Mutation",trunc:"Truncating mutation",trunc_rec:"Truncating mutation"};var f={high:"mRNA High",low:"mRNA Low"},m={low:"Protein Low",high:"Protein High"},y={true:"Fusion"},g=!0,v=!1,b=void 0;try{for(var S,w=e[Symbol.iterator]();!(g=(S=w.next()).done);g=!0){var C=S.value.data,_=C[0].trackLabel;void 0===p.CNA[_]&&(p.CNA[_]={}),void 0===p.MUTATIONS[_]&&(p.MUTATIONS[_]={}),void 0===p.MRNA[_]&&(p.MRNA[_]={}),void 0===p.PROTEIN[_]&&(p.PROTEIN[_]={}),void 0===p.FUSION[_]&&(p.FUSION[_]={});var k=!0,T=!1,x=void 0;try{for(var E,A=C[Symbol.iterator]();!(k=(E=A.next()).done);k=!0){var O=E.value,P="sample"===s?O.sample:O.patient;p.CNA[_][P]="",p.MUTATIONS[_][P]="",p.MRNA[_][P]="",p.PROTEIN[_][P]="",p.FUSION[_][P]="",void 0!==O.disp_cna&&(p.CNA[_][P]=h[O.disp_cna]?h[O.disp_cna]:O.disp_cna),void 0!==O.disp_fusion&&(p.FUSION[_][P]=y[O.disp_fusion+""]?y[O.disp_fusion+""]:O.disp_fusion),void 0!==O.disp_mrna&&(p.MRNA[_][P]=f[O.disp_mrna]?f[O.disp_mrna]:O.disp_mrna),void 0!==O.disp_prot&&(p.PROTEIN[_][P]=m[O.disp_prot]?m[O.disp_prot]:O.disp_prot),void 0!==O.disp_mut&&(p.MUTATIONS[_][P]=d[O.disp_mut]?d[O.disp_mut]:O.disp_mut)}}catch(e){T=!0,x=e}finally{try{k||null==A.return||A.return()}finally{if(T)throw x}}}}catch(e){v=!0,b=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw b}}var I=!0,M=!1,D=void 0;try{for(var L,N=t[Symbol.iterator]();!(I=(L=N.next()).done);I=!0){var R=L.value,j=R.data,F=R.label;void 0===p.CLINICAL[F]&&(p.CLINICAL[F]={});var G=!0,B=!1,z=void 0;try{for(var V,H=j[Symbol.iterator]();!(G=(V=H.next()).done);G=!0){var U=V.value,q="sample"===s?U.sample:U.patient;p.CLINICAL[F][q]="",void 0!==U.attr_val&&(p.CLINICAL[F][q]=U.attr_val)}}catch(e){B=!0,z=e}finally{try{G||null==H.return||H.return()}finally{if(B)throw z}}}}catch(e){M=!0,D=e}finally{try{I||null==N.return||N.return()}finally{if(M)throw D}}var W=n.concat(r).concat(o),K=!0,$=!1,Y=void 0;try{for(var Q,X=W[Symbol.iterator]();!(K=(Q=X.next()).done);K=!0){var Z=Q.value,J=Z.label,ee="HEATMAP "+Z.molecularAlterationType+" "+Z.datatype,te=Z.data,ne=!0,re=!1,oe=void 0;try{for(var ie,ae=te[Symbol.iterator]();!(ne=(ie=ae.next()).done);ne=!0){var se=ie.value;void 0===p[ee]&&(p[ee]={}),void 0===p[ee][J]&&(p[ee][J]={});var le="sample"===s?se.sample:se.patient;p[ee][J][le]=null===se.profile_data?"":se.profile_data}}catch(e){re=!0,oe=e}finally{try{ne||null==ae.return||ae.return()}finally{if(re)throw oe}}}}catch(e){$=!0,Y=e}finally{try{K||null==X.return||X.return()}finally{if($)throw Y}}for(var ce="track_name\ttrack_type",ue=0;ue<c.length;ue++)ce+="\t"+c[ue];ce+="\n",Object.keys(p).forEach(function(e){Object.keys(p[e]).forEach(function(t){ce+=t+"\t"+e;for(var n=0;n<c.length;n++)ce+="\t"+p[e][t][c[n]];ce+="\n"})}),We()(ce,u+"oncoprint.tsv")}(e.geneticTracks.result,e.clinicalTracks.result,e.heatmapTracks.result,e.treatmentHeatmapTracks.result,e.genesetHeatmapTracks.result,e.oncoprint.getIdOrder(),e.oncoprintAnalysisCaseType===Ke.b.SAMPLE?function(e){return t[e].sampleId}:function(e){return n[e].patientId},e.oncoprintAnalysisCaseType,e.distinguishDrivers)})}},onSetHorzZoom:function(t){e.oncoprint.setHorzZoom(t)},onClickZoomIn:function(){e.oncoprint.setHorzZoom(e.oncoprint.getHorzZoom()/.7)},onClickZoomOut:function(){e.oncoprint.setHorzZoom(.7*e.oncoprint.getHorzZoom())}}}},{key:"sortByData",value:function(){this.urlWrapper.updateURL({oncoprint_sortby:"",oncoprint_cluster_profile:""})}},{key:"addHeatmapTracks",value:function(e,t){var n=i.a.cloneDeep(this.molecularProfileIdToHeatmapTracks),r=i.a.chain(t).keyBy(function(e){return e}).mapValues(function(){return!0}).value();delete n[e];var o=this.props.store.molecularProfileIdToMolecularProfile.result[e].molecularAlterationType;t&&t.length?n[e]={entities:r,molecularAlterationType:o,molecularProfileId:e}:delete n[e];var a=i.a.map(n,function(e,t){return"".concat(t,",").concat(i.a.keys(e.entities).join(","))}).join(";"),s=i.a.filter(n,function(e){return e.molecularAlterationType===h.a.GENERIC_ASSAY}).map(function(e){return"".concat(i.a.keys(e.entities).join(";"))}).join(";");this.urlWrapper.updateURL({heatmap_track_groups:a,treatment_list:s})}},{key:"removeHeatmapTracksByProfileId",value:function(e){this.addHeatmapTracks}},{key:"toggleColumnMode",value:function(){switch(this.oncoprintAnalysisCaseType){case Ke.b.SAMPLE:this.controlsHandlers.onSelectColumnType&&this.controlsHandlers.onSelectColumnType(Ke.b.PATIENT);break;case Ke.b.PATIENT:this.controlsHandlers.onSelectColumnType&&this.controlsHandlers.onSelectColumnType(Ke.b.SAMPLE)}}},{key:"oncoprintRef",value:function(e){var t=this;this.oncoprint=e,this.props.addOnBecomeVisibleListener&&this.props.addOnBecomeVisibleListener(function(){return t.oncoprint.triggerPendingResizeAndOrganize(t.onReleaseRendering)}),this.oncoprint.onHorzZoom(function(e){return t.horzZoom=e}),this.horzZoom=this.oncoprint.getHorzZoom(),Object(It.a)(this.alteredKeys,function(e){t.oncoprint.setHorzZoomToFit(e)})}},{key:"setColumnMode",value:function(e){this.urlWrapper.updateURL({show_samples:e===Ke.b.SAMPLE?"true":"false"})}},{key:"onMinimapClose",value:function(){this.showMinimap=!1}},{key:"onSuppressRendering",value:function(){this.renderingComplete=!1}},{key:"onReleaseRendering",value:function(){this.renderingComplete=!0}},{key:"clinicalTrackKeyToAttributeId",value:function(e){return e.substr("CLINICALTRACK_".length)}},{key:"clinicalAttributeIdToTrackKey",value:function(e){return"".concat("CLINICALTRACK_").concat(e)}},{key:"onChangeSelectedClinicalTracks",value:function(e){this.urlWrapper.updateURL({clinicallist:e.join(",")})}},{key:"onDeleteClinicalTrack",value:function(e){var t=this;if(!this.isHidden){var n=this.selectedClinicalAttributeIds.keys(),r=i.a.filter(n,function(n){return n!==t.clinicalTrackKeyToAttributeId(e)});this.urlWrapper.updateURL({clinicallist:r.join(",")})}}},{key:"onTrackSortDirectionChange",value:function(e,t){1!==t&&-1!==t||this.sortByData()}},{key:"clearSortDirectionsAndSortByData",value:function(){this.oncoprint&&(this.oncoprint.resetSortableTracksSortDirection(),this.sortByData())}},{key:"clusterHeatmapByIndex",value:function(e){this.oncoprint&&this.oncoprint.resetSortableTracksSortDirection();var t=i.a.values(this.molecularProfileIdToHeatmapTracks).find(function(t){return t.trackGroupIndex===e});t&&this.urlWrapper.updateURL({oncoprint_sortby:"cluster",oncoprint_cluster_profile:t.molecularProfileId})}},{key:"removeHeatmapByIndex",value:function(e){var t=i.a.values(this.molecularProfileIdToHeatmapTracks).find(function(t){return t.trackGroupIndex===e});t&&this.removeHeatmapByMolecularProfileId(t.molecularProfileId)}},{key:"removeHeatmapByMolecularProfileId",value:function(e){delete this.molecularProfileIdToHeatmapTrackGroupIndex[e],this.addHeatmapTracks(e,[])}},{key:"getControls",value:function(){return this.oncoprint&&!this.oncoprint.webgl_unavailable&&(this.treatmentSelectOptions.isComplete||this.treatmentSelectOptions.isError)?r.createElement(S.g,{showByDefault:!0,show:!0},r.createElement(ln.a,{handlers:this.controlsHandlers,state:this.controlsState,store:this.props.store,treatmentSelectOptions:this.treatmentSelectOptions.result,selectedTreatmentIds:this.selectedTreatmentsFromUrl})):r.createElement("span",null)}},{key:"getProgressItems",value:function(e){0===e&&(this.loadingGeneticDataDuringCurrentLoad=!1,this.loadingClinicalDataDuringCurrentLoad=!1);var t=i.a.some(this.selectedClinicalAttributeIds.keys(),function(e){return!Object(un.c)({clinicalAttributeId:e})});this.geneticTracks.isPending&&(this.loadingGeneticDataDuringCurrentLoad=!0),t&&this.clinicalTracks.isPending&&(this.loadingClinicalDataDuringCurrentLoad=!0);var n,r=[];if(this.props.store.genes.isComplete&&this.props.store.samples.isComplete){var o=this.props.store.genes.result.length,a=this.props.store.samples.result.length;n="Querying ".concat(o," genes in ").concat(a," samples")}else n="Querying ... genes in ... samples";var s="";e>2&&(s=" - this can take several seconds"),r.push({label:"".concat(n).concat(s),promises:[],hideIcon:!0,style:{fontWeight:"bold"}});var l=[];this.loadingGeneticDataDuringCurrentLoad&&l.push("genetic"),this.loadingClinicalDataDuringCurrentLoad&&l.push("clinical"),r.push({label:"Loading ".concat(l.join(" and ")," data"),promises:[this.props.store.molecularData,this.props.store.mutations].concat(hn(t?[this.clinicalTracks]:[]))});var c=this.props.store.driverAnnotationSettings.oncoKb,u=this.props.store.driverAnnotationSettings.hotspots;return r.push({label:Object(pn.c)(c,u),promises:[this.props.store.filteredAndAnnotatedMolecularData,this.props.store.filteredAndAnnotatedMutations]}),r.push({label:"Rendering"}),r}},{key:"render",value:function(){return r.createElement("div",{style:{position:"relative"}},r.createElement(ke.a,{isLoading:this.isHidden,size:"big",centerRelativeToContainer:!1,center:!0,className:"oncoprintLoadingIndicator"},r.createElement("div",null,r.createElement(Xt.a,{getItems:this.getProgressItems,show:this.isHidden,sequential:!0}))),r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"oncoprint-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),r.createElement(pe.a,{store:this.props.store})),r.createElement("div",{className:Ot()("oncoprintContainer",{fadeIn:!this.isHidden}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},r.createElement(u.Observer,null,this.getControls),r.createElement("div",{style:{position:"relative",marginTop:15}},r.createElement("div",null,r.createElement(sn.c,{oncoprintRef:this.oncoprintRef,clinicalTracks:this.clinicalTracks.result,geneticTracks:this.geneticTracks.result,genesetHeatmapTracks:this.genesetHeatmapTracks.result,heatmapTracks:[].concat(this.treatmentHeatmapTracks.result).concat(this.heatmapTracks.result),divId:this.props.divId,width:this.width,caseLinkOutInTooltips:!0,suppressRendering:this.isLoading,onSuppressRendering:this.onSuppressRendering,onReleaseRendering:this.onReleaseRendering,hiddenIds:this.showUnalteredColumns?void 0:this.unalteredKeys.result,molecularProfileIdToMolecularProfile:this.props.store.molecularProfileIdToMolecularProfile.result,alterationTypesInQuery:this.alterationTypesInQuery.result,showSublabels:this.showOqlInLabels,heatmapTrackHeaders:this.heatmapTrackHeaders.result,horzZoomToFitIds:this.alteredKeys.result,distinguishMutationType:this.distinguishMutationType,distinguishDrivers:this.distinguishDrivers,distinguishGermlineMutations:this.distinguishGermlineMutations,sortConfig:this.oncoprintLibrarySortConfig,showClinicalTrackLegends:this.showClinicalTrackLegends,showWhitespaceBetweenColumns:this.showWhitespaceBetweenColumns,showMinimap:this.showMinimap,onMinimapClose:this.onMinimapClose,onDeleteClinicalTrack:this.onDeleteClinicalTrack,onTrackSortDirectionChange:this.onTrackSortDirectionChange,initParams:{max_height:Number.POSITIVE_INFINITY}})))))}},{key:"columnMode",get:function(){return"true"===this.urlWrapper.query.show_samples?"sample":"patient"}},{key:"sortMode",get:function(){var e;switch(this.urlWrapper.query.oncoprint_sortby){case"case_id":e={type:"alphabetical"};break;case"case_list":e={type:"caseList"};break;case"cluster":e={type:"heatmap",clusteredHeatmapProfile:this.urlWrapper.query.oncoprint_cluster_profile};break;case"":default:e={type:"data"}}return e}},{key:"sortByMutationType",get:function(){return!this.urlWrapper.query.oncoprint_sort_by_mutation_type||"true"===this.urlWrapper.query.oncoprint_sort_by_mutation_type}},{key:"sortByDrivers",get:function(){return!this.urlWrapper.query.oncoprint_sort_by_drivers||"true"===this.urlWrapper.query.oncoprint_sort_by_drivers}},{key:"selectedTreatmentsFromUrl",get:function(){return this.props.store.treatmentList}},{key:"onlyShowClinicalLegendForAlteredCases",get:function(){return this.showClinicalTrackLegends&&this._onlyShowClinicalLegendForAlteredCases}},{key:"selectedClinicalAttributeIds",get:function(){var e=this.urlWrapper.query.clinicallist?this.urlWrapper.query.clinicallist.split(","):[];return void 0===this.urlWrapper.query.clinicallist&&(this.props.store.studyIds.result&&this.props.store.studyIds.result.length>1&&e.push(un.a.StudyOfOrigin),this.props.store.samples.result&&this.props.store.patients.result&&this.props.store.samples.result.length>this.props.store.patients.result.length&&e.push(un.a.NumSamplesPerPatient),i.a.forEach(this.props.store.clinicalAttributes_profiledIn.result,function(t){e.push(t.clinicalAttributeId)})),e.reduce(function(e,t){return e.set(t,!0),e},p.observable.shallowMap())}},{key:"molecularProfileIdToHeatmapTracks",get:function(){var e,t=this,n=(this.urlWrapper.query.heatmap_track_groups?this.urlWrapper.query.heatmap_track_groups.split(";").map(function(e){return e.split(",")}):[]).reduce(function(e,t){return e[t[0]]=t.slice(1),e},{}),r={};return e=i.a.isEmpty(this.molecularProfileIdToHeatmapTrackGroupIndex)?2:Math.max.apply(Math,hn(i.a.values(this.molecularProfileIdToHeatmapTrackGroupIndex)))+1,i.a.forEach(n,function(n,o){var i=t.props.store.molecularProfileIdToMolecularProfile.result[o];if(i&&n&&n.length){i.molecularProfileId in t.molecularProfileIdToHeatmapTrackGroupIndex||(t.molecularProfileIdToHeatmapTrackGroupIndex[i.molecularProfileId]=e,e+=1);var a={trackGroupIndex:t.molecularProfileIdToHeatmapTrackGroupIndex[i.molecularProfileId],molecularProfileId:i.molecularProfileId,molecularAlterationType:i.molecularAlterationType,entities:{}};n.forEach(function(e){return a.entities[e]=!0}),r[o]=a}}),r}},{key:"urlWrapper",get:function(){return this.props.urlWrapper}},{key:"caseListSortPossible",get:function(){return!(!this.props.store.givenSampleOrder.isComplete||!this.props.store.givenSampleOrder.result.length)}},{key:"distinguishDrivers",get:function(){return this.props.store.driverAnnotationSettings.driversAnnotated}},{key:"heatmapIsDynamicallyQueried",get:function(){var e=this.props.store.molecularProfileIdToMolecularProfile.result;return e.hasOwnProperty(this.selectedHeatmapProfile)&&"GENESET_SCORE"!==e[this.selectedHeatmapProfile].molecularAlterationType}},{key:"clinicalTracksUrlParam",get:function(){return this.selectedClinicalAttributeIds.keys().join(",")}},{key:"selectedHeatmapProfileAlterationType",get:function(){return this.props.store.molecularProfileIdToMolecularProfile.result[this.selectedHeatmapProfile].molecularAlterationType}},{key:"oncoprintAnalysisCaseType",get:function(){return"true"===this.urlWrapper.query.show_samples?Ke.b.SAMPLE:Ke.b.PATIENT}},{key:"sortOrder",get:function(){return"alphabetical"===this.sortMode.type?this.oncoprintAnalysisCaseType===Ke.b.SAMPLE?this.alphabeticalSampleOrder:this.alphabeticalPatientOrder:"caseList"===this.sortMode.type?this.oncoprintAnalysisCaseType===Ke.b.SAMPLE&&this.props.store.givenSampleOrder.isComplete?this.props.store.givenSampleOrder.result.map(function(e){return e.uniqueSampleKey}):this.oncoprintAnalysisCaseType===Ke.b.PATIENT&&this.props.store.givenSampleOrder.isComplete?i.a.uniq(this.props.store.givenSampleOrder.result.map(function(e){return e.uniquePatientKey})):void 0:void 0}},{key:"alphabeticalSampleOrder",get:function(){return this.props.store.samples.isComplete?i.a.sortBy(this.props.store.samples.result,function(e){return e.sampleId}).map(function(e){return e.uniqueSampleKey}):void 0}},{key:"alphabeticalPatientOrder",get:function(){return this.props.store.patients.isComplete?i.a.sortBy(this.props.store.patients.result,function(e){return e.patientId}).map(function(e){return e.uniquePatientKey}):void 0}},{key:"geneticTracks",get:function(){return this.oncoprintAnalysisCaseType===Ke.b.SAMPLE?this.sampleGeneticTracks:this.patientGeneticTracks}},{key:"clinicalTracks",get:function(){return this.oncoprintAnalysisCaseType===Ke.b.SAMPLE?this.sampleClinicalTracks:this.patientClinicalTracks}},{key:"heatmapTracks",get:function(){return this.oncoprintAnalysisCaseType===Ke.b.SAMPLE?this.sampleHeatmapTracks:this.patientHeatmapTracks}},{key:"treatmentHeatmapTracks",get:function(){return this.oncoprintAnalysisCaseType===Ke.b.SAMPLE?this.sampleTreatmentHeatmapTracks:this.patientTreatmentHeatmapTracks}},{key:"genesetHeatmapTrackGroup",get:function(){return 1+Math.max.apply(Math,[sn.b].concat(hn(this.heatmapTracks.result.map(function(e){return e.trackGroupIndex})),hn(this.treatmentHeatmapTracks.result.map(function(e){return e.trackGroupIndex}))))}},{key:"genesetHeatmapTracks",get:function(){return this.oncoprintAnalysisCaseType===Ke.b.SAMPLE?this.sampleGenesetHeatmapTracks:this.patientGenesetHeatmapTracks}},{key:"clusteredHeatmapTrackGroupIndex",get:function(){if("heatmap"===this.sortMode.type){var e=this.sortMode.clusteredHeatmapProfile;if(e===(this.props.store.genesetMolecularProfile.result&&this.props.store.genesetMolecularProfile.result.value&&this.props.store.genesetMolecularProfile.result.value.molecularProfileId))return this.genesetHeatmapTrackGroup;var t=this.molecularProfileIdToHeatmapTracks[e];return t&&t.trackGroupIndex}}},{key:"oncoprintLibrarySortConfig",get:function(){return{sortByMutationType:this.sortByMutationType,sortByDrivers:this.sortByDrivers,order:this.sortOrder,clusterHeatmapTrackGroupIndex:this.clusteredHeatmapTrackGroupIndex}}},{key:"isLoading",get:function(){return"pending"===Object(Z.a)(this.clinicalTracks,this.geneticTracks,this.genesetHeatmapTracks,this.treatmentHeatmapTracks,this.heatmapTracks,this.props.store.molecularProfileIdToMolecularProfile,this.alterationTypesInQuery,this.alteredKeys,this.heatmapTrackHeaders)}},{key:"isHidden",get:function(){return this.isLoading||!this.renderingComplete}},{key:"loadingIndicatorHeight",get:function(){return 300}},{key:"loadingIndicatorMessage",get:function(){return this.isLoading?"Downloading Oncoprint data...":this.renderingComplete?"":"Data downloaded. Rendering Oncoprint.."}},{key:"width",get:function(){return Yt.a.size.width-75}}])&&dn(n.prototype,o),a&&dn(n,a),t}();bn([p.computed],wn.prototype,"columnMode",null),bn([p.computed],wn.prototype,"sortMode",null),bn([p.computed],wn.prototype,"sortByMutationType",null),bn([p.computed],wn.prototype,"sortByDrivers",null),bn([p.computed],wn.prototype,"selectedTreatmentsFromUrl",null),bn([p.observable],wn.prototype,"distinguishGermlineMutations",void 0),bn([p.observable],wn.prototype,"distinguishMutationType",void 0),bn([p.observable],wn.prototype,"showUnalteredColumns",void 0),bn([p.observable],wn.prototype,"showWhitespaceBetweenColumns",void 0),bn([p.observable],wn.prototype,"showClinicalTrackLegends",void 0),bn([p.observable],wn.prototype,"_onlyShowClinicalLegendForAlteredCases",void 0),bn([p.observable],wn.prototype,"showOqlInLabels",void 0),bn([p.computed],wn.prototype,"onlyShowClinicalLegendForAlteredCases",null),bn([p.observable],wn.prototype,"showMinimap",void 0),bn([p.observable],wn.prototype,"selectedHeatmapProfile",void 0),bn([p.observable],wn.prototype,"heatmapGeneInputValue",void 0),bn([p.observable],wn.prototype,"horzZoom",void 0),bn([p.observable],wn.prototype,"mouseInsideBounds",void 0),bn([p.observable],wn.prototype,"renderingComplete",void 0),bn([p.computed],wn.prototype,"selectedClinicalAttributeIds",null),bn([p.computed],wn.prototype,"molecularProfileIdToHeatmapTracks",null),bn([p.observable.ref],wn.prototype,"oncoprint",void 0),bn([p.computed],wn.prototype,"caseListSortPossible",null),bn([p.computed],wn.prototype,"distinguishDrivers",null),bn([p.action],wn.prototype,"selectHeatmapProfile",null),bn([p.action],wn.prototype,"setAnnotateCBioPortalInputValue",null),bn([p.action],wn.prototype,"setAnnotateCOSMICInputValue",null),bn([p.computed],wn.prototype,"heatmapIsDynamicallyQueried",null),bn([p.action],wn.prototype,"sortByData",null),bn([p.computed],wn.prototype,"clinicalTracksUrlParam",null),bn([p.computed],wn.prototype,"selectedHeatmapProfileAlterationType",null),bn([p.action],wn.prototype,"onMinimapClose",null),bn([p.action],wn.prototype,"onSuppressRendering",null),bn([p.action],wn.prototype,"onReleaseRendering",null),bn([p.action],wn.prototype,"onChangeSelectedClinicalTracks",null),bn([m.a,p.action],wn.prototype,"clearSortDirectionsAndSortByData",null),bn([p.computed],wn.prototype,"sortOrder",null),bn([p.computed],wn.prototype,"alphabeticalSampleOrder",null),bn([p.computed],wn.prototype,"alphabeticalPatientOrder",null),bn([p.computed],wn.prototype,"geneticTracks",null),bn([p.computed],wn.prototype,"clinicalTracks",null),bn([p.computed],wn.prototype,"heatmapTracks",null),bn([p.computed],wn.prototype,"treatmentHeatmapTracks",null),bn([p.computed],wn.prototype,"genesetHeatmapTrackGroup",null),bn([p.computed],wn.prototype,"genesetHeatmapTracks",null),bn([p.computed],wn.prototype,"clusteredHeatmapTrackGroupIndex",null),bn([p.computed],wn.prototype,"oncoprintLibrarySortConfig",null),bn([m.a,p.action],wn.prototype,"clusterHeatmapByIndex",null),bn([m.a,p.action],wn.prototype,"removeHeatmapByIndex",null),bn([m.a,p.action],wn.prototype,"removeHeatmapByMolecularProfileId",null),bn([p.computed],wn.prototype,"isLoading",null),bn([p.computed],wn.prototype,"isHidden",null),bn([p.computed],wn.prototype,"loadingIndicatorMessage",null),bn([m.a],wn.prototype,"getControls",null),bn([m.a],wn.prototype,"getProgressItems",null),bn([p.computed],wn.prototype,"width",null);var Cn,_n=wn=bn([u.observer],wn),kn=n(1161),Tn=(n(1167),n(586)),xn=(n(605),n(627)),En=n(555),An=n(576);!function(e){e.circle="circle",e.diamond="diamond",e.plus="plus",e.square="square",e.star="star",e.triangleDown="triangleDown",e.triangleUp="triangleUp"}(Cn||(Cn={}));Cn.circle,En.o,Cn.circle,En.m,Cn.circle,En.k,Cn.circle,En.s,Cn.circle,En.r,Cn.circle,Cn.circle,Cn.circle,Cn.circle,Cn.circle;var On=[{label:"RNA Seq V2",value:"rna_seq_v2_mrna"},{label:"RNA Seq",value:"rna_seq_mrna"}];function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mn(this,Dn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("div",{className:"borderedChart inlineBlock"},r.createElement(S.d,{filename:this.props.exportFileName||"chart-download",dontFade:!0,getSvg:this.props.getSVGElement,type:"button",style:{position:"absolute",top:10,right:10,zIndex:10}}),r.createElement("div",{style:{overflowX:"auto",overflowY:"hidden"}},this.props.children))}}])&&In(n.prototype,o),i&&In(n,i),t}(),Rn=n(20),jn=n(646),Fn=n.n(jn),Gn=n(754),Bn=n(835);function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hn(e,t){return!t||"object"!==$n(t)&&"function"!=typeof t?Un(e):t}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Yn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":$n(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Qn=function(e){function t(){return Vn(this,t),Hn(this,qn(t).apply(this,arguments))}return Wn(t,Gn["a"]),t}(),Xn="expression-tab-plot-svg",Zn=function(e){function t(e){var n;return Vn(this,t),(n=Hn(this,qn(t).call(this,e))).tooltipModel=null,n.studySelectorModalVisible=!1,n.showMutations=!0,n.showCna=!1,n.selectedStudyIds={},n.height=700,n.logScale=!0,n.sortBy="alphabetic",n.isTooltipHovered=!1,n.showMutationType=[],n.tooltipCounter=0,n.sampleStudyData=Object(S.W)({await:function(){return[n.props.store.samples]},invoke:function(){return Promise.resolve({data:n.props.store.samples.result.reduce(function(e,t){return n.selectedStudyIds[t.studyId]&&e.push({uniqueSampleKey:t.uniqueSampleKey,value:n.props.studyMap[t.studyId].shortName}),e},[]),datatype:"string"})}}),n.selectedExpressionProfiles=Object(S.W)({await:function(){return[n.props.expressionProfiles]},invoke:function(){return Promise.resolve(o.filter(n.props.expressionProfiles.result,function(e){return RegExp("".concat(n.selectedRNASeqVersion,"$|pan_can_atlas_2018_").concat(n.selectedRNASeqVersion,"_median$")).test(e.molecularProfileId)}))}}),n.expressionData=Object(S.W)({await:function(){return n.props.numericGeneMolecularDataCache.await([n.selectedExpressionProfiles],function(e){return e.map(function(e){return{entrezGeneId:n.selectedGene.entrezGeneId,molecularProfileId:e.molecularProfileId}})})},invoke:function(){return Promise.resolve(o.flatten(n.props.numericGeneMolecularDataCache.getAll(n.selectedExpressionProfiles.result.map(function(e){return{entrezGeneId:n.selectedGene.entrezGeneId,molecularProfileId:e.molecularProfileId}})).map(function(e){return e.result})))}}),n.studiesWithExpressionData=Object(S.W)({await:function(){return[n.expressionData]},invoke:function(){var e=o.chain(n.expressionData.result).map(function(e){return e.studyId}).uniq().value();return Promise.resolve(Object(S.cb)(e))}}),n.mutationDataExists=Object(S.W)({await:function(){return[n.props.store.studyToMutationMolecularProfile]},invoke:function(){return Promise.resolve(!!o.values(n.props.store.studyToMutationMolecularProfile).length)}}),n.cnaDataExists=Object(S.W)({await:function(){return[n.props.store.studyToMolecularProfileDiscrete]},invoke:function(){return Promise.resolve(!!o.values(n.props.store.studyToMolecularProfileDiscrete).length)}}),n.cnaData=Object(S.W)({await:function(){return n.cnaDataShown&&void 0!==n.selectedGene?[n.props.store.annotatedCnaCache.get({entrezGeneId:n.selectedGene.entrezGeneId})]:[]},invoke:function(){return n.cnaDataShown&&void 0!==n.selectedGene?Promise.resolve(n.props.store.annotatedCnaCache.get({entrezGeneId:n.selectedGene.entrezGeneId}).result):Promise.resolve([])}}),n._unsortedBoxPlotData=Object(S.W)({await:function(){return[n.sampleStudyData,n.expressionData,n.props.store.sampleKeyToSample,n.props.store.studyToMutationMolecularProfile,n.props.store.studyToMolecularProfileDiscrete,n.cnaData]},invoke:function(){return Promise.resolve(Object(xn.A)(n.sampleStudyData.result,{data:n.expressionData.result,datatype:"number",hugoGeneSymbol:n.selectedGene.hugoGeneSymbol},n.props.store.sampleKeyToSample.result,n.props.coverageInformation.samples,n.mutationDataExists.result?{molecularProfileIds:o.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.props.mutations.filter(function(e){return e.entrezGeneId===n.selectedGene.entrezGeneId})}:void 0,n.cnaDataShown?{molecularProfileIds:o.values(n.props.store.studyToMolecularProfileDiscrete.result).map(function(e){return e.molecularProfileId}),data:n.cnaData.result}:void 0))}}),n.boxPlotData=Object(S.W)({await:function(){return[n._unsortedBoxPlotData]},invoke:function(){var e=n._unsortedBoxPlotData.result;return"alphabetic"===n.sortBy?Promise.resolve(o.sortBy(e,function(e){return e.label})):Promise.resolve(o.sortBy(e,function(e){return Fn.a.median(Array.prototype.slice.apply(e.data.map(function(e){return e.value})))}))}}),n.selectedGene=e.genes[0],window.box=Un(n),n}var n,i,a;return Wn(t,r["Component"]),n=t,(i=[{key:"componentWillMount",value:function(){this.selectedStudyIds=o.mapValues(this.props.studyMap,function(e){return!0})}},{key:"handleStudySelection",value:function(e){this.selectedStudyIds[e.currentTarget.value]=!this.selectedStudyIds[e.currentTarget.value]}},{key:"handleRNASeqVersionChange",value:function(e){this._rnaSeqVersion=e.currentTarget.value}},{key:"handleSortByChange",value:function(e){this.sortBy=e.currentTarget.value}},{key:"handleSelectAllStudies",value:function(){var e=this;this.studiesWithExpressionData.isComplete&&this.applyStudyFilter(function(t){return t.studyId in e.studiesWithExpressionData.result})}},{key:"handleDeselectAllStudies",value:function(){this.applyStudyFilter(function(e){return!1})}},{key:"applyStudyFilter",value:function(e){this.selectedStudyIds=o.mapValues(this.props.studyMap,function(t,n){return e(t)})}},{key:"handleTabClick",value:function(e,t){this.selectedGene=t}},{key:"strokeOpacity",value:function(e){return this.scatterPlotAppearance(e).strokeOpacity}},{key:"stroke",value:function(e){return this.scatterPlotAppearance(e).stroke}},{key:"boxCalculationFilter",value:function(e){return 0!==e.value}},{key:"tooltip",value:function(e){return this.props.store.studyIdToStudy.isComplete?function(e,t){var n=null,o=null;e.mutations.length>0&&(n=Object(xn.O)(e.mutations));var i=e.copyNumberAlterations.filter(function(e){return 0!==e.value});return i.length>0&&(o=Object(xn.N)(i)),r.createElement("div",null,r.createElement("span",null,r.createElement("b",null,"Study:")," ",r.createElement("a",{href:Object(he.z)(e.studyId)},t[e.studyId].name)),r.createElement("br",null),r.createElement("span",null,r.createElement("b",null,"Sample ID:")," ",r.createElement("a",{href:Object(he.w)(e.studyId,e.sampleId)},e.sampleId)),r.createElement("br",null),r.createElement("span",null,r.createElement("b",null,"Expression:")," ",e.value),r.createElement("br",null),!!n&&r.createElement("span",null,r.createElement("b",null,"Mutations:")," ",n),!!n&&r.createElement("br",null),!!o&&r.createElement("span",null,r.createElement("b",null,"CNA:")," ",o))}(e,this.props.store.studyIdToStudy.result):r.createElement("span",null,"Loading...")}},{key:"getChart",value:function(){return this.boxPlotData.isComplete?r.createElement(Nn,{getSVGElement:this.getSvg,exportFileName:this.exportFileName},r.createElement(Qn,{svgId:Xn,domainPadding:50,startDataAxisAtZero:!0,boxWidth:this.boxWidth,axisLabelY:this.yAxisLabel,data:this.boxPlotData.result,chartBase:550,scatterPlotTooltip:this.tooltip,horizontal:!1,logScale:this.axisLogScaleFunction,size:4,fill:this.fill,stroke:this.stroke,strokeOpacity:this.strokeOpacity,zIndexSortBy:this.zIndexSortBy,symbol:"circle",fillOpacity:this.fillOpacity,strokeWidth:this.strokeWidth,useLogSpaceTicks:!0,legendData:Object(xn.H)(o.flatten(this.boxPlotData.result.map(function(e){return e.data})),this.viewType,Bn.e.BoxPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,[]),legendLocationWidthThreshold:900,boxCalculationFilter:this.boxCalculationFilter})):r.createElement("span",null)}},{key:"getSvg",value:function(){return document.getElementById(Xn)}},{key:"render",value:function(){var e=this;return r.createElement("div",{"data-test":"expressionTabDiv"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"expression-oql-status-banner",store:this.props.store,tabReflectsOql:!1,style:{marginTop:-1,marginBottom:12}}),r.createElement(pe.a,{store:this.props.store})),this.studySelectorModalVisible&&this.studySelectionModal,r.createElement("div",{style:{marginBottom:15}},r.createElement(f.b,{onTabClick:this.handleTabClick,arrowStyle:{"line-height":.8},enablePagination:!1,unmountOnHide:!0,tabButtonStyle:"pills",activeTabId:"summaryTab"+this.selectedGene.hugoGeneSymbol,className:"pillTabs"},this.props.genes.map(function(e){return r.createElement(f.a,{key:e.hugoGeneSymbol,datum:e,id:"summaryTab"+e.hugoGeneSymbol,linkText:e.hugoGeneSymbol})})),r.createElement("form",{className:"form-inline expression-controls",style:{marginBottom:10}},r.createElement("div",{className:"form-group"},r.createElement("h5",null,"Profile:"),r.createElement("select",{className:"form-control input-sm",value:this.selectedRNASeqVersion,onChange:this.handleRNASeqVersionChange,title:"Select profile"},this.possibleRNASeqVersions.map(function(e){return r.createElement("option",{value:e.value},e.label)}))),this.boxPlotData.isComplete&&this.boxPlotData.result.length>1&&r.createElement("div",{className:"form-group"},r.createElement("h5",null,"Sort By:"),r.createElement("select",{className:"form-control input-sm",value:this.sortBy,onChange:this.handleSortByChange,title:"Select profile"},r.createElement("option",{value:"alphabetic"},"Cancer Study"),r.createElement("option",{value:"median"},"Median"))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"checkbox-inline"},r.createElement("input",{type:"checkbox",checked:this.logScale,onChange:function(){return e.logScale=!e.logScale},title:"Log scale"}),"Log scale"),this.mutationDataExists.result&&r.createElement("label",{className:"checkbox-inline"},r.createElement("input",{type:"checkbox",checked:this.showMutations,onChange:function(){return e.showMutations=!e.showMutations},title:"Show mutations *"}),"Show mutations *"),this.cnaDataExists.result&&r.createElement("label",{className:"checkbox-inline"},r.createElement("input",{type:"checkbox",checked:this.showCna,onChange:function(){return e.showCna=!e.showCna},title:"Show copy number alterations"}),"Show copy number alterations"))),this.studiesWithExpressionData.isComplete&&r.createElement("div",null,r.createElement("label",null,"Select studies:"),"",r.createElement(Rn.If,{condition:this.studyTypeCounts.provisional.length>0},r.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:5},onClick:function(){return e.applyStudyFilter(function(e){return Object(Ke.w)(e.studyId)})}},"TCGA Provisional (",this.studyTypeCounts.provisional.length,")")),r.createElement(Rn.If,{condition:this.studyTypeCounts.panCancer.length>0},r.createElement("button",{className:"btn btn-default btn-xs",style:{marginRight:5},onClick:function(){return e.applyStudyFilter(function(e){return Object(Ke.u)(e.studyId)})}},"TCGA Pan-Can Atlas (",this.studyTypeCounts.panCancer.length,")")),r.createElement("button",{"data-test":"ExpressionStudyModalButton",className:"btn btn-default btn-xs",onClick:function(){return e.studySelectorModalVisible=!e.studySelectorModalVisible}},"Custom list")),r.createElement("div",{className:"collapse"},r.createElement("div",{className:"well"}))),r.createElement(ke.a,{center:!0,size:"big",isLoading:this.boxPlotData.isPending||this.studiesWithExpressionData.isPending}),this.boxPlotData.isComplete&&r.createElement(Rn.If,{condition:this.selectedStudies.length>0},r.createElement(Rn.Then,null,r.createElement(Rn.If,{condition:o.size(this.boxPlotData.result)>0},r.createElement(Rn.Then,null,r.createElement("div",{className:"posRelative"},r.createElement(u.Observer,null,this.getChart),this.mutationDataExists.result&&r.createElement("div",{style:{marginTop:20}},"* Driver annotation settings are located in the Mutation Color menu of the Oncoprint."))),r.createElement(Rn.Else,null,r.createElement("div",{className:"alert alert-info"},"No expression data for this query.")))),r.createElement(Rn.Else,null,r.createElement("div",{className:"alert alert-info"},"No studies selected."))))}},{key:"selectedStudies",get:function(){var e=this;return o.filter(this.props.studyMap,function(t){return!0===e.selectedStudyIds[t.studyId]})}},{key:"widthThreshold",get:function(){return this.selectedStudies.length>7}},{key:"boxWidth",get:function(){var e=-62/32;return Math.max(e*this.selectedStudies.length+81.9375,18)}},{key:"selectedRNASeqVersion",get:function(){return this._rnaSeqVersion?this._rnaSeqVersion:this.possibleRNASeqVersions[0].value}},{key:"possibleRNASeqVersions",get:function(){return this.props.expressionProfiles.isComplete?(e=this.props.expressionProfiles.result,(t={rna_seq_mrna:!1,rna_seq_v2_mrna:!1}).rna_seq_mrna=o.some(e,function(e){return RegExp("rna_seq_mrna$|pan_can_atlas_2018_rna_seq_mrna_median$").test(e.molecularProfileId)}),t.rna_seq_v2_mrna=o.some(e,function(e){return RegExp("rna_seq_v2_mrna$|pan_can_atlas_2018_rna_seq_v2_mrna_median$").test(e.molecularProfileId)}),On.filter(function(e){return t[e.value]})):[];var e,t}},{key:"mutationDataShown",get:function(){return this.mutationDataExists.result&&this.showMutations}},{key:"cnaDataShown",get:function(){return this.cnaDataExists.result&&this.showCna}},{key:"studyTypeCounts",get:function(){var e=o.values(this.props.studyMap);return{provisional:e.filter(function(e){return Object(Ke.w)(e.studyId)}),panCancer:e.filter(function(e){return Object(Ke.u)(e.studyId)})}}},{key:"hasUnselectedStudies",get:function(){var e=this;return!!this.studiesWithExpressionData.isComplete&&void 0!==o.find(this.props.studyMap,function(t){var n=t.studyId in e.studiesWithExpressionData.result,r=e.selectedStudies.includes(t);return n&&!r})}},{key:"alphabetizedAndFilteredStudies",get:function(){var e=this;return o.chain(this.props.studyMap).values().filter(function(t){return t.studyId in(e.studiesWithExpressionData.result||{})}).sortBy(function(e){return e.name}).value()}},{key:"studySelectionModal",get:function(){var e=this;return r.createElement(qt.Modal,{"data-test":"ExpressionStudyModal",show:!0,onHide:function(){e.studySelectorModalVisible=!1},className:"cbioportal-frontend"},r.createElement(qt.Modal.Header,{closeButton:!0},r.createElement(qt.Modal.Title,null,"Select Studies")),r.createElement(qt.Modal.Body,null,r.createElement("div",null,r.createElement("div",null,r.createElement("a",{"data-test":"ExpressionStudySelectAll",className:Ot()({hidden:!this.hasUnselectedStudies}),onClick:this.handleSelectAllStudies},"Select all"),r.createElement("span",{className:Ot()({hidden:!this.hasUnselectedStudies||0===this.selectedStudies.length})},"|"),r.createElement("a",{"data-test":"ExpressionStudyUnselectAll",className:Ot()({hidden:0===this.selectedStudies.length}),onClick:this.handleDeselectAllStudies},"Deselect all")),o.map(this.alphabetizedAndFilteredStudies,function(t){return r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:!0===e.selectedStudyIds[t.studyId],value:t.studyId,onChange:e.handleStudySelection}),t.name))}))))}},{key:"yAxisLabel",get:function(){var e=this.logScale?" (log2)":"",t="1";return"rna_seq_v2_mrna"===this.selectedRNASeqVersion&&(t="2"),"".concat(this.selectedGene.hugoGeneSymbol," Expression --- RNA Seq V").concat(t).concat(e)}},{key:"fill",get:function(){var e=this;return this.showCna||this.showMutations?function(t){return e.scatterPlotAppearance(t).fill}:xn.G[xn.d.Neither].fill}},{key:"fillOpacity",get:function(){return!this.showMutations&&this.showCna?0:.7}},{key:"strokeWidth",get:function(){return this.showCna?xn.b:1}},{key:"scatterPlotAppearance",get:function(){return Object(xn.D)(this.viewType,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated)}},{key:"viewType",get:function(){return this.showMutations&&this.showCna?Bn.f.MutationTypeAndCopyNumber:this.showMutations?Bn.f.MutationType:this.showCna?Bn.f.CopyNumber:Bn.f.None}},{key:"zIndexSortBy",get:function(){return Object(xn.J)(this.viewType)}},{key:"axisLogScaleFunction",get:function(){if(this.logScale)return{label:"log2",fLogScale:function(e,t){return Math.log2(Math.max(e,.01))},fInvLogScale:function(e){return Math.pow(2,e)}}}},{key:"exportFileName",get:function(){return"Expression"}}])&&zn(n.prototype,i),a&&zn(n,a),t}();Yn([p.observable],Zn.prototype,"_rnaSeqVersion",void 0),Yn([p.observable.ref],Zn.prototype,"tooltipModel",void 0),Yn([p.observable.ref],Zn.prototype,"selectedGene",void 0),Yn([p.observable],Zn.prototype,"studySelectorModalVisible",void 0),Yn([p.observable],Zn.prototype,"showMutations",void 0),Yn([p.observable],Zn.prototype,"showCna",void 0),Yn([p.observable],Zn.prototype,"selectedStudyIds",void 0),Yn([p.observable],Zn.prototype,"height",void 0),Yn([p.observable],Zn.prototype,"logScale",void 0),Yn([p.observable],Zn.prototype,"sortBy",void 0),Yn([p.observable],Zn.prototype,"isTooltipHovered",void 0),Yn([p.observable],Zn.prototype,"showMutationType",void 0),Yn([p.computed],Zn.prototype,"selectedStudies",null),Yn([p.computed],Zn.prototype,"widthThreshold",null),Yn([p.computed],Zn.prototype,"boxWidth",null),Yn([p.computed],Zn.prototype,"selectedRNASeqVersion",null),Yn([p.computed],Zn.prototype,"possibleRNASeqVersions",null),Yn([p.computed],Zn.prototype,"mutationDataShown",null),Yn([p.computed],Zn.prototype,"cnaDataShown",null),Yn([p.computed],Zn.prototype,"studyTypeCounts",null),Yn([m.a],Zn.prototype,"handleStudySelection",null),Yn([m.a],Zn.prototype,"handleRNASeqVersionChange",null),Yn([m.a],Zn.prototype,"handleSortByChange",null),Yn([m.a],Zn.prototype,"handleSelectAllStudies",null),Yn([m.a],Zn.prototype,"handleDeselectAllStudies",null),Yn([p.computed],Zn.prototype,"hasUnselectedStudies",null),Yn([p.computed],Zn.prototype,"alphabetizedAndFilteredStudies",null),Yn([p.computed],Zn.prototype,"studySelectionModal",null),Yn([m.a],Zn.prototype,"applyStudyFilter",null),Yn([m.a],Zn.prototype,"handleTabClick",null),Yn([p.computed],Zn.prototype,"yAxisLabel",null),Yn([p.computed],Zn.prototype,"fill",null),Yn([p.computed],Zn.prototype,"fillOpacity",null),Yn([p.computed],Zn.prototype,"strokeWidth",null),Yn([m.a],Zn.prototype,"strokeOpacity",null),Yn([m.a],Zn.prototype,"stroke",null),Yn([p.computed],Zn.prototype,"scatterPlotAppearance",null),Yn([p.computed],Zn.prototype,"viewType",null),Yn([m.a],Zn.prototype,"tooltip",null),Yn([p.computed],Zn.prototype,"zIndexSortBy",null),Yn([p.computed],Zn.prototype,"axisLogScaleFunction",null),Yn([m.a],Zn.prototype,"getChart",null),Yn([m.a],Zn.prototype,"getSvg",null),Yn([p.computed],Zn.prototype,"exportFileName",null);var Jn=Zn=Yn([u.observer],Zn),er=n(837),tr=n(723),nr=n(568);function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":sr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},cr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=or(this,ir(t).apply(this,arguments))).uniqueColorGetter=Object(An.g)(),e.alteredColor=e.uniqueColorGetter(),e.unalteredColor=e.uniqueColorGetter(),e.tabUI=Object(Ee.a)({await:function(){return[e.props.store.mutationEnrichmentData,e.props.store.alteredSampleKeys,e.props.store.unalteredSampleKeys,e.props.store.alteredPatientKeys,e.props.store.unalteredPatientKeys,e.props.store.studies,e.props.store.selectedMutationEnrichmentProfileMap]},renderPending:function(){return r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"})},renderError:function(){return r.createElement(Mt.a,null)},render:function(){var t=e.props.store.usePatientLevelEnrichments,n="Mutations",o=e.props.store.studies.result;return 1===o.length&&(n=e.props.store.selectedMutationEnrichmentProfileMap.result[o[0].studyId].name),r.createElement("div",{"data-test":"MutationEnrichmentsTab"},r.createElement(tr.a,{dataSets:e.props.store.mutationEnrichmentProfiles,onChange:e.onProfileChange,selectedProfileByStudyId:e.props.store.selectedMutationEnrichmentProfileMap.result,molecularProfileIdToProfiledSampleCount:e.props.store.molecularProfileIdToProfiledSampleCount,studies:e.props.store.studies.result}),r.createElement(er.a,{data:e.props.store.mutationEnrichmentData.result,headerName:n,store:e.props.store,groups:[{name:"Altered group",description:"Number (percentage) of ".concat(t?"patients":"samples"," that have alterations in the query gene(s) that also have a deep deletion in the listed gene."),nameOfEnrichmentDirection:"Co-occurrence",count:t?e.props.store.alteredPatientKeys.result.length:e.props.store.alteredSampleKeys.result.length,color:e.alteredColor},{name:"Unaltered group",description:"Number (percentage) of ".concat(t?"patients":"samples"," that do not have alterations in the query gene(s) that have a deep deletion in the listed gene."),nameOfEnrichmentDirection:"Mutual exclusivity",count:t?e.props.store.unalteredPatientKeys.result.length:e.props.store.unalteredSampleKeys.result.length,color:e.unalteredColor}],containerType:nr.a.MUTATION,patientLevelEnrichments:e.props.store.usePatientLevelEnrichments,onSetPatientLevelEnrichments:e.props.store.setUsePatientLevelEnrichments}))}}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(t,r["Component"]),n=t,(o=[{key:"onProfileChange",value:function(e){this.props.store.setMutationEnrichmentProfileMap(e)}},{key:"render",value:function(){return this.tabUI.component}}])&&rr(n.prototype,o),i&&rr(n,i),t}();lr([m.a],cr.prototype,"onProfileChange",null);var ur=cr=lr([u.observer],cr);function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":mr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},gr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=hr(this,dr(t).apply(this,arguments))).uniqueColorGetter=Object(An.g)(),e.alteredColor=e.uniqueColorGetter(),e.unalteredColor=e.uniqueColorGetter(),e.tabUI=Object(Ee.a)({await:function(){return[e.props.store.copyNumberHomdelEnrichmentData,e.props.store.copyNumberAmpEnrichmentData,e.props.store.alteredSampleKeys,e.props.store.unalteredSampleKeys,e.props.store.alteredPatientKeys,e.props.store.unalteredPatientKeys,e.props.store.studies,e.props.store.selectedCopyNumberEnrichmentProfileMap]},render:function(){var t=e.props.store.usePatientLevelEnrichments,n="",o=e.props.store.studies.result;return 1===o.length&&(n=" - "+e.props.store.selectedMutationEnrichmentProfileMap.result[o[0].studyId].name),r.createElement("div",{"data-test":"CopyNumberEnrichmentsTab"},r.createElement(tr.a,{dataSets:e.props.store.copyNumberEnrichmentProfiles,onChange:e.onProfileChange,selectedProfileByStudyId:e.props.store.selectedCopyNumberEnrichmentProfileMap.result,molecularProfileIdToProfiledSampleCount:e.props.store.molecularProfileIdToProfiledSampleCount,studies:e.props.store.studies.result}),r.createElement(er.a,{data:e.props.store.copyNumberHomdelEnrichmentData.result,groups:[{name:"Altered group",description:"Number (percentage) of ".concat(t?"patients":"samples"," that have alterations in the query gene(s) that also have a deep deletion in the listed gene."),nameOfEnrichmentDirection:"Co-occurrence",count:t?e.props.store.alteredPatientKeys.result.length:e.props.store.alteredSampleKeys.result.length,color:e.alteredColor},{name:"Unaltered group",description:"Number (percentage) of ".concat(t?"patients":"samples"," that do not have alterations in the query gene(s) that have a deep deletion in the listed gene."),nameOfEnrichmentDirection:"Mutual exclusivity",count:t?e.props.store.unalteredPatientKeys.result.length:e.props.store.unalteredSampleKeys.result.length,color:e.unalteredColor}],headerName:"Deep Deletion"+n,store:e.props.store,containerType:nr.a.COPY_NUMBER,patientLevelEnrichments:e.props.store.usePatientLevelEnrichments,onSetPatientLevelEnrichments:e.props.store.setUsePatientLevelEnrichments}),r.createElement("hr",null),r.createElement(er.a,{data:e.props.store.copyNumberAmpEnrichmentData.result,groups:[{name:"Altered group",description:"Number (percentage) of ".concat(t?"patients":"samples"," that have alterations in the query gene(s) that also have an amplification in the listed gene."),nameOfEnrichmentDirection:"Co-occurrence",count:t?e.props.store.alteredPatientKeys.result.length:e.props.store.alteredSampleKeys.result.length,color:e.alteredColor},{name:"Unaltered group",description:"Number (percentage) of ".concat(t?"patients":"samples"," that do not have alterations in the query gene(s) that have an amplification in the listed gene."),nameOfEnrichmentDirection:"Mutual exclusivity",count:t?e.props.store.unalteredPatientKeys.result.length:e.props.store.unalteredSampleKeys.result.length,color:e.unalteredColor}],headerName:"Amplification - "+n,store:e.props.store,containerType:nr.a.COPY_NUMBER,patientLevelEnrichments:e.props.store.usePatientLevelEnrichments,onSetPatientLevelEnrichments:e.props.store.setUsePatientLevelEnrichments}))},renderPending:function(){return r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"})},renderError:function(){return r.createElement(Mt.a,null)}}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,r["Component"]),n=t,(o=[{key:"onProfileChange",value:function(e){this.props.store.setCopyNumberEnrichmentProfileMap(e)}},{key:"render",value:function(){return this.tabUI.component}}])&&pr(n.prototype,o),i&&pr(n,i),t}();yr([m.a],gr.prototype,"onProfileChange",null);var vr=gr=yr([u.observer],gr),br=n(839);function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":kr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},xr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=wr(this,Cr(t).apply(this,arguments))).enrichmentAnalysisGroups=Object(S.W)({await:function(){return[e.props.store.alteredSamples,e.props.store.unalteredSamples]},invoke:function(){var t=Object(An.g)(),n=[{name:"Altered group",description:"samples that have alterations in the query gene(s).",nameOfEnrichmentDirection:"Over-expressed",count:e.props.store.alteredSamples.result.length,color:t(),samples:e.props.store.alteredSamples.result||[]},{name:"Unaltered group",description:"samples that do not have alterations in the query gene(s).",nameOfEnrichmentDirection:"Under-expressed",count:e.props.store.unalteredSamples.result.length,color:t(),samples:e.props.store.unalteredSamples.result||[]}];return Promise.resolve(n)}}),e.tabUI=Object(Ee.a)({await:function(){return[e.props.store.studies,e.props.store.mRNAEnrichmentData,e.props.store.selectedmRNAEnrichmentProfileMap,e.enrichmentAnalysisGroups,e.props.store.oqlFilteredCaseAggregatedData]},render:function(){var t=Object.keys(e.props.store.selectedmRNAEnrichmentProfileMap.result),n=e.props.store.selectedmRNAEnrichmentProfileMap.result[t[0]];return r.createElement("div",{"data-test":"MRNAEnrichmentsTab"},r.createElement(tr.a,{dataSets:e.props.store.mRNAEnrichmentProfiles,onChange:e.onChangeProfile,selectedProfileByStudyId:e.props.store.selectedmRNAEnrichmentProfileMap.result,molecularProfileIdToProfiledSampleCount:e.props.store.molecularProfileIdToProfiledSampleCount,studies:e.props.store.studies.result}),r.createElement(br.a,{data:e.props.store.mRNAEnrichmentData.result,groups:e.enrichmentAnalysisGroups.result,selectedProfile:n,sampleKeyToSample:e.props.store.sampleKeyToSample.result,queriedHugoGeneSymbols:e.props.store.hugoGeneSymbols,oqlFilteredCaseAggregatedData:e.props.store.oqlFilteredCaseAggregatedData.result.samples,isGeneCheckBoxEnabled:!0}))},renderPending:function(){return r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"})},renderError:function(){return r.createElement(Mt.a,null)}}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(t,r["Component"]),n=t,(o=[{key:"onChangeProfile",value:function(e){this.props.store.setmRNAEnrichmentProfile(e)}},{key:"render",value:function(){return this.tabUI.component}}])&&Sr(n.prototype,o),i&&Sr(n,i),t}();Tr([m.a],xr.prototype,"onChangeProfile",null);var Er=xr=Tr([u.observer],xr);function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Dr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Mr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Lr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Or(this,Pr(t).apply(this,arguments))).enrichmentAnalysisGroups=Object(S.W)({await:function(){return[e.props.store.alteredSamples,e.props.store.unalteredSamples]},invoke:function(){var t=Object(An.g)(),n=[{name:"Altered group",description:"samples that have alterations in the query gene(s).",nameOfEnrichmentDirection:"Over-expressed",count:e.props.store.alteredSamples.result.length,color:t(),samples:e.props.store.alteredSamples.result||[]},{name:"Unaltered group",description:"samples that do not have alterations in the query gene(s).",nameOfEnrichmentDirection:"Under-expressed",count:e.props.store.unalteredSamples.result.length,color:t(),samples:e.props.store.unalteredSamples.result||[]}];return Promise.resolve(n)}}),e.tabUI=Object(Ee.a)({await:function(){return[e.props.store.studies,e.props.store.proteinEnrichmentData,e.props.store.selectedProteinEnrichmentProfileMap,e.enrichmentAnalysisGroups,e.props.store.oqlFilteredCaseAggregatedData]},render:function(){var t=Object.keys(e.props.store.selectedProteinEnrichmentProfileMap.result),n=e.props.store.selectedProteinEnrichmentProfileMap.result[t[0]];return r.createElement("div",null,r.createElement(tr.a,{dataSets:e.props.store.proteinEnrichmentProfiles,onChange:e.onProfileChange,selectedProfileByStudyId:e.props.store.selectedProteinEnrichmentProfileMap.result,molecularProfileIdToProfiledSampleCount:e.props.store.molecularProfileIdToProfiledSampleCount,studies:e.props.store.studies.result}),r.createElement(br.a,{data:e.props.store.proteinEnrichmentData.result,groups:e.enrichmentAnalysisGroups.result,selectedProfile:n,sampleKeyToSample:e.props.store.sampleKeyToSample.result,queriedHugoGeneSymbols:e.props.store.hugoGeneSymbols,oqlFilteredCaseAggregatedData:e.props.store.oqlFilteredCaseAggregatedData.result.samples,isGeneCheckBoxEnabled:!0}))},renderPending:function(){return r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"})},renderError:function(){return r.createElement(Mt.a,null)}}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,r["Component"]),n=t,(o=[{key:"onProfileChange",value:function(e){this.props.store.setProteinEnrichmentProfile(e)}},{key:"render",value:function(){return this.tabUI.component}}])&&Ar(n.prototype,o),i&&Ar(n,i),t}();Dr([m.a],Lr.prototype,"onProfileChange",null);var Nr=Lr=Dr([u.observer],Lr);function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t){return!t||"object"!==Br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var zr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Br(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jr(this,Fr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleTabChange",value:function(e){this.currentTabId=e}},{key:"render",value:function(){return this.props.store.alteredSampleKeys.isPending||this.props.store.unalteredSampleKeys.isPending?r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"}):0===this.props.store.alteredSampleKeys.result.length?r.createElement("div",{className:"alert alert-info"},"No queried samples are altered, therefore this calculation cannot be performed."):0===this.props.store.unalteredSampleKeys.result.length?r.createElement("div",{className:"alert alert-info"},"All queried samples are altered, therefore this calculation cannot be performed."):this.props.store.mutationEnrichmentProfiles.isPending||this.props.store.copyNumberEnrichmentProfiles.isPending||this.props.store.mRNAEnrichmentProfiles.isPending||this.props.store.proteinEnrichmentProfiles.isPending?r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"}):r.createElement("div",{"data-test":"enrichmentsTabDiv"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"enrichments-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),r.createElement(pe.a,{store:this.props.store})),r.createElement(f.b,{activeTabId:this.currentTabId,onTabClick:this.handleTabChange,className:"secondaryNavigation"},this.props.store.mutationEnrichmentProfiles.result.length>0&&r.createElement(f.a,{id:"mutations",linkText:"Mutations"},r.createElement(ur,{store:this.props.store})),this.props.store.copyNumberEnrichmentProfiles.result.length>0&&r.createElement(f.a,{id:"copynumber",linkText:"Copy-number"},r.createElement(vr,{store:this.props.store})),this.props.store.mRNAEnrichmentProfiles.result.length>0&&1===this.props.store.studies.result.length&&r.createElement(f.a,{id:"mrna",linkText:"mRNA"},r.createElement(Er,{store:this.props.store})),this.props.store.proteinEnrichmentProfiles.result.length>0&&1===this.props.store.studies.result.length&&r.createElement(f.a,{id:"protein",linkText:"Protein"},r.createElement(Nr,{store:this.props.store}))))}}])&&Rr(n.prototype,o),i&&Rr(n,i),t}();zr([p.observable],Vr.prototype,"currentTabId",void 0),zr([m.a],Vr.prototype,"handleTabChange",null);var Hr=Vr=zr([u.observer],Vr),Ur=n(163),qr=n(604),Wr=n(94),Kr="rgb(41, 87, 41)",$r="rgb(180, 4, 4)";function Yr(e){return e>0?Kr:$r}function Qr(e){return[Math.abs(e),e>0?1:0]}var Xr=n(597),Zr=n(752),Jr=n(569),eo=n(622),to=n(559),no=n(557);function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lo=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":so(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},co=[{name:"Correlated Gene",render:function(e){return r.createElement("span",{style:{fontWeight:"bold"}},e.geneticEntityName)},filter:function(e,t,n){return e.geneticEntityName.indexOf(n)>-1},download:function(e){return e.geneticEntityName},sortBy:function(e){return e.geneticEntityName},width:"30%"},{name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},filter:eo.a,download:function(e){return e.cytoband},sortBy:function(e){return e.cytoband},width:"30%"},uo("Spearman's Correlation","spearmansCorrelation",!0,!1),Object.assign(uo("p-Value","pValue",!1,!1),{tooltip:r.createElement("span",null,"Derived from 2-sided t-test.")}),Object.assign(uo("q-Value","qValue",!1,!0),{sortBy:function(e){return[e.qValue,e.pValue]},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg FDR correction procedure.")})];function uo(e,t,n,o){return{name:e,render:function(e){return r.createElement("span",{style:{color:n?Yr(e[t]):"#000000",textAlign:"right",float:"right",whiteSpace:"nowrap"}},o?Object(no.b)(e[t]):Object(to.a)(e[t],3,.01))},download:function(e){return e[t].toString()+""},sortBy:function(e){return Qr(e[t])},align:"right"}}var po=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=oo(this,io(t).apply(this,arguments))).tableModeOptions=[{label:"Show Any Correlation",value:Zo.SHOW_ALL},{label:"Show Only Positively Correlated",value:Zo.SHOW_POSITIVE},{label:"Show Only Negatively Correlated",value:Zo.SHOW_NEGATIVE}],e.paginationProps={itemsPerPageOptions:[25]},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(t,r["Component"]),n=t,(o=[{key:"onRowClick",value:function(e){this.props.dataStore.setHighlighted(e)}},{key:"onSelectTableMode",value:function(e){this.props.onSelectTableMode(e.value)}},{key:"render",value:function(){return r.createElement("div",null,r.createElement("div",{style:{float:"left",display:"flex",flexDirection:"row"}},r.createElement("div",{style:{width:180}},r.createElement(qr.a,{value:this.props.tableMode,onChange:this.onSelectTableMode,options:this.tableModeOptions,searchable:!1,clearable:!1,className:"coexpression-select-table-mode"})),r.createElement(Zr.a,{style:{marginLeft:21,marginTop:"0.7em"},tooltip:r.createElement("div",{style:{maxWidth:200}},Xr.e),tooltipPlacement:"left"})),r.createElement(Qe.b,{initialSortColumn:"q-Value",initialSortDirection:"asc",columns:co,showColumnVisibility:!1,dataStore:this.props.dataStore,onRowClick:this.onRowClick,filterPlaceholder:"Enter gene or cytoband..",paginationProps:this.paginationProps,initialItemsPerPage:25,copyDownloadProps:{showCopy:!1}}))}}])&&ro(n.prototype,o),i&&ro(n,i),t}();lo([Jr.bind],po.prototype,"onRowClick",null),lo([Jr.bind],po.prototype,"onSelectTableMode",null);var ho=po=lo([u.observer],po);function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bo=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":vo(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},So=[{name:"Correlated Gene Set",render:function(e){return r.createElement("span",{style:{fontWeight:"bold"}},e.geneticEntityName.length>28?e.geneticEntityName.substring(0,25)+"...":e.geneticEntityName)},filter:function(e,t,n){return e.geneticEntityName.indexOf(n)>-1},download:function(e){return e.geneticEntityName},sortBy:function(e){return e.geneticEntityName},width:"60%"},wo("Spearman's Correlation","spearmansCorrelation",!0,!1),wo("p-Value","pValue",!1,!1),Object.assign(wo("q-Value","qValue",!1,!0),{sortBy:function(e){return[e.qValue,e.pValue]}})];function wo(e,t,n,o){return{name:e,render:function(e){return r.createElement("span",{style:{color:n?Yr(e[t]):"#000000",textAlign:"right",float:"right",whiteSpace:"nowrap"}},o?Object(no.b)(e[t]):Object(to.a)(e[t],3,.01))},download:function(e){return e[t].toString()+""},sortBy:function(e){return Qr(e[t])},align:"right"}}var Co=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=mo(this,yo(t).apply(this,arguments))).tableModeOptions=[{label:"Show Any Correlation",value:Zo.SHOW_ALL},{label:"Show Only Positively Correlated",value:Zo.SHOW_POSITIVE},{label:"Show Only Negatively Correlated",value:Zo.SHOW_NEGATIVE}],e.paginationProps={itemsPerPageOptions:[25]},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(t,r["Component"]),n=t,(o=[{key:"onRowClick",value:function(e){this.props.dataStore.setHighlighted(e)}},{key:"onSelectTableMode",value:function(e){this.props.onSelectTableMode(e.value)}},{key:"render",value:function(){return r.createElement("div",null,r.createElement("div",{style:{float:"left",display:"flex",flexDirection:"row"}},r.createElement("div",{style:{width:180}},r.createElement(qr.a,{value:this.props.tableMode,onChange:this.onSelectTableMode,options:this.tableModeOptions,searchable:!1,clearable:!1,className:"coexpression-select-table-mode"})),r.createElement(Zr.a,{style:{marginLeft:21,marginTop:"0.7em"},tooltip:r.createElement("div",{style:{maxWidth:200}},Xr.e),tooltipPlacement:"left"})),r.createElement(Qe.b,{initialSortColumn:"q-Value",initialSortDirection:"asc",columns:So,showColumnVisibility:!1,dataStore:this.props.dataStore,onRowClick:this.onRowClick,filterPlaceholder:"Enter gene set..",paginationProps:this.paginationProps,initialItemsPerPage:25,copyDownloadProps:{showCopy:!1}}))}}])&&fo(n.prototype,o),i&&fo(n,i),t}();bo([Jr.bind],Co.prototype,"onRowClick",null),bo([Jr.bind],Co.prototype,"onSelectTableMode",null);var _o=Co=bo([u.observer],Co),ko=n(573),To=(n(1168),n(859));function xo(e,t,n){return"".concat(n,": ").concat(e.geneticEntityName," ").concat(t?"(".concat(t.label,") "):"")}function Eo(e){return!e.profiledX&&!e.profiledY}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){return!t||"object"!==Lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var No=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Lo(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ro=function(e){function t(){return Oo(this,t),Po(this,Io(t).apply(this,arguments))}return Mo(t,To["a"]),t}();function jo(){}var Fo=function(e){function t(){return Oo(this,t),Po(this,Io(t).apply(this,arguments))}var n,o,a;return Mo(t,r["Component"]),n=t,(o=[{key:"getSvg",value:function(){return document.getElementById("coexpression-plot-svg")}},{key:"plot",value:function(){return this.data.length?r.createElement(Ro,{svgId:"coexpression-plot-svg",title:this.title,data:this.data,size:An.h,chartWidth:this.props.width,chartHeight:this.props.height,stroke:this.stroke,fill:this.fill,strokeWidth:1.2,legendData:this.mutationLegendElements,showRegressionLine:this.props.showRegressionLine,logX:this.axisLogScaleFunction,logY:this.axisLogScaleFunction,useLogSpaceTicks:!0,axisLabelX:this.axisLabelX,axisLabelY:this.axisLabelY,tooltip:this.tooltip,fontFamily:"Arial,Helvetica"}):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"toolbar",value:function(){return r.createElement("div",{style:{textAlign:"center",position:"relative"}},r.createElement("div",{style:{display:"inline-block"}},this.props.showMutationControls&&r.createElement("div",{className:"checkbox coexpression-plot-toolbar-elt"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.showMutations,onClick:this.props.handlers.onClickShowMutations||jo,"data-test":"ShowMutations"}),"Show Mutations")),this.props.showLogScaleControls&&r.createElement("div",{className:"coexpression-plot-toolbar-elt"},r.createElement("div",{className:"checkbox coexpression-plot-toolbar-elt"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.logScale,onClick:this.props.handlers.onClickLogScale||jo,"data-test":"logScale"}),"Log Scale"))),r.createElement("div",{className:"checkbox coexpression-plot-toolbar-elt"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.showRegressionLine,onClick:this.props.handlers.onClickShowRegressionLine,"data-test":"ShowRegressionLine"}),"Show Regression Line"))),r.createElement(S.d,{getSvg:this.getSvg,filename:"coexpression",dontFade:!0,type:"button",style:{position:"absolute",top:0,right:0}}))}},{key:"tooltip",value:function(e){return r.createElement("div",null,r.createElement("div",null,r.createElement("span",null,"Sample ID: "),r.createElement("a",{href:Object(he.w)(e.studyId,e.sampleId)},e.sampleId)),r.createElement("div",null,r.createElement("span",null,this.props.xAxisGeneticEntity.geneticEntityName,":",r.createElement("b",null,e.x.toFixed(2)))),r.createElement("div",null,r.createElement("span",null,this.props.yAxisGeneticEntity.geneticEntityName,":",r.createElement("b",null,e.y.toFixed(2)))),e.mutationsX&&r.createElement("div",null,r.createElement("span",null,this.props.xAxisGeneticEntity.geneticEntityName," ","Mutation:",r.createElement("b",null,e.mutationsX))),e.mutationsY&&r.createElement("div",null,r.createElement("span",null,this.props.yAxisGeneticEntity.geneticEntityName," ","Mutation:",r.createElement("b",null,e.mutationsY))))}},{key:"render",value:function(){return r.createElement("div",{className:"borderedChart inlineBlock","data-test":"CoExpressionPlot"},r.createElement(u.Observer,null,this.toolbar),r.createElement(u.Observer,null,this.plot))}},{key:"stroke",get:function(){return this.props.showMutations?function(e){return Eo(e)?"#d3d3d3":e.mutationsX&&e.mutationsY?"#B40404":e.mutationsX||e.mutationsY?e.mutationsX?"#886A08":"#F7819F":"#0174df"}:"#0174df"}},{key:"fill",get:function(){return this.props.showMutations?function(e){return Eo(e)?"#ffffff":e.mutationsX&&e.mutationsY?"#FF0000":e.mutationsX||e.mutationsY?e.mutationsX?"#DBA901":"#F5A9F2":"#58acfa"}:"#58acfa"}},{key:"mutationLegendElements",get:function(){if(!this.props.showMutations)return[];var e=!1,t=!1,n=!1,r=!1,o=!1,i=!0,a=!1,s=void 0;try{for(var l,c=this.data[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;Eo(u)&&(o=!0),u.mutationsX&&u.mutationsY?e=!0:u.mutationsX||u.mutationsY?u.mutationsX?t=!0:n=!0:r=!0}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}var p=[];return t&&p.push({name:[this.props.xAxisGeneticEntity.geneticEntityName,"mutated"],symbol:{fill:"#DBA901",stroke:"#886A08"}}),n&&p.push({name:[this.props.yAxisGeneticEntity.geneticEntityName,"mutated"],symbol:{fill:"#F5A9F2",stroke:"#F7819F"}}),e&&p.push({name:"Both mutated",symbol:{fill:"#FF0000",stroke:"#B40404"}}),r&&p.push({name:"Neither mutated",symbol:{fill:"#58acfa",stroke:"#0174df"}}),o&&p.push({name:"Not profiled for mutations",symbol:{fill:"#ffffff",stroke:"#d3d3d3"}}),p}},{key:"data",get:function(){return i.a.sortBy(this.props.data,function(e){return e.mutationsX&&e.mutationsY?3:e.mutationsX||e.mutationsY?2:Eo(e)?0:1})}},{key:"title",get:function(){return"".concat(this.props.xAxisGeneticEntity.geneticEntityName," vs. ").concat(this.props.yAxisGeneticEntity.geneticEntityName)}},{key:"axisLabelX",get:function(){return xo({geneticEntityName:this.props.xAxisGeneticEntity.geneticEntityName},this.axisLogScaleFunction,this.props.molecularProfileX.name)}},{key:"axisLabelY",get:function(){return xo({geneticEntityName:this.props.yAxisGeneticEntity.geneticEntityName},this.axisLogScaleFunction,this.props.molecularProfileY.name)}},{key:"axisLogScaleFunction",get:function(){if(this.props.logScale)return{label:"log2",fLogScale:function(e,t){return Math.log2(Math.max(e,.01))},fInvLogScale:function(e){return Math.pow(2,e)}}}}])&&Ao(n.prototype,o),a&&Ao(n,a),t}();No([Jr.bind],Fo.prototype,"getSvg",null),No([p.computed],Fo.prototype,"stroke",null),No([p.computed],Fo.prototype,"fill",null),No([p.computed],Fo.prototype,"mutationLegendElements",null),No([p.computed],Fo.prototype,"data",null),No([p.computed],Fo.prototype,"axisLabelX",null),No([p.computed],Fo.prototype,"axisLabelY",null),No([p.computed],Fo.prototype,"axisLogScaleFunction",null),No([Jr.bind],Fo.prototype,"plot",null),No([Jr.bind],Fo.prototype,"toolbar",null),No([Jr.bind],Fo.prototype,"tooltip",null);var Go=Fo=No([u.observer],Fo),Bo="";function zo(e){return e.map(function(e){return e.proteinChange}).filter(function(e){return!!e}).join(", ")}function Vo(e,t,n,r,o){var i=o[t];return!!i&&Object(Tn.a)(e,i.molecularProfileId,n,r)}var Ho=n(592);function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t,n){return t&&qo(e.prototype,t),n&&qo(e,n),e}function Ko(e,t){return!t||"object"!==Xo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qo(e,t)}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Zo,Jo=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Xo(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.SHOW_ALL=0]="SHOW_ALL",e[e.SHOW_POSITIVE=1]="SHOW_POSITIVE",e[e.SHOW_NEGATIVE=2]="SHOW_NEGATIVE"}(Zo||(Zo={}));var ei=function(e){function t(e,n,r){var o;return Uo(this,t),(o=Ko(this,$o(t).call(this,e))).setHighlighted=r,o.tableMode=Zo.SHOW_ALL,o.dataHighlighter=function(e){var t=n();return!(!t||e.geneticEntityId!==t.geneticEntityId)},o.dataSelector=function(e){var t;switch(o.tableMode){case Zo.SHOW_POSITIVE:t=e.spearmansCorrelation>=0;break;case Zo.SHOW_NEGATIVE:t=e.spearmansCorrelation<=0;break;default:t=!0}return t},o.reactionDisposer=Object(p.autorun)(function(){o.sortMetric&&o.sortedFilteredData.length>0&&!n()&&o.setHighlighted(o.sortedFilteredData[0])}),o}return Yo(t,ko["a"]),Wo(t,[{key:"destroy",value:function(){this.reactionDisposer()}}]),t}();Jo([p.observable],ei.prototype,"tableMode",void 0);var ti=function(e){function t(){var e;return Uo(this,t),(e=Ko(this,$o(t).apply(this,arguments))).allDataRequested=!0,e.coExpressionsWithQValues=Object(S.W)({await:function(){return[e.coExpressionDataPromise]},invoke:function(){var t=e.coExpressionDataPromise.result,n=i.a.sortBy(t,function(e){return e.pValue});return Object(Ho.a)(n.map(function(e){return e.pValue})).forEach(function(e,t){n[t].qValue=e}),Promise.resolve(n)}}),e.dataStore=new ei(function(){return e.props.hidden?e.lastCoExpressionData||[]:e.coExpressionsWithQValues.isComplete?(e.lastCoExpressionData=e.coExpressionsWithQValues.result,e.coExpressionsWithQValues.result):[]},function(){return e.highlightedCoExpression},function(t){e.highlightedCoExpression=t}),e.plotData=Object(S.W)({await:function(){if(e.props.hidden)return[];var t=e.getPlotDataPromises(e.highlightedCoExpression),n=[e.props.coverageInformation,e.props.studyToMutationMolecularProfile,t.molecularX];return t.mutationX&&n.push(t.mutationX),t.molecularY&&n.push(t.molecularY),t.mutationY&&n.push(t.mutationY),n},invoke:function(){if(e.props.hidden)return Promise.resolve([]);if(!e.highlightedCoExpression)return Promise.resolve([]);var t=e.getPlotDataPromises(e.highlightedCoExpression),n=[];t.molecularX&&t.molecularX.isComplete&&(n=n.concat(t.molecularX.result)),t.molecularY&&t.molecularY.isComplete&&(n=n.concat(t.molecularY.result));var r=[];return t.mutationX&&t.mutationX.isComplete&&(r=r.concat(t.mutationX.result)),t.mutationY&&t.mutationY.isComplete&&(r=r.concat(t.mutationY.result)),Promise.resolve(function(e,t,n,r,o,i,a,s){var l={},c={},u={},p={},h={},d=function(e){h[e.uniqueSampleKey]||(h[e.uniqueSampleKey]=e)};if("number"==typeof n){var f=!0,m=!1,y=void 0;try{for(var g,v=t[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;if(b.proteinChange){var S=b.entrezGeneId===n?u:p;S[b.uniqueSampleKey]=S[b.uniqueSampleKey]||[],S[b.uniqueSampleKey].push(b),d(b)}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}}if(e[0]&&void 0!==e[0].entrezGeneId){var w=!0,C=!1,_=void 0;try{for(var k,T=e[Symbol.iterator]();!(w=(k=T.next()).done);w=!0){var x=k.value;(x.entrezGeneId===n?l:c)[x.uniqueSampleKey]=x,d(x)}}catch(e){C=!0,_=e}finally{try{w||null==T.return||T.return()}finally{if(C)throw _}}}else{var E=!0,A=!1,O=void 0;try{for(var P,I=e[Symbol.iterator]();!(E=(P=I.next()).done);E=!0){var M=P.value;(M.genesetId===n.toString()?l:c)[M.uniqueSampleKey]=M,d(M)}}catch(e){A=!0,O=e}finally{try{E||null==I.return||I.return()}finally{if(A)throw O}}}for(var D=[],L=0,N=Object.keys(l);L<N.length;L++){var R=N[L],j=h[R].studyId,F=l[R],G=c[R];if(F&&G){var B=Number(F.value),z=Number(G.value);isNaN(B)||isNaN(z)||D.push({x:B,y:z,mutationsX:zo(u[R]||[]),mutationsY:zo(p[R]||[]),profiledX:"number"==typeof n&&Vo(R,j,o,a,s),profiledY:"number"==typeof r&&Vo(R,j,i,a,s),studyId:j,sampleId:h[R].sampleId})}}return D}(n,r,e.props.geneticEntity.geneticEntityId,isNaN(Number(e.highlightedCoExpression.geneticEntityId))?e.highlightedCoExpression.geneticEntityId:Number(e.highlightedCoExpression.geneticEntityId),e.props.geneticEntity.geneticEntityName,e.highlightedCoExpression.geneticEntityName,e.props.coverageInformation.result,e.props.studyToMutationMolecularProfile.result))}}),e}return Yo(t,r["Component"]),Wo(t,[{key:"onSelectTableMode",value:function(e){this.dataStore.tableMode=e}},{key:"requestAllData",value:function(){this.allDataRequested=!0}},{key:"getPlotDataPromises",value:function(e){var t={molecularX:this.props.profileX.molecularAlterationType===h.a.GENESET_SCORE?this.props.numericGenesetMolecularDataCache.get({genesetId:this.props.geneticEntity.geneticEntityId.toString(),molecularProfileId:this.props.profileX.molecularProfileId}):this.props.numericGeneMolecularDataCache.get({entrezGeneId:parseInt(String(this.props.geneticEntity.geneticEntityId),10),molecularProfileId:this.props.profileX.molecularProfileId}),mutationX:void 0,molecularY:void 0,mutationY:void 0};return e&&(t.molecularY=this.props.profileY.molecularAlterationType===h.a.GENESET_SCORE?this.props.numericGenesetMolecularDataCache.get({genesetId:e.geneticEntityId,molecularProfileId:this.props.profileY.molecularProfileId}):this.props.numericGeneMolecularDataCache.get({entrezGeneId:parseInt(e.geneticEntityId,10),molecularProfileId:this.props.profileY.molecularProfileId})),this.props.mutationCache&&(t.mutationX=this.props.mutationCache.get({entrezGeneId:parseInt(String(this.props.geneticEntity.geneticEntityId),10)}),e&&(t.mutationY=this.props.mutationCache.get({entrezGeneId:parseInt(e.geneticEntityId,10)}))),t}},{key:"table",value:function(){return this.props.profileY.molecularAlterationType!==h.a.GENESET_SCORE?r.createElement("div",null,r.createElement(ho,{referenceGeneticEntity:this.props.geneticEntity.geneticEntityData,dataStore:this.dataStore,tableMode:this.dataStore.tableMode,onSelectTableMode:this.onSelectTableMode}),this.requestAllDataButton):r.createElement("div",null,r.createElement(_o,{referenceGeneticEntity:this.props.geneticEntity.geneticEntityData,dataStore:this.dataStore,tableMode:this.dataStore.tableMode,onSelectTableMode:this.onSelectTableMode}),this.requestAllDataButton)}},{key:"plot",value:function(){if(this.props.hidden)return r.createElement("span",null);if(this.plotData.isError)return r.createElement("span",null,"Error fetching data. Please refresh the page and try again.");var e;if(this.highlightedCoExpression){e={geneticEntityName:this.highlightedCoExpression.geneticEntityName,geneticEntityType:this.highlightedCoExpression.geneticEntityType,geneticEntityId:this.highlightedCoExpression.geneticEntityId,cytoband:this.highlightedCoExpression.cytoband,geneticEntityData:{geneticEntityId:0,entrezGeneId:0,hugoGeneSymbol:"",type:""}}}return r.createElement("div",{style:{position:"relative"}},r.createElement(ke.a,{isLoading:this.dataStore.allData.length>0&&(this.plotData.isPending||!this.highlightedCoExpression),center:!0,size:"big"}),this.plotData.isComplete&&this.highlightedCoExpression&&r.createElement("div",{style:{marginLeft:10}},r.createElement(Go,{xAxisGeneticEntity:this.props.geneticEntity,yAxisGeneticEntity:e,data:this.plotData.result,showLogScaleControls:this.showLogScaleControls,showMutationControls:this.showMutationControls,showMutations:this.plotShowMutations,showRegressionLine:this.props.plotState.plotShowRegressionLine,logScale:this.plotLogScale,handlers:this.props.plotHandlers,molecularProfileY:this.props.profileY,molecularProfileX:this.props.profileX,height:530,width:530})))}},{key:"componentWillUnmount",value:function(){this.dataStore.destroy()}},{key:"render",value:function(){var e=r.createElement("div",{style:{display:!this.props.hidden&&this.coExpressionsWithQValues.isComplete?"inherit":"none"},"data-test":"CoExpressionGeneTabContent"},r.createElement("div",{className:"clearfix"},this.dataStore.allData.length>0?[r.createElement("div",{style:{width:"40%",float:"left",marginTop:6}},r.createElement(u.Observer,null,this.table)),r.createElement("div",{style:{width:"60%",float:"right",marginTop:6}},r.createElement(u.Observer,null,this.plot))]:r.createElement("div",{style:{position:"absolute",top:200,left:"50%",transform:"translate(-50%, 0)"}},"There is no expression data for"," ",r.createElement("strong",null,this.props.geneticEntity.geneticEntityName)," ","with the selected samples in"," ",r.createElement("strong",null,this.props.profileX.name),".")));return r.createElement("div",{style:{display:this.props.hidden?"none":"inherit",minHeight:826,position:"relative"}},e,r.createElement(ke.a,{isLoading:!this.props.hidden&&this.coExpressionsWithQValues.isPending,center:!0,size:"big"}))}},{key:"coExpressionDataPromise",get:function(){return this.props.coExpressionCache.get({geneticEntityId:this.props.geneticEntity.geneticEntityId.toString(),geneticEntityType:this.props.geneticEntity.geneticEntityType,profileX:this.props.profileX,profileY:this.props.profileY,allData:this.allDataRequested})}},{key:"plotShowMutations",get:function(){return this.props.plotState.plotShowMutations&&this.showMutationControls}},{key:"plotLogScale",get:function(){return this.props.plotState.plotLogScale&&this.showLogScaleControls}},{key:"showMutationControls",get:function(){return!!this.props.mutationCache}},{key:"showLogScaleControls",get:function(){var e=this.props.profileX.molecularProfileId.toLowerCase(),t=this.props.profileY.molecularProfileId.toLowerCase();return Object(xn.x)(e)||Object(xn.x)(t)}},{key:"requestAllDataButton",get:function(){return!this.plotData.isComplete||this.dataStore.allData.length||this.allDataRequested?null:r.createElement("div",null,r.createElement("span",{style:{marginRight:5}},(e=this.props.geneticEntity.geneticEntityName,"There are no genes with a Pearson or Spearman correlation with ".concat(e," of").concat(Bo,">").concat(Bo,"0.3").concat(Bo,"or").concat(Bo,"<").concat(Bo,"-0.3."))),r.createElement(qt.Button,{onClick:this.requestAllData},"Load data for all genes."));var e}}]),t}();Jo([p.observable.ref],ti.prototype,"highlightedCoExpression",void 0),Jo([p.observable],ti.prototype,"allDataRequested",void 0),Jo([Jr.bind,p.action],ti.prototype,"onSelectTableMode",null),Jo([Jr.bind,p.action],ti.prototype,"requestAllData",null),Jo([p.computed],ti.prototype,"plotShowMutations",null),Jo([p.computed],ti.prototype,"plotLogScale",null),Jo([p.computed],ti.prototype,"showMutationControls",null),Jo([p.computed],ti.prototype,"showLogScaleControls",null),Jo([Jr.bind],ti.prototype,"table",null),Jo([Jr.bind],ti.prototype,"plot",null);var ni=ti=Jo([u.observer],ti),ri=n(579);function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(e,t){return!t||"object"!==pi(t)&&"function"!=typeof t?si(e):t}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hi=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":pi(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},di=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},fi=function(e){function t(){return ii(this,t),ai(this,li(t).apply(this,arguments))}return ci(t,ri["a"]),t}(),mi=function(e){function t(e){var n;return ii(this,t),(n=ai(this,li(t).call(this,e))).selectedProfileX=Object(S.W)({await:function(){return[n.xProfileOptions]},invoke:function(){return!n._selectedProfileX&&n.xProfileOptions.result.length>0?Promise.resolve(n.xProfileOptions.result[0].value):Promise.resolve(n._selectedProfileX)}}),n.selectedProfileY=Object(S.W)({await:function(){return[n.yProfileOptions]},invoke:function(){return!n._selectedProfileY&&n.yProfileOptions.result.length>0?Promise.resolve(n.yProfileOptions.result[0].value):Promise.resolve(n._selectedProfileY)}}),n.selectedGeneticEntity=Object(S.W)({await:function(){return[n.props.store.geneticEntities]},invoke:function(){return n._selectedGeneticEntity?Promise.resolve(n._selectedGeneticEntity):Promise.resolve(n.props.store.geneticEntities.result[0])}}),n.isSelectedGeneticEntityAGeneSet=Object(S.W)({await:function(){return[n.props.store.geneticEntities]},invoke:function(){if(n._selectedGeneticEntity){var e=!0,t=!1,r=void 0;try{for(var o,i=n.props.store.geneticEntities.result[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;if(a.geneticEntityType===h.c.GENESET&&a.geneticEntityId===n._selectedGeneticEntity.geneticEntityId)return Promise.resolve(!0)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}return Promise.resolve(!1)}}),n.plotState={plotLogScale:!1,plotShowMutations:!0,plotShowRegressionLine:!1},n.xProfileOptions=Object(S.W)({await:function(){return[n.props.store.coexpressionTabMolecularProfiles,n.isSelectedGeneticEntityAGeneSet,n.props.store.molecularProfileIdToProfiledSampleCount]},invoke:function(){var e=[];return e=n.isSelectedGeneticEntityAGeneSet.result?Object(Xr.b)(n.props.store.coexpressionTabMolecularProfiles.result):Object(Xr.a)(n.props.store.coexpressionTabMolecularProfiles.result),Promise.resolve(Object(Xr.c)(e,n.props.store.molecularProfileIdToProfiledSampleCount.result))}}),n.yProfileOptions=Object(S.W)({await:function(){return[n.props.store.coexpressionTabMolecularProfiles,n.props.store.molecularProfileIdToProfiledSampleCount]},invoke:function(){return Promise.resolve(Object(Xr.c)(n.props.store.coexpressionTabMolecularProfiles.result,n.props.store.molecularProfileIdToProfiledSampleCount.result))}}),n.coExpressionCache=new fi(function(e){return{await:function(){return[n.props.store.entrezGeneIdToReferenceGene]},invoke:function(){return di(si(n),void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,s,l,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=.3,e.allData&&(n=0),null==(r=this.createDataQueryFilterForCoExpression(this.props.store.studyToDataQueryFilter.result[e.profileX.studyId],e.geneticEntityId,e.geneticEntityType))){t.next=19;break}return o="www.cbioportal.org"===window.location.hostname?"https://master.cbioportal.org/api":void 0,t.next=7,Wr.a.fetchCoExpressionsUsingPOST({molecularProfileIdA:e.profileX.molecularProfileId,molecularProfileIdB:e.profileY.molecularProfileId,coExpressionFilter:r,threshold:n,$domain:o});case 7:if(a=t.sent,s={},e.profileY.molecularAlterationType!==h.a.GENESET_SCORE){t.next=15;break}return l=i.a.chain(a).map(function(e){return e.geneticEntityId}).uniq().value(),t.next=13,Wr.a.fetchGenesetsUsingPOST({genesetIds:l});case 13:c=t.sent,s=i.a.keyBy(c,function(e){return e.genesetId});case 15:return u=this.props.store.entrezGeneIdToReferenceGene.result||{},t.abrupt("return",Promise.resolve(i.a.reduce(a,function(t,n){var r=void 0,o="-";return e.profileY.molecularAlterationType===h.a.GENESET_SCORE?r=s[n.geneticEntityId].name:void 0!==u[n.geneticEntityId]&&(r=u[n.geneticEntityId].hugoGeneSymbol,o=u[n.geneticEntityId].cytoband),void 0!==r&&t.push(Object.assign({},n,{geneticEntityName:r,cytoband:o})),t},[])));case 19:return t.abrupt("return",Promise.resolve([]));case 20:case"end":return t.stop()}},t,this)}))}}},function(e){return"".concat(e.geneticEntityId,",").concat(e.profileX.molecularProfileId,",").concat(e.profileY.molecularProfileId)}),window.resultsViewCoExpressionTab=si(n),n.plotHandlers={onClickLogScale:Object(p.action)(function(){n.plotState.plotLogScale=!n.plotState.plotLogScale}),onClickShowMutations:Object(p.action)(function(){n.plotState.plotShowMutations=!n.plotState.plotShowMutations}),onClickShowRegressionLine:Object(p.action)(function(){n.plotState.plotShowRegressionLine=!n.plotState.plotShowRegressionLine})},n}var n,o,a;return ci(t,r["Component"]),n=t,(o=[{key:"onSelectProfileX",value:function(e){this._selectedProfileX=e.value}},{key:"onSelectProfileY",value:function(e){this._selectedProfileY=e.value}},{key:"onSelectGeneticEntity",value:function(e){if(!this.props.store.geneticEntities.isComplete)throw new Error("Invalid Genetic Entity");var t=!0,n=!1,r=void 0;try{for(var o,i=this.props.store.geneticEntities.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.geneticEntityId.toString()===e&&(this._selectedGeneticEntity=a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"createDataQueryFilterForCoExpression",value:function(e,t,n){var r=void 0;return n===h.c.GENE?r=Object.assign({},e,{entrezGeneId:parseFloat(t)}):n===h.c.GENESET&&(r=Object.assign({},e,{genesetId:t})),r}},{key:"header",value:function(){return r.createElement("div",{style:{marginBottom:20}},this.profilesSelector)}},{key:"geneTabs",value:function(){if(this.selectedGeneticEntity.isComplete&&this.selectedProfileX.isComplete&&this.selectedProfileY.isComplete&&this.props.store.geneticEntities.isComplete&&this.props.store.coexpressionTabMolecularProfiles.isComplete){var e=[],t=!0,n=!1,o=void 0;try{for(var i,a=this.props.store.geneticEntities.result[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value,l=!0,c=!1,p=void 0;try{for(var d,m=(s.geneticEntityType===h.c.GENE?Object(Xr.a)(this.props.store.coexpressionTabMolecularProfiles.result):Object(Xr.b)(this.props.store.coexpressionTabMolecularProfiles.result))[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var y=d.value,g=!0,v=!1,b=void 0;try{for(var S,w=this.props.store.coexpressionTabMolecularProfiles.result[Symbol.iterator]();!(g=(S=w.next()).done);g=!0){var C=S.value;e.push(r.createElement(ni,{key:"".concat(s.geneticEntityId,",").concat(y.molecularProfileId,",").concat(C.molecularProfileId),coExpressionCache:this.coExpressionCache,geneticEntity:s,profileX:y,profileY:C,numericGeneMolecularDataCache:this.props.store.numericGeneMolecularDataCache,numericGenesetMolecularDataCache:this.props.store.numericGenesetMolecularDataCache,mutationCache:this.hasMutationData?this.props.store.mutationCache:void 0,hidden:y.molecularProfileId!==this.selectedProfileX.result||C.molecularProfileId!==this.selectedProfileY.result||s.geneticEntityId!==this.selectedGeneticEntity.result.geneticEntityId,plotState:this.plotState,plotHandlers:this.plotHandlers,coverageInformation:this.props.store.coverageInformation,studyToMutationMolecularProfile:this.props.store.studyToMutationMolecularProfile}))}}catch(e){v=!0,b=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw b}}}}catch(e){c=!0,p=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw p}}}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return r.createElement("div",null,r.createElement(f.b,{id:"coexpressionTabGeneTabs",activeTabId:this.selectedGeneticEntity.result.geneticEntityId.toString(),onTabClick:this.onSelectGeneticEntity,className:"coexpressionTabGeneTabs pillTabs",unmountOnHide:!0,tabButtonStyle:"pills",enablePagination:!1,arrowStyle:{"line-height":.8}},this.props.store.geneticEntities.result.map(function(e,t){return r.createElement(f.a,{key:t,id:e.geneticEntityId.toString(),linkText:e.geneticEntityName})})),r.createElement(u.Observer,null,this.header),e)}return r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"})}},{key:"render",value:function(){var e=null;e=this.props.store.coexpressionTabMolecularProfiles.isComplete&&this.props.store.coexpressionTabMolecularProfiles.result.length>0?r.createElement("div",null,r.createElement(u.Observer,null,this.geneTabs)):r.createElement("div",{className:"alert alert-info"},"There are no available profiles in the queried studies.");var t=Object(Z.a)(this.props.store.genes,this.props.store.molecularProfileIdToProfiledSampleCount,this.props.store.coexpressionTabMolecularProfiles);return r.createElement("div",{"data-test":"coExpressionTabDiv"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(ue.a,{className:"coexp-oql-status-banner",store:this.props.store,tabReflectsOql:!1}),r.createElement(pe.a,{store:this.props.store,isUnaffected:!0})),"complete"===t&&e,r.createElement(ke.a,{center:!0,size:"big",isLoading:"pending"===t}))}},{key:"hasMutationData",get:function(){return!!i.a.find(this.props.store.molecularProfilesWithData.result,function(e){return e.molecularAlterationType===h.a.MUTATION_EXTENDED})}},{key:"profilesSelector",get:function(){return this.selectedGeneticEntity.isComplete&&this.selectedProfileX.isComplete&&this.selectedProfileY.isComplete&&this.xProfileOptions.isComplete&&this.yProfileOptions.isComplete&&this.props.store.coexpressionTabMolecularProfiles.isComplete&&this.isSelectedGeneticEntityAGeneSet.isComplete?r.createElement("div",null,r.createElement("div",{style:{float:"left",width:"100%",display:"flex",alignItems:"center"}},r.createElement("span",null,"Find"," ",Object(Xr.b)(this.props.store.coexpressionTabMolecularProfiles.result).length>0?"genes/genesets":"genes"," ","in"," "),r.createElement("div",{style:{display:"inline-block",width:376,marginLeft:4,marginRight:4,zIndex:10}},r.createElement(qr.a,{name:"query-profile-select",value:this.selectedProfileY.result,onChange:this.onSelectProfileY,options:this.yProfileOptions.result,searchable:!1,clearable:!1,className:"coexpression-select-query-profile"})),r.createElement("span",null," ","that are correlated with"," ",this.selectedGeneticEntity.result.geneticEntityName," ","in"," "),r.createElement("div",{style:{display:"inline-block",width:376,marginLeft:4,marginRight:4,zIndex:15}},r.createElement(qr.a,{name:"subject-profile-select",value:this.selectedProfileX.result,onChange:this.onSelectProfileX,options:this.xProfileOptions.result,searchable:!1,clearable:!1,disabled:this.isSelectedGeneticEntityAGeneSet.result,className:"coexpression-select-subject-profile"})))):r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"})}}])&&oi(n.prototype,o),a&&oi(n,a),t}();hi([p.observable],mi.prototype,"_selectedProfileX",void 0),hi([p.observable],mi.prototype,"_selectedProfileY",void 0),hi([p.observable],mi.prototype,"_selectedGeneticEntity",void 0),hi([p.observable],mi.prototype,"plotState",void 0),hi([Jr.bind],mi.prototype,"onSelectProfileX",null),hi([Jr.bind],mi.prototype,"onSelectProfileY",null),hi([Jr.bind],mi.prototype,"onSelectGeneticEntity",null),hi([p.computed],mi.prototype,"hasMutationData",null),hi([Jr.bind],mi.prototype,"header",null),hi([Jr.bind],mi.prototype,"geneTabs",null);var yi=mi=hi([u.observer],mi),gi=n(165),vi=n.n(gi),bi=n(866),Si=n(59),wi=n(858),Ci=n(851),_i=n(624);function ki(e,t){window&&(window[e]=t)}var Ti=n(853),xi=n(73),Ei=n(658);function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pi(e,t){return!t||"object"!==Di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mi(e,t){return(Mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Di(e){return(Di="function"==typeof Symbol&&"symbol"===Ai(Symbol.iterator)?function(e){return Ai(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ai(e)})(e)}var Li=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Di(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function Ni(e,t){var n=new h.d(e,t);return ki("resultsViewPageStore",n),Object(p.reaction)(function(){return[n.studyIds,n.oqlText]},function(){n.studyIds.isComplete&&n.oqlText&&Object(Si.h)(n.studyIds.result,n.oqlText,n.hugoGeneSymbols,n.queriedVirtualStudies.result.length>0)}),n}function Ri(e){s()("#oncoprint-result-tab").click(e)}var ji=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pi(this,Ii(t).call(this,e))).showOQLEditor=!1,n.showTabs=!0,n.oqlSubmission="",n.urlWrapper=new _i.b(e.routing),Object(xi.c)(n.urlWrapper),Object(xi.e)(n.urlWrapper),ki("urlWrapper",n.urlWrapper),n.urlWrapper.hasSessionId?Object(It.a)(n.urlWrapper.remoteSessionData,function(){n.resultsViewPageStore=Ni(e.appStore,n.urlWrapper)}):n.resultsViewPageStore=Ni(e.appStore,n.urlWrapper),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mi(e,t)}(t,r["Component"]),n=t,(i=[{key:"handleTabChange",value:function(e,t){this.urlWrapper.updateURL({},"results/".concat(e),!1,t)}},{key:"customTabCallback",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(bi.a)(e,t,Object(S.E)().location.href,this.resultsViewPageStore,n)}},{key:"componentWillUnmount",value:function(){this.resultsViewPageStore.destroy(),this.urlWrapper.destroy()}},{key:"evaluateTabInclusion",value:function(e){var t=ce.b.serverConfig.disabled_tabs||"",n=Object(Wt.b)(t).includes(e.id),r=this.resultsViewPageStore.tabId===e.id,o=!!e.hide&&e.hide();return r||!n&&!o}},{key:"handleQuickOQLSubmission",value:function(){this.showOQLEditor=!1,this.urlWrapper.updateURL({gene_list:this.oqlSubmission})}},{key:"toggleOQLEditor",value:function(){this.showOQLEditor=!this.showOQLEditor}},{key:"getTabHref",value:function(e){return c.a.format({pathname:e,query:this.props.routing.location.query,hash:this.props.routing.location.hash})}},{key:"render",value:function(){var e=this;return this.urlWrapper.isPendingSession||this.urlWrapper.isLoadingSession?r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"}):this.resultsViewPageStore.studies.isComplete&&!this.resultsViewPageStore.tabId?(setTimeout(function(){e.handleTabChange(e.resultsViewPageStore.tabId,!0)}),null):r.createElement(Ur.a,{noMargin:!0,hideFooter:!0,className:"subhead-dark"},this.pageContent)}},{key:"tabs",get:function(){var e=this,t=this.resultsViewPageStore,n=[{id:Wt.a.ONCOPRINT,getTab:function(){return r.createElement(f.a,{key:0,id:Wt.a.ONCOPRINT,linkText:"OncoPrint"},r.createElement(_n,{divId:"oncoprintDiv",store:t,urlWrapper:t.urlWrapper,key:t.hugoGeneSymbols.join(","),addOnBecomeVisibleListener:Ri}))}},{id:Wt.a.CANCER_TYPES_SUMMARY,getTab:function(){return r.createElement(f.a,{key:1,id:Wt.a.CANCER_TYPES_SUMMARY,linkText:"Cancer Types Summary"},r.createElement(d.b,{store:t}))}},{id:Wt.a.MUTUAL_EXCLUSIVITY,getTab:function(){return r.createElement(f.a,{key:5,id:Wt.a.MUTUAL_EXCLUSIVITY,linkText:"Mutual Exclusivity"},r.createElement(Ce.a,{store:t,isSampleAlteredMap:t.isSampleAlteredMap}))},hide:function(){return!e.resultsViewPageStore.isSampleAlteredMap.isComplete||o.size(e.resultsViewPageStore.isSampleAlteredMap.result)<2}},{id:Wt.a.PLOTS,hide:function(){return!e.resultsViewPageStore.studies.isComplete||e.resultsViewPageStore.studies.result.length>1},getTab:function(){return r.createElement(f.a,{key:12,id:Wt.a.PLOTS,linkText:"Plots"},r.createElement(Bn.g,{store:t}))}},{id:Wt.a.MUTATIONS,getTab:function(){return r.createElement(f.a,{key:3,id:Wt.a.MUTATIONS,linkText:"Mutations"},r.createElement(we,{store:t,appStore:e.props.appStore}))}},{id:Wt.a.COEXPRESSION,hide:function(){if(e.resultsViewPageStore.isThereDataForCoExpressionTab.isComplete&&e.resultsViewPageStore.studies.isComplete){var t=e.resultsViewPageStore.studies.result.length>1,n=!e.resultsViewPageStore.isThereDataForCoExpressionTab.result;return t||n}return!0},getTab:function(){return r.createElement(f.a,{key:7,id:Wt.a.COEXPRESSION,linkText:"Co-expression"},r.createElement(yi,{store:t}))}},{id:Wt.a.ENRICHMENTS,hide:function(){return!e.resultsViewPageStore.studies.isComplete},getTab:function(){return r.createElement(f.a,{key:10,id:Wt.a.ENRICHMENTS,linkText:"Enrichments"},r.createElement(Hr,{store:t}))}},{id:Wt.a.SURVIVAL,hide:function(){return!e.resultsViewPageStore.survivalClinicalDataExists.isComplete||!e.resultsViewPageStore.survivalClinicalDataExists.result},getTab:function(){return r.createElement(f.a,{key:4,id:Wt.a.SURVIVAL,linkText:"Survival"},r.createElement(Ue,{store:t}))}},{id:Wt.a.CN_SEGMENTS,hide:function(){return!(e.resultsViewPageStore.studies.isComplete&&e.resultsViewPageStore.genes.isComplete&&e.resultsViewPageStore.referenceGenes.isComplete&&Object(Ke.h)(e.resultsViewPageStore.samples.result))},getTab:function(){return r.createElement(f.a,{key:6,id:Wt.a.CN_SEGMENTS,linkText:"CN Segments"},r.createElement(an,{store:t}))}},{id:Wt.a.NETWORK,hide:function(){return!0},getTab:function(){return r.createElement(f.a,{key:9,id:Wt.a.NETWORK,linkText:"Network"},r.createElement("div",{className:"alert alert-info"},"The Network tab has been retired. For similar functionality, please visit"," ",r.createElement("a",{href:"http://www.pathwaycommons.org/pcviz/",target:"_blank"},"http://www.pathwaycommons.org/pcviz/")))}},{id:Wt.a.EXPRESSION,hide:function(){return 0===e.resultsViewPageStore.expressionProfiles.result.length||e.resultsViewPageStore.studies.result.length<2},getTab:function(){return r.createElement(f.a,{key:8,id:Wt.a.EXPRESSION,linkText:"Expression"},t.studyIdToStudy.isComplete&&t.filteredAndAnnotatedMutations.isComplete&&t.genes.isComplete&&t.coverageInformation.isComplete&&r.createElement(Jn,{store:t,studyMap:t.studyIdToStudy.result,genes:t.genes.result,expressionProfiles:t.expressionProfiles,numericGeneMolecularDataCache:t.numericGeneMolecularDataCache,mutations:t.filteredAndAnnotatedMutations.result,coverageInformation:t.coverageInformation.result}))}},{id:Wt.a.DOWNLOAD,getTab:function(){return r.createElement(f.a,{key:11,id:Wt.a.DOWNLOAD,linkText:"Download"},r.createElement(Ut,{store:t}))}}].filter(this.evaluateTabInclusion).map(function(e){return e.getTab()});if(ce.b.serverConfig.custom_tabs){var i=ce.b.serverConfig.custom_tabs.filter(function(e){return"RESULTS_PAGE"===e.location}).map(function(t,n){return r.createElement(f.a,{key:100+n,id:"customTab"+n,unmountOnHide:!0===t.unmountOnHide,onTabDidMount:function(n){e.customTabCallback(n,t)},onTabUnmount:function(n){e.customTabCallback(n,t,!0)},linkText:t.title})});n=n.concat(i)}return n}},{key:"quickOQLSubmitButtion",get:function(){return r.createElement(r.Fragment,null,r.createElement("button",{className:"btn btn-primary btn-sm",style:{marginLeft:10},onClick:this.handleQuickOQLSubmission},"Submit Query"),"",r.createElement("button",{className:"btn btn-link btn-sm",onClick:this.toggleOQLEditor},"Cancel"))}},{key:"pageContent",get:function(){var e=this;return this.resultsViewPageStore.invalidStudyIds.result.length>0?r.createElement("div",null,r.createElement("div",{className:"headBlock"}),r.createElement(wi.a,{forkedMode:!1,showQuickSearchTab:!1,showDownloadTab:!1,showAlerts:!0,getQueryStore:function(){return Object(Ti.a)(e.urlWrapper.query,e.urlWrapper)}})):r.createElement(r.Fragment,null,this.resultsViewPageStore.isQueryInvalid&&r.createElement("div",{className:"alert alert-danger queryInvalid",style:{marginBottom:"40px"},role:"alert"},r.createElement(Ci.a,{sampleCount:this.resultsViewPageStore.samples.result.length,queryProductLimit:ce.b.serverConfig.query_product_limit,email:ce.b.serverConfig.skin_email_contact})),this.resultsViewPageStore.studies.isPending&&r.createElement(ke.a,{isLoading:!0,center:!0,size:"big"}),this.resultsViewPageStore.studies.isComplete&&r.createElement(r.Fragment,null,r.createElement(vi.a,null,r.createElement("title",null,Object(Ke.d)(this.resultsViewPageStore.hugoGeneSymbols,this.resultsViewPageStore.studies.result))),r.createElement("div",null,r.createElement("div",{className:"headBlock"},r.createElement(kn.a,{routingStore:this.props.routing,store:this.resultsViewPageStore,onToggleQueryFormVisibility:function(t){Object(p.runInAction)(function(){e.showTabs=t,e.showOQLEditor=!1})},onToggleOQLEditUIVisibility:this.toggleOQLEditor}),this.showOQLEditor&&r.createElement("div",{className:"quick_oql_edit"},r.createElement(Ei.b,{inputGeneQuery:this.resultsViewPageStore.oqlText,validateInputGeneQuery:!0,callback:function(){e.oqlSubmission=arguments.length<=2?void 0:arguments[2]},location:Ei.a.DEFAULT,submitButton:this.quickOQLSubmitButtion}))),this.showTabs&&!this.resultsViewPageStore.genesInvalid&&!this.resultsViewPageStore.isQueryInvalid&&r.createElement(f.b,{key:this.urlWrapper.hash,activeTabId:this.resultsViewPageStore.tabId,unmountOnHide:!1,onTabClick:function(t){return e.handleTabChange(t)},className:"mainTabs",getTabHref:this.getTabHref},this.tabs))))}}])&&Oi(n.prototype,i),a&&Oi(n,a),t}();Li([p.observable],ji.prototype,"showOQLEditor",void 0),Li([p.observable],ji.prototype,"showTabs",void 0),Li([m.a],ji.prototype,"customTabCallback",null),Li([p.computed],ji.prototype,"tabs",null),Li([m.a],ji.prototype,"evaluateTabInclusion",null),Li([p.computed],ji.prototype,"quickOQLSubmitButtion",null),Li([m.a,p.action],ji.prototype,"handleQuickOQLSubmission",null),Li([m.a,p.action],ji.prototype,"toggleOQLEditor",null),Li([m.a],ji.prototype,"getTabHref",null),Li([p.observable],ji.prototype,"oqlSubmission",void 0),Li([p.computed],ji.prototype,"pageContent",null),ji=Li([Object(u.inject)("appStore","routing"),u.observer],ji);t.default=ji},,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Se}),n.d(t,"b",function(){return we}),n.d(t,"c",function(){return ge}),n.d(t,"d",function(){return ke});var r,o=n(161),i=n(5),a=n(4),s=n(79),l=n(662),c=n(663),u=n(613),p=n(614),h=n(615),d=n(693),f=n(619),m=n(620),y=n(680),g=n(550),v=n(553),b=n(664),S=n(695),w=n(3),C=n(7),_=n(630),k=n(703),T=n(578),x=n(560),E=n(704),A=n(705),O=n(706),P=n(707),I=n(708),M=n(709),D=n(94),L=n(612),N=n(95),R=n.n(N),j=n(18),F=n.n(j),G=n(670),B=n(598),z=n(564),V=n(579),H=n(586),U=n(16),q=n(47),W=n.n(q),K=n(574),$=n(710),Y=n(167),Q=n(597),X=n(606),Z=n(637),J=n(647),ee=n(636),te=n(711),ne=n(568),re=n(607),oe=n(117),ie=n(595),ae=n(556),se=n(25),le=n(551),ce=n(659),ue=n(687),pe=n(642);function he(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ye,ge,ve=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":me(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},be=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},Se={MUTATION_EXTENDED:"MUTATION_EXTENDED",COPY_NUMBER_ALTERATION:"COPY_NUMBER_ALTERATION",MRNA_EXPRESSION:"MRNA_EXPRESSION",PROTEIN_LEVEL:"PROTEIN_LEVEL",FUSION:"FUSION",GENESET_SCORE:"GENESET_SCORE",METHYLATION:"METHYLATION",GENERIC_ASSAY:"GENERIC_ASSAY",STRUCTURAL_VARIANT:"STRUCTURAL_VARIANT"},we={TREATMENT_RESPONSE:"TREATMENT_RESPONSE"},Ce={COPY_NUMBER_ALTERATION:"CNA",MRNA_EXPRESSION:"EXP",PROTEIN_LEVEL:"PROT",MUTATION_EXTENDED:["MUT","FUSION"]};!function(e){e.w_mut="w_mut",e.w_cna="w_cna",e.w_mut_cna="w_mut_cna"}(ye||(ye={})),function(e){e.GENE="gene",e.GENESET="geneset"}(ge||(ge={}));var _e=(fe(r={},ye.w_mut,"all_cases_with_mutation_data"),fe(r,ye.w_cna,"all_cases_with_cna_data"),fe(r,ye.w_mut_cna,"all_cases_with_mutation_and_cna_data"),r);var ke=function(){function t(n,r){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.appStore=n,this.resultsPageSettingsVisible=!1,this.checkingVirtualStudies=!1,this.urlValidationError=null,this.ajaxErrors=[],this.sessionIdURL="",this.queryFormVisible=!1,this.modifyQueryParams=void 0,this._mutationEnrichmentProfileMap={},this._copyNumberEnrichmentProfileMap={},this._mRNAEnrichmentProfileMap={},this._proteinEnrichmentProfileMap={},this.selectedMutationEnrichmentProfileMap=Object(a.W)({await:function(){return[l.mutationEnrichmentProfiles]},invoke:function(){if(C.isEmpty(l._mutationEnrichmentProfileMap)){var e=C.groupBy(l.mutationEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(C.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._mutationEnrichmentProfileMap)}}),this.selectedCopyNumberEnrichmentProfileMap=Object(a.W)({await:function(){return[l.copyNumberEnrichmentProfiles]},invoke:function(){if(C.isEmpty(l._copyNumberEnrichmentProfileMap)){var e=C.groupBy(l.copyNumberEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(C.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._copyNumberEnrichmentProfileMap)}}),this.selectedmRNAEnrichmentProfileMap=Object(a.W)({await:function(){return[l.mRNAEnrichmentProfiles]},invoke:function(){if(C.isEmpty(l._mRNAEnrichmentProfileMap)){var e=C.groupBy(l.mRNAEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(C.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._mRNAEnrichmentProfileMap)}}),this.selectedProteinEnrichmentProfileMap=Object(a.W)({await:function(){return[l.proteinEnrichmentProfiles]},invoke:function(){if(C.isEmpty(l._proteinEnrichmentProfileMap)){var e=C.groupBy(l.proteinEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(C.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._proteinEnrichmentProfileMap)}}),this.selectedMolecularProfiles=Object(a.W)({await:function(){return[l.studyToMolecularProfiles,l.studies]},invoke:function(){if(l.studies.result.length>1||0===l.selectedMolecularProfileIds.length)return Promise.resolve(Object($.a)(l.studyToMolecularProfiles.result,l.profileFilter));var e=C.keyBy(l.selectedMolecularProfileIds,function(e){return e});return Promise.resolve(l.molecularProfilesInStudies.result.filter(function(t){return t.molecularProfileId in e}))}}),this.clinicalAttributes_profiledIn=Object(a.W)({await:function(){return[l.coverageInformation,l.molecularProfileIdToMolecularProfile,l.selectedMolecularProfiles,l.studyIds]},invoke:function(){return Promise.resolve(Object(J.e)(l.coverageInformation.result.samples,l.molecularProfileIdToMolecularProfile.result,l.selectedMolecularProfiles.result,1===l.studyIds.result.length))}}),this.comparisonGroups=Object(a.W)({await:function(){return[l.studyIds]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.appStore.isLoggedIn){e.next=12;break}return e.prev=2,e.t0=t,e.next=6,ie.a.getGroupsForStudies(this.studyIds.result);case 6:e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.next=12;break;case 10:e.prev=10,e.t2=e.catch(2);case 12:if(!(n=this.urlWrapper.query.clinicallist)){e.next=44;break}r=n.split(",").filter(function(e){return Object(K.b)({clinicalAttributeId:e})}).map(function(e){return Object(J.b)(e,!1)}),o=!0,i=!1,a=void 0,e.prev=18,s=r[Symbol.iterator]();case 20:if(o=(l=s.next()).done){e.next=30;break}return c=l.value,e.t3=t,e.next=25,ie.a.getGroup(c);case 25:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 27:o=!0,e.next=20;break;case 30:e.next=36;break;case 32:e.prev=32,e.t5=e.catch(18),i=!0,a=e.t5;case 36:e.prev=36,e.prev=37,o||null==s.return||s.return();case 39:if(e.prev=39,!i){e.next=42;break}throw a;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",t);case 45:case"end":return e.stop()}},e,this,[[2,10],[18,32,36,44],[37,,39,43]])}))}}),this.clinicalAttributes_comparisonGroupMembership=Object(a.W)({await:function(){return[l.comparisonGroups]},invoke:function(){return Promise.resolve(Object(J.d)(l.comparisonGroups.result))}}),this.alterationsBySelectedMolecularProfiles=Object(a.W)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=l.selectedMolecularProfiles.result,t=[];return e.forEach(function(e){switch(e.molecularAlterationType){case Se.COPY_NUMBER_ALTERATION:t.push(Ce.COPY_NUMBER_ALTERATION);break;case Se.MRNA_EXPRESSION:t.push(Ce.MRNA_EXPRESSION);break;case Se.PROTEIN_LEVEL:t.push(Ce.PROTEIN_LEVEL);break;case Se.MUTATION_EXTENDED:Ce.MUTATION_EXTENDED.forEach(function(e){return t.push(e)})}}),Promise.resolve(C.uniq(t))}}),this.selectedMolecularProfileIdsByAlterationType=Object(a.W)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=l.selectedMolecularProfiles.result;return Promise.resolve(C.groupBy(e,"molecularAlterationType"))}}),this.clinicalAttributes=Object(a.W)({await:function(){return[l.studyIds,l.clinicalAttributes_profiledIn,l.clinicalAttributes_comparisonGroupMembership,l.samples,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.fetchClinicalAttributesUsingPOST({studyIds:this.studyIds.result});case 2:return t=e.sent,n=[{clinicalAttributeId:K.a.MutationSpectrum,datatype:"COUNTS_MAP",description:"Number of point mutations in the sample counted by different types of nucleotide changes.",displayName:"Mutation spectrum",patientAttribute:!1,studyId:"",priority:"0"}],this.studyIds.result.length>1&&n.push({clinicalAttributeId:K.a.StudyOfOrigin,datatype:"STRING",description:"Study which the sample is a part of.",displayName:"Study of origin",patientAttribute:!1,studyId:"",priority:"0"}),this.samples.result.length!==this.patients.result.length&&n.push({clinicalAttributeId:K.a.NumSamplesPerPatient,datatype:"NUMBER",description:"Number of queried samples for each patient.",displayName:"# Samples per Patient",patientAttribute:!0}),e.abrupt("return",t.concat(n).concat(this.clinicalAttributes_profiledIn.result).concat(this.clinicalAttributes_comparisonGroupMembership.result));case 7:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributeIdToClinicalAttribute=Object(a.W)({await:function(){return[l.clinicalAttributes]},invoke:function(){return Promise.resolve(C.keyBy(l.clinicalAttributes.result,"clinicalAttributeId"))}}),this.clinicalAttributeIdToAvailableSampleCount=Object(a.W)({await:function(){return[l.samples,l.studies,l.clinicalAttributes,l.studyToDataQueryFilter,l.clinicalAttributes_profiledIn,l.clinicalAttributes_comparisonGroupMembership]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,_,k,T,x,E,A,O,P,I,M;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1===this.studies.result.length?(n=this.studies.result[0].studyId,r=this.studyToDataQueryFilter.result[n],t=r.sampleListId?{sampleListId:r.sampleListId}:{sampleIdentifiers:r.sampleIds.map(function(e){return{sampleId:e,studyId:n}})}):t={sampleIdentifiers:this.samples.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}})},e.next=3,o.a.getClinicalAttributeCountsUsingPOST({clinicalAttributeCountFilter:t});case 3:for(i=e.sent,a=C.reduce(i,function(e,t){return e[t.clinicalAttributeId]=e[t.clinicalAttributeId]||0,e[t.clinicalAttributeId]+=t.count,e},{}),s=!0,l=!1,c=void 0,e.prev=8,u=this.clinicalAttributes.result[Symbol.iterator]();!(s=(p=u.next()).done);s=!0)(h=p.value).clinicalAttributeId in a||(a[h.clinicalAttributeId]=0);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),l=!0,c=e.t0;case 16:e.prev=16,e.prev=17,s||null==u.return||u.return();case 19:if(e.prev=19,!l){e.next=22;break}throw c;case 22:return e.finish(19);case 23:return e.finish(16);case 24:for(a[K.a.NumSamplesPerPatient]=this.samples.result.length,a[K.a.StudyOfOrigin]=this.samples.result.length,d=0,0,f=!0,m=!1,y=void 0,e.prev=30,g=this.samples.result[Symbol.iterator]();!(f=(v=g.next()).done);f=!0)b=v.value,d+=+!!b.sequenced,+!!b.copyNumberSegmentPresent;e.next=38;break;case 34:e.prev=34,e.t1=e.catch(30),m=!0,y=e.t1;case 38:e.prev=38,e.prev=39,f||null==g.return||g.return();case 41:if(e.prev=41,!m){e.next=44;break}throw y;case 44:return e.finish(41);case 45:return e.finish(38);case 46:for(a[K.a.MutationSpectrum]=d,S=!0,w=!1,_=void 0,e.prev=50,k=this.clinicalAttributes_profiledIn.result[Symbol.iterator]();!(S=(T=k.next()).done);S=!0)x=T.value,a[x.clinicalAttributeId]=this.samples.result.length;e.next=58;break;case 54:e.prev=54,e.t2=e.catch(50),w=!0,_=e.t2;case 58:e.prev=58,e.prev=59,S||null==k.return||k.return();case 61:if(e.prev=61,!w){e.next=64;break}throw _;case 64:return e.finish(61);case 65:return e.finish(58);case 66:for(E=!0,A=!1,O=void 0,e.prev=69,P=this.clinicalAttributes_comparisonGroupMembership.result[Symbol.iterator]();!(E=(I=P.next()).done);E=!0)M=I.value,a[M.clinicalAttributeId]=Object(ae.r)(M.comparisonGroup.data);e.next=77;break;case 73:e.prev=73,e.t3=e.catch(69),A=!0,O=e.t3;case 77:e.prev=77,e.prev=78,E||null==P.return||P.return();case 80:if(e.prev=80,!A){e.next=83;break}throw O;case 83:return e.finish(80);case 84:return e.finish(77);case 85:return e.abrupt("return",a);case 86:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23],[30,34,38,46],[39,,41,45],[50,54,58,66],[59,,61,65],[69,73,77,85],[78,,80,84]])}))}}),this.cnSegments=Object(a.W)({await:function(){return[l.samples]},invoke:function(){return Object(g.o)(l.samples.result)}},[]),this.cnSegmentsByChromosome=Object(a.W)({await:function(){return[l.genes,l.samples,l.referenceGenes]},invoke:function(){var e=C.uniq(l.referenceGenes.result.map(function(e){return e.chromosome}));return Promise.resolve(e.reduce(function(e,t){return e[t]=Object(a.W)({invoke:function(){return Object(g.o)(l.samples.result,t)}}),e},{}))}},{}),this.molecularData=Object(a.W)({await:function(){return[l.studyToDataQueryFilter,l.genes,l.selectedMolecularProfiles,l.samples]},invoke:function(){var e=Object(z.i)(l.selectedMolecularProfiles.result),t=l.genes.result;if(e.length&&null!=t&&t.length){var n=[];if(e.forEach(function(e){l.samples.result.forEach(function(t){t.studyId===e.studyId&&n.push({molecularProfileId:e.molecularProfileId,sampleId:t.sampleId})})}),n.length)return o.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:C.map(l.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:n}})}return Promise.resolve([])}}),this.nonQueriedMolecularData=Object(a.W)({await:function(){return[l.studyToDataQueryFilter,l.genes,l.nonSelectedMolecularProfiles,l.samples]},invoke:function(){var e=Object(z.i)(l.nonSelectedMolecularProfiles.result),t=l.genes.result;if(e.length&&null!=t&&t.length){var n=C.groupBy(e,function(e){return e.studyId}),r=l.samples.result.filter(function(e){return e.studyId in n}).reduce(function(e,t){return e=e.concat(n[t.studyId].map(function(e){return{molecularProfileId:e.molecularProfileId,sampleId:t.sampleId}}))},[]);if(r.length)return o.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:C.map(l.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:r}})}return Promise.resolve([])}}),this.coexpressionTabMolecularProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(Q.d)(Object(Q.a)(l.molecularProfilesInStudies.result).concat(Object(Q.b)(l.molecularProfilesInStudies.result))))}}),this.isThereDataForCoExpressionTab=Object(a.W)({await:function(){return[l.molecularProfilesInStudies,l.genes,l.samples]},invoke:function(){var e=Object(Q.a)(l.molecularProfilesInStudies.result),t=C.groupBy(e,"studyId"),n=C.flatten(l.samples.result.map(function(e){var n=t[e.studyId];return n?n.map(function(t){return{molecularProfileId:t.molecularProfileId,sampleId:e.sampleId}}):[]})),r=l.genes.result.map(function(e){return e.entrezGeneId});return n.length>0&&r.length>0?o.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOSTWithHttpInfo({molecularDataMultipleStudyFilter:{entrezGeneIds:r,sampleMolecularIdentifiers:n},projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)>0}):Promise.resolve(!1)}}),this.remoteNgchmUrl=Object(a.W)({await:function(){return[l.studyIds]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",1!==this.studyIds.result.length){e.next=12;break}return n={studyid:this.studyIds.result[0],format:"json"},e.prev=3,e.next=6,F.a.get("https://bioinformatics.mdanderson.org/study2url").timeout(3e4).query(n);case 6:r=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:r&&r.body.fileContent&&(o=JSON.parse(r.body.fileContent.trimEnd())).length>=1&&(t="https://bioinformatics.mdanderson.org/TCGA/NGCHMPortal?"+o[0]);case 12:return e.abrupt("return",Promise.resolve(t));case 13:case"end":return e.stop()}},e,this,[[3,9]])}))}}),this.molecularProfilesWithData=Object(a.W)({await:function(){return[l.molecularProfilesInStudies,l.studyToDataQueryFilter,l.genes,l.genesets,l.treatmentsInStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a,s,l,c,u,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],r=this.studyToDataQueryFilter.result,i=!0,a=!1,s=void 0,e.prev=6,l=function(){var e=u.value,i=r[e.studyId];if(!i||!i.sampleIds&&!i.sampleListId)return"continue";var a=e.molecularProfileId,s=Object.assign({entrezGeneIds:p.genes.result.map(function(e){return e.entrezGeneId})},i);e.molecularAlterationType===Se.MUTATION_EXTENDED?n.push(o.a.fetchMutationsInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:a,mutationFilter:s,projection:"META"}).then(function(n){parseInt(n.header["sample-count"],10)>0&&t.push(e)})):e.molecularAlterationType===Se.GENESET_SCORE||e.molecularAlterationType===Se.GENERIC_ASSAY?t.push(e):n.push(o.a.fetchAllMolecularDataInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:a,molecularDataFilter:s,projection:"META"}).then(function(n){parseInt(n.header["total-count"],10)>0&&t.push(e)}))},c=this.molecularProfilesInStudies.result[Symbol.iterator]();case 9:if(i=(u=c.next()).done){e.next=16;break}if("continue"!==l()){e.next=13;break}return e.abrupt("continue",13);case 13:i=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),a=!0,s=e.t0;case 22:e.prev=22,e.prev=23,i||null==c.return||c.return();case 25:if(e.prev=25,!a){e.next=28;break}throw s;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.next=32,Promise.all(n);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}},e,this,[[6,18,22,30],[23,,25,29]])}))}}),this.nonOqlFilteredAlterations=Object(a.W)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.entrezGeneIdToGene]},invoke:function(){var e=new T.b(l.selectedMolecularProfiles.result),t=l.entrezGeneIdToGene.result,n=[];return n=(n=n.concat(l.filteredAndAnnotatedMutations.result)).concat(l.filteredAndAnnotatedMolecularData.result),Promise.resolve(n.map(function(n){var r=Object(ee.a)(n,e);return r.hugoGeneSymbol=t[n.entrezGeneId].hugoGeneSymbol,r.molecularProfileAlterationType=e.molecularAlterationType(n.molecularProfileId),r}))}}),this.oqlFilteredMutationsReport=Object(a.W)({await:function(){return[l._filteredAndAnnotatedMutationsReport,l.selectedMolecularProfiles,l.defaultOQLQuery]},invoke:function(){return Promise.resolve(C.mapValues(l._filteredAndAnnotatedMutationsReport.result,function(e){return Object(x.c)(l.oqlText,e,new T.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result)}))}}),this.oqlFilteredMolecularDataReport=Object(a.W)({await:function(){return[l._filteredAndAnnotatedMolecularDataReport,l.selectedMolecularProfiles,l.defaultOQLQuery]},invoke:function(){return Promise.resolve(C.mapValues(l._filteredAndAnnotatedMolecularDataReport.result,function(e){return Object(x.c)(l.oqlText,e,new T.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result)}))}}),this.oqlFilteredAlterations=Object(a.W)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.defaultOQLQuery]},invoke:function(){if(""!=l.oqlText.trim()){var e=[];return e=(e=e.concat(l.filteredAndAnnotatedMutations.result)).concat(l.filteredAndAnnotatedMolecularData.result),Promise.resolve(Object(x.c)(l.oqlText,e,new T.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result))}return Promise.resolve([])}}),this.oqlFilteredCaseAggregatedData=Object(a.W)({await:function(){return[l.oqlFilteredAlterations,l.samples,l.patients]},invoke:function(){return Promise.resolve({samples:Object(g.T)(l.oqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},l.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(g.T)(l.oqlFilteredAlterations.result,function(e){return e.uniquePatientKey},l.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.nonOqlFilteredCaseAggregatedData=Object(a.W)({await:function(){return[l.nonOqlFilteredAlterations,l.samples,l.patients]},invoke:function(){return Promise.resolve({samples:Object(g.T)(l.nonOqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},l.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(g.T)(l.nonOqlFilteredAlterations.result,function(e){return e.uniquePatientKey},l.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine=Object(a.W)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.defaultOQLQuery,l.samples,l.patients]},invoke:function(){var e=[].concat(he(l.filteredAndAnnotatedMutations.result),he(l.filteredAndAnnotatedMolecularData.result)),t=new T.b(l.selectedMolecularProfiles.result),n=l.defaultOQLQuery.result,r=l.samples.result,o=l.patients.result;if(""===l.oqlText.trim())return Promise.resolve([]);var i=Object(x.e)(l.oqlText,e,t,n);return Promise.resolve(i.map(function(i){return{cases:Object(z.s)(i,r,o),oql:i,mergedTrackOqlList:Object(z.m)(i,n,e,t,r,o)}}))}}),this.isSampleAlteredMap=Object(a.W)({await:function(){return[l.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,l.samples,l.coverageInformation,l.selectedMolecularProfiles,l.studyToMolecularProfiles]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(z.q)(this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result,this.samples.result,this.oqlText,this.coverageInformation.result,this.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId}),this.studyToMolecularProfiles.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.oqlFilteredCaseAggregatedDataByOQLLine=Object(a.W)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.defaultOQLQuery,l.samples,l.patients]},invoke:function(){if(""===l.oqlText.trim())return Promise.resolve([]);var e=Object(x.d)(l.oqlText,[].concat(he(l.filteredAndAnnotatedMutations.result),he(l.filteredAndAnnotatedMolecularData.result)),new T.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result);return Promise.resolve(e.map(function(e){return{cases:Object(z.s)(e,l.samples.result,l.patients.result),oql:e}}))}}),this.studyToMolecularProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(C.groupBy(l.molecularProfilesInStudies.result,function(e){return e.studyId}))}}),this.coverageInformation=Object(a.W)({await:function(){return[l.studyToMolecularProfiles,l.genes,l.samples,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.samples.result.forEach(function(e){var n=a.studyToMolecularProfiles.result[e.studyId];if(n){var r=e.sampleId,o=!0,i=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;t.push({molecularProfileId:u.molecularProfileId,sampleId:r})}}catch(e){i=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}}}),!t.length||!this.genes.result.length){e.next=8;break}return e.next=5,o.a.fetchGenePanelDataInMultipleMolecularProfilesUsingPOST({sampleMolecularIdentifiers:t});case 5:n=e.sent,e.next=9;break;case 8:n=[];case 9:if(r=C.uniq(n.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),i=[],!r.length){e.next=15;break}return e.next=14,o.a.fetchGenePanelsUsingPOST({genePanelIds:r,projection:"DETAILED"});case 14:i=e.sent;case 15:return e.abrupt("return",Object(z.g)(n,i,this.samples.result,this.patients.result,this.genes.result));case 16:case"end":return e.stop()}},e,this)}))}},{samples:{},patients:{}}),this.sequencedSampleKeys=Object(a.W)({await:function(){return[l.samples,l.coverageInformation,l.selectedMolecularProfiles]},invoke:function(){var e=l.coverageInformation.result,t=l.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(C.chain(l.samples.result).filter(function(n){return C.some(Object(H.b)(n.uniqueSampleKey,t,e))}).map(function(e){return e.uniqueSampleKey}).value())}}),this.sequencedPatientKeys=Object(a.W)({await:function(){return[l.sampleKeyToSample,l.sequencedSampleKeys]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",C.chain(this.sequencedSampleKeys.result).map(function(e){return t[e].uniquePatientKey}).uniq().value());case 2:case"end":return e.stop()}},e,this)}))}}),this.sequencedSampleKeysByGene=Object(a.W)({await:function(){return[l.samples,l.genes,l.coverageInformation,l.selectedMolecularProfiles]},invoke:function(){var e=l.coverageInformation.result,t=l.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(l.genes.result.reduce(function(n,r){return n[r.hugoGeneSymbol]=l.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(n){return C.some(Object(H.b)(n,t,e,r.hugoGeneSymbol))}),n},{}))}}),this.existUnsequencedSamplesInAGene=Object(a.W)({await:function(){return[l.samples,l.sequencedSampleKeysByGene]},invoke:function(){var e=l.samples.result.length;return Promise.resolve(C.some(l.sequencedSampleKeysByGene.result,function(t){return t.length<e}))}}),this.sequencedPatientKeysByGene=Object(a.W)({await:function(){return[l.sampleKeyToSample,l.sequencedSampleKeysByGene]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",C.mapValues(this.sequencedSampleKeysByGene.result,function(e){return C.chain(e).map(function(e){return t[e].uniquePatientKey}).uniq().value()}));case 2:case"end":return e.stop()}},e,this)}))}}),this.alteredSampleKeys=Object(a.W)({await:function(){return[l.samples,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result.samples;return Promise.resolve(l.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return e[t].length>0}))}}),this.alteredSamples=Object(a.W)({await:function(){return[l.sampleKeyToSample,l.alteredSampleKeys]},invoke:function(){return Promise.resolve(l.alteredSampleKeys.result.map(function(e){return l.sampleKeyToSample.result[e]}))}},[]),this.alteredPatients=Object(a.W)({await:function(){return[l.patients,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result;return Promise.resolve(l.patients.result.filter(function(t){return!!e.patients[t.uniquePatientKey].length}))}}),this.alteredPatientKeys=Object(a.W)({await:function(){return[l.alteredPatients]},invoke:function(){return Promise.resolve(l.alteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredSampleKeys=Object(a.W)({await:function(){return[l.samples,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result;return Promise.resolve(l.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return!e.samples[t].length}))}}),this.unalteredSamples=Object(a.W)({await:function(){return[l.sampleKeyToSample,l.unalteredSampleKeys]},invoke:function(){var e=[];return l.unalteredSampleKeys.result.forEach(function(t){return e.push(l.sampleKeyToSample.result[t])}),Promise.resolve(e)}},[]),this.unalteredPatientKeys=Object(a.W)({await:function(){return[l.unalteredPatients]},invoke:function(){return Promise.resolve(l.unalteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredPatients=Object(a.W)({await:function(){return[l.patients,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result;return Promise.resolve(l.patients.result.filter(function(t){return!e.patients[t.uniquePatientKey].length}))}}),this.oqlFilteredAlterationsByGene=Object(a.W)({await:function(){return[l.genes,l.oqlFilteredAlterations]},invoke:function(){var e=C.groupBy(l.oqlFilteredAlterations.result,function(e){return e.gene.hugoGeneSymbol}),t=l.genes.result.reduce(function(t,n){return t[n.hugoGeneSymbol]=e[n.hugoGeneSymbol],t},{});return Promise.resolve(t)}}),this.defaultOQLQuery=Object(a.W)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=C.uniq(C.map(l.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType}));return Promise.resolve(function(e,t,n){for(var r={},o=0;o<e.length;o++)switch(e[o]){case"MUTATION_EXTENDED":r.MUT=!0,r.FUSION=!0;break;case"COPY_NUMBER_ALTERATION":r.AMP=!0,r.HOMDEL=!0;break;case"MRNA_EXPRESSION":r["EXP>="+t]=!0,r["EXP<=-"+t]=!0;break;case"PROTEIN_LEVEL":r["PROT>="+n]=!0,r["PROT<=-"+n]=!0}return Object.keys(r).join(" ")}(e,l.zScoreThreshold,l.rppaScoreThreshold))}}),this.samplesByDetailedCancerType=Object(a.W)({await:function(){return[l.samples,l.clinicalDataForSamples]},invoke:function(){var e=l.groupSamplesByCancerType(l.clinicalDataForSamples.result,l.samples.result,"CANCER_TYPE");return 1===C.size(e)&&(e=l.groupSamplesByCancerType(l.clinicalDataForSamples.result,l.samples.result,"CANCER_TYPE_DETAILED")),Promise.resolve(e)}}),this.samplesExtendedWithClinicalData=Object(a.W)({await:function(){return[l.samples,l.clinicalDataForSamples,l.studies]},invoke:function(){return Promise.resolve((e=l.samples.result,t=l.clinicalDataForSamples.result,n=l.studies.result,r=C.groupBy(t,function(e){return e.uniqueSampleKey}),o=e.map(function(e){var t=r[e.uniqueSampleKey];return t&&t.forEach(function(t){switch(t.clinicalAttributeId){case"CANCER_TYPE_DETAILED":e.cancerTypeDetailed=t.value;break;case"CANCER_TYPE":e.cancerType=t.value}}),e}),i=C.keyBy(n,function(e){return e.studyId}),o.forEach(function(e){if(!e.cancerType){var t=i[e.studyId];e.cancerType=t?t.cancerType.name:"Unknown"}e.cancerType&&!e.cancerTypeDetailed&&(e.cancerTypeDetailed=e.cancerType)}),o));var e,t,n,r,o,i}}),this.oqlFilteredAlterationsByGeneBySampleKey=Object(a.W)({await:function(){return[l.oqlFilteredAlterationsByGene,l.samples]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.mapValues(this.oqlFilteredAlterationsByGene.result,function(e){return C.groupBy(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.studyWithSamples=Object(a.W)({await:function(){return[l.samples,l.queriedStudies,l.queriedVirtualStudies]},invoke:function(){return Promise.resolve(Object(le.L)(l.samples.result,l.queriedStudies.result,l.queriedVirtualStudies.result))},onError:function(e){},default:[]}),this.mutationProfiles=Object(a.W)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaProfiles=Object(a.W)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"COPY_NUMBER_ALTERATION"===e.molecularAlterationType&&"DISCRETE"===e.datatype}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.virtualStudyParams=Object(a.W)({await:function(){return[l.samples,l.studyIds,l.studyWithSamples,l.queriedVirtualStudies]},invoke:function(){return Promise.resolve({user:l.appStore.userName,name:1===l.queriedVirtualStudies.result.length?l.queriedVirtualStudies.result[0].data.name:void 0,description:1===l.queriedVirtualStudies.result.length?l.queriedVirtualStudies.result[0].data.description:void 0,studyWithSamples:l.studyWithSamples.result,selectedSamples:l.samples.result,filter:{studyIds:l.studyIds.result},attributesMetaSet:l.chartMetaSet})}}),this.oqlFilteredAlterationsByGeneAsSampleKeyArrays=Object(a.W)({await:function(){return[l.oqlFilteredAlterationsByGene]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.mapValues(this.oqlFilteredAlterationsByGene.result,function(e){return C.map(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.givenSampleOrder=Object(a.W)({await:function(){return[l.samples,l.samplesSpecification]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.samplesSpecification.result.find(function(e){return!e.sampleId})){e.next=2;break}return e.abrupt("return",[]);case 2:return t=C.reduce(this.samplesSpecification.result,function(e,t,n){return e[t.studyId]=e[t.studyId]||{},e[t.studyId][t.sampleId]=n,e},{}),e.abrupt("return",C.sortBy(this.samples.result,function(e){return t[e.studyId][e.sampleId]}));case 4:case"end":return e.stop()}},e,this)}))}}),this.studyToSampleIds=Object(a.W)({await:function(){return[l.samplesSpecification]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,s,l,c,u,p,h,d,f,m,y,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n={},r=!0,i=!1,s=void 0,e.prev=5,l=this.samplesSpecification.result[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)(u=c.value).sampleId?(n[u.studyId]=n[u.studyId]||{},n[u.studyId][u.sampleId]=!0):u.sampleListId&&t.push(u);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),i=!0,s=e.t0;case 13:e.prev=13,e.prev=14,r||null==l.return||l.return();case 16:if(e.prev=16,!i){e.next=19;break}throw s;case 19:return e.finish(16);case 20:return e.finish(13);case 21:if(!(t.length>0)){e.next=44;break}return e.next=24,o.a.fetchSampleListsUsingPOST({sampleListIds:t.map(function(e){return e.sampleListId}),projection:"DETAILED"});case 24:for(p=e.sent,h=!0,d=!1,f=void 0,e.prev=28,m=p[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)g=y.value,n[g.studyId]=Object(a.cb)(g.sampleIds);e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),d=!0,f=e.t1;case 36:e.prev=36,e.prev=37,h||null==m.return||m.return();case 39:if(e.prev=39,!d){e.next=42;break}throw f;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",n);case 45:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20],[28,32,36,44],[37,,39,43]])}))}},{}),this.studyToSampleListId=Object(a.W)({await:function(){return[l.samplesSpecification]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.samplesSpecification.result.reduce(function(e,t){return t.sampleListId&&(e[t.studyId]=t.sampleListId),e},{}));case 1:case"end":return e.stop()}},e,this)}))}}),this.samplesSpecification=Object(a.W)({await:function(){return[l.queriedVirtualStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sampleListCategory){e.next=8;break}if(!(this.queriedVirtualStudies.result.length>0)){e.next=5;break}return e.abrupt("return",Object(Y.d)(this.samplesSpecificationParams,this.queriedVirtualStudies.result));case 5:return e.abrupt("return",this.samplesSpecificationParams);case 6:e.next=17;break;case 8:return t=[],t=this.queriedVirtualStudies.result.length>0?Object(Y.d)(this.samplesSpecificationParams,this.queriedVirtualStudies.result):this.samplesSpecificationParams,n=C.chain(t).map(function(e){return e.studyId}).uniq().value(),e.next=13,Promise.all(n.map(function(e){return o.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"SUMMARY"})}));case 13:return r=e.sent,i=_e[this.sampleListCategory],a=r.reduce(function(e,t){var n=C.find(t,function(e){return e.category===i});return n&&e.push({studyId:n.studyId,sampleListId:n.sampleListId,sampleId:void 0}),e},[]),e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)}))}}),this.studyToMutationMolecularProfile=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=l.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.studyId;!e[s]&&Object(g.W)(a)&&(e[s]=a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}},{}),this.allStudies=Object(a.W)({invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getAllStudiesUsingGET({projection:"SUMMARY"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}},[]),this.queriedVirtualStudies=Object(a.W)({await:function(){return[l.allStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,s,l,c,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.allStudies.result,n=this.cancerStudyIds,r=C.differenceWith(n,t,function(e,t){return e===t.studyId}),o=[],i=!0,a=!1,s=void 0,e.prev=7,l=r[Symbol.iterator]();case 9:if(i=(c=l.next()).done){e.next=24;break}return u=c.value,e.prev=11,e.next=14,oe.a.getVirtualStudy(u);case 14:p=e.sent,o=o.concat(p),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("continue",21);case 21:i=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(7),a=!0,s=e.t1;case 30:e.prev=30,e.prev=31,i||null==l.return||l.return();case 33:if(e.prev=33,!a){e.next=36;break}throw s;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",Promise.resolve(o));case 39:case"end":return e.stop()}},e,this,[[7,26,30,38],[11,18],[31,,33,37]])}))},onError:function(){}},[]),this.studyIds=Object(a.W)({await:function(){return[l.queriedVirtualStudies]},invoke:function(){var e;return e=l.queriedVirtualStudies.result.length>0?Object(Y.e)(l.cancerStudyIds,l.queriedVirtualStudies.result):l.cancerStudyIds.slice(),Promise.resolve(e)}},[]),this.invalidStudyIds=Object(a.W)({await:function(){return[l.allStudies,l.queriedVirtualStudies]},invoke:function(){var e=l.allStudies.result,t=l.cancerStudyIds,n=C.differenceWith(t,e,function(e,t){return e===t.studyId});return n.length&&0===l.queriedVirtualStudies.result.length?Promise.resolve(n):Promise.resolve([])}},[]),this.sampleLists=Object(a.W)({await:function(){return[l.studyToSampleListId]},invoke:function(){var e=C.values(l.studyToSampleListId.result);return e.length>0?o.a.fetchSampleListsUsingPOST({sampleListIds:e}):Promise.resolve([])}}),this.mutations=Object(a.W)({await:function(){return[l.genes,l.selectedMolecularProfiles,l.samples,l.studyIdToStudy]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=C.filter(this.selectedMolecularProfiles.result,function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType})).length){e.next=3;break}return e.abrupt("return",[]);case 3:return n=C.keyBy(t,function(e){return e.studyId}),r=this.samples.result.reduce(function(e,t){return t.studyId in n&&e.push({molecularProfileId:n[t.studyId].molecularProfileId,sampleId:t.sampleId}),e},[]),i={entrezGeneIds:C.map(this.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:r},e.next=8,o.a.fetchMutationsInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",mutationMultipleStudyFilter:i});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}))}}),this.mutationsTabFilteringSettings=this.makeMutationsTabFilteringSettings(),this.mutationsReportByGene=Object(a.W)({await:function(){return[l._filteredAndAnnotatedMutationsReport,l.genes]},invoke:function(){var e=l._filteredAndAnnotatedMutationsReport.result,t={},n=!0,r=!1,o=void 0;try{for(var i,a=l.genes.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){t[i.value.hugoGeneSymbol]={data:[],vus:[],germline:[],vusAndGermline:[]}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=!0,c=!1,u=void 0;try{for(var p,h=e.data[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var d=p.value;t[d.gene.hugoGeneSymbol].data.push(d)}}catch(e){c=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw u}}var f=!0,m=!1,y=void 0;try{for(var g,v=e.vus[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;t[b.gene.hugoGeneSymbol].vus.push(b)}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}var S=!0,w=!1,C=void 0;try{for(var _,k=e.germline[Symbol.iterator]();!(S=(_=k.next()).done);S=!0){var T=_.value;t[T.gene.hugoGeneSymbol].germline.push(T)}}catch(e){w=!0,C=e}finally{try{S||null==k.return||k.return()}finally{if(w)throw C}}var x=!0,E=!1,A=void 0;try{for(var O,P=e.vusAndGermline[Symbol.iterator]();!(x=(O=P.next()).done);x=!0){var I=O.value;t[I.gene.hugoGeneSymbol].vusAndGermline.push(I)}}catch(e){E=!0,A=e}finally{try{x||null==P.return||P.return()}finally{if(E)throw A}}return Promise.resolve(t)}}),this.mutationsByGene=Object(a.W)({await:function(){return[l.selectedMolecularProfiles,l.defaultOQLQuery,l.mutationsReportByGene]},invoke:function(){return Promise.resolve(C.mapValues(l.mutationsReportByGene.result,function(e){return l.mutationsTabFilteringSettings.useOql&&l.queryContainsMutationOql&&(e=C.mapValues(e,function(e){return Object(x.c)(l.oqlText,e,new T.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result)})),Object(z.e)(e,l.mutationsTabFilteringSettings.excludeVus,l.mutationsTabFilteringSettings.excludeGermline)}))}}),this.mutationMapperStores=Object(a.W)({await:function(){return[l.genes,l.oncoKbCancerGenes,l.uniqueSampleKeyToTumorType,l.mutations,l.mutationsByGene]},invoke:function(){return l.genes.result?Promise.resolve(C.reduce(l.genes.result,function(e,t){return e[t.hugoGeneSymbol]=new S.a(w.b.serverConfig,{},t,l.samples,l.oncoKbCancerGenes,function(){return l.mutationsByGene.result[t.hugoGeneSymbol]||[]},function(){return l.mutationCountCache},function(){return l.genomeNexusCache},function(){return l.genomeNexusMutationAssessorCache},function(){return l.genomeNexusMyVariantInfoCache},function(){return l.discreteCNACache},l.studyToMolecularProfileDiscrete.result,l.studyIdToStudy,l.molecularProfileIdToMolecularProfile,l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.germlineConsentedSamples,l.indexedHotspotData,l.indexedVariantAnnotations,l.uniqueSampleKeyToTumorType.result,l.oncoKbData),e},{})):Promise.resolve({})}},{}),this.oncoKbCancerGenes=Object(a.W)({invoke:function(){return w.b.serverConfig.show_oncokb?Object(g.B)():Promise.resolve([])}},[]),this.oncoKbAnnotatedGenes=Object(a.W)({await:function(){return[l.oncoKbCancerGenes]},invoke:function(){return w.b.serverConfig.show_oncokb?Promise.resolve(C.reduce(l.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{}),this.clinicalDataForSamples=Object(a.W)({await:function(){return[l.studies,l.samples]},invoke:function(){return l.getClinicalData("SAMPLE",l.studies.result,l.samples.result,["CANCER_TYPE","CANCER_TYPE_DETAILED"])}},[]),this.survivalClinicalDataExists=Object(a.W)({await:function(){return[l.studies,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClinicalDataCount("PATIENT",this.studies.result,this.patients.result,re.b);case 2:return t=e.sent,e.abrupt("return",t>0);case 4:case"end":return e.stop()}},e,this)}))}}),this.survivalClinicalData=Object(a.W)({await:function(){return[l.studies,l.patients]},invoke:function(){return l.getClinicalData("PATIENT",l.studies.result,l.patients.result,re.b)}},[]),this.survivalClinicalDataGroupByUniquePatientKey=Object(a.W)({await:function(){return[l.survivalClinicalData]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.groupBy(this.survivalClinicalData.result,"uniquePatientKey"));case 1:case"end":return e.stop()}},e,this)}))}}),this.overallAlteredPatientSurvivals=Object(a.W)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.alteredPatientKeys,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(B.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.alteredPatientKeys.result,"OS_STATUS","OS_MONTHS",function(e){return"DECEASED"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.overallUnalteredPatientSurvivals=Object(a.W)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.unalteredPatientKeys,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(B.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.unalteredPatientKeys.result,"OS_STATUS","OS_MONTHS",function(e){return"DECEASED"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.diseaseFreeAlteredPatientSurvivals=Object(a.W)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.alteredPatientKeys,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(B.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.alteredPatientKeys.result,"DFS_STATUS","DFS_MONTHS",function(e){return"Recurred/Progressed"===e||"Recurred"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.diseaseFreeUnalteredPatientSurvivals=Object(a.W)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.unalteredPatientKeys,l.patients]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(B.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.unalteredPatientKeys.result,"DFS_STATUS","DFS_MONTHS",function(e){return"Recurred/Progressed"===e||"Recurred"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.germlineConsentedSamples=Object(a.W)({await:function(){return[l.studyIds,l.samples]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.u)(this.studyIds,w.b.serverConfig.studiesWithGermlineConsentedSamples);case 2:return t=e.sent,n=this.samples.result?this.samples.result.map(function(e){return e.sampleId}):[],e.abrupt("return",t.filter(function(e){return n.includes(e.sampleId)}));case 5:case"end":return e.stop()}},e,this)}))},onError:function(){}},[]),this.samples=Object(a.W)({await:function(){return[l.studyToDataQueryFilter]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],C.each(this.studyToDataQueryFilter.result,function(e,r){e.sampleIds?t=t.concat(e.sampleIds.map(function(e){return{sampleId:e,studyId:r}})):e.sampleListId&&n.push(e.sampleListId)}),r=[],t.length&&r.push(o.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:t},projection:"DETAILED"})),n.length&&r.push(o.a.fetchSamplesUsingPOST({sampleFilter:{sampleListIds:n},projection:"DETAILED"})),e.t0=C,e.next=9,Promise.all(r);case 9:return e.t1=e.sent,e.abrupt("return",e.t0.flatten.call(e.t0,e.t1));case 11:case"end":return e.stop()}},e,this)}))}},[]),this.sampleKeyToSample=Object(a.W)({await:function(){return[l.samples]},invoke:function(){return Promise.resolve(C.keyBy(l.samples.result,function(e){return e.uniqueSampleKey}))}}),this.patientKeyToPatient=Object(a.W)({await:function(){return[l.patients]},invoke:function(){return Promise.resolve(C.keyBy(l.patients.result,function(e){return e.uniquePatientKey}))}}),this.patientKeyToSamples=Object(a.W)({await:function(){return[l.samples]},invoke:function(){return Promise.resolve(C.groupBy(l.samples.result,function(e){return e.uniquePatientKey}))}}),this.patients=Object(a.W)({await:function(){return[l.samples]},invoke:function(){return Object(z.j)(l.samples.result)},default:[]}),this.samplesWithoutCancerTypeClinicalData=Object(a.W)({await:function(){return[l.samples,l.clinicalDataForSamples]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=l.clinicalDataForSamples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[Object(_.a)(a.studyId,a.sampleId)]=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(l.samples.result.filter(function(t){return!e[Object(_.a)(t.studyId,t.sampleId)]}))}},[]),this.studiesForSamplesWithoutCancerTypeClinicalData=Object(a.W)({await:function(){return[l.samplesWithoutCancerTypeClinicalData]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(g.G)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studies=Object(a.W)({await:function(){return[l.studyIds]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.fetchStudiesUsingPOST({studyIds:this.studyIds.result,projection:"DETAILED"}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.queriedStudies=Object(a.W)({await:function(){return[l.studyIdToStudy,l.queriedVirtualStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.isEmpty(this.cancerStudyIds)){e.next=4;break}return e.abrupt("return",Object(z.k)(this.studyIdToStudy.result,this.cancerStudyIds,this.queriedVirtualStudies.result?this.queriedVirtualStudies.result:[]));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.studyIdToStudy=Object(a.W)({await:function(){return[l.studies]},invoke:function(){return Promise.resolve(C.keyBy(l.studies.result,function(e){return e.studyId}))}},{}),this.molecularProfilesInStudies=Object(a.W)({await:function(){return[l.studyIds]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.studyIds.result}}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.nonSelectedMolecularProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies,l.selectedMolecularProfiles]},invoke:function(){return Promise.resolve(C.difference(l.molecularProfilesInStudies.result,l.selectedMolecularProfiles.result))}},[]),this.molecularProfileIdToMolecularProfile=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(l.molecularProfilesInStudies.result.reduce(function(e,t){return e[t.molecularProfileId]=t,e},{}))}},{}),this.nonSelectedMolecularProfilesGroupByName=Object(a.W)({await:function(){return[l.nonSelectedMolecularProfiles]},invoke:function(){var e=C.sortBy(l.nonSelectedMolecularProfiles.result,function(e){return Object(ue.a)(e.molecularAlterationType)});return Promise.resolve(C.groupBy(e,function(e){return e.name}))}},{}),this.studyToMolecularProfileDiscrete=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=!0,r=!1,o=void 0,e.prev=4,i=this.molecularProfilesInStudies.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)"DISCRETE"===(s=a.value).datatype&&(t[s.studyId]=s);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,n||null==i.return||i.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{}),this.heatmapMolecularProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies,l.selectedMolecularProfiles,l.genesetMolecularProfile]},invoke:function(){var e=Se.MRNA_EXPRESSION,t=Se.PROTEIN_LEVEL,n=Se.METHYLATION,r=Se.GENERIC_ASSAY,o=Object(a.cb)(l.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId})),i=C.sortBy(C.filter(l.molecularProfilesInStudies.result,function(o){return(o.molecularAlterationType===e||o.molecularAlterationType===t||o.molecularAlterationType===r)&&o.showProfileInAnalysisTab||o.molecularAlterationType===n}),function(i){if(i.molecularProfileId in o)switch(i.molecularAlterationType){case e:return 0;case t:return 1;case n:return 2;case r:return 3}else switch(i.molecularAlterationType){case e:return 4;case t:return 5;case n:return 6;case r:return 7}}),s=l.genesetMolecularProfile.result,c=s.isApplicable?[s.value]:[];return Promise.resolve(i.concat(c))}}),this.genesetMolecularProfile=Object(a.W)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=C.filter(l.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType===Se.GENESET_SCORE&&e.showProfileInAnalysisTab});if(e.length>1)return Promise.reject(new Error("Queried more than one gene set score profile"));var t=e.pop(),n=t?{isApplicable:!0,value:t}:{isApplicable:!1};return Promise.resolve(n)}}),this.studyToDataQueryFilter=Object(a.W)({await:function(){return[l.studyToSampleIds,l.studyIds,l.studyToSampleListId]},invoke:function(){var e=l.studyIds.result,t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[s]=Object(g.O)(l.studyToSampleListId.result[s]||null,Object.keys(l.studyToSampleIds.result[s]||{}))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Promise.resolve(t)}},{}),this.bookmarkLinks=Object(a.W)({await:function(){return[l.studies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window,r=n.location.href,!w.a.sessionServiceIsEnabled()){t.next=6;break}return t.next=5,new Promise(function(t,r){n.getSessionServiceBookmark(window.location.href,e("#bookmark-result-tab").data("session"),function(e){t(e)})});case 5:r=t.sent;case 6:return o={version:3,longUrl:r,session_id:r.match(/session_id=(.*)$/)[1],history:0,format:"json"},t.next=9,F.a.get(Object(U.e)()).query(o);case 9:return i=t.sent,a=JSON.parse(i.body),t.abrupt("return",{longUrl:r,shortenedUrl:C.values(a.results)[0].shortUrl});case 12:case"end":return t.stop()}},t)}))}}),this.molecularProfileIdToDataQueryFilter=Object(a.W)({await:function(){return[l.molecularProfilesInStudies,l.studyToDataQueryFilter]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=l.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[a.molecularProfileId]=l.studyToDataQueryFilter.result[a.studyId]}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)},default:{}}),this.genes=Object(a.W)({invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.t)(this.hugoGeneSymbols);case 2:if(t=e.sent,!C.isEqual(C.sortBy(this.hugoGeneSymbols),C.sortBy(t.map(function(e){return e.hugoGeneSymbol})))){e.next=7;break}return e.abrupt("return",t);case 7:throw new Error(te.a.InvalidGenes);case 8:case"end":return e.stop()}},e,this)}))},onResult:function(e){l.geneCache.addData(e)},onError:function(e){throw e}}),this.referenceGenes=Object(a.W)({await:function(){return[l.studies]},invoke:function(){return l.studies.result.length>0?Object(g.e)(l.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(a.W)({await:function(){return[l.referenceGenes]},invoke:function(){return Promise.resolve(C.keyBy(l.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.entrezGeneIdToReferenceGene=Object(a.W)({await:function(){return[l.referenceGenes]},invoke:function(){return Promise.resolve(C.keyBy(l.referenceGenes.result,function(e){return e.entrezGeneId}))}}),this.genesets=Object(a.W)({invoke:function(){return l.genesetIds&&l.genesetIds.length>0?D.a.fetchGenesetsUsingPOST({genesetIds:l.genesetIds.slice()}):Promise.resolve([])},onResult:function(e){l.genesetCache.addData(e)}}),this.geneticEntities=Object(a.W)({await:function(){return[l.genes,l.genesets,l.hugoGeneSymbolToReferenceGene]},invoke:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=l.genes.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push({geneticEntityName:a.hugoGeneSymbol,geneticEntityType:ge.GENE,geneticEntityId:a.entrezGeneId,cytoband:l.hugoGeneSymbolToReferenceGene.result[a.hugoGeneSymbol].cytoband,geneticEntityData:a})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,c=!1,u=void 0;try{for(var p,h=l.genesets.result[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var d=p.value;e.push({geneticEntityName:d.name,geneticEntityType:ge.GENESET,geneticEntityId:d.genesetId,cytoband:"-",geneticEntityData:d})}}catch(e){c=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw u}}return Promise.resolve(e)}}),this.treatmentsInStudies=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(pe.a)(this.molecularProfilesInStudies.result);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}),this.selectedTreatments=Object(a.W)({await:function(){return[l.treatmentsInStudies]},invoke:function(){var e=l.treatmentList;return Promise.resolve(C.filter(l.treatmentsInStudies.result,function(t){return e.includes(t.treatmentId)}))}}),this.entrezGeneIdToGene=Object(a.W)({await:function(){return[l.genes]},invoke:function(){return Promise.resolve(C.keyBy(l.genes.result,function(e){return e.entrezGeneId}))}}),this.genesetLinkMap=Object(a.W)({invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.genesetIds||!this.genesetIds.length){e.next=9;break}return e.next=3,D.a.fetchGenesetsUsingPOST({genesetIds:this.genesetIds.slice()});case 3:return t=e.sent,n={},t.forEach(function(e){var t=e.genesetId,r=e.refLink;n[t]=r}),e.abrupt("return",n);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,this)}))}}),this.treatmentLinkMap=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.molecularProfilesInStudies.result&&this.molecularProfilesInStudies.result.length>0)){e.next=9;break}return e.next=3,Object(pe.a)(this.molecularProfilesInStudies.result);case 3:return t=e.sent,n={},t.forEach(function(e){var t=e.treatmentId,r=e.refLink;n[t]=r}),e.abrupt("return",n);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,this)}))}}),this.customDriverAnnotationReport=Object(a.W)({await:function(){return[l.mutations]},invoke:function(){return Promise.resolve(Object(z.f)(l.mutations.result))},onResult:function(e){Object(z.t)(e,l.driverAnnotationSettings,l.driverAnnotationSettings.customTiersDefault,l.driverAnnotationSettings.oncoKb,l.driverAnnotationSettings.hotspots)}}),this._filteredAndAnnotatedMutationsReport=Object(a.W)({await:function(){return[l.mutations,l.getPutativeDriverInfo,l.entrezGeneIdToGene]},invoke:function(){return Promise.resolve(Object(z.l)(l.mutations.result,l.getPutativeDriverInfo.result,l.entrezGeneIdToGene.result))}}),this.filteredAndAnnotatedMutations=Object(a.W)({await:function(){return[l._filteredAndAnnotatedMutationsReport]},invoke:function(){return Promise.resolve(Object(z.e)(l._filteredAndAnnotatedMutationsReport.result,l.driverAnnotationSettings.excludeVUS,l.excludeGermlineMutations))}}),this.annotatedMutationCache=new V.a(function(e){return{await:function(){return[l.mutationCache.get(e),l.getPutativeDriverInfo,l.entrezGeneIdToGene]},invoke:function(){var t=Object(z.l)(l.mutationCache.get(e).result,l.getPutativeDriverInfo.result,l.entrezGeneIdToGene.result),n=t.data.concat(t.vus).concat(t.germline);return Promise.resolve(n)}}}),this._filteredAndAnnotatedMolecularDataReport=Object(a.W)({await:function(){return[l.molecularData,l.entrezGeneIdToGene,l.getOncoKbCnaAnnotationForOncoprint,l.molecularProfileIdToMolecularProfile]},invoke:function(){var e,t=l.entrezGeneIdToGene.result;e=l.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:l.getOncoKbCnaAnnotationForOncoprint.result;var n=l.molecularProfileIdToMolecularProfile.result,r=[],o=l.molecularData.result.reduce(function(o,i){var a=Object(z.c)(i,e,n,t);return a.oncoKbOncogenic?o.push(a):r.push(a),o},[]);return Promise.resolve({data:o,vus:r})}}),this.filteredAndAnnotatedMolecularData=Object(a.W)({await:function(){return[l._filteredAndAnnotatedMolecularDataReport]},invoke:function(){var e=l._filteredAndAnnotatedMolecularDataReport.result.data;return l.driverAnnotationSettings.excludeVUS||(e=e.concat(l._filteredAndAnnotatedMolecularDataReport.result.vus)),Promise.resolve(e)}}),this.annotatedCnaCache=new V.a(function(e){return{await:function(){return l.numericGeneMolecularDataCache.await([l.studyToMolecularProfileDiscrete,l.entrezGeneIdToGene,l.getOncoKbCnaAnnotationForOncoprint,l.molecularProfileIdToMolecularProfile],function(t){return C.values(t).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})})},invoke:function(){var t,n=C.flatten(l.numericGeneMolecularDataCache.getAll(C.values(l.studyToMolecularProfileDiscrete.result).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})).map(function(e){return e.result})),r=l.entrezGeneIdToGene.result;t=l.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:l.getOncoKbCnaAnnotationForOncoprint.result;var o=l.molecularProfileIdToMolecularProfile.result;return Promise.resolve(n.map(function(e){return Object(z.c)(e,t,o,r)}))}}}),this.getPutativeDriverInfo=Object(a.W)({await:function(){var e=[];return l.driverAnnotationSettings.oncoKb&&e.push(l.getOncoKbMutationAnnotationForOncoprint),l.driverAnnotationSettings.hotspots&&e.push(l.isHotspotForOncoprint),l.driverAnnotationSettings.cbioportalCount&&e.push(l.getCBioportalCount),l.driverAnnotationSettings.cosmicCount&&e.push(l.getCosmicCount),e},invoke:function(){return Promise.resolve(function(e){var t=l.getOncoKbMutationAnnotationForOncoprint.result,n=l.driverAnnotationSettings.oncoKb&&t&&!(t instanceof Error)&&t(e),r="";return n&&(r=Object(z.p)(n)),{oncoKb:r,hotspots:l.driverAnnotationSettings.hotspots&&!(l.isHotspotForOncoprint.result instanceof Error)&&l.isHotspotForOncoprint.result(e),cbioportalCount:l.driverAnnotationSettings.cbioportalCount&&l.getCBioportalCount.isComplete&&l.getCBioportalCount.result(e)>=l.driverAnnotationSettings.cbioportalCountThreshold,cosmicCount:l.driverAnnotationSettings.cosmicCount&&l.getCosmicCount.isComplete&&l.getCosmicCount.result(e)>=l.driverAnnotationSettings.cosmicCountThreshold,customDriverBinary:l.driverAnnotationSettings.customBinary&&"Putative_Driver"===e.driverFilter||!1,customDriverTier:e.driverTiersFilter&&l.driverAnnotationSettings.driverTiers.get(e.driverTiersFilter)?e.driverTiersFilter:void 0}})}}),this.indexedVariantAnnotations=Object(a.W)({await:function(){return[l.mutations]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutations.result){e.next=6;break}return e.next=3,Object(g.I)(this.mutations.result,["annotation_summary","hotspots"],w.b.serverConfig.isoformOverrideSource);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.hotspotData=Object(a.W)({await:function(){return[l.mutations]},invoke:function(){return Object(b.a)(l.mutations)}}),this.indexedHotspotData=Object(a.W)({await:function(){return[l.hotspotData]},invoke:function(){return Promise.resolve(Object(v.H)(l.hotspotData))}}),this.isHotspotForOncoprint=Object(a.W)({invoke:function(){if(l.indexedHotspotData.isComplete){var e=l.indexedHotspotData.result;return e?Promise.resolve(function(t){return Object(X.c)(t,e)}):Promise.resolve(function(e){return!1})}return l.indexedHotspotData.isError?Promise.resolve(new Error):new Promise(function(){})}}),this.uniqueSampleKeyToTumorType=Object(a.W)({await:function(){return[l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Promise.resolve(Object(g.Q)(l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.samplesWithoutCancerTypeClinicalData))}}),this.oncoKbData=Object(a.W)({await:function(){return[l.mutations,l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.uniqueSampleKeyToTumorType,l.oncoKbAnnotatedGenes]},invoke:function(){return w.b.serverConfig.show_oncokb?Object(g.C)(l.uniqueSampleKeyToTumorType.result,l.oncoKbAnnotatedGenes.result,l.mutations):Promise.resolve(g.b)},onError:function(e){}},g.b),this.oncoKbDataForOncoprint=Object(a.W)({await:function(){return[l.mutations,l.oncoKbAnnotatedGenes]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(g.C)({},this.oncoKbAnnotatedGenes.result,this.mutations,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",g.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))},onError:function(e){}},g.b),this.cnaOncoKbData=Object(a.W)({await:function(){return[l.uniqueSampleKeyToTumorType,l.oncoKbAnnotatedGenes,l.molecularData,l.molecularProfileIdToMolecularProfile]},invoke:function(){return w.b.serverConfig.show_oncokb?Object(g.l)(l.uniqueSampleKeyToTumorType.result,l.oncoKbAnnotatedGenes.result,l.molecularData,l.molecularProfileIdToMolecularProfile.result):Promise.resolve(g.b)}},g.b),this.cnaOncoKbDataForOncoprint=Object(a.W)({await:function(){return[l.uniqueSampleKeyToTumorType,l.oncoKbAnnotatedGenes,l.molecularData,l.molecularProfileIdToMolecularProfile]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(g.l)({},this.oncoKbAnnotatedGenes.result,this.molecularData,this.molecularProfileIdToMolecularProfile.result,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",g.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))}},g.b),this.getOncoKbMutationAnnotationForOncoprint=Object(a.W)({await:function(){return[l.oncoKbDataForOncoprint]},invoke:function(){var e=l.oncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){var n=e.uniqueSampleKeyToTumorType,r=Object(a.D)(t.entrezGeneId,Object(g.c)(t.uniqueSampleKey,n),t.proteinChange,t.mutationType);return e.indicatorMap[r]})}}),this.getOncoKbCnaAnnotationForOncoprint=Object(a.W)({await:function(){return[l.cnaOncoKbDataForOncoprint]},invoke:function(){var e=l.cnaOncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){if(l.driverAnnotationSettings.oncoKb){var n=e.uniqueSampleKeyToTumorType,r=Object(a.D)(t.entrezGeneId,Object(g.c)(t.uniqueSampleKey,n),Object(L.a)(t.value));return e.indicatorMap[r]}})}}),this.cbioportalMutationCountData=Object(a.W)({await:function(){return[l.mutations]},invoke:function(){var e=Object(G.a)(l.mutations.result);return o.a.fetchMutationCountsByPositionUsingPOST({mutationPositionIdentifiers:C.values(e)})}}),this.getCBioportalCount=Object(a.W)({await:function(){return[l.cbioportalMutationCountData]},invoke:function(){var e=C.groupBy(l.cbioportalMutationCountData.result,function(e){return Object(G.b)(e)});return Promise.resolve(function(t){var n=Object(G.b)(t),r=e[n];return r?r.reduce(function(e,t){return e+t.count},0):-1})}}),this.cosmicCountData=Object(a.W)({await:function(){return[l.mutations]},invoke:function(){return D.a.fetchCosmicCountsUsingPOST({keywords:C.uniq(l.mutations.result.filter(function(e){return!!e.keyword}).map(function(e){return e.keyword}))})}}),this.getCosmicCount=Object(a.W)({await:function(){return[l.cosmicCountData]},invoke:function(){var e=C.groupBy(l.cosmicCountData.result,function(e){return e.keyword});return Promise.resolve(function(t){var n=t.keyword,r=e[n],o=Object(a.L)(t.proteinChange);if(r&&o){var i=o.start;return r.reduce(function(e,t){var n=Object(a.L)(t.proteinChange);return n&&n.start===i?e+t.count:e},0)}return-1})}}),this.mutationEnrichmentProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ne.q)(this.molecularProfilesInStudies.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.mutationEnrichmentData=Object(z.x)({store:this,await:function(){return[l.alteredSamples,l.unalteredSamples,l.alteredPatients,l.unalteredPatients,l.selectedMutationEnrichmentProfileMap]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedMutationEnrichmentProfileMap.result},fetchData:function(){var e=l.selectedMutationEnrichmentProfileMap.result,t=l.usePatientLevelEnrichments?l.alteredPatients.result:l.alteredSamples.result,n=l.usePatientLevelEnrichments?l.unalteredPatients.result:l.unalteredSamples.result;return D.a.fetchMutationEnrichmentsUsingPOST({enrichmentType:l.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:[{molecularProfileCaseIdentifiers:t.filter(function(t){return void 0!==e[t.studyId]}).map(function(t){return{caseId:l.usePatientLevelEnrichments?t.patientId:t.sampleId,molecularProfileId:e[t.studyId].molecularProfileId}}),name:"Altered group"},{molecularProfileCaseIdentifiers:n.filter(function(t){return void 0!==e[t.studyId]}).map(function(t){return{caseId:l.usePatientLevelEnrichments?t.patientId:t.sampleId,molecularProfileId:e[t.studyId].molecularProfileId}}),name:"Unaltered group"}]})}}),this.copyNumberEnrichmentProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ne.o)(this.molecularProfilesInStudies.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.copyNumberHomdelEnrichmentData=Object(z.x)({store:this,referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,await:function(){return[l.alteredSamples,l.unalteredSamples,l.selectedCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return l.selectedCopyNumberEnrichmentProfileMap.result},fetchData:function(){return l.getCopyNumberEnrichmentData("HOMDEL")}}),this.copyNumberAmpEnrichmentData=Object(z.x)({store:this,referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,await:function(){return[l.alteredSamples,l.unalteredSamples,l.selectedCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return l.selectedCopyNumberEnrichmentProfileMap.result},fetchData:function(){return l.getCopyNumberEnrichmentData("AMP")}}),this.mRNAEnrichmentProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(ne.p)(l.molecularProfilesInStudies.result))}}),this.mRNAEnrichmentData=Object(z.x)({store:this,await:function(){return[l.alteredSamples,l.unalteredSamples]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedmRNAEnrichmentProfileMap.result},fetchData:function(){var e=Object.keys(l.selectedmRNAEnrichmentProfileMap.result);if(1===e.length){var t=l.selectedmRNAEnrichmentProfileMap.result[e[0]].molecularProfileId,n=[{molecularProfileCaseIdentifiers:l.alteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Altered group"},{molecularProfileCaseIdentifiers:l.unalteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Unaltered group"}];return D.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.proteinEnrichmentProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(ne.r)(l.molecularProfilesInStudies.result))}}),this.proteinEnrichmentData=Object(z.x)({store:this,await:function(){return[l.alteredSamples,l.unalteredSamples]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedProteinEnrichmentProfileMap.result},fetchData:function(){var e=Object.keys(l.selectedProteinEnrichmentProfileMap.result);if(1===e.length){var t=l.selectedProteinEnrichmentProfileMap.result[e[0]].molecularProfileId,n=[{molecularProfileCaseIdentifiers:l.alteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Altered group"},{molecularProfileCaseIdentifiers:l.unalteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Unaltered group"}];return D.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.molecularProfileIdToProfiledSampleCount=Object(a.W)({await:function(){return[l.samples,l.coverageInformation,l.molecularProfilesInStudies]},invoke:function(){var e={},t=l.molecularProfilesInStudies.result.map(function(e){return e.molecularProfileId}),n=l.coverageInformation.result,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){e[a.value]=0}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var c=[],u=!0,p=!1,h=void 0;try{for(var d,f=l.samples.result[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var m=d.value;c=Object(H.b)(m.uniqueSampleKey,t,n);for(var y=0;y<t.length;y++)c[y]&&(e[t[y]]+=1)}}catch(e){p=!0,h=e}finally{try{u||null==f.return||f.return()}finally{if(p)throw h}}return Promise.resolve(e)}}),this.geneMolecularDataCache=Object(a.W)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new E.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.expressionProfiles=Object(a.W)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(l.molecularProfilesInStudies.result.filter(function(e){return Object(z.v)(e.molecularProfileId)}))}},[]),this.genesetMolecularDataCache=Object(a.W)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new A.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.numericGenesetMolecularDataCache=new V.a(function(e){return{await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=l.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t?D.a.fetchGeneticDataItemsUsingPOST({geneticProfileId:e.molecularProfileId,genesetDataFilterCriteria:Object.assign({genesetIds:[e.genesetId]},t)}):Promise.resolve([])}}}),this.genesetCorrelatedGeneCache=Object(a.W)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new O.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.treatmentMolecularDataCache=Object(a.W)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new P.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.geneCache=new I.a,this.genesetCache=new M.a,this.numericGeneMolecularDataCache=new V.a(function(e){return{await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=l.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t&&(t.sampleIds&&t.sampleIds.length||t.sampleListId)?o.a.fetchAllMolecularDataInMolecularProfileUsingPOST({molecularProfileId:e.molecularProfileId,molecularDataFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},t)}):Promise.resolve([])}}}),this.clinicalDataCache=new K.e(this.samples,this.patients,this.studyToMutationMolecularProfile,this.studyIdToStudy,this.coverageInformation),this.mutationCache=new V.a(function(e){return{await:function(){return[l.studyToMutationMolecularProfile,l.studyToDataQueryFilter]},invoke:function(){return be(l,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=C,t.next=3,Promise.all(Object.keys(this.studyToMutationMolecularProfile.result).map(function(t){var r=n.studyToMutationMolecularProfile.result[t].molecularProfileId,i=n.studyToDataQueryFilter.result[t];return i&&r?o.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:r,mutationFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},i),projection:"DETAILED"}):Promise.resolve([])}));case 3:return t.t1=t.sent,t.abrupt("return",t.t0.flatten.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t,this)}))}}}),this.overallSurvivalDescriptions=Object(a.W)({await:function(){return[l.clinicalAttributes,l.studyIdToStudy]},invoke:function(){var e=C.groupBy(l.clinicalAttributes.result,"clinicalAttributeId"),t=[],n=l.studyIdToStudy.result;return e&&e.OS_STATUS&&e.OS_STATUS.length>0?(e.OS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),this.diseaseFreeSurvivalDescriptions=Object(a.W)({await:function(){return[l.clinicalAttributes,l.studyIdToStudy]},invoke:function(){var e=C.groupBy(l.clinicalAttributes.result,"clinicalAttributeId"),t=[],n=l.studyIdToStudy.result;return e&&e.DFS_STATUS&&e.DFS_STATUS.length>0?(e.DFS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),Object(s.labelMobxPromises)(this),this.urlWrapper=r,this.getURL();var c=this;this.driverAnnotationSettings=Object(i.observable)({cbioportalCount:!1,cbioportalCountThreshold:0,cosmicCount:!1,cosmicCountThreshold:0,driverTiers:i.observable.map(),_customBinary:void 0,_hotspots:!1,_oncoKb:!1,_excludeVUS:!1,set hotspots(e){this._hotspots=e},get hotspots(){return!!w.b.serverConfig.show_hotspot&&this._hotspots&&!c.didHotspotFailInOncoprint},set oncoKb(e){this._oncoKb=e},get oncoKb(){return w.b.serverConfig.show_oncokb&&this._oncoKb&&!c.didOncoKbFailInOncoprint},set excludeVUS(e){this._excludeVUS=e},get excludeVUS(){return this._excludeVUS&&this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.hotspots||this.cbioportalCount||this.cosmicCount||this.customBinary||this.driverTiers.entries().reduce(function(e,t){return e||t[1]},!1)},get customBinary(){return void 0===this._customBinary?w.b.serverConfig.oncoprint_custom_driver_annotation_binary_default:this._customBinary},get customTiersDefault(){return w.b.serverConfig.oncoprint_custom_driver_annotation_tiers_default}}),this.driverAnnotationsReactionDisposer=Object(i.reaction)(function(){return l.urlWrapper.query.cancer_study_list},function(){l.initDriverAnnotationSettings()},{fireImmediately:!0})}var n,r,N;return n=t,(r=[{key:"destroy",value:function(){this.driverAnnotationsReactionDisposer()}},{key:"setMutationEnrichmentProfileMap",value:function(e){this._mutationEnrichmentProfileMap=e}},{key:"setCopyNumberEnrichmentProfileMap",value:function(e){this._copyNumberEnrichmentProfileMap=e}},{key:"setmRNAEnrichmentProfile",value:function(e){this._mRNAEnrichmentProfileMap=e}},{key:"setProteinEnrichmentProfile",value:function(e){this._proteinEnrichmentProfileMap=e}},{key:"setUsePatientLevelEnrichments",value:function(e){this.urlWrapper.updateURL({patient_enrichments:e.toString()})}},{key:"setOncoprintAnalysisCaseType",value:function(e){this.urlWrapper.updateURL({show_samples:(e===z.b.SAMPLE).toString()})}},{key:"setExcludeGermlineMutations",value:function(e){this.urlWrapper.updateURL({exclude_germline_mutations:e.toString()})}},{key:"initDriverAnnotationSettings",value:function(){this.driverAnnotationSettings.cbioportalCount=!1,this.driverAnnotationSettings.cbioportalCountThreshold=10,this.driverAnnotationSettings.cosmicCount=!1,this.driverAnnotationSettings.cosmicCountThreshold=10,this.driverAnnotationSettings.driverTiers=i.observable.map(),this.driverAnnotationSettings._oncoKb=!!w.b.serverConfig.oncoprint_oncokb_default,this.driverAnnotationSettings.hotspots=!!w.b.serverConfig.oncoprint_hotspots_default,this.driverAnnotationSettings._excludeVUS=!!w.b.serverConfig.oncoprint_hide_vus_default}},{key:"makeMutationsTabFilteringSettings",value:function(){var e=this,t=i.observable.box(void 0),n=i.observable.box(void 0);return Object(i.observable)({useOql:!0,get excludeVus(){return void 0===t.get()?e.driverAnnotationSettings.excludeVUS:t.get()},get excludeGermline(){return void 0===n.get()?e.excludeGermlineMutations:n.get()},set excludeVus(e){t.set(e)},set excludeGermline(e){n.set(e)}})}},{key:"getURL",value:function(){var e=window.location.href;if(e.includes("session_id")){var t=e.indexOf("&show");t>-1&&(this.sessionIdURL=e.slice(0,t))}}},{key:"groupSamplesByCancerType",value:function(e,t,n){var r=C.reduce(e,function(e,t){return t.clinicalAttributeId===n&&(e[t.uniqueSampleKey]=t.value),"CANCER_TYPE"===n&&(e[t.uniqueSampleKey]||"CANCER_TYPE_DETAILED"!==t.clinicalAttributeId||(e[t.uniqueSampleKey]=t.value)),e},{});return C.reduce(t,function(e,t){return t.uniqueSampleKey in r&&(e[r[t.uniqueSampleKey]]=e[r[t.uniqueSampleKey]]||[],e[r[t.uniqueSampleKey]].push(t)),e},{})}},{key:"getMutationMapperStore",value:function(e){return this.mutationMapperStores.result[e]}},{key:"getClinicalData",value:function(e,t,n,r){if(1===t.length){var i=this.studies.result[0],a={attributeIds:r,ids:C.map(n,"SAMPLE"===e?"sampleId":"patientId")};return o.a.fetchAllClinicalDataInStudyUsingPOST({studyId:i.studyId,clinicalDataSingleStudyFilter:a,clinicalDataType:e})}var s={attributeIds:r,identifiers:n.map(function(t){return"SAMPLE"===e?{entityId:t.sampleId,studyId:t.studyId}:{entityId:t.patientId,studyId:t.studyId}})};return o.a.fetchClinicalDataUsingPOST({clinicalDataType:e,clinicalDataMultiStudyFilter:s})}},{key:"getClinicalDataCount",value:function(e,t,n,r){if(1===t.length){var i=this.studies.result[0],a={attributeIds:r,ids:C.map(n,"SAMPLE"===e?"sampleId":"patientId")};return o.a.fetchAllClinicalDataInStudyUsingPOSTWithHttpInfo({studyId:i.studyId,clinicalDataSingleStudyFilter:a,clinicalDataType:e,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)})}var s={attributeIds:r,identifiers:n.map(function(t){return"SAMPLE"===e?{entityId:t.sampleId,studyId:t.studyId}:{entityId:t.patientId,studyId:t.studyId}})};return o.a.fetchClinicalDataUsingPOSTWithHttpInfo({clinicalDataType:e,clinicalDataMultiStudyFilter:s,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)})}},{key:"getSessionIdInUrl",value:function(){return W.a.parse(window.location.href,!0).query.session_id}},{key:"getCopyNumberEnrichmentData",value:function(e){var t=this,n=this.selectedCopyNumberEnrichmentProfileMap.result,r=this.usePatientLevelEnrichments?this.alteredPatients.result:this.alteredSamples.result,o=this.usePatientLevelEnrichments?this.unalteredPatients.result:this.unalteredSamples.result;return D.a.fetchCopyNumberEnrichmentsUsingPOST({copyNumberEventType:e,enrichmentType:this.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:[{molecularProfileCaseIdentifiers:r.filter(function(e){return void 0!==n[e.studyId]}).map(function(e){return{caseId:t.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:n[e.studyId].molecularProfileId}}),name:"Altered group"},{molecularProfileCaseIdentifiers:o.filter(function(e){return void 0!==n[e.studyId]}).map(function(e){return{caseId:t.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:n[e.studyId].molecularProfileId}}),name:"Unaltered group"}]})}},{key:"sortRnaSeqMolecularDataByStudy",value:function(e){return C.keyBy(e,function(e){return e[0].studyId})}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"oqlText",get:function(){return this.urlWrapper.query.gene_list}},{key:"genesetIds",get:function(){return this.urlWrapper.query.geneset_list&&this.urlWrapper.query.geneset_list.trim().length?this.urlWrapper.query.geneset_list.trim().split(/\s+/):[]}},{key:"treatmentList",get:function(){return this.urlWrapper.query.treatment_list&&this.urlWrapper.query.treatment_list.trim().length?this.urlWrapper.query.treatment_list.trim().split(/;/):[]}},{key:"cancerStudyIds",get:function(){return this.urlWrapper.query.cancer_study_list.split(",")}},{key:"rppaScoreThreshold",get:function(){return this.urlWrapper.query.RPPA_SCORE_THRESHOLD?parseFloat(this.urlWrapper.query.RPPA_SCORE_THRESHOLD):2}},{key:"zScoreThreshold",get:function(){return this.urlWrapper.query.Z_SCORE_THRESHOLD?parseFloat(this.urlWrapper.query.Z_SCORE_THRESHOLD):2}},{key:"selectedMolecularProfileIds",get:function(){return Object(z.n)(this.urlWrapper.query)}},{key:"tabId",get:function(){return this.urlWrapper.tabId||Y.a.ONCOPRINT}},{key:"profileFilter",get:function(){return this.urlWrapper.query.profileFilter?parseInt(this.urlWrapper.query.profileFilter,10):0}},{key:"doNonSelectedMolecularProfilesExist",get:function(){return this.nonSelectedMolecularProfilesGroupByName.result&&C.keys(this.nonSelectedMolecularProfilesGroupByName.result).length>0}},{key:"usePatientLevelEnrichments",get:function(){return"true"===this.urlWrapper.query.patient_enrichments}},{key:"excludeGermlineMutations",get:function(){return"true"===this.urlWrapper.query.exclude_germline_mutations}},{key:"hugoGeneSymbols",get:function(){return this.urlWrapper.query.gene_list.length>0?Object(x.i)(this.urlWrapper.query.gene_list):[]}},{key:"queryContainsOql",get:function(){return Object(x.b)(this.urlWrapper.query.gene_list)}},{key:"queryContainsMutationOql",get:function(){return Object(x.a)(this.urlWrapper.query.gene_list)}},{key:"sampleListCategory",get:function(){return this.urlWrapper.query.case_set_id&&[ye.w_mut,ye.w_cna,ye.w_mut_cna].includes(this.urlWrapper.query.case_set_id)?this.urlWrapper.query.case_set_id:void 0}},{key:"physicalStudySet",get:function(){return C.keyBy(this.studies.result,function(e){return e.studyId})}},{key:"chartMetaSet",get:function(){var e,t={};C.reduce(this.clinicalAttributes.result,function(e,t){var n=Object(le.cb)(t);return e[n]={displayName:t.displayName,uniqueKey:n,dataType:Object(le.z)(n),patientAttribute:t.patientAttribute,description:t.description,priority:Object(le.V)(t),renderWhenDataChange:!1,clinicalAttribute:t},e},t),C.isEmpty(this.mutationProfiles.result)||(t[le.h.MUTATED_GENES_TABLE]={uniqueKey:le.h.MUTATED_GENES_TABLE,dataType:Object(le.z)(le.h.MUTATED_GENES_TABLE),patientAttribute:!1,displayName:"Mutated Genes",priority:Object(le.I)(le.h.MUTATED_GENES_TABLE),renderWhenDataChange:!1,description:""}),C.isEmpty(this.cnaProfiles.result)||(t[le.h.CNA_GENES_TABLE]={uniqueKey:le.h.CNA_GENES_TABLE,dataType:Object(le.z)(le.h.CNA_GENES_TABLE),patientAttribute:!1,displayName:"CNA Genes",renderWhenDataChange:!1,priority:Object(le.I)(le.h.CNA_GENES_TABLE),description:""});var n=C.reduce(this.clinicalAttributes.result,function(e,t){return ce.b===t.clinicalAttributeId&&(e[ce.b]=!0),ce.a===t.clinicalAttributeId&&(e[ce.a]=!0),e},(fe(e={},ce.b,!1),fe(e,ce.a,!1),e));return n[ce.b]&&n[ce.a]&&(t[le.h.MUTATION_COUNT_CNA_FRACTION]={dataType:Object(le.z)(le.h.MUTATION_COUNT_CNA_FRACTION),patientAttribute:!1,uniqueKey:le.h.MUTATION_COUNT_CNA_FRACTION,displayName:"Mutation Count vs Fraction of Genome Altered",priority:Object(le.I)(le.h.MUTATION_COUNT_CNA_FRACTION),renderWhenDataChange:!1,description:""}),t}},{key:"samplesSpecificationParams",get:function(){return Object(Y.c)(this.urlWrapper.query.case_ids,this.urlWrapper.query.sample_list_ids,this.urlWrapper.query.case_set_id,this.cancerStudyIds)}},{key:"downloadFilenamePrefix",get:function(){return Object(Z.a)(this.studies.result)}},{key:"myCancerGenomeData",get:function(){return Object(g.A)()}},{key:"referenceGenome",get:function(){var e=this.studies.result?this.studies.result[0]:void 0;return e?e.referenceGenome:z.a}},{key:"genesInvalid",get:function(){return this.genes.isError}},{key:"isQueryInvalid",get:function(){return this.hugoGeneSymbols.length*this.samples.result.length>w.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(w.b.serverConfig.query_product_limit/this.samples.result.length)}},{key:"didOncoKbFailInOncoprint",get:function(){return"complete"===this.getOncoKbMutationAnnotationForOncoprint.peekStatus&&this.getOncoKbMutationAnnotationForOncoprint.result instanceof Error}},{key:"didHotspotFailInOncoprint",get:function(){return"complete"===this.isHotspotForOncoprint.peekStatus&&this.isHotspotForOncoprint.result instanceof Error}},{key:"oncoKbEvidenceCache",get:function(){return new l.a}},{key:"genomeNexusCache",get:function(){return new u.a}},{key:"genomeNexusMutationAssessorCache",get:function(){return new p.a}},{key:"genomeNexusMyVariantInfoCache",get:function(){return new h.a}},{key:"pubMedCache",get:function(){return new c.a}},{key:"discreteCNACache",get:function(){return new m.a(this.studyToMolecularProfileDiscrete.result)}},{key:"cancerTypeCache",get:function(){return new d.a}},{key:"mutationCountCache",get:function(){return new f.a}},{key:"pdbHeaderCache",get:function(){return new y.a}},{key:"mutationDataCache",get:function(){return new k.a(this.studyToMutationMolecularProfile.result,this.studyToDataQueryFilter.result)}}])&&de(n.prototype,r),N&&de(n,N),t}();ve([i.computed],ke.prototype,"oqlText",null),ve([i.computed],ke.prototype,"genesetIds",null),ve([i.computed],ke.prototype,"treatmentList",null),ve([i.computed],ke.prototype,"cancerStudyIds",null),ve([i.computed],ke.prototype,"rppaScoreThreshold",null),ve([i.computed],ke.prototype,"zScoreThreshold",null),ve([i.computed],ke.prototype,"selectedMolecularProfileIds",null),ve([i.computed],ke.prototype,"tabId",null),ve([i.observable],ke.prototype,"resultsPageSettingsVisible",void 0),ve([i.observable],ke.prototype,"checkingVirtualStudies",void 0),ve([i.observable],ke.prototype,"urlValidationError",void 0),ve([i.computed],ke.prototype,"profileFilter",null),ve([i.observable],ke.prototype,"ajaxErrors",void 0),ve([i.observable],ke.prototype,"sessionIdURL",void 0),ve([i.observable],ke.prototype,"queryFormVisible",void 0),ve([i.computed],ke.prototype,"doNonSelectedMolecularProfilesExist",null),ve([i.observable],ke.prototype,"modifyQueryParams",void 0),ve([i.observable.ref],ke.prototype,"_mutationEnrichmentProfileMap",void 0),ve([i.observable.ref],ke.prototype,"_copyNumberEnrichmentProfileMap",void 0),ve([i.observable.ref],ke.prototype,"_mRNAEnrichmentProfileMap",void 0),ve([i.observable.ref],ke.prototype,"_proteinEnrichmentProfileMap",void 0),ve([i.action],ke.prototype,"setMutationEnrichmentProfileMap",null),ve([i.action],ke.prototype,"setCopyNumberEnrichmentProfileMap",null),ve([i.action],ke.prototype,"setmRNAEnrichmentProfile",null),ve([i.action],ke.prototype,"setProteinEnrichmentProfile",null),ve([i.computed],ke.prototype,"usePatientLevelEnrichments",null),ve([se.a,i.action],ke.prototype,"setUsePatientLevelEnrichments",null),ve([se.a,i.action],ke.prototype,"setOncoprintAnalysisCaseType",null),ve([i.computed],ke.prototype,"excludeGermlineMutations",null),ve([se.a,i.action],ke.prototype,"setExcludeGermlineMutations",null),ve([i.computed],ke.prototype,"hugoGeneSymbols",null),ve([i.computed],ke.prototype,"queryContainsOql",null),ve([i.computed],ke.prototype,"queryContainsMutationOql",null),ve([i.computed],ke.prototype,"sampleListCategory",null),ve([i.computed],ke.prototype,"chartMetaSet",null),ve([i.computed],ke.prototype,"samplesSpecificationParams",null),ve([i.computed],ke.prototype,"downloadFilenamePrefix",null),ve([i.computed],ke.prototype,"myCancerGenomeData",null),ve([i.computed],ke.prototype,"referenceGenome",null),ve([i.computed],ke.prototype,"genesInvalid",null),ve([i.computed],ke.prototype,"isQueryInvalid",null),ve([i.computed],ke.prototype,"geneLimit",null),ve([i.computed],ke.prototype,"didOncoKbFailInOncoprint",null),ve([i.computed],ke.prototype,"didHotspotFailInOncoprint",null),ve([s.cached],ke.prototype,"oncoKbEvidenceCache",null),ve([s.cached],ke.prototype,"genomeNexusCache",null),ve([s.cached],ke.prototype,"genomeNexusMutationAssessorCache",null),ve([s.cached],ke.prototype,"genomeNexusMyVariantInfoCache",null),ve([s.cached],ke.prototype,"pubMedCache",null),ve([s.cached],ke.prototype,"discreteCNACache",null),ve([s.cached],ke.prototype,"cancerTypeCache",null),ve([s.cached],ke.prototype,"mutationCountCache",null),ve([s.cached],ke.prototype,"pdbHeaderCache",null),ve([s.cached],ke.prototype,"mutationDataCache",null),ve([R.a],ke.prototype,"sortRnaSeqMolecularDataByStudy",null),ve([i.action],ke.prototype,"clearErrors",null)}).call(this,n(9))},function(e,t,n){"use strict";var r=n(174),o=n.n(r);var i=n(5);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return h});var c=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},u=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function p(e){return e.hasOwnProperty("meta")}var h=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToKey=t,this.dataToKey=n,this.fetch=r,this.init();for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];this.staticDependencies=s,this.debouncedPopulate=function(e,t,n,r,o){var i,a,s;function l(){s=n(),a=!1,i=null}function c(){a?(e(s),l()):(a=!0,i=window.setTimeout(c,r)),o&&o()}return l(),Object.assign(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];s=t.apply(void 0,[s].concat(n)),null===i?(a=!0,i=window.setTimeout(c,r)):a=!1},{isPending:function(){return null!==i},cancel:function(){null!==i&&window.clearTimeout(i),l()}})}(function(e){var t=Object.keys(e).map(function(t){return e[t]});o.populate(t)},function(e,t){return e[o.queryToKey(t)]=t,e},function(){return{}},0),Object(i.reaction)(function(){return o._cache},function(e){o.promises=o.promises.filter(function(e){return!o.tryTrigger(e)})})}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.pending={},this._cache=o.a.from({}),this.promises=[]}},{key:"getPromise",value:function(e,t){var n=this;return new Promise(function(r,o){var i,a={keys:(i=Array.isArray(e)?e:[e]).map(function(e){return n.queryToKey(e)}),callback:r,error:o};n.tryTrigger(a)||(n.promises.push(a),t&&i.map(function(e){return n.debouncedPopulate(e)}))})}},{key:"tryTrigger",value:function(e){var t=this,n=!0,r=!1,o=e.keys.map(function(e){var o=t._cache[e];return o?"error"===o.status&&(n=!1,r=!0):n=!1,o});return r?(e.error(),!0):!!n&&(e.callback(o),!0)}},{key:"peek",value:function(e){var t=this.queryToKey(e);return this._cache[t]||null}},{key:"get",value:function(e){return this.debouncedPopulate(e),this.peek(e)}},{key:"getImmediately",value:function(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.populate([e]);case 2:return t.abrupt("return",this.peek(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"addData",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[this.dataToKey(s)]={status:"complete",data:s}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.updateCache(t)}},{key:"populate",value:function(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=this.getMissing(e)).length){t.next=3;break}return t.abrupt("return");case 3:return this.markPending(n),t.prev=4,t.next=7,this.fetch.apply(this,[n].concat(a(this.staticDependencies)));case 7:return r=t.sent,this.putData(n,r),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(4),this.markError(n),t.abrupt("return",!1);case 16:return t.prev=16,this.unmarkPending(n),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[4,12,16,19]])}))}},{key:"getMissing",value:function(e){var t=this,n=this._cache,r=this.pending;return e.filter(function(e){var o=t.queryToKey(e);return!n[o]&&!r[o]})}},{key:"markPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[this.queryToKey(s)]=!0}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"unmarkPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[this.queryToKey(s)]=!1}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"markError",value:function(e){var t={},n={status:"error",data:null},r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t[this.queryToKey(l)]=n}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}this.updateCache(t)}},{key:"putData",value:function(e,t){var n={},r={},o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;if(p(c)){var u=c.meta,h=!0,d=!1,f=void 0;try{for(var m,y=c.data[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value,v=this.dataToKey(g,u);n[v]={status:"complete",data:g,meta:u},r[v]=!0}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}}else{var b=this.dataToKey(c);n[b]={status:"complete",data:c},r[b]=!0}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var S=!0,w=!1,C=void 0;try{for(var _,k=e[Symbol.iterator]();!(S=(_=k.next()).done);S=!0){var T=_.value,x=this.queryToKey(T);r[x]||(n[x]={status:"complete",data:null})}}catch(e){w=!0,C=e}finally{try{S||null==k.return||k.return()}finally{if(w)throw C}}this.updateCache(n)}},{key:"updateCache",value:function(e){Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}},{key:"cache",get:function(){return this._cache}},{key:"activePromisesCount",get:function(){return this.promises.length}}])&&s(t.prototype,n),r&&s(t,r),e}();c([i.observable.ref],h.prototype,"_cache",void 0),c([i.action],h.prototype,"updateCache",null)},function(e,t,n){"use strict";n.d(t,"b",function(){return T}),n.d(t,"a",function(){return x}),n.d(t,"bb",function(){return E}),n.d(t,"x",function(){return A}),n.d(t,"H",function(){return O}),n.d(t,"I",function(){return P}),n.d(t,"t",function(){return I}),n.d(t,"E",function(){return M}),n.d(t,"e",function(){return D}),n.d(t,"D",function(){return L}),n.d(t,"R",function(){return R}),n.d(t,"h",function(){return j}),n.d(t,"i",function(){return F}),n.d(t,"n",function(){return G}),n.d(t,"o",function(){return B}),n.d(t,"F",function(){return z}),n.d(t,"u",function(){return V}),n.d(t,"M",function(){return q}),n.d(t,"G",function(){return W}),n.d(t,"p",function(){return K}),n.d(t,"w",function(){return $}),n.d(t,"v",function(){return Y}),n.d(t,"m",function(){return Q}),n.d(t,"s",function(){return X}),n.d(t,"r",function(){return Z}),n.d(t,"A",function(){return J}),n.d(t,"y",function(){return ee}),n.d(t,"z",function(){return te}),n.d(t,"B",function(){return ne}),n.d(t,"C",function(){return re}),n.d(t,"k",function(){return oe}),n.d(t,"l",function(){return ie}),n.d(t,"c",function(){return ae}),n.d(t,"cb",function(){return se}),n.d(t,"f",function(){return le}),n.d(t,"j",function(){return ce}),n.d(t,"g",function(){return ue}),n.d(t,"q",function(){return pe}),n.d(t,"J",function(){return he}),n.d(t,"W",function(){return de}),n.d(t,"L",function(){return fe}),n.d(t,"N",function(){return me}),n.d(t,"K",function(){return ye}),n.d(t,"Q",function(){return ge}),n.d(t,"Y",function(){return ve}),n.d(t,"Z",function(){return be}),n.d(t,"V",function(){return Se}),n.d(t,"ab",function(){return we}),n.d(t,"d",function(){return _e}),n.d(t,"P",function(){return Te}),n.d(t,"O",function(){return xe}),n.d(t,"X",function(){return Ee}),n.d(t,"U",function(){return Ae}),n.d(t,"T",function(){return Oe}),n.d(t,"S",function(){return Pe});var r=n(7),o=n(9),i=n.n(o),a=n(553),s=n(161),l=n(94),c=n(169),u=n(162),p=n(164),h=n(570),d=n(650),f=n(612),m=n(606),y=n(602),g=n(590),v=n(4),b=n(548),S=n(577),w=n(3),C=n(16);function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},T={uniqueSampleKeyToTumorType:{},indicatorMap:{}},x={UNKNOWN:void 0,WHOLE_EXOME_SEQ:"WES",WHOLE_GENOME_SEQ:"WGS"};function E(e){return e===x.UNKNOWN||e===x.WHOLE_EXOME_SEQ||e===x.WHOLE_GENOME_SEQ}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,n.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:t,mutationFilter:e,projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(a.v)(Object(S.b)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(a.w)(Object(S.b)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!e.length){n.next=10;break}return o=Object(v.ab)(e),n.t0=r,n.next=5,t.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.slice(),projection:"SUMMARY"});case 5:return n.t1=n.sent,n.t2=function(e){return o[e.hugoGeneSymbol]},n.abrupt("return",n.t0.sortBy.call(n.t0,n.t1,n.t2));case 10:return n.abrupt("return",[]);case 11:case"end":return n.stop()}},n)}))}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t||!t.length){o.next=10;break}return i=Object(v.ab)(t),o.t0=r,o.next=5,n.fetchReferenceGenomeGenesUsingPOST({genomeName:e,geneIds:t.slice()});case 5:return o.t1=o.sent,o.t2=function(e){return i[e.hugoGeneSymbol]},o.abrupt("return",o.t0.sortBy.call(o.t0,o.t1,o.t2));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("public-portal"!==w.b.serverConfig.app_name){n.next=2;break}return n.abrupt("return",i.a.get(Object(C.o)("reactapp/reference_genome_hg19.json")));case 2:if(!e){n.next=8;break}return n.next=5,t.getAllReferenceGenomeGenesUsingGET({genomeName:e});case 5:return n.abrupt("return",n.sent);case 8:return n.abrupt("return",[]);case 9:case"end":return n.stop()}},n)}))}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.getAlignmentUsingGET({idType:"ensembl",id:e});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchCanonicalEnsemblTranscriptsByHugoSymbolsPOST({hugoSymbols:e,isoformOverrideSource:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r)}))}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,N(e,t,n);case 2:return i=o.sent,o.abrupt("return",i?r.zipObject(e,i):void 0);case 4:case"end":return o.stop()}},o)}))}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:e,projection:"DETAILED"});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=6;break}return r.next=3,n.getAllClinicalDataOfPatientInStudyUsingGET({projection:"DETAILED",studyId:e,patientId:t});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e&&t.length>0)){r.next=6;break}return r.next=3,n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:t.map(function(t){return{sampleId:t,studyId:e}}),projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return e.length>0?n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:e.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),chromosome:t,projection:"DETAILED"}):Promise.resolve([])}function z(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t){o.next=6;break}return o.next=3,r.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t,projection:"DETAILED"});case 3:return o.abrupt("return",o.sent);case 6:if(!e||!n){o.next=12;break}return o.next=9,r.getSampleInStudyUsingGET({studyId:e,sampleId:n}).then(function(e){return[e]});case 9:return o.abrupt("return",o.sent);case 12:return o.abrupt("return",[]);case 13:case"end":return o.stop()}},o)}))}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t&&e.result){o.next=2;break}return o.abrupt("return",[]);case 2:if(!((i=e.result.filter(function(e){return r.find(t,function(t){return t===e})})).length>0)){o.next=10;break}return o.next=6,Promise.all(i.map(function(e){return n.getAllSampleIdsInSampleListUsingGET({sampleListId:H(e)})}));case 6:return a=o.sent,o.abrupt("return",r.flatten(a.map(function(e,t){var n=i[t];return e.map(function(e){return{sampleId:e,studyId:n}})})));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function H(e){return"".concat(e,"_germline")}function U(e){var t={};return e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"!==e.clinicalAttributeId&&"CANCER_TYPE"!==e.clinicalAttributeId||(t[e.uniqueSampleKey]=!0)}),t}function q(e,t){if(e.result&&e.result.length>0&&t.result){var n=U(t);return r.filter(e.result,function(e){return!0!==n[e.uniqueSampleKey]})}return[]}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=[],!(e.result&&e.result.length>0)){n.next=6;break}return i=r.uniq(e.result.map(function(e){return e.studyId})),n.next=5,t.fetchStudiesUsingPOST({studyIds:i,projection:"DETAILED"});case 5:o=n.sent;case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}},n)}))}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==(i=_e(e,t)).length){o.next=3;break}return o.abrupt("return",void 0);case 3:if(!((a=r.chain(i).filter(function(e){return e.hasOwnProperty("keyword")}).map(function(e){return e.keyword}).uniq().value()).length>0)){o.next=11;break}return o.next=7,n.fetchCosmicCountsUsingPOST({keywords:r.filter(a,function(e){return null!=e})});case 7:return s=o.sent,o.abrupt("return",Object(m.d)(s));case 11:return o.abrupt("return",void 0);case 12:case"end":return o.stop()}},o)}))}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSignificantlyMutatedGenesUsingGET({studyId:e});case 2:return r=n.sent,o=r.reduce(function(e,t){return e[t.entrezGeneId]={qValue:t.qValue},e},{}),n.abrupt("return",o);case 5:case"end":return n.stop()}},n)}))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=3,t.getSignificantCopyNumberRegionsUsingGET({studyId:e});case 3:return r=n.sent,n.abrupt("return",r.reduce(function(e,t){return t.genes.forEach(function(n){void 0===e[n.entrezGeneId]&&(e[n.entrezGeneId]=[]),e[n.entrezGeneId].push({amp:t.amp,qValue:t.qValue,peakGeneCount:t.genes.length})}),e},{}));case 7:return n.abrupt("return",{});case 8:case"end":return n.stop()}},n)}))}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.result?e.result.map(function(e){return{alteration:e.alteration,entrezGeneId:e.entrezGeneId}}):[],!(t.result&&o.length>0)){r.next=7;break}return r.next=4,n.fetchCopyNumberCountsUsingPOST({molecularProfileId:t.result,copyNumberCountIdentifiers:o});case 4:return r.abrupt("return",r.sent);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},r)}))}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i={},t.length>0&&(i.sampleIds=t),n.length>0&&(i.sampleListId=n),o.next=5,s.a.getGenePanelDataUsingPOST({molecularProfileId:e,genePanelDataFilter:i});case 5:return a=o.sent,o.abrupt("return",r.keyBy(a,function(e){return e.sampleId}));case 7:case"end":return o.stop()}},o)}))}function Z(e){return k(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return{},n=r.uniq(e),t.next=4,Promise.all(r.map(n,function(e){return k(i,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.getGenePanelUsingGET({genePanelId:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}));case 4:return o=t.sent,t.abrupt("return",r.keyBy(o,function(e){return e.genePanelId}));case 6:case"end":return t.stop()}},t)}))}function J(){var e=n(713);return Object(m.a)(e)}function ee(){return n(714)}function te(){return n(715)}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.utilsCancerGeneListGetUsingGET_1({});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}function re(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function s(){var l,c,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(l=_e(n,i),!(t instanceof Error)){s.next=5;break}return s.abrupt("return",new Error);case 5:if(0!==l.length){s.next=7;break}return s.abrupt("return",T);case 7:return c=r.filter(l,function(e){return!!t[e.entrezGeneId]}),u=r.uniqBy(r.map(c,function(t){return Object(h.d)(t.gene.entrezGeneId,ae(t.uniqueSampleKey,e),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd)}),"id"),s.abrupt("return",se(u,e,a,o));case 10:case"end":return s.stop()}},s)}))}function oe(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function i(){var a,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.result&&0!==n.result.length){i.next=4;break}return i.abrupt("return",T);case 4:return a=r.filter(n.result,function(e){return!!t[e.gene.entrezGeneId]}),s=r.uniqBy(r.map(a,function(t){return Object(h.d)(t.gene.entrezGeneId,ae(t.uniqueSampleKey,e),Object(f.a)(t.alteration))}),"id"),i.abrupt("return",se(s,e,o,void 0));case 7:case"end":return i.stop()}},i)}))}function ie(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function s(){var l,c;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n.result&&0!==n.result.length){s.next=4;break}return s.abrupt("return",T);case 4:return l=r.filter(n.result,function(e){return o[e.molecularProfileId].molecularAlterationType===b.a.COPY_NUMBER_ALTERATION&&!!t[e.entrezGeneId]}),c=r.uniqBy(r.map(l,function(t){return Object(h.d)(t.entrezGeneId,ae(t.uniqueSampleKey,e),Object(f.a)(t.value))}),function(e){return e.id}),s.abrupt("return",se(c,e,a,i));case 7:case"end":return s.stop()}},s)}))}function ae(e,t){return t[e]||null}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a,r=arguments.length>3?arguments[3]:void 0;return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.searchPostUsingPOST({body:Object(h.b)(e,r)});case 2:return i=o.sent,a={uniqueSampleKeyToTumorType:t,indicatorMap:Object(h.c)(i)},o.abrupt("return",a);case 5:case"end":return o.stop()}},o)}))}function le(e,t){return k(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(r=_e(e,t)).length){n.next=3;break}return n.abrupt("return",{});case 3:return o=new Set([]),r.forEach(function(e){o.add(e.gene.entrezGeneId)}),n.next=7,Object(d.c)(Array.from(o));case 7:return i=n.sent,n.abrupt("return",i);case 9:case"end":return n.stop()}},n)}))}function ce(e){return k(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.result&&e.result.length>0)){t.next=10;break}return n=new Set([]),e.result.forEach(function(e){n.add(e.gene.entrezGeneId)}),r=Array.from(n),t.next=6,Object(d.c)(r);case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.abrupt("return",{});case 11:case"end":return t.stop()}},t)}))}function ue(e,t,n){return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i={},!((a=_e(t,n)).length>0)){o.next=8;break}return o.next=5,Object(d.d)(e,a);case 5:i=o.sent,o.next=12;break;case 8:if(r.isEmpty(e)){o.next=12;break}return o.next=11,Object(d.d)(e);case 11:i=o.sent;case 12:return o.abrupt("return",i);case 13:case"end":return o.stop()}},o)}))}function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isComplete||!t.result){r.next=6;break}return r.next=3,n.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",discreteCopyNumberFilter:e,molecularProfileId:t.result});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function he(e){if(e.result){var t=e.result.find(function(e){return"DISCRETE"===e.datatype});return t?t.molecularProfileId:void 0}}function de(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a;if(e.result)return e.result.find(function(e){return e.molecularProfileId==="".concat(t).concat(n)})}function me(e,t){var n=fe(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.b);return n?n.molecularProfileId:void 0}function ye(e){if(!e.result)return null;var t=/^.+rna_seq.*_zscores$/,n=/^.*_zscores$/,r=e.result.find(function(e){return t.test(e.molecularProfileId.toLowerCase())});if(r)return r.molecularProfileId;var o=e.result.find(function(e){return n.test(e.molecularProfileId.toLowerCase())});return o?o.molecularProfileId:null}function ge(e,t,n){var o={};if(e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"===e.clinicalAttributeId&&(o[e.uniqueSampleKey]=e.value)}),t&&t.result&&n&&n.result){var i=Ee(t.result);r.each(n.result,function(e){void 0===o[e.uniqueSampleKey]&&(o[e.uniqueSampleKey]=i[e.studyId])})}return o}function ve(e){var t={};if(e.result){var n=!0,r=!1,o=void 0;try{for(var i,a=e.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l="".concat(s.entrezGeneId,"_").concat(s.alteration);t[l]=t[l]||[],t[l].push(s)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return Object.keys(t).map(function(e){return t[e]})}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,n={};return Ce(n,e,t,!1),Object.keys(n).map(function(e){return n[e]})}function Se(e){return Object(y.d)(e.result||[])}function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,r={};return Ce(r,e,n,!1),Ce(r,t,n,!0),Object.keys(r).map(function(e){return r[e]})}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,r=arguments.length>3?arguments[3]:void 0;if(t.result){var o=!0,i=!1,a=void 0;try{for(var s,l=t.result[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=n(c);(!r||u in e)&&(e[u]=e[u]||[],e[u].push(c))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}function _e(e,t){var n=e&&e.result?e.result:[],r=t&&t.result?t.result:[];return n.concat(r)}function ke(e){return[e.chr,e.startPosition,e.endPosition,e.referenceAllele,e.variantAllele]}function Te(e){return[e.gene.hugoGeneSymbol,e.proteinChange].concat(_(ke(e))).join("_")}function xe(e,t){var n={};return e?n={sampleListId:e}:t&&(n={sampleIds:t}),n}function Ee(e){return e.reduce(function(e,t){return e[t.studyId]=t.cancerType.name,e},{})}function Ae(e,t){return r.map(e,function(e){return{id:e,clinicalData:t.filter(function(t){return t.sampleId===e})}})}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={},o=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){r[s.value]=[]}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var c=!0,u=!1,p=void 0;try{for(var h,d=e[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value,m=t(f);r[m]=r[m]||[],r[m].push(f)}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}return r}function Pe(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:l.a;return k(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.fetchGenesetHierarchyInfoUsingPOST({geneticProfileId:e,percentile:t,scoreThreshold:n,pvalueThreshold:r,sampleListId:o});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)}))}},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"c",function(){return S}),n.d(t,"h",function(){return w}),n.d(t,"a",function(){return C}),n.d(t,"d",function(){return _}),n.d(t,"g",function(){return T}),n.d(t,"e",function(){return A}),n.d(t,"B",function(){return P}),n.d(t,"qb",function(){return I}),n.d(t,"s",function(){return M}),n.d(t,"jb",function(){return D}),n.d(t,"v",function(){return L}),n.d(t,"cb",function(){return N}),n.d(t,"db",function(){return F}),n.d(t,"S",function(){return G}),n.d(t,"H",function(){return B}),n.d(t,"eb",function(){return z}),n.d(t,"hb",function(){return V}),n.d(t,"pb",function(){return H}),n.d(t,"F",function(){return U}),n.d(t,"q",function(){return q}),n.d(t,"p",function(){return W}),n.d(t,"kb",function(){return Y}),n.d(t,"u",function(){return Q}),n.d(t,"t",function(){return X}),n.d(t,"mb",function(){return J}),n.d(t,"ib",function(){return te}),n.d(t,"r",function(){return re}),n.d(t,"gb",function(){return ae}),n.d(t,"z",function(){return ce}),n.d(t,"M",function(){return ue}),n.d(t,"N",function(){return pe}),n.d(t,"n",function(){return he}),n.d(t,"m",function(){return de}),n.d(t,"O",function(){return fe}),n.d(t,"x",function(){return ye}),n.d(t,"y",function(){return ge}),n.d(t,"j",function(){return ve}),n.d(t,"I",function(){return be}),n.d(t,"V",function(){return Se}),n.d(t,"fb",function(){return we}),n.d(t,"R",function(){return Ce}),n.d(t,"bb",function(){return _e}),n.d(t,"W",function(){return ke}),n.d(t,"E",function(){return Te}),n.d(t,"i",function(){return xe}),n.d(t,"T",function(){return Ee}),n.d(t,"lb",function(){return Ae}),n.d(t,"K",function(){return Pe}),n.d(t,"Y",function(){return Ie}),n.d(t,"X",function(){return Me}),n.d(t,"o",function(){return De}),n.d(t,"nb",function(){return Le}),n.d(t,"L",function(){return Ne}),n.d(t,"l",function(){return Fe}),n.d(t,"k",function(){return Ge}),n.d(t,"ob",function(){return Be}),n.d(t,"G",function(){return ze}),n.d(t,"D",function(){return Ve}),n.d(t,"ab",function(){return He}),n.d(t,"Z",function(){return Ue}),n.d(t,"U",function(){return qe}),n.d(t,"A",function(){return We}),n.d(t,"P",function(){return $e}),n.d(t,"Q",function(){return Ye}),n.d(t,"w",function(){return Qe}),n.d(t,"J",function(){return Xe}),n.d(t,"C",function(){return Ze}),n.d(t,"rb",function(){return Je});var r=n(7),o=n.n(r),i=n(0),a=n(16),s=n(94),l=n(161),c=n(583),u=n(4),p=n(555),h=n(651),d=n.n(h),f=n(621),m=n(568);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v,b,S,w,C,_,k=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};!function(e){e.SAMPLE="SAMPLE",e.PATIENT="PATIENT"}(v||(v={})),function(e){e.QUARTILES="QUARTILES",e.MEDIAN="MEDIAN",e.BINS="BINS"}(b||(b={})),function(e){e.STRING="STRING",e.NUMBER="NUMBER"}(S||(S={})),function(e){e.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",e.FUSION_GENES_TABLE="FUSION_GENES_TABLE",e.CNA_GENES_TABLE="CNA_GENES_TABLE",e.CUSTOM_SELECT="CUSTOM_SELECT",e.SELECTED_COMPARISON_GROUPS="SELECTED_COMPARISON_GROUPS",e.MUTATION_COUNT_CNA_FRACTION="MUTATION_COUNT_CNA_FRACTION",e.DISEASE_FREE_SURVIVAL="DFS_SURVIVAL",e.OVERALL_SURVIVAL="OS_SURVIVAL",e.CANCER_STUDIES="CANCER_STUDIES",e.MUTATION_COUNT="MUTATION_COUNT",e.FRACTION_GENOME_ALTERED="FRACTION_GENOME_ALTERED",e.WITH_MUTATION_DATA="WITH_MUTATION_DATA",e.WITH_FUSION_DATA="WITH_FUSION_DATA",e.WITH_CNA_DATA="WITH_CNA_DATA"}(w||(w={})),function(e){e.CLINICAL="CLINICAL",e.GENOMIC="GENOMIC"}(C||(C={})),function(e){e.YES="YES",e.NO="NO",e.NA="NA"}(_||(_={}));var T=[{uniqueKey:w.CANCER_STUDIES,displayName:"Cancer Studies",description:"Cancer Studies",dataType:C.CLINICAL,patientAttribute:!1,chartType:c.a.PIE_CHART,dimension:{w:1,h:1},renderWhenDataChange:!1,priority:70},{uniqueKey:w.WITH_MUTATION_DATA,displayName:"With Mutation Data",description:"With Mutation Data",chartType:c.a.PIE_CHART,dataType:C.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1},{uniqueKey:w.WITH_FUSION_DATA,displayName:"With Fusion Data",description:"With Fusion Data",chartType:c.a.PIE_CHART,dataType:C.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1},{uniqueKey:w.WITH_CNA_DATA,displayName:"With CNA Data",description:"With CNA Data",chartType:c.a.PIE_CHART,dataType:C.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1}],x=[c.d.colors.theme.primary,c.d.colors.theme.secondary,c.d.colors.theme.tertiary,c.d.colors.theme.quaternary,"#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411","#743440","#9986e2","#6c3912","#788508","#609618","#790099","#5099c6","#2d4477","#76aa00","#882e2e","#916395","#794499","#92aa99","#2aaa11","#5633cc","#667300","#100707","#751067","#229262","#4574a6","#103eac","#177322","#66d620","#291383","#94359e","#5c5935","#29c413","#6a778d","#868d1c","#5ea413","#6c5922","#243411","#103440","#2886e2","#d93912","#f28508","#110618","#970099","#0109c6","#d10477","#68aa00","#b12e2e","#310395","#944499","#24aa99","#a4aa11","#6333cc","#e77300","#820707","#610067","#339262","#5874a6","#313eac","#b67322","#13d620","#b81383","#f8359e","#935935","#a10413","#29778d","#678d1c","#b2a413","#075922","#763411","#773440","#2996e2","#dc4912","#f81508","#104618","#991099","#0049c6","#dd2477","#663a00","#b84e2e","#312395","#993499","#223a99","#aa1a11","#6673cc","#e66300","#8b5707","#656067","#323262","#5514a6","#3b8eac","#b71322","#165620","#b99383","#f4859e","#9c4935","#a91413","#2a978d","#669d1c","#be1413","#0c8922","#742411","#744440","#2983e2","#dc3612","#f88808","#109518","#990599","#0092c6","#dd4977","#66a900","#b8282e","#316295","#994199","#22a499","#aaa101","#66310c","#e67200","#8b0907","#651167","#329962","#5573a6","#3b37ac","#b77822","#16d120","#b91783","#f4339e","#9c5105","#a9c713","#2a710d","#66841c","#bea913","#0c5822","#743911","#743740","#298632","#dc3922","#f88588","#109658","#990010","#009916","#dd4447","#66aa60","#b82e9e","#316365","#994489","#22aa69","#aaaa51","#66332c","#e67390","#8b0777","#651037","#329232","#557486","#3b3e4c","#b77372","#16d690","#b91310","#f4358e","#9c5910","#a9c493","#2a773d","#668d5c","#bea463","#0c5952","#743471","#743450","#2986e3","#dc3914","#f88503","#109614","#990092","#0099c8","#dd4476","#66aa04","#b82e27","#316397","#994495","#22aa93","#aaaa14","#6633c1","#e67303","#8b0705","#651062","#329267","#5574a1","#3b3ea5"],E=3,A=52,O={"<=":"","<":"<",">=":"",">":">"};function P(e,t,n){var r=e.toLowerCase().trim(),o=t.toLowerCase().trim().replace(/.&/,"");return i.createElement("div",{style:{maxWidth:"300px"}},i.createElement("div",null,i.createElement("b",null,e)," ",!!n&&i.createElement("span",{className:d.a.titleMeta},"ID: ",n)),o!==r&&i.createElement("div",null,t))}function I(e,t){var n=o.a.filter(e,function(e){return e.gene!==t});return n.length===e.length&&n.push({gene:t,alterations:!1}),n}function M(e,t,n){var r;return n=(r=n)?">="===r?"":"<="===r?"":r:"",void 0===e?void 0===t?n:"".concat(n).concat(t.toLocaleString()):void 0===t?"".concat(n).concat(e.toLocaleString()):e!==t?"".concat(n).concat(e.toLocaleString(),"-").concat(t.toLocaleString()):"".concat(n).concat(e.toLocaleString())}function D(e){var t=function(e){return{mutRange:M(e.minY,e.maxY,void 0),fgaRange:e.maxX.toFixed(2)!==e.minX.toFixed(2)?"".concat(e.minX.toFixed(2),"-").concat(e.maxX.toFixed(2)):e.minX.toFixed(2)}}(e);return i.createElement("div",null,i.createElement("div",null,"Number of Samples: ",i.createElement("b",null,e.count.toLocaleString())),i.createElement("div",null,"Mutation Count: ",i.createElement("b",null,t.mutRange)),i.createElement("div",null,"Fraction Genome Altered: ",i.createElement("b",null,t.fgaRange)))}function L(e,t,n,r){var i,a=["Cancer Study","Patient ID","Sample ID","Mutation Count","CNA Fraction"];void 0!==n&&void 0!==t&&(a.push(n.displayName),void 0!==r&&(a.push("Color"),i=o.a.keyBy(r,"value")));var s=e.map(function(e){var o=["".concat(e.studyId),"".concat(e.patientId),"".concat(e.sampleId),"".concat(e.y),"".concat(e.x)];if(void 0!==n&&void 0!==t){var a=t[e.uniqueSampleKey];o.push(void 0!==a?"".concat(a):_.NA),void 0!==r&&void 0!==a&&o.push(void 0!==i[a]?i[a].color:_.NA)}return o});return[a].concat(s).map(function(e){return e.join("\t")}).join("\n")}function N(e){return e.clinicalAttributeId}var R,j=":";function F(e){return o.a.sortBy(e).join(j)}function G(e){return e.split(j)}function B(){return(new Date).toISOString().slice(0,10)}function z(e,t,n,r,i){var a=[];if(e){var s=new RegExp("".concat("Created on",".*"));a.push(e.replace(s,""))}else{var l=o.a.uniq(o.a.flatMap(t,function(e){return e.uniqueSampleKeys}));a.push("".concat(l.length," sample").concat(l.length>1?"s":""," from ").concat(t.length," ").concat(t.length>1?"studies:":"study:")),t.forEach(function(e){a.push("- ".concat(e.name," (").concat(e.uniqueSampleKeys.length," sample").concat(l.length>1?"s":"",")"))});var c=[];o.a.isEmpty(n)||(o.a.each(n.geneFilters||[],function(e){var t=r[F(e.molecularProfileIds)];c.push("- ".concat(t,":")),c=c.concat(e.geneQueries.map(function(e){return e.join(", ").trim()}).map(function(e){return"  - "+e}))}),void 0!==n.withMutationData&&c.push("With Mutation data: ".concat(n.withMutationData?"YES":"NO")),void 0!==n.withCNAData&&c.push("With CNA data: ".concat(n.withCNAData?"YES":"NO")),o.a.each(n.clinicalDataFilters||[],function(e){var t=r[e.attributeId];c.push("- ".concat(t,": ").concat(ae(e.values)))}),o.a.each(n.sampleIdentifiersSet||{},function(e,t){var n=r[t]||t;c.push("- ".concat(n,": ").concat(e.length," samples"))})),c.length>0&&(a.push(""),a.push("Filters:"),a=a.concat(c)),a.push("")}return a.push("".concat("Created on"," ")+B()+(i?" by "+i:"")),a.join("\n")}function V(e){var t=!(o.a.isEmpty(e)||o.a.isEmpty(e.clinicalDataFilters)&&o.a.isEmpty(e.geneFilters)&&void 0===e.withMutationData&&void 0===e.withCNAData);return e.sampleIdentifiersSet?t||!o.a.isEmpty(e.sampleIdentifiersSet):t}function H(t,n){var r=t.cloneNode(!0),o=e(t).find(n.legendGroupSelector).get(0).getBoundingClientRect();n.selectorToHide&&e(r).find(n.selectorToHide).remove();var i=+e(t).height()+o.height,a=Math.max(e(t).width(),o.width);if(e(r).attr("height",i+5),e(r).attr("width",a),e(r).css({height:i+5,width:a}),n.centerLegend){var s=Math.abs(e(t).width()-o.width),l="translate(".concat(s/2,", 0)");e(t).width()>o.width?e(r).find(n.legendGroupSelector).attr("transform",l):n.chartGroupSelector&&e(r).find(n.chartGroupSelector).attr("transform",l)}return r}function U(e){return e.map(function(e){return{start:e.start,end:e.end,value:void 0===e.start&&void 0===e.end?e.specialValue:void 0}})}function q(e){return e.filter(function(e){return void 0!==e.start||void 0!==e.end})}function W(e){return e.filter(function(e){return void 0===e.start&&void 0===e.end})}function K(e){return e.filter(function(e){return void 0!==e.start&&void 0!==e.end})}function $(e){var t=e.map(function(e){return e.start});if(e.length>0){var n=e[e.length-1];n.start!==n.end&&t.push(n.end)}return t}function Y(e){return te(e)&&void 0!==e[0].start&&0!==e[0].start&&!oe(e[0].start)}function Q(e){var t=Y(e)?2:1;return e.map(function(n,r){var o;return 0===r&&void 0===n.start?o=r:r===e.length-1&&void 0===n.end?(o=r,r-1>-1&&e[r-1].start!==e[r-1].end&&o++):o=n.start===n.end?r:r+.5,{x:o+t,y:n.count,dataBin:n}})}function X(e,t){return e.map(function(e,n){return{x:t+n+1,y:e.count,dataBin:e}})}function Z(e){return e.length>0&&void 0===e.find(function(e){return 0!==e&&-1<e&&e<1||0!==e&&me(e)%.5!=0})}function J(e,t,n){return V(e)||t>=2||1===n}function ee(e){return e&&e.length>0&&void 0===e.find(function(e){return e.start!==e.end})}function te(e){if(!e)return!1;var t=K(q(e)),n=$(t);return!ee(t)&&Z(n)}function ne(e){return 0!==e&&-.001<=e&&e<=.001}function re(e){if(0===e.length)return[];var t,n=e[0],r=e[e.length-1],o=K(e),i=$(o),a=!ee(o)&&Z(i);return void 0===n.start?i=[n.end].concat(g(i)):a&&0!==n.start&&(oe(n.start)||(i=[ie(n.start,R.LEADING)].concat(g(i)))),void 0===r.end?i.push(r.start):a&&0!==r.end&&(oe(r.end)||i.push(ie(r.end,R.TRAILING))),t=a?function(e){return e.map(function(e){var t;if(-10===e||-1===e||0===e||1===e||10===e)t="".concat(e);else{var n=me(e);(t=Number.isInteger(n)?"10^".concat(n.toFixed(0)):n%.5==0?"":"".concat(e))&&e<0&&(t="-".concat(t))}return t})}(i):o.length>0&&ne(o[Math.floor(o.length/2)].end)?i.map(function(e){return e.toExponential(0)}):function(e){return e.map(function(e){return ne(e)?e.toExponential(0):le(e)})}(i),void 0===n.start&&(t[0]="".concat(O[n.specialValue]||n.specialValue).concat(t[0])),void 0===r.end&&(t[t.length-1]="".concat(O[r.specialValue]||r.specialValue).concat(t[t.length-1])),t}function oe(e){var t=!1;if(e){var n=Math.log10(Math.abs(e));Number.isInteger(n)&&(t=!0)}return t}function ie(e,t){if(e){var n=Math.log10(Math.abs(e)),r=e*t>0?Math.floor(n):Math.ceil(n),o=Math.pow(10,r);return Math.sign(e)*o}return 1}function ae(e){var t=e.filter(function(e){return void 0===e.start&&void 0===e.end}).map(function(e){return e.value}),n=e.filter(function(e){return void 0!==e.start||void 0!==e.end}),r=n.length>0?n[0].start:void 0,o=n.length>0?n[n.length-1].end:void 0,i=[];return n.length>0&&(void 0===r&&void 0===o?i.push("All Numbers"):void 0===r?i.push(" ".concat(se(o))):void 0===o?i.push("> ".concat(se(r))):r===o?i.push("".concat(se(r))):n[0].start===n[0].end?i.push("".concat(se(r),"  x  ").concat(se(o))):i.push("".concat(se(r)," < x  ").concat(se(o)))),t.length>0&&(i=i.concat(t)),i.length>0?i.join(", "):""}function se(e){var t;return void 0!==e&&(t=ne(e)?e.toExponential(0):le(e)),t}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"".concat(e);var n=Math.abs(e);if(Number.isInteger(n))return"".concat(e);var r=t;if(e<1&&e>-1){var o=Math.abs(Math.log10(n%1));r+=Number.isInteger(o)?Math.floor(o)-1:Math.floor(o)}return"".concat(Number(e.toFixed(r)))}function ce(e){var t=[w.MUTATION_COUNT_CNA_FRACTION,w.CNA_GENES_TABLE,w.MUTATED_GENES_TABLE,w.MUTATION_COUNT,w.FRACTION_GENOME_ALTERED,w.WITH_MUTATION_DATA,w.WITH_CNA_DATA,w.WITH_FUSION_DATA,w.FUSION_GENES_TABLE];return o.a.includes(t,e)?C.GENOMIC:C.CLINICAL}function ue(e,t){return Math.floor((e-10-pe(t))/2)}function pe(e){return Math.floor(Object(u.P)(e,"Helvetica Neue","13px"))}function he(e){return e>0?e:0}function de(e){return Math.ceil(e)}function fe(e){var t="";return e<0?_.NA:(t=0===e?"0":e<100&&e>=99.9?"99.9":e>=.1?e.toFixed(1).toString():"<0.1","".concat(t,"%"))}function me(e){var t=Math.abs(e)<50?1:2;return Number(Math.log10(Math.abs(e)).toFixed(t))}function ye(e){return m.b[e]||""}function ge(e){switch(e){case"HOMDEL":return p.d;case"AMP":return p.a;default:return}}function ve(e,t,n,r,i,a){var s=[],l={},c=[new Array(t).fill("")];if(e.sort(Ge),r.length>0)if(i&&a){var u=r.find(function(e){return e.i===i.uniqueKey});if(!u)throw new Error("cannot find matching unique key in the grid layout");var p=function(e,t,n,r){var o=e.x,i=e.y,a=r.w,s=o,l=i;c={w:e.w,h:e.h},u=r,c.w+c.h>u.w+u.h?s=o+e.w-a:o+a>=n&&o-a>=0&&(s=n-a);var c,u;return{i:t.uniqueKey,x:s,y:l,w:r.w,h:r.h,isResizable:!1}}(u,i,t,a);s.push(p),l[i.uniqueKey]=!0,c=function(e,t){var n=[new Array(t).fill("")],r=e.x+e.w,o=e.y+e.h;for(;o>=n.length;)n.push(new Array(t).fill(""));for(var i=e.y;i<o;i++)for(var a=e.x;a<r;a++)n[i][a]=e.i;return n}(p,t)}else{var h=o.a.keyBy(r,function(e){return e.i});e.sort(function(e,t){var n=h[e.uniqueKey],r=h[t.uniqueKey];return n||r?r?n?n.y===r.y?n.x-r.x:n.y-r.y:1:-1:0})}return o.a.forEach(o.a.filter(e,function(e){return!l[e.uniqueKey]}),function(e){for(var r=n[e.uniqueKey]||{w:1,h:1},i=function(e,t){if(0===e.length)return{x:0,y:0};var n=void 0;return o.a.each(e,function(r,i){if(o.a.each(r,function(r,o){if(!r&&!function(e,t,n){var r=!1;if(0===e.length)return!1;if(n.w>1&&t.x%2!=0&&(r=!0),n.h>1&&t.y%2!=0&&(r=!0),!r)for(var o=t.x+n.w,i=t.y+n.h,a=t.y;a<i&&!(a>=e.length);a++){for(var s=t.x;s<o;s++)if(s>=e[0].length||e[a][s]){r=!0;break}if(r)break}return r}(e,{x:o,y:i},t))return n={x:o,y:i},!1}),n)return!1}),n||{x:0,y:e.length}}(c,r);i.y+r.h>=c.length;)c.push(new Array(t).fill(""));s.push({i:e.uniqueKey,x:i.x,y:i.y,w:r.w,h:r.h,isResizable:!1});for(var a=i.x+r.w,l=i.y+r.h,u=i.y;u<l;u++)for(var p=i.x;p<a;p++)c[u][p]=e.uniqueKey}),s}function be(e){return void 0===c.d.priority[e]?1:c.d.priority[e]}function Se(e){var t=Number(e.priority);if(t===c.d.defaultPriority){var n=N(e);return void 0===c.d.priority[n]?c.d.defaultPriority:c.d.priority[n]}return t}function we(e,t){return c.d.layout.grid.w*e.w+(e.w-1)*c.d.layout.gridMargin.x-2*t}function Ce(e,t){return c.d.layout.grid.h*e.h+(e.h-1)*c.d.layout.gridMargin.y-t}function _e(e,t){return Ce(e,t)-30}function ke(e){return 0===e?"0":e.toExponential(E)}function Te(e){e.sort(Re);var t=Ae(e),n=o.a.sumBy(e,function(e){return e.count});return e.map(function(e){var r=e.count/n;return Object.assign({},e,{color:t[e.value],percentage:r,freq:fe(100*r)})})}function xe(e,t){return o.a.reduce(e,function(e,n,r){return e[r]=100*n/t,e},{})}function Ee(e,t,n,r){return o.a.filter(t,function(t){return t.dataType===e}).map(function(e){return{label:e.displayName,key:e.uniqueKey,chartType:r[e.uniqueKey],disabled:!1,selected:n.includes(e.uniqueKey),freq:100}})}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=o.a.cloneDeep(t),r=function(e){return o.a.reduce(e,function(e,t){var n=Oe(t.value)?p.f:Object(p.x)(t.value);return n&&(e[t.value]=n),e},{})}(e);return n=o.a.difference(n,o.a.values(r)),Object.assign({},function(e,t){var n=0;return o.a.reduce(e,function(e,r){return Oe(r.value)||Object(p.x)(r.value)||(e[r.value]=t[n%t.length],n++),e},{})}(e,n),r)}function Oe(e){return"na"===e.toLowerCase().trim()}function Pe(e,t){return o.a.reduce(e,function(e,n){return(void 0===t||t(n))&&e.push({sampleId:n.sampleId,studyId:n.studyId}),e},[])}function Ie(e,t,n,r,i){var a={clinicalDataFilters:t.clinicalDataFilters,geneFilters:t.geneFilters},l=o.a.reduce(n,function(t,n,r){return e!==r&&(t=0===t.length?n:o.a.intersectionWith(t,n,o.a.isEqual)),t},[]);return l&&l.length>0?a.sampleIdentifiers=l:o.a.isEmpty(r)?a.studyIds=i:a.sampleIdentifiers=r,s.a.fetchFilteredSamplesUsingPOST({studyViewFilter:a})}function Me(e,t,n,r,o,i,a){return t&&e&&!r?[a]:e||n?r?[]:[o]:[i]}function De(e){return 0!==e.length&&!o.a.some(e,function(e){return isNaN(Number(e))})}function Le(e,t){return 0===e.length&&1===t.length}function Ne(e,t,n){var r=[],i=o.a.groupBy(e,function(e){return e.studyId});return o.a.each(t,function(e){var t=i[e.studyId];t&&t.length>0&&r.push(Object.assign({},e,{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}),o.a.each(n,function(e){var t=[];if(e.data.studies.forEach(function(e){var n=i[e.id];n&&n.length>0&&(t=t.concat(n))}),t.length>0){var n={name:e.data.name,description:e.data.description,studyId:e.id};r.push(Object.assign({},n,{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}}),r}function Re(e,t){return Oe(e.value)?Oe(t.value)?0:1:Oe(t.value)?-1:t.count-e.count}function je(e,t){return t.priority-e.priority||e.displayName.localeCompare(t.displayName)}function Fe(e,t){return je({priority:Number(e.priority),displayName:e.displayName},{priority:Number(t.priority),displayName:t.displayName})}function Ge(e,t){return je({priority:e.priority,displayName:e.displayName},{priority:t.priority,displayName:t.displayName})}function Be(e,t,n){try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(a.b)(e),n)}catch(r){window.localStorage.clear();try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(a.b)(e),n)}catch(e){alert("Sorry, the query is too large to submit")}}}function ze(e){return e.replace(/\\,/g,"$@$").split(",").map(function(e){return e.trim().replace(/\$@\$/g,",")})}function Ve(e,t){var n={};return e>0&&(n[_.YES]={count:e,value:_.YES}),t>0&&(n[_.NO]={count:t,value:_.NO}),Te(o.a.values(n))}function He(e){var t=e.match(/study\/([^\/]+)/);return t?t[1]:void 0}function Ue(e){return e.length<=2?e.map(function(e){return e.name}).join(" and "):"".concat(e[0].name," and ").concat(e.length-1," other groups")}function qe(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.patients.map(function(e){return{studyId:t,patientId:e}})})})),function(e,t){return e.patientId===t.patientId&&e.studyId===t.studyId})}function We(e,t,n,r,i,a){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],u=arguments.length>9?arguments[9]:void 0;u||(u=ve(e,t,n,[]));var p={};return e.forEach(function(e){var t=e.uniqueKey,n=r[t]||"NONE";p[e.uniqueKey]={id:e.uniqueKey,chartType:n,patientAttribute:e.patientAttribute},n===w.MUTATED_GENES_TABLE?p[e.uniqueKey].filterByCancerGenes=s:n===w.FUSION_GENES_TABLE?p[e.uniqueKey].filterByCancerGenes=l:n===w.CNA_GENES_TABLE&&(p[e.uniqueKey].filterByCancerGenes=c);var u=i[t];u&&(p[t].groups=u.groups,p[t].name=e.displayName),a[t]&&(a[t].disableLogScale&&(p[t].disableLogScale=!0),o.a.isEmpty(a[t].customBins)||(p[t].customBins=a[t].customBins))}),u.forEach(function(e){e.i&&p[e.i]&&(p[e.i].layout={x:e.x,y:e.y,w:e.w,h:e.h})}),p}function Ke(e){return void 0!==e.specialValue?void 0!==e.start?e.specialValue+e.start:void 0!==e.end?e.specialValue+e.end:e.specialValue:void 0!==e.start&&void 0!==e.end?"".concat(e.start,"-").concat(e.end):""}function $e(e,t,n,r,i){var a={};t&&(a=o.a.groupBy(e,function(e){return e.uniquePatientKey}));var s=function(e,t){var n=t.filter(function(e){return void 0===e.specialValue}),r=t.filter(function(e){return void 0!==e.specialValue});return o.a.reduce(e,function(e,t){var i;if(isNaN(t.value)||(i=o.a.find(n,function(e){return parseFloat(t.value)>e.start&&parseFloat(t.value)<=e.end})),void 0===i&&(i=o.a.find(r,function(e){if(!isNaN(t.value)){if(void 0!==e.end)return parseFloat(t.value)<=e.end;if(void 0!==e.start)return parseFloat(t.value)>e.start}return e.specialValue===t.value})),i){var a=Ke(i);void 0===e[a]&&(e[a]=[]),e[a].push(t)}return e},{})}(n,r),l=r.map(function(e){return Ke(e)}),c=Object(u.ab)(l);return o.a.reduce(s,function(e,n,r){if(0!==n.length){var s=[];s=t?o.a.flatMapDeep(n,function(e){return a[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})}):n.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}),e.push(Object(f.b)(r,s,i))}return e},[]).sort(function(e,t){return c[e.name]-c[t.name]})}function Ye(e,t,n,r){var i={};return t&&(i=o.a.groupBy(e,function(e){return e.uniquePatientKey})),n.map(function(e){var n=[];return n=t?o.a.flatMapDeep(e,function(e){return i[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})}):e.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}),Object(f.b)("".concat(e[0].value,"-").concat(e[e.length-1].value),n,r)})}function Qe(e){return e+" "+String.fromCharCode(9662)}function Xe(e){var t=e.filter(function(e){return void 0!==e.start||void 0!==e.end});return{start:t.length>0?t[0].start:void 0,end:t.length>0?t[t.length-1].end:void 0}}function Ze(e){return k(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,l.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:{identifiers:o.a.map(e,function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 3:return r=t.sent,o.a.forEach(r,function(e){n[e.uniqueSampleKey]=Object.assign({},n[e.uniqueSampleKey]||{},y({},e.clinicalAttributeId,e.value))}),t.next=7,l.a.fetchClinicalDataUsingPOST({clinicalDataType:v.PATIENT,clinicalDataMultiStudyFilter:{identifiers:o.a.map(e,function(e){return{entityId:e.patientId,studyId:e.studyId}})}});case 7:return i=t.sent,a=o.a.groupBy(e,function(e){return e.uniquePatientKey}),o.a.forEach(i,function(e){(a[e.uniquePatientKey]||[]).forEach(function(t){n[t.uniqueSampleKey]=Object.assign({},n[t.uniqueSampleKey]||{},y({},e.clinicalAttributeId,e.value))})}),t.abrupt("return",n);case 11:case"end":return t.stop()}},t)}))}function Je(e){var t=/^CUSTOM_FILTERS_\d+/i,n=/^(?:PATIENT_|SAMPLE_)([a-zA-Z0-9_]+)/i,r=0,i=0,a=o.a.reduce(w,function(e,t){return e[t]=!0,e},{});return e.forEach(function(e){e.id.match(t)||void 0!==a[e.id]||(r++,e.id.match(n)&&i++)}),r===i?e.map(function(e){var t=e.id.match(n);return t?Object.assign({},e,{id:t[1]}):e}):e}!function(e){e[e.LEADING=1]="LEADING",e[e.TRAILING=-1]="TRAILING"}(R||(R={}))}).call(this,n(9))},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"n",function(){return h}),n.d(t,"p",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"m",function(){return m}),n.d(t,"l",function(){return y}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return v}),n.d(t,"j",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"h",function(){return w}),n.d(t,"q",function(){return C}),n.d(t,"o",function(){return _}),n.d(t,"s",function(){return k}),n.d(t,"e",function(){return T}),n.d(t,"g",function(){return x}),n.d(t,"r",function(){return E}),n.d(t,"k",function(){return A}),n.d(t,"f",function(){return O});var r=n(7),o=n(553),i=n(4),a=n(590),s=n(630),l=n(555),c=n(577),u=n(578),p={missenseColor:l.o,inframeColor:l.m,truncatingColor:l.s,otherColor:l.q};function h(e){return"fusion"===Object(u.c)(e.mutationType)}function d(e){return new RegExp(a.b+"$").test(e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return Object(o.A)(Object(c.b)(e),t)}function m(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,c=!1,u=void 0;try{for(var p,h=s[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value,f=d.proteinPosStart;null!=f&&(t[f]=t[f]||[],t[f].push(d))}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}function y(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l="".concat(s.gene.hugoGeneSymbol,"_").concat(s.patientId,"_").concat(s.proteinChange);t[l]=t[l]||[],t[l].push(s)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}function g(e){return r.values(e).map(function(e){return e.length>0?e.length-1:0}).reduce(function(e,t){return e+t},0)}function v(e){return Object.keys(y(e)).length}function b(e,t,n){var o=[];return e.forEach(function(e){var r=e[0];r.proteinPosStart>-1&&r.proteinPosStart>=t&&r.proteinPosStart<=n&&o.push(r.proteinPosStart),r.proteinPosEnd>r.proteinPosStart&&r.proteinPosEnd>=t&&r.proteinPosEnd<=n&&o.push(r.proteinPosEnd)}),r.uniq(o)}var S=new RegExp(a.c,"i");function w(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(i.cb)(o.map(s.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&S.test(t.mutationStatus)&&!!a[Object(s.a)(r.studyId,t.sampleId)])}).map(s.a).uniq().value().length/o.length}return 0}function C(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(i.cb)(o.map(s.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&!S.test(t.mutationStatus)&&!!a[Object(s.a)(r.studyId,t.sampleId)])}).map(s.a).uniq().value().length/o.length}return 0}function _(e){return!e.mutationStatus||!S.test(e.mutationStatus)}function k(e,t){e.forEach(function(e){if(e.gene&&e.gene.hugoGeneSymbol){var n=t[e.gene.hugoGeneSymbol];n&&(e.gene=r.merge({},n,e.gene),e.entrezGeneId=e.entrezGeneId||n.entrezGeneId)}})}function T(e){return e.gene&&e.chr&&e.startPosition&&e.endPosition&&e.referenceAllele&&e.variantAllele?{chromosome:e.chr.replace("chr",""),start:e.startPosition,end:e.endPosition,referenceAllele:e.referenceAllele,variantAllele:e.variantAllele}:void 0}function x(e){var t=e.chromosome;switch(e.chromosome.toUpperCase()){case"X":t="23";break;case"Y":t="24"}return"".concat(t,",").concat(e.start,",").concat(e.end,",").concat(e.referenceAllele,",").concat(e.variantAllele)}function E(e){var t={};return e.map(function(e){var n=T(e);n&&(t[x(n)]=n)}),r.values(t)}function A(e){if(Number.isInteger(e.tumorRefCount)&&Number.isInteger(e.tumorAltCount)){var t=e.tumorAltCount/(e.tumorAltCount+e.tumorRefCount);return isNaN(t)?null:t}return null}function O(e){return function(e){if(e.chr&&e.startPosition&&-1!==e.startPosition&&e.endPosition&&-1!==e.endPosition&&e.referenceAllele&&"NA"!==e.referenceAllele&&e.variantAllele&&"NA"!==e.variantAllele)return"-"!==e.referenceAllele||"-"!==e.variantAllele;return!1}(e)?"-"===e.referenceAllele?"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"ins").concat(e.variantAllele):"-"===e.variantAllele?e.startPosition===e.endPosition?"".concat(e.chr,":g.").concat(e.startPosition,"del"):"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"del"):1===e.referenceAllele.length&&1===e.variantAllele.length?"".concat(e.chr,":g.").concat(e.startPosition).concat(e.referenceAllele,">").concat(e.variantAllele):1===e.referenceAllele.length&&e.variantAllele.length>1?"".concat(e.chr,":g.").concat(e.startPosition,"delins").concat(e.variantAllele):"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"delins").concat(e.variantAllele):null}},function(e,t,n){"use strict";n.d(t,"a",function(){return Pe}),n.d(t,"b",function(){return N}),n.d(t,"c",function(){return jt}),n.d(t,"d",function(){return Vr}),n.d(t,"e",function(){return Ur}),n.d(t,"f",function(){return zt}),n.d(t,"g",function(){return me}),n.d(t,"h",function(){return se}),n.d(t,"i",function(){return Cr}),n.d(t,"j",function(){return Ue}),n.d(t,"k",function(){return Zr}),n.d(t,"l",function(){return qe}),n.d(t,"m",function(){return Ft}),n.d(t,"n",function(){return Ve}),n.d(t,"o",function(){return Nn}),n.d(t,"p",function(){return Tr}),n.d(t,"q",function(){return Zt}),n.d(t,"r",function(){return Xt}),n.d(t,"s",function(){return de}),n.d(t,"t",function(){return Q}),n.d(t,"u",function(){return $}),n.d(t,"v",function(){return Nr}),n.d(t,"w",function(){return Rr}),n.d(t,"x",function(){return qt}),n.d(t,"y",function(){return He}),n.d(t,"z",function(){return L}),n.d(t,"A",function(){return B}),n.d(t,"B",function(){return Er}),n.d(t,"C",function(){return ye}),n.d(t,"D",function(){return $t}),n.d(t,"E",function(){return Yt}),n.d(t,"F",function(){return ot}),n.d(t,"G",function(){return re}),n.d(t,"H",function(){return on}),n.d(t,"I",function(){return qn}),n.d(t,"J",function(){return pn}),n.d(t,"K",function(){return K}),n.d(t,"L",function(){return Qt}),n.d(t,"M",function(){return Nt}),n.d(t,"N",function(){return Lt}),n.d(t,"O",function(){return kr});var r=n(25),o=n(11),i=n(0),a=n.n(i),s=n(4),l=n(7),c=n.n(l),u=n(28),p=n.n(u),h=n(836),d=n(5),f=n(166),m=n(679),y=n(92),g=n(9),v=n.n(g),b=n(601),S=n.n(b),w=n(18),C=n.n(w),_=n(79);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function x(e,t){function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function A(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function O(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})}function P(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function I(e,t){return t=null==t?-1/0:t,(e="string"==typeof(e=null==e?-1/0:e)?e.toLowerCase():e)>(t="string"==typeof t?t.toLowerCase():t)?1:e<t?-1:0}function M(e,t){return I(e.join(),t.join())}function D(e,t){for(var n=0,r=Math.min(e.length,t.length),o=0;o<r&&0===(n=I(e[o],t[o]));o++);return 0===n&&(e.length<t.length?n=-1:e.length>t.length&&(n=1)),n}function L(e){return e&&e.clinVar&&e.clinVar.variantId?e.clinVar.variantId.toString():null}var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=L(this.props.myVariantInfo);if(null==e)return Object(i.createElement)(s.c,{placement:"topRight",overlay:Object(i.createElement)("span",null,"Variant has no ClinVar data.")},Object(i.createElement)("span",{style:{height:"100%",width:"100%",display:"block",overflow:"hidden"}},""));var t="https://www.ncbi.nlm.nih.gov/clinvar/variation/"+e+"/";return Object(i.createElement)(s.c,{placement:"top",overlay:Object(i.createElement)("span",null,"Click to see variant on ClinVar website.")},Object(i.createElement)("a",{href:t,target:"_blank"},e))},t=A([o.observer],t)}(i.Component),R={missenseColor:"#008000",inframeColor:"#993404",truncatingColor:"#000000",otherColor:"#CF58BC"},j={missense:1,inframe:2,truncating:4,nonsense:6,nonstop:7,nonstart:8,frameshift:4,frame_shift_del:4,frame_shift_ins:5,in_frame_ins:3,in_frame_del:2,splice_site:9,fusion:10,silent:11,other:11};function F(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o.proteinPosStart;null!=i&&(t[i]=t[i]||[],t[i].push(o))}return t}function G(e,t){var n=j[e],r=j[t];return n<r?-1:n>r?1:e.localeCompare(t)}function B(e,t,n){void 0===t&&(t=R),void 0===n&&(n=function(){return 1});var r=c.a.flatten(e.map(function(e){return c.a.fill(Array(Math.ceil(n(e))),Object(s.F)(e.mutationType||""))})).sort(G),o=Object(s.A)(r);if(!o)return"#FF0000";switch(Object(s.K)(o)){case"missense":return t.missenseColor;case"truncating":return t.truncatingColor;case"inframe":return t.inframeColor;default:return t.otherColor}}function z(e){var t=e.chromosome||e.gene&&e.gene.chromosome;return t&&e.startPosition&&e.endPosition&&e.referenceAllele&&e.variantAllele?{chromosome:t.replace("chr",""),start:e.startPosition,end:e.endPosition,referenceAllele:e.referenceAllele,variantAllele:e.variantAllele}:void 0}function V(e){return e.chromosome+","+e.start+","+e.end+","+e.referenceAllele+","+e.variantAllele}function H(e){var t={};return e.map(function(e){var n=z(e);n&&(t[V(n)]=n)}),c.a.values(t)}function U(e){var t={};return e&&Object.keys(e).forEach(function(n){var r,o=(r=e[n])&&r.my_variant_info?r.my_variant_info.annotation:void 0;o&&(t[n]=o)}),t}function q(e,t){var n;if(e&&t){var r=z(e),o=r?V(r):void 0;o&&(n=t[o])}return n}var W={"annotation-item-load":"annotation-module_annotation-item-load__1pDN0","annotation-item-text":"annotation-module_annotation-item-text__Gy_Jv","annotation-item-error":"annotation-module_annotation-item-error__5BhTo","annotation-item":"annotation-module_annotation-item__2EgnB"};function K(e){return Object(i.createElement)("span",{className:p()(""+W["annotation-item"],""+W["annotation-item-load"],e)},Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse"}))}function $(e){return Object(i.createElement)(s.c,{overlay:Object(i.createElement)("span",null,e),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(i.createElement)("span",{className:""+W["annotation-item-error"]},Object(i.createElement)("i",{className:"fa fa-exclamation-triangle text-danger"})))}function Y(e,t){var n,r=e.indexedMyVariantInfoAnnotations.status,o=e.indexedVariantAnnotations?function(e,t){var n;if(e&&t){var r=z(e),o=r?V(r):void 0;o&&(n=t[o])}return n}(e.mutation,e.indexedVariantAnnotations.result):void 0,a=q(e.mutation,e.indexedMyVariantInfoAnnotations.result);return n="pending"===r?K():"error"===r?$("Error fetching Genome Nexus annotation"):a?t(a,o):null,Object(i.createElement)("div",{className:e.className},n)}function Q(e){var t=L(e);return t?parseInt(t,10):null}var X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Y(this.props,this.getContent)},t.prototype.getContent=function(e){return Object(i.createElement)(N,{myVariantInfo:e})},t.defaultProps={className:"pull-right mr-1"},A([r.a],t.prototype,"getContent",null),t=A([o.observer],t)}(i.Component),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props.headerContent;return this.props.overlay&&(e=Object(i.createElement)(s.c,{mouseEnterDelay:.5,placement:"top",overlay:this.props.overlay,destroyTooltipOnHide:!0},e)),Object(i.createElement)("span",{className:this.props.className||t.defaultProps.className},e)},t.defaultProps={className:"text-wrap"},t}(i.Component),J={"hotspot-info":"hotspotInfo-module_hotspot-info__S24fX"};function ee(e,t,n,r){return Object(i.createElement)("span",{className:J["hotspot-info"]},function(e,t,n,r){var o=e?Object(i.createElement)("b",null,"Recurrent Hotspot"):null,a=e&&t?Object(i.createElement)("span",null,"and"):null,s=t?Object(i.createElement)("b",null,"3D Clustered Hotspot"):null,l=null;if(n){var c=n>1?"samples":"sample";l=Object(i.createElement)("span",null,Object(i.createElement)("b",null,n)," ",c," with")}return Object(i.createElement)("span",null,l," ",o," ",a," ",s," ",r)}(e,t,n,r),Object(i.createElement)("br",null),function(e,t){var n=e?"a recurrent hotspot (statistically significant)":"",r=e&&t?"and":"",o=t?"a 3D clustered hotspot":"",a=e?Object(i.createElement)("a",{href:Object(s.I)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016"):"",l=t?Object(i.createElement)("a",{href:"http://genomemedicine.biomedcentral.com/articles/10.1186/s13073-016-0393-x",target:"_blank"},"Gao et al., Genome Medicine, 2017"):"";return Object(i.createElement)("span",null,"This mutated amino acid was identified as ",n," ",r," ",o," in a population-scale cohort of tumor samples of various cancer types using methodology based in part on"," ",a," ",r," ",l,".")}(e,t),Object(i.createElement)("br",null),Object(i.createElement)("br",null),function(e,t){var n=e?Object(i.createElement)("a",{href:"https://www.cancerhotspots.org/",target:"_blank"},"https://cancerhotspots.org/"):"",r=e&&t?"and":"",o=t?Object(i.createElement)("a",{href:"https://www.3dhotspots.org/",target:"_blank"},"https://3dhotspots.org/"):"";return Object(i.createElement)("span",null,"Explore all mutations at ",n," ",r," ",o,".")}(e,t))}var te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props;return ee(e.isHotspot,e.is3dHotspot,e.count,e.customInfo)},t}(i.Component),ne="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%221024%22%20height%3D%221024%22%20viewBox%3D%220%200%201024%201024%22%3E%20%20%20%20%3Cg%20id%3D%22icomoon-ignore%22%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cpath%20fill%3D%22%23ff9900%22%20d%3D%22M321.008%201045.333c-68.245-142.008-31.901-223.379%2020.551-300.044%2057.44-83.956%2072.244-167.065%2072.244-167.065s45.153%2058.7%2027.092%20150.508c79.772-88.8%2094.824-230.28%2082.783-284.464%20180.315%20126.012%20257.376%20398.856%20153.523%20601.065%20552.372-312.532%20137.399-780.172%2065.155-832.851%2024.081%2052.676%2028.648%20141.851-20%20185.127-82.352-312.276-285.972-376.276-285.972-376.276%2024.083%20161.044-87.296%20337.144-194.696%20468.731-3.775-64.216-7.783-108.528-41.549-169.98-7.58%20116.656-96.732%20211.748-120.873%20328.628-32.701%20158.287%2024.496%20274.18%20241.748%20396.623z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E";function re(e,t){var n=0;return e&&(n+=1),t&&(n+=.5),n}function oe(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var ie,ae,se=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.isHotspot,n=e.is3dHotspot,r=Object(i.createElement)("span",{className:""+W["annotation-item"]});if("pending"===this.props.status)r=K("pull-left");else if(t||n){var o=14,a=ne;t||(a="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20width%3D%2224.263px%22%20height%3D%2236.366px%22%20viewBox%3D%220%200%2024.263%2036.366%22%20enable-background%3D%22new%200%200%2024.263%2036.366%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%20%3Cpath%20fill%3D%22%23FF9900%22%20d%3D%22M6.828%2C27.947c-1.859-3.872-0.869-6.094%2C0.564-8.184c1.565-2.296%2C1.968-4.558%2C1.968-4.558%20%20s1.231%2C1.6%2C0.742%2C4.104c2.181-2.423%2C2.591-6.286%2C2.256-7.764c4.921%2C3.436%2C7.027%2C10.889%2C4.19%2C16.401%20%20C31.627%2C19.419%2C20.3%2C6.66%2C18.326%2C5.221c0.656%2C1.439%2C0.783%2C3.873-0.546%2C5.053C15.536%2C1.75%2C9.98%2C0%2C9.98%2C0%20%20c0.657%2C4.397-2.388%2C9.208-5.316%2C12.8C4.56%2C11.046%2C4.451%2C9.831%2C3.53%2C8.155c-0.201%2C3.183-2.636%2C5.785-3.298%2C8.974%20%20C-0.659%2C21.445%2C0.9%2C24.61%2C6.828%2C27.947L6.828%2C27.947z%22%2F%3E%20%3Ctext%20transform%3D%22matrix%280.583%200%200%200.583%203.7324%2036.1963%29%22%20fill%3D%22%23000000%22%20font-family%3D%22%5CiArial-BoldItalicMT%5Ci%22%20font-size%3D%2220.6802%22%3E3D%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E",o=18);var l=Object(i.createElement)("div",{className:"rc-tooltip-arrow-inner"}),c=Object(i.createElement)(te,{isHotspot:t,is3dHotspot:n});r=Object(i.createElement)(s.c,{overlay:c,placement:"topLeft",trigger:["hover","focus"],arrowContent:l,onPopupAlign:oe},Object(i.createElement)("span",{className:W["annotation-item"]+" chang_hotspot"},Object(i.createElement)("img",{width:14,height:o,src:a,alt:"Recurrent Hotspot Symbol"})))}return r},t}(i.Component);!function(e){e.population="population",e.alleleCount="ac",e.alleleNumber="an",e.homozygotes="hom",e.alleleFrequency="af"}(ae||(ae={}));var le="text-wrap font-weight-bold",ce=((ie={})[ae.population]=Object(i.createElement)(Z,{className:le,headerContent:Object(i.createElement)("span",null,"Population")}),ie[ae.alleleCount]=Object(i.createElement)(Z,{className:le,headerContent:Object(i.createElement)("span",null,"Allele Count"),overlay:Object(i.createElement)("span",null,"Number of individuals with this allele")}),ie[ae.alleleNumber]=Object(i.createElement)(Z,{className:le,headerContent:Object(i.createElement)("span",null,"Allele Number"),overlay:Object(i.createElement)("span",null,"Number of times any allele has been observed at this position in the population")}),ie[ae.homozygotes]=Object(i.createElement)(Z,{className:le,headerContent:Object(i.createElement)("span",null,"Number of Homozygotes"),overlay:Object(i.createElement)("span",null,"Number of individuals carrying this allele in both copies")}),ie[ae.alleleFrequency]=Object(i.createElement)(Z,{className:le,headerContent:Object(i.createElement)("span",null,"Allele Frequency"),overlay:Object(i.createElement)("span",null,"Proportion of the population with this allele")}),ie);function ue(e){return Object(i.createElement)("span",{className:"pull-right mr-1"},e.value)}var pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=Object(i.createElement)("a",{href:"https://myvariant.info/",target:"_blank"},"myvariant.info"),t=Object(i.createElement)("a",{href:"https://www.genomenexus.org/",target:"_blank"},"genomenexus.org"),n=Object(i.createElement)("a",{href:this.props.gnomadUrl,target:"_blank"},"gnomAD");return Object(i.createElement)("div",{className:"gnomad-frequency-table","data-test":"gnomad-table"},Object(i.createElement)(h.a,{data:this.props.data,showPagination:!1,pageSize:this.props.data.length,sortable:!1,className:"-striped -highlight",getTrProps:this.getTrProps,columns:[{id:ae.population,accessor:"population",Cell:ue,Header:ce[ae.population],width:160},{id:ae.alleleCount,accessor:"alleleCount",Cell:ue,Header:ce[ae.alleleCount],width:55},{id:ae.alleleNumber,accessor:"alleleNumber",Cell:ue,Header:ce[ae.alleleNumber],width:80},{id:ae.homozygotes,Cell:ue,accessor:"homozygotes",Header:ce[ae.homozygotes],width:100},{id:ae.alleleFrequency,accessor:"alleleFrequency",Header:ce[ae.alleleFrequency],Cell:function(e){return Object(i.createElement)("span",{className:"pull-right mr-1","data-test":"allele-frequency-data"},0===(t=e.value)?Object(i.createElement)("span",null,"0"):Object(i.createElement)("span",null,t.toLocaleString(void 0,{maximumSignificantDigits:2,minimumSignificantDigits:2})));var t},width:120}]}),Object(i.createElement)("div",{style:{fontSize:"x-small",textAlign:"center",paddingTop:5}},"Source: ",t,", which serves ",e,"'s gnomAD data.",Object(i.createElement)("br",null),"Latest ",n," data may differ."))},t.prototype.getTrProps=function(e,t){return{style:{fontWeight:e&&t&&t.index===this.props.data.length-1?"bold":void 0}}},A([r.a],t.prototype,"getTrProps",null),t}(i.Component),he={African:"afr",Latino:"amr",Other:"oth","European (Non-Finnish)":"nfe","European (Finnish)":"fin","Ashkenazi Jewish":"asj","East Asian":"eas","South Asian":"sas",Total:""};function de(e,t,n){return null!==n?n:e&&t&&0!==t?e/t:0}function fe(e,t,n){var r=(he[e]?ae.alleleCount+"_"+he[e]:ae.alleleCount).toString(),o=(he[e]?ae.alleleNumber+"_"+he[e]:ae.alleleNumber).toString(),i=(he[e]?ae.homozygotes+"_"+he[e]:ae.homozygotes).toString(),a=(he[e]?ae.alleleFrequency+"_"+he[e]:ae.alleleFrequency).toString();n[e]={population:e,alleleCount:t.alleleCount[r]?t.alleleCount[r]:0,alleleNumber:t.alleleNumber[o]?t.alleleNumber[o]:0,homozygotes:void 0===t.homozygotes?"N/A":t.homozygotes[i],alleleFrequency:de(t.alleleCount[r],t.alleleNumber[o],t.alleleFrequency[a])}}var me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.gnomad=function(){var e,t,n,r,o,a=this.props.myVariantInfo,s="",l=null,u={};if(a&&(a.gnomadExome||a.gnomadGenome)){s=a&&a.vcf?(t=this.props.annotation?this.props.annotation.seq_region_name:null,n=a.vcf.position,r=a.vcf.ref,o=a.vcf.alt,t&&n&&r&&o?"https://gnomad.broadinstitute.org/variant/"+t+"-"+n+"-"+r+"-"+o:"https://gnomad.broadinstitute.org/"):"";var p={},h={},d={};a.gnomadExome&&(Object.keys(he).forEach(function(e){return fe(e,a.gnomadExome,p)}),u=p),a.gnomadGenome&&(Object.keys(he).forEach(function(e){return fe(e,a.gnomadGenome,h)}),u=h),a.gnomadExome&&a.gnomadGenome&&(Object.keys(he).forEach(function(e){d[e]={population:e,alleleCount:p[e].alleleCount+h[e].alleleCount,alleleNumber:p[e].alleleNumber+h[e].alleleNumber,homozygotes:void 0===p[e].homozygotes||void 0===h[e].homozygotes?"N/A":(parseInt(p[e].homozygotes)+parseInt(h[e].homozygotes)).toString(),alleleFrequency:de(p[e].alleleCount+h[e].alleleCount,p[e].alleleNumber+h[e].alleleNumber,null)}}),u=d);var f=c.a.sortBy(Object.values(u).slice(0,8),["alleleFrequency"]).reverse();f.push(u.Total),e=0===u.Total.alleleFrequency?Object(i.createElement)("span",null,"0"):Object(i.createElement)("span",null,u.Total.alleleFrequency.toLocaleString(void 0,{maximumSignificantDigits:2,minimumSignificantDigits:2})),l=function(){return Object(i.createElement)(pe,{data:f,gnomadUrl:s})}}else e=Object(i.createElement)("span",{style:{height:"100%",width:"100%",display:"block",overflow:"hidden"}},""),l=function(){return Object(i.createElement)("span",null,"Variant has no data in gnomAD.")};return{overlay:l,display:e}},t.prototype.render=function(){return Object(i.createElement)(s.c,{overlay:this.gnomad().overlay,placement:"topRight",trigger:["hover","focus"],destroyTooltipOnHide:!0},this.gnomad().display)},t=A([o.observer],t)}(i.Component);function ye(e){return e&&e.gnomadExome&&e.gnomadGenome?de(e.gnomadExome.alleleCount.ac+e.gnomadGenome.alleleCount.ac,e.gnomadExome.alleleNumber.an+e.gnomadGenome.alleleFrequency.af,null):e&&e.gnomadExome?de(e.gnomadExome.alleleCount.ac,e.gnomadExome.alleleNumber.an,e.gnomadExome.alleleFrequency.af):e&&e.gnomadGenome?de(e.gnomadGenome.alleleCount.ac,e.gnomadGenome.alleleNumber.an,e.gnomadGenome.alleleFrequency.af):null}var ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Y(this.props,this.getContent)},t.prototype.getContent=function(e,t){return Object(i.createElement)(me,{myVariantInfo:e,annotation:t})},t.defaultProps={className:"pull-right mr-1"},A([r.a],t.prototype,"getContent",null),t=A([o.observer],t)}(i.Component),ve="mutationStatus-module_germline__14ouw",be="mutationStatus-module_somatic__2kcEn",Se="mutationStatus-module_unknown__jR1Lo",we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e,t=this.props.value||(this.props.mutation?this.props.mutation.mutationStatus:void 0);return e=t?t.toLowerCase().includes("somatic")?Object(i.createElement)("span",{className:be,style:this.props.styleMap?this.props.styleMap[t.toLowerCase()]:void 0},this.props.displayValueMap&&(this.props.displayValueMap[t.toLowerCase()]||this.props.displayValueMap.somatic)||"Somatic"):t.toLowerCase().includes("germline")?Object(i.createElement)("span",{className:ve,style:this.props.styleMap?this.props.styleMap[t.toLowerCase()]:void 0},this.props.displayValueMap&&(this.props.displayValueMap[t.toLowerCase()]||this.props.displayValueMap.germline)||"Germline"):Object(i.createElement)("span",{className:Se},t):Object(i.createElement)("span",null),this.props.enableTooltip&&(e=Object(i.createElement)(s.c,{overlay:Object(i.createElement)("span",null,t),placement:"right"},e)),e},t.defaultProps={enableTooltip:!0},t}(i.Component),Ce="proteinChange-module_proteinChange__3MSnG",_e="proteinChange-module_germline__25Wi_";var ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props.mutation,t=e.proteinChange,n=e.mutationStatus,r=Object(i.createElement)("span",{className:Ce},t);return this.props.enableMutationStatusIndicator&&n&&n.toLowerCase().includes("germline")&&(r=Object(i.createElement)(i.Fragment,null,r,Object(i.createElement)("span",{className:_e},"Germline"))),r},t.defaultProps={enableMutationStatusIndicator:!0},t}(i.Component);function Te(e,t,n){n&&n(e.map(function(e){return e.value}),t.length===e.length)}function xe(e){return(e||[]).map(function(e){return e.value})}function Ee(e,t){return e.filter(function(e){return!t||t.values.find(function(t){return e.toLowerCase()===t.toLowerCase()})}).map(function(e){return{value:e}})}var Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"allValues",{get:function(){return xe(this.props.options)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValues",{get:function(){return Ee(this.allValues,this.props.filter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return(this.props.options||[]).map(function(e){return{label:Object(i.createElement)("span",null,e.label||e.value),value:e.value}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionIndicatorClassNames",{get:function(){var e,t=this.allValues.length===this.selectedValues.length,n=this.props.selectionIndicatorClassNames;return p()(n.base,((e={})[n.allSelected]=t,e[n.partiallySelected]=!t,e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"components",{get:function(){return this.props.showNumberOfSelectedValues?{IndicatorsContainer:this.indicatorsContainer}:void 0},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(s.a,{name:this.props.name,placeholder:this.props.placeholder,reactSelectComponents:this.components,onChange:this.onChange,options:this.options,value:this.selectedValues,showControls:this.props.showControls})},Object.defineProperty(t.prototype,"selectionIndicator",{get:function(){return Object(i.createElement)("div",{style:{marginRight:5,marginTop:"auto",marginBottom:"auto"},className:this.selectionIndicatorClassNames},this.selectedValues.length,"/",this.allValues.length)},enumerable:!0,configurable:!0}),t.prototype.indicatorsContainer=function(e){return Object(i.createElement)("div",{style:{display:"flex"}},this.selectionIndicator,Object(i.createElement)(f.components.IndicatorsContainer,E({},e)))},t.prototype.onChange=function(e){Te(e,this.allValues,this.props.onSelect)},t.defaultProps={showNumberOfSelectedValues:!0,selectionIndicatorClassNames:{base:"badge",allSelected:"badge-light",partiallySelected:"badge-warning"}},A([d.computed],t.prototype,"allValues",null),A([d.computed],t.prototype,"selectedValues",null),A([d.computed],t.prototype,"options",null),A([d.computed],t.prototype,"selectionIndicatorClassNames",null),A([d.computed],t.prototype,"components",null),A([r.a],t.prototype,"indicatorsContainer",null),A([r.a,d.action],t.prototype,"onChange",null),t=A([o.observer],t)}(i.Component),Oe={color:"#FFF",backgroundColor:"#000",borderStyle:"solid",borderWidth:"thin"},Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"badge",{get:function(){return Object(i.createElement)("span",{style:this.props.badgeFirst?{marginRight:5}:{marginLeft:5}},Object(i.createElement)("span",{className:this.props.badgeClassName,style:E({},Oe,this.props.badgeStyleOverride)},this.props.badgeContent))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"badgeFirst",{get:function(){return Object(i.createElement)(i.Fragment,null,this.badge,this.props.label)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"badgeLast",{get:function(){return Object(i.createElement)(i.Fragment,null,this.props.label,this.badge)},enumerable:!0,configurable:!0}),t.prototype.render=function(){return this.props.badgeFirst?this.badgeFirst:this.badgeLast},t.defaultProps={badgeClassName:"badge",badgeFirst:!1},t}(i.Component),Ie=10,Me=7;function De(e,t,n){var r=E({},n,e.badgeStyleOverride),o=E({},Oe,r);return e.value in t||(r=e.badgeStyleSelectedOverride?E({},n,e.badgeStyleSelectedOverride):E({},o,{color:o.backgroundColor,backgroundColor:o.color,borderColor:o.backgroundColor})),r}function Le(e,t,n,r,o){void 0===n&&(n=Ie),void 0===r&&(r=Me),void 0===o&&(o=!1);var i=e*n+2*r;if(o)return{width:i};var a=t*n+2*r,s=(i-a)/2;return{width:a,marginLeft:s,marginRight:s}}function Ne(e){return e.map(function(e){return e.badgeContent}).filter(function(e){return void 0!==e}).map(function(e){return e.toString().length})}var Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"allValues",{get:function(){return xe(this.props.options)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValues",{get:function(){return this.props.selectedValues||Ee(this.allValues,this.props.filter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuesMap",{get:function(){return Object(s.M)(this.selectedValues)},enumerable:!0,configurable:!0}),t.prototype.getBadgeLabel=function(e,t,n,r){return this.props.getBadgeLabel?this.props.getBadgeLabel(e,t,n,r):Object(i.createElement)(Pe,{label:e.label||e.value,badgeContent:e.badgeContent,badgeStyleOverride:De(e,t,r),badgeClassName:this.props.badgeClassName})},Object.defineProperty(t.prototype,"badgeAlignmentStyles",{get:function(){return this.props.alignColumns&&this.props.options?function(e,t,n,r,o,i){if(void 0===t&&(t=1),void 0===n&&(n=!1),void 0===r&&(r=Ie),void 0===o&&(o=Me),void 0===i&&(i=!1),n){var a=e.length,s=Math.max.apply(Math,Ne(e)),l=Le(s,s,r,o,!0);return c.a.times(a,function(){return l})}if(t>0){var u=c.a.groupBy(e,function(n){return e.indexOf(n)%t});return e.map(function(e,n){return Le(Math.max.apply(Math,Ne(u[n%t])),void 0===e.badgeContent?0:e.badgeContent.toString().length,r,o,i)})}return[]}(this.props.options,this.props.numberOfColumnsPerRow,this.props.uniformBadgeWidth,this.props.badgeCharWidth,this.props.badgeContentPadding,this.props.alignmentPaddingWithinBadge):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return(this.props.options||[]).map(function(t,n){return{label:e.getBadgeLabel(t,e.selectedValuesMap,e.props.badgeClassName,e.badgeAlignmentStyles&&e.props.numberOfColumnsPerRow?e.badgeAlignmentStyles[n]:void 0),value:t.value}})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(s.b,{onChange:this.onChange,options:this.options,getOptionLabel:this.props.getOptionLabel,value:this.selectedValues,isDisabled:this.props.isDisabled,numberOfColumnsPerRow:this.props.numberOfColumnsPerRow,unselectOthersWhenAllSelected:this.props.unselectOthersWhenAllSelected})},t.prototype.onChange=function(e){Te(e,this.allValues,this.props.onSelect)},A([d.computed],t.prototype,"allValues",null),A([d.computed],t.prototype,"selectedValues",null),A([d.computed],t.prototype,"selectedValuesMap",null),A([d.computed],t.prototype,"badgeAlignmentStyles",null),A([d.computed],t.prototype,"options",null),A([r.a,d.action],t.prototype,"onChange",null),t=A([o.observer],t)}(i.Component);function je(e){var t;return(t={})[s.o.MISSENSE]=Object(i.createElement)("strong",{style:{color:e[s.o.MISSENSE]}},"Missense"),t[s.o.TRUNCATING]=Object(i.createElement)("strong",{style:{color:e[s.o.TRUNCATING]}},"Truncating"),t[s.o.INFRAME]=Object(i.createElement)("strong",{style:{color:e[s.o.INFRAME]}},"Inframe"),t[s.o.OTHER]=Object(i.createElement)("strong",{style:{color:e[s.o.OTHER]}},"Other"),t}function Fe(e){var t;return(t={})[s.o.MISSENSE]=e.missenseColor,t[s.o.TRUNCATING]=e.truncatingColor,t[s.o.INFRAME]=e.inframeColor,t[s.o.OTHER]=e.otherColor,t}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}x(t,e),Object.defineProperty(t.prototype,"optionDisplayValueMap",{get:function(){return je(this.proteinImpactTypeColors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"proteinImpactTypeColors",{get:function(){return Fe(this.props.colors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return Object.keys(s.o).map(function(t){return{value:s.o[t],label:e.optionDisplayValueMap[s.o[t]]}})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(Ae,E({name:"proteinImpactTypeFilter",placeholder:"Protein Impact",showControls:!0,options:this.options},this.props))},t.defaultProps={colors:R},A([d.computed],t.prototype,"optionDisplayValueMap",null),A([d.computed],t.prototype,"proteinImpactTypeColors",null),A([d.computed],t.prototype,"options",null),t=A([o.observer],t)}(i.Component);var Ge=[s.o.MISSENSE,s.o.TRUNCATING,s.o.INFRAME,s.o.OTHER];function Be(e){return Object(i.createElement)("span",null,e.label||e.value)}function ze(e,t,n,r){return Object(i.createElement)(Pe,{label:e.label||e.value,badgeContent:e.badgeContent,badgeStyleOverride:De(e,t,r),badgeClassName:n,badgeFirst:!0})}var Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"optionDisplayValueMap",{get:function(){return je(this.proteinImpactTypeColors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"proteinImpactTypeColors",{get:function(){return Fe(this.props.colors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return Ge.map(function(t){return{value:t,label:e.optionDisplayValueMap[t],badgeContent:e.props.counts?e.props.counts[t]:void 0,badgeStyleOverride:{backgroundColor:e.proteinImpactTypeColors[t]}}})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(Re,E({options:this.options,getOptionLabel:Be,getBadgeLabel:ze},this.props))},t.defaultProps={colors:R,alignColumns:!0,unselectOthersWhenAllSelected:!0,numberOfColumnsPerRow:2},A([d.computed],t.prototype,"optionDisplayValueMap",null),A([d.computed],t.prototype,"proteinImpactTypeColors",null),A([d.computed],t.prototype,"options",null),t=A([o.observer],t)}(i.Component);function He(e,t){void 0===t&&(t=1);var n=e.toFixed(t),r=n;return 0!==e&&0===Number(n)&&(r="< "+1/Math.pow(10,t)),r}var Ue={color:"#000",backgroundColor:"#FFF",borderColor:"#FFF"};var qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return this.props.badgeSelectorOptions.map(function(t){return E({},t,{badgeContent:e.props.rates?He(e.props.rates[t.value])+"%":void 0})})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(Re,E({options:this.options},this.props))},t.defaultProps={badgeSelectorOptions:[{value:"somatic",label:"Somatic Mutation Frequency",badgeStyleOverride:Ue,badgeStyleSelectedOverride:Ue},{value:"germline",label:"Germline Mutation Frequency",badgeStyleOverride:Ue,badgeStyleSelectedOverride:Ue}]},A([d.computed],t.prototype,"options",null),t=A([o.observer],t)}(i.Component),We={"Likely Neutral":"neutral",Unknown:"unknown",Inconclusive:"inconclusive","Predicted Oncogenic":"oncogenic","Likely Oncogenic":"oncogenic",Oncogenic:"oncogenic"},Ke={Unknown:0,Inconclusive:0,"Likely Neutral":0,"Predicted Oncogenic":5,"Likely Oncogenic":5,Oncogenic:5},$e={4:1,"3B":2,"3A":3,"2B":4,"2A":5,2:5,1:6},Ye={R3:1,R2:2,R1:3};function Qe(e){if(e){var t=e.match(/LEVEL_(R?\d[AB]?)/);return t&&t.length>=2?t[1]:e}return null}function Xe(e){var t=["oncokb","annotation-icon","unknown","no-level"];if(e){var n=Qe(e.highestSensitiveLevel),r=Qe(e.highestResistanceLevel);if(t[2]=We[e.oncogenic]||(e.vus?"vus":"unknown"),n||r){var o="level";n&&(o=o+"-"+n),r&&(o=o+"-"+r),t[3]=o}}return t.join(" ")}function Ze(e){return"oncokb level-icon level-"+e}function Je(e){var t={},n=[];return c.a.each(e,function(e){c.a.each(e,function(e){var n=tt(e.level),r=function(e){if(c.a.isArray(e)){var t=[];return e.forEach(function(e){var n,r;t.push((n=e.drugs,r=[],n.forEach(function(e){r.push(e.drugName)}),r.sort().join(" + ")))}),t.sort().join(", ")}return""}(e.content),o=e.tumorType,i=e.alterations.map(function(e){return e.name}).join(",");t.hasOwnProperty(n)||(t[n]={}),t[n].hasOwnProperty(i)||(t[n][i]={}),t[n][i].hasOwnProperty(r)||(t[n][i][r]={}),t[n][i][r].hasOwnProperty(o)?t[n][i][r][o].description=[t[n][i][r][o].description,"<br/>",e.description].join():t[n][i][r][o]={articles:[],tumorType:o,alterations:e.alterations,level:n,description:e.description,treatment:r},t[n][i][r][o].articles=c.a.union(t[n][i][r][o].articles,e.articles)})}),c.a.each(c.a.keys(t).sort(et),function(e){c.a.each(c.a.keys(t[e]).sort(),function(r){c.a.each(c.a.keys(t[e][r]).sort(),function(o){c.a.each(c.a.keys(t[e][r][o]).sort(),function(i){var a=t[e][r][o][i];n.push({level:a.level,variant:a.alterations.map(function(e){return e.name}),treatment:o,pmids:a.articles.filter(function(e){return!isNaN(e.pmid)}).map(function(e){return Number(e.pmid)}).sort(),abstracts:a.articles.filter(function(e){return c.a.isString(e.abstract)}).map(function(e){return{abstract:e.abstract,link:e.link}}),description:a.description,cancerType:a.tumorType})})})})}),n}function et(e,t){return s.l.all.indexOf(e)>s.l.all.indexOf(t)?-1:1}function tt(e){if(e){var t=e.match(/LEVEL_(R?\d[AB]?)/);return t instanceof Array&&t.length>=2?t[1]:e}return""}function nt(e){var t={};return e&&e.length>0&&e.forEach(function(e){var n=e.query.id,r={id:"",gene:{},alteration:[],prevalence:[],progImp:[],treatments:{sensitivity:[],resistance:[]},trials:[],oncogenic:"",oncogenicRefs:[],mutationEffect:{},mutationEffectRefs:[],summary:""},o=[],i=[],a=[];(a=a.concat(e.evidences)).forEach(function(e){var t="";if(t=e.shortDescription?e.shortDescription:e.description,"GENE_SUMMARY"===e.evidenceType)r.gene.summary=t;else if("GENE_BACKGROUND"===e.evidenceType)r.gene.background=t;else if("ONCOGENIC"===e.evidenceType)e.articles&&(r.oncogenicRefs=e.articles);else if("MUTATION_EFFECT"===e.evidenceType){var n={};e.knownEffect&&(n.knownEffect=e.knownEffect),e.articles&&(n.refs=e.articles),t&&(n.description=t),r.alteration.push(n)}else if(e.levelOfEvidence&&-1===["LEVEL_0"].indexOf(e.levelOfEvidence)){var a={};a.alterations=e.alterations,a.articles=e.articles,a.tumorType=function(e){var t=c.a.isObject(e.tumorType)?e.tumorType.name:e.subtype||e.cancerType,n="";c.a.isObject(e.oncoTreeType)&&(n=e.oncoTreeType.name?e.oncoTreeType.name:e.oncoTreeType.mainType?e.oncoTreeType.mainType.name:"");n&&(t=n);return t}(e),a.level=e.levelOfEvidence,a.content=e.treatments,a.description=t||"",-1!==s.l.sensitivity.indexOf(tt(e.levelOfEvidence))?o.push(a):i.push(a)}}),r.alteration.length>0&&(r.mutationEffect=r.alteration[0]),r.treatments.sensitivity=o,r.treatments.resistance=i,t[n]=r}),t}function rt(e,t,n){return Object(s.C)(t(e),n(e),e.proteinChange,e.mutationType,e.proteinPosStart,e.proteinPosEnd)}function ot(e,t,n,r,o){var i={};return c.a.keys(e).forEach(function(a){var s=Number(a),l=e[s].map(function(e){return it(e,t,n,r)}).filter(function(e){return void 0!==e&&(!o||o(e))});s>0&&l.length>0&&(i[s]=l)}),i}function it(e,t,n,r){if(null!==t.indicatorMap){var o=Object(s.D)(r(e),n(e),e.proteinChange,e.mutationType);return t.indicatorMap[o]}}function at(e){return e.oncogenic.toLowerCase().trim().includes("oncogenic")}var st=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Object(i.createElement)("div",null,Object(i.createElement)("span",null,"The gene is listed under "),Object(i.createElement)("a",{href:"https://www.oncokb.org/cancerGenes",target:"_blank"},"OncoKB Cancer Gene List"),Object(i.createElement)("span",null," but hasn't been curated yet. Please feel free to "),Object(i.createElement)("a",{target:"_blank",href:"mailto:contact@oncokb.org?subject=Annotation suggestion for "+this.props.gene+"&&body=Thank you for using OncoKB.%0APlease provide the following information for "+this.props.gene+" curation:%0A%0AEvidence:%0APMIDs:%0AAbstracts:",title:"suggest to annotate this gene"},"suggest the team annotate the gene"),".")},t}(i.Component),lt=function(){function e(){}return Object.defineProperty(e,"LEVELS",{get:function(){return["1","2","2A","2B","3A","3B","4","R1","R2"]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LEVEL_DESC",{get:function(){return{1:Object(i.createElement)("span",null,Object(i.createElement)("b",null,"FDA-recognized")," biomarker predictive of response to an"," ",Object(i.createElement)("b",null,"FDA-approved")," drug ",Object(i.createElement)("b",null,"in this indication")),2:Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Standard care")," biomarker recommended by the NCCN or other expert panels predictive of response to an"," ",Object(i.createElement)("b",null,"FDA-approved drug")," in this indication"),"2A":Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Standard care")," biomarker predictive of response to an"," ",Object(i.createElement)("b",null,"FDA-approved")," drug ",Object(i.createElement)("b",null,"in this indication")),"2B":Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Standard care")," biomarker predictive of response to an"," ",Object(i.createElement)("b",null,"FDA-approved")," drug ",Object(i.createElement)("b",null,"in another indication"),", but not standard care for this indication"),"3A":Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug"," ",Object(i.createElement)("b",null,"in this indication")),"3B":Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug"," ",Object(i.createElement)("b",null,"in another indication")),4:Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Compelling biological evidence")," supports the biomarker as being predictive of response to a drug"),R1:Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Standard care")," biomarker predictive of"," ",Object(i.createElement)("b",null,"resistance")," to an ",Object(i.createElement)("b",null,"FDA-approved")," drug"," ",Object(i.createElement)("b",null,"in this indication")),R2:Object(i.createElement)("span",null,Object(i.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of ",Object(i.createElement)("b",null,"resistance")," to a drug")}},enumerable:!0,configurable:!0}),e}(),ct="listGroupItem-module_list-group-item__1Y5zb",ut="listGroupItem-module_list-group-item-title__3diZg",pt="listGroupItem-module_list-group-item-content__Sspft",ht="listGroupItem-module_no-style-ul__2Rf8i",dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=Object(i.createElement)("b",null,this.props.abstract);return this.props.link&&(e=Object(i.createElement)("a",{href:this.props.link,target:"_blank"},e)),Object(i.createElement)("li",{key:"abstract_"+this.props.abstract,className:ct},Object(i.createElement)("span",{className:ut},e))},t}(i.Component),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Object(i.createElement)("li",{key:this.props.pmid,className:ct},Object(i.createElement)("a",{className:ut,href:Object(s.I)("/pubmed/"+this.props.pmid),target:"_blank"},Object(i.createElement)("b",null,this.props.title)),Object(i.createElement)("div",{className:pt},Object(i.createElement)("span",null,this.props.author," ",this.props.source,"."," ",this.props.date),Object(i.createElement)("span",null,"PMID: ",this.props.pmid)))},t}(i.Component),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this,t=[];return this.props.pmidData&&this.props.pmids.forEach(function(n){var r=e.props.pmidData[n.toString()],o=r?r.data:null;o&&t.push(Object(i.createElement)(ft,{title:o.title,author:Object(l.isArray)(o.authors)&&o.authors.length>0?o.authors[0].name+" et al.":"Unknown",source:o.source,date:new Date(o.pubdate).getFullYear().toString(),pmid:o.uid}))}),this.props.abstracts.forEach(function(e){t.push(Object(i.createElement)(dt,{abstract:e.abstract,link:e.link}))}),Object(i.createElement)("ul",{className:ht},t)},t}(i.Component),yt={"oncokb-card":"main-module_oncokb-card__32DzD","tooltip-refs":"main-module_tooltip-refs__SpA4W",disclaimer:"main-module_disclaimer__3CLlM","orange-icon":"main-module_orange-icon__3k3xO",footer:"main-module_footer__2dc-8",feedback:"main-module_feedback__3vkZD","oncokb-logo":"main-module_oncokb-logo__3RVg7","enable-hover-a":"main-module_enable-hover-a__BuHRF","enable-hover-active":"main-module_enable-hover-active__2CbLQ",title:"main-module_title__2kT-n","additional-info":"main-module_additional-info__1nXTm","ellipsis-text-wrapper":"main-module_ellipsis-text-wrapper__18dny",indicator:"main-module_indicator__2DwvF"},gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this,t=this.props.content.split(/pmid|nct/i);if(t.length<2)return Object(i.createElement)("span",null,this.props.content);var n,r,o=t[1].match(/[0-9]+/g);if(!o)return Object(i.createElement)("span",null,this.props.content);if(this.props.content.toLowerCase().indexOf("pmid")>=0?n="PMID: ":this.props.content.toLowerCase().indexOf("nct")>=0&&(n="NCT"),n&&(r=Object(i.createElement)("a",{target:"_blank",href:Object(s.I)("/pubmed/"+o.join(","))},""+n+o.join(","))),"tooltip"===this.props.componentType){return Object(i.createElement)("span",{key:this.props.content},t[0],Object(i.createElement)(s.c,{overlay:function(){return Object(i.createElement)("div",{className:yt["tooltip-refs"]},Object(i.createElement)(mt,{pmids:o.map(function(e){return parseInt(e)}),pmidData:e.props.pmidData,abstracts:[]}))},placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(i.createElement)("i",{className:"fa fa-book",style:{color:"black"}})),")")}return r?Object(i.createElement)("span",{key:this.props.content},t[0],r,")"):Object(i.createElement)("span",null,this.props.content)},t}(i.Component),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this;if(!this.props.content)return Object(i.createElement)("span",null);var t=[],n=/(\(.*?[PMID|NCT].*?\))/i;return this.props.content.split(n).forEach(function(r){r.match(n)?t.push(Object(i.createElement)(gt,{pmidData:e.props.pmidData,componentType:e.props.type,content:r})):t.push(Object(i.createElement)("span",null,r))}),Object(i.createElement)("span",null,t)},t}(i.Component),bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelTooltipContent=function(e){return Object(i.createElement)("div",{style:{maxWidth:"200px"}},lt.LEVEL_DESC[e])},t.treatmentTooltipContent=function(e,n,r,o){return e.length>0||n.length>0?function(){return Object(i.createElement)("div",{className:yt["tooltip-refs"]},void 0!==o&&o.length>0?Object(i.createElement)(vt,{content:o,type:"tooltip",pmidData:t.props.pmidData}):Object(i.createElement)(mt,{pmids:n,pmidData:r,abstracts:e}))}:Object(i.createElement)("span",null)},t.columns=[{id:"level",Header:Object(i.createElement)("span",null,"Level"),accessor:"level",maxWidth:45,sortMethod:function(e,t){return I(s.l.all.indexOf(e),s.l.all.indexOf(t))},Cell:function(e){return Object(i.createElement)(s.c,{overlay:t.levelTooltipContent(e.value),placement:"left",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(i.createElement)("i",{className:Ze(e.value),style:{margin:"auto"}}))}},{id:"variant",Header:Object(i.createElement)("span",null,"Alteration(s)"),accessor:"variant",minWidth:80,sortMethod:function(e,t){return D(e,t)},Cell:function(e){return Object(i.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},(t=e.value,n={},r=[],o=new RegExp("^([A-Z])([0-9]+)([A-Z]$)"),c.a.isString(t)?t:(c.a.each(t,function(e){var t=o.exec(e);c.a.isArray(t)&&4===t.length?(n.hasOwnProperty(t[2])||(n[t[2]]={}),n[t[2]].hasOwnProperty(t[1])||(n[t[2]][t[1]]={}),n[t[2]][t[1]][t[3]]=1):r.push(e)}),c.a.each(c.a.keys(n).map(function(e){return Number(e)}).sort(),function(e){c.a.each(c.a.keys(n[e]).sort(),function(t){r.push(t+e+c.a.keys(n[e][t]).sort().join("/"))})}),r.join(", "))));var t,n,r,o}},{id:"treatment",Header:Object(i.createElement)("span",null,"Drug(s)"),accessor:"treatment",Cell:function(e){return Object(i.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},e.original.treatment)}},{id:"cancerType",Header:Object(i.createElement)("span",null,"Level-associated",Object(i.createElement)("br",null),"cancer type(s)"),accessor:"cancerType",minWidth:120,Cell:function(e){return Object(i.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},e.original.cancerType)}},{id:"referenceList",Header:Object(i.createElement)("span",null),sortable:!1,maxWidth:25,Cell:function(e){return(e.original.abstracts.length>0||e.original.pmids.length>0)&&Object(i.createElement)(s.c,{overlay:t.treatmentTooltipContent(e.original.abstracts,e.original.pmids,t.props.pmidData,e.original.description),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(i.createElement)("i",{className:"fa fa-book"}))}}],t}return x(t,e),t.prototype.render=function(){return Object(i.createElement)("div",{className:"oncokb-treatment-table"},Object(i.createElement)(h.a,{data:this.props.treatments,columns:this.columns,defaultSorted:[{id:"level",desc:!0}],showPagination:!1,pageSize:this.props.treatments.length,className:"-striped -highlight"}))},t=A([o.observer],t)}(i.Component),St="collapsible-module_collapsible-header__3nZtU",wt="collapsible-module_levels-collapse__2GBRW",Ct="level-module_levels__2ZL1B",_t="level-module_levels-li__1tgCC",kt="tabs-module_tabs-wrapper__XKjzo",Tt="tabs-module_tabs__2I3mz",xt="tabs-module_tab__3MoDA",Et="tabs-module_tab-pane__sGd85",At="tabs-module_tab-title-a__2WTNA",Ot="tabs-module_tab-title__2z9-D",Pt="tabs-module_tab-subtitle__1P8B_",It=function(e){function t(t){var n=e.call(this,t)||this;return n.activeTab="oncogenicity",n.levelsCollapsed=!0,n.handleOncogenicityTabSelect=n.handleOncogenicityTabSelect.bind(n),n.handleMutationEffectTabSelect=n.handleMutationEffectTabSelect.bind(n),n.handleLevelCollapse=n.handleLevelCollapse.bind(n),n}return x(t,e),Object.defineProperty(t.prototype,"oncokbLinkOut",{get:function(){var e=void 0;return this.props.gene&&(e="https://oncokb.org/gene/"+this.props.gene,this.props.variant&&(e=e+"/"+this.props.variant)),e},enumerable:!0,configurable:!0}),t.prototype.levelListItem=function(e,t){return Object(i.createElement)("li",{key:e,className:_t},Object(i.createElement)("i",{className:Ze(e)}),t)},t.prototype.generateLevelRows=function(e,t){var n=this,r=[];return e.forEach(function(e){r.push(n.levelListItem(e,t[e]))}),r},t.prototype.render=function(){var e=Object(i.createElement)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAABbCAYAAABd59MPAAAABGdBTUEAALGPC/xhBQAACjppQ0NQUGhvdG9zaG9wIElDQyBwcm9maWxlAABIiZ2Wd1RU1xaHz713eqHNMBQpQ++9DSC9N6nSRGGYGWAoAw4zNLEhogIRRUQEFUGCIgaMhiKxIoqFgGDBHpAgoMRgFFFReTOyVnTl5b2Xl98fZ31rn733PWfvfda6AJC8/bm8dFgKgDSegB/i5UqPjIqmY/sBDPAAA8wAYLIyMwJCPcOASD4ebvRMkRP4IgiAN3fEKwA3jbyD6HTw/0malcEXiNIEidiCzclkibhQxKnZggyxfUbE1PgUMcMoMfNFBxSxvJgTF9nws88iO4uZncZji1h85gx2GlvMPSLemiXkiBjxF3FRFpeTLeJbItZMFaZxRfxWHJvGYWYCgCKJ7QIOK0nEpiIm8cNC3ES8FAAcKfErjv+KBZwcgfhSbukZuXxuYpKArsvSo5vZ2jLo3pzsVI5AYBTEZKUw+Wy6W3paBpOXC8DinT9LRlxbuqjI1ma21tZG5sZmXxXqv27+TYl7u0ivgj/3DKL1fbH9lV96PQCMWVFtdnyxxe8FoGMzAPL3v9g0DwIgKepb+8BX96GJ5yVJIMiwMzHJzs425nJYxuKC/qH/6fA39NX3jMXp/igP3Z2TwBSmCujiurHSU9OFfHpmBpPFoRv9eYj/ceBfn8MwhJPA4XN4oohw0ZRxeYmidvPYXAE3nUfn8v5TE/9h2J+0ONciURo+AWqsMZAaoALk1z6AohABEnNAtAP90Td/fDgQv7wI1YnFuf8s6N+zwmXiJZOb+DnOLSSMzhLysxb3xM8SoAEBSAIqUAAqQAPoAiNgDmyAPXAGHsAXBIIwEAVWARZIAmmAD7JBPtgIikAJ2AF2g2pQCxpAE2gBJ0AHOA0ugMvgOrgBboMHYASMg+dgBrwB8xAEYSEyRIEUIFVICzKAzCEG5Ah5QP5QCBQFxUGJEA8SQvnQJqgEKoeqoTqoCfoeOgVdgK5Cg9A9aBSagn6H3sMITIKpsDKsDZvADNgF9oPD4JVwIrwazoML4e1wFVwPH4Pb4Qvwdfg2PAI/h2cRgBARGqKGGCEMxA0JRKKRBISPrEOKkUqkHmlBupBe5CYygkwj71AYFAVFRxmh7FHeqOUoFmo1ah2qFFWNOoJqR/WgbqJGUTOoT2gyWgltgLZD+6Aj0YnobHQRuhLdiG5DX0LfRo+j32AwGBpGB2OD8cZEYZIxazClmP2YVsx5zCBmDDOLxWIVsAZYB2wglokVYIuwe7HHsOewQ9hx7FscEaeKM8d54qJxPFwBrhJ3FHcWN4SbwM3jpfBaeDt8IJ6Nz8WX4RvwXfgB/Dh+niBN0CE4EMIIyYSNhCpCC+ES4SHhFZFIVCfaEoOJXOIGYhXxOPEKcZT4jiRD0ie5kWJIQtJ20mHSedI90isymaxNdiZHkwXk7eQm8kXyY/JbCYqEsYSPBFtivUSNRLvEkMQLSbyklqSL5CrJPMlKyZOSA5LTUngpbSk3KabUOqkaqVNSw1Kz0hRpM+lA6TTpUumj0lelJ2WwMtoyHjJsmUKZQzIXZcYoCEWD4kZhUTZRGiiXKONUDFWH6kNNppZQv6P2U2dkZWQtZcNlc2RrZM/IjtAQmjbNh5ZKK6OdoN2hvZdTlnOR48htk2uRG5Kbk18i7yzPkS+Wb5W/Lf9ega7goZCisFOhQ+GRIkpRXzFYMVvxgOIlxekl1CX2S1hLipecWHJfCVbSVwpRWqN0SKlPaVZZRdlLOUN5r/JF5WkVmoqzSrJKhcpZlSlViqqjKle1QvWc6jO6LN2FnkqvovfQZ9SU1LzVhGp1av1q8+o66svVC9Rb1R9pEDQYGgkaFRrdGjOaqpoBmvmazZr3tfBaDK0krT1avVpz2jraEdpbtDu0J3XkdXx08nSadR7qknWddFfr1uve0sPoMfRS9Pbr3dCH9a30k/Rr9AcMYANrA67BfoNBQ7ShrSHPsN5w2Ihk5GKUZdRsNGpMM/Y3LjDuMH5homkSbbLTpNfkk6mVaappg+kDMxkzX7MCsy6z3831zVnmNea3LMgWnhbrLTotXloaWHIsD1jetaJYBVhtseq2+mhtY823brGestG0ibPZZzPMoDKCGKWMK7ZoW1fb9banbd/ZWdsJ7E7Y/WZvZJ9if9R+cqnOUs7ShqVjDuoOTIc6hxFHumOc40HHESc1J6ZTvdMTZw1ntnOj84SLnkuyyzGXF66mrnzXNtc5Nzu3tW7n3RF3L/di934PGY/lHtUejz3VPRM9mz1nvKy81nid90Z7+3nv9B72UfZh+TT5zPja+K717fEj+YX6Vfs98df35/t3BcABvgG7Ah4u01rGW9YRCAJ9AncFPgrSCVod9GMwJjgouCb4aYhZSH5IbyglNDb0aOibMNewsrAHy3WXC5d3h0uGx4Q3hc9FuEeUR4xEmkSujbwepRjFjeqMxkaHRzdGz67wWLF7xXiMVUxRzJ2VOitzVl5dpbgqddWZWMlYZuzJOHRcRNzRuA/MQGY9czbeJ35f/AzLjbWH9ZztzK5gT3EcOOWciQSHhPKEyUSHxF2JU0lOSZVJ01w3bjX3ZbJ3cm3yXEpgyuGUhdSI1NY0XFpc2imeDC+F15Oukp6TPphhkFGUMbLabvXu1TN8P35jJpS5MrNTQBX9TPUJdYWbhaNZjlk1WW+zw7NP5kjn8HL6cvVzt+VO5HnmfbsGtYa1pjtfLX9j/uhal7V166B18eu612usL1w/vsFrw5GNhI0pG38qMC0oL3i9KWJTV6Fy4YbCsc1em5uLJIr4RcNb7LfUbkVt5W7t32axbe+2T8Xs4mslpiWVJR9KWaXXvjH7puqbhe0J2/vLrMsO7MDs4O24s9Np55Fy6fK88rFdAbvaK+gVxRWvd8fuvlppWVm7h7BHuGekyr+qc6/m3h17P1QnVd+uca1p3ae0b9u+uf3s/UMHnA+01CrXltS+P8g9eLfOq669Xru+8hDmUNahpw3hDb3fMr5talRsLGn8eJh3eORIyJGeJpumpqNKR8ua4WZh89SxmGM3vnP/rrPFqKWuldZachwcFx5/9n3c93dO+J3oPsk42fKD1g/72ihtxe1Qe277TEdSx0hnVOfgKd9T3V32XW0/Gv94+LTa6ZozsmfKzhLOFp5dOJd3bvZ8xvnpC4kXxrpjux9cjLx4qye4p/+S36Urlz0vX+x16T13xeHK6at2V09dY1zruG59vb3Pqq/tJ6uf2vqt+9sHbAY6b9je6BpcOnh2yGnowk33m5dv+dy6fnvZ7cE7y+/cHY4ZHrnLvjt5L/Xey/tZ9+cfbHiIflj8SOpR5WOlx/U/6/3cOmI9cmbUfbTvSeiTB2Ossee/ZP7yYbzwKflp5YTqRNOk+eTpKc+pG89WPBt/nvF8frroV+lf973QffHDb86/9c1Ezoy/5L9c+L30lcKrw68tX3fPBs0+fpP2Zn6u+K3C2yPvGO9630e8n5jP/oD9UPVR72PXJ79PDxfSFhb+BQOY8/wldxZ1AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfjBhkVDBxcDFzhAAAZ4ElEQVR42u2dd5wWxd3Av3fHnQciIkp1VRQJqBGRtcVELLG3GGPsYo8tUTGuJTGv5bW+q9GIFSv2FkvsGiKK8qK4xoaIBVEXbKgUj0PKXf6YecLj+dyWZ2d293me+X4+z+c5eHZnZ2dn5zczvwYGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYCifupzXrwuwItAs/+5Y91Zgofw2GAwGQw0KkJ5AP2A9YFdgK2BIzDLmAJOBp4EXgc/lx2AwGAxVJECagIHA4cCpJVYXKnkIuAyYCsw1j9xgiMyqCceIVqAlg7Glh4Zxch6wOOCYeqBXRs+pXdat8GmvVmE1ELhX3mAWn5nA1kBXMzYYDJEGpiSfa1OubzPQpmHcmBHh2r0zHNdKfaYB44BjgMGyfo2V2AmbgL1z1rjtwBhgJTNGGAydsizhO3ZlinWtlzsMqscJP+L1e+dwjCv1mSIn0d3z3vm6SOmX9wYdD3QzY4XBUNEC5GMNY8PXMa5fKQKk+PMqYOWx4/2yAhvzOvTqYgwGI0D08LqG8eA74ul/KlGAFD6fA6vlocPVAbMquCHbgfXNuGEwVIwA+ZemcaA5Zj16V/i4V5bOql7hg9wTocAaUOEvzVS5rVVnxg+DIdc8BGyrodyuwKIabM9jgU+yECDPA49UUUNuJ2dfjeYdNRhyyThgLw3l9qxR4VFgDWK4O6gQIHOAkVXYkHUIm+q+5l01GHLFGGCUhnJ7I/w9ap2VgQ/SECDfIZyNqpnPgWGmTxkMueAC4Pcayu0jJ8MGwSDgUZ0CZCEiTlUt8AawoelTBkOmnAb8SUO5qwNfmeb9EbsDm+sQIAuoPW/uN6VUNhgM6XMUcImGctcGZpvm7ZQ7VQuQGVSAF6MmPiC7eDcGQy3PhG/QUO4gRHgjQ3AbDVUlQK6SEruWMR3OYEiPTYmwF18Gw4kW48ogxv2SxPG8HgyckGKl3wTuBiYA3yJ0LsU0IXQwmyLM+XZPqV4rAbehxwrEYDAsZ23gZQ3ljkToNQ3RSKz/bSIdT8irEZ7g5fpfWIgQ8YtSqOvPTb8yVDlZeqKvBCzR8N5uq6mtVHiinxTzmnUIj/m+ctwcBUzXNN4l4i7Ng/FhqFfKb4LQWeiqcxvGW91gBIguAdKq4Z39rca2UiFA/qioLmsBDypuu7KDLvbVOAifi/4AhjvIwV5HnoBzzBhjMAJEuQCZr+Fd1b39nicBUmB3he1Xttf/DA0Pcx5Cp5IWXTRI5MJnNTPOGIwAUSZAvtLwjp6cQlvlUYAgt8W0tWGYFdZg1FtdvYIwhX0/xRdhKSKplaOh7AvNOGMwKOFjDROyC4ArarhN/wZ8o6CcXuUIkCcU38xjCM/GZRk15qXAEYrLPBoRO8ZgMJTPVGBNxWVeD5xlmlaJAK2LK0DWBNZVeBMvA3vkoDFvAX6nuMxTTB81GMrmRdTn4RmHCE9uEG2RlNje+lehbg/yW/JnsTRW4f0tMX3UUIWkoQN5GPU6jwczaKu86kAKpOq20Kj4gQ7O4ctRh9gbVHWPu+Xs/roA+0pB+RalrdBagHeAe4HRwIgKGtxGAMchUhFPAr7sZMBrkdsj9yN0YNuQw9TFluNF+r8qEyA3ahAez2bUVnkWICr8+KLvawFbAi8pqvx5wNk5HYT6oy6Q2oPAb2I80GcoTxfUKAf7zkaXTYE/A79KMFO5GBG4Lk+5EVaQ7XsYwjQ7KVMREQUeJGLuA02CYy05wRqAUFT2kD+1SaE4G5jhu/Y7xYLFd+20BEiSiN1jgBM7+e1C4EzF9X0B2DpDAfJlwjJOBS7TULddgccTnD8PkWgrsgC5CzhA0bKpAQWejBq5D3UORlG36bry49AscdgB+GeH/1tdzrJ/prBtzkH46mTJhlIg7qfxGtOkUH46BYGxpnx+o4ifiO1DKfSe8F371RSEiS4BMhr4q+K6egjn4azIswB5Tq68y+V1YONSP3TWOQ5QVPFDci48QIQ+UcVWGd3DsYCvWHgUBMhnZOPrMhSxNfWmZuEBsB7wFPAp8FNNgmNPy/GmI0xVb6S8LJ6DpECfYjlem+V4o5EWgDnY7orKwRqEx7SMhUfeSRp2aXRnP5QSID9RWPF7K6BxW0rM5sslCyuzccC1Gsvvh3DuGpjS/TTLWfY0DQIxdJxH6ItcBQKj8L2v5XjtwCOK3606ORDPtRzvYmSKhZwLkt2A2xWX+QHqLbiqiWmUH1sQ+e5PiCNAVD2MSxAOfJWAqhlu2gEW7yC9qMAzWL4/r4vhiBhIh2TcH04F3i3nxSsawNe3HO+7lCZRpwMLLMcb5bt2XoXILxB+YCqZTT4NdPJAnRz4hyYs58SgH0sJkF0U3cBtFdTYqpTFm6dU3zaE78lBKXfIVzSWfwrw7xz1iSHAF3GFhxzAr0Yo6dNO+TzOcrz3yJ9j6zBgouIy5yP0foYfj+lbyzEiqUHBZOCeuAJkJ0U38k4FNfoyxL50UhqAVVKob3/0KNuiDKpnaij39ozuJ4yZMVceK1qO9w1wfIZ1HozY1tqkw4ooC9oRzsiqc28sAFatwsF/RXlfvSN++iG2XQfLcfteOZZNUFCXuUTYQq7r5KEn5R7UKeLTYk2EgjMp2wPjQ45JaoW1lOx8GRahNvT+o6SXDCzuBGiDGMKjF/B1wlVlC8u3fRsQ+qCmBGUe4rv2HQkstZJaYT0A7KP4uSxBGHXMz1l/UWGFlRcWI8zmI21LFLMaQmmSlJ1JwSRSMc2I/feknES4A1VSAZI1ZyP8e5JyHXBMDu/vI2CdGMJjZTljizsJ+By4Cbjed+3PAq5xMHCarFPcbbETfNe+JsHKvD5nz6YXIrJF3qgWAfKNvJe2cgTIUITWPilDEZmxKokG1Cj9rwL+UOUC5GOSW2XtibBMyhtfInLgRBUejcD3RPcBWgRc5Lv2eSXK6yJXlgXv38UdVw6W420F/F2+5FE5yHftu6pAgPQG5uT0nagGATKBmBkbu5SQ7ir4ugIbb5l8uZsTlrMK1c9acpD9IkEZD+XwvuZFFR5FE7CFEYVHO3Ca79qXFpn4NiP8F06nk208y/GmIqKp3gO0+K49EehjOd4QRIDSKArzOy3He8N37akV3OfWzLHwqHS+R/iwTYl7YsfZxUoKX8RK5DUFZfSokU6XJLfKRzncGmmhk3ANnaw8QPiMRNFFzfBdux4oCA/LcrwPEVumEwnWAW0A3IBQHLdZjrez5Xj1vmtP9127J9GNP17rUPdKYiDCydOglsUI37XmcoRHKQHSqKhilRqdVsW2Wx5MKAs52wsfHZTrdb8rep0Si+89qkFIGzGseqSp7o5EU7K7vmsPkn+vIIXnp0TUsZTgSWCZ5XiFax8NbBHhvCbL8Z5PKYaWas7GoJIXEI6nzST0zekoQLrXeMN+UeH1nwpsJp9rQ9GnHvWmpeUOgHdouO+nEU6cdR3uvWATPyvk/D5yGR8JqauIYiRyqO/ap8lzjkJskaoSnm9bjjfed218136ZaFunIy3H27sC+/XhCCMCgxpGAt/JidMMEsTJ0rGNsNA8n0wEXyMijtOUTmbl18rn/YCia5YTH+sg1OmI2hFpihsQVn+TAmZblpxtlbJ0Wp34Orv7Ixxzku/at0nhcSdiG0o121mOt8ByvCbftecSLf309RXaxy9Bbdw6g2BtRLDFdkSE8MwFSDfzTFLlZYRDURQLsnZE5OFnFF077mz6SkXXfVf23YeIvkX3PSJk+tgOq6jI4fwtx8NyvBWAvUIOfcR37SvlOf8ADtT4/LsDrVKIzIxwrdUsxzu1QnUhN8vJgkEPO8gxInK8so4C5Lsab0AVOZnTzLzYSrT9747shFCgJSVOBNRG1Fj5vYSInlsuxwBPIOJufRTnRKk/uCnCoftI4XE56QTYrEeEesd37bsJt3BzUtKFzNJQ5pOkFzKoVjkYYbTRM0rHK0bV9lPXCm24dRSUkaYF2skJzv2TgusPiXHsLQqu9wkiKF9SdqOM8BrS7DYs/tgw37WXWo63ccznsxiRP+NARCbJvwDvxame5XgXSSGyd8iKtI/leDul0D/vBy7QUO5k0osOXat0RzhsbhN0UEcTxAWKLt4DNV7dabOFgjLSEiDL+OF2TFwuQ+wrNyQoI0548r0U3POQjPtH2Mz3Pd+135J/PxWxzJuAU3zXLhWa43zL8brJrYWHI5R1huV443zXfhc4A7g04NgL0R8togE4C7BRv/X0EcLicT4GnTxH6QR2JVcgcxVddLUKbKgGReXMTqm+9ygoI+mW5YAYxyZ10HwAYcWUJWGrqJ2knuRchGVXEIuAfr5rHwXMD9BJLPRd+xGEbjGKrf59chVyWUh7bZhiu+2CHi9t4xuSDs/SyXZWRwGi6iFvUIGN1KSonPdTqu94BWW8l/D8qFuVaysQ0Idm2Tksx+tKiJWT79ozpW7hxJDivgS6+679RVGgwyssx/vYcrxvLcebZznebMvxJrDcKKXVd+3NEGFMgthQbp8BBMXAarQcb7sUm3CghjJ7GCGSGh9EESCqtl9GVWADqUpMk1YY+7cUlPH/Ka3aklohTSdD83C5OgiLMHCiPHZrwpWPQxBbkAB7WY63CBGEc015bg9EyP6tgRbL8R4uJIryXXsfSpsjF/N7+X1dyHF/SNEaqxU9+Tss1ESQyAMnI4xw4nwKPk8ryj4zFLFdqDpU0KqUMCApZcb7toKL7Ub+QlWEcb6icianVN+ZCsr4MKW6Jk1sk2miKblC+GXIYQXTx8vDBm3ftedKgXCwfNHDQmf/ynK8yUXZBtcqEkClOELW+32CI9cOS9kzfTZCH6KajYF/VIEAKSdFQyHqwkJEdOfpCN3W3lLAbCb/X8vCoNQg/7iii21UQQ+uETXmlvNDXmyVqAgsl9byP+mg8WwO+sivQ35vkd8DA45Z6Lv2VVJPsi7x8oNvbjneKdLzfAnwfMiqaaMIbZdF4M/XEL5IqtkDNUnhqo0pcmVysCIBNyZMgIxXVPHRFdTIa1XY6kMVn6V0naRm3XlIDRCU736JHNTDBuWrilY0l5dRh8ssx+siVyH7hRw7XH4H7VFlFfjzAYQVmGqOxMTN6ow7UWMJd0SYAHlXUYUPoXIi0z6lqJwXUqqvqlXO4pTqm9S50s9BH+kf8NtzctYf5oj6jFx9dKH8LIzry1XIHIL1Qj+V30GGEg0ZtuefFU5WizkHOMrIi5I8TfJYdN0oMjiq72RbQ1UE15MroFFXAQYpKuvBChmQK41lWV7ccrwwfV7B8m5o2EpKrj42SVCdI4v+DjLDLiisvwq5tywnedujJ4DpDcCONfieRJ3YJ2V0kAAB4WSmgnOJmGMhQyYpKmcharI5ViPtCc/vl/P6FyL5hqVDKOhJkuTdGRBRsBZWF0s1PxsUPFsddXiaZCFvqpkPEp5/dJgAuU1hZW/JcUP+PMKsMSq3m37ZKUkdAIdmXP+wmWzBSTJsS7CQLiGJufynJYREKZZGFGp5sJbUpcx/mxh5XmqIpKu+fmGd522Fld2L8vd7dbIC8KLiZbOhNEl9Y0ZmWXnftcO2dAshXcJWoEOlAnyKon4WtJIp6I16h9xbHrKHzkOPeW8dwnTYbGX9kKQqioYosw+VVlSPEi/XdBpMUljW5wRbu9Q6ExKev2kO7iFIkb+tHIzDlP07SwV4O+Xry96XivgBBFu3vd1BuAWtUvLAa/xQv6OKJtSFaKoWkmZNrYsiQFRvyUwj3GEqLW4ERigsz5gOBpPUK3Z4Du4hyMKuwXK8gmXKNwHHnQD/9WwvZ4L2O9+1l0pFfFhisNfld5DCPm+BCG8mOPxKufQg+b5/NbGOqoKCBMjXqHWH74kwKVwx48Ybq2GmM9b0yUA8kitK/5bxPTwS8nshZlWQd/8KluP9Ua5CPiFehOInfde+Qa4+uhESGbgoKnBQ2PZvc9hXTlCwYi3FICrPT0sHO5A8dXl7FAECIvmOKuqANRCB5FbPoOHq5CBwtOJyzzB9MhJJFenHZlVxuWIIG9QKk5KwQIqXWo7XV8a1egRhyhoW5+tm37V3LQq8ODPk3b1e1ns9gvUkr+c0M+G2xEz2FZHNgXE1/h7eqqCMtqgC5CvUxpipkzM1H9g/xUYbKGdbOrLDXWJkQySmJDy/KasZpBy0w7Z7LrUcr8537ckEb2OBMCoo6C/G+669ImIb9C05wZqD2HK5G2j2XfvIgvCwHO8JQhTjSI/3CEL3rynHwoq7zbJAQ7mjgDNr9B38O/FSMHTG91EFCIRnYCuXu+WLZGlssGZERrRC8hnV1hgHY4iKinDsm6PGR+niCINwRyGyiPCQKoPkjP7/Qo7rBcyzHO8nRQESz/Nde5jv2n191+7tu/Zg37UPLHpZV7Ic701Ebo1AQe27dkGBflzAcYt9156U8z7TDz1OpBcCB9TY+/cAIsCiCh6LI0C+A47XdFPrIezax6MmH3mBnggv+FbUpG4tOaYg4ssYojFT0YzyFODaBOdfAZyOsIWPG6PriJDfX5D6jUsIjzPWCEy3HO9uYEDASqCn5XiHyhVQlCRQBwJYjvcXgn1A3qyAPrOQ4BhkSbgL+FmVv3MNCPPoduA3Csu9svBH1PDB18lZVXdNN7od8DHCEesE4AnE9tmSGGWsCqwrb26zFB7OVkYmxMYFzlNQzrFyoNwQkSc9Ct2Bl4Bh8t91iG3NlWL0szCFQX/L8TbxXftVxD5+lLhy+wP7y1XIbQjz8qVycrUP8QJ9nuW7dsHa6JyQY0+rkD7zshwTrtZQ9iREHqC8WGh1QzhVlrNT0shyFcH6iJ0jHWqCxcCrFL1EcW6uJeUGnQU8A7zCcietggXA6ghT3JEpCYxijiZZ6OiuJEuQ1IaaQHgjSOa/MrmMWVwLyy2WVLBArgwmytXyIpYr+ZoQJpwnB6xEvyZGCmbL8W4k3IqvyXftJZbjnY8IGpgG7/muPUTW8XFg14BjP/ddu3+EMpeRzFN9DOFGBVG5huAtuSQMIHlk6t7oSdubN6ZTFBkirqTbnnzkZsh6RrRFwjJqWYCciZ5Q3kn4iAi28XKV0ESRErETnvFdeyd5zp0kz8gYRSj38F27zXK8IyNMbk4ExkRQoOdJgAA8iZqQ5KXoSbIQM7UiQPpQFKAzbuf4J2rMwCqVxcCWGJJwEeoypKlibWBq2EFSv7GY8FhxO1qOd6Y85yD0+gl9VSQ81osgPD7zXXtMjq2vgtgFdekmOjKX/Dg655V36BDduZzZxeFknGI0Q1ZFXaj7WmZYDuu0PhEUy3IVcniE8i60HO84KUSOQY8142O+a/eRwqM/0WKOHZVT34+orIc+D/o55tXslCXABh3/s9zl6QjU5OSuJHoRnH/BEG/WfHkO67UhYosybBXSRrQAj9dYjlfwybgLsWX8joJ6tgPr+K69hxRq2yCCBobxrO/aT1To6qOYAZrK7V7Dk+MwSm4dJtnfXLuGGrs7+Qz7UMmcgrCKyhubAf+KcNxEoumPTrAc7wugUQqfDeRKtpyI10uBkb5r1/uu/ZEUHvchMyKG0Oq79o5V0ndagI01lT0cuN+8nj/gss7eiaS5AEaQXha+LFiG2BdtMX1IC78ggu4hA7YFHo+wEtmEaCFa+gCLLccrBN38Rq526uX3/XQeGfdVhBK+QQqhiVJwbGQ53vfAb2OsrqqJ19Hn5LwPJsJEgbHAqZ39qMozez/gnipruEkIXw8dOo9atsIqxVssz+GdJx4jIPxNUXiRJUT3qQK41Hdtp0R59UXvZDvQ1nG7yXK8XaXAiWMKvZeMu1XOBCpPVlilOAv4X01lH090p9VqtMI6lZDIDypDe3RH2NQ3VUHD7R42AzUCRKkAAZEzJm+Jx5YSktGvyLS3NeZg2yZXtmOBqwtbUiXKb0T4ufyPHKQaY97D4b5r35pgBZ53AQIi9YSusEL7A/fWmABpR5i1zww7UHVsqHpEnCGnQhtuFjAE/VtWRoCU5jDykwJ5EcJwojXsQClEuiKsg7okeKZL5KBdJ9+lhgTl/XflURTFt1oFCMAb6LPu2wZ4vkYEyBVy5REpBpnqfMhtiBAJK6PPXlsXNiKwo9F3ZMetiFAOn2VcD0+uqFujHCwH51bEttLsMq9Zj9C3dZPCaIWEwmP9hMKj0hhOuINnuUyg+nRIHbkXkatpNDECWNZrqsx8hL32QPJv7vtr+aK+ZsbvXDAXYaa5fUbX3wORxS9WFFg5SC/xXXt1hLNkVrwBdPNde1pRvWqBdvSZ94LwEVq1ytpsMSK8fQ/EVl3sXZF6zRX8GGHuuwb5stb6EhEavAF4GD0how3JGC+fz/ak439zopz5P1ZuAYXQ7L5r/0n2+bRzce/pu/bwqCunKuQbSji7KcRPYczUzYuITJj95Sr3dhJEyU6rMXxEOOEeCIeULKJftiF8D9YA+iICNFaqV7mq55ZUj9IjhWc2HhExdx1EbheVPC4nEo2I/fpFiTv68hm/77v2KogUoronKGcCXX3XflTxllXSftYtg3fjHWA3TWU3B8zS63IyNrTK8fVJhD56NylU+8g6boXIzKoknFCWN90Tsc11CCI0RLOGazyJSO/5b6KH/TbknzUQOa73lSuUwRHOmQc8hUis86Z8yVKbQFiOtyUiLYKqvfTvgaOAh3zXbqkhXYchR9TlqC49EErsQpj2EXJgWAehlC/FEikY3kU4pE1BRFadRf4C9hn00h2xBdWtQ/+eh9hKas9DJS3H64OI5nwMwSHXO5tdX4MISfKeLM8IDoMRIAZDLWI5Xj+E8rcvYquuoKhtQ1ijzQFm+649s+gcIzQMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBk38B9V+MKCNqpWZAAAAAElFTkSuQmCC",className:yt["oncokb-logo"],alt:"OncoKB"});return Object(i.createElement)("div",{className:yt["oncokb-card"],"data-test":"oncokb-card"},Object(i.createElement)("div",null,!this.props.geneNotExist&&Object(i.createElement)("span",null,Object(i.createElement)("div",{className:kt},Object(i.createElement)("div",{className:yt.title,"data-test":"oncokb-card-title"},this.props.title),Object(i.createElement)("div",{className:Tt},Object(i.createElement)("div",{key:"oncogenicity",className:p()(xt,"enable-hover")},Object(i.createElement)("a",{className:p()("oncogenicity",At,yt["enable-hover-a"],"oncogenicity"===this.activeTab?yt["enable-hover-active"]:""),onClick:this.handleOncogenicityTabSelect},Object(i.createElement)("span",{className:Ot},"clinical implications"),Object(i.createElement)("span",{className:Pt},this.props.oncogenicity||"Unknown"))),Object(i.createElement)("div",{key:"mutationEffect",className:p()(xt,"enable-hover")},Object(i.createElement)("a",{className:p()("mutation-effect",At,yt["enable-hover-a"],"mutationEffect"===this.activeTab?yt["enable-hover-active"]:""),onClick:this.handleMutationEffectTabSelect},Object(i.createElement)("span",{className:Ot},"Biological Effect"),Object(i.createElement)("span",{className:Pt},this.props.mutationEffect||"Unknown"))),Object(i.createElement)("div",{className:yt.indicator})),"oncogenicity"===this.activeTab&&Object(i.createElement)("div",null,Object(i.createElement)("div",{className:p()(Et)},Object(i.createElement)("p",null,this.props.geneSummary),Object(i.createElement)("p",null,this.insertLink(this.props.variantSummary,{keyword:"Chang et al. 2016",link:Object(s.I)("/pubmed/26619011")})),Object(i.createElement)("p",{style:{marginBottom:0}},this.props.tumorTypeSummary),this.props.treatments.length>0&&Object(i.createElement)("div",{style:{marginTop:10}},Object(i.createElement)(bt,{pmidData:this.props.pmidData,treatments:this.props.treatments})))),"mutationEffect"===this.activeTab&&Object(i.createElement)("div",{className:p()(Et),style:{maxHeight:200,overflowY:"auto"}},void 0!==this.props.biologicalSummary&&this.props.biologicalSummary.length>0?Object(i.createElement)(vt,{content:this.props.biologicalSummary,type:"tooltip",pmidData:this.props.pmidData}):this.props.mutationEffectCitations&&(this.props.mutationEffectCitations.abstracts.length>0||this.props.mutationEffectCitations.pmids.length>0)?Object(i.createElement)(mt,{pmidData:this.props.pmidData,pmids:this.props.mutationEffectCitations.pmids.map(function(e){return Number(e)}),abstracts:this.props.mutationEffectCitations.abstracts}):Object(i.createElement)("span",null,"Mutation effect information is not available."))),Object(i.createElement)("div",{className:yt.disclaimer},Object(i.createElement)("span",null,"The information above is intended for research purposes only and should not be used as a substitute for professional diagnosis and treatment.")),Object(i.createElement)("div",null,Object(i.createElement)("div",{className:St,onClick:this.handleLevelCollapse},"Levels",Object(i.createElement)("span",{style:{float:"right"}},this.levelsCollapsed?Object(i.createElement)("i",{className:p()("fa fa-chevron-down",yt["orange-icon"])}):Object(i.createElement)("i",{className:p()("fa fa-chevron-up",yt["orange-icon"])}))),Object(i.createElement)(m.Collapse,{isOpened:!this.levelsCollapsed},Object(i.createElement)("div",{className:p()(Ct,wt)},Object(i.createElement)("ul",{style:{lineHeight:8,padding:0}},this.generateLevelRows(lt.LEVELS,lt.LEVEL_DESC)))))),!this.props.isCancerGene&&Object(i.createElement)("div",{className:yt["additional-info"]},"There is currently no information about this gene in OncoKB."),this.props.geneNotExist&&this.props.isCancerGene&&Object(i.createElement)("div",{className:yt["additional-info"]},Object(i.createElement)(st,{gene:this.props.gene})),Object(i.createElement)("div",{className:yt.footer},void 0===this.oncokbLinkOut?{oncokbLogo:e}:Object(i.createElement)("a",{href:""+this.oncokbLinkOut,target:"_blank"},e),this.props.handleFeedbackOpen&&Object(i.createElement)("span",{className:p()("pull-right",yt.feedback)},Object(i.createElement)("button",{className:"btn btn-default btn-sm btn-xs",onClick:this.props.handleFeedbackOpen},"Feedback")))))},t.prototype.handleOncogenicityTabSelect=function(){this.handleTabSelect("oncogenicity")},t.prototype.handleMutationEffectTabSelect=function(){this.handleTabSelect("mutationEffect")},t.prototype.handleTabSelect=function(e){this.activeTab=e},t.prototype.handleLevelCollapse=function(){this.levelsCollapsed=!this.levelsCollapsed},t.prototype.insertLink=function(e,t){if(!e)return e;var n=[],r=e.split(t.keyword);n.push(r[0]);for(var o=Object(i.createElement)("a",{href:t.link,target:t.target||"_blank"},t.keyword),a=1;a<r.length;a++)n.push(o),n.push(r[a]);return n},A([d.observable],t.prototype,"activeTab",void 0),A([d.observable],t.prototype,"levelsCollapsed",void 0),A([d.computed],t.prototype,"oncokbLinkOut",null),A([d.action],t.prototype,"handleTabSelect",null),A([d.action],t.prototype,"handleLevelCollapse",null),t=A([o.observer],t)}(i.Component),Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"evidenceCacheData",{get:function(){var e;if(!this.props.geneNotExist&&this.props.evidenceCache&&this.props.evidenceQuery){var t=this.props.evidenceCache.getData([this.props.evidenceQuery.id],[this.props.evidenceQuery]);t&&(e=t[this.props.evidenceQuery.id])}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pmidData",{get:function(){if(this.props.pubMedCache&&this.evidenceCacheData)for(var e=this.props.indicator&&this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.citations.pmids.map(function(e){return Number(e)}):[],t=0,n=function(e){var t=[];return e.treatments&&c.a.isArray(e.treatments.sensitivity)&&e.treatments.sensitivity.forEach(function(e){c.a.isArray(e.articles)&&(t=t.concat(e.articles.map(function(e){return Number(e.pmid)})))}),e.treatments&&c.a.isArray(e.treatments.resistance)&&e.treatments.resistance.forEach(function(e){c.a.isArray(e.articles)&&(t=t.concat(e.articles.map(function(e){return Number(e.pmid)})))}),t}(this.evidenceCacheData.data).concat(e);t<n.length;t++){var r=n[t];this.props.pubMedCache.get(r)}return this.props.pubMedCache&&this.props.pubMedCache.cache||{}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,t=Object(i.createElement)("span",null),n=this.evidenceCacheData;if(this.props.geneNotExist&&(t=Object(i.createElement)(It,{gene:this.props.hugoSymbol,geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,pmidData:{},handleFeedbackOpen:this.props.handleFeedbackOpen})),!n||!this.props.indicator)return t;if("complete"===n.status&&n.data&&!this.props.geneNotExist){var r=n.data,o=this.pmidData;t=Object(i.createElement)(It,{geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,title:this.props.indicator.query.hugoSymbol+" "+this.props.indicator.query.alteration+" in "+this.props.indicator.query.tumorType,gene:this.props.indicator.geneExist?this.props.indicator.query.hugoSymbol:"",variant:this.props.indicator.query.alteration?this.props.indicator.query.alteration:"",oncogenicity:this.props.indicator.oncogenic,oncogenicityPmids:(e=r.oncogenicRefs,c.a.isArray(e)?c.a.map(e,function(e){return Number(e.pmid)}).sort():[]),mutationEffect:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.knownEffect:"",mutationEffectCitations:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.citations:{abstracts:[],pmids:[]},geneSummary:this.props.indicator.geneSummary,variantSummary:this.props.indicator.variantSummary,tumorTypeSummary:this.props.indicator.tumorTypeSummary,biologicalSummary:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.description:"",treatments:Je(r.treatments),pmidData:o,handleFeedbackOpen:this.props.handleFeedbackOpen})}else"pending"===n.status?t=Object(i.createElement)(s.t,{status:s.s.LOADING}):"error"===n.status&&(t=Object(i.createElement)(s.t,{status:s.s.ERROR}));return t},t.prototype.componentDidUpdate=function(){this.evidenceCacheData&&"complete"===this.evidenceCacheData.status&&this.evidenceCacheData.data&&this.props.onLoadComplete&&this.props.onLoadComplete()},t=A([o.observer],t)}(i.Component),Dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e="entry.1744186665="+(this.props.hugoSymbol||""),t="entry.1671960263="+(this.props.alteration||""),n="entry.1381123986="+(this.props.userEmailAddress||""),r="entry.1083850662="+encodeURIComponent(window.location.href);return Object(i.createElement)(y.Modal,{show:this.props.showFeedback,onHide:this.props.handleFeedbackClose},Object(i.createElement)(y.Modal.Header,{closeButton:!0},Object(i.createElement)(y.Modal.Title,null,"OncoKB Annotation Feedback")),Object(i.createElement)(y.Modal.Body,null,Object(i.createElement)("iframe",{src:"https://docs.google.com/forms/d/1lt6TtecxHrhIE06gAKVF_JW4zKFoowNFzxn6PJv4g7A/viewform?"+e+"&"+t+"&entry.118699694&entry.1568641202&"+n+"&"+r+"&embedded=true",style:{width:550,height:500,border:"none",marginLeft:"10px"},marginHeight:0,marginWidth:0},Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"}))))},t}(i.Component);function Lt(e){var t,n,r=[0,0,0];return e&&(r[0]=(n=e.oncogenic,Ke[n]||0),r[1]=(t=e.highestSensitiveLevel,$e[Qe(t)||""]||0),r[2]=function(e){return Ye[Qe(e)||""]||0}(e.highestResistanceLevel)),r}function Nt(e){return e?(e.oncogenic?e.oncogenic:"Unknown")+", "+(e.highestSensitiveLevel?e.highestSensitiveLevel.toLowerCase():"level NA"):"NA"}function Rt(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var jt,Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showFeedback=!1,t.tooltipDataLoadComplete=!1,t}return x(t,e),t.prototype.render=function(){var e=Object(i.createElement)("span",{className:""+W["annotation-item"]});return"error"===this.props.status?e=$("Error fetching OncoKB data"):"pending"===this.props.status?e=K("pull-left"):(e=Object(i.createElement)("span",{className:""+W["annotation-item"]},Object(i.createElement)("i",{className:Xe(this.props.indicator),"data-test":"oncogenic-icon-image","data-test2":this.props.hugoGeneSymbol})),!this.props.disableFeedback&&this.showFeedback?e=Object(i.createElement)("span",null,e,Object(i.createElement)(Dt,{userEmailAddress:this.props.userEmailAddress,hugoSymbol:this.props.hugoGeneSymbol,alteration:this.props.evidenceQuery?this.props.evidenceQuery.alteration:void 0,showFeedback:this.showFeedback,handleFeedbackClose:this.handleFeedbackClose})):(this.tooltipDataLoadComplete||this.props.evidenceCache&&this.props.evidenceQuery)&&(e=Object(i.createElement)(s.c,{overlayClassName:"oncokb-tooltip",overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],onPopupAlign:Rt,destroyTooltipOnHide:!0},e))),e},t.prototype.tooltipContent=function(){return Object(i.createElement)(Mt,{hugoSymbol:this.props.hugoGeneSymbol,geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,indicator:this.props.indicator||void 0,evidenceCache:this.props.evidenceCache,evidenceQuery:this.props.evidenceQuery,pubMedCache:this.props.pubMedCache,onLoadComplete:this.handleLoadComplete,handleFeedbackOpen:this.props.disableFeedback?void 0:this.handleFeedbackOpen})},t.prototype.handleLoadComplete=function(){this.tooltipDataLoadComplete||(this.tooltipDataLoadComplete=!0)},t.prototype.handleFeedbackOpen=function(){this.showFeedback=!0},t.prototype.handleFeedbackClose=function(){this.showFeedback=!1},A([d.observable],t.prototype,"showFeedback",void 0),A([d.observable],t.prototype,"tooltipDataLoadComplete",void 0),A([r.a],t.prototype,"tooltipContent",null),A([r.a],t.prototype,"handleLoadComplete",null),A([r.a],t.prototype,"handleFeedbackOpen",null),A([r.a],t.prototype,"handleFeedbackClose",null),t=A([o.observer],t)}(i.Component),Gt=function(e){function t(t){return e.call(this,t)||this}return x(t,e),Object.defineProperty(t.prototype,"selectedValues",{get:function(){return(this.props.columnVisibility||[]).filter(function(e){return e.visible}).map(function(e){return{value:e.id}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return(this.props.columnVisibility||[]).map(function(e){return{label:Object(i.createElement)("span",null,e.name),value:e.id}})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(s.a,{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onChange,options:this.options,value:this.selectedValues,showControls:this.props.showControls})},t.prototype.onChange=function(e){this.props.onColumnToggled&&this.props.onColumnToggled(e.map(function(e){return e.value}))},t.defaultProps={name:"dataTableColumns",placeholder:"Columns",showControls:!1},A([d.computed],t.prototype,"selectedValues",null),A([d.computed],t.prototype,"options",null),A([r.a,d.action],t.prototype,"onChange",null),t=A([o.observer],t)}(i.Component),Bt="filterResetPanel-module_filterResetPanel__1YAf2",zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Object(i.createElement)("div",{className:this.props.className},Object(i.createElement)("span",{style:{verticalAlign:"middle"}},this.props.filterInfo,Object(i.createElement)("button",{className:this.props.buttonClass,style:{cursor:"pointer",marginLeft:6},onClick:this.props.resetFilters},this.props.buttonText)))},t.defaultProps={buttonText:"Show all",buttonClass:p()("btn","btn-secondary","btn-sm"),className:p()("alert","alert-success",Bt)},t=A([o.observer],t)}(i.Component);!function(e){e.ONCOKB="oncokb",e.HOTSPOT="hotspot",e.POSITION="position",e.MUTATION="mutation",e.CANCER_TYPE="cancerType",e.PROTEIN_IMPACT_TYPE="proteinImpactType",e.MUTATION_STATUS="mutationStatus"}(jt||(jt={}));var Vt="_mutationTableTextInputFilter_";function Ht(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=[]);var o=e.isPositionSelected(t),i=[];n&&(i=qt(e.selectionFilters),o&&(i=c.a.without(i,t))),o||i.push(t);var a={type:jt.POSITION,values:i},s=e.selectionFilters.filter(function(e){return e.type!==jt.POSITION});e.clearSelectionFilters(),e.setSelectionFilters([a].concat(r,s))}function Ut(e,t,n){void 0===n&&(n=[]),e.clearHighlightFilters();var r={type:jt.POSITION,values:[t]};e.setHighlightFilters(n.concat([r]))}function qt(e){return c.a.uniq(c.a.flatten(e.filter(function(e){return e.type===jt.POSITION}).map(function(e){return e.values.slice()})))}function Wt(e){return c.a.keyBy(qt(e).map(function(e){return{position:e}}),"position")}function Kt(e,t){return e.values.includes(Object(s.J)(t.mutationType||"other"))}function $t(e,t,n){return e.map(function(e){return{group:e.group,data:t.filter(function(t){return n(e.filter,c.a.flatten([t])[0])})}})}function Yt(e){var t=$t(Object.keys(s.o).map(function(e){return{group:s.o[e],filter:{type:jt.PROTEIN_IMPACT_TYPE,values:[s.o[e]]}}}),e,Kt);return c.a.keyBy(t,function(e){return e.group})}function Qt(e,t,n,r,o){var i=n.dataFilters.filter(function(e){return e.id!==o});if(t)n.setDataFilters(i);else{var a={id:o,type:r,values:e};n.setDataFilters(i.concat([a]))}}function Xt(e,t,n){return t.length>0&&!t.map(function(t){return n(t,e)}).includes(!1)}function Zt(e,t,n){return t.length>0?e.filter(function(e){return Xt(e,t,n)}):e}function Jt(e){return c.a.some(e,function(e){return"error"===e.status})?"error":c.a.some(e,function(e){return"pending"===e.status})?"pending":"complete"}var en,tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Object(i.createElement)("div",{className:"input-group",style:{display:"flex"}},Object(i.createElement)("input",{type:"text",onInput:this.onChange,ref:this.props.filterInputRef,className:"form-control",placeholder:this.props.placeholder,"aria-label":"Search",style:{height:this.props.boxHeight}}),Object(i.createElement)("div",{className:"input-group-append",style:{height:this.props.boxHeight}},Object(i.createElement)("button",{className:"btn btn-outline-secondary",type:"button",disabled:!0},Object(i.createElement)("i",{className:"fa fa-search"}))))},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e.currentTarget.value)},t.defaultProps={placeholder:"",searchIconClassName:"fa fa-search form-control-feedback",boxHeight:33.5},A([r.a],t.prototype,"onChange",null),t}(i.Component),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"searchBoxMargin",{get:function(){return this.props.showColumnVisibility?5:"auto"},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)("div",{className:"dataTableMainToolbar",style:{paddingBottom:"0.4rem",display:"flex",alignItems:"flex-end"}},this.props.info,this.props.showColumnVisibility&&Object(i.createElement)("div",{className:"small",style:{width:150,marginLeft:"auto"}},Object(i.createElement)(Gt,E({columnVisibility:this.props.columnVisibility,onColumnToggled:this.props.visibilityToggle},this.props.columnSelectorProps))),this.props.showSearchBox&&Object(i.createElement)("div",{className:"small",style:{width:200,marginLeft:this.searchBoxMargin}},Object(i.createElement)(tn,{placeholder:this.props.searchPlaceHolder,onChange:this.props.onSearch?c.a.debounce(this.props.onSearch,this.props.searchDelay):this.props.onSearch,filterInputRef:this.props.filterInputRef})))},t.defaultProps={showColumnVisibility:!0,showSearchBox:!0,searchDelay:400},t=A([o.observer],t)}(i.Component);!function(e){e.ASC="asc",e.DESC="desc"}(en||(en={}));var rn=function(e){function t(t){var n=e.call(this,t)||this;return n.expanded={},n.filterInputReaction=n.props.dataStore?n.createFilterInputResetReaction(n.props.dataStore):void 0,n}return x(t,e),Object.defineProperty(t.prototype,"tableData",{get:function(){var e=this.props.data;return this.props.dataStore&&(e=this.props.dataStore.sortedFilteredSelectedData.length>0?this.props.dataStore.sortedFilteredSelectedData:this.props.dataStore.sortedFilteredData),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){var e=this;return(this.props.columns||[]).map(function(t){return E({},t,{show:t.id?e.columnVisibility[t.id]:t.expander||t.show})})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needToCustomizeRowStyle",{get:function(){return this.props.dataStore&&this.props.dataStore.highlightFilters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPagination",{get:function(){var e=this.props.initialItemsPerPage;return void 0!==this.tableData&&this.tableData.length>e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPageSize",{get:function(){var e=this.props.initialItemsPerPage;return this.tableData?this.tableData.length>e?e:this.tableData.length:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialColumnDataStatus",{get:function(){return(e=this.props.initialSortColumnData)?Jt(c.a.compact(e)):"complete";var e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSorted",{get:function(){var e=this.props,t=e.initialSortColumn,n=e.initialSortDirection;return void 0===t||"pending"===this.initialColumnDataStatus?void 0:[{id:t,desc:n===en.DESC}]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnVisibility",{get:function(){return Object(s.X)(this.columnVisibilityByColumnDefinition,this.props.columnVisibility,this._columnVisibilityOverride)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnVisibilityDef",{get:function(){return e=this.props.columns||[],t=this.columnVisibility,n=[],(e||[]).filter(function(e){return e.id}).forEach(function(e){return n.push({id:e.id,name:e.name||e.id,visible:t[e.id],togglable:void 0===e.togglable||e.togglable})}),n;var e,t,n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnVisibilityByColumnDefinition",{get:function(){return Object(s.Y)((this.props.columns||[]).filter(function(e){return e.id}).map(function(e){return{name:e.name||e.id,id:e.id,visible:e.show}}))},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)("div",{className:"cbioportal-frontend"},Object(i.createElement)(nn,{visibilityToggle:this.onVisibilityToggle,showSearchBox:this.props.showSearchBox,onSearch:this.onSearch,filterInputRef:this.filterInputRef,searchDelay:this.props.searchDelay,searchPlaceHolder:this.props.searchPlaceholder,info:this.props.info,showColumnVisibility:this.props.showColumnVisibility,columnVisibility:this.columnVisibilityDef,columnSelectorProps:this.props.columnSelectorProps}),Object(i.createElement)("div",{className:p()(this.props.className,"cbioportal-frontend","default-data-table")},Object(i.createElement)(h.a,E({data:this.tableData,columns:this.columns,getTrProps:this.needToCustomizeRowStyle?this.getTrProps:void 0,defaultSorted:this.defaultSorted,defaultPageSize:this.defaultPageSize,showPagination:this.showPagination,className:"-striped -highlight",previousText:"<",nextText:">",expanded:this.expanded,onExpandedChange:this.onExpandedChange,onPageChange:this.resetExpander,onPageSizeChange:this.resetExpander,onSortedChange:this.resetExpander,minRows:0},this.props.reactTableProps))))},t.prototype.componentWillReceiveProps=function(e){e.dataStore&&this.createExpanderResetReaction(e.dataStore)},t.prototype.componentWillUnmount=function(){this.filterInputReaction&&this.filterInputReaction()},t.prototype.createExpanderResetReaction=function(e){var t=this;return Object(d.reaction)(function(){return[e.selectionFilters,e.dataFilters]},function(e,n){e.length>0&&t.resetExpander(),n.dispose()})},t.prototype.createFilterInputResetReaction=function(e){var t=this;return Object(d.reaction)(function(){return e.dataFilters},function(e){t.filterInput&&(e.find(function(e){return e.id===Vt})||(t.filterInput.value=""))})},t.prototype.getTrProps=function(e,t){return{style:{background:e&&t&&this.getRowBackground(t)}}},t.prototype.filterInputRef=function(e){this.filterInput=e},t.prototype.onSearch=function(e){this.props.onSearch&&this.props.onSearch(e,this.columns.filter(function(e){return e.searchable&&e.show}))},t.prototype.onVisibilityToggle=function(e){var t=this;Object.keys(this.columnVisibility).forEach(function(e){return t.updateColumnVisibility(e,!1)}),e.forEach(function(e){return t.updateColumnVisibility(e,!0)})},t.prototype.updateColumnVisibility=function(e,t){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(s.X)(this.columnVisibilityByColumnDefinition,this.props.columnVisibility)),this._columnVisibilityOverride&&void 0!==this._columnVisibilityOverride[e]&&(this._columnVisibilityOverride[e]=t)},t.prototype.onExpandedChange=function(e){this.expanded=e},t.prototype.resetExpander=function(){this.expanded={}},t.prototype.isRowHighlighted=function(e){return this.props.dataStore&&this.props.dataStore.dataHighlightFilter(e)},t.prototype.getRowBackground=function(e){var t;return this.isRowHighlighted(e.original)&&(t=e.viewIndex%2==1?this.props.highlightColorDark:this.props.highlightColorLight),t},t.defaultProps={data:[],initialSortDirection:en.DESC,initialItemsPerPage:10,highlightColorLight:"#B0BED9",highlightColorDark:"#9FAFD1"},A([d.observable],t.prototype,"_columnVisibilityOverride",void 0),A([d.observable],t.prototype,"expanded",void 0),A([d.computed],t.prototype,"tableData",null),A([d.computed],t.prototype,"columns",null),A([d.computed],t.prototype,"needToCustomizeRowStyle",null),A([d.computed],t.prototype,"showPagination",null),A([d.computed],t.prototype,"defaultPageSize",null),A([d.computed],t.prototype,"initialColumnDataStatus",null),A([d.computed],t.prototype,"defaultSorted",null),A([d.computed],t.prototype,"columnVisibility",null),A([d.computed],t.prototype,"columnVisibilityDef",null),A([d.computed],t.prototype,"columnVisibilityByColumnDefinition",null),A([r.a],t.prototype,"getTrProps",null),A([r.a],t.prototype,"filterInputRef",null),A([d.action.bound],t.prototype,"onSearch",null),A([d.action.bound],t.prototype,"onVisibilityToggle",null),A([d.action.bound],t.prototype,"updateColumnVisibility",null),A([d.action.bound],t.prototype,"onExpandedChange",null),A([d.action.bound],t.prototype,"resetExpander",null),t=A([o.observer],t)}(i.Component);function on(e){return e.result?(t=e.result,n={},t.forEach(function(e){n[V(e.genomicLocation)]=e}),n):void 0;var t,n}function an(e,t,n){var r=[];return e.forEach(function(e){var n=z(e),o=n?t[V(n)]:void 0;o&&(r=r.concat(o.hotspots))}),n&&(r=r.filter(n)),r}function sn(e,t){return an(e,t,function(e){return e.type.toLowerCase().includes("single")||e.type.toLowerCase().includes("indel")})}function ln(e,t){return an(e,t,function(e){return e.type.toLowerCase().includes("3d")})}function cn(e,t){return sn([e],t).length>0}function un(e,t){return ln([e],t).length>0}function pn(e,t,n){return an([e],t,n).length>0}function hn(e){var t=e.type.toLowerCase();return t.includes("single")||t.includes("indel")||t.includes("3d")}var dn={oncoKbStatus:"complete",oncoKbGeneExist:!1,isOncoKbCancerGene:!1,isHotspot:!1,is3dHotspot:!1,hotspotStatus:"complete",hugoGeneSymbol:""};function fn(e){return e.gene&&e.gene.entrezGeneId||0}function mn(){return"Unknown"}function yn(e,t,n,r,o,i){var a;if(void 0===o&&(o=mn),void 0===i&&(i=fn),e){var s=i(e),l=void 0,u=e.gene?e.gene.hugoGeneSymbol:void 0,p=!1,h=!1;!t||t.result instanceof Error||(p=void 0!==c.a.find(t.result,function(e){return e.oncokbAnnotated&&e.entrezGeneId===s}),h=void 0!==c.a.find(t.result,function(e){return e.entrezGeneId===s})),a={hugoGeneSymbol:u,oncoKbGeneExist:p,isOncoKbCancerGene:h,isHotspot:!(!n||!n.result||"complete"!==n.status)&&cn(e,n.result),is3dHotspot:!(!n||!n.result||"complete"!==n.status)&&un(e,n.result),hotspotStatus:n?n.status:"pending"},r&&r.result instanceof Error?a=E({},a,{oncoKbStatus:"error",oncoKbIndicator:void 0}):p?(!r||!r.result||r.result instanceof Error||"complete"!==r.status||(l=it(e,r.result,o,i)),a=E({},a,{oncoKbStatus:r?r.status:"pending",oncoKbIndicator:l})):a=E({},a,{oncoKbStatus:"complete",oncoKbIndicator:void 0})}else a=dn;return a}function gn(e){return c.a.flatten([Lt(e.oncoKbIndicator),re(e.isHotspot,e.is3dHotspot),e.isOncoKbCancerGene?1:0])}var vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e,t,n,r=this.getAnnotationData(this.props),o=(e=this.props.mutation,t=this.props.resolveEntrezGeneId,n=this.props.resolveTumorType,void 0===t&&(t=fn),void 0===n&&(n=mn),rt(e,t,n));return Object(i.createElement)("span",{style:{display:"flex",minWidth:100}},this.props.enableOncoKb&&Object(i.createElement)(Ft,{hugoGeneSymbol:r.hugoGeneSymbol,geneNotExist:!r.oncoKbGeneExist,isCancerGene:r.isOncoKbCancerGene,status:r.oncoKbStatus,indicator:r.oncoKbIndicator,evidenceCache:this.props.oncoKbEvidenceCache,evidenceQuery:o,pubMedCache:this.props.pubMedCache,userEmailAddress:this.props.userEmailAddress}),this.props.enableHotspot&&Object(i.createElement)(se,{isHotspot:r.isHotspot,is3dHotspot:r.is3dHotspot,status:r.hotspotStatus}))},t.prototype.getAnnotationData=function(e){var t=e.mutation,n=e.oncoKbCancerGenes,r=e.hotspotData,o=e.oncoKbData,i=e.resolveEntrezGeneId;return yn(t,n,r,o,e.resolveTumorType,i)},t=A([o.observer],t)}(i.Component),bn={"missense-mutation":"mutationType-module_missense-mutation__2JtLH","trunc-mutation":"mutationType-module_trunc-mutation__17JAR","inframe-mutation":"mutationType-module_inframe-mutation__1eiid","other-mutation":"mutationType-module_other-mutation__1hRce","default-mutation":"mutationType-module_default-mutation__3X-GT"},Sn={missense:{label:"Missense",className:"missense-mutation"},inframe:{label:"IF",className:"inframe-mutation"},truncating:{label:"Truncating",className:"trunc-mutation"},nonsense:{label:"Nonsense",className:"trunc-mutation"},nonstop:{label:"Nonstop",className:"trunc-mutation"},nonstart:{label:"Nonstart",className:"trunc-mutation"},frameshift:{label:"FS",className:"trunc-mutation"},frame_shift_del:{label:"FS del",className:"trunc-mutation"},frame_shift_ins:{label:"FS ins",className:"trunc-mutation"},in_frame_ins:{label:"IF ins",className:"inframe-mutation"},in_frame_del:{label:"IF del",className:"inframe-mutation"},splice_site:{label:"Splice",className:"trunc-mutation"},fusion:{label:"Fusion",className:"fusion"},silent:{label:"Silent",className:"other-mutation"},other:{label:"Other",className:"other-mutation"}};function wn(e){var t=e.mutationType;return t?Sn[Object(s.F)(t)]:void 0}var Cn,_n,kn,Tn,xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e,t,n=(e=this.props.mutation,(t=wn(e))&&t.label?t.label:e.mutationType||""),r=function(e){var t=wn(e);return t&&t.className?t.className:Sn.other.className}(this.props.mutation),o=this.props.mutation.mutationType,a=Object(i.createElement)("span",{className:bn[r]},n);return o&&o.toLowerCase()!==n.toLowerCase()&&(a=Object(i.createElement)(s.c,{overlay:Object(i.createElement)("span",null,o),placement:"left"},a)),a},t}(i.Component);function En(e){return Object(i.createElement)("span",{className:"pull-right mr-3"},e.value)}!function(e){e.PROTEIN_CHANGE="proteinChange",e.ANNOTATION="annotation",e.MUTATION_STATUS="mutationStatus",e.MUTATION_TYPE="mutationType",e.CHROMOSOME="chromosome",e.START_POSITION="startPosition",e.END_POSITION="endPosition",e.REFERENCE_ALLELE="referenceAllele",e.VARIANT_ALLELE="variantAllele",e.GNOMAD="gnomad",e.CLINVAR="clinVarId"}(kn||(kn={})),function(e){e.PROTEIN_CHANGE="Protein Change",e.ANNOTATION="Annotation",e.MUTATION_STATUS="Mutation Status",e.MUTATION_TYPE="Mutation Type",e.CHROMOSOME="Chromosome",e.START_POSITION="Start Pos",e.END_POSITION="End Pos",e.REFERENCE_ALLELE="Ref",e.VARIANT_ALLELE="Var",e.GNOMAD="gnomAD",e.CLINVAR="ClinVar ID"}(Tn||(Tn={}));var An=((Cn={})[kn.PROTEIN_CHANGE]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-left"},Tn.PROTEIN_CHANGE)}),Cn[kn.ANNOTATION]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-left"},Tn.ANNOTATION)}),Cn[kn.MUTATION_STATUS]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-left"},Tn.MUTATION_STATUS)}),Cn[kn.MUTATION_TYPE]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-left"},Tn.MUTATION_TYPE)}),Cn[kn.CHROMOSOME]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-right mr-3"},Tn.CHROMOSOME)}),Cn[kn.START_POSITION]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-right mr-3"},Tn.START_POSITION)}),Cn[kn.END_POSITION]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-right mr-3"},Tn.END_POSITION)}),Cn[kn.REFERENCE_ALLELE]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-left"},Tn.REFERENCE_ALLELE),overlay:Object(i.createElement)("span",null,"Reference Allele")}),Cn[kn.VARIANT_ALLELE]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-left"},Tn.VARIANT_ALLELE),overlay:Object(i.createElement)("span",null,"Variant Allele")}),Cn[kn.GNOMAD]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-right mr-3"},Tn.GNOMAD," ",Object(i.createElement)("i",{className:"fa fa-info-circle"})),overlay:Object(i.createElement)("span",null,Object(i.createElement)("a",{href:"https://gnomad.broadinstitute.org/",target:"_blank"},"gnomAD")," ","population allele frequencies. Overall population allele frequency is shown. Hover over a frequency to see the frequency for each specific population.")}),Cn[kn.CLINVAR]=Object(i.createElement)(Z,{headerContent:Object(i.createElement)("span",{className:"pull-right mr-3"},Tn.CLINVAR," ",Object(i.createElement)("i",{className:"fa fa-info-circle"})),overlay:Object(i.createElement)("span",null,Object(i.createElement)("a",{href:"https://www.ncbi.nlm.nih.gov/clinvar/",target:"_blank"},"ClinVar")," ","aggregates information about genomic variation and its relationship to human health.")}),Cn),On=((_n={})[kn.PROTEIN_CHANGE]={id:kn.PROTEIN_CHANGE,name:Tn.PROTEIN_CHANGE,accessor:kn.PROTEIN_CHANGE,searchable:!0,Cell:function(e){return Object(i.createElement)(ke,{mutation:e.original})},Header:An[kn.PROTEIN_CHANGE],sortMethod:function(e,t){return I(e?Object(s.x)(e):null,t?Object(s.x)(t):null)}},_n[kn.ANNOTATION]={id:kn.ANNOTATION,name:Tn.ANNOTATION,Header:An[kn.ANNOTATION],sortMethod:function(e,t){return D(gn(e),gn(t))}},_n[kn.MUTATION_TYPE]={id:kn.MUTATION_TYPE,name:Tn.MUTATION_TYPE,accessor:kn.MUTATION_TYPE,searchable:!0,Cell:function(e){return Object(i.createElement)(xn,{mutation:e.original})},Header:An[kn.MUTATION_TYPE]},_n[kn.MUTATION_STATUS]={id:kn.MUTATION_STATUS,name:Tn.MUTATION_STATUS,accessor:kn.MUTATION_STATUS,searchable:!0,Cell:function(e){return Object(i.createElement)(we,{mutation:e.original})},Header:An[kn.MUTATION_STATUS]},_n[kn.CHROMOSOME]={id:kn.CHROMOSOME,name:Tn.CHROMOSOME,accessor:kn.CHROMOSOME,searchable:!0,Cell:En,Header:An[kn.CHROMOSOME],show:!1},_n[kn.START_POSITION]={id:kn.START_POSITION,name:Tn.START_POSITION,accessor:kn.START_POSITION,searchable:!0,Cell:En,Header:An[kn.START_POSITION],show:!1},_n[kn.END_POSITION]={id:kn.END_POSITION,name:Tn.END_POSITION,accessor:kn.END_POSITION,searchable:!0,Cell:En,Header:An[kn.END_POSITION],show:!1},_n[kn.REFERENCE_ALLELE]={id:kn.REFERENCE_ALLELE,name:Tn.REFERENCE_ALLELE,accessor:kn.REFERENCE_ALLELE,searchable:!0,Header:An[kn.REFERENCE_ALLELE],show:!1},_n[kn.VARIANT_ALLELE]={id:kn.VARIANT_ALLELE,name:Tn.VARIANT_ALLELE,accessor:kn.VARIANT_ALLELE,searchable:!0,Header:An[kn.VARIANT_ALLELE],show:!1},_n[kn.GNOMAD]={id:kn.GNOMAD,name:Tn.GNOMAD,Header:An[kn.GNOMAD],sortMethod:function(e,t){return I(ye(e),ye(t))}},_n[kn.CLINVAR]={id:kn.CLINVAR,name:Tn.CLINVAR,Header:An[kn.CLINVAR],sortMethod:function(e,t){return I(Q(e),Q(t))}},_n),Pn=[On[kn.PROTEIN_CHANGE],On[kn.MUTATION_TYPE],On[kn.MUTATION_STATUS],On[kn.CHROMOSOME],On[kn.START_POSITION],On[kn.END_POSITION],On[kn.REFERENCE_ALLELE],On[kn.VARIANT_ALLELE],On[kn.CLINVAR]];var In,Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t=A([o.observer],t)}(rn),Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"annotationColumnData",{get:function(){return[this.props.oncoKbCancerGenes,this.props.hotspotData,this.props.oncoKbData]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotationColumnDataStatus",{get:function(){return Jt(c.a.compact(this.annotationColumnData))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gnomadColumnDataStatus",{get:function(){return this.props.indexedMyVariantInfoAnnotations?this.props.indexedMyVariantInfoAnnotations.status:"complete"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"annotationColumnAccessor",{get:function(){var e=this;return"pending"===this.annotationColumnDataStatus?function(){}:function(t){return yn(t,e.props.oncoKbCancerGenes,e.props.hotspotData,e.props.oncoKbData)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"myVariantInfoAccessor",{get:function(){var e=this;return"pending"===this.gnomadColumnDataStatus?function(){}:function(t){return function(e,t){return q(e,t?t.result:void 0)}(t,e.props.indexedMyVariantInfoAnnotations)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialSortColumnData",{get:function(){return this.props.initialSortColumnData||this.annotationColumnData},enumerable:!0,configurable:!0}),t.prototype.getDefaultColumnAccessor=function(e){switch(e){case kn.ANNOTATION:return this.annotationColumnAccessor;case kn.CLINVAR:case kn.GNOMAD:return this.myVariantInfoAccessor;default:return}},t.prototype.getDefaultColumnCellRender=function(e){var t=this;switch(e){case kn.ANNOTATION:return function(e){return Object(i.createElement)(vn,{mutation:e.original,enableOncoKb:!0,enableHotspot:!0,hotspotData:t.props.hotspotData,oncoKbData:t.props.oncoKbData,oncoKbCancerGenes:t.props.oncoKbCancerGenes,oncoKbEvidenceCache:t.props.oncoKbEvidenceCache,pubMedCache:t.props.pubMedCache})};case kn.GNOMAD:return function(e){return Object(i.createElement)(ge,{mutation:e.original,indexedMyVariantInfoAnnotations:t.props.indexedMyVariantInfoAnnotations,indexedVariantAnnotations:t.props.indexedVariantAnnotations})};case kn.CLINVAR:return function(e){return Object(i.createElement)(X,{mutation:e.original,indexedMyVariantInfoAnnotations:t.props.indexedMyVariantInfoAnnotations})};default:return}},Object.defineProperty(t.prototype,"columns",{get:function(){var e=this;return this.props.columns.map(function(t){var n=E({},t);if(!n.accessor){var r=e.getDefaultColumnAccessor(n.id);r&&(n.accessor=r)}if(!n.Cell){var o=e.getDefaultColumnCellRender(n.id);o&&(n.Cell=o)}return n})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(Mn,E({},this.props,{columns:this.columns,initialSortColumnData:this.initialSortColumnData,onSearch:this.onSearch,className:"default-mutation-table"}))},t.prototype.onSearch=function(e,t){if(this.props.dataStore){var n=this.props.dataStore.dataFilters.filter(function(e){return e.id!==Vt}),r=[];if(e.length>0){r=t.map(function(t){var n;return(n={})[t.id]=e,n});var o={id:Vt,type:jt.MUTATION,values:r};this.props.dataStore.setDataFilters(n.concat([o]))}else this.props.dataStore.setDataFilters(n)}},t.defaultProps={initialSortColumn:kn.ANNOTATION,appendColumns:!0},A([d.computed],t.prototype,"annotationColumnData",null),A([d.computed],t.prototype,"annotationColumnDataStatus",null),A([d.computed],t.prototype,"gnomadColumnDataStatus",null),A([d.computed],t.prototype,"annotationColumnAccessor",null),A([d.computed],t.prototype,"myVariantInfoAccessor",null),A([d.computed],t.prototype,"initialSortColumnData",null),A([d.computed],t.prototype,"columns",null),A([d.action.bound],t.prototype,"onSearch",null),t=A([o.observer],t)}(i.Component),Ln=function(e){function t(t){var n=e.call(this,t)||this;return n.textElt=null,n.isMounted=!1,n.state={displayText:t.label||""},n.handlers={textRef:function(e){n.textElt=e}},n}return x(t,e),Object.defineProperty(t.prototype,"hitRect",{get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerX",{get:function(){return this.props.x+this.props.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this.props.y+this.props.height/2},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.isMounted=!0},Object.defineProperty(t.prototype,"displayText",{get:function(){var e=this.props.label||"";if(!this.textElt||!this.isMounted)return e;if(!v()(this.textElt).is(":visible"))return e;for(var t=e.length;t>0&&this.textElt.getSubStringLength(0,t)>this.props.width;)t-=1;var n=e;return t<e.length&&(n=(t-=2)<=0?"":e.substr(0,t)+".."),n},enumerable:!0,configurable:!0}),t.prototype.makeTextElement=function(e){var t={x:this.centerX,y:this.centerY,textAnchor:"middle",dy:"0.3em",fill:this.props.labelColor||"#FFFFFF",style:{fontSize:"12px",fontFamily:"arial"}},n=e?this.props.label||"":this.displayText;return e&&(t.ref=this.handlers.textRef,t.visibility="hidden",t.style={opacity:0},t.className=this.props.hitzoneClassName),Object(i.createElement)("text",E({},t),n)},t.prototype.render=function(){return Object(i.createElement)("g",null,Object(i.createElement)("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),this.makeTextElement(!0),this.makeTextElement(!1),Object(i.createElement)("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,style:{opacity:0}}))},A([d.observable],t.prototype,"textElt",void 0),A([d.observable],t.prototype,"isMounted",void 0),A([d.computed],t.prototype,"displayText",null),t=A([o.observer],t)}(i.Component);!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(In||(In={}));var Nn,Rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isHovered=!1,t}return x(t,e),Object.defineProperty(t.prototype,"headRadius",{get:function(){return this.isHovered?this.props.hoverHeadRadius:this.props.headRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"circleX",{get:function(){return this.props.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"circleY",{get:function(){return this.props.stickBaseY-this.props.stickHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textY",{get:function(){return this.props.spec.placement===In.BOTTOM?this.props.stickBaseY-this.props.stickHeight+this.props.headRadius+5:this.props.stickBaseY-this.props.stickHeight-this.props.headRadius-5},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"circleHitRect",{get:function(){return{x:this.circleX-this.props.hoverHeadRadius,y:this.circleY-this.props.hoverHeadRadius,width:2*this.props.hoverHeadRadius,height:2*this.props.hoverHeadRadius}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=null;return this.props.label&&(e=Object(i.createElement)("text",{fill:"#2E3436",style:{fontSize:this.props.label.fontSize||10,fontFamily:this.props.label.fontFamily||"arial"},textAnchor:this.props.label.textAnchor||"middle",dominantBaseline:this.props.spec.placement===In.BOTTOM?"hanging":"baseline",x:this.props.x,y:this.textY},this.props.label.text)),Object(i.createElement)("g",null,Object(i.createElement)("line",{strokeWidth:"1",stroke:this.props.stickColor||"#BABDB6",x1:this.props.x,x2:this.props.x,y1:this.props.stickBaseY,y2:this.props.stickBaseY-this.props.stickHeight}),Object(i.createElement)("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.headColor||"#000000",r:this.headRadius,cx:this.circleX,cy:this.circleY}),Object(i.createElement)("circle",{className:this.props.hitzoneClassName,r:this.props.hoverHeadRadius,cx:this.circleX,cy:this.circleY,cursor:"pointer",style:{opacity:0}}),e)},A([d.observable],t.prototype,"isHovered",void 0),A([d.computed],t.prototype,"headRadius",null),A([d.computed],t.prototype,"circleX",null),A([d.computed],t.prototype,"circleY",null),A([d.computed],t.prototype,"textY",null),A([d.computed],t.prototype,"circleHitRect",null),t=A([o.observer],t)}(i.Component),jn=function(){function e(){this.legendShown=!1}return A([d.observable],e.prototype,"bottomYMaxInput",void 0),A([d.observable],e.prototype,"legendShown",void 0),A([d.observable],e.prototype,"yMaxInput",void 0),e}();function Fn(e,t){var n=function(e){var t=c.a.groupBy(e,"proteinChange"),n=c.a.map(t,function(e){return{proteinChange:e[0].proteinChange,count:e.length}});return c.a.orderBy(n,["count","proteinChange"],["desc","asc"])}(e).filter(function(e){return void 0!==e.proteinChange}),r=n.map(function(e){return e.proteinChange}).slice(0,t&&t>0?t:void 0),o=r.slice(0).sort(),i="";o.length>1&&(i=Object(s.T)(o[0],o[o.length-1]));var a=r.map(function(e){return e.substring(i.length)}),l=i+a.join("/");return r.length<n.length&&(l=l+" and "+(n.length-r.length)+" more"),l}function Gn(e,t,n,r,o,i){var a="middle",l=Object(s.P)(e,n,r+"px"),c=t*(o/i);return l/2>c?a="start":l/2>o-c&&(a="end"),a}function Bn(e,t,n,r,o){var i=e;return void 0===i&&(i=o?function(e,t,n,r){var o=zn(e,t,r),i=zn(e,n,r);return Math.max(o,i)}(t,n,r):zn(t,n)),i}function zn(e,t,n){var r=e*Math.ceil(t[1]/e);return Math.min(r,n||r)}function Vn(e,t){var n=parseFloat(t);return n<e?e:n}function Hn(e,t,n){if(void 0===t&&(t=5),void 0===n&&(n=1),0===e.length)return[0,0];for(var r=t,o=n,i=0,a=e;i<a.length;i++){var s=a[i];r=Math.max(r,s.count),o=Math.min(o,s.count)}return[o,Math.max(o,r)]}!function(e){e.PDB="PDB",e.CancerHotspots="CANCER_HOTSPOTS",e.OncoKB="ONCO_KB",e.PTM="PTM"}(Nn||(Nn={}));var Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.onChange=function(e){this.props.onChange(e.map(function(e){return e.value}))},Object.defineProperty(t.prototype,"selectedValues",{get:function(){var e=this;return Object.keys(this.props.trackVisibility).filter(function(t){return"visible"===e.props.trackVisibility[t]}).map(function(e){return{value:e}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableOptions",{get:function(){var e;return(e={})[Nn.CancerHotspots]={label:Object(i.createElement)("span",null,"Cancer Hotspots",this.isPending(Nn.CancerHotspots)&&this.loaderIcon()),value:Nn.CancerHotspots},e[Nn.OncoKB]={label:Object(i.createElement)("span",null,"OncoKB",this.isPending(Nn.OncoKB)&&this.loaderIcon()),value:Nn.OncoKB},e[Nn.PTM]={label:Object(i.createElement)("span",null,"Post Translational Modifications",this.isPending(Nn.PTM)&&this.loaderIcon()),value:Nn.PTM},e[Nn.PDB]={label:Object(i.createElement)("span",null,"3D Structure",this.isPending(Nn.PDB)&&this.loaderIcon()),value:Nn.PDB,disabled:this.isDisabled(Nn.PDB)},e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return this.props.tracks.filter(function(t){return void 0!==e.props.trackVisibility[t]}).map(function(t){return e.availableOptions[t]})},enumerable:!0,configurable:!0}),t.prototype.isPending=function(e){return this.props.trackDataStatus&&"pending"===this.props.trackDataStatus[e]},t.prototype.isDisabled=function(e){return this.props.trackDataStatus&&"complete"!==this.props.trackDataStatus[e]},t.prototype.loaderIcon=function(){return Object(i.createElement)("span",{style:{display:"inline-block",verticalAlign:"bottom",marginLeft:5}},Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse"}))},t.prototype.render=function(){return Object(i.createElement)(s.a,{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onChange,options:this.options,value:this.selectedValues})},t.defaultProps={name:"mutationMapperTrackSelector",placeholder:"Add annotation tracks",tracks:[Nn.CancerHotspots,Nn.OncoKB,Nn.PTM,Nn.PDB]},A([r.a,d.action],t.prototype,"onChange",null),A([d.computed],t.prototype,"selectedValues",null),A([d.computed],t.prototype,"availableOptions",null),A([d.computed],t.prototype,"options",null),t=A([o.observer],t)}(i.Component);function qn(){var e;return(e={})[Nn.OncoKB]="hidden",e[Nn.CancerHotspots]="hidden",e[Nn.PTM]="hidden",e[Nn.PDB]="hidden",e}var Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Object(i.createElement)("div",{style:{maxWidth:700,marginTop:5}},Object(i.createElement)("strong",{style:{color:"#2153AA"}},"Color Codes"),Object(i.createElement)("p",null,"Mutation diagram circles are colored with respect to the corresponding mutation types. In case of different mutation types at a single position, color of the circle is determined with respect to the most frequent mutation type."),Object(i.createElement)("br",null),Object(i.createElement)("div",null,"Mutation types and corresponding color codes are as follows:",Object(i.createElement)("ul",null,Object(i.createElement)("li",null,Object(i.createElement)("strong",{style:{color:this.props.missenseColor}},"Missense Mutations")),Object(i.createElement)("li",null,Object(i.createElement)("strong",{style:{color:this.props.truncatingColor}},"Truncating Mutations"),": Nonsense, Nonstop, Frameshift deletion, Frameshift insertion, Splice site"),Object(i.createElement)("li",null,Object(i.createElement)("strong",{style:{color:this.props.inframeColor}},"Inframe Mutations"),": Inframe deletion, Inframe insertion"),Object(i.createElement)("li",null,Object(i.createElement)("strong",{style:{color:this.props.otherColor}},"Other Mutations"),": All other types of mutations"))))},t.defaultProps={missenseColor:"#008000",truncatingColor:"#000000",inframeColor:"#993404",otherColor:"#CF58BC"},t}(i.Component),Kn=function(e){function t(t){var n=e.call(this,t)||this;return n.isMounted=!1,n}return x(t,e),Object.defineProperty(t.prototype,"hitRect",{get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.isMounted=!0},t.prototype.render=function(){return Object(i.createElement)("g",null,Object(i.createElement)("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),Object(i.createElement)("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,style:{opacity:0}}))},A([d.observable],t.prototype,"isMounted",void 0),t=A([o.observer],t)}(i.Component),$n="delete-for-download",Yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lollipopComponents={},t.domainComponents={},t.sequenceComponents=[],t.shiftPressed=!1,t.lollipopLabelPadding=20,t.domainPadding=5,t.xAxisCandidateTickIntervals=[50,100,200,250,500,1e3,2500,5e3,1e4,25e3],t.yAxisCandidateTickIntervals=[1,2,5,10,20,50,100,200,500],t.xAxisHeight=30,t.yAxisWidth=50,t.yAxisPadding=10,t.geneHeight=14,t.domainHeight=24,t}return x(t,e),t.prototype.ref=function(e){this.svg=e},t.prototype.onBackgroundClick=function(){this.props.dataStore&&this.props.dataStore.clearSelectionFilters()},t.prototype.onBackgroundMouseMove=function(){this.props.onBackgroundMouseMove&&this.props.onBackgroundMouseMove(),this.unhoverAllLollipops()},t.prototype.onLollipopClick=function(e){this.props.dataStore&&Ht(this.props.dataStore,e,this.shiftPressed)},t.prototype.onKeyDown=function(e){16===e.which&&(this.shiftPressed=!0)},t.prototype.onKeyUp=function(e){16===e.which&&(this.shiftPressed=!1)},t.prototype.onMouseOver=function(e){var t=this;this.unhoverAllLollipops();var n=e.target.getAttribute("class")||"",r=this.getLollipopIndex(n),o=null,i=null;if(null!==r){var a=this.lollipopComponents[r];a&&(a.isHovered=!0,this.props.setHitZone&&this.props.setHitZone(a.circleHitRect,a.props.spec.tooltip,Object(d.action)(function(){t.props.dataStore&&Ut(t.props.dataStore,a.props.spec.codon),a.isHovered=!0}),Object(d.action)(function(){return t.onLollipopClick(a.props.spec.codon)})))}else o=this.getDomainIndex(n);if(null!==o){var s=this.domainComponents[o];s&&this.props.setHitZone&&this.props.setHitZone(s.hitRect,s.props.spec.tooltip,void 0,void 0,void 0,"auto")}else i=this.getSequenceIndex(n);if(null!==i){var l=this.sequenceComponents[i];l&&this.props.setHitZone&&this.props.setHitZone(l.hitRect,l.props.spec?l.props.spec.tooltip:void 0,void 0,void 0,void 0,"auto")}},t.prototype.onSVGMouseLeave=function(e){"svg"===e.target.tagName.toLowerCase()&&this.props.onMouseLeave&&this.props.onMouseLeave()},t.prototype.unhoverAllLollipops=function(){Object(s.ib)(this.lollipopComponents),this.props.dataStore&&this.props.dataStore.clearHighlightFilters()},t.prototype.componentDidMount=function(){v()(document).on("keydown",this.onKeyDown),v()(document).on("keyup",this.onKeyUp),this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)},t.prototype.componentWillUnmount=function(){v()(document).off("keydown",this.onKeyDown),v()(document).off("keyup",this.onKeyUp)},t.prototype.componentDidUpdate=function(){this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)},t.prototype.codonToX=function(e){return e/this.props.xMax*this.props.vizWidth},t.prototype.countToHeight=function(e,t,n){return void 0===n&&(n=0),n+Math.min(1,e/t)*this.yAxisHeight},t.prototype.calculateTickInterval=function(e,t,n){var r,o=e.find(function(e){return t/e<n-1});if(o)r=o;else for(r=10;t/r>n-1;)r*=10;return r},t.prototype.calculateTicks=function(e,t,n){for(var r=[],o=e;o<t;){var i=void 0;n&&t-o>2*e/3&&o%(2*e)==0&&(i=o+""),r.push({position:o,label:i}),o+=e}return r},Object.defineProperty(t.prototype,"xAxisTickInterval",{get:function(){return this.calculateTickInterval(this.xAxisCandidateTickIntervals,this.props.xMax,16)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxisTickInterval",{get:function(){return this.calculateTickInterval(this.yAxisCandidateTickIntervals,this.yMax,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYAxisTickInterval",{get:function(){return this.calculateTickInterval(this.yAxisCandidateTickIntervals,this.bottomYMax,10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xTicks",{get:function(){var e=[];return e.push({position:0,label:"0"}),e.push({position:this.props.xMax,label:this.props.xMax+"aa"}),e=e.concat(this.calculateTicks(this.xAxisTickInterval,this.props.xMax,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yTicks",{get:function(){return this.axisTicks(this.yMax,this.yMaxLabel,this.yAxisTickInterval)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYTicks",{get:function(){return this.axisTicks(this.bottomYMax,this.bottomYMaxLabel,this.bottomYAxisTickInterval)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMax",{get:function(){return this.props.yMax||this.props.lollipops.filter(function(e){return e.placement!==In.BOTTOM}).reduce(function(e,t){return Math.max(e,t.count)},1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxDisplay",{get:function(){return this.props.yMaxFractionDigits?Number(this.yMax.toFixed(this.props.yMaxFractionDigits)):this.yMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxPostfix",{get:function(){return this.props.yMaxLabelPostfix?this.props.yMaxLabelPostfix:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMax",{get:function(){return this.props.bottomYMax||this.props.lollipops.filter(function(e){return e.placement===In.BOTTOM}).reduce(function(e,t){return Math.max(e,t.count)},1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMaxDisplay",{get:function(){return this.props.yMaxFractionDigits?Number(this.bottomYMax.toFixed(this.props.yMaxFractionDigits)):this.bottomYMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxLabel",{get:function(){var e=this;return(this.props.lollipops.filter(function(e){return e.placement!==In.BOTTOM}).find(function(t){return t.count>e.yMax})?">= ":"")+this.yMaxDisplay+this.yMaxPostfix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMaxLabel",{get:function(){var e=this;return(this.props.lollipops.filter(function(e){return e.placement===In.BOTTOM}).find(function(t){return t.count>e.bottomYMax})?">= ":"")+this.bottomYMaxDisplay+this.yMaxPostfix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needBottomPlacement",{get:function(){return this.props.groups&&this.props.groups.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxisOnTop",{get:function(){return this.props.xAxisOnTop||this.needBottomPlacement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxisOnBottom",{get:function(){return this.props.xAxisOnBottom||!this.needBottomPlacement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topGroupName",{get:function(){return this.props.groups?this.props.groups[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topGroupSymbol",{get:function(){return this.props.topYAxisSymbol||"#"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomGroupName",{get:function(){return this.props.groups?this.props.groups[1]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomGroupSymbol",{get:function(){return this.props.bottomYAxisSymbol||"#"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"combinedXAxisHeight",{get:function(){return((this.xAxisOnTop?1:0)+(this.xAxisOnBottom?1:0))*this.xAxisHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxisHeight",{get:function(){return this.needBottomPlacement?(2*this.props.vizHeight-(2*this.lollipopLabelPadding+this.combinedXAxisHeight+2*this.domainPadding+this.domainHeight))/2:this.props.vizHeight-(this.lollipopLabelPadding+this.combinedXAxisHeight+2*this.domainPadding+this.domainHeight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxisY",{get:function(){var e=this.domainY+this.domainHeight+this.domainPadding;return this.needBottomPlacement?e+this.yAxisHeight+this.lollipopLabelPadding:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"geneCenterY",{get:function(){return this.geneY+this.geneHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxisY",{get:function(){return this.geneCenterY-this.plotAreaDistanceToGeneCenter-this.yAxisHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYAxisY",{get:function(){return this.geneCenterY+this.plotAreaDistanceToGeneCenter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotAreaDistanceToGeneCenter",{get:function(){return this.domainPadding+this.domainHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"geneX",{get:function(){return this.yAxisWidth+75},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"geneY",{get:function(){return this.lollipopLabelPadding+this.yAxisHeight+this.domainPadding+(this.domainHeight-this.geneHeight)/2+(this.xAxisOnTop?this.xAxisHeight:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domainY",{get:function(){return this.geneY-(this.domainHeight-this.geneHeight)/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sequenceSegments",{get:function(){var e=this,t=[],n=0,r=c.a.map(this.props.domains,function(t){var r={start:n,end:e.codonToX(t.startCodon)};return n=e.codonToX(t.endCodon),r}),o=this.props.vizWidth;return r.push({start:n,end:o}),r.sort(function(e,t){return e.start-t.start}),r.forEach(function(n,r){t.push(Object(i.createElement)(Kn,{ref:function(t){null!==t&&(e.sequenceComponents[r]=t)},color:"#BABDB6",x:e.geneX+n.start,y:e.geneY,height:e.geneHeight,width:n.end-n.start,spec:e.props.sequence,hitzoneClassName:[$n,e.makeSequenceIndexClass(r)].join(" ")}))}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zeroHeight",{get:function(){return this.props.zeroStickBaseY?0:this.domainPadding+this.domainHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lollipops",{get:function(){var e=this;this.lollipopComponents={};return this.props.lollipops.map(function(t,n){var r=t.placement===In.BOTTOM?-e.countToHeight(t.count,e.bottomYMax,e.zeroHeight):e.countToHeight(t.count,e.yMax,e.zeroHeight),o=e.calcStickBaseY(t.placement);return Object(i.createElement)(Rn,{key:t.codon+"_"+(t.placement===In.BOTTOM?"bottom":"top"),ref:function(t){null!==t&&(e.lollipopComponents[n]=t)},x:e.geneX+e.codonToX(t.codon),stickBaseY:o,stickHeight:r,headRadius:e.props.dataStore&&(e.props.dataStore.isPositionSelected(t.codon)||e.props.dataStore.isPositionHighlighted(t.codon))?5:2.8,hoverHeadRadius:5,label:t.label,headColor:t.color,hitzoneClassName:[$n,e.makeLollipopIndexClass(n)].join(" "),spec:t})})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domains",{get:function(){var e=this;return this.domainComponents={},this.props.domains.map(function(t,n){var r=e.codonToX(t.startCodon),o=e.codonToX(t.endCodon)-r;return Object(i.createElement)(Ln,{key:n,ref:function(t){null!==t&&(e.domainComponents[n]=t)},x:e.geneX+r,y:e.domainY,width:o,height:e.domainHeight,color:t.color,label:t.label,labelColor:t.labelColor,hitzoneClassName:[$n,e.makeDomainIndexClass(n)].join(" "),spec:t})})},enumerable:!0,configurable:!0}),t.prototype.yAxis=function(e,t,n,r,o,a){void 0===a&&(a="#");var l=o?a+" "+(this.props.hugoGeneSymbol||"")+" "+o+" Mutations":a+" "+(this.props.hugoGeneSymbol||"")+" Mutations",c=r===In.BOTTOM;return Object(i.createElement)(s.p,{key:"lollipopPlotYAxis_"+(c?"bottom":"top"),x:this.geneX-this.yAxisPadding,y:e,length:this.yAxisHeight,tickLength:7,rangeLower:0,rangeUpper:t,ticks:n,vertical:!0,verticalLabelPadding:this.props.yAxisLabelPadding,reverse:c,label:l})},t.prototype.xAxis=function(e,t){var n=t===In.TOP;return Object(i.createElement)(s.p,{key:"lollipopPlotXAxis_"+(n?"top":"bottom"),x:this.geneX,y:e+(n?this.xAxisHeight:0),length:this.props.vizWidth,tickLength:7,rangeLower:0,rangeUpper:this.props.xMax,ticks:this.xTicks,invertTicks:n})},t.prototype.axisTicks=function(e,t,n){var r=[];return r.push({position:0,label:"0"}),r.push({position:e,label:t}),r=r.concat(this.calculateTicks(n,e,!1))},Object.defineProperty(t.prototype,"svgWidth",{get:function(){return this.props.vizWidth+this.geneX+30},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgHeight",{get:function(){return this.needBottomPlacement?2*this.props.vizHeight:this.props.vizHeight},enumerable:!0,configurable:!0}),t.prototype.calcStickBaseY=function(e){var t=this.geneCenterY;return this.props.zeroStickBaseY&&(t=e===In.BOTTOM?this.bottomYAxisY:this.yAxisY+this.yAxisHeight),t},t.prototype.makeDomainIndexClass=function(e){return"domain-"+e},t.prototype.makeLollipopIndexClass=function(e){return"lollipop-"+e},t.prototype.makeSequenceIndexClass=function(e){return"sequence-"+e},t.prototype.getDomainIndex=function(e){return Object(s.G)(e,"domain-")},t.prototype.getLollipopIndex=function(e){return Object(s.G)(e,"lollipop-")},t.prototype.getSequenceIndex=function(e){return Object(s.G)(e,"sequence-")},t.prototype.toSVGDOMNode=function(){if(this.svg){var e=this.svg.cloneNode(!0);return v()(e).find("."+$n).remove(),e}return document.createElementNS("http://www.w3.org/2000/svg","svg")},t.prototype.render=function(){return Object(i.createElement)("div",{onMouseOver:this.onMouseOver},Object(i.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",ref:this.ref,width:this.svgWidth,height:this.svgHeight,className:"lollipop-svgnode",onMouseLeave:this.onSVGMouseLeave},Object(i.createElement)("rect",{fill:"#FFFFFF",x:0,y:0,width:this.svgWidth,height:this.svgHeight,onClick:this.onBackgroundClick,onMouseMove:this.onBackgroundMouseMove}),Object(i.createElement)("rect",{fill:"#BABDB6",x:this.geneX,y:this.geneY,height:this.geneHeight,width:this.props.vizWidth+1}),this.lollipops,this.domains,this.xAxisOnTop&&this.xAxis(0,In.TOP),this.xAxisOnBottom&&this.xAxis(this.xAxisY,In.BOTTOM),this.props.showYAxis&&this.yAxis(this.yAxisY,this.yMax,this.yTicks,In.TOP,this.topGroupName,this.topGroupSymbol),this.props.showYAxis&&this.needBottomPlacement&&this.yAxis(this.bottomYAxisY,this.bottomYMax,this.bottomYTicks,In.BOTTOM,this.bottomGroupName,this.bottomGroupSymbol)))},t.defaultProps={showYAxis:!0},A([r.a],t.prototype,"ref",null),A([r.a,d.action],t.prototype,"onBackgroundClick",null),A([r.a,d.action],t.prototype,"onBackgroundMouseMove",null),A([r.a,d.action],t.prototype,"onLollipopClick",null),A([r.a,d.action],t.prototype,"onKeyDown",null),A([r.a,d.action],t.prototype,"onKeyUp",null),A([r.a,d.action],t.prototype,"onMouseOver",null),A([r.a,d.action],t.prototype,"onSVGMouseLeave",null),A([d.computed],t.prototype,"xAxisTickInterval",null),A([d.computed],t.prototype,"yAxisTickInterval",null),A([d.computed],t.prototype,"bottomYAxisTickInterval",null),A([d.computed],t.prototype,"xTicks",null),A([d.computed],t.prototype,"yTicks",null),A([d.computed],t.prototype,"bottomYTicks",null),A([d.computed],t.prototype,"yMax",null),A([d.computed],t.prototype,"yMaxDisplay",null),A([d.computed],t.prototype,"yMaxPostfix",null),A([d.computed],t.prototype,"bottomYMax",null),A([d.computed],t.prototype,"bottomYMaxDisplay",null),A([d.computed],t.prototype,"yMaxLabel",null),A([d.computed],t.prototype,"bottomYMaxLabel",null),A([d.computed],t.prototype,"needBottomPlacement",null),A([d.computed],t.prototype,"xAxisOnTop",null),A([d.computed],t.prototype,"xAxisOnBottom",null),A([d.computed],t.prototype,"topGroupName",null),A([d.computed],t.prototype,"topGroupSymbol",null),A([d.computed],t.prototype,"bottomGroupName",null),A([d.computed],t.prototype,"bottomGroupSymbol",null),A([d.computed],t.prototype,"combinedXAxisHeight",null),A([d.computed],t.prototype,"yAxisHeight",null),A([d.computed],t.prototype,"xAxisY",null),A([d.computed],t.prototype,"geneCenterY",null),A([d.computed],t.prototype,"yAxisY",null),A([d.computed],t.prototype,"bottomYAxisY",null),A([d.computed],t.prototype,"plotAreaDistanceToGeneCenter",null),A([d.computed],t.prototype,"geneX",null),A([d.computed],t.prototype,"geneY",null),A([d.computed],t.prototype,"domainY",null),A([d.computed],t.prototype,"sequenceSegments",null),A([d.computed],t.prototype,"zeroHeight",null),A([d.computed],t.prototype,"lollipops",null),A([d.computed],t.prototype,"domains",null),A([d.computed],t.prototype,"svgWidth",null),A([d.computed],t.prototype,"svgHeight",null),t=A([o.observer],t)}(i.Component),Qn=function(e){function t(t){var n=e.call(this,t)||this;return n.hitZoneConfig=Object(s.z)(),n.handlers={ref:function(e){n.plot=e},setHitZone:function(e,t,r,o,i,a,s){void 0===a&&(a="pointer"),void 0===s&&(s="top"),n.hitZoneConfig={hitRect:e,content:t,onMouseOver:r,onClick:o,onMouseOut:i,cursor:a,tooltipPlacement:s}},getOverlay:function(){return n.hitZoneConfig.content},getOverlayPlacement:function(){return n.hitZoneConfig.tooltipPlacement},onMouseLeave:function(){n.hitZoneConfig.onMouseOut&&n.hitZoneConfig.onMouseOut()},onBackgroundMouseMove:function(){n.hitZoneConfig.onMouseOut&&n.hitZoneConfig.onMouseOut()}},n}return x(t,e),Object.defineProperty(t.prototype,"tooltipVisible",{get:function(){return!!this.hitZoneConfig.content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitZone",{get:function(){return Object(s.Q)(this.hitZoneConfig)},enumerable:!0,configurable:!0}),t.prototype.toSVGDOMNode=function(){return this.plot?this.plot.toSVGDOMNode():document.createElementNS("http://www.w3.org/2000/svg","svg")},t.prototype.render=function(){var e={};return this.tooltipVisible||(e.visible=!1),Object(i.createElement)("div",{style:{position:"relative",display:"inline-block"},"data-test":"LollipopPlot"},Object(i.createElement)(s.c,E({placement:this.handlers.getOverlayPlacement(),overlay:this.handlers.getOverlay},e),this.hitZone),Object(i.createElement)(Yn,E({ref:this.handlers.ref,setHitZone:this.handlers.setHitZone,onMouseLeave:this.handlers.onMouseLeave,onBackgroundMouseMove:this.handlers.onBackgroundMouseMove},this.props)))},t.defaultProps={vizHeight:200},A([d.observable],t.prototype,"hitZoneConfig",void 0),A([d.computed],t.prototype,"tooltipVisible",null),A([d.computed],t.prototype,"hitZone",null),t=A([o.observer],t)}(i.Component),Xn="lollipopMutationPlot-module_fade-out__3PbXO",Zn="lollipopMutationPlot-module_fade-in__8bsOR",Jn="lollipopMutationPlot-module_ymax-number-input__3oJoA";function er(e,t){void 0===t&&(t=1);var n=function(e){return-Math.floor(Math.log10(e)/Math.log10(10)+1)}(t),r=n<0?0:n+1;return e.toFixed(r)}var tr,nr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"showBottomYAxisSlider",{get:function(){return this.props.bottomCountRange&&c.a.compact(this.props.bottomCountRange).length>0&&this.props.onBottomYAxisMaxSliderChange&&this.props.onBottomYAxisMaxChange&&this.props.bottomYMaxSlider&&this.props.bottomYMaxInput},enumerable:!0,configurable:!0}),t.prototype.maxValueSlider=function(e,t,n,r,o,a,l,c,u,p){return void 0===l&&(l=!1),void 0===c&&(c="Y-Axis Max"),void 0===u&&(u=100),void 0===p&&(p=1),Object(i.createElement)("div",{className:"small",style:{display:"flex",alignItems:"center",marginLeft:10}},Object(i.createElement)("span",null,c,":"),Object(i.createElement)("div",{style:{width:u,marginLeft:10,marginRight:10}},Object(i.createElement)(S.a,{min:p,max:Bn(void 0,p,e,t,l),tooltip:!1,step:p,onChange:n,value:o})),Object(i.createElement)(s.e,{className:Jn,value:er(a,p),setValue:r,numericOnly:p>=1,onFocus:this.props.onYMaxInputFocused,onBlur:this.props.onYMaxInputBlurred}))},Object.defineProperty(t.prototype,"yMaxSlider",{get:function(){return this.maxValueSlider(this.props.countRange,this.props.bottomCountRange,this.props.onYAxisMaxSliderChange,this.props.onYAxisMaxChange,this.props.yMaxSlider,this.props.yMaxInput,this.props.yAxisSameScale,this.showBottomYAxisSlider?"Top Y-Axis Max":"Y-Axis Max",this.props.yMaxSliderWidth,this.props.yMaxSliderStep)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMaxSlider",{get:function(){return this.showBottomYAxisSlider?this.maxValueSlider(this.props.bottomCountRange,this.props.countRange,this.props.onBottomYAxisMaxSliderChange,this.props.onBottomYAxisMaxChange,this.props.bottomYMaxSlider,this.props.bottomYMaxInput,this.props.yAxisSameScale,"Bottom Y-Axis Max",100,this.props.bottomYMaxSliderStep):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackSelector",{get:function(){return Object(i.createElement)("div",{className:p()("annotation-track-selector","small"),style:{width:180,marginRight:7}},Object(i.createElement)(Un,{tracks:this.props.tracks,trackVisibility:this.props.trackVisibility,trackDataStatus:this.props.trackDataStatus,onChange:this.props.onTrackVisibilityChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendToggle",{get:function(){return Object(i.createElement)("button",{className:"btn btn-default btn-xs",onClick:this.props.onToggleLegend,style:{marginRight:7}},"Legend ",Object(i.createElement)("i",{className:"fa fa-eye","aria-hidden":"true"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downloadControls",{get:function(){return Object(i.createElement)(s.d,{getSvg:this.props.getSVG,filename:this.props.hugoGeneSymbol+"_lollipop.svg",dontFade:!0,type:"button"})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)("div",{className:p()("lollipop_mutation_plot__controls",this.props.showControls?Zn:Xn)},Object(i.createElement)("div",{style:{display:"flex",alignItems:"center"}},this.props.trackVisibility&&this.props.onTrackVisibilityChange&&this.props.showTrackSelector&&this.trackSelector,this.props.showYMaxSlider&&this.yMaxSlider,this.props.showYMaxSlider&&this.bottomYMaxSlider,this.props.filterResetPanel,this.props.customControls,Object(i.createElement)("div",{style:{display:"flex",marginLeft:"auto"}},this.props.showLegendToggle&&this.legendToggle,this.props.showDownloadControls&&this.downloadControls)),"  ")},t.defaultProps={showTrackSelector:!0,showYMaxSlider:!0,showLegendToggle:!0,showDownloadControls:!0,yMaxSliderWidth:100},A([d.computed],t.prototype,"showBottomYAxisSlider",null),t=A([o.observer],t)}(i.Component);!function(e){e.DefaultHotspot="DEFAULT_HOTSPOT"}(tr||(tr={}));var rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isHovered=!1,t}var n;return x(t,e),n=t,Object.defineProperty(t.prototype,"circleRadius",{get:function(){return this.isHovered?this.props.hoverRadius:this.props.radius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitRectangle",{get:function(){var e=this.props.hoverRadius||n.defaultProps.hoverRadius;return{x:this.props.x-e+(this.props.hitZoneXOffset||0),y:this.props.y,width:2*e,height:2*e}},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)("g",null,Object(i.createElement)("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.spec.color,r:this.circleRadius,cx:this.props.x,cy:this.props.y}),Object(i.createElement)("circle",{className:this.props.hitZoneClassName,r:this.props.hoverRadius,cx:this.props.x,cy:this.props.y,cursor:"pointer",style:{opacity:0}}))},t.defaultProps={radius:2.8,hoverRadius:5},A([d.observable],t.prototype,"isHovered",void 0),A([d.computed],t.prototype,"circleRadius",null),A([d.computed],t.prototype,"hitRectangle",null),t=n=A([o.observer],t)}(i.Component),or="trackStyles-module_trackTitle__HOHY0",ir=function(e){function t(t){var n=e.call(this,t)||this;return n.hitZoneConfig=Object(s.z)(),n.shiftPressed=!1,n.tooltipActive=!1,n}return x(t,e),t.prototype.setHitZone=function(e,t,n,r,o,i,a){void 0===i&&(i="pointer"),void 0===a&&(a="top"),this.hitZoneConfig={hitRect:e,content:t,onMouseOver:n,onClick:r,onMouseOut:o,cursor:i,tooltipPlacement:a}},t.prototype.getOverlay=function(){return this.hitZoneConfig.content},t.prototype.getOverlayPlacement=function(){return this.hitZoneConfig.tooltipPlacement},t.prototype.onMouseLeave=function(){this.hitZoneConfig.onMouseOut&&this.hitZoneConfig.onMouseOut()},t.prototype.onBackgroundMouseMove=function(){this.hitZoneConfig.onMouseOut&&this.hitZoneConfig.onMouseOut()},t.prototype.onBackgroundClick=function(){this.props.dataStore.clearSelectionFilters()},t.prototype.onTrackCircleClick=function(e){Ht(this.props.dataStore,e.props.spec.codon,this.shiftPressed,this.props.defaultFilters)},t.prototype.onTrackCircleHover=function(e){Ut(this.props.dataStore,e.props.spec.codon,this.props.defaultFilters),e.isHovered=!0},t.prototype.onKeyDown=function(e){16===e.which&&(this.shiftPressed=!0)},t.prototype.onKeyUp=function(e){16===e.which&&(this.shiftPressed=!1)},t.prototype.onMouseOver=function(e){var t=this;this.unhoverAllComponents();var n=e.target.getAttribute("class")||"",r=this.getComponentIndex(n);if(null!==r){var o=this.circles[r];o&&this.setHitZone(o.hitRectangle,o.props.spec.tooltip,Object(d.action)(function(){return t.onTrackCircleHover(o)}),Object(d.action)(function(){return t.onTrackCircleClick(o)}),this.onHitzoneMouseOut,"pointer","bottom")}},t.prototype.onSVGMouseLeave=function(e){"svg"===e.target.tagName.toLowerCase()&&this.onMouseLeave()},t.prototype.onTooltipVisibleChange=function(e){this.tooltipActive=e,e||this.unhoverAllComponents()},t.prototype.onHitzoneMouseOut=function(){this.tooltipActive||this.unhoverAllComponents()},Object.defineProperty(t.prototype,"svgHeight",{get:function(){return 10},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this.circles={},(this.props.trackItems||[]).map(function(t,n){return Object(i.createElement)(rr,{ref:function(t){null!==t&&(e.circles[n]=t)},key:t.codon,hitZoneClassName:""+e.props.idClassPrefix+n,hitZoneXOffset:e.props.xOffset,x:e.props.width/e.props.proteinLength*t.codon,y:e.svgHeight/2,radius:e.props.dataStore.isPositionSelected(t.codon)||e.props.dataStore.isPositionHighlighted(t.codon)?5:2.8,hoverRadius:5,spec:t})})},enumerable:!0,configurable:!0}),t.prototype.unhoverAllComponents=function(){Object(s.ib)(this.circles),this.props.dataStore.clearHighlightFilters()},t.prototype.getComponentIndex=function(e){return Object(s.G)(e,this.props.idClassPrefix||"track-circle-")},Object.defineProperty(t.prototype,"tooltipVisible",{get:function(){return!!this.hitZoneConfig.content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitZone",{get:function(){return Object(s.Q)(this.hitZoneConfig)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipVisibleProps",{get:function(){var e={};return this.tooltipVisible||(e.visible=!1),e},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){v()(document).on("keydown",this.onKeyDown),v()(document).on("keyup",this.onKeyUp)},t.prototype.componentWillUnmount=function(){v()(document).off("keydown",this.onKeyDown),v()(document).off("keyup",this.onKeyUp)},t.prototype.render=function(){return Object(i.createElement)("div",{style:{position:"relative",display:"flex"}},Object(i.createElement)("span",{className:p()(or,"small")},this.props.trackTitle),Object(i.createElement)("span",null,Object(i.createElement)(s.c,E({placement:this.getOverlayPlacement(),overlay:this.getOverlay,onVisibleChange:this.onTooltipVisibleChange,destroyTooltipOnHide:!0},this.tooltipVisibleProps),this.hitZone),Object(i.createElement)("span",{style:{marginLeft:this.props.xOffset},onMouseOver:this.onMouseOver},Object(i.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.svgHeight,className:"track-svgnode",onMouseLeave:this.onSVGMouseLeave,style:{overflow:"visible"}},Object(i.createElement)("rect",{fill:"#FFFFFF",x:0,y:0,width:this.props.width,height:this.svgHeight,onClick:Object(d.action)(this.onBackgroundClick),onMouseMove:this.onBackgroundMouseMove}),!this.props.hideBaseline&&Object(i.createElement)("line",{stroke:"#666666",strokeWidth:"0.5",x1:0,x2:this.props.width,y1:this.svgHeight/2,y2:this.svgHeight/2}),this.items))))},A([d.observable],t.prototype,"hitZoneConfig",void 0),A([d.observable],t.prototype,"shiftPressed",void 0),A([r.a],t.prototype,"setHitZone",null),A([r.a],t.prototype,"getOverlay",null),A([r.a],t.prototype,"getOverlayPlacement",null),A([r.a,d.action],t.prototype,"onMouseLeave",null),A([r.a],t.prototype,"onBackgroundMouseMove",null),A([r.a,d.action],t.prototype,"onBackgroundClick",null),A([r.a,d.action],t.prototype,"onTrackCircleClick",null),A([r.a,d.action],t.prototype,"onTrackCircleHover",null),A([r.a,d.action],t.prototype,"onKeyDown",null),A([r.a,d.action],t.prototype,"onKeyUp",null),A([r.a,d.action],t.prototype,"onMouseOver",null),A([r.a,d.action],t.prototype,"onSVGMouseLeave",null),A([r.a,d.action],t.prototype,"onTooltipVisibleChange",null),A([r.a,d.action],t.prototype,"onHitzoneMouseOut",null),A([d.action],t.prototype,"unhoverAllComponents",null),A([d.computed],t.prototype,"tooltipVisible",null),A([d.computed],t.prototype,"hitZone",null),t=A([o.observer],t)}(i.Component);var ar,sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"hotspotSpecs",{get:function(){var e=this,t=this.props.store.hotspotsByPosition;return Object(l.isEmpty)(t)?[]:Object(l.keys)(t).filter(function(e){return Number(e)>=0}).map(function(n){return{codon:Number(n),color:"#FF9900",tooltip:(r=e.props.store.mutationsByPosition[Number(n)],o=e.props.store.indexedHotspotData.result||{},a=t[Number(n)],s=sn(r,o),c=ln(r,o),u=r.filter(function(e){return pn(e,o,hn)}).length,p=Object(l.uniq)(a.map(function(e){return e.residue})),h=Object(i.createElement)("b",null,""+p.join(", ")),d=p.length>1?"s":void 0,f=Object(i.createElement)("span",null,"on residue",d," ",h),Object(i.createElement)(te,{isHotspot:s.length>0,is3dHotspot:c.length>0,count:u,customInfo:f}))};var r,o,a,s,c,u,p,h,d,f})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackTitle",{get:function(){return Object(i.createElement)("span",null,Object(i.createElement)("span",{style:{marginRight:2}},Object(i.createElement)("img",{src:ne,alt:"Recurrent Hotspot Symbol"})),"Cancer Hotspots")},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(ir,{dataStore:this.props.dataStore,defaultFilters:[{type:jt.HOTSPOT,values:[tr.DefaultHotspot]}],width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.trackTitle,trackItems:this.hotspotSpecs,idClassPrefix:"cancer-hotspot-"})},A([d.computed],t.prototype,"hotspotSpecs",null),A([d.computed],t.prototype,"trackTitle",null),t=A([o.observer],t)}(i.Component);!function(e){e.Oncogenic="ONCOGENIC"}(ar||(ar={}));var lr=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}var n;return x(t,e),n=t,Object.defineProperty(t.prototype,"hasLevelData",{get:function(){return void 0!==this.props.data.find(function(e){return e.level.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return[{id:"proteinChange",accessor:"proteinChange",Header:"Protein Change",sortMethod:function(e,t){return I(Object(s.x)(e),Object(s.x)(t))}},{id:"count",accessor:"count",Header:"Occurrence",maxWidth:80},{id:"clinicalImplication",accessor:"clinicalImplication",Header:"Implication",Cell:function(e){return Object(i.createElement)("span",null,e.original.clinicalImplication.join(", "))},sortMethod:M,minWidth:120},{id:"biologicalEffect",accessor:"biologicalEffect",Header:"Effect",Cell:function(e){return Object(i.createElement)("span",null,e.original.biologicalEffect.join(", "))},sortMethod:M,minWidth:150},{id:"level",accessor:"level",Header:"Level",sortable:!1,Cell:function(e){return Object(i.createElement)(i.Fragment,null,e.original.level.map(function(e){return Object(i.createElement)("div",{key:e.level,style:{overflow:"hidden",textOverflow:"ellipsis"}},Object(i.createElement)("i",{className:Ze(e.level),style:{verticalAlign:"text-bottom",display:"inline-block"}}),Object(i.createElement)("span",null,": "),Object(i.createElement)(s.f,{text:e.tumorTypes.join(", "),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}))}))},minWidth:this.hasLevelData?180:50}]},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.data,r=e.initialSortColumn,o=e.initialSortDirection,a=e.initialItemsPerPage,s=t.length>(this.props.initialItemsPerPage||n.defaultProps.initialItemsPerPage);return Object(i.createElement)("div",{className:p()("cbioportal-frontend","default-track-tooltip-table")},Object(i.createElement)(h.a,{data:t,columns:this.columns,defaultSorted:[{id:r||n.defaultProps.initialSortColumn,desc:"desc"===o}],defaultPageSize:t.length>a?a:t.length,showPagination:s,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight",previousText:"<",nextText:">"}))},t.defaultProps={data:[],initialSortColumn:"count",initialSortDirection:"desc",initialItemsPerPage:10},A([d.computed],t.prototype,"hasLevelData",null),A([d.computed],t.prototype,"columns",null),t=n=A([o.observer],t)}(i.Component);var cr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return this.props.indicatorData?function(e){var t=e.length,n=t>1?"s":void 0,r=Object(l.groupBy)(e,"oncogenic"),o=Object(l.keys)(r).map(function(e){return Object(i.createElement)("b",null,e)}),a=[];if(o.length>1){var c=o.slice(0,o.length-1).reduce(function(e,t){return[e,", ",t]});a.push(c),a.push(" and "),a.push(o[o.length-1])}else a=o;var u=Object(l.groupBy)(e,function(e){return e.query.alteration}),p=Object(l.keys)(u).map(function(e){return{count:u[e].length,proteinChange:e,clinicalImplication:Object(l.uniq)(u[e].map(function(e){return e.oncogenic?e.oncogenic:"Unknown"})),biologicalEffect:Object(l.uniq)(u[e].map(function(e){return e.mutationEffect&&e.mutationEffect.knownEffect?e.mutationEffect.knownEffect:"Unknown"})),level:(t=u[e],n={},t.forEach(function(e){e.treatments.forEach(function(t){var r=t.level.split("_"),o=2===r.length?r[1]:t.level;n[o]=n[o]||[],n[o].push(e.query.tumorType)})}),Object(l.keys)(n).sort(function(e,t){return s.l.all.indexOf(e)>s.l.all.indexOf(t)?-1:1}).map(function(e){return{level:e,tumorTypes:Object(l.uniq)(n[e])}}))};var t,n});return Object(i.createElement)("span",null,Object(i.createElement)("b",null,t)," sample",n," with ",a," ","mutations.",Object(i.createElement)(lr,{data:p}))}(this.props.indicatorData):null},t}(i.Component),ur=(a.a.createElement("circle",{r:6,fill:"none",strokeWidth:2,stroke:"#007FFF"}),a.a.createElement("circle",{r:3,fill:"none",strokeWidth:2,stroke:"#007FFF"}),a.a.createElement("circle",{r:1.5,fill:"#007FFF"}),"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2214%22%20height%3D%2214%22%3E%20%20%20%20%20%20%3Cg%20%20transform%3D%22translate%287%2C%207%29%22%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%226%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke%3D%22%23007FFF%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%223%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke%3D%22%23007FFF%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%221.5%22%20fill%3D%22%23007FFF%22%20stroke%3D%22none%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E");var pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"oncoKbSpecs",{get:function(){var e=this,t=this.props.store.oncoKbDataByPosition;return Object(l.isEmpty)(t)?[]:Object(l.keys)(t).filter(function(e){return Number(e)>=0}).map(function(n){return{codon:Number(n),color:"#007FFF",tooltip:Object(i.createElement)(cr,{mutations:e.props.store.mutationsByPosition[Number(n)],indicatorData:t[Number(n)],hugoGeneSymbol:e.props.store.gene.hugoGeneSymbol})}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackTitle",{get:function(){return Object(i.createElement)("span",null,Object(i.createElement)("span",{style:{marginRight:2}},Object(i.createElement)("img",{src:ur,alt:"OncoKB Oncogenic Symbol"})),"OncoKB")},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)(ir,{dataStore:this.props.dataStore,defaultFilters:[{type:jt.ONCOKB,values:[ar.Oncogenic]}],width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.trackTitle,trackItems:this.oncoKbSpecs,idClassPrefix:"onco-kb-"})},A([d.computed],t.prototype,"oncoKbSpecs",null),A([d.computed],t.prototype,"trackTitle",null),t=A([o.observer],t)}(i.Component),hr={Phosphorylation:"#2DCF00",Acetylation:"#5B5BFF",Ubiquitination:"#B9264F",Methylation:"#EBD61D",multiType:"#444444",default:"#BA21E0"},dr={Phosphorylation:1,Acetylation:2,Ubiquitination:3,Methylation:4,default:999};function fr(e){var t=hr.default,n=Object(l.uniq)((e||[]).map(function(e){return e.type}));return 1===n.length?t=hr[n[0]]||hr.default:n.length>1&&(t=hr.multiType),t}function mr(e,t){var n=dr[e]||dr.default,r=dr[t]||dr.default;return n>r?1:r>n?-1:e>t?1:t>e?-1:0}var yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){return Object(i.createElement)(s.c,{placement:"right",overlay:Object(i.createElement)("div",{style:{maxWidth:400,maxHeight:400,overflowY:"auto"}},Object(i.createElement)(mt,{pmids:this.props.pubmedIds.map(function(e){return(t=e.match(/[0-9]+/))?Number(t[0]):void 0;var t}).filter(function(e){return void 0!==e}),pmidData:this.props.pmidData,abstracts:[]})),destroyTooltipOnHide:!0},Object(i.createElement)("div",{style:{textAlign:"right"}},Object(i.createElement)("i",{className:"fa fa-book",style:{color:"black"}})))},t=A([o.observer],t)}(i.Component),gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return x(t,e),n=t,Object.defineProperty(t.prototype,"pmidData",{get:function(){var e=this;return this.props.pubMedCache&&this.props.data.forEach(function(t){return t.pubmedIds.forEach(function(t){return e.props.pubMedCache.get(Number(t))})}),this.props.pubMedCache&&this.props.pubMedCache.cache||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){var e=this;return[{id:"position",accessor:"position",Header:"Position",Cell:function(e){return Object(i.createElement)("div",{style:{textAlign:"right"}},e.original.position)},maxWidth:64},{id:"type",accessor:"type",Header:"Type",minWidth:140},{id:"pubmedIds",Header:"",Cell:c.a.isEmpty(this.pmidData)?function(){return e.props.pubMedCache?Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse"}):null}:function(t){return Object(i.createElement)(yr,{pmidData:e.pmidData,pubmedIds:t.original.pubmedIds})},sortable:!1,maxWidth:32}]},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.data,r=e.initialSortColumn,o=e.initialSortDirection,a=e.initialItemsPerPage,s=t.length>(this.props.initialItemsPerPage||n.defaultProps.initialItemsPerPage);return Object(i.createElement)("div",{className:p()("cbioportal-frontend","default-track-tooltip-table")},Object(i.createElement)(h.a,{data:t,columns:this.columns,defaultSorted:[{id:r||n.defaultProps.initialSortColumn,desc:"desc"===o}],defaultPageSize:t.length>a?a:t.length,showPagination:s,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight",previousText:"<",nextText:">"}))},t.defaultProps={data:[],initialSortColumn:"type",initialSortDirection:"asc",initialItemsPerPage:10},A([d.computed],t.prototype,"pmidData",null),A([d.computed],t.prototype,"columns",null),t=n=A([o.observer],t)}(i.Component),vr={ptmLegend:"ptmTrackStyles-module_ptmLegend__2fFwp",Phosphorylation:"ptmTrackStyles-module_Phosphorylation__sX2pM",Acetylation:"ptmTrackStyles-module_Acetylation__3D27B",Ubiquitination:"ptmTrackStyles-module_Ubiquitination__2m5bn",Methylation:"ptmTrackStyles-module_Methylation__16TNK",multiType:"ptmTrackStyles-module_multiType__V_LDv",default:"ptmTrackStyles-module_default__G-0zf"};function br(e,t){return Object(i.createElement)(gr,{data:e,pubMedCache:t})}var Sr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expanded=!0,t}var n;return x(t,e),n=t,Object.defineProperty(t.prototype,"ptmSpecs",{get:function(){var e=this,t=this.props.store.ptmDataByProteinPosStart.result;return t&&!Object(l.isEmpty)(t)?Object(l.keys)(t).filter(function(e){return Number(e)>=0}).map(function(n){return{codon:Number(n),color:fr(t[Number(n)]),tooltip:br(t[Number(n)],e.props.pubMedCache)}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ptmSubSpecs",{get:function(){var e=this,t=this.props.store.ptmDataByTypeAndProteinPosStart.result;return t&&!Object(l.isEmpty)(t)?Object(l.keys)(t).sort(mr).map(function(n){return{title:n,specs:Object(l.keys)(t[n]).filter(function(e){return Number(e)>=0}).map(function(r){return{codon:Number(r),color:fr(t[n][Number(r)]),tooltip:br(t[n][Number(r)],e.props.pubMedCache)}})}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainTrackTitle",{get:function(){var e=this;return Object(i.createElement)("span",{style:{cursor:"pointer"}},Object(i.createElement)("span",{onClick:this.handleToggleExpand},this.expander),Object(i.createElement)(s.c,{placement:"left",overlay:function(){return t=e.props.ensemblTranscriptId,Object(i.createElement)("div",{style:{maxWidth:400}},Object(i.createElement)("p",null,"Displays all Post Translational Modifications (PTMs) available",t&&Object(i.createElement)("span",null," for the Ensembl transcript ",t),"."),Object(i.createElement)("p",{className:vr.ptmLegend},"PTM types and corresponding color codes are as follows:",Object(i.createElement)("ul",null,Object(i.createElement)("li",{className:vr.Phosphorylation},Object(i.createElement)("strong",null,"Phosphorylation")),Object(i.createElement)("li",{className:vr.Acetylation},Object(i.createElement)("strong",null,"Acetylation")),Object(i.createElement)("li",{className:vr.Ubiquitination},Object(i.createElement)("strong",null,"Ubiquitination")),Object(i.createElement)("li",{className:vr.Methylation},Object(i.createElement)("strong",null,"Methylation")),Object(i.createElement)("li",{className:vr.multiType},Object(i.createElement)("strong",null,"Multiple Type"),": Sites with more than one PTM type"),Object(i.createElement)("li",{className:vr.default},Object(i.createElement)("strong",null,"Other"),": All other PTM types"))),Object(i.createElement)("div",null,"Data Source:"," ",Object(i.createElement)("a",{href:"http://dbptm.mbc.nctu.edu.tw/",target:"_blank"},"dbPTM")));var t},destroyTooltipOnHide:!0},Object(i.createElement)("span",{style:{marginLeft:4},onClick:this.handleToggleExpand},"PTM Sites ",Object(i.createElement)("i",{className:"fa fa-info-circle"}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expander",{get:function(){var e=this.hasSubTracks?this.mainTrackHidden?"fa fa-caret-down":"fa fa-caret-right":null;return e?Object(i.createElement)("i",{className:e,style:{width:10,marginLeft:2}}):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subTrackMargin",{get:function(){return this.props.subTrackMargin||n.defaultProps.subTrackMargin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subTrackTitleWidth",{get:function(){return this.props.xOffset?this.props.xOffset-this.subTrackMargin:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subTracks",{get:function(){var e=this;return this.hasSubTracks?this.ptmSubSpecs.map(function(t,n){return Object(i.createElement)(ir,{key:t.title,dataStore:e.props.dataStore,xOffset:e.props.xOffset,trackTitle:Object(i.createElement)("span",{style:{marginLeft:e.subTrackMargin,width:e.subTrackTitleWidth,display:"flex"}},Object(i.createElement)(s.f,{text:t.title,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),width:e.props.width,proteinLength:e.props.proteinLength,trackItems:t.specs,idClassPrefix:"ptm-"+n+"-"})}):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainTrackHidden",{get:function(){return this.expanded&&this.hasSubTracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSubTracks",{get:function(){return this.ptmSubSpecs.length>0},enumerable:!0,configurable:!0}),t.prototype.render=function(){return Object(i.createElement)("span",null,Object(i.createElement)(ir,{dataStore:this.props.dataStore,width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.mainTrackTitle,trackItems:this.mainTrackHidden?[]:this.ptmSpecs,hideBaseline:this.mainTrackHidden,idClassPrefix:"ptm-"}),Object(i.createElement)(m.Collapse,{isOpened:this.mainTrackHidden},Object(i.createElement)("span",null,this.subTracks)))},t.prototype.handleToggleExpand=function(){this.expanded=!this.expanded},t.defaultProps={subTrackMargin:25},A([d.observable],t.prototype,"expanded",void 0),A([d.computed],t.prototype,"ptmSpecs",null),A([d.computed],t.prototype,"ptmSubSpecs",null),A([d.computed],t.prototype,"mainTrackTitle",null),A([d.computed],t.prototype,"expander",null),A([d.computed],t.prototype,"subTrackMargin",null),A([d.computed],t.prototype,"subTrackTitleWidth",null),A([d.computed],t.prototype,"subTracks",null),A([d.computed],t.prototype,"mainTrackHidden",null),A([d.computed],t.prototype,"hasSubTracks",null),A([r.a,d.action],t.prototype,"handleToggleExpand",null),t=n=A([o.observer],t)}(i.Component),wr=function(e){function t(t){return e.call(this,t)||this}return x(t,e),Object.defineProperty(t.prototype,"proteinLength",{get:function(){var e=this.props.proteinLength||0;return Math.max(e,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableTracks",{get:function(){var e;return(e={})[Nn.CancerHotspots]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[Nn.CancerHotspots]?null:Object(i.createElement)(sr,{store:this.props.store,dataStore:this.props.store.dataStore,hotspotIndex:this.props.store.indexedHotspotData.result||{},width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),e[Nn.OncoKB]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[Nn.OncoKB]?null:Object(i.createElement)(pr,{store:this.props.store,dataStore:this.props.store.dataStore,width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),e[Nn.PTM]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[Nn.PTM]?null:Object(i.createElement)(Sr,{store:this.props.store,pubMedCache:this.props.pubMedCache,ensemblTranscriptId:this.props.store.activeTranscript,dataStore:this.props.store.dataStore,width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),e},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;return Object(i.createElement)("div",{style:{overflowY:"hidden",maxHeight:this.props.maxHeight,position:"relative"}},this.props.tracks.map(function(t){return e.availableTracks[t]}).filter(function(e){return null!=e}))},t.defaultProps={tracks:[Nn.CancerHotspots,Nn.OncoKB,Nn.PTM]},A([d.computed],t.prototype,"proteinLength",null),t=A([o.observer],t)}(i.Component),Cr=function(e){function t(t){var n=e.call(this,t)||this;return n.mouseInPlot=!0,n.yMaxInputFocused=!1,n._trackVisibility=qn(),n.handlers={handleYAxisMaxSliderChange:Object(d.action)(function(e){return n.controlsConfig.yMaxInput=Bn(e,n.yMaxStep,n.countRange,n.bottomCountRange,n.props.yAxisSameScale)}),handleYAxisMaxChange:Object(d.action)(function(e){return n.controlsConfig.yMaxInput=Vn(n.yMaxStep,e)}),handleBottomYAxisMaxSliderChange:Object(d.action)(function(e){return n.controlsConfig.bottomYMaxInput=Bn(e,n.yMaxStep,n.bottomCountRange,n.countRange,n.props.yAxisSameScale)}),handleBottomYAxisMaxChange:Object(d.action)(function(e){return n.controlsConfig.bottomYMaxInput=Vn(n.yMaxStep,e)}),onYMaxInputFocused:function(){n.yMaxInputFocused=!0},onYMaxInputBlurred:function(){n.yMaxInputFocused=!1},handleToggleLegend:Object(d.action)(function(){n.controlsConfig.legendShown=!n.controlsConfig.legendShown}),onMouseEnterPlot:Object(d.action)(function(){n.mouseInPlot=!0}),onMouseLeavePlot:Object(d.action)(function(){n.mouseInPlot=!1})},n}return x(t,e),Object.defineProperty(t.prototype,"showControls",{get:function(){return!this.props.autoHideControls||(this.yMaxInputFocused||this.mouseInPlot)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackVisibility",{get:function(){return this.props.trackVisibility||this._trackVisibility},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlsConfig",{get:function(){return this.props.controlsConfig||new jn},enumerable:!0,configurable:!0}),t.prototype.lollipopTooltip=function(e,t){var n=t[e[0].proteinPosStart],r=this.props.lollipopTooltipCountInfo?this.props.lollipopTooltipCountInfo(n,e):Object(i.createElement)("strong",null,n," mutation",1!==n?"s":""),o=Fn(e);return Object(i.createElement)("div",null,r,Object(i.createElement)("br",null),Object(i.createElement)("span",null,"AA Change: ",o))},Object.defineProperty(t.prototype,"groups",{get:function(){return this.props.store.groupedMutationsByPosition.length>0?this.props.store.groupedMutationsByPosition.map(function(e){return e.group}):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lollipops",{get:function(){var e=[];if(this.props.store.groupedMutationsByPosition.length>1){var t=this.props.store.groupedMutationsByPosition[0].group,n=this.props.store.groupedMutationsByPosition[0].mutations,r=this.props.store.uniqueGroupedMutationCountsByPosition[0].counts;e=this.getLollipopSpecs(n,r,t,In.TOP);var o=this.props.store.groupedMutationsByPosition[1].group,i=this.props.store.groupedMutationsByPosition[1].mutations,a=this.props.store.uniqueGroupedMutationCountsByPosition[1].counts;e=e.concat(this.getLollipopSpecs(i,a,o,In.BOTTOM))}else if(Object.keys(this.props.store.mutationsByPosition).length>0)return this.getLollipopSpecs(this.props.store.mutationsByPosition,this.props.store.uniqueMutationCountsByPosition);return e},enumerable:!0,configurable:!0}),t.prototype.getLollipopSpecs=function(e,t,n,r){var o=Object.keys(e).map(function(t){return e[parseInt(t,10)]}).sort(function(e,n){return t[e[0].proteinPosStart]<t[n[0].proteinPosStart]?1:-1}),i=o&&o[0]?t[o[0][0].proteinPosStart]:0,a=o?o.findIndex(function(e){return t[e[0].proteinPosStart]!==i}):-1;-1===a&&(a=o?o.length:0);var s;s=a>1&&a>2?0:Math.min(a,1);for(var l=[],c=0;c<o.length;c++){var u=o[c],p=u[0].proteinPosStart,h=t[p];if(!(isNaN(p)||p<0||this.props.store.allTranscripts.isComplete&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&p>this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].proteinLength+1)){var d=void 0;if(c<s&&h>0){var f=Fn(u,3);d={text:f,textAnchor:Gn(f,p,"arial",10,this.props.geneWidth,this.proteinLength),fontSize:10,fontFamily:"arial"}}else d=void 0;l.push({codon:p,group:n,placement:r,count:h,tooltip:this.lollipopTooltip(u,t),color:this.props.getLollipopColor?this.props.getLollipopColor(u):B(u,R,this.props.getMutationCount),label:d})}}return l},t.prototype.mutationAlignerLink=function(e){if(this.props.store.mutationAlignerLinks&&this.props.store.mutationAlignerLinks.result){var t=this.props.store.mutationAlignerLinks.result[e];return t?Object(i.createElement)("a",{href:t,target:"_blank"},"Mutation Aligner"):null}return null},t.prototype.domainTooltip=function(e,t,n){var r=t?t.pfamAccession:n,o=t?t.name+": "+t.description:r;return Object(i.createElement)("div",{style:{maxWidth:200}},Object(i.createElement)("div",null,o," (",e.pfamDomainStart," -"," ",e.pfamDomainEnd,")"),Object(i.createElement)("div",null,Object(i.createElement)("a",{style:{marginRight:"5px"},href:"http://pfam.xfam.org/family/"+r,target:"_blank"},"PFAM"),this.mutationAlignerLink(r)))},Object.defineProperty(t.prototype,"domains",{get:function(){var e=this;return this.props.store.pfamDomainData.isComplete&&this.props.store.pfamDomainData.result&&0!==this.props.store.pfamDomainData.result.length&&this.props.store.allTranscripts.isComplete&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains&&0!==this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.length?this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.map(function(t){var n=e.domainMap[t.pfamDomainId];return{startCodon:t.pfamDomainStart,endCodon:t.pfamDomainEnd,label:n?n.name:t.pfamDomainId,color:e.domainColorMap[t.pfamDomainId],tooltip:e.domainTooltip(t,n,t.pfamDomainId)}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domainColorMap",{get:function(){return!this.props.store.allTranscripts.isPending&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.length>0?(e=this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains,t=["#2dcf00","#ff5353","#5b5bff","#ebd61d","#ba21e0","#ff9c42","#ff7dff","#b9264f","#baba21","#c48484","#1f88a7","#cafeb8","#4a9586","#ceb86c","#0e180f"],n={},r=0,e.sort(function(e,t){return e.pfamDomainStart-t.pfamDomainStart}).forEach(function(e){void 0===n[e.pfamDomainId]&&(n[e.pfamDomainId]=t[r%t.length],r++)}),n):{};var e,t,n,r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domainMap",{get:function(){return!this.props.store.pfamDomainData.isPending&&this.props.store.pfamDomainData.result&&this.props.store.pfamDomainData.result.length>0?c.a.keyBy(this.props.store.pfamDomainData.result,"pfamAccession"):{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"proteinLength",{get:function(){return this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].proteinLength||10},enumerable:!0,configurable:!0}),t.prototype.sequenceTooltip=function(){return Object(i.createElement)("div",{style:{maxWidth:200}},Object(i.createElement)("a",{href:"http://www.uniprot.org/uniprot/"+this.props.store.uniprotId.result,target:"_blank"},this.props.store.uniprotId.result))},Object.defineProperty(t.prototype,"sequence",{get:function(){return{tooltip:this.sequenceTooltip()}},enumerable:!0,configurable:!0}),t.prototype.getSVG=function(){return v()(this.divContainer).find(".lollipop-svgnode")[0]},Object.defineProperty(t.prototype,"hugoGeneSymbol",{get:function(){return this.props.store.gene.hugoGeneSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"countRange",{get:function(){return Hn(this.lollipops.filter(function(e){return e.placement!==In.BOTTOM}),this.props.topYAxisDefaultMax,this.props.topYAxisDefaultMin)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomCountRange",{get:function(){return Hn(this.lollipops.filter(function(e){return e.placement===In.BOTTOM}),this.props.bottomYAxisDefaultMax,this.props.bottomYAxisDefaultMin)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxSlider",{get:function(){return this.yMaxInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxStep",{get:function(){return Math.pow(10,-(this.props.yMaxFractionDigits||0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxSliderStep",{get:function(){return this.countRange[0]<1?this.yMaxStep:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMaxSlider",{get:function(){return this.bottomYMaxInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMaxSliderStep",{get:function(){return this.bottomCountRange[0]<1?this.yMaxStep:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yMaxInput",{get:function(){return Bn(this.controlsConfig.yMaxInput,this.yMaxStep,this.countRange,this.bottomCountRange,this.props.yAxisSameScale)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomYMaxInput",{get:function(){return Bn(this.controlsConfig.bottomYMaxInput,this.yMaxStep,this.bottomCountRange,this.countRange,this.props.yAxisSameScale)},enumerable:!0,configurable:!0}),t.prototype.onXAxisOffset=function(e){this.geneXOffset=e,this.props.onXAxisOffset&&this.props.onXAxisOffset(e)},t.prototype.onTrackVisibilityChange=function(e){var t=this;this.props.onTrackVisibilityChange?this.props.onTrackVisibilityChange(e):(Object.keys(this.trackVisibility).forEach(function(e){return t.trackVisibility[e]="hidden"}),e.forEach(function(e){return t.trackVisibility[e]="visible"}))},t.prototype.render=function(){var e=this;return this.props.store.pfamDomainData.isComplete&&this.props.store.pfamDomainData.result?Object(i.createElement)("div",{style:{display:"inline-block"},ref:function(t){return e.divContainer=t},onMouseEnter:this.handlers.onMouseEnterPlot,onMouseLeave:this.handlers.onMouseLeavePlot},Object(i.createElement)(nr,{showControls:this.showControls,showYMaxSlider:this.props.showYMaxSlider,showLegendToggle:this.props.showLegendToggle,showDownloadControls:this.props.showDownloadControls,hugoGeneSymbol:this.hugoGeneSymbol,countRange:this.countRange,bottomCountRange:this.bottomCountRange,onYAxisMaxSliderChange:this.handlers.handleYAxisMaxSliderChange,onYAxisMaxChange:this.handlers.handleYAxisMaxChange,onBottomYAxisMaxSliderChange:this.handlers.handleBottomYAxisMaxSliderChange,onBottomYAxisMaxChange:this.handlers.handleBottomYAxisMaxChange,onYMaxInputFocused:this.handlers.onYMaxInputFocused,onYMaxInputBlurred:this.handlers.onYMaxInputBlurred,onToggleLegend:this.handlers.handleToggleLegend,yMaxSlider:this.yMaxSlider,yMaxSliderStep:this.yMaxSliderStep,yMaxInput:this.yMaxInput,yAxisSameScale:this.props.yAxisSameScale,bottomYMaxSlider:this.bottomYMaxSlider,bottomYMaxSliderStep:this.bottomYMaxSliderStep,bottomYMaxInput:this.bottomYMaxInput,customControls:this.props.customControls,filterResetPanel:this.props.filterResetPanel,trackVisibility:this.trackVisibility,tracks:this.props.tracks,trackDataStatus:this.props.trackDataStatus,showTrackSelector:this.props.showTrackSelector,onTrackVisibilityChange:this.onTrackVisibilityChange,getSVG:this.getSVG}),Object(i.createElement)(m.Collapse,{isOpened:this.controlsConfig.legendShown},this.props.legend||Object(i.createElement)(Wn,null)),Object(i.createElement)(Qn,{sequence:this.sequence,lollipops:this.lollipops,domains:this.domains,dataStore:this.props.store.dataStore,vizWidth:this.props.geneWidth,vizHeight:this.props.vizHeight,hugoGeneSymbol:this.hugoGeneSymbol,xMax:this.proteinLength,yMax:this.yMaxInput,yMaxFractionDigits:this.yMaxSliderStep<1?this.props.yMaxFractionDigits:void 0,yMaxLabelPostfix:this.props.yMaxLabelPostfix,yAxisLabelPadding:this.props.yAxisLabelPadding,showYAxis:this.props.showYAxis,bottomYMax:this.bottomYMaxInput,onXAxisOffset:this.onXAxisOffset,topYAxisSymbol:this.props.topYAxisSymbol,bottomYAxisSymbol:this.props.bottomYAxisSymbol,groups:this.groups}),Object(i.createElement)(wr,{store:this.props.store,geneWidth:this.props.geneWidth,tracks:this.props.tracks,trackVisibility:this.trackVisibility,pubMedCache:this.props.pubMedCache,proteinLength:this.proteinLength,geneXOffset:this.geneXOffset})):this.props.store.canonicalTranscript.isComplete&&void 0===this.props.store.canonicalTranscript.result?Object(i.createElement)("span",null,Object(i.createElement)("i",{className:"fa fa-exclamation-triangle text-danger"})," No Transcript found for ",this.hugoGeneSymbol):this.props.loadingIndicator||Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"})},t.defaultProps={yMaxFractionDigits:1,yAxisSameScale:!0},A([d.observable],t.prototype,"mouseInPlot",void 0),A([d.observable],t.prototype,"yMaxInputFocused",void 0),A([d.observable],t.prototype,"geneXOffset",void 0),A([d.observable],t.prototype,"_trackVisibility",void 0),A([d.computed],t.prototype,"showControls",null),A([d.computed],t.prototype,"trackVisibility",null),A([d.computed],t.prototype,"controlsConfig",null),A([d.computed],t.prototype,"groups",null),A([d.computed],t.prototype,"lollipops",null),A([d.computed],t.prototype,"domains",null),A([d.computed],t.prototype,"domainColorMap",null),A([d.computed],t.prototype,"domainMap",null),A([d.computed],t.prototype,"sequence",null),A([r.a],t.prototype,"getSVG",null),A([d.computed],t.prototype,"hugoGeneSymbol",null),A([d.computed],t.prototype,"countRange",null),A([d.computed],t.prototype,"bottomCountRange",null),A([d.computed],t.prototype,"yMaxSlider",null),A([d.computed],t.prototype,"yMaxStep",null),A([d.computed],t.prototype,"yMaxSliderStep",null),A([d.computed],t.prototype,"bottomYMaxSlider",null),A([d.computed],t.prototype,"bottomYMaxSliderStep",null),A([d.computed],t.prototype,"yMaxInput",null),A([d.computed],t.prototype,"bottomYMaxInput",null),A([r.a,d.action],t.prototype,"onXAxisOffset",null),A([r.a,d.action],t.prototype,"onTrackVisibilityChange",null),t=A([o.observer],t)}(i.Component),_r=function(){function e(){this._cache=d.observable.shallowMap()}return e.prototype.fetch=function(e){return O(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){C.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:e}).end(function(e,r){if(!e&&r.ok){for(var o=JSON.parse(r.text).result,i={},a=0,s=o.uids;a<s.length;a++){var l=s[a];i[l]=o[l]}t(i)}else n(e)})})];case 1:return[2,t.sent()[e]]}})})},e.prototype.get=function(e){var t=this;return this._cache[e]||(this._cache[e]={status:"pending"},this.fetch(e).then(function(n){return t._cache[e]={status:"complete",data:n}}).catch(function(){return t._cache[e]={status:"error"}})),this._cache[e]},Object.defineProperty(e.prototype,"cache",{get:function(){return this._cache},enumerable:!0,configurable:!0}),A([d.action],e.prototype,"get",null),e}();function kr(e){!function(e){e.forEach(function(e){if(void 0===e.proteinPosStart&&void 0===e.proteinPosEnd){var t=e.proteinChange||e.aminoAcidChange,n=Object(s.L)(t);n&&(e.proteinPosStart=n.start,e.proteinPosEnd=n.end)}})}(e),function(e){e.forEach(function(e){e.mutationType||(e.mutationType=Object(s.H)(e.proteinChange||e.aminoAcidChange)||"")})}(e)}function Tr(e,t){return e.map(function(e){return function(e,t){var n,r=z(e),o=r?t[V(r)]:void 0;o&&(n=function(e){var t=Object(l.find)(e.transcriptConsequenceSummaries,function(t){return t.transcriptId===e.canonicalTranscriptId});t||(t=e.transcriptConsequenceSummaries.length>0?e.transcriptConsequenceSummaries[0]:void 0);return t}(o.annotation_summary));return o&&n?xr(e,o.annotation_summary,n,!1):Ar(e)}(e,t)})}function xr(e,t,n,r){var o=Ar(e);o.variantType=!r&&o.variantType||t.variantType,o.proteinChange=!r&&o.proteinChange||n.hgvspShort,o.proteinChange&&(o.proteinChange=o.proteinChange.replace(/^p./,"")),o.mutationType=!r&&o.mutationType||n.variantClassification,n.proteinPosition&&(o.proteinPosStart=!r&&o.proteinChange?o.proteinPosStart:n.proteinPosition.start,o.proteinPosEnd=!r&&o.proteinChange?o.proteinPosEnd:n.proteinPosition.end);var i=parseInt(n.entrezGeneId,10);return o.gene=E({},o.gene,{hugoGeneSymbol:!r&&o.gene&&o.gene.hugoGeneSymbol||n.hugoGeneSymbol,entrezGeneId:o.gene&&o.gene.entrezGeneId||i}),o}function Er(e,t,n){return Object(l.compact)(e.map(function(e){return function(e,t,n){var r=z(e),o=r?n[V(r)]:void 0,i=o&&o.annotation_summary&&o.annotation_summary.transcriptConsequenceSummaries&&o.annotation_summary.transcriptConsequenceSummaries.filter(function(e){return e.transcriptId===t});if(o&&i&&i.length>0){var a=i[0],s=xr(e,o.annotation_summary,a,!0);return s.proteinChange&&s.proteinChange.length>0&&new RegExp(/.*[A-Z].*/,"i").test(s.proteinChange.toLowerCase())?s:void 0}}(e,t,n)}))}function Ar(e){var t=Object(d.toJS)(e);return E({},t,{variantType:t.variantType||"",gene:t.gene||{hugoGeneSymbol:""},proteinChange:t.proteinChange||"",mutationType:t.mutationType||""})}function Or(e){return Object(l.keyBy)(e,function(e){return e.annotation_summary?V(e.annotation_summary.genomicLocation):function(e){var t=e.seq_region_name,n=e.start,r=e.end,o=e.allele_string.split("/")[0],i=e.allele_string.split("/")[1];return V({chromosome:t,start:n,end:r,referenceAllele:o,variantAllele:i})}(e)})}var Pr="https://www.genomenexus.org/",Ir="https://legacy.oncokb.org/",Mr={indicatorMap:{}},Dr=jr();function Lr(e,t){return c.a.template(e)(t)}function Nr(e,t,n,r){return void 0===t&&(t=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=Dr),O(this,void 0,void 0,function(){var o,i;return P(this,function(a){switch(a.label){case 0:return(o=H(e)).length>0&&r.fetchVariantAnnotationByGenomicLocationPOST?[4,r.fetchVariantAnnotationByGenomicLocationPOST({genomicLocations:o,fields:t,isoformOverrideSource:n})]:[3,2];case 1:return i=a.sent(),[3,3];case 2:i=[],a.label=3;case 3:return[2,i]}})})}function Rr(e,t,n,r){return void 0===t&&(t=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=Dr),O(this,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,Nr(e,t,n,r)];case 1:return[2,Or(o.sent())]}})})}function jr(e,t,n){var r=new s.i(e||Pr);return t&&Object(s.w)(s.i,[],/POST$/,n),r}function Fr(e,t,n){var r=new s.n(e||Ir);return t&&Object(s.w)(s.n,[],void 0,n),r}var Gr,Br=function(e){function t(t){var n=e.call(this)||this;return n.oncoKbClient=t||Fr(),n}return x(t,e),t.prototype.fetch=function(e){return O(this,void 0,void 0,function(){var t,n,r,o;return P(this,function(i){switch(i.label){case 0:t={},i.label=1;case 1:return i.trys.push([1,4,,5]),this.oncoKbClient.evidencesLookupPostUsingPOST?[4,this.oncoKbClient.evidencesLookupPostUsingPOST({body:E({},Object(s.B)("STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_RESISTANCE"),{queries:e})})]:[3,3];case 2:for(o in n=i.sent(),r=nt(n))r.hasOwnProperty(o)&&(t[o]={status:"complete",data:r[o]});this.putData(t),i.label=3;case 3:return[3,5];case 4:return i.sent(),e.forEach(function(e){t[e.id]={status:"error"}}),this.putData(t),[3,5];case 5:return[2]}})})},t}(s.q),zr=function(){function e(e,t,n,r,o,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=[]),void 0===i&&(i=[]),this.data=e,this.customFilterApplier=t,this.dataFilters=n,this.selectionFilters=r,this.highlightFilters=o,this.groupFilters=i}return Object.defineProperty(e.prototype,"groupFiltersKeyedByGroup",{get:function(){return c.a.keyBy(this.groupFilters,"group")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allData",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredData",{get:function(){var e=this;return this.dataFilters.length>0?this.data.filter(function(t){return e.dataMainFilter(c.a.flatten([t])[0])}):this.data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortedFilteredData",{get:function(){return this.filteredData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortedFilteredGroupedData",{get:function(){return $t(this.groupFilters,this.sortedFilteredData,this.applyFilter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortedFilteredSelectedData",{get:function(){var e=this;return this.selectionFilters.length>0?this.sortedFilteredData.filter(function(t){return e.dataSelectFilter(c.a.flatten([t])[0])}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedPositions",{get:function(){return Wt(this.selectionFilters)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlightedPositions",{get:function(){return Wt(this.highlightFilters)},enumerable:!0,configurable:!0}),e.prototype.clearHighlightFilters=function(){this.highlightFilters.length>0&&(this.highlightFilters=[])},e.prototype.clearSelectionFilters=function(){this.selectionFilters.length>0&&(this.selectionFilters=[])},e.prototype.clearDataFilters=function(){this.dataFilters.length>0&&(this.dataFilters=[])},e.prototype.setDataFilters=function(e){this.dataFilters=e},e.prototype.setHighlightFilters=function(e){this.highlightFilters=e},e.prototype.setSelectionFilters=function(e){this.selectionFilters=e},e.prototype.setGroupFilters=function(e){this.groupFilters=e},e.prototype.isPositionSelected=function(e){return!!this.selectedPositions[e+""]},e.prototype.isPositionHighlighted=function(e){return!!this.highlightedPositions[e+""]},e.prototype.dataMainFilter=function(e){return Xt(e,this.dataFilters,this.applyFilter)},e.prototype.dataSelectFilter=function(e){return Xt(e,this.selectionFilters,this.applyFilter)},e.prototype.dataHighlightFilter=function(e){return Xt(e,this.highlightFilters,this.applyFilter)},e.prototype.applyFilter=function(e,t){return this.customFilterApplier?this.customFilterApplier.applyFilter(e,t):e.type!==jt.POSITION||e.values.includes(t.proteinPosStart)},A([d.observable],e.prototype,"dataFilters",void 0),A([d.observable],e.prototype,"selectionFilters",void 0),A([d.observable],e.prototype,"highlightFilters",void 0),A([d.observable],e.prototype,"groupFilters",void 0),A([d.computed],e.prototype,"groupFiltersKeyedByGroup",null),A([d.computed],e.prototype,"allData",null),A([d.computed],e.prototype,"filteredData",null),A([d.computed],e.prototype,"sortedFilteredData",null),A([d.computed],e.prototype,"sortedFilteredGroupedData",null),A([d.computed],e.prototype,"sortedFilteredSelectedData",null),A([d.computed],e.prototype,"selectedPositions",null),A([d.computed],e.prototype,"highlightedPositions",null),A([d.action],e.prototype,"clearHighlightFilters",null),A([d.action],e.prototype,"clearSelectionFilters",null),A([d.action],e.prototype,"clearDataFilters",null),A([d.action],e.prototype,"setDataFilters",null),A([d.action],e.prototype,"setHighlightFilters",null),A([d.action],e.prototype,"setSelectionFilters",null),A([d.action],e.prototype,"setGroupFilters",null),A([r.a],e.prototype,"applyFilter",null),e}(),Vr=function(){function e(e,t,n,r){var o,i,a,l;this.config=e,this.genomeNexusClient=t||jr(e.genomeNexusUrl,e.cachePostMethodsOnClients,e.apiCacheLimit),this.genomeNexusInternalClient=n||(o=e.genomeNexusUrl,i=e.cachePostMethodsOnClients,a=e.apiCacheLimit,l=new s.j(o||Pr),i&&Object(s.w)(s.j,[],/POST$/,a),l),this.oncoKbClient=r||Fr(e.oncoKbUrl,e.cachePostMethodsOnClients,e.apiCacheLimit)}return e.prototype.fetchSwissProtAccession=function(e){return O(this,void 0,void 0,function(){var t;return P(this,function(n){switch(n.label){case 0:return[4,C.a.get(Lr(this.config.myGeneUrlTemplate||"https://mygene.info/v3/gene/<%= entrezGeneId %>?fields=uniprot",{entrezGeneId:e}))];case 1:return t=n.sent(),[2,JSON.parse(t.text).uniprot["Swiss-Prot"]]}})})},e.prototype.fetchUniprotId=function(e){return O(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return[4,C.a.get(Lr(this.config.uniprotIdUrlTemplate||"https://www.uniprot.org/uniprot/?query=accession:<%= swissProtAccession %>&format=tab&columns=entry+name",{swissProtAccession:e}))];case 1:return[2,t.sent().text.split("\n")[1]]}})})},e.prototype.fetchMutationAlignerLink=function(e){return C.a.get(Lr(this.config.mutationAlignerUrlTemplate||"https://www.cbioportal.org/getMutationAligner.json?pfamAccession=<%= pfamDomainId %>",{pfamDomainId:e}))},e.prototype.fetchPfamDomainData=function(e,t){return void 0===t&&(t=this.genomeNexusClient),O(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return[4,t.fetchPfamDomainsByPfamAccessionPOST({pfamAccessions:e})];case 1:return[2,n.sent()]}})})},e.prototype.fetchVariantAnnotationsIndexedByGenomicLocation=function(e,t,n,r){return void 0===t&&(t=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=this.genomeNexusClient),O(this,void 0,void 0,function(){return P(this,function(o){switch(o.label){case 0:return[4,Rr(e,t,n,r)];case 1:return[2,o.sent()]}})})},e.prototype.fetchMyVariantInfoAnnotationsIndexedByGenomicLocation=function(e,t,n){return void 0===t&&(t="uniprot"),void 0===n&&(n=this.genomeNexusClient),O(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,Rr(e,["my_variant_info"],t,n)];case 1:return[2,U(r.sent())]}})})},e.prototype.fetchCanonicalTranscriptWithFallback=function(e,t,n,r){return void 0===r&&(r=this.genomeNexusClient),O(this,void 0,void 0,function(){return P(this,function(o){return[2,this.fetchCanonicalTranscript(e,t,r).catch(function(){var e=c.a.maxBy(n,function(e){return e.proteinLength});return e||void 0})]})})},e.prototype.fetchCanonicalTranscript=function(e,t,n){return void 0===n&&(n=this.genomeNexusClient),O(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,n.fetchCanonicalEnsemblTranscriptByHugoSymbolGET({hugoSymbol:e,isoformOverrideSource:t})];case 1:return[2,r.sent()]}})})},e.prototype.fetchEnsemblTranscriptsByEnsemblFilter=function(e,t){return void 0===t&&(t=this.genomeNexusClient),O(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:return[4,t.fetchEnsemblTranscriptsByEnsemblFilterPOST({ensemblFilter:Object.assign({geneIds:[],hugoSymbols:[],proteinIds:[],transcriptIds:[]},e)})];case 1:return[2,n.sent()]}})})},e.prototype.fetchPtmData=function(e,t){return void 0===t&&(t=this.genomeNexusClient),e?t.fetchPostTranslationalModificationsGET({ensemblTranscriptId:e}):Promise.resolve([])},e.prototype.fetchCancerHotspotData=function(e,t){return void 0===t&&(t=this.genomeNexusInternalClient),e?t.fetchHotspotAnnotationByTranscriptIdGET({transcriptId:e}):Promise.resolve([])},e.prototype.fetchAggregatedHotspotsData=function(e,t){if(void 0===t&&(t=this.genomeNexusInternalClient),0===e.length)return Promise.resolve([]);var n=H(e);return t.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:n})},e.prototype.fetchOncoKbCancerGenes=function(e){return void 0===e&&(e=this.oncoKbClient),e.utilsCancerGeneListGetUsingGET_1({})},e.prototype.fetchOncoKbData=function(e,t,n,r,o,i){return void 0===i&&(i=this.oncoKbClient),O(this,void 0,void 0,function(){var a,s;return P(this,function(l){return t instanceof Error?[2,new Error]:0===e.length?[2,Mr]:(a=c.a.filter(e,function(e){return!!t[r(e)]}),s=c.a.uniqBy(c.a.map(a,function(e){return rt(e,r,n)}),"id"),[2,this.queryOncoKbData(s,o,i)])})})},e.prototype.queryOncoKbData=function(e,t,n){return void 0===n&&(n=this.oncoKbClient),O(this,void 0,void 0,function(){var r;return P(this,function(o){switch(o.label){case 0:return[4,n.searchPostUsingPOST({body:E({},Object(s.B)(t),{queries:e})})];case 1:return r=o.sent(),[2,{indicatorMap:c.a.keyBy(r,function(e){return e.query.id})}]}})})},e}(),Hr=function(){function e(e,t,n,r,o){this.indexedHotspotData=e,this.oncoKbData=t,this.getDefaultTumorType=n,this.getDefaultEntrezGeneId=r,this.filterAppliersOverride=o}return Object.defineProperty(e.prototype,"customFilterAppliers",{get:function(){var e;return E(((e={})[jt.POSITION]=this.applyPositionFilter,e[jt.ONCOKB]=this.applyOncoKbFilter,e[jt.HOTSPOT]=this.applyHostpotFilter,e[jt.MUTATION]=this.applyMutationFilter,e[jt.PROTEIN_IMPACT_TYPE]=this.applyProteinImpactTypeFilter,e[jt.MUTATION_STATUS]=this.applyMutationStatusFilter,e),this.filterAppliersOverride)},enumerable:!0,configurable:!0}),e.prototype.applyFilter=function(e,t){var n=this.customFilterAppliers[e.type];return!n||n(e,t)},e.prototype.applyMutationFilter=function(e,t){return function(e,t){return e.values.map(function(e){return!Object.keys(e).map(function(n){return function(e,t){return t&&(e||"").toLowerCase().includes(t.toLowerCase())}(t[n]?t[n].toString():void 0,e[n]?e[n.toString()]:void 0)}).includes(!1)}).includes(!0)}(e,t)},e.prototype.applyOncoKbFilter=function(e,t){return!e.values||!this.oncoKbData.result||this.oncoKbData.result instanceof Error||function(e,t,n,r){var o=!0;if(t&&n&&r){var i=it(e,t,n,r);o=!!i&&at(i)}return o}(t,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId)},e.prototype.applyHostpotFilter=function(e,t){return!e.values||!this.indexedHotspotData.result||pn(t,this.indexedHotspotData.result,hn)},e.prototype.applyPositionFilter=function(e,t){return function(e,t){return e.values.includes(t.proteinPosStart)}(e,t)},e.prototype.applyProteinImpactTypeFilter=function(e,t){return Kt(e,t)},e.prototype.applyMutationStatusFilter=function(e,t){return function(e,t){return void 0!==t.mutationStatus&&e.values.includes(t.mutationStatus)}(e,t)},A([r.a],e.prototype,"applyFilter",null),A([r.a],e.prototype,"applyMutationFilter",null),A([r.a],e.prototype,"applyOncoKbFilter",null),A([r.a],e.prototype,"applyHostpotFilter",null),A([r.a],e.prototype,"applyPositionFilter",null),A([r.a],e.prototype,"applyProteinImpactTypeFilter",null),A([r.a],e.prototype,"applyMutationStatusFilter",null),e}(),Ur=function(){function e(e,t,n,r,o){var i=this;this.gene=e,this.config=t,this.getMutations=n,this.filterApplier=r,this.filterAppliersOverride=o,this._activeTranscript=void 0,this.mutationData=Object(s.W)({await:function(){return i.config.filterMutationsBySelectedTranscript?[i.canonicalTranscript,i.indexedVariantAnnotations]:[i.canonicalTranscript]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return[2,this.mutations]})})}},[]),this.swissProtId=Object(s.W)({invoke:function(){return O(i,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return!this.gene.entrezGeneId||this.gene.entrezGeneId<1?[2,""]:[4,this.dataFetcher.fetchSwissProtAccession(this.gene.entrezGeneId)];case 1:return e=t.sent(),c.a.isArray(e)?[2,e[0]]:[2,e]}})})},onError:function(){}},""),this.uniprotId=Object(s.W)({await:function(){return[i.swissProtId]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return this.swissProtId.result?[2,this.dataFetcher.fetchUniprotId(this.swissProtId.result)]:[2,""]})})},onError:function(){}},""),this.mutationAlignerLinks=Object(s.W)({await:function(){return[i.canonicalTranscript,i.allTranscripts]},invoke:function(){return new Promise(function(e,t){for(var n=i.allTranscripts.result&&i.activeTranscript&&i.transcriptsByTranscriptId[i.activeTranscript]?i.transcriptsByTranscriptId[i.activeTranscript].pfamDomains:void 0,r=[],o=0;n&&o<n.length;o++)r.push(i.dataFetcher.fetchMutationAlignerLink(n[o].pfamDomainId));var a=Promise.all(r);a.then(function(t){for(var r,o,i=t.map(function(e){return JSON.parse(e.text)}),a={},s=0;s<i.length;s++)r=i[s],(o=n?n[s].pfamDomainId:null)&&r.linkToMutationAligner&&(a[o]=r.linkToMutationAligner);e(a)}),a.catch(t)})}},{}),this.pfamDomainData=Object(s.W)({await:function(){return[i.canonicalTranscript,i.transcriptsWithProteinLength]},invoke:function(){return O(i,void 0,void 0,function(){var e,t=this;return P(this,function(n){return this.canonicalTranscript.result&&this.canonicalTranscript.result.pfamDomains&&this.canonicalTranscript.result.pfamDomains.length>0?(e=this.canonicalTranscript.result.pfamDomains,this.config.filterMutationsBySelectedTranscript&&this.transcriptsWithProteinLength.result&&this.transcriptsWithProteinLength.result.length>0&&(e=[].concat.apply([e],c.a.compact(this.transcriptsWithProteinLength.result.map(function(e){return t.transcriptsByTranscriptId[e].pfamDomains})))),[2,this.dataFetcher.fetchPfamDomainData(e.map(function(e){return e.pfamDomainId}))]):[2,void 0]})})}},void 0),this.canonicalTranscript=Object(s.W)({await:function(){return[i.transcriptsByHugoSymbol]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return this.gene?[2,this.dataFetcher.fetchCanonicalTranscriptWithFallback(this.gene.hugoGeneSymbol,this.isoformOverrideSource,this.transcriptsByHugoSymbol.result)]:[2,void 0]})})},onError:function(){throw new Error("Failed to get canonical transcript")}},void 0),this.allTranscripts=Object(s.W)({await:function(){return[i.transcriptsByHugoSymbol,i.canonicalTranscript]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return[2,c.a.compact(c.a.unionBy(this.transcriptsByHugoSymbol.result,[this.canonicalTranscript.result],function(e){return e&&e.transcriptId}))]})})},onError:function(){throw new Error("Failed to get all transcripts")}},void 0),this.transcriptsByHugoSymbol=Object(s.W)({invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return this.gene?[2,this.dataFetcher.fetchEnsemblTranscriptsByEnsemblFilter({hugoSymbols:[this.gene.hugoGeneSymbol]})]:[2,void 0]})})},onError:function(){throw new Error("Failed to fetch all transcripts")}},void 0),this.transcriptsWithProteinLength=Object(s.W)({await:function(){return[i.allTranscripts,i.canonicalTranscript]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return this.allTranscripts.result&&this.canonicalTranscript.result?[2,c.a.compact(this.allTranscripts.result.map(function(e){return e.proteinLength&&e.transcriptId}))]:[2,[]]})})},onError:function(){throw new Error("Failed to get transcriptsWithProteinLength")}},void 0),this.transcriptsWithAnnotations=Object(s.W)({await:function(){return[i.indexedVariantAnnotations,i.allTranscripts,i.transcriptsWithProteinLength]},invoke:function(){return O(i,void 0,void 0,function(){var e=this;return P(this,function(t){return this.indexedVariantAnnotations.result&&this.allTranscripts.result&&this.transcriptsWithProteinLength.result&&this.transcriptsWithProteinLength.result.length>0?[2,c.a.uniq([].concat.apply([],H(this.getMutations()).map(function(t){return e.indexedVariantAnnotations.result&&e.indexedVariantAnnotations.result[V(t)]?e.indexedVariantAnnotations.result[V(t)].transcript_consequences.map(function(e){return e.transcript_id}).filter(function(t){return e.transcriptsWithProteinLength.result.includes(t)}):[]}))).filter(function(t){return Er(e.getMutations(),t,e.indexedVariantAnnotations.result).length>0})]:[2,[]]})})},onError:function(){throw new Error("Failed to get transcriptsWithAnnotations")}},void 0),this.ptmData=Object(s.W)({await:function(){return[i.mutationData]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return this.activeTranscript?[2,this.dataFetcher.fetchPtmData(this.activeTranscript)]:[2,[]]})})},onError:function(){}},[]),this.ptmDataByProteinPosStart=Object(s.W)({await:function(){return[i.ptmData]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return[2,this.ptmData.result?(t=this.ptmData.result,Object(l.groupBy)(t,"position")):{}];var t})})}},{}),this.ptmDataByTypeAndProteinPosStart=Object(s.W)({await:function(){return[i.ptmData]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return[2,this.ptmData.result?(t=this.ptmData.result,n=Object(l.groupBy)(t,"type"),r={},Object(l.keys)(n).forEach(function(e){r[e]=Object(l.groupBy)(n[e],"position")}),r):{}];var t,n,r})})}},{}),this.cancerHotspotsData=Object(s.W)({await:function(){return[i.mutationData]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return this.activeTranscript?[2,this.dataFetcher.fetchCancerHotspotData(this.activeTranscript)]:[2,[]]})})},onError:function(){}},[]),this.cancerHotspotsDataByProteinPosStart=Object(s.W)({await:function(){return[i.cancerHotspotsData]},invoke:function(){return O(i,void 0,void 0,function(){return P(this,function(e){return[2,this.ptmData.result?(t=this.cancerHotspotsData.result,Object(l.groupBy)(t,"proteinPosStart")):{}];var t})})}},{}),this.hotspotData=Object(s.W)({await:function(){return[i.mutationData]},invoke:function(){return i.dataFetcher.fetchAggregatedHotspotsData(i.mutations)}}),this.indexedHotspotData=Object(s.W)({await:function(){return[i.hotspotData]},invoke:function(){return Promise.resolve(on(i.hotspotData))}}),this.oncoKbCancerGenes=Object(s.W)({invoke:function(){return i.dataFetcher.fetchOncoKbCancerGenes()}},[]),this.oncoKbAnnotatedGenes=Object(s.W)({await:function(){return[i.oncoKbCancerGenes]},invoke:function(){return Promise.resolve(c.a.reduce(i.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{}))}},{}),this.oncoKbData=Object(s.W)({await:function(){return[i.mutationData,i.oncoKbAnnotatedGenes]},invoke:function(){return i.dataFetcher.fetchOncoKbData(i.mutations,i.oncoKbAnnotatedGenes.result,i.getDefaultTumorType,i.getDefaultEntrezGeneId)},onError:function(){}},Mr),this.indexedVariantAnnotations=Object(s.W)({invoke:function(){return O(i,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return this.getMutations()?[4,this.dataFetcher.fetchVariantAnnotationsIndexedByGenomicLocation(this.getMutations(),this.annotationFields,this.isoformOverrideSource)]:[3,2];case 1:return e=t.sent(),[3,3];case 2:e=void 0,t.label=3;case 3:return[2,e]}})})},onError:function(){}},void 0),this.indexedMyVariantInfoAnnotations=Object(s.W)({await:function(){return[i.mutationData]},invoke:function(){return O(i,void 0,void 0,function(){var e;return P(this,function(t){switch(t.label){case 0:return this.getMutations()?[4,this.dataFetcher.fetchMyVariantInfoAnnotationsIndexedByGenomicLocation(this.getMutations(),this.isoformOverrideSource)]:[3,2];case 1:return e=t.sent(),[3,3];case 2:e=void 0,t.label=3;case 3:return[2,e]}})})},onError:function(){}},void 0),this.filterApplier||(this.filterApplier=new Hr(this.indexedHotspotData,this.oncoKbData,this.getDefaultTumorType,this.getDefaultEntrezGeneId,this.filterAppliersOverride))}return Object.defineProperty(e.prototype,"activeTranscript",{get:function(){var e=!this.canonicalTranscript.isPending&&this.canonicalTranscript.result?this.canonicalTranscript.result.transcriptId:void 0;return void 0!==this._activeTranscript?this._activeTranscript:this.config.filterMutationsBySelectedTranscript&&this.transcriptsWithAnnotations.result&&this.transcriptsWithAnnotations.result.length>0&&e&&!this.transcriptsWithAnnotations.result.includes(e)?this.transcriptsWithAnnotations.result[0]:e},set:function(e){this._activeTranscript=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isoformOverrideSource",{get:function(){return this.config.isoformOverrideSource||"uniprot"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotationFields",{get:function(){return c.a.uniq(["annotation_summary","hotspots"].concat(this.config.annotationFields||[]))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataStore",{get:function(){return new zr(this.mutations,this.filterApplier,this.config.dataFilters,this.config.selectionFilters,this.config.highlightFilters,this.config.groupFilters)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oncoKbEvidenceCache",{get:function(){return new Br(this.dataFetcher.oncoKbClient)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutations",{get:function(){return this.canonicalTranscript.isPending||this.config.filterMutationsBySelectedTranscript&&(this.transcriptsWithAnnotations.isPending||this.indexedVariantAnnotations.isPending)?[]:this.config.filterMutationsBySelectedTranscript&&this.activeTranscript&&this.indexedVariantAnnotations.result&&!c.a.isEmpty(this.indexedVariantAnnotations.result)?Er(this.getMutations(),this.activeTranscript,this.indexedVariantAnnotations.result):this.getMutations()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFetcher",{get:function(){return new Vr({genomeNexusUrl:this.config.genomeNexusUrl,oncoKbUrl:this.config.oncoKbUrl,cachePostMethodsOnClients:this.config.cachePostMethodsOnClients,apiCacheLimit:this.config.apiCacheLimit})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationsByPosition",{get:function(){return F(c.a.flatten(this.dataStore.sortedFilteredData))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupedMutationsByPosition",{get:function(){return this.dataStore.sortedFilteredGroupedData.map(function(e){return{group:e.group,mutations:F(c.a.flatten(e.data))}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationsGroupedByProteinImpactType",{get:function(){var e=this.dataStore.dataFilters.filter(function(e){return e.type!==jt.PROTEIN_IMPACT_TYPE});return Yt(Zt(this.dataStore.allData,e,this.dataStore.applyFilter))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationCountsByProteinImpactType",{get:function(){var e=this,t={};return Object.keys(this.mutationsGroupedByProteinImpactType).forEach(function(n){var r=e.mutationsGroupedByProteinImpactType[n];t[r.group]=r.data.length}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueMutationCountsByPosition",{get:function(){return this.countUniqueMutationsByPosition(this.mutationsByPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueGroupedMutationCountsByPosition",{get:function(){var e=this;return this.groupedMutationsByPosition.map(function(t){return{group:t.group,counts:e.countUniqueMutationsByPosition(t.mutations)}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transcriptsByTranscriptId",{get:function(){return c.a.keyBy(this.allTranscripts.result,function(e){return e.transcriptId})},enumerable:!0,configurable:!0}),e.prototype.countUniqueMutationsByPosition=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){var o=parseInt(r,10),i=e[o];i&&(n[o]=t.countUniqueMutations(i))}),n},e.prototype.countUniqueMutations=function(e){return this.config.getMutationCount?this.getMutationCount(e,this.config.getMutationCount):e.length},e.prototype.getMutationCount=function(e,t){return e.map(function(e){return t(e)}).reduce(function(e,t){return e+t})},Object.defineProperty(e.prototype,"hotspotsByPosition",{get:function(){return this.indexedHotspotData.result?(e=this.mutationsByPosition,t=this.indexedHotspotData.result,n=hn,r={},Object(l.keys)(e).forEach(function(o){var i=Number(o),a=an(e[i],t,n);a.length>0&&(r[i]=a)}),r):{};var e,t,n,r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oncoKbDataByPosition",{get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:ot(this.mutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,at)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationsByTranscriptId",{get:function(){var e=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?c.a.fromPairs(this.transcriptsWithAnnotations.result.map(function(t){return[t,Er(e.getMutations(),t,e.indexedVariantAnnotations.result)]})):{}},enumerable:!0,configurable:!0}),e.prototype.getDefaultTumorType=function(e){return this.config.getTumorType?this.config.getTumorType(e):"Unknown"},e.prototype.getDefaultEntrezGeneId=function(e){return this.gene.entrezGeneId||e.gene&&e.gene.entrezGeneId||0},A([d.observable],e.prototype,"_activeTranscript",void 0),A([d.computed],e.prototype,"activeTranscript",null),A([d.computed],e.prototype,"isoformOverrideSource",null),A([d.computed],e.prototype,"annotationFields",null),A([_.cached],e.prototype,"dataStore",null),A([_.cached],e.prototype,"oncoKbEvidenceCache",null),A([d.computed],e.prototype,"mutations",null),A([d.computed],e.prototype,"dataFetcher",null),A([d.computed],e.prototype,"mutationsByPosition",null),A([d.computed],e.prototype,"groupedMutationsByPosition",null),A([d.computed],e.prototype,"mutationsGroupedByProteinImpactType",null),A([d.computed],e.prototype,"mutationCountsByProteinImpactType",null),A([d.computed],e.prototype,"uniqueMutationCountsByPosition",null),A([d.computed],e.prototype,"uniqueGroupedMutationCountsByPosition",null),A([d.computed],e.prototype,"transcriptsByTranscriptId",null),A([d.computed],e.prototype,"hotspotsByPosition",null),A([d.computed],e.prototype,"oncoKbDataByPosition",null),A([d.computed],e.prototype,"mutationsByTranscriptId",null),A([r.a],e.prototype,"getDefaultTumorType",null),A([r.a],e.prototype,"getDefaultEntrezGeneId",null),e}();var qr="defaultMutationRateSummary-module_mutationRateSummary__2xgz8",Wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this;return Object(i.createElement)(i.Fragment,null,this.props.rates.map(function(t){return Object(i.createElement)("div",{key:t.title,className:qr},Object(i.createElement)("span",null,t.title,": "),Object(i.createElement)("span",null,He(t.rate,e.props.fractionDigits),"%"),t.description&&Object(i.createElement)(s.c,{placement:"right",overlay:Object(i.createElement)("span",null,t.description)},Object(i.createElement)("i",{className:"fa fa-info-circle",style:{marginLeft:"0.2rem"}})))}))},t}(i.Component),Kr="transcriptDropdown-module_dropDown__b9xF8",$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.showDropDown,n=e.canonicalTranscript,r=e.showOnlyAnnotatedTranscriptsInDropdown,o=e.activeTranscript,a=e.transcriptsByTranscriptId,s=e.transcriptsWithProteinLength,l=e.transcriptsWithAnnotations,c=e.indexedVariantAnnotations,u=e.mutationsByTranscriptId,h=n.result&&n.result.transcriptId;if(t){if(r){var d=s.isPending||l.isPending||n.isPending,f=c.result&&Object.keys(c.result).length>0&&h&&l.result&&l.result.length>0;return Object(i.createElement)("div",{className:p()("small",Kr)},this.loadingIndicator(d),!d&&f&&this.getDropdownTranscripts(o||h,l.result,h,a,u))}d=s.isPending||n.isPending,f=s.result&&s.result.length>0&&h;return Object(i.createElement)("div",{className:p()("small",Kr)},this.loadingIndicator(d),!d&&f&&this.getDropdownTranscripts(o||h,s.result,h,a))}return Object(i.createElement)("span",null)},t.prototype.getDropdownTranscripts=function(e,t,n,r,o){var a=this,s=r[e].refseqMrnaId;return Object(i.createElement)("div",null,Object(i.createElement)(f.default,{value:{label:s||e,value:e},clearable:!1,deleteRemoves:!1,options:this.sortTranscripts(t).map(function(e){var t=r[e].proteinLength,i=r[e].refseqMrnaId,a=r[e].ccdsId,s=o&&o[e]&&o[e].length;return{label:(i?i+" / ":"")+e+" "+(a?"("+a+")":"")+" "+(t?"("+t+" amino acids)":"")+" "+(s?"("+s+" mutations)":"")+" "+(e===n?" (default)":""),value:e}}),onChange:function(e){e.value&&a.props.onChange(e.value)}}))},t.prototype.sortTranscripts=function(e){var t=this.props,n=t.canonicalTranscript,r=t.transcriptsByTranscriptId;return e=c.a.orderBy(e,[function(e){return n.result&&e===n.result.transcriptId},function(e){return r[e].hasOwnProperty("refseqMrnaId")},function(e){return r[e].proteinLength},function(e){return e}],["desc","desc","desc","asc"])},t.prototype.loadingIndicator=function(e){return e?this.props.loadingIndicator||Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"}):null},t=A([o.observer],t)}(i.Component),Yr="geneSummary-module_geneSummary__2baMD",Qr="geneSummary-module_hugoSymbol__KSt5x",Xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.hugoGeneSymbol,n=e.uniprotId,r=e.showDropDown,o=e.showOnlyAnnotatedTranscriptsInDropdown,a=e.canonicalTranscript,l=e.activeTranscript,c=e.transcriptsByTranscriptId,u=e.transcriptsWithAnnotations,p=e.transcriptsWithProteinLength,h=e.indexedVariantAnnotations,d=e.mutationsByTranscriptId,f=e.onTranscriptChange,m=e.loadingIndicator,y=a.result&&a.result.transcriptId,g=l&&l===y?a.result:c[l],v=g&&g.refseqMrnaId,b=g&&g.ccdsId;return Object(i.createElement)("div",{className:Yr},Object(i.createElement)("h4",{className:Qr},t),Object(i.createElement)($r,{showDropDown:r,showOnlyAnnotatedTranscriptsInDropdown:o,activeTranscript:l,transcriptsByTranscriptId:c,canonicalTranscript:a,transcriptsWithProteinLength:p,transcriptsWithAnnotations:u,indexedVariantAnnotations:h,mutationsByTranscriptId:d,onChange:f,loadingIndicator:m}),Object(i.createElement)("div",null,Object(i.createElement)("span",{"data-test":"GeneSummaryRefSeq"},"RefSeq: ",v?Object(i.createElement)("a",{href:Object(s.I)("/nuccore/"+v),target:"_blank"},v):"-")),r?l&&Object(i.createElement)("div",null,Object(i.createElement)("span",null,"Ensembl: "),Object(i.createElement)("a",{href:Lr(this.props.transcriptSummaryUrlTemplate,{transcriptId:l}),target:"_blank"},l)):y&&Object(i.createElement)("div",null,Object(i.createElement)("span",null,"Ensembl: "),Object(i.createElement)("a",{href:Lr(this.props.transcriptSummaryUrlTemplate,{transcriptId:y}),target:"_blank"},y)),Object(i.createElement)("div",null,Object(i.createElement)("span",{"data-test":"GeneSummaryCCDS"},"CCDS: ",b?Object(i.createElement)("a",{href:Object(s.I)({pathname:"/CCDS/CcdsBrowse.cgi",query:{REQUEST:"CCDS",DATA:b}}),target:"_blank"},b):"-")),Object(i.createElement)("div",null,Object(i.createElement)("span",{"data-test":"GeneSummaryUniProt"},"UniProt: ",n?Object(i.createElement)("a",{href:"http://www.uniprot.org/uniprot/"+n,target:"_blank"},n):"-")))},t.defaultProps={transcriptSummaryUrlTemplate:"http://grch37.ensembl.org/homo_sapiens/Transcript/Summary?t=<%= transcriptId %>"},t=A([o.observer],t)}(i.Component);var Zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),Object.defineProperty(t.prototype,"geneWidth",{get:function(){return this.lollipopPlotGeneX?.7*this.windowWrapper.size.width-this.lollipopPlotGeneX:666},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackVisibility",{get:function(){return this.props.trackVisibility?this.props.trackVisibility:(this._trackVisibility||(this._trackVisibility=qn()),this._trackVisibility)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackDataStatus",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotTopYAxisSymbol",{get:function(){return this.props.plotTopYAxisSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotYMaxLabelPostfix",{get:function(){return this.props.plotYMaxLabelPostfix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotBottomYAxisSymbol",{get:function(){return this.props.plotBottomYAxisSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotTopYAxisDefaultMax",{get:function(){return this.props.plotTopYAxisDefaultMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotTopYAxisDefaultMin",{get:function(){return this.props.plotTopYAxisDefaultMin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotBottomYAxisDefaultMax",{get:function(){return this.props.plotBottomYAxisDefaultMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotBottomYAxisDefaultMin",{get:function(){return this.props.plotBottomYAxisDefaultMin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"store",{get:function(){return this.props.store?this.props.store:(e=this.props,new Ur({entrezGeneId:e.entrezGeneId,hugoGeneSymbol:e.hugoSymbol?e.hugoSymbol:""},{annotationFields:e.annotationFields,isoformOverrideSource:e.isoformOverrideSource,filterMutationsBySelectedTranscript:e.filterMutationsBySelectedTranscript,genomeNexusUrl:e.genomeNexusUrl,oncoKbUrl:e.oncoKbUrl,cachePostMethodsOnClients:e.cachePostMethodsOnClients,apiCacheLimit:e.apiCacheLimit,getMutationCount:e.getMutationCount,getTumorType:e.getTumorType,dataFilters:e.dataFilters,selectionFilters:e.selectionFilters,highlightFilters:e.highlightFilters,groupFilters:e.groupFilters},function(){return e.data||[]},e.filterApplier,e.filterAppliersOverride));var e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lollipopPlotControlsConfig",{get:function(){return this.props.lollipopPlotControlsConfig?this.props.lollipopPlotControlsConfig:new jn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pubMedCache",{get:function(){return this.props.pubMedCache?this.props.pubMedCache:new _r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"windowWrapper",{get:function(){return this.props.windowWrapper?this.props.windowWrapper:(Gr||(Gr=new s.u),Gr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationTableInfo",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationTableComponent",{get:function(){if(this.props.mutationTable)return this.props.mutationTable;var e=Pn;return this.props.mutationTableColumns&&(e=this.props.mutationTableColumns),Object(i.createElement)(Dn,{dataStore:this.store.dataStore,columns:e,initialSortColumn:this.props.mutationTableInitialSortColumn,initialSortDirection:this.props.mutationTableInitialSortDirection,reactTableProps:this.props.customMutationTableProps,hotspotData:this.store.indexedHotspotData,oncoKbData:this.store.oncoKbData,oncoKbCancerGenes:this.store.oncoKbCancerGenes,oncoKbEvidenceCache:this.store.oncoKbEvidenceCache,indexedMyVariantInfoAnnotations:this.store.indexedMyVariantInfoAnnotations,indexedVariantAnnotations:this.store.indexedVariantAnnotations,pubMedCache:this.pubMedCache,info:this.mutationTableInfo})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationPlot",{get:function(){return Object(i.createElement)(Cr,{store:this.store,controlsConfig:this.lollipopPlotControlsConfig,pubMedCache:this.pubMedCache,geneWidth:this.geneWidth,vizHeight:this.props.plotVizHeight,trackVisibility:this.trackVisibility,customControls:this.customControls,tracks:this.props.tracks,showYMaxSlider:this.props.showPlotYMaxSlider,showLegendToggle:this.props.showPlotLegendToggle,showDownloadControls:this.props.showPlotDownloadControls,filterResetPanel:this.props.showFilterResetPanel&&this.isFiltered&&this.filterResetPanel?this.filterResetPanel:void 0,trackDataStatus:this.trackDataStatus,showTrackSelector:this.props.showTrackSelector,onXAxisOffset:this.onXAxisOffset,onTrackVisibilityChange:this.props.onTrackVisibilityChange,getMutationCount:this.props.getMutationCount,getLollipopColor:this.props.getLollipopColor,yMaxLabelPostfix:this.plotYMaxLabelPostfix,yMaxFractionDigits:this.props.plotYMaxFractionDigits,yAxisLabelPadding:this.props.plotYAxisLabelPadding,showYAxis:this.props.showPlotYAxis,topYAxisSymbol:this.plotTopYAxisSymbol,bottomYAxisSymbol:this.plotBottomYAxisSymbol,topYAxisDefaultMax:this.plotTopYAxisDefaultMax,topYAxisDefaultMin:this.plotBottomYAxisDefaultMin,bottomYAxisDefaultMax:this.plotBottomYAxisDefaultMax,bottomYAxisDefaultMin:this.plotBottomYAxisDefaultMin,lollipopTooltipCountInfo:this.props.plotLollipopTooltipCountInfo})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customControls",{get:function(){return this.props.customControls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"geneSummary",{get:function(){return Object(i.createElement)(Xr,{hugoGeneSymbol:this.store.gene.hugoGeneSymbol,uniprotId:this.store.uniprotId.result,showDropDown:!!this.props.showTranscriptDropDown,showOnlyAnnotatedTranscriptsInDropdown:!!this.props.showOnlyAnnotatedTranscriptsInDropdown,transcriptsByTranscriptId:this.store.transcriptsByTranscriptId,canonicalTranscript:this.store.canonicalTranscript,loadingIndicator:this.props.geneSummaryLoadingIndicator,activeTranscript:this.store.activeTranscript,indexedVariantAnnotations:this.store.indexedVariantAnnotations,transcriptsWithAnnotations:this.store.transcriptsWithAnnotations,transcriptsWithProteinLength:this.store.transcriptsWithProteinLength,mutationsByTranscriptId:this.store.mutationsByTranscriptId,transcriptSummaryUrlTemplate:this.props.transcriptSummaryUrlTemplate,onTranscriptChange:this.handleTranscriptChange})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationRates",{get:function(){return this.props.mutationRates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationRateSummary",{get:function(){return this.mutationRates?Object(i.createElement)(Wr,{rates:this.mutationRates}):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFiltered",{get:function(){return this.store.dataStore.selectionFilters.length>0||this.store.dataStore.dataFilters.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMutationTableDataLoading",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterResetPanel",{get:function(){var e=this.store.dataStore,t=e.sortedFilteredSelectedData.length>0?e.sortedFilteredSelectedData:e.sortedFilteredData,n=e.allData;return Object(i.createElement)(zt,{filterInfo:"Showing "+t.length+" of "+n.length+" mutations.",resetFilters:this.resetFilters})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationTable",{get:function(){return Object(i.createElement)("span",null,this.mutationTableComponent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"proteinChainPanel",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationFilterPanel",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view3dButton",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMutationPlotDataLoading",{get:function(){return this.store.pfamDomainData.isPending},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this.store.mutationData.isPending||this.isMutationPlotDataLoading||this.isMutationTableDataLoading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingIndicator",{get:function(){return this.props.mainLoadingIndicator?this.props.mainLoadingIndicator:Object(i.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"})},enumerable:!0,configurable:!0}),t.prototype.render=function(){return this.isLoading?this.loadingIndicator:Object(i.createElement)("div",null,Object(i.createElement)("div",{style:{display:"flex"}},Object(i.createElement)("div",{className:"borderedChart",style:{marginRight:"1rem"}},this.mutationPlot,this.proteinChainPanel),Object(i.createElement)("div",{className:"mutationMapperMetaColumn"},this.geneSummary,this.mutationRateSummary,this.mutationFilterPanel,this.view3dButton)),this.mutationTable)},t.prototype.handleTranscriptChange=function(e){this.store.activeTranscript=e},t.prototype.onXAxisOffset=function(e){this.props.onXAxisOffset?this.props.onXAxisOffset(e):this.lollipopPlotGeneX=e},t.prototype.resetFilters=function(){this.store.dataStore.clearDataFilters(),this.store.dataStore.clearSelectionFilters(),this.store.dataStore.clearHighlightFilters()},t.defaultProps={showFilterResetPanel:!0,showOnlyAnnotatedTranscriptsInDropdown:!1,showTranscriptDropDown:!1,filterMutationsBySelectedTranscript:!1,cachePostMethodsOnClients:!0},A([d.observable],t.prototype,"_trackVisibility",void 0),A([d.observable],t.prototype,"lollipopPlotGeneX",void 0),A([d.computed],t.prototype,"geneWidth",null),A([d.computed],t.prototype,"trackVisibility",null),A([d.computed],t.prototype,"plotTopYAxisSymbol",null),A([d.computed],t.prototype,"plotYMaxLabelPostfix",null),A([d.computed],t.prototype,"plotBottomYAxisSymbol",null),A([d.computed],t.prototype,"plotTopYAxisDefaultMax",null),A([d.computed],t.prototype,"plotTopYAxisDefaultMin",null),A([d.computed],t.prototype,"plotBottomYAxisDefaultMax",null),A([d.computed],t.prototype,"plotBottomYAxisDefaultMin",null),A([d.computed],t.prototype,"store",null),A([d.computed],t.prototype,"lollipopPlotControlsConfig",null),A([d.computed],t.prototype,"windowWrapper",null),A([d.computed],t.prototype,"mutationRates",null),A([d.action.bound],t.prototype,"handleTranscriptChange",null),A([d.action.bound],t.prototype,"onXAxisOffset",null),A([d.action.bound],t.prototype,"resetFilters",null),t=A([o.observer],t)}(i.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return O}),n.d(t,"a",function(){return P});var r=n(681),o=n(0),i=n(5),a=n(11),s=(n(696),n(581)),l=n(665),c=n(698),u=n(4),p=n(676),h=n(684),d=n(92),f=n(774),m=n.n(f),y=n(573),g=n(702),v=n(655);function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function A(e,t,n){var r=0;return e!==t&&(null===e?r=1:null===t?r=-1:"number"==typeof e?r=e<t?n?-1:1:n?1:-1:"string"==typeof e&&(r=(n?1:-1)*e.localeCompare(t))),r}function O(e,t){for(var n,r,o,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[],s=0;s<e.length;s++){var l=e[s];a.push({data:l,initialPosition:s,sortBy:[].concat(t(l))})}return a.sort(function(e,t){return 0===(n=function(e,t,n){for(var r=0,o=Math.min(e.length,t.length),i=0;i<o&&0===(r=A(e[i],t[i],n));i++);return 0===r&&(e.length<t.length?r=n?-1:1:e.length>t.length&&(r=n?1:-1)),r}(e.sortBy,t.sortBy,i))&&(r=e.initialPosition,o=t.initialPosition,n=r<o?-1:1),n}),a.map(function(e){return e.data})}var P=function(){function t(e){var n=this;_(this,t),this.sortColumn=e.initialSortColumn||"",this.sortAscending="desc"!==e.initialSortDirection,this.setProps(e),Object(i.reaction)(function(){return n.displayData.length},function(){n.page=n.clampPage(n.page)})}return T(t,[{key:"clampPage",value:function(e){return e=Math.max(e,0),e=Math.min(e,this.maxPage)}},{key:"getNextSortAscending",value:function(e){return this.sortColumn===e.name?!this.sortAscending:"asc"===(e.defaultSortDirection||"asc")}},{key:"defaultHeaderClick",value:function(e){this.sortAscending=this.getNextSortAscending(e),this.dataStore.sortAscending=this.sortAscending,this.sortColumn=e.name,this.dataStore.sortMetric=this.sortMetric,this.page=0}},{key:"pageToRowIndex",value:function(e){this.page=Math.floor(e/this.itemsPerPage)}},{key:"setFilterString",value:function(e){var t=this;this.filterString=e,this.dataStore.filterString=e,this.page=0,this.dataStore.setFilter(function(e,n,r,o){if(!n)return!0;var i=!1,a=!0,s=!1,l=void 0;try{for(var c,u=t.visibleColumns[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;if(i=p.filter&&p.filter(e,n,r,o)||!1)break}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}return i})}},{key:"setProps",value:function(e){this.columns=e.columns,this._itemsLabel=e.itemsLabel,this._itemsLabelPlural=e.itemsLabelPlural,this._columnVisibility=e.columnVisibility,this.downloadDataFetcher=e.downloadDataFetcher,this.onRowClick=e.onRowClick,this.onRowMouseEnter=e.onRowMouseEnter,this.onRowMouseLeave=e.onRowMouseLeave,e.dataStore?this.dataStore=e.dataStore:this.dataStore=new y.b(e.data||[]),void 0===this.dataStore.page&&(this.dataStore.page=0),void 0===this.itemsPerPage&&(this.itemsPerPage=e.initialItemsPerPage||50),void 0===this.dataStore.sortAscending?this.dataStore.sortAscending=this.sortAscending:this.sortAscending=this.dataStore.sortAscending,void 0===this.dataStore.sortMetric&&(this.dataStore.sortMetric=this.sortMetric),!e.dataStore&&this.filterString&&this.setFilterString(this.filterString)}},{key:"updateColumnVisibility",value:function(e,t){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(u.X)(this.columnVisibilityByColumnDefinition,this._columnVisibility)),void 0!==this._columnVisibilityOverride[e]&&(this._columnVisibilityOverride[e]=t)}},{key:"isVisible",value:function(e){return this.columnVisibility[e.name]||!1}},{key:"itemsPerPage",get:function(){return this.dataStore.itemsPerPage},set:function(e){this.dataStore.itemsPerPage=e,this.page=this.page}},{key:"firstHighlightedRowIndex",get:function(){for(var e=-1,t=0;t<this.displayData.length;t++)if(this.dataStore.isHighlighted(this.displayData[t])){e=t;break}return e}},{key:"displayData",get:function(){return this.dataStore.tableData}},{key:"showingAllRows",get:function(){return this.displayData.length<=this.itemsPerPage||-1===this.itemsPerPage}},{key:"page",get:function(){return this.dataStore.page},set:function(e){this.dataStore.page=this.clampPage(e)}},{key:"maxPage",get:function(){return Object(g.a)(this.displayData.length,this.itemsPerPage)}},{key:"columnVisibility",get:function(){return Object(u.X)(this.columnVisibilityByColumnDefinition,this._columnVisibility,this._columnVisibilityOverride)}},{key:"columnVisibilityByColumnDefinition",get:function(){return Object(u.Y)(this.columns)}},{key:"downloadData",get:function(){var e=this,t=[];return t[0]=[],this.columns.forEach(function(e){t[0].push(e.headerDownload?e.headerDownload(e.name):e.name)}),this.dataStore.sortedData.forEach(function(n){var r,o,i,a=function(e,t){var n={data:[],maxColLength:1};return e.forEach(function(e){if(e.download){var r=e.download(t);r instanceof Array?(n.data.push(r),r.length>n.maxColLength&&(n.maxColLength=r.length)):n.data.push(r)}else n.data.push("")}),n}(e.columns,n),s=(r=a.data,o=a.maxColLength,i=[],r.forEach(function(e){if(e instanceof Array){if(o!=e.length)throw new Error("Not all the arrays returned from the download functions are from the same length.");i.push(e)}else{for(var t=[],n=0;n<o;n++)t=t.concat(e);i.push(t)}}),i);s[0].map(function(e,t){return s.map(function(e){return e[t]})}).forEach(function(e){t.push(e)})}),t}},{key:"sortColumnObject",get:function(){var e=this;return this.columns.find(function(t){return e.isVisible(t)&&t.name===e.sortColumn})}},{key:"visibleData",get:function(){return this.dataStore.visibleData}},{key:"sortMetric",get:function(){var e=this.sortColumnObject;return e&&e.sortBy?e.sortBy:function(){return 0}}},{key:"headers",get:function(){var t=this;return this.visibleColumns.map(function(n,r){var i,a,s={};n.sortBy&&(s.role="button",s.onClick=function(r){var o=r.target,i=e(o).closest(".multilineHeader");i&&i.length>0&&t.defaultHeaderClick(n)}),t.sortColumn===n.name&&(s.className=t.sortAscending?"multilineHeader sort-asc":"multilineHeader sort-des"),i=n.headerRender?n.headerRender(n.name):o.createElement("span",null,n.name),a=n.tooltip?o.createElement(u.c,{placement:"top",overlay:n.tooltip},i):i;var l={};return n.align&&(l.textAlign=n.align),n.width&&(l.width=n.width),o.createElement(o.Fragment,{key:r},o.createElement("th",C({className:"multilineHeader"},s,{style:l}),a),n.resizable&&o.createElement(m.a,{className:"multilineHeader columnResizer",minWidth:0}))})}},{key:"visibleColumns",get:function(){var e=this;return this.columns.filter(function(t){return e.isVisible(t)})}},{key:"colVisProp",get:function(){var e=this,t=[];return this.columns.forEach(function(n){t.push({id:n.name,name:n.name,visible:e.columnVisibility[n.name],togglable:!n.hasOwnProperty("togglable")||n.togglable})}),t}},{key:"paginationStatusText",get:function(){var e,t;0===this.rows.length?(e=0,t=0):(e=this.itemsPerPage===s.b?1:this.page*this.itemsPerPage+1,t=this.itemsPerPage===s.b?this.rows.length:e+this.rows.length-1);var n=this.itemsLabel;return n.length&&(n=" ".concat(n)),"Showing ".concat(e,"-").concat(t," of ").concat(this.displayData.length).concat(n)}},{key:"tds",get:function(){var e=this;return this.visibleData.map(function(t){return e.visibleColumns.map(function(e){var n=o.createElement("td",{key:e.name},e.render(t));return e.resizable?o.createElement(o.Fragment,null,n,o.createElement(m.a,{className:"columnResizer",minWidth:0})):n})})}},{key:"rows",get:function(){for(var e=this,t=[],n=function(n){var r={},i=[];if(e.dataStore.isHighlighted(e.visibleData[n])&&i.push("highlighted"),e.onRowClick){i.push("clickable");var a=e.onRowClick;r.onClick=function(){a(e.visibleData[n])}}if(e.onRowMouseEnter){var s=e.onRowMouseEnter;r.onMouseEnter=function(){s(e.visibleData[n])}}if(e.onRowMouseLeave){var l=e.onRowMouseLeave;r.onMouseLeave=function(){l(e.visibleData[n])}}i.length&&(r.className=i.join(" ")),t.push(o.createElement("tr",C({key:n},r),e.tds[n]))},r=0;r<this.visibleData.length;r++)n(r);return t}},{key:"itemsLabel",get:function(){return this._itemsLabel?this._itemsLabelPlural&&1!==this.displayData.length?this._itemsLabelPlural:this._itemsLabel:""}}]),t}();E([i.observable],P.prototype,"_itemsLabel",void 0),E([i.observable],P.prototype,"_itemsLabelPlural",void 0),E([i.observable],P.prototype,"sortColumn",void 0),E([i.observable],P.prototype,"sortAscending",void 0),E([i.observable.ref],P.prototype,"columns",void 0),E([i.observable],P.prototype,"dataStore",void 0),E([i.observable],P.prototype,"downloadDataFetcher",void 0),E([i.observable],P.prototype,"onRowClick",void 0),E([i.observable],P.prototype,"onRowMouseEnter",void 0),E([i.observable],P.prototype,"onRowMouseLeave",void 0),E([i.observable],P.prototype,"_columnVisibility",void 0),E([i.observable],P.prototype,"_columnVisibilityOverride",void 0),E([i.computed],P.prototype,"itemsPerPage",null),E([i.computed],P.prototype,"firstHighlightedRowIndex",null),E([i.computed],P.prototype,"displayData",null),E([i.computed],P.prototype,"showingAllRows",null),E([i.computed],P.prototype,"page",null),E([i.computed],P.prototype,"maxPage",null),E([i.computed],P.prototype,"columnVisibility",null),E([i.computed],P.prototype,"columnVisibilityByColumnDefinition",null),E([i.computed],P.prototype,"downloadData",null),E([i.computed],P.prototype,"sortColumnObject",null),E([i.computed],P.prototype,"visibleData",null),E([i.computed],P.prototype,"sortMetric",null),E([i.action],P.prototype,"defaultHeaderClick",null),E([i.computed],P.prototype,"headers",null),E([i.computed],P.prototype,"visibleColumns",null),E([i.computed],P.prototype,"colVisProp",null),E([i.computed],P.prototype,"paginationStatusText",null),E([i.computed],P.prototype,"tds",null),E([i.computed],P.prototype,"rows",null),E([i.action],P.prototype,"pageToRowIndex",null),E([i.action],P.prototype,"setFilterString",null),E([i.computed],P.prototype,"itemsLabel",null),E([i.action],P.prototype,"setProps",null),E([i.action],P.prototype,"updateColumnVisibility",null);var I=function(e){function t(e){var n,r,o;return _(this,t),r=this,o=b(t).call(this,e),(n=!o||"object"!==x(o)&&"function"!=typeof o?S(r):o).store=new P(e),n.handlers={onFilterTextChange:Object(v.a)(function(e){n.store.setFilterString(e)},400),visibilityToggle:function(e){n.updateColumnVisibility(e,!n.store.columnVisibility[e])},changeItemsPerPage:function(e){n.store.itemsPerPage=e},incPage:function(){n.store.page+=1},decPage:function(){n.store.page-=1},filterInputRef:function(e){n.filterInput=e}},n.getDownloadData=n.getDownloadData.bind(S(n)),n.getDownloadDataPromise=n.getDownloadDataPromise.bind(S(n)),n.getTopToolbar=n.getTopToolbar.bind(S(n)),n.getBottomToolbar=n.getBottomToolbar.bind(S(n)),n.getTable=n.getTable.bind(S(n)),n.getPaginationControls=n.getPaginationControls.bind(S(n)),n.filterInputReaction=Object(i.reaction)(function(){return n.store.dataStore.filterString},function(e){n.filterInput&&(n.filterInput.value=e)}),n.pageToHighlightReaction=Object(i.reaction)(function(){return n.store.firstHighlightedRowIndex},function(e){n.props.pageToHighlight&&n.store.pageToRowIndex(n.store.firstHighlightedRowIndex)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,o["Component"]),T(t,[{key:"getDownloadData",value:function(){return Object(h.a)(this.store.downloadData)}},{key:"getDownloadDataPromise",value:function(){var e=this;return new Promise(function(t){e.store.downloadDataFetcher?e.store.downloadDataFetcher.fetchAndCacheAllLazyData().then(function(n){t({status:"complete",text:e.getDownloadData()})}).catch(function(){t({status:"incomplete",text:e.getDownloadData()})}):t({status:"complete",text:e.getDownloadData()})})}},{key:"updateColumnVisibility",value:function(e,t){void 0!==this.store.columnVisibility[e]&&this.store.updateColumnVisibility(e,t)}},{key:"componentWillUnmount",value:function(){this.filterInputReaction(),this.pageToHighlightReaction()}},{key:"componentWillReceiveProps",value:function(e){this.store.setProps(e)}},{key:"getPaginationControls",value:function(){var e={className:"text-center topPagination",itemsPerPage:this.store.itemsPerPage,totalItems:this.store.displayData.length,currentPage:this.store.page,onChangeItemsPerPage:this.handlers.changeItemsPerPage,showItemsPerPageSelector:!1,onPreviousPageClick:this.handlers.decPage,onNextPageClick:this.handlers.incPage,previousPageDisabled:0===this.store.page,nextPageDisabled:this.store.page===this.store.maxPage,textBeforeButtons:this.store.paginationStatusText,groupButtons:!1,bsStyle:"primary"};return this.props.paginationProps&&(!1===this.props.paginationProps.showMoreButton&&(delete e.textBeforeButtons,e.textBetweenButtons=this.store.paginationStatusText),e=Object.assign(e,this.props.paginationProps)),o.createElement(s.a,e)}},{key:"getTopToolbar",value:function(){return o.createElement("div",null,this.props.showCountHeader&&this.countHeader,o.createElement(d.ButtonToolbar,{style:{marginLeft:0},className:"tableMainToolbar"},this.props.showFilter?o.createElement("div",{className:"pull-right form-group has-feedback input-group-sm tableFilter",style:{display:"inline-block",marginLeft:5}},o.createElement("input",{ref:this.handlers.filterInputRef,placeholder:this.props.filterPlaceholder||"",type:"text",onInput:this.handlers.onFilterTextChange,className:"form-control tableSearchInput",style:{width:200}}),o.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true",style:{zIndex:0}})):"",this.props.showColumnVisibility?o.createElement(l.a,C({className:"pull-right",columnVisibility:this.store.colVisProp,onColumnToggled:this.handlers.visibilityToggle},this.props.columnVisibilityProps)):"",this.props.showCopyDownload?this.props.downloadDataFetcher?o.createElement(c.a,C({className:"pull-right",downloadData:this.getDownloadDataPromise,downloadFilename:"table.tsv"},this.props.copyDownloadProps)):o.createElement(p.a,C({className:"pull-right",downloadData:this.getDownloadData,downloadFilename:"table.tsv",controlsStyle:"BUTTON"},this.props.copyDownloadProps)):"",this.props.showPagination&&this.props.showPaginationAtTop?o.createElement(a.Observer,null,this.getPaginationControls):null))}},{key:"getBottomToolbar",value:function(){return o.createElement(d.ButtonToolbar,{style:{marginLeft:0,float:"none"},className:"tableMainToolbar center"},this.props.showPagination&&o.createElement(a.Observer,null,this.getPaginationControls))}},{key:"getTable",value:function(){return o.createElement("div",{style:{overflowX:this.props.enableHorizontalScroll?"auto":"visible"}},o.createElement(r.a,{headers:this.store.headers,rows:this.store.rows,className:this.props.className}))}},{key:"render",value:function(){return o.createElement("div",{className:"lazy-mobx-table","data-test":"LazyMobXTable"},o.createElement(a.Observer,null,this.getTopToolbar),o.createElement(a.Observer,null,this.getTable),!this.props.showPaginationAtTop&&o.createElement(a.Observer,null,this.getBottomToolbar))}},{key:"dataStore",get:function(){return this.store.dataStore}},{key:"countHeader",get:function(){return o.createElement("span",{"data-test":"LazyMobXTable_CountHeader",style:{float:"left",color:"black",fontSize:"16px",fontWeight:"bold"}},this.store.displayData.length," ",this.store.itemsLabel," (page"," ",this.store.page+1," of ",this.store.maxPage+1,")")}}]),t}();I.defaultProps={showFilter:!0,showCopyDownload:!0,showPagination:!0,showColumnVisibility:!0,showPaginationAtTop:!1,showCountHeader:!1},E([i.action],I.prototype,"componentWillReceiveProps",null),I=E([a.observer],I),t.b=I}).call(this,n(9))},function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"o",function(){return s}),n.d(t,"p",function(){return l}),n.d(t,"m",function(){return c}),n.d(t,"n",function(){return u}),n.d(t,"s",function(){return p}),n.d(t,"t",function(){return h}),n.d(t,"k",function(){return d}),n.d(t,"r",function(){return f}),n.d(t,"q",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"j",function(){return g}),n.d(t,"l",function(){return v}),n.d(t,"u",function(){return b}),n.d(t,"v",function(){return S}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return k}),n.d(t,"f",function(){return T}),n.d(t,"w",function(){return x}),n.d(t,"x",function(){return E});var r=n(7),o="#BEBEBE",i="#000000",a=o,s="#008000",l="#53D400",c="#993404",u="#a68028",p="#000000",h="#708090",d="#8B00C9",f="#00B7CE",m="#cf58bc",y="#ff9999",g="#6699cc",v="#FFFFFF",b="#ff3df8",S="#00E1FF",w="#ff0000",C="#ffb6c1",_="#8fd8d8",k="#0000ff",T="#D3D3D3",x={true:"#1b9e77",yes:"#1b9e77",positive:"#1b9e77","disease free":"#1b9e77","tumor free":"#1b9e77",living:"#1b9e77",alive:"#1b9e77","not progressed":"#1b9e77",false:"#d95f02",no:"#d95f02",negative:"#d95f02",recurred:"#d95f02",progressed:"#d95f02","recurred/progressed":"#d95f02","with tumor":"#d95f02",deceased:"#d95f02",female:"#E0699E",f:"#E0699E",male:"#2986E2",m:"#2986E2",other:"#A9A9A9",unknown:T,na:T,missense:s,inframe:c,truncating:p,fusion:d,promoter:f,"wild type":o,amplification:w,gain:C,diploid:o,"shallow deletion":_,"deep deletion":k};function E(e){return x[e.replace(/\s/g,"").toLowerCase()]}r.forEach(x,function(e,t){x[t.toLowerCase()]=e,x[t.toUpperCase()]=e;var n=t.replace(/\s/g,"");x[n]=e,x[n.toLowerCase()]=e,x[n.toUpperCase()]=e,x[t[0].toUpperCase()+t.slice(1).toLowerCase()]=e,x[t.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join(" ")]=e})},function(e,t,n){"use strict";var r=n(7),o=n.n(r),i=n(0),a=n(633),s=n(567);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new s.a}var t,n,r;return t=e,(n=[{key:"increment",value:function(e){this.map.set(e,(this.map.get(e)||0)+1)}},{key:"get",value:function(e){return this.map.get(e)||0}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&l(t.prototype,n),r&&l(t,r),e}(),u=n(634),p=n(558),h=n(652),d=n(93),f=n(572),m=n(4),y=n(551);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(e){var t=o.a.partition(e,function(e){return"na"===e.name.toLowerCase()});return o.a.sortBy(t[1],function(e){return e.name.toLowerCase()}).concat(t[0])}n.d(t,"l",function(){return v}),n.d(t,"c",function(){return b}),n.d(t,"s",function(){return w}),n.d(t,"j",function(){return C}),n.d(t,"i",function(){return _}),n.d(t,"u",function(){return k}),n.d(t,"A",function(){return E}),n.d(t,"w",function(){return A}),n.d(t,"v",function(){return O}),n.d(t,"r",function(){return P}),n.d(t,"q",function(){return I}),n.d(t,"o",function(){return M}),n.d(t,"d",function(){return L}),n.d(t,"g",function(){return N}),n.d(t,"h",function(){return R}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return F}),n.d(t,"a",function(){return G}),n.d(t,"p",function(){return B}),n.d(t,"x",function(){return z}),n.d(t,"e",function(){return V}),n.d(t,"C",function(){return H}),n.d(t,"z",function(){return U}),n.d(t,"n",function(){return q}),n.d(t,"E",function(){return W}),n.d(t,"y",function(){return K}),n.d(t,"m",function(){return $}),n.d(t,"D",function(){return Y}),n.d(t,"k",function(){return Q}),n.d(t,"B",function(){return X}),n.d(t,"t",function(){return Z});var b=20,S="-ABCDEFGHIJKLMNOPQRSTUVWXYZ";function w(e,t){if(e<=0)return[];for(var n,r,i=[[1]],a=1;a<e;a++){n=i[a-1],(r=o.a.clone(n))[r.length-1]+=1;for(var s=r.length-1;s>=0;s--)r[s]>t&&(r[s]-=t,s>0?r[s-1]+=1:r.unshift(1));i.push(r)}return i.map(function(e){return e.map(function(e){return S[e]}).join("")})}function C(e,t){var n="";if((Array.isArray(e)||e.isComplete)&&(Array.isArray(t)||t.isComplete)){var r=Array.isArray(e)?e:e.result,o=Array.isArray(t)?t:t.result;if(r.length===o.length)n="(".concat(r.length,")");else{var i=1!==r.length,a=1!==o.length;n="(".concat(r.length," sample").concat(i?"s":"","/").concat(o.length," patient").concat(a?"s":"",")")}}return n}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";if(e===t){var o=1!==e;return"".concat(e).concat(r,"sample").concat(o?"s":"").concat(n,"patient").concat(o?"s":"")}var i=1!==e,a=1!==t;return"".concat(e).concat(r,"sample").concat(i?"s":"").concat(n).concat(t).concat(r,"patient").concat(a?"s":"")}function k(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=t.get({studyId:c.studyId,sampleId:c.sampleId});!u||u.uniquePatientKey in n||(n[u.uniquePatientKey]={patientId:u.patientId,studyId:u.studyId})}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return o.a.values(n)}function T(e){var t=new c,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,u=!1,p=void 0;try{for(var h,d=s.studies[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value,m=f.id,y=!0,g=!1,v=void 0;try{for(var b,S=f.samples[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var w=b.value;t.increment({studyId:m,sampleId:w})}}catch(e){g=!0,v=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw v}}}}catch(e){u=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var C=[],_=!0,k=!1,T=void 0;try{for(var x,E=t.entries()[Symbol.iterator]();!(_=(x=E.next()).done);_=!0){var A=x.value;A.value>1&&C.push(A.key)}}catch(e){k=!0,T=e}finally{try{_||null==E.return||E.return()}finally{if(k)throw T}}return C}function x(e){var t=new c,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,u=!1,p=void 0;try{for(var h,d=s.studies[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value,m=f.id,y=!0,g=!1,v=void 0;try{for(var b,S=f.patients[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var w=b.value;t.increment({studyId:m,patientId:w})}}catch(e){g=!0,v=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw v}}}}catch(e){u=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var C=[],_=!0,k=!1,T=void 0;try{for(var x,E=t.entries()[Symbol.iterator]();!(_=(x=E.next()).done);_=!0){var A=x.value;A.value>1&&C.push(A.key)}}catch(e){k=!0,T=e}finally{try{_||null==E.return||E.return()}finally{if(k)throw T}}return C}function E(e){return!o.a.some(e.studies,function(e){return e.samples.length>0||e.patients.length>0})}function A(e){return o.a.uniq(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){return e.id})})))}function O(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.samples.map(function(e){return{studyId:t,sampleId:e}})})})),function(e,t){return e.sampleId===t.sampleId&&e.studyId===t.studyId})}function P(e){return o.a.sum(e.studies.map(function(e){return e.samples.length}))}function I(e){return o.a.sum(e.studies.map(function(e){return e.patients.length}))}function M(e,t){var n=[],r=[],i=!0,a=!1,s=void 0;try{for(var l,c=e.studies[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,p=u.id,h=[],d=[],f=!0,m=!1,y=void 0;try{for(var g,v=u.samples[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value,S=t.get({studyId:p,sampleId:b});S?(h.push(b),d.push(S.patientId)):n.push({studyId:p,sampleId:b})}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}d=o.a.uniq(d),(h.length>0||d.length>0)&&r.push({id:p,samples:h,patients:d})}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return{nonExistentSamples:n,studies:r}}function D(e,t){var n=t.overlappingSamplesSet,r=t.overlappingPatientsSet;return e.map(function(e){var t=[],o=!0,i=!1,a=void 0;try{for(var s,l=function(){var e=s.value,o=e.id,i=e.samples.filter(function(e){return!n.has({studyId:o,sampleId:e})}),a=e.patients.filter(function(e){return!r.has({studyId:o,patientId:e})});(i.length>0||a.length>0)&&t.push({id:o,samples:i,patients:a})},c=e.studies[Symbol.iterator]();!(o=(s=c.next()).done);o=!0)l()}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return Object.assign({},e,{studies:t})})}function L(e,t,n,r,o,a){return Object(p.a)({await:function(){var n=e(),r=[n._activeGroupsNotOverlapRemoved,n.activeGroups,n.activeStudyIds];return n.activeGroups.isComplete&&2!==n.activeGroups.result.length||n.activeStudyIds.isComplete&&n.activeStudyIds.result.length>1||r.push(t()),r},render:function(){var s=e(),l=s.activeGroups.result.length;if(!r&&2!==l||r&&l<2)return i.createElement("span",null,function(e,t,n){if(t<2)return"Please select more groups - we need ".concat(n?"at least":"exactly"," 2 selected groups to show enrichments.");if(e<2)return"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need exactly 2 nonempty selected groups to show enrichments.";if(e>2)return"Please deselect groups - we need exactly 2 selected groups to show enrichments."}(s.activeGroups.result.length,s._activeGroupsNotOverlapRemoved.result.length,r));if(s.activeStudyIds.result.length>1&&!a)return i.createElement("span",null,"The selected comparison groups span more than one study, so we can't show ".concat(n," enrichments. Please change your selection in the Groups section so that all samples only come from one study."));var c=[];return c.push(i.createElement(h.a,{store:s,only:o&&s.usePatientLevelEnrichments?"patient":"sample"})),c.push(t().component),c},renderPending:function(){return i.createElement(d.a,{center:!0,isLoading:!0,size:"big"})},renderError:function(){return i.createElement(f.a,null)}})}var N="We need at least 1 group to show survival. Please select more groups from the Groups section above.",R="We can't show survival for more than 10 groups. Please deselect groups in the Groups section.",j="Another group already has this name.",F="We need at least 2 groups to show overlap. Please select more groups from the Groups section above.";function G(e){return e>=2?"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need at least 2.":"We need at least 2 groups to show clinical data enrichments. Please select more groups from the Groups section above."}function B(e,t,n){var r=o.a.chain(e.clinicalDataFilters||[]).filter(function(e){return n[e.attributeId]===y.c.STRING}).sortBy(function(e){return e.attributeId}).map(function(e){return e.values.join("+")}).value(),i=o()(t).keys().sortBy().map(function(e){return t[e].join("+")}).value(),a=o.a.chain(e.geneFilters||[]).flatMapDeep(function(e){return e.geneQueries}).value(),s=[];return e.withMutationData&&s.push("with mutation data"),e.withCNAData&&s.push("with CNA data"),a.concat(r).concat(i).concat(s).join(", ")}function z(e){var t=e.match(/comparison\/([^\/]+)/);return t?t[1]:void 0}function V(e){return i.createElement("div",{style:{width:380}},i.createElement("div",{style:{marginBottom:7}},"The following samples cannot be found in our database. They might have been removed or changed since this group was created:"," "),i.createElement("div",{style:{maxHeight:200,overflowY:"scroll"}},e.samples.map(function(e){return i.createElement("div",null,"".concat(e.studyId,":").concat(e.sampleId))})))}function H(e,t){for(var n=(e=o.a.chain(e).filter(function(e){return!isNaN(e.value)}).sortBy(function(e){return parseFloat(e.value)}).value()).length/t,r=[],i=0;i<t;i++){var a=e.slice(n*i,n*(i+1));a.length>0&&r.push(a)}return r}function U(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,samples:o.a.intersection(e.samples,t in r?r[t].samples:[])}});return o.a.values(i).filter(function(e){return e.samples.length>0})}function q(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,samples:t in r?o.a.difference(e.samples,r[t].samples):e.samples}});return o.a.values(i).filter(function(e){return e.samples.length>0})}function W(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],i=r[e];return t&&i?{id:e,samples:o.a.union(t.samples,i.samples)}:t||i})}function K(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,patients:o.a.intersection(e.patients,t in r?r[t].patients:[])}});return o.a.values(i).filter(function(e){return e.patients.length>0})}function $(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,patients:t in r?o.a.difference(e.patients,r[t].patients):e.patients}});return o.a.values(i).filter(function(e){return e.patients.length>0})}function Y(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],i=r[e];return t&&i?{id:e,patients:o.a.union(t.patients,i.patients)}:t||i})}function Q(e,t){return e.map(function(e){return{id:e.id,samples:o.a.flatten(e.patients.map(function(n){return(t.get({patientId:n,studyId:e.id})||[]).map(function(e){return e.sampleId})}))}})}function X(e,t,n,r){var i=new u.a,a=e.reduce(function(e,r){return e[r.uid]=o.a.keyBy(t(r).map(function(e){return n(e)})),e},{}),s=!0,l=!1,c=void 0;try{for(var p,h=r[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var d=p.value,f={},m=!0,y=!1,g=void 0;try{for(var v,b=e[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var S=v.value;f[S.uid]=d in a[S.uid]}}catch(e){y=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw g}}i.add(f,d)}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return i.entries()}function Z(e,t){var n=e.filter(function(e){return t(e.uid)}),r=new a.a,i=new a.a,s=[],l=[],c=new a.a,u=new a.a,p={};if(n.length>0)for(;;){s=T(n),l=x(n),c=new a.a,u=new a.a;var h=void 0,d=!0,f=!1,y=void 0;try{for(var v,b=s[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var S=v.value;h={studyId:S.studyId,sampleId:S.sampleId},c.add(h),r.add(h)}}catch(e){f=!0,y=e}finally{try{d||null==b.return||b.return()}finally{if(f)throw y}}var w=void 0,C=!0,_=!1,k=void 0;try{for(var A,O=l[Symbol.iterator]();!(C=(A=O.next()).done);C=!0){var P=A.value;w={studyId:P.studyId,patientId:P.patientId},u.add(w),i.add(w)}}catch(e){_=!0,k=e}finally{try{C||null==O.return||O.return()}finally{if(_)throw k}}var I=g(o.a.partition(D(n,{overlappingSamplesSet:c,overlappingPatientsSet:u}),function(e){return E(e)}),2),M=I[0],L=I[1];if(M.length>0){var N=M.pop();p[N.uid]=N}if(L.length===n.length)break;n=n.filter(function(e){return!(e.uid in p)})}var R=Object(m.ab)(e.map(function(e){return e.uid})),j=D(n,{overlappingSamplesSet:c,overlappingPatientsSet:u}).concat(o.a.values(p));return{groups:j=o.a.sortBy(j,function(e){return R[e.uid]}),overlappingSamples:s,overlappingPatients:l,overlappingSamplesSet:c,overlappingPatientsSet:u,totalSampleOverlap:r.keys().length,totalPatientOverlap:i.keys().length,excludedFromAnalysis:o.a.mapValues(p,function(e){return!0})}}},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return h});var r=n(0),o=n(7),i=n(559);n(645);function a(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}function s(e,t){var n=e.toFixed(t);if(0!==e&&0===parseFloat(n)){var r=t>1?o.fill(Array(t-1),"0"):[];n="".concat(e>0?"<":">-","0.").concat(r.join(""),"1")}return n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(s(100*e,t),"%")}function c(e){var t=r.createElement("span",null,Object(i.a)(e,3,.01));return e<.05&&(t=r.createElement("b",null,t)),t}function u(e){return e<-10?"<-10":e>10?">10":e.toFixed(2)}function p(e,t){return e>t?t:e<-t?-t:Number(e.toFixed(2))}function h(e,t,n,o){return 0===e||Math.log10(e)<o?r.createElement("span",null,"< 10",r.createElement("sup",null,o)):Object(i.a)(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),o=n(596);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n=!1;return Object(r.observable)({get status(){var t=e.await();return o.a.apply(void 0,i(t))},get isComplete(){return"complete"===this.status},get isError(){return"error"===this.status},get isPending(){return"pending"===this.status},get component(){var r=null;switch(this.status){case"complete":r=e.render(),n=!0,t=r;break;case"pending":e.showLastRenderWhenPending&&n?r=t:e.renderPending&&(r=e.renderPending());break;case"error":e.renderError&&(r=e.renderError())}return r}})}},function(e,t,n){"use strict";function r(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return u}),n.d(t,"g",function(){return h}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"j",function(){return y}),n.d(t,"c",function(){return A}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return P}),n.d(t,"i",function(){return I});var r=n(7),o=n(635),i=n.n(o),a=n(636);function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return void 0!==e.list}function u(e){return void 0!==e.list}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";function n(e,t){return e.reduce(function(e,t){var o=e.dt_state,i=e.query,a=function(e,t){if(function(e){return void 0!==e.gene&&"DATATYPES"===e.gene.toUpperCase()}(t))return{dt_state:t.alterations,query_line:[]};if(c(t)){var o=n(t.list,e);return{dt_state:e,query_line:[r.assign({},t,{list:o})]}}var i=t.alterations||e;return{dt_state:e,query_line:[r.assign({},t,{alterations:i})]}}(o,t),s=a.dt_state,l=a.query_line;return{dt_state:s,query:i.concat(l)}},{dt_state:t,query:[]}).query}var o=n(i.a.parse(e),!1);t.length>0&&(o=n(o,i.a.parse("DUMMYGENE:".concat(t,";"))[0].alterations));return o}function h(e){var t=p(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"");return r.flatMap(t,function(e){return c(e)?e.list:[e]})}function d(e){var t=h(e),n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(!1!==a.value.alterations){n=!0;break}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}function f(e){var t=h(e),n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(!1!==l.alterations){var c=!0,u=!1,p=void 0;try{for(var d,f=l.alterations[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;if("mut"===m.alteration_type&&(void 0!==m.constr_rel||m.modifiers.length>0)){n=!0;break}if("any"===m.alteration_type&&m.modifiers.indexOf("DRIVER")>-1){n=!0;break}}}catch(e){u=!0,p=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw p}}if(n)break}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}function m(e){switch(e.alteration_type){case"cna":return t="="===e.constr_rel?e.constr_val:["CNA",e.constr_rel,e.constr_val].join(""),e.modifiers.length>0&&(t+="_",t+=e.modifiers.join("_")),t;case"mut":var t,n=!0;return e.constr_rel?"position"===e.constr_type?t=["MUT",e.constr_rel,e.info.amino_acid,e.constr_val].join(""):(t=["MUT",e.constr_rel,e.constr_val].join(""),e.constr_val||(n=!1)):t="MUT",n&&e.modifiers.length>0&&(t+="_"),t+=e.modifiers.join("_");case"exp":return"EXP"+e.constr_rel+e.constr_val;case"prot":return"PROT"+e.constr_rel+e.constr_val;case"fusion":return"FUSION"+e.modifiers.map(function(e){return"_"+e}).join("");case"any":return e.modifiers.join("_")}}function y(e){var t="",n=e.gene,r=e.alterations;return t+=n,r.length>0&&(t+=": "+r.map(m).join(" "),t+=";"),t}var g=function(e,t,n){var r=n.gene(t).toUpperCase();return!!r&&e.map(function(e){return v(e,t,r,n)}).reduce(function(e,t){return e||t},!1)},v=function(e,t,n,r){return e.gene.toUpperCase()===n&&(e.alterations?1===e.alterations.map(function(e){return b(e,t,r)}).reduce(function(e,t){return 1===t?1:0===t?e:-1===t?1===e?1:-1:void 0},-1):1)},b=function(e,t,n){switch(e.alteration_type){case"cna":return C(e,t,n);case"mut":return _(e,t,n);case"exp":case"prot":return x(e,t,n);case"fusion":return w(e,t,n);case"any":return S(e,t,n)}return 0},S=function(e,t,n){for(var r=!1,o=!1,i=0;i<e.modifiers.length;i++){var a=e.modifiers[i],s=null;switch(a){case"DRIVER":default:s=T(a,t,n)}if(!0===s)r=!0;else if(!1===s){o=!0;break}}return o?-1:r?1:0},w=function(e,t,n){if(null===n.fusion(t))return 0;for(var r=!0,o=0;o<e.modifiers.length;o++){var i=T(e.modifiers[o],t,n);null!==i&&(r=r&&i)}return 2*+r-1},C=function(e,t,n){var r=n.cna(t);if(r){var o=!0;if("="===e.constr_rel)o=r===e.constr_val.toLowerCase();else if(e.constr_rel){var i={amp:2,gain:1,hetloss:-1,homdel:-2},a=i[r],s=i[e.constr_val.toLowerCase()];">"===e.constr_rel?o=a>s:">="===e.constr_rel?o=a>=s:"<"===e.constr_rel?o=a<s:"<="===e.constr_rel&&(o=a<=s)}for(var l=0;l<e.modifiers.length;l++){var c=T(e.modifiers[l],t,n);null!==c&&(o=o&&c)}return 2*+o-1}return 0},_=function(e,t,n){var r=n.mut_type(t);if(r){r=r.toLowerCase();var o=!1;if(e.constr_rel&&e.constr_type||(o=!0),"class"===e.constr_type){var i=e.constr_val.toLowerCase();o=r===i||"trunc"===i&&"missense"!==r&&"inframe"!==r,"!="===e.constr_rel&&(o=!o)}else if("position"===e.constr_type){var a=n.mut_position(t);if(!a)return-1;var s=e.constr_val;o=s>=a[0]&&s<=a[1],"!="===e.constr_rel&&(o=!o)}else if("name"===e.constr_type){var l=n.mut_amino_acid_change(t).toLowerCase();if(!l)return-1;o=e.constr_val.toLowerCase()===l,"!="===e.constr_rel&&(o=!o)}for(var c=0;c<e.modifiers.length;c++){var u=k(e.modifiers[c],t,n);null!==u&&(o=o&&u)}return 2*+o-1}return 0},k=function(e,t,n){switch(e){case"GERMLINE":case"SOMATIC":return n.mut_status(t)===e.toLowerCase();default:return T(e,t,n)}},T=function(e,t,n){switch(e){case"DRIVER":return n.is_driver(t);default:return!1}},x=function(e,t,n){var r=n["exp"===e.alteration_type?"exp":"prot"](t);if(null===r)return 0;var o,i=e.constr_val,a=e.constr_rel,s=void 0;return"<"===a&&r<i||"<="===a&&r<=i?(o=1,s=-1):">"===a&&r>i||">="===a&&r>=i?(o=1,s=1):o=-1,o>0&&(t.alterationSubType=s&&s>0?"high":"low"),o};function E(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;n=e.extend(!0,[],n);for(var l=r,u=0;u<n.length;u++)n[u].molecularProfileAlterationType=l.molecularAlterationType(n[u].molecularProfileId),Object(a.a)(n[u],l);function d(e){return function(t){return c(t)?s({},t,{list:t.list.map(d(e))}):e(t)}}var f=("mergedtrack"===i?p:h)(t,o).map(d(function(e){return s({},e,{gene:e.gene.toUpperCase()})}));return i?f.map(d(function(e){return{gene:e.gene,parsed_oql_line:e,oql_line:y(e),data:n.filter(function(t){return v(e,t,l.gene(t).toUpperCase(),l)})}})):n.filter(function(e){return g(f,e,l)})}function A(e,t,n,r){return E(e,t,n,r)}function O(e,t,n,r){return E(e,t,n,r,"gene")}function P(e,t,n,r){return E(e,t,n,r,"mergedtrack")}function I(e){for(var t=h(e).filter(function(e){return"datatypes"!==e.gene.toLowerCase()}).map(function(e){return e.gene.toUpperCase()}),n={},r=0;r<t.length;r++)n[t[r]]=!0;return Object.keys(n)}}).call(this,n(9))},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var r=n(7),o=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],i={fontFamily:"Arial, Helvetica",width:350,height:350,padding:50},a={fontFamily:"Arial, Helvetica",fontSize:13,letterSpacing:"normal",padding:8,stroke:"transparent",strokeWidth:0},s=Object(r.assign)({textAnchor:"middle"},a),l=Object(r.assign)({},a,{fontSize:13,padding:8}),c=Object(r.assign)({},a,{fill:"black",padding:2}),u={area:Object(r.assign)({style:{data:{fill:"#212121"},labels:s}},i),axis:Object(r.assign)({style:{axis:{fill:"transparent",stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:Object(r.assign)({},s,l),grid:{fill:"none",stroke:"#ECEFF1",strokeOpacity:function(e){return 0===e?0:1},strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"visible"},ticks:{fill:"transparent",size:4,stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:c}},i),bar:Object(r.assign)({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:a}},i),boxplot:Object(r.assign)({style:{max:{padding:8,stroke:"#455A64",strokeWidth:1},maxLabels:a,median:{padding:8,stroke:"#455A64",strokeWidth:1},medianLabels:a,min:{padding:8,stroke:"#455A64",strokeWidth:1},minLabels:a,q1:{padding:8,fill:"#455A64"},q1Labels:a,q3:{padding:8,fill:"#455A64"},q3Labels:a},boxWidth:20},i),candlestick:Object(r.assign)({style:{data:{stroke:"#455A64"},labels:s},candleColors:{positive:"#ffffff",negative:"#455A64"}},i),chart:i,errorbar:Object(r.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:s}},i),group:Object(r.assign)({colorScale:o},i),line:Object(r.assign)({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:s}},i),pie:Object(r.assign)({colorScale:o,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:Object(r.assign)({},a,{padding:20})}},i),scatter:Object(r.assign)({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:s}},i),stack:Object(r.assign)({colorScale:o},i),tooltip:{style:Object(r.assign)({},s,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:Object(r.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object(r.assign)({},s,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},i),legend:{colorScale:o,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle",size:3,strokeWidth:1,stroke:"black"},labels:a,title:Object(r.assign)({},a,{padding:5})}}};t.d=u},function(e,t,n){},function(e,t,n){"use strict";var r=n(7),o=n(161),i=n(5);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l="tissue",c="My Virtual Studies",u="Studies",p=function(){function e(t){var n,o,i,s=this,p=t.cancerTypes,h=void 0===p?[]:p,d=t.studies,f=void 0===d?[]:d,m=t.priorityStudies,y=void 0===m?{}:m,g=t.virtualStudies,v=void 0===g?[]:g,b=t.maxTreeDepth,S=void 0===b?0:b;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootCancerType={clinicalTrialKeywords:"",dedicatedColor:"",name:"All",parent:"",shortName:"All",cancerTypeId:l},this.virtualStudyCategory={clinicalTrialKeywords:"",dedicatedColor:"",name:c,parent:l,shortName:c,cancerTypeId:c,alwaysVisible:!0},this.physicalStudyCategory={clinicalTrialKeywords:"",dedicatedColor:"",name:u,parent:l,shortName:u,cancerTypeId:u,alwaysVisible:!0},this.priorityCategories=[],this.map_node_meta=new Map,this.map_cancerTypeId_cancerType=new Map,this.map_studyId_cancerStudy=new Map,h=e.sortNodes(h);var w=v.map(function(e){if(e.data)return{allSampleCount:r.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:c}}).filter(function(e){return e});for(var C in y)this.priorityCategories.push({clinicalTrialKeywords:"",dedicatedColor:"",name:C,parent:l,shortName:C,cancerTypeId:C});0===S&&v.length>0&&(f=r.map(f,function(e){return e.cancerTypeId=s.physicalStudyCategory.cancerTypeId,e}));for(var _=0,k=[h=[this.virtualStudyCategory,this.physicalStudyCategory].concat(a(this.priorityCategories),[this.rootCancerType],a(h)),f=e.sortNodes([].concat(a(w),a(f)))];_<k.length;_++){n=k[_];var T=!0,x=!1,E=void 0;try{for(var A,O=n[Symbol.iterator]();!(T=(A=O.next()).done);T=!0){o=A.value;var P=n==h;P?this.map_cancerTypeId_cancerType.set(o.cancerTypeId,o):this.map_studyId_cancerStudy.set(o.studyId,o);var I=P?o.name:[o.name,o.description].join("\n");this.map_node_meta.set(o,{isCancerType:P,isPriorityCategory:!1,priorityCategories:[],childCancerTypes:[],childStudies:[],descendantStudies:[],descendantCancerTypes:[],ancestors:[],siblings:[],searchTerms:I})}}catch(e){x=!0,E=e}finally{try{T||null==O.return||O.return()}finally{if(x)throw E}}}var M=!0,D=!1,L=void 0;try{for(var N,R=this.priorityCategories[Symbol.iterator]();!(M=(N=R.next()).done);M=!0){var j=N.value;(i=this.map_node_meta.get(j)).isPriorityCategory=!0;var F=!0,G=!1,B=void 0;try{for(var z,V=y[j.cancerTypeId][Symbol.iterator]();!(F=(z=V.next()).done);F=!0){var H=z.value,U=this.map_studyId_cancerStudy.get(H);if(U)i.childStudies.push(U),i.descendantStudies.push(U),this.map_node_meta.get(U).priorityCategories.push(j)}}catch(e){G=!0,B=e}finally{try{F||null==V.return||V.return()}finally{if(G)throw B}}}}catch(e){D=!0,L=e}finally{try{M||null==R.return||R.return()}finally{if(D)throw L}}for(var q=0,W=[h,f];q<W.length;q++){n=W[q];var K=!0,$=!1,Y=void 0;try{for(var Q,X=n[Symbol.iterator]();!(K=(Q=X.next()).done);K=!0){o=Q.value,i=this.map_node_meta.get(o);var Z=void 0;if(i.isCancerType){var J=o.alwaysVisible;Z=this.map_cancerTypeId_cancerType.get(o.parent),J&&Z&&(Z.alwaysVisible=J)}else Z=this.map_cancerTypeId_cancerType.get(o.cancerTypeId);var ee=Z&&this.map_node_meta.get(Z);for(ee&&(i.isCancerType?ee.childCancerTypes.push(o):ee.childStudies.push(o));Z&&ee;)i.ancestors.push(Z),i.isCancerType?ee.descendantCancerTypes.push(o):ee.descendantStudies.push(o),ee=(Z=this.map_cancerTypeId_cancerType.get(Z.parent))&&this.map_node_meta.get(Z);var te=[].concat(a(i.ancestors),a(i.priorityCategories)).map(function(e){return e.name});i.searchTerms=[i.searchTerms].concat(a(te)).join("\n")}}catch(e){$=!0,Y=e}finally{try{K||null==X.return||X.return()}finally{if($)throw Y}}}var ne=!0,re=!1,oe=void 0;try{for(var ie,ae=f[Symbol.iterator]();!(ne=(ie=ae.next()).done);ne=!0){o=ie.value;var se=(i=this.map_node_meta.get(o)).ancestors[i.ancestors.length-2];if(se){var le=this.map_node_meta.get(se);i.siblings=le.descendantStudies}}}catch(e){re=!0,oe=e}finally{try{ne||null==ae.return||ae.return()}finally{if(re)throw oe}}}var t,n,o;return t=e,o=[{key:"sortNodes",value:function(e){return r.sortBy(e,function(e){return e.name})}}],(n=null)&&s(t.prototype,n),o&&s(t,o),e}(),h=n(4),d=n(79),f=n(94),m=n(560),y=n(95),g=n.n(y),v=n(3),b=n(674),S=n(47),w=n.n(S),C=n(16),_=n(677),k=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function T(e,t,n){return k(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=r.chunk(e,n),a=i.map(t),o.t0=r,o.next=5,Promise.all(a);case 5:return o.t1=o.sent,o.abrupt("return",o.t0.flatten.call(o.t0,o.t1));case 7:case"end":return o.stop()}},o)}))}var x=n(548);function E(e){return function(e,t){return{query:Object.assign({},e,t)}}(function(e,t){var n=e.selectableSelectedStudyIds,r=t?t.replace(/\s+/g,"+"):e.asyncCustomCaseSet.result.map(function(e){return e.studyId+":"+e.sampleId}).join("+"),o={cancer_study_id:1===n.length?n[0]:"all",Z_SCORE_THRESHOLD:e.zScoreThreshold,RPPA_SCORE_THRESHOLD:e.rppaScoreThreshold,data_priority:e.dataTypePriorityCode,profileFilter:e.dataTypePriorityCode,case_set_id:e.selectedSampleListId||"-1",case_ids:r,gene_list:encodeURIComponent(ie(e.geneQuery)||" "),geneset_list:ie(e.genesetQuery)||" ",tab_index:e.forDownloadTab?"tab_download":"tab_visualize",transpose_matrix:e.transposeDataMatrix?"on":void 0,Action:"Submit"};1!==n.length&&(o.cancer_study_list=n.join(","));return o}(e),function(e,t){return{genetic_profile_ids_PROFILE_MUTATION_EXTENDED:e.getSelectedProfileIdFromMolecularAlterationType("MUTATION_EXTENDED",t),genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION:e.getSelectedProfileIdFromMolecularAlterationType("COPY_NUMBER_ALTERATION",t),genetic_profile_ids_PROFILE_MRNA_EXPRESSION:e.getSelectedProfileIdFromMolecularAlterationType("MRNA_EXPRESSION",t),genetic_profile_ids_PROFILE_METHYLATION:e.getSelectedProfileIdFromMolecularAlterationType("METHYLATION",t)||e.getSelectedProfileIdFromMolecularAlterationType("METHYLATION_BINARY",t),genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION:e.getSelectedProfileIdFromMolecularAlterationType("PROTEIN_LEVEL",t),genetic_profile_ids_PROFILE_GENESET_SCORE:e.getSelectedProfileIdFromMolecularAlterationType("GENESET_SCORE",t),genetic_profile_ids_PROFILE_GENERIC_ASSAY:e.getSelectedProfileIdFromMolecularAlterationType("GENERIC_ASSAY",t)}}(e))}function A(e){var t=!1,n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.showProfileInAnalysisTab){switch(l.molecularAlterationType){case x.a.MUTATION_EXTENDED:t=!0;break;case x.a.COPY_NUMBER_ALTERATION:n=!0}if(t&&n)break}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return{mutation:t,cna:n}}function O(e,t,n){var o={},i={},a={},s={},l={},c={},u={},p={};r.each(e,function(e){switch(e.category){case"all_cases_with_mutation_and_cna_data":a[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_with_mutation_data":o[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_with_cna_data":i[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_in_study":s[e.studyId]=r.keyBy(e.sampleIds);break;default:e.sampleListId===e.studyId+"_all"&&(s[e.studyId]=r.keyBy(e.sampleIds))}});var h=r.map(n,function(e){return e.id}),d=t.filter(function(e){return!r.includes(h,e)});return r.forEach(d,function(e){l[e]=o[e]||{},c[e]=i[e]||{},u[e]=a[e]||{},p[e]=s[e]||{}}),r.forEach(n,function(e){r.forEach(e.data.studies,function(e){r.includes(d,e.id)||(l[e.id]=l[e.id]||{},c[e.id]=c[e.id]||{},u[e.id]=u[e.id]||{},p[e.id]=p[e.id]||{},r.forEach(e.samples,function(t){o[e.id]&&o[e.id][t]&&(l[e.id][t]=t),i[e.id]&&i[e.id][t]&&(c[e.id][t]=t),a[e.id]&&a[e.id][t]&&(u[e.id][t]=t),s[e.id]&&s[e.id][t]&&(p[e.id][t]=t)}))})}),{w_mut:r.reduce(l,function(e,t){return e+Object.keys(t).length},0),w_cna:r.reduce(c,function(e,t){return e+Object.keys(t).length},0),w_mut_cna:r.reduce(u,function(e,t){return e+Object.keys(t).length},0),all:r.reduce(p,function(e,t){return e+Object.keys(t).length},0)}}var P=n(549);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function R(e){return e}function j(e,t){return t}function F(e){return N(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:e}});case 2:return n=t.sent,i=r.groupBy(n,function(e){return e.studyId}),t.abrupt("return",e.map(function(e){return{data:[i[e]||[]],meta:e}}));case 5:case"end":return t.stop()}},t)}))}var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,D(t).call(this,R,j,F))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,P["a"]),t}(),B=n(550),z=n(117);function V(e){var t=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r.has(l,"genesets")&&l.genesets.forEach(function(e){return t.push(e)})}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return t}var H=n(579);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};var Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,W(t).call(this,function(e){return{invoke:function(){return function(e){return $(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"DETAILED"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}(e)}}},function(e){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,H["a"]),t}();var Q=n(624);function X(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return re}),n.d(t,"e",function(){return ie}),n.d(t,"b",function(){return ae}),n.d(t,"c",function(){return le}),n.d(t,"d",function(){return ce});var te=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ee(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ne=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},re="-1";function oe(e){return Number.isInteger(Number(e))}function ie(e){return e.trim().replace(/^\s+|\s+$/g,"").replace(/[ \+]+/g," ").toUpperCase()}var ae,se=["searchText","selectableSelectedStudyIds","dataTypePriority","selectedProfileIds","zScoreThreshold","rppaScoreThreshold","selectedSampleListId","caseIds","caseIdsMode","geneQuery","genesetQuery"];!function(e){e[e.Unfocused=0]="Unfocused",e[e.ShouldFocus=1]="ShouldFocus",e[e.Focused=2]="Focused"}(ae||(ae={}));var le=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.studiesHaveChangedSinceInitialization=!1,this.deletedVirtualStudies=[],this.forDownloadTab=!1,this.transposeDataMatrix=!1,this.searchText="",this._allSelectedStudyIds=i.observable.map(),this._defaultSelectedIds=i.observable.map(),this.dataTypePriority={mutation:!0,cna:!0},this._selectedProfileIds=void 0,this.zScoreThreshold="2.0",this.rppaScoreThreshold="2.0",this._selectedSampleListId=void 0,this.caseIds="",this._defaultStudySampleMap={},this._caseIdsMode="sample",this._geneQuery="",this.rawGenesetQuery="",this.geneQueryErrorDisplayStatus=ae.Unfocused,this.genesetQueryErrorDisplayStatus=ae.Unfocused,this.showMutSigPopup=!1,this.showGisticPopup=!1,this.showGenesetsHierarchyPopup=!1,this.showGenesetsVolcanoPopup=!1,this.priorityStudies=v.a.parseConfigFormat(v.b.serverConfig.priority_studies),this.showSelectedStudiesOnly=!1,this.selectedCancerTypeIds=[],this.clickAgainToDeselectSingle=!0,this.searchExampleMessage="",this.volcanoPlotSelectedPercentile={label:"75%",value:"75"},this._maxTreeDepth=parseInt(v.b.serverConfig.skin_query_max_tree_depth,10),this.cancerTypes=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.getAllCancerTypesUsingGET({}).then(function(e){return e.filter(function(e){return"null"!==e.parent})}));case 1:case"end":return e.stop()}},e)}))}},[]),this.cancerStudies=Object(h.W)(o.a.getAllStudiesUsingGET({projection:"SUMMARY"}),[]),this.cancerStudyIdsSet=Object(h.W)({await:function(){return[n.cancerStudies]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.cb)(this.cancerStudies.result.map(function(e){return e.studyId})));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.physicalStudiesIdsSet=Object(h.W)({await:function(){return[n.cancerStudies]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cancerStudies.result.reduce(function(e,t){return e[t.studyId]=[t.studyId],e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.virtualStudiesIdsSet=Object(h.W)({await:function(){return[n.userVirtualStudies]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.userVirtualStudies.result.reduce(function(e,t){return e[t.id]=[t.id],e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.sharedQueriedStudiesSet=Object(h.W)({await:function(){return[n.physicalStudiesIdsSet,n.virtualStudiesIdsSet]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesIdsSet.result,n=this.virtualStudiesIdsSet.result,o=Object.assign({},t,n),i=this._defaultSelectedIds.keys().filter(function(e){return!o[e]}),a={},e.next=7,Promise.all(i.map(function(e){return new Promise(function(n,o){z.a.getVirtualStudy(e).then(function(o){var i=o.data.studies.map(function(e){return e.id}),s=i.filter(function(e){return!t[e]});r.isEmpty(s)&&(a[e]=i),n()}).catch(function(){n()})})}));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}))},default:{}}),this.physicalStudiesSet=Object(h.W)({await:function(){return[n.cancerStudies]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cancerStudies.result.reduce(function(e,t){return e[t.studyId]=t,e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.userVirtualStudies=Object(h.W)(function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.a.sessionServiceIsEnabled()||!this.userLoggedIn){e.next=13;break}return e.prev=1,e.next=4,z.a.getUserVirtualStudies();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:e.next=14;break;case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}},e,this,[[1,8]])}))},[]),this.userVirtualStudiesSet=Object(h.W)({await:function(){return[n.userVirtualStudies]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.userVirtualStudies.result.reduce(function(e,t){return e[t.id]=t,e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.sharedVirtualStudiesSet=Object(h.W)({await:function(){return[n.physicalStudiesSet,n.userVirtualStudiesSet]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesSet.result,n=this.userVirtualStudiesSet.result,o=Object.assign([],Object.keys(t),Object.keys(n)),i=this._defaultSelectedIds.keys().filter(function(e){return!r.includes(o,e)}),a={},e.next=7,Promise.all(i.map(function(e){return new Promise(function(n,r){z.a.getVirtualStudy(e).then(function(r){0===r.data.studies.map(function(e){return e.id}).filter(function(e){return!t[e]}).length&&(a[e]=r),n()}).catch(function(){n()})})}));case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}))},default:{}}),this.selectedStudyToSampleSet=Object(h.W)({await:function(){return[n.userVirtualStudiesSet,n.sharedVirtualStudiesSet]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},n=r.filter(this.allSelectedStudyIds,function(e){return a.physicalStudiesSet.result[e]}),this._allSelectedStudyIds.keys().length===n.length){e.next=9;break}return e.next=5,Promise.all(r.map(n,function(e){return o.a.getAllSamplesInStudyUsingGET({studyId:e}).then(function(n){t[e]=Object(h.cb)(n.map(function(e){return e.sampleId}))})}));case 5:i=Object.assign({},this.userVirtualStudiesSet.result,this.sharedVirtualStudiesSet.result),this._allSelectedStudyIds.keys().forEach(function(e){i[e]&&i[e].data.studies.forEach(function(e){void 0===t[e.id]&&(t[e.id]=Object(h.cb)(e.samples))})}),e.next=10;break;case 9:n.forEach(function(e){t[e]={}});case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)}))},default:{}}),this.selectableStudiesSet=Object(h.W)({await:function(){return[n.physicalStudiesSet,n.selectedStudyToSampleSet]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r.each(this.physicalStudiesSet.result,function(e,n){t[n]=[n]}),r.each(this.userVirtualStudiesSet.result,function(e,n){t[n]=[n]}),r.each(this.sharedVirtualStudiesSet.result,function(e,n){t[n]=e.data.studies.map(function(e){return e.id})}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))},default:{},onResult:function(){if(n.selectedSampleListId!==re){var e=n.sharedVirtualStudiesSet.result,t=r.filter(n._allSelectedStudyIds.keys(),function(t){return void 0!==e[t]});if(r.isEmpty(t))n.caseIds="";else{var o=n._defaultStudySampleMap;(void 0===o||r.isEmpty(o))&&(o=r.reduce(n.selectedStudyToSampleSet.result,function(e,t,n){return e[n]=r.keys(t),e},{})),r.some(o,function(e){return e.length>0})&&n.setCaseIds(o)}}}}),this.unknownStudyIds=Object(h.W)({await:function(){return[n.selectableStudiesSet]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectableStudiesSet.result,n=this._allSelectedStudyIds.keys(),e.abrupt("return",n.filter(function(e){return!(e in t)}));case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.molecularProfiles=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.physicalStudyIdsInSelection.length){e.next=6;break}return e.next=3,o.a.getAllMolecularProfilesInStudyUsingGET({studyId:this.physicalStudyIdsInSelection[0]});case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.profileIds&&!n.studiesHaveChangedSinceInitialization||(n._selectedProfileIds=void 0)}}),this.molecularProfilesInSelectedStudies=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.molecularProfilesInStudyCache.getPromise(this.physicalStudyIdsInSelection,!0);case 2:return t=e.sent,e.abrupt("return",r.flatten(t.map(function(e){return e.data?e.data:[]})));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.sampleListInSelectedStudies=Object(h.W)({await:function(){return n.physicalStudyIdsInSelection.map(function(e){return n.sampleListsInStudyCache.get(e)})},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reduce(this.physicalStudyIdsInSelection,function(e,n){var o=t.sampleListsInStudyCache.get(n).result;return r.isUndefined(o)||(e=e.concat(o)),e},[]));case 1:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n._selectedSampleListId=void 0)}}),this.profileAvailability=Object(h.W)({await:function(){return[n.molecularProfilesInSelectedStudies]},invoke:function(){return Promise.resolve(A(n.molecularProfilesInSelectedStudies.result))},default:{mutation:!1,cna:!1},onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n.dataTypePriority=A(n.molecularProfilesInSelectedStudies.result))}}),this.profiledSamplesCount=Object(h.W)({await:function(){return[n.sampleListInSelectedStudies]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(this.sampleListInSelectedStudies.result,this.selectableSelectedStudyIds,this.selectedVirtualStudies));case 1:case"end":return e.stop()}},e,this)}))},default:{w_mut:0,w_cna:0,w_mut_cna:0,all:0}}),this.sampleLists=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return this.sampleListsInStudyCache.get(this.selectableSelectedStudyIds[0]).result,e.next=5,this.sampleListsInStudyCache.get(this.selectableSelectedStudyIds[0]).result;case 5:return t=e.sent,e.abrupt("return",r.sortBy(t,function(e){return e.name}));case 7:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n._selectedSampleListId=void 0)}}),this.mutSigForSingleStudy=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,f.a.getSignificantlyMutatedGenesUsingGET({studyId:this.selectableSelectedStudyIds[0]});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.gisticForSingleStudy=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,f.a.getSignificantCopyNumberRegionsUsingGET({studyId:this.selectableSelectedStudyIds[0]});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.genes=Object(h.W)({invoke:function(){return n.invokeGenesLater(n.geneIds)},default:{found:[],suggestions:[]}}),this.genesets=Object(h.W)({invoke:function(){return n.invokeGenesetsLater(n.genesetIds)},default:{found:[],invalid:[]}}),this.invokeGenesLater=Object(d.debounceAsync)(function(e){return ne(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,s,l,c,u,p,h,d,f=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.partition(r.uniq(e),oe),i=Z(n,2),a=i[0],s=i[1],l=function(){return ne(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.length){e.next=6;break}return e.next=3,o.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:a});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=r.difference(a,t.map(function(e){return e.entrezGeneId+""})),i=n.map(function(e){return{alias:e,genes:[]}}),s=t.map(function(e){return{alias:e.entrezGeneId+"",genes:[e]}}),l=[].concat(X(i),X(s)),e.abrupt("return",{found:t,suggestions:l});case 12:case"end":return e.stop()}},e)}))},c=function(){return ne(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.length){e.next=6;break}return e.next=3,o.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:s});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=r.difference(s,t.map(function(e){return e.hugoGeneSymbol})),e.next=10,Promise.all(n.map(function(e){return a.getGeneSuggestions(e)}));case 10:return i=e.sent,e.abrupt("return",{found:t,suggestions:i});case 12:case"end":return e.stop()}},e)}))},t.next=5,Promise.all([l(),c()]);case 5:return u=t.sent,p=Z(u,2),h=p[0],d=p[1],t.abrupt("return",{found:[].concat(X(h.found),X(d.found)),suggestions:[].concat(X(h.suggestions),X(d.suggestions))});case 10:case"end":return t.stop()}},t)}))},500),this.invokeGenesetsLater=Object(d.debounceAsync)(function(e){return ne(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=8;break}return t.next=3,f.a.fetchGenesetsUsingPOST({genesetIds:e});case 3:return n=t.sent,o=r.difference(e,n.map(function(e){return e.genesetId})),t.abrupt("return",{found:n,invalid:o});case 8:return t.abrupt("return",Promise.resolve({found:[],invalid:[]}));case 9:case"end":return t.stop()}},t)}))},500),this.asyncCustomCaseSet=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedSampleListId===re&&0!==this.caseIds.trim().length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",this.invokeCustomCaseSetLater({isVirtualStudySelected:this.isVirtualStudySelected,caseIds:this.caseIds,caseIdsMode:this.caseIdsMode}));case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.invokeCustomCaseSetLater=Object(d.debounceAsync)(function(e){return ne(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,s,l,c,u,p,d,f,m,y,g,v,b,S,w,C,_,k,x,E,A,O,P,I,M=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",this.isSingleNonVirtualStudySelected&&(n=this.selectableSelectedStudyIds[0]),i=e.caseIds.trim().split(/\s+/g),a=Object(h.cb)(this.physicalStudyIdsInSelection),s=i.map(function(e){var t=e.split(":");if(1===t.length){if(n)return{id:e,study:n};throw new Error("No study specified for ".concat(M.caseIdsMode," id: ").concat(e,", and more than one study selected for query."))}if(2===t.length){var r=t[0],o=t[1];if(!a[r]){var i="";throw M.isVirtualStudySelected&&(i=", nor part of a selected Saved Study"),new Error("Study ".concat(r," is not selected").concat(i,"."))}return{id:o,study:r}}throw new Error("Input error for entity: ".concat(e,"."))}),l=Object(h.ab)(s.map(function(e){return"".concat(e.study,":").concat(e.id)})),c=[],u={},p=[],"sample"!==e.caseIdsMode){t.next=37;break}if(!(d=s.map(function(e){return{studyId:e.study,sampleId:e.id}})).length){t.next=35;break}return t.next=14,T(d,function(e){return o.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:e},projection:"SUMMARY"})},990);case 14:for(f=t.sent,f=r.sortBy(f,function(e){return l["".concat(e.studyId,":").concat(e.sampleId)]}),m=!0,y=!1,g=void 0,t.prev=19,v=f[Symbol.iterator]();!(m=(b=v.next()).done);m=!0)S=b.value,c.push({studyId:S.studyId,sampleId:S.sampleId}),u["".concat(S.studyId,":").concat(S.sampleId)]=!0;t.next=27;break;case 23:t.prev=23,t.t0=t.catch(19),y=!0,g=t.t0;case 27:t.prev=27,t.prev=28,m||null==v.return||v.return();case 30:if(t.prev=30,!y){t.next=33;break}throw g;case 33:return t.finish(30);case 34:return t.finish(27);case 35:t.next=61;break;case 37:return w=s.map(function(e){return M.getSamplesForStudyAndPatient(e.study,e.id)}),t.next=40,Promise.all(w);case 40:for(C=t.sent,C=r.sortBy(C,function(e){return l["".concat(e.studyId,":").concat(e.patientId)]}),_=!0,k=!1,x=void 0,t.prev=45,E=C[Symbol.iterator]();!(_=(A=E.next()).done);_=!0)O=A.value,O.studyId,O.patientId,P=O.samples,!O.error&&P.length&&(c=c.concat(P.map(function(e){return u["".concat(e.studyId,":").concat(e.patientId)]=!0,{studyId:e.studyId,sampleId:e.sampleId}})));t.next=53;break;case 49:t.prev=49,t.t1=t.catch(45),k=!0,x=t.t1;case 53:t.prev=53,t.prev=54,_||null==E.return||E.return();case 56:if(t.prev=56,!k){t.next=59;break}throw x;case 59:return t.finish(56);case 60:return t.finish(53);case 61:if(p=p.concat(s.filter(function(e){return!u["".concat(e.study,":").concat(e.id)]})),I=this.selectedStudyToSampleSet.result,c.forEach(function(e){I[e.studyId]&&!r.isEmpty(I[e.studyId])&&(I[e.studyId][e.sampleId]||p.push({id:e.sampleId,study:e.studyId}))}),!p.length){t.next=70;break}if(!this.isSingleNonVirtualStudySelected){t.next=69;break}throw new Error("Invalid ".concat(e.caseIdsMode).concat(p.length>1?"s":""," for the selected cancer study: ").concat(p.map(function(e){return e.id}).join(", ")));case 69:throw new Error("Invalid (study, ".concat(e.caseIdsMode,") pair").concat(p.length>1?"s":"",": ").concat(p.map(function(e){return"(".concat(e.study,", ").concat(e.id,")")}).join(", "),"\n\t\t\t\t\t\t"));case 70:return t.abrupt("return",c);case 71:case"end":return t.stop()}},t,this,[[19,23,27,35],[28,,30,34],[45,49,53,61],[54,,56,60]])}))},500),this.studyListLogic=new _.b(this),this.hierarchyData=Object(h.W)({invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.S)(this.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId,Number(this.volcanoPlotSelectedPercentile.value),0,1,this.defaultSelectedSampleListId);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}}),this.volcanoPlotTableData=Object(h.W)({await:function(){return[n.hierarchyData]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V(this.hierarchyData.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.map_genesets_selected_volcano=new i.ObservableMap,this.dict_molecularAlterationType_filenameSuffix={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"cna",MRNA_EXPRESSION:"mrna",METHYLATION:"methylation",METHYLATION_BINARY:"methylation",PROTEIN_LEVEL:"rppa"},this.asyncUrlParams=Object(h.W)({await:function(){return[n.asyncCustomCaseSet]},invoke:function(){return ne(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(this));case 1:case"end":return e.stop()}},e,this)}))}}),this.initiallySelected={profileIds:!1,sampleListId:!1},this.initialize(t)}var t,n,a;return t=e,(n=[{key:"initialize",value:function(e){var t=this;Object(d.labelMobxPromises)(this),e&&this.setParamsFromUrl(e);var n=localStorage.getItem("legacyStudySubmission");if(localStorage.removeItem("legacyStudySubmission"),n)try{this.setParamsFromLocalStorage(JSON.parse(n))}catch(e){throw"error parseing/setting legacyStudySubmission"}Object(i.reaction)(function(){return t.allSelectedStudyIds},function(){t.studiesHaveChangedSinceInitialization=!0})}},{key:"deleteVirtualStudy",value:function(e){var t=this;z.a.deleteVirtualStudy(e).then(Object(i.action)(function(){t.deletedVirtualStudies.push(e),-1!==t.selectableSelectedStudyIds.indexOf(e)&&(t.selectableSelectedStudyIds=r.difference(t.selectableSelectedStudyIds,[e]))}),Object(i.action)(function(e){}))}},{key:"restoreVirtualStudy",value:function(e){var t=this;z.a.addVirtualStudy(e).then(Object(i.action)(function(){t.deletedVirtualStudies=t.deletedVirtualStudies.filter(function(t){return t!==e})}),Object(i.action)(function(e){}))}},{key:"copyFrom",value:function(e){this.forDownloadTab=!1;for(var t=0,n=se;t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:"setStudyIdSelected",value:function(e,t){if(this.forDownloadTab){var n={};t&&(n[e]=t),this._allSelectedStudyIds=i.observable.map(n)}else t?this._allSelectedStudyIds.set(e,!0):this._allSelectedStudyIds.delete(e)}},{key:"setCaseIds",value:function(e){this.selectedSampleListId=re,this.caseIdsMode="sample",this.caseIds=r.flatten(Object.keys(e).map(function(t){return e[t].map(function(e){return"".concat(t,":").concat(e)})})).join("\n")}},{key:"getGeneSuggestions",value:function(e){return ne(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,o.a.getAllGenesUsingGET({alias:e});case 3:return t.t1=t.sent,t.abrupt("return",{alias:t.t0,genes:t.t1});case 5:case"end":return t.stop()}},t)}))}},{key:"getSamplesForStudyAndPatient",value:function(e,t){return o.a.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t}).then(function(n){return{studyId:e,patientId:t,samples:n,error:void 0}},function(n){return{studyId:e,patientId:t,samples:[],error:n}})}},{key:"isVirtualStudy",value:function(e){return!this.cancerStudyIdsSet.result[e]}},{key:"isDeletedVirtualStudy",value:function(e){return!!(this.isVirtualStudy(e)&&this.deletedVirtualStudies.indexOf(e)>-1)}},{key:"isSingleStudySelected",value:function(e){if(1!==this.selectableSelectedStudyIds.length)return!1;var t=this.selectableSelectedStudyIds[0];return this.isVirtualStudy(t)===e}},{key:"calculateDataTypePriorityCode",value:function(e){var t=e.mutation,n=e.cna;return t&&n?"0":t?"1":n?"2":"0"}},{key:"getFilteredProfiles",value:function(e){var t=this;return this.molecularProfiles.result.filter(function(n){return n.molecularAlterationType==e&&(n.showProfileInAnalysisTab||t.forDownloadTab)})}},{key:"isProfileSelected",value:function(e){return r.includes(this.selectedProfileIds,e)}},{key:"getSelectedProfileIdFromMolecularAlterationType",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=(t||this.selectedProfileIds)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.dict_molecularProfileId_molecularProfile[s];if(l&&l.molecularAlterationType===e)return l.molecularProfileId}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return""}},{key:"sanitizeQueryParams",value:function(e){return e?decodeURIComponent(e).replace(/\+/g,"\n"):""}},{key:"setParamsFromUrl",value:function(e){var t;"string"==typeof e?t=w.a.parse(e,!0).query:t=e;var n=[t.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,t.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,t.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,t.genetic_profile_ids_PROFILE_METHYLATION,t.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,t.genetic_profile_ids_PROFILE_GENESET_SCORE,t.genetic_profile_ids_PROFILE_GENERIC_ASSAY],o=t.cancer_study_list?t.cancer_study_list.split(","):t.cancer_study_id?[t.cancer_study_id]:[];this.selectableSelectedStudyIds=o,this._defaultSelectedIds=i.observable.map(Object(h.cb)(o)),this._selectedProfileIds=n.every(function(e){return void 0===e})?void 0:n.filter(r.identity),this.zScoreThreshold=t.Z_SCORE_THRESHOLD||"2.0",this.rppaScoreThreshold=t.RPPA_SCORE_THRESHOLD||"2.0",this.dataTypePriorityCode=t.data_priority||t.profileFilter||"0",this.selectedSampleListId=t.case_set_id?t.case_set_id.toString():"",this.caseIds=this.sanitizeQueryParams(t.case_ids),this.caseIdsMode="sample",this.geneQuery=ie(decodeURIComponent(t.gene_list||"")),this.genesetQuery=ie(decodeURIComponent(t[Q.a.geneset_list]||"")),this.forDownloadTab="tab_download"===t.tab_index,this.initiallySelected.profileIds=!0,this.initiallySelected.sampleListId=!0}},{key:"setParamsFromLocalStorage",value:function(e){var t=e.case_ids;if(t&&e.case_set_id==re&&(this.selectedSampleListId=re,this.caseIdsMode="sample",this.caseIds=t.replace(/\+/g,"\n"),this.initiallySelected.sampleListId=!0),e.cancer_study_list){var n=!0,r=!1,o=void 0;try{for(var i,a=e.cancer_study_list.split(",")[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;"null"!==s&&(this.setStudyIdSelected(s,!0),this._defaultSelectedIds.set(s,!0))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}}},{key:"selectCancerType",value:function(e,t){var n=e.cancerTypeId;t?r.includes(this.selectedCancerTypeIds,n)?this.selectedCancerTypeIds=r.difference(this.selectedCancerTypeIds,[n]):this.selectedCancerTypeIds=r.union(this.selectedCancerTypeIds,[n]):this.clickAgainToDeselectSingle&&r.isEqual(Object(i.toJS)(this.selectedCancerTypeIds),[n])?this.selectedCancerTypeIds=[]:this.selectedCancerTypeIds=[n]}},{key:"setSearchText",value:function(e){this.clearSelectedCancerType(),this.searchText=e}},{key:"clearSelectedCancerType",value:function(){this.selectedCancerTypeIds=[]}},{key:"selectMolecularProfile",value:function(e,t){var n=this.getFilteredProfiles(e.molecularAlterationType).map(function(e){return e.molecularProfileId});if(this.forDownloadTab)this._selectedProfileIds=[e.molecularProfileId];else{var o=r.difference(this.selectedProfileIds,n);this._selectedProfileIds=t?r.union(o,[e.molecularProfileId]):o}}},{key:"replaceGene",value:function(e,t){this.geneQuery=ie(this.geneQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}))}},{key:"replaceGeneset",value:function(e,t){this.genesetQuery=ie(this.genesetQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}))}},{key:"applyGeneSelection",value:function(e){var t=Z(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=t[1];n=r.difference(n,this.geneIds),o=r.intersection(o,this.geneIds);var i=!0,a=!1,s=void 0;try{for(var l,c=o[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;this.replaceGene(u,"")}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}this.geneQuery=ie([this.geneQuery].concat(X(n)).join(" "))}},{key:"addToGenesetSelection",value:function(e){var t=Z(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=(t[1],r.union(n,this.genesetIds).join(" "));this.genesetQuery=ie(o)}},{key:"applyGenesetSelection",value:function(e){var t=Z(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=t[1],i=this.genesetQuery;if(n.length>0){var a=[],s=!0,l=!1,c=void 0;try{for(var u,p=n[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;a.push(h)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}i=a.join(" ")}if(o.length>0){var d=i.split(" "),f=!0,m=!1,y=void 0;try{for(var g,v=o[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value,S=!0,w=!1,C=void 0;try{for(var _,k=d[Symbol.iterator]();!(S=(_=k.next()).done);S=!0){var T=_.value;if(b===T){var x=d.indexOf(T);x>=0&&d.splice(x,1)}}}catch(e){w=!0,C=e}finally{try{S||null==k.return||k.return()}finally{if(w)throw C}}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}i=d.join(" ")}i=ie(i),this.genesetQuery=i}},{key:"submit",value:function(){if(this.oql.error)return this.geneQueryErrorDisplayStatus=ae.ShouldFocus,this.genesetQueryErrorDisplayStatus=ae.ShouldFocus,!1;if(!this.submitEnabled||!this.asyncUrlParams.isComplete)return!1;var e=this.asyncUrlParams.result;return this.forDownloadTab?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post",o=document.createElement("form"),i=r;"smart"===r&&(i=Object(C.b)(e,t).length>1800?"post":"get"),o.setAttribute("method",i),o.setAttribute("action",e),n&&o.setAttribute("target",n);for(var a=0,s=Object.keys(t);a<s.length;a++){var l=s[a],c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",l),c.setAttribute("value",t[l]),o.appendChild(c)}document.body.appendChild(o),o.submit()}(Object(C.b)("data_download"),e.query,void 0,"smart"):this.singlePageAppSubmitRoutine(e.query),!0}},{key:"openSummary",value:function(){this.summaryEnabled&&Object(C.C)(this.selectableSelectedStudyIds)}},{key:"virtualStudiesMap",get:function(){return r.keyBy(this.userVirtualStudies.result,function(e){return e.id})}},{key:"selectedVirtualStudies",get:function(){var e=this;return r.reduce(this.selectableSelectedStudies,function(t,n){return e.isVirtualStudy(n.studyId)&&void 0!==e.virtualStudiesMap&&e.virtualStudiesMap[n.studyId]&&t.push(e.virtualStudiesMap[n.studyId]),t},[])}},{key:"physicalStudyIdsInSelection",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.selectableSelectedStudyIds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=this.virtualStudiesMap[a];s?s.data.studies.forEach(function(t){return e[t.id]=!0}):e[a]=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Object.keys(e)}},{key:"stateToSerialize",get:function(){return r.pick(this,se)}},{key:"onlyOneReferenceGenome",get:function(){return 1===r.uniq(this.selectableSelectedStudies.map(function(e){return e.referenceGenome})).length}},{key:"allSelectedStudyIds",get:function(){return this._allSelectedStudyIds.keys()}},{key:"selectableSelectedStudyIds",get:function(){var e=this._allSelectedStudyIds.keys(),t=this.selectableStudiesSet.result;return e=e.reduce(function(e,n){return t[n]?e.concat(t[n]):e},[]),e=r.uniq(e),this.forDownloadTab?e.slice(-1):e},set:function(e){this._allSelectedStudyIds=i.observable.map(Object(h.cb)(e))}},{key:"defaultSelectedIds",get:function(){return this._defaultSelectedIds}},{key:"selectedProfileIds",get:function(){var e,t=this;if(void 0!==this._selectedProfileIds)e=this._selectedProfileIds;else{e=[];for(var n=0,r=["MUTATION_EXTENDED","COPY_NUMBER_ALTERATION"];n<r.length;n++){var o=r[n],i=this.getFilteredProfiles(o);i.length&&e.push(i[0].molecularProfileId)}}return this.forDownloadTab?e.slice(0,1):e.filter(function(e){var n=t.dict_molecularProfileId_molecularProfile[e];return n&&n.showProfileInAnalysisTab})},set:function(e){this._selectedProfileIds=e}},{key:"selectedSampleListId",get:function(){return void 0!==this._selectedSampleListId?this._selectedSampleListId:this.defaultSelectedSampleListId},set:function(e){this._selectedSampleListId=e}},{key:"caseIdsMode",get:function(){return this.selectedSampleListId===re?this._caseIdsMode:"sample"},set:function(e){this._caseIdsMode=e}},{key:"geneQuery",get:function(){return this._geneQuery},set:function(e){this.geneQueryErrorDisplayStatus=ae.Unfocused,this._geneQuery=e}},{key:"genesetQuery",get:function(){return this.rawGenesetQuery.toUpperCase()},set:function(e){this.genesetQueryErrorDisplayStatus=ae.Unfocused,this.rawGenesetQuery=e}},{key:"maxTreeDepth",get:function(){return this.forDownloadTab&&this._maxTreeDepth>0?1:this._maxTreeDepth},set:function(e){this._maxTreeDepth=e}},{key:"userLoggedIn",get:function(){return Object(h.E)().globalStores.appStore.isLoggedIn}},{key:"treeData",get:function(){return new p({cancerTypes:this.cancerTypes.result,studies:this.cancerStudies.result,priorityStudies:this.priorityStudies,virtualStudies:this.forDownloadTab?[]:this.userVirtualStudies.result,maxTreeDepth:this.maxTreeDepth})}},{key:"selectedCancerTypes",get:function(){var e=this;return this.selectedCancerTypeIds.map(function(t){return e.treeData.map_cancerTypeId_cancerType.get(t)}).filter(r.identity)}},{key:"selectableSelectedStudies",get:function(){var e=this;return this.selectableSelectedStudyIds.map(function(t){return e.treeData.map_studyId_cancerStudy.get(t)}).filter(r.identity)}},{key:"isSingleVirtualStudySelected",get:function(){return this.isSingleStudySelected(!0)}},{key:"isSingleNonVirtualStudySelected",get:function(){return this.isSingleStudySelected(!1)}},{key:"isMultipleNonVirtualStudiesSelected",get:function(){var e=this;return this.selectableSelectedStudyIds.filter(function(t){return!e.isVirtualStudy(t)}).length>1}},{key:"getOverlappingStudiesMap",get:function(){var e,t,n=(e=this.selectableSelectedStudies,t=r.reduce(e,function(e,t){if(/_tcga/.test(t.studyId)){var n=t.studyId.replace(/(_\d\d\d\d|_pub|(_pub\d\d\d\d)|_pan_can_atlas_\d\d\d\d)$/g,"");n&&(n in e?e[n].push(t):e[n]=[t])}return e},{}),r.filter(t,function(e){return e.length>1}));return r.chain(n).flatten().keyBy(function(e){return e.studyId}).value()}},{key:"isVirtualStudySelected",get:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=this.selectableSelectedStudyIds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(this.virtualStudiesMap[a]){e=!0;break}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"isVirtualStudyQuery",get:function(){return 0!==this.selectableSelectedStudyIds.length&&(this.selectableSelectedStudyIds.length>1||this.isSingleVirtualStudySelected)}},{key:"dataTypePriorityCode",set:function(e){switch(e){default:case"0":this.dataTypePriority={mutation:!0,cna:!0};break;case"1":this.dataTypePriority={mutation:!0,cna:!1};break;case"2":this.dataTypePriority={mutation:!1,cna:!0}}},get:function(){return this.calculateDataTypePriorityCode(this.dataTypePriority)}},{key:"dict_molecularProfileId_molecularProfile",get:function(){return r.keyBy(this.molecularProfiles.result,function(e){return e.molecularProfileId})}},{key:"isGenesetProfileSelected",get:function(){var e=!1;if(this.getFilteredProfiles("GENESET_SCORE")[0])for(var t in this.selectedProfileIds)this.selectedProfileIds[t]===this.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId&&(e=!0);return e}},{key:"defaultSelectedSampleListId",get:function(){if(this.isVirtualStudyQuery)return"all";if(1===this.selectableSelectedStudyIds.length){var e=this.selectableSelectedStudyIds[0],t=this.getSelectedProfileIdFromMolecularAlterationType("MUTATION_EXTENDED"),n=this.getSelectedProfileIdFromMolecularAlterationType("COPY_NUMBER_ALTERATION"),r=this.getSelectedProfileIdFromMolecularAlterationType("MRNA_EXPRESSION"),o=this.getSelectedProfileIdFromMolecularAlterationType("PROTEIN_LEVEL"),i=e+"_all";return t&&n&&!r&&!o?i=e+"_cnaseq":!t||n||r||o?t||!n||r||o?t||n||!r||o?(t||n)&&r&&!o?i=e+"_3way_complete":t||n||r||!o||(i=e+"_rppa"):this.isProfileSelected(e+"_mrna_median_Zscores")?i=e+"_mrna":this.isProfileSelected(e+"_rna_seq_mrna_median_Zscores")?i=e+"_rna_seq_mrna":this.isProfileSelected(e+"_rna_seq_v2_mrna_median_Zscores")&&(i=e+"_rna_seq_v2_mrna"):i=e+"_cna":i=e+"_sequenced",this.dict_sampleListId_sampleList[i]||(i===e+"_cnaseq"?i=e+"_cna_seq":i===e+"_3way_complete"&&(i=e+"_complete")),this.dict_sampleListId_sampleList[i]||(i=e+"_all"),i}}},{key:"dict_sampleListId_sampleList",get:function(){return r.keyBy(this.sampleLists.result,function(e){return e.sampleListId})}},{key:"oql",get:function(){try{return{query:this.geneQuery?Object(m.g)(this.geneQuery.trim().toUpperCase()):[],error:void 0}}catch(o){if("SyntaxError"!==o.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(o)}};var e,t,n,r=o.location.start.offset;return r===this.geneQuery.length?(e="after",t=r-1,n=r):0===r?(e="before",t=r,n=r+1):(e="at",t=r,n=r+1),{query:[],error:{start:t,end:n,message:"OQL syntax error ".concat(e," selected character; please fix and submit again.")}}}}},{key:"geneIds",get:function(){try{return this.oql.query.map(function(e){return e.gene})}catch(e){return[]}}},{key:"genesetIdsQuery",get:function(){try{return{query:this.genesetQuery?this.genesetQuery.split(/[ \n]+/):[],error:void 0}}catch(o){if("SyntaxError"!==o.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(o)}};var e,t,n,r=o.location.start.offset;return r===this.geneQuery.length?(e="after",t=r-1,n=r):0===r?(e="before",t=r,n=r+1):(e="at",t=r,n=r+1),{query:[],error:{start:t,end:n,message:"OQL syntax error ".concat(e," selected character; please fix and submit again.")}}}}},{key:"genesetIds",get:function(){return this.genesetIdsQuery.query}},{key:"minYVolcanoPlot",get:function(){return this.volcanoPlotTableData.result&&(e=this.volcanoPlotTableData.result).length>0?r.minBy(e,function(e){return e.representativePvalue}).representativePvalue:void 0;var e}},{key:"volcanoPlotGraphData",get:function(){return this.volcanoPlotTableData.result?(e=this.volcanoPlotTableData.result,t=this.map_genesets_selected_volcano,e.length>0?e.map(function(e){var n=e.representativeScore,r=e.representativePvalue,o=e.name;return{x:n,y:-Math.log(r)/Math.log(10),fill:t.get(o)?"tomato":"3786C2"}}):void 0):void 0;var e,t}},{key:"submitEnabled",get:function(){return!this.submitError&&(this.genes.isComplete||this.genesets.isComplete)&&this.asyncUrlParams.isComplete||!!this.oql.error||!!this.genesetIdsQuery.error}},{key:"summaryEnabled",get:function(){return this.selectableSelectedStudyIds.length>0}},{key:"hasSelectedStudies",get:function(){return this.selectableSelectedStudyIds.length>0}},{key:"oqlMessages",get:function(){return r.flatten(this.oql.query.map(function(e){return(e.alterations||[]).filter(function(e){return"mut"===e.alteration_type&&e.info.unrecognized})})).map(function(e){return'Unrecognized input "'.concat(e.constr_val,'" is interpreted as a mutation code.')})}},{key:"approxSampleCount",get:function(){var e=this.selectedSampleListId;if(!e)return this.profiledSamplesCount.result.all;if(e===re)return this.caseIds?Math.max(this.caseIds.trim().split(/\s+/g).length,1):1;var t=this.sampleLists.result.find(function(t){return t.sampleListId===e});return t?t.sampleCount:e in this.profiledSamplesCount.result?this.profiledSamplesCount.result[e]:this.profiledSamplesCount.result.all}},{key:"isQueryLimitReached",get:function(){return this.oql.query.length*this.approxSampleCount>v.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(v.b.serverConfig.query_product_limit/this.approxSampleCount)}},{key:"submitError",get:function(){var e=!1,t=!1,n=!1,o=!1,i=!0,a=!1,s=void 0;try{for(var l,c=this.oql.query[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,p=!0,h=!1,d=void 0;try{for(var f,m=(u.alterations||[])[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;e=e||"mut"===y.alteration_type,t=t||"cna"===y.alteration_type,n=n||"exp"===y.alteration_type,o=o||"prot"===y.alteration_type}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}if(!this.selectableSelectedStudyIds.length)return"Please select one or more cancer studies.";if(this.isSingleNonVirtualStudySelected){if(!this.selectedProfileIds.length)return"Please select one or more molecular profiles.";var g=this.getSelectedProfileIdFromMolecularAlterationType(x.a.MUTATION_EXTENDED),v=this.getSelectedProfileIdFromMolecularAlterationType(x.a.COPY_NUMBER_ALTERATION),b=this.getSelectedProfileIdFromMolecularAlterationType(x.a.MRNA_EXPRESSION),S=this.getSelectedProfileIdFromMolecularAlterationType(x.a.PROTEIN_LEVEL);if(e&&!g)return"Mutation data query specified in OQL, but no mutation profile selected in `Select Genomic Profiles`";if(t&&!v)return"CNA data query specified in OQL, but not CNA profile selected in `Select Genomic Profiles`";if(n&&!b)return"mRNA expression data query specified in OQL, but no mRNA profile selected in `Select Genomic Profiles`";if(o&&!S)return"Protein level data query specified in OQL, but no protein level profile selected in `Select Genomic Profiles`"}else if(!this.dataTypePriority.mutation&&!this.dataTypePriority.cna)return"Please select one or more molecular profiles.";if(this.selectableSelectedStudyIds.length&&this.selectedSampleListId===re){if(this.asyncCustomCaseSet.isComplete&&!this.asyncCustomCaseSet.result.length)return"Please enter at least one ID in your custom case set.";if(this.asyncCustomCaseSet.error)return"Error in custom case set."}else{if(n&&this.selectableSelectedStudyIds.length>1)return"Expression filtering in the gene list (the EXP command) is not supported when doing cross cancer queries.";if(o&&this.selectableSelectedStudyIds.length>1)return"Protein level filtering in the gene list (the PROT command) is not supported when doing cross cancer queries."}if(0!==this.selectedProfileIds.length){if(1===this.selectedProfileIds.length){if(this.isGenesetProfileSelected){if(!this.genesetQuery.length&&!this.oql.query.length)return"Please enter one or more gene symbols and gene sets.";if(!this.genesetQuery.length)return"Please enter one or more gene sets or deselect gene set profiles.";if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(this.isGenesetProfileSelected){if(!this.genesetQuery.length&&!this.oql.query.length)return"Please enter one or more gene symbols and gene sets.";if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols.";if(this.isQueryLimitReached)return"Please limit your queries to ".concat(this.geneLimit," genes or fewer.");if(this.genes.result.suggestions.length)return"Please edit the gene symbols.";var w=r.groupBy(this.genes.result.found,function(e){return e.hugoGeneSymbol});return r.some(w,function(e){return e.length>1})?"Please edit the gene symbols.":void 0}},{key:"downloadDataFilename",get:function(){var e=1===this.selectableSelectedStudyIds.length&&this.treeData.map_studyId_cancerStudy.get(this.selectableSelectedStudyIds[0]),t=this.dict_molecularProfileId_molecularProfile[this.selectedProfileIds[0]];if(!this.forDownloadTab||!e||!t)return"cbioportal-data.txt";var n=this.dict_molecularAlterationType_filenameSuffix[t.molecularAlterationType]||t.molecularAlterationType.toLowerCase();return"cbioportal-".concat(e.studyId,"-").concat(n,".txt")}},{key:"molecularProfilesInStudyCache",get:function(){return new G}},{key:"sampleListsInStudyCache",get:function(){return new Y}}])&&J(t.prototype,n),a&&J(t,a),e}();te([i.observable],le.prototype,"studiesHaveChangedSinceInitialization",void 0),te([i.observable],le.prototype,"deletedVirtualStudies",void 0),te([i.computed],le.prototype,"virtualStudiesMap",null),te([i.computed],le.prototype,"selectedVirtualStudies",null),te([i.computed],le.prototype,"physicalStudyIdsInSelection",null),te([i.computed],le.prototype,"stateToSerialize",null),te([i.computed],le.prototype,"onlyOneReferenceGenome",null),te([i.observable],le.prototype,"forDownloadTab",void 0),te([i.observable],le.prototype,"transposeDataMatrix",void 0),te([i.observable],le.prototype,"searchText",void 0),te([i.observable],le.prototype,"_allSelectedStudyIds",void 0),te([i.computed],le.prototype,"allSelectedStudyIds",null),te([i.computed],le.prototype,"selectableSelectedStudyIds",null),te([i.action],le.prototype,"setStudyIdSelected",null),te([i.computed],le.prototype,"defaultSelectedIds",null),te([i.observable],le.prototype,"dataTypePriority",void 0),te([i.observable.ref],le.prototype,"_selectedProfileIds",void 0),te([i.computed],le.prototype,"selectedProfileIds",null),te([i.observable],le.prototype,"zScoreThreshold",void 0),te([i.observable],le.prototype,"rppaScoreThreshold",void 0),te([i.observable],le.prototype,"_selectedSampleListId",void 0),te([i.computed],le.prototype,"selectedSampleListId",null),te([i.observable],le.prototype,"caseIds",void 0),te([i.observable],le.prototype,"_defaultStudySampleMap",void 0),te([i.observable],le.prototype,"_caseIdsMode",void 0),te([i.computed],le.prototype,"caseIdsMode",null),te([i.observable],le.prototype,"_geneQuery",void 0),te([i.observable],le.prototype,"rawGenesetQuery",void 0),te([i.observable],le.prototype,"geneQueryErrorDisplayStatus",void 0),te([i.observable],le.prototype,"genesetQueryErrorDisplayStatus",void 0),te([i.observable],le.prototype,"showMutSigPopup",void 0),te([i.observable],le.prototype,"showGisticPopup",void 0),te([i.observable],le.prototype,"showGenesetsHierarchyPopup",void 0),te([i.observable],le.prototype,"showGenesetsVolcanoPopup",void 0),te([i.observable],le.prototype,"priorityStudies",void 0),te([i.observable],le.prototype,"showSelectedStudiesOnly",void 0),te([i.observable.shallow],le.prototype,"selectedCancerTypeIds",void 0),te([i.observable],le.prototype,"clickAgainToDeselectSingle",void 0),te([i.observable],le.prototype,"searchExampleMessage",void 0),te([i.observable],le.prototype,"volcanoPlotSelectedPercentile",void 0),te([i.observable],le.prototype,"_maxTreeDepth",void 0),te([i.computed],le.prototype,"maxTreeDepth",null),te([i.computed],le.prototype,"userLoggedIn",null),te([i.action],le.prototype,"setCaseIds",null),te([g.a],le.prototype,"getGeneSuggestions",null),te([g.a],le.prototype,"getSamplesForStudyAndPatient",null),te([d.cached],le.prototype,"treeData",null),te([i.computed],le.prototype,"selectedCancerTypes",null),te([i.computed],le.prototype,"selectableSelectedStudies",null),te([i.computed],le.prototype,"isSingleVirtualStudySelected",null),te([i.computed],le.prototype,"isSingleNonVirtualStudySelected",null),te([i.computed],le.prototype,"isMultipleNonVirtualStudiesSelected",null),te([i.computed],le.prototype,"getOverlappingStudiesMap",null),te([i.computed],le.prototype,"isVirtualStudySelected",null),te([i.computed],le.prototype,"isVirtualStudyQuery",null),te([i.computed],le.prototype,"dataTypePriorityCode",null),te([i.computed],le.prototype,"dict_molecularProfileId_molecularProfile",null),te([i.computed],le.prototype,"defaultSelectedSampleListId",null),te([i.computed],le.prototype,"dict_sampleListId_sampleList",null),te([i.computed],le.prototype,"oql",null),te([i.computed],le.prototype,"geneIds",null),te([i.computed],le.prototype,"genesetIdsQuery",null),te([i.computed],le.prototype,"genesetIds",null),te([i.computed],le.prototype,"minYVolcanoPlot",null),te([i.observable],le.prototype,"map_genesets_selected_volcano",void 0),te([i.computed],le.prototype,"volcanoPlotGraphData",null),te([i.computed],le.prototype,"submitEnabled",null),te([i.computed],le.prototype,"summaryEnabled",null),te([i.computed],le.prototype,"hasSelectedStudies",null),te([i.computed],le.prototype,"oqlMessages",null),te([i.computed],le.prototype,"approxSampleCount",null),te([i.computed],le.prototype,"isQueryLimitReached",null),te([i.computed],le.prototype,"geneLimit",null),te([i.computed],le.prototype,"submitError",null),te([i.computed],le.prototype,"downloadDataFilename",null),te([i.action],le.prototype,"setParamsFromUrl",null),te([i.action],le.prototype,"setParamsFromLocalStorage",null),te([i.action],le.prototype,"selectCancerType",null),te([i.action],le.prototype,"setSearchText",null),te([i.action],le.prototype,"clearSelectedCancerType",null),te([i.action],le.prototype,"selectMolecularProfile",null),te([i.action],le.prototype,"replaceGene",null),te([i.action],le.prototype,"replaceGeneset",null),te([i.action],le.prototype,"applyGeneSelection",null),te([i.action],le.prototype,"addToGenesetSelection",null),te([i.action],le.prototype,"applyGenesetSelection",null),te([i.action],le.prototype,"submit",null),te([i.action],le.prototype,"openSummary",null),te([d.cached],le.prototype,"molecularProfilesInStudyCache",null),te([d.cached],le.prototype,"sampleListsInStudyCache",null);var ce=Object(b.a)(le)},function(e,t,n){"use strict";n.d(t,"f",function(){return w}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return C}),n.d(t,"t",function(){return _}),n.d(t,"l",function(){return T}),n.d(t,"e",function(){return x}),n.d(t,"p",function(){return A}),n.d(t,"g",function(){return O}),n.d(t,"c",function(){return P}),n.d(t,"k",function(){return I}),n.d(t,"s",function(){return M}),n.d(t,"m",function(){return D}),n.d(t,"v",function(){return L}),n.d(t,"w",function(){return N}),n.d(t,"u",function(){return R}),n.d(t,"d",function(){return j}),n.d(t,"n",function(){return F}),n.d(t,"h",function(){return G}),n.d(t,"q",function(){return B}),n.d(t,"r",function(){return z}),n.d(t,"o",function(){return V}),n.d(t,"x",function(){return H}),n.d(t,"j",function(){return q}),n.d(t,"i",function(){return W});var r=n(5),o=n(578),i=n(560),a=n(635),s=n.n(a),l=n(550),c=n(548),u=n(4),p=n(7),h=n.n(p),d=n(161),f=n(592),m=n(586),y=n(628),g=n(552);function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b,S=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function w(e){var t=!1,n={},r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t=t||!!l.driverFilter,l.driverTiersFilter&&(n[l.driverTiersFilter]=!0)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return{hasBinary:t,tiers:Object.keys(n)}}!function(e){e.SAMPLE="sample",e.PATIENT="patient"}(b||(b={}));var C="hg19",_=Object(r.action)(function(e,t,n,r,o){var i=!0,a=!1,s=void 0;try{for(var l,c=e.tiers[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;t.driverTiers.set(u,n)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}r&&(t.oncoKb=!0),o&&(t.hotspots=!0)});function k(e,t){var n=!!(t.oncoKb||t.hotspots||t.cbioportalCount||t.cosmicCount||t.customDriverBinary||t.customDriverTier);return Object.assign({putativeDriver:n,isHotspot:t.hotspots,oncoKbOncogenic:t.oncoKb,simplifiedMutationType:Object(o.c)(e.mutationType)},e)}function T(e,t,n){var r=[],o=[],i=[],a=[],s=!0,l=!1,c=void 0;try{for(var u,p=e[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value,d=k(h,t(h));d.hugoGeneSymbol=n[h.entrezGeneId].hugoGeneSymbol;var f=!Object(g.o)(h),m=!d.putativeDriver;f&&m?i.push(d):f?o.push(d):m?r.push(d):a.push(d)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return{data:a,vus:r,germline:o,vusAndGermline:i}}function x(e,t,n){var r=e.data;return t||(r=r.concat(e.vus)),n||(r=r.concat(e.germline)),t||n||(r=r.concat(e.vusAndGermline)),r}var E=["likely oncogenic","predicted oncogenic","oncogenic"];function A(e){return E.indexOf((e.oncogenic||"").toLowerCase())>-1?e.oncogenic:""}function O(e,t,n,r,o){var i=h.a.keyBy(o,function(e){return e.entrezGeneId}),a=h.a.mapValues(h.a.keyBy(t,function(e){return e.genePanelId}),function(e){return e.genes.filter(function(e){return!!i[e.entrezGeneId]})}),s=h.a.reduce(n,function(e,t){return e[t.uniqueSampleKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),l=h.a.reduce(r,function(e,t){return e[t.uniquePatientKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),c=[],u=!0,p=!1,d=void 0;try{for(var f,m=e[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var y=f.value,g=s[y.uniqueSampleKey],v=l[y.uniquePatientKey],b=y.genePanelId;if(y.profiled)if(b){if(a[b]){var S=!0,w=!1,C=void 0;try{for(var _,k=a[b][Symbol.iterator]();!(S=(_=k.next()).done);S=!0){var T=_.value;g.byGene[T.hugoGeneSymbol]=g.byGene[T.hugoGeneSymbol]||[],g.byGene[T.hugoGeneSymbol].push(y),v.byGene[T.hugoGeneSymbol]=v.byGene[T.hugoGeneSymbol]||[],v.byGene[T.hugoGeneSymbol].push(y)}}catch(e){w=!0,C=e}finally{try{S||null==k.return||k.return()}finally{if(w)throw C}}c.push(y)}}else g.allGenes.push(y),v.allGenes.push(y);else g.notProfiledAllGenes.push(y),v.notProfiledAllGenes.push(y)}}catch(e){p=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}for(var x=0,E=c;x<E.length;x++){var A=E[x],O=s[A.uniqueSampleKey],P=l[A.uniquePatientKey],I=!0,M=!1,D=void 0;try{for(var L,N=o[Symbol.iterator]();!(I=(L=N.next()).done);I=!0){var R=L.value;O.byGene[R.hugoGeneSymbol]||(O.notProfiledByGene[R.hugoGeneSymbol]=O.notProfiledByGene[R.hugoGeneSymbol]||[],O.notProfiledByGene[R.hugoGeneSymbol].push(A)),P.byGene[R.hugoGeneSymbol]||(P.notProfiledByGene[R.hugoGeneSymbol]=P.notProfiledByGene[R.hugoGeneSymbol]||[],P.notProfiledByGene[R.hugoGeneSymbol].push(A))}}catch(e){M=!0,D=e}finally{try{I||null==N.return||N.return()}finally{if(M)throw D}}}return{samples:s,patients:l}}function P(e,t,n,r){var o=r[e.entrezGeneId].hugoGeneSymbol,i="";if("COPY_NUMBER_ALTERATION"===n[e.molecularProfileId].molecularAlterationType){var a=t(e);a&&(i=A(a))}return Object.assign({oncoKbOncogenic:i,hugoGeneSymbol:o},e)}function I(e,t,n){return S(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,a,s,l,c,u,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(o=[],i={},a=!0,s=!1,l=void 0,r.prev=5,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)p=u.value,e[p]?o.push(e[p]):i[p]=!0;r.next=13;break;case 9:r.prev=9,r.t0=r.catch(5),s=!0,l=r.t0;case 13:r.prev=13,r.prev=14,a||null==c.return||c.return();case 16:if(r.prev=16,!s){r.next=19;break}throw l;case 19:return r.finish(16);case 20:return r.finish(13);case 21:if(h.a.isEmpty(i)){r.next=25;break}return r.next=24,d.a.fetchStudiesUsingPOST({studyIds:Object.keys(i),projection:"DETAILED"}).then(function(e){e.forEach(function(e){o.push(e),delete i[e.studyId]})}).catch(function(){});case 24:n.filter(function(e){return i[e.id]}).forEach(function(e){var t={allSampleCount:h.a.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:"My Virtual Studies"};o.push(t)});case 25:return r.abrupt("return",o);case 26:case"end":return r.stop()}},r,null,[[5,9,13,21],[14,,16,20]])}))}function M(e,t,n){var r=Object(i.f)(e)?h.a.flatMap(e.list,function(e){return e.data}):e.data;return{samples:Object(l.T)(r,function(e){return e.uniqueSampleKey},t.map(function(e){return e.uniqueSampleKey})),patients:Object(l.T)(r,function(e){return e.uniquePatientKey},n.map(function(e){return e.uniquePatientKey}))}}function D(e,t,n,r,o,a){return Object(i.f)(e)?e.list.map(function(e){return s=e.oql_line,{cases:M(l=Object(i.e)(s,n,r,t)[0],o,a),oql:l};var s,l}):void 0}function L(e){return RegExp("rna_seq_mrna$|rna_seq_v2_mrna$|pan_can_atlas_2018_rna_seq_mrna_median$|pan_can_atlas_2018_rna_seq_v2_mrna_median$").test(e)}function N(e){return/tcga$/.test(e)}function R(e){return/tcga_pan_can_atlas/.test(e)}function j(e,t){var n=["cBioPortal for Cancer Genomics: "];return e.length&&(n.push(e[0]),e.length>1&&(n.push(", "),n.push(e[1])),e.length>2&&(n.push(" and "),n.push((e.length-2).toString()),n.push(" other "),n.push(e.length-2>1?"genes":"gene")),t.length&&(n.push(" in "),n.push(t[0].shortName),t.length>1&&(n.push(" and "),n.push((t.length-1).toString()),n.push(" other "),n.push(t.length-1>1?"studies":"study")))),n.join("")}function F(e){var t=[e.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,e.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,e.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,e.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,e.genetic_profile_ids_PROFILE_GENESET_SCORE,e.genetic_profile_ids_GENERIC_ASSAY].filter(function(e){return!!e});return t=t.concat(e.genetic_profile_ids||[]),t=h.a.uniq(t)}function G(e){if(0===e.length)return!1;if("copyNumberSegmentPresent"in e[0])return h.a.some(e,function(e){return!!e.copyNumberSegmentPresent});throw"Passed non-detailed sample projection when detailed expected."}function B(e,t,n,r,o,i){var a={};return e.forEach(function(e,s){if(void 0===e.mergedTrackOqlList){var l=e.oql,c=h.a.keyBy(h.a.map(l.data,function(e){return e.uniqueSampleKey})),u=h.a.keyBy(t.filter(function(e){var t=i[e.studyId]?h.a.intersection(i[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return h.a.some(h.a.map(t,function(t){return Object(m.a)(e.uniqueSampleKey,t,l.gene,r)}),function(e){return!1===e})}).map(function(e){return e.uniqueSampleKey}));a[z(s,n,l)]=t.map(function(e){return e.uniqueSampleKey in u?y.a.UNPROFILED:e.uniqueSampleKey in c?y.a.ALTERED:y.a.UNALTERED})}else{var p=e.oql,d=h.a.keyBy(h.a.map(h.a.flatten(h.a.map(p.list,function(e){return e.data})),function(e){return e.uniqueSampleKey})),f=h.a.map(p.list,function(e){return e.gene}),g=h.a.keyBy(t.filter(function(e){var t=i[e.studyId]?h.a.intersection(i[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return h.a.some(h.a.map(t,function(t){return h.a.every(h.a.map(f,function(n){return Object(m.a)(e.uniqueSampleKey,t,n,r)}),function(e){return!1===e})}),function(e){return!0===e})}).map(function(e){return e.uniqueSampleKey}));a[V(p)]=t.map(function(e){return e.uniqueSampleKey in g?y.a.UNPROFILED:e.uniqueSampleKey in d?y.a.ALTERED:y.a.UNALTERED})}}),a}function z(e,t,n){return!1===s.a.parse(t)[e].alterations?n.gene:n.oql_line.slice(0,-1)}function V(e){return e.label?e.label:h.a.map(e.list,function(e){return e.gene}).join(" / ")}function H(e){var t=this;return Object(u.W)({await:function(){var t=e.await();return e.store&&t.push(e.store.selectedMolecularProfiles),t.push(e.referenceGenesPromise),t},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,a,s,l,c,u,p,d,m,y,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getSelectedProfileMap())){t.next=35;break}return t.next=4,e.fetchData();case 4:for(r=t.sent,e.store&&e.store.selectedMolecularProfiles.result.findIndex(function(e){return void 0!==n[e.studyId]})>-1&&(o=h.a.keyBy(e.store.hugoGeneSymbols,function(e){return e.toUpperCase()}),r=r.filter(function(e){return!(e.hugoGeneSymbol.toUpperCase()in o)})),i=e.referenceGenesPromise.result,a=!0,s=!1,l=void 0,t.prev=10,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)p=u.value,(d=i[p.hugoGeneSymbol])&&(p.cytoband=d.cytoband);t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),s=!0,l=t.t0;case 18:t.prev=18,t.prev=19,a||null==c.return||c.return();case 21:if(t.prev=21,!s){t.next=24;break}throw l;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return m=[],y=[],r.forEach(function(e){void 0===e.pValue?y.push(e):m.push(e)}),g=h.a.sortBy(m,function(e){return e.pValue}),Object(f.a)(g.map(function(e){return e.pValue})).forEach(function(e,t){g[t].qValue=e}),t.abrupt("return",U([].concat(v(g),y)));case 35:return t.abrupt("return",[]);case 36:case"end":return t.stop()}},t,null,[[10,14,18,26],[19,,21,25]])}))}})}function U(e){return h.a.sortBy(e,["pValue","hugoGeneSymbol"])}function q(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[s.uniquePatientKey]={patientId:s.patientId,studyId:s.studyId}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var l={uniquePatientKeys:h.a.uniq(e.map(function(e){return e.uniquePatientKey}))};return d.a.fetchPatientsUsingPOST({patientFilter:l})}function W(e){var t=[c.a.MUTATION_EXTENDED,c.a.FUSION,c.a.STRUCTURAL_VARIANT];return e.filter(function(e){return!t.includes(e.molecularAlterationType)})}},function(e,t,n){e.exports=n(15)(902)},function(e,t,n){"use strict";var r=n(4);t.a=new r.u},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(7),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(t){var n={},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n[l]=e[l]}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}return e}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={}}var t,n,r;return t=e,r=[{key:"from",value:function(t,n){var r=new e,o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r.set(n(c),c)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}}],(n=[{key:"entries",value:function(){return o.a.flatten(o.a.values(this.map))}},{key:"set",value:function(e,t,n){e=a(e,n);var r=this.getEntry(e);return r?(r.value=t,!1):(this.getEntriesWithStringKey(e).push({key:e,value:t}),!0)}},{key:"get",value:function(e,t){e=a(e,t);var n=this.getEntry(e);return n?n.value:void 0}},{key:"has",value:function(e,t){return e=a(e,t),!!this.getEntry(e)}},{key:"clear",value:function(){this.map={}}},{key:"getEntriesWithStringKey",value:function(e){var t=function(e){var t=o.a.keys(e);return o.a.sortBy(t).map(function(t){return"".concat(e,":").concat(e[t])}).join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}},{key:"getEntry",value:function(e){return this.getEntriesWithStringKey(e).find(function(t){return n=t.key,r=e,o.a.isEqual(n,r);var n,r})}}])&&i(t.prototype,n),r&&i(t,r),e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"g",function(){return T}),n.d(t,"e",function(){return x}),n.d(t,"l",function(){return E}),n.d(t,"f",function(){return A}),n.d(t,"k",function(){return O}),n.d(t,"m",function(){return P}),n.d(t,"h",function(){return I}),n.d(t,"q",function(){return M}),n.d(t,"o",function(){return D}),n.d(t,"p",function(){return L}),n.d(t,"r",function(){return N}),n.d(t,"d",function(){return R}),n.d(t,"j",function(){return j}),n.d(t,"i",function(){return F}),n.d(t,"n",function(){return G});var r=n(0),o=n(557),i=n(7),a=n(548),s=n(597),l=n(668),c=n(571),u=n.n(c),p=n(28),h=n.n(p),d=n(584),f=n(585),m=n(669);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,v,b={2:"AMP","-2":"HOMDEL"};function S(e){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(f.a,{text:e,maxLength:20,addTooltip:"never"}))}function w(e,t){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},e,"in",r.createElement(f.a,{text:t,maxLength:20,addTooltip:"never"}))}function C(e){return r.createElement(f.a,{text:e,maxLength:20})}function _(e,t){var n=t.groupsSet[e];return n.alteredCount+" ("+n.alteredPercentage.toFixed(2)+"%)"}function k(e){return 0===e||Math.log10(e)<-10?10:-Math.log10(e)}function T(e,t){return e.filter(function(e){return void 0!==e.pValue&&void 0!==e.qValue&&!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:Object(o.d)(Number(e.logRatio),10),y:k(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function x(e,t,n,r){return e.filter(function(e){return void 0!==e.pValue&&void 0!==e.qValue&&!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.groupsSet[n].alteredPercentage,y:e.groupsSet[r].alteredPercentage,hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio}})}function E(e,t){return e.filter(function(e){return!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.logRatio,y:k(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function A(e,t,n){return e.map(function(e){var r=i.map(e.counts,function(e){var t=e.alteredCount>0&&e.profiledCount>0?e.alteredCount/e.profiledCount*100:0;return Object.assign({},e,{alteredPercentage:t})}),o=i.keyBy(r,function(e){return e.name}),a=void 0,s=void 0;if(2===n.length){var l=o[n[0].name],c=o[n[1].name];if(void 0!==e.pValue){s=Math.log2(l.alteredPercentage/c.alteredPercentage);var u=n[0].nameOfEnrichmentDirection||n[0].name,p=n[1].nameOfEnrichmentDirection||n[1].name;a=s>0?u:p}}else void 0!==e.pValue&&(r.sort(function(e,t){return t.alteredPercentage-e.alteredPercentage}),a=r[0].name);return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:a,groupsSet:o,logRatio:s,value:e.value}})}function O(e,t,n){return e.map(function(e){var r="",o=void 0,a=i.keyBy(e.groupsStatistics,function(e){return e.name});if(2===n.length){var s=a[n[0].name],l=a[n[1].name];o=s.meanExpression-l.meanExpression;var c=n[0].nameOfEnrichmentDirection||n[0].name,u=n[1].nameOfEnrichmentDirection||n[1].name;r=o>0?c:u}else r=e.groupsStatistics.sort(function(e,t){return t.meanExpression-e.meanExpression})[0].name;return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:r,groupsSet:a,logRatio:o}})}function P(e,t,n,r){return e.filter(function(e){var o=!1;return t.forEach(function(t){var n=e.groupsSet[t],r=n.meanExpression||n.alteredPercentage,a=i.reduce(e.groupsSet,function(e,n,o){if(t!==o){var i=n.meanExpression||n.alteredPercentage;e=e&&r>=i}return e},!0);if(a)return o=a,!1}),n&&e.qValue&&(o=o&&e.qValue<.05),r&&(o=o&&r.includes(e.hugoGeneSymbol)),o})}function I(e){var t,n="";return e.forEach(function(e){var r=e.gene.hugoGeneSymbol;r!=t&&(n+=r+": "),"MUTATION_EXTENDED"===e.alterationType?n+="MUT":"PROTEIN_LEVEL"===e.alterationType?n+="RPPA-"+e.alterationSubType.toUpperCase():n+=e.alterationSubType.toUpperCase(),n+="; ",t=r}),n}function M(e){return i.filter(e,function(e){return e.molecularAlterationType===a.a.MUTATION_EXTENDED})}function D(e){return i.filter(e,function(e){return e.molecularAlterationType===a.a.COPY_NUMBER_ALTERATION&&"DISCRETE"===e.datatype})}function L(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.MRNA_EXPRESSION});return Object(s.a)(t)}function N(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.PROTEIN_LEVEL});return Object(s.a)(t)}function R(e,t){var n=[],a=i.keyBy(e,function(e){return e.name}),s={name:t?l.a.TENDENCY:2===e.length?l.a.ENRICHED:l.a.MOST_ENRICHED,render:function(e){var n;if(void 0===e.enrichedGroup||void 0===e.qValue)return r.createElement("span",null,"-");var o=void 0,i=e.qValue<.05;return!t&&i&&(o=a[e.enrichedGroup].color),r.createElement("div",{className:h()(u.a.Tendency,(n={},y(n,u.a.Significant,i),y(n,u.a.ColoredBackground,!!o),n)),style:{backgroundColor:o,color:o&&Object(d.e)(o)}},t?e.enrichedGroup:C(e.enrichedGroup))},filter:function(e,t,n){return(e.enrichedGroup||"").toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup||"-"},download:function(e){return e.enrichedGroup||"-"},tooltip:r.createElement("span",null,"The group with the highest alteration frequency")};if(e.length<2)return[];if(2===e.length){var c=e[0],p=e[1];n.push({name:l.a.LOG_RATIO,render:function(e){return r.createElement("span",null,e.logRatio?Object(o.a)(e.logRatio):"-")},tooltip:r.createElement("span",null,"Log2 based ratio of (pct in ",c.name,"/ pct in"," ",p.name,")"),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(o.a)(e.logRatio)}}),s.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",c.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",p.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(s),e.forEach(function(e){n.push({name:e.name,headerRender:S,render:function(t){return r.createElement("span",null,_(e.name,t))},tooltip:r.createElement("span",null,r.createElement("strong",null,e.name,":")," ",e.description),sortBy:function(t){return function(e,t){return t.groupsSet[e].alteredCount}(e.name,t)},download:function(t){return _(e.name,t)}})}),n}function j(e,t){if(e.length<2)return[];var n=[],a=i.keyBy(e,function(e){return e.name}),s={name:t?m.a.TENDENCY:m.a.EXPRESSED,render:function(e){var n;if(void 0===e.pValue)return r.createElement("span",null,"-");var o=void 0,i=e.qValue<.05;return!t&&i&&(o=a[e.enrichedGroup].color),r.createElement("div",{className:h()(u.a.Tendency,(n={},y(n,u.a.Significant,i),y(n,u.a.ColoredBackground,!!o),n)),style:{backgroundColor:o,color:o&&Object(d.e)(o)}},t?e.enrichedGroup:C(e.enrichedGroup))},filter:function(e,t,n){return e.enrichedGroup.toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup},download:function(e){return e.enrichedGroup},tooltip:r.createElement("span",null,"The group with the highest expression frequency")};if(2===e.length){var l=e[0],c=e[1];n.push({name:m.a.LOG_RATIO,render:function(e){return r.createElement("span",null,Object(o.a)(e.logRatio))},tooltip:r.createElement("span",null,"Log2 of ratio of (unlogged) mean in ",l.name," to (unlogged) mean in ",c.name),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(o.a)(e.logRatio)}}),s.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",l.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",c.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(s),e.forEach(function(e){n.push({name:e.name,headerRender:function(e){return w("",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name].meanExpression.toFixed(2))},tooltip:r.createElement("span",null,"Mean log2 expression of the listed gene in"," ",e.description),sortBy:function(t){return t.groupsSet[e.name].meanExpression},download:function(t){return t.groupsSet[e.name].meanExpression.toFixed(2)},uniqueName:e.name+m.a.MEAN_SUFFIX}),n.push({name:e.name,headerRender:function(e){return w("",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name].standardDeviation.toFixed(2))},tooltip:r.createElement("span",null,"Standard deviation of log2 expression of the listed gene in"," ",e.description),sortBy:function(t){return t.groupsSet[e.name].standardDeviation},download:function(t){return t.groupsSet[e.name].standardDeviation.toFixed(2)},uniqueName:e.name+m.a.STANDARD_DEVIATION_SUFFIX})}),n}function F(e,t){var n={};if(i.isEmpty(t))return[];var r=i.reduce(t,function(t,r){var o=e[r];return o&&i.each(o.groupsSet,function(e){var i=e.name;t[i]||(t[i]={});var a=r+(o.qValue&&o.qValue<.05?"*":"");t[i][a]=e.alteredPercentage,n[a]=!0}),t},{}),o={};return i.forEach(n,function(e,t){var n=0;i.forEach(r,function(e){e[t]=e[t]||0,n+=e[t]}),o[t]=n}),i.map(r,function(e,t){return{minorCategory:t,counts:i.map(e,function(e,t){var n=e/o[t]*100;return{majorCategory:t,count:e,percentage:parseFloat(n.toFixed(2))}})}})}function G(e,t){if(i.isEmpty(e))return[{label:g.USER_DEFINED_OPTION,genes:[]}];var n=e;t&&(n=i.map(n,function(e){return Object.assign({},e,{optionName:e.hugoGeneSymbol+": ".concat(b[e.value])})}));var r=i.clone(n).sort(function(e,t){var n=i.reduce(e.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0);return i.reduce(t.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0)-n}),o=i.clone(n).sort(function(e,t){var n=i.sumBy(i.values(e.groupsSet),function(e){return e.alteredPercentage})/i.keys(e.groupsSet).length;return i.sumBy(i.values(t.groupsSet),function(e){return e.alteredPercentage})/i.keys(t.groupsSet).length-n}),a=i.clone(n).sort(function(e,t){return void 0!==e.pValue&&void 0!==t.pValue?0:void 0!==e.pValue?1:void 0!==t.pValue?-1:Number(e.pValue)-Number(t.pValue)});return[{label:g.USER_DEFINED_OPTION,genes:[]},{label:g.HIGHEST_FREQUENCY,genes:i.map(r,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.AVERAGE_FREQUENCY,genes:i.map(o,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.SIGNIFICANT_P_VALUE,genes:i.map(a,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.SYNC_WITH_TABLE,genes:[]}]}!function(e){e.USER_DEFINED_OPTION="User-defined genes",e.HIGHEST_FREQUENCY="Genes with highest frequency in any group",e.AVERAGE_FREQUENCY="Genes with highest average frequency",e.SIGNIFICANT_P_VALUE="Genes with most significant p-value",e.SYNC_WITH_TABLE="Sync with table (up to 100 genes)"}(g||(g={})),function(e){e.MUTATION="MUTATION",e.COPY_NUMBER="COPY_NUMBER"}(v||(v={}))},,function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return u});var r=n(7),o=n(4);function i(e){var t={};return r.each(e,function(e){t[e.query.id]=e}),t}function a(e,t){return Object.assign({},Object(o.B)(t),{queries:e})}function s(e,t,n,r,i,a,s){return Object(o.C)(e,t,n,r,i,a,s)}function l(e,t){return t.uniqueSampleKeyToTumorType?s(e.gene.entrezGeneId,t.uniqueSampleKeyToTumorType[e.uniqueSampleKey],e.proteinChange,e.mutationType,e.proteinPosStart,e.proteinPosEnd):void 0}function c(e){return e.oncogenic.toLowerCase().trim().includes("oncogenic")}function u(e){var t={};return e&&e.length>0&&e.forEach(function(e){var n=e.query.id,i={id:"",gene:{},alteration:[],prevalence:[],progImp:[],treatments:{sensitivity:[],resistance:[]},trials:[],oncogenic:"",oncogenicRefs:[],mutationEffect:{},mutationEffectRefs:[],summary:""},a=[],s=[],l=[];(l=l.concat(e.evidences)).forEach(function(e){var t="";if(t=e.shortDescription?e.shortDescription:e.description,"GENE_SUMMARY"===e.evidenceType)i.gene.summary=t;else if("GENE_BACKGROUND"===e.evidenceType)i.gene.background=t;else if("ONCOGENIC"===e.evidenceType)e.articles&&(i.oncogenicRefs=e.articles);else if("MUTATION_EFFECT"===e.evidenceType){var n={};e.knownEffect&&(n.knownEffect=e.knownEffect),e.articles&&(n.refs=e.articles),t&&(n.description=t),i.alteration.push(n)}else if(e.levelOfEvidence&&-1===[o.m.LEVEL_0].indexOf(e.levelOfEvidence)){var l={};l.alterations=e.alterations,l.articles=e.articles,l.tumorType=function(e){var t=r.isObject(e.tumorType)?e.tumorType.name:e.subtype||e.cancerType,n="";r.isObject(e.oncoTreeType)&&(n=e.oncoTreeType.name?e.oncoTreeType.name:e.oncoTreeType.mainType?e.oncoTreeType.mainType.name:"");n&&(t=n);return t}(e),l.level=e.levelOfEvidence,l.content=e.treatments,l.description=t||"",-1!==o.l.sensitivity.indexOf(function(e){if(e){var t=e.match(/LEVEL_(R?\d[AB]?)/);return t instanceof Array&&t.length>=2?t[1]:e}return""}(e.levelOfEvidence))?a.push(l):s.push(l)}}),i.alteration.length>0&&(i.mutationEffect=i.alteration[0]),i.treatments.sensitivity=a,i.treatments.resistance=s,t[n]=i}),t}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__39rg3",framedImage:"styles-module__framedImage__3ikaJ",ChartsPanel:"styles-module__ChartsPanel__1kFpX",Checkboxes:"styles-module__Checkboxes__3JkxF",TableContainer:"styles-module__TableContainer__3OVxd",Checkbox:"styles-module__Checkbox__w95Pc",GeneName:"styles-module__GeneName__1qAkS",DataSet:"styles-module__DataSet__7fRDD",ScatterTooltip:"styles-module__ScatterTooltip__3EYSa",BarTooltip:"styles-module__BarTooltip__1hGLv",BoxTooltip:"styles-module__BoxTooltip__2FA6X",Tendency:"styles-module__Tendency__rxjNz",Significant:"styles-module__Significant__1CIHn",ColoredBackground:"styles-module__ColoredBackground__hGi2k",FlexCheckbox:"styles-module__FlexCheckbox__3iqpB",ChartLoader:"styles-module__ChartLoader__IBVBT",BoxEmpty:"styles-module__BoxEmpty__2g857",BoxPlot:"styles-module__BoxPlot__3hhKs"}},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(3);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",null,r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:{color:"#BB1700",cursor:"pointer",marginRight:7}}),this.props.message," Please let us know about this error and how you got here at"," ",r.createElement("b",{style:{whiteSpace:"nowrap"}},r.createElement("a",{href:"mailto:".concat(i.b.serverConfig.skin_email_contact)},i.b.serverConfig.skin_email_contact)))}}])&&a(n.prototype,o),u&&a(n,u),t}();h.defaultProps={message:"Error encountered."},h=p([o.observer],h),t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var r=n(5),o=n(554),i=n(581);function a(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(){function e(t){c(this,e),this.getData=t,this.filterString="",this.dataHighlighter=function(){return!1},this.dataSelector=function(){return!1},this.dataFilter=function(){return!0}}var t,n,r;return t=e,(n=[{key:"setFilter",value:function(e){this.dataFilter=e}},{key:"resetFilter",value:function(){this.dataFilter=function(){return!0},this.filterString=""}},{key:"isHighlighted",value:function(e){return this.dataHighlighter(e)}},{key:"allData",get:function(){return this.getData()}},{key:"sortedData",get:function(){var e=this.sortMetric||function(){return 0},t=void 0===this.sortAscending||this.sortAscending;return Object(o.c)(this.allData,e,t)}},{key:"sortedFilteredData",get:function(){var e=this,t=this.filterString.toUpperCase(),n=this.filterString.toLowerCase();return this.sortedData.filter(function(r){return e.dataFilter(r,e.filterString,t,n)})}},{key:"sortedFilteredSelectedData",get:function(){return this.sortedFilteredData.filter(this.dataSelector)}},{key:"tableData",get:function(){return this.sortedFilteredSelectedData.length?this.sortedFilteredSelectedData:this.sortedFilteredData}},{key:"visibleData",get:function(){return this.itemsPerPage===i.b?this.tableData:this.tableData.slice(this.page*this.itemsPerPage,(this.page+1)*this.itemsPerPage)}},{key:"showingAllData",get:function(){return this.tableData.length===this.allData.length}}])&&u(t.prototype,n),r&&u(t,r),e}();h([r.observable],d.prototype,"dataFilter",void 0),h([r.observable],d.prototype,"dataSelector",void 0),h([r.observable],d.prototype,"dataHighlighter",void 0),h([r.observable],d.prototype,"filterString",void 0),h([r.observable],d.prototype,"sortMetric",void 0),h([r.observable],d.prototype,"sortAscending",void 0),h([r.observable],d.prototype,"page",void 0),h([r.observable],d.prototype,"itemsPerPage",void 0),h([r.computed],d.prototype,"allData",null),h([r.computed],d.prototype,"sortedData",null),h([r.computed],d.prototype,"sortedFilteredData",null),h([r.computed],d.prototype,"sortedFilteredSelectedData",null),h([r.computed],d.prototype,"tableData",null),h([r.computed],d.prototype,"visibleData",null),h([r.computed],d.prototype,"showingAllData",null),h([r.action],d.prototype,"setFilter",null),h([r.action],d.prototype,"resetFilter",null);var f=function(e){function t(e){return c(this,t),a(this,s(t).call(this,function(){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,d),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"e",function(){return w});var r=n(579),o=n(7),i=n.n(o),a=n(161),s=n(94),l=n(633);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d,f=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};!function(e){e.MutationSpectrum="NO_CONTEXT_MUTATION_SIGNATURE",e.StudyOfOrigin="CANCER_STUDY",e.ProfiledInPrefix="PROFILED_IN",e.ComparisonGroupPrefix="IN_COMPARISON_GROUP",e.NumSamplesPerPatient="NUM_SAMPLES_PER_PATIENT"}(d||(d={}));var m=[d.StudyOfOrigin,d.NumSamplesPerPatient];function y(e){return e.clinicalAttributeId.startsWith(d.ProfiledInPrefix)}function g(e){return e.clinicalAttributeId.startsWith(d.ComparisonGroupPrefix)}function v(e){return y(e)||g(e)||m.indexOf(e.clinicalAttributeId)>-1}function b(e,t){var n=[],r=new l.a,o=!0,i=!1,a=void 0;try{for(var s,c=e.comparisonGroup.data.studies[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,p=u.id,h=!0,d=!1,f=void 0;try{for(var m,y=u.samples[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;r.add({studyId:p,sampleId:g})}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}var v=!0,b=!1,S=void 0;try{for(var w,C=t[Symbol.iterator]();!(v=(w=C.next()).done);v=!0){var _=w.value;n.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:_.patientId,sampleId:_.sampleId,studyId:_.studyId,uniquePatientKey:_.uniquePatientKey,uniqueSampleKey:_.uniqueSampleKey,value:r.has({studyId:_.studyId,sampleId:_.sampleId})?"Yes":"No"})}}catch(e){b=!0,S=e}finally{try{v||null==C.return||C.return()}finally{if(b)throw S}}return n}function S(e,t,n){var r=e.molecularProfileIds,o=[],a=!0,s=!1,l=void 0;try{for(var c,u=function(){var t=c.value,a=n.samples[t.uniqueSampleKey];if(!a)return"continue";var s=i.a.flatten(i.a.values(a.byGene)).concat(a.allGenes),l=i.a.keyBy(s,"molecularProfileId");i.a.some(r,function(e){return e in l})&&o.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:"Yes"})},p=t[Symbol.iterator]();!(a=(c=p.next()).done);a=!0)u()}catch(e){s=!0,l=e}finally{try{a||null==p.return||p.return()}finally{if(s)throw l}}return o}var w=function(e){function t(e,n,r,o,l){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).call(this,function(t){return{await:function(){return[e,n,r,o,l]},invoke:function(){return function(e,t,n,r,o,l){return f(this,void 0,void 0,regeneratorRuntime.mark(function c(){var u,p,h,f;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=e.clinicalAttributeId,c.next=c.t0===d.MutationSpectrum?3:c.t0===d.StudyOfOrigin?10:c.t0===d.NumSamplesPerPatient?12:16;break;case 3:return p=i.a.groupBy(t,function(e){return e.studyId}),c.t1=i.a,c.next=7,Promise.all(Object.keys(r).map(function(e){var t=p[e];return t.length?s.a.fetchMutationSpectrumsUsingPOST({molecularProfileId:r[e].molecularProfileId,mutationSpectrumFilter:{sampleIds:t.map(function(e){return e.sampleId})}}):Promise.resolve([])}));case 7:return c.t2=c.sent,u=c.t1.flatten.call(c.t1,c.t2),c.abrupt("break",28);case 10:return u=t.map(function(t){return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:o[t.studyId].name}}),c.abrupt("break",28);case 12:return h=i.a.groupBy(t,"uniquePatientKey"),f=i.a.keyBy(n,"uniquePatientKey"),u=i.a.map(h,function(t,n){var r=f[n];return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:r.patientId,uniquePatientKey:n,studyId:r.studyId,value:t.length}}),c.abrupt("break",28);case 16:if(!y(e)){c.next=20;break}u=S(e,t,l),c.next=27;break;case 20:if(!g(e)){c.next=24;break}u=b(e,t),c.next=27;break;case 24:return c.next=26,a.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:e.patientAttribute?n.map(function(e){return{entityId:e.patientId,studyId:e.studyId}}):t.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 26:u=c.sent;case 27:return c.abrupt("break",28);case 28:return c.abrupt("return",u);case 29:case"end":return c.stop()}},c)}))}(t,e.result,n.result,r.result,o.result,l.result)}}},function(e){return"".concat(e.clinicalAttributeId,",").concat((e.molecularProfileIds||[]).join("-"),",").concat(e.patientAttribute)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["a"]),t}()},,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return y});var r=n(7),o=n.n(r),i=n(646),a=n.n(i);function s(e,t){var n=(e=1e4*Math.sin(e))-Math.floor(e);return t&&(n=n*(t[1]-t[0])+t[0]),n}function l(e){return s(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(e),[-1,1])}function c(e){var t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}function u(e,t){return t?e&&"function"==typeof t?function(n,r){return t(n,r,e(n))}:t:function(t,n){return n||e&&e(t)?6:3}}function p(e,t,n){return n?8:t?6:4}function h(e){var t=parseInt(e,16);return t*=.95,1===(e=(t=Math.round(t)).toString(16)).length&&(e="0"+e),e}function d(e){e=e||[];var t=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],n=0,r={},o=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r[c]=!0}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return function(){for(var e,o,i,a,s=t[n%t.length];r[s];){var l=(o=void 0,i=void 0,a=void 0,o=(e=s)[1]+e[2],i=e[3]+e[4],a=e[5]+e[6],"#"+(o=h(o))+(i=h(i))+(a=h(a)));if(l===s)break;s=l}return r[s]=!0,n+=1,s}}function f(e,t,n,r,i,a,s,l){var c,u,p,h,d,f,m,y,g=[],v=!0,b=!1,S=void 0;try{for(var w,C=function(){var e=w.value;c="function"==typeof t?t(e):t,u="function"==typeof n?n(e):n,p="function"==typeof r?r(e):r,h="function"==typeof i?i(e):i,d="function"==typeof a?a(e):a,f="function"==typeof s?s(e):s,m=l?l.map(function(t){return t(e)}):[1],y=!1;for(var v=0,b=g;v<b.length;v++){var S=b[v];if(S.fill===c&&S.stroke===u&&S.strokeWidth===p&&S.strokeOpacity===h&&S.fillOpacity===d&&S.symbol===f&&o.a.isEqual(S.sortBy,m)){S.data.push(e),y=!0;break}}y||g.push({data:[e],fill:c,stroke:u,strokeWidth:p,strokeOpacity:h,fillOpacity:d,symbol:f,sortBy:m})},_=e[Symbol.iterator]();!(v=(w=_.next()).done);v=!0)C()}catch(e){b=!0,S=e}finally{try{v||null==_.return||_.return()}finally{if(b)throw S}}if(l){var k=l.map(function(e,t){return function(e){return e.sortBy[t]}});g=o.a.sortBy(g,k)}return g}function m(e,t){var n=e;if(1===Math.abs(n))return 0;var r=t;if(r>2){var o=Math.abs(n)*Math.sqrt((r-2)/(1-n*n));return a.a.ttest(o,r-1,2)}return null}function y(e){return function(e){return"thresholdType"in e}(e)?!!e.thresholdType:!!function(e){return"xThresholdType"in e||"yThresholdType"in e}(e)&&(!!e.xThresholdType||!!e.yThresholdType)}},function(e,t,n){"use strict";function r(e){return Object.assign({chromosome:e.chr},e)}function o(e){return e.map(r)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var r=n(7),o=n(548),i=n(552);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s={"-2":"homdel","-1":"hetloss",0:null,1:"gain",2:"amp"};function l(e){var t;switch(e="string"==typeof e?e.toLowerCase():""){case"missense_mutation":case"missense":case"missense_variant":t="missense";break;case"frame_shift_ins":case"frame_shift_del":case"frameshift":case"frameshift_deletion":case"frameshift_insertion":case"de_novo_start_outofframe":case"frameshift_variant":t="frameshift";break;case"nonsense_mutation":case"nonsense":case"stopgain_snv":t="nonsense";break;case"splice_site":case"splice":case"splice site":case"splicing":case"splice_site_snp":case"splice_site_del":case"splice_site_indel":case"splice_region":t="splice";break;case"translation_start_site":case"start_codon_snp":case"start_codon_del":t="nonstart";break;case"nonstop_mutation":t="nonstop";break;case"fusion":t="fusion";break;case"in_frame_del":case"in_frame_ins":case"in_frame_deletion":case"in_frame_insertion":case"indel":case"nonframeshift_deletion":case"nonframeshift":case"nonframeshift insertion":case"nonframeshift_insertion":t="inframe";break;default:t="other"}return t}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.molecularProfileIdToMolecularProfile=r.keyBy(t,function(e){return e.molecularProfileId})}var t,n,c;return t=e,(n=[{key:"gene",value:function(e){return e.gene.hugoGeneSymbol}},{key:"molecularAlterationType",value:function(e){var t=this.molecularProfileIdToMolecularProfile[e];return t&&t.molecularAlterationType}},{key:"cna",value:function(e){return"COPY_NUMBER_ALTERATION"===this.molecularAlterationType(e.molecularProfileId)?s[e.value]:null}},{key:"mut_type",value:function(e){return"MUTATION_EXTENDED"===this.molecularAlterationType(e.molecularProfileId)?e.mutationType&&"fusion"===e.mutationType.toLowerCase()?null:e.proteinChange&&"promoter"===e.proteinChange.toLowerCase()?"promoter":l(e.mutationType):null}},{key:"mut_status",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED?Object(i.o)(e)?"somatic":"germline":null}},{key:"mut_position",value:function(e){if("MUTATION_EXTENDED"===this.molecularAlterationType(e.molecularProfileId)){var t=e.proteinPosStart,n=e.proteinPosEnd;return null!==t&&null!==n?[t,n]:null}return null}},{key:"mut_amino_acid_change",value:function(e){return"MUTATION_EXTENDED"===this.molecularAlterationType(e.molecularProfileId)?e.proteinChange:null}},{key:"exp",value:function(e){return"MRNA_EXPRESSION"===this.molecularAlterationType(e.molecularProfileId)?e.value:null}},{key:"prot",value:function(e){return"PROTEIN_LEVEL"===this.molecularAlterationType(e.molecularProfileId)?e.value:null}},{key:"fusion",value:function(e){return"fusion"===l(e.mutationType)||null}},{key:"is_driver",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED?!!e.putativeDriver:this.molecularAlterationType(e.molecularProfileId)===o.a.COPY_NUMBER_ALTERATION?!!e.oncoKbOncogenic:null}}])&&a(t.prototype,n),c&&a(t,c),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(79),o=n(617);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){var t=Object.keys(e);return t.sort(),"{".concat(t.map(function(t){var n=e[t];if(a(n)===a({}))throw new Error("Warning: keys in cache may not be unique because query contains nested objects. Specify queryToKey init. param. to be safe.");return'"'.concat(t,'":"').concat(n,'"')}).join(","),"}")}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToMobxPromiseInput=t,this.queryToKey=n,this.cache={}}var t,n,a;return t=e,(n=[{key:"get",value:function(e){var t=this.queryToKey(e);return this.cache[t]||(this.cache[t]=new r.MobxPromise(this.queryToMobxPromiseInput(e))),this.cache[t]}},{key:"getAll",value:function(e){var t=this;return e.map(function(e){return t.get(e)})}},{key:"await",value:function(e,t){var n=e;return Object(o.a)(e.map(function(e){return e.isComplete}))&&(n=n.concat(this.getAll(t.apply(null,e.map(function(e){return e.result}))))),n}}])&&i(t.prototype,n),a&&i(t,a),e}()},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1P_Zv",framedImage:"styles-module__framedImage__1iqVk",QueryAndDownloadTabs:"styles-module__QueryAndDownloadTabs__ivykJ",QueryContainer:"styles-module__QueryContainer__2cy7B",forkedButtons:"styles-module__forkedButtons__2ctM7",errorMessage:"styles-module__errorMessage__32yZg",oqlMessage:"styles-module__oqlMessage__3xhe8",CancerStudySelector:"styles-module__CancerStudySelector__1FU50",MolecularProfileSelector:"styles-module__MolecularProfileSelector__rlomm",DataTypePrioritySelector:"styles-module__DataTypePrioritySelector__1_VUf",CaseSetSelector:"styles-module__CaseSetSelector__YteFo",StudySelection:"styles-module__StudySelection__3booh",GeneSetSelector:"styles-module__GeneSetSelector__2DY1b",icon:"styles-module__icon__1E8Oh",geneCount:"styles-module__geneCount__3cB9u",SelectedStudiesWindow:"styles-module__SelectedStudiesWindow__NAG6X",CancerStudySelectorHeader:"styles-module__CancerStudySelectorHeader__D2N40",selectAll:"styles-module__selectAll__sQO_b",noData:"styles-module__noData__3J5xx",selectedCount:"styles-module__selectedCount__TRoaE",selectionsExist:"styles-module__selectionsExist__1icpM",cancerStudySelectorBody:"styles-module__cancerStudySelectorBody__2BfDm",cancerTypeListContainer:"styles-module__cancerTypeListContainer__rnSbV",cancerStudyListContainer:"styles-module__cancerStudyListContainer__356jB",cancerTypeList:"styles-module__cancerTypeList__ouFgb",cancerTypeListItemLabel:"styles-module__cancerTypeListItemLabel__31N8Y",cancerTypeListItemCount:"styles-module__cancerTypeListItemCount__1HB2c",selectable:"styles-module__selectable__3NCiW",selected:"styles-module__selected__Zy9_9",matchingNodeText:"styles-module__matchingNodeText__3lV9e",nonMatchingNodeText:"styles-module__nonMatchingNodeText__1l5PU",containsSelectedStudies:"styles-module__containsSelectedStudies__20v-B",searchTextInput:"styles-module__searchTextInput__1VIxV",group:"styles-module__group__Cs8DR",zScore:"styles-module__zScore__23rtN",infoIcon:"styles-module__infoIcon__zMiog",profileName:"styles-module__profileName__1fbIy",DataTypePriorityLabel:"styles-module__DataTypePriorityLabel__21k9z",radioRow:"styles-module__radioRow__1G_fF",buttonRow:"styles-module__buttonRow__51RtG",geneSet:"styles-module__geneSet__Ra6KD",notEmpty:"styles-module__notEmpty__23mDp",GeneSymbolValidator:"styles-module__GeneSymbolValidator__ZK8rf",pendingMessage:"styles-module__pendingMessage__2jgIM",oqlNotice:"styles-module__oqlNotice__1tycm",validBubble:"styles-module__validBubble__QCGq3",invalidBubble:"styles-module__invalidBubble__1gB6Z",suggestionBubble:"styles-module__suggestionBubble__aRL1R",noChoiceLabel:"styles-module__noChoiceLabel__2GF5_",singleChoiceLabel:"styles-module__singleChoiceLabel__2wdqL",multiChoiceLabel:"styles-module__multiChoiceLabel__19sFa",MutSigGeneSelectorWindow:"styles-module__MutSigGeneSelectorWindow__1Uiku",MutSigGeneSelector:"styles-module__MutSigGeneSelector__25hKH",selectionColumnHeader:"styles-module__selectionColumnHeader__2MSUO",selectionColumnCell:"styles-module__selectionColumnCell__3RJ8f",selectButton:"styles-module__selectButton__2dXHK",GisticGeneSelectorWindow:"styles-module__GisticGeneSelectorWindow__1J2UG",GisticGeneSelector:"styles-module__GisticGeneSelector__U5Lb9",header:"styles-module__header__3cqyY",amp:"styles-module__amp__1zeIe",del:"styles-module__del__1_otl",gisticTable:"styles-module__gisticTable__2fquv",GisticGeneToggles:"styles-module__GisticGeneToggles__1aR6k",someGenes:"styles-module__someGenes__J-RhD",moreGenes:"styles-module__moreGenes__2gVF_",geneToggle:"styles-module__geneToggle__EGiaB",simulateHovered:"styles-module__simulateHovered__3IL_G",notSelected:"styles-module__notSelected__3-Rmx",showMoreLess:"styles-module__showMoreLess__3Ef4J",GenesetsSelectorWindow:"styles-module__GenesetsSelectorWindow__NTbph",GenesetsFormGroup:"styles-module__GenesetsFormGroup__1uJYh",GenesetsVolcanoSelectorWindow:"styles-module__GenesetsVolcanoSelectorWindow__w4nHP",GenesetsSelectionArea:"styles-module__GenesetsSelectionArea__3ebp-",transposeDataMatrix:"styles-module__transposeDataMatrix__YP_NR",submitRow:"styles-module__submitRow__k2sC8",genomeSpace:"styles-module__genomeSpace__2augo",tooltip:"styles-module__tooltip__ux3KI",learnOql:"styles-module__learnOql__1Aj5I",quickSelect:"styles-module__quickSelect__3ZhaC",studyName:"styles-module__studyName__2iQkr"}},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return b});var r=n(0),o=n(92),i=n(697),a=n.n(i),s=n(20),l=n(11),c=n(28),u=n.n(c),p=n(4);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=-1,b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==y(o)&&"function"!=typeof o?f(r):o).handleChangeItemsPerPage=n.handleChangeItemsPerPage.bind(f(n)),n.resetItemsPerPage=n.resetItemsPerPage.bind(f(n)),n.jumpToPage=n.jumpToPage.bind(f(n)),n.handleShowMore=n.handleShowMore.bind(f(n)),n.getSectionBetweenPaginationButtons=n.getSectionBetweenPaginationButtons.bind(f(n)),n}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(i=[{key:"jumpToPage",value:function(e){this.props.onChangeCurrentPage&&this.props.onChangeCurrentPage(parseInt(e,10))}},{key:"handleChangeItemsPerPage",value:function(e){this.props.onChangeItemsPerPage&&this.props.onChangeItemsPerPage(parseInt(e.target.value,10))}},{key:"handleShowMore",value:function(){if(this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage&&this.props.onChangeItemsPerPage){var e=this.props.itemsPerPageOptions.indexOf(this.props.itemsPerPage);e>-1&&e<this.props.itemsPerPageOptions.length-1?this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[e+1]):this.props.onChangeItemsPerPage(this.props.itemsPerPage+this.props.itemsPerPageOptions[this.props.itemsPerPageOptions.length-1])}}},{key:"resetItemsPerPage",value:function(){this.props.onChangeItemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[0])}},{key:"getSectionBetweenPaginationButtons",value:function(){return this.props.showMoreButton?r.createElement(o.Button,{id:"showMoreButton",bsSize:"sm",disabled:!this.props.itemsPerPageOptions||!this.props.itemsPerPage||!this.props.totalItems||this.props.itemsPerPage>=this.props.totalItems,onClick:this.handleShowMore,style:{width:200},bsStyle:this.props.bsStyle},"Show more"):r.createElement("span",{key:"textBetweenButtons",className:u()("btn","btn-sm","btn-default","textBetweenButtons","disabled",a.a["default-cursor"]),style:{cursor:"default",color:"black"}},r.createElement(s.If,{condition:this.props.pageNumberEditable},r.createElement(p.e,{className:a.a["page-number-input"],value:this.props.currentPage+"",setValue:this.jumpToPage,maxChars:6,numericOnly:!0})),this.props.textBetweenButtons)}},{key:"render",value:function(){var e=(this.props.itemsPerPageOptions||[]).map(function(e){return r.createElement("option",{key:e,value:e+""},e)});this.props.showAllOption&&e.push(r.createElement("option",{key:"all",value:v+""},"all"));var t=[r.createElement(s.If,{condition:!!this.props.showFirstPage},r.createElement(o.Button,{key:"firstPageBtn",bsSize:"sm",disabled:!!this.props.firstPageDisabled,onClick:this.props.onFirstPageClick,className:u()(this.props.groupButtons?void 0:a.a["margin-right-button"]),bsStyle:this.props.bsStyle},this.props.firstButtonContent)),r.createElement(o.Button,{className:u()("prevPageBtn",this.props.groupButtons?void 0:a.a["margin-right-button"]),key:"prevPageBtn",bsSize:"sm",disabled:!!this.props.previousPageDisabled,onClick:this.props.onPreviousPageClick,bsStyle:this.props.bsStyle},this.props.previousButtonContent),this.getSectionBetweenPaginationButtons(),r.createElement(o.Button,{className:u()("nextPageBtn",this.props.groupButtons?void 0:a.a["margin-left-button"]),key:"nextPageBtn",bsSize:"sm",disabled:!!this.props.nextPageDisabled,onClick:this.props.onNextPageClick,bsStyle:this.props.bsStyle},this.props.nextButtonContent),r.createElement(s.If,{condition:!!this.props.showLastPage},r.createElement(o.Button,{key:"lastPageBtn",bsSize:"sm",disabled:!!this.props.lastPageDisabled,onClick:this.props.onLastPageClick,className:u()(this.props.groupButtons?void 0:a.a["margin-left-button"]),bsStyle:this.props.bsStyle},this.props.lastButtonContent)),r.createElement(s.If,{condition:!!this.props.showMoreButton},r.createElement(o.Button,{id:"resetItemsPerPageButton",bsStyle:"link",bsSize:"sm",className:this.props.itemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage>this.props.itemsPerPageOptions[0]?void 0:a.a["hidden-button"],onClick:this.resetItemsPerPage},"Reset"))];return t=this.props.groupButtons?r.createElement(o.ButtonGroup,{style:{float:"none"}},t):r.createElement("div",{style:{float:"none"}},t),this.shouldHidePaginationControls&&(t=null),r.createElement("div",{className:u()(a.a.paginationControls,this.props.className),style:this.props.style},r.createElement("span",{style:{fontSize:12,marginRight:10}},this.props.textBeforeButtons),t,r.createElement(s.If,{condition:!!this.props.showItemsPerPageSelector&&!this.shouldHidePaginationControls},r.createElement(o.FormGroup,{bsSize:"sm",className:a.a["form-select"]},r.createElement(o.FormControl,{className:"itemsPerPageSelector",componentClass:"select",value:this.props.itemsPerPage,onChange:this.handleChangeItemsPerPage},e))))}},{key:"shouldHidePaginationControls",get:function(){return this.props.hidePaginationIfOnePage&&this.props.itemsPerPageOptions&&void 0!==this.props.totalItems&&this.props.itemsPerPageOptions[0]>=this.props.totalItems}}])&&h(n.prototype,i),l&&h(n,l),t}();b.defaultProps={itemsPerPage:v,itemsPerPageOptions:[10,25,50,100],showAllOption:!0,textBeforeButtons:"",textBetweenButtons:"text btwn buttons",firstButtonContent:r.createElement("i",{className:"fa fa-angle-double-left"}),previousButtonContent:r.createElement("i",{className:"fa fa-angle-left"}),nextButtonContent:r.createElement("i",{className:"fa fa-angle-right"}),lastButtonContent:r.createElement("i",{className:"fa fa-angle-double-right"}),showItemsPerPageSelector:!0,showFirstPage:!1,showLastPage:!1,className:"",style:{},previousPageDisabled:!1,nextPageDisabled:!1,pageNumberEditable:!1,showMoreButton:!0,groupButtons:!0,hidePaginationIfOnePage:!0,bsStyle:"default"};b=g([l.observer],b)},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return _});var r=n(0),o=n(7),i=n(28),a=n.n(i),s=(n(649),n(25)),l=n(93),c=n(5),u=n(11),p=n(641);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(){var e;return h(this,t),(e=m(this,y(t).apply(this,arguments))).renderedOnce=!1,e}return g(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this;return this.renderedOnce||setTimeout(function(){return e.renderedOnce=!0}),r.createElement("div",{className:this.props.className},this.renderedOnce&&this.props.children,!this.renderedOnce&&(this.props.loadingState||null))}}]),t}();S([c.observable],w.prototype,"renderedOnce",void 0),w=S([u.observer],w);var C=function(e){function t(e){return h(this,t),m(this,y(t).call(this,e))}return g(t,r["Component"]),f(t,[{key:"componentDidMount",value:function(){this.props.onTabDidMount&&this.props.onTabDidMount(this.div)}},{key:"componentWillUnmount",value:function(){this.props.onTabUnmount&&this.props.onTabUnmount(this.div)}},{key:"assignRef",value:function(e){this.div=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{ref:function(t){return e.div=t},className:a()({"msk-tab":!0,hiddenByPosition:!!this.props.inactive},this.props.className)},this.props.children)}}]),t}();S([s.a],C.prototype,"assignRef",null);var _=function(e){function t(e){var n;return h(this,t),(n=m(this,y(t).call(this,e))).shownTabs=[],n.tabRefs=[],n.tabClickHandlers=Object(p.a)(function(e,t){e.preventDefault(),n.setActiveTab(t.id,t.datum)}),n.state={currentPage:1,pageBreaks:[]},n}return g(t,r["Component"]),f(t,[{key:"cloneTab",value:function(e,t,n){return n?r.cloneElement(e,{inactive:t},this.props.loadingComponent):r.cloneElement(e,{inactive:t})}},{key:"setActiveTab",value:function(e,t){this.props.onTabClick&&this.props.onTabClick(e,t)}},{key:"navTabsRefHandler",value:function(e){this.navTabsRef=e}},{key:"tabRefHandler",value:function(e,t){e&&t&&this.tabRefs.push({id:e,element:t})}},{key:"nextPage",value:function(){this.setState({currentPage:this.state.currentPage+1})}},{key:"prevPage",value:function(){this.setState({currentPage:this.state.currentPage-1})}},{key:"initOnResize",value:function(e,t){var n=this,r=null;return function(e){null!==r&&(window.clearTimeout(r),r=null),r=window.setTimeout(function(){n.initPaging()},600)}}},{key:"render",value:function(){var e=this;if(this.props.children&&r.Children.count(this.props.children)){var t,n=this.props.children,i=r.Children.toArray(n),s=e.props.activeTabId&&o.some(i,function(t){return t.props.id===e.props.activeTabId})?e.props.activeTabId:i[0].props.id;return t=o.reduce(i,function(t,n){return n.props.hide||(n.props.id===s?(e.shownTabs.push(n.props.id),t.push(e.cloneTab(n,!1))):(!1===n.props.unmountOnHide||void 0===n.props.unmountOnHide&&!1===e.props.unmountOnHide)&&o.includes(e.shownTabs,n.props.id)&&t.push(e.cloneTab(n,!0))),t},[]),r.createElement("div",{id:this.props.id?this.props.id:"",className:a()("msk-tabs","posRelative",this.props.className)},this.navTabs(n,s),r.createElement(w,{className:"tab-content",loadingState:r.createElement(l.a,{isLoading:!0,center:!0,size:"big"})},t))}return null}},{key:"navTabs",value:function(e,t){this.tabRefs=[];var n=this.tabPages(e,t),o=this.state.pageBreaks.length+1,i=this.props.enablePagination?{border:0,overflow:"hidden"}:{},s=this.state.currentPage>1?r.createElement("li",{key:"prevPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.prevPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-left",style:this.props.arrowStyle}))):null,l=this.state.currentPage<o?r.createElement("li",{key:"nextPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.nextPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-right",style:this.props.arrowStyle}))):null,c=this.props.tabButtonStyle||"tabs";return r.createElement("ul",{ref:this.navTabsRefHandler.bind(this),className:a()("nav","nav-".concat(c)),style:i},s,n[this.state.currentPage-1],l)}},{key:"tabPages",value:function(e,t){var n=this,o=[[]],i=1;return r.Children.forEach(e,function(e){if(e&&!e.props.hide){var s=t===e.props.id?"active":"";n.props.enablePagination&&n.state.pageBreaks.length>0&&n.state.pageBreaks[i-1]===e.props.id&&(o[++i-1]=[]),o[i-1].push(r.createElement("li",{key:e.props.id,style:{cursor:"pointer"},ref:n.tabRefHandler.bind(n,e.props.id),className:s},r.createElement("a",{className:a()("tabAnchor","tabAnchor_".concat(e.props.id),e.props.anchorClassName),onClick:n.tabClickHandlers(e.props),href:n.props.getTabHref&&n.props.getTabHref(e.props.id),style:e.props.anchorStyle},e.props.linkText)))}}),o}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){0===e.state.pageBreaks.length&&e.initPaging()},1)}},{key:"initPaging",value:function(){if(this.props.enablePagination){var e=this.findPageBreaks(),t=this.findCurrentPage(e);this.setState({currentPage:t,pageBreaks:e})}}},{key:"findCurrentPage",value:function(e){var t=this,n=1,r=!1;return this.props.activeTabId&&e.length>0&&o.each(this.tabRefs,function(o){if(o.id===e[n-1]&&n++,o.id===t.props.activeTabId)return r=!0,!1}),r?n:1}},{key:"findPageBreaks",value:function(){var e=[],t=this.navTabsRef&&this.navTabsRef.offsetWidth||0;if(t>0){var n=0;o.each(this.tabRefs,function(r){n+=r.element.offsetWidth;var o=e.length>0?160:100;n>t-o&&(e.push(r.id),n=r.element.offsetWidth)})}return e}}]),t}();_.defaultProps={unmountOnHide:!0,loadingComponent:r.createElement(l.a,{isLoading:!0,center:!0,size:"big"})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return p});var r,o,i,a=n(3),s=n(7);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.PIE_CHART="PIE_CHART",e.BAR_CHART="BAR_CHART",e.SURVIVAL="SURVIVAL",e.TABLE="TABLE",e.SCATTER="SCATTER",e.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",e.FUSION_GENES_TABLE="FUSION_GENES_TABLE",e.CNA_GENES_TABLE="CNA_GENES_TABLE",e.NONE="NONE"}(o||(o={})),function(e){e.PIE_CHART="pie chart",e.BAR_CHART="bar chart",e.SURVIVAL="survival plot",e.TABLE="table",e.SCATTER="density plot",e.MUTATED_GENES_TABLE="table",e.FUSION_GENES_TABLE="table",e.CNA_GENES_TABLE="table",e.NONE="none"}(i||(i={}));var c="Freq",u={alwaysShownClinicalAttributes:["CANCER_TYPE","CANCER_TYPE_DETAILED"],defaultPriority:1,tableAttrs:["CANCER_TYPE","CANCER_TYPE_DETAILED"],initialBins:{MSI_SCORE:[1,2,5,10,30]},priority:{CANCER_TYPE:3e3,CANCER_TYPE_DETAILED:2e3,OS_SURVIVAL:400,DFS_SURVIVAL:300,MUTATION_COUNT_CNA_FRACTION:200,MUTATED_GENES_TABLE:90,FUSION_GENES_TABLE:85,CNA_GENES_TABLE:80,CANCER_STUDIES:70,SEQUENCED:60,HAS_CNA_DATA:50,SAMPLE_COUNT:40,MUTATION_COUNT:30,FRACTION_GENOME_ALTERED:20,GENDER:9,SEX:9,AGE:9,RACE:8,ETHNICITY:8,SAMPLE_TYPE:8,HISTOLOGY:8,TUMOR_TYPE:8,SUBTYPE:8,TUMOR_SITE:8},thresholds:{pieToTable:20,piePadding:20,barRatio:.8,rowsInTableForOneGrid:4,clinicalCharts:20,chartHighlight:1e4},layout:{layout:[],cols:6,grid:{w:195,h:170},gridMargin:{x:5,y:5},dimensions:(r={},l(r,o.PIE_CHART,{w:1,h:1}),l(r,o.BAR_CHART,{w:2,h:1}),l(r,o.SCATTER,{w:2,h:2}),l(r,o.TABLE,{w:2,h:2}),l(r,o.SURVIVAL,{w:2,h:2}),l(r,o.MUTATED_GENES_TABLE,{w:2,h:2}),l(r,o.FUSION_GENES_TABLE,{w:2,h:2}),l(r,o.CNA_GENES_TABLE,{w:2,h:2}),l(r,o.NONE,{w:0,h:0}),r)},colors:{theme:{primary:"#2986E2",secondary:"#DC3912",tertiary:"#f88508",quaternary:"#109618",unselectedGroup:"#2986E2",selectedGroup:"#DC3912",clinicalFilterTitle:"#A9A9A9",clinicalFilterContent:"#2986E2"}}},p=s.assign(u,a.b.serverConfig.study_view)},function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"h",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return y});var r=n(0),o=n(643),i=n(7),a=n.n(i),s=n(556);function l(e,t){return t.find(function(t){return a.a.isEqual(t,e)})}function c(e,t){var n=t.filter(function(t){return!a.a.isEqual(t,e)});return n.length===t.length?t.concat([e]):n}function u(e,t){for(var n=[],r=0;r<t;r++)e.includes(r)||n.push(r);return n}function p(e){return r.createElement("span",null,"(",r.createElement("strong",null,e.ordinal),")",e.name)}function h(e,t){var n=e.map(p);switch(n.length){case 0:return r.createElement("span",null);case 1:return n[0];case 2:return r.createElement("span",null,n[0]," ",t," ",n[1]);default:var o=n.slice(0,n.length-1);return r.createElement("span",null,o.map(function(e){return[e,", "]}),t," ",n[n.length-1])}}function d(e){return 1==e.length?e[0]:a.a.reduce(e.slice(2),function(e,t){return o.interpolateLab(e,t)(.5)},o.interpolateLab(e[0],e[1])(.5))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=1,r=o.rgb(e);return.299*r.r+.587*r.g+.114*r.b>186&&(n=0),t&&(n+=1),["black","white"][n%2]}function m(e,t,n){var r=a.a.keyBy(e,function(e){return e.uid}),o=[],i=!0,l=!1,c=void 0;try{for(var u,p=t[Symbol.iterator]();!(i=(u=p.next()).done);i=!0){for(var h=u.value,d=r[h[0]].studies,f=1;f<h.length;f++)d=Object(s.z)(d,r[h[f]].studies);var m=!0,y=!1,g=void 0;try{for(var v,b=n[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var S=v.value;h.includes(S)||(d=Object(s.n)(d,r[S].studies))}}catch(e){y=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw g}}o=Object(s.E)(o,d)}}catch(e){l=!0,c=e}finally{try{i||null==p.return||p.return()}finally{if(l)throw c}}return o}function y(e,t,n,r){var o=a.a.keyBy(e,function(e){return e.uid}),i=[],l=!0,c=!1,u=void 0;try{for(var p,h=t[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){for(var d=p.value,f=o[d[0]].studies,m=1;m<d.length;m++)f=Object(s.y)(f,o[d[m]].studies);var y=!0,g=!1,v=void 0;try{for(var b,S=n[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var w=b.value;d.includes(w)||(f=Object(s.m)(f,o[w].studies))}}catch(e){g=!0,v=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw v}}i=Object(s.D)(i,f)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return Object(s.k)(i,r)}},function(e,t,n){"use strict";var r=n(0),o=n(28),i=n.n(o),a=n(11),s=n(5),l=n(4);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function y(e,t,n){return null!=e&&e.length>t+(n||0)}var g=f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=r.createElement("span",{style:{whiteSpace:"nowrap"},className:i()(this.props.className)},this.truncatedText);return this.needsTooltip&&(t=r.createElement(l.c,{overlay:function(){return e.props.tooltip||r.createElement("div",{style:{maxWidth:500}},e.props.text)},placement:"right",destroyTooltipOnHide:!0},t)),t}},{key:"needsTooltip",get:function(){return"never"!==this.props.addTooltip&&("always"===this.props.addTooltip||"truncated"===this.props.addTooltip&&this.isTooLong)}},{key:"isTooLong",get:function(){return y(this.props.text,this.props.maxLength||f.defaultProps.maxLength,this.props.buffer)}},{key:"truncatedText",get:function(){return e=this.props.text,t=this.props.suffix||f.defaultProps.suffix,n=this.props.maxLength||f.defaultProps.maxLength,r=this.props.buffer,y(e,n,r)?e.substring(0,n)+t:e;var e,t,n,r}}])&&c(n.prototype,o),a&&c(n,a),t}();g.defaultProps={maxLength:50,buffer:2,suffix:"...",addTooltip:"truncated"},m([s.computed],g.prototype,"needsTooltip",null),m([s.computed],g.prototype,"isTooLong",null),m([s.computed],g.prototype,"truncatedText",null),g=f=m([a.observer],g),t.a=g},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(7);function o(e,t,n,r){return!!i(e,r,n)[t]}function i(e,t,n){var o=t.samples[e];if(!o)return{};var i=n?o.byGene[n]:r.flatten(r.values(o.byGene));if(!i&&0===o.allGenes.length)return{};var a={},s=!0,l=!1,c=void 0;try{for(var u,p=(i||[])[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){a[u.value.molecularProfileId]=!0}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}var h=!0,d=!1,f=void 0;try{for(var m,y=o.allGenes[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){a[m.value.molecularProfileId]=!0}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}return a}function a(e,t,n,r){var o=i(e,n,r);return t.map(function(e){return!!o[e]})}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return i});var o="undefined";function i(e,t){return r(e)===o?t:e}},function(e,t,n){"use strict";function r(e){try{return f.insertRule(e,f.cssRules.length)}catch(e){console.warn("react-reveal - animation failed")}}function o(){u||(t.globalHide=u=!0,window.removeEventListener("scroll",o,!0),r("."+i+" { opacity: 0; }"),window.removeEventListener("orientationchange",o,!0),window.document.removeEventListener("visibilitychange",o))}Object.defineProperty(t,"__esModule",{value:!0}),t.insertRule=r,t.cascade=function(e,t,n,r,o){var i=Math.log(r),a=(Math.log(o)-i)/(n-t);return Math.exp(i+a*(e-t))},t.animation=function(e){if(!f)return"";var t="@keyframes "+(m+h)+"{"+e+"}",n=d[e];return n?""+m+n:(f.insertRule(t,f.cssRules.length),d[e]=h,""+m+h++)},t.hideAll=o,t.default=function(e){var n=e.ssrFadeout;t.fadeOutEnabled=n};var i=t.namespace="react-reveal",a=(t.defaults={duration:1e3,delay:0,count:1},t.ssr=!0),s=t.observerMode=!1,l=t.raf=function(e){return window.setTimeout(e,66)},c=t.disableSsr=function(){return t.ssr=a=!1},u=(t.fadeOutEnabled=!1,t.ssrFadeout=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.fadeOutEnabled=e},t.globalHide=!1),p=(t.ie10=!1,t.collapseend=void 0),h=1,d={},f=!1,m=i+"-"+Math.floor(1e15*Math.random())+"-";if("undefined"!=typeof window&&"nodejs"!==window.name&&window.document&&"undefined"!=typeof navigator){t.observerMode=s="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&/\{\s*\[native code\]\s*\}/.test(""+IntersectionObserver),t.raf=l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||l,t.ssr=a=window.document.querySelectorAll("div[data-reactroot]").length>0,-1!==navigator.appVersion.indexOf("MSIE 10")&&(t.ie10=!0),a&&"performance"in window&&"timing"in window.performance&&"domContentLoadedEventEnd"in window.performance.timing&&window.performance.timing.domLoading&&Date.now()-window.performance.timing.domLoading<300&&(t.ssr=a=!1),a&&window.setTimeout(c,1500),s||(t.collapseend=p=document.createEvent("Event"),p.initEvent("collapseend",!0,!0));var y=document.createElement("style");document.head.appendChild(y),y.sheet&&y.sheet.cssRules&&y.sheet.insertRule&&(f=y.sheet,window.addEventListener("scroll",o,!0),window.addEventListener("orientationchange",o,!0),window.document.addEventListener("visibilitychange",o))}},function(e,t,n){e.exports=n(15)(39)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var r="_mutations",o="".concat(r,"_uncalled"),i="Germline",a="Putative_Driver"},,function(e,t,n){"use strict";function r(e){var t,n=e.length;return e.reverse().map(function(e,r){if(t){var o=Math.min(t,e*n/(n-r));return t=o,o}return t=e,e}).reverse()}n.d(t,"a",function(){return r})},function(e,t,n){e.exports={portalWidth:"annotation-module__portalWidth__1ONSd",framedImage:"annotation-module__framedImage__3aREl","annotation-item-text":"annotation-module__annotation-item-text__2FRXN","annotation-item-error":"annotation-module__annotation-item-error__1XUY_","annotation-item":"annotation-module__annotation-item__1YzCz"}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(717),i=n(28),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=o,f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,p(t).apply(this,arguments))).handleInputRef=function(t){e.input=t,e.props.inputProps&&"function"==typeof e.props.inputProps.ref&&e.props.inputProps.ref(t)},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"componentDidUpdate",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"render",value:function(){var e=this.props.labelProps&&this.props.labelProps.className,t=a()(d.labeledCheckbox,e);return r.createElement("label",l({className:t},this.props.labelProps),r.createElement("input",l({type:"checkbox",checked:this.props.checked,onChange:this.props.onChange,disabled:this.props.disabled},this.props.inputProps,{ref:this.handleInputRef})),this.props.children)}}])&&c(n.prototype,o),i&&c(n,i),t}()},function(e,t,n){"use strict";var r=n(18),o=n(16),i=n(5);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=t,Object(i.runInAction)(function(){n._status="pending",t.then(Object(i.action)(function(e){n._status="complete",n._result=e}),Object(i.action)(function(e){n._status="error",n._error=e}))})}var t,n,r;return t=e,(n=[{key:"status",get:function(){return this._status}},{key:"result",get:function(){return this._result}},{key:"error",get:function(){return this._error}},{key:"promise",get:function(){return this._promise}}])&&a(t.prototype,n),r&&a(t,r),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}l([i.observable],c.prototype,"_status",void 0),l([i.observable],c.prototype,"_result",void 0),l([i.observable],c.prototype,"_error",void 0),l([i.computed],c.prototype,"status",null),l([i.computed],c.prototype,"result",null),l([i.computed],c.prototype,"error",null),l([i.computed],c.prototype,"promise",null);var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pendingDeletions=[]}var t,n,i;return t=e,(n=[{key:"getPendingDeletions",value:function(){return this._pendingDeletions=this._pendingDeletions.filter(function(e){return"pending"!==e.status}),this._pendingDeletions.map(function(e){return e.promise})}},{key:"addGroup",value:function(e){return r.post(Object(o.g)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"updateGroup",value:function(e,t){return r.post("".concat(Object(o.g)(),"/").concat(e)).send(t)}},{key:"getGroup",value:function(e){return r.get("".concat(Object(o.g)(),"/").concat(e)).then(function(e){return e.body})}},{key:"getGroupsForStudies",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.getPendingDeletions());case 2:return t.abrupt("return",r.post(Object(o.d)()).send(e).then(function(e){return e.body}));case 3:case"end":return t.stop()}},t,this)}))}},{key:"deleteGroup",value:function(e){var t=r.get("".concat(Object(o.g)(),"/delete/").concat(e)).then(function(){});return this._pendingDeletions.push(new c(t)),t}},{key:"addComparisonSession",value:function(e){return r.post(Object(o.i)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"getComparisonSession",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("".concat(Object(o.i)(),"/").concat(e)).then(function(e){return e.body});case 2:return n=t.sent,t.abrupt("return",Object.assign(n.data,{id:n.id}));case 4:case"end":return t.stop()}},t)}))}}])&&u(t.prototype,n),i&&u(t,i),e}());t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(7);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.some(t,function(e){return"error"===e.status})?"error":r.some(t,function(e){return"pending"===e.status})?"pending":"complete"}},function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});var r=n(7),o=n(548),i="Coexpression data can be filtered by gene, or by cytoband. To exclude all genes from a cytoband, prefix with a dash -. For example, to exclude all genes on 1p, search '-1p'.";function a(e){return r.sortBy(e,function(e){return e.molecularProfileId.toLowerCase().indexOf("rna_seq")>-1?0:1})}function s(e){return a(e.filter(function(e){var t=!1;if(e.molecularAlterationType===o.a.MRNA_EXPRESSION||e.molecularAlterationType===o.a.PROTEIN_LEVEL){var n=e.molecularProfileId.toLowerCase();t=n.indexOf("merged_median_zscores")>-1||-1===n.indexOf("zscores")}return t}))}function l(e){return e.filter(function(e){var t=!1;e.molecularAlterationType===o.a.GENESET_SCORE&&(t=-1===e.molecularProfileId.toLowerCase().indexOf("gsva_pvalues"));return t})}function c(e,t){return e.map(function(e){var n=e.name;if(t){var r=t[e.molecularProfileId];n+=" (".concat(r," sample").concat(1!==r?"s":"",")")}return{label:n,value:e.molecularProfileId}})}},function(e,t,n){"use strict";function r(e,t,n,r,o){return t?t.reduce(function(t,i){var a=e[i];if(a){var s=a.find(function(e){return e.clinicalAttributeId===n}),l=a.find(function(e){return e.clinicalAttributeId===r});s&&l&&"NA"!=s.value&&"NA"!=l.value&&!Number.isNaN(Number(l.value))&&t.push({uniquePatientKey:i,patientId:a[0].patientId,studyId:a[0].studyId,status:o(s.value),months:parseFloat(l.value)})}return t},[]):[]}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return new Promise(function(t){return setTimeout(t,e)})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return new Promise(function(r){var o=0,i=setInterval(function(){if(o+=t,e())clearInterval(i),r();else if(o>n)throw clearInterval(i),new Error("sleepUntil timeout")},t)})}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n,r){return"in"in e&&(e.when=e.in),i.default.Children.count(r)<2?i.default.createElement(a.default,o({},e,{inEffect:t,outEffect:n,children:r})):(r=i.default.Children.map(r,function(r){return i.default.createElement(a.default,o({},e,{inEffect:t,outEffect:n,children:r}))}),"Fragment"in i.default?i.default.createElement(i.default.Fragment,null,r):i.default.createElement("span",null,r))};var i=r(n(0)),a=r(n(961));e.exports=t.default},function(e,t,n){e.exports=n(15)(1017)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return h});var r=n(7),o=n(661),i=["5xzc"];function a(e,t){var n={pdbInfo:e.title};return r.find(e.compound,function(e){if(e.molecule&&-1!==r.indexOf(e.chain,t.toLowerCase()))return n.moleculeInfo=e.molecule,e}),n}function s(e){return function(e){var t={};return e.forEach(function(e){t[e.pdbId]||(t[e.pdbId]={}),t[e.pdbId][e.chain]||(t[e.pdbId][e.chain]=[]),t[e.pdbId][e.chain].push(e)}),t}(e)}function l(e){var t=[];return r.each(e,function(e){r.each(e,function(e){var n=function(e){var t,n="";if(!(e.length>0))return;t=e[0].seqFrom;return e.forEach(function(e){var r=function(e){var t,n=e.midlineAlign,r=e.seqAlign,o=e.pdbAlign;if(n.length===r.length&&n.length===o.length){for(var i=[],a=0;a<n.length;a++)"-"!==r[a]&&("-"===o[a]?i.push("-"):i.push(n[a]));t=i.join("")}return t}(e)||"",o=Math.abs(e.seqFrom-t);if(e.seqFrom<t){var i=Math.abs(r.length-o);n=r.length>=o?r+n.substr(i):r+c(i)+n}else if(e.seqFrom>=t){var a=Math.abs(n.length-o);n=n.length>=o?n.substr(0,n.length-a)+r+n.substr(n.length-a+r.length):n+c(a)+r}t=Math.min(t,e.seqFrom)}),{pdbId:e[0].pdbId,chain:e[0].chain,uniprotStart:t,uniprotEnd:t+n.length-1,alignment:n,identityPerc:u(n),identity:p(n)}}(e);n&&t.push(n)})}),t}function c(e){for(var t=[],n=0;n<e;n++)t.push(o.a);return t.join("")}function u(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=e[r];i===o.a?t++:i!==o.b&&i!==o.c&&i!==o.d||n++}return 1-n/(e.length-t)}function p(e){e=e.toLowerCase();for(var t=0,n=0;n<e.length;n++)e[n].match(/[a-z]/)&&t++;return t}function h(e,t){for(var n=[0,0,0,0],r=t?-1:1,o=0;o<e.length||o<5;o++)n.push(r*e.charCodeAt(o));return n}},function(e,t,n){"use strict";var r=n(5);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,s=0;return n=e instanceof Array?e:[e],Object(r.autorun)(function(e){n.reduce(function(e,t){return e&&t.isComplete},!0)&&(t.apply(void 0,o(n.map(function(e){return e.result}))),s+=1),s>=i&&(e.dispose(),a&&a())})}},,function(e,t,n){"use strict";function r(e){return e.hasOwnProperty("sampleId")}function o(e){return!e.length||r(e[0])}var i=n(578),a=n(7),s=n.n(a),l=n(590),c=n(574),u=n(4);n.d(t,"b",function(){return y}),n.d(t,"f",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return C}),n.d(t,"c",function(){return T});var p={"-2":"homdel","-1":"hetloss",0:void 0,1:"gain",2:"amp"},h=Object(u.ab)(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other"]),d={amp:0,homdel:0,gain:1,hetloss:1},f={high:0,low:0},m={high:0,low:0};function y(e){if("promoter"===(e.proteinChange||"").toLowerCase())return"promoter";var t=Object(i.c)(e.mutationType);switch(t){case"missense":case"inframe":case"fusion":case"other":return t;default:return"trunc"}}function g(e,t){var n=Object.keys(e).map(function(t){return{key:t,value:e[t]}});return n.length>0?(n.sort(function(e,n){var r=t[e.key]-t[n.key];return r<0?-1:r>0?1:e.value<n.value?1:e.value>n.value?-1:0}),n[0].key):void 0}function v(e,t,n){e.trackLabel=t,e.data=n;var r=!1,o={},i={},a={},s={},c={},u=new RegExp(l.c,"i"),v=!0,b=!1,S=void 0;try{for(var w,C=n[Symbol.iterator]();!(v=(w=C.next()).done);v=!0){var _=w.value;switch(_.molecularProfileAlterationType){case"COPY_NUMBER_ALTERATION":var k=p[_.value];k&&(o[k]=o[k]||0,o[k]+=1);break;case"MRNA_EXPRESSION":if(_.alterationSubType){var T=_.alterationSubType;i[T]=i[T]||0,i[T]+=1}break;case"PROTEIN_LEVEL":if(_.alterationSubType){var x=_.alterationSubType;a[x]=a[x]||0,a[x]+=1}break;case"MUTATION_EXTENDED":var E=y(_);"fusion"===E?r=!0:(_.putativeDriver&&(E+="_rec"),c[E]=c[E]||u.test(_.mutationStatus),s[E]=s[E]||0,s[E]+=1)}}}catch(e){b=!0,S=e}finally{try{v||null==C.return||C.return()}finally{if(b)throw S}}return r&&(e.disp_fusion=!0),e.disp_cna=g(o,d),e.disp_mrna=g(i,f),e.disp_prot=g(a,m),e.disp_mut=g(s,h),e.disp_germ=e.disp_mut?c[e.disp_mut]:void 0,e}function b(e,t,n,r,i){if(!n.length)return[];var a=t instanceof Array?t:[t],l=s.a.keyBy(i,function(e){return e.molecularProfileId}),c=[];if(o(n)){var u=!0,p=!1,h=void 0;try{for(var d,f=function(){var t=d.value,n={};n.sample=t.sampleId,n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniqueSampleKey;var o=r.samples[t.uniqueSampleKey];n.profiled_in=s.a.flatMap(a,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!l[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=s.a.flatMap(a,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!l[e.molecularProfileId]});var i=e[t.uniqueSampleKey];c.push(v(n,a.join(" / "),i))},m=n[Symbol.iterator]();!(u=(d=m.next()).done);u=!0)f()}catch(e){p=!0,h=e}finally{try{u||null==m.return||m.return()}finally{if(p)throw h}}}else{var y=!0,g=!1,b=void 0;try{for(var S,w=function(){var t=S.value,n={};n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniquePatientKey;var o=r.patients[t.uniquePatientKey];n.profiled_in=s.a.flatMap(a,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!l[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=s.a.flatMap(a,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!l[e.molecularProfileId]});var i=e[t.uniquePatientKey];c.push(v(n,a.join(" / "),i))},C=n[Symbol.iterator]();!(y=(S=C.next()).done);y=!0)w()}catch(e){g=!0,b=e}finally{try{y||null==C.return||C.return()}finally{if(g)throw b}}}return c}function S(e,t,n,o,i,a){e[t]=n,e.study_id=o.studyId;var l=s.a.filter(i,function(e){return!isNaN(e.value)});if(l&&l.length)if(1===l.length)e.profile_data=l[0].value,l[0].thresholdType&&(e.thresholdType=l[0].thresholdType,e.category=e.profile_data&&e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0);else{if(r(o))throw Error("Unexpectedly received multiple heatmap profile data for one sample");var c;switch(a){case"ASC":var u=s()(l).map(function(e){return e.value}).min();c=w(u,l,!1);break;case"DESC":c=w(u=s()(l).map(function(e){return e.value}).max(),l,!1);break;default:c=w(u=s.a.maxBy(l,function(e){return Math.abs(e.value)}).value,l,!0)}void 0===c&&(c=l[0]),e.profile_data=c.value,c.thresholdType&&(e.thresholdType=c.thresholdType,e.category=e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0)}else e.profile_data=null,e.na=!0;return e}function w(e,t,n){var r=n?function(t){return Math.abs(t.value)===e}:function(t){return t.value===e},o=s.a.filter(t,r),i=s.a.filter(o,function(e){return!e.thresholdType});return i.length>0?i[0]:o[0]}function C(e,t,n,r,i){if(!n.length)return[];var a,l;o(n);return o(n)?(a=s.a.groupBy(r,function(e){return e.uniqueSampleKey}),l=n.map(function(n){var r={};r.sample=n.sampleId,r.uid=n.uniqueSampleKey;var o=a[n.uniqueSampleKey];return S(r,e,t,n,o),r})):(a=s.a.groupBy(r,function(e){return e.uniquePatientKey}),l=n.map(function(n){var r={};r.patient=n.patientId,r.uid=n.uniquePatientKey;var o=a[n.uniquePatientKey];return S(r,e,t,n,o,i),r})),l}function _(e,t){"MUTATION_COUNT"===t.clinicalAttributeId?e.attr_val=0:e.na=!0}function k(e,t,n,r){if(e.attr_id=t.clinicalAttributeId,e.study_id=n.studyId,e.attr_val_counts={},r&&r.length){if("number"===t.datatype.toLowerCase()){var o=[],i=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var p=l.value,h=parseFloat(p.value+"");isNaN(h)||o.push(h)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}if(0===o.length)_(e,t);else{switch(t.clinicalAttributeId){case"MUTATION_COUNT":e.attr_val=o.reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY);break;default:e.attr_val=o.reduce(function(e,t){return e+t},0)/o.length}e.attr_val_counts[e.attr_val]=1}}else if("string"===t.datatype.toLowerCase()){var d=e.attr_val_counts,f=!0,m=!1,y=void 0;try{for(var g,v=r[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;d[b.value]=d[b.value]||0,d[b.value]+=1}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}var S=Object.keys(d);S.length>1?e.attr_val="Mixed":e.attr_val=S[0]}else if(t.clinicalAttributeId===c.a.MutationSpectrum){var w=r,C=e.attr_val_counts;C["C>A"]=0,C["C>G"]=0,C["C>T"]=0,C["T>A"]=0,C["T>C"]=0,C["T>G"]=0;var k=!0,T=!1,x=void 0;try{for(var E,A=w[Symbol.iterator]();!(k=(E=A.next()).done);k=!0){var O=E.value;C["C>A"]+=O.CtoA,C["C>G"]+=O.CtoG,C["C>T"]+=O.CtoT,C["T>A"]+=O.TtoA,C["T>C"]+=O.TtoC,C["T>G"]+=O.TtoG}}catch(e){T=!0,x=e}finally{try{k||null==A.return||A.return()}finally{if(T)throw x}}0===C["C>A"]&&0===C["C>G"]&&0===C["C>T"]&&0===C["T>A"]&&0===C["T>C"]&&0===C["T>G"]&&_(e,t),e.attr_val=e.attr_val_counts}}else _(e,t);return e}function T(e,t,n){s.a.groupBy(n,o(t)?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey});var r=function(e,t,n){if(e.patientAttribute){var r=s.a.groupBy(n,function(e){return e.uniquePatientKey});return function(e){return r[e.uniquePatientKey]}}var o="sample"===t?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey},i=s.a.groupBy(n,o);return function(e){return i[o(e)]}}(e,o(t)?"sample":"patient",n);return o(t)?t.map(function(t){var n={};return n.uid=t.uniqueSampleKey,n.sample=t.sampleId,k(n,e,t,r(t)),n}):t.map(function(t){var n={};return n.uid=t.uniquePatientKey,n.patient=t.patientId,k(n,e,t,r(t)),n})}},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var r=n(553),o=n(577);function i(e){var t={};return e.forEach(function(e){e.keyword in t||(t[e.keyword]=[]),t[e.keyword].push(e)}),t}function a(e){var t={};return e.forEach(function(e){e.hugoGeneSymbol in t||(t[e.hugoGeneSymbol]=[]),t[e.hugoGeneSymbol].push(e)}),t}function s(e){return e.type.toLowerCase().includes("single")||e.type.toLowerCase().includes("indel")}function l(e,t){return Object(r.J)(Object(o.a)(e),t,s)}function c(e,t){return Object(r.J)(Object(o.a)(e),t,function(e){return e.type.toLowerCase().includes("3d")})}},function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return D});var r=n(0),o=n(11),i=n(5),a=n(601),s=n.n(a),l=n(92),c=n(608),u=n.n(c),p=(n(701),n(599)),h=n(7),d=n(565),f=n(683),m=n(561),y=n(559),g=n(16),v=n(4),b=n(25),S=n(551),w=n(28),C=n.n(w),_=n(654);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P,I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},M=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};!function(e){e.TOOLTIP="tooltip",e.CHART="chart"}(P||(P={}));var D=["OS_STATUS","OS_MONTHS","DFS_STATUS","DFS_MONTHS"],L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=x(t).call(this,e),(n=!o||"object"!==O(o)&&"function"!=typeof o?E(r):o).highlightedCurve="",n.sliderValue=n.maximumDataMonthValue,n.isTooltipHovered=!1,n.tooltipCounter=0,n.styleOptsDefaultProps={width:900,height:500,padding:{top:20,bottom:50,left:60,right:20},tooltipXOffset:20,tooltipYOffset:-47,axis:{x:{axisLabel:{padding:35},grid:{opacity:0}},y:{axisLabel:{padding:45,fill:"black"},grid:{opacity:0}}},pValue:{x:610,y:30,textAnchor:"start"},legend:{x:600,y:50}},n.events=[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(e){return n.tooltipModel=e,n.tooltipCounter++,{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return M(E(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(100);case 2:return this.isTooltipHovered||1!==this.tooltipCounter||(this.tooltipModel=null),this.tooltipCounter--,e.abrupt("return",{active:!1});case 5:case"end":return e.stop()}},e,this)}))}}]}}}],n.tooltipMouseEnter=n.tooltipMouseEnter.bind(E(n)),n.tooltipMouseLeave=n.tooltipMouseLeave.bind(E(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,r["Component"]),n=t,(o=[{key:"toSVGDOMNode",value:function(){return Object(S.pb)(this.svgContainer.firstChild,{legendGroupSelector:".survivalChartDownloadLegend",selectorToHide:".survivalChartLegendHideForDownload"})}},{key:"tooltipMouseEnter",value:function(){this.isTooltipHovered=!0}},{key:"tooltipMouseLeave",value:function(){this.isTooltipHovered=!1,this.tooltipModel=null}},{key:"getSvg",value:function(){return this.toSVGDOMNode()}},{key:"getData",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this.analysisGroupsWithData[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push({scatterData:Object(f.h)(this.sortedGroupedSurvivals[a.value],this.estimates[a.value],a.value),title:void 0!==a.name?a.name:a.value})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Object(f.e)(e,this.props.title)}},{key:"hoverCircleFillOpacity",value:function(e,t){return t||this.isTooltipHovered&&this.tooltipModel&&this.tooltipModel.datum.studyId===e.studyId&&this.tooltipModel.datum.patientId===e.patientId?.3:0}},{key:"getAxisTickCount",value:function(e){return 5*Math.ceil(e/200)}},{key:"onSliderChange",value:function(e){this.sliderValue=e}},{key:"onSliderTextChange",value:function(e){this.sliderValue=Number.parseFloat(e)}},{key:"render",value:function(){return 0===this.props.patientSurvivals.length?r.createElement("div",{className:"alert alert-info"},"No data to plot."):r.createElement("div",{style:{position:"relative"}},this.props.legendLocation===P.TOOLTIP?r.createElement(v.c,{mouseLeaveDelay:.2,placement:"rightBottom",overlay:this.chartTooltip},this.chart):this.chart,this.tooltipModel&&r.createElement(l.Popover,k({arrowOffsetTop:56,className:C()("cbioportal-frontend","cbioTooltip",u.a.Tooltip),positionLeft:this.tooltipModel.x+this.styleOpts.tooltipXOffset},{container:this},{positionTop:this.tooltipModel.y+this.styleOpts.tooltipYOffset,onMouseEnter:this.tooltipMouseEnter,onMouseLeave:this.tooltipMouseLeave}),r.createElement("div",null,"Patient ID:"," ",r.createElement("a",{href:Object(g.u)(this.tooltipModel.datum.studyId,this.tooltipModel.datum.patientId),target:"_blank"},this.tooltipModel.datum.patientId),r.createElement("br",null),!!this.props.showCurveInTooltip&&["Curve: ".concat(this.tooltipModel.datum.group),r.createElement("br",null)],this.props.yLabelTooltip,":"," ",this.tooltipModel.datum.y.toFixed(2),"%",r.createElement("br",null),this.tooltipModel.datum.status?this.props.xLabelWithEventTooltip:this.props.xLabelWithoutEventTooltip,": ",this.tooltipModel.datum.x.toFixed(2)," months"," ",this.tooltipModel.datum.status?"":"(censored)",r.createElement("br",null),this.props.analysisClinicalAttribute&&r.createElement("span",null,this.props.analysisClinicalAttribute.displayName,":"," ",this.props.patientToAnalysisGroups[this.tooltipModel.datum.uniquePatientKey]))),this.props.showTable&&r.createElement("table",{className:"table table-striped",style:{marginTop:20,width:"100%"}},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null,this.props.totalCasesHeader),r.createElement("td",null,this.props.statusCasesHeader),r.createElement("td",null,this.props.medianMonthsHeader)),this.tableRows)))}},{key:"styleOpts",get:function(){var e=h.merge({},this.styleOptsDefaultProps,this.props.styleOpts);return e.padding.right=this.props.legendLocation===P.CHART?300:e.padding.right,this.props.styleOpts&&this.props.styleOpts.legend&&void 0!==this.props.styleOpts.legend.x||(e.legend.x=e.width-e.padding.right),e}},{key:"downSamplingDenominators",get:function(){return{x:this.styleOpts.width-this.styleOpts.padding.left-this.styleOpts.padding.right,y:this.styleOpts.height-this.styleOpts.padding.top-this.styleOpts.padding.bottom}}},{key:"sortedGroupedSurvivals",get:function(){var e=this.props.patientToAnalysisGroups,t=h.reduce(this.props.patientSurvivals,function(t,n){n.uniquePatientKey in e&&e[n.uniquePatientKey].forEach(function(e){t[e]=t[e]||[],t[e].push(n)});return t},{});return h.mapValues(t,function(e){return e.sort(function(e,t){return e.months-t.months})})}},{key:"estimates",get:function(){return h.mapValues(this.sortedGroupedSurvivals,function(e){return Object(f.f)(e)})}},{key:"unfilteredScatterData",get:function(){var e=this;return h.mapValues(this.sortedGroupedSurvivals,function(t,n){var r=e.estimates[n],o=e.analysisGroupsMap[n].name;return{numOfCases:t.length,line:Object(f.g)(t,r),scatterWithOpacity:Object(f.i)(t,r,o),scatter:Object(f.h)(t,r,o)}})}},{key:"scatterData",get:function(){return Object(f.d)(this.unfilteredScatterData,this.scatterFilter,{xDenominator:this.downSamplingDenominators.x,yDenominator:this.downSamplingDenominators.y,threshold:1e3})}},{key:"analysisGroupsMap",get:function(){return h.keyBy(this.props.analysisGroups,function(e){return e.value})}},{key:"logRankTestPVal",get:function(){return 2===this.analysisGroupsWithData.length?Object(f.c)(this.sortedGroupedSurvivals[this.analysisGroupsWithData[0].value],this.sortedGroupedSurvivals[this.analysisGroupsWithData[1].value]):null}},{key:"victoryLegendData",get:function(){var e=[];if(this.props.legendLocation===P.CHART){var t=!0,n=!1,r=void 0;try{for(var o,i=this.analysisGroupsWithData[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push({name:a.legendText||a.name||a.value,symbol:{fill:a.color,strokeOpacity:0,type:"square",size:6}})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}return e}},{key:"pValueText",get:function(){return this.props.showLogRankPVal&&null!==this.logRankTestPVal?r.createElement(d.VictoryLabel,{x:this.styleOpts.pValue.x,y:this.styleOpts.pValue.y,style:m.c,textAnchor:this.styleOpts.pValue.textAnchor,text:"Logrank Test P-Value: ".concat(Object(y.a)(this.logRankTestPVal,3,.01))}):null}},{key:"legendDataForDownload",get:function(){var e=this.analysisGroupsWithData.map(function(e){return{name:e.name?e.name:e.value,symbol:{fill:e.color,strokeOpacity:0,type:"square",size:6}}});return this.props.naPatientsHiddenInSurvival&&e.push({name:"* Patients with NA for any of the selected attributes are excluded",symbol:{opacity:0}}),e}},{key:"analysisGroupsWithData",get:function(){var e=this,t=this.props.analysisGroups;return t=t.filter(function(t){return t.value in e.scatterData&&e.scatterData[t.value].numOfCases>0})}},{key:"scattersAndLines",get:function(){var e=this,t=this.analysisGroupsWithData,n=(t=h.sortBy(t,function(t){return e.highlightedCurve===t.value?1:0})).map(function(t){return r.createElement(d.VictoryLine,{key:t.value,interpolation:"stepAfter",data:e.scatterData[t.value].line,style:{data:{stroke:t.color,strokeWidth:e.highlightedCurve===t.value?4:1,fill:"#000000",fillOpacity:0}}})}),o=t.map(function(t){return r.createElement(d.VictoryScatter,{key:t.value,data:e.scatterData[t.value].scatterWithOpacity,symbol:"plus",style:{data:{fill:t.color,opacity:function(e){return e.opacity}}},size:3})}),i=t.map(function(t){return r.createElement(d.VictoryScatter,{key:t.value,data:e.scatterData[t.value].scatter,symbol:"circle",style:{data:{fill:t.color,fillOpacity:e.hoverCircleFillOpacity}},size:10,events:e.events})});return n.concat(o).concat(i)}},{key:"legendForDownload",get:function(){var e=h.cloneDeep(m.d);return e.legend.style.data={type:"square",size:5,strokeWidth:0,stroke:"black"},r.createElement(d.VictoryLegend,{x:0,y:this.styleOpts.height+1,style:Object.assign({},e.legend.style,{title:{fontWeight:"bold"}}),title:this.props.title,rowGutter:-10,data:this.legendDataForDownload,groupComponent:r.createElement("g",{className:"survivalChartDownloadLegend"})})}},{key:"xAxisTickCount",get:function(){return this.getAxisTickCount(this.showLegend?this.styleOpts.legend.x:this.styleOpts.width)}},{key:"showLegend",get:function(){return this.victoryLegendData.length>0}},{key:"maximumDataMonthValue",get:function(){return h.chain(this.sortedGroupedSurvivals).map(function(e){return e[e.length-1].months}).max().ceil().value()}},{key:"chart",get:function(){var e=this;return r.createElement("div",{className:this.props.className,"data-test":"SurvivalChart"},this.props.showDownloadButtons&&r.createElement(v.d,{dontFade:!0,filename:this.props.fileName,buttons:["SVG","PNG","PDF","Data"],getSvg:this.getSvg,getData:this.getData,style:{position:"absolute",zIndex:10,right:10},type:"button"}),this.props.showSlider&&r.createElement("div",{className:"small",style:{display:"flex",alignItems:"center",marginLeft:60}},r.createElement("span",null,"X-Axis Max:"),r.createElement("div",{className:"RangeSliderContainer",style:{width:300,marginLeft:10,marginRight:10}},r.createElement(s.a,{min:0,max:this.maximumDataMonthValue,value:this.sliderValue,onChange:this.onSliderChange,tooltip:!1,step:1})),r.createElement(v.e,{className:u.a.XmaxNumberInput,value:this.sliderValue.toString(),setValue:this.onSliderTextChange,numericOnly:!0}),r.createElement("span",null,Object(v.V)("Month",this.sliderValue)," Survival")),r.createElement(d.VictoryChart,{containerComponent:r.createElement(d.VictoryZoomContainer,{responsive:!1,disable:!0,zoomDomain:this.props.showSlider?{x:[0,this.sliderValue]}:void 0,onZoomDomainChange:h.debounce(function(t){e.scatterFilter=t},1e3),containerRef:function(t){return e.svgContainer=t}}),height:this.styleOpts.height,width:this.styleOpts.width,padding:this.styleOpts.padding,theme:m.d,domainPadding:{x:[10,50],y:[20,20]}},r.createElement(d.VictoryAxis,{style:this.styleOpts.axis.x,crossAxis:!1,tickCount:this.xAxisTickCount,label:this.props.xAxisLabel}),r.createElement(d.VictoryAxis,{label:this.props.yAxisLabel,dependentAxis:!0,tickFormat:function(e){return"".concat(e,"%")},tickCount:11,style:this.styleOpts.axis.y,domain:[0,100],crossAxis:!1}),this.scattersAndLines,this.showLegend&&r.createElement(d.VictoryLegend,{x:this.styleOpts.legend.x,y:this.styleOpts.legend.y,data:this.victoryLegendData,labelComponent:this.props.legendLabelComponent||r.createElement(_.a,{dy:"0.3em",maxWidth:256}),groupComponent:r.createElement("g",{className:"survivalChartLegendHideForDownload"})}),this.legendForDownload,this.pValueText))}},{key:"chartTooltip",get:function(){var e=this;return r.createElement("div",{style:{maxWidth:250}},this.analysisGroupsWithData.map(function(t){return r.createElement("span",{key:t.value,style:{display:"inline-block",marginRight:12,fontWeight:e.highlightedCurve===t.value?"bold":"initial",cursor:"pointer"},onClick:function(){e.highlightedCurve=e.highlightedCurve===t.value?"":t.value}},r.createElement("div",{style:{width:10,height:10,display:"inline-block",backgroundColor:t.color,marginRight:5}}),t.name?t.name:t.value)}),this.props.showNaPatientsHiddenToggle&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.naPatientsHiddenInSurvival,onClick:this.props.toggleSurvivalHideNAPatients})," ","Exclude patients with NA for any of the selected attributes.")))}},{key:"tableRows",get:function(){var e=this;return this.props.analysisGroups.map(function(t){return r.createElement("tr",null,r.createElement("td",null,t.name?t.name:t.value),Object(f.j)(e.sortedGroupedSurvivals[t.value],e.estimates[t.value]).map(function(e){return r.createElement("td",null,r.createElement("b",null,e))}))})}}])&&T(n.prototype,o),i&&T(n,i),t}();L.defaultProps={showTable:!0,showSlider:!0,legendLocation:P.CHART,showLogRankPVal:!0,showNaPatientsHiddenToggle:!1,showDownloadButtons:!0},I([i.observable.ref],L.prototype,"tooltipModel",void 0),I([i.observable],L.prototype,"scatterFilter",void 0),I([i.observable],L.prototype,"highlightedCurve",void 0),I([i.observable],L.prototype,"sliderValue",void 0),I([i.computed],L.prototype,"styleOpts",null),I([i.computed],L.prototype,"downSamplingDenominators",null),I([i.computed],L.prototype,"sortedGroupedSurvivals",null),I([i.computed],L.prototype,"estimates",null),I([i.computed],L.prototype,"unfilteredScatterData",null),I([i.computed],L.prototype,"scatterData",null),I([i.computed],L.prototype,"analysisGroupsMap",null),I([i.computed],L.prototype,"logRankTestPVal",null),I([i.computed],L.prototype,"victoryLegendData",null),I([i.computed],L.prototype,"legendDataForDownload",null),I([b.a],L.prototype,"getSvg",null),I([b.a],L.prototype,"getData",null),I([b.a],L.prototype,"hoverCircleFillOpacity",null),I([i.computed],L.prototype,"analysisGroupsWithData",null),I([i.computed],L.prototype,"scattersAndLines",null),I([i.computed],L.prototype,"legendForDownload",null),I([i.computed],L.prototype,"xAxisTickCount",null),I([i.computed],L.prototype,"showLegend",null),I([i.computed],L.prototype,"maximumDataMonthValue",null),I([b.a,i.action],L.prototype,"onSliderChange",null),I([b.a,i.action],L.prototype,"onSliderTextChange",null),I([i.computed],L.prototype,"chart",null),I([i.computed],L.prototype,"chartTooltip",null),I([i.computed],L.prototype,"tableRows",null),L=I([o.observer],L),t.c=L},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1kueS",framedImage:"styles-module__framedImage__1ndwn",SurvivalTable:"styles-module__SurvivalTable__2NKCT",Tooltip:"styles-module__Tooltip__1I-Ty",NotAvailable:"styles-module__NotAvailable__1Zx5R",XmaxNumberInput:"styles-module__XmaxNumberInput__SQsf6"}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1w8-Y",framedImage:"styles-module__framedImage__bM7JH","integer-data":"styles-module__integer-data__1Bn0H"}},,function(e,t,n){"use strict";var r,o=n(648),i=n(555),a=n(7),s=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c;!function(e){e.defaultGrayRectangle="defaultGrayRectangle",e.ampRectangle="ampRectangle",e.gainRectangle="gainRectangle",e.homdelRectangle="homdelRectangle",e.hetlossRectangle="hetlossRectangle",e.mrnaHighRectangle="mrnaHighRectangle",e.mrnaLowRectangle="mrnaLowRectangle",e.protHighRectangle="protHighRectangle",e.protLowRectangle="protLowRectangle",e.fusionRectangle="fusionRectangle",e.germlineRectangle="germlineRectangle",e.missenseMutationDriverRectangle="missenseMutationDriverRectangle",e.missenseMutationVUSRectangle="missenseMutationVUSRectangle",e.otherMutationRectangle="otherMutationRectangle",e.promoterMutationRectangle="promoterMutationRectangle",e.truncatingMutationDriverRectangle="truncatingMutationDriverRectangle",e.truncatingMutationVUSRectangle="truncatingMutationVUSRectangle",e.inframeMutationDriverRectangle="inframeMutationDriverRectangle",e.inframeMutationVUSRectangle="inframeMutationVUSRectangle"}(c||(c={}));var u=(l(r={},c.defaultGrayRectangle,{type:"rectangle",fill:i.e,z:1}),l(r,c.ampRectangle,{type:"rectangle",fill:i.a,x:0,y:0,width:100,height:100,z:2}),l(r,c.gainRectangle,{type:"rectangle",fill:i.b,x:0,y:0,width:100,height:100,z:2}),l(r,c.homdelRectangle,{type:"rectangle",fill:i.d,x:0,y:0,width:100,height:100,z:2}),l(r,c.hetlossRectangle,{type:"rectangle",fill:i.c,x:0,y:0,width:100,height:100,z:2}),l(r,c.mrnaHighRectangle,{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:i.i,"stroke-width":2,x:0,y:0,width:100,height:100,z:3}),l(r,c.mrnaLowRectangle,{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:i.j,"stroke-width":2,x:0,y:0,width:100,height:100,z:3}),l(r,c.protHighRectangle,{type:"rectangle",fill:i.u,x:0,y:0,width:100,height:20,z:4}),l(r,c.protLowRectangle,{type:"rectangle",fill:i.v,x:0,y:80,width:100,height:20,z:4}),l(r,c.fusionRectangle,{type:"rectangle",fill:i.k,x:0,y:20,width:100,height:60,z:5}),l(r,c.germlineRectangle,{type:"rectangle",fill:i.l,x:0,y:46,width:100,height:8,z:7}),l(r,c.missenseMutationDriverRectangle,{type:"rectangle",fill:i.o,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.missenseMutationVUSRectangle,{type:"rectangle",fill:i.p,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.otherMutationRectangle,{type:"rectangle",fill:i.q,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.promoterMutationRectangle,{type:"rectangle",fill:i.r,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.truncatingMutationDriverRectangle,{type:"rectangle",fill:i.s,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.truncatingMutationVUSRectangle,{type:"rectangle",fill:i.t,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.inframeMutationDriverRectangle,{type:"rectangle",fill:i.m,x:0,y:33.33,width:100,height:33.33,z:6}),l(r,c.inframeMutationVUSRectangle,{type:"rectangle",fill:i.n,x:0,y:33.33,width:100,height:33.33,z:6}),r),p={always:{shapes:[u[c.defaultGrayRectangle]],legend_label:"No alterations",legend_order:Number.POSITIVE_INFINITY},conditional:{disp_cna:{amp:{shapes:[u[c.ampRectangle]],legend_label:"Amplification",legend_order:10},gain:{shapes:[u[c.gainRectangle]],legend_label:"Gain",legend_order:11},homdel:{shapes:[u[c.homdelRectangle]],legend_label:"Deep Deletion",legend_order:12},hetloss:{shapes:[u[c.hetlossRectangle]],legend_label:"Shallow Deletion",legend_order:13}},disp_mrna:{high:{shapes:[u[c.mrnaHighRectangle]],legend_label:"mRNA High",legend_order:20},low:{shapes:[u[c.mrnaLowRectangle]],legend_label:"mRNA Low",legend_order:21}},disp_prot:{high:{shapes:[u[c.protHighRectangle]],legend_label:"Protein High",legend_order:31},low:{shapes:[u[c.protLowRectangle]],legend_label:"Protein Low",legend_order:32}},disp_fusion:{true:{shapes:[u[c.fusionRectangle]],legend_label:"Fusion",legend_order:1}}}},h={disp_germ:{true:{shapes:[{type:"rectangle",fill:i.l,x:0,y:46,width:100,height:8,z:7}],legend_label:"Germline Mutation",legend_order:2}}},d={type:o.RuleSetType.GENE,legend_label:"Genetic Alteration",na_legend_label:"Not profiled",legend_base_color:i.e},f=s.a.assign({},d,{rule_params:{always:p.always,conditional:s.a.assign({},p.conditional,{disp_mut:{"trunc,inframe,missense,promoter,other,trunc_rec,inframe_rec,missense_rec,promoter_rec,other_rec":{shapes:[u[c.missenseMutationDriverRectangle]],legend_label:"Mutation",legend_order:0}}})}}),m=s.a.assign({},d,{rule_params:{always:p.always,conditional:s.a.assign({},p.conditional,{disp_mut:{"missense_rec,inframe_rec,trunc_rec,promoter_rec,other_rec":{shapes:[u[c.missenseMutationDriverRectangle]],legend_label:"Mutation (putative driver)",legend_order:0},"missense,inframe,trunc,promoter,other":{shapes:[u[c.missenseMutationVUSRectangle]],legend_label:"Mutation (unknown significance)",legend_order:0}}})}}),y=s.a.assign({},d,{rule_params:{always:p.always,conditional:s.a.assign({},p.conditional,{disp_mut:{"other,other_rec":{shapes:[u[c.otherMutationRectangle]],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[u[c.promoterMutationRectangle]],legend_label:"Promoter Mutation",legend_order:0},"trunc,trunc_rec":{shapes:[u[c.truncatingMutationDriverRectangle]],legend_label:"Truncating Mutation",legend_order:0},"inframe,inframe_rec":{shapes:[u[c.inframeMutationDriverRectangle]],legend_label:"Inframe Mutation",legend_order:0},"missense,missense_rec":{shapes:[u[c.missenseMutationDriverRectangle]],legend_label:"Missense Mutation",legend_order:0}}})}}),g=s.a.assign({},d,{rule_params:{always:p.always,conditional:s.a.assign({},p.conditional,{disp_mut:{"other,other_rec":{shapes:[u[c.otherMutationRectangle]],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[u[c.promoterMutationRectangle]],legend_label:"Promoter Mutation",legend_order:0},trunc_rec:{shapes:[u[c.truncatingMutationDriverRectangle]],legend_label:"Truncating Mutation (putative driver)",legend_order:0},trunc:{shapes:[u[c.truncatingMutationVUSRectangle]],legend_label:"Truncating Mutation (unknown significance)",legend_order:0},inframe_rec:{shapes:[u[c.inframeMutationDriverRectangle]],legend_label:"Inframe Mutation (putative driver)",legend_order:0},inframe:{shapes:[u[c.inframeMutationVUSRectangle]],legend_label:"Inframe Mutation (unknown significance)",legend_order:0},missense_rec:{shapes:[u[c.missenseMutationDriverRectangle]],legend_label:"Missense Mutation (putative driver)",legend_order:0},missense:{shapes:[u[c.missenseMutationVUSRectangle]],legend_label:"Missense Mutation (unknown significance)",legend_order:0}}})}}),v=n(548),b=n(4),S=n(605),w=n(5),C=n(560),_=n(574);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"g",function(){return P}),n.d(t,"e",function(){return I}),n.d(t,"f",function(){return M}),n.d(t,"d",function(){return D}),n.d(t,"o",function(){return L}),n.d(t,"a",function(){return R}),n.d(t,"c",function(){return F}),n.d(t,"h",function(){return G}),n.d(t,"l",function(){return z}),n.d(t,"i",function(){return V}),n.d(t,"m",function(){return H}),n.d(t,"n",function(){return U}),n.d(t,"j",function(){return q}),n.d(t,"k",function(){return W}),n.d(t,"b",function(){return K});var T=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function x(e,t,n,r){var o=this;return r.initIteration(t,n),function(){return T(o,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.next(t,5);case 2:n.t0=function(e){return{entrezGeneId:e.entrezGeneId,hugoGeneSymbol:e.hugoGeneSymbol,correlationValue:e.correlationValue,molecularProfileId:e.zScoreGeneticProfileId}},o=n.sent.map(n.t0),Object(w.runInAction)("genesetHeatmapExpansion",function(){var n=e.expansionsByGenesetHeatmapTrackKey.get(t)||[];e.expansionsByGenesetHeatmapTrackKey.set(t,n.concat(o))});case 5:case"end":return n.stop()}},n)}))}}function E(e,t,n,r,o){return Object(w.action)("genesetHeatmapUnexpansion",function(){var i=e.expansionsByGenesetHeatmapTrackKey.get(t);if(!i)throw new Error("Track '".concat(t,"' has no expansions to remove."));if(r===e.genesetHeatmapTrackGroup){var a=i.findIndex(function(e){return e.entrezGeneId===n});-1!==a&&(i.splice(a,1),i.length||o())}})}function A(e){return Object(C.f)(e)?"":e.oql_line.substring(e.gene.length).replace(";","")}function O(e){return Object(C.f)(e)?"[".concat(e.list.map(function(e){return e.oql_line}).join(" "),"]"):e.oql_line}function P(e){var t,n,r,i,a="",l="";switch(e.molecularAlterationType){case v.a.GENERIC_ASSAY:return function(e){var t,n,r,i,a;n="".concat(e.molecularProfileName);var l=e.data,c=e.pivotThreshold,u=e.sortOrder,p=[0,114,178,1],h=[204,236,255,1],d=["rgba(240,228,66,1)","rgba(0,158,115,1)","rgba(204,121,167,1)","rgba(0,0,0,1)"],f=e.maxProfileValue,m=e.minProfileValue;void 0!==c&&(f=Math.max(f,c),m=Math.min(m,c));var y=c&&(f===c||m===c),g=Math.max(0,f),v=Math.min(0,m);t=[v,g],void 0===c||y?(r=[p,h],i=[v,g]):(r=[p,h,[255,226,204,1],[213,94,0,1]],i=c<=v?[c-(g-c),c,c,g]:c>=g?[v,c,c,c+(c-v)]:[v,c,c,g]);"DESC"===u&&(t=s.a.reverse(t),i=s.a.reverse(i));var b=0;return s()(l).filter(function(e){return!!e.category}).map(function(e){return e.category}).uniq().value().forEach(function(e){void 0===a&&(a={}),a[e]=d[b++],b===d.length&&(b=0)}),{type:o.RuleSetType.GRADIENT_AND_CATEGORICAL,legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:i,null_color:"rgba(224,224,224,1)",category_key:"category",category_to_color:a}}(e);case v.a.METHYLATION:t=[0,1],n="Methylation Heatmap",i=[0,.35,1],r=[[0,0,255,1],[255,255,255,1],[255,0,0,1]];break;case v.a.MUTATION_EXTENDED:t=[0,1],n="VAF Heatmap",a="Not mutated/no VAF data",l="Not sequenced",i=[0,1],r=[[241,242,181,1],[19,80,88,1]];break;default:t=[-3,3],n="Expression Heatmap",i=[-3,0,3],r=[[0,0,255,1],[0,0,0,1],[255,0,0,1]]}return{type:o.RuleSetType.GRADIENT,legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:i,null_color:"rgba(224,224,224,1)",null_legend_label:a,na_legend_label:l,na_shapes:e.customNaShapes}}function I(){return{type:o.RuleSetType.GRADIENT,legend_label:"Gene Set Heatmap",value_key:"profile_data",value_range:[-1,1],colors:[[39,100,25,1],[77,146,33,1],[127,188,65,1],[184,225,134,1],[230,245,208,1],[247,247,247,1],[253,224,239,1],[241,182,218,1],[222,119,174,1],[197,27,125,1],[142,1,82,1]],value_stop_points:[-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1],null_color:"rgba(224,224,224,1)"}}function M(e,t,n){var r;return r=e||t?!e&&t?m:e&&!t?y:g:f,r=s.a.cloneDeep(r),n&&Object.assign(r.rule_params.conditional,h),r}function D(e){var t;switch(e.datatype){case"number":t={type:o.RuleSetType.BAR,value_key:"attr_val",value_range:e.numberRange,log_scale:e.numberLogScale};break;case"counts":t={type:o.RuleSetType.STACKED_BAR,value_key:"attr_val",categories:e.countsCategoryLabels,fills:e.countsCategoryFills};break;case"string":default:t={type:o.RuleSetType.CATEGORICAL,category_key:"attr_val",category_to_color:i.w}}return t}function L(e,t){if(0===t)return"N/P";var n,r=e/t,o=100*r;return r<.03?"0"===(n=o.toFixed(1))[n.length-1]&&(n=o.toFixed()):n=o.toFixed(),n+"%"}function N(e,t,n,r){var o=t instanceof Array?t:[t.gene];return e?s.a.uniq(s.a.flatMap(o,function(e){return n[e]})).length:s.a.uniq(s.a.flatMap(o,function(e){return r[e]})).length}function R(e,t,n,r){var o=N(e,t.oql,n,r),i=e?Object.keys(t.cases.samples).filter(function(e){return!!t.cases.samples[e].length}).length:Object.keys(t.cases.patients).filter(function(e){return!!t.cases.patients[e].length}).length;return{sequenced:o,altered:i,percent:L(i,o)}}function j(e){return e.data.length>0}function F(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,c=!1,u=void 0;try{for(var p,h=s.data[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;j(d)&&(t[d.uid]=!0)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Object.keys(t)}function G(e){var t=s.a.chain(e).map(function(e){return e.data.map(function(e){return e.uid})}).flatten().uniq().value();return s.a.difference(t,F(e))}function B(e){var t=e.sampleMode,n=e.oncoprint,r=e.samples,o=e.patients,i=e.coverageInformation,a=e.sequencedSampleKeysByGene,l=e.sequencedPatientKeysByGene,c=e.selectedMolecularProfiles,u=e.expansionIndexMap;return function e(p,h,d){var f=p.oql,m=Object(C.f)(f)?f.list.map(function(e){return e.gene}):[f.gene],y=p.cases,g=t?Object(S.d)(y.samples,m,r,i,c):Object(S.d)(y.patients,m,o,i,c),v=function(e,t,n,r){var o=N(e,t.oql,n,r),i=s.a.sumBy(t.trackData,function(e){return+j(e)});return{sequenced:o,altered:i,percent:L(i,o)}}(t,{trackData:g,oql:m},a,l),b=void 0===d?"GENETICTRACK_".concat(h):"".concat(d,"_EXPANSION_").concat(h),w=Object(C.f)(f)?function(){u.set(b,s.a.range(f.list.length))}:void 0,_=void 0!==d?function(){u.get(d).remove(h)}:void 0,k=[];if(p.mergedTrackOqlList){var T=p.mergedTrackOqlList;k=(u.get(b)||[]).map(function(t){return e(T[t],t,b)})}var x,E=v.percent,P=void 0;return 0!==v.sequenced&&(P="altered / profiled = ".concat(v.altered," / ").concat(v.sequenced)),v.sequenced>0&&v.sequenced<(t?r:o).length&&(E="".concat(E,"*")),{key:b,label:(void 0!==d?"  ":"")+(x=f,Object(C.f)(x)?x.label||x.list.map(function(e){return e.gene}).join(" / "):x.gene),sublabel:A(f),labelColor:void 0!==d?"grey":void 0,oql:O(f),info:E,infoTooltip:P,data:g,expansionCallback:w,removeCallback:_,expansionTrackList:k.length?k:void 0,customOptions:[{separator:!0},{label:"Sort by genes",onClick:n.clearSortDirectionsAndSortByData}]}}}function z(e,t){var n=this;return Object(b.W)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,e.props.store.coverageInformation,e.props.store.sequencedSampleKeysByGene,e.props.store.sequencedPatientKeysByGene,e.props.store.selectedMolecularProfiles]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=B({sampleMode:t,oncoprint:e,samples:e.props.store.samples.result,patients:e.props.store.patients.result,coverageInformation:e.props.store.coverageInformation.result,sequencedSampleKeysByGene:e.props.store.sequencedSampleKeysByGene.result,sequencedPatientKeysByGene:e.props.store.sequencedPatientKeysByGene.result,selectedMolecularProfiles:e.props.store.selectedMolecularProfiles.result,expansionIndexMap:e.expansionsByGeneticTrackKey}),n.abrupt("return",e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.map(function(e,t){return r(e,t,void 0)}));case 2:case"end":return n.stop()}},n)}))},default:[]})}function V(e,t){var n=this;return Object(b.W)({await:function(){var t=[e.props.store.samples,e.props.store.patients,e.props.store.clinicalAttributeIdToClinicalAttribute,e.alteredKeys];if(e.props.store.clinicalAttributeIdToClinicalAttribute.isComplete){var n=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e});t=t.concat(e.props.store.clinicalDataCache.getAll(n))}return t},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.selectedClinicalAttributeIds.keys().length){n.next=2;break}return n.abrupt("return",[]);case 2:return r=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e}),n.abrupt("return",r.map(function(n){var r=e.props.store.clinicalDataCache.get(n).result,o=void 0;e.onlyShowClinicalLegendForAlteredCases&&(o=e.alteredKeys.result);var i={key:e.clinicalAttributeIdToTrackKey(n.clinicalAttributeId),label:n.displayName,description:n.description,data:Object(S.c)(n,t?e.props.store.samples.result:e.props.store.patients.result,r),altered_uids:o};return Object(_.d)(n)&&(i.na_tooltip_value="No",i.na_legend_label="No"),"NUMBER"===n.datatype?(i.datatype="number","FRACTION_GENOME_ALTERED"===n.clinicalAttributeId?i.numberRange=[0,1]:"MUTATION_COUNT"===n.clinicalAttributeId?i.numberLogScale=!0:n.clinicalAttributeId===_.a.NumSamplesPerPatient&&(i.numberRange=[0,void 0],i.custom_options=t?[{label:"Show one column per patient.",onClick:function(){return e.controlsHandlers.onSelectColumnType("patient")}}]:[{label:"Show one column per sample.",onClick:function(){return e.controlsHandlers.onSelectColumnType("sample")}}])):"STRING"===n.datatype?i.datatype="string":n.clinicalAttributeId===_.a.MutationSpectrum&&(i.datatype="counts",i.countsCategoryLabels=["C>A","C>G","C>T","T>A","T>C","T>G"],i.countsCategoryFills=["#3D6EB1","#8EBFDC","#DFF1F8","#FCE08E","#F78F5E","#D62B23"]),i}));case 4:case"end":return n.stop()}},n)}))},default:[]})}function H(e,t){var n=this;return Object(b.W)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,l,c,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,i=s.a.filter(s.a.values(o),function(e){return e.molecularAlterationType!==v.a.GENERIC_ASSAY}),a=s.a.flatten(i.map(function(e){return s.a.keys(e.entities)})),n.next=6,e.props.store.geneCache.getPromise(a.map(function(e){return{hugoGeneSymbol:e}}),!0);case 6:return l=s.a.flatten(i.map(function(t){return s.a.keys(t.entities).map(function(n){return{molecularProfileId:t.molecularProfileId,entrezGeneId:e.props.store.geneCache.get({hugoGeneSymbol:n}).data.entrezGeneId,hugoGeneSymbol:n.toUpperCase()}})})),n.next=9,e.props.store.geneMolecularDataCache.result.getPromise(l,!0);case 9:return c=e.props.store.samples.result,u=e.props.store.patients.result,n.abrupt("return",l.map(function(n){var i=n.molecularProfileId,a=n.hugoGeneSymbol,l=e.props.store.geneMolecularDataCache.result.get(n).data;return{key:"HEATMAPTRACK_".concat(i,",").concat(a),label:a,molecularProfileId:i,molecularAlterationType:r[i].molecularAlterationType,datatype:r[i].datatype,data:Object(S.e)("hugo_gene_symbol",a,t?c:u,l),trackGroupIndex:o[i].trackGroupIndex,onClickRemoveInTrackMenu:Object(w.action)(function(){var t=e.molecularProfileIdToHeatmapTracks[i];if(t){var n=s.a.keys(t.entities).filter(function(e){return e!==a});0===n.length?e.removeHeatmapByMolecularProfileId(i):e.addHeatmapTracks(i,n)}void 0===t&&"heatmap"===e.sortMode.type&&e.sortMode.clusteredHeatmapProfile===i&&e.sortByData()})}}));case 12:case"end":return n.stop()}},n)}))},default:[]})}function U(e,t){var n=this;return Object(b.W)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.treatmentMolecularDataCache,e.props.store.treatmentLinkMap,e.props.store.treatmentsInStudies]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,l,c,u,p,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,i=e.props.store.treatmentLinkMap.result,a=s.a.keyBy(e.props.store.treatmentsInStudies.result,function(e){return e.treatmentId}),l=s.a.filter(o,function(e){return e.molecularAlterationType===v.a.GENERIC_ASSAY}),c=s.a.flatten(l.map(function(e){return s.a.keys(e.entities).map(function(t){return{molecularProfileId:e.molecularProfileId,treatmentId:t,treatmentName:a[t].name}})})),n.next=8,e.props.store.treatmentMolecularDataCache.result.getPromise(c,!0);case 8:return u=e.props.store.samples.result,p=e.props.store.patients.result,h=c.map(function(n){var a=n.molecularProfileId,l=r[a],c=e.props.store.treatmentMolecularDataCache.result,h=n.treatmentId,d=l.pivotThreshold,f=l.sortOrder;return{key:"TREATMENTHEATMAPTRACK_".concat(a,",").concat(h),label:n.treatmentName,molecularProfileId:n.molecularProfileId,molecularProfileName:r[a].name,molecularAlterationType:r[a].molecularAlterationType,datatype:r[a].datatype,data:Object(S.e)("treatment_id",h,t?u:p,c.get(n).data.map(function(e){return Object.assign({},e,{value:parseFloat(e.value)})}),f),pivotThreshold:d,sortOrder:f,trackLinkUrl:i[h],trackGroupIndex:o[a].trackGroupIndex,onClickRemoveInTrackMenu:Object(w.action)(function(){var t=e.molecularProfileIdToHeatmapTracks[a];if(t){var n=s.a.keys(t.entities).filter(function(e){return e!==h});e.addHeatmapTracks(a,n)}void 0===t&&"heatmap"===e.sortMode.type&&e.sortMode.clusteredHeatmapProfile===a&&e.sortByData()})}}),n.abrupt("return",h);case 12:case"end":return n.stop()}},n)}))},default:[]})}function q(e,t){var n=this;return Object(b.W)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache,e.props.store.genesetCorrelatedGeneCache]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,l,c,u,p,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.samples.result,o=e.props.store.patients.result,i=e.props.store.molecularProfileIdToMolecularProfile.result,a=e.props.store.geneMolecularDataCache.result,l=e.props.store.genesetCorrelatedGeneCache.result,c=e.genesetHeatmapTrackGroup,u=e.expansionsByGenesetHeatmapTrackKey,p=s.a.flatten(u.values().map(function(e){return e.slice()})).map(function(e){return{entrezGeneId:e.entrezGeneId,molecularProfileId:e.molecularProfileId}}),n.next=10,a.getPromise(p,!0);case 10:return h={},u.entries().forEach(function(n){var s=k(n,2),u=s[0],p=s[1];h[u]=p.map(function(n){var s=n.entrezGeneId,p=n.hugoGeneSymbol,h=n.molecularProfileId,d=n.correlationValue,f=a.get({entrezGeneId:s,molecularProfileId:h}).data,m=i[h];return{key:"EXPANSIONTRACK_".concat(u,",").concat(p,",GROUP").concat(c),label:"  "+p,labelColor:"grey",info:d.toFixed(2),molecularProfileId:h,molecularAlterationType:m.molecularAlterationType,datatype:m.datatype,data:Object(S.e)("hugo_gene_symbol",p,t?r:o,f),trackGroupIndex:c,onRemove:E(e,u,s,c,l.reset.bind(l,u))}})}),n.abrupt("return",h);case 13:case"end":return n.stop()}},n)}))},default:{}})}function W(e,t,n){var r=this;return Object(b.W)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.genesetMolecularProfile,e.props.store.genesetMolecularDataCache,e.props.store.genesetLinkMap,e.props.store.genesetCorrelatedGeneCache,n]},invoke:function(){return T(r,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,a,s,l,c,u,p,h,d,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.props.store.samples.result,i=e.props.store.patients.result,a=e.props.store.genesetMolecularProfile.result,s=e.props.store.genesetMolecularDataCache.result,l=e.props.store.genesetLinkMap.result,c=e.props.store.genesetCorrelatedGeneCache.result,u=n.result,p=e.genesetHeatmapTrackGroup,a.isApplicable){r.next=10;break}return r.abrupt("return",[]);case 10:return h=a.value.molecularProfileId,d=e.props.store.genesetIds,f=d.map(function(e){return{molecularProfileId:h,genesetId:e}}),r.next=15,s.getPromise(f,!0);case 15:return r.abrupt("return",d.map(function(n){var r="GENESETHEATMAPTRACK_".concat(h,",").concat(n);return{key:"GENESETHEATMAPTRACK_".concat(h,",").concat(n,",GROUP").concat(p),label:n,molecularProfileId:h,molecularAlterationType:a.value.molecularAlterationType,datatype:a.value.datatype,trackLinkUrl:l[n],data:Object(S.e)("geneset_id",n,t?o:i,s.get({molecularProfileId:h,genesetId:n}).data.map(function(e){return Object.assign({},e,{value:parseFloat(e.value)})})),trackGroupIndex:p,expansionCallback:x(e,r,{molecularProfileId:h,genesetId:n},c),expansionTrackList:u[r]}}));case 16:case"end":return r.stop()}},r)}))},default:[]})}function K(e,t,n){var r=function(e){return e=e.replace(/[,\s\n]+/g," ").trim(),s.a.uniq(e.split(/[,\s\n]+/))}(e),o=[];return s.a.each(r,function(e){e in n&&(o.push(e),t.includes(e)||t.push(e))}),o.length>0&&s.a.each(o,function(t){e=e.replace(t,"")}),e.trim().replace("\t+","\t").replace(" +"," ")}},function(e,t,n){"use strict";var r;function o(e){return r[e]||""}n.d(t,"a",function(){return o}),function(e){e[e.Deletion=-2]="Deletion",e[e.Amplification=2]="Amplification"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var r=n(550),o=n(552),i=n(549),a=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.H)(e,["annotation_summary"],a.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(o.e)(e);return t?Object(o.g)(t):""}(e)},function(e){return Object(o.g)(e.annotation_summary.genomicLocation)},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,i["a"]),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var r=n(550),o=n(552),i=n(549),a=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.H)(e,["annotation_summary","mutation_assessor"],a.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(o.e)(e);return t?Object(o.g)(t):""}(e)},function(e){return Object(o.g)(e.annotation_summary.genomicLocation)},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,i["a"]),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var r=n(550),o=n(552),i=n(549),a=n(3);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.H)(e,["my_variant_info"],a.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(o.e)(e);return t?Object(o.g)(t):""}(e)},function(e){return t=e.seq_region_name,n=e.start,r=e.end,o=e.allele_string,i=o.split("/")[0],a=o.split("/")[1],t+","+n.toString()+","+r.toString()+","+i+","+a;var t,n,r,o,i,a},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,i["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(619),o=n(613),i=n(620),a=n(7),s=n.n(a),l=n(614),c=n(615);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},h=function(){function e(t,n,r,o,i,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mutationData=t,this.studyToMolecularProfileDiscrete=n,this.genomeNexusCache=r,this.genomeNexusMutationAssessorCache=o,this.genomeNexusMyVariantInfoCache=i,this.mutationCountCache=a,this.discreteCNACache=s,this.allData=void 0}var t,n,a;return t=e,(n=[{key:"fetchAndCacheAllLazyData",value:function(){var e=this;return this.allData?Promise.resolve(this.allData):new Promise(function(t,n){var r=e.availablePromiseCachePairs();Promise.all(r.promises).then(function(n){e.allData=n;for(var o=0;o<n.length;o++)r.caches[o].addData(n[o]);t(n)}).catch(n)})}},{key:"availablePromiseCachePairs",value:function(){var e=[],t=[];return this.genomeNexusCache&&this.mutationData.result&&(e.push(Object(o.b)(this.mutationData.result)),t.push(this.genomeNexusCache())),this.genomeNexusMutationAssessorCache&&this.mutationData.result&&(e.push(Object(l.b)(this.mutationData.result)),t.push(this.genomeNexusMutationAssessorCache())),this.genomeNexusMyVariantInfoCache&&this.mutationData.result&&(e.push(Object(c.b)(this.mutationData.result)),t.push(this.genomeNexusMyVariantInfoCache())),this.mutationCountCache&&(e.push(this.fetchAllMutationCountData()),t.push(this.mutationCountCache())),this.discreteCNACache&&(e.push(this.fetchAllDiscreteCNAData()),t.push(this.discreteCNACache())),{promises:e,caches:t}}},{key:"fetchAllMutationCountData",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=7;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),e.next=4,Object(r.b)(t);case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}},e,this)}))}},{key:"fetchAllDiscreteCNAData",value:function(){return p(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=9;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId,entrezGeneId:e.entrezGeneId}}),e.next=4,Object(i.b)(t,this.studyToMolecularProfileDiscrete);case 4:return n=e.sent,r=s.a.flatten(s.a.map(n,function(e){return s.a.map(s.a.flatten(e.data),function(t){return Object.assign({},t,{studyId:e.meta})})})),e.abrupt("return",r);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}))}}])&&u(t.prototype,n),a&&u(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(7),o=n.n(r);function i(e,t){var n=t||function(e){return!!e};return o.a.reduce(e,function(e,t){return e&&n(t)},!0)}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return h});var r=n(7),o=n.n(r),i=n(645),a=n.n(i),s=n(4),l=n(561);function c(e,t){return Object(s.eb)(e,t,l.b.fontFamily,l.b.fontSize+"px")}function u(e){for(var t="",n=0;n<e;n++)t+="0";return t}function p(e,t){for(var n=0,r="";n<3;){if(r=t(n),o.a.uniq(e.map(function(e){return a()(e).format(r)})).length===e.length)break;n++}return r}function h(e,t,n){return n&&(e=n(e),t=t.map(n)),e>=1e3?a()(e).format(function(e){return p(e=e.filter(function(e){return Math.abs(e)>=1e3}),function(e){return"0.[".concat(u(e),"]a")})}(t)):a()(e).format(function(e){return p(e=e.filter(function(e){return Math.abs(e)<1e3}),function(e){return"0.[".concat(u(e),"]")})}(t))}},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var r=n(161),o=n(549);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function u(e){return"".concat(e.studyId,"~").concat(e.sampleId)}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=5;break}return n={attributeIds:["MUTATION_COUNT"],identifiers:e.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})},t.abrupt("return",r.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:n}));case 5:return t.abrupt("return",Promise.resolve([]));case 6:case"end":return t.stop()}},t)}))}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).call(this,u,u,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["a"]),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return f});var r=n(7),o=n(549),i=n(161);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function h(e,t){if(t){var n=r.groupBy(e,"studyId");return Promise.all(Object.keys(n).map(function(e){var o=t[e];return o?function(e,t,n){return p(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,a=r.uniq(e.map(function(e){return e.sampleId})),s=r.uniq(e.map(function(e){return e.entrezGeneId})),!(a.length<s.length)){o.next=27;break}for(c={},u=!0,p=!1,h=void 0,o.prev=8,d=e[Symbol.iterator]();!(u=(f=d.next()).done);u=!0)m=f.value,c[m.sampleId]=c[m.sampleId]||[],c[m.sampleId].push(m.entrezGeneId);o.next=16;break;case 12:o.prev=12,o.t0=o.catch(8),p=!0,h=o.t0;case 16:o.prev=16,o.prev=17,u||null==d.return||d.return();case 19:if(o.prev=19,!p){o.next=22;break}throw h;case 22:return o.finish(19);case 23:return o.finish(16);case 24:l=Object.keys(c).map(function(e){return{sampleIds:[e],entrezGeneIds:c[e]}}),o.next=48;break;case 27:for(y={},g=!0,v=!1,b=void 0,o.prev=31,S=e[Symbol.iterator]();!(g=(w=S.next()).done);g=!0)C=w.value,y[C.entrezGeneId]=y[C.entrezGeneId]||[],y[C.entrezGeneId].push(C.sampleId);o.next=39;break;case 35:o.prev=35,o.t1=o.catch(31),v=!0,b=o.t1;case 39:o.prev=39,o.prev=40,g||null==S.return||S.return();case 42:if(o.prev=42,!v){o.next=45;break}throw b;case 45:return o.finish(42);case 46:return o.finish(39);case 47:l=Object.keys(y).map(function(e){return{sampleIds:y[e],entrezGeneIds:[parseInt(e,10)]}});case 48:return o.next=50,Promise.all(l.map(function(e){return void 0===n?Promise.reject("No molecular profile id given."):i.a.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",molecularProfileId:n,discreteCopyNumberFilter:e,discreteCopyNumberEventType:"ALL"})}));case 50:return _=o.sent,o.abrupt("return",{data:r.flatten(_),meta:t});case 54:throw o.prev=54,o.t2=o.catch(0),o.t2;case 57:case"end":return o.stop()}},o,null,[[0,54],[8,12,16,24],[17,,19,23],[31,35,39,47],[40,,42,46]])}))}(n[e],e,o.molecularProfileId):Promise.resolve({data:[],meta:e})}))}throw"No study to molecular profile id map given"}function d(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.sampleId,"~").concat(e.entrezGeneId)}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,c(t).call(this,d,d,h,e))).studyToMolecularProfileDiscrete=e,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["a"]),n=t,(r=[{key:"isActive",get:function(){return!!(this.studyToMolecularProfileDiscrete&&Object.keys(this.studyToMolecularProfileDiscrete).length>0)}}])&&s(n.prototype,r),i&&s(n,i),t}()},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c});var r=n(7),o=n.n(r),i=n(556);function a(e,t){return e.filter(function(e){return t.isComparisonGroupSelected(e.uid)})}function s(e,t){var n=o.a.groupBy(e,function(e){return e.studyId}),r=t?o.a.groupBy(t,function(e){return e.studyId}):{};return o.a.uniq(Object.keys(n).concat(Object.keys(r))).map(function(e){var o={id:e,samples:(n[e]||[]).map(function(e){return e.sampleId})};return t&&(o.patients=(r[e]||[]).map(function(e){return e.patientId})),o})}function l(e,t,n,r){return{name:e,description:"",studies:s(t),origin:n,color:r}}function c(e,t){e=Object.assign({},e);var n=Object(i.v)([e]),r=o.a.uniqWith(n.concat(t),function(e,t){return e.studyId===t.studyId&&e.sampleId===t.sampleId});return e.studies=s(r),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(617),o=n(7),i=n.n(o);function a(e,t){if(t.length){var n,r=!1;return"-"===t[0]&&(t=t.substring(1),r=!0),t.length?(n=!(!e.cytoband||0!==e.cytoband.indexOf(t)),r?!n:n):!0}return!0}function s(e,t){if((t=t.trim()).length){var n=t.split(/\s+/g),o=[],s=[],l=!0,c=!1,u=void 0;try{for(var p,h=n[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;"-"===d[0]?s.push(d):o.push(d)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}var f=!o.length||i.a.some(o,function(t){return a(e,t)}),m=!s.length||Object(r.a)(s.map(function(t){return a(e,t)}));return f&&m}return!0}},function(e,t,n){e.exports={portalWidth:"tables-module__portalWidth__2u2eA",framedImage:"tables-module__framedImage__2sdMG",studyViewTablesTable:"tables-module__studyViewTablesTable__29Y2_",tableSearchInput:"tables-module__tableSearchInput__2uOMk",labelContent:"tables-module__labelContent__2FLsJ",labelContentSVG:"tables-module__labelContentSVG__2v71D",controls:"tables-module__controls__2KTG_",controlsBtn:"tables-module__controlsBtn__24B4k",geneSymbol:"tables-module__geneSymbol__1OUGZ",cancerGene:"tables-module__cancerGene__CqmRo",headerColumn:"tables-module__headerColumn__WCJTO",headerRow:"tables-module__headerRow__3Ckx0",row:"tables-module__row__20ZyT",oddRow:"tables-module__oddRow__3vz4c",evenRow:"tables-module__evenRow__KCskI",highlightedEvenRow:"tables-module__highlightedEvenRow__2EYSy",highlightedRow:"tables-module__highlightedRow__1wuhn",highlightedOddRow:"tables-module__highlightedOddRow__1RWUf",cancerGeneIcon:"tables-module__cancerGeneIcon__1Zp6i",gistic:"tables-module__gistic__1d6Gl",mutsig:"tables-module__mutsig__3Q3o0",cancerGenesRow:"tables-module__cancerGenesRow__1crxh",amp:"tables-module__amp__yRy0o",del:"tables-module__del__PLU6Y",displayFlex:"tables-module__displayFlex__7WOab",headerSortingIcon:"tables-module__headerSortingIcon__1aRye",autoMarginCheckbox:"tables-module__autoMarginCheckbox__3tMQV"}},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f});var r=n(660),o=n(5),i=n(25),a=n(3);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h,d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.clinicallist="clinicallist",e.gene_list="gene_list",e.cancer_study_list="cancer_study_list",e.case_ids="case_ids",e.sample_list_ids="sample_list_ids",e.case_set_id="case_set_id",e.profileFilter="profileFilter",e.RPPA_SCORE_THRESHOLD="RPPA_SCORE_THRESHOLD",e.Z_SCORE_THRESHOLD="Z_SCORE_THRESHOLD",e.geneset_list="geneset_list",e.treatment_list="treatment_list",e.show_samples="show_samples",e.heatmap_track_groups="heatmap_track_groups",e.oncoprint_sortby="oncoprint_sortby",e.oncoprint_cluster_profile="oncoprint_cluster_profile",e.oncoprint_sort_by_mutation_type="oncoprint_sort_by_mutation_type",e.oncoprint_sort_by_drivers="oncoprint_sort_by_drivers",e.exclude_germline_mutations="exclude_germline_mutations",e.patient_enrichments="patient_enrichments",e.genetic_profile_ids_PROFILE_MUTATION_EXTENDED="genetic_profile_ids_PROFILE_MUTATION_EXTENDED",e.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION="genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION",e.genetic_profile_ids_PROFILE_MRNA_EXPRESSION="genetic_profile_ids_PROFILE_MRNA_EXPRESSION",e.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION="genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION",e.genetic_profile_ids_PROFILE_GENESET_SCORE="genetic_profile_ids_PROFILE_GENESET_SCORE",e.genetic_profile_ids_GENERIC_ASSAY="genetic_profile_ids_GENERIC_ASSAY",e.genetic_profile_ids="genetic_profile_ids"}(h||(h={}));var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,c(t).call(this,e,{clinicallist:{isSessionProp:!1},show_samples:{isSessionProp:!1},heatmap_track_groups:{isSessionProp:!1},oncoprint_sortby:{isSessionProp:!1},oncoprint_cluster_profile:{isSessionProp:!1},oncoprint_sort_by_mutation_type:{isSessionProp:!1},oncoprint_sort_by_drivers:{isSessionProp:!1},treatment_list:{isSessionProp:!1},exclude_germline_mutations:{isSessionProp:!1},patient_enrichments:{isSessionProp:!1},gene_list:{isSessionProp:!0},cancer_study_list:{isSessionProp:!0,aliases:["cancer_study_id"]},case_ids:{isSessionProp:!0},sample_list_ids:{isSessionProp:!0},case_set_id:{isSessionProp:!0},profileFilter:{isSessionProp:!0,aliases:["data_priority"]},RPPA_SCORE_THRESHOLD:{isSessionProp:!0},Z_SCORE_THRESHOLD:{isSessionProp:!0},geneset_list:{isSessionProp:!0},genetic_profile_ids_PROFILE_MUTATION_EXTENDED:{isSessionProp:!0},genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION:{isSessionProp:!0},genetic_profile_ids_PROFILE_MRNA_EXPRESSION:{isSessionProp:!0},genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION:{isSessionProp:!0},genetic_profile_ids_PROFILE_GENESET_SCORE:{isSessionProp:!0},genetic_profile_ids_GENERIC_ASSAY:{isSessionProp:!0},genetic_profile_ids:{isSessionProp:!0}},!0,a.b.serverConfig.session_url_length_threshold?parseInt(a.b.serverConfig.session_url_length_threshold):void 0))).pathContext="/results",n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["a"]),n=t,(o=[{key:"setTabId",value:function(e,t){this.updateURL({},"comparison/".concat(e),!1,t)}},{key:"tabId",get:function(){return this.pathName.split("/").pop()}}])&&s(n.prototype,o),i&&s(n,i),t}();d([o.computed],f.prototype,"tabId",null),d([i.a],f.prototype,"setTabId",null)},,function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return S});var r=n(0),o=n(929),i=n.n(o),a=n(28),s=n.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function v(e,t){var n=e.padded,o=e.overflow,a=e.flex,l=g(e,["padded","overflow","flex"]),c=Object.assign({flex:a,display:"flex",overflow:o?"visible":"auto"},e.style,{flexDirection:t}),u=s()(e.className,i.a[t],n&&i.a.padded);return r.createElement("div",y({},l,{style:c,className:u}))}var b=function(e){function t(){return c(this,t),h(this,d(t).apply(this,arguments))}return f(t,r["Component"]),p(t,[{key:"render",value:function(){return v(this.props,"row")}}]),t}(),S=function(e){function t(){return c(this,t),h(this,d(t).apply(this,arguments))}return f(t,r["Component"]),p(t,[{key:"render",value:function(){return v(this.props,"column")}}]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"c",function(){return C}),n.d(t,"l",function(){return _}),n.d(t,"k",function(){return T}),n.d(t,"L",function(){return x}),n.d(t,"b",function(){return A}),n.d(t,"e",function(){return O}),n.d(t,"g",function(){return P}),n.d(t,"f",function(){return I}),n.d(t,"h",function(){return M}),n.d(t,"d",function(){return E}),n.d(t,"u",function(){return G}),n.d(t,"t",function(){return B}),n.d(t,"J",function(){return z}),n.d(t,"H",function(){return V}),n.d(t,"y",function(){return K}),n.d(t,"M",function(){return $}),n.d(t,"m",function(){return Y}),n.d(t,"F",function(){return te}),n.d(t,"G",function(){return re}),n.d(t,"v",function(){return se}),n.d(t,"Q",function(){return le}),n.d(t,"D",function(){return Se}),n.d(t,"O",function(){return Ce}),n.d(t,"N",function(){return _e}),n.d(t,"P",function(){return Te}),n.d(t,"I",function(){return xe}),n.d(t,"j",function(){return Ee}),n.d(t,"x",function(){return Ae}),n.d(t,"w",function(){return Oe}),n.d(t,"A",function(){return Pe}),n.d(t,"C",function(){return Ie}),n.d(t,"E",function(){return Me}),n.d(t,"o",function(){return Ne}),n.d(t,"q",function(){return Re}),n.d(t,"K",function(){return je}),n.d(t,"r",function(){return Fe}),n.d(t,"s",function(){return Ge}),n.d(t,"n",function(){return Be}),n.d(t,"B",function(){return ze}),n.d(t,"z",function(){return Ve}),n.d(t,"i",function(){return He}),n.d(t,"p",function(){return Ue});var r,o=n(835),i=n(4),a=n(16),s=n(7),l=n.n(s),c=n(0),u=n(605),p=n(555),h=n(548),d=n(645),f=n.n(d),m=n(659),y=n(576),g=n(586);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b,S=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},w="clinical_attribute",C="GENESET_SCORE",_=(v(r={},h.a.MUTATION_EXTENDED,"Mutation"),v(r,h.a.COPY_NUMBER_ALTERATION,"Copy Number"),v(r,h.a.MRNA_EXPRESSION,"mRNA"),v(r,h.a.PROTEIN_LEVEL,"Protein Level"),v(r,h.a.METHYLATION,"DNA Methylation"),v(r,w,"Clinical Attribute"),v(r,C,"Gene Sets"),v(r,h.b.TREATMENT_RESPONSE,"Treatment Response"),r),k={missense:"Missense",inframe:"Inframe",fusion:"Fusion",promoter:"Promoter",trunc:"Truncating",other:"Other"},T=[w,h.a.MUTATION_EXTENDED,h.a.COPY_NUMBER_ALTERATION,h.a.MRNA_EXPRESSION,C,h.a.PROTEIN_LEVEL,h.a.METHYLATION].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(b=l.a.keys(h.b))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}());function x(e){if(!e.length)return[];var t;switch(e[0].molecularAlterationType){case h.a.COPY_NUMBER_ALTERATION:t=function(e){return"DISCRETE"===e.datatype?0:1};break;default:t=function(e){return e.name}}return l.a.sortBy(e,t)}var E,A=1.8,O=650,P=500,I=480,M=1.6;!function(e){e.Neither="Neither",e.Both="Both",e.One="One"}(E||(E={}));var D=["Not profiled","for mutations"],L=["Not profiled","for CNA"],N="not_profiled_mutation",R="not_mutated",j="not_profiled_cna",F="not_profiled_cna";function G(e){return"string"===e.datatype}function B(e){return"number"===e.datatype}function z(e,t){var n,r=t?function(e){return t(e)?1:0}:function(e){return 0},i=function(e){return e.profiledMutations?e.dispMutationType?e.dispMutationType in te?-te[e.dispMutationType]:Number.NEGATIVE_INFINITY:-te[R]:-te[N]},a=function(e){return e.profiledCna?e.dispCna?e.dispCna.value in ye?-ye[e.dispCna.value]:Number.NEGATIVE_INFINITY:-ye[F]:-ye[j]};switch(e){case o.f.MutationTypeAndCopyNumber:n=[r,i,a];break;case o.f.MutationType:n=[r,i];break;case o.f.CopyNumber:n=[r,a];break;case o.f.MutationType:n=[r,function(e){return e.dispMutationSummary in ie?-ie[e.dispMutationSummary]:e.profiledMutations?Number.NEGATIVE_INFINITY:-ie[N]}]}return n}function V(e,t,n,r,i,a,s,c){var u=r.isComplete&&r.result,p=i.isComplete&&i.result,h=[];t===o.f.CopyNumber&&p?h=q(e,n):t===o.f.LimitValCopyNumber&&p?h=q(e,n).concat(U(n,s)):t===o.f.LimitValMutationType&&u?h=H(e,a,!0,n).concat(U(n,s)):t===o.f.MutationType&&u?h=H(e,a,!0,n):t===o.f.MutationType&&u?h=function(e,t){var n=t===o.e.WaterfallPlot?"square":"circle",r=!1,i=l.a.chain(e).map(function(e){var t=e.dispMutationSummary;return e.profiledMutations||(r=!0),t}).uniq().filter(function(e){return!!e}).value(),a=oe.filter(function(e){return i.indexOf(e)>-1}).map(function(e){var r=re[e],i=t===o.e.WaterfallPlot?r.fill:r.stroke;return{name:r.legendLabel,symbol:{stroke:i,strokeOpacity:r.strokeOpacity,fill:r.fill,type:n}}});if(r){var s=t===o.e.WaterfallPlot?J.fill:J.stroke;a.push({name:D,symbol:{stroke:s,strokeOpacity:J.strokeOpacity,fill:J.fill,type:n}})}return a}(e,n):t===o.f.MutationTypeAndCopyNumber&&u&&p?h=H(e,a,!1,n).concat(q(e,n)):t===o.f.LimitValMutationTypeAndCopyNumber&&u&&i?h=H(e,a,!1,n).concat(q(e,n)).concat(U(n,s)):t===o.f.LimitVal&&(h=U(n,s));var d=function(e,t,n){if(t===o.e.WaterfallPlot&&n&&l.a.some(e,function(e){return n(e)}))return{name:le.legendLabel,symbol:{fill:le.fill,fillOpacity:le.fillOpacity,stroke:le.stroke,strokeOpacity:le.strokeOpacity,type:le.symbol}};return}(e,n,c);return d&&(h=h.concat(d)),h}function H(e,t,n,r){var i=t?Q:X,a=!1,s=!1,c=l.a.chain(e).map(function(e){var t=e.dispMutationType?e.dispMutationType:null;return e.profiledMutations||(s=!0),t}).uniq().filter(function(e){var t=!!e;return t||(a=!0),t}).keyBy(function(e){return e}).value(),u=l.a.chain(ee).filter(function(e){return!!c[e]}).map(function(e){var t=i[e],a=r===o.e.WaterfallPlot?"square":t.symbol,s=r===o.e.WaterfallPlot?t.fill:t.stroke;return{name:t.legendLabel,symbol:{stroke:s,strokeOpacity:n?t.strokeOpacity:0,fill:t.fill,type:a}}}).value();if(a){var p=r===o.e.WaterfallPlot?"square":ne.symbol,h=r===o.e.WaterfallPlot?ne.fill:ne.stroke;u.push({name:ne.legendLabel,symbol:{stroke:h,strokeOpacity:n?ne.strokeOpacity:0,fill:ne.fill,type:p}})}if(s){var d=r===o.e.WaterfallPlot?"square":"circle",f=r===o.e.WaterfallPlot?J.fill:J.stroke;u.push({name:D,symbol:{stroke:f,strokeOpacity:J.strokeOpacity,fill:J.fill,type:d}})}return u}function U(e,t){var n=[];if(t&&t.length>0){var r=e===o.e.WaterfallPlot?0:1,i=e===o.e.WaterfallPlot?"#000000":"#999";n.push({name:"value ".concat(t.join(" or ")),symbol:{fill:"#999",fillOpacity:r,stroke:i,strokeOpacity:1,type:se.symbol}})}return n}function q(e,t){var n=!1,r=t===o.e.WaterfallPlot?"square":"circle",i=t===o.e.WaterfallPlot?1:0,a=l.a.chain(e).map(function(e){var t=e.dispCna?e.dispCna.value:null;return e.profiledCna||(n=!0),t}).uniq().filter(function(e){return null===e&&(n=!0),null!==e}).sortBy(function(e){return-e}).value().map(function(e){var t=ae[e];return{name:t.legendLabel,symbol:{stroke:t.stroke,fillOpacity:i,fill:t.stroke,type:r,strokeWidth:A}}});return n&&a.push({name:L,symbol:{stroke:Z.stroke,fillOpacity:i,fill:Z.stroke,type:r,strokeWidth:A}}),a}function W(e,t,n,r,a,s,c,p,d){var f;return Object(i.W)({await:function(){var o=[];return s.isComplete?(s.result[t].molecularAlterationType===h.a.MUTATION_EXTENDED?(f=n.get({entrezGeneId:e}),o.push(p),o.push(d)):f=r.get({entrezGeneId:e,molecularProfileId:t}),o.push(f)):o.push(s),o.push(a),o},invoke:function(){var n=s.result[t],r=a.result[e].hugoGeneSymbol;if(n.molecularAlterationType===h.a.MUTATION_EXTENDED){var i=f.result;return Promise.resolve(function(e,t,n,r,i,a){var s=l.a.mapValues(l.a.groupBy(n,function(e){return e.uniqueSampleKey}),function(e){return l.a.uniq(e.map(function(e){return k[Object(u.b)(e)]}))}),c=a.map(function(n){var a,l=s[n.uniqueSampleKey];if(l)switch(i){case o.a.MutationType:a=l.length>1?pe:l;break;case o.a.MutatedVsWildType:default:a=ue}else a=Object(g.a)(n.uniqueSampleKey,e,t,r)?he:de;return{uniqueSampleKey:n.uniqueSampleKey,value:a}}),p=[];switch(i){case o.a.MutationType:p=fe;break;case o.a.MutatedVsWildType:default:p=me}return{data:c,hugoGeneSymbol:t,datatype:"string",categoryOrder:p}}(t,r,i,p.result,c,d.result))}var m=n.molecularAlterationType===h.a.COPY_NUMBER_ALTERATION&&"DISCRETE"===n.datatype,y=f.result;return Promise.resolve({data:y.map(function(e){var t=e.value;if(m){var n=ae[e.value];n&&(t=n.legendLabel)}return{uniqueSampleKey:e.uniqueSampleKey,value:t}}),hugoGeneSymbol:r,datatype:m?"string":"number",categoryOrder:m?ce:void 0})}})}function K(e,t,n,r,a,s,c,u,p,d,f,m,y){var g=Object(i.W)(function(){return new Promise(function(){return 0})});if(e.dataType&&l.a.keys(h.b).includes(e.dataType)&&void 0!==e.treatmentId&&void 0!==e.dataSourceId)return g=function(e,t,n,r){var o=this;return Object(i.W)({await:function(){return[n,r]},invoke:function(){return S(o,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r.result[t],o.next=4,n.result.getPromise({treatmentId:e,molecularProfileId:t},!0);case 4:return i=n.result.get({molecularProfileId:t,treatmentId:e}).data,o.abrupt("return",Promise.resolve({data:i.map(function(e){return{uniqueSampleKey:e.uniqueSampleKey,value:parseFloat(e.value),thresholdType:e.thresholdType}}),datatype:"number",treatmentId:e}));case 6:case"end":return o.stop()}},o)}))}})}(e.treatmentId,e.dataSourceId,y,n);switch(e.dataType){case void 0:break;case o.d:g=Object(i.W)(function(){return Promise.resolve({data:[],datatype:"none"})});break;case w:if(void 0!==e.dataSourceId&&t.isComplete)g=function(e,t,n,r){var o=t.get(e);return Object(i.W)({await:function(){return[o,n]},invoke:function(){var t=n.result,r=o.result,i={data:[],datatype:e.datatype.toLowerCase()},a="number"===e.datatype.toLowerCase(),s=i.data;if(e.patientAttribute){var l=!0,c=!1,u=void 0;try{for(var p,h=r[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value,f=t[d.uniquePatientKey],m=!0,y=!1,g=void 0;try{for(var v,b=f[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var S=v.value;s.push({uniqueSampleKey:S.uniqueSampleKey,value:d.value})}}catch(e){y=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(y)throw g}}}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}else{var w=!0,C=!1,_=void 0;try{for(var k,T=r[Symbol.iterator]();!(w=(k=T.next()).done);w=!0){var x=k.value;s.push({uniqueSampleKey:x.uniqueSampleKey,value:x.value})}}catch(e){C=!0,_=e}finally{try{w||null==T.return||T.return()}finally{if(C)throw _}}}if(a){var E=!0,A=!1,O=void 0;try{for(var P,I=s[Symbol.iterator]();!(E=(P=I.next()).done);E=!0){var M=P.value;M.value=parseFloat(M.value)}}catch(e){A=!0,O=e}finally{try{E||null==I.return||I.return()}finally{if(A)throw O}}}return Promise.resolve(i)}})}(t.result[e.dataSourceId],s,r);break;case C:void 0!==e.genesetId&&void 0!==e.dataSourceId&&(g=function(e,t,n,r){var o=this;return Object(i.W)({await:function(){return[n,r]},invoke:function(){return S(o,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r.result[t],o.next=4,n.result.getPromise({genesetId:e,molecularProfileId:t},!0);case 4:return i=n.result.get({molecularProfileId:t,genesetId:e}).data,o.abrupt("return",Promise.resolve({data:i.map(function(e){var t=e.value;return{uniqueSampleKey:e.uniqueSampleKey,value:Number(t)}}),genesetId:e,datatype:"number"}));case 6:case"end":return o.stop()}},o)}))}})}(e.genesetId,e.dataSourceId,m,n));break;default:void 0!==e.entrezGeneId&&void 0!==e.dataSourceId&&(g=W(e.entrezGeneId,e.dataSourceId,c,u,a,n,e.mutationCountBy,d,f))}return g}function $(e,t,n){return e>(n+t)/2?"rgb(255,255,255)":"rgb(0,0,0)"}function Y(e,t,n,r,i){var a="",s=t[e.dataSourceId],c="";switch(i&&(c=i.label),e.dataType){case o.d:break;case w:var u=r[e.dataSourceId];u&&(a=u.displayName);break;case C:s&&void 0!==e.genesetId&&(a="".concat(e.genesetId,": ").concat(s.name));break;default:s&&void 0!==e.entrezGeneId&&e.entrezGeneId!==o.c&&(a="".concat(n[e.entrezGeneId].hugoGeneSymbol,": ").concat(s.name))}if(e.dataType&&l.a.keys(h.b).includes(e.dataType)&&s&&e.selectedTreatmentOption&&e.selectedTreatmentOption.label){var p=e.selectedTreatmentOption.label;a="".concat(p,": ").concat(s.name)}return c&&(a+=" (".concat(c,")")),a}var Q={inframe:{symbol:"circle",fill:p.n,stroke:"#000000",strokeOpacity:.5,legendLabel:"Inframe (VUS)"},"inframe.driver":{symbol:"circle",fill:p.m,stroke:"#000000",strokeOpacity:.5,legendLabel:"Inframe (Driver)"},missense:{symbol:"circle",fill:p.p,stroke:"#000000",strokeOpacity:.5,legendLabel:"Missense (VUS)"},"missense.driver":{symbol:"circle",fill:p.o,stroke:"#000000",strokeOpacity:.5,legendLabel:"Missense (Driver)"},fusion:{symbol:"circle",fill:p.k,stroke:"#000000",strokeOpacity:.5,legendLabel:"Fusion"},trunc:{symbol:"circle",fill:p.t,stroke:"#000000",strokeOpacity:.5,legendLabel:"Truncating (VUS)"},"trunc.driver":{symbol:"circle",fill:p.s,stroke:"#000000",strokeOpacity:.5,legendLabel:"Truncating (Driver)"},promoter:{symbol:"circle",fill:p.r,stroke:"#000000",strokeOpacity:.5,legendLabel:"Promoter"},other:{symbol:"circle",fill:p.q,stroke:"#000000",strokeOpacity:.5,legendLabel:"Other"}},X={inframe:{symbol:"circle",fill:p.m,stroke:"#000000",strokeOpacity:.5,legendLabel:"Inframe"},missense:{symbol:"circle",fill:p.o,stroke:"#000000",strokeOpacity:.5,legendLabel:"Missense"},fusion:{symbol:"circle",fill:p.k,stroke:"#000000",strokeOpacity:.5,legendLabel:"Fusion"},trunc:{symbol:"circle",fill:p.s,stroke:"#000000",strokeOpacity:.5,legendLabel:"Truncating"},promoter:{symbol:"circle",fill:p.r,stroke:"#000000",strokeOpacity:.5,legendLabel:"Promoter"},other:{symbol:"circle",fill:p.q,stroke:"#000000",strokeOpacity:.5,legendLabel:"Other"}},Z={symbol:"circle",stroke:"#000000",strokeOpacity:.3},J=Object.assign({},{fill:"#ffffff"},Z),ee=["fusion","promoter.driver","promoter","trunc.driver","trunc","inframe.driver","inframe","missense.driver","missense","other"],te=Object(i.ab)(["fusion","promoter.driver","trunc.driver","inframe.driver","missense.driver","promoter","trunc","inframe","missense","other",R,N]),ne={symbol:"circle",fill:"#c4e5f5",stroke:"#000000",strokeOpacity:.3,legendLabel:"Not mutated"},re={Neither:{fill:"#00AAF8",stroke:"#0089C6",strokeOpacity:1,legendLabel:"Neither mutated"},One:{fill:"#DBA901",stroke:"#886A08",strokeOpacity:1,legendLabel:"One Gene mutated"},Both:{fill:"#FF0000",stroke:"#B40404",strokeOpacity:1,legendLabel:"Both mutated"}},oe=[E.Both,E.One,E.Neither],ie=Object(i.ab)(oe.concat(N)),ae={"-2":{legendLabel:"Deep Deletion",stroke:p.d,strokeOpacity:1},"-1":{legendLabel:"Shallow Deletion",stroke:"#2aced4",strokeOpacity:1},0:{legendLabel:"Diploid",stroke:p.e,strokeOpacity:1},1:{legendLabel:"Gain",stroke:"#ff8c9f",strokeOpacity:1},2:{legendLabel:"Amplification",stroke:p.a,strokeOpacity:1}},se={legendLabel:"Limit value",symbol:"diamond"},le={legendLabel:"Sample match",symbol:"plus",fill:"white",fillOpacity:1,stroke:"red",strokeWidth:1,strokeOpacity:1,size:3},ce=["-2","-1","0","1","2"].map(function(e){return ae[e].legendLabel}),ue="Mutated",pe="Multiple",he="Wild type",de="Not profiled",fe=[k.missense,k.inframe,k.trunc,k.fusion,k.promoter,k.other,pe,he,de],me=[ue,he,de],ye=Object(i.ab)(["-2","2","-1","1","0",j]);function ge(e,t){return e.profiledMutations?e.dispMutationType?t[e.dispMutationType]:ne:J}function ve(e){return e.profiledCna&&e.dispCna?ae[e.dispCna.value]:Z}function be(e){return Object(y.b)(e)?se:{}}function Se(e,t,n,r){var i=r?Q:X;switch(e){case o.f.MutationTypeAndCopyNumber:if(n.isComplete&&n.result&&t.isComplete&&t.result)return function(e){var t=ve(e),n=ge(e,i);return Object.assign({},n,t)};break;case o.f.CopyNumber:if(n.isComplete&&n.result)return ve;break;case o.f.MutationType:if(t.isComplete&&t.result)return function(e){return ge(e,i)};break;case o.f.LimitValMutationTypeAndCopyNumber:if(n.isComplete&&n.result&&t.isComplete&&t.result)return function(e){var t=be(e),n=ve(e),r=ge(e,i);return Object.assign({},r,n,t)};break;case o.f.LimitValCopyNumber:if(n.isComplete&&n.result)return function(e){var t=be(e),n=ve(e);return Object.assign({},n,t)};break;case o.f.LimitValMutationType:if(t.isComplete&&t.result)return function(e){var t=be(e),n=ge(e,i);return Object.assign({},n,t)};break;case o.f.LimitVal:return function(e){var t=be(e),n=re[E.Neither];return Object.assign({},n,t)};case o.f.MutationSummary:if(t.isComplete&&t.result)return function(e){return e.profiledMutations?e.dispMutationSummary?re[e.dispMutationSummary]:ne:J}}return function(){return re[E.Neither]}}function we(e,t){var n=l.a.groupBy(e,function(e){return t[e.entrezGeneId].hugoGeneSymbol});return l.a.chain(n).entries().sortBy(function(e){return e[0]}).value().map(function(e){return"".concat(e[0],": ").concat(e[1].filter(function(e){return!!e.proteinChange}).map(function(e){return e.proteinChange}).join(", "))})}function Ce(e){var t=function(e){return c.createElement("img",{src:n(689),title:e.oncoKbOncogenic,style:{height:11,width:11,marginLeft:2,marginBottom:2}})},r=c.createElement("img",{src:n(688),title:"Hotspot",style:{height:11,width:11,marginLeft:2,marginBottom:3}}),o=l.a.groupBy(e.filter(function(e){return!!e.proteinChange}),function(e){return e.hugoGeneSymbol}),i=l.a.chain(o).entries().sortBy(function(e){return e[0]}).value();return c.createElement("span",null,i.map(function(e){var n=[],o=!0,i=!1,a=void 0;try{for(var s,l=e[1][Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value;n.push(c.createElement("span",{key:u.proteinChange},u.proteinChange,c.createElement("span",{style:{marginLeft:1}},u.isHotspot?r:null,u.oncoKbOncogenic?t(u):null))),n.push(c.createElement("span",null,", "))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n.pop(),c.createElement("span",null,e[0],": ",n)}))}function _e(e){var t=function(e){return c.createElement("img",{src:n(689),title:e.oncoKbOncogenic,style:{height:11,width:11,marginLeft:2,marginBottom:2}})},r=l.a.groupBy(e,function(e){return e.hugoGeneSymbol}),o=l.a.chain(r).entries().sortBy(function(e){return e[0]}).value();return c.createElement("span",null,o.map(function(e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[1][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.value in ae&&(n.push(c.createElement("span",{key:l.value},ae[l.value].legendLabel,c.createElement("span",{style:{marginLeft:1}},l.oncoKbOncogenic?t(l):null))),n.push(c.createElement("span",null,", ")))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n.pop(),c.createElement("span",null,e[0],": ",n)}))}function ke(e,t,n,r,o){var i=null;e.mutations.length>0&&(i=Ce(e.mutations));var s=null;e.copyNumberAlterations.length>0&&(s=_e(e.copyNumberAlterations));var l=r?"".concat(e[r]).concat(e[t]):e[t],u=o?"".concat(e[o]).concat(e[n]):e[n];return c.createElement("div",null,c.createElement("a",{href:Object(a.w)(e.studyId,e.sampleId),target:"_blank"},e.sampleId),c.createElement("div",null,"Horizontal:"," ",c.createElement("span",{style:{fontWeight:"bold"}}," ",l)),c.createElement("div",null,"Vertical:"," ",c.createElement("span",{style:{fontWeight:"bold"}}," ",u)),i,!!i&&c.createElement("br",null),s)}function Te(e){return function(e,t,n){var r=null;e.mutations.length>0&&(r=Ce(e.mutations));var o=null;e.copyNumberAlterations.length>0&&(o=_e(e.copyNumberAlterations));var i=e[t];i=i.toFixed(4);var s=n&&e[n]?e[n]:"";return c.createElement("div",null,c.createElement("a",{href:Object(a.w)(e.studyId,e.sampleId),target:"_blank",style:{whiteSpace:"pre-line",wordBreak:"break-word"}},e.sampleId),c.createElement("div",null,"Value:"," ",c.createElement("span",{style:{fontWeight:"bold"}}," ",s,i," ")),r,!!r&&c.createElement("br",null),o)}(e,"value","thresholdType")}function xe(e){return ke(e,"x","y","xThresholdType","yThresholdType")}function Ee(e,t){return ke(e,t?"value":"category",t?"category":"value",t?"thresholdType":void 0,t?void 0:"thresholdType")}function Ae(e){return!/zscore/i.test(e)&&/rna_seq/i.test(e)}function Oe(e){return e.dataType!==w?!(!e.dataType||!l.a.keys(h.b).includes(e.dataType))||!(!e.dataSourceId||!Ae(e.dataSourceId)):e.dataSourceId===m.b}function Pe(e,t,n,r,o,i){var a=Ie(e,t,n,r,o,i),s=l.a.groupBy(a,function(e){return e.category}),c=l.a.entries(s).map(function(e){return{label:e[0],data:e[1]}}),u=e.categoryOrder;return u&&(c=l.a.sortBy(c,function(e){return u.indexOf(e.label)})),c}function Ie(e,t,n,r,o,i){var a=o?l.a.groupBy(o.data,function(e){return e.uniqueSampleKey}):{},s=i?l.a.groupBy(i.data,function(e){return e.uniqueSampleKey}):{},c={},p=!0,h=!1,d=void 0;try{for(var f,m=e.data[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var g=f.value,v=n[g.uniqueSampleKey],b=s[g.uniqueSampleKey],S=void 0;if(b&&b.length){S=b[0];var w=!0,C=!1,_=void 0;try{for(var k,T=b[Symbol.iterator]();!(w=(k=T.next()).done);w=!0){var x=k.value;Math.abs(x.value)>Math.abs(S.value)&&(S=x)}}catch(e){C=!0,_=e}finally{try{w||null==T.return||T.return()}finally{if(C)throw _}}}var A=void 0,O=a[g.uniqueSampleKey];if(O&&O.length){var P=l.a.chain(O).groupBy(function(e){var t=Object(u.b)(e),n="fusion"!==t&&"promoter"!==t&&"other"!==t&&e.putativeDriver?".driver":"";return"".concat(t).concat(n)}).mapValues(function(e){return e.length}).value();A=Object(u.f)(P,te)}var I=r[g.uniqueSampleKey],M=void 0,D=void 0;if(o||i){var L=De(e.hugoGeneSymbol,t.hugoGeneSymbol,I);if(o){M=!1;var N=!0,R=!1,j=void 0;try{for(var F,G=o.molecularProfileIds[Symbol.iterator]();!(N=(F=G.next()).done);N=!0){var B=F.value;M=M||!!L[B]}}catch(e){R=!0,j=e}finally{try{N||null==G.return||G.return()}finally{if(R)throw j}}}if(i){D=!1;var z=!0,V=!1,H=void 0;try{for(var U,q=i.molecularProfileIds[Symbol.iterator]();!(z=(U=q.next()).done);z=!0){var W=U.value;D=D||!!L[W]}}catch(e){V=!0,H=e}finally{try{z||null==q.return||q.return()}finally{if(V)throw H}}}}var K=void 0;if(M){var $=l.a.uniqBy(O,function(e){return e.entrezGeneId}).length;K=0===$?E.Neither:1===$?E.One:E.Both}c[g.uniqueSampleKey]={uniqueSampleKey:g.uniqueSampleKey,sampleId:v.sampleId,studyId:v.studyId,horzValues:[].concat(g.value),horzThresholdTypes:[].concat(g.thresholdType||""),mutations:O||[],copyNumberAlterations:b||[],dispCna:S,dispMutationType:A,dispMutationSummary:K,profiledCna:D,profiledMutations:M}}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}var Y=[],Q=!0,X=!1,Z=void 0;try{for(var J,ee=t.data[Symbol.iterator]();!(Q=(J=ee.next()).done);Q=!0){var ne=J.value,re=c[ne.uniqueSampleKey];re&&(re.vertValues=[].concat(ne.value),re.vertThresholdTypes=[].concat(ne.thresholdType||""),re.jitter=Object(y.d)(ne.uniqueSampleKey),Y.push(re))}}catch(e){X=!0,Z=e}finally{try{Q||null==ee.return||ee.return()}finally{if(X)throw Z}}for(var oe=[],ie=0,ae=Y;ie<ae.length;ie++)for(var se=ae[ie],le=0;le<se.horzValues.length;le++)for(var ce=se.horzValues[le],ue=0;ue<se.vertValues.length;ue++){var pe=se.vertValues[ue];if(!Number.isNaN(ce)&&!Number.isNaN(pe)){var he=se.horzThresholdTypes[le],de=se.vertThresholdTypes[ue];oe.push(Object.assign({},se,{x:ce,xThresholdType:he,category:ce,y:pe,yThresholdType:de,value:pe,thresholdType:de}))}}return oe}function Me(e,t,n,r,o,i){var a=o?l.a.groupBy(o.data,function(e){return e.uniqueSampleKey}):{},s=i?l.a.groupBy(i.data,function(e){return e.uniqueSampleKey}):{},c=[],p=!0,h=!1,d=void 0;try{for(var f,m=e.data[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var g=f.value,v=t[g.uniqueSampleKey],b=s[g.uniqueSampleKey],S=void 0,w=void 0,C=a[g.uniqueSampleKey];if(b&&b.length&&(S=l()(b).filter(function(e){return e.entrezGeneId===r.entrezGeneId}).maxBy("value")),C&&C.length){var _=l()(C).filter(function(e){return e.entrezGeneId===r.entrezGeneId}).groupBy(function(e){var t=Object(u.b)(e),n="fusion"!==t&&"promoter"!==t&&"other"!==t&&e.putativeDriver?".driver":"";return"".concat(t).concat(n)}).mapValues(function(e){return e.length}).value();w=Object(u.f)(_,te)}var k=n[g.uniqueSampleKey],T=void 0,x=void 0;if(o||i){var E=Le(r.hugoGeneSymbol,k);if(o){T=!1;var A=!0,O=!1,P=void 0;try{for(var I,M=o.molecularProfileIds[Symbol.iterator]();!(A=(I=M.next()).done);A=!0){var D=I.value;T=T||!!E[D]}}catch(e){O=!0,P=e}finally{try{A||null==M.return||M.return()}finally{if(O)throw P}}}if(i){x=!1;var L=!0,N=!1,R=void 0;try{for(var j,F=i.molecularProfileIds[Symbol.iterator]();!(L=(j=F.next()).done);L=!0){var G=j.value;x=x||!!E[G]}}catch(e){N=!0,R=e}finally{try{L||null==F.return||F.return()}finally{if(N)throw R}}}}c.push({uniqueSampleKey:g.uniqueSampleKey,sampleId:v.sampleId,studyId:v.studyId,values:[].concat(g.value),thresholdTypes:[].concat(g.thresholdType||void 0),mutations:C||[],copyNumberAlterations:b||[],jitter:Object(y.d)(g.uniqueSampleKey),dispCna:S,dispMutationType:w,dispMutationSummary:void 0,profiledCna:x,profiledMutations:T})}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}for(var B=[],z=0,V=c;z<V.length;z++)for(var H=V[z],U=0;U<H.values.length;U++){var q=H.values[U];if(!Number.isNaN(q)){var W=H.thresholdTypes[U];B.push(Object.assign({},H,{value:q,thresholdType:W,category:q}))}}return B}function De(e,t,n){var r={};if(e){var o=!0,i=!1,a=void 0;try{for(var s,l=(n.byGene[e]||[])[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){r[s.value.molecularProfileId]=!0}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}if(t){var c=!0,u=!1,p=void 0;try{for(var h,d=(n.byGene[t]||[])[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){r[h.value.molecularProfileId]=!0}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}var f=!0,m=!1,y=void 0;try{for(var g,v=n.allGenes[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){r[g.value.molecularProfileId]=!0}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}return r}function Le(e,t){var n={};if(e){var r=!0,o=!1,i=void 0;try{for(var a,s=(t.byGene[e]||[])[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n[a.value.molecularProfileId]=!0}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}var l=!0,c=!1,u=void 0;try{for(var p,h=t.allGenes[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){n[p.value.molecularProfileId]=!0}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return n}function Ne(e,t,n){var r=[];return e.dataType===w||void 0!==e.dataType&&l.a.keys(h.b).includes(e.dataType)||void 0===e.entrezGeneId||r.push({entrezGeneId:e.entrezGeneId}),t.dataType===w||void 0!==e.dataType&&l.a.keys(h.b).includes(e.dataType)||void 0===t.entrezGeneId||r.push({entrezGeneId:t.entrezGeneId}),t.dataType!==h.a.COPY_NUMBER_ALTERATION||void 0!==e.dataType&&l.a.keys(h.b).includes(e.dataType)||void 0===t.entrezGeneId||r.push({entrezGeneId:t.entrezGeneId}),je(e,t)&&void 0!==n.entrezGeneIdForMutCNAStyling&&r.push({entrezGeneId:n.entrezGeneIdForMutCNAStyling}),l.a.uniqBy(r,"entrezGeneId")}function Re(e,t,n){var r,o=[];return e.dataType!==w&&void 0!==e.entrezGeneId&&(r=e.entrezGeneId,o.push({entrezGeneId:r})),t.dataType!==w&&void 0!==t.entrezGeneId&&t.entrezGeneId!==r&&o.push({entrezGeneId:t.entrezGeneId}),je(e,t)&&void 0!==n.entrezGeneIdForMutCNAStyling&&o.push({entrezGeneId:n.entrezGeneIdForMutCNAStyling}),l.a.uniqBy(o,"entrezGeneId")}function je(e,t){return void 0!==t.dataType&&l.a.keys(h.b).includes(t.dataType)&&e.dataType===o.d||void 0!==e.dataType&&l.a.keys(h.b).includes(e.dataType)&&t.dataType===o.d}function Fe(e,t,n,r){var o=[],i=!1,a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value,h=[];h.push(p.sampleId),h.push(f()(p.x).format("0[.][000000]")),h.push(f()(p.y).format("0[.][000000]")),p.mutations.length?(h.push(we(p.mutations,r).join("; ")),i=!0):!1===p.profiledMutations&&(h.push("Not Profiled"),i=!0),o.push(h.join("\t"))}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var d=["Sample Id",t,n];return i&&d.push("Mutations"),d.join("\t")+"\n"+o.join("\n")}function Ge(e,t,n,r,o){var i=l.a.cloneDeep(e);i=l.a.sortBy(i,function(e){return e.value}),"DESC"===t&&(i=l.a.reverse(i));var a=[],s=!1,c=!0,u=!1,p=void 0;try{for(var h,d=i[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var m=h.value,y=[];y.push(m.sampleId),y.push(f()(m.value).format("0[.][000000]")),y.push(f()(n).format("0[.][000000]")),y.push(t||""),m.mutations.length?(y.push(we(m.mutations,o).join("; ")),s=!0):!1===m.profiledMutations&&(y.push("Not Profiled"),s=!0),a.push(y.join("\t"))}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}var g=["Sample Id","".concat(r),"pivot threshold","sort order"];return s&&g.push("Mutations"),g.join("\t")+"\n"+a.join("\n")}function Be(e,t,n,r){var o=[],i=!1,a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value,h=p.label,d=!0,m=!1,y=void 0;try{for(var g,v=p.data[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var b=g.value,S=[];S.push(b.sampleId),S.push(h),S.push(f()(b.value).format("0[.][000000]")),b.mutations.length?(S.push(we(b.mutations,r).join("; ")),i=!0):!1===b.profiledMutations&&(S.push("Not Profiled"),i=!0),o.push(S.join("\t"))}}catch(e){m=!0,y=e}finally{try{d||null==v.return||v.return()}finally{if(m)throw y}}}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var w=["Sample Id",t,n];return i&&w.push("Mutations"),w.join("\t")+"\n"+o.join("\n")}function ze(e){var t=["number","string"],n=e.filter(function(e){return t.indexOf(e.datatype.toLowerCase())>-1});return l.a.sortBy(n.map(function(e){return{value:e.clinicalAttributeId,label:e.displayName,priority:parseFloat(e.priority||"-1")}}),[function(e){return-e.priority},function(e){return e.label}])}function Ve(e){var t,n,r;if(e.logScale)return void 0!==e.dataType&&l.a.keys(h.b).includes(e.dataType)?(t="log10",n=function(e,t){return t||(t=0),e+t===0?0:Math.log10(e+t)},r=function(e,t){return t||(t=0),Math.pow(10,e-t)}):(t="log2",n=function(e){return Math.log2(Math.max(e,.01))},r=function(e){return Math.pow(2,e)}),{label:t,fLogScale:n,fInvLogScale:r}}function He(e){return!!B(e)&&l()(e.data).filter(function(e){return e.value<0}).size()>0}function Ue(e){return l()(e).filter(function(e){return void 0!==e.thresholdType&&""!==e.thresholdType&&!Array.isArray(e.value)}).map(function(e){return"".concat(e.thresholdType).concat(e.value.toFixed(2))}).uniq().value()}},function(e,t,n){"use strict";var r=n(0);function o(e,t,n,r,o){var i=e+t+n+r,a=o[e+t]+o[n+r]+o[e+n]+o[t+r]-(o[e]+o[t]+o[n]+o[r]+o[i]);return Math.exp(a)}var i,a=n(592),s=n(773),l=n.n(s),c=n(7);function u(e,t,n,r){return function(e,t,n,r){var i,a,s=e+t+n+r,l=0,c=new Array(s+1);c[0]=0;for(var u=1;u<=s;u++)c[u]=c[u-1]+Math.log(u);if(l+=o(e,t,n,r,c),e*r>=t*n)for(i=n<t?n:t,a=0;a<i;a++)l+=o(++e,--t,--n,++r,c);if(e*r<t*n)for(i=e<r?e:r,a=0;a<i;a++)l+=o(--e,++t,++n,--r,c);return l}(e,t,n,r)}function p(e,t){var n=c.size(e),o=n>1?"pairs":"pair";return r.createElement("p",null,"The analysis tested ",r.createElement("b",null,n)," ",o," between the"," ",r.createElement("b",null,t)," tracks in the OncoPrint.")}function h(e){var t=[];l.a.bigCombination(Object.keys(e),2).toArray().forEach(function(n){var r,o,a,s,l,c,p,h,d,f,m=n[0],y=n[1],g=(r=e[m],o=e[y],a=0,s=0,l=0,c=0,r.forEach(function(e,t){if(e===i.UNPROFILED||o[t]===i.UNPROFILED)return!0;var n=o[t];e===i.UNALTERED&&n===i.UNALTERED?a++:e===i.UNALTERED&&n===i.ALTERED?s++:e===i.ALTERED&&n===i.UNALTERED?l++:c++}),[a,s,l,c]),v=u(g[0],g[1],g[2],g[3]),b=(h=g[1],d=g[2],(p=g[0])*(f=g[3])==0&&h*d==0?1/0:Math.log2(p*f/(h*d))),S=function(e){return e>0?"Co-occurrence":"Mutual exclusivity"}(b);t.push({trackA:m,trackB:y,neitherCount:g[0],bNotACount:g[1],aNotBCount:g[2],bothCount:g[3],logOddsRatio:b,pValue:v,qValue:0,association:S})}),t=c.sortBy(t,["pValue"]);var n=Object(a.a)(c.map(t,function(e){return e.pValue}));return t.forEach(function(e,t){e.qValue=n[t]}),t}function d(e,t,n,r){return e.filter(function(e){var o=!1;return t&&(o=o||e.logOddsRatio<=0),n&&(o=o||e.logOddsRatio>0),r&&(o=o&&e.qValue<.05),o})}function f(e){return e<.001?"<0.001":e.toFixed(3)}function m(e){var t=r.createElement("span",null,f(e));return e<.05&&(t=r.createElement("b",null,t)),t}function y(e){return e<-3?"<-3":e>3?">3":e.toFixed(3)}function g(e){var t={};return c.forIn(e,function(e,n){e&&e.length>0&&e.filter(function(e){return e!=i.UNPROFILED}).length>0&&(t[n]=e)}),t}n.d(t,"a",function(){return i}),n.d(t,"h",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return y}),n.d(t,"g",function(){return g}),function(e){e.UNPROFILED="unprofiled",e.ALTERED="altered",e.UNALTERED="unaltered"}(i||(i={}))},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(937),a=n(28),s=n.n(a),l=n(610),c=n.n(l),u=n(938);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},v=u,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.error,n=e.children,o=e.className,i=g(e,["error","children","className"]);return r.createElement("div",h({className:s()(o,v.error)},i),r.createElement("span",{className:v.message},r.createElement(c.a,{className:v.icon,name:"exclamation-circle"}),t.message+""),n)}}])&&d(n.prototype,o),i&&d(n,i),t}(),S=n(93);function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},O=i,P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,k(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.promises,n=e.children,o=e.className,i=e.secondaryComponent,a=A(e,["promises","children","className","secondaryComponent"]);return r.createElement("div",w({className:s()(o,O.SectionHeader)},a),r.createElement("h2",null,n,!(!t||!t.some(function(e){return e.isPending}))&&r.createElement(S.a,{isLoading:!0,size:"small"})),!!i&&i,t&&t.map(function(e){return!!e.error&&r.createElement(b,{className:O.error,error:e.error})}))}}])&&C(n.prototype,o),i&&C(n,i),t}();P=E([o.observer],P);t.a=P},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=":";function o(e,t){return"".concat(e).concat(r).concat(t)}function i(e,t){if("string"==typeof e){if(t)return o(e,t);throw"no sampleId given"}return o(e.studyId,e.sampleId)}},function(e,t,n){e.exports={portalWidth:"copyDownloadControls-module__portalWidth__wDcH_",framedImage:"copyDownloadControls-module__framedImage__1bvsU",downloadTabLinksGroup:"copyDownloadControls-module__downloadTabLinksGroup__-hkGB"}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(20),i=n(92),a=n(4);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(s=[{key:"copyButton",value:function(){var e=r.createElement("button",{ref:this.props.copyButtonRef,className:"btn btn-sm btn-default","data-clipboard-text":"NA",id:"copyButton",onClick:this.props.handleCopy},this.props.copyLabel," ",r.createElement("i",{className:"fa fa-clipboard"}));return r.createElement(a.c,l({overlay:r.createElement("span",{className:"alert-success"},"Copied!"),visible:this.props.showCopyMessage},this.baseTooltipProps,{overlayClassName:this.props.className}),r.createElement(a.c,l({overlay:r.createElement("span",null,"Copy"),visible:!this.props.showCopyMessage&&void 0},this.baseTooltipProps,{overlayClassName:this.props.className}),e))}},{key:"downloadButton",value:function(){return r.createElement(a.c,l({overlay:r.createElement("span",null,"Download TSV")},this.baseTooltipProps,{overlayClassName:this.props.className}),r.createElement(i.Button,{className:"btn-sm",onClick:this.props.handleDownload},this.props.downloadLabel," ",r.createElement("i",{className:"fa fa-cloud-download"})))}},{key:"render",value:function(){return r.createElement("span",{className:this.props.className},r.createElement(i.ButtonGroup,{className:this.props.className},r.createElement(o.If,{condition:this.props.showCopy},this.copyButton()),r.createElement(o.If,{condition:this.props.showDownload},this.downloadButton())))}},{key:"baseTooltipProps",get:function(){return{placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5}}}])&&c(n.prototype,s),d&&c(n,d),t}();d.defaultProps={className:"",copyLabel:"",downloadLabel:"",showCopy:!0,showDownload:!0,showCopyMessage:!1}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(567);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,i;return t=e,i=[{key:"from",value:function(t){var n=new e,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.add(l)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}],(n=[{key:"keys",value:function(){return this.map.entries().filter(function(e){return e.value}).map(function(e){return e.key})}},{key:"add",value:function(e){this.map.set(e,!0)}},{key:"delete",value:function(e){this.map.set(e,!1)}},{key:"has",value:function(e,t){return!!this.map.get(e,t)}},{key:"isEmpty",value:function(){return 0===this.keys().length}},{key:"clear",value:function(){this.map.clear()}}])&&o(t.prototype,n),i&&o(t,i),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(567);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,i;return t=e,(n=[{key:"add",value:function(e,t){var n=[];this.map.has(e)?n=this.map.get(e):this.map.set(e,n),n.push(t)}},{key:"get",value:function(e){return this.map.get(e)}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&o(t.prototype,n),i&&o(t,i),e}()},function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],n[o.type](o));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={start:bn},a=bn,s=function(){return!1},l=/^[0-9]/,c=fn([["0","9"]],!1,!1),u=function(e){return e.join("")},p="-",h=dn("-",!1),d=function(e){return"-"+e},f=".",m=dn(".",!1),y=function(e,t){return e+"."+t},g=function(e){return"."+e},v=function(e){return e},b=/^[\-_.@\/a-zA-Z0-9*]/,S=fn(["-","_",".","@","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),w=function(e){return e.join("")},C=/^[\-_.\/a-zA-Z0-9*]/,_=fn(["-","_",".","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),k=function(e){return e},T=/^[GPAVLIMCFYWHKRQNEDST]/,x=fn(["G","P","A","V","L","I","M","C","F","Y","W","H","K","R","Q","N","E","D","S","T"],!1,!1),E=function(e){return e},A=/^[^"]/,O=fn(['"'],!0,!1),P=function(e){return e.join("")},I=/^[ \t\r]/,M=fn([" ","\t","\r"],!1,!1),D=/^[,; \t\r\n]/,L=fn([",",";"," ","\t","\r","\n"],!1,!1),N="[",R=dn("[",!1),j='"',F=dn('"',!1),G=function(e){return{label:e,list:[]}},B=function(){return{label:void 0,list:[]}},z="amp",V=dn("AMP",!0),H="homdel",U=dn("HOMDEL",!0),q="gain",W=dn("GAIN",!0),K="hetloss",$=dn("HETLOSS",!0),Y="mut",Q=dn("MUT",!0),X=(dn("EXP",!0),dn("PROT",!0),function(e,t){return e.concat(t)}),Z=function(e,t){return e.concat(t)},J=function(e){return e},ee=function(e){return e},te="]",ne=dn("]",!1),re=function(e,t,n){return e.list=t,[e].concat(n)},oe=function(e,t){return e.list=t,[e]},ie=function(e,t){return[e].concat(t)},ae=function(e){return[e]},se=":",le=dn(":",!1),ce=function(e,t){return{gene:e,alterations:t}},ue=function(e){return{gene:e,alterations:!1}},pe=function(e,t){return[e].concat(t)},he=function(e){return[e]},de=function(e){return e},fe="_",me=dn("_",!1),ye=function(e){return{alteration_type:"any",modifiers:[e]}},ge=function(){return"AMP"},ve=function(){return"HOMDEL"},be=function(){return"GAIN"},Se=function(){return"HETLOSS"},we="cna",Ce=dn("CNA",!0),_e=function(e,t){return{alteration_type:"cna",constr_rel:e,constr_val:t,modifiers:[]}},ke="CNA_",Te=dn("CNA_",!1),xe=function(e){return{alteration_type:"cna",modifiers:[e]}},Ee=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[t]}},Ae="_CNA",Oe=dn("_CNA",!1),Pe=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:t,modifiers:[e]}},Ie=function(e){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[]}},Me="MUT",De=dn("MUT",!1),Le="=",Ne=dn("=",!1),Re=function(e){return{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},je="!=",Fe=dn("!=",!1),Ge=function(e){return{alteration_type:"mut",constr_rel:"!=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},Be=function(e){return e.type?{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}:{alteration_type:"mut",info:{},modifiers:e.modifiers}},ze="EXP",Ve=dn("EXP",!1),He=function(e,t){return{alteration_type:"exp",constr_rel:e,constr_val:parseFloat(t)}},Ue="fusion",qe=dn("FUSION",!0),We=function(e){return{alteration_type:"fusion",modifiers:[e]}},Ke="_fusion",$e=dn("_FUSION",!0),Ye=function(){return{alteration_type:"fusion",modifiers:[]}},Qe="PROT",Xe=dn("PROT",!1),Ze=function(e,t){return{alteration_type:"prot",constr_rel:e,constr_val:parseFloat(t)}},Je=">=",et=dn(">=",!1),tt=function(){return">="},nt="<=",rt=dn("<=",!1),ot=function(){return"<="},it=">",at=dn(">",!1),st=function(){return">"},lt="<",ct=dn("<",!1),ut=function(){return"<"},pt=function(e,t){return t.modifiers.unshift(e),t},ht=function(e,t){return e.modifiers=t,e},dt=function(e){return{info:{},modifiers:[e]}},ft=function(e){return e.modifiers=[],e},mt=function(e,t){return[e].concat(t)},yt=function(e){return[e]},gt=function(){return{info:{}}},vt="missense",bt=dn("MISSENSE",!0),St=function(){return{type:"class",value:"MISSENSE",info:{}}},wt="nonsense",Ct=dn("NONSENSE",!0),_t=function(){return{type:"class",value:"NONSENSE",info:{}}},kt="nonstart",Tt=dn("NONSTART",!0),xt=function(){return{type:"class",value:"NONSTART",info:{}}},Et="nonstop",At=dn("NONSTOP",!0),Ot=function(){return{type:"class",value:"NONSTOP",info:{}}},Pt="frameshift",It=dn("FRAMESHIFT",!0),Mt=function(){return{type:"class",value:"FRAMESHIFT",info:{}}},Dt="inframe",Lt=dn("INFRAME",!0),Nt=function(){return{type:"class",value:"INFRAME",info:{}}},Rt="splice",jt=dn("SPLICE",!0),Ft=function(){return{type:"class",value:"SPLICE",info:{}}},Gt="trunc",Bt=dn("TRUNC",!0),zt=function(){return{type:"class",value:"TRUNC",info:{}}},Vt="promoter",Ht=dn("PROMOTER",!0),Ut=function(){return{type:"class",value:"PROMOTER",info:{}}},qt=function(e,t,n){return{type:"name",value:e+t+n,info:{}}},Wt=function(e,t){return{type:"position",value:parseInt(t),info:{amino_acid:e.toUpperCase()}}},Kt=function(e){return{type:"name",value:e,info:{unrecognized:!0}}},$t=function(e,t){return e+t},Yt=function(e){return e},Qt=function(e){return e},Xt="germline",Zt=dn("GERMLINE",!0),Jt=function(){return"GERMLINE"},en="somatic",tn=dn("SOMATIC",!0),nn=function(){return"SOMATIC"},rn=function(e){return e},on="driver",an=dn("DRIVER",!0),sn=function(){return"DRIVER"},ln=0,cn=[{line:1,column:1}],un=0,pn=[],hn=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function dn(e,t){return{type:"literal",text:e,ignoreCase:t}}function fn(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function mn(t){var n,r=cn[t];if(r)return r;for(n=t-1;!cn[n];)n--;for(r={line:(r=cn[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return cn[t]=r,r}function yn(e,t){var n=mn(e),r=mn(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function gn(e){ln<un||(ln>un&&(un=ln,pn=[]),pn.push(e))}function vn(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function bn(){var e,t;return(e=function e(){var t,n,r;return t=ln,(n=Pn())!==o&&An()!==o&&(r=e())!==o?(n=X(n,r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=In())!==o&&An()!==o&&(r=e())!==o?(n=Z(n,r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Pn())!==o&&En()!==o?(n=J(n),t=n):(ln=t,t=o),t===o&&(t=ln,(n=In())!==o&&En()!==o?(n=ee(n),t=n):(ln=t,t=o)))),t}())===o&&(e=ln,(t=Tn())!==o&&(t=s()),e=t),e}function Sn(){var t,n;if(ln,t=[],l.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(c)),n!==o)for(;n!==o;)t.push(n),l.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(c));else t=o;return t!==o&&(t=u(t)),t}function wn(){var t,n,r,i;return t=ln,45===e.charCodeAt(ln)?(n=p,ln++):(n=o,0===hn&&gn(h)),n!==o&&(r=wn())!==o?t=n=d(r):(ln=t,t=o),t===o&&(t=ln,(n=Sn())!==o?(46===e.charCodeAt(ln)?(r=f,ln++):(r=o,0===hn&&gn(m)),r!==o&&(i=Sn())!==o?t=n=y(n,i):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,46===e.charCodeAt(ln)?(n=f,ln++):(n=o,0===hn&&gn(m)),n!==o&&(r=Sn())!==o?t=n=g(r):(ln=t,t=o),t===o&&(t=ln,(n=Sn())!==o&&(n=v(n)),t=n))),t}function Cn(){var t,n;if(ln,t=[],b.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(S)),n!==o)for(;n!==o;)t.push(n),b.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(S));else t=o;return t!==o&&(t=w(t)),t}function _n(){var t;return ln,C.test(e.charAt(ln))?(t=e.charAt(ln),ln++):(t=o,0===hn&&gn(_)),t!==o&&(t=k(t)),t}function kn(){var t;return ln,T.test(e.charAt(ln))?(t=e.charAt(ln),ln++):(t=o,0===hn&&gn(x)),t!==o&&(t=E(t)),t}function Tn(){var t,n;if(t=[],I.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(M)),n!==o)for(;n!==o;)t.push(n),I.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(M));else t=o;return t}function xn(){var t,n;for(t=[],I.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(M));n!==o;)t.push(n),I.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(M));return t}function En(){var t,n;for(t=[],D.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(L));n!==o;)t.push(n),D.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(L));return t}function An(){var t,n;if(t=[],D.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(L)),n!==o)for(;n!==o;)t.push(n),D.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(L));else t=o;return t}function On(){var t,n,r,i,a;return t=ln,91===e.charCodeAt(ln)?(n=N,ln++):(n=o,0===hn&&gn(R)),n!==o&&En()!==o?(34===e.charCodeAt(ln)?(r=j,ln++):(r=o,0===hn&&gn(F)),r!==o&&(i=function(){var t,n;if(ln,t=[],A.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(O)),n!==o)for(;n!==o;)t.push(n),A.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===hn&&gn(O));else t=o;return t!==o&&(t=P(t)),t}())!==o?(34===e.charCodeAt(ln)?(a=j,ln++):(a=o,0===hn&&gn(F)),a!==o?t=n=G(i):(ln=t,t=o)):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,91===e.charCodeAt(ln)?(n=N,ln++):(n=o,0===hn&&gn(R)),n!==o&&En()!==o?t=n=B():(ln=t,t=o)),t}function Pn(){var t,n,r,i,a;return t=ln,En()!==o&&(n=On())!==o&&(r=In())!==o&&En()!==o?(93===e.charCodeAt(ln)?(i=te,ln++):(i=o,0===hn&&gn(ne)),i!==o&&En()!==o&&(a=Pn())!==o?t=re(n,r,a):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,En()!==o&&(n=On())!==o&&(r=In())!==o&&En()!==o?(93===e.charCodeAt(ln)?(i=te,ln++):(i=o,0===hn&&gn(ne)),i!==o?t=oe(n,r):(ln=t,t=o)):(ln=t,t=o)),t}function In(){var e,t,n;return e=ln,En()!==o&&(t=Mn())!==o&&An()!==o&&(n=In())!==o?e=ie(t,n):(ln=e,e=o),e===o&&(e=ln,En()!==o&&(t=Mn())!==o?e=ae(t):(ln=e,e=o)),e}function Mn(){var t,n,r,i;return t=ln,(n=Cn())!==o&&xn()!==o?(58===e.charCodeAt(ln)?(r=se,ln++):(r=o,0===hn&&gn(le)),r!==o&&xn()!==o&&(i=function e(){var t,n,r;return t=ln,(n=Dn())!==o&&Tn()!==o&&(r=e())!==o?(n=pe(n,r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Dn())!==o&&(n=he(n)),t=n),t}())!==o?t=n=ce(n,i):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Cn())!==o&&(n=ue(n)),t=n),t}function Dn(){var t,n;return t=ln,(n=function(){var t,n,r,i;return t=ln,(n=Hn())!==o?(r=ln,hn++,95===e.charCodeAt(ln)?(i=fe,ln++):(i=o,0===hn&&gn(me)),hn--,i===o?r=void 0:(ln=r,r=o),r!==o?(n=ye(n),t=n):(ln=t,t=o)):(ln=t,t=o),t}())!==o&&(n=de(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,i,a;return t=ln,e.substr(ln,3).toLowerCase()===we?(n=e.substr(ln,3),ln+=3):(n=o,0===hn&&gn(Ce)),n!==o&&(r=xn())!==o&&(i=Nn())!==o&&xn()!==o&&(a=Ln())!==o?(n=_e(i,a),t=n):(ln=t,t=o),t===o&&(t=ln,e.substr(ln,4)===ke?(n=ke,ln+=4):(n=o,0===hn&&gn(Te)),n!==o&&(r=zn())!==o?(n=xe(r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Ln())!==o?(95===e.charCodeAt(ln)?(r=fe,ln++):(r=o,0===hn&&gn(me)),r!==o&&(i=zn())!==o?(n=Ee(n,i),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=zn())!==o?(e.substr(ln,4)===Ae?(r=Ae,ln+=4):(r=o,0===hn&&gn(Oe)),r!==o?(n=xe(n),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=zn())!==o?(95===e.charCodeAt(ln)?(r=fe,ln++):(r=o,0===hn&&gn(me)),r!==o&&(i=Ln())!==o?(n=Pe(n,i),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Ln())!==o&&(n=Ie(n)),t=n))))),t}())!==o&&(n=de(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,i;return t=ln,e.substr(ln,3)===ze?(n=ze,ln+=3):(n=o,0===hn&&gn(Ve)),n!==o&&xn()!==o&&(r=Nn())!==o&&xn()!==o&&(i=wn())!==o?(n=He(r,i),t=n):(ln=t,t=o),t}())!==o&&(n=de(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,i;return t=ln,e.substr(ln,4)===Qe?(n=Qe,ln+=4):(n=o,0===hn&&gn(Xe)),n!==o&&xn()!==o&&(r=Nn())!==o&&xn()!==o&&(i=wn())!==o?(n=Ze(r,i),t=n):(ln=t,t=o),t}())!==o&&(n=de(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,i;return t=ln,e.substr(ln,6).toLowerCase()===Ue?(n=e.substr(ln,6),ln+=6):(n=o,0===hn&&gn(qe)),n!==o?(95===e.charCodeAt(ln)?(r=fe,ln++):(r=o,0===hn&&gn(me)),r!==o&&(i=Vn())!==o?(n=We(i),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Vn())!==o?(e.substr(ln,7).toLowerCase()===Ke?(r=e.substr(ln,7),ln+=7):(r=o,0===hn&&gn($e)),r!==o?(n=We(n),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,e.substr(ln,6).toLowerCase()===Ue?(n=e.substr(ln,6),ln+=6):(n=o,0===hn&&gn(qe)),n!==o&&(n=Ye()),t=n)),t}())!==o&&(n=de(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,i;return t=ln,e.substr(ln,3)===Me?(n=Me,ln+=3):(n=o,0===hn&&gn(De)),n!==o&&xn()!==o?(61===e.charCodeAt(ln)?(r=Le,ln++):(r=o,0===hn&&gn(Ne)),r!==o&&xn()!==o&&(i=Rn())!==o?(n=Re(i),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,e.substr(ln,3)===Me?(n=Me,ln+=3):(n=o,0===hn&&gn(De)),n!==o&&xn()!==o?(e.substr(ln,2)===je?(r=je,ln+=2):(r=o,0===hn&&gn(Fe)),r!==o&&xn()!==o&&(i=Rn())!==o?(n=Ge(i),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Rn())!==o&&(n=Be(n)),t=n)),t}())!==o&&(n=de(n)),t=n))))),t}function Ln(){var t,n;return t=ln,e.substr(ln,3).toLowerCase()===z?(n=e.substr(ln,3),ln+=3):(n=o,0===hn&&gn(V)),n!==o&&(n=ge()),(t=n)===o&&(t=ln,e.substr(ln,6).toLowerCase()===H?(n=e.substr(ln,6),ln+=6):(n=o,0===hn&&gn(U)),n!==o&&(n=ve()),(t=n)===o&&(t=ln,e.substr(ln,4).toLowerCase()===q?(n=e.substr(ln,4),ln+=4):(n=o,0===hn&&gn(W)),n!==o&&(n=be()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===K?(n=e.substr(ln,7),ln+=7):(n=o,0===hn&&gn($)),n!==o&&(n=Se()),t=n))),t}function Nn(){var t,n;return t=ln,e.substr(ln,2)===Je?(n=Je,ln+=2):(n=o,0===hn&&gn(et)),n!==o&&(n=tt()),(t=n)===o&&(t=ln,e.substr(ln,2)===nt?(n=nt,ln+=2):(n=o,0===hn&&gn(rt)),n!==o&&(n=ot()),(t=n)===o&&(t=ln,62===e.charCodeAt(ln)?(n=it,ln++):(n=o,0===hn&&gn(at)),n!==o&&(n=st()),(t=n)===o&&(t=ln,60===e.charCodeAt(ln)?(n=lt,ln++):(n=o,0===hn&&gn(ct)),n!==o&&(n=ut()),t=n))),t}function Rn(){var t,n,r,i;return t=ln,(n=Bn())!==o?(95===e.charCodeAt(ln)?(r=fe,ln++):(r=o,0===hn&&gn(me)),r!==o&&(i=Rn())!==o?t=n=pt(n,i):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=jn())!==o?(95===e.charCodeAt(ln)?(r=fe,ln++):(r=o,0===hn&&gn(me)),r!==o&&(i=function t(){var n,r,i,a;return n=ln,(r=Bn())!==o?(95===e.charCodeAt(ln)?(i=fe,ln++):(i=o,0===hn&&gn(me)),i!==o&&(a=t())!==o?(r=mt(r,a),n=r):(ln=n,n=o)):(ln=n,n=o),n===o&&(n=ln,(r=Bn())!==o&&(r=yt(r)),n=r),n}())!==o?t=n=ht(n,i):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Bn())!==o&&(n=dt(n)),(t=n)===o&&(t=ln,(n=jn())!==o&&(n=ft(n)),t=n))),t}function jn(){var t,n,r,i;return t=ln,e.substr(ln,3).toLowerCase()===Y?(n=e.substr(ln,3),ln+=3):(n=o,0===hn&&gn(Q)),n!==o&&(n=gt()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===vt?(n=e.substr(ln,8),ln+=8):(n=o,0===hn&&gn(bt)),n!==o&&(n=St()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===wt?(n=e.substr(ln,8),ln+=8):(n=o,0===hn&&gn(Ct)),n!==o&&(n=_t()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===kt?(n=e.substr(ln,8),ln+=8):(n=o,0===hn&&gn(Tt)),n!==o&&(n=xt()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===Et?(n=e.substr(ln,7),ln+=7):(n=o,0===hn&&gn(At)),n!==o&&(n=Ot()),(t=n)===o&&(t=ln,e.substr(ln,10).toLowerCase()===Pt?(n=e.substr(ln,10),ln+=10):(n=o,0===hn&&gn(It)),n!==o&&(n=Mt()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===Dt?(n=e.substr(ln,7),ln+=7):(n=o,0===hn&&gn(Lt)),n!==o&&(n=Nt()),(t=n)===o&&(t=ln,e.substr(ln,6).toLowerCase()===Rt?(n=e.substr(ln,6),ln+=6):(n=o,0===hn&&gn(jt)),n!==o&&(n=Ft()),(t=n)===o&&(t=ln,e.substr(ln,5).toLowerCase()===Gt?(n=e.substr(ln,5),ln+=5):(n=o,0===hn&&gn(Bt)),n!==o&&(n=zt()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===Vt?(n=e.substr(ln,8),ln+=8):(n=o,0===hn&&gn(Ht)),n!==o&&(n=Ut()),(t=n)===o&&(t=ln,(n=kn())!==o&&(r=Sn())!==o&&(i=Fn())!==o?t=n=qt(n,r,i):(ln=t,t=o),t===o&&(t=ln,(n=kn())!==o&&(r=Sn())!==o?t=n=Wt(n,r):(ln=t,t=o),t===o&&(t=ln,(n=Fn())!==o&&(n=Kt(n)),t=n)))))))))))),t}function Fn(){var e,t,n,r,i;return e=ln,t=ln,hn++,n=Gn(),hn--,n===o?t=void 0:(ln=t,t=o),t!==o&&(n=_n())!==o?(r=ln,hn++,i=Gn(),hn--,i===o?r=void 0:(ln=r,r=o),r!==o&&(i=Fn())!==o?e=t=$t(n,i):(ln=e,e=o)):(ln=e,e=o),e===o&&(e=ln,t=ln,hn++,n=Gn(),hn--,n===o?t=void 0:(ln=t,t=o),t!==o&&(n=_n())!==o?e=t=Yt(n):(ln=e,e=o)),e}function Gn(){var t,n,r;return t=ln,95===e.charCodeAt(ln)?(n=fe,ln++):(n=o,0===hn&&gn(me)),n!==o&&(r=Bn())!==o?t=n=Qt(r):(ln=t,t=o),t}function Bn(){var t,n;return t=ln,e.substr(ln,8).toLowerCase()===Xt?(n=e.substr(ln,8),ln+=8):(n=o,0===hn&&gn(Zt)),n!==o&&(n=Jt()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===en?(n=e.substr(ln,7),ln+=7):(n=o,0===hn&&gn(tn)),n!==o&&(n=nn()),(t=n)===o&&(t=ln,(n=Hn())!==o&&(n=Qt(n)),t=n)),t}function zn(){var e;return ln,(e=Hn())!==o&&(e=rn(e)),e}function Vn(){var e;return ln,(e=Hn())!==o&&(e=rn(e)),e}function Hn(){var t;return ln,e.substr(ln,6).toLowerCase()===on?(t=e.substr(ln,6),ln+=6):(t=o,0===hn&&gn(an)),t!==o&&(t=sn()),t}if((n=a())!==o&&ln===e.length)return n;throw n!==o&&ln<e.length&&gn({type:"end"}),vn(pn,un<e.length?e.charAt(un):null,un<e.length?yn(un,un+1):yn(un,un))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(548);function o(e,t){var n=t.molecularAlterationType(e.molecularProfileId);switch(n){case r.a.MUTATION_EXTENDED:case r.a.FUSION:null!==t.fusion(e)?(e.alterationType=r.a.FUSION,e.alterationSubType=""):(e.alterationType=r.a.MUTATION_EXTENDED,e.alterationSubType=t.mut_type(e));break;case r.a.COPY_NUMBER_ALTERATION:e.alterationType=r.a.COPY_NUMBER_ALTERATION,e.alterationSubType=t.cna(e);break;case r.a.MRNA_EXPRESSION:case r.a.PROTEIN_LEVEL:e.alterationType=n}return e}},function(e,t,n){"use strict";function r(e){return function(e){var t="";e&&(e.length>1?t="combined_study_":1===e.length&&(t="".concat(e[0],"_")));return t}(e?e.map(function(e){return e.studyId}):void 0)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(28),a=n.n(i),s=n(5);n(795);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e,t,n,o;return this.props.store.queryContainsOql?(this.props.isUnaffected?(e="alert alert-unaffected",t="The results below are not affected by the OQL specification from your query.",n="fa fa-md fa-info-circle",o="OqlStatusBannerUnaffected"):this.props.tabReflectsOql?(e="alert alert-success",t="The results below reflect the OQL specification from your query.",n="fa fa-md fa-check",o="OqlStatusBannerYes"):(e="alert alert-info",t="The results below do not reflect the OQL specification from your query.",n="fa fa-md fa-exclamation-triangle",o="OqlStatusBannerNo"),r.createElement("div",{"data-test":o,className:a()("oql-status-banner",e,this.props.className),style:Object.assign({},this.props.style||{})},r.createElement("span",{style:{verticalAlign:"middle"}},r.createElement("i",{className:a()("banner-icon",n),style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),t,this.toggleButton))):null}},{key:"toggleButton",get:function(){return this.props.onToggle&&!this.props.isUnaffected?r.createElement("span",null,r.createElement("button",{onClick:this.props.onToggle,className:"btn btn-default btn-xs",style:{marginLeft:5}},this.props.tabReflectsOql?"Do not filter by OQL":"Filter by OQL")):null}}])&&l(n.prototype,o),i&&l(n,i),t}();d([s.computed],f.prototype,"toggleButton",null),f=d([o.observer],f),t.a=f},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(558);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function d(e,t){var n=[];return e.mutation&&n.push("mutation".concat(t?"s":"")),e.cna&&n.push("copy number alteration".concat(t?"s":"")),"".concat(n.join(" and ")," of unknown significance")}var f=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,c(t).apply(this,arguments))).vusWarning=Object(a.a)({await:function(){return e.props.mutationsTabModeSettings?[e.props.store.mutationsReportByGene]:[e.props.store.oqlFilteredMutationsReport,e.props.store.oqlFilteredMolecularDataReport]},render:function(){var t=0,o={mutation:!1,cna:!1};if(e.props.mutationsTabModeSettings){var i=e.props.store.mutationsReportByGene.result[e.props.mutationsTabModeSettings.hugoGeneSymbol];(t=i.vus.length+i.vusAndGermline.length)>0&&(o.mutation=!0)}else{var a=e.props.store.oqlFilteredMutationsReport.result,s=a.vus.length+a.vusAndGermline.length,l=e.props.store.oqlFilteredMolecularDataReport.result.vus.length;t=s+l,s>0&&(o.mutation=!0),l>0&&(o.cna=!0)}if(!(t>0))return null;var c=1===t?"is":"are";return e.props.isUnaffected&&e.excludeVUS?r.createElement("div",{className:"alert alert-unaffected"},r.createElement("i",{className:"fa fa-md fa-info-circle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),"".concat(t," ").concat(d(o,1!==t)," ").concat(c," included in analysis.")):e.excludeVUS||e.vusToggleable?r.createElement("div",{className:"alert alert-info"},r.createElement("img",{src:n(734),style:{marginRight:6,width:15,marginTop:-2}}),e.excludeVUS?"".concat(t," ").concat(d(o,1!==t)," ").concat(c," ").concat(e.props.mutationsTabModeSettings?"hidden below.":"excluded from analysis."):"".concat(t," ").concat(d(o,1!==t)," ").concat(c," ").concat(e.props.mutationsTabModeSettings?"shown below.":"included in analysis."),e.vusToggleable&&r.createElement("button",{onClick:e.props.mutationsTabModeSettings.toggleExcludeVUS,className:"btn btn-default btn-xs",style:{marginLeft:5}},e.excludeVUS?e.props.mutationsTabModeSettings?"Show":"Include":e.props.mutationsTabModeSettings?"Hide":"Exclude")):void 0}}),e.germlineWarning=Object(a.a)({await:function(){return e.props.mutationsTabModeSettings?[e.props.store.mutationsReportByGene]:[e.props.store.oqlFilteredMutationsReport]},render:function(){var t,o=(t=e.props.mutationsTabModeSettings?e.props.store.mutationsReportByGene.result[e.props.mutationsTabModeSettings.hugoGeneSymbol]:e.props.store.oqlFilteredMutationsReport.result).germline.length+t.vusAndGermline.length;if(!(o>0))return null;var i=1===o?"is":"are";return e.props.isUnaffected&&e.excludeGermline?r.createElement("div",{className:"alert alert-unaffected"},r.createElement("i",{className:"fa fa-md fa-info-circle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),"".concat(o," germline mutations ").concat(i," included in analysis.")):e.excludeGermline||e.germlineToggleable?r.createElement("div",{className:"alert alert-info"},r.createElement("img",{src:n(734),style:{marginRight:6,width:15,marginTop:-2}}),e.excludeGermline?"".concat(o," germline mutations ").concat(i," ").concat(e.props.mutationsTabModeSettings?"hidden below.":"excluded from analysis."):"".concat(o," germline mutations ").concat(i," ").concat(e.props.mutationsTabModeSettings?"shown below.":"included in analysis."),e.germlineToggleable&&r.createElement("button",{onClick:e.props.mutationsTabModeSettings.toggleExcludeGermline,className:"btn btn-default btn-xs",style:{marginLeft:5}},e.excludeGermline?e.props.mutationsTabModeSettings?"Show":"Include":e.props.mutationsTabModeSettings?"Hide":"Exclude")):void 0}}),e}var o,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),o=t,(i=[{key:"render",value:function(){return r.createElement(r.Fragment,null,this.vusWarning.component,this.germlineWarning.component)}},{key:"excludeVUS",get:function(){return this.props.mutationsTabModeSettings?this.props.mutationsTabModeSettings.excludeVUS:this.props.store.driverAnnotationSettings.excludeVUS}},{key:"excludeGermline",get:function(){return this.props.mutationsTabModeSettings?this.props.mutationsTabModeSettings.excludeGermline:this.props.store.excludeGermlineMutations}},{key:"vusToggleable",get:function(){return this.props.mutationsTabModeSettings&&this.props.store.driverAnnotationSettings.excludeVUS}},{key:"germlineToggleable",get:function(){return this.props.mutationsTabModeSettings&&this.props.store.excludeGermlineMutations}}])&&s(o.prototype,i),p&&s(o,p),t}();h([i.computed],f.prototype,"excludeVUS",null),h([i.computed],f.prototype,"excludeGermline",null),h([i.computed],f.prototype,"vusToggleable",null),h([i.computed],f.prototype,"germlineToggleable",null),f=h([o.observer],f),t.a=f},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3xfuL",framedImage:"styles-module__framedImage__3MWaq",validationBubbleBase:"styles-module__validationBubbleBase__1bQNI",genesSelection:"styles-module__genesSelection__17BpH",GeneSymbolValidator:"styles-module__GeneSymbolValidator__1K2q1",validBubble:"styles-module__validBubble__2iAqd",invalidBubble:"styles-module__invalidBubble__3Hs4P",suggestionBubble:"styles-module__suggestionBubble__1TnzN",topRow:"styles-module__topRow__2F7H0",default:"styles-module__default__3ZAms",oncoprintHeatmap:"styles-module__oncoprintHeatmap__lvPrO",studyView:"styles-module__studyView__3TtjM",studyViewFocus:"styles-module__studyViewFocus__1CfEf",nowrap:"styles-module__nowrap__1GVDf",icon:"styles-module__icon__2RDD6",pendingMessage:"styles-module__pendingMessage__1gVAe",oqlNotice:"styles-module__oqlNotice__3naFJ",errorMessage:"styles-module__errorMessage__3pZ_v",noChoiceLabel:"styles-module__noChoiceLabel__2sdit",singleChoiceLabel:"styles-module__singleChoiceLabel__178JA",multiChoiceLabel:"styles-module__multiChoiceLabel__1PPmp"}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputToKey=t,this.inputToOutput=n,this.memo={}}var t,n,o;return t=e,(n=[{key:"get",value:function(e){var t=this.inputToKey(e);return this.memo[t]=this.memo[t]||this.inputToOutput(e),this.memo[t]}},{key:"has",value:function(e){return this.inputToKey(e)in this.memo}}])&&r(t.prototype,n),o&&r(t,o),e}();function i(e){return JSON.stringify(e,Object.keys(e).sort())}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=new o(t,function(t){return function(n){return e(n,t)}});return function(e){return n.get(e)}}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=n(161),o=n(548),i=n(7),a=n.n(i),s="NA";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var l=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function c(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.filter(function(e){return e.genericAssayType===o.b.TREATMENT_RESPONSE}),i=[],!(n.length>0)){t.next=8;break}return l=n.map(function(e){return e.molecularProfileId}),t.next=6,r.a.fetchGenericAssayMetaDataUsingPOST({genericAssayMetaFilter:{molecularProfileIds:l}});case 6:c=t.sent,i=a.a.map(c,function(e){return{treatmentId:e.stableId,name:"NAME"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.NAME:s,description:"DESCRIPTION"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.DESCRIPTION:s,refLink:"URL"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.URL:s}});case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}},t)}))}function u(e,t){return l(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=Object.keys(e).map(function(n){return{molecularProfileId:n,genericAssayDataFilter:Object.assign({genericAssayStableIds:e[n]},t[n])}}),i=o.map(function(e){return r.a.fetchGenericAssayDataInMolecularProfileUsingPOST(e)}),n.next=4,Promise.all(i);case 4:return s=n.sent,l=a.a.map(s,function(e){return a.a.map(e,function(e){return{geneticProfileId:e.molecularProfileId,patientId:e.patientId,sampleId:e.sampleId,stableId:e.stableId,studyId:e.studyId,treatmentId:e.genericAssayStableId,uniquePatientKey:e.uniquePatientKey,uniqueSampleKey:e.uniqueSampleKey,value:e.value}})}),n.abrupt("return",l);case 7:case"end":return n.stop()}},n)}))}},function(e,t,n){e.exports=n(15)(1031)},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f});var r=n(574),o=n(7),i=n.n(o),a=n(671),s=n.n(a),l=n(0),c={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"copy number alterations",MRNA_EXPRESSION:"mRNA expression",PROTEIN_LEVEL:"protein expression"};function u(e,t){var n;return n=e&&t?"Annotating with OncoKB and Cancer Hotspots":e?"Annotating with OncoKB":t?"Annotating with Cancer Hotspots":"Processing data",l.createElement("span",{style:{whiteSpace:"nowrap"}},n)}function p(e,t){return t?"".concat(r.a.ComparisonGroupPrefix,"_").concat(e):e.substring(r.a.ComparisonGroupPrefix.length+1)}function h(e){return e.map(function(e){return{clinicalAttributeId:p(e.id,!0),datatype:"STRING",description:"Membership in ".concat(e.data.name),displayName:"In group: ".concat(e.data.name),comparisonGroup:e,patientAttribute:!1}})}function d(e,t,n,o){var a=i.a.groupBy(n,"molecularAlterationType"),l=i.a.keyBy(n,function(e){return e.molecularProfileId}),u=i.a.mapValues(a,function(e){return!0}),p=i.a.reduce(e,function(e,n){var r=i.a.clone(u),o=!0,a=!1,s=void 0;try{for(var c,p=n.notProfiledAllGenes[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var h=c.value;h.molecularProfileId in l&&(r[t[h.molecularProfileId].molecularAlterationType]=!0)}}catch(e){a=!0,s=e}finally{try{o||null==p.return||p.return()}finally{if(a)throw s}}i.a.forEach(n.notProfiledByGene,function(e){var n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;c.molecularProfileId in l&&(r[t[c.molecularProfileId].molecularAlterationType]=!0)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}});var d=!0,f=!1,m=void 0;try{for(var y,g=n.allGenes[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value;v.molecularProfileId in l&&(r[t[v.molecularProfileId].molecularAlterationType]=!1)}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}return i.a.forEach(n.byGene,function(e){var n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;c.molecularProfileId in l&&(r[t[c.molecularProfileId].molecularAlterationType]=!1)}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}),i.a.forEach(r,function(t,n){t&&(e[n]=e[n]||0,e[n]+=1)}),e},{}),h=Object.keys(p).filter(function(e){return p[e]>0}).map(function(e){var t=a[e];if(t){if(1===t.length&&o){var n=t[0];return{clinicalAttributeId:"".concat(r.a.ProfiledInPrefix,"_").concat(n.molecularProfileId),datatype:"STRING",description:"Profiled in ".concat(n.name,": ").concat(n.description),displayName:"Profiled in ".concat(n.name),molecularProfileIds:[n.molecularProfileId],patientAttribute:!1}}return{clinicalAttributeId:"".concat(r.a.ProfiledInPrefix,"_").concat(e),datatype:"STRING",description:"",displayName:"Profiled for ".concat(c[e]),molecularProfileIds:t.map(function(e){return e.molecularProfileId}),patientAttribute:!1}}return null}).filter(function(e){return!!e});return h.sort(function(e,t){return s()(e.displayName,t.displayName)}),h}function f(e){return i.a.map(e,function(e){var t=e.name!==e.treatmentId,n=e.description!==e.treatmentId&&e.description!==e.name,r="";return r=t||n?t?n?"".concat(e.name," (").concat(e.treatmentId,"): ").concat(e.description):"".concat(e.name," (").concat(e.treatmentId,")"):"".concat(e.treatmentId,": ").concat(e.description):e.treatmentId,{id:e.treatmentId,value:r,label:r}})}},,function(e,t,n){},function(e,t,n){"use strict";var r=n(7),o=new(n(175).a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i){return o.getVariant(t,n,i).then(function(t){t&&(e[r]||(e[r]={}),e[r][n]=t)})}function s(e){var t={},n=[],r=[];if(e.forEach(function(e){if(!t.hasOwnProperty(e)&&(r.push(e),r.length>=400)){var i=r.join();n.push(o.getCivicGenesBatch(i)),r=[]}}),r.length>0){var i=r.join();n.push(o.getCivicGenesBatch(i))}return Promise.all(n).then(function(e){for(var n in e){e[n].forEach(function(e){t[e.name]=e})}}).then(function(){return t})}function l(e,t){var n={},o=[];if(t){var i=new Set([]),s=!0,l=!1,c=void 0;try{for(var u,p=t[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value,d=h.gene.hugoGeneSymbol,f=e[d],m=[h.proteinChange],y=h.proteinChange.split(/[+\/]/);m.push(y[0]);for(var g=0,v=m;g<v.length;g++){var b=v[g];f&&f.variants[b]&&(i.has(f.variants[b])||(i.add(f.variants[b]),o.push(a(n,f.variants[b],b,d,f.id))))}}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}else for(var S in e){var w=e[S],C=w.variants;if(!r.isEmpty(C))for(var _ in C)"AMPLIFICATION"!=_&&"DELETION"!=_||o.push(a(n,C[_],_,S,w.id))}return Promise.all(o).then(function(){return n})}function c(e,t){return{name:e.name,description:e.description,url:e.url,variants:t}}function u(e,t,n){var r={};if(2===e[0].alteration)for(var o in n[t])"AMPLIFICATION"===o&&(r=i({},t,n[t][o]));else if(-2===e[0].alteration)for(var a in n[t])"DELETION"===a&&(r=i({},t,n[t][a]));return r}n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u})},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3H61V",framedImage:"styles-module__framedImage__3vt8Y",absolutePanel:"styles-module__absolutePanel__3vVTX",selectedInfoLoadingIndicator:"styles-module__selectedInfoLoadingIndicator__lMgyy",selectedInfo:"styles-module__selectedInfo__1Vuvh",selectedInfoCheckbox:"styles-module__selectedInfoCheckbox__1dPUi",mainTabs:"styles-module__mainTabs__3BkVf",studyViewSurvivalPlot:"styles-module__studyViewSurvivalPlot__2J73a",studyViewSurvivalPlotTitle:"styles-module__studyViewSurvivalPlotTitle__3oyYN",studyViewSurvivalPlotBody:"styles-module__studyViewSurvivalPlotBody__38PYq",studyViewAutoMargin:"styles-module__studyViewAutoMargin__ST9aM",studyViewLoadingIndicator:"styles-module__studyViewLoadingIndicator__3qAeE",userSelections:"styles-module__userSelections__2SV9k",parentGroupLogic:"styles-module__parentGroupLogic__3_MlA",summaryClearAllBtn:"styles-module__summaryClearAllBtn__2ZLVo",filterClinicalAttrName:"styles-module__filterClinicalAttrName__1bFhQ",summary:"styles-module__summary___VCN0",description:"styles-module__description__2DLbO",actionButtons:"styles-module__actionButtons__3xgw0",studyFilterResult:"styles-module__studyFilterResult__2WKz_",titleMeta:"styles-module__titleMeta__2ZbFA"}},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(653),a=n(584),s=n(5),l=n(558);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};var m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=u(this,p(t).apply(this,arguments))).excludedGroupsSummary=Object(l.a)({await:function(){return[e.props.store.overlapComputations]},render:function(){var t,n=e.props.store.overlapComputations.result,o=n.groups.filter(function(e){return e.uid in n.excludedFromAnalysis}),i=Object(a.f)(o,"and"),s=1===o.length?"is":"are";return o.length>0&&(t=r.createElement("span",null,i," ".concat(s," completely overlapping with other selected groups, so "),e.props.overlapTabMode?"".concat(s," excluded from analysis in other tabs."):"".concat(1===o.length?"has":"have"," been excluded from this analysis."))),t?r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(e.classNames.icon),style:{color:"#000000",marginRight:5}}),t):null}}),e}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"makeOverlappingCasesMessage",value:function(e,t){var n,o="sample"===e?t.overlappingSamples.length:t.overlappingPatients.length;if(0===o)return null;if(this.props.survivalTabMode&&t.totalPatientOverlap>0&&this.props.store.overlapStrategy===i.a.INCLUDE)n=function(e){return r.createElement("span",null,"Overlapping patients (",e,") are plotted as distinct groups below.")}(o);else{var s,l=t.groups.filter(function(e){return!(e.uid in t.excludedFromAnalysis)});s=l.length<t.groups.length?r.createElement("span",null,"between ",Object(a.f)(l,"and")):r.createElement("span",null,"in the selected groups"),n=r.createElement("span",null,"".concat("sample"===e?"Samples":"Patients"," (").concat(o,") that overlap "),s," are ".concat(this.props.store.overlapStrategy===i.a.INCLUDE?"included in":"excluded from"),this.props.overlapTabMode?" ".concat(e,"-level analysis in other tabs."):" ".concat(e,"-level analysis below."))}return r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(this.classNames.icon),style:{color:"#000000",marginRight:5}}),n)}},{key:"render",value:function(){if(this.props.store.overlapComputations.isComplete){var e=this.props.store.overlapComputations.result;return!e.totalSampleOverlap&&!e.totalPatientOverlap||"sample"===this.props.only&&!e.totalSampleOverlap||"patient"===this.props.only&&!e.totalPatientOverlap?null:r.createElement("div",{className:"alert ".concat(this.classNames.alert)},this.excludedGroupsSummary.component,"patient"!==this.props.only&&this.makeOverlappingCasesMessage("sample",e),"sample"!==this.props.only&&this.makeOverlappingCasesMessage("patient",e))}return null}},{key:"classNames",get:function(){var e="",t="";switch(this.props.store.overlapStrategy){case i.a.INCLUDE:this.props.survivalTabMode?(e="fa-info-circle",t="alert-info"):(e="fa-exclamation-triangle",t="alert-warning");break;case i.a.EXCLUDE:e="fa-info-circle",t="alert-info"}return{icon:e,alert:t}}}])&&c(n.prototype,o),s&&c(n,s),t}();m.defaultProps={overlapTabMode:!1,survivalTabMode:!1},f([s.computed],m.prototype,"classNames",null),m=f([o.observer],m),t.a=m},function(e,t,n){"use strict";n.d(t,"a",function(){return x}),n.d(t,"b",function(){return O});var r=n(556),o=n(171),i=n(4),a=n(5),s=n(161),l=n(595),c=n(7),u=n.n(c),p=n(568),h=n(564),d=n(94),f=n(25),m=n(598),y=n(607),g=n(551),v=n(592),b=n(567),S=n(634),w=n(59),C=n(587),_=n(550);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x,E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};!function(e){e.INCLUDE="Include",e.EXCLUDE="Exclude"}(x||(x={}));var O=function(){function e(t,n,c){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=n,this.urlWrapper=c,this._currentTabId=void 0,this.newSessionPending=!1,this.tabHasBeenShown=a.observable.map(),this._session=Object(i.W)({invoke:function(){return l.a.getComparisonSession(f.sessionId)},onResult:function(e){try{var t=u.a.chain(e.groups).flatMap(function(e){return e.studies}).map(function(e){return e.id}).uniq().value();Object(w.f)({category:"groupComparison",action:"comparisonSessionViewed",label:t.join(",")+",",fieldsObject:(n={},r=w.a.GroupCount,o=e.groups.length,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)})}catch(e){throw"Failure to track comparisonSessionViewed"}var n,r,o}}),this.origin=Object(i.W)({await:function(){return[f._session]},invoke:function(){return Promise.resolve(f._session.result.origin)}}),this.existingGroupNames=Object(i.W)({await:function(){return[f._originalGroups,f.origin]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={session:this._originalGroups.result.map(function(e){return e.name}),user:[]},!this.isLoggedIn){e.next=6;break}return e.next=4,l.a.getGroupsForStudies(this.origin.result);case 4:e.t0=function(e){return e.data.name},t.user=e.sent.map(e.t0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))}}),this._unsortedOriginalGroups=Object(i.W)({await:function(){return[f._session,f.sampleSet]},invoke:function(){var e=[],t=f.sampleSet.result,n=Object(g.lb)(u.a.map(f._session.result.groups,function(e){return{value:e.name}}));return f._session.result.groups.forEach(function(o,i){e.push(function(e,o,i){var a=o.color||n[o.name],s=Object(r.o)(o,t),l=s.nonExistentSamples,c=s.studies;return Object.assign({},o,{color:a,studies:c,nonExistentSamples:l,uid:o.name,nameWithOrdinal:"",ordinal:"",savedInSession:e})}(!0,o))}),Promise.resolve(e)}}),this._originalGroups=Object(i.W)({await:function(){return[f._session,f._unsortedOriginalGroups]},invoke:function(){var e;if(f.groupOrder){var t=Object(i.ab)(f.groupOrder);e=u.a.sortBy(f._unsortedOriginalGroups.result,function(e){return Object(C.a)(t[e.name],Number.POSITIVE_INFINITY)})}else if(f._session.result.groupNameOrder){var n=Object(i.ab)(f._session.result.groupNameOrder);e=u.a.sortBy(f._unsortedOriginalGroups.result,function(e){return Object(C.a)(n[e.name],Number.POSITIVE_INFINITY)})}else e=Object(r.l)(f._unsortedOriginalGroups.result);var o=Object(r.s)(e.length,26);return e.forEach(function(e,t){var n=o[t];e.nameWithOrdinal="(".concat(n,") ").concat(e.name),e.ordinal=n}),Promise.resolve(e)}}),this.overlapComputations=Object(i.W)({await:function(){return[f._originalGroups]},invoke:function(){return Promise.resolve(Object(r.t)(f._originalGroups.result,f.isGroupSelected))}}),this.availableGroups=Object(i.W)({await:function(){return[f._originalGroups,f._originalGroupsOverlapRemoved]},invoke:function(){var e;switch(f.overlapStrategy){case x.INCLUDE:e=f._originalGroups.result;break;case x.EXCLUDE:default:e=f._originalGroupsOverlapRemoved.result}return Promise.resolve(e)}}),this.activeGroups=Object(i.W)({await:function(){return[f.availableGroups]},invoke:function(){return Promise.resolve(f.availableGroups.result.filter(function(e){return f.isGroupSelected(e.uid)&&!Object(r.A)(e)}))}}),this.enrichmentAnalysisGroups=Object(i.W)({await:function(){return[f.activeGroups,f.sampleSet]},invoke:function(){var e=f.sampleSet.result||new b.a,t=f.activeGroups.result.map(function(t){var n=[];return t.studies.forEach(function(t){var r=t.id;t.samples.forEach(function(t){if(e.has({studyId:r,sampleId:t})){var o=e.get({studyId:r,sampleId:t});n.push(o)}})}),{name:t.nameWithOrdinal,description:"",count:Object(r.r)(t),color:t.color,samples:n}});return Promise.resolve(t)}}),this._originalGroupsOverlapRemoved=Object(i.W)({await:function(){return[f.overlapComputations,f._originalGroups]},invoke:function(){return Promise.resolve(f.overlapComputations.result.groups)}}),this._activeGroupsOverlapRemoved=Object(i.W)({await:function(){return[f._originalGroupsOverlapRemoved]},invoke:function(){return Promise.resolve(f._originalGroupsOverlapRemoved.result.filter(function(e){return f.isGroupSelected(e.uid)&&!Object(r.A)(e)}))}}),this._activeGroupsNotOverlapRemoved=Object(i.W)({await:function(){return[f._originalGroups,f.overlapComputations]},invoke:function(){var e=f.overlapComputations.result.excludedFromAnalysis;return f.overlapStrategy===x.INCLUDE&&(e={}),Promise.resolve(f._originalGroups.result.filter(function(t){return f.isGroupSelected(t.uid)&&!(t.uid in e)}))}}),this._selectedGroups=Object(i.W)({await:function(){return[f._originalGroups]},invoke:function(){return Promise.resolve(f._originalGroups.result.filter(function(e){return f.isGroupSelected(e.uid)}))}}),this.samples=Object(i.W)({await:function(){return[f._session]},invoke:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=f._session.result.groups[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,l=!0,c=!1,u=void 0;try{for(var p,h=a.studies[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value,m=d.id,y=!0,g=!1,v=void 0;try{for(var b,S=d.samples[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var w=b.value;e.push({studyId:m,sampleId:w})}}catch(e){g=!0,v=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw v}}}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return s.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:e},projection:"DETAILED"})}}),this.activeSamplesNotOverlapRemoved=Object(i.W)({await:function(){return[f.sampleSet,f._activeGroupsNotOverlapRemoved]},invoke:function(){var e=Object(r.v)(f._activeGroupsNotOverlapRemoved.result),t=f.sampleSet.result;return Promise.resolve(e.map(function(e){return t.get(e)}))}}),this.activePatientKeysNotOverlapRemoved=Object(i.W)({await:function(){return[f.activeSamplesNotOverlapRemoved]},invoke:function(){return Promise.resolve(u.a.uniq(f.activeSamplesNotOverlapRemoved.result.map(function(e){return e.uniquePatientKey})))}}),this.studies=Object(i.W)({await:function(){return[f._session]},invoke:function(){var e=Object(r.w)(f._session.result.groups);return s.a.fetchStudiesUsingPOST({studyIds:e,projection:"DETAILED"})}},[]),this.activeStudyIds=Object(i.W)({await:function(){return[f.activeGroups]},invoke:function(){return Promise.resolve(Object(r.w)(f.activeGroups.result))}}),this.molecularProfilesInActiveStudies=Object(i.W)({await:function(){return[f.activeStudyIds]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.activeStudyIds.result.length>0)){e.next=4;break}return e.abrupt("return",s.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.activeStudyIds.result}}));case 4:return e.abrupt("return",Promise.resolve([]));case 5:case"end":return e.stop()}},e,this)}))}},[]),this.referenceGenes=Object(i.W)({await:function(){return[f.studies]},invoke:function(){return f.studies.result.length>0?Object(_.e)(f.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(i.W)({await:function(){return[f.referenceGenes]},invoke:function(){return Promise.resolve(u.a.keyBy(f.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.mutationEnrichmentProfiles=Object(i.W)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.q)(f.molecularProfilesInActiveStudies.result))}}),this.copyNumberEnrichmentProfiles=Object(i.W)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.o)(f.molecularProfilesInActiveStudies.result))}}),this.mRNAEnrichmentProfiles=Object(i.W)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.p)(f.molecularProfilesInActiveStudies.result))}}),this.proteinEnrichmentProfiles=Object(i.W)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(p.r)(f.molecularProfilesInActiveStudies.result))}}),this._mutationEnrichmentProfileMap={},this._copyNumberEnrichmentProfileMap={},this._mRNAEnrichmentProfileMap={},this._proteinEnrichmentProfileMap={},this.selectedStudyMutationEnrichmentProfileMap=Object(i.W)({await:function(){return[f.mutationEnrichmentProfiles]},invoke:function(){if(u.a.isEmpty(f._mutationEnrichmentProfileMap)){var e=u.a.groupBy(f.mutationEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(u.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._mutationEnrichmentProfileMap)}}),this.selectedStudyCopyNumberEnrichmentProfileMap=Object(i.W)({await:function(){return[f.copyNumberEnrichmentProfiles]},invoke:function(){if(u.a.isEmpty(f._copyNumberEnrichmentProfileMap)){var e=u.a.groupBy(f.copyNumberEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(u.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._copyNumberEnrichmentProfileMap)}}),this.selectedmRNAEnrichmentProfileMap=Object(i.W)({await:function(){return[f.mRNAEnrichmentProfiles]},invoke:function(){if(u.a.isEmpty(f._mRNAEnrichmentProfileMap)){var e=u.a.groupBy(f.mRNAEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(u.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._mRNAEnrichmentProfileMap)}}),this.selectedProteinEnrichmentProfileMap=Object(i.W)({await:function(){return[f.proteinEnrichmentProfiles]},invoke:function(){if(u.a.isEmpty(f._proteinEnrichmentProfileMap)){var e=u.a.groupBy(f.proteinEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(u.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._proteinEnrichmentProfileMap)}}),this.mutationEnrichmentData=Object(h.x)({await:function(){return[f.selectedStudyMutationEnrichmentProfileMap,f.activeGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return f.selectedStudyMutationEnrichmentProfileMap.result},fetchData:function(){var e=f.selectedStudyMutationEnrichmentProfileMap.result,t=u.a.keyBy(e,function(e){return e.studyId});if(f.activeGroups.result.length>1){var n=u.a.map(f.activeGroups.result,function(e){var n=u.a.flatMap(e.studies,function(e){return u.a.map(f.usePatientLevelEnrichments?e.patients:e.samples,function(n){return{caseId:n,molecularProfileId:t[e.id].molecularProfileId}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}});return d.a.fetchMutationEnrichmentsUsingPOST({enrichmentType:f.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:n})}return Promise.resolve([])}}),this.copyNumberEnrichmentDataRequestGroups=Object(i.W)({await:function(){return[f.selectedStudyCopyNumberEnrichmentProfileMap,f.activeGroups]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectedStudyCopyNumberEnrichmentProfileMap.result,n=u.a.map(this.activeGroups.result,function(e){var n=u.a.flatMap(e.studies,function(e){return u.a.map(r.usePatientLevelEnrichments?e.patients:e.samples,function(n){return{caseId:n,molecularProfileId:t[e.id].molecularProfileId}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}))}}),this.copyNumberHomdelEnrichmentData=Object(i.W)({await:function(){return[f.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return f.copyNumberEnrichmentDataRequestGroups.result&&f.copyNumberEnrichmentDataRequestGroups.result.length>1?f.getCopyNumberEnrichmentData(f.copyNumberEnrichmentDataRequestGroups.result,"HOMDEL"):Promise.resolve([])}}),this.copyNumberAmpEnrichmentData=Object(i.W)({await:function(){return[f.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return f.copyNumberEnrichmentDataRequestGroups.result&&f.copyNumberEnrichmentDataRequestGroups.result.length>1?f.getCopyNumberEnrichmentData(f.copyNumberEnrichmentDataRequestGroups.result,"AMP"):Promise.resolve([])}}),this.copyNumberEnrichmentData=Object(h.x)({await:function(){return[f.copyNumberHomdelEnrichmentData,f.copyNumberAmpEnrichmentData,f.selectedStudyCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return f.selectedStudyCopyNumberEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){var e=f.copyNumberAmpEnrichmentData.result.map(function(e){return e.value=2,e}),t=f.copyNumberHomdelEnrichmentData.result.map(function(e){return e.value=-2,e});return Promise.resolve(e.concat(t))}}),this.mRNAEnrichmentData=Object(h.x)({await:function(){return[f.selectedmRNAEnrichmentProfileMap,f.activeGroups]},getSelectedProfileMap:function(){return f.selectedmRNAEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){var e=Object.keys(f.selectedmRNAEnrichmentProfileMap.result);if(1===e.length){var t=f.selectedmRNAEnrichmentProfileMap.result[e[0]].molecularProfileId,n=u.a.map(f.activeGroups.result,function(e){var n=u.a.flatMap(e.studies,function(e){return u.a.map(e.samples,function(e){return{caseId:e,molecularProfileId:t}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}});return d.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.proteinEnrichmentData=Object(h.x)({await:function(){return[f.selectedProteinEnrichmentProfileMap,f.activeGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return f.selectedProteinEnrichmentProfileMap.result},fetchData:function(){var e=Object.keys(f.selectedProteinEnrichmentProfileMap.result);if(1===e.length){var t=f.selectedProteinEnrichmentProfileMap.result[e[0]].molecularProfileId,n=u.a.map(f.activeGroups.result,function(e){var n=u.a.flatMap(e.studies,function(e){return u.a.map(e.samples,function(e){return{caseId:e,molecularProfileId:t}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}});return d.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.sampleSet=Object(i.W)({await:function(){return[f.samples]},invoke:function(){var e=new b.a,t=!0,n=!1,r=void 0;try{for(var o,i=f.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.set({studyId:a.studyId,sampleId:a.sampleId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeys=Object(i.W)({await:function(){return[f.samples]},invoke:function(){return Promise.resolve(u.a.uniq(f.samples.result.map(function(e){return e.uniquePatientKey})))}}),this.patientToSamplesSet=Object(i.W)({await:function(){return[f.samples]},invoke:function(){var e=new S.a,t=!0,n=!1,r=void 0;try{for(var o,i=f.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.add({studyId:a.studyId,patientId:a.patientId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeyToSamples=Object(i.W)({await:function(){return[f.samples]},invoke:function(){return Promise.resolve(u.a.groupBy(f.samples.result,function(e){return e.uniquePatientKey}))}}),this.sampleKeyToSample=Object(i.W)({await:function(){return[f.samples]},invoke:function(){var e=u.a.reduce(f.samples.result,function(e,t){return e[t.uniqueSampleKey]=t,e},{});return Promise.resolve(e)}}),this.patientsVennPartition=Object(i.W)({await:function(){return[f._activeGroupsNotOverlapRemoved,f.patientToSamplesSet,f.activePatientKeysNotOverlapRemoved]},invoke:function(){var e=f.patientToSamplesSet.result;return Promise.resolve(Object(r.B)(f._activeGroupsNotOverlapRemoved.result,function(e){return Object(g.U)([e])},function(t){return e.get({studyId:t.studyId,patientId:t.patientId})[0].uniquePatientKey},f.activePatientKeysNotOverlapRemoved.result))}}),this.survivalClinicalDataExists=Object(i.W)({await:function(){return[f.activeSamplesNotOverlapRemoved]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.activeSamplesNotOverlapRemoved.result.length){e.next=2;break}return e.abrupt("return",!1);case 2:return t={attributeIds:y.b,identifiers:this.activeSamplesNotOverlapRemoved.result.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})},e.next=5,s.a.fetchClinicalDataUsingPOSTWithHttpInfo({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:t,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)});case 5:return n=e.sent,e.abrupt("return",n>0);case 7:case"end":return e.stop()}},e,this)}))}}),this.survivalClinicalData=Object(i.W)({await:function(){return[f.activeSamplesNotOverlapRemoved]},invoke:function(){if(0===f.activeSamplesNotOverlapRemoved.result.length)return Promise.resolve([]);var e={attributeIds:y.b,identifiers:f.activeSamplesNotOverlapRemoved.result.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})};return s.a.fetchClinicalDataUsingPOST({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:e})}},[]),this.activeStudiesClinicalAttributes=Object(i.W)({await:function(){return[f.activeStudyIds]},invoke:function(){return 0===f.activeStudyIds.result.length?Promise.resolve([]):s.a.fetchClinicalAttributesUsingPOST({studyIds:f.activeStudyIds.result})}},[]),this.survivalClinicalDataGroupByUniquePatientKey=Object(i.W)({await:function(){return[f.survivalClinicalData]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.groupBy(this.survivalClinicalData.result,"uniquePatientKey"));case 1:case"end":return e.stop()}},e,this)}))}}),this.overallPatientSurvivals=Object(i.W)({await:function(){return[f.survivalClinicalDataGroupByUniquePatientKey,f.activePatientKeysNotOverlapRemoved]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.activePatientKeysNotOverlapRemoved.result,"OS_STATUS","OS_MONTHS",function(e){return"DECEASED"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.diseaseFreePatientSurvivals=Object(i.W)({await:function(){return[f.survivalClinicalDataGroupByUniquePatientKey,f.activePatientKeysNotOverlapRemoved]},invoke:function(){return A(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.activePatientKeysNotOverlapRemoved.result,"DFS_STATUS","DFS_MONTHS",function(e){return"Recurred/Progressed"===e||"Recurred"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.uidToGroup=Object(i.W)({await:function(){return[f._originalGroups]},invoke:function(){return Promise.resolve(u.a.keyBy(f._originalGroups.result,function(e){return e.uid}))}}),this.clinicalDataEnrichments=Object(i.W)({await:function(){return[f.activeGroups]},invoke:function(){if(f.clinicalTabUnavailable)return Promise.resolve([]);var e=u.a.map(f.activeGroups.result,function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.studies[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=s.id,c=!0,u=!1,p=void 0;try{for(var h,d=s.samples[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;t.push({studyId:l,sampleId:f})}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{name:e.nameWithOrdinal||e.uid,sampleIdentifiers:t}});return e.length>1?d.a.fetchClinicalEnrichmentsUsingPOST({groupFilter:{groups:e}}):Promise.resolve([])},onError:function(){}},[]),this.clinicalDataEnrichmentsWithQValues=Object(i.W)({await:function(){return[f.clinicalDataEnrichments]},invoke:function(){var e=f.clinicalDataEnrichments.result,t=u.a.sortBy(e,function(e){return e.pValue});return Object(v.a)(t.map(function(e){return e.pValue})).forEach(function(e,n){t[n].qValue=e}),Promise.resolve(t)},onError:function(){}},[]),this.activeStudyIdToStudy=Object(i.W)({await:function(){return[f.studies,f.activeStudyIds]},invoke:function(){return Promise.resolve(u.a.keyBy(u.a.filter(f.studies.result,function(e){return f.activeStudyIds.result.includes(e.studyId)}),function(e){return e.studyId}))}},{}),this.overallSurvivalDescriptions=Object(i.W)({await:function(){return[f.activeStudiesClinicalAttributes,f.activeStudyIdToStudy]},invoke:function(){var e=u.a.groupBy(f.activeStudiesClinicalAttributes.result,"clinicalAttributeId"),t=[],n=f.activeStudyIdToStudy.result;return e&&e.OS_STATUS&&e.OS_STATUS.length>0?(e.OS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),this.diseaseFreeSurvivalDescriptions=Object(i.W)({await:function(){return[f.activeStudiesClinicalAttributes,f.activeStudyIdToStudy]},invoke:function(){var e=u.a.groupBy(f.activeStudiesClinicalAttributes.result,"clinicalAttributeId"),t=[],n=f.activeStudyIdToStudy.result;return e&&e.DFS_STATUS&&e.DFS_STATUS.length>0?(e.DFS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),this.sessionId=t,this.tabHasBeenShownReactionDisposer=Object(a.autorun)(function(){f.tabHasBeenShown.set(o.a.SURVIVAL,!!f.tabHasBeenShown.get(o.a.SURVIVAL)||f.showSurvivalTab),f.tabHasBeenShown.set(o.a.MUTATIONS,!!f.tabHasBeenShown.get(o.a.MUTATIONS)||f.showMutationsTab),f.tabHasBeenShown.set(o.a.CNA,!!f.tabHasBeenShown.get(o.a.CNA)||f.showCopyNumberTab),f.tabHasBeenShown.set(o.a.MRNA,!!f.tabHasBeenShown.get(o.a.MRNA)||f.showMRNATab),f.tabHasBeenShown.set(o.a.PROTEIN,!!f.tabHasBeenShown.get(o.a.PROTEIN)||f.showProteinTab)})}var t,n,c;return t=e,(n=[{key:"destroy",value:function(){this.tabHasBeenShownReactionDisposer&&this.tabHasBeenShownReactionDisposer()}},{key:"updateOverlapStrategy",value:function(e){this.urlWrapper.updateURL({overlapStrategy:e})}},{key:"setUsePatientLevelEnrichments",value:function(e){this.urlWrapper.updateURL({patientEnrichments:e.toString()})}},{key:"updateGroupOrder",value:function(e,t){var n=this.groupOrder;n||(n=this._originalGroups.result.map(function(e){return e.name}));var r=(n=n.slice()).splice(e,1)[0];n.splice(t,0,r),this.urlWrapper.updateURL({groupOrder:JSON.stringify(n)})}},{key:"updateUnselectedGroups",value:function(e){this.urlWrapper.updateURL({unselectedGroups:JSON.stringify(e)})}},{key:"toggleGroupSelected",value:function(e){var t=this.unselectedGroups.slice();t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),this.updateUnselectedGroups(t)}},{key:"selectAllGroups",value:function(){this.updateUnselectedGroups([])}},{key:"deselectAllGroups",value:function(){var e=this._originalGroups.result;this.updateUnselectedGroups(e.map(function(e){return e.name}))}},{key:"isGroupSelected",value:function(e){return!this.unselectedGroups.includes(e)}},{key:"addGroup",value:function(e,t){return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.newSessionPending=!0,!t||!this.isLoggedIn){n.next=4;break}return n.next=4,l.a.addGroup(e);case 4:(r=u.a.cloneDeep(this._session.result)).groups.push(e),this.saveAndGoToSession(r);case 7:case"end":return n.stop()}},n,this)}))}},{key:"deleteGroup",value:function(e){return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.newSessionPending=!0,(n=u.a.cloneDeep(this._session.result)).groups=n.groups.filter(function(t){return t.name!==e}),this.saveAndGoToSession(n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"saveAndGoToSession",value:function(e){return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.addComparisonSession(e);case 2:n=t.sent,r=n.id,this.urlWrapper.updateURL({sessionId:r});case 5:case"end":return t.stop()}},t,this)}))}},{key:"setMutationEnrichmentProfileMap",value:function(e){this._mutationEnrichmentProfileMap=e}},{key:"setCopyNumberEnrichmentProfileMap",value:function(e){this._copyNumberEnrichmentProfileMap=e}},{key:"setMRNAEnrichmentProfileMap",value:function(e){this._mRNAEnrichmentProfileMap=e}},{key:"setProteinEnrichmentProfileMap",value:function(e){this._proteinEnrichmentProfileMap=e}},{key:"getCopyNumberEnrichmentData",value:function(e,t){return d.a.fetchCopyNumberEnrichmentsUsingPOST({copyNumberEventType:t,enrichmentType:this.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:e})}},{key:"overlapStrategy",get:function(){return this.urlWrapper.query.overlapStrategy||x.EXCLUDE}},{key:"usePatientLevelEnrichments",get:function(){return"true"===this.urlWrapper.query.patientEnrichments}},{key:"groupOrder",get:function(){var e=this.urlWrapper.query.groupOrder;return e?JSON.parse(e):void 0}},{key:"unselectedGroups",get:function(){var e=this.urlWrapper.query.unselectedGroups;return e?JSON.parse(e):[]}},{key:"isLoggedIn",get:function(){return this.appStore.isLoggedIn}},{key:"sessionClinicalAttributeName",get:function(){return this._session.isComplete?this._session.result.clinicalAttributeName:void 0}},{key:"survivalTabShowable",get:function(){return this.survivalClinicalDataExists.isComplete&&this.survivalClinicalDataExists.result}},{key:"showSurvivalTab",get:function(){return this.survivalTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.SURVIVAL)}},{key:"survivalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length>10||!this.survivalTabShowable}},{key:"mutationsTabShowable",get:function(){return this.mutationEnrichmentProfiles.isComplete&&this.mutationEnrichmentProfiles.result.length>0}},{key:"showMutationsTab",get:function(){return this.mutationsTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.MUTATIONS)}},{key:"mutationsTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.mutationsTabShowable}},{key:"clinicalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2}},{key:"copyNumberTabShowable",get:function(){return this.copyNumberEnrichmentProfiles.isComplete&&this.copyNumberEnrichmentProfiles.result.length>0}},{key:"showCopyNumberTab",get:function(){return this.copyNumberTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.CNA)}},{key:"copyNumberUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.copyNumberTabShowable}},{key:"mRNATabShowable",get:function(){return this.mRNAEnrichmentProfiles.isComplete&&this.mRNAEnrichmentProfiles.result.length>0}},{key:"showMRNATab",get:function(){return this.mRNATabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.MRNA)}},{key:"mRNATabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.mRNATabShowable}},{key:"proteinTabShowable",get:function(){return this.proteinEnrichmentProfiles.isComplete&&this.proteinEnrichmentProfiles.result.length>0}},{key:"showProteinTab",get:function(){return this.proteinTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.PROTEIN)}},{key:"proteinTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.proteinTabShowable}}])&&k(t.prototype,n),c&&k(t,c),e}();E([a.observable],O.prototype,"_currentTabId",void 0),E([a.observable],O.prototype,"sessionId",void 0),E([a.observable],O.prototype,"newSessionPending",void 0),E([a.action],O.prototype,"updateOverlapStrategy",null),E([a.computed],O.prototype,"overlapStrategy",null),E([a.computed],O.prototype,"usePatientLevelEnrichments",null),E([f.a,a.action],O.prototype,"setUsePatientLevelEnrichments",null),E([a.computed],O.prototype,"groupOrder",null),E([a.action],O.prototype,"updateGroupOrder",null),E([a.action],O.prototype,"updateUnselectedGroups",null),E([a.computed],O.prototype,"unselectedGroups",null),E([f.a,a.action],O.prototype,"toggleGroupSelected",null),E([f.a,a.action],O.prototype,"selectAllGroups",null),E([f.a,a.action],O.prototype,"deselectAllGroups",null),E([f.a],O.prototype,"isGroupSelected",null),E([a.action],O.prototype,"saveAndGoToSession",null),E([a.computed],O.prototype,"sessionClinicalAttributeName",null),E([a.observable.ref],O.prototype,"_mutationEnrichmentProfileMap",void 0),E([a.observable.ref],O.prototype,"_copyNumberEnrichmentProfileMap",void 0),E([a.observable.ref],O.prototype,"_mRNAEnrichmentProfileMap",void 0),E([a.observable.ref],O.prototype,"_proteinEnrichmentProfileMap",void 0),E([a.action],O.prototype,"setMutationEnrichmentProfileMap",null),E([a.action],O.prototype,"setCopyNumberEnrichmentProfileMap",null),E([a.action],O.prototype,"setMRNAEnrichmentProfileMap",null),E([a.action],O.prototype,"setProteinEnrichmentProfileMap",null),E([a.computed],O.prototype,"survivalTabShowable",null),E([a.computed],O.prototype,"showSurvivalTab",null),E([a.computed],O.prototype,"survivalTabUnavailable",null),E([a.computed],O.prototype,"mutationsTabShowable",null),E([a.computed],O.prototype,"showMutationsTab",null),E([a.computed],O.prototype,"mutationsTabUnavailable",null),E([a.computed],O.prototype,"clinicalTabUnavailable",null),E([a.computed],O.prototype,"copyNumberTabShowable",null),E([a.computed],O.prototype,"showCopyNumberTab",null),E([a.computed],O.prototype,"copyNumberUnavailable",null),E([a.computed],O.prototype,"mRNATabShowable",null),E([a.computed],O.prototype,"showMRNATab",null),E([a.computed],O.prototype,"mRNATabUnavailable",null),E([a.computed],O.prototype,"proteinTabShowable",null),E([a.computed],O.prototype,"showProteinTab",null),E([a.computed],O.prototype,"proteinTabUnavailable",null)},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(25),s=n(92),l=n(28),c=n.n(l),u=n(608),p=n.n(u),h=n(4),d=n(529);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},C=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=y(this,g(t).apply(this,arguments))).mousePosition={x:0,y:0},e.tooltipOpen=!1,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMouseOver",value:function(){this.tooltipOpen=!0}},{key:"onMouseOut",value:function(){this.tooltipOpen=!1}},{key:"onMouseMove",value:function(e){this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY}},{key:"render",value:function(){var e=this.props,t=(e.text,e.maxWidth,e.datum,e.suffix,e.tooltip,e.prefixTspans,e.alwaysShowTooltip,e.renderTruncatedText,e.transform),n=e.tooltipPlacement,o=e.textRef,i=w(e,["text","maxWidth","datum","suffix","tooltip","prefixTspans","alwaysShowTooltip","renderTruncatedText","transform","tooltipPlacement","textRef"]),a=void 0;return t&&void 0!==this.props.x&&void 0!==this.props.y&&(a=t(this.props.x,this.props.y)),r.createElement(r.Fragment,null,r.createElement("text",f({onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onMouseMove:this.onMouseMove,ref:o,transform:a},i),this.props.prefixTspans,this.truncatedText),(this.textReport.isTruncated||this.props.alwaysShowTooltip)&&this.tooltipOpen&&r.createElement(d.a,{isOpened:!0,node:document.body},r.createElement(s.Popover,{arrowOffsetTop:17,className:c()("cbioportal-frontend","cbioTooltip",p.a.Tooltip),positionLeft:this.mousePosition.x+("left"===n?-8:8),positionTop:this.mousePosition.y-17,style:{transform:"left"===n?"translate(-100%,0%)":void 0},placement:n},this.tooltipElt)))}},{key:"tooltipElt",get:function(){return this.props.tooltip?this.props.tooltip(this.props.datum):r.createElement("span",null,this.props.text)}},{key:"fontFamily",get:function(){var e="Arial";return this.props.style&&this.props.style.fontFamily&&(e=this.props.style.fontFamily.split(", ")[0]),e}},{key:"fontSize",get:function(){var e="13px";return this.props.style&&this.props.style.fontSize&&(e=this.props.style.fontSize+"px"),e}},{key:"textReport",get:function(){return Object(h.hb)(this.props.text||"",this.props.maxWidth,this.fontFamily,this.fontSize)}},{key:"truncatedText",get:function(){return this.props.renderTruncatedText?this.props.renderTruncatedText(this.textReport.text):r.createElement("tspan",null,this.textReport.text)}}])&&m(n.prototype,o),i&&m(n,i),t}();C.defaultProps={maxWidth:100,suffix:"..."},S([i.observable],C.prototype,"mousePosition",void 0),S([i.observable],C.prototype,"tooltipOpen",void 0),S([i.computed],C.prototype,"tooltipElt",null),S([a.a,i.action],C.prototype,"onMouseOver",null),S([a.a,i.action],C.prototype,"onMouseOut",null),S([a.a],C.prototype,"onMouseMove",null),S([i.computed],C.prototype,"fontFamily",null),S([i.computed],C.prototype,"fontSize",null),S([i.computed],C.prototype,"textReport",null),S([i.computed],C.prototype,"truncatedText",null),C=S([o.observer],C),t.a=C},function(e,t,n){"use strict";function r(e,t){var n=null;return function(r){null!==n&&(window.clearTimeout(n),n=null);var o=r.currentTarget.value;n=window.setTimeout(function(){e(o)},t||400)}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return b});var r=n(7),o=n(5),i=n(25),a=n(553),s=n(573),l=n(552);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y="_cBioPortalProteinImpactTypeFilter_",g="_cBioPortalMutationStatusFilter_";function v(e){return e.find(function(e){return e.id===y})}var b=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u(this,h(t).call(this,e))).dataFilters=[],r.selectionFilters=[],r.highlightFilters=[],r.dataFilters=o,r.selectionFilters=i,r.highlightFilters=a,r.groupFilters=s,r.dataSelector=function(e){return r.dataSelectFilter(e)},r.dataHighlighter=function(e){return r.dataHighlightFilter(e)},r.customFilterApplier=n,r.setFilter(),r}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,s["b"]),n=t,(o=[{key:"clearDataFilters",value:function(){this.dataFilters=[]}},{key:"clearHighlightFilters",value:function(){this.highlightFilters=[]}},{key:"clearSelectionFilters",value:function(){this.selectionFilters=[]}},{key:"setDataFilters",value:function(e){this.dataFilters=e}},{key:"setHighlightFilters",value:function(e){this.highlightFilters=e}},{key:"setSelectionFilters",value:function(e){this.selectionFilters=e}},{key:"setGroupFilters",value:function(e){this.groupFilters=e}},{key:"isPositionSelected",value:function(e){return!!this.selectedPositions[e+""]}},{key:"isPositionHighlighted",value:function(e){return!!this.highlightedPositions[e+""]}},{key:"setFilter",value:function(e){var n=this;p(h(t.prototype),"setFilter",this).call(this,function(t,r,o,i){return(!e||e(t,r,o,i))&&(0===n.dataFilters.length||n.dataMainFilter(t))}),this.lazyMobXTableFilter=e}},{key:"resetFilter",value:function(){var e=this;p(h(t.prototype),"resetFilter",this).call(this),this.dataFilter=function(t){return 0===e.dataFilters.length||e.dataMainFilter(t)},this.lazyMobXTableFilter=void 0}},{key:"resetFilters",value:function(){this.resetFilter(),this.resetDataFilters()}},{key:"resetDataFilters",value:function(){this.clearDataFilters(),this.clearHighlightFilters(),this.clearSelectionFilters()}},{key:"dataMainFilter",value:function(e){return Object(a.r)(e,this.dataFilters,this.applyFilter)}},{key:"dataSelectFilter",value:function(e){return Object(a.r)(e,this.selectionFilters,this.applyFilter)}},{key:"dataHighlightFilter",value:function(e){return Object(a.r)(e,this.highlightFilters,this.applyFilter)}},{key:"applyFilter",value:function(e,t){var n=r.flatten([t])[0];return this.customFilterApplier?this.customFilterApplier.applyFilter(e,n):e.type!==a.c.POSITION||e.values.includes(n.proteinPosStart)}},{key:"applyLazyMobXTableFilter",value:function(e){return!this.filterString||!this.lazyMobXTableFilter||this.lazyMobXTableFilter([r.flatten([e])[0]],this.filterString.toLowerCase(),this.filterString.toUpperCase())}},{key:"sortedFilteredGroupedData",get:function(){return Object(a.D)(this.groupFilters,this.sortedFilteredData,this.applyFilter)}},{key:"selectedPositions",get:function(){return r.keyBy(Object(a.x)(this.selectionFilters).map(function(e){return{position:e}}),"position")}},{key:"highlightedPositions",get:function(){return r.keyBy(Object(a.x)(this.highlightFilters).map(function(e){return{position:e}}),"position")}},{key:"tableDataGroupedByPatients",get:function(){return Object(l.l)(r.flatten(this.tableData))}},{key:"duplicateMutationCountInMultipleSamples",get:function(){return Object(l.c)(this.tableDataGroupedByPatients)}}])&&c(n.prototype,o),i&&c(n,i),t}();m([o.observable],b.prototype,"dataFilters",void 0),m([o.observable],b.prototype,"selectionFilters",void 0),m([o.observable],b.prototype,"highlightFilters",void 0),m([o.observable],b.prototype,"groupFilters",void 0),m([o.computed],b.prototype,"sortedFilteredGroupedData",null),m([o.computed],b.prototype,"selectedPositions",null),m([o.computed],b.prototype,"highlightedPositions",null),m([o.action],b.prototype,"clearDataFilters",null),m([o.action],b.prototype,"clearHighlightFilters",null),m([o.action],b.prototype,"clearSelectionFilters",null),m([o.action],b.prototype,"setDataFilters",null),m([o.action],b.prototype,"setHighlightFilters",null),m([o.action],b.prototype,"setSelectionFilters",null),m([o.action],b.prototype,"setGroupFilters",null),m([o.action],b.prototype,"setFilter",null),m([o.action],b.prototype,"resetFilter",null),m([o.action],b.prototype,"resetFilters",null),m([o.action],b.prototype,"resetDataFilters",null),m([o.computed],b.prototype,"tableDataGroupedByPatients",null),m([o.computed],b.prototype,"duplicateMutationCountInMultipleSamples",null),m([i.a],b.prototype,"dataMainFilter",null),m([i.a],b.prototype,"dataSelectFilter",null),m([i.a],b.prototype,"dataHighlightFilter",null),m([i.a],b.prototype,"applyFilter",null),m([i.a],b.prototype,"applyLazyMobXTableFilter",null)},,function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(11),a=n(28),s=n.n(a),l=n(640),c=n.n(l),u=n(5),p=n(563),h=n(560);function d(e){try{return{query:e?Object(h.g)(e.trim().toUpperCase()):[],error:void 0}}catch(i){if("SyntaxError"!==i.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(i)}};var t,n,r,o=i.location.start.offset;return o===e.length?(t="after",n=o-1,r=o):0===o?(t="before",n=o,r=o+1):(t="at",n=o,r=o+1),{query:[],error:{start:n,end:r,message:"OQL syntax error ".concat(t," selected character; please fix and submit again.")}}}}n(733);var f=n(4),m=n(161),y=n(95),g=n.n(y),v=n(610),b=n.n(v),S=n(92);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){if(0==e.genes.length){return r.createElement("div",{className:c.a.suggestionBubble,title:"Could not find gene symbol. Click to remove it from the gene list.",onClick:function(){return e.replaceGene(e.alias,"")}},r.createElement(b.a,{className:c.a.icon,name:"times-circle"}),r.createElement("span",{className:c.a.noChoiceLabel},e.alias))}if(1==e.genes.length){var t=e.genes[0].hugoGeneSymbol,n="'".concat(e.alias,"' is a synonym for '").concat(t,"'. Click here to replace it with the official symbol.");return r.createElement("div",{className:c.a.suggestionBubble,title:n,onClick:function(){return e.replaceGene(e.alias,t)}},r.createElement(b.a,{className:c.a.icon,name:"question"}),r.createElement("span",{className:c.a.singleChoiceLabel},e.alias),r.createElement("span",null,": ".concat(t)))}var o="Ambiguous gene symbol. Click on one of the alternatives to replace it.",i=e.genes.map(function(e){return{label:e.hugoGeneSymbol,value:e.hugoGeneSymbol}});return r.createElement("div",{className:c.a.suggestionBubble,title:o},r.createElement(b.a,{className:c.a.icon,name:"question"}),r.createElement("span",{className:c.a.multiChoiceLabel},e.alias),r.createElement("span",null,":",""),r.createElement(S.DropdownButton,{bsStyle:o.toLowerCase(),bsSize:"xsmall",title:"Select symbol",id:"geneReplace_".concat(e.alias)},i.map(function(t,n){return r.createElement(S.MenuItem,{onClick:function(){e.replaceGene(e.alias,t.value)},eventKey:n+1},t.label)})))},A=function(e){if(e.oql instanceof Error)return r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("span",{className:c.a.errorMessage},"Cannot validate gene symbols because of invalid OQL. ".concat(e.oql.message)));if(0===e.oql.query.length)return null;if(!e.errorMessageOnly&&e.validatingGenes)return r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("span",{className:c.a.pendingMessage},"Validating gene symbols..."));if(e.genes instanceof Error)return r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("span",{className:c.a.pendingMessage},"Unable to validate gene symbols."));if(e.genes.suggestions.length>0)return r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("div",{className:c.a.invalidBubble,title:"Please edit the gene symbols."},r.createElement(b.a,{className:c.a.icon,name:"exclamation-circle"}),r.createElement("span",null,"Invalid gene symbols.")),e.genes.suggestions.map(function(t,n){return r.createElement(E,{key:n,genes:t.genes,alias:t.alias,replaceGene:e.replaceGene})}));var t,n,i,a=o.groupBy(e.genes.found,function(e){return e.hugoGeneSymbol}),l=o.reduce(a,function(e,t,n){return t.length>1&&e.push(n),e},[]);return l.length>0?r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("div",{className:c.a.invalidBubble,title:"Please edit the gene symbols."},r.createElement(b.a,{className:c.a.icon,name:"exclamation-circle"}),r.createElement("span",null,"The portal does not currently support the following gene(s):")),l.map(function(t,n){return r.createElement(E,{key:n,genes:[],alias:t,replaceGene:e.replaceGene})})):e.errorMessageOnly?null:r.createElement("div",{className:s()(c.a.GeneSymbolValidator,(t={},n=c.a.nowrap,i=!e.wrapTheContent,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))},r.createElement("div",{className:c.a.validBubble,title:"You can now submit the list."},r.createElement(b.a,{className:c.a.icon,name:"check-circle"}),r.createElement("span",null,"All gene symbols are valid.")))},O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,T(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return this.props.children?r.createElement("div",{id:"wideGeneBoxValidationStatus"},this.props.children):r.createElement("div",{id:"geneBoxValidationStatus"},r.createElement(A,C({replaceGene:this.props.replaceGene},this.props)))}}])&&_(n.prototype,o),i&&_(n,i),t}(),P=r.memo(O);function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var F=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":j(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},G=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function B(e){return Number.isInteger(Number(e))}var z=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=L(t).apply(this,arguments),(e=!r||"object"!==j(r)&&"function"!=typeof r?N(n):r).genes=Object(f.W)({invoke:function(){return G(N(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a,s,l,c,u,p,h=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.geneIds.length){e.next=2;break}return e.abrupt("return",{found:[],suggestions:[]});case 2:return t=o.partition(o.uniq(this.geneIds),B),n=M(t,2),r=n[0],i=n[1],a=function(){return G(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.length){e.next=6;break}return e.next=3,m.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:r});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=o.difference(r,t.map(function(e){return e.entrezGeneId+""})),i=n.map(function(e){return{alias:e,genes:[]}}),a=t.map(function(e){return{alias:e.entrezGeneId+"",genes:[e]}}),s=[].concat(I(i),I(a)),e.abrupt("return",{found:t,suggestions:s});case 12:case"end":return e.stop()}},e)}))},s=function(){return G(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=6;break}return e.next=3,m.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:i});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=o.difference(i,t.map(function(e){return e.hugoGeneSymbol})),e.next=10,Promise.all(n.map(function(e){return a.getGeneSuggestions(e)}));case 10:return r=e.sent,e.abrupt("return",{found:t,suggestions:r});case 12:case"end":return e.stop()}},e)}))},e.next=7,Promise.all([a(),s()]);case 7:return l=e.sent,c=M(l,2),u=c[0],p=c[1],e.abrupt("return",{found:[].concat(I(u.found),I(p.found)),suggestions:[].concat(I(u.suggestions),I(p.suggestions))});case 12:case"end":return e.stop()}},e,this)}))},onResult:function(t){e.props.afterValidation&&e.props.afterValidation(0===t.suggestions.length,e.genes.result,e.oql)},default:{found:[],suggestions:[]}}),e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,r["Component"]),n=t,(i=[{key:"getGeneSuggestions",value:function(e){return G(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,m.a.getAllGenesUsingGET({alias:e});case 3:return t.t1=t.sent,t.abrupt("return",{alias:t.t0,genes:t.t1});case 5:case"end":return t.stop()}},t)}))}},{key:"render",value:function(){return this.props.skipGeneValidation&&this.props.afterValidation&&this.props.afterValidation(!0,{found:[],suggestions:[]},this.oql),r.createElement(P,{genes:this.props.skipGeneValidation?{found:[],suggestions:[]}:this.genes.isError?new Error("ERROR"):this.genes.result,oql:this.oqlOrError,validatingGenes:!this.props.skipGeneValidation&&this.genes.isPending,errorMessageOnly:this.props.errorMessageOnly,wrapTheContent:this.props.wrap,replaceGene:this.props.replaceGene},this.props.children)}},{key:"oql",get:function(){return d(this.props.geneQuery)}},{key:"geneIds",get:function(){return this.oql.error?[]:this.oql.query.map(function(e){return e.gene})}},{key:"oqlOrError",get:function(){return this.oql.error?null!==this.props.focus&&void 0!==this.props.focus?this.props.focus===p.b.Unfocused?new Error("Please click 'Submit' to see location of error."):new Error("OQL syntax error at selected character; please fix and submit again."):new Error(this.oql.error.message):this.oql}}])&&D(n.prototype,i),a&&D(n,a),t}();z.defaultProps={errorMessageOnly:!1},F([g.a],z.prototype,"getGeneSuggestions",null),F([u.computed],z.prototype,"oql",null),F([u.computed],z.prototype,"geneIds",null),F([u.computed],z.prototype,"oqlOrError",null);var V=z=F([i.observer],z),H=n(25),U=n(569),q=n.n(U);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return X});var X,Z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Q(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.STUDY_VIEW_PAGE=1]="STUDY_VIEW_PAGE",e[e.ONCOPRINT_HEATMAP=2]="ONCOPRINT_HEATMAP"}(X||(X={}));var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=K(this,$(t).call(this,e))).currentTextAreaValue="",n.geneQuery="",n.geneQueryIsValid=!0,n.queryToBeValidated="",n.isFocused=!1,n.skipGenesValidation=!1,n.updateQueryToBeValidateDebounce=o.debounce(function(){n.queryToBeValidated=n.currentTextAreaValue,n.skipGenesValidation=!1,""===n.currentTextAreaValue&&(n.geneQuery="",n.props.callback&&n.props.callback(d(""),{found:[],suggestions:[]},n.geneQuery))},500),n.geneQuery=n.props.inputGeneQuery||"",n.queryToBeValidated=n.geneQuery,n.props.validateInputGeneQuery||(n.skipGenesValidation=!0),n.textAreaRef=r.createRef(),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.disposers=[Object(u.reaction)(function(){return e.props.inputGeneQuery},function(t){(t||"").toUpperCase()!==e.geneQuery.toUpperCase()&&(e.props.validateInputGeneQuery||(e.skipGenesValidation=!0),e.geneQuery=(t||"").trim(),e.queryToBeValidated=e.geneQuery),e.updateTextAreaRefValue()}),Object(u.reaction)(function(){return e.showFullText},function(){e.updateTextAreaRefValue()})]}},{key:"componentWillUnmount",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.disposers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"updateGeneQuery",value:function(e){this.geneQuery=e,this.queryToBeValidated=e,this.isFocused=!0,this.updateTextAreaRefValue()}},{key:"getTextAreaValue",value:function(){return this.showFullText?this.geneQuery:this.getFocusOutValue()}},{key:"updateTextAreaRefValue",value:function(){this.textAreaRef.current.value=this.getTextAreaValue()}},{key:"getFocusOutValue",value:function(){return function(e){var t="";if(e.length>0){t=e[0];for(var n=1;n<e.length;n++){if(t.length>13||t.length+e[n].length>13){t+=" and "+(e.length-n)+" more";break}t+=" "+e[n]}}return t}(d(this.geneQuery).query.map(function(e){return e.gene}))}},{key:"afterGeneSymbolValidation",value:function(e,t,n){this.geneQueryIsValid=e,this.props.callback&&this.props.callback(n,t,this.geneQuery),void 0===n.error||void 0!==this.props.focus&&this.props.focus!==p.b.ShouldFocus||!this.textAreaRef.current||(this.textAreaRef.current.focus(),this.textAreaRef.current.setSelectionRange(n.error.start,n.error.end))}},{key:"onChange",value:function(e){this.currentTextAreaValue=e.currentTarget.value,this.geneQuery=this.currentTextAreaValue,this.updateQueryToBeValidateDebounce()}},{key:"onFocus",value:function(){this.isFocused=!0}},{key:"onBlur",value:function(){this.isFocused=!1}},{key:"replaceGene",value:function(e,t){var n=Object(p.e)(this.getTextAreaValue().toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}));this.updateGeneQuery(n)}},{key:"render",value:function(){return r.createElement("div",{className:c.a.genesSelection},r.createElement("div",{className:c.a.topRow},r.createElement("textarea",{ref:this.textAreaRef,onFocus:this.onFocus,onBlur:this.onBlur,className:s()(this.textAreaClasses),rows:5,cols:80,placeholder:this.promptText,title:this.promptText,defaultValue:this.getTextAreaValue(),onChange:this.onChange,"data-test":"geneSet"}),this.props.submitButton&&this.props.submitButton),r.createElement("div",{className:"oqlValidationContainer"},r.createElement(V,{focus:this.props.focus,geneQuery:this.queryToBeValidated,skipGeneValidation:this.skipGenesValidation,updateGeneQuery:this.updateGeneQuery,afterValidation:this.afterGeneSymbolValidation,replaceGene:this.replaceGene,errorMessageOnly:this.props.location===X.STUDY_VIEW_PAGE},this.props.children)))}},{key:"textAreaClasses",get:function(){var e=[];switch(this.props.location){case X.STUDY_VIEW_PAGE:e.push(c.a.studyView),!this.isFocused&&this.geneQueryIsValid||e.push(c.a.studyViewFocus);break;case X.ONCOPRINT_HEATMAP:e.push(c.a.oncoprintHeatmap);break;default:e.push(c.a.default)}return this.geneQuery?e.push(c.a.notEmpty):e.push(c.a.empty),e}},{key:"showFullText",get:function(){return!this.geneQueryIsValid||this.isFocused||this.props.location!==X.STUDY_VIEW_PAGE}},{key:"promptText",get:function(){return this.props.textBoxPrompt?this.props.textBoxPrompt:"Click gene symbols below or enter here"}}])&&W(n.prototype,i),a&&W(n,a),t}();J.defaultProps={validateInputGeneQuery:!0},Z([u.observable],J.prototype,"geneQuery",void 0),Z([u.observable],J.prototype,"geneQueryIsValid",void 0),Z([u.observable],J.prototype,"queryToBeValidated",void 0),Z([u.observable],J.prototype,"isFocused",void 0),Z([u.observable],J.prototype,"skipGenesValidation",void 0),Z([H.a,u.action],J.prototype,"updateGeneQuery",null),Z([H.a,u.action],J.prototype,"updateTextAreaRefValue",null),Z([u.computed],J.prototype,"textAreaClasses",null),Z([u.computed],J.prototype,"showFullText",null),Z([H.a,u.action],J.prototype,"afterGeneSymbolValidation",null),Z([u.computed],J.prototype,"promptText",null),Z([q.a],J.prototype,"onChange",null),Z([q.a],J.prototype,"onFocus",null),Z([q.a],J.prototype,"onBlur",null),Z([q.a],J.prototype,"replaceGene",null),J=Z([i.observer],J);t.b=J},function(e,t,n){"use strict";var r=n(7),o=n(3),i=n(94),a=n(161),s=n(162),l=n(5),c=n(550),u=n(598),p=n(551),h=n(25),d=n(637),f=n(560),m=n(117),y=n(566),g=n(18),v=n.n(g),b=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function S(e){return b(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,v.a.get(e);case 4:r=t.sent,o=JSON.parse(r.text),n=JSON.parse(o.fileContent),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",[]);case 12:if(void 0!==n){t.next=16;break}return t.abrupt("return",[]);case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}},t,null,[[1,9]])}))}var w=n(583),C=n(16),_=n(603),k=n(59),T=n(595),x=n(556),E=n(173),A=n(599),O=n(567),P=n(579),I=n(4),M=n(678),D=n(621),L=n(170);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"d",function(){return B}),n.d(t,"b",function(){return H}),n.d(t,"a",function(){return U}),n.d(t,"c",function(){return $});var B,z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},V=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};!function(e){e.SUMMARY="Summary",e.CLINICAL_DATA="Clinical Data",e.HEATMAPS="Heatmaps",e.CN_SEGMENTS="CN Segments"}(B||(B={}));var H="MUTATION_COUNT",U="FRACTION_GENOME_ALTERED",q="Selected",W="Unselected",K="STATIC",$=function(){function e(t,n){var h=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=t,this.sessionServiceIsEnabled=n,this.reactionDisposers=[],this.hideRestoreSettingsMsg=this.isLoggedIn,this._loadUserSettingsInitially=this.isLoggedIn,this._comparisonConfirmationModal=null,this._selectedComparisonGroups=l.observable.shallowMap(),this._comparisonGroupsMarkedForDeletion=l.observable.shallowMap(),this.comparisonGroups=Object(I.W)({await:function(){return[h.sampleSet]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._comparisonGroupsChangeCount,!(this.studyIds.length>0)){e.next=8;break}return e.next=4,T.a.getGroupsForStudies(this.studyIds.slice());case 4:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign(e.data,{uid:e.id},Object(x.o)(e.data,n.sampleSet.result))}));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}},e,this)}))}}),this._comparisonGroupsChangeCount=0,this.initialFiltersQuery={},this.studyIds=[],this.sampleIdentifiers=[],this._clinicalDataFilterSet=l.observable.shallowMap(),this._customBinsFromScatterPlotSelectionSet=l.observable.shallowMap(),this._clinicalDataBinFilterSet=l.observable.map(),this._geneFilterSet=l.observable.map(),this._chartVisibility=l.observable.map(),this.geneQueries=[],this.chartsDimension=l.observable.map(),this.chartsType=l.observable.map(),this.newlyAddedCharts=l.observable.array(),this.unfilteredClinicalDataCountCache={},this.unfilteredClinicalDataBinCountCache={},this.pageStatusMessages={},this.useCurrentGridLayout=!1,this.currentGridLayout=[],this.previousSettings={},this.currentFocusedChartByUser=void 0,this.currentFocusedChartByUserDimension=void 0,this.clinicalDataBinPromises={},this.clinicalDataCountPromises={},this.customChartsPromises={},this._chartSampleIdentifiersFilterSet=l.observable.map(),this.customChartFilterSet=l.observable.map(),this.numberOfSelectedSamplesInCustomSelection=0,this._filterComparisonGroups=[],this._filterMutatedGenesTableByCancerGenes=!0,this._filterFusionGenesTableByCancerGenes=!0,this._filterCNAGenesTableByCancerGenes=!0,this._customChartMap=l.observable.shallowMap(),this._customCharts=l.observable.shallowMap(),this._customChartsSelectedCases=l.observable.shallowMap(),this.sampleToAnalysisGroup=Object(I.W)({await:function(){return[h.samples,h.selectedSamples]},invoke:function(){var e=r.keyBy(h.selectedSamples.result,function(e){return e.uniqueSampleKey});return Promise.resolve(r.reduce(h.samples.result,function(t,n){var r=n.uniqueSampleKey;return t[r]=r in e?q:W,t},{}))}}),this.patientToAnalysisGroup=Object(I.W)({await:function(){return[h.samples,h.selectedPatientKeys]},invoke:function(){var e=r.keyBy(h.selectedPatientKeys.result);return Promise.resolve(r.reduce(h.samples.result,function(t,n){var r=n.uniquePatientKey;return r in e&&(t[r]=q),t},{}))}}),this.hasRawDataForDownload=Object(I.W)({invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.studyIds.length){e.next=7;break}return e.next=3,v()(Object(C.y)());case 3:return t=e.sent,e.abrupt("return",t.body.includes(this.studyIds[0]));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this)}))},onError:function(){return!1},default:!1}),this.unfilteredClinicalDataCount=Object(I.W)({invoke:function(){return i.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:h.unfilteredAttrsForNonNumerical,studyViewFilter:h.filters}})},onError:function(e){},onResult:function(e){e.forEach(function(e){var t=e.attributeId;h.isNewlyAdded(t)&&(h.showAsPieChart(t,e.counts.length),h.newlyAddedCharts.remove(t))})},default:[]}),this.newlyAddedUnfilteredClinicalDataCount=Object(I.W)({invoke:function(){return i.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:h.newlyAddedUnfilteredAttrsForNonNumerical,studyViewFilter:h.filters}})},default:[],onError:function(e){},onResult:function(e){e.forEach(function(e){var t=e.attributeId;h.unfilteredClinicalDataCountCache[t]=e,h.showAsPieChart(t,e.counts.length),h.newlyAddedCharts.remove(t)})}}),this.newlyAddedUnfilteredClinicalDataBinCount=Object(I.W)({invoke:function(){return i.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:"STATIC",clinicalDataBinCountFilter:{attributes:h.newlyAddedUnfilteredAttrsForNumerical,studyViewFilter:h.filters}})},default:[],onError:function(e){},onResult:function(e){r.each(r.groupBy(e,function(e){return e.attributeId}),function(e,t){h.unfilteredClinicalDataBinCountCache[t]=e,h.newlyAddedCharts.remove(t)})}}),this.unfilteredClinicalDataBinCount=Object(I.W)({invoke:function(){return i.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:"STATIC",clinicalDataBinCountFilter:{attributes:h.unfilteredAttrsForNumerical,studyViewFilter:h.filters}})},onError:function(e){},default:[]}),this.molecularProfiles=Object(I.W)({await:function(){return[h.queriedPhysicalStudyIds]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.queriedPhysicalStudyIds.result}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.allPhysicalStudies=Object(I.W)({invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.studyIds.length>0)){e.next=2;break}return e.abrupt("return",a.a.fetchStudiesUsingPOST({studyIds:Object(l.toJS)(this.studyIds),projection:"SUMMARY"}).then(function(e){return e}).catch(function(e){return a.a.getAllStudiesUsingGET({projection:"SUMMARY"})}));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.physicalStudiesSet=Object(I.W)({await:function(){return[h.allPhysicalStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.keyBy(this.allPhysicalStudies.result,function(e){return e.studyId}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.filteredPhysicalStudies=Object(I.W)({await:function(){return[h.physicalStudiesSet]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesSet.result,e.abrupt("return",r.reduce(this.studyIds,function(e,n){return t[n]&&e.push(t[n]),e},[]));case 2:case"end":return e.stop()}},e,this)}))},default:[]}),this.filteredVirtualStudies=Object(I.W)({await:function(){return[h.filteredPhysicalStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filteredPhysicalStudies.result.length!==this.studyIds.length){e.next=2;break}return e.abrupt("return",[]);case 2:return t=[],n=this.filteredPhysicalStudies.result.map(function(e){return e.studyId}),o=r.filter(this.studyIds,function(e){return!r.includes(n,e)}),e.next=7,Promise.all(o.map(function(e){return m.a.getVirtualStudy(e).then(function(e){t.push(e)}).catch(function(e){})}));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}))},default:[]}),this.queriedPhysicalStudies=Object(I.W)({await:function(){return[h.filteredPhysicalStudies,h.filteredVirtualStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.physicalStudiesSet.result,n=r.uniq(r.flatten(this.filteredVirtualStudies.result.map(function(e){return e.data.studies.map(function(e){return e.id})}))),!((o=r.without.apply(r,[n].concat(j(r.keys(t))))).length>0)){e.next=8;break}return e.next=6,a.a.fetchStudiesUsingPOST({studyIds:o,projection:"SUMMARY"});case 6:i=e.sent,t=r.merge(t,r.keyBy(i,"studyId"));case 8:return s=r.reduce(this.filteredPhysicalStudies.result,function(e,n){return e[n.studyId]=t[n.studyId],e},{}),this.filteredVirtualStudies.result.forEach(function(e){e.data.studies.forEach(function(e){!s[e.id]&&t[e.id]&&(s[e.id]=t[e.id])})}),e.abrupt("return",r.values(s));case 11:case"end":return e.stop()}},e,this)}))},default:[]}),this.queriedPhysicalStudyIds=Object(I.W)({await:function(){return[h.queriedPhysicalStudies]},invoke:function(){return Promise.resolve(r.map(h.queriedPhysicalStudies.result,function(e){return e.studyId}))},default:[]}),this.queriedSampleIdentifiers=Object(I.W)({await:function(){return[h.filteredPhysicalStudies,h.filteredVirtualStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.reduce(this.filteredVirtualStudies.result,function(e,t){return t.data.studies.forEach(function(t){var n=t.samples;e[t.id]&&(n=r.union(e[t.id],n)),e[t.id]=n}),e},{}),r.isEmpty(t)){e.next=6;break}return t=r.reduce(this.filteredPhysicalStudies.result,function(e,t){return e[t.studyId]=[],e},t),n=r.reduce(t,function(e,t,n){return 0===t.length&&e.push(n),e},[]),e.next=6,Promise.all(r.map(n,function(e){return a.a.getAllSamplesInStudyUsingGET({studyId:e}).then(function(n){t[e]=n.map(function(e){return e.sampleId})})}));case 6:return e.abrupt("return",r.flatten(r.map(t,function(e,t){return e.map(function(e){return{sampleId:e,studyId:t}})})));case 7:case"end":return e.stop()}},e,this)}))},default:[]}),this.displayedStudies=Object(I.W)({await:function(){return[h.filteredVirtualStudies,h.filteredPhysicalStudies,h.queriedPhysicalStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.filteredPhysicalStudies.result.length||1!==this.filteredVirtualStudies.result.length){e.next=5;break}return t=this.filteredVirtualStudies.result[0],e.abrupt("return",[{name:t.data.name,description:t.data.description,studyId:t.id}]);case 5:return e.abrupt("return",this.queriedPhysicalStudies.result);case 6:case"end":return e.stop()}},e,this)}))},default:[]}),this.originStudies=Object(I.W)({await:function(){return[h.filteredPhysicalStudies,h.filteredVirtualStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.showOriginStudiesInSummaryDescription){e.next=8;break}return n=this.filteredVirtualStudies.result[0].data.origin,o=[],i=this.physicalStudiesSet.result,r.each(n,function(e){i[e]?t.push(i[e]):o.push(e)}),e.next=8,Promise.all(o.map(function(e){return m.a.getVirtualStudy(e).then(function(e){t.push({name:e.data.name,description:e.data.description,studyId:e.id})}).catch(function(e){})}));case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}))},default:[]}),this.unknownQueriedIds=Object(I.W)({await:function(){return[h.filteredPhysicalStudies,h.filteredVirtualStudies]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r.each(this.filteredPhysicalStudies.result,function(e){return t.push(e.studyId)}),r.each(this.filteredVirtualStudies.result,function(e){return t.push(e.id)}),e.abrupt("return",r.filter(this.studyIds,function(e){return!r.includes(t,e)}));case 4:case"end":return e.stop()}},e,this)}))},onError:function(e){},onResult:function(e){e.length>0&&(h.pageStatusMessages.unknownIds={status:"danger",message:"Unknown/Unauthorized ".concat(e.length>1?"studies":"study"," ").concat(e.join(", "))})},default:[]}),this.mutationProfiles=Object(I.W)({await:function(){return[h.molecularProfiles]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(this.getMolecularProfilesByAlterationType("MUTATION_EXTENDED")));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.structuralVariantProfiles=Object(I.W)({await:function(){return[h.molecularProfiles]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(this.getMolecularProfilesByAlterationType("STRUCTURAL_VARIANT")));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaProfiles=Object(I.W)({await:function(){return[h.molecularProfiles]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(this.getMolecularProfilesByAlterationType("COPY_NUMBER_ALTERATION","DISCRETE")));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.clinicalAttributes=Object(I.W)({await:function(){return[h.queriedPhysicalStudyIds]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,a.a.fetchClinicalAttributesUsingPOST({studyIds:this.queriedPhysicalStudyIds.result});case 3:return e.t1=e.sent,e.t2=function(e){return"".concat(e.patientAttribute,"-").concat(e.clinicalAttributeId)},e.abrupt("return",e.t0.uniqBy.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}},e,this)}))},default:[],onError:function(e){},onResult:function(e){e.forEach(function(e){if(e.datatype===p.c.NUMBER){var t=Object(p.cb)(e),n=h.getDefaultClinicalDataBinFilter(e);w.d.initialBins[t]&&(n.customBins=w.d.initialBins[t]),h._clinicalDataBinFilterSet.set(t,n)}})}}),this.clinicalAttributeIdToClinicalAttribute=Object(I.W)({await:function(){return[h.clinicalAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.keyBy(this.clinicalAttributes.result,"clinicalAttributeId"));case 1:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributeIdToDataType=Object(I.W)({await:function(){return[h.clinicalAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reduce(this.clinicalAttributes.result,function(e,t){return void 0===e[t.clinicalAttributeId]?e[t.clinicalAttributeId]=t.datatype:e[t.clinicalAttributeId]!==t.datatype&&(e[t.clinicalAttributeId]=p.c.STRING),e},{}));case 1:case"end":return e.stop()}},e,this)}))}}),this.MDACCHeatmapStudyMeta=Object(I.W)({await:function(){return[h.queriedPhysicalStudyIds]},onError:function(e){},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.b.serverConfig.show_mdacc_heatmap){e.next=6;break}if(!(1===this.queriedPhysicalStudyIds.result.length)){e.next=6;break}return e.next=5,S(Object(C.r)(this.queriedPhysicalStudyIds.result[0]));case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))}},[]),this.oncokbCancerGenes=Object(I.W)({await:function(){return[]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.utilsCancerGeneListGetUsingGET_1({}));case 1:case"end":return e.stop()}},e)}))},onError:function(e){},default:[]}),this.oncokbGenes=Object(I.W)({await:function(){return[]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.genesGetUsingGET({}));case 1:case"end":return e.stop()}},e)}))},onError:function(e){},default:[]}),this.oncokbCancerGeneEntrezGeneIds=Object(I.W)({await:function(){return[h.oncokbCancerGenes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbCancerGenes.result.map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.oncokbAnnotatedGeneEntrezGeneIds=Object(I.W)({await:function(){return[h.oncokbCancerGenes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbCancerGenes.result.filter(function(e){return e.oncokbAnnotated}).map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.oncokbOncogeneEntrezGeneIds=Object(I.W)({await:function(){return[h.oncokbGenes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbGenes.result.filter(function(e){return e.oncogene}).map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.oncokbTumorSuppressorGeneEntrezGeneIds=Object(I.W)({await:function(){return[h.oncokbGenes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbGenes.result.filter(function(e){return e.tsg}).map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.updateUserSettingsDebounce=r.debounce(function(){r.isEqual(h.previousSettings,h.currentChartSettingsMap)||(h.previousSettings=h.currentChartSettingsMap,r.isEmpty(h.currentChartSettingsMap)||m.a.updateUserSettings({origin:Object(l.toJS)(h.studyIds),chartSettings:r.values(h.currentChartSettingsMap)}))},3e3),this.fetchUserSettings=Object(I.W)({invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isSavingUserPreferencePossible&&this.studyIds.length>0)){e.next=6;break}return e.next=3,m.a.fetchUserSettings(Object(l.toJS)(this.studyIds));case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",Object(p.rb)(t.chartSettings));case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))},default:[],onError:function(){}}),this._defualtChartsDimension=l.observable.map(),this._defaultChartsType=l.observable.map(),this._defaultVisibleChartIds=[],this._defaultClinicalDataBinFilterSet=l.observable.map(),this.defaultVisibleAttributes=Object(I.W)({await:function(){return[h.clinicalAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.clinicalAttributes.result.map(function(e){return e.priority=Object(p.V)(e).toString(),e}),n=t.sort(p.l).slice(0,20),o=[],void 0!==this.initialFilters.clinicalDataFilters&&(o=o.concat(this.initialFilters.clinicalDataFilters.map(function(e){return e.attributeId}))),o.length>0&&(i=r.filter(this.clinicalAttributes.result,function(e){return o.includes(e.clinicalAttributeId)}),void 0!==n&&(n=n.concat(i))),e.abrupt("return",r.uniq(n));case 6:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.initialVisibleAttributesClinicalDataCountData=Object(I.W)({await:function(){return[h.defaultVisibleAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.uniqBy(r.filter(this.defaultVisibleAttributes.result,function(e){return e.datatype===p.c.STRING}).map(function(e){return{attributeId:e.clinicalAttributeId}}),function(e){return e.attributeId}),e.abrupt("return",i.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:t,studyViewFilter:this.initialFilters}}));case 2:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.initialVisibleAttributesClinicalDataBinAttributes=Object(I.W)({await:function(){return[h.defaultVisibleAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.chain(this.defaultVisibleAttributes.result).filter(function(e){return e.datatype===p.c.NUMBER}).map(this.getDefaultClinicalDataBinFilter).uniqBy(function(e){return e.attributeId}).value());case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.initialVisibleAttributesClinicalDataBinCountData=Object(I.W)({await:function(){return[h.initialVisibleAttributesClinicalDataBinAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:"STATIC",clinicalDataBinCountFilter:{attributes:this.initialVisibleAttributesClinicalDataBinAttributes.result,studyViewFilter:this.initialFilters}}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.samples=Object(I.W)({await:function(){return[h.clinicalAttributes,h.queriedSampleIdentifiers,h.queriedPhysicalStudyIds]},invoke:function(){var e={};return h.queriedSampleIdentifiers.result.length>0?e.sampleIdentifiers=h.queriedSampleIdentifiers.result:e.studyIds=h.queriedPhysicalStudyIds.result,i.a.fetchFilteredSamplesUsingPOST({studyViewFilter:e})},onError:function(e){},default:[]}),this.sampleSet=Object(I.W)({await:function(){return[h.samples]},invoke:function(){var e=new O.a,t=!0,n=!1,r=void 0;try{for(var o,i=h.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.set({studyId:a.studyId,sampleId:a.sampleId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.invalidSampleIds=Object(I.W)({await:function(){return[h.queriedSampleIdentifiers,h.samples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.queriedSampleIdentifiers.result.length>0&&this.samples.result.length!==this.queriedSampleIdentifiers.result.length)){e.next=3;break}return t=r.reduce(this.samples.result,function(e,t){return e[t.studyId+"_"+t.sampleId]=!0,e},{}),e.abrupt("return",r.filter(this.queriedSampleIdentifiers.result,function(e){return!t[e.studyId+"_"+e.sampleId]}));case 3:return e.abrupt("return",[]);case 4:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.studyWithSamples=Object(I.W)({await:function(){return[h.selectedSamples,h.filteredPhysicalStudies,h.filteredVirtualStudies]},invoke:function(){return Promise.resolve(Object(p.L)(h.selectedSamples.result,h.filteredPhysicalStudies.result,h.filteredVirtualStudies.result))},onError:function(e){},default:[]}),this.selectedSamples=Object(I.W)({await:function(){return[h.samples]},invoke:function(){return h.chartsAreFiltered?i.a.fetchFilteredSamplesUsingPOST({studyViewFilter:h.filters}):Promise.resolve(h.samples.result)},onError:function(e){},default:[]}),this.selectedPatientKeys=Object(I.W)({await:function(){return[h.selectedSamples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.uniq(this.selectedSamples.result.map(function(e){return e.uniquePatientKey})));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.unSelectedPatientKeys=Object(I.W)({await:function(){return[h.samples,h.selectedPatientKeys]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.reduce(this.selectedPatientKeys.result,function(e,t){return e[t]=!0,e},{}),n=r.reduce(this.samples.result,function(e,n){return void 0===t[n.uniquePatientKey]&&(e[n.uniquePatientKey]=!0),e},{}),e.abrupt("return",Object.keys(n));case 3:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.genePanelCache=new P.a(function(e){return{invoke:function(){return a.a.getGenePanelUsingGET(e)}}}),this.mutatedGeneTableRowData=Object(I.W)({await:function(){return h.oncokbCancerGeneFilterEnabled?[h.mutationProfiles,h.oncokbAnnotatedGeneEntrezGeneIds,h.oncokbOncogeneEntrezGeneIds,h.oncokbTumorSuppressorGeneEntrezGeneIds,h.oncokbCancerGeneEntrezGeneIds]:[h.mutationProfiles]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.mutationProfiles.result)){e.next=7;break}return e.next=3,i.a.fetchMutatedGenesUsingPOST({studyViewFilter:this.filters});case 3:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign({},e,{uniqueKey:e.hugoGeneSymbol,oncokbAnnotated:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbAnnotatedGeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbOncogene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbOncogeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbTumorSuppressorGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbTumorSuppressorGeneEntrezGeneIds.result.includes(e.entrezGeneId),isCancerGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbCancerGeneEntrezGeneIds.result.includes(e.entrezGeneId)})}));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.fusionGeneTableRowData=Object(I.W)({await:function(){return h.oncokbCancerGeneFilterEnabled?[h.structuralVariantProfiles,h.oncokbAnnotatedGeneEntrezGeneIds,h.oncokbOncogeneEntrezGeneIds,h.oncokbTumorSuppressorGeneEntrezGeneIds,h.oncokbCancerGeneEntrezGeneIds]:[h.mutationProfiles]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.structuralVariantProfiles.result)){e.next=7;break}return e.next=3,i.a.fetchFusionGenesUsingPOST({studyViewFilter:this.filters});case 3:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign({},e,{uniqueKey:e.hugoGeneSymbol,oncokbAnnotated:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbAnnotatedGeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbOncogene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbOncogeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbTumorSuppressorGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbTumorSuppressorGeneEntrezGeneIds.result.includes(e.entrezGeneId),isCancerGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbCancerGeneEntrezGeneIds.result.includes(e.entrezGeneId)})}));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaGeneTableRowData=Object(I.W)({await:function(){return h.oncokbCancerGeneFilterEnabled?[h.cnaProfiles,h.oncokbAnnotatedGeneEntrezGeneIds,h.oncokbOncogeneEntrezGeneIds,h.oncokbTumorSuppressorGeneEntrezGeneIds,h.oncokbCancerGeneEntrezGeneIds]:[h.mutationProfiles]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.cnaProfiles.result)){e.next=7;break}return e.next=3,i.a.fetchCNAGenesUsingPOST({studyViewFilter:this.filters});case 3:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign({},e,{uniqueKey:Object(M.b)(e.hugoGeneSymbol,e.alteration),oncokbAnnotated:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbAnnotatedGeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbOncogene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbOncogeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbTumorSuppressorGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbTumorSuppressorGeneEntrezGeneIds.result.includes(e.entrezGeneId),isCancerGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbCancerGeneEntrezGeneIds.result.includes(e.entrezGeneId)})}));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnSegments=Object(I.W)({await:function(){return[h.selectedSamples]},invoke:function(){return Object(c.o)(h.selectedSamples.result)}},[]),this.survivalPlotData=Object(I.W)({await:function(){return[h.survivalData,h.selectedPatientKeys]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.survivalPlots.map(function(e){return e.survivalData=Object(u.a)(t.survivalData.result,t.selectedPatientKeys.result,e.associatedAttrs[0],e.associatedAttrs[1],function(t){return e.filter.includes(t)}),e}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.survivalData=Object(I.W)({await:function(){return[h.clinicalAttributes,h.samples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.flatten(this.survivalPlots.map(function(e){return e.associatedAttrs})),r.isEmpty(t)){e.next=7;break}return n={attributeIds:t,identifiers:r.map(this.samples.result,function(e){return{entityId:e.patientId,studyId:e.studyId}})},e.next=5,a.a.fetchClinicalDataUsingPOST({clinicalDataType:p.b.PATIENT,clinicalDataMultiStudyFilter:n});case 5:return o=e.sent,e.abrupt("return",r.groupBy(o,"uniquePatientKey"));case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{}}),this.mutationCountVsCNADensityData=Object(I.W)({await:function(){return[h.clinicalAttributes]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.clinicalAttributes.result.find(function(e){return e.clinicalAttributeId===H})||!this.clinicalAttributes.result.find(function(e){return e.clinicalAttributeId===U})){e.next=12;break}return t=p.e,n=50,e.next=5,i.a.fetchClinicalDataDensityPlotUsingPOST({xAxisAttributeId:U,yAxisAttributeId:H,xAxisStart:0,xAxisEnd:1,yAxisStart:0,xAxisBinCount:n,yAxisBinCount:t,studyViewFilter:this.filters});case 5:return e.t0=function(e){return e.count>0},r=e.sent.filter(e.t0),o=1/n,a=Math.max.apply(Math,j(r.map(function(e){return e.binY})))/(t-1),e.abrupt("return",{bins:r,xBinSize:o,yBinSize:a});case 12:return e.abrupt("return",{bins:[],xBinSize:-1,yBinSize:-1});case 13:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{bins:[],xBinSize:-1,yBinSize:-1}}),this.sampleMutationCountAndFractionGenomeAlteredData=Object(I.W)({await:function(){return[h.clinicalAttributes,h.selectedSamples]},invoke:function(){var e={attributeIds:[H,U],identifiers:r.map(h.selectedSamples.result,function(e){return{entityId:e.sampleId,studyId:e.studyId}})};return a.a.fetchClinicalDataUsingPOST({clinicalDataType:p.b.SAMPLE,clinicalDataMultiStudyFilter:e})},onError:function(e){},default:[]}),this.mutationCountVsFGAData=Object(I.W)({await:function(){return[h.sampleMutationCountAndFractionGenomeAlteredData]},onError:function(e){},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reduce(r.groupBy(this.sampleMutationCountAndFractionGenomeAlteredData.result,function(e){return e.uniqueSampleKey}),function(e,t){if(2==t.length){var n={studyId:t[0].studyId,sampleId:t[0].sampleId,patientId:t[0].patientId,uniqueSampleKey:t[0].uniqueSampleKey,x:0,y:0};r.forEach(t,function(e){e.clinicalAttributeId===H?n.y=Number(e.value):e.clinicalAttributeId===U&&(n.x=Number(e.value))}),e.push(n)}return e},[]));case 1:case"end":return e.stop()}},e,this)}))}}),this.mutationCountVsFractionGenomeAlteredDataSet=Object(I.W)({await:function(){return[h.mutationCountVsFGAData]},invoke:function(){return Promise.resolve(r.keyBy(h.mutationCountVsFGAData.result,function(e){return e.uniqueSampleKey}))},default:{}}),this.getDataForClinicalDataTab=Object(I.W)({await:function(){return[h.clinicalAttributes,h.selectedSamples]},onError:function(e){},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.C)(this.selectedSamples.result);case 2:return t=e.sent,e.abrupt("return",r.reduce(this.selectedSamples.result,function(e,n){var r=Object.assign({studyId:n.studyId,patientId:n.patientId,sampleId:n.sampleId},t[n.uniqueSampleKey]||{});return e.push(r),e},[]));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.molecularProfileSampleCounts=Object(I.W)({onError:function(e){},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:this.filters}));case 1:case"end":return e.stop()}},e,this)}))}}),this.initialMolecularProfileSampleCounts=Object(I.W)({onError:function(e){},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:this.initialFilters}));case 1:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributesCounts=Object(I.W)({await:function(){return[h.selectedSamples]},onError:function(e){},invoke:function(){var e={sampleIdentifiers:h.selectedSamples.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}})};return a.a.getClinicalAttributeCountsUsingPOST({clinicalAttributeCountFilter:e})}}),this.clinicalDataWithCount=Object(I.W)({await:function(){return[h.molecularProfileSampleCounts,h.survivalPlotData,h.clinicalAttributeIdToClinicalAttribute,h.clinicalAttributesCounts,h.cancerStudiesData]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.chartMetaSet)){e.next=7;break}return t=this.clinicalAttributeIdToClinicalAttribute.result,n=r.reduce(this.clinicalAttributesCounts.result||[],function(e,n){var r=t[n.clinicalAttributeId];if(r){var o=Object(p.cb)(r);e[o]=e[o]||0,e[o]+=n.count}return e},{}),r.each(this.survivalPlotData.result,function(e){e.id in o.chartMetaSet&&(n[e.id]=e.survivalData.length)}),p.h.CANCER_STUDIES in this.chartMetaSet&&(n[p.h.CANCER_STUDIES]=r.sumBy(this.cancerStudiesData.result,function(e){return e.count})),r.reduce(this._customCharts.keys(),function(e,t){return e[t]=o.selectedSamples.result.length,e},n),e.abrupt("return",r.reduce(this.chartMetaSet,function(e,t,r){return e[r]=n[r]||0,e},{}));case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{}}),this.genomicDataWithCount=Object(I.W)({await:function(){return[h.molecularProfileSampleCounts,h.clinicalAttributeIdToClinicalAttribute,h.clinicalAttributesCounts,h.mutationCountVsFractionGenomeAlteredDataSet]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.chartMetaSet)){e.next=8;break}return t=this.clinicalAttributeIdToClinicalAttribute.result,n=r.reduce(this.clinicalAttributesCounts.result||[],function(e,n){var r=t[n.clinicalAttributeId];if(r){var o=Object(p.cb)(r);e[o]=e[o]||0,e[o]+=n.count}return e},{}),p.h.MUTATED_GENES_TABLE in this.chartMetaSet&&(n[p.h.MUTATED_GENES_TABLE]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfMutationProfiledSamples:0,n[p.h.WITH_MUTATION_DATA]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfMutationProfiledSamples:0),p.h.FUSION_GENES_TABLE in this.chartMetaSet&&(n[p.h.FUSION_GENES_TABLE]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfFusionProfiledSamples:0,n[p.h.WITH_FUSION_DATA]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfFusionProfiledSamples:0),p.h.CNA_GENES_TABLE in this.chartMetaSet&&(n[p.h.CNA_GENES_TABLE]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfCNAProfiledSamples:0,n[p.h.WITH_CNA_DATA]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfCNAProfiledSamples:0),p.h.MUTATION_COUNT_CNA_FRACTION in this.chartMetaSet&&(o=this.mutationCountVsFractionGenomeAlteredDataSet.result,i=r.keyBy(this.selectedSamples.result,function(e){return e.uniqueSampleKey}),a=r.reduce(i,function(e,t){return o[t.uniqueSampleKey]&&e.push(o[t.uniqueSampleKey]),e},[]),n[p.h.MUTATION_COUNT_CNA_FRACTION]=a.length),e.abrupt("return",r.reduce(this.chartMetaSet,function(e,t,r){return e[r]=n[r]||0,e},{}));case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{}}),this.cancerStudiesData=Object(I.W)({await:function(){return[h.selectedSamples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!r.includes(this._chartSampleIdentifiersFilterSet.keys(),p.h.CANCER_STUDIES)){e.next=7;break}return e.next=4,Object(p.Y)(p.h.CANCER_STUDIES,this.filters,this._chartSampleIdentifiersFilterSet.toJS(),this.queriedSampleIdentifiers.result,this.queriedPhysicalStudyIds.result);case 4:t=e.sent,e.next=8;break;case 7:t=this.selectedSamples.result;case 8:return e.abrupt("return",Object(p.E)(r.values(r.reduce(t,function(e,t){var n=t.studyId;return e[n]?e[n].count=e[n].count+1:e[n]={value:"".concat(n),count:1},e},{}))));case 9:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.withMutationDataChartCounts=Object(I.W)({invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:Object.assign({},this.filters,{withMutationData:void 0})});case 2:return t=e.sent,e.abrupt("return",Promise.resolve(Object(p.D)(t.numberOfMutationProfiledSamples,t.numberOfMutationUnprofiledSamples)));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.withFusionDataChartCounts=Object(I.W)({invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:Object.assign({},this.filters,{withFusionData:void 0})});case 2:return t=e.sent,e.abrupt("return",Object(p.D)(t.numberOfFusionProfiledSamples,t.numberOfFusionUnprofiledSamples));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.withCNADataChartCounts=Object(I.W)({invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:Object.assign({},this.filters,{withCNAData:void 0})});case 2:return t=e.sent,e.abrupt("return",Promise.resolve(Object(p.D)(t.numberOfCNAProfiledSamples,t.numberOfCNAUnprofiledSamples)));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.mutationAsClinicalData=Object(I.W)({await:function(){return[h.samples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fetchFilteredSamplesUsingPOST({studyViewFilter:Object.assign({},this.initialFilters,{withMutationData:!0})});case 2:return t=e.sent,n=r.keyBy(t,function(e){return e.uniqueSampleKey}),e.abrupt("return",Promise.resolve(this.samples.result.map(function(e){return{clinicalAttributeId:p.h.WITH_MUTATION_DATA,patientId:e.patientId,sampleId:e.sampleId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,uniqueSampleKey:e.uniqueSampleKey,value:void 0!==n[e.uniqueSampleKey]?p.d.YES:p.d.NO}})));case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){return Promise.resolve([])},default:[]}),this.cnaAsClinicalData=Object(I.W)({await:function(){return[h.samples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fetchFilteredSamplesUsingPOST({studyViewFilter:Object.assign({},this.initialFilters,{withCNAData:!0})});case 2:return t=e.sent,n=r.keyBy(t,function(e){return e.uniqueSampleKey}),e.abrupt("return",Promise.resolve(this.samples.result.map(function(e){return{clinicalAttributeId:p.h.WITH_MUTATION_DATA,patientId:e.patientId,sampleId:e.sampleId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,uniqueSampleKey:e.uniqueSampleKey,value:void 0!==n[e.uniqueSampleKey]?p.d.YES:p.d.NO}})));case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){return Promise.resolve([])},default:[]}),this.cancerStudyAsClinicalData=Object(I.W)({await:function(){return[h.samples]},invoke:function(){return V(h,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(this.samples.result.map(function(e){return{clinicalAttributeId:p.h.CANCER_STUDIES,patientId:e.patientId,sampleId:e.sampleId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,uniqueSampleKey:e.uniqueSampleKey,value:e.studyId}})));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){return Promise.resolve([])},default:[]}),this.reactionDisposers.push(Object(l.reaction)(function(){return h.loadingInitialDataForSummaryTab},function(){h.loadingInitialDataForSummaryTab||(h.updateChartStats(),h.loadUserSettings())})),this.reactionDisposers.push(Object(l.reaction)(function(){return[h.visibleAttributes,h.columns,h.chartsDimension.toJS(),h.chartsType.toJS()]},function(){h.updateLayout()})),this.reactionDisposers.push(Object(l.reaction)(function(){return Object(l.toJS)(h.currentChartSettingsMap)},function(){h.isSavingUserSettingsPossible&&(h.hideRestoreSettingsMsg||(h.hideRestoreSettingsMsg=!0),h.updateUserSettingsDebounce())})),this.reactionDisposers.push(Object(l.reaction)(function(){return h.fetchUserSettings.isComplete},function(e){e&&h.isSavingUserPreferencePossible&&!h._loadUserSettingsInitially&&(h.previousSettings=h.currentChartSettingsMap,h.loadUserSettings())})),p.g.forEach(function(e){var t=e.uniqueKey;h.chartsType.has(t)||h.chartsType.set(t,e.chartType),void 0!==h.chartsType.get(t)&&(h._customCharts.set(t,{displayName:e.displayName,uniqueKey:t,dataType:Object(p.z)(t),patientAttribute:e.patientAttribute,description:e.description,renderWhenDataChange:!1,priority:w.d.priority[t]||e.priority}),h.chartsType.set(t,e.chartType),h.chartsDimension.set(t,e.dimension),t===p.h.CANCER_STUDIES&&(h.customChartsPromises[t]=h.cancerStudiesData))})}var t,n,h;return t=e,(n=[{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.reactionDisposers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"setComparisonConfirmationModal",value:function(e){var t=this;this._comparisonConfirmationModal=e(function(){t._comparisonConfirmationModal=null})}},{key:"setComparisonGroupSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._selectedComparisonGroups.set(e,t)}},{key:"toggleComparisonGroupSelected",value:function(e){this.setComparisonGroupSelected(e,!this.isComparisonGroupSelected(e))}},{key:"toggleComparisonGroupMarkedForDeletion",value:function(e){this._comparisonGroupsMarkedForDeletion.set(e,!this.isComparisonGroupMarkedForDeletion(e))}},{key:"isComparisonGroupSelected",value:function(e){return!this.isComparisonGroupMarkedForDeletion(e)&&(!!this._selectedComparisonGroups.has(e)&&this._selectedComparisonGroups.get(e))}},{key:"isComparisonGroupMarkedForDeletion",value:function(e){return!!this._comparisonGroupsMarkedForDeletion.has(e)&&this._comparisonGroupsMarkedForDeletion.get(e)}},{key:"markSelectedGroupsForDeletion",value:function(){var e=this;Object(_.a)(this.comparisonGroups,function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e.isComparisonGroupSelected(s.uid)&&e.toggleComparisonGroupMarkedForDeletion(s.uid)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}})}},{key:"deleteMarkedComparisonGroups",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=!0,r=!1,o=void 0,e.prev=4,i=this._comparisonGroupsMarkedForDeletion.keys()[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)s=a.value,this.isComparisonGroupMarkedForDeletion(s)&&(t.push(T.a.deleteGroup(s)),this._selectedComparisonGroups.delete(s));e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,n||null==i.return||i.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,Promise.all(t);case 22:this._comparisonGroupsMarkedForDeletion.clear(),this.notifyComparisonGroupsChange();case 24:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{key:"notifyComparisonGroupsChange",value:function(){this._comparisonGroupsChangeCount+=1}},{key:"createNumberAttributeComparisonSession",value:function(e,t,n){return V(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(E.a.DOWNLOADING_GROUPS),r.abrupt("return",new Promise(function(r){Object(_.a)([o.selectedSamples,o.clinicalDataBinPromises[Object(p.cb)(e)]],function(i,s){return V(o,void 0,void 0,regeneratorRuntime.mark(function o(){var l,c,u,h,d,f;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=e.patientAttribute?"patientId":"sampleId",o.next=3,a.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?p.b.PATIENT:p.b.SAMPLE,clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:i.map(function(e){return{studyId:e.studyId,entityId:e[l]}})}});case 3:c=o.sent,u=[],h="",o.t0=t,o.next=o.t0===p.f.BINS?9:o.t0===p.f.MEDIAN?12:(o.t0,p.f.QUARTILES,15);break;case 9:return u=Object(p.P)(i,e.patientAttribute,c,s,this.studyIds),h="Bins of ".concat(e.displayName),o.abrupt("break",17);case 12:return u=Object(p.Q)(i,e.patientAttribute,Object(x.C)(c,2),this.studyIds),h="Median of ".concat(e.displayName),o.abrupt("break",17);case 15:u=Object(p.Q)(i,e.patientAttribute,Object(x.C)(c,4),this.studyIds),h="Quartiles of ".concat(e.displayName);case 17:return n(E.a.CREATING_SESSION),o.next=20,T.a.addComparisonSession({groups:u,clinicalAttributeName:h,origin:this.studyIds,groupNameOrder:u.map(function(e){return e.name})});case 20:return d=o.sent,f=d.id,o.abrupt("return",r(f));case 23:case"end":return o.stop()}},o,this)}))})}));case 2:case"end":return r.stop()}},r)}))}},{key:"createCategoricalAttributeComparisonSession",value:function(e,t,n){var o=this;n(E.a.DOWNLOADING_GROUPS);var i=[this.selectedSamples];return e.uniqueKey===p.h.WITH_MUTATION_DATA?i.push(this.mutationAsClinicalData):e.uniqueKey===p.h.WITH_CNA_DATA?i.push(this.cnaAsClinicalData):e.uniqueKey===p.h.CANCER_STUDIES&&i.push(this.cancerStudyAsClinicalData),new Promise(function(s){Object(_.a)(i,function(i,l){return V(o,void 0,void 0,regeneratorRuntime.mark(function o(){var c,u,h,d,f,m,y,g,v,b,S,w=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(c=[],!this.isCustomChart(e.uniqueKey)){o.next=5;break}void 0===l?(u=r.keyBy(this._customChartsSelectedCases.get(e.uniqueKey),function(e){return e.studyId+e.sampleId}),c=i.map(function(e){var t=u[e.studyId+e.sampleId];return{sampleId:e.sampleId,studyId:e.studyId,value:t?t.value:p.d.NA}})):(h=r.keyBy(i,function(e){return e.uniqueSampleKey}),c=r.filter(l,function(e){return void 0!==h[e.uniqueSampleKey]})),o.next=11;break;case 5:return d=e.clinicalAttribute&&e.clinicalAttribute.patientAttribute||!1,f=d?"patientId":"sampleId",o.next=9,a.a.fetchClinicalDataUsingPOST({clinicalDataType:d?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttribute.clinicalAttributeId],identifiers:i.map(function(e){return{studyId:e.studyId,entityId:e[f]}})}});case 9:c=o.sent,d&&(m=r.keyBy(c,function(e){return e.uniquePatientKey}),c=i.map(function(e){var t=m[e.uniquePatientKey];return{sampleId:e.sampleId,studyId:e.studyId,value:t?t.value:p.d.NA}}));case 11:return y=r.groupBy(c,function(e){return e.value.toLowerCase()}),g=r.keyBy(t,function(e){return e.value.toLowerCase()}),v=r.chain(t).sortBy(function(e){return-e.count}).slice(0,e.uniqueKey===p.h.CANCER_STUDIES?void 0:x.c).filter(function(e){var t=e.value.toLowerCase(),n=y[t];return n&&n.length>0}).map(function(e){var t=e.value.toLowerCase(),n=y[t];return Object(D.b)(e.value,n,w.studyIds,g[t].color)}).value(),n(E.a.CREATING_SESSION),o.next=17,T.a.addComparisonSession({groups:v,clinicalAttributeName:e.displayName,origin:this.studyIds});case 17:return b=o.sent,S=b.id,o.abrupt("return",s(S));case 20:case"end":return o.stop()}},o,this)}))})})}},{key:"openComparisonPage",value:function(e){return V(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.open(Object(C.h)({phase:E.a.DOWNLOADING_GROUPS,clinicalAttributeName:e.chartMeta.displayName,origin:this.studyIds.join(",")}),"_blank"),t.next=3,Object(A.b)(function(){return n.closed||n.globalStores&&n.globalStores.appStore.appReady});case 3:if(!n.closed){t.next=5;break}return t.abrupt("return");case 5:r=setInterval(function(){try{n.closed||n.ping()}catch(e){clearInterval(r)}},500),i=function(e){n.closed||n.routingStore.updateRoute({phase:e},void 0,!1)},t.t0=this.chartsType.get(e.chartMeta.uniqueKey),t.next=t.t0===w.a.PIE_CHART?10:t.t0===w.a.TABLE?10:14;break;case 10:return t.next=12,this.createCategoricalAttributeComparisonSession(e.chartMeta,e.clinicalAttributeValues,i);case 12:return o=t.sent,t.abrupt("break",18);case 14:return t.next=16,this.createNumberAttributeComparisonSession(e.chartMeta.clinicalAttribute,e.categorizationType||p.f.QUARTILES,i);case 16:return o=t.sent,t.abrupt("break",18);case 18:clearInterval(r),n.closed||Object(C.B)(n,{sessionId:o});case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateCurrentTab",value:function(e){this.currentTab=void 0===e?L.a.SUMMARY:e}},{key:"isNewlyAdded",value:function(e){return this.newlyAddedCharts.includes(e)}},{key:"updateStoreByFilters",value:function(e){var t=this;if(r.isArray(e.clinicalDataFilters)&&e.clinicalDataFilters.length>0&&r.each(e.clinicalDataFilters,function(e){t._clinicalDataFilterSet.set(e.attributeId,{attributeId:e.attributeId,values:r.reduce(e.values,function(e,t){return e.push({end:t.end,start:t.start,value:t.value}),e},[])})}),r.isArray(e.geneFilters)&&e.geneFilters.length>0&&e.geneFilters.forEach(function(e){var n=Object(p.db)(e.molecularProfileIds);t._geneFilterSet.set(n,r.clone(e.geneQueries))}),r.isArray(e.sampleIdentifiers)&&e.sampleIdentifiers.length>0&&(this.numberOfSelectedSamplesInCustomSelection=e.sampleIdentifiers.length,this.updateChartSampleIdentifierFilter(p.h.CUSTOM_SELECT,e.sampleIdentifiers,!1)),void 0!==e.withCNAData){this._withCNADataFilter=e.withCNAData;var n=e.withCNAData?p.d.YES:p.d.NO;this.customChartFilterSet.set(p.h.WITH_CNA_DATA,[n])}if(void 0!==e.withMutationData){this._withMutationDataFilter=e.withMutationData;var o=e.withMutationData?p.d.YES:p.d.NO;this.customChartFilterSet.set(p.h.WITH_MUTATION_DATA,[o])}if(void 0!==e.withFusionData){this._withFusionDataFilter=e.withFusionData;var i=e.withFusionData?p.d.YES:p.d.NO;this.customChartFilterSet.set(p.h.WITH_FUSION_DATA,[i])}r.isEqual(Object(l.toJS)(this.initialFiltersQuery),e)||(this.initialFiltersQuery=e)}},{key:"updateStoreFromURL",value:function(e){return V(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",o=[],e.studyId&&(n=e.studyId),e.cancer_study_id&&(n=e.cancer_study_id),e.id&&(n=e.id),n&&(o=n.trim().split(","),r.isEqual(o,Object(l.toJS)(this.studyIds))||(this.studyIds=o)),i={},!e.filters){t.next=11;break}try{i=JSON.parse(decodeURIComponent(e.filters)),this.updateStoreByFilters(i)}catch(e){}t.next=20;break;case 11:if(!e.filterAttributeId||!e.filterValues){t.next=20;break}return t.t0=r,t.next=15,a.a.fetchClinicalAttributesUsingPOST({studyIds:o});case 15:t.t1=t.sent,t.t2=function(e){return"".concat(e.patientAttribute,"-").concat(e.clinicalAttributeId)},s=t.t0.uniqBy.call(t.t0,t.t1,t.t2),void 0!==(c=r.find(s,function(t){return t.clinicalAttributeId.toUpperCase()===e.filterAttributeId.toUpperCase()}))?(c.datatype==p.c.NUMBER?i.clinicalDataFilters=[{attributeId:c.clinicalAttributeId,values:e.filterValues.split(",").map(function(e){var t=e.split("-");return{start:Number(t[0]),end:Number(t[1])}})}]:i.clinicalDataFilters=[{attributeId:c.clinicalAttributeId,values:Object(p.G)(e.filterValues).map(function(e){return{value:e}})}],this.updateStoreByFilters(i)):this.pageStatusMessages.unknownClinicalAttribute={message:"The clinical attribute ".concat(e.filterAttributeId," is not available for this study"),status:"danger"};case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLayout",value:function(){this.currentGridLayout=Object(p.j)(this.visibleAttributes,this.columns,this.chartsDimension.toJS(),this.useCurrentGridLayout?this.currentGridLayout:[],this.currentFocusedChartByUser,this.currentFocusedChartByUserDimension),this.useCurrentGridLayout&&(this.useCurrentGridLayout=!1)}},{key:"updateCurrentGridLayout",value:function(e){this.currentGridLayout=e}},{key:"updateMutatedGenesTableByCancerGenesFilter",value:function(e){this._filterMutatedGenesTableByCancerGenes=e}},{key:"updateFusionGenesTableByCancerGenesFilter",value:function(e){this._filterFusionGenesTableByCancerGenes=e}},{key:"updateCNAGenesTableByCancerGenesFilter",value:function(e){this._filterCNAGenesTableByCancerGenes=e}},{key:"updateComparisonGroupsFilter",value:function(){var e=this;Object(_.a)(this.comparisonGroups,function(t){e._filterComparisonGroups=Object(D.c)(t,e),e.updateChartSampleIdentifierFilter(p.h.SELECTED_COMPARISON_GROUPS,Object(x.v)(e._filterComparisonGroups))})}},{key:"onCheckGene",value:function(e){this.geneQueries=Object(p.qb)(this.geneQueries,e),this.geneQueryStr=this.geneQueries.map(function(e){return Object(f.j)(e)}).join(" ")}},{key:"updateSelectedGenes",value:function(e,t){this.geneQueries=e,this.geneQueryStr=t}},{key:"clearAllFilters",value:function(){this._clinicalDataFilterSet.clear(),this._geneFilterSet.clear(),this._chartSampleIdentifiersFilterSet.clear(),this.customChartFilterSet.clear(),this._withMutationDataFilter=void 0,this._withCNADataFilter=void 0,this._withFusionDataFilter=void 0,this.numberOfSelectedSamplesInCustomSelection=0,this.removeComparisonGroupSelectionFilter(),this._customBinsFromScatterPlotSelectionSet.clear()}},{key:"toggleWithMutationDataFilter",value:function(){var e=!this._withMutationDataFilter;this._withMutationDataFilter=e,e?(Object(k.i)("withMutationQuickFilter",this),this.customChartFilterSet.set(p.h.WITH_MUTATION_DATA,[p.d.YES])):this.customChartFilterSet.delete(p.h.WITH_MUTATION_DATA)}},{key:"toggleWithCNADataFilter",value:function(){var e=!this._withCNADataFilter;this._withCNADataFilter=e,e?(Object(k.i)("withCNADataQuickFilter",this),this.customChartFilterSet.set(p.h.WITH_CNA_DATA,[p.d.YES])):this.customChartFilterSet.delete(p.h.WITH_CNA_DATA)}},{key:"toggleWithFusionDataFilter",value:function(){var e=!this._withFusionDataFilter;this._withFusionDataFilter=e,e?(Object(k.i)("withFusionQuickFilter",this),this.customChartFilterSet.set(p.h.WITH_FUSION_DATA,[p.d.YES])):this.customChartFilterSet.delete(p.h.WITH_FUSION_DATA)}},{key:"updateClinicalDataIntervalFilters",value:function(e,t){e===U&&this._customBinsFromScatterPlotSelectionSet.delete(U),e===H&&this._customBinsFromScatterPlotSelectionSet.delete(H),Object(k.i)("clinicalDataInterval",this);var n=Object(p.F)(t);this.updateClinicalDataFilterByValues(e,n)}},{key:"updateClinicalDataFilterByValues",value:function(e,t){if(this.chartMetaSet[e]){var n=this.chartMetaSet[e];if(Object(k.i)("clinicalDataFilters",this),t.length>0){var r={attributeId:n.clinicalAttribute.clinicalAttributeId,values:t};this._clinicalDataFilterSet.set(n.uniqueKey,r)}else this._clinicalDataFilterSet.delete(n.uniqueKey)}}},{key:"updateScatterPlotFilterByValues",value:function(e,t){if(e.uniqueKey===p.h.MUTATION_COUNT_CNA_FRACTION)if(void 0===t)this._clinicalDataFilterSet.delete(U),this._clinicalDataFilterSet.delete(H),this._customBinsFromScatterPlotSelectionSet.delete(U),this._customBinsFromScatterPlotSelectionSet.delete(H);else{var n={start:t.yStart,end:t.yEnd},r={attributeId:H,values:[n]};this._customBinsFromScatterPlotSelectionSet.set(H,[n.start,n.end]),this._clinicalDataFilterSet.set(H,r);var o={start:t.xStart,end:t.xEnd},i={attributeId:U,values:[o]};this._customBinsFromScatterPlotSelectionSet.set(U,[o.start,o.end]),this._clinicalDataFilterSet.set(U,i)}}},{key:"addGeneFilters",value:function(e,t){Object(k.i)("geneFilter",this);var n=Object(l.toJS)(this._geneFilterSet.get(e.uniqueKey))||[];n=[].concat(j(n),[t]),this._geneFilterSet.set(e.uniqueKey,n)}},{key:"removeGeneFilter",value:function(e,t){var n=Object(l.toJS)(this._geneFilterSet.get(e))||[];0===(n=r.reduce(n,function(e,n){var r=n.filter(function(e){return e!==t});return r.length>0&&e.push(r),e},[])).length?this._geneFilterSet.delete(e):this._geneFilterSet.set(e,n)}},{key:"resetGeneFilter",value:function(e){this._geneFilterSet.delete(e)}},{key:"updateChartSampleIdentifierFilter",value:function(e,t,n){var o=t,i=r.keyBy(o,function(e){return"".concat(e.studyId,":").concat(e.sampleId)});n&&(o=r.reduce(this._chartSampleIdentifiersFilterSet.get(e)||[],function(e,t){return"".concat(t.studyId,":").concat(t.sampleId)in i||e.push(t),e},o)),r.isEmpty(o)?this._chartSampleIdentifiersFilterSet.delete(e):this._chartSampleIdentifiersFilterSet.set(e,o)}},{key:"getChartSampleIdentifiersFilter",value:function(e){return this._chartSampleIdentifiersFilterSet.get(e)||[]}},{key:"getCustomChartFilters",value:function(e){return this.customChartFilterSet.get(e)||[]}},{key:"newCustomChartUniqueKey",value:function(){return"CUSTOM_FILTERS_".concat(this._customCharts.keys().length)}},{key:"isCustomChart",value:function(e){return this._customCharts.has(e)}},{key:"changeChartVisibility",value:function(e,t){t?this._chartVisibility.set(e,!0):this._chartVisibility.delete(e)}},{key:"changeChartsVisibility",value:function(e){var t=this;r.each(e,function(e,n){e?t._chartVisibility.set(n,!0):t._chartVisibility.delete(n)})}},{key:"resetFilterAndChangeChartVisibility",value:function(e,t){if(!t)switch(this.chartsType.get(e.uniqueKey)){case w.a.MUTATED_GENES_TABLE:case w.a.FUSION_GENES_TABLE:case w.a.CNA_GENES_TABLE:this.resetGeneFilter(e.uniqueKey);break;case w.a.SCATTER:this._chartSampleIdentifiersFilterSet.delete(e.uniqueKey),e.uniqueKey===p.h.MUTATION_COUNT_CNA_FRACTION&&(this._clinicalDataFilterSet.delete(H),this._clinicalDataFilterSet.delete(U));break;case w.a.SURVIVAL:break;default:e.uniqueKey===p.h.WITH_MUTATION_DATA&&(this._withMutationDataFilter=void 0),e.uniqueKey===p.h.WITH_CNA_DATA&&(this._withCNADataFilter=void 0),e.uniqueKey===p.h.WITH_FUSION_DATA&&(this._withFusionDataFilter=void 0),this._clinicalDataFilterSet.delete(e.uniqueKey),this._chartSampleIdentifiersFilterSet.delete(e.uniqueKey),this.customChartFilterSet.delete(e.uniqueKey)}this.changeChartVisibility(e.uniqueKey,t)}},{key:"removeComparisonGroupSelectionFilter",value:function(){this._chartSampleIdentifiersFilterSet.delete(p.h.SELECTED_COMPARISON_GROUPS),this._filterComparisonGroups=[]}},{key:"removeCustomSelectFilter",value:function(){this._chartSampleIdentifiersFilterSet.delete(p.h.CUSTOM_SELECT),this.numberOfSelectedSamplesInCustomSelection=0}},{key:"toggleLogScale",value:function(e){this.updateClinicalDataIntervalFilters(e,[]);var t=this._clinicalDataBinFilterSet.get(e);t.disableLogScale=!t.disableLogScale}},{key:"isLogScaleToggleVisible",value:function(e,t){return void 0!==this._clinicalDataBinFilterSet.get(e)&&this._clinicalDataBinFilterSet.get(e).disableLogScale||Object(p.ib)(t)}},{key:"isLogScaleChecked",value:function(e){return void 0!==this._clinicalDataBinFilterSet.get(e)&&!this._clinicalDataBinFilterSet.get(e).disableLogScale}},{key:"updateCustomBins",value:function(e,t){var n=r.clone(this._clinicalDataBinFilterSet.get(e));t.length>0?n.customBins=t:delete n.customBins,this._clinicalDataBinFilterSet.set(e,n)}},{key:"geCurrentBins",value:function(e){return r.uniq(r.reduce(this.getClinicalDataBin(e).result,function(e,t){return t.start&&e.push(t.start),t.end&&e.push(t.end),e},[]))}},{key:"addCharts",value:function(e){var t=this;e.forEach(function(e){t._chartVisibility.keys().includes(e)||t.newlyAddedCharts.push(e)}),this.updateChartsVisibility(e)}},{key:"updateChartsVisibility",value:function(e){var t=this;r.each(this._chartVisibility.keys(),function(n){r.includes(e,n)&&t._chartVisibility.get(n)||t._chartVisibility.delete(n)}),r.each(e,function(e){void 0===t._chartVisibility.get(e)&&t._chartVisibility.set(e,!0)})}},{key:"getGeneFiltersByUniqueKey",value:function(e){return Object(l.toJS)(this._geneFilterSet.get(e))||[]}},{key:"getClinicalDataFiltersByUniqueKey",value:function(e){var t=this._clinicalDataFilterSet.get(e);return t?t.values:[]}},{key:"getScatterPlotFiltersByUniqueKey",value:function(e){if(e===p.h.MUTATION_COUNT_CNA_FRACTION){var t=this._clinicalDataFilterSet.get(U),n=this._clinicalDataFilterSet.get(H),r={};if(t){var o=Object(p.J)(t.values);r.xStart=o.start,r.xEnd=o.end}if(n){var i=Object(p.J)(n.values);r.yStart=i.start,r.yEnd=i.end}if(t||n)return[r]}return[]}},{key:"hideChart",value:function(e){this.changeChartVisibility(e,!1)}},{key:"getClinicalDataCount",value:function(e){var t=this,n=Object(p.cb)(e.clinicalAttribute);if(!this.clinicalDataCountPromises.hasOwnProperty(n)){var o=void 0!==r.find(this.defaultVisibleAttributes.result,function(e){return Object(p.cb)(e)===n});this.clinicalDataCountPromises[n]=Object(I.W)({await:function(){return Object(p.X)(o,t.isInitialFilterState,t.chartsAreFiltered,t._clinicalDataFilterSet.has(n),t.unfilteredClinicalDataCount,t.newlyAddedUnfilteredClinicalDataCount,t.initialVisibleAttributesClinicalDataCountData)},invoke:function(){return V(t,void 0,void 0,regeneratorRuntime.mark(function t(){var a,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],!this.isInitialFilterState||!o||this._clinicalDataFilterSet.has(n)){t.next=5;break}a=this.initialVisibleAttributesClinicalDataCountData.result,t.next=12;break;case 5:if(!this._clinicalDataFilterSet.has(n)&&!this.isInitialFilterState){t.next=11;break}return t.next=8,i.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:[{attributeId:e.clinicalAttribute.clinicalAttributeId}],studyViewFilter:this.filters}});case 8:a=t.sent,t.next=12;break;case 11:a=o||this.chartsAreFiltered?this.unfilteredClinicalDataCount.result:[this.unfilteredClinicalDataCountCache[n]];case 12:return s=r.find(a,{attributeId:e.clinicalAttribute.clinicalAttributeId}),l=[],void 0!==s&&(l=s.counts),t.abrupt("return",Object(p.E)(l));case 16:case"end":return t.stop()}},t,this)}))},onError:function(e){},default:[]})}return this.clinicalDataCountPromises[n]}},{key:"getClinicalDataBin",value:function(e){var t=this,n=Object(p.cb)(e.clinicalAttribute);if(!this.clinicalDataBinPromises.hasOwnProperty(n)){var o=void 0!==r.find(this.defaultVisibleAttributes.result,function(e){return Object(p.cb)(e)===n});this.clinicalDataBinPromises[n]=Object(I.W)({await:function(){return Object(p.X)(o,t.isInitialFilterState,t.chartsAreFiltered,t._clinicalDataFilterSet.has(n),t.unfilteredClinicalDataBinCount,t.newlyAddedUnfilteredClinicalDataBinCount,t.initialVisibleAttributesClinicalDataBinCountData)},invoke:function(){return V(t,void 0,void 0,regeneratorRuntime.mark(function t(){var a,s,c,u,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=K,s=[],c=r.find(this.initialVisibleAttributesClinicalDataBinAttributes.result,function(t){return t.attributeId===Object(p.cb)(e.clinicalAttribute)}),u=r.clone(this._clinicalDataBinFilterSet.get(Object(p.cb)(e.clinicalAttribute))),this._customBinsFromScatterPlotSelectionSet.has(e.uniqueKey)&&(h=this._customBinsFromScatterPlotSelectionSet.get(e.uniqueKey)||[],u.customBins=r.sortBy([].concat(j(u.customBins||[]),j(h)))),d=o&&!r.isEqual(Object(l.toJS)(u),c),!this.isInitialFilterState||!o||this._clinicalDataFilterSet.has(n)||d){t.next=10;break}s=this.initialVisibleAttributesClinicalDataBinCountData.result,t.next=17;break;case 10:if(!this._clinicalDataFilterSet.has(n)&&!this.isInitialFilterState){t.next=16;break}return t.next=13,i.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:a,clinicalDataBinCountFilter:{attributes:[u],studyViewFilter:this.filters}});case 13:s=t.sent,t.next=17;break;case 16:s=o||this.chartsAreFiltered?this.unfilteredClinicalDataBinCount.result:this.unfilteredClinicalDataBinCountCache[n];case 17:return t.abrupt("return",r.filter(s,{attributeId:e.clinicalAttribute.clinicalAttributeId})||[]);case 18:case"end":return t.stop()}},t,this)}))},onError:function(e){},default:[]})}return this.clinicalDataBinPromises[n]}},{key:"getMolecularProfilesByAlterationType",value:function(e,t){return r.isEmpty(t)?this.molecularProfiles.result.filter(function(t){return t.molecularAlterationType===e}):this.molecularProfiles.result.filter(function(n){return n.molecularAlterationType===e&&n.datatype===t})}},{key:"getDefaultClinicalDataBinFilter",value:function(e){return{attributeId:e.clinicalAttributeId,disableLogScale:!1}}},{key:"isChartNameValid",value:function(e){return void 0===r.find(this.chartMetaSet,function(t){return t.displayName.toUpperCase()===e.toUpperCase()})}},{key:"getDefaultCustomChartName",value:function(){return"".concat("Custom Chart"," ").concat(this._customCharts.size-p.g.length+1)}},{key:"addCustomChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.newCustomChartUniqueKey(),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.name?e.name:this.getDefaultCustomChartName(),i={uniqueKey:t,displayName:o,description:o,dataType:Object(p.z)(t),patientAttribute:!1,renderWhenDataChange:!1,priority:1},a=[];e.patientAttribute&&(i.patientAttribute=!0),r.each(e.groups,function(e){r.reduce(e.sampleIdentifiers,function(t,n){return t.push({studyId:n.studyId,sampleId:n.sampleId,patientId:n.patientId,value:e.name}),t},a)}),this._customCharts.set(t,i),this._customChartMap.set(t,e),this._chartVisibility.set(t,!0),this._customChartsSelectedCases.set(t,a),this.chartsType.set(t,w.a.PIE_CHART),this.chartsDimension.set(t,{w:1,h:1}),n||(this.setCustomChartFilters(i.uniqueKey,e.groups.map(function(e){return e.name})),this.newlyAddedCharts.clear(),this.newlyAddedCharts.push(t))}},{key:"updateCustomSelect",value:function(e){this.clearAllFilters();var t=r.reduce(e.groups,function(e,t){return e.push.apply(e,j(t.sampleIdentifiers.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}))),e},[]);this.numberOfSelectedSamplesInCustomSelection=t.length,this.updateChartSampleIdentifierFilter(p.h.CUSTOM_SELECT,t,!1)}},{key:"clearPageSettings",value:function(){this._chartVisibility.clear(),this.currentGridLayout=[],this.currentFocusedChartByUser=void 0,this.currentFocusedChartByUserDimension=void 0,this._filterMutatedGenesTableByCancerGenes=!0,this._filterFusionGenesTableByCancerGenes=!0,this._filterCNAGenesTableByCancerGenes=!0,this._clinicalDataBinFilterSet=l.observable.map(Object(l.toJS)(this._defaultClinicalDataBinFilterSet))}},{key:"loadUserSettings",value:function(){this.isSavingUserPreferencePossible&&!r.isEmpty(this.fetchUserSettings.result)&&(this.loadSettings(this.fetchUserSettings.result),this._loadUserSettingsInitially&&(this.previousSettings=r.keyBy(this.fetchUserSettings.result,function(e){return e.id})))}},{key:"undoUserSettings",value:function(){this.loadSettings(r.values(this.previousSettings)),this.previousSettings={}}},{key:"resetToDefaultSettings",value:function(){this.clearPageSettings(),this.loadSettings(r.values(this.defaultChartSettingsMap))}},{key:"loadSettings",value:function(e){var t=this;this.clearPageSettings(),r.map(e,function(e){switch(e.name&&e.groups&&e.groups.length>0&&t.addCustomChart({name:e.name,groups:e.groups||[],patientAttribute:e.patientAttribute},e.id,!0),e.layout&&(t.currentGridLayout.push(Object.assign({i:e.id,isResizable:!1,moved:!1,static:!1},e.layout)),t.chartsDimension.set(e.id,{w:e.layout.w,h:e.layout.h})),e.chartType){case p.h.MUTATED_GENES_TABLE:t._filterMutatedGenesTableByCancerGenes=void 0===e.filterByCancerGenes||e.filterByCancerGenes;break;case p.h.FUSION_GENES_TABLE:t._filterFusionGenesTableByCancerGenes=void 0===e.filterByCancerGenes||e.filterByCancerGenes;break;case p.h.CNA_GENES_TABLE:t._filterCNAGenesTableByCancerGenes=void 0===e.filterByCancerGenes||e.filterByCancerGenes;break;case w.a.BAR_CHART:var n=t._clinicalDataBinFilterSet.get(e.id);n&&(e.customBins&&(n.customBins=e.customBins),e.disableLogScale&&(n.disableLogScale=e.disableLogScale))}t.changeChartVisibility(e.id,!0),e.chartType&&t.chartsType.set(e.id,e.chartType)}),this.useCurrentGridLayout=!0}},{key:"updateChartStats",value:function(){if(this.initializeChartStatsByClinicalAttributes(),!r.isEmpty(this.mutationProfiles.result)){var e=Object(p.db)(this.mutationProfiles.result.map(function(e){return e.molecularProfileId})),t=r.find(this.chartMetaSet,function(t){return t.uniqueKey===e});this.chartsType.set(e,w.a.MUTATED_GENES_TABLE),this.chartsDimension.set(e,w.d.layout.dimensions[w.a.MUTATED_GENES_TABLE]),t&&0!==t.priority&&this.changeChartVisibility(t.uniqueKey,!0)}if(!r.isEmpty(this.structuralVariantProfiles.result)){var n=Object(p.db)(this.structuralVariantProfiles.result.map(function(e){return e.molecularProfileId})),o=r.find(this.chartMetaSet,function(e){return e.uniqueKey===n});o&&0!==o.priority&&this.changeChartVisibility(o.uniqueKey,!0),this.chartsType.set(n,w.a.FUSION_GENES_TABLE),this.chartsDimension.set(n,w.d.layout.dimensions[w.a.FUSION_GENES_TABLE])}if(!r.isEmpty(this.cnaProfiles.result)){var i=Object(p.db)(this.cnaProfiles.result.map(function(e){return e.molecularProfileId})),a=r.find(this.chartMetaSet,function(e){return e.uniqueKey===i});this.chartsType.set(i,w.a.CNA_GENES_TABLE),this.chartsDimension.set(i,w.d.layout.dimensions[w.a.CNA_GENES_TABLE]),a&&0!==a.priority&&this.changeChartVisibility(a.uniqueKey,!0)}this.initializeClinicalDataCountCharts(),this.initializeClinicalDataBinCountCharts(),this._defualtChartsDimension=l.observable.map(this.chartsDimension.toJS()),this._defaultChartsType=l.observable.map(this.chartsType.toJS()),this._defaultVisibleChartIds=this.visibleAttributes.map(function(e){return e.uniqueKey}),this._defaultClinicalDataBinFilterSet=l.observable.map(Object(l.toJS)(this._clinicalDataBinFilterSet))}},{key:"initializeChartStatsByClinicalAttributes",value:function(){var e=this,t=!1,n=!1,o=!1,i=!1,a=!1,s=!1;this.clinicalAttributes.result.forEach(function(r){var l=Object(p.cb)(r);"0"!==r.priority&&("OS_STATUS"===r.clinicalAttributeId?t=!0:"OS_MONTHS"===r.clinicalAttributeId?n=!0:"DFS_STATUS"===r.clinicalAttributeId?o=!0:"DFS_MONTHS"===r.clinicalAttributeId?i=!0:H===r.clinicalAttributeId?a=!0:U===r.clinicalAttributeId&&(s=!0)),r.datatype===p.c.NUMBER?(e.chartsType.set(l,w.a.BAR_CHART),e.chartsDimension.set(l,w.d.layout.dimensions[w.a.BAR_CHART])):(e.chartsType.set(l,w.a.PIE_CHART),e.chartsDimension.set(l,w.d.layout.dimensions[w.a.PIE_CHART]))});var l=r.uniq(this.queriedPhysicalStudies.result.map(function(e){return e.cancerTypeId}));this.chartsType.set(p.h.OVERALL_SURVIVAL,w.a.SURVIVAL),this.chartsDimension.set(p.h.OVERALL_SURVIVAL,w.d.layout.dimensions[w.a.SURVIVAL]),t&&n&&0!==Object(p.I)(p.h.OVERALL_SURVIVAL)&&1===l.length&&"mixed"!==l[0]&&this.changeChartVisibility(p.h.OVERALL_SURVIVAL,!0),this.chartsType.set(p.h.DISEASE_FREE_SURVIVAL,w.a.SURVIVAL),this.chartsDimension.set(p.h.DISEASE_FREE_SURVIVAL,w.d.layout.dimensions[w.a.SURVIVAL]),o&&i&&0!==Object(p.I)(p.h.DISEASE_FREE_SURVIVAL)&&1===l.length&&"mixed"!==l[0]&&this.changeChartVisibility(p.h.DISEASE_FREE_SURVIVAL,!0),this.chartsType.set(p.h.MUTATION_COUNT_CNA_FRACTION,w.a.SCATTER),this.chartsDimension.set(p.h.MUTATION_COUNT_CNA_FRACTION,w.d.layout.dimensions[w.a.SCATTER]),a&&s&&0!==Object(p.I)(p.h.MUTATION_COUNT_CNA_FRACTION)&&this.changeChartVisibility(p.h.MUTATION_COUNT_CNA_FRACTION,!0),r.each(this.specialChartKeysInCustomCharts,function(t){e.showAsPieChart(t,t===p.h.CANCER_STUDIES?e.cancerStudiesData.result.length:2)})}},{key:"getTableDimensionByNumberOfRecords",value:function(e){return e<=w.d.thresholds.rowsInTableForOneGrid?{w:2,h:1}:{w:2,h:2}}},{key:"changeChartType",value:function(e,t){var n;t===w.a.TABLE?(r.includes(this.specialChartKeysInCustomCharts,e.uniqueKey)?e.uniqueKey===p.h.CANCER_STUDIES&&(n=this.cancerStudiesData):n=this.isCustomChart(e.uniqueKey)?this.getCustomChartDataCount(e):this.getClinicalDataCount(e),void 0!==n&&this.chartsDimension.set(e.uniqueKey,this.getTableDimensionByNumberOfRecords(n.result.length)),this.chartsType.set(e.uniqueKey,w.a.TABLE)):(this.chartsDimension.set(e.uniqueKey,w.d.layout.dimensions[t]),this.chartsType.set(e.uniqueKey,t)),this.currentFocusedChartByUser=r.clone(e),this.currentFocusedChartByUserDimension=this.chartsDimension.get(e.uniqueKey),this.useCurrentGridLayout=!0}},{key:"initializeClinicalDataCountCharts",value:function(){var e=this;r.each(this.initialVisibleAttributesClinicalDataCountData.result,function(t){e.showAsPieChart(t.attributeId,t.counts.length)})}},{key:"initializeClinicalDataBinCountCharts",value:function(){var e=this;r.each(r.groupBy(this.initialVisibleAttributesClinicalDataBinCountData.result,"attributeId"),function(t,n){Object(p.mb)(e.initialFilters,t.length,e.samples.result.length)&&e._chartVisibility.set(n,!0),e.chartsType.set(n,w.a.BAR_CHART),e.chartsDimension.set(n,w.d.layout.dimensions[w.a.BAR_CHART])})}},{key:"getPieChartDataDownload",value:function(e,t){return V(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.isCustomChart(e.uniqueKey),!t||"summary"!==t){n.next=9;break}if(!r){n.next=6;break}return n.abrupt("return",this.getClinicalDataCountSummary(e,this.getCustomChartDataCount(e).result));case 6:return n.abrupt("return",this.getClinicalDataCountSummary(e,this.getClinicalDataCount(e).result));case 7:n.next=14;break;case 9:if(!r){n.next=13;break}return n.abrupt("return",this.getCustomChartDownloadData(e));case 13:return n.abrupt("return",this.getClinicalData(e));case 14:case"end":return n.stop()}},n,this)}))}},{key:"getClinicalDataCountSummary",value:function(e,t){var n=e.patientAttribute?"patients":"samples",r=[["Category","Number of ".concat(n),"Percentage of ".concat(n)].join("\t")];return(r=r.concat(t.map(function(e){return[e.value,e.count,e.freq].join("\t")}))).join("\n")}},{key:"getClinicalData",value:function(e){return V(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.clinicalAttribute||!this.samples.result){t.next=12;break}return t.next=3,a.a.fetchClinicalDataUsingPOST({clinicalDataType:e.clinicalAttribute.patientAttribute?p.b.PATIENT:p.b.SAMPLE,clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttribute.clinicalAttributeId],identifiers:this.selectedSamples.result.map(function(t){return{entityId:e.clinicalAttribute.patientAttribute?t.patientId:t.sampleId,studyId:t.studyId}})}});case 3:return n=t.sent,r=["Study ID","Patient ID"],e.clinicalAttribute.patientAttribute||r.push("Sample ID"),r.push(e.clinicalAttribute.displayName),o=(o=[r.join("\t")]).concat(n.map(function(t){var n=[t.studyId||p.d.NA,t.patientId||p.d.NA];return e.clinicalAttribute.patientAttribute||n.push(t.sampleId||p.d.NA),n.push(t.value||p.d.NA),n.join("\t")})),t.abrupt("return",o.join("\n"));case 12:return t.abrupt("return","");case 13:case"end":return t.stop()}},t,this)}))}},{key:"getCustomChartDownloadData",value:function(e){var t=this;return new Promise(function(n){if(e&&e.uniqueKey&&t._customChartsSelectedCases.has(e.uniqueKey)){var o=!0,i=["Study ID","Patient ID"];e.patientAttribute||(o=!1,i.push("Sample ID")),i.push(e.displayName);var a=[i.join("\t")];n((a=o?a.concat(t.selectedPatients.map(function(n){var o=r.find(t._customChartsSelectedCases.get(e.uniqueKey),function(e){return e.studyId===n.studyId&&n.patientId===e.patientId});return[n.studyId||p.d.NA,n.patientId||p.d.NA,void 0===o?"NA":o.value].join("\t")})):a.concat(t.selectedSamples.result.map(function(n){var o=r.find(t._customChartsSelectedCases.get(e.uniqueKey),function(e){return e.studyId===n.studyId&&n.sampleId===e.sampleId});return[n.studyId||p.d.NA,n.patientId||p.d.NA,n.sampleId||p.d.NA,void 0===o?"NA":o.value].join("\t")}))).join("\n"))}else n("")})}},{key:"getScatterDownloadData",value:function(){var e=this;return new Promise(function(t){Object(_.a)(e.mutationCountVsFGAData,function(n){t(n?Object(p.v)(n,e.sampleToAnalysisGroup.result,void 0,e.analysisGroupsSettings.groups):"")})})}},{key:"getSurvivalDownloadData",value:function(e){return V(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i,a,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=r.find(this.survivalPlots,function(t){return t.id===e.uniqueKey}))||!this.survivalData.result){t.next=10;break}return o=[],i=n.associatedAttrs,o.push(["Study ID","Patient ID"].concat(j(i)).join("\t")),a=r.reduce(this.selectedPatients,function(e,t){return e[t.uniquePatientKey]=t,e},{}),this.selectedPatientKeys.result.forEach(function(e){var t=s.survivalData.result[e],n=[];if(t&&t.length>0){n.push(t[0].studyId||p.d.NA),n.push(t[0].patientId||p.d.NA);var l=r.keyBy(t,"clinicalAttributeId");r.each(i,function(e){n.push(l[e]&&l[e].value||p.d.NA)})}else{var c=a[e];c&&(n.push(c.studyId||p.d.NA),n.push(c.patientId||p.d.NA),r.each(i,function(e){n.push(p.d.NA)}))}o.push(n.join("\t"))}),t.abrupt("return",o.join("\n"));case 10:return t.abrupt("return","");case 11:case"end":return t.stop()}},t,this)}))}},{key:"getMutatedGenesDownloadData",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutatedGeneTableRowData.result){e.next=8;break}return t=["Gene","MutSig(Q-value)","# Mut","#","Freq"],this.oncokbCancerGeneFilterEnabled&&t.push("Is Cancer Gene (source: OncoKB)"),n=[t.join("\t")],r.each(this.mutatedGeneTableRowData.result,function(e){var t=[e.hugoGeneSymbol,void 0===e.qValue?"":Object(p.W)(e.qValue),e.totalCount,e.numberOfAlteredCases,Object(p.O)(e.numberOfAlteredCases/e.numberOfProfiledCases*100)];o.oncokbCancerGeneFilterEnabled&&t.push(o.oncokbCancerGeneFilterEnabled?e.isCancerGene?"Yes":"No":"NA"),n.push(t.join("\t"))}),e.abrupt("return",n.join("\n"));case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e,this)}))}},{key:"getFusionGenesDownloadData",value:function(){var e=this;if(this.fusionGeneTableRowData.result){var t=["Gene","# Fusion","#","Freq"];this.oncokbCancerGeneFilterEnabled&&t.push("Is Cancer Gene (source: OncoKB)");var n=[t.join("\t")];return r.each(this.fusionGeneTableRowData.result,function(t){var r=[t.hugoGeneSymbol,t.totalCount,t.numberOfAlteredCases,Object(p.O)(t.numberOfAlteredCases/t.numberOfProfiledCases*100)];e.oncokbCancerGeneFilterEnabled&&r.push(e.oncokbCancerGeneFilterEnabled?t.isCancerGene?"Yes":"No":"NA"),n.push(r.join("\t"))}),n.join("\n")}return""}},{key:"getGenesCNADownloadData",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cnaGeneTableRowData.result){e.next=8;break}return t=["Gene","Gistic(Q-value)","Cytoband","CNA","#","Freq"],this.oncokbCancerGeneFilterEnabled&&t.push("Is Cancer Gene (source: OncoKB)"),n=[t.join("\t")],r.each(this.cnaGeneTableRowData.result,function(e){var t=[e.hugoGeneSymbol,void 0===e.qValue?"":Object(p.W)(e.qValue),e.cytoband,Object(p.x)(e.alteration),e.numberOfAlteredCases,Object(p.O)(e.numberOfAlteredCases/e.numberOfProfiledCases*100)];o.oncokbCancerGeneFilterEnabled&&t.push(o.oncokbCancerGeneFilterEnabled?e.isCancerGene?"Yes":"No":"NA"),n.push(t.join("\t"))}),e.abrupt("return",n.join("\n"));case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e,this)}))}},{key:"getDownloadDataPromise",value:function(){return V(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.C)(this.selectedSamples.result);case 2:return t=e.sent,n=r.reduce(this.clinicalAttributes.result,function(e,t){return e[Object(p.cb)(t)]=t.displayName,e},{studyId:"Study ID",patientId:"Patient ID",sampleId:"Sample ID"}),o=r.reduce(this.selectedSamples.result,function(e,o){var i=Object.assign({studyId:o.studyId,patientId:o.patientId,sampleId:o.sampleId},t[o.uniqueSampleKey]||{});return e.push(r.map(Object.keys(n),function(e){return i[e]||p.d.NA})),e},[r.values(n)]),e.abrupt("return",o.map(function(e){return e.join("\t")}).join("\n"));case 6:case"end":return e.stop()}},e,this)}))}},{key:"onSubmitQuery",value:function(){var e=Object(I.cb)(this.unknownQueriedIds.result),t={cancer_study_list:this.studyIds.filter(function(t){return!e[t]}).join(","),tab_index:"tab_visualize"};if(0===this.filteredVirtualStudies.result.length&&1===this.studyIds.length)r.isEmpty(this.mutationProfiles.result)||(t.genetic_profile_ids_PROFILE_MUTATION_EXTENDED=this.mutationProfiles.result[0].molecularProfileId),r.isEmpty(this.cnaProfiles.result)||(t.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION=this.cnaProfiles.result[0].molecularProfileId);else{var n="0",o={mutation:!r.isEmpty(this.mutationProfiles.result),cna:!r.isEmpty(this.cnaProfiles)},i=o.mutation,a=o.cna;i&&a?n="0":i?n="1":a&&(n="2"),t.data_priority=n}this.chartsAreFiltered?(t.case_set_id="-1",t.case_ids=r.map(this.selectedSamples.result,function(e){return e.studyId+":"+e.sampleId}).join("+")):0===this.filteredVirtualStudies.result.length&&1===this.studyIds.length?t.case_set_id=this.studyIds[0]+"_all":t.case_set_id="all";var s="/";r.isEmpty(this.geneQueries)||(t.Action="Submit",t.gene_list=this.geneQueries.map(function(e){return Object(f.j)(e)}).join("\n"),s="/results"),Object(p.ob)(s,t,"_blank")}},{key:"setCustomChartFilters",value:function(e,t){if(t.length>0){switch(e){case p.h.CANCER_STUDIES:var n=Object(p.K)(this.samples.result.filter(function(e){return t.includes(e.studyId)}));this._chartSampleIdentifiersFilterSet.set(e,n);break;case p.h.WITH_MUTATION_DATA:switch(t.length){case 1:this._withMutationDataFilter=t[0]===p.d.YES;break;case 2:this._withMutationDataFilter=void 0}break;case p.h.WITH_CNA_DATA:switch(t.length){case 1:this._withCNADataFilter=t[0]===p.d.YES;break;case 2:this._withCNADataFilter=void 0}break;case p.h.WITH_FUSION_DATA:switch(t.length){case 1:this._withFusionDataFilter=t[0]===p.d.YES;break;case 2:this._withFusionDataFilter=void 0}break;default:var o=r.reduce(this._customChartsSelectedCases.get(e),function(e,n){return t.includes(n.value)&&e.push({studyId:n.studyId,sampleId:n.sampleId}),e},[]);this._chartSampleIdentifiersFilterSet.set(e,o)}this.customChartFilterSet.set(e,t)}else p.h.WITH_MUTATION_DATA===e&&(this._withMutationDataFilter=void 0),p.h.WITH_CNA_DATA===e&&(this._withCNADataFilter=void 0),p.h.WITH_FUSION_DATA===e&&(this._withFusionDataFilter=void 0),this._chartSampleIdentifiersFilterSet.delete(e),this.customChartFilterSet.delete(e)}},{key:"showAsPieChart",value:function(e,t){Object(p.mb)(this.initialFilters,t,this.samples.result.length)&&(this.changeChartVisibility(e,!0),t>w.d.thresholds.pieToTable||r.includes(w.d.tableAttrs,e)?(this.chartsType.set(e,w.a.TABLE),this.chartsDimension.set(e,this.getTableDimensionByNumberOfRecords(t))):(this.chartsType.set(e,w.a.PIE_CHART),this.chartsDimension.set(e,w.d.layout.dimensions[w.a.PIE_CHART])))}},{key:"getCustomChartDataCount",value:function(e){var t=this,n=e.uniqueKey;if(!this.customChartsPromises.hasOwnProperty(n))switch(n){case p.h.WITH_MUTATION_DATA:this.customChartsPromises[n]=this.withMutationDataChartCounts;break;case p.h.WITH_CNA_DATA:this.customChartsPromises[n]=this.withCNADataChartCounts;break;case p.h.WITH_FUSION_DATA:this.customChartsPromises[n]=this.withFusionDataChartCounts;break;default:this.customChartsPromises[n]=Object(I.W)({await:function(){return r.includes([p.h.WITH_MUTATION_DATA,p.h.WITH_CNA_DATA,p.h.WITH_FUSION_DATA],n)?[t.molecularProfileSampleCounts,t.selectedSamples]:[t.selectedSamples]},invoke:function(){return V(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},o=[],!this._chartSampleIdentifiersFilterSet.has(n)){e.next=8;break}return e.next=5,Object(p.Y)(n,this.filters,this._chartSampleIdentifiersFilterSet.toJS(),this.queriedSampleIdentifiers.result,this.queriedPhysicalStudyIds.result);case 5:o=e.sent,e.next=9;break;case 8:o=this.selectedSamples.result;case 9:return t=r.reduce(o,function(e,t){var o=r.filter(i._customChartsSelectedCases.get(n),function(e){return e.studyId===t.studyId&&e.sampleId===t.sampleId}),a=p.d.NA;return(o.length>=1?o.map(function(e){return e.value?e.value:a}):[a]).forEach(function(t){e[t]?e[t].count=e[t].count+1:e[t]={value:t,count:1}}),e},t),e.abrupt("return",Promise.resolve(Object(p.E)(r.values(t))));case 11:case"end":return e.stop()}},e,this)}))},default:[]})}return this.customChartsPromises[n]}},{key:"isLoggedIn",get:function(){return this.appStore.isLoggedIn}},{key:"isSavingUserPreferencePossible",get:function(){return this.isLoggedIn&&this.sessionServiceIsEnabled}},{key:"comparisonConfirmationModal",get:function(){return this._comparisonConfirmationModal}},{key:"initialFilters",get:function(){var e={};r.isEmpty(this.queriedSampleIdentifiers.result)?e.studyIds=this.queriedPhysicalStudyIds.result:e.sampleIdentifiers=this.queriedSampleIdentifiers.result;var t=Object.assign({},Object(l.toJS)(this.initialFiltersQuery),e);return r.isEmpty(t.sampleIdentifiers)||delete t.studyIds,t}},{key:"isInitialFilterState",get:function(){return r.isEqual(Object(l.toJS)(this.initialFilters),Object(l.toJS)(this.filters))}},{key:"containerWidth",get:function(){return this.columns*w.d.layout.grid.w+(this.columns+1)*w.d.layout.gridMargin.x}},{key:"columns",get:function(){return Math.floor((y.a.size.width-40)/(w.d.layout.grid.w+w.d.layout.gridMargin.x))}},{key:"studyViewPageLayoutProps",get:function(){return{cols:this.columns,grid:w.d.layout.grid,gridMargin:w.d.layout.gridMargin,layout:this.currentGridLayout,dimensions:w.d.layout.dimensions}}},{key:"filterMutatedGenesTableByCancerGenes",get:function(){return this.oncokbCancerGeneFilterEnabled&&this._filterMutatedGenesTableByCancerGenes}},{key:"filterFusionGenesTableByCancerGenes",get:function(){return this.oncokbCancerGeneFilterEnabled&&this._filterFusionGenesTableByCancerGenes}},{key:"filterCNAGenesTableByCancerGenes",get:function(){return this.oncokbCancerGeneFilterEnabled&&this._filterCNAGenesTableByCancerGenes}},{key:"filterComparisonGroups",get:function(){return this._filterComparisonGroups}},{key:"selectedGenes",get:function(){return this.geneQueries.map(function(e){return e.gene})}},{key:"analysisGroupsSettings",get:function(){return{groups:[{value:q,color:w.d.colors.theme.unselectedGroup,name:this.chartsAreFiltered?"Selected patients":"All patients"}]}}},{key:"clinicalDataFilters",get:function(){return this._clinicalDataFilterSet.values()}},{key:"geneFilters",get:function(){return r.map(this._geneFilterSet.entries(),function(e){var t=R(e,2),n=t[0],r=t[1];return{molecularProfileIds:Object(p.S)(n),geneQueries:r}})}},{key:"filters",get:function(){var e={},t=this.clinicalDataFilters;t.length>0&&(e.clinicalDataFilters=t),this.geneFilters.length>0&&(e.geneFilters=this.geneFilters);var n=this._chartSampleIdentifiersFilterSet.values(),o=r.intersectionWith.apply(r,j(n).concat([function(e,t){return e.sampleId===t.sampleId&&e.studyId===t.studyId}]));if(o&&o.length>0?e.sampleIdentifiers=o:r.isEmpty(this.queriedSampleIdentifiers.result)?e.studyIds=this.queriedPhysicalStudyIds.result:e.sampleIdentifiers=this.queriedSampleIdentifiers.result,void 0!==this._withMutationDataFilter){var i=this.customChartFilterSet.get(p.h.WITH_MUTATION_DATA);void 0!==i&&1===i.length&&(e.withMutationData=this._withMutationDataFilter)}if(void 0!==this._withCNADataFilter){var a=this.customChartFilterSet.get(p.h.WITH_CNA_DATA);void 0!==a&&1===a.length&&(e.withCNAData=this._withCNADataFilter)}if(void 0!==this._withFusionDataFilter){var s=this.customChartFilterSet.get(p.h.WITH_FUSION_DATA);void 0!==s&&1===s.length&&(e.withFusionData=this._withFusionDataFilter)}return e}},{key:"userSelections",get:function(){var e=this._chartSampleIdentifiersFilterSet.toJS();return Object.assign({},this.filters,{sampleIdentifiersSet:e})}},{key:"unfilteredAttrsForNonNumerical",get:function(){var e=this;return this.visibleAttributes.filter(function(t){if(void 0!==t.clinicalAttribute&&t.clinicalAttribute.datatype!==p.c.NUMBER){var n=Object(p.cb)(t.clinicalAttribute);return!e._clinicalDataFilterSet.has(n)}return!1}).map(function(e){return{attributeId:e.clinicalAttribute.clinicalAttributeId}})}},{key:"newlyAddedUnfilteredAttrsForNonNumerical",get:function(){var e=this;return this.clinicalAttributes.result.filter(function(t){if(t.datatype!==p.c.NUMBER){var n=Object(p.cb)(t);return!!e.newlyAddedCharts.includes(n)}return!1}).map(function(e){return{attributeId:e.clinicalAttributeId}})}},{key:"newlyAddedUnfilteredAttrsForNumerical",get:function(){var e=this;return this.clinicalAttributes.result.filter(function(t){if(t.datatype===p.c.NUMBER){var n=Object(p.cb)(t);return!!e.newlyAddedCharts.includes(n)}return!1}).map(function(t){return e._clinicalDataBinFilterSet.get(Object(p.cb)(t))})}},{key:"unfilteredAttrsForNumerical",get:function(){var e=this;return this.visibleAttributes.filter(function(t){if(void 0!==t.clinicalAttribute&&t.clinicalAttribute.datatype===p.c.NUMBER){var n=Object(p.cb)(t.clinicalAttribute);return!e._clinicalDataFilterSet.has(n)}return!1}).map(function(t){return e._clinicalDataBinFilterSet.get(Object(p.cb)(t.clinicalAttribute))})}},{key:"showOriginStudiesInSummaryDescription",get:function(){return Object(p.nb)(this.filteredPhysicalStudies.result,this.filteredVirtualStudies.result)}},{key:"oncokbCancerGeneFilterEnabled",get:function(){return!!o.b.serverConfig.show_oncokb&&(!this.oncokbCancerGenes.isError&&!this.oncokbGenes.isError)}},{key:"isSingleVirtualStudyPageWithoutFilter",get:function(){return this.filteredPhysicalStudies.result.length+this.filteredVirtualStudies.result.length===1&&this.filteredVirtualStudies.result.length>0&&!this.chartsAreFiltered}},{key:"analysisGroupsPossible",get:function(){var e=[p.h.DISEASE_FREE_SURVIVAL,p.h.OVERALL_SURVIVAL],t=!1,n=!0,r=!1,o=void 0;try{for(var i,a=this.visibleAttributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(e.includes(s.uniqueKey)){t=!0;break}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"chartMetaSet",get:function(){var e,t=r.reduce(this._customCharts.values(),function(e,t){return e[t.uniqueKey]=Object(l.toJS)(t),e},{});if(r.reduce(this.clinicalAttributes.result,function(e,t){var n=Object(p.cb)(t);return e[n]={displayName:t.displayName,uniqueKey:n,dataType:Object(p.z)(n),patientAttribute:t.patientAttribute,description:t.description,priority:Object(p.V)(t),renderWhenDataChange:!1,clinicalAttribute:t},e},t),r.reduce(this.survivalPlots,function(e,t){return e[t.id]={uniqueKey:t.id,dataType:Object(p.z)(t.id),patientAttribute:!0,displayName:t.title,priority:Object(p.I)(t.id),renderWhenDataChange:!1,description:""},e},t),!r.isEmpty(this.mutationProfiles.result)){var n=Object(p.db)(this.mutationProfiles.result.map(function(e){return e.molecularProfileId}));t[n]={uniqueKey:n,dataType:Object(p.z)(p.h.MUTATED_GENES_TABLE),patientAttribute:!1,displayName:"Mutated Genes",priority:Object(p.I)(p.h.MUTATED_GENES_TABLE),renderWhenDataChange:!1,description:""}}if(!r.isEmpty(this.structuralVariantProfiles.result)){var o=Object(p.db)(this.structuralVariantProfiles.result.map(function(e){return e.molecularProfileId}));t[o]={uniqueKey:o,dataType:Object(p.z)(p.h.FUSION_GENES_TABLE),patientAttribute:!1,displayName:"Fusion Genes",priority:Object(p.I)(p.h.FUSION_GENES_TABLE),renderWhenDataChange:!0,description:""}}if(!r.isEmpty(this.cnaProfiles.result)){var i=Object(p.db)(this.cnaProfiles.result.map(function(e){return e.molecularProfileId}));t[i]={uniqueKey:i,dataType:Object(p.z)(p.h.CNA_GENES_TABLE),patientAttribute:!1,displayName:"CNA Genes",renderWhenDataChange:!1,priority:Object(p.I)(p.h.CNA_GENES_TABLE),description:""}}var a=r.reduce(this.clinicalAttributes.result,function(e,t){return H===t.clinicalAttributeId&&(e[H]=!0),U===t.clinicalAttributeId&&(e[U]=!0),e},(N(e={},H,!1),N(e,U,!1),e));return a[H]&&a[U]&&(t[p.h.MUTATION_COUNT_CNA_FRACTION]={dataType:Object(p.z)(p.h.MUTATION_COUNT_CNA_FRACTION),patientAttribute:!1,uniqueKey:p.h.MUTATION_COUNT_CNA_FRACTION,displayName:"Mutation Count vs Fraction of Genome Altered",priority:Object(p.I)(p.h.MUTATION_COUNT_CNA_FRACTION),renderWhenDataChange:!1,description:""}),t}},{key:"chartMetaSetWithChartType",get:function(){var e=this;return r.reduce(this.chartMetaSet,function(t,n){return t[n.uniqueKey]=Object.assign({},n,{chartType:e.chartsType.get(n.uniqueKey)}),t},{})}},{key:"visibleAttributes",get:function(){var e=this;return r.reduce(this._chartVisibility.entries(),function(t,n){var r=R(n,2),o=r[0];if(r[1]&&e.chartMetaSet[o]){var i=e.chartMetaSet[o];t.push(i)}return t},[])}},{key:"showSettingRestoreMsg",get:function(){return this.isSavingUserPreferencePossible&&!this.hideRestoreSettingsMsg&&this.fetchUserSettings.isComplete&&!r.isEqual(this.previousSettings,r.keyBy(this.fetchUserSettings.result,function(e){return e.id}))}},{key:"isSavingUserSettingsPossible",get:function(){return this.isSavingUserPreferencePossible&&this.fetchUserSettings.isComplete&&(!this.showSettingRestoreMsg||!r.isEqual(this.currentChartSettingsMap,r.keyBy(this.fetchUserSettings.result,function(e){return e.id})))}},{key:"loadingInitialDataForSummaryTab",get:function(){var e=this.defaultVisibleAttributes.isPending||this.initialVisibleAttributesClinicalDataBinCountData.isPending||this.initialVisibleAttributesClinicalDataCountData.isPending||this.mutationProfiles.isPending||this.cnaProfiles.isPending||this.structuralVariantProfiles.isPending;return this._loadUserSettingsInitially&&(e=e||this.fetchUserSettings.isPending),e}},{key:"currentChartSettingsMap",get:function(){var e={};return this.isSavingUserPreferencePossible&&(e=Object(p.A)(this.visibleAttributes,this.columns,this.chartsDimension.toJS(),this.chartsType.toJS(),this._customChartMap.toJS(),this._clinicalDataBinFilterSet.toJS(),this._filterMutatedGenesTableByCancerGenes,this._filterFusionGenesTableByCancerGenes,this._filterCNAGenesTableByCancerGenes,this.currentGridLayout)),e}},{key:"showResetToDefaultButton",get:function(){return!r.isEqual(this.currentChartSettingsMap,this.defaultChartSettingsMap)}},{key:"defaultChartSettingsMap",get:function(){var e=this;return Object(p.A)(this._defaultVisibleChartIds.map(function(t){return e.chartMetaSet[t]}),this.columns,this._defualtChartsDimension.toJS(),this._defaultChartsType.toJS(),{},this._defaultClinicalDataBinFilterSet.toJS())}},{key:"specialChartKeysInCustomCharts",get:function(){return this.queriedPhysicalStudyIds.result.length>1?[p.h.CANCER_STUDIES]:[]}},{key:"chartsAreFiltered",get:function(){return Object(p.hb)(this.userSelections)}},{key:"selectedSamplesMap",get:function(){return r.keyBy(this.selectedSamples.result,function(e){return e.uniqueSampleKey})}},{key:"selectedPatients",get:function(){return r.values(r.reduce(this.selectedSamples.result,function(e,t){return e[t.uniquePatientKey]={cancerStudy:{},patientId:t.patientId,uniquePatientKey:t.uniquePatientKey,studyId:t.studyId,uniqueSampleKey:t.uniqueSampleKey},e},{}))}},{key:"survivalPlots",get:function(){var e=!1,t=!1,n=!1,r=!1,o=[];return this.clinicalAttributes.result.forEach(function(o){"OS_STATUS"===o.clinicalAttributeId?e=!0:"OS_MONTHS"===o.clinicalAttributeId?t=!0:"DFS_STATUS"===o.clinicalAttributeId?n=!0:"DFS_MONTHS"===o.clinicalAttributeId&&(r=!0)}),e&&t&&o.push({id:p.h.OVERALL_SURVIVAL,title:"Overall Survival",associatedAttrs:["OS_STATUS","OS_MONTHS"],filter:["DECEASED"],survivalData:[]}),n&&r&&o.push({id:p.h.DISEASE_FREE_SURVIVAL,title:"Disease Free Survival",associatedAttrs:["DFS_STATUS","DFS_MONTHS"],filter:["Recurred/Progressed","Recurred"],survivalData:[]}),o}},{key:"clinicalDataDownloadFilename",get:function(){return"".concat(this.downloadFilenamePrefix,"clinical_data.tsv")}},{key:"downloadFilenamePrefix",get:function(){return Object(d.a)(r.values(this.physicalStudiesSet.result))}}])&&F(t.prototype,n),h&&F(t,h),e}();z([l.computed],$.prototype,"isLoggedIn",null),z([l.computed],$.prototype,"isSavingUserPreferencePossible",null),z([l.observable],$.prototype,"hideRestoreSettingsMsg",void 0),z([l.observable.ref],$.prototype,"_comparisonConfirmationModal",void 0),z([h.a,l.action],$.prototype,"setComparisonConfirmationModal",null),z([l.action],$.prototype,"setComparisonGroupSelected",null),z([l.action],$.prototype,"toggleComparisonGroupSelected",null),z([l.action],$.prototype,"toggleComparisonGroupMarkedForDeletion",null),z([l.action],$.prototype,"markSelectedGroupsForDeletion",null),z([l.action],$.prototype,"deleteMarkedComparisonGroups",null),z([l.observable],$.prototype,"_comparisonGroupsChangeCount",void 0),z([l.action],$.prototype,"notifyComparisonGroupsChange",null),z([h.a],$.prototype,"openComparisonPage",null),z([l.observable],$.prototype,"initialFiltersQuery",void 0),z([l.observable],$.prototype,"studyIds",void 0),z([l.observable],$.prototype,"sampleIdentifiers",void 0),z([l.observable],$.prototype,"_clinicalDataBinFilterSet",void 0),z([l.observable.ref],$.prototype,"_geneFilterSet",void 0),z([l.observable],$.prototype,"_withMutationDataFilter",void 0),z([l.observable],$.prototype,"_withCNADataFilter",void 0),z([l.observable],$.prototype,"_withFusionDataFilter",void 0),z([l.observable],$.prototype,"_chartVisibility",void 0),z([l.observable],$.prototype,"geneQueryStr",void 0),z([l.observable],$.prototype,"geneQueries",void 0),z([l.observable],$.prototype,"chartsDimension",void 0),z([l.observable],$.prototype,"chartsType",void 0),z([l.observable],$.prototype,"currentTab",void 0),z([l.action],$.prototype,"updateCurrentTab",null),z([l.observable],$.prototype,"pageStatusMessages",void 0),z([l.action],$.prototype,"updateStoreByFilters",null),z([l.action],$.prototype,"updateStoreFromURL",null),z([l.computed],$.prototype,"initialFilters",null),z([l.computed],$.prototype,"isInitialFilterState",null),z([l.computed],$.prototype,"containerWidth",null),z([l.computed],$.prototype,"columns",null),z([h.a,l.action],$.prototype,"updateLayout",null),z([l.computed],$.prototype,"studyViewPageLayoutProps",null),z([h.a,l.action],$.prototype,"updateCurrentGridLayout",null),z([l.observable.ref],$.prototype,"currentGridLayout",void 0),z([l.observable],$.prototype,"previousSettings",void 0),z([l.observable],$.prototype,"numberOfSelectedSamplesInCustomSelection",void 0),z([l.observable],$.prototype,"_filterComparisonGroups",void 0),z([l.observable],$.prototype,"_filterMutatedGenesTableByCancerGenes",void 0),z([l.observable],$.prototype,"_filterFusionGenesTableByCancerGenes",void 0),z([l.observable],$.prototype,"_filterCNAGenesTableByCancerGenes",void 0),z([h.a,l.action],$.prototype,"updateMutatedGenesTableByCancerGenesFilter",null),z([h.a,l.action],$.prototype,"updateFusionGenesTableByCancerGenesFilter",null),z([h.a,l.action],$.prototype,"updateCNAGenesTableByCancerGenesFilter",null),z([l.computed],$.prototype,"filterMutatedGenesTableByCancerGenes",null),z([l.computed],$.prototype,"filterFusionGenesTableByCancerGenes",null),z([l.computed],$.prototype,"filterCNAGenesTableByCancerGenes",null),z([l.action],$.prototype,"updateComparisonGroupsFilter",null),z([l.observable],$.prototype,"_customChartMap",void 0),z([l.observable],$.prototype,"_customCharts",void 0),z([l.observable],$.prototype,"_customChartsSelectedCases",void 0),z([h.a,l.action],$.prototype,"onCheckGene",null),z([l.computed],$.prototype,"selectedGenes",null),z([h.a,l.action],$.prototype,"updateSelectedGenes",null),z([h.a,l.action],$.prototype,"clearAllFilters",null),z([h.a,l.action],$.prototype,"toggleWithMutationDataFilter",null),z([h.a,l.action],$.prototype,"toggleWithCNADataFilter",null),z([h.a,l.action],$.prototype,"toggleWithFusionDataFilter",null),z([l.computed],$.prototype,"analysisGroupsSettings",null),z([l.action],$.prototype,"updateClinicalDataIntervalFilters",null),z([h.a,l.action],$.prototype,"updateClinicalDataFilterByValues",null),z([h.a,l.action],$.prototype,"updateScatterPlotFilterByValues",null),z([h.a,l.action],$.prototype,"addGeneFilters",null),z([h.a,l.action],$.prototype,"removeGeneFilter",null),z([h.a,l.action],$.prototype,"resetGeneFilter",null),z([h.a,l.action],$.prototype,"updateChartSampleIdentifierFilter",null),z([l.action],$.prototype,"changeChartVisibility",null),z([l.action],$.prototype,"changeChartsVisibility",null),z([l.action],$.prototype,"resetFilterAndChangeChartVisibility",null),z([h.a,l.action],$.prototype,"removeComparisonGroupSelectionFilter",null),z([h.a,l.action],$.prototype,"removeCustomSelectFilter",null),z([l.action],$.prototype,"toggleLogScale",null),z([h.a,l.action],$.prototype,"updateCustomBins",null),z([l.action],$.prototype,"addCharts",null),z([l.action],$.prototype,"updateChartsVisibility",null),z([l.computed],$.prototype,"clinicalDataFilters",null),z([l.computed],$.prototype,"geneFilters",null),z([l.computed],$.prototype,"filters",null),z([l.computed],$.prototype,"userSelections",null),z([l.computed],$.prototype,"unfilteredAttrsForNonNumerical",null),z([l.computed],$.prototype,"newlyAddedUnfilteredAttrsForNonNumerical",null),z([l.computed],$.prototype,"newlyAddedUnfilteredAttrsForNumerical",null),z([l.computed],$.prototype,"unfilteredAttrsForNumerical",null),z([h.a,l.action],$.prototype,"hideChart",null),z([l.computed],$.prototype,"showOriginStudiesInSummaryDescription",null),z([l.computed],$.prototype,"oncokbCancerGeneFilterEnabled",null),z([l.computed],$.prototype,"isSingleVirtualStudyPageWithoutFilter",null),z([l.computed],$.prototype,"analysisGroupsPossible",null),z([h.a],$.prototype,"isChartNameValid",null),z([h.a],$.prototype,"getDefaultCustomChartName",null),z([h.a,l.action],$.prototype,"addCustomChart",null),z([h.a,l.action],$.prototype,"updateCustomSelect",null),z([l.computed],$.prototype,"chartMetaSet",null),z([l.computed],$.prototype,"chartMetaSetWithChartType",null),z([l.computed],$.prototype,"visibleAttributes",null),z([l.computed],$.prototype,"showSettingRestoreMsg",null),z([l.computed],$.prototype,"isSavingUserSettingsPossible",null),z([l.computed],$.prototype,"loadingInitialDataForSummaryTab",null),z([l.computed],$.prototype,"currentChartSettingsMap",null),z([h.a,l.action],$.prototype,"clearPageSettings",null),z([h.a,l.action],$.prototype,"loadUserSettings",null),z([h.a,l.action],$.prototype,"undoUserSettings",null),z([l.observable],$.prototype,"_defualtChartsDimension",void 0),z([l.observable],$.prototype,"_defaultChartsType",void 0),z([l.observable],$.prototype,"_defaultVisibleChartIds",void 0),z([l.observable],$.prototype,"_defaultClinicalDataBinFilterSet",void 0),z([h.a,l.action],$.prototype,"resetToDefaultSettings",null),z([l.computed],$.prototype,"showResetToDefaultButton",null),z([l.computed],$.prototype,"defaultChartSettingsMap",null),z([h.a,l.action],$.prototype,"loadSettings",null),z([h.a,l.action],$.prototype,"updateChartStats",null),z([l.action],$.prototype,"initializeChartStatsByClinicalAttributes",null),z([l.computed],$.prototype,"specialChartKeysInCustomCharts",null),z([h.a,l.action],$.prototype,"changeChartType",null),z([l.action],$.prototype,"initializeClinicalDataCountCharts",null),z([l.action],$.prototype,"initializeClinicalDataBinCountCharts",null),z([l.computed],$.prototype,"chartsAreFiltered",null),z([l.computed],$.prototype,"selectedSamplesMap",null),z([l.computed],$.prototype,"selectedPatients",null),z([l.computed],$.prototype,"survivalPlots",null),z([l.computed],$.prototype,"clinicalDataDownloadFilename",null),z([l.computed],$.prototype,"downloadFilenamePrefix",null),z([h.a],$.prototype,"getDownloadDataPromise",null),z([h.a],$.prototype,"onSubmitQuery",null),z([h.a,l.action],$.prototype,"setCustomChartFilters",null),z([l.action],$.prototype,"showAsPieChart",null)},function(e,t,n){"use strict";var r=n(4),o=n(5),i=n(172);var a=n(7),s=n(96);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return d});var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};var d=function(){function e(t,n){var c=this,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1500;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.routing=t,this.propertiesMap=n,this.sessionEnabled=u,this.urlCharThresholdForSession=p,this.sessionProps={},this.remoteSessionData=Object(r.W)({invoke:function(){return h(c,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.needToLoadSession){e.next=9;break}return Object(s.a)("fetching remote session",this.sessionId),e.next=4,this.getRemoteSession(this.sessionId);case 4:return void 0===(t=e.sent).version&&(t=Object(i.c)(t)),e.abrupt("return",t);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}))},onResult:function(){c.remoteSessionData.result?c._sessionData={id:c.remoteSessionData.result.id,query:c.remoteSessionData.result.data,path:c.routing.location.pathname,version:c.remoteSessionData.result.version}:c._sessionData&&"pending"!==c._sessionData.id&&delete c._sessionData}}),this.properties=a.entries(this.propertiesMap).map(function(e){return Object.assign({name:e[0]},e[1])});var d={},f=!0,m=!1,y=void 0;try{for(var g,v=this.properties[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value,S=t.location.query[b.name];a.isString(S)&&(S=decodeURIComponent(S)),d[b.name]=S}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}this.query=Object(o.observable)(d),Object(o.intercept)(this.query,function(e){return e.newValue===c.query[e.name]?null:(Object(s.a)("changing",e.name,e.newValue,c.query[e.name]),e)}),this.reactionDisposer=Object(o.reaction)(function(){return[t.location.query,c._sessionData&&c._sessionData.query]},function(e){var t=l(e,2),n=t[0],r=t[1];c.pathContext&&!new RegExp("^/*".concat(c.pathContext)).test(c.routing.location.pathname)||Object(o.runInAction)(function(){Object(s.a)("setting session",n.session_id);var e=!0,t=!1,o=void 0;try{for(var i,a=c.properties[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var l=i.value;c.hasSessionId&&l.isSessionProp?r&&c.syncProperty(l,r):c.syncProperty(l,n)}}catch(e){t=!0,o=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw o}}})},{fireImmediately:!0})}var t,n,u;return t=e,(n=[{key:"updateURL",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.getSessionProps(),l=a.assign({},this.query,e),c=a.reduce(l,function(e,t,n){return n in i?e.sessionProps[n]=l[n]:void 0!==l[n]&&(e.nonSessionProps[n]=l[n]),e},{sessionProps:{},nonSessionProps:{}}),u=a.reduce(c.sessionProps,function(e,t,n){return void 0!==t&&e.push("".concat(n,"=").concat(encodeURIComponent(t))),e},[]).join("&");Object(s.a)("url length",u.length);var p=a.some(a.keys(e),function(e){return e in i});if(this.sessionEnabled&&(this.hasSessionId||u.length>this.urlCharThresholdForSession))if(p){var h=Date.now();this._sessionData={id:"pending",query:c.sessionProps,path:n||this.pathName,version:3,timeStamp:h},this.routing.updateRoute(Object.assign({},c.nonSessionProps,{session_id:"pending"}),n,!0,!1),Object(s.a)("updating URL (non session)",e),this.saveRemoteSession(c.sessionProps).then(function(e){t._sessionData&&h===t._sessionData.timeStamp&&(t._sessionData.id=e.id,t.routing.updateRoute({session_id:e.id},n,!1,!0))})}else this.routing.updateRoute(Object.assign({},c.nonSessionProps),n,r,o);else this.routing.updateRoute(e,n,r,o)}},{key:"saveRemoteSession",value:function(e){return Object(i.d)(e)}},{key:"getRemoteSession",value:function(e){return Object(i.b)(this.sessionId)}},{key:"syncProperty",value:function(e,t){var n=void 0;if(void 0!==t[e.name])n=t[e.name];else if(e.aliases&&e.aliases.length){var r=!0,o=!1,i=void 0;try{for(var a,s=e.aliases[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(void 0!==(n=t[a.value]))break}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}this.trySyncProperty(e,n)}},{key:"trySyncProperty",value:function(e,t){var n="string"==typeof t?decodeURIComponent(t):void 0;return e.name in this.query?this.query[e.name]=n:Object(o.extendObservable)(this.query,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.name,n)),void 0!==n}},{key:"getSessionProps",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.properties[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.isSessionProp&&(e[a.name]=this.query[a.name])}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"destroy",value:function(){this.reactionDisposer()}},{key:"isPendingSession",get:function(){return"pending"===this.sessionId}},{key:"sessionId",get:function(){return""===this.routing.location.query.session_id?void 0:this.routing.location.query.session_id}},{key:"isLoadingSession",get:function(){return!a.isEmpty(this.sessionId)&&this.remoteSessionData.isPending}},{key:"hasSessionId",get:function(){return void 0!==this.sessionId}},{key:"needToLoadSession",get:function(){return void 0!==(e=this).sessionId&&"pending"!==e.sessionId&&(void 0===e._sessionData||e._sessionData.id!==e.sessionId);var e}},{key:"hash",get:function(){var e=this;return function(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(a.reduce(this.properties,function(t,n){return n.isSessionProp&&(t="".concat(t,",").concat(n.name,":").concat(e.query[n.name])),t},""))}},{key:"pathName",get:function(){return this.routing.location.pathname}}])&&c(t.prototype,n),u&&c(t,u),e}();p([o.observable],d.prototype,"sessionProps",void 0),p([o.action],d.prototype,"updateURL",null),p([o.computed],d.prototype,"isPendingSession",null),p([o.computed],d.prototype,"sessionId",null),p([o.observable],d.prototype,"_sessionData",void 0),p([o.computed],d.prototype,"isLoadingSession",null),p([o.computed],d.prototype,"hasSessionId",null),p([o.computed],d.prototype,"needToLoadSession",null),p([o.computed],d.prototype,"hash",null),p([o.computed],d.prototype,"pathName",null)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a});var r="*",o="+",i="-",a=" "},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(4),o=n(162),i=n(570);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this))}var n,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["q"]),n=t,(a=[{key:"fetch",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.prev=1,t.next=4,o.a.evidencesLookupPostUsingPOST({body:Object(i.b)(e,"STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_RESISTANCE")});case 4:for(s in r=t.sent,a=Object(i.f)(r))a.hasOwnProperty(s)&&(n[s]={status:"complete",data:a[s]});this.putData(n),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.forEach(function(e){n[e.id]={status:"error"}}),this.putData(n);case 14:case"end":return t.stop()}},t,this,[[1,10]])}))}}])&&s(n.prototype,a),h&&s(n,h),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(549),o=n(18),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function p(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){i.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:e.join(",")}).end(function(e,r){if(!e&&r.ok){var o=JSON.parse(r.text).result,i=o.uids,a={},s=!0,l=!1,c=void 0;try{for(var u,p=i[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;a[h]=o[h]}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}t(a)}else n(e)})});case 2:for(n=t.sent,r=[],o=0,a=Object.keys(n);o<a.length;o++)s=a[o],r.push({data:[n[s]],meta:s});return t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).call(this,function(e){return e+""},function(e,t){return t},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(168),o=n(550),i=n(552),a=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return a(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(a=l(Object(o.d)(e,t))).length){r.next=3;break}return r.abrupt("return",[]);case 3:return s=Object(i.r)(a),r.next=6,n.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:s});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r)}))}function l(e){var t=n(694);return e.filter(function(e){return!e.gene.hugoGeneSymbol||t.includes(e.gene.hugoGeneSymbol)})}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(7),i=n(92);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=c(t).call(this,e))||"object"!==a(o)&&"function"!=typeof o?u(r):o).handleSelect=n.handleSelect.bind(u(n)),n}var n,h,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(h=[{key:"render",value:function(){var e=this;return r.createElement(i.Dropdown,{className:this.props.className,id:"dropdown-custom-1"},r.createElement(i.Dropdown.Toggle,s({rootCloseEvent:"click"},{className:"btn-sm"}),this.props.buttonText),r.createElement(i.Dropdown.Menu,s({bsRole:"menu"},{style:{paddingLeft:10,overflow:"auto",maxHeight:300,whiteSpace:"nowrap"}}),r.createElement("ul",{className:"list-unstyled"},this.props.columnVisibility&&o.map(this.props.columnVisibility,function(t){return t.togglable?r.createElement("li",{key:t.id},r.createElement(i.Checkbox,{"data-id":t.id,onChange:e.handleSelect,checked:t.visible,inline:!0},t.name)):null}))))}},{key:"handleSelect",value:function(e){var t=e.currentTarget.getAttribute("data-id");this.props.onColumnToggled&&t&&this.props.onColumnToggled(t,this.props.columnVisibility)}}])&&l(n.prototype,h),d&&l(n,d),t}();h.defaultProps={className:"",buttonText:"Columns"}},,function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n(0),o=n(7),i=n(700),a=n.n(i),s=n(11),l=n(5),c=n(28),u=n.n(c),p=n(4),h=n(117),d=n(20),f=n(16),m=n(551),y=n(25),g=n(59);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function w(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},P=n(591),I=function(e){function t(){var e;return v(this,t),(e=w(this,_(t).apply(this,arguments))).showDescription=!1,e}return k(t,r["Component"]),S(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{className:a.a.studySummary},r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("span",{className:a.a.studyName},r.createElement("i",{className:"fa fa-".concat(this.showDescription?"minus":"plus","-circle"),onClick:function(){return e.showDescription=!e.showDescription}}),this.props.name),r.createElement("a",{target:"_blank",href:"study?id=".concat(this.props.studyId)},r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"}))),r.createElement("div",{className:a.a.studyDescription,style:{display:this.showDescription?"block":"none"}},r.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(this.props.description.replace(/\r?\n/g,"<br/>"))}}))))}}]),t}();E([l.observable],I.prototype,"showDescription",void 0),I=E([s.observer],I);var M=function(e){function t(e){var n;return v(this,t),(n=w(this,_(t).call(this,e))).saving=!1,n.sharing=!1,n.copied=!1,n.virtualStudy=Object(p.W)({invoke:function(){return A(C(n),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.saving&&!this.sharing){e.next=8;break}return t=o.groupBy(this.props.selectedSamples,function(e){return e.studyId}),n=o.reduce(t,function(e,t,n){return e.push({id:n,samples:t.map(function(e){return e.sampleId})}),e},[]),r=this.props.filter,r.sampleIdentifiersSet,i=O(r,["sampleIdentifiersSet"]),a={name:this.name||this.namePlaceHolder,description:"",studyViewFilter:i,origin:this.props.studyWithSamples.map(function(e){return e.studyId}),studies:n},e.next=7,h.a.saveVirtualStudy(a,this.saving);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}},e,this)}))}},void 0),n.name=e.name||"",n.description=e.description||Object(m.eb)(n.props.description,n.props.studyWithSamples,n.props.filter,n.attributeNamesSet,n.props.user),n}return k(t,r["Component"]),S(t,[{key:"copyLinkRef",value:function(e){var t=this;e&&new P(e,{text:function(){return t.virtualStudyUrl}})}},{key:"onCopyClick",value:function(){this.copied=!0}},{key:"onTooltipVisibleChange",value:function(e){this.copied=!e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:a.a.virtualStudy},r.createElement(d.If,{condition:this.virtualStudy.isError},r.createElement(d.Then,null,r.createElement("div",{style:{textAlign:"center"}},r.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"orange"}}),r.createElement("span",{style:{marginLeft:"5px"}},"Failed to ".concat(this.saving?"save":"share"," virtual study, please try again later.")))),r.createElement(d.Else,null,r.createElement(d.If,{condition:this.virtualStudy.isPending||o.isUndefined(this.virtualStudy.result)},r.createElement(d.Then,null,r.createElement("div",null,r.createElement("div",{className:u()(a.a.virtualStudyForm,this.virtualStudy.isPending?a.a.disabled:void 0)},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control",value:this.name,placeholder:this.namePlaceHolder||"Virtual study name",onInput:function(t){return e.name=t.currentTarget.value}}),r.createElement("div",{className:"input-group-btn"},this.showSaveButton&&r.createElement("button",{className:u()("btn btn-default",a.a.saveButton),"data-event":Object(g.e)({category:"studyPage",action:"saveVirtualStudy"}),type:"button",disabled:this.buttonsDisabled,onClick:function(t){e.saving=!0}},this.saving?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Save"),r.createElement("button",{className:u()("btn btn-default",a.a.saveButton),type:"button",disabled:this.buttonsDisabled,"data-event":Object(g.e)({category:"studyPage",action:"shareVirtualStudy"}),onClick:function(t){e.sharing=!0}},this.sharing?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Share"))),r.createElement("textarea",{className:"form-control",rows:10,placeholder:"Virtual study description (Optional)",value:this.description,onChange:function(t){return e.description=t.currentTarget.value}})),r.createElement("span",{style:{display:"block",fontWeight:"bold"}},"This virtual study was derived from:"),r.createElement("div",{className:a.a.studiesSummaryInfo},this.props.studyWithSamples.map(function(e){return r.createElement(I,e)})))),r.createElement(d.Else,null,r.createElement("div",{className:u()(a.a.result)},r.createElement("div",{className:a.a.name},r.createElement("a",{target:"_blank",href:"".concat(this.virtualStudyUrl),style:{width:"220px"}},this.virtualStudyUrl)),r.createElement("div",{className:u()("btn-group btn-group-xs",a.a.controls)},r.createElement(p.c,{overlay:r.createElement(d.If,{condition:this.copied},r.createElement(d.Then,null,r.createElement("span",{className:"alert-success"},"Copied!")),r.createElement(d.Else,null,r.createElement("span",null,"Copy"))),placement:"top",onVisibleChange:this.onTooltipVisibleChange},r.createElement("span",{className:"btn btn-default",ref:this.copyLinkRef,onClick:this.onCopyClick},"Copy")),r.createElement("span",{className:"btn btn-default",onClick:function(t){return window.open(e.virtualStudyUrl,"_blank")}},"View"),this.saving&&r.createElement("span",{className:"btn btn-default",onClick:function(t){e.virtualStudy.result&&window.open(Object(f.b)("results",{cancer_study_id:e.virtualStudy.result.id}),"_blank")}},"Query"))))))))}},{key:"namePlaceHolder",get:function(){return"Selected sample".concat(this.props.selectedSamples.length>1?"s":""," (").concat(Object(m.H)(),")")}},{key:"buttonsDisabled",get:function(){return o.isEmpty(this.namePlaceHolder)&&o.isEmpty(this.name)}},{key:"virtualStudyUrl",get:function(){return Object(f.b)({pathname:"study",query:{id:this.virtualStudy.result?this.virtualStudy.result.id:""}})}},{key:"showSaveButton",get:function(){return!(o.isUndefined(this.props.user)||o.isEmpty(this.props.user)||o.isEqual(this.props.user.toLowerCase(),"anonymoususer"))}},{key:"attributeNamesSet",get:function(){return o.reduce(this.props.attributesMetaSet,function(e,t,n){return e[n]=t.displayName,e},{})}}]),t}();E([l.observable],M.prototype,"name",void 0),E([l.observable],M.prototype,"description",void 0),E([l.observable],M.prototype,"saving",void 0),E([l.observable],M.prototype,"sharing",void 0),E([l.observable],M.prototype,"copied",void 0),E([l.computed],M.prototype,"namePlaceHolder",null),E([l.computed],M.prototype,"buttonsDisabled",null),E([l.computed],M.prototype,"virtualStudyUrl",null),E([y.a],M.prototype,"copyLinkRef",null),E([y.a,l.action],M.prototype,"onCopyClick",null),E([y.a,l.action],M.prototype,"onTooltipVisibleChange",null),E([l.computed],M.prototype,"showSaveButton",null),E([l.computed],M.prototype,"attributeNamesSet",null),M=E([s.observer],M),t.b=M},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(0),o=n(7),i=n(554),a=n(11),s=n(5),l=n(92),c=n(557),u=n(559),p=n(571),h=n.n(p),d=n(622),f=n(25),m=n(555);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w,C=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.ALTERATION="ALTERATION",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.LOG_RATIO="Log Ratio",e.TENDENCY="Tendency",e.ENRICHED="Enriched in",e.MOST_ENRICHED="Most enriched in"}(w||(w={}));var _={2:"Amp","-2":"DeepDel"},k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,v(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(i.b,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[w.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(l.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:h.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:h.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[w.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:d.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[w.ALTERATION]={name:"Alteration",render:function(e){return r.createElement("span",{style:{color:2===e.value?m.a:m.d}},_[e.value])},tooltip:r.createElement("span",null,"Copy number alteration"),filter:function(e,t,n){return _[e.value].toUpperCase().includes(n)},sortBy:function(e){return _[e.value]},download:function(e){return _[e.value]}},t[w.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},void 0!==e.pValue?Object(u.a)(e.pValue,3,.01):"-")},tooltip:r.createElement("span",null,"Derived from one-sided Fisher Exact Test"),sortBy:function(e){return Number(e.pValue)},download:function(e){return void 0!==e.pValue?Object(u.a)(e.pValue,3,.01):"-"}},t[w.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},void 0!==e.qValue?Object(c.b)(e.qValue):"-")},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return Number(e.qValue)},download:function(e){return void 0!==e.qValue?Object(u.a)(e.qValue,3,.01):"-"}},t}}])&&y(n.prototype,a),s&&y(n,s),t}();k.defaultProps={columns:[w.GENE,w.CYTOBAND,w.P_VALUE,w.Q_VALUE],initialSortColumn:"q-Value"},C([f.a],k.prototype,"onRowClick",null),C([s.computed],k.prototype,"columns",null),k=C([a.observer],k),t.b=k},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(7),i=n(554),a=n(11),s=n(5),l=n(92),c=n(557),u=n(559),p=n(571),h=n.n(p),d=n(622),f=n(25);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S,w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.LOG_RATIO="Log Ratio",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.TENDENCY="Tendency",e.EXPRESSED="Higher expression in",e.MEAN_SUFFIX=" mean",e.STANDARD_DEVIATION_SUFFIX=" standard deviation"}(S||(S={}));var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,g(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol,e.entrezGeneId),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(i.b,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[S.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(l.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:h.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:h.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[S.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:d.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[S.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(u.a)(e.pValue,3,.01))},tooltip:r.createElement("span",null,"Derived from Student's t-test"),sortBy:function(e){return e.pValue},download:function(e){return Object(u.a)(e.pValue,3,.01)}},t[S.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(c.b)(e.qValue))},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(u.a)(e.qValue,3,.01)}},t}}])&&m(n.prototype,a),s&&m(n,s),t}();C.defaultProps={columns:[S.GENE,S.CYTOBAND,S.P_VALUE,S.Q_VALUE],initialSortColumn:"q-Value",mutexTendency:!0},w([f.a],C.prototype,"onRowClick",null),w([s.computed],C.prototype,"columns",null),C=w([a.observer],C),t.b=C},function(e,t,n){"use strict";function r(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;t[o(l)]={entrezGeneId:l.entrezGeneId,proteinPosStart:l.proteinPosStart,proteinPosEnd:l.proteinPosEnd}}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}function o(e){return"".concat(e.entrezGeneId,"_").concat(e.proteinPosStart,"_").concat(e.proteinPosEnd)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},,function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(0),o=n(4);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return e<.01?e.toFixed(4):e.toFixed(2)}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,s=[{key:"mainContent",value:function(e,t,n){var i=r.createElement("span",null,r.createElement("b",null,t)," variant reads out of"," ",r.createElement("b",null,t+n)," total");return r.createElement(o.c,{placement:"left",overlay:i,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0},r.createElement("span",null,a(e)))}},{key:"renderFunction",value:function(t){var n=e.getSortValue(t);if(n){var i=t[0].tumorAltCount,a=t[0].tumorRefCount;return e.mainContent(n,i,a)}return r.createElement(o.t,{status:o.s.NA})}},{key:"getTextValue",value:function(t){var n=e.getSortValue(t);return n?a(n):""}},{key:"getSortValue",value:function(e){var t=e[0];if(!t)return null;var n=t.tumorAltCount,r=t.tumorRefCount;return n<0||r<0?null:n/(n+r)}},{key:"isVisible",value:function(e){if(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(this.getSortValue(a))return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}return!1}}],(n=null)&&i(t.prototype,n),s&&i(t,s),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(6);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return r.createElement(o.b,{to:"/study?id=".concat(this.props.studyId),className:this.props.className},this.props.children)}}])&&a(n.prototype,i),u&&a(n,u),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return d});var r=n(0),o=n(760),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return function(t,n,r){return n in t&&t[n]instanceof e?null:new Error("Expecting ".concat(r," to receive {").concat(JSON.stringify(n),": ").concat(e.name,"} from context"))}}function h(e){return i()({store:p(e)},function(e){return{store:e.store}})}function d(e){var t;return(t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(o=[{key:"store",get:function(){return this.context.store}}])&&s(n.prototype,o),i&&s(n,i),t}()).contextTypes={store:p(e)},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterPropsFrom=function(e){e=e||{};var t={};for(var n in e)n in r||(t[n]=e[n]);return t};var r={hideTableHeader:!0,column:!0,columns:!0,sortable:!0,filterable:!0,filtering:!0,onFilter:!0,filterPlaceholder:!0,filterClassName:!0,currentFilter:!0,sort:!0,sortBy:!0,sortableColumns:!0,onSort:!0,defaultSort:!0,defaultSortDescending:!0,itemsPerPage:!0,filterBy:!0,hideFilterInput:!0,noDataText:!0,currentPage:!0,onPageChange:!0,previousPageLabel:!0,nextPageLabel:!0,pageButtonLimit:!0,childNode:!0,data:!0,children:!0}},function(e,t,n){"use strict";var r=n(0),o=n(116),i=n.n(o),a=n(11),s=n(5);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:this.props.className},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard",style:{marginRight:5}}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",{style:{margin:"0px 10px"}},"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload,style:{marginRight:10}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),this.props.downloadLabel),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&c(n.prototype,o),i&&c(n,i),t}();d.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",showCopy:!0,showDownload:!0};var f=n(632),m=n(28),y=n.n(m),g=n(631),v=n.n(g),b=n(4),S=n(667);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,k(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:y()(v.a.downloadTabLinksGroup,this.props.className)},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard"}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",null,"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload},r.createElement("i",{className:"fa fa-cloud-download"}),this.props.downloadLabel),this.props.showDownload&&this.props.showQuery&&r.createElement("span",null,"|"),this.props.showQuery&&r.createElement("a",{onClick:this.props.handleQuery},r.createElement("i",{className:"fa fa-external-link-square"}),this.props.queryButtonLabel),this.props.showQuery&&this.props.showVirtualStudy&&r.createElement("span",null,"|"),this.props.showVirtualStudy&&r.createElement(b.c,{trigger:["click"],destroyTooltipOnHide:!0,overlay:this.props.virtualStudyParams&&r.createElement(S.b,{user:this.props.virtualStudyParams.user,name:this.props.virtualStudyParams.name,description:this.props.virtualStudyParams.description,studyWithSamples:this.props.virtualStudyParams.studyWithSamples,selectedSamples:this.props.virtualStudyParams.selectedSamples,filter:this.props.virtualStudyParams.filter,attributesMetaSet:this.props.virtualStudyParams.attributesMetaSet}),placement:"bottom"},r.createElement("a",null,r.createElement("i",{className:"fa fa-pie-chart"}),this.props.virtualStudyButtonLabel)),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&C(n.prototype,o),i&&C(n,i),t}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}x.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",queryButtonLabel:"Query",virtualStudyButtonLabel:"Virtual Study",showCopy:!0,showDownload:!0,showQuery:!1,showVirtualStudy:!1},n.d(t,"a",function(){return L});var M=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},D=n(591),L=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=A(t).call(this,e))||"object"!==I(o)&&"function"!=typeof o?O(r):o).showCopyMessage=!1,n.handleDownload=n.handleDownload.bind(O(n)),n.copyLinkRef=n.copyLinkRef.bind(O(n)),n.copyButtonRef=n.copyButtonRef.bind(O(n)),n.handleAfterCopy=n.handleAfterCopy.bind(O(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return"LINK"===this.props.controlsStyle?r.createElement(d,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage}):"QUERY"===this.props.controlsStyle?r.createElement(x,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage,showQuery:this.props.showQuery,handleQuery:this.props.handleQuery,showVirtualStudy:this.props.showVirtualStudy,virtualStudyParams:this.props.virtualStudyParams}):r.createElement(f.a,{className:this.props.className,handleDownload:this.handleDownload,copyButtonRef:this.copyButtonRef,handleCopy:this.handleAfterCopy,showCopyMessage:this.showCopyMessage,showCopy:this.props.showCopy,showDownload:this.props.showDownload})}},{key:"handleDownload",value:function(){this.props.downloadData&&i()(this.props.downloadData(),this.props.downloadFilename)}},{key:"copyLinkRef",value:function(e){this.handleCopyRef(e)}},{key:"copyButtonRef",value:function(e){this.handleCopyRef(e)}},{key:"handleCopyRef",value:function(e){if(e){var t=this.props,n=t.downloadData,r=t.containerId,o=r?{text:n,container:document.getElementById(r)}:{text:n};new D(e,o)}}},{key:"handleAfterCopy",value:function(){var e=this;this.showCopyMessage=!0,setTimeout(function(){e.showCopyMessage=!1},this.props.copyMessageDuration)}}])&&E(n.prototype,o),a&&E(n,a),t}();L.defaultProps={className:"",showCopy:!0,copyMessageDuration:3e3,showDownload:!0,showQuery:!0,showVirtualStudy:!0,copyLabel:"Copy",downloadLabel:"Download",downloadFilename:"data.tsv",controlsStyle:"LINK"},M([s.observable],L.prototype,"showCopyMessage",void 0),L=M([a.observer],L)},function(e,t,n){"use strict";var r=n(7),o=n(5);function i(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}function a(e,t,n){n||(n=i);var r=!1,o=!1,a=!1,s=!0,l=!1,c=void 0;try{for(var u,p=e[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){if("not"!==u.value.type){o=!0;break}}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}o||(r=!0);var h=!0,d=!1,f=void 0;try{for(var m,y=e[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;if("not"===g.type){if(n(g.data,t)){r=!1,a=!0;break}}else if("and"===g.type){o=!0;var v=!0,b=!0,S=!1,w=void 0;try{for(var C,_=g.data[Symbol.iterator]();!(b=(C=_.next()).done);b=!0){var k=C.value;v=v&&n(k,t)}}catch(e){S=!0,w=e}finally{try{b||null==_.return||_.return()}finally{if(S)throw w}}r=r||v}}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}return{match:r,forced:a}}var s=n(79),l=n(3),c=n(95),u=n.n(c);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return v}),n.d(t,"b",function(){return b});var g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v="pan_can_atlas",b=function(){function e(t){d(this,e),this.store=t}return m(e,[{key:"getMetadata",value:function(e){return this.store.treeData.map_node_meta.get(e)}},{key:"cancerTypeContainsSelectedStudies",value:function(e){var t=this.getMetadata(e).descendantStudies;return r.intersection(this.store.selectableSelectedStudies,t).length>0}},{key:"getDepth",value:function(e){return this.getMetadata(e).ancestors.length}},{key:"isHighlighted",value:function(e){return!!this.store.searchText&&!!this.map_node_filterBySearchText.get(e)}},{key:"map_node_filterByDepth",get:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var o,i=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=h(o.value,2),s=a[0],l=a[1],c=!0;l.isCancerType&&(!l.descendantStudies.length||l.ancestors.length>this.store.maxTreeDepth&&!s.alwaysVisible)&&(c=!1),e.set(s,c)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"map_node_filterBySearchText",get:function(){var e=function(e){e=e.toLowerCase().trim().split(/\s+/g).join(" ");for(var t,n,r=[],o=0;o<e.length;)'"'===e[o]?-1===(n=e.indexOf('"',o+1))?(r.push(e.substring(o+1)),o=e.length):(r.push(e.substring(o+1,n)),o=n+1):" "===e[o]?o+=1:"-"===e[o]?(r.push("-"),o+=1):-1===(t=e.indexOf(" ",o))?(r.push(e.substring(o)),o=e.length):(r.push(e.substring(o,t)),o=t+1);var i,a,s=[];for(o=0;o<r.length;)"-"===r[o]?(o<r.length-1&&s.push({type:"not",data:r[o+1]}),o+=2):(i=r.indexOf("or",o),a=r.indexOf("-",o),-1===i&&-1===a?(s.push({type:"and",data:r.slice(o)}),o=r.length):-1===i&&a>0?(s.push({type:"and",data:r.slice(o,a)}),o=a):i>0&&-1===a?(s.push({type:"and",data:r.slice(o,i)}),o=i+1):i<a?(s.push({type:"and",data:r.slice(o,i)}),o=i+1):(s.push({type:"and",data:r.slice(o,a)}),o=a));return s}(this.store.searchText),t=new Map,n=!0,r=!1,o=void 0;try{for(var i,s=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var l=h(i.value,2),c=l[0],u=(S=l[1]).searchTerms;c.hasOwnProperty("studyId")&&(u+=c.studyId?c.studyId:""),t.set(c,a(e,u))}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}var d=new Map,f=!0,m=!1,y=void 0;try{for(var g,v=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=h(g.value,2),S=(c=b[0],b[1]);if(!d.has(c)){for(var w=!1,C=0,_=[c].concat(p(S.ancestors),p(S.priorityCategories));C<_.length;C++){var k=_[C],T=t.get(k);if(!T.match&&T.forced){w=!1;break}w=w||T.match}if(d.set(c,w),w&&!S.isCancerType)for(var x=0,E=[S.ancestors,S.priorityCategories];x<E.length;x++){var A=E[x],O=!0,P=!1,I=void 0;try{for(var M,D=A[Symbol.iterator]();!(O=(M=D.next()).done);O=!0){var L=M.value;d.set(L,!0)}}catch(e){P=!0,I=e}finally{try{O||null==D.return||D.return()}finally{if(P)throw I}}}}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}return d}},{key:"map_node_filterBySelectedCancerTypes",get:function(){var e=new Map;if(this.store.selectedCancerTypes.length){var t=!0,n=!1,r=void 0;try{for(var o,i=this.store.selectedCancerTypes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=this.getMetadata(a);e.set(a,!0);for(var l=0,c=[s.ancestors,s.descendantCancerTypes,s.descendantStudies];l<c.length;l++){var u=c[l],p=!0,h=!1,d=void 0;try{for(var f,m=u[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;e.set(y,!0)}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else{var g=!0,v=!1,b=void 0;try{for(var S,w=this.store.treeData.map_node_meta.keys()[Symbol.iterator]();!(g=(S=w.next()).done);g=!0){var C=S.value;e.set(C,!0)}}catch(e){v=!0,b=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw b}}}return e}},{key:"map_node_filterBySelectedStudies",get:function(){var e=new Map;if(this.store.selectableSelectedStudies.length){var t=!0,n=!1,r=void 0;try{for(var o,i=this.store.selectableSelectedStudies[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=this.store.treeData.map_node_meta.get(a);e.set(a,!0);for(var l=0,c=[s.descendantStudies,s.ancestors,s.priorityCategories];l<c.length;l++){var u=c[l],p=!0,h=!1,d=void 0;try{for(var f,m=u[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;e.set(y,!0)}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}return e}},{key:"mainView",get:function(){return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySearchText,this.map_node_filterBySelectedCancerTypes])}},{key:"cancerTypeListView",get:function(){return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySearchText])}},{key:"selectedStudiesView",get:function(){var e=this;return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySelectedStudies,{get:function(t){return!e.getMetadata(t).isPriorityCategory}}])}}]),e}();g([s.cached],b.prototype,"map_node_filterByDepth",null),g([s.cached],b.prototype,"map_node_filterBySearchText",null),g([s.cached],b.prototype,"map_node_filterBySelectedCancerTypes",null),g([s.cached],b.prototype,"map_node_filterBySelectedStudies",null),g([o.computed],b.prototype,"mainView",null),g([o.computed],b.prototype,"cancerTypeListView",null),g([o.computed],b.prototype,"selectedStudiesView",null);var S=function(){function e(t,n){var r=this;d(this,e),this.store=t,this.filters=n,this.nodeFilter=function(e){return r.filters.every(function(t){return!!t.get(e)})}}return m(e,[{key:"getMetadata",value:function(e){return this.store.treeData.map_node_meta.get(e)}},{key:"getChildCancerTypes",value:function(e,t){var n=this.getMetadata(e);return(n.ancestors.length<this.store.maxTreeDepth||!t&&e.alwaysVisible?n.childCancerTypes:[]).filter(this.nodeFilter)}},{key:"getChildCancerStudies",value:function(e){var t=this.getMetadata(e),n=[];if(t.ancestors.length<this.store.maxTreeDepth)n=t.childStudies;else if(n=t.descendantStudies,e.alwaysVisible){var o=r.chain(t.descendantCancerTypes).filter(function(e){return e.alwaysVisible}).map(function(e){return e.cancerTypeId}).value();n=r.filter(n,function(e){return!o.includes(e.cancerTypeId)})}return n.filter(this.nodeFilter)}},{key:"getDescendantCancerStudies",value:function(e){return this.getMetadata(e).descendantStudies.filter(this.nodeFilter)}},{key:"getCheckboxProps",value:function(e){var t=this;if(this.getMetadata(e).isCancerType){var n=(this.store.selectableSelectedStudyIds||[]).map(function(e){return t.store.treeData.map_studyId_cancerStudy.get(e)}),o=this.getDescendantCancerStudies(e),i=r.intersection(o,n),a=i.length>0;return{checked:a,indeterminate:a&&i.length!=o.length}}var s=e;return{checked:!!this.store.selectableSelectedStudyIds.find(function(e){return e==s.studyId}),disabled:this.store.isDeletedVirtualStudy(s.studyId)}}},{key:"isCheckBoxDisabled",value:function(e){if(this.getMetadata(e).isCancerType)return!1;var t=e;return!!this.store.isDeletedVirtualStudy(t.studyId)}},{key:"clearAllSelection",value:function(){this.store.selectableSelectedStudyIds=[]}},{key:"onCheck",value:function(e,t){var n;this.getMetadata(e).isCancerType?this.store.forDownloadTab||(n=this.getDescendantCancerStudies(e).map(function(e){return e.studyId})):n=[e.studyId],n&&this.handleCheckboxStudyIds(n,t)}},{key:"getSelectionReport",value:function(){var e=this,t=this.store.selectableSelectedStudyIds||[],n=t.map(function(t){return e.store.treeData.map_studyId_cancerStudy.get(t)}),o=this.getDescendantCancerStudies(this.store.treeData.rootCancerType);return{selectableSelectedStudyIds:t,selectableSelectedStudies:n,shownStudies:o,shownAndSelectedStudies:r.intersection(o,n)}}},{key:"quickSelectButtons",value:function(e){if(!e)return{};try{return l.a.parseConfigFormat(e)}catch(e){return{}}}},{key:"toggleAllFiltered",value:function(){var e=this,t=this.getSelectionReport(),n=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies),o=t.shownAndSelectedStudies,i=[];i=n.length===o.length?r.without.apply(r,[this.store.selectableSelectedStudyIds].concat(p(n.map(function(e){return e.studyId})))):r.union(this.store.selectableSelectedStudyIds,n.map(function(e){return e.studyId})),this.store.selectableSelectedStudyIds=i.filter(function(t){return!r.includes(e.store.deletedVirtualStudies,t)})}},{key:"selectAllMatchingStudies",value:function(e){var t=this.getSelectionReport(),n=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies);t.shownAndSelectedStudies;this.store.selectableSelectedStudyIds=n.map(function(e){return e.studyId}).filter(function(t){return r.isArray(e)?e.includes(t):t.includes(e)})}},{key:"handleCheckboxStudyIds",value:function(e,t){var n=this,o=this.store.selectableSelectedStudyIds;o=t?r.union(o,e):r.difference(o,e),this.store.selectableSelectedStudyIds=o.filter(function(e){return!r.includes(n.store.deletedVirtualStudies,e)})}},{key:"isFiltered",get:function(){return this.store.selectedCancerTypeIds.length>0||this.store.searchText.length>0}}]),e}();g([o.action],S.prototype,"clearAllSelection",null),g([o.action],S.prototype,"onCheck",null),g([o.computed],S.prototype,"isFiltered",null),g([u.a],S.prototype,"quickSelectButtons",null),g([o.action],S.prototype,"toggleAllFiltered",null),g([o.action],S.prototype,"selectAllMatchingStudies",null)},function(e,t,n){"use strict";var r=n(0),o=n(20),i=(n(712),"https://oncokb.org");function a(){return r.createElement("a",{href:"".concat(i,"/cancerGenes"),target:"_blank"},"OncoKB Cancer Gene List")}var s=n(623),l=n.n(s),c=n(28),u=n.n(c),p=n(4),h=n(555),d=n(551),f=n(685);function m(e,t){return[e,Object(d.x)(t)].join(":")}function y(e,t,n,o,i){return r.createElement("div",{style:{marginLeft:e},className:l.a.displayFlex,"data-test":"gene-column-header"},n&&r.createElement(p.c,{mouseEnterDelay:0,placement:"top",overlay:v(o)},r.createElement("div",{onClick:i,className:l.a.displayFlex},function(e){return r.createElement("span",{"data-test":"cancer-gene-filter",className:u()(l.a.cancerGeneIcon,l.a.displayFlex),style:{color:e?h.h:h.g}},r.createElement("i",{className:"fa fa-filter"}))}(o))),t)}function g(e,t,n,s,l,c){return r.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:300,fontSize:12}},r.createElement("span",null,function(e,t,n,s,l){if(t){var c="";if(s||l){c=" as a ";var u=[];s&&u.push("oncogene"),l&&u.push("tumor suppressor gene"),c="".concat(c," ").concat(u.join(" and "))}return r.createElement("span",null,r.createElement(o.If,{condition:n},r.createElement(o.Then,null,r.createElement("a",{href:"".concat(i,"/gene/").concat(e),target:"_blank"},e)),r.createElement(o.Else,null,r.createElement("span",null,e))),r.createElement("span",null," is included in the "),a(),(s||l)&&r.createElement("span",null,c),".")}}(e,n,s,l,c)))}function v(e){return e?r.createElement("span",null,"Filtered by ",a(),". Click to show all genes."):r.createElement("span",null,"Showing all genes. Click to filter by"," ",a(),".")}function b(e,t,n,o,i,a){var s="mutation"===e?"mutations":"cna"===e?"copy number alterations":"fusions";return r.createElement(p.c,{placement:"right",overlay:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"column"},"data-test":"freq-cell-tooltip"},r.createElement("span",null,"# of samples profiled for ".concat(s," in this gene: ").concat(t.toLocaleString())),r.createElement(f.a,{genePanelIds:o,toggleModal:i}))},destroyTooltipOnHide:!0},r.createElement("span",{"data-test":"freq-cell",style:a},Object(d.O)(n/t*100)))}n.d(t,"b",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return b})},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(164),o=n(549);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return 0===e.length?Promise.reject("No pdb ids given"):r.a.fetchPdbHeaderPOST({pdbIds:e})}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).call(this,function(e){return e},function(e){return e.pdbId},c))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["a"]),t}()},function(e,t,n){"use strict";var r=n(0),o=(n(682),n(28)),i=n.n(o),a=n(11);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.headers,n=e.rows,o=e.className,a=e.noRowsText,s=n.length>0?n:[r.createElement("tr",{key:"0"},r.createElement("td",{style:{textAlign:"center"},colSpan:t.length},a||"There are no results."))];return r.createElement("table",{className:i()("simple-table table table-striped table-border-top",o)},r.createElement("thead",null,r.createElement("tr",null,t)),r.createElement("tbody",null,s))}}])&&s(n.prototype,o),a&&s(n,a),t}();d=h([a.observer],d),t.a=d},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"k",function(){return w});var r=n(838),o=n(646),i=n.n(o),a=n(7);function s(e){var t=[],n=1;return e.forEach(function(r,o){if(r.status){var i=e.length-o,a=n*((i-1)/i);n=a,t.push(a)}else t.push(n)}),t}function l(e,t){for(var n="NA",r=0;r<t.length;r++)if(t[r]<=.5){n=e[r].months.toString();break}return n}function c(e,t){var n=[];return n.push({x:0,y:100}),e.forEach(function(e,r){n.push({x:e.months,y:100*t[r]})}),n}function u(e,t,n){return e.map(function(e,r){var o={x:e.months,y:100*t[r],patientId:e.patientId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,status:e.status};return n&&(o.group=n),o})}function p(e,t,n){var r,o=u(e,t,n),i=[];return e.forEach(function(e,n){var a=t[n],s=1;r&&a!==r&&(s=0),r=a,i.push(Object.assign({},o[n],{opacity:s}))}),i}function h(e,t){return e&&t?[e.length,e.filter(function(e){return!0===e.status}).length,l(e,t)]:[0,0,"N/A"]}function d(e,t){for(var n=0,r=0,o=0,a=0,s=0;n<e.length&&r<t.length;){var l=0,c=0,u=e.length-n,p=t.length-r,h=e[n],d=t[r];(h.months<d.months||h.months===d.months)&&(h.status&&(l=1),n+=1),(h.months>d.months||h.months===d.months)&&(d.status&&(c=1),r+=1);var f=l+c,m=u+p;o+=l,a+=u/m*f,s+=f*(m-f)*u*p/(m*m*(m-1))}var y=(o-a)*(o-a)/s;return 1-i.a.chisquare.cdf(y,1)}function f(e,t){var n=t,o=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;n+="\n\n",n+=c.title,n+="\n",n+=Object(r.a)(m(c.scatterData))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}function m(e){var t=[];return e.map(function(n,r){t.push({"Case ID":n.patientId,"Study ID":n.studyId,"Number at Risk":e.length-r,Status:n.status?"deceased":"censored","Survival Rate":n.y/100,"Time (months)":n.x})}),t}function y(e,t){var n=a.maxBy(e,"x"),r=a.minBy(e,"x"),o=a.maxBy(e,"y"),i=a.minBy(e,"y");if(t.xDenominator<=0||t.yDenominator<=0)return e;var s=((n?n.x:0)-(r?r.x:0))/t.xDenominator,l=((o?o.y:0)-(i?i.y:0))/t.yDenominator,c=Math.hypot(s,l),u={x:0,y:0},p={x:0,y:0};return e.filter(function(e,t){var n=a.isUndefined(e.opacity)||e.opacity>0;if(0==t)return p.x=e.x,p.y=e.y,u.x=e.x,u.y=e.y,!0;return(n?Math.hypot(e.x-u.x,e.y-u.y):Math.hypot(e.x-p.x,e.y-p.y))>c&&(p.x=e.x,p.y=e.y,n&&(u.x=e.x,u.y=e.y),!0)})}function g(e,t,n){var r=a.cloneDeep(e);return a.forEach(r,function(e){e.numOfCases>n.threshold&&(t&&(e.scatter=e.scatter.filter(function(e){return v(t,e)}),e.scatterWithOpacity=e.scatterWithOpacity.filter(function(e){return v(t,e)})),e.scatter=y(e.scatter,n),e.scatterWithOpacity=y(e.scatterWithOpacity,n),e.numOfCases=e.scatter.length)}),r}function v(e,t){return t.x<=e.x[1]&&t.x>=e.x[0]&&t.y<=e.y[1]&&t.y>=e.y[0]}var b="Altered",S="Unaltered";function w(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n[a.value.uniquePatientKey]=[b]}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var l=!0,c=!1,u=void 0;try{for(var p,h=t[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){n[p.value.uniquePatientKey]=[S]}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return{patientSurvivals:e.concat(t),patientToAnalysisGroups:n}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(7);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",o=[];return t&&(Object.keys(e[0]).forEach(function(e){return o.push(e,n)}),o.pop(),o.push("\r\n")),e.forEach(function(e){r.each(e,function(e){o.push(e,n)}),o.pop(),o.push("\r\n")}),o.join("")}},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return d});var r=n(0),o=n(11),i=n(686);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e){var t=e.genePanelIds,n=e.toggleModal;return t.length>0?r.createElement("span",{style:{maxWidth:400}},"Gene panels:"," ",t.map(function(e,t){return[t>0&&", ",r.createElement("a",{key:e,"data-test":"gene-panel-linkout-".concat(e),href:"#",onClick:function(){n(e)}},e)]})):r.createElement("span",null)},d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,l(t).apply(this,arguments))).getGenesList=function(e){return e&&e.genes?e.genes.map(function(e){return r.createElement("p",{key:e.entrezGeneId},e.hugoGeneSymbol)}):null},e}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props.genePanelCache.get({genePanelId:this.props.panelName});return r.createElement(i.a,{panelName:this.props.panelName,show:this.props.show,onHide:this.props.onHide,isLoading:e.isPending},e.isComplete&&this.getGenesList(e.result))}}])&&a(n.prototype,o),u&&a(n,u),t}();d=p([o.observer],d)},function(e,t,n){"use strict";var r=n(0),o=n(92),i=n(11),a=n(93),s=n(25);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(i=[{key:"handleClose",value:function(){this.props.onHide()}},{key:"render",value:function(){return r.createElement(o.Modal,{show:this.props.show,onHide:this.handleClose,keyboard:!0,className:this.props.className},r.createElement(o.Modal.Header,{closeButton:!0},r.createElement(o.Modal.Title,{"data-test":"gene-panel-modal-title"},this.props.panelName)),r.createElement(o.Modal.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},this.props.show&&this.props.isLoading&&r.createElement(a.a,{isLoading:!0}),this.props.show&&!this.props.isLoading&&r.createElement("div",{"data-test":"gene-panel-modal-body"},this.props.children)),r.createElement(o.Modal.Footer,null,r.createElement(o.Button,{"data-test":"modal-button",onClick:this.handleClose},"Close")))}}])&&l(n.prototype,i),s&&l(n,s),t}();d([s.a],f.prototype,"handleClose",null),f=d([i.observer],f),t.a=f},function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"n",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return v}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return w}),n.d(t,"l",function(){return _}),n.d(t,"m",function(){return k}),n.d(t,"a",function(){return x});var r=n(7),o=n(548),i=n(611),a=n(605),s=n(564);function l(e,t,n){var r=[],i=[],a=[],s=[],l=[],c=[],u=!0,p=!1,h=void 0;try{for(var d,f=e.data[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var m=d.value,y=m.molecularProfileAlterationType,g=m.alterationSubType.toUpperCase();switch(y){case o.a.COPY_NUMBER_ALTERATION:g.length>0&&(a.push({type:g,value:m.value}),c.push("CNA"));break;case o.a.MRNA_EXPRESSION:g.length>0&&(l.push({type:g,value:m.value}),c.push("EXP"));break;case o.a.PROTEIN_LEVEL:g.length>0&&(s.push({type:g,value:m.value}),c.push("PROT"));break;case o.a.MUTATION_EXTENDED:m.mutationType.toLowerCase().includes("fusion")?(i.push(m.proteinChange),c.push("FUSION")):(r.push(m.proteinChange),c.push("MUT"))}}}catch(e){p=!0,h=e}finally{try{u||null==f.return||f.return()}finally{if(p)throw h}}return{sequenced:!t||!t[e.trackLabel]||t[e.trackLabel].sequenced>0,geneSymbol:e.trackLabel,mutation:r,fusion:i,cna:a,mrnaExp:l,proteinLevel:s,isMutationNotProfiled:!1,isFusionNotProfiled:!1,isCnaNotProfiled:!1,isMrnaExpNotProfiled:!1,isProteinLevelNotProfiled:!1,alterationTypes:c}}function c(e,t,n){var r=!0,i=!0,a=!0,s=!0,l=!0;if(e.profiled_in){var c=!0,u=!1,p=void 0;try{for(var h,d=e.profiled_in[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;if(n)switch(n[f.molecularProfileId].molecularAlterationType){case o.a.COPY_NUMBER_ALTERATION:a=!1;break;case o.a.MRNA_EXPRESSION:s=!1;break;case o.a.PROTEIN_LEVEL:l=!1;break;case o.a.MUTATION_EXTENDED:r=!1;case o.a.FUSION:i=!1}}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}return t.isMutationNotProfiled=r,t.isFusionNotProfiled=i,t.isCnaNotProfiled=a,t.isMrnaExpNotProfiled=s,t.isProteinLevelNotProfiled=l,t}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!r.isEmpty(t)?e.map(function(e){var n=Object(i.a)(!0,e,t,{});return{gene:e.oql.gene,oqlLine:e.oql.oql_line,altered:n.altered,sequenced:n.sequenced,percentAltered:n.percent}}):[]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return e.map(function(e){return e.join(t)}).join(n)}function h(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.MUTATION_EXTENDED||e.molecularProfileAlterationType===o.a.FUSION}):{}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n,T):[]}function f(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.MRNA_EXPRESSION}):{}}function m(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.PROTEIN_LEVEL}):{}}function y(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.COPY_NUMBER_ALTERATION}):{}}function g(e,t){return t?b(t,function(t){return e.includes(t.molecularProfileId)}):{}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n):[]}function b(e,t){var n={};return r.values(e.samples).forEach(function(e){e.forEach(function(e){var r="".concat(e.gene.hugoGeneSymbol,"_").concat(e.uniqueSampleKey);n[r]=n[r]||[],t&&!t(e)||n[r].push(e)})}),n}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=n.map(function(e){return e.hugoGeneSymbol}),s=r.keyBy(t,"uniqueSampleKey"),l=t.map(function(e){return e.uniqueSampleKey}),c=function(e,t,n,r,o){var i={};return r.forEach(function(r){var a=n[r],s=i[r]||{studyId:a.studyId,sampleId:a.sampleId,patientId:a.patientId,alterationData:{}};i[r]=s,t.forEach(function(t){s.alterationData[t]=s.alterationData[t]||[];var n="".concat(t,"_").concat(r);e[n]&&e[n].forEach(function(e){var n=o?o(e):String(e.value);s.alterationData[t].push(n)})})}),i}(e,a,s,l,o),u=[];return u.push(["STUDY_ID","SAMPLE_ID"].concat(a)),l.forEach(function(e){var t=c[e],n=[];n.push(t.studyId),n.push(t.sampleId),a.forEach(function(e){var r=i?i(t.alterationData[e]):t.alterationData[e].join(" ")||"NA";n.push(r)}),u.push(n)}),u}function w(e,t,n,o,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],p=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,d={};if(n&&i){var f=r.keyBy(u,"uniqueSampleKey");n.forEach(function(e){Object(a.d)(e.cases.samples,e.oql.gene,u,i,t).forEach(function(t){var n=t.study_id+":"+t.uid;C(d,t,f);var o=l(t,p);void 0!==d[n].oqlDataByGene[e.oql.gene]?d[n].oqlDataByGene[e.oql.gene]=r.merge(o,d[n].oqlDataByGene[e.oql.gene]):d[n].oqlDataByGene[e.oql.gene]=o,c(t,d[n].oqlDataByGene[e.oql.gene],h)})})}if(o&&i){var m=r.keyBy(u,"uniqueSampleKey");o.forEach(function(n,r){var o,f;void 0===n.mergedTrackOqlList?(o=n.oql.gene,f=Object(s.r)(r,e,n.oql)):(o=n.oql.list.map(function(e){return e.gene}),f=Object(s.o)(n.oql)),Object(a.d)(n.cases.samples,o,u,i,t).forEach(function(e){var t=e.study_id+":"+e.uid;C(d,e,m);var n=l(e,p);d[t].oqlData[f]=n,c(e,d[t].oqlData[f],h)})})}return r.values(d)}function C(e,t,n){var r=t.study_id,o=t.sample||(n[t.uid]?n[t.uid].sampleId:""),i=r+":"+t.uid;e[i]=e[i]||{studyId:r,sampleId:o,patientId:n[t.uid]?n[t.uid].patientId:"",altered:!1,oqlData:{},oqlDataByGene:{}},e[i].altered=e[i].altered||t.data.length>0}function _(e,t){var n=!0,o=!1,i=void 0;try{for(var a,s=r.values(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,c=!0,u=!1,p=void 0;try{for(var h,d=l[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value,m=t?t(f):f.value;if(m&&String(m).length>0)return!0}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return!1}function k(e){return _(e,T)}function T(e){return e.proteinChange}function x(e){switch(e){case"MUTATION_EXTENDED":return 1;case"COPY_NUMBER_ALTERATION":return 2;case"GENESET_SCORE":return 3;case"MRNA_EXPRESSION":return 4;case"METHYLATION":return 5;case"METHYLATION_BINARY":return 6;case"PROTEIN_LEVEL":return 7;default:return Number.MAX_VALUE}}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogICAgPGcgaWQ9Imljb21vb24taWdub3JlIj4KICAgIDwvZz4KICAgIDxwYXRoIGZpbGw9IiNmZjk5MDAiIGQ9Ik0zMjEuMDA4IDEwNDUuMzMzYy02OC4yNDUtMTQyLjAwOC0zMS45MDEtMjIzLjM3OSAyMC41NTEtMzAwLjA0NCA1Ny40NC04My45NTYgNzIuMjQ0LTE2Ny4wNjUgNzIuMjQ0LTE2Ny4wNjVzNDUuMTUzIDU4LjcgMjcuMDkyIDE1MC41MDhjNzkuNzcyLTg4LjggOTQuODI0LTIzMC4yOCA4Mi43ODMtMjg0LjQ2NCAxODAuMzE1IDEyNi4wMTIgMjU3LjM3NiAzOTguODU2IDE1My41MjMgNjAxLjA2NSA1NTIuMzcyLTMxMi41MzIgMTM3LjM5OS03ODAuMTcyIDY1LjE1NS04MzIuODUxIDI0LjA4MSA1Mi42NzYgMjguNjQ4IDE0MS44NTEtMjAgMTg1LjEyNy04Mi4zNTItMzEyLjI3Ni0yODUuOTcyLTM3Ni4yNzYtMjg1Ljk3Mi0zNzYuMjc2IDI0LjA4MyAxNjEuMDQ0LTg3LjI5NiAzMzcuMTQ0LTE5NC42OTYgNDY4LjczMS0zLjc3NS02NC4yMTYtNy43ODMtMTA4LjUyOC00MS41NDktMTY5Ljk4LTcuNTggMTE2LjY1Ni05Ni43MzIgMjExLjc0OC0xMjAuODczIDMyOC42MjgtMzIuNzAxIDE1OC4yODcgMjQuNDk2IDI3NC4xOCAyNDEuNzQ4IDM5Ni42MjN6Ij48L3BhdGg+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8ZyBpZD0ic3ZnXzQiPgogICA8ZWxsaXBzZSByeT0iMTc0IiByeD0iMTc0LjUiIGlkPSJzdmdfMSIgY3k9IjIwMCIgY3g9IjIwMC41IiBzdHJva2Utd2lkdGg9IjUwIiBzdHJva2U9IiMwMDdmZmYiIGZpbGw9Im5vbmUiLz4KICAgPGVsbGlwc2UgaWQ9InN2Z18yIiByeT0iOTcuNDQiIHJ4PSI5OS4xNDc3MiIgY3k9IjIwMCIgY3g9IjIwMS40OTE0NyIgc3Ryb2tlLXdpZHRoPSI1MCIgc3Ryb2tlPSIjMDA3ZmZmIiBmaWxsPSJub25lIi8+CiAgIDxlbGxpcHNlIGlkPSJzdmdfMyIgcnk9IjUyLjIiIHJ4PSI1My4wNDQwMyIgY3k9IjE5OC41MDg1NyIgY3g9IjIwMC4wMDQyNiIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2U9IiMwMDdmZmYiIGZpbGw9IiMwMDdmZmYiLz4KICA8L2c+CiA8L2c+Cjwvc3ZnPg=="},function(e,t,n){e.exports=n(15)(68)},,function(e,t,n){"use strict";var r=n(7),o=n(5),i=n(79),a=n(553),s=n(164),l=n(168),c=n(162),u=n(169),p=n(4);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function f(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.a;return d(this,void 0,void 0,regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.length>0)){i.next=6;break}return i.next=3,o.postResidueMappingByPDBUsingPOST({idType:"uniprot",id:t,pdbId:n,chainId:r,positionList:e.map(function(e){return"".concat(e)})});case 3:return i.abrupt("return",i.sent);case 6:return i.abrupt("return",[]);case 7:case"end":return i.stop()}},i)}))}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queries={}}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=this,n=this.generateQueryKey(e);return this.queries[n]||(this.queries[n]=Object(p.W)({invoke:function(){return d(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=[],t.next=4,f(e.uniprotPositions,e.uniprotId,e.pdbId,e.chainId);case 4:return(o=t.sent).length>0&&(o.forEach(function(e){r=r.concat(e.residueMapping)}),n=r.map(function(e){return{status:"complete",data:e}})),t.abrupt("return",n);case 7:case"end":return t.stop()}},t)}))},onError:function(e){}},this.defaultData(e))),this.queries[n]}},{key:"generateQueryKey",value:function(e){return"".concat(e.uniprotId,"_").concat(e.pdbId,"_").concat(e.chainId,"_").concat(e.uniprotPositions.join(","))}},{key:"defaultData",value:function(e){return[null]}}])&&h(t.prototype,n),r&&h(t,r),e}(),y=n(550),g=n(602),v=n(554),b=n(616),S=n(573);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=C(this,_(t).call(this,e))).selectedUid="",n.dataSelector=function(e){return n.getChainUid(e)===n.selectedUid},n.dataHighlighter=n.dataSelector,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,S["b"]),n=t,(r=[{key:"getChainUid",value:function(e){return e.pdbId+e.chain}},{key:"selectUid",value:function(e){this.selectedUid=e||""}},{key:"selectFirstChain",value:function(){this.allData.length>0?this.selectedUid=this.getChainUid(this.allData[0]):this.selectedUid=""}},{key:"getPdbChain",value:function(e){var t=this;return this.allData.find(function(n){return t.getChainUid(n)===e})}},{key:"selectedChain",get:function(){return this.getPdbChain(this.selectedUid)}},{key:"tableData",get:function(){return this.sortedFilteredData}}])&&w(n.prototype,r),o&&w(n,o),t}();x([o.observable],E.prototype,"selectedUid",void 0),x([o.action],E.prototype,"selectUid",null),x([o.computed],E.prototype,"selectedChain",null),x([o.action],E.prototype,"selectFirstChain",null),x([o.computed],E.prototype,"tableData",null);var A=n(656),O=n(552),P=n(570),I=n(25),M=n(577),D=n(16);function L(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return V});var B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},z=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},V=function(e){function t(e,n,r,o,a,s,l,c,u){var h,d,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d=this,f=R(t).call(this,r,{isoformOverrideSource:e.isoformOverrideSource,filterMutationsBySelectedTranscript:n.filterMutationsBySelectedTranscript},o),(h=!f||"object"!==G(f)&&"function"!=typeof f?j(d):f).mutationMapperConfig=e,h.mutationMapperStoreConfig=n,h.gene=r,h.getMutations=o,h.indexedHotspotData=a,h.indexedVariantAnnotations=s,h.oncoKbCancerGenes=l,h.oncoKbData=c,h.uniqueSampleKeyToTumorType=u,h.mutationData=Object(p.W)({await:function(){return h.mutationMapperStoreConfig.filterMutationsBySelectedTranscript?[h.canonicalTranscript,h.indexedVariantAnnotations]:[h.canonicalTranscript]},invoke:function(){return z(j(h),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutations);case 1:case"end":return e.stop()}},e,this)}))}},[]),h.alignmentData=Object(p.W)({await:function(){return[h.mutationData]},invoke:function(){return z(j(h),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeTranscript){e.next=4;break}return e.abrupt("return",Object(y.D)(this.activeTranscript));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},[]);var m=h.getMutations;return h.getMutations=function(){return Object(M.b)(m())},Object(i.labelMobxPromises)(j(h)),h}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,a["e"]),n=t,(o=[{key:"countUniqueMutations",value:function(e){return Object(O.d)(e)}},{key:"getDefaultTumorType",value:function(e){return this.uniqueSampleKeyToTumorType[e.uniqueSampleKey]}},{key:"getDefaultEntrezGeneId",value:function(e){return e.gene.entrezGeneId}},{key:"dataFetcher",get:function(){return new a.d({myGeneUrlTemplate:this.mutationMapperConfig.mygene_info_url||void 0,uniprotIdUrlTemplate:this.mutationMapperConfig.uniprot_id_url||void 0,genomeNexusUrl:this.mutationMapperConfig.genomenexus_url||void 0,oncoKbUrl:Object(D.s)()||void 0},s.a,l.a,c.a)}},{key:"unfilteredMutationsByPosition",get:function(){return Object(O.m)(this.dataStore.sortedData)}},{key:"oncoKbDataByProteinPosStart",get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:Object(a.F)(this.unfilteredMutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,P.a)}},{key:"mutationsGroupedByProteinImpactType",get:function(){var e=this,t=this.dataStore.dataFilters.filter(function(e){return e.type!==a.c.PROTEIN_IMPACT_TYPE}),n=Object(a.q)(this.dataStore.allData,t,this.dataStore.applyFilter);return n=n.filter(function(t){return e.dataStore.applyLazyMobXTableFilter(t)}),Object(a.E)(n)}},{key:"processedMutationData",get:function(){return(this.mutationData.result||[]).map(function(e){return[e]})}},{key:"mergedAlignmentData",get:function(){return Object(g.e)(this.indexedAlignmentData)}},{key:"indexedAlignmentData",get:function(){return Object(y.V)(this.alignmentData)}},{key:"sortedMergedAlignmentData",get:function(){return Object(v.c)(this.mergedAlignmentData,function(e){return[e.identity,e.alignment.length,e.identityPerc].concat(L(Object(g.b)(e.pdbId,!0)),[-1*e.chain.charCodeAt(0)])},!1)}},{key:"transcriptsByTranscriptId",get:function(){return r.keyBy(this.allTranscripts.result,function(e){return e.transcriptId})}},{key:"mutationsByTranscriptId",get:function(){var e=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?r.fromPairs(this.transcriptsWithAnnotations.result.map(function(t){return[t,Object(a.B)(e.getMutations(),t,e.indexedVariantAnnotations.result)]})):{}}},{key:"numberOfMutationsTotal",get:function(){return this.getMutations().length}},{key:"dataStore",get:function(){return new A.c(this.processedMutationData,this.filterApplier,this.config.dataFilters,this.config.selectionFilters,this.config.highlightFilters,this.config.groupFilters)}},{key:"downloadDataFetcher",get:function(){return new b.a(this.mutationData)}},{key:"pdbChainDataStore",get:function(){return new E(this.sortedMergedAlignmentData.filter(function(e){return!g.a.includes(e.pdbId.toLowerCase())}))}},{key:"residueMappingCache",get:function(){return new m}}])&&N(n.prototype,o),u&&N(n,u),t}();B([o.computed],V.prototype,"dataFetcher",null),B([I.a],V.prototype,"getDefaultTumorType",null),B([I.a],V.prototype,"getDefaultEntrezGeneId",null),B([o.computed],V.prototype,"unfilteredMutationsByPosition",null),B([o.computed],V.prototype,"oncoKbDataByProteinPosStart",null),B([o.computed],V.prototype,"mutationsGroupedByProteinImpactType",null),B([o.computed],V.prototype,"processedMutationData",null),B([o.computed],V.prototype,"mergedAlignmentData",null),B([o.computed],V.prototype,"indexedAlignmentData",null),B([o.computed],V.prototype,"sortedMergedAlignmentData",null),B([o.computed],V.prototype,"transcriptsByTranscriptId",null),B([o.computed],V.prototype,"mutationsByTranscriptId",null),B([o.computed],V.prototype,"numberOfMutationsTotal",null),B([i.cached],V.prototype,"dataStore",null),B([i.cached],V.prototype,"downloadDataFetcher",null),B([i.cached],V.prototype,"pdbChainDataStore",null),B([i.cached],V.prototype,"residueMappingCache",null)},function(e,t,n){"use strict";var r=n(161),o=n(549),i=n(7),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function h(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.entityId)}function d(e,t,n,o){return p(this,void 0,void 0,regeneratorRuntime.mark(function i(){var s,l,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=a.a.groupBy(e,"studyId"),l=Object.keys(s),i.next=4,Promise.all(l.map(function(e){return r.a.fetchClinicalDataUsingPOST({clinicalDataType:n,clinicalDataMultiStudyFilter:{attributeIds:t,identifiers:s[e]},projection:o})}));case 4:return c=i.sent,i.abrupt("return",c.map(function(e,t){return{data:e,meta:l[t]}}));case 6:case"end":return i.stop()}},i)}))}var f=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,h,function(e){return"".concat(e.studyId,"~").concat(e.sampleId)},d,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["a"]),t}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return b});var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,g(t).call(this,["CANCER_TYPE_DETAILED"],"SAMPLE","SUMMARY"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,f),t}()},function(e){e.exports=["ABCB1","ABCB6","ACACA","ACAT1","ACE","ACLY","ACOT4","ACP1","ACTA2","ACVR1","ACVR1B","ADAM19","ADCY5","ADGRB2","ADSSL1","AHSA1","AIFM3","AKR7L","AKT1","AKT2","AKT3","ALK","ALOX15B","AMT","AMY1A","AMY1C","AMY2A","ANK1","ANKLE2","ANKRD11","ANKRD30B","ANOS1","ANXA6","AOC1","AP5B1","APCS","APLP1","APOC1","AR","ARAF","ARHGAP32","ARID1A","ARID1B","ARID2","ARNTL","ASMT","ASXL2","ATM","ATP1A2","ATP1A3","ATP4A","ATP7A","ATRX","ATXN1","AXIN1","AXL","B2M","BACH2","BAP1","BAX","BCL10","BCL2","BCL2L11","BCL6","BCOR","BRAF","BRCA2","BRD4","BTNL3","C10ORF71","C2","C2ORF16","C3","CABP1","CACNA1B","CACNA1E","CALM1","CAMK1","CAMK2D","CAND1","CAPN1","CAPNS1","CARD11","CARM1","CASP1","CASP6","CASP7","CASP8","CBFB","CBL","CCL7","CCND1","CCND3","CCT3","CD300C","CD79B","CD81","CDH1","CDK12","CDK2","CDK4","CDK6","CDK8","CDK9","CDKN1A","CDKN1B","CDKN2A","CDKN2C","CEBPA","CENPA","CENPE","CEP164","CFH","CFHR3","CFL1","CHEK2","CHN2","CIAO1","CIC","CLASP1","CLTC","CLTCL1","CNTN2","COL22A1","COL3A1","COLEC11","COPE","CPB2","CR1","CR1L","CRABP2","CREBBP","CRLF2","CRY1","CSF1","CSF3","CSNK1G1","CST6","CTCF","CTCFL","CTLA4","CTNNB1","CTPS1","CTSD","CTSL","CUL1","CUL3","CUL5","CYP2A6","CYSLTR2","DAXX","DCC","DCLRE1B","DCN","DDC","DDX19A","DDX39B","DDX3X","DICER1","DIS3","DLC1","DLG4","DLX5","DNAJB1","DNAJC6","DNM2","DNMT1","DNMT3A","DNMT3B","DOCK6","DOCK8","DOT1L","DPP4","DPP6","DPYSL3","DUSP8","DUSP9","E2F5","ECHDC3","ECT2L","EEF1A1","EEF1G","EGFR","EGR3","EHMT1","EIF1AX","EIF2AK2","EIF4A2","ENPP6","EP300","EPAS1","EPHA1","EPHA7","EPHB1","EPHB2","EPS15L1","ERBB2","ERBB2IP","ERBB3","ERBB4","ERCC2","ERCC3","ERG","ERRFI1","ESR1","ESYT2","ETS2","ETV6","EZH2","F11R","F7","FAM58A","FAT1","FBXO44","FBXW7","FDX1","FGF1","FGF9","FGFR1","FGFR2","FGFR3","FGFR4","FGG","FH","FHL5","FKBP14","FKBP5","FLNA","FLNB","FLT1","FLT3","FMNL3","FOXA1","FOXL2","FOXO1","FOXP1","FUBP1","GABPA","GAS2L3","GATA1","GATA2","GATA3","GCSH","GGA2","GLI1","GLRX2","GNA11","GNAI3","GNAQ","GNAS","GOLGA2","GPAM","GPS2","GPT2","GRB2","GRIA2","GRM1","GSG2","GSK3B","GTF2I","GUCA1A","GUCY1B3","H2AFJ","H3F3A","HBA2","HDAC1","HDAC3","HDAC6","HDAC8","HES1","HGF","HGFAC","HIC2","HIST1H1C","HIST1H2AE","HIST1H2AH","HIST1H2BB","HIST1H2BC","HIST1H2BD","HIST1H2BE","HIST1H2BH","HIST1H2BI","HIST1H2BL","HIST1H3B","HIST1H3C","HIST1H3E","HIST1H3G","HIST1H3H","HIST1H4E","HIST1H4J","HIST1H4K","HIST1H4L","HIST2H3D","HIST4H4","HLA-A","HLA-B","HLA-DQA1","HNF1A","HNRNPH2","HRAS","HSD17B10","IDH1","IDH2","IFIT1","IFNLR1","IGF1R","IGFBP3","IKZF1","IL13RA2","IL18R1","IL21R","IL6ST","IL7R","ING2","INHBA","INPP4A","INPPL1","IQUB","IRF3","IRF4","IRS2","ISPD","ITFG1","ITGA1","ITGA4","ITGAM","ITGB1","ITGB2","ITPR2","JAK1","JPH2","JUN","KCNA3","KCNH5","KDM4B","KDM5C","KDM6A","KDR","KEAP1","KIAA0586","KIF1A","KIFC1","KIT","KLF4","KLHL3","KMT2C","KMT2D","KNSTRN","KPNB1","KRAS","KRT5","LATS2","LCAT","LCMT1","LDB1","LDB2","LDLRAP1","LGALS1","LGALS9","LHX6","LILRB2","LRRC3B","LRRC55","LYN","MAGIX","MAP1B","MAP2K1","MAP2K2","MAP2K4","MAP2K5","MAP3K1","MAP3K13","MAPK1","MASP1","MASP2","MATN3","MAX","MCF2","MDC1","MDFIC","MDGA2","MECOM","MED12","MEF2B","MET","MGAT1","MKI67","MKX","MLST8","MMEL1","MNDA","MOB1B","MRPL11","MRPL3","MST1","MTOR","MYC","MYCN","MYD88","MYO10","MYOD1","MYOM1","MZF1","NCF1","NCKAP1L","NCOA3","NCS1","NDST3","NEBL","NEDD8","NEIL1","NF1","NFE2L2","NGFR","NME3","NMT1","NONO","NOTCH1","NOTCH2","NRAS","NSD1","NUF2","NUP93","OXSM","OXSR1","PACSIN1","PACSIN3","PAK7","PARD3","PARP1","PAX5","PAXIP1","PBRM1","PCBD2","PCBP1","PCDH15","PCDHA4","PCDHB13","PCDHB8","PDE11A","PDGFRA","PDPK1","PDXP","PECR","PGR","PIK3CA","PIK3CB","PIK3CD","PIK3R1","PIK3R2","PIM1","PIWIL2","PLEK","PLEKHA6","PLEKHH1","PLEKHH2","PLG","PLK2","PLXNB1","PMS2","POLE","POLH","POLI","POLM","POR","POTEE","POTEF","PPARG","PPFIA3","PPIP5K2","PPP2R1A","PPP3CA","PPP4R2","PPP6C","PRDM14","PRELID1","PREX2","PRKCB","PRKCI","PRLR","PROCR","PRPF31","PRUNE2","PSAP","PSMB3","PTBP2","PTEN","PTK2B","PTP4A1","PTPN1","PTPN11","PTPRD","PTPRF","PTPRR","PTPRS","PTPRT","PUM1","PYGM","RAB30","RAB33B","RABGAP1L","RAC1","RAD50","RAD51C","RAD52","RAF1","RALYL","RANBP6","RARA","RB1","RBBP7","RBM10","RBM46","RBMS3","RBP2","RBP4","RBP7","RECQL","RECQL4","RELA","RET","RGAG4","RGPD3","RGS6","RHCG","RHEB","RHOA","RICTOR","RIT1","RNF111","RNF41","RNF43","RNF7","RORC","RPRD1B","RPS6KA3","RPS6KA4","RPS6KB1","RPTOR","RQCD1","RRAS2","RUNX1","RXRA","RYR2","S100A14","S100A2","S100A3","SALL3","SDC3","SDHA","SDHAF2","SDR39U1","SELE","SERPINB3","SESN2","SETBP1","SETD2","SF3B1","SH3GL1","SH3GLB2","SHROOM4","SIRT3","SLC12A2","SLC25A11","SLC25A4","SLC25A5","SLFNL1","SLIT2","SMAD2","SMAD3","SMAD4","SMARCA4","SMARCB1","SMARCC2","SMARCD1","SMC1A","SMG7","SMO","SMURF2","SNAP29","SNRNP200","SNRPD3","SNRPN","SNX17","SOCS1","SOCS5","SORL1","SOS1","SOX17","SOX6","SOX9","SPEG","SPON2","SPOP","SPRED1","SRM","SRP9","SRSF2","SSBP1","STARD5","STAT3","STIM1","STK11","STK19","STK24","SUMO3","SUPT5H","SYK","SYT14","SYT7","TAF4B","TBK1","TBL1XR1","TCEB1","TCEB2","TCF21","TCF3","TCF7L2","TDRD7","TEAD2","TET1","TF","TGFBI","TGFBR1","TGFBR2","TH","THADA","THBS2","THRA","THRB","TICAM1","TIGD1","TMPRSS11E","TNFRSF14","TNFSF18","TNR","TOPBP1","TOX","TP53","TP53I3","TP63","TRAF2","TRAF7","TRAP1","TRIM24","TRIM9","TRPV1","TSC1","TSG101","TTC14","TTK","TUBA3D","TUBB2A","TUBB2B","TUBB4A","TXNL4A","U2AF1","UBE2E2","UGP2","UNC5C","UNC79","UQCRFS1","USH1C","USP5","UVSSA","VCL","VHL","VIM","WDR75","WHSC1","WRN","XPO1","ZEB2","ZIC1","ZNF320","ZNF443","ZNF484","ZNF548","ZNF572","ZNF658","ZNF664","ZNF777","ZNF98","ZSCAN16"]},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(4),o=n(79),i=n(550),a=n(616),s=n(692);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},m=function(e){function t(e,n,a,s,l,p,d,m,y,g,v,b,S,w,C,_,k,T,x,E,A){var O,P,I;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P=this,I=c(t).call(this,e,n,a,p,T,x,l,A,E),(O=!I||"object"!==h(I)&&"function"!=typeof I?u(P):I).mutationMapperConfig=e,O.mutationMapperStoreConfig=n,O.gene=a,O.samples=s,O.oncoKbCancerGenes=l,O.getMutationCountCache=d,O.getGenomeNexusCache=m,O.getGenomeNexusMutationAssessorCache=y,O.getGenomeNexusMyVariantInfoCache=g,O.getDiscreteCNACache=v,O.studyToMolecularProfileDiscrete=b,O.studyIdToStudy=S,O.molecularProfileIdToMolecularProfile=w,O.clinicalDataForSamples=C,O.studiesForSamplesWithoutCancerTypeClinicalData=_,O.germlineConsentedSamples=k,O.indexedHotspotData=T,O.indexedVariantAnnotations=x,O.uniqueSampleKeyToTumorType=E,O.oncoKbData=A,O.cosmicData=Object(r.W)({await:function(){return[O.mutationData]},invoke:function(){return Object(i.p)(O.mutationData)}}),O.civicGenes=Object(r.W)({await:function(){return[O.mutationData,O.clinicalDataForSamples]},invoke:function(){return f(u(O),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutationMapperConfig.show_civic?Object(i.f)(this.mutationData):{});case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),O.civicVariants=Object(r.W)({await:function(){return[O.civicGenes,O.mutationData]},invoke:function(){return f(u(O),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationMapperConfig.show_civic||!this.civicGenes.result){e.next=4;break}return e.abrupt("return",Object(i.g)(this.civicGenes.result,this.mutationData));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),Object(o.labelMobxPromises)(u(O)),O}var n,d,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,s["a"]),n=t,(d=[{key:"downloadDataFetcher",get:function(){return new a.a(this.mutationData,this.studyToMolecularProfileDiscrete,this.getGenomeNexusCache,this.getGenomeNexusMutationAssessorCache,this.getGenomeNexusMyVariantInfoCache,this.getMutationCountCache,this.getDiscreteCNACache)}}])&&l(n.prototype,d),m&&l(n,m),t}();d([o.cached],m.prototype,"downloadDataFetcher",null)},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"paginationControls-module__portalWidth__2gIaM",framedImage:"paginationControls-module__framedImage__2QU5w","default-cursor":"paginationControls-module__default-cursor__3qNcu","form-select":"paginationControls-module__form-select__3-BhF","page-number-input":"paginationControls-module__page-number-input__2DGhO",paginationControls:"paginationControls-module__paginationControls__MF0uG","margin-right-button":"paginationControls-module__margin-right-button__3tzhL","margin-left-button":"paginationControls-module__margin-left-button__1rLFR","hidden-button":"paginationControls-module__hidden-button__2mt4l"}},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(92),i=n(575),a=n(116),s=n.n(a),l=n(5),c=n(11),u=n(631),p=n.n(u),h=n(632);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=n(591),S=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==g(o)&&"function"!=typeof o?m(r):o).downloadingData=!1,n.copyingData=!1,n.showErrorMessage=!1,n.showTooltipCopyMessage=!1,n._copyButton=null,n._modalCopyButton=null,n._modalCopyButtonContainer=null,n._copyText=null,n.handleDownload=n.handleDownload.bind(m(n)),n.handleCopy=n.handleCopy.bind(m(n)),n.handleModalClose=n.handleModalClose.bind(m(n)),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.showCopy&&this.bindCopyButton(this._copyButton)}},{key:"bindCopyButton",value:function(e,t){e&&new b(e,{text:this.getText.bind(this),container:t})}},{key:"render",value:function(){var e=this;return r.createElement("span",null,r.createElement(h.a,{className:this.props.className,showCopy:this.props.showCopy,showCopyMessage:this.showTooltipCopyMessage,showDownload:this.props.showDownload,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,handleDownload:this.handleDownload,handleCopy:this.handleCopy,copyButtonRef:function(t){e._copyButton=t}}),this.downloadIndicatorModal(),this.copyIndicatorModal(),this.downloadErrorModal())}},{key:"downloadIndicatorModal",value:function(){return r.createElement(o.Modal,{show:this.downloadingData,onHide:function(){},bsSize:"sm",className:"".concat(p.a["centered-modal-dialog"])},r.createElement(o.Modal.Body,null,r.createElement(i.ThreeBounce,{style:{display:"inline-block",marginRight:10}}),r.createElement("span",null,"Downloading Table Data...")))}},{key:"copyIndicatorModal",value:function(){var e=this;return r.createElement(o.Modal,{show:this.copyingData,onHide:function(){},onEntered:function(){e.bindCopyButton(e._modalCopyButton,e._modalCopyButtonContainer)},bsSize:"sm",className:"".concat(p.a["centered-modal-dialog"])},r.createElement(o.Modal.Header,null,this.showErrorMessage?"Copy Error!":"Copy Ready!"),r.createElement(o.Modal.Body,null,this.showErrorMessage&&"An error occurred while copying the data. Data may be incomplete.","Please click on Copy to copy the data to clipboard."),r.createElement(o.Modal.Footer,null,r.createElement("span",{ref:function(t){e._modalCopyButtonContainer=t}},r.createElement("button",{ref:function(t){e._modalCopyButton=t},onClick:this.handleModalClose,className:"btn btn-primary","data-clipboard-text":"NA",id:"modalCopyButton"},"Copy"))))}},{key:"downloadErrorModal",value:function(){return r.createElement(o.Modal,{show:!this.copyingData&&this.showErrorMessage,onHide:this.handleModalClose,bsSize:"sm",className:"".concat(p.a["centered-modal-dialog"])},r.createElement(o.Modal.Header,null,"Download Error!"),r.createElement(o.Modal.Body,null,"An error occurred while downloading the data. Downloaded file may contain incomplete data."),r.createElement(o.Modal.Footer,null,r.createElement(o.Button,{onClick:this.handleModalClose,className:"btn btn-primary"},"Close")))}},{key:"getText",value:function(){return this._copyText||""}},{key:"handleCopy",value:function(){this.initCopyProcess()}},{key:"initCopyProcess",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText!==t?(e._copyText=t,e.copyingData=!0):e.showSimpleCopyMessage()})}},{key:"handleDownload",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText=t,e.download(t)})}},{key:"initDownloadProcess",value:function(e){var t=this;this.props.downloadData&&(this.downloadingData=!0,this.props.downloadData().then(function(n){"complete"===n.status?t.downloadingData=!1:t.triggerDownloadError(),e(n.text)}).catch(function(){t.triggerDownloadError()}))}},{key:"download",value:function(e){s()(e,this.props.downloadFilename)}},{key:"handleModalClose",value:function(){this.copyingData=!1,this.showErrorMessage=!1}},{key:"triggerDownloadError",value:function(){this.downloadingData=!1,this.showErrorMessage=!0}},{key:"showSimpleCopyMessage",value:function(){var e=this;this.showTooltipCopyMessage=!0,setTimeout(function(){e.showTooltipCopyMessage=!1},this.props.copyMessageDuration)}}])&&d(n.prototype,a),l&&d(n,l),t}();S.defaultProps={className:"",copyMessageDuration:3e3,showCopy:!0,showDownload:!0,downloadFilename:"data.tsv"},v([l.observable],S.prototype,"downloadingData",void 0),v([l.observable],S.prototype,"copyingData",void 0),v([l.observable],S.prototype,"showErrorMessage",void 0),v([l.observable],S.prototype,"showTooltipCopyMessage",void 0),v([l.action],S.prototype,"handleModalClose",null),v([l.action],S.prototype,"triggerDownloadError",null),v([l.action],S.prototype,"showSimpleCopyMessage",null),S=v([c.observer],S)},,function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__QOSi2",framedImage:"styles-module__framedImage__1dzkM",virtualStudy:"styles-module__virtualStudy__U7f0-",virtualStudyForm:"styles-module__virtualStudyForm__24Vwu",saveButton:"styles-module__saveButton__272LI",studiesSummaryInfo:"styles-module__studiesSummaryInfo__3ewzF",result:"styles-module__result__1BQ9F",name:"styles-module__name__3bVye",controls:"styles-module__controls__31KcC",disabled:"styles-module__disabled__M8SEC",studySummary:"styles-module__studySummary__3Tls0",studyName:"styles-module__studyName__3U1tn",studyDescription:"styles-module__studyDescription__1tQcY"}},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(581);function o(e,t){return t===r.b?0:Math.floor(Math.max(e-1,0)/t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(161),o=n(549),i=n(7),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function h(e,t){return"".concat(t)}function d(e){return"".concat(e.entrezGeneId)}function f(e,t,n){return p(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,s,l,c,u,p,h,d,f,m,y,g,v,b;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Object.keys(t),o.next=3,Promise.all(i.map(function(o){var i=n[o],a=t[o],s=e.map(function(e){return e.entrezGeneId});return i&&a&&s.length>0?r.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:a.molecularProfileId,mutationFilter:Object.assign({},i,{entrezGeneIds:s}),projection:"DETAILED"}):Promise.resolve([])}));case 3:for(s=o.sent,l=a.a.keyBy(e,function(e){return e.entrezGeneId}),c=a.a.values(a.a.groupBy(a.a.flatten(s),"entrezGeneId")),u=[],p=!0,h=!1,d=void 0,o.prev=10,f=c[Symbol.iterator]();!(p=(m=f.next()).done);p=!0)(y=m.value).length&&(u.push({meta:y[0].entrezGeneId,data:[y]}),delete l[y[0].entrezGeneId]);o.next=18;break;case 14:o.prev=14,o.t0=o.catch(10),h=!0,d=o.t0;case 18:o.prev=18,o.prev=19,p||null==f.return||f.return();case 21:if(o.prev=21,!h){o.next=24;break}throw d;case 24:return o.finish(21);case 25:return o.finish(18);case 26:for(g=0,v=Object.keys(l);g<v.length;g++)b=v[g],u.push({meta:parseInt(b,10),data:[]});return o.abrupt("return",u);case 28:case"end":return o.stop()}},o,null,[[10,14,18,26],[19,,21,25]])}))}var m=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,d,h,f,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,o["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(549),o=n(161),i=n(7),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function h(e){return"".concat(e.molecularProfileId,"~").concat(e.entrezGeneId)}function d(e,t){return"".concat(t.molecularProfileId,"~").concat(t.entrezGeneId)}function f(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,i,s,l,c,u,p,d,f,m,y,g,v,b,S,w,C,_,k,T,x,E;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.a.mapValues(a.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.entrezGeneId})}),i=Object.keys(r).map(function(e){return{molecularProfileId:e,molecularDataFilter:Object.assign({entrezGeneIds:r[e]},t[e])}}),n.next=4,Promise.all(i.map(function(e){return o.a.fetchAllMolecularDataInMolecularProfileUsingPOST(e)}));case 4:for(s=n.sent,l={},c=!0,u=!1,p=void 0,n.prev=9,d=e[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)m=f.value,l[h(m)]={data:[[]],meta:m};n.next=17;break;case 13:n.prev=13,n.t0=n.catch(9),u=!0,p=n.t0;case 17:n.prev=17,n.prev=18,c||null==d.return||d.return();case 20:if(n.prev=20,!u){n.next=23;break}throw p;case 23:return n.finish(20);case 24:return n.finish(17);case 25:y=!0,g=!1,v=void 0,n.prev=28,b=s[Symbol.iterator]();case 30:if(y=(S=b.next()).done){n.next=54;break}for(w=S.value,C=!0,_=!1,k=void 0,n.prev=35,T=w[Symbol.iterator]();!(C=(x=T.next()).done);C=!0)E=x.value,l[h(E)].data[0].push(E);n.next=43;break;case 39:n.prev=39,n.t1=n.catch(35),_=!0,k=n.t1;case 43:n.prev=43,n.prev=44,C||null==T.return||T.return();case 46:if(n.prev=46,!_){n.next=49;break}throw k;case 49:return n.finish(46);case 50:return n.finish(43);case 51:y=!0,n.next=30;break;case 54:n.next=60;break;case 56:n.prev=56,n.t2=n.catch(28),g=!0,v=n.t2;case 60:n.prev=60,n.prev=61,y||null==b.return||b.return();case 63:if(n.prev=63,!g){n.next=66;break}throw v;case 66:return n.finish(63);case 67:return n.finish(60);case 68:return n.abrupt("return",a.a.values(l));case 69:case"end":return n.stop()}},n,null,[[9,13,17,25],[18,,20,24],[28,56,60,68],[35,39,43,51],[44,,46,50],[61,,63,67]])}))}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,c(t).call(this,h,d,f,e))).molecularProfileIdToSampleFilter=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(549),o=n(94),i=n(7),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function h(e){return"".concat(e.molecularProfileId,"~").concat(e.genesetId)}function d(e,t){return"".concat(t.molecularProfileId,"~").concat(t.genesetId)}function f(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n[h(c)]={data:[[]],meta:c}}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}var u=!0,p=!1,d=void 0;try{for(var f,m=t[Symbol.iterator]();!(u=(f=m.next()).done);u=!0){var y=f.value,g=!0,v=!1,b=void 0;try{for(var S,w=y[Symbol.iterator]();!(g=(S=w.next()).done);g=!0){var C=S.value;n[h({molecularProfileId:C.geneticProfileId,genesetId:C.genesetId})].data[0].push(C)}}catch(e){v=!0,b=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw b}}}}catch(e){p=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(p)throw d}}return a.a.values(n)}function m(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,i,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.a.mapValues(a.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.genesetId})}),i=Object.keys(r).map(function(e){return{geneticProfileId:e,genesetDataFilterCriteria:Object.assign({genesetIds:r[e]},t[e])}}),s=i.map(function(e){return o.a.fetchGeneticDataItemsUsingPOST(e)}),n.next=5,Promise.all(s);case 5:return l=n.sent,n.abrupt("return",f(e,l));case 7:case"end":return n.stop()}},n)}))}var y=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,h,d,m,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(94);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function l(e,t){var n=e.genesetId,o=e.molecularProfileId;return s(this,void 0,void 0,regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.assign({genesetId:n,geneticProfileId:o},t[o]),e.abrupt("return",r.a.fetchCorrelatedGenesUsingPOST(i));case 2:case"end":return e.stop()}},e)}))}var c=function(){function e(t){o(this,e),this.stateChain=Promise.resolve(t)}return a(e,[{key:"appendTransition",value:function(e){var t=this.stateChain.then(e);return this.stateChain=t.then(function(e){return e.newState}),t.then(function(e){return e.output})}}]),e}(),u=function(){function e(t,n){o(this,e),this.nextGeneIndexStateChain=new c(0),this.data=void 0,this.query=t,this.sampleFilterByProfile=n}return a(e,[{key:"next",value:function(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.nextGeneIndexStateChain.appendTransition(function(t){return s(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.data){n.next=4;break}return n.next=3,l(this.query,this.sampleFilterByProfile);case 3:this.data=n.sent;case 4:return r=this.data.slice(t,t+e),n.abrupt("return",{newState:t+r.length,output:r});case 6:case"end":return n.stop()}},n,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"reset",value:function(){this.nextGeneIndexStateChain.appendTransition(function(e){return Promise.resolve({newState:0,output:void 0})})}}]),e}(),p=function(){function e(t){o(this,e),this.iterations={},this.sampleFilterByProfile=t}return a(e,[{key:"initIteration",value:function(e,t){Object.prototype.hasOwnProperty.call(this.iterations,e)||(this.iterations[e]=new u(t,this.sampleFilterByProfile))}},{key:"next",value:function(e,t){return s(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.iterations[e].next(t));case 1:case"end":return n.stop()}},n,this)}))}},{key:"reset",value:function(e){this.iterations[e].reset()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(549),o=n(7),i=n.n(o),a=n(642);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function h(e){return"".concat(e.molecularProfileId,"~").concat(e.treatmentId)}function d(e,t){return"".concat(t.molecularProfileId,"~").concat(t.treatmentId)}function f(e,t){var n={},r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n[h(c)]={data:[[]],meta:c}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var u=!0,p=!1,d=void 0;try{for(var f,y=t[Symbol.iterator]();!(u=(f=y.next()).done);u=!0){var g=f.value,v=!0,b=!1,S=void 0;try{for(var w,C=g[Symbol.iterator]();!(v=(w=C.next()).done);v=!0){var _=w.value;n[h({molecularProfileId:(_=m(_)).geneticProfileId,treatmentId:_.treatmentId})].data[0].push(_)}}catch(e){b=!0,S=e}finally{try{v||null==C.return||C.return()}finally{if(b)throw S}}}}catch(e){p=!0,d=e}finally{try{u||null==y.return||y.return()}finally{if(p)throw d}}return i.a.values(n)}function m(e){if(!e.thresholdType){var t=/([><]?)(.+)/.exec(e.value);e.thresholdType=void 0,t&&(e.value=t[2],t[1].length>0&&(">"===t[1]?e.thresholdType=t[1]:"<"===t[1]&&(e.thresholdType=t[1])))}return e}function y(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.a.mapValues(i.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.treatmentId})}),n.next=3,Object(a.b)(r,t);case 3:return o=n.sent,n.abrupt("return",f(e,o));case 5:case"end":return n.stop()}},n)}))}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,h,d,y,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(549),o=n(161);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function u(e){return e.hugoGeneSymbol.toUpperCase()}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.map(function(e){return e.hugoGeneSymbol.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).call(this,u,u,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(549),o=n(94);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function u(e){return e.genesetId.toUpperCase()}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.fetchGenesetsUsingPOST({genesetIds:e.map(function(e){return e.genesetId.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).call(this,u,u,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,o=n(7),i=n(548);function a(e,t){return o.flatMap(e,function(e){return function(e,t){var n=[];switch(t){case r.Mutation:n.push(l(e));break;case r.CNA:n.push(s(e));break;case r.MutationAndCNA:n.push(l(e)),n.push(s(e))}return o.compact(n)}(e,t)})}function s(e){var t=e.filter(function(e){return e.molecularAlterationType===i.a.COPY_NUMBER_ALTERATION}).reduce(function(e,t){var n;return n=t.molecularProfileId,/GISTIC/i.test(n)?e.gistic.push(t):!function(e){return/RAE/i.test(e)}(t.molecularProfileId)?e.other.push(t):e.rae.push(t),e},{gistic:[],rae:[],other:[]});return t.gistic.length?t.gistic[0]:t.rae.length?t.rae[0]:t.other.length?o.find(t.other,function(e){return e.showProfileInAnalysisTab}):void 0}function l(e){return o.find(e,function(e){return e.molecularAlterationType===i.a.MUTATION_EXTENDED})}!function(e){e[e.MutationAndCNA=0]="MutationAndCNA",e[e.Mutation=1]="Mutation",e[e.CNA=2]="CNA"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.InvalidGenes="INVALID GENE SYMBOLS"}(r||(r={}))},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+CiAgPCEtLU5vIGxldmVsIGljb25zLS0+CiAgICAgIDxnICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LCA3KSI+CiAgICAgICAgPGNpcmNsZSByPSI2IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIzIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIxLjUiIGZpbGw9IiMwMDdGRkYiIHN0cm9rZT0ibm9uZSI+PC9jaXJjbGU+CiAgICAgIDwvZz4KPC9zdmc+"},function(e){e.exports=[{hugoGeneSymbol:"CRLF2",alteration:"F232C",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/crlf2/199/">CRLF2 c.695T>G (F232C) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"CRLF2",alteration:"Fusions",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/crlf2/208/">CRLF2 Fusions in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683G",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/200/">JAK2 c.2047A>G (R683G) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683S",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/201/">JAK2 c.2049A>T (R683S) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683S",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/202/">JAK2 c.2049A>C (R683S) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683T",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/203/">JAK2 c.2048G>C (R683T) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"CBFB-MYH11",alteration:"t(16;16)(p13.1;q22) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/cbfb-myh11/252/">CBFB-MYH11 t(16;16)(p13.1;q22) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"CBFB-MYH11",alteration:"inv(16)(p13.1q22) Inversion",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/cbfb-myh11/258/">CBFB-MYH11 inv(16)(p13.1q22) Inversion in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DEK-NUP214",alteration:"t(6;9)(p23;q34) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dek-nup214/255/">DEK-NUP214 t(6;9)(p23;q34) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882C",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/291/">DNMT3A c.2644C>T (R882C) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/292/">DNMT3A c.2644C>A (R882S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/293/">DNMT3A c.2645G>A (R882H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882P",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/294/">DNMT3A c.2645G>C (R882P) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/295/">DNMT3A c.2644C>G (R882G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/296/">DNMT3A c.2645G>T (R882L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"Internal Tandem Duplication",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/277/">FLT3 Internal Tandem Duplication in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/278/">FLT3 c.2503G>C (D835H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835N",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/279/">FLT3 c.2503G>A (D835N) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835Y",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/280/">FLT3 c.2503G>T (D835Y) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835A",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/281/">FLT3 c. 2504A>C (D835A) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/282/">FLT3 c.2504A>T (D835V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835E",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/283/">FLT3 c.2505T>G (D835E) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/284/">FLT3 c.2506A>C (I836L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/285/">FLT3 c.2506A>G (I836V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836D",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/286/">FLT3 c.2506_2507delATinsGA (I836D) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/287/">FLT3 c.2506_2507delATinsCA (I836H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835E",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/288/">FLT3 c.2505T>A (D835E) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"FLT3",alteration:"I836F",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/289/">FLT3 c.2506A>T (I836F) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836M",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/290/">FLT3 c.2508C>G (I836M) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"IDH1",alteration:"R132C",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/260/">IDH1 c.394C>T (R132C) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"IDH1",alteration:"R132G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/261/">IDH1 c.394C>G (R132G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/262/">IDH1 c.394C>A (R132S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/263/">IDH1 c.395G>A (R132H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/264/">IDH1 c.395G>T (R132L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132P",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/265/">IDH1 c.395G>C (R132P) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140Q",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/266/">IDH2 c.419G>A (R140Q) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140W",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/267/">IDH2 c.418C>T (R140W) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/268/">IDH2 c.419G>T (R140L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/269/">IDH2 c.418C>G (R140G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172K",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/270/">IDH2 c.515G>A (R172K) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172M",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/271/">IDH2 c.515G>T (R172M) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/272/">IDH2 c.516G>C (R172S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 8 Mutation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/273/">KIT Exon 8 Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816Y",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/274/">KIT c.2446G>T (D816Y) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/275/">KIT c.2447A>T (D816V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816I",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/276/">KIT c.2446_2447delGAinsAT (D816I) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816H",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/84/">KIT c.2446G>C (D816H) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"MLL-MLLT3",alteration:"t(9;11)(p22;q23) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/mll-mllt3/254/">MLL-MLLT3 t(9;11)(p22;q23) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"PML-RARA",alteration:"t(15;17)(q22;q12) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/pml-rara/253/">PML-RARA t(15;17)(q22;q12) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RBM15-MKL1",alteration:"t(1;22)(p13;q13) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rbm15-mkl1/257/">RBM15-MKL1 t(1;22)(p13;q13) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RPN1-EVI1",alteration:"(RPN1-MECOM) inv(3)(q21q26.2) Inversion",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rpn1-evi1/256/">RPN1-EVI1 (RPN1-MECOM) inv(3)(q21q26.2) Inversion in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RPN1-EVI1",alteration:"(RPN1-MECOM) t(3;3)(q21;q26.2) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rpn1-evi1/259/">RPN1-EVI1 (RPN1-MECOM) t(3;3)(q21;q26.2) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RUNX1-RUNX1T1",alteration:"t(8;21)(q22;q22) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/runx1-runx1t1/251/">RUNX1-RUNX1T1 t(8;21)(q22;q22) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Anaplastic Large Cell Lymphoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/anaplastic-large-cell-lymphoma/alk/66/">ALK Fusions in Anaplastic Large Cell Lymphoma</a>'},{hugoGeneSymbol:"SMO",alteration:"D473H",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/163/">SMO c.1417G>C (D473H) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"A68V",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/164/">SMO c.203_204delCCinsTT (A68V) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R199W",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/165/">SMO c.595C>T (R199W) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"T349I",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/166/">SMO c.1046_1047delCCinsTT (T349I) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R485W",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/167/">SMO c.1452_1453delCCinsTT (R485W) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"L515F",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/168/">SMO c.1542_1543delCCinsTT (L515F) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"W535L",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/169/">SMO c.1604G>T (W535L) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R562Q",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/170/">SMO c.1685G>A (R562Q) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"A652V",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/171/">SMO c.1955C>T (A652V) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"P755F",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/172/">SMO c.2263_2264delCCinsTT (P755F) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"TSC1",alteration:"E636fs",cancerType:"Bladder Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/bladder-cancer/tsc1/237/">TSC1 c.1907_1908del (E636fs) Mutation in Bladder Cancer</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"AR",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/ar/311/">AR Expression in Breast Cancer</a>'},{hugoGeneSymbol:"ESR1",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/esr1/248/">ER (ESR1) Expression in Breast Cancer</a>'},{hugoGeneSymbol:"FGFR1",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/fgfr1/58/">FGFR1 Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"FGFR2",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/fgfr2/309/">FGFR2 Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/119/">HER2 (ERBB2) Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Overexpression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/238/">HER2 (ERBB2) Overexpression in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"G309A",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/239/">HER2 (ERBB2) c.926G>C (G309A) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"D769H",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/240/">HER2 (ERBB2) c.2305G>C (D769H) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"D769Y",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/241/">HER2 (ERBB2) c.2305G>T (D769Y) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"L755_T759del",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/242/">HER2 (ERBB2) c.2264_2278del (L755_T759del) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"G778_P780dup",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/243/">HER2 (ERBB2) c.2339_2340ins (G778_P780dup) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"V842I",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/244/">HER2 (ERBB2) c.2524G>A (V842I) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"R896C",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/245/">HER2 (ERBB2) c.2686C>T (R896C) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"L755S",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/246/">HER2 (ERBB2) c.2264T>C (L755S) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"V777L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/247/">HER2 (ERBB2) c.2329G>T (V777L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/11/">PIK3CA  c.3140A>G (H1047R) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545G",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/13/">PIK3CA c.1634A>G (E545G) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545V",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/14/">PIK3CA c.1634A>T (E545V) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546E",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/15/">PIK3CA c.1636C>G (Q546E) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/17/">PIK3CA c.1637A>T (Q546L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546P",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/18/">PIK3CA c.1637A>C (Q546P) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546R",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/19/">PIK3CA c.1637A>G (Q546R) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"D549N",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/20/">PIK3CA c.1645G>A (D549N) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PGR",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pgr/249/">PR (PGR) Expression in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R159Ss",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/24/">PTEN c.477G>T (R159S) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/25/">PTEN c.697C>T (R233*) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"K267fs",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/26/">PTEN c.800delA (K267fs*9) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"BIRC3",alteration:"Truncating Mutations",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/birc3/342/">BIRC3 Truncating Mutations in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"NOTCH1",alteration:"P2514fs",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/notch1/344/">NOTCH1 c.7541_7542delCT (P2514fs) Mutation in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"NOTCH1",alteration:"Truncating Mutations",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/notch1/345/">NOTCH1 Truncating Mutations in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"Fusions",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/219/">BCR-ABL1 Fusions in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/221/">BCR-ABL1 c.1075T>G (F359V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/222/">BCR-ABL1 c.1075T>A (F359I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359C",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/223/">BCR-ABL1 c.1076T>G (F359C) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"E255V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/224/">BCR-ABL1 c.764A>T (E255V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/225/">BCR-ABL1 c.949T>G (F317V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/226/">BCR-ABL1 c.951C>G (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/227/">BCR-ABL1 c.949T>C (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/228/">BCR-ABL1 c.951C>A (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/229/">BCR-ABL1 c.949T>A (F317I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317C",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/230/">BCR-ABL1 c.950T>G (F317C) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"T315I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/231/">BCR-ABL1 c.944C>T (T315I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"T315A",cancerType:"Chronic Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/232/">BCR-ABL1 c.943A>G (T315A) Mutation in Chronic Myeloid Leukemia </a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"V299L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/233/">BCR-ABL1 c.895G>T (V299L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"V299L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/234/">BCR-ABL1 c.895G>C (V299L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"E255K",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/235/">BCR-ABL1 c.763G>A (E255K) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"Y253H",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/236/">BCR-ABL1 c.757T>C (Y253H) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17K",cancerType:"Colorectal Cancer ",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutation in Colorectal Cancer </a>'},{hugoGeneSymbol:"BRAF",alteration:"G469E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/146/">BRAF c.1406G>A (G469E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/147/">BRAF c.1406G>T (G469V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594G",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/148/">BRAF c.1781A>G (D594G) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/149/">BRAF c.1781A>T (D594V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G596R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/150/">BRAF c.1786G>C (G596R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G466V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/70/">BRAF c.1397G>T (G466V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/71/">BRAF c.1406G>C (G469A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/159/">KRAS c.38G>T (G13V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"K117N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/160/">KRAS c.351A>C (K117N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"K117N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/161/">KRAS c.351A>T (K117N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/27/">KRAS c.436G>C (A146P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146T",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/28/">KRAS c.436G>A (A146T) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/29/">KRAS c.437C>T (A146V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/30/">KRAS c.183A>C (Q61H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/308/">KRAS c.182A>C (Q61P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/31/">KRAS c.183A>T (Q61H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/38/">KRAS c.37G>T (G13C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/68/">KRAS c.38G>C (G13A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/85/">NRAS c.35G>C (G12A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/86/">NRAS c.34G>T (G12C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/87/">NRAS c.35G>A (G12D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/89/">NRAS c.34G>A (G12S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/90/">NRAS c.35G>T (G12V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545G",cancerType:"Coloretal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/13/">PIK3CA c.1634A>G (E545G) Mutation in Coloretal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/14/">PIK3CA c.1634A>T (E545V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/15/">PIK3CA c.1636C>G (Q546E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/17/">PIK3CA c.1637A>T (Q546L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/18/">PIK3CA c.1637A>C (Q546P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/19/">PIK3CA c.1637A>G (Q546R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"D549N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/20/">PIK3CA c.1645G>A (D549N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R159Ss",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/24/">PTEN c.477G>T (R159S) Mutations in Colorectal Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Colorectal Cancer ",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/25/">PTEN c.697C>T (R233*) Mutations in Colorectal Cancer </a>'},{hugoGeneSymbol:"PTEN",alteration:"K267fs",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/26/">PTEN c.800delA (K267fs*9) Mutations in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"E330A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/151/">SMAD4 c.989A>C (E330A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D351H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/152/">SMAD4 c.1051G>C (D351H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D537Y",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/153/">SMAD4 c.1609G>T (D537Y) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D351N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/154/">SMAD4 c.1051G>A (D351N) mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D355E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/155/">SMAD4 c.1065C>A (D355E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/156/">SMAD4 c.1081C>A (R361S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/157/">SMAD4 c.1081C>T (R361C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/158/">SMAD4 c.1082G>A (R361H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Amplification",cancerType:"Gastric Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/gastric-cancer/erbb2/119/">HER2 (ERBB2) Amplification in Gastric Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/braf/54/">BRAF c.1799T>A (V600E) mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 9 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/46/">KIT Exon 9 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 11 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/47/">KIT Exon 11 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 13 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/49/">KIT Exon 13 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 14 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/50/">KIT Exon 14 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 17 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/52/">KIT Exon 17 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 18 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/45/">PDGFRA Exon 18 Mutation in GIST (D842V)</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 12 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/48/">PDGFRA Exon 12 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 14 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/51/">PDGFRA Exon 14 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 18 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/53/">PDGFRA Exon 18 Mutation in GIST</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/braf/54/">BRAF c.1799T>A (V600E) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132C",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/260/">IDH1 c.394C>T (R132C) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132G",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/261/">IDH1 c.394C>G (R132G) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/262/">IDH1 c.394C>A (R132S) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132H",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/263/">IDH1 c.395G>A (R132H) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132L",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/264/">IDH1 c.395G>T (R132L) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172K",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/270/">IDH2 c.515G>A (R172K) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172M",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/271/">IDH2 c.515G>T (R172M) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/272/">IDH2 c.516G>C (R172S) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172G",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/317/">IDH2 c.514A>G (R172G) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172W",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/318/">IDH2 c.514A>T (R172W) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/319/">IDH2 c.516G>T (R172S) Mutation in Glioma</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Inflammatory Myofibroblastic Tumor",linkHTML:'<a href="http://mycancergenome.org/content/disease/inflammatory-myofibroblastic-tumor/alk/66/">ALK Fusions in Inflammatory Myofibroblastic Tumor</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17Ks",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/alk/66/">ALK Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"Y472C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/209/">BRAF c.1415A>G (Y472C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/310/">BRAF c.1405_1406delGGinsTT (G469L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G466V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/70/">BRAF c.1397G>T (G466V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/71/">BRAF c.1406G>C (G469A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/73/">BRAF c.1789C>G (L597V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"DDR2",alteration:"S768R",cancerType:"Squamous Cell Carcinoma of the Lung",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ddr2/78/">DDR2 c.2304T>A (S768R) Mutation in Squamous Cell Carcinoma of the Lung</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719As",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/1/">EGFR c.2156G>C (G719A) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 19 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/135/">EGFR Exon 19 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719Cs",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/2/">EGFR c.2155G>T (G719C) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 19 Deletion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/21/">EGFR Exon 19 Deletion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719Ss",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/3/">EGFR c.2155G>A (G719S) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"A763_Y764insFQEA",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/312/">EGFR c.2290_2291ins (A763_Y764insFQEA) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Status Unknown",cancerType:"Non-Small Cell Lung cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/313/">EGFR Status Unknown in Non-Small Cell Lung cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"exon 1825 Kinase Domain Duplication (EGFR-KDD)",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/339/">EGFR exon 1825 Kinase Domain Duplication (EGFR-KDD) in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"T790M",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/4/">EGFR c.2369C>T (T790M) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"L858R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/5/">EGFR c.2573T>G (L858R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"L861Q",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/6/">EGFR c.2582T>A (L861Q) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 20 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/64/">EGFR Exon 20 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"FGFR1",alteration:"Amplification",cancerType:"Squamous Cell Carcinoma of the Lung",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/fgfr1/58/">FGFR1 Amplification in SCC of the Lung</a>'},{hugoGeneSymbol:"FGFR3",alteration:"Fusions",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/fgfr3/341/">FGFR3 Fusions in Lung Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"ERBB2 Exon 20 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/erbb2/65/">HER2 (ERBB2) Exon 20 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/30/">KRAS c.183A>C (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/31/">KRAS c.183A>T (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/38/">KRAS c.37G>T (G13C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/68/">KRAS c.38G>C (G13A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"D67Ns",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/60/">MEK1 (MAP2K1) c.199G>A (D67N) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"K57Ns",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/72/">MEK1 (MAP2K1) c.171G>T (K57N) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"Q56P",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/74/">MEK1 (MAP2K1) c.167A>C (Q56P) Mutation in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MET",alteration:"Exon 14 Skipping Mutations",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/met/343/">MET Exon 14 Skipping Mutations in Lung Cancer</a>'},{hugoGeneSymbol:"MET",alteration:"Amplification",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/met/59/">MET Amplification in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/76/">NRAS c.182A>T (Q61L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/80/">NRAS c.183A>C (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/81/">NRAS c.183A>T (Q61H) Mutation in Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/85/">NRAS c.35G>C (G12A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/86/">NRAS c.34G>T (G12C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/87/">NRAS c.35G>A (G12D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/88/">NRAS c.34G>C (G12R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/89/">NRAS c.34G>A (G12S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NTRK1",alteration:"Fusions",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ntrk1/315/">NTRK1 (TRKA) Fusions in Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/10/">PIK3CA  c.3140A>T (H1047L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pten/25/">PTEN c.697C>T  (R233*) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"RET",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ret/127/">RET Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"RICTOR",alteration:"Amplification",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/rictor/340/">RICTOR Amplification in Lung Cancer</a>'},{hugoGeneSymbol:"ROS1",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ros1/67/">ROS1 Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"SMO",alteration:"D473H",cancerType:"Medulloblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/medulloblastoma/smo/163/">SMO c.1417G>C (D473H) Mutation in Medulloblastoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/111/">BRAF c.1799_1800delTGinsAA (V600E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/114/">BRAF c.1799_1800delTGinsAT (V600D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600G",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/115/">BRAF c.1799T>G (V600G) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/116/">BRAF c.1798_1799delGTinsAA (V600K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600M",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/117/">BRAF c.1798G>A (V600M) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/118/">BRAF c.1798_1799delGTinsAG (V600R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/138/">BRAF c.1790T>G (L597R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594G",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/148/">BRAF c.1781A>G (D594G) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/149/">BRAF c.1781A>T (D594V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597Q",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/188/">BRAF c.1790T>A (L597Q) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/189/">BRAF c.1789_1790delCTinsTC (L597S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"K601E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/190/">BRAF c.1801A>G (K601E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594N",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/298/">BRAF c.1780G>A (D594N) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594N",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/299/">BRAF c.1779_1780delTGinsGA (D594N) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/300/">BRAF c.1780G>C (D594H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/301/">BRAF c.1782T>A (D594E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/302/">BRAF c.1782T>G (D594E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"Fusions",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/334/">BRAF Fusions in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/54/">BRAF c.1799T>A (V600E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/73/">BRAF c.1789C>G (L597V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S37F",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/104/">CTNNB1(beta-catenin) c.110C>T (S37F) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S37Y",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/105/">CTNNB1 (beta-catenin) c.110C>A (S37Y) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45F",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/106/">CTNNB1 (beta-catenin) c.134C>T (S45F) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/107/">CTNNB1 (beta-catenin) c.133T>C (S45P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45Y",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/108/">CTNNB1 (beta-catenin) c.134C>A (S45Y) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"Q209P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/101/">GNA11 c.626A>C (Q209P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"R183C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/335/">GNA11 c.546_547delCCinsTT (R183C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"R183C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/336/">GNA11 c.547C>T (R183C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"Q209L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/99/">GNA11 c.626A>T (Q209L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/100/">GNAQ c.626A>T (Q209L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/102/">GNAQ c.626A>C (Q209P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/103/">GNAQ c.626A>G (Q209R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"R183Q",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/337/">GNAQ c.548G>A (R183Q) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/109/">KIT c.1669T>A (W557R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/110/">KIT c.1669T>C (W557R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/112/">KIT c.1676T>C (V559A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/113/">KIT c.1676T>A (V559D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"Other",alteration:"KIT mutations",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/132/">Other KIT mutations in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"Amplification",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/338/">KIT Amplification in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"D816H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/84/">KIT c.2446G>C (D816H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"K642E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/95/">KIT c.1924A>G (K642E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"L576P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/96/">KIT c.1727T>C (L576P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"F53L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/210/">MEK1 (MAP2K1) c.157T>C (F53L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"I111S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/211/">MEK1 (MAP2K1) c.332T>G (I111S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"C121S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/212/">MEK1 (MAP2K1) c.362G>C (C121S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P124L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/213/">MEK1 (MAP2K1) c.371C>T (P124L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P124S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/214/">MEK1 (MAP2K1) c.370C>T (P124S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"E203K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/215/">MEK1 (MAP2K1) c.607G>A (E203K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P264S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/216/">MEK1 (MAP2K1) c.790C>T (P264S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"N382H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/217/">MEK1 (MAP2K1) c.1144A>C (N382H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NF1",alteration:"Mutations",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nf1/325/">NF1 Mutations in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/297/">NRAS c.37G>T (G13C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/75/">NRAS c.181C>A (Q61K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/76/">NRAS c.182A>T (Q61L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/77/">NRAS c.182A>G (Q61R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/80/">NRAS c.183A>C (Q61H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/81/">NRAS c.183A>T (Q61H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/82/">NRAS c.182_183delAAinsGG (Q61R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/83/">NRAS c.182_183delAAinsTG (Q61L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/85/">NRAS c.35G>C (G12A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/86/">NRAS c.34G>T (G12C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/87/">NRAS c.35G>A (G12D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/88/">NRAS c.34G>C (G12R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/89/">NRAS c.34G>A (G12S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/90/">NRAS c.35G>T (G12V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/91/">NRAS c.38G>C (G13A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/92/">NRAS c.38G>A (G13D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/93/">NRAS c.37G>C (G13R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/94/">NRAS c.38G>T (G13V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/97/">NRAS c.181C>G (Q61E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/98/">NRAS c.182A>C (Q61P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"ASXL1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/asxl1/320/">ASXL1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"BCOR",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/bcor/321/">BCOR Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/dnmt3a/322/">DNMT3A Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ETV6",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/etv6/323/">ETV6 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"EZH2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/ezh2/324/">EZH2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"NF1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/nf1/325/">NF1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"RUNX1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/runx1/326/">RUNX1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"SF3B1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/sf3b1/327/">SF3B1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"SRSF2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/srsf2/328/">SRSF2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"STAG2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/stag2/329/">STAG2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"TET2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/tet2/330/">TET2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"TP53",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/tp53/331/">TP53 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"U2AF1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/u2af1/332/">U2AF1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ZRSR2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/zrsr2/333/">ZRSR2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ALK",alteration:"D1091N",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/173/">ALK c.3271G>A (D1091N) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"T1151M",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/174/">ALK c.3452C>T (T1151M) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"I1171N",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/175/">ALK c.3512T>A (I1171N) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174C",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/176/">ALK c.3521T>G (F1174C) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174I",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/177/">ALK c.3520T>A (F1174I) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174L",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/178/">ALK c.3522C>A (F1174L) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174V",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/179/">ALK c.3520T>G (F1174V) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245C",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/180/">ALK c.3734T>G (F1245C) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245L",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/181/">ALK c.3735C>G (F1245L) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245V",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/182/">ALK c.3733T>G (F1245V) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"R1275Q",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/183/">ALK c.3824G>A (R1275Q) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"Y1278S",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/184/">ALK c.3833A>C (Y1278S) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/braf/138/">BRAF c.1790T>G (L597R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130*",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/137/">PTEN c.388C>T (R130*) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"N323fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/140/">PTEN c.968dupA (N323fs*2) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"N323fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/141/">PTEN c.968delA (N323fs*21) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"P248fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/142/">PTEN c.741dupA (P248fs*5) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/143/">PTEN c.389delG (R130fs*4) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130Q",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/144/">PTEN c.389G>A (R130Q) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130G",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/145/">PTEN c.388C>G (R130G) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"ALK",alteration:"Exon Deletion",cancerType:"Rhabdomyosarcoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/rhabdomyosarcoma/alk/186/">ALK Exon Deletion in Rhabdomyosarcoma</a>'},{hugoGeneSymbol:"ALK",alteration:"D1225N",cancerType:"Rhabdomyosarcoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/rhabdomyosarcoma/alk/187/">ALK c.3673G>A (D1225N) Mutation in Rhabdomyosarcoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/110/">KIT c. 1669T>C (W557R) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559A",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/112/">KIT c. 1676T>C (V559A) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"D820E",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/120/">KIT c.2460T>A (D820E) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"H697Y",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/121/">KIT c.2089C>T (H697Y) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"P577_D579del",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/122/">KIT c.1730_1738del (P577_D579del) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V560del",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/123/">KIT c.1679_1681del (V560del) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"Y553N",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/124/">KIT c.1657T>A (Y553N) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"E490K",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/218/">KIT c.1468G>A (E490K) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"L576P",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/96/">KIT c.1727T>C (L576P) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"AKAP-BRAF",alteration:"Translocation",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/braf/125/">AKAP-BRAF Translocation in Thyroid Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G12R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/303/">HRAS c.34G>C (G12R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G12V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/304/">HRAS c.35G>T (G12V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G13C",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/305/">HRAS c.37G>T (G13C) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G13R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/306/">HRAS c.37G>C (G13R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/307/">HRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/29/">KRAS c.437C>T (A146V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61P",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/308/">KRAS c.182A>C (Q61P) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"C634 Mutations",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/126/">RET C634 Mutations in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"Fusions",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/127/">RET Fusions in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"M918T Mutations",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/128/">RET M918T Mutations in Thyroid Cancer</a>'}]},function(e){e.exports=[{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.341339866,confidence:.863,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:972538e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.001913222,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.003620254,confidence:.0335,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.001418568,confidence:.005,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.006080752,confidence:.059,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.00451735,confidence:.043,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.001704592,confidence:.017,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:951258e-9,confidence:.0055,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001870896,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.005068029,confidence:.0485,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:982892e-9,confidence:.003,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002622727,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.084106761,confidence:.702,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:826186e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.001429341,confidence:.0085,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:823673e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002915391,confidence:.028,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.007484683,confidence:.0715,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:572061e-9,confidence:0,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.00198798,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001096651,confidence:.008,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.004016701,confidence:.0425,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.001632676,confidence:.01,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:997686e-9,confidence:.0045,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.00308292,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.503912181,confidence:.9955,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.003044077,confidence:.027,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.007111733,confidence:.075,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.001896354,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.151243448,confidence:.27,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.003879945,confidence:.0325,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.005419738,confidence:.047,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.008507836,confidence:.055,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00363819,confidence:.033,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.010844139,confidence:.061,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.034512153,confidence:.1245,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.009953293,confidence:.0745,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.003466513,confidence:.025,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.007610197,confidence:.0585,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.012576643,confidence:.0695,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.003347933,confidence:.0305,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.018327265,confidence:.0885,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.008894914,confidence:.0565,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:.003358317,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008302825,confidence:.062,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.006159875,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.006076796,confidence:.0505,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.014221547,confidence:.088,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.004388324,confidence:.034,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003052651,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.00959173,confidence:.0665,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.006974826,confidence:.0525,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.004176428,confidence:.0355,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00535034,confidence:.0445,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.009369821,confidence:.0615,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.617882475,confidence:.812,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.0036165,confidence:.031,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.008800631,confidence:.059,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.006454707,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.063649069,confidence:.2365,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001628188,confidence:.0125,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.046902463,confidence:.4155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.006882923,confidence:.054,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00361478,confidence:.021,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.014863187,confidence:.083,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.010484074,confidence:.0695,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.003026287,confidence:.0245,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.002453355,confidence:.023,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.002392524,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.014476329,confidence:.1205,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.007135648,confidence:.0805,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002942895,confidence:.0235,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.163993342,confidence:.896,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:686919e-9,confidence:.001,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008949491,confidence:.0915,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001079462,confidence:.0065,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002625438,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.017866136,confidence:.1115,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:671284e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.0020471,confidence:.0165,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.002319558,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003747207,confidence:.036,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.009046077,confidence:.084,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.001463008,confidence:.009,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003301589,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.581148247,confidence:.945,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.013454741,confidence:.141,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.003818527,confidence:.034,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.003330149,confidence:.032,numberOfMutationsForSample:28},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.008049382,confidence:.0675,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001105177,confidence:.0045,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.0036538,confidence:.0365,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.004620752,confidence:.041,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.003782088,confidence:.0255,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.003749777,confidence:.0355,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.003365869,confidence:.029,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.004632342,confidence:.043,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.001719043,confidence:.011,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001231342,confidence:.0085,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.003583696,confidence:.0345,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.002815642,confidence:.0235,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.004149477,confidence:.038,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.129747639,confidence:.78,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:734112e-9,confidence:.002,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.00228644,confidence:.021,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001002355,confidence:.005,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.003832217,confidence:.0375,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.031776993,confidence:.2185,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.001557096,confidence:.0105,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003556415,confidence:.0335,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001487606,confidence:.0115,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003237267,confidence:.0265,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.008425291,confidence:.0805,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00114451,confidence:.0065,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003196741,confidence:.0245,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.754802788,confidence:1,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.001975817,confidence:.0145,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.001780031,confidence:.013,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.002998294,confidence:.0285,numberOfMutationsForSample:26}]},function(e){e.exports=[{mutationalSignatureId:"mutational_signature_1",description:"Mutational Signature 1",confidenceStatement:"Signature 1, the aging signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_2",description:"Mutational Signature 2",confidenceStatement:"Signature 2, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 13, the other APOBEC signature"},{mutationalSignatureId:"mutational_signature_3",description:"Mutational Signature 3",confidenceStatement:"Signature 3, the signature of Homologous Recombination Repair deficiency is detected in this case.  This signature is most commonly associated with BRCA mutations"},{mutationalSignatureId:"mutational_signature_4",description:"Mutational Signature 4",confidenceStatement:"Signature 4, the smoking signature is detected in this case"},{mutationalSignatureId:"mutational_signature_5",description:"Mutational Signature 5",confidenceStatement:"Signature 5 is detected in this case.  We are not confident that we are able to detect signature 5 in the IMPACT cohort.  It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with age"},{mutationalSignatureId:"mutational_signature_6",description:"Mutational Signature 6",confidenceStatement:"Signature 6, a MMR signature, is detected in this case.  It is usually associated with high mutational burden.  This signature often co-occurs with other MMR signatures (14, 15, 20, 21 26)"},{mutationalSignatureId:"mutational_signature_7",description:"Mutational Signature 7",confidenceStatement:"Signature 7, the UV light signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_8",description:"Mutational Signature 8",confidenceStatement:"Signature 8 is detected in this case. We are not confident that we are able to detect signature 8 in the IMPACT cohort. It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with HRD defects"},{mutationalSignatureId:"mutational_signature_9",description:"Mutational Signature 9",confidenceStatement:"Signature 9 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is associated with POLH."},{mutationalSignatureId:"mutational_signature_10",description:"Mutational Signature 10",confidenceStatement:"Signature 10, the POLE signature, is detected in this case.  It is associated with functions to the exonucleus domain of the POLE gene and enormous mutational burden.  Oftentimes MMR signatures 6, 14,16, 20,21 and 26 co-occur with the POLE signature."},{mutationalSignatureId:"mutational_signature_11",description:"Mutational Signature 11",confidenceStatement:"Signature 11, the Temozolomide (TMZ) signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_12",description:"Mutational Signature 12",confidenceStatement:"Signature 12 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is found in liver cancer."},{mutationalSignatureId:"mutational_signature_13",description:"Mutational Signature 13",confidenceStatement:"Signature 13, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 2, the other APOBEC signature."},{mutationalSignatureId:"mutational_signature_14",description:"Mutational Signature 14",confidenceStatement:"Signature 14, the signature of simultaneous MMR and POLE dysfunction is detected in this case.  This signature usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 15, 20, 21 26)."},{mutationalSignatureId:"mutational_signature_15",description:"Mutational Signature 15",confidenceStatement:"Signature 15, a MMR signature, is detected in this case.  It is usually associated with high mutational burden."},{mutationalSignatureId:"mutational_signature_16",description:"Mutational Signature 16",confidenceStatement:"Signature 16 is detected in this case. We are not confident that we are able to detect signature 16 in the IMPACT cohort.  In the literature it is associated with Liver cancer and alcohol consumption."},{mutationalSignatureId:"mutational_signature_17",description:"Mutational Signature 17",confidenceStatement:"Signature 17 is detected in this case.  The aetiology of this signature is unknown.  It is predominantly found in gastric cancers."},{mutationalSignatureId:"mutational_signature_18",description:"Mutational Signature 18",confidenceStatement:"Signature 18 is detected in this case.  This signature is associated with MUTYH dysfunction and neuroblastoma."},{mutationalSignatureId:"mutational_signature_19",description:"Mutational Signature 19",confidenceStatement:"Signature 19 is detected in this case. We are not confident that we are able to detect signature 19 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_20",description:"Mutational Signature 20",confidenceStatements:"Signature 20 is detected in this case. This signature is associated with MMR and usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_21",description:"Mutational Signature 21",confidenceStatement:"Signature 21 is detected in this case. This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_22",description:"Mutational Signature 22",confidenceStatement:"Signature 22 is detected in this case. We are not confident that we are able to detect signature 22 in the IMPACT cohort. In the literature it is associated with exposure to Aristolochic Acid."},{mutationalSignatureId:"mutational_signature_23",description:"Mutational Signature 23",confidenceStatement:"Signature 23 is detected in this case. We are not confident that we are able to detect signature 23 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_24",description:"Mutational Signature 24",confidenceStatement:"Signature 24 is detected in this case. We are not confident that we are able to detect signature 24 in the IMPACT cohort.  In the literature it is associated with aflatoxin exposure.  In our cohort we believe it is detected by accident in cases with the smoking signature (signature 4)."},{mutationalSignatureId:"mutational_signature_25",description:"Mutational Signature 25",confidenceStatement:"Signature 25 is detected in this case. We are not confident that we are able to detect signature 25 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_26",description:"Mutational Signature 26",confidenceStatement:"Signature 26 is detected in this case.  This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 20, 21)."},{mutationalSignatureId:"mutational_signature_27",description:"Mutational Signature 27",confidenceStatement:"Signature 27 is detected in this case. We are not confident that we are able to detect signature 27 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_28",description:"Mutational Signature 28",confidenceStatement:"Signature 28 is detected in this case. We are not confident that we are able to detect signature 28 in the IMPACT cohort.  It often co-occurs with signature 28."},{mutationalSignatureId:"mutational_signature_29",description:"Mutational Signature 29",confidenceStatement:"Signature 29, the mutational signature of chewing tobacco is detected in this case."},{mutationalSignatureId:"mutational_signature_30",description:"Mutational Signature 30",confidenceStatement:"Signature 30 is detected in this case. We are not confident that we are able to detect signature 30 in the IMPACT cohort."}]},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__-Qj7G",framedImage:"styles-module__framedImage__TmznI",labeledCheckbox:"styles-module__labeledCheckbox__jTAe1"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(812);(r=i)&&r.__esModule;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"receiveProps",value:function(e,t){this.props=e,this.itemAdapter=t}},{key:"isEmpty",value:function(e){return!this.getLength(e)}},{key:"filter",value:function(e,t){return this.toArray(e).filter(t)}},{key:"find",value:function(e,t){return this.toArray(e).find(t)}},{key:"findMatching",value:function(e,t){var n=this,r=this.itemAdapter.foldValue(t);return this.find(e,function(e){return n.itemAdapter.itemMatchesInput(e,r)})}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.unsafe=function(e){return new o(e)},t.isUnsafe=function(e){return e instanceof o};var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content=t}return r(e,[{key:"toString",value:function(){return this.content}}]),e}()},,,,function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(571),s=n.n(a),l=n(25),c=n(604),u=n(597);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,d(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement(c.a,{name:this.props.name,value:this.props.value,onChange:this.props.onChange,options:Object(u.c)(this.props.molecularProfiles,this.props.molecularProfileIdToProfiledSampleCount),searchable:!1,clearable:!1,className:this.props.className})}}])&&p(n.prototype,o),i&&p(n,i),t}(),v=g=y([o.observer],g),b=n(7),S=n(93);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,_(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(o=[{key:"change",value:function(e,t){var n=this,r=b.mapValues(this.props.selectedProfileByStudyId,function(r,o){return e===o?n.molecularProfileMap[t.value]:n.molecularProfileMap[r.molecularProfileId]});b.isEqual(this.props.selectedProfileByStudyId,r)||this.props.onChange(r)}},{key:"render",value:function(){var e=this;if(this.props.dataSets.isPending||this.props.molecularProfileIdToProfiledSampleCount&&this.props.molecularProfileIdToProfiledSampleCount.isPending)return r.createElement(S.a,{isLoading:!0});if(this.showEnrichmentsDataSetDropdown||this.props.alwaysShow){var t=b.groupBy(this.props.dataSets.result,function(e){return e.studyId}),n=Object.keys(t).length>1;return b.map(t,function(t,o){return r.createElement("div",{className:s.a.DataSet},r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("strong",null,n?e.studiesMap[o].name+" ":"","Data Set:"),r.createElement("div",{style:{display:"inline-block",marginLeft:5,width:400}},r.createElement(v,{value:e.props.selectedProfileByStudyId[o].molecularProfileId,molecularProfiles:t,molecularProfileIdToProfiledSampleCount:e.props.molecularProfileIdToProfiledSampleCount?e.props.molecularProfileIdToProfiledSampleCount.result:void 0,onChange:function(t){return e.change(o,t)}}))))})}return null}},{key:"molecularProfileMap",get:function(){return this.props.dataSets.isComplete?b.keyBy(this.props.dataSets.result,function(e){return e.molecularProfileId}):{}}},{key:"studiesMap",get:function(){return b.keyBy(this.props.studies,function(e){return e.studyId})}},{key:"showEnrichmentsDataSetDropdown",get:function(){if(this.props.dataSets.isComplete){var e=b.groupBy(this.props.dataSets.result,function(e){return e.studyId});return!!b.find(e,function(e){return e.length>1})}return!1}}])&&w(n.prototype,o),i&&w(n,i),t}();x([l.a],E.prototype,"change",null),x([i.computed],E.prototype,"molecularProfileMap",null),x([i.computed],E.prototype,"studiesMap",null),x([i.computed],E.prototype,"showEnrichmentsDataSetDropdown",null),E=x([o.observer],E);t.a=E},function(e,t,n){e.exports={portalWidth:"mutationAssessorColumn-module__portalWidth__3YkFm",framedImage:"mutationAssessorColumn-module__framedImage__1asWn","ma-high":"mutationAssessorColumn-module__ma-high__gHJA0","ma-medium":"mutationAssessorColumn-module__ma-medium__3fKlP","ma-low":"mutationAssessorColumn-module__ma-low__VwQXC","ma-neutral":"mutationAssessorColumn-module__ma-neutral__2oq-W"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABJCAIAAADdSs1eAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAdMSURBVHhe7VpdTFdlGA/jS5AARUTDkC/RIlfQ5mbkFisuaH2MNusit6Zrulbroq1uWhdetNVNX5vTNb2xC7rQlW2skcMiZrilFTKQDwEVFJAiFRAFpR97Dw8P53/+5z3nPe/5/4/bOTsXcM778by/9/k9v+d9zj9hbm7ugfBiCCwL0TAhECJidokQkRARWZgIfcSMUEIctab90uS+oxfJoj3PrX2qOCMzLTHaLp7pu3ni3PiZvgnRYOf2NS9WrrJsPHBt+oNv++jVhy+vryzKkDmH8T6ePsLhgDkHT1xt7rweze6xGzOf/nCZ4ECzI80j16dmLdu39tzgz4GjQzjQLJ6IRFqJRU7dvmtpfdfVqcjnM7MWyRRGOHZ6jDcGjvAah6AEApHnt2STuX0j1qZ/2TAk2tRtzbFfW+eQgV1l0QpqeWH41v2ESF5WMoKCsPj3pQ4vHtIOY5Hl+en2azvbbwSaqk2ZBB8o6RARr5F19L/pr453tg84Iur3H1dzs3Z83iH+BRyPP5JOsfCbPRtN8bX+1Kggwnu1D2cuT6QAtH93ac5DSXxMRJa3DnaLJ1+8WTwxffej+gHx72dvFG1YnSrFxStrDjR0OYTD3hRua+9SD+dxoWxtmv041BfetC47JX9lilvieEJkfOKOFjiE0VBf8YdJGiguINyYPCISHU4ZvE1LeZATJ1rY5uN4QqSlfeTO7D0MV74hG4yQ3vbbW5y3XDSANFwZv02NaZEVhYuR0nIo9Pq5zeBvYa5BEN5r8N/FYaMZ4wmRprZhMW71ljwpP6UNOHH6Rw3F4YssWYAs2lDUS1BGNOPEIXBtjFFHpH/4Jm4MnZy4bOum1dIFO2lAxCGt7Rw0pBTOb5POisFbzhsJHlSGpuPEQXiWEkcdEXIQwJGeGjX1dgIEtSHi4IlQXFJNJ5ShjBZ6hByX7vWrFuOrlDiKiCB8IIiIlTyrgzJiKBCH0qpzlya7WZ7Knd8SZaIM3kKe3z7UQzd5HF5JiaOIyJ+9/0BoMEH2iuSKEuvjlivvoMbk8Mjof+0wWICEBc5vPyBRxr4ZiBPtNCQ6KiLS0jEq+lc/YUim2voje5FG4BUJB/I3+/FBMaIMIg4QNN38oGDKd0wjqyAyOT17+vy1BcpoRgQawc8jxCZ7RPix5fVtuagSmO4XKlbSCPbEUUHkt4U0pCw/Mz9HkkQq+A5XCnQnAbIZigIwnY9MjTnQcD0b4qggcnIhDdEYU/kCOHHwfHO+BHR+0i9bZ6R5kfBxoG2I4xqRwbGprsH5gIc05Jly48Cq4AjoQuxIS15iBvaTaM9zLTFLclICTZeUOP/3xC2jpILGNpLEz0RXxudlwfJyffY90nThaMt8KRBwvF/3mBoWQe7l2kea/jIKDVWP5gZ5Ycq2uUPkLEtDntSahigvQHtHd4hQGlJVvgZxRLs1QRjQxap45q7lsBuE9Ufa4AIRqoYU5mXgDuZ6vFvlAhG91RDvpvs0glNEUGEWBUSEDwQRn6wJwrBOEWn62xBdSAzOu0Ew3ScbXCMSwJgK/31lXxPuHZ/8ImoUXi5HiIAvmBXTwDsCmIbkZqWi9A3zuBoqg+IIEV5ADGYaQgk0ZUw+IgLgWTVEQ81d2Vabjjhkia3CKRRnUS9TyH0EcKBEhDlQCkFBxMtk/vVF6Zu+B5xsc/qJ19IeOSKsGqK5XKYXICrW0FlUbXwJIgjdON2JobWXVNUsjtYLBXCRFnCbFaaQIEJ403wKc8SsC+0Z+bXC1BJEeOgW0eS+uEgKFKyVIELpKbjzzv5WLzMpGOe8CyQG5oniHq4sD1m1pKoIvzjU2MNjFejz7kubg5PIw8L65v4fWy8TfLBwb20Z0jbngPKWjuqscJDDjT2k85C6um0Fr1YVqE2psRcM+/p4J2XuMGx3TalHBXCECNaAPO275n5ySzxBbrK3dmO8CiVAAViQDgop3Fld7N15nSIiNhY/jzjQ0C2+TogLnvLa9sIYp/Y//TGETwIU6YECiKzr87M7RAQK8BT4i/h1ES7ksrtqSnUZZM8pMBeu4euWqCACoy2dFhzW9UOSSFwEbRFBaSdAWNBW+8FCERFhMT4AI+LqDWyWPoJyBH4USaEdJAVVfQrtnhCB9Zby7EX8TIhYjg+S+vEFXkztFRExik97GDMf5NugBxGMGCnPXnjun7jaR25tPkLTWGoB0jlXEdekZcg+QcPYaJl+REiej526qJAvQFYPN/b6Kq6x9hGaL9LtUfhDRIyWU1rmxLtqSrSLa9wQcSXPSMYhrqLcj8tXcY0zIpbyjG1H0i3kE66EfNx0ttYo3tL1RzbQpjX2cyM0IPvmKVbd0wVZ6cn8eKLl5KoAgalLjBAheeZpODcFJ1dfDwHOkYodIsKmSHmOsbhKoYk1IsIgeAoKX5DnuBQT7EGJDyKCRDOz91xlbtLt1dIgbohosd6PQeTf9PyYNchjhoiYdydEJERExtjQR0IfCX1EhkDoIzKE/gco765KHggW0QAAAABJRU5ErkJggg=="},function(e,t,n){e.exports={portalWidth:"siftTooltip-module__portalWidth__24Oa2",framedImage:"siftTooltip-module__framedImage__1C_nb","sift-deleterious":"siftTooltip-module__sift-deleterious__1aA2Z","sift-deleterious_low_confidence":"siftTooltip-module__sift-deleterious_low_confidence__2fL6l","sift-tolerated_low_confidence":"siftTooltip-module__sift-tolerated_low_confidence__1u4Hk","sift-tolerated":"siftTooltip-module__sift-tolerated__xqt6g","sift-tooltip-table":"siftTooltip-module__sift-tooltip-table__2KTtP"}},function(e,t,n){e.exports={portalWidth:"polyPhen2Tooltip-module__portalWidth__CFsKD",framedImage:"polyPhen2Tooltip-module__framedImage__kQY7t","polyPhen2-probably_damaging":"polyPhen2Tooltip-module__polyPhen2-probably_damaging__EBbPS","polyPhen2-possibly_damaging":"polyPhen2Tooltip-module__polyPhen2-possibly_damaging__1fyF8","polyPhen2-benign":"polyPhen2Tooltip-module__polyPhen2-benign__36nqJ","polyPhen2-unknown":"polyPhen2Tooltip-module__polyPhen2-unknown__3KRAw","polyPhen2-tooltip-table":"polyPhen2Tooltip-module__polyPhen2-tooltip-table__2WGNf"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAT5QTFRF/Pz8/////P396urqzMzMxsbGxsbGxsbGxsbGxsbGycnJ19fX9vb2/v7+2NjYwsLC+Pr69Pf38PT18fT19ff4+fr79PT0p7GzZ4CGXnuCYX+GZIWNaYqSbo+XZYWNZIKJYXyDbYWLs7m7SHiEAERVcpag+vv7gqavFFhpIWJytsvQgKeyLW5/IWd4Qn2Mv9PYfLTDKoOZKoWbTJqt9/r79Pj5c7zOM5u2MZq0WrDE5/H00+zyodfkVrjPRbHMRbHLULXOm9TjyOfv1OzypNjlndXkz+rx+vz8rdzopNjl7Pb56vX45/T36/b45vT36/b45/T36vX45PP3AENUAEBQAD1MADtKADpIDVJjCU5fB0xdBktcCExdDlJjIWd4KH6TJ3yRJ3qPJ3uQKHyRKYCVMJixMJawMJavMJex////SLEDvgAAAFN0Uk5TAAAAEzVMYW51e0l7fn57Z4OHi4qHggdcu9zu+Pr8+OvXtFC1/YwDhfjrS47u/ddHmv391gcKq/z9yxozdeX9/e19Q0KUo0oGqr0kPEc6SjhGPk2mXRMZAAAAAWJLR0QB/wIt3gAAAAlwSFlzAAAASAAAAEgARslrPgAAALpJREFUGNNjYGBmYWVj5+Dk5GBnY2VhZmDg4ubhhQMePi4GfhBfQFBIWEQUJMLPICYuISklLSMrKyMnr6CoJMbAoKwSHBIaFh4eFhoSrKLKyMCopq4RERkVHR0TGaupxQAUYNTWiYMAXT19RpAAg4FhfEJiUnKKkbEJWIDR1Mw8NS09w8LSihEiwGhtY2tn7+DoxAQTYGRydnF1YwIzIQKM7h6eXozIAozePoyoAr5+aAL+AWgCgUFQBgBUGxvs9K2IRwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOS0xNFQwMDoxMTowNSswMzowMPy1TyEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDktMTRUMDA6MTE6MDQrMDM6MDArn/wpAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAklQTFRF+/z+////dJ7j///+9Pv/a5TdqL7k4+v6eKDjsMnvtM75X5Hkp77ou9H33+j4vtT4wdf7cp/p3u3/ja/oaaP2ytjsZ47V/f//0N71wc3jKnft0OH8GmbeO3fcQHTSMW7VkbbyuNX/FWDcc5TS///6////2+X4z9zs1NviPoLihbT4/f7+bJ/umLLWyNTnNHzt/P3+1OP7wM7o0dznVoPMob3sY4zVR4jukLb0/v7+SILhz9vr//z0pb7gM3rlzeD9E17aWY/q/f3+R4Lhztnq///2jrfxG2rozd35RYHlgaHX0Nzw///+4+39cZrgtMXjqsn1GGjnf6nwkbTvd53iwtDjXIbOq8Pt/v39obrkN3PXLXnvfaju/v//8/j+gajrk7Hl//72sMTiPnrdt9D5+/z+qcz7AE/dcZzn8ff+iari9vf0+vnxTIfjZprvSo71QHradZjT4en2YIrV+fn03+jxOH/qeqnzKG7eY4rNVH/PiLPzxd37mbHe///3x9ToMWfIpL3roLjiT33PNnzrjLX1ibX04er1+vj18/PvXorWU4be9fj+8/X5NnfiGmjn5/D9+fv+WJTv3OLo5eru7e/vhazoL3Pk2ub6s8/6K3buPnTSm7Tja5zpQnDH7fH1/Pz6///4ga/xM3np4Or6SIboYJPmvszjRnXLp8LvlLvzLmnRydjs///8+Pr6UIjkSYTmwNX3LnLhrcXtjKnZS33V2eb70+P8gaLW///5pMj4CmHqnr31Lm7dztvu9/fy4unwQHTSe6HnW+6dZAAAACF0Uk5T+/7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+EjK2AQAAAAFiS0dEAf8CLd4AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAEOSURBVBjTDcyDQkRRFAXQc7Nta6fJtt3Ltm3brsl2k227vqzWBywiZmhkbAKYCpmZW1iCR8IiVqLWYgziEjaStlLMjmAv7eDo5AzIuLi6Ae4EWQ9PL28fX8j5+QMBIMgHBgWHhIZBITwiEhyPEBUdExsXzyEhMSk5BRylIi09IzML2Tm5efkFhaAiVlxSCqBMsbyisqoaxCnV1NbVg4NyQ2NTcwuIqbSqtqmpg2m0a3ZoaYM6dbq6e3r7wLH+gcGh/3RYd2R0bHyCDzY5NT2DWZrTm19YXFpeAVtdW98AaHNre0ewu7eP7IPDo+MT0OnZ+cXl1TUfN7d3gvuHR3rSf355fXsHDD4+v75/fv8AgKdToRrTqZIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDktMTRUMDA6MjI6NDErMDM6MDD+ZbjKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA5LTE0VDAwOjIyOjI2KzAzOjAwjPA3fwAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v});var r=n(0),o=n(648),i=n.n(o),a=n(11),s=n(5),l=n(791),c=n(7),u=n.n(c);n(794);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=1,v=0,b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=h(t).call(this,e))||"object"!==m(o)&&"function"!=typeof o?d(r):o).trackSpecKeyToTrackId={},n.divRefHandler=n.divRefHandler.bind(d(n)),n.refreshOncoprint=u.a.debounce(n.refreshOncoprint.bind(d(n)),0),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"divRefHandler",value:function(e){this.div=e}},{key:"getTrackSpecKey",value:function(e){var t=null;return u.a.forEach(this.trackSpecKeyToTrackId,function(n,r){if(n===e)return t=r,!1}),t}},{key:"refreshOncoprint",value:function(e){var t=this;this.oncoprint||(this.oncoprint=new i.a("#".concat(e.divId),e.width,e.initParams),this.oncoprint.setTrackGroupLegendOrder([g,v]),window.frontendOnc=this.oncoprint,e.oncoprintRef&&e.oncoprintRef(this.oncoprint)),this.oncoprint.webgl_unavailable||(Object(l.a)(e,this.lastTransitionProps||{},this.oncoprint,function(){return t.trackSpecKeyToTrackId},function(){return t.props.molecularProfileIdToMolecularProfile}),this.lastTransitionProps=u.a.clone(e))}},{key:"componentWillReceiveProps",value:function(e){this.refreshOncoprint(e)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.refreshOncoprint(this.props)}},{key:"componentWillUnmount",value:function(){this.oncoprint&&(this.oncoprint.destroy(),this.oncoprint=void 0)}},{key:"render",value:function(){return r.createElement("div",{id:this.props.divId,ref:this.divRefHandler})}},{key:"sortByMutationType",get:function(){return this.props.distinguishMutationType&&this.props.sortConfig&&this.props.sortConfig.sortByMutationType}},{key:"sortByDrivers",get:function(){return this.props.distinguishDrivers&&this.props.sortConfig&&this.props.sortConfig.sortByDrivers}}])&&p(n.prototype,o),a&&p(n,a),t}();y([s.computed],b.prototype,"sortByMutationType",null),y([s.computed],b.prototype,"sortByDrivers",null),b=y([a.observer],b),t.c=b},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return y});var r=n(7),o=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var f=function(){function e(){p(this,e),this.map={}}return d(e,[{key:"entries",value:function(){for(var e=[],t=0,n=Object.keys(this.map);t<n.length;t++){var r=n[t],o=!0,i=!1,a=void 0;try{for(var s,l=this.map[r][Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;e.push(c)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}return e}},{key:"set",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.getEntry(n);return o?(o.value=e,!1):(this.getFolder(n).push({key:n,value:e}),!0)}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.getEntry(t);return r?r.value:void 0}},{key:"has",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!!this.getEntry(t)}},{key:"getEntry",value:function(e){return this.getFolder(e).find(function(t){return o.a.isEqual(t.key,e)})}},{key:"getFolder",value:function(e){var t=function(e){return e.join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}}],[{key:"from",value:function(t,n){var r=new e,o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r.set.apply(r,[c].concat(u(n(c))))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}}]),e}(),m=function(e){function t(){return p(this,t),a(this,s(t).apply(this,arguments))}return l(t,f),t}(),y=function(e){function t(){return p(this,t),a(this,s(t).apply(this,arguments))}return l(t,f),d(t,[{key:"increment",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.has.apply(this,t)?this.set.apply(this,[this.get.apply(this,t)+1].concat(t)):this.set.apply(this,[1].concat(t))}}]),t}()},function(e,t,n){},,function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzguOTI0cHgiIGhlaWdodD0iMzguNjI1cHgiIHZpZXdCb3g9IjAgMCAzOC45MjQgMzguNjI1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAzOC45MjQgMzguNjI1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSIxOS4zOTkiIGN5PSI3LjE4OCIgcng9IjE3Ljg4NiIgcnk9IjUuODEyIi8+DQo8cGF0aCBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTM4LjA5MSw4LjU2NUwyMi43NDIsMjcuNjkzVjM3Ljc1bC03LjgyMy0zLjEyNGwtMC4wMzItNi44MjFMMC43MzcsOC41NjUNCgljMCwwLDMuNzQ3LDQuMTE5LDE4LjUzOCwzLjgyMUMzNC4wNjMsMTIuMDg5LDM4LjA5MSw4LjU2NSwzOC4wOTEsOC41NjV6Ii8+DQo8L3N2Zz4NCg=="},function(e,t,n){e.exports=n(15)(131)},function(e,t,n){e.exports=n(15)(425)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(557);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,e))}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(a=[{key:"mainContent",value:function(){var e=this,n=this.props,o=n.barWidth,a=n.barHeight,s=n.barColor,l=n.totalCount,c=n.counts,u=n.textMargin,p=n.textWidth,h=this.props.freqColors||t.defaultProps.freqColors,d=c[this.props.mainCountIndex&&this.props.mainCountIndex>=0&&this.props.mainCountIndex<c.length?this.props.mainCountIndex:0]/l,f=(o||0)+(u||0),m=f+(p||0),y=[];return c.forEach(function(t,n){var r=n%h.length,o=r>=0?h[r]:h[0];y.push(e.frequencyRectangle(t,l,o))}),r.createElement("svg",{width:m,height:"12"},r.createElement("text",{x:f,y:"9.5",textAnchor:"start",fontSize:"10"},Object(i.c)(d)),r.createElement("rect",{y:"2",width:o,height:a,fill:s}),y)}},{key:"frequencyRectangle",value:function(e,t,n){var o=e/t,i=this.props,a=i.barWidth,s=i.barHeight;return r.createElement("rect",{y:"2",width:o*(a||0),height:s,fill:n})}},{key:"render",value:function(){var e=this.mainContent();return this.props.tooltip&&(e=r.createElement(o.c,{placement:"left",overlay:this.props.tooltip,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e)),e}}])&&s(n.prototype,a),p&&s(n,p),t}();p.defaultProps={freqColors:["lightgreen","green"],barColor:"#ccc",textMargin:6,textWidth:35,barWidth:30,barHeight:8}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n(4);function i(e,t,n){return function(i){var a=e(i);return null===a?r.createElement(o.t,{status:o.s.LOADING}):"error"===a.status?r.createElement(o.t,{status:o.s.ERROR}):null===a.data?r.createElement(o.t,{status:o.s.NA,naAlt:n}):t(a.data,i)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(7),i=n(4),a=n(585);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"getData",value:function(e,t){var n=null;return t&&(n=t[e[0].uniqueSampleKey]||null),n}},{key:"sortBy",value:function(t,n){var r=e.getData(t,n);return r||null}},{key:"filter",value:function(t,n,r){var o=e.getData(t,r);return null!==o&&o.toUpperCase().indexOf(n)>-1}},{key:"isVisible",value:function(t,n){if(!t||!n)return!1;var r={};return t.forEach(function(t){var o=e.getData(t,n);o&&(r[o]=t[0].sampleId)}),o.keys(r).length>1}},{key:"download",value:function(t,n){return e.getData(t,n)||""}},{key:"render",value:function(t,n){var o=e.getData(t,n);return o?r.createElement(a.a,{maxLength:30,text:o||"",tooltip:r.createElement("div",{style:{maxWidth:300}},o)}):r.createElement(i.t,{status:i.s.NA,naAlt:"Cancer type not available for this sample."})}}],(n=null)&&s(t.prototype,n),l&&s(t,l),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(575),i=(n(562),n(4)),a=n(787),s=n.n(a);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"renderFunction",value:function(t,n,o){var i=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",{className:s.a["exon-table"]},r.createElement("span",null,e.getExonDataViz(i,o)))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getExonDataViz",value:function(t,n){var a=null;if(null===t)a=i.s.LOADING;else if("error"===t.status)a=i.s.ERROR;else{if(null!==t.data){var s=e.getData(t.data);return null==s?s:r.createElement("span",{style:{display:"inline-block",float:"right"}},r.createElement("span",{style:{float:"left",width:"24px",textAlign:"right"}}," ",s.split("/")[0]," "),n&&r.createElement("span",{style:{float:"left",width:"34px",textAlign:"left",marginLeft:"4px"}}," ","/ ".concat(s.split("/")[1])," "))}a=i.s.NA}if(null!==a)return a===i.s.LOADING?r.createElement(o.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(i.t,{status:a})}},{key:"getData",value:function(e){if(!e)return null;var t=e.annotation_summary.transcriptConsequenceSummary.exon;if(t)return t;var n=e.transcript_consequences.filter(function(t){return t.transcript_id===e.annotation_summary.transcriptConsequenceSummary.transcriptId&&t.exon})[0];return n?n.exon:null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n),o=r&&e.getData(r.data);return o||""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r){var o=e.getData(r.data);return null==o?null:parseInt(o.split("/")[0])}return null}}],(n=null)&&l(t.prototype,n),a&&l(t,a),e}()},function(e,t,n){e.exports=n.p+"reactapp/images/58335fa45d1c6a16c7d06eabd2ecee93.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAAG2CAYAAAC6fWvkAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABOvAAATrwFj5o7DAAAAB3RJTUUH4QgXDAozoFc2mAAAIABJREFUeNrt3Xl8VPW9//FvkpkhC4SQsAkuuKHiVisTCrZel1ttq17rQ6xttdd7r7a/3uq97eNhtFbbCiQh20Cxtra9Uu21rUKAAGEnFAKYEJiETXYhk5nJrJlMkklmYeacOb8/6u/XWlmSkGTOmXk9/8QwOef9PfLOJ3O+Z9IURREAzq/oT61Lq566+rm0tDTCAM4jnQiA81t/yD/3/br2Z//Y4P1P0gDOL43JBDg3RVHEnNf2f2x1BK+bUJDpNFcapxp0TCcAkwkwAH/Y7X3B6gheJ4QQHZ2RKW/WOV4nFYDJBOi3SEwWhS+3uHz+yOT/92ejR+u7zFXG/LHZOgICmEyAi3tzq6v474tECCH6+mLjKtbZf006AJMJcFHdISndWLSvMxiU8v7xvxn0GcEGk3HG1DyDjaQAJhPgvMpqbW+dq0iEECIak3OKV7ZVkRJAmQDnZeuMTFu2zfmdC33N+gb3Y8ccodtJC6BMgHMqrrGZYrF49oW+Jh4X+nkr2haTFkCZAJ9xpD10x8YG96P9+doPD/juazgVuJ/UAMoE+JR51a2LFUXo+v/1FhOpAZQJ8P/tOtnz5cZD/nsG8neOftzzuTUtnd8mPYAyAYQQQsxfNrgpo2yFpUSWub0eoEyQ8lY1+54+3hq4bTB/1+4KXf3ubs+PSBGpjk2LSGmSrIjZP2mxODyhaYN9jfw8g3dflXFStiGDQMFkAqSipfXuokspEiGE8HdHJ76xxVlGmmAyAVJQMCqLwiKzt6snOuFSXys7SxdoqjJeMX6MPkCyYDIBUsiSjY7KoSgSIYQIhaXc8rV2NjKCMgFSSUdvLP+dTe3/Zyhfs3qH89ttvsh1pAvKBEgRC9fYFoUjUu5QvqYkxbPmr7QuIl1QJkAKsHgj16/a4XpyOF57a5Pn4QO2YCEpgzIBkty8VW2LJDmeNRyvrSgifV51K++dgDIBktl+a+8Xtu31PjSc38P8Uddd2452P0TaoEyAJPX68rbFijL81/2C5a2VpA3KBEhCdUe6/6XlaNfskfhep619M5Y3dfwHqYMyAZLMguWtFSP5/SpWts2PSWwKBmUCJI0P9nQ8d8bWd+NIfk93R/jy3+1w/YT0kQp4nAqSXlRSxKwfN7d7fOGpI/29c8foO5tNxvGjM3UsBJhMAC377XbXa4koEiGECPTGCkwbHL9gFcBkAmhYICyJwpfMnYHeWH6ijmHUqIy+PVXGGyaPNThZETCZABpk2uB4I5FFIoQQZ8/Ko0tW27hVGJQJoEWunujU97a0P6uGY1mz0/nEKXd4BqsCygTQmNIaW2U0Kueo4VjicWGYt6KNx6yAMgG05KQ7fPOaXc65ajqm+uaOB5rO9N7N6oAyATRifnXb4nhcGFR2WGnzlluYTkCZAFqw53TgnvqWji+r8dgOn+y+c8Mh/+OsEigTQOXmLbeYhBBpaj2+kuWWcm7JB2UCqNj6Q/65H53quVPNx2h1BK/73w+9z7NaSCZsWkTSkGVF3PWz/adtjuC1aj/W8fmZ7n2Vd16Wqc9g4cBkAqjJew3eF7RQJEII4fNHJv9qq2sBqwYmE0BFwjFZFL7U4u7sikzSyjHn5Oi6zabCgrxsXZwVBJMJoAK/2uoq1lKRCCFEMCjlldfaf83qgckEUIGuoKQvfGmfNxiU8rR27Hp9emh3xcybryzIbGMlwWQCJFD5OtubWiwSIYSIxeLZxTU2E6sIygRIIFtnZNqyOud3tHwOGxvcjx5pD93BaoIyARKkuMZmiknxbC2fg6II3bwVbYtYTVAmQAJ8ZA9+fmOD+9FkOJfGg757d57oeZBVBWUCjLD5KyyLFEUkzYerz19mqWJVQZkAI6j+RM9XGg/570mmczphCdy6qtn3NKsLygQYIQuWWZLyY3DLq9uKJZnb9UGZAMNuVbPv6ROWwK3JeG4OT2ja0np3EasMrWHTIjRFkhXxhZ+0tDk9oauS9RzHjTV07DMZJ+YYeAgkmEyAYbG03l2UzEUihBBdPdEJSzY6KlltMJkAwyAYlUVhkdnb1ROdkOznmpWZ0dtkKpw2YYzez8qDyQQYQks2OipToUiEECIckceUreExK6BMgCHVEYgVvLPJ/v1UOueVO1zfbO0IT2f1QZkAQ6Rsra0qHJHHpNI5S3I8a/5KK9MJKBNgKLR2hKev3OH6Ziqe+7a93odaLL1zuApAmQCXaP5Kq0mS41mpeO6KItLnrWhjOgFlAlyKFkvvnG17vQ+ldAZHu2Zv/aj7Ua4GUCbAIM1b0WZSFK7T4urWCm7jB2UCDMLWj7ofbTnaNZskhDhj67thWZPvOZKAWrFpEaqkKIq4++cHTpyx9d1AGn81sSDTua/SONWgSyMMMJkA/bGsyfccRfJp3s7IlN9ud71GEmAyAfohKili1o+b2z2+8FTS+LQxo/VdZpMxPzdLRxhgMgEu5LfbXa9RJOfW2xcbZ9rgeIMkwGQCXEAgLAljkdnf2xcbRxrnZjBkBBurjDdNyTPYSQNMJsA5mDY43qBILiwalXNKV9sqSAKUCXAOzu7oFe9taX+WJC5u7S7n3OOO0G0kAcoE+AcLV9vKo1E5hyQuLh4X+gWreAgkKBPgU467Qres2eWcSxL9t7Ol48sNpwL3kQQoE+ATxSusi+JxYSCJgZlXbWE6AWUCCCFE4+nAvfUtHQ+QxMAd/bjnjnUH/N8gCVAm4Kfr5fx0fSlKq1vLZJlb/EGZIIWtP+Sfe+RUz+dJYvBsztA17zV4/oskkEhsWkTCyLIi7vrp/tM2Z/Ba0rg0+eMMHnOVcXKWPoMwwGSC1PJeg/cFimRo+Luik97c4iwhCTCZIKWEY7IwvmR2+7uik0hjaORk6XqaFhmnFuTog6QBJhOkhF9tdRVTJEMrGJbGVtTaF5MEmEyQErqCkr7wxX0dwbA0ljSGlk6XHt5dMfPWq8ZnniENMJkgqVWss/+SIhkekhTPKq6xVpEEKBMkNWtn5JoP6hz/ShLDZ1Oj55GDtqCRJECZIGmV1NgqY1I8mySGj6II3YIVbAQFZYIkddgenLmxwf0oSQy/psP+u7cf7fkaSYAyQdJZsMJSpSiCDy8fIfOrz/DeCSgTJJcdx3u+2njIfw9JjJyP2/pmrDD7niEJUCZInqlkuaWSFEZeebWlOCZx+z8oEySBVc2+p09aAreQxMhzecNXvF3vfpkkMNzYtIhhJcmKmPVKs9XlDV9JGokxNlff2VxVOD4nk4dAgskEGrW03l1EkSRWTyBWsHiTg1uFwWQCbQpGZGF82dzR3RMdTxqJlTkqo7fJVHj9xFy9hzTAZAJNWbLZUUmRqEPkrDymdI2NmyBAmUBbOgKxgnc22b9PEupRU+968mNP+CaSAGUCzShba6sKR+QxJKEeshwftWAVD4EEZQKNOO0J37hih+vbJKE+f9nr/dq+1t4vkgQoE6hecY21Upbjo0hCldIWVLcxnYAygbo1W3rvqmvyPkwS6rX/eNcXNhzyP04SoEygWvNXtFUJIdJIQt1Kqy1lbAsAZQJV2nzY/1jL0a7ZJKF+be3B6//U4OVuOwwZNi1iSCiKIr70swMnW+1900lDGybkZ7r2Vt45JVPPY1bAZAKVWNbke44i0ZYOf+Syt7a5fk4SYDKBKkQlRRS+bHZ4OyNTSENbcnJ03WZTYUFeti5OGmAyQUL9drvrNYpEm4JBKc+03v4GSYDJBAnVE5KE8SWzv68vNo40tEmvTw81VBbOuDzfYCUNMJkgIRZvciyhSLQtFotnl65pqyAJXAodEWCwfL2x+w+eCXzv9hvyCEPjbN7IE23eiHnaxMxFpIHB4NdcAIBLxq+5AACUCQCAMgEAUCYAAFAmAADKBABAmQAAKBMAACgTAABlAgCgTAAAlAkAAJQJAIAyAQBQJgAAygQAAMoEAECZAAAoEwAAZQIAAGUCAKBMAACUCQCAMgEAgDIBAFAmAADKBABAmQAAQJkAACgTAABlAgCgTAAAoEwAAJQJAEB9dESQWt7Z5a5d8aH3EZLAcLr/9vyGoocu/yJJpI40RVFIIUU4uqNX3lVkPhaNyTmkgWH9hyVNSJuK75x92xU5zaSRGvg1VwopW20ro0gwEhRF6IpXWitJgjJBkjnmCN2+ZpfzCZLASGk46Lt3x/Ger5IEZYIkUrLKWhmPCz1JYCQtWG5hOqFMkDQ/IZ4K3F/f0vEASWCknbQEblnd3PkUSVAmSAKvL7MsIgUkbCpe3rpQkrnRhzKBpq0/5J977EzP7SSBRHF5w1f+fpf7RZJIbtwanMRkWRFzXmtptbtCV5MGEilvrMFnrjROyMnMIAwmE2jNew3eFygSqEF3T3T8G1uc5STBZAKNCUVlUfiS2ePvjk4kDahB5qiM3r2mwqsn5Oo7SYPJBBrxVp1rAUUCNYmclceUr7NxqzBlAq3w9cZyf7vO9kOSgNpU/8X11GlP+EaSoEygAaYN7RWhsJRLElAbWY6PKqnhMSuUCVTP6otc+36d4xmSgFptbfI+3GzpvYskKBOoWMlqW4UkxbNIAiqWtmBFG9MJZQK1OmgLGjc2uB8jCahd89GuOZsP+7lWKROocipZaalUFNYU2lBcbSlnawJlApXZdrT7ocZD/ntIAlphsQenL9/re5YkKBOo6qe8Vn4HDc0pq7YsiEpMJ5QJVGFVs+/pj9v6ZpAEtKajMzLld9tdr5KE9vE4FY2LSYqY9Uqz3d0Rvpw0oEWjR+u7zFXG/LHZOsJgMkGi/H6nu4gigZb19cXGLd7kWEISTCZIkGBEFncW7fMFemMFpAEtM+gzgg0m44ypeQYbaTCZYIQt2eKooEiQDKIxOadsta2MJCgTjDBvIDZp6Qb7D0gCyWLNLucTxxwhPhWUMsFIKl9rKzt7Vh5NEkgW8bjQl6ziIZCUCUbMx57wTSt2uL5NEkg29S0dDzScCtxPEpQJRkBJjbVCluOjSALJ6PVllkWkQJlgmO090/uluibvwySBZHXsTM/t6w/555IEZYLhnEpWtVUIIdJIAsms+IPWSllm2wJlgmGx4ZD/8ZajXbNJAsnO7gpd/V6D9wWS0A42LWqEoijirp/uP9XWHryeNJAK8vMM3n1VxknZhgzCYDLBUFnW5HuOIkEq8XdHJ/66zlVMEkwmGCKRmCxmvdzi7PBHLiMNpJLsLF2gqcp4xfgx+gBpMJngEr29w/MqRYJUFApLuVUb7GxkZDLBpeoOSenGon2dwaCURxpIRTpdenhXxczbpo3PPE0aTCYYpF9sciymSJDKJCmeVVJjrSAJygSD1O6PXvWHTfbvkgRS3aZGz9cP2IKFJEGZYBDK19oWxmLxbJJAqlMUkV6y0sJ7J5QJBupoe+hza3Y5nyAJ4K/2HPL/U92Rbh4lRJlgIEprrBXxuNCTBPA3xdWtvHdCmaC/dp8M/HN9S8cDJAF82mlr34yVZt93SIIyQT/Mr27lEdzA+ab25ZaFMYktDZQJLmj9If/cY6cDt5EEcG6ejvDlS3e6XyIJdWHToorIsiJmv9ZiaXeFppEGcH65Y/SdzSbj+NGZOsJgMsE/eq/B+wJFAlxcoDdWsGSzs4okmEzwD0JRWRhfMnu6uqMTSQO4uFGjMvr2VBlvmDzW4CQNJhN84q061wKKBOi/s2fl0RW19lKSYDLBJ3y9sdxZRWZ7OCLlkgYwgJ+G00V0e5nxjumTs46RBpNJyjNtaK+gSICBi8eFoaTGWk4SlEnKa/NFrnu/zvEMSQCDs22v9+GmM713kwRlktJKV9vKJSmeRRLAoKWVrmxjOqFMUtcBW7BwY4P7MZIALk3Lsa7Z6w74v0ESlElqTiUrLRWKwhoAQ2HhCkspNxRRJimn7kj3w42H/PeQBDA0rI7gdX/e4/seSSQGtwYnyN0/33/stLXvJpIAhs74/Ez3vso7L8vUZxAGk0nyW9Xse5oiAYaezx+Z/Lu/eH5KEkwmSS8mKaLwlWa7pyN8OWkAQy8nR9dtNhUW5GXr4qTBZJK03tntfpEiAYZPMCjlLdroWEISTCZJqy8iiZlFZl+gN1ZAGsDw0evSQ7srZ958ZUFmG2kwmSSdN7Y4KygSYPjFpHh2+VpbGUlQJknH3ROdsnSD/QckAYyMtbvcc4+0h+4gCcokqVTW2kvOnpVHkwQwMhRF6EpWtVWSBGWSNE65wzOqtzueIglgZO3a7/vnnSd6HiQJyiQplK62lsfjwkASwMibv8zCx/tSJtq390zvl+qavA+TBJAYJyyBW2sPdD5JEpSJtqeSVW3lQog0kgASZ8EHlgpJZhsEZaJR6w/55zYf7ZpDEkBiOT2hq9770PPfJDF82LQ4TBRFEXNe2/+x1RG8jjSAxMsba/CZTcYJOQYeAslkoiHLmnzPUSSAenT3RMf/aquzlCSYTDQjEpNF4cstLp8/Mpk0APXIyszobTIVTpswRu8nDSYT1Xt7h+dVigRQn3BEHlO5zs7nxTOZaGCUDknpxqJ9ncGglEcagProMtLD9RV3fu6aCVmnSIPJRLV+scmxmCIB1EuS41mlNbYKkqBMVKvdH73qD5vs3yUJQN02NXoebbH0cts+ZaJO5WttC2OxeDZJAKqXVlJj5b0TykR9jraHPrd6p/MbJAFow97D/i9t+aj76yRBmahKaY21QlGEjiQA7Sipbi3nJiTKRDV2nez5cn1LxwMkAWjLGVvfDSv2df4bSVAmqjB/mcVECoA2LVzeWhqVmE4okwRbf8g/93hr4DaSALTJ2xmZsrTe/WOSuDRsWrwEsqyIL/ykxeLwhKaRBqBdY0bru8wmY35uFm97MpkkwB8bvc9TJID29fbFxi3Z5FxEEkwmIy4UlYWxyOzt6olOIA1A+wz6jGCjyXjTlDyDnTSYTEbMW3WuBRQJkDyiMTmnfK2NR9RTJiOnozeW/5ta2w9JAkguNfXObx53hLihhjIZGYs2tJeGI1IuSQDJJR4X+tLVPGaFMhkBFm/k+ve3Op4hCSA5bTd3fLXhVOA+kqBMhtXCtbYySY5nkQSQvMpq2haSAmUybPZbg7M2NrgfIwkgyf9fP949a21L57dIgjIZnqmkxlqmKGQGpMR0stJSIstsnaBMhljdke5/aTzou5ckgNRgc4au+fMe73+SRP+wabGfvvSz/cfP2PpuJAkgdeTnGbxmk3FSlj6DMJhMLt2qZt/TFAmQevzd0YlvbXO9ThJMJpcsJimi8JVmu6cjfDlpAKknO0sX2LvIOKUgRx8kDSaTQXtnt/tFigRIXaGwlLt4Q3sFSTCZDFpfRBIzi8ydgd5YPmkAqUunSw/vrph561XjM8+QBpPJgL2xxVlBkQCQpHhW2RobGxkpk4Fz90SnvL3e/jxJABBCiHUfuucetAWNJEGZDEhlrb0kGpVzSAKAEEIoikhfWMNDICmTATjpDt9cvd3xFEkA+HsfHvDdt/1oz9dI4rP4wONzWLW3491br88zkASAz/z7sM/z1n03j51GEp/G3VwAgEvGr7kAAJQJAIAyAQBQJgAAUCYAAMoEAECZAAAoEwAAKBMAAGUCAKBMAACUCQAAlAkAgDIBAFAmAADKBAAAygQAQJkAACgTAABlAgAAZQIAoEwAAJQJAIAyAQCAMgEAUCYAAMoEAECZAABAmQAAKBMAAGUCAKBMAACgTAAAlAkAQH10yXAS1s7Ij37w9qlF8TjlCEBbSr51ddmdV495VevnkaYoiuYX499+c6J2a5P3ES5LAFpz7ZWjT+wu/vxNWj8Pzf8kv+d04B6KBIBWnbH13biq2fc0ZZJgZTXWUi5HAFpW8oGlPCZp+7dEmi6T2gOdTzYf7ZrDpQhAyzy+8NTf73QXafkcNPueiaIoYvar+0/bnMFruRQBaN2Y0fous8mYn5ulzfuiNDuZLN/re5YiAZAsevti497c6qxgMhlB4ZgsjC+Z3f6u6CQuQQDJwmDICO4xGW+4bKzBwWQyApbu8LxKkQBINtGonFNVay9mMhkBXUFJX/jivo5gWBrLpQcg2aSni1jdwpmfv+my7CNMJsNoyWZHFUUCIFnF40Jfvsa2UHMlqKWDtXVGpv1ho/27XG4Aklldk/eRPacD91Amw6Sytr00JsWzudQAJLuFNVZNTSeaKZOP7MHPr97p/AaXGIBU0HK0a3btgc4nKZMhVrbGtlBRkuMpxwDQr+mkuq1UKzdJaaJM6k/0fKW+ueNBLi0AqcTmDF67rMn3nBaOVRO3Bt877+BHJy2BW7i0AKSa/HEGj7nKODlLn8Fkcik2HPI/TpEASFX+ruikt3d4XmMyuQSSrIhZrzRbXd7wlVxSAFJVTpauZ9+iwgnjcnQxJpNB+FOj93mKBECqC4alsb/Y5DAxmQwmvKgsjEXmju6e6HguJQCpTq9LD+2qnHnrVQWZrUwmA/CbOtcCigQA/iomxbMra9tL1Hp8qiyTjkCs4K211h9x+QDA36zZ6XzysD04kzLpp0Ub20siZ+UxXDoA8DeKItLLVqvzIZCqK5PWjvD0P291/DuXDQB81s6Wji/vON7zVcrkIsrX2EtlOT6KSwYAzm3+MksVZXIBLZbeOes/dD/OpQIA53eqLXDzugN+VT34VlVlUrbGXiKESONSAYALm/f+GZMkq2drh2rKZMtH3V9vPOi7l0sEAC7O5Q1f8ccGz3+p5XhUs2nxiz/df7LV3jedSwQA+mdsrr6zuapwfE5m4h8CqYrJZHVz51MUCQAMTE8gVvDrbU5VbGRM+GQSlRRR+LLZ4e2MTOHSAICByRyV0bvXVHj1hFx9Z0pPJu/udr9IkQDA4ETOymOqNtgTvpExoZNJICyJmUVmf19fbByXBAAMTkZG+tkdZXd+7rpJWSdScjJ5c6uzgiIBgEsjy/FR5WsT+5iVhJWJszt6xdvr7M9zGQDApdvY4Pl6s6X3rpQrE9M6+/xoTM7hEgCAIZG2sMaasOkkIWVy3BW6pXq742nWHgCGTtNh/92bD/sfS5kyqVhjWxiPCz1LDwBDq7jaUp6IG6tGvEwaTwfu3drkfYQlB4ChZ7EHp69s7nwm6cukvMZawnIDwPApeb+1LCqN7HQyomVSu7/zm81Hu+aw1AAwfDr8kcuW1rtfHsnvOWKbFhVFEbNfbTljc4auYakBYHjl5Oi6m02F48Zm65JrMlm+1/csRQIAIyMYlPJ+ucVpSqrJJByThfEls9vfFZ3EEgPAyNDr00ONpsKbpuYZbEkxmSzd4XmVIgGAkRWLxbMra+3FSTGZdAUlvfHFfb5QWMplaQFgZKWlCamudObMGVOzD2l6Mlmy2VFFkQBAYiiK0JWttZUO9/cZ1jKxdkaueXej/XssJwAkzl/2eh9qOBW4X7NlUrWufYEkxbNYSgBIrLJh3jA+bGVy2B6cubre+S2WEAASb//xri+sbu58SnNlUr7GVqIoif9YYADAJ9PJSkuJLA/PTVfD8o/9juM9X61v7niQpQMA9Wh3haa9v8f7/eF47WG5Nfie1w8eOdUWuJmlAwB1GZdn8JqrjJOyDRnqnkw2HPI/TpEAgDp1dUcn/s92z89UPZlIsiJmvdJsc3nDV7BkAKBOWZm6wF6T8YrxY/QBVU4mf2r0Pk+RAIC6hSNS7pJN7UO6kXHIJpNgVBYzX9zn6wnEClgqAFA3XUZ6eFflzNumjc88rarJ5Dd1rgUUCQBogyTHsypqbUO2kXFIyqQjECt4a631RywPAGhH7S73EwdswULVlMmije0lkbPyGJYGALRDUUR6+WrrQlWUyWlP+MY/b3X8O8sCANqze7/v/roj3Q8nvEwqa+3FshwfxZIAgDYVV7dWJrRMmi29d63/0P04SwEA2nXa2ndT7f7ObyasTMrX2IuFEGksBQBo2+vvt1bFpMFvFRl0mWw+7H+s8aDvXpYAALTP0xG+/L0Gzw8H+/cHvWnxrp+2nLTYg9NZAgBIDrlj9P5mk7FgdKZuZCaT1c2dT1EkAJBcAr2x/F/VuQZ1q/CAJ5OopAjjy2ZHR2dkCtEDQHIxGDKCTSbj9MljDc5hnUze3e1+kSIBgOQUjco5pg3t84d1MgmEJTGzyOzv64uNI3IASE7p6SK6vcx4x/TJWceGZTJ5c6uzgiIBgOQWjwtD+VrbgN476XeZOLujV/zPOtsLxAwAyW9zo+fRpjO9dw95mSzaYJ8Xi8WziRgAUkN5jbXfH6DVrzI57gjdtnyb4ztECwCpY98R/xfXHfB/Y8jKpKLWVhKPCz3RAkBqKV1hWdifG7UuWiYNpwL3bW3yPkKkAJB6bI7gtdX7Oi/6MSMXLZOKNdZi4gSA1FXyQWtZJCYPvkzWtnR+q/lo1xyiBIDU1dkVmfT7eu8rF/qa825alGVFzHmtpdXuCl1NlACQ2nKydD3mxYX5edm6+IAmkxVm37MUCQBACCGCYWnsG5sdpgFNJuGYLIxFZo+/OzqRCAEAQgih16WHdlfOvPnKgsy2fk0mS3d4XqVIAAB/LybFs6vWtxf3azLpDMZyZr1odobCUi7RAQA+VRppQtpSMrPwlsuzD1xwMvnlZmcpRQIAOBdFEbqFq62feQjkp8rE6otc++5G+/eICwBwPvXNHV/ZeaLnwfOWSdX69vmSFM8iKgDAhVSuti44Z5kctAWNq+ud3yIiAMDFHDjRXbjC7HvmM2VSudZWrCgD/xhfAEBqKq+2LJBk5W9lsv1oz9fqmzseJBoAQH+5vOEr/9zo/YEQn9wafPfP9x89be2bQTQAgIHIG2vwmU3GCRnGx/778f/d3P48kQAABipyVs42ZOvTdE0f9/7TnNvz64kEADAYx9uDt6b15xO0AAC4EO7eAgBQJgAAygQAQJkAAECZAAAoEwAAZQIAoEwAAKBMAACUCQCAMgEAUCYAAFAmAADKBABAmQAAKBMAACgTAABlAgCgTAAAlAkAAJQJAIAyAQBQJgAAygQAAMoEAECZAAAk0Gq+AAAAlUlEQVQoEwAAZQIAAGUCAKBMAACUCQCAMgEAgDIBAFAmAADKBABAmQAAQJkAACgTAABlAgCgTAAAoEwAAJQJAIAyAQBQJgAAUCYAAMoEAECZAAAoEwAAKBMAAGUCAKBMAACUCQAAlAkAgDIBAFAmAADKBAAAygQAQJkAACgTAABlAgAAZQIAoEwAAJQJAIAyAQDgYv4vMVxnuxH2/TUAAAAASUVORK5CYII="},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return h});var r=n(7);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i="all";function a(){return{name:"CNA",type:"seg",displayMode:"FILL",features:[]}}function s(e){return r.keyBy(e||[],"name")}function l(e,t){var n=s(e),i=s(t),a=t.filter(function(e){return!r.isEqual(i[e.name],n[e.name])}).map(function(e){return e.name}),l=r.difference(e.map(function(e){return e.name}),t.map(function(e){return e.name}));return[].concat(o(a),o(l))}function c(e){var t=e.map(function(e){return[e.sampleId,e.chromosome,e.start,e.end,e.numberOfProbes,e.segmentMean]});return[["ID","chrom","loc.start","loc.end","num.mark","seg.mean"]].concat(o(t)).map(function(e){return e.join("\t")}).join("\n")}function u(e){return e.map(function(e){return{chr:p(e.chromosome),start:e.start,end:e.end,value:e.segmentMean,sample:e.sampleId,patient:e.patientId,study:e.studyId,numberOfProbes:e.numberOfProbes,sampleKey:e.uniqueSampleKey}})}function p(e){switch(e){case"23":return"X";case"24":return"Y";default:return e}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return Math.max(Math.min(t,r.uniq(e.map(function(e){return e.sampleKey})).length*o),n)}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){e.exports=n(15)(486)},function(e,t,n){"use strict";var r,o=n(0),i=n(554),a=n(989),s=(n(925),n(5)),l=n(623),c=n.n(l),u=n(7),p=n(11),h=n(28),d=n.n(h),f=n(20),m=n(25),y=n(655),g=n(4),v=n(573);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function _(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=(E(r={},"desc",a.b.DESC),E(r,"asc",a.b.ASC),r),I=function(e){function t(e,n){var r;return S(this,t),(r=_(this,k(t).call(this,e))).fixedTopRowsData=n,r}return T(t,v["a"]),C(t,[{key:"sortedData",get:function(){var e=this.sortMetric||function(){return 0},t=void 0===this.sortAscending||this.sortAscending;return[].concat(b(this.fixedTopRowsData),b(Object(i.c)(this.allData,e,t)))}}]),t}();O([s.computed],I.prototype,"sortedData",null);var M=function(e){function t(e){var n;S(this,t),(n=_(this,k(t).call(this,e)))._sortBy=e.sortBy;var r=u.find(n.props.columns,function(e){return e.name===n._sortBy});return n._sortDirection=void 0===e.sortDirection?u.isUndefined(r)?"desc":r.defaultSortDirection||"desc":e.sortDirection,n.initDataStore(),n}return T(t,o["Component"]),C(t,[{key:"componentWillReceiveProps",value:function(e){this.updateDataStore(e)}},{key:"updateDataStore",value:function(e){var t=this,n=new I(function(){return t.props.data},this.props.fixedTopRowsData||[]);this._store.setProps({columns:e.columns,dataStore:n,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"initDataStore",value:function(){var e=this,t=new I(function(){return e.props.data},this.props.fixedTopRowsData||[]);this._store=new i.a({columns:this.props.columns,dataStore:t,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"rowClassName",value:function(e){var t=e.index;if(t>-1&&this.isSelectedRow(this._store.dataStore.sortedFilteredData[t])){var n=[c.a.row];if(this.props.highlightedRowClassName){var r=this.props.highlightedRowClassName(this._store.dataStore.sortedFilteredData[t]);n.push(r)}else n.push(c.a.highlightedRow);return d()(n)}return t<0?c.a.headerRow:d()(c.a.row,t%2==0?c.a.evenRow:c.a.oddRow)}},{key:"rowGetter",value:function(e){var t=e.index;return this._store.dataStore.sortedFilteredData[t]}},{key:"getColumn",value:function(e){return u.keyBy(this.props.columns,function(e){return e.name})[e]}},{key:"sort",value:function(e){var t=e.sortBy;this._store.defaultHeaderClick(this.getColumn(t)),this._sortBy=t,this._sortDirection=this._store.dataStore.sortAscending?"asc":"desc",this.props.afterSorting&&this.props.afterSorting(this._sortBy,this._sortDirection)}},{key:"onFilterTextChange",value:function(){var e=this;return Object(y.a)(function(t){e._store.setFilterString(t)},400)}},{key:"afterSelectingRows",value:function(){u.isFunction(this.props.afterSelectingRows)&&this.props.afterSelectingRows()}},{key:"isSelectedRow",value:function(e){return!!u.isFunction(this.props.isSelectedRow)&&this.props.isSelectedRow(e)}},{key:"onAddAll",value:function(){this.props.addAll&&this.props.addAll(this._store.dataStore.sortedFilteredData)}},{key:"onRemoveAll",value:function(){this.props.removeAll&&this.props.removeAll(this._store.dataStore.sortedFilteredData)}},{key:"setInputRef",value:function(e){this.inputElement=e}},{key:"componentDidMount",value:function(){this.props.autoFocusSearchAfterRendering&&this.inputElement.focus()}},{key:"getControls",value:function(){return o.createElement("div",{className:d()(c.a.controls)},!this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),className:d()("form-control",c.a.tableSearchInput)}),o.createElement(f.If,{condition:this.props.showAddRemoveAllButtons},o.createElement("div",{className:"btn-group",role:"group"},this.props.addAll&&o.createElement("button",{className:"btn btn-default btn-xs",onClick:this.onAddAll,"data-test":"fixed-header-table-add-all"},"Select all".concat(this.props.showSelectableNumber?" (".concat(this._store.dataStore.sortedFilteredData.length,")"):"")),this.props.removeAll&&o.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-remove-all",onClick:this.onRemoveAll,disabled:this.props.removeAllDisabled},"Deselect all"))),o.createElement(f.If,{condition:this.props.showSelectSamples},o.createElement("button",{className:d()("btn btn-primary btn-xs",c.a.controlsBtn),"data-test":"fixed-header-table-select-sample",onClick:this.afterSelectingRows},"Select Samples")),this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),ref:this.setInputRef,"data-test":"fixed-header-table-search-input",className:d()("form-control",c.a.tableSearchInput)}))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:c.a.studyViewTablesTable},this.props.showControls&&this.props.showControlsAtTop&&this.getControls(),o.createElement(a.c,{width:this.props.width,height:this.props.height,headerHeight:this.props.headerHeight,rowHeight:this.props.rowHeight,rowCount:this._store.dataStore.sortedFilteredData.length,rowGetter:this.rowGetter,className:c.a.studyViewTablesBody,rowClassName:this.rowClassName,headerClassName:c.a.headerColumn,sort:this.sort,sortDirection:P[this._sortDirection],sortBy:this._sortBy},this.props.columns.map(function(t,n){return o.createElement(a.a,{key:t.name,label:t.name,dataKey:t.name,width:Number(t.width),className:c.a.columnCell,headerRenderer:e.columnHeaders[n],cellRenderer:function(e){return t.render(e.rowData)}})})),this.props.showControls&&!this.props.showControlsAtTop&&this.getControls())}},{key:"columnHeaders",get:function(){var e=this;return this.props.columns.map(function(t){return function(n){var r=[];t.headerRender?r.push(t.headerRender(t.name)):r.push(o.createElement("span",{key:t.name},t.name)),t.name===e._sortBy&&r.push(o.createElement("i",{className:d()(c.a.headerSortingIcon,"fa","desc"===e._sortDirection?"fa-sort-desc":"fa-sort-asc")}));var i=o.createElement("div",{style:{display:"flex"}},r);return t.tooltip?o.createElement(g.c,{placement:"top",overlay:t.tooltip},i):i}})}}]),t}();M.defaultProps={showControls:!0,showControlsAtTop:!1,showSelectSamples:!1,showAddRemoveAllButtons:!1,autoFocusSearchAfterRendering:!1,width:398,height:350,headerHeight:25,rowHeight:25,showSelectableNumber:!1,sortBy:""},O([s.observable],M.prototype,"_sortBy",void 0),O([s.observable],M.prototype,"_sortDirection",void 0),O([m.a],M.prototype,"rowClassName",null),O([m.a],M.prototype,"rowGetter",null),O([m.a],M.prototype,"getColumn",null),O([m.a,s.action],M.prototype,"sort",null),O([m.a,s.action],M.prototype,"onFilterTextChange",null),O([m.a],M.prototype,"afterSelectingRows",null),O([m.a],M.prototype,"isSelectedRow",null),O([m.a],M.prototype,"onAddAll",null),O([m.a],M.prototype,"onRemoveAll",null),O([s.computed],M.prototype,"columnHeaders",null),O([m.a],M.prototype,"setInputRef",null),M=O([p.observer],M),t.a=M},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(4);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return r.createElement(o.c,{overlay:this.props.tooltip},r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:Object.assign({},{color:"#BB1700",cursor:"pointer"},this.props.style||{})}))}}])&&a(n.prototype,i),u&&a(n,u),t}()},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(950),s=n(817),l=n(818),c=n(751),u=n(819),p=n(816),h=n(956),d=n(719);i.default.Children.children=function(e){return i.default.Children.map(e,function(e){return e})||[]},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(i in n&&(t=n[i],e.call(o,t,i,n)))return t}});var f={Table:a.Table,Tr:s.Tr,Td:l.Td,Th:c.Th,Tfoot:u.Tfoot,Thead:p.Thead,Sort:h.Sort,unsafe:d.unsafe};t.default=f,"undefined"!=typeof window&&(window.Reactable=f),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var a,s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(719),u=n(675),p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),o(t,[{key:"render",value:function(){return(0,c.isUnsafe)(this.props.children)?l.default.createElement("th",r({},(0,u.filterPropsFrom)(this.props),{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):l.default.createElement("th",(0,u.filterPropsFrom)(this.props),this.props.children)}}]),t}();t.Th=p},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(4);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return r.createElement(o.c,{overlay:this.props.tooltip,placement:this.props.tooltipPlacement||"right"},r.createElement("div",{style:this.props.divStyle},r.createElement("i",{className:"fa fa-info-circle",style:Object.assign({},{color:"#000000",cursor:"pointer"},this.props.style||{})})))}}])&&a(n.prototype,i),u&&a(n,u),t}()},function(e,t,n){"use strict";var r=n(11),o=n(0),i=n(5),a=n(92),s=n(569),l=n.n(s),c=n(28),u=n.n(c);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=h(this,d(t).apply(this,arguments))).isHovered=!1,e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o["Component"]),n=t,(r=[{key:"onMouseEnter",value:function(){this.isHovered=!0}},{key:"onMouseLeave",value:function(){this.isHovered=!1}},{key:"render",value:function(){var e=void 0===this.props.arrowOffsetTop?30:this.props.arrowOffsetTop,t=!this.props.placement||"left"===this.props.placement||"right"===this.props.placement;return this.props.targetHovered||this.isHovered?o.createElement(a.Popover,{className:u()("cbioportal-frontend","cbioTooltip",this.props.className),positionLeft:this.props.targetCoords.x+this.props.container.offsetLeft+5-(t?0:30),positionTop:this.props.targetCoords.y+this.props.container.offsetTop-(t?e:-5),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,arrowOffsetTop:t?e:void 0,arrowOffsetLeft:t?void 0:24,placement:this.props.placement},this.props.overlay):null}}])&&p(n.prototype,r),i&&p(n,i),t}();y([i.observable],g.prototype,"isHovered",void 0),y([l.a],g.prototype,"onMouseEnter",null),y([l.a],g.prototype,"onMouseLeave",null),g=y([r.observer],g),t.a=g},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(569),s=n(561),l=n(587),c=n(646),u=n.n(c),p=n(7),h=n.n(p),d=1.5,f=3;var m=n(753),y=n(565),g=n(576),v=n(617),b=n(618),S=n(4),w=n(25),C=n(92),_=n(17),k=n(28),T=n.n(k),x=n(566);function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N={min:{stroke:"#999999"},max:{stroke:"#999999"},q1:{fill:"#eeeeee"},q3:{fill:"#eeeeee"},median:{stroke:"#999999",strokeWidth:1}},R=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=P(this,I(t).apply(this,arguments))).scatterPlotTooltipModel=null,e.pointHovered=!1,e.mouseEvents=e.makeMouseEvents(),e.mousePosition={x:0,y:0},e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(i=[{key:"containerRef",value:function(e){this.container=e}},{key:"makeMouseEvents",value:function(){var e=this,t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.scatterPlotTooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}},{key:"jitter",value:function(e,t){return.2*this.boxWidth*t}},{key:"scatterPlotX",value:function(e){if(this.props.logScale&&this.props.horizontal)return this.props.logScale.fLogScale(e.x,0);var t=0;if(!this.props.horizontal){var n=e.jitter;void 0===n&&(n=Object(g.c)(e.y,[-1,1])),t=this.jitter(e,n)}return e.x+t}},{key:"scatterPlotY",value:function(e){if(this.props.logScale&&!this.props.horizontal)return this.props.logScale.fLogScale(e.y,0);var t=0;if(this.props.horizontal){var n=e.jitter;void 0===n&&(n=Object(g.c)(e.x,[-1,1])),t=this.jitter(e,n)}return e.y+t}},{key:"formatCategoryTick",value:function(e,t){return this.labels[t]}},{key:"formatNumericalTick",value:function(e,t,n){return Object(b.a)(e,n,this.props.logScale&&!this.props.useLogSpaceTicks?this.props.logScale.fInvLogScale:void 0)}},{key:"categoryCoord",value:function(e){return e*(this.boxWidth+this.boxSeparation)}},{key:"onMouseMove",value:function(e){null!==this.boxPlotTooltipModel&&(this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY)}},{key:"getChart",value:function(){var e,t=this;return r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight),onMouseMove:this.onMouseMove,ref:function(e){t.props.containerRef&&t.props.containerRef(e)}},r.createElement("g",{transform:"translate(".concat(this.leftPadding,", ").concat(this.topPadding,")")},r.createElement(y.VictoryChart,{theme:s.d,width:this.chartWidth,height:this.chartHeight,standalone:!1,domainPadding:this.chartDomainPadding,domain:this.plotDomain,singleQuadrantDomainPadding:(e={},A(e,this.dataAxis,!!this.props.startDataAxisAtZero),A(e,this.categoryAxis,!1),e)},this.title,this.legend,this.horzAxis,this.vertAxis,r.createElement(y.VictoryBoxPlot,{boxWidth:this.boxWidth,style:N,data:this.boxPlotData,horizontal:this.props.horizontal,events:this.boxPlotEvents}),this.scatterPlotData.map(function(e){return r.createElement(y.VictoryScatter,{key:"".concat(e.fill,",").concat(e.stroke,",").concat(e.strokeWidth,",").concat(e.strokeOpacity,",").concat(e.fillOpacity,",").concat(e.symbol),style:{data:{fill:e.fill,stroke:e.stroke,strokeWidth:e.strokeWidth,strokeOpacity:e.strokeOpacity,fillOpacity:e.fillOpacity}},size:t.scatterPlotSize,symbol:e.symbol,data:e.data,events:t.mouseEvents,x:t.scatterPlotX,y:t.scatterPlotY})})))))}},{key:"getScatterPlotTooltip",value:function(){return this.container&&this.scatterPlotTooltipModel&&this.props.scatterPlotTooltip?r.createElement(m.a,{placement:this.props.horizontal?"bottom":"right",container:this.container,targetHovered:this.pointHovered,targetCoords:{x:this.scatterPlotTooltipModel.x+this.leftPadding,y:this.scatterPlotTooltipModel.y+this.topPadding},overlay:this.props.scatterPlotTooltip(this.scatterPlotTooltipModel.datum)}):r.createElement("span",null)}},{key:"getBoxPlotTooltipComponent",value:function(){if(this.container&&this.boxPlotTooltipModel&&this.props.boxPlotTooltip){var e=this.mousePosition.x>x.a.size.width-400?"left":"right";return _.createPortal(r.createElement(C.Popover,{arrowOffsetTop:17,className:T()("cbioportal-frontend","cbioTooltip"),positionLeft:this.mousePosition.x+("left"===e?-8:8),positionTop:this.mousePosition.y-17,style:{transform:"left"===e?"translate(-100%,0%)":void 0,maxWidth:400},placement:e},r.createElement("div",null,this.props.boxPlotTooltip(this.boxPlotTooltipModel.datum))),document.body)}return null}},{key:"render",value:function(){return this.props.data.length?r.createElement("div",null,r.createElement(o.Observer,null,this.getChart),r.createElement(o.Observer,null,this.getScatterPlotTooltip),r.createElement(o.Observer,null,this.getBoxPlotTooltipComponent)):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"boxPlotEvents",get:function(){if(this.props.boxPlotTooltip){var e=this;return[{target:["min","max","media","q1","q3"],eventHandlers:{onMouseEnter:function(){return[{mutation:function(t){e.boxPlotTooltipModel=t}}]},onMouseLeave:function(){return[{mutation:function(){e.boxPlotTooltipModel=null}}]}}}]}return[]}},{key:"title",get:function(){return this.props.title?r.createElement(y.VictoryLabel,{style:{fontWeight:"bold",fontFamily:s.b.fontFamily,textAnchor:"middle"},x:this.svgWidth/2,y:"1.2em",text:this.props.title}):null}},{key:"chartWidth",get:function(){return this.props.horizontal?this.props.chartBase:this.chartExtent}},{key:"chartHeight",get:function(){return this.props.horizontal?this.chartExtent:this.props.chartBase}},{key:"sideLegendX",get:function(){return this.chartWidth-20}},{key:"legendLocation",get:function(){return void 0!==this.props.legendLocationWidthThreshold&&this.chartWidth>this.props.legendLocationWidthThreshold?"bottom":"right"}},{key:"bottomLegendHeight",get:function(){return this.props.legendData?23.7*Math.ceil(this.props.legendData.length/4):0}},{key:"legend",get:function(){if(this.props.legendData&&this.props.legendData.length){var e=this.props.legendData;return"bottom"===this.legendLocation&&(e=e.map(function(e){var t=e.name;return Array.isArray(e.name)&&(t=t.join(" ")),{name:t,symbol:e.symbol}})),r.createElement(y.VictoryLegend,{orientation:"right"===this.legendLocation?"vertical":"horizontal",itemsPerRow:"right"===this.legendLocation?void 0:4,rowGutter:"right"===this.legendLocation?void 0:-5,data:e,x:"right"===this.legendLocation?this.sideLegendX:0,y:"right"===this.legendLocation?100:this.svgHeight-this.bottomLegendHeight})}return null}},{key:"plotDomain",get:function(){var e,t,n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=!0,i=!1,a=void 0;try{for(var s,l=this.props.data[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=!0,p=!1,h=void 0;try{for(var d,f=c.data[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var m=d.value;n=Math.max(m.value,n),r=Math.min(m.value,r)}}catch(e){p=!0,h=e}finally{try{u||null==f.return||f.return()}finally{if(p)throw h}}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.props.logScale&&(r=this.props.logScale.fLogScale(r,0),n=this.props.logScale.fLogScale(n,0)),this.props.startDataAxisAtZero&&(r=Math.min(0,r));var y=[r,n],g=[this.categoryCoord(0),this.categoryCoord(Math.max(1,this.props.data.length-1))];return this.props.horizontal?(e=y,t=g):(e=g,t=y),{x:e,y:t}}},{key:"categoryAxisDomainPadding",get:function(){return Math.max(this.boxWidth/2+30,this.domainPadding)}},{key:"dataAxisDomainPadding",get:function(){return this.domainPadding}},{key:"domainPadding",get:function(){return void 0===this.props.domainPadding?100:this.props.domainPadding}},{key:"dataAxis",get:function(){return this.props.horizontal?"x":"y"}},{key:"categoryAxis",get:function(){return this.props.horizontal?"y":"x"}},{key:"chartDomainPadding",get:function(){var e;return A(e={},this.dataAxis,this.dataAxisDomainPadding),A(e,this.categoryAxis,this.categoryAxisDomainPadding),e}},{key:"chartExtent",get:function(){var e=this.props.data.length;return this.categoryCoord(e-1)+2*this.categoryAxisDomainPadding+100}},{key:"svgWidth",get:function(){return this.leftPadding+this.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return this.topPadding+this.chartHeight+this.bottomPadding}},{key:"boxSeparation",get:function(){return.5*this.boxWidth}},{key:"boxWidth",get:function(){return this.props.boxWidth||10}},{key:"scatterPlotSize",get:function(){var e=this.props.highlight,t=this.props.size;return Object(g.f)(e,t)}},{key:"labels",get:function(){var e=this;return this.props.data.map(function(t){return e.props.compressXAxis?Object(S.gb)(t.label,50,s.b.fontFamily,s.b.fontSize+"px"):t.label})}},{key:"horzAxis",get:function(){return r.createElement(y.VictoryAxis,{style:{grid:{strokeOpacity:1}},orientation:"bottom",offsetY:50,crossAxis:!1,label:this.props.axisLabelX,tickValues:this.props.horizontal?void 0:this.categoryTickValues,tickCount:this.props.horizontal?8:void 0,tickFormat:this.props.horizontal?this.formatNumericalTick:this.formatCategoryTick,tickLabelComponent:r.createElement(y.VictoryLabel,{angle:this.props.compressXAxis||this.props.horizontal?void 0:50,verticalAnchor:this.props.compressXAxis||this.props.horizontal?void 0:"start",textAnchor:this.props.compressXAxis||this.props.horizontal?void 0:"start"}),axisLabelComponent:r.createElement(y.VictoryLabel,{dy:this.props.compressXAxis||this.props.horizontal?35:this.biggestCategoryLabelSize+24})})}},{key:"yAxisLabel",get:function(){return this.props.axisLabelY?Object(S.eb)(this.props.axisLabelY,this.chartHeight-20,s.b.fontFamily,"".concat(s.b.fontSize,"px")):[]}},{key:"yAxisLabelVertOffset",get:function(){return this.props.horizontal?-1*this.biggestCategoryLabelSize-24:this.yAxisLabel.length>1?-30:-50}},{key:"vertAxis",get:function(){return r.createElement(y.VictoryAxis,{orientation:"left",offsetX:50,crossAxis:!1,label:this.yAxisLabel,dependentAxis:!0,tickValues:this.props.horizontal?this.categoryTickValues:void 0,tickCount:this.props.horizontal?void 0:8,tickFormat:this.props.horizontal?this.formatCategoryTick:this.formatNumericalTick,axisLabelComponent:r.createElement(y.VictoryLabel,{dy:this.yAxisLabelVertOffset})})}},{key:"scatterPlotData",get:function(){for(var e=this.props.horizontal?"x":"y",t=this.props.horizontal?"y":"x",n=[],r=0;r<this.props.data.length;r++){var o=this.categoryCoord(r),i=!0,a=!1,s=void 0;try{for(var c,u=this.props.data[r].data[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var p,h=c.value;n.push(Object.assign({},h,(A(p={},e,h.value),A(p,t,o),p)))}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}return Object(g.i)(n,Object(l.a)(this.props.fill,"0x000000"),Object(l.a)(this.props.stroke,"0x000000"),Object(l.a)(this.props.strokeWidth,0),Object(l.a)(this.props.strokeOpacity,1),Object(l.a)(this.props.fillOpacity,1),Object(l.a)(this.props.symbol,"circle"),this.props.zIndexSortBy)}},{key:"leftPadding",get:function(){return this.props.horizontal?this.biggestCategoryLabelSize:25}},{key:"topPadding",get:function(){return 0}},{key:"rightPadding",get:function(){return this.props.legendData&&this.props.legendData.length>0&&"right"===this.legendLocation?Math.max(120,50):50}},{key:"bottomPadding",get:function(){var e=10,t=0;return this.props.horizontal||(e=this.props.compressXAxis?20:this.biggestCategoryLabelSize),"bottom"===this.legendLocation&&(t=this.bottomLegendHeight+15),e+t}},{key:"biggestCategoryLabelSize",get:function(){var e=Math.max.apply(Math,E(this.labels.map(function(e){return Object(S.P)(e,s.b.fontFamily,s.b.fontSize+"px")})));return this.props.compressXAxis||this.props.horizontal?e:e*Math.abs(Math.sin(Math.PI/180*50))}},{key:"categoryTickValues",get:function(){var e=this;return this.props.data.map(function(t,n){return e.categoryCoord(n)})}},{key:"boxPlotData",get:function(){var e=this,t=this.props.boxCalculationFilter,n=h.a.cloneDeep(this.props.data);return this.props.excludeLimitValuesFromBoxPlot&&h.a.each(n,function(e){e.data=h.a.filter(e.data,function(e){return!Object(g.b)(e)})}),n.map(function(n){return r=n.data.reduce(function(n,r){return(!t||t&&t(r))&&(e.props.logScale?n.push(e.props.logScale.fLogScale(r.value,0)):n.push(r.value)),n},[]),o=p.sortBy(r,[function(e){return e}]),i=u.a.quartiles(o),a=u.a.median(o),s=i[0],l=i[1],c=i[2],h=c-s,m=o[o.length-1],y=o[0],b=function(e,t,n,r,o){return e.reduce(function(e,i){return i>=t&&(i<n?e.upper.suspectedOutliers.push(i):e.upper.outliers.push(i)),i<=r&&(i>o?e.lower.suspectedOutliers.push(i):e.lower.outliers.push(i)),e},{upper:{outliers:[],suspectedOutliers:[]},lower:{outliers:[],suspectedOutliers:[]}})}(o,v=c+d*h,c+f*h,g=s-d*h,s-f*h),S=b.lower.suspectedOutliers.length>0||b.lower.outliers.length>0?g:o[0],{q1:s,q2:l,q3:c,IQR:h,median:a,whiskerUpper:b.upper.suspectedOutliers.length>0||b.upper.outliers.length>0?v:o[o.length-1],whiskerLower:S,max:m,min:y,outliersUpper:b.upper,outliersLower:b.lower};var r,o,i,a,s,l,c,h,m,y,g,v,b,S}).map(function(t,n){var r={min:t.whiskerLower,max:t.whiskerUpper,median:t.median,q1:t.q1,q3:t.q3};return e.props.horizontal?r.y=e.categoryCoord(n):r.x=e.categoryCoord(n),r}).filter(function(e){return Object(v.a)(["min","max","median","q1","q3"].map(function(t){return!isNaN(e[t])}))})}}])&&O(n.prototype,i),a&&O(n,a),t}();L([i.observable.ref],R.prototype,"scatterPlotTooltipModel",void 0),L([i.observable],R.prototype,"pointHovered",void 0),L([i.observable.ref],R.prototype,"container",void 0),L([i.observable.ref],R.prototype,"boxPlotTooltipModel",void 0),L([i.observable],R.prototype,"mousePosition",void 0),L([a.bind],R.prototype,"containerRef",null),L([i.computed],R.prototype,"chartWidth",null),L([i.computed],R.prototype,"chartHeight",null),L([i.computed],R.prototype,"sideLegendX",null),L([i.computed],R.prototype,"legendLocation",null),L([i.computed],R.prototype,"bottomLegendHeight",null),L([i.computed],R.prototype,"plotDomain",null),L([i.computed],R.prototype,"categoryAxisDomainPadding",null),L([i.computed],R.prototype,"dataAxisDomainPadding",null),L([i.computed],R.prototype,"domainPadding",null),L([i.computed],R.prototype,"dataAxis",null),L([i.computed],R.prototype,"categoryAxis",null),L([i.computed],R.prototype,"chartDomainPadding",null),L([i.computed],R.prototype,"chartExtent",null),L([i.computed],R.prototype,"svgWidth",null),L([i.computed],R.prototype,"svgHeight",null),L([i.computed],R.prototype,"boxSeparation",null),L([i.computed],R.prototype,"boxWidth",null),L([a.bind],R.prototype,"scatterPlotX",null),L([a.bind],R.prototype,"scatterPlotY",null),L([i.computed],R.prototype,"scatterPlotSize",null),L([i.computed],R.prototype,"labels",null),L([a.bind],R.prototype,"formatCategoryTick",null),L([a.bind],R.prototype,"formatNumericalTick",null),L([i.computed],R.prototype,"horzAxis",null),L([i.computed],R.prototype,"yAxisLabel",null),L([i.computed],R.prototype,"yAxisLabelVertOffset",null),L([i.computed],R.prototype,"vertAxis",null),L([i.computed],R.prototype,"scatterPlotData",null),L([i.computed],R.prototype,"leftPadding",null),L([i.computed],R.prototype,"topPadding",null),L([i.computed],R.prototype,"rightPadding",null),L([i.computed],R.prototype,"bottomPadding",null),L([i.computed],R.prototype,"biggestCategoryLabelSize",null),L([i.computed],R.prototype,"categoryTickValues",null),L([i.computed],R.prototype,"boxPlotData",null),L([w.a,i.action],R.prototype,"onMouseMove",null),L([w.a],R.prototype,"getChart",null),L([w.a],R.prototype,"getScatterPlotTooltip",null),L([w.a],R.prototype,"getBoxPlotTooltipComponent",null),R=L([o.observer],R);t.a=R},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(4);n(562);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getCircleX",value:function(e,t,n){var r=e/100;return t*(1-r)+n*r}},{key:"getCircleFill",value:function(e){return e<25?"blue":e>75?"red":"gray"}},{key:"getTooltipContents",value:function(e){return e&&"complete"===e.status&&null!==e.data?r.createElement("div",null,r.createElement("span",null,"mRNA level of the gene in this tumor"),r.createElement("br",null),r.createElement("span",null,r.createElement("b",null,"mRNA z-score: "),e.data.zScore),r.createElement("br",null),r.createElement("span",null,r.createElement("b",null,"Percentile: "),e.data.percentile),r.createElement("br",null)):e&&"complete"===e.status&&null===e.data?r.createElement("span",null,"mRNA data is not available for this gene."):e&&"error"===e.status?r.createElement("span",null,"Error retrieving data."):r.createElement("span",null,"Querying server for data.")}},{key:"getTdContents",value:function(t){var n=null;return t&&"complete"===t.status&&null!==t.data?r.createElement("svg",{width:63,height:12},r.createElement("text",{x:33,y:11,textAnchor:"start",fontSize:10},Math.round(t.data.percentile)+"%"),r.createElement("g",null,r.createElement("line",{x1:0,y1:8,x2:30,y2:8,style:{stroke:"gray",strokeWidth:2}}),r.createElement("circle",{cx:e.getCircleX(t.data.percentile,3,27),cy:8,r:3,fill:e.getCircleFill(t.data.percentile)}))):null!==(n=t&&"complete"===t.status&&null===t.data?o.s.NA:t&&"error"===t.status?o.s.ERROR:o.s.LOADING)?r.createElement(o.t,{status:n,naAlt:"mRNA data is not available for this gene."}):void 0}},{key:"getData",value:function(e,t){if(0===e.length)return null;var n=e[0].sampleId,r=e[0].entrezGeneId;return t.get({sampleId:n,entrezGeneId:r})}},{key:"getDataFromCNA",value:function(e,t){var n=e[0].sampleId,r=e[0].entrezGeneId;return t.get({sampleId:n,entrezGeneId:r})}},{key:"renderFromCacheDatum",value:function(t){return r.createElement(o.c,{placement:"left",overlay:e.getTooltipContents(t),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e.getTdContents(t))}},{key:"renderFunction",value:function(t,n){var r=e.getData(t,n);return e.renderFromCacheDatum(r)}},{key:"cnaRenderFunction",value:function(t,n){var r=e.getDataFromCNA(t,n);return e.renderFromCacheDatum(r)}}],(n=null)&&i(t.prototype,n),a&&i(t,a),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(4);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){var e=r.createElement("svg",{width:"12",height:"12"},r.createElement("circle",{r:"5",cx:"6",cy:"6",stroke:this.props.stroke,fill:this.props.circleFill}),r.createElement("text",{x:"3",y:"8.5",fontSize:this.props.fontSize,fill:this.props.textFill},this.props.text.slice(0,1)));return this.props.tooltip&&(e=r.createElement(o.c,{placement:"right",overlay:this.props.tooltip,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e)),e}}])&&a(n.prototype,i),u&&a(n,u),t}();u.defaultProps={stroke:"#55C",circleFill:"none",fontSize:7,textFill:"#66C"}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(609),i=n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getValues",value:function(e,t,n){var r={},o=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r[c.sampleId]=c[n]}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var u=t.filter(function(e){return r[e]&&r[e]>0&&r[e].toString().length>0});return 1===u.length?[r[u[0]].toString()]:u.map(function(e){return"".concat(e,": ").concat(r[e])})}},{key:"getTextValue",value:function(t,n,r){return e.getValues(t,n,r).join(";")}},{key:"getDisplayValue",value:function(t,n,r){return e.getValues(t,n,r).join("\n")}},{key:"renderFunction",value:function(t,n,o){return r.createElement("div",{className:i.a["integer-data"]},e.getDisplayValue(t,n,o))}},{key:"getReads",value:function(e,t){var n=[];if(e){var r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.push(l[t])}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}return 1==n.length?n[0]:n}}],(n=null)&&a(t.prototype,n),o&&a(t,o),e}()},,function(e,t,n){"use strict";function r(e){setTimeout(function(){window.requestAnimationFrame(e)},0)}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(886),a=n.n(i),s=n(28),l=n.n(s),c=n(5),u=n(7),p=n.n(u),h=n(572),d=n(150),f=n.n(d),m=n(596),y=n(25);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function k(e){return e.promises?0===e.promises.length?"complete":m.a.apply(void 0,w(e.promises)):"pending"}var T=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=v(this,b(t).apply(this,arguments))).timeShown=0,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentWillMount",value:function(){var e=this;this.timeShownInterval=setInterval(function(){e.props.show?e.timeShown+=1:e.timeShown>0&&(e.timeShown=0)},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeShownInterval)}},{key:"makeItem",value:function(e,t){var n,o,i,s=null,c=this.props.sequential&&t>this.firstIncompleteIndex;if(!c&&!e.hideIcon)switch(k(e)){case"complete":s=r.createElement("i",{className:l()("fa fa-sm fa-check",a.a["fa-check"])});break;case"pending":s=r.createElement(f.a,{name:"double-bounce",fadeIn:!1,className:a.a["pulse-spinner"]});break;case"error":s=r.createElement("i",{className:l()("fa fa-sm fa-exclamation-triangle",a.a["fa-exclamation-triangle"])})}return r.createElement("span",{className:l()(a.a["item-row"],(n={},o=a.a["not-invoked-item"],i=c,o in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,n)),style:e.style},e.label,r.createElement("span",{style:{marginLeft:7}},s))}},{key:"render",value:function(){return this.props.show?r.createElement("div",{className:a.a.container},r.createElement("div",{className:a.a["items-container"]},this.items.map(this.makeItem)),p.a.some(this.items,function(e){return"error"===k(e)})&&r.createElement(h.a,null)):null}},{key:"items",get:function(){return this.props.getItems(this.timeShown)}},{key:"firstIncompleteIndex",get:function(){return this.items.findIndex(function(e){return"complete"!==k(e)})}}])&&g(n.prototype,o),i&&g(n,i),t}();_([c.observable],T.prototype,"timeShown",void 0),_([c.computed],T.prototype,"items",null),_([c.computed],T.prototype,"firstIncompleteIndex",null),_([y.a],T.prototype,"makeItem",null),T=_([o.observer],T),t.a=T},function(e,t,n){e.exports=n(15)(166)},function(e,t,n){e.exports=n(15)(101)},,,,,,function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(569),s=n(561),l=n(4),c=n(25),u=n(7),p=n.n(u),h=n(565),d=n(618),f=n(576);function m(e,t,n){return p.a.sortBy(e,function(e){var r=t(e);return n?r in n?n[r]:Number.POSITIVE_INFINITY:r})}var y=n(17),g=n(92),v=n(28),b=n.n(v),S=n(566);function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=k(this,T(t).apply(this,arguments))).tooltipModel=null,e.mouseEvents=e.makeMouseEvents(),e.legendClassName="stacked-bar-plot-legend-".concat(Math.random()),e.computedLegendWidth=0,e.mousePosition={x:0,y:0},e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["Component"]),n=t,(i=[{key:"containerRef",value:function(e){this.container=e,this.updateLegendWidth()}},{key:"makeMouseEvents",value:function(){var e=this;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(t){return e.tooltipModel=t,null}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return e.tooltipModel=null,null}}]}}}]}},{key:"formatCategoryTick",value:function(e,t){return this.labels[t]}},{key:"formatNumericalTick",value:function(e,t,n){return Object(d.a)(e,n)}},{key:"categoryCoord",value:function(e){return e*(this.barWidth+this.barSeparation)}},{key:"tooltipFunction",value:function(e){return this.props.tooltip?this.props.tooltip(e):r.createElement("div",null,r.createElement("span",null,e.majorCategory),r.createElement("br",null),r.createElement("strong",null,e.minorCategory,":",e.count,"sample",1===e.count?"":"s","(",e.percentage,"%)"))}},{key:"getChart",value:function(){var e;return this.data.length>0?r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight),onMouseMove:this.onMouseMove},r.createElement("g",{transform:"translate(".concat(this.leftPadding,", ").concat(this.topPadding,")")},r.createElement(h.VictoryChart,{theme:s.d,width:this.chartWidth,height:this.chartHeight,standalone:!1,domainPadding:this.chartDomainPadding,domain:this.plotDomain,singleQuadrantDomainPadding:(e={},C(e,this.countAxis,!0),C(e,this.categoryAxis,!1),e)},this.legend,this.horzAxis,this.vertAxis,this.chartEtl)))):r.createElement("span",null,"No data to plot.")}},{key:"onMouseMove",value:function(e){this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY}},{key:"updateLegendWidth",value:function(){if(this.container){var e=this.container.getElementsByClassName(this.legendClassName).item(0);e&&(this.computedLegendWidth=e.getBoundingClientRect().width)}}},{key:"componentDidUpdate",value:function(){this.updateLegendWidth()}},{key:"render",value:function(){return this.data.length?r.createElement("div",null,r.createElement(o.Observer,null,this.getChart),this.tooltipComponent):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"getColor",get:function(){var e=Object(f.g)(p.a.values(this.props.categoryToColor)),t={};return p.a.forEach(this.props.categoryToColor,function(e,n){t[n.toLowerCase()]=e}),function(n){return(n=n.toLowerCase())in t||(t[n]=e()),t[n]}}},{key:"chartWidth",get:function(){var e;return e=this.props.horizontalBars?this.props.chartBase:this.chartExtent,Math.max(e,Object(l.P)(this.props.axisLabelX||"",s.c.fontFamily,s.c.fontSize+"px"))}},{key:"chartHeight",get:function(){var e;return e=this.props.horizontalBars?this.chartExtent:this.props.chartBase,Math.max(e,Object(l.P)(this.props.axisLabelY||"",s.c.fontFamily,s.c.fontSize+"px"))}},{key:"sideLegendX",get:function(){return this.chartWidth-20}},{key:"legendLocation",get:function(){return void 0!==this.props.legendLocationWidthThreshold&&this.chartWidth>this.props.legendLocationWidthThreshold||this.legendData.length>15?"bottom":"right"}},{key:"bottomLegendHeight",get:function(){return 0===this.legendData.length?0:23.7*Math.ceil(this.legendData.length/4)}},{key:"legendData",get:function(){var e=this;return m(this.data,function(e){return e.minorCategory},this.minorCategoryOrder).map(function(t){return{name:t.minorCategory,symbol:{type:"square",fill:e.getColor(t.minorCategory),strokeOpacity:0,size:5}}})}},{key:"legend",get:function(){return this.legendData.length>0?r.createElement(h.VictoryLegend,{orientation:"right"===this.legendLocation?"vertical":"horizontal",itemsPerRow:"right"===this.legendLocation?void 0:4,rowGutter:"right"===this.legendLocation?void 0:-5,gutter:30,data:this.legendData,x:"right"===this.legendLocation?this.sideLegendX:0,y:"right"===this.legendLocation?100:this.svgHeight-this.bottomLegendHeight,groupComponent:r.createElement("g",{className:this.legendClassName})}):null}},{key:"data",get:function(){var e=[];return this.props.horzData&&this.props.vertData?e=function(e,t,n){var r,o;n?(r=t,o=e):(r=e,o=t);var i=p.a.chain(o).keyBy("uniqueSampleKey").mapValues(function(e){return[].concat(e.value)}).value(),a={},s={},l=!0,c=!1,u=void 0;try{for(var h,d=r[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value,m=i[f.uniqueSampleKey];if(m){var y=[].concat(f.value),g=!0,v=!1,b=void 0;try{for(var S,w=m[Symbol.iterator]();!(g=(S=w.next()).done);g=!0){var C=S.value;s[C]=s[C]||{};var _=!0,k=!1,T=void 0;try{for(var x,E=y[Symbol.iterator]();!(_=(x=E.next()).done);_=!0){var A=x.value;a[A]=!0,s[C][A]=s[C][A]||0,s[C][A]+=1}}catch(e){k=!0,T=e}finally{try{_||null==E.return||E.return()}finally{if(k)throw T}}}}catch(e){v=!0,b=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw b}}}}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}var O={};return p.a.forEach(a,function(e,t){var n=0;p.a.forEach(s,function(e){e[t]=e[t]||0,n+=e[t]}),O[t]=n}),p.a.map(s,function(e,t){return{minorCategory:t,counts:p.a.map(e,function(e,t){var n=e/O[t]*100;return{majorCategory:t,count:e,percentage:parseFloat(n.toFixed(2))}})}})}(this.props.horzData,this.props.vertData,!!this.props.horizontalBars):this.props.plotData&&(e=this.props.plotData),e}},{key:"maxMajorCount",get:function(){if(this.props.percentage)return 100;var e={},t=!0,n=!1,r=void 0;try{for(var o,i=this.data[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,l=!1,c=void 0;try{for(var u,h=a.counts[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;e[d.majorCategory]=e[d.majorCategory]||0,this.props.stacked?e[d.majorCategory]+=d.count:e[d.majorCategory]=Math.max(d.count,e[d.majorCategory])}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return p.a.chain(e).values().max().value()}},{key:"plotDomain",get:function(){var e,t,n,r=[0,this.maxMajorCount];return n=this.data.length>0?[this.categoryCoord(0),this.categoryCoord(Math.max(1,this.data[0].counts.length-1))]:[0,0],this.props.horizontalBars?(e=r,t=n):(e=n,t=r),{x:e,y:t}}},{key:"offset",get:function(){return this.barWidth}},{key:"categoryAxisDomainPadding",get:function(){return this.domainPadding}},{key:"countAxisDomainPadding",get:function(){return this.domainPadding}},{key:"domainPadding",get:function(){return void 0===this.props.domainPadding?100:this.props.domainPadding}},{key:"countAxis",get:function(){return this.props.horizontalBars?"x":"y"}},{key:"categoryAxis",get:function(){return this.props.horizontalBars?"y":"x"}},{key:"chartDomainPadding",get:function(){var e;return C(e={},this.countAxis,this.props.percentage?0:this.countAxisDomainPadding),C(e,this.categoryAxis,this.categoryAxisDomainPadding+this.additionalPadding),e}},{key:"additionalPadding",get:function(){return this.props.stacked?0:this.categoryCoord(this.data.length/2)+this.data.length}},{key:"chartExtent",get:function(){var e=100;if(this.data.length>0){var t=0;return this.props.stacked?t=this.data[0].counts.length:(t=this.data[0].counts.length*this.data.length,e+=this.categoryCoord(this.data[0].counts.length)),this.categoryCoord(t-1)+2*this.categoryAxisDomainPadding+e}return e}},{key:"svgWidth",get:function(){return this.leftPadding+this.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return this.topPadding+this.chartHeight+this.bottomPadding}},{key:"barSeparation",get:function(){return this.props.stacked?.2*this.barWidth:0}},{key:"barWidth",get:function(){var e=this.props.barWidth||10;return this.props.stacked||this.data.length<=10?e:e/2}},{key:"labels",get:function(){return this.data.length>0?m(this.data[0].counts.map(function(e){return e.majorCategory}),function(e){return e},this.majorCategoryOrder):[]}},{key:"numberOfTicks",get:function(){return void 0!==this.props.ticksCount?this.props.ticksCount:8}},{key:"zeroCountOffset",get:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,i=this.data[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,l=!1,c=void 0;try{for(var u,p=a.counts[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){if(0===u.value.count){e=!0;break}}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}if(e)break}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return this.props.stacked?0:e?this.maxMajorCount/this.numberOfTicks*.01:0}},{key:"axisStyle",get:function(){return this.props.stacked?this.props.axisStyle||{}:{axis:{stroke:"#b3b3b3"}}}},{key:"categoryAxisStyle",get:function(){var e=this.axisStyle;if(!this.props.stacked){var t=this.categoryCoord(this.data.length)-this.data.length*this.barSeparation;e=Object.assign({},this.axisStyle,{axis:{strokeWidth:0}},{ticks:{stroke:"black",size:1,strokeLinecap:"butt",strokeLinejoin:"butt",strokeWidth:t}})}return e}},{key:"horzAxis",get:function(){var e=[this.props.axisLabelX];this.props.horizontalBars&&e.unshift("".concat(this.props.countAxisLabel).concat(this.props.percentage?" (%)":""));var t=this.props.horizontalBars?this.axisStyle:this.categoryAxisStyle;return r.createElement(h.VictoryAxis,{orientation:"bottom",offsetY:50,crossAxis:!1,label:e,tickValues:this.props.horizontalBars?void 0:this.categoryTickValues,tickCount:this.props.horizontalBars?this.numberOfTicks:void 0,tickFormat:this.props.horizontalBars?this.formatNumericalTick:this.formatCategoryTick,tickLabelComponent:r.createElement(h.VictoryLabel,{angle:this.props.horizontalBars?void 0:50,verticalAnchor:this.props.horizontalBars?void 0:"start",textAnchor:this.props.horizontalBars?void 0:"start"}),axisLabelComponent:r.createElement(h.VictoryLabel,{dy:this.props.horizontalBars?35:this.biggestCategoryLabelSize+24}),style:t})}},{key:"vertAxis",get:function(){var e=[];this.props.axisLabelY&&e.push(this.props.axisLabelY),this.props.horizontalBars||e.push("".concat(this.props.countAxisLabel).concat(this.props.percentage?" (%)":""));var t=this.props.horizontalBars?this.categoryAxisStyle:this.axisStyle;return r.createElement(h.VictoryAxis,{orientation:"left",offsetX:50,crossAxis:!1,label:e,dependentAxis:!0,tickValues:this.props.horizontalBars?this.categoryTickValues:void 0,tickCount:this.props.horizontalBars?void 0:this.numberOfTicks,tickFormat:this.props.horizontalBars?this.formatCategoryTick:this.formatNumericalTick,axisLabelComponent:r.createElement(h.VictoryLabel,{dy:this.props.horizontalBars?-1*this.biggestCategoryLabelSize-24:-40}),style:t})}},{key:"leftPadding",get:function(){return this.props.horizontalBars?this.biggestCategoryLabelSize:25}},{key:"topPadding",get:function(){return 0}},{key:"rightPadding",get:function(){return this.legendData.length>0&&"right"===this.legendLocation?this.biggestLegendLabelWidth+20:Math.max(50,this.computedLegendWidth-this.chartWidth)}},{key:"bottomPadding",get:function(){var e=10,t=0;return this.props.horizontalBars||(e=this.biggestCategoryLabelSize),"bottom"===this.legendLocation&&(t=this.bottomLegendHeight+15),e+t}},{key:"biggestLegendLabelWidth",get:function(){return Math.max.apply(Math,w(this.legendData.map(function(e){return Object(l.P)(e.name,s.c.fontFamily,s.c.fontSize+"px")})))}},{key:"biggestCategoryLabelSize",get:function(){var e=Math.max.apply(Math,w(this.labels.map(function(e){return Object(l.P)(e,s.b.fontFamily,s.b.fontSize+"px")})));return this.props.horizontalBars?e:e*Math.abs(Math.sin(Math.PI/180*50))}},{key:"minorCategoryOrder",get:function(){var e;return(e=this.props.horizontalBars?this.props.horzCategoryOrder:this.props.vertCategoryOrder)?Object(l.ab)(e):void 0}},{key:"majorCategoryOrder",get:function(){var e;return(e=this.props.horizontalBars?this.props.vertCategoryOrder:this.props.horzCategoryOrder)?Object(l.ab)(e):void 0}},{key:"categoryTickValues",get:function(){var e=this;return this.data.length>0?this.data[0].counts.map(function(t,n){return e.categoryCoord(n)}):[]}},{key:"bars",get:function(){var e,t,n,o,i,a,s,l,c=this;return(e=this.data,t=this.minorCategoryOrder,n=this.majorCategoryOrder,o=this.getColor,i=this.categoryCoord,a=!!this.props.horizontalBars,s=!!this.props.stacked,l=!!this.props.percentage,e=m(e,function(e){return e.minorCategory},t),(!a&&s||a&&!s)&&(e=p.a.reverse(e)),e.map(function(e){var t=e.minorCategory,r=e.counts;return{fill:o(t),data:m(r,function(e){return e.majorCategory},n).map(function(e,n){return{x:i(n),y:l?e.percentage:e.count,majorCategory:e.majorCategory,minorCategory:t,count:e.count,percentage:e.percentage}})}})).map(function(e){return r.createElement(h.VictoryBar,{style:{data:{fill:e.fill,width:c.barWidth}},data:p.a.map(e.data,function(e){return Object.assign({},e,{y:e.y+c.zeroCountOffset})}),events:c.mouseEvents})})}},{key:"tooltipComponent",get:function(){if(this.tooltipModel){var e="",t=0,n=0,o="";return this.props.horizontalBars?(e="bottom",n=10,o="translate(-50%,0%)"):(n=-17,this.mousePosition.x>S.a.size.width-400?(e="left",t=-8,o="translate(-100%,0%)"):(e="right",t=8)),y.createPortal(r.createElement(g.Popover,{arrowOffsetTop:-n,className:b()("cbioportal-frontend","cbioTooltip"),positionLeft:this.mousePosition.x+t,positionTop:this.mousePosition.y+n,style:{transform:o,maxWidth:400},placement:e},this.tooltipFunction(this.tooltipModel.datum||this.tooltipModel.data[0])),document.body)}return null}},{key:"chartEtl",get:function(){return this.props.stacked?r.createElement(h.VictoryStack,{horizontal:this.props.horizontalBars},this.bars):r.createElement(h.VictoryGroup,{offset:this.offset,horizontal:this.props.horizontalBars},this.bars)}}])&&_(n.prototype,i),a&&_(n,a),t}();O.defaultProps={countAxisLabel:"# samples"},A([i.observable.ref],O.prototype,"tooltipModel",void 0),A([i.observable],O.prototype,"computedLegendWidth",void 0),A([i.observable],O.prototype,"mousePosition",void 0),A([i.observable.ref],O.prototype,"container",void 0),A([a.bind],O.prototype,"containerRef",null),A([i.computed],O.prototype,"getColor",null),A([i.computed],O.prototype,"chartWidth",null),A([i.computed],O.prototype,"chartHeight",null),A([i.computed],O.prototype,"sideLegendX",null),A([i.computed],O.prototype,"legendLocation",null),A([i.computed],O.prototype,"bottomLegendHeight",null),A([i.computed],O.prototype,"legendData",null),A([i.computed],O.prototype,"data",null),A([i.computed],O.prototype,"maxMajorCount",null),A([i.computed],O.prototype,"plotDomain",null),A([i.computed],O.prototype,"offset",null),A([i.computed],O.prototype,"categoryAxisDomainPadding",null),A([i.computed],O.prototype,"countAxisDomainPadding",null),A([i.computed],O.prototype,"domainPadding",null),A([i.computed],O.prototype,"countAxis",null),A([i.computed],O.prototype,"categoryAxis",null),A([i.computed],O.prototype,"chartDomainPadding",null),A([i.computed],O.prototype,"additionalPadding",null),A([i.computed],O.prototype,"chartExtent",null),A([i.computed],O.prototype,"svgWidth",null),A([i.computed],O.prototype,"svgHeight",null),A([i.computed],O.prototype,"barSeparation",null),A([i.computed],O.prototype,"barWidth",null),A([i.computed],O.prototype,"labels",null),A([a.bind],O.prototype,"formatCategoryTick",null),A([a.bind],O.prototype,"formatNumericalTick",null),A([i.computed],O.prototype,"numberOfTicks",null),A([i.computed],O.prototype,"zeroCountOffset",null),A([i.computed],O.prototype,"axisStyle",null),A([i.computed],O.prototype,"categoryAxisStyle",null),A([i.computed],O.prototype,"horzAxis",null),A([i.computed],O.prototype,"vertAxis",null),A([i.computed],O.prototype,"leftPadding",null),A([i.computed],O.prototype,"topPadding",null),A([i.computed],O.prototype,"rightPadding",null),A([i.computed],O.prototype,"bottomPadding",null),A([i.computed],O.prototype,"biggestLegendLabelWidth",null),A([i.computed],O.prototype,"biggestCategoryLabelSize",null),A([i.computed],O.prototype,"minorCategoryOrder",null),A([i.computed],O.prototype,"majorCategoryOrder",null),A([c.a],O.prototype,"categoryCoord",null),A([i.computed],O.prototype,"categoryTickValues",null),A([i.computed],O.prototype,"tooltipComponent",null),A([i.computed],O.prototype,"chartEtl",null),A([c.a],O.prototype,"getChart",null),A([c.a],O.prototype,"onMouseMove",null),O=A([o.observer],O);t.a=O},function(e,t,n){"use strict";var r=n(0),o=n(20),i=n(7),a=n(553),s=n(4),l=n(593),c=n.n(l),u=n(775),p=n.n(u);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,f(t).call(this,e))).state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r["Component"]),y(t,null,[{key:"sortValue",value:function(e){return e.length>0?1:0}},{key:"download",value:function(e){return e.length>0?"present":"not present"}},{key:"myCancerGenomeLinks",value:function(e){var t=[];return i.each(e,function(e,n){var o=function(e){var t=e.indexOf('"')+1,n=t+e.slice(t).indexOf('"'),r=e.indexOf(">")+1,o=e.indexOf("</a>"),i=e.slice(t,n).trim(),a=e.slice(r,o).trim();return i.length>0&&a.length>0?{url:i,text:a}:void 0}(e);o&&t.push(r.createElement("li",{key:n},r.createElement("a",{href:o.url,target:"_blank"},o.text)))}),r.createElement("span",null,r.createElement("b",null,"My Cancer Genome links:"),r.createElement("br",null),r.createElement("ul",{className:p.a["link-list"]},t))}}]),y(t,[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(c.a["annotation-item"])});if(this.props.linksHTML.length>0){var o=r.createElement("div",{className:"rc-tooltip-arrow-inner"}),i=t.myCancerGenomeLinks(this.props.linksHTML);e=r.createElement(s.c,{overlay:i,placement:"topLeft",trigger:["hover","focus"],arrowContent:o,onPopupAlign:v},r.createElement("span",{className:"".concat(c.a["annotation-item"]," mcg")},r.createElement("img",{width:"14",height:"14",src:n(776),alt:"My Cancer Genome Symbol"})))}return e}}]),t}(),S=n(771),w=n(570),C=n(606),_=n(650);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return T});var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"getData",value:function(t,n,r,o,a,s,l,c){var u;if(t){var p,h=t[0],d=h.gene.hugoGeneSymbol,f=!1,m=!1;!n||n instanceof Error||(f=void 0!==i.find(n.result,function(e){return e.oncokbAnnotated&&e.entrezGeneId===h.entrezGeneId}),m=void 0!==i.find(n.result,function(e){return e.entrezGeneId===h.entrezGeneId})),u={hugoGeneSymbol:d,oncoKbGeneExist:f,isOncoKbCancerGene:m,civicEntry:s&&s.result&&l&&l.result?e.getCivicEntry(h,s.result,l.result):void 0,civicStatus:s&&s.status&&l&&l.status?e.getCivicStatus(s.status,l.status):"pending",hasCivicVariants:!0,myCancerGenomeLinks:o?e.getMyCancerGenomeLinks(h,o):[],isHotspot:!(!r||!r.result||"complete"!==r.status)&&Object(C.c)(h,r.result),is3dHotspot:!(!r||!r.result||"complete"!==r.status)&&Object(C.b)(h,r.result),hotspotStatus:r?r.status:"pending"},a&&a.result instanceof Error?u=Object.assign({},u,{oncoKbStatus:"error",oncoKbIndicator:void 0}):f?(!a||!a.result||a.result instanceof Error||"complete"!==a.status||(p=e.getIndicatorData(h,a.result,c)),u=Object.assign({},u,{oncoKbStatus:a?a.status:"pending",oncoKbIndicator:p})):u=Object.assign({},u,{oncoKbStatus:"complete",oncoKbIndicator:void 0})}else u=e.DEFAULT_ANNOTATION_DATA;return u}},{key:"getCivicEntry",value:function(e,t,n){var r,o,i,a=e.gene.hugoGeneSymbol,s=null;if(t[a]&&n[a]&&n[a][e.proteinChange]){var l=(r={},o=e.proteinChange,i=n[a][e.proteinChange],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),c=t[a];s=Object(_.a)(c,l)}return s}},{key:"getCivicStatus",value:function(e,t){return"error"===e||"error"===t?"error":"complete"===e&&"complete"===t?"complete":"pending"}},{key:"getIndicatorData",value:function(e,t,n){if(null!==t.uniqueSampleKeyToTumorType&&null!==t.indicatorMap){var r=Object(s.D)(e.gene.entrezGeneId,t.uniqueSampleKeyToTumorType[e.uniqueSampleKey],e.proteinChange,e.mutationType),o=t.indicatorMap[r];if(o&&null===o.query.tumorType&&n){var i=n[e.studyId];"mixed"!==i.cancerTypeId&&(o.query.tumorType=i.cancerType.name)}return o}}},{key:"getEvidenceQuery",value:function(e,t){return Object(w.e)(e,t)}},{key:"getMyCancerGenomeLinks",value:function(t,n){var r=n[t.gene.hugoGeneSymbol],o=[];return r&&(o=e.filterByAlteration(t,r).map(function(e){return e.linkHTML})),o}},{key:"filterByAlteration",value:function(e,t){return t.filter(function(t){var n=/[0-9]+/;if(t.alteration.trim().match(/^[A-Za-z][0-9]+[A-Za-z]/)&&e.proteinChange){var r=e.proteinChange.match(n),o=t.alteration.match(n);return r&&o&&r[0]===o[0]}return!1})}},{key:"sortValue",value:function(t,n,r,o,s,l,c){var u=e.getData(t,n,r,o,s,l,c);return i.flatten([Object(a.N)(u.oncoKbIndicator),S.a.sortValue(u.civicEntry),b.sortValue(u.myCancerGenomeLinks),Object(a.G)(u.isHotspot,u.is3dHotspot),u.isOncoKbCancerGene?1:0])}},{key:"download",value:function(t,n,r,o,i,s,l){var c=e.getData(t,n,r,o,i,s,l);return["OncoKB: ".concat(Object(a.M)(c.oncoKbIndicator)),"CIViC: ".concat(S.a.download(c.civicEntry)),"MyCancerGenome: ".concat(b.download(c.myCancerGenomeLinks)),"CancerHotspot: ".concat(c.isHotspot?"yes":"no"),"3DHotspot: ".concat(c.is3dHotspot?"yes":"no")].join(";")}},{key:"renderFunction",value:function(t,n){var r,o=e.getData(t,n.oncoKbCancerGenes,n.hotspotData,n.myCancerGenomeData,n.oncoKbData,n.civicGenes,n.civicVariants,n.studyIdToStudy);return!n.oncoKbData||!n.oncoKbData.result||n.oncoKbData.result instanceof Error||(r=this.getEvidenceQuery(t[0],n.oncoKbData.result)),e.mainContent(o,n,n.oncoKbEvidenceCache,r,n.pubMedCache)}},{key:"mainContent",value:function(e,t,n,i,s){return r.createElement("span",{style:{display:"flex",minWidth:100}},r.createElement(o.If,{condition:t.enableOncoKb||!1},r.createElement(a.m,{hugoGeneSymbol:e.hugoGeneSymbol,geneNotExist:!e.oncoKbGeneExist,isCancerGene:e.isOncoKbCancerGene,status:e.oncoKbStatus,indicator:e.oncoKbIndicator,evidenceCache:n,evidenceQuery:i,pubMedCache:s,userEmailAddress:t.userEmailAddress})),r.createElement(o.If,{condition:t.enableCivic||!1},r.createElement(S.a,{civicEntry:e.civicEntry,civicStatus:e.civicStatus,hasCivicVariants:e.hasCivicVariants})),r.createElement(o.If,{condition:t.enableMyCancerGenome||!1},r.createElement(b,{linksHTML:e.myCancerGenomeLinks})),r.createElement(o.If,{condition:t.enableHotspot||!1},r.createElement(a.h,{isHotspot:e.isHotspot,is3dHotspot:e.is3dHotspot,status:e.hotspotStatus})))}},{key:"DEFAULT_ANNOTATION_DATA",get:function(){return{oncoKbStatus:"complete",oncoKbGeneExist:!1,isOncoKbCancerGene:!1,myCancerGenomeLinks:[],isHotspot:!1,is3dHotspot:!1,hotspotStatus:"complete",hasCivicVariants:!0,hugoGeneSymbol:"",civicStatus:"complete"}}}],(n=null)&&k(t.prototype,n),l&&k(t,l),e}()},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(11),a=n(553),s=n(4),l=n(593),c=n.n(l),u=n(5);n(777);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}var i,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),i=t,(a=[{key:"generateVariants",value:function(e){var t=[];if(e)if(o.isEmpty(e))t.push(this.variantItem());else for(var n in e){var r=e[n],i="";for(var a in r.evidence)i+=a.toLowerCase()+": "+r.evidence[a]+", ";i=i.slice(0,-2)+".",t.push(this.variantItem(r.url,r.name,i,r.description))}else t.push(this.variantItem());return t}},{key:"variantItem",value:function(e,t,n,o){return e||t||n||o?r.createElement("div",{className:"civic-card-variant"},r.createElement("div",{className:"civic-card-variant-header"},r.createElement("span",{className:"civic-card-variant-name"},r.createElement("a",{href:e,target:"_blank"},t)),r.createElement("span",{className:"civic-card-variant-entry-types"}," ","Entries: ",n)),r.createElement("div",{className:"civic-card-variant-description summary"},o)):r.createElement("div",{className:"civic-card-variant"},r.createElement("div",{className:"civic-card-variant-description summary"},"Information about the oncogenic activity of this alteration is not yet available in CIViC."))}},{key:"render",value:function(){return r.createElement("div",{className:"civic-card"},r.createElement("span",null,r.createElement("div",{className:"col s12 tip-header"},this.props.title),r.createElement("div",{className:"col s12 civic-card-content"},r.createElement("div",{className:"col s12 civic-card-gene"},r.createElement("p",null,r.createElement("span",{className:"civic-card-gene-name"},r.createElement("a",{href:this.props.geneUrl,target:"_blank"},r.createElement("b",null,this.props.geneName)))," ","- ",this.props.geneDescription)),r.createElement("div",{className:"col s12"},r.createElement("ul",null,this.generateVariants(this.props.variants))),r.createElement("div",{className:"item disclaimer"},r.createElement("span",null,"Disclaimer: This resource is intended for purely research purposes. It should not be used for emergencies or medical or professional advice.")))),r.createElement("div",{className:"item footer"},r.createElement("a",{href:this.props.geneUrl,target:"_blank"},r.createElement("img",{src:n(778),className:"civic-logo",alt:"CIViC"}))))}}])&&h(i.prototype,a),s&&h(i,s),t}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function _(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var k=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=v(t).call(this,e))||"object"!==w(o)&&"function"!=typeof o?b(r):o).tooltipDataLoadComplete=!1,n.cardContent=n.cardContent.bind(b(n)),n}var i,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),i=t,u=[{key:"sortValue",value:function(e){var t=0;return e&&(t=1),t}},{key:"download",value:function(e){if(!e)return"NA";var t=o.values(e.variants),n=[];return t&&t.length>0&&t[0].evidence&&o.toPairs(t[0].evidence).forEach(function(e){n.push("".concat(e[0],": ").concat(e[1]))}),0===n.length?"NA":n.join(", ")}}],(l=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(c.a["annotation-item"])}),t=n(779);if(this.props.hasCivicVariants||(t=n(780)),"error"==this.props.civicStatus)e=Object(a.u)("Error fetching Civic data");else if(void 0!==this.props.civicEntry){if(null!==this.props.civicEntry&&"complete"==this.props.civicStatus){e=r.createElement("span",{className:"".concat(c.a["annotation-item"])},r.createElement("img",{width:14,height:14,src:t,alt:"Civic Variant Entry"}));var o=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(s.c,{overlay:this.cardContent.bind(this,this.props.civicEntry),placement:"right",trigger:["hover","focus"],arrowContent:o,onPopupAlign:_,destroyTooltipOnHide:!1},e)}}else e=Object(a.K)("pull-left");return e}},{key:"cardContent",value:function(e){return r.createElement(y,{title:"CIViC Variants",geneName:e.name,geneDescription:e.description,geneUrl:e.url,variants:e.variants})}}])&&g(i.prototype,l),u&&g(i,u),t}();C([u.observable],k.prototype,"tooltipDataLoadComplete",void 0),k=C([i.observer],k);t.a=k},,,,function(e,t,n){e.exports={portalWidth:"myCancerGenome-module__portalWidth__m3pyZ",framedImage:"myCancerGenome-module__framedImage__3Jd3Y","link-list":"myCancerGenome-module__link-list__2ZNFI"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAACACAYAAAA73po8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADvNJREFUeNrsXT1y4koXPaacj94KPnkFIwfEI0eEg1dgWIFNkVJFu4qUwrMCMyswExIZxwTWrMB6Kxi9FfAFuhq3Zf20Wt2tFuJWuZ7rDZaa1tG95/722eFwQCJnZ2fogvSn2yEAj/tfm/1yEGi4jwvAB+AC+EL3fKF/3gEI9stB1IY9OxwOOOsSWPrTrQfgiR5eWnYAJipA059uRwBuU4DMkzWAn/vlYHcCi13a5Engo+P9crCWuL4D4I5A4kgscU1gjU5gaV6jPFd4iMKAIVMzBzBSsNQQwLUOk3gCizhYnok7iEoE4KroofWnW59A4itebum9T2DRBxSftIrMW37JmwUyNUMCiatx2RGAC5tM0uFwwHkHnJ+55N+5AFb96XZCAPmmyNSIiEP86sqmjbRCsxD5/M65mem3LKCff8nd3Ale1wXwJrmsgDykkSRhVSHX++Vgc9Is8cNMvAe35C3zeW7Qn24TMxFS3CIEEGaA6FbQ3IR5YOxPty+CXpQurbjptGYh7+RRMA4ha/MTbfRfKpbyFyT75SAUXO+K3OIm5NIGstsIwZVwY6UBs18O/lG47leN4C6Mv+yXg7ENYOlZHu+otcmq+QNpLNMytMUM9QwCJWH4psjiD5UXI5M1aeAZOeQAdAcsBmITvGxE+UhFwKw1aCwRuekMWMiFNUkQf2q89oSIs1FTRJq5E5rl1uB3CnXGJiiqOm6Avwy7AhaTX/SH7huQK2vaQ7k9erCQB+Qa/E5GOAVpL5OA8cicH7VmMQoUk8k3IrxXBk3S7bGDxTP4fe5NbyClBi4Nkd5RV1xnE1olbOLG++Ug3C8HlwRWnVrGoZLNowXLNwP3iNBMwCwNGkZaRidvmjf1/bTnhiSq1GTEmlQ+971d4hgjqI9aj/fLwZoKu5Da3x0qJElFxUgisT/dvmkmuQ/75WACi4VMxzcKIcgAJyJOFCIuo/gqEI7YQVG3gkmwHDTzlDFaJBRKSMIJXzPA88KBI8p72BVeQqluBeNgoRD1nxNQtIDOh3htce2aGBMlCt4JKFpddlGepoQUt9F1vu86UHgTI+iqD9sAFpVeUIi4n4bZ9sQYW3iMLTzT9+WSmqJcqROa5YHs7s7S9b0CeGVs8dgAYDa0P2Xi2A6WugG5HeJmK2t7gBlb8A9hxNhi1IRpRnm6obYLrdsb+iOB6IiI231T4XsJwKS/5yVjs8DkGkrqm2sXr2vtG6LFO4LgCOjnxbZIrKBs8DHJ94g47G/SHAX96XaM7B4nJXt6rgkoLsfAd5wa/A/vTV1hWzSHgPxKgcVjbHHH2OzBMGA2BJg0d1JSZlrbDJEGuUEcU+G1SadiIRmmKGRsdtHEWvrT7SMH3nC/HNReR62gXH+69Snk/Iq4GNtPbdZLx2Ie6XJOl7GF28RC6CVdc+RXifQkgTIiMuWW2PEuyQM+B8jcphZDgNngY8uuWbBQw1NZPGHTlsF66szQLEJcYrkh0EQw3zKSFg/Ak6o2ksqcRTDbqSTTeZJavMXHe6IxQBz9ln6BK7vOgpX60TGbIOIhiacXMDbbWbrU25SGeetPt7XGj1U1QyLq7NhN0Ir7eWZs8cbYYmiZVuEBzT+7V5qJY47gVvQKjk1+Z5DYJ8YWzFKt8gns/en2WYbHVAVLmcYIbBzLqcHryfqO86Zc5ZRWcVDeMuKTWfK1gYWAEHVYq6S9nipvtCkZCdIFB8AzTbXSZobyABF2xQNibBYxNrtGXEsSpoikzSYoS+760+2rSGusDFgecrTLPTomjM3WiBOGY9DBDQ2boCHkAoEekd9C8yWVG8qYg68k/3CS2mB5Qv0SysycnnRuiMoI1l3WKhYCxYGaWtsRJSLVuc6EvgDA7hSttUJ8hdcaZcVj6sZZ7nHE2eW4JsV8IbakqF7nKk1664JlDuBWReW4pXKDuBD7tQWg+arhmh/MkXSlXH+6ZRyaHynvELVQe3jkbvrkSQQA7hmbbRDPvk2GJa9g2cELKXF0mLb+dOsmFY3nkkDx8LHLzSMUXtd8cAzAF8ZmE4HPOogDUN9oo14Ym7EK93JozcMMdf4E4IyxWcjY4oKA8m/HzFAit6BxJjIlCg69bVn+/GS/HDzUAEsynmPN2Gxc8Lm8Wfr/UIRVBCjPRRvM2KxVhy9pHEAQ7JeDS1nXuahCblWTvyQPelTSsHVX8+3ySj67OTlXn/e0VxG9Iid5PNeozOJTCTINW6rcxx+MLVzyhpyuoyXxinoV/uAOYgPwHEiez0OFRAGvqSpmcv+XY3ZcxhZ+6j4h95Ed4iDjGMAF/XtEfMhvyTMNNV7bFSa4FN5fVXnD+9Mtk2xin+C9HNDhCVZqY9y8L5UhrwAcxhaTpJenrE2DuM91ixRACM0F4j0BoHgoL9DOjMHI8Bd6q3clPOSnYY+gDaItbJEMJOgJeD51jn1ZSf7dhPvyLxmAYsjO8Oat8xLAlekOQcPyWzcIyzRLWW+QiDmqbPOpqfwCcToh7wFnHhbFcxPueqHFhdXKXFxN1/27b+c1PR8RuYFEoxNxBlbw7yFji2vIndl8jKLrZfiV/JIZlMuoV6kr/+hKBZB7/ciB6KyraNFwjuPfUR1FQbmV4u8x1LVBVK2WzFZ7QLdF9aFcH+qUPmkWKq1TPe5qs18OrnES3ZrFhfyh5584EJ1HgCLN8l3D9/Db/BAYW6wYWzzb1kyW4eKGirhLhIwYU5Zm0ZWQurSxp4ixRdK7vcP7uPOIfvfwOYp7JeNZccnPCHGidKJJu/gKSP9VetjjJ80i4+ZWENdyBeIjTmfMibM90e/pPbmVAIqH9+SnA+BO12RLesh1tMs4bypo2gw5Gh+GZylIqpJCGVOU5QmOsmJCBC6HsQWrkcSU1VrronrqXkseqE55QLWAloQJmoU595gXvFhz2fAFmfuqgNmVjXUzOTT5m41Ioe7CpFEsrGpOqYzhQATYr6jB/JKsul9yzSLAPEC8LieAQNL0POOtmXdQuyTxmjU9nHmBB+cytrijvRpyHManh7sBMM6o2NsgO341RHF86LYGBxkTuL0SEzkWCZr2BGxr10CzY2x2hbg4O888rRCXPcwzeN4wi9eQKcqSm6w11ORIiXaJUH4YhPCAn16Gres8YLgHJmL3A8QFU2fcTx5JzAKMl0NkN5yp82sApoi/VDrprFe0SMUSthAz3wWAclWgNUTJcZaZ+KXQnV7j8yGfm6rF9ec5RGykYeP/tV+bfHiD+dhIEVCqaOJ70b1lbLZmbDGHovjUfjkYc0fuJeapkvQ0BHVaqVkolP/M/awUAyXhLQ8518uSawA7hbU411UIrajrLHpCVhUJLFcsnsBnItIOlYHCAWbCmYQwx3NKPhsQ2VZljkK8pzUqS26TmeLsc+0jTAxolqLzpzcAfhUQ11YIlzcKUHEubuEcXDpkGooAs2vBXkap3zeI6383slrEQplzWrRyu/F5GYsmwKxQL2/0swUbOUFc9BwhzgofVQiBLAWvOYf96fauikck1OvMtYN4Euu0YoQYNy3h9zGCQQAsWWP0I8THCpbuhXCv8345SKqmHiTWacu40yG5rSsAb5YNOTbBVbJccKdKmKTqHNwJclowCniALaQwTG3SnJJ/TgfwUpTvu9ECFgLMBnHTlghptWmOf9Z6fajtYrBRq3goLmv1tIEl8df3y8EVyqdUWjPFkgJimYChksdjFWVTv2vVs1Dj+1WOWdpZeGBmnld2VydZZ7FWcaCwDad28ROlBy7wOUJr3WxcCqrlAfjxCPnLUCDkERoDCwEmIg2z5tzlnaUbmJdAc1GcOGyjiJBX4RiY8hPjqUf6xeZBylTptsrx3i6OIQYj2HD2oZGsSGod1VsgL4hn4zr2gmX2kOPSOzieovUyDrZBxVGtOsBySxv+bDlgxnjPrgcEnqsjGs3xvSCEcL1fDq6rhjWUmqGMbrhOnRpvielxSUPO6UV44UASyMa9Kp++KkGoRv3pNqLIbxPcxCHSGra9vIB7GXlTmbTXeBlej/IxJ6o1y58cV62Rc55TRLZwELPFmmJIJsWv8KfCxLWKZulpQH1mDKOhwyD4GMKIwNMKDUIHTb0R2P2Klwh0rEslwXVL/v2pAcK7w8fo8nfbNUl/uk1qgIc1LvW77WBxoX5IUJnHE+Fja4trMVAYaRJfweWs1ywiCxzSvDqTYvWRfKRNku5GVRIdA1gS/mLMHFG2eZ3BYWzxblQPDYSuoUk9hQsMIVbj4pg2R3gfwhxYBJQRcRMHLRHVrrNXYQOuRJONpImSty+UKX2ID3uYhRYBRdcLs6NaI6VyOBy0JBI9xNVnZWTyQyF3KuD0Be+BJq/ALgeII5QBVfC1wS0eQm91XnvAwmmCEbKDSSH340BdcU7i+fyyFTgVNa+saEmxaAOLBeo4BHBvW5mEhgnYmd6f5NE9pWDpNbl59DB18AiXvK63Blz1ojiKZ+BWka4L9yzYR51xEBdx5Pg5faC16VgKzI1fC44ZLBvonzblA3htUMscxZy+RjkL9+Y9Qs8AoSwxmgEnsv/HoGnX8hAb5yycmGxxfSRibUpM3ivQeXErwELh6fBIAXNr8Hvtjh4sJKbHcmivsSGOZJJY/+gKWNYN3FN3jc2Nyf3T3QFqDVjoiwaGb+tCU46GK4k0IREMlGLYpFlME91Ehv3p9q7lxHZioq/cNrBsGrrvSgN/MUVs16ZCAVaBhVoX1g3dXllRFnlajoE135vsyzqHffLLsApPxENcST8uAIFPvyb//ZoDijDFIb5BbWtsiIITx3SJFRHcjIfyhuaKq8c0pdMnUHylh1xlPRd5HILMnUvXrHrtEA1l0xsvUSiJTzQxvisk3lSH8EoVH3FDAt2Uxnohb2fX5IGk1oKFNu/JkOuZAORn8jD60+2qBmDGNo8bOVawOIiryjxNt9gRQNY595cpVLJi5q8usPRsXRw3TUq16l0jLha/KtEAVUa4/tUqOGKxVrOkNMwT6nXqJS75jyrBq4o1sw9NTYvovBnKiV1UPawpcWGl5/EKdisc/RyaVoElBZqkayAvxrGDwip/0m53iBODPGgCcmU3OHJpJVgyHiJPQgPdE7256UqBRdPDzYPlJCcpkv8PAHSv/QtFBkyYAAAAAElFTkSuQmCC"},function(e,t,n){},function(e,t,n){e.exports=n.p+"reactapp/images/71fb7f0a5b1cf694468e7ba7e69bd939.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QETDRgRjnOYvgAAFfVJREFUeNrlW3mUVNWd/u6979XSCxRNA9INCIgii0TBqAi4EKISxTVRnKgxLkedyGQkxiTujkYxaswomkSdxETjIUhYXVDMSNTYqElABQZbAQVBoOnq7lreu/udP97romibpRUyMVN93qk6VW+53/fbf7/bwP/zF/l7P7Ai0QvDMsf7dXTM4Opkv68CJFOQmxZvlx+sagxfDrcHH/zzEnBC7bQeI2unLqtO1B/i0RScE3BwcA6QJoe8asL67JIRr7Q9tJqr/D8PASk/g7Pqf3HRoO7jf+MRCus0aPxwBwfrNIxTsM5CO4NNheXzl4a3nLNl23r7T0HA+Qc+ceOQmpNvhw3BiIcE9eGBwcFBOQPtFIxV0I5DmRAGwJZgDRY2XUmLxZzbn2tj+xv8xD7TDxrV66L5sAE86qOCplFdU4HKnikwyuAkYCM9AAA4Z2EcR9LLoEp342uD117bn+uj+/Pm1RUZMqLmvA/gOAihSBAfqe5JpHsmkaxMwEt6oKCgICCEgYCAEg8UDMRJ9K4ac1f/nod6X1gCDqs6s3eFXwtnFSgIKKGgDrChhSpqWGlBABCQki0SAIRQAA4JVonB9oSLv7AE9EuOuxNuhx8zzkLkJYpNHLKoQD2HZA+KJCPwYhIcykzeKXRL9n80XVFNvnAEeF6CpL3upzqn0G7l2mlwq6CkAjyDRA1BZZ2HinoPHmuHb+CcBpyFcwaUpFCVzLAvGgGkMlVNCPH7GCtgnYF1CtYpaKdgnQZJOiSqAL8C8CocSFLDxb9Zp6GdhLUClHio9DLJ/RWx9oeDIQAghIYwOVhnYJwCdTu41hbQikAIgHmAkhJaRaHQWAXjFLSVcDCwToNrbsru7f5RCdhJQly1uaLKNmonDiHWgIDAIw4gDpJoBNsNDBQoA3ieg4ccyikYJ6JcwHI4Z2GdRFE0606e4/6RCOhUPbeJ5Tf31sNngSWjFRMDRj1YR+G4gtxEAWYhlYKwHMpySBNCOwEHCw2HQDU1FsIWs4tnuv9rH0B2Z5tr7dKFObkFykpoK2L7bk97HJxzgGtPh22ZrzCwVkFajo30jdOcc/stk6X7WurlxDS1bBCbcw1PKmdLmV4U81mUElf68KujtDiK/YiLIw0NICc+xtrssnV7IJp8HiLoPgb/qcUsV09c1srXw4HCwZTOIiBgSQaW8naAd7akJYHJYY2Z09cY47pA+t+FALKX3xMApFgsmlXy90cHlsO58jSHgPkeEkkvMmbnYGITkHD4JGy4f0Pz/2zvhFTShTXscwL25sHlCyQAsGbb0uWb2l593RIG50xEAiGgCQovFRXGFu3SB3J8I1YU51zf4d6dEfG5SaD7AXz5YkuLbhAPntrCP4ID4BxgHcAoA/MZLByM09BOoGjyWGWeGsU5N53dZ1+TQPcT+I7vNNfWGq7MPfUNDbuzqlDEpFhY57At/7f565vebtwF6H1Owi4JqKmpIYMGDSGZTKYrar+rAwBIs/zwbWclCCGx0wPgdlSCIAwB3b50T/fZlyTslAil02l86/xLK8/9xjcvPGjg4O8kU+mRhWKh8b3GNQ8+9vjPn1j03Lyc1nqPNt/JdwQAGE1Wguy8po6OkRDrlV2zu0THdTin9Ll//4Hs9K+d0XP8+ImTajM9Dm7NtXz8zqoVLy5ZsnjTsrcaTKcEHD7qy+SXMx+776gJo64p/WqBPqg+5KChfR885aQTH3ztzw2/uvDyqf+6YcMGtZfgafl3johI6u1r/hQ8C+OMjq9znYDd1ecSCVdfeU2/a797/Ud9etWCCwVjNRgBJk08GZd+60o8/YdZR19/y7VvKqV2LLCurg6LF7yUPWrCqGsigyxbPgWgAauB48aNveT5+X/kvXr18vcAnsRXlr8TDU3b5e0ifqNMMM4OnZWwhprd3WM3Wob77p456bYbZ3yU8Hx8sm0rcoUWFIM8coUctjc3QSmJC86/8I1fP/LEd3fyAT+b8fPz+gzsloHdRZRNAZ4HFAoSQwYPwZ23333PXnj+jmRQy2QpCrSz4DqoggHnZdR3Br7TcHjB1IsPPf+cC1/IZrdDaoGE78NnPnzPA6UUHqOw2mBb01Yce8z4n93wgxuPAQA6btxx9KwzTp8FtYeYwADP99CWa8GEY4+bduToI2t3A552BA+AEo2oF0DipNe5WPo7tMASIcuv2RsHW1lZ6V1/3a2rtNVIp1NIpdJI+D48j4FSBsaid8KiqLM9ux0nTTq5YcSIEYyee9b5o71KAGYv+sfOwliDZMLHlNOmXLUb8OgEBFXap87JMsu2sfBdqRlmqDSdELhLAlKpFPuvmU9e07dPX6QSSaTTaSQTCXgJD8zzQBkBoQAh8QHAaAXqUUyaOOkIOqBf/TgT7l1haZ2DsxYhDzBw4MArd6OaHdWXRe+8NAlqD4NRFIirQwDWKV12ze40ARNPOLnvG0vf/cs5Z595F2UE6XQKCT8Bz6PwWQSelkKuLXuehRAcNTU1x9NiEBSdBbQCoHaD3gBKKyglUAyKqKmp6TN69Oghu7F/2uHwLLW0vbR1kfeLzWDHYxQNTRydOvqBEgmDBg2umPnTx65+fv7iD0eNGjJSKhfZfILB86IDsdQjR2OB9gmU0dBaQkkJP+HXe9uy2z4QSgEOIPDBSCdtEgdIbhGKAgpBAUpJCCFw3rlT/7x69er+HdJWugsfQJxTsZzdDg2Iw180EFEwZkf2uFN8BEh1dSZ56YWXjb/t5rvnd6ulMMVIcKlkJGVro6u0Lo+T8b2thtEaykgIKQAAUshNtHHN6lW5XCuKQR6hkNBFB/AykzCAzlm05VuRL+QgJYcUEm25NtT17Zu54Uc3PrULSdFPHyoOg2SHxbU7QVgYE8IJis7uccHUi49Y3rDmg/tn3jO/W3cKcIAlAC8BUA+gLDocQUnDrDWw1kJbDa01lJYQIoRWCsxnyG7PrqCz587evn7DOnARIlfIoq2YR6EtBM9K8GaJtqY8tjVvRWsuCy5CGGvRmm+NxlrWYfiwYVNuv/Wu73fiAzraL7MwcGUOoH2BUeNUwzqFUBdQZv9kyuQzhr/8fMPCJ37365cPGt4nAxH/mgLglxlL/GTiEHWUjInU3WgorSCVABcBlI7snHOOt5a/tYxms1n3h7mzTwx5Ea1tLWhpbcL21m3Ylt2CLds/QVN2K/LFHLRW0FqjOdsMKSQqKyuRSqaglcIxRx91y803/sePO5E8KXdoBlEYdDAl1VRGQlsJayUCU0RWbmoCQI4bd9yBT/92wSMLn5m/9IRTjjkWJtbKduBsZ+CxS4GJCdVWQRsFrQSE4BF4pWCMQSKZwOZPNvOGhobAA4DHn3z8T2OPHYu6vnVI+AkkE0kwFnsRR2C0QsBD5PI5cMGRTqdj5+VgjAHnASZ/dfK0XjU9e99w2w3X5dpawzIySku1gsE5EfX/oKG1AnES2nFsFJuxvtjIRx9x9GHnXTD5xOnTpt8Cvz1djEHvqiKw0WGMiyUuoZSElBKhCGPwEkZHGqiUwmO/eqzPTkXNlClTBlx95dUfWWORTqfgeT4IIXDOQcY3gwMooyXwzkbNTEIokokUevaoxdamJj79e/82btV7Kz/pGMoqk736fL3uoddr00PACEG3mgTa8nm827wG1TbXevYNIzD1qomZve5Q2Dh/0YCWDjJW9UjdBcKwgJCHkDJaPxccjDHMXTD3nJkPzZy303i8sbGxbeTIkT3r6+uPLhaD2GlEah+Nujwwj0UDTkrBKAOl8WfmwfcSMEajZ02td8bpZ12Ry7WtWrn63fVlWsASLFFxaPXXLq3wMgitwtZ8K2iyjZ80ta7ww8dPSY05bmhVl/pTJnbSChF4zSGkgAhDBLwIISW0VhEBKirDG95ouGvGT2Y81Gm9nMlk6KO/eNRkumeglILv+2CUgVBSquHbO7ulIGMdCAh8PwGP+SCUIuGnUFFRiSUvLV508x033drc3NQGgKUrqnuf2euhV6XXG8QJfvzJtfzs7x+cqhvUK9XlzqQFIAEtAaEkpOLgPEDIQwjJoZWCVAqccxhjYKzBC0temHbf/fc9rLV2u2xkDh06NHnn7XeG1VXVsNZGkmc7JF86sZRhORBCwKgHz/NBiQcQgBKKyspqZFuymHHvHZfPXzj3VQBsTO87Vp02+ESceltd65hJA1KU0q6DdwAEoIUFVxxcROCFFJCx1IWMchUQIJvNYvac2WOefOrJFR1z3o5TV9Lc3Gw+2vDRz8YdO+6HyUQSWuuSuhNCSmpPCS2RQgkFZV5EConST0IIhBSoqqzCSZMmn96nb22vte9v3HzVhReO/cGsSZn6gzIpQoj3WcELrhGIIgIegPMiuIgdn9Lggkfx32i8s/Kd12fcM2PkH//7jxv2tpUNABg7dmyP6d+d3lzTowbGGPieD8ZYSRsIjTY8uLimJaSdIAYS56GUeDBWIygG6F7dGwcPGQivm+Ge53Vd6rHNWw6EnCPkAbgIIaWI/JVUEFLAxLnFho83YNbTs8Y899xz73DObQcK90wAADJixIiqW2+6ta1nTc+IBOaD+WwnjQAAZxxACShhMQlRr18qCaOA2p59MXhAPbwen2MOpQAZaARhgFAUoaSEVCoGL6GtgTEGW7ZuweIli6fOfnr2wqamJrmLQarbKwIAoL6+Pvm9a77368NHHX5eexj0PA+MsLIqMapgGfNBCYGzgJQCyWQV+vcdiAPqu0UJzGd5WcCEFmHAUeQFSCmgYuBSSjhrYZzF5i2b8eJLL14+b/68ORs2bCiWauzPSwAA4vs+vfyyy88/47QzfpNOpWGMAWNRdEB7iekcPM+HMRpKGfTsUY8hAw9CZU/6mfeiOQ6IIkchCMBVAK0VlNZQUkfps7HY1rQVC55ZMG3hooW/37hxY64sddp3BLQf48ePH3jFZVe82a++X8a0l22ElG7HRQhGExg8YAQGH1gHVoXPBl4CPBAIggChCGC0hlQKSqtS9vnxpo8xd/7cq5557pl5W7ZsyZUB3mcEoLNGR01NTeLbF3/72q+c8JVbEokEpJSglCKfb0XCr8IRh41F//qaSOW7Cl4DsqhQDIoIRQCtYolrBUY9cBFi3fp1fNbTs6YtWbLk2eZsc2FHIlwCbjsB/rkJQMcW1ejRowdfdMG3fnvIkIPHbG/ehky3Pjh6zAT07lMZAfe7CDxQCIph5OC0hNYGSikEYRFCCrzX+F7jH+bN/fHSPy19OZ/PF8oS4bJqoCR114kWdDkK7LHd7XmeN2bMEaOnX/3Dead8dUqmWzc/+mVvtzRpQBc1imGAgAdQWsIYA60NWnNZtLRkobTFI489cvnCRQuejUHqMsCfmwD2GQgoaYW1Fs6geN9PHvhOJpNKlao2uhsCXBzSChqFXAG5YhsCXizF89a2LD7cuB651gIq0z3Qp3YAYPHJ2g/XNmazzfkyoHYPQPfqxT7jtJcAIHUH1Hd7f+XGzd0yiZQRUWdm51lQh9xdRLG8kC8gHwMXUkAKCZpWaAubsWH9FtR0OwBDBh+GA2rr4HkMXzrsiCMv+uYlV1hrtvzlb2+udM7prkp6XxLQ7v3ZijdWL+/dr3uG54GE30kXz+7I3mSoUCwUPwXcMgGRaMHrL67k8x95ozDu+PE46stjPI8moI0GpYCxGh5lmDRx8kkTjp1w4lt/XfZ8NpstdqLye5NI75s9Qr984Fc3DB5af2CxxcDzYhdsdtTnkIDmDrwokSvk0JJrQVuhFUEYgIdRE0Slt2PN++/x3928onXmTW/jb681pyq6JVAIC5BaIplKIpVKI5WsAGVRFBg39vgxixcsbTxp0inD98Uusc9kAl85buKB/3n//bNzLTLqHFEC4kjkkbSDMgZSaoQiQDEoIORFCMEhpYy2yVbnsWHzh/zl335cePXhQK9b52UYoV6vSqLHTD4QFam0RxxAKQMlBJQRMBbtK9dKoaqyGlNOPfOyllz2zeUr/rq2KxLvKgGd2v+cp55t7NG9Z0oZBUoJiLOwsDDaQJm4AcmLcQjjkFJDCAlCHFSyBX9auKp14Q+yesP7mVR3UltVRX0oK+ERoUd/rR/SFRWec5GTjRqdBISSqBijBNoaJPwETpo4eaqy+t2GZa+9txfO0O1xf8DeMPn1M88bPHTo0Ey+mIPneTAmjkXEwBoLrSWEElBKQhsNraLeH2UUK9et+GjBI2+t+3jFoLE9Uv1TByYzSPbw0NYEeDQFDz6MVVBKwmnA6KjASfoJMOdHGsEIPEqhjQYIwU3X3jxr3foPJsxfMOfNfbVLbHdqQy675Mo5RmtYY2GNhTIKSnMIwRGEBRSCIkIeRD04HrWouBB49oVFi/7l3EumLH7prRf7pPqnerMq+DQJn6Tg0xQ86oNSCm1kpDVKwlgNIQVCySFkCG0UjLawACilUevbOcy89xevHjzk4B5djQBd0QAAwMgRI9PDDhk2si3XAs+jUMYAJsrNjZIQRsb9eAchOZx1UFrh7p/efe28efPmA6C90rV1FTQFSn34rAI+88CIBIEH5rMU1wUUCwVUpCicAxil8VQnCeuAhGcBRINPxjxIFXWpH3348Q9PPHl8d+dcZ+mv2yfb5IYPO6xvIulDGwmlIlWVQiDkAQIRQsV9uCAsRklNrhXX/ei6C+bNmzenPXnxkjqgxIukDx8M0UZJn3pozm1ZuWLlX1bmii0IwjwKhRxCzsF5lCKHYQghZdT7Nw6ERM3aMAwxbOjI1NlTzhm1X/cJjvnSkRNKHRgTdWACHkRNSKOhlAbnkbcvBkVMv276ma+89sorOxcpzjKaAG0fGMdjrBRJYFuwbcUdN9979v0P33fVhxvXQhmBQiGHfD4PzkU81tJwsXOkQMkvWGtw3vkX/K6rkYB2wQG6nr16jZJKQhsJKSPJKCVgTVS4CMERhiGkknjg4Qeuffvtt9/skKxYUC3Lg0+7xhJCkKTJ7gDUyy++8vz066Z/6bkXFy0q8jy4ECgUCuChhHEmnk8QEMbA4n+0klJiyKDBhwwbNqxqX2hAp6wZIyqdM5AymrBGxYuFUro0eDDW4PVlr/913rx5T3bI2R0AZwzhDro0ddpp74FTQft52eZs9t777r3ioV8+cHlzy1YUgzyEEqCEgcYdKUYJiMdAWaRgyUQKIw4dMaArTrBLJqCNUUJGkxelos6rsSbeN6AgYkk1LGt4rJPqLNoJI6HgdNQ4bd8m176bnGjVobHhXnjhhUX33D9jStP2bWCMIZVKIZlIgHkeCGVgZOeZRV3/+sO6EA1clwhobm5a2d6JNdZGBBgTl7CRFuQLefi+n+nQmWkvW53ylSCgKB+zuPjPwMiO5wOwK1asaHh+ybPTBg4YhMqKCvi+Dz9BwWj5ZNRG/5BBaI+9NGvXFQ1wALBq9eolUgloo+GsKyUqxsRaIBWstRg+bPi/x/e2HSVK3Y7tC9F2GRvvFrdw3k4asFMY+/Lhx/TrWdMDqXQaySQFo4h6kvG12hpwHiJfyDV2pSD6X4wYFk47H4gBAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhAgILACGBOQbTAAAKjklEQVRo3sWYe4xV1RXGf3ufcx/zwJnh6eBUFOyAKFDFB9WSlooaRZIi9RlrrUpQW6Ik1KTW1CaNmtjal7F/1KYWpYrGlFcMojGiVsRRi1ixcXyL4oPXMHPn3nvO2Y/+cfY999zLzDBjir0398zjnrO+b6+19lrf2vB/fokv+2CeqzK5ybmzaQ2eCHY8VOr9agnc0DZ2a7bTwwAWQ8j+E+57M/xqCGS56cqWlRLjHjaAwdK/dvfi+81XQODmW9t+ZZBIACwWg8FgKbJTPmxHZs0bKfxPpoxba/CQNNGMRCffWDxEueufh9UDl4lOkwU8GhmFoEwfGus+hpDPM/erkViUIyPQOj6DRSCAiBBVtxZJ7qqRWRwhgcY7rHN3QIEQSQNejSNz910qDhuB74vMggoBjULSyBG0IF0yWiyCrHeYCCwSWcGESsZbLB45smTwscl+EPi5ReIwEFgkQFHZ5gaLQROhUChHKi5LWsd3D+/lDxccILJRt+mME84gKGCRlIkcndgzoao8s8b+TzyQXk3xF8qVHYMhpIceCmgHDhB1B3qgJ79kHag3MSo/vphHujooAQ+FduvXaA507n0n/cShvCBHAC8QfUHfKlP9kxxZVxXAAiE97yX/cDaG9oMcJnxitPfaIOU8n0zSESyKQru2B3t2KApymPAJjbLuPV1jk1aSSdWA/t/17Emo1vlhhDkwAHz1Kjo2jzlDIPFoJcPnKCI0JT5rCJWLRe11iGyQI4AX7s3+BWVnXeK5qqDomxnq6j01tIfwghwBfOUj+0v7LrI1Biz9a/d3p6CHTaGmEF0pGinQfzB8vVlR3m4RLvquMG2uCadFuA/u6ijUB8IRaODupjN+MP7HmROD7l33PP3gq716IPjkKpuqSIklkYZK0XAUxnqzx0yff+vXix9/9OT2T+7SKQLLxdK7py535jrb7/nGPf/567037I4GgJeV32xi3b0UMkk8UXO1gDiv44IPW4gwCGbyXeacfklXFBucyC37pi63jqrAoDn+6p+VWzJ18ALpPqI+dwxG192R9hk/nH/Rhx49lAicipr70pM3uhxafcnYVpvatj4eZY7k8l8flP8VGgOkri0ja+Cr9YC5087Y1IfGR+IhkGgO0Pn7B+eAvEWetlpTX3M9ikxbNmVsDbxM4KVJgmwriRi6FiHq3uT9C3cYcmTwHHxspsCsF2/05JyTs9iDqpPF4HPK9TXwJBDSOAq2+qxOLNcQyHpLl7eSIYuPj5eKj0Yy4yQ55sxogPJgsYSMv67GnRUHe1WHVcudVQi8Oi8wo/32V+bcKdzq469IvBYx6tt+0G/RiJoBIZYXAc0TJh/33rt10RdJN06EGIDV+G5IkvG4NKFhwVXzf+MT4LutYFK+NmgU3lF+3zvK5b9M4CNCAhQRZ77w8ddCnQIXyTJqtqHBVk0YRENu3rcuXjuKEO3aFckIU1FPClCfyE92lAidxrdOcJcoo1CUGN26+KFk1ZW1SyTSplQAsbnkjrkn3fXONWsbUYnjZSq0sXAJUfj0via37vmCkBJlihTpp49eikQYSggMHQsv/WmSA5UIe4njnUmLJs6w2dNvW3/TMxNbNSJJuurKY3BNhAFC3tsqH7Bb50UU6XfgfQRoNH1E5Mig6Lzt4tuT1Ys41WySAdpJkWA34vhJy/98y+ZZZxhXTaodySY6WhMRoTBk2F9+q+jDs89OpQ2fjHOUJqSEIpvM/rOWNY9/5Ob+ErEIkAhdkeBYDCX6ysfOmDtvwW0etm7itcn8rNGoBN5ieHqCI3jH0ed+aMjiIdzMY11hj3d7hmYOlP925sefVkKam3DMljySJkrsg57zOauVAbdzrBU0Ck1ESIgiQiF5afHGNY7s0wfOHTPm9MDJa1IVK972HoZm/9SlpR0730fi4XmNrddk0BTxyqcVrs5Pax5YWVmsi7oiIiRyVARv37nm3pRcuEJep5tQrqfWNnbwkQh8sry+4dFf9h3Ay40/+nmJLc8on5Mflx9M71kHXQE3KEIMlu3L1v8plq+iIhSOyl1eymOTTKt8aV3g44TK0c/aJV3P47XvmMT5PSfkxZDwykU9jntEhKDAltnPvVYpIaIqljpbFu/PYNzWkSk1JZO+aski2frIUw/P/8PFk4bS+9blewweU7Eodm7ZdN5HhaqSEWm1NrXtgr3NjoKsCUa1vRsCGmgnV/byQ8Erghpwg2UvL8z+1+uhSUupGk34Vk+p5aIDozA1qtIkAYnz+QjG0QBDwGsiAgeuHfgBtl+6Zf2BsKbl1nsAAWNyC+8/5hKbxJ1kZ1sUGUbTNuRIbZPNptyGtuxn+5Kux3b3u85l0630IAIIX86/7JSVWQzS0bR4GDTNTKBpyHlWERCgMG5kNfTyyrKXH9nT6yrXcAggEMcfc3bX6FaTeEohGcd4skPAawK30zUKMOyl6/pX1+zvdcVwGASoio9R2XkrTrzNRyEp4TOJMfiDwhtC10E1GknE5+Uty7Y/3ldwRwkVMTAsAlSk1eTJ33ngyNl9NDGFljrRUgseuJVrAhS7urfevuOZUgHjmoVJRJCthR+IQI0E9/wpJy9YM6u1EdJKrAY8JHTHE0UKGJ5a8vLjGHdwdEgCQx/RWK13d8+kcYAbLZoyBQqUCFEU+JR9+LQx/ZT29vqxaRhHNPVpGFeitpY/fppHJcJCpIpsvHKNJkOJz2hmNBkUGSzrV2xapYPk8Myk9HudB5KwHl9PABDeXdtGt5Zd8lVsaEICt26FQPBGeXPhBI7zJYb4GH/GOdPmvbux0F8dGw5y4HDOiJb8fOKkfleE4p2kCChRpERIiEWyq7yu5x+8nc8ToMmQIYtEMW32Ld2zph86CIN7QJww6epH+xMlb1xPr1b4DHvLLxaeV1+0Cr9BzSDrk5rcFHlOubbY9f67A698MAKpOXBFd1PeIFKSKnJujxBItvWsU7vzfrOHQagZ5HzrRuKYhsFj5qXm391v1Y5QtTT8weIzZ/LE1jKeE2XGFddYMwl2ffjse7u+mc/naaTPTSIKicHgJ/LZIFi0+ou5L3UN45Ss7uRCnPWYdkUszvggUXMh2zb8duHrTzbkM6mRwbimq5z4MIDEYPnR8+1tg2/KQZLw6IajTixBEvcQ5apcxLoVDy5X5exEz+lFAfh5lS878MgdYWtAosmy9AMhBj45G5RAR7vv5GNsUKMI0BRZdcXWx7AYr0giWiT9b3z0Rnz4ECaDXXx4LwnpyJ86c4QHlcfOrYiJipINUQSs/N6bz1VO62VSliTF11ZfuPH6PRjKlNz6jQOQGOb+fbB9IAdMQXvETOU0rE7qnuKJFR90VUqCCKu3C7wWou0bV87atiEkokSAdeCxSpjQ2dF8SA+k09A02WQd8cazdL+6dZWbNCzWlElNfbaIxfbtW7d005ICAbrmQAV8Oo4eURLqSDkdWylAZd76S6qmWx2lDicgqkyp2zasX9iLJOOmw4qwHTNjoACssYMQKLxRgTeuBpTwW1MDoRVBTXMOkznVvP/i9mXjyLnZuFLdZFs9xhq7xg7sAQs7n4qSKmCcuOy4yW3sysCXWpCIUm3HHtvRTJZMUsY1IaXuevj4538BBXB1HeF6wqkAAAAASUVORK5CYII="},function(e,t,n){e.exports={portalWidth:"mutationStatus-module__portalWidth__2s2Qx",framedImage:"mutationStatus-module__framedImage__mbMeM",germline:"mutationStatus-module__germline__3PooJ",somatic:"mutationStatus-module__somatic__1ieJL",unknown:"mutationStatus-module__unknown__mbYor"}},function(e,t,n){e.exports={portalWidth:"proteinChange-module__portalWidth__1U76x",framedImage:"proteinChange-module__framedImage___DDUH",proteinChange:"proteinChange-module__proteinChange__2xJ_V",germline:"proteinChange-module__germline__1c0ww"}},function(e,t,n){e.exports={portalWidth:"mutationType-module__portalWidth__2MF0M",framedImage:"mutationType-module__framedImage__2Mkp8","missense-mutation":"mutationType-module__missense-mutation__2vEO9","trunc-mutation":"mutationType-module__trunc-mutation__1fMqq","inframe-mutation":"mutationType-module__inframe-mutation__3PeGf","other-mutation":"mutationType-module__other-mutation__3NGsA","default-mutation":"mutationType-module__default-mutation__27MBJ"}},function(e,t,n){e.exports={portalWidth:"mutationAssessorTooltip-module__portalWidth__15gd3",framedImage:"mutationAssessorTooltip-module__framedImage__1LzrF","ma-link":"mutationAssessorTooltip-module__ma-link__3QpML","mutation-assessor-link":"mutationAssessorTooltip-module__mutation-assessor-link__3XLsB","ma-icon":"mutationAssessorTooltip-module__ma-icon__GqjUA","ma-msa-icon":"mutationAssessorTooltip-module__ma-msa-icon__2yT6h","ma-3d-icon":"mutationAssessorTooltip-module__ma-3d-icon__166M3","mutation-assessor-main-img":"mutationAssessorTooltip-module__mutation-assessor-main-img__2QlLP","ma-tooltip-table":"mutationAssessorTooltip-module__ma-tooltip-table__3tyG8"}},function(e,t,n){e.exports={portalWidth:"cosmic-module__portalWidth__3eF_t",framedImage:"cosmic-module__framedImage__1OwYD","cosmic-table":"cosmic-module__cosmic-table__2ms15"}},function(e,t,n){e.exports={portalWidth:"validationStatus-module__portalWidth__yrVHU",framedImage:"validationStatus-module__framedImage___YpeK",unknown:"validationStatus-module__unknown__1XsWI",valid:"validationStatus-module__valid__Ziu-a",wildtype:"validationStatus-module__wildtype__14GJI",other:"validationStatus-module__other__3oLt_"}},function(e,t,n){e.exports={portalWidth:"exon-module__portalWidth__1GWC2",framedImage:"exon-module__framedImage__2Xs1J","exon-table":"exon-module__exon-table__6cnBD"}},function(e,t,n){e.exports={portalWidth:"hgvsg-module__portalWidth__70K9W",framedImage:"hgvsg-module__framedImage__2Yrs7","hgvsg-data":"hgvsg-module__hgvsg-data__mrt6T","genome-nexus-logo":"hgvsg-module__genome-nexus-logo__2zJ74"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var r=n(730),o=n(7),i=n.n(o),a=n(611),s=n(792),l=n(793),c=n(548),u=n(587);function p(e,t,n,o,a){var s=function(e,t){return function(e,t){if(m(e.geneticTracks||[],t.geneticTracks||[]))return!0;return w(e)!==w(t)||C(e)!==C(t)}(e,t)||function(e,t){if(m(e.clinicalTracks||[],t.clinicalTracks||[]))return!0}(e,t)||function(e,t){if(m(e.heatmapTracks,t.heatmapTracks||[])||m(e.genesetHeatmapTracks,t.genesetHeatmapTracks||[]))return!0}(e,t)}(e,t),l=function(e,t){return!e.suppressRendering&&(b(e,t)||f(y(e),y(t))>1)}(e,t);l&&h(e,n),s&&n.keepSorted(!1),function(e,t,n){e.suppressRendering&&!t.suppressRendering&&h(e,n)}(e,t,n),function(e,t,n){e.width!==t.width&&n.setWidth(e.width)}(e,t,n),function(e,t,n){i.a.isEqual(e.columnLabels,t.columnLabels)||n.setColumnLabels(e.columnLabels||{})}(e,t,n),function(e,t,n){e.showWhitespaceBetweenColumns!==t.showWhitespaceBetweenColumns&&n.setCellPaddingOn(!!e.showWhitespaceBetweenColumns)}(e,t,n),function(e,t,n){e.showMinimap!==t.showMinimap&&n.setMinimapVisible(!!e.showMinimap)}(e,t,n),function(e,t,n){e.onMinimapClose&&e.onMinimapClose!==t.onMinimapClose&&n.onMinimapClose(e.onMinimapClose)}(e,t,n),function(e,t,n){e.showTrackLabels!==t.showTrackLabels&&n.setShowTrackLabels(!!e.showTrackLabels)}(e,t,n),function(e,t,n){e.showSublabels!==t.showSublabels&&n.setShowTrackSublabels(!!e.showSublabels)}(e,t,n),function(e,t,n){if(!i.a.isEqual(e.heatmapTrackHeaders,t.heatmapTrackHeaders)){var r=e.heatmapTrackHeaders||{},o=t.heatmapTrackHeaders||{},a=Object.keys(r).map(function(e){return parseInt(e,10)}),s=Object.keys(o).map(function(e){return parseInt(e,10)}),l=!0,c=!1,u=void 0;try{for(var p,h=a[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;n.setTrackGroupHeader(d,r[d])}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}var f=!0,m=!1,y=void 0;try{for(var g,v=s[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;b in r||n.setTrackGroupHeader(b,void 0)}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}}}(e,t,n),function(e,t,n,o,a){var s={genetic:void 0,genesetHeatmap:void 0,heatmap:void 0,heatmap01:void 0,treatment:{}},l=o();t.geneticTracks&&t.geneticTracks.length&&!b(e,t)&&(s.genetic=l[t.geneticTracks[0].key]);t.genesetHeatmapTracks&&t.genesetHeatmapTracks.length&&(s.genesetHeatmap=l[t.genesetHeatmapTracks[0].key]);if(t.heatmapTracks&&t.heatmapTracks.length){var u,p,h=!0,d=!1,f=void 0;try{for(var m,y=t.heatmapTracks[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;if(void 0===u&&g.molecularAlterationType===c.a.METHYLATION?u=l[g.key]:void 0===p&&g.molecularAlterationType!==c.a.METHYLATION&&g.molecularAlterationType!==c.a.GENERIC_ASSAY&&(p=l[g.key]),void 0!==u&&void 0!==p)break}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}s.heatmap=p,s.heatmap01=u}else if(t.genesetHeatmapTracks){var v=!0,S=!1,w=void 0;try{for(var C,_=t.genesetHeatmapTracks[Symbol.iterator]();!(v=(C=_.next()).done);v=!0){var A=C.value;if(A.expansionTrackList&&A.expansionTrackList.length){s.heatmap=l[A.expansionTrackList[0].key];break}}}catch(e){S=!0,w=e}finally{try{v||null==_.return||_.return()}finally{if(S)throw w}}}s.treatment=i.a.chain(t.heatmapTracks).filter(function(e){return e.molecularAlterationType===c.a.GENERIC_ASSAY}).groupBy(function(e){return e.molecularProfileId}).mapValues(function(e){return i.a.last(e)}).mapValues(function(e){return l[e.key]}).value();var O=i.a.chain(e.heatmapTracks).filter(function(e){return e.molecularAlterationType===c.a.GENERIC_ASSAY}).groupBy(function(e){return e.molecularProfileId}).mapValues(function(e){return i()(e).flatMap(function(e){return e.data}).filter(function(e){return!e.category}).map(function(e){return e.profile_data}).value()}).value(),P=i.a.mapValues(O,function(e){return i.a.max(e)}),I=i.a.mapValues(O,function(e){return i.a.min(e)}),M=i.a.keyBy(t.geneticTracks||[],function(e){return e.key}),D=!0,L=!1,N=void 0;try{for(var R,j=e.geneticTracks[Symbol.iterator]();!(D=(R=j.next()).done);D=!0){var F=R.value;k(F,M[F.key],o,a,n,e,t,s),delete M[F.key]}}catch(e){L=!0,N=e}finally{try{D||null==j.return||j.return()}finally{if(L)throw N}}var G=!0,B=!1,z=void 0;try{for(var V,H=(t.geneticTracks||[])[Symbol.iterator]();!(G=(V=H.next()).done);G=!0){var U=V.value;M.hasOwnProperty(U.key)&&k(void 0,M[U.key],o,a,n,e,t,s)}}catch(e){B=!0,z=e}finally{try{G||null==H.return||H.return()}finally{if(B)throw z}}!function(e,t,n,o){var a=i.a.keyBy(e.geneticTracks,"key"),s=i.a.keyBy(t.geneticTracks||[],"key"),l=(e.geneticTracksOrder||e.geneticTracks.map(function(e){return e.key})).filter(function(e){return e in a}),c=(t.geneticTracksOrder||(t.geneticTracks||[]).map(function(e){return e.key})).filter(function(e){return e in s});if(!i.a.isEqual(l,c)){var u=o();n.setTrackGroupOrder(r.b,l.map(function(e){return u[e]}))}}(e,t,n,o);var q=i.a.keyBy(t.clinicalTracks||[],function(e){return e.key}),W=!0,K=!1,$=void 0;try{for(var Y,Q=e.clinicalTracks[Symbol.iterator]();!(W=(Y=Q.next()).done);W=!0){var X=Y.value;T(X,q[X.key],o,n,e),delete q[X.key]}}catch(e){K=!0,$=e}finally{try{W||null==Q.return||Q.return()}finally{if(K)throw $}}var Z=!0,J=!1,ee=void 0;try{for(var te,ne=(t.clinicalTracks||[])[Symbol.iterator]();!(Z=(te=ne.next()).done);Z=!0){var re=te.value;q.hasOwnProperty(re.key)&&T(void 0,q[re.key],o,n,e)}}catch(e){J=!0,ee=e}finally{try{Z||null==ne.return||ne.return()}finally{if(J)throw ee}}var oe=i.a.keyBy(t.genesetHeatmapTracks||[],function(e){return e.key}),ie=!0,ae=!1,se=void 0;try{for(var le,ce=e.genesetHeatmapTracks[Symbol.iterator]();!(ie=(le=ce.next()).done);ie=!0){var ue=le.value;x(ue,oe[ue.key],o,n,e,s),delete oe[ue.key]}}catch(e){ae=!0,se=e}finally{try{ie||null==ce.return||ce.return()}finally{if(ae)throw se}}var pe=!0,he=!1,de=void 0;try{for(var fe,me=(t.genesetHeatmapTracks||[])[Symbol.iterator]();!(pe=(fe=me.next()).done);pe=!0){var ye=fe.value;oe.hasOwnProperty(ye.key)&&x(void 0,oe[ye.key],o,n,e,s)}}catch(e){he=!0,de=e}finally{try{pe||null==me.return||me.return()}finally{if(he)throw de}}var ge=i.a.keyBy(t.heatmapTracks||[],function(e){return e.key}),ve=!0,be=!1,Se=void 0;try{for(var we,Ce=e.heatmapTracks[Symbol.iterator]();!(ve=(we=Ce.next()).done);ve=!0){var _e=we.value;_e.maxProfileValue=P[_e.molecularProfileId],_e.minProfileValue=I[_e.molecularProfileId],E(_e,ge[_e.key],o,function(){},n,e,{},s,void 0),delete ge[_e.key]}}catch(e){be=!0,Se=e}finally{try{ve||null==Ce.return||Ce.return()}finally{if(be)throw Se}}var ke=!0,Te=!1,xe=void 0;try{for(var Ee,Ae=(t.heatmapTracks||[])[Symbol.iterator]();!(ke=(Ee=Ae.next()).done);ke=!0){var Oe=Ee.value;ge.hasOwnProperty(Oe.key)&&(Oe.maxProfileValue=P[Oe.molecularProfileId],Oe.minProfileValue=I[Oe.molecularProfileId],E(void 0,ge[Oe.key],o,function(){},n,e,{},s,void 0))}}catch(e){Te=!0,xe=e}finally{try{ke||null==Ae.return||Ae.return()}finally{if(Te)throw xe}}!function(e,t,n,r){var o=i.a.keyBy(e.heatmapTracks,"key"),a=i.a.keyBy(t.heatmapTracks||[],"key");i.a.forEach(e.heatmapTracksOrder||{},function(e,s){var l=e.filter(function(e){return e in o}),c=((t.heatmapTracksOrder||{})[s]||[]).filter(function(e){return e in a});if(!i.a.isEqual(l,c)){var u=r();n.setTrackGroupOrder(parseInt(s,10),l.map(function(e){return u[e]}))}})}(e,t,n,o)}(e,t,n,o,a),function(e,t,n){var r=v(t),o=v(e);("order"===r.type&&"order"===o.type&&r.order!==o.order||!i.a.isEqual(r,o))&&n.setSortConfig(o)}(e,t,n),function(e,t,n){var o=i.a.sortBy(i.a.uniq((t.heatmapTracks||[]).concat(t.genesetHeatmapTracks||[]).map(function(e){return e.trackGroupIndex}))),a=i.a.sortBy(i.a.uniq(e.heatmapTracks.concat(e.genesetHeatmapTracks).map(function(e){return e.trackGroupIndex})));i.a.xor(a,o).length&&n.setTrackGroupSortPriority([r.a].concat(a).concat(r.b))}(e,t,n),function(e,t,n){e.hiddenIds!==t.hiddenIds&&n.hideIds(e.hiddenIds||[],!0)}(e,t,n),function(e,t,n){i.a.isEqual(e.horzZoomToFitIds,t.horzZoomToFitIds)||n.updateHorzZoomToFitIds(e.horzZoomToFitIds||[])}(e,t,n),function(e,t,n,r){var o=r(),i=e.clinicalTracks.map(function(e){return o[e.key]});e.showClinicalTrackLegends&&!t.showClinicalTrackLegends?n.showTrackLegends(i):!e.showClinicalTrackLegends&&t.showClinicalTrackLegends&&n.hideTrackLegends(i)}(e,t,n,o),function(e,t,n){e.highlightedIds!==t.highlightedIds&&n.setHighlightedIds(e.highlightedIds||[])}(e,t,n),function(e,t,n,r){if(e.highlightedTracks!==t.highlightedTracks){var o=e.highlightedTracks||[],i=r();n.setHighlightedTracks(o.map(function(e){return i[e]}))}}(e,t,n,o),function(e,t,n){!e.suppressRendering&&t.suppressRendering&&d(e,n)}(e,t,n),s&&n.keepSorted(!0),l&&d(e,n)}function h(e,t){t.suppressRendering(),e.onSuppressRendering&&e.onSuppressRendering()}function d(e,t){t.releaseRendering(e.onReleaseRendering)}function f(e,t){var n=i.a.keyBy(t,function(e){return e.key}),r=0,o=0,a=0,s=!0,l=!1,c=void 0;try{for(var u,p=e[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value,d=n[h.key];d?(o+=1,d.data!==h.data&&(a+=1)):r+=1}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return r+(t.length-o)+a}function m(e,t){return e.length!==t.length||f(e,t)>0}function y(e){return(e.geneticTracks||[]).concat(e.genesetHeatmapTracks||[]).concat(e.clinicalTracks||[]).concat(e.heatmapTracks||[])}function g(e){return e.profile_data}function v(e){var t={},n=function(e){return e.sortConfig&&e.sortConfig.order}(e);return n?t={type:"order",order:n}:e.sortConfig&&void 0!==e.sortConfig.clusterHeatmapTrackGroupIndex&&(t={type:"cluster",track_group_index:e.sortConfig.clusterHeatmapTrackGroupIndex,clusterValueFn:g}),t}function b(e,t){return e.distinguishMutationType!==t.distinguishMutationType||e.distinguishDrivers!==t.distinguishDrivers||e.distinguishGermlineMutations!==t.distinguishGermlineMutations}function S(e,t,n,r){if(!e&&t){var o=n[t.key];return void 0!==o&&(r.getTracks().includes(o)&&r.removeTrack(o),delete n[t.key]),!0}return!1}function w(e){return e.distinguishMutationType&&e.sortConfig&&e.sortConfig.sortByMutationType}function C(e){return e.distinguishDrivers&&e.sortConfig&&e.sortConfig.sortByDrivers}function _(e,t,n,r,o,a,s,l,c){var u=t&&t.expansionTrackList?t.expansionTrackList:[],p=e&&e.expansionTrackList?e.expansionTrackList:[],h=i.a.keyBy(u,function(e){return e.key}),d=!0,f=!1,m=void 0;try{for(var y,g=p[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value;c(v,h[v.key],n,r,o,a,s,l,e.key),delete h[v.key]}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}var b=!0,S=!1,w=void 0;try{for(var C,_=u[Symbol.iterator]();!(b=(C=_.next()).done);b=!0){var k=C.value;h.hasOwnProperty(k.key)&&c(void 0,h[k.key],n,r,o,a,s,l)}}catch(e){S=!0,w=e}finally{try{b||null==_.return||_.return()}finally{if(S)throw w}}}function k(t,n,o,i,c,u,p,h,d){var f=o();if(!S(t,n,f,c))if(t&&!n){var m={rule_set_params:Object(a.f)(u.distinguishMutationType,u.distinguishDrivers,u.distinguishGermlineMutations),label:t.label,sublabel:t.sublabel,track_label_color:t.labelColor||void 0,target_group:r.b,sortCmpFn:Object(s.b)(w(u),C(u)),description:t.oql,data_id_key:"uid",data:t.data,tooltipFn:Object(l.c)(u.caseLinkOutInTooltips,i,u.alterationTypesInQuery),track_info:t.info,$track_info_tooltip_elt:t.infoTooltip?e("<div>"+t.infoTooltip+"</div>"):void 0,removeCallback:function(){delete o()[t.key],t.removeCallback&&t.removeCallback()},expandCallback:t.expansionCallback||void 0,expandButtonTextGetter:function(){return"Expand"},expansion_of:d?f[d]:void 0,custom_track_options:t.customOptions},y=c.addTracks([m])[0];f[t.key]=y,void 0!==h.genetic&&c.shareRuleSet(h.genetic,y),h.genetic=y}else if(t&&n){var g=f[t.key],v=w(u),T=C(u);v===w(p)&&T===C(p)||c.setTrackSortComparator(g,Object(s.b)(v,T)),t.data!==n.data&&c.setTrackData(g,t.data,"uid"),function(e,t){return e.caseLinkOutInTooltips!==t.caseLinkOutInTooltips||e.alterationTypesInQuery!==t.alterationTypesInQuery}(u,p)&&c.setTrackTooltipFn(g,Object(l.c)(u.caseLinkOutInTooltips,i,u.alterationTypesInQuery)),t.info!==n.info&&c.setTrackInfo(g,t.info),t.infoTooltip!==n.infoTooltip&&c.setTrackInfoTooltip(g,t.infoTooltip?e("<div>"+t.infoTooltip+"</div>"):void 0),b(u,p)&&(void 0!==h.genetic?c.shareRuleSet(h.genetic,g):c.setRuleSet(g,Object(a.f)(u.distinguishMutationType,u.distinguishDrivers,u.distinguishGermlineMutations))),h.genetic=g,t.expansionTrackList&&t.expansionTrackList.length>0?c.disableTrackExpansion(g):t.expansionCallback&&c.enableTrackExpansion(g),_(t,n,o,i,c,u,p,h,k)}}function T(e,t,n,o,i){var c=n();if(!S(e,t,c,o))if(e&&!t){var u=Object(a.d)(e);u.legend_label=e.label,u.exclude_from_legend=!i.showClinicalTrackLegends,u.na_legend_label=e.na_legend_label;var p={rule_set_params:u,data:e.data,data_id_key:"uid",label:e.label,description:(e.label||"").trim()===(e.description||"").trim()?void 0:e.description,removable:!0,removeCallback:function(){delete n()[e.key]},onClickRemoveInTrackMenu:function(){i.onDeleteClinicalTrack&&i.onDeleteClinicalTrack(e.key)},sort_direction_changeable:!0,tooltipFn:Object(l.b)(e,!0),important_ids:e.altered_uids,sortCmpFn:Object(s.a)(e),init_sort_direction:0,target_group:r.a,onSortDirectionChange:i.onTrackSortDirectionChange,custom_track_options:e.custom_options};c[e.key]=o.addTracks([p])[0]}else if(e&&t){var h=c[e.key];e.data!==t.data&&o.setTrackData(h,e.data,"uid"),e.altered_uids!==t.altered_uids&&o.setTrackImportantIds(h,e.altered_uids),o.setTrackTooltipFn(h,Object(l.b)(e,!0)),t.custom_options!==e.custom_options&&o.setTrackCustomOptions(h,e.custom_options)}}function x(e,t,n,r,o,i){var c=n();if(S(e,t,c,r))_(void 0,t,n,function(){},r,o,{},i,E);else if(e&&!t){var u={rule_set_params:Object(a.e)(),data:e.data,data_id_key:"uid",has_column_spacing:!1,track_padding:0,label:e.label,html_label:Object(l.a)(e.label),target_group:e.trackGroupIndex,sort_direction_changeable:!0,sortCmpFn:s.c,init_sort_direction:0,description:"Gene set scores from ".concat(e.molecularProfileId),link_url:e.trackLinkUrl,tooltipFn:Object(l.d)(e.molecularAlterationType,!0),onSortDirectionChange:o.onTrackSortDirectionChange,expandCallback:e.expansionCallback,expandButtonTextGetter:function(e){return"".concat(e?"More":"Show","  genes")}},p=r.addTracks([u])[0];c[e.key]=p,void 0!==i.genesetHeatmap&&r.shareRuleSet(i.genesetHeatmap,p),i.genesetHeatmap=p,_(e,void 0,n,function(){},r,o,{},i,E)}else if(e&&t){var h=c[e.key];e.data!==t.data&&r.setTrackData(h,e.data,"uid"),r.setTrackTooltipFn(h,Object(l.d)(e.molecularAlterationType,!0)),_(e,t,n,function(){},r,o,{},i,E)}}function E(e,t,n,r,o,i,p,h,d){var f=n();if(!S(e,t,f,o))if(e&&!t){var m={rule_set_params:Object(a.g)(e),data:e.data,data_id_key:"uid",has_column_spacing:Object(u.a)(e.hasColumnSpacing,!1),track_padding:0,label:e.label,track_label_color:e.labelColor,track_label_circle_color:e.labelCircleColor,track_label_font_weight:e.labelFontWeight,track_label_left_padding:e.labelLeftPadding,target_group:e.trackGroupIndex,removable:!!e.onRemove||!!e.onClickRemoveInTrackMenu,movable:e.movable,na_legend_label:e.naLegendLabel,removeCallback:function(){delete n()[e.key],e.onRemove&&e.onRemove()},onClickRemoveInTrackMenu:function(){e.onClickRemoveInTrackMenu&&e.onClickRemoveInTrackMenu()},sort_direction_changeable:Object(u.a)(e.sortDirectionChangeable,!0),sortCmpFn:s.c,init_sort_direction:Object(u.a)(e.initSortDirection,0),link_url:e.trackLinkUrl,description:Object(u.a)(e.description,"".concat(e.label," data from ").concat(e.molecularProfileId)),tooltipFn:e.tooltip||Object(l.d)(e.molecularAlterationType,!0),track_info:e.info||"",onSortDirectionChange:i.onTrackSortDirectionChange,expansion_of:d?f[d]:void 0},y=o.addTracks([m])[0];if(f[e.key]=y,e.molecularAlterationType!==c.a.GENERIC_ASSAY){var g="heatmap";"METHYLATION"===e.molecularAlterationType&&(g="heatmap01"),void 0!==h[g]&&o.shareRuleSet(h[g],y),h[g]=y}else h.treatment[e.molecularProfileId]=y}else if(e&&t){var v=f[e.key];if(e.data!==t.data&&o.setTrackData(v,e.data,"uid"),e.info!==t.info&&void 0!==e.info&&o.setTrackInfo(v,e.info),e.movable!==t.movable&&void 0!==e.movable&&o.setTrackMovable(v,e.movable),e.molecularAlterationType===c.a.GENERIC_ASSAY&&void 0!==h.treatment[e.molecularProfileId]){var b=h.treatment[e.molecularProfileId];o.shareRuleSet(b,v)}o.setTrackTooltipFn(v,e.tooltip||Object(l.d)(e.molecularAlterationType,!0))}}}).call(this,n(9))},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return h});var r=n(671),o=n.n(r);function i(e){for(var t={},n=0;n<e.length;n++)for(var r=[].concat(e[n]),o=0;o<r.length;o++)t[r[o]]=n;return t}function a(e,t){var n,r=i(["amp","homdel","gain","hetloss","diploid",void 0]),o=e||t?(!e&&t?n=i([["inframe_rec","missense_rec","promoter_rec","trunc_rec","other_rec"],["inframe","missense","promoter","trunc","other"],void 0]):e&&!t?n=i([["trunc","trunc_rec"],["inframe","inframe_rec"],["promoter","promoter_rec"],["missense","missense_rec"],["other","other_rec"],void 0,!0,!1]):e&&t&&(n=i(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other",void 0,!0,!1])),function(e){return n[e]}):function(e){return{true:1,false:2}[!!e+""]},a=i(["high","low",void 0]),s=i([!0,!1,void 0]);function l(e){var t=[];return e.disp_fusion?t.push(0):t.push(1),t.push(r[e.disp_cna+""]),t.push(o(e.disp_mut)),t.push(s[e.disp_germ+""]),t.push(a[e.disp_mrna+""]),t.push(a[e.disp_prot+""]),t}return{preferred:function(e){return[+!!e.na].concat(l(e)).concat([e.sample?e.sample:e.patient])},mandatory:function(e){return l(e)},isVector:!0}}function s(e){return function(t,n){return t.na&&n.na?0:t.na&&!n.na?2:!t.na&&n.na?-2:t[e]<n[e]?-1:t[e]===n[e]?0:1}}function l(e,t){return e.na&&t.na?0:e.na&&!t.na?2:!e.na&&t.na?-2:o()(e.attr_val,t.attr_val)}function c(e){return function(t,n){var r=e(t,n);return 0===r?t.sample?o()(t.sample,n.sample):o()(t.patient,n.patient):r}}function u(e){var t,n;switch(e.datatype){case"number":t=s("attr_val");break;case"counts":n=e.countsCategoryLabels,t=function(e,t){if(e.na&&t.na)return 0;if(e.na&&!t.na)return 2;if(!e.na&&t.na)return-2;for(var r=0,o=0,i=0;i<n.length;i++)r+=e.attr_val[n[i]]||0,o+=t.attr_val[n[i]]||0;if(0===r&&0===o)return 0;if(0===r)return 1;if(0===o)return-1;var a=0,s=0;for(i=0;i<n.length;i++)e.attr_val[n[i]]>e.attr_val[n[a]]&&(a=i),t.attr_val[n[i]]>t.attr_val[n[s]]&&(s=i);if(a<s)return-1;if(a>s)return 1;var l,c=n[a],u=e.attr_val[c]/r,p=t.attr_val[c]/o;return(l=u-p)>0?1:l<0?-1:0};break;case"string":default:t=l}return{preferred:c(t),mandatory:t}}var p,h={preferred:c(p=s("profile_data")),mandatory:p}},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return E});var r=n(16),o=n(9),i=n.n(o),a=n(161),s=n(548),l=n(7),c=n.n(l),u=n(647),p=n(552),h=n(731);function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m=n(688),y=n(689),g=n(741),v=n(742),b="oncoprint__tooltip",S="N/A";function w(e,t,n){var r=i()('<span style="white-space:nowrap; display:inline-block;"><a href="#" '.concat(t?"":'style="color:red;"',' oncontextmenu="return false;">').concat(e,"</a>").concat(n?" (".concat(n,")"):"","</span>"));return r.ready(function(){r.click(function(){a.a.getGenePanelUsingGET({genePanelId:e}).then(function(t){var n=t.genes.map(function(e){return e.hugoGeneSymbol}).sort(),r=open("","_blank","width=500,height=500");if(r){var o=r.document.createElement("div");r.document.body.appendChild(o),i()('<h3 style="text-align:center;">'.concat(e,"</h3><br>")).appendTo(o),i()("<span>".concat(n.join("<br>"),"</span>")).appendTo(o)}})})}),r}function C(e){return i()("<div>").text(e).html().replace(/_/g,"_&#8203;").replace(/\./g,".&#8203;")}function _(e,t){return function(n){var r="";if("counts"===e.datatype)for(var o=n[0],a=0;a<e.countsCategoryLabels.length;a++)r+='<span style="color:'+e.countsCategoryFills[a]+';font-weight:bold;">'+e.countsCategoryLabels[a]+"</span>: "+o.attr_val_counts[e.countsCategoryLabels[a]]+"<br>";else{var s={},l=!0,c=!1,u=void 0;try{for(var p,h=n[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;if(d.attr_val_counts)for(var f=0,m=Object.keys(d.attr_val_counts);f<m.length;f++){var y=m[f];s[y]=s[y]||0,s[y]+=d.attr_val_counts[y]}}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}var g=Object.keys(s);if("number"===e.datatype){for(var v=0,S=0,w=0,C=g;w<C.length;w++){var _=C[w],k=s[_];v+=k*parseFloat(_),S+=k}var T=(v/S).toFixed(2);".00"===T.substring(T.length-3)&&(T=T.substring(0,T.length-3)),r+=e.label+': <span style="white-space:nowrap; display:inline-block;"><b>'+T+"".concat(S>1?" (average of ".concat(S," values)"):"","</b></span><br>")}else if(g.length>1){r+=e.label+":<br>";for(var E=0;E<g.length;E++){var A=g[E];r+='<span style="white-space:nowrap; display:inline-block;"><b>'+A+"</b>: "+s[A]+" sample".concat(1===s[A]?"":"s","</span><br>")}}else if(1===g.length){var O=g[0];r+=e.label+': <span style="white-space:nowrap; display:inline-block;"><b>'+O+"</b>".concat(n.length>1?" (".concat(s[g[0]]," samples)"):"","</span><br>")}}var P=0,I=!0,M=!1,D=void 0;try{for(var L,N=n[Symbol.iterator]();!(I=(L=N.next()).done);I=!0){L.value.na&&(P+=1)}}catch(e){M=!0,D=e}finally{try{I||null==N.return||N.return()}finally{if(M)throw D}}return P>0&&e.na_tooltip_value&&(r+="".concat(e.label,": <b>").concat(e.na_tooltip_value,"</b>").concat(n.length>1?" (".concat(P," samples)"):"","<br/>")),i()("<div>").addClass(b).append(x(n,!!t)).append("<br/>").append(r)}}function k(e,t){return function(n){var r="",o=S,a="";switch(e){case s.a.MRNA_EXPRESSION:r="MRNA: ";break;case s.a.PROTEIN_LEVEL:r="PROT: ";break;case s.a.METHYLATION:r="METHYLATION: ";break;case s.a.GENERIC_ASSAY:r="TREATMENT: "}var l=0,u=[],p=0,h=0,d=!0,f=!1,m=void 0;try{for(var y,g=n[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value;null!==v.profile_data&&void 0!==v.profile_data&&(e===s.a.GENERIC_ASSAY&&v.category?(u.push(v.category),h+=1):(l+=v.profile_data,p+=1))}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}if(p>0){var w=(l/p).toFixed(2);o=1===p?w:"".concat(w," (average of ").concat(p," values)")}h>0&&(a=0===p&&1===h?u[0]:p>0&&1===h?"".concat(u[0]):"".concat(c.a.uniq(u).join(", ")," (").concat(h," data points)"));var C=r;return o===S&&0!==h||(C+="<b>"+o+"</b>"),o!==S&&h>0&&(C+=" and "),h>0&&(C+="<b>"+a+"</b>"),C+="<br />",i()("<div>").addClass(b).append(x(n,!!t)).append("<br/>").append(C)}}function T(e,t,n,r){var o=[],i={},a=void 0,s={},l=void 0,p=[],h=void 0;if(e&&(o=c.a.uniq(e.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),a=c.a.uniq(e.map(function(e){return e.molecularProfileId})),r&&(h=c.a.keyBy(a,function(e){return r[e].molecularAlterationType})),s=c.a.keyBy(a),i=c.a.keyBy(o)),t){if(l=c.a.uniq(t.map(function(e){return e.molecularProfileId})).filter(function(e){return!s[e]}),h&&n&&r){var d=c.a.keyBy(l,function(e){return r[e].molecularAlterationType});l=l.concat(n.filter(function(e){return!h[e]&&!d[e]}).map(function(e){return u.a[e]}))}p=c.a.uniq(t.map(function(e){return e.genePanelId})).filter(function(e){return!!e&&!i[e]})}return{dispProfiledGenePanelIds:o,dispNotProfiledGenePanelIds:p,dispProfiledIn:a,dispNotProfiledIn:l,dispAllProfiled:!(!(a&&a.length&&l)||l.length),dispNotProfiled:!(!(l&&l.length&&a)||a.length)}}function x(e,t){return e.length?e[0].sample?e.length>1?t?"<a href=".concat(Object(r.w)(e[0].study_id,e[0].sample,e.map(function(e){return{studyId:e.study_id,patientId:e.patient}})),' target="_blank">View these ').concat(e.length," samples<a/>"):"<span>".concat(e.length," samples</span>"):t?(n=e[0].study_id,o=e[0].sample,'<a href="'.concat(Object(r.w)(n,o),'" target="_blank">').concat(o,"</a>")):"<span>".concat(e[0].sample,"</span>"):e[0].patient?e.length>1?t?"<a href=".concat(Object(r.u)(e[0].study_id,e[0].patient,e.map(function(e){return{studyId:e.study_id,patientId:e.patient}})),' target="_blank">View these ').concat(e.length," patients<a/>"):"<span>".concat(e.length," patients</span>"):t?function(e,t){return'<a href="'.concat(Object(r.u)(e,t),'" target="_blank">').concat(t,"</a>")}(e[0].study_id,e[0].patient):"<span>".concat(e[0].patient,"</span>"):"":"";var n,o}function E(e,t,n){function r(e,t){var n=new h.a,r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n.increment(c.hugo_gene_symbol,c.amino_acid_change,c.cancer_hotspots_hotspot,c.oncokb_oncogenic,c.driver_filter,c.driver_filter_annotation,c.driver_tiers_filter,c.driver_tiers_filter_annotation,c.germline)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n.entries().map(function(e){var n=f(e.key,9),r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],p=n[7],h=n[8],d=e.value,b=i()("<span>").css({"white-space":"nowrap",display:"inline-block"});return b.append("<b>".concat(r," ").concat(o,"</b>")),a&&b.append('<img src="'.concat(m,'" title="Hotspot" style="height:11px; width:11px; margin-left:3px"/>')),s&&b.append('<img src="'.concat(y,'" title="').concat(s,'" style="height:11px; width:11px;margin-left:3px"/>')),l&&"Putative_Driver"===l&&b.append('<img src="'.concat(g,'" title="').concat(l,": ").concat(c,'" alt="driver filter" style="height:11px; width:11px;margin-left:3px"/>')),u&&b.append('<img src="'.concat(v,'" title="').concat(u,": ").concat(p,'" alt="driver tiers filter" style="height:11px; width:11px;margin-left:3px"/>')),h&&b.append(function(){var e=i()('<small style="color: #ff0000">');return e.append("&nbsp;Germline"),e}()),t&&b.append("&nbsp;(".concat(d,")")),b})}function o(e,t){var n=new h.a,r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n.increment(c.hugo_gene_symbol,c.direction)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n.entries().map(function(e){var n=f(e.key,2),r=n[0],o=n[1],a=e.value,s=i()("<span>");return s.append("<b>".concat(r," ").concat(o,"</b>")),t&&s.append("&nbsp;(".concat(a,")")),s})}var a={"-2":"HOMODELETED","-1":"HETLOSS",1:"GAIN",2:"AMPLIFIED"};return function(s){var l=i()("<div>").addClass(b);l.append(x(s,e)).append("<br/>");var c=[],u=[],m=[],g=[],v=[],S=!0,C=!1,_=void 0;try{for(var k,E=s[Symbol.iterator]();!(S=(k=E.next()).done);S=!0)for(var A=k.value,O=0;O<A.data.length;O++){var P=A.data[O],I=P.molecularProfileAlterationType,M=P.hugoGeneSymbol;switch(I){case"MUTATION_EXTENDED":var D={};D.hugo_gene_symbol=M,D.amino_acid_change=P.proteinChange,D.driver_filter=P.driverFilter,D.driver_filter_annotation=P.driverFilterAnnotation,D.driver_tiers_filter=P.driverTiersFilter,D.driver_tiers_filter_annotation=P.driverTiersFilterAnnotation,P.isHotspot&&(D.cancer_hotspots_hotspot=!0),Object(p.o)(P)||(D.germline=!0);var L=P.oncoKbOncogenic;L&&(D.oncokb_oncogenic=L),("fusion"===P.alterationSubType?v:c).push(D);break;case"COPY_NUMBER_ALTERATION":if(a.hasOwnProperty(P.value)){var N={cna:a[P.value],hugo_gene_symbol:M},R=P.oncoKbOncogenic;R&&(N.oncokb_oncogenic=R),u.push(N)}break;case"MRNA_EXPRESSION":case"PROTEIN_LEVEL":var j=P.alterationSubType,F="MRNA_EXPRESSION"===I?m:g;"high"===j?F.push({hugo_gene_symbol:M,direction:"HIGH"}):"low"===j&&F.push({hugo_gene_symbol:M,direction:"LOW"})}}}catch(e){C=!0,_=e}finally{try{S||null==E.return||E.return()}finally{if(C)throw _}}if(v.length>0){l.append("Fusion: "),v=r(v,s.length>1);for(var G=0;G<v.length;G++)G>0&&l.append(","),l.append(v[G]);l.append("<br>")}if(c.length>0){l.append("Mutation: "),c=r(c,s.length>1);for(G=0;G<c.length;G++)G>0&&l.append(", "),l.append(c[G]);l.append("<br>")}if(u.length>0){l.append("Copy Number Alteration: "),u=function(e,t){var n=new h.a,r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n.increment(c.hugo_gene_symbol,c.cna,c.oncokb_oncogenic)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n.entries().map(function(e){var n=f(e.key,3),r=n[0],o=n[1],a=n[2],s=e.value,l=i()("<span>");return l.append("<b>".concat(r," ").concat(o,"</b>")),a&&l.append("<img src=".concat(y,' title="').concat(a,'" style="height:11px; width:11px;margin-left:3px"/>')),t&&l.append("&nbsp;(".concat(s,")")),l})}(u,s.length>1);for(G=0;G<u.length;G++)G>0&&l.append(", "),l.append(u[G]);l.append("<br>")}if(m.length>0){l.append("MRNA: "),m=o(m,s.length>1);for(G=0;G<m.length;G++)G>0&&l.append(", "),l.append(m[G]);l.append("<br>")}if(g.length>0){l.append("PROT: "),g=o(g,s.length>1);for(G=0;G<g.length;G++)G>0&&l.append(", "),l.append(g[G]);l.append("<br>")}var B=t&&t(),z=new h.a,V=new h.a,H=new h.a,U=new h.a,q=0,W=0,K=!0,$=!1,Y=void 0;try{for(var Q,X=s[Symbol.iterator]();!(K=(Q=X.next()).done);K=!0){var Z=Q.value,J=T(Z.profiled_in,Z.not_profiled_in,n,B),ee=!0,te=!1,ne=void 0;try{for(var re,oe=J.dispProfiledGenePanelIds[Symbol.iterator]();!(ee=(re=oe.next()).done);ee=!0){var ie=re.value;z.increment(ie)}}catch(e){te=!0,ne=e}finally{try{ee||null==oe.return||oe.return()}finally{if(te)throw ne}}var ae=!0,se=!1,le=void 0;try{for(var ce,ue=J.dispNotProfiledGenePanelIds[Symbol.iterator]();!(ae=(ce=ue.next()).done);ae=!0){var pe=ce.value;V.increment(pe)}}catch(e){se=!0,le=e}finally{try{ae||null==ue.return||ue.return()}finally{if(se)throw le}}if(J.dispProfiledIn){var he=!0,de=!1,fe=void 0;try{for(var me,ye=J.dispProfiledIn[Symbol.iterator]();!(he=(me=ye.next()).done);he=!0){var ge=me.value;H.increment(ge)}}catch(e){de=!0,fe=e}finally{try{he||null==ye.return||ye.return()}finally{if(de)throw fe}}}if(J.dispNotProfiledIn){var ve=!0,be=!1,Se=void 0;try{for(var we,Ce=J.dispNotProfiledIn[Symbol.iterator]();!(ve=(we=Ce.next()).done);ve=!0){var _e=we.value;U.increment(_e)}}catch(e){be=!0,Se=e}finally{try{ve||null==Ce.return||Ce.return()}finally{if(be)throw Se}}}J.dispAllProfiled?q+=1:J.dispNotProfiled&&(W+=1)}}catch(e){$=!0,Y=e}finally{try{K||null==X.return||X.return()}finally{if($)throw Y}}var ke=z.entries(),Te=V.entries();if(ke.length||Te.length){l.append("Gene Panels: ");var xe=!1,Ee=!0,Ae=!1,Oe=void 0;try{for(var Pe,Ie=ke[Symbol.iterator]();!(Ee=(Pe=Ie.next()).done);Ee=!0){var Me=Pe.value;xe&&l.append(",&nbsp;"),xe=!0,l.append(w(Me.key[0],!0,s.length>1?Me.value:void 0))}}catch(e){Ae=!0,Oe=e}finally{try{Ee||null==Ie.return||Ie.return()}finally{if(Ae)throw Oe}}var De=!0,Le=!1,Ne=void 0;try{for(var Re,je=Te[Symbol.iterator]();!(De=(Re=je.next()).done);De=!0){var Fe=Re.value;z.has.apply(z,d(Fe.key))||(xe&&l.append(",&nbsp;"),xe=!0,l.append(w(Fe.key[0],!1,s.length>1?Fe.value:void 0)))}}catch(e){Le=!0,Ne=e}finally{try{De||null==je.return||je.return()}finally{if(Le)throw Ne}}l.append("<br>")}var Ge=H.entries(),Be=U.entries();return q===s.length?(l.append("Profiled in all selected molecular profiles."+(s.length>1?" (".concat(q,")"):"")),l.append("<br>")):W===s.length?(l.append("Not profiled in selected molecular profiles."+(s.length>1?" (".concat(W,")"):"")),l.append("<br>")):(Ge.length&&(l.append("Profiled in: "+Ge.map(function(e){var t=e.key[0],n=t;return B&&t in B&&(n=B[t].name),"".concat(n).concat(s.length>1?" (".concat(e.value,")"):"")}).join(", ")),l.append("<br>")),Be.length&&(l.append("<span style='color:red; font-weight:bold'>Not profiled in: "+Be.map(function(e){var t=e.key[0],n=t;return B&&t in B&&(n=B[t].name),"".concat(n).concat(s.length>1?" (".concat(e.value,")"):"")}).join(", ")+"</span>"),l.append("<br>")),q>0&&(l.append("Profiled in all selected molecular profiles."+(s.length>1?" (".concat(q,")"):"")),l.append("<br>")),W>0&&(l.append("Not profiled in selected molecular profiles."+(s.length>1?" (".concat(W,")"):"")),l.append("<br>"))),l}}},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__22mhB",framedImage:"styles-module__framedImage__-4l6t",Checkboxes:"styles-module__Checkboxes__2oyZv",Tendency:"styles-module__Tendency__2Y46X",Significant:"styles-module__Significant__34YnP"}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=g(n(28)),i=g(n(888)),a=g(n(745)),s=g(n(890)),l=g(n(891)),c=g(n(798)),u=g(n(1)),p=g(n(0)),h=g(n(17)),d=g(n(799)),f=g(n(800)),m=g(n(801)),y=g(n(802));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.onWindowScroll=function(){o.onUpdate()},o.onDocumentClick=function(){(0,c.default)(function(){return o.onUpdate()})},o.onUpdate=function(){if(o._isMounted){var e=o.props,t=e.offsetTop,n=e.viewportOffsetTop,r=(0,l.default)((0,y.default)(o))+(n||0);r<=t?o.updateState("top",null,null):r>o.getPositionTopMax()?"bottom"===o.state.affixed?o.updateStateAtBottom():o.setState({affixed:"bottom",position:"absolute",top:null},function(){o._isMounted&&o.updateStateAtBottom()}):o.updateState("affix","fixed",n)}},o.getPositionTopMax=function(){return(0,f.default)((0,m.default)(o))-(0,i.default)(h.default.findDOMNode(o))-o.props.offsetBottom},o.updateState=function(e,t,n){if(e!==o.state.affixed||t!==o.state.position||n!==o.state.top){var r="affix"===e?"":e.charAt(0).toUpperCase()+e.substr(1);o.props["onAffix"+r]&&o.props["onAffix"+r](),o.setState({affixed:e,position:t,top:n},function(){o.props["onAffixed"+r]&&o.props["onAffixed"+r]()})}},o.updateStateAtBottom=function(){var e=o.getPositionTopMax(),t=(0,s.default)(h.default.findDOMNode(o)),n=(0,a.default)(t).top;o.updateState("bottom","absolute",e-n)},o.state={affixed:"top",position:null,top:null},o._needPositionUpdate=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,d.default)((0,y.default)(this),"scroll",function(){return e.onWindowScroll()}),this._documentClickListener=(0,d.default)((0,m.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},t.prototype.render=function(){var e=p.default.Children.only(this.props.children),t=e.props,n=t.className,i=t.style,a=this.state,s=a.affixed,l={position:a.position,top:a.top},c=void 0,u=void 0;return"top"===s?(c=this.props.topClassName,u=this.props.topStyle):"bottom"===s?(c=this.props.bottomClassName,u=this.props.bottomStyle):(c=this.props.affixClassName,u=this.props.affixStyle),p.default.cloneElement(e,{className:(0,o.default)(c,n),style:r({},l,u,i)})},t}(p.default.Component);v.propTypes={offsetTop:u.default.number,viewportOffsetTop:u.default.number,offsetBottom:u.default.number,topClassName:u.default.string,topStyle:u.default.object,affixClassName:u.default.string,affixStyle:u.default.object,bottomClassName:u.default.string,bottomStyle:u.default.object,onAffix:u.default.func,onAffixed:u.default.func,onAffixTop:u.default.func,onAffixedTop:u.default.func,onAffixBottom:u.default.func,onAffixedBottom:u.default.func},v.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},t.default=v,e.exports=t.default},function(e,t,n){"use strict";var r=n(744);t.__esModule=!0,t.default=void 0;var o,i=r(n(892)),a="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some(function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),s=function(e){return window[t](e)}});var c=(new Date).getTime();(o=function(e){return s(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var u=o;t.default=u,e.exports=t.default},function(e,t,n){e.exports=n(15)(469)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Math.max(e.documentElement.offsetHeight||0,e.height||0,e.body.scrollHeight||0,e.body.offsetHeight||0)},e.exports=t.default},function(e,t,n){e.exports=n(15)(169)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(r.default.findDOMNode(e))};var r=i(n(17)),o=i(n(893));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(11),a=n(804),s=n.n(a),l=n(7),c=n(594),u=n(551),p=n(93),h=n(746),d=n(25),f=n(28),m=n.n(f),y=n(4),g=n(587);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=function(e){function t(){return b(this,t),S(this,w(t).apply(this,arguments))}return C(t,h["a"]),t}(),E=function(e){function t(){var e;return b(this,t),(e=S(this,w(t).apply(this,arguments)))._columns=[{name:"Name",render:function(t){return r.createElement("div",{className:m()(s.a.option,"add-chart-option"),"data-test":"add-chart-option-".concat(t.label.toLowerCase().replace(/\s/g,"-"))},r.createElement(c.a,{checked:t.selected,disabled:t.disabled,labelProps:{className:m()(s.a.label,t.disabled?s.a.labelDisabled:"")},inputProps:{className:s.a.input},onChange:function(){return e.onOptionChange(t)}},r.createElement(y.f,{text:t.label})))},filter:function(e,t,n){return e.label.toUpperCase().includes(n)},sortBy:function(e){return e.label},width:320,defaultSortDirection:"asc"},{name:"Freq",tooltip:r.createElement("span",null,Object(g.a)(e.props.frequencyHeaderTooltip,"% samples with data")),render:function(t){return r.createElement("span",{style:{display:"flex",flexDirection:"row-reverse"},className:m()(t.disabled?s.a.labelDisabled:"")},e.props.freqPromise.isComplete?Object(u.O)(t.freq):"")},sortBy:function(e){return e.freq},headerRender:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"row-reverse",flexGrow:1}},"Freq")},defaultSortDirection:"desc",width:60}],e}var n,o,i;return C(t,r["Component"]),n=t,(o=[{key:"getCurrentSelectedRows",value:function(){return this.options.filter(function(e){return e.selected})}},{key:"getCurrentSelectedRowKeys",value:function(){return this.getCurrentSelectedRows().map(function(e){return e.key})}},{key:"addAll",value:function(e){this.props.onAddAll(l.filter(e,function(e){return!e.disabled}).map(function(e){return e.key}))}},{key:"removeAll",value:function(e){this.props.onClearAll(e.map(function(e){return e.key}))}},{key:"onOptionChange",value:function(e){this.props.onToggleOption(e.key)}},{key:"render",value:function(){return r.createElement("div",{style:{display:"flex",flexDirection:"column"},"data-test":"add-by-type"},r.createElement(x,{width:380,height:this.tableHeight,columns:this._columns,data:this.options,showControlsAtTop:!0,addAll:this.addAll,removeAll:this.removeAll,showSelectableNumber:!0,showAddRemoveAllButtons:!0,autoFocusSearchAfterRendering:!0,removeAllDisabled:!l.some(this.options,function(e){return e.selected})}),this.props.freqPromise.isPending&&r.createElement("span",null,r.createElement(p.a,{isLoading:!0}),"Calculating data availability..."))}},{key:"options",get:function(){var e=this;if(this.props.freqPromise.isComplete){var t=l.reduce(this.props.options,function(t,n){var r=0===e.props.freqPromise.result[n.key];return t.push({label:n.label,key:n.key,disabled:r,selected:n.selected,freq:r?0:e.props.freqPromise.result[n.key]}),t},[]);return this.props.optionsGivenInSortedOrder?t:t.sort(function(e,t){return t.freq-e.freq||e.label.localeCompare(t.label)})}var n=this.props.options.map(function(e){return Object.assign({freq:100},e)});return this.props.optionsGivenInSortedOrder?n:n.sort(function(e,t){return e.label.localeCompare(t.label)})}},{key:"tableHeight",get:function(){return this.options.length>15?375:25*(this.options.length+1)}}])&&v(n.prototype,o),i&&v(n,i),t}();T([o.computed],E.prototype,"options",null),T([o.computed],E.prototype,"tableHeight",null),T([d.a],E.prototype,"getCurrentSelectedRows",null),T([d.a],E.prototype,"getCurrentSelectedRowKeys",null),T([d.a,o.action],E.prototype,"addAll",null),T([d.a,o.action],E.prototype,"removeAll",null),T([d.a,o.action],E.prototype,"onOptionChange",null),E=T([i.observer],E),t.a=E},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1Knza",framedImage:"styles-module__framedImage__p1p-k",main:"styles-module__main__2V5AI",operations:"styles-module__operations__2tHBt",options:"styles-module__options__2V0tE",option:"styles-module__option__dhLVt",footer:"styles-module__footer__8u68Z",input:"styles-module__input__2Zk8R",label:"styles-module__label__YKqSs",labelDisabled:"styles-module__labelDisabled__3jDaR"}},function(e,t,n){e.exports=n(15)(452)},function(e,t,n){e.exports=n(15)(834)},function(e,t,n){e.exports=n(15)(357)},function(e,t,n){e.exports=n(15)(823)},function(e,t,n){"use strict";function r(e,t){var n=t.indexOf(e);if(-1===n)return t.concat([e]);var r=t.slice();return r.splice(n,1),r}function o(e,t){for(var n=[],r=0;r<t.length;r++)n.push(t[r]),r<t.length-1&&n.push(e);return n}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Array=0]="Array",e[e.ObjectWithNonNumericKeys=1]="ObjectWithNonNumericKeys",e[e.Object=2]="Object",e[e.Primitive=3]="Primitive"}(r=t.JSONObjectType||(t.JSONObjectType={}));var o=function(){function e(){}return e.getObjectType=function(e){return null!==e&&"object"==typeof e?Array.isArray(e)?r.Array:Object.keys(e).length?r.ObjectWithNonNumericKeys:r.Object:r.Primitive},e.checkLabelTypes=function(e){return"number"==typeof e.reduce(function(e,t){return e+(isNaN(Number(t))?t:Number(t))},0)?"number":"string"},e.getUniqueObjectKeys=function(e){var t=[],n=r.Object;return e.forEach(function(e){t=t.concat(Object.keys(e)).filter(function(e,t,n){return n.indexOf(e)===t})}),{labels:t,type:n}},e}();t.default=o},function(e,t,n){e.exports=n(15)(77)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return"number"==typeof e?e:e.toString()}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"receiveProps",value:function(e){this.props=e}},{key:"getReactKey",value:function(e){var t=this.props.itemReactKeyPropName;if(t){var n=e[t];if(null!=n)return n}return o(this.getRawValue(e))}},{key:"getSortKey",value:function(e){var t=this.props.itemSortKeyPropName;if(t){var n=e[t];if(null!=n)return n}return o(this.getRawValue(e))}},{key:"getInputValue",value:function(e){return this.getRawValue(e).toString()}},{key:"getRawValue",value:function(e){var t=this.props.itemValuePropName;if(t){var n=e[t];if(null!=n)return n}return e}},{key:"getTextRepresentations",value:function(e){return[this.foldValue(this.getInputValue(e))]}},{key:"foldValue",value:function(e){return e.toLowerCase()}},{key:"newFromValue",value:function(e){return e}},{key:"itemIncludedByInput",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.getTextRepresentations(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.indexOf(t)>=0)return!0}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return!1}},{key:"itemMatchesInput",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.getTextRepresentations(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value===t)return!0}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return!1}},{key:"sortItems",value:function(e,t){var n=this;return e.sort(function(e,r){return n.compareItemsWithValue(e,r,t)}),e}},{key:"compareItemsWithValue",value:function(e,t,n){var r=this.itemMatchesInput(e,n);if(r!=this.itemMatchesInput(t,n))return r?-1:1;var o=this.itemInclusionRankForInput(e,n),i=this.itemInclusionRankForInput(t,n);return o!=i?o-i:this.compareItems(e,t)}},{key:"itemInclusionRankForInput",value:function(e,t){var n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=this.getTextRepresentations(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value.indexOf(t);if(0===l)return 0;l>0&&(n=!0)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n?1:2}},{key:"compareItems",value:function(e,t){var n=this.getSortKey(e),r=this.getSortKey(t);return n<r?-1:n==r?0:1}},{key:"renderItem",value:function(e){return this.getInputValue(e)}},{key:"renderSuggested",value:function(e){return this.renderItem(e)}},{key:"renderSelected",value:function(e){return this.renderItem(e)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(718),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.itemKeyPropName=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),i(t,[{key:"_getKeyValueItem",value:function(e,t){var n,r=this.itemKeyPropName,i=this.props.itemValuePropName,a=void 0===i?"value":i;return"object"==typeof t&&a in t?t[r]===e?t:o(l({},r,e),t):(l(n={},r,e),l(n,a,t),n)}}]),t}();t.default=c},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(11),i=n(5),a=n(93),s=Object(o.observer)(function(e){return e.store.cancerTypes.isPending||e.store.cancerStudies.isPending||e.store.profiledSamplesCount.isPending?r.createElement(a.a,{isLoading:!0,size:"small",center:!1}):r.createElement(o.Observer,null,function(){var t=Object(i.expr)(function(){return e.store.selectableSelectedStudyIds.length});return r.createElement(r.Fragment,null,r.createElement("a",{onClick:function(){t&&(e.store.showSelectedStudiesOnly=!e.store.showSelectedStudiesOnly)}},r.createElement("b",null,t)," ",1===t?"study":"studies"," ","selected (",r.createElement("b",null,e.store.profiledSamplesCount.result.all)," ","samples)"),e.store.selectableSelectedStudies.length>0&&r.createElement("a",{"data-test":"globalDeselectAllStudiesButton",style:{marginLeft:10},onClick:function(){return e.store.studyListLogic.mainView.clearAllSelection()}},"Deselect all"))})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringable=function(e){return null!=e&&typeof("function"===e.toString)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var a,s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(751),u=n(952),p=n(675),h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),o(t,[{key:"handleClickTh",value:function(e){this.props.onSort(e.key)}},{key:"handleKeyDownTh",value:function(e,t){13===t.keyCode&&this.props.onSort(e.key)}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.columns.length;t++){var n=this.props.columns[t],o="reactable-th-"+n.key.replace(/\s+/g,"-").toLowerCase(),i="",a=null;this.props.sortableColumns[n.key]&&(i+="reactable-header-sortable ",a="button"),this.props.sort.column===n.key&&(i+="reactable-header-sort",1===this.props.sort.direction?i+="-asc":i+="-desc"),i.length>0&&(o+=" "+i),"object"==typeof n.props&&"string"==typeof n.props.className&&(o+=" "+n.props.className),e.push(l.default.createElement(c.Th,r({},n.props,{className:o,key:t,onClick:this.handleClickTh.bind(this,n),onKeyDown:this.handleKeyDownTh.bind(this,n),role:a,tabIndex:"0"}),n.label))}var s=(0,p.filterPropsFrom)(this.props);return l.default.createElement("thead",s,!0===this.props.filtering?l.default.createElement(u.Filterer,{colSpan:this.props.columns.length,onFilter:this.props.onFilter,placeholder:this.props.filterPlaceholder,value:this.props.currentFilter,className:this.props.filterClassName}):null,l.default.createElement("tr",{className:"reactable-column-header"},e))}}],[{key:"getColumns",value:function(e){var t=[];return l.default.Children.forEach(e.props.children,function(e){var n={};if(void 0!==e.props&&(n.props=(0,p.filterPropsFrom)(e.props),void 0!==e.props.children&&(n.label=e.props.children,n.key=n.label),"string"==typeof e.props.column&&(n.key=e.props.column,void 0===n.label&&(n.label=n.key))),void 0===n.key)throw new TypeError('<th> must have either a "column" property or a string child');t.push(n)}),t}}]),t}();t.Thead=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var a,s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(818),u=n(954),p=n(675),h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),o(t,[{key:"render",value:function(){var e=(0,u.toArray)(l.default.Children.children(this.props.children));this.props.data&&this.props.columns&&"function"==typeof this.props.columns.map&&(void 0===e.concat&&console.log(e),e=e.concat(this.props.columns.map(function(e,t){var n=e.props,o=void 0===n?{}:n,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["props"]);if(this.props.data.hasOwnProperty(i.key)){var a=this.props.data[i.key];return null!=a&&!0===a.__reactableMeta&&(o=a.props,a=a.value),l.default.createElement(c.Td,r({column:i,key:i.key},o),a)}return l.default.createElement(c.Td,{column:i,key:i.key})}.bind(this))));var t=(0,p.filterPropsFrom)(this.props);return l.default.DOM.tr(t,e)}}]),t}();t.Tr=h,h.childNode=c.Td,h.dataType="object"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var a,s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(953),u=n(815),p=n(719),h=n(675),d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),o(t,[{key:"stringifyIfNotReactComponent",value:function(e){return!(0,c.isReactComponent)(e)&&(0,u.stringable)(e)&&void 0!==e?e.toString():null}},{key:"render",value:function(){var e,t=(0,h.filterPropsFrom)(this.props);if("object"==typeof this.props.column)for(var n in this.props.column)"key"!==n&&"name"!==n&&(t[n]=this.props.column[n]);return t.onClick=this.props.handleClick,void 0===this.props.data&&(e=this.stringifyIfNotReactComponent(this.props.children)),(0,p.isUnsafe)(this.props.children)?l.default.createElement("td",r({},t,{dangerouslySetInnerHTML:{__html:this.props.children.toString()}})):l.default.createElement("td",t,e||this.props.children)}}]),t}();t.Td=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i},l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),r(t,[{key:"render",value:function(){return s.default.createElement("tfoot",this.props)}}]),t}();t.Tfoot=l},function(e,t,n){"use strict";function r(e,t){var n=t.distance,r=t.left,o=t.right,i=t.up,a=t.down,l=t.top,c=t.bottom,u=t.big,h=t.mirror,d=t.opposite,f=(n?n.toString():0)+((r?1:0)|(o?2:0)|(l||a?4:0)|(c||i?8:0)|(h?16:0)|(d?32:0)|(e?64:0)|(u?128:0));if(p.hasOwnProperty(f))return p[f];var m=r||o||i||a||l||c,y=void 0,g=void 0;if(m){if(!h!=!(e&&d)){var v=[o,r,c,l,a,i];r=v[0],o=v[1],l=v[2],c=v[3],i=v[4],a=v[5]}var b=n||(u?"2000px":"100%");y=r?"-"+b:o?b:"0",g=a||l?"-"+b:i||c?b:"0"}return p[f]=(0,s.animation)((e?"to":"from")+" {opacity: 0;"+(m?" transform: translate3d("+y+", "+g+", 0);":"")+"}\n     "+(e?"from":"to")+" {opacity: 1;transform: none;} "),p[f]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.defaults,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.children,o=(e.out,e.forever),i=e.timeout,a=e.duration,l=void 0===a?s.defaults.duration:a,u=e.delay,p=void 0===u?s.defaults.delay:u,h=e.count,d=void 0===h?s.defaults.count:h,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),m={make:r,duration:void 0===i?l:i,delay:p,forever:o,count:d,style:{animationFillMode:"both"},reverse:f.left};return t?(0,c.default)(f,m,m,n):m}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(588),l=n(600),c=(i=l)&&i.__esModule?i:{default:i},u={out:a.bool,left:a.bool,right:a.bool,top:a.bool,bottom:a.bool,big:a.bool,mirror:a.bool,opposite:a.bool,duration:a.number,timeout:a.number,distance:a.string,delay:a.number,count:a.number,forever:a.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){e.exports=function(){var e=[],t=[],n={},r={},o={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(t[0],function(n,r){var o,i,s=(o=t[1],i=arguments,o.replace(/\$(\d{1,2})/g,function(e,t){return i[t]||""}));return a(""===n?e[r-1]:n,s)})}function l(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var o=r.length;o--;){var i=r[o];if(i[0].test(t))return s(t,i)}return t}function c(e,t,n){return function(r){var o=r.toLowerCase();return t.hasOwnProperty(o)?a(r,o):e.hasOwnProperty(o)?a(r,e[o]):l(o,r,n)}}function u(e,t,n,r){return function(r){var o=r.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&l(o,o,n)===o}}function p(e,t,n){var r=1===t?p.singular(e):p.plural(e);return(n?t+" ":"")+r}return p.plural=c(o,r,e),p.isPlural=u(o,r,e),p.singular=c(r,o,t),p.isSingular=u(r,o,t),p.addPluralRule=function(t,n){e.push([i(t),n])},p.addSingularRule=function(e,n){t.push([i(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return p.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return p.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(analy|ba|diagno|parenthe|progno|synop|the|empha|cri)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return p.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","alcohol","ammo","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","manga","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","tennis","traffic","transporation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()},function(e,t,n){},function(e,t,n){e.exports=n(15)(127)},function(e,t,n){e.exports=n(15)(26)},function(e,t,n){e.exports=n(15)(334)},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(565),a=n(5),s=n(92),l=n(561),c=n(557),u=n(559),p=n(25),h=n(827),d=n(828),f=n(4);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=y(this,g(t).apply(this,arguments))).dragging=!1,e}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(a=[{key:"svgRef",value:function(e){this.svgContainer=e&&e.children?e.children[0]:null}},{key:"handleSelection",value:function(e,t,n){this.props.onSelection(e[0].data.map(function(e){return e.hugoGeneSymbol}))}},{key:"handleSelectionCleared",value:function(){this.tooltipModel&&this.props.onGeneNameClick(this.tooltipModel.hugoGeneSymbol,this.tooltipModel.entrezGeneId),this.props.onSelectionCleared()}},{key:"onGenePointMouseOver",value:function(e,t,n){this.tooltipModel=e,this.tooltipModel.x=t,this.tooltipModel.y=n}},{key:"onGenePointMouseOut",value:function(){this.tooltipModel=null}},{key:"getTooltip",value:function(){return this.tooltipModel?r.createElement(s.Popover,{className:"cbioTooltip",positionLeft:this.tooltipModel.x+15,positionTop:this.tooltipModel.y-33},"Gene: ",this.tooltipModel.hugoGeneSymbol,r.createElement("br",null),"Log Ratio: ",Object(c.a)(this.tooltipModel.logRatio),r.createElement("br",null),"p-Value:"," ",Object(u.a)(this.tooltipModel.pValue,3,.01),r.createElement("br",null),"q-Value:"," ",Object(u.a)(this.tooltipModel.qValue,3,.01)):r.createElement("span",null)}},{key:"onClick",value:function(){this.dragging||this.handleSelectionCleared(),this.dragging=!1}},{key:"onSelectionComponentRender",value:function(){this.dragging=!0}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"posRelative"},r.createElement("div",{className:"borderedChart inlineBlock",style:{position:"relative"},onClick:this.onClick},r.createElement(i.VictoryChart,{containerComponent:r.createElement(i.VictorySelectionContainer,{containerRef:this.svgRef,activateSelectedData:!1,onSelection:function(t,n,r){return e.handleSelection(t,n,r)},responsive:!1,onSelectionCleared:this.handleSelectionCleared,selectionComponent:r.createElement(h.a,{onRender:this.onSelectionComponentRender})}),theme:l.d,domainPadding:{y:20},height:350,width:350,padding:{top:40,bottom:60,left:60,right:40},singleQuadrantDomainPadding:!1},r.createElement(i.VictoryAxis,{tickValues:this.props.xAxisTickValues,domain:[-this.props.xAxisDomain,this.props.xAxisDomain],label:"Log Ratio",tickFormat:function(e){return e>=1e3||e<=-1e3?"".concat(e/1e3,"k"):e},style:{tickLabels:{padding:20},axisLabel:{padding:40},ticks:{size:0},grid:{strokeOpacity:1}},crossAxis:!1,orientation:"bottom",offsetY:60}),r.createElement(i.VictoryAxis,{label:"-log10 p-Value",dependentAxis:!0,tickCount:4,style:{tickLabels:{padding:135},axisLabel:{padding:165},ticks:{size:0},grid:{strokeOpacity:1}}}),r.createElement(i.VictoryLabel,{style:l.a,text:" "+this.xAxisLeftLabel,x:60,y:300}),r.createElement(i.VictoryLabel,{style:l.a,text:this.xAxisRightLabel+" ",textAnchor:"end",x:310,y:300}),r.createElement(i.VictoryLabel,{style:l.a,text:"Significance ",x:320,y:210,angle:-90}),r.createElement(i.VictoryScatter,{style:{data:{fillOpacity:.4}},data:this.props.data,dataComponent:r.createElement(d.a,{onMouseOver:this.onGenePointMouseOver,onMouseOut:this.onGenePointMouseOut,fill:function(t){return t.hugoGeneSymbol in e.props.selectedGenesSet?"#FE9929":t.qValue<.05?"#58ACFA":"#D3D3D3"}})})),r.createElement(f.d,{getSvg:function(){return e.svgContainer},filename:"enrichments-volcano",dontFade:!0,type:"button",style:{position:"absolute",top:10,right:10,zIndex:0}})),r.createElement(o.Observer,null,this.getTooltip))}},{key:"totalLabelWidths",get:function(){return Object(f.P)(this.props.xAxisLeftLabel,"Arial","13px")+Object(f.P)(this.props.xAxisRightLabel,"Arial","13px")}},{key:"xAxisLeftLabel",get:function(){return this.totalLabelWidths>200?Object(f.gb)(this.props.xAxisLeftLabel,90,"Arial","13px"):this.props.xAxisLeftLabel}},{key:"xAxisRightLabel",get:function(){return this.totalLabelWidths>180?Object(f.gb)(this.props.xAxisRightLabel,90,"Arial","13px"):this.props.xAxisRightLabel}}])&&m(n.prototype,a),p&&m(n,p),t}();S([a.observable],w.prototype,"tooltipModel",void 0),S([a.observable],w.prototype,"svgContainer",void 0),S([p.a,a.action],w.prototype,"svgRef",null),S([p.a],w.prototype,"handleSelectionCleared",null),S([p.a,a.action],w.prototype,"onGenePointMouseOver",null),S([p.a,a.action],w.prototype,"onGenePointMouseOut",null),S([p.a],w.prototype,"getTooltip",null),S([p.a],w.prototype,"onClick",null),S([p.a],w.prototype,"onSelectionComponentRender",null),S([a.computed],w.prototype,"xAxisLeftLabel",null),S([a.computed],w.prototype,"xAxisRightLabel",null),w=S([o.observer],w),t.a=w},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).apply(this,arguments))}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.onRender,n=c(e,["onRender"]);return(n.width>5||n.height>5)&&t(),r.createElement("rect",n)}}])&&i(n.prototype,o),u&&i(n,u),t}()},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(25);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMouseOver",value:function(e){e.target.setAttribute("r",10),this.props.onMouseOver(this.props.datum,this.props.x,this.props.y)}},{key:"onMouseOut",value:function(e){e.target.setAttribute("r",3),this.props.onMouseOut()}},{key:"render",value:function(){return r.createElement("circle",{cx:this.props.x,cy:this.props.y,r:"3",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,style:Object.assign({},this.props.style,{fill:this.props.fill(this.props.datum)})})}}])&&a(n.prototype,o),i&&a(n,i),t}();p([i.a],h.prototype,"onMouseOver",null),p([i.a],h.prototype,"onMouseOut",null),h=p([o.observer],h),t.a=h},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(92),a=n(25),s=n(167),l=n(4),c=n(624);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,h(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"onAddGenes",value:function(){var e,t,n;window.routingStore.updateRoute((e={},t=c.a.gene_list,n="".concat(window.routingStore.query[c.a.gene_list],"\n").concat(this.props.checkedGenes.join(" ")),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),"results/".concat(s.a.ONCOPRINT))}},{key:"render",value:function(){var e=this.props.checkedGenes.length>0?"(".concat(this.props.checkedGenes.join(", "),")"):"(none checked)";return r.createElement("div",{style:{marginBottom:15}},r.createElement(l.c,{overlay:"Check genes in table below"},r.createElement(i.Button,{style:{marginBottom:2},disabled:this.props.checkedGenes.length<1,onClick:this.onAddGenes,bsSize:"xsmall"},"Add checked genes to query ",e)))}}])&&u(n.prototype,o),a&&u(n,a),t}();m([a.a],y.prototype,"onAddGenes",null),y=m([o.observer],y),t.a=y},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(573);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=i(this,a(t).call(this,e))).setHighlighted=r,o.dataHighlighter=function(e){var t=n();return!(!t||e.entrezGeneId!==t.entrezGeneId)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},,,,function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(7),s=n(554),l=n(585),c=n(16);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getTextValue",value:function(t){return e.getData(t)||""}},{key:"getData",value:function(e){return e.length>0?e[0].sampleId:null}},{key:"renderFunction",value:function(t,n){var o=e.getTextValue(t),i=r.createElement(l.a,{text:o,tooltip:r.createElement("div",{style:{maxWidth:300}},o),maxLength:16});if(n){var a=n[t[0].molecularProfileId],s=a&&a.studyId;s&&(i=r.createElement("a",{href:Object(c.w)(s,o),target:"_blank"},i))}return i}}],(n=null)&&u(t.prototype,n),o&&u(t,o),e}(),h=n(672),d=n(4);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t){var n=e.getSortValue(t);if(n){var o=t[0].normalAltCount,i=t[0].normalRefCount;return h.a.mainContent(n,o,i)}return r.createElement(d.t,{status:d.s.NA})}},{key:"getTextValue",value:function(t){var n=e.getSortValue(t);return n?Object(h.b)(n):""}},{key:"getSortValue",value:function(e){var t=e[0];if(!t)return null;var n=t.normalAltCount,r=t.normalRefCount;return n<0||r<0?null:n/(n+r)}}],(n=null)&&f(t.prototype,n),o&&f(t,o),e}(),y=n(755),g=(n(562),n(737)),v=n(756),b=n(557);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n,o){var i=e.getMutSigQValue(t,n),a=e.getVariantCountData(t,o),s=e.makeCohortFrequencyViz(a);return r.createElement("div",null,null!==s&&s,null!==i&&e.makeMutSigIcon(i))}},{key:"getSortValue",value:function(t,n){var r=e.getVariantCountData(t,n);return r&&r.data?r.data.numberOfSamplesWithMutationInGene:null}},{key:"getVariantCountData",value:function(e,t){if(0===e.length)return null;var n=e[0].entrezGeneId,r=e[0].keyword,o=t.get({entrezGeneId:n,keyword:r});return o?Object.assign({hugoGeneSymbol:e[0].gene.hugoGeneSymbol},o):null}},{key:"getMutSigQValue",value:function(e,t){if(!t||0===e.length)return null;var n=t[e[0].entrezGeneId];return n?n.qValue:null}},{key:"makeCohortFrequencyViz",value:function(t){var n=null;if(null===t)n=d.s.LOADING;else if("error"===t.status)n=d.s.ERROR;else{if(null!==t.data){var o=[t.data.numberOfSamplesWithMutationInGene];return t.data.keyword&&o.push(t.data.numberOfSamplesWithKeyword),r.createElement(g.a,{counts:o,totalCount:t.data.numberOfSamples,tooltip:e.getCohortFrequencyTooltip(t)})}n=d.s.NA}if(null!==n)return r.createElement(d.t,{status:n})}},{key:"makeMutSigIcon",value:function(t){return r.createElement(v.a,{text:"M",tooltip:function(){return e.getMutSigTooltip(t)}})}},{key:"getBoldPercentage",value:function(e){return r.createElement("b",null,Object(b.c)(e))}},{key:"getCohortFrequencyTooltip",value:function(t){return null===t?r.createElement("span",null,"Querying server for data."):"error"===t.status?r.createElement("span",null,"Error retrieving data."):null===t.data?r.createElement("span",null,"Count data is not available for this gene."):r.createElement("div",null,r.createElement("span",null,t.data.numberOfSamplesWithMutationInGene," ","samples (",e.getBoldPercentage(t.data.numberOfSamplesWithMutationInGene/t.data.numberOfSamples),") in this study have mutated"," ",t.hugoGeneSymbol,void 0!==t.data.keyword&&r.createElement("span",null,", out of which"," ",t.data.numberOfSamplesWithKeyword," (",e.getBoldPercentage(t.data.numberOfSamplesWithKeyword/t.data.numberOfSamples),") have ",t.data.keyword," mutations"),"."))}},{key:"getMutSigTooltip",value:function(e){return r.createElement("div",null,r.createElement("b",null,"MutSig"),r.createElement("br",null),r.createElement("span",null," Q-value: ",(e||0).toExponential(3)))}}],(n=null)&&S(t.prototype,n),o&&S(t,o),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n,o){var i=e.getData(t,n,o);return r.createElement(d.c,{placement:"left",overlay:e.getTooltipContents(i),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e.getTdContents(i))}},{key:"getTextValue",value:function(t,n,r){var o=e.getTdValue(e.getData(t,n,r));return null!==o?e.altToFilterString[o]:""}},{key:"getSortValue",value:function(t,n,r){return e.getTdValue(e.getData(t,n,r))}},{key:"filter",value:function(t,n,r,o){var i=e.getData(t,n,r);return!(!i||!i.data)&&(!!e.altToFilterString[i.data.alteration]&&e.altToFilterString[i.data.alteration].indexOf(o.toLowerCase())>-1)}},{key:"getData",value:function(e,t,n){if(!e||0===e.length||!n.isActive)return null;var r=e[0].sampleId,o=e[0].entrezGeneId,i=t[e[0].molecularProfileId];return i?n.get({sampleId:r,entrezGeneId:o,studyId:i.studyId}):null}},{key:"getTdValue",value:function(e){return null!==e&&"complete"===e.status&&null!==e.data?e.data.alteration:null}},{key:"getTdContents",value:function(e){var t=null;if(null!==e&&"complete"===e.status&&null!==e.data){var n=e.data.alteration;return 2===n?r.createElement("span",{style:{color:"red",textAlign:"center",fontSize:"12px"}},r.createElement("b",null,"Amp")):1===n?r.createElement("span",{style:{color:"red",textAlign:"center",fontSize:"smaller"}},r.createElement("b",null,"Gain")):0===n?r.createElement("span",{style:{color:"black",textAlign:"center",fontSize:"xx-small"}},"Diploid"):-1===n?r.createElement("span",{style:{color:"blue",textAlign:"center",fontSize:"smaller"}},r.createElement("b",null,"ShallowDel")):r.createElement("span",{style:{color:"blue",textAlign:"center",fontSize:"12px"}},r.createElement("b",null,"DeepDel"))}if(null!==(t=e&&"complete"===e.status&&null===e.data?d.s.NA:e&&"error"===e.status?d.s.ERROR:d.s.NA))return r.createElement(d.t,{status:t,naAlt:"CNA data is not available for this gene."})}},{key:"getTooltipContents",value:function(e){return e&&"complete"===e.status&&null!==e.data?r.createElement("div",null,r.createElement("span",null,{"-2":"Deep deletion","-1":"Shallow deletion",0:"Diploid / normal",1:"Low-level gain",2:"High-level amplification"}[e.data.alteration])):e&&"complete"===e.status&&null===e.data?r.createElement("span",null,"CNA data is not available for this gene."):e&&"error"===e.status?r.createElement("span",null,"Error retrieving data."):r.createElement("span",null,"Querying server for data.")}},{key:"isVisible",value:function(e){return e&&e.isActive}}],(n=null)&&C(t.prototype,n),o&&C(t,o),e}();_.altToFilterString={2:"amp",1:"gain",0:"diploid","-1":"shallowdel","-2":"deepdel"};var k=n(757);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getTextValue",value:function(t){return e.getData(t)||""}},{key:"getDisplayValue",value:function(t){return e.getTextValue(t)}},{key:"getData",value:function(e){return e.length>0?e[0].gene.hugoGeneSymbol:null}},{key:"getSortValue",value:function(t){return e.getTextValue(t)}},{key:"renderFunction",value:function(t){var n=e.getDisplayValue(t);return r.createElement("span",{"data-test":"mutation-table-gene-column"},n)}}],(n=null)&&T(t.prototype,n),o&&T(t,o),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getSortValue",value:function(t){var n=e.getData(t);return n?e.extractSortValue(n):null}},{key:"extractSortValue",value:function(e){var t=e.match(/[0-9]+/g),n=-1;return t?n=parseInt(t[0]):e.toLowerCase().indexOf("x")>-1?n=23:e.toLowerCase().indexOf("y")>-1&&(n=24),n}},{key:"getData",value:function(e){return e.length>0?e[0].chr:null}}],(n=null)&&E(t.prototype,n),r&&E(t,r),e}(),O=n(781),P=n.n(O);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getData",value:function(e){var t=null;return e.length>0&&(t=e[0].mutationStatus),t}},{key:"sortValue",value:function(t){return e.getData(t)}},{key:"download",value:function(t){return e.getData(t)||""}},{key:"renderFunction",value:function(t){var n,o=e.getData(t),i=!1;return o?o.toLowerCase().indexOf("somatic")>-1?(n=r.createElement("span",{className:P.a.somatic},"S"),i=!0):o.toLowerCase().indexOf("germline")>-1?(n=r.createElement("span",{className:P.a.germline},"G"),i=!0):n=r.createElement("span",{className:P.a.unknown},o):n=r.createElement("span",null),i&&(n=r.createElement(d.c,{overlay:r.createElement("span",null,o),placement:"right"},n)),n}}],(n=null)&&I(t.prototype,n),o&&I(t,o),e}(),D=n(782),L=n.n(D);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getSortValue",value:function(t){return Object(d.x)(e.getTextValue(t))}},{key:"getTextValue",value:function(t){var n="",r=e.getData(t);return r&&(n=r.toString()),n}},{key:"getFilterValue",value:function(t,n,r){var o=e.getDisplayValue(t),i=M.getData(t);return i&&i.toLowerCase().includes("germline")&&(o="".concat(o).concat(i)),o.toUpperCase().indexOf(r)>-1}},{key:"getDisplayValue",value:function(t){return e.getTextValue(t)}},{key:"getData",value:function(e){return e.length>0?e[0].proteinChange:null}},{key:"renderPlainText",value:function(t){var n=e.getDisplayValue(t);return r.createElement("span",null,n)}},{key:"renderWithMutationStatus",value:function(t){var n=e.getDisplayValue(t),o=M.getData(t),i=r.createElement(l.a,{text:n,tooltip:r.createElement("span",null,n),className:L.a.proteinChange,maxLength:40});return o&&o.toLowerCase().indexOf("germline")>-1&&(i=r.createElement("span",null,i,r.createElement("span",{className:L.a.germline},"Germline"))),i}}],(n=null)&&N(t.prototype,n),o&&N(t,o),e}(),j=n(783),F=n.n(j);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getDisplayValue",value:function(t){var n=e.getMapEntry(t);return n&&n.label?n.label:e.getTextValue(t)}},{key:"getTextValue",value:function(t){var n="",r=e.getData(t);return r&&(n=r.toString()),n}},{key:"getClassName",value:function(t){var n=e.getMapEntry(t);return n&&n.className?n.className:e.MAIN_MUTATION_TYPE_MAP.other.className}},{key:"getMapEntry",value:function(t){var n=e.getData(t);return n?e.MAIN_MUTATION_TYPE_MAP[Object(d.F)(n)]:void 0}},{key:"getData",value:function(e){return e.length>0?e[0].mutationType:null}},{key:"renderFunction",value:function(t){var n=e.getDisplayValue(t),o=e.getClassName(t),i=e.getTextValue(t),a=r.createElement("span",{className:F.a[o]},n);if(i.toLowerCase()!==n.toLowerCase()){var s=r.createElement("div",{className:"rc-tooltip-arrow-inner"});a=r.createElement(d.c,{overlay:r.createElement("span",null,i),placement:"left",arrowContent:s},a)}return a}},{key:"MAIN_MUTATION_TYPE_MAP",get:function(){return{missense:{label:"Missense",longName:"Missense",className:"missense-mutation",mainType:"missense",priority:1},inframe:{label:"IF",longName:"In-frame",className:"inframe-mutation",mainType:"inframe",priority:2},truncating:{label:"Truncating",longName:"Truncating",className:"trunc-mutation",mainType:"truncating",priority:4},nonsense:{label:"Nonsense",longName:"Nonsense",className:"trunc-mutation",mainType:"truncating",priority:6},nonstop:{label:"Nonstop",longName:"Nonstop",className:"trunc-mutation",mainType:"truncating",priority:7},nonstart:{label:"Nonstart",longName:"Nonstart",className:"trunc-mutation",mainType:"truncating",priority:8},frameshift:{label:"FS",longName:"Frame Shift",className:"trunc-mutation",mainType:"truncating",priority:4},frame_shift_del:{label:"FS del",longName:"Frame Shift Deletion",className:"trunc-mutation",mainType:"truncating",priority:4},frame_shift_ins:{label:"FS ins",longName:"Frame Shift Insertion",className:"trunc-mutation",mainType:"truncating",priority:5},in_frame_ins:{label:"IF ins",longName:"In-frame Insertion",className:"inframe-mutation",mainType:"inframe",priority:3},in_frame_del:{label:"IF del",longName:"In-frame Deletion",className:"inframe-mutation",mainType:"inframe",priority:2},splice_site:{label:"Splice",longName:"Splice site",className:"trunc-mutation",mainType:"truncating",priority:9},fusion:{label:"Fusion",longName:"Fusion",className:"fusion",mainType:"other",priority:10},silent:{label:"Silent",longName:"Silent",className:"other-mutation",mainType:"other",priority:11},other:{label:"Other",longName:"Other",className:"other-mutation",mainType:"other",priority:11}}}}],(n=null)&&G(t.prototype,n),o&&G(t,o),e}(),z=n(575),V=n(28),H=n.n(V),U=n(593),q=n.n(U),W=n(784),K=n.n(W),$=n(724),Y=n.n($);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var ne=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Z(t).call(this,e))||"object"!==Q(o)&&"function"!=typeof o?J(r):o).tooltipContent=n.tooltipContent.bind(J(n)),n}var o,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,r["Component"]),o=t,a=[{key:"download",value:function(e){return e?"impact: ".concat(e.functionalImpact,", score: ").concat(e.functionalImpactScore):"NA"}},{key:"maLink",value:function(e){var t=null;return e&&0!==(t=e.replace("getma.org","mutationassessor.org/r3")).indexOf("http://")&&(t="http://".concat(t)),t}}],(i=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(q.a["annotation-item-text"])});if(this.props.mutationAssessor&&null!==this.props.mutationAssessor.functionalImpact){var t=this.props.mutationAssessor;e=r.createElement("span",{className:H()(q.a["annotation-item-text"],Y.a["ma-".concat(t.functionalImpact)])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var n=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(d.c,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:n,onPopupAlign:te,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){if(this.props.mutationAssessor){var e=this.props.mutationAssessor,o=t.maLink("http://mutationassessor.org/r3/?cm=var&p=".concat(e.uniprotId,"&var=").concat(e.variant)),i=t.maLink(e.msaLink),a=t.maLink(e.pdbLink),s=e.functionalImpact?r.createElement("div",null,r.createElement("table",{className:K.a["ma-tooltip-table"]},r.createElement("tr",null,r.createElement("td",null,"Source"),r.createElement("td",null,r.createElement("a",{href:"http://mutationassessor.org/r3"},"MutationAssessor"))),r.createElement("tr",null,r.createElement("td",null,"Impact"),r.createElement("td",null,r.createElement("span",{className:Y.a["ma-".concat(e.functionalImpact)]},e.functionalImpact))),(e.functionalImpactScore||0===e.functionalImpactScore)&&r.createElement("tr",null,r.createElement("td",null,"Score"),r.createElement("td",null,r.createElement("b",null,e.functionalImpactScore.toFixed(2)))))):null,l=o?r.createElement("div",{className:K.a["mutation-assessor-link"]},r.createElement("a",{href:o,target:"_blank"},r.createElement("img",{height:"15",width:"19",src:n(725),className:K.a["mutation-assessor-main-img"],alt:"Mutation Assessor"}),"Go to Mutation Assessor")):null,c=i?r.createElement("div",{className:K.a["mutation-assessor-link"]},r.createElement("a",{href:i,target:"_blank"},r.createElement("span",{className:"".concat(K.a["ma-icon"]," ").concat(K.a["ma-msa-icon"])},"msa"),"Multiple Sequence Alignment")):null,u=a?r.createElement("div",{className:K.a["mutation-assessor-link"]},r.createElement("a",{href:a,target:"_blank"},r.createElement("span",{className:"".concat(K.a["ma-icon"]," ").concat(K.a["ma-3d-icon"])},"3D"),"Mutation Assessor 3D View")):null;return r.createElement("span",null,s,c,u,l)}}}])&&X(o.prototype,i),a&&X(o,a),t}();ne.MUTATION_ASSESSOR_URL="http://mutationassessor.org/r3/";var re=n(726),oe=n.n(re);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var pe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=se(t).call(this,e))||"object"!==ie(o)&&"function"!=typeof o?le(r):o).tooltipContent=n.tooltipContent.bind(le(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,i=[{key:"download",value:function(e,t){return e||t?"impact: ".concat(t,", score: ").concat(e):"NA"}}],(o=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(q.a["annotation-item-text"])});if(this.props.siftPrediction&&this.props.siftPrediction.length>0){e=r.createElement("span",{className:H()(q.a["annotation-item-text"],oe.a["sift-".concat(this.props.siftPrediction)])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(d.c,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:t,onPopupAlign:ue,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.siftPrediction?r.createElement("div",null,r.createElement("table",{className:oe.a["sift-tooltip-table"]},r.createElement("tr",null,r.createElement("td",null,"Source"),r.createElement("td",null,r.createElement("a",{href:"http://sift.bii.a-star.edu.sg/"},"SIFT"))),r.createElement("tr",null,r.createElement("td",null,"Impact"),r.createElement("td",null,r.createElement("span",{className:oe.a["sift-".concat(this.props.siftPrediction)]},this.props.siftPrediction))),(this.props.siftScore||0===this.props.siftScore)&&r.createElement("tr",null,r.createElement("td",null,"Score"),r.createElement("td",null,r.createElement("b",null,this.props.siftScore.toFixed(2)))))):null;return r.createElement("span",null,e)}}])&&ae(n.prototype,o),i&&ae(n,i),t}();pe.SIFT_URL="http://sift.bii.a-star.edu.sg/";var he=n(727),de=n.n(he);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var Se,we=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ye(t).call(this,e))||"object"!==fe(o)&&"function"!=typeof o?ge(r):o).tooltipContent=n.tooltipContent.bind(ge(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,r["Component"]),n=t,i=[{key:"download",value:function(e,t){return e||t?"impact: ".concat(t,", score: ").concat(e):"NA"}}],(o=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(q.a["annotation-item-text"])});if(this.props.polyPhenPrediction&&this.props.polyPhenPrediction.length>0){e=r.createElement("span",{className:H()(q.a["annotation-item-text"],de.a["polyPhen2-".concat(this.props.polyPhenPrediction)])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(d.c,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:t,onPopupAlign:be,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.polyPhenPrediction?r.createElement("div",null,r.createElement("table",{className:de.a["polyPhen2-tooltip-table"]},r.createElement("tr",null,r.createElement("td",null,"Source"),r.createElement("td",null,r.createElement("a",{href:"http://genetics.bwh.harvard.edu/pph2/"},"PolyPhen-2"))),r.createElement("tr",null,r.createElement("td",null,"Impact"),r.createElement("td",null,r.createElement("span",{className:de.a["polyPhen2-".concat(this.props.polyPhenPrediction)]},this.props.polyPhenPrediction))),(this.props.polyPhenScore||0===this.props.polyPhenScore)&&r.createElement("tr",null,r.createElement("td",null,"Score"),r.createElement("td",null,r.createElement("b",null,this.props.polyPhenScore.toFixed(2)))))):null;return r.createElement("span",null,e)}}])&&me(n.prototype,o),i&&me(n,i),t}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}function xe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}we.POLYPHEN2_URL="http://genetics.bwh.harvard.edu/pph2/",function(e){e[e.MUTATION_ASSESSOR=0]="MUTATION_ASSESSOR",e[e.SIFT=1]="SIFT",e[e.POLYPHEN2=2]="POLYPHEN2"}(Se||(Se={}));var Oe=function(e){function t(e){var n;return _e(this,t),(n=xe(this,Ee(t).call(this,e))).state={active:n.props.active},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["Component"]),Te(t,[{key:"legend",value:function(){var e=this;return r.createElement("div",null,r.createElement("table",{className:"table table-striped table-border-top"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Legend"),r.createElement("th",null,r.createElement("span",{style:{display:"inline-block",width:22},title:"SIFT",onMouseOver:function(){return e.setState({active:"sift"})}},r.createElement("img",{height:14,width:14,src:n(728),alt:"SIFT"}))),r.createElement("th",null,r.createElement("span",{style:{display:"inline-block",width:22},title:"PolyPhen-2",onMouseOver:function(){return e.setState({active:"polyPhen2"})}},r.createElement("img",{height:14,width:14,src:n(729),alt:"PolyPhen-2"}))))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:H()(q.a["annotation-item-text"],Y.a["ma-high"])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),r.createElement("td",{className:oe.a["sift-deleterious"]},"deleterious"),r.createElement("td",{className:de.a["polyPhen2-probably_damaging"]},"probably_damaging")),r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:H()(q.a["annotation-item-text"],Y.a["ma-low"])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),r.createElement("td",{className:oe.a["sift-deleterious_low_confidence"]},"deleterious_low_confidence"),r.createElement("td",{className:de.a["polyPhen2-possibly_damaging"]},"possibly_damaging")),r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:H()(q.a["annotation-item-text"],Y.a["ma-neutral"])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),r.createElement("td",{className:oe.a["sift-tolerated_low_confidence"]},"tolerated_low_confidence"),r.createElement("td",{className:de.a["polyPhen2-benign"]},"benign")),r.createElement("tr",null,r.createElement("td",null),r.createElement("td",{className:oe.a["sift-tolerated"]},"tolerated"),r.createElement("td",null,"-")))))}},{key:"render",value:function(){return r.createElement("div",null,"mutationAssessor"===this.state.active&&t.mutationAssessorText(),"sift"===this.state.active&&t.siftText(),"polyPhen2"===this.state.active&&t.polyPhen2Text(),this.legend())}}],[{key:"mutationAssessorText",value:function(){return r.createElement("div",{style:{width:450,height:100}},r.createElement("a",{href:ne.MUTATION_ASSESSOR_URL,target:"_blank"},"Mutation Assessor")," ","predicts the functional impact of amino-acid substitutions in proteins, such as mutations discovered in cancer or missense polymorphisms. The functional impact is assessed based on evolutionary conservation of the affected amino acid in protein homologs. The method has been validated on a large set (60k) of disease associated (OMIM) and polymorphic variants.")}},{key:"siftText",value:function(){return r.createElement("div",{style:{width:450,height:100}},r.createElement("a",{href:pe.SIFT_URL,target:"_blank"},"SIFT")," ","predicts whether an amino acid substitution affects protein function based on sequence homology and the physical properties of amino acids. SIFT can be applied to naturally occurring nonsynonymous polymorphisms and laboratory-induced missense mutations.")}},{key:"polyPhen2Text",value:function(){return r.createElement("div",{style:{width:450,height:100}},r.createElement("a",{href:we.POLYPHEN2_URL,target:"_blank"},"PolyPhen-2")," ","(Polymorphism Phenotyping v2) is a tool which predicts possible impact of an amino acid substitution on the structure and function of a human protein using straightforward physical and comparative considerations.")}}]),t}();function Pe(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var Ie=function(){function e(){_e(this,e)}return Te(e,null,[{key:"headerRender",value:function(e){var t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});return r.createElement("div",null,e,r.createElement("br",null),r.createElement("div",{style:{height:14}},r.createElement(d.c,{overlay:r.createElement(Oe,{active:"mutationAssessor"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:Pe},r.createElement("span",{style:{display:"inline-block",width:22}},r.createElement("img",{height:14,width:14,src:n(725),alt:"Sift"}))),r.createElement(d.c,{overlay:r.createElement(Oe,{active:"sift"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:Pe},r.createElement("span",{style:{display:"inline-block",width:22}},r.createElement("img",{height:14,width:14,src:n(728),alt:"SIFT"}))),r.createElement(d.c,{overlay:r.createElement(Oe,{active:"polyPhen2"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:Pe},r.createElement("span",{style:{display:"inline-block",width:22}},r.createElement("img",{height:14,width:14,src:n(729),alt:"PolyPhen-2"})))))}},{key:"getData",value:function(t,n,r){var o=e.getDataFromCache(t,n),i=e.getDataFromCache(t,r),a=o?this.getSiftData(o.data):void 0,s=o?this.getPolyphenData(o.data):void 0;return{mutationAssessor:i?this.getMutationAssessorData(i.data):void 0,siftScore:a&&a.siftScore,siftPrediction:a&&a.siftPrediction,polyPhenScore:s&&s.polyPhenScore,polyPhenPrediction:s&&s.polyPhenPrediction}}},{key:"getSiftData",value:function(e){return{siftScore:e&&e.transcript_consequences[0]?e.transcript_consequences[0].sift_score:void 0,siftPrediction:e?e.transcript_consequences[0].sift_prediction:void 0}}},{key:"getPolyphenData",value:function(e){return{polyPhenScore:e?e.transcript_consequences[0].polyphen_score:void 0,polyPhenPrediction:e?e.transcript_consequences[0].polyphen_prediction:void 0}}},{key:"getMutationAssessorData",value:function(e){return e&&e.mutation_assessor?e.mutation_assessor.annotation:void 0}},{key:"renderFunction",value:function(t,n,o){var i=e.getDataFromCache(t,n),a=e.getDataFromCache(t,o);return r.createElement("div",null,e.makeFunctionalImpactViz(a,Se.MUTATION_ASSESSOR),e.makeFunctionalImpactViz(i,Se.SIFT),e.makeFunctionalImpactViz(i,Se.POLYPHEN2))}},{key:"download",value:function(t,n,r){if(n||r){var o=e.getData(t,n,r);if(o)return["MutationAssessor: ".concat(ne.download(o.mutationAssessor)),"SIFT: ".concat(pe.download(o.siftScore,o.siftPrediction)),"Polyphen-2: ".concat(we.download(o.polyPhenScore,o.polyPhenPrediction))].join(";")}return""}},{key:"getDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"makeFunctionalImpactViz",value:function(t,n){var o=null;if(null===t)o=d.s.LOADING;else if("error"===t.status)o=d.s.ERROR;else if(null===t.data)o=d.s.NA;else{var i;switch(n){case Se.MUTATION_ASSESSOR:return i=e.getMutationAssessorData(t.data),r.createElement(ne,{mutationAssessor:i});case Se.SIFT:return i=e.getSiftData(t.data),r.createElement(pe,{siftScore:i.siftScore,siftPrediction:i.siftPrediction});case Se.POLYPHEN2:return i=e.getPolyphenData(t.data),r.createElement(we,{polyPhenScore:i.polyPhenScore,polyPhenPrediction:i.polyPhenPrediction})}}if(null!==o)return o===d.s.LOADING?r.createElement(z.Circle,{size:22,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-left"}):r.createElement(d.t,{status:o})}}]),e}();function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(){return Le(this,t),Ne(this,Re(t).apply(this,arguments))}return je(t,s["b"]),t}(),Be=function(e){function t(e){var n;return Le(this,t),(n=Ne(this,Re(t).call(this,e))).state={},n}var n,o,i;return je(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,n=e.data,o=e.columns,i=e.initialSortColumn,a=e.initialSortDirection,s=e.initialItemsPerPage,l=n.length>(this.props.initialItemsPerPage||t.defaultProps.initialItemsPerPage);return r.createElement("div",{className:"cbioportal-frontend"},r.createElement(Ge,{data:n,columns:o||t.defaultProps.columns,initialSortColumn:i,initialSortDirection:a,initialItemsPerPage:s,showCopyDownload:!1,showColumnVisibility:!1,showFilter:!1,showPagination:l,showPaginationAtTop:!0,paginationProps:{showMoreButton:!1}}))}}])&&Me(n.prototype,o),i&&Me(n,i),t}();Be.defaultProps={data:[],columns:[{name:"COSMIC ID",order:1,render:function(e){return r.createElement("span",null,r.createElement("a",{href:"http://cancer.sanger.ac.uk/cosmic/mutation/overview?id=".concat(e.cosmicMutationId),target:"_blank"},e.cosmicMutationId))},sortBy:function(e){return e.cosmicMutationId}},{name:"Protein Change",order:2,render:function(e){return r.createElement("span",null,e.proteinChange)},sortBy:function(e){return Object(d.x)(e.proteinChange)}},{name:"Occurrence",order:3,render:function(e){return r.createElement("span",null,e.count)},sortBy:function(e){return e.count}}],initialSortColumn:"Occurrence",initialSortDirection:"desc",initialItemsPerPage:10};var ze=n(785),Ve=n.n(ze),He=n(609),Ue=n.n(He);function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getData",value:function(t,n){var r=null;if(t&&n){var o=t[0],i=n[o.keyword];if(i){var a=e.extractPosition(o.proteinChange);r=i.filter(function(t){var n=e.extractPosition(t.proteinChange);return a&&n&&a===n})}}return r}},{key:"extractPosition",value:function(e){var t=Object(d.L)(e);return t?t.start:null}},{key:"getSortValue",value:function(t,n){var r=e.getData(t,n),o=null;return r&&(o=r.length>0?a.reduce(a.map(r,"count"),function(e,t){return e+t},0):0),0===o&&(o=null),o}},{key:"getDownloadValue",value:function(t,n){var r=e.getSortValue(t,n);return r?"".concat(r):""}},{key:"renderFunction",value:function(t,n){var o,i=e.getData(t,n),s=-1,l="",c=null;return i&&i.length>0&&(c=function(){return r.createElement("span",{className:Ve.a["cosmic-table"]},r.createElement("b",null,s)," occurrences of ",r.createElement("b",null,i[0].keyword)," ","mutations in COSMIC",r.createElement(Be,{data:i}))},l=(s=a.reduce(a.map(i,"count"),function(e,t){return e+t},0)).toString()),o=r.createElement("div",{className:Ue.a["integer-data"]},l),c&&(o=r.createElement(d.c,{overlay:c,placement:"topLeft",onPopupAlign:We,trigger:["hover","focus"],destroyTooltipOnHide:!0},o)),o}}],(n=null)&&qe(t.prototype,n),o&&qe(t,o),e}(),$e=n(738);function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"makeRenderFunction",value:function(e){return Object($e.a)(function(t){var n=e.props.mutationCountCache;return n?n.get({sampleId:t[0].sampleId,studyId:t[0].studyId}):{status:"error",data:null}},function(e){return r.createElement("div",{className:Ue.a["integer-data"]},e.value)},"Mutation count not available for this sample.")}},{key:"sortBy",value:function(e,t){var n=null;if(t){var r=t.get({sampleId:e[0].sampleId,studyId:e[0].studyId});n=r&&r.data?parseInt(r.data.value):null}else n=null;return n}},{key:"download",value:function(t,n){var r=e.sortBy(t,n);return r?"".concat(r):""}}],(n=null)&&Ye(t.prototype,n),o&&Ye(t,o),e}(),Xe=n(739),Ze=n(786),Je=n.n(Ze);function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getData",value:function(e){var t=null;return e.length>0&&(t=e[0].validationStatus),t}},{key:"sortValue",value:function(t){return e.getData(t)}},{key:"download",value:function(t){return e.getData(t)||""}},{key:"renderFunction",value:function(t){var n,o=e.getData(t),i=!1;if(o){var a=e.VALIDATION_STATUS_FORMAT[o.toLowerCase()];a?(n=r.createElement("span",{className:Je.a[a.className]},a.text),i=!0):n=r.createElement("span",{className:Je.a.other},o)}else n=r.createElement("span",null);return i&&(n=r.createElement(d.c,{overlay:r.createElement("span",null,o),placement:"right"},n)),n}},{key:"VALIDATION_STATUS_FORMAT",get:function(){var e={text:"U",className:"unknown",tooltip:"Unknown"},t={text:"V",className:"valid",tooltip:"Valid"};return{valid:t,validated:t,wildtype:{text:"W",className:"wildtype",tooltip:"Wildtype"},unknown:e,not_tested:e,"not tested":e,none:e,na:e,"n/a":e}}}],(n=null)&&et(t.prototype,n),o&&et(t,o),e}();function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getStudy",value:function(e,t,n){if(!t||!n)return null;var r=t[e[0].molecularProfileId];return r&&n[r.studyId]||null}},{key:"renderFunction",value:function(t,n,o){var i=e.getStudy(t,n,o);return i?r.createElement("a",{href:Object(c.z)(i.studyId),target:"_blank"},r.createElement(l.a,{text:i.name,tooltip:r.createElement("div",{style:{maxWidth:300},dangerouslySetInnerHTML:{__html:"".concat(i.name,": ").concat(i.description)}}),maxLength:16})):r.createElement("span",null)}},{key:"getTextValue",value:function(t,n,r){var o=e.getStudy(t,n,r);return o?o.name:""}},{key:"filter",value:function(t,n,r,o){var i=e.getStudy(t,r,o);return!!i&&i.name.toUpperCase().indexOf(n)>-1}}],(n=null)&&nt(t.prototype,n),o&&nt(t,o),e}(),ot=n(770),it=n(740);function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var st=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",null,r.createElement("span",null,e.getHgvscDataViz(o)))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getHgvscDataViz",value:function(t){var n=null;if(null===t)n=d.s.LOADING;else if("error"===t.status)n=d.s.ERROR;else{if(null!==t.data){var o=e.getData(t.data);return null==o?o:r.createElement("span",{style:{display:"inline-block",float:"right"}},o)}n=d.s.NA}if(null!==n)return n===d.s.LOADING?r.createElement(z.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(d.t,{status:n})}},{key:"getData",value:function(e){return e?e.annotation_summary.transcriptConsequenceSummary.hgvsc:null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n),o=r&&e.getData(r.data);return o||""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r){var o=e.getData(r.data);return null==o?null:parseInt(o.split("c.")[1])}return null}}],(n=null)&&at(t.prototype,n),o&&at(t,o),e}(),lt=n(552),ct=n(788),ut=n.n(ct);function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t){return e.getHgvsgDataViz(t[0])}},{key:"getHgvsgDataViz",value:function(t){var n=e.getData(t);if(n){var o=Object(c.c)(n);return r.createElement(d.c,{placement:"topLeft",overlay:r.createElement("div",null,n,r.createElement("br",null),"Click to see this variant on ",r.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},"Genome Nexus",r.createElement("div",{className:ut.a["genome-nexus-logo"]})))},r.createElement("span",{className:ut.a["hgvsg-data"]},r.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},n,"",r.createElement("i",{className:"fa fa-external-link"}))))}return r.createElement("span",null)}},{key:"getData",value:function(e){return Object(lt.f)(e)}},{key:"download",value:function(t){var n=e.getData(t[0]);return n||""}},{key:"getSortValue",value:function(t){return e.getData(t[0])}}],(n=null)&&pt(t.prototype,n),o&&pt(t,o),e}(),dt=n(553);function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("span",{"data-test":"gnomad-column","data-test2":t[0].sampleId},e.getGnomadDataViz(o))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getGnomadDataViz",value:function(e){var t=null;if(null==e)t=d.s.LOADING;else if("error"===e.status)t=d.s.ERROR;else{if(null!=e.data)return r.createElement(dt.g,{myVariantInfo:e&&e.data&&e.data.my_variant_info?e.data.my_variant_info.annotation:void 0,annotation:e&&e.data?e.data:void 0});t=d.s.NA}if(null!==t)return t===d.s.LOADING?r.createElement(z.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(d.t,{status:t})}},{key:"getData",value:function(e){return e?e.annotation:null}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);return r&&r.data&&r.data.my_variant_info?Object(dt.C)(r.data.my_variant_info.annotation):null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=e.getData(r.data.my_variant_info);if(o&&o.gnomadExome&&o.gnomadGenome)return Object(dt.s)(o.gnomadExome.alleleCount.ac+o.gnomadGenome.alleleCount.ac,o.gnomadExome.alleleNumber.an+o.gnomadGenome.alleleFrequency.af,null).toString();if(o&&o.gnomadExome)return Object(dt.s)(o.gnomadExome.alleleCount.ac,o.gnomadExome.alleleNumber.an,o.gnomadExome.alleleFrequency.af).toString();if(o&&o.gnomadGenome)return Object(dt.s)(o.gnomadGenome.alleleCount.ac,o.gnomadGenome.alleleNumber.an,o.gnomadGenome.alleleFrequency.af).toString()}return""}}],(n=null)&&ft(t.prototype,n),o&&ft(t,o),e}();function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",{"data-test":"clinvar-data",className:Ue.a["integer-data"]},e.getClinVarDataViz(o))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getClinVarDataViz",value:function(e){var t=null;if(null===e)t=d.s.LOADING;else if("error"===e.status)t=d.s.ERROR;else{if(null!==e.data)return r.createElement(dt.b,{myVariantInfo:e.data.my_variant_info?e.data.my_variant_info.annotation:void 0});t=d.s.NA}if(null!==t)return t===d.s.LOADING?r.createElement(z.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(d.t,{status:t})}},{key:"getData",value:function(e){return e?Object(dt.z)(e.annotation):null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=e.getData(r.data.my_variant_info);if(o)return o}return""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);return r&&r.data&&r.data.my_variant_info?Object(dt.t)(r.data.my_variant_info.annotation):null}}],(n=null)&&yt(t.prototype,n),o&&yt(t,o),e}(),vt=n(25);function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var St=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",{"data-test":"dbsnp-data"},e.getDbsnpViz(o))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getDbsnpViz",value:function(t){var n=null;if(null===t)n=d.s.LOADING;else if("error"===t.status)n=d.s.ERROR;else{if(null!==t.data){var o=e.getData(t.data.my_variant_info);if(null==o)return r.createElement(d.c,{placement:"topRight",overlay:r.createElement("span",null,"Variant has no dbSNP data.")},r.createElement("span",{style:{height:"100%",width:"100%",display:"block",overflow:"hidden"}},""));var i="https://www.ncbi.nlm.nih.gov/snp/"+o;return r.createElement(d.c,{placement:"top",overlay:r.createElement("span",null,"Click to see variant on dbSNP website.")},r.createElement("span",{style:{textAlign:"right",float:"right"}},r.createElement("a",{href:i,target:"_blank"},o)))}n=d.s.NA}if(null!==n)return n===d.s.LOADING?r.createElement(z.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(d.t,{status:n})}},{key:"getData",value:function(e){return e&&e.annotation&&e.annotation.dbsnp&&e.annotation.dbsnp.rsid?e.annotation.dbsnp.rsid:null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=r&&e.getData(r.data.my_variant_info);if(o)return o}return""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data&&r.data.my_variant_info){var o=e.getData(r.data.my_variant_info);if(null!==o)return o}return null}}],(n=null)&&bt(t.prototype,n),o&&bt(t,o),e}(),wt=n(570);function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return Ot});var Ot,Pt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":At(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.STUDY=0]="STUDY",e[e.SAMPLE_ID=1]="SAMPLE_ID",e[e.SAMPLES=2]="SAMPLES",e[e.GENE=3]="GENE",e[e.PROTEIN_CHANGE=4]="PROTEIN_CHANGE",e[e.CHROMOSOME=5]="CHROMOSOME",e[e.START_POS=6]="START_POS",e[e.END_POS=7]="END_POS",e[e.REF_ALLELE=8]="REF_ALLELE",e[e.VAR_ALLELE=9]="VAR_ALLELE",e[e.MUTATION_STATUS=10]="MUTATION_STATUS",e[e.VALIDATION_STATUS=11]="VALIDATION_STATUS",e[e.MUTATION_TYPE=12]="MUTATION_TYPE",e[e.CENTER=13]="CENTER",e[e.TUMOR_ALLELE_FREQ=14]="TUMOR_ALLELE_FREQ",e[e.NORMAL_ALLELE_FREQ=15]="NORMAL_ALLELE_FREQ",e[e.FUNCTIONAL_IMPACT=16]="FUNCTIONAL_IMPACT",e[e.ANNOTATION=17]="ANNOTATION",e[e.HGVSG=18]="HGVSG",e[e.COSMIC=19]="COSMIC",e[e.COPY_NUM=20]="COPY_NUM",e[e.MRNA_EXPR=21]="MRNA_EXPR",e[e.COHORT=22]="COHORT",e[e.REF_READS_N=23]="REF_READS_N",e[e.VAR_READS_N=24]="VAR_READS_N",e[e.REF_READS=25]="REF_READS",e[e.VAR_READS=26]="VAR_READS",e[e.CANCER_TYPE=27]="CANCER_TYPE",e[e.NUM_MUTATIONS=28]="NUM_MUTATIONS",e[e.EXON=29]="EXON",e[e.HGVSC=30]="HGVSC",e[e.GNOMAD=31]="GNOMAD",e[e.CLINVAR=32]="CLINVAR",e[e.SELECTED=33]="SELECTED",e[e.DBSNP=34]="DBSNP",e[e.GENE_PANEL=35]="GENE_PANEL"}(Ot||(Ot={}));var It=function(e){function t(){return _t(this,t),kt(this,Tt(t).apply(this,arguments))}return xt(t,s["b"]),t}();function Mt(e,t,n){var o=Dt(e,t);return r.createElement("div",{className:H()(n?Ue.a["integer-data"]:void 0)},o)}function Dt(e,t){var n="";return e.length>0&&e[0].hasOwnProperty(t)&&(n=e[0][t]),n}function Lt(e,t,n){return e.length>0&&e.reduce(function(e,r){var o=r[t];return o?e||o.toUpperCase().indexOf(n)>-1:e},!1)}var Nt=function(e){function t(e){var n;return _t(this,t),(n=kt(this,Tt(t).call(this,e))).table=null,n._columns={},n.generateColumns(),n}var n,o,i;return xt(t,r["Component"]),n=t,(o=[{key:"tableRef",value:function(e){this.table=e}},{key:"generateColumns",value:function(){var e=this;this._columns={},this._columns[Ot.STUDY]={name:"Study",render:function(t){return rt.renderFunction(t,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},download:function(t){return rt.getTextValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},sortBy:function(t){return rt.getTextValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},filter:function(t,n,r){return rt.filter(t,r,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},visible:!1},this._columns[Ot.SAMPLE_ID]={name:"Sample ID",render:function(t){return p.renderFunction(t,e.props.molecularProfileIdToMolecularProfile)},download:p.getTextValue,sortBy:p.getTextValue,filter:function(e,t,n){return Lt(e,"sampleId",n)},visible:!0},this._columns[Ot.TUMOR_ALLELE_FREQ]={name:"Allele Freq (T)",render:h.a.renderFunction,headerRender:function(e){return r.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},download:h.a.getTextValue,sortBy:h.a.getSortValue,tooltip:r.createElement("span",null,"Variant allele frequency in the tumor sample"),visible:!0},this._columns[Ot.NORMAL_ALLELE_FREQ]={name:"Allele Freq (N)",render:m.renderFunction,headerRender:function(e){return r.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},download:m.getTextValue,sortBy:m.getSortValue,tooltip:r.createElement("span",null,"Variant allele frequency in the normal sample"),visible:!1},this._columns[Ot.MRNA_EXPR]={name:"mRNA Expr.",render:function(t){return e.props.mrnaExprRankCache?y.a.renderFunction(t,e.props.mrnaExprRankCache):r.createElement("span",null)}},this._columns[Ot.COHORT]={name:"Cohort",render:function(t){return e.props.variantCountCache?w.renderFunction(t,e.props.mutSigData,e.props.variantCountCache):r.createElement("span",null)},sortBy:function(t){var n=e.props.variantCountCache;return n?w.getSortValue(t,n):0},tooltip:r.createElement("span",null,"Mutation frequency in cohort"),defaultSortDirection:"desc"},this._columns[Ot.COPY_NUM]={name:"Copy #",render:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?_.renderFunction(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):r.createElement("span",null)},sortBy:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?_.getSortValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):0},download:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?_.getTextValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):""},filter:function(t,n){return!(!e.props.discreteCNACache||!e.props.molecularProfileIdToMolecularProfile)&&_.filter(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache,n)},visible:_.isVisible(this.props.discreteCNACache)},this._columns[Ot.REF_READS_N]={name:"Ref Reads (Normal)",render:function(e){return k.a.renderFunction(e,[e[0].sampleId],"normalRefCount")},download:function(e){return k.a.getTextValue(e,[e[0].sampleId],"normalRefCount")},sortBy:function(e){return e.map(function(e){return e.normalRefCount})},visible:!1,align:"right"},this._columns[Ot.VAR_READS_N]={name:"Variant Reads (Normal)",render:function(e){return k.a.renderFunction(e,[e[0].sampleId],"normalAltCount")},download:function(e){return k.a.getTextValue(e,[e[0].sampleId],"normalAltCount")},sortBy:function(e){return e.map(function(e){return e.normalAltCount})},visible:!1,align:"right"},this._columns[Ot.REF_READS]={name:"Ref Reads",render:function(e){return k.a.renderFunction(e,[e[0].sampleId],"tumorRefCount")},download:function(e){return k.a.getTextValue(e,[e[0].sampleId],"tumorRefCount")},sortBy:function(e){return e.map(function(e){return e.tumorRefCount})},visible:!1,align:"right"},this._columns[Ot.VAR_READS]={name:"Variant Reads",render:function(e){return k.a.renderFunction(e,[e[0].sampleId],"tumorAltCount")},download:function(e){return k.a.getTextValue(e,[e[0].sampleId],"tumorAltCount")},sortBy:function(e){return e.map(function(e){return e.tumorAltCount})},visible:!1,align:"right"},this._columns[Ot.START_POS]={name:"Start Pos",render:function(e){return Mt(e,"startPosition",!0)},download:function(e){return Dt(e,"startPosition")},sortBy:function(e){return e.map(function(e){return e.startPosition})},visible:!1,align:"right"},this._columns[Ot.END_POS]={name:"End Pos",render:function(e){return Mt(e,"endPosition",!0)},download:function(e){return Dt(e,"endPosition")},sortBy:function(e){return e.map(function(e){return e.endPosition})},visible:!1,align:"right"},this._columns[Ot.REF_ALLELE]={name:"Ref",render:function(e){return Mt(e,"referenceAllele")},download:function(e){return Dt(e,"referenceAllele")},sortBy:function(e){return e.map(function(e){return e.referenceAllele})},visible:!1},this._columns[Ot.VAR_ALLELE]={name:"Var",render:function(e){return Mt(e,"variantAllele")},download:function(e){return Dt(e,"variantAllele")},sortBy:function(e){return e.map(function(e){return e.variantAllele})},visible:!1},this._columns[Ot.MUTATION_STATUS]={name:"MS",tooltip:r.createElement("span",null,"Mutation Status"),render:M.renderFunction,download:M.download,sortBy:M.sortValue,filter:function(e,t,n){return Lt(e,"mutationStatus",n)},visible:!1},this._columns[Ot.VALIDATION_STATUS]={name:"VS",tooltip:r.createElement("span",null,"Validation Status"),render:tt.renderFunction,download:tt.download,sortBy:tt.sortValue,filter:function(e,t,n){return Lt(e,"validationStatus",n)},visible:!1},this._columns[Ot.CENTER]={name:"Center",render:function(e){return Mt(e,"center")},download:function(e){return Dt(e,"center")},sortBy:function(e){return e.map(function(e){return e.center})},filter:function(e,t,n){return Lt(e,"center",n)},visible:!1},this._columns[Ot.GENE]={name:"Gene",render:function(e){return x.renderFunction(e)},download:function(e){return x.getTextValue(e)},sortBy:function(e){return x.getSortValue(e)},filter:function(e,t,n){return x.getTextValue(e).toUpperCase().indexOf(n)>-1}},this._columns[Ot.CHROMOSOME]={name:"Chromosome",render:function(e){return r.createElement("div",{className:Ue.a["integer-data"]},A.getData(e))},download:function(e){return A.getData(e)||""},sortBy:function(e){return A.getSortValue(e)},filter:function(e,t,n){return(A.getData(e)+"").toUpperCase().indexOf(n)>-1},visible:!1,align:"right"},this._columns[Ot.PROTEIN_CHANGE]={name:"Protein Change",render:R.renderWithMutationStatus,download:R.getTextValue,sortBy:function(e){return R.getSortValue(e)},filter:R.getFilterValue},this._columns[Ot.MUTATION_TYPE]={name:"Mutation Type",render:B.renderFunction,download:B.getTextValue,sortBy:function(e){return B.getDisplayValue(e)},filter:function(e,t,n){return B.getDisplayValue(e).toUpperCase().indexOf(n)>-1}},this._columns[Ot.FUNCTIONAL_IMPACT]={name:"Functional Impact",render:function(t){return e.props.genomeNexusCache||e.props.genomeNexusMutationAssessorCache?Ie.renderFunction(t,e.props.genomeNexusCache,e.props.genomeNexusMutationAssessorCache):r.createElement("span",null)},download:function(t){return Ie.download(t,e.props.genomeNexusCache,e.props.genomeNexusMutationAssessorCache)},headerRender:Ie.headerRender,visible:!1,shouldExclude:function(){return!e.props.enableFunctionalImpact}},this._columns[Ot.COSMIC]={name:"COSMIC",render:function(t){return Ke.renderFunction(t,e.props.cosmicData)},sortBy:function(t){return Ke.getSortValue(t,e.props.cosmicData)},download:function(t){return Ke.getDownloadValue(t,e.props.cosmicData)},tooltip:r.createElement("span",null,"COSMIC occurrences"),defaultSortDirection:"desc",align:"right"},this._columns[Ot.ANNOTATION]={name:"Annotation",render:function(t){return ot.a.renderFunction(t,{hotspotData:e.props.hotspotData,myCancerGenomeData:e.props.myCancerGenomeData,oncoKbData:e.props.oncoKbData,oncoKbEvidenceCache:e.props.oncoKbEvidenceCache,oncoKbCancerGenes:e.props.oncoKbCancerGenes,pubMedCache:e.props.pubMedCache,civicGenes:e.props.civicGenes,civicVariants:e.props.civicVariants,enableCivic:e.props.enableCivic,enableOncoKb:e.props.enableOncoKb,enableMyCancerGenome:e.props.enableMyCancerGenome,enableHotspot:e.props.enableHotspot,userEmailAddress:e.props.userEmailAddress,studyIdToStudy:e.props.studyIdToStudy})},filter:function(t,n,r){var o=!1;switch(r){case"HOTSPOT":o=ot.a.getData(t,e.props.oncoKbCancerGenes,e.props.hotspotData,e.props.myCancerGenomeData,e.props.oncoKbData,e.props.civicGenes,e.props.civicVariants,e.props.studyIdToStudy).isHotspot;break;case"ONCOGENIC":if(e.props.oncoKbData&&e.props.oncoKbData.result&&!(e.props.oncoKbData.result instanceof Error)&&e.props.oncoKbData.result.indicatorMap){var i=Object(wt.e)(t[0],e.props.oncoKbData.result);if(i){var a=e.props.oncoKbData.result.indicatorMap[i.id];a&&(o=a.oncogenic.toLowerCase().trim().includes("oncogenic"))}}}return o},download:function(t){return ot.a.download(t,e.props.oncoKbCancerGenes,e.props.hotspotData,e.props.myCancerGenomeData,e.props.oncoKbData,e.props.civicGenes,e.props.civicVariants)},sortBy:function(t){return ot.a.sortValue(t,e.props.oncoKbCancerGenes,e.props.hotspotData,e.props.myCancerGenomeData,e.props.oncoKbData,e.props.civicGenes,e.props.civicVariants)}},this._columns[Ot.HGVSG]={name:"HGVSg",render:function(e){return ht.renderFunction(e)},download:function(e){return ht.download(e)},sortBy:function(e){return ht.getSortValue(e)},visible:!1,align:"left"},this._columns[Ot.CANCER_TYPE]={name:"Cancer Type",render:function(t){return Xe.a.render(t,e.props.uniqueSampleKeyToTumorType)},download:function(t){return Xe.a.download(t,e.props.uniqueSampleKeyToTumorType)},sortBy:function(t){return Xe.a.sortBy(t,e.props.uniqueSampleKeyToTumorType)},filter:function(t,n,r){return Xe.a.filter(t,r,e.props.uniqueSampleKeyToTumorType)},tooltip:r.createElement("span",null,"Cancer Type")},this._columns[Ot.NUM_MUTATIONS]={name:"# Mut in Sample",render:Qe.makeRenderFunction(this),headerRender:function(e){return r.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},sortBy:function(t){return Qe.sortBy(t,e.props.mutationCountCache)},download:function(t){return Qe.download(t,e.props.mutationCountCache)},tooltip:r.createElement("span",null,"Total number of nonsynonymous mutations in the sample"),align:"right"},this._columns[Ot.EXON]={name:"Exon",render:function(t){return e.props.genomeNexusCache?it.a.renderFunction(t,e.props.genomeNexusCache):r.createElement("span",null)},download:function(t){return it.a.download(t,e.props.genomeNexusCache)},sortBy:function(t){return it.a.getSortValue(t,e.props.genomeNexusCache)},visible:!1,align:"right"},this._columns[Ot.HGVSC]={name:"HGVSc",render:function(t){return e.props.genomeNexusCache?st.renderFunction(t,e.props.genomeNexusCache):r.createElement("span",null)},download:function(t){return st.download(t,e.props.genomeNexusCache)},sortBy:function(t){return st.getSortValue(t,e.props.genomeNexusCache)},visible:!1,align:"right"},this._columns[Ot.GNOMAD]={name:"gnomAD",render:function(t){return mt.renderFunction(t,e.props.genomeNexusMyVariantInfoCache)},sortBy:function(t){return mt.getSortValue(t,e.props.genomeNexusMyVariantInfoCache)},download:function(t){return mt.download(t,e.props.genomeNexusMyVariantInfoCache)},tooltip:r.createElement("span",null,r.createElement("a",{href:"https://gnomad.broadinstitute.org/"},"gnomAD")," ","population allele frequencies. Overall population allele frequency is shown. Hover over a frequency to see the frequency for each specific population."),defaultSortDirection:"desc",visible:!1,align:"left"},this._columns[Ot.CLINVAR]={name:"ClinVar ID",render:function(t){return gt.renderFunction(t,e.props.genomeNexusMyVariantInfoCache)},sortBy:function(t){return gt.getSortValue(t,e.props.genomeNexusMyVariantInfoCache)},download:function(t){return gt.download(t,e.props.genomeNexusMyVariantInfoCache)},tooltip:r.createElement("span",null,r.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/clinvar/",target:"_blank"},"ClinVar"),"aggregates information about genomic variation and its relationship to human health."),defaultSortDirection:"desc",visible:!1,align:"right"},this._columns[Ot.DBSNP]={name:"dbSNP",render:function(t){return St.renderFunction(t,e.props.genomeNexusMyVariantInfoCache)},sortBy:function(t){return St.getSortValue(t,e.props.genomeNexusMyVariantInfoCache)},download:function(t){return St.download(t,e.props.genomeNexusMyVariantInfoCache)},tooltip:r.createElement("span",{style:{maxWidth:370,display:"block",textAlign:"left"}},"The Single Nucleotide Polymorphism Database (",r.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/snp/",target:"_blank"},"dbSNP"),") is a free public archive for genetic variation within and across different species.",r.createElement("br",null),"NOTE: Currently only SNPs, single base deletions and insertions are supported."),defaultSortDirection:"desc",visible:!1,align:"right"}}},{key:"render",value:function(){return r.createElement(It,{ref:this.tableRef,columns:this.columns,data:this.props.data,dataStore:this.props.dataStore,downloadDataFetcher:this.props.downloadDataFetcher,initialItemsPerPage:this.props.initialItemsPerPage,initialSortColumn:this.props.initialSortColumn,initialSortDirection:this.props.initialSortDirection,itemsLabel:this.props.itemsLabel,itemsLabelPlural:this.props.itemsLabelPlural,paginationProps:this.props.paginationProps,showCountHeader:this.props.showCountHeader,columnVisibility:this.props.columnVisibility,columnVisibilityProps:this.props.columnVisibilityProps,onRowClick:this.props.onRowClick,onRowMouseEnter:this.props.onRowMouseEnter,onRowMouseLeave:this.props.onRowMouseLeave})}},{key:"orderedColumns",get:function(){var e=this,t=this.props.columns||[];return a.sortBy(t,function(t){var n=-1;return e._columns[t]&&e._columns[t].order&&(n=e._columns[t].order),n})}},{key:"columns",get:function(){var e=this;return this.orderedColumns.reduce(function(t,n){var r=e._columns[n];return!r||r.shouldExclude&&r.shouldExclude()||t.push(r),t},[])}}])&&Ct(n.prototype,o),i&&Ct(n,i),t}();Nt.defaultProps={initialItemsPerPage:25,showCountHeader:!0,paginationProps:{itemsPerPageOptions:[25,50,100]},initialSortColumn:"Annotation",initialSortDirection:"desc",itemsLabel:"Mutation",itemsLabelPlural:"Mutations",enableOncoKb:!0,enableMyCancerGenome:!0,enableHotspot:!0,enableCivic:!1},Pt([i.observable],Nt.prototype,"_columns",void 0),Pt([i.observable.ref],Nt.prototype,"table",void 0),Pt([vt.a],Nt.prototype,"tableRef",null),Pt([i.computed],Nt.prototype,"orderedColumns",null),Pt([i.computed],Nt.prototype,"columns",null),Nt=Pt([o.observer],Nt);t.b=Nt},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(11),a=(n(822),n(548)),s=n(92),l=n(604),c=n(7),u=n.n(c),p=n(627),h=n(859),d=n(569),f=n.n(d),m=n(561),y=n(565),g=n(576),v=n(28),b=n.n(v);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=w(this,C(t).apply(this,arguments))).isHovered=!1,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMouseEnter",value:function(){this.isHovered=!0}},{key:"onMouseLeave",value:function(){this.isHovered=!1}},{key:"render",value:function(){var e=!this.props.placement||"left"===this.props.placement||"right"===this.props.placement;return this.props.targetHovered||this.isHovered?r.createElement(s.Popover,{className:b()("cbioportal-frontend","cbioTooltip",this.props.className),positionLeft:this.props.targetCoords.x+this.props.container.offsetLeft+5-(e?0:30),positionTop:this.props.targetCoords.y+this.props.container.offsetTop-(e?30:-5),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,arrowOffsetTop:e?30:void 0,arrowOffsetLeft:e?void 0:24,placement:this.props.placement},this.props.overlay):null}}])&&S(n.prototype,o),i&&S(n,i),t}();T([o.observable],x.prototype,"isHovered",void 0),T([f.a],x.prototype,"onMouseEnter",null),T([f.a],x.prototype,"onMouseLeave",null);var E=x=T([i.observer],x),A=n(618),O=n(4);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R="#ffffff",j="#000000",F=1,G=1,B=3,z=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=I(this,M(t).apply(this,arguments))).tooltipModel=null,e.pointHovered=!1,e.mouseEvents=e.makeMouseEvents(),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),n=t,(o=[{key:"containerRef",value:function(e){this.container=e}},{key:"makeMouseEvents",value:function(){var e=this,t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){if(e.props.horizontal&&!n.datum.searchLabel){var r=n.x;n.x=n.y+-5,n.y=r+28.5}else e.props.horizontal||(n.x+=-5);return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}},{key:"datumAccessorY",value:function(e){return e.value}},{key:"datumAccessorBaseLine",value:function(e){return e.offset}},{key:"datumAccessorX",value:function(e){return e.order}},{key:"datumAccessorLabelY",value:function(e){return e.labely}},{key:"datumAccessorLabelX",value:function(e){return e.labelx}},{key:"datumAccessorSearchIndicatorY",value:function(e){return e.searchindicatory}},{key:"datumAccessorSearchIndicatorX",value:function(e){return e.searchindicatorx}},{key:"tickFormat",value:function(e,t,n){return n&&!this.props.useLogSpaceTicks&&(e=n.fInvLogScale(e),t=t.map(function(e){return n.fInvLogScale(e)})),Object(A.a)(e,t)}},{key:"tickFormatX",value:function(e,t,n){if(this.props.horizontal)return this.tickFormat(e,n,this.props.log)}},{key:"tickFormatY",value:function(e,t,n){if(!this.props.horizontal)return this.tickFormat(e,n,this.props.log)}},{key:"resolveStyleOptionType",value:function(e,t){return"function"==typeof t?t(e):t}},{key:"getChart",value:function(){return r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)},r.createElement("g",null,this.title),r.createElement("g",{transform:"translate(".concat(25,",").concat(this.props.horizontal?30:0,")")},r.createElement(y.VictoryChart,{theme:m.d,width:this.props.chartWidth,height:this.props.chartHeight,standalone:!1,domainPadding:this.plotPaddingInPixels,singleQuadrantDomainPadding:this.props.horizontal},this.legend,this.props.horizontal&&r.createElement(y.VictoryAxis,{domain:this.plotDomainX,orientation:"top",crossAxis:!1,tickCount:8,tickFormat:this.tickFormatX,axisLabelComponent:r.createElement(y.VictoryLabel,{dy:-20}),label:this.axisLabel}),this.props.horizontal&&r.createElement(y.VictoryAxis,{orientation:"left",dependentAxis:!0,tickFormat:function(){return""},style:{axis:{stroke:"none"},ticks:{stroke:"none"},tickLabels:{stroke:"none"}}}),!this.props.horizontal&&r.createElement(y.VictoryAxis,{domain:this.plotDomainY,offsetX:50,orientation:"left",crossAxis:!1,tickCount:8,tickFormat:this.tickFormatY,dependentAxis:!0,axisLabelComponent:r.createElement(y.VictoryLabel,{dy:-35}),label:this.axisLabel}),r.createElement(y.VictoryBar,{style:{data:{fill:function(e){return e.fill},stroke:function(e){return e.stroke},strokeWidth:function(e){return e.strokeWidth},strokeOpacity:function(e){return e.strokeOpacity},fillOpacity:function(e){return e.fillOpacity}}},horizontal:this.props.horizontal,data:this.styledWaterfallPlotData,size:this.size,events:this.mouseEvents,x:this.datumAccessorX,y:this.datumAccessorY,y0:this.datumAccessorBaseLine}),r.createElement(y.VictoryScatter,{style:{data:{fill:R,stroke:j,strokeWidth:F,strokeOpacity:G}},symbol:p.v.symbol,size:B,data:this.limitLabels,x:this.datumAccessorLabelX,y:this.datumAccessorLabelY}),r.createElement(y.VictoryScatter,{style:{data:{fill:p.Q.fill,stroke:p.Q.stroke,strokeWidth:1.5*p.Q.strokeWidth,strokeOpacity:p.Q.strokeOpacity}},symbol:p.Q.symbol,size:1.5*p.Q.size,data:this.searchLabels,events:this.mouseEvents,x:this.datumAccessorSearchIndicatorX,y:this.datumAccessorSearchIndicatorY})))))}},{key:"render",value:function(){return this.props.data.length?r.createElement("div",null,r.createElement(i.Observer,null,this.getChart),this.container&&this.tooltipModel&&this.props.tooltip&&r.createElement(E,{container:this.container,targetHovered:this.pointHovered,targetCoords:{x:this.tooltipModel.x+25,y:this.tooltipModel.y},overlay:this.props.tooltip(this.tooltipModel.datum)})):r.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"fontFamily",get:function(){return this.props.fontFamily||"Verdana,Arial,sans-serif"}},{key:"title",get:function(){if(this.props.title){var e=Object(O.eb)(this.props.title,this.props.chartWidth,this.fontFamily,"13px");return r.createElement(y.VictoryLabel,{style:{fontWeight:"bold",fontFamily:this.fontFamily,textAnchor:"middle"},x:this.svgWidth/2,y:"1.2em",text:e})}return null}},{key:"axisLabel",get:function(){if(this.props.axisLabel){var e=this.props.horizontal?this.props.chartWidth:this.props.chartHeight;return Object(O.eb)(this.props.axisLabel,e,this.fontFamily,"13px")}return""}},{key:"legendX",get:function(){return this.props.chartWidth-20}},{key:"bottomLegendHeight",get:function(){return this.props.legendData?23.7*Math.ceil(this.props.legendData.length/4):0}},{key:"legend",get:function(){if(this.props.legendData&&this.props.legendData.length){var e=this.props.legendData;return"bottom"===this.legendLocation&&(e=e.map(function(e){var t=e.name;return Array.isArray(e.name)&&(t=t.join(" ")),{name:t,symbol:e.symbol}})),r.createElement(y.VictoryLegend,{orientation:"right"===this.legendLocation?"vertical":"horizontal",itemsPerRow:"right"===this.legendLocation?void 0:4,rowGutter:"right"===this.legendLocation?void 0:-5,data:e,x:"right"===this.legendLocation?this.legendX:50,y:"right"===this.legendLocation?100:this.svgHeight-this.bottomLegendHeight+3})}return null}},{key:"plotDomain",get:function(){var e=u()(this.waterfallPlotData).map("value").max()||0;return{value:[u()(this.waterfallPlotData).map("value").min()||0,e],order:[1,this.waterfallPlotData.length]}}},{key:"plotDomainX",get:function(){return this.props.horizontal?this.plotDomain.value:this.plotDomain.order}},{key:"plotDomainY",get:function(){return this.props.horizontal?this.plotDomain.order:this.plotDomain.value}},{key:"svgWidth",get:function(){return 25+this.props.chartWidth+120}},{key:"svgHeight",get:function(){return this.props.horizontal?this.props.chartHeight+this.bottomLegendHeight:this.props.chartHeight}},{key:"legendLocation",get:function(){return void 0!==this.props.legendLocationWidthThreshold&&this.props.chartWidth>this.props.legendLocationWidthThreshold?"bottom":"right"}},{key:"size",get:function(){var e=this.props.highlight,t=this.props.size;return Object(g.f)(e,t)}},{key:"waterfallPlotData",get:function(){var e=this.props.log,t=u.a.cloneDeep(this.props.data);t=u.a.sortBy(t,function(e){return e.value}),(this.props.horizontal&&"ASC"===this.props.sortOrder||!this.props.horizontal&&"DESC"===this.props.sortOrder)&&(t=u.a.reverse(t)),u.a.each(t,function(e,t){return e.order=t+1});var n=this.props.pivotThreshold||0,r=u.a.map(t,"value").concat([n]),o=u.a.min(r)||0,i=o<0?Math.abs(o)+1e-4:0;return u.a.each(t,function(t){t.offset=e?e.fLogScale(n,i):n,t.value=e?e.fLogScale(t.value,i):t.value}),t}},{key:"styledWaterfallPlotData",get:function(){var e=this,t=u.a.cloneDeep(this.waterfallPlotData);return u.a.each(t,function(t){t.fill=e.resolveStyleOptionType(t,e.props.fill),t.fillOpacity=e.resolveStyleOptionType(t,e.props.fillOpacity),t.stroke=e.resolveStyleOptionType(t,e.props.stroke),t.strokeOpacity=e.resolveStyleOptionType(t,e.props.strokeOpacity),t.strokeWidth=e.resolveStyleOptionType(t,e.props.strokeWidth),t.symbol=e.resolveStyleOptionType(t,e.props.symbol)}),t}},{key:"limitLabels",get:function(){var e=this,t=u.a.filter(this.waterfallPlotData,function(t){return e.resolveStyleOptionType(t,e.props.labelVisibility)}),n=u.a.cloneDeep(t),r=this.props.horizontal?this.plotDomainX:this.plotDomainY,o=r[0],i=r[1],a=this.props.pivotThreshold||0,s=.02*(i-o);return u.a.each(n,function(t){var n=t.value>=a?s:-s,r=t.value+n;e.props.horizontal?(t.labelx=r,t.labely=t.order):(t.labelx=t.order,t.labely=r)}),n}},{key:"searchLabels",get:function(){var e=this;if(!this.props.highlight)return[];var t=u.a.filter(this.waterfallPlotData,function(t){return e.props.highlight(t)}),n=u.a.cloneDeep(t);u.a.each(n,function(e){return e.searchLabel=!0});var r=this.props.horizontal?this.plotDomainX:this.plotDomainY,o=r[0],i=.02*(r[1]-o);return u.a.each(n,function(t){var n=t.value<=t.offset?i:-i,r=t.offset+n;e.props.horizontal?(t.searchindicatorx=r,t.searchindicatory=t.order):(t.searchindicatorx=t.order,t.searchindicatory=r)}),n}},{key:"plotPaddingInPixels",get:function(){return this.props.horizontal?{y:30,x:3}:{y:3,x:30}}}])&&P(n.prototype,o),a&&P(n,a),t}();N([o.observable.ref],z.prototype,"tooltipModel",void 0),N([o.observable],z.prototype,"pointHovered",void 0),N([o.observable.ref],z.prototype,"container",void 0),N([f.a],z.prototype,"containerRef",null),N([o.computed],z.prototype,"fontFamily",null),N([o.computed],z.prototype,"title",null),N([o.computed],z.prototype,"axisLabel",null),N([o.computed],z.prototype,"legendX",null),N([o.computed],z.prototype,"bottomLegendHeight",null),N([o.computed],z.prototype,"plotDomain",null),N([o.computed],z.prototype,"plotDomainX",null),N([o.computed],z.prototype,"plotDomainY",null),N([o.computed],z.prototype,"svgWidth",null),N([o.computed],z.prototype,"svgHeight",null),N([o.computed],z.prototype,"legendLocation",null),N([f.a],z.prototype,"datumAccessorY",null),N([f.a],z.prototype,"datumAccessorBaseLine",null),N([f.a],z.prototype,"datumAccessorX",null),N([f.a],z.prototype,"datumAccessorLabelY",null),N([f.a],z.prototype,"datumAccessorLabelX",null),N([f.a],z.prototype,"datumAccessorSearchIndicatorY",null),N([f.a],z.prototype,"datumAccessorSearchIndicatorX",null),N([o.computed],z.prototype,"size",null),N([f.a],z.prototype,"tickFormatX",null),N([f.a],z.prototype,"tickFormatY",null),N([o.computed],z.prototype,"waterfallPlotData",null),N([o.computed],z.prototype,"styledWaterfallPlotData",null),N([o.computed],z.prototype,"limitLabels",null),N([o.computed],z.prototype,"searchLabels",null),N([o.computed],z.prototype,"plotPaddingInPixels",null),N([f.a],z.prototype,"getChart",null);var V=z=N([i.observer],z),H=n(731),U=n(671),q=n.n(U),W=n(990),K=n(119),$=n.n(K),Y=regeneratorRuntime.mark(X);function Q(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n[l.uniqueSampleKey]=n[l.uniqueSampleKey]||{},n[l.uniqueSampleKey].horz=l.value}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var c=!0,u=!1,p=void 0;try{for(var h,d=t[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;n[f.uniqueSampleKey]=n[f.uniqueSampleKey]||{},n[f.uniqueSampleKey].vert=f.value}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}return n}function X(e,t){var n,r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:n=Q(e,t),r=0,o=Object.keys(n);case 2:if(!(r<o.length)){w.next=61;break}if(i=o[r],!(a=n[i]).horz||!a.vert){w.next=58;break}s=Array.isArray(a.horz)?a.horz:[a.horz],l=Array.isArray(a.vert)?a.vert:[a.vert],c=!0,u=!1,p=void 0,w.prev=11,h=s[Symbol.iterator]();case 13:if(c=(d=h.next()).done){w.next=44;break}f=d.value,m=!0,y=!1,g=void 0,w.prev=18,v=l[Symbol.iterator]();case 20:if(m=(b=v.next()).done){w.next=27;break}return S=b.value,w.next=24,{uniqueSampleKey:i,horz:f,vert:S};case 24:m=!0,w.next=20;break;case 27:w.next=33;break;case 29:w.prev=29,w.t0=w.catch(18),y=!0,g=w.t0;case 33:w.prev=33,w.prev=34,m||null==v.return||v.return();case 36:if(w.prev=36,!y){w.next=39;break}throw g;case 39:return w.finish(36);case 40:return w.finish(33);case 41:c=!0,w.next=13;break;case 44:w.next=50;break;case 46:w.prev=46,w.t1=w.catch(11),u=!0,p=w.t1;case 50:w.prev=50,w.prev=51,c||null==h.return||h.return();case 53:if(w.prev=53,!u){w.next=56;break}throw p;case 56:return w.finish(53);case 57:return w.finish(50);case 58:r++,w.next=2;break;case 61:case"end":return w.stop()}},Y,null,[[11,46,50,58],[18,29,33,41],[34,,36,40],[51,,53,57]])}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}function ne(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var se=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ae(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},ce="middle",ue="Verdana, Arial, sans-serif",pe=12,he=function(e){function t(){return J(this,t),ne(this,re(t).apply(this,arguments))}return oe(t,r["Component"]),te(t,[{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.style,o=e.text,i=le(e,["maxWidth","style","text"]),a=Object(A.b)(o,t);return n.fontSize=12-.5*(a.length-1),r.createElement(y.VictoryLabel,Z({text:a,style:n},i))}}]),t}(),de=function(e){function t(){return J(this,t),ne(this,re(t).apply(this,arguments))}return oe(t,r["Component"]),te(t,[{key:"render",value:function(){if(!this.props.scale)return null;var e=this.props.rectWidth,t=this.props.rectHeight,n=this.props.scale.y(this.props.y)-t/2,o=this.props.scale.x(this.props.x)-e/2;return r.createElement("g",null,r.createElement("rect",{width:e,height:t,x:o,y:n,style:{fill:this.props.cellFill,stroke:"rgb(208,208,208)"}}),r.createElement("text",{x:o+e/2,y:n+t/2,dy:"0.3em",textAnchor:this.props.textAnchor,fill:this.props.textColor,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},this.props.label))}}]),t}(),fe=function(e){function t(){return J(this,t),ne(this,re(t).apply(this,arguments))}return oe(t,r["Component"]),te(t,[{key:"containerRef",value:function(e){this.container=e}},{key:"getCellCoordinates",value:function(e,t){return{x:this.horzTickValueMap[e],y:this.vertTickValueMap[t]}}},{key:"formatTickHorz",value:function(e,t){return this.formatTickHelper(!0,t)}},{key:"formatTickVert",value:function(e,t){return this.formatTickHelper(!1,t)}},{key:"formatTickHelper",value:function(e,t){return(e?this.tableData.horzCategories:this.tableData.vertCategories)[t]}},{key:"render",value:function(){var e=this;if(!this.tableData.data.length)return r.createElement("div",{className:"alert alert-info"},"No data to plot.");var t=this.tableData.data.map(function(t){var n=t.horzCategory,o=t.vertCategory,i=t.count,a=e.getCellCoordinates(n,o);return r.createElement(de,{key:"".concat(n,",").concat(o,",rect"),rectWidth:e.cellWidth,rectHeight:e.cellHeight,x:a.x,y:a.y,label:"".concat(i),cellFill:e.getCellColor(i),textColor:e.getTextColor(i),textAnchor:ce,fontFamily:ue,fontSize:pe})});return r.createElement("div",null,r.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},r.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)},r.createElement("g",{transform:"translate(".concat(150,", 0)")},r.createElement(y.VictoryChart,{theme:m.d,width:this.chartWidth,height:this.chartHeight,standalone:!1,domain:this.domain,domainPadding:{x:this.cellWidth,y:this.cellHeight}},this.horzAxis,this.vertAxis,t)))))}},{key:"tableData",get:function(){var e=new H.b,t=!0,n=!1,r=void 0;try{for(var o,i=X(this.props.horzData,this.props.vertData)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;void 0!==a.horz&&void 0!==a.vert&&e.set((e.get(a.horz,a.vert)||0)+1,a.horz,a.vert)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s,l,c={},u={},p=e.entries().map(function(e){var t=e.key[0],n=e.key[1];return c[t]=!0,u[n]=!0,{horzCategory:t,vertCategory:n,count:e.value}});this.props.horzCategoryOrder?s=this.props.horzCategoryOrder.filter(function(e){return!!c[e]}):(s=Object.keys(c)).sort(q.a),this.props.vertCategoryOrder?l=this.props.vertCategoryOrder.filter(function(e){return!!u[e]}):(l=Object.keys(u)).sort(q.a);var h=!0,d=!1,f=void 0;try{for(var m,y=s[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value,v=!0,b=!1,S=void 0;try{for(var w,C=l[Symbol.iterator]();!(v=(w=C.next()).done);v=!0){var _=w.value;e.has(g,_)||p.push({horzCategory:g,vertCategory:_,count:0})}}catch(e){b=!0,S=e}finally{try{v||null==C.return||C.return()}finally{if(b)throw S}}}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}return{horzCategories:s,vertCategories:l.reverse(),data:p}}},{key:"dataRange",get:function(){var e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,n=!0,r=!1,o=void 0;try{for(var i,a=this.tableData.data[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e=Math.min(e,s.count),t=Math.max(t,s.count)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{min:e,max:t}}},{key:"getCellColor",get:function(){return this.tableData.data.length?W.a().domain([this.dataRange.min,this.dataRange.max]).range(["rgb(255,255,255)","rgb(0, 102, 204)"]):function(){return"rgb(255,255,255)"}}},{key:"getTextColor",get:function(){if(!this.tableData.data.length)return function(){return"rgb(0,0,0)"};var e=this.dataRange;return function(t){return Object(p.M)(t,e.min,e.max)}}},{key:"chartWidth",get:function(){return Math.max(this.tableData.horzCategories.length*this.cellWidth+150+2*this.cellWidth,this.props.minChartWidth)}},{key:"chartHeight",get:function(){return Math.max(this.tableData.vertCategories.length*this.cellHeight+150+2*this.cellHeight,this.props.minChartHeight)}},{key:"svgWidth",get:function(){return 150+this.chartWidth}},{key:"svgHeight",get:function(){return this.chartHeight+150}},{key:"horzAxis",get:function(){return r.createElement(y.VictoryAxis,{orientation:"bottom",offsetY:50,crossAxis:!1,label:this.props.axisLabelX,tickValues:this.horzTickValues,tickFormat:this.formatTickHorz,tickLabelComponent:r.createElement(he,{angle:-70,verticalAnchor:"middle",textAnchor:"end",maxWidth:120}),axisLabelComponent:r.createElement(y.VictoryLabel,{dy:130})})}},{key:"vertAxis",get:function(){return r.createElement(y.VictoryAxis,{orientation:"left",offsetX:50,crossAxis:!1,label:this.props.axisLabelY,dependentAxis:!0,tickValues:this.vertTickValues,tickFormat:this.formatTickVert,tickLabelComponent:r.createElement(he,{maxWidth:120}),axisLabelComponent:r.createElement(y.VictoryLabel,{dy:-150})})}},{key:"horzTickValueMap",get:function(){return Object(O.bb)(this.tableData.horzCategories,function(e,t){return t+1})}},{key:"vertTickValueMap",get:function(){return Object(O.bb)(this.tableData.vertCategories,function(e,t){return t+1})}},{key:"horzTickValues",get:function(){var e=this;return this.tableData.horzCategories.map(function(t){return e.horzTickValueMap[t]})}},{key:"vertTickValues",get:function(){var e=this;return this.tableData.vertCategories.map(function(t){return e.vertTickValueMap[t]})}},{key:"cellHeight",get:function(){return Math.max(20,this.props.minCellHeight)}},{key:"cellWidth",get:function(){var e=$()({text:this.dataRange.max+"",fontFamily:ue,fontSize:pe,lineHeight:1}).width.value+20;return Math.max(e,this.props.minCellWidth)}},{key:"domain",get:function(){return{x:[0,this.tableData.horzCategories.length+1],y:[0,this.tableData.vertCategories.length+1]}}}]),t}();se([o.observable.ref],fe.prototype,"container",void 0),se([d.bind],fe.prototype,"containerRef",null),se([o.computed],fe.prototype,"tableData",null),se([o.computed],fe.prototype,"dataRange",null),se([o.computed],fe.prototype,"getCellColor",null),se([o.computed],fe.prototype,"getTextColor",null),se([o.computed],fe.prototype,"chartWidth",null),se([o.computed],fe.prototype,"chartHeight",null),se([o.computed],fe.prototype,"svgWidth",null),se([o.computed],fe.prototype,"svgHeight",null),se([d.bind],fe.prototype,"formatTickHorz",null),se([d.bind],fe.prototype,"formatTickVert",null),se([o.computed],fe.prototype,"horzAxis",null),se([o.computed],fe.prototype,"vertAxis",null),se([o.computed],fe.prototype,"horzTickValueMap",null),se([o.computed],fe.prototype,"vertTickValueMap",null),se([o.computed],fe.prototype,"horzTickValues",null),se([o.computed],fe.prototype,"vertTickValues",null),se([o.computed],fe.prototype,"cellHeight",null),se([o.computed],fe.prototype,"cellWidth",null),se([o.computed],fe.prototype,"domain",null);var me=fe=se([i.observer],fe),ye=n(93),ge=n(752),ve=n(754),be=n(25),Se=n(116),we=n.n(Se),Ce=n(638),_e=n(854),ke=n(596),Te=n(769),xe=n(555),Ee=n(603),Ae=n(639);function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ie=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Pe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.horizontal=new Map,this.vertical=new Map}var t,n,r;return t=e,r=[{key:"updateSelection",value:function(e,t){return e.gene=t.selectedGeneOption,e.geneSet=t.selectedGenesetOption,e.source=t.selectedDataSourceOption,e.treatment=t.selectedTreatmentOption,e}},{key:"runSelectionUpdaters",value:function(e,t,n,r,o,i){e.get(t)&&[{saved:e.get(t).gene,updater:n},{saved:e.get(t).geneSet,updater:r},{saved:e.get(t).source,updater:o},{saved:e.get(t).treatment,updater:i}].filter(function(e){return void 0!==e.saved}).forEach(function(e){return e.updater(e.saved)})}}],(n=[{key:"updateHorizontalFromSelection",value:function(e){this.updateAxisWithSelection(this.horizontal,e)}},{key:"updateVerticalFromSelection",value:function(e){this.updateAxisWithSelection(this.vertical,e)}},{key:"updateAxisWithSelection",value:function(t,n){if(void 0!==n.dataType){var r=t.get(n.dataType);void 0===r&&(r={}),t.set(n.dataType,e.updateSelection(r,n))}}},{key:"runHorizontalUpdaters",value:function(t,n,r,o,i){e.runSelectionUpdaters(this.horizontal,t,n,r,o,i)}},{key:"runVerticalUpdaters",value:function(t,n,r,o,i){e.runSelectionUpdaters(this.vertical,t,n,r,o,i)}}])&&Oe(t.prototype,n),r&&Oe(t,r),e}();Ie([be.a],Me.prototype,"updateHorizontalFromSelection",null),Ie([be.a],Me.prototype,"updateVerticalFromSelection",null),Ie([be.a],Me.prototype,"runHorizontalUpdaters",null),Ie([be.a],Me.prototype,"runVerticalUpdaters",null);var De=[{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"MUTATION_COUNT"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})&&n.length>1&&n.length<16},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"MUTATION_COUNT"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"Mut# vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"MUTATION_COUNT"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"MUTATION_COUNT"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE"===e.value})&&n.length>15},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"MUTATION_COUNT"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"Mut# vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"MUTATION_COUNT"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})&&n.length>1&&n.length<16},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"FRACTION_GENOME_ALTERED"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"FGA vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==r.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE"===e.value})&&n.length>15},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"FRACTION_GENOME_ALTERED"===e.source&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"FGA vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE"===e.value})}}}}},{isApplicableToQuery:function(e,t){var n=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==n.find(function(e){return"MUTATION_COUNT"===e.value})&&void 0!==n.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})},toButtonInfo:function(e,t,n,r){return{selected:"clinical_attribute"===e.type&&"MUTATION_COUNT"===e.source&&"clinical_attribute"===t.type&&"FRACTION_GENOME_ALTERED"===t.source,display:"Mut# vs FGA",plotModel:{vertical:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"MUTATION_COUNT"===e.value})},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"FRACTION_GENOME_ALTERED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n){var r=t.clinical_attribute;return void 0!==e.find(function(e){return"clinical_attribute"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})&&void 0!==r.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})&&n.length>1},toButtonInfo:function(e,t,n,r){return{selected:"MRNA_EXPRESSION"===e.type&&"clinical_attribute"===t.type&&"CANCER_TYPE_DETAILED"===t.source,display:"mRNA vs Dx",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0},horizontal:{dataType:n.find(function(e){return"clinical_attribute"===e.value}),dataSource:r.clinical_attribute.find(function(e){return"CANCER_TYPE_DETAILED"===e.value})}}}}},{isApplicableToQuery:function(e,t,n,r){return void 0!==e.find(function(e){return"MUTATION_EXTENDED"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})&&r>0},toButtonInfo:function(e,t,n){return{selected:"MRNA_EXPRESSION"===e.type&&"MUTATION_EXTENDED"===t.type,display:"mRNA vs mut type",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0,useSameGene:!0},horizontal:{dataType:n.find(function(e){return"MUTATION_EXTENDED"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"COPY_NUMBER_ALTERATION"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})},toButtonInfo:function(e,t,n){return{selected:"MRNA_EXPRESSION"===e.type&&"COPY_NUMBER_ALTERATION"===t.type,display:"mRNA vs CNA",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0,useSameGene:!0},horizontal:{dataType:n.find(function(e){return"COPY_NUMBER_ALTERATION"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"METHYLATION"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})},toButtonInfo:function(e,t,n){return{selected:"MRNA_EXPRESSION"===e.type&&"METHYLATION"===t.type,display:"mRNA vs methyl",plotModel:{vertical:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0,useSameGene:!0},horizontal:{dataType:n.find(function(e){return"METHYLATION"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"PROTEIN_LEVEL"===e.value})&&void 0!==e.find(function(e){return"MRNA_EXPRESSION"===e.value})},toButtonInfo:function(e,t,n,r){return{selected:"PROTEIN_LEVEL"===e.type&&"MRNA_EXPRESSION"===t.type,display:"Protein vs mRNA",plotModel:{vertical:{dataType:n.find(function(e){return"PROTEIN_LEVEL"===e.value}),dataSource:r.PROTEIN_LEVEL.find(function(e){return"brca_tcga_protein_quantification"===e.value}),useSameGene:!0},horizontal:{dataType:n.find(function(e){return"MRNA_EXPRESSION"===e.value}),dataSource:void 0}}}}},{isApplicableToQuery:function(e){return void 0!==e.find(function(e){return"GENERIC_ASSAY"===e.value})},toButtonInfo:function(e,t,n){return{selected:"GENERIC_ASSAY"===e.type&&t.type===Je,display:"Tx Waterfall",plotModel:{horizontal:{dataType:{value:Je,label:tt},dataSource:void 0},vertical:{dataType:n.find(function(e){return"GENERIC_ASSAY"===e.value}),dataSource:void 0}}}}}];function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"f",function(){return He}),n.d(t,"e",function(){return qe}),n.d(t,"a",function(){return Ke}),n.d(t,"d",function(){return Je}),n.d(t,"c",function(){return et}),n.d(t,"b",function(){return tt});var Ve,He,Ue,qe,We,Ke,$e=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ze(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.horz_logScale=0]="horz_logScale",e[e.vert_logScale=1]="vert_logScale",e[e.utilities_viewMutationType=2]="utilities_viewMutationType",e[e.utilities_viewCopyNumber=3]="utilities_viewCopyNumber",e[e.utilities_horizontalBars=4]="utilities_horizontalBars",e[e.utilities_showRegressionLine=5]="utilities_showRegressionLine",e[e.utilities_viewLimitValues=6]="utilities_viewLimitValues"}(Ve||(Ve={})),function(e){e[e.MutationType=0]="MutationType",e[e.MutationTypeAndCopyNumber=1]="MutationTypeAndCopyNumber",e[e.CopyNumber=2]="CopyNumber",e[e.MutationSummary=3]="MutationSummary",e[e.LimitVal=4]="LimitVal",e[e.LimitValMutationSummary=5]="LimitValMutationSummary",e[e.LimitValMutationType=6]="LimitValMutationType",e[e.LimitValCopyNumber=7]="LimitValCopyNumber",e[e.LimitValMutationTypeAndCopyNumber=8]="LimitValMutationTypeAndCopyNumber",e[e.None=9]="None"}(He||(He={})),function(e){e[e.MutationTypeAndCopyNumber=0]="MutationTypeAndCopyNumber",e[e.MutationSummary=1]="MutationSummary",e[e.None=2]="None",e[e.LimitValMutationTypeAndCopyNumber=3]="LimitValMutationTypeAndCopyNumber",e[e.LimitValMutationSummary=4]="LimitValMutationSummary",e[e.LimitVal=5]="LimitVal"}(Ue||(Ue={})),function(e){e[e.ScatterPlot=0]="ScatterPlot",e[e.WaterfallPlot=1]="WaterfallPlot",e[e.BoxPlot=2]="BoxPlot",e[e.DiscreteVsDiscrete=3]="DiscreteVsDiscrete",e[e.Table=4]="Table"}(qe||(qe={})),function(e){e.Bar="Bar",e.StackedBar="StackedBar",e.PercentageStackedBar="PercentageStackedBar",e.Table="Table"}(We||(We={})),function(e){e.MutationType="MutationType",e.MutatedVsWildType="MutatedVsWildType"}(Ke||(Ke={}));var Ye=function(e){function t(){return Ne(this,t),Re(this,Fe(t).apply(this,arguments))}return Ge(t,h["a"]),t}(),Qe=function(e){function t(){return Ne(this,t),Re(this,Fe(t).apply(this,arguments))}return Ge(t,ve["a"]),t}(),Xe=function(e){function t(){return Ne(this,t),Re(this,Fe(t).apply(this,arguments))}return Ge(t,V),t}(),Ze="plots-tab-plot-svg",Je="none",et=-1,tt="Ordered samples",nt=[{value:Ke.MutationType,label:"Mutation Type"},{value:Ke.MutatedVsWildType,label:"Mutated vs Wild-type"}],rt=[{value:We.Bar,label:"Bar chart"},{value:We.StackedBar,label:"Stacked bar chart"},{value:We.PercentageStackedBar,label:"100% stacked bar chart"},{value:We.Table,label:"Table"}],ot=function(e){function t(e){var n;return Ne(this,t),(n=Re(this,Fe(t).call(this,e))).selectionHistory=new Me,n.viewMutationType=!0,n.viewCopyNumber=!1,n.showRegressionLine=!1,n.discreteVsDiscretePlotType=We.StackedBar,n.horizontalBars=!1,n.percentageBar=!1,n.stackedBar=!1,n.viewLimitValues=!0,n._waterfallPlotSortOrder=void 0,n.searchCase="",n.searchMutation="",n.plotExists=!1,n.downloadFilename="plot",n.horzGeneOptions=Object(O.W)({await:function(){return[n.props.store.genes]},invoke:function(){return Promise.resolve(n.props.store.genes.result.map(function(e){return{value:e.entrezGeneId,label:e.hugoGeneSymbol}}))}}),n.horzGenesetOptions=Object(O.W)({await:function(){return[n.props.store.genesets]},invoke:function(){return Promise.resolve(n.props.store.genesets.result.map(function(e){return{value:e.genesetId,label:e.name}}))}}),n.horzTreatmentOptions=Object(O.W)({await:function(){return[n.props.store.selectedTreatments]},invoke:function(){return Promise.resolve(n.props.store.selectedTreatments.result.map(function(e){return{value:e.treatmentId,label:e.name}}))}}),n.clinicalAttributeIdToClinicalAttribute=Object(O.W)({await:function(){return[n.props.store.clinicalAttributes,n.props.store.studyIds]},invoke:function(){var e=u.a.keyBy(n.props.store.clinicalAttributes.result,function(e){return e.clinicalAttributeId});return Promise.resolve(e)}}),n.clinicalAttributeOptions=Object(O.W)({await:function(){return[n.props.store.clinicalAttributes]},invoke:function(){return Promise.resolve(Object(p.B)(n.props.store.clinicalAttributes.result))}}),n.dataTypeOptions=Object(O.W)({await:function(){return[n.props.store.molecularProfilesWithData,n.clinicalAttributeOptions,n.props.store.molecularProfilesInStudies]},invoke:function(){var e=n.props.store.molecularProfilesWithData.result,t=u.a.uniq(e.map(function(e){return e.molecularAlterationType===a.a.GENERIC_ASSAY?e.genericAssayType:e.molecularAlterationType})).filter(function(e){return!!p.l[e]});return 0===n.props.store.genesets.result.length&&t.includes("GENESET_SCORE")&&u.a.remove(t,function(e){return"GENESET_SCORE"===e}),n.clinicalAttributeOptions.result.length&&t.push(p.a),n.props.store.molecularProfilesInStudies.result.length&&n.horzGenesetOptions.result&&n.horzGenesetOptions.result.length>0&&n.props.store.molecularProfilesInStudies.result.filter(function(e){e.molecularAlterationType===a.a[p.c]&&-1===t.indexOf(p.c)&&t.push(p.c)}),Promise.resolve(u.a.sortBy(t,function(e){return p.k.indexOf(e)}).map(function(e){return{value:e,label:p.l[e]}}))}}),n.dataTypeToDataSourceOptions=Object(O.W)({await:function(){return[n.props.store.molecularProfilesInStudies,n.clinicalAttributeOptions]},invoke:function(){var e=n.props.store.molecularProfilesInStudies.result,t=u.a.mapValues(u.a.groupBy(e,function(e){return e.molecularAlterationType===a.a.GENERIC_ASSAY?e.genericAssayType:e.molecularAlterationType}),function(e){return Object(p.L)(e).map(function(e){return{value:e.molecularProfileId,label:e.name}})});return n.clinicalAttributeOptions.result.length&&(t[p.a]=n.clinicalAttributeOptions.result),Promise.resolve(t)}}),n.cnaPromise=Object(O.W)({await:function(){return n.props.store.annotatedCnaCache.getAll(Object(p.o)(n.horzSelection,n.vertSelection,n.utilitiesMenuSelection))},invoke:function(){var e=Object(p.o)(n.horzSelection,n.vertSelection,n.utilitiesMenuSelection);return e.length>0?Promise.resolve(u.a.flatten(n.props.store.annotatedCnaCache.getAll(e).map(function(e){return e.result}))):Promise.resolve([])}}),n.mutationPromise=Object(O.W)({await:function(){return n.props.store.annotatedMutationCache.getAll(Object(p.q)(n.horzSelection,n.vertSelection,n.utilitiesMenuSelection))},invoke:function(){return Promise.resolve(u.a.flatten(n.props.store.annotatedMutationCache.getAll(Object(p.q)(n.horzSelection,n.vertSelection,n.utilitiesMenuSelection)).map(function(e){return e.result})).filter(function(e){return!!e}))}}),n.mutationDataExists=Object(O.W)({await:function(){return[n.props.store.studyToMutationMolecularProfile]},invoke:function(){return Promise.resolve(!!u.a.values(n.props.store.studyToMutationMolecularProfile).length)}}),n.cnaDataExists=Object(O.W)({await:function(){return[n.props.store.studyToMolecularProfileDiscrete]},invoke:function(){return Promise.resolve(!!u.a.values(n.props.store.studyToMolecularProfileDiscrete).length)}}),n.horzLabel=Object(O.W)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile,n.props.store.entrezGeneIdToGene,n.clinicalAttributeIdToClinicalAttribute,n.plotType]},invoke:function(){return Promise.resolve(Object(p.m)(n.horzSelection,n.props.store.molecularProfileIdToMolecularProfile.result,n.props.store.entrezGeneIdToGene.result,n.clinicalAttributeIdToClinicalAttribute.result,n.horzLogScaleFunction))}}),n.vertLabel=Object(O.W)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile,n.props.store.entrezGeneIdToGene,n.clinicalAttributeIdToClinicalAttribute]},invoke:function(){return Promise.resolve(Object(p.m)(n.vertSelection,n.props.store.molecularProfileIdToMolecularProfile.result,n.props.store.entrezGeneIdToGene.result,n.clinicalAttributeIdToClinicalAttribute.result,n.vertLogScaleFunction))}}),n.waterfallLabel=Object(O.W)({await:function(){return[n.props.store.molecularProfileIdToMolecularProfile,n.props.store.entrezGeneIdToGene,n.clinicalAttributeIdToClinicalAttribute,n.plotType]},invoke:function(){var e=n.isHorizontalWaterfallPlot?n.horzSelection:n.vertSelection,t=n.isHorizontalWaterfallPlot?n.horzLogScaleFunction:n.vertLogScaleFunction;return Promise.resolve(Object(p.m)(e,n.props.store.molecularProfileIdToMolecularProfile.result,n.props.store.entrezGeneIdToGene.result,n.clinicalAttributeIdToClinicalAttribute.result,t))}}),n.fDatumHasMutation=function(e,t){var n=new RegExp(t,"i");return!!t&&!!e.mutations.find(function(e){return!(!e.proteinChange||!n.test(e.proteinChange))})},n.plotType=Object(O.W)({await:function(){return[n.horzAxisDataPromise,n.vertAxisDataPromise]},invoke:function(){var e=n.horzAxisDataPromise.result,t=n.vertAxisDataPromise.result,r=n.horzSelection.dataType===Je,o=n.vertSelection.dataType===Je;return e&&t?o&&e||r&&t?Promise.resolve(qe.WaterfallPlot):Object(p.u)(e)&&Object(p.u)(t)?Promise.resolve(qe.DiscreteVsDiscrete):Object(p.t)(e)&&Object(p.t)(t)?Promise.resolve(qe.ScatterPlot):Promise.resolve(qe.BoxPlot):new Promise(function(){return 0})}}),n.scatterPlotData=Object(O.W)({await:function(){return[n.horzAxisDataPromise,n.vertAxisDataPromise,n.props.store.sampleKeyToSample,n.props.store.coverageInformation,n.mutationPromise,n.props.store.studyToMutationMolecularProfile,n.cnaPromise,n.props.store.studyToMolecularProfileDiscrete]},invoke:function(){var e=n.horzAxisDataPromise.result,t=n.vertAxisDataPromise.result;return e&&t?Object(p.t)(e)&&Object(p.t)(t)?Promise.resolve(Object(p.C)(e,t,n.props.store.sampleKeyToSample.result,n.props.store.coverageInformation.result.samples,n.mutationDataExists.result?{molecularProfileIds:u.a.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.mutationPromise.result}:void 0,n.cnaDataExists.result?{molecularProfileIds:u.a.values(n.props.store.studyToMolecularProfileDiscrete.result).map(function(e){return e.molecularProfileId}),data:n.cnaPromise.result}:void 0)):Promise.resolve([]):new Promise(function(){return 0})}}),n.waterfallPlotData=Object(O.W)({await:function(){return[n.horzAxisDataPromise,n.vertAxisDataPromise,n.props.store.sampleKeyToSample,n.props.store.coverageInformation,n.mutationPromise,n.props.store.studyToMutationMolecularProfile,n.cnaPromise,n.props.store.studyToMolecularProfileDiscrete]},invoke:function(){var e=n.horzAxisDataPromise.result,t=n.vertAxisDataPromise.result;if(e||t){var r=n.isHorizontalWaterfallPlot?e:t,o=n.utilitiesMenuSelection.selectedGeneOption.value,i=n.props.store.entrezGeneIdToGene.result[o];return Object(p.t)(r)?Promise.resolve({data:Object(p.E)(r,n.props.store.sampleKeyToSample.result,n.props.store.coverageInformation.result.samples,i,n.mutationDataExists.result?{molecularProfileIds:u.a.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.mutationPromise.result}:void 0,n.cnaDataShown?{molecularProfileIds:u.a.values(n.props.store.studyToMolecularProfileDiscrete.result).map(function(e){return e.molecularProfileId}),data:n.cnaPromise.result}:void 0)}):Promise.resolve({data:[]})}return new Promise(function(){return 0})}}),n.boxPlotData=Object(O.W)({await:function(){return[n.horzAxisDataPromise,n.vertAxisDataPromise,n.props.store.sampleKeyToSample,n.props.store.coverageInformation,n.mutationPromise,n.props.store.studyToMutationMolecularProfile,n.cnaPromise,n.props.store.studyToMolecularProfileDiscrete]},invoke:function(){var e=n.horzAxisDataPromise.result,t=n.vertAxisDataPromise.result;if(e&&t){var r,o,i;if(Object(p.t)(e)&&Object(p.u)(t))r=t,o=e,i=!0;else{if(!Object(p.u)(e)||!Object(p.t)(t))return Promise.resolve({horizontal:!1,data:[]});r=e,o=t,i=!1}return Promise.resolve({horizontal:i,data:Object(p.A)(r,o,n.props.store.sampleKeyToSample.result,n.props.store.coverageInformation.result.samples,n.mutationDataExists.result?{molecularProfileIds:u.a.values(n.props.store.studyToMutationMolecularProfile.result).map(function(e){return e.molecularProfileId}),data:n.mutationPromise.result}:void 0,n.cnaDataExists.result?{molecularProfileIds:u.a.values(n.props.store.studyToMolecularProfileDiscrete.result).map(function(e){return e.molecularProfileId}),data:n.cnaPromise.result}:void 0)})}return new Promise(function(){return 0})}}),n.horzSelection=n.initAxisMenuSelection(!1),n.vertSelection=n.initAxisMenuSelection(!0),n.utilitiesMenuSelection=n.initUtilitiesGeneSelection(),n.searchCaseInput="",n.searchMutationInput="",window.resultsViewPlotsTab=je(n),n}var n,c,h;return Ge(t,r["Component"]),n=t,(c=[{key:"getScrollPane",value:function(){return this.scrollPane}},{key:"getSvg",value:function(){return document.getElementById(Ze)}},{key:"initAxisMenuSelection",value:function(e){var t=this;return Object(o.observable)({get entrezGeneId(){return t.showGeneSelectBox(this.dataType)&&this.selectedGeneOption?e&&-2===this.selectedGeneOption.value?t.horzSelection.entrezGeneId:this.selectedGeneOption.value:void 0},get selectedGeneOption(){var n=e?t.vertGeneOptions:t.horzGeneOptions.result||[];return void 0===this._selectedGeneOption&&n.length?n[0]:e&&this._selectedGeneOption&&-2===this._selectedGeneOption.value&&t.horzSelection.dataType&&!t.showGeneSelectBox(t.horzSelection.dataType)?t.horzSelection.selectedGeneOption:this._selectedGeneOption},set selectedGeneOption(e){this._selectedGeneOption=e},get dataType(){if(!t.dataTypeOptions.isComplete)return this._dataType;var n=t.dataTypeOptions.result;return void 0===this._dataType&&n.length?e&&n.find(function(e){return e.value===a.a.MRNA_EXPRESSION})?a.a.MRNA_EXPRESSION:!e&&n.find(function(e){return e.value===a.a.COPY_NUMBER_ALTERATION})?a.a.COPY_NUMBER_ALTERATION:n[0].value:this._dataType===Je?(e?t.vertDatatypeOptions[0]:t.horzDatatypeOptions[0]).value===Je?this._dataType:n[0].value:this._dataType},set dataType(e){this._dataType!==e&&(this._selectedDataSourceOption=void 0),this._dataType=e},get selectedDataSourceOption(){if(!t.dataTypeToDataSourceOptions.isComplete)return this._selectedDataSourceOption;var e=t.dataTypeToDataSourceOptions.result;return void 0===this._selectedDataSourceOption&&this.dataType&&e[this.dataType]&&e[this.dataType].length?e[this.dataType][0]:this._selectedDataSourceOption},set selectedDataSourceOption(e){this._selectedDataSourceOption=e},get dataSourceId(){if(this.selectedDataSourceOption)return this.selectedDataSourceOption.value},get mutationCountBy(){return void 0===this._mutationCountBy?Ke.MutationType:this._mutationCountBy},set mutationCountBy(e){this._mutationCountBy=e},get logScale(){return this._logScale&&Object(p.w)(this)},set logScale(e){this._logScale=e},get genesetId(){return this.selectedGenesetOption?"same"===this.selectedGenesetOption.value?t.horzSelection.genesetId:this.selectedGenesetOption.value:void 0},get selectedGenesetOption(){var n=(e?t.vertGenesetOptions:t.horzGenesetOptions.result)||[];return void 0===this._selectedGenesetOption&&n.length?n[0]:e&&this._selectedGenesetOption&&"same"===this._selectedGenesetOption.value&&t.horzSelection.dataType===p.a?t.horzSelection.selectedGenesetOption:this._selectedGenesetOption},set selectedGenesetOption(e){this._selectedGenesetOption=e},get treatmentId(){return t.showTreatmentSelectBox(this.dataType)&&this.selectedTreatmentOption?"same"===this.selectedTreatmentOption.value?t.horzSelection.treatmentId:this.selectedTreatmentOption.value:void 0},get selectedTreatmentOption(){var n=(e?t.vertTreatmentOptions:t.horzTreatmentOptions.result)||[];return void 0===this._selectedTreatmentOption&&n.length?n[0]:e&&this._selectedTreatmentOption&&"same"===this._selectedTreatmentOption.value&&t.horzSelection.dataType===p.a?t.horzSelection.selectedTreatmentOption:this._selectedTreatmentOption},set selectedTreatmentOption(e){this._selectedTreatmentOption=e},_selectedGeneOption:void 0,_selectedGenesetOption:void 0,_selectedTreatmentOption:void 0,_dataType:void 0,_mutationCountBy:void 0,_logScale:!1,_selectedDataSourceOption:void 0})}},{key:"initUtilitiesGeneSelection",value:function(){var e=this;return Object(o.observable)({get entrezGeneIdForMutCNAStyling(){if(e.showUtilitiesMenuGeneSelectBox&&this.selectedGeneOption)return this.selectedGeneOption.value},get selectedGeneOption(){var t=e.horzGeneOptions.isComplete?e.horzGeneOptions.result:[];return void 0===this._selectedUtilitiesGeneOption&&t.length?t[0]:this._selectedUtilitiesGeneOption},set selectedGeneOption(e){this._selectedUtilitiesGeneOption=e},_selectedUtilitiesGeneOption:void 0})}},{key:"onInputClick",value:function(e){var t=this.plotType.result;switch(parseInt(e.target.value,10)){case Ve.horz_logScale:this.horzSelection.logScale=!this.horzSelection.logScale;break;case Ve.vert_logScale:this.vertSelection.logScale=!this.vertSelection.logScale;break;case Ve.utilities_viewCopyNumber:t===qe.WaterfallPlot?(this.viewCopyNumber=!0,this.viewMutationType=!1):this.viewCopyNumber=!this.viewCopyNumber;break;case Ve.utilities_viewMutationType:t===qe.WaterfallPlot?(this.viewCopyNumber=!1,this.viewMutationType=!0):this.viewMutationType=!this.viewMutationType;break;case Ve.utilities_showRegressionLine:this.showRegressionLine=!this.showRegressionLine;break;case Ve.utilities_horizontalBars:this.horizontalBars=!this.horizontalBars;break;case Ve.utilities_viewLimitValues:this.viewLimitValues=!this.viewLimitValues}}},{key:"downloadData",value:function(){var e=this;Object(Ee.a)([this.props.store.entrezGeneIdToGene,this.props.store.sampleKeyToSample,this.horzLabel,this.vertLabel],function(t,n,r,o){var i="".concat(e.downloadFilename,".txt");switch(e.plotType.result){case qe.ScatterPlot:we()(Object(p.r)(e.scatterPlotData.result,r,o,t),i);break;case qe.WaterfallPlot:we()(Object(p.s)(e.waterfallPlotData.result.data,e.waterfallPlotSortOrder,e.waterfallPlotPivotThreshold,e.waterfallLabel.result,t),i);break;case qe.BoxPlot:var a=e.boxPlotData.result.horizontal?o:r,s=e.boxPlotData.result.horizontal?r:o;we()(Object(p.n)(e.boxPlotData.result.data,a,s,t),i);break;case qe.DiscreteVsDiscrete:we()(function(e,t,n,r,o){var i=[],a=!0,s=!1,l=void 0;try{for(var c,u=X(e,t)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value,h=[];h.push(n[p.uniqueSampleKey].sampleId),h.push(p.horz||"n/a"),h.push(p.vert||"n/a"),i.push(h.join("\t"))}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}return["Sample Id",r,o].join("\t")+"\n"+i.join("\n")}(e.horzAxisDataPromise.result.data,e.vertAxisDataPromise.result.data,n,r,o),i)}})}},{key:"setSearchCaseInput",value:function(e){var t=this;this.searchCaseInput=e.target.value,clearTimeout(this.searchCaseTimeout),this.searchCaseTimeout=setTimeout(function(){return t.executeSearchCase(t.searchCaseInput)},600)}},{key:"setSearchMutationInput",value:function(e){var t=this;this.searchMutationInput=e.target.value,clearTimeout(this.searchMutationTimeout),this.searchMutationTimeout=setTimeout(function(){return t.executeSearchMutation(t.searchMutationInput)},600)}},{key:"executeSearchCase",value:function(e){this.searchCase=e}},{key:"executeSearchMutation",value:function(e){this.searchMutation=e}},{key:"getHorizontalAxisMenu",value:function(){return this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete?this.getAxisMenu(!1,this.dataTypeOptions.result,this.dataTypeToDataSourceOptions.result):r.createElement("span",null)}},{key:"getVerticalAxisMenu",value:function(){return this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete?this.getAxisMenu(!0,this.dataTypeOptions.result,this.dataTypeToDataSourceOptions.result):r.createElement("span",null)}},{key:"onVerticalAxisGeneSelect",value:function(e){this.vertSelection.selectedGeneOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection)}},{key:"onHorizontalAxisGeneSelect",value:function(e){this.horzSelection.selectedGeneOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection)}},{key:"selectSameGeneOptionForVerticalAxis",value:function(){var e=this.vertGeneOptions.find(function(e){return-2===e.value});e&&this.onVerticalAxisGeneSelect(e)}},{key:"onVerticalAxisGenesetSelect",value:function(e){this.vertSelection.selectedGenesetOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection)}},{key:"onHorizontalAxisGenesetSelect",value:function(e){this.horzSelection.selectedGenesetOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection)}},{key:"onVerticalAxisTreatmentSelect",value:function(e){this.vertSelection.selectedTreatmentOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection)}},{key:"onHorizontalAxisTreatmentSelect",value:function(e){this.horzSelection.selectedTreatmentOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection)}},{key:"onUtilitiesGeneSelect",value:function(e){this.utilitiesMenuSelection.selectedGeneOption=e}},{key:"test__selectGeneOption",value:function(e,t){var n=(e?this.vertGeneOptions||[]:this.horzGeneOptions.result||[]).find(function(e){return e.value===t});if(!n)throw"Option not found";e?this.onVerticalAxisGeneSelect(n):this.onHorizontalAxisGeneSelect(n)}},{key:"showGeneSelectBox",value:function(e){return e!==Je&&e!==p.c&&e!==p.a&&!u.a.keys(a.b).includes(e)}},{key:"showGenesetSelectBox",value:function(e){return e!==Je&&e===p.c}},{key:"showTreatmentSelectBox",value:function(e){return e!==Je&&u.a.keys(a.b).includes(e)}},{key:"showDatasourceBox",value:function(e){return e!==Je}},{key:"showUtilitiesMenuGeneSelectBox",value:function(){return this.plotType.isComplete&&this.plotType.result===qe.WaterfallPlot}},{key:"showSortOrderButton",value:function(e){return!!this.waterfallPlotIsShown&&(e?!this.isHorizontalWaterfallPlot:this.isHorizontalWaterfallPlot)}},{key:"onVerticalAxisDataTypeSelect",value:function(e){var t=this.vertSelection.selectedGeneOption,n=this.horzSelection.selectedGeneOption;this.vertSelection.dataType=e.value,this.waterfallPlotIsShown&&this.viewMutationType&&this.viewCopyNumber&&(this.viewCopyNumber=!1),this.viewLimitValues=!0,this.selectionHistory.runVerticalUpdaters(e.value,this.onVerticalAxisGeneSelect,this.onVerticalAxisGenesetSelect,this.onVerticalAxisDataSourceSelect,this.onVerticalAxisTreatmentSelect),this.vertSelection.dataType&&!this.showGeneSelectBox(this.vertSelection.dataType)&&n&&-2==n.value&&this.onHorizontalAxisGeneSelect(t)}},{key:"onHorizontalAxisDataTypeSelect",value:function(e){var t=this.horzSelection.selectedGeneOption,n=this.vertSelection.selectedGeneOption;this.horzSelection.dataType=e.value,this.waterfallPlotIsShown&&this.viewMutationType&&this.viewCopyNumber&&(this.viewCopyNumber=!1),this.viewLimitValues=!0,this.selectionHistory.runHorizontalUpdaters(e.value,this.onHorizontalAxisGeneSelect,this.onHorizontalAxisGenesetSelect,this.onHorizontalAxisDataSourceSelect,this.onHorizontalAxisTreatmentSelect),this.horzSelection.dataType&&!this.showGeneSelectBox(this.horzSelection.dataType)&&n&&-2==n.value&&this.onVerticalAxisGeneSelect(t)}},{key:"onVerticalAxisDataSourceSelect",value:function(e){this.vertSelection.selectedDataSourceOption=e,this.viewLimitValues=!0,this.selectionHistory.updateVerticalFromSelection(this.vertSelection)}},{key:"onHorizontalAxisDataSourceSelect",value:function(e){this.horzSelection.selectedDataSourceOption=e,this.viewLimitValues=!0,this.selectionHistory.updateHorizontalFromSelection(this.horzSelection)}},{key:"onVerticalAxisMutationCountBySelect",value:function(e){this.vertSelection.mutationCountBy=e.value,this.viewLimitValues=!0}},{key:"onHorizontalAxisMutationCountBySelect",value:function(e){this.horzSelection.mutationCountBy=e.value,this.viewLimitValues=!0}},{key:"onDiscreteVsDiscretePlotTypeSelect",value:function(e){this.discreteVsDiscretePlotType=e.value}},{key:"onSortOrderButtonPressed",value:function(){this._waterfallPlotSortOrder="ASC"===this.waterfallPlotSortOrder?"DESC":"ASC"}},{key:"swapHorzVertSelections",value:function(){for(var e=this,t=["dataType","selectedDataSourceOption","logScale","mutationCountBy"],n=t.map(function(t){return e.horzSelection[t]}),r=t.map(function(t){return e.vertSelection[t]}),o=0;o<t.length;o++)this.horzSelection[t[o]]=r[o],this.vertSelection[t[o]]=n[o];if(!this.vertSelection.selectedGeneOption||-2!==this.vertSelection.selectedGeneOption.value){var i=this.horzSelection.selectedGeneOption,a=this.vertSelection.selectedGeneOption;this.horzSelection.selectedGeneOption=a,this.vertSelection.selectedGeneOption=i}if(!this.vertSelection.selectedGenesetOption||"same"!==this.vertSelection.selectedGenesetOption.value){var s=this.horzSelection.selectedGenesetOption,l=this.vertSelection.selectedGenesetOption;this.horzSelection.selectedGenesetOption=l,this.vertSelection.selectedGenesetOption=s}if(!this.vertSelection.selectedTreatmentOption||"same"!==this.vertSelection.selectedTreatmentOption.value){var c=this.horzSelection.selectedTreatmentOption,u=this.vertSelection.selectedTreatmentOption;this.horzSelection.selectedTreatmentOption=u,this.vertSelection.selectedTreatmentOption=c}}},{key:"scatterPlotStroke",value:function(e){return this.scatterPlotAppearance(e).stroke}},{key:"scatterPlotStrokeOpacity",value:function(e){return this.scatterPlotAppearance(e).strokeOpacity}},{key:"scatterPlotSymbol",value:function(e){return this.scatterPlotAppearance(e).symbol||"circle"}},{key:"waterfallPlotColor",value:function(e){switch(this.viewType){case He.CopyNumber:case He.LimitValCopyNumber:return this.scatterPlotStroke(e);case He.MutationType:case He.MutationSummary:case He.LimitValMutationType:case He.LimitValMutationSummary:return this.scatterPlotAppearance(e).fill;case He.LimitVal:case He.None:default:return p.G[p.d.Neither].fill}}},{key:"waterfallPlotLimitValueSymbolVisibility",value:function(e){switch(this.viewType){case He.LimitVal:case He.LimitValMutationType:case He.LimitValMutationSummary:case He.LimitValCopyNumber:case He.LimitValMutationTypeAndCopyNumber:return Object(g.b)(e);default:return!1}}},{key:"scatterPlotTooltip",value:function(e){return Object(p.I)(e)}},{key:"waterfallPlotTooltip",value:function(e){return Object(p.P)(e)}},{key:"isDisabledAxisLogCheckbox",value:function(e){return e?this.vertAxisDataHasNegativeNumbers:this.horzAxisDataHasNegativeNumbers}},{key:"getAxisMenu",value:function(e,t,n){var o=e?this.vertSelection:this.horzSelection;if(o.dataType===p.a&&!this.clinicalAttributeIdToClinicalAttribute.isComplete||o.dataType!==p.a&&o.dataType!==a.a.MUTATION_EXTENDED&&!this.props.store.molecularProfileIdToMolecularProfile.isComplete)return r.createElement(ye.a,{isLoading:!0});var i=e?"Vertical":"Horizontal",c="Profile",h=o.dataSourceId,d=(o.dataType?n[o.dataType]:[])||[],f=e?this.onVerticalAxisDataSourceSelect:this.onHorizontalAxisDataSourceSelect;switch(o.dataType){case p.a:c="Clinical Attribute";break;case a.a.MUTATION_EXTENDED:c="Group Mutations by",h=o.mutationCountBy,d=nt,f=e?this.onVerticalAxisMutationCountBySelect:this.onHorizontalAxisMutationCountBySelect;break;case void 0:break;default:c="".concat(p.l[o.dataType]," Profile")}var m="";h&&o.dataType!==a.a.MUTATION_EXTENDED&&(m=o.dataType===p.a?this.clinicalAttributeIdToClinicalAttribute.result[h].description:this.props.store.molecularProfileIdToMolecularProfile.result[h].description);var y="";if(o.dataType===Je){var g=e?this.horzSelection.dataSourceId:this.vertSelection.dataSourceId,v=this.props.store.molecularProfileIdToMolecularProfile.result[g].name;y="Sample order determined by values on the '".concat(v,"' axis")}return r.createElement("form",{className:"main-form"},r.createElement("h4",{className:"tab-title"},e?"Vertical":"Horizontal"," Axis"),r.createElement("div",null,r.createElement("div",{style:{marginBottom:"5px"},className:"form-group"},r.createElement("label",{className:"label-text"},"Data Type"),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(l.a,{name:"".concat(e?"v":"h","-profile-type-selector"),value:o.dataType,onChange:e?this.onVerticalAxisDataTypeSelect:this.onHorizontalAxisDataTypeSelect,options:this.horzDatatypeOptions&&this.vertDatatypeOptions?e?this.vertDatatypeOptions:this.horzDatatypeOptions:[],clearable:!1,searchable:!1}),y&&r.createElement(ge.a,{tooltip:r.createElement("span",null,y),tooltipPlacement:"right",style:{marginLeft:7}}))),this.showSortOrderButton(!e)&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement(s.Button,{className:"btn btn-default sort-order","data-test":"changeSortOrderButton",type:"button",onClick:this.onSortOrderButtonPressed},r.createElement("i",{className:this.sortOrderImageClassName})),"Sort Order")),o.dataType&&this.showDatasourceBox(o.dataType)&&r.createElement("div",{style:{marginBottom:"5px"},className:"form-group"},r.createElement("label",{className:"label-text"},c),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(l.a,{className:"data-source-id",name:"".concat(e?"v":"h","-profile-name-selector"),value:h,onChange:f,options:d,clearable:!1,searchable:!0}),m&&r.createElement(ge.a,{tooltip:r.createElement("span",null,m),tooltipPlacement:"right",style:{marginLeft:7}}))),Object(p.w)(o)&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"".concat(i,"LogCheckbox"),type:"checkbox",name:"vert_logScale",value:e?Ve.vert_logScale:Ve.horz_logScale,checked:o.logScale&&!this.isDisabledAxisLogCheckbox(e),disabled:this.isDisabledAxisLogCheckbox(e),onClick:this.onInputClick}),"Log Scale")),(e&&this.vertLimitValuesCanBeShown||!e&&this.horzLimitValuesCanBeShown)&&r.createElement("div",{className:"checkbox color-samples-toolbar-elt"},r.createElement("label",{className:"limit-value-label"},r.createElement("input",{"data-test":"ViewLimitValues",type:"checkbox",name:"utilities_viewLimitValues",value:Ve.utilities_viewLimitValues,checked:this.viewLimitValues,onClick:this.onInputClick,disabled:e&&!this.vertLimitValuesCanBeShown||!e&&!this.horzLimitValuesCanBeShown}),e?this.vertMenuLimitValueLabel:this.horzMenuLimitValueLabel)),o.dataType&&this.showGeneSelectBox(o.dataType)&&r.createElement("div",{className:"form-group",style:{display:o.dataType===p.a?"none":"block"}},r.createElement("label",null,"Gene"),r.createElement("div",{style:{display:"flex"}},r.createElement(l.a,{name:"".concat(e?"v":"h","-gene-selector"),value:o.selectedGeneOption?o.selectedGeneOption.value:void 0,onChange:e?this.onVerticalAxisGeneSelect:this.onHorizontalAxisGeneSelect,isLoading:this.horzGeneOptions.isPending,options:this.vertGeneOptions&&this.horzGeneOptions?e?this.vertGeneOptions:this.horzGeneOptions.result:[],clearable:!1,searchable:!1,disabled:o.dataType===p.a||o.dataType===p.c}))),o.dataType&&this.showGenesetSelectBox(o.dataType)&&r.createElement("div",{className:"form-group",style:{opacity:1}},r.createElement("label",null,"Gene Set"),r.createElement("div",{style:{display:"flex"}},r.createElement(l.a,{name:"".concat(e?"v":"h","-geneset-selector"),value:o.selectedGenesetOption?o.selectedGenesetOption.value:void 0,onChange:e?this.onVerticalAxisGenesetSelect:this.onHorizontalAxisGenesetSelect,isLoading:this.horzGenesetOptions.isPending,options:this.vertGenesetOptions&&this.horzGenesetOptions?e?this.vertGenesetOptions:this.horzGenesetOptions.result:[],clearable:!1,searchable:!1,disabled:o.dataType!==p.c}))),o.dataType&&this.showTreatmentSelectBox(o.dataType)&&r.createElement("div",{className:"form-group",style:{opacity:1}},r.createElement("label",null,"Treatment"),r.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.createElement(l.a,{name:"".concat(e?"v":"h","-treatment-selector"),value:o.selectedTreatmentOption?o.selectedTreatmentOption.value:void 0,onChange:e?this.onVerticalAxisTreatmentSelect:this.onHorizontalAxisTreatmentSelect,isLoading:this.horzTreatmentOptions.isPending,options:this.vertTreatmentOptions&&this.horzTreatmentOptions?e?this.vertTreatmentOptions:this.horzTreatmentOptions.result:[],clearable:!1,searchable:!1,disabled:void 0===o.dataType||o.dataType===p.a||!u.a.keys(a.b).includes(o.dataType)})))))}},{key:"getUtilitiesMenu",value:function(){var e=this.plotType.isComplete&&this.plotType.result!==qe.DiscreteVsDiscrete,t=this.plotType.isComplete&&this.plotType.result===qe.DiscreteVsDiscrete,n=t&&this.discreteVsDiscretePlotType!==We.Table,o=this.mutationDataCanBeShown||this.cnaDataCanBeShown,i=this.plotType.isComplete&&this.plotType.result===qe.ScatterPlot;return e||o||t||n||i?r.createElement("div",{style:{marginTop:10}},r.createElement("div",null,e&&r.createElement("div",null,r.createElement("div",{className:"form-group"},r.createElement("label",null,"Search Case(s)"),r.createElement(s.FormControl,{type:"text",value:this.searchCaseInput,onChange:this.setSearchCaseInput,placeholder:"Case ID.."})),this.mutationDataCanBeShown&&r.createElement("div",{className:"form-group"},r.createElement("label",null,"Search Mutation(s)"),r.createElement(s.FormControl,{type:"text",value:this.searchMutationInput,onChange:this.setSearchMutationInput,placeholder:"Protein Change.."}),this.showMutationNotFoundMessage&&r.createElement("span",{className:"mutation-message"},"Mutation not found for selected gene"))),t&&r.createElement("div",{className:"form-group"},r.createElement("label",null,"Plot Type"),r.createElement("div",{style:{display:"flex"}},r.createElement(l.a,{name:"discrete-vs-discrete-plot-type",value:this.discreteVsDiscretePlotType,onChange:this.onDiscreteVsDiscretePlotTypeSelect,options:rt,clearable:!1,searchable:!0}))),n&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"horizontalBars",type:"checkbox",name:"utilities_horizontalBars",value:Ve.utilities_horizontalBars,checked:this.horizontalBars,onClick:this.onInputClick})," ","Horizontal Bars")),i&&r.createElement("div",{className:"checkbox",style:{marginTop:14}},r.createElement("label",null,r.createElement("input",{"data-test":"ShowRegressionline",type:"checkbox",name:"utilities_showRegressionLine",value:Ve.utilities_showRegressionLine,checked:this.showRegressionLine,onClick:this.onInputClick})," ","Show Regression Line")))):r.createElement("span",null)}},{key:"assignScrollPaneRef",value:function(e){this.scrollPane=e}},{key:"controls",value:function(){return r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("div",{className:"axisBlock"},r.createElement(i.Observer,null,this.getHorizontalAxisMenu)),r.createElement("div",{className:"swapAxes"},r.createElement("button",{className:"btn btn-link btn-xs","data-test":"swapHorzVertButton",onClick:this.swapHorzVertSelections},r.createElement("i",{className:"fa fa-arrow-up"})," Swap Axes"," ",r.createElement("i",{className:"fa fa-arrow-down"}))),r.createElement("div",{className:"axisBlock"},r.createElement(i.Observer,null,this.getVerticalAxisMenu)),r.createElement("div",null,r.createElement(i.Observer,null,this.getUtilitiesMenu)))}},{key:"componentDidUpdate",value:function(){this.plotExists=!!this.getSvg()}},{key:"render",value:function(){return r.createElement("div",{"data-test":"PlotsTabEntireDiv"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(Ce.a,{className:"plots-oql-status-banner",store:this.props.store,tabReflectsOql:!1}),r.createElement(Ae.a,{store:this.props.store,isUnaffected:!0})),r.createElement("div",{className:"plotsTab"},r.createElement("div",{className:"quickPlotsContainer"},r.createElement("strong",{className:"quickPlotsTitle"},"Examples: "),this.quickPlotButtons),r.createElement("div",{style:{display:"flex"}},r.createElement("div",{className:"leftColumn"},this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete?r.createElement(i.Observer,null,this.controls):r.createElement(ye.a,{isLoading:!0,center:!0,size:"big"})),r.createElement("div",{className:"chartWrapper"},this.plot))))}},{key:"viewType",get:function(){var e=He.None;switch(this.potentialViewType){case Ue.MutationTypeAndCopyNumber:e=this.viewMutationType&&this.viewCopyNumber?He.MutationTypeAndCopyNumber:this.viewMutationType?He.MutationType:this.viewCopyNumber?He.CopyNumber:He.None;break;case Ue.MutationSummary:e=this.viewMutationType?He.MutationSummary:He.None;break;case Ue.LimitValMutationTypeAndCopyNumber:e=this.viewMutationType&&this.viewCopyNumber&&this.viewLimitValues?He.LimitValMutationTypeAndCopyNumber:this.viewMutationType&&this.viewCopyNumber?He.MutationTypeAndCopyNumber:this.viewMutationType&&this.viewLimitValues?He.LimitValMutationType:this.viewCopyNumber&&this.viewLimitValues?He.LimitValCopyNumber:this.viewMutationType?He.MutationType:this.viewCopyNumber?He.CopyNumber:this.viewLimitValues?He.LimitVal:He.None;break;case Ue.LimitValMutationSummary:e=this.viewMutationType&&this.viewLimitValues?He.LimitValMutationSummary:this.viewMutationType?He.MutationSummary:this.viewLimitValues?He.LimitVal:He.None;break;case Ue.LimitVal:this.viewLimitValues&&(e=He.LimitVal)}return e}},{key:"quickPlotButtons",get:function(){var e=this;if(!(this.dataTypeOptions.isComplete&&this.dataTypeToDataSourceOptions.isComplete&&this.props.store.samplesByDetailedCancerType.isComplete&&this.props.store.mutations.isComplete))return r.createElement(ye.a,{isLoading:!0,size:"small"});var t=Object.keys(this.props.store.samplesByDetailedCancerType.result),n=this.props.store.mutations.result.length,i=this.horzSelection.selectedDataSourceOption?this.horzSelection.selectedDataSourceOption.value:void 0,a=this.vertSelection.selectedDataSourceOption?this.vertSelection.selectedDataSourceOption.value:void 0,s=function(e,t,n,r,o,i){return De.filter(function(o){return o.isApplicableToQuery(e,t,n,r)}).map(function(n){return n.toButtonInfo(i,o,e,t)})}(this.dataTypeOptions.result,this.dataTypeToDataSourceOptions.result,t,n,{type:this.horzSelection.dataType,source:i},{type:this.vertSelection.dataType,source:a});return r.createElement("div",{className:"pillTabs"},r.createElement("ul",{className:"nav nav-pills"},s.map(function(t){return r.createElement("li",{className:"plots-tab-pills "+(t.selected?"active":""),onClick:Object(o.action)(function(){t.plotModel.horizontal.dataType&&e.onHorizontalAxisDataTypeSelect(t.plotModel.horizontal.dataType),t.plotModel.horizontal.dataSource&&e.onHorizontalAxisDataSourceSelect(t.plotModel.horizontal.dataSource),t.plotModel.vertical.dataType&&e.onVerticalAxisDataTypeSelect(t.plotModel.vertical.dataType),t.plotModel.vertical.dataSource&&e.onVerticalAxisDataSourceSelect(t.plotModel.vertical.dataSource),t.plotModel.vertical.useSameGene&&e.selectSameGeneOptionForVerticalAxis()})},r.createElement("a",null,t.display))})))}},{key:"potentialViewType",get:function(){return this.plotType.result===qe.DiscreteVsDiscrete?Ue.None:this.sameGeneInBothAxes?Ue.MutationTypeAndCopyNumber:this.bothAxesMolecularProfile?Ue.MutationSummary:this.oneAxisMolecularProfile?this.limitValuesCanBeShown?Ue.LimitValMutationTypeAndCopyNumber:Ue.MutationTypeAndCopyNumber:this.limitValuesCanBeShown?Ue.LimitVal:Ue.None}},{key:"horzDatatypeOptions",get:function(){var e=void 0;return this.dataTypeOptions&&this.vertSelection.dataType&&u.a.keys(a.b).includes(this.vertSelection.dataType)&&(e=[{value:Je,label:tt}]),(e||[]).concat(this.dataTypeOptions.result||[])}},{key:"vertDatatypeOptions",get:function(){var e=void 0;return this.dataTypeOptions&&this.horzSelection.dataType&&u.a.keys(a.b).includes(this.horzSelection.dataType)&&(e=[{value:Je,label:tt}]),(e||[]).concat(this.dataTypeOptions.result||[])}},{key:"vertGeneOptions",get:function(){var e=void 0;return this.horzSelection.dataType&&this.showGeneSelectBox(this.horzSelection.dataType)&&this.horzSelection.selectedGeneOption&&this.horzSelection.selectedGeneOption.value!==et&&(e=[{value:-2,label:"Same gene (".concat(this.horzSelection.selectedGeneOption.label,")")}]),(e||[]).concat(this.horzGeneOptions.result||[])}},{key:"utilityMenuGeneOptions",get:function(){return this.horzGeneOptions.result||[]}},{key:"vertGenesetOptions",get:function(){var e=void 0;return(this.horzGenesetOptions||this.horzSelection.dataType)&&this.horzSelection.dataType&&this.showGenesetSelectBox(this.horzSelection.dataType)&&this.horzSelection.selectedGenesetOption&&this.horzSelection.selectedGenesetOption.value!==Je&&(e=[{value:"same",label:"Same gene set (".concat(this.horzSelection.selectedGenesetOption.label,")")}]),(e||[]).concat(this.horzGenesetOptions.result||[])}},{key:"vertTreatmentOptions",get:function(){var e=void 0;return(this.horzTreatmentOptions||this.horzSelection.dataType)&&this.horzSelection.dataType&&u.a.keys(a.b).includes(this.horzSelection.dataType)&&this.horzSelection.dataType&&this.showTreatmentSelectBox(this.horzSelection.dataType)&&this.horzSelection.selectedTreatmentOption&&this.horzSelection.selectedTreatmentOption.value!==Je&&(e=[{value:"same",label:"Same treatment (".concat(this.horzSelection.selectedTreatmentOption.label,")")}]),(e||[]).concat(this.horzTreatmentOptions.result||[])}},{key:"waterfallPlotIsShown",get:function(){return Object(p.K)(this.horzSelection,this.vertSelection)}},{key:"bothAxesMolecularProfile",get:function(){return(void 0===this.horzSelection.dataType||this.horzSelection.dataType!==p.a&&!u.a.keys(a.b).includes(this.horzSelection.dataType))&&(void 0===this.vertSelection.dataType||this.vertSelection.dataType!==p.a&&!u.a.keys(a.b).includes(this.vertSelection.dataType))}},{key:"oneAxisMolecularProfile",get:function(){return!this.bothAxesMolecularProfile&&(void 0===this.horzSelection.dataType||this.horzSelection.dataType!==p.a&&this.horzSelection.dataType&&!u.a.keys(a.b).includes(this.horzSelection.dataType)||void 0===this.vertSelection.dataType||this.vertSelection.dataType!==p.a&&!u.a.keys(a.b).includes(this.vertSelection.dataType))}},{key:"sameGeneInBothAxes",get:function(){return this.bothAxesMolecularProfile&&this.horzSelection.entrezGeneId===this.vertSelection.entrezGeneId}},{key:"cnaDataCanBeShown",get:function(){return!(!this.cnaDataExists.result||this.potentialViewType!==Ue.MutationTypeAndCopyNumber&&this.potentialViewType!==Ue.LimitValMutationTypeAndCopyNumber)}},{key:"limitValuesCanBeShown",get:function(){return this.limitValueTypes.length>0}},{key:"limitValueTypes",get:function(){return u.a.uniq(this.horzLimitValueTypes.concat(this.vertLimitValueTypes))}},{key:"horzLimitValueTypes",get:function(){return this.horzAxisDataPromise.result&&this.horzSelection.dataType&&u.a.keys(a.b).includes(this.horzSelection.dataType)?(console.log(this.horzAxisDataPromise.result),Object(p.p)(this.horzAxisDataPromise.result.data)):[]}},{key:"horzLimitValuesCanBeShown",get:function(){return this.horzLimitValueTypes.length>0}},{key:"vertLimitValueTypes",get:function(){return this.vertAxisDataPromise.result&&this.vertSelection.dataType&&u.a.keys(a.b).includes(this.vertSelection.dataType)?Object(p.p)(this.vertAxisDataPromise.result.data):[]}},{key:"vertLimitValuesCanBeShown",get:function(){return this.vertLimitValueTypes.length>0}},{key:"legendLimitValueLabel",get:function(){return"value ".concat(this.limitValueTypes.join(" or ")).concat(this.isWaterfallPlot?"":" **")}},{key:"vertMenuLimitValueLabel",get:function(){return"Value ".concat(this.vertLimitValueTypes.join(" or ")," Labels").concat(this.isWaterfallPlot?"":" **")}},{key:"horzMenuLimitValueLabel",get:function(){return"Value ".concat(this.horzLimitValueTypes.join(" or ")," Labels").concat(this.isWaterfallPlot?"":" **")}},{key:"cnaDataShown",get:function(){return!(!this.cnaDataExists.result||this.viewType!==He.CopyNumber&&this.viewType!==He.MutationTypeAndCopyNumber&&this.viewType!==He.LimitValCopyNumber&&this.viewType!==He.LimitValMutationTypeAndCopyNumber)}},{key:"mutationDataCanBeShown",get:function(){return!(!this.mutationDataExists.result||this.potentialViewType===Ue.None||this.potentialViewType===Ue.LimitVal)}},{key:"mutationDataShown",get:function(){return!(!this.mutationDataExists.result||this.viewType!==He.MutationType&&this.viewType!==He.MutationSummary&&this.viewType!==He.MutationTypeAndCopyNumber)}},{key:"plotDataExistsForTwoAxes",get:function(){return this.horzAxisDataPromise.isComplete&&this.horzAxisDataPromise.result.data.length>0&&this.vertAxisDataPromise.isComplete&&this.vertAxisDataPromise.result.data.length>0}},{key:"horzAxisDataPromise",get:function(){return Object(p.y)(this.horzSelection,this.clinicalAttributeIdToClinicalAttribute,this.props.store.molecularProfileIdToMolecularProfile,this.props.store.patientKeyToSamples,this.props.store.entrezGeneIdToGene,this.props.store.clinicalDataCache,this.props.store.mutationCache,this.props.store.numericGeneMolecularDataCache,this.props.store.studyToMutationMolecularProfile,this.props.store.coverageInformation,this.props.store.samples,this.props.store.genesetMolecularDataCache,this.props.store.treatmentMolecularDataCache)}},{key:"vertAxisDataPromise",get:function(){return Object(p.y)(this.vertSelection,this.clinicalAttributeIdToClinicalAttribute,this.props.store.molecularProfileIdToMolecularProfile,this.props.store.patientKeyToSamples,this.props.store.entrezGeneIdToGene,this.props.store.clinicalDataCache,this.props.store.mutationCache,this.props.store.numericGeneMolecularDataCache,this.props.store.studyToMutationMolecularProfile,this.props.store.coverageInformation,this.props.store.samples,this.props.store.genesetMolecularDataCache,this.props.store.treatmentMolecularDataCache)}},{key:"vertAxisDataHasNegativeNumbers",get:function(){return!(!this.vertAxisDataPromise.isComplete||!this.vertAxisDataPromise.result)&&Object(p.i)(this.vertAxisDataPromise.result)}},{key:"horzAxisDataHasNegativeNumbers",get:function(){return!(!this.horzAxisDataPromise.isComplete||!this.horzAxisDataPromise.result)&&Object(p.i)(this.horzAxisDataPromise.result)}},{key:"waterfallPlotTitle",get:function(){var e=this.isHorizontalWaterfallPlot?this.horzSelection:this.vertSelection,t=e.selectedTreatmentOption.label,n=e.selectedDataSourceOption.label,r=this.utilitiesMenuSelection.selectedGeneOption.label,o="";return this.viewMutationType?o=" x ".concat(r," mutation types"):this.viewCopyNumber&&(o=" x ".concat(r," CNA types")),"".concat(t," ").concat(n).concat(o)}},{key:"waterfallPlotWidth",get:function(){var e=this.waterfallPlotData.isComplete?this.waterfallPlotData.result.data.length:0;return this.isHorizontalWaterfallPlot?p.g:p.f+Math.round(e*p.h)}},{key:"waterfallPlotHeigth",get:function(){var e=this.waterfallPlotData.isComplete?this.waterfallPlotData.result.data.length:0;return this.isHorizontalWaterfallPlot?p.f+Math.round(e*p.h):p.g}},{key:"scatterPlotAppearance",get:function(){return Object(p.D)(this.viewType,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated)}},{key:"scatterPlotFill",get:function(){var e=this;switch(this.viewType){case He.CopyNumber:return"#000000";case He.MutationTypeAndCopyNumber:case He.MutationType:case He.MutationSummary:case He.LimitVal:case He.LimitValMutationType:case He.LimitValMutationSummary:case He.LimitValMutationTypeAndCopyNumber:return function(t){return e.scatterPlotAppearance(t).fill};case He.None:return p.G[p.d.Neither].fill}}},{key:"scatterPlotFillOpacity",get:function(){return this.viewType===He.CopyNumber||this.viewType===He.LimitValCopyNumber?0:1}},{key:"scatterPlotStrokeWidth",get:function(){return this.viewType===He.CopyNumber||this.viewType===He.MutationTypeAndCopyNumber||this.viewType===He.LimitValCopyNumber||this.viewType===He.LimitValMutationTypeAndCopyNumber?p.b:1}},{key:"boxPlotTooltip",get:function(){var e=this;return function(t){return e.boxPlotData.isComplete?Object(p.j)(t,e.boxPlotData.result.horizontal):r.createElement("span",null,"Loading... (this shouldnt appear because the box plot shouldnt be visible)")}}},{key:"searchMutationWords",get:function(){return this.searchMutation.trim().split(/\s+/g).filter(function(e){return!!e.length})}},{key:"scatterPlotHighlight",get:function(){var e=this,t=this.searchCase.trim().split(/\s+/g),n=this.searchMutationWords;return function(r){var o=!1,i=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(o=o||!!u.length&&r.sampleId.indexOf(u)>-1)break}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}var p=!1,h=!0,d=!1,f=void 0;try{for(var m,y=n[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;if(p=p||e.fDatumHasMutation(r,g))break}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}return o||p}}},{key:"showMutationNotFoundMessage",get:function(){var e=this,t=!1;return this.searchMutationWords.length>0&&this.waterfallPlotIsShown&&this.waterfallPlotData.isComplete&&(t=!0,u.a.each(this.searchMutationWords,function(n){var r=e.waterfallPlotData.result.data;u.a.some(r,function(t){return e.fDatumHasMutation(t,n)})&&(t=!1)})),t}},{key:"waterfallPlotPivotThreshold",get:function(){var e=this.isHorizontalWaterfallPlot?this.horzSelection.dataSourceId:this.vertSelection.dataSourceId;return this.props.store.molecularProfileIdToMolecularProfile.result[e].pivotThreshold}},{key:"waterfallPlotSortOrder",get:function(){if(void 0===this._waterfallPlotSortOrder&&this.isWaterfallPlot){var e=this.horzSelection.dataSourceId||this.vertSelection.dataSourceId;return this.props.store.molecularProfileIdToMolecularProfile.result[e].sortOrder}return this._waterfallPlotSortOrder}},{key:"isHorizontalWaterfallPlot",get:function(){return this.isWaterfallPlot&&!!this.vertAxisDataPromise.result&&this.vertAxisDataPromise.result.datatype===Je}},{key:"isWaterfallPlot",get:function(){return!!this.plotType.result&&this.plotType.result===qe.WaterfallPlot}},{key:"sortOrderImageClassName",get:function(){var e=this.isHorizontalWaterfallPlot?"horz":"vert",t=!this.isHorizontalWaterfallPlot&&"ASC"===this.waterfallPlotSortOrder||this.isHorizontalWaterfallPlot&&"DESC"===this.waterfallPlotSortOrder?"ascending":"descending";return"".concat("fa fa-signal"," ").concat(e,"-").concat(t)}},{key:"zIndexSortBy",get:function(){return Object(p.J)(this.viewType,this.scatterPlotHighlight)}},{key:"boxPlotBoxWidth",get:function(){return this.boxPlotData.isComplete?this.boxPlotData.result.data.length>7?30:60:30}},{key:"horzLogScaleFunction",get:function(){return Object(p.z)(this.horzSelection)}},{key:"vertLogScaleFunction",get:function(){return Object(p.z)(this.vertSelection)}},{key:"showNoTreamentsSelectedWarning",get:function(){return(this.vertSelection.dataType&&u.a.keys(a.b).includes(this.vertSelection.dataType)||this.horzSelection.dataType&&u.a.keys(a.b).includes(this.horzSelection.dataType))&&0===this.vertTreatmentOptions.length}},{key:"plot",get:function(){var e=[this.plotType,this.horzAxisDataPromise,this.vertAxisDataPromise,this.horzLabel,this.vertLabel],t=ke.a.apply(void 0,e),n=this.discreteVsDiscretePlotType===We.PercentageStackedBar,o=n||this.discreteVsDiscretePlotType===We.StackedBar;if(this.showNoTreamentsSelectedWarning)return r.createElement("div",null,r.createElement("i",{className:"fa fa-exclamation-triangle text-danger"}),"",r.createElement("span",null,'To visualize treatment response data, you must first visit the OncoPrint tab and use the "Heatmap" menu to add treatment response tracks to the OncoPrint. Any treatments added to the OncoPrint will then be available on this tab for visualization.'));switch(t){case"pending":return r.createElement(ye.a,{isLoading:!0,center:!0,size:"big"});case"error":return r.createElement("span",null,"Error loading plot data.");default:var i=null;switch(this.plotType.result){case qe.DiscreteVsDiscrete:i=this.discreteVsDiscretePlotType===We.Table?r.createElement(me,{svgId:Ze,horzData:this.horzAxisDataPromise.result.data,vertData:this.vertAxisDataPromise.result.data,horzCategoryOrder:this.horzAxisDataPromise.result.categoryOrder,vertCategoryOrder:this.vertAxisDataPromise.result.categoryOrder,minCellWidth:35,minCellHeight:35,minChartWidth:p.e,minChartHeight:p.e,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result}):r.createElement(Te.a,{svgId:Ze,horzData:this.horzAxisDataPromise.result.data,vertData:this.vertAxisDataPromise.result.data,categoryToColor:xe.w,horzCategoryOrder:this.horzAxisDataPromise.result.categoryOrder,vertCategoryOrder:this.vertAxisDataPromise.result.categoryOrder,barWidth:20,domainPadding:20,chartBase:p.e,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result,legendLocationWidthThreshold:550,horizontalBars:this.horizontalBars,percentage:n,stacked:o});break;case qe.ScatterPlot:if(this.scatterPlotData.isComplete){i=r.createElement(Ye,{svgId:Ze,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result,data:this.scatterPlotData.result,size:g.h,chartWidth:p.e,chartHeight:p.e,tooltip:this.scatterPlotTooltip,highlight:this.scatterPlotHighlight,showRegressionLine:this.showRegressionLine,logX:this.horzLogScaleFunction,logY:this.vertLogScaleFunction,fill:this.scatterPlotFill,stroke:this.scatterPlotStroke,strokeOpacity:this.scatterPlotStrokeOpacity,zIndexSortBy:this.zIndexSortBy,symbol:this.scatterPlotSymbol,fillOpacity:this.scatterPlotFillOpacity,strokeWidth:this.scatterPlotStrokeWidth,useLogSpaceTicks:!0,excludeLimitValuesFromCorrelation:this.limitValuesCanBeShown&&this.viewLimitValues,legendData:Object(p.H)(this.scatterPlotData.result,this.viewType,qe.ScatterPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.limitValueTypes,this.scatterPlotHighlight)});break}return this.scatterPlotData.isError?r.createElement("span",null,"Error loading plot data."):r.createElement(ye.a,{isLoading:!0,center:!0,size:"big"});case qe.WaterfallPlot:if(this.waterfallPlotData.isComplete){var a=this.isHorizontalWaterfallPlot;i=r.createElement(Xe,{svgId:Ze,title:this.waterfallPlotTitle,axisLabel:this.waterfallLabel.result,data:this.waterfallPlotData.result.data,size:g.h,chartWidth:this.waterfallPlotWidth,chartHeight:this.waterfallPlotHeigth,tooltip:this.waterfallPlotTooltip,highlight:this.scatterPlotHighlight,log:a?this.horzLogScaleFunction:this.vertLogScaleFunction,horizontal:a,fill:this.waterfallPlotColor,fillOpacity:1,stroke:this.waterfallPlotColor,strokeOpacity:1,strokeWidth:this.scatterPlotStrokeWidth,symbol:this.scatterPlotSymbol,labelVisibility:this.waterfallPlotLimitValueSymbolVisibility,zIndexSortBy:this.zIndexSortBy,useLogSpaceTicks:!0,legendLocationWidthThreshold:550,sortOrder:this.waterfallPlotSortOrder,pivotThreshold:this.waterfallPlotPivotThreshold,legendData:Object(p.H)(this.waterfallPlotData.result.data,this.viewType,qe.WaterfallPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.limitValueTypes,this.scatterPlotHighlight)});break}return this.scatterPlotData.isError?r.createElement("span",null,"Error loading plot data."):r.createElement(ye.a,{isLoading:!0,center:!0,size:"big"});case qe.BoxPlot:if(this.boxPlotData.isComplete){var s=this.boxPlotData.result.horizontal;i=r.createElement(Qe,{svgId:Ze,domainPadding:75,boxWidth:this.boxPlotBoxWidth,axisLabelX:this.horzLabel.result,axisLabelY:this.vertLabel.result,data:this.boxPlotData.result.data,chartBase:550,scatterPlotTooltip:this.boxPlotTooltip,highlight:this.scatterPlotHighlight,horizontal:s,logScale:s?this.horzLogScaleFunction:this.vertLogScaleFunction,size:g.h,fill:this.scatterPlotFill,stroke:this.scatterPlotStroke,strokeOpacity:this.scatterPlotStrokeOpacity,zIndexSortBy:this.zIndexSortBy,symbol:this.scatterPlotSymbol,fillOpacity:this.scatterPlotFillOpacity,strokeWidth:this.scatterPlotStrokeWidth,useLogSpaceTicks:!0,excludeLimitValuesFromBoxPlot:this.limitValuesCanBeShown&&this.viewLimitValues,legendData:Object(p.H)(u.a.flatten(this.boxPlotData.result.data.map(function(e){return e.data})),this.viewType,qe.BoxPlot,this.mutationDataExists,this.cnaDataExists,this.props.store.driverAnnotationSettings.driversAnnotated,this.limitValueTypes,this.scatterPlotHighlight),legendLocationWidthThreshold:550});break}return this.boxPlotData.isError?r.createElement("span",null,"Error loading plot data."):r.createElement(ye.a,{isLoading:!0,center:!0,size:"big"});default:return r.createElement("span",null,"Not implemented yet")}var c=this.isWaterfallPlot?"gene-select-shown":"";return r.createElement("div",null,r.createElement("div",{"data-test":"PlotsTabPlotDiv",className:"borderedChart posRelative"},r.createElement(_e.a,{style:{position:"relative",top:-5},getScrollEl:this.getScrollPane}),(this.plotDataExistsForTwoAxes||this.waterfallPlotIsShown)&&(this.mutationDataCanBeShown||this.cnaDataCanBeShown)&&r.createElement("div",{style:{textAlign:"left",position:"relative",zIndex:1,marginTop:"-6px",marginBottom:this.isWaterfallPlot?"9px":"-16px",minWidth:this.mutationDataCanBeShown&&this.cnaDataCanBeShown?600:0}},r.createElement("div",{style:{display:"inline-block",position:"relative"},className:"utilities-menu"},r.createElement("label",{className:"legend-label"},"Style samples by:"),"",r.createElement("div",{style:{display:"inline-block"},className:"gene-select-background ".concat(c)},this.isWaterfallPlot&&r.createElement("div",{className:"checkbox gene-select-container"},r.createElement("label",null,"Gene:"),"",r.createElement(l.a,{className:"color-samples-toolbar-elt gene-select",name:"utilities_geneSelectionBox",value:this.utilitiesMenuSelection.selectedGeneOption?this.utilitiesMenuSelection.selectedGeneOption.value:void 0,onChange:this.onUtilitiesGeneSelect,isLoading:this.horzGeneOptions.isPending,options:this.utilityMenuGeneOptions,clearable:!1,searchable:!1,disabled:!this.mutationDataExists.isComplete||!this.mutationDataExists.result})),this.mutationDataCanBeShown&&r.createElement("div",{className:"checkbox color-samples-toolbar-elt"},r.createElement("label",null,r.createElement("input",{"data-test":"ViewMutationType",type:this.plotType.result===qe.WaterfallPlot?"radio":"checkbox",name:"utilities_viewMutationType",value:Ve.utilities_viewMutationType,checked:this.viewMutationType,onClick:this.onInputClick,disabled:!this.mutationDataExists.isComplete||!this.mutationDataExists.result}),"Mutation Type *")),this.cnaDataCanBeShown&&r.createElement("div",{className:"checkbox color-samples-toolbar-elt"},r.createElement("label",null,r.createElement("input",{"data-test":"ViewCopyNumber",type:this.plotType.result===qe.WaterfallPlot?"radio":"checkbox",name:"utilities_viewCopyNumber",value:Ve.utilities_viewCopyNumber,checked:this.viewCopyNumber,onClick:this.onInputClick,disabled:!this.cnaDataExists.isComplete||!this.cnaDataExists.result}),"Copy Number Alteration"))))),this.plotExists&&r.createElement(O.d,{getSvg:this.getSvg,filename:this.downloadFilename,additionalRightButtons:[{key:"Data",content:r.createElement("span",null,"Data"," ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:this.downloadData,disabled:!this.props.store.entrezGeneIdToGene.isComplete}],dontFade:!0,style:{position:"absolute",right:10,top:10},type:"button"}),r.createElement("div",{ref:this.assignScrollPaneRef,style:{position:"relative",display:"inline-block"}},i)),this.mutationDataCanBeShown&&r.createElement("div",{style:{marginTop:5}},"* Driver annotation settings are located in the settings menu"," ",r.createElement("i",{className:"fa fa-sliders fa-sm"})," at the top of the page."),this.limitValuesCanBeShown&&this.plotType.result===qe.ScatterPlot&&r.createElement("div",{style:{marginTop:5}},r.createElement("div",null,"** Labeling of threshold values (e.g. >8.00) excludes threshold values from correlation coefficient calculation.")),this.limitValuesCanBeShown&&this.plotType.result===qe.BoxPlot&&r.createElement("div",{style:{marginTop:5}},r.createElement("div",null,"** Labeling of threshold values (e.g. >8.00) excludes threshold values from box plot calculation.")))}}}])&&Le(n.prototype,c),h&&Le(n,h),t}();$e([o.observable],ot.prototype,"searchCaseInput",void 0),$e([o.observable],ot.prototype,"searchMutationInput",void 0),$e([o.observable],ot.prototype,"viewMutationType",void 0),$e([o.observable],ot.prototype,"viewCopyNumber",void 0),$e([o.observable],ot.prototype,"showRegressionLine",void 0),$e([o.observable],ot.prototype,"discreteVsDiscretePlotType",void 0),$e([o.observable],ot.prototype,"horizontalBars",void 0),$e([o.observable],ot.prototype,"percentageBar",void 0),$e([o.observable],ot.prototype,"stackedBar",void 0),$e([o.observable],ot.prototype,"viewLimitValues",void 0),$e([o.observable],ot.prototype,"_waterfallPlotSortOrder",void 0),$e([o.observable],ot.prototype,"searchCase",void 0),$e([o.observable],ot.prototype,"searchMutation",void 0),$e([o.observable],ot.prototype,"plotExists",void 0),$e([be.a],ot.prototype,"getScrollPane",null),$e([o.computed],ot.prototype,"viewType",null),$e([o.computed],ot.prototype,"quickPlotButtons",null),$e([o.computed],ot.prototype,"potentialViewType",null),$e([be.a],ot.prototype,"getSvg",null),$e([be.a,o.action],ot.prototype,"onInputClick",null),$e([be.a],ot.prototype,"downloadData",null),$e([be.a,o.action],ot.prototype,"setSearchCaseInput",null),$e([be.a,o.action],ot.prototype,"setSearchMutationInput",null),$e([be.a,o.action],ot.prototype,"executeSearchCase",null),$e([be.a,o.action],ot.prototype,"executeSearchMutation",null),$e([be.a],ot.prototype,"getHorizontalAxisMenu",null),$e([be.a],ot.prototype,"getVerticalAxisMenu",null),$e([be.a,o.action],ot.prototype,"onVerticalAxisGeneSelect",null),$e([be.a,o.action],ot.prototype,"onHorizontalAxisGeneSelect",null),$e([be.a,o.action],ot.prototype,"selectSameGeneOptionForVerticalAxis",null),$e([be.a,o.action],ot.prototype,"onVerticalAxisGenesetSelect",null),$e([be.a,o.action],ot.prototype,"onHorizontalAxisGenesetSelect",null),$e([be.a,o.action],ot.prototype,"onVerticalAxisTreatmentSelect",null),$e([be.a,o.action],ot.prototype,"onHorizontalAxisTreatmentSelect",null),$e([be.a,o.action],ot.prototype,"onUtilitiesGeneSelect",null),$e([o.computed],ot.prototype,"horzDatatypeOptions",null),$e([o.computed],ot.prototype,"vertDatatypeOptions",null),$e([o.observable],ot.prototype,"horzGeneOptions",void 0),$e([o.computed],ot.prototype,"vertGeneOptions",null),$e([o.computed],ot.prototype,"utilityMenuGeneOptions",null),$e([o.observable],ot.prototype,"horzGenesetOptions",void 0),$e([o.computed],ot.prototype,"vertGenesetOptions",null),$e([o.observable],ot.prototype,"horzTreatmentOptions",void 0),$e([o.computed],ot.prototype,"vertTreatmentOptions",null),$e([o.computed],ot.prototype,"waterfallPlotIsShown",null),$e([be.a,o.action],ot.prototype,"onVerticalAxisDataTypeSelect",null),$e([be.a,o.action],ot.prototype,"onHorizontalAxisDataTypeSelect",null),$e([be.a,o.action],ot.prototype,"onVerticalAxisDataSourceSelect",null),$e([be.a,o.action],ot.prototype,"onHorizontalAxisDataSourceSelect",null),$e([be.a,o.action],ot.prototype,"onVerticalAxisMutationCountBySelect",null),$e([be.a,o.action],ot.prototype,"onHorizontalAxisMutationCountBySelect",null),$e([be.a,o.action],ot.prototype,"onDiscreteVsDiscretePlotTypeSelect",null),$e([be.a,o.action],ot.prototype,"onSortOrderButtonPressed",null),$e([be.a,o.action],ot.prototype,"swapHorzVertSelections",null),$e([o.computed],ot.prototype,"bothAxesMolecularProfile",null),$e([o.computed],ot.prototype,"oneAxisMolecularProfile",null),$e([o.computed],ot.prototype,"sameGeneInBothAxes",null),$e([o.computed],ot.prototype,"cnaDataCanBeShown",null),$e([o.computed],ot.prototype,"limitValuesCanBeShown",null),$e([o.computed],ot.prototype,"limitValueTypes",null),$e([o.computed],ot.prototype,"horzLimitValueTypes",null),$e([o.computed],ot.prototype,"horzLimitValuesCanBeShown",null),$e([o.computed],ot.prototype,"vertLimitValueTypes",null),$e([o.computed],ot.prototype,"vertLimitValuesCanBeShown",null),$e([o.computed],ot.prototype,"legendLimitValueLabel",null),$e([o.computed],ot.prototype,"vertMenuLimitValueLabel",null),$e([o.computed],ot.prototype,"horzMenuLimitValueLabel",null),$e([o.computed],ot.prototype,"cnaDataShown",null),$e([o.computed],ot.prototype,"mutationDataCanBeShown",null),$e([o.computed],ot.prototype,"mutationDataShown",null),$e([o.computed],ot.prototype,"plotDataExistsForTwoAxes",null),$e([o.computed],ot.prototype,"horzAxisDataPromise",null),$e([o.computed],ot.prototype,"vertAxisDataPromise",null),$e([o.computed],ot.prototype,"vertAxisDataHasNegativeNumbers",null),$e([o.computed],ot.prototype,"horzAxisDataHasNegativeNumbers",null),$e([o.computed],ot.prototype,"waterfallPlotTitle",null),$e([o.computed],ot.prototype,"waterfallPlotWidth",null),$e([o.computed],ot.prototype,"waterfallPlotHeigth",null),$e([o.computed],ot.prototype,"scatterPlotAppearance",null),$e([o.computed],ot.prototype,"scatterPlotFill",null),$e([o.computed],ot.prototype,"scatterPlotFillOpacity",null),$e([be.a],ot.prototype,"scatterPlotStroke",null),$e([o.computed],ot.prototype,"scatterPlotStrokeWidth",null),$e([be.a],ot.prototype,"scatterPlotStrokeOpacity",null),$e([be.a],ot.prototype,"scatterPlotSymbol",null),$e([be.a],ot.prototype,"waterfallPlotColor",null),$e([be.a],ot.prototype,"waterfallPlotLimitValueSymbolVisibility",null),$e([be.a],ot.prototype,"scatterPlotTooltip",null),$e([be.a],ot.prototype,"waterfallPlotTooltip",null),$e([o.computed],ot.prototype,"boxPlotTooltip",null),$e([o.computed],ot.prototype,"searchMutationWords",null),$e([o.computed],ot.prototype,"scatterPlotHighlight",null),$e([o.computed],ot.prototype,"showMutationNotFoundMessage",null),$e([be.a],ot.prototype,"getUtilitiesMenu",null),$e([be.a],ot.prototype,"assignScrollPaneRef",null),$e([be.a],ot.prototype,"controls",null),$e([o.computed],ot.prototype,"waterfallPlotPivotThreshold",null),$e([o.computed],ot.prototype,"waterfallPlotSortOrder",null),$e([o.computed],ot.prototype,"isHorizontalWaterfallPlot",null),$e([o.computed],ot.prototype,"isWaterfallPlot",null),$e([o.computed],ot.prototype,"sortOrderImageClassName",null),$e([o.computed],ot.prototype,"zIndexSortBy",null),$e([o.computed],ot.prototype,"boxPlotBoxWidth",null),$e([o.computed],ot.prototype,"horzLogScaleFunction",null),$e([o.computed],ot.prototype,"vertLogScaleFunction",null),$e([o.computed],ot.prototype,"showNoTreamentsSelectedWarning",null),$e([o.computed],ot.prototype,"plot",null),ot=$e([i.observer],ot);t.g=ot},,function(e,t,n){"use strict";var r=n(0),o=n(7),i=n.n(o),a=n(11),s=n(645),l=n.n(s),c=n(5),u=n(668),p=n(571),h=n.n(p),d=n(568),f=n(826),m=n(829),y=n(25),g=n(830),v=n(565),b=n(561),S=n(92),w=n(557),C=n(559),_=n(827),k=n(828),T=n(4);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var M=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},D=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=A(this,O(t).apply(this,arguments))).dragging=!1,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["Component"]),n=t,(o=[{key:"svgRef",value:function(e){this.svgContainer=e&&e.children?e.children[0]:null}},{key:"handleSelection",value:function(e,t,n){this.props.onSelection(e[0].data.map(function(e){return e.hugoGeneSymbol}))}},{key:"handleSelectionCleared",value:function(){this.tooltipModel&&this.props.onGeneNameClick(this.tooltipModel.datum.hugoGeneSymbol,this.tooltipModel.datum.entrezGeneId),this.props.onSelectionCleared()}},{key:"onMouseOver",value:function(e,t,n){this.tooltipModel={datum:e,x:t,y:n}}},{key:"onMouseOut",value:function(){this.tooltipModel=null}},{key:"getTooltip",value:function(){return this.tooltipModel?r.createElement(S.Popover,{className:"cbioTooltip",positionLeft:this.tooltipModel.x+15,positionTop:this.tooltipModel.y-44},"Gene: ",this.tooltipModel.datum.hugoGeneSymbol,r.createElement("br",null),"Log Ratio:"," ",Object(w.a)(this.tooltipModel.datum.logRatio),r.createElement("br",null),"Alteration Frequency in ",this.props.xGroupName,":"," ",this.tooltipModel.datum.x.toFixed(),"%",r.createElement("br",null),"Alteration Frequency in ",this.props.yGroupName,":"," ",this.tooltipModel.datum.y.toFixed(),"%",r.createElement("br",null),"p-Value:"," ",Object(C.a)(this.tooltipModel.datum.pValue,3,.01),r.createElement("br",null),"q-Value:"," ",Object(C.a)(this.tooltipModel.datum.qValue,3,.01)):r.createElement("span",null)}},{key:"onClick",value:function(){this.dragging||this.handleSelectionCleared(),this.dragging=!1}},{key:"onSelectionComponentRender",value:function(){this.dragging=!0}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"posRelative"},r.createElement("div",{className:"borderedChart inlineBlock",style:{position:"relative"},onClick:this.onClick},r.createElement(v.VictoryChart,{containerComponent:this.containerComponent,theme:b.d,domainPadding:{x:[0,20],y:[0,20]},height:350,width:350,padding:{top:40,bottom:60,left:60,right:40}},r.createElement(v.VictoryAxis,x({domain:[0,this.plotDomainMax],label:this.xLabel,style:{tickLabels:{padding:5},axisLabel:{padding:27},ticks:{size:3},grid:{strokeOpacity:1}},crossAxis:!1,orientation:"bottom",offsetY:45},this.tickProps)),r.createElement(v.VictoryAxis,x({domain:[0,this.plotDomainMax],dependentAxis:!0,label:this.yLabel,style:{tickLabels:{padding:5},axisLabel:{padding:32},ticks:{size:3},grid:{strokeOpacity:1}},crossAxis:!1,orientation:"left",offsetX:45},this.tickProps)),r.createElement(v.VictoryLine,{style:{data:{stroke:"#cccccc",strokeWidth:1,strokeDasharray:"10,5"}},data:[{x:0,y:0},{x:this.plotDomainMax,y:this.plotDomainMax}]}),r.createElement(v.VictoryScatter,{style:{data:{fillOpacity:.4}},data:this.splitData.insignificant,dataComponent:r.createElement(k.a,{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,fill:function(t){return t.hugoGeneSymbol in e.props.selectedGenesSet?"#FE9929":"#D3D3D3"}}),symbol:"circle",size:3}),r.createElement(v.VictoryScatter,{style:{data:{fillOpacity:.6}},data:this.splitData.significant,dataComponent:r.createElement(k.a,{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,fill:function(t){return t.hugoGeneSymbol in e.props.selectedGenesSet?"#FE9929":"#58ACFA"}})})),r.createElement(T.d,{getSvg:function(){return e.svgContainer},filename:"enrichments-frequency-scatter",dontFade:!0,type:"button",style:{position:"absolute",top:10,right:10,zIndex:0}})),r.createElement(a.Observer,null,this.getTooltip))}},{key:"maxLabelWidth",get:function(){return Object(T.P)(this.props.xGroupName,"Arial","13px")+Object(T.P)(this.props.yGroupName,"Arial","13px")>150?75:90}},{key:"xLabel",get:function(){return"Altered Frequency in ".concat(Object(T.gb)(this.props.xGroupName,this.maxLabelWidth,"Arial","13px")," (%)")}},{key:"yLabel",get:function(){return"Altered Frequency in ".concat(Object(T.gb)(this.props.yGroupName,this.maxLabelWidth,"Arial","13px")," (%)")}},{key:"splitData",get:function(){var e=[],t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.props.data[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.qValue<.05?e.push(s):t.push(s)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{significant:e,insignificant:t}}},{key:"plotDomainMax",get:function(){var e=0,t=0,n=!0,r=!1,o=void 0;try{for(var i,a=this.props.data[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e=Math.max(e,s.x),t=Math.max(t,s.y)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Math.max(e,t)}},{key:"containerComponent",get:function(){var e=this;return r.createElement(v.VictorySelectionContainer,{containerRef:this.svgRef,onSelection:function(t,n,r){return e.handleSelection(t,n,r)},responsive:!1,onSelectionCleared:this.handleSelectionCleared,activateSelectedData:!1,selectionComponent:r.createElement(_.a,{onRender:this.onSelectionComponentRender})})}},{key:"tickProps",get:function(){return this.plotDomainMax>40?{tickValues:[0,25,50,75]}:this.plotDomainMax>20?{tickValues:[0,10,20,30,40]}:this.plotDomainMax>10?{tickValues:[0,5,10,15,20]}:{tickCount:4}}}])&&E(n.prototype,o),i&&E(n,i),t}();M([c.observable],D.prototype,"tooltipModel",void 0),M([c.observable],D.prototype,"svgContainer",void 0),M([y.a,c.action],D.prototype,"svgRef",null),M([c.computed],D.prototype,"maxLabelWidth",null),M([c.computed],D.prototype,"xLabel",null),M([c.computed],D.prototype,"yLabel",null),M([c.computed],D.prototype,"splitData",null),M([c.computed],D.prototype,"plotDomainMax",null),M([y.a,c.action],D.prototype,"onMouseOver",null),M([y.a,c.action],D.prototype,"onMouseOut",null),M([y.a],D.prototype,"getTooltip",null),M([y.a],D.prototype,"onClick",null),M([y.a],D.prototype,"onSelectionComponentRender",null),M([c.computed],D.prototype,"tickProps",null);var L=D=M([a.observer],D),N=n(974),R=n.n(N),j=function(e){e.height;return r.createElement("div",{className:R.a.wrapper,style:{width:e.width}},r.createElement("div",{className:R.a.groupRow},r.createElement("div",{style:{width:"".concat(e.group1Width,"%"),background:e.group1Color}}),r.createElement("div",{style:{width:"".concat(e.group2Width,"%"),background:e.group2Color}})),r.createElement("div",{className:R.a.alterationRow},r.createElement("div",{style:{width:"".concat(e.group1Unprofiled,"%"),background:"white",position:"relative"}},r.createElement("div",{className:R.a.strike})),r.createElement("div",{style:{width:"".concat(e.group1Unaltered,"%"),background:"transparent"}}),r.createElement("div",{style:{width:"".concat(e.group1Altered,"%"),background:"#3786C2"}}),r.createElement("div",{style:{width:"".concat(e.group2Altered,"%"),background:"#3786C2"}}),r.createElement("div",{style:{width:"".concat(e.group2Unprofiled,"%"),background:"white",position:"absolute",right:0}},r.createElement("div",{className:R.a.strike}))))},F=n(769),G=n(166),B=n(658),z=n(975),V=n.n(z);function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function W(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":X(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},J="GroupComparisonGeneFrequencyPlot",ee=["AMP","HOMDEL"],te=function(e){function t(){var e;return H(this,t),(e=W(this,$(t).apply(this,arguments))).isGeneSelectionPopupVisible=!1,e}return Y(t,r["Component"]),q(t,[{key:"getSvg",value:function(){return document.getElementById(J)}},{key:"getTooltip",value:function(e){var t=e.majorCategory;t=t.replace(/\*$/,"");var n=this.geneDataSet[t],o=i.a.map(this.props.groupOrder,function(t){var o=n.groupsSet[t],i={};return e.minorCategory===o.name&&(i={fontWeight:"bold"}),r.createElement("tr",{style:i},r.createElement("td",null,o.name),r.createElement("td",null,o.alteredPercentage.toFixed(2),"% (",o.alteredCount,"/",o.profiledCount,")"))});return r.createElement("div",null,r.createElement("strong",null,t," ",this.yAxislabel),r.createElement("br",null),r.createElement("table",{className:"table table-bordered"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Group"),r.createElement("th",{scope:"col"},"Percentage Altered"))),r.createElement("tbody",null,o)),r.createElement("strong",null,"p-Value"),":"," ",n.pValue?Object(C.a)(n.pValue,3,.01):"-",r.createElement("br",null),r.createElement("strong",null,"q-Value"),":"," ",n.qValue?Object(C.a)(n.qValue,3,.01):"-")}},{key:"render",value:function(){return r.createElement("div",{"data-test":"GeneBarPlotDiv",className:"borderedChart",style:{position:"relative",display:"inline-block"}},this.toolbar,r.createElement("div",{style:{overflow:"auto hidden",position:"relative"}},r.createElement(F.a,{svgId:J,barWidth:10,domainPadding:10,chartBase:300,legendLocationWidthThreshold:800,ticksCount:6,horizontalBars:!1,percentage:!1,stacked:!1,plotData:this.barPlotData,axisStyle:{tickLabels:{fontSize:10}},horzCategoryOrder:this.horzCategoryOrder,vertCategoryOrder:this.props.groupOrder,countAxisLabel:"".concat(this.yAxislabel," (%)"),tooltip:this.getTooltip,categoryToColor:this.props.categoryToColor})))}},{key:"geneListOptions",get:function(){return Object(d.n)(this.props.data,this.props.showCNAInTable)}},{key:"defaultOption",get:function(){return this.geneListOptions.length>1?this.geneListOptions[1]:this.geneListOptions[0]}},{key:"geneDataSet",get:function(){var e=this;return i.a.keyBy(this.props.data,function(t){return e.props.showCNAInTable?t.hugoGeneSymbol+": ".concat(d.b[t.value]):t.hugoGeneSymbol})}},{key:"barPlotData",get:function(){return Object(d.i)(this.geneDataSet,this.barPlotOrderedGenes)}},{key:"barPlotOrderedGenes",get:function(){return this._label===d.c.SYNC_WITH_TABLE?this.tableSelectedGenes:this.selectedGenes?this.props.showCNAInTable?i.a.flatMap(this.selectedGenes,function(e){if(!1===e.alterations)return[e.gene+": AMP",e.gene+": HOMDEL"];var t=[];return i.a.each(e.alterations,function(n){"cna"===n.alteration_type&&"="===n.constr_rel&&ee.includes(n.constr_val)&&t.push(e.gene+": "+n.constr_val)}),t}):this.selectedGenes.map(function(e){return e.gene}):this.defaultOption.genes.slice(0,10)}},{key:"horzCategoryOrder",get:function(){return i.a.flatMap(this.barPlotOrderedGenes,function(e){return[e+"*",e]})}},{key:"selectedOption",get:function(){return this._label&&void 0!==this._geneQuery?{label:this._label,value:this._geneQuery}:{label:this.defaultOption.label,value:this.defaultOption.genes.slice(0,10).join("\n")}}},{key:"toolbar",get:function(){var e=this;return r.createElement(r.Fragment,null,r.createElement("div",{style:{zIndex:10,position:"absolute",top:"10px",left:"15px"}},r.createElement("strong",null,this.selectedOption.label)),r.createElement("div",{style:{zIndex:10,position:"absolute",top:"10px",right:"10px"}},r.createElement("div",{className:V.a.ChartControls},r.createElement(T.c,{trigger:["click"],destroyTooltipOnHide:!1,visible:this.isGeneSelectionPopupVisible,onVisibleChange:function(t){e.isGeneSelectionPopupVisible=t},overlay:r.createElement(re,{options:this.geneListOptions,selectedOption:this.selectedOption,onSelectedGenesChange:function(t,n,r){e._geneQuery=t,e.selectedGenes=n,e._label=r,e.isGeneSelectionPopupVisible=!1},defaultNumberOfGenes:10,containerType:this.props.containerType}),placement:"bottomLeft"},r.createElement("div",null,r.createElement("button",{"data-test":"selectGenes",className:"btn btn-default btn-xs"},"Select genes"))),r.createElement(T.d,{getSvg:this.getSvg,filename:J,dontFade:!0,type:"button"}))))}},{key:"tableSelectedGenes",get:function(){return null!==this.props.dataStore.visibleData?this.props.dataStore.visibleData.map(function(e){return e.hugoGeneSymbol}).slice(0,100):[]}},{key:"yAxislabel",get:function(){return this.props.containerType===d.a.MUTATION?"Mutation frequency":"Copy-number alteration frequency"}}]),t}();Z([c.observable],te.prototype,"tooltipModel",void 0),Z([c.observable],te.prototype,"_geneQuery",void 0),Z([c.observable],te.prototype,"selectedGenes",void 0),Z([c.observable],te.prototype,"_label",void 0),Z([c.observable],te.prototype,"isGeneSelectionPopupVisible",void 0),Z([c.computed],te.prototype,"geneListOptions",null),Z([c.computed],te.prototype,"defaultOption",null),Z([c.computed],te.prototype,"geneDataSet",null),Z([c.computed],te.prototype,"barPlotData",null),Z([c.computed],te.prototype,"barPlotOrderedGenes",null),Z([c.computed],te.prototype,"horzCategoryOrder",null),Z([y.a],te.prototype,"getSvg",null),Z([y.a],te.prototype,"getTooltip",null),Z([c.computed],te.prototype,"selectedOption",null),Z([c.computed],te.prototype,"toolbar",null),Z([c.computed],te.prototype,"tableSelectedGenes",null),Z([c.computed],te.prototype,"yAxislabel",null);var ne=te=Z([a.observer],te),re=function(e){function t(e){var n;return H(this,t),(n=W(this,$(t).call(this,e))).selectedGenesHasError=!1,n.numberOfGenes=n.props.defaultNumberOfGenes,n.genesToPlot=[],window.genesSelection=K(n),n}return Y(t,r["Component"]),q(t,[{key:"onChangeGeneInput",value:function(e,t,n){var r=i.a.keyBy(t.found,function(e){return e.hugoGeneSymbol.toUpperCase()}),o=i.a.map(e.query,function(e){return e.gene.toUpperCase()});i.a.isEmpty(r)&&i.a.isEmpty(t.suggestions)||(this.selectedGenesHasError=!i.a.every(o,function(e){return e in r})),this.selectedGenesHasError||(this.genesToPlot=e.query),this.geneQuery!==n&&(this._selectedGeneListOption={label:d.c.USER_DEFINED_OPTION,genes:[],value:""}),this._geneQuery=n}},{key:"onGeneListOptionChange",value:function(e){if(this._selectedGeneListOption=e,""!==e.value){var t=this.geneOptionSet[e.label].genes;this._geneQuery=t.slice(0,this.numberOfGenes).join("\n")}else this._geneQuery=""}},{key:"handleTotalInputChange",value:function(e){var t=e.target.value.replace(/[^0-9]/g,"");t<=this.props.maxNumberOfGenes&&(this.numberOfGenes=t)}},{key:"handleTotalInputKeyPress",value:function(e){if(13===e.charCode){if(isNaN(this.numberOfGenes))return void(this.numberOfGenes=0);this.updateGeneQuery()}}},{key:"onBlur",value:function(){isNaN(this.numberOfGenes)?this.numberOfGenes=0:this.updateGeneQuery()}},{key:"updateGeneQuery",value:function(){if(this.numberOfGenes=Number(this.numberOfGenes),this.selectedGeneListOption){var e=this.selectedGeneListOption.label,t=this.geneOptionSet[e].genes;t.length>0&&(this._geneQuery=t.slice(0,this.numberOfGenes).join("\n"))}}},{key:"render",value:function(){var e=this;return r.createElement("div",{style:{width:300}},this.props.options.length>0&&r.createElement("div",{"data-test":"genesSelector"},r.createElement(G.default,{value:this.selectedGeneListOption,options:this.geneListOptions,onChange:this.onGeneListOptionChange,isClearable:!1,isSearchable:!1})),!this.inSyncMode&&!this.isCustomGeneSelection&&r.createElement("div",null,r.createElement("br",null),r.createElement("div",{style:{display:"table-row"}},r.createElement("label",{style:{display:"table-cell",whiteSpace:"nowrap"}},"Number of Genes (max."," ",this.props.maxNumberOfGenes,"): "),r.createElement(S.FormControl,{"data-test":"numberOfGenes",type:"text",value:this.numberOfGenes,onChange:this.handleTotalInputChange,onKeyPress:this.handleTotalInputKeyPress,onBlur:this.onBlur}))),r.createElement("div",null,r.createElement("br",null),!this.inSyncMode&&r.createElement("div",null,r.createElement(B.b,{inputGeneQuery:this.geneQuery,validateInputGeneQuery:!1,callback:this.onChangeGeneInput,location:B.a.ONCOPRINT_HEATMAP}),this.hasUnsupportedOQL&&r.createElement("strong",{style:{display:"block"}},r.createElement("span",{style:{color:"#a71111"}},"OQL ".concat(this.props.containerType===d.a.MUTATION?"":"except AMP and HOMDEL"," is not allowed"))),r.createElement("br",null)),r.createElement("button",{key:"addGenestoBarPlot","data-test":"addGenestoBarPlot",className:"btn btn-sm btn-default",onClick:function(){e.props.onSelectedGenesChange(e._geneQuery,e.genesToPlot,e.selectedGeneListOption.label)},disabled:this.addGenesButtonDisabled},"Submit")))}},{key:"geneListOptions",get:function(){return i.a.map(this.props.options,function(e){return{label:e.label,value:e.genes.join("\n")}})}},{key:"geneOptionSet",get:function(){return i.a.keyBy(this.props.options,function(e){return e.label})}},{key:"selectedGeneListOption",get:function(){if(void 0===this._selectedGeneListOption&&this.props.selectedOption){var e=this.props.selectedOption;return this.geneListOptions.find(function(t){return t.value.startsWith(e.value)})}return this._selectedGeneListOption}},{key:"isCustomGeneSelection",get:function(){return void 0===this.selectedGeneListOption||this.selectedGeneListOption.label===d.c.USER_DEFINED_OPTION}},{key:"geneQuery",get:function(){return void 0===this._geneQuery&&this.props.selectedOption?this.props.selectedOption.value:this._geneQuery||""}},{key:"hasUnsupportedOQL",get:function(){var e=this;return void 0!==i.a.find(this.genesToPlot,function(t){return!!(t.alterations&&t.alterations.length>0)&&(e.props.containerType!==d.a.COPY_NUMBER||void 0!==i.a.find(t.alterations,function(e){return"cna"!==e.alteration_type||"="!==e.constr_rel||!ee.includes(e.constr_val)}))})}},{key:"addGenesButtonDisabled",get:function(){return this.inSyncMode?void 0!==this.props.selectedOption&&this.props.selectedOption.label===d.c.SYNC_WITH_TABLE:this.hasUnsupportedOQL||this.props.selectedOption&&this.props.selectedOption.value===this._geneQuery||this.selectedGenesHasError||i.a.isEmpty(this._geneQuery)}},{key:"inSyncMode",get:function(){return this._selectedGeneListOption&&this._selectedGeneListOption.label===d.c.SYNC_WITH_TABLE}}]),t}();re.defaultProps={maxNumberOfGenes:100},Z([c.observable],re.prototype,"_geneQuery",void 0),Z([c.observable],re.prototype,"selectedGenesHasError",void 0),Z([c.observable],re.prototype,"numberOfGenes",void 0),Z([c.observable],re.prototype,"_selectedGeneListOption",void 0),Z([c.observable.ref],re.prototype,"genesToPlot",void 0),Z([c.computed],re.prototype,"geneListOptions",null),Z([c.computed],re.prototype,"geneOptionSet",null),Z([c.computed],re.prototype,"selectedGeneListOption",null),Z([c.computed],re.prototype,"isCustomGeneSelection",null),Z([c.computed],re.prototype,"geneQuery",null),Z([y.a,c.action],re.prototype,"onChangeGeneInput",null),Z([c.computed],re.prototype,"hasUnsupportedOQL",null),Z([c.computed],re.prototype,"addGenesButtonDisabled",null),Z([y.a,c.action],re.prototype,"onGeneListOptionChange",null),Z([c.computed],re.prototype,"inSyncMode",null),Z([y.a,c.action],re.prototype,"handleTotalInputChange",null),Z([y.a,c.action],re.prototype,"handleTotalInputKeyPress",null),Z([y.a,c.action],re.prototype,"onBlur",null),Z([y.a,c.action],re.prototype,"updateGeneQuery",null),re=Z([a.observer],re);var oe=n(566);n(976);function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ue=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ce(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ae(this,se(t).apply(this,arguments))).significanceFilter=!1,e.checkedGenes=[],e._enrichedGroups=e.props.groups.map(function(e){return e.name}),e.dataStore=new g.a(function(){return e.filteredData},function(){return e.highlightedRow},function(t){e.highlightedRow=t}),e}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,r["Component"]),n=t,(i=[{key:"toggleSignificanceFilter",value:function(){this.significanceFilter=!this.significanceFilter}},{key:"onCheckGene",value:function(e){var t=this.checkedGenes.indexOf(e);-1!==t?this.checkedGenes.splice(t,1):this.checkedGenes.push(e)}},{key:"onGeneNameClick",value:function(e){}},{key:"onSelection",value:function(e){this.selectedGenes=e}},{key:"onSelectionCleared",value:function(){this.selectedGenes=null}},{key:"onChange",value:function(e){this._enrichedGroups=o.map(e,function(e){return e.value})}},{key:"render",value:function(){var e=this;return 0===this.props.data.length?r.createElement("div",{className:"alert alert-info"},"No data/result available"):r.createElement("div",{className:h.a.Container},r.createElement("div",{className:h.a.ChartsPanel,style:{maxWidth:oe.a.size.width-60}},this.isTwoGroupAnalysis&&r.createElement(f.a,{data:Object(d.g)(this.data,this.props.store?this.props.store.hugoGeneSymbols:[]),xAxisLeftLabel:this.group2.nameOfEnrichmentDirection||this.group2.name,xAxisRightLabel:this.group1.nameOfEnrichmentDirection||this.group1.name,xAxisDomain:15,xAxisTickValues:[-10,0,10],selectedGenesSet:this.selectedGenesSet,onGeneNameClick:this.onGeneNameClick,onSelection:this.onSelection,onSelectionCleared:this.onSelectionCleared}),this.isTwoGroupAnalysis&&r.createElement(L,{data:Object(d.e)(this.data,this.props.store?this.props.store.hugoGeneSymbols:[],this.group1.name,this.group2.name),xGroupName:this.group1.name,yGroupName:this.group2.name,onGeneNameClick:this.onGeneNameClick,selectedGenesSet:this.selectedGenesSet,onSelection:this.onSelection,onSelectionCleared:this.onSelectionCleared}),r.createElement("div",{style:{maxWidth:this.genePlotMaxWidth}},r.createElement(ne,{data:this.data,isTwoGroupAnalysis:this.isTwoGroupAnalysis,groupOrder:this.props.groups.map(function(e){return e.name}),showCNAInTable:this.props.showCNAInTable,containerType:this.props.containerType,categoryToColor:this.categoryToColor,dataStore:this.dataStore}))),r.createElement("div",null,r.createElement("div",null,r.createElement("h3",null,this.props.headerName),this.props.store&&r.createElement(m.a,{checkedGenes:this.checkedGenes})),r.createElement("div",{className:h.a.Checkboxes},r.createElement("div",{style:{width:250,marginRight:7}},r.createElement(G.default,{name:"select enrichments level: sample or patient",onChange:function(t){t&&e.props.onSetPatientLevelEnrichments(t.value)},options:[{label:"Patient-level enrichments",value:!0},{label:"Sample-level enrichments",value:!1}],clearable:!1,searchable:!1,value:{label:this.props.patientLevelEnrichments?"Patient-level enrichments":"Sample-level enrichments",value:this.props.patientLevelEnrichments},styles:{control:function(e){return Object.assign({},e,{height:36,minHeight:36,border:"1px solid rgb(204,204,204)"})},menu:function(e){return Object.assign({},e,{maxHeight:400})},menuList:function(e){return Object.assign({},e,{maxHeight:400})},placeholder:function(e){return Object.assign({},e,{color:"#000000"})},dropdownIndicator:function(e){return Object.assign({},e,{color:"#000000"})},option:function(e,t){return Object.assign({},e,{cursor:"pointer"})}},theme:function(e){return Object.assign({},e,{colors:Object.assign({},e.colors,{neutral80:"black"})})}})),r.createElement("div",{style:{width:250,marginRight:7}},r.createElement(T.a,{name:"enrichedGroupsSelector",placeholder:"Select enriched groups",onChange:this.onChange,options:this.options,value:this.selectedValues,height:36})),r.createElement("label",{className:"checkbox-inline"},r.createElement("input",{type:"checkbox",checked:this.significanceFilter,onClick:this.toggleSignificanceFilter,"data-test":"SwapAxes"}),"Significant only")),r.createElement(u.b,{key:this.props.patientLevelEnrichments.toString(),data:this.filteredData,onCheckGene:this.props.store?this.onCheckGene:void 0,checkedGenes:this.props.store?this.checkedGenes:void 0,dataStore:this.dataStore,visibleOrderedColumnNames:this.visibleOrderedColumnNames,customColumns:o.keyBy(this.customColumns,function(e){return e.name})})))}},{key:"isTwoGroupAnalysis",get:function(){return 2==this.props.groups.length}},{key:"group1",get:function(){return this.props.groups[0]}},{key:"group2",get:function(){return this.props.groups[1]}},{key:"data",get:function(){return Object(d.f)(this.props.data,this.props.store?this.props.store.hugoGeneSymbols:[],this.props.groups)}},{key:"filteredData",get:function(){return Object(d.m)(this.data,this._enrichedGroups,this.significanceFilter,this.selectedGenes)}},{key:"customColumns",get:function(){var e=this,t=Object(d.d)(this.props.groups,this.props.alteredVsUnalteredMode);return this.isTwoGroupAnalysis&&t.push({name:"Alteration Overlap",headerRender:function(){return r.createElement("span",null,"Co-occurrence Pattern")},render:function(t){if(void 0===t.pValue)return r.createElement("span",null,"-");var n=o.map(t.groupsSet),i=e.props.groups[0],a=e.props.groups[1],s=n.find(function(t){return t.name===e.props.groups[0].name}),c=n.find(function(t){return t.name===e.props.groups[1].name});if(!s||!c)throw"No matching groups in Alteration Overlap Cell";var u=i.count+a.count,p=i.count/u*100,h=100-p,d=(i.count-s.profiledCount)/u*100,f=(s.profiledCount-s.alteredCount)/u*100,m=(a.count-c.profiledCount)/u*100,y=s.alteredCount/u*100,g=c.alteredCount/u*100,v=e.props.showCNAInTable?"copy number alterations":"mutations";return r.createElement(T.c,{destroyTooltipOnHide:!0,trigger:["hover"],overlay:function(){return r.createElement("div",null,r.createElement("h3",null,t.hugoGeneSymbol," ",v," ","in:"),r.createElement("table",{className:"table table-striped"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("strong",null,s.name,": ")),r.createElement("td",null,s.alteredCount," of"," ",s.profiledCount," of profiled"," ",e.props.patientLevelEnrichments?"patients":"samples"," ","(",l()(s.alteredPercentage).format("0.0"),"%)")),r.createElement("tr",null,r.createElement("td",null,r.createElement("strong",null,c.name,": ")),r.createElement("td",null,c.alteredCount," of"," ",c.profiledCount," of profiled"," ",e.props.patientLevelEnrichments?"patients":"samples"," ","(",l()(c.alteredPercentage).format("0.0"),"%)")))))}},r.createElement("div",{className:"inlineBlock",style:{padding:"3px 0"}},r.createElement(j,{group1Width:p,group2Width:h,group1Unaltered:f,group1Altered:y,group2Altered:g,group1Unprofiled:d,group2Unprofiled:m,group1Color:e.props.groups[0].color,group2Color:e.props.groups[1].color,width:150})))},tooltip:r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Upper row"),r.createElement("td",null,":"," ",this.props.patientLevelEnrichments?"Patients":"Samples"," ","colored according to group.")),r.createElement("tr",null,r.createElement("td",null,"Lower row"),r.createElement("td",null,":"," ",this.props.patientLevelEnrichments?"Patients":"Samples"," ","with"," ",this.props.showCNAInTable?"the listed alteration":"a mutation"," ","in the listed gene are highlighted.")))}),t}},{key:"visibleOrderedColumnNames",get:function(){var e=[];return e.push(u.a.GENE,u.a.CYTOBAND),this.props.showCNAInTable&&e.push(u.a.ALTERATION),this.props.groups.forEach(function(t){e.push(t.name)}),this.isTwoGroupAnalysis&&(e.push("Alteration Overlap"),e.push(u.a.LOG_RATIO)),e.push(u.a.P_VALUE,u.a.Q_VALUE),this.isTwoGroupAnalysis?e.push(this.props.alteredVsUnalteredMode?u.a.TENDENCY:u.a.ENRICHED):e.push(u.a.MOST_ENRICHED),e}},{key:"selectedGenesSet",get:function(){return o.keyBy(this.selectedGenes||[])}},{key:"selectedValues",get:function(){return this._enrichedGroups.map(function(e){return{value:e}})}},{key:"options",get:function(){return o.map(this.props.groups,function(e){return{label:e.nameOfEnrichmentDirection?e.nameOfEnrichmentDirection:e.name,value:e.name}})}},{key:"genePlotMaxWidth",get:function(){return oe.a.size.width-(this.isTwoGroupAnalysis?820:40)}},{key:"categoryToColor",get:function(){return o.reduce(this.props.groups,function(e,t){return t.color&&(e[t.name]=t.color),e},{})}}])&&ie(n.prototype,i),a&&ie(n,a),t}();pe.defaultProps={showCNAInTable:!1,alteredVsUnalteredMode:!0},ue([c.observable],pe.prototype,"significanceFilter",void 0),ue([c.observable.shallow],pe.prototype,"checkedGenes",void 0),ue([c.observable.shallow],pe.prototype,"selectedGenes",void 0),ue([c.observable.ref],pe.prototype,"highlightedRow",void 0),ue([c.observable.ref],pe.prototype,"_enrichedGroups",void 0),ue([c.computed],pe.prototype,"isTwoGroupAnalysis",null),ue([c.computed],pe.prototype,"group1",null),ue([c.computed],pe.prototype,"group2",null),ue([c.computed],pe.prototype,"data",null),ue([c.computed],pe.prototype,"filteredData",null),ue([y.a],pe.prototype,"toggleSignificanceFilter",null),ue([y.a],pe.prototype,"onCheckGene",null),ue([y.a],pe.prototype,"onGeneNameClick",null),ue([y.a,c.action],pe.prototype,"onSelection",null),ue([y.a,c.action],pe.prototype,"onSelectionCleared",null),ue([c.computed],pe.prototype,"customColumns",null),ue([c.computed],pe.prototype,"visibleOrderedColumnNames",null),ue([c.computed],pe.prototype,"selectedGenesSet",null),ue([y.a,c.action],pe.prototype,"onChange",null),ue([c.computed],pe.prototype,"selectedValues",null),ue([c.computed],pe.prototype,"options",null),ue([c.computed],pe.prototype,"genePlotMaxWidth",null),ue([c.computed],pe.prototype,"categoryToColor",null),pe=ue([a.observer],pe);t.a=pe},,function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(5),a=n(669),s=n(571),l=n.n(s),c=n(568),u=n(829),p=n(826),h=n(7),d=n(25),f=n(830),m=n(4),y=n(627),g=n(754),v=n(161),b=n(93),S=n(559),w=n(16),C=n(28),_=n.n(C),k=n(852);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":M(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},N=function(e){function t(){return x(this,t),E(this,O(t).apply(this,arguments))}return P(t,g["a"]),t}(),R=function(e){function t(){var e;return x(this,t),(e=E(this,O(t).apply(this,arguments))).horzAxisData=Object(m.W)({await:function(){return[]},invoke:function(){return L(A(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.map(this.props.groups,function(e){return e.name}),n={data:[],datatype:"string",categoryOrder:t},r=h.reduce(this.props.groups,function(e,t){return t.samples.forEach(function(n){var r=n.uniqueSampleKey;void 0===e[r]&&(e[r]={uniqueSampleKey:r,value:[]}),e[r].value.push(t.name)}),e},{}),n.data=h.values(r),e.abrupt("return",Promise.resolve(n));case 5:case"end":return e.stop()}},e,this)}))}}),e.vertAxisData=Object(m.W)({invoke:function(){return L(A(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,s,l,c,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={data:[],datatype:"number"},void 0===this.props.selectedRow){e.next=26;break}return e.next=4,v.a.fetchAllMolecularDataInMolecularProfileUsingPOST({molecularProfileId:this.props.selectedProfile.molecularProfileId,molecularDataFilter:{entrezGeneIds:[this.props.selectedRow.entrezGeneId],sampleIds:h.map(this.props.sampleKeyToSample,function(e){return e.sampleId})}});case 4:for(n=e.sent,r=t.data,o=this.props.selectedProfile.molecularProfileId.includes("rna_seq"),i=!0,a=!1,s=void 0,e.prev=10,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)u=c.value,p=o?Math.log(u.value+1)/Math.log(2):u.value,r.push({uniqueSampleKey:u.uniqueSampleKey,value:p});e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),a=!0,s=e.t0;case 18:e.prev=18,e.prev=19,i||null==l.return||l.return();case 21:if(e.prev=21,!a){e.next=24;break}throw s;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return e.abrupt("return",Promise.resolve(t));case 27:case"end":return e.stop()}},e,this,[[10,14,18,26],[19,,21,25]])}))}}),e.boxPlotData=Object(m.W)({await:function(){return[e.vertAxisData,e.horzAxisData]},invoke:function(){var t=e.horzAxisData.result,n=e.vertAxisData.result;if(t&&n){var r=t,o=n;return Promise.resolve(Object(y.A)(r,o,e.props.sampleKeyToSample,{},void 0,void 0))}return new Promise(function(){return 0})}}),e}var n,o,i;return P(t,r["Component"]),n=t,(o=[{key:"getData",value:function(){return void 0!==this.props.selectedRow?Object(y.n)(this.boxPlotData.result,"Group",this.props.selectedRow.hugoGeneSymbol+", "+this.props.selectedProfile.name,{}):""}},{key:"render",value:function(){var e=this,t=null;if(void 0===this.props.selectedRow)t=r.createElement("div",{className:_()("text-center",l.a.BoxEmpty)},"Click on a gene in the table to render this plot.");else if(this.boxPlotData.isPending)t=r.createElement("div",{className:_()("text-center",l.a.BoxEmpty)},r.createElement(b.a,{isLoading:!0,size:"small",className:l.a.ChartLoader}));else if(this.props.selectedRow.hugoGeneSymbol&&this.boxPlotData.isComplete&&this.boxPlotData.result.length>0){var n="group";void 0!==this.props.queriedHugoGeneSymbols&&(n="Query: ".concat(Object(k.b)(this.props.queriedHugoGeneSymbols))),t=r.createElement("div",{className:l.a.BoxPlot,"data-test":"MiniBoxPlot"},r.createElement(m.d,{buttons:["SVG","PNG","Data"],getSvg:function(){return e.svgContainer},getData:this.getData,filename:"expression_enrichment",dontFade:!0,style:{position:"absolute",right:10,top:10},type:"button"}),r.createElement(N,{domainPadding:10,startDataAxisAtZero:!0,boxWidth:this.boxPlotData.result.length>7?30:60,axisLabelY:this.props.selectedRow.hugoGeneSymbol+", "+this.props.selectedProfile.name,axisLabelX:n,data:this.boxPlotData.result,chartBase:320,scatterPlotTooltip:this.scatterPlotTooltip,horizontal:!1,fill:"#00AAF8",symbol:"circle",useLogSpaceTicks:!0,containerRef:function(t){return e.svgContainer=t},compressXAxis:!0,legendData:[{name:"p-Value: ".concat(Object(S.a)(this.props.selectedRow.pValue,3,.01)),symbol:{fill:"none",strokeWidth:0}},{name:"q-Value: ".concat(Object(S.a)(this.props.selectedRow.qValue,3,.01)),symbol:{fill:"none",strokeWidth:0}}]}))}return r.createElement("div",{style:{position:"relative",display:"inline-block"},className:"borderedChart"},t)}},{key:"scatterPlotTooltip",get:function(){var e=this;return function(t){var n=void 0;if(e.props.oqlFilteredCaseAggregatedData){var o=e.props.oqlFilteredCaseAggregatedData?e.props.oqlFilteredCaseAggregatedData[t.uniqueSampleKey]:[];n="Alteration(s): "+Object(c.h)(o)}var i=r.createElement("span",null,"Loading... (this shouldnt appear because the box plot shouldnt be visible)");return e.boxPlotData.isComplete&&(i=r.createElement("div",null,r.createElement("a",{href:Object(w.w)(t.studyId,t.sampleId),target:"_blank"},r.createElement("b",null,t.sampleId)),r.createElement("br",null),"mRNA expression: ",t.value.toFixed(3),!!n&&r.createElement("br",null),n)),i}}}])&&T(n.prototype,o),i&&T(n,i),t}();R.defaultProps={},D([i.observable],R.prototype,"svgContainer",void 0),D([d.a],R.prototype,"getData",null),D([i.computed],R.prototype,"scatterPlotTooltip",null);var j=R=D([o.observer],R);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var H=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":V(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},U=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=G(this,B(t).apply(this,arguments))).overExpressedFilter=!0,e.underExpressedFilter=!0,e.significanceFilter=!1,e.checkedGenes=[],e._expressedGroups=e.props.groups.map(function(e){return e.name}),e.dataStore=new f.a(function(){return e.filteredData},function(){return e.highlightedRow},function(t){e.highlightedRow=t}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),n=t,(o=[{key:"toggleSignificanceFilter",value:function(){this.significanceFilter=!this.significanceFilter}},{key:"onCheckGene",value:function(e){var t=this.checkedGenes.indexOf(e);-1!==t?this.checkedGenes.splice(t,1):this.checkedGenes.push(e)}},{key:"onGeneNameClick",value:function(e,t){this.clickedGeneHugo=e,this.clickedGeneEntrez=t}},{key:"onSelection",value:function(e){this.selectedGenes=e}},{key:"onSelectionCleared",value:function(){this.selectedGenes=null}},{key:"onChange",value:function(e){this._expressedGroups=h.map(e,function(e){return e.value})}},{key:"render",value:function(){if(0===this.props.data.length)return r.createElement("div",{className:"alert alert-info"},"No data/result available");var e=Object(c.l)(this.data,this.props.queriedHugoGeneSymbols||[]),t=h.maxBy(e,function(e){return Math.ceil(Math.abs(e.x))});return r.createElement("div",{className:l.a.Container},r.createElement("div",{className:l.a.ChartsPanel},this.isTwoGroupAnalysis&&r.createElement(p.a,{data:e,selectedGenesSet:this.selectedGenesSet,xAxisLeftLabel:this.group2.nameOfEnrichmentDirection||this.group2.name,xAxisRightLabel:this.group1.nameOfEnrichmentDirection||this.group1.name,xAxisDomain:Math.ceil(Math.abs(t.x)),xAxisTickValues:null,onGeneNameClick:this.onGeneNameClick,onSelection:this.onSelection,onSelectionCleared:this.onSelectionCleared}),r.createElement(j,{selectedProfile:this.props.selectedProfile,groups:this.props.groups,sampleKeyToSample:this.props.sampleKeyToSample,queriedHugoGeneSymbols:this.props.queriedHugoGeneSymbols,oqlFilteredCaseAggregatedData:this.props.oqlFilteredCaseAggregatedData,selectedRow:this.selectedRow})),r.createElement("div",{className:l.a.TableContainer},r.createElement("div",null,r.createElement("h3",null,this.props.selectedProfile.name),!!this.props.isGeneCheckBoxEnabled&&r.createElement(u.a,{checkedGenes:this.checkedGenes})),r.createElement("hr",{style:{marginTop:0,marginBottom:5,borderWidth:2}}),r.createElement("div",{className:l.a.Checkboxes},r.createElement("div",{style:{width:250,marginRight:7}},r.createElement(m.a,{name:"enrichedGroupsSelector",placeholder:"Select enriched groups",onChange:this.onChange,options:this.options,value:this.selectedValues})),r.createElement("div",{className:l.a.FlexCheckbox},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.significanceFilter,onClick:this.toggleSignificanceFilter}),"Significant only"))),r.createElement(a.b,{data:this.filteredData,onCheckGene:this.props.isGeneCheckBoxEnabled?this.onCheckGene:void 0,onGeneNameClick:this.onGeneNameClick,dataStore:this.dataStore,mutexTendency:this.props.alteredVsUnalteredMode,checkedGenes:this.props.isGeneCheckBoxEnabled?this.checkedGenes:void 0,visibleOrderedColumnNames:this.visibleOrderedColumnNames,customColumns:h.keyBy(this.customColumns,function(e){return e.uniqueName||e.name})})))}},{key:"data",get:function(){return Object(c.k)(this.props.data,this.props.queriedHugoGeneSymbols||[],this.props.groups)}},{key:"filteredData",get:function(){return Object(c.m)(this.data,this._expressedGroups,this.significanceFilter,this.selectedGenes)}},{key:"group1",get:function(){return this.props.groups[0]}},{key:"group2",get:function(){return this.props.groups[1]}},{key:"group1CheckboxLabel",get:function(){return this.props.alteredVsUnalteredMode?"Over-expressed":r.createElement("span",{style:{display:"flex",alignItems:"center"}},"Enriched in",r.createElement(m.f,{text:this.group1.name}))}},{key:"group2CheckboxLabel",get:function(){return this.props.alteredVsUnalteredMode?"Under-expressed":r.createElement("span",{style:{display:"flex",alignItems:"center"}},"Enriched in",r.createElement(m.f,{text:this.group2.name}))}},{key:"selectedGenesSet",get:function(){return h.keyBy(this.selectedGenes||[])}},{key:"isTwoGroupAnalysis",get:function(){return 2==this.props.groups.length}},{key:"customColumns",get:function(){return Object(c.j)(this.props.groups,this.props.alteredVsUnalteredMode)}},{key:"visibleOrderedColumnNames",get:function(){var e=[];return e.push(a.a.GENE,a.a.CYTOBAND),this.props.groups.forEach(function(t){e.push(t.name+" mean")}),this.props.groups.forEach(function(t){e.push(t.name+" standard deviation")}),this.isTwoGroupAnalysis&&e.push(a.a.LOG_RATIO),e.push(a.a.P_VALUE,a.a.Q_VALUE),this.isTwoGroupAnalysis&&this.props.alteredVsUnalteredMode?e.push(a.a.TENDENCY):e.push(a.a.EXPRESSED),e}},{key:"selectedValues",get:function(){return this._expressedGroups.map(function(e){return{value:e}})}},{key:"options",get:function(){return h.map(this.props.groups,function(e){return{label:e.nameOfEnrichmentDirection?e.nameOfEnrichmentDirection:e.name,value:e.name}})}},{key:"selectedRow",get:function(){var e=this;if(this.clickedGeneHugo)return this.props.data.filter(function(t){return t.hugoGeneSymbol===e.clickedGeneHugo})[0]}}])&&F(n.prototype,o),i&&F(n,i),t}();U.defaultProps={alteredVsUnalteredMode:!0,isGeneCheckBoxEnabled:!1},H([i.observable],U.prototype,"overExpressedFilter",void 0),H([i.observable],U.prototype,"underExpressedFilter",void 0),H([i.observable],U.prototype,"significanceFilter",void 0),H([i.observable.shallow],U.prototype,"checkedGenes",void 0),H([i.observable],U.prototype,"clickedGeneHugo",void 0),H([i.observable],U.prototype,"clickedGeneEntrez",void 0),H([i.observable.ref],U.prototype,"selectedGenes",void 0),H([i.observable.ref],U.prototype,"highlightedRow",void 0),H([i.observable.ref],U.prototype,"_expressedGroups",void 0),H([i.observable],U.prototype,"svgContainer",void 0),H([i.computed],U.prototype,"data",null),H([i.computed],U.prototype,"filteredData",null),H([d.a],U.prototype,"toggleSignificanceFilter",null),H([d.a],U.prototype,"onCheckGene",null),H([d.a],U.prototype,"onGeneNameClick",null),H([d.a],U.prototype,"onSelection",null),H([d.a],U.prototype,"onSelectionCleared",null),H([i.computed],U.prototype,"group1",null),H([i.computed],U.prototype,"group2",null),H([i.computed],U.prototype,"group1CheckboxLabel",null),H([i.computed],U.prototype,"group2CheckboxLabel",null),H([i.computed],U.prototype,"selectedGenesSet",null),H([i.computed],U.prototype,"isTwoGroupAnalysis",null),H([i.computed],U.prototype,"customColumns",null),H([i.computed],U.prototype,"visibleOrderedColumnNames",null),H([d.a,i.action],U.prototype,"onChange",null),H([i.computed],U.prototype,"selectedValues",null),H([i.computed],U.prototype,"options",null),H([i.computed],U.prototype,"selectedRow",null),U=H([o.observer],U);t.a=U},,,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(566),o=n(0),i=n(5),a=n(11);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o["Component"]),n=t,(i=[{key:"render",value:function(){var e=this;return o.createElement("div",s({className:this.props.className||""},this.props,{ref:function(t){return e.wrapper=t},style:this.style}),this.props.children)}},{key:"offset",get:function(){return this.props.offset||0}},{key:"style",get:function(){return{width:r.a.size.width-this.offset,overflowX:"auto"}}}])&&l(n.prototype,i),a&&l(n,a),t}();d([i.computed],f.prototype,"offset",null),d([i.computed],f.prototype,"style",null),f=d([a.observer],f)},function(e,t,n){e.exports=n(15)(427)},function(e,t,n){e.exports=n(15)(366)},function(e,t,n){e.exports=n(15)(328)},function(e,t,n){e.exports=n(15)(877)},function(e,t,n){e.exports=n(15)(167)},function(e,t,n){e.exports=n(15)(876)},function(e,t,n){e.exports=n(15)(359)},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(748),a=n(25),s=n(4);n(562);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d,f=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.distinguishDrivers="0",e.annotateOncoKb="1",e.annotateHotspots="2",e.annotateCBioPortal="3",e.annotateCOSMIC="4",e.customDriverBinaryAnnotation="5"}(d||(d={}));var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var o,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),o=t,(a=[{key:"onInputClick",value:function(e){switch(e.target.value){case d.distinguishDrivers:this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case d.annotateOncoKb:this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case d.annotateHotspots:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case d.annotateCBioPortal:this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case d.annotateCOSMIC:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case d.customDriverBinaryAnnotation:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByDriver",type:"checkbox",value:d.distinguishDrivers,checked:this.props.state.distinguishDrivers,onClick:this.onInputClick})," ","Putative drivers vs VUS:")),r.createElement("div",{style:{marginLeft:"20px"}},!this.props.state.annotateDriversOncoKbDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:d.annotateOncoKb,checked:this.props.state.annotateDriversOncoKb,onClick:this.onInputClick,"data-test":"annotateOncoKb",disabled:this.props.state.annotateDriversOncoKbError}),this.props.state.annotateDriversOncoKbError&&r.createElement(i.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading OncoKb data. Please refresh the page or try again later.")}),r.createElement(s.c,{overlay:r.createElement("span",null,"Oncogenicity from OncoKB"),placement:"top"},r.createElement("img",{src:n(926),style:{maxHeight:"12px",cursor:"pointer",marginRight:"5px"}})),"driver annotation")),this.props.handlers.onSelectAnnotateHotspots&&!this.props.state.annotateDriversHotspotsDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:d.annotateHotspots,checked:this.props.state.annotateDriversHotspots,onClick:this.onInputClick,"data-test":"annotateHotspots",disabled:this.props.state.annotateDriversHotspotsError}),this.props.state.annotateDriversHotspotsError&&r.createElement(i.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading Hotspots data. Please refresh the page or try again later.")}),"Hotspots",r.createElement(s.c,{overlay:r.createElement("div",{style:{maxWidth:"400px"}},"Identified as a recurrent hotspot (statistically significant) in a population-scale cohort of tumor samples of various cancer types using methodology based in part on"," ",r.createElement("a",{href:Object(s.I)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016."),"Explore all mutations at"," ",r.createElement("a",{href:"https://www.cancerhotspots.org",target:"_blank"},"https://cancerhotspots.org")),placement:"top"},r.createElement("img",{src:n(688),style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}})))),this.props.handlers.onChangeAnnotateCBioPortalInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:d.annotateCBioPortal,checked:this.props.state.annotateDriversCBioPortal,onClick:this.onInputClick,"data-test":"annotateCBioPortalCount"}),"cBioPortal >="),r.createElement(s.e,{value:this.props.state.annotateCBioPortalInputValue||"",setValue:this.props.handlers.onChangeAnnotateCBioPortalInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),this.props.handlers.onChangeAnnotateCOSMICInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:d.annotateCOSMIC,checked:this.props.state.annotateDriversCOSMIC,onClick:this.onInputClick,"data-test":"annotateCOSMICCount"}),"COSMIC >="),r.createElement(s.e,{value:this.props.state.annotateCOSMICInputValue||"",setValue:this.props.handlers.onChangeAnnotateCOSMICInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),!!this.props.state.customDriverAnnotationBinaryMenuLabel&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.state.annotateCustomDriverBinary,value:d.customDriverBinaryAnnotation,onClick:this.onInputClick,"data-test":"annotateCustomBinary"})," ",this.props.state.customDriverAnnotationBinaryMenuLabel,r.createElement("img",{src:n(741),alt:"driver filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}))),!!this.props.state.customDriverAnnotationTiersMenuLabel&&r.createElement("span",null,r.createElement("span",{className:"caret"}),"",r.createElement("span",null,this.props.state.customDriverAnnotationTiersMenuLabel),"",r.createElement("img",{src:n(742),alt:"driver tiers filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}),r.createElement("div",{style:{marginLeft:"30px"}},(this.props.state.customDriverAnnotationTiers||[]).map(function(t){return r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:t,checked:!(!e.props.state.selectedCustomDriverAnnotationTiers||!e.props.state.selectedCustomDriverAnnotationTiers.get(t)),onClick:e.props.handlers.onCustomDriverTierCheckboxClick})," ",t))})))))}}])&&l(o.prototype,a),h&&l(o,h),t}();f([a.a],m.prototype,"onInputClick",null),m=f([o.observer],m),t.a=m},function(e,t,n){"use strict";var r=n(0),o=n(11);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).apply(this,arguments))}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",null,"Queries are limited by gene and sample count. The product of the query's gene and sample count must be less than"," ",this.props.queryProductLimit.toLocaleString(),". You have selected ",this.props.sampleCount.toLocaleString()," samples, so you can have no more than"," ",Math.floor(this.props.queryProductLimit/this.props.sampleCount).toLocaleString()," ","genes in your query. Please"," ",r.createElement("a",{style:{color:"#ccc"},href:"mailto:".concat(this.props.email)},"let us know")," ","your use case(s) if you need to query more than that.")}}])&&i(n.prototype,o),c&&i(n,c),t}();p=u([o.observer],p),t.a=p},function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return p});var r=n(557),o=n(0),i=n(7),a=n.n(i),s=n(16);function l(e,t){return e.length!==t.length?o.createElement("span",null,o.createElement("strong",null,t.length)," patients /"," ",o.createElement("strong",null,e.length)," samples"):o.createElement("span",null,o.createElement("strong",null,e.length)," patients/samples")}function c(e){switch(e.length){case 0:return"";case 1:return e[0];case 2:return e.join(" & ");default:return"".concat(e[0],", ").concat(e[1]," & ").concat(3===e.length?e[2]:"".concat(e.length-2," other genes"))}}function u(e,t,n,i,a){var s="Queried gene".concat(1!==a?"s are":" is"," altered in"),l="".concat(n," (").concat(Object(r.c)(n/e,0),") of queried");return e!==t?o.createElement("strong",{style:{display:"flex"}},o.createElement("span",{style:{marginRight:13}},s),o.createElement("table",null,o.createElement("tr",null,o.createElement("td",null,"","".concat(i," (").concat(Object(r.c)(i/t,0),") of queried patients"))),o.createElement("tr",null,o.createElement("td",null,"","".concat(l," samples"))))):o.createElement("strong",null,o.createElement("span",null,"".concat(s," ").concat(l," patients/samples")))}function p(e,t,n,r){var o=a.a.some(r,function(e){return"all_cases_in_study"===e.category}),i=[];t.length>0&&(n||!o)&&t.forEach(function(e){return i.push({sampleId:e.sampleId,studyId:e.studyId})});var l=window.open(Object(s.b)("study",{id:e.map(function(e){return e.studyId}).join(",")}),"_blank");i.length>0&&(l.studyPageFilter="filterJson=".concat(JSON.stringify({sampleIdentifiers:i})))}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(563),o=n(167),i=n(624);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=window,s=new r.c(e);return s.singlePageAppSubmitRoutine=function(e){e.cancer_study_list=e.cancer_study_list||e.cancer_study_id,delete e.cancer_study_id;var r=s.physicalStudyIdsInSelection.length>1&&1===s.geneIds.length?o.a.CANCER_TYPES_SUMMARY:o.a.ONCOPRINT,l=t||new i.b(a.routingStore);l.updateURL(e,"results/".concat(r),n,!1),void 0===t&&l.destroy()},s}},function(e,t,n){"use strict";var r=n(0),o=n(758),i=n.n(o),a=n(11),s=n(5),l=n(973),c=n.n(l),u=n(25);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=h(this,d(t).apply(this,arguments))).visible=!1,e.handleWidth="10%",e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"doScroll",value:function(e){this.overflow>0&&(this.scrollEl.style.left=e*this.overflow*-1+"px")}},{key:"componentDidMount",value:function(){this.updateScrollbar()}},{key:"componentDidUpdate",value:function(){this.updateScrollbar()}},{key:"updateScrollbar",value:function(){var e=this;setTimeout(function(){e.overflow>0&&Object(s.runInAction)(function(){e.visible=!0;var t=e.scrollEl.parentNode.offsetWidth/e.scrollEl.offsetWidth;e.handleWidth=75*t+"%"})},1)}},{key:"handleDragEvent",value:function(e,t){var n=t.node,r=t.x/(n.parentNode.offsetWidth-n.offsetWidth);r=(r=r>1?1:r)<0?0:r,this.props.onScroll&&this.props.onScroll({percentage:r}),this.doScroll(r)}},{key:"render",value:function(){var e=this,t=Object.assign({},{visibility:this.visible?"visible":"hidden"},this.props.style);return r.createElement("div",{className:c.a.scrollbar,style:t,ref:function(t){return e.scrollbarEl=t}},r.createElement(i.a,{bounds:"parent",onDrag:this.handleDragEvent},r.createElement("div",{className:c.a.handle,style:{width:this.handleWidth}})))}},{key:"scrollEl",get:function(){return this.props.getScrollEl()}},{key:"overflow",get:function(){return this.scrollEl.offsetWidth-this.scrollEl.parentNode.offsetWidth}}])&&p(n.prototype,o),a&&p(n,a),t}();y([s.observable],g.prototype,"visible",void 0),y([s.observable],g.prototype,"handleWidth",void 0),y([u.a],g.prototype,"handleDragEvent",null),g=y([a.observer],g),t.a=g},,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(580),a=n(11),s=n(928),l=n(626),c=n(7),u=n(610),p=n.n(u),h=n(28),d=n.n(h),f=n(563),m=n(4),y=n(629),g=n(3);function v(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},x=i,E=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=w(this,C(t).apply(this,arguments))).ProfileToggle=function(t){var n,o=t.profile,i=t.type,a=t.label,s=t.checked,l=t.isGroupToggle;return r.createElement("label",{className:d()((n={},b(n,x.altType,l),b(n,x.radio,"radio"===i),b(n,x.checkbox,"checkbox"===i),n))},r.createElement("input",{type:i,checked:s,onChange:function(t){return e.store.selectMolecularProfile(o,t.target.checked)},"data-test":o.molecularAlterationType}),r.createElement("span",{className:l?x.groupName:x.profileName},a),!l&&r.createElement(m.c,{mouseEnterDelay:0,placement:"right",overlay:r.createElement("div",{className:x.tooltip},o.description)},r.createElement(p.a,{className:x.infoIcon,name:"question-circle"})))},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,f["d"]),n=t,(o=[{key:"render",value:function(){return 1!==this.store.selectableSelectedStudyIds.length?null:r.createElement(l.b,{padded:!0,className:x.MolecularProfileSelector},r.createElement(y.a,{className:"sectionLabel",promises:[this.store.molecularProfiles]},"Select Genomic Profiles:"),r.createElement("div",{className:x.group,"data-test":"molecularProfileSelector"},this.renderGroup("MUTATION_EXTENDED","Mutation"),this.renderGroup("COPY_NUMBER_ALTERATION","Copy Number"),this.showGSVA&&this.renderGroup("GENESET_SCORE","GSVA scores"),this.renderGroup("MRNA_EXPRESSION","mRNA Expression"),this.renderGroup("METHYLATION","DNA Methylation"),this.renderGroup("METHYLATION_BINARY","DNA Methylation"),this.renderGroup("PROTEIN_LEVEL","Protein/phosphoprotein level"),!(!this.store.molecularProfiles.isComplete||this.store.molecularProfiles.result.length)&&r.createElement("strong",null,"No Genomic Profiles available for this Cancer Study")))}},{key:"renderGroup",value:function(e,t){var n=this,o=this.store.getFilteredProfiles(e);if(!o.length)return null;var i=o.map(function(e){return e.molecularProfileId}),a=c.intersection(this.store.selectedProfileIds,i).length>0,s=[];o.length>1&&!this.store.forDownloadTab&&s.push(r.createElement(this.ProfileToggle,{key:"altTypeCheckbox:"+e,profile:o[0],type:"checkbox",label:"".concat(t,". Select one of the profiles below:"),checked:a,isGroupToggle:!0}));var l=o.map(function(e){return r.createElement(n.ProfileToggle,{key:"profile:"+e.molecularProfileId,profile:e,type:n.store.forDownloadTab||o.length>1?"radio":"checkbox",label:e.name,checked:c.includes(n.store.selectedProfileIds,e.molecularProfileId),isGroupToggle:!1})});return this.store.forDownloadTab||1==o.length?s.push.apply(s,v(l)):s.push(r.createElement("div",{key:"group:"+e,className:x.group},l)),this.store.forDownloadTab?s:(a&&"MRNA_EXPRESSION"==e&&s.push(r.createElement("div",{key:s.length,className:x.zScore},"Enter a z-score threshold"," ",r.createElement("span",{dangerouslySetInnerHTML:{__html:["&","plusmn;"].join("")}}),r.createElement("input",{type:"text",value:this.store.zScoreThreshold,onChange:function(e){n.store.zScoreThreshold=e.target.value}}))),a&&"PROTEIN_LEVEL"==e&&s.push(r.createElement("div",{key:s.length,className:x.zScore},"Enter a z-score threshold"," ",r.createElement("span",{dangerouslySetInnerHTML:{__html:["&","plusmn;"].join("")}}),r.createElement("input",{type:"text",value:this.store.rppaScoreThreshold,onChange:function(e){n.store.rppaScoreThreshold=e.target.value}}))),s)}},{key:"showGSVA",get:function(){return g.b.serverConfig.skin_show_gsva}}])&&S(n.prototype,o),i&&S(n,i),t}(),A=E=T([a.observer],E),O=n(93);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=i,j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,M(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,f["d"]),n=t,(o=[{key:"render",value:function(){if(!this.store.isVirtualStudyQuery)return null;var e=[];return e.push(r.createElement(O.a,{key:"loading",isLoading:this.store.profileAvailability.isPending})),this.store.profileAvailability.isError?e.push(r.createElement("span",{key:"error"},"Error loading profiles for selected studies.")):this.store.profileAvailability.isComplete&&(e=e.concat(function(e,t){var n=[];e.mutation&&n.push(r.createElement(G,{key:"M",label:"Mutation",state:"mutation",store:t,dataTest:"M"}));e.cna&&n.push(r.createElement(G,{key:"C",label:"Copy number alterations",state:"cna",store:t,dataTest:"C"}));return n}(this.store.profileAvailability.result,this.store))),r.createElement(l.b,{padded:!0,className:R.DataTypePrioritySelector,"data-test":"dataTypePrioritySelector"},r.createElement(y.a,{className:"sectionLabel"},"Select Molecular Profiles:"),r.createElement(l.b,null,e))}}])&&P(n.prototype,o),i&&P(n,i),t}(),F=j=N([a.observer],j),G=Object(a.observer)(function(e){return r.createElement("label",{className:R.DataTypePriorityLabel},r.createElement("input",{type:"checkbox",checked:e.store.dataTypePriority[e.state]||!1,onChange:function(t){e.store.dataTypePriority[e.state]=t.currentTarget.checked},"data-test":e.dataTest}),e.label)});var B=n(92),z=n(5),V=[{id:"Prostate Cancer: AR Signaling",genes:["SOX9","RAN","TNK2","EP300","PXN","NCOA2","AR","NRIP1","NCOR1","NCOR2"]},{id:"Prostate Cancer: AR and steroid synthesis enzymes",genes:["AKR1C3","AR","CYB5A","CYP11A1","CYP11B1","CYP11B2","CYP17A1","CYP19A1","CYP21A2","HSD17B1","HSD17B10","HSD17B11","HSD17B12","HSD17B13","HSD17B14","HSD17B2","HSD17B3","HSD17B4","HSD17B6","HSD17B7","HSD17B8","HSD3B1","HSD3B2","HSD3B7","RDH5","SHBG","SRD5A1","SRD5A2","SRD5A3","STAR"]},{id:"Prostate Cancer: Steroid inactivating genes",genes:["AKR1C1","AKR1C2","AKR1C4","CYP3A4","CYP3A43","CYP3A5","CYP3A7","UGT2B15","UGT2B17","UGT2B7"]},{id:"Prostate Cancer: Down-regulated by androgen",genes:["BCHE","CDK8","CTBP1","ACKR3","DDC","DPH1","FN1","HES6","MMP16","MYC","PEG3","PIK3R3","PRKD1","SCNN1A","SDC4","SERPINI1","SLC29A1","ST7","TULP4"]},{id:"Glioblastoma: TP53 Pathway",genes:["CDKN2A","MDM2","MDM4","TP53"]},{id:"Glioblastoma: RTK/Ras/PI3K/AKT Signaling",genes:["EGFR","ERBB2","PDGFRA","MET","KRAS","NRAS","HRAS","NF1","SPRY2","FOXO1","FOXO3","AKT1","AKT2","AKT3","PIK3R1","PIK3CA","PTEN"]},{id:"Glioblastoma: RB Pathway",genes:["CDKN2A","CDKN2B","CDKN2C","CDK4","CDK6","CCND2","RB1"]},{id:"Ovarian Cancer: Oncogenes associated with epithelial ovarian cancer",genes:["RAB25","MECOM","EIF5A2","PRKCI","PIK3CA","KIT","FGF1","MYC","EGFR","NOTCH3","KRAS","AKT1","ERBB2","PIK3R1","CCNE1","AKT2","AURKA"]},{id:"Ovarian Cancer: Putative tumor-suppressor genes in epithelial ovarian cancer",genes:["DIRAS3","RASSF1","DLEC1","SPARC","DAB2","PLAGL1","RPS6KA2","PTEN","OPCML","BRCA2","ARL11","WWOX","TP53","DPH1","BRCA1","PEG3"]},{id:"General: Cell Cycle Control",genes:["RB1","RBL1","RBL2","CCNA1","CCNB1","CDK1","CCNE1","CDK2","CDC25A","CCND1","CDK4","CDK6","CCND2","CDKN2A","CDKN2B","MYC","CDKN1A","CDKN1B","E2F1","E2F2","E2F3","E2F4","E2F5","E2F6","E2F7","E2F8","SRC","JAK1","JAK2","STAT1","STAT2","STAT3","STAT5A","STAT5B"]},{id:"General: p53 signaling",genes:["TP53","MDM2","MDM4","CDKN2A","CDKN2B","TP53BP1"]},{id:"General: Notch signaling",genes:["ADAM10","ADAM17","APH1A","APH1B","ARRDC1","CIR1","CTBP1","CTBP2","CUL1","DLL1","DLL3","DLL4","DTX1","DTX2","DTX3","DTX3L","DTX4","EP300","FBXW7","HDAC1","HDAC2","HES1","HES5","HEYL","ITCH","JAG1","JAG2","KDM5A","LFNG","MAML1","MAML2","MAML3","MFNG","NCOR2","NCSTN","NOTCH1","NOTCH2","NOTCH3","NOTCH4","NRARP","NUMB","NUMBL","PSEN1","PSEN2","PSENEN","RBPJ","RBPJL","RFNG","SNW1","SPEN","HES2","HES4","HES7","HEY1","HEY2"]},{id:"General: DNA Damage Response",genes:["CHEK1","CHEK2","RAD51","BRCA1","BRCA2","MLH1","MSH2","ATM","ATR","MDC1","PARP1","FANCF"]},{id:"General: Other growth / proliferation signaling",genes:["CSF1","CSF1R","IGF1","IGF1R","FGF1","FGFR1","AURKA","DLEC1","PLAGL1","OPCML","DPH1"]},{id:"General: Survival / cell death regulation signaling",genes:["NFKB1","NFKB2","CHUK","DIRAS3","FAS","HLA-G","BAD","BCL2","BCL2L1","APAF1","CASP9","CASP8","CASP10","CASP3","CASP6","CASP7","GSK3B","ARL11","WWOX","PEG3","TGFB1","TGFBR1","TGFBR2"]},{id:"General: Telomere maintenance",genes:["TERC","TERT"]},{id:"General: RTK signaling family",genes:["EGFR","ERBB2","ERBB3","ERBB4","PDGFA","PDGFB","PDGFRA","PDGFRB","KIT","FGF1","FGFR1","IGF1","IGF1R","VEGFA","VEGFB","KDR"]},{id:"General: PI3K-AKT-mTOR signaling",genes:["PIK3CA","PIK3R1","PIK3R2","PTEN","PDPK1","AKT1","AKT2","FOXO1","FOXO3","MTOR","RICTOR","TSC1","TSC2","RHEB","AKT1S1","RPTOR","MLST8"]},{id:"General: Ras-Raf-MEK-Erk/JNK signaling",genes:["KRAS","HRAS","BRAF","RAF1","MAP3K1","MAP3K2","MAP3K3","MAP3K4","MAP3K5","MAP2K1","MAP2K2","MAP2K3","MAP2K4","MAP2K5","MAPK1","MAPK3","MAPK4","MAPK6","MAPK7","MAPK8","MAPK9","MAPK12","MAPK14","DAB2","RASSF1","RAB25"]},{id:"General: Regulation of ribosomal protein synthesis and cell growth",genes:["RPS6KA1","RPS6KA2","RPS6KB1","RPS6KB2","EIF5A2","EIF4E","EIF4EBP1","RPS6","HIF1A"]},{id:"General: Angiogenesis",genes:["VEGFA","VEGFB","KDR","CXCL8","CXCR1","CXCR2"]},{id:"General: Folate transport",genes:["SLC19A1","FOLR1","FOLR2","FOLR3","IZUMO1R"]},{id:"General: Invasion and metastasis",genes:["MMP1","MMP2","MMP3","MMP7","MMP9","MMP10","MMP11","MMP12","MMP13","MMP14","MMP15","MMP16","MMP17","MMP19","MMP21","MMP23B","MMP24","MMP25","MMP26","MMP27","MMP28","ITGB3","ITGAV","PTK2","CDH1","SPARC","WFDC2"]},{id:"General: TGF- Pathway",genes:["TGFB1","TGFB2","TGFB3","TGFBR1","TGFBR2","TGFBR3","BMP2","BMP3","BMP4","BMP5","BMP6","BMP7","GDF2","BMP10","BMP15","BMPR1A","BMPR1B","BMPR2","ACVR1","ACVR1B","ACVR1C","ACVR2A","ACVR2B","ACVRL1","Nodal","GDF1","GDF11","INHA","INHBA","INHBB","INHBC","INHBE","SMAD2","SMAD3","SMAD1","SMAD5","SMAD4","SMAD9","SMAD6","SMAD7","SPTBN1","TGFBRAP1","ZFYVE9"]}],H=n(9),U=n.n(H),q=n(550);n(947),n(948);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var X=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Q(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Z=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=K(this,$(t).call(this,e))).isLoading=!0,n.map_geneSets_selected=new z.ObservableMap,n.map_geneSets_selected.replace(e.initialSelection.map(function(e){return[e,!0]})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.promisedTree=this.initTree(this.tree),this.promisedTree.then(function(t){return e.isLoading=!1,t})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.scoreThreshold===e.scoreThreshold&&this.props.pvalueThreshold===e.pvalueThreshold&&this.props.percentile===e.percentile||(this.promisedTree=this.promisedTree.then(function(e){return t.isLoading=!0,t.replaceTree(e)}).then(function(e){return t.isLoading=!1,e})),this.props.searchValue!==e.searchValue&&(this.promisedTree=this.promisedTree.then(function(e){return t.searchTree(e,t.props.searchValue)}))}},{key:"transformHierarchyData",value:function(e){var t=e,n=[],r=0,o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,p=u.nodeName,h=u.parentNodeName?u.parentNodeName:"#";if(n.push({id:p,parent:h,text:p,li_attr:{name:p},geneset:!1,state:{opened:!0,selected:!1}}),c.has(u,"genesets")){var d=!0,f=!1,m=void 0;try{for(var y,g=u.genesets[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value,b=r++,S=v.genesetId,w=v.description,C=v.representativeScore,_=v.representativePvalue,k=v.refLink,T="",x=S+'<span style="font-weight:normal;font-style:italic;"> '+(T=(T=T+"score = "+C.toFixed(2))+", p-value = "+(_=_<.005?_.toExponential(0):_.toFixed(2)))+"</span>";n.push({id:b.toString(),parent:p,text:x,state:{selected:!1},li_attr:{name:S},description:w,representativeScore:C,representativePvalue:_,refLink:k,geneset:!0})}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"initTree",value:function(e){return Z(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(q.S)(this.props.gsvaProfile,this.props.percentile,this.props.scoreThreshold,this.props.pvalueThreshold,this.props.sampleListId);case 2:return n=t.sent,U()(e).jstree({search:{show_only_matches:!0,show_only_matches_children:!0},checkbox:{cascade_to_disabled:!1,cascade_to_hidden:!1},core:{themes:{icons:!1},check_callback:!0,data:this.transformHierarchyData(n)},plugins:["checkbox","search"]}),t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}))}},{key:"destroyTree",value:function(e){U()(e).jstree(!0).destroy()}},{key:"replaceTree",value:function(e){return Z(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.destroyTree(e),t.next=3,this.initTree(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}))}},{key:"submitGeneSets",value:function(e){if(e){var t=U()(e).jstree("get_selected",!0),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;s.original.geneset&&this.map_geneSets_selected.set(s.original.description,!0)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return this.map_geneSets_selected}},{key:"searchTree",value:function(e,t){return U()(e).jstree(!0).search(t),e}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O.a,{isLoading:this.isLoading}),o.a.createElement("div",{ref:function(t){return e.tree=t},style:{maxHeight:"380px",overflowY:"scroll"},"data-test":"gsva-tree-container"}),o.a.createElement("div",{style:{padding:"30px 0px"}},o.a.createElement("button",{className:"btn btn-primary btn-sm pull-right",style:{margin:"2px"},disabled:this.isLoading,onClick:function(){var t=e.submitGeneSets(e.tree);e.props.onSelect(t)}},"Select")))}}])&&W(n.prototype,r),i&&W(n,i),t}();X([z.observable],J.prototype,"isLoading",void 0);var ee=J=X([a.observer],J),te=n(604);function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var se=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ae(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},le=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=re(t).call(this,e))||"object"!==ae(o)&&"function"!=typeof o?oe(r):o).percentile=n.props.percentile,n.pvalueThreshold=String(n.props.pvalueThreshold),n.scoreThreshold=String(n.props.scoreThreshold),n.percentileOptions=[{label:"50%",value:50},{label:"75%",value:75},{label:"100%",value:100}],n.percentileChange=n.percentileChange.bind(oe(n)),n.applyFilter=n.applyFilter.bind(oe(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,r["Component"]),n=t,(o=[{key:"percentileChange",value:function(e){this.percentile=e?e.value:75}},{key:"applyFilter",value:function(){var e=this.pvalueThreshold?Number(this.pvalueThreshold):NaN,t=this.scoreThreshold?Number(this.scoreThreshold):NaN;Number.isNaN(e)||Number.isNaN(t)||this.props.onApply(this.percentile,e,t)}},{key:"render",value:function(){var e=this;return r.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",width:"100%",background:"#eee",padding:"10px 10px"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("label",{htmlFor:"GSVAScore"},"GSVA score"),r.createElement("input",{id:"GSVAScore",type:"string",value:this.scoreThreshold,style:{width:160,height:36,padding:10},onChange:function(t){return e.scoreThreshold=t.target.value},step:"0.1"})),r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("label",{htmlFor:"Pvalue"},"P-value"),r.createElement("input",{id:"Pvalue",type:"string",value:this.pvalueThreshold,style:{width:160,height:36,padding:10},onChange:function(t){return e.pvalueThreshold=t.target.value},step:"0.01",min:"0"})),r.createElement("div",null,r.createElement("label",{htmlFor:"PercentileScoreCalculation"},"Percentile for score calculation"),r.createElement(te.a,{addLabelText:"Percentile for score calculation",style:{width:160,borderRadius:"2px"},clearable:!1,name:"PercentileScoreCalculation",value:this.percentile,options:this.percentileOptions,onChange:this.percentileChange})),r.createElement("div",null,r.createElement("button",{id:"filterButton",className:"btn btn-primary btn-sm",style:{padding:"20px 18px"},onClick:this.applyFilter},"Apply Filter")))}}])&&ne(n.prototype,o),i&&ne(n,i),t}();se([z.observable],le.prototype,"percentile",void 0),se([z.observable],le.prototype,"pvalueThreshold",void 0),se([z.observable],le.prototype,"scoreThreshold",void 0);var ce=le=se([a.observer],le);function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var me=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":fe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=pe(t).call(this,e))||"object"!==fe(o)&&"function"!=typeof o?he(r):o).percentile=75,n.pvalueThreshold=.05,n.scoreThreshold=.5,n.searchValue="",n.updateSelectionParameters=n.updateSelectionParameters.bind(he(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,r["Component"]),n=t,(o=[{key:"updateSelectionParameters",value:function(e,t,n){this.percentile=e,this.pvalueThreshold=t,this.scoreThreshold=n}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("text",null,"Search hierarchy"),r.createElement("div",{className:"form-group has-feedback input-group-sm",style:{display:"inline-block"}},r.createElement("input",{type:"text",id:"geneset-hierarchy-search",className:"form-control tableSearchInput",style:{width:768},value:this.searchValue,onChange:function(t){return e.searchValue=t.target.value}}),r.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true"})),r.createElement(ce,{percentile:this.percentile,pvalueThreshold:this.pvalueThreshold,scoreThreshold:this.scoreThreshold,onApply:this.updateSelectionParameters}),r.createElement(ee,{initialSelection:this.props.initialSelection,scoreThreshold:this.scoreThreshold,pvalueThreshold:this.pvalueThreshold,percentile:this.percentile,gsvaProfile:this.props.gsvaProfile,sampleListId:this.props.sampleListId,searchValue:this.searchValue,onSelect:this.props.onSelect}))}}])&&ue(n.prototype,o),i&&ue(n,i),t}();me([z.observable],ye.prototype,"percentile",void 0),me([z.observable],ye.prototype,"pvalueThreshold",void 0),me([z.observable],ye.prototype,"scoreThreshold",void 0),me([z.observable],ye.prototype,"searchValue",void 0);var ge=ye=me([a.observer],ye),ve=n(594),be=n(554),Se=n(557),we=n(565),Ce=n(561);function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ie=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Pe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Me=i,De=function(e){function t(){return ke(this,t),Te(this,Ee(t).apply(this,arguments))}return Ae(t,be["b"]),t}(),Le=function(e){function t(e){var n;return ke(this,t),(n=Te(this,Ee(t).call(this,e))).percentileOptions=[{label:"50%",value:"50"},{label:"75%",value:"75"},{label:"100%",value:"100"}],n.percentileChange=n.percentileChange.bind(xe(n)),n.updateSelectionFromPlot=n.updateSelectionFromPlot.bind(xe(n)),n}var n,o,i;return Ae(t,f["d"]),n=t,(o=[{key:"percentileChange",value:function(e){this.store.volcanoPlotSelectedPercentile=e||{label:"75%",value:"75"}}},{key:"updateSelectionFromPlot",value:function(e,t){var n=this,r=e&&e[0].data?e[0].data:[];this.store.volcanoPlotTableData.result.map(function(e){var t=e.representativeScore,o=e.representativePvalue,i=e.name,a=t,s=-Math.log(o)/Math.log(10),l=!0,c=!1,u=void 0;try{for(var p,h=r[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;d.x===a&&d.y===s&&n.store.map_genesets_selected_volcano.set(i,!0)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}})}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:Me.GenesetsVolcanoSelectorWindow,style:{height:"400px"}},r.createElement("div",{style:{float:"left"},className:"form-inline"},r.createElement("label",{htmlFor:"PercentileScoreCalculation"},"Percentile for score calculation:"),r.createElement("span",{style:{display:"inline-block",verticalAlign:"middle",marginLeft:"1em"}},r.createElement(te.a,{addLabelText:"Percentile for score calculation",style:{width:160,borderRadius:"2px"},clearable:!1,name:"PercentileScoreCalculation",value:this.store.volcanoPlotSelectedPercentile,options:this.percentileOptions,onChange:this.percentileChange})),r.createElement(O.a,{isLoading:!(this.props.plotData&&this.props.maxY&&this.store.volcanoPlotTableData.isComplete&&this.props.data)}),this.store.volcanoPlotGraphData&&this.store.minYVolcanoPlot&&this.props.plotData&&this.props.maxY&&this.store.volcanoPlotTableData.isComplete&&this.props.data&&r.createElement(we.VictoryChart,{theme:Ce.d,width:510,height:350,containerComponent:r.createElement(we.VictorySelectionContainer,{onSelection:this.updateSelectionFromPlot,selectionStyle:{fill:"tomato",fillOpacity:.5,stroke:"tomato",strokeWidth:2}})},r.createElement(we.VictoryAxis,{crossAxis:!0,domain:[-1,1.25],tickValues:[-1,-.5,0,.5,1],style:{axisLabel:{padding:35}},label:"GSVA score",offsetY:50,standalone:!1}),r.createElement(we.VictoryAxis,{dependentAxis:!0,crossAxis:!0,domain:[0,this.props.maxY],style:{axisLabel:{padding:35},stroke:"none"},label:"-log10 p-value",offsetX:50,standalone:!1}),r.createElement(we.VictoryLabel,{text:"significance",datum:{x:1,y:1.3},textAnchor:"start"}),r.createElement(we.VictoryLine,{style:{data:{stroke:"black",strokeDasharray:5},parent:{border:"dotted 1px #f00"}},data:[{x:-1.2,y:1.3},{x:1,y:1.3}]}),r.createElement(we.VictoryLine,{style:{data:{stroke:"rgb(144, 164, 174)"},parent:{border:"1px dashed solid"}},data:[{x:0,y:0},{x:0,y:this.props.maxY}]}),r.createElement(we.VictoryScatter,{style:{data:{fill:function(e){return e?e.fill:""},fillOpacity:.3}},size:3,data:this.props.plotData}))),r.createElement("div",{style:{float:"right",height:"356.5px",overflowY:"scroll",width:"650px"}},r.createElement(O.a,{isLoading:!(this.store.volcanoPlotTableData.isComplete&&this.props.data)}),this.store.volcanoPlotTableData.isComplete&&this.props.data&&r.createElement(De,{data:this.props.data,columns:[{name:"Gene Sets",render:function(e){return r.createElement("span",null,e.name)},sortBy:function(e){return e.name},filter:function(e,t,n){return e.name.toUpperCase().indexOf(n)>-1}},{name:"GSVA Score",render:function(e){return r.createElement("span",null,e.representativeScore.toFixed(2))},sortBy:function(e){return e.representativeScore}},{name:"P Value",render:function(e){return r.createElement("span",null,Object(Se.f)(e.representativePvalue,2,.1))},sortBy:function(e){return e.representativePvalue}},{name:"Selected",render:function(t){return r.createElement(ve.a,{checked:!!e.store.map_genesets_selected_volcano.get(t.name),onChange:function(n){return e.store.map_genesets_selected_volcano.set(t.name,n.target.checked)}})}}],initialSortColumn:"P Value",initialSortDirection:"asc",showPagination:!0,initialItemsPerPage:100,showColumnVisibility:!1,showFilter:!0,showCopyDownload:!1})),r.createElement("div",{style:{float:"right"}},this.store.volcanoPlotTableData.isComplete&&this.props.data&&r.createElement("button",{style:{marginTop:15,float:"right"},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.props.onSelect(e.store.map_genesets_selected_volcano)}},"Add selection to the query"),this.store.volcanoPlotTableData.isComplete&&this.props.data&&r.createElement("button",{style:{marginRight:15,marginTop:15,float:"right"},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.store.map_genesets_selected_volcano.replace(e.props.initialSelection.map(function(e){return[e,!0]}))}},"Clear selection")))}}])&&_e(n.prototype,o),i&&_e(n,i),t}();Ie([z.action],Le.prototype,"updateSelectionFromPlot",null);var Ne=Le=Ie([a.observer],Le);function Re(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ve=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ze(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},He=i,Ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fe(this,Ge(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,f["d"]),n=t,(o=[{key:"render",value:function(){var e=this;return r.createElement(l.b,{padded:!0,overflow:!0,className:He.GeneSetSelector},r.createElement(y.a,{className:"sectionLabel"},"Enter Gene Sets:"),r.createElement(l.a,{overflow:!0},r.createElement(l.b,{padded:!0,className:He.buttonRow},r.createElement("button",{className:"btn btn-default btn-sm","data-test":"GENESET_HIERARCHY_BUTTON",onClick:function(){return e.store.showGenesetsHierarchyPopup=!0}},"Select Gene Sets from Hierarchy"),r.createElement("button",{className:"btn btn-default btn-sm","data-test":"GENESET_VOLCANO_BUTTON",onClick:function(){return e.store.showGenesetsVolcanoPopup=!0}},"Select Gene Sets from Volcano Plot")),r.createElement("textarea",{ref:this.textAreaRef,className:d()(He.geneSet,this.store.genesetQuery?He.notEmpty:He.empty),rows:5,cols:80,placeholder:"Enter Gene Sets",title:"Enter Gene Sets",value:this.store.genesetQuery,onChange:function(t){return e.store.genesetQuery=t.currentTarget.value},"data-test":"GENESETS_TEXT_AREA"}),r.createElement(B.Modal,{className:d()("cbioportal-frontend",He.GenesetsSelectorWindow),show:this.store.showGenesetsHierarchyPopup,onHide:function(){return e.store.showGenesetsHierarchyPopup=!1}},r.createElement(B.Modal.Header,{closeButton:!0},r.createElement(B.Modal.Title,null,"Select Gene Sets From Hierarchy")),r.createElement(B.Modal.Body,null,r.createElement(ge,{initialSelection:this.store.genesetIds,gsvaProfile:this.store.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId,sampleListId:this.store.defaultSelectedSampleListId,onSelect:function(t){e.store.applyGenesetSelection(t),e.store.showGenesetsHierarchyPopup=!1}}))),r.createElement(B.Modal,{className:d()("cbioportal-frontend",He.GenesetsVolcanoSelectorWindow),show:this.store.showGenesetsVolcanoPopup,onHide:function(){return e.store.showGenesetsVolcanoPopup=!1},onShow:function(){return e.store.map_genesets_selected_volcano.replace(e.store.genesetIds.map(function(e){return[e,!0]}))}},r.createElement(B.Modal.Header,{closeButton:!0},r.createElement(B.Modal.Title,null,"Select Gene Sets From Volcano Plot")),r.createElement(B.Modal.Body,null,r.createElement(Ne,{initialSelection:this.store.genesetIds,data:this.store.volcanoPlotTableData.result,plotData:this.store.volcanoPlotGraphData,maxY:this.store.minYVolcanoPlot?-Math.log(this.store.minYVolcanoPlot)/Math.log(10):void 0,onSelect:function(t){e.store.addToGenesetSelection(t),e.store.showGenesetsVolcanoPopup=!1}})))))}},{key:"selectedGeneListOption",get:function(){var e=this,t=this.geneListOptions.find(function(t){return t.value===e.store.geneQuery});return t?t.value:""}},{key:"geneListOptions",get:function(){var e=V;if(g.b.serverConfig.query_sets_of_genes){var t=g.a.parseQuerySetsOfGenes(g.b.serverConfig.query_sets_of_genes);t&&(e=t)}return[{label:"User-defined List",value:""}].concat(Re(e.map(function(e){return{label:"".concat(e.id," (").concat(e.genes.length," genes)"),value:e.genes.join(" ")}})))}},{key:"textAreaRef",get:function(){var e=this;if(this.store.geneQueryErrorDisplayStatus===f.b.ShouldFocus)return function(t){var n=e.store.oql.error;t&&n&&(t.focus(),t.setSelectionRange(n.start,n.end),e.store.geneQueryErrorDisplayStatus=f.b.Focused)}}}])&&je(n.prototype,o),i&&je(n,i),t}();Ve([z.computed],Ue.prototype,"selectedGeneListOption",null),Ve([z.computed],Ue.prototype,"geneListOptions",null),Ve([z.computed],Ue.prototype,"textAreaRef",null);var qe=Ue=Ve([a.observer],Ue),We=n(16),Ke=n(949),$e=n(750),Ye=n(116),Qe=n.n(Ye),Xe=n(581),Ze=n(20),Je=n(665);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n(957);var at=n(591);function st(e,t){var n=[];return t||(Object.keys(e[0]).forEach(function(e){return n.push(e,",")}),n.pop(),n.push("\r\n")),e.forEach(function(e){c.each(e,function(e){n.push(e,",")}),n.pop(),n.push("\r\n")}),n.join("")}var lt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=rt(t).call(this,e),(n=!o||"object"!==et(o)&&"function"!=typeof o?ot(r):o).downloadData=function(){n.props.downloadDataGenerator?Qe()(st(n.props.downloadDataGenerator()||[],n.props.downloadDataContainsHeader),n.props.downloadFilename):Qe()(st(n.props.tableData||[],n.props.downloadDataContainsHeader),n.props.downloadFilename)},n.handleInput=n.handleInput.bind(ot(n)),n.getText=n.getText.bind(ot(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.showCopyAndDownload&&this._copyButton&&this.bindCopyButton()}},{key:"bindCopyButton",value:function(){new at(this._copyButton,{text:function(){return this.getText()}.bind(this)})}},{key:"handleInput",value:function(e){var t=this;null!==this.searchTimeout&&(clearTimeout(this.searchTimeout),this.searchTimeout=null);var n=e.currentTarget.value;this.searchTimeout=setTimeout(function(){t.props.handleInput&&t.props.handleInput(n)},this.props.searchDelayMs)}},{key:"render",value:function(){var e=this,t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});return r.createElement("div",{className:(this.props.className||"")+""},r.createElement(B.ButtonToolbar,null,r.createElement(Ze.If,{condition:this.props.showPagination},r.createElement(Xe.a,tt({className:"pull-left"},this.props.paginationProps))),r.createElement(Ze.If,{condition:this.props.showHideShowColumnButton},r.createElement(Je.a,this.props.columnVisibilityProps)),r.createElement(Ze.If,{condition:this.props.showCopyAndDownload},r.createElement(B.ButtonGroup,{className:this.props.copyDownloadClassName,style:{marginLeft:10}},r.createElement(m.c,{overlay:r.createElement("span",null,"Copy"),placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5,arrowContent:t},r.createElement("button",{ref:function(t){e._copyButton=t},className:"btn btn-sm btn-default","option-text":this.getText},r.createElement("i",{className:"fa fa-clipboard"}))),r.createElement(m.c,{overlay:r.createElement("span",null,"Download CSV"),mouseLeaveDelay:0,mouseEnterDelay:.5,placement:"top",arrowContent:t},r.createElement(B.Button,{className:"btn-sm",onClick:this.downloadData},r.createElement("i",{className:"fa fa-cloud-download"}))))),r.createElement(Ze.If,{condition:this.props.showSearch},r.createElement("div",{className:"".concat(this.props.searchClassName," form-group has-feedback input-group-sm"),style:{display:"inline-block",marginLeft:10}},r.createElement("input",{type:"text",onInput:this.handleInput,className:"form-control tableSearchInput",style:{width:200}}),r.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true"})))))}},{key:"getText",value:function(){return this.props.downloadDataGenerator?st(this.props.downloadDataGenerator()||[],this.props.downloadDataContainsHeader):st(this.props.tableData||[],this.props.downloadDataContainsHeader)}}])&&nt(n.prototype,o),i&&nt(n,i),t}();lt.defaultProps={showSearch:!1,showCopyAndDownload:!0,showPagination:!1,searchClassName:"",copyDownloadClassName:"",downloadFilename:"patient-clinical-attributes.tsv",downloadDataContainsHeader:!1,paginationProps:{},columnVisibilityProps:{},searchDelayMs:400};n(958);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ht(t).call(this,e),(n=!o||"object"!==ct(o)&&"function"!=typeof o?dt(r):o).rawDataSelector=function(e,t){return t.rawData},n.columnsSelector=function(e,t){return t.columns},n.columnVisibilitySelector=function(e){return e.columnVisibility},n.visibleColsSelector=Object(Ke.createSelector)(n.columnsSelector,n.columnVisibilitySelector,function(e,t){return n.resolveVisible(e,t)}),n.sortedVisibleColsSelector=Object(Ke.createSelector)(n.visibleColsSelector,function(e){return n.resolveOrder(e)}),n.sortedColsSelector=Object(Ke.createSelector)(n.columnsSelector,function(e){return n.resolveOrder(e)}),n.columnVisibilityArraySelector=Object(Ke.createSelector)(n.sortedColsSelector,n.columnVisibilitySelector,function(e,t){return n.resolveColumnVisibility(n.colNameToId,e,t)}),n.downloadDataSelector=Object(Ke.createSelector)(n.sortedColsSelector,n.columnVisibilitySelector,n.rawDataSelector,function(e,t,r){return n.generateDownloadData(e,t,r)}),n.headersSelector=Object(Ke.createSelector)(n.sortedVisibleColsSelector,function(e){return n.generateHeaders(e)}),n.rowsSelector=Object(Ke.createSelector)(n.sortedColsSelector,n.rawDataSelector,function(e,t){return n.generateRows(e,t)}),n.colNameToId=n.mapColNameToId(e.columns),n.state={columnVisibility:t.resolveVisibility(e.columns,e.rawData),sortableColumns:n.resolveSortable(n.props.columns||{}),filterableColumns:n.resolveFilterable(n.props.columns||{}),filter:"",itemsPerPage:n.props.initItemsPerPage||25,currentPage:n.props.initPage||0},n.filteredDataLength=e.rawData.length,n.shouldSetState=!1;var i=$e.Table.prototype.applyFilter;$e.Table.prototype.applyFilter=function(){var e,t=i.apply(this,arguments);return(e=t.length)!==n.filteredDataLength&&(n.filteredDataLength=e,n.shouldSetState=!0),t};var a=$e.Table.prototype.render;return $e.Table.prototype.render=function(){var e,t=a.apply(this,arguments);return e=t.props.children.find(function(e){return"tbody"===e.type}).props.children||[],n.props.onVisibleRowsChange&&n.props.onVisibleRowsChange(e.map(function(e){return e.props.rowData})),t},n.handleDownload=n.handleDownload.bind(dt(n)),n.handleFilterInput=n.handleFilterInput.bind(dt(n)),n.handleVisibilityToggle=n.handleVisibilityToggle.bind(dt(n)),n.handleChangeItemsPerPage=n.handleChangeItemsPerPage.bind(dt(n)),n.handlePreviousPageClick=n.handlePreviousPageClick.bind(dt(n)),n.handleNextPageClick=n.handleNextPageClick.bind(dt(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,r["Component"]),n=t,i=[{key:"resolveVisibility",value:function(e,t){var n={};return e?(c.each(c.keys(e),function(r){var o=e[r],i="visible";o.visible&&(i=c.isFunction(o.visible)?o.visible(t,o.columnProps):o.visible),"excluded"!==i&&(n[r]=i)}),n):n}},{key:"columnSort",value:function(e,t){return e.priority&&t.priority?e.priority-t.priority:e.priority?-1:t.priority?1:e.name>t.name?1:-1}}],(o=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.reactTableProps,o=e.headerControlsProps,i=(this.columnVisibilityArraySelector(this.state,this.props),this.headersSelector(this.state,this.props)),a=this.rowsSelector(this.state,this.props),s=this.rowIndexesOnPage(),l=s.firstIndex,c=s.numIndexes;return r.createElement("div",{className:t},r.createElement(lt,ut({showCopyAndDownload:!0,showHideShowColumnButton:!0,handleInput:this.handleFilterInput,downloadDataGenerator:this.handleDownload,downloadDataContainsHeader:!0,downloadFilename:"mutations.csv",showSearch:!0,columnVisibilityProps:{className:"pull-right",onColumnToggled:this.handleVisibilityToggle},paginationProps:{className:"pull-right",itemsPerPage:this.state.itemsPerPage,currentPage:this.state.currentPage,onChangeItemsPerPage:this.handleChangeItemsPerPage,onPreviousPageClick:this.handlePreviousPageClick,onNextPageClick:this.handleNextPageClick,textBetweenButtons:"".concat(this.filteredDataLength?l+1:0,"-").concat(l+c," of ").concat(this.filteredDataLength),previousPageDisabled:0===this.state.currentPage,nextPageDisabled:this.state.currentPage>=this.numPages()-1}},o)),r.createElement($e.Table,ut({sortable:this.state.sortableColumns,filterable:this.state.filterableColumns,filterBy:this.state.filter,itemsPerPage:-1===this.state.itemsPerPage?void 0:this.state.itemsPerPage,currentPage:this.state.currentPage},n),i,a))}},{key:"componentWillUpdate",value:function(e,t){0===t.filter.length&&(this.filteredDataLength=this.props.rawData.length)}},{key:"componentDidUpdate",value:function(){this.shouldSetState&&(this.shouldSetState=!1,this.setState({currentPage:Math.max(0,Math.min(this.state.currentPage,this.numPages()-1))}))}},{key:"rowIndexesOnPage",value:function(){var e,t;return-1===this.state.itemsPerPage?(e=0,t=this.filteredDataLength):(e=this.state.itemsPerPage*this.state.currentPage,t=Math.min(this.filteredDataLength-e,this.state.itemsPerPage)),{firstIndex:e,numIndexes:t}}},{key:"numPages",value:function(e){return-1===(e=e||this.state.itemsPerPage)?1:Math.ceil(this.filteredDataLength/e)}},{key:"mapColNameToId",value:function(e){var t={};return e&&c.each(e,function(e,n){e.name&&(t[e.name],t[e.name]=n)}),t}},{key:"resolveOrder",value:function(e){return e?c.values(e).sort(t.columnSort):[]}},{key:"resolveColumnVisibility",value:function(e,t,n){var r=[];return c.each(t,function(t){var o=e[t.name];n[o]&&r.push({id:o,name:t.name,visibility:n[o]})}),r}},{key:"generateHeaders",value:function(e){var t=[];return c.each(e,function(e){var n=e.header||r.createElement("span",null,e.name);if(e.description){var o=r.createElement("div",{className:"rc-tooltip-arrow-inner"});n=r.createElement(m.c,{overlay:r.createElement("span",null,e.description),placement:"top",arrowContent:o},n)}t.push(r.createElement($e.Th,{key:e.name,column:e.name},n))}),t}},{key:"generateDownloadData",value:function(e,t,n){var r=this,o=[];return o[0]=[],c.each(e,function(e){var n=r.colNameToId[e.name];n in t&&"excluded"!==t[n]&&o[0].push(e.name)}),c.each(n,function(i,a){var s=[];c.each(e,function(e){var o=r.colNameToId[e.name];if(o in t&&"excluded"!==t[o]){var a=r.getColumnData(e,n,i);e.downloader?s.push(e.downloader(a,e.columnProps)):s.push((a.columnData||"").toString())}}),o.push(s)}),o}},{key:"getColumnData",value:function(e,t,n){var r={name:e.name,tableData:t,rowData:n,columnData:null};if(e.columnDataFunction)r.columnData=e.columnDataFunction(r);else if(e.dataField){var o=null;(o=c.isArray(r.rowData)&&r.rowData.length>0?r.rowData[0]:r.rowData)&&(r.columnData=o[e.dataField])}return r}},{key:"generateRows",value:function(e,t){var n=this,o=[];return c.each(t,function(i,a){var s=n.generateColumns(e,t,i);o.push(r.createElement($e.Tr,{key:a,rowData:i},s))}),o}},{key:"generateColumns",value:function(e,t,n){var r=this,o=[];return c.each(e,function(e){var i=r.getColumnData(e,t,n);o.push(r.generateColumn(i,e))}),o}},{key:"generateColumn",value:function(e,t){return t.formatter?t.formatter(e,t.columnProps):r.createElement($e.Td,{key:t.name,column:t.name,value:e.columnData},e.columnData)}},{key:"resolveVisible",value:function(e,t){var n={};return c.each(c.keys(t),function(r){"visible"===t[r]&&(n[r]=e[r])}),n}},{key:"resolveSortable",value:function(e){var t=[];return c.each(e,function(e){c.isFunction(e.sortable)?t.push({column:e.name,sortFunction:e.sortable}):e.sortable&&t.push(e.name)}),t}},{key:"resolveFilterable",value:function(e){var t=[];return c.each(e,function(e){c.isFunction(e.filterable)?t.push({column:e.name,filterFunction:e.filterable}):e.filterable&&t.push(e.name)}),t}},{key:"handleFilterInput",value:function(e){this.setState({filter:e})}},{key:"handleDownload",value:function(){return this.downloadDataSelector(this.state,this.props)}},{key:"handleVisibilityToggle",value:function(e){var t=e,n=this.state.columnVisibility[t],r=Object.assign({},this.state.columnVisibility);"hidden"===n?n="visible":"visible"===n&&(n="hidden"),r[t]=n,this.setState({columnVisibility:r})}},{key:"handleChangeItemsPerPage",value:function(e){this.setState({itemsPerPage:e,currentPage:Math.min(this.state.currentPage,this.numPages(e)-1)})}},{key:"handlePreviousPageClick",value:function(){this.setState({currentPage:Math.max(0,this.state.currentPage-1)})}},{key:"handleNextPageClick",value:function(){this.setState({currentPage:Math.min(this.state.currentPage+1,this.numPages()-1)})}}])&&pt(n.prototype,o),i&&pt(n,i),t}();function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _t=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ct(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},kt=i,Tt=function(e){function t(){return gt(this,t),vt(this,bt(t).apply(this,arguments))}return St(t,mt),t}(),xt=function(e){function t(e){var n;return gt(this,t),(n=vt(this,bt(t).call(this,e))).map_geneSymbol_selected=z.observable.map(),n.columns={hugoGeneSymbol:{priority:1,dataField:"hugoGeneSymbol",name:"Gene Symbol",sortable:!0,filterable:!0},numberOfMutations:{priority:2,dataField:"numberOfMutations",name:"Num Mutations",sortable:!0,filterable:!0},qValue:{priority:3,dataField:"qValue",name:"Q-Value",sortable:!0,filterable:!0,formatter:function(e){var t=e.name,n=e.columnData;return r.createElement($e.Td,{key:t,column:t,value:n},Object(Se.f)(n,2,.1))}},selected:{name:"Selected",priority:4,sortable:!1,filterable:!1,header:r.createElement("div",{className:kt.selectionColumnHeader},r.createElement("span",null,"All"),r.createElement(a.Observer,null,function(){return r.createElement(ve.a,{checked:n.selectedGenes.length>0,indeterminate:n.selectedGenes.length>0&&n.selectedGenes.length<n.allGenes.length,onChange:function(e){return n.selectAll(e.target.checked)}})})),formatter:function(e){var t=e.name,o=e.rowData;return r.createElement($e.Td,{key:t,column:t},!!o&&r.createElement("div",{className:kt.selectionColumnCell},r.createElement(a.Observer,null,function(){return r.createElement(ve.a,{checked:!!n.map_geneSymbol_selected.get(o.hugoGeneSymbol),onChange:function(e){return n.map_geneSymbol_selected.set(o.hugoGeneSymbol,e.target.checked)}})})))}}},n.map_geneSymbol_selected.replace(e.initialSelection.map(function(e){return[e,!0]})),n}var n,o,i;return St(t,r["Component"]),n=t,(o=[{key:"selectAll",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this.allGenes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.map_geneSymbol_selected.set(a,e)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:kt.MutSigGeneSelector},r.createElement(Tt,{itemsName:"genes",initItemsPerPage:10,columns:this.columns,rawData:this.props.data,headerControlsProps:{showCopyAndDownload:!1,showHideShowColumnButton:!1,showPagination:!0},reactTableProps:{className:"table table-striped table-border-top",hideFilterInput:!0,defaultSort:this.columns.qValue.name}}),r.createElement("div",null,r.createElement("button",{style:{marginTop:20},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.props.onSelect(e.map_geneSymbol_selected)}},"Select")))}},{key:"allGenes",get:function(){return c.uniq(this.props.data.map(function(e){return e.hugoGeneSymbol}))}},{key:"selectedGenes",get:function(){var e=this;return this.allGenes.filter(function(t){return e.map_geneSymbol_selected.get(t)})}}])&&yt(n.prototype,o),i&&yt(n,i),t}();_t([z.computed],xt.prototype,"allGenes",null),_t([z.computed],xt.prototype,"selectedGenes",null),_t([z.action],xt.prototype,"selectAll",null);var Et=xt=_t([a.observer],xt);function At(e){return e?e.genes.map(function(e){return e.hugoGeneSymbol}):[]}var Ot=new RegExp("^([0-9]{1,2})([pq])([0-9]{1,2})(?:.?)([0-9]{0,2})$");function Pt(e,t){var n=e.match(Ot),r=t.match(Ot);return n&&r?parseInt(n[1],10)-parseInt(r[1],10)!=0?parseInt(n[1],10)-parseInt(r[1],10):"p"===n[2]&&"q"===r[2]?-1:"q"===n[2]&&"p"===r[2]?1:n[2]===r[2]?parseInt(n[3],10)-parseInt(r[3],10):0:+!!n-+!!r}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t,n){return t&&It(e.prototype,t),n&&It(e,n),e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Gt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ft(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Bt=i,zt=function(e){function t(){return Dt(this,t),Lt(this,Nt(t).apply(this,arguments))}return Rt(t,mt),t}(),Vt=function(e){function t(e){var n;return Dt(this,t),(n=Lt(this,Nt(t).call(this,e))).map_geneSymbol_selected=z.observable.map(),n.columns={amp:{priority:1,columnDataFunction:function(e){var t=e.rowData;return t&&(t.amp?"Amp":"Del")},name:"Amp Del",sortable:!0,filterable:!0,header:r.createElement("div",{className:d()(Bt.header,Bt.amp,Bt.del)},r.createElement("span",{className:Bt.amp},"Amp"),r.createElement("span",{className:Bt.del},"Del")),formatter:function(e){var t=e.name,n=e.rowData,o=e.columnData;return r.createElement($e.Td,{key:t,column:t,value:o},!!n&&r.createElement("div",{className:n.amp?Bt.amp:Bt.del}))}},chromosome:{priority:2,dataField:"chromosome",name:"Chr",sortable:!0,filterable:!0},cytoband:{priority:3,dataField:"cytoband",name:"Cytoband",sortable:Pt,filterable:!0},"#":{priority:4,columnDataFunction:function(e){return At(e.rowData).length},name:"#",sortable:!0,filterable:!0},genes:{priority:5,columnDataFunction:function(e){return At(e.rowData).join(" ")},name:"Genes",sortable:function(e,t){return e.length-t.length||+(e>t)-+(e<t)},filterable:!0,formatter:function(e){var t=e.name,o=e.rowData,i=e.columnData;return r.createElement($e.Td,{key:t,column:t,value:i},r.createElement(Ut,{gistic:o,map_geneSymbol_selected:n.map_geneSymbol_selected}))}},qValue:{priority:6,dataField:"qValue",name:"Q-Value",sortable:!0,filterable:!0,formatter:function(e){var t=e.name,n=(e.rowData,e.columnData);return r.createElement($e.Td,{key:t,column:t,value:n},Object(Se.f)(n,2,.1))}}},n.map_geneSymbol_selected.replace(e.initialSelection.map(function(e){return[e,!0]})),n}return Rt(t,r["Component"]),Mt(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{className:Bt.GisticGeneSelector},r.createElement("span",null,"Click on a gene to ",r.createElement("span",{className:d()(Bt.geneToggle,Bt.selected,Bt.simulateHovered)},"select")," it."),r.createElement(zt,{className:Bt.gisticTable,itemsName:"genes",initItemsPerPage:10,columns:this.columns,rawData:this.props.data,headerControlsProps:{showCopyAndDownload:!1,showHideShowColumnButton:!1,showPagination:!0},reactTableProps:{className:"table table-striped table-border-top",hideFilterInput:!0,defaultSort:this.columns.qValue.name}}),r.createElement("div",null,r.createElement("button",{style:{marginTop:20},className:"btn btn-primary btn-sm pull-right",onClick:function(){return e.props.onSelect(e.map_geneSymbol_selected)}},"Select")))}}]),t}(),Ht=Vt=Gt([a.observer],Vt),Ut=function(e){function t(){var e;return Dt(this,t),(e=Lt(this,Nt(t).apply(this,arguments))).showAll=!1,e}return Rt(t,r["Component"]),Mt(t,[{key:"renderGeneToggles",value:function(e){var t=this;return e.map(function(e){return r.createElement(a.Observer,null,function(){var n=!!t.props.map_geneSymbol_selected.get(e);return r.createElement("span",{key:e,className:d()(Bt.geneToggle,n?Bt.selected:Bt.notSelected),onClick:function(r){return t.props.map_geneSymbol_selected.set(e,!n)}},e)})})}},{key:"render",value:function(){var e=this,t=At(this.props.gistic),n=t.slice(0,5),o=t.slice(5);return r.createElement("div",{className:Bt.GisticGeneToggles},r.createElement("div",{className:Bt.someGenes},this.renderGeneToggles(n),!!o.length&&r.createElement("a",{className:Bt.showMoreLess,onClick:function(){return e.showAll=!e.showAll}},this.showAll?"less":"+".concat(o.length," more"))),r.createElement("div",{className:Bt.moreGenes},this.showAll&&this.renderGeneToggles(o)))}}]),t}();Gt([z.observable],Ut.prototype,"showAll",void 0),Ut=Gt([a.observer],Ut);var qt=n(658),Wt=n(569);function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Zt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Xt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Jt=i,en=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,Yt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,f["d"]),n=t,(o=[{key:"render",value:function(){return this.store.genesetIdsQuery.error?r.createElement("div",{className:Jt.GeneSymbolValidator},r.createElement("span",{className:Jt.errorMessage},"Cannot validate gene sets because of invalid OQL. ".concat(this.store.genesetQueryErrorDisplayStatus===f.b.Focused?"Please click 'Submit' to see location of error.":this.store.genesetIdsQuery.error.message))):this.store.genesetIdsQuery.query.length?this.store.genesets.isError?r.createElement("div",{className:Jt.GeneSymbolValidator},r.createElement("span",{className:Jt.pendingMessage},"Unable to validate gene sets.")):this.store.genesets.isPending&&0===this.store.genesets.result.invalid.length?r.createElement("div",{className:Jt.GeneSymbolValidator},r.createElement("span",{className:Jt.pendingMessage},"Validating gene sets...")):this.store.genesets.result.invalid.length?r.createElement("div",{className:Jt.GeneSymbolValidator},r.createElement("div",{className:Jt.invalidBubble,title:"Please edit the gene sets."},r.createElement(p.a,{className:Jt.icon,name:"exclamation-circle"}),r.createElement("span",null,"Invalid gene sets.")),this.store.genesets.result.invalid.map(this.renderSuggestion,this)):r.createElement("div",{className:Jt.GeneSymbolValidator},r.createElement("div",{className:Jt.validBubble,title:"You can now submit the list."},r.createElement(p.a,{className:Jt.icon,name:"check-circle"}),r.createElement("span",null,"All gene sets are valid."))):null}},{key:"renderSuggestion",value:function(e,t){var n=this;return r.createElement("div",{key:t,className:Jt.suggestionBubble,title:"Could not find gene set. Click to remove it from the gene list.",onClick:function(){return n.store.replaceGeneset(e,"")}},r.createElement(p.a,{className:Jt.icon,name:"times-circle"}),r.createElement("span",{className:Jt.noChoiceLabel},e))}}])&&Kt(n.prototype,o),i&&Kt(n,i),t}(),tn=en=Zt([a.observer],en),nn=n(851);function rn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var un=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":cn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},pn=i,hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),an(this,sn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,f["d"]),n=t,(o=[{key:"handleOQLUpdate",value:function(e,t,n){n!==this.store.geneQuery&&(this.store.geneQuery=n,this.store.oql.error=e.error)}},{key:"render",value:function(){var e=this;return r.createElement(l.b,{overflow:!0,padded:!0,className:pn.GeneSetSelector},r.createElement(y.a,{className:"sectionLabel",secondaryComponent:r.createElement("a",{target:"_blank",className:pn.learnOql,href:Object(We.t)()},r.createElement("strong",null,"Hint:")," Learn Onco Query Language (OQL)",r.createElement("br",null),"to write more powerful queries"," ",r.createElement("i",{className:"fa fa-external-link"}))},"Enter Genes:"),r.createElement(l.a,{overflow:!0},r.createElement(te.a,{value:this.selectedGeneListOption,options:this.geneListOptions,onChange:function(t){return e.store.geneQuery=t?t.value:""}}),r.createElement(qt.b,{focus:this.store.geneQueryErrorDisplayStatus,inputGeneQuery:this.store.geneQuery,validateInputGeneQuery:!0,location:qt.a.DEFAULT,textBoxPrompt:"Enter HUGO Gene Symbols, Gene Aliases, or OQL",callback:this.handleOQLUpdate},this.customError),r.createElement(tn,null),r.createElement(B.Modal,{className:d()("cbioportal-frontend",pn.MutSigGeneSelectorWindow),show:this.store.showMutSigPopup,onHide:function(){return e.store.showMutSigPopup=!1}},r.createElement(B.Modal.Header,{closeButton:!0},r.createElement(B.Modal.Title,null,"Recently Mutated Genes")),r.createElement(B.Modal.Body,null,r.createElement(Et,{initialSelection:this.store.geneIds,data:this.store.mutSigForSingleStudy.result,onSelect:function(t){e.store.applyGeneSelection(t),e.store.showMutSigPopup=!1}}))),r.createElement(B.Modal,{className:d()("cbioportal-frontend",pn.GisticGeneSelectorWindow),show:this.store.showGisticPopup,onHide:function(){return e.store.showGisticPopup=!1}},r.createElement(B.Modal.Header,{closeButton:!0},r.createElement(B.Modal.Title,null,"Recurrent Copy Number Alterations (Gistic)")),r.createElement(B.Modal.Body,null,r.createElement(Ht,{initialSelection:this.store.geneIds,data:this.store.gisticForSingleStudy.result,onSelect:function(t){e.store.applyGeneSelection(t),e.store.showGisticPopup=!1}})))))}},{key:"selectedGeneListOption",get:function(){var e=this,t=this.geneListOptions.find(function(t){return t.value==e.store.geneQuery});return t?t.value:""}},{key:"geneListOptions",get:function(){var e=V;if(g.b.serverConfig.query_sets_of_genes){var t=g.a.parseQuerySetsOfGenes(g.b.serverConfig.query_sets_of_genes);t&&(e=t)}return[{label:"User-defined List",value:""}].concat(rn(e.map(function(e){return{label:"".concat(e.id," (").concat(e.genes.length," genes)"),value:e.genes.join(" ")}})))}},{key:"customError",get:function(){return this.store.isQueryLimitReached?r.createElement("div",{className:pn.geneCount},r.createElement("div",{className:"",title:"Please limit your queries to ".concat(this.store.geneLimit," genes or fewer.")},r.createElement(p.a,{className:pn.icon,name:"exclamation-circle"}),r.createElement(nn.a,{sampleCount:this.store.approxSampleCount,queryProductLimit:g.b.serverConfig.query_product_limit,email:g.b.serverConfig.skin_email_contact}))):null}}])&&on(n.prototype,o),i&&on(n,i),t}();un([z.computed],hn.prototype,"selectedGeneListOption",null),un([z.computed],hn.prototype,"geneListOptions",null),un([Wt.bind,z.action],hn.prototype,"handleOQLUpdate",null),un([z.computed],hn.prototype,"customError",null);var dn,fn=hn=un([a.observer],hn),mn=n(674);!function(e){e.custom="-1",e.mutation_cna="w_mut_cna",e.mutation="w_mut",e.cna="w_cna",e.all="all"}(dn||(dn={}));var yn=[{name:"All",description:"All cases in the selected cohorts",value:dn.all,isdefault:!1},{name:"Cases with mutations data",description:"All cases with mutations data",value:dn.mutation,isdefault:!1},{name:"Cases with copy number alterations data",description:"All cases with copy number alterations data",value:dn.cna,isdefault:!1},{name:"Cases with both mutations and copy number alterations data",description:"All cases with both mutations and copy number alterations data",value:dn.mutation_cna,isdefault:!1},{name:"User-defined Case List",description:"Specify your own case list",value:dn.custom,isdefault:!0}];function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Cn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":wn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_n=i;function kn(e,t){return c.includes(e.textLabel.toLowerCase(),t.toLowerCase())}var Tn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vn(this,bn(t).apply(this,arguments))).isQueryModified=!1,e.CaseIdsModeRadio=Object(a.observer)(function(t){return r.createElement("label",null,r.createElement("input",{type:"radio",checked:e.store.caseIdsMode==t.state,onChange:function(n){n.currentTarget.checked&&(e.store.caseIdsMode=t.state)}}),t.label)}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,f["d"]),n=t,(o=[{key:"render",value:function(){var e=this;return!this.isQueryModified&&this.props.modifyQueryParams&&this.modifyQuery(),this.store.selectableSelectedStudyIds.length?r.createElement(l.b,{padded:!0,overflow:!0,className:_n.CaseSetSelector,"data-test":"CaseSetSelector"},r.createElement("div",null,r.createElement(y.a,{className:"sectionLabel",secondaryComponent:r.createElement("a",{href:Object(We.z)(this.store.selectableSelectedStudyIds),target:"_blank"},"To build your own case set,",r.createElement("br",null),"try out our enhanced Study View."),promises:[this.store.sampleLists,this.store.asyncCustomCaseSet,this.store.profiledSamplesCount]},"Select Patient/Case Set:")),r.createElement("div",null,r.createElement(te.a,{value:this.store.selectedSampleListId,options:this.caseSetOptions,filterOption:kn,onChange:function(t){return e.store.selectedSampleListId=t?t.value:void 0},"data-test":"caseSetSelector"}),!(this.store.selectedSampleListId!==f.a)&&r.createElement(l.a,{padded:!0},r.createElement("div",{className:_n.radioRow},r.createElement(l.b,{padded:!0},r.createElement(this.CaseIdsModeRadio,{label:"By sample ID",state:"sample"}),r.createElement(this.CaseIdsModeRadio,{label:"By patient ID",state:"patient"}))),r.createElement("span",null,"Enter case IDs below:"),r.createElement("textarea",{title:"Enter case IDs",rows:6,cols:80,value:this.store.caseIds,onChange:function(t){return e.store.caseIds=t.currentTarget.value},"data-test":"CustomCaseSetInput"})))):null}},{key:"modifyQuery",value:function(){this.store.selectedSampleListId=this.props.modifyQueryParams.selectedSampleListId,this.store.caseIds=this.props.modifyQueryParams.selectedSampleIds.join("\n"),this.store.caseIdsMode=this.props.modifyQueryParams.caseIdsMode,this.isQueryModified=!0}},{key:"caseSetOptions",get:function(){var e,t,n,o=this.store.sampleLists.result.map(function(e){return{label:r.createElement(m.c,{placement:"right",mouseEnterDelay:0,overlay:r.createElement("div",{className:_n.tooltip},e.description)},r.createElement("span",null,"".concat(e.name," (").concat(e.sampleCount,")"))),value:e.sampleListId,textLabel:e.name}}),i=(e=this.store.isVirtualStudySelected,t=this.store.isMultipleNonVirtualStudiesSelected,n=this.store.profiledSamplesCount.result,c.reduce(yn,function(r,o){if(o.isdefault)r.push(o);else if(t&&!e){var i=n[o.value];i>0&&r.push(Object.assign({},o,{name:"".concat(o.name," (").concat(i,")")}))}else if(e&&o.value===dn.all){var a=n[o.value];a>0&&r.push(Object.assign({},o,{name:"".concat(o.name," (").concat(a,")")}))}return r},[])).map(function(e){return{value:e.value,label:r.createElement(m.c,{placement:"right",mouseEnterDelay:0,overlay:r.createElement("div",{className:_n.tooltip},e.description)},r.createElement("span",null,e.name)),textLabel:e.name}});return o.concat(i)}}])&&gn(n.prototype,o),i&&gn(n,i),t}();Cn([z.computed],Tn.prototype,"caseSetOptions",null),Cn([z.action],Tn.prototype,"modifyQuery",null);var xn=Tn=Cn([a.observer],Tn);function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Mn=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":In(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Dn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),An(this,On(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return this.props.ids.length>0?r.createElement("div",{className:"alert alert-danger","data-test":"unkown-study-warning",style:{marginBottom:0}},r.createElement("i",{className:"fa fa-exclamation-triangle"})," The following studies do not exist or you do not have access to them:",r.createElement("ul",{style:{margin:"10px 0"}},this.props.ids.map(function(e){return r.createElement("li",null,e)})),"Please resubmit your query below."):null}}])&&En(n.prototype,o),i&&En(n,i),t}(),Ln=Dn=Mn([a.observer],Dn),Nn=n(25),Rn=n(959),jn=n(814),Fn=n(59);function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Un=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Hn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},qn=i,Wn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Bn(t).call(this,e))||"object"!==Hn(o)&&"function"!=typeof o?zn(r):o)._showQueryControls=!1,n.handleSubmit=n.handleSubmit.bind(zn(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleSubmit",value:function(){this.store.submit(),this.props.onSubmit&&this.props.onSubmit()}},{key:"toggleQueryControls",value:function(){U()(document).scrollTop(0),this._showQueryControls=!this._showQueryControls}},{key:"render",value:function(){var e=this;return r.createElement(l.a,{padded:!0,overflow:!0,className:d()("small",qn.QueryContainer,{forkedMode:this.props.forkedMode})},this.props.showAlerts&&this.store.genes.isComplete&&this.store.genes.result.suggestions.length>0&&r.createElement("div",{className:"alert alert-danger","data-test":"invalidQueryAlert",style:{marginBottom:0}},r.createElement("i",{className:"fa fa-exclamation-triangle"})," Your query has invalid or out-dated gene symbols. Please correct below."),this.store.unknownStudyIds.isComplete&&r.createElement(Ln,{ids:this.store.unknownStudyIds.result}),this.store.forDownloadTab&&r.createElement("div",{className:"alert alert-danger",role:"alert"},"The Download interface has been removed. Enhanced download functionality is now available through the Query interface. Run a query with your gene(s) of interest and use the Download tab to download all available data types."),!this.store.forDownloadTab&&r.createElement(Ze.If,{condition:0===this.store.defaultSelectedIds.size||this.studiesDataReady},r.createElement(Ze.Then,null,r.createElement(Ze.If,{condition:this.props.forkedMode&&this.showQueryControls},r.createElement(l.b,{className:qn.StudySelection},r.createElement(y.a,{className:"sectionLabel"},"Selected Studies:"," ",r.createElement("button",{"data-test":"modifyStudySelectionButton",className:"btn btn-default btn-xs",onClick:this.toggleQueryControls},"Modify")),r.createElement("div",{style:{marginLeft:8}},this.selectedStudySummary))),this.getWrappedCancerStudySelector,r.createElement(Ze.If,{condition:this.showQueryControls},r.createElement(r.Fragment,null,this.store.physicalStudyIdsInSelection.length>1?r.createElement(F,null):r.createElement(A,null),this.store.selectableSelectedStudyIds.length>0&&r.createElement(xn,{modifyQueryParams:this.props.modifyQueryParams}),r.createElement(fn,null),!!this.store.isGenesetProfileSelected&&r.createElement(qe,null),!!this.store.forDownloadTab&&r.createElement("span",{className:qn.downloadSubmitExplanation},"Clicking submit will generate a tab-delimited file containing your requested data."),!!this.store.forDownloadTab&&r.createElement(ve.a,{labelProps:{className:qn.transposeDataMatrix},checked:this.store.transposeDataMatrix,onChange:function(t){return e.store.transposeDataMatrix=t.currentTarget.checked}},"Transpose data matrix"),r.createElement(l.b,{overflow:!0,padded:!0,className:d()(qn.submitRow,"posRelative")},r.createElement("button",{style:{paddingLeft:50,paddingRight:50,marginRight:50},disabled:!this.store.submitEnabled,className:"btn btn-primary btn-lg",onClick:function(){return e.handleSubmit()},"data-test":"queryButton"},this.store.forDownloadTab?"Download":"Submit Query"),r.createElement(l.a,null,!!this.store.submitError&&r.createElement("span",{className:qn.errorMessage,"data-test":"oqlErrorMessage"},this.store.submitError),this.store.oqlMessages.map(function(e){return r.createElement("span",{className:qn.oqlMessage},r.createElement("i",{className:"fa fa-info-circle",style:{marginRight:5}}),e)}))))),r.createElement(Ze.If,{condition:!this.showQueryControls},r.createElement(l.b,{className:qn.forkedButtons},r.createElement("div",{style:{width:330,textAlign:"right",marginRight:20}},r.createElement(jn.a,{store:this.store})),r.createElement(m.c,{placement:"top",trigger:["hover"],destroyTooltipOnHide:!0,mouseEnterDelay:0,mouseLeaveDelay:0,disabled:this.store.selectableSelectedStudies.length>0,overlay:this.queryByGeneTooltipMessage},r.createElement("a",{"data-test":"queryByGeneButton",onClick:function(){return e.store.hasSelectedStudies&&e.toggleQueryControls()},"data-event":Object(Fn.e)({action:"clickQueryByGeneButton",label:"",category:"homePage"}),className:d()("btn btn-primary btn-lg",{disabled:!this.store.hasSelectedStudies})},"Query By Gene")),"OR",r.createElement(m.c,{placement:"top",trigger:["hover"],destroyTooltipOnHide:!0,mouseEnterDelay:0,mouseLeaveDelay:0,disabled:!this.exploreCohortsButtonDisabled,overlay:this.exploreCohortsButtonTooltipMessage},r.createElement("a",{onClick:function(){return!e.exploreCohortsButtonDisabled&&e.store.openSummary()},"data-event":Object(Fn.e)({action:"clickExploreStudiesButton",label:"",category:"homePage"}),className:d()("btn btn-primary btn-lg",{disabled:this.exploreCohortsButtonDisabled})},r.createElement("i",{style:{marginTop:5},className:"ci ci-pie-chart"})," ","Explore Selected Studies"))))),r.createElement(Ze.Else,null,r.createElement(O.a,{isLoading:!0,center:!0,size:"big"}))))}},{key:"store",get:function(){return this.props.store}},{key:"studiesDataReady",get:function(){return this.store.studiesHaveChangedSinceInitialization||this.store.selectableStudiesSet.isComplete&&this.store.initiallySelected.profileIds&&this.store.cancerTypes.isComplete&&this.store.cancerStudies.isComplete&&this.store.profiledSamplesCount.isComplete}},{key:"showQueryControls",get:function(){return!1===this.props.forkedMode||this._showQueryControls}},{key:"selectedStudySummary",get:function(){var e=this,t=null;if(this.store.selectableSelectedStudies.length>4){t=r.createElement("span",{className:"inlineBlock"},r.createElement(m.c,{overlay:function(){return e.store.selectableSelectedStudies.slice(4).map(function(e){return r.createElement("div",null,e.name)})}},r.createElement("a",null,"and"," ",this.store.selectableSelectedStudies.length-4," ","more")))}return r.createElement("span",{className:"inlineBlock"},this.store.selectableSelectedStudies.slice(0,4).reduce(function(e,t,n,o){return e.push(r.createElement("span",{className:qn.studyName},t.name)),e},[]),t,t&&r.createElement("span",null,""),"(",r.createElement("b",null,this.store.profiledSamplesCount.result.all)," ",1===this.store.profiledSamplesCount.result.all?"sample":"total samples",")")}},{key:"getWrappedCancerStudySelector",get:function(){var e=r.createElement(s.a,{queryStore:this.store,forkedMode:this.props.forkedMode});return this.props.forkedMode?r.createElement("div",{style:{marginTop:0}},r.createElement(Rn.Fade,{duration:500,collapse:!1,className:"monkeys",unmountOnExit:!0,when:!this.showQueryControls},e)):e}},{key:"studyLimitedReached",get:function(){return this.store.selectableSelectedStudyIds.length>50}},{key:"exploreCohortsButtonDisabled",get:function(){return this.studyLimitedReached||!this.store.hasSelectedStudies}},{key:"exploreCohortsButtonTooltipMessage",get:function(){return 0===this.store.selectableSelectedStudyIds.length?"Please select at least one study above":this.studyLimitedReached?"Too many studies selected for study summary (limit: 50)":"Open summary of selected studies"}},{key:"queryByGeneTooltipMessage",get:function(){return 0===this.store.selectableSelectedStudies.length?"Please select at least one study above":"Continue to query configuration"}}])&&Gn(n.prototype,o),i&&Gn(n,i),t}();Un([z.computed],Wn.prototype,"studiesDataReady",null),Un([z.observable],Wn.prototype,"_showQueryControls",void 0),Un([z.computed],Wn.prototype,"showQueryControls",null),Un([z.computed],Wn.prototype,"selectedStudySummary",null),Un([z.computed],Wn.prototype,"getWrappedCancerStudySelector",null),Un([Nn.a],Wn.prototype,"toggleQueryControls",null),Un([z.computed],Wn.prototype,"studyLimitedReached",null),Un([z.computed],Wn.prototype,"exploreCohortsButtonDisabled",null),Un([z.computed],Wn.prototype,"exploreCohortsButtonTooltipMessage",null),Un([z.computed],Wn.prototype,"queryByGeneTooltipMessage",null);var Kn,$n=Wn=Un([Object(mn.b)(f.c),a.observer],Wn),Yn=n(582),Qn=n(166),Xn=n(161);!function(e){e.STUDY="STUDY",e.STUDY_COUNT="studies",e.GENE="GENE",e.GENE_COUNT="genes",e.PATIENT="PATIENT",e.PATIENT_COUNT="patients",e.SAMPLE="SAMPLE",e.SAMPLE_COUNT="samples"}(Kn||(Kn={}));n(969);var Zn=n(599),Jn=n(970),er=n(821),tr=n.n(er),nr=n(117),rr=n(80);function or(){return(or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ur,pr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":cr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},hr=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},dr=20,fr=3;!function(e){e[e.SESSION=0]="SESSION",e[e.STUDY_LIST=1]="STUDY_LIST"}(ur||(ur={}));var mr=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=ar(t).apply(this,arguments),(e=!r||"object"!==cr(r)&&"function"!=typeof r?sr(n):r).studyPageMultiplier=0,e.genePageMultiplier=0,e.patientPageMultiplier=0,e.samplePageMultiplier=0,e.inputValue="",e.isFocusing=!1,e.isLoading=!1,e.geneStudyQueryVirtualStudy=Object(m.W)(function(){return hr(sr(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.b.serverConfig.default_cross_cancer_study_session_id,!g.a.sessionServiceIsEnabled()||!t){e.next=14;break}return e.prev=2,e.next=5,nr.a.getVirtualStudy(t);case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:e.next=15;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}},e,null,[[2,9]])}))},null),e.geneStudyQuery=Object(m.W)({await:function(){return[e.geneStudyQueryVirtualStudy]},invoke:function(){return e.geneStudyQueryVirtualStudy.result?Promise.resolve({type:ur.SESSION,query:e.geneStudyQueryVirtualStudy.result.id,name:e.geneStudyQueryVirtualStudy.result.data.name}):Promise.resolve({type:ur.STUDY_LIST,query:g.b.serverConfig.default_cross_cancer_study_list,name:g.b.serverConfig.default_cross_cancer_study_list_name})}}),e.options=Object(m.W)({await:function(){return[e.geneStudyQuery]},invoke:function(){var t=e.inputValue,n=e.geneStudyQuery.result;return t.length>0?Promise.all([Xn.a.getAllStudiesUsingGETWithHttpInfo({keyword:t,pageSize:fr+dr*e.studyPageMultiplier}),Xn.a.getAllStudiesUsingGETWithHttpInfo({keyword:t,projection:"META"}),Xn.a.getAllGenesUsingGETWithHttpInfo({keyword:t,pageSize:fr+dr*e.genePageMultiplier}),Xn.a.getAllGenesUsingGETWithHttpInfo({keyword:t,projection:"META"}),Xn.a.getAllPatientsUsingGETWithHttpInfo({keyword:t,pageSize:fr+dr*e.patientPageMultiplier,projection:"DETAILED"}),Xn.a.getAllPatientsUsingGETWithHttpInfo({keyword:t,projection:"META"}),Xn.a.getSamplesByKeywordUsingGETWithHttpInfo({keyword:t,pageSize:fr+dr*e.samplePageMultiplier}),Xn.a.getSamplesByKeywordUsingGETWithHttpInfo({keyword:t,projection:"META"}),Object(Zn.a)(0)]).then(function(r){return hr(sr(e),void 0,void 0,regeneratorRuntime.mark(function e(){var o,i,a,s,l,c,u,p,h,d,f,m=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r[0].body.map(this.studyToOption),i={value:parseInt(r[1].headers["total-count"])-o.length,type:Kn.STUDY_COUNT},a=r[2].body.map(this.geneToOption),s={value:parseInt(r[3].headers["total-count"])-a.length,type:Kn.GENE_COUNT},l=r[4].body.map(this.patientToOption),c={value:parseInt(r[5].headers["total-count"])-l.length,type:Kn.PATIENT_COUNT},u=r[6].body.map(this.sampleToOption),p={value:parseInt(r[7].headers["total-count"])-u.length,type:Kn.SAMPLE_COUNT},!(a.length+l.length<2*fr&&i.value>0)){e.next=13;break}return h=2*fr-(a.length+l.length),e.next=12,Xn.a.getAllStudiesUsingGETWithHttpInfo({keyword:t,pageSize:h+fr+dr*this.studyPageMultiplier}).then(function(e){o=e.body.map(m.studyToOption)});case 12:i.value=i.value-h;case 13:return d=[],(f=[]).push({label:"Studies",options:o,groupData:i,instruction:"Click on a study to open its summary"}),i.value>0&&(o.push(i),d.push(i)),n&&(f.push({label:"Genes",options:a,groupData:s,instruction:"Click on a gene to query it across ".concat(n.name)}),s.value>0&&(a.push(s),d.push(s))),f.push({label:"Patients",options:l,groupData:c,instruction:"Click on a patient to see a summary"}),c.value>0&&(l.push(c),d.push(c)),f.push({label:"Samples",options:u,groupData:p,instruction:"Click on a sample to open its summary"}),p.value>0&&(u.push(p),d.push(p)),e.abrupt("return",f);case 23:case"end":return e.stop()}},e,this)}))}):Promise.resolve([])}}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(t,r["Component"]),n=t,(o=[{key:"selectRef",value:function(e){this.select=e}},{key:"studyToOption",value:function(e,t){return{value:e.studyId,type:Kn.STUDY,studyId:e.studyId,name:e.name,allSampleCount:e.allSampleCount,index:t}}},{key:"geneToOption",value:function(e,t){return{value:e.entrezGeneId,type:Kn.GENE,hugoGeneSymbol:e.hugoGeneSymbol,cytoband:e.cytoband,index:t}}},{key:"patientToOption",value:function(e,t){return{value:e.uniquePatientKey,type:Kn.PATIENT,studyId:e.studyId,patientId:e.patientId,studyName:e.cancerStudy.name,index:t}}},{key:"sampleToOption",value:function(e,t){return{value:e.sampleId,type:Kn.SAMPLE,studyId:e.studyId,patientId:e.patientId,sampleType:e.sampleType,index:t}}},{key:"handleChange",value:function(e){var t,n;if(e.type===Kn.STUDY)t={id:e.studyId},n=rr.a.Study,this.trackClick(rr.a.Study,this.inputValue);else if(e.type===Kn.GENE){var r=this.geneStudyQuery.isComplete&&this.geneStudyQuery.result.query;t={case_set_id:"all",gene_list:e.hugoGeneSymbol,cancer_study_list:r},n="results/cancerTypesSummary",this.trackClick("gene",this.inputValue)}else e.type===Kn.PATIENT?(t={studyId:e.studyId,caseId:e.patientId},n=rr.a.Patient,this.trackClick(rr.a.Patient,this.inputValue)):e.type===Kn.SAMPLE?(t={studyId:e.studyId,sampleId:e.value},n=rr.a.Patient,this.trackClick("sample",this.inputValue)):e.type===Kn.STUDY_COUNT?this.studyPageMultiplier++:e.type===Kn.GENE_COUNT?this.genePageMultiplier++:e.type===Kn.PATIENT_COUNT?this.patientPageMultiplier++:e.type===Kn.SAMPLE_COUNT&&this.samplePageMultiplier++;n&&Object(m.E)().routingStore.updateRoute(t,n)}},{key:"trackClick",value:function(e,t){Object(Fn.f)({category:"quickSearch",action:e,label:t})}},{key:"handleInputChange",value:function(e,t){var n=t.action;"set-value"!==n&&(e!=this.inputValue&&(this.studyPageMultiplier=0,this.genePageMultiplier=0,this.patientPageMultiplier=0,this.samplePageMultiplier=0),"input-change"===n&&(this.inputValue=e)),"input-blur"===n&&(this.isFocusing=!1)}},{key:"onFocus",value:function(){this.isFocusing=!0}},{key:"renderInput",value:function(e){return delete e.value,console.log(e),r.createElement("div",{className:"Select-input"},r.createElement("input",or({placeholder:"e.g. Lung, EGFR, TCGA-OR-A5J2"},e)))}},{key:"render",value:function(){return r.createElement("div",{onFocusCapture:this.onFocus},r.createElement(Qn.default,{options:this.options.result||[],autoFocus:!0,onInputChange:this.handleInputChange,onChange:this.handleChange,components:{Group:gr,GroupHeading:vr},formatOptionLabel:br,controlShouldRenderValue:!1,filterOption:!1,inputValue:this.inputValue,isLoading:this.options.isPending,placeholder:"e.g. Lung, EGFR, TCGA-OR-A5J2",noOptionsMessage:function(){return"No results"},blurInputOnSelect:!1,closeMenuOnSelect:!1,onSelectResetsInput:!1,menuIsOpen:this.menuIsOpen,maxMenuHeight:550,styles:{dropdownIndicator:function(){return{display:"none"}},control:function(e){return Object.assign({},e,{cursor:"text"})},option:function(e,t){return t.isSelected?Object.assign({},e,{backgroundColor:"inherit",color:"inherit",":hover":{backgroundColor:"#DEEBFF"}}):Object.assign({},e)}}}),r.createElement("p",{style:{fontSize:"x-small",textAlign:"center",paddingTop:15}},"We would love to hear what you think:",r.createElement("a",{href:"mailto:cbioportal@googlegroups.com"},"cbioportal@googlegroups.com")))}},{key:"menuIsOpen",get:function(){return this.isFocusing&&this.inputValue.length>0}}])&&ir(n.prototype,o),i&&ir(n,i),t}();pr([z.observable],mr.prototype,"studyPageMultiplier",void 0),pr([z.observable],mr.prototype,"genePageMultiplier",void 0),pr([z.observable],mr.prototype,"patientPageMultiplier",void 0),pr([z.observable],mr.prototype,"samplePageMultiplier",void 0),pr([z.observable],mr.prototype,"inputValue",void 0),pr([z.observable],mr.prototype,"isFocusing",void 0),pr([z.observable],mr.prototype,"isLoading",void 0),pr([z.computed],mr.prototype,"menuIsOpen",null),pr([Nn.a],mr.prototype,"selectRef",null),pr([Nn.a,z.action],mr.prototype,"handleChange",null),pr([Nn.a,z.action],mr.prototype,"handleInputChange",null),pr([Nn.a,z.action],mr.prototype,"onFocus",null),pr([Nn.a],mr.prototype,"renderInput",null);var yr=mr=pr([a.observer],mr),gr=function(e){var t=e.data.groupData;t.value,tr()(t.type,t.value),t.value<dr&&t.value;return r.createElement("div",{className:Jn.optionGroup},r.createElement("div",{className:Jn.groupHeader},e.data.instruction),r.createElement(Qn.components.Group,e))},vr=function(e){return null};function br(e){var t,n,o;return e.type===Kn.STUDY?(t=e.name,n="primary",o=e.allSampleCount+" samples","Select a study to open its summary"):e.type===Kn.GENE?(t=e.hugoGeneSymbol,n="success",o=e.cytoband||"-","Select a gene to query it across all TCGA PanCancer Atlas studies"):e.type===Kn.PATIENT?(t=e.patientId,n="danger",o=e.studyName,"Select a patient to see a summary"):e.type===Kn.SAMPLE?(t=e.value,n="warning",o=e.sampleType,"Select a sample to open its summary"):t=e.value+" more "+tr()(e.type,e.value)+" (click to load "+(e.value<dr?e.value:dr)+" more)",r.createElement("div",{className:Jn.optionWrapper},n&&r.createElement("div",{className:Jn.optionLabelWrapper},r.createElement(B.Label,{bsStyle:n},e.type)),r.createElement("div",null,r.createElement("div",null,r.createElement("strong",null,t)),o&&r.createElement("small",null,o)))}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Tr=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":kr(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},xr=i,Er="quickSearch",Ar="defaultHomePageTab",Or=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=wr(this,Cr(t).call(this,e)),e.showQuickSearchTab&&Object(m.E)().localStorage.getItem(Ar)===Er&&(n.activeTabId=Object(m.E)().localStorage.getItem(Ar)),n.store=e.getQueryStore(),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(t,r["Component"]),n=t,(o=[{key:"setDefaultTab",value:function(e){this.props.showQuickSearchTab&&(Object(m.E)().localStorage.defaultHomePageTab=e===Er?Er:void 0)}},{key:"trackQuickSearch",value:function(){Object(Fn.f)({category:"quickSearch",action:"quickSearchLoad"})}},{key:"onSelectTab",value:function(e){this.store.forDownloadTab="download"===e,this.store.selectableSelectedStudyIds=[],this.activeTabId=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:xr.QueryAndDownloadTabs},r.createElement(Ze.If,{condition:g.b.serverConfig.skin_citation_rule_text},r.createElement("div",{className:"citationRule",dangerouslySetInnerHTML:{__html:g.b.serverConfig.skin_citation_rule_text}})),r.createElement(Yn.b,{activeTabId:this.activeTabId,onTabClick:this.onSelectTab,className:"mainTabs"},r.createElement(Yn.a,{id:"advanced",linkText:"Query",onTabDidMount:function(){return e.setDefaultTab(void 0)}},r.createElement($n,{forkedMode:this.props.forkedMode,onSubmit:this.props.onSubmit,store:this.store,modifyQueryParams:this.props.modifyQueryParams,showAlerts:this.props.showAlerts})),r.createElement(Yn.a,{id:Er,linkText:r.createElement("span",null,"Quick Search"," ",r.createElement("strong",{className:"beta-text"},"Beta!")),hide:!this.props.showQuickSearchTab,onTabDidMount:function(){e.setDefaultTab(Er),e.trackQuickSearch()}},r.createElement("div",null,r.createElement(yr,null))),r.createElement(Yn.a,{id:"download",linkText:"Download",hide:!this.props.showDownloadTab,onTabDidMount:function(){return e.setDefaultTab(void 0)}},r.createElement($n,{forkedMode:!1,onSubmit:this.props.onSubmit,store:this.store,showAlerts:this.props.showAlerts}))))}},{key:"quickSearchDefaulted",get:function(){return Object(m.E)().localStorage.getItem(Ar)===Er}}])&&Sr(n.prototype,o),i&&Sr(n,i),t}();Or.defaultProps={forkedMode:!0},Tr([z.observable.ref],Or.prototype,"store",void 0),Tr([z.observable],Or.prototype,"activeTabId",void 0),Tr([Nn.a],Or.prototype,"setDefaultTab",null),Tr([Nn.a,z.action],Or.prototype,"onSelectTab",null),Or=Tr([a.observer],Or);t.a=Or},function(e,t,n){"use strict";var r=n(7),o=n.n(r),i=n(0),a=n(11),s=n(569),l=n.n(s),c=n(5),u=n(561),p=n(565),h=n(646),d=n.n(h),f=n(753),m=n(618),y=n(576),g=n(559),v=n(971),b=n.n(v);var S=n(587);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},E={fontFamily:u.c.fontFamily,fontSize:u.c.fontSize},A=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=C(this,_(t).apply(this,arguments))).tooltipModel=null,e.pointHovered=!1,e.mouseEvents=e.makeMouseEvents(),e}var n,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,i["Component"]),n=t,(r=[{key:"containerRef",value:function(e){this.container=e}},{key:"makeMouseEvents",value:function(){var e=this,t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}},{key:"x",value:function(e){return this.props.logX?this.props.logX.fLogScale(e.x,0):e.x}},{key:"y",value:function(e){return this.props.logY?this.props.logY.fLogScale(e.y,0):e.y}},{key:"tickFormat",value:function(e,t,n){return n&&!this.props.useLogSpaceTicks&&(e=n.fInvLogScale(e),t=t.map(function(e){return n.fInvLogScale(e)})),Object(m.a)(e,t)}},{key:"tickFormatX",value:function(e,t,n){return this.tickFormat(e,n,this.props.logX)}},{key:"tickFormatY",value:function(e,t,n){return this.tickFormat(e,n,this.props.logY)}},{key:"getChart",value:function(){var e=this;return i.createElement("div",{ref:this.containerRef,style:{width:this.svgWidth,height:this.svgHeight}},i.createElement("svg",{id:this.props.svgId||"",style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight)},i.createElement("g",{transform:"translate(".concat(25,",0)")},i.createElement(p.VictoryChart,{theme:u.d,width:this.props.chartWidth,height:this.props.chartHeight,standalone:!1,domainPadding:50,singleQuadrantDomainPadding:!1},this.title,this.legend,i.createElement(p.VictoryAxis,{domain:this.plotDomain.x,orientation:"bottom",offsetY:50,crossAxis:!1,tickCount:8,tickFormat:this.tickFormatX,axisLabelComponent:i.createElement(p.VictoryLabel,{dy:25}),label:this.props.axisLabelX}),i.createElement(p.VictoryAxis,{domain:this.plotDomain.y,offsetX:50,orientation:"left",crossAxis:!1,tickCount:8,tickFormat:this.tickFormatY,dependentAxis:!0,axisLabelComponent:i.createElement(p.VictoryLabel,{dy:-35}),label:this.props.axisLabelY}),this.data.map(function(t){return i.createElement(p.VictoryScatter,{key:"".concat(t.fill,",").concat(t.stroke,",").concat(t.strokeWidth,",").concat(t.strokeOpacity,",").concat(t.fillOpacity,",").concat(t.symbol),style:{data:{fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth,strokeOpacity:t.strokeOpacity,fillOpacity:t.fillOpacity}},size:e.size,symbol:t.symbol,data:t.data,events:e.mouseEvents,x:e.x,y:e.y})}),this.regressionLine),this.correlationInfo,this.regressionLineEquation)))}},{key:"render",value:function(){return this.props.data.length?i.createElement("div",null,i.createElement(a.Observer,null,this.getChart),this.container&&this.tooltipModel&&this.props.tooltip&&i.createElement(f.a,{container:this.container,targetHovered:this.pointHovered,targetCoords:{x:this.tooltipModel.x+25,y:this.tooltipModel.y},overlay:this.props.tooltip(this.tooltipModel.datum)})):i.createElement("div",{className:"alert alert-info"},"No data to plot.")}},{key:"fontFamily",get:function(){return this.props.fontFamily||"Verdana,Arial,sans-serif"}},{key:"title",get:function(){return this.props.title?i.createElement(p.VictoryLabel,{style:{fontWeight:"bold",fontFamily:this.fontFamily,textAnchor:"middle"},x:this.svgWidth/2,y:"1.2em",text:this.props.title}):null}},{key:"legendX",get:function(){return this.props.chartWidth-20}},{key:"legendY",get:function(){return this.props.showRegressionLine?235:190}},{key:"legend",get:function(){var e=this.legendX;return this.props.legendData&&this.props.legendData.length?i.createElement(p.VictoryLegend,{orientation:"vertical",data:this.props.legendData,x:e,y:this.legendY,width:120}):null}},{key:"correlationInfo",get:function(){var e=this.legendX;return i.createElement("g",null,i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",text:"Spearman: ".concat(this.spearmanCorr.toFixed(2)),style:E}),null!==this.spearmanPval&&i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",dy:"2",text:"(p = ".concat(Object(g.a)(this.spearmanPval,3,.01),")"),style:E}),i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",dy:"5",text:"Pearson: ".concat(this.pearsonCorr.toFixed(2)),style:E}),null!==this.pearsonPval&&i.createElement(p.VictoryLabel,{x:e+107,y:100,textAnchor:"end",dy:"7",text:"(p = ".concat(Object(g.a)(this.pearsonPval,3,.01),")"),style:E}))}},{key:"regressionLineEquation",get:function(){if(!this.props.showRegressionLine)return null;var e=this.regressionLineComputations.string,t="R = ".concat(this.regressionLineComputations.r2);return i.createElement("g",null,i.createElement("line",{stroke:"#c43a31",strokeWidth:2,x1:this.legendX+10,y1:195,x2:this.legendX+10+10,y2:195,dy:"0"}),i.createElement(p.VictoryLabel,{x:this.legendX+10+10+7,y:195,dy:"0",textAnchor:"start",text:e,style:E}),i.createElement(p.VictoryLabel,{x:this.legendX+10+10+7,y:195,dy:"2",textAnchor:"start",text:t,style:E}))}},{key:"splitData",get:function(){var e=this.props.excludeLimitValuesFromCorrelation?o.a.filter(this.props.data,function(e){return!Object(y.b)(e)}):this.props.data,t=[],n=[],r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;t.push(c.x),n.push(c.y)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return{x:t,y:n}}},{key:"plotDomain",get:function(){var e={x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY},t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},n=!0,r=!1,o=void 0;try{for(var i,a=this.props.data[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;e.x=Math.max(s.x,e.x),e.y=Math.max(s.y,e.y),t.x=Math.min(s.x,t.x),t.y=Math.min(s.y,t.y)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this.props.logX&&(t.x=this.props.logX.fLogScale(t.x,0),e.x=this.props.logX.fLogScale(e.x,0)),this.props.logY&&(t.y=this.props.logY.fLogScale(t.y,0),e.y=this.props.logY.fLogScale(e.y,0)),{x:[t.x,e.x],y:[t.y,e.y]}}},{key:"pearsonCorr",get:function(){var e=this;if(this.props.correlation)return this.props.correlation.pearson;var t=this.splitData.x,n=this.splitData.y;return this.props.logX&&(t=t.map(function(t){return e.props.logX.fLogScale(t,0)})),this.props.logY&&(n=n.map(function(t){return e.props.logY.fLogScale(t,0)})),d.a.corrcoeff(t,n)}},{key:"spearmanCorr",get:function(){return this.props.correlation?this.props.correlation.spearman:d.a.spearmancoeff(this.splitData.x,this.splitData.y)}},{key:"spearmanPval",get:function(){return Object(y.a)(this.spearmanCorr,this.splitData.x.length)}},{key:"pearsonPval",get:function(){return Object(y.a)(this.pearsonCorr,this.splitData.x.length)}},{key:"rightPadding",get:function(){return 120}},{key:"svgWidth",get:function(){return 25+this.props.chartWidth+this.rightPadding}},{key:"svgHeight",get:function(){return this.props.chartHeight}},{key:"size",get:function(){var e=this.props.highlight,t=this.props.size;return Object(y.f)(e,t)}},{key:"data",get:function(){return Object(y.i)(this.props.data,Object(S.a)(this.props.fill,"0x000000"),Object(S.a)(this.props.stroke,"0x000000"),Object(S.a)(this.props.strokeWidth,0),Object(S.a)(this.props.strokeOpacity,1),Object(S.a)(this.props.fillOpacity,1),Object(S.a)(this.props.symbol,"circle"),this.props.zIndexSortBy)}},{key:"regressionLineComputations",get:function(){var e=this;return function(e){return b.a.linear(e)}(this.props.data.map(function(t){return[e.x(t),e.y(t)]}))}},{key:"regressionLine",get:function(){var e=this.props.excludeLimitValuesFromCorrelation?o.a.filter(this.props.data,function(e){return!Object(y.b)(e)}):this.props.data;if(this.props.showRegressionLine&&e.length>=2){var t=this.regressionLineComputations,n=function(e){return t.predict(e)[1]},r=[this.plotDomain.x[0],this.plotDomain.x[0]*(1-.7)+.7*this.plotDomain.x[1],this.plotDomain.x[1]].map(function(e){return{x:e,y:n(e),label:""}});return[i.createElement(p.VictoryLine,{style:{data:{stroke:"#c43a31",strokeWidth:2},labels:{fontSize:15,fill:"#000000",stroke:"#ffffff",strokeWidth:6,fontWeight:"bold",paintOrder:"stroke"}},data:r,labelComponent:i.createElement(p.VictoryLabel,{lineHeight:1.3})})]}return null}}])&&w(n.prototype,r),s&&w(n,s),t}();x([c.observable.ref],A.prototype,"tooltipModel",void 0),x([c.observable],A.prototype,"pointHovered",void 0),x([c.observable.ref],A.prototype,"container",void 0),x([l.a],A.prototype,"containerRef",null),x([c.computed],A.prototype,"fontFamily",null),x([c.computed],A.prototype,"legendX",null),x([c.computed],A.prototype,"legendY",null),x([c.computed],A.prototype,"splitData",null),x([c.computed],A.prototype,"plotDomain",null),x([c.computed],A.prototype,"pearsonCorr",null),x([c.computed],A.prototype,"spearmanCorr",null),x([c.computed],A.prototype,"spearmanPval",null),x([c.computed],A.prototype,"pearsonPval",null),x([c.computed],A.prototype,"rightPadding",null),x([c.computed],A.prototype,"svgWidth",null),x([c.computed],A.prototype,"svgHeight",null),x([l.a],A.prototype,"x",null),x([l.a],A.prototype,"y",null),x([c.computed],A.prototype,"size",null),x([l.a],A.prototype,"tickFormatX",null),x([l.a],A.prototype,"tickFormatY",null),x([c.computed],A.prototype,"data",null),x([c.computed],A.prototype,"regressionLineComputations",null),x([l.a],A.prototype,"getChart",null),A=x([a.observer],A);t.a=A},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),o=n(20),i=n(93);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p={marginTop:0},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,a,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return r.createElement(o.If,{condition:this.props.isHidden},r.createElement(o.Else,null,r.createElement("h2",{style:this.props.style||p,className:this.props.className||""},this.props.title,r.createElement(i.a,{isLoading:this.props.isLoading,small:!0}))))}}])&&s(n.prototype,a),h&&s(n,h),t}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var r=n(867),o=n.n(r),i=n(4),a=n(5);function s(t,n,r,s){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n.dependencyPromise=n.dependencyPromise||function(t){if(t.pathsToCSS&&t.pathsToCSS.forEach(function(t){e("head").append('<link rel="stylesheet" href='.concat(t,' type="text/css" />'))}),t.pathsToJs){var n=[];return t.pathsToJs.forEach(function(e){var t=new Promise(function(t,n){o()(e,function(e){e?n(e):t()})});n.push(t)}),Promise.all(n)}}(n);n.dependencyPromise.then(function(){!function(e){Object(i.E)()[e.mountCallbackName]?Object(i.E)()[e.mountCallbackName](t,e,r,s,a.autorun,l):alert("Callback for tab ".concat(e.title," not found"))}(n)})}}).call(this,n(9))},function(e,t,n){var r,o,i;r={},o=0,i=function(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},e.exports=function(e,t,n){var a;t&&"function"!=typeof t&&(n=t.context||n,a=t.setup,t=t.callback);var s,l,c=document.createElement("script"),u=!1,p=function(){u||(u=!0,l(),t&&t.call(n,s))},h=function(){s=new Error(e||"EMPTY"),p()};if(!c.readyState||"async"in c)l=function(){c.onload=c.onerror=null},c.onerror=h,c.onload=p,c.async=!0,c.charset="utf-8",a&&a.call(n,c),c.src=e,i(c);else{var d=o++,f={loaded:!0,complete:!0},m=!1;l=function(){c.onreadystatechange=c.onerror=null,r[d]=void 0},c.onreadystatechange=function(){var e=c.readyState;if(!s){if(!m&&f[e]&&(m=!0,i(c)),"loaded"===e&&(c.children,"loading"===c.readyState))return h();"complete"===c.readyState&&p()}},c.onerror=h,r[d]=c,a&&a.call(n,c),c.src=e}}},,function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return g});var r=n(0),o=n(5),i=n(92),a=n(28),s=n.n(a),l=n(551),c=n(11);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},y=17,g=8,v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,h(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return this.props.model?r.createElement(i.Popover,{arrowOffsetTop:y,className:s()("cbioportal-frontent","cbioTooltip"),positionLeft:this.positionLeft,positionTop:this.props.mousePosition.y-y,style:{width:150},placement:this.placement},r.createElement("div",null,r.createElement("div",null,"Number of samples:"," ",r.createElement("strong",null,this.props.model.sampleCount)),r.createElement("div",null,"Range:"," ",r.createElement("strong",null,Object(l.s)(this.props.model.start,this.props.model.end,this.props.model.special))))):null}},{key:"placement",get:function(){return this.props.totalBars<2*this.props.currentBarIndex?"left":"right"}},{key:"positionLeft",get:function(){return"left"===this.placement?this.props.mousePosition.x-(g+150):this.props.mousePosition.x+g}},{key:"transform",get:function(){return"left"===this.placement?"translate(-100%,0%)":void 0}}])&&u(n.prototype,o),a&&u(n,a),t}();m([o.computed],v.prototype,"placement",null),m([o.computed],v.prototype,"positionLeft",null),m([o.computed],v.prototype,"transform",null),v=m([c.observer],v),t.c=v},function(module,exports,__webpack_require__){(function(global,$){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,require,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){var $jscomp=$jscomp||{},n,C;$jscomp.scope={},$jscomp.findInternal=function(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,o=0;o<r;o++){var i=e[o];if(t.call(n,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,n,r){if(t){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];o in n||(n[o]={}),n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),n="undefined"!=typeof window?window:this,C=function(e,t){function n(e,t){var n=(t=t||K).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function i(e,t,n){return ie.isFunction(t)?ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?ie.grep(e,function(e){return e===t!==n}):"string"!=typeof t?ie.grep(e,function(e){return-1<Z.call(t,e)!==n}):me.test(t)?ie.filter(t,e,n):(t=ie.filter(t,e),ie.grep(e,function(e){return-1<Z.call(t,e)!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){return e}function l(e){throw e}function c(e,t,n,r){var o;try{e&&ie.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&ie.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function u(){K.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),ie.ready()}function p(){this.expando=ie.expando+p.uid++}function h(e,t,n){if(void 0===n&&1===e.nodeType)if(n="data-"+t.replace(Ae,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(n))){try{var r=n;n="true"===r||"false"!==r&&("null"===r?null:r===+r+""?+r:Ee.test(r)?JSON.parse(r):r)}catch(e){}xe.set(e,t,n)}else n=void 0;return n}function d(e,t,n,r){var o=1,i=20,a=r?function(){return r.cur()}:function(){return ie.css(e,t,"")},s=a(),l=n&&n[3]||(ie.cssNumber[t]?"":"px"),c=(ie.cssNumber[t]||"px"!==l&&+s)&&Pe.exec(ie.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+s||1;do{c/=o=o||".5",ie.style(e,t,c+l)}while(o!==(o=a()/s)&&1!==o&&--i)}if(n){c=+c||+s||0;var u=n[1]?c+(n[1]+1)*n[2]:+n[2];r&&(r.unit=l,r.start=c,r.end=u)}return u}function f(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)if((r=e[i]).style)if(n=r.style.display,t){if("none"===n&&(o[i]=Te.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&Me(r)){n=i;var s=r.ownerDocument;r=r.nodeName;var l=Le[r];l||(s=s.body.appendChild(s.createElement(r)),l=ie.css(s,"display"),s.parentNode.removeChild(s),"none"===l&&(l="block"),Le[r]=l),s=l,o[n]=s}}else"none"!==n&&(o[i]="none",Te.set(r,"display",n));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function m(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&o(e,t)?ie.merge([e],n):n}function y(e,t){for(var n=0,r=e.length;n<r;n++)Te.set(e[n],"globalEval",!t||Te.get(t[n],"globalEval"))}function g(e,t,n,r,o){for(var i,a,s,l=t.createDocumentFragment(),c=[],u=0,p=e.length;u<p;u++)if((i=e[u])||0===i)if("object"===ie.type(i))ie.merge(c,i.nodeType?[i]:i);else if(ze.test(i)){for(a=a||l.appendChild(t.createElement("div")),s=(Re.exec(i)||["",""])[1].toLowerCase(),s=Fe[s]||Fe._default,a.innerHTML=s[1]+ie.htmlPrefilter(i)+s[2],s=s[0];s--;)a=a.lastChild;ie.merge(c,a.childNodes),(a=l.firstChild).textContent=""}else c.push(t.createTextNode(i));for(l.textContent="",u=0;i=c[u++];)if(r&&-1<ie.inArray(i,r))o&&o.push(i);else if(e=ie.contains(i.ownerDocument,i),a=m(l.appendChild(i),"script"),e&&y(a),n)for(s=0;i=a[s++];)je.test(i.type||"")&&n.push(i);return l}function v(){return!0}function b(){return!1}function S(){try{return K.activeElement}catch(e){}}function w(e,t,n,r,o,i){var a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)w(e,a,n,r,t[a],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=b;else if(!o)return e;if(1===i){var s=o;(o=function(e){return ie().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=ie.guid++)}return e.each(function(){ie.event.add(this,t,o,r,n)})}function C(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")&&ie(">tbody",e)[0]||e}function _(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function k(e){var t=Ye.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){var n,r;if(1===t.nodeType){if(Te.hasData(e)){var o=Te.access(e),i=Te.set(t,o);if(o=o.events)for(r in delete i.handle,i.events={},o)for(i=0,n=o[r].length;i<n;i++)ie.event.add(t,r,o[r][i])}xe.hasData(e)&&(e=xe.access(e),e=ie.extend({},e),xe.set(t,e))}}function x(e,t,r,o){t=Q.apply([],t);var i,a=0,s=e.length,l=s-1,c=t[0],u=ie.isFunction(c);if(u||1<s&&"string"==typeof c&&!oe.checkClone&&$e.test(c))return e.each(function(n){var i=e.eq(n);u&&(t[0]=c.call(this,n,i.html())),x(i,t,r,o)});if(s){var p=g(t,e[0].ownerDocument,!1,e,o),h=p.firstChild;if(1===p.childNodes.length&&(p=h),h||o){for(i=(h=ie.map(m(p,"script"),_)).length;a<s;a++){var d=p;a!==l&&(d=ie.clone(d,!0,!0),i&&ie.merge(h,m(d,"script"))),r.call(e[a],d,a)}if(i)for(p=h[h.length-1].ownerDocument,ie.map(h,k),a=0;a<i;a++)d=h[a],je.test(d.type||"")&&!Te.access(d,"globalEval")&&ie.contains(p,d)&&(d.src?ie._evalUrl&&ie._evalUrl(d.src):n(d.textContent.replace(Qe,""),p))}}return e}function E(e,t,n){for(var r=t?ie.filter(t,e):e,o=0;null!=(t=r[o]);o++)n||1!==t.nodeType||ie.cleanData(m(t)),t.parentNode&&(n&&ie.contains(t.ownerDocument,t)&&y(m(t,"script")),t.parentNode.removeChild(t));return e}function A(e,t,n){var r=e.style;if(n=n||Je(e)){var o=n.getPropertyValue(t)||n[t];if(""!==o||ie.contains(e.ownerDocument,e)||(o=ie.style(e,t)),!oe.pixelMarginRight()&&Ze.test(o)&&Xe.test(t)){e=r.width,t=r.minWidth;var i=r.maxWidth;r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=e,r.minWidth=t,r.maxWidth=i}}return void 0!==o?o+"":o}function O(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function P(e){var t=ie.cssProps[e];if(!t){t=ie.cssProps;e:{var n=e;if(!(n in it)){for(var r=n[0].toUpperCase()+n.slice(1),o=ot.length;o--;)if((n=ot[o]+r)in it)break e;n=void 0}}t=t[e]=n||e}return t}function I(e,t,n){return(e=Pe.exec(t))?Math.max(0,e[2]-(n||0))+(e[3]||"px"):t}function M(e,t,n,r,o){var i=0;for(t=n===(r?"border":"content")?4:"width"===t?1:0;4>t;t+=2)"margin"===n&&(i+=ie.css(e,n+Ie[t],!0,o)),r?("content"===n&&(i-=ie.css(e,"padding"+Ie[t],!0,o)),"margin"!==n&&(i-=ie.css(e,"border"+Ie[t]+"Width",!0,o))):(i+=ie.css(e,"padding"+Ie[t],!0,o),"padding"!==n&&(i+=ie.css(e,"border"+Ie[t]+"Width",!0,o)));return i}function D(e,t,n){var r=Je(e),o=A(e,t,r),i="border-box"===ie.css(e,"boxSizing",!1,r);if(Ze.test(o))return o;var a=i&&(oe.boxSizingReliable()||o===e.style[t]);return"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+M(e,t,n||(i?"border":"content"),a,r)+"px"}function L(e,t,n,r,o){return new L.prototype.init(e,t,n,r,o)}function N(){st&&(!1===K.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(N):e.setTimeout(N,ie.fx.interval),ie.fx.tick())}function R(){return e.setTimeout(function(){at=void 0}),at=ie.now()}function j(e,t){var n=0,r={height:e};for(t=t?1:0;4>n;n+=2-t){var o=Ie[n];r["margin"+o]=r["padding"+o]=e}return t&&(r.opacity=r.width=e),r}function F(e,t,n){for(var r,o=(G.tweeners[t]||[]).concat(G.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function G(e,t,n){var r,o=0,i=G.prefilters.length,a=ie.Deferred().always(function(){delete s.elem}),s=function(){if(r)return!1;for(var t=at||R(),n=1-((t=Math.max(0,l.startTime+l.duration-t))/l.duration||0),o=0,i=l.tweens.length;o<i;o++)l.tweens[o].run(n);return a.notifyWith(e,[l,n,t]),1>n&&i?t:(i||a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},n),originalProperties:t,originalOptions:n,startTime:at||R(),duration:n.duration,tweens:[],createTween:function(t,n){return t=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing),l.tweens.push(t),t},stop:function(t){var n=0,o=t?l.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}});for(function(e,t){var n,r;for(n in e){var o=ie.camelCase(n),i=t[o],a=e[n];if(Array.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==o&&(e[o]=a,delete e[n]),(r=ie.cssHooks[o])&&"expand"in r)for(n in a=r.expand(a),delete e[o],a)n in e||(e[n]=a[n],t[n]=i);else t[o]=i}}(n=l.props,l.opts.specialEasing);o<i;o++)if(t=G.prefilters[o].call(l,e,n,l.opts))return ie.isFunction(t.stop)&&(ie._queueHooks(l.elem,l.opts.queue).stop=ie.proxy(t.stop,t)),t;return ie.map(n,F,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ie.fx.timer(ie.extend(s,{elem:e,anim:l,queue:l.opts.queue})),l}function B(e){return(e.match(Se)||[]).join(" ")}function z(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,n,r){var o;if(Array.isArray(t))ie.each(t,function(t,o){n||bt.test(e)?r(e,o):V(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(o in t)V(e+"["+o+"]",t[o],n,r)}function H(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r=0,o=t.toLowerCase().match(Se)||[];if(ie.isFunction(n))for(;t=o[r++];)"+"===t[0]?(t=t.slice(1)||"*",(e[t]=e[t]||[]).unshift(n)):(e[t]=e[t]||[]).push(n)}}function U(e,t,n,r){function o(s){var l;return i[s]=!0,ie.each(e[s]||[],function(e,s){return"string"!=typeof(e=s(t,n,r))||a||i[e]?a?!(l=e):void 0:(t.dataTypes.unshift(e),o(e),!1)}),l}var i={},a=e===Pt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function q(e,t){var n,r,o=ie.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&ie.extend(!0,e,r),e}var W=[],K=e.document,$=Object.getPrototypeOf,Y=W.slice,Q=W.concat,X=W.push,Z=W.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ne=te.toString,re=ne.call(Object),oe={},ie=function(e,t){return new ie.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([a-z])/g,ce=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:"3.2.1",constructor:ie,length:0,toArray:function(){return Y.call(this)},get:function(e){return null==e?Y.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){return(e=ie.merge(this.constructor(),e)).prevObject=this,e},each:function(e){return ie.each(this,e)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length;return e=+e+(0>e?t:0),this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:X,sort:W.sort,splice:W.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r=arguments[0]||{},o=1,i=arguments.length,a=!1;for("boolean"==typeof r&&(a=r,r=arguments[o]||{},o++),"object"==typeof r||ie.isFunction(r)||(r={}),o===i&&(r=this,o--);o<i;o++)if(null!=(e=arguments[o]))for(t in e){var s=r[t],l=e[t];r!==l&&(a&&l&&(ie.isPlainObject(l)||(n=Array.isArray(l)))?(n?(n=!1,s=s&&Array.isArray(s)?s:[]):s=s&&ie.isPlainObject(s)?s:{},r[t]=ie.extend(a,s,l)):void 0!==l&&(r[t]=l))}return r},ie.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=ie.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==ee.call(e))&&(!(e=$(e))||"function"==typeof(e=te.call(e,"constructor")&&e.constructor)&&ne.call(e)===re)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(se,"ms-").replace(le,ce)},each:function(e,t){var n,o=0;if(r(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){return t=t||[],null!=e&&(r(Object(e))?ie.merge(t,"string"==typeof e?[e]:e):X.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)(n=!t(e[o],o))!==a&&r.push(e[o]);return r},map:function(e,t,n){var o,i=0,a=[];if(r(e))for(o=e.length;i<o;i++){var s=t(e[i],i,n);null!=s&&a.push(s)}else for(i in e)null!=(s=t(e[i],i,n))&&a.push(s);return Q.apply([],a)},guid:1,proxy:function(e,t){if("string"==typeof t){var n=e[t];t=e,e=n}if(ie.isFunction(e)){var r=Y.call(arguments,2);return(n=function(){return e.apply(t||this,r.concat(Y.call(arguments)))}).guid=e.guid=e.guid||ie.guid++,n}},now:Date.now,support:oe}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=W[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var o,i,a,s,l=t&&t.ownerDocument,c=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return n;if(!r&&((t?t.ownerDocument||t:M)!==k&&de(t),t=t||k,x)){if(11!==c&&(s=re.exec(e)))if(o=s[1]){if(9===c){if(!(i=t.getElementById(o)))return n;if(i.id===o)return n.push(i),n}else if(l&&(i=l.getElementById(o))&&P(t,i)&&i.id===o)return n.push(i),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&pe.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(o)),n}if(!(!pe.qsa||j[e+" "]||E&&E.test(e))){if(1!==c){l=t;var u=e}else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(se,le):t.setAttribute("id",a=I),o=(i=ye(e)).length;o--;)i[o]="#"+a+" "+d(i[o]);u=i.join(","),l=oe.test(e)&&p(t.parentNode)||t}if(u)try{return H.apply(n,l.querySelectorAll(u)),n}catch(e){}finally{a===I&&t.removeAttribute("id")}}}return ve(e.replace(K,"$1"),t,n,r)}function n(){var e=[];return function t(n,r){return e.push(n+" ")>me.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function r(e){return e[I]=!0,e}function o(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function i(e,t){for(var n=(e=e.split("|")).length;n--;)me.attrHandle[e[n]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ue(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function p(e){return e&&void 0!==e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=L++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u=[D,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a){var p=t[I]||(t[I]={});if(p=p[t.uniqueID]||(p[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=p[i])&&c[0]===D&&c[1]===s)return u[2]=c[2];if(p[i]=u,u[2]=e(t,n,l))return!0}}return!1}}function m(e){return 1<e.length?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function y(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function g(e,n,o,i,a,s){return i&&!i[I]&&(i=g(i)),a&&!a[I]&&(a=g(a,s)),r(function(r,s,l,c){var u,p,h=[],d=[],f=s.length;if(!(p=r)){p=n||"*";for(var m=l.nodeType?[l]:l,g=[],v=0,b=m.length;v<b;v++)t(p,m[v],g);p=g}if(p=!e||!r&&n?p:y(p,h,e,l,c),m=o?a||(r?e:f||i)?[]:s:p,o&&o(p,m,l,c),i){var S=y(m,d);for(i(S,[],l,c),l=S.length;l--;)(u=S[l])&&(m[d[l]]=!(p[d[l]]=u))}if(r){if(a||e){if(a){for(S=[],l=m.length;l--;)(u=m[l])&&S.push(p[l]=u);a(null,m=[],S,c)}for(l=m.length;l--;)(u=m[l])&&-1<(S=a?q(r,u):h[l])&&(r[S]=!(s[S]=u))}}else m=y(m===s?m.splice(f,m.length):m),a?a(null,s,m,c):H.apply(s,m)})}function v(e){for(var t,n,r=e.length,o=me.relative[e[0].type],i=o||me.relative[" "],a=o?1:0,s=f(function(e){return e===t},i,!0),l=f(function(e){return-1<q(t,e)},i,!0),c=[function(e,n,r){return e=!o&&(r||n!==w)||((t=n).nodeType?s(e,n,r):l(e,n,r)),t=null,e}];a<r;a++)if(i=me.relative[e[a].type])c=[f(m(c),i)];else{if((i=me.filter[e[a].type].apply(null,e[a].matches))[I]){for(n=++a;n<r&&!me.relative[e[n].type];n++);return g(1<a&&m(c),1<a&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(K,"$1"),i,a<n&&v(e.slice(a,n)),n<r&&v(e=e.slice(n)),n<r&&d(e))}c.push(i)}return m(c)}function b(e,n){var o=0<n.length,i=0<e.length,a=function(r,a,s,l,c){var u,p,h=0,d="0",f=r&&[],m=[],g=w,v=r||i&&me.find.TAG("*",c),b=D+=null==g?1:Math.random()||.1,S=v.length;for(c&&(w=a===k||a||c);d!==S&&null!=(u=v[d]);d++){if(i&&u){var C=0;for(a||u.ownerDocument===k||(de(u),s=!x);p=e[C++];)if(p(u,a||k,s)){l.push(u);break}c&&(D=b)}o&&((u=!p&&u)&&h--,r&&f.push(u))}if(h+=d,o&&d!==h){for(C=0;p=n[C++];)p(f,m,a,s);if(r){if(0<h)for(;d--;)f[d]||m[d]||(m[d]=z.call(l));m=y(m)}H.apply(l,m),c&&!r&&0<m.length&&1<h+n.length&&t.uniqueSort(l)}return c&&(D=b,w=g),f};return o?r(a):a}var S,w,C,_,k,T,x,E,A,O,P,I="sizzle"+1*new Date,M=e.document,D=0,L=0,N=n(),R=n(),j=n(),F=function(e,t){return e===t&&(_=!0),0},G={}.hasOwnProperty,B=[],z=B.pop,V=B.push,H=B.push,U=B.slice,q=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},W=/[\x20\t\r\n\f]+/g,K=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,$=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Y=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Q=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,X=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,Z=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,J={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/^[^{]+\{\s*\[native \w/,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oe=/[+~]/,ie=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/gi,ae=function(e,t,n){return(e="0x"+t-65536)!=e||n?t:0>e?String.fromCharCode(e+65536):String.fromCharCode(e>>10|55296,1023&e|56320)},se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,le=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ce=function(){de()},ue=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{H.apply(B=U.call(M.childNodes),M.childNodes),B[M.childNodes.length].nodeType}catch(e){H={apply:B.length?function(e,t){V.apply(e,U.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var pe=t.support={},he=t.isXML=function(e){return!!(e=e&&(e.ownerDocument||e).documentElement)&&"HTML"!==e.nodeName},de=t.setDocument=function(e){var t;return(e=e?e.ownerDocument||e:M)!==k&&9===e.nodeType&&e.documentElement?(T=(k=e).documentElement,x=!he(k),M!==k&&(t=k.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",ce,!1):t.attachEvent&&t.attachEvent("onunload",ce)),pe.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),pe.getElementsByTagName=o(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),pe.getElementsByClassName=ne.test(k.getElementsByClassName),pe.getById=o(function(e){return T.appendChild(e).id=I,!k.getElementsByName||!k.getElementsByName(I).length}),pe.getById?(me.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){return e.getAttribute("id")===t}},me.find.ID=function(e,t){if(void 0!==t.getElementById&&x)return(e=t.getElementById(e))?[e]:[]}):(me.filter.ID=function(e){var t=e.replace(ie,ae);return function(e){return(e=void 0!==e.getAttributeNode&&e.getAttributeNode("id"))&&e.value===t}},me.find.ID=function(e,t){if(void 0!==t.getElementById&&x){var n,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];var o=t.getElementsByName(e);for(t=0;r=o[t++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),me.find.TAG=pe.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):pe.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n=[],r=0;if(t=t.getElementsByTagName(e),"*"===e){for(;e=t[r++];)1===e.nodeType&&n.push(e);return n}return t},me.find.CLASS=pe.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&x)return t.getElementsByClassName(e)},A=[],E=[],(pe.qsa=ne.test(k.querySelectorAll))&&(o(function(e){T.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&E.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||E.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+I+"-]").length||E.push("~="),e.querySelectorAll(":checked").length||E.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||E.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&E.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&E.push(":enabled",":disabled"),T.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&E.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),E.push(",.*:")})),(pe.matchesSelector=ne.test(O=T.matches||T.webkitMatchesSelector||T.mozMatchesSelector||T.oMatchesSelector||T.msMatchesSelector))&&o(function(e){pe.disconnectedMatch=O.call(e,"*"),O.call(e,"[s!='']:x"),A.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),E=E.length&&new RegExp(E.join("|")),A=A.length&&new RegExp(A.join("|")),P=(t=ne.test(T.compareDocumentPosition))||ne.test(T.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e;return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},F=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!pe.sortDetached&&t.compareDocumentPosition(e)===n?e===k||e.ownerDocument===M&&P(M,e)?-1:t===k||t.ownerDocument===M&&P(M,t)?1:C?q(C,e)-q(C,t):0:4&n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n=0,r=e.parentNode,o=t.parentNode,i=[e],s=[t];if(!r||!o)return e===k?-1:t===k?1:r?-1:o?1:C?q(C,e)-q(C,t):0;if(r===o)return a(e,t);for(;e=e.parentNode;)i.unshift(e);for(e=t;e=e.parentNode;)s.unshift(e);for(;i[n]===s[n];)n++;return n?a(i[n],s[n]):i[n]===M?-1:s[n]===M?1:0},k):k};t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==k&&de(e),n=n.replace(Q,"='$1']"),!(!pe.matchesSelector||!x||j[n+" "]||A&&A.test(n)||E&&E.test(n)))try{var r=O.call(e,n);if(r||pe.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return 0<t(n,k,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==k&&de(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==k&&de(e);var n=me.attrHandle[t.toLowerCase()];return void 0!==(n=n&&G.call(me.attrHandle,t.toLowerCase())?n(e,t,!x):void 0)?n:pe.attributes||!x?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(se,le)},t.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(_=!pe.detectDuplicates,C=!pe.sortStable&&e.slice(0),e.sort(F),_){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return C=null,e};var fe=t.getText=function(e){var t="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=fe(e)}else if(3===r||4===r)return e.nodeValue}else for(;r=e[n++];)t+=fe(r);return t},me=t.selectors={cacheLength:50,createPseudo:r,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,ae),e[3]=(e[3]||e[4]||e[5]||"").replace(ie,ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=ye(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"),N(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,n,r){return function(o){return null==(o=t.attr(o,e))?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&-1<o.indexOf(r):"$="===n?r&&o.slice(-r.length)===r:"~="===n?-1<(" "+o.replace(W," ")+" ").indexOf(r):"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u;n=i!==a?"nextSibling":"previousSibling";var p=t.parentNode,h=s&&t.nodeName.toLowerCase();l=!l&&!s;var d=!1;if(p){if(i){for(;n;){for(c=t;c=c[n];)if(s?c.nodeName.toLowerCase()===h:1===c.nodeType)return!1;var f=n="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?p.firstChild:p.lastChild],a&&l){var m=(c=p)[I]||(c[I]={});for(d=(u=(d=(m=m[c.uniqueID]||(m[c.uniqueID]={}))[e]||[])[0]===D&&d[1])&&d[2],c=u&&p.childNodes[u];c=++u&&c&&c[n]||(d=u=0)||f.pop();)if(1===c.nodeType&&++d&&c===t){m[e]=[D,u,d];break}}else if(l&&(d=u=(d=(m=(m=(c=t)[I]||(c[I]={}))[c.uniqueID]||(m[c.uniqueID]={}))[e]||[])[0]===D&&d[1]),!1===d)for(;(c=++u&&c&&c[n]||(d=u=0)||f.pop())&&((s?c.nodeName.toLowerCase()!==h:1!==c.nodeType)||!++d||(l&&((m=(m=c[I]||(c[I]={}))[c.uniqueID]||(m[c.uniqueID]={}))[e]=[D,d]),c!==t)););return(d-=o)===r||0==d%r&&0<=d/r}}},PSEUDO:function(e,n){var o=me.pseudos[e]||me.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);if(o[I])return o(n);if(1<o.length){var i=[e,e,"",n];return me.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=q(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}}return o}},pseudos:{not:r(function(e){var t=[],n=[],o=ge(e.replace(K,"$1"));return o[I]?r(function(e,t,n,r){r=o(e,null,r,[]);for(var i=e.length;i--;)(n=r[i])&&(e[i]=!(t[i]=n))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return 0<t(e,n).length}}),contains:r(function(e){return e=e.replace(ie,ae),function(t){return-1<(t.textContent||t.innerText||fe(t)).indexOf(e)}}),lang:r(function(e){return Z.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ie,ae).toLowerCase(),function(t){var n;do{if(n=x?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===T},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!me.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(t=0>n?n+t:n;0<=--t;)e.push(t);return e}),gt:u(function(e,t,n){for(n=0>n?n+t:n;++n<t;)e.push(n);return e})}};for(S in me.pseudos.nth=me.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})me.pseudos[S]=s(S);for(S in{submit:!0,reset:!0})me.pseudos[S]=l(S);h.prototype=me.filters=me.pseudos,me.setFilters=new h;var ye=t.tokenize=function(e,n){var r,o,i,a,s;if(a=R[e+" "])return n?0:a.slice(0);a=e;var l=[];for(s=me.preFilter;a;){c&&!(r=$.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[]));var c=!1;for(i in(r=Y.exec(a))&&(c=r.shift(),o.push({value:c,type:r[0].replace(K," ")}),a=a.slice(c.length)),me.filter)!(r=J[i].exec(a))||s[i]&&!(r=s[i](r))||(c=r.shift(),o.push({value:c,type:i,matches:r}),a=a.slice(c.length));if(!c)break}return n?a.length:a?t.error(e):R(e,l).slice(0)},ge=t.compile=function(e,t){var n,r=[],o=[],i=j[e+" "];if(!i){for(t||(t=ye(e)),n=t.length;n--;)(i=v(t[n]))[I]?r.push(i):o.push(i);(i=j(e,b(o,r))).selector=e}return i},ve=t.select=function(e,t,n,r){var o,i,a,s="function"==typeof e&&e,l=!r&&ye(e=s.selector||e);if(n=n||[],1===l.length){var c=l[0]=l[0].slice(0);if(2<c.length&&"ID"===(i=c[0]).type&&9===t.nodeType&&x&&me.relative[c[1].type]){if(!(t=(me.find.ID(i.matches[0].replace(ie,ae),t)||[])[0]))return n;s&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=J.needsContext.test(e)?0:c.length;o--&&(i=c[o],!me.relative[a=i.type]);)if((a=me.find[a])&&(r=a(i.matches[0].replace(ie,ae),oe.test(c[0].type)&&p(t.parentNode)||t))){if(c.splice(o,1),!(e=r.length&&d(c)))return H.apply(n,r),n;break}}return(s||ge(e,l))(r,t,!x,n,!t||oe.test(e)&&p(t.parentNode)||t),n};return pe.sortStable=I.split("").sort(F).join("")===I,pe.detectDuplicates=!!_,de(),pe.sortDetached=o(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),pe.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains,ie.escapeSelector=ue.escape;var pe=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ie(e).is(n))break;r.push(e)}return r},he=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},de=ie.expr.match.needsContext,fe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,me=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<n;t++)if(ie.contains(r[t],this))return!0}));var o=this.pushStack([]);for(t=0;t<n;t++)ie.find(e,r[t],o);return 1<n?ie.uniqueSort(o):o},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&de.test(e)?ie(e):e||[],!1).length}});var ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ie.fn.init=function(e,t,n){if(!e)return this;if(n=n||ge,"string"==typeof e){var r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ye.exec(e);if(!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),fe.test(r[1])&&ie.isPlainObject(t))for(r in t)ie.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r])}else(e=K.getElementById(r[2]))&&(this[0]=e,this.length=1);return this}return e.nodeType?(this[0]=e,this.length=1,this):ie.isFunction(e)?void 0!==n.ready?n.ready(e):e(ie):ie.makeArray(e,this)}).prototype=ie.fn;var ge=ie(K),ve=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&ie(e);if(!de.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?-1<a.index(n):1===n.nodeType&&ie.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?ie.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?Z.call(ie(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return pe(e,"parentNode")},parentsUntil:function(e,t,n){return pe(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return pe(e,"nextSibling")},prevAll:function(e){return pe(e,"previousSibling")},nextUntil:function(e,t,n){return pe(e,"nextSibling",n)},prevUntil:function(e,t,n){return pe(e,"previousSibling",n)},siblings:function(e){return he((e.parentNode||{}).firstChild,e)},children:function(e){return he(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),ie.merge([],e.childNodes))}},function(e,t){ie.fn[e]=function(n,r){var o=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ie.filter(r,o)),1<this.length&&(be[e]||ie.uniqueSort(o),ve.test(e)&&o.reverse()),this.pushStack(o)}});var Se=/[^\x20\t\r\n\f]+/g;ie.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return ie.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}(e):ie.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){ie.each(n,function(n,r){ie.isFunction(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==ie.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return ie.each(arguments,function(e,t){for(var n;-1<(n=ie.inArray(t,i,n));)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<ie.inArray(e,i):0<i.length},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ie.extend({Deferred:function(t){var n=[["notify","progress",ie.Callbacks("memory"),ie.Callbacks("memory"),2],["resolve","done",ie.Callbacks("once memory"),ie.Callbacks("once memory"),0,"resolved"],["reject","fail",ie.Callbacks("once memory"),ie.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return ie.Deferred(function(t){ie.each(n,function(n,r){var o=ie.isFunction(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,r,o){function i(t,n,r,o){return function(){var c=this,u=arguments,p=function(){if(!(t<a)){var e=r.apply(c,u);if(e===n.promise())throw new TypeError("Thenable self-resolution");var p=e&&("object"==typeof e||"function"==typeof e)&&e.then;ie.isFunction(p)?o?p.call(e,i(a,n,s,o),i(a,n,l,o)):(a++,p.call(e,i(a,n,s,o),i(a,n,l,o),i(a,n,s,n.notifyWith))):(r!==s&&(c=void 0,u=[e]),(o||n.resolveWith)(c,u))}},h=o?p:function(){try{p()}catch(e){ie.Deferred.exceptionHook&&ie.Deferred.exceptionHook(e,h.stackTrace),t+1>=a&&(r!==l&&(c=void 0,u=[e]),n.rejectWith(c,u))}};t?h():(ie.Deferred.getStackHook&&(h.stackTrace=ie.Deferred.getStackHook()),e.setTimeout(h))}}var a=0;return ie.Deferred(function(e){n[0][3].add(i(0,e,ie.isFunction(o)?o:s,e.notifyWith)),n[1][3].add(i(0,e,ie.isFunction(t)?t:s)),n[2][3].add(i(0,e,ie.isFunction(r)?r:l))}).promise()},promise:function(e){return null!=e?ie.extend(e,o):o}},i={};return ie.each(n,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=Y.call(arguments),i=ie.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=1<arguments.length?Y.call(arguments):n,--t||i.resolveWith(r,o)}};if(1>=t&&(c(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||ie.isFunction(o[n]&&o[n].then)))return i.then();for(;n--;)c(o[n],a(n),i.reject);return i.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ie.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&we.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},ie.readyException=function(t){e.setTimeout(function(){throw t})};var Ce=ie.Deferred();ie.fn.ready=function(e){return Ce.then(e).catch(function(e){ie.readyException(e)}),this},ie.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ie.readyWait:ie.isReady)||(ie.isReady=!0,!0!==e&&0<--ie.readyWait||Ce.resolveWith(K,[ie]))}}),ie.ready.then=Ce.then,"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?e.setTimeout(ie.ready):(K.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u));var _e=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===ie.type(n))for(s in o=!0,n)_e(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,ie.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ie(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},ke=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};p.uid=1,p.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ke(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r;if(e=this.cache(e),"string"==typeof t)e[ie.camelCase(t)]=n;else for(r in t)e[ie.camelCase(r)]=t[r];return e},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t)for((Array.isArray(t)?t=t.map(ie.camelCase):t=(t=ie.camelCase(t))in r?[t]:t.match(Se)||[],n=t.length);n--;)delete r[t[n]];(void 0===t||ie.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){return void 0!==(e=e[this.expando])&&!ie.isEmptyObject(e)}};var Te=new p,xe=new p,Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ae=/[A-Z]/g;ie.extend({hasData:function(e){return xe.hasData(e)||Te.hasData(e)},data:function(e,t,n){return xe.access(e,t,n)},removeData:function(e,t){xe.remove(e,t)},_data:function(e,t,n){return Te.access(e,t,n)},_removeData:function(e,t){Te.remove(e,t)}}),ie.fn.extend({data:function(e,t){var n,r=this[0],o=r&&r.attributes;if(void 0===e){if(this.length){var i=xe.get(r);if(1===r.nodeType&&!Te.get(r,"hasDataAttrs")){for(n=o.length;n--;)if(o[n]){var a=o[n].name;0===a.indexOf("data-")&&(a=ie.camelCase(a.slice(5)),h(r,a,i[a]))}Te.set(r,"hasDataAttrs",!0)}}return i}return"object"==typeof e?this.each(function(){xe.set(this,e)}):_e(this,function(t){if(r&&void 0===t){var n=xe.get(r,e);if(void 0!==n)return n;if(void 0!==(n=h(r,e)))return n}else this.each(function(){xe.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){xe.remove(this,e)})}}),ie.extend({queue:function(e,t,n){if(e){t=(t||"fx")+"queue";var r=Te.get(e,t);return n&&(!r||Array.isArray(n)?r=Te.access(e,t,ie.makeArray(n)):r.push(n)),r||[]}},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,o=n.shift(),i=ie._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){ie.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Te.get(e,n)||Te.access(e,n,{empty:ie.Callbacks("once memory").add(function(){Te.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=ie.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Te.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+Oe+")([a-z%]*)$","i"),Ie=["Top","Right","Bottom","Left"],Me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie.contains(e.ownerDocument,e)&&"none"===ie.css(e,"display")},De=function(e,t,n,r){var o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in n=n.apply(e,r||[]),t)e.style[o]=i[o];return n},Le={};ie.fn.extend({show:function(){return f(this,!0)},hide:function(){return f(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Me(this)?ie(this).show():ie(this).hide()})}});var Ne=/^(?:checkbox|radio)$/i,Re=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,je=/^$|\/(?:java|ecma)script/i,Fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Fe.optgroup=Fe.option,Fe.tbody=Fe.tfoot=Fe.colgroup=Fe.caption=Fe.thead,Fe.th=Fe.td;var Ge,Be,ze=/<|&#?\w+;/;Ge=K.createDocumentFragment().appendChild(K.createElement("div")),(Be=K.createElement("input")).setAttribute("type","radio"),Be.setAttribute("checked","checked"),Be.setAttribute("name","t"),Ge.appendChild(Be),oe.checkClone=Ge.cloneNode(!0).cloneNode(!0).lastChild.checked,Ge.innerHTML="<textarea>x</textarea>",oe.noCloneChecked=!!Ge.cloneNode(!0).lastChild.defaultValue;var Ve=K.documentElement,He=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qe=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c;if(s=Te.get(e)){if(n.handler){var u=n;n=u.handler,o=u.selector}for(o&&ie.find.matchesSelector(Ve,o),n.guid||(n.guid=ie.guid++),(a=s.events)||(a=s.events={}),(i=s.handle)||(i=s.handle=function(t){return void 0!==ie&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):void 0}),s=(t=(t||"").match(Se)||[""]).length;s--;){var p=qe.exec(t[s])||[],h=l=p[1],d=(p[2]||"").split(".").sort();h&&(p=ie.event.special[h]||{},h=(o?p.delegateType:p.bindType)||h,p=ie.event.special[h]||{},l=ie.extend({type:h,origType:l,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ie.expr.match.needsContext.test(o),namespace:d.join(".")},u),(c=a[h])||((c=a[h]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,r,d,i)||e.addEventListener&&e.addEventListener(h,i)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?c.splice(c.delegateCount++,0,l):c.push(l),ie.event.global[h]=!0)}}},remove:function(e,t,n,r,o){var i,a,s,l,c,u=Te.hasData(e)&&Te.get(e);if(u&&(s=u.events)){for(l=(t=(t||"").match(Se)||[""]).length;l--;){var p=qe.exec(t[l])||[],h=c=p[1],d=(p[2]||"").split(".").sort();if(h){var f=ie.event.special[h]||{},m=s[h=(r?f.delegateType:f.bindType)||h]||[];for(p=p[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=m.length;i--;){var y=m[i];!o&&c!==y.origType||n&&n.guid!==y.guid||p&&!p.test(y.namespace)||r&&r!==y.selector&&("**"!==r||!y.selector)||(m.splice(i,1),y.selector&&m.delegateCount--,f.remove&&f.remove.call(e,y))}a&&!m.length&&(f.teardown&&!1!==f.teardown.call(e,d,u.handle)||ie.removeEvent(e,h,u.handle),delete s[h])}else for(h in s)ie.event.remove(e,h+t[l],n,r,!0)}ie.isEmptyObject(s)&&Te.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o=ie.event.fix(e),i=Array(arguments.length),a=(Te.get(this,"events")||{})[o.type]||[],s=ie.event.special[o.type]||{};for(i[0]=o,t=1;t<arguments.length;t++)i[t]=arguments[t];if(o.delegateTarget=this,!s.preDispatch||!1!==s.preDispatch.call(this,o)){var l=ie.event.handlers.call(this,o,a);for(t=0;(r=l[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,a=0;(n=r.handlers[a++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(n.namespace)||(o.handleObj=n,o.data=n.data,void 0!==(n=((ie.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,i))&&!1===(o.result=n)&&(o.preventDefault(),o.stopPropagation()));return s.postDispatch&&s.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,r=[],o=t.delegateCount,i=e.target;if(o&&i.nodeType&&!("click"===e.type&&1<=e.button))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&("click"!==e.type||!0!==i.disabled)){var a=[],s={};for(n=0;n<o;n++){var l=t[n],c=l.selector+" ";void 0===s[c]&&(s[c]=l.needsContext?-1<ie(c,this).index(i):ie.find(c,this,null,[i]).length),s[c]&&a.push(l)}a.length&&r.push({elem:i,handlers:a})}return o<t.length&&r.push({elem:this,handlers:t.slice(o)}),r},addProp:function(e,t){Object.defineProperty(ie.Event.prototype,e,{enumerable:!0,configurable:!0,get:ie.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[ie.expando]?e:new ie.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?v:b,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&He.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ue.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ie.event.addProp),ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=e.relatedTarget,r=e.handleObj;if(!n||n!==this&&!ie.contains(this,n)){e.type=r.origType;var o=r.handler.apply(this,arguments);e.type=t}return o}}}),ie.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){if(e&&e.preventDefault&&e.handleObj){var r=e.handleObj;return ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this}if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=b),this.each(function(){ie.event.remove(this,e,n,t)})}});var We=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ke=/<script|<style|<link/i,$e=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace(We,"<$1></$2>")},clone:function(e,t,n){var r,o=e.cloneNode(!0),i=ie.contains(e.ownerDocument,e);if(!(oe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e))){var a=m(o),s=m(e),l=0;for(r=s.length;l<r;l++){var c=s[l],u=a[l],p=u.nodeName.toLowerCase();"input"===p&&Ne.test(c.type)?u.checked=c.checked:"input"!==p&&"textarea"!==p||(u.defaultValue=c.defaultValue)}}if(t)if(n)for(s=s||m(e),a=a||m(o),l=0,r=s.length;l<r;l++)T(s[l],a[l]);else T(e,o);return 0<(a=m(o,"script")).length&&y(a,!i&&m(e,"script")),o},cleanData:function(e){for(var t,n,r,o=ie.event.special,i=0;void 0!==(n=e[i]);i++)if(ke(n)){if(t=n[Te.expando]){if(t.events)for(r in t.events)o[r]?ie.event.remove(n,r):ie.removeEvent(n,r,t.handle);n[Te.expando]=void 0}n[xe.expando]&&(n[xe.expando]=void 0)}}}),ie.fn.extend({detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return _e(this,function(e){return void 0===e?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return x(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,e).appendChild(e)})},prepend:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return _e(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ke.test(e)&&!Fe[(Re.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ie.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return x(this,arguments,function(t){var n=this.parentNode;0>ie.inArray(this,e)&&(ie.cleanData(m(this)),n&&n.replaceChild(t,this))},e)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n=[],r=ie(e),o=r.length-1,i=0;i<=o;i++)e=i===o?this:this.clone(!0),ie(r[i])[t](e),X.apply(n,e.get());return this.pushStack(n)}});var Xe=/^margin/,Ze=new RegExp("^("+Oe+")(?!px)[a-z%]+$","i"),Je=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ve.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,i="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Ve.removeChild(a),s=null}}var n,r,o,i,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",oe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ie.extend(oe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),i}}))}();var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},rt={letterSpacing:"0",fontWeight:"400"},ot=["Webkit","Moz","ms"],it=K.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(e=A(e,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i=ie.camelCase(t),a=tt.test(t),s=e.style;a||(t=P(i));var l=ie.cssHooks[t]||ie.cssHooks[i];if(void 0===n)return l&&"get"in l&&void 0!==(o=l.get(e,!1,r))?o:s[t];var c=typeof n;"string"===c&&(o=Pe.exec(n))&&o[1]&&(n=d(e,t,o),c="number"),null!=n&&n==n&&("number"===c&&(n+=o&&o[3]||(ie.cssNumber[i]?"":"px")),oe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),l&&"set"in l&&void 0===(n=l.set(e,n,r))||(a?s.setProperty(t,n):s[t]=n))}},css:function(e,t,n,r){var o,i=ie.camelCase(t);return tt.test(t)||(t=P(i)),(i=ie.cssHooks[t]||ie.cssHooks[i])&&"get"in i&&(o=i.get(e,!0,n)),void 0===o&&(o=A(e,t,r)),"normal"===o&&t in rt&&(o=rt[t]),""===n||n?(e=parseFloat(o),!0===n||isFinite(e)?e||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return!et.test(ie.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?D(e,t,r):De(e,nt,function(){return D(e,t,r)})},set:function(e,n,r){var o,i=r&&Je(e);return(r=r&&M(e,t,r,"border-box"===ie.css(e,"boxSizing",!1,i),i))&&(o=Pe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ie.css(e,t)),I(e,n,r)}}}),ie.cssHooks.marginLeft=O(oe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(A(e,"marginLeft"))||e.getBoundingClientRect().left-De(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){var r=0,o={};for(n="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+Ie[r]+t]=n[r]||n[r-2]||n[0];return o}},Xe.test(e)||(ie.cssHooks[e+t].set=I)}),ie.fn.extend({css:function(e,t){return _e(this,function(e,t,n){var r,o={},i=0;if(Array.isArray(t)){for(n=Je(e),r=t.length;i<r;i++)o[t[i]]=ie.css(e,t[i],!1,n);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,1<arguments.length)}}),ie.Tween=L,L.prototype={constructor:L,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(ie.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=ie.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=L.prototype.init,ie.fx.step={};var at,st,lt=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;ie.Animation=ie.extend(G,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,Pe.exec(t),n),n}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,r=0,o=e.length;r<o;r++)n=e[r],G.tweeners[n]=G.tweeners[n]||[],G.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o="width"in t||"height"in t,i=this,a={},s=e.style,l=e.nodeType&&Me(e),c=Te.get(e,"fxshow");if(!n.queue){var u=ie._queueHooks(e,"fx");if(null==u.unqueued){u.unqueued=0;var p=u.empty.fire;u.empty.fire=function(){u.unqueued||p()}}u.unqueued++,i.always(function(){i.always(function(){u.unqueued--,ie.queue(e,"fx").length||u.empty.fire()})})}for(r in t){var h=t[r];if(lt.test(h)){delete t[r];var d=d||"toggle"===h;if(h===(l?"hide":"show")){if("show"!==h||!c||void 0===c[r])continue;l=!0}a[r]=c&&c[r]||ie.style(e,r)}}if((t=!ie.isEmptyObject(t))||!ie.isEmptyObject(a)){if(o&&1===e.nodeType){n.overflow=[s.overflow,s.overflowX,s.overflowY];var m=c&&c.display;null==m&&(m=Te.get(e,"display")),"none"===(o=ie.css(e,"display"))&&(m?o=m:(f([e],!0),m=e.style.display||m,o=ie.css(e,"display"),f([e]))),("inline"===o||"inline-block"===o&&null!=m)&&"none"===ie.css(e,"float")&&(t||(i.done(function(){s.display=m}),null==m&&(o=s.display,m="none"===o?"":o)),s.display="inline-block")}for(r in n.overflow&&(s.overflow="hidden",i.always(function(){s.overflow=n.overflow[0],s.overflowX=n.overflow[1],s.overflowY=n.overflow[2]})),t=!1,a)t||(c?"hidden"in c&&(l=c.hidden):c=Te.access(e,"fxshow",{display:m}),d&&(c.hidden=!l),l&&f([e],!0),i.done(function(){for(r in l||f([e]),Te.remove(e,"fxshow"),a)ie.style(e,r,a[r])})),t=F(l?c[r]:0,r,i),r in c||(c[r]=t.start,l&&(t.end=t.start,t.start=0))}}],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return ie.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Me).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ie.isEmptyObject(e),i=ie.speed(t,n,r);return(t=function(){var t=G(this,ie.extend({},e),i);(o||Te.get(this,"finish"))&&t.stop(!0)}).finish=t,o||!1===i.queue?this.each(t):this.queue(i.queue,t)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=ie.timers,a=Te.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ct.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=Te.get(this),n=t[e+"queue"],r=t[e+"queueHooks"],o=ie.timers,i=n?n.length:0;for(t.finish=!0,ie.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),r=o.length;r--;)o[r].elem===this&&o[r].queue===e&&(o[r].anim.stop(!0),o.splice(r,1));for(r=0;r<i;r++)n[r]&&n[r].finish&&n[r].finish.call(this);delete t.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,r,o)}}),ie.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e=0,t=ie.timers;for(at=ie.now();e<t.length;e++){var n=t[e];n()||t[e]!==n||t.splice(e--,1)}t.length||ie.fx.stop(),at=void 0},ie.fx.timer=function(e){ie.timers.push(e),ie.fx.start()},ie.fx.interval=13,ie.fx.start=function(){st||(st=!0,N())},ie.fx.stop=function(){st=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,n){return t=ie.fx&&ie.fx.speeds[t]||t,this.queue(n||"fx",function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=K.createElement("input"),t=K.createElement("select").appendChild(K.createElement("option"));e.type="checkbox",oe.checkOn=""!==e.value,oe.optSelected=t.selected,(e=K.createElement("input")).value="t",e.type="radio",oe.radioValue="t"===e.value}();var ut=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return _e(this,ie.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?ie.prop(e,t,n):(1===i&&ie.isXMLDoc(e)||(o=ie.attrHooks[t.toLowerCase()]||(ie.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void ie.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=ie.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!oe.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n=0,r=t&&t.match(Se);if(r&&1===e.nodeType)for(;t=r[n++];)e.removeAttribute(t)}});var pt={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):e.setAttribute(n,n),n}};ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||ie.find.attr;ut[t]=function(e,t,r){var o=t.toLowerCase();if(!r){var i=ut[o];ut[o]=a;var a=null!=n(e,t,r)?o:null;ut[o]=i}return a}});var ht=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return _e(this,ie.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,n){var r,o=e.nodeType;if(3!==o&&8!==o&&2!==o){if(1!==o||!ie.isXMLDoc(e)){t=ie.propFix[t]||t;var i=ie.propHooks[t]}return void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]}},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),oe.optSelected||(ie.propHooks.selected={get:function(e){return(e=e.parentNode)&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){(e=e.parentNode)&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ie.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){ie.propFix[this.toLowerCase()]=this}),ie.fn.extend({addClass:function(e){var t,n,r,o,i,a=0;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,z(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[a++];){var s=z(n);if(r=1===n.nodeType&&" "+B(s)+" "){for(i=0;o=t[i++];)0>r.indexOf(" "+o+" ")&&(r+=o+" ");s!==(r=B(r))&&n.setAttribute("class",r)}}return this},removeClass:function(e){var t,n,r,o,i,a=0;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[a++];){var s=z(n);if(r=1===n.nodeType&&" "+B(s)+" "){for(i=0;o=t[i++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");s!==(r=B(r))&&n.setAttribute("class",r)}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,z(this),t),t)}):this.each(function(){var t,r;if("string"===n){var o=0,i=ie(this);for(r=e.match(Se)||[];t=r[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t)}else void 0!==e&&"boolean"!==n||((t=z(this))&&Te.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Te.get(this,"__className__")||""))})},hasClass:function(e){var t,n=0;for(e=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+B(z(t))+" ").indexOf(e))return!0;return!1}});var ft=/\r/g;ie.fn.extend({val:function(e){var t,n,r=this[0];if(arguments.length){var o=ie.isFunction(e);return this.each(function(n){1===this.nodeType&&(null==(n=o?e.call(this,n,ie(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=ie.map(n,function(e){return null==e?"":e+""})),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})}if(r)return(t=ie.valHooks[r.type]||ie.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ft,""):null==n?"":n}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:B(ie.text(e))}},select:{get:function(e){var t=e.options,n=e.selectedIndex,r="select-one"===e.type,i=r?null:[],a=r?n+1:t.length;for(e=0>n?a:r?n:0;e<a;e++){var s=t[e];if(!(!s.selected&&e!==n||s.disabled||s.parentNode.disabled&&o(s.parentNode,"optgroup"))){if(s=ie(s).val(),r)return s;i.push(s)}}return i},set:function(e,t){for(var n,r=e.options,o=ie.makeArray(t),i=r.length;i--;)((t=r[i]).selected=-1<ie.inArray(ie.valHooks.option.get(t),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ie.inArray(ie(e).val(),t)}},oe.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(t,n,r,o){var i,a,s=[r||K],l=te.call(t,"type")?t.type:t,c=te.call(t,"namespace")?t.namespace.split("."):[],u=i=r=r||K;if(3!==r.nodeType&&8!==r.nodeType&&!mt.test(l+ie.event.triggered)){-1<l.indexOf(".")&&(c=l.split("."),l=c.shift(),c.sort());var p=0>l.indexOf(":")&&"on"+l;if((t=t[ie.expando]?t:new ie.Event(l,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=c.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+c.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),c=ie.event.special[l]||{},o||!c.trigger||!1!==c.trigger.apply(r,n)){if(!o&&!c.noBubble&&!ie.isWindow(r)){var h=c.delegateType||l;for(mt.test(h+l)||(u=u.parentNode);u;u=u.parentNode)s.push(u),i=u;i===(r.ownerDocument||K)&&s.push(i.defaultView||i.parentWindow||e)}for(i=0;(u=s[i++])&&!t.isPropagationStopped();)t.type=1<i?h:c.bindType||l,(a=(Te.get(u,"events")||{})[t.type]&&Te.get(u,"handle"))&&a.apply(u,n),(a=p&&u[p])&&a.apply&&ke(u)&&(t.result=a.apply(u,n),!1===t.result&&t.preventDefault());return t.type=l,o||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(s.pop(),n)||!ke(r)||!p||!ie.isFunction(r[l])||ie.isWindow(r)||((i=r[p])&&(r[p]=null),ie.event.triggered=l,r[l](),ie.event.triggered=void 0,i&&(r[p]=i)),t.result}}},simulate:function(e,t,n){e=ie.extend(new ie.Event,n,{type:e,isSimulated:!0}),ie.event.trigger(e,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}}),ie.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),oe.focusin="onfocusin"in e,oe.focusin||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e))};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Te.access(r,t);o||r.addEventListener(e,n,!0),Te.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Te.access(r,t)-1;o?Te.access(r,t,o):(r.removeEventListener(e,n,!0),Te.remove(r,t))}}});var yt=e.location,gt=ie.now(),vt=/\?/;ie.parseXML=function(t){if(!t||"string"!=typeof t)return null;try{var n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var bt=/\[\]$/,St=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],o=function(e,t){t=ie.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)};if(Array.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){o(this.name,this.value)});else for(n in e)V(n,e[n],t,o);return r.join("&")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Ct.test(this.nodeName)&&!wt.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){return null==(e=ie(this).val())?null:Array.isArray(e)?ie.map(e,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:e.replace(St,"\r\n")}}).get()}});var _t=/%20/g,kt=/#.*$/,Tt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:GET|HEAD)$/,At=/^\/\//,Ot={},Pt={},It="*/".concat("*"),Mt=K.createElement("a");Mt.href=yt.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,ie.ajaxSettings),t):q(ie.ajaxSettings,e)},ajaxPrefilter:H(Ot),ajaxTransport:H(Pt),ajax:function(t,n){function r(t,n,r,a){var c=n;if(!w){if(w=!0,s&&e.clearTimeout(s),o=void 0,i=a||"",b.readyState=0<t?4:0,a=200<=t&&300>t||304===t,r){for(var y,g,v,C,_=u,k=b,T=_.contents,x=_.dataTypes;"*"===x[0];)x.shift(),void 0===y&&(y=_.mimeType||k.getResponseHeader("Content-Type"));if(y)for(g in T)if(T[g]&&T[g].test(y)){x.unshift(g);break}if(x[0]in r)v=x[0];else{for(g in r){if(!x[0]||_.converters[g+" "+x[0]]){v=g;break}C||(C=g)}v=v||C}v?(v!==x[0]&&x.unshift(v),_=r[v]):_=void 0}e:{var E;if(y=_,g=b,v=a,k={},(T=(r=u).dataTypes.slice())[1])for(O in r.converters)k[O.toLowerCase()]=r.converters[O];for(C=T.shift();C;){r.responseFields[C]&&(g[r.responseFields[C]]=y),!A&&v&&r.dataFilter&&(y=r.dataFilter(y,r.dataType));var A=C;if(C=T.shift())if("*"===C)C=A;else if("*"!==A&&A!==C){var O=k[A+" "+C]||k["* "+C];if(!O)for(E in k)if((_=E.split(" "))[1]===C&&(O=k[A+" "+_[0]]||k["* "+_[0]])){!0===O?O=k[E]:!0!==k[E]&&(C=_[0],T.unshift(_[1]));break}if(!0!==O)if(O&&r.throws)y=O(y);else try{y=O(y)}catch(e){_={state:"parsererror",error:O?e:"No conversion from "+A+" to "+C};break e}}}_={state:"success",data:y}}if(a)if(u.ifModified&&((c=b.getResponseHeader("Last-Modified"))&&(ie.lastModified[S]=c),(c=b.getResponseHeader("etag"))&&(ie.etag[S]=c)),204===t||"HEAD"===u.type)c="nocontent";else if(304===t)c="notmodified";else{c=_.state;var P=_.data,I=_.error;a=!I}else I=c,(t||!c)&&(c="error",0>t&&(t=0));b.status=t,b.statusText=(n||c)+"",a?d.resolveWith(p,[P,c,b]):d.rejectWith(p,[b,c,I]),b.statusCode(m),m=void 0,l&&h.trigger(a?"ajaxSuccess":"ajaxError",[b,u,a?P:I]),f.fireWith(p,[b,c]),l&&(h.trigger("ajaxComplete",[b,u]),--ie.active||ie.event.trigger("ajaxStop"))}}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,a,s,l,c,u=ie.ajaxSetup({},n),p=u.context||u,h=u.context&&(p.nodeType||p.jquery)?ie(p):ie.event,d=ie.Deferred(),f=ie.Callbacks("once memory"),m=u.statusCode||{},y={},g={},v="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(w){if(!a)for(a={};t=xt.exec(i);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return w?i:null},setRequestHeader:function(e,t){return null==w&&(e=g[e.toLowerCase()]=g[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==w&&(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(w)b.always(e[b.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){return e=e||v,o&&o.abort(e),r(0,e),this}};if(d.promise(b),u.url=((t||u.url||yt.href)+"").replace(At,yt.protocol+"//"),u.type=n.method||n.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(Se)||[""],null==u.crossDomain){t=K.createElement("a");try{t.href=u.url,t.href=t.href,u.crossDomain=Mt.protocol+"//"+Mt.host!=t.protocol+"//"+t.host}catch(e){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ie.param(u.data,u.traditional)),U(Ot,u,n,b),w)return b;(l=ie.event&&u.global)&&0==ie.active++&&ie.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Et.test(u.type);var S=u.url.replace(kt,"");for(c in u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(_t,"+")):(t=u.url.slice(S.length),u.data&&(S+=(vt.test(S)?"&":"?")+u.data,delete u.data),!1===u.cache&&(S=S.replace(Tt,"$1"),t=(vt.test(S)?"&":"?")+"_="+gt+++t),u.url=S+t),u.ifModified&&(ie.lastModified[S]&&b.setRequestHeader("If-Modified-Since",ie.lastModified[S]),ie.etag[S]&&b.setRequestHeader("If-None-Match",ie.etag[S])),(u.data&&u.hasContent&&!1!==u.contentType||n.contentType)&&b.setRequestHeader("Content-Type",u.contentType),b.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+It+"; q=0.01":""):u.accepts["*"]),u.headers)b.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(!1===u.beforeSend.call(p,b,u)||w))return b.abort();if(v="abort",f.add(u.complete),b.done(u.success),b.fail(u.error),o=U(Pt,u,n,b)){if(b.readyState=1,l&&h.trigger("ajaxSend",[b,u]),w)return b;u.async&&0<u.timeout&&(s=e.setTimeout(function(){b.abort("timeout")},u.timeout));try{var w=!1;o.send(y,r)}catch(e){if(w)throw e;r(-1,e)}}else r(-1,"No Transport");return b},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,o){return ie.isFunction(n)&&(o=o||r,r=n,n=void 0),ie.ajax(ie.extend({url:e,type:t,dataType:o,data:n,success:r},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){return this[0]&&(ie.isFunction(e)&&(e=e.call(this[0])),e=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ie(this).replaceWith(this.childNodes)}),this}}),ie.expr.pseudos.hidden=function(e){return!ie.expr.pseudos.visible(e)},ie.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ie.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Dt={0:200,1223:204},Lt=ie.ajaxSettings.xhr();oe.cors=!!Lt&&"withCredentials"in Lt,oe.ajax=Lt=!!Lt,ie.ajaxTransport(function(t){var n,r;if(oe.cors||Lt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Dt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),ie.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=ie("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}});var Nt=[],Rt=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||ie.expando+"_"+gt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var o,i=!1!==t.jsonp&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");if(i||"jsonp"===t.dataTypes[0]){var a=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;i?t[i]=t[i].replace(Rt,"$1"+a):!1!==t.jsonp&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return o||ie.error(a+" was not called"),o[0]},t.dataTypes[0]="json";var s=e[a];return e[a]=function(){o=arguments},r.always(function(){void 0===s?ie(e).removeProp(a):e[a]=s,t[a]&&(t.jsonpCallback=n.jsonpCallback,Nt.push(a)),o&&ie.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}}),oe.createHTMLDocument=function(){var e=K.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),ie.parseHTML=function(e,t,n){if("string"!=typeof e)return[];if("boolean"==typeof t&&(n=t,t=!1),!t)if(oe.createHTMLDocument){var r=(t=K.implementation.createHTMLDocument("")).createElement("base");r.href=K.location.href,t.head.appendChild(r)}else t=K;return n=!n&&[],(r=fe.exec(e))?[t.createElement(r[1])]:(r=g([e],t,n),n&&n.length&&ie(n).remove(),ie.merge([],r.childNodes))},ie.fn.load=function(e,t,n){var r,o,i=this,a=e.indexOf(" ");if(-1<a){var s=B(e.slice(a));e=e.slice(0,a)}return ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<i.length&&ie.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,i.html(s?ie("<div>").append(ie.parseHTML(e)).find(s):e)}).always(n&&function(e,t){i.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ie.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.pseudos.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length},ie.offset={setOffset:function(e,t,n){var r=ie.css(e,"position"),o=ie(e),i={};"static"===r&&(e.style.position="relative");var a=o.offset(),s=ie.css(e,"top"),l=ie.css(e,"left");("absolute"===r||"fixed"===r)&&-1<(s+l).indexOf("auto")?(s=(l=o.position()).top,l=l.left):(s=parseFloat(s)||0,l=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,ie.extend({},a))),null!=t.top&&(i.top=t.top-a.top+s),null!=t.left&&(i.left=t.left-a.left+l),"using"in t?t.using.call(e,i):o.css(i)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t;if(t=this[0]){if(!t.getClientRects().length)return{top:0,left:0};var n=t.getBoundingClientRect(),r=t.ownerDocument;return t=r.documentElement,r=r.defaultView,{top:n.top+r.pageYOffset-t.clientTop,left:n.left+r.pageXOffset-t.clientLeft}}},position:function(){if(this[0]){var e=this[0],t={top:0,left:0};if("fixed"===ie.css(e,"position"))var n=e.getBoundingClientRect();else{var r=this.offsetParent();n=this.offset(),o(r[0],"html")||(t=r.offset()),t={top:t.top+ie.css(r[0],"borderTopWidth",!0),left:t.left+ie.css(r[0],"borderLeftWidth",!0)}}return{top:n.top-t.top-ie.css(e,"marginTop",!0),left:n.left-t.left-ie.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||Ve})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ie.fn[e]=function(r){return _e(this,function(e,r,o){if(ie.isWindow(e))var i=e;else 9===e.nodeType&&(i=e.defaultView);if(void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=O(oe.pixelPosition,function(e,n){if(n)return n=A(e,t),Ze.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return _e(this,function(t,n,o){return ie.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===o?ie.css(t,n,s):ie.style(t,n,o,s)},t,a?o:void 0,a)}})}),ie.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ie.holdReady=function(e){e?ie.readyWait++:ie.ready(!0)},ie.isArray=Array.isArray,ie.parseJSON=JSON.parse,ie.nodeName=o,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return ie}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__);var jt=e.jQuery,Ft=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=Ft),t&&e.jQuery===ie&&(e.jQuery=jt),ie},t||(e.jQuery=e.$=ie),ie},"object"==typeof module.exports?module.exports=n.document?C(n,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return C(e)}:C(n);var $jscomp=$jscomp||{},g;$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill=function(e,t,n,r){if(t){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];o in n||(n[o]={}),n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),g=this,function(e){function t(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n.charCodeAt(r);if(128>i)e.setUint8(t++,i>>>0&127|0);else if(2048>i)e.setUint8(t++,i>>>6&31|192),e.setUint8(t++,i>>>0&63|128);else if(65536>i)e.setUint8(t++,i>>>12&15|224),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128);else{if(!(1114112>i))throw Error("bad codepoint "+i);e.setUint8(t++,i>>>18&7|240),e.setUint8(t++,i>>>12&63|128),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128)}}}function n(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(128>o)t+=1;else if(2048>o)t+=2;else if(65536>o)t+=3;else{if(!(1114112>o))throw Error("bad codepoint "+o);t+=4}}return t}function r(e){var r=new ArrayBuffer(function e(t){var r=typeof t;if("string"===r){var o=n(t);if(32>o)return 1+o;if(256>o)return 2+o;if(65536>o)return 3+o;if(4294967296>o)return 5+o}if(t instanceof Uint8Array){if(256>(o=t.byteLength))return 2+o;if(65536>o)return 3+o;if(4294967296>o)return 5+o}if("number"===r){if(Math.floor(t)!==t)return 9;if(0<=t){if(128>t)return 1;if(256>t)return 2;if(65536>t)return 3;if(4294967296>t)return 5;throw Error("Number too big 0x"+t.toString(16))}if(-32<=t)return 1;if(-128<=t)return 2;if(-32768<=t)return 3;if(-2147483648<=t)return 5;throw Error("Number too small -0x"+t.toString(16).substr(1))}if("boolean"===r||null===t)return 1;if("object"===r){if(r=0,Array.isArray(t)){o=t.length;for(var i=0;i<o;i++)r+=e(t[i])}else{var a=Object.keys(t);for(o=a.length,i=0;i<o;i++){var s=a[i];r+=e(s)+e(t[s])}}if(16>o)return 1+r;if(65536>o)return 3+r;if(4294967296>o)return 5+r;throw Error("Array or object too long 0x"+o.toString(16))}throw Error("Unknown type "+r)}(e)),o=new DataView(r);return function e(r,o,i){var a=typeof r;if("string"===a){var s=n(r);if(32>s)return o.setUint8(i,160|s),t(o,i+1,r),1+s;if(256>s)return o.setUint8(i,217),o.setUint8(i+1,s),t(o,i+2,r),2+s;if(65536>s)return o.setUint8(i,218),o.setUint16(i+1,s),t(o,i+3,r),3+s;if(4294967296>s)return o.setUint8(i,219),o.setUint32(i+1,s),t(o,i+5,r),5+s}if(r instanceof Uint8Array){s=r.byteLength;var l=new Uint8Array(o.buffer);if(256>s)return o.setUint8(i,196),o.setUint8(i+1,s),l.set(r,i+2),2+s;if(65536>s)return o.setUint8(i,197),o.setUint16(i+1,s),l.set(r,i+3),3+s;if(4294967296>s)return o.setUint8(i,198),o.setUint32(i+1,s),l.set(r,i+5),5+s}if("number"===a){if(!isFinite(r))throw Error("Number not finite: "+r);if(Math.floor(r)!==r)return o.setUint8(i,203),o.setFloat64(i+1,r),9;if(0<=r){if(128>r)return o.setUint8(i,r),1;if(256>r)return o.setUint8(i,204),o.setUint8(i+1,r),2;if(65536>r)return o.setUint8(i,205),o.setUint16(i+1,r),3;if(4294967296>r)return o.setUint8(i,206),o.setUint32(i+1,r),5;throw Error("Number too big 0x"+r.toString(16))}if(-32<=r)return o.setInt8(i,r),1;if(-128<=r)return o.setUint8(i,208),o.setInt8(i+1,r),2;if(-32768<=r)return o.setUint8(i,209),o.setInt16(i+1,r),3;if(-2147483648<=r)return o.setUint8(i,210),o.setInt32(i+1,r),5;throw Error("Number too small -0x"+(-r).toString(16).substr(1))}if(null===r)return o.setUint8(i,192),1;if("boolean"===a)return o.setUint8(i,r?195:194),1;if("object"===a){if(a=0,l=Array.isArray(r))s=r.length;else{var c=Object.keys(r);s=c.length}if(16>s?(o.setUint8(i,s|(l?144:128)),a=1):65536>s?(o.setUint8(i,l?220:222),o.setUint16(i+1,s),a=3):4294967296>s&&(o.setUint8(i,l?221:223),o.setUint32(i+1,s),a=5),l)for(l=0;l<s;l++)a+=e(r[l],o,i+a);else for(l=0;l<s;l++){var u=c[l];a+=e(u,o,i+a),a+=e(r[u],o,i+a)}return a}throw Error("Unknown type "+a)}(e,o,0),new Uint8Array(r)}function o(e,t,n){return t?new e(t.buffer,t.byteOffset,t.byteLength/(n||1)):void 0}function i(e,t){var n=e.length/2;t||(t=new Int16Array(n));for(var r=0,o=0;r<n;++r,o+=2)t[r]=e[o]<<8^e[o+1]<<0;return t}function a(e,t){var n=e.length/4;t||(t=new Int32Array(n));for(var r=0,o=0;r<n;++r,o+=4)t[r]=e[o]<<24^e[o+1]<<16^e[o+2]<<8^e[o+3]<<0;return t}function s(e,t){var n=e.length;t||(t=new Uint8Array(4*n));for(var r=o(DataView,t),i=0;i<n;++i)r.setInt32(4*i,e[i]);return o(Uint8Array,t)}function l(e,t,n){var r=e.length;t=1/t,n||(n=new Float32Array(r));for(var o=0;o<r;++o)n[o]=e[o]*t;return n}function c(e,t,n){var r=e.length;n||(n=new Int32Array(r));for(var o=0;o<r;++o)n[o]=Math.round(e[o]*t);return n}function u(e,t){var n;if(!t){var r=t=0;for(n=e.length;r<n;r+=2)t+=e[r+1];t=new e.constructor(t)}var o=0;for(r=0,n=e.length;r<n;r+=2)for(var i=e[r],a=e[r+1],s=0;s<a;++s)t[o]=i,++o;return t}function p(e){if(0===e.length)return new Int32Array;var t,n=2,r=1;for(t=e.length;r<t;++r)e[r-1]!==e[r]&&(n+=2);n=new Int32Array(n);var o=0,i=1;for(r=1,t=e.length;r<t;++r)e[r-1]!==e[r]?(n[o]=e[r-1],n[o+1]=i,i=1,o+=2):++i;return n[o]=e[e.length-1],n[o+1]=i,n}function h(e,t){var n=e.length;t||(t=new e.constructor(n)),n&&(t[0]=e[0]);for(var r=1;r<n;++r)t[r]=e[r]+t[r-1];return t}function d(e,t){var n=e.length;t||(t=new e.constructor(n)),t[0]=e[0];for(var r=1;r<n;++r)t[r]=e[r]-e[r-1];return t}function f(e,t){var n,r,o=e instanceof Int8Array?127:32767,i=-o-1,a=e.length;if(!t){for(n=t=0;n<a;++n)e[n]<o&&e[n]>i&&++t;t=new Int32Array(t)}for(r=n=0;n<a;){for(var s=0;e[n]===o||e[n]===i;)s+=e[n],++n;s+=e[n],++n,t[r]=s,++r}return t}function m(e,t,n,r){var o=new ArrayBuffer(12+r.byteLength),i=new Uint8Array(o);return(o=new DataView(o)).setInt32(0,e),o.setInt32(4,t),n&&i.set(n,8),i.set(r,12),i}function y(e){var t=e.length;return e=o(Uint8Array,e),m(2,t,void 0,e)}function g(e){var t=e.length;return e=s(e),m(4,t,void 0,e)}function v(e,t){var n=e.length/t;return t=s([t]),e=o(Uint8Array,e),m(5,n,t,e)}function b(e){var t=e.length;return e=s(p(e)),m(6,t,void 0,e)}function S(e){var t=e.length;return e=s(p(d(e))),m(8,t,void 0,e)}function w(e,t){var n,r=e.length,i=s([t]),a=(t=d(c(e,t),void 0)).length;for(n=e=0;n<a;++n){var l=t[n];0===l?++e:e=32767===l||-32768===l?e+2:0<l?e+Math.ceil(l/32767):e+Math.ceil(l/-32768)}e=new Int16Array(e);var u=0;for(n=0;n<a;++n){if(0<=(l=t[n]))for(;32767<=l;)e[u]=32767,++u,l-=32767;else for(;-32768>=l;)e[u]=-32768,++u,l-=-32768;e[u]=l,++u}for(t=void 0,l=e.length,t||(t=new Uint8Array(2*l)),n=o(DataView,t),a=0;a<l;++a)n.setInt16(2*a,e[a]);return e=o(Uint8Array,t),m(10,r,i,e)}function C(e){var t={};return E.forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),e.bondAtomList&&(t.bondAtomList=g(e.bondAtomList)),e.bondOrderList&&(t.bondOrderList=y(e.bondOrderList)),t.xCoordList=w(e.xCoordList,1e3),t.yCoordList=w(e.yCoordList,1e3),t.zCoordList=w(e.zCoordList,1e3),e.bFactorList&&(t.bFactorList=w(e.bFactorList,100)),e.atomIdList&&(t.atomIdList=S(e.atomIdList)),e.altLocList&&(t.altLocList=b(e.altLocList)),e.occupancyList&&(t.occupancyList=function(e,t){var n=e.length,r=s([t]);return e=s(p(c(e,t))),m(9,n,r,e)}(e.occupancyList,100)),t.groupIdList=S(e.groupIdList),t.groupTypeList=g(e.groupTypeList),e.secStructList&&(t.secStructList=y(e.secStructList)),e.insCodeList&&(t.insCodeList=b(e.insCodeList)),e.sequenceIndexList&&(t.sequenceIndexList=S(e.sequenceIndexList)),t.chainIdList=v(e.chainIdList,4),e.chainNameList&&(t.chainNameList=v(e.chainNameList,4)),t}function _(e){function t(e){for(var t={},n=0;n<e;n++){var r=i();t[r]=i()}return t}function n(t){var n=e.subarray(a,a+t);return a+=t,n}function r(t){var n=e.subarray(a,a+t);if(a+=t,65535<t){t=[];for(var r=0;r<n.length;r+=65535)t.push(String.fromCharCode.apply(null,n.subarray(r,r+65535)));return t.join("")}return String.fromCharCode.apply(null,n)}function o(e){for(var t=Array(e),n=0;n<e;n++)t[n]=i();return t}function i(){var i=e[a];if(0==(128&i))return a++,i;if(128==(240&i))return a++,t(15&i);if(144==(240&i))return a++,o(15&i);if(160==(224&i))return a++,r(31&i);if(224==(224&i))return i=s.getInt8(a),a++,i;switch(i){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return i=s.getUint8(a+1),a+=2,n(i);case 197:return i=s.getUint16(a+1),a+=3,n(i);case 198:return i=s.getUint32(a+1),a+=5,n(i);case 202:return i=s.getFloat32(a+1),a+=5,i;case 203:return i=s.getFloat64(a+1),a+=9,i;case 204:return i=e[a+1],a+=2,i;case 205:return i=s.getUint16(a+1),a+=3,i;case 206:return i=s.getUint32(a+1),a+=5,i;case 208:return i=s.getInt8(a+1),a+=2,i;case 209:return i=s.getInt16(a+1),a+=3,i;case 210:return i=s.getInt32(a+1),a+=5,i;case 217:return i=s.getUint8(a+1),a+=2,r(i);case 218:return i=s.getUint16(a+1),a+=3,r(i);case 219:return i=s.getUint32(a+1),a+=5,r(i);case 220:return i=s.getUint16(a+1),a+=3,o(i);case 221:return i=s.getUint32(a+1),a+=5,o(i);case 222:return i=s.getUint16(a+1),a+=3,t(i);case 223:return i=s.getUint32(a+1),a+=5,t(i)}throw Error("Unknown type 0x"+i.toString(16))}var a=0,s=new DataView(e.buffer);return i()}function k(e,t){var n=(t=t||{}).ignoreFields,r={};return A.forEach(function(t){var s=!!n&&-1!==n.indexOf(t),c=e[t];s||void 0===c||(r[t]=c instanceof Uint8Array?function(e,t,n,r){switch(e){case 1:r=void 0,n=t.length,r||(r=new Float32Array(n/4)),e=o(DataView,r),t=o(DataView,t);var s=0,c=0;for(n/=4;s<n;++s,c+=4)e.setFloat32(c,t.getFloat32(c),!0);return r;case 2:return o(Int8Array,t);case 3:return i(t);case 4:return a(t);case 5:return o(Uint8Array,t);case 6:return u(a(t),new Uint8Array(n));case 7:return u(a(t));case 8:return h(u(r=a(t)),void 0);case 9:return e=a(t),r=a(r)[0],l(u(e,o(Int32Array,void 0,4)),r,void 0);case 10:return e=i(t),r=a(r)[0],e=f(e,o(Int32Array,void 0,4)),t=o(Float32Array,e,4),l(h(e,o(Int32Array,t,4)),r,t);case 11:return l(i(t),a(r)[0]);case 12:return e=i(t),r=a(r)[0],l(f(e,o(Int32Array,void 0,4)),r,void 0);case 13:return e=o(Int8Array,t),r=a(r)[0],l(f(e,o(Int32Array,void 0,4)),r,void 0);case 14:return f(i(t));case 15:return f(o(Int8Array,t))}}.apply(null,function(e){var t=o(DataView,e),n=t.getInt32(0);t=t.getInt32(4);var r=e.subarray(8,12);return e=e.subarray(12),[n,e,t,r]}(c)):c)}),r}function T(e,t){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),k(e=e instanceof Uint8Array?_(e):e,t)}function x(e,t,n,r){var o=new XMLHttpRequest;o.addEventListener("load",function(){try{var e=T(o.response);n(e)}catch(e){r(e)}},!0),o.addEventListener("error",r,!0),o.responseType="arraybuffer",o.open("GET",t+e.toUpperCase()),o.send()}var E="mmtfVersion mmtfProducer unitCell spaceGroup structureId title depositionDate releaseDate experimentalMethods resolution rFree rWork bioAssemblyList ncsOperatorList entityList groupList numBonds numAtoms numGroups numChains numModels groupsPerChain chainsPerModel".split(" "),A=E.concat("xCoordList yCoordList zCoordList groupIdList groupTypeList chainIdList bFactorList atomIdList altLocList occupancyList secStructList insCodeList sequenceIndexList chainNameList bondAtomList bondOrderList".split(" "));e.encode=function(e){return r(C(e))},e.decode=T,e.traverse=function(e,t,n){n=(n=n||{}).firstModelOnly;var r=t.onModel,o=t.onChain,i=t.onGroup,a=t.onAtom;t=t.onBond;var s,l,c=0,u=0,p=0,h=0,d=-1,f=e.chainNameList,m=e.secStructList,y=e.insCodeList,g=e.sequenceIndexList,v=e.atomIdList,b=e.bFactorList,S=e.altLocList,w=e.occupancyList,C=e.bondAtomList,_=e.bondOrderList,k=0;for(l=e.chainsPerModel.length;k<l&&!(n&&0<c);++k){var T=e.chainsPerModel[c];for(r&&r({chainCount:T,modelIndex:c}),s=0;s<T;++s){var x=e.groupsPerChain[u];if(o){var E=String.fromCharCode.apply(null,e.chainIdList.subarray(4*u,4*u+4)).replace(/\0/g,""),A=null;f&&(A=String.fromCharCode.apply(null,f.subarray(4*u,4*u+4)).replace(/\0/g,"")),o({groupCount:x,chainIndex:u,modelIndex:c,chainId:E,chainName:A})}for(E=0;E<x;++E){var O=e.groupList[e.groupTypeList[p]],P=O.atomNameList.length;if(i){A=null,m&&(A=m[p]);var I=null;e.insCodeList&&(I=String.fromCharCode(y[p]));var M=null;g&&(M=g[p]),i({atomCount:P,groupIndex:p,chainIndex:u,modelIndex:c,groupId:e.groupIdList[p],groupType:e.groupTypeList[p],groupName:O.groupName,singleLetterCode:O.singleLetterCode,chemCompType:O.chemCompType,secStruct:A,insCode:I,sequenceIndex:M})}for(A=0;A<P;++A){if(a){I=null,v&&(I=v[h]),M=null,b&&(M=b[h]);var D=null;S&&(D=String.fromCharCode(S[h]));var L=null;w&&(L=w[h]),a({atomIndex:h,groupIndex:p,chainIndex:u,modelIndex:c,atomId:I,element:O.elementList[A],atomName:O.atomNameList[A],formalCharge:O.formalChargeList[A],xCoord:e.xCoordList[h],yCoord:e.yCoordList[h],zCoord:e.zCoordList[h],bFactor:M,altLoc:D,occupancy:L})}h+=1}if(t)for(M=O.bondAtomList,A=0,I=O.bondOrderList.length;A<I;++A)t({atomIndex1:h-P+M[2*A],atomIndex2:h-P+M[2*A+1],bondOrder:O.bondOrderList[A]});p+=1}u+=1}if(s=d+1,d=h-1,t&&C)for(A=0,I=C.length;A<I;A+=2)T=C[A],x=C[A+1],(T>=s&&T<=d||x>=s&&x<=d)&&t({atomIndex1:T,atomIndex2:x,bondOrder:_?_[A/2]:null});c+=1}},e.fetch=function(e,t,n){x(e,"http://mmtf.rcsb.org/v1.0/full/",t,n)},e.fetchReduced=function(e,t,n){x(e,"http://mmtf.rcsb.org/v1.0/reduced/",t,n)},e.version="v1.0.0",e.fetchUrl="http://mmtf.rcsb.org/v1.0/full/",e.fetchReducedUrl="http://mmtf.rcsb.org/v1.0/reduced/",e.encodeMsgpack=r,e.encodeMmtf=C,e.decodeMsgpack=_,e.decodeMmtf=k,Object.defineProperty(e,"__esModule",{value:!0})}(g.MMTF=g.MMTF||{}),module.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return require(a,!0);if(i)return i(a,!0);throw(s=Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}s=n[a]={exports:{}},t[a][0].call(s.exports,function(e){var n=t[a][1][e];return o(n||e)},s,s.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r=n=0;for(t=e.length;r<t;r++)n+=e[r].length;var o=new Uint8Array(n);for(r=n=0,t=e.length;r<t;r++){var i=e[r];o.set(i,n),n+=i.length}return o}},o={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(e)},{}],2:[function(e,t,n){function r(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var o=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}var s=new o.Buf8(256);for(e=0;256>e;e++)s[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,r=e.length,i=0;for(t=0;t<r;t++){var a=e.charCodeAt(t);if(55296==(64512&a)&&t+1<r){var s=e.charCodeAt(t+1);56320==(64512&s)&&(a=65536+(a-55296<<10)+(s-56320),t++)}i+=128>a?1:2048>a?2:65536>a?3:4}var l=new o.Buf8(i);for(t=n=0;n<i;t++)55296==(64512&(a=e.charCodeAt(t)))&&t+1<r&&56320==(64512&(s=e.charCodeAt(t+1)))&&(a=65536+(a-55296<<10)+(s-56320),t++),128>a?l[n++]=a:(2048>a?l[n++]=192|a>>>6:(65536>a?l[n++]=224|a>>>12:(l[n++]=240|a>>>18,l[n++]=128|a>>>12&63),l[n++]=128|a>>>6&63),l[n++]=128|63&a);return l},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o=t||e.length,i=Array(2*o);for(t=n=0;t<o;){var a=e[t++];if(128>a)i[n++]=a;else{var l=s[a];if(4<l)i[n++]=65533,t+=l-1;else{for(a&=2===l?31:3===l?15:7;1<l&&t<o;)a=a<<6|63&e[t++],l--;1<l?i[n++]=65533:65536>a?i[n++]=a:(a-=65536,i[n++]=55296|a>>10&1023,i[n++]=56320|1023&a)}}}return r(i,n)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return 0>n||0===n?t:n+s[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){t.exports=function(e,t,n,r){var o,i=65535&e|0;for(e=e>>>16&65535|0;0!==n;){n-=o=2e3<n?2e3:n;do{i=i+t[r++]|0,e=e+i|0}while(--o);i%=65521,e%=65521}return i|e<<16|0}},{}],4:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,n){var r=function(){for(var e,t=[],n=0;256>n;n++){e=n;for(var r=0;8>r;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,o){for(n=o+n,e^=-1;o<n;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,n){t.exports=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,n){t.exports=function(e,t){var n=e.state,r=e.next_in,o=e.input,i=r+(e.avail_in-5),a=e.next_out,s=e.output;t=a-(t-e.avail_out);var l=a+(e.avail_out-257),c=n.dmax,u=n.wsize,p=n.whave,h=n.wnext,d=n.window,f=n.hold,m=n.bits,y=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{15>m&&(f+=o[r++]<<m,m+=8,f+=o[r++]<<m,m+=8);var S=y[f&v];t:for(;;){var w=S>>>24;if(f>>>=w,m-=w,0==(w=S>>>16&255))s[a++]=65535&S;else{if(!(16&w)){if(0==(64&w)){S=y[(65535&S)+(f&(1<<w)-1)];continue t}32&w?n.mode=12:(e.msg="invalid literal/length code",n.mode=30);break e}var C=65535&S;(w&=15)&&(m<w&&(f+=o[r++]<<m,m+=8),C+=f&(1<<w)-1,f>>>=w,m-=w),15>m&&(f+=o[r++]<<m,m+=8,f+=o[r++]<<m,m+=8),S=g[f&b];n:for(;;){if(f>>>=w=S>>>24,m-=w,!(16&(w=S>>>16&255))){if(0==(64&w)){S=g[(65535&S)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S&=65535,m<(w&=15)&&(f+=o[r++]<<m,(m+=8)<w&&(f+=o[r++]<<m,m+=8)),(S+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,m-=w,S>(w=a-t)){if((w=S-w)>p&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}var _=0,k=d;if(0===h){if(_+=u-w,w<C){C-=w;do{s[a++]=d[_++]}while(--w);_=a-S,k=s}}else if(h<w){if(_+=u+h-w,(w-=h)<C){C-=w;do{s[a++]=d[_++]}while(--w);if(_=0,h<C){C-=w=h;do{s[a++]=d[_++]}while(--w);_=a-S,k=s}}}else if(_+=h-w,w<C){C-=w;do{s[a++]=d[_++]}while(--w);_=a-S,k=s}for(;2<C;)s[a++]=k[_++],s[a++]=k[_++],s[a++]=k[_++],C-=3;C&&(s[a++]=k[_++],1<C&&(s[a++]=k[_++]))}else{_=a-S;do{s[a++]=s[_++],s[a++]=s[_++],s[a++]=s[_++],C-=3}while(2<C);C&&(s[a++]=s[_++],1<C&&(s[a++]=s[_++]))}break}}break}}while(r<i&&a<l);r-=C=m>>3,m-=C<<3,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<l?l-a+257:257-(a-l),n.hold=f&(1<<m)-1,n.bits=m}},{}],8:[function(e,t,n){function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function i(e){if(!e||!e.state)return-2;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new p.Buf32(852),t.distcode=t.distdyn=new p.Buf32(592),t.sane=1,t.back=-1,0}function a(e){if(!e||!e.state)return-2;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,i(e)}function s(e,t){if(!e||!e.state)return-2;var n=e.state;if(0>t){var r=0;t=-t}else r=1+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,a(e))}function l(e,t){if(!e)return-2;var n=new o;return e.state=n,n.window=null,0!==(t=s(e,t))&&(e.state=null),t}var c,u,p=e("../utils/common"),h=e("./adler32"),d=e("./crc32"),f=e("./inffast"),m=e("./inftrees"),y=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=i,n.inflateInit=function(e){return l(e,15)},n.inflateInit2=l,n.inflate=function(e,t){var n,o=new p.Buf8(4),i=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var a=e.state;12===a.mode&&(a.mode=13);var s=e.next_out,l=e.output,g=e.avail_out,v=e.next_in,b=e.input,S=e.avail_in,w=a.hold,C=a.bits,_=S,k=g,T=0;e:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;16>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(2&a.wrap&&35615===w){a.check=0,o[0]=255&w,o[1]=w>>>8&255,a.check=d(a.check,o,2,0),C=w=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",a.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",a.mode=30;break}C-=4;var x=8+(15&(w>>>=4));if(0===a.wbits)a.wbits=x;else if(x>a.wbits){e.msg="invalid window size",a.mode=30;break}a.dmax=1<<x,e.adler=a.check=1,a.mode=512&w?10:12,C=w=0;break;case 2:for(;16>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(a.flags=w,8!=(255&a.flags)){e.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=w>>8&1),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,a.check=d(a.check,o,2,0)),C=w=0,a.mode=3;case 3:for(;32>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}a.head&&(a.head.time=w),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,o[2]=w>>>16&255,o[3]=w>>>24&255,a.check=d(a.check,o,4,0)),C=w=0,a.mode=4;case 4:for(;16>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}a.head&&(a.head.xflags=255&w,a.head.os=w>>8),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,a.check=d(a.check,o,2,0)),C=w=0,a.mode=5;case 5:if(1024&a.flags){for(;16>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}a.length=w,a.head&&(a.head.extra_len=w),512&a.flags&&(o[0]=255&w,o[1]=w>>>8&255,a.check=d(a.check,o,2,0)),C=w=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags){var E=a.length;if(E>S&&(E=S),E&&(a.head&&(x=a.head.extra_len-a.length,a.head.extra||(a.head.extra=Array(a.head.extra_len)),p.arraySet(a.head.extra,b,v,E,x)),512&a.flags&&(a.check=d(a.check,b,E,v)),S-=E,v+=E,a.length-=E),a.length)break e}a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===S)break e;E=0;do{x=b[v+E++],a.head&&x&&65536>a.length&&(a.head.name+=String.fromCharCode(x))}while(x&&E<S);if(512&a.flags&&(a.check=d(a.check,b,E,v)),S-=E,v+=E,x)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===S)break e;E=0;do{x=b[v+E++],a.head&&x&&65536>a.length&&(a.head.comment+=String.fromCharCode(x))}while(x&&E<S);if(512&a.flags&&(a.check=d(a.check,b,E,v)),S-=E,v+=E,x)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;16>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(w!==(65535&a.check)){e.msg="header crc mismatch",a.mode=30;break}C=w=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=12;break;case 10:for(;32>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}e.adler=a.check=r(w),C=w=0,a.mode=11;case 11:if(0===a.havedict)return e.next_out=s,e.avail_out=g,e.next_in=v,e.avail_in=S,a.hold=w,a.bits=C,2;e.adler=a.check=1,a.mode=12;case 12:if(5===t||6===t)break e;case 13:if(a.last){w>>>=7&C,C-=7&C,a.mode=27;break}for(;3>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}switch(a.last=1&w,--C,3&(w>>>=1)){case 0:a.mode=14;break;case 1:if(x=a,y){for(c=new p.Buf32(512),u=new p.Buf32(32),E=0;144>E;)x.lens[E++]=8;for(;256>E;)x.lens[E++]=9;for(;280>E;)x.lens[E++]=7;for(;288>E;)x.lens[E++]=8;for(m(1,x.lens,0,288,c,0,x.work,{bits:9}),E=0;32>E;)x.lens[E++]=5;m(2,x.lens,0,32,u,0,x.work,{bits:5}),y=!1}if(x.lencode=c,x.lenbits=9,x.distcode=u,x.distbits=5,a.mode=20,6===t){w>>>=2,C-=2;break e}break;case 2:a.mode=17;break;case 3:e.msg="invalid block type",a.mode=30}w>>>=2,C-=2;break;case 14:for(w>>>=7&C,C-=7&C;32>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&w,C=w=0,a.mode=15,6===t)break e;case 15:a.mode=16;case 16:if(E=a.length){if(E>S&&(E=S),E>g&&(E=g),0===E)break e;p.arraySet(l,b,v,E,s),S-=E,v+=E,g-=E,s+=E,a.length-=E;break}a.mode=12;break;case 17:for(;14>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(a.nlen=257+(31&w),w>>>=5,C-=5,a.ndist=1+(31&w),w>>>=5,C-=5,a.ncode=4+(15&w),w>>>=4,C-=4,286<a.nlen||30<a.ndist){e.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;3>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}a.lens[i[a.have++]]=7&w,w>>>=3,C-=3}for(;19>a.have;)a.lens[i[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},T=m(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,T){e.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;;){var A=a.lencode[w&(1<<a.lenbits)-1];if(E=A>>>24,A&=65535,E<=C)break;if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(16>A)w>>>=E,C-=E,a.lens[a.have++]=A;else{if(16===A){for(x=E+2;C<x;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(w>>>=E,C-=E,0===a.have){e.msg="invalid bit length repeat",a.mode=30;break}x=a.lens[a.have-1],E=3+(3&w),w>>>=2,C-=2}else if(17===A){for(x=E+3;C<x;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}C-=E,x=0,E=3+(7&(w>>>=E)),w>>>=3,C-=3}else{for(x=E+7;C<x;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}C-=E,x=0,E=11+(127&(w>>>=E)),w>>>=7,C-=7}if(a.have+E>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=30;break}for(;E--;)a.lens[a.have++]=x}}if(30===a.mode)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,E={bits:a.lenbits},T=m(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,T){e.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},T=m(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,T){e.msg="invalid distances set",a.mode=30;break}if(a.mode=20,6===t)break e;case 20:a.mode=21;case 21:if(6<=S&&258<=g){e.next_out=s,e.avail_out=g,e.next_in=v,e.avail_in=S,a.hold=w,a.bits=C,f(e,k),s=e.next_out,l=e.output,g=e.avail_out,v=e.next_in,b=e.input,S=e.avail_in,w=a.hold,C=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;A=a.lencode[w&(1<<a.lenbits)-1],E=A>>>24,x=A>>>16&255,A&=65535,!(E<=C);){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(x&&0==(240&x)){var O=E,P=x;for(n=A;A=a.lencode[n+((w&(1<<O+P)-1)>>O)],E=A>>>24,x=A>>>16&255,A&=65535,!(O+E<=C);){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}w>>>=O,C-=O,a.back+=O}if(w>>>=E,C-=E,a.back+=E,a.length=A,0===x){a.mode=26;break}if(32&x){a.back=-1,a.mode=12;break}if(64&x){e.msg="invalid literal/length code",a.mode=30;break}a.extra=15&x,a.mode=22;case 22:if(a.extra){for(x=a.extra;C<x;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}a.length+=w&(1<<a.extra)-1,w>>>=a.extra,C-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;A=a.distcode[w&(1<<a.distbits)-1],E=A>>>24,x=A>>>16&255,A&=65535,!(E<=C);){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(0==(240&x)){for(O=E,P=x,n=A;A=a.distcode[n+((w&(1<<O+P)-1)>>O)],E=A>>>24,x=A>>>16&255,A&=65535,!(O+E<=C);){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}w>>>=O,C-=O,a.back+=O}if(w>>>=E,C-=E,a.back+=E,64&x){e.msg="invalid distance code",a.mode=30;break}a.offset=A,a.extra=15&x,a.mode=24;case 24:if(a.extra){for(x=a.extra;C<x;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}a.offset+=w&(1<<a.extra)-1,w>>>=a.extra,C-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(0===g)break e;if(E=k-g,a.offset>E){if((E=a.offset-E)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=30;break}E>a.wnext?(E-=a.wnext,x=a.wsize-E):x=a.wnext-E,E>a.length&&(E=a.length),O=a.window}else O=l,x=s-a.offset,E=a.length;E>g&&(E=g),g-=E,a.length-=E;do{l[s++]=O[x++]}while(--E);0===a.length&&(a.mode=21);break;case 26:if(0===g)break e;l[s++]=a.length,g--,a.mode=21;break;case 27:if(a.wrap){for(;32>C;){if(0===S)break e;S--,w|=b[v++]<<C,C+=8}if(k-=g,e.total_out+=k,a.total+=k,k&&(e.adler=a.check=a.flags?d(a.check,l,k,s-k):h(a.check,l,k,s-k)),k=g,(a.flags?w:r(w))!==a.check){e.msg="incorrect data check",a.mode=30;break}C=w=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;32>C;){if(0===S)break e;S--,w+=b[v++]<<C,C+=8}if(w!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=30;break}C=w=0}a.mode=29;case 29:T=1;break e;case 30:T=-3;break e;case 31:return-4;default:return-2}return e.next_out=s,e.avail_out=g,e.next_in=v,e.avail_in=S,a.hold=w,a.bits=C,(a.wsize||k!==e.avail_out&&30>a.mode&&(27>a.mode||4!==t))&&(b=e.output,v=e.next_out,s=k-e.avail_out,null===(g=e.state).window&&(g.wsize=1<<g.wbits,g.wnext=0,g.whave=0,g.window=new p.Buf8(g.wsize)),s>=g.wsize?(p.arraySet(g.window,b,v-g.wsize,g.wsize,0),g.wnext=0,g.whave=g.wsize):((S=g.wsize-g.wnext)>s&&(S=s),p.arraySet(g.window,b,v-s,S,g.wnext),(s-=S)?(p.arraySet(g.window,b,v-s,s,0),g.wnext=s,g.whave=g.wsize):(g.wnext+=S,g.wnext===g.wsize&&(g.wnext=0),g.whave<g.wsize&&(g.whave+=S)))),_-=e.avail_in,k-=e.avail_out,e.total_in+=_,e.total_out+=k,a.total+=k,a.wrap&&k&&(e.adler=a.check=a.flags?d(a.check,l,k,e.next_out-k):h(a.check,l,k,e.next_out-k)),e.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===_&&0===k||4===t)&&0===T&&(T=-5),T},n.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){return e&&e.state?0==(2&(e=e.state).wrap)?-2:(e.head=t,t.done=!1,0):-2},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,n){var r=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,p,h){var d,f,m,y,g,v,b,S=h.bits,w=0,C=new r.Buf16(16),_=new r.Buf16(16),k=0;for(d=0;15>=d;d++)C[d]=0;for(f=0;f<l;f++)C[t[n+f]]++;var T=S;for(m=15;1<=m&&0===C[m];m--);if(T>m&&(T=m),0===m)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(S=1;S<m&&0===C[S];S++);for(T<S&&(T=S),d=y=1;15>=d;d++)if(y<<=1,0>(y-=C[d]))return-1;if(0<y&&(0===e||1!==m))return-1;for(_[1]=0,d=1;15>d;d++)_[d+1]=_[d]+C[d];for(f=0;f<l;f++)0!==t[n+f]&&(p[_[t[n+f]]++]=f);if(0===e)var x=b=p,E=19;else 1===e?(x=o,w-=257,b=i,k-=257,E=256):(x=a,b=s,E=-1);f=g=0,d=S;var A=u;l=T,_=0;var O=-1,P=1<<T,I=P-1;if(1===e&&852<P||2===e&&592<P)return 1;for(;;){var M=d-_;if(p[f]<E)var D=0,L=p[f];else p[f]>E?(D=b[k+p[f]],L=x[w+p[f]]):(D=96,L=0);y=1<<d-_,S=v=1<<l;do{c[A+(g>>_)+(v-=y)]=M<<24|D<<16|L|0}while(0!==v);for(y=1<<d-1;g&y;)y>>=1;if(0!==y?(g&=y-1,g+=y):g=0,f++,0==--C[d]){if(d===m)break;d=t[n+p[f]]}if(d>T&&(g&I)!==O){for(0===_&&(_=T),A+=S,y=1<<(l=d-_);l+_<m&&!(0>=(y-=C[l+_]));)l++,y<<=1;if(P+=1<<l,1===e&&852<P||2===e&&592<P)return 1;c[O=g&I]=T<<24|l<<16|A-u|0}}return 0!==g&&(c[A+g]=d-_<<24|4194304),h.bits=T,0}},{"../utils/common":1}],10:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,n){t.exports=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,n){function r(e,t){if((t=new h(t)).push(e,!0),t.err)throw t.msg;return t.result}var o=e("./zlib/inflate.js"),i=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/constants"),l=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),p=Object.prototype.toString,h=function(e){var t=this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0,(e=o.inflateInit2(this.strm,t.windowBits))!==s.Z_OK)throw Error(l[e]);this.header=new u,o.inflateGetHeader(this.strm,this.header)};h.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;t=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?n.input=a.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new i.Buf8(r),n.next_out=0,n.avail_out=r),(e=o.inflate(n,s.Z_NO_FLUSH))!==s.Z_STREAM_END&&e!==s.Z_OK)return this.onEnd(e),this.ended=!0,!1;if(n.next_out&&(0===n.avail_out||e===s.Z_STREAM_END||0===n.avail_in&&(t===s.Z_FINISH||t===s.Z_SYNC_FLUSH)))if("string"===this.options.to){var l=a.utf8border(n.output,n.next_out),c=n.next_out-l,u=a.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&i.arraySet(n.output,n.output,l,c,0),this.onData(u)}else this.onData(i.shrinkBuf(n.output,n.next_out))}while(0<n.avail_in&&e!==s.Z_STREAM_END);return e===s.Z_STREAM_END&&(t=s.Z_FINISH),t===s.Z_FINISH?(e=o.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===s.Z_OK):(t===s.Z_SYNC_FLUSH&&(this.onEnd(s.Z_OK),n.avail_out=0),!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=r,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,r(e,t)},n.ungzip=r},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js");var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.polyfill=function(e,t,n,r){if(t){for(n=$jscomp.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];o in n||(n[o]={}),n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(e){function t(){this.batch_=null}function n(e){return e instanceof o?e:new o(function(t,n){t(e)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;t.prototype.asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},t.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var r=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){r(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var n=e[t];delete e[t];try{n()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var o=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};o.prototype.createResolveAndReject_=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},o.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof o)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},o.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},o.prototype.reject_=function(e){this.settle_(2,e)},o.prototype.fulfill_=function(e){this.settle_(1,e)},o.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},o.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=this.onSettledCallbacks_,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.onSettledCallbacks_=null}};var i=new t;return o.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},o.prototype.settleSameAsThenable_=function(e,t){var n=this.createResolveAndReject_();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},o.prototype.then=function(e,t){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){i(e)}}:t}var r,i,a=new o(function(e,t){r=e,i=t});return this.callWhenSettled_(n(e,r),n(t,i)),a},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.callWhenSettled_=function(e,t){function n(){switch(r.state_){case 1:e(r.result_);break;case 2:t(r.result_);break;default:throw Error("Unexpected state: "+r.state_)}}var r=this;null==this.onSettledCallbacks_?i.asyncExecute(n):this.onSettledCallbacks_.push(function(){i.asyncExecute(n)})},o.resolve=n,o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,r){for(var o=$jscomp.makeIterator(e),i=o.next();!i.done;i=o.next())n(i.value).callWhenSettled_(t,r)})},o.all=function(e){var t=$jscomp.makeIterator(e),r=t.next();return r.done?n([]):new o(function(e,o){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,n(r.value).callWhenSettled_(i(a.length-1),o),r=t.next()}while(!r.done)})},o},"es6","es3"),$jscomp.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var n="";e;)1&e&&(n+=t),(e>>>=1)&&(t+=t);return n}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var n=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var r=n.length,o=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var i=0;i<o&&t<r;)if(n[t++]!=e[i++])return!1;return i>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var n=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=n.length),t=Math.max(0,Math.min(0|t,n.length));for(var r=e.length;0<r&&0<t;)if(n[--t]!=e[--r])return!1;return 0>=r}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(e){return e||function(e,t,n){var r=this.length||0;for(0>t&&(t=Math.max(0,r+t)),(null==n||n>r)&&(n=r),0>(n=Number(n))&&(n=Math.max(0,r+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}},"es6","es3"),$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var n=0,r={next:function(){if(n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),$jscomp.polyfill("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"es6","es3"),$jscomp.polyfill("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(t=t||0;t<r;t++)if(n[t]==e||Object.is(n[t],e))return!0;return!1}},"es7","es3"),$jscomp.polyfill("String.prototype.includes",function(e){return e||function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)}},"es6","es3"),$jscomp.polyfill("Number.isFinite",function(e){return e||function(e){return"number"==typeof e&&(!isNaN(e)&&1/0!==e&&-1/0!==e)}},"es6","es3"),$jscomp.polyfill("Number.isInteger",function(e){return e||function(e){return!!Number.isFinite(e)&&e===Math.floor(e)}},"es6","es3"),$3Dmol=window.$3Dmol||{},"object"==typeof module.exports&&(module.exports=$3Dmol),$3Dmol.notrack||$.get("https://3dmol.csb.pitt.edu/track/report.cgi"),String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0===this.lastIndexOf(e,0)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),$.ajaxTransport("+binary",function(e,t,n){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,n){var r=new XMLHttpRequest,o=e.url,i=e.type,a=e.async||!0,s=e.responseType||"blob",l=e.data||null,c=e.username||null,u=e.password||null,p=function(){var t={};t[e.dataType]=r.response,n(r.status,r.statusText,t,r.getAllResponseHeaders())};for(var h in r.addEventListener("load",p),r.addEventListener("error",p),r.addEventListener("abort",p),r.open(i,o,a,c,u),t)r.setRequestHeader(h,t[h]);r.responseType=s,r.send(l)},abort:function(){n.abort()}}}),$3Dmol.createViewer=function(e,t){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{};try{return new $3Dmol.GLViewer(e,t)}catch(e){throw"error creating viewer: "+e}}},$3Dmol.createViewerGrid=function(e,t,n){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{},n=n||{};var r=[],o=document.createElement("canvas");n.rows=t.rows,n.cols=t.cols,n.control_all=null!=t.control_all&&t.control_all,$(e).append($(o));try{for(var i=0;i<t.rows;i++){for(var a=[],s=0;s<t.cols;s++){n.row=i,n.col=s,n.canvas=o,n.viewers=r,n.control_all=t.control_all;var l=$3Dmol.createViewer(e,n);a.push(l)}r.unshift(a)}}catch(e){throw"error creating viewer grid: "+e}return r}},$3Dmol.viewers={},$3Dmol.getbin=function(e,t,n,r){var o=new Promise(function(t,o){n=null==n?"GET":n,$.ajax({url:e,dataType:"binary",method:n,data:r,responseType:"arraybuffer",processData:!1}).done(function(e,n,r){t(e)}).fail(function(e,t){console.log(t),o()})});return t?o.then(t):o},$3Dmol.base64ToArray=function(e){for(var t=(e=window.atob(e)).length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},$3Dmol.download=function(e,t,n,r){var o="",i="";i="";var a=t.addModel();if("mmtf:"===e.substr(0,5)){var s=(i=n&&n.pdbUri?n.pdbUri:"https://mmtf.rcsb.org/v1.0/full/")+(e=e.substr(5).toUpperCase());n&&void 0===n.noComputeSecondaryStructure&&(n.noComputeSecondaryStructure=!0),e=new Promise(function(e,r){$3Dmol.getbin(s).then(function(r){a.addMolData(r,"mmtf",n),t.zoomTo(),t.render(),e(a)})})}else{if("pdb:"===e.substr(0,4)){if(o="mmtf",n&&n.format&&(o=n.format),n&&void 0===n.noComputeSecondaryStructure&&(n.noComputeSecondaryStructure=!0),!(e=e.substr(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==o?(i=n&&n.mmtfUri?n.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",s=i+e.toUpperCase()):(i=n&&n.pdbUri?n.pdbUri:"https://files.rcsb.org/view/",s=i+e+"."+o)}else if("cid:"==e.substr(0,4)){if(o="sdf",!(e=e.substr(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");s="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else"url:"==e.substr(0,4)&&(o=s=e.substr(4));var l=function(e){a.addMolData(e,o,n),t.zoomTo(),t.render()};e=new Promise(function(e,t){"mmtf"==o?$3Dmol.getbin(s).then(function(t){l(t),e(a)}):$.get(s,function(t){l(t),e(a)}).fail(function(e){console.log("fetch of "+s+" failed: "+e.statusText)})})}return r?(e.then(function(e){r(e)}),a):e},$3Dmol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4},$3Dmol.mergeGeos=function(e,t){void 0!==(t=t.geometry)&&e.geometryGroups.push(t.geometryGroups[0])},$3Dmol.multiLineString=function(e){return e.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")},$3Dmol.syncSurface=!1,(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))&&($3Dmol.syncSurface=!0),$3Dmol.specStringToObject=function(e){if("object"==typeof e||void 0===e||null==e)return e;var t=function(e){return $.isNumeric(e)?Math.floor(parseFloat(e))==parseInt(e)?parseFloat(e):0<=e.indexOf(".")?parseFloat(e):parseInt(e):"true"===e||"false"!==e&&e},n={};if("all"===(e=e.replace(/%7E/,"~")))return n;e=e.split(";");for(var r=0;r<e.length;r++){var o=e[r].split(":"),i=o[0],a={};if(o=o[1])if(-1!==(o=o.replace(/~/g,"=")).indexOf("=")){o=o.split(",");for(var s=0;s<o.length;s++){var l=o[s].split("=",2);a[l[0]]=t(l[1])}}else a=-1!==o.indexOf(",")?o.split(","):t(o);n[i]=a}return n},$3Dmol.getExtent=function(e,t){var n,r,o,i,a,s,l,c=!t;t=n=r=9999;var u=o=i=-9999,p=a=s=l=0;if(0===e.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var h=0;h<e.length;h++){var d=e[h];if(void 0!==d&&isFinite(d.x)&&isFinite(d.y)&&isFinite(d.z)&&(l++,p+=d.x,a+=d.y,s+=d.z,t=t<d.x?t:d.x,n=n<d.y?n:d.y,r=r<d.z?r:d.z,u=u>d.x?u:d.x,o=o>d.y?o:d.y,i=i>d.z?i:d.z,d.symmetries&&c))for(var f=0;f<d.symmetries.length;f++)l++,p+=d.symmetries[f].x,a+=d.symmetries[f].y,s+=d.symmetries[f].z,t=t<d.symmetries[f].x?t:d.symmetries[f].x,n=n<d.symmetries[f].y?n:d.symmetries[f].y,r=r<d.symmetries[f].z?r:d.symmetries[f].z,u=u>d.symmetries[f].x?u:d.symmetries[f].x,o=o>d.symmetries[f].y?o:d.symmetries[f].y,i=i>d.symmetries[f].z?i:d.symmetries[f].z}return[[t,n,r],[u,o,i],[p/l,a/l,s/l]]},$3Dmol.getAtomProperty=function(e,t){var n=null;return e.properties&&void 0!==e.properties[t]?n=e.properties[t]:void 0!==e[t]&&(n=e[t]),n},$3Dmol.getPropertyRange=function(e,t){for(var n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=0,i=e.length;o<i;o++){var a=$3Dmol.getAtomProperty(e[o],t);null!=a&&(a<n&&(n=a),a>r&&(r=a))}return isFinite(n)||isFinite(r)?isFinite(n)?isFinite(r)||(r=n):n=r:n=r=0,[n,r]},__WEBPACK_AMD_DEFINE_FACTORY__=$3Dmol,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),$3Dmol.createStereoViewer=function(e){var t=this;if("string"===$.type(e)&&(e=$("#"+e)),e){e=$3Dmol.createViewerGrid(e,{rows:1,cols:2,control_all:!0}),this.glviewer1=e[0][0],this.glviewer2=e[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1),e=Object.getOwnPropertyNames(this.glviewer1).filter(function(e){return"function"==typeof t.glviewer1[e]});for(var n=0;n<e.length;n++)this[e[n]]=function(e){return function(){return[this.glviewer1[e].apply(this.glviewer1,arguments),this.glviewer2[e].apply(this.glviewer2,arguments)]}}(e[n]);this.setCoordinates=function(e,t,n){for(var r=0;r<e.length;r++)e[r].setCoordinates(t,n)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(e){this.glviewer1.render(),this.glviewer2.render(),e&&e(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}};var $3Dmol=$3Dmol||{},b,c;$3Dmol.Math={clamp:function(e,t,n){return Math.min(Math.max(e,t),n)},degToRad:(b=Math.PI/180,function(e){return e*b})},$3Dmol.Quaternion=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},$3Dmol.Quaternion.prototype={constructor:$3Dmol.Quaternion,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();return 0===e?(this.z=this.y=this.x=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,o=e.z;e=e.w;var i=t.x,a=t.y,s=t.z;return t=t.w,this.x=n*t+e*i+r*s-o*a,this.y=r*t+e*a+o*i-n*s,this.z=o*t+e*s+n*a-r*i,this.w=e*t-n*i-r*a-o*s,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},clone:function(){return new $3Dmol.Quaternion(this.x,this.y,this.z,this.w)},setFromEuler:function(e){var t=Math.cos(e.x/2),n=Math.cos(e.y/2),r=Math.cos(e.z/2),o=Math.sin(e.x/2),i=Math.sin(e.y/2);return e=Math.sin(e.z/2),this.x=o*n*r+t*i*e,this.y=t*i*r-o*n*e,this.z=t*n*e+o*i*r,this.w=t*n*r-o*i*e,this}},$3Dmol.Vector2=function(e,t){this.x=e||0,this.y=t||0},$3Dmol.Vector2.prototype={constructor:$3Dmol.Vector2,set:function(e,t){return this.x=e,this.y=t,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},copy:function(e){return this.x=e.x,this.y=e.y,this},clone:function(){return new $3Dmol.Vector2(this.x,this.y)}},$3Dmol.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},$3Dmol.Vector3.prototype={constructor:$3Dmol.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):this.z=this.y=this.x=0,this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n+(e=this.z-e.z)*e},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r+e[12],this.y=e[1]*t+e[5]*n+e[9]*r+e[13],this.z=e[2]*t+e[6]*n+e[10]*r+e[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,o=(e=e.elements)[3]*t+e[7]*n+e[11]*r+e[15];return this.x=(e[0]*t+e[4]*n+e[8]*r+e[12])/o,this.y=(e[1]*t+e[5]*n+e[9]*r+e[13])/o,this.z=(e[2]*t+e[6]*n+e[10]*r+e[14])/o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,o=e.x,i=e.y,a=e.z,s=2*(n*a-r*i),l=2*(r*o-t*a),c=2*(t*i-n*o);return this.x=t+e.w*s+(l*a-c*i),this.y=n+e.w*l+(c*o-s*a),this.z=r+e.w*c+(s*i-l*o),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(e){var t=this.x,n=this.y,r=this.z;return this.x=n*e.z-r*e.y,this.y=r*e.x-t*e.z,this.z=t*e.y-n*e.x,this},crossVectors:function(e,t){return this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this},getPositionFromMatrix:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setEulerFromRotationMatrix:function(e,t){var n=e.elements;e=n[0];var r=n[4],o=n[8],i=n[5],a=n[9],s=n[6];return n=n[10],void 0===t||"XYZ"===t?(this.y=Math.asin($3Dmol.Math.clamp(o,-1,1)),.99999>Math.abs(o)?(this.x=Math.atan2(-a,n),this.z=Math.atan2(-r,e)):(this.x=Math.atan2(s,i),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+t),this},rotateAboutVector:function(e,t){e.normalize();var n=Math.cos(t),r=Math.sin(t);return t=this.clone().multiplyScalar(n),r=e.clone().cross(this).multiplyScalar(r),e=e.clone().multiplyScalar(e.clone().dot(this)).multiplyScalar(1-n),e=t.add(r).add(e),this.x=e.x,this.y=e.y,this.z=e.z,this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},transformDirection:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r,this.y=e[1]*t+e[5]*n+e[9]*r,this.z=e[2]*t+e[6]*n+e[10]*r,this.normalize()},clone:function(){return new $3Dmol.Vector3(this.x,this.y,this.z)}},$3Dmol.Matrix3=function(e,t,n,r,o,i,a,s,l){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,n||0,r||0,void 0!==o?o:1,i||0,a||0,s||0,void 0!==l?l:1)},$3Dmol.Matrix3.prototype={constructor:$3Dmol.Matrix3,set:function(e,t,n,r,o,i,a,s,l){var c=this.elements;return c[0]=e,c[3]=t,c[6]=n,c[1]=r,c[4]=o,c[7]=i,c[2]=a,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){e=e.elements,this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},getInverse:function(e,t){e=e.elements;var n=this.elements;if(n[0]=e[10]*e[5]-e[6]*e[9],n[1]=-e[10]*e[1]+e[2]*e[9],n[2]=e[6]*e[1]-e[2]*e[5],n[3]=-e[10]*e[4]+e[6]*e[8],n[4]=e[10]*e[0]-e[2]*e[8],n[5]=-e[6]*e[0]+e[2]*e[4],n[6]=e[9]*e[4]-e[5]*e[8],n[7]=-e[9]*e[0]+e[1]*e[8],n[8]=e[5]*e[0]-e[1]*e[4],0===(e=e[0]*n[0]+e[1]*n[3]+e[2]*n[6])){if(t)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/e),this},getDeterminant:function(){var e=this.elements;return e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]-e[1]*e[3]*e[8]-e[0]*e[5]*e[7]},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},clone:function(){var e=this.elements;return new $3Dmol.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},$3Dmol.Matrix4=function(e,t,n,r,o,i,a,s,l,c,u,p,h,d,f,m){if(void 0===t&&void 0!==e)this.elements=new Float32Array(e);else{var y=this.elements=new Float32Array(16);y[0]=void 0!==e?e:1,y[4]=t||0,y[8]=n||0,y[12]=r||0,y[1]=o||0,y[5]=void 0!==i?i:1,y[9]=a||0,y[13]=s||0,y[2]=l||0,y[6]=c||0,y[10]=void 0!==u?u:1,y[14]=p||0,y[3]=h||0,y[7]=d||0,y[11]=f||0,y[15]=void 0!==m?m:1}},$3Dmol.Matrix4.prototype={constructor:$3Dmol.Matrix4,set:function(e,t,n,r,o,i,a,s,l,c,u,p,h,d,f,m){var y=this.elements;return y[0]=e,y[4]=t,y[8]=n,y[12]=r,y[1]=o,y[5]=i,y[9]=a,y[13]=s,y[2]=l,y[6]=c,y[10]=u,y[14]=p,y[3]=h,y[7]=d,y[11]=f,y[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),this},matrix3FromTopLeft:function(){var e=this.elements;return new $3Dmol.Matrix3(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10])},setRotationFromEuler:function(e,t){var n=this.elements,r=e.x,o=e.y,i=e.z;e=Math.cos(r),r=Math.sin(r);var a=Math.cos(o);o=Math.sin(o);var s=Math.cos(i);if(i=Math.sin(i),void 0===t||"XYZ"===t){t=e*s;var l=e*i,c=r*s,u=r*i;n[0]=a*s,n[4]=-a*i,n[8]=o,n[1]=l+c*o,n[5]=t-u*o,n[9]=-r*a,n[2]=u-t*o,n[6]=c+l*o,n[10]=e*a}else console.error("Error with matrix4 setRotationFromEuler. Order: "+t);return this},setRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,o=e.z,i=e.w,a=n+n,s=r+r,l=o+o;e=n*a;var c=n*s;n*=l;var u=r*s;return r*=l,o*=l,a*=i,s*=i,i*=l,t[0]=1-(u+o),t[4]=c-i,t[8]=n+s,t[1]=c+i,t[5]=1-(e+o),t[9]=r-a,t[2]=n-s,t[6]=r+a,t[10]=1-(e+u),this},lookAt:function(){var e=new $3Dmol.Vector3,t=new $3Dmol.Vector3,n=new $3Dmol.Vector3;return function(r,o,i){var a=this.elements;return n.subVectors(r,o).normalize(),0===n.length()&&(n.z=1),e.crossVectors(i,n).normalize(),0===e.length()&&(n.x+=1e-4,e.crossVectors(i,n).normalize()),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiplyMatrices:function(e,t){var n=e.elements,r=t.elements;t=this.elements,e=n[0];var o=n[4],i=n[8],a=n[12],s=n[1],l=n[5],c=n[9],u=n[13],p=n[2],h=n[6],d=n[10],f=n[14],m=n[3],y=n[7],g=n[11];n=n[15];var v=r[0],b=r[4],S=r[8],w=r[12],C=r[1],_=r[5],k=r[9],T=r[13],x=r[2],E=r[6],A=r[10],O=r[14],P=r[3],I=r[7],M=r[11];return r=r[15],t[0]=e*v+o*C+i*x+a*P,t[4]=e*b+o*_+i*E+a*I,t[8]=e*S+o*k+i*A+a*M,t[12]=e*w+o*T+i*O+a*r,t[1]=s*v+l*C+c*x+u*P,t[5]=s*b+l*_+c*E+u*I,t[9]=s*S+l*k+c*A+u*M,t[13]=s*w+l*T+c*O+u*r,t[2]=p*v+h*C+d*x+f*P,t[6]=p*b+h*_+d*E+f*I,t[10]=p*S+h*k+d*A+f*M,t[14]=p*w+h*T+d*O+f*r,t[3]=m*v+y*C+g*x+n*P,t[7]=m*b+y*_+g*E+n*I,t[11]=m*S+y*k+g*A+n*M,t[15]=m*w+y*T+g*O+n*r,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},getPosition:function(){var e=new $3Dmol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=(e=e.elements)[0],o=e[4],i=e[8],a=e[12],s=e[1],l=e[5],c=e[9],u=e[13],p=e[2],h=e[6],d=e[10],f=e[14],m=e[3],y=e[7],g=e[11],v=e[15];if(n[0]=c*f*y-u*d*y+u*h*g-l*f*g-c*h*v+l*d*v,n[4]=a*d*y-i*f*y-a*h*g+o*f*g+i*h*v-o*d*v,n[8]=i*u*y-a*c*y+a*l*g-o*u*g-i*l*v+o*c*v,n[12]=a*c*h-i*u*h-a*l*d+o*u*d+i*l*f-o*c*f,n[1]=u*d*m-c*f*m-u*p*g+s*f*g+c*p*v-s*d*v,n[5]=i*f*m-a*d*m+a*p*g-r*f*g-i*p*v+r*d*v,n[9]=a*c*m-i*u*m-a*s*g+r*u*g+i*s*v-r*c*v,n[13]=i*u*p-a*c*p+a*s*d-r*u*d-i*s*f+r*c*f,n[2]=l*f*m-u*h*m+u*p*y-s*f*y-l*p*v+s*h*v,n[6]=a*h*m-o*f*m-a*p*y+r*f*y+o*p*v-r*h*v,n[10]=o*u*m-a*l*m+a*s*y-r*u*y-o*s*v+r*l*v,n[14]=a*l*p-o*u*p-a*s*h+r*u*h+o*s*f-r*l*f,n[3]=c*h*m-l*d*m-c*p*y+s*d*y+l*p*g-s*h*g,n[7]=o*d*m-i*h*m+i*p*y-r*d*y-o*p*g+r*h*g,n[11]=i*l*m-o*c*m-i*s*y+r*c*y+o*s*g-r*l*g,n[15]=o*c*p-i*l*p+i*s*h-r*c*h-o*s*d+r*l*d,0===(n=e[0]*n[0]+e[1]*n[4]+e[2]*n[8]+e[3]*n[12])){if(t)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/n),this},isReflected:function(){return 0>this.matrix3FromTopLeft().getDeterminant()},compose:function(){var e=new $3Dmol.Matrix4,t=new $3Dmol.Matrix4;return function(n,r,o){var i=this.elements;return e.identity(),e.setRotationFromQuaternion(r),t.makeScale(o.x,o.y,o.z),this.multiplyMatrices(e,t),i[12]=n.x,i[13]=n.y,i[14]=n.z,this}}(),decompose:function(){var e=new $3Dmol.Vector3,t=new $3Dmol.Vector3,n=new $3Dmol.Vector3,r=new $3Dmol.Matrix4;return function(o,i,a){var s=this.elements;return e.set(s[0],s[1],s[2]),t.set(s[4],s[5],s[6]),n.set(s[8],s[9],s[10]),o=o instanceof $3Dmol.Vector3?o:new $3Dmol.Vector3,i=i instanceof $3Dmol.Quaternion?i:new $3Dmol.Quaternion,(a=a instanceof $3Dmol.Vector3?a:new $3Dmol.Vector3).x=e.length(),a.y=t.length(),a.z=n.length(),o.x=s[12],o.y=s[13],o.z=s[14],r.copy(this),r.elements[0]/=a.x,r.elements[1]/=a.x,r.elements[2]/=a.x,r.elements[4]/=a.y,r.elements[5]/=a.y,r.elements[6]/=a.y,r.elements[8]/=a.z,r.elements[9]/=a.z,r.elements[10]/=a.z,i.setFromRotationMatrix(r),[o,i,a]}}(),scale:function(e){var t=this.elements,n=e.x,r=e.y;return e=e.z,t[0]*=n,t[4]*=r,t[8]*=e,t[1]*=n,t[5]*=r,t[9]*=e,t[2]*=n,t[6]*=r,t[10]*=e,t[3]*=n,t[7]*=r,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],Math.max(e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10])))},makeFrustum:function(e,t,n,r,o,i){var a=this.elements;return a[0]=2*o/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*o/(r-n),a[9]=(r+n)/(r-n),a[13]=0,a[2]=0,a[6]=0,a[10]=-(i+o)/(i-o),a[14]=-2*i*o/(i-o),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,n,r){var o=-(e=n*Math.tan($3Dmol.Math.degToRad(.5*e)));return this.makeFrustum(o*t,e*t,o,e,n,r)},makeOrthographic:function(e,t,n,r,o,i){var a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(i-o);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-(n+r)*l,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-(i+o)*c,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},isEqual:function(e){e=e.elements;var t=this.elements;return t[0]==e[0]&&t[4]==e[4]&&t[8]==e[8]&&t[12]==e[12]&&t[1]==e[1]&&t[5]==e[5]&&t[9]==e[9]&&t[13]==e[13]&&t[2]==e[2]&&t[6]==e[6]&&t[10]==e[10]&&t[14]==e[14]&&t[3]==e[3]&&t[7]==e[7]&&t[11]==e[11]&&t[15]==e[15]},clone:function(){var e=this.elements;return new $3Dmol.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},isIdentity:function(){var e=this.elements;return 1==e[0]&&0==e[4]&&0==e[8]&&0==e[12]&&0==e[1]&&1==e[5]&&0==e[9]&&0==e[13]&&0==e[2]&&0==e[6]&&1==e[10]&&0==e[14]&&0==e[3]&&0==e[7]&&0==e[11]&&1==e[15]}},$3Dmol.Vector3.prototype.unproject=function(){var e=new $3Dmol.Matrix4;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),$3Dmol.Ray=function(e,t){this.origin=void 0!==e?e:new $3Dmol.Vector3,this.direction=void 0!==t?t:new $3Dmol.Vector3},$3Dmol.Ray.prototype={constructor:$3Dmol.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new $3Dmol.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new $3Dmol.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){return(t=t||new $3Dmol.Vector3).subVectors(e,this.origin),e=t.dot(this.direction),t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:(c=new $3Dmol.Vector3,function(e){var t=c.subVectors(e,this.origin).dot(this.direction);return c.copy(this.direction).multiplyScalar(t).add(this.origin),c.distanceTo(e)}),isIntersectionCylinder:function(){},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){return 0!==e.normal.dot(this.direction)||0===e.distanceToPoint(this.origin)},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0!==t?-(this.origin.dot(e.normal)+e.constant)/t:0===e.distanceToPoint(this.origin)?0:void 0},intersectPlane:function(e,t){if(void 0!==(e=this.distanceToPlane(e)))return this.at(e,t)},applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new $3Dmol.Ray).copy(this)}},$3Dmol.Sphere=function(e,t){this.center=void 0!==e?e:new $3Dmol.Vector3,this.radius=void 0!==t?t:0},$3Dmol.Sphere.prototype={constructor:$3Dmol.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new $3Dmol.Sphere).copy(this)}},$3Dmol.Cylinder=function(e,t,n){this.c1=void 0!==e?e:new $3Dmol.Vector3,this.c2=void 0!==t?t:new $3Dmol.Vector3,this.direction=(new $3Dmol.Vector3).subVectors(this.c2,this.c1).normalize(),this.radius=void 0!==n?n:0},$3Dmol.Cylinder.prototype={constructor:$3Dmol.Cylinder,copy:function(e){return this.c1.copy(e.c1),this.c2.copy(e.c2),this.direction.copy(e.direction),this.radius=e.radius,this},lengthSq:function(){var e=new $3Dmol.Vector3;return function(){return e.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(e){return this.direction.add(this.c1).applyMatrix4(e),this.c1.applyMatrix4(e),this.c2.applyMatrix4(e),this.direction.sub(this.c1).normalize(),this.radius*=e.getMaxScaleOnAxis(),this}},$3Dmol.Triangle=function(e,t,n){this.a=void 0!==e?e:new $3Dmol.Vector3,this.b=void 0!==t?t:new $3Dmol.Vector3,this.c=void 0!==n?n:new $3Dmol.Vector3},$3Dmol.Triangle.prototype={constructor:$3Dmol.Triangle,copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},applyMatrix4:function(e){return this.a.applyMatrix4(e),this.b.applyMatrix4(e),this.c.applyMatrix4(e),this},getNormal:function(){var e=new $3Dmol.Vector3;return function(){var t=this.a.clone();return t.sub(this.b),e.subVectors(this.c,this.b),t.cross(e),t.normalize(),t}}()},$3Dmol.EventDispatcher=function(){var e={};this.addEventListener=function(t,n){void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(n)&&e[t].push(n)},this.removeEventListener=function(t,n){-1!==(n=e[t].indexOf(n))&&e[t].splice(n,1)},this.dispatchEvent=function(t){var n=e[t.type];if(void 0!==n){t.target=this;for(var r=0,o=n.length;r<o;r++)n[r].call(this,t)}}},$3Dmol.Color=function(e){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(e)},$3Dmol.Color.prototype={constructor:$3Dmol.Color,r:0,g:0,b:0,set:function(e){if(e instanceof $3Dmol.Color)return e.clone();"number"==typeof e?this.setHex(e):"object"==typeof e&&"r"in e&&"g"in e&&"b"in e&&(this.r=e.r,this.g=e.g,this.b=e.b)},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},getHex:function(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)},clone:function(){return new $3Dmol.Color(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},scaled:function(){var e={};return e.r=Math.round(255*this.r),e.g=Math.round(255*this.g),e.b=Math.round(255*this.b),e.a=1,e}},$3Dmol.Object3D=function(){this.id=$3Dmol.Object3DIDCount++,this.name="",this.parent=void 0,this.children=[],this.position=new $3Dmol.Vector3,this.rotation=new $3Dmol.Vector3,this.matrix=new $3Dmol.Matrix4,this.matrixWorld=new $3Dmol.Matrix4,this.quaternion=new $3Dmol.Quaternion,this.eulerOrder="XYZ",this.up=new $3Dmol.Vector3(0,1,0),this.scale=new $3Dmol.Vector3(1,1,1),this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0},$3Dmol.Object3D.prototype={constructor:$3Dmol.Object3D,lookAt:function(e){this.matrix.lookAt(e,this.position,this.up),this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(e){if(e===this)console.error("Can't add $3Dmol.Object3D to itself");else{e.parent=this,this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof $3Dmol.Scene&&t.__addObject(e)}},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){for(e.parent=void 0,this.children.splice(t,1),t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof $3Dmol.Scene&&t.__removeObject(e)}},updateMatrix:function(){this.matrix.setPosition(this.position),!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){for(!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=0;e<this.children.length;e++)this.children[e].updateMatrixWorld(!0)},clone:function(e){void 0===e&&(e=new $3Dmol.Object3D),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.rotation.copy(this.rotation),e.eulerOrder=this.eulerOrder,e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.quaternion.copy(this.quaternion),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.useQuaternion=this.useQuaternion,e.visible=this.visible;for(var t=0;t<this.children.length;t++)e.add(this.children[t].clone());return e},setVisible:function(e){this.visible=e;for(var t=0;t<this.children.length;t++)this.children[t].setVisible(e)}},$3Dmol.Object3DIDCount=0,$3Dmol.Geometry=function(){var e=function(e){this.id=e||0,this.lineArray=this.radiusArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null,this.lineidx=this.faceidx=this.vertices=0};e.prototype.setColors=function(e){var t=this.vertexArray,n=this.colorArray;if(t.length!=n.length)console.log("Cannot re-color geometry group due to mismatched lengths.");else for(var r=0;r<t.length;r+=3){var o=e(t[r],t[r+1],t[r+2]);o instanceof $3Dmol.Color||(o=$3Dmol.CC.color(o)),n[r]=o.r,n[r+1]=o.g,n[r+2]=o.b}},e.prototype.getNumVertices=function(){return this.vertices},e.prototype.getVertices=function(){return this.vertexArray},e.prototype.getCentroid=function(){for(var e,t,n,r=new $3Dmol.Vector3,o=0;o<this.vertices;++o)e=3*o,t=this.vertexArray[e],n=this.vertexArray[e+1],e=this.vertexArray[e+2],r.x+=t,r.y+=n,r.z+=e;return r.divideScalar(this.vertices),r},e.prototype.setNormals=function(){var e=this.faceArray,t=this.vertexArray,n=this.normalArray;if(this.vertices&&this.faceidx)for(var r,o,i,a,s,l,c=0;c<e.length/3;++c)r=3*e[3*c],o=3*e[3*c+1],i=3*e[3*c+2],a=new $3Dmol.Vector3(t[r],t[r+1],t[r+2]),s=new $3Dmol.Vector3(t[o],t[o+1],t[o+2]),l=new $3Dmol.Vector3(t[i],t[i+1],t[i+2]),a.subVectors(a,s),l.subVectors(l,s),l.cross(a),(a=l).normalize(),n[r]+=a.x,n[o]+=a.x,n[i]+=a.x,n[r+1]+=a.y,n[o+1]+=a.y,n[i+1]+=a.y,n[r+2]+=a.z,n[o+2]+=a.z,n[i+2]+=a.z},e.prototype.setLineIndices=function(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var e=this.faceArray,t=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var n=0;n<this.faceidx/3;++n){var r=3*n,o=2*r,i=e[r],a=e[r+1];r=e[r+2],t[o]=i,t[o+1]=a,t[o+2]=i,t[o+3]=r,t[o+4]=a,t[o+5]=r}}},e.prototype.truncateArrayBuffers=function(e,t){e=!0===e;var n=this.colorArray,r=this.normalArray,o=this.faceArray,i=this.lineArray,a=this.radiusArray;this.vertexArray=this.vertexArray.subarray(0,3*this.vertices),this.colorArray=n.subarray(0,3*this.vertices),e?(this.normalArray=r.subarray(0,3*this.vertices),this.faceArray=o.subarray(0,this.faceidx),this.lineArray=0<this.lineidx?i.subarray(0,this.lineidx):new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),a&&(this.radiusArray=a.subarray(0,this.vertices)),t&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0};var t=function(t){var n=new e(t.geometryGroups.length);return t.geometryGroups.push(n),t.groups=t.geometryGroups.length,n.vertexArray=new Float32Array(196605),n.colorArray=new Float32Array(196605),t.mesh&&(n.normalArray=new Float32Array(196605),n.faceArray=new Uint16Array(393210),n.lineArray=new Uint16Array(393210)),t.radii&&(n.radiusArray=new Float32Array(65535)),n.useOffset=t.offset,n},n=function(e,t,n){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.GeometryIDCount++,this.name="",this.hasTangents=!1,this.dynamic=!0,this.mesh=!0===e,this.radii=t||!1,this.offset=n||!1,this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1,this.geometryGroups=[],this.groups=0};return n.prototype={constructor:n,updateGeoGroup:function(e){var n=0<this.groups?this.geometryGroups[this.groups-1]:null;return(!n||n.vertices+(e||0)>n.vertexArray.length/3)&&(n=t(this)),n},addGeoGroup:function(){return t(this)},setUpNormals:function(e){e=e||!1;for(var t=0;t<this.groups;t++)this.geometryGroups[t].setNormals(e)},setColors:function(e){for(var t=this.geometryGroups.length,n=0;n<t;n++)this.geometryGroups[n].setColors(e)},setUpWireframe:function(){for(var e=0;e<this.groups;e++)this.geometryGroups[e].setLineIndices()},initTypedArrays:function(){for(var e=0;e<this.groups;e++){var t=this.geometryGroups[e];!0!==t.__inittedArrays&&t.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},n}(),Object.defineProperty($3Dmol.Geometry.prototype,"vertices",{get:function(){for(var e=0,t=0;t<this.groups;t++)e+=this.geometryGroups[t].vertices;return e}}),$3Dmol.GeometryIDCount=0,$3Dmol.Raycaster=function(){var e=function(e,t,n,r){this.ray=new $3Dmol.Ray(e,t),0<this.ray.direction.lengthSq()&&this.ray.direction.normalize(),this.near=r||0,this.far=n||1/0},t=new $3Dmol.Sphere,n=new $3Dmol.Cylinder,r=new $3Dmol.Triangle,o=new $3Dmol.Vector3,i=new $3Dmol.Vector3,a=new $3Dmol.Vector3,s=new $3Dmol.Vector3;new $3Dmol.Ray,new $3Dmol.Vector3;var l=new $3Dmol.Vector3;new $3Dmol.Matrix4;var c=function(e,t){return e.distance-t.distance};return e.prototype.precision=1e-4,e.prototype.linePrecision=.2,e.prototype.set=function(e,t){this.ray.set(e,t)},e.prototype.setFromCamera=function(){var e=new $3Dmol.Matrix4;return function(t,n){n.ortho?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld)):(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,t.z),n.projectionMatrixInverse.getInverse(n.projectionMatrix),e.multiplyMatrices(n.matrixWorld,n.projectionMatrixInverse),this.ray.direction.applyProjection(e),this.ray.direction.sub(this.ray.origin).normalize())}}(),e.prototype.intersectObjects=function(e,u){for(var p=[],h=0,d=u.length;h<d;h++)e:{var f=e,m=u[h],y=p;if(l.getPositionFromMatrix(f.matrixWorld),void 0!==m.intersectionShape){var g=m.intersectionShape,v=this.linePrecision,b=(v*=f.matrixWorld.getMaxScaleOnAxis())*v;if(void 0!==m.boundingSphere&&m.boundingSphere instanceof $3Dmol.Sphere&&(t.copy(m.boundingSphere),t.applyMatrix4(f.matrixWorld),!this.ray.isIntersectionSphere(t)))break e;var S=0;for(v=g.triangle.length;S<v;S++)if(g.triangle[S]instanceof $3Dmol.Triangle){r.copy(g.triangle[S]),r.applyMatrix4(f.matrixWorld);var w=r.getNormal(),C=this.ray.direction.dot(w);if(!(0<=C)){o.subVectors(r.a,this.ray.origin);var _=w.dot(o)/C;if(!(0>_)){i.copy(this.ray.direction).multiplyScalar(_).add(this.ray.origin),i.sub(r.a),a.copy(r.b).sub(r.a),s.copy(r.c).sub(r.a),C=a.dot(s);var k=a.lengthSq();w=s.lengthSq(),0>(w=(k*i.dot(s)-C*i.dot(a))/(k*w-C*C))||1<w||(0>(C=(i.dot(a)-w*C)/k)||1<C||1<C+w||y.push({clickable:m,distance:_}))}}}for(S=0,v=g.cylinder.length;S<v;S++)if(g.cylinder[S]instanceof $3Dmol.Cylinder){n.copy(g.cylinder[S]),n.applyMatrix4(f.matrixWorld),o.subVectors(n.c1,this.ray.origin);var T=o.dot(n.direction);if(k=o.dot(this.ray.direction),0!==(w=1-(C=Math.min(Math.max(this.ray.direction.dot(n.direction),-1),1))*C)){var x=(C*k-T)/w,E=(k-C*T)/w;i.copy(n.direction).multiplyScalar(x).add(n.c1),a.copy(this.ray.direction).multiplyScalar(E).add(this.ray.origin);var A=s.subVectors(i,a).lengthSq();A<=(x=n.radius*n.radius)&&(0>(C=C*(w=_=0>=(x=(C*T-k)*(C*T-k)-w*(o.lengthSq()-T*T-x))?Math.sqrt(A):(k-C*T-Math.sqrt(x))/w)-T)||C*C>n.lengthSq()||0>w||y.push({clickable:m,distance:_}))}}for(S=0,v=g.line.length;S<v;S+=2)i.copy(g.line[S]),i.applyMatrix4(f.matrixWorld),a.copy(g.line[S+1]),a.applyMatrix4(f.matrixWorld),s.subVectors(a,i),T=s.lengthSq(),s.normalize(),o.subVectors(i,this.ray.origin),A=o.dot(s),k=o.dot(this.ray.direction),0!==(w=1-(C=Math.min(Math.max(this.ray.direction.dot(s),-1),1))*C)&&(x=(C*k-A)/w,E=(k-C*A)/w,i.add(s.multiplyScalar(x)),a.copy(this.ray.direction).multiplyScalar(E).add(this.ray.origin),(A=s.subVectors(a,i).lengthSq())<b&&x*x<T&&y.push({clickable:m,distance:E}));for(S=0,v=g.sphere.length;S<v;S++)if(g.sphere[S]instanceof $3Dmol.Sphere&&(t.copy(g.sphere[S]),t.applyMatrix4(f.matrixWorld),this.ray.isIntersectionSphere(t))){if(i.subVectors(t.center,this.ray.origin),x=(f=i.dot(this.ray.direction))*f-(i.lengthSq()-t.radius*t.radius),0>f)break e;_=0>=x?f:f-Math.sqrt(x),y.push({clickable:m,distance:_});break e}}}return p.sort(c),p},e}(),$3Dmol.Projector=function(){new $3Dmol.Matrix4;var e=new $3Dmol.Matrix4;this.projectVector=function(t,n){return n.matrixWorldInverse.getInverse(n.matrixWorld),e.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),t.applyProjection(e)},this.unprojectVector=function(t,n){return n.projectionMatrixInverse.getInverse(n.projectionMatrix),e.multiplyMatrices(n.matrixWorld,n.projectionMatrixInverse),t.applyProjection(e)}},$3Dmol.Camera=function(e,t,n,r,o){$3Dmol.Object3D.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.projectionMatrix=new $3Dmol.Matrix4,this.projectionMatrixInverse=new $3Dmol.Matrix4,this.matrixWorldInverse=new $3Dmol.Matrix4,this.right=this.position.z*Math.tan(Math.PI/180*e),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!o,this.updateProjectionMatrix()},$3Dmol.Camera.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Camera.prototype.lookAt=function(e){this.matrix.lookAt(this.position,e,this.up),this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))},$3Dmol.Camera.prototype.updateProjectionMatrix=function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},$3Dmol.SpritePlugin=function(){function e(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var t,n,r,o,i,a,s,l,c,u;this.init=function(e){t=e.context,n=e,r=e.getPrecision(),o=new Float32Array(16),i=new Uint16Array(6),e=0,o[e++]=-1,o[e++]=-1,o[e++]=0,o[e++]=0,o[e++]=1,o[e++]=-1,o[e++]=1,o[e++]=0,o[e++]=1,o[e++]=1,o[e++]=1,o[e++]=1,o[e++]=-1,o[e++]=1,o[e++]=0,o[e++]=1,e=0,i[e++]=0,i[e++]=1,i[e++]=2,i[e++]=0,i[e++]=2,i[e++]=3,a=t.createBuffer(),s=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),e=$3Dmol.ShaderLib.sprite;var p=r,h=t.createProgram(),d=t.createShader(t.FRAGMENT_SHADER),f=t.createShader(t.VERTEX_SHADER);p="precision "+p+" float;\n",t.shaderSource(d,p+e.fragmentShader),t.shaderSource(f,p+e.vertexShader),t.compileShader(d),t.compileShader(f),t.getShaderParameter(d,t.COMPILE_STATUS)&&t.getShaderParameter(f,t.COMPILE_STATUS)?(t.attachShader(h,d),t.attachShader(h,f),t.linkProgram(h),t.getProgramParameter(h,t.LINK_STATUS)||console.error("Could not initialize shader"),e=h):(console.error(t.getShaderInfoLog(d)),console.error("could not initialize shader"),e=null),l=e,u={},(c={}).position=t.getAttribLocation(l,"position"),c.uv=t.getAttribLocation(l,"uv"),u.uvOffset=t.getUniformLocation(l,"uvOffset"),u.uvScale=t.getUniformLocation(l,"uvScale"),u.rotation=t.getUniformLocation(l,"rotation"),u.scale=t.getUniformLocation(l,"scale"),u.alignment=t.getUniformLocation(l,"alignment"),u.color=t.getUniformLocation(l,"color"),u.map=t.getUniformLocation(l,"map"),u.opacity=t.getUniformLocation(l,"opacity"),u.useScreenCoordinates=t.getUniformLocation(l,"useScreenCoordinates"),u.screenPosition=t.getUniformLocation(l,"screenPosition"),u.modelViewMatrix=t.getUniformLocation(l,"modelViewMatrix"),u.projectionMatrix=t.getUniformLocation(l,"projectionMatrix"),u.fogType=t.getUniformLocation(l,"fogType"),u.fogDensity=t.getUniformLocation(l,"fogDensity"),u.fogNear=t.getUniformLocation(l,"fogNear"),u.fogFar=t.getUniformLocation(l,"fogFar"),u.fogColor=t.getUniformLocation(l,"fogColor"),u.alphaTest=t.getUniformLocation(l,"alphaTest")},this.render=function(r,o,i,p){var h=r.__webglSprites,d=h.length;if(d){var f=c,m=u,y=.5*i,g=.5*p;if(t.useProgram(l),t.enableVertexAttribArray(f.position),t.enableVertexAttribArray(f.uv),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,a),t.vertexAttribPointer(f.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(f.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.uniformMatrix4fv(m.projectionMatrix,!1,o.projectionMatrix.elements),t.activeTexture(t.TEXTURE0),t.uniform1i(m.map,0),f=r.fog){t.uniform3f(m.fogColor,f.color.r,f.color.g,f.color.b),t.uniform1f(m.fogNear,f.near),t.uniform1f(m.fogFar,f.far),t.uniform1i(m.fogType,1);var v=f=1}else t.uniform1i(m.fogType,0),v=f=0;var b,S=[];for(b=0;b<d;b++){var w=h[b],C=w.material;w.visible&&0!==C.opacity&&(C.useScreenCoordinates?w.z=-w.position.z:(w._modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,w.matrixWorld),w.z=-w._modelViewMatrix.elements[14]))}for(h.sort(e),b=0;b<d;b++)C=(w=h[b]).material,w.visible&&0!==C.opacity&&C.map&&C.map.image&&C.map.image.width&&(t.uniform1f(m.alphaTest,C.alphaTest),o=C.map.image.height,S[0]=C.map.image.width*n.devicePixelRatio/i,S[1]=o*n.devicePixelRatio/p,!0===C.useScreenCoordinates?(t.uniform1i(m.useScreenCoordinates,1),t.uniform3f(m.screenPosition,(w.position.x*n.devicePixelRatio-y)/y,(g-w.position.y*n.devicePixelRatio)/g,Math.max(0,Math.min(1,w.position.z)))):(t.uniform1i(m.useScreenCoordinates,0),t.uniformMatrix4fv(m.modelViewMatrix,!1,w._modelViewMatrix.elements)),f!==(o=r.fog&&C.fog?v:0)&&(t.uniform1i(m.fogType,o),f=o),o=1/(C.scaleByViewport?p:1),S[0]=S[0]*o*w.scale.x,S[1]=S[1]*o*w.scale.y,t.uniform2f(m.uvScale,C.uvScale.x,C.uvScale.y),t.uniform2f(m.uvOffset,C.uvOffset.x,C.uvOffset.y),t.uniform2f(m.alignment,C.alignment.x,C.alignment.y),t.uniform1f(m.opacity,C.opacity),t.uniform3f(m.color,C.color.r,C.color.g,C.color.b),t.uniform1f(m.rotation,w.rotation),t.uniform2fv(m.scale,S),n.setDepthTest(C.depthTest),n.setDepthWrite(C.depthWrite),n.setTexture(C.map,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0));t.enable(t.CULL_FACE)}}},$3Dmol.Light=function(e,t){$3Dmol.Object3D.call(this),this.color=new $3Dmol.Color(e),this.position=new $3Dmol.Vector3(0,1,0),this.target=new $3Dmol.Object3D,this.intensity=void 0!==t?t:1,this.onlyShadow=this.castShadow=!1},$3Dmol.Light.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Material=function(){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.MaterialIdCount++,this.name="",this.side=$3Dmol.FrontSide,this.opacity=1,this.transparent=!1,this.stencilTest=this.depthWrite=this.depthTest=!0,this.polygonOffset=!1,this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.needsUpdate=this.visible=!0},$3Dmol.Material.prototype.setValues=function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0===n)console.warn("$3Dmol.Material: '"+t+"' parameter is undefined.");else if(t in this){var r=this[t];r instanceof $3Dmol.Color&&n instanceof $3Dmol.Color?r.copy(n):r instanceof $3Dmol.Color?r.set(n):r instanceof $3Dmol.Vector3&&n instanceof $3Dmol.Vector3?r.copy(n):this[t]=n}}},$3Dmol.Material.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.stencilTest=this.stencilTest,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},$3Dmol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},$3Dmol.MaterialIdCount=0,$3Dmol.LineBasicMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(e)},$3Dmol.LineBasicMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.LineBasicMaterial.prototype.clone=function(){var e=new $3Dmol.LineBasicMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e},$3Dmol.MeshLambertMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID="lambert",this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.setValues(e)},$3Dmol.MeshLambertMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.MeshLambertMaterial.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.MeshLambertMaterial),$3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},$3Dmol.MeshDoubleLambertMaterial=function(e){$3Dmol.MeshLambertMaterial.call(this,e),this.shaderID="lambertdouble",this.side=$3Dmol.DoubleSide},$3Dmol.MeshDoubleLambertMaterial.prototype=Object.create($3Dmol.MeshLambertMaterial.prototype),$3Dmol.MeshDoubleLambertMaterial.prototype.clone=function(){var e=new $3Dmol.MeshDoubleLambertMaterial;return $3Dmol.MeshLambertMaterial.prototype.clone.call(this,e),e},$3Dmol.MeshOutlineMaterial=function(e){$3Dmol.Material.call(this),e=e||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1},$3Dmol.MeshOutlineMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.MeshOutlineMaterial.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.MeshOutlineMaterial),$3Dmol.Material.prototype.clone.call(this,e),e.fog=this.fog,e.shaderID=this.shaderID,e.wireframe=this.wireframe,e},$3Dmol.ImposterMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID=null,this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.setValues(e)},$3Dmol.ImposterMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.ImposterMaterial.prototype.clone=function(){var e=new $3Dmol.ImposterMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},$3Dmol.SphereImposterMaterial=function(e){$3Dmol.ImposterMaterial.call(this),this.shaderID="sphereimposter",this.setValues(e)},$3Dmol.SphereImposterMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.SphereImposterMaterial.prototype.clone=function(){var e=new $3Dmol.SphereImposterMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e},$3Dmol.SphereImposterOutlineMaterial=function(e){$3Dmol.ImposterMaterial.call(this),e=e||{},this.shaderID="sphereimposteroutline",this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},$3Dmol.SphereImposterOutlineMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.SphereImposterOutlineMaterial.prototype.clone=function(){var e=new $3Dmol.SphereImposterOutlineMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},$3Dmol.StickImposterMaterial=function(e){$3Dmol.ImposterMaterial.call(this),this.shaderID="stickimposter",this.setValues(e)},$3Dmol.StickImposterMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.StickImposterMaterial.prototype.clone=function(){var e=new $3Dmol.StickImposterMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e},$3Dmol.StickImposterOutlineMaterial=function(e){$3Dmol.ImposterMaterial.call(this),e=e||{},this.shaderID="stickimposteroutline",this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},$3Dmol.StickImposterOutlineMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.StickImposterOutlineMaterial.prototype.clone=function(){var e=new $3Dmol.StickImposterOutlineMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},$3Dmol.InstancedMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID="instanced",this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.sphere=null,this.setValues(e)},$3Dmol.InstancedMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.InstancedMaterial.prototype.clone=function(){var e=new $3Dmol.InstancedMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e.sphere=this.sphere,e},$3Dmol.SpriteMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.map=new $3Dmol.Texture,this.useScreenCoordinates=!0,this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=$3Dmol.SpriteAlignment.center.clone(),this.fog=!1,this.uvOffset=new $3Dmol.Vector2(0,0),this.uvScale=new $3Dmol.Vector2(1,1),this.setValues(e),void 0===(e=e||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===e.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===e.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)},$3Dmol.SpriteMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.SpriteMaterial.prototype.clone=function(){var e=new $3Dmol.SpriteMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.useScreenCoordinates=useScreenCoordinates,e.sizeAttenuation=this.sizeAttenuation,e.scaleByViewport=this.scaleByViewPort,e.alignment.copy(this.alignment),e.uvOffset.copy(this.uvOffset),e},$3Dmol.SpriteAlignment={},$3Dmol.SpriteAlignment.topLeft=new $3Dmol.Vector2(1,-1),$3Dmol.SpriteAlignment.topCenter=new $3Dmol.Vector2(0,-1),$3Dmol.SpriteAlignment.topRight=new $3Dmol.Vector2(-1,-1),$3Dmol.SpriteAlignment.centerLeft=new $3Dmol.Vector2(1,0),$3Dmol.SpriteAlignment.center=new $3Dmol.Vector2(0,0),$3Dmol.SpriteAlignment.centerRight=new $3Dmol.Vector2(-1,0),$3Dmol.SpriteAlignment.bottomLeft=new $3Dmol.Vector2(1,1),$3Dmol.SpriteAlignment.bottomCenter=new $3Dmol.Vector2(0,1),$3Dmol.SpriteAlignment.bottomRight=new $3Dmol.Vector2(-1,1),$3Dmol.Texture=function(e){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.TextureIdCount++,this.name="",this.image=e,this.mipmaps=[],this.mapping=new $3Dmol.UVMapping,this.wrapT=this.wrapS=$3Dmol.ClampToEdgeWrapping,this.magFilter=$3Dmol.LinearFilter,this.minFilter=$3Dmol.LinearMipMapLinearFilter,this.anisotropy=1,this.format=$3Dmol.RGBAFormat,this.type=$3Dmol.UnsignedByteType,this.offset=new $3Dmol.Vector2(0,0),this.repeat=new $3Dmol.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},$3Dmol.Texture.prototype={constructor:$3Dmol.Texture,clone:function(e){return void 0===e&&(e=new $3Dmol.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},$3Dmol.TextureIdCount=0,$3Dmol.FrontSide=0,$3Dmol.BackSide=1,$3Dmol.DoubleSide=2,$3Dmol.NoShading=0,$3Dmol.FlatShading=1,$3Dmol.SmoothShading=2,$3Dmol.NoColors=0,$3Dmol.FaceColors=1,$3Dmol.VertexColors=2,$3Dmol.MultiplyOperation=0,$3Dmol.MixOperation=1,$3Dmol.AddOperation=2,$3Dmol.UVMapping=function(){},$3Dmol.ClampToEdgeWrapping=1001,$3Dmol.LinearFilter=1006,$3Dmol.LinearMipMapLinearFilter=1008,$3Dmol.UnsignedByteType=1009,$3Dmol.RGBAFormat=1021,$3Dmol.Line=function(e,t,n){$3Dmol.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new $3Dmol.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==n?n:$3Dmol.LineStrip},$3Dmol.LineStrip=0,$3Dmol.LinePieces=1,$3Dmol.Line.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Line.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Line(this.geometry,this.material,this.type)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Mesh=function(e,t){$3Dmol.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new $3Dmol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})},$3Dmol.Mesh.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Mesh.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Mesh(this.geometry,this.material)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Sprite=function(e){$3Dmol.Object3D.call(this),this.material=void 0!==e?e:new $3Dmol.SpriteMaterial,this.rotation3d=this.rotation,this.rotation=0},$3Dmol.Sprite.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},$3Dmol.Sprite.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Sprite(this.material)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Renderer=function(e){function t(e){j[e]||(b.enableVertexAttribArray(e),j[e]=!0)}function n(e,t){var n;return"fragment"===e?n=b.createShader(b.FRAGMENT_SHADER):"vertex"===e&&(n=b.createShader(b.VERTEX_SHADER)),b.shaderSource(n,t),b.compileShader(n),b.getShaderParameter(n,b.COMPILE_STATUS)?n:(console.error(b.getShaderInfoLog(n)),console.error("could not initialize shader"),null)}function r(e,t,n,r,o,i,a,s){if(t){var l=e.length-1;s=t=-1}else l=0,t=e.length,s=1;for(var c=l;c!==t;c+=s){var u=e[c];if(u.render){l=u.object;var p=u.buffer;if(u=u[n]){a&&S.setBlending(!0),S.setDepthTest(u.depthTest),S.setDepthWrite(u.depthWrite);var h=u.polygonOffset;null!==h&&(h?b.enable(b.POLYGON_OFFSET_FILL):b.disable(b.POLYGON_OFFSET_FILL)),h=l._modelViewMatrix.isReflected(),S.setMaterialFaces(u,h),S.renderBuffer(r,o,i,u,p,l),(v||u.outline)&&("sphereimposter"==u.shaderID?S.renderBuffer(r,o,i,y,p,l):"stickimposter"==u.shaderID?S.renderBuffer(r,o,i,g,p,l):u.wireframe||"basic"===u.shaderID||0===u.opacity||S.renderBuffer(r,o,i,m,p,l))}}}}function o(e){return 0==(e&e-1)}function i(e){return e===$3Dmol.UnsignedByteType?b.UNSIGNED_BYTE:e===$3Dmol.RGBAFormat?b.RGBA:0}e=e||{},this.row=e.row,this.col=e.col,this.rows=e.rows,this.cols=e.cols;var a=void 0!==e.canvas?e.canvas:document.createElement("canvas"),s=void 0!==e.precision?e.precision:"highp",l=void 0===e.alpha||e.alpha,c=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.antialias&&e.antialias,p=void 0===e.stencil||e.stencil,h=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,d=void 0!==e.clearColor?new $3Dmol.Color(e.clearColor):new $3Dmol.Color(0),f=void 0!==e.clearAlpha?e.clearAlpha:0,m=new $3Dmol.MeshOutlineMaterial(e.outline),y=new $3Dmol.SphereImposterOutlineMaterial(e.outline),g=new $3Dmol.StickImposterOutlineMaterial(e.outline),v=!!e.outline;this.domElement=a,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,a.id=e.id,this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var b,S=this,w=[],C=0,_=null,k=-1,T=null,x=null,E=0,A=-1,O=-1,P=-1,I=-1,M=null,D=0,L=0,N=0,R=0,j={},F=new $3Dmol.Matrix4,G=new $3Dmol.Vector3,B=new $3Dmol.Vector3,z=!0,V=[],H=[];try{if(!(b=a.getContext("experimental-webgl",{alpha:l,premultipliedAlpha:c,antialias:u,stencil:p,preserveDrawingBuffer:h}))&&!(b=a.getContext("webgl",{alpha:l,premultipliedAlpha:c,antialias:u,stencil:p,preserveDrawingBuffer:h})))throw"Error creating WebGL context."}catch(e){console.error(e)}b.clearColor(0,0,0,1),b.clearDepth(1),b.clearStencil(0),b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.frontFace(b.CCW),b.cullFace(b.BACK),b.enable(b.CULL_FACE),b.enable(b.BLEND),b.blendEquation(b.FUNC_ADD),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),b.clearColor(d.r,d.g,d.b,f),this.context=b;var U=b.getExtension("ANGLE_instanced_arrays"),q=b.getExtension("EXT_frag_depth");this.supportedExtensions=function(){return{supportsAIA:!!U,supportsImposters:!!q}},this.getContext=function(){return b},this.getPrecision=function(){return s},this.setClearColorHex=function(e,t){d.setHex(e),f=t,b.clearColor(d.r,d.g,d.b,f)},this.enableOutline=function(e){m=new $3Dmol.MeshOutlineMaterial(e),y=new $3Dmol.SphereImposterOutlineMaterial(e),g=new $3Dmol.StickImposterOutlineMaterial(e),v=!0},this.disableOutline=function(){v=!1},this.setViewport=function(){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var e=a.width/this.cols,t=a.height/this.rows;D=e*this.devicePixelRatio,L=t*this.devicePixelRatio,b.drawingBufferWidth=3*D,b.drawingBufferHeight=L,b.enable(b.SCISSOR_TEST),b.scissor(e*this.col,t*this.row,e,t),b.viewport(e*this.col,t*this.row,e,t)}},this.setSize=function(e,t){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var n=e/this.cols,r=t/this.rows;a.width=e*this.devicePixelRatio,a.height=t*this.devicePixelRatio,D=n*this.devicePixelRatio,L=r*this.devicePixelRatio,a.style.width=e+"px",a.style.height=t+"px",this.setViewport()}else D=a.width=e*this.devicePixelRatio,L=a.height=t*this.devicePixelRatio,a.style.width=e+"px",a.style.height=t+"px",b.viewport(0,0,b.drawingBufferWidth,b.drawingBufferHeight)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=b.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=b.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=b.STENCIL_BUFFER_BIT),b.clear(r)},this.clearTarget=function(e,t,n){this.clear(e,t,n)},this.setMaterialFaces=function(e,t){var n=e.side===$3Dmol.DoubleSide;e=e.side===$3Dmol.BackSide,e=t?!e:e,A!==n&&(n?b.disable(b.CULL_FACE):b.enable(b.CULL_FACE),A=n),O!==e&&(e?b.frontFace(b.CW):b.frontFace(b.CCW),O=e)},this.setDepthTest=function(e){P!==e&&(e?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),P=e)},this.setDepthWrite=function(e){I!==e&&(b.depthMask(e),I=e)},this.setBlending=function(e){e?(b.enable(b.BLEND),b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA)):b.disable(b.BLEND)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)};var W=function(e){if((e=e.target).removeEventListener("dispose",W),e.__webglInit=void 0,void 0!==e.__webglVertexBuffer&&b.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglColorBuffer&&b.deleteBuffer(e.__webglColorBuffer),void 0!==e.geometryGroups)for(var t=0,n=e.groups;t<n;t++){var r=e.geometryGroups[t];void 0!==r.__webglVertexBuffer&&b.deleteBuffer(r.__webglVertexBuffer),void 0!==r.__webglColorBuffer&&b.deleteBuffer(r.__webglColorBuffer),void 0!==r.__webglNormalBuffer&&b.deleteBuffer(r.__webglNormalBuffer),void 0!==r.__webglFaceBuffer&&b.deleteBuffer(r.__webglFaceBuffer),void 0!==r.__webglLineBuffer&&b.deleteBuffer(r.__webglLineBuffer)}S.info.memory.geometries--},K=function(e){(e=e.target).removeEventListener("dispose",K),e.image&&e.image.__webglTextureCube?b.deleteTexture(e.image.__webglTextureCube):e.__webglInit&&(e.__webglInit=!1,b.deleteTexture(e.__webglTexture)),S.info.memory.textures--},$=function(e){(e=e.target).removeEventListener("dispose",$),Y(e)},Y=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var n,r=!1;for(e=0,n=w.length;e<n;e++){var o=w[e];if(o.program===t){o.usedTimes--,0===o.usedTimes&&(r=!0);break}}if(!0===r){for(r=[],e=0,n=w.length;e<n;e++)(o=w[e]).program!==t&&r.push(o);w=r,b.deleteProgram(t),S.info.memory.programs--}}};this.initMaterial=function(e,t,r,o){e.addEventListener("dispose",$),(t=e.shaderID)&&(t=$3Dmol.ShaderLib[t],e.vertexShader=t.vertexShader,e.fragmentShader=t.fragmentShader,e.uniforms=$3Dmol.ShaderUtils.clone(t.uniforms));e:{var i=e.fragmentShader;o=e.vertexShader,r=e.uniforms;var a,l={wireframe:e.wireframe,fragdepth:e.imposter};for(c in(t=[]).push(i),t.push(o),l)t.push(c),t.push(l[c]);t=t.join();var c=0;for(a=w.length;c<a;c++){var u=w[c];if(u.code===t){u.usedTimes++;var p=u.program;break e}}for(p in c=b.createProgram(),a=""+(u="precision "+s+" float;"),i=n("fragment",(l=[l.fragdepth?"#extension GL_EXT_frag_depth: enable":"",l.wireframe?"#define WIREFRAME 1":"",u].join("\n"))+i),o=n("vertex",a+o),b.attachShader(c,o),b.attachShader(c,i),b.linkProgram(c),b.getProgramParameter(c,b.LINK_STATUS)||console.error("Could not initialize shader"),c.uniforms={},c.attributes={},o=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"],r)o.push(p);for(p=0;p<o.length;p++)r=o[p],c.uniforms[r]=b.getUniformLocation(c,r);for(o="position normal color lineDistance offset radius".split(" "),p=0;p<o.length;p++)r=o[p],c.attributes[r]=b.getAttribLocation(c,r);c.id=C++,w.push({program:c,code:t,usedTimes:1}),S.info.memory.programs=w.length,p=c}e.program=p},this.renderBuffer=function(e,n,r,o,i,a){if(o.visible){o.needsUpdate&&(o.program&&Y(o),S.initMaterial(o,n,r,a),o.needsUpdate=!1);var s=!1,l=o.program,c=l.uniforms,u=o.uniforms;if(l!=_&&(b.useProgram(l),_=l,s=!0),o.id!=k&&(k=o.id,s=!0),e!=x&&(x=e,s=!0),b.uniformMatrix4fv(c.projectionMatrix,!1,e.projectionMatrix.elements),b.uniformMatrix4fv(c.modelViewMatrix,!1,a._modelViewMatrix.elements),b.uniformMatrix3fv(c.normalMatrix,!1,a._normalMatrix.elements),s){if(u.fogColor.value=r.color,u.fogNear.value=r.near,u.fogFar.value=r.far,o.shaderID.startsWith("lambert")||"instanced"===o.shaderID||o.shaderID.endsWith("imposter")){if(b.uniformMatrix4fv(c.viewMatrix,!1,e.matrixWorldInverse.elements),z){var p=0;for(e=0,r=n.length;e<r;e++){var h=(s=n[e]).color,d=s.intensity;s instanceof $3Dmol.Light&&(0,B.getPositionFromMatrix(s.matrixWorld),G.getPositionFromMatrix(s.target.matrixWorld),B.sub(G),B.normalize(),0!==B.x||0!==B.y||0!==B.z)&&(H[p]=B.x,H[p+1]=B.y,H[p+2]=B.z,V[p]=h.r*d,V[p+1]=h.g*d,V[p+2]=h.b*d,p+=3,0)}z=!1}u.directionalLightColor.value=V,u.directionalLightDirection.value=H}else o.shaderID.endsWith("outline")?(u.outlineColor.value=o.outlineColor,u.outlineWidth.value=o.outlineWidth,u.outlinePushback.value=o.outlinePushback):"sphereimposter"===o.shaderID&&(b.uniformMatrix4fv(c.viewMatrix,!1,e.matrixWorldInverse.elements),b.uniformMatrix3fv(c.normalMatrix,!1,a._normalMatrix.elements),u.directionalLightColor.value=V,u.directionalLightDirection.value=H);for(var f in u.opacity.value=o.opacity,u)c[f]&&(n=u[f].type,e=u[f].value,r=c[f],"f"===n?b.uniform1f(r,e):"fv"===n?b.uniform3fv(r,e):"c"===n?b.uniform3f(r,e.r,e.g,e.b):"f4"===n&&b.uniform4f(r,e[0],e[1],e[2],e[3]))}if(u=l.attributes,c=!1,(l=16777215*i.id+2*l.id+(o.wireframe?1:0))!==T&&(T=l,c=!0),c){for(var m in j)j[m]&&(b.disableVertexAttribArray(m),j[m]=!1);0<=u.position&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglVertexBuffer),t(u.position),b.vertexAttribPointer(u.position,3,b.FLOAT,!1,0,0)),0<=u.color&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglColorBuffer),t(u.color),b.vertexAttribPointer(u.color,3,b.FLOAT,!1,0,0)),0<=u.normal&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglNormalBuffer),t(u.normal),b.vertexAttribPointer(u.normal,3,b.FLOAT,!1,0,0)),0<=u.offset&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglOffsetBuffer),t(u.offset),b.vertexAttribPointer(u.offset,3,b.FLOAT,!1,0,0)),0<=u.radius&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglRadiusBuffer),t(u.radius),b.vertexAttribPointer(u.radius,1,b.FLOAT,!1,0,0))}if(a instanceof $3Dmol.Mesh){if("instanced"===o.shaderID){var y=o.sphere.geometryGroups[0];c&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglVertexBuffer),b.bufferData(b.ARRAY_BUFFER,y.vertexArray,b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,i.__webglNormalBuffer),b.bufferData(b.ARRAY_BUFFER,y.normalArray,b.STATIC_DRAW),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,y.faceArray,b.STATIC_DRAW)),y=y.faceidx,U.vertexAttribDivisorANGLE(u.offset,1),U.vertexAttribDivisorANGLE(u.radius,1),U.vertexAttribDivisorANGLE(u.color,1),U.drawElementsInstancedANGLE(b.TRIANGLES,y,b.UNSIGNED_SHORT,0,i.radiusArray.length),U.vertexAttribDivisorANGLE(u.offset,0),U.vertexAttribDivisorANGLE(u.radius,0),U.vertexAttribDivisorANGLE(u.color,0)}else o.wireframe?(a=i.lineidx,(o=o.wireframeLinewidth)!==M&&(b.lineWidth(o),M=o),c&&b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglLineBuffer),b.drawElements(b.LINES,a,b.UNSIGNED_SHORT,0)):(y=i.faceidx,c&&b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),b.drawElements(b.TRIANGLES,y,b.UNSIGNED_SHORT,0));S.info.render.calls++,S.info.render.vertices+=y,S.info.render.faces+=y/3}else a instanceof $3Dmol.Line&&(a=i.vertices,(i=o.linewidth)!==M&&(b.lineWidth(i),M=i),b.drawArrays(b.LINES,0,a),S.info.render.calls++)}},this.render=function(e,t,n){if(!1==t instanceof $3Dmol.Camera)console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.");else{var o,i=e.__lights,a=e.fog;k=-1,z=!0,this.autoUpdateScene&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(e),S.info.render.calls=0,S.info.render.vertices=0,S.info.render.faces=0,S.info.render.points=0,N=D,R=L,this.setViewport(),(this.autoClear||n)&&(b.clearColor(d.r,d.g,d.b,f),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil));var s=e.__webglObjects;for(n=0,o=s.length;n<o;n++){var l=s[n],c=l.object;if(l.render=!1,c.visible){c._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,c.matrixWorld),c._normalMatrix.getInverse(c._modelViewMatrix),c._normalMatrix.transpose();var u=(c=l).object.material;u.transparent?(c.opaque=null,c.transparent=u,u.wireframe||((u=u.clone()).opacity=0,c.blank=u)):(c.opaque=u,c.transparent=null),l.render=!0}}if(this.setBlending(!1),r(e.__webglObjects,!0,"opaque",t,i,a,!1,null),r(e.__webglObjects,!0,"blank",t,i,a,!0,null),r(e.__webglObjects,!1,"transparent",t,i,a,!0,null),i=this.renderPluginsPost,T=-1,x=_=null,O=k=A=P=I=-1,i.length)for(a=0,n=i.length;a<n;a++)z=!0,i[a].render(e,t,N,R),T=-1,x=_=null,O=k=A=P=I=-1;this.setDepthTest(!0),this.setDepthWrite(!0)}},this.initWebGLObjects=function(e){if(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]),e.__objectsAdded.length){for(;e.__objectsAdded.length;){var t,n=e.__objectsAdded[0],r=e;if(!n.__webglInit&&(n.__webglInit=!0,n._modelViewMatrix=new $3Dmol.Matrix4,n._normalMatrix=new $3Dmol.Matrix3,void 0!==n.geometry&&void 0===n.geometry.__webglInit&&(n.geometry.__webglInit=!0,n.geometry.addEventListener("dispose",W)),n instanceof $3Dmol.Mesh||n instanceof $3Dmol.Line)){var o=n.geometry,i=0;for(t=o.geometryGroups.length;i<t;i++){var a=o.geometryGroups[i];a.id=E++,a.__webglVertexBuffer||(n instanceof $3Dmol.Mesh?(a.radiusArray&&(a.__webglRadiusBuffer=b.createBuffer()),a.useOffset&&(a.__webglOffsetBuffer=b.createBuffer()),a.__webglVertexBuffer=b.createBuffer(),a.__webglNormalBuffer=b.createBuffer(),a.__webglColorBuffer=b.createBuffer(),a.__webglFaceBuffer=b.createBuffer(),a.__webglLineBuffer=b.createBuffer(),S.info.memory.geometries++,o.elementsNeedUpdate=!0,o.normalsNeedUpdate=!0):n instanceof $3Dmol.Line&&(a.__webglVertexBuffer=b.createBuffer(),a.__webglColorBuffer=b.createBuffer(),S.info.memory.geometries++),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0)}}if(!n.__webglActive){if(n instanceof $3Dmol.Mesh||n instanceof $3Dmol.Line)for(i=0,t=(o=n.geometry).geometryGroups.length;i<t;i++)a=o.geometryGroups[i],r.__webglObjects.push({buffer:a,object:n,opaque:null,transparent:null});else n instanceof $3Dmol.Sprite&&r.__webglSprites.push(n);n.__webglActive=!0}e.__objectsAdded.splice(0,1)}T=-1}for(;e.__objectsRemoved.length;){if(t=e,(o=e.__objectsRemoved[0])instanceof $3Dmol.Mesh||o instanceof $3Dmol.Line)for(i=o,n=(t=t.__webglObjects).length-1;0<=n;--n)t[n].object===i&&t.splice(n,1);else if(o instanceof $3Dmol.Sprite)for(i=o,n=(t=t.__webglSprites).length-1;0<=n;--n)t[n]===i&&t.splice(n,1);o.__webglActive=!1,e.__objectsRemoved.splice(0,1)}for(o=0,t=e.__webglObjects.length;o<t;o++)if(i=(n=e.__webglObjects[o].object).geometry,n instanceof $3Dmol.Mesh||n instanceof $3Dmol.Line){for(n=0,r=i.geometryGroups.length;n<r;n++)if(a=i.geometryGroups[n],i.verticesNeedUpdate||i.elementsNeedUpdate||i.colorsNeedUpdate||i.normalsNeedUpdate){var s=b.STATIC_DRAW,l=a.vertexArray,c=a.colorArray;void 0!==a.__webglOffsetBuffer?b.bindBuffer(b.ARRAY_BUFFER,a.__webglOffsetBuffer):b.bindBuffer(b.ARRAY_BUFFER,a.__webglVertexBuffer),b.bufferData(b.ARRAY_BUFFER,l,s),b.bindBuffer(b.ARRAY_BUFFER,a.__webglColorBuffer),b.bufferData(b.ARRAY_BUFFER,c,s),a.normalArray&&void 0!==a.__webglNormalBuffer&&(l=a.normalArray,b.bindBuffer(b.ARRAY_BUFFER,a.__webglNormalBuffer),b.bufferData(b.ARRAY_BUFFER,l,s)),a.radiusArray&&void 0!==a.__webglRadiusBuffer&&(b.bindBuffer(b.ARRAY_BUFFER,a.__webglRadiusBuffer),b.bufferData(b.ARRAY_BUFFER,a.radiusArray,s)),a.faceArray&&void 0!==a.__webglFaceBuffer&&(l=a.faceArray,b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.__webglFaceBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,l,s)),a.lineArray&&void 0!==a.__webglLineBuffer&&(l=a.lineArray,b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.__webglLineBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,l,s))}i.verticesNeedUpdate=!1,i.elementsNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.buffersNeedUpdate=!1}},this.getXYRatio=function(){return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col?[this.cols,this.rows]:[1,1]},this.getAspect=function(e,t){null!=e&&null!=t||(e=a.width,t=a.height);var n=e/t;return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col&&(n=e/this.cols/(t/this.rows)),n},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",K),e.__webglTexture=b.createTexture(),S.info.memory.textures++),b.activeTexture(b.TEXTURE0+t),b.bindTexture(b.TEXTURE_2D,e.__webglTexture),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,e.flipY),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),b.pixelStorei(b.UNPACK_ALIGNMENT,e.unpackAlignment),t=o((t=e.image).width)&&o(t.height);var n=i(e.format),r=i(e.type),a=b.TEXTURE_2D;t?(b.texParameteri(a,b.TEXTURE_WRAP_S,i(e.wrapS)),b.texParameteri(a,b.TEXTURE_WRAP_T,i(e.wrapT)),b.texParameteri(a,b.TEXTURE_MAG_FILTER,i(e.magFilter)),b.texParameteri(a,b.TEXTURE_MIN_FILTER,i(e.minFilter))):(b.texParameteri(a,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(a,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(a,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(a,b.TEXTURE_MIN_FILTER,b.LINEAR));var s=e.mipmaps;if(0<s.length&&t){for(var l=0,c=s.length;l<c;l++)a=s[l],b.texImage2D(b.TEXTURE_2D,l,n,n,r,a);e.generateMipmaps=!1}else b.texImage2D(b.TEXTURE_2D,0,n,n,r,e.image);e.generateMipmaps&&t&&b.generateMipmap(b.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else b.activeTexture(b.TEXTURE0+t),b.bindTexture(b.TEXTURE_2D,e.__webglTexture)},this.addPostPlugin(new $3Dmol.SpritePlugin)},$3Dmol.Scene=function(){$3Dmol.Object3D.call(this),this.overrideMaterial=this.fog=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},$3Dmol.Scene.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Scene.prototype.__addObject=function(e){e instanceof $3Dmol.Light?(-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target)):-1===this.__objects.indexOf(e)&&(this.__objects.push(e),this.__objectsAdded.push(e),-1!==this.__objectsRemoved.indexOf(e)&&this.__objectsRemoved.splice(t,1));for(var t=0;t<e.children.length;t++)this.__addObject(e.children[t])},$3Dmol.Scene.prototype.__removeObject=function(e){if(e instanceof $3Dmol.Light){var t=this.__lights.indexOf(e);-1!==t&&this.__lights.splice(t,1)}else-1!==(t=this.__objects.indexOf(e))&&(this.__objects.splice(t,1),this.__objectsRemoved.push(e),-1!==this.__objectsAdded.indexOf(e)&&this.__objectsAdded.splice(t,1));for(t=0;t<e.children.length;t++)this.__removeObject(e.children[t])},$3Dmol.Fog=function(e,t,n){this.name="",this.color=new $3Dmol.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3},$3Dmol.Fog.prototype.clone=function(){return new $3Dmol.Fog(this.color.getHex(),this.near,this.far)},$3Dmol.ShaderUtils={clone:function(e){var t,n={};for(t in e){n[t]={},n[t].type=e[t].type;var r=e[t].value;r instanceof $3Dmol.Color?n[t].value=r.clone():"number"==typeof r?n[t].value=r:r instanceof Array?n[t].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return n},stickimposterFragmentShader:"uniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos;\n    vec3 v = normalize(pos);\n    vec3 pa = p1;\n    vec3 va = normalize(p2-p1);\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) {\n       vec3 cp;\n       if( dotp1 < 0.0) {        cp = p1;\n       } else {\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t;\n       norm = normalize(qi-cp);\n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"},$3Dmol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_FragColor = vec4(vLight*vColor, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvoid main() {\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    gl_Position = projectionMatrix * mvPosition;\n    mvPosition.z -= outlinePushback;\n    vec4 pushpos = projectionMatrix*mvPosition;\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}",uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nuniform float outlinePushback;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+adjust;\n}",uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[$3Dmol.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    gl_FragColor = vec4(light*color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"].join("\n"),vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = color; vColor.z = abs(vColor.z);\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0];\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:$3Dmol.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    to.xyz += normalize(to.xyz)*outlinePushback;\n    pt.xyz += normalize(pt.xyz)*outlinePushback;\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",vertexShader:"uniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n    gl_Position = finalPosition;\n}",uniforms:{}}},$3Dmol.autoload=function(b,c){if(void 0!==$(".viewer_3Dmoljs")[0]&&($3Dmol.autoinit=!0),$3Dmol.autoinit){b=null!=b?b:null,$3Dmol.viewers={};var d=0;$(".viewer_3Dmoljs").each(function(){var h,e,t=$(this),g=[],q=[];"static"==t.css("position")&&t.css("position","relative");var p=null;if(t.data("pdb"))g.push("https://files.rcsb.org/view/"+t.data("pdb")+".pdb"),q.push("pdb");else if(t.data("cid"))q.push("sdf"),g.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+t.data("cid")+"/SDF?record_type=3d");else if(t.data("href")||t.data("url")){var u=t.data("href");g.push(u),p=u.substr(u.lastIndexOf(".")+1),q.push(p)}for(h in p=t.data(),p)"pdb"===h.substring(0,3)&&"pdb"!==h?(g.push("https://files.rcsb.org/view/"+p[h]+".pdb"),q.push("pdb")):"href"===h.substring(0,4)&&"href"!==h?(u=p[h],g.push(u),q.push(u.substr(u.lastIndexOf(".")+1))):"cid"===h.substring(0,3)&&"cid"!==h&&(g.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+p[h]+"/SDF?record_type=3d"),q.push("sdf"));var m={};t.data("options")&&(m=$3Dmol.specStringToObject(t.data("options"))),p=$3Dmol.CC.color(t.data("backgroundcolor"));var l={line:{}};t.data("style")&&(l=$3Dmol.specStringToObject(t.data("style")));var n={};t.data("select")&&(n=$3Dmol.specStringToObject(t.data("select")));var y=[],f=[],x=[],w=t.data(),R=/style(.+)/,P=/surface(.*)/,A=/labelres(.*)/,T=[];for(G in w)w.hasOwnProperty(G)&&T.push(G);for(T.sort(),h=0;h<T.length;h++){var G=T[h];if(e=R.exec(G)){e="select"+e[1];var C=$3Dmol.specStringToObject(w[e]);e=$3Dmol.specStringToObject(w[G]),y.push([C,e])}(e=P.exec(G))&&(e="select"+e[1],C=$3Dmol.specStringToObject(w[e]),e=$3Dmol.specStringToObject(w[G]),f.push([C,e])),(e=A.exec(G))&&(e="select"+e[1],C=$3Dmol.specStringToObject(w[e]),e=$3Dmol.specStringToObject(w[G]),x.push([C,e]))}var z=function(e){e.setStyle(n,l);for(var t=0;t<y.length;t++){var r=y[t][0]||{},o=y[t][1]||{line:{}};e.setStyle(r,o)}for(t=0;t<f.length;t++)r=f[t][0]||{},o=f[t][1]||{},e.addSurface($3Dmol.SurfaceType.VDW,o,r,r);for(t=0;t<x.length;t++)r=x[t][0]||{},o=x[t][1]||{},e.addResLabels(r,o);e.zoomTo(),e.render()},D=b;try{null==D&&(D=$3Dmol.viewers[this.id||d++]=$3Dmol.createViewer(t,{defaultcolors:$3Dmol.rasmolElementColors})),D.setBackgroundColor(p)}catch(e){console.log(e),window.location="http://get.webgl.org"}if(0!=g.length){h=0;var I=function(b){u=g[h];var n=t.data("type")||t.data("datatype")||q[h];D.addModel(b,n,m),h+=1,h<g.length?$.get(g[h],I,"text"):(z(D),t.data("callback")&&(b=eval(t.data("callback")),"function"==typeof b&&b(D)),c&&c(D))};$.get(g[0],I,"text")}else t.data("element")&&(G=$("#"+t.data("element")).val()||"",p=t.data("type")||t.data("datatype"),p||(console.log("Warning: No type specified for embedded viewer with moldata from "+t.data("element")+"\n assuming type 'pdb'"),p="pdb"),D.addModel(G,p,m)),z(D),t.data("callback")&&(G=eval(t.data("callback")),"function"==typeof G&&G(D)),c&&c(D)})}},$(document).ready(function(){$3Dmol.autoload()});var htmlColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$3Dmol.CC={cache:{0:new $3Dmol.Color(0)},color:function e(t){if(!t)return this.cache[0];if(void 0!==this.cache[t])return this.cache[t];if(t&&t.constructor===Array)return t.map(e,this);if("number"==typeof(t=this.getHex(t))){var n=new $3Dmol.Color(t);return this.cache[t]=n}return t},getHex:function(e){return isNaN(parseInt(e))?"string"==typeof e?(4==(e=e.trim()).length&&"#"==e[0]&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),7==e.length&&"#"==e[0]?parseInt(e.substring(1),16):htmlColors[e.toLowerCase()]||0):e:parseInt(e)}},$3Dmol.CC=$3Dmol.CC,$3Dmol.CC.color=$3Dmol.CC.color,$3Dmol.ssColors=$3Dmol.ssColors||{},$3Dmol.ssColors.pyMol={h:16711680,s:16776960,c:65280},$3Dmol.ssColors.Jmol={h:16711808,s:16762880,c:16777215},$3Dmol.elementColors=$3Dmol.elementColors||{},$3Dmol.elementColors.defaultColor=16716947,$3Dmol.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},$3Dmol.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},$3Dmol.elementColors.defaultColors=$3Dmol.elementColors.rasmol,$3Dmol.elementColors.greenCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.greenCarbon.C=65280,$3Dmol.elementColors.cyanCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.cyanCarbon.C=65535,$3Dmol.elementColors.magentaCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.magentaCarbon.C=16711935,$3Dmol.elementColors.yellowCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.yellowCarbon.C=16776960,$3Dmol.elementColors.whiteCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.whiteCarbon.C=16777215,$3Dmol.elementColors.orangeCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.orangeCarbon.C=16753920,$3Dmol.elementColors.purpleCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.purpleCarbon.C=8388736,$3Dmol.elementColors.blueCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.blueCarbon.C=255,$3Dmol.residues={},$3Dmol.residues.amino={ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},$3Dmol.residues.shapely={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},$3Dmol.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576},$3Dmol.chains={},$3Dmol.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},$3Dmol.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834},$3Dmol.builtinColorSchemes={ssPyMol:{prop:"ss",map:$3Dmol.ssColors.pyMol},ssJmol:{prop:"ss",map:$3Dmol.ssColors.Jmol},Jmol:{prop:"elem",map:$3Dmol.elementColors.Jmol},greenCarbon:{prop:"elem",map:$3Dmol.elementColors.greenCarbon},default:{prop:"elem",map:$3Dmol.elementColors.defaultColors},amino:{prop:"resn",map:$3Dmol.residues.amino},shapely:{prop:"resn",map:$3Dmol.residues.shapely},nucleic:{prop:"resn",map:$3Dmol.residues.nucleic},chain:{prop:"chain",map:$3Dmol.chains.atom},chainHetatm:{prop:"chain",map:$3Dmol.chains.hetatm}},$3Dmol.getColorFromStyle=function(e,t){var n=t.colorscheme;if(void 0!==$3Dmol.builtinColorSchemes[n])n=$3Dmol.builtinColorSchemes[n];else if("string"==typeof n&&n.endsWith("Carbon")){var r=n.substring(0,n.lastIndexOf("Carbon")).toLowerCase();if(void 0!==htmlColors[r]){var o=$.extend({},$3Dmol.elementColors.defaultColors);o.C=htmlColors[r],$3Dmol.builtinColorSchemes[n]={prop:"elem",map:o},n=$3Dmol.builtinColorSchemes[n]}}return r=e.color,void 0!==t.color&&"spectrum"!=t.color&&(r=t.color),void 0!==n?void 0!==$3Dmol.elementColors[n]?void 0!==(n=$3Dmol.elementColors[n])[e[n.prop]]&&(r=n.map[e[n.prop]]):void 0!==n[e[n.prop]]?r=n.map[e[n.prop]]:void 0!==n.prop&&void 0!==n.gradient?(o=n.prop,t=n.gradient,void 0!==$3Dmol.Gradient.builtinGradients[t]&&(t=new $3Dmol.Gradient.builtinGradients[t](n.min,n.max,n.mid)),n=t.range()||[-1,1],null!=(e=$3Dmol.getAtomProperty(e,o))&&(r=t.valueToHex(e,n))):void 0!==n.prop&&void 0!==n.map?(o=n.prop,e=$3Dmol.getAtomProperty(e,o),void 0!==n.map[e]&&(r=n.map[e])):void 0!==t.colorscheme[e.elem]?r=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+n):void 0!==t.colorfunc&&(r=t.colorfunc(e)),$3Dmol.CC.color(r)},$3Dmol=$3Dmol||{},$3Dmol.subdivide_spline=function(e,t){var n,r=[],o=[];o.push(e[0]);var i=1;for(n=e.length-1;i<n;i++){var a=e[i],s=e[i+1];a.smoothen?((s=new $3Dmol.Vector3((a.x+s.x)/2,(a.y+s.y)/2,(a.z+s.z)/2)).atom=a.atom,o.push(s)):o.push(a)}for(o.push(e[e.length-1]),i=-1,e=o.length;i<=e-3;i++){n=o[-1===i?0:i],a=o[i+1],s=o[i+2];var l=o[i===e-3?e-1:i+3];if(n=(new $3Dmol.Vector3).subVectors(s,n).multiplyScalar(.5),l=(new $3Dmol.Vector3).subVectors(l,a).multiplyScalar(.5),!s.skip)for(var c=0;c<t;c++){var u=1/t*c;(u=new $3Dmol.Vector3(a.x+u*n.x+u*u*(-3*a.x+3*s.x-2*n.x-l.x)+u*u*u*(2*a.x-2*s.x+n.x+l.x),a.y+u*n.y+u*u*(-3*a.y+3*s.y-2*n.y-l.y)+u*u*u*(2*a.y-2*s.y+n.y+l.y),a.z+u*n.z+u*u*(-3*a.z+3*s.z-2*n.z-l.z)+u*u*u*(2*a.z-2*s.z+n.z+l.z))).atom=c<t/2?a.atom:s.atom,r.push(u)}}return r.push(o[o.length-1]),r},$3Dmol.drawCartoon=function(){var e=function(e,t,n,r,o,i){for(o=0,i=t.length;o<i;o++){var a=Math.round(o*(r.length-1)/i),s=$3Dmol.CC.color(r[a]);geoGroup=e.updateGeoGroup(2);var l=geoGroup.vertexArray,c=geoGroup.colorArray;a=geoGroup.faceArray;var u=geoGroup.vertices,p=3*u;for(l[p]=t[o].x,l[p+1]=t[o].y,l[p+2]=t[o].z,l[p+3]=n[o].x,l[p+4]=n[o].y,l[p+5]=n[o].z,l=0;6>l;++l)c[p+3*l]=s.r,c[p+1+3*l]=s.g,c[p+2+3*l]=s.b;0<o&&(u=[u,u+1,u-1,u-2],a[p=geoGroup.faceidx]=u[0],a[p+1]=u[1],a[p+2]=u[3],a[p+3]=u[1],a[p+4]=u[2],a[p+5]=u[3],geoGroup.faceidx+=6),geoGroup.vertices+=2}},t=function(e,t,n,r,o){0!==t.length&&(o=void 0===o?5:o,r=new $3Dmol.Geometry,$3Dmol.subdivide_spline(t,o),(t=new $3Dmol.LineBasicMaterial({linewidth:n})).vertexColors=!0,(t=new $3Dmol.Line(r,t)).type=$3Dmol.LineStrip,e.add(t))},n=function(t,n,r,o,i,a,s){if(s&&"default"!==s||(s="rectangle"),"edged"===s){if(!(2>n.length)){var l=n[0];n=n[n.length-1];var c=o||axisDIV;if(l=$3Dmol.subdivide_spline(l,c),n=$3Dmol.subdivide_spline(n,c),i){var u,p,h,d,f;c=[],s=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];var m=0;for(f=l.length;m<f;m++){var y=Math.round(m*(r.length-1)/f);if(y=$3Dmol.CC.color(r[y]),c.push(u=l[m]),c.push(u),c.push(p=n[m]),c.push(p),m<f-1){var g=l[m+1].clone().sub(l[m]);g=n[m].clone().sub(l[m]).cross(g).normalize().multiplyScalar(i)}if(c.push(h=l[m].clone().add(g)),c.push(h),c.push(d=n[m].clone().add(g)),c.push(d),void 0!==u.atom)var v=u.atom;var b=(o=t.updateGeoGroup(8)).vertexArray,S=o.colorArray,w=o.faceArray,C=3*(a=o.vertices);for(b[C]=u.x,b[C+1]=u.y,b[C+2]=u.z,b[C+3]=u.x,b[C+4]=u.y,b[C+5]=u.z,b[C+6]=p.x,b[C+7]=p.y,b[C+8]=p.z,b[C+9]=p.x,b[C+10]=p.y,b[C+11]=p.z,b[C+12]=h.x,b[C+13]=h.y,b[C+14]=h.z,b[C+15]=h.x,b[C+16]=h.y,b[C+17]=h.z,b[C+18]=d.x,b[C+19]=d.y,b[C+20]=d.z,b[C+21]=d.x,b[C+22]=d.y,b[C+23]=d.z,b=0;8>b;++b)S[C+3*b]=y.r,S[C+1+3*b]=y.g,S[C+2+3*b]=y.b;if(0<m)for(S=void 0!==E&&void 0!==v&&E.serial!==v.serial,b=0;4>b;b++)if(C=[a+s[b][0],a+s[b][1],a+s[b][2],a+s[b][3]],w[p=o.faceidx]=C[0],w[p+1]=C[1],w[p+2]=C[3],w[p+3]=C[1],w[p+4]=C[2],w[p+5]=C[3],o.faceidx+=6,v.clickable||E.clickable||v.hoverable||E.hoverable){d=c[C[3]].clone(),p=c[C[0]].clone();var _=c[C[2]].clone();if(h=c[C[1]].clone(),d.atom=c[C[3]].atom||null,_.atom=c[C[2]].atom||null,p.atom=c[C[0]].atom||null,h.atom=c[C[1]].atom||null,S){var k=d.clone().add(p).multiplyScalar(.5),T=_.clone().add(h).multiplyScalar(.5),x=d.clone().add(h).multiplyScalar(.5);0==b%2?((E.clickable||E.hoverable)&&(C=new $3Dmol.Triangle(k,x,d),u=new $3Dmol.Triangle(T,_,x),d=new $3Dmol.Triangle(x,_,d),E.intersectionShape.triangle.push(C),E.intersectionShape.triangle.push(u),E.intersectionShape.triangle.push(d)),(v.clickable||v.hoverable)&&(C=new $3Dmol.Triangle(p,h,x),u=new $3Dmol.Triangle(h,T,x),d=new $3Dmol.Triangle(p,x,k),v.intersectionShape.triangle.push(C),v.intersectionShape.triangle.push(u),v.intersectionShape.triangle.push(d))):((v.clickable||v.hoverable)&&(C=new $3Dmol.Triangle(k,x,d),u=new $3Dmol.Triangle(T,_,x),d=new $3Dmol.Triangle(x,_,d),v.intersectionShape.triangle.push(C),v.intersectionShape.triangle.push(u),v.intersectionShape.triangle.push(d)),(E.clickable||E.hoverable)&&(C=new $3Dmol.Triangle(p,h,x),u=new $3Dmol.Triangle(h,T,x),d=new $3Dmol.Triangle(p,x,k),E.intersectionShape.triangle.push(C),E.intersectionShape.triangle.push(u),E.intersectionShape.triangle.push(d)))}else(v.clickable||v.hoverable)&&(C=new $3Dmol.Triangle(p,h,d),u=new $3Dmol.Triangle(h,_,d),v.intersectionShape.triangle.push(C),v.intersectionShape.triangle.push(u))}o.vertices+=8;var E=v}for(r=c.length-8,b=(o=t.updateGeoGroup(8)).vertexArray,S=o.colorArray,w=o.faceArray,C=3*(a=o.vertices),p=o.faceidx,m=0;4>m;m++)c.push(c[2*m]),c.push(c[r+2*m]),i=c[2*m],t=c[r+2*m],b[C+6*m]=i.x,b[C+1+6*m]=i.y,b[C+2+6*m]=i.z,b[C+3+6*m]=t.x,b[C+4+6*m]=t.y,b[C+5+6*m]=t.z,S[C+6*m]=y.r,S[C+1+6*m]=y.g,S[C+2+6*m]=y.b,S[C+3+6*m]=y.r,S[C+4+6*m]=y.g,S[C+5+6*m]=y.b;C=[a,a+2,a+6,a+4],u=[a+1,a+5,a+7,a+3],w[p]=C[0],w[p+1]=C[1],w[p+2]=C[3],w[p+3]=C[1],w[p+4]=C[2],w[p+5]=C[3],w[p+6]=u[0],w[p+7]=u[1],w[p+8]=u[3],w[p+9]=u[1],w[p+10]=u[2],w[p+11]=u[3],o.faceidx+=12,o.vertices+=8}else e(t,l,n,r,c,a)}}else if(!("rectangle"!==s&&"oval"!==s&&"parabola"!==s||(y=s,v=n.length,2>v||2>n[0].length))){for(o=o||axisDIV,E=0;E<v;E++)n[E]=$3Dmol.subdivide_spline(n[E],o);if(g=n[0].length,i){for(a=[],o=[],s=[],b=0;b<v;b++)a.push(.25+1.5*Math.sqrt((v-1)*b-Math.pow(b,2))/(v-1)),o.push(.5),s.push(2*(Math.pow(b/v,2)-b/v)+.6);for(f=[],b=0;b<2*v-1;b++)f[b]=[b,b+1,b+1-2*v,b-2*v];for(f[2*v-1]=[b,b+1-2*v,b+1-4*v,b-2*v],t=t.updateGeoGroup(2*v*g),E=0;E<g;E++){for(b=Math.round(E*(r.length-1)/g),u=$3Dmol.CC.color(r[b]),S=c,C=m,c=[],m=[],p=[],void 0!==n[0][E].atom&&(w=n[0][E].atom,"oval"===y?l=a:"rectangle"===y?l=o:"parabola"===y&&(l=s)),l||(l=o),b=0;b<v;b++)h=E<g-1?n[b][E+1].clone().sub(n[b][E]):n[b][E-1].clone().sub(n[b][E]).negate(),d=b<v-1?n[b+1][E].clone().sub(n[b][E]):n[b-1][E].clone().sub(n[b][E]).negate(),p[b]=d.cross(h).normalize().multiplyScalar(i*l[b]);for(b=0;b<v;b++)c[b]=n[b][E].clone().add(p[b].clone().negate());for(b=0;b<v;b++)m[b]=n[b][E].clone().add(p[b]);for(_=t.vertexArray,d=t.colorArray,p=t.faceArray,k=3*(h=t.vertices),b=0;b<v;b++)_[k+3*b+0]=c[b].x,_[k+3*b+1]=c[b].y,_[k+3*b+2]=c[b].z;for(b=0;b<v;b++)_[k+3*b+0+3*v]=m[v-1-b].x,_[k+3*b+1+3*v]=m[v-1-b].y,_[k+3*b+2+3*v]=m[v-1-b].z;for(b=0;b<2*v;++b)d[k+3*b+0]=u.r,d[k+3*b+1]=u.g,d[k+3*b+2]=u.b;if(0<E){for(b=0;b<2*v;b++)u=[h+f[b][0],h+f[b][1],h+f[b][2],h+f[b][3]],p[d=t.faceidx]=u[0],p[d+1]=u[1],p[d+2]=u[3],p[d+3]=u[1],p[d+4]=u[2],p[d+5]=u[3],t.faceidx+=6;if(w.clickable||w.hoverable)for(b in(u=[]).push(new $3Dmol.Triangle(S[0],c[0],c[v-1])),u.push(new $3Dmol.Triangle(S[0],c[v-1],S[v-1])),u.push(new $3Dmol.Triangle(S[v-1],c[v-1],m[v-1])),u.push(new $3Dmol.Triangle(S[v-1],m[v-1],C[v-1])),u.push(new $3Dmol.Triangle(m[0],C[0],C[v-1])),u.push(new $3Dmol.Triangle(m[v-1],m[0],C[v-1])),u.push(new $3Dmol.Triangle(c[0],S[0],C[0])),u.push(new $3Dmol.Triangle(m[0],c[0],C[0])),u)w.intersectionShape.triangle.push(u[b])}t.vertices+=2*v}for(p=t.faceArray,h=t.vertices,E=0;E<v-1;E++)u=[E,E+1,2*v-2-E,2*v-1-E],p[d=t.faceidx]=u[0],p[d+1]=u[1],p[d+2]=u[3],p[d+3]=u[1],p[d+4]=u[2],p[d+5]=u[3],t.faceidx+=6;for(E=0;E<v-1;E++)u=[h-1-E,h-2-E,h-2*v+E+1,h-2*v+E],p[d=t.faceidx]=u[0],p[d+1]=u[1],p[d+2]=u[3],p[d+3]=u[1],p[d+4]=u[2],p[d+5]=u[3],t.faceidx+=6}else e(t,n[0],n[v-1],r,o,a)}},r=function(e,t){if(e&&t&&e.chain===t.chain){if(e.reschain===t.reschain&&(e.resi===t.resi||e.resi===t.resi-1))return!0;if(e.resi<t.resi){var n=e.x-t.x,r=e.y-t.y;if(16>n*n+r*r+(e=e.z-t.z)*e)return!0}}return!1},o=function(e,t,n,r,o){null!=t&&0!=t.vertices&&(o&&(t.initTypedArrays(),t.setUpNormals()),(o=new $3Dmol.MeshDoubleLambertMaterial).vertexColors=$3Dmol.FaceColors,"number"==typeof n&&0<=n&&1>n&&(o.transparent=!0,o.opacity=n),o.outline=r,t=new $3Dmol.Mesh(t,o),e.add(t))},i={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},a={DA:!0,DG:!0,A:!0,G:!0},s={DT:!0,DC:!0,U:!0,C:!0,T:!0},l={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0},c=function(e,c,p,h,d,f,m){f=f||5,m=m||5;var y,g,v=new $3Dmol.Geometry(!0),b=new $3Dmol.Geometry(!0),S=[],w=[],C=1,_=!1,k={};for(A in $3Dmol.Gradient.builtinGradients)$3Dmol.Gradient.builtinGradients.hasOwnProperty(A)&&(k[A]=new $3Dmol.Gradient.builtinGradients[A](p[1],p[0]));var T=function(e,t){return p&&"spectrum"===t.color?t.colorscheme in k?k[t.colorscheme].valueToHex(e.resi):k.sinebow.valueToHex(e.resi):$3Dmol.getColorFromStyle(e,t).getHex()};for(g=0;g<f;g++)w[g]=[];var x=y=!1;g=0;var E=[];for(g in c){var A=c[g];if("C"===A.elem&&"CA"===A.atom){var O=r(I,A);O&&"s"===A.ss?y=!0:y&&(I&&P&&I.style.cartoon.arrows&&P.style.cartoon.arrows&&(I.ss="arrow end",P.ss="arrow start"),y=!1),O&&("h"===I.ss||"tube start"==I.ss)&&I.style.cartoon.tubes?!x&&"tube start"!=I.ss&&A.style.cartoon.tubes&&(A.ss="tube start",x=!0):x&&("tube start"===I.ss?I.ss="tube end":P&&P.style.cartoon.tubes&&(P.ss="tube end"),x=!1);var P=I,I=A}A&&A.atom in i&&E.push(A)}for(x&&I.style.cartoon.tubes&&(I.ss="tube end",x=!1),c=function(r){for(var i,a,s=0;!D&&s<f;s++)t(e,w[s],1,S,m);if(h&&0<w[0].length&&n(b,w,S,m,D,C,w.style),r){for(a=[],s=0;s<f;s++)a[s]=w[s][w[s].length-1];i=S[S.length-1]}for(w=[],s=0;s<f;s++)w[s]=[];if(S=[],r){for(s=0;s<f;s++)w[s].push(a[s]);S.push(i)}o(e,b,C,_,!0),o(e,v,C,_,!1),b=new $3Dmol.Geometry(!0),v=new $3Dmol.Geometry(!0)},I=void 0,P=0;P<E.length;P++)if(x=(g=(A=E[P]).resn.trim())in l,C=1,y=A.style.cartoon,I&&I.style.cartoon&&(C=I.style.cartoon.opacity),I&&I.style.cartoon&&I.style.cartoon.outline&&(_=I.style.cartoon.outline),!I||!I.style.cartoon||A.style.cartoon&&I.style.cartoon.opacity==A.style.cartoon.opacity||c(I.chain==A.chain),w.length&&w[0].length>3e4/f/m/2&&c(!0),"trace"===y.style){if(!A.hetflag&&("C"===A.elem&&"CA"===A.atom||x&&"P"===A.atom)){var M=T(A,y),D=$.isNumeric(y.thickness)?y.thickness:.4;if(r(I,A))if(M==L){var L=$3Dmol.CC.color(M);$3Dmol.GLDraw.drawCylinder(v,I,A,D,L,2,2)}else y=(new $3Dmol.Vector3).addVectors(I,A).multiplyScalar(.5),L=$3Dmol.CC.color(L),g=$3Dmol.CC.color(M),$3Dmol.GLDraw.drawCylinder(v,I,y,D,L,2,0),$3Dmol.GLDraw.drawCylinder(v,y,A,D,g,0,2);I=A,L=M}}else{if(A&&"C"===A.elem&&"CA"===A.atom||x&&("P"===A.atom||0==A.atom.indexOf("O5"))){if(N)if("tube end"===A.ss){var N=!1;g=new $3Dmol.Vector3(A.x,A.y,A.z),$3Dmol.GLDraw.drawCylinder(v,R,g,2,$3Dmol.CC.color(L),1,1),A.ss="h"}else{if(I.chain==A.chain&&"tube end"!==I.ss)continue;N=!1,I.ss="h",g=new $3Dmol.Vector3(I.x,I.y,I.z),$3Dmol.GLDraw.drawCylinder(v,R,g,2,$3Dmol.CC.color(L),1,1)}if(I&&(!r(I,A)||"tube start"===I.ss)){if("tube start"===I.ss){N=!0;var R=new $3Dmol.Vector3(I.x,I.y,I.z);I.ss="h"}if(j){g=z?(new $3Dmol.Vector3).addVectors(I,z).multiplyScalar(.5):new $3Dmol.Vector3(I.x,I.y,I.z),$3Dmol.GLDraw.drawCylinder(v,g,j,.4,$3Dmol.CC.color(j.color),0,2),u(w,f,!d,z,B,V,I,E,P),S.push(M);var j=g=null}for(g=0;!D&&g<f;g++)t(e,w[g],1,S,m);for(h&&0<w[0].length&&n(b,w,S,m,D,C,w.style),w=[],g=0;g<f;g++)w[g]=[];S=[]}if(void 0===I||I.rescode!=A.rescode||I.resi!=A.resi){j&&(I=(g=(new $3Dmol.Vector3).addVectors(I,A).multiplyScalar(.5)).clone().sub(j).multiplyScalar(.02),g.add(I),$3Dmol.GLDraw.drawCylinder(v,g,j,.4,$3Dmol.CC.color(j.color),0,2),j=g=null),M=T(A,y),S.push(M),D=$.isNumeric(y.thickness)?y.thickness:.4,I=A;var F=new $3Dmol.Vector3(I.x,I.y,I.z);F.resi=I.resi,L=M}!0!==A.clickable&&!0!==A.hoverable||void 0!==A.intersectionShape&&void 0!==A.intersectionShape.triangle||(A.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else if(I&&"C"===I.elem&&"CA"===I.atom&&"O"===A.atom||x&&"P"===I.atom&&("OP2"===A.atom||"O2P"===A.atom)||x&&0==I.atom.indexOf("O5")&&0==A.atom.indexOf("C5")){var G=new $3Dmol.Vector3(A.x,A.y,A.z);if(G.resi=A.resi,"OP2"===A.atom||"O2P"===A.atom)var B=new $3Dmol.Vector3(A.x,A.y,A.z)}else if(x&&0==A.atom.indexOf("O3"))var z=new $3Dmol.Vector3(A.x,A.y,A.z);else("N1"===A.atom&&g in a||"N3"===A.atom&&g in s)&&((j=new $3Dmol.Vector3(A.x,A.y,A.z)).color=$3Dmol.getColorFromStyle(A,y).getHex());if(G&&F&&G.resi===F.resi){u(w,f,!d,F,G,V,I,E,P);var V=G;G=F=null,S.push(M)}}j&&(g=z?(new $3Dmol.Vector3).addVectors(I,z).multiplyScalar(.5):new $3Dmol.Vector3(I.x,I.y,I.z),$3Dmol.GLDraw.drawCylinder(v,g,j,.4,$3Dmol.CC.color(j.color),0,2),u(w,f,!d,z,B,V,I,E,P),S.push(M)),c()},u=function(e,t,n,r,o,i,a,s,l){if(r&&o&&a){var c=o.sub(r);c.normalize();var u=s[l];for(l+=1;l<s.length&&(u=s[l]).atom!=a.atom;l++);if((u=u?new $3Dmol.Vector3(u.x,u.y,u.z):new $3Dmol.Vector3(0,0,0)).sub(r),"arrow start"===a.ss&&(l=u.clone().multiplyScalar(.3).cross(o),r.add(l),l=u.clone().cross(c).normalize(),c.rotateAboutVector(l,.43)),a.style.cartoon.ribbon)l=a.style.cartoon.thickness||.4;else if(a.style.cartoon.width)l=a.style.cartoon.width;else if("c"===a.ss)l="P"===a.atom?.8:.5;else if("arrow start"===a.ss){l=1.3;var p=!0}else l="arrow end"===a.ss?.5:"h"===a.ss&&a.style.cartoon.tubes||"tube start"===a.ss?.5:1.3;for(null!=i&&0>c.dot(i)&&c.negate(),c.multiplyScalar(l),l=0;l<t;l++)i=2*l/(t-1)-1,(i=new $3Dmol.Vector3(r.x+i*c.x,r.y+i*c.y,r.z+i*c.z)).atom=a,n&&"s"===a.ss&&(i.smoothen=!0),e[l].push(i);if(p)for(c.multiplyScalar(2),l=0;l<t;l++)i=2*l/(t-1)-1,(i=new $3Dmol.Vector3(r.x+i*c.x,r.y+i*c.y,r.z+i*c.z)).atom=a,i.smoothen=!1,i.skip=!0,e[l].push(i);return t=a.style.cartoon.style||"default",e.style?e.style!=t&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),e.style="default"):e.style=t,"arrow start"!==a.ss&&"arrow end"!==a.ss||(a.ss="s"),p}};return function(e,t,n,r){c(e,t,n,!0,!1,r=r||5,r)}}(),$3Dmol=$3Dmol||{},$3Dmol.CAP={NONE:0,FLAT:1,ROUND:2},$3Dmol.GLDraw=function(){var e={},t=function(){var e=new $3Dmol.Vector3;return function(t){e.set(t[0],t[1],t[2]);var n=e.x,r=e.y,o=e.z,i=Math.sqrt(n*n+r*r);return 1e-4>i?(t=0,i=1):(t=-n/i,i=r/i),r=-t*n+i*r,1e-4>(n=Math.sqrt(r*r+o*o))?(o=0,r=1):(o/=n,r/=n),(n=new Float32Array(9))[0]=i,n[1]=t,n[2]=0,n[3]=-t*r,n[4]=i*r,n[5]=o,n[6]=t*o,n[7]=-i*o,n[8]=r,n}}(),n=function(){var e,t,n=[],r=Math.pow(2,4),o=Math.pow(2,2),i=r/o;for(n[0]=new $3Dmol.Vector3(-1,0,0),n[i]=new $3Dmol.Vector3(0,0,1),n[2*i]=new $3Dmol.Vector3(1,0,0),n[3*i]=new $3Dmol.Vector3(0,0,-1),e=3;4>=e;e++){for(i=r/(o=Math.pow(2,e-1)),t=0;t<o-1;t++)n[i/2+t*i]=n[t*i].clone().add(n[(t+1)*i]).normalize();n[i/2+(t=o-1)*i]=n[t*i].clone().add(n[0]).normalize()}return n}(),r={cache:{},getVerticesForRadius:function(e,t,r){if(void 0!==this.cache[e]&&void 0!==this.cache[e][t+r])return this.cache[e][t+r];new $3Dmol.Vector3(0,1,0);for(var o,i=n.length,a=[],s=[],l=0;l<i;l++)a.push(n[l].clone().multiplyScalar(e)),a.push(n[l].clone().multiplyScalar(e)),o=n[l].clone().normalize(),s.push(o),s.push(o);l=[];var c,u,p=2*Math.PI,h=Math.PI;for(u=0;10>=u;u++){var d=0===u||10===u,f=5===u,m=[],y=[];for(c=0;c<=i;c++)if(f){var g=c<i?2*c:0;y.push(g+1),m.push(g)}else{o=c/i;var v=u/10;d&&0!==c?d&&m.push(a.length-1):c<i?((g=new $3Dmol.Vector3).x=-e*Math.cos(0+o*p)*Math.sin(0+v*h),g.y=1==t?0:e*Math.cos(0+v*h),g.z=e*Math.sin(0+o*p)*Math.sin(0+v*h),1e-5>Math.abs(g.x)&&(g.x=0),1e-5>Math.abs(g.y)&&(g.y=0),1e-5>Math.abs(g.z)&&(g.z=0),(o=t==$3Dmol.CAP.FLAT?new $3Dmol.Vector3(0,Math.cos(0+v*h),0):new $3Dmol.Vector3(g.x,g.y,g.z)).normalize(),a.push(g),s.push(o),m.push(a.length-1)):m.push(a.length-i)}f&&l.push(y),l.push(m)}return i={vertices:a,normals:s,verticesRows:l,w:i,h:10},e in this.cache||(this.cache[e]={}),this.cache[e][t+r]=i}};e.drawCylinder=function(e,n,o,i,a,s,l){if(n&&o){0;var c=l||s;a=a||{r:0,g:0,b:0};var u=[o.x,o.y,o.z];u[0]-=n.x,u[1]-=n.y,u[2]-=n.z,u=t(u);var p=r.getVerticesForRadius(i,l,"to"),h=p.w,d=p.h,f=c?d*h+2:2*h;e=e.updateGeoGroup(f);var m,y=p.vertices,g=p.normals,v=(p=p.verticesRows)[d/2],b=p[d/2+1],S=e.vertices,w=e.vertexArray,C=e.normalArray,_=e.colorArray,k=e.faceArray;for(m=0;m<h;++m){var T=2*m,x=u[0]*y[T].x+u[3]*y[T].y+u[6]*y[T].z,E=u[1]*y[T].x+u[4]*y[T].y+u[7]*y[T].z,A=u[5]*y[T].y+u[8]*y[T].z,O=3*(S+T);T=e.faceidx,w[O]=x+n.x,w[O+1]=E+n.y,w[O+2]=A+n.z,w[O+3]=x+o.x,w[O+4]=E+o.y,w[O+5]=A+o.z,C[O]=x,C[O+3]=x,C[O+1]=E,C[O+4]=E,C[O+2]=A,C[O+5]=A,_[O]=a.r,_[O+3]=a.r,_[O+1]=a.g,_[O+4]=a.g,_[O+2]=a.b,_[O+5]=a.b,k[T]=b[m]+S,k[T+1]=b[m+1]+S,k[T+2]=v[m]+S,k[T+3]=v[m]+S,k[T+4]=b[m+1]+S,k[T+5]=v[m+1]+S,e.faceidx+=6}if(c)for(c=s?d+1:d/2+1,E=l?0:d/2;E<c;E++)if(E!==d/2)for(v=E<=d/2?o:n,x=r.getVerticesForRadius(i,l,"to"),T=r.getVerticesForRadius(i,s,"from"),v===o?(y=x.vertices,g=x.normals,p=x.verticesRows):v==n&&(y=T.vertices,g=T.normals,p=T.verticesRows),x=0;x<h;x++){T=e.faceidx;var P=3*((b=p[E][x+1])+S),I=3*((m=p[E][x])+S),M=3*((A=p[E+1][x])+S),D=3*((O=p[E+1][x+1])+S),L=u[0]*y[b].x+u[3]*y[b].y+u[6]*y[b].z,N=u[0]*y[m].x+u[3]*y[m].y+u[6]*y[m].z,R=u[0]*y[A].x+u[3]*y[A].y+u[6]*y[A].z,j=u[0]*y[O].x+u[3]*y[O].y+u[6]*y[O].z,F=u[1]*y[b].x+u[4]*y[b].y+u[7]*y[b].z,G=u[1]*y[m].x+u[4]*y[m].y+u[7]*y[m].z,B=u[1]*y[A].x+u[4]*y[A].y+u[7]*y[A].z,z=u[1]*y[O].x+u[4]*y[O].y+u[7]*y[O].z,V=u[5]*y[b].y+u[8]*y[b].z,H=u[5]*y[m].y+u[8]*y[m].z,U=u[5]*y[A].y+u[8]*y[A].z,q=u[5]*y[O].y+u[8]*y[O].z;w[P]=L+v.x,w[I]=N+v.x,w[M]=R+v.x,w[D]=j+v.x,w[P+1]=F+v.y,w[I+1]=G+v.y,w[M+1]=B+v.y,w[D+1]=z+v.y,w[P+2]=V+v.z,w[I+2]=H+v.z,w[M+2]=U+v.z,w[D+2]=q+v.z,_[P]=a.r,_[I]=a.r,_[M]=a.r,_[D]=a.r,_[P+1]=a.g,_[I+1]=a.g,_[M+1]=a.g,_[D+1]=a.g,_[P+2]=a.b,_[I+2]=a.b,_[M+2]=a.b,_[D+2]=a.b,L=u[0]*g[b].x+u[3]*g[b].y+u[6]*g[b].z,N=u[0]*g[m].x+u[3]*g[m].y+u[6]*g[m].z,R=u[0]*g[A].x+u[3]*g[A].y+u[6]*g[A].z,j=u[0]*g[O].x+u[3]*g[O].y+u[6]*g[O].z,F=u[1]*g[b].x+u[4]*g[b].y+u[7]*g[b].z,G=u[1]*g[m].x+u[4]*g[m].y+u[7]*g[m].z,B=u[1]*g[A].x+u[4]*g[A].y+u[7]*g[A].z,z=u[1]*g[O].x+u[4]*g[O].y+u[7]*g[O].z,V=u[5]*g[b].y+u[8]*g[b].z,H=u[5]*g[m].y+u[8]*g[m].z,U=u[5]*g[A].y+u[8]*g[A].z,q=u[5]*g[O].y+u[8]*g[O].z,0===E?(C[P]=L,C[M]=R,C[D]=j,C[P+1]=F,C[M+1]=B,C[D+1]=z,C[P+2]=V,C[M+2]=U,C[D+2]=q,k[T]=b+S,k[T+1]=A+S,k[T+2]=O+S,e.faceidx+=3):E===c-1?(C[P]=L,C[I]=N,C[M]=R,C[P+1]=F,C[I+1]=G,C[M+1]=B,C[P+2]=V,C[I+2]=H,C[M+2]=U,k[T]=b+S,k[T+1]=m+S,k[T+2]=A+S,e.faceidx+=3):(C[P]=L,C[I]=N,C[D]=j,C[P+1]=F,C[I+1]=G,C[D+1]=z,C[P+2]=V,C[I+2]=H,C[D+2]=q,C[I]=N,C[M]=R,C[D]=j,C[I+1]=G,C[M+1]=B,C[D+1]=z,C[I+2]=H,C[M+2]=U,C[D+2]=q,k[T]=b+S,k[T+1]=m+S,k[T+2]=O+S,k[T+3]=m+S,k[T+4]=A+S,k[T+5]=O+S,e.faceidx+=6)}e.vertices+=f}},e.drawCone=function(e,r,o,i,a){if(r&&o){console.log(r),console.log(o),a=a||{r:0,g:0,b:0};var s=[o.x,o.y,o.z];s.x-=r.x,s.y-=r.y,s.z-=r.z;var l=t(s),c=n.length,u=(e=e.updateGeoGroup(c+2)).vertices,p=e.vertexArray,h=e.normalArray,d=e.colorArray,f=e.faceArray,m=3*u;for(s=new $3Dmol.Vector3(s[0],s[1],s[2]).normalize(),p[m]=r.x,p[m+1]=r.y,p[m+2]=r.z,h[m]=-s.x,h[m+1]=-s.y,h[m+2]=-s.z,d[m]=a.r,d[m+1]=a.g,d[m+2]=a.b,p[m+3]=o.x,p[m+4]=o.y,p[m+5]=o.z,h[m+3]=s.x,h[m+4]=s.y,h[m+5]=s.z,d[m+3]=a.r,d[m+4]=a.g,d[m+5]=a.b,m+=6,o=0;o<c;++o){var y=n[o].clone();y.multiplyScalar(i),s=l[0]*y.x+l[3]*y.y+l[6]*y.z;var g=l[1]*y.x+l[4]*y.y+l[7]*y.z;y=l[5]*y.y+l[8]*y.z,p[m]=s+r.x,p[m+1]=g+r.y,p[m+2]=y+r.z,h[m]=s,h[m+1]=g,h[m+2]=y,d[m]=a.r,d[m+1]=a.g,d[m+2]=a.b,m+=3}for(e.vertices+=c+2,r=e.faceidx,o=0;o<c;o++)i=u+2+o,a=u+2+(o+1)%c,f[r]=i,f[r+1]=a,f[r+2]=u,f[r+=3]=i,f[r+1]=a,f[r+2]=u+1,r+=3;e.faceidx+=6*c}};var o={cache:{},getVerticesForRadius:function(e){if(void 0!==this.cache[e])return this.cache[e];var t={vertices:[],verticesRows:[],normals:[]},n=16,r=10;1>e&&(n=10,r=8);var o,i,a=2*Math.PI,s=Math.PI;for(i=0;i<=r;i++){var l=[];for(o=0;o<=n;o++){var c=o/n,u=i/r,p={};p.x=-e*Math.cos(0+c*a)*Math.sin(0+u*s),p.y=e*Math.cos(0+u*s),p.z=e*Math.sin(0+c*a)*Math.sin(0+u*s),(c=new $3Dmol.Vector3(p.x,p.y,p.z)).normalize(),t.vertices.push(p),t.normals.push(c),l.push(t.vertices.length-1)}t.verticesRows.push(l)}return this.cache[e]=t}};return e.drawSphere=function(e,t,n,r){new $3Dmol.Vector3(t.x,t.y,t.z);for(var i=o.getVerticesForRadius(n),a=i.vertices,s=i.normals,l=(e=e.updateGeoGroup(a.length)).vertices,c=e.vertexArray,u=e.colorArray,p=e.faceArray,h=e.lineArray,d=e.normalArray,f=0,m=a.length;f<m;++f){var y=3*(l+f),g=a[f];c[y]=g.x+t.x,c[y+1]=g.y+t.y,c[y+2]=g.z+t.z,u[y]=r.r,u[y+1]=r.g,u[y+2]=r.b}for(e.vertices+=a.length,c=(i=i.verticesRows).length-1,r=0;r<c;r++)for(u=i[r].length-1,t=0;t<u;t++){f=e.faceidx,m=e.lineidx,g=3*(y=i[r][t+1]+l);var v=i[r][t]+l,b=3*v,S=i[r+1][t]+l,w=3*S,C=i[r+1][t+1]+l,_=3*C,k=s[y-l],T=s[v-l],x=s[S-l],E=s[C-l];Math.abs(a[y-l].y)===n?(d[g]=k.x,d[w]=x.x,d[_]=E.x,d[g+1]=k.y,d[w+1]=x.y,d[_+1]=E.y,d[g+2]=k.z,d[w+2]=x.z,d[_+2]=E.z,p[f]=y,p[f+1]=S,p[f+2]=C,h[m]=y,h[m+1]=S,h[m+2]=y,h[m+3]=C,h[m+4]=S,h[m+5]=C,e.faceidx+=3,e.lineidx+=6):Math.abs(a[S-l].y)===n?(d[g]=k.x,d[b]=T.x,d[w]=x.x,d[g+1]=k.y,d[b+1]=T.y,d[w+1]=x.y,d[g+2]=k.z,d[b+2]=T.z,d[w+2]=x.z,p[f]=y,p[f+1]=v,p[f+2]=S,h[m]=y,h[m+1]=v,h[m+2]=y,h[m+3]=S,h[m+4]=v,h[m+5]=S,e.faceidx+=3,e.lineidx+=6):(d[g]=k.x,d[b]=T.x,d[_]=E.x,d[g+1]=k.y,d[b+1]=T.y,d[_+1]=E.y,d[g+2]=k.z,d[b+2]=T.z,d[_+2]=E.z,d[b]=T.x,d[w]=x.x,d[_]=E.x,d[b+1]=T.y,d[w+1]=x.y,d[_+1]=E.y,d[b+2]=T.z,d[w+2]=x.z,d[_+2]=E.z,p[f]=y,p[f+1]=v,p[f+2]=C,p[f+3]=v,p[f+4]=S,p[f+5]=C,h[m]=y,h[m+1]=v,h[m+2]=y,h[m+3]=C,h[m+4]=v,h[m+5]=S,h[m+6]=S,h[m+7]=C,e.faceidx+=6,e.lineidx+=8)}},e}(),$3Dmol=$3Dmol||{},$3Dmol.GLModel=function(){function e(r,o){var s=[],l=[],c=null,u=null,p=!1,h=null,d=null,f=null,m={},y=new $3Dmol.Matrix4,g=!0,v=$3Dmol.elementColors.defaultColor,b=(o=o||{}).defaultcolors?o.defaultcolors:$3Dmol.elementColors.defaultColors,S=o.defaultSphereRadius?o.defaultSphereRadius:1.5,w=o.cartoonQuality?o.cartoonQuality:5,C=function(e,t){var r=S;return void 0!==t.radius?r=t.radius:n[e.elem]&&(r=n[e.elem]),void 0!==t.scale&&(r*=t.scale),r},_=function(e,t,n){var r=function(e,t){for(var n=null,r=-1,h=0,d=e.bonds.length;h<d;h++)if(e.bonds[h]!=t.index){l=e.bonds[h],c=s[l],u=new $3Dmol.Vector3(c.x,c.y,c.z),(p=u.clone()).sub(o),(a=p.clone()).cross(i);var f=a.lengthSq();if(f>r&&(n=a,.1<(r=f)))break}return n},o=new $3Dmol.Vector3(e.x,e.y,e.z),i=new $3Dmol.Vector3(t.x,t.y,t.z).clone(),a=null;if(i.sub(o),1===e.bonds.length)if(1===t.bonds.length)a=i.clone(),1e-4<Math.abs(a.x)?a.y+=1:a.x+=1;else{e=(n+1)%t.bonds.length;var l=t.bonds[e],c=s[l],u=new $3Dmol.Vector3(c.x,c.y,c.z),p=u.clone();p.sub(o),(a=p.clone()).cross(i)}else.01>(a=r(e,t)).lengthSq()&&(null!=(t=r(t,e))&&(a=t));return.01>a.lengthSq()&&(a=i.clone(),1e-4<Math.abs(a.x)?a.y+=1:a.x+=1),a.cross(i),a.normalize(),a},k=function(e,t,n,r,o,i){e[n]=r.x,e[n+1]=r.y,e[n+2]=r.z,t[n]=i.r,t[n+1]=i.g,t[n+2]=i.b,e[n+3]=o.x,e[n+4]=o.y,e[n+5]=o.z,t[n+3]=i.r,t[n+4]=i.g,t[n+5]=i.b},T=function(e,t){if(e.style.sphere){var n=e.style.sphere;if(!n.hidden){var r=$3Dmol.getColorFromStyle(e,n);if(n=C(e,n),(!0===e.clickable||e.hoverable)&&void 0!==e.intersectionShape){var o=new $3Dmol.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new $3Dmol.Sphere(o,n))}$3Dmol.GLDraw.drawSphere(t,e,n,r)}}},x=function(e,t){if(e.style.sphere){var n=e.style.sphere;if(!n.hidden){var r=C(e,n);n=$3Dmol.getColorFromStyle(e,n);var o=(t=t.updateGeoGroup(1)).vertices,i=3*o,a=t.vertexArray,s=t.radiusArray;a[i]=e.x,a[i+1]=e.y,a[i+2]=e.z,(a=t.colorArray)[i]=n.r,a[i+1]=n.g,a[i+2]=n.b,s[o]=r,!0!==e.clickable&&!e.hoverable||void 0===e.intersectionShape||(n=new $3Dmol.Vector3(e.x,e.y,e.z),e.intersectionShape.sphere.push(new $3Dmol.Sphere(n,r))),t.vertices+=1}}},E=function(e,t,n,r){for(var o=(e=e.updateGeoGroup(4)).vertices,i=3*o,a=e.vertexArray,s=0;4>s;s++)a[i+3*s]=t.x,a[i+3*s+1]=t.y,a[i+3*s+2]=t.z;for(a=e.normalArray,t=e.colorArray,s=0;4>s;s++)t[i+3*s]=r.r,t[i+3*s+1]=r.g,t[i+3*s+2]=r.b;a[i+0]=-n,a[i+1]=n,a[i+2]=0,a[i+3]=-n,a[i+4]=-n,a[i+5]=0,a[i+6]=n,a[i+7]=-n,a[i+8]=0,a[i+9]=n,a[i+10]=n,a[i+11]=0,e.vertices+=4,(n=e.faceArray)[(r=e.faceidx)+0]=o,n[r+1]=o+1,n[r+2]=o+2,n[r+3]=o+2,n[r+4]=o+3,n[r+5]=o,e.faceidx+=6},A=function(e,t){if(e.style.sphere){var n=e.style.sphere;if(!n.hidden){var r=C(e,n);if(n=$3Dmol.getColorFromStyle(e,n),(!0===e.clickable||e.hoverable)&&void 0!==e.intersectionShape){var o=new $3Dmol.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new $3Dmol.Sphere(o,r))}E(t,e,r,n)}}},O=function(e,t,n,r,o,i,a){i=(e=e.updateGeoGroup(4)).vertices,a=e.vertexArray;var s=e.colorArray,l=e.radiusArray,c=e.normalArray,u=o.r,p=o.g;o=o.b;for(var h=3*i,d=0;4>d;d++){if(a[h]=t.x,c[h]=n.x,s[h]=u,a[++h]=t.y,c[h]=n.y,s[h]=p,a[++h]=t.z,c[h]=n.z,2>d)s[h]=o;else{var f=-o;0==f&&(f=-1e-4),s[h]=f}h++}e.vertices+=4,l[i]=-r,l[i+1]=r,l[i+2]=-r,l[i+3]=r,(t=e.faceArray)[(n=e.faceidx)+0]=i,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+2,t[n+4]=i+3,t[n+5]=i,e.faceidx+=6};this.getCrystData=function(){return m.cryst?m.cryst:null},this.getSymmetries=function(){return void 0===m.symmetries&&(m.symmetries=[y]),m.symmetries},this.setSymmetries=function(e){m.symmetries=void 0===e?[y]:e},this.getID=function(){return r},this.getNumFrames=function(){return null!=l.numFrames?l.numFrames:l.length};var P=function(e,t,n,r){return(e=t-e)<-n?t+r:e>n?t-r:t};this.setFrame=function(e){var t=this.getNumFrames();return new Promise(function(n,r){0==t&&n(),(0>e||e>=t)&&(e=t-1),null!=l.url?$3Dmol.getbin(l.url+"/traj/frame/"+e+"/"+l.path,null,"POST").then(function(e){e=new Float32Array(e,44);for(var t=0,r=0;r<s.length;r++)s[r].x=e[t++],s[r].y=e[t++],s[r].z=e[t++];if(c&&u&&c&&u)for(var o=.9*(e=c[0]),i=.9*(t=c[1]),a=.9*(r=c[2]),l=0;l<u.length;l++)for(var p=u[l],h=1;h<p.length;h++){var d=s[p[h][0]],f=s[p[h][1]];d.x=P(f.x,d.x,o,e),d.y=P(f.y,d.y,i,t),d.z=P(f.z,d.z,a,r)}n()}).catch(r):(s=l[e],n()),h=null})},this.addFrame=function(e){l.push(e)},this.vibrate=function(e,t){t=t||1,e=e||10,e--;for(var n=1;n<=e;n++){for(var r=[],o=0;o<s.length;o++){var i=new $3Dmol.Vector3($3Dmol.getAtomProperty(s[o],"dx"),$3Dmol.getAtomProperty(s[o],"dy"),$3Dmol.getAtomProperty(s[o],"dz")),a=new $3Dmol.Vector3(s[o].x,s[o].y,s[o].z);for(var c in i.multiplyScalar(n*t/e),a.add(i),i={},s[o])i[c]=s[o][c];i.x=a.x,i.y=a.y,i.z=a.z,r.push(i)}l.push(r)}l.unshift(s)},this.setAtomDefaults=function(e){for(var n=0;n<e.length;n++){var o=e[n];o&&(o.style=o.style||t,o.color=o.color||b[o.elem]||v,o.model=r,o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})}},this.addMolData=function(e,t,n){if(n=n||{},e=$3Dmol.GLModel.parseMolData(e,t,n),g=!n.duplicateAssemblyAtoms,(t=e.modelData)&&(m=Array.isArray(t)?t[0]:t),c=e.box?e.box:null,0==l.length){for(t=0;t<e.length;t++)0!=e[t].length&&l.push(e[t]);l[0]&&(s=l[0])}else if(n.frames)for(t=0;t<e.length;t++)l.push(e[t]);else for(t=0;t<e.length;t++)this.addAtoms(e[t]);for(t=0;t<l.length;t++)this.setAtomDefaults(l[t],r);n.vibrate&&n.vibrate.frames&&n.vibrate.amplitude&&this.vibrate(n.vibrate.frames,n.vibrate.amplitude),n.style&&this.setStyle({},n.style)},this.setDontDuplicateAtoms=function(e){g=e},this.setModelData=function(e){m=e};var I=function(e,t){if(e==t)return!0;if("string"==typeof t&&"number"==typeof e&&(t=t.match(/(-?\d+)\s*-\s*(-?\d+)/))){var n=parseInt(t[1]),r=parseInt(t[2]);if(t&&e>=n&&e<=r)return!0}return!1};this.atomIsSelected=function(e,t){var n;if(void 0===t)return!0;var r,o=!!t.invert,i=!0;for(r in t)if("and"==r||"or"==r||"not"==r){if("not"==r){if(this.atomIsSelected(e,t[r])){i=!1;break}}else if("and"==r){var a=t[r];for(n=0;n<a.length;n++)if(!this.atomIsSelected(e,a[n])){i=!1;break}}else if("or"==r){for(i=t[r],a=!0,n=0;n<i.length;n++){if(this.atomIsSelected(e,i[n])){a=!0;break}a=!1}i=a}}else if("predicate"===r){if(!t.predicate(e)){i=!1;break}}else if("properties"==r&&e[r])for(var s in t.properties){if(void 0===e.properties[s]){i=!1;break}if(e.properties[s]!=t.properties[s]){i=!1;break}}else if(t.hasOwnProperty(r)&&"props"!=r&&"invert"!=r&&"model"!=r&&"byres"!=r&&"expand"!=r&&"within"!=r&&"and"!=r&&"or"!=r&&"not"!=r){if(void 0===e[r]){i=!1;break}if(a=!1,"bonds"===r){if((n=t[r])!=e.bonds.length){i=!1;break}}else if($.isArray(t[r])){var l=t[r],c=e[r];for(n=0;n<l.length;n++)if(I(c,l[n])){a=!0;break}if(!a){i=!1;break}}else if(n=t[r],!I(e[r],n)){i=!1;break}}return o?!i:i},this.selectedAtoms=function(e,t){var n,r=[];e=e||{},t||(t=s);for(var o=t.length,i=0;i<o;i++)(n=t[i])&&this.atomIsSelected(n,e)&&r.push(n);if(e.hasOwnProperty("expand")){if(0>=(o=parseFloat(e.expand)))o=r;else{for(i=$3Dmol.getExtent(r),n=[[],[],[]],t=0;3>t;t++)n[0][t]=i[0][t]-o,n[1][t]=i[1][t]+o,n[2][t]=i[2][t];for(o=[],t=0;t<s.length;t++){var a=s[t].x,l=s[t].y,c=s[t].z;a>=n[0][0]&&a<=n[1][0]&&l>=n[0][1]&&l<=n[1][1]&&c>=n[0][2]&&c<=n[1][2]&&(a>=i[0][0]&&a<=i[1][0]&&l>=i[0][1]&&l<=i[1][1]&&c>=i[0][2]&&c<=i[1][2]||o.push(s[t]))}}for(a=r.length,i=0;i<o.length;i++)for(var u=0;u<a;u++)(t=M(o[i],r[u]))<(n=Math.pow(e.expand,2))&&0<t&&r.push(o[i])}if(e.hasOwnProperty("within")&&e.within.hasOwnProperty("sel")&&e.within.hasOwnProperty("distance")){for(a=this.selectedAtoms(e.within.sel,s),o={},i=0;i<a.length;i++)for(u=0;u<r.length;u++)(t=M(a[i],r[u]))<(n=Math.pow(parseFloat(e.within.distance),2))&&0<t&&(o[u]=1);if(i=[],e.within.invert)for(u=0;u<r.length;u++)o[u]||i.push(r[u]);else for(u in o)i.push(r[u]);r=i}if(e.hasOwnProperty("byres"))for(e={},t=[],o=[],i=0;i<r.length;i++)if(a=(n=r[i]).chain,l=n.resi,void 0===e[a]&&(e[a]={}),n.hasOwnProperty("resi")&&void 0===e[a][l])for(e[a][l]=!0,o.push(n);0<o.length;)if(a=(n=o.pop()).chain,l=n.resi,void 0===t[n.index])for(t[n.index]=!0,u=0;u<n.bonds.length;u++)void 0===t[(c=s[n.bonds[u]]).index]&&c.hasOwnProperty("resi")&&c.chain==a&&c.resi==l&&(o.push(c),r.push(c));return r};var M=function(e,t){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)};this.addAtoms=function(e){h=null;var n,o=s.length,i=[];for(n=0;n<e.length;n++)void 0===e[n].index&&(e[n].index=n),void 0===e[n].serial&&(e[n].serial=n),i[e[n].index]=o+n;for(n=0;n<e.length;n++){var a=i[(o=e[n]).index],l=$.extend(!1,{},o);l.index=a,l.bonds=[],l.bondOrder=[],l.model=r,l.style=l.style||t,void 0===l.color&&(l.color=b[l.elem]||v),a=o.bonds?o.bonds.length:0;for(var c=0;c<a;c++){var u=i[o.bonds[c]];void 0!==u&&(l.bonds.push(u),l.bondOrder.push(o.bondOrder?o.bondOrder[c]:1))}s.push(l)}},this.removeAtoms=function(e){h=null;var t,n=[];for(t=0;t<e.length;t++)n[e[t].index]=!0;for(e=[],t=0;t<s.length;t++){var r=s[t];n[r.index]||e.push(r)}s=[],this.addAtoms(e)},this.setStyle=function(t,n,r){for(var o in void 0===n&&void 0===r&&(n=t,t={}),t)e.validAtomSelectionSpecs.hasOwnProperty(o)||console.log("Unknown selector "+o);for(o in n)e.validAtomStyleSpecs.hasOwnProperty(o)||console.log("Unknown style "+o);var i=!1,a=function(e){for(var a=c.selectedAtoms(t,e),s=0;s<e.length;s++)e[s]&&(e[s].capDrawn=!1);for(s=0;s<a.length;s++)for(o in i=!0,(a[s].clickable||a[s].hoverable)&&(a[s].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),r||(a[s].style={}),n)if(n.hasOwnProperty(o))for(var l in a[s].style[o]=a[s].style[o]||{},n[o])a[s].style[o][l]=n[o][l]},c=this;a(s);for(var u=0;u<l.length;u++)l[u]!==s&&a(l[u]);i&&(h=null)},this.setClickable=function(t,n,r){for(var o in t)e.validAtomSelectionSpecs.hasOwnProperty(o)||console.log("Unknown selector "+o);if(n=!!n,r&&"function"!=typeof r)console.log("Callback is not a function");else{var i=(o=this.selectedAtoms(t,s)).length;for(t=0;t<i;t++)o[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},o[t].clickable=n,r&&(o[t].callback=r);0<i&&(h=null)}},this.setHoverable=function(t,n,r,o){for(var i in t)e.validAtomSelectionSpecs.hasOwnProperty(i)||console.log("Unknown selector "+i);if(n=!!n,r&&"function"!=typeof r)console.log("Hover_callback is not a function");else if(o&&"function"!=typeof o)console.log("Unhover_callback is not a function");else{var a=(i=this.selectedAtoms(t,s)).length;for(t=0;t<a;t++)i[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},i[t].hoverable=n,r&&(i[t].hover_callback=r),o&&(i[t].unhover_callback=o);0<a&&(h=null)}},this.setColorByElement=function(e,t){var n;if((n=null!==h)&&(n=f,n=t&&n?JSON.stringify(t)==JSON.stringify(n):t==n),!n){f=t;var r=this.selectedAtoms(e,r);for(0<r.length&&(h=null),e=0;e<r.length;e++)void 0!==t[(n=r[e]).elem]&&(n.color=t[n.elem])}},this.setColorByProperty=function(e,t,n,r){var o=this.selectedAtoms(e,o);for(f=null,0<o.length&&(h=null),void 0!==$3Dmol.Gradient.builtinGradients[n]&&(n=new $3Dmol.Gradient.builtinGradients[n]),r||(r=n.range()),r||(r=$3Dmol.getPropertyRange(o,t)),e=0;e<o.length;e++){var i=o[e];null!=$3Dmol.getAtomProperty(i,t)&&(i.color=n.valueToHex(parseFloat(i.properties[t]),r))}},this.setColorByFunction=function(e,t){var n=this.selectedAtoms(e,n);if("function"==typeof t)for(f=null,0<n.length&&(h=null),i=0;i<n.length;i++)a=n[i],a.color=t(a)},this.toCDObject=function(e){var t={a:[],b:[]};e&&(t.s=[]);for(var n=0;n<s.length;n++){var r={},o=s[n];if(r.x=o.x,r.y=o.y,r.z=o.z,"C"!=o.elem&&(r.l=o.elem),e){for(var i=0;i<t.s.length&&JSON.stringify(o.style)!==JSON.stringify(t.s[i]);)i++;i===t.s.length&&t.s.push(o.style),0!==i&&(r.s=i)}for(t.a.push(r),r=0;r<o.bonds.length;r++){i=n;var a=o.bonds[r];i>=a||(i={b:i,e:a},1!=(a=o.bondOrder[r])&&(i.o=a),t.b.push(i))}}return t},this.globj=function(e,t){if(null===h){var n=s,r=t;r=r||{};var o=new $3Dmol.Object3D,i=[],a={},l={},c=T;if(r.supportsImposters){c=A;var u=new $3Dmol.Geometry(!0);u.imposter=!0;var f=new $3Dmol.Geometry(!0,!0);f.imposter=!0,f.sphereGeometry=new $3Dmol.Geometry(!0),f.sphereGeometry.imposter=!0,f.drawnCaps={}}else r.supportsAIA?(c=x,(u=new $3Dmol.Geometry(!1,!0,!0)).instanced=!0):u=new $3Dmol.Geometry(!0),f=new $3Dmol.Geometry(!0);var y,v,b={},S=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],P=0;for(v=n.length;P<v;P++){var I=n[P];if(I&&I.style){(I.clickable||I.hoverable)&&void 0===I.intersectionShape&&(I.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});var M={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(y in M)M[y]=I.style[y]?I.style[y].opacity?parseFloat(I.style[y].opacity):1:void 0,b[y]?null!=M[y]&&b[y]!=M[y]&&(console.log("Warning: "+y+" opacity is ambiguous"),b[y]=1):b[y]=M[y];c(I,u);var D=I;if(D.style.clicksphere){var L=D.style.clicksphere;if(!L.hidden){var N=C(D,L);if((!0===D.clickable||D.hoverable)&&void 0!==D.intersectionShape){var R=new $3Dmol.Vector3(D.x,D.y,D.z);D.intersectionShape.sphere.push(new $3Dmol.Sphere(R,N))}}}var j=I,F=l;if(j.style.cross){var G=j.style.cross;if(!G.hidden){var B=G.linewidth||1;F[B]||(F[B]=new $3Dmol.Geometry);var z=F[B].updateGeoGroup(6),V=C(j,G),H=[[V,0,0],[-V,0,0],[0,V,0],[0,-V,0],[0,0,V],[0,0,-V]],U=j.clickable||j.hoverable;U&&void 0===j.intersectionShape&&(j.intersectionShape={sphere:[],cylinder:[],line:[]});for(var q=$3Dmol.getColorFromStyle(j,G),W=z.vertexArray,K=z.colorArray,$=0;6>$;$++){var Y=3*z.vertices;if(z.vertices++,W[Y]=j.x+H[$][0],W[Y+1]=j.y+H[$][1],W[Y+2]=j.z+H[$][2],K[Y]=q.r,K[Y+1]=q.g,K[Y+2]=q.b,U){var Q=new $3Dmol.Vector3(H[$][0],H[$][1],H[$][2]);Q.multiplyScalar(.1),Q.set(Q.x+j.x,Q.y+j.y,Q.z+j.z),j.intersectionShape.line.push(Q)}}}}var X=void 0,Z=void 0,J=void 0,ee=void 0,te=void 0,ne=void 0,re=I,oe=n,ie=a;if(re.style.line){var ae=re.style.line;if(!ae.hidden){var se=ae.linewidth||1;ie[se]||(ie[se]=new $3Dmol.Geometry);for(var le=ie[se].updateGeoGroup(6*re.bonds.length),ce=le.vertexArray,ue=le.colorArray,pe=0;pe<re.bonds.length;pe++){var he=oe[re.bonds[pe]];if(he.style.line&&!(re.serial>=he.serial)){var de=new $3Dmol.Vector3(re.x,re.y,re.z),fe=new $3Dmol.Vector3(he.x,he.y,he.z),me=de.clone().add(fe).multiplyScalar(.5),ye=!1,ge=re.clickable||re.hoverable,ve=he.clickable||he.hoverable;(ge||ve)&&(ge&&(void 0===re.intersectionShape&&(re.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),re.intersectionShape.line.push(de),re.intersectionShape.line.push(me)),ve&&(void 0===he.intersectionShape&&(he.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),he.intersectionShape.line.push(me),he.intersectionShape.line.push(fe)));var be=$3Dmol.getColorFromStyle(re,re.style.line),Se=$3Dmol.getColorFromStyle(he,he.style.line);if(re.bondStyles&&re.bondStyles[pe]){var we=re.bondStyles[pe];if(!we.iswire)continue;we.radius&&(bondR=we.radius),we.singleBond&&(ye=!0),void 0!==we.color1&&(be=$3Dmol.CC.color(we.color1)),void 0!==we.color2&&(Se=$3Dmol.CC.color(we.color2))}var Ce=3*le.vertices;if(1<re.bondOrder[pe]&&4>re.bondOrder[pe]&&!ye){var _e=_(re,he,pe),ke=fe.clone();ke.sub(de),2==re.bondOrder[pe]?(_e.multiplyScalar(.1),(ee=de.clone()).add(_e),(J=de.clone()).sub(_e),(Z=ee.clone()).add(ke),(X=J.clone()).add(ke),be==Se?(le.vertices+=4,k(ce,ue,Ce,ee,Z,be),k(ce,ue,Ce+6,J,X,be)):(le.vertices+=8,ke.multiplyScalar(.5),(te=ee.clone()).add(ke),(ne=J.clone()).add(ke),k(ce,ue,Ce,ee,te,be),k(ce,ue,Ce+6,te,Z,Se),k(ce,ue,Ce+12,J,ne,be),k(ce,ue,Ce+18,ne,X,Se))):3==re.bondOrder[pe]&&(_e.multiplyScalar(.1),(ee=de.clone()).add(_e),(J=de.clone()).sub(_e),(Z=ee.clone()).add(ke),(X=J.clone()).add(ke),be==Se?(le.vertices+=6,k(ce,ue,Ce,de,fe,be),k(ce,ue,Ce+6,ee,Z,be),k(ce,ue,Ce+12,J,X,be)):(le.vertices+=12,ke.multiplyScalar(.5),(te=ee.clone()).add(ke),(ne=J.clone()).add(ke),k(ce,ue,Ce,de,me,be),k(ce,ue,Ce+6,me,fe,Se),k(ce,ue,Ce+12,ee,te,be),k(ce,ue,Ce+18,te,Z,Se),k(ce,ue,Ce+24,J,ne,be),k(ce,ue,Ce+30,ne,X,Se)))}else be==Se?(le.vertices+=2,k(ce,ue,Ce,de,fe,be)):(le.vertices+=4,k(ce,ue,Ce,de,me,be),k(ce,ue,Ce+6,me,fe,Se))}}}}var Te=void 0,xe=void 0,Ee=void 0,Ae=void 0,Oe=void 0,Pe=void 0,Ie=void 0,Me=void 0,De=void 0,Le=void 0,Ne=void 0,Re=void 0,je=void 0,Fe=I,Ge=n,Be=f;if(Fe.style.stick){var ze=Fe.style.stick;if(!ze.hidden){var Ve=ze.radius||.25,He=ze.singleBonds||!1,Ue=0,qe=0,We=$3Dmol.getColorFromStyle(Fe,ze);!Fe.capDrawn&&4>Fe.bonds.length&&(Ue=2);var Ke=$3Dmol.GLDraw.drawCylinder;Be.imposter&&(Ke=O);for(var $e=0;$e<Fe.bonds.length;$e++){var Ye=Ge[Fe.bonds[$e]];if(Fe.serial<Ye.serial){var Qe=Ye.style;if(Qe.stick&&!Qe.stick.hidden){var Xe=$3Dmol.getColorFromStyle(Ye,Qe.stick);if(Ee=Ve,Re=He,Fe.bondStyles&&Fe.bondStyles[$e]){if((je=Fe.bondStyles[$e]).iswire)continue;je.radius&&(Ee=je.radius),je.singleBond&&(Re=!0),void 0!==je.color1&&(We=$3Dmol.CC.color(je.color1)),void 0!==je.color2&&(Xe=$3Dmol.CC.color(je.color2))}var Ze=new $3Dmol.Vector3(Fe.x,Fe.y,Fe.z),Je=new $3Dmol.Vector3(Ye.x,Ye.y,Ye.z);if(1===Fe.bondOrder[$e]||Re){if(!Ye.capDrawn&&4>Ye.bonds.length&&(qe=2),We!=Xe?(Ke(Be,Ze,xe=(new $3Dmol.Vector3).addVectors(Ze,Je).multiplyScalar(.5),Ee,We,Ue,0),Ke(Be,xe,Je,Ee,Xe,0,qe)):Ke(Be,Ze,Je,Ee,We,Ue,qe),Pe=Fe.clickable||Fe.hoverable,Ie=Ye.clickable||Ye.hoverable,Pe||Ie){if(xe||(xe=(new $3Dmol.Vector3).addVectors(Ze,Je).multiplyScalar(.5)),Pe){var et=new $3Dmol.Cylinder(Ze,xe,Ee),tt=new $3Dmol.Sphere(Ze,Ee);Fe.intersectionShape.cylinder.push(et),Fe.intersectionShape.sphere.push(tt)}if(Ie){var nt=new $3Dmol.Cylinder(Je,xe,Ee),rt=new $3Dmol.Sphere(Je,Ee);Ye.intersectionShape.cylinder.push(nt),Ye.intersectionShape.sphere.push(rt)}}}else if(1<Fe.bondOrder[$e]){var ot=0,it=0;Ee!=Ve&&(it=ot=2);var at=Je.clone();if(at.sub(Ze),Oe=_(Fe,Ye,$e),2==Fe.bondOrder[$e]){Ae=Ee/2.5,(Oe=_(Fe,Ye,$e)).multiplyScalar(1.5*Ae);var st=Ze.clone();st.add(Oe);var lt=Ze.clone();lt.sub(Oe);var ct=st.clone();ct.add(at);var ut=lt.clone();ut.add(at),We!=Xe?(xe=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5),Te=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5),Ke(Be,st,xe,Ae,We,ot,0),Ke(Be,xe,ct,Ae,Xe,0,it),Ke(Be,lt,Te,Ae,We,ot,0),Ke(Be,Te,ut,Ae,Xe,0,it)):(Ke(Be,st,ct,Ae,We,ot,it),Ke(Be,lt,ut,Ae,We,ot,it)),Pe=Fe.clickable||Fe.hoverable,Ie=Ye.clickable||Ye.hoverable,(Pe||Ie)&&(xe||(xe=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5)),Te||(Te=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5)),Pe&&(Me=new $3Dmol.Cylinder(st,xe,Ae),De=new $3Dmol.Cylinder(lt,Te,Ae),Fe.intersectionShape.cylinder.push(Me),Fe.intersectionShape.cylinder.push(De)),Ie&&(Le=new $3Dmol.Cylinder(ct,xe,Ae),Ne=new $3Dmol.Cylinder(ut,Te,Ae),Ye.intersectionShape.cylinder.push(Le),Ye.intersectionShape.cylinder.push(Ne)))}else if(3==Fe.bondOrder[$e]&&(Ae=Ee/4,Oe.cross(at),Oe.normalize(),Oe.multiplyScalar(3*Ae),(st=Ze.clone()).add(Oe),(lt=Ze.clone()).sub(Oe),(ct=st.clone()).add(at),(ut=lt.clone()).add(at),We!=Xe?(xe=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5),Te=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5),mp3=(new $3Dmol.Vector3).addVectors(Ze,Je).multiplyScalar(.5),Ke(Be,st,xe,Ae,We,ot,0),Ke(Be,xe,ct,Ae,Xe,0,it),Ke(Be,Ze,mp3,Ae,We,Ue,0),Ke(Be,mp3,Je,Ae,Xe,0,qe),Ke(Be,lt,Te,Ae,We,ot,0),Ke(Be,Te,ut,Ae,Xe,0,it)):(Ke(Be,st,ct,Ae,We,ot,it),Ke(Be,Ze,Je,Ae,We,Ue,qe),Ke(Be,lt,ut,Ae,We,ot,it)),Pe=Fe.clickable||Fe.hoverable,Ie=Ye.clickable||Ye.hoverable,Pe||Ie)){if(xe||(xe=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5)),Te||(Te=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5)),mp3||(mp3=(new $3Dmol.Vector3).addVectors(Ze,Je).multiplyScalar(.5)),Pe){Me=new $3Dmol.Cylinder(st.clone(),xe.clone(),Ae),De=new $3Dmol.Cylinder(lt.clone(),Te.clone(),Ae);var pt=new $3Dmol.Cylinder(Ze.clone(),mp3.clone(),Ae);Fe.intersectionShape.cylinder.push(Me),Fe.intersectionShape.cylinder.push(De),Fe.intersectionShape.cylinder.push(pt)}if(Ie){Le=new $3Dmol.Cylinder(ct.clone(),xe.clone(),Ae),Ne=new $3Dmol.Cylinder(ut.clone(),Te.clone(),Ae);var ht=new $3Dmol.Cylinder(Je.clone(),mp3.clone(),Ae);Ye.intersectionShape.cylinder.push(Le),Ye.intersectionShape.cylinder.push(Ne),Ye.intersectionShape.cylinder.push(ht)}}}}}}var dt=!1,ft=0,mt=!1;for($e=0;$e<Fe.bonds.length;$e++)Re=He,Fe.bondStyles&&Fe.bondStyles[$e]&&((je=Fe.bondStyles[$e]).singleBond&&(Re=!0),je.radius&&je.radius!=Ve&&(mt=!0)),(Re||1==Fe.bondOrder[$e])&&ft++;mt?0<ft&&(dt=!0):0==ft&&0<Fe.bonds.length&&(dt=!0),dt&&(Ee=Ve,Be.imposter?E(Be.sphereGeometry,Fe,Ee,We):$3Dmol.GLDraw.drawSphere(Be,Fe,Ee,We))}}void 0===I.style.cartoon||I.style.cartoon.hidden||("spectrum"!==I.style.cartoon.color||"number"!=typeof I.resi||I.hetflag||(I.resi<S[0]&&(S[0]=I.resi),I.resi>S[1]&&(S[1]=I.resi)),i.push(I))}}if(0<i.length&&$3Dmol.drawCartoon(o,i,S,w),u&&0<u.vertices){if(u.initTypedArrays(),u.imposter)var yt=new $3Dmol.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0});else if(u.instanced){var gt=new $3Dmol.Geometry(!0);$3Dmol.GLDraw.drawSphere(gt,{x:0,y:0,z:0},1,new $3Dmol.Color(.5,.5,.5)),gt.initTypedArrays(),yt=new $3Dmol.InstancedMaterial({sphereMaterial:new $3Dmol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:gt})}else yt=new $3Dmol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});1>b.sphere&&0<=b.sphere&&(yt.transparent=!0,yt.opacity=b.sphere),gt=new $3Dmol.Mesh(u,yt),o.add(gt)}if(0<f.vertices){var vt=f.sphereGeometry;vt&&void 0!==vt.vertices&&0!=vt.vertices||(vt=null),f.initTypedArrays(),vt&&vt.initTypedArrays();var bt={ambient:0,vertexColors:!0,reflectivity:0};if(f.imposter)var St=new $3Dmol.StickImposterMaterial(bt),wt=new $3Dmol.SphereImposterMaterial(bt);else St=new $3Dmol.MeshLambertMaterial(bt),wt=new $3Dmol.MeshLambertMaterial(bt),St.wireframe&&(f.setUpWireframe(),vt&&vt.setUpWireframe());1>b.stick&&0<=b.stick&&(St.transparent=!0,St.opacity=b.stick,wt.transparent=!0,wt.opacity=b.stick);var Ct=new $3Dmol.Mesh(f,St);if(o.add(Ct),vt){var _t=new $3Dmol.Mesh(vt,wt);o.add(_t)}}for(P in a)if(a.hasOwnProperty(P)){var kt=P,Tt=new $3Dmol.LineBasicMaterial({linewidth:kt,vertexColors:!0});1>b.line&&0<=b.line&&(Tt.transparent=!0,Tt.opacity=b.line),a[P].initTypedArrays();var xt=new $3Dmol.Line(a[P],Tt,$3Dmol.LinePieces);o.add(xt)}for(P in l)if(l.hasOwnProperty(P)){kt=P;var Et=new $3Dmol.LineBasicMaterial({linewidth:kt,vertexColors:!0});1>b.cross&&0<=b.cross&&(Et.transparent=!0,Et.opacity=b.cross),l[P].initTypedArrays();var At=new $3Dmol.Line(l[P],Et,$3Dmol.LinePieces);o.add(At)}if(g&&m.symmetries&&0<m.symmetries.length){var Ot,Pt=new $3Dmol.Object3D;for(Ot=0;Ot<m.symmetries.length;Ot++){new $3Dmol.Object3D;var It=o.clone();It.matrix.copy(m.symmetries[Ot]),It.matrixAutoUpdate=!1,Pt.add(It)}h=Pt}else h=o;d&&(e.remove(d),d=null),d=h.clone(),p&&(d.setVisible(!1),h.setVisible(!1)),e.add(d)}},this.removegl=function(e){d&&(void 0!==d.geometry&&d.geometry.dispose(),void 0!==d.material&&d.material.dispose(),e.remove(d),d=null),h=null},this.hide=function(){p=!0,d&&d.setVisible(!1),h&&h.setVisible(!1)},this.show=function(){p=!1,d&&d.setVisible(!0),h&&h.setVisible(!0)},this.addPropertyLabels=function(e,t,n,r){var o=this.selectedAtoms(t,o);for(t=$.extend(!0,{},r),r=0;r<o.length;r++){var i=o[r],a=null;void 0!==i[e]?a=String(i[e]):(i.properties[e],a=String(i.properties[e])),null!=a&&(t.position=i,n.addLabel(a,t))}},this.addResLabels=function(e,t,n){for(var r=this.selectedAtoms(e,r),o={},i=0;i<r.length;i++){var a=(e=r[i]).chain,s=e.resn+""+e.resi;o[a]||(o[a]={}),o[a][s]||(o[a][s]=[]),o[a][s].push(e)}for(a in n=$.extend(!0,{},n),o)if(o.hasOwnProperty(a)){var l=o[a];for(s in l)if(l.hasOwnProperty(s)){r=l[s];var c=new $3Dmol.Vector3(0,0,0);for(i=0;i<r.length;i++)e=r[i],c.x+=e.x,c.y+=e.y,c.z+=e.z;c.divideScalar(r.length),n.position=c,t.addLabel(s,n)}}};this.setCoordinatesFromURL=function(e,t){l=[];var n=this;return c&&function(){u=[];var e=new Int8Array(s.length);e.fill(0);for(var t=function(n,r,o){o.push([n,r]),r=s[n],e[n]=1;for(var i=0;i<r.bonds.length;i++){var a=r.bonds[i];s[a]&&!e[a]&&t(a,n,o)}},n=0;n<s.length;n++)if(s[n]&&!e[n]){var r=[];t(n,-1,r),u.push(r)}}(),new Promise(function(r,o){e.startsWith("http://")||(e="http://"+e),$.get(e+"/traj/numframes/"+t,function(i){isNaN(parseInt(i))||(l.push(s),l.numFrames=i,l.url=e,l.path=t,n.setFrame(0).then(function(){r()}).catch(o))})})},this.setCoordinates=function(t,n){if(!t)return[];if(/\.gz$/.test(n=n||"")){n=n.replace(/\.gz$/,"");try{t=pako.inflate(t,{to:"string"})}catch(e){console.log(e)}}if({mdcrd:"",inpcrd:"",pdb:"",netcdf:""}.hasOwnProperty(n)){l=[];var r=s.length;for(t=e.parseCrd(t,n),n=0;n<t.length;){for(var o=[],i=0;i<r;i++){var a,c={};for(a in s[i])c[a]=s[i][a];o[i]=c,o[i].x=t[n++],o[i].y=t[n++],o[i].z=t[n++]}l.push(o)}return s=l[0],l}return[]},this.addAtomSpecs=function(t){for(var n=0;n<t.length;n++)e.validAtomSelectionSpecs.hasOwnProperty(t[n])&&e.validAtomSelectionSpecs.push(t[n])}}var t={line:{}},n={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63};e.validElements="H Li LI Na NA K C N O F P S CL Cl BR Br SE Se ZN Zn CU Cu NI Ni".split(" "),e.validAtomSpecs={resn:{type:"string",valid:!0},x:{type:"number",valid:!1,step:.1},y:{type:"number",valid:!1,step:.1},z:{type:"number",valid:!1,step:.1},color:{type:"color",gui:!0},surfaceColor:{type:"color",gui:!0},elem:{type:"element",gui:!0},hetflag:{type:"boolean",valid:!1},chain:{type:"string",gui:!0},resi:{type:"number",gui:!0},icode:{type:"number",valid:!1,step:.1},rescode:{type:"number",valid:!1,step:.1},serial:{type:"number",valid:!1,step:.1},atom:{type:"string",valid:!1},bonds:{type:"array",valid:!1},ss:{type:"string",valid:!1},singleBonds:{type:"boolean",valid:!1},bondOrder:{type:"array",valid:!1},properties:{type:"properties",valid:!1},b:{type:"number",valid:!1,step:.1},pdbline:{type:"string",valid:!1},clickable:{type:"boolean",valid:!1},callback:{type:"function",valid:!1},invert:{type:"boolean",valid:!1},reflectivity:{type:"number",gui:!0,step:.1},altLoc:{type:"invalid",valid:!1}},e.validAtomSelectionSpecs=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(e.validAtomSpecs,{model:{type:"string",valid:!1},bonds:{type:"string",valid:!1},predicate:{type:"string",valid:!1},invert:{type:"string",valid:!1},byres:{type:"string",valid:!1},expand:{type:"string",valid:!1},within:{type:"string",valid:!1},and:{type:"string",valid:!1},or:{type:"string",valid:!1},not:{type:"string",valid:!1}});var r={hidden:{type:"boolean",gui:!0},singleBonds:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1.5,min:0}};return e.validAtomStyleSpecs={line:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!0,step:.1,default:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0}},gui:!0},cross:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!1,step:.1,default:1,min:0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1,min:.1},scale:{type:"number",gui:!0,step:.1,default:1,min:0}},gui:!0},stick:{validItems:{hidden:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:.25,min:.1},singleBonds:{type:"boolean",gui:!0}},gui:!0},sphere:{validItems:r,gui:!0},cartoon:{validItems:{style:{validItems:["trace","oval","rectangle","parabola","edged"],gui:!0},color:{type:"color",gui:!0},arrows:{type:"boolean",gui:!0},ribbon:{type:"boolean",gui:!0},hidden:{type:"boolean",gui:!0},tubes:{type:"boolean",gui:!0},thickness:{type:"number",gui:!0,step:.1,default:1,min:0},width:{type:"number",gui:!0,step:.1,default:1,min:0},opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1}},gui:!0},colorfunc:{validItems:null,valid:!1},clicksphere:{validItems:r}},e.validSurfaceSpecs={opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},voldata:{type:"number",gui:!1},volscheme:{type:"number",gui:!1},map:{type:"number",gui:!1}},e.validLabelResSpecs={font:{type:"string",gui:!0},fontSize:{type:"number",gui:!0,step:1,default:12,min:1},fontColor:{type:"color",gui:!0},fontOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},borderThickness:{type:"number",gui:!0,step:.1,default:1,min:0},borderColor:{type:"color",gui:!0},borderOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},backgroundColor:{type:"color",gui:!0},backgroundOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},position:{type:"array",valid:!1},inFront:{type:"boolean",gui:!0},showBackground:{type:"boolean",gui:!0},fixed:{type:"boolean",gui:!0},alignment:{validItems:"topLeft topCenter topRight centerLeft center centerRight bottomLeft bottomCenter bottomRight".split(" "),gui:!0},scale:{type:"boolean",gui:!1}},e.parseCrd=function(e,t){var n,r=[],o=0;if("pdb"==t)for(n=e.indexOf("\nATOM");-1!=n;){for(;"\nATOM"==e.slice(n,n+5)||"\nHETATM"==e.slice(n,n+7);)r[o++]=parseFloat(e.slice(n+31,n+39)),r[o++]=parseFloat(e.slice(n+39,n+47)),r[o++]=parseFloat(e.slice(n+47,n+55)),n=e.indexOf("\n",n+54),"\nTER"==e.slice(n,n+4)&&(n=e.indexOf("\n",n+5));n=e.indexOf("\nATOM",n)}else"netcdf"==t?(e=new netcdfjs(e),r=[].concat.apply([],e.getDataVariable("coordinates"))):(n=e.indexOf("\n"),"inpcrd"==t&&(n=e.indexOf("\n",n+1)),r=(e=e.slice(n+1)).match(/\S+/g).map(parseFloat));return r},e.parseMolData=function(e,t,n){if(!e)return[];if(/\.gz$/.test(t=t||"")){t=t.replace(/\.gz$/,"");try{e=pako.inflate(e,{to:"string"})}catch(e){console.log(e)}}return void 0===$3Dmol.Parsers[t]&&(t=t.split(".").pop(),void 0===$3Dmol.Parsers[t]&&(console.log("Unknown format: "+t),t=e instanceof Uint8Array?"mmtf":e.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":e.match(/^HETATM/gm)||e.match(/^ATOM/gm)?"pdb":e.match(/ITEM: TIMESTEP/gm)?"lammpstrj":e.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":e.match(/^%VERSION\s+\VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+t))),(0,$3Dmol.Parsers[t])(e,n)},e.setAtomDefaults=function(e,n){for(var r=0;r<e.length;r++){var o=e[r];o&&(o.style=o.style||t,o.color=o.color||ElementColors[o.elem]||defaultColor,o.model=n,o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})}},e}(),$3Dmol.GLShape=function(){function e(e){e=e||{},$3Dmol.ShapeIDCount++,this.boundingSphere=new $3Dmol.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},o(this,e);var i=[],a=null,s=null,l=new $3Dmol.Geometry(!0),c=new $3Dmol.Geometry(!0);this.updateStyle=function(t){for(var n in t)e[n]=t[n];o(this,e)},this.addCustom=function(e){e.vertexArr=e.vertexArr||[],e.faceArr=e.faceArr||[],e.normalArr=e.normalArr||[],n(this,l,e)},this.addSphere=function(e){e.center=e.center||{x:0,y:0,z:0},e.radius=e.radius?$3Dmol.Math.clamp(e.radius,0,1/0):1.5,e.color=$3Dmol.CC.color(e.color),this.intersectionShape.sphere.push(new $3Dmol.Sphere(e.center,e.radius)),$3Dmol.GLDraw.drawSphere(l,e.center,e.radius,e.color),i.push({centroid:new $3Dmol.Vector3(e.center.x,e.center.y,e.center.z)}),e=l.updateGeoGroup(0),r(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addBox=function(e){var t=e.dimensions||{w:1,h:1,d:1},o=t.w;"number"==typeof t.w&&(o={x:t.w,y:0,z:0});var a=t.h;"number"==typeof t.h&&(a={x:0,y:t.h,z:0});var s=t.d;"number"==typeof t.d&&(s={x:0,y:0,z:t.d}),null==(t=e.corner)&&(t=void 0!==e.center?{x:e.center.x-.5*(o.x+a.x+s.x),y:e.center.y-.5*(o.y+a.y+s.y),z:e.center.z-.5*(o.z+a.z+s.z)}:{x:0,y:0,z:0}),o=[{x:t.x,y:t.y,z:t.z},{x:t.x+o.x,y:t.y+o.y,z:t.z+o.z},{x:t.x+a.x,y:t.y+a.y,z:t.z+a.z},{x:t.x+o.x+a.x,y:t.y+o.y+a.y,z:t.z+o.z+a.z},{x:t.x+s.x,y:t.y+s.y,z:t.z+s.z},{x:t.x+o.x+s.x,y:t.y+o.y+s.y,z:t.z+o.z+s.z},{x:t.x+a.x+s.x,y:t.y+a.y+s.y,z:t.z+a.z+s.z},{x:t.x+o.x+a.x+s.x,y:t.y+o.y+a.y+s.y,z:t.z+o.z+a.z+s.z}],s=[],(a=[]).splice(a.length,0,o[0],o[1],o[2],o[3]),s.splice(s.length,0,0,2,1,1,2,3),t=4,a.splice(a.length,0,o[2],o[3],o[6],o[7]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[4],o[5],o[0],o[1]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[6],o[7],o[4],o[5]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[3],o[1],o[7],o[5]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[2],o[0],o[6],o[4]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),(e=$.extend({},e)).vertexArr=a,e.faceArr=s,e.normalArr=[],n(this,l,e),e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(o[0],o[7]).multiplyScalar(.5)}),e=l.updateGeoGroup(0),r(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addCylinder=function(e){e.start=e.start||{},e.end=e.end||{};var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),n=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);void 0===n.x&&(n.x=3);var o=e.radius||.1,a=$3Dmol.CC.color(e.color);this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(t,n,o)),$3Dmol.GLDraw.drawCylinder(l,t,n,o,a,e.fromCap,e.toCap),e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(t,n).multiplyScalar(.5)}),t=l.updateGeoGroup(0),r(this.boundingSphere,i,t.vertexArray,t.vertices)},this.addDashedCylinder=function(e){e.start=e.start||{},e.end=e.end||{},e.dashLength=e.dashLength||.25,e.gapLength=e.gapLength||.25;var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),n=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);void 0===n.x&&(n.x=3);var o=e.radius||.1,a=$3Dmol.CC.color(e.color),s=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)+Math.pow(t.z-n.z,2)),c=s/(e.gapLength+e.dashLength),u=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0);new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);for(var p=new $3Dmol.Vector3((n.x-t.x)/(s/e.gapLength),(n.y-t.y)/(s/e.gapLength),(n.z-t.z)/(s/e.gapLength)),h=new $3Dmol.Vector3((n.x-t.x)/(s/e.dashLength),(n.y-t.y)/(s/e.dashLength),(n.z-t.z)/(s/e.dashLength)),d=0;d<c;d++)s=new $3Dmol.Vector3(u.x+h.x,u.y+h.y,u.z+h.z),this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(u,s,o)),$3Dmol.GLDraw.drawCylinder(l,u,s,o,a,e.fromCap,e.toCap),u=new $3Dmol.Vector3(s.x+p.x,s.y+p.y,s.z+p.z);e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(t,n).multiplyScalar(.5)}),t=l.updateGeoGroup(0),r(this.boundingSphere,i,t.vertexArray,t.vertices)},this.addCurve=function(e){e.points=e.points||[],e.smooth=e.smooth||10,void 0===e.fromCap&&(e.fromCap=2),void 0===e.toCap&&(e.toCap=2);var t=$3Dmol.subdivide_spline(e.points,e.smooth);if(3>t.length)console.log("Too few points in addCurve");else{var n=e.radius||.1,r=$3Dmol.CC.color(e.color),o=0,i=t.length-1,a=t[0].distanceTo(t[1]),s=Math.ceil(2*n/a);for(e.toArrow&&(a={start:t[i-=s],end:t[t.length-1],radius:n,color:r,mid:1e-4},this.addArrow(a)),e.fromArrow&&(a={start:t[o+=s],end:t[0],radius:n,color:r,mid:1e-4},this.addArrow(a)),e=Math.ceil(t.length/2),n={radius:n,color:r,fromCap:2,toCap:2};o<i;o++)n.start=t[o],n.end=t[o+1],n.fromCap=2,n.toCap=2,o<e?(n.fromCap=2,n.toCap=0):(n.fromCap=o>e?0:2,n.toCap=2),this.addCylinder(n)}},this.addLine=function(e){e.start=e.start||{},e.end=e.end||{};var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0);void 0===(e=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0)).x&&(e.x=3);var n=l.updateGeoGroup(2),o=n.vertices,a=3*o,s=n.vertexArray;s[a]=t.x,s[a+1]=t.y,s[a+2]=t.z,s[a+3]=e.x,s[a+4]=e.y,s[a+5]=e.z,n.vertices+=2,(a=n.lineArray)[s=n.lineidx]=o,a[s+1]=o+1,n.lineidx+=2,n=new $3Dmol.Vector3,i.push({centroid:n.addVectors(t,e).multiplyScalar(.5)}),n=l.updateGeoGroup(0),r(this.boundingSphere,i,n.vertexArray,n.vertices)},this.addArrow=function(e){if(e.start=e.start||{},e.end=e.end||{},e.start=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),e.dir instanceof $3Dmol.Vector3&&e.length instanceof number){var t=e.dir.clone().multiplyScalar(e.length).add(start);e.end=t}else e.end=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0),void 0===e.end.x&&(e.end.x=3);e.radius=e.radius||.1,e.radiusRatio=e.radiusRatio||1.618034,e.mid=0<e.mid&&1>e.mid?e.mid:.618034;var n=e.start,o=e.end,a=e.radius,s=e.radiusRatio,c=e.mid;if(n&&o){t=l.updateGeoGroup(51);var u=o.clone();u.sub(n).multiplyScalar(c);var p=n.clone().add(u);c=u.clone().negate(),this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(n.clone(),p.clone(),a)),this.intersectionShape.sphere.push(new $3Dmol.Sphere(n.clone(),a));var h=[];h[0]=u.clone(),1e-4<Math.abs(h[0].x)?h[0].y+=1:h[0].x+=1,h[0].cross(u),h[0].normalize(),h[0]=h[0],h[4]=h[0].clone(),h[4].crossVectors(h[0],u),h[4].normalize(),h[8]=h[0].clone().negate(),h[12]=h[4].clone().negate(),h[2]=h[0].clone().add(h[4]).normalize(),h[6]=h[4].clone().add(h[8]).normalize(),h[10]=h[8].clone().add(h[12]).normalize(),h[14]=h[12].clone().add(h[0]).normalize(),h[1]=h[0].clone().add(h[2]).normalize(),h[3]=h[2].clone().add(h[4]).normalize(),h[5]=h[4].clone().add(h[6]).normalize(),h[7]=h[6].clone().add(h[8]).normalize(),h[9]=h[8].clone().add(h[10]).normalize(),h[11]=h[10].clone().add(h[12]).normalize(),h[13]=h[12].clone().add(h[14]).normalize(),h[15]=h[14].clone().add(h[0]).normalize();var d,f=t.vertices,m=t.vertexArray,y=t.faceArray,g=t.normalArray,v=t.lineArray,b=0;for(d=h.length;b<d;++b){var S=3*(f+3*b),w=h[b].clone().multiplyScalar(a).add(n),C=h[b].clone().multiplyScalar(a).add(p),_=h[b].clone().multiplyScalar(a*s).add(p);m[S]=w.x,m[S+1]=w.y,m[S+2]=w.z,m[S+3]=C.x,m[S+4]=C.y,m[S+5]=C.z,m[S+6]=_.x,m[S+7]=_.y,m[S+8]=_.z,0<b&&(S=new $3Dmol.Vector3(m[S-3],m[S-2],m[S-1]),w=o.clone(),C=p.clone(),_=new $3Dmol.Vector3(_.x,_.y,_.z),this.intersectionShape.triangle.push(new $3Dmol.Triangle(_,w,S)),this.intersectionShape.triangle.push(new $3Dmol.Triangle(S.clone(),C,_.clone())))}t.vertices+=48,m[S=3*t.vertices]=n.x,m[S+1]=n.y,m[S+2]=n.z,m[S+3]=p.x,m[S+4]=p.y,m[S+5]=p.z,m[S+6]=o.x,m[S+7]=o.y,m[S+8]=o.z,t.vertices+=3;var k,T,x=t.vertices-3,E=t.vertices-2,A=t.vertices-1,O=3*x,P=3*E,I=3*A;for(b=0,d=h.length-1;b<d;++b){var M=f+3*b;n=t.faceidx,o=t.lineidx,S=3*(a=M),w=3*(s=M+1),C=3*(p=M+2);var D=3*(m=M+4),L=3*(_=M+5),N=3*(M+=3),R=k=h[b],j=T=h[b+1];g[S]=R.x,g[w]=k.x,g[N]=T.x,g[S+1]=R.y,g[w+1]=k.y,g[N+1]=T.y,g[S+2]=R.z,g[w+2]=k.z,g[N+2]=T.z,g[w]=k.x,g[D]=j.x,g[N]=T.x,g[w+1]=k.y,g[D+1]=j.y,g[N+1]=T.y,g[w+2]=k.z,g[D+2]=j.z,g[N+2]=T.z,g[C]=k.x,g[L]=j.x,g[C+1]=k.y,g[L+1]=j.y,g[C+2]=k.z,g[L+2]=j.z,y[n]=a,y[n+1]=s,y[n+2]=M,y[n+3]=s,y[n+4]=m,y[n+5]=M,y[n+6]=a,y[n+7]=M,y[n+8]=x,y[n+9]=p,y[n+10]=E,y[n+11]=_,y[n+12]=p,y[n+13]=A,y[n+14]=_,v[o]=a,v[o+1]=s,v[o+2]=a,v[o+3]=M,v[o+4]=m,v[o+5]=M,v[o+6]=a,v[o+7]=M,v[o+8]=p,v[o+9]=s,v[o+10]=p,v[o+11]=_,v[o+12]=m,v[o+13]=_,v[o+14]=p,v[o+15]=A,v[o+16]=p,v[o+17]=_,v[o+18]=A,v[o+19]=_,t.faceidx+=15,t.lineidx+=20}f=[f+45,f+46,f+1,f,f+47,f+2],n=t.faceidx,o=t.lineidx,S=3*(a=f[0]),w=3*(s=f[1]),C=3*(p=f[4]),D=3*(m=f[2]),L=3*(_=f[5]),N=3*(M=f[3]),R=k=h[15],j=T=h[0],g[S]=R.x,g[w]=k.x,g[N]=T.x,g[S+1]=R.y,g[w+1]=k.y,g[N+1]=T.y,g[S+2]=R.z,g[w+2]=k.z,g[N+2]=T.z,g[w]=k.x,g[D]=j.x,g[N]=T.x,g[w+1]=k.y,g[D+1]=j.y,g[N+1]=T.y,g[w+2]=k.z,g[D+2]=j.z,g[N+2]=T.z,g[C]=k.x,g[L]=j.x,g[C+1]=k.y,g[L+1]=j.y,g[C+2]=k.z,g[L+2]=j.z,u.normalize(),c.normalize(),g[O]=c.x,g[P]=g[I]=u.x,g[O+1]=c.y,g[P+1]=g[I+1]=u.y,g[O+2]=c.z,g[P+2]=g[I+2]=u.z,y[n]=a,y[n+1]=s,y[n+2]=M,y[n+3]=s,y[n+4]=m,y[n+5]=M,y[n+6]=a,y[n+7]=M,y[n+8]=x,y[n+9]=p,y[n+10]=E,y[n+11]=_,y[n+12]=p,y[n+13]=A,y[n+14]=_,v[o]=a,v[o+1]=s,v[o+2]=a,v[o+3]=M,v[o+4]=m,v[o+5]=M,v[o+6]=a,v[o+7]=M,v[o+8]=p,v[o+9]=s,v[o+10]=p,v[o+11]=_,v[o+12]=m,v[o+13]=_,v[o+14]=p,v[o+15]=A,v[o+16]=p,v[o+17]=_,v[o+18]=A,v[o+19]=_,t.faceidx+=15,t.lineidx+=20}t=new $3Dmol.Vector3,i.push({centroid:t.addVectors(e.start,e.end).multiplyScalar(.5)}),e=l.updateGeoGroup(0),r(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addIsosurface=function(e,t,r){var o,i=void 0!==t.isoval&&"number"==typeof t.isoval?t.isoval:0,a=!!t.voxel,s=void 0===t.smoothness?1:t.smoothness,c=e.size.x,u=e.size.y,p=e.size.z,h=new Int16Array(c*u*p),d=e.data,f=0;for(o=h.length;f<o;++f)h[f]=-1;for(h=new Uint8Array(c*u*p),f=0,o=d.length;f<o;++f)0<(0<=i?d[f]-i:i-d[f])&&(h[f]|=2);if(i=[],d=[],$3Dmol.MarchingCube.march(h,i,d,{fulltable:!0,voxel:a,unitCube:e.unit,origin:e.origin,matrix:e.matrix,nX:c,nY:u,nZ:p}),!a&&0<s&&$3Dmol.MarchingCube.laplacianSmooth(s,i,d),a=[],s=[],c=[],t.selectedRegion&&void 0===t.coords&&(t.coords=t.selectedRegion),void 0!==t.coords){u=t.coords[0].x,p=t.coords[0].y,h=t.coords[0].z,o=t.coords[0].x;var m=t.coords[0].y,y=t.coords[0].z;for(f=0;f<t.coords.length;f++)t.coords[f].x>u?u=t.coords[f].x:t.coords[f].x<o&&(o=t.coords[f].x),t.coords[f].y>p?p=t.coords[f].y:t.coords[f].y<m&&(m=t.coords[f].y),t.coords[f].z>h?h=t.coords[f].z:t.coords[f].z<y&&(y=t.coords[f].z);var g=2;for(void 0!==t.radius&&(g=t.radius),void 0!==t.selectedOffset&&(g=t.selectedOffset),void 0!==t.seldist&&(g=t.seldist),o-=g,u+=g,m-=g,p+=g,y-=g,h+=g,f=0;f<i.length;f++){var v;if(v=i[f].x>o&&i[f].x<u&&i[f].y>m&&i[f].y<p&&i[f].z>y&&i[f].z<h)e:{v=i[f];for(var b=t.coords,S=g,w=0;w<b.length;w++){var C=b[w];if(Math.sqrt(Math.pow(C.x-v.x,2)+Math.pow(C.y-v.y,2)+Math.pow(C.z-v.z,2))<=S){v=!0;break e}}v=!1}v?(a.push(s.length),s.push(i[f])):a.push(-1)}for(f=0;f+2<d.length;f+=3)-1!==a[d[f]]&&-1!==a[d[f+1]]&&-1!==a[d[f+2]]&&(c.push(d[f]-(d[f]-a[d[f]])),c.push(d[f+1]-(d[f+1]-a[d[f+1]])),c.push(d[f+2]-(d[f+2]-a[d[f+2]])));i=s,d=c}for(n(this,l,{vertexArr:i,faceArr:d,normalArr:[],clickable:t.clickable,hoverable:t.hoverable}),this.updateStyle(t),f=new $3Dmol.Vector3(e.origin.x,e.origin.y,e.origin.z),d=new $3Dmol.Vector3(e.size.x*e.unit.x,e.size.y*e.unit.y,e.size.z*e.unit.z),e=new $3Dmol.Vector3(0,0,0),t=f.clone(),d=f.clone().add(d),f=0;f<i.length;f++)e.add(i[f]),t.max(i[f]),d.min(i[f]);e.divideScalar(i.length),f=e.distanceTo(d),i=e.distanceTo(t),this.boundingSphere.center=e,this.boundingSphere.radius=Math.max(f,i),"function"==typeof r&&r()},this.addVolumetricData=function(e,t,n){e=new $3Dmol.VolumeData(e,t),this.addIsosurface(e,n)},this.finalize=function(){t(l),l.initTypedArrays()},this.globj=function(e){var n;if(s&&(e.remove(s),s=null),!this.hidden){if(t(l),l.initTypedArrays(),this.wireframe&&l.setUpWireframe(),void 0!==this.color){if((n=this.color)||$3Dmol.CC.color(n),l.colorsNeedUpdate=!0,n.constructor!==Array)var r=n.r,o=n.g,i=n.b;for(var u in l.geometryGroups){var p=l.geometryGroups[u],h=p.colorArray,d=0;for(p=p.vertices;d<p;++d)n.constructor===Array&&(r=(i=n[d]).r,o=i.g,i=i.b),h[3*d]=r,h[3*d+1]=o,h[3*d+2]=i}}a=new $3Dmol.Object3D,n=this.side==$3Dmol.DoubleSide?new $3Dmol.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}):new $3Dmol.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}),n=new $3Dmol.Mesh(l,n),a.add(n),n=new $3Dmol.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),n=new $3Dmol.Line(c,n,$3Dmol.LinePieces),a.add(n),s=a.clone(),e.add(s)}},this.removegl=function(e){s&&(void 0!==s.geometry&&s.geometry.dispose(),void 0!==s.material&&s.material.dispose(),e.remove(s),s=null),a=null}}var t=function(e){0<(e=e.updateGeoGroup(0)).vertices&&e.truncateArrayBuffers(!0,!0)},n=function(e,t,n){var o=n.faceArr;0!==n.vertexArr.length&&0!==o.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!"),void 0===(o=n.color)&&(o=e.color),o=$3Dmol.CC.color(o);for(var i=$3Dmol.splitMesh(n),a=0,s=i.length;a<s;a++){var l,c=void 0,u=l=void 0,p=e,h=t,d=i[a],f=i[a].colorArr?i[a].colorArr:o,m=n.clickable,y=h.addGeoGroup(),g=d.vertexArr,v=d.normalArr,b=d.faceArr;y.vertices=g.length,y.faceidx=b.length;var S=y.vertexArray,w=y.colorArray;f.constructor!==Array&&(c=f.r,l=f.g,u=f.b);var C=0;for(d=y.vertices;C<d;++C){var _=3*C,k=g[C];S[_]=k.x,S[_+1]=k.y,S[_+2]=k.z,f.constructor===Array&&(c=(k=f[C]).r,l=k.g,u=k.b),w[_]=c,w[_+1]=l,w[_+2]=u}if(m)for(C=0,d=y.faceidx/3;C<d;++C)l=b[_=3*C],u=b[_+1],k=b[_+2],_=new $3Dmol.Vector3,c=new $3Dmol.Vector3,f=new $3Dmol.Vector3,p.intersectionShape.triangle.push(new $3Dmol.Triangle(_.copy(g[l]),c.copy(g[u]),f.copy(g[k])));if(m){for(d=new $3Dmol.Vector3(0,0,0),l=C=0;l<h.geometryGroups.length;l++)d.add(h.geometryGroups[l].getCentroid()),C++;d.divideScalar(C),r(p.boundingSphere,{centroid:d},S,y.vertices)}if(y.faceArray=new Uint16Array(b),y.truncateArrayBuffers(!0,!0),v.length<y.vertices)y.setNormals();else for(h=y.normalArray=new Float32Array(3*y.vertices),C=0,d=y.vertices;C<d;++C)_=3*C,p=v[C],h[_]=p.x,h[_+1]=p.y,h[_+2]=p.z;y.setLineIndices(),y.lineidx=y.lineArray.length}},r=function(e,t,n,r){var o;if(e.center.set(0,0,0),0<t.length){var i=0;for(o=t.length;i<o;++i)e.center.add(t[i].centroid);e.center.divideScalar(t.length)}for(t=e.radius*e.radius,n.length/3<r&&(r=n.length/3),i=0,o=r;i<o;i++)r=e.center.distanceToSquared({x:n[3*i],y:n[3*i+1],z:n[3*i+2]}),t=Math.max(t,r);e.radius=Math.sqrt(t)},o=function(e,t){void 0!==t.color?(e.color=t.color||new $3Dmol.Color,t.color instanceof $3Dmol.Color||(e.color=$3Dmol.CC.color(t.color))):e.color=$3Dmol.CC.color(0),e.wireframe=!!t.wireframe,e.opacity=t.alpha?$3Dmol.Math.clamp(t.alpha,0,1):1,void 0!==t.opacity&&(e.opacity=$3Dmol.Math.clamp(t.opacity,0,1)),e.side=void 0!==t.side?t.side:$3Dmol.DoubleSide,e.linewidth=void 0===t.linewidth?1:t.linewidth,e.clickable=!!t.clickable,e.callback="function"==typeof t.callback?t.callback:null,e.hoverable=!!t.hoverable,e.hover_callback="function"==typeof t.hover_callback?t.hover_callback:null,e.unhover_callback="function"==typeof t.unhover_callback?t.unhover_callback:null,e.hidden=t.hidden};return Object.defineProperty(e.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),e}(),$3Dmol.ShapeIDCount=0,$3Dmol.splitMesh=function(e){if(64e3>e.vertexArr.length)return[e];var t=[{vertexArr:[],normalArr:[],faceArr:[]}];e.colorArr&&(t.colorArr=[]);for(var n=[],r=[],o=0,i=e.faceArr,a=0,s=i.length;a<s;a+=3){for(var l=t[o],c=0;3>c;c++){var u=i[a+c];n[u]!==o&&(n[u]=o,r[u]=l.vertexArr.length,l.vertexArr.push(e.vertexArr[u]),e.normalArr&&e.normalArr[u]&&l.normalArr.push(e.normalArr[u]),e.colorArr&&e.colorArr[u]&&l.colorArr.push(e.colorArr[u])),l.faceArr.push(r[u])}64e3<=l.vertexArr.length&&(t.push({vertexArr:[],normalArr:[],faceArr:[]}),e.colorArr&&(t.colorArr=[]),o++)}return t},$3Dmol.GLViewer=function(e,t){function n(e){var t=[];if(void 0===e.model)for(e=0;e<f.length;e++)f[e]&&t.push(f[e]);else for(t=e.model,$.isArray(t)||(t=[t]),e=0;e<t.length;e++)if("number"==typeof t[e]){var n=t[e];0>n&&(n+=f.length),t[e]=f[n]}return t}function r(e){var t=[];void 0===e&&(e={});for(var r=n(e),o=0;o<r.length;o++)t=t.concat(r[o].selectedAtoms(e));return t}function o(e,t,r,o,i){for(var a=n(t),s=0;s<a.length;s++)a[s][e](t,r,o,i)}function i(e){var t=new $3Dmol.MeshLambertMaterial;for(var n in t.vertexColors=$3Dmol.VertexColors,e)"color"!==n&&"map"!==n&&e.hasOwnProperty(n)&&(t[n]=e[n]);return void 0!==e.opacity&&(t.transparent=1!==e.opacity),t}var a=(t=t||{}).callback,s=t.defaultcolors;s||(s=$3Dmol.elementColors.defaultColors);var l,c=t.nomouse,u=0;t.backgroundColor=t.backgroundColor||"#ffffff",u=$3Dmol.CC.color(t.backgroundColor).getHex(),l=parseFloat(t.camerax);var p=this,h=e,d=null,f=[],m={},y=[],g=[],v=[],b=[],S=[],w=null,C=500;C=t.hoverDuration;var _=h.width(),k=h.height(),T=[],x=new $3Dmol.Renderer({antialias:!0,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:t.id,row:t.row,col:t.col,rows:t.rows,cols:t.cols,canvas:t.canvas});x.domElement.style.width="100%",x.domElement.style.height="100%",x.domElement.style.padding="0",x.domElement.style.position="absolute",x.domElement.style.top="0px",x.domElement.style.left="0px",x.domElement.style.zIndex="0";var E=t.row,A=t.col,O=t.cols,P=t.rows,I=t.viewers,M=t.control_all,D=x.getAspect(_,k),L=new $3Dmol.Camera(20,D,1,800,t.orthographic);L.position=new $3Dmol.Vector3(l,0,150);var N=new $3Dmol.Vector3;L.lookAt(N);var R=new $3Dmol.Raycaster(new $3Dmol.Vector3(0,0,0),new $3Dmol.Vector3(0,0,0)),j=new $3Dmol.Projector;new $3Dmol.Vector3(0,0,0);var F=null,G=null,B=null,z=-50,V=50,H=new $3Dmol.Quaternion(0,0,0,1),U=new $3Dmol.Quaternion(0,0,0,1),q=0,W=!1,K=0,Y=0,Q=0,X=0,Z=0,J=0,ee=0,te=function(){0>--q&&(q=0)},ne=function(){var e,t=0;for(e in m)if(m.hasOwnProperty(e)){var n=parseInt(e);isNaN(n)||(e=n),e>t&&(t=e)}return t+1},re=function(){var e=L.position.z-G.position.z;1>e&&(e=1),L.near=e+z,1>L.near&&(L.near=1),L.far=e+V,L.near+1>L.far&&(L.far=L.near+1),L.fov=20,L.right=e*Math.tan(Math.PI/180*20),L.left=-L.right,L.top=L.right/D,L.bottom=-L.top,L.updateProjectionMatrix(),F.fog.near=L.near+.4*(L.far-L.near),F.fog.far=L.far,t.disableFog&&(F.fog.near=F.fog.far)},oe=function(e){if(x.setViewport(),F&&(re(),x.render(F,L),!e&&0<T.length)){e=p.getView();for(var t=0;t<T.length;t++)T[t].setView(e,!0)}};!function(){(F=new $3Dmol.Scene).fog=new $3Dmol.Fog(u,100,200),B=new $3Dmol.Object3D,(G=new $3Dmol.Object3D).useQuaternion=!0,G.quaternion=new $3Dmol.Quaternion(0,0,0,1),G.add(B),F.add(G);var e=new $3Dmol.Light(16777215);e.position=new $3Dmol.Vector3(.2,.2,1).normalize(),e.intensity=1,F.add(e)}(),x.setClearColorHex(u,1),F.fog.color=$3Dmol.CC.color(u);var ie=function(e,t){w!=e&&(w&&w.unhover_callback(w,p,t,h),(w=e)&&void 0!==e.hover_callback&&"function"==typeof e.hover_callback&&e.hover_callback(e,p,t,h))},ae=function(e){var t=e.originalEvent.targetTouches[0].pageX-e.originalEvent.targetTouches[1].pageX;return e=e.originalEvent.targetTouches[0].pageY-e.originalEvent.targetTouches[1].pageY,Math.sqrt(t*t+e*e)},se=function(e){var t=e.pageX,n=e.pageY;return null==t&&(t=e.originalEvent.pageX),null==n&&(n=e.originalEvent.pageY),e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]?(t=e.originalEvent.targetTouches[0].pageX,n=e.originalEvent.targetTouches[0].pageY):e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].pageX,n=e.originalEvent.changedTouches[0].pageY),[t,n]},le=function(e,t){var n=h.width(),r=h.height();if(null!=I&&!M){n/=O,r/=P;var o=$("canvas",h).offset();if(e=Math.floor((e-o.left)/n),P-Math.floor((t-o.top)/r)-1!=E||e!=A)return!1}return!0};$("body").bind("mouseup touchend",function(e){if(W&&F){var t=se(e),n=t[0];if(t=t[1],n==K&&t==Y){var r=$("canvas",h).offset();0!=b.length&&(R.setFromCamera({x:(n-r.left)/_*2-1,y:-(t-r.top)/k*2+1,z:-1},L),(n=R.intersectObjects(B,b)).length&&void 0!==(n=n[0].clickable).callback&&"function"==typeof n.callback&&n.callback(n,p,e,h))}}W=!1});var ce=function(e){if(t.lowerZoomLimit&&0<t.lowerZoomLimit){var n=150-t.lowerZoomLimit;e>n&&(e=n)}return t.upperZoomLimit&&0<t.upperZoomLimit&&e<(n=150-t.upperZoomLimit)&&(e=n),150<e&&(e=149.85),e};this.setZoomLimits=function(e,n){void 0!==e&&(t.lowerZoomLimit=e),n&&(t.upperZoomLimit=n),G.position.z=ce(G.position.z),oe()};var ue,pe=this._handleMouseDown=function(e){if(e.preventDefault(),F){var t=se(e),n=t[0];t=t[1],void 0!==n&&(W=!0,ue=e.which,K=n,Y=t,Q=0,e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length&&(Q=ae(e)),H=G.quaternion,Z=G.position.z,X=B.position.clone(),J=z,ee=V)}},he=this._handleMouseScroll=function(e){if(e.preventDefault(),F){var t=se(e),n=t[0];void 0!==n&&le(n,t[1])&&(t=.85*(150-G.position.z),n=1,e.originalEvent.ctrlKey&&(n=-1),e.originalEvent.detail?G.position.z+=n*t*e.originalEvent.detail/10:e.originalEvent.wheelDelta&&(G.position.z-=n*t*e.originalEvent.wheelDelta/400),G.position.z=ce(G.position.z),oe())}};this.pngURI=function(){return this.getCanvas().toDataURL("image/png")},this.getCanvas=function(){return d.get(0)},this.setHoverDuration=function(e){C=e};var de,fe=this._handleMouseMove=function(e){_=h.width(),k=h.height(),clearTimeout(de);var t=$("canvas",h).offset(),n=(se(e)[0]-t.left)/_*2-1,r=-(se(e)[1]-t.top)/k*2+1;if(null!==w&&function(e,t,n){R.setFromCamera({x:e,y:t,z:-1},L),0!=(e=R.intersectObjects(B,S)).length&&void 0!==e[0]||ie(null),void 0!==e[0]&&e[0].clickable!==w&&ie(null)}(n,r),de=setTimeout(function(){if(0!=S.length){R.setFromCamera({x:n,y:r,z:-1},L);var e=R.intersectObjects(B,S);e.length?(e=e[0].clickable,ie(e),w=e):ie(null)}},C),e.preventDefault(),F&&W){t=0;var o=se(e),i=o[0],a=o[1];if(void 0!==i&&le(i,a)){o=(i-K)/_;var s=(a-Y)/k;0!=Q&&e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length?(t=2,s=2*((s=ae(e))-Q)/(_+k),console.log("pinch "+Q+" dy "+s)):e.originalEvent.targetTouches&&3==e.originalEvent.targetTouches.length&&(t=1);var l=x.getXYRatio(),c=l[0],u=l[1];o*=c,s*=u,l=Math.sqrt(o*o+s*s),3==t||3==ue&&e.ctrlKey?(z=J+100*o,V=ee-100*s):2==t||3==ue||e.shiftKey?(80>(e=.85*(150-G.position.z))&&(e=80),G.position.z=Z+s*e,G.position.z=ce(G.position.z)):1==t||2==ue||e.ctrlKey?(e=function(e,t){e/=_,t/=k;var n=G.quaternion,r=new $3Dmol.Vector3(0,0,G.position.z);return j.projectVector(r,L),r.x+=2*e,r.y-=2*t,j.unprojectVector(r,L),r.z=0,r.applyQuaternion(n),r}(c*(i-K),u*(a-Y)),B.position.addVectors(X,e)):0!==t&&1!=ue||0===l||(e=Math.sin(l*Math.PI)/l,U.x=Math.cos(l*Math.PI),U.y=0,U.z=e*o,U.w=-e*s,G.quaternion=new $3Dmol.Quaternion(1,0,0,0),G.quaternion.multiply(U),G.quaternion.multiply(H)),oe()}}},me=function(e){_=(h=e).width(),k=h.height(),D=x.getAspect(_,k),x.setSize(_,k),h.append(x.domElement),d=$(x.domElement),c||(d.bind("mousedown touchstart",pe),d.bind("DOMMouseScroll mousewheel",he),d.bind("mousemove touchmove",fe),d.bind("contextmenu",function(e){e.preventDefault()}))};me(h),this.setContainer=function(e){return"string"===$.type(e)&&(e=$("#"+e)),e||(e=h),me(e),this},this.setBackgroundColor=function(e,t){return void 0===t?t=1:(0>t||1<t)&&(t=1),e=$3Dmol.CC.color(e),F.fog.color=e,u=e.getHex(),x.setClearColorHex(e.getHex(),t),oe(),this},this.setProjection=function(e){L.ortho="orthographic"===e,re()},this.setViewStyle=function(e){if("outline"===e.style){var t={};e.color&&(t.color=$3Dmol.CC.color(e.color)),e.width&&(t.width=e.width),x.enableOutline(t)}else x.disableOutline();return this},t.style&&this.setViewStyle(t),this.setWidth=function(e){return _=e||_,x.setSize(_,k),this},this.setHeight=function(e){return k=e||k,x.setSize(_,k),this},this.resize=function(){return _=h.width(),k=h.height(),D=x.getAspect(_,k),x.setSize(_,k),L.aspect=D,L.updateProjectionMatrix(),oe(),this},$(window).resize(this.resize),this.getModel=function(e){return e in f?f[e]:0==f.length?null:f[f.length-1]},this.rotate=function(e,t,n,r){n=void 0!==n?n:0,void 0===t&&(t="y"),"x"==t&&(t={x:1,y:0,z:0}),"y"==t&&(t={x:0,y:1,z:0}),"z"==t&&(t={x:0,y:0,z:1});var o=Math.PI*e/180;return e=Math.sin(o/2),o=Math.cos(o/2),t=new $3Dmol.Quaternion(t.x*e,t.y*e,t.z*e,o).normalize(),n?(t=(new $3Dmol.Quaternion).copy(G.quaternion).multiply(t),ve(n,r,B.position,G.position.z,t,N)):(G.quaternion.multiply(t),oe()),this},this.surfacesFinished=function(){for(var e in m)if(!m[e][0].done)return!1;return!0},this.getView=function(){if(!B)return[0,0,0,0,0,0,0,1];var e=B.position,t=G.quaternion;return[e.x,e.y,e.z,G.position.z,t.x,t.y,t.z,t.w]},this.setView=function(e,t){return void 0!==e&&(e instanceof Array||8!==e.length)&&B&&G?(B.position.x=e[0],B.position.y=e[1],B.position.z=e[2],G.position.z=e[3],G.quaternion.x=e[4],G.quaternion.y=e[5],G.quaternion.z=e[6],G.quaternion.w=e[7],void 0!==e[8]&&(G.position.x=e[8],G.position.y=e[9]),oe(t),this):this},this.render=function(e){var t;x.setViewport(),b.splice(0,b.length),S.splice(0,S.length);var n=0;for(t=f.length;n<t;n++){var r=f[n];if(r){var o=r.selectedAtoms({clickable:!0});r=r.selectedAtoms({hoverable:!0}),Array.prototype.push.apply(S,r),Array.prototype.push.apply(b,o)}}for(n=0,t=y.length;n<t;n++)(o=y[n])&&o.clickable&&b.push(o),o&&o.hoverable&&S.push(o);for(n=this.getView(),o=x.supportedExtensions(),t=0;t<f.length;t++)f[t]&&f[t].globj(B,o);for(t=0;t<y.length;t++)y[t]&&y[t].globj(B,o);for(t in m)if(m.hasOwnProperty(t))for(r=m[t],o=0;o<r.length;o++)if(r.hasOwnProperty(o)){var i=r[o].geo;if(!r[o].finished)if(i.verticesNeedUpdate=!0,i.elementsNeedUpdate=!0,i.normalsNeedUpdate=!0,i.colorsNeedUpdate=!0,i.buffersNeedUpdate=!0,i.boundingSphere=null,r[o].done&&(r[o].finished=!0),r[o].lastGL&&B.remove(r[o].lastGL),(i=r[o].mat instanceof $3Dmol.LineBasicMaterial?new $3Dmol.Line(i,r[o].mat):new $3Dmol.Mesh(i,r[o].mat)).visible=!r[o].mat.transparent||0!=r[o].mat.opacity,1<r[o].symmetries.length||1==r[o].symmetries.length&&!r[o].symmetries[o].isIdentity()){var a,s=new $3Dmol.Object3D;for(a=0;a<r[o].symmetries.length;a++){var l=i.clone();l.matrix=r[o].symmetries[a],l.matrixAutoUpdate=!1,s.add(l)}r[o].lastGL=s,B.add(s)}else r[o].lastGL=i,B.add(i)}return this.setView(n),"function"==typeof e&&e(this),this},this.selectedAtoms=function(e){return r(e)},this.getUniqueValues=function(e,t){void 0===t&&(t={}),t=r(t);var n,o={};for(n in t)t[n].hasOwnProperty(e)&&(o[t[n][e]]=!0);return Object.keys(o)},this.pdbData=function(e){for(var t="",n=0,o=(e=r(e)).length;n<o;++n)t+=e[n].pdbline+"\n";return t};var ye,ge=function(e,t,n){if(1==n)return t;if(0==n)return e;var r=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;return.9995<r?((e=new $3Dmol.Quaternion(e.x+n*(t.x-e.x),e.y+n*(t.y-e.y),e.z+n*(t.z-e.z),e.w+n*(t.w-e.w))).normalize(),e):(0>r&&(t=t.clone().multiplyScalar(-1),r=-r),1<r?r=1:-1>r&&(r=-1),n*=Math.acos(r),(t=t.clone()).sub(e.clone().multiplyScalar(r)),t.normalize(),r=Math.cos(n),n=Math.sin(n),(e=new $3Dmol.Quaternion(e.x*r+t.x*n,e.y*r+t.y*n,e.z*r+t.z*n,e.w*r+t.w*n)).normalize(),e)};this.spin=function(e){if(clearInterval(ye),void 0===e&&(e="y"),"boolean"==typeof e){if(!e)return;e="y"}Array.isArray(e)&&(e={x:e[0],y:e[1],z:e[2]});var t=this;ye=setInterval(function(){t.rotate(1,e)},25)};var ve=function(e,t,n,r,o,i){var a=Math.ceil(e/20);1>a&&(a=1),q++,e=B.position.clone();var s=G.position.z,l=G.quaternion.clone(),c=N.clone();if(t){for(var u=(a=Array(a)).length,p=0;p<u;p++){var h=(p+1)/u;t={mpos:e,rz:s,rot:l},n&&(t.mpos=n.clone().sub(e).multiplyScalar(h).add(e)),void 0!==r&&null!=r&&(t.rz=s+h*(r-s)),o&&(t.rot=ge(l,o,h)),i&&(t.cam=i.clone().sub(c).multiplyScalar(h).add(c)),a[p]=t}var d=0,f=function(){var e=a[d];d+=1,e.mpos&&(B.position=e.mpos),e.rz&&(G.position.z=e.rz),e.rot&&(G.quaternion=e.rot),e.cam&&L.lookAt(e.cam),d<a.length?setTimeout(f,20):te(),oe()}}else{var m,y,g;if(h=1/a,n&&(m=n.clone().sub(e).multiplyScalar(h)),void 0!==r&&null!=r&&(y=h*(r-s)),o){t=ge(l,o,h);var v=l.clone().inverse().multiply(t)}i&&(g=i.clone().sub(c).multiplyScalar(h)),d=0,f=function(){d+=1,m&&B.position.add(m),y&&(G.position.z+=y),v&&G.quaternion.multiply(v),g&&(N.add(g),L.lookAt(N)),d<a?setTimeout(f,20):te(),oe()}}setTimeout(f,20)};this.zoom=function(e,t,n){return t=void 0!==t?t:0,e=150-(150-G.position.z)/(e||2),0<t?ve(t,n,B.position,ce(e),G.quaternion,N):(G.position.z=ce(e),oe()),this},this.translate=function(e,t,n,r){n=void 0!==n?n:0,e/=_,t/=k;var o=new $3Dmol.Vector3(0,0,-150);return j.projectVector(o,L),o.x-=e,o.y-=t,j.unprojectVector(o,L),o.z=0,e=N.clone().add(o),0<n?ve(n,r,B.position,G.position.z,G.quaternion,e):(N=e,L.lookAt(N),oe()),this},this.fitSlab=function(e){e=r(e=e||{});var t=$3Dmol.getExtent(e);e=t[1][0]-t[0][0];var n=t[1][1]-t[0][1];return t=t[1][2]-t[0][2],5>(e=Math.sqrt(e*e+n*n+t*t))&&(e=5),z=-e/1.9,V=e/2,this},this.center=function(e,t,n){t=void 0!==t?t:0;var o=r(e=e||{}),i=$3Dmol.getExtent(o);if($.isEmptyObject(e)){$.each(y,function(e,t){t&&t.boundingSphere&&t.boundingSphere.center&&(e=t.boundingSphere.center,0<(t=t.boundingSphere.radius)?(o.push(new $3Dmol.Vector3(e.x+t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x-t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y+t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y-t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z+t)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z-t))):o.push(e))}),i=$3Dmol.getExtent(o),e=o;var a=i}else e=r({}),a=$3Dmol.getExtent(e);e=new $3Dmol.Vector3(i[2][0],i[2][1],i[2][2]);var s=a[1][0]-a[0][0],l=a[1][1]-a[0][1];for(a=a[1][2]-a[0][2],5>(s=Math.sqrt(s*s+l*l+a*a))&&(s=5),z=-s/1.9,V=s/2,s=i[1][0]-i[0][0],l=i[1][1]-i[0][1],a=i[1][2]-i[0][2],5>(s=Math.sqrt(s*s+l*l+a*a))&&(s=5),i=25,s=0;s<o.length;s++)o[s]&&(l=e.distanceToSquared(o[s]))>i&&(i=l);return s=2*Math.sqrt(i),e=e.clone().multiplyScalar(-1),0<t?ve(t,n,e,G.position.z,G.quaternion,N):(B.position=e,oe()),this},this.zoomTo=function(e,t,n){t=void 0!==t?t:0;var o=r(e=e||{}),i=$3Dmol.getExtent(o);if($.isEmptyObject(e)){$.each(y,function(e,t){t&&t.boundingSphere&&t.boundingSphere.center&&(e=t.boundingSphere.center,0<(t=t.boundingSphere.radius)?(o.push(new $3Dmol.Vector3(e.x+t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x-t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y+t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y-t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z+t)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z-t))):o.push(e))}),i=$3Dmol.getExtent(o);var a=o,s=i}else a=r({}),s=$3Dmol.getExtent(a);a=new $3Dmol.Vector3(i[2][0],i[2][1],i[2][2]);var l=s[1][0]-s[0][0],c=s[1][1]-s[0][1];for(s=s[1][2]-s[0][2],5>(l=Math.sqrt(l*l+c*c+s*s))&&(l=5),z=-l/1.9,V=l/2,0===Object.keys(e).length&&(z=-999999,V=999999),l=i[1][0]-i[0][0],c=i[1][1]-i[0][1],s=i[1][2]-i[0][2],5>(l=Math.sqrt(l*l+c*c+s*s))&&(l=5),e=25,i=0;i<o.length;i++)o[i]&&(l=a.distanceToSquared(o[i]))>e&&(e=l);return l=2*Math.sqrt(e),a=a.clone().multiplyScalar(-1),e=-(.5*l/Math.tan(Math.PI/180*L.fov/2)-150),e=ce(e),0<t?ve(t,n,a,e,G.quaternion,N):(B.position=a,G.position.z=e,oe()),this},this.setSlab=function(e,t){z=e,V=t},this.getSlab=function(e){return{near:z,far:V}},this.addLabel=function(e,t,n){return t=t||{},n&&(n=$3Dmol.getExtent(r(n)),t.position={x:n[2][0],y:n[2][1],z:n[2][2]}),(e=new $3Dmol.Label(e,t)).setContext(),B.add(e.sprite),t.fixed&&v.push(g.length),g.push(e),oe(),e},this.addResLabels=function(e,t){return o("addResLabels",e,this,t),oe(),this},this.addPropertyLabels=function(e,t,n){return o("addPropertyLabels",e,t,this,n),oe(),this},this.removeLabel=function(e){for(var t=0;t<g.length;t++)if(g[t]==e){g.splice(t,1),e.dispose(),B.remove(e.sprite);break}return oe(),this},this.removeAllLabels=function(){for(var e=0;e<g.length;e++)B.remove(g[e].sprite);return g.splice(0,g.length),oe(),this},this.setLabelStyle=function(e,t){return B.remove(e.sprite),e.dispose(),e.stylespec=t,e.setContext(),B.add(e.sprite),oe(),e},this.setLabelText=function(e,t){return B.remove(e.sprite),e.dispose(),e.text=t,e.setContext(),B.add(e.sprite),oe(),e},this.addShape=function(e){return e=e||{},(e=new $3Dmol.GLShape(e)).shapePosition=y.length,y.push(e),e},this.removeShape=function(e){if(!e)return this;for(e.removegl(B),delete y[e.shapePosition];0<y.length&&void 0===y[y.length-1];)y.pop();return this},this.removeAllShapes=function(){for(var e=0;e<y.length;e++)y[e].removegl(B);return y.splice(0,y.length),this};var be=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("z")?e:0==(e=r(e)).length?{x:0,y:0,z:0}:{x:(e=$3Dmol.getExtent(e))[0][0]+(e[1][0]-e[0][0])/2,y:e[0][1]+(e[1][1]-e[0][1])/2,z:e[0][2]+(e[1][2]-e[0][2])/2}};this.addSphere=function(e){(e=e||{}).center=be(e.center);var t=new $3Dmol.GLShape(e);return t.shapePosition=y.length,t.addSphere(e),y.push(t),t.finalize(),t},this.addBox=function(e){null!=(e=e||{}).corner&&(e.corner=be(e.corner)),null!=e.center&&(e.center=be(e.center));var t=new $3Dmol.GLShape(e);return t.shapePosition=y.length,t.addBox(e),y.push(t),t.finalize(),t},this.addArrow=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end);var t=new $3Dmol.GLShape(e);return t.shapePosition=y.length,t.addArrow(e),y.push(t),t.finalize(),t},this.addCylinder=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end);var t=new $3Dmol.GLShape(e);return t.shapePosition=y.length,e.dashed?t.addDashedCylinder(e):t.addCylinder(e),y.push(t),t.finalize(),t},this.addCurve=function(e){e=e||{};var t=new $3Dmol.GLShape(e);return t.shapePosition=y.length,t.addCurve(e),y.push(t),t.finalize(),t},this.addLine=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end),e.wireframe=!0;var t=new $3Dmol.GLShape(e);if(t.shapePosition=y.length,e.dashed){e.dashLength=e.dashLength||.5,e.gapLength=e.gapLength||.5,e.start=e.start||{},e.end=e.end||{};var n=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0),o=new $3Dmol.Vector3;new $3Dmol.Vector3,new $3Dmol.Vector3;var i,a=n.clone(),s=0;o.subVectors(r,n);var l=o.length();o.normalize();var c=o.clone();o=o.clone(),c.multiplyScalar(e.dashLength),o.multiplyScalar(e.gapLength);var u=c.length();for(i=o.length();s<l;){if(s+u>l){e.start=n,e.end=r,t.addLine(e);break}a.addVectors(n,c),e.start=n,e.end=a,t.addLine(e),n=a.clone(),s+=u,a.addVectors(n,o),n=a.clone(),s+=i}t.finalize()}else t.addLine(e);return y.push(t),t.finalize(),t},this.addUnitCell=function(e){e||(e=this.getModel());var t=new $3Dmol.GLShape({wireframe:!0});t.shapePosition=y.length;var n=e.getCrystData();if(n){if(n.matrix)e=n.matrix;else{e=n.a;var r=n.b,o=n.c,i=n.alpha,a=n.beta;n=n.gamma,i=i*Math.PI/180,a=a*Math.PI/180,n=n*Math.PI/180;var s=Math.cos(a);i=(Math.cos(i)-Math.cos(a)*Math.cos(n))/Math.sin(n),e=new $3Dmol.Matrix4(e,r*Math.cos(n),o*s,0,0,r*Math.sin(n),o*i,0,0,0,o*Math.sqrt(Math.max(0,1-s*s-i*i)),0,0,0,0,1)}for(r=[new $3Dmol.Vector3(0,0,0),new $3Dmol.Vector3(1,0,0),new $3Dmol.Vector3(0,1,0),new $3Dmol.Vector3(0,0,1),new $3Dmol.Vector3(1,1,0),new $3Dmol.Vector3(0,1,1),new $3Dmol.Vector3(1,0,1),new $3Dmol.Vector3(1,1,1)],o=0;o<r.length;o++)r[o]=r[o].applyMatrix4(e);t.addLine({start:r[0],end:r[1]}),t.addLine({start:r[0],end:r[2]}),t.addLine({start:r[1],end:r[4]}),t.addLine({start:r[2],end:r[4]}),t.addLine({start:r[0],end:r[3]}),t.addLine({start:r[3],end:r[5]}),t.addLine({start:r[2],end:r[5]}),t.addLine({start:r[1],end:r[6]}),t.addLine({start:r[4],end:r[7]}),t.addLine({start:r[6],end:r[7]}),t.addLine({start:r[3],end:r[6]}),t.addLine({start:r[5],end:r[7]})}return y.push(t),t.finalize(),t},this.addCustom=function(e){e=e||{};var t=new $3Dmol.GLShape(e);return t.shapePosition=y.length,t.addCustom(e),y.push(t),t.finalize(),t},this.addVolumetricData=function(e,t,n){n=n||{};var r=new $3Dmol.GLShape(n);return r.shapePosition=y.length,r.addVolumetricData(e,t,n),y.push(r),r},this.addIsosurface=function(e,t,n){t=t||{};var r=new $3Dmol.GLShape(t);return r.shapePosition=y.length,r.addIsosurface(e,t,n),y.push(r),r},this.enableFog=function(e){e?F.fog=new $3Dmol.Fog(u,100,200):(t.disableFog=!0,oe())},this.setFrame=function(e){return new Promise(function(t,n){n=f.map(function(t){return t.setFrame(e)}),Promise.all(n).then(function(){t()})})},this.getNumFrames=function(){for(var e=0,t=0;t<f.length;t++)f[t].getNumFrames()>e&&(e=f[t].getNumFrames());return e},this.animate=function(e){q++;var t=100,n="forward",r=0;(e=e||{}).interval&&(t=e.interval),e.loop&&(n=e.loop),e.reps&&(r=e.reps);var o=this.getNumFrames(),i=this,a=0,s=1;e.step&&(r/=s=e.step);var l=0,c=o*r,u=new Date,p=function(){if(i.render(),++l!=c&&i.isAnimated()){var e=t-(new Date-u);setTimeout(h,0<e?e:0,n)}else clearTimeout(d),te()},h=function(e){u=new Date,"forward"==e?i.setFrame(a).then(function(){a=(a+s)%o,p()}):"backward"==e?i.setFrame(o-1-a).then(function(){a=(a+s)%o,p()}):i.setFrame(a).then(function(){s*=0==(a+=s)%(o-1)?-1:1,p()})},d=setTimeout(h,0,n);return this},this.stopAnimate=function(){return q=0,this},this.isAnimated=function(){return 0<q},this.addModel=function(e,t,n){n&&!n.defaultcolors&&(n.defaultcolors=s);var r=new $3Dmol.GLModel(f.length,n);return r.addMolData(e,t,n),f.push(r),r},this.addModels=function(e,t,n){for((n=n||{}).multimodel=!0,n.frames=!0,e=$3Dmol.GLModel.parseMolData(e,t,n),t=0;t<e.length;t++){var r=new $3Dmol.GLModel(f.length,s);r.setAtomDefaults(e[t]),r.addFrame(e[t]),r.setFrame(0),e.modelData&&r.setModelData(e.modelData[t]),r.setDontDuplicateAtoms(!n.duplicateAssemblyAtoms),f.push(r)}return f},this.addModelsAsFrames=function(e,t,n){(n=n||{}).multimodel=!0,n.frames=!0;var r=new $3Dmol.GLModel(f.length,s);return r.addMolData(e,t,n),f.push(r),r},this.addAsOneMolecule=function(e,t,n){(n=n||{}).multimodel=!0,n.onemol=!0;var r=new $3Dmol.GLModel(f.length,s);return r.addMolData(e,t,n),f.push(r),r},this.removeModel=function(e){if(e){for(e.removegl(B),delete f[e.getID()];0<f.length&&void 0===f[f.length-1];)f.pop();return this}},this.removeAllModels=function(){for(var e=0;e<f.length;e++)f[e].removegl(B);return f.splice(0,f.length),this},this.exportJSON=function(e,t){var n={};return n.m=void 0===t?f.map(function(t){return t.toCDObject(e)}):[model[t].toCDObject()],JSON.stringify(n)},this.createModelFrom=function(e,t){for(var n=new $3Dmol.GLModel(f.length,s),r=0;r<f.length;r++)if(f[r]){var o=f[r].selectedAtoms(e);n.addAtoms(o),t&&f[r].removeAtoms(o)}return f.push(n),n},this.setStyle=function(e,t){return void 0===t&&(t=e,e={}),o("setStyle",e,t,!1),this},this.addStyle=function(e,t){return void 0===t&&(t=e,e={}),o("setStyle",e,t,!0),this},this.setClickable=function(e,t,n){return o("setClickable",e,t,n),this},this.setHoverable=function(e,t,n,r){return o("setHoverable",e,t,n,r),this},this.vibrate=function(e,t){return o("vibrate",e,t),this},this.setColorByProperty=function(e,t,n,r){return o("setColorByProperty",e,t,n,r),this},this.setColorByElement=function(e,t){return o("setColorByElement",e,t),this};var Se=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];void 0!==o&&(o.x<t[0][0]||o.x>t[1][0]||o.y<t[0][1]||o.y>t[1][1]||o.z<t[0][2]||o.z>t[1][2]||n.push(o))}return n},we=function(e){return(e[1][0]-e[0][0])*(e[1][1]-e[0][1])*(e[1][2]-e[0][2])},Ce=function(e,t,n){var r=new $3Dmol.Geometry(!0),o=r.updateGeoGroup(0),i=[],a=0;for(l=e.length;a<l;a++){var s=e[a];s&&(void 0!==s.surfaceColor?i[a]=s.surfaceColor:s.color&&(i[a]=$3Dmol.CC.color(s.color)))}var l,c=o.vertexArray;for(a=0,l=(s=t.vertices).length;a<l;a++)c[e=3*o.vertices]=s[a].x,c[e+1]=s[a].y,c[e+2]=s[a].z,o.vertices++;if(c=o.colorArray,n.voldata&&n.volscheme){i=n.volscheme;var u=n.voldata,p=i.range()||[-1,1];for(a=0,l=s.length;a<l;a++){e=u.getVal(s[a].x,s[a].y,s[a].z);var h=$3Dmol.CC.color(i.valueToHex(e,p));c[e=3*a]=h.r,c[e+1]=h.g,c[e+2]=h.b}}else if(0<i.length)for(a=0,l=s.length;a<l;a++)u=s[a].atomid,c[e=3*a]=i[u].r,c[e+1]=i[u].g,c[e+2]=i[u].b;for(t=t.faces,o.faceidx=t.length,r.initTypedArrays(),s=o.vertexArray,c=o.normalArray,a=0,l=t.length;a<l;a+=3){i=t[a+1],u=t[a+2],e=3*t[a],i*=3,u*=3,p=new $3Dmol.Vector3(s[e],s[e+1],s[e+2]),h=new $3Dmol.Vector3(s[i],s[i+1],s[i+2]);var d=new $3Dmol.Vector3(s[u],s[u+1],s[u+2]);d.subVectors(d,h),p.subVectors(p,h),d.cross(p),(p=d).normalize(),c[e]+=p.x,c[i]+=p.x,c[u]+=p.x,c[e+1]+=p.y,c[i+1]+=p.y,c[u+1]+=p.y,c[e+2]+=p.z,c[i+2]+=p.z,c[u+2]+=p.z}return o.faceArray=new Uint16Array(t),(n=new $3Dmol.Mesh(r,n)).doubleSided=!0,n};this.addMesh=function(e){e={geo:e.geometry,mat:e.material,done:!0,finished:!1};var t=ne();return m[t]=e,t};var _e=function(e){var t=[];return $.each(e,function(e,n){t[e]=$.extend({},n)}),t},ke={VDW:$3Dmol.SurfaceType.VDW,MS:$3Dmol.SurfaceType.MS,SAS:$3Dmol.SurfaceType.SAS,SES:$3Dmol.SurfaceType.SES};this.addSurface=function(e,t,n,o,a,s){var l=ne();"string"==typeof e?void 0!==ke[e]?e=ke[e]:console.log("Surface type : "+e+" is not recognized"):void 0===e&&(e=$3Dmol.SurfaceType.VDW);var c=null,u=null;n=_e(r(n)),c=o?_e(r(o)):n;var h=!1;for(o=0;o<f.length;o++)if(f[o]){var d=f[o].getSymmetries();if(1<d.length||1==d.length&&!d[0].isIdentity()){h=!0;break}}d=function(n,o,i){u=a?_e(r(a)):i;var s=$3Dmol.getExtent(i,!0);if(t.map&&t.map.prop){var c=t.map.prop,h=t.map.scheme||t.map.gradient||new $3Dmol.Gradient.RWB,d=h.range();d||(d=$3Dmol.getPropertyRange(i,c)),t.colorscheme={prop:c,gradient:h}}var f=0;for(c=o.length;f<c;f++)(h=o[f]).surfaceColor=$3Dmol.getColorFromStyle(h,t);var m=we(s),g=function(e,t,n){for(var r=[],o={},i=0,a=t.length;i<a;i++)o[t[i].index]=i;var s=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n].index in o&&t.push(o[e[n].index]);return t},l=function(e){var t=[];return t[0]=[e[0][0],e[0][1],e[0][2]],t[1]=[e[1][0],e[1][1],e[1][2]],t},c=function(e){if(64e3>we(e))return[e];var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1],r=e[1][2]-e[0][2];return n=t>n&&t>r?0:n>t&&n>r?1:2,r=l(e),t=l(e),e=(e[1][n]-e[0][n])/2+e[0][n],r[1][n]=e,t[0][n]=e,e=c(r),t=c(t),e.concat(t)};for(i=0,a=(e=c(e)).length;i<a;i++){var u=l(e[i]);u[0][0]-=6,u[0][1]-=6,u[0][2]-=6,u[1][0]+=6,u[1][1]+=6,u[1][2]+=6,u=Se(t,u);var p=Se(n,e[i]);r.push({extent:e[i],atoms:s(u),toshow:s(p)})}return r}(s,o,i);if(u&&u.length&&0<u.length){var v=$3Dmol.getExtent(u,!0);g.sort(function(e,t){var n=function(e,t){var n=e.extent;e=n[1][0]-n[0][0]-t[2][0];var r=n[1][1]-n[0][1]-t[2][1];return e*e+r*r+(t=n[1][2]-n[0][2]-t[2][2])*t};return(e=n(e,v))-(t=n(t,v))})}var b=[];for(f=0,c=o.length;f<c;f++)h=o[f],b[f]={x:h.x,y:h.y,z:h.z,serial:f,elem:h.elem};if($3Dmol.syncSurface){for(i=function(t){return new Promise(function(r,i){i=e;var a=g[t].extent,s=g[t].atoms,l=g[t].toshow,c=new $3Dmol.ProteinSurface;for(c.initparm(a,1!==i,m),c.fillvoxels(b,s),c.buildboundary(),i!=$3Dmol.SurfaceType.SES&&i!=$3Dmol.SurfaceType.MS||(c.fastdistancemap(),c.boundingatom(!1),c.fillvoxelswaals(b,s)),c.marchingcube(i),l=c.getFacesAndVertices(l),a=0,s=(i=$3Dmol.splitMesh({vertexArr:l.vertices,faceArr:l.faces})).length;a<s;a++)l={vertices:i[a].vertexArr,faces:i[a].faceArr},l=Ce(o,l,y),$3Dmol.mergeGeos(n.geo,l);p.render(),r()})},s=[],f=0;f<g.length;f++)s.push(i(f));return Promise.all(s).then(function(){return n.done=!0,Promise.resolve(l)})}var S=[];for(0>e&&(e=0),f=0,c=4;f<c;f++)i=new Worker($3Dmol.SurfaceWorker),S.push(i),i.postMessage({type:-1,atoms:b,volume:m});return new Promise(function(t,r){var i=0,a=function(e){for(var r=0,a=(e=$3Dmol.splitMesh({vertexArr:e.data.vertices,faceArr:e.data.faces})).length;r<a;r++){var s=Ce(o,{vertices:e[r].vertexArr,faces:e[r].faceArr},y);$3Dmol.mergeGeos(n.geo,s)}p.render(),++i==g.length&&(n.done=!0,t(l))},s=function(e){console.log(e.message+" ("+e.filename+":"+e.lineno+")"),r(e)};for(f=0;f<g.length;f++){var c=S[f%S.length];c.onmessage=a,c.onerror=s,c.postMessage({type:e,expandedExtent:g[f].extent,extendedAtoms:g[f].atoms,atomsToShow:g[f].toshow})}})};var y=i(t=t||{}),g=[];if(o=null,h){h={};var v={};for(o=0;o<f.length;o++)h[o]=[],v[o]=[];for(o=0;o<c.length;o++)h[c[o].model].push(c[o]);for(o=0;o<n.length;o++)v[n[o].model].push(n[o]);for(c=[],o=0;o<f.length;o++)0<v[o].length&&(g.push({geo:new $3Dmol.Geometry(!0),mat:y,done:!1,finished:!1,symmetries:f[o].getSymmetries()}),c.append(d(g[o],h[o],v[o])));o=Promise.all(c)}else g.push({geo:new $3Dmol.Geometry(!0),mat:y,done:!1,finished:!1,symmetries:[new $3Dmol.Matrix4]}),o=d(g[g.length-1],c,n);return m[l]=g,o.surfid=l,s&&"function"==typeof s?(o.then(function(e){s(e)}),l):o},this.setSurfaceMaterialStyle=function(e,t){if(m[e]){e=m[e];for(var n=0;n<e.length;n++){var r=e[n].mat=i(t);if(e[n].mat.side=$3Dmol.FrontSide,t.color){e[n].mat.color=t.color,e[n].geo.colorsNeedUpdate=!0;var o=$3Dmol.CC.color(t.color);e[n].geo.setColors(function(){return o})}else if(r.voldata&&r.volscheme){var a=r.volscheme,s=r.voldata,l=a.range()||[-1,1];e[n].geo.setColors(function(e,t,n){return e=s.getVal(e,t,n),$3Dmol.CC.color(a.valueToHex(e,l))})}e[n].finished=!1}}return this},this.removeSurface=function(e){for(var t=m[e],n=0;n<t.length;n++)t[n]&&t[n].lastGL&&(void 0!==t[n].geo&&t[n].geo.dispose(),void 0!==t[n].mat&&t[n].mat.dispose(),B.remove(t[n].lastGL));return delete m[e],oe(),this},this.removeAllSurfaces=function(){for(var e in m)if(m.hasOwnProperty(e)){for(var t=m[e],n=0;n<t.length;n++)t[n]&&t[n].lastGL&&(void 0!==t[n].geo&&t[n].geo.dispose(),void 0!==t[n].mat&&t[n].mat.dispose(),B.remove(t[n].lastGL));delete m[e]}return oe(),this},this.jmolMoveTo=function(){var e=B.position;e="center { "+-e.x+" "+-e.y+" "+-e.z+" }; ";var t=G.quaternion;return e+"moveto .5 quaternion { "+t.x+" "+t.y+" "+t.z+" "+t.w+" };"},this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),oe(),this},this.mapAtomProperties=function(e,t){var o=r(t=t||{});if("function"==typeof e)for(var i=0,a=o.length;i<a;i++)e(t=o[i]);else for(i=0,a=o.length;i<a;i++){t=o[i];for(var s=0,l=e.length;s<l;s++){var c=e[s];if(c.props)for(var u in c.props)if(c.props.hasOwnProperty(u)){e:{var p=t,h=c;void 0===h&&(h={});for(var d=n(h),f=0;f<d.length;f++)if(d[f].atomIsSelected(p,h)){p=!0;break e}p=!1}p&&(t.properties||(t.properties={}),t.properties[u]=c.props[u])}}}return this},this.linkViewer=function(e){return T.push(e),this};try{"function"==typeof a&&a(this)}catch(e){console.log("error with glviewer callback: "+e)}this.getPerceivedDistance=function(){return 150-G.position.z},this.setPerceivedDistance=function(e){G.position.z=150-e},this.setAutoEyeSeparation=function(e){var t=this.getPerceivedDistance();return L.position.x=e||0<L.position.x?t*Math.tan(Math.PI/180*5):-t*Math.tan(Math.PI/180*5),L.lookAt(new $3Dmol.Vector3(0,0,G.position.z)),L.position.x}},$3Dmol.glmolViewer=$3Dmol.GLViewer,$3Dmol=$3Dmol||{},$3Dmol.Gradient=function(e,t){},$3Dmol.Gradient.valueToHex=function(e,t){},$3Dmol.Gradient.range=function(){},$3Dmol.Gradient.normalizeValue=function(e,t,n){return t>=e?(n<e&&(n=e),n>t&&(n=t),{lo:e,hi:t,val:n}):(n>e&&(n=e),n<t&&(n=t),{lo:t,hi:e,val:e-n+t})},$3Dmol.Gradient.RWB=function(e,t,n){void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),this.valueToHex=function(r,o){if(r*=1,o)var i=o[0],a=o[1];else i=e,a=t;return void 0===r?16777215:(i=(r=$3Dmol.Gradient.normalizeValue(i,a,r)).lo,a=r.hi,(r=r.val)<=(o=o&&void 0!==o[2]?o[2]:void 0!==n?n:(i+a)/2)?16711680+256*(i=Math.floor(255*Math.sqrt((r-i)/(o-i))))+i:65536*(i=Math.floor(255*Math.sqrt(1-(r-o)/(a-o))))+256*i+255)},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.ROYGB=function(e,t){void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),this.valueToHex=function(n,r){if(n*=1,r){var o=r[0];r=r[1]}else o=e,r=t;if(void 0===n)return 16777215;var i=((o=(n=$3Dmol.Gradient.normalizeValue(o,r,n)).lo)+(r=n.hi))/2,a=(o+i)/2,s=(i+r)/2;return(n=n.val)<a?256*(o=Math.floor(255*Math.sqrt((n-o)/(a-o))))+16711680:n<i?65536*(o=Math.floor(255*Math.sqrt(1-(n-a)/(i-a))))+65280:n<s?65280+1*(o=Math.floor(255*Math.sqrt((n-i)/(s-i)))):256*(o=Math.floor(255*Math.sqrt(1-(n-s)/(r-s))))+255},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.Sinebow=function(e,t){var n=1;void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),t<e&&(n=-1,e*=-1,t*=-1),this.valueToHex=function(r,o){if(r*=n,o){var i=o[0];o=o[1]}else i=e,o=t;return void 0===r?16777215:(i=(r=$3Dmol.Gradient.normalizeValue(i,o,r)).lo,o=r.hi,o=((r=r.val)-i)/(o-i)*5/6+.5,i=Math.sin(Math.PI*o),r=Math.sin(Math.PI*(o+1/3)),o=Math.sin(Math.PI*(o+2/3)),65536*Math.floor(255*i*i)+256*Math.floor(255*o*o)+1*Math.floor(255*r*r))},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.builtinGradients={rwb:$3Dmol.Gradient.RWB,roygb:$3Dmol.Gradient.ROYGB,sinebow:$3Dmol.Gradient.Sinebow},$3Dmol.LabelCount=0,$3Dmol.Label=function(e,t){this.id=$3Dmol.LabelCount++,this.stylespec=t||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new $3Dmol.Sprite,this.text=e},$3Dmol.Label.prototype={constructor:$3Dmol.Label,getStyle:function(){return this.stylespec},setContext:function(){var e=function(e,t,n){return void 0!==e&&(n=e instanceof $3Dmol.Color?e.scaled():$3Dmol.CC.color(e).scaled()),void 0!==t&&(n.a=parseFloat(t)),n};return function(){var t=this.stylespec,n=void 0!==t.useScreen&&t.useScreen,r=t.showBackground;"0"!==r&&"false"!==r||(r=!1),void 0===r&&(r=!0);var o=t.font?t.font:"sans-serif",i=parseInt(t.fontSize)?parseInt(t.fontSize):18,a=e(t.fontColor,t.fontOpacity,{r:255,g:255,b:255,a:1}),s=t.padding?t.padding:4,l=t.borderThickness?t.borderThickness:0,c=e(t.backgroundColor,t.backgroundOpacity,{r:0,g:0,b:0,a:1}),u=e(t.borderColor,t.borderOpacity,c),p=t.position?t.position:{x:-10,y:1,z:1},h=void 0===t.inFront||t.inFront;"false"!==h&&"0"!==h||(h=!1);var d=t.alignment||$3Dmol.SpriteAlignment.topLeft;"string"==typeof d&&d in $3Dmol.SpriteAlignment&&(d=$3Dmol.SpriteAlignment[d]);var f="";t.bold&&(f="bold "),this.context.font=f+i+"px  "+o;var m=this.context.measureText(this.text).width;r||(l=0);var y=m+2.5*l+2*s,g=1.25*i+2*l+2*s;if(t.backgroundImage){var v=t.backgroundImage,b=t.backgroundWidth?t.backgroundWidth:v.width;b>y&&(y=b),(f=t.backgroundHeight?t.backgroundHeight:v.height)>g&&(g=f)}this.canvas.width=y,this.canvas.height=g,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),f="",t.bold&&(f="bold "),this.context.font=f+i+"px  "+o,this.context.fillStyle="rgba("+c.r+","+c.g+","+c.b+","+c.a+")",this.context.strokeStyle="rgba("+u.r+","+u.g+","+u.b+","+u.a+")",this.context.lineWidth=l,r&&(c=o=l,y-=2*l,g-=2*l,u=0<l,(r=this.context).beginPath(),r.moveTo(o+6,c),r.lineTo(o+y-6,c),r.quadraticCurveTo(o+y,c,o+y,c+6),r.lineTo(o+y,c+g-6),r.quadraticCurveTo(o+y,c+g,o+y-6,c+g),r.lineTo(o+6,c+g),r.quadraticCurveTo(o,c+g,o,c+g-6),r.lineTo(o,c+6),r.quadraticCurveTo(o,c,o+6,c),r.closePath(),r.fill(),u&&r.stroke()),t.backgroundImage&&(v=t.backgroundImage,b=t.backgroundWidth?t.backgroundWidth:v.width,f=t.backgroundHeight?t.backgroundHeight:v.height,this.context.drawImage(v,0,0,b,f)),this.context.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+a.a+")",this.context.fillText(this.text,l+s,i+l+s,m),(t=new $3Dmol.Texture(this.canvas)).needsUpdate=!0,this.sprite.material=new $3Dmol.SpriteMaterial({map:t,useScreenCoordinates:n,alignment:d,depthTest:!h}),this.sprite.scale.set(1,1,1),this.sprite.position.set(p.x,p.y,p.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose(),void 0!==this.sprite.material&&this.sprite.material.dispose()}},$3Dmol=$3Dmol||{},$3Dmol.MarchingCubeInitializer=function(){var e={march:function(e,i,a,s){var l,c=!!s.fulltable,u=s.hasOwnProperty("origin")&&s.origin.hasOwnProperty("x")?s.origin:{x:0,y:0,z:0},p=!!s.voxel,h=s.matrix,d=s.nX||0,f=s.nY||0,m=s.nZ||0,y=s.scale||1;l=s.unitCube?s.unitCube:{x:y,y:y,z:y};var g=new Int32Array(d*f*m);for(s=0,y=g.length;s<y;++s)g[s]=-1;y=function(e,t,n,r,o,a){var s={x:0,y:0,z:0},c=o;return!(r&1<<o)&&r&1<<a&&(c=a),1&c&&n++,2&c&&t++,4&c&&e++,h?s={x:(s=(s=new $3Dmol.Vector3(e,t,n)).applyMatrix4(h)).x,y:s.y,z:s.z}:(s.x=u.x+l.x*e,s.y=u.y+l.y*t,s.z=u.z+l.z*n),e=(f*e+t)*m+n,p?(i.push(s),i.length-1):(0>g[e]&&(g[e]=i.length,i.push(s)),g[e])};var v=new Int32Array(12),b=c?r:t;for(c=c?o:n,s=0;s<d-1;++s)for(var S=0;S<f-1;++S)for(var w=0;w<m-1;++w){for(var C=0,_=0;8>_;++_)C|=!!(2&e[(f*(s+((4&_)>>2))+S+((2&_)>>1))*m+w+(1&_)])<<_;if(0!==C&&255!==C){var k=b[C];if(0!==k)for(_=c[C],1&k&&(v[0]=y(s,S,w,C,0,1)),2&k&&(v[1]=y(s,S,w,C,1,3)),4&k&&(v[2]=y(s,S,w,C,3,2)),8&k&&(v[3]=y(s,S,w,C,2,0)),16&k&&(v[4]=y(s,S,w,C,4,5)),32&k&&(v[5]=y(s,S,w,C,5,7)),64&k&&(v[6]=y(s,S,w,C,7,6)),128&k&&(v[7]=y(s,S,w,C,6,4)),256&k&&(v[8]=y(s,S,w,C,0,4)),512&k&&(v[9]=y(s,S,w,C,1,5)),1024&k&&(v[10]=y(s,S,w,C,3,7)),2048&k&&(v[11]=y(s,S,w,C,2,6)),C=0;C<_.length;C+=3){k=v[_[C]];var T=v[_[C+1]],x=v[_[C+2]];p&&3<=C&&(i.push(i[k]),k=i.length-1,i.push(i[T]),T=i.length-1,i.push(i[x]),x=i.length-1),a.push(k),a.push(T),a.push(x)}}}},laplacianSmooth:function(e,t,n){var r,o,i=Array(t.length),a=0;for(r=t.length;a<r;a++)i[a]={x:0,y:0,z:0};var s=Array(20);for(a=0;20>a;a++)s[a]=Array(t.length);for(a=0,r=t.length;a<r;a++)s[0][a]=0;for(a=0,r=n.length/3;a<r;a++){var l=3*a,c=3*a+1,u=3*a+2,p=!0,h=0;for(o=s[0][n[l]];h<o;h++)if(n[c]==s[h+1][n[l]]){p=!1;break}for(p&&(s[0][n[l]]++,s[s[0][n[l]]][n[l]]=n[c]),p=!0,h=0,o=s[0][n[l]];h<o;h++)if(n[u]==s[h+1][n[l]]){p=!1;break}for(p&&(s[0][n[l]]++,s[s[0][n[l]]][n[l]]=n[u]),p=!0,h=0,o=s[0][n[c]];h<o;h++)if(n[l]==s[h+1][n[c]]){p=!1;break}for(p&&(s[0][n[c]]++,s[s[0][n[c]]][n[c]]=n[l]),p=!0,h=0,o=s[0][n[c]];h<o;h++)if(n[u]==s[h+1][n[c]]){p=!1;break}for(p&&(s[0][n[c]]++,s[s[0][n[c]]][n[c]]=n[u]),p=!0,h=0;h<s[0][n[u]];h++)if(n[l]==s[h+1][n[u]]){p=!1;break}for(p&&(s[0][n[u]]++,s[s[0][n[u]]][n[u]]=n[l]),p=!0,h=0,o=s[0][n[u]];h<o;h++)if(n[c]==s[h+1][n[u]]){p=!1;break}p&&(s[0][n[u]]++,s[s[0][n[u]]][n[u]]=n[c])}for(n=0;n<e;n++){for(a=0,r=t.length;a<r;a++)if(3>s[0][a])i[a].x=t[a].x,i[a].y=t[a].y,i[a].z=t[a].z;else if(3==s[0][a]||4==s[0][a]){for(i[a].x=0,i[a].y=0,h=i[a].z=0,o=s[0][a];h<o;h++)i[a].x+=t[s[h+1][a]].x,i[a].y+=t[s[h+1][a]].y,i[a].z+=t[s[h+1][a]].z;i[a].x+=.5*t[a].x,i[a].y+=.5*t[a].y,i[a].z+=.5*t[a].z,i[a].x/=.5+s[0][a],i[a].y/=.5+s[0][a],i[a].z/=.5+s[0][a]}else{for(i[a].x=0,i[a].y=0,h=i[a].z=0,o=s[0][a];h<o;h++)i[a].x+=t[s[h+1][a]].x,i[a].y+=t[s[h+1][a]].y,i[a].z+=t[s[h+1][a]].z;i[a].x+=1*t[a].x,i[a].y+=1*t[a].y,i[a].z+=1*t[a].z,i[a].x/=1+s[0][a],i[a].y/=1+s[0][a],i[a].z/=1+s[0][a]}for(a=0,r=t.length;a<r;a++)t[a].x=i[a].x,t[a].y=i[a].y,t[a].z=i[a].z}},edgeTable:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},t=new Uint32Array(e.edgeTable),n=e.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],r=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],o=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return e},$3Dmol.MarchingCube=$3Dmol.MarchingCubeInitializer(),$3Dmol.Parsers=function(){var e={},t=function(e){for(var t,n,r,o=0,a=e.length;o<a;o++)e[o].index||(e[o].index=o);a={};for(var s=0;s<e.length;s++)o=e[s],r=Math.floor(o.x/4.95),n=Math.floor(o.y/4.95),t=Math.floor(o.z/4.95),a[r]||(a[r]={}),a[r][n]||(a[r][n]={}),a[r][n][t]||(a[r][n][t]=[]),a[r][n][t].push(o);for(r in e=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],a)for(n in a[r=parseInt(r)])for(t in n=parseInt(n),a[r][n]){for(t=parseInt(t),s=a[r][n][t],o=0;o<s.length;o++)for(var l=s[o],c=o+1;c<s.length;c++){var u=s[c];i(l,u)&&-1==l.bonds.indexOf(u.index)&&(l.bonds.push(u.index),l.bondOrder.push(1),u.bonds.push(l.index),u.bondOrder.push(1))}for(o=0;o<e.length;o++)if(a[r+(c=e[o]).x]&&a[r+c.x][n+c.y]&&a[r+c.x][n+c.y][t+c.z])for(l=s,c=a[r+c.x][n+c.y][t+c.z],u=0;u<l.length;u++)for(var p=l[u],h=0;h<c.length;h++){var d=c[h];if(i(p,d)){var f=p.bonds.indexOf(d.index),m=d.bonds.indexOf(p.index);-1==f&&-1==m?(p.bonds.push(d.index),p.bondOrder.push(1),d.bonds.push(p.index),d.bondOrder.push(1)):-1==f?(p.bonds.push(d.index),p.bondOrder.push(d.bondOrder[m])):-1==m&&(d.bonds.push(p.index),d.bondOrder.push(p.bondOrder[f]))}}}},n=function(e){var n,r=[],o=[],a=0;for(n=e.length;a<n;a++){var s=e[a];s.index=a,s.hetflag?o.push(s):r.push(s)}for(t(o),r.sort(function(e,t){return e.chain!=t.chain?e.chain<t.chain?-1:1:e.resi-t.resi}),o=e=-1,a=0,n=r.length;a<n;a++){if((s=r[a]).resi!==e){e=s.resi,l||o++;var l=!1}s.reschain=o;for(var c=a+1;c<r.length;c++){var u=r[c];if(u.chain!=s.chain)break;if(1<u.resi-s.resi)break;i(s,u)&&(-1===s.bonds.indexOf(u.index)&&(s.bonds.push(u.index),s.bondOrder.push(1),u.bonds.push(s.index),u.bondOrder.push(1)),s.resi!==u.resi&&(l=!0))}}},r=function(e){var t;!function(e){var t,n=[],r=0;for(t=e.length;r<t;r++){e[r].index=r;var o=e[r];o.hetflag||"N"!==o.atom&&"O"!==o.atom||(n.push(o),o.hbondOther=null,o.hbondDistanceSq=Number.POSITIVE_INFINITY)}for(n.sort(function(e,t){return e.z-t.z}),r=0,t=n.length;r<t;r++)for(o=n[r],e=r+1;e<t;e++){var i=n[e],a=i.z-o.z;if(3.2<a)break;if(i.atom!=o.atom){var s=Math.abs(i.y-o.y);if(!(3.2<s)){var l=Math.abs(i.x-o.x);3.2<l||10.24<(a=l*l+s*s+a*a)||i.chain==o.chain&&4>Math.abs(i.resi-o.resi)||(a<o.hbondDistanceSq&&(o.hbondOther=i,o.hbondDistanceSq=a),a<i.hbondDistanceSq&&(i.hbondOther=o,i.hbondDistanceSq=a))}}}}(e);var n,r={},o=0;for(t=e.length;o<t;o++){var i=e[o];if(void 0===r[i.chain]&&(r[i.chain]=[]),isFinite(i.hbondDistanceSq)){var a=i.hbondOther;void 0===r[a.chain]&&(r[a.chain]=[]),4===Math.abs(a.resi-i.resi)&&(r[i.chain][i.resi]="h")}}for(n in r)for(i=1;i<r[n].length-1;i++)t=r[n][i-1],o=r[n][i+1],a=r[n][i],"h"==t&&t==o&&a!=t&&(r[n][i]=t);for(o=0,t=e.length;o<t;o++)i=e[o],isFinite(i.hbondDistanceSq)&&"h"!=r[i.chain][i.resi]&&"h"!=i.ss&&(r[i.chain][i.resi]="maybesheet");for(o=0,t=e.length;o<t;o++)if(i=e[o],isFinite(i.hbondDistanceSq)&&"maybesheet"==r[i.chain][i.resi]){var s=r[(a=i.hbondOther).chain][a.resi];"maybesheet"!=s&&"s"!=s||(r[i.chain][i.resi]="s",r[a.chain][a.resi]="s")}for(n in r){for(i=1;i<r[n].length-1;i++)t=r[n][i-1],o=r[n][i+1],a=r[n][i],"s"==t&&t==o&&a!=t&&(r[n][i]=t);for(i=0;i<r[n].length;i++)"h"!=(a=r[n][i])&&"s"!=a||r[n][i-1]==a||r[n][i+1]==a||delete r[n][i]}for(o=0,t=e.length;o<t;o++)void 0!==(a=r[(i=e[o]).chain][i.resi])&&"maybesheet"!=a&&(i.ss=a,r[i.chain][i.resi-1]!=a&&(i.ssbegin=!0),r[i.chain][i.resi+1]!=a&&(i.ssend=!0))};e.vasp=e.VASP=function(e,t){t=[[]];var n=e.replace(/^\s+/,"").split(/[\n\r]/);if(3>n.length)return t;if(!n[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),t;if(0>(e=parseFloat(n[1])))return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),t;var r=new Float32Array(n[2].replace(/^\s+/,"").split(/\s+/)),o=new Float32Array(n[3].replace(/^\s+/,"").split(/\s+/)),i=new Float32Array(n[4].replace(/^\s+/,"").split(/\s+/)),a=new $3Dmol.Matrix4(r[0],r[1],r[2],0,o[0],o[1],o[2],0,i[0],i[1],i[2],0,0,0,0,1);a.multiplyScalar(e),t.modelData=[{symmetries:[],cryst:{matrix:a}}],a=n[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/);var s=new Int16Array(n[6].replace(/^\s+/,"").split(/\s+/)),l=n[7].replace(/\s+/,"");if(l.match(/C/))l="cartesian";else{if(!l.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),t;l="direct"}if(a.length!=s.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(a),console.log(s),t;n.splice(0,8);for(var c=0,u=0,p=a.length;u<p;u++){for(var h=a[u],d=0,f=s[u];d<f;d++){var m=new Float32Array(n[c+d].replace(/^\s+/,"").split(/\s+/)),y={};y.elem=h,"cartesian"==l?(y.x=e*m[0],y.y=e*m[1],y.z=e*m[2]):(y.x=e*(m[0]*r[0]+m[1]*o[0]+m[2]*i[0]),y.y=e*(m[0]*r[1]+m[1]*o[1]+m[2]*i[1]),y.z=e*(m[0]*r[2]+m[1]*o[2]+m[2]*i[2])),y.bonds=[],t[0].push(y)}c+=s[u]}return t},e.cube=e.CUBE=function(e,n){if(n=[[]],6>(e=e.replace(/^\s+/,"").split(/\n\r|\r+/)).length)return n;var r=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),o=Math.abs(parseFloat(r[0]));r=e[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),r=0<parseFloat(r[0])?.529177:1,e=e.splice(6,o);for(var i=(o=n[n.length-1].length)+e.length,a=o;a<i;++a){var s={};s.serial=a;var l=e[a-o].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==l[0]?s.elem="C":1==l[0]?s.elem="H":8==l[0]?s.elem="O":17==l[0]&&(s.elem="Cl"),s.x=parseFloat(l[2])*r,s.y=parseFloat(l[3])*r,s.z=parseFloat(l[4])*r,s.hetflag=!0,s.bonds=[],s.bondOrder=[],s.properties={},n[n.length-1].push(s)}for(a=0;a<n.length;a++)t(n[a]);return n},e.xyz=e.XYZ=function(e,n){for(var r=[[]],o=e.split(/\r?\n|\r/);0<o.length&&!(3>o.length);){var i=parseInt(o[0]);if(isNaN(i)||0>=i)break;if(o.length<i+2)break;e=2;var a=r[r.length-1].length;for(i=a+i;a<i;a++){var s=o[e++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l={};l.serial=a;var c=s[0];l.atom=l.elem=c[0].toUpperCase()+c.substr(1).toLowerCase(),l.x=parseFloat(s[1]),l.y=parseFloat(s[2]),l.z=parseFloat(s[3]),l.hetflag=!0,l.bonds=[],l.bondOrder=[],l.properties={},r[r.length-1][a]=l,7<=s.length&&(l.dx=parseFloat(s[4]),l.dy=parseFloat(s[5]),l.dz=parseFloat(s[6]))}if(!n.multimodel)break;r.push([]),o.splice(0,e)}for(a=0;a<r.length;a++)t(r[a]);if(n.onemol)for(n=r,(r=[]).push(n[0]),a=1;a<n.length;a++)for(e=r[0].length,o=0;o<n[a].length;o++){for(i=n[a][o],s=0;s<i.bonds.length;s++)i.bonds[s]+=e;i.index=r[0].length,i.serial=r[0].length,r[0].push(i)}return r},e.sdf=e.SDF=function(e,t){var n=[[]],r=!1;for(void 0!==t.keepH&&(r=!t.keepH),e=e.split(/\r?\n|\r/);0<e.length&&!(4>e.length);){var o=parseInt(e[3].substr(0,3));if(isNaN(o)||0>=o)break;var i=parseInt(e[3].substr(3,3)),a=4;if(e.length<4+o+i)break;var s=[],l=n[n.length-1].length,c=l+o;for(o=l;o<c;o++,a++){var u=e[a],p={},h=u.substr(31,3).replace(/ /g,"");p.atom=p.elem=h[0].toUpperCase()+h.substr(1).toLowerCase(),"H"==p.elem&&r||(p.serial=o,s[o]=n[n.length-1].length,p.x=parseFloat(u.substr(0,10)),p.y=parseFloat(u.substr(10,10)),p.z=parseFloat(u.substr(20,10)),p.hetflag=!0,p.bonds=[],p.bondOrder=[],p.properties={},p.index=n[n.length-1].length,n[n.length-1].push(p))}for(o=0;o<i;o++,a++)u=e[a],c=s[parseInt(u.substr(0,3))-1+l],p=s[parseInt(u.substr(3,3))-1+l],u=parseInt(u.substr(6,3)),void 0!==c&&void 0!==p&&(n[n.length-1][c].bonds.push(p),n[n.length-1][c].bondOrder.push(u),n[n.length-1][p].bonds.push(c),n[n.length-1][p].bondOrder.push(u));if(!t.multimodel)break;for(t.onemol||n.push([]);"$$$$"!=e[a];)a++;e.splice(0,++a)}return n},e.cdjson=e.json=function(e,t){var n=[[]];"string"==typeof e&&(e=JSON.parse(e));var r=e.m,o=r[0].a;e=r[0].b;var i=r[0].s,a=void 0!==t&&void 0!==t.parseStyle?t.parseStyle:void 0!==i;for(t=n[n.length-1].length,r=0;r<o.length;r++){var s=o[r],l={};l.id=s.i,l.x=s.x,l.y=s.y,l.z=s.z||0,l.bonds=[],l.bondOrder=[];var c=s.l||"C";l.elem=c[0].toUpperCase()+c.substr(1).toLowerCase(),l.serial=n[n.length-1].length,a&&(l.style=i[s.s||0]),n[n.length-1].push(l)}for(r=0;r<e.length;r++)o=(a=e[r]).b+t,i=a.e+t,a=a.o||1,s=n[n.length-1][o],l=n[n.length-1][i],s.bonds.push(i),s.bondOrder.push(a),l.bonds.push(o),l.bondOrder.push(a);return n},e.mcif=e.cif=function(e,n){function o(e,t){for(var n=[],r=0,o=0;o<e.length;){for(;e.substr(o,t.length)!==t&&o<e.length;){if("'"===e[o])for(o++;o<e.length&&"'"!==e[o];)o++;else if('"'===e[o])for(o++;o<e.length&&'"'!==e[o];)o++;o++}n.push(e.substr(r,o-r)),r=o+=t.length}return n}var i=[],s=!n.doAssembly;n=!n.duplicateAssemblyAtoms;var l=i.modelData=[],c=e.split(/\r?\n|\r/);e=[];for(var u=!1,p=0;p<c.length;p++){var h=c[p].split("#")[0];if(u?";"===h[0]&&(u=!1):";"===h[0]&&(u=!0),u||""!==h){if(!u&&"_"===(h=h.trim())[0]){var d=h.split(/\s/)[0].indexOf(".");-1<d&&(h[d]="_",h=h.substr(0,d)+"_"+h.substr(d+1))}e.push(h)}}for(p=0;p<e.length;){for(c=function(e){var t=e.match("-"),n=void 0===(e=(e=e.replace(/[-xyz]/g,"")).split("/"))[1]?1:parseInt(e[1]);return(""===e[0]?1:parseInt(e[0]))/n*(t?-1:1)},d=function(e,t,n){return{x:k[0][0]*e+k[0][1]*t+k[0][2]*n,y:k[1][0]*e+k[1][1]*t+k[1][2]*n,z:k[2][0]*e+k[2][1]*t+k[2][2]*n}};!e[p].startsWith("data_")||"data_global"===e[p];)p++;for(p++,u={};p<e.length&&!e[p].startsWith("data_");)if(void 0===e[p][0])p++;else if("_"===e[p][0]){var f=e[p].split(/\s/)[0].toLowerCase();h=u[f]=u[f]||[];var m=e[p].substr(e[p].indexOf(f)+f.length);if(""===m)if(";"===e[++p][0]){for(m=e[p].substr(1),p++;";"!==e[p];)m=m+"\n"+e[p],p++;h.push(m)}else h.push(e[p]);else h.push(m.trim());p++}else if("loop_"===e[p].substr(0,5)){for(p++,m=[];""===e[p]||"_"===e[p][0];)""!==e[p]&&(h=u[f=e[p].split(/\s/)[0].toLowerCase()]=u[f]||[],m.push(h)),p++;for(f=0;p<e.length&&"_"!==e[p][0]&&!e[p].startsWith("loop_")&&!e[p].startsWith("data_");){h=o(e[p]," ");for(var y=0;y<h.length;y++)""!==h[y]&&(m[f].push(h[y]),f=(f+1)%m.length);p++}}else p++;if(l.push({symmetries:[]}),i.push([]),m=void 0!==u._atom_site_id?u._atom_site_id.length:u._atom_site_label.length,void 0!==u._cell_length_a){h=parseFloat(u._cell_length_a),f=parseFloat(u._cell_length_b),y=parseFloat(u._cell_length_c);var g=parseFloat(u._cell_angle_alpha)||90,v=parseFloat(u._cell_angle_beta)||90,b=parseFloat(u._cell_angle_gamma)||90,S=b*Math.PI/180,w=Math.cos(g*Math.PI/180),C=Math.cos(v*Math.PI/180),_=Math.cos(S),k=[[h,f*_,y*C],[0,f*(S=Math.sin(S)),y*(w-C*_)/S],[0,0,y*Math.sqrt(1-w*w-C*C-_*_+2*w*C*_)/S]];l[l.length-1].cryst={a:h,b:f,c:y,alpha:g,beta:v,gamma:b}}for(h=0;h<m;h++)void 0!==u._atom_site_group_pdb&&"TER"===u._atom_site_group_pdb[h]||(f={},void 0!==u._atom_site_cartn_x?(f.x=parseFloat(u._atom_site_cartn_x[h]),f.y=parseFloat(u._atom_site_cartn_y[h]),f.z=parseFloat(u._atom_site_cartn_z[h])):(y=d(parseFloat(u._atom_site_fract_x[h]),parseFloat(u._atom_site_fract_y[h]),parseFloat(u._atom_site_fract_z[h])),f.x=y.x,f.y=y.y,f.z=y.z),f.chain=u._atom_site_auth_asym_id?u._atom_site_auth_asym_id[h]:void 0,f.resi=u._atom_site_auth_seq_id?parseInt(u._atom_site_auth_seq_id[h]):void 0,f.resn=u._atom_site_auth_comp_id?u._atom_site_auth_comp_id[h].trim():void 0,f.atom=u._atom_site_auth_atom_id?u._atom_site_auth_atom_id[h].replace(/"/gm,""):void 0,f.hetflag=!u._atom_site_group_pdb||"HETA"===u._atom_site_group_pdb[h]||"HETATM"===u._atom_site_group_pdb[h],y=u._atom_site_type_symbol[h],f.elem=y[0].toUpperCase()+y.substr(1).toLowerCase(),f.bonds=[],f.ss="c",f.serial=h,f.bondOrder=[],f.properties={},i[i.length-1].push(f));if(void 0!==u._pdbx_struct_oper_list_id&&!s){for(h=0;h<u._pdbx_struct_oper_list_id.length;h++){d=parseFloat(u["_pdbx_struct_oper_list_matrix[1][1]"][h]),m=parseFloat(u["_pdbx_struct_oper_list_matrix[1][2]"][h]),f=parseFloat(u["_pdbx_struct_oper_list_matrix[1][3]"][h]),y=parseFloat(u["_pdbx_struct_oper_list_vector[1]"][h]),g=parseFloat(u["_pdbx_struct_oper_list_matrix[2][1]"][h]),v=parseFloat(u["_pdbx_struct_oper_list_matrix[2][2]"][h]),b=parseFloat(u["_pdbx_struct_oper_list_matrix[2][3]"][h]),w=parseFloat(u["_pdbx_struct_oper_list_vector[2]"][h]),C=parseFloat(u["_pdbx_struct_oper_list_matrix[3][1]"][h]),_=parseFloat(u["_pdbx_struct_oper_list_matrix[3][2]"][h]),S=parseFloat(u["_pdbx_struct_oper_list_matrix[3][3]"][h]);var T=parseFloat(u["_pdbx_struct_oper_list_vector[3]"][h]);d=new $3Dmol.Matrix4(d,m,f,y,g,v,b,w,C,_,S,T),l[l.length-1].symmetries.push(d)}for(h=0;h<i.length;h++)a(l[l.length-1].symmetries,n,i[h])}if(void 0!==u._symmetry_equiv_pos_as_xyz)for(h=0;h<u._symmetry_equiv_pos_as_xyz.length;h++){for(m=u._symmetry_equiv_pos_as_xyz[h].replace(/["' ]/g,"").split(",").map(function(e){return e.replace(/-/g,"+-")}),d=new $3Dmol.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),f=0;3>f;f++)for(y=m[f].split("+"),g=0;g<y.length;g++)""!==(v=y[g])&&(b=c(v),v.match("x")?d.elements[f+0]=b:v.match("y")?d.elements[f+4]=b:v.match("z")?d.elements[f+8]=b:d.elements[f+12]=b);m=new $3Dmol.Matrix4(k[0][0],k[0][1],k[0][2],0,k[1][0],k[1][1],k[1][2],0,k[2][0],k[2][1],k[2][2],0),f=(new $3Dmol.Matrix4).getInverse(m,!0),d=(new $3Dmol.Matrix4).multiplyMatrices(d,f),d=(new $3Dmol.Matrix4).multiplyMatrices(m,d),l[l.length-1].symmetries.push(d)}}for(h=0;h<i.length;h++)t(i[h]),r(i[h]),a(l[h].symmetries,n,i[h]);return i},e.mol2=e.MOL2=function(e,t){var n=[[]],r=!1;void 0!==t.keepH&&(r=!t.keepH);var o=e.search(/@<TRIPOS>MOLECULE/),i=e.search(/@<TRIPOS>ATOM/);if(-1==o||-1==i)return n;for(e=e.substr(o,e.length).split(/\r?\n|\r/);0<e.length;){o=[];var a=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),s=parseInt(a[0]);i=0,1<a.length&&(i=parseInt(a[1]));var l,c=4;for(l=3;l<e.length;l++)if("@<TRIPOS>ATOM"==e[l]){c=l+1;break}for(s=(l=n[n.length-1].length)+s;l<s;l++){var u={},p=(a=(a=e[c++]).replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5].split(".")[0];if(u.atom=u.elem=p[0].toUpperCase()+p.substr(1).toLowerCase(),"H"!=u.elem||!r){p=n[n.length-1].length;var h=parseInt(a[0]);u.serial=h,u.x=parseFloat(a[2]),u.y=parseFloat(a[3]),u.z=parseFloat(a[4]),u.atom=a[5],a=parseFloat(a[8]),u.index=p,u.bonds=[],u.bondOrder=[],u.properties={charge:a,partialCharge:a},o[h]=p,n[n.length-1].push(u)}}for(l=!1;c<e.length;)if("@<TRIPOS>BOND"==e[c++]){l=!0;break}if(l&&i)for(l=0;l<i;l++)a=(a=e[c++]).replace(/^\s+/,"").replace(/\s+/g," ").split(" "),s=parseInt(a[1]),u=n[n.length-1][o[s]],p=parseInt(a[2]),h=n[n.length-1][o[p]],a=parseInt(a[3]),isNaN(a)&&(a=1),void 0!==u&&void 0!==h&&(u.bonds.push(o[p]),u.bondOrder.push(a),h.bonds.push(o[s]),h.bondOrder.push(a));if(!t.multimodel)break;t.onemol||n.push([]),e.splice(0,c),e.join("\n")}return n};var o={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},i=function(e,t){var n=(o[e.elem]||1.6)+(o[t.elem]||1.6);n+=.25,n*=n;var r=e.x-t.x;if((r*=r)>n)return!1;var i=e.y-t.y;if((i*=i)>n)return!1;var a=e.z-t.z;return!((a*=a)>n)&&(r=r+i+a,!isNaN(r)&&(!(.5>r)&&(!(r>n)&&(e.altLoc==t.altLoc||" "==e.altLoc||" "==t.altLoc))))},a=function(e,t,n){var r,o,i=n.length,a=i;if(t){if(1<e.length)for(t=0;t<n.length;t++){for(i=[],r=0;r<e.length;r++)e[r].isIdentity()||((a=new $3Dmol.Vector3).set(n[t].x,n[t].y,n[t].z),a.applyMatrix4(e[r]),i.push(a));n[t].symmetries=i}}else for(t=0;t<e.length;t++)if(!e[t].isIdentity()){var s=new $3Dmol.Vector3;for(o=0;o<i;o++){var l=[];for(r=0;r<n[o].bonds.length;r++)l.push(n[o].bonds[r]+a);for(var c in s.set(n[o].x,n[o].y,n[o].z),s.applyMatrix4(e[t]),r={},n[o])r[c]=n[o][c];r.x=s.x,r.y=s.y,r.z=s.z,r.bonds=l,n.push(r)}a=n.length}},s=function(e,t){return 0<(e=e.replace(/ /g,"")).length&&"H"==e[0]&&"Hg"!=e&&(e="H"),1<e.length&&(e=e[0].toUpperCase()+e.substr(1).toLowerCase(),void 0===o[e]?e=e[0]:t&&("Ca"==e?e="C":"Cd"==e&&(e="C"))),e};e.pdb=e.PDB=e.pdbqt=e.PDBQT=function(e,t){var i=[],l={};i.modelData=[];for(var c=e.split(/\r?\n|\r/);0<c.length;){var u,p=c;e=l,c=[];var h=!t.keepH,d=!!t.noSecondaryStructure,f=!t.noComputeSecondaryStructure,m=!t.doAssembly,y=!t.duplicateAssemblyAtoms,g=t.altLoc?t.altLoc:"A",v={symmetries:[]},b=[],S=[],w={};for(u=0;u<p.length;u++){var C=p[u].replace(/^\s*/,""),_=C.substr(0,6);if(0==_.indexOf("END")){if(b=p.slice(u+1),"END"==_)for(var k in e)e.hasOwnProperty(k)&&delete e[k];break}if("ATOM  "==_||"HETATM"==_){var T=C.substr(16,1);if(" "==T||T==g||"*"==g){var x=parseInt(C.substr(6,5)),E=C.substr(12,4).replace(/ /g,""),A=C.substr(17,3).replace(/ /g,""),O=C.substr(21,1),P=parseInt(C.substr(22,4)),I=C.substr(26,1),M=parseFloat(C.substr(30,8)),D=parseFloat(C.substr(38,8)),L=parseFloat(C.substr(46,8)),N=parseFloat(C.substr(60,8)),R=C.substr(76,2).replace(/ /g,"");"H"==(R=""===R||void 0===o[R]?s(C.substr(12,2),"A"==C[0]):R[0].toUpperCase()+R.substr(1).toLowerCase())&&h||(_="H"==_[0],S[x]=c.length,c.push({resn:A,x:M,y:D,z:L,elem:R,hetflag:_,altLoc:T,chain:O,resi:P,icode:I,rescode:P+(" "!=I?"^"+I:""),serial:x,atom:E,bonds:[],ss:"c",bondOrder:[],properties:{},b:N,pdbline:C}))}}else if("SHEET "==_){N=C.substr(21,1),E=parseInt(C.substr(22,4)),C.substr(32,1),C=parseInt(C.substr(33,4)),N in e||(e[N]={}),e[N][E]="s1";for(E+=1;E<C;E++)e[N][E]="s";e[N][C]="s2"}else if("CONECT"==_){for(x=c[E=S[N=parseInt(C.substr(6,5))]],A=[11,16,21,26],N=0;4>N;N++)if(P=c[O=S[O=parseInt(C.substr(A[N],5))]],void 0!==x&&void 0!==P)if(w[[E,O]])for(w[[E,O]]+=1,P=0;P<x.bonds.length;P++)x.bonds[P]==O&&(I=w[[E,O]],x.bondOrder[P]=4<=I?1:I);else w[[E,O]]=1,(0==x.bonds.length||x.bonds[x.bonds.length-1]!=O)&&(x.bonds.push(O),x.bondOrder.push(1))}else if("HELIX "==_){N=C.substr(19,1),E=parseInt(C.substr(21,4)),C.substr(31,1),C=parseInt(C.substr(33,4)),N in e||(e[N]={}),e[N][E]="h1";for(E+=1;E<C;E++)e[N][E]="h";e[N][C]="h2"}else if(m||"REMARK"!=_||"BIOMT"!=C.substr(13,5))"CRYST1"==_?(E=parseFloat(C.substr(7,8)),N=parseFloat(C.substr(16,8)),x=parseFloat(C.substr(25,8)),A=parseFloat(C.substr(34,6)),O=parseFloat(C.substr(41,6)),C=parseFloat(C.substr(48,6)),v.cryst={a:E,b:N,c:x,alpha:A,beta:O,gamma:C}):"ANISOU"==_&&(N=c[S[x=parseInt(C.substr(6,5))]])&&(C=C.substr(30).trim().split(/\s+/),C={u11:parseInt(C[0]),u22:parseInt(C[1]),u33:parseInt(C[2]),u12:parseInt(C[3]),u13:parseInt(C[4]),u23:parseInt(C[5])},N.uMat=C);else{for(E=new $3Dmol.Matrix4,N=1;3>=N;N++)if(C=p[u].replace(/^\s*/,""),parseInt(C.substr(18,1))==N)E.elements[N-1]=parseFloat(C.substr(23,10)),E.elements[N-1+4]=parseFloat(C.substr(33,10)),E.elements[N-1+8]=parseFloat(C.substr(43,10)),E.elements[N-1+12]=parseFloat(C.substr(53)),u++;else for(;"BIOMT"==C.substr(13,5);)C=p[++u].replace(/^\s*/,"");E.elements[3]=0,E.elements[7]=0,E.elements[11]=0,E.elements[15]=1,v.symmetries.push(E),u--}}for((new Date).getTime(),p=0,h=(u=c).length;p<h;p++)for(g=u[p],w=0;w<g.bonds.length;w++)C=u[g.bonds[w]],N=S[g.serial],C&&N&&0>C.bonds.indexOf(N)&&(C.bonds.push(N),C.bondOrder.push(g.bondOrder[w]));n(c),m||a(v.symmetries,y,c),f&&!d&&((new Date).getTime(),r(c)),(new Date).getTime();e:{for(d in d=void 0,f=e){d=!1;break e}d=!0}if(!d)for(u=0;u<c.length;u++)void 0!==(E=c[u])&&E.chain in e&&E.resi in e[E.chain]&&(d=e[E.chain][E.resi],E.ss=d[0],1<d.length&&("1"==d[1]?E.ssbegin=!0:"2"==d[1]&&(E.ssend=!0)));if(e=(c=[c,v,b])[0],v=c[1],c=c[2],0!=e.length){if(t.multimodel&&t.onemol&&0<i.length)for(v=i[0].length,b=0;b<e.length;b++){for((d=e[b]).index=b,f=0;f<d.bonds.length;f++)d.bonds[f]+=v;i[0].push(d)}else i.modelData.push(v),i.push(e);if(!t.multimodel)break}}return i},e.pqr=e.PQR=function(e,t){var o=[[]],i=!t.noSecondaryStructure;o.modelData=[{symmetries:[]}];var a,s=[];for(e=e.split(/\r?\n|\r/),a=0;a<e.length;a++){var l=e[a].replace(/^\s*/,""),c=l.substr(0,6);if(0==c.indexOf("END")){if(!t.multimodel)break;t.onemol||o.push([])}else if("ATOM  "==c||"HETATM"==c){var u=parseInt(l.substr(6,5));c=l.substr(12,4).replace(/ /g,"");var p=l.substr(17,3),h=l.substr(21,1),d=parseInt(l.substr(22,4)),f=l.substr(30).trim().split(/\s+/),m=parseFloat(f[0]),y=parseFloat(f[1]),g=parseFloat(f[2]),v=parseFloat(f[3]),b=parseFloat(f[4]),S=c[0];1<c.length&&c[1].toUpperCase()!=c[1]&&(S=c.substr(0,2)),f="H"==l[0],s[u]=o[o.length-1].length,o[o.length-1].push({resn:p,x:m,y:y,z:g,elem:S,hetflag:f,chain:h,resi:d,serial:u,atom:c,bonds:[],ss:"c",bondOrder:[],properties:{charge:v,partialCharge:v,radius:b},pdbline:l})}else if("CONECT"==c)for(c=parseInt(l.substr(6,5)),u=o[o.length-1][s[c]],c=0;4>c;c++)p=parseInt(l.substr([11,16,21,26][c],5)),h=o[o.length-1][s[p]],void 0!==u&&void 0!==h&&(u.bonds.push(s[p]),u.bondOrder.push(1))}for(a=0;a<o.length;a++)n(o[a]),i&&r(o[a]);return o};var l=function(e){return 0==e||2==e||4==e?"h":3==e?"s":"c"};return e.mmtf=e.MMTF=function(e,t){var n=!t.keepH,o=t.altLoc?t.altLoc:"A",i=!!t.noSecondaryStructure,s=!t.noComputeSecondaryStructure,c=!t.doAssembly,u=!t.duplicateAssemblyAtoms,p=t.assemblyIndex?t.assemblyIndex:0;"string"==typeof e&&(e=$3Dmol.base64ToArray(e)),e=MMTF.decode(e);var h=[[]],d=h.modelData=[],f=0,m=0,y=0,g=0,v=e.secStructList,b=e.insCodeList,S=e.bFactorList,w=e.altLocList,C=e.occupancyList,_=e.bondAtomList,k=e.bondOrderList,T=e.numModels;if(0==T)return h;t.multimodel||(T=1);var x,E=[];if(!c&&e.bioAssemblyList&&0<e.bioAssemblyList.length){var A=e.bioAssemblyList[p].transformList;for(p=0,x=A.length;p<x;p++){var O=new $3Dmol.Matrix4(A[p].matrix);O.transpose(),E.push(O)}}O=null,e.unitCell&&(O={a:(p=e.unitCell)[0],b:p[1],c:p[2],alpha:p[3],beta:p[4],gamma:p[5]});var P=0;for(A=0;A<T;A++){var I=e.chainsPerModel[A],M=h[h.length-1],D=[];for(d.push({symmetries:E,cryst:O}),p=0;p<I;++p){var L=e.groupsPerChain[m],N=String.fromCharCode.apply(null,e.chainIdList.subarray(4*m,4*m+4)).replace(/\0/g,"");e.chainNameList&&(N=String.fromCharCode.apply(null,e.chainNameList.subarray(4*m,4*m+4)).replace(/\0/g,""));var R=y,j="";for(x=0;x<L;++x){var F=e.groupList[e.groupTypeList[y]],G=F.atomNameList.length,B=0,z=!1,V=!1;if(v){B=v[y];var H=l(B);0!=y&&H==j||(z=!0),j=H;var U=y+1;(U>=v.length||l(v[U]!=H))&&(V=!0)}e.insCodeList&&String.fromCharCode(b[y]);var q=e.groupIdList[y],W=F.groupName;for(U=g,H=0;H<G;++H){var K=F.elementList[H];if(!n||"H"!=K){var $="";S&&($=S[g]);var Y="";w&&w[g]&&(Y=String.fromCharCode(w[g]));var Q="";if(C&&(Q=C[g]),""==Y||Y==o||"*"==o){var X=e.atomIdList[g],Z=F.atomNameList[H],J=0;F.atomChargeList&&(J=F.atomChargeList[H]);var ee=e.xCoordList[g],te=e.yCoordList[g],ne=e.zCoordList[g];D[g]=M.length,M.push({resn:W,x:ee,y:te,z:ne,elem:K,hetflag:0>B,chain:N,resi:q,icode:Y,rescode:q+(" "!=Y?"^"+Y:""),serial:X,altLoc:Y,index:g,atom:Z,bonds:[],ss:l(B),ssbegin:z,ssend:V,bondOrder:[],properties:{charge:J,occupancy:Q},b:$})}}g+=1}for(z=F.bondAtomList,H=0,B=F.bondOrderList.length;H<B;++H)V=U+z[2*H],q=U+z[2*H+1],G=F.bondOrderList[H],V=D[V],K=D[q],W=M[V],q=M[K],W&&q&&(W.bonds.push(K),W.bondOrder.push(G),q.bonds.push(V),q.bondOrder.push(G));y+=1}for(y=R,x=0;x<L;++x)y+=1;m+=1}if(_)for(H=P,B=_.length;H<B;H+=2){if(V=_[H],q=_[H+1],G=k?k[H/2]:1,V>=g){P=H;break}V=D[V],K=D[q],W=M[V],q=M[K],W&&q&&(W.bonds.push(K),W.bondOrder.push(G),q.bonds.push(V),q.bondOrder.push(G))}if(t.multimodel&&(t.onemol||h.push([])),!c)for(x=0;x<h.length;x++)a(d[f].symmetries,u,h[x]);f+=1}return s&&!i&&r(h),h},e.prmtop=e.PRMTOP=function(e,t){function n(e){var t=a.indexOf(s.filter(function(t){return t.includes(e)})[0]);if(Number.isInteger(t)&&0<t){for(;!a[t].includes("FORMAT");)t++;return t}return-1}function r(e){var t=a[e].match(/\((\d*)\S*/),n=a[e].match(/[a-zA-Z](\d*)\)\s*/);return null==n&&(n=a[e].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[t[1],n[1]]}var o;t=[];var i=0,a=e.split(/\r?\n|\r/);if(!(0<a.length&&a[0].includes("VERSION")))return[];var s=a.filter(function(e){return e.includes("POINTERS")||e.includes("ATOM_NAME")||e.includes("CHARGE")||e.includes("RADII")||e.includes("BONDS_INC_HYDROGEN")||e.includes("BONDS_WITHOUT_HYDROGEN")});if(-1==(e=n("POINTERS")))return[];var l=r(e),c=parseInt(a[e+1].slice(0,l[1]));if(isNaN(c)||0>=c)return[];if(-1==(e=n("ATOM_NAME")))return[];for(var u=(l=r(e))[0],p=0;p<c/l[0];p++){p==parseInt(c/l[0])&&(u=c%l[0]);for(var h=0;h<u;h++){var d={};d.serial=i,d.x=0,d.y=0,d.z=0,d.atom=a[e+1].slice(l[1]*h,l[1]*(h+1)),d.elem=a[e+1].slice(l[1]*h,l[1]*h+1),d.properties={charge:"",radii:""},d.bonds=[],d.bondOrder=[],t.push(d),i++}e++}if(-1!=(e=n("CHARGE")))for(i=0,u=(l=r(e))[0],p=0;p<c/l[0];p++){for(p==parseInt(c/l[0])&&(u=c%l[0]),h=0;h<u;h++)t[i].properties.charge=parseFloat(a[e+1].slice(l[1]*h,l[1]*(h+1))),i++;e++}if(-1!=(e=n("RADII")))for(i=0,u=(l=r(e))[0],p=0;p<c/l[0];p++){for(p==parseInt(c/l[0])&&(u=c%l[0]),h=0;h<u;h++)t[i].properties.radii=parseFloat(a[e+1].slice(l[1]*h,l[1]*(h+1))),i++;e++}if(-1!=(e=n("BONDS_WITHOUT_HYDROGEN")))for(i=0,u=(l=r(e))[0],e+=1;!a[e].match(/^%FLAG/);){for(a[e+1].match(/^%FLAG/)&&(u=c%l[0]),h=0;h<u;h++)0==i%3&&(o=parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),1==i%3&&t[o].bonds.push(parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),i++;e++}if(-1!=(e=n("BONDS_INC_HYDROGEN")))for(i=0,u=(l=r(e))[0],e+=1;!a[e].match(/^%FLAG/);){for(a[e+1].match(/^%FLAG/)&&(u=c%l[0]),h=0;h<u;h++)0==i%3&&(o=parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),1==i%3&&t[o].bonds.push(parseInt(a[e].slice(l[1]*h,l[1]*(h+1))/3)),i++;e++}return[t]},e.gro=e.GRO=function(e,t){for(t=[],e=e.split(/\r?\n|\r/);0<e.length&&!(3>e.length);){var r=parseInt(e[1]);if(isNaN(r)||0>=r)break;if(e.length<r+3)break;var o=[];t.push(o);var i=2,a=o.length;for(r=a+r;a<r;a++){var l=e[i++],c={};c.serial=a,c.atom=l.slice(10,15).trim(),c.elem=s(c.atom,!0),c.x=10*parseFloat(l.slice(20,28)),c.y=10*parseFloat(l.slice(28,36)),c.z=10*parseFloat(l.slice(36,44)),c.resi=parseInt(l.slice(0,5)),c.resn=l.slice(5,10).trim(),c.bonds=[],c.bondOrder=[],c.properties={},44<l.length&&(c.dx=10*parseFloat(l.slice(44,52)),c.dy=10*parseFloat(l.slice(52,60)),c.dz=10*parseFloat(l.slice(60,68))),o[a]=c}if(e.length<=i+3&&3==(o=e[i++].trim().split(/\s+/)).length){for(r=0;3>r;r++)o[r]=10*parseFloat(o[r]);t.box=o}e.splice(0,++i)}for(a=0;a<t.length;a++)n(t[a]);return t},e.lammpstrj=e.LAMMPSTRJ=function(e,n){var r=[],o={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};e=e.split(/\r?\n|\r/);for(var i=0,a=0,s=0;s<e.length-9;){for(;s<e.length;s++)if(e[s].match(/ITEM: NUMBER OF ATOMS/)&&(a=parseInt(e[s+1])),e[s].match(/ITEM: ATOMS/)){i=s+1;break}var l=e[i-1].replace("ITEM: ATOMS ","").split(" ");for(r.push([]),s=i;s<i+a;s++){for(var c={},u={},p=e[s].split(" "),h=0;h<p.length;h++){var d=o[l[h]];null!=d&&("serial"==d?c[d]=parseInt(p[h]):"x"==d||"y"==d||"z"===d?c[d]=parseFloat(p[h]):"charge"==d||"radius"==d?u[d]=parseFloat(p[h]):c[d]=p[h]),c.properties=u,c.bonds=[],c.bondOrder=[]}r[r.length-1][s-i]=c}s=i+a-1}if(n.assignbonds)for(n=0;n<r.length;n++)t(r[n]);return r},e}(),$3Dmol=$3Dmol||{},$3Dmol.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55},$3Dmol.applyPartialCharges=function(e,t){t&&void 0!==e.partialCharge||e.resn&&e.atom&&(e.properties.partialCharge=$3Dmol.partialCharges[e.resn+":"+e.atom])},"undefined"==typeof console&&(console={log:function(){}}),$3Dmol.ProteinSurface=function(){var e,t,n=0,r=0,o=0,a=2,s=0,l=0,c=0,u=0,p=null,h=null,d=null,f=0,m=0,y=0,g=0,v=0,b=0,S={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},w=function(e){return e.elem&&void 0!==S[e.elem]?e.elem:"X"},C={},_={},T=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(i){var s,l={},c=0;for(s=i.length;c<s;c++)l[i[c]]=!0;for(c=0,s=(i=t).length;c<s;c++)i[c].x=i[c].x/a-n,i[c].y=i[c].y/a-r,i[c].z=i[c].z/a-o;var u=[];for(c=0,s=e.length;c<s;c+=3){var f=e[c],m=e[c+1],y=e[c+2],g=i[m].atomid,v=i[y].atomid,b=i[f].atomid;g<b&&(b=g),v<b&&(b=v),l[b]&&f!==m&&m!==y&&f!==y&&(u.push(f),u.push(m),u.push(y))}return d=h=p=null,{vertices:i,faces:u}},this.initparm=function(e,t,i){1e6<i&&(a=1),i=1/a*5.5,f=e[0][0],g=e[1][0],m=e[0][1],v=e[1][1],y=e[0][2],b=e[1][2],t?(f-=1.4+i,m-=1.4+i,y-=1.4+i,g+=1.4+i,v+=1.4+i,b+=1.4+i):(f-=i,m-=i,y-=i,g+=i,v+=i,b+=i),f=Math.floor(f*a)/a,m=Math.floor(m*a)/a,y=Math.floor(y*a)/a,g=Math.ceil(g*a)/a,v=Math.ceil(v*a)/a,b=Math.ceil(b*a)/a,n=-f,r=-m,o=-y,c=Math.ceil(a*(g-f))+1,l=Math.ceil(a*(v-m))+1,s=Math.ceil(a*(b-y))+1,this.boundingatom(t),u=1.4*a,p=new Uint8Array(c*l*s),h=new Float64Array(c*l*s),d=new Int32Array(c*l*s)},this.boundingatom=function(e){var t=[];for(var n in flagradius=e,S)if(S.hasOwnProperty(n)){var r=S[n];for(t[n]=e?(r+1.4)*a+.5:r*a+.5,r=t[n]*t[n],_[n]=Math.floor(t[n])+1,C[n]=new Int32Array(_[n]*_[n]),j=indx=0;j<_[n];j++)for(k=0;k<_[n];k++){var o=j*j+k*k;o>r?C[n][indx]=-1:(o=Math.sqrt(r-o),C[n][indx]=Math.floor(o)),indx++}}},this.fillvoxels=function(e,t){var n,r=0;for(n=p.length;r<n;r++)p[r]=0,h[r]=-1,d[r]=-1;for(r in t)void 0!==(n=e[t[r]])&&this.fillAtom(n,e);for(r=0,n=p.length;r<n;r++)1&p[r]&&(p[r]|=2)},this.fillAtom=function(e,t){var i,u,h,f,m,y,g=Math.floor(.5+a*(e.x+n)),v=Math.floor(.5+a*(e.y+r)),b=Math.floor(.5+a*(e.z+o)),S=w(e),k=0,T=l*s,x=0;for(y=_[S];x<y;x++)for(i=0;i<y;i++){if(-1!=C[S][k])for(h=-1;2>h;h++)for(f=-1;2>f;f++)for(m=-1;2>m;m++)if(0!==h&&0!==f&&0!==m){var E=h*x,A=m*i;for(u=0;u<=C[S][k];u++){var O=u*f,P=g+E,I=v+O,M=b+A;if(!(0>P||0>I||0>M||P>=c||I>=l||M>=s))if(1&p[M=P*T+I*s+M]){var D=t[d[M]];D.serial!=e.serial&&(E*E+O*O+A*A<(P=g+E-Math.floor(.5+a*(D.x+n)))*P+(I=v+O-Math.floor(.5+a*(D.y+r)))*I+(D=b+A-Math.floor(.5+a*(D.z+o)))*D&&(d[M]=e.serial))}else p[M]|=1,d[M]=e.serial}}k++}},this.fillvoxelswaals=function(e,t){var n,r=0;for(n=p.length;r<n;r++)p[r]&=-3;for(r in t)void 0!==(n=e[t[r]])&&this.fillAtomWaals(n,e)},this.fillAtomWaals=function(e,t){var i,u,h,f,m,y,g=0,v=Math.floor(.5+a*(e.x+n)),b=Math.floor(.5+a*(e.y+r)),S=Math.floor(.5+a*(e.z+o)),k=w(e),T=l*s,x=0;for(y=_[k];x<y;x++)for(i=0;i<y;i++){if(-1!=C[k][g])for(h=-1;2>h;h++)for(f=-1;2>f;f++)for(m=-1;2>m;m++)if(0!==h&&0!==f&&0!==m){var E=h*x,A=m*i;for(u=0;u<=C[k][g];u++){var O=u*f,P=v+E,I=b+O,M=S+A;if(!(0>P||0>I||0>M||P>=c||I>=l||M>=s))if(2&p[M=P*T+I*s+M]){var D=t[d[M]];D.serial!=e.serial&&(E*E+O*O+A*A<(P=v+E-Math.floor(.5+a*(D.x+n)))*P+(I=b+O-Math.floor(.5+a*(D.y+r)))*I+(D=S+A-Math.floor(.5+a*(D.z+o)))*D&&(d[M]=e.serial))}else p[M]|=2,d[M]=e.serial}}g++}},this.buildboundary=function(){var e=l*s;for(i=0;i<c;i++)for(j=0;j<s;j++)for(k=0;k<l;k++){var t=i*e+k*s+j;if(1&p[t])for(var n=0;26>n;){var r=i+T[n][0],o=j+T[n][2],a=k+T[n][1];if(-1<r&&r<c&&-1<a&&a<l&&-1<o&&o<s&&!(1&p[r*e+a*s+o])){p[t]|=4;break}n++}}};var x=function(e,t,n){var r=new Int32Array(e*t*n*3);this.set=function(e,o,i,a){r[e=3*((e*t+o)*n+i)]=a.ix,r[e+1]=a.iy,r[e+2]=a.iz},this.get=function(e,o,i){return{ix:r[e=3*((e*t+o)*n+i)],iy:r[e+1],iz:r[e+2]}}};this.fastdistancemap=function(){var e,t,n,r=new x(c,l,s),o=l*s,i=u*u,d=[];for(e=0;e<c;e++)for(t=0;t<l;t++)for(n=0;n<s;n++){var f=e*o+t*s+n;if(p[f]&=-3,1&p[f]&&4&p[f]){var m={ix:e,iy:t,iz:n};r.set(e,t,n,m),d.push(m),h[f]=0,p[f]|=2,p[f]&=-5}}do{for(n=this.fastoneshell(d,r),d=[],e=0,t=n.length;e<t;e++)f=o*n[e].ix+s*n[e].iy+n[e].iz,p[f]&=-5,h[f]<=1.0404*i&&d.push({ix:n[e].ix,iy:n[e].iy,iz:n[e].iz})}while(0!==d.length);for(0>(e=a-.5)&&(e=0),i-=.5/(.1+e),e=0;e<c;e++)for(t=0;t<l;t++)for(n=0;n<s;n++)p[f=e*o+t*s+n]&=-5,1&p[f]&&(!(2&p[f])||2&p[f]&&h[f]>=i)&&(p[f]|=4)},this.fastoneshell=function(e,t){var n,r,o=[];if(0===e.length)return o;tnv={ix:-1,iy:-1,iz:-1};var i=l*s,a=0;for(r=e.length;a<r;a++){var u=e[a].ix,d=e[a].iy,f=e[a].iz,m=t.get(u,d,f);for(n=0;6>n;n++)if(tnv.ix=u+T[n][0],tnv.iy=d+T[n][1],tnv.iz=f+T[n][2],tnv.ix<c&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz){var y=tnv.ix*i+s*tnv.iy+tnv.iz;if(1&p[y]&&!(2&p[y])){t.set(tnv.ix,tnv.iy,f+T[n][2],m);var g=tnv.ix-m.ix,v=tnv.iy-m.iy,b=tnv.iz-m.iz;g=g*g+v*v+b*b,h[y]=g,p[y]|=2,p[y]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})}else 1&p[y]&&2&p[y]&&((g=(g=tnv.ix-m.ix)*g+(v=tnv.iy-m.iy)*v+(b=tnv.iz-m.iz)*b)<h[y]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),h[y]=g,4&p[y]||(p[y]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz}))))}}for(a=0,r=e.length;a<r;a++)for(u=e[a].ix,d=e[a].iy,f=e[a].iz,m=t.get(u,d,f),n=6;18>n;n++)tnv.ix=u+T[n][0],tnv.iy=d+T[n][1],tnv.iz=f+T[n][2],tnv.ix<c&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz&&(y=tnv.ix*i+s*tnv.iy+tnv.iz,1&p[y]&&!(2&p[y])?(t.set(tnv.ix,tnv.iy,f+T[n][2],m),g=(g=tnv.ix-m.ix)*g+(v=tnv.iy-m.iy)*v+(b=tnv.iz-m.iz)*b,h[y]=g,p[y]|=2,p[y]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):1&p[y]&&2&p[y]&&((g=(g=tnv.ix-m.ix)*g+(v=tnv.iy-m.iy)*v+(b=tnv.iz-m.iz)*b)<h[y]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),h[y]=g,4&p[y]||(p[y]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));for(a=0,r=e.length;a<r;a++)for(u=e[a].ix,d=e[a].iy,f=e[a].iz,m=t.get(u,d,f),n=18;26>n;n++)tnv.ix=u+T[n][0],tnv.iy=d+T[n][1],tnv.iz=f+T[n][2],tnv.ix<c&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz&&(y=tnv.ix*i+s*tnv.iy+tnv.iz,1&p[y]&&!(2&p[y])?(t.set(tnv.ix,tnv.iy,f+T[n][2],m),g=(g=tnv.ix-m.ix)*g+(v=tnv.iy-m.iy)*v+(b=tnv.iz-m.iz)*b,h[y]=g,p[y]|=2,p[y]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):1&p[y]&&2&p[y]&&((g=(g=tnv.ix-m.ix)*g+(v=tnv.iy-m.iy)*v+(b=tnv.iz-m.iz)*b)<h[y]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),h[y]=g,4&p[y]||(p[y]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))));return o},this.marchingcubeinit=function(e){for(var t=0,n=p.length;t<n;t++)1==e?p[t]&=-5:4==e?(p[t]&=-3,4&p[t]&&(p[t]|=2),p[t]&=-5):2==e?4&p[t]&&2&p[t]?p[t]&=-5:4&p[t]&&!(2&p[t])&&(p[t]|=2):3==e&&(p[t]&=-5)},this.marchingcube=function(n){this.marchingcubeinit(n),t=[],e=[],$3Dmol.MarchingCube.march(p,t,e,{smooth:1,nX:c,nY:l,nZ:s}),n=l*s;for(var r=0,o=t.length;r<o;r++)t[r].atomid=d[t[r].x*n+s*t[r].y+t[r].z];$3Dmol.MarchingCube.laplacianSmooth(1,t,e)}},$3Dmol.VolumeData=function(e,t,n){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,t=t.toLowerCase(),/\.gz$/.test(t)){t=t.replace(/\.gz$/,"");try{e=this[t]&&this[t].isbinary?pako.inflate(e):new TextDecoder("utf-8").decode(pako.inflate(e))}catch(e){console.log(e)}}if(this[t]&&this[t](e),n){if(n.negate)for(e=0,t=this.data.length;e<t;e++)this.data[e]=-this.data[e];if(n.normalize){var r=0;for(e=0,t=this.data.length;e<t;e++)r+=this.data[e];for(n=r/this.data.length,console.log("computed mean: "+n),e=r=0,t=this.data.length;e<t;e++){var o=this.data[e]-n;r+=o*o}for(r/=this.data.length,e=0,t=this.data.length;e<t;e++)this.data[e]=(this.data[e]-n)/r}}},$3Dmol.VolumeData.prototype.getVal=function(e,t,n){return this.matrix?(this.inversematrix||(this.inversematrix=(new $3Dmol.Matrix4).getInverse(this.matrix)),e=(n=(n=new $3Dmol.Vector3(e,t,n)).applyMatrix4(this.inversematrix)).x,t=n.y,n=n.z):(e-=this.origin.x,t-=this.origin.y,n-=this.origin.z,e/=this.unit.x,t/=this.unit.y,n/=this.unit.z),e=Math.round(e),t=Math.round(t),n=Math.round(n),0>e||e>=this.size.x||0>t||t>=this.size.y||0>n||n>=this.size.z?0:this.data[e*this.size.y*this.size.z+t*this.size.z+n]},$3Dmol.VolumeData.prototype.getCoordinates=function(e){var t=e/(this.size.y*this.size.z),n=e%(this.size.y*this.size.z);return e%=this.size.z,t*=this.unit.x,n*=this.unit.y,e*=this.unit.z,{x:t+=this.origin.x,y:n+=this.origin.y,z:e+=this.origin.z}},$3Dmol.VolumeData.prototype.vasp=function(e){var t=e.replace(/^\s+/,"").split(/[\n\r]/),n=$3Dmol.Parsers.vasp(e)[0].length;if(0==n)console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];else{var r=parseFloat(t[1]),o=t[2].replace(/^\s+/,"").split(/\s+/);e=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*r),o=t[3].replace(/^\s+/,"").split(/\s+/);var i=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*r);o=t[4].replace(/^\s+/,"").split(/\s+/),o=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*r),r=e.x*(i.y*o.z-o.y*i.z)-i.x*(e.y*o.z-o.y*e.z)+o.x*(e.y*i.z-i.y*e.z),r=1/(r=Math.abs(r)/Math.pow(1.889725992,3)),t.splice(0,8+n+1);var a=t[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");n=Math.abs(a[0]);var s=Math.abs(a[1]);a=Math.abs(a[2]);var l=this.origin=new $3Dmol.Vector3(0,0,0);for(this.size={x:n,y:s,z:a},this.unit=new $3Dmol.Vector3(e.x,i.y,o.z),e=e.multiplyScalar(1/(1.889725992*n)),i=i.multiplyScalar(1/(1.889725992*s)),o=o.multiplyScalar(1/(1.889725992*a)),0==e.y&&0==e.z&&0==i.x&&0==i.z&&0==o.x&&0==o.y||(this.matrix=new $3Dmol.Matrix4(e.x,i.x,o.x,0,e.y,i.y,o.y,0,e.z,i.z,o.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(l.x,l.y,l.z)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1)),t.splice(0,1),(t=(t=(t=t.join(" ")).replace(/^\s+/,"")).split(/[\s\r]+/)).splice(n*s*a+1),t=new Float32Array(t),e=0;e<t.length;e++)t[e]=t[e]*r*.036749309;this.data=t}},$3Dmol.VolumeData.prototype.dx=function(e){e=e.split(/[\n\r]+/);var t,n,r=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,o=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,i=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,a=/data follows/;for(t=0;t<e.length;t++){var s=e[t];if(n=r.exec(s)){var l=parseInt(n[1]),c=parseInt(n[2]);n=parseInt(n[3]),this.size={x:l,y:c,z:n}}else if(n=i.exec(s)){if(l=parseFloat(n[1]),0==parseFloat(n[2])&&0==parseFloat(n[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),s=e[t+=1],null==(n=i.exec(s)))return void console.log("Parse error in dx delta matrix");if(c=parseFloat(n[2]),0==parseFloat(n[1])&&0==parseFloat(n[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),s=e[t+=1],null==(n=i.exec(s)))return void console.log("Parse error in dx delta matrix");s=parseFloat(n[3]),0==parseFloat(n[1])&&0==parseFloat(n[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new $3Dmol.Vector3(l,c,s)}else if(n=o.exec(s))l=parseFloat(n[1]),c=parseFloat(n[2]),n=parseFloat(n[3]),this.origin=new $3Dmol.Vector3(l,c,n);else if(a.exec(s))break}t+=1,this.size&&this.origin&&this.unit&&this.size?(e=(e=e.splice(t).join(" ")).split(/[\s\r]+/),this.data=new Float32Array(e)):console.log("Error parsing dx format")},$3Dmol.VolumeData.prototype.cube=function(e){if(!(6>(e=e.replace(/^\s+/,"").split(/[\n\r]+/)).length)){var t=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=parseFloat(t[0]),r=Math.abs(n),o=this.origin=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),i=0<(t=e[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[0]?.529177:1;o.multiplyScalar(i);var a=Math.abs(t[0]),s=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i);t=e[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var l=Math.abs(t[0]),c=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i);t=e[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var u=Math.abs(t[0]);t=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i),this.size={x:a,y:l,z:u},this.unit=new $3Dmol.Vector3(s.x,c.y,t.z),0==s.y&&0==s.z&&0==c.x&&0==c.z&&0==t.x&&0==t.y||(this.matrix=new $3Dmol.Matrix4(s.x,c.x,t.x,0,s.y,c.y,t.y,0,s.z,c.z,t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(o.x,o.y,o.z)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1)),o=6,0>n&&o++,e=(e=(e=e.splice(r+o).join(" ")).replace(/^\s+/,"")).split(/[\s\r]+/),this.data=new Float32Array(e)}},$3Dmol.VolumeData.prototype.ccp4=function(e){var t;e=new Int8Array(e);var n=new Int32Array(e.buffer,0,56),r=new Float32Array(e.buffer,0,56),o=new DataView(e.buffer);String.fromCharCode(o.getUint8(208),o.getUint8(209),o.getUint8(210),o.getUint8(211));var i=[o.getUint8(212),o.getUint8(213)];if(17===i[0]&&17===i[1])for(i=e.byteLength,t=0;t<i;t+=4)o.setFloat32(t,o.getFloat32(t),!0);o=n[0],i=n[1];var a=n[2];t=n[4];var s=n[5],l=n[6],c=n[7],u=n[8],p=n[9],h=r[10],d=r[11],f=r[12],m=r[13],y=r[14],g=r[15],v=n[16],b=n[17],S=n[18];n=n[23];var w=r[49],C=r[50];for(r=r[51],h=[h,0,0],d=[d*Math.cos(Math.PI/180*g),d*Math.sin(Math.PI/180*g),0],(m=[f*Math.cos(Math.PI/180*y),f*(Math.cos(Math.PI/180*m)-Math.cos(Math.PI/180*g)*Math.cos(Math.PI/180*y))/Math.sin(Math.PI/180*g),0])[2]=Math.sqrt(f*f*Math.sin(Math.PI/180*y)*Math.sin(Math.PI/180*y)-m[1]*m[1]),f=[0,h,d,m],c=[0,c,u,p],v=[0,v,b,S],this.matrix=new $3Dmol.Matrix4,this.matrix.set(f[v[1]][0]/c[v[1]],f[v[2]][0]/c[v[2]],f[v[3]][0]/c[v[3]],0,f[v[1]][1]/c[v[1]],f[v[2]][1]/c[v[2]],f[v[3]][1]/c[v[3]],0,f[v[1]][2]/c[v[1]],f[v[2]][2]/c[v[2]],f[v[3]][2]/c[v[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(t+w,s+C,l+r)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1),this.size={x:o,y:i,z:a},e=new Float32Array(e.buffer,1024+n),this.data=new Float32Array(o*i*a),t=0;t<o;t++)for(s=0;s<i;s++)for(l=0;l<a;l++)this.data[(t*i+s)*a+l]=e[(l*i+s)*o+t]},$3Dmol.VolumeData.prototype.ccp4.isbinary=!0,$3Dmol.workerString=function(){self.onmessage=function(e){var t=(e=e.data).type;if(0>t)self.atomData=e.atoms,self.volume=e.volume,self.ps=new ProteinSurface;else{var n=self.ps;n.initparm(e.expandedExtent,1!=t,self.volume),n.fillvoxels(self.atomData,e.extendedAtoms),n.buildboundary(),4!==t&&2!==t||(n.fastdistancemap(),n.boundingatom(!1),n.fillvoxelswaals(self.atomData,e.extendedAtoms)),n.marchingcube(t),e=n.getFacesAndVertices(e.atomsToShow),self.postMessage(e)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+="; var ProteinSurface="+$3Dmol.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,"MarchingCube."),$3Dmol.workerString+=",MarchingCube=("+$3Dmol.MarchingCubeInitializer.toString()+")();",$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):{postMessage:function(){}},$3Dmol.workerString=$3Dmol.workerString,$3Dmol.SurfaceWorker=$3Dmol.SurfaceWorker}).call(window)}).call(this,__webpack_require__(60),__webpack_require__(9))},function(e,t,n){var r,o,i;o=[e,t,n(0),n(1)],void 0===(i="function"==typeof(r=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n),i=a(r);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n=r,r.onResize=function(){r.rafId&&window.cancelAnimationFrame(r.rafId),r.rafId=window.requestAnimationFrame(r.update.bind(r))},r.update=function(){r.forceUpdate()},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),n=window.getComputedStyle(this.scope),r=[n["font-weight"],n["font-style"],n["font-size"],n["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=r,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return this.canvas.measureText(e).width}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.line),n=e.text,r=e.textTruncateChild,i=e.truncateText,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["containerClassName","line","text","textTruncateChild","truncateText"]),s=this.scope.getBoundingClientRect().width;if(0===s)return null;if(s>=this.measureWidth(n))return o.default.createElement("div",a,n);var l="";if(r&&"string"==typeof r.type){var c=r.type;(c.indexOf("span")>=0||c.indexOf("a")>=0)&&(l=r.props.children)}for(var u=1,p=n.length,h="",d=0,f=0,m=t,y=0,g=!1,v=-1;m--;){for(var b=m?"":i+" "+l;u<=p;){if(h=n.substr(f,u),!((y=this.measureWidth(h+b))<s)){do{u--," "===(h=n.substr(f,u))[h.length-1]&&(h=n.substr(f,u-1)),g&&(v=h.lastIndexOf(" "))>-1&&(u=v,h=n.substr(f,u)),y=this.measureWidth(h+b)}while(y>=s&&h.length>0);f+=u;break}-1===(d=n.indexOf(" ",u+1))?(u+=1,g=!1):(g=!0,u=d)}if(u>=p){f=p;break}}return f===p?o.default.createElement("div",a,n):o.default.createElement("div",a,n.substr(0,f)+i+" ",r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.containerClassName,i=n;return this.scope&&(i=this.getRenderText()),o.default.createElement("div",{ref:function(t){e.scope=t},className:r,style:{overflow:"hidden"}},i)}}]),t}(n.Component);c.propTypes={containerClassName:i.default.string,line:i.default.number,text:i.default.string,textTruncateChild:i.default.node,truncateText:i.default.string},c.defaultProps={line:1,text:"",truncateText:""},t.default=c,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){e.exports={portalWidth:"structureViewer-module__portalWidth__250aJ",framedImage:"structureViewer-module__framedImage__3OjST","main-3d-panel":"structureViewer-module__main-3d-panel__2asbr",header:"structureViewer-module__header__243uA",body:"structureViewer-module__body__3BGGR","collapsed-panel":"structureViewer-module__collapsed-panel__3T7vs","increased-size-panel":"structureViewer-module__increased-size-panel__1nCD-","default-option-select":"structureViewer-module__default-option-select__3EsrF","alpha-helix":"structureViewer-module__alpha-helix__3U1NC","beta-sheet":"structureViewer-module__beta-sheet__2rza2",loop:"structureViewer-module__loop__25tQU",highlighted:"structureViewer-module__highlighted__9IwJz","uniform-mutation":"structureViewer-module__uniform-mutation__2nUW-","missense-mutation":"structureViewer-module__missense-mutation__3m1Or","trunc-mutation":"structureViewer-module__trunc-mutation__1VdGC","inframe-mutation":"structureViewer-module__inframe-mutation__bSE4n"}},function(e,t,n){e.exports={portalWidth:"mutationMapper-module__portalWidth__t9qnu",framedImage:"mutationMapper-module__framedImage__2WV_N",filterResetPanel:"mutationMapper-module__filterResetPanel__2aFDu"}},function(e,t,n){"use strict";function r(e){return{genomeNexusUrl:e.genomenexus_url||void 0,isoformOverrideSource:e.isoformOverrideSource,myGeneInfoUrlTemplate:e.mygene_info_url||void 0,uniprotIdUrlTemplate:e.uniprot_id_url||void 0,transcriptSummaryUrlTemplate:e.ensembl_transcript_url||void 0,enableOncoKb:e.show_oncokb,enableGenomeNexus:e.show_genomenexus,enableHotspot:e.show_hotspot,enableMyCancerGenome:e.mycancergenome_show,enableCivic:e.show_civic}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),o=n(553);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackVisibility=Object(o.I)()};(function(e,t,n,r){var o,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(a<3?o(s):a>3?o(t,n,s):o(t,n))||s);a>3&&s&&Object.defineProperty(t,n,s)})([r.observable],a.prototype,"trackVisibility",void 0)},function(e,t,n){"use strict";var r=n(11),o=n(0),i=n(554);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(){return s(this,t),l(this,c(t).apply(this,arguments))}return u(t,i["b"]),t}(),m=function(e){function t(){return s(this,t),l(this,c(t).apply(this,arguments))}var n,r,i;return u(t,o["Component"]),n=t,(r=[{key:"render",value:function(){return o.createElement(f,{data:this.props.survivalDescriptionData,columns:[{name:"Study",render:function(e){return o.createElement("span",null,e.studyName)},sortBy:function(e){return e.studyName}},{name:"Description",render:function(e){return o.createElement("span",null,e.description)},sortBy:function(e){return e.description}}],initialSortColumn:"Description",initialSortDirection:"desc",showPagination:!0,initialItemsPerPage:10,showColumnVisibility:!1,showFilter:!1,showCopyDownload:!1})}}])&&a(n.prototype,r),i&&a(n,i),t}();m=d([r.observer],m),t.a=m},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(7),o=n(0),i=n(9),a=n.n(i),s=n(884),l=n.n(s),c=n(25),u=n(759),p=n(743);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},v=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).call(this,e))}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o["Component"]),n=t,(i=[{key:"render",value:function(){return o.createElement("div",null,o.createElement("div",{ref:this.igvDivRefHandler,className:"igvContainer"}))}},{key:"componentDidMount",value:function(){var e=this;this.props.onRenderingStart&&this.props.onRenderingStart();var t={genome:this.props.genome,locus:this.props.locus};l.a.createBrowser(this.igvDiv,t).then(function(t){e.igvBrowser=t,e.igvDiv&&e.updateSearch(e.igvDiv,e.props.disableSearch),e.loadTrackList(t,r.cloneDeep(e.props.tracks)),e.lastRenderedTracks=e.props.tracks,e.props.onRenderingComplete&&e.props.onRenderingComplete()})}},{key:"shouldComponentUpdate",value:function(e){var t=!1;if(!1!==e.isVisible){var n=Object(p.f)(this.lastRenderedTracks||[],e.tracks||[]),r=this.props.genome!==e.genome,o=this.props.locus!==e.locus,i=this.props.disableSearch!==e.disableSearch;(t=r||n.length>0||o||i)&&(this.modifiedTrackNames=n)}return t}},{key:"componentDidUpdate",value:function(){this.igvBrowser&&this.props.locus&&this.igvBrowser.search(this.props.locus),this.igvBrowser&&this.modifiedTrackNames&&this.modifiedTrackNames.length>0&&(this.updateTracks(this.igvBrowser,this.modifiedTrackNames,this.tracksByName),this.modifiedTrackNames=void 0,this.lastRenderedTracks=this.props.tracks),this.igvDiv&&this.updateSearch(this.igvDiv,this.props.disableSearch)}},{key:"loadTrackList",value:function(e,t){var n=this;e.loadTrackList(t).then(function(){n.props.onRenderingComplete&&n.props.onRenderingComplete()}).catch(function(){n.props.onRenderingComplete&&n.props.onRenderingComplete()})}},{key:"updateTracks",value:function(e,t,n){var o=this;t.forEach(function(t){return e.removeTrackByName(t)});var i=t.map(function(e){return r.cloneDeep(n[e])}).filter(function(e){return void 0!==e});i.length>0&&(this.props.onRenderingStart&&this.props.onRenderingStart(),Object(u.a)(function(){o.loadTrackList(e,i)}))}},{key:"updateSearch",value:function(e,t){var n=a()(e).find(".igv-chromosome-select-widget-container select"),r=a()(e).find(".igv-search-container input");t?(r.attr("disabled","true"),n.attr("disabled","true")):(r.attr("disabled",null),n.attr("disabled",null))}},{key:"igvDivRefHandler",value:function(e){this.igvDiv=e}},{key:"tracksByName",get:function(){return Object(p.g)(this.props.tracks)}}])&&h(n.prototype,i),s&&h(n,s),t}();v.defaultProps={genome:"hg19",locus:"all",disableSearch:!1},g([c.a],v.prototype,"igvDivRefHandler",null)},function(e,t,n){(function(r,o,i){var a,s,l;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}l=function(){"use strict";var e,t={},n=Object.prototype,a=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",p=s.toStringTag||"@@toStringTag";function h(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),a=new P(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===y)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=y;var l=d(e,t,n);if("normal"===l.type){if(r=n.done?g:m,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=g,n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var f="suspendedStart",m="suspendedYield",y="executing",g="completed",v={};function b(){}function S(){}function w(){}var C={};C[l]=function(){return this};var _=(Z=Object.getPrototypeOf)&&Z(Z(I([])));_&&_!==n&&a.call(_,l)&&(C=_);var k=w.prototype=b.prototype=Object.create(C);function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,i){var s=d(e[n],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==c(u)&&a.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,i)})}i(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=d(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(t){if(t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:e,done:!0}}function D(e){return(D="function"==typeof Symbol&&"symbol"==c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function L(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function N(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){var a=t.apply(n,r);function s(e){L(a,o,i,s,l,"next",e)}function l(e){L(a,o,i,s,l,"throw",e)}s(e)})}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return(V=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&z(o,n.prototype),o}).apply(null,arguments)}function H(t){var n="function"==typeof Map?new Map:e;return(H=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return V(e,arguments,B(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),z(r,e)})(t)}function U(e,t){return!t||"object"!=c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(t,n){return K(t)||function(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],o=!0,i=!1,a=e;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done)&&(r.push(s.value),!n||r.length!==n);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}}(t,n)||Y()}function W(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(e){if(Array.isArray(e))return e}function $(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}S.prototype=k.constructor=w,w.constructor=S,w[p]=S.displayName="GeneratorFunction",t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p in e||(e[p]="GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},T(x.prototype),x.prototype[u]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,o){var i=new x(h(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},T(k),k[p]="Generator",k[l]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}};var Q=[],X=window.document,Z=Object.getPrototypeOf,J=Q.slice,ee=Q.concat,te=Q.push,ne=Q.indexOf,re={},oe=re.toString,ie=(a=re.hasOwnProperty).toString,ae=ie.call(Object),se={},le=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},ce=function(e){return null!=e&&e===e.window},ue={type:!0,src:!0,noModule:!0};function pe(e,t,n){var r,o=(t=t||X).createElement("script");if(o.text=e,n)for(r in ue)n[r]&&(o[r]=n[r]);t.head.appendChild(o).parentNode.removeChild(o)}function he(e){return null==e?e+"":"object"===D(e)||"function"==typeof e?re[oe.call(e)]||"object":D(e)}var de="3.3.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseXML,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-event/ajax,-effects,-effects/Tween,-effects/animatedSelector",fe=function e(t,n){return new e.fn.init(t,n)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function ye(e){var t=!!e&&"length"in e&&e.length,n=he(e);return!le(e)&&!ce(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}fe.fn=fe.prototype={jquery:de,constructor:fe,length:0,toArray:function(){return J.call(this)},get:function(e){return null==e?J.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:te,sort:Q.sort,splice:Q.splice},fe.extend=fe.fn.extend=function(){var t,n,r,o,i,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"===D(s)||le(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(n in t)r=s[n],s!==(o=t[n])&&(u&&o&&(fe.isPlainObject(o)||(i=Array.isArray(o)))?(i?(i=!1,a=r&&Array.isArray(r)?r:[]):a=r&&fe.isPlainObject(r)?r:{},s[n]=fe.extend(u,a,o)):o!==e&&(s[n]=o));return s},fe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==oe.call(e)||(t=Z(e))&&("function"!=typeof(n=a.call(t,"constructor")&&t.constructor)||ie.call(n)!==ae))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){pe(e)},each:function(e,t){var n,r=0;if(ye(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(me,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(ye(Object(e))?fe.merge(n,"string"==typeof e?[e]:e):te.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ne.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(ye(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return ee.apply([],a)},guid:1,support:se}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=Q[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){re["[object "+t+"]"]=t.toLowerCase()});var ge=function(t){var n,r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w="sizzle"+1*new Date,C=t.document,_=0,k=0,T=se(),x=se(),E=se(),A=function(e,t){return e===t&&(h=!0),0},O={}.hasOwnProperty,P=[],I=P.pop,M=P.push,D=P.push,L=P.slice,N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",G="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+G+")*)|.*)\\)|)",z=new RegExp(j+"+","g"),V=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),U=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),q=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),W=new RegExp(B),K=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ee=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),te=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},ie=be(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{D.apply(P=L.call(C.childNodes),C.childNodes),P[C.childNodes.length].nodeType}catch(e){D={apply:P.length?function(e,t){M.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,n,o){var i,a,l,u,p,h,m,v=t&&t.ownerDocument,b=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return n;if(!o&&((t?t.ownerDocument||t:C)!==f&&d(t),t=t||f,y)){if(11!==b&&(p=Z.exec(e)))if(i=p[1]){if(9===b){if(!(l=t.getElementById(i)))return n;if(l.id===i)return n.push(l),n}else if(v&&(l=v.getElementById(i))&&S(t,l)&&l.id===i)return n.push(l),n}else{if(p[2])return D.apply(n,t.getElementsByTagName(e)),n;if((i=p[3])&&r.getElementsByClassName&&t.getElementsByClassName)return D.apply(n,t.getElementsByClassName(i)),n}if(r.qsa&&!E[e+" "]&&(!g||!g.test(e))){if(1!==b)v=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ne,re):t.setAttribute("id",u=w),a=(h=s(e)).length;a--;)h[a]="#"+u+" "+ve(h[a]);m=h.join(","),v=J.test(e)&&ye(t.parentNode)||t}if(m)try{return D.apply(n,v.querySelectorAll(m)),n}catch(e){}finally{u===w&&t.removeAttribute("id")}}}return c(e.replace(V,"$1"),t,n,o)}function se(){var e=[];return function t(n,r){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function le(e){return e[w]=!0,e}function ce(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)o.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return le(function(t){return t=+t,le(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(n in r=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ae.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:C;return i!==f&&9===i.nodeType&&i.documentElement?(m=(f=i).documentElement,y=!a(f),C!==f&&(n=f.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),r.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ce(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=X.test(f.getElementsByClassName),r.getById=ce(function(e){return m.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),r.getById?(o.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(ee,te);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),o.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},o.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},v=[],g=[],(r.qsa=X.test(f.querySelectorAll))&&(ce(function(e){m.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=X.test(b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&ce(function(e){r.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=X.test(m.compareDocumentPosition),S=t||X.test(m.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return h=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===f||e.ownerDocument===C&&S(C,e)?-1:t===f||t.ownerDocument===C&&S(C,t)?1:p?N(p,e)-N(p,t):0:4&n?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===f?-1:t===f?1:o?-1:i?1:p?N(p,e)-N(p,t):0;if(o===i)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]===C?-1:s[r]===C?1:0},f):f},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),t=t.replace(q,"='$1']"),r.matchesSelector&&y&&!E[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=b.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ae(t,f,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),S(e,t)},ae.attr=function(t,n){(t.ownerDocument||t)!==f&&d(t);var i=o.attrHandle[n.toLowerCase()],a=i&&O.call(o.attrHandle,n.toLowerCase())?i(t,n,!y):e;return a!==e?a:r.attributes||!y?t.getAttribute(n):(a=t.getAttributeNode(n))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(ne,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],o=0,i=0;if(h=!r.detectDuplicates,p=!r.sortStable&&e.slice(0),e.sort(A),h){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return p=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(o=ae.selectors={cacheLength:50,createPseudo:le,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=ae.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(z," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,p,h,d,f,m=i!==a?"nextSibling":"previousSibling",y=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(y){if(i){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?y.firstChild:y.lastChild],a&&v){for(b=(d=(c=(u=(p=(h=y)[w]||(h[w]={}))[h.uniqueID]||(p[h.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],h=d&&y.childNodes[d];h=++d&&h&&h[m]||(b=d=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[_,d,b];break}}else if(v&&(b=d=(c=(u=(p=(h=t)[w]||(h[w]={}))[h.uniqueID]||(p[h.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(h=++d&&h&&h[m]||(b=d=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++b||(v&&((u=(p=h[w]||(h[w]={}))[h.uniqueID]||(p[h.uniqueID]={}))[e]=[_,b]),h!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=N(e,i[a])]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:le(function(e){var t=[],n=[],r=l(e.replace(V,"$1"));return r[w]?le(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:le(function(e){return function(t){return ae(e,t).length>0}}),contains:le(function(e){return e=e.replace(ee,te),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:le(function(e){return K.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(ee,te).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===m},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=he(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=de(n);function ge(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=k++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var c,u,p,h=[_,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(p=t[w]||(t[w]={}))[t.uniqueID]||(p[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[i])&&c[0]===_&&c[1]===s)return h[2]=c[2];if(u[i]=h,h[2]=e(t,n,l))return!0}return!1}}function Se(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function Ce(e,t,n,r,o,i){return r&&!r[w]&&(r=Ce(r)),o&&!o[w]&&(o=Ce(o,i)),le(function(i,a,s,l){var c,u,p,h=[],d=[],f=a.length,m=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ae(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?m:we(m,h,e,s,l),g=n?o||(i?e:f||r)?[]:a:y;if(n&&n(y,g,s,l),r)for(c=we(g,d),r(c,[],s,l),u=c.length;u--;)(p=c[u])&&(g[d[u]]=!(y[d[u]]=p));if(i){if(o||e){if(o){for(c=[],u=g.length;u--;)(p=g[u])&&c.push(y[u]=p);o(null,g=[],c,l)}for(u=g.length;u--;)(p=g[u])&&(c=o?N(i,p):h[u])>-1&&(i[c]=!(a[c]=p))}}else g=we(g===a?g.splice(f,g.length):g),o?o(null,a,g,l):D.apply(a,g)})}function _e(e){for(var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=be(function(e){return e===t},s,!0),p=be(function(e){return N(t,e)>-1},s,!0),h=[function(e,n,r){var o=!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r));return t=null,o}];l<i;l++)if(n=o.relative[e[l].type])h=[be(Se(h),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<i&&!o.relative[e[r].type];r++);return Ce(l>1&&Se(h),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<r&&_e(e.slice(l,r)),r<i&&_e(e=e.slice(r)),r<i&&ve(e))}h.push(n)}return Se(h)}return ge.prototype=o.filters=o.pseudos,o.setFilters=new ge,s=ae.tokenize=function(e,t){var n,r,i,a,s,l,c,u=x[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=o.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(V," ")}),s=s.slice(n.length)),o.filter)!(r=$[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):x(e,l).slice(0)},l=ae.compile=function(e,t){var n,r=[],i=[],a=E[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=_e(t[n]))[w]?r.push(a):i.push(a);(a=E(e,function(e,t){var n=t.length>0,r=e.length>0,i=function(i,a,s,l,c){var p,h,m,g=0,v="0",b=i&&[],S=[],w=u,C=i||r&&o.find.TAG("*",c),k=_+=null==w?1:Math.random()||.1,T=C.length;for(c&&(u=a===f||a||c);v!==T&&null!=(p=C[v]);v++){if(r&&p){for(h=0,a||p.ownerDocument===f||(d(p),s=!y);m=e[h++];)if(m(p,a||f,s)){l.push(p);break}c&&(_=k)}n&&((p=!m&&p)&&g--,i&&b.push(p))}if(g+=v,n&&v!==g){for(h=0;m=t[h++];)m(b,S,a,s);if(i){if(g>0)for(;v--;)b[v]||S[v]||(S[v]=I.call(l));S=we(S)}D.apply(l,S),c&&!i&&S.length>0&&g+t.length>1&&ae.uniqueSort(l)}return c&&(_=k,u=w),b};return n?le(i):i}(i,r))).selector=e}return a},c=ae.select=function(e,t,n,r){var i,a,c,u,p,h="function"==typeof e&&e,d=!r&&s(e=h.selector||e);if(n=n||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(c=a[0]).type&&9===t.nodeType&&y&&o.relative[a[1].type]){if(!(t=(o.find.ID(c.matches[0].replace(ee,te),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=$.needsContext.test(e)?0:a.length;i--&&(c=a[i],!o.relative[u=c.type]);)if((p=o.find[u])&&(r=p(c.matches[0].replace(ee,te),J.test(a[0].type)&&ye(t.parentNode)||t))){if(a.splice(i,1),!(e=r.length&&ve(a)))return D.apply(n,r),n;break}}return(h||l(e,d))(r,t,!y,n,!t||J.test(e)&&ye(t.parentNode)||t),n},r.sortStable=w.split("").sort(A).join("")===w,r.detectDuplicates=!!h,d(),r.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||ue(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(window);fe.find=ge,fe.expr=ge.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ge.uniqueSort,fe.text=ge.getText,fe.isXMLDoc=ge.isXML,fe.contains=ge.contains,fe.escapeSelector=ge.escape;var ve=function(t,n,r){for(var o=[],i=r!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&fe(t).is(r))break;o.push(t)}return o},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=fe.expr.match.needsContext;function we(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function _e(e,t,n){return le(t)?fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?fe.grep(e,function(e){return e===t!==n}):"string"!=typeof t?fe.grep(e,function(e){return ne.call(t,e)>-1!==n}):fe.filter(t,e,n)}fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<r;t++)if(fe.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)fe.find(e,o[t],n);return r>1?fe.uniqueSort(n):n},filter:function(e){return this.pushStack(_e(this,e||[],!1))},not:function(e){return this.pushStack(_e(this,e||[],!0))},is:function(e){return!!_e(this,"string"==typeof e&&Se.test(e)?fe(e):e||[],!1).length}});var ke,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(fe.fn.init=function(t,n,r){var o,i;if(!t)return this;if(r=r||ke,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Te.exec(t))||!o[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(o[1]){if(n=n instanceof fe?n[0]:n,fe.merge(this,fe.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),Ce.test(o[1])&&fe.isPlainObject(n))for(o in n)le(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}return(i=X.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):le(t)?r.ready!==e?r.ready(t):t(fe):fe.makeArray(t,this)}).prototype=fe.fn,ke=fe(X);var xe=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};function Ae(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}fe.fn.extend({has:function(e){var t=fe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(fe.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&fe(e);if(!Se.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?fe.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ne.call(fe(e),this[0]):ne.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return Ae(e,"nextSibling")},prev:function(e){return Ae(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return we(e,"iframe")?e.contentDocument:(we(e,"template")&&(e=e.content||e),fe.merge([],e.childNodes))}},function(e,t){fe.fn[e]=function(n,r){var o=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=fe.filter(r,o)),this.length>1&&(Ee[e]||fe.uniqueSort(o),xe.test(e)&&o.reverse()),this.pushStack(o)}});var Oe=/[^\x20\t\r\n\f]+/g;function Pe(e){return e}function Ie(e){throw e}function Me(t,n,r,o){var i;try{t&&le(i=t.promise)?i.call(t).done(n).fail(r):t&&le(i=t.then)?i.call(t,n,r):n.apply(e,[t].slice(o))}catch(t){r.apply(e,[t])}}fe.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return fe.each(e.match(Oe)||[],function(e,n){t[n]=!0}),t}(e):fe.extend({},e);var t,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){fe.each(n,function(n,r){le(r)?e.unique&&c.has(r)||i.push(r):r&&r.length&&"string"!==he(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?fe.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},fe.extend({Deferred:function(t){var n=[["notify","progress",fe.Callbacks("memory"),fe.Callbacks("memory"),2],["resolve","done",fe.Callbacks("once memory"),fe.Callbacks("once memory"),0,"resolved"],["reject","fail",fe.Callbacks("once memory"),fe.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return fe.Deferred(function(t){fe.each(n,function(n,r){var o=le(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&le(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,r,o){var i=0;function a(t,n,r,o){return function(){var s=this,l=arguments,c=function(){var c,u;if(!(t<i)){if((c=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");u=c&&("object"===D(c)||"function"==typeof c)&&c.then,le(u)?o?u.call(c,a(i,n,Pe,o),a(i,n,Ie,o)):(i++,u.call(c,a(i,n,Pe,o),a(i,n,Ie,o),a(i,n,Pe,n.notifyWith))):(r!==Pe&&(s=e,l=[c]),(o||n.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(o){fe.Deferred.exceptionHook&&fe.Deferred.exceptionHook(o,u.stackTrace),t+1>=i&&(r!==Ie&&(s=e,l=[o]),n.rejectWith(s,l))}};t?u():(fe.Deferred.getStackHook&&(u.stackTrace=fe.Deferred.getStackHook()),window.setTimeout(u))}}return fe.Deferred(function(e){n[0][3].add(a(0,e,le(o)?o:Pe,e.notifyWith)),n[1][3].add(a(0,e,le(t)?t:Pe)),n[2][3].add(a(0,e,le(r)?r:Ie))}).promise()},promise:function(e){return null!=e?fe.extend(e,o):o}},i={};return fe.each(n,function(t,a){var s=a[2],l=a[5];o[a[1]]=s.add,l&&s.add(function(){r=l},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(a[3].fire),i[a[0]]=function(){return i[a[0]+"With"](this===i?e:this,arguments),this},i[a[0]+"With"]=s.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=J.call(arguments),i=fe.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?J.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(Me(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||le(o[n]&&o[n].then)))return i.then();for(;n--;)Me(o[n],a(n),i.reject);return i.promise()}});var De=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;fe.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&De.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},fe.readyException=function(e){window.setTimeout(function(){throw e})};var Le=fe.Deferred();function Ne(){X.removeEventListener("DOMContentLoaded",Ne),window.removeEventListener("load",Ne),fe.ready()}fe.fn.ready=function(e){return Le.then(e).catch(function(e){fe.readyException(e)}),this},fe.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||Le.resolveWith(X,[fe]))}}),fe.ready.then=Le.then,"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?window.setTimeout(fe.ready):(X.addEventListener("DOMContentLoaded",Ne),window.addEventListener("load",Ne));var Re=function t(n,r,o,i,a,s,l){var c=0,u=n.length,p=null==o;if("object"===he(o))for(c in a=!0,o)t(n,r,c,o[c],!0,s,l);else if(i!==e&&(a=!0,le(i)||(l=!0),p&&(l?(r.call(n,i),r=null):(p=r,r=function(e,t,n){return p.call(fe(e),n)})),r))for(;c<u;c++)r(n[c],o,l?i:i.call(n[c],c,r(n[c],o)));return a?n:p?r.call(n):u?r(n[0],o):s},je=/^-ms-/,Fe=/-([a-z])/g;function Ge(e,t){return t.toUpperCase()}function Be(e){return e.replace(je,"ms-").replace(Fe,Ge)}var ze=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Ve(){this.expando=fe.expando+Ve.uid++}Ve.uid=1,Ve.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ze(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[Be(t)]=n;else for(r in t)o[Be(r)]=t[r];return o},get:function(t,n){return n===e?this.cache(t):t[this.expando]&&t[this.expando][Be(n)]},access:function(t,n,r){return n===e||n&&"string"==typeof n&&r===e?this.get(t,n):(this.set(t,n,r),r!==e?r:n)},remove:function(t,n){var r,o=t[this.expando];if(o!==e){if(n!==e){r=(n=Array.isArray(n)?n.map(Be):(n=Be(n))in o?[n]:n.match(Oe)||[]).length;for(;r--;)delete o[n[r]]}(n===e||fe.isEmptyObject(o))&&(t.nodeType?t[this.expando]=e:delete t[this.expando])}},hasData:function(t){var n=t[this.expando];return n!==e&&!fe.isEmptyObject(n)}};var He=new Ve,Ue=new Ve,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,We=/[A-Z]/g;function Ke(t,n,r){var o;if(r===e&&1===t.nodeType)if(o="data-"+n.replace(We,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(o))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}(r)}catch(e){}Ue.set(t,n,r)}else r=e;return r}fe.extend({hasData:function(e){return Ue.hasData(e)||He.hasData(e)},data:function(e,t,n){return Ue.access(e,t,n)},removeData:function(e,t){Ue.remove(e,t)},_data:function(e,t,n){return He.access(e,t,n)},_removeData:function(e,t){He.remove(e,t)}}),fe.fn.extend({data:function(t,n){var r,o,i,a=this[0],s=a&&a.attributes;if(t===e){if(this.length&&(i=Ue.get(a),1===a.nodeType&&!He.get(a,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(o=s[r].name).indexOf("data-")&&(o=Be(o.slice(5)),Ke(a,o,i[o]));He.set(a,"hasDataAttrs",!0)}return i}return"object"===D(t)?this.each(function(){Ue.set(this,t)}):Re(this,function(n){var r;if(a&&n===e)return(r=Ue.get(a,t))!==e?r:(r=Ke(a,t))!==e?r:void 0;this.each(function(){Ue.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ue.remove(this,e)})}}),fe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=He.get(e,t),n&&(!r||Array.isArray(n)?r=He.access(e,t,fe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,o=n.shift(),i=fe._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){fe.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return He.get(e,n)||He.access(e,n,{empty:fe.Callbacks("once memory").add(function(){He.remove(e,[t+"queue",n])})})}}),fe.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),arguments.length<r?fe.queue(this[0],t):n===e?this:this.each(function(){var e=fe.queue(this,t,n);fe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&fe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(t,n){var r,o=1,i=fe.Deferred(),a=this,s=this.length,l=function(){--o||i.resolveWith(a,[a])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";s--;)(r=He.get(a[s],t+"queueHooks"))&&r.empty&&(o++,r.empty.add(l));return l(),i.promise(n)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ye=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Qe=["Top","Right","Bottom","Left"],Xe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&fe.contains(e.ownerDocument,e)&&"none"===fe.css(e,"display")},Ze=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o},Je={};function et(e){var t,n=e.ownerDocument,r=e.nodeName,o=Je[r];return o||(t=n.body.appendChild(n.createElement(r)),o=fe.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),Je[r]=o,o)}function tt(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=He.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&Xe(r)&&(o[i]=et(r))):"none"!==n&&(o[i]="none",He.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}fe.fn.extend({show:function(){return tt(this,!0)},hide:function(){return tt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Xe(this)?fe(this).show():fe(this).hide()})}});var nt=/^(?:checkbox|radio)$/i,rt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ot=/^$|^module$|\/(?:java|ecma)script/i,it={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function at(t,n){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(n||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(n||"*"):[],n===e||n&&we(t,n)?fe.merge([t],r):r}function st(e,t){for(var n=0,r=e.length;n<r;n++)He.set(e[n],"globalEval",!t||He.get(t[n],"globalEval"))}it.optgroup=it.option,it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td;var lt,ct,ut=/<|&#?\w+;/;function pt(e,t,n,r,o){for(var i,a,s,l,c,u,p=t.createDocumentFragment(),h=[],d=0,f=e.length;d<f;d++)if((i=e[d])||0===i)if("object"===he(i))fe.merge(h,i.nodeType?[i]:i);else if(ut.test(i)){for(a=a||p.appendChild(t.createElement("div")),s=(rt.exec(i)||["",""])[1].toLowerCase(),l=it[s]||it._default,a.innerHTML=l[1]+fe.htmlPrefilter(i)+l[2],u=l[0];u--;)a=a.lastChild;fe.merge(h,a.childNodes),(a=p.firstChild).textContent=""}else h.push(t.createTextNode(i));for(p.textContent="",d=0;i=h[d++];)if(r&&fe.inArray(i,r)>-1)o&&o.push(i);else if(c=fe.contains(i.ownerDocument,i),a=at(p.appendChild(i),"script"),c&&st(a),n)for(u=0;i=a[u++];)ot.test(i.type||"")&&n.push(i);return p}lt=X.createDocumentFragment().appendChild(X.createElement("div")),(ct=X.createElement("input")).setAttribute("type","radio"),ct.setAttribute("checked","checked"),ct.setAttribute("name","t"),lt.appendChild(ct),se.checkClone=lt.cloneNode(!0).cloneNode(!0).lastChild.checked,lt.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!lt.cloneNode(!0).lastChild.defaultValue;var ht=X.documentElement,dt=/^key/,ft=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mt=/^([^.]*)(?:\.(.+)|)/;function yt(){return!0}function gt(){return!1}function vt(){try{return X.activeElement}catch(e){}}function bt(t,n,r,o,i,a){var s,l;if("object"===D(n)){for(l in"string"!=typeof r&&(o=o||r,r=e),n)bt(t,l,r,o,n[l],a);return t}if(null==o&&null==i?(i=r,o=r=e):null==i&&("string"==typeof r?(i=o,o=e):(i=o,o=r,r=e)),!1===i)i=gt;else if(!i)return t;return 1===a&&(s=i,(i=function(e){return fe().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=fe.guid++)),t.each(function(){fe.event.add(this,n,i,o,r)})}fe.event={global:{},add:function(t,n,r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g=He.get(t);if(g)for(r.handler&&(r=(a=r).handler,i=a.selector),i&&fe.find.matchesSelector(ht,i),r.guid||(r.guid=fe.guid++),(c=g.events)||(c=g.events={}),(s=g.handle)||(s=g.handle=function(n){return void 0!==fe&&fe.event.triggered!==n.type?fe.event.dispatch.apply(t,arguments):e}),u=(n=(n||"").match(Oe)||[""]).length;u--;)f=y=(l=mt.exec(n[u])||[])[1],m=(l[2]||"").split(".").sort(),f&&(h=fe.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=fe.event.special[f]||{},p=fe.extend({type:f,origType:y,data:o,handler:r,guid:r.guid,selector:i,needsContext:i&&fe.expr.match.needsContext.test(i),namespace:m.join(".")},a),(d=c[f])||((d=c[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,o,m,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,p),p.handler.guid||(p.handler.guid=r.guid)),i?d.splice(d.delegateCount++,0,p):d.push(p),fe.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,c,u,p,h,d,f,m,y=He.hasData(e)&&He.get(e);if(y&&(l=y.events)){for(c=(t=(t||"").match(Oe)||[""]).length;c--;)if(d=m=(s=mt.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),d){for(p=fe.event.special[d]||{},h=l[d=(r?p.delegateType:p.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=h.length;i--;)u=h[i],!o&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(h.splice(i,1),u.selector&&h.delegateCount--,p.remove&&p.remove.call(e,u));a&&!h.length&&(p.teardown&&!1!==p.teardown.call(e,f,y.handle)||fe.removeEvent(e,d,y.handle),delete l[d])}else for(d in l)fe.event.remove(e,d+t[c],n,r,!0);fe.isEmptyObject(l)&&He.remove(e,"handle events")}},dispatch:function(t){var n,r,o,i,a,s,l=fe.event.fix(t),c=new Array(arguments.length),u=(He.get(this,"events")||{})[l.type]||[],p=fe.event.special[l.type]||{};for(c[0]=l,n=1;n<arguments.length;n++)c[n]=arguments[n];if(l.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,l)){for(s=fe.event.handlers.call(this,l,u),n=0;(i=s[n++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,r=0;(a=i.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,(o=((fe.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,c))!==e&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,l),l.result}},handlers:function(t,n){var r,o,i,a,s,l=[],c=n.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(a=[],s={},r=0;r<c;r++)s[i=(o=n[r]).selector+" "]===e&&(s[i]=o.needsContext?fe(i,this).index(u)>-1:fe.find(i,this,null,[u]).length),s[i]&&a.push(o);a.length&&l.push({elem:u,handlers:a})}return u=this,c<n.length&&l.push({elem:u,handlers:n.slice(c)}),l},addProp:function(e,t){Object.defineProperty(fe.Event.prototype,e,{enumerable:!0,configurable:!0,get:le(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[fe.expando]?e:new fe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==vt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===vt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&we(this,"input"))return this.click(),!1},_default:function(e){return we(e.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},fe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},fe.Event=function(t,n){if(!(this instanceof fe.Event))return new fe.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===e&&!1===t.returnValue?yt:gt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&fe.extend(this,n),this.timeStamp=t&&t.timeStamp||Date.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:gt,isPropagationStopped:gt,isImmediatePropagationStopped:gt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=yt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=yt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=yt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var n=t.button;return null==t.which&&dt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&n!==e&&ft.test(t.type)?1&n?1:2&n?3:4&n?2:0:t.which}},fe.event.addProp),fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||fe.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),fe.fn.extend({on:function(e,t,n,r){return bt(this,e,t,n,r)},one:function(e,t,n,r){return bt(this,e,t,n,r,1)},off:function(t,n,r){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,fe(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"===D(t)){for(i in t)this.off(i,n,t[i]);return this}return!1!==n&&"function"!=typeof n||(r=n,n=e),!1===r&&(r=gt),this.each(function(){fe.event.remove(this,t,r,n)})}});var St=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,wt=/<script|<style|<link/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,_t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function kt(e,t){return we(e,"table")&&we(11!==t.nodeType?t:t.firstChild,"tr")&&fe(e).children("tbody")[0]||e}function Tt(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function xt(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Et(e,t){var n,r,o,i,a,s,l,c;if(1===t.nodeType){if(He.hasData(e)&&(i=He.access(e),a=He.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(n=0,r=c[o].length;n<r;n++)fe.event.add(t,o,c[o][n]);Ue.hasData(e)&&(s=Ue.access(e),l=fe.extend({},s),Ue.set(t,l))}}function At(e,t){var n=t.nodeName.toLowerCase();"input"===n&&nt.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ot(e,t,n,r){t=ee.apply([],t);var o,i,a,s,l,c,u=0,p=e.length,h=p-1,d=t[0],f=le(d);if(f||p>1&&"string"==typeof d&&!se.checkClone&&Ct.test(d))return e.each(function(o){var i=e.eq(o);f&&(t[0]=d.call(this,o,i.html())),Ot(i,t,n,r)});if(p&&(i=(o=pt(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=fe.map(at(o,"script"),Tt)).length;u<p;u++)l=o,u!==h&&(l=fe.clone(l,!0,!0),s&&fe.merge(a,at(l,"script"))),n.call(e[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,fe.map(a,xt),u=0;u<s;u++)l=a[u],ot.test(l.type||"")&&!He.access(l,"globalEval")&&fe.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?fe._evalUrl&&fe._evalUrl(l.src):pe(l.textContent.replace(_t,""),c,l))}return e}function Pt(e,t,n){for(var r,o=t?fe.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||fe.cleanData(at(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&st(at(r,"script")),r.parentNode.removeChild(r));return e}fe.extend({htmlPrefilter:function(e){return e.replace(St,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=fe.contains(e.ownerDocument,e);if(!(se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(a=at(s),r=0,o=(i=at(e)).length;r<o;r++)At(i[r],a[r]);if(t)if(n)for(i=i||at(e),a=a||at(s),r=0,o=i.length;r<o;r++)Et(i[r],a[r]);else Et(e,s);return(a=at(s,"script")).length>0&&st(a,!l&&at(e,"script")),s},cleanData:function(t){for(var n,r,o,i=fe.event.special,a=0;(r=t[a])!==e;a++)if(ze(r)){if(n=r[He.expando]){if(n.events)for(o in n.events)i[o]?fe.event.remove(r,o):fe.removeEvent(r,o,n.handle);r[He.expando]=e}r[Ue.expando]&&(r[Ue.expando]=e)}}}),fe.fn.extend({detach:function(e){return Pt(this,e,!0)},remove:function(e){return Pt(this,e)},text:function(t){return Re(this,function(t){return t===e?fe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ot(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||kt(this,e).appendChild(e)})},prepend:function(){return Ot(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=kt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ot(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ot(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(fe.cleanData(at(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(t){return Re(this,function(t){var n=this[0]||{},r=0,o=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!wt.test(t)&&!it[(rt.exec(t)||["",""])[1].toLowerCase()]){t=fe.htmlPrefilter(t);try{for(;r<o;r++)1===(n=this[r]||{}).nodeType&&(fe.cleanData(at(n,!1)),n.innerHTML=t);n=0}catch(e){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=[];return Ot(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(at(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=[],o=fe(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),fe(o[a])[t](n),te.apply(r,n.get());return this.pushStack(r)}});var It=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),Mt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=window),t.getComputedStyle(e)},Dt=new RegExp(Qe.join("|"),"i");function Lt(t,n,r){var o,i,a,s,l=t.style;return(r=r||Mt(t))&&(""!==(s=r.getPropertyValue(n)||r[n])||fe.contains(t.ownerDocument,t)||(s=fe.style(t,n)),!se.pixelBoxStyles()&&It.test(s)&&Dt.test(n)&&(o=l.width,i=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=r.width,l.width=o,l.minWidth=i,l.maxWidth=a)),s!==e?s+"":s}function Nt(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ht.appendChild(s).appendChild(l);var e=window.getComputedStyle(l);n="1%"!==e.top,a=12===t(e.marginLeft),l.style.right="60%",i=36===t(e.right),r=36===t(e.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",ht.removeChild(s),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,i,a,s=X.createElement("div"),l=X.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===l.style.backgroundClip,fe.extend(se,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),i},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),o}}))}();var Rt=/^(none|table(?!-c[ea]).+)/,jt=/^--/,Ft={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Bt=["Webkit","Moz","ms"],zt=X.createElement("div").style;function Vt(e){var t=fe.cssProps[e];return t||(t=fe.cssProps[e]=function(e){if(e in zt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Bt.length;n--;)if((e=Bt[n]+t)in zt)return e}(e)||e),t}function Ht(e,t,n){var r=Ye.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ut(e,t,n,r,o,i){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=fe.css(e,n+Qe[a],!0,o)),r?("content"===n&&(l-=fe.css(e,"padding"+Qe[a],!0,o)),"margin"!==n&&(l-=fe.css(e,"border"+Qe[a]+"Width",!0,o))):(l+=fe.css(e,"padding"+Qe[a],!0,o),"padding"!==n?l+=fe.css(e,"border"+Qe[a]+"Width",!0,o):s+=fe.css(e,"border"+Qe[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))),l}function qt(e,t,n){var r=Mt(e),o=Lt(e,t,r),i="border-box"===fe.css(e,"boxSizing",!1,r),a=i;if(It.test(o)){if(!n)return o;o="auto"}return a=a&&(se.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===fe.css(e,"display",!1,r))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+Ut(e,t,n||(i?"border":"content"),a,r,o)+"px"}fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Lt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,n,r,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,s,l=Be(n),c=jt.test(n),u=t.style;if(c||(n=Vt(l)),s=fe.cssHooks[n]||fe.cssHooks[l],r===e)return s&&"get"in s&&(i=s.get(t,!1,o))!==e?i:u[n];"string"===(a=D(r))&&(i=Ye.exec(r))&&i[1]&&(r=function(e,t,n,r){var o,i,a=20,s=function(){return fe.css(e,t,"")},l=s(),c=n&&n[3]||(fe.cssNumber[t]?"":"px"),u=(fe.cssNumber[t]||"px"!==c&&+l)&&Ye.exec(fe.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)fe.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;u*=2,fe.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2]),o}(t,n,i),a="number"),null!=r&&r==r&&("number"===a&&(r+=i&&i[3]||(fe.cssNumber[l]?"":"px")),se.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(t,r,o))===e||(c?u.setProperty(n,r):u[n]=r))}},css:function(t,n,r,o){var i,a,s,l=Be(n);return jt.test(n)||(n=Vt(l)),(s=fe.cssHooks[n]||fe.cssHooks[l])&&"get"in s&&(i=s.get(t,!0,r)),i===e&&(i=Lt(t,n,o)),"normal"===i&&n in Gt&&(i=Gt[n]),""===r||r?(a=parseFloat(i),!0===r||isFinite(a)?a||0:i):i}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){if(n)return!Rt.test(fe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?qt(e,t,r):Ze(e,Ft,function(){return qt(e,t,r)})},set:function(e,n,r){var o,i=Mt(e),a="border-box"===fe.css(e,"boxSizing",!1,i),s=r&&Ut(e,t,r,a,i);return a&&se.scrollboxSize()===i.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ut(e,t,"border",!1,i)-.5)),s&&(o=Ye.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=fe.css(e,t)),Ht(0,n,s)}}}),fe.cssHooks.marginLeft=Nt(se.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Lt(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Qe[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(fe.cssHooks[e+t].set=Ht)}),fe.fn.extend({css:function(t,n){return Re(this,function(t,n,r){var o,i,a={},s=0;if(Array.isArray(n)){for(o=Mt(t),i=n.length;s<i;s++)a[n[s]]=fe.css(t,n[s],!1,o);return a}return r!==e?fe.style(t,n,r):fe.css(t,n)},t,n,arguments.length>1)}}),fe.fn.delay=function(e,t){return e=fe.fx&&fe.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}})},function(){var e=X.createElement("input"),t=X.createElement("select").appendChild(X.createElement("option"));e.type="checkbox",se.checkOn=""!==e.value,se.optSelected=t.selected,(e=X.createElement("input")).value="t",e.type="radio",se.radioValue="t"===e.value}();var Wt,Kt=fe.expr.attrHandle;fe.fn.extend({attr:function(e,t){return Re(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(t,n,r){var o,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?fe.prop(t,n,r):(1===a&&fe.isXMLDoc(t)||(i=fe.attrHooks[n.toLowerCase()]||(fe.expr.match.bool.test(n)?Wt:e)),r!==e?null===r?void fe.removeAttr(t,n):i&&"set"in i&&(o=i.set(t,r,n))!==e?o:(t.setAttribute(n,r+""),r):i&&"get"in i&&null!==(o=i.get(t,n))?o:null==(o=fe.find.attr(t,n))?e:o)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&we(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(Oe);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Wt={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):e.setAttribute(n,n),n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Kt[t]||fe.find.attr;Kt[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=Kt[a],Kt[a]=o,o=null!=n(e,t,r)?a:null,Kt[a]=i),o}});var $t=/^(?:input|select|textarea|button)$/i,Yt=/^(?:a|area)$/i;function Qt(e){return(e.match(Oe)||[]).join(" ")}function Xt(e){return e.getAttribute&&e.getAttribute("class")||""}function Zt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Oe)||[]}fe.fn.extend({prop:function(e,t){return Re(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[fe.propFix[e]||e]})}}),fe.extend({prop:function(t,n,r){var o,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&fe.isXMLDoc(t)||(n=fe.propFix[n]||n,i=fe.propHooks[n]),r!==e?i&&"set"in i&&(o=i.set(t,r,n))!==e?o:t[n]=r:i&&"get"in i&&null!==(o=i.get(t,n))?o:t[n]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):$t.test(e.nodeName)||Yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),se.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),fe.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(le(e))return this.each(function(t){fe(this).addClass(e.call(this,t,Xt(this)))});if((t=Zt(e)).length)for(;n=this[l++];)if(o=Xt(n),r=1===n.nodeType&&" "+Qt(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=Qt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(le(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,Xt(this)))});if(!arguments.length)return this.attr("class","");if((t=Zt(e)).length)for(;n=this[l++];)if(o=Xt(n),r=1===n.nodeType&&" "+Qt(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=Qt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,n){var r=D(t),o="string"===r||Array.isArray(t);return"boolean"==typeof n&&o?n?this.addClass(t):this.removeClass(t):le(t)?this.each(function(e){fe(this).toggleClass(t.call(this,e,Xt(this),n),n)}):this.each(function(){var n,i,a,s;if(o)for(i=0,a=fe(this),s=Zt(t);n=s[i++];)a.hasClass(n)?a.removeClass(n):a.addClass(n);else t!==e&&"boolean"!==r||((n=Xt(this))&&He.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===t?"":He.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Qt(Xt(n))+" ").indexOf(t)>-1)return!0;return!1}});var Jt=/\r/g;fe.fn.extend({val:function(t){var n,r,o,i=this[0];return arguments.length?(o=le(t),this.each(function(r){var i;1===this.nodeType&&(null==(i=o?t.call(this,r,fe(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=fe.map(i,function(e){return null==e?"":e+""})),(n=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,i,"value")!==e||(this.value=i))})):i?(n=fe.valHooks[i.type]||fe.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&(r=n.get(i,"value"))!==e?r:"string"==typeof(r=i.value)?r.replace(Jt,""):null==r?"":r:void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:Qt(fe.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!we(n.parentNode,"optgroup"))){if(t=fe(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=fe.makeArray(t),a=o.length;a--;)((r=o[a]).selected=fe.inArray(fe.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},se.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),se.focusin="onfocusin"in window;var en=/^(?:focusinfocus|focusoutblur)$/,tn=function(e){e.stopPropagation()};fe.extend(fe.event,{trigger:function(t,n,r,o){var i,s,l,c,u,p,h,d,f=[r||X],m=a.call(t,"type")?t.type:t,y=a.call(t,"namespace")?t.namespace.split("."):[];if(s=d=l=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!en.test(m+fe.event.triggered)&&(m.indexOf(".")>-1&&(y=m.split("."),m=y.shift(),y.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[fe.expando]?t:new fe.Event(m,"object"===D(t)&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=e,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),h=fe.event.special[m]||{},o||!h.trigger||!1!==h.trigger.apply(r,n))){if(!o&&!h.noBubble&&!ce(r)){for(c=h.delegateType||m,en.test(c+m)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(r.ownerDocument||X)&&f.push(l.defaultView||l.parentWindow||window)}for(i=0;(s=f[i++])&&!t.isPropagationStopped();)d=s,t.type=i>1?c:h.bindType||m,(p=(He.get(s,"events")||{})[t.type]&&He.get(s,"handle"))&&p.apply(s,n),(p=u&&s[u])&&p.apply&&ze(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),n)||!ze(r)||u&&le(r[m])&&!ce(r)&&((l=r[u])&&(r[u]=null),fe.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,tn),r[m](),t.isPropagationStopped()&&d.removeEventListener(m,tn),fe.event.triggered=e,l&&(r[u]=l)),t.result}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t)}}),fe.fn.extend({trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}}),se.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=He.access(r,t);o||r.addEventListener(e,n,!0),He.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=He.access(r,t)-1;o?He.access(r,t,o):(r.removeEventListener(e,n,!0),He.remove(r,t))}}});var nn,rn=/\[\]$/,on=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;function ln(e,t,n,r){var o;if(Array.isArray(t))fe.each(t,function(t,o){n||rn.test(e)?r(e,o):ln(e+"["+("object"===D(o)&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==he(t))r(e,t);else for(o in t)ln(e+"["+o+"]",t[o],n,r)}fe.param=function(e,t){var n,r=[],o=function(e,t){var n=le(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){o(this.name,this.value)});else for(n in e)ln(n,e[n],t,o);return r.join("&")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&sn.test(this.nodeName)&&!an.test(e)&&(this.checked||!nt.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:Array.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),fe.fn.extend({wrapAll:function(e){var t;return this[0]&&(le(e)&&(e=e.call(this[0])),t=fe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return le(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=le(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){fe(this).replaceWith(this.childNodes)}),this}}),fe.expr.pseudos.hidden=function(e){return!fe.expr.pseudos.visible(e)},fe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},se.createHTMLDocument=((nn=X.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===nn.childNodes.length),fe.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(se.createHTMLDocument?((r=(t=X.implementation.createHTMLDocument("")).createElement("base")).href=X.location.href,t.head.appendChild(r)):t=X),i=!n&&[],(o=Ce.exec(e))?[t.createElement(o[1])]:(o=pt([e],t,i),i&&i.length&&fe(i).remove(),fe.merge([],o.childNodes)));var r,o,i},fe.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=fe.css(e,"position"),u=fe(e),p={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=fe.css(e,"top"),l=fe.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(a=(r=u.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),le(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):u.css(p)}},fe.fn.extend({offset:function(t){if(arguments.length)return t===e?this:this.each(function(e){fe.offset.setOffset(this,t,e)});var n,r,o=this[0];return o?o.getClientRects().length?(n=o.getBoundingClientRect(),r=o.ownerDocument.defaultView,{top:n.top+r.pageYOffset,left:n.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===fe.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===fe.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=fe(e).offset()).top+=fe.css(e,"borderTopWidth",!0),o.left+=fe.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-fe.css(r,"marginTop",!0),left:t.left-o.left-fe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||ht})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;fe.fn[t]=function(o){return Re(this,function(t,o,i){var a;if(ce(t)?a=t:9===t.nodeType&&(a=t.defaultView),i===e)return a?a[n]:t[o];a?a.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):t[o]=i},t,o,arguments.length)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=Nt(se.pixelPosition,function(e,n){if(n)return n=Lt(e,t),It.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(t,n){fe.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,o){fe.fn[o]=function(i,a){var s=arguments.length&&(r||"boolean"!=typeof i),l=r||(!0===i||!0===a?"margin":"border");return Re(this,function(n,r,i){var a;return ce(n)?0===o.indexOf("outer")?n["inner"+t]:n.document.documentElement["client"+t]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+t],a["scroll"+t],n.body["offset"+t],a["offset"+t],a["client"+t])):i===e?fe.css(n,r,l):fe.style(n,r,i,l)},n,s?i:e,s)}})}),fe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.proxy=function(t,n){var r,o,i;return"string"==typeof n&&(r=t[n],n=t,t=r),le(t)?(o=J.call(arguments,2),(i=function(){return t.apply(n||this,o.concat(J.call(arguments)))}).guid=t.guid=t.guid||fe.guid++,i):e},fe.holdReady=function(e){e?fe.readyWait++:fe.ready(!0)},fe.isArray=Array.isArray,fe.parseJSON=JSON.parse,fe.nodeName=we,fe.isFunction=le,fe.isWindow=ce,fe.camelCase=Be,fe.type=he,fe.now=Date.now,fe.isNumeric=function(e){var t=fe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var cn,un,pn,hn,dn,fn=fe;function mn(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function yn(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function gn(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}dn=function(e,t){var n,r,o,i={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",o=parseInt(e[n],t),i[r]="&#"+o+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),cn={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(pn=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),t&&-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",mn("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},hn=function(e,t){this.__root=e,this.__ctx=t},(un=function(e){if(!(this instanceof un))return new un(e);if(this.config=e,this.width=e.width,this.height=e.height,this.enableMirroring=e.enableMirroring||!1,this.canvas=this,this.__document=document,e.ctx?this.__ctx=e.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.isSVG=!0,this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__createElement("svg"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__root.setAttribute("overflow","visible"),e.viewbox){var t=e.viewbox.x+" "+e.viewbox.y+" "+e.viewbox.width+" "+e.viewbox.height;this.__root.setAttribute("viewBox",t),this.viewbox=e.viewbox}this.__ids={},this.__defs=this.__createElement("defs"),this.__root.appendChild(this.__defs),this.multiLocusGap=e.multiLocusGap;var n={id:"svg_output_backdrop",width:"100%",height:"100%",fill:e.backdropColor||"white"},r=this.__createElement("rect",n);this.__root.appendChild(r),this.__rootGroup=this.__createElement("g",{id:"root-group"}),this.__root.appendChild(this.__rootGroup),this.__currentElement=this.__rootGroup}).prototype.setWidth=function(e){this.width=e,this.__root.setAttribute("width",this.width);var t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+e+" "+this.config.viewbox.height;this.__root.setAttribute("viewBox",t)},un.prototype.setHeight=function(e){this.height=e,this.__root.setAttribute("height",this.height);var t=this.config.viewbox.x+" "+this.config.viewbox.y+" "+this.config.viewbox.width+" "+e;this.__root.setAttribute("viewBox",t)},un.prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r=this.__document.createElementNS("http://www.w3.org/2000/svg",e);n&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none"));for(var o=0,i=Object.keys(t);o<i.length;o++){var a=i[o];r.setAttribute(a,t[a])}return r},un.prototype.__setDefaultStyles=function(){var e,t,n=Object.keys(cn);for(e=0;e<n.length;e++)this[t=n[e]]=cn[t].canvas},un.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},un.prototype.__getStyleState=function(){var e,t,n={},r=Object.keys(cn);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n},un.prototype.__applyStyleToCurrentElement=function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach(function(t){t.setAttribute(e,"")}));var r,o,i,a,s,l=Object.keys(cn);for(r=0;r<l.length;r++)if(o=cn[l[r]],i=this[l[r]],o.apply)if(i instanceof hn){if(i.__ctx)for(;i.__ctx.__defs.childNodes.length;)a=i.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[a]=a,this.__defs.appendChild(i.__ctx.__defs.childNodes[0]);t.setAttribute(o.apply,mn("url(#{id})",{id:i.__root.getAttribute("id")}))}else if(i instanceof pn)t.setAttribute(o.apply,mn("url(#{id})",{id:i.__root.getAttribute("id")}));else if(o&&-1!==o.apply.indexOf(e)&&o.svg!==i)if("stroke"!==o.svgAttr&&"fill"!==o.svgAttr||!i||-1===i.indexOf("rgba")){var c=o.svgAttr;if("globalAlpha"===l[r]&&(c=e+"-"+o.svgAttr,t.getAttribute(c)))continue;t.setAttribute(c,i)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(i),t.setAttribute(o.svgAttr,mn("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var u=s[4],p=this.globalAlpha;null!=p&&(u*=p),t.setAttribute(o.svgAttr+"-opacity",u)}},un.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},un.prototype.getSerializedSvg=function(e){var t,n,r,o,i,a=(new XMLSerializer).serializeToString(this.__root);if(e)for(t=Object.keys(dn),n=0;n<t.length;n++)r=t[n],o=dn[r],(i=new RegExp(r,"gi")).test(a)&&(a=a.replace(i,o));return a},un.prototype.getSvg=function(){return this.__root},un.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},un.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},un.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},un.prototype.addTrackGroupWithTranslationAndClipRect=function(e,t,n,r,o,i){var a=e+"_clip_rect",s=this.__createElement("clipPath",{id:a});this.__defs.appendChild(s),s.appendChild(this.__createElement("rect",{x:"0",y:i.toString(),width:r.toString(),height:o.toString()}));var l=this.__createElement("g");this.__rootGroup.appendChild(l),l.setAttribute("transform",mn("translate({x},{y})",{x:t,y:n})),l.setAttribute("id",e+"_group"),l.setAttribute("clip-path",mn("url(#{id})",{id:a})),this.__currentElement=l},un.prototype.scale=function(t,n){n===e&&(n=t),this.__addTransform(mn("scale({x},{y})",{x:t,y:n}))},un.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(mn("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},un.prototype.translate=function(e,t){this.__addTransform(mn("translate({x},{y})",{x:e,y:t}))},un.prototype.transform=function(e,t,n,r,o,i){this.__addTransform(mn("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:o,f:i}))},un.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},un.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},un.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},un.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(mn("M {x} {y}",{x:e,y:t}))},un.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},un.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath&&this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(mn("L {x} {y}",{x:e,y:t})):this.__addPathCommand(mn("M {x} {y}",{x:e,y:t}))},un.prototype.bezierCurveTo=function(e,t,n,r,o,i){this.__currentPosition={x:o,y:i},this.__addPathCommand(mn("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:o,y:i}))},un.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(mn("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var vn=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};un.prototype.arcTo=function(e,t,n,r,o){var i=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==i&&void 0!==a){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");if(i===e&&a===t||e===n&&t===r||0===o)this.lineTo(e,t);else{var s=vn([i-e,a-t]),l=vn([n-e,r-t]);if(s[0]*l[1]!=s[1]*l[0]){var c=s[0]*l[0]+s[1]*l[1],u=Math.acos(Math.abs(c)),p=vn([s[0]+l[0],s[1]+l[1]]),h=o/Math.sin(u/2),d=e+h*p[0],f=t+h*p[1],m=[-s[1],s[0]],y=[l[1],-l[0]],g=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},v=g(m),b=g(y);this.lineTo(d+m[0]*o,f+m[1]*o),this.arc(d,f,o,v,b)}else this.lineTo(e,t)}}},un.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},un.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},un.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},un.prototype.fillRect=function(e,t,n,r){var o,i,a,s={x:e,y:t,width:n,height:r};(!this.viewbox||(i=s,(o=this.viewbox).x<i.x+i.width&&o.x+o.width>i.x&&o.y<i.y+i.height&&o.y+o.height>i.y))&&(a=this.__createElement("rect",s,!0),this.__closestGroupOrSvg().appendChild(a),this.__currentElement=a,this.__applyStyleToCurrentElement("fill"))},un.prototype.strokeRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("stroke")},un.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},un.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var o,i=this.__closestGroupOrSvg();o=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),i.appendChild(o)}else this.__clearCanvas()},un.prototype.createLinearGradient=function(e,t,n,r){var o=this.__createElement("linearGradient",{id:yn(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(o),new pn(o,this)},un.prototype.createRadialGradient=function(e,t,n,r,o,i){var a=this.__createElement("radialGradient",{id:yn(this.__ids),cx:r+"px",cy:o+"px",r:i+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(a),new pn(a,this)},un.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},un.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},un.prototype.__applyText=function(e,t,n,r){var o,i,a=this.__parseFont(),s=this.__closestGroupOrSvg(),l=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:n,"text-anchor":(o=this.textAlign,i={left:"start",right:"end",center:"middle",start:"start",end:"end"},i[o]||i.start),"dominant-baseline":gn(this.textBaseline)},!0);l.appendChild(this.__document.createTextNode(e)),this.__currentElement=l,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,l))},un.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},un.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},un.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},un.prototype.arc=function(e,t,n,r,o,i){if(r!==o){(r%=2*Math.PI)==(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var a,s=e+n*Math.cos(o),l=t+n*Math.sin(o),c=e+n*Math.cos(r),u=t+n*Math.sin(r),p=i?0:1,h=o-r;h<0&&(h+=2*Math.PI),a=i?h>Math.PI?0:1:h>Math.PI?1:0,this.lineTo(c,u),this.__addPathCommand(mn("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:a,sweepFlag:p,endX:s,endY:l})),this.__currentPosition={x:s,y:l}}},un.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=yn(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",mn("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},un.prototype.drawImage=function(){var e,t,n,r,o,i,a,s,l,c,u,p,h,d=Array.prototype.slice.call(arguments),f=d[0],m=0,y=0;if(3===d.length)e=d[1],t=d[2],n=o=f.width,r=i=f.height;else if(5===d.length)e=d[1],t=d[2],n=d[3],r=d[4],o=f.width,i=f.height;else{if(9!==d.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);m=d[1],y=d[2],o=d[3],i=d[4],e=d[5],t=d[6],n=d[7],r=d[8]}a=this.__closestGroupOrSvg(),this.__currentElement;var g="translate("+e+", "+t+")";if(f instanceof un){if((s=f.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(l=s.childNodes[0];l.childNodes.length;)h=l.childNodes[0].getAttribute("id"),this.__ids[h]=h,this.__defs.appendChild(l.childNodes[0]);if(c=s.childNodes[1]){var v,b=c.getAttribute("transform");v=b?b+" "+g:g,c.setAttribute("transform",v),a.appendChild(c)}}}else"CANVAS"!==f.nodeName&&"IMG"!==f.nodeName||((u=this.__createElement("image")).setAttribute("width",n),u.setAttribute("height",r),u.setAttribute("preserveAspectRatio","none"),(m||y||o!==f.width||i!==f.height)&&((p=this.__document.createElement("canvas")).width=n,p.height=r,p.getContext("2d").drawImage(f,m,y,o,i,0,0,n,r),f=p),u.setAttribute("transform",g),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===f.nodeName?f.toDataURL():f.getAttribute("src")),a.appendChild(u))},un.prototype.createPattern=function(e,t){var n,r=this.__document.__createElement("pattern"),o=yn(this.__ids);return r.setAttribute("id",o),r.setAttribute("width",e.width),r.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((n=this.__createElement("image")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):e instanceof un&&(r.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(r)),new hn(r,this)},un.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},un.prototype.drawFocusRing=function(){},un.prototype.createImageData=function(){},un.prototype.getImageData=function(){},un.prototype.putImageData=function(){},un.prototype.globalCompositeOperation=function(){},un.prototype.setTransform=function(){};var bn,Sn=un,wn=".igv_drag";function Cn(e,t){fn(t).on("mousedown"+wn,function(e){e.stopPropagation(),e.preventDefault();var t=Math.round(parseFloat(this.style.left.replace("px",""))),n=Math.round(parseFloat(this.style.top.replace("px",""))),r=function(e){if(bn){e.stopPropagation(),e.preventDefault();var t=bn.dx+e.screenX,n=bn.dy+e.screenY;this.style.left=t+"px",this.style.top=n+"px"}}.bind(this),o=_n.bind(this);bn={dragFunction:r,dragEndFunction:o,dx:t-e.screenX,dy:n-e.screenY},fn(document).on("mousemove"+wn,r),fn(document).on("mouseup"+wn,o),fn(document).on("mouseleave"+wn,o),fn(document).on("mouseexit"+wn,o)}.bind(e))}function _n(t){if(bn){t.stopPropagation(),t.preventDefault();var n=bn.dx+t.screenX,r=bn.dy+t.screenY;this.style.left=n+"px",this.style.top=r+"px",fn(document).off(wn),bn=e}}var kn={trackMenuItemList:function(t){var n,r=new Set(["alignment","annotation","variant","eqtl","snp"]),o=t.track.config&&t.track.config.visibilityWindow!==e,i=[];return"sequence"!==t.track.config.type&&(i.push(function(t){var n;return(n=fn("<div>")).text("Set track name"),{object:n,click:function(){var n;n=function(){var n;n=""===(n=t.browser.inputDialog.$input.val().trim())||e===n?"untitled":n,t.browser.setTrackLabelName(t,n)},t.browser.inputDialog.configure({label:"Track Name",input:Tn(t.track)||"unnamed",click:n}),t.browser.inputDialog.present(fn(t.trackDiv))}}}(t)),i.push(function(t){var n;return(n=fn("<div>")).text("Set track height"),{object:n,click:function(){var n;n=function(){var n;n=parseFloat(t.browser.inputDialog.$input.val(),10),e!==n&&(t.track.minHeight!==e&&t.track.minHeight>n&&(t.track.minHeight=n),t.track.maxHeight!==e&&t.track.maxHeight<n&&(t.track.minHeight=n),t.setTrackHeight(n,!0,!0),t.track.autoHeight=!1)},t.browser.inputDialog.configure({label:"Track Height",input:t.trackDiv.clientHeight,click:n}),t.browser.inputDialog.present(fn(t.trackDiv))}}}(t))),("alignment"===(n=t.track).type||"annotation"===n.type||"variant"===n.type||"wig"===n.type)&&i.push(function(e){var t;return(t=fn("<div>")).text("Set track color"),{object:t,click:function(){e.presentColorPicker()}}}(t)),t.track.menuItemList&&(i=i.concat(t.track.menuItemList())),(o||r.has(t.track.config.type))&&(i.push("<hr/>"),i.push(function(t){var n=fn("<div>");return n.text("Set visibility window"),{object:n,click:function(){t.browser.inputDialog.configure({label:"Visibility Window",input:t.track.visibilityWindow,click:function(){var n=t.browser.inputDialog.$input.val().trim();""!==n&&e!==n||(n=-1),n=Number.parseInt(n),t.track.visibilityWindow=n,t.track.config.visibilityWindow=n,t.updateViews()}}),t.browser.inputDialog.present(fn(t.trackDiv))}}}(t))),!1!==t.track.removable&&(i.push("<hr/>"),i.push(function(e){var t;return(t=fn("<div>")).text("Remove track"),{object:t,click:function(){e.browser.removeTrack(e.track)}}}(t))),i},dataRangeMenuItem:function(e){var t;return(t=fn("<div>")).text("Set data range"),{object:t,click:function(){e.browser.dataRangeDialog.configure({trackView:e}),e.browser.dataRangeDialog.present(fn(e.trackDiv))}}},trackMenuItemListHelper:function(t,n){var r=[];return t.length>0&&(r=t.map(function(t,r){var o;if(t.name?(o=fn("<div>")).text(t.name):t.object?o=t.object:"string"==typeof t.label?(o=fn("<div>")).html(t.label):"string"==typeof t&&(o=t.startsWith("<")?fn(t):fn("<div>"+t+"</div>")),0===r&&o.addClass("igv-track-menu-border-top"),t.click){var i=function(e){t.click(),n.hide(),e.preventDefault(),e.stopPropagation()};o.on("click",i),o.on("touchend",function(e){i(e)}),o.on("mouseup",function(e){e.preventDefault(),e.stopPropagation()})}return{object:o,init:t.init||e}})),r}};function Tn(e){return e.trackView.viewports[0].$trackLabel.text()}function xn(e,t){var n=fn("<div>",{class:"igv-trackgear-popover-check-container"}),r=fn("<div>");n.append(r);var o=An("check",!0===t?"#444":"transparent");r.append(o);var i=fn("<div>");return i.text(e),n.append(i),n}function En(e,t){return fn(An(e,t))}function An(e,t){t=t||"currentColor";var n=On[e],r='<svg viewBox="0 0 '+n[0]+" "+n[1]+'">';return(r+='<path fill="'+t+'" d="'+n[4]+'"></path>')+"</svg>"}var On={"address-book":[448,512,[],"f2b9","M436 160c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-20V48c0-26.51-21.49-48-48-48H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48v-48h20c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-20v-64h20c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-20v-64h20zm-228-32c44.183 0 80 35.817 80 80s-35.817 80-80 80-80-35.817-80-80 35.817-80 80-80zm128 232c0 13.255-10.745 24-24 24H104c-13.255 0-24-10.745-24-24v-18.523c0-22.026 14.99-41.225 36.358-46.567l35.657-8.914c29.101 20.932 74.509 26.945 111.97 0l35.657 8.914C321.01 300.252 336 319.452 336 341.477V360z"],"address-card":[512,512,[],"f2bb","M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-288 80c38.66 0 70 31.34 70 70s-31.34 70-70 70-70-31.34-70-70 31.34-70 70-70zm112 203c0 11.598-9.402 21-21 21H85c-11.598 0-21-9.402-21-21v-16.207c0-19.272 13.116-36.072 31.813-40.746l31.2-7.8c25.464 18.316 65.195 23.577 97.974 0l31.2 7.8C274.884 294.721 288 311.52 288 330.793V347zm160-39c0 6.627-5.373 12-12 12H332c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v8zm0-64c0 6.627-5.373 12-12 12H332c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v8zm0-64c0 6.627-5.373 12-12 12H332c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v8z"],adjust:[512,512,[],"f042","M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"],"align-center":[448,512,[],"f037","M352 44v40c0 8.837-7.163 16-16 16H112c-8.837 0-16-7.163-16-16V44c0-8.837 7.163-16 16-16h224c8.837 0 16 7.163 16 16zM16 228h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 256h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm320-200H112c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16h224c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16z"],"align-justify":[448,512,[],"f039","M0 84V44c0-8.837 7.163-16 16-16h416c8.837 0 16 7.163 16 16v40c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16zm16 144h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 256h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0-128h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"],"align-left":[448,512,[],"f036","M288 44v40c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16V44c0-8.837 7.163-16 16-16h256c8.837 0 16 7.163 16 16zM0 172v40c0 8.837 7.163 16 16 16h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16zm16 312h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm256-200H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16h256c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16z"],"align-right":[448,512,[],"f038","M160 84V44c0-8.837 7.163-16 16-16h256c8.837 0 16 7.163 16 16v40c0 8.837-7.163 16-16 16H176c-8.837 0-16-7.163-16-16zM16 228h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 256h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm160-128h256c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H176c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"],ambulance:[640,512,[],"f0f9","M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm144-248c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48zm176 248c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"],"american-sign-language-interpreting":[640,512,[],"f2a3","M290.547 189.039c-20.295-10.149-44.147-11.199-64.739-3.89 42.606 0 71.208 20.475 85.578 50.576 8.576 17.899-5.148 38.071-23.617 38.071 18.429 0 32.211 20.136 23.617 38.071-14.725 30.846-46.123 50.854-80.298 50.854-.557 0-94.471-8.615-94.471-8.615l-66.406 33.347c-9.384 4.693-19.815.379-23.895-7.781L1.86 290.747c-4.167-8.615-1.111-18.897 6.946-23.621l58.072-33.069L108 159.861c6.39-57.245 34.731-109.767 79.743-146.726 11.391-9.448 28.341-7.781 37.51 3.613 9.446 11.394 7.78 28.067-3.612 37.516-12.503 10.559-23.618 22.509-32.509 35.57 21.672-14.729 46.679-24.732 74.186-28.067 14.725-1.945 28.063 8.336 29.73 23.065 1.945 14.728-8.336 28.067-23.062 29.734-16.116 1.945-31.12 7.503-44.178 15.284 26.114-5.713 58.712-3.138 88.079 11.115 13.336 6.669 18.893 22.509 12.224 35.848-6.389 13.06-22.504 18.617-35.564 12.226zm-27.229 69.472c-6.112-12.505-18.338-20.286-32.231-20.286a35.46 35.46 0 0 0-35.565 35.57c0 21.428 17.808 35.57 35.565 35.57 13.893 0 26.119-7.781 32.231-20.286 4.446-9.449 13.614-15.006 23.339-15.284-9.725-.277-18.893-5.835-23.339-15.284zm374.821-37.237c4.168 8.615 1.111 18.897-6.946 23.621l-58.071 33.069L532 352.16c-6.39 57.245-34.731 109.767-79.743 146.726-10.932 9.112-27.799 8.144-37.51-3.613-9.446-11.394-7.78-28.067 3.613-37.516 12.503-10.559 23.617-22.509 32.508-35.57-21.672 14.729-46.679 24.732-74.186 28.067-10.021 2.506-27.552-5.643-29.73-23.065-1.945-14.728 8.336-28.067 23.062-29.734 16.116-1.946 31.12-7.503 44.178-15.284-26.114 5.713-58.712 3.138-88.079-11.115-13.336-6.669-18.893-22.509-12.224-35.848 6.389-13.061 22.505-18.619 35.565-12.227 20.295 10.149 44.147 11.199 64.739 3.89-42.606 0-71.208-20.475-85.578-50.576-8.576-17.899 5.148-38.071 23.617-38.071-18.429 0-32.211-20.136-23.617-38.071 14.033-29.396 44.039-50.887 81.966-50.854l92.803 8.615 66.406-33.347c9.408-4.704 19.828-.354 23.894 7.781l44.455 88.926zm-229.227-18.618c-13.893 0-26.119 7.781-32.231 20.286-4.446 9.449-13.614 15.006-23.339 15.284 9.725.278 18.893 5.836 23.339 15.284 6.112 12.505 18.338 20.286 32.231 20.286a35.46 35.46 0 0 0 35.565-35.57c0-21.429-17.808-35.57-35.565-35.57z"],anchor:[576,512,[],"f13d","M12.971 352h32.394C67.172 454.735 181.944 512 288 512c106.229 0 220.853-57.38 242.635-160h32.394c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.029c-4.686-4.686-12.284-4.686-16.971 0l-67.029 67.029c-7.56 7.56-2.206 20.485 8.485 20.485h35.146c-20.29 54.317-84.963 86.588-144.117 94.015V256h52c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-52v-5.47c37.281-13.178 63.995-48.725 64-90.518C384.005 43.772 341.605.738 289.37.01 235.723-.739 192 42.525 192 96c0 41.798 26.716 77.35 64 90.53V192h-52c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h52v190.015c-58.936-7.399-123.82-39.679-144.117-94.015h35.146c10.691 0 16.045-12.926 8.485-20.485l-67.029-67.029c-4.686-4.686-12.284-4.686-16.971 0L4.485 331.515C-3.074 339.074 2.28 352 12.971 352zM288 64c17.645 0 32 14.355 32 32s-14.355 32-32 32-32-14.355-32-32 14.355-32 32-32z"],"angle-double-down":[320,512,[],"f103","M143 256.3L7 120.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0L313 86.3c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.4 9.5-24.6 9.5-34 .1zm34 192l136-136c9.4-9.4 9.4-24.6 0-33.9l-22.6-22.6c-9.4-9.4-24.6-9.4-33.9 0L160 352.1l-96.4-96.4c-9.4-9.4-24.6-9.4-33.9 0L7 278.3c-9.4 9.4-9.4 24.6 0 33.9l136 136c9.4 9.5 24.6 9.5 34 .1z"],"angle-double-left":[448,512,[],"f100","M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"],"angle-double-right":[448,512,[],"f101","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"],"angle-double-up":[320,512,[],"f102","M177 255.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 351.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 425.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1zm-34-192L7 199.7c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l96.4-96.4 96.4 96.4c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9l-136-136c-9.2-9.4-24.4-9.4-33.8 0z"],"angle-down":[320,512,[],"f107","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"],"angle-left":[256,512,[],"f104","M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"],"angle-right":[256,512,[],"f105","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"],"angle-up":[320,512,[],"f106","M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"],archive:[512,512,[],"f187","M488 128H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h464c13.255 0 24 10.745 24 24v48c0 13.255-10.745 24-24 24zm-8 328V184c0-13.255-10.745-24-24-24H56c-13.255 0-24 10.745-24 24v272c0 13.255 10.745 24 24 24h400c13.255 0 24-10.745 24-24zM308 256H204c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12z"],"arrow-alt-circle-down":[512,512,[],"f358","M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z"],"arrow-alt-circle-left":[512,512,[],"f359","M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm116-292H256v-70.9c0-10.7-13-16.1-20.5-8.5L121.2 247.5c-4.7 4.7-4.7 12.2 0 16.9l114.3 114.9c7.6 7.6 20.5 2.2 20.5-8.5V300h116c6.6 0 12-5.4 12-12v-64c0-6.6-5.4-12-12-12z"],"arrow-alt-circle-right":[512,512,[],"f35a","M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zM140 300h116v70.9c0 10.7 13 16.1 20.5 8.5l114.3-114.9c4.7-4.7 4.7-12.2 0-16.9l-114.3-115c-7.6-7.6-20.5-2.2-20.5 8.5V212H140c-6.6 0-12 5.4-12 12v64c0 6.6 5.4 12 12 12z"],"arrow-alt-circle-up":[512,512,[],"f35b","M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm292 116V256h70.9c10.7 0 16.1-13 8.5-20.5L264.5 121.2c-4.7-4.7-12.2-4.7-16.9 0l-115 114.3c-7.6 7.6-2.2 20.5 8.5 20.5H212v116c0 6.6 5.4 12 12 12h64c6.6 0 12-5.4 12-12z"],"arrow-circle-down":[512,512,[],"f0ab","M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z"],"arrow-circle-left":[512,512,[],"f0a8","M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"],"arrow-circle-right":[512,512,[],"f0a9","M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"],"arrow-circle-up":[512,512,[],"f0aa","M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"],"arrow-down":[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"],"arrow-left":[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"],"arrow-right":[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"],"arrow-up":[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"],"arrows-alt":[512,512,[],"f0b2","M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"],"arrows-alt-h":[512,512,[],"f337","M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z"],"arrows-alt-v":[256,512,[],"f338","M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"],"assistive-listening-systems":[512,512,[],"f2a2","M216 260c0 15.464-12.536 28-28 28s-28-12.536-28-28c0-44.112 35.888-80 80-80s80 35.888 80 80c0 15.464-12.536 28-28 28s-28-12.536-28-28c0-13.234-10.767-24-24-24s-24 10.766-24 24zm24-176c-97.047 0-176 78.953-176 176 0 15.464 12.536 28 28 28s28-12.536 28-28c0-66.168 53.832-120 120-120s120 53.832 120 120c0 75.164-71.009 70.311-71.997 143.622L288 404c0 28.673-23.327 52-52 52-15.464 0-28 12.536-28 28s12.536 28 28 28c59.475 0 107.876-48.328 108-107.774.595-34.428 72-48.24 72-144.226 0-97.047-78.953-176-176-176zm-80 236c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zM32 448c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm480-187.993c0-1.518-.012-3.025-.045-4.531C510.076 140.525 436.157 38.47 327.994 1.511c-14.633-4.998-30.549 2.809-35.55 17.442-5 14.633 2.81 30.549 17.442 35.55 85.906 29.354 144.61 110.513 146.077 201.953l.003.188c.026 1.118.033 2.236.033 3.363 0 15.464 12.536 28 28 28s28.001-12.536 28.001-28zM152.971 439.029l-80-80L39.03 392.97l80 80 33.941-33.941z"],asterisk:[512,512,[],"f069","M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z"],at:[512,512,[],"f1fa","M256 8C118.941 8 8 118.919 8 256c0 137.059 110.919 248 248 248 48.154 0 95.342-14.14 135.408-40.223 12.005-7.815 14.625-24.288 5.552-35.372l-10.177-12.433c-7.671-9.371-21.179-11.667-31.373-5.129C325.92 429.757 291.314 440 256 440c-101.458 0-184-82.542-184-184S154.542 72 256 72c100.139 0 184 57.619 184 160 0 38.786-21.093 79.742-58.17 83.693-17.349-.454-16.91-12.857-13.476-30.024l23.433-121.11C394.653 149.75 383.308 136 368.225 136h-44.981a13.518 13.518 0 0 0-13.432 11.993l-.01.092c-14.697-17.901-40.448-21.775-59.971-21.775-74.58 0-137.831 62.234-137.831 151.46 0 65.303 36.785 105.87 96 105.87 26.984 0 57.369-15.637 74.991-38.333 9.522 34.104 40.613 34.103 70.71 34.103C462.609 379.41 504 307.798 504 232 504 95.653 394.023 8 256 8zm-21.68 304.43c-22.249 0-36.07-15.623-36.07-40.771 0-44.993 30.779-72.729 58.63-72.729 22.292 0 35.601 15.241 35.601 40.77 0 45.061-33.875 72.73-58.161 72.73z"],"audio-description":[512,512,[],"f29e","M162.925 238.709l8.822 30.655h-25.606l9.041-30.652c1.277-4.421 2.651-9.994 3.872-15.245 1.22 5.251 2.594 10.823 3.871 15.242zm166.474-32.099h-14.523v98.781h14.523c29.776 0 46.175-17.678 46.175-49.776 0-32.239-17.49-49.005-46.175-49.005zM512 112v288c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48zM245.459 336.139l-57.097-168A12.001 12.001 0 0 0 177 160h-35.894a12.001 12.001 0 0 0-11.362 8.139l-57.097 168C70.003 343.922 75.789 352 84.009 352h29.133a12 12 0 0 0 11.535-8.693l8.574-29.906h51.367l8.793 29.977A12 12 0 0 0 204.926 352h29.172c8.22 0 14.006-8.078 11.361-15.861zm184.701-80.525c0-58.977-37.919-95.614-98.96-95.614h-57.366c-6.627 0-12 5.373-12 12v168c0 6.627 5.373 12 12 12H331.2c61.041 0 98.96-36.933 98.96-96.386z"],backward:[512,512,[],"f04a","M11.5 280.6l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2zm256 0l192 160c20.6 17.2 52.5 2.8 52.5-24.6V96c0-27.4-31.9-41.8-52.5-24.6l-192 160c-15.3 12.8-15.3 36.4 0 49.2z"],"balance-scale":[640,512,[],"f24e","M352 448h168c13.255 0 24 10.745 24 24v16c0 13.255-10.745 24-24 24H120c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h168V153.324C264.469 143.04 246.836 121.778 241.603 96H120c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h135.999C270.594 12.57 293.828 0 320 0s49.406 12.57 64.001 32H520c13.255 0 24 10.745 24 24v16c0 13.255-10.745 24-24 24H398.397c-5.233 25.778-22.866 47.04-46.397 57.324V448zm287.981-112c.001-16.182 1.342-8.726-85.048-181.506-17.647-35.294-68.186-35.358-85.865 0C381.94 328.75 384.019 320.331 384.019 336H384c0 44.183 57.308 80 128 80s128-35.817 128-80h-.019zM512 176l72 144H440l72-144zM255.981 336c.001-16.182 1.342-8.726-85.048-181.506-17.647-35.294-68.186-35.358-85.865 0C-2.06 328.75.019 320.331.019 336H0c0 44.183 57.308 80 128 80s128-35.817 128-80h-.019zM128 176l72 144H56l72-144z"],ban:[512,512,[],"f05e","M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"],"band-aid":[640,512,[],"f462","M0 160v192c0 35.3 28.7 64 64 64h96V96H64c-35.3 0-64 28.7-64 64zm576-64h-96v320h96c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64zM192 416h256V96H192v320zm176-232c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm0 96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-96-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm0 96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24z"],barcode:[512,512,[],"f02a","M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"],bars:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"],"baseball-ball":[496,512,[],"f433","M368.5 363.9l28.8-13.9c11.1 22.9 26 43.2 44.1 60.9 34-42.5 54.5-96.3 54.5-154.9 0-58.5-20.4-112.2-54.2-154.6-17.8 17.3-32.6 37.1-43.6 59.5l-28.7-14.1c12.8-26 30-49 50.8-69C375.6 34.7 315 8 248 8 181.1 8 120.5 34.6 75.9 77.7c20.7 19.9 37.9 42.9 50.7 68.8l-28.7 14.1c-11-22.3-25.7-42.1-43.5-59.4C20.4 143.7 0 197.4 0 256c0 58.6 20.4 112.3 54.4 154.7 18.2-17.7 33.2-38 44.3-61l28.8 13.9c-12.9 26.7-30.3 50.3-51.5 70.7 44.5 43.1 105.1 69.7 172 69.7 66.8 0 127.3-26.5 171.9-69.5-21.1-20.4-38.5-43.9-51.4-70.6zm-228.3-32l-30.5-9.8c14.9-46.4 12.7-93.8-.6-134l30.4-10c15 45.6 18 99.9.7 153.8zm216.3-153.4l30.4 10c-13.2 40.1-15.5 87.5-.6 134l-30.5 9.8c-17.3-54-14.3-108.3.7-153.8z"],"basketball-ball":[496,512,[],"f434","M212.3 10.3c-43.8 6.3-86.2 24.1-122.2 53.8l77.4 77.4c27.8-35.8 43.3-81.2 44.8-131.2zM248 222L405.9 64.1c-42.4-35-93.6-53.5-145.5-56.1-1.2 63.9-21.5 122.3-58.7 167.7L248 222zM56.1 98.1c-29.7 36-47.5 78.4-53.8 122.2 50-1.5 95.5-17 131.2-44.8L56.1 98.1zm272.2 204.2c45.3-37.1 103.7-57.4 167.7-58.7-2.6-51.9-21.1-103.1-56.1-145.5L282 256l46.3 46.3zM248 290L90.1 447.9c42.4 34.9 93.6 53.5 145.5 56.1 1.3-64 21.6-122.4 58.7-167.7L248 290zm191.9 123.9c29.7-36 47.5-78.4 53.8-122.2-50.1 1.6-95.5 17.1-131.2 44.8l77.4 77.4zM167.7 209.7C122.3 246.9 63.9 267.3 0 268.4c2.6 51.9 21.1 103.1 56.1 145.5L214 256l-46.3-46.3zm116 292c43.8-6.3 86.2-24.1 122.2-53.8l-77.4-77.4c-27.7 35.7-43.2 81.2-44.8 131.2z"],bath:[512,512,[],"f2cd","M488 256H80V112c0-17.645 14.355-32 32-32 11.351 0 21.332 5.945 27.015 14.88-16.492 25.207-14.687 59.576 6.838 83.035-4.176 4.713-4.021 11.916.491 16.428l11.314 11.314c4.686 4.686 12.284 4.686 16.971 0l95.03-95.029c4.686-4.686 4.686-12.284 0-16.971l-11.314-11.314c-4.512-4.512-11.715-4.666-16.428-.491-17.949-16.469-42.294-21.429-64.178-15.365C163.281 45.667 139.212 32 112 32c-44.112 0-80 35.888-80 80v144h-8c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h8v32c0 28.43 12.362 53.969 32 71.547V456c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-8h256v8c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-32.453c19.638-17.578 32-43.117 32-71.547v-32h8c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"],"battery-empty":[640,512,[],"f244","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48z"],"battery-full":[640,512,[],"f240","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-48 96H96v128h416V192z"],"battery-half":[640,512,[],"f242","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-240 96H96v128h224V192z"],"battery-quarter":[640,512,[],"f243","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-336 96H96v128h128V192z"],"battery-three-quarters":[640,512,[],"f241","M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-144 96H96v128h320V192z"],bed:[576,512,[],"f236","M552 288c13.255 0 24 10.745 24 24v136h-96v-64H96v64H0V88c0-13.255 10.745-24 24-24h48c13.255 0 24 10.745 24 24v200h456zM192 96c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80zm384 128c0-53.019-42.981-96-96-96H312c-13.255 0-24 10.745-24 24v104h288v-32z"],beer:[448,512,[],"f0fc","M368 96h-48V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24v-42.11l80.606-35.977C429.396 365.063 448 336.388 448 304.86V176c0-44.112-35.888-80-80-80zm16 208.86a16.018 16.018 0 0 1-9.479 14.611L320 343.805V160h48c8.822 0 16 7.178 16 16v128.86zM208 384c-8.836 0-16-7.164-16-16V144c0-8.836 7.164-16 16-16s16 7.164 16 16v224c0 8.836-7.164 16-16 16zm-96 0c-8.836 0-16-7.164-16-16V144c0-8.836 7.164-16 16-16s16 7.164 16 16v224c0 8.836-7.164 16-16 16z"],bell:[448,512,[],"f0f3","M433.884 366.059C411.634 343.809 384 316.118 384 208c0-79.394-57.831-145.269-133.663-157.83A31.845 31.845 0 0 0 256 32c0-17.673-14.327-32-32-32s-32 14.327-32 32c0 6.75 2.095 13.008 5.663 18.17C121.831 62.731 64 128.606 64 208c0 108.118-27.643 135.809-49.893 158.059C-16.042 396.208 5.325 448 48.048 448H160c0 35.346 28.654 64 64 64s64-28.654 64-64h111.943c42.638 0 64.151-51.731 33.941-81.941zM224 472a8 8 0 0 1 0 16c-22.056 0-40-17.944-40-40h16c0 13.234 10.766 24 24 24z"],"bell-slash":[576,512,[],"f1f6","M78.107 366.059C47.958 396.208 69.325 448 112.048 448H224c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64h32.685L127.848 221.379c-2.198 97.078-28.439 123.378-49.741 144.68zM264 448c0 13.234 10.766 24 24 24a8 8 0 0 1 0 16c-22.056 0-40-17.944-40-40h16zm305.896 43.733l-10.762 12.086c-8.915 10.012-24.333 10.967-34.437 2.133L8.256 54.393C-1.848 45.558-2.811 30.28 6.104 20.267L16.865 8.181C25.781-1.831 41.199-2.786 51.303 6.049l113.81 99.512c24.017-28.778 57.946-48.996 96.55-55.39A31.85 31.85 0 0 1 256 32c0-17.673 14.327-32 32-32s32 14.327 32 32c0 6.75-2.095 13.008-5.663 18.17C390.169 62.731 448 128.606 448 208c0 108.118 27.634 135.809 49.884 158.059 12.149 12.149 15.923 27.776 13.33 42.121l56.53 49.427c10.104 8.835 11.067 24.113 2.152 34.126z"],bicycle:[640,512,[],"f206","M512.509 192.001c-16.373-.064-32.03 2.955-46.436 8.495l-77.68-125.153A24 24 0 0 0 368.001 64h-64c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h50.649l14.896 24H256.002v-16c0-8.837-7.163-16-16-16h-87.459c-13.441 0-24.777 10.999-24.536 24.437.232 13.044 10.876 23.563 23.995 23.563h48.726l-29.417 47.52c-13.433-4.83-27.904-7.483-42.992-7.52C58.094 191.83.412 249.012.002 319.236-.413 390.279 57.055 448 128.002 448c59.642 0 109.758-40.793 123.967-96h52.033a24 24 0 0 0 20.406-11.367L410.37 201.77l14.938 24.067c-25.455 23.448-41.385 57.081-41.307 94.437.145 68.833 57.899 127.051 126.729 127.719 70.606.685 128.181-55.803 129.255-125.996 1.086-70.941-56.526-129.72-127.476-129.996zM186.75 265.772c9.727 10.529 16.673 23.661 19.642 38.228h-43.306l23.664-38.228zM128.002 400c-44.112 0-80-35.888-80-80s35.888-80 80-80c5.869 0 11.586.653 17.099 1.859l-45.505 73.509C89.715 331.327 101.213 352 120.002 352h81.3c-12.37 28.225-40.562 48-73.3 48zm162.63-96h-35.624c-3.96-31.756-19.556-59.894-42.383-80.026L237.371 184h127.547l-74.286 120zm217.057 95.886c-41.036-2.165-74.049-35.692-75.627-76.755-.812-21.121 6.633-40.518 19.335-55.263l44.433 71.586c4.66 7.508 14.524 9.816 22.032 5.156l13.594-8.437c7.508-4.66 9.817-14.524 5.156-22.032l-44.468-71.643a79.901 79.901 0 0 1 19.858-2.497c44.112 0 80 35.888 80 80-.001 45.54-38.252 82.316-84.313 79.885z"],binoculars:[512,512,[],"f1e5","M192 104H96V56c0-13.255 10.745-24 24-24h48c13.255 0 24 10.745 24 24v48zm224-48c0-13.255-10.745-24-24-24h-48c-13.255 0-24 10.745-24 24v48h96V56zM0 456c0 13.255 10.745 24 24 24h120c13.255 0 24-10.745 24-24v-16H0v16zm88-328c-13.255 0-24 10.745-24 24C64 256 0 272 0 416h168V312c0-13.255 10.745-24 24-24V128H88zm256 328c0 13.255 10.745 24 24 24h120c13.255 0 24-10.745 24-24v-16H344v16zM216 128v160h80V128h-80zm128 288h168c0-144-64-160-64-264 0-13.255-10.745-24-24-24H320v160c13.255 0 24 10.745 24 24v104z"],"birthday-cake":[448,512,[],"f1fd","M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"],blind:[384,512,[],"f29d","M380.15 510.837a8 8 0 0 1-10.989-2.687l-125.33-206.427a31.923 31.923 0 0 0 12.958-9.485l126.048 207.608a8 8 0 0 1-2.687 10.991zM142.803 314.338l-32.54 89.485 36.12 88.285c6.693 16.36 25.377 24.192 41.733 17.501 16.357-6.692 24.193-25.376 17.501-41.734l-62.814-153.537zM96 88c24.301 0 44-19.699 44-44S120.301 0 96 0 52 19.699 52 44s19.699 44 44 44zm154.837 169.128l-120-152c-4.733-5.995-11.75-9.108-18.837-9.112V96H80v.026c-7.146.003-14.217 3.161-18.944 9.24L0 183.766v95.694c0 13.455 11.011 24.791 24.464 24.536C37.505 303.748 48 293.1 48 280v-79.766l16-20.571v140.698L9.927 469.055c-6.04 16.609 2.528 34.969 19.138 41.009 16.602 6.039 34.968-2.524 41.009-19.138L136 309.638V202.441l-31.406-39.816a4 4 0 1 1 6.269-4.971l102.3 129.217c9.145 11.584 24.368 11.339 33.708 3.965 10.41-8.216 12.159-23.334 3.966-33.708z"],bold:[384,512,[],"f032","M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"],bolt:[320,512,[],"f0e7","M295.973 160H180.572L215.19 30.184C219.25 14.956 207.756 0 192 0H56C43.971 0 33.8 8.905 32.211 20.828l-31.996 240C-1.704 275.217 9.504 288 24.004 288h118.701L96.646 482.466C93.05 497.649 104.659 512 119.992 512c8.35 0 16.376-4.374 20.778-11.978l175.973-303.997c9.244-15.967-2.288-36.025-20.77-36.025z"],bomb:[512,512,[],"f1e2","M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z"],book:[448,512,[],"f02d","M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"],bookmark:[384,512,[],"f02e","M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"],"bowling-ball":[496,512,[],"f436","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zM120 192c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm64-96c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zm48 144c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"],box:[512,512,[],"f466","M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"],boxes:[576,512,[],"f468","M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"],braille:[640,512,[],"f2a1","M128 256c0 35.346-28.654 64-64 64S0 291.346 0 256s28.654-64 64-64 64 28.654 64 64zM64 384c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0-352C28.654 32 0 60.654 0 96s28.654 64 64 64 64-28.654 64-64-28.654-64-64-64zm160 192c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 160c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0-352c-35.346 0-64 28.654-64 64s28.654 64 64 64 64-28.654 64-64-28.654-64-64-64zm224 192c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 160c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0-352c-35.346 0-64 28.654-64 64s28.654 64 64 64 64-28.654 64-64-28.654-64-64-64zm160 192c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 160c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0-320c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"],briefcase:[512,512,[],"f0b1","M320 288h192v144c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V288h192v20c0 6.627 5.373 12 12 12h104c6.627 0 12-5.373 12-12v-20zm192-112v80H0v-80c0-26.51 21.49-48 48-48h80V80c0-26.51 21.49-48 48-48h160c26.51 0 48 21.49 48 48v48h80c26.51 0 48 21.49 48 48zM320 96H192v32h128V96z"],bug:[512,512,[],"f188","M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"],building:[448,512,[],"f1ad","M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"],bullhorn:[576,512,[],"f0a1","M576 224c0-20.896-13.36-38.666-32-45.258V64c0-35.346-28.654-64-64-64-64.985 56-142.031 128-272 128H48c-26.51 0-48 21.49-48 48v96c0 26.51 21.49 48 48 48h43.263c-18.742 64.65 2.479 116.379 18.814 167.44 1.702 5.32 5.203 9.893 9.922 12.88 20.78 13.155 68.355 15.657 93.773 5.151 16.046-6.633 19.96-27.423 7.522-39.537-18.508-18.026-30.136-36.91-19.795-60.858a12.278 12.278 0 0 0-1.045-11.673c-16.309-24.679-3.581-62.107 28.517-72.752C346.403 327.887 418.591 395.081 480 448c35.346 0 64-28.654 64-64V269.258c18.64-6.592 32-24.362 32-45.258zm-96 139.855c-54.609-44.979-125.033-92.94-224-104.982v-69.747c98.967-12.042 169.391-60.002 224-104.982v279.711z"],bullseye:[512,512,[],"f140","M256 72c101.689 0 184 82.295 184 184 0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-101.689 82.295-184 184-184m0-64C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 184c35.29 0 64 28.71 64 64s-28.71 64-64 64-64-28.71-64-64 28.71-64 64-64m0-64c-70.692 0-128 57.308-128 128s57.308 128 128 128 128-57.308 128-128-57.308-128-128-128z"],bus:[512,512,[],"f207","M512 152v80c0 13.255-10.745 24-24 24h-8v168c0 13.255-10.745 24-24 24h-8v40c0 13.255-10.745 24-24 24h-48c-13.255 0-24-10.745-24-24v-40H160v40c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24v-40h-8c-13.255 0-24-10.745-24-24V256h-8c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h8V80C32 35.817 132.288 0 256 0s224 35.817 224 80v48h8c13.255 0 24 10.745 24 24zM112 320c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288 0c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm32-56V120c0-13.255-10.745-24-24-24H104c-13.255 0-24 10.745-24 24v144c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"],calculator:[448,512,[],"f1ec","M0 464V48C0 21.49 21.49 0 48 0h352c26.51 0 48 21.49 48 48v416c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48zm384-284V76c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v104c0 6.627 5.373 12 12 12h296c6.627 0 12-5.373 12-12zM128 308v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm256 128V268c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v168c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-256 0v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm128-128v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm0 128v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"],calendar:[448,512,[],"f133","M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"],"calendar-alt":[448,512,[],"f073","M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm116 204c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm0-128c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm128 128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm0-128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm128 128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40zm0-128c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-40z"],"calendar-check":[448,512,[],"f274","M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"],"calendar-minus":[448,512,[],"f272","M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm304 192c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H132c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h184z"],"calendar-plus":[448,512,[],"f271","M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"],"calendar-times":[448,512,[],"f273","M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm257.3 160l48.1-48.1c4.7-4.7 4.7-12.3 0-17l-28.3-28.3c-4.7-4.7-12.3-4.7-17 0L224 306.7l-48.1-48.1c-4.7-4.7-12.3-4.7-17 0l-28.3 28.3c-4.7 4.7-4.7 12.3 0 17l48.1 48.1-48.1 48.1c-4.7 4.7-4.7 12.3 0 17l28.3 28.3c4.7 4.7 12.3 4.7 17 0l48.1-48.1 48.1 48.1c4.7 4.7 12.3 4.7 17 0l28.3-28.3c4.7-4.7 4.7-12.3 0-17L269.3 352z"],camera:[512,512,[],"f030","M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"],"camera-retro":[512,512,[],"f083","M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z"],car:[512,512,[],"f1b9","M499.991 168h-54.815l-7.854-20.944c-9.192-24.513-25.425-45.351-46.942-60.263S343.651 64 317.472 64H194.528c-26.18 0-51.391 7.882-72.908 22.793-21.518 14.912-37.75 35.75-46.942 60.263L66.824 168H12.009c-8.191 0-13.974 8.024-11.384 15.795l8 24A12 12 0 0 0 20.009 216h28.815l-.052.14C29.222 227.093 16 247.997 16 272v48c0 16.225 6.049 31.029 16 42.309V424c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24v-40h256v40c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24v-61.691c9.951-11.281 16-26.085 16-42.309v-48c0-24.003-13.222-44.907-32.772-55.86l-.052-.14h28.815a12 12 0 0 0 11.384-8.205l8-24c2.59-7.771-3.193-15.795-11.384-15.795zm-365.388 1.528C143.918 144.689 168 128 194.528 128h122.944c26.528 0 50.61 16.689 59.925 41.528L391.824 208H120.176l14.427-38.472zM88 328c-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32s48 30.327 48 48-30.327 16-48 16zm336 0c-17.673 0-48 1.673-48-16 0-17.673 30.327-48 48-48s32 14.327 32 32c0 17.673-14.327 32-32 32z"],"caret-down":[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"],"caret-left":[192,512,[],"f0d9","M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"],"caret-right":[192,512,[],"f0da","M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"],"caret-square-down":[448,512,[],"f150","M448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM92.5 220.5l123 123c4.7 4.7 12.3 4.7 17 0l123-123c7.6-7.6 2.2-20.5-8.5-20.5H101c-10.7 0-16.1 12.9-8.5 20.5z"],"caret-square-left":[448,512,[],"f191","M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM259.515 124.485l-123.03 123.03c-4.686 4.686-4.686 12.284 0 16.971l123.029 123.029c7.56 7.56 20.485 2.206 20.485-8.485V132.971c.001-10.691-12.925-16.045-20.484-8.486z"],"caret-square-right":[448,512,[],"f152","M48 32h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48zm140.485 355.515l123.029-123.029c4.686-4.686 4.686-12.284 0-16.971l-123.029-123.03c-7.56-7.56-20.485-2.206-20.485 8.485v246.059c0 10.691 12.926 16.045 20.485 8.486z"],"caret-square-up":[448,512,[],"f151","M0 432V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48zm355.515-140.485l-123.03-123.03c-4.686-4.686-12.284-4.686-16.971 0L92.485 291.515c-7.56 7.56-2.206 20.485 8.485 20.485h246.059c10.691 0 16.045-12.926 8.486-20.485z"],"caret-up":[320,512,[],"f0d8","M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z"],"cart-arrow-down":[576,512,[],"f218","M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM403.029 192H360v-60c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v60h-43.029c-10.691 0-16.045 12.926-8.485 20.485l67.029 67.029c4.686 4.686 12.284 4.686 16.971 0l67.029-67.029c7.559-7.559 2.205-20.485-8.486-20.485z"],"cart-plus":[576,512,[],"f217","M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"],certificate:[512,512,[],"f0a3","M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"],"chart-area":[512,512,[],"f1fe","M500 384c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v308h436zM372.7 159.5L288 216l-85.3-113.7c-5.1-6.8-15.5-6.3-19.9 1L96 248v104h384l-89.9-187.8c-3.2-6.5-11.4-8.7-17.4-4.7z"],"chart-bar":[512,512,[],"f080","M500 384c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v308h436zm-308-44v-72c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v72c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0V204c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v136c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0V140c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v200c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0V108c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v232c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"],"chart-line":[512,512,[],"f201","M500 384c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v308h436zM456 96H344c-21.4 0-32.1 25.9-17 41l32.9 32.9-72 72.9-55.6-55.6c-4.7-4.7-12.2-4.7-16.9 0L96.4 305c-4.7 4.6-4.8 12.2-.2 16.9l28.5 29.4c4.7 4.8 12.4 4.9 17.1.1l82.1-82.1 55.5 55.5c4.7 4.7 12.3 4.7 17 0l109.2-109.2L439 249c15.1 15.1 41 4.4 41-17V120c0-13.3-10.7-24-24-24z"],"chart-pie":[576,512,[],"f200","M288 12.3V240h227.7c6.9 0 12.3-5.8 12-12.7-6.4-122.4-104.5-220.6-227-227-6.9-.3-12.7 5.1-12.7 12zM552.7 288c6.9 0 12.3 5.8 12 12.7-2.8 53.2-23.2 105.6-61.2 147.8-4.6 5.1-12.6 5.4-17.5.5L325 288h227.7zM401 433c4.8 4.8 4.7 12.8-.4 17.3-42.6 38.4-99 61.7-160.8 61.7C107.6 511.9-.2 403.8 0 271.5.2 143.4 100.8 38.9 227.3 32.3c6.9-.4 12.7 5.1 12.7 12V272l161 161z"],check:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"],"check-circle":[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"],"check-square":[448,512,[],"f14a","M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"],chess:[512,512,[],"f439","M199.821 217.633a6 6 0 0 1 6 6l-.001 20.766a6 6 0 0 1-6 6h-25.805c0 31.715-2.153 96.201 17.398 153.229H64.597C84.54 345.452 82.02 279.245 82.02 250.399H56.183a6 6 0 0 1-6-6l.002-20.766a6 6 0 0 1 6-6h143.636zM41.554 115.088l34.58 95.071h103.734l34.572-95.072c2.846-7.826-2.95-16.101-11.278-16.101H152v-30.22h21.57a6 6 0 0 0 6-6V40.383a6 6 0 0 0-6-6h-28.367V6a6 6 0 0 0-6-6H116.82a6 6 0 0 0-6 6v28.383H82.421a6 6 0 0 0-6 6v22.383a6 6 0 0 0 6 6H104v30.219H52.831c-8.328.001-14.124 8.276-11.277 16.103zM222.678 445.17v-28.067a6 6 0 0 0-6-6H39.322a6 6 0 0 0-6 6v28.067l-22.148 14.164a6 6 0 0 0-2.767 5.055V506a6 6 0 0 0 6 6h227.187a6 6 0 0 0 6-6v-41.612a6 6 0 0 0-2.767-5.055l-22.149-14.163zm90.578-144.225l24.88 16.963c.09 18.124-.167 63.904-11.905 114.522h147.526c-11.713-50.475-11.969-96.324-11.882-114.537l24.859-16.949a3.856 3.856 0 0 0 1.684-3.187v-69.901a3.857 3.857 0 0 0-3.857-3.857h-27.655a3.857 3.857 0 0 0-3.857 3.857v31.514h-22.737v-31.514a3.857 3.857 0 0 0-3.858-3.857h-52.918a3.857 3.857 0 0 0-3.857 3.857v31.514h-22.737v-31.514a3.857 3.857 0 0 0-3.857-3.857H315.43a3.857 3.857 0 0 0-3.857 3.857v69.901a3.855 3.855 0 0 0 1.683 3.188zm71.585 51.906c0-8.372 6.787-15.158 15.159-15.158s15.158 6.787 15.158 15.158v30.318h-30.317v-30.318zM504.62 470.059l-13.664-10.639v-15.552a3.857 3.857 0 0 0-3.857-3.857H312.915a3.857 3.857 0 0 0-3.857 3.857v15.552l-13.677 10.639a3.857 3.857 0 0 0-1.488 3.044v35.039a3.857 3.857 0 0 0 3.857 3.857h204.5a3.857 3.857 0 0 0 3.857-3.857v-35.04a3.859 3.859 0 0 0-1.487-3.043z"],"chess-bishop":[320,512,[],"f43a","M123.158 77.881C107.369 72.53 96 57.597 96 40c0-22.091 17.909-40 40-40h47.796c22.091 0 40 17.909 40 40 0 17.541-11.295 32.434-27.005 37.829 23.993 16.657 48.577 46.839 68.703 82.05L144.929 280.443a6 6 0 0 0 0 8.485l14.142 14.142a6 6 0 0 0 8.485 0L280.9 189.726c17.758 38.297 29.371 79.443 29.371 114.273 0 53.786-22.897 75.788-58.446 86.033V448H68.174v-57.97C32.631 379.784 9.739 357.781 9.739 304c0-78.029 58.281-187.766 113.419-226.119zM320 500v-24c0-6.627-5.373-12-12-12H12c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h296c6.627 0 12-5.373 12-12z"],"chess-board":[512,512,[],"f43c","M256 256v64h-64v-64h64zm0-256h-64v64h64V0zm0 256h64v-64h-64v64zM384 0h-64v64h64V0zm0 512h64v-64h-64v64zm128-64v-64h-64v64h64zm-384 64h64v-64h-64v64zm0-512H64v64h64V0zm384 192v-64h-64v64h64zm0 128v-64h-64v64h64zM0 512h64v-64H0v64zM0 64v64h64V64H0zm0 128v64h64v-64H0zm0 128v64h64v-64H0zm256 192h64v-64h-64v64zm-64-128v64h64v-64h-64zm64-192v-64h-64v64h64zM64 384v64h64v-64H64zm64-128H64v64h64v-64zm256 128h64v-64h-64v64zM512 0h-64v64h64V0zM384 256h64v-64h-64v64zm0-192v64h64V64h-64zm-64 320v64h64v-64h-64zm-192-64v64h64v-64h-64zm128 0v64h64v-64h-64zm-64-128h-64v64h64v-64zm-64-64H64v64h64v-64zm192 192h64v-64h-64v64zM192 128V64h-64v64h64zm128 0V64h-64v64h64zm0 64h64v-64h-64v64z"],"chess-king":[448,512,[],"f43f","M416 476v24c0 6.627-5.373 12-12 12H44c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12zm-8.033-324H248v-48h50a6 6 0 0 0 6-6V62a6 6 0 0 0-6-6h-50V6a6 6 0 0 0-6-6h-36a6 6 0 0 0-6 6v50h-50a6 6 0 0 0-6 6v36a6 6 0 0 0 6 6h50v48H40.033c-27.574 0-46.879 27.244-37.738 53.259L87.582 448h272.836l85.287-242.741C454.846 179.244 435.541 152 407.967 152z"],"chess-knight":[384,512,[],"f441","M352 224v224H32v-46.557c0-30.302 17.12-58.003 44.223-71.554l57.243-28.622A48 48 0 0 0 160 258.334V208l-22.127 11.063a23.996 23.996 0 0 0-12.55 15.645l-11.835 47.338a12 12 0 0 1-7.185 8.231l-29.601 11.84a11.998 11.998 0 0 1-9.33-.176L7.126 275.167A12 12 0 0 1 0 264.201v-158.26c0-6.365 2.529-12.47 7.03-16.971L16 80 1.789 51.578A16.937 16.937 0 0 1 0 44c0-6.627 5.373-12 12-12h148c106.039 0 192 85.961 192 192zm20 240H12c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h360c6.627 0 12-5.373 12-12v-24c0-6.627-5.373-12-12-12zM52 128c-11.046 0-20 8.954-20 20s8.954 20 20 20 20-8.954 20-20-8.954-20-20-20z"],"chess-pawn":[320,512,[],"f443","M264 448H56s60-42.743 60-176H84c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h40.209C95.721 210.56 76 181.588 76 148c0-46.392 37.608-84 84-84s84 37.608 84 84c0 33.588-19.721 62.56-48.209 76H236c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-32c0 133.257 60 176 60 176zm28 16H28c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h264c6.627 0 12-5.373 12-12v-24c0-6.627-5.373-12-12-12z"],"chess-queen":[512,512,[],"f445","M436 512H76c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12zM255.579 0c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zm204.568 154.634c-5.768-3.045-12.916-.932-16.082 4.77-8.616 15.516-22.747 37.801-44.065 37.801-28.714 0-30.625-19.804-31.686-57.542-.183-6.492-5.501-11.664-11.995-11.664h-41.006c-5.175 0-9.754 3.328-11.388 8.238-8.89 26.709-26.073 40.992-47.925 40.992s-39.034-14.283-47.925-40.992c-1.634-4.91-6.213-8.238-11.388-8.238h-41.005c-6.495 0-11.813 5.174-11.995 11.667-1.052 37.642-2.934 57.539-31.688 57.539-20.691 0-33.817-20.224-44.425-38.025-3.266-5.48-10.258-7.431-15.899-4.453l-39.179 20.679a12 12 0 0 0-5.51 15.145L112 448h288l105.014-257.448a12 12 0 0 0-5.51-15.145l-39.357-20.773z"],"chess-rook":[384,512,[],"f447","M81.241 215.027C80.957 258.92 77.411 348.076 48 448h287.982c-29.4-99.604-32.936-188.912-33.221-232.975l45.418-42.312a11.998 11.998 0 0 0 3.82-8.78V44c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v44h-48V44c0-6.627-5.373-12-12-12h-72c-6.627 0-12 5.373-12 12v44H96V44c0-6.627-5.373-12-12-12H44c-6.627 0-12 5.373-12 12v119.932c0 3.33 1.384 6.51 3.82 8.78l45.421 42.315zM160 256c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32v64.004h-64V256zm224 220v24c0 6.627-5.373 12-12 12H12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12z"],"chevron-circle-down":[512,512,[],"f13a","M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM273 369.9l135.5-135.5c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L256 285.1 154.4 183.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L239 369.9c9.4 9.4 24.6 9.4 34 0z"],"chevron-circle-left":[512,512,[],"f137","M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"],"chevron-circle-right":[512,512,[],"f138","M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm113.9 231L234.4 103.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L285.1 256 183.5 357.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L369.9 273c9.4-9.4 9.4-24.6 0-34z"],"chevron-circle-up":[512,512,[],"f139","M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm231-113.9L103.5 277.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L256 226.9l101.6 101.6c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L273 142.1c-9.4-9.4-24.6-9.4-34 0z"],"chevron-down":[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"],"chevron-left":[320,512,[],"f053","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"],"chevron-right":[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"],"chevron-up":[448,512,[],"f077","M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"],child:[384,512,[],"f1ae","M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"],circle:[512,512,[],"f111","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"],"circle-notch":[512,512,[],"f1ce","M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"],clipboard:[384,512,[],"f328","M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"],"clipboard-check":[384,512,[],"f46c","M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"],"clipboard-list":[384,512,[],"f46d","M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"],clock:[512,512,[],"f017","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm57.1 350.1L224.9 294c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v137.7l63.5 46.2c5.4 3.9 6.5 11.4 2.6 16.8l-28.2 38.8c-3.9 5.3-11.4 6.5-16.8 2.6z"],clone:[512,512,[],"f24d","M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"],"closed-captioning":[512,512,[],"f20a","M464 64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM218.1 287.7c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.6 56.8-172.8 32.1-172.8-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7l-17.5 30.5c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2.1 48 51.1 70.5 92.3 32.6zm190.4 0c2.8-2.5 7.1-2.1 9.2.9l19.5 27.7c1.7 2.4 1.5 5.6-.5 7.7-53.5 56.9-172.7 32.1-172.7-67.9 0-97.3 121.7-119.5 172.5-70.1 2.1 2 2.5 3.2 1 5.7L420 222.2c-1.9 3.1-6.2 4-9.1 1.7-40.8-32-94.6-14.9-94.6 31.2 0 48 51 70.5 92.2 32.6z"],cloud:[640,512,[],"f0c2","M537.585 226.56C541.725 215.836 544 204.184 544 192c0-53.019-42.981-96-96-96-19.729 0-38.065 5.954-53.316 16.159C367.042 64.248 315.288 32 256 32c-88.366 0-160 71.634-160 160 0 2.728.07 5.439.204 8.133C40.171 219.845 0 273.227 0 336c0 79.529 64.471 144 144 144h368c70.692 0 128-57.308 128-128 0-61.93-43.983-113.586-102.415-125.44z"],"cloud-download-alt":[640,512,[],"f381","M640 352c0 70.692-57.308 128-128 128H144C64.471 480 0 415.529 0 336c0-62.773 40.171-116.155 96.204-135.867A163.68 163.68 0 0 1 96 192c0-88.366 71.634-160 160-160 59.288 0 111.042 32.248 138.684 80.159C409.935 101.954 428.271 96 448 96c53.019 0 96 42.981 96 96 0 12.184-2.275 23.836-6.415 34.56C596.017 238.414 640 290.07 640 352zm-246.627-64H328V176c0-8.837-7.164-16-16-16h-48c-8.836 0-16 7.163-16 16v112h-65.373c-14.254 0-21.393 17.234-11.314 27.314l105.373 105.373c6.248 6.248 16.379 6.248 22.627 0l105.373-105.373c10.08-10.08 2.941-27.314-11.313-27.314z"],"cloud-upload-alt":[640,512,[],"f382","M640 352c0 70.692-57.308 128-128 128H144C64.471 480 0 415.529 0 336c0-62.773 40.171-116.155 96.204-135.867A163.68 163.68 0 0 1 96 192c0-88.366 71.634-160 160-160 59.288 0 111.042 32.248 138.684 80.159C409.935 101.954 428.271 96 448 96c53.019 0 96 42.981 96 96 0 12.184-2.275 23.836-6.415 34.56C596.017 238.414 640 290.07 640 352zm-235.314-91.314L299.314 155.314c-6.248-6.248-16.379-6.248-22.627 0L171.314 260.686c-10.08 10.08-2.941 27.314 11.313 27.314H248v112c0 8.837 7.164 16 16 16h48c8.836 0 16-7.163 16-16V288h65.373c14.254 0 21.393-17.234 11.313-27.314z"],code:[640,512,[],"f121","M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"],"code-branch":[384,512,[],"f126","M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"],coffee:[640,512,[],"f0f4","M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"],cog:[512,512,[],"f013","M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"],cogs:[640,512,[],"f085","M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"],columns:[512,512,[],"f0db","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"],comment:[576,512,[],"f075","M576 240c0 115-129 208-288 208-48.3 0-93.9-8.6-133.9-23.8-40.3 31.2-89.8 50.3-142.4 55.7-5.2.6-10.2-2.8-11.5-7.7-1.3-5 2.7-8.1 6.6-11.8 19.3-18.4 42.7-32.8 51.9-94.6C21.9 330.9 0 287.3 0 240 0 125.1 129 32 288 32s288 93.1 288 208z"],"comment-alt":[576,512,[],"f27a","M576 240c0 115-129 208-288 208-48.3 0-93.9-8.6-133.9-23.8-40.3 31.2-89.8 50.3-142.4 55.7-5.2.6-10.2-2.8-11.5-7.7-1.3-5 2.7-8.1 6.6-11.8 19.3-18.4 42.7-32.8 51.9-94.6C21.9 330.9 0 287.3 0 240 0 125.1 129 32 288 32s288 93.1 288 208zm-416-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm128 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm128 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"],comments:[576,512,[],"f086","M224 358.857c-37.599 0-73.027-6.763-104.143-18.7-31.375 24.549-69.869 39.508-110.764 43.796a8.632 8.632 0 0 1-.89.047c-3.736 0-7.111-2.498-8.017-6.061-.98-3.961 2.088-6.399 5.126-9.305 15.017-14.439 33.222-25.79 40.342-74.297C17.015 266.886 0 232.622 0 195.429 0 105.16 100.297 32 224 32s224 73.159 224 163.429c-.001 90.332-100.297 163.428-224 163.428zm347.067 107.174c-13.944-13.127-30.849-23.446-37.46-67.543 68.808-64.568 52.171-156.935-37.674-207.065.031 1.334.066 2.667.066 4.006 0 122.493-129.583 216.394-284.252 211.222 38.121 30.961 93.989 50.492 156.252 50.492 34.914 0 67.811-6.148 96.704-17 29.134 22.317 64.878 35.916 102.853 39.814 3.786.395 7.363-1.973 8.27-5.467.911-3.601-1.938-5.817-4.759-8.459z"],compass:[512,512,[],"f14e","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM307.446 120.844l-102.642 97.779a23.997 23.997 0 0 0-6.772 11.729l-33.359 137.779c-5.68 23.459 22.777 39.318 39.88 23.024l102.64-97.779a23.99 23.99 0 0 0 6.772-11.729l33.359-137.779c5.618-23.198-22.591-39.493-39.878-23.024zM256 224c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"],compress:[448,512,[],"f066","M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"],copy:[448,512,[],"f0c5","M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"],copyright:[512,512,[],"f1f9","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm117.134 346.753c-1.592 1.867-39.776 45.731-109.851 45.731-84.692 0-144.484-63.26-144.484-145.567 0-81.303 62.004-143.401 143.762-143.401 66.957 0 101.965 37.315 103.422 38.904a12 12 0 0 1 1.238 14.623l-22.38 34.655c-4.049 6.267-12.774 7.351-18.234 2.295-.233-.214-26.529-23.88-61.88-23.88-46.116 0-73.916 33.575-73.916 76.082 0 39.602 25.514 79.692 74.277 79.692 38.697 0 65.28-28.338 65.544-28.625 5.132-5.565 14.059-5.033 18.508 1.053l24.547 33.572a12.001 12.001 0 0 1-.553 14.866z"],"credit-card":[576,512,[],"f09d","M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"],crop:[512,512,[],"f125","M488 352h-40V109.3l57-57c9.4-9.4 9.4-24.6 0-33.9L493.7 7c-9.4-9.4-24.6-9.4-33.9 0l-57 57H160V24c0-13.3-10.7-24-24-24H88C74.7 0 64 10.7 64 24v40H24C10.7 64 0 74.7 0 88v48c0 13.3 10.7 24 24 24h40v264c0 13.3 10.7 24 24 24h264v40c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24v-40h40c13.3 0 24-10.7 24-24v-48c0-13.3-10.7-24-24-24zM306.7 160L160 306.7V160h146.7zM205.3 352L352 205.3V352H205.3z"],crosshairs:[512,512,[],"f05b","M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"],cube:[512,512,[],"f1b2","M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"],cubes:[512,512,[],"f1b3","M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z"],cut:[448,512,[],"f0c4","M444.485 422.426c4.689 4.689 4.684 12.287 0 16.971-32.804 32.804-85.991 32.804-118.795 0L210.176 323.883l-24.859 24.859C189.63 359.657 192 371.552 192 384c0 53.019-42.981 96-96 96S0 437.019 0 384s42.981-96 96-96c4.536 0 8.995.322 13.363.93l32.93-32.93-32.93-32.93c-4.368.608-8.827.93-13.363.93-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96c0 12.448-2.37 24.343-6.682 35.258l24.859 24.859L325.69 72.603c32.804-32.804 85.991-32.804 118.795 0 4.684 4.684 4.689 12.282 0 16.971L278.059 256l166.426 166.426zM96 96c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32m0 256c-17.645 0-32 14.355-32 32s14.355 32 32 32 32-14.355 32-32-14.355-32-32-32m112-108c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z"],database:[448,512,[],"f1c0","M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"],deaf:[512,512,[],"f2a4","M216 260c0 15.464-12.536 28-28 28s-28-12.536-28-28c0-44.112 35.888-80 80-80s80 35.888 80 80c0 15.464-12.536 28-28 28s-28-12.536-28-28c0-13.234-10.767-24-24-24s-24 10.766-24 24zm24-176c-97.047 0-176 78.953-176 176 0 15.464 12.536 28 28 28s28-12.536 28-28c0-66.168 53.832-120 120-120s120 53.832 120 120c0 75.164-71.009 70.311-71.997 143.622L288 404c0 28.673-23.327 52-52 52-15.464 0-28 12.536-28 28s12.536 28 28 28c59.475 0 107.876-48.328 108-107.774.595-34.428 72-48.24 72-144.226 0-97.047-78.953-176-176-176zm268.485-52.201L480.2 3.515c-4.687-4.686-12.284-4.686-16.971 0L376.2 90.544c-4.686 4.686-4.686 12.284 0 16.971l28.285 28.285c4.686 4.686 12.284 4.686 16.97 0l87.03-87.029c4.687-4.688 4.687-12.286 0-16.972zM168.97 314.745c-4.686-4.686-12.284-4.686-16.97 0L3.515 463.23c-4.686 4.686-4.686 12.284 0 16.971L31.8 508.485c4.687 4.686 12.284 4.686 16.971 0L197.256 360c4.686-4.686 4.686-12.284 0-16.971l-28.286-28.284z"],desktop:[576,512,[],"f108","M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"],dna:[448,512,[],"f471","M447.9 17.9C449 8.4 441.6.1 432 .1L399.6 0c-8.1 0-14.9 5.9-16 13.9-.7 4.9-1.8 11.1-3.4 18.1H67.9c-1.6-6.9-2.9-13.2-3.5-18.1-1.1-8-7.9-14-16-13.9L16.1.1C6.5.1-1 8.4.1 17.9c4.6 37.9 25.6 129 118.9 207.7 17.6-12.4 37.1-24.2 58.5-35.4-6.2-4.6-11.4-9.4-17-14.2h127.6c-21.3 18.1-47 35.6-78.7 51.4C37.5 312.9 5.9 446.2.1 494.1c-1.1 9.5 6.3 17.8 15.9 17.8l32.3.1c8.1 0 14.9-5.9 16-13.9.7-4.9 1.8-11.1 3.4-18.1h312.4c1.6 7 2.7 13.1 3.4 18.1 1.1 8 7.9 14 16 13.9l32.3-.1c9.6 0 17.1-8.3 15.9-17.8-5-42.9-31.1-153.9-159.7-238.1C416.5 171.8 442.7 60.8 447.9 17.9zM224 292.4c25.1 13.7 46.4 28.4 64.3 43.6H159.7c17.9-15.2 39.2-30 64.3-43.6zM92.9 416c5.8-10.4 12.8-21.1 21-32h220c8.3 10.9 15.3 21.6 21 32h-262zM355.1 96c-5.8 10.4-12.8 21.1-21 32H114.6c-8.3-10.9-15.4-21.6-21.2-32h261.7z"],"dollar-sign":[320,512,[],"f155","M113.411 169.375c0-23.337 21.536-38.417 54.865-38.417 26.726 0 54.116 12.263 76.461 28.333 5.88 4.229 14.13 2.354 17.575-4.017l23.552-43.549c2.649-4.898 1.596-10.991-2.575-14.68-24.281-21.477-59.135-34.09-91.289-37.806V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v49.832c-58.627 13.29-97.299 55.917-97.299 108.639 0 123.533 184.765 110.81 184.765 169.414 0 19.823-16.311 41.158-52.124 41.158-30.751 0-62.932-15.88-87.848-35.887-5.31-4.264-13.082-3.315-17.159 2.14l-30.389 40.667c-3.627 4.854-3.075 11.657 1.302 15.847 24.049 23.02 59.249 41.255 98.751 47.973V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-47.438c65.72-10.215 106.176-59.186 106.176-116.516.001-119.688-184.764-103.707-184.764-166.671z"],dolly:[576,512,[],"f472","M294.2 277.7c18 5 34.7 13.4 49.5 24.7l161.5-53.8c8.4-2.8 12.9-11.9 10.1-20.2L454.9 47.2c-2.8-8.4-11.9-12.9-20.2-10.1l-61.1 20.4 33.1 99.4L346 177l-33.1-99.4-61.6 20.5c-8.4 2.8-12.9 11.9-10.1 20.2l53 159.4zm281 48.7L565 296c-2.8-8.4-11.9-12.9-20.2-10.1l-213.5 71.2c-17.2-22-43.6-36.4-73.5-37L158.4 21.9C154 8.8 141.8 0 128 0H16C7.2 0 0 7.2 0 16v32c0 8.8 7.2 16 16 16h88.9l92.2 276.7c-26.1 20.4-41.7 53.6-36 90.5 6.1 39.4 37.9 72.3 77.3 79.2 60.2 10.7 112.3-34.8 113.4-92.6l213.3-71.2c8.3-2.8 12.9-11.8 10.1-20.2zM256 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"],"dolly-flatbed":[640,512,[],"f474","M208 320h384c8.8 0 16-7.2 16-16V48c0-8.8-7.2-16-16-16H448v128l-48-32-48 32V32H208c-8.8 0-16 7.2-16 16v256c0 8.8 7.2 16 16 16zm416 64H128V16c0-8.8-7.2-16-16-16H16C7.2 0 0 7.2 0 16v32c0 8.8 7.2 16 16 16h48v368c0 8.8 7.2 16 16 16h82.9c-1.8 5-2.9 10.4-2.9 16 0 26.5 21.5 48 48 48s48-21.5 48-48c0-5.6-1.2-11-2.9-16H451c-1.8 5-2.9 10.4-2.9 16 0 26.5 21.5 48 48 48s48-21.5 48-48c0-5.6-1.2-11-2.9-16H624c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16z"],"dot-circle":[512,512,[],"f192","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm80 248c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80z"],download:[512,512,[],"f019","M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"],edit:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"],eject:[448,512,[],"f052","M448 384v64c0 17.673-14.327 32-32 32H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h384c17.673 0 32 14.327 32 32zM48.053 320h351.886c41.651 0 63.581-49.674 35.383-80.435L259.383 47.558c-19.014-20.743-51.751-20.744-70.767 0L12.67 239.565C-15.475 270.268 6.324 320 48.053 320z"],"ellipsis-h":[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"],"ellipsis-v":[192,512,[],"f142","M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"],envelope:[512,512,[],"f0e0","M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"],"envelope-open":[512,512,[],"f2b6","M512 464c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V200.724a48 48 0 0 1 18.387-37.776c24.913-19.529 45.501-35.365 164.2-121.511C199.412 29.17 232.797-.347 256 .003c23.198-.354 56.596 29.172 73.413 41.433 118.687 86.137 139.303 101.995 164.2 121.512A48 48 0 0 1 512 200.724V464zm-65.666-196.605c-2.563-3.728-7.7-4.595-11.339-1.907-22.845 16.873-55.462 40.705-105.582 77.079-16.825 12.266-50.21 41.781-73.413 41.43-23.211.344-56.559-29.143-73.413-41.43-50.114-36.37-82.734-60.204-105.582-77.079-3.639-2.688-8.776-1.821-11.339 1.907l-9.072 13.196a7.998 7.998 0 0 0 1.839 10.967c22.887 16.899 55.454 40.69 105.303 76.868 20.274 14.781 56.524 47.813 92.264 47.573 35.724.242 71.961-32.771 92.263-47.573 49.85-36.179 82.418-59.97 105.303-76.868a7.998 7.998 0 0 0 1.839-10.967l-9.071-13.196z"],"envelope-square":[448,512,[],"f199","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM178.117 262.104C87.429 196.287 88.353 196.121 64 177.167V152c0-13.255 10.745-24 24-24h272c13.255 0 24 10.745 24 24v25.167c-24.371 18.969-23.434 19.124-114.117 84.938-10.5 7.655-31.392 26.12-45.883 25.894-14.503.218-35.367-18.227-45.883-25.895zM384 217.775V360c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24V217.775c13.958 10.794 33.329 25.236 95.303 70.214 14.162 10.341 37.975 32.145 64.694 32.01 26.887.134 51.037-22.041 64.72-32.025 61.958-44.965 81.325-59.406 95.283-70.199z"],eraser:[512,512,[],"f12d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"],"euro-sign":[320,512,[],"f153","M310.706 413.765c-1.314-6.63-7.835-10.872-14.424-9.369-10.692 2.439-27.422 5.413-45.426 5.413-56.763 0-101.929-34.79-121.461-85.449h113.689a12 12 0 0 0 11.708-9.369l6.373-28.36c1.686-7.502-4.019-14.631-11.708-14.631H115.22c-1.21-14.328-1.414-28.287.137-42.245H261.95a12 12 0 0 0 11.723-9.434l6.512-29.755c1.638-7.484-4.061-14.566-11.723-14.566H130.184c20.633-44.991 62.69-75.03 117.619-75.03 14.486 0 28.564 2.25 37.851 4.145 6.216 1.268 12.347-2.498 14.002-8.623l11.991-44.368c1.822-6.741-2.465-13.616-9.326-14.917C290.217 34.912 270.71 32 249.635 32 152.451 32 74.03 92.252 45.075 176H12c-6.627 0-12 5.373-12 12v29.755c0 6.627 5.373 12 12 12h21.569c-1.009 13.607-1.181 29.287-.181 42.245H12c-6.627 0-12 5.373-12 12v28.36c0 6.627 5.373 12 12 12h30.114C67.139 414.692 145.264 480 249.635 480c26.301 0 48.562-4.544 61.101-7.788 6.167-1.595 10.027-7.708 8.788-13.957l-8.818-44.49z"],"exchange-alt":[512,512,[],"f362","M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"],exclamation:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"],"exclamation-circle":[512,512,[],"f06a","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],"exclamation-triangle":[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"],expand:[448,512,[],"f065","M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"],"expand-arrows-alt":[448,512,[],"f31e","M448.1 344v112c0 13.3-10.7 24-24 24h-112c-21.4 0-32.1-25.9-17-41l36.2-36.2L224 295.6 116.8 402.9 153 439c15.1 15.1 4.4 41-17 41H24c-13.3 0-24-10.7-24-24V344c0-21.4 25.9-32.1 41-17l36.2 36.2L184.5 256 77.2 148.7 41 185c-15.1 15.1-41 4.4-41-17V56c0-13.3 10.7-24 24-24h112c21.4 0 32.1 25.9 17 41l-36.2 36.2L224 216.4l107.3-107.3L295.1 73c-15.1-15.1-4.4-41 17-41h112c13.3 0 24 10.7 24 24v112c0 21.4-25.9 32.1-41 17l-36.2-36.2L263.6 256l107.3 107.3 36.2-36.2c15.1-15.2 41-4.5 41 16.9z"],"external-link-alt":[576,512,[],"f35d","M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"],"external-link-square-alt":[448,512,[],"f360","M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z"],eye:[576,512,[],"f06e","M569.354 231.631C512.969 135.949 407.81 72 288 72 168.14 72 63.004 135.994 6.646 231.631a47.999 47.999 0 0 0 0 48.739C63.031 376.051 168.19 440 288 440c119.86 0 224.996-63.994 281.354-159.631a47.997 47.997 0 0 0 0-48.738zM288 392c-75.162 0-136-60.827-136-136 0-75.162 60.826-136 136-136 75.162 0 136 60.826 136 136 0 75.162-60.826 136-136 136zm104-136c0 57.438-46.562 104-104 104s-104-46.562-104-104c0-17.708 4.431-34.379 12.236-48.973l-.001.032c0 23.651 19.173 42.823 42.824 42.823s42.824-19.173 42.824-42.823c0-23.651-19.173-42.824-42.824-42.824l-.032.001C253.621 156.431 270.292 152 288 152c57.438 0 104 46.562 104 104z"],"eye-dropper":[512,512,[],"f1fb","M177.38 206.64L39.03 344.97A24.01 24.01 0 0 0 32 361.94V424L0 480l32 32 56-32h62.06c6.36 0 12.47-2.53 16.97-7.03l138.35-138.33-128-128zm225.552 30.47l16.952 16.95c9.37 9.37 9.37 24.57 0 33.94l-40.973 40.97c-9.292 9.312-24.506 9.434-33.94 0L183.028 167.03c-9.37-9.37-9.37-24.57 0-33.94L224 92.12c9.289-9.309 24.502-9.438 33.94 0l16.992 16.99 82.606-82.601c35.19-35.19 92.5-35.5 128 0 40.49 48.08 29.66 98.34 0 128l-82.606 82.601z"],"eye-slash":[576,512,[],"f070","M286.693 391.984l32.579 46.542A333.958 333.958 0 0 1 288 440C168.19 440 63.031 376.051 6.646 280.369a47.999 47.999 0 0 1 0-48.739c24.023-40.766 56.913-75.775 96.024-102.537l57.077 81.539C154.736 224.82 152 240.087 152 256c0 74.736 60.135 135.282 134.693 135.984zm282.661-111.615c-31.667 53.737-78.747 97.46-135.175 125.475l.011.015 41.47 59.2c7.6 10.86 4.96 25.82-5.9 33.42l-13.11 9.18c-10.86 7.6-25.82 4.96-33.42-5.9L100.34 46.94c-7.6-10.86-4.96-25.82 5.9-33.42l13.11-9.18c10.86-7.6 25.82-4.96 33.42 5.9l51.038 72.617C230.68 75.776 258.905 72 288 72c119.81 0 224.969 63.949 281.354 159.631a48.002 48.002 0 0 1 0 48.738zM424 256c0-75.174-60.838-136-136-136-17.939 0-35.056 3.473-50.729 9.772l19.299 27.058c25.869-8.171 55.044-6.163 80.4 7.41h-.03c-23.65 0-42.82 19.17-42.82 42.82 0 23.626 19.147 42.82 42.82 42.82 23.65 0 42.82-19.17 42.82-42.82v-.03c18.462 34.49 16.312 77.914-8.25 110.95v.01l19.314 27.061C411.496 321.2 424 290.074 424 256zM262.014 356.727l-77.53-110.757c-5.014 52.387 29.314 98.354 77.53 110.757z"],"fast-backward":[512,512,[],"f049","M0 436V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v151.9L235.5 71.4C256.1 54.3 288 68.6 288 96v131.9L459.5 71.4C480.1 54.3 512 68.6 512 96v320c0 27.4-31.9 41.7-52.5 24.6L288 285.3V416c0 27.4-31.9 41.7-52.5 24.6L64 285.3V436c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12z"],"fast-forward":[512,512,[],"f050","M512 76v360c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V284.1L276.5 440.6c-20.6 17.2-52.5 2.8-52.5-24.6V284.1L52.5 440.6C31.9 457.8 0 443.4 0 416V96c0-27.4 31.9-41.7 52.5-24.6L224 226.8V96c0-27.4 31.9-41.7 52.5-24.6L448 226.8V76c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12z"],fax:[512,512,[],"f1ac","M128 144v320c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V144c0-26.51 21.49-48 48-48h32c26.51 0 48 21.49 48 48zm384 64v256c0 26.51-21.49 48-48 48H192c-26.51 0-48-21.49-48-48V40c0-22.091 17.909-40 40-40h207.432a39.996 39.996 0 0 1 28.284 11.716l48.569 48.569A39.999 39.999 0 0 1 480 88.568v74.174c18.641 6.591 32 24.36 32 45.258zm-320-16h240V96h-24c-13.203 0-24-10.797-24-24V48H192v144zm96 204c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zm0-128c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zm128 128c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zm0-128c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40z"],female:[256,512,[],"f182","M128 0c35.346 0 64 28.654 64 64s-28.654 64-64 64c-35.346 0-64-28.654-64-64S92.654 0 128 0m119.283 354.179l-48-192A24 24 0 0 0 176 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H80a24 24 0 0 0-23.283 18.179l-48 192C4.935 369.305 16.383 384 32 384h56v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V384h56c15.591 0 27.071-14.671 23.283-29.821z"],"fighter-jet":[640,512,[],"f0fb","M544 224l-128-16-48-16h-24L227.158 44h39.509C278.333 44 288 41.375 288 38s-9.667-6-21.333-6H152v12h16v164h-48l-66.667-80H18.667L8 138.667V208h8v16h48v2.666l-64 8v42.667l64 8V288H16v16H8v69.333L18.667 384h34.667L120 304h48v164h-16v12h114.667c11.667 0 21.333-2.625 21.333-6s-9.667-6-21.333-6h-39.509L344 320h24l48-16 128-16c96-21.333 96-26.583 96-32 0-5.417 0-10.667-96-32z"],file:[384,512,[],"f15b","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"],"file-alt":[384,512,[],"f15c","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"],"file-archive":[384,512,[],"f1c6","M224 136V0h-63.6v32h-32V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM95.9 32h32v32h-32V32zm32.3 384c-33.2 0-58-30.4-51.4-62.9L96.4 256v-32h32v-32h-32v-32h32v-32h-32V96h32V64h32v32h-32v32h32v32h-32v32h32v32h-32v32h22.1c5.7 0 10.7 4.1 11.8 9.7l17.3 87.7c6.4 32.4-18.4 62.6-51.4 62.6zm32.7-53c0 14.9-14.5 27-32.4 27S96 378 96 363c0-14.9 14.5-27 32.4-27s32.5 12.1 32.5 27zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"],"file-audio":[384,512,[],"f1c7","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm-64 268c0 10.7-12.9 16-20.5 8.5L104 376H76c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h28l35.5-36.5c7.6-7.6 20.5-2.2 20.5 8.5v136zm33.2-47.6c9.1-9.3 9.1-24.1 0-33.4-22.1-22.8 12.2-56.2 34.4-33.5 27.2 27.9 27.2 72.4 0 100.4-21.8 22.3-56.9-10.4-34.4-33.5zm86-117.1c54.4 55.9 54.4 144.8 0 200.8-21.8 22.4-57-10.3-34.4-33.5 36.2-37.2 36.3-96.5 0-133.8-22.1-22.8 12.3-56.3 34.4-33.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"],"file-code":[384,512,[],"f1c9","M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"],"file-excel":[384,512,[],"f1c3","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"],"file-image":[384,512,[],"f1c5","M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"],"file-pdf":[384,512,[],"f1c1","M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"],"file-powerpoint":[384,512,[],"f1c4","M193.7 271.2c8.8 0 15.5 2.7 20.3 8.1 9.6 10.9 9.8 32.7-.2 44.1-4.9 5.6-11.9 8.5-21.1 8.5h-26.9v-60.7h27.9zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm53 165.2c0 90.3-88.8 77.6-111.1 77.6V436c0 6.6-5.4 12-12 12h-30.8c-6.6 0-12-5.4-12-12V236.2c0-6.6 5.4-12 12-12h81c44.5 0 72.9 32.8 72.9 77z"],"file-video":[384,512,[],"f1c8","M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM224 136V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248c-13.2 0-24-10.8-24-24zm96 144.016v111.963c0 21.445-25.943 31.998-40.971 16.971L224 353.941V392c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24V280c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v38.059l55.029-55.013c15.011-15.01 40.971-4.491 40.971 16.97z"],"file-word":[384,512,[],"f1c2","M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"],film:[512,512,[],"f008","M488 64h-8v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12V64H96v20c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12V64h-8C10.7 64 0 74.7 0 88v336c0 13.3 10.7 24 24 24h8v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h320v-20c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v20h8c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24zM96 372c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12H44c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm272 208c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm0-168c0 6.6-5.4 12-12 12H156c-6.6 0-12-5.4-12-12v-96c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v96zm112 152c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40zm0-96c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40z"],filter:[512,512,[],"f0b0","M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"],fire:[384,512,[],"f06d","M216 23.858c0-23.802-30.653-32.765-44.149-13.038C48 191.851 224 200 224 288c0 35.629-29.114 64.458-64.85 63.994C123.98 351.538 96 322.22 96 287.046v-85.51c0-21.703-26.471-32.225-41.432-16.504C27.801 213.158 0 261.332 0 320c0 105.869 86.131 192 192 192s192-86.131 192-192c0-170.29-168-193.003-168-296.142z"],"fire-extinguisher":[448,512,[],"f134","M434.027 26.329l-168 28C254.693 56.218 256 67.8 256 72h-58.332C208.353 36.108 181.446 0 144 0c-39.435 0-66.368 39.676-52.228 76.203-52.039 13.051-75.381 54.213-90.049 90.884-4.923 12.307 1.063 26.274 13.37 31.197 12.317 4.926 26.279-1.075 31.196-13.37C75.058 112.99 106.964 120 168 120v27.076c-41.543 10.862-72 49.235-72 94.129V488c0 13.255 10.745 24 24 24h144c13.255 0 24-10.745 24-24V240c0-44.731-30.596-82.312-72-92.97V120h40c0 2.974-1.703 15.716 10.027 17.671l168 28C441.342 166.89 448 161.25 448 153.834V38.166c0-7.416-6.658-13.056-13.973-11.837zM144 72c-8.822 0-16-7.178-16-16s7.178-16 16-16 16 7.178 16 16-7.178 16-16 16z"],"first-aid":[576,512,[],"f479","M0 80v352c0 26.5 21.5 48 48 48h48V32H48C21.5 32 0 53.5 0 80zm128 400h320V32H128v448zm64-248c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48zM528 32h-48v448h48c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],flag:[512,512,[],"f024","M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"],"flag-checkered":[512,512,[],"f11e","M466.515 66.928C487.731 57.074 512 72.551 512 95.944v243.1c0 10.526-5.161 20.407-13.843 26.358-35.837 24.564-74.335 40.858-122.505 40.858-67.373 0-111.63-34.783-165.217-34.783-50.853 0-86.124 10.058-114.435 22.122V488c0 13.255-10.745 24-24 24H56c-13.255 0-24-10.745-24-24V101.945C17.497 91.825 8 75.026 8 56 8 24.296 34.345-1.254 66.338.048c28.468 1.158 51.779 23.968 53.551 52.404.52 8.342-.81 16.31-3.586 23.562C137.039 68.384 159.393 64 184.348 64c67.373 0 111.63 34.783 165.217 34.783 40.496 0 82.612-15.906 116.95-31.855zM96 134.63v70.49c29-10.67 51.18-17.83 73.6-20.91v-71.57c-23.5 2.17-40.44 9.79-73.6 21.99zm220.8 9.19c-26.417-4.672-49.886-13.979-73.6-21.34v67.42c24.175 6.706 47.566 16.444 73.6 22.31v-68.39zm-147.2 40.39v70.04c32.796-2.978 53.91-.635 73.6 3.8V189.9c-25.247-7.035-46.581-9.423-73.6-5.69zm73.6 142.23c26.338 4.652 49.732 13.927 73.6 21.34v-67.41c-24.277-6.746-47.54-16.45-73.6-22.32v68.39zM96 342.1c23.62-8.39 47.79-13.84 73.6-16.56v-71.29c-26.11 2.35-47.36 8.04-73.6 17.36v70.49zm368-221.6c-21.3 8.85-46.59 17.64-73.6 22.47v71.91c27.31-4.36 50.03-14.1 73.6-23.89V120.5zm0 209.96v-70.49c-22.19 14.2-48.78 22.61-73.6 26.02v71.58c25.07-2.38 48.49-11.04 73.6-27.11zM316.8 212.21v68.16c25.664 7.134 46.616 9.342 73.6 5.62v-71.11c-25.999 4.187-49.943 2.676-73.6-2.67z"],flask:[448,512,[],"f0c3","M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"],folder:[512,512,[],"f07b","M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"],"folder-open":[576,512,[],"f07c","M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"],font:[448,512,[],"f031","M152 416h-24.013l26.586-80.782H292.8L319.386 416H296c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h136c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-26.739L275.495 42.746A16 16 0 0 0 260.382 32h-72.766a16 16 0 0 0-15.113 10.746L42.739 416H16c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h136c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16zm64.353-271.778c4.348-15.216 6.61-28.156 7.586-34.644.839 6.521 2.939 19.476 7.727 34.706l41.335 124.006h-98.619l41.971-124.068z"],"football-ball":[496,512,[],"f44e","M481.5 60.3c-4.8-18.2-19.1-32.5-37.3-37.4C420.3 16.5 383 8.9 339.4 8L496 164.8c-.8-43.5-8.2-80.6-14.5-104.5zm-467 391.4c4.8 18.2 19.1 32.5 37.3 37.4 23.9 6.4 61.2 14 104.8 14.9L0 347.2c.8 43.5 8.2 80.6 14.5 104.5zM4.2 283.4L220.4 500c132.5-19.4 248.8-118.7 271.5-271.4L275.6 12C143.1 31.4 26.8 130.7 4.2 283.4zm317.3-123.6c3.1-3.1 8.2-3.1 11.3 0l11.3 11.3c3.1 3.1 3.1 8.2 0 11.3l-28.3 28.3 28.3 28.3c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-28.3-28.3-22.6 22.7 28.3 28.3c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L248 278.6l-22.6 22.6 28.3 28.3c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-28.3-28.3-28.3 28.3c-3.1 3.1-8.2 3.1-11.3 0l-11.3-11.3c-3.1-3.1-3.1-8.2 0-11.3l28.3-28.3-28.3-28.2c-3.1-3.1-3.1-8.2 0-11.3l11.3-11.3c3.1-3.1 8.2-3.1 11.3 0l28.3 28.3 22.6-22.6-28.3-28.3c-3.1-3.1-3.1-8.2 0-11.3l11.3-11.3c3.1-3.1 8.2-3.1 11.3 0l28.3 28.3 22.6-22.6-28.3-28.3c-3.1-3.1-3.1-8.2 0-11.3l11.3-11.3c3.1-3.1 8.2-3.1 11.3 0l28.3 28.3 28.3-28.5z"],forward:[512,512,[],"f04e","M500.5 231.4l-192-160C287.9 54.3 256 68.6 256 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2zm-256 0l-192-160C31.9 54.3 0 68.6 0 96v320c0 27.4 31.9 41.8 52.5 24.6l192-160c15.3-12.8 15.3-36.4 0-49.2z"],frown:[512,512,[],"f119","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-396-64c0 37.497 30.503 68 68 68s68-30.503 68-68-30.503-68-68-68-68 30.503-68 68zm160.5 0c0 37.221 30.279 67.5 67.5 67.5s67.5-30.279 67.5-67.5-30.279-67.5-67.5-67.5-67.5 30.279-67.5 67.5zm67.5-48a47.789 47.789 0 0 0-22.603 5.647h.015c10.916 0 19.765 8.849 19.765 19.765s-8.849 19.765-19.765 19.765-19.765-8.849-19.765-19.765v-.015A47.789 47.789 0 0 0 288 192c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48zm-160 0a47.789 47.789 0 0 0-22.603 5.647h.015c10.916 0 19.765 8.849 19.765 19.765s-8.849 19.765-19.765 19.765-19.765-8.849-19.765-19.765v-.015A47.789 47.789 0 0 0 128 192c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48zm192.551 212.66c-59.128-91.455-165.846-91.594-225.064 0-11.502 17.79 15.383 35.148 26.873 17.374 46.626-72.118 124.862-71.855 171.318 0 11.328 17.524 38.548.684 26.873-17.374z"],futbol:[512,512,[],"f1e3","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-48 0l-.003-.282-26.064 22.741-62.679-58.5 16.454-84.355 34.303 3.072c-24.889-34.216-60.004-60.089-100.709-73.141l13.651 31.939L256 139l-74.953-41.525 13.651-31.939c-40.631 13.028-75.78 38.87-100.709 73.141l34.565-3.073 16.192 84.355-62.678 58.5-26.064-22.741-.003.282c0 43.015 13.497 83.952 38.472 117.991l7.704-33.897 85.138 10.447 36.301 77.826-29.902 17.786c40.202 13.122 84.29 13.148 124.572 0l-29.902-17.786 36.301-77.826 85.138-10.447 7.704 33.897C442.503 339.952 456 299.015 456 256zm-248.102 69.571l-29.894-91.312L256 177.732l77.996 56.527-29.622 91.312h-96.476z"],gamepad:[640,512,[],"f11b","M480 96H160C71.6 96 0 167.6 0 256s71.6 160 160 160c44.8 0 85.2-18.4 114.2-48h91.5c29 29.6 69.5 48 114.2 48 88.4 0 160-71.6 160-160S568.4 96 480 96zM256 276c0 6.6-5.4 12-12 12h-52v52c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-52H76c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h52v-52c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h52c6.6 0 12 5.4 12 12v40zm184 68c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-80c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"],gavel:[512,512,[],"f0e3","M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"],gem:[576,512,[],"f3a5","M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"],genderless:[288,512,[],"f22d","M144 176c44.1 0 80 35.9 80 80s-35.9 80-80 80-80-35.9-80-80 35.9-80 80-80m0-64C64.5 112 0 176.5 0 256s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144z"],gift:[512,512,[],"f06b","M488 192h-64.512C438.72 175.003 448 152.566 448 128c0-52.935-43.065-96-96-96-41.997 0-68.742 20.693-95.992 54.15C226.671 50.192 199.613 32 160 32c-52.935 0-96 43.065-96 96 0 24.566 9.28 47.003 24.512 64H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h8v112c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V320h8c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zm-208-32c24-56 55.324-64 72-64 17.645 0 32 14.355 32 32s-14.355 32-32 32h-72zM160 96c16.676 0 48 8 72 64h-72c-17.645 0-32-14.355-32-32s14.355-32 32-32zm48 128h96v184c0 13.255-10.745 24-24 24h-48c-13.255 0-24-10.745-24-24V224z"],"glass-martini":[512,512,[],"f000","M507.3 27.3c10-10 2.9-27.3-11.3-27.3H16C1.8 0-5.4 17.2 4.7 27.3L216 238.6V472h-92c-15.5 0-28 12.5-28 28 0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12 0-15.5-12.5-28-28-28h-92V238.6L507.3 27.3z"],globe:[512,512,[],"f0ac","M364.215 192h131.43c5.439 20.419 8.354 41.868 8.354 64s-2.915 43.581-8.354 64h-131.43c5.154-43.049 4.939-86.746 0-128zM185.214 352c10.678 53.68 33.173 112.514 70.125 151.992.221.001.44.008.661.008s.44-.008.661-.008c37.012-39.543 59.467-98.414 70.125-151.992H185.214zm174.13-192h125.385C452.802 84.024 384.128 27.305 300.95 12.075c30.238 43.12 48.821 96.332 58.394 147.925zm-27.35 32H180.006c-5.339 41.914-5.345 86.037 0 128h151.989c5.339-41.915 5.345-86.037-.001-128zM152.656 352H27.271c31.926 75.976 100.6 132.695 183.778 147.925-30.246-43.136-48.823-96.35-58.393-147.925zm206.688 0c-9.575 51.605-28.163 104.814-58.394 147.925 83.178-15.23 151.852-71.949 183.778-147.925H359.344zm-32.558-192c-10.678-53.68-33.174-112.514-70.125-151.992-.221 0-.44-.008-.661-.008s-.44.008-.661.008C218.327 47.551 195.872 106.422 185.214 160h141.572zM16.355 192C10.915 212.419 8 233.868 8 256s2.915 43.581 8.355 64h131.43c-4.939-41.254-5.154-84.951 0-128H16.355zm136.301-32c9.575-51.602 28.161-104.81 58.394-147.925C127.872 27.305 59.198 84.024 27.271 160h125.385z"],"golf-ball":[416,512,[],"f450","M96 416h224c0 17.7-14.3 32-32 32h-16c-17.7 0-32 14.3-32 32v20c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-20c0-17.7-14.3-32-32-32h-16c-17.7 0-32-14.3-32-32zm320-208c0 74.2-39 139.2-97.5 176h-221C39 347.2 0 282.2 0 208 0 93.1 93.1 0 208 0s208 93.1 208 208zm-180.1 43.9c18.3 0 33.1-14.8 33.1-33.1 0-14.4-9.3-26.3-22.1-30.9 9.6 26.8-15.6 51.3-41.9 41.9 4.6 12.8 16.5 22.1 30.9 22.1zm49.1 46.9c0-14.4-9.3-26.3-22.1-30.9 9.6 26.8-15.6 51.3-41.9 41.9 4.6 12.8 16.5 22.1 30.9 22.1 18.3 0 33.1-14.9 33.1-33.1zm64-64c0-14.4-9.3-26.3-22.1-30.9 9.6 26.8-15.6 51.3-41.9 41.9 4.6 12.8 16.5 22.1 30.9 22.1 18.3 0 33.1-14.9 33.1-33.1z"],"graduation-cap":[640,512,[],"f19d","M622.884 199.005l-275.817 85.1a96 96 0 0 1-54.134 0L92.398 222.232c-8.564 11.438-11.018 23.05-11.918 38.335C89.778 266.165 96 276.355 96 288c0 11.952-6.557 22.366-16.265 27.861l16.197 123.096c.63 4.786-3.1 9.043-7.932 9.043H40c-4.828 0-8.562-4.253-7.932-9.044L48.265 315.86C38.557 310.366 32 299.952 32 288c0-12.034 6.646-22.511 16.465-27.976.947-17.951 3.974-33.231 12.152-47.597l-43.502-13.422c-22.876-6.801-22.766-39.241 0-46.01l275.817-85.1a96 96 0 0 1 54.134 0l275.817 85.1c22.877 6.801 22.767 39.241.001 46.01zM356.503 314.682l-.207.064-.207.061a127.998 127.998 0 0 1-72.177 0l-.207-.061-.207-.064-150.914-46.57L120 352c0 35.346 89.543 64 200 64s200-28.654 200-64l-12.583-83.888-150.914 46.57z"],"h-square":[448,512,[],"f0fd","M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-112 48h-32c-8.837 0-16 7.163-16 16v80H160v-80c0-8.837-7.163-16-16-16h-32c-8.837 0-16 7.163-16 16v224c0 8.837 7.163 16 16 16h32c8.837 0 16-7.163 16-16v-80h128v80c0 8.837 7.163 16 16 16h32c8.837 0 16-7.163 16-16V144c0-8.837-7.163-16-16-16z"],"hand-lizard":[576,512,[],"f258","M384 480h192V363.778a95.998 95.998 0 0 0-14.833-51.263L398.127 54.368A48 48 0 0 0 357.544 32H24C10.745 32 0 42.745 0 56v16c0 30.928 25.072 56 56 56h229.981c12.844 0 21.556 13.067 16.615 24.923l-21.41 51.385A32 32 0 0 1 251.648 224H128c-35.346 0-64 28.654-64 64v8c0 13.255 10.745 24 24 24h147.406a47.995 47.995 0 0 1 25.692 7.455l111.748 70.811A24.001 24.001 0 0 1 384 418.539V480z"],"hand-paper":[448,512,[],"f256","M408.781 128.007C386.356 127.578 368 146.36 368 168.79V256h-8V79.79c0-22.43-18.356-41.212-40.781-40.783C297.488 39.423 280 57.169 280 79v177h-8V40.79C272 18.36 253.644-.422 231.219.007 209.488.423 192 18.169 192 40v216h-8V80.79c0-22.43-18.356-41.212-40.781-40.783C121.488 40.423 104 58.169 104 80v235.992l-31.648-43.519c-12.993-17.866-38.009-21.817-55.877-8.823-17.865 12.994-21.815 38.01-8.822 55.877l125.601 172.705A48 48 0 0 0 172.073 512h197.59c22.274 0 41.622-15.324 46.724-37.006l26.508-112.66a192.011 192.011 0 0 0 5.104-43.975V168c.001-21.831-17.487-39.577-39.218-39.993z"],"hand-peace":[448,512,[],"f25b","M408 216c-22.092 0-40 17.909-40 40h-8v-32c0-22.091-17.908-40-40-40s-40 17.909-40 40v32h-8V48c0-26.51-21.49-48-48-48s-48 21.49-48 48v208h-13.572L92.688 78.449C82.994 53.774 55.134 41.63 30.461 51.324 5.787 61.017-6.356 88.877 3.337 113.551l74.765 190.342-31.09 24.872c-15.381 12.306-19.515 33.978-9.741 51.081l64 112A39.998 39.998 0 0 0 136 512h240c18.562 0 34.686-12.77 38.937-30.838l32-136A39.97 39.97 0 0 0 448 336v-80c0-22.091-17.908-40-40-40z"],"hand-point-down":[384,512,[],"f0a7","M91.826 467.2V317.966c-8.248 5.841-16.558 10.57-24.918 14.153C35.098 345.752-.014 322.222 0 288c.008-18.616 10.897-32.203 29.092-40 28.286-12.122 64.329-78.648 77.323-107.534 7.956-17.857 25.479-28.453 43.845-28.464l.001-.002h171.526c11.812 0 21.897 8.596 23.703 20.269 7.25 46.837 38.483 61.76 38.315 123.731-.007 2.724.195 13.254.195 16 0 50.654-22.122 81.574-71.263 72.6-9.297 18.597-39.486 30.738-62.315 16.45-21.177 24.645-53.896 22.639-70.944 6.299V467.2c0 24.15-20.201 44.8-43.826 44.8-23.283 0-43.826-21.35-43.826-44.8zM112 72V24c0-13.255 10.745-24 24-24h192c13.255 0 24 10.745 24 24v48c0 13.255-10.745 24-24 24H136c-13.255 0-24-10.745-24-24zm212-24c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20z"],"hand-point-left":[512,512,[],"f0a5","M44.8 155.826h149.234c-5.841-8.248-10.57-16.558-14.153-24.918C166.248 99.098 189.778 63.986 224 64c18.616.008 32.203 10.897 40 29.092 12.122 28.286 78.648 64.329 107.534 77.323 17.857 7.956 28.453 25.479 28.464 43.845l.002.001v171.526c0 11.812-8.596 21.897-20.269 23.703-46.837 7.25-61.76 38.483-123.731 38.315-2.724-.007-13.254.195-16 .195-50.654 0-81.574-22.122-72.6-71.263-18.597-9.297-30.738-39.486-16.45-62.315-24.645-21.177-22.639-53.896-6.299-70.944H44.8c-24.15 0-44.8-20.201-44.8-43.826 0-23.283 21.35-43.826 44.8-43.826zM440 176h48c13.255 0 24 10.745 24 24v192c0 13.255-10.745 24-24 24h-48c-13.255 0-24-10.745-24-24V200c0-13.255 10.745-24 24-24zm24 212c11.046 0 20-8.954 20-20s-8.954-20-20-20-20 8.954-20 20 8.954 20 20 20z"],"hand-point-right":[512,512,[],"f0a4","M512 199.652c0 23.625-20.65 43.826-44.8 43.826h-99.851c16.34 17.048 18.346 49.766-6.299 70.944 14.288 22.829 2.147 53.017-16.45 62.315C353.574 425.878 322.654 448 272 448c-2.746 0-13.276-.203-16-.195-61.971.168-76.894-31.065-123.731-38.315C120.596 407.683 112 397.599 112 385.786V214.261l.002-.001c.011-18.366 10.607-35.889 28.464-43.845 28.886-12.994 95.413-49.038 107.534-77.323 7.797-18.194 21.384-29.084 40-29.092 34.222-.014 57.752 35.098 44.119 66.908-3.583 8.359-8.312 16.67-14.153 24.918H467.2c23.45 0 44.8 20.543 44.8 43.826zM96 200v192c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V200c0-13.255 10.745-24 24-24h48c13.255 0 24 10.745 24 24zM68 368c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20z"],"hand-point-up":[384,512,[],"f0a6","M135.652 0c23.625 0 43.826 20.65 43.826 44.8v99.851c17.048-16.34 49.766-18.346 70.944 6.299 22.829-14.288 53.017-2.147 62.315 16.45C361.878 158.426 384 189.346 384 240c0 2.746-.203 13.276-.195 16 .168 61.971-31.065 76.894-38.315 123.731C343.683 391.404 333.599 400 321.786 400H150.261l-.001-.002c-18.366-.011-35.889-10.607-43.845-28.464C93.421 342.648 57.377 276.122 29.092 264 10.897 256.203.008 242.616 0 224c-.014-34.222 35.098-57.752 66.908-44.119 8.359 3.583 16.67 8.312 24.918 14.153V44.8c0-23.45 20.543-44.8 43.826-44.8zM136 416h192c13.255 0 24 10.745 24 24v48c0 13.255-10.745 24-24 24H136c-13.255 0-24-10.745-24-24v-48c0-13.255 10.745-24 24-24zm168 28c-11.046 0-20 8.954-20 20s8.954 20 20 20 20-8.954 20-20-8.954-20-20-20z"],"hand-pointer":[448,512,[],"f25a","M448 240v96c0 3.084-.356 6.159-1.063 9.162l-32 136C410.686 499.23 394.562 512 376 512H168a40.004 40.004 0 0 1-32.35-16.473l-127.997-176c-12.993-17.866-9.043-42.883 8.822-55.876 17.867-12.994 42.884-9.043 55.877 8.823L104 315.992V40c0-22.091 17.908-40 40-40s40 17.909 40 40v200h8v-40c0-22.091 17.908-40 40-40s40 17.909 40 40v40h8v-24c0-22.091 17.908-40 40-40s40 17.909 40 40v24h8c0-22.091 17.908-40 40-40s40 17.909 40 40zm-256 80h-8v96h8v-96zm88 0h-8v96h8v-96zm88 0h-8v96h8v-96z"],"hand-rock":[512,512,[],"f255","M512 128.79c0-26.322-20.861-48.344-47.18-48.783C437.935 79.558 416 101.217 416 128h-8V96.79c0-26.322-20.861-48.344-47.18-48.783C333.935 47.558 312 69.217 312 96v32h-8V80.79c0-26.322-20.861-48.344-47.18-48.783C229.935 31.558 208 53.217 208 80v48h-8V96.79c0-26.322-20.861-48.344-47.18-48.783C125.935 47.558 104 69.217 104 96v136l-8-7.111V176.79c0-26.322-20.861-48.344-47.18-48.783C21.935 127.558 0 149.217 0 176v66.445a95.998 95.998 0 0 0 32.221 71.751l111.668 99.261A47.999 47.999 0 0 1 160 449.333V456c0 13.255 10.745 24 24 24h240c13.255 0 24-10.745 24-24v-2.921a96.01 96.01 0 0 1 7.523-37.254l48.954-116.265A96.002 96.002 0 0 0 512 262.306V128.79z"],"hand-scissors":[512,512,[],"f257","M216 440c0-22.092 17.909-40 40-40v-8h-32c-22.091 0-40-17.908-40-40s17.909-40 40-40h32v-8H48c-26.51 0-48-21.49-48-48s21.49-48 48-48h208v-13.572l-177.551-69.74c-24.674-9.694-36.818-37.555-27.125-62.228 9.693-24.674 37.554-36.817 62.228-27.124l190.342 74.765 24.872-31.09c12.306-15.381 33.978-19.515 51.081-9.741l112 64A40.002 40.002 0 0 1 512 168v240c0 18.562-12.77 34.686-30.838 38.937l-136 32A39.982 39.982 0 0 1 336 480h-80c-22.091 0-40-17.908-40-40z"],"hand-spock":[512,512,[],"f259","M10.872 316.585c15.139-16.086 40.454-16.854 56.543-1.713L128 371.893v-79.405L88.995 120.865c-4.896-21.542 8.598-42.974 30.14-47.87 21.549-4.894 42.975 8.599 47.87 30.141L201.747 256h9.833L164.016 48.966c-4.946-21.531 8.498-42.994 30.028-47.94 21.532-4.95 42.994 8.498 47.94 30.028L293.664 256h15.105l48.425-193.702c5.357-21.432 27.075-34.462 48.507-29.104 21.432 5.358 34.463 27.075 29.104 48.507L391.231 256h11.08l30.768-129.265c5.117-21.491 26.685-34.768 48.177-29.647 21.491 5.117 34.765 26.686 29.647 48.177l-36.292 152.467A96.024 96.024 0 0 0 472 319.967v42.102a96.002 96.002 0 0 1-3.96 27.287l-26.174 88.287C435.825 498.022 417.101 512 395.846 512H179.172a48.002 48.002 0 0 1-32.898-13.046L12.585 373.128c-16.087-15.141-16.853-40.456-1.713-56.543z"],handshake:[640,512,[],"f2b5","M72 112H24c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24V136c0-13.255-10.745-24-24-24zM48 340c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20zm568-228h-48c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24V136c0-13.255-10.745-24-24-24zm-24 228c-11.046 0-20-8.954-20-20s8.954-20 20-20 20 8.954 20 20-8.954 20-20 20zM485.94 92.67L528 140.74V320h-19.17c.56-14.96-4.38-28.98-14-39.71l-80.92-98.91c2.93-3.2 2.76-8.16-.38-11.16-2.82-2.7-7.08-2.92-10.14-.76-.42.3-60.35 62.93-60.35 62.93l-.2.21c-23.904 26.905-66.127 26.204-89.15-1.42-15.48-18.58-15.29-45.39.45-63.76l66.57-77.67C334.304 73.88 354.534 64 376.7 64h46.05a83.98 83.98 0 0 1 63.19 28.67zm-3.37 197.92c15.46 16.78 12.59 43.83-2.37 57.75-17.711 16.462-42.433 13.004-45.93 9.2 1.653 15.658-21.389 47.249-56.42 44.68-6.325 21.185-32.298 38.909-59.18 29.61-10.22 10.21-25.82 14.97-39.81 14.97-28.69 0-54.92-11.99-72.58-30.8L112 320V135.52l61.36-50.57A71.52 71.52 0 0 1 223.93 64h37.42c16.73 0 32.68 6.84 44.21 18.85l-63.57 74.16c-20.84 24.31-21.09 59.81-.59 84.42 29.375 35.247 83.007 35.853 113.31 1.92L402.82 193l79.75 97.59z"],hashtag:[448,512,[],"f292","M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"],hdd:[576,512,[],"f0a0","M576 304v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48zm-48-80a79.557 79.557 0 0 1 30.777 6.165L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L17.223 230.165A79.557 79.557 0 0 1 48 224h480zm-48 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm-96 0c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32z"],heading:[512,512,[],"f1dc","M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"],headphones:[512,512,[],"f025","M256 32C114.52 32 0 146.496 0 288v48a32 32 0 0 0 17.689 28.622l14.383 7.191C34.083 431.903 83.421 480 144 480h24c13.255 0 24-10.745 24-24V280c0-13.255-10.745-24-24-24h-24c-31.342 0-59.671 12.879-80 33.627V288c0-105.869 86.131-192 192-192s192 86.131 192 192v1.627C427.671 268.879 399.342 256 368 256h-24c-13.255 0-24 10.745-24 24v176c0 13.255 10.745 24 24 24h24c60.579 0 109.917-48.098 111.928-108.187l14.382-7.191A32 32 0 0 0 512 336v-48c0-141.479-114.496-256-256-256z"],heart:[576,512,[],"f004","M414.9 24C361.8 24 312 65.7 288 89.3 264 65.7 214.2 24 161.1 24 70.3 24 16 76.9 16 165.5c0 72.6 66.8 133.3 69.2 135.4l187 180.8c8.8 8.5 22.8 8.5 31.6 0l186.7-180.2c2.7-2.7 69.5-63.5 69.5-136C560 76.9 505.7 24 414.9 24z"],heartbeat:[512,512,[],"f21e","M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"],history:[512,512,[],"f1da","M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"],"hockey-puck":[512,512,[],"f453","M0 160c0-53 114.6-96 256-96s256 43 256 96-114.6 96-256 96S0 213 0 160zm0 82.2V352c0 53 114.6 96 256 96s256-43 256-96V242.2c-113.4 82.3-398.5 82.4-512 0z"],home:[576,512,[],"f015","M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z"],hospital:[448,512,[],"f0f8","M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"],"hospital-symbol":[512,512,[],"f47e","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zm112 376c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-88h-96v88c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V136c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v88h96v-88c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v240z"],hourglass:[384,512,[],"f254","M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64z"],"hourglass-end":[384,512,[],"f253","M360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64zM192 208c-57.787 0-104-66.518-104-144h208c0 77.945-46.51 144-104 144z"],"hourglass-half":[384,512,[],"f252","M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"],"hourglass-start":[384,512,[],"f251","M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-64 448H88c0-77.458 46.204-144 104-144 57.786 0 104 66.517 104 144z"],"i-cursor":[256,512,[],"f246","M256 52.048V12.065C256 5.496 250.726.148 244.158.066 211.621-.344 166.469.011 128 37.959 90.266.736 46.979-.114 11.913.114 5.318.157 0 5.519 0 12.114v39.645c0 6.687 5.458 12.078 12.145 11.998C38.111 63.447 96 67.243 96 112.182V224H60c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h36v112c0 44.932-56.075 48.031-83.95 47.959C5.404 447.942 0 453.306 0 459.952v39.983c0 6.569 5.274 11.917 11.842 11.999 32.537.409 77.689.054 116.158-37.894 37.734 37.223 81.021 38.073 116.087 37.845 6.595-.043 11.913-5.405 11.913-12V460.24c0-6.687-5.458-12.078-12.145-11.998C217.889 448.553 160 444.939 160 400V288h36c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-36V112.182c0-44.932 56.075-48.213 83.95-48.142 6.646.018 12.05-5.346 12.05-11.992z"],"id-badge":[384,512,[],"f2c1","M336 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V48c0-26.51-21.49-48-48-48zM128 44c0-6.627 5.373-12 12-12h104c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12H140c-6.627 0-12-5.373-12-12v-8zm64 116c44.183 0 80 35.817 80 80s-35.817 80-80 80-80-35.817-80-80 35.817-80 80-80zm128 232c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24v-18.523c0-22.026 14.99-41.225 36.358-46.567l35.656-8.914c29.101 20.932 74.509 26.945 111.97 0l35.656 8.914c21.37 5.342 36.36 24.542 36.36 46.567V392z"],"id-card":[512,512,[],"f2c2","M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zM256 350c0 9.941-8.059 18-18 18H82c-9.941 0-18-8.059-18-18v-13.892c0-16.519 11.243-30.919 27.269-34.925l26.742-6.686c21.826 15.699 55.882 20.209 83.978 0l26.743 6.686C244.757 305.189 256 319.589 256 336.108V350zM100 236c0-33.137 26.863-60 60-60s60 26.863 60 60-26.863 60-60 60-60-26.863-60-60zm348 104c0 6.627-5.373 12-12 12H300c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v8zm0-64c0 6.627-5.373 12-12 12H300c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v8zm0-64c0 6.627-5.373 12-12 12H300c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12v8zm32-96c0 6.627-5.373 12-12 12H44c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v8z"],image:[512,512,[],"f03e","M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"],images:[576,512,[],"f302","M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"],inbox:[576,512,[],"f01c","M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"],indent:[448,512,[],"f03c","M0 84V44c0-8.837 7.163-16 16-16h416c8.837 0 16 7.163 16 16v40c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16zm176 144h256c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H176c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zM16 484h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm160-128h256c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H176c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm-52.687-111.313l-96-95.984C17.266 138.652 0 145.776 0 160.016v191.975c0 14.329 17.325 21.304 27.313 11.313l96-95.992c6.249-6.247 6.249-16.377 0-22.625z"],industry:[512,512,[],"f275","M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"],info:[192,512,[],"f129","M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"],"info-circle":[512,512,[],"f05a","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"],italic:[320,512,[],"f033","M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"],key:[512,512,[],"f084","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"],keyboard:[576,512,[],"f11c","M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"],language:[640,512,[],"f1ab","M304 416H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h280v320zm-120.676-72.622A12 12 0 0 0 194.839 352h22.863c8.22 0 14.007-8.078 11.362-15.861L171.61 167.085a12 12 0 0 0-11.362-8.139h-32.489a12.001 12.001 0 0 0-11.362 8.139L58.942 336.139C56.297 343.922 62.084 352 70.304 352h22.805a12 12 0 0 0 11.535-8.693l9.118-31.807h60.211l9.351 31.878zm-39.051-140.42s4.32 21.061 7.83 33.21l10.8 37.531h-38.07l11.07-37.531c3.51-12.15 7.83-33.21 7.83-33.21h.54zM616 416H336V96h280c13.255 0 24 10.745 24 24v272c0 13.255-10.745 24-24 24zm-36-228h-64v-16c0-6.627-5.373-12-12-12h-16c-6.627 0-12 5.373-12 12v16h-64c-6.627 0-12 5.373-12 12v16c0 6.627 5.373 12 12 12h114.106c-6.263 14.299-16.518 28.972-30.023 43.206-6.56-6.898-12.397-13.91-17.365-20.933-3.639-5.144-10.585-6.675-15.995-3.446l-7.28 4.346-6.498 3.879c-5.956 3.556-7.693 11.421-3.735 17.117 6.065 8.729 13.098 17.336 20.984 25.726-8.122 6.226-16.841 12.244-26.103 17.964-5.521 3.41-7.381 10.556-4.162 16.19l7.941 13.896c3.362 5.883 10.935 7.826 16.706 4.276 12.732-7.831 24.571-16.175 35.443-24.891 10.917 8.761 22.766 17.102 35.396 24.881 5.774 3.556 13.353 1.618 16.717-4.27l7.944-13.903c3.213-5.623 1.37-12.76-4.135-16.171a312.737 312.737 0 0 1-26.06-18.019c21.024-22.425 35.768-46.289 42.713-69.85H580c6.627 0 12-5.373 12-12v-16c0-6.625-5.373-11.998-12-11.998z"],laptop:[640,512,[],"f109","M512 64v256H128V64h384m16-64H112C85.5 0 64 21.5 64 48v288c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm100 416H389.5c-3 0-5.5 2.1-5.9 5.1C381.2 436.3 368 448 352 448h-64c-16 0-29.2-11.7-31.6-26.9-.5-2.9-3-5.1-5.9-5.1H12c-6.6 0-12 5.4-12 12v36c0 26.5 21.5 48 48 48h544c26.5 0 48-21.5 48-48v-36c0-6.6-5.4-12-12-12z"],leaf:[576,512,[],"f06c","M395.4 420.8c-43.4 21.6-91.9 34.4-140.8 34.4-82.2 0-151.1-40.1-151.1-40.1-16.1 0-35.4 64.9-63.3 64.9-27 0-40.2-24-40.2-38.5 0-33.1 63.6-58.9 63.6-77.3 0 0-12.5-21.2-12.5-59.2 0-101.2 81.3-173.4 172.6-203.3 65.9-21.6 206 3.5 250.7-38.5C492.1 47 500.8 32 527.8 32c36.3 0 48.2 93.2 48.2 120.3 0 110.9-54.5 206.5-180.6 268.5zm-254.3-75.6c63.5-89.9 144.5-128.8 257.7-120 8.8.7 16.5-5.9 17.2-14.7.7-8.8-5.9-16.5-14.7-17.2-124-9.6-215.9 33.9-286.3 133.5-5.1 7.2-3.4 17.2 3.8 22.3 7.2 5.1 17.2 3.4 22.3-3.9z"],lemon:[512,512,[],"f094","M489.038 22.963C465.944-.13 434.648-5.93 413.947 6.129c-58.906 34.312-181.25-53.077-321.073 86.746S40.441 355.041 6.129 413.945c-12.059 20.702-6.26 51.999 16.833 75.093 23.095 23.095 54.392 28.891 75.095 16.832 58.901-34.31 181.246 53.079 321.068-86.743S471.56 156.96 505.871 98.056c12.059-20.702 6.261-51.999-16.833-75.093zM243.881 95.522c-58.189 14.547-133.808 90.155-148.358 148.358-1.817 7.27-8.342 12.124-15.511 12.124-1.284 0-2.59-.156-3.893-.481-8.572-2.144-13.784-10.83-11.642-19.403C81.901 166.427 166.316 81.93 236.119 64.478c8.575-2.143 17.261 3.069 19.403 11.642s-3.069 17.259-11.641 19.402z"],"level-down-alt":[320,512,[],"f3be","M313.553 392.331L209.587 504.334c-9.485 10.214-25.676 10.229-35.174 0L70.438 392.331C56.232 377.031 67.062 352 88.025 352H152V80H68.024a11.996 11.996 0 0 1-8.485-3.515l-56-56C-4.021 12.926 1.333 0 12.024 0H208c13.255 0 24 10.745 24 24v328h63.966c20.878 0 31.851 24.969 17.587 40.331z"],"level-up-alt":[320,512,[],"f3bf","M313.553 119.669L209.587 7.666c-9.485-10.214-25.676-10.229-35.174 0L70.438 119.669C56.232 134.969 67.062 160 88.025 160H152v272H68.024a11.996 11.996 0 0 0-8.485 3.515l-56 56C-4.021 499.074 1.333 512 12.024 512H208c13.255 0 24-10.745 24-24V160h63.966c20.878 0 31.851-24.969 17.587-40.331z"],"life-ring":[512,512,[],"f1cd","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm173.696 119.559l-63.399 63.399c-10.987-18.559-26.67-34.252-45.255-45.255l63.399-63.399a218.396 218.396 0 0 1 45.255 45.255zM256 352c-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96-42.981 96-96 96zM127.559 82.304l63.399 63.399c-18.559 10.987-34.252 26.67-45.255 45.255l-63.399-63.399a218.372 218.372 0 0 1 45.255-45.255zM82.304 384.441l63.399-63.399c10.987 18.559 26.67 34.252 45.255 45.255l-63.399 63.399a218.396 218.396 0 0 1-45.255-45.255zm302.137 45.255l-63.399-63.399c18.559-10.987 34.252-26.67 45.255-45.255l63.399 63.399a218.403 218.403 0 0 1-45.255 45.255z"],lightbulb:[384,512,[],"f0eb","M272 428v28c0 10.449-6.68 19.334-16 22.629V488c0 13.255-10.745 24-24 24h-80c-13.255 0-24-10.745-24-24v-9.371c-9.32-3.295-16-12.18-16-22.629v-28c0-6.627 5.373-12 12-12h136c6.627 0 12 5.373 12 12zm-143.107-44c-9.907 0-18.826-6.078-22.376-15.327C67.697 267.541 16 277.731 16 176 16 78.803 94.805 0 192 0s176 78.803 176 176c0 101.731-51.697 91.541-90.516 192.673-3.55 9.249-12.47 15.327-22.376 15.327H128.893zM112 176c0-44.112 35.888-80 80-80 8.837 0 16-7.164 16-16s-7.163-16-16-16c-61.757 0-112 50.243-112 112 0 8.836 7.164 16 16 16s16-7.164 16-16z"],link:[512,512,[],"f0c1","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"],"lira-sign":[384,512,[],"f195","M371.994 256h-48.019C317.64 256 312 260.912 312 267.246 312 368 230.179 416 144 416V256.781l134.603-29.912A12 12 0 0 0 288 215.155v-40.976c0-7.677-7.109-13.38-14.603-11.714L144 191.219V160.78l134.603-29.912A12 12 0 0 0 288 119.154V78.179c0-7.677-7.109-13.38-14.603-11.714L144 95.219V44c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v68.997L9.397 125.131A12 12 0 0 0 0 136.845v40.976c0 7.677 7.109 13.38 14.603 11.714L64 178.558v30.439L9.397 221.131A12 12 0 0 0 0 232.845v40.976c0 7.677 7.109 13.38 14.603 11.714L64 274.558V468c0 6.627 5.373 12 12 12h79.583c134.091 0 223.255-77.834 228.408-211.592.261-6.782-5.211-12.408-11.997-12.408z"],list:[512,512,[],"f03a","M128 116V76c0-8.837 7.163-16 16-16h352c8.837 0 16 7.163 16 16v40c0 8.837-7.163 16-16 16H144c-8.837 0-16-7.163-16-16zm16 176h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zM16 144h64c8.837 0 16-7.163 16-16V64c0-8.837-7.163-16-16-16H16C7.163 48 0 55.163 0 64v64c0 8.837 7.163 16 16 16zm0 160h64c8.837 0 16-7.163 16-16v-64c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v64c0 8.837 7.163 16 16 16zm0 160h64c8.837 0 16-7.163 16-16v-64c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v64c0 8.837 7.163 16 16 16z"],"list-alt":[512,512,[],"f022","M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"],"list-ol":[512,512,[],"f0cb","M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"],"list-ul":[512,512,[],"f0ca","M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"],"location-arrow":[512,512,[],"f124","M443.683 4.529L27.818 196.418C-18.702 217.889-3.39 288 47.933 288H224v175.993c0 51.727 70.161 66.526 91.582 20.115L507.38 68.225c18.905-40.961-23.752-82.133-63.697-63.696z"],lock:[448,512,[],"f023","M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"],"lock-open":[576,512,[],"f3c1","M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z"],"long-arrow-alt-down":[256,512,[],"f309","M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"],"long-arrow-alt-left":[448,512,[],"f30a","M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"],"long-arrow-alt-right":[448,512,[],"f30b","M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"],"long-arrow-alt-up":[256,512,[],"f30c","M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"],"low-vision":[576,512,[],"f2a8","M569.344 231.631C512.96 135.949 407.81 72 288 72c-28.468 0-56.102 3.619-82.451 10.409L152.778 10.24c-7.601-10.858-22.564-13.5-33.423-5.9l-13.114 9.178c-10.86 7.601-13.502 22.566-5.9 33.426l43.131 58.395C89.449 131.73 40.228 174.683 6.682 231.581c-.01.017-.023.033-.034.05-8.765 14.875-8.964 33.528 0 48.739 38.5 65.332 99.742 115.862 172.859 141.349L55.316 244.302A272.194 272.194 0 0 1 83.61 208.39l119.4 170.58h.01l40.63 58.04a330.055 330.055 0 0 0 78.94 1.17l-189.98-271.4a277.628 277.628 0 0 1 38.777-21.563l251.836 356.544c7.601 10.858 22.564 13.499 33.423 5.9l13.114-9.178c10.86-7.601 13.502-22.567 5.9-33.426l-43.12-58.377-.007-.009c57.161-27.978 104.835-72.04 136.81-126.301a47.938 47.938 0 0 0 .001-48.739zM390.026 345.94l-19.066-27.23c24.682-32.567 27.711-76.353 8.8-111.68v.03c0 23.65-19.17 42.82-42.82 42.82-23.828 0-42.82-19.349-42.82-42.82 0-23.65 19.17-42.82 42.82-42.82h.03c-24.75-13.249-53.522-15.643-79.51-7.68l-19.068-27.237C253.758 123.306 270.488 120 288 120c75.162 0 136 60.826 136 136 0 34.504-12.833 65.975-33.974 89.94z"],magic:[512,512,[],"f0d0","M101.1 505L7 410.9c-9.4-9.4-9.4-24.6 0-33.9L377 7c9.4-9.4 24.6-9.4 33.9 0l94.1 94.1c9.4 9.4 9.4 24.6 0 33.9L135 505c-9.3 9.3-24.5 9.3-33.9 0zM304 159.2l48.8 48.8 89.9-89.9-48.8-48.8-89.9 89.9zM138.9 39.3l-11.7 23.8-26.2 3.8c-4.7.7-6.6 6.5-3.2 9.8l19 18.5-4.5 26.1c-.8 4.7 4.1 8.3 8.3 6.1L144 115l23.4 12.3c4.2 2.2 9.1-1.4 8.3-6.1l-4.5-26.1 19-18.5c3.4-3.3 1.5-9.1-3.2-9.8L160.8 63l-11.7-23.8c-2-4.1-8.1-4.1-10.2.1zm97.7-20.7l-7.8 15.8-17.5 2.6c-3.1.5-4.4 4.3-2.1 6.5l12.6 12.3-3 17.4c-.5 3.1 2.8 5.5 5.6 4L240 69l15.6 8.2c2.8 1.5 6.1-.9 5.6-4l-3-17.4 12.6-12.3c2.3-2.2 1-6.1-2.1-6.5l-17.5-2.5-7.8-15.8c-1.4-3-5.4-3-6.8-.1zm-192 0l-7.8 15.8L19.3 37c-3.1.5-4.4 4.3-2.1 6.5l12.6 12.3-3 17.4c-.5 3.1 2.8 5.5 5.6 4L48 69l15.6 8.2c2.8 1.5 6.1-.9 5.6-4l-3-17.4 12.6-12.3c2.3-2.2 1-6.1-2.1-6.5l-17.5-2.5-7.8-15.8c-1.4-3-5.4-3-6.8-.1zm416 223.5l-7.8 15.8-17.5 2.5c-3.1.5-4.4 4.3-2.1 6.5l12.6 12.3-3 17.4c-.5 3.1 2.8 5.5 5.6 4l15.6-8.2 15.6 8.2c2.8 1.5 6.1-.9 5.6-4l-3-17.4 12.6-12.3c2.3-2.2 1-6.1-2.1-6.5l-17.5-2.5-7.8-15.8c-1.4-2.8-5.4-2.8-6.8 0z"],magnet:[512,512,[],"f076","M164.1 160H12c-6.6 0-12-5.4-12-12V68c0-19.9 16.1-36 36-36h104c19.9 0 36 16.1 36 36v80c.1 6.6-5.3 12-11.9 12zm348-12V67.9c0-19.9-16.1-36-36-36h-104c-19.9 0-36 16.1-36 36v80c0 6.6 5.4 12 12 12h152c6.6.1 12-5.3 12-11.9zm-164 44c-6.6 0-12 5.4-12 12v52c0 128.1-160 127.9-160 0v-52c0-6.6-5.4-12-12-12h-152c-6.7 0-12 5.4-12 12.1.1 21.4.6 40.3 0 53.3C.1 408 136.3 504 256.9 504 377.5 504 512 408 512 257.3c-.6-12.8-.2-33 0-53.2 0-6.7-5.3-12.1-12-12.1H348.1z"],male:[192,512,[],"f183","M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"],map:[576,512,[],"f279","M576 56.015v335.97a23.998 23.998 0 0 1-13.267 21.466l-128 64C418.948 485.344 400 473.992 400 455.985v-335.97a23.998 23.998 0 0 1 13.267-21.466l128-64C557.052 26.656 576 38.008 576 56.015zm-206.253 42.07l-144-64c-15.751-7-33.747 4.461-33.747 21.932v335.967a24 24 0 0 0 14.253 21.931l144 64c15.751 7 33.747-4.461 33.747-21.931V120.017a24 24 0 0 0-14.253-21.932zm-228.48-63.536l-128 63.985A23.998 23.998 0 0 0 0 120v335.985c0 18.007 18.948 29.359 34.733 21.466l128-63.985A23.998 23.998 0 0 0 176 392V56.015c0-18.007-18.948-29.359-34.733-21.466z"],"map-marker":[384,512,[],"f041","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0z"],"map-marker-alt":[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"],"map-pin":[320,512,[],"f276","M192 300.813v172.82l-22.015 33.023c-4.75 7.125-15.219 7.125-19.969 0L128 473.633v-172.82a162.221 162.221 0 0 0 64 0zM160 0c79.529 0 144 64.471 144 144s-64.471 144-144 144S16 223.529 16 144 80.471 0 160 0M80 136c0-39.701 32.299-72 72-72a8 8 0 0 0 0-16c-48.523 0-88 39.477-88 88a8 8 0 0 0 16 0z"],"map-signs":[512,512,[],"f277","M487.515 104.485L439.03 152.97a23.998 23.998 0 0 1-16.97 7.029H56c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h160v-8c0-13.255 10.745-24 24-24h32c13.255 0 24 10.745 24 24v8h126.059a24 24 0 0 1 16.97 7.029l48.485 48.485c4.687 4.687 4.687 12.285.001 16.971zM216 368v120c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V368h-80zm240-144H296v-48h-80v48H89.941a24 24 0 0 0-16.97 7.029l-48.485 48.485c-4.686 4.686-4.686 12.284 0 16.971l48.485 48.485a23.998 23.998 0 0 0 16.97 7.029H456c13.255 0 24-10.745 24-24v-80C480 234.745 469.255 224 456 224z"],mars:[384,512,[],"f222","M372 64h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7c-22.2-14-48.5-22.1-76.7-22.1C64.5 160 0 224.5 0 304s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V76c0-6.6-5.4-12-12-12zM144 384c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"],"mars-double":[512,512,[],"f227","M340 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-48.7 48.7C198.5 72.1 172.2 64 144 64 64.5 64 0 128.5 0 208s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l48.7-48.7 16.9 16.9c2.4 2.4 5.5 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V12c0-6.6-5.4-12-12-12zM144 288c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm356-128.1h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-48.7 48.7c-18.2-11.4-39-18.9-61.5-21.3-2.1 21.8-8.2 43.3-18.4 63.3 1.1 0 2.2-.1 3.2-.1 44.1 0 80 35.9 80 80s-35.9 80-80 80-80-35.9-80-80c0-1.1 0-2.2.1-3.2-20 10.2-41.5 16.4-63.3 18.4C168.4 455.6 229.6 512 304 512c79.5 0 144-64.5 144-144 0-28.2-8.1-54.5-22.1-76.7l48.7-48.7 16.9 16.9c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12v-79c0-6.7-5.4-12.1-12-12.1z"],"mars-stroke":[384,512,[],"f229","M372 64h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-17.5 17.5-14.1-14.1c-4.7-4.7-12.3-4.7-17 0L224.5 133c-4.7 4.7-4.7 12.3 0 17l14.1 14.1-18 18c-22.2-14-48.5-22.1-76.7-22.1C64.5 160 0 224.5 0 304s64.5 144 144 144 144-64.5 144-144c0-28.2-8.1-54.5-22.1-76.7l18-18 14.1 14.1c4.7 4.7 12.3 4.7 17 0l28.3-28.3c4.7-4.7 4.7-12.3 0-17L329.2 164l17.5-17.5 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V76c-.1-6.6-5.5-12-12.1-12zM144 384c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"],"mars-stroke-h":[480,512,[],"f22b","M476.2 247.5l-55.9-55.9c-7.6-7.6-20.5-2.2-20.5 8.5V224H376v-20c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v20h-27.6c-5.8-25.6-18.7-49.9-38.6-69.8C189.6 98 98.4 98 42.2 154.2c-56.2 56.2-56.2 147.4 0 203.6 56.2 56.2 147.4 56.2 203.6 0 19.9-19.9 32.8-44.2 38.6-69.8H312v20c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-20h23.9v23.9c0 10.7 12.9 16 20.5 8.5l55.9-55.9c4.6-4.7 4.6-12.3-.1-17zm-275.6 65.1c-31.2 31.2-81.9 31.2-113.1 0-31.2-31.2-31.2-81.9 0-113.1 31.2-31.2 81.9-31.2 113.1 0 31.2 31.1 31.2 81.9 0 113.1z"],"mars-stroke-v":[288,512,[],"f22a","M245.8 234.2c-19.9-19.9-44.2-32.8-69.8-38.6v-25.4h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V81.4h23.9c10.7 0 16-12.9 8.5-20.5L152.5 5.1c-4.7-4.7-12.3-4.7-17 0L79.6 61c-7.6 7.6-2.2 20.5 8.5 20.5H112v24.7H92c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h20v25.4c-25.6 5.8-49.9 18.7-69.8 38.6-56.2 56.2-56.2 147.4 0 203.6 56.2 56.2 147.4 56.2 203.6 0 56.3-56.2 56.3-147.4 0-203.6zm-45.2 158.4c-31.2 31.2-81.9 31.2-113.1 0-31.2-31.2-31.2-81.9 0-113.1 31.2-31.2 81.9-31.2 113.1 0 31.2 31.1 31.2 81.9 0 113.1z"],medkit:[512,512,[],"f0fa","M96 480h320V128h-32V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v48H96v352zm96-384h128v32H192V96zm320 80v256c0 26.51-21.49 48-48 48h-16V128h16c26.51 0 48 21.49 48 48zM64 480H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v352zm288-208v32c0 8.837-7.163 16-16 16h-48v48c0 8.837-7.163 16-16 16h-32c-8.837 0-16-7.163-16-16v-48h-48c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h48v-48c0-8.837 7.163-16 16-16h32c8.837 0 16 7.163 16 16v48h48c8.837 0 16 7.163 16 16z"],meh:[512,512,[],"f11a","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-396-64c0 37.497 30.503 68 68 68s68-30.503 68-68-30.503-68-68-68-68 30.503-68 68zm160.5 0c0 37.221 30.279 67.5 67.5 67.5s67.5-30.279 67.5-67.5-30.279-67.5-67.5-67.5-67.5 30.279-67.5 67.5zm67.5-48a47.789 47.789 0 0 0-22.603 5.647h.015c10.916 0 19.765 8.849 19.765 19.765s-8.849 19.765-19.765 19.765-19.765-8.849-19.765-19.765v-.015A47.789 47.789 0 0 0 288 192c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48zm-160 0a47.789 47.789 0 0 0-22.603 5.647h.015c10.916 0 19.765 8.849 19.765 19.765s-8.849 19.765-19.765 19.765-19.765-8.849-19.765-19.765v-.015A47.789 47.789 0 0 0 128 192c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48zm160 208H176c-21.178 0-21.169 32 0 32h160c21.178 0 21.169-32 0-32z"],mercury:[288,512,[],"f223","M288 208c0-44.2-19.9-83.7-51.2-110.1 2.5-1.8 4.9-3.8 7.2-5.8 24.7-21.2 39.8-48.8 43.2-78.8.9-7.1-4.7-13.3-11.9-13.3h-40.5C229 0 224.1 4.1 223 9.8c-2.4 12.5-9.6 24.3-20.7 33.8C187 56.8 166.3 64 144 64s-43-7.2-58.4-20.4C74.5 34.1 67.4 22.3 64.9 9.8 63.8 4.1 58.9 0 53.2 0H12.7C5.5 0-.1 6.2.8 13.3 4.2 43.4 19.2 71 44 92.2c2.3 2 4.7 3.9 7.2 5.8C19.9 124.3 0 163.8 0 208c0 68.5 47.9 125.9 112 140.4V400H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80z"],microchip:[512,512,[],"f2db","M416 48v416c0 26.51-21.49 48-48 48H144c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h224c26.51 0 48 21.49 48 48zm96 58v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42V88h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zm0 96v12a6 6 0 0 1-6 6h-18v6a6 6 0 0 1-6 6h-42v-48h42a6 6 0 0 1 6 6v6h18a6 6 0 0 1 6 6zM30 376h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6zm0-96h42v48H30a6 6 0 0 1-6-6v-6H6a6 6 0 0 1-6-6v-12a6 6 0 0 1 6-6h18v-6a6 6 0 0 1 6-6z"],microphone:[384,512,[],"f130","M96 256V96c0-53.019 42.981-96 96-96s96 42.981 96 96v160c0 53.019-42.981 96-96 96s-96-42.981-96-96zm252-56h-24c-6.627 0-12 5.373-12 12v42.68c0 66.217-53.082 120.938-119.298 121.318C126.213 376.38 72 322.402 72 256v-44c0-6.627-5.373-12-12-12H36c-6.627 0-12 5.373-12 12v44c0 84.488 62.693 154.597 144 166.278V468h-68c-6.627 0-12 5.373-12 12v20c0 6.627 5.373 12 12 12h184c6.627 0 12-5.373 12-12v-20c0-6.627-5.373-12-12-12h-68v-45.722c81.307-11.681 144-81.79 144-166.278v-44c0-6.627-5.373-12-12-12z"],"microphone-slash":[512,512,[],"f131","M421.45 285.195L376 239.746V212c0-6.627 5.373-12 12-12h24c6.627 0 12 5.373 12 12v44c0 9.957-.881 19.71-2.55 29.195zM352 96c0-53.019-42.981-96-96-96-32.574 0-61.354 16.227-78.71 41.035L352 215.746V96zm152.971 363.716L52.284 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 18.343c-9.372 9.373-9.372 24.568 0 33.941L160 205.254v49.577c0 53.089 43.436 97.452 96.524 97.167 14.626-.078 28.471-3.44 40.854-9.366l17.746 17.746c-17.529 9.971-37.794 15.666-59.372 15.622C189.355 375.864 136 321.053 136 254.656V212c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v44c0 84.488 62.693 154.597 144 166.278V468h-68c-6.627 0-12 5.373-12 12v20c0 6.627 5.373 12 12 12h184c6.627 0 12-5.373 12-12v-20c0-6.627-5.373-12-12-12h-68v-45.722c25.625-3.682 49.396-13.172 69.942-27.083L459.717 504.97c9.373 9.373 24.569 9.373 33.941 0l11.313-11.313c9.372-9.373 9.372-24.568 0-33.941z"],minus:[448,512,[],"f068","M424 318.2c13.3 0 24-10.7 24-24v-76.4c0-13.3-10.7-24-24-24H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h400z"],"minus-circle":[512,512,[],"f056","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"],"minus-square":[448,512,[],"f146","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM92 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H92z"],mobile:[320,512,[],"f10b","M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"],"mobile-alt":[320,512,[],"f3cd","M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"],"money-bill-alt":[640,512,[],"f3d1","M640 120v272c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h592c13.255 0 24 10.745 24 24zM96 384c0-35.346-28.654-64-64-64v64h64zm0-256H32v64c35.346 0 64-28.654 64-64zm304 128c0-53.021-35.816-96-80-96s-80 42.979-80 96c0 53.012 35.814 96 80 96 44.167 0 80-42.969 80-96zm208 64c-35.346 0-64 28.654-64 64h64v-64zm0-192h-64c0 35.346 28.654 64 64 64v-64zM277.563 299.527c0-7.477 3.917-11.572 11.573-11.572h15.131v-39.878c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.939c4.449-4.095 8.366-5.697 14.42-5.697h12.105c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572h-67.293c-7.656 0-11.573-4.095-11.573-11.572v-8.9z"],moon:[512,512,[],"f186","M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"],motorcycle:[640,512,[],"f21c","M512.949 192.003c-14.862-.108-29.14 2.322-42.434 6.874L437.589 144H520c13.255 0 24-10.745 24-24V88c0-13.255-10.745-24-24-24h-45.311a24 24 0 0 0-17.839 7.945l-37.496 41.663-22.774-37.956A24 24 0 0 0 376 64h-80c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h66.411l19.2 32H227.904c-17.727-23.073-44.924-40-99.904-40H72.54c-13.455 0-24.791 11.011-24.536 24.464C48.252 141.505 58.9 152 72 152h56c24.504 0 38.686 10.919 47.787 24.769l-11.291 20.529c-13.006-3.865-26.871-5.736-41.251-5.21C55.857 194.549 1.565 249.605.034 317.021-1.603 389.076 56.317 448 128 448c59.642 0 109.744-40.794 123.953-96h84.236c13.673 0 24.589-11.421 23.976-25.077-2.118-47.12 17.522-93.665 56.185-125.026l12.485 20.808c-27.646 23.654-45.097 58.88-44.831 98.179.47 69.556 57.203 126.452 126.758 127.11 71.629.678 129.839-57.487 129.234-129.099-.588-69.591-57.455-126.386-127.047-126.892zM128 400c-44.112 0-80-35.888-80-80s35.888-80 80-80c4.242 0 8.405.341 12.469.982L98.97 316.434C90.187 332.407 101.762 352 120 352h81.297c-12.37 28.225-40.56 48-73.297 48zm388.351-.116C470.272 402.337 432 365.554 432 320c0-21.363 8.434-40.781 22.125-55.144l49.412 82.352c4.546 7.577 14.375 10.034 21.952 5.488l13.72-8.232c7.577-4.546 10.034-14.375 5.488-21.952l-48.556-80.927A80.005 80.005 0 0 1 512 240c45.554 0 82.338 38.273 79.884 84.352-2.16 40.558-34.974 73.372-75.533 75.532z"],"mouse-pointer":[320,512,[],"f245","M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"],music:[512,512,[],"f001","M470.4 1.5l-304 96C153.1 101.7 144 114 144 128v264.6c-14.1-5.4-30.5-8.6-48-8.6-53 0-96 28.7-96 64s43 64 96 64 96-28.7 96-64V220.5l272-85.9v194c-14.1-5.4-30.5-8.6-48-8.6-53 0-96 28.7-96 64s43 64 96 64 96-28.7 96-64V32c0-21.7-21.1-37-41.6-30.5z"],neuter:[288,512,[],"f22c","M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V468c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V316.4c64.1-14.5 112-71.9 112-140.4zm-144 80c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"],newspaper:[576,512,[],"f1ea","M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"],"object-group":[512,512,[],"f247","M480 128V96h20c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v20H64V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v40c0 6.627 5.373 12 12 12h20v320H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-20h384v20c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-20V128zM96 276V140c0-6.627 5.373-12 12-12h168c6.627 0 12 5.373 12 12v136c0 6.627-5.373 12-12 12H108c-6.627 0-12-5.373-12-12zm320 96c0 6.627-5.373 12-12 12H236c-6.627 0-12-5.373-12-12v-52h72c13.255 0 24-10.745 24-24v-72h84c6.627 0 12 5.373 12 12v136z"],"object-ungroup":[576,512,[],"f248","M64 320v26a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6v-52a6 6 0 0 1 6-6h26V96H6a6 6 0 0 1-6-6V38a6 6 0 0 1 6-6h52a6 6 0 0 1 6 6v26h288V38a6 6 0 0 1 6-6h52a6 6 0 0 1 6 6v52a6 6 0 0 1-6 6h-26v192h26a6 6 0 0 1 6 6v52a6 6 0 0 1-6 6h-52a6 6 0 0 1-6-6v-26H64zm480-64v-32h26a6 6 0 0 0 6-6v-52a6 6 0 0 0-6-6h-52a6 6 0 0 0-6 6v26H408v72h8c13.255 0 24 10.745 24 24v64c0 13.255-10.745 24-24 24h-64c-13.255 0-24-10.745-24-24v-8H192v72h-26a6 6 0 0 0-6 6v52a6 6 0 0 0 6 6h52a6 6 0 0 0 6-6v-26h288v26a6 6 0 0 0 6 6h52a6 6 0 0 0 6-6v-52a6 6 0 0 0-6-6h-26V256z"],outdent:[448,512,[],"f03b","M0 84V44c0-8.837 7.163-16 16-16h416c8.837 0 16 7.163 16 16v40c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16zm208 144h224c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H208c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zM16 484h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm192-128h224c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H208c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zM4.687 267.313l96 95.984C110.734 373.348 128 366.224 128 351.984V160.008c0-14.329-17.325-21.304-27.313-11.313l-96 95.992c-6.249 6.248-6.249 16.378 0 22.626z"],"paint-brush":[512,512,[],"f1fc","M269.9 364.6c1.4 6.4 2.1 13 2.1 19.7 0 81.2-54.2 127.7-134.8 127.7C41.5 512 0 435.1 0 347.6c10.4 7.1 46.9 36.5 58.7 36.5 7 0 13-4 15.5-10.6 23.6-62.2 66.5-76.5 112.9-77.4 15.6 33.8 46.1 59.6 82.8 68.5zM460.6 0c-14.4 0-27.9 6.4-38.2 15.7C228.2 190 208 194.1 208 245.4c0 48.8 40.5 90.6 90.2 90.6 59 0 93.2-43.4 200.6-244.8 7-13.7 13.2-28.5 13.2-43.9C512 19.7 487.3 0 460.6 0z"],pallet:[640,512,[],"f482","M144 256h352c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16H384v128l-64-32-64 32V0H144c-8.8 0-16 7.2-16 16v224c0 8.8 7.2 16 16 16zm480 128c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h48v64H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16h-48v-64h48zm-336 64H128v-64h160v64zm224 0H352v-64h160v64z"],"paper-plane":[512,512,[],"f1d8","M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"],paperclip:[448,512,[],"f0c6","M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"],paragraph:[448,512,[],"f1dd","M408 32H177.531C88.948 32 16.045 103.335 16 191.918 15.956 280.321 87.607 352 176 352v104c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V112h32v344c0 13.255 10.745 24 24 24h32c13.255 0 24-10.745 24-24V112h40c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24z"],paste:[448,512,[],"f0ea","M128 184c0-30.879 25.122-56 56-56h136V56c0-13.255-10.745-24-24-24h-80.61C204.306 12.89 183.637 0 160 0s-44.306 12.89-55.39 32H24C10.745 32 0 42.745 0 56v336c0 13.255 10.745 24 24 24h104V184zm32-144c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24zm184 248h104v200c0 13.255-10.745 24-24 24H184c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h136v104c0 13.2 10.8 24 24 24zm104-38.059V256h-96v-96h6.059a24 24 0 0 1 16.97 7.029l65.941 65.941a24.002 24.002 0 0 1 7.03 16.971z"],pause:[448,512,[],"f04c","M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"],"pause-circle":[512,512,[],"f28b","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-16 328c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160zm112 0c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v160z"],paw:[512,512,[],"f1b0","M85.231 330.958C36 330.958 0 273.792 0 231.5c0-28.292 16-58.042 49.538-58.042 49.231 0 85.231 57.458 85.231 99.75 0 28.292-15.692 57.75-49.538 57.75zm348 106.167c0 37.042-32 42.875-63.385 42.875-41.231 0-74.462-26.25-113.846-26.25-41.231 0-76.308 25.958-120.923 25.958-29.847 0-56.308-9.625-56.308-42.583C78.769 368 180.616 265.333 256 265.333s177.231 102.959 177.231 171.792zM182.462 203.792c-49.847 0-80-59.5-80-100.333C102.462 70.792 120.308 32 160 32c50.154 0 80 59.5 80 100.333 0 32.667-17.846 71.459-57.538 71.459zM272 132.333C272 91.5 301.846 32 352 32c39.692 0 57.539 38.792 57.539 71.458 0 40.833-30.154 100.333-80.001 100.333C289.846 203.792 272 165 272 132.333zM512 231.5c0 42.292-36 99.458-85.231 99.458-33.847 0-49.538-29.458-49.538-57.75 0-42.291 35.999-99.75 85.231-99.75C496 173.458 512 203.208 512 231.5z"],"pen-square":[448,512,[],"f14b","M400 480H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zM238.1 177.9L102.4 313.6l-6.3 57.1c-.8 7.6 5.6 14.1 13.3 13.3l57.1-6.3L302.2 242c2.3-2.3 2.3-6.1 0-8.5L246.7 178c-2.5-2.4-6.3-2.4-8.6-.1zM345 165.1L314.9 135c-9.4-9.4-24.6-9.4-33.9 0l-23.1 23.1c-2.3 2.3-2.3 6.1 0 8.5l55.5 55.5c2.3 2.3 6.1 2.3 8.5 0L345 199c9.3-9.3 9.3-24.5 0-33.9z"],"pencil-alt":[512,512,[],"f303","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"],percent:[448,512,[],"f295","M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"],phone:[512,512,[],"f095","M493.397 24.615l-104-23.997c-11.314-2.611-22.879 3.252-27.456 13.931l-48 111.997a24 24 0 0 0 6.862 28.029l60.617 49.596c-35.973 76.675-98.938 140.508-177.249 177.248l-49.596-60.616a24 24 0 0 0-28.029-6.862l-111.997 48C3.873 366.516-1.994 378.08.618 389.397l23.997 104C27.109 504.204 36.748 512 48 512c256.087 0 464-207.532 464-464 0-11.176-7.714-20.873-18.603-23.385z"],"phone-square":[448,512,[],"f098","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z"],"phone-volume":[384,512,[],"f2a0","M97.333 506.966c-129.874-129.874-129.681-340.252 0-469.933 5.698-5.698 14.527-6.632 21.263-2.422l64.817 40.513a17.187 17.187 0 0 1 6.849 20.958l-32.408 81.021a17.188 17.188 0 0 1-17.669 10.719l-55.81-5.58c-21.051 58.261-20.612 122.471 0 179.515l55.811-5.581a17.188 17.188 0 0 1 17.669 10.719l32.408 81.022a17.188 17.188 0 0 1-6.849 20.958l-64.817 40.513a17.19 17.19 0 0 1-21.264-2.422zM247.126 95.473c11.832 20.047 11.832 45.008 0 65.055-3.95 6.693-13.108 7.959-18.718 2.581l-5.975-5.726c-3.911-3.748-4.793-9.622-2.261-14.41a32.063 32.063 0 0 0 0-29.945c-2.533-4.788-1.65-10.662 2.261-14.41l5.975-5.726c5.61-5.378 14.768-4.112 18.718 2.581zm91.787-91.187c60.14 71.604 60.092 175.882 0 247.428-4.474 5.327-12.53 5.746-17.552.933l-5.798-5.557c-4.56-4.371-4.977-11.529-.93-16.379 49.687-59.538 49.646-145.933 0-205.422-4.047-4.85-3.631-12.008.93-16.379l5.798-5.557c5.022-4.813 13.078-4.394 17.552.933zm-45.972 44.941c36.05 46.322 36.108 111.149 0 157.546-4.39 5.641-12.697 6.251-17.856 1.304l-5.818-5.579c-4.4-4.219-4.998-11.095-1.285-15.931 26.536-34.564 26.534-82.572 0-117.134-3.713-4.836-3.115-11.711 1.285-15.931l5.818-5.579c5.159-4.947 13.466-4.337 17.856 1.304z"],pills:[576,512,[],"f484","M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"],plane:[576,512,[],"f072","M472 200H360.211L256.013 5.711A12 12 0 0 0 245.793 0h-57.787c-7.85 0-13.586 7.413-11.616 15.011L209.624 200H99.766l-34.904-58.174A12 12 0 0 0 54.572 136H12.004c-7.572 0-13.252 6.928-11.767 14.353l21.129 105.648L.237 361.646c-1.485 7.426 4.195 14.354 11.768 14.353l42.568-.002c4.215 0 8.121-2.212 10.289-5.826L99.766 312h109.858L176.39 496.989c-1.97 7.599 3.766 15.011 11.616 15.011h57.787a12 12 0 0 0 10.22-5.711L360.212 312H472c57.438 0 104-25.072 104-56s-46.562-56-104-56z"],play:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"],"play-circle":[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"],plug:[384,512,[],"f1e6","M256 144V32c0-17.673 14.327-32 32-32s32 14.327 32 32v112h-64zm112 16H16c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h16v32c0 77.406 54.969 141.971 128 156.796V512h64v-99.204c73.031-14.825 128-79.39 128-156.796v-32h16c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16zm-240-16V32c0-17.673-14.327-32-32-32S64 14.327 64 32v112h64z"],plus:[448,512,[],"f067","M448 294.2v-76.4c0-13.3-10.7-24-24-24H286.2V56c0-13.3-10.7-24-24-24h-76.4c-13.3 0-24 10.7-24 24v137.8H24c-13.3 0-24 10.7-24 24v76.4c0 13.3 10.7 24 24 24h137.8V456c0 13.3 10.7 24 24 24h76.4c13.3 0 24-10.7 24-24V318.2H424c13.3 0 24-10.7 24-24z"],"plus-circle":[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],"plus-square":[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"],podcast:[448,512,[],"f2ce","M267.429 488.563C262.286 507.573 242.858 512 224 512c-18.857 0-38.286-4.427-43.428-23.437C172.927 460.134 160 388.898 160 355.75c0-35.156 31.142-43.75 64-43.75s64 8.594 64 43.75c0 32.949-12.871 104.179-20.571 132.813zM156.867 288.554c-18.693-18.308-29.958-44.173-28.784-72.599 2.054-49.724 42.395-89.956 92.124-91.881C274.862 121.958 320 165.807 320 220c0 26.827-11.064 51.116-28.866 68.552-2.675 2.62-2.401 6.986.628 9.187 9.312 6.765 16.46 15.343 21.234 25.363 1.741 3.654 6.497 4.66 9.449 1.891 28.826-27.043 46.553-65.783 45.511-108.565-1.855-76.206-63.595-138.208-139.793-140.369C146.869 73.753 80 139.215 80 220c0 41.361 17.532 78.7 45.55 104.989 2.953 2.771 7.711 1.77 9.453-1.887 4.774-10.021 11.923-18.598 21.235-25.363 3.029-2.2 3.304-6.566.629-9.185zM224 0C100.204 0 0 100.185 0 224c0 89.992 52.602 165.647 125.739 201.408 4.333 2.118 9.267-1.544 8.535-6.31-2.382-15.512-4.342-30.946-5.406-44.339-.146-1.836-1.149-3.486-2.678-4.512-47.4-31.806-78.564-86.016-78.187-147.347.592-96.237 79.29-174.648 175.529-174.899C320.793 47.747 400 126.797 400 224c0 61.932-32.158 116.49-80.65 147.867-.999 14.037-3.069 30.588-5.624 47.23-.732 4.767 4.203 8.429 8.535 6.31C395.227 389.727 448 314.187 448 224 448 100.205 347.815 0 224 0zm0 160c-35.346 0-64 28.654-64 64s28.654 64 64 64 64-28.654 64-64-28.654-64-64-64z"],"pound-sign":[320,512,[],"f154","M308 352h-45.495c-6.627 0-12 5.373-12 12v50.848H128V288h84c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-84v-63.556c0-32.266 24.562-57.086 61.792-57.086 23.658 0 45.878 11.505 57.652 18.849 5.151 3.213 11.888 2.051 15.688-2.685l28.493-35.513c4.233-5.276 3.279-13.005-2.119-17.081C273.124 54.56 236.576 32 187.931 32 106.026 32 48 84.742 48 157.961V224H20c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h28v128H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h296c6.627 0 12-5.373 12-12V364c0-6.627-5.373-12-12-12z"],"power-off":[512,512,[],"f011","M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"],print:[512,512,[],"f02f","M464 192h-16V81.941a24 24 0 0 0-7.029-16.97L383.029 7.029A24 24 0 0 0 366.059 0H88C74.745 0 64 10.745 64 24v168H48c-26.51 0-48 21.49-48 48v132c0 6.627 5.373 12 12 12h52v104c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V384h52c6.627 0 12-5.373 12-12V240c0-26.51-21.49-48-48-48zm-80 256H128v-96h256v96zM128 224V64h192v40c0 13.2 10.8 24 24 24h40v96H128zm304 72c-13.254 0-24-10.746-24-24s10.746-24 24-24 24 10.746 24 24-10.746 24-24 24z"],"puzzle-piece":[576,512,[],"f12e","M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"],qrcode:[448,512,[],"f029","M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"],question:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"],"question-circle":[512,512,[],"f059","M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"],quidditch:[640,512,[],"f458","M256.5 216.8L343.2 326s-16.6 102.4-76.6 150.1C206.7 523.8 0 510.2 0 510.2s3.8-23.1 11-55.4l94.6-112.2c4-4.7-.9-11.6-6.6-9.5l-60.4 22.1c14.4-41.7 32.7-80 54.6-97.5 59.9-47.8 163.3-40.9 163.3-40.9zm238 135c-44 0-79.8 35.8-79.8 79.9 0 44.1 35.7 79.9 79.8 79.9 44.1 0 79.8-35.8 79.8-79.9 0-44.2-35.8-79.9-79.8-79.9zM636.5 31L616.7 6c-5.5-6.9-15.5-8-22.4-2.6L361.8 181.3l-34.1-43c-5.1-6.4-15.1-5.2-18.6 2.2l-25.3 54.6 86.7 109.2 58.8-12.4c8-1.7 11.4-11.2 6.3-17.6l-34.1-42.9L634 53.5c6.9-5.5 8-15.6 2.5-22.5z"],"quote-left":[512,512,[],"f10d","M0 432V304C0 166.982 63.772 67.676 193.827 32.828 209.052 28.748 224 40.265 224 56.027v33.895c0 10.057-6.228 19.133-15.687 22.55C142.316 136.312 104 181.946 104 256h72c26.51 0 48 21.49 48 48v128c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48zm336 48h128c26.51 0 48-21.49 48-48V304c0-26.51-21.49-48-48-48h-72c0-74.054 38.316-119.688 104.313-143.528C505.772 109.055 512 99.979 512 89.922V56.027c0-15.762-14.948-27.279-30.173-23.199C351.772 67.676 288 166.982 288 304v128c0 26.51 21.49 48 48 48z"],"quote-right":[512,512,[],"f10e","M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"],random:[512,512,[],"f074","M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"],recycle:[512,512,[],"f1b8","M184.561 261.903c3.232 13.997-12.123 24.635-24.068 17.168l-40.736-25.455-50.867 81.402C55.606 356.273 70.96 384 96.012 384H148c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12H96.115c-75.334 0-121.302-83.048-81.408-146.88l50.822-81.388-40.725-25.448c-12.081-7.547-8.966-25.961 4.879-29.158l110.237-25.45c8.611-1.988 17.201 3.381 19.189 11.99l25.452 110.237zm98.561-182.915l41.289 66.076-40.74 25.457c-12.051 7.528-9 25.953 4.879 29.158l110.237 25.45c8.672 1.999 17.215-3.438 19.189-11.99l25.45-110.237c3.197-13.844-11.99-24.719-24.068-17.168l-40.687 25.424-41.263-66.082c-37.521-60.033-125.209-60.171-162.816 0l-17.963 28.766c-3.51 5.62-1.8 13.021 3.82 16.533l33.919 21.195c5.62 3.512 13.024 1.803 16.536-3.817l17.961-28.743c12.712-20.341 41.973-19.676 54.257-.022zM497.288 301.12l-27.515-44.065c-3.511-5.623-10.916-7.334-16.538-3.821l-33.861 21.159c-5.62 3.512-7.33 10.915-3.818 16.536l27.564 44.112c13.257 21.211-2.057 48.96-27.136 48.96H320V336.02c0-14.213-17.242-21.383-27.313-11.313l-80 79.981c-6.249 6.248-6.249 16.379 0 22.627l80 79.989C302.689 517.308 320 510.3 320 495.989V448h95.88c75.274 0 121.335-82.997 81.408-146.88z"],redo:[512,512,[],"f01e","M500.333 0h-47.411c-6.853 0-12.314 5.729-11.986 12.574l3.966 82.759C399.416 41.899 331.672 8 256.001 8 119.34 8 7.899 119.526 8 256.187 8.101 393.068 119.096 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-33.971-33.971c-4.466-4.466-11.64-4.717-16.38-.543C341.308 415.448 300.606 432 256 432c-97.267 0-176-78.716-176-176 0-97.267 78.716-176 176-176 60.892 0 114.506 30.858 146.099 77.8l-101.525-4.865c-6.845-.328-12.574 5.133-12.574 11.986v47.411c0 6.627 5.373 12 12 12h200.333c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12z"],"redo-alt":[512,512,[],"f2f9","M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"],registered:[512,512,[],"f25d","M285.363 207.475c0 18.6-9.831 28.431-28.431 28.431h-29.876v-56.14h23.378c28.668 0 34.929 8.773 34.929 27.709zM504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM363.411 360.414c-46.729-84.825-43.299-78.636-44.702-80.98 23.432-15.172 37.945-42.979 37.945-74.486 0-54.244-31.5-89.252-105.498-89.252h-70.667c-13.255 0-24 10.745-24 24V372c0 13.255 10.745 24 24 24h22.567c13.255 0 24-10.745 24-24v-71.663h25.556l44.129 82.937a24.001 24.001 0 0 0 21.188 12.727h24.464c18.261-.001 29.829-19.591 21.018-35.587z"],reply:[512,512,[],"f3e5","M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"],"reply-all":[576,512,[],"f122","M136.309 189.836L312.313 37.851C327.72 24.546 352 35.348 352 56.015v82.763c129.182 10.231 224 52.212 224 183.548 0 61.441-39.582 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 38.512-123.162-3.922-169.482-112.59-182.015v84.175c0 20.701-24.3 31.453-39.687 18.164L136.309 226.164c-11.071-9.561-11.086-26.753 0-36.328zm-128 36.328L184.313 378.15C199.7 391.439 224 380.687 224 359.986v-15.818l-108.606-93.785A55.96 55.96 0 0 1 96 207.998a55.953 55.953 0 0 1 19.393-42.38L224 71.832V56.015c0-20.667-24.28-31.469-39.687-18.164L8.309 189.836c-11.086 9.575-11.071 26.767 0 36.328z"],retweet:[640,512,[],"f079","M629.657 343.598L528.971 444.284c-9.373 9.372-24.568 9.372-33.941 0L394.343 343.598c-9.373-9.373-9.373-24.569 0-33.941l10.823-10.823c9.562-9.562 25.133-9.34 34.419.492L480 342.118V160H292.451a24.005 24.005 0 0 1-16.971-7.029l-16-16C244.361 121.851 255.069 96 276.451 96H520c13.255 0 24 10.745 24 24v222.118l40.416-42.792c9.285-9.831 24.856-10.054 34.419-.492l10.823 10.823c9.372 9.372 9.372 24.569-.001 33.941zm-265.138 15.431A23.999 23.999 0 0 0 347.548 352H160V169.881l40.416 42.792c9.286 9.831 24.856 10.054 34.419.491l10.822-10.822c9.373-9.373 9.373-24.569 0-33.941L144.971 67.716c-9.373-9.373-24.569-9.373-33.941 0L10.343 168.402c-9.373 9.373-9.373 24.569 0 33.941l10.822 10.822c9.562 9.562 25.133 9.34 34.419-.491L96 169.881V392c0 13.255 10.745 24 24 24h243.549c21.382 0 32.09-25.851 16.971-40.971l-16.001-16z"],road:[576,512,[],"f018","M567.3 383.6L429.9 78.2C426 69.5 417.4 64 408 64h-96.1l1.9 18.8c.7 7.1-4.8 13.2-11.9 13.2H274c-7.1 0-12.7-6.2-11.9-13.2L264 64h-96c-9.4 0-18 5.5-21.9 14.2L8.7 383.6C3.2 395.8 0 409.6 0 424c0 13.3 10.7 24 24 24h213.6c-7.1 0-12.7-6.2-11.9-13.2l10.8-104c.6-6.1 5.8-10.8 11.9-10.8h79.2c6.1 0 11.3 4.6 11.9 10.8l10.8 104c.7 7.1-4.8 13.2-11.9 13.2H552c13.2 0 24-10.7 24-24 0-13.9-3-27.7-8.7-40.4zM254.7 154.8l3.3-32c.6-6.1 5.8-10.8 11.9-10.8h36.2c6.1 0 11.3 4.6 11.9 10.8l3.3 32c.7 7.1-4.8 13.2-11.9 13.2h-42.8c-7.1 0-12.7-6.2-11.9-13.2zM321.8 288h-67.6c-7.1 0-12.7-6.2-11.9-13.2l7.4-72c.6-6.1 5.8-10.8 11.9-10.8h52.7c6.1 0 11.3 4.6 11.9 10.8l7.4 72c.9 7-4.7 13.2-11.8 13.2z"],rocket:[512,512,[],"f135","M505.1 19.1C503.8 13 499 8.2 492.9 6.9 460.7 0 435.5 0 410.4 0 307.2 0 245.3 55.2 199.1 128H94.9c-18.2 0-34.8 10.3-42.9 26.5L2.6 253.3c-8 16 3.6 34.7 21.5 34.7h95.1c-5.9 12.8-11.9 25.5-18 37.7-3.1 6.2-1.9 13.6 3 18.5l63.6 63.6c4.9 4.9 12.3 6.1 18.5 3 12.2-6.1 24.9-12 37.7-17.9V488c0 17.8 18.8 29.4 34.7 21.5l98.7-49.4c16.3-8.1 26.5-24.8 26.5-42.9V312.8c72.6-46.3 128-108.4 128-211.1.1-25.2.1-50.4-6.8-82.6zM400 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"],rss:[448,512,[],"f09e","M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"],"rss-square":[448,512,[],"f143","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"],"ruble-sign":[384,512,[],"f158","M239.36 320C324.48 320 384 260.542 384 175.071S324.48 32 239.36 32H76c-6.627 0-12 5.373-12 12v206.632H12c-6.627 0-12 5.373-12 12V308c0 6.627 5.373 12 12 12h52v32H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h52v52c0 6.627 5.373 12 12 12h58.56c6.627 0 12-5.373 12-12v-52H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H146.56v-32h92.8zm-92.8-219.252h78.72c46.72 0 74.88 29.11 74.88 74.323 0 45.832-28.16 75.561-76.16 75.561h-77.44V100.748z"],"rupee-sign":[320,512,[],"f156","M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"],save:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"],search:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"],"search-minus":[512,512,[],"f010","M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"],"search-plus":[512,512,[],"f00e","M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"],server:[512,512,[],"f233","M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"],share:[512,512,[],"f064","M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"],"share-alt":[448,512,[],"f1e0","M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"],"share-alt-square":[448,512,[],"f1e1","M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zM304 296c-14.562 0-27.823 5.561-37.783 14.671l-67.958-40.775a56.339 56.339 0 0 0 0-27.793l67.958-40.775C276.177 210.439 289.438 216 304 216c30.928 0 56-25.072 56-56s-25.072-56-56-56-56 25.072-56 56c0 4.797.605 9.453 1.74 13.897l-67.958 40.775C171.823 205.561 158.562 200 144 200c-30.928 0-56 25.072-56 56s25.072 56 56 56c14.562 0 27.823-5.561 37.783-14.671l67.958 40.775a56.088 56.088 0 0 0-1.74 13.897c0 30.928 25.072 56 56 56s56-25.072 56-56C360 321.072 334.928 296 304 296z"],"share-square":[576,512,[],"f14d","M568.482 177.448L424.479 313.433C409.3 327.768 384 317.14 384 295.985v-71.963c-144.575.97-205.566 35.113-164.775 171.353 4.483 14.973-12.846 26.567-25.006 17.33C155.252 383.105 120 326.488 120 269.339c0-143.937 117.599-172.5 264-173.312V24.012c0-21.174 25.317-31.768 40.479-17.448l144.003 135.988c10.02 9.463 10.028 25.425 0 34.896zM384 379.128V448H64V128h50.916a11.99 11.99 0 0 0 8.648-3.693c14.953-15.568 32.237-27.89 51.014-37.676C185.708 80.83 181.584 64 169.033 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48v-88.806c0-8.288-8.197-14.066-16.011-11.302a71.83 71.83 0 0 1-34.189 3.377c-7.27-1.046-13.8 4.514-13.8 11.859z"],"shekel-sign":[448,512,[],"f20b","M170.12 96H80v372c0 6.627-5.373 12-12 12H12c-6.627 0-12-5.373-12-12V44c0-6.627 5.373-12 12-12h168.36C265.48 32 325 89.6 325 175.071V359c0 6.627-5.373 12-12 12h-44c-13.255 0-24-10.745-24-24V170.323C245 125.11 216.839 96 170.12 96zM436 32h-56c-6.627 0-12 5.373-12 12v372h-90.12c-46.72 0-74.88-29.11-74.88-74.323V165c0-13.255-10.745-24-24-24h-44c-6.627 0-12 5.373-12 12v183.929C123 422.4 182.52 480 267.64 480H436c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12z"],"shield-alt":[512,512,[],"f3ed","M496 128c0 221.282-135.934 344.645-221.539 380.308a48 48 0 0 1-36.923 0C130.495 463.713 16 326.487 16 128a48 48 0 0 1 29.539-44.308l192-80a48 48 0 0 1 36.923 0l192 80A48 48 0 0 1 496 128zM256 446.313l.066.034c93.735-46.689 172.497-156.308 175.817-307.729L256 65.333v380.98z"],ship:[640,512,[],"f21a","M496.616 372.639l70.012-70.012c16.899-16.9 9.942-45.771-12.836-53.092L512 236.102V96c0-17.673-14.327-32-32-32h-64V24c0-13.255-10.745-24-24-24H248c-13.255 0-24 10.745-24 24v40h-64c-17.673 0-32 14.327-32 32v140.102l-41.792 13.433c-22.753 7.313-29.754 36.173-12.836 53.092l70.012 70.012C125.828 416.287 85.587 448 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24 61.023 0 107.499-20.61 143.258-59.396C181.677 487.432 216.021 512 256 512h128c39.979 0 74.323-24.568 88.742-59.396C508.495 491.384 554.968 512 616 512c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24-60.817 0-101.542-31.001-119.384-75.361zM192 128h256v87.531l-118.208-37.995a31.995 31.995 0 0 0-19.584 0L192 215.531V128z"],"shipping-fast":[640,512,[],"f48b","M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H112C85.5 0 64 21.5 64 48v48H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h272c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H40c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H8c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h208c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H64v128c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"],"shopping-bag":[448,512,[],"f290","M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"],"shopping-basket":[576,512,[],"f291","M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"],"shopping-cart":[576,512,[],"f07a","M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"],shower:[512,512,[],"f2cc","M389.66 135.6L231.6 293.66c-9.37 9.37-24.57 9.37-33.94 0l-11.32-11.32c-9.37-9.37-9.37-24.57 0-33.94l.11-.11c-34.03-40.21-35.16-98.94-3.39-140.38-11.97-7.55-26.14-11.91-41.3-11.91C98.88 96 64 130.88 64 173.76V480H0V173.76C0 95.59 63.59 32 141.76 32c36.93 0 70.61 14.2 95.86 37.42 35.9-11.51 76.5-4.5 106.67 21.03l.11-.11c9.37-9.37 24.57-9.37 33.94 0l11.32 11.32c9.37 9.37 9.37 24.57 0 33.94zM384 208c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm32 0c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16-16-7.163-16-16zm96 0c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm-160 32c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm48-16c8.837 0 16 7.163 16 16s-7.163 16-16 16-16-7.163-16-16 7.163-16 16-16zm80 16c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm-160 32c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm32 0c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16-16-7.163-16-16zm96 0c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm-128 32c0-8.837 7.163-16 16-16s16 7.163 16 16-7.163 16-16 16-16-7.163-16-16zm96 0c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm-96 32c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm64 0c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm-32 32c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16zm-32 32c0 8.837-7.163 16-16 16s-16-7.163-16-16 7.163-16 16-16 16 7.163 16 16z"],"sign-in-alt":[512,512,[],"f2f6","M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"],"sign-language":[448,512,[],"f2a7","M91.434 483.987c-.307-16.018 13.109-29.129 29.13-29.129h62.293v-5.714H56.993c-16.021 0-29.437-13.111-29.13-29.129C28.16 404.491 40.835 392 56.428 392h126.429v-5.714H29.136c-16.021 0-29.437-13.111-29.13-29.129.297-15.522 12.973-28.013 28.566-28.013h154.286v-5.714H57.707c-16.021 0-29.437-13.111-29.13-29.129.297-15.522 12.973-28.013 28.566-28.013h168.566l-31.085-22.606c-12.762-9.281-15.583-27.149-6.302-39.912 9.281-12.761 27.15-15.582 39.912-6.302l123.361 89.715a34.287 34.287 0 0 1 14.12 27.728v141.136c0 15.91-10.946 29.73-26.433 33.374l-80.471 18.934a137.16 137.16 0 0 1-31.411 3.646H120c-15.593-.001-28.269-12.492-28.566-28.014zm73.249-225.701h36.423l-11.187-8.136c-18.579-13.511-20.313-40.887-3.17-56.536l-13.004-16.7c-9.843-12.641-28.43-15.171-40.88-5.088-12.065 9.771-14.133 27.447-4.553 39.75l36.371 46.71zm283.298-2.103l-5.003-152.452c-.518-15.771-13.722-28.136-29.493-27.619-15.773.518-28.137 13.722-27.619 29.493l1.262 38.415L283.565 11.019c-9.58-12.303-27.223-14.63-39.653-5.328-12.827 9.599-14.929 28.24-5.086 40.881l76.889 98.745-4.509 3.511-94.79-121.734c-9.58-12.303-27.223-14.63-39.653-5.328-12.827 9.599-14.929 28.24-5.086 40.881l94.443 121.288-4.509 3.511-77.675-99.754c-9.58-12.303-27.223-14.63-39.653-5.328-12.827 9.599-14.929 28.24-5.086 40.881l52.053 66.849c12.497-8.257 29.055-8.285 41.69.904l123.36 89.714c10.904 7.93 17.415 20.715 17.415 34.198v16.999l61.064-47.549a34.285 34.285 0 0 0 13.202-28.177z"],"sign-out-alt":[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"],signal:[640,512,[],"f012","M36 384h56c6.6 0 12 5.4 12 12v104c0 6.6-5.4 12-12 12H36c-6.6 0-12-5.4-12-12V396c0-6.6 5.4-12 12-12zm116-36v152c0 6.6 5.4 12 12 12h56c6.6 0 12-5.4 12-12V348c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12zm128-80v232c0 6.6 5.4 12 12 12h56c6.6 0 12-5.4 12-12V268c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12zm128-112v344c0 6.6 5.4 12 12 12h56c6.6 0 12-5.4 12-12V156c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12zM536 12v488c0 6.6 5.4 12 12 12h56c6.6 0 12-5.4 12-12V12c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12z"],sitemap:[640,512,[],"f0e8","M616 320h-48v-48c0-22.056-17.944-40-40-40H344v-40h48c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H248c-13.255 0-24 10.745-24 24v144c0 13.255 10.745 24 24 24h48v40H112c-22.056 0-40 17.944-40 40v48H24c-13.255 0-24 10.745-24 24v144c0 13.255 10.745 24 24 24h144c13.255 0 24-10.745 24-24V344c0-13.255-10.745-24-24-24h-48v-40h176v40h-48c-13.255 0-24 10.745-24 24v144c0 13.255 10.745 24 24 24h144c13.255 0 24-10.745 24-24V344c0-13.255-10.745-24-24-24h-48v-40h176v40h-48c-13.255 0-24 10.745-24 24v144c0 13.255 10.745 24 24 24h144c13.255 0 24-10.745 24-24V344c0-13.255-10.745-24-24-24z"],"sliders-h":[576,512,[],"f1de","M576 80v40c0 6.6-5.4 12-12 12H160v8c0 13.3-10.7 24-24 24h-16c-13.3 0-24-10.7-24-24v-8H12c-6.6 0-12-5.4-12-12V80c0-6.6 5.4-12 12-12h84v-8c0-13.3 10.7-24 24-24h16c13.3 0 24 10.7 24 24v8h404c6.6 0 12 5.4 12 12zm-12 148h-84v-8c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v8H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h404v8c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24v-8h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12zm0 160H288v-8c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v8H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h212v8c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24v-8h276c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12z"],smile:[512,512,[],"f118","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-122.526 75.34c11.479-17.755-15.349-35.194-26.873-17.374-53.418 82.627-143.71 82.681-197.164 0-11.502-17.79-38.364-.401-26.873 17.374 66.014 102.107 184.795 102.265 250.91 0zM108 192c0 37.497 30.503 68 68 68s68-30.503 68-68-30.503-68-68-68-68 30.503-68 68zm160.5 0c0 37.221 30.279 67.5 67.5 67.5s67.5-30.279 67.5-67.5-30.279-67.5-67.5-67.5-67.5 30.279-67.5 67.5zm67.5-48a47.789 47.789 0 0 0-22.603 5.647h.015c10.916 0 19.765 8.849 19.765 19.765s-8.849 19.765-19.765 19.765-19.765-8.849-19.765-19.765v-.015A47.789 47.789 0 0 0 288 192c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48zm-160 0a47.789 47.789 0 0 0-22.603 5.647h.015c10.916 0 19.765 8.849 19.765 19.765s-8.849 19.765-19.765 19.765-19.765-8.849-19.765-19.765v-.015A47.789 47.789 0 0 0 128 192c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48z"],snowflake:[448,512,[],"f2dc","M444.816 301.639a24.12 24.12 0 0 0 2.661-16.978c-2.725-12.966-15.339-21.245-28.174-18.492l-87.407 25.046L264 256l67.896-35.215 87.407 25.046c12.835 2.753 25.449-5.526 28.174-18.492 2.725-12.966-5.471-25.708-18.305-28.461l-47.477-7.137 53.077-30.956c11.363-6.627 15.257-21.306 8.696-32.785-6.561-11.479-21.091-15.412-32.454-8.785l-53.077 30.956 17.621-45.104c4.057-12.606-2.768-26.146-15.247-30.245-12.478-4.099-25.883 2.797-29.94 15.402l-22.232 88.99-60.38 35.215V144l65.175-63.945c8.778-9.852 7.987-25.027-1.766-33.894-9.753-8.867-24.775-8.068-33.552 1.784l-29.857 37.967V24c0-13.255-10.637-24-23.758-24s-23.758 10.745-23.758 24v61.912l-29.857-37.967c-8.779-9.852-23.799-10.652-33.552-1.784-9.753 8.867-10.543 24.042-1.766 33.894L200.242 144v70.431l-60.38-35.215-22.232-88.99c-4.057-12.605-17.462-19.501-29.94-15.402-12.478 4.099-19.304 17.64-15.247 30.245l17.62 45.104-53.077-30.956c-11.363-6.627-25.893-2.694-32.454 8.785s-2.667 26.157 8.696 32.785l53.077 30.956-47.477 7.137C5.993 201.634-2.203 214.375.523 227.341c2.725 12.965 15.339 21.245 28.174 18.492l87.407-25.046L184 256l-67.896 35.215-87.406-25.045c-12.835-2.753-25.449 5.526-28.174 18.492-2.725 12.967 5.47 25.708 18.305 28.461l47.477 7.137-53.077 30.956C1.866 357.843-2.027 372.521 4.533 384s21.091 15.412 32.454 8.785l53.077-30.956-17.62 45.104a24.157 24.157 0 0 0 2.022 19.428c2.831 4.953 7.416 8.909 13.224 10.816 12.478 4.099 25.883-2.797 29.94-15.402l22.232-88.99 60.38-35.215V368l-65.175 63.945c-8.778 9.852-7.987 25.027 1.766 33.894 9.754 8.868 24.774 8.068 33.552-1.784l29.857-37.967V488c0 13.255 10.637 24 23.758 24s23.758-10.745 23.758-24v-61.912l29.857 37.967A23.59 23.59 0 0 0 295.282 472a23.534 23.534 0 0 0 15.885-6.161c9.753-8.867 10.544-24.042 1.766-33.894L247.758 368v-70.431l60.38 35.215 22.232 88.99c4.057 12.605 17.462 19.501 29.94 15.402 12.479-4.099 19.304-17.64 15.247-30.245l-17.621-45.104 53.077 30.956c11.363 6.627 25.893 2.694 32.454-8.785s2.667-26.157-8.696-32.785l-53.077-30.956 47.477-7.137c6.86-1.469 12.394-5.793 15.645-11.481z"],sort:[320,512,[],"f0dc","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"],"sort-alpha-down":[448,512,[],"f15d","M187.298 395.314l-79.984 80.002c-6.248 6.247-16.383 6.245-22.627 0L4.705 395.314C-5.365 385.244 1.807 368 16.019 368H64V48c0-8.837 7.163-16 16-16h32c8.837 0 16 7.163 16 16v320h47.984c14.241 0 21.363 17.264 11.314 27.314zm119.075-180.007A12 12 0 0 1 294.838 224h-35.717c-8.22 0-14.007-8.078-11.362-15.861l57.096-168A12 12 0 0 1 316.217 32h39.566c5.139 0 9.708 3.273 11.362 8.139l57.096 168C426.886 215.922 421.1 224 412.879 224h-35.735a12 12 0 0 1-11.515-8.622l-8.301-28.299h-42.863l-8.092 28.228zm22.857-78.697h13.367l-6.6-22.937-6.767 22.937zm12.575 287.323l67.451-95.698a12 12 0 0 0 2.192-6.913V300c0-6.627-5.373-12-12-12H274.522c-6.627 0-12 5.373-12 12v28.93c0 6.627 5.373 12 12 12h56.469c-.739.991-1.497 2.036-2.27 3.133l-67.203 95.205a12.001 12.001 0 0 0-2.196 6.92V468c0 6.627 5.373 12 12 12h129.355c6.627 0 12-5.373 12-12v-28.93c0-6.627-5.373-12-12-12h-61.146c.74-.993 1.5-2.039 2.274-3.137z"],"sort-alpha-up":[448,512,[],"f15e","M4.702 116.686l79.984-80.002c6.248-6.247 16.383-6.245 22.627 0l79.981 80.002c10.07 10.07 2.899 27.314-11.314 27.314H128v320c0 8.837-7.163 16-16 16H80c-8.837 0-16-7.163-16-16V144H16.016c-14.241 0-21.363-17.264-11.314-27.314zm301.671 98.621A12 12 0 0 1 294.838 224h-35.717c-8.22 0-14.007-8.078-11.362-15.861l57.096-168A12 12 0 0 1 316.217 32h39.566c5.139 0 9.708 3.273 11.362 8.139l57.096 168C426.886 215.922 421.1 224 412.879 224h-35.735a12 12 0 0 1-11.515-8.622l-8.301-28.299h-42.863l-8.092 28.228zm22.857-78.697h13.367l-6.6-22.937-6.767 22.937zm12.575 287.323l67.451-95.698a12 12 0 0 0 2.192-6.913V300c0-6.627-5.373-12-12-12H274.522c-6.627 0-12 5.373-12 12v28.93c0 6.627 5.373 12 12 12h56.469c-.739.991-1.497 2.036-2.27 3.133l-67.203 95.205a12.001 12.001 0 0 0-2.196 6.92V468c0 6.627 5.373 12 12 12h129.355c6.627 0 12-5.373 12-12v-28.93c0-6.627-5.373-12-12-12h-61.146c.74-.993 1.5-2.039 2.274-3.137z"],"sort-amount-down":[512,512,[],"f160","M187.298 395.314l-79.984 80.002c-6.248 6.247-16.383 6.245-22.627 0L4.705 395.314C-5.365 385.244 1.807 368 16.019 368H64V48c0-8.837 7.163-16 16-16h32c8.837 0 16 7.163 16 16v320h47.984c14.241 0 21.363 17.264 11.314 27.314zM240 96h256c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H240c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16zm-16 112v-32c0-8.837 7.163-16 16-16h192c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H240c-8.837 0-16-7.163-16-16zm0 256v-32c0-8.837 7.163-16 16-16h64c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-64c-8.837 0-16-7.163-16-16zm0-128v-32c0-8.837 7.163-16 16-16h128c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H240c-8.837 0-16-7.163-16-16z"],"sort-amount-up":[512,512,[],"f161","M4.702 116.686l79.984-80.002c6.248-6.247 16.383-6.245 22.627 0l79.981 80.002c10.07 10.07 2.899 27.314-11.314 27.314H128v320c0 8.837-7.163 16-16 16H80c-8.837 0-16-7.163-16-16V144H16.016c-14.241 0-21.363-17.264-11.314-27.314zM240 96h256c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H240c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16zm-16 112v-32c0-8.837 7.163-16 16-16h192c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H240c-8.837 0-16-7.163-16-16zm0 256v-32c0-8.837 7.163-16 16-16h64c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-64c-8.837 0-16-7.163-16-16zm0-128v-32c0-8.837 7.163-16 16-16h128c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H240c-8.837 0-16-7.163-16-16z"],"sort-down":[320,512,[],"f0dd","M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"],"sort-numeric-down":[448,512,[],"f162","M308.811 113.787l-19.448-20.795c-4.522-4.836-4.274-12.421.556-16.95l43.443-40.741a11.999 11.999 0 0 1 8.209-3.247h31.591c6.627 0 12 5.373 12 12v127.07h25.66c6.627 0 12 5.373 12 12v28.93c0 6.627-5.373 12-12 12H301.649c-6.627 0-12-5.373-12-12v-28.93c0-6.627 5.373-12 12-12h25.414v-57.938c-7.254 6.58-14.211 4.921-18.252.601zm-30.57 238.569c0-32.653 23.865-67.356 68.094-67.356 38.253 0 79.424 28.861 79.424 92.228 0 51.276-32.237 105.772-91.983 105.772-17.836 0-30.546-3.557-38.548-6.781-5.79-2.333-8.789-8.746-6.922-14.703l9.237-29.48c2.035-6.496 9.049-9.983 15.467-7.716 13.029 4.602 27.878 5.275 38.103-4.138-38.742 5.072-72.872-25.36-72.872-67.826zm92.273 19.338c0-22.285-15.302-36.505-25.835-36.505-8.642 0-13.164 7.965-13.164 15.832 0 5.669 1.815 24.168 25.168 24.168 9.973 0 13.377-2.154 13.744-2.731.021-.046.087-.291.087-.764zM175.984 368H128V48c0-8.837-7.163-16-16-16H80c-8.837 0-16 7.163-16 16v320H16.019c-14.212 0-21.384 17.244-11.314 27.314l79.981 80.002c6.245 6.245 16.38 6.247 22.627 0l79.984-80.002c10.05-10.05 2.928-27.314-11.313-27.314z"],"sort-numeric-up":[448,512,[],"f163","M308.811 113.787l-19.448-20.795c-4.522-4.836-4.274-12.421.556-16.95l43.443-40.741a11.999 11.999 0 0 1 8.209-3.247h31.591c6.627 0 12 5.373 12 12v127.07h25.66c6.627 0 12 5.373 12 12v28.93c0 6.627-5.373 12-12 12H301.649c-6.627 0-12-5.373-12-12v-28.93c0-6.627 5.373-12 12-12h25.414v-57.938c-7.254 6.58-14.211 4.921-18.252.601zm-30.57 238.569c0-32.653 23.865-67.356 68.094-67.356 38.253 0 79.424 28.861 79.424 92.228 0 51.276-32.237 105.772-91.983 105.772-17.836 0-30.546-3.557-38.548-6.781-5.79-2.333-8.789-8.746-6.922-14.703l9.237-29.48c2.035-6.496 9.049-9.983 15.467-7.716 13.029 4.602 27.878 5.275 38.103-4.138-38.742 5.072-72.872-25.36-72.872-67.826zm92.273 19.338c0-22.285-15.302-36.505-25.835-36.505-8.642 0-13.164 7.965-13.164 15.832 0 5.669 1.815 24.168 25.168 24.168 9.973 0 13.377-2.154 13.744-2.731.021-.046.087-.291.087-.764zM16.016 144H64v320c0 8.837 7.163 16 16 16h32c8.837 0 16-7.163 16-16V144h47.981c14.212 0 21.384-17.244 11.314-27.314l-79.981-80.002c-6.245-6.245-16.38-6.247-22.627 0L4.702 116.686C-5.347 126.736 1.775 144 16.016 144z"],"sort-up":[320,512,[],"f0de","M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"],"space-shuttle":[640,512,[],"f197","M592.604 208.244C559.735 192.836 515.777 184 472 184H186.327c-4.952-6.555-10.585-11.978-16.72-16H376C229.157 137.747 219.403 32 96.003 32H96v128H80V32c-26.51 0-48 28.654-48 64v64c-23.197 0-32 10.032-32 24v40c0 13.983 8.819 24 32 24v16c-23.197 0-32 10.032-32 24v40c0 13.983 8.819 24 32 24v64c0 35.346 21.49 64 48 64V352h16v128h.003c123.4 0 133.154-105.747 279.997-136H169.606c6.135-4.022 11.768-9.445 16.72-16H472c43.777 0 87.735-8.836 120.604-24.244C622.282 289.845 640 271.992 640 256s-17.718-33.845-47.396-47.756zM488 296a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8c31.909 0 31.942 80 0 80z"],spinner:[512,512,[],"f110","M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"],square:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"square-full":[512,512,[],"f45c","M512 512H0V0h512v512z"],star:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"],"star-half":[576,512,[],"f089","M288 0c-11.4 0-22.8 5.9-28.7 17.8L194 150.2 47.9 171.4c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.1 23 46 46.4 33.7L288 439.6V0z"],"step-backward":[448,512,[],"f048","M64 468V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v176.4l195.5-181C352.1 22.3 384 36.6 384 64v384c0 27.4-31.9 41.7-52.5 24.6L136 292.7V468c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12z"],"step-forward":[448,512,[],"f051","M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"],stethoscope:[512,512,[],"f0f1","M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"],"sticky-note":[448,512,[],"f249","M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"],stop:[448,512,[],"f04d","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],"stop-circle":[512,512,[],"f28d","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"],stopwatch:[448,512,[],"f2f2","M432 304c0 114.9-93.1 208-208 208S16 418.9 16 304c0-104 76.3-190.2 176-205.5V64h-28c-6.6 0-12-5.4-12-12V12c0-6.6 5.4-12 12-12h120c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-28v34.5c37.5 5.8 71.7 21.6 99.7 44.6l27.5-27.5c4.7-4.7 12.3-4.7 17 0l28.3 28.3c4.7 4.7 4.7 12.3 0 17l-29.4 29.4-.6.6C419.7 223.3 432 262.2 432 304zm-176 36V188.5c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12V340c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"],"street-view":[512,512,[],"f21d","M192 64c0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64s-64-28.654-64-64zm112 80h-11.36c-22.711 10.443-49.59 10.894-73.28 0H208c-26.51 0-48 21.49-48 48v104c0 13.255 10.745 24 24 24h16v104c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V320h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48zm85.642 189.152a72.503 72.503 0 0 1-29.01 27.009C391.133 365.251 480 385.854 480 416c0 46.304-167.656 64-224 64-70.303 0-224-20.859-224-64 0-30.123 88.361-50.665 119.367-55.839a72.516 72.516 0 0 1-29.01-27.009C74.959 343.395 0 367.599 0 416c0 77.111 178.658 96 256 96 77.249 0 256-18.865 256-96 0-48.403-74.967-72.606-122.358-82.848z"],strikethrough:[512,512,[],"f0cc","M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"],subscript:[512,512,[],"f12c","M395.198 416c3.461-10.526 18.796-21.28 36.265-32.425 16.625-10.605 35.467-22.626 50.341-38.862 17.458-19.054 25.944-40.175 25.944-64.567 0-60.562-50.702-88.146-97.81-88.146-42.491 0-76.378 22.016-94.432 50.447-4.654 7.329-2.592 17.036 4.623 21.865l30.328 20.296c7.032 4.706 16.46 3.084 21.63-3.614 8.022-10.394 18.818-18.225 31.667-18.225 19.387 0 26.266 12.901 26.266 23.948 0 36.159-119.437 57.023-119.437 160.024 0 6.654.561 13.014 1.415 19.331 1.076 7.964 7.834 13.928 15.87 13.928H496c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16H395.198zM272 256c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-62.399a16 16 0 0 1-13.541-7.478l-45.701-72.615c-2.297-3.352-4.422-6.969-6.195-10.209-1.65 3.244-3.647 6.937-5.874 10.582l-44.712 72.147a15.999 15.999 0 0 1-13.6 7.572H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h26.325l56.552-82.709L46.111 96H16C7.163 96 0 88.837 0 80V48c0-8.837 7.163-16 16-16h68.806a16 16 0 0 1 13.645 7.644l39.882 65.126c2.072 3.523 4.053 7.171 5.727 10.37 1.777-3.244 3.92-6.954 6.237-10.537l40.332-65.035A15.999 15.999 0 0 1 204.226 32H272c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-27.979l-52.69 75.671L249.974 256H272z"],subway:[448,512,[],"f239","M448 96v256c0 51.815-61.624 96-130.022 96l62.98 49.721C386.905 502.417 383.562 512 376 512H72c-7.578 0-10.892-9.594-4.957-14.279L130.022 448C61.82 448 0 403.954 0 352V96C0 42.981 64 0 128 0h192c65 0 128 42.981 128 96zM200 232V120c0-13.255-10.745-24-24-24H72c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm200 0V120c0-13.255-10.745-24-24-24H272c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h104c13.255 0 24-10.745 24-24zm-48 56c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm-256 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"],suitcase:[512,512,[],"f0f2","M96 480h320V128h-32V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v48H96v352zm96-384h128v32H192V96zm320 80v256c0 26.51-21.49 48-48 48h-16V128h16c26.51 0 48 21.49 48 48zM64 480H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v352z"],sun:[512,512,[],"f185","M274.835 12.646l25.516 62.393c4.213 10.301 16.671 14.349 26.134 8.492l57.316-35.479c15.49-9.588 34.808 4.447 30.475 22.142l-16.03 65.475c-2.647 10.81 5.053 21.408 16.152 22.231l67.224 4.987c18.167 1.348 25.546 24.057 11.641 35.826L441.81 242.26c-8.495 7.19-8.495 20.289 0 27.479l51.454 43.548c13.906 11.769 6.527 34.478-11.641 35.826l-67.224 4.987c-11.099.823-18.799 11.421-16.152 22.231l16.03 65.475c4.332 17.695-14.986 31.73-30.475 22.142l-57.316-35.479c-9.463-5.858-21.922-1.81-26.134 8.492l-25.516 62.393c-6.896 16.862-30.774 16.862-37.67 0l-25.516-62.393c-4.213-10.301-16.671-14.349-26.134-8.492l-57.317 35.479c-15.49 9.588-34.808-4.447-30.475-22.142l16.03-65.475c2.647-10.81-5.053-21.408-16.152-22.231l-67.224-4.987c-18.167-1.348-25.546-24.057-11.641-35.826L70.19 269.74c8.495-7.19 8.495-20.289 0-27.479l-51.454-43.548c-13.906-11.769-6.527-34.478 11.641-35.826l67.224-4.987c11.099-.823 18.799-11.421 16.152-22.231l-16.03-65.475c-4.332-17.695 14.986-31.73 30.475-22.142l57.317 35.479c9.463 5.858 21.921 1.81 26.134-8.492l25.516-62.393c6.896-16.861 30.774-16.861 37.67 0zM392 256c0-74.991-61.01-136-136-136-74.991 0-136 61.009-136 136s61.009 136 136 136c74.99 0 136-61.009 136-136zm-32 0c0 57.346-46.654 104-104 104s-104-46.654-104-104 46.654-104 104-104 104 46.654 104 104z"],superscript:[512,512,[],"f12b","M395.198 256c3.461-10.526 18.796-21.28 36.265-32.425 16.625-10.605 35.467-22.626 50.341-38.862 17.458-19.054 25.944-40.175 25.944-64.567 0-60.562-50.702-88.146-97.81-88.146-42.491 0-76.378 22.016-94.432 50.447-4.654 7.329-2.592 17.036 4.623 21.865l30.328 20.296c7.032 4.706 16.46 3.084 21.63-3.614 8.022-10.394 18.818-18.225 31.667-18.225 19.387 0 26.266 12.901 26.266 23.948 0 36.159-119.437 57.023-119.437 160.024 0 6.654.561 13.014 1.415 19.331 1.076 7.964 7.834 13.928 15.87 13.928H496c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16H395.198zM272 416c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-62.399a16 16 0 0 1-13.541-7.478l-45.701-72.615c-2.297-3.352-4.422-6.969-6.195-10.209-1.65 3.244-3.647 6.937-5.874 10.582l-44.712 72.147a15.999 15.999 0 0 1-13.6 7.572H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h26.325l56.552-82.709L46.111 256H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h68.806a16 16 0 0 1 13.645 7.644l39.882 65.126c2.072 3.523 4.053 7.171 5.727 10.37 1.777-3.244 3.92-6.954 6.237-10.537l40.332-65.035a16 16 0 0 1 13.598-7.567H272c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-27.979l-52.69 75.671L249.974 416H272z"],sync:[512,512,[],"f021","M440.935 12.574l3.966 82.766C399.416 41.904 331.674 8 256 8 134.813 8 33.933 94.924 12.296 209.824 10.908 217.193 16.604 224 24.103 224h49.084c5.57 0 10.377-3.842 11.676-9.259C103.407 137.408 172.931 80 256 80c60.893 0 114.512 30.856 146.104 77.801l-101.53-4.865c-6.845-.328-12.574 5.133-12.574 11.986v47.411c0 6.627 5.373 12 12 12h200.333c6.627 0 12-5.373 12-12V12c0-6.627-5.373-12-12-12h-47.411c-6.853 0-12.315 5.729-11.987 12.574zM256 432c-60.895 0-114.517-30.858-146.109-77.805l101.868 4.871c6.845.327 12.573-5.134 12.573-11.986v-47.412c0-6.627-5.373-12-12-12H12c-6.627 0-12 5.373-12 12V500c0 6.627 5.373 12 12 12h47.385c6.863 0 12.328-5.745 11.985-12.599l-4.129-82.575C112.725 470.166 180.405 504 256 504c121.187 0 222.067-86.924 243.704-201.824 1.388-7.369-4.308-14.176-11.807-14.176h-49.084c-5.57 0-10.377 3.842-11.676 9.259C408.593 374.592 339.069 432 256 432z"],"sync-alt":[512,512,[],"f2f1","M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"],syringe:[512,512,[],"f48e","M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"],table:[512,512,[],"f0ce","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"],"table-tennis":[512,512,[],"f45d","M496.2 296.5C527.7 218.7 512 126.2 449 63.1 365.1-21 229-21 145.1 63.1l-56 56.1 211.5 211.5c46.1-62.1 131.5-77.4 195.6-34.2zm-217.9 79.7L57.9 155.9c-27.3 45.3-21.7 105 17.3 144.1l34.5 34.6L6.7 424c-8.6 7.5-9.1 20.7-1 28.8l53.4 53.5c8 8.1 21.2 7.6 28.7-1L177.1 402l35.7 35.7c19.7 19.7 44.6 30.5 70.3 33.3-7.1-17-11-35.6-11-55.1-.1-13.8 2.5-27 6.2-39.7zM416 320c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96z"],tablet:[448,512,[],"f10a","M400 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM224 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"],"tablet-alt":[448,512,[],"f3fa","M400 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM224 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm176-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h328c6.6 0 12 5.4 12 12v312z"],"tachometer-alt":[576,512,[],"f3fd","M75.694 480a48.02 48.02 0 0 1-42.448-25.571C12.023 414.3 0 368.556 0 320 0 160.942 128.942 32 288 32s288 128.942 288 288c0 48.556-12.023 94.3-33.246 134.429A48.018 48.018 0 0 1 500.306 480H75.694zM512 288c-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32s32-14.327 32-32c0-17.673-14.327-32-32-32zM288 128c17.673 0 32-14.327 32-32 0-17.673-14.327-32-32-32s-32 14.327-32 32c0 17.673 14.327 32 32 32zM64 288c-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32s32-14.327 32-32c0-17.673-14.327-32-32-32zm65.608-158.392c-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32s32-14.327 32-32c0-17.673-14.327-32-32-32zm316.784 0c-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32s32-14.327 32-32c0-17.673-14.327-32-32-32zm-87.078 31.534c-12.627-4.04-26.133 2.92-30.173 15.544l-45.923 143.511C250.108 322.645 224 350.264 224 384c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64 0-19.773-8.971-37.447-23.061-49.187l45.919-143.498c4.039-12.625-2.92-26.133-15.544-30.173z"],tag:[512,512,[],"f02b","M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"],tags:[640,512,[],"f02c","M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"],tasks:[512,512,[],"f0ae","M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"],taxi:[512,512,[],"f1ba","M461.951 243.865l-21.816-87.268A79.885 79.885 0 0 0 362.522 96H352V56c0-13.255-10.745-24-24-24H184c-13.255 0-24 10.745-24 24v40h-10.522a79.885 79.885 0 0 0-77.612 60.597L50.05 243.865C25.515 252.823 8 276.366 8 304v48c0 20.207 9.374 38.214 24 49.943V456c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24v-40h256v40c0 13.255 10.745 24 24 24h48c13.255 0 24-10.745 24-24v-54.057c14.626-11.729 24-29.737 24-49.943v-48c0-27.634-17.515-51.177-42.049-60.135zM149.478 160h213.045a15.975 15.975 0 0 1 15.522 12.12l16.97 67.88h-278.03l16.97-67.881A15.976 15.976 0 0 1 149.478 160zM132 336c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm320 0c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"],terminal:[640,512,[],"f120","M257.981 272.971L63.638 467.314c-9.373 9.373-24.569 9.373-33.941 0L7.029 444.647c-9.357-9.357-9.375-24.522-.04-33.901L161.011 256 6.99 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L257.981 239.03c9.373 9.372 9.373 24.568 0 33.941zM640 456v-32c0-13.255-10.745-24-24-24H312c-13.255 0-24 10.745-24 24v32c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24z"],"text-height":[576,512,[],"f034","M16 32h288c8.837 0 16 7.163 16 16v96c0 8.837-7.163 16-16 16h-35.496c-8.837 0-16-7.163-16-16V96h-54.761v320H232c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H88c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h34.257V96H67.496v48c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16zm475.308 4.685l79.995 80.001C581.309 126.693 574.297 144 559.99 144H512v224h48c15.639 0 20.635 17.991 11.313 27.314l-79.995 80.001c-6.247 6.247-16.381 6.245-22.626 0l-79.995-80.001C378.691 385.307 385.703 368 400.01 368H448V144h-48c-15.639 0-20.635-17.991-11.313-27.314l79.995-80.001c6.247-6.248 16.381-6.245 22.626 0z"],"text-width":[448,512,[],"f035","M16 32h416c8.837 0 16 7.163 16 16v96c0 8.837-7.163 16-16 16h-35.496c-8.837 0-16-7.163-16-16V96H261.743v128H296c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H152c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h34.257V96H67.496v48c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16zm427.315 340.682l-80.001-79.995C353.991 283.365 336 288.362 336 304v48H112v-47.99c0-14.307-17.307-21.319-27.314-11.313L4.685 372.692c-6.245 6.245-6.247 16.379 0 22.626l80.001 79.995C94.009 484.635 112 479.638 112 464v-48h224v47.99c0 14.307 17.307 21.319 27.314 11.313l80.001-79.995c6.245-6.245 6.248-16.379 0-22.626z"],th:[512,512,[],"f00a","M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"],"th-large":[512,512,[],"f009","M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"],"th-list":[512,512,[],"f00b","M149.333 216v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-80c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zM125.333 32H24C10.745 32 0 42.745 0 56v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zm80 448H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm-24-424v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24zm24 264H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24z"],thermometer:[512,512,[],"f491","M476.8 20.4c-37.5-30.7-95.5-26.3-131.9 10.2l-45.7 46 50.5 50.5c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-50.4-50.5-45.1 45.4 50.3 50.4c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L209 167.4l-45.1 45.4L214 263c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-50.1-50.2L96 281.1V382L7 471c-9.4 9.4-9.4 24.6 0 33.9 9.4 9.4 24.6 9.4 33.9 0l89-89h99.9L484 162.6c34.9-34.9 42.2-101.5-7.2-142.2z"],"thermometer-empty":[256,512,[],"f2cb","M192 384c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-35.346 28.654-64 64-64s64 28.654 64 64zm32-84.653c19.912 22.563 32 52.194 32 84.653 0 70.696-57.303 128-128 128-.299 0-.609-.001-.909-.003C56.789 511.509-.357 453.636.002 383.333.166 351.135 12.225 321.755 32 299.347V96c0-53.019 42.981-96 96-96s96 42.981 96 96v203.347zM208 384c0-34.339-19.37-52.19-32-66.502V96c0-26.467-21.533-48-48-48S80 69.533 80 96v221.498c-12.732 14.428-31.825 32.1-31.999 66.08-.224 43.876 35.563 80.116 79.423 80.42L128 464c44.112 0 80-35.888 80-80z"],"thermometer-full":[256,512,[],"f2c7","M224 96c0-53.019-42.981-96-96-96S32 42.981 32 96v203.347C12.225 321.756.166 351.136.002 383.333c-.359 70.303 56.787 128.176 127.089 128.664.299.002.61.003.909.003 70.698 0 128-57.304 128-128 0-32.459-12.088-62.09-32-84.653V96zm-96 368l-.576-.002c-43.86-.304-79.647-36.544-79.423-80.42.173-33.98 19.266-51.652 31.999-66.08V96c0-26.467 21.533-48 48-48s48 21.533 48 48v221.498c12.63 14.312 32 32.164 32 66.502 0 44.112-35.888 80-80 80zm64-80c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-23.685 12.876-44.349 32-55.417V96c0-17.673 14.327-32 32-32s32 14.327 32 32v232.583c19.124 11.068 32 31.732 32 55.417z"],"thermometer-half":[256,512,[],"f2c9","M192 384c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-23.685 12.876-44.349 32-55.417V224c0-17.673 14.327-32 32-32s32 14.327 32 32v104.583c19.124 11.068 32 31.732 32 55.417zm32-84.653c19.912 22.563 32 52.194 32 84.653 0 70.696-57.303 128-128 128-.299 0-.609-.001-.909-.003C56.789 511.509-.357 453.636.002 383.333.166 351.135 12.225 321.755 32 299.347V96c0-53.019 42.981-96 96-96s96 42.981 96 96v203.347zM208 384c0-34.339-19.37-52.19-32-66.502V96c0-26.467-21.533-48-48-48S80 69.533 80 96v221.498c-12.732 14.428-31.825 32.1-31.999 66.08-.224 43.876 35.563 80.116 79.423 80.42L128 464c44.112 0 80-35.888 80-80z"],"thermometer-quarter":[256,512,[],"f2ca","M192 384c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-23.685 12.876-44.349 32-55.417V288c0-17.673 14.327-32 32-32s32 14.327 32 32v40.583c19.124 11.068 32 31.732 32 55.417zm32-84.653c19.912 22.563 32 52.194 32 84.653 0 70.696-57.303 128-128 128-.299 0-.609-.001-.909-.003C56.789 511.509-.357 453.636.002 383.333.166 351.135 12.225 321.755 32 299.347V96c0-53.019 42.981-96 96-96s96 42.981 96 96v203.347zM208 384c0-34.339-19.37-52.19-32-66.502V96c0-26.467-21.533-48-48-48S80 69.533 80 96v221.498c-12.732 14.428-31.825 32.1-31.999 66.08-.224 43.876 35.563 80.116 79.423 80.42L128 464c44.112 0 80-35.888 80-80z"],"thermometer-three-quarters":[256,512,[],"f2c8","M192 384c0 35.346-28.654 64-64 64-35.346 0-64-28.654-64-64 0-23.685 12.876-44.349 32-55.417V160c0-17.673 14.327-32 32-32s32 14.327 32 32v168.583c19.124 11.068 32 31.732 32 55.417zm32-84.653c19.912 22.563 32 52.194 32 84.653 0 70.696-57.303 128-128 128-.299 0-.609-.001-.909-.003C56.789 511.509-.357 453.636.002 383.333.166 351.135 12.225 321.755 32 299.347V96c0-53.019 42.981-96 96-96s96 42.981 96 96v203.347zM208 384c0-34.339-19.37-52.19-32-66.502V96c0-26.467-21.533-48-48-48S80 69.533 80 96v221.498c-12.732 14.428-31.825 32.1-31.999 66.08-.224 43.876 35.563 80.116 79.423 80.42L128 464c44.112 0 80-35.888 80-80z"],"thumbs-down":[512,512,[],"f165","M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"],"thumbs-up":[512,512,[],"f164","M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"],thumbtack:[384,512,[],"f08d","M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"],"ticket-alt":[576,512,[],"f3ff","M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"],times:[384,512,[],"f00d","M323.1 441l53.9-53.9c9.4-9.4 9.4-24.5 0-33.9L279.8 256l97.2-97.2c9.4-9.4 9.4-24.5 0-33.9L323.1 71c-9.4-9.4-24.5-9.4-33.9 0L192 168.2 94.8 71c-9.4-9.4-24.5-9.4-33.9 0L7 124.9c-9.4 9.4-9.4 24.5 0 33.9l97.2 97.2L7 353.2c-9.4 9.4-9.4 24.5 0 33.9L60.9 441c9.4 9.4 24.5 9.4 33.9 0l97.2-97.2 97.2 97.2c9.3 9.3 24.5 9.3 33.9 0z"],"times-circle":[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"],tint:[384,512,[],"f043","M192 512c-98.435 0-178.087-79.652-178.087-178.087 0-111.196 101.194-154.065 148.522-311.825 9.104-30.116 51.099-28.778 59.13 0 47.546 158.486 148.522 200.069 148.522 311.825C370.087 432.348 290.435 512 192 512zm-42.522-171.826c-1.509-5.533-9.447-5.532-10.956 0-9.223 29.425-27.913 37.645-27.913 58.435C110.609 417.13 125.478 432 144 432s33.391-14.87 33.391-33.391c0-20.839-18.673-28.956-27.913-58.435z"],"toggle-off":[576,512,[],"f204","M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"],"toggle-on":[576,512,[],"f205","M576 256c0 106.039-85.961 192-192 192H192C85.961 448 0 362.039 0 256S85.961 64 192 64h192c106.039 0 192 85.961 192 192zM384 128c-70.741 0-128 57.249-128 128 0 70.741 57.249 128 128 128 70.741 0 128-57.249 128-128 0-70.741-57.249-128-128-128"],trademark:[640,512,[],"f25c","M97.119 163.133H12c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h248.559c6.627 0 12 5.373 12 12v43.133c0 6.627-5.373 12-12 12H175.44V404c0 6.627-5.373 12-12 12h-54.322c-6.627 0-12-5.373-12-12V163.133zM329.825 96h65.425a12 12 0 0 1 11.346 8.093l43.759 127.068c7.161 20.588 16.111 52.812 16.111 52.812h.896s8.95-32.224 16.111-52.812l43.758-127.068A12 12 0 0 1 538.577 96h65.41a12 12 0 0 1 11.961 11.03l24.012 296c.567 6.987-4.951 12.97-11.961 12.97h-54.101a12 12 0 0 1-11.972-11.182l-9.082-132.93c-1.79-24.168 0-53.706 0-53.706h-.896s-10.741 33.566-17.902 53.706l-30.7 84.731a12 12 0 0 1-11.282 7.912h-50.302a12 12 0 0 1-11.282-7.912l-30.7-84.731c-7.161-20.14-17.903-53.706-17.903-53.706h-.895s1.79 29.538 0 53.706l-9.082 132.93c-.428 6.295-5.66 11.182-11.97 11.182H305.4c-7.017 0-12.536-5.994-11.959-12.987l24.425-296A11.999 11.999 0 0 1 329.825 96z"],train:[448,512,[],"f238","M448 96v256c0 51.815-61.624 96-130.022 96l62.98 49.721C386.905 502.417 383.562 512 376 512H72c-7.578 0-10.892-9.594-4.957-14.279L130.022 448C61.82 448 0 403.954 0 352V96C0 42.981 64 0 128 0h192c65 0 128 42.981 128 96zm-48 136V120c0-13.255-10.745-24-24-24H72c-13.255 0-24 10.745-24 24v112c0 13.255 10.745 24 24 24h304c13.255 0 24-10.745 24-24zm-176 64c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56z"],transgender:[384,512,[],"f224","M372 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7C198.5 104.1 172.2 96 144 96 64.5 96 0 160.5 0 240c0 68.5 47.9 125.9 112 140.4V408H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v28c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-28h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-27.6c64.1-14.6 112-71.9 112-140.4 0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V12c0-6.6-5.4-12-12-12zM144 320c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"],"transgender-alt":[480,512,[],"f225","M468 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-80.7 80.7C294.5 104.1 268.2 96 240 96c-28.2 0-54.5 8.1-76.7 22.1l-16.5-16.5 19.8-19.8c4.7-4.7 4.7-12.3 0-17l-28.3-28.3c-4.7-4.7-12.3-4.7-17 0l-19.8 19.8-19-19 16.9-16.9C107.1 12.9 101.7 0 91 0H12C5.4 0 0 5.4 0 12v79c0 10.7 12.9 16 20.5 8.5l16.9-16.9 19 19-19.8 19.8c-4.7 4.7-4.7 12.3 0 17l28.3 28.3c4.7 4.7 12.3 4.7 17 0l19.8-19.8 16.5 16.5C104.1 185.5 96 211.8 96 240c0 68.5 47.9 125.9 112 140.4V408h-36c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v28c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-28h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-27.6c64.1-14.6 112-71.9 112-140.4 0-28.2-8.1-54.5-22.1-76.7l80.7-80.7 16.9 16.9c7.6 7.6 20.5 2.2 20.5-8.5V12c0-6.6-5.4-12-12-12zM240 320c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"],trash:[448,512,[],"f1f8","M0 84V56c0-13.3 10.7-24 24-24h112l9.4-18.7c4-8.2 12.3-13.3 21.4-13.3h114.3c9.1 0 17.4 5.1 21.5 13.3L312 32h112c13.3 0 24 10.7 24 24v28c0 6.6-5.4 12-12 12H12C5.4 96 0 90.6 0 84zm415.2 56.7L394.8 467c-1.6 25.3-22.6 45-47.9 45H101.1c-25.3 0-46.3-19.7-47.9-45L32.8 140.7c-.4-6.9 5.1-12.7 12-12.7h358.5c6.8 0 12.3 5.8 11.9 12.7z"],"trash-alt":[448,512,[],"f2ed","M0 84V56c0-13.3 10.7-24 24-24h112l9.4-18.7c4-8.2 12.3-13.3 21.4-13.3h114.3c9.1 0 17.4 5.1 21.5 13.3L312 32h112c13.3 0 24 10.7 24 24v28c0 6.6-5.4 12-12 12H12C5.4 96 0 90.6 0 84zm416 56v324c0 26.5-21.5 48-48 48H80c-26.5 0-48-21.5-48-48V140c0-6.6 5.4-12 12-12h360c6.6 0 12 5.4 12 12zm-272 68c0-8.8-7.2-16-16-16s-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208zm96 0c0-8.8-7.2-16-16-16s-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208zm96 0c0-8.8-7.2-16-16-16s-16 7.2-16 16v224c0 8.8 7.2 16 16 16s16-7.2 16-16V208z"],tree:[384,512,[],"f1bb","M377.33 375.429L293.906 288H328c21.017 0 31.872-25.207 17.448-40.479L262.79 160H296c20.878 0 31.851-24.969 17.587-40.331l-104-112.003c-9.485-10.214-25.676-10.229-35.174 0l-104 112.003C56.206 134.969 67.037 160 88 160h33.21l-82.659 87.521C24.121 262.801 34.993 288 56 288h34.094L6.665 375.429C-7.869 390.655 2.925 416 24.025 416H144c0 32.781-11.188 49.26-33.995 67.506C98.225 492.93 104.914 512 120 512h144c15.086 0 21.776-19.069 9.995-28.494-19.768-15.814-33.992-31.665-33.995-67.496V416h119.97c21.05 0 31.929-25.309 17.36-40.571z"],trophy:[576,512,[],"f091","M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"],truck:[640,512,[],"f0d1","M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"],tty:[512,512,[],"f1e4","M5.37 103.822c138.532-138.532 362.936-138.326 501.262 0 6.078 6.078 7.074 15.496 2.583 22.681l-43.214 69.138a18.332 18.332 0 0 1-22.356 7.305l-86.422-34.569a18.335 18.335 0 0 1-11.434-18.846L351.741 90c-62.145-22.454-130.636-21.986-191.483 0l5.953 59.532a18.331 18.331 0 0 1-11.434 18.846l-86.423 34.568a18.334 18.334 0 0 1-22.356-7.305L2.787 126.502a18.333 18.333 0 0 1 2.583-22.68zM96 308v-40c0-6.627-5.373-12-12-12H44c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H92c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zM96 500v-40c0-6.627-5.373-12-12-12H44c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H140c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"],tv:[640,512,[],"f26c","M592 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h245.1v32h-160c-17.7 0-32 14.3-32 32s14.3 32 32 32h384c17.7 0 32-14.3 32-32s-14.3-32-32-32h-160v-32H592c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h512v288z"],umbrella:[576,512,[],"f0e9","M557.011 267.631c-51.432-45.217-107.572-43.698-158.567 30.731-5.298 7.861-14.906 7.165-19.736 0-2.483-3.624-32.218-60.808-90.708-60.808-45.766 0-70.542 31.378-90.709 60.808-4.829 7.165-14.436 7.861-19.734 0-50.904-74.285-106.613-76.406-158.567-30.731-10.21 8.264-20.912-1.109-18.696-9.481C32.146 134.573 158.516 64.612 288.001 64.612c128.793 0 256.546 69.961 287.706 193.538 2.206 8.322-8.426 17.793-18.696 9.481zM256 261.001V416c0 17.645-14.355 32-32 32s-32-14.355-32-32c0-17.673-14.327-32-32-32s-32 14.327-32 32c0 52.935 43.065 96 96 96s96-43.065 96-96V261.288c-21.836-10.806-45.425-9.737-64-.287zm64-211.007V32c0-17.673-14.327-32-32-32s-32 14.327-32 32v17.987a372.105 372.105 0 0 1 64 .007z"],underline:[448,512,[],"f0cd","M224.264 388.24c-91.669 0-156.603-51.165-156.603-151.392V64H39.37c-8.837 0-16-7.163-16-16V16c0-8.837 7.163-16 16-16h137.39c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-28.813v172.848c0 53.699 28.314 79.444 76.317 79.444 46.966 0 75.796-25.434 75.796-79.965V64h-28.291c-8.837 0-16-7.163-16-16V16c0-8.837 7.163-16 16-16h136.868c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16h-28.291v172.848c0 99.405-64.881 151.392-156.082 151.392zM16 448h416c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16z"],undo:[512,512,[],"f0e2","M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"],"undo-alt":[512,512,[],"f2ea","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"],"universal-access":[512,512,[],"f29a","M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z"],university:[512,512,[],"f19c","M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"],unlink:[512,512,[],"f127","M304.083 405.907c4.686 4.686 4.686 12.284 0 16.971l-44.674 44.674c-59.263 59.262-155.693 59.266-214.961 0-59.264-59.265-59.264-155.696 0-214.96l44.675-44.675c4.686-4.686 12.284-4.686 16.971 0l39.598 39.598c4.686 4.686 4.686 12.284 0 16.971l-44.675 44.674c-28.072 28.073-28.072 73.75 0 101.823 28.072 28.072 73.75 28.073 101.824 0l44.674-44.674c4.686-4.686 12.284-4.686 16.971 0l39.597 39.598zm-56.568-260.216c4.686 4.686 12.284 4.686 16.971 0l44.674-44.674c28.072-28.075 73.75-28.073 101.824 0 28.072 28.073 28.072 73.75 0 101.823l-44.675 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.598 39.598c4.686 4.686 12.284 4.686 16.971 0l44.675-44.675c59.265-59.265 59.265-155.695 0-214.96-59.266-59.264-155.695-59.264-214.961 0l-44.674 44.674c-4.686 4.686-4.686 12.284 0 16.971l39.597 39.598zm234.828 359.28l22.627-22.627c9.373-9.373 9.373-24.569 0-33.941L63.598 7.029c-9.373-9.373-24.569-9.373-33.941 0L7.029 29.657c-9.373 9.373-9.373 24.569 0 33.941l441.373 441.373c9.373 9.372 24.569 9.372 33.941 0z"],unlock:[448,512,[],"f09c","M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"],"unlock-alt":[448,512,[],"f13e","M400 256H152V152.9c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v16c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-16C376 68 307.5-.3 223.5 0 139.5.3 72 69.5 72 153.5V256H48c-26.5 0-48 21.5-48 48v160c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zM264 408c0 22.1-17.9 40-40 40s-40-17.9-40-40v-48c0-22.1 17.9-40 40-40s40 17.9 40 40v48z"],upload:[512,512,[],"f093","M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"],user:[512,512,[],"f007","M256 0c88.366 0 160 71.634 160 160s-71.634 160-160 160S96 248.366 96 160 167.634 0 256 0zm183.283 333.821l-71.313-17.828c-74.923 53.89-165.738 41.864-223.94 0l-71.313 17.828C29.981 344.505 0 382.903 0 426.955V464c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48v-37.045c0-44.052-29.981-82.45-72.717-93.134z"],"user-circle":[512,512,[],"f2bd","M8 256C8 119.033 119.033 8 256 8s248 111.033 248 248-111.033 248-248 248S8 392.967 8 256zm72.455 125.868C119.657 436.446 183.673 472 256 472s136.343-35.554 175.545-90.132c-3.141-26.99-22.667-49.648-49.538-56.366l-32.374-8.093C323.565 339.79 290.722 352 256 352s-67.565-12.21-93.634-34.591l-32.374 8.093c-26.87 6.718-46.396 29.376-49.537 56.366zM144 208c0 61.856 50.144 112 112 112s112-50.144 112-112S317.856 96 256 96s-112 50.144-112 112z"],"user-md":[448,512,[],"f0f0","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm250.4-151.6l-34.4-5.7v55c36.5 7.4 64 39.8 64 78.4v56c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V400c0-29.6-26.9-53-57.6-47.1-22.8 4.4-38.4 25.8-38.4 49v41l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9v-58c0-38.6 27.5-70.9 64-78.4v-47.2c-19.6 8.6-41.2 13.6-64 13.6-29.3 0-56.4-8.5-80-22.3v104.9c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4V269.3l-18.4 3.1c-54 9-93.6 55.7-93.6 110.5V480c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32v-97.1c-.1-54.8-39.7-101.5-93.7-110.5z"],"user-plus":[640,512,[],"f234","M224 32c77.32 0 140 62.68 140 140s-62.68 140-140 140S84 249.32 84 172 146.68 32 224 32zm160.373 292.093l-62.399-15.6c-65.557 47.154-145.021 36.631-195.948 0l-62.399 15.6C26.233 333.442 0 367.04 0 405.585V438c0 23.196 18.804 42 42 42h364c23.196 0 42-18.804 42-42v-32.415c0-38.545-26.233-72.143-63.627-81.492zM628 224.889h-68.889V156c0-6.627-5.373-12-12-12h-38.222c-6.627 0-12 5.373-12 12l-.002 68.887-68.887.002c-6.627 0-12 5.373-12 12v38.222c0 6.627 5.373 12 12 12l68.887.002.002 68.887c0 6.627 5.373 12 12 12h38.222c6.627 0 12-5.373 12-12l.002-68.887 68.887-.002c6.627 0 12-5.373 12-12v-38.222c0-6.627-5.373-12-12-12z"],"user-secret":[448,512,[],"f21b","M388.829 295.324l20.972-55.052c2.992-7.854-2.809-16.272-11.214-16.272H340.39c7.45-16.236 11.61-34.297 11.61-53.333 0-3.631-.16-7.224-.456-10.778C391.083 152.074 416 140.684 416 128c0-13.263-27.231-25.112-69.947-32.937-9.185-32.805-27.178-65.797-40.714-82.85-9.452-11.908-25.873-15.634-39.471-8.834l-27.557 13.779a31.997 31.997 0 0 1-28.622 0l-27.557-13.78c-13.599-6.799-30.02-3.074-39.471 8.834-13.536 17.053-31.529 50.045-40.714 82.85C59.231 102.888 32 114.737 32 128c0 12.684 24.917 24.074 64.456 31.889A129.362 129.362 0 0 0 96 170.667c0 19.037 4.159 37.098 11.608 53.333h-57.41c-8.615 0-14.423 8.808-11.029 16.727l22.906 53.447C25.799 307.882 0 342.925 0 384v80c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48v-80c0-39.97-24.43-74.231-59.171-88.676zM184 488l-48-192 48 24 24 40-24 128zm80 0l-24-128 24-40 48-24-48 192zm54.778-303.746c-.008.043-4.299 3.231-5.125 5.771-3.861 11.864-7.026 24.572-16.514 33.359-10.071 9.327-47.957 22.405-63.996-25.029-2.837-8.395-15.447-8.398-18.285 0-16.963 50.168-56.019 32.417-63.996 25.029-9.488-8.786-12.653-21.495-16.514-33.359-.826-2.54-5.118-5.728-5.125-5.771-.554-2.925-.981-5.884-1.22-8.85-.309-3.848 10.078-3.658 11.078-3.747 26.303-2.326 52.303-.579 78.023 5.497 2.563.606 11.553.529 13.793 0 25.72-6.076 51.72-7.824 78.023-5.497 1.002.089 11.387-.102 11.078 3.747-.239 2.966-.666 5.925-1.22 8.85z"],"user-times":[640,512,[],"f235","M224 32c77.32 0 140 62.68 140 140s-62.68 140-140 140S84 249.32 84 172 146.68 32 224 32zm160.373 292.093l-62.399-15.6c-65.557 47.154-145.021 36.631-195.948 0l-62.399 15.6C26.233 333.442 0 367.04 0 405.585V438c0 23.196 18.804 42 42 42h364c23.196 0 42-18.804 42-42v-32.415c0-38.545-26.233-72.143-63.627-81.492zM587.897 256l48.596-48.598c4.675-4.675 4.675-12.256 0-16.931l-26.964-26.964c-4.675-4.675-12.256-4.675-16.931 0L544 212.105l-48.598-48.598c-4.675-4.675-12.256-4.675-16.931 0l-26.964 26.964c-4.675 4.675-4.675 12.256 0 16.931L500.103 256l-48.596 48.598c-4.675 4.675-4.675 12.256 0 16.931l26.964 26.964c4.675 4.675 12.256 4.675 16.931 0L544 299.897l48.598 48.596c4.675 4.675 12.256 4.675 16.931 0l26.964-26.964c4.675-4.675 4.675-12.256 0-16.931L587.897 256z"],users:[640,512,[],"f0c0","M320 64c57.99 0 105 47.01 105 105s-47.01 105-105 105-105-47.01-105-105S262.01 64 320 64zm113.463 217.366l-39.982-9.996c-49.168 35.365-108.766 27.473-146.961 0l-39.982 9.996C174.485 289.379 152 318.177 152 351.216V412c0 19.882 16.118 36 36 36h264c19.882 0 36-16.118 36-36v-60.784c0-33.039-22.485-61.837-54.537-69.85zM528 300c38.66 0 70-31.34 70-70s-31.34-70-70-70-70 31.34-70 70 31.34 70 70 70zm-416 0c38.66 0 70-31.34 70-70s-31.34-70-70-70-70 31.34-70 70 31.34 70 70 70zm24 112v-60.784c0-16.551 4.593-32.204 12.703-45.599-29.988 14.72-63.336 8.708-85.69-7.37l-26.655 6.664C14.99 310.252 0 329.452 0 351.477V392c0 13.255 10.745 24 24 24h112.169a52.417 52.417 0 0 1-.169-4zm467.642-107.09l-26.655-6.664c-27.925 20.086-60.89 19.233-85.786 7.218C499.369 318.893 504 334.601 504 351.216V412c0 1.347-.068 2.678-.169 4H616c13.255 0 24-10.745 24-24v-40.523c0-22.025-14.99-41.225-36.358-46.567z"],"utensil-spoon":[512,512,[],"f2e5","M480.1 31.9c-55-55.1-164.9-34.5-227.8 28.5-49.3 49.3-55.1 110-28.8 160.4L9 413.2c-11.6 10.5-12.1 28.5-1 39.5L59.3 504c11 11 29.1 10.5 39.5-1.1l192.4-214.4c50.4 26.3 111.1 20.5 160.4-28.8 63-62.9 83.6-172.8 28.5-227.8z"],utensils:[416,512,[],"f2e7","M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"],venus:[288,512,[],"f221","M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V368H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80z"],"venus-double":[512,512,[],"f226","M288 176c0-79.5-64.5-144-144-144S0 96.5 0 176c0 68.5 47.9 125.9 112 140.4V368H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.5 112-71.9 112-140.4zm-224 0c0-44.1 35.9-80 80-80s80 35.9 80 80-35.9 80-80 80-80-35.9-80-80zm336 140.4V368h36c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-36v36c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-36h-36c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h36v-51.6c-21.2-4.8-40.6-14.3-57.2-27.3 14-16.7 25-36 32.1-57.1 14.5 14.8 34.7 24 57.1 24 44.1 0 80-35.9 80-80s-35.9-80-80-80c-22.3 0-42.6 9.2-57.1 24-7.1-21.1-18-40.4-32.1-57.1C303.4 43.6 334.3 32 368 32c79.5 0 144 64.5 144 144 0 68.5-47.9 125.9-112 140.4z"],"venus-mars":[576,512,[],"f228","M564 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-48.7 48.7C422.5 72.1 396.2 64 368 64c-33.7 0-64.6 11.6-89.2 30.9 14 16.7 25 36 32.1 57.1 14.5-14.8 34.7-24 57.1-24 44.1 0 80 35.9 80 80s-35.9 80-80 80c-22.3 0-42.6-9.2-57.1-24-7.1 21.1-18 40.4-32.1 57.1 24.5 19.4 55.5 30.9 89.2 30.9 79.5 0 144-64.5 144-144 0-28.2-8.1-54.5-22.1-76.7l48.7-48.7 16.9 16.9c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V12c0-6.6-5.4-12-12-12zM144 64C64.5 64 0 128.5 0 208c0 68.5 47.9 125.9 112 140.4V400H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.6 112-71.9 112-140.4 0-79.5-64.5-144-144-144zm0 224c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"],video:[576,512,[],"f03d","M528 64h-12.118a48 48 0 0 0-33.941 14.059L384 176v-64c0-26.51-21.49-48-48-48H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-64l97.941 97.941A48 48 0 0 0 515.882 448H528c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48z"],"volleyball-ball":[495,512,[],"f45f","M223.3 243.4c-.9-37-8.6-72.8-22.7-105.7-90.8 42.4-157.5 122.4-180.3 216.8 13.4 30.8 32.9 58.3 56.9 81.1 22.7-79.2 74.2-147.8 146.1-192.2zM186.4 109c-15-26.4-34.5-50.1-57.4-70.7C38 88.1-15.8 191.2 4 300.5c33.4-83.1 98.4-152 182.4-191.5zM374 274.1c8.6-99.8-27.3-197.5-97.5-264.4-14.7-1.7-51.6-5.5-98.9 8.5 57.3 59.3 91 138.2 93.5 222.7 32.5 17.7 67.3 29 102.9 33.2zm-124.7 9.5c-31.6 19.3-58.7 43.9-80.2 72.6 82 57.3 184.5 75.1 277.5 47.8 19.7-26.4 34.2-56.8 42.2-89.9-26.6 6.6-53.7 10.4-80.9 10.4-54.6-.1-108.9-14.1-158.6-40.9zM151 383.3c-15.2 26-25.7 54.4-32.1 84.2 37.6 23 81.7 36.5 129.1 36.5 61 0 116.7-22.1 159.9-58.6C295 461.5 204.6 420.6 151 383.3zM331.3 22.7c55.3 70.4 82.5 161.2 74.6 253.6 30.3.2 60.5-4.8 89.7-14.2 0-2 .3-4 .3-6 0-107.8-68.7-199.1-164.6-233.4z"],"volume-down":[384,512,[],"f027","M256 88.017v335.964c0 21.438-25.943 31.998-40.971 16.971L126.059 352H24c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h102.059l88.971-88.954c15.01-15.01 40.97-4.49 40.97 16.971zM384 256c0-33.717-17.186-64.35-45.972-81.944-15.079-9.214-34.775-4.463-43.992 10.616s-4.464 34.775 10.615 43.992C314.263 234.538 320 244.757 320 256a32.056 32.056 0 0 1-13.802 26.332c-14.524 10.069-18.136 30.006-8.067 44.53 10.07 14.525 30.008 18.136 44.53 8.067C368.546 316.983 384 287.478 384 256z"],"volume-off":[256,512,[],"f026","M256 88.017v335.964c0 21.438-25.943 31.998-40.971 16.971L126.059 352H24c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h102.059l88.971-88.954c15.01-15.01 40.97-4.49 40.97 16.971z"],"volume-up":[576,512,[],"f028","M256 88.017v335.964c0 21.438-25.943 31.998-40.971 16.971L126.059 352H24c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h102.059l88.971-88.954c15.01-15.01 40.97-4.49 40.97 16.971zm182.056-77.876C422.982.92 403.283 5.668 394.061 20.745c-9.221 15.077-4.473 34.774 10.604 43.995C468.967 104.063 512 174.983 512 256c0 73.431-36.077 142.292-96.507 184.206-14.522 10.072-18.129 30.01-8.057 44.532 10.076 14.528 30.016 18.126 44.531 8.057C529.633 438.927 576 350.406 576 256c0-103.244-54.579-194.877-137.944-245.859zM480 256c0-68.547-36.15-129.777-91.957-163.901-15.076-9.22-34.774-4.471-43.994 10.607-9.22 15.078-4.471 34.774 10.607 43.994C393.067 170.188 416 211.048 416 256c0 41.964-20.62 81.319-55.158 105.276-14.521 10.073-18.128 30.01-8.056 44.532 6.216 8.96 16.185 13.765 26.322 13.765a31.862 31.862 0 0 0 18.21-5.709C449.091 377.953 480 318.938 480 256zm-96 0c0-33.717-17.186-64.35-45.972-81.944-15.079-9.214-34.775-4.463-43.992 10.616s-4.464 34.775 10.615 43.992C314.263 234.538 320 244.757 320 256a32.056 32.056 0 0 1-13.802 26.332c-14.524 10.069-18.136 30.006-8.067 44.53 10.07 14.525 30.008 18.136 44.53 8.067C368.546 316.983 384 287.478 384 256z"],warehouse:[640,512,[],"f494","M504 352H136.4c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 96H136.1c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0-192H136.6c-4.4 0-8 3.6-8 8l-.1 48c0 4.4 3.6 8 8 8H504c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm106.5-139L338.4 3.7a48.15 48.15 0 0 0-36.9 0L29.5 117C11.7 124.5 0 141.9 0 161.3V504c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V256c0-17.6 14.6-32 32.6-32h382.8c18 0 32.6 14.4 32.6 32v248c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V161.3c0-19.4-11.7-36.8-29.5-44.3z"],weight:[512,512,[],"f496","M448 64h-26c16.4 28.3 26 61 26 96 0 105.9-86.1 192-192 192S64 265.9 64 160c0-35 9.6-67.7 26-96H64C28.7 64 0 92.7 0 128v320c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64zM256 320c88.4 0 160-71.6 160-160S344.4 0 256 0 96 71.6 96 160s71.6 160 160 160zm-.3-151.9l33.6-78.4c3.5-8.2 12.9-11.9 21-8.4s11.9 12.9 8.4 21L285 180.9c6.7 7.1 10.9 16.6 10.9 27.1 0 22.1-17.9 40-40 40s-40-17.9-40-40c.1-22 17.9-39.8 39.8-39.9z"],wheelchair:[512,512,[],"f193","M496.101 385.669l14.227 28.663c3.929 7.915.697 17.516-7.218 21.445l-65.465 32.886c-16.049 7.967-35.556 1.194-43.189-15.055L331.679 320H192c-15.925 0-29.426-11.71-31.679-27.475C126.433 55.308 128.38 70.044 128 64c0-36.358 30.318-65.635 67.052-63.929 33.271 1.545 60.048 28.905 60.925 62.201.868 32.933-23.152 60.423-54.608 65.039l4.67 32.69H336c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16H215.182l4.572 32H352a32 32 0 0 1 28.962 18.392L438.477 396.8l36.178-18.349c7.915-3.929 17.517-.697 21.446 7.218zM311.358 352h-24.506c-7.788 54.204-54.528 96-110.852 96-61.757 0-112-50.243-112-112 0-41.505 22.694-77.809 56.324-97.156-3.712-25.965-6.844-47.86-9.488-66.333C45.956 198.464 0 261.963 0 336c0 97.047 78.953 176 176 176 71.87 0 133.806-43.308 161.11-105.192L311.358 352z"],wifi:[640,512,[],"f1eb","M384 416c0 35.346-28.654 64-64 64s-64-28.654-64-64c0-35.346 28.654-64 64-64s64 28.654 64 64zm136.659-124.443c6.465-6.465 6.245-17.065-.564-23.167-113.793-101.985-286.526-101.869-400.19 0-6.809 6.102-7.029 16.702-.564 23.167l34.006 34.006c5.927 5.927 15.464 6.32 21.769.796 82.88-72.609 207.074-72.447 289.768 0 6.305 5.524 15.842 5.132 21.769-.796l34.006-34.006zm112.11-113.718c6.385-6.385 6.254-16.816-.35-22.973-175.768-163.86-449.134-163.8-624.837 0-6.604 6.157-6.735 16.589-.35 22.973l33.966 33.966c6.095 6.095 15.891 6.231 22.224.383 144.763-133.668 368.356-133.702 513.156 0 6.333 5.848 16.129 5.712 22.224-.383l33.967-33.966z"],"window-close":[512,512,[],"f410","M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-83.6 290.5c4.8 4.8 4.8 12.6 0 17.4l-40.5 40.5c-4.8 4.8-12.6 4.8-17.4 0L256 313.3l-66.5 67.1c-4.8 4.8-12.6 4.8-17.4 0l-40.5-40.5c-4.8-4.8-4.8-12.6 0-17.4l67.1-66.5-67.1-66.5c-4.8-4.8-4.8-12.6 0-17.4l40.5-40.5c4.8-4.8 12.6-4.8 17.4 0l66.5 67.1 66.5-67.1c4.8-4.8 12.6-4.8 17.4 0l40.5 40.5c4.8 4.8 4.8 12.6 0 17.4L313.3 256l67.1 66.5z"],"window-maximize":[512,512,[],"f2d0","M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-16 160H64v-84c0-6.6 5.4-12 12-12h360c6.6 0 12 5.4 12 12v84z"],"window-minimize":[512,512,[],"f2d1","M464 352H48c-26.5 0-48 21.5-48 48v32c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-32c0-26.5-21.5-48-48-48z"],"window-restore":[512,512,[],"f2d2","M512 48v288c0 26.5-21.5 48-48 48h-48V176c0-44.1-35.9-80-80-80H128V48c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zM384 176v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48h288c26.5 0 48 21.5 48 48zm-68 28c0-6.6-5.4-12-12-12H76c-6.6 0-12 5.4-12 12v52h252v-52z"],"won-sign":[576,512,[],"f159","M564 192c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-48.028l18.572-80.61c1.732-7.518-3.978-14.694-11.693-14.694h-46.107a11.998 11.998 0 0 0-11.736 9.5L450.73 128H340.839l-19.725-85.987a12 12 0 0 0-11.696-9.317H265.43a12 12 0 0 0-11.687 9.277L233.696 128H124.975L107.5 42.299a12 12 0 0 0-11.758-9.602H53.628c-7.686 0-13.39 7.124-11.709 14.624L60 128H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h62.342l7.171 32H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h83.856l40.927 182.624A12 12 0 0 0 148.492 480h56.767c5.583 0 10.428-3.85 11.689-9.288L259.335 288h55.086l42.386 182.712A12 12 0 0 0 368.496 480h56.826a12 12 0 0 0 11.694-9.306L479.108 288H564c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-70.146l7.373-32H564zm-425.976 0h80.757l-7.457 32h-66.776l-6.524-32zm45.796 150.029c-6.194 25.831-6.758 47.25-7.321 47.25h-1.126s-1.689-22.05-6.758-47.25L157.599 288h38.812l-12.591 54.029zM274.182 224l1.996-8.602c1.856-7.962 3.457-15.968 4.803-23.398h11.794c1.347 7.43 2.947 15.436 4.803 23.398l1.996 8.602h-25.392zm130.959 118.029c-5.068 25.2-6.758 47.25-6.758 47.25h-1.126c-.563 0-1.126-21.42-7.321-47.25L377.542 288h39.107l-11.508 54.029zM430.281 224h-67.42l-7.34-32h81.577l-6.817 32z"],wrench:[512,512,[],"f0ad","M481.156 200c9.3 0 15.12 10.155 10.325 18.124C466.295 259.992 420.419 288 368 288c-79.222 0-143.501-63.974-143.997-143.079C223.505 65.469 288.548-.001 368.002 0c52.362.001 98.196 27.949 123.4 69.743C496.24 77.766 490.523 88 481.154 88H376l-40 56 40 56h105.156zm-171.649 93.003L109.255 493.255c-24.994 24.993-65.515 24.994-90.51 0-24.993-24.994-24.993-65.516 0-90.51L218.991 202.5c16.16 41.197 49.303 74.335 90.516 90.503zM104 432c0-13.255-10.745-24-24-24s-24 10.745-24 24 10.745 24 24 24 24-10.745 24-24z"],"yen-sign":[384,512,[],"f157","M351.208 32h-65.277a12 12 0 0 0-10.778 6.724l-55.39 113.163c-14.513 34.704-27.133 71.932-27.133 71.932h-1.262s-12.62-37.228-27.133-71.932l-55.39-113.163A11.997 11.997 0 0 0 98.068 32H32.792c-9.057 0-14.85 9.65-10.59 17.643L102.322 200H44c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h88.162L152 293.228V320H44c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h108v92c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-92h108c6.627 0 12-5.373 12-12v-32c0-6.627-5.373-12-12-12H232v-26.772L251.838 256H340c6.627 0 12-5.373 12-12v-32c0-6.627-5.373-12-12-12h-58.322l80.12-150.357C366.058 41.65 360.266 32 351.208 32z"]},Pn={licorice:"#000000",lead:"#1e1e1e",tungsten:"#3a3a3a",iron:"#545453",steel:"#6e6e6e",tin:"#878687",nickel:"#888787",aluminum:"#a09fa0",magnesium:"#b8b8b8",silver:"#d0d0d0",mercury:"#e8e8e8",snow:"white",cayenne:"#891100",mocha:"#894800",aspargus:"#888501",fern:"#458401",clover:"#028401",moss:"#018448",teal:"#008688",ocean:"#004a88",midnight:"#001888",eggplant:"#491a88",plum:"#891e88",maroon:"#891648",maraschino:"#ff2101",tangerine:"#ff8802",lemon:"#fffa03",lime:"#83f902",spring:"#05f802",seam_foam:"#03f987",turquoise:"#00fdff",aqua:"#008cff",blueberry:"#002eff",grape:"#8931ff",magenta:"#ff39ff",strawberry:"#ff2987",salmon:"#ff726e",cantaloupe:"#ffce6e",banana:"#fffb6d",honeydew:"#cefa6e",flora:"#68f96e",spindrift:"#68fbd0",ice:"#68fdff",sky:"#6acfff",orchid:"#6e76ff",lavender:"#d278ff",bubblegum:"#ff7aff",carnation:"#ff7fd3"},In={A:[0,200,0],C:[0,0,200],T:[255,0,0],G:[209,113,5],a:[0,200,0],c:[0,0,200],t:[255,0,0],g:[209,113,5],N:[80,80,80]},Mn={A:"rgb(  0, 200,   0)",C:"rgb(  0,   0, 200)",T:"rgb(255,   0,   0)",G:"rgb(209, 113,   5)",a:"rgb(  0, 200,   0)",c:"rgb(  0,   0, 200)",t:"rgb(255,   0,   0)",g:"rgb(209, 113,   5)",N:"rgb(80, 80, 80)"},Dn={Set1:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(166,86,40)","rgb(152,78,163)","rgb(255,127,0)","rgb(247,129,191)","rgb(153,153,153)","rgb(255,255,51)"],Dark2:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],Set2:["rgb(102, 194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],Set3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],Pastel1:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],Pastel2:["rgb(173,226,207)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(243,225,206)"],Accent:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"]};function Ln(e){this.colors=Dn[e],Array.isArray(this.colors)||(this.colors=[]),this.colorTable={},this.nextIdx=0,this.colorGenerator=new Nn}function Nn(){this.hue=Math.random(),this.goldenRatio=.618033988749895,this.hexwidth=2}Ln.prototype.getColor=function(e){return this.colorTable.hasOwnProperty(e)||(this.nextIdx<this.colors.length?this.colorTable[e]=this.colors[this.nextIdx]:this.colorTable[e]=this.colorGenerator.get(),this.nextIdx++),this.colorTable[e]},Nn.prototype.hsvToRgb=function(e,t,n){var r=Math.floor(6*e),o=6*e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=255,c=255,u=255;switch(r){case 0:l=n,c=s,u=i;break;case 1:l=a,c=n,u=i;break;case 2:l=i,c=n,u=s;break;case 3:l=i,c=a,u=n;break;case 4:l=s,c=i,u=n;break;case 5:l=n,c=i,u=a}return[Math.floor(256*l),Math.floor(256*c),Math.floor(256*u)]},Nn.prototype.padHex=function(e){return e.length>this.hexwidth?e:new Array(this.hexwidth-e.length+1).join("0")+e},Nn.prototype.get=function(e,t){this.hue+=this.goldenRatio,this.hue%=1,"number"!=typeof e&&(e=.5),"number"!=typeof t&&(t=.95);var n=this.hsvToRgb(this.hue,e,t);return"#"+this.padHex(n[0].toString(16))+this.padHex(n[1].toString(16))+this.padHex(n[2].toString(16))};var Rn=function(t,n){if(0===t.length)return e;var r=Math.floor(t.length*((100-n)/100));return 0===r?(t.sort(function(e,t){return t-e}),t[r]):function(e,t){var n,r=new Gn;for(n=0;n<e.length;n++){var o=e[n];(r.content.length<t||o>r.content[0])&&(r.content.length===t&&r.pop(),r.push(o))}return r.content[0]}(t,r)},jn=function(e,t,n){return Math.min(Math.max(e,t),n)},Fn=function(e){return Math.log(e)/Math.LN2};function Gn(){this.content=[]}Gn.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]===e){var r=this.content.pop();if(n===t-1)break;this.content[n]=r,this.bubbleUp(n),this.sinkDown(n);break}},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e],n=t;e>0;){var r=Math.floor((e+1)/2)-1,o=this.content[r];if(n>=o)break;this.content[r]=t,this.content[e]=o,e=r}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=n;;){var o=2*(e+1),i=o-1,a=null;if(i<t){var s=this.content[i],l=s;s<r&&(a=i)}if(o<t&&this.content[o]<(null==a?r:l)&&(a=o),null==a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}};var Bn={rgbListFromHSV:function(){for(var e=[],t=1;t>=.5;t-=.1)for(var n=0;n<1;n+=1/28){var r="rgb("+Bn.hsvToRgb(n,1,t).join(",")+")";e.push(r)}return e.pop(),e.push(Bn.rgbColor(16,16,16)),e},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},hexToRgb:function(t){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null===n?e:"rgb("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+")"},hsvToRgb:function(e,t,n){var r,o,i,a=Math.floor(6*e),s=6*e-a,l=n*(1-t),c=n*(1-s*t),u=n*(1-(1-s)*t);switch(a%6){case 0:r=n,o=u,i=l;break;case 1:r=c,o=n,i=l;break;case 2:r=l,o=n,i=u;break;case 3:r=l,o=c,i=n;break;case 4:r=u,o=l,i=n;break;case 5:r=n,o=l,i=c}return[Math.floor(255*r),Math.floor(255*o),Math.floor(255*i)]},hslToRgb:function(e,t,n){var r,o,i;if(0===t)r=o=i=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=Bn.hue2rgb(s,a,e+1/3),o=Bn.hue2rgb(s,a,e),i=Bn.hue2rgb(s,a,e-1/3)}return[255*r,255*o,255*i]},hue2rgb:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},rgbaColor:function(e,t,n,r){return"rgba("+(e=jn(e,0,255))+","+(t=jn(t,0,255))+","+(n=jn(n,0,255))+","+(r=jn(r,0,1))+")"},rgbColor:function(e,t,n){return"rgb("+(e=jn(e,0,255))+","+(t=jn(t,0,255))+","+(n=jn(n,0,255))+")"},greyScale:function(e){var t=jn(e,0,255);return"rgb("+t+","+t+","+t+")"},randomGrey:function(e,t){e=jn(e,0,255),t=jn(t,0,255);var n=Math.round(Math.random(e,t)).toString(10);return"rgb("+n+","+n+","+n+")"},randomRGB:function(e,t){return e=jn(e,0,255),t=jn(t,0,255),"rgb("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+")"},randomRGBConstantAlpha:function(e,t,n){return e=jn(e,0,255),t=jn(t,0,255),"rgba("+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+Math.round(Math.random(e,t)).toString(10)+","+n+")"},addAlpha:function(e,t){var n=this.colorNameToHex(e);n&&(e=n);var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e);return e.startsWith("rgba")?e:(r&&(e=Bn.hexToRgb(e)),e.startsWith("rgb")?e.replace("rgb","rgba").replace(")",", "+t+")"):e)},getCompositeColor:function(e,t,n){return"rgb("+Math.floor(n*t[0]+(1-n)*e[0])+","+Math.floor(n*t[1]+(1-n)*e[1])+","+Math.floor(n*t[2]+(1-n)*e[2])+")"},createColorString:function(e){return e.includes(",")?e.startsWith("rgb")?e:"rgb("+e+")":e},darkenLighten:function(e,t){var n=this.colorNameToHex(e),r=(n?Bn.hexToRgb(n):e.startsWith("rgb(")?e:Bn.hexToRgb(e)).replace(")","").substring(4).split(","),o=Math.max(0,Math.min(255,Number.parseInt(r[0].trim())+t)),i=Math.max(0,Math.min(255,Number.parseInt(r[1].trim())+t)),a=Math.max(0,Math.min(255,Number.parseInt(r[2].trim())+t));return"rgb("+o.toString()+","+i.toString()+","+a.toString()+")"},colorNameToHex:function(e){return{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",darkgrey:"#a9a9a9",darkslategrey:"#2f4f4f",dimgrey:"#696969",grey:"#808080",lightgray:"#d3d3d3",lightslategrey:"#778899",slategrey:"#708090"}[e]}};function zn(e,t){var n=fn("<div>");e.append(n),n.append(En("times")),n.on("click",function(e){e.preventDefault(),e.stopPropagation(),t()})}function Vn(e,t,n){var r=Object.values(Pn);n&&"function"!=typeof n&&(r.splice(11,1),r.unshift(Bn.rgbToHex(n)));for(var o=function(){var n=a[i],r=fn("<div>",{class:"igv-color-swatch"});e.append(r),r.css("background-color",n),"white"===n||(r.hover(function(){r.get(0).style.borderColor=n},function(){r.get(0).style.borderColor="white"}),r.on("click.trackview",function(e){e.stopPropagation(),t(n)}),r.on("touchend.trackview",function(e){e.stopPropagation(),t(n)}))},i=0,a=r;i<a.length;i++)o()}var Hn=function(e,t){var n=e.getBoundingClientRect(),r=n.x,o=n.y,i=(n.width,n.height,t.getBoundingClientRect());return{x:i.x-r,y:i.y-o,width:i.width,height:i.height}};function Un(e){if(e.type.startsWith("touch")){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.pageX,y:e.pageY}}function qn(e,t){var n=fn(t);n.offset();var r=Un(e);return{x:r.x-n.offset().left,y:r.y-n.offset().top}}function Wn(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}var Kn=kn.trackMenuItemListHelper,$n=function(e,t){this.browser=t,this.$parent=function(e){var t,n=this;return this.$popover=fn('<div class="igv-popover">'),e.append(this.$popover),t=fn('<div class="igv-popover-header">'),this.$popover.append(t),zn(t,function(){n.hide()}),this.$popoverContent=fn("<div>"),this.$popover.append(this.$popoverContent),Cn(this.$popover.get(0),t.get(0)),e}.call(this,e)};function Yn(e,t,n){var r,o,i=e,a=fn(window).width(),s=(fn(window).height(),e),l=t;return r=s-=n.$parent.offset().left,i+(o={x:s,y:l-=n.$parent.offset().top,width:n.$popover.outerWidth(),height:n.$popover.outerHeight()}).width>a&&(r=s-o.width),{left:r+"px",top:l+"px"}}$n.prototype.hide=function(){this.$popover.hide()},$n.prototype.presentTrackContextMenu=function(t,n){var r=this.$popover;if(fn(".igv-popover").hide(),n.length>0){n=Kn(n,r),this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content");var o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;this.$popoverContent.append(c.object)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var u=Un(t);r.css(Yn(u.x,u.y,this)),r.show()}},$n.prototype.presentTrackContent=function(t,n,r){fn(".igv-popover").hide(),e!==r&&(this.$popoverContent.empty(),this.$popoverContent.removeClass(),this.$popoverContent.addClass("igv-popover-track-popup-content"),this.$popoverContent.html(r),this.$popover.css(Yn(t,n,this)),this.$popover.show())},$n.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach(function(t){this[t]=e})};var Qn=function(e,t){return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype._super=Object.getPrototypeOf(t.prototype),t};function Xn(t){var n=new Set(["boolean","number","string","symbol"]),r=D(t);return t!==e&&(n.has(r)||t.substring||t.toFixed)}function Zn(e,t){var n={oauthToken:e.oauthToken,headers:e.headers,withCredentials:e.withCredentials,filename:e.filename};return Object.assign(n,t)}function Jn(e,t){var n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}var er=function(e){var t,n;return e.length>0?(t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e.forEach(function(e){Number.isNaN(e.value)||(t=Math.min(t,e.value),n=Math.max(n,e.value))}),n>0&&(t=Math.min(0,t)),n<0&&(n=0)):(t=0,n=100),{min:t,max:n}},tr=function(t,n,r){var o=n.start,i=n.end;if(e===i)(i=(o-=r/2)+r)>t?o=(i=t)-r:o<0&&(o=0,i=r);else if(i-o<r){var a=(i+o)/2;a-r/2<0?i=(o=0)+r:a+r/2>t?o=(i=t)-r:i=(o=a-r/2)+r}n.start=Math.ceil(o),n.end=Math.floor(i)},nr=function(e){this.viewport=e,this.browser=e.browser,this.$rulerSweeper=fn('<div class="igv-ruler-sweeper-div">'),fn(e.contentDiv).append(this.$rulerSweeper),this.namespace=".sweeper_"+Wn(),this.addMouseHandlers()};function rr(e){return this.viewport.genomicState.referenceFrame.start+e*this.viewport.genomicState.referenceFrame.bpPerPixel}nr.prototype.disableMouseHandlers=function(){fn(document).off(this.namespace),this.viewport.$viewport.off(this.namespace)},nr.prototype.addMouseHandlers=function(){var t,n,r,o,i,a,s=this.browser,l=this;this.disableMouseHandlers(),t=n=r=e,fn(this.browser.$root).on("mousedown"+this.namespace,function(e){n=!0,r=qn(e,l.viewport.$viewport).x,!0===t&&(l.$rulerSweeper.show(),i=1,o=r,l.$rulerSweeper.css({left:o+"px"}),l.$rulerSweeper.width(i))}),fn(this.browser.$root).on("mousemove"+this.namespace,function(e){var s;t&&n&&(s=qn(e,l.viewport.$viewport).x,s=Math.min(s,l.viewport.$viewport.width()),s=Math.max(s,0),a=s-r,i=Math.abs(a),l.$rulerSweeper.width(i),a<0&&(o=r+a,l.$rulerSweeper.css({left:o+"px"})))}),fn(this.browser.$root).on("mouseup"+this.namespace,function(r){var a;!0===t&&!0===n&&(t=n=e,l.$rulerSweeper.hide(),(a={}).start=rr.call(l,o),a.end=rr.call(l,o+i),i>1&&(tr(s.genome.getChromosome(l.viewport.genomicState.referenceFrame.chrName).bpLength,a,s.minimumBases()),l.viewport.genomicState.referenceFrame.bpPerPixel=(Math.round(a.end)-Math.round(a.start))/l.viewport.$viewport.width(),l.viewport.genomicState.referenceFrame.start=Math.round(a.start),s.updateViews(l.viewport.genomicState)))}),this.viewport.$viewport.on("mousedown"+this.namespace,function(e){t=!0})},nr.prototype.dispose=function(){this.disableMouseHandlers()};var or=function(e,t,n,r){this.start=e,this.end=t,this.name=n,this.stain=0,"acen"===r?this.type="c":(this.type=r.charAt(1),"p"===this.type&&(this.stain=parseInt(r.substring(4))))},ir={Huffman:{},Util:{},CRC32:{},CompressionMethod:{DEFLATE:8,RESERVED:15},Zip:function(e){e=e||{},this.files=[],this.comment=e.comment,this.password}};ir.Zip.CompressionMethod={STORE:0,DEFLATE:8},ir.Zip.OperatingSystem={MSDOS:0,UNIX:3,MACINTOSH:7},ir.Zip.Flags={ENCRYPT:1,DESCRIPTOR:8,UTF8:2048},ir.Zip.FileHeaderSignature=[80,75,1,2],ir.Zip.LocalFileHeaderSignature=[80,75,3,4],ir.Zip.CentralDirectorySignature=[80,75,5,6],ir.Zip.prototype.addFile=function(e,t){(t=t||{}).filename;var n,r=e.length,o=0;if(e instanceof Array&&(e=new Uint8Array(e)),"number"!=typeof t.compressionMethod&&(t.compressionMethod=ir.Zip.CompressionMethod.DEFLATE),t.compress)switch(t.compressionMethod){case ir.Zip.CompressionMethod.STORE:break;case ir.Zip.CompressionMethod.DEFLATE:o=ir.CRC32.calc(e),e=this.deflateWithOption(e,t),n=!0;break;default:throw new Error("unknown compression method:"+t.compressionMethod)}this.files.push({buffer:e,option:t,compressed:n,encrypted:!1,size:r,crc32:o})},ir.Zip.prototype.setPassword=function(e){this.password=e},ir.Zip.prototype.compress=function(){var e,t,n,r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x=this.files,E=0,A=0;for(C=0,_=x.length;C<_;++C){if(d=(e=x[C]).option.filename?e.option.filename.length:0,f=e.option.extraField?e.option.extraField.length:0,m=e.option.comment?e.option.comment.length:0,!e.compressed)switch(e.crc32=ir.CRC32.calc(e.buffer),e.option.compressionMethod){case ir.Zip.CompressionMethod.STORE:break;case ir.Zip.CompressionMethod.DEFLATE:e.buffer=this.deflateWithOption(e.buffer,e.option),e.compressed=!0;break;default:throw new Error("unknown compression method:"+e.option.compressionMethod)}if(void 0!==e.option.password||void 0!==this.password){for(w=this.createEncryptionKey(e.option.password||this.password),b=e.buffer,(S=new Uint8Array(b.length+12)).set(b,12),b=S,k=0;k<12;++k)b[k]=this.encode(w,11===C?255&e.crc32:256*Math.random()|0);for(T=b.length;k<T;++k)b[k]=this.encode(w,b[k]);e.buffer=b}E+=30+d+e.buffer.length,A+=46+d+m}for(i=22+(this.comment?this.comment.length:0),t=new Uint8Array(E+A+i),n=0,o=(r=E)+A,C=0,_=x.length;C<_;++C)d=(e=x[C]).option.filename?e.option.filename.length:0,f=0,m=e.option.comment?e.option.comment.length:0,a=n,t[n++]=ir.Zip.LocalFileHeaderSignature[0],t[n++]=ir.Zip.LocalFileHeaderSignature[1],t[n++]=ir.Zip.LocalFileHeaderSignature[2],t[n++]=ir.Zip.LocalFileHeaderSignature[3],t[r++]=ir.Zip.FileHeaderSignature[0],t[r++]=ir.Zip.FileHeaderSignature[1],t[r++]=ir.Zip.FileHeaderSignature[2],t[r++]=ir.Zip.FileHeaderSignature[3],t[r++]=20,t[r++]=e.option.os||ir.Zip.OperatingSystem.MSDOS,t[n++]=t[r++]=20,t[n++]=t[r++]=0,s=0,(e.option.password||this.password)&&(s|=ir.Zip.Flags.ENCRYPT),t[n++]=t[r++]=255&s,t[n++]=t[r++]=s>>8&255,l=e.option.compressionMethod,t[n++]=t[r++]=255&l,t[n++]=t[r++]=l>>8&255,c=e.option.date||new Date,t[n++]=t[r++]=(7&c.getMinutes())<<5|c.getSeconds()/2|0,t[n++]=t[r++]=c.getHours()<<3|c.getMinutes()>>3,t[n++]=t[r++]=(c.getMonth()+1&7)<<5|c.getDate(),t[n++]=t[r++]=(c.getFullYear()-1980&127)<<1|c.getMonth()+1>>3,u=e.crc32,t[n++]=t[r++]=255&u,t[n++]=t[r++]=u>>8&255,t[n++]=t[r++]=u>>16&255,t[n++]=t[r++]=u>>24&255,p=e.buffer.length,t[n++]=t[r++]=255&p,t[n++]=t[r++]=p>>8&255,t[n++]=t[r++]=p>>16&255,t[n++]=t[r++]=p>>24&255,h=e.size,t[n++]=t[r++]=255&h,t[n++]=t[r++]=h>>8&255,t[n++]=t[r++]=h>>16&255,t[n++]=t[r++]=h>>24&255,t[n++]=t[r++]=255&d,t[n++]=t[r++]=d>>8&255,t[n++]=t[r++]=255&f,t[n++]=t[r++]=f>>8&255,t[r++]=255&m,t[r++]=m>>8&255,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=0,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255,(y=e.option.filename)&&(t.set(y,n),t.set(y,r),n+=d,r+=d),(g=e.option.extraField)&&(t.set(g,n),t.set(g,r),n+=f,r+=f),(v=e.option.comment)&&(t.set(v,r),r+=m),t.set(e.buffer,n),n+=e.buffer.length;return t[o++]=ir.Zip.CentralDirectorySignature[0],t[o++]=ir.Zip.CentralDirectorySignature[1],t[o++]=ir.Zip.CentralDirectorySignature[2],t[o++]=ir.Zip.CentralDirectorySignature[3],t[o++]=0,t[o++]=0,t[o++]=0,t[o++]=0,t[o++]=255&_,t[o++]=_>>8&255,t[o++]=255&_,t[o++]=_>>8&255,t[o++]=255&A,t[o++]=A>>8&255,t[o++]=A>>16&255,t[o++]=A>>24&255,t[o++]=255&E,t[o++]=E>>8&255,t[o++]=E>>16&255,t[o++]=E>>24&255,m=this.comment?this.comment.length:0,t[o++]=255&m,t[o++]=m>>8&255,this.comment&&(t.set(this.comment,o),o+=m),t},ir.Zip.prototype.deflateWithOption=function(e,t){return new ir.RawDeflate(e,t.deflateOption).compress()},ir.Zip.prototype.getByte=function(e){var t=65535&e[2]|2;return t*(1^t)>>8&255},ir.Zip.prototype.encode=function(e,t){var n=this.getByte(e);return this.updateKeys(e,t),n^t},ir.Zip.prototype.updateKeys=function(e,t){e[0]=ir.CRC32.single(e[0],t),e[1]=1+(6681*(20173*(e[1]+(255&e[0]))>>>0)>>>0)>>>0,e[2]=ir.CRC32.single(e[2],e[1]>>>24)},ir.Zip.prototype.createEncryptionKey=function(e){var t,n,r=[305419896,591751049,878082192];for(r=new Uint32Array(r),t=0,n=e.length;t<n;++t)this.updateKeys(r,255&e[t]);return r},ir.Huffman.buildHuffmanTable=function(e){var t,n,r,o,i,a,s,l,c,u,p,h=e.length,d=0,f=Number.POSITIVE_INFINITY;for(l=0,c=h;l<c;++l)e[l]>d&&(d=e[l]),e[l]<f&&(f=e[l]);for(t=1<<d,n=new Uint32Array(t),r=1,o=0,i=2;r<=d;){for(l=0;l<h;++l)if(e[l]===r){for(a=0,s=o,u=0;u<r;++u)a=a<<1|1&s,s>>=1;for(p=r<<16|l,u=a;u<t;u+=i)n[u]=p;++o}++r,o<<=1,i<<=1}return[n,d,f]};var ar=ir.Huffman.buildHuffmanTable;ir.RawInflate=function(e,t){switch(this.buffer,this.blocks=[],this.bufferSize=32768,this.totalpos=0,this.ip=0,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output,this.op,this.bfinal=!1,this.bufferType=ir.RawInflate.BufferType.ADAPTIVE,this.resize=!1,!t&&(t={})||(t.index&&(this.ip=t.index),t.bufferSize&&(this.bufferSize=t.bufferSize),t.bufferType&&(this.bufferType=t.bufferType),t.resize&&(this.resize=t.resize)),this.bufferType){case ir.RawInflate.BufferType.BLOCK:this.op=ir.RawInflate.MaxBackwardLength,this.output=new Uint8Array(ir.RawInflate.MaxBackwardLength+this.bufferSize+ir.RawInflate.MaxCopyLength);break;case ir.RawInflate.BufferType.ADAPTIVE:this.op=0,this.output=new Uint8Array(this.bufferSize);break;default:throw new Error("invalid inflate mode")}},ir.RawInflate.BufferType={BLOCK:0,ADAPTIVE:1},ir.RawInflate.prototype.decompress=function(){for(;!this.bfinal;)this.parseBlock();switch(this.bufferType){case ir.RawInflate.BufferType.BLOCK:return this.concatBufferBlock();case ir.RawInflate.BufferType.ADAPTIVE:return this.concatBufferDynamic();default:throw new Error("invalid inflate mode")}},ir.RawInflate.MaxBackwardLength=32768,ir.RawInflate.MaxCopyLength=258,ir.RawInflate.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ir.RawInflate.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),ir.RawInflate.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),ir.RawInflate.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ir.RawInflate.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ir.RawInflate.FixedLiteralLengthTable=function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return ar(n)}(),ir.RawInflate.FixedDistanceTable=function(e){return e}(function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return ar(n)}()),ir.RawInflate.prototype.parseBlock=function(){var e=this.readBits(3);switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.parseUncompressedBlock();break;case 1:this.parseFixedHuffmanBlock();break;case 2:this.parseDynamicHuffmanBlock();break;default:throw new Error("unknown BTYPE: "+e)}},ir.RawInflate.prototype.readBits=function(e){var t,n=this.bitsbuf,r=this.bitsbuflen,o=this.input,i=this.ip;if(i+(e-r+7>>3)>=o.length)throw new Error("input buffer is broken");for(;r<e;)n|=o[i++]<<r,r+=8;return t=n&(1<<e)-1,n>>>=e,r-=e,this.bitsbuf=n,this.bitsbuflen=r,this.ip=i,t},ir.RawInflate.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,o=this.bitsbuflen,i=this.input,a=this.ip,s=i.length,l=e[0],c=e[1];o<c&&!(a>=s);)r|=i[a++]<<o,o+=8;if((n=(t=l[r&(1<<c)-1])>>>16)>o)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=o-n,this.ip=a,65535&t},ir.RawInflate.prototype.parseUncompressedBlock=function(){var e,t,n=this.input,r=this.ip,o=this.output,i=this.op,a=n.length,s=o.length;if(this.bitsbuf=0,this.bitsbuflen=0,r+1>=a)throw new Error("invalid uncompressed block header: LEN");if(e=n[r++]|n[r++]<<8,r+1>=a)throw new Error("invalid uncompressed block header: NLEN");if(e===~(n[r++]|n[r++]<<8))throw new Error("invalid uncompressed block header: length verify");if(r+e>n.length)throw new Error("input buffer is broken");switch(this.bufferType){case ir.RawInflate.BufferType.BLOCK:for(;i+e>o.length;)e-=t=s-i,o.set(n.subarray(r,r+t),i),i+=t,r+=t,this.op=i,o=this.expandBufferBlock(),i=this.op;break;case ir.RawInflate.BufferType.ADAPTIVE:for(;i+e>o.length;)o=this.expandBufferAdaptive({fixRatio:2});break;default:throw new Error("invalid inflate mode")}o.set(n.subarray(r,r+e),i),i+=e,r+=e,this.ip=r,this.op=i,this.output=o},ir.RawInflate.prototype.parseFixedHuffmanBlock=function(){switch(this.bufferType){case ir.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(ir.RawInflate.FixedLiteralLengthTable,ir.RawInflate.FixedDistanceTable);break;case ir.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(ir.RawInflate.FixedLiteralLengthTable,ir.RawInflate.FixedDistanceTable);break;default:throw new Error("invalid inflate mode")}},ir.RawInflate.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,o,i,a,s,l,c=this.readBits(5)+257,u=this.readBits(5)+1,p=this.readBits(4)+4,h=new Uint8Array(ir.RawInflate.Order.length);for(s=0;s<p;++s)h[ir.RawInflate.Order[s]]=this.readBits(3);for(e=ar(h),r=new Uint8Array(c+u),s=0,l=c+u;s<l;)switch(o=this.readCodeByTable(e)){case 16:for(a=3+this.readBits(2);a--;)r[s++]=i;break;case 17:for(a=3+this.readBits(3);a--;)r[s++]=0;i=0;break;case 18:for(a=11+this.readBits(7);a--;)r[s++]=0;i=0;break;default:r[s++]=o,i=o}switch(t=ar(r.subarray(0,c)),n=ar(r.subarray(c)),this.bufferType){case ir.RawInflate.BufferType.ADAPTIVE:this.decodeHuffmanAdaptive(t,n);break;case ir.RawInflate.BufferType.BLOCK:this.decodeHuffmanBlock(t,n);break;default:throw new Error("invalid inflate mode")}},ir.RawInflate.prototype.decodeHuffmanBlock=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var o,i,a,s,l=n.length-ir.RawInflate.MaxCopyLength,c=ir.RawInflate.LengthCodeTable,u=ir.RawInflate.LengthExtraTable,p=ir.RawInflate.DistCodeTable,h=ir.RawInflate.DistExtraTable;256!==(o=this.readCodeByTable(e));)if(o<256)r>=l&&(this.op=r,n=this.expandBufferBlock(),r=this.op),n[r++]=o;else for(s=c[i=o-257],u[i]>0&&(s+=this.readBits(u[i])),a=p[o=this.readCodeByTable(t)],h[o]>0&&(a+=this.readBits(h[o])),r>=l&&(this.op=r,n=this.expandBufferBlock(),r=this.op);s--;)n[r]=n[r++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},ir.RawInflate.prototype.decodeHuffmanAdaptive=function(e,t){var n=this.output,r=this.op;this.currentLitlenTable=e;for(var o,i,a,s,l=n.length,c=ir.RawInflate.LengthCodeTable,u=ir.RawInflate.LengthExtraTable,p=ir.RawInflate.DistCodeTable,h=ir.RawInflate.DistExtraTable;256!==(o=this.readCodeByTable(e));)if(o<256)r>=l&&(l=(n=this.expandBufferAdaptive()).length),n[r++]=o;else for(s=c[i=o-257],u[i]>0&&(s+=this.readBits(u[i])),a=p[o=this.readCodeByTable(t)],h[o]>0&&(a+=this.readBits(h[o])),r+s>l&&(l=(n=this.expandBufferAdaptive()).length);s--;)n[r]=n[r++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=r},ir.RawInflate.prototype.expandBufferBlock=function(e){var t=new Uint8Array(this.op-ir.RawInflate.MaxBackwardLength),n=this.op-ir.RawInflate.MaxBackwardLength,r=this.output;return t.set(r.subarray(ir.RawInflate.MaxBackwardLength,t.length)),this.blocks.push(t),this.totalpos+=t.length,r.set(r.subarray(n,n+ir.RawInflate.MaxBackwardLength)),this.op=ir.RawInflate.MaxBackwardLength,r},ir.RawInflate.prototype.expandBufferAdaptive=function(e){var t,n,r,o=this.input.length/this.ip+1|0,i=this.input,a=this.output;return e&&("number"==typeof e.fixRatio&&(o=e.fixRatio),"number"==typeof e.addRatio&&(o+=e.addRatio)),n=o<2?(r=(i.length-this.ip)/this.currentLitlenTable[2]/2*258|0)<a.length?a.length+r:a.length<<1:a.length*o,(t=new Uint8Array(n)).set(a),this.output=t,this.output},ir.RawInflate.prototype.concatBufferBlock=function(){var e,t,n,r,o,i=0,a=this.totalpos+(this.op-ir.RawInflate.MaxBackwardLength),s=this.output,l=this.blocks,c=new Uint8Array(a);if(0===l.length)return this.output.subarray(ir.RawInflate.MaxBackwardLength,this.op);for(t=0,n=l.length;t<n;++t)for(r=0,o=(e=l[t]).length;r<o;++r)c[i++]=e[r];for(t=ir.RawInflate.MaxBackwardLength,n=this.op;t<n;++t)c[i++]=s[t];return this.blocks=[],this.buffer=c,this.buffer},ir.RawInflate.prototype.concatBufferDynamic=function(){var e,t=this.op;return this.resize?(e=new Uint8Array(t)).set(this.output.subarray(0,t)):e=this.output.subarray(0,t),this.buffer=e,this.buffer},ar=ir.Huffman.buildHuffmanTable,ir.RawInflateStream=function(e,t,n){this.blocks=[],this.bufferSize=n||65e3,this.totalpos=0,this.ip=void 0===t?0:t,this.bitsbuf=0,this.bitsbuflen=0,this.input=new Uint8Array(e),this.output=new Uint8Array(this.bufferSize),this.op=0,this.bfinal=!1,this.blockLength,this.resize=!1,this.litlenTable,this.distTable,this.sp=0,this.status=ir.RawInflateStream.Status.INITIALIZED,this.ip_,this.bitsbuflen_,this.bitsbuf_},ir.RawInflateStream.BlockType={UNCOMPRESSED:0,FIXED:1,DYNAMIC:2},ir.RawInflateStream.Status={INITIALIZED:0,BLOCK_HEADER_START:1,BLOCK_HEADER_END:2,BLOCK_BODY_START:3,BLOCK_BODY_END:4,DECODE_BLOCK_START:5,DECODE_BLOCK_END:6},ir.RawInflateStream.prototype.decompress=function(e,t){var n=!1;for(void 0!==e&&(this.input=e),void 0!==t&&(this.ip=t);!n;)switch(this.status){case ir.RawInflateStream.Status.INITIALIZED:case ir.RawInflateStream.Status.BLOCK_HEADER_START:this.readBlockHeader()<0&&(n=!0);break;case ir.RawInflateStream.Status.BLOCK_HEADER_END:case ir.RawInflateStream.Status.BLOCK_BODY_START:switch(this.currentBlockType){case ir.RawInflateStream.BlockType.UNCOMPRESSED:this.readUncompressedBlockHeader()<0&&(n=!0);break;case ir.RawInflateStream.BlockType.FIXED:this.parseFixedHuffmanBlock()<0&&(n=!0);break;case ir.RawInflateStream.BlockType.DYNAMIC:this.parseDynamicHuffmanBlock()<0&&(n=!0)}break;case ir.RawInflateStream.Status.BLOCK_BODY_END:case ir.RawInflateStream.Status.DECODE_BLOCK_START:switch(this.currentBlockType){case ir.RawInflateStream.BlockType.UNCOMPRESSED:this.parseUncompressedBlock()<0&&(n=!0);break;case ir.RawInflateStream.BlockType.FIXED:case ir.RawInflateStream.BlockType.DYNAMIC:this.decodeHuffman()<0&&(n=!0)}break;case ir.RawInflateStream.Status.DECODE_BLOCK_END:this.bfinal?n=!0:this.status=ir.RawInflateStream.Status.INITIALIZED}return this.concatBuffer()},ir.RawInflateStream.MaxBackwardLength=32768,ir.RawInflateStream.MaxCopyLength=258,ir.RawInflateStream.Order=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ir.RawInflateStream.LengthCodeTable=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),ir.RawInflateStream.LengthExtraTable=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),ir.RawInflateStream.DistCodeTable=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),ir.RawInflateStream.DistExtraTable=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ir.RawInflateStream.FixedLiteralLengthTable=function(e){return e}(function(){var e,t,n=new Uint8Array(288);for(e=0,t=n.length;e<t;++e)n[e]=e<=143?8:e<=255?9:e<=279?7:8;return ar(n)}()),ir.RawInflateStream.FixedDistanceTable=function(e){return e}(function(){var e,t,n=new Uint8Array(30);for(e=0,t=n.length;e<t;++e)n[e]=5;return ar(n)}()),ir.RawInflateStream.prototype.readBlockHeader=function(){var e;if(this.status=ir.RawInflateStream.Status.BLOCK_HEADER_START,this.save_(),(e=this.readBits(3))<0)return this.restore_(),-1;switch(1&e&&(this.bfinal=!0),e>>>=1){case 0:this.currentBlockType=ir.RawInflateStream.BlockType.UNCOMPRESSED;break;case 1:this.currentBlockType=ir.RawInflateStream.BlockType.FIXED;break;case 2:this.currentBlockType=ir.RawInflateStream.BlockType.DYNAMIC;break;default:throw new Error("unknown BTYPE: "+e)}this.status=ir.RawInflateStream.Status.BLOCK_HEADER_END},ir.RawInflateStream.prototype.readBits=function(e){for(var t,n=this.bitsbuf,r=this.bitsbuflen,o=this.input,i=this.ip;r<e;){if(o.length<=i)return-1;n|=(t=o[i++])<<r,r+=8}return t=n&(1<<e)-1,n>>>=e,r-=e,this.bitsbuf=n,this.bitsbuflen=r,this.ip=i,t},ir.RawInflateStream.prototype.readCodeByTable=function(e){for(var t,n,r=this.bitsbuf,o=this.bitsbuflen,i=this.input,a=this.ip,s=e[0],l=e[1];o<l;){if(i.length<=a)return-1;r|=i[a++]<<o,o+=8}if((n=(t=s[r&(1<<l)-1])>>>16)>o)throw new Error("invalid code length: "+n);return this.bitsbuf=r>>n,this.bitsbuflen=o-n,this.ip=a,65535&t},ir.RawInflateStream.prototype.readUncompressedBlockHeader=function(){var e,t=this.input,n=this.ip;if(this.status=ir.RawInflateStream.Status.BLOCK_BODY_START,n+4>=t.length)return-1;if((e=t[n++]|t[n++]<<8)==~(t[n++]|t[n++]<<8))throw new Error("invalid uncompressed block header: length verify");this.bitsbuf=0,this.bitsbuflen=0,this.ip=n,this.blockLength=e,this.status=ir.RawInflateStream.Status.BLOCK_BODY_END},ir.RawInflateStream.prototype.parseUncompressedBlock=function(){var e=this.input,t=this.ip,n=this.output,r=this.op,o=this.blockLength;for(this.status=ir.RawInflateStream.Status.DECODE_BLOCK_START;o--;){if(r===n.length&&(n=this.expandBuffer({fixRatio:2})),t>=e.length)return this.ip=t,this.op=r,this.blockLength=o+1,-1;n[r++]=e[t++]}return o<0&&(this.status=ir.RawInflateStream.Status.DECODE_BLOCK_END),this.ip=t,this.op=r,0},ir.RawInflateStream.prototype.parseFixedHuffmanBlock=function(){return this.status=ir.RawInflateStream.Status.BLOCK_BODY_START,this.litlenTable=ir.RawInflateStream.FixedLiteralLengthTable,this.distTable=ir.RawInflateStream.FixedDistanceTable,this.status=ir.RawInflateStream.Status.BLOCK_BODY_END,0},ir.RawInflateStream.prototype.save_=function(){this.ip_=this.ip,this.bitsbuflen_=this.bitsbuflen,this.bitsbuf_=this.bitsbuf},ir.RawInflateStream.prototype.restore_=function(){this.ip=this.ip_,this.bitsbuflen=this.bitsbuflen_,this.bitsbuf=this.bitsbuf_},ir.RawInflateStream.prototype.parseDynamicHuffmanBlock=function(){var e,t,n,r,o=new Uint8Array(ir.RawInflateStream.Order.length);if(this.status=ir.RawInflateStream.Status.BLOCK_BODY_START,this.save_(),e=this.readBits(5)+257,t=this.readBits(5)+1,n=this.readBits(4)+4,e<0||t<0||n<0)return this.restore_(),-1;try{(function(){var i,a,s,l,c,u,p=0;for(c=0;c<n;++c){if((i=this.readBits(3))<0)throw new Error("not enough input");o[ir.RawInflateStream.Order[c]]=i}for(r=ar(o),l=new Uint8Array(e+t),c=0,u=e+t;c<u;){if((a=this.readCodeByTable(r))<0)throw new Error("not enough input");switch(a){case 16:if((i=this.readBits(2))<0)throw new Error("not enough input");for(s=3+i;s--;)l[c++]=p;break;case 17:if((i=this.readBits(3))<0)throw new Error("not enough input");for(s=3+i;s--;)l[c++]=0;p=0;break;case 18:if((i=this.readBits(7))<0)throw new Error("not enough input");for(s=11+i;s--;)l[c++]=0;p=0;break;default:l[c++]=a,p=a}}this.litlenTable=ar(l.subarray(0,e)),this.distTable=ar(l.subarray(e))}).call(this)}catch(e){return this.restore_(),-1}return this.status=ir.RawInflateStream.Status.BLOCK_BODY_END,0},ir.RawInflateStream.prototype.decodeHuffman=function(){var e,t,n,r,o,i=this.output,a=this.op,s=this.litlenTable,l=this.distTable,c=i.length;for(this.status=ir.RawInflateStream.Status.DECODE_BLOCK_START;;){if(this.save_(),(e=this.readCodeByTable(s))<0)return this.op=a,this.restore_(),-1;if(256===e)break;if(e<256)a===c&&(c=(i=this.expandBuffer()).length),i[a++]=e;else{if(t=e-257,r=ir.RawInflateStream.LengthCodeTable[t],ir.RawInflateStream.LengthExtraTable[t]>0){if((o=this.readBits(ir.RawInflateStream.LengthExtraTable[t]))<0)return this.op=a,this.restore_(),-1;r+=o}if((e=this.readCodeByTable(l))<0)return this.op=a,this.restore_(),-1;if(n=ir.RawInflateStream.DistCodeTable[e],ir.RawInflateStream.DistExtraTable[e]>0){if((o=this.readBits(ir.RawInflateStream.DistExtraTable[e]))<0)return this.op=a,this.restore_(),-1;n+=o}for(a+r>=c&&(c=(i=this.expandBuffer()).length);r--;)i[a]=i[a++-n];if(this.ip===this.input.length)return this.op=a,-1}}for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=a,this.status=ir.RawInflateStream.Status.DECODE_BLOCK_END},ir.RawInflateStream.prototype.expandBuffer=function(e){var t,n,r,o=this.input.length/this.ip+1|0,i=this.input,a=this.output;return e&&("number"==typeof e.fixRatio&&(o=e.fixRatio),"number"==typeof e.addRatio&&(o+=e.addRatio)),n=o<2?(r=(i.length-this.ip)/this.litlenTable[2]/2*258|0)<a.length?a.length+r:a.length<<1:a.length*o,(t=new Uint8Array(n)).set(a),this.output=t,this.output},ir.RawInflateStream.prototype.concatBuffer=function(){var e,t,n=this.op;return e=this.resize?new Uint8Array(this.output.subarray(this.sp,n)):this.output.subarray(this.sp,n),this.sp=n,n>ir.RawInflateStream.MaxBackwardLength+this.bufferSize&&(this.op=this.sp=ir.RawInflateStream.MaxBackwardLength,t=this.output,this.output=new Uint8Array(this.bufferSize+ir.RawInflateStream.MaxBackwardLength),this.output.set(t.subarray(n-ir.RawInflateStream.MaxBackwardLength,n))),e},ir.Inflate=function(e,t){var n,r;switch(this.input=e,this.ip=0,this.rawinflate,this.verify,!t&&(t={})||(t.index&&(this.ip=t.index),t.verify&&(this.verify=t.verify)),n=e[this.ip++],r=e[this.ip++],15&n){case ir.CompressionMethod.DEFLATE:this.method=ir.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.rawinflate=new ir.RawInflate(e,{index:this.ip,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})},ir.Inflate.BufferType=ir.RawInflate.BufferType,ir.Inflate.prototype.decompress=function(){var e,t=this.input;if(e=this.rawinflate.decompress(),this.ip=this.rawinflate.ip,this.verify&&(t[this.ip++]<<24|t[this.ip++]<<16|t[this.ip++]<<8|t[this.ip++])>>>0!==ir.Adler32(e))throw new Error("invalid adler-32 checksum");return e},ir.InflateStream=function(e){this.input=void 0===e?new Uint8Array:e,this.ip=0,this.rawinflate=new ir.RawInflateStream(this.input,this.ip),this.method,this.output=this.rawinflate.output},ir.InflateStream.prototype.decompress=function(e){var t;if(void 0!==e){var n=new Uint8Array(this.input.length+e.length);n.set(this.input,0),n.set(e,this.input.length),this.input=n}return void 0===this.method&&this.readHeader()<0?new Uint8Array:(t=this.rawinflate.decompress(this.input,this.ip),0!==this.rawinflate.ip&&(this.input=this.input.subarray(this.rawinflate.ip),this.ip=0),t)},ir.InflateStream.prototype.readHeader=function(){var e=this.ip,t=this.input,n=t[e++],r=t[e++];if(void 0===n||void 0===r)return-1;switch(15&n){case ir.CompressionMethod.DEFLATE:this.method=ir.CompressionMethod.DEFLATE;break;default:throw new Error("unsupported compression method")}if(((n<<8)+r)%31!=0)throw new Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw new Error("fdict flag is not supported");this.ip=e},ir.Gunzip=function(e,t){this.input=e,this.ip=0,this.member=[],this.decompressed=!1},ir.Gunzip.prototype.getMembers=function(){return this.decompressed||this.decompress(),this.member.slice()},ir.Gunzip.prototype.decompress=function(){for(var e=this.input.length;this.ip<e;)this.decodeMember();return this.decompressed=!0,this.concatMember()},ir.Gunzip.prototype.decodeMember=function(){var e,t,n,r,o,i,a,s,l,c=new ir.GunzipMember,u=this.input,p=this.ip;if(c.id1=u[p++],c.id2=u[p++],31!==c.id1||139!==c.id2)throw new Error("invalid file signature:"+c.id1+","+c.id2);switch(c.cm=u[p++],c.cm){case 8:break;default:throw new Error("unknown compression method: "+c.cm)}if(c.flg=u[p++],s=u[p++]|u[p++]<<8|u[p++]<<16|u[p++]<<24,c.mtime=new Date(1e3*s),c.xfl=u[p++],c.os=u[p++],(c.flg&ir.Gzip.FlagsMask.FEXTRA)>0&&(c.xlen=u[p++]|u[p++]<<8,p=this.decodeSubField(p,c.xlen)),(c.flg&ir.Gzip.FlagsMask.FNAME)>0){for(a=[],i=0;(o=u[p++])>0;)a[i++]=String.fromCharCode(o);c.name=a.join("")}if((c.flg&ir.Gzip.FlagsMask.FCOMMENT)>0){for(a=[],i=0;(o=u[p++])>0;)a[i++]=String.fromCharCode(o);c.comment=a.join("")}if((c.flg&ir.Gzip.FlagsMask.FHCRC)>0&&(c.crc16=65535&ir.CRC32.calc(u,0,p),c.crc16!==(u[p++]|u[p++]<<8)))throw new Error("invalid header crc16");if(e=u[u.length-4]|u[u.length-3]<<8|u[u.length-2]<<16|u[u.length-1]<<24,u.length-p-4-4<512*e&&(r=e),t=new ir.RawInflate(u,{index:p,bufferSize:r}),c.data=n=t.decompress(),p=t.ip,c.crc32=l=(u[p++]|u[p++]<<8|u[p++]<<16|u[p++]<<24)>>>0,ir.CRC32.calc(n)!==l)throw new Error("invalid CRC-32 checksum: 0x"+ir.CRC32.calc(n).toString(16)+" / 0x"+l.toString(16));if(c.isize=e=(u[p++]|u[p++]<<8|u[p++]<<16|u[p++]<<24)>>>0,(4294967295&n.length)!==e)throw new Error("invalid input size: "+(4294967295&n.length)+" / "+e);this.member.push(c),this.ip=p},ir.Gunzip.prototype.decodeSubField=function(e,t){return e+t},ir.Gunzip.prototype.concatMember=function(){var e,t,n,r=this.member,o=0,i=0;for(e=0,t=r.length;e<t;++e)i+=r[e].data.length;for(n=new Uint8Array(i),e=0;e<t;++e)n.set(r[e].data,o),o+=r[e].data.length;return n},ir.GunzipMember=function(){this.id1,this.id2,this.cm,this.flg,this.mtime,this.xfl,this.os,this.crc16,this.xlen,this.crc32,this.isize,this.name,this.comment,this.data},ir.GunzipMember.prototype.getName=function(){return this.name},ir.GunzipMember.prototype.getData=function(){return this.data},ir.GunzipMember.prototype.getMtime=function(){return this.mtime},ir.Gzip=function(e,t){this.input=e,this.ip=0,this.output,this.op=0,this.flags={},this.filename,this.comment,this.deflateOptions,t&&(t.flags&&(this.flags=t.flags),"string"==typeof t.filename&&(this.filename=t.filename),"string"==typeof t.comment&&(this.comment=t.comment),t.deflateOptions&&(this.deflateOptions=t.deflateOptions)),this.deflateOptions||(this.deflateOptions={})},ir.Gzip.DefaultBufferSize=32768,ir.Gzip.prototype.compress=function(){var e,t,n,r,o,i,a,s,l=new Uint8Array(ir.Gzip.DefaultBufferSize),c=0,u=this.input,p=this.ip,h=this.filename,d=this.comment;if(l[c++]=31,l[c++]=139,l[c++]=8,e=0,this.flags.fname&&(e|=ir.Gzip.FlagsMask.FNAME),this.flags.fcomment&&(e|=ir.Gzip.FlagsMask.FCOMMENT),this.flags.fhcrc&&(e|=ir.Gzip.FlagsMask.FHCRC),l[c++]=e,t=(Date.now?Date.now():+new Date)/1e3|0,l[c++]=255&t,l[c++]=t>>>8&255,l[c++]=t>>>16&255,l[c++]=t>>>24&255,l[c++]=0,l[c++]=ir.Gzip.OperatingSystem.UNKNOWN,void 0!==this.flags.fname){for(a=0,s=h.length;a<s;++a)(i=h.charCodeAt(a))>255&&(l[c++]=i>>>8&255),l[c++]=255&i;l[c++]=0}if(this.flags.comment){for(a=0,s=d.length;a<s;++a)(i=d.charCodeAt(a))>255&&(l[c++]=i>>>8&255),l[c++]=255&i;l[c++]=0}return this.flags.fhcrc&&(n=65535&ir.CRC32.calc(l,0,c),l[c++]=255&n,l[c++]=n>>>8&255),this.deflateOptions.outputBuffer=l,this.deflateOptions.outputIndex=c,l=(o=new ir.RawDeflate(u,this.deflateOptions)).compress(),(c=o.op)+8>l.buffer.byteLength?(this.output=new Uint8Array(c+8),this.output.set(new Uint8Array(l.buffer)),l=this.output):l=new Uint8Array(l.buffer),r=ir.CRC32.calc(u),l[c++]=255&r,l[c++]=r>>>8&255,l[c++]=r>>>16&255,l[c++]=r>>>24&255,s=u.length,l[c++]=255&s,l[c++]=s>>>8&255,l[c++]=s>>>16&255,l[c++]=s>>>24&255,this.ip=p,c<l.length&&(this.output=l=l.subarray(0,c)),l},ir.Gzip.OperatingSystem={FAT:0,AMIGA:1,VMS:2,UNIX:3,VM_CMS:4,ATARI_TOS:5,HPFS:6,MACINTOSH:7,Z_SYSTEM:8,CP_M:9,TOPS_20:10,NTFS:11,QDOS:12,ACORN_RISCOS:13,UNKNOWN:255},ir.Gzip.FlagsMask={FTEXT:1,FHCRC:2,FEXTRA:4,FNAME:8,FCOMMENT:16},ir.Heap=function(e){this.buffer=new Uint16Array(2*e),this.length=0},ir.Heap.prototype.getParent=function(e){return 2*((e-2)/4|0)},ir.Heap.prototype.getChild=function(e){return 2*e+2},ir.Heap.prototype.push=function(e,t){var n,r,o,i=this.buffer;for(n=this.length,i[this.length++]=t,i[this.length++]=e;n>0&&(r=this.getParent(n),i[n]>i[r]);)o=i[n],i[n]=i[r],i[r]=o,o=i[n+1],i[n+1]=i[r+1],i[r+1]=o,n=r;return this.length},ir.Heap.prototype.pop=function(){var e,t,n,r,o,i=this.buffer;for(t=i[0],e=i[1],this.length-=2,i[0]=i[this.length],i[1]=i[this.length+1],o=0;!((r=this.getChild(o))>=this.length)&&(r+2<this.length&&i[r+2]>i[r]&&(r+=2),i[r]>i[o]);)n=i[o],i[o]=i[r],i[r]=n,n=i[o+1],i[o+1]=i[r+1],i[r+1]=n,o=r;return{index:e,value:t,length:this.length}},ir.RawDeflate=function(e,t){this.compressionType=ir.RawDeflate.CompressionType.DYNAMIC,this.lazy=0,this.freqsLitLen,this.freqsDist,this.input=e instanceof Array?new Uint8Array(e):e,this.output,this.op=0,t&&(t.lazy&&(this.lazy=t.lazy),"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t.outputBuffer&&(this.output=t.outputBuffer instanceof Array?new Uint8Array(t.outputBuffer):t.outputBuffer),"number"==typeof t.outputIndex&&(this.op=t.outputIndex)),this.output||(this.output=new Uint8Array(32768))},ir.RawDeflate.CompressionType={NONE:0,FIXED:1,DYNAMIC:2,RESERVED:3},ir.RawDeflate.Lz77MinLength=3,ir.RawDeflate.Lz77MaxLength=258,ir.RawDeflate.WindowSize=32768,ir.RawDeflate.MaxCodeLength=16,ir.RawDeflate.HUFMAX=286,ir.RawDeflate.FixedHuffmanTable=function(){var e,t=[];for(e=0;e<288;e++)switch(!0){case e<=143:t.push([e+48,8]);break;case e<=255:t.push([e-144+400,9]);break;case e<=279:t.push([e-256+0,7]);break;case e<=287:t.push([e-280+192,8]);break;default:throw"invalid literal: "+e}return t}(),ir.RawDeflate.prototype.compress=function(){var e,t,n,r=this.input;switch(this.compressionType){case ir.RawDeflate.CompressionType.NONE:for(t=0,n=r.length;t<n;)t+=(e=r.subarray(t,t+65535)).length,this.makeNocompressBlock(e,t===n);break;case ir.RawDeflate.CompressionType.FIXED:this.output=this.makeFixedHuffmanBlock(r,!0),this.op=this.output.length;break;case ir.RawDeflate.CompressionType.DYNAMIC:this.output=this.makeDynamicHuffmanBlock(r,!0),this.op=this.output.length;break;default:throw"invalid compression type"}return this.output},ir.RawDeflate.prototype.makeNocompressBlock=function(e,t){var n,r,o,i,a=this.output,s=this.op;for(a=new Uint8Array(this.output.buffer);a.length<=s+e.length+5;)a=new Uint8Array(a.length<<1);return a.set(this.output),n=t?1:0,r=ir.RawDeflate.CompressionType.NONE,a[s++]=n|r<<1,i=65536+~(o=e.length)&65535,a[s++]=255&o,a[s++]=o>>>8&255,a[s++]=255&i,a[s++]=i>>>8&255,a.set(e,s),s+=e.length,a=a.subarray(0,s),this.op=s,this.output=a,a},ir.RawDeflate.prototype.makeFixedHuffmanBlock=function(e,t){var n,r,o,i=new ir.BitStream(new Uint8Array(this.output.buffer),this.op);return n=t?1:0,r=ir.RawDeflate.CompressionType.FIXED,i.writeBits(n,1,!0),i.writeBits(r,2,!0),o=this.lz77(e),this.fixedHuffman(o,i),i.finish()},ir.RawDeflate.prototype.makeDynamicHuffmanBlock=function(e,t){var n,r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b=new ir.BitStream(new Uint8Array(this.output.buffer),this.op),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(19);for(n=t?1:0,r=ir.RawDeflate.CompressionType.DYNAMIC,b.writeBits(n,1,!0),b.writeBits(r,2,!0),o=this.lz77(e),l=this.getLengths_(this.freqsLitLen,15),c=this.getCodesFromLengths_(l),u=this.getLengths_(this.freqsDist,7),p=this.getCodesFromLengths_(u),i=286;i>257&&0===l[i-1];i--);for(a=30;a>1&&0===u[a-1];a--);for(h=this.getTreeSymbols_(i,l,a,u),d=this.getLengths_(h.freqs,7),g=0;g<19;g++)w[g]=d[S[g]];for(s=19;s>4&&0===w[s-1];s--);for(f=this.getCodesFromLengths_(d),b.writeBits(i-257,5,!0),b.writeBits(a-1,5,!0),b.writeBits(s-4,4,!0),g=0;g<s;g++)b.writeBits(w[g],3,!0);for(g=0,v=h.codes.length;g<v;g++)if(m=h.codes[g],b.writeBits(f[m],d[m],!0),m>=16){switch(g++,m){case 16:y=2;break;case 17:y=3;break;case 18:y=7;break;default:throw"invalid code: "+m}b.writeBits(h.codes[g],y,!0)}return this.dynamicHuffman(o,[c,l],[p,u],b),b.finish()},ir.RawDeflate.prototype.dynamicHuffman=function(e,t,n,r){var o,i,a,s,l,c,u,p;for(l=t[0],c=t[1],u=n[0],p=n[1],o=0,i=e.length;o<i;++o)if(a=e[o],r.writeBits(l[a],c[a],!0),a>256)r.writeBits(e[++o],e[++o],!0),s=e[++o],r.writeBits(u[s],p[s],!0),r.writeBits(e[++o],e[++o],!0);else if(256===a)break;return r},ir.RawDeflate.prototype.fixedHuffman=function(e,t){var n,r,o;for(n=0,r=e.length;n<r;n++)if(o=e[n],ir.BitStream.prototype.writeBits.apply(t,ir.RawDeflate.FixedHuffmanTable[o]),o>256)t.writeBits(e[++n],e[++n],!0),t.writeBits(e[++n],5),t.writeBits(e[++n],e[++n],!0);else if(256===o)break;return t},ir.RawDeflate.Lz77Match=function(e,t){this.length=e,this.backwardDistance=t},ir.RawDeflate.Lz77Match.LengthCodeTable=function(e){return new Uint32Array(e)}(function(){var e,t,n=[];for(e=3;e<=258;e++)t=r(e),n[e]=t[2]<<24|t[1]<<16|t[0];function r(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case e<=12:return[265,e-11,1];case e<=14:return[266,e-13,1];case e<=16:return[267,e-15,1];case e<=18:return[268,e-17,1];case e<=22:return[269,e-19,2];case e<=26:return[270,e-23,2];case e<=30:return[271,e-27,2];case e<=34:return[272,e-31,2];case e<=42:return[273,e-35,3];case e<=50:return[274,e-43,3];case e<=58:return[275,e-51,3];case e<=66:return[276,e-59,3];case e<=82:return[277,e-67,4];case e<=98:return[278,e-83,4];case e<=114:return[279,e-99,4];case e<=130:return[280,e-115,4];case e<=162:return[281,e-131,5];case e<=194:return[282,e-163,5];case e<=226:return[283,e-195,5];case e<=257:return[284,e-227,5];case 258===e:return[285,e-258,0];default:throw"invalid length: "+e}}return n}()),ir.RawDeflate.Lz77Match.prototype.getDistanceCode_=function(e){var t;switch(!0){case 1===e:t=[0,e-1,0];break;case 2===e:t=[1,e-2,0];break;case 3===e:t=[2,e-3,0];break;case 4===e:t=[3,e-4,0];break;case e<=6:t=[4,e-5,1];break;case e<=8:t=[5,e-7,1];break;case e<=12:t=[6,e-9,2];break;case e<=16:t=[7,e-13,2];break;case e<=24:t=[8,e-17,3];break;case e<=32:t=[9,e-25,3];break;case e<=48:t=[10,e-33,4];break;case e<=64:t=[11,e-49,4];break;case e<=96:t=[12,e-65,5];break;case e<=128:t=[13,e-97,5];break;case e<=192:t=[14,e-129,6];break;case e<=256:t=[15,e-193,6];break;case e<=384:t=[16,e-257,7];break;case e<=512:t=[17,e-385,7];break;case e<=768:t=[18,e-513,8];break;case e<=1024:t=[19,e-769,8];break;case e<=1536:t=[20,e-1025,9];break;case e<=2048:t=[21,e-1537,9];break;case e<=3072:t=[22,e-2049,10];break;case e<=4096:t=[23,e-3073,10];break;case e<=6144:t=[24,e-4097,11];break;case e<=8192:t=[25,e-6145,11];break;case e<=12288:t=[26,e-8193,12];break;case e<=16384:t=[27,e-12289,12];break;case e<=24576:t=[28,e-16385,13];break;case e<=32768:t=[29,e-24577,13];break;default:throw"invalid distance"}return t},ir.RawDeflate.Lz77Match.prototype.toLz77Array=function(){var e,t=this.length,n=this.backwardDistance,r=[],o=0;return e=ir.RawDeflate.Lz77Match.LengthCodeTable[t],r[o++]=65535&e,r[o++]=e>>16&255,r[o++]=e>>24,e=this.getDistanceCode_(n),r[o++]=e[0],r[o++]=e[1],r[o++]=e[2],r},ir.RawDeflate.prototype.lz77=function(e){var t,n,r,o,i,a,s,l,c,u={},p=ir.RawDeflate.WindowSize,h=new Uint16Array(2*e.length),d=0,f=0,m=new Uint32Array(286),y=new Uint32Array(30),g=this.lazy;function v(e,t){var n,r,o=e.toLz77Array();for(n=0,r=o.length;n<r;++n)h[d++]=o[n];m[o[0]]++,y[o[3]]++,f=e.length+t-1,l=null}for(m[256]=1,t=0,n=e.length;t<n;++t){for(i=0,r=0,o=ir.RawDeflate.Lz77MinLength;r<o&&t+r!==n;++r)i=i<<8|e[t+r];if(void 0===u[i]&&(u[i]=[]),a=u[i],f-- >0)a.push(t);else{for(;a.length>0&&t-a[0]>p;)a.shift();if(t+ir.RawDeflate.Lz77MinLength>=n){for(l&&v(l,-1),r=0,o=n-t;r<o;++r)c=e[t+r],h[d++]=c,++m[c];break}a.length>0?(s=this.searchLongestMatch_(e,t,a),l?l.length<s.length?(c=e[t-1],h[d++]=c,++m[c],v(s,0)):v(l,-1):s.length<g?l=s:v(s,0)):l?v(l,-1):(c=e[t],h[d++]=c,++m[c]),a.push(t)}}return h[d++]=256,m[256]++,this.freqsLitLen=m,this.freqsDist=y,h.subarray(0,d)},ir.RawDeflate.prototype.searchLongestMatch_=function(e,t,n){var r,o,i,a,s,l,c=0,u=e.length;e:for(a=0,l=n.length;a<l;a++){if(r=n[l-a-1],i=ir.RawDeflate.Lz77MinLength,c>ir.RawDeflate.Lz77MinLength){for(s=c;s>ir.RawDeflate.Lz77MinLength;s--)if(e[r+s-1]!==e[t+s-1])continue e;i=c}for(;i<ir.RawDeflate.Lz77MaxLength&&t+i<u&&e[r+i]===e[t+i];)++i;if(i>c&&(o=r,c=i),i===ir.RawDeflate.Lz77MaxLength)break}return new ir.RawDeflate.Lz77Match(c,t-o)},ir.RawDeflate.prototype.getTreeSymbols_=function(e,t,n,r){var o,i,a,s,l,c,u=new Uint32Array(e+n),p=new Uint32Array(316),h=new Uint8Array(19);for(i=0,o=0;o<e;o++)u[i++]=t[o];for(o=0;o<n;o++)u[i++]=r[o];for(l=0,o=0,s=u.length;o<s;o+=i){for(i=1;o+i<s&&u[o+i]===u[o];++i);if(a=i,0===u[o])if(a<3)for(;a-- >0;)p[l++]=0,h[0]++;else for(;a>0;)(c=a<138?a:138)>a-3&&c<a&&(c=a-3),c<=10?(p[l++]=17,p[l++]=c-3,h[17]++):(p[l++]=18,p[l++]=c-11,h[18]++),a-=c;else if(p[l++]=u[o],h[u[o]]++,--a<3)for(;a-- >0;)p[l++]=u[o],h[u[o]]++;else for(;a>0;)(c=a<6?a:6)>a-3&&c<a&&(c=a-3),p[l++]=16,p[l++]=c-3,h[16]++,a-=c}return{codes:p.subarray(0,l),freqs:h}},ir.RawDeflate.prototype.getLengths_=function(e,t){var n,r,o,i,a,s=e.length,l=new ir.Heap(2*ir.RawDeflate.HUFMAX),c=new Uint8Array(s);for(i=0;i<s;++i)e[i]>0&&l.push(i,e[i]);if(n=new Array(l.length/2),r=new Uint32Array(l.length/2),1===n.length)return c[l.pop().index]=1,c;for(i=0,a=l.length/2;i<a;++i)n[i]=l.pop(),r[i]=n[i].value;for(o=this.reversePackageMerge_(r,r.length,t),i=0,a=n.length;i<a;++i)c[n[i].index]=o[i];return c},ir.RawDeflate.prototype.reversePackageMerge_=function(e,t,n){var r,o,i,a,s,l=new Uint16Array(n),c=new Uint8Array(n),u=new Uint8Array(t),p=new Array(n),h=new Array(n),d=new Array(n),f=(1<<n)-t,m=1<<n-1;function y(e){var n=h[e][d[e]];n===t?(y(e+1),y(e+1)):--u[n],++d[e]}for(l[n-1]=t,o=0;o<n;++o)f<m?c[o]=0:(c[o]=1,f-=m),f<<=1,l[n-2-o]=(l[n-1-o]/2|0)+t;for(l[0]=c[0],p[0]=new Array(l[0]),h[0]=new Array(l[0]),o=1;o<n;++o)l[o]>2*l[o-1]+c[o]&&(l[o]=2*l[o-1]+c[o]),p[o]=new Array(l[o]),h[o]=new Array(l[o]);for(r=0;r<t;++r)u[r]=n;for(i=0;i<l[n-1];++i)p[n-1][i]=e[i],h[n-1][i]=i;for(r=0;r<n;++r)d[r]=0;for(1===c[n-1]&&(--u[0],++d[n-1]),o=n-2;o>=0;--o){for(r=0,a=0,s=d[o+1],i=0;i<l[o];i++)(a=p[o+1][s]+p[o+1][s+1])>e[r]?(p[o][i]=a,h[o][i]=t,s+=2):(p[o][i]=e[r],h[o][i]=r,++r);d[o]=0,1===c[o]&&y(o)}return u},ir.RawDeflate.prototype.getCodesFromLengths_=function(e){var t,n,r,o,i=new Uint16Array(e.length),a=[],s=[],l=0;for(t=0,n=e.length;t<n;t++)a[e[t]]=1+(0|a[e[t]]);for(t=1,n=ir.RawDeflate.MaxCodeLength;t<=n;t++)s[t]=l,l+=0|a[t],l<<=1;for(t=0,n=e.length;t<n;t++)for(l=s[e[t]],s[e[t]]+=1,i[t]=0,r=0,o=e[t];r<o;r++)i[t]=i[t]<<1|1&l,l>>>=1;return i},ir.Unzip=function(e,t){t=t||{},this.input=e instanceof Array?new Uint8Array(e):e,this.ip=0,this.eocdrOffset,this.numberOfThisDisk,this.startDisk,this.totalEntriesThisDisk,this.totalEntries,this.centralDirectorySize,this.centralDirectoryOffset,this.commentLength,this.comment,this.fileHeaderList,this.filenameToIndex,this.verify=t.verify||!1,this.password=t.password},ir.Unzip.CompressionMethod=ir.Zip.CompressionMethod,ir.Unzip.FileHeaderSignature=ir.Zip.FileHeaderSignature,ir.Unzip.LocalFileHeaderSignature=ir.Zip.LocalFileHeaderSignature,ir.Unzip.CentralDirectorySignature=ir.Zip.CentralDirectorySignature,ir.Unzip.FileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.version,this.os,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.fileCommentLength,this.diskNumberStart,this.internalFileAttributes,this.externalFileAttributes,this.relativeOffset,this.filename,this.extraField,this.comment},ir.Unzip.FileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==ir.Unzip.FileHeaderSignature[0]||e[t++]!==ir.Unzip.FileHeaderSignature[1]||e[t++]!==ir.Unzip.FileHeaderSignature[2]||e[t++]!==ir.Unzip.FileHeaderSignature[3])throw new Error("invalid file header signature");this.version=e[t++],this.os=e[t++],this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.fileCommentLength=e[t++]|e[t++]<<8,this.diskNumberStart=e[t++]|e[t++]<<8,this.internalFileAttributes=e[t++]|e[t++]<<8,this.externalFileAttributes=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,this.relativeOffset=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.comment=e.subarray(t,t+this.fileCommentLength),this.length=t-this.offset},ir.Unzip.LocalFileHeader=function(e,t){this.input=e,this.offset=t,this.length,this.needVersion,this.flags,this.compression,this.time,this.date,this.crc32,this.compressedSize,this.plainSize,this.fileNameLength,this.extraFieldLength,this.filename,this.extraField},ir.Unzip.LocalFileHeader.Flags=ir.Zip.Flags,ir.Unzip.LocalFileHeader.prototype.parse=function(){var e=this.input,t=this.offset;if(e[t++]!==ir.Unzip.LocalFileHeaderSignature[0]||e[t++]!==ir.Unzip.LocalFileHeaderSignature[1]||e[t++]!==ir.Unzip.LocalFileHeaderSignature[2]||e[t++]!==ir.Unzip.LocalFileHeaderSignature[3])throw new Error("invalid local file header signature");this.needVersion=e[t++]|e[t++]<<8,this.flags=e[t++]|e[t++]<<8,this.compression=e[t++]|e[t++]<<8,this.time=e[t++]|e[t++]<<8,this.date=e[t++]|e[t++]<<8,this.crc32=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.compressedSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.plainSize=(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)>>>0,this.fileNameLength=e[t++]|e[t++]<<8,this.extraFieldLength=e[t++]|e[t++]<<8,this.filename=String.fromCharCode.apply(null,e.subarray(t,t+=this.fileNameLength)),this.extraField=e.subarray(t,t+=this.extraFieldLength),this.length=t-this.offset},ir.Unzip.prototype.searchEndOfCentralDirectoryRecord=function(){var e,t=this.input;for(e=t.length-12;e>0;--e)if(t[e]===ir.Unzip.CentralDirectorySignature[0]&&t[e+1]===ir.Unzip.CentralDirectorySignature[1]&&t[e+2]===ir.Unzip.CentralDirectorySignature[2]&&t[e+3]===ir.Unzip.CentralDirectorySignature[3])return void(this.eocdrOffset=e);throw new Error("End of Central Directory Record not found")},ir.Unzip.prototype.parseEndOfCentralDirectoryRecord=function(){var e,t=this.input;if(this.eocdrOffset||this.searchEndOfCentralDirectoryRecord(),e=this.eocdrOffset,t[e++]!==ir.Unzip.CentralDirectorySignature[0]||t[e++]!==ir.Unzip.CentralDirectorySignature[1]||t[e++]!==ir.Unzip.CentralDirectorySignature[2]||t[e++]!==ir.Unzip.CentralDirectorySignature[3])throw new Error("invalid signature");this.numberOfThisDisk=t[e++]|t[e++]<<8,this.startDisk=t[e++]|t[e++]<<8,this.totalEntriesThisDisk=t[e++]|t[e++]<<8,this.totalEntries=t[e++]|t[e++]<<8,this.centralDirectorySize=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.centralDirectoryOffset=(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)>>>0,this.commentLength=t[e++]|t[e++]<<8,this.comment=t.subarray(e,e+this.commentLength)},ir.Unzip.prototype.parseFileHeader=function(){var e,t,n,r,o=[],i={};if(!this.fileHeaderList){for(void 0===this.centralDirectoryOffset&&this.parseEndOfCentralDirectoryRecord(),e=this.centralDirectoryOffset,n=0,r=this.totalEntries;n<r;++n)(t=new ir.Unzip.FileHeader(this.input,e)).parse(),e+=t.length,o[n]=t,i[t.filename]=n;if(this.centralDirectorySize<e-this.centralDirectoryOffset)throw new Error("invalid file header size");this.fileHeaderList=o,this.filenameToIndex=i}},ir.Unzip.prototype.getFileData=function(e,t){t=t||{};var n,r,o,i,a,s,l,c,u=this.input,p=this.fileHeaderList;if(p||this.parseFileHeader(),void 0===p[e])throw new Error("wrong index");if(r=p[e].relativeOffset,(n=new ir.Unzip.LocalFileHeader(this.input,r)).parse(),r+=n.length,o=n.compressedSize,0!=(n.flags&ir.Unzip.LocalFileHeader.Flags.ENCRYPT)){if(!t.password&&!this.password)throw new Error("please set password");for(s=this.createDecryptionKey(t.password||this.password),l=r,c=r+12;l<c;++l)this.decode(s,u[l]);for(l=r+=12,c=r+(o-=12);l<c;++l)u[l]=this.decode(s,u[l])}switch(n.compression){case ir.Unzip.CompressionMethod.STORE:i=this.input.subarray(r,r+o);break;case ir.Unzip.CompressionMethod.DEFLATE:i=new ir.RawInflate(this.input,{index:r,bufferSize:n.plainSize}).decompress();break;default:throw new Error("unknown compression type")}if(this.verify&&(a=ir.CRC32.calc(i),n.crc32!==a))throw new Error("wrong crc: file=0x"+n.crc32.toString(16)+", data=0x"+a.toString(16));return i},ir.Unzip.prototype.getFilenames=function(){var e,t,n,r=[];for(this.fileHeaderList||this.parseFileHeader(),e=0,t=(n=this.fileHeaderList).length;e<t;++e)r[e]=n[e].filename;return r},ir.Unzip.prototype.decompress=function(e,t){var n;if(this.filenameToIndex||this.parseFileHeader(),void 0===(n=this.filenameToIndex[e]))throw new Error(e+" not found");return this.getFileData(n,t)},ir.Unzip.prototype.setPassword=function(e){this.password=e},ir.Unzip.prototype.decode=function(e,t){return t^=this.getByte(e),this.updateKeys(e,t),t},ir.Unzip.prototype.updateKeys=ir.Zip.prototype.updateKeys,ir.Unzip.prototype.createDecryptionKey=ir.Zip.prototype.createEncryptionKey,ir.Unzip.prototype.getByte=ir.Zip.prototype.getByte,ir.Util.stringToByteArray=function(e){var t,n,r=e.split("");for(t=0,n=r.length;t<n;t++)r[t]=(255&r[t].charCodeAt(0))>>>0;return r},ir.Adler32=function(e){return"string"==typeof e&&(e=ir.Util.stringToByteArray(e)),ir.Adler32.update(1,e)},ir.Adler32.update=function(e,t){for(var n,r=65535&e,o=e>>>16&65535,i=t.length,a=0;i>0;){i-=n=i>ir.Adler32.OptimizationParameter?ir.Adler32.OptimizationParameter:i;do{o+=r+=t[a++]}while(--n);r%=65521,o%=65521}return(o<<16|r)>>>0},ir.Adler32.OptimizationParameter=1024,ir.BitStream=function(e,t){if(this.index="number"==typeof t?t:0,this.bitindex=0,this.buffer=e instanceof Uint8Array?e:new Uint8Array(ir.BitStream.DefaultBlockSize),2*this.buffer.length<=this.index)throw new Error("invalid index");this.buffer.length<=this.index&&this.expandBuffer()},ir.BitStream.DefaultBlockSize=32768,ir.BitStream.prototype.expandBuffer=function(){var e=this.buffer,t=e.length,n=new Uint8Array(t<<1);return n.set(e),this.buffer=n},ir.BitStream.prototype.writeBits=function(e,t,n){var r,o=this.buffer,i=this.index,a=this.bitindex,s=o[i];if(n&&t>1&&(e=t>8?function(e){return ir.BitStream.ReverseTable[255&e]<<24|ir.BitStream.ReverseTable[e>>>8&255]<<16|ir.BitStream.ReverseTable[e>>>16&255]<<8|ir.BitStream.ReverseTable[e>>>24&255]}(e)>>32-t:ir.BitStream.ReverseTable[e]>>8-t),t+a<8)s=s<<t|e,a+=t;else for(r=0;r<t;++r)s=s<<1|e>>t-r-1&1,8==++a&&(a=0,o[i++]=ir.BitStream.ReverseTable[s],s=0,i===o.length&&(o=this.expandBuffer()));o[i]=s,this.buffer=o,this.bitindex=a,this.index=i},ir.BitStream.prototype.finish=function(){var e=this.buffer,t=this.index;return this.bitindex>0&&(e[t]<<=8-this.bitindex,e[t]=ir.BitStream.ReverseTable[e[t]],t++),e.subarray(0,t)},ir.BitStream.ReverseTable=function(e){return e}(function(){var e,t=new Uint8Array(256);for(e=0;e<256;++e)t[e]=function(e){var t=e,n=7;for(e>>>=1;e;e>>>=1)t<<=1,t|=1&e,--n;return(t<<n&255)>>>0}(e);return t}()),ir.CRC32.calc=function(e,t,n){return ir.CRC32.update(e,0,t,n)},ir.CRC32.update=function(e,t,n,r){var o=ir.CRC32.Table,i="number"==typeof n?n:n=0,a="number"==typeof r?r:e.length;for(t^=4294967295,i=7&a;i--;++n)t=t>>>8^o[255&(t^e[n])];for(i=a>>3;i--;n+=8)t=(t=(t=(t=(t=(t=(t=(t=t>>>8^o[255&(t^e[n])])>>>8^o[255&(t^e[n+1])])>>>8^o[255&(t^e[n+2])])>>>8^o[255&(t^e[n+3])])>>>8^o[255&(t^e[n+4])])>>>8^o[255&(t^e[n+5])])>>>8^o[255&(t^e[n+6])])>>>8^o[255&(t^e[n+7])];return(4294967295^t)>>>0},ir.CRC32.single=function(e,t){return(ir.CRC32.Table[255&(e^t)]^e>>>8)>>>0},ir.CRC32.Table_=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],ir.CRC32.Table=new Uint32Array(ir.CRC32.Table_),ir.Deflate=function(e,t){this.input=e,this.output=new Uint8Array(ir.Deflate.DefaultBufferSize),this.compressionType=ir.Deflate.CompressionType.DYNAMIC,this.rawDeflate;var n,r={};for(n in!t&&(t={})||"number"==typeof t.compressionType&&(this.compressionType=t.compressionType),t)r[n]=t[n];r.outputBuffer=this.output,this.rawDeflate=new ir.RawDeflate(this.input,r)},ir.Deflate.DefaultBufferSize=32768,ir.Deflate.CompressionType=ir.RawDeflate.CompressionType,ir.Deflate.compress=function(e,t){return new ir.Deflate(e,t).compress()},ir.Deflate.prototype.compress=function(){var e,t,n,r,o,i,a,s=0;switch(a=this.output,e=ir.CompressionMethod.DEFLATE){case ir.CompressionMethod.DEFLATE:t=Math.LOG2E*Math.log(ir.RawDeflate.WindowSize)-8;break;default:throw new Error("invalid compression method")}switch(n=t<<4|e,a[s++]=n,e){case ir.CompressionMethod.DEFLATE:switch(this.compressionType){case ir.Deflate.CompressionType.NONE:o=0;break;case ir.Deflate.CompressionType.FIXED:o=1;break;case ir.Deflate.CompressionType.DYNAMIC:o=2;break;default:throw new Error("unsupported compression type")}break;default:throw new Error("invalid compression method")}return r=o<<6|0,r|=31-(256*n+r)%31,a[s++]=r,i=ir.Adler32(this.input),this.rawDeflate.op=s,s=(a=this.rawDeflate.compress()).length,(a=new Uint8Array(a.buffer)).length<=s+4&&(this.output=new Uint8Array(a.length+4),this.output.set(a),a=this.output),(a=a.subarray(0,s+4))[s++]=i>>24&255,a[s++]=i>>16&255,a[s++]=i>>8&255,a[s++]=255&i,a};var sr=function(e,t,n,r){this.chr=e,this.start=t,this.end=n,this.features=r};sr.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},sr.prototype.containsRange=function(e){return this.chr===e.chr&&this.start<=e.start&&this.end>=e.end};var lr=function(e,t,n,r,o){this.name=e,this.order=t,this.bpStart=n,this.bpLength=r,this.rangeLocus=o},cr={fileInfoCache:{},isGoogleURL:function(e){return e.includes("googleapis")&&!e.includes("urlshortener")||this.isGoogleCloudURL(e)||this.isGoogleStorageURL(e)||this.isGoogleDrive(e)},isGoogleStorageURL:function(e){return e.startsWith("https://www.googleapis.com/storage")||e.startsWith("https://storage.cloud.google.com")},isGoogleCloudURL:function(e){return e.startsWith("gs://")},isGoogleDrive:function(e){return e.indexOf("drive.google.com")>=0||e.indexOf("www.googleapis.com/drive")>0},setApiKey:function(e){this.apiKey=e},translateGoogleCloudURL:function(e){var t,n,r,o,i,a;return t=e.indexOf("/",5),o=e.indexOf("?"),t<0?e:(n=e.substring(5,t),i=o<0?e.substring(t+1):e.substring(t+1,o),r=encodeURIComponent(i),o>0&&(a=e.substring(o)),"https://www.googleapis.com/storage/v1/b/"+n+"/o/"+r+(a?a+"&alt=media":"?alt=media"))},addApiKey:function(t){var n=this.apiKey;if(n!==e&&!t.includes("key=")){var r=t.includes("?")?"&":"?";t=t+r+"key="+n}return t},driveDownloadURL:function(e){var t=ur(e);return t?"https://www.googleapis.com/drive/v3/files/"+t+"?alt=media&supportsTeamDrives=true":e},getDriveFileInfo:function(e){var t="https://www.googleapis.com/drive/v3/files/"+ur(e)+"?supportsTeamDrives=true";return Dr.loadJson(t,Zn({}))},loadGoogleProperties:function(e){var t=this;return Dr.loadArrayBuffer(e).then(function(e){var n,r;n=new ir.Gunzip(new Uint8Array(e)).decompress(),r=String.fromCharCode.apply(null,n);var o=JSON.parse(r);return t.setApiKey(o.api_key),t.properties=o,o})}};function ur(e){var t,n;if(e.includes("/open?id=")){if(t=e.indexOf("/open?id=")+9,n=e.indexOf("&"),t>0&&n>t)return e.substring(t,n);if(t>0)return e.substring(t)}else if(e.includes("/file/d/"))return t=e.indexOf("/file/d/")+8,n=e.lastIndexOf("/"),e.substring(t,n)}var pr={oauthTokens:{},setToken:function(e,t){t?this.oauthTokens[t]=e:this.google.access_token=e},getToken:function(e){var t;if(e){for(var n in this.oauthTokens)if(new RegExp("^"+n.split(/\*+/).map(hr).join(".*")+"$").test(e)){t=this.oauthTokens[n];break}}else t=this.google.access_token;return t},removeToken:function(e){e?delete this.oauthTokens[e]:delete pr.google.access_token},google:{setToken:function(e){this.access_token=e}}};function hr(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function dr(e,t){var n=[],r=0,o=0;for(t=t||e.byteLength-18;r<t;)try{var i=new Uint8Array(e,r,18),a=i[11]<<8|i[10],s=(i[12],i[13],i[15],i[14],1+(i[17]<<8|i[16])),l=12+a+r,c=e.byteLength-l,u=s-a-19;if(c<u)break;var p=new Uint8Array(e,l,u),h=new ir.RawInflate(p),d=h.decompress();r+=h.ip+26,o+=d.byteLength,n.push(d)}catch(e){console.error(e);break}if(1===n.length)return n[0];for(var f=new Uint8Array(o),m=0,y=0;y<n.length;++y){var g=new Uint8Array(n[y]);yr(g,0,f,m,g.length),m+=g.length}return f}function fr(e){var t=new Uint8Array(e);return t[17]<<8|t[16]+1}var mr="function"==typeof new Uint8Array(1).subarray;function yr(e,t,n,r,o){if(0!==o){if(!e)throw"Undef src";if(!n)throw"Undef dest";0===t&&o===e.length?gr(e,n,r):mr?gr(e.subarray(t,t+o),n,r):1===e.BYTES_PER_ELEMENT&&o>100?gr(new Uint8Array(e.buffer,e.byteOffset+t,o),n,r):function(e,t,n,r,o){for(var i=0;i<o;++i)n[r+i]=e[t+i]}(e,t,n,r,o)}}function gr(e,t,n){t.set(e,n)}function vr(e){var t,n;return e instanceof File?e.name:((t=(n=(t=e.lastIndexOf("/"))<0?e:e.substr(t+1)).indexOf("?"))>0&&(n=n.substr(0,t)),n)}function br(e){return e instanceof File}function Sr(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var o=new Uint8Array(r.length),i=0;i<r.length;i++)o[i]=r.charCodeAt(i);return n.indexOf("gzip")>0?new ir.Gunzip(o).decompress():o}function wr(e){for(var t=_r,n=t.parser.loose.exec(e),r={},o=14;o--;)r[t.key[o]]=n[o]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,o){n&&(r[t.q.name][n]=o)}),r}"object"===(void 0===r?"undefined":D(r))&&"undefined"==typeof window&&(i.atob=function(e){return o.from(e,"base64").toString("binary")});var Cr,_r={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},kr={401:"Access unauthorized",403:"Access forbidden",404:"Not found"},Tr=function(e){var t=this;this.$container=fn("<div>",{class:"igv-alert-dialog-container"}),e.append(this.$container);var n=fn("<div>");this.$container.append(n);var r=fn("<div>",{id:"igv-alert-dialog-body"});this.$container.append(r),this.$body=fn("<div>",{id:"igv-alert-dialog-body-copy"}),r.append(this.$body);var o=fn("<div>");this.$container.append(o),this.$ok=fn("<div>"),o.append(this.$ok),this.$ok.text("OK"),this.$ok.on("click",function(){t.$body.html(""),t.$container.hide()}),this.$container.hide()};Tr.prototype.configure=function(e){this.$body.html(e.label)},Tr.prototype.present=function(e,t){var n=this,r=e.message||e;kr.hasOwnProperty(r)&&(r=kr[r]),this.$body.html(r),this.$ok.on("click",function(){"function"==typeof t&&t("OK"),n.$body.html(""),n.$container.hide()}),this.$container.show()};var xr,Er,Ar={init:function(e){Cr||(Cr=new Tr(e))},presentAlert:function(e,t){Cr.present(e,t)}},Or=1,Pr=2,Ir=3,Mr=new(function(){function t(n){R(this,t),this.wait=n===e?100:n,this.isCalled=!1,this.calls=[]}return F(t,[{key:"limiter",value:function(e){var t=this;return function(){t.calls.push(e.bind.apply(e,[this].concat(Array.prototype.slice.call(arguments)))),function e(){t.calls.length&&!t.isCalled&&(t.isCalled=!0,t.calls.shift().call(),setTimeout(function(){t.isCalled=!1,e()},t.wait))}()}}}]),t}())(100),Dr={load:(xr=N(t.mark(function e(n,r){var o,i;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return(i=N(t.mark(function e(n,r){var o,i,a,s,l;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){return(l=N(t.mark(function e(n,r){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){cr.isGoogleURL(n)&&(n.startsWith("gs://")?n=cr.translateGoogleCloudURL(n):cr.isGoogleStorageURL(n)&&(n.includes("altMedia=")||(n+=n.includes("?")?"&altMedia=true":"?altMedia=true")),n=cr.addApiKey(n));var o=r.headers||{};r.token&&jr(o,r.token);var i=r.range,a=navigator.userAgent.indexOf("Chrome")>-1;0===navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent),i&&a&&!Nr(n)&&(n+=n.includes("?")?"&":"?",n+="someRandomSeed="+Math.random().toString(36));var s=new XMLHttpRequest,l=r.sendData||r.body,c=r.method||(l?"POST":"GET"),u=r.responseType,p=r.contentType,h=r.mimeType;if(s.open(c,n),i){var d=i.size?i.start+i.size-1:"";s.setRequestHeader("Range","bytes="+i.start+"-"+d)}if(p&&s.setRequestHeader("Content-Type",p),h&&s.overrideMimeType(h),u&&(s.responseType=u),o)for(var f=0,m=Object.keys(o);f<m.length;f++){var y=m[f],g=o[y];s.setRequestHeader(y,g)}!0===r.withCredentials&&(s.withCredentials=!0),s.onload=function(o){if(0===s.status||s.status>=200&&s.status<=300)i&&206!==s.status&&0!==i.start?v("ERROR: range-byte header was ignored for url: "+n):e(s.response);else{if("undefined"!=typeof gapi&&(404===s.status||401===s.status)&&cr.isGoogleURL(n)&&!r.retries)return r.retries=1,zr().then(function(o){r.oauthToken=o,Dr.load(n,r).then(function(t){e(t)}).catch(function(e){if(!t)throw e;t(e)})});403===s.status?v("Access forbidden"):416===s.status?v("Unsatisfiable range"):v(s.status)}},s.onerror=function(e){v("Error accessing resource: "+n+" Status: "+s.status)},s.ontimeout=function(e){v("Timed out")},s.onabort=function(e){t(e)};try{s.send(l)}catch(e){t(e)}function v(e){if(!t)throw new Error(e);t(new Error(e))}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)},s=function(e,t){return l.apply(this,arguments)},a=function(e){return e&&(r.token=e),s(n,r)},n=Fr(n),(o=(r=r||{}).oauthToken)||(o=Rr(n)),!o){e.next=16;break}if(!(i="function"==typeof o?o():o).then||"function"!=typeof i.then){e.next=13;break}return e.abrupt("return",i.then(a));case 13:return e.abrupt("return",a(i));case 14:e.next=17;break;case 16:return e.abrupt("return",s(n,r));case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)},o=function(e,t){return i.apply(this,arguments)},r=r||{},!(n instanceof File)){e.next=7;break}return e.abrupt("return",Lr(n,r));case 7:if(!n.startsWith("data:")){e.next=11;break}return e.abrupt("return",Sr(n));case 11:if(!Br(n)){e.next=15;break}return e.abrupt("return",new Promise(function(e,i){Mr.limiter(function(){var n=N(t.mark(function n(r,a){var s;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{s=o(r,a),e(s)}catch(e){i(e)}case 1:case"end":return t.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())(n,r)}));case 15:return e.abrupt("return",o(n,r));case 16:case"end":return e.stop()}},e)})),function(e,t){return xr.apply(this,arguments)}),loadArrayBuffer:function(e,t){return(t=t||{}).responseType="arraybuffer",e instanceof File?Lr(e,t):Dr.load(e,t)},loadJson:function(e,t){return"POST"===((t=t||{}).method||(t.sendData?"POST":"GET"))&&(t.contentType="application/json"),Dr.load(e,t).then(function(e){return e?JSON.parse(e):e})},loadString:function(e,t){return t=t||{},e instanceof File?function(e,t){var n=(t=t||{}).range?e.slice(t.range.start,t.range.start+t.range.size):e;return new Promise(function(r,o){var i=new FileReader,a=0;t.bgz||e.name.endsWith(".bgz")?a=Pr:e.name.endsWith(".gz")&&(a=Or),i.onload=function(e){return r(0===a?i.result:Gr(i.result,a))},i.onerror=function(t){var n=i.error;o(n+" "+e.name,i)},0===a?i.readAsText(n):i.readAsArrayBuffer(n)})}(e,t):function(e,t){var n=(t=t||{}).filename||vr(e),r=Ir;return t.bgz?r=Pr:n.endsWith(".gz")&&(r=Or),t.responseType="arraybuffer",Dr.load(e,t).then(function(e){return Gr(e,r)})}(e,t)},startup:function(){var e=window.document.location.href;wr(e).host,0!==Vr||e.includes("localhost")||e.includes("127.0.0.1")||(Vr++,Dr.load("https://data.broadinstitute.org/igv/projects/current/counter_igvjs.php?version=0").then(function(e){}).catch(function(e){}))}};function Lr(e,t){return new Promise(function(n,r){var o=new FileReader;if(o.onload=function(e){n(o.result)},o.onerror=function(e){r(null,o)},t.range){var i=e.slice(t.range.start,t.range.start+t.range.size);"arraybuffer"===t.responseType?o.readAsArrayBuffer(i):o.readAsBinaryString(i)}else"arraybuffer"===t.responseType?o.readAsArrayBuffer(e):o.readAsBinaryString(e)})}function Nr(e){return e.indexOf("X-Amz-Signature")>-1}function Rr(e){var t=wr(e).host,n=pr.getToken(t);return!n&&cr.isGoogleURL(e)&&(n=pr.google.access_token),n}function jr(e,t){return t&&(e["Cache-Control"]="no-cache",e.Authorization="Bearer "+t),e}function Fr(e){return e.includes("//www.dropbox.com")?e.replace("//www.dropbox.com","//dl.dropboxusercontent.com"):e.includes("//drive.google.com")?cr.driveDownloadURL(e):e.includes("//www.broadinstitute.org/igvdata")?e.replace("//www.broadinstitute.org/igvdata","//data.broadinstitute.org/igvdata"):e.includes("//igvdata.broadinstitute.org")?e.replace("//igvdata.broadinstitute.org","https://dn7ywbm9isq8j.cloudfront.net"):e}function Gr(e,t){if(t===Ir&&e.byteLength>2){var n=new Uint8Array(e,0,2);31===n[0]&&139===n[1]&&(t=Or)}var r;return r=t===Or?new ir.Gunzip(new Uint8Array(e)).decompress():t===Pr?dr(e):new Uint8Array(e),"TextDecoder"in("undefined"!=typeof self?self:void 0!==i?i:window)?(new TextDecoder).decode(r):function(e){for(var t="",n=0;n<e.length;){var r=e[n],o=0,i=0;if(r<=127?(o=0,i=255&r):r<=223?(o=1,i=31&r):r<=239?(o=2,i=15&r):r<=244&&(o=3,i=7&r),e.length-n-o>0)for(var a=0;a<o;)i=i<<6|63&(r=e[n+a+1]),a+=1;else i=65533,o=e.length-n;t+=String.fromCodePoint(i),n+=o+1}return t}(r)}function Br(e){return e.includes("drive.google.com")||e.includes("www.googleapis.com/drive")}function zr(){return function(){return N(t.mark(function n(){var r;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!pr.google.access_token){t.next=2;break}return t.abrupt("return",Promise.resolve(pr.google.access_token));case 2:if(!Er){t.next=4;break}return t.abrupt("return",Er);case 4:if(gapi.auth2.getAuthInstance()){t.next=8;break}return Ar.presentAlert("Authorization is required, but Google oAuth has not been initalized.  Contact your site administrator for assistance."),t.abrupt("return",e);case 8:return(r=new gapi.auth2.SigninOptionsBuilder).setPrompt("select_account"),r.setScope("https://www.googleapis.com/auth/devstorage.read_only https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.readonly"),Er=new Promise(function(t,n){Ar.presentAlert("Google Login required",function(){gapi.auth2.getAuthInstance().signIn(r).then(function(n){var r=n.getAuthResponse();pr.google.setToken(r.access_token),t(r.access_token),Er=e}).catch(function(t){Er=e,n(t)})})}),t.abrupt("return",Er);case 14:case"end":return t.stop()}},n)})).apply(this,arguments)}.apply(this,arguments)}var Vr=0;function Hr(e){return"string"==typeof e||e instanceof String}function Ur(e){var t=String(e).split(/[.,]/);return t[0].split("").reverse().reduce(function(e,t,n){return n%3==0?e+","+t:e+t}).split("").reverse().join("")+(t[1]?"."+t[1]:"")}var qr=function(e){return e.split(/\n|\r\n|\r/g)};function Wr(e,t){var n,r,o=[],i=e.length,a=0,s=!1;if(i>0)for(o[a]=e.charAt(0),n=1;n<i;n++)'"'===(r=e.charAt(n))?s=!s:s||r!==t?o[a]+=r:o[++a]="";return o}function Kr(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)}var $r,Yr=new Set(["fastaURL","indexURL","cytobandURL","indexed"]),Qr=function(e){"string"==typeof e.fastaURL&&e.fastaURL.startsWith("data:")?(this.file=function(e){var t,n=e.split(","),r=n[0].split(":")[1],o=n[1];o=r.indexOf("base64")>=0?atob(o):decodeURI(o),t=new Uint8Array(o.length);for(var i=0;i<o.length;i++)t[i]=o.charCodeAt(i);for(var a=new ir.Gunzip(t).decompress(),s="",l=a.length,c=0;c<l;c++)s+=String.fromCharCode(a[c]);return s}(e.fastaURL),this.indexed=!1,this.isDataURI=!0):(this.file=e.fastaURL,this.indexed=!1!==e.indexed,this.indexed&&(this.indexFile=e.indexURL||e.indexFile||this.file+".fai")),this.withCredentials=e.withCredentials,this.chromosomeNames=[],this.chromosomes={},this.sequences={},this.offsets={},this.config=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&!Yr.has(t)&&(n[t]=e[t]);return n}(e)};Qr.prototype.init=function(){return this.indexed?this.getIndex():this.loadAll()},Qr.prototype.getSequence=function(e,t,n){return this.indexed?function(e,t,n){var r=this,o=r.interval;if(o&&o.contains(e,t,n))return Promise.resolve(c(o,t,n));var i=t,a=n;if(n-t<5e4){var s=n-t,l=Math.round(t+s/2);i=Math.max(0,l-25e3),a=l+25e3}return r.readSequence(e,i,a).then(function(o){return r.interval=new sr(e,i,a,o),c(r.interval,t,n)});function c(e,t,n){var r=t-e.start,o=n-t;return e.features?e.features.substr(r,o):null}}.call(this,e,t,n):function(e,t,n){this.offsets[e]&&(t-=this.offsets[e],n-=this.offsets[e]);var r="";if(t<0)for(var o=t;o<Math.min(n,0);o++)r+="*";if(n<=0)return Promise.resolve(r);var i=this.sequences[e];return Math.min(n,i.length),Promise.resolve(r+i.substring(t,n))}.call(this,e,t,n)},Qr.prototype.getIndex=function(){if(this.index)return Promise.resolve(this.index);var e=this;return Dr.load(e.indexFile,Zn(e.config)).then(function(t){var n=qr(t),r=n.length,o=0,i=0;for(e.index={};o<r;){var a=n[o++].split("\t");if(5===a.length){var s=a[0],l=parseInt(a[1]),c={size:l,position:parseInt(a[2]),basesPerLine:parseInt(a[3]),bytesPerLine:parseInt(a[4])};e.chromosomeNames.push(s),e.index[s]=c,e.chromosomes[s]=new lr(s,i++,0,l)}}return e.index})},Qr.prototype.loadAll=function(){var t=this;return this.isDataURI?Promise.resolve(n(this.file)):Dr.load(t.file,Zn(t.config)).then(n);function n(n){for(var r,o,i=qr(n),a=i.length,s=0,l="",c=e,u=0,p=0;s<a;)if((r=i[s++].trim()).startsWith("#")||0===r.length);else if(r.startsWith(">")){l&&(t.chromosomeNames.push(o),t.sequences[o]=l,t.chromosomes[o]=new lr(o,p++,u,u+l.length,c));var h=r.substr(1).split(/\s+/)[0].split(":");if(o=h[0],l="",u=0,c=e,h.length>1&&h[1].indexOf("-")>0){var d=h[1].split("-");2===d.length&&/^[0-9]+$/.test(d[0])&&/^[0-9]+$/.test(d[1]);var f=Number.parseInt(d[0]);Number.parseInt(d[1])>f&&(u=f-1,t.offsets[o]=u,c=h[1])}}else l+=r;l&&(t.chromosomeNames.push(o),t.sequences[o]=l,t.chromosomes[o]=new lr(o,p++,u,u+l.length,c))}},Qr.prototype.readSequence=function(e,t,n){var r,o,i,a,s,l=this;return l.getIndex().then(function(){var c=l.index[e];if(c){o=Math.max(0,t),i=Math.min(c.size,n);var u=c.bytesPerLine;a=c.basesPerLine;var p=c.position;s=u-a;var h=Math.floor(o/a),d=Math.floor(i/a),f=p+h*u+(r=o-h*a),m=p+d*u+(i-d*a)-1-f+1;return m<=0?(console.error("No sequence for "+e+":"+t+"-"+n),""):Dr.load(l.file,Zn(l.config,{range:{start:f,size:m}}))}return l.interval=new sr(e,t,n,null),null}).then(function(e){if(e){var t,n="",l=0,c=e.length;for(r>0&&(t=Math.min(i-o,a-r),n+=e.substr(l,t),l+=t+s);l<c;)t=Math.min(a,c-l),n+=e.substr(l,t),l+=t+s;return n}return null})};var Xr,Zr,Jr={loadGenome:(Zr=N(t.mark(function e(n){var r,o,i,a,s;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.cytobandURL,o=n.aliasURL,i=new Qr(n),e.next=5,i.init();case 5:if(!r){e.next=9;break}return e.next=8,no(r,i.config);case 8:a=e.sent;case 9:if(!o){e.next=13;break}return e.next=12,ro(o,i.config);case 12:s=e.sent;case 13:return e.abrupt("return",new eo(n,i,a,s));case 14:case"end":return e.stop()}},e)})),function(e){return Zr.apply(this,arguments)}),getKnownGenomes:(Xr=N(t.mark(function e(){var n,r,o;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){var t={};return e.forEach(function(e){t[e.id]=e}),$r=t,t},n=Jr.genomeList,!$r){e.next=6;break}return e.abrupt("return",$r);case 6:if(n){e.next=10;break}return e.abrupt("return",{});case 10:if("string"!=typeof n){e.next=17;break}return e.next=13,Dr.loadJson(n,{});case 13:return r=e.sent,e.abrupt("return",o(r));case 17:return e.abrupt("return",o(n));case 18:case"end":return e.stop()}},e)})),function(){return Xr.apply(this,arguments)}),isWholeGenomeView:function(e){return"all"===e.chrName.toLowerCase()}},eo=function(t,n,r,o){this.config=t,this.id=t.id,this.sequence=n,this.chromosomeNames=n.chromosomeNames,this.chromosomes=n.chromosomes,this.ideograms=r,this.wholeGenomeView=t.wholeGenomeView===e||t.wholeGenomeView,this.wholeGenomeView&&Object.keys(n.chromosomes).length>1?function(t,n){var r;if(n.chromosomeOrder)t.wgChromosomeNames=n.chromosomeOrder.split(",").map(function(e){return e.trim()}),r=t.wgChromosomeNames.map(function(e){return t.chromosomes[e]}).filter(function(t){return t!==e});else{var o=Object.keys(t.chromosomes).map(function(e){return t.chromosomes[e].bpLength}).reduce(function(e,t){return Math.max(e,t)})/50,i=(r=Object.values(t.chromosomes).filter(function(e){return e.bpLength>o})).filter(function(e){return m(e.name.replace("chr",""))}),a=r.filter(function(e){return!m(e.name.replace("chr",""))});i.sort(function(e,t){return Number.parseInt(e.name.replace("chr",""))-Number.parseInt(t.name.replace("chr",""))});var s=i.map(function(e){return e.name}),l=!0,c=!1,u=e;try{for(var p,h=a[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;s.push(d.name)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}t.wgChromosomeNames=s}var f=r.reduce(function(e,t){return e+t.bpLength},0);function m(e){return/^\d+$/.test(e)}t.chromosomes.all={name:"all",bpLength:f}}(this,t):this.wgChromosomeNames=n.chromosomeNames;var i={},a=this;i.all="all",this.chromosomeNames.forEach(function(e){var t=e.startsWith("chr")?e.substring(3):"chr"+e;i[t.toLowerCase()]=e,"chrM"===e&&(i.mt="chrM"),"MT"===e&&(i.chrm="MT"),i[e.toLowerCase()]=e}),o&&o.forEach(function(e){var t,n;for(n=0;n<e.length;n++)if(a.chromosomes[e[n]]){t=e[n];break}t&&e.forEach(function(e){e!==t&&(i[e.toLowerCase()]=t,i[e]=t)})}),this.chrAliasTable=i};function to(){var t={},n=0,r=!0,o=!1,i=e;try{for(var a,s=this.wgChromosomeNames[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t[l]=Math.floor(n),n+=this.getChromosome(l).bpLength}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}function no(e,t){if(e.startsWith("data:")){var n=function(e){var t;if(e.startsWith("data:application/gzip;base64"))t=Sr(e);else{var n,r=e.split(","),o=r[0].split(":")[1],i=r[1];i=o.indexOf("base64")>=0?atob(i):decodeURI(i),n=new Uint8Array(i.length);for(var a=0;a<i.length;a++)n[a]=i.charCodeAt(a);t=new ir.Gunzip(n).decompress()}for(var s="",l=t.length,c=0;c<l;c++)s+=String.fromCharCode(t[c]);return s}(e);return Promise.resolve(r(n))}return Dr.loadString(e,Zn(t)).then(function(e){return r(e)});function r(e){for(var t,n=[],r=0,o=qr(e),i=o.length,a={},s=0;s<i;s++){var l=o[s].split("\t"),c=l[0];if(t||(t=c),c!==t&&(a[t]=n,n=[],t=c,r=0),5===l.length){var u=parseInt(l[1]),p=parseInt(l[2]),h=l[3],d=l[4];n[r++]=new or(u,p,h,d)}}return a}}function ro(e,t){return Dr.loadString(e,Zn(t)).then(function(e){var t=qr(e),n=[];return t.forEach(function(e){!e.startsWith("#")&&e.length>0&&n.push(e.split("\t"))}),n})}function oo(e,t,n,r){var o=this;this.trackView=e,this.genomicState=n,this.browser=e.browser,this.$viewport=fn('<div class="igv-viewport-div">'),t.append(this.$viewport);var i=fn("<div>",{class:"igv-viewport-content-div"});this.$viewport.append(i);var a=this.browser.genomicStateList.indexOf(n);i.data("genomicStateIndex",a),i.height(this.$viewport.height()),this.contentDiv=i.get(0);var s=fn("<canvas>");if(fn(this.contentDiv).append(s),this.canvas=s.get(0),this.ctx=this.canvas.getContext("2d"),this.setWidth(r),"sequence"===e.track.type&&this.$viewport.addClass("igv-viewport-sequence"),"ruler"===e.track.type)this.rulerSweeper=new nr(this),e.track.appendMultiPanelCloseButton(this.$viewport,this.genomicState),this.$rulerLabel=fn('<div class = "igv-multi-locus-panel-label-div">'),this.$rulerLabel.click(function(e){o.browser.selectMultiLocusPanelWithGenomicState(o.genomicState)}),fn(this.contentDiv).append(this.$rulerLabel),!0===Jr.isWholeGenomeView(this.genomicState.referenceFrame)?function(){var e=".ruler_track_viewport_"+this.browser.genomicStateList.indexOf(this.genomicState),t=this;this.$viewport.on("click"+e,function(e){var n,r=qn(e,t.$viewport.get(0)).x,o=Math.round(t.genomicState.referenceFrame.start+t.genomicState.referenceFrame.toBP(r));if(1===t.browser.genomicStateList.length)n=t.browser.genome.getChromosomeCoordinate(o).chr;else{var i=t.browser.genomicStateList.map(function(e){return e.locusSearchString});i[t.browser.genomicStateList.indexOf(t.genomicState)]=t.browser.genome.getChromosomeCoordinate(o).chr,n=i.join(" ")}t.browser.search(n)})}.call(this):function(){var e=".ruler_track_viewport_"+this.browser.genomicStateList.indexOf(this.genomicState);this.$viewport.off(e)}.call(this);else if(lo.call(this),this.$spinner=fn('<div class="igv-viewport-spinner">'),this.$spinner.append(En("spinner")),this.$viewport.append(this.$spinner),this.stopSpinner(),"sequence"!==e.track.type){this.popover=new $n(this.browser.$content);var l=e.track.name.toLowerCase().split(" ").join("_");l=l+"_"+this.browser.genomicStateList.indexOf(this.genomicState),this.popover.$popover.attr("id",l),this.$zoomInNotice=function(e){var t=fn('<div class="zoom-in-notice-container">');e.append(t);var n=fn("<div>");return t.append(n),n.text("Zoom in to see features"),t.hide(),t}.call(this,fn(this.contentDiv))}e.track.name&&(this.$trackLabel=fn('<div class="igv-track-label">'),this.$viewport.append(this.$trackLabel),this.setTrackLabel(e.track.name),!1===this.browser.trackLabelsVisible&&this.$trackLabel.hide(),this.$trackLabel.click(function(t){var n;t.stopPropagation(),n="function"==typeof e.track.description?e.track.description():e.track.name;var r=Un(t);o.popover.presentTrackContent(r.x,r.y,n)}),this.$trackLabel.mousedown(function(e){e.stopPropagation()}),this.$trackLabel.mouseup(function(e){e.stopPropagation()}),this.$trackLabel.mousemove(function(e){e.stopPropagation()}))}function io(t,n,r){if(n&&(t.features=n,this.trackView.track.draw(t)),r){var o=!0,i=!1,a=e;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;t.features=c.features,c.track.draw(t)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}function ao(e){var t=Hn(this.$viewport.get(0),this.$trackLabel.get(0)),n=t.x,r=t.y,o=t.width,i=t.height,a=e.measureText(this.$trackLabel.text()).width;e.fillStyle="white",e.fillRect(n,r,o,i),e.font="12px Arial",e.fillStyle="rgb(68, 68, 68)";var s=.25*(o-a),l=.7*(i-12);e.fillText(this.$trackLabel.text(),n+s,r+i-l),e.strokeStyle="rgb(68, 68, 68)",e.strokeRect(n,r,o,i)}eo.prototype.showWholeGenomeView=function(){return!1!==this.config.wholeGenomeView},eo.prototype.toJSON=function(){return Object.assign({},this.config,{tracks:e})},eo.prototype.getInitialLocus=function(){},eo.prototype.getHomeChromosomeName=function(){if(this.showWholeGenomeView()&&this.chromosomes.hasOwnProperty("all"))return"all";var e=this.chromosomes[this.chromosomeNames[0]];return e.rangeLocus?e.name+":"+e.rangeLocus:this.chromosomeNames[0]},eo.prototype.getChromosomeName=function(e){return this.chrAliasTable[e.toLowerCase()]||e},eo.prototype.getChromosome=function(e){return e=this.getChromosomeName(e),this.chromosomes[e]},eo.prototype.getCytobands=function(e){return this.ideograms?this.ideograms[e]:null},eo.prototype.getLongestChromosome=function(){var t,n=this.chromosomes;for(var r in n){if(n.hasOwnProperty(r)){var o=n[r];(t===e||o.bpLength>t.bpLength)&&(t=o)}return t}},eo.prototype.getChromosomes=function(){return this.chromosomes},eo.prototype.getGenomeCoordinate=function(t,n){var r=this.getCumulativeOffset(t);return r===e?e:r+n},eo.prototype.getChromosomeCoordinate=function(t){this.cumulativeOffsets===e&&(this.cumulativeOffsets=to.call(this));var n=e,r=0,o=!0,i=!1,a=e;try{for(var s,l=this.wgChromosomeNames[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=this.cumulativeOffsets[c];if(u>t)return{chr:n,position:t-r};n=c,r=u}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return{chr:this.chromosomeNames[this.chromosomeNames.length-1],position:0}},eo.prototype.getCumulativeOffset=function(t){this.cumulativeOffsets===e&&(this.cumulativeOffsets=to.call(this));var n=this.getChromosomeName(t);return this.cumulativeOffsets[n]},eo.prototype.getGenomeLength=function(){var e=this;if(!this.bpLength){var t=0;e.wgChromosomeNames.forEach(function(n){var r=e.chromosomes[n];t+=r.bpLength}),this.bpLength=t}return this.bpLength},oo.prototype.isVisible=function(){return this.$viewport.width()},oo.prototype.setTrackLabel=function(e){this.trackView.track.name=this.trackView.track.config.name=e,this.$trackLabel.empty(),this.$trackLabel.html(e);var t=this.$trackLabel.text();this.$trackLabel.attr("title",t)},oo.prototype.setWidth=function(e){this.$viewport.outerWidth(e),this.canvas.style.width=this.$viewport.width()+"px",this.canvas.setAttribute("width",this.$viewport.width())},oo.prototype.startSpinner=function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())},oo.prototype.stopSpinner=function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))},oo.prototype.showMessage=function(e){this.messageDiv||(this.messageDiv=document.createElement("div"),this.messageDiv.className="igv-viewport-message",this.contentDiv.append(this.messageDiv)),this.messageDiv.textContent=e,this.messageDiv.style.display="inline-block"},oo.prototype.hideMessage=function(e){this.messageDiv&&(this.messageDiv.style.display="none")},oo.prototype.checkZoomIn=function(){return!(!function(){return this.browser&&this.browser.genomicStateList&&this.genomicState.referenceFrame}.call(this)||this.$zoomInNotice&&(function(){var t=this.genomicState.referenceFrame;if("all"!==t.chrName.toLowerCase()||this.trackView.track.supportsWholeGenome()){var n="function"==typeof this.trackView.track.getVisibilityWindow?this.trackView.track.getVisibilityWindow():this.trackView.track.visibilityWindow;return n!==e&&n>0&&t.bpPerPixel*this.$viewport.width()>n}return!0}.call(this)?(this.canvas&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tile=e),this.$zoomInNotice.show(),1):(this.$zoomInNotice.hide(),0)))},oo.prototype.shift=function(){var e=this.genomicState.referenceFrame;if(this.canvas&&this.tile&&this.tile.chr===e.chrName&&this.tile.bpPerPixel===e.bpPerPixel){var t=Math.round((this.tile.startBP-e.start)/e.bpPerPixel);this.canvas.style.left=t+"px"}},oo.prototype.setTop=function(e){var t=-e,n=t+this.$viewport.height();fn(this.contentDiv).css("top",e+"px"),(!this.canvasVerticalRange||this.canvasVerticalRange.bottom<n||this.canvasVerticalRange.top>t)&&this.repaint()},oo.prototype.loadFeatures=N(t.mark(function n(){var r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.genomicState,o=r.referenceFrame,i=o.chrName,a=this.browser.genome.getChromosome(i).bpLength,s=3*fn(this.contentDiv).width(),l=s*o.bpPerPixel,c=Math.floor(Math.max(0,o.start-l/3)),u=Math.ceil(Math.min(a,c+l)),!this.loading||this.loading.start!==c||this.loading.end!==u){t.next=10;break}return t.abrupt("return",e);case 10:return this.loading={start:c,end:u},this.startSpinner(),t.prev=12,t.next=15,co.call(this,o.chrName,c,u,o.bpPerPixel);case 15:if(p=t.sent,h=[],!(d=po(this.browser.roi,this.trackView.track.roi))){t.next=47;break}f=!0,m=!1,y=e,t.prev=22,g=d[Symbol.iterator]();case 24:if(f=(v=g.next()).done){t.next=33;break}return b=v.value,t.next=28,b.getFeatures(o.chrName,c,u,o.bpPerPixel);case 28:S=t.sent,h.push({track:b,features:S});case 30:f=!0,t.next=24;break;case 33:t.next=39;break;case 35:t.prev=35,t.t0=t.catch(22),m=!0,y=t.t0;case 39:t.prev=39,t.prev=40,f||null==g.return||g.return();case 42:if(t.prev=42,!m){t.next=45;break}throw y;case 45:return t.finish(42);case 46:return t.finish(39);case 47:return this.tile=new so(o.chrName,c,u,o.bpPerPixel,p,h),this.loading=!1,this.hideMessage(),this.stopSpinner(),t.abrupt("return",this.tile);case 54:t.prev=54,t.t1=t.catch(12),this.showMessage("Error loading track data"),console.error(t.t1);case 58:return t.prev=58,this.loading=!1,this.stopSpinner(),t.finish(58);case 62:case"end":return t.stop()}},n,this,[[12,54,58,62],[22,35,39,47],[40,,42,46]])})),oo.prototype.repaint=function(){var e=N(t.mark(function e(n){var r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,n||(n=this.tile),n){e.next=4;break}return e.abrupt("return");case 4:if(o=Jr.isWholeGenomeView(this.genomicState.referenceFrame),i=n.features,a=n.roiFeatures,s=this.genomicState,l=s.referenceFrame,c=o?l.initialEnd/this.$viewport.width():n.bpPerPixel,u=o?0:n.startBP,p=o?l.initialEnd:n.endBP,h=o?this.$viewport.width():Math.ceil((p-u)/c),d=this.$viewport.height(),f=Math.min(r.getContentHeight(),3*d),0!==h&&0!==f){e.next=18;break}return r.canvas&&fn(r.canvas).remove(),e.abrupt("return");case 18:m=Math.max(0,-fn(this.contentDiv).position().top-d),y="FILL"===this.trackView.track.displayMode?window.devicePixelRatio:!1===this.trackView.track.supportHiDPI?1:window.devicePixelRatio,g={features:i,pixelWidth:h,pixelHeight:f,pixelTop:m,bpStart:u,bpEnd:p,bpPerPixel:c,referenceFrame:l,genomicState:s,selection:r.selection,viewport:r,viewportWidth:r.$viewport.width(),viewportContainerX:l.toPixels(l.start-u),viewportContainerWidth:this.browser.viewportContainerWidth()},(v=fn("<canvas>").get(0)).style.width=h+"px",v.style.height=f+"px",v.width=y*h,v.height=y*f,(b=v.getContext("2d")).scale(y,y),S=Math.round((u-l.start)/l.bpPerPixel),v.style.position="absolute",v.style.left=S+"px",v.style.top=m+"px",g.context=b,b.translate(0,-m),io.call(this,g,i,a),this.canvasVerticalRange={top:m,bottom:m+f},r.canvas&&fn(r.canvas).remove(),fn(r.contentDiv).append(v),r.canvas=v,r.ctx=b;case 40:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),oo.prototype.toSVG=function(){var e=N(t.mark(function e(n){var r,o,i,a,s,l,c,u,p,h,d;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){e.next=2;break}return e.abrupt("return");case 2:return r=this.genomicState,o=r.referenceFrame,i=n.bpPerPixel,a=n.features,s=n.roiFeatures,l=this.$viewport.width(),c=this.$viewport.height(),u=o.start,p=o.start+l*o.bpPerPixel,h=new Sn({width:l,height:c,viewbox:{x:0,y:-fn(this.contentDiv).position().top,width:l,height:c}}),d={viewport:this,context:h,top:-fn(this.contentDiv).position().top,pixelTop:0,pixelWidth:l,pixelHeight:c,bpStart:u,bpEnd:p,bpPerPixel:i,referenceFrame:o,genomicState:this.genomicState,selection:this.selection,viewportWidth:l,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()},io.call(this,d,a,s),e.abrupt("return",h.getSerializedSvg(!0));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),oo.prototype.setContentHeight=function(e){e=Math.min(e,32e3),fn(this.contentDiv).height(e),this.tile&&(this.tile.invalidate=!0)},oo.prototype.getContentHeight=function(){return fn(this.contentDiv).height()},oo.prototype.getContentTop=function(){return this.contentDiv.offsetTop},oo.prototype.isLoading=function(){return this.loading},oo.prototype.saveImage=function(){if(this.ctx){var e=this.canvasVerticalRange?this.canvasVerticalRange.top:0,t=window.devicePixelRatio,n=this.$viewport.width()*t,r=this.$viewport.height()*t,o=-fn(this.canvas).position().left*t,i=(-fn(this.contentDiv).position().top-e)*t,a=this.ctx.getImageData(o,i,n,r),s=document.createElement("canvas"),l=s.getContext("2d");s.width=a.width,s.height=a.height,l.putImageData(a,0,0),Jn((this.$trackLabel.text()?this.$trackLabel.text():"image")+".png",s.toDataURL("image/png"))}},oo.prototype.renderSVGContext=function(){var n=N(t.mark(function n(r,o){var i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$zoomInNotice||!this.$zoomInNotice.is(":visible")){t.next=2;break}return t.abrupt("return");case 2:i=(i=this.trackView.track.name||this.trackView.track.id).replace(/\W/g,""),a=this.browser.genomicStateList.indexOf(this.genomicState),s=i.toLowerCase()+"_genomic_state_index_"+a,0===a&&"function"==typeof this.trackView.track.paintAxis&&(l=this.trackView.controlCanvas.getBoundingClientRect(),r.addTrackGroupWithTranslationAndClipRect(s+"_axis",o.deltaX-l.width,o.deltaY,l.width,l.height,0),r.save(),this.trackView.track.paintAxis(r,l.width,l.height),r.restore()),c=fn(this.contentDiv).position().top,u=o.deltaX+a*r.multiLocusGap,p=o.deltaY+c,h=this.$viewport.get(0).getBoundingClientRect(),d=h.width,f=h.height,r.addTrackGroupWithTranslationAndClipRect(s,u,p,d,f,-c),m=this.genomicState.referenceFrame,y=m.start,g=m.bpPerPixel,r.save(),v={context:r,viewport:this,referenceFrame:m,genomicState:this.genomicState,pixelWidth:d,pixelHeight:f,viewportWidth:d,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth(),bpStart:y,bpEnd:y+d*g,bpPerPixel:g,selection:this.selection},b=this.tile?this.tile.features:[],S=this.tile?this.tile.roiFeatures:e,io.call(this,v,b,S),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&ao.call(this,r),r.restore();case 21:case"end":return t.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}(),oo.prototype.saveSVG=function(){var e=this.$viewport.width(),t=this.$viewport.height(),n=new Sn({width:e,height:t,viewbox:{x:0,y:-fn(this.contentDiv).position().top,width:e,height:t}}),r=this.genomicState.referenceFrame,o=r.start,i=r.bpPerPixel,a={viewport:this,context:n,top:-fn(this.contentDiv).position().top,pixelTop:0,pixelWidth:e,pixelHeight:t,bpStart:o,bpEnd:o+e*i,bpPerPixel:i,referenceFrame:this.genomicState.referenceFrame,genomicState:this.genomicState,selection:this.selection,viewportWidth:e,viewportContainerX:0,viewportContainerWidth:this.browser.viewportContainerWidth()};io.call(this,a,this.tile.features),this.$trackLabel&&!0===this.browser.trackLabelsVisible&&ao.call(this,n);var s=a.context.getSerializedSvg(!0),l=URL.createObjectURL(new Blob([s],{type:"application/octet-stream"}));Jn((this.$trackLabel?this.$trackLabel.text():this.trackView.track.id)+".svg",l)},oo.prototype.dispose=function(){var t=this;this.popover&&(this.popover.$popover.off(),this.popover.$popover.empty(),this.popover.$popover.remove()),fn(this.canvas).off(),fn(this.canvas).empty(),fn(this.contentDiv).off(),fn(this.contentDiv).empty(),this.$viewport.off(),this.$viewport.empty(),Object.keys(this).forEach(function(n,r,o){t[n]=e})},oo.prototype.getCachedFeatures=function(){return this.tile?this.tile.features:[]};var so=function(e,t,n,r,o,i){this.chr=e,this.startBP=t,this.endBP=n,this.bpPerPixel=r,this.features=o,this.roiFeatures=i};function lo(){var t,n=this,r=this.browser,o=0;function i(e){if(n.browser.isDragging||n.browser.isScrolling)return n.browser.cancelTrackPan(),e.preventDefault(),e.stopPropagation(),void(n.enableClick=!1);n.browser.cancelTrackPan(),n.browser.endTrackDrag()}function a(t,n){var r=n.genomicState.referenceFrame,o=qn(t,n.contentDiv),i=qn(t,n.canvas),a=r.start+r.toBP(o.x);return e===a||null===n.tile?e:{viewport:n,referenceFrame:r,genomicLocation:a,x:o.x,y:o.y,canvasX:i.x,canvasY:i.y}}this.$viewport.on("contextmenu",function(t){if(n.browser.isDragging)return!1;var r=a(t,n);if(e===r)return!1;t.preventDefault();var o=[];"function"==typeof n.trackView.track.contextMenuItemList&&(o=n.trackView.track.contextMenuItemList(r)),o.length>0&&o.push({label:fn("<HR>")}),o.push({label:"Save Image (PNG)",click:function(){n.saveImage()}}),o.push({label:"Save Image (SVG)",click:function(){n.saveSVG()}}),n.popover&&n.popover.presentTrackContextMenu(t,o)}),this.$viewport.on("mousedown",function(e){n.enableClick=!0,r.mouseDownOnViewport(e,n),Un(e)}),this.$viewport.on("touchstart",function(e){n.enableClick=!0,r.mouseDownOnViewport(e,n),Un(e)}),this.$viewport.on("mouseup",i),this.$viewport.on("touchend",i),this.$viewport.on("click",function(i){n.enableClick&&function(i){if(3!==i.which&&!i.ctrlKey&&(fn(".igv-popover").hide(),!r.isDragging&&!r.isScrolling)){i.preventDefault(),i.stopPropagation();var s=qn(i,n.$viewport.get(0)).x,l=qn(i,n.canvas).x,c=n.genomicState.referenceFrame,u=Math.floor(c.start+c.toBP(l)),p=Date.now();if(p-o<r.constants.doubleClickDelay){t&&(window.clearTimeout(t),t=e);var h,d=Math.round(c.start+c.toBP(s));if("all"===c.chrName.toLowerCase()){var f=r.genome.getChromosomeCoordinate(d).chr;if(1===r.genomicStateList.length)h=f;else{var m=r.genomicStateList.map(function(e){return e.locusSearchString});m[r.genomicStateList.indexOf(n.genomicState)]=f,h=m.join(" ")}r.search(h)}else r.zoomWithScaleFactor(.5,d,n)}else i.shiftKey&&"function"==typeof n.trackView.track.shiftClick?n.trackView.track.shiftClick(u,i):"function"==typeof n.trackView.track.popupData&&(t=setTimeout(function(){var o=function(t,n){var o=a(t,n);if(e!==o){var i,s,l=n.trackView.track,c=l.popupData(o),u=r.fireEvent("trackclick",[l,c]);return e===u||!0===u?c&&c.length>0&&(s='<table class="igv-popover-table">',c.forEach(function(e){e.name?s+='<tr><td class="igv-popover-td"><div class="igv-popover-name-value"><span class="igv-popover-name">'+e.name+'</span><span class="igv-popover-value">'+e.value+"</span></div></td></tr>":s+="<tr><td>"+e.toString()+"</td></tr>"}),i=s+="</table>"):"string"==typeof u&&(i=u),i}}(i,n);if(o){var s=Un(i);n.popover.presentTrackContent(s.x,s.y,o)}clearTimeout(t),t=e},r.constants.doubleClickDelay));o=p}}(i)})}function co(e,t,n,r){return uo.apply(this,arguments)}function uo(){return(uo=N(t.mark(function n(r,o,i,a){var s,l;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=this.trackView.track,!this.tile||!this.tile.containsRange(r,o,i,a)){t.next=5;break}return t.abrupt("return",this.tile.features);case 5:if("function"!=typeof s.getFeatures){t.next=14;break}return t.next=8,s.getFeatures(r,o,i,a,this);case 8:return l=t.sent,this.cachedFeatures=l,this.checkContentHeight(),t.abrupt("return",l);case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}},n,this)}))).apply(this,arguments)}function po(e,t){return e&&t?e.concat(t):e||t}so.prototype.containsRange=function(e,t,n,r){return this.bpPerPixel===r&&t>=this.startBP&&n<=this.endBP&&e===this.chr},so.prototype.overlapsRange=function(e,t,n){return this.chr===e&&n>=this.startBP&&t<=this.endBP},oo.prototype.checkContentHeight=function(){var e=this.trackView.track;if("FILL"===e.displayMode)this.setContentHeight(this.$viewport.height());else if("function"==typeof e.computePixelHeight){var t=this.cachedFeatures;if(t){var n=e.computePixelHeight(t);n!==fn(this.contentDiv).height()&&this.setContentHeight(n)}}};var ho=2,fo={color:1};fo.parent=fo,fo.left=fo,fo.right=fo;var mo=function(){this.root=fo};function yo(e){var t=e.right;e.right=t.left,t.left!==fo&&(t.left.parent=e),t.parent=e.parent,e.parent===fo?this.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,vo.call(this,e)}function go(e){var t=e.left;e.left=t.right,t.right!==fo&&(t.right.parent=e),t.parent=e.parent,e.parent===fo?this.root=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,vo.call(this,e)}function vo(e){for(;e!==fo;){var t=e.left.max>e.right.max?e.left.max:e.right.max,n=e.interval.high;e.max=t>n?t:n;var r=e.left.min<e.right.min?e.left.min:e.right.min,o=e.interval.low;e.min=r<o?r:o,e=e.parent}}function bo(e,t,n){this.low=e,this.high=t,this.value=n}function So(e){this.parent=fo,this.left=fo,this.right=fo,this.interval=e,this.color=ho}mo.prototype.insert=function(e,t,n){var r=new So(new bo(e,t,n));for(this.treeInsert(r),r.color=ho;r!==this.root&&r.parent.color===ho;)if(r.parent===r.parent.parent.left){var o=r.parent.parent.right;o.color===ho?(r.parent.color=1,o.color=1,r.parent.parent.color=ho,r=r.parent.parent):(r===r.parent.right&&(r=r.parent,yo.call(this,r)),r.parent.color=1,r.parent.parent.color=ho,go.call(this,r.parent.parent))}else{var i=r.parent.parent.left;i.color===ho?(r.parent.color=1,i.color=1,r.parent.parent.color=ho,r=r.parent.parent):(r===r.parent.left&&(r=r.parent,go.call(this,r)),r.parent.color=1,r.parent.parent.color=ho,yo.call(this,r.parent.parent))}this.root.color=1},mo.prototype.findOverlapping=function(e,t){var n=new bo(e,t,0);if(this.root===fo)return[];var r=function e(t,n,r){return n.interval.overlaps(t)&&r.push(n.interval),n.left!==fo&&n.left.max>=t.low&&e.call(this,t,n.left,r),n.right!==fo&&n.right.min<=t.high&&e.call(this,t,n.right,r),r}.call(this,n,this.root,[]);return r.length>1&&r.sort(function(e,t){return e.low-t.low}),r},mo.prototype.logIntervals=function(){!function e(t,n){t.left!==fo&&e(t.left),t.right!==fo&&e(t.right)}(this.root)},mo.prototype.mapIntervals=function(e){!function t(n){e(n.interval),n.left!==fo&&t(n.left),n.right!==fo&&t(n.right)}(this.root)},mo.prototype.treeInsert=function(e){for(var t=this.root,n=fo;t!==fo;)n=t,t=e.interval.low<=t.interval.low?t.left:t.right;e.parent=n,n===fo?(this.root=e,e.left=e.right=fo):e.interval.low<=n.interval.low?n.left=e:n.right=e,vo.call(this,e)},bo.prototype.equals=function(e){return!!e&&(this===e||this.low===e.low&&this.high===e.high)},bo.prototype.compareTo=function(e){return this.low<e.low?-1:this.low>e.low?1:this.high<e.high?-1:this.high>e.high?1:0},bo.prototype.overlaps=function(t){try{return this.low<=t.high&&t.low<=this.high}catch(t){Ar.presentAlert(t,e)}};var wo=function(e,t,n){if(e&&0!==e.length){var r=function(e){var t=new mo,n=e.length,r=Math.max(10,Math.round(n/100));e.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1});for(var o=function(o){var i=Math.min(n,o+r),a=e.slice(o,i),s=a[0].start,l=s;a.forEach(function(e){l=Math.max(l,e.end)}),t.insert(s,l,a)},i=0;i<n;i+=r)o(i);return t}(e).findOverlapping(t,n);return 0===r.length?[]:(e=[],r.forEach(function(r){for(var o=r.value,i=o.length,a=0;a<i;a++){var s=o[a];if(s.start>n)break;s.end>t&&e.push(s)}}),e.sort(function(e,t){return e.start-t.start}),e)}return[]},Co={setProperties:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]=r}},strokeLine:function(e,t,n,r,o,i){t=Math.floor(t)+.5,n=Math.floor(n)+.5,r=Math.floor(r)+.5,o=Math.floor(o)+.5,i&&(e.save(),Co.setProperties(e,i)),e.beginPath(),e.moveTo(t,n),e.lineTo(r,o),e.stroke(),i&&e.restore()},fillRect:function(e,t,n,r,o,i){t=Math.round(t),n=Math.round(n),i&&(e.save(),Co.setProperties(e,i)),e.fillRect(t,n,r,o),i&&e.restore()},fillPolygon:function(e,t,n,r){r&&(e.save(),Co.setProperties(e,r)),_o(e,t,n),e.fill(),r&&e.restore()},strokePolygon:function(e,t,n,r){r&&(e.save(),Co.setProperties(e,r)),_o(e,t,n),e.stroke(),r&&e.restore()},fillText:function(e,t,n,r,o,i){if((o||i)&&e.save(),o&&Co.setProperties(e,o),i){for(var a in e.translate(n,r),i){var s=i[a];"translate"===a&&e.translate(s.x,s.y),"rotate"===a&&e.rotate(s.angle*Math.PI/180)}e.fillText(t,0,0)}else e.fillText(t,n,r);(o||i)&&e.restore()},strokeText:function(e,t,n,r,o,i){if((o||i)&&e.save(),o&&Co.setProperties(e,o),i){for(var a in e.translate(n,r),i){var s=i[a];"translate"===a&&e.translate(s.x,s.y),"rotate"===a&&e.rotate(s.angle*Math.PI/180)}e.strokeText(t,0,0)}else e.strokeText(t,n,r);(o||i)&&e.restore()},strokeCircle:function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.stroke()},fillCircle:function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill()},drawArrowhead:function(e,t,n,r,o){e.save(),r||(r=5),o&&(e.lineWidth=o),e.beginPath(),e.moveTo(t,n-r/2),e.lineTo(t,n+r/2),e.lineTo(t+r,n),e.lineTo(t,n-r/2),e.closePath(),e.fill(),e.restore()},dashedLine:function(t,n,r,o,i,a,s){n=Math.round(n),r=Math.round(r),o=Math.round(o),i=Math.round(i),a=Math.round(a),s&&(t.save(),Co.setProperties(t,s)),a===e&&(a=2),t.moveTo(n,r);for(var l=o-n,c=i-r,u=Math.floor(Math.sqrt(l*l+c*c)/a),p=l/u,h=c/u,d=0;d++<u;)n+=p,r+=h,t[d%2==0?"moveTo":"lineTo"](n,r);t[d%2==0?"moveTo":"lineTo"](o,i),s&&t.restore()},roundRect:function(e,t,n,r,o,i,a,s){void 0===s&&(s=!0),void 0===i&&(i=5),e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+o-i),e.quadraticCurveTo(t+r,n+o,t+r-i,n+o),e.lineTo(t+i,n+o),e.quadraticCurveTo(t,n+o,t,n+o-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),s&&e.stroke(),a&&e.fill()},polygon:function(e,t,n,r,o){void 0===o&&(o=!0),e.beginPath();var i=t.length;e.moveTo(t[0],n[0]);for(var a=1;a<i;a++)e.lineTo(t[a],n[a]);e.closePath(),o&&e.stroke(),r&&e.fill()}};function _o(e,t,n){var r,o=t.length;for(r=0;r<o;r++)t[r]=Math.round(t[r]),n[r]=Math.round(n[r]);for(e.beginPath(),e.moveTo(t[0],n[0]),r=1;r<o;r++)e.lineTo(t[r],n[r]);e.closePath()}var ko=function(e){this.browser=e,this.height=40,this.name="",this.id="ruler",this.disableButtons=!0,this.ignoreTrackMenu=!0,this.order=-Number.MAX_VALUE,this.removable=!1,this.type="ruler"};function To(t){t.context.save(),Co.fillRect(t.context,0,0,t.pixelWidth,t.pixelHeight,{fillStyle:"white"});var n=t.pixelHeight,r=!0,o=!1,i=e;try{for(var a,s=this.browser.genome.wgChromosomeNames[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=this.browser.genome.getCumulativeOffset(l),u=this.browser.genome.getChromosome(l).bpLength,p=Math.round(c/t.bpPerPixel),h=Math.round(u/t.bpPerPixel);xo.call(this,t.context,p,0,h,n,l)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}t.context.restore()}function xo(e,t,n,r,o,i){e.textAlign="center",e.textBaseline="middle",e.font="12px sans-serif",Co.strokeLine(e,t+r,n,t+r,n+o,{strokeStyle:Bn.greyScale(191)});var a=i.startsWith("chr")?i.substring(3):i;r>e.measureText(a).width&&Co.fillText(e,a,t+r/2,n+o/2,{fillStyle:Bn.greyScale(68)})}ko.prototype.updateLocusLabel=function(){this.trackView.viewports.forEach(function(e){var t;t=e.genomicState.referenceFrame.showLocus(e.$viewport.width()),e.$rulerLabel.text(t)})},ko.prototype.appendMultiPanelCloseButton=function(e,t){var n,r=this.browser;e.addClass("igv-viewport-ruler"),n=fn('<div class="igv-multi-locus-panel-close-container">'),e.append(n),n.append(En("times-circle")),n.click(function(e){r.removeMultiLocusPanelWithGenomicState(t,!0)})},ko.prototype.getFeatures=function(e,t,n){return Promise.resolve([])},ko.prototype.computePixelHeight=function(e){return this.height},ko.prototype.draw=function(e){if(Jr.isWholeGenomeView(e.referenceFrame))e.viewport.rulerSweeper.disableMouseHandlers(),To.call(this,e);else{e.viewport.rulerSweeper.addMouseHandlers();var t=1+Math.floor(e.referenceFrame.toBP(e.pixelWidth));new Eo(t,e).drawTicks(e,6,2,this.height),Co.strokeLine(e.context,0,this.height-2,e.pixelWidth,this.height-2)}},ko.prototype.supportsWholeGenome=function(){return!0},ko.prototype.dispose=function(){};var Eo=function(e,t){function n(e,t,n,r){this.majorTick=!0===r?2*e:e,this.majorUnit=t,this.halfTick=e/2,this.unitMultiplier=n}(function(e,t){var r,o,i,a,s=t.context.isSVG||!1;e<10&&n.call(this,1,"bp",1,s),(r=Math.floor(Math.log10(e)))>9?(o="gb",i=1e9):r>6?(o="mb",i=1e6):r>3?(o="kb",i=1e3):(o="bp",i=1),a=Ur(Math.floor(e/i))+" "+o,this.labelWidthBP=Math.round(t.referenceFrame.toBP(t.context.measureText(a).width)),e/Math.pow(10,r-1)<25?n.call(this,Math.pow(10,r-1),o,i,s):n.call(this,Math.pow(10,r)/2,o,i,s)}).call(this,e,t)};Eo.prototype.drawTicks=function(e,t,n,r){var o,i,a,s,l,c,u;for(o=Math.floor(e.bpStart/this.majorTick)-1,l=0,c=0,a=0;a<e.pixelWidth;)i=Math.floor(o*this.majorTick),a=Math.round(e.referenceFrame.toPixels(i-1-e.bpStart+.5)),s=Ur(Math.floor(i/this.unitMultiplier))+" "+this.majorUnit,l=e.context.measureText(s).width,c=Math.round(a-l/2),Co.fillText(e.context,s,c,r-t/.75),Co.strokeLine(e.context,a,r-t,a,r-n),++o;for(o=Math.floor(e.bpStart/this.halfTick)-1,a=0;a<e.pixelWidth;)i=Math.floor(o*this.halfTick),a=Math.round(e.referenceFrame.toPixels(i-1-e.bpStart+.5)),(u=i/this.unitMultiplier)===Math.floor(u)&&this.majorTick/this.labelWidthBP>8&&(s=Ur(Math.floor(u))+" "+this.majorUnit,c=a-(l=e.context.measureText(s).width)/2,Co.fillText(e.context,s,c,r-t/.75)),Co.strokeLine(e.context,a,r-t,a,r-n),++o},Eo.prototype.description=function(e){};var Ao=kn.trackMenuItemListHelper,Oo=function(e){this.$popover=fn("<div>",{class:"igv-trackgear-popover"}),e.append(this.$popover);var t=fn("<div>",{class:"igv-trackgear-popover-header"});this.$popover.append(t);var n=this;zn(t,function(){n.$popover.hide()}),this.$popoverContent=fn("<div>"),this.$popover.append(this.$popoverContent),Cn(this.$popover.get(0),t.get(0)),t.on("click.track_gear_popover",function(e){e.stopPropagation(),e.preventDefault()})};Oo.prototype.presentMenuList=function(t,n,r){if(r.length>0){this.$popoverContent.empty(),r=Ao(r,this.$popover);var o=!0,i=!1,a=e;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;c.init&&c.init();var u=c.object;0===r.indexOf(c)&&u.removeClass("igv-track-menu-border-top"),u.hasClass("igv-track-menu-border-top")||u.hasClass("igv-trackgear-popover-check-container")||u.is("div")&&u.addClass("igv-trackgear-popover-shim"),this.$popoverContent.append(u)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this.$popover.css({left:t+"px",top:n+"px"}),this.$popover.show()}},Oo.prototype.dispose=function(){this.$popover.empty(),this.$popoverContent.empty(),Object.keys(this).forEach(function(t){this[t]=e})};var Po=function(e){var t,n=e.$parent,r=e.width,o=e.height,i=e.closeHandler;this.namespace=".generic_container_"+Wn();var a=fn("<div>",{class:"igv-generic-container"});n.append(a),this.$container=a,r&&this.$container.width(r),o&&this.$container.height(o);var s=n.get(0).getBoundingClientRect();this.origin={x:s.x,y:s.y},this.$container.offset({left:this.origin.x,top:this.origin.y}),t=fn("<div>"),this.$container.append(t);var l=fn("<i>");t.append(l),l.append(En("times")),l.on("mousedown"+this.namespace,function(e){e.stopPropagation()}),l.on("mouseup"+this.namespace,function(e){e.stopPropagation()}),l.on("click"+this.namespace,function(e){e.preventDefault(),e.stopPropagation(),i(e)}),l.on("touchend"+this.namespace,function(e){e.preventDefault(),e.stopPropagation(),i(e)}),Cn(this.$container.get(0),t.get(0))},Io=function(e,t,n){var r,o,i=this;this.browser=e,this.track=n,n.trackView=this,o=fn('<div class="igv-track-div">'),this.trackDiv=o.get(0),t.append(o),this.namespace=".trackview_"+Wn(),this.track instanceof ko&&(this.trackDiv.dataset.rulerTrack="rulerTrack"),n.height&&(this.trackDiv.style.height=n.height+"px"),this.appendLeftHandGutter(fn(this.trackDiv)),this.$viewportContainer=fn('<div class="igv-viewport-container">'),fn(this.trackDiv).append(this.$viewportContainer),this.viewports=[],r=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,e.genomicStateList.forEach(function(e){var t;t=new oo(i,i.$viewportContainer,e,r),i.viewports.push(t)}),this.decorateViewports(),this.configureViewportContainer(this.$viewportContainer,this.viewports),!0===this.track.ignoreTrackMenu||this.appendRightHandGutter(fn(this.trackDiv)),this.track instanceof ko||function(e,t){var n=this,r=this.browser;this.$trackDragScrim=fn('<div class="igv-track-drag-scrim">'),t.append(this.$trackDragScrim),this.$trackDragScrim.hide(),n.$trackManipulationHandle=fn('<div class="igv-track-manipulation-handle">'),e.append(n.$trackManipulationHandle),n.$trackManipulationHandle.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.show(),r.startTrackDrag(n)}),n.$trackManipulationHandle.on("mouseup",function(e){e.preventDefault(),e.stopPropagation(),r.endTrackDrag(),n.$trackDragScrim.hide()}),e.on("mouseenter",function(e){r.dragTrack&&(e.preventDefault(),e.stopPropagation(),r.updateTrackDrag(n))}),n.$trackManipulationHandle.on("mouseleave",function(e){r.dragTrack||(e.preventDefault(),e.stopPropagation(),n.$trackDragScrim.hide())})}.call(this,fn(this.trackDiv),this.$viewportContainer),"sequence"===this.track.type||this.track instanceof ko||this.createColorPicker()};function Mo(e,t){var n=window.devicePixelRatio;if(this.leftHandGutter){this.controlCanvas&&fn(this.controlCanvas).remove();var r=fn('<canvas class ="igv-track-control-canvas">');this.controlCanvas=r[0],fn(this.leftHandGutter).append(r),this.controlCanvas.height=n*t,this.controlCanvas.width=n*e,this.controlCanvas.style.height=t+"px",this.controlCanvas.style.width=e+"px",this.controlCtx=this.controlCanvas.getContext("2d"),this.controlCtx.scale(n,n)}}function Do(e){return this.viewports.filter(function(t){if(!t.isVisible())return!1;if(t.checkZoomIn()){var n=t.genomicState.referenceFrame,r=n.chrName,o=n.start,i=o+n.toBP(fn(t.contentDiv).width()),a=n.bpPerPixel;return e||!t.tile||t.tile.invalidate||!t.tile.containsRange(r,o,i,a)}return!1})}function Lo(){var e,t=this.maxContentHeight();if(this.track.autoHeight?this.setTrackHeight(t,!1):this.track.paintAxis&&this.track.paintAxis(this.controlCtx,fn(this.controlCanvas).width(),fn(this.controlCanvas).height()),this.scrollbar){var n=this.viewports[0].getContentTop(),r=Math.min(0,this.$viewportContainer.height()-(e=this.viewports.map(function(e){return e.getContentHeight()}),Math.min.apply(Math,W(e))));n<r&&this.viewports.forEach(function(e){fn(e.contentDiv).css("top",r+"px")}),this.scrollbar.update()}}function No(e){var t=e.map(function(e){return e.getContentHeight()});return Math.max.apply(Math,W(t))}Io.prototype.renderSVGContext=function(t,n){var r=!0,o=!1,i=e;try{for(var a,s=this.viewports[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=l.browser.genomicStateList.indexOf(l.genomicState),u=l.$viewport.get(0).getBoundingClientRect(),p={deltaX:n.deltaX+c*l.$viewport.width(),deltaY:n.deltaY+u.y};l.renderSVGContext(t,p)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}},Io.prototype.configureViewportContainer=function(e,t){return"hidden"===e.css("overflow-y")&&(this.scrollbar=new Ro(e,t,this.browser.$root),e.append(this.scrollbar.$outerScroll)),e},Io.prototype.removeViewportWithLocusIndex=function(e){this.viewports[e].$viewport.remove(),this.viewports.splice(e,1),this.decorateViewports()},Io.prototype.decorateViewports=function(){var e=this;this.viewports.forEach(function(t,n){var r;r=t.$viewport,e.viewports.length>1?(r.find(".igv-multi-locus-panel-close-container").show(),r.find(".igv-multi-locus-panel-label-div").show()):(r.find(".igv-multi-locus-panel-close-container").hide(),r.find(".igv-multi-locus-panel-label-div").hide()),n<e.viewports.length&&1+n!==e.viewports.length?r.addClass("igv-viewport-div-border-right"):r.removeClass("igv-viewport-div-border-right")})},Io.prototype.appendLeftHandGutter=function(e){var t,n,r=this;t=fn('<div class="igv-left-hand-gutter">'),this.leftHandGutter=t[0],e.append(t),"function"==typeof this.track.paintAxis&&(this.track.dataRange&&(t.click(function(e){r.browser.dataRangeDialog.configure({trackView:r}),r.browser.dataRangeDialog.present(fn(r.trackDiv))}),t.addClass("igv-clickable")),n=fn('<canvas class ="igv-track-control-canvas">'),t.append(n),this.controlCanvas=n.get(0),Mo.call(this,t.outerWidth(),t.outerHeight()))},Io.prototype.appendRightHandGutter=function(e){var t=fn('<div class="igv-right-hand-gutter">');e.append(t),function(e){var t=fn("<div>",{class:"igv-trackgear-container"});e.append(t),t.append(En("cog")),this.trackGearPopover=new Oo(e),this.trackGearPopover.$popover.hide();var n=this;t.click(function(e){e.preventDefault(),e.stopPropagation(),n.trackGearPopover.presentMenuList(-n.trackGearPopover.$popover.width(),0,kn.trackMenuItemList(n))})}.call(this,t)},Io.prototype.dataRange=function(){return this.track.dataRange?this.track.dataRange:e},Io.prototype.setDataRange=function(t,n,r){t!==e&&(this.track.dataRange.min=t,this.track.config.min=t),n!==e&&(this.track.dataRange.max=n,this.track.config.max=n),this.track.autoscale=r,this.track.config.autoScale=r,this.repaintViews()},Io.prototype.setColor=function(e){this.track.color=e,this.track.config.color=e,this.repaintViews(!0)},Io.prototype.createColorPicker=function(){var t=this,n=this,r={$parent:fn(this.trackDiv),width:384,height:e,closeHandler:function(){n.colorPicker.$container.hide()}};this.colorPicker=new Po(r),Vn(this.colorPicker.$container,function(e){return t.setColor(e)},this.track.color),n.colorPicker.$container.hide()},Io.prototype.presentColorPicker=function(){var e=this.trackDiv.getBoundingClientRect();this.colorPicker.origin={x:e.x,y:0},this.colorPicker.$container.offset({left:this.colorPicker.origin.x,top:this.colorPicker.origin.y}),this.colorPicker.$container.show()},Io.prototype.setTrackHeight=function(e,t,n){n||(this.track.minHeight&&(e=Math.max(this.track.minHeight,e)),this.track.maxHeight&&(e=Math.min(this.track.maxHeight,e))),this.track.height=e,this.track.config.height=e,fn(this.trackDiv).height(e),"function"!=typeof this.track.computePixelHeight&&(this.viewports.forEach(function(t){t.setContentHeight(e),t.tile&&(t.tile.invalidate=!0)}),this.repaintViews()),Mo.call(this,fn(this.leftHandGutter).outerWidth(),e),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,fn(this.controlCanvas).width(),fn(this.controlCanvas).height()),this.scrollbar&&this.scrollbar.update()},Io.prototype.isLoading=function(){for(var e=0;e<this.viewports.length;e++)if(this.viewports[e].isLoading())return!0},Io.prototype.resize=function(){var e;if(0!=(e=this.browser.viewportContainerWidth()/this.browser.genomicStateList.length)){this.viewports.forEach(function(t){t.setWidth(e)});var t=fn(this.leftHandGutter);Mo.call(this,t.outerWidth(),t.outerHeight()),this.updateViews(!0)}},Io.prototype.repaintViews=function(){this.viewports.forEach(function(e){e.repaint()}),this.track.paintAxis&&this.track.paintAxis(this.controlCtx,fn(this.controlCanvas).width(),fn(this.controlCanvas).height())},Io.prototype.updateViews=function(){var n=N(t.mark(function n(r){var o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x,E,A,O,P,I,M;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browser&&this.browser.genomicStateList){t.next=2;break}return t.abrupt("return");case 2:(o=this.viewports.filter(function(e){return e.isVisible()})).forEach(function(e){e.shift()}),i=Do.call(this,r),a=!0,s=!1,l=e,t.prev=8,c=i[Symbol.iterator]();case 10:if(a=(u=c.next()).done){t.next=18;break}return p=u.value,t.next=14,p.loadFeatures();case 14:p.tile&&p.tile.features&&0===p.tile.features.length&&"all"===p.genomicState.referenceFrame.chrName&&p.checkZoomIn();case 15:a=!0,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),s=!0,l=t.t0;case 24:t.prev=24,t.prev=25,a||null==c.return||c.return();case 27:if(t.prev=27,!s){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(24);case 32:if((h=this.browser.isDragging)||!this.track.autoscale){t.next=55;break}for(d=[],f=!0,m=!1,y=e,t.prev=38,g=o[Symbol.iterator]();!(f=(v=g.next()).done);f=!0)b=v.value,S=b.genomicState.referenceFrame,w=S.start,C=w+S.toBP(fn(b.contentDiv).width()),b.tile&&b.tile.features&&(d=d.concat(wo(b.tile.features,w,C)));t.next=46;break;case 42:t.prev=42,t.t1=t.catch(38),m=!0,y=t.t1;case 46:t.prev=46,t.prev=47,f||null==g.return||g.return();case 49:if(t.prev=49,!m){t.next=52;break}throw y;case 52:return t.finish(49);case 53:return t.finish(46);case 54:"function"==typeof this.track.doAutoscale?this.track.doAutoscale(d):this.track.dataRange=er(d);case 55:if(h||!this.track.autoscale&&!this.track.autoscaleGroup){t.next=77;break}for(_=!0,k=!1,T=e,t.prev=59,x=o[Symbol.iterator]();!(_=(E=x.next()).done);_=!0)E.value.repaint();t.next=67;break;case 63:t.prev=63,t.t2=t.catch(59),k=!0,T=t.t2;case 67:t.prev=67,t.prev=68,_||null==x.return||x.return();case 70:if(t.prev=70,!k){t.next=73;break}throw T;case 73:return t.finish(70);case 74:return t.finish(67);case 75:t.next=96;break;case 77:for(A=!0,O=!1,P=e,t.prev=80,I=i[Symbol.iterator]();!(A=(M=I.next()).done);A=!0)M.value.repaint();t.next=88;break;case 84:t.prev=84,t.t3=t.catch(80),O=!0,P=t.t3;case 88:t.prev=88,t.prev=89,A||null==I.return||I.return();case 91:if(t.prev=91,!O){t.next=94;break}throw P;case 94:return t.finish(91);case 95:return t.finish(88);case 96:Lo.call(this);case 97:case"end":return t.stop()}},n,this,[[8,20,24,32],[25,,27,31],[38,42,46,54],[47,,49,53],[59,63,67,75],[68,,70,74],[80,84,88,96],[89,,91,95]])}));return function(e){return n.apply(this,arguments)}}(),Io.prototype.getInViewFeatures=function(){var n=N(t.mark(function n(r){var o,i,a,s,l,c,u,p,h,d,f,m;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.browser&&this.browser.genomicStateList){t.next=2;break}return t.abrupt("return",[]);case 2:return o=Do.call(this,r),i=o.map(function(e){return e.loadFeatures()}),t.next=6,Promise.all(i);case 6:for(a=[],s=!0,l=!1,c=e,t.prev=10,u=this.viewports[Symbol.iterator]();!(s=(p=u.next()).done);s=!0)(h=p.value).tile&&h.tile.features&&(d=h.genomicState.referenceFrame,f=d.start,m=f+d.toBP(fn(h.contentDiv).width()),a=a.concat(wo(h.tile.features,f,m)));t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),l=!0,c=t.t0;case 18:t.prev=18,t.prev=19,s||null==u.return||u.return();case 21:if(t.prev=21,!l){t.next=24;break}throw c;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return t.abrupt("return",a);case 27:case"end":return t.stop()}},n,this,[[10,14,18,26],[19,,21,25]])}));return function(e){return n.apply(this,arguments)}}(),Io.prototype.checkContentHeight=function(){this.viewports.forEach(function(e){e.checkContentHeight()}),Lo.call(this)},Io.prototype.maxContentHeight=function(){return No(this.viewports)},Io.prototype.dispose=function(){var t=this;this.$trackManipulationHandle&&this.$trackManipulationHandle.off(),this.$innerScroll&&this.$innerScroll.off(),this.scrollbar&&this.scrollbar.dispose(),fn(document).off(this.namespace),"function"==typeof this.track.dispose&&this.track.dispose();var n=this.track;"function"==typeof n.dispose&&n.dispose(),Object.keys(n).forEach(function(t){n[t]=e}),this.viewports.forEach(function(e){e.dispose()}),Object.keys(this).forEach(function(n){t[n]=e})},Io.prototype.scrollBy=function(e){this.scrollbar.moveScrollerBy(e)};var Ro=function(e,t,n){var r,o=this,i=".trackscrollbar"+Wn();this.namespace=i;var a=fn('<div class="igv-scrollbar-outer-div">');function s(e){e.preventDefault(),e.stopPropagation();var t=Un(e);o.moveScrollerBy(t.y-r),r=t.y}function l(e){fn(document).off(o.namespace)}this.$outerScroll=a,this.$innerScroll=fn("<div>"),this.$outerScroll.append(this.$innerScroll),this.$viewportContainer=e,this.viewports=t,this.$innerScroll.on("mousedown",function(e){e.preventDefault();var t=Un(e);r=t.y,fn(document).on("mousemove"+i,s),fn(document).on("mouseup"+i,l),fn(document).on("mouseleave"+i,l),e.stopPropagation()}),this.$innerScroll.on("click",function(e){e.stopPropagation()}),this.$outerScroll.on("click",function(e){o.moveScrollerBy(e.offsetY-o.$innerScroll.height()/2),e.stopPropagation()})};function jo(e){return"string"==typeof e||e instanceof String?new Fo(e):new Go(e)}Ro.prototype.moveScrollerBy=function(e){var t=this.$innerScroll.position().top+e;this.moveScrollerTo(t)},Ro.prototype.moveScrollerTo=function(e){var t=this.$outerScroll.height(),n=this.$innerScroll.height(),r=Math.min(Math.max(0,e),t-n),o=No(this.viewports),i=-Math.round(r*(o/this.$viewportContainer.height()));this.$innerScroll.css("top",r+"px"),this.viewports.forEach(function(e){e.setTop(i)})},Ro.prototype.dispose=function(){fn(window).off(this.namespace)},Ro.prototype.update=function(){var e,t,n;e=this.$viewportContainer.height(),t=No(this.viewports),n=Math.round(e/t*e),t>e?(this.$outerScroll.show(),this.$innerScroll.height(n)):this.$outerScroll.hide()};var Fo=function(e){this.data=e,this.ptr=0};Fo.prototype.nextLine=function(){var t=this.ptr,n=this.data.indexOf("\n",t);return n>0?(this.ptr=n+1,n===t?e:this.data.substring(t,n).trim()):(this.ptr=this.data.length,t>=this.data.length?e:this.data.substring(t).trim())},Fo.prototype.nextLineNoTrim=function(){var t=this.ptr,n=this.data.indexOf("\n",t),r=this.data;if(n>0)return this.ptr=n+1,n>t&&"\r"===r.charAt(n-1)?r.substring(t,n-1):r.substring(t,n);var o=r.length;return this.ptr=o,t>=o?e:r.substring(t)};var Go=function(e){this.data=e,this.length=this.data.length,this.ptr=0};Go.prototype.nextLine=function(){var t,n;if(n="",this.ptr>=this.length)return e;for(var r=this.ptr;r<this.length;r++)if("\r"!==(t=String.fromCharCode(this.data[r]))){if("\n"===t)break;n+=t}return this.ptr=r+1,n},Go.prototype.nextLineNoTrim=Go.prototype.nextLine;var Bo={gwascatalog:{fields:["bin","chr","start","end","name","pubMedID","author","pubDate","journal","title","trait","initSample","replSample","region","genes","riskAllele","riskAlFreq","pValue","pValueDesc","orOrBeta","ci95","platform","cnv"]},wgrna:{fields:["bin","chr","start","end","name","score","strand","thickStart","thickEnd","type"]},cpgislandext:{fields:["bin","chr","start","end","name","length","cpgNum","gcNum","perCpg","perGc","obsExp"]},clinVarMain:{fields:["chr1","start","end","name","score","strand","thickStart","thickEnd","reserved","blockCount","blockSizes","chromStarts","origName","clinSign","reviewStatus","type","geneId","snpId","nsvId","rcvAcc","testedInGtr","phenotypeList","phenotype","origin","assembly","cytogenetic","hgvsCod","hgvsProt","numSubmit","lastEval","guidelines","otherIds"]}},zo=new Set(["narrowpeak","broadpeak","regionpeak","peaks","bedgraph","wig","gff3","gff","gtf","fusionjuncspan","refflat","seg","aed","bed","vcf","bb","bigbed","bw","bigwig","bam","tdf","refgene","genepred","genepredext","bedpe","bp","snp","rmsk","cram"]);function Vo(t){if(function(t){t.featureType&&(t.type=t.type||t.featureType,t.featureType=e),"bed"===t.type?(t.type="annotation",t.format=t.format||"bed"):"annotations"===t.type?t.type="annotation":"alignments"===t.type?t.type="alignment":"bam"===t.type?(t.type="alignment",t.format="bam"):"vcf"===t.type?(t.type="variant",t.format="vcf"):"t2d"===t.type?t.type="gwas":"FusionJuncSpan"!==t.type||t.format?"aed"===t.type&&(t.type="annotation",t.format=t.format||"aed"):t.format="fusionjuncspan"}(t),e===t.sourceType&&t.url&&(t.sourceType="file"),"file"===t.sourceType)if(e===t.format){var n=br(t.url)?t.url.name:t.url;t.format=Ho(n)}else t.format=t.format.toLowerCase();if(e===t.type){if(t.type)return;if(t.format)switch(t.format.toLowerCase()){case"bw":case"bigwig":case"wig":case"bedgraph":case"tdf":t.type="wig";break;case"vcf":t.type="variant";break;case"seg":t.type="seg";break;case"bam":case"cram":t.type="alignment";break;case"bedpe":case"bedpe-loop":t.type="interaction";break;case"bp":t.type="arc";break;default:t.type="annotation"}}}function Ho(t){var n,r;if((t=t.toLowerCase()).endsWith("refgene.txt.gz")||t.endsWith("refgene.txt.bgz")||t.endsWith("refgene.txt")||t.endsWith("refgene.sorted.txt.gz")||t.endsWith("refgene.sorted.txt.bgz"))return"refgene";switch((n=t.indexOf("?"))>0&&(t=t.substr(0,n)),t.endsWith(".gz")&&(t=t.substr(0,t.length-3)),(t.endsWith(".txt")||t.endsWith(".tab")||t.endsWith(".bgz"))&&(t=t.substr(0,t.length-4)),r=(n=t.lastIndexOf("."))<0?t:t.substr(n+1)){case"bw":return"bigwig";case"bb":return"bigbed";default:return zo.has(r)?r:e}}var Uo=Number.MAX_VALUE,qo=["Name","gene_name","gene","gene_id","alias","locus"],Wo=new RegExp("([^:]*)\\(([^)]*)\\)"),Ko=new RegExp("([^:]*):([^(]*)\\(([^)]*)\\)"),$o=function(t,n,r){var o;if(t!==e&&(this.format=t.toLowerCase()),this.nameField=r?r.nameField:e,this.skipRows=0,n)this.decode=n;else switch(this.format){case"narrowpeak":case"broadpeak":case"regionpeak":case"peaks":this.decode=si,this.delimiter=/\s+/;break;case"bedgraph":this.decode=li,this.delimiter=/\s+/;break;case"wig":this.decode=ci,this.delimiter=/\s+/;break;case"gff3":case"gff":case"gtf":this.decode=hi,this.delimiter="\t";break;case"fusionjuncspan":this.decode=ui,this.delimiter=/\s+/;break;case"gtexgwas":this.skipRows=1,this.decode=pi,this.delimiter="\t";break;case"refflat":this.decode=ii,this.delimiter=/\s+/;break;case"genepred":this.decode=ri,this.delimiter=/\s+/;break;case"genepredext":this.decode=oi,this.delimiter=/\s+/;break;case"ensgene":this.decode=ri,this.shift=1,this.delimiter=/\s+/;break;case"refgene":this.decode=oi,this.delimiter=/\s+/,this.shift=1;break;case"aed":this.decode=mi,this.delimiter="\t";break;case"bed":this.decode=ti,this.delimiter=r.delimiter||/\s+/;break;case"bedpe":this.skipRows=1,this.decode=yi,this.delimiter=/\s+/;break;case"bedpe-domain":this.decode=gi,this.headerLine=!0,this.delimiter=/\s+/;break;case"bedpe-loop":this.decode=yi,this.delimiter=/\s+/,this.skipRows=1,this.header={colorColumn:7};break;case"snp":this.decode=vi,this.delimiter="\t";break;case"rmsk":this.decode=ni,this.delimiter="\t";break;default:(o=function(t){return Bo&&Bo[t]?function(t){for(var n=t.fields,r=["chr","start","end"],o=0;o<n.length;o++){var i=!0,a=!1,s=e;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;u===n[o]&&(t[u]=o)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}return t}(Bo[t]):e}(this.format))!==e?(this.decode=bi,this.format=o,this.delimiter=o.delimiter||"\t"):(this.decode=ti,this.delimiter=/\s+/)}};function Yo(e){var t=e.split(/\s+/);return{format:"fixedStep",chrom:t[1].split("=")[1],start:parseInt(t[2].split("=")[1],10)-1,step:parseInt(t[3].split("=")[1],10),span:t.length>4?parseInt(t[4].split("=")[1],10):1,index:0}}function Qo(e){var t=e.split(/\s+/);return{format:"variableStep",chrom:t[1].split("=")[1],span:t.length>2?parseInt(t[2].split("=")[1],10):1}}function Xo(e){var t=Ko.exec(e);if(t)return{namespace:t[1],name:t[2],type:t[3]};if(t=Wo.exec(e))return{namespace:"?",name:t[1],type:t[2]};throw new Error("Error parsing the header row of AED file - column not in ns:name(ns:type) format")}function Zo(e){var t,n,r;for(t={columns:[],metadata:{}},n=0;n<e.length;n++)r=Xo(e[n]),t.columns.push(r);return t}function Jo(t){var n,r={},o=t.split(/(?:")([^"]+)(?:")|([^\s"]+)(?=\s+|$)/g),i=[],a=!0,s=!1,l=e;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;p&&0!==p.trim().length&&(p.endsWith("=")>0?n=p:n?(i.push(n+p),n=e):i.push(p))}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}for(var h=0,d=i;h<d.length;h++){var f=d[h];if(!f)return;var m=f.split("=",2);if(2===m.length){var y=m[0].trim(),g=m[1].trim();r[y]=g}}return r}function ei(e){var t={},n=e.split(/\s+/);return 2===n.length&&n[1].split(";").forEach(function(e){var n=e.split("=");"color"===n[0]?t.colorColumn=Number.parseInt(n[1])-1:"thickness"===n[0]&&(t.thicknessColumn=Number.parseInt(n[1])-1)}),t}function ti(t,n){var r,o,i,a,s,l,c,u;if(t.length<3)return e;if(l={chr:t[0],start:r=parseInt(t[1]),end:t.length>2?parseInt(t[2]):r+1,score:1e3},t.length>3&&(l.name=t[3]),t.length>4&&(l.score=parseFloat(t[4])),t.length>5&&(l.strand=t[5]),t.length>6&&(l.cdStart=parseInt(t[6])),t.length>7&&(l.cdEnd=parseInt(t[7])),t.length>8&&"."!==t[8]&&"0"!==t[8]&&(l.color=Bn.createColorString(t[8])),t.length>11){o=parseInt(t[9]),i=t[10].split(","),a=t[11].split(","),s=[];for(var p=0;p<o;p++)u=(c=r+parseInt(a[p]))+parseInt(i[p]),s.push({start:c,end:u});ai(s,l.cdStart,l.cdEnd),l.exons=s}if(this.header){var h=this.header.thicknessColumn,d=this.header.colorColumn;d&&d<t.length&&(l.color=Bn.createColorString(t[d])),h&&h<t.length&&(l.thickness=t[h])}return l}function ni(t,n){return t.length<15?e:{swScore:Number.parseInt(t[1]),milliDiv:Number.parseInt(t[2]),milliDel:Number.parseInt(t[3]),milliIns:Number.parseInt(t[4]),chr:t[5],start:Number.parseInt(t[6]),end:Number.parseInt(t[7]),strand:t[9],repName:t[10],repClass:t[11],repFamily:t[12],repStart:Number.parseInt(t[13]),repEnd:Number.parseInt(t[14]),repLeft:Number.parseInt(t[15])}}function ri(t,n){var r=this.shift===e?0:1;if(t.length<9+r)return e;for(var o=parseInt(t[5+r]),i=parseInt(t[6+r]),a={name:t[0+r],chr:t[1+r],strand:t[2+r],start:parseInt(t[3+r]),end:parseInt(t[4+r]),cdStart:o,cdEnd:i,id:t[0+r]},s=parseInt(t[7+r]),l=t[8+r].split(","),c=t[9+r].split(","),u=[],p=0;p<s;p++){var h=parseInt(l[p]),d=parseInt(c[p]);u.push({start:h,end:d})}return ai(u,o,i),a.exons=u,a}function oi(t,n){var r=this.shift===e?0:1;if(t.length<11+r)return e;for(var o=parseInt(t[5+r]),i=parseInt(t[6+r]),a={name:t[11+r],chr:t[1+r],strand:t[2+r],start:parseInt(t[3+r]),end:parseInt(t[4+r]),cdStart:o,cdEnd:i,id:t[0+r]},s=parseInt(t[7+r]),l=t[8+r].split(","),c=t[9+r].split(","),u=[],p=0;p<s;p++){var h=parseInt(l[p]),d=parseInt(c[p]);u.push({start:h,end:d})}return ai(u,o,i),a.exons=u,a}function ii(t,n){var r=this.shift===e?0:1;if(t.length<10+r)return e;for(var o=parseInt(t[6+r]),i=parseInt(t[7+r]),a={name:t[0+r],id:t[1+r],chr:t[2+r],strand:t[3+r],start:parseInt(t[4+r]),end:parseInt(t[5+r]),cdStart:o,cdEnd:i},s=parseInt(t[8+r]),l=t[9+r].split(","),c=t[10+r].split(","),u=[],p=0;p<s;p++){var h=parseInt(l[p]),d=parseInt(c[p]);u.push({start:h,end:d})}return ai(u,o,i),a.exons=u,a}function ai(t,n,r){var o=!0,i=!1,a=e;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=c.end,p=c.start;u<n||p>r?c.utr=!0:(n>=p&&n<=u&&(c.cdStart=n),r>=p&&r<=u&&(c.cdEnd=r))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}function si(e,t){var n,r,o,i,a,s,l;return e.length<9?null:(n=e[0],r=parseInt(e[1]),o=parseInt(e[2]),a=e[3],s=parseFloat(e[4]),i=e[5].trim(),l=parseFloat(e[6]),0===s&&(s=l),{chr:n,start:r,end:o,name:a,score:s,strand:i,signal:l,pValue:parseFloat(e[7]),qValue:parseFloat(e[8])})}function li(e,t){if(e.length<3)return null;var n={chr:e[0],start:parseInt(e[1]),end:parseInt(e[2]),value:parseFloat(e[3])};if(this.header){var r=this.header.colorColumn;r&&r<e.length&&(n.color=Bn.createColorString(e[r]))}return n}function ci(e,t){var n,r,o;return"fixedStep"===t.format?(r=(n=t.index*t.step+t.start)+t.span,o=parseFloat(e[0]),++t.index,isNaN(o)?null:{chr:t.chrom,start:n,end:r,value:o}):"variableStep"===t.format?e.length<2?null:(r=(n=parseInt(e[0],10)-1)+t.span,o=parseFloat(e[1]),isNaN(o)?null:{chr:t.chrom,start:n,end:r,value:o}):li(e)}function ui(e,t){var n=e[0],r=e[1],o=parseInt(e[2]),i=parseInt(e[3]),a=parseInt(e[4]),s=parseInt(e[5]),l=e[6],c={chr:n,name:r,junction_left:o,junction_right:i,num_junction_reads:a,num_spanning_frags:s,spanning_frag_coords:[],start:-1,end:-1},u=o,p=i;if(s>0)for(var h=l.split(","),d=0;d<h.length;d++){var f=h[d].split("-"),m=f[0],y=f[1];m<u&&(u=m),y>p&&(p=y),c.spanning_frag_coords.push({left:m,right:y})}return c.start=u,c.end=p,c}function pi(e,t){if(e.length<7)return null;var n={chr:e[0],start:parseInt(e[1])-1,end:parseInt(e[2]),"Strongest SNP-risk allele":e[3],"Disease/Phenotype":e[4],"P-value":e[5],"Odds ratio or beta":e[6]};return e.length>6&&(n.PUBMEDID='<a target = "blank" href = "https://www.ncbi.nlm.nih.gov/pubmed/'.concat(e[7],'">').concat(e[7],"</a>")),n}function hi(t,n){var r,o,i,a,s,l,c,u,p,h,d=this.format;if(t.length<9)return null;r=t[0],s=t[2],o=parseInt(t[3])-1,i=parseInt(t[4]),l="."===t[5]?0:parseFloat(t[5]),a=t[6],"."===t[7]||parseInt(t[7]),c=t[8];var f="gff3"===d?"=":/\s+/,m={},y=!0,g=!1,v=e;try{for(var b,S=c.split(";")[Symbol.iterator]();!(y=(b=S.next()).done);y=!0){var w=b.value.trim().split(f,2);if(2===w.length){var C=w[0].trim(),_=w[1].trim();_.startsWith('"')&&_.endsWith('"')&&(_=_.substr(1,_.length-2));var k=C.toLowerCase();"color"===k||"colour"===k?u=Bn.createColorString(w[1]):("gff3"===d&&(_=decodeURIComponent(_)),m[C]=_)}}}catch(e){g=!0,v=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw v}}if(this.nameField)p=m[this.nameField];else for(h=0;h<qo.length;h++)if(m.hasOwnProperty(qo[h])){this.nameField=qo[h],p=m[this.nameField];break}return new di({id:m.ID||m.transcript_id,parent:m.Parent,name:p,type:s,chr:r,start:o,end:i,score:l,strand:a,color:u,attributeString:c,delim:f})}function di(e){Object.assign(this,e)}function fi(e,t){var n,r,o=e.columns;this.aed=e,this.allColumns=t,this.chr=null,this.start=null,this.end=null,this.score=1e3,this.strand=".",this.cdStart=null,this.cdEnd=null,this.name=null,this.color=null;for(var i=0;i<t.length;i++)(n=t[i])&&("aed:Integer"===(r=o[i]).type&&(n=parseInt(n)),"bio"===r.namespace?"sequence"===r.name?this.chr=n:"start"===r.name?this.start=n:"end"===r.name?this.end=n:"cdsMin"===r.name?this.cdStart=n:"cdsMax"===r.name?this.cdEnd=n:"strand"===r.name&&(this.strand=n):"aed"===r.namespace?"name"===r.name&&(this.name=n):"style"===r.namespace&&"color"===r.name&&(this.color=Bn.createColorString(n)))}function mi(t,n){var r,o,i,a,s,l,c=0,u=this.aed.columns;if(t.length!==u.length)return e;for(l=0;l<t.length;l++)a=u[l],""!==(i=t[l])&&c++,"name"===a.name&&"aed"===a.namespace?r=i:"value"===a.name&&"aed"===a.namespace&&(o=i);if(2===c&&r&&o)return s=Xo(r),this.aed.metadata[s.namespace]||(this.aed.metadata[s.namespace]={}),this.aed.metadata[s.namespace][s.name]||(this.aed.metadata[s.namespace][s.name]={type:s.type,value:o}),e;var p=new fi(this.aed,t);return p.chr&&(p.start||0===p.start)&&p.end?p:e}function yi(t,n){if(t.length<6)return e;var r={chr1:t[0],start1:Number.parseInt(t[1]),end1:Number.parseInt(t[2]),chr2:t[3],start2:Number.parseInt(t[4]),end2:Number.parseInt(t[5])};t.length>6&&(r.name=t[6]),t.length>7&&(r.score=t[7]),r.chr=r.chr1===r.chr2?r.chr1:"MIXED",r.start=Math.min(r.start1,r.start2),r.end=Math.max(r.end1,r.end2);var o=(r.start1+r.end1)/2,i=(r.start2+r.end2)/2;if(r.m1=o<i?o:i,r.m2=o<i?i:o,this.header){var a=this.header.thicknessColumn,s=this.header.colorColumn;s&&s<t.length&&(r.color=Bn.createColorString(t[s])),a&&a<t.length&&(r.thickness=t[a])}return r}function gi(e,t){return{chr:e[0],start:Number.parseInt(e[1]),end:Number.parseInt(e[2]),color:Bn.createColorString(e[6]),score:Number.parseFloat(e[7])}}function vi(e,t){for(var n=["bin","chr","start","end","name","score","strand","refNCBI","refUCSC","observed","molType","class","valid","avHet","avHetSE","func","locType","weight","exceptions","submitterCount","submitters","alleleFreqCount","alleles","alleleNs","alleleFreqs","bitfields"],r={chr:e[1],start:Number.parseInt(e[2]),end:Number.parseInt(e[3]),name:e[4],score:Number.parseInt(e[5])},o=Math.min(e.length,n.length),i=6;i<o;i++)r[n[i]]=e[i];return r}function bi(t,n){var r=this.format,o=r.coords||0,i=t[r.chr],a=parseInt(t[r.start])-o,s={chr:i,start:a,end:r.end!==e?parseInt(t[r.end]):a+1};return r.fields&&r.fields.forEach(function(e,n){n!==r.chr&&n!==r.start&&n!==r.end&&(s[e]=t[n])}),s}$o.prototype.parseHeader=function(e){var t,n,r;for(r=jo(e);(t=r.nextLine())&&(t.startsWith("track")||t.startsWith("#")||t.startsWith("browser"));)if(t.startsWith("track")||t.startsWith("#track")){var o=Jo(t);n?Object.assign(n,o):n=o}else if(t.startsWith("#columns")){var i=ei(t);n?Object.assign(n,i):n=i}else t.startsWith("##gff-version 3")&&(this.format="gff3",n||(n={}),n.format="gff3");return this.header=n,n},$o.prototype.parseFeatures=function(e){if(!e)return null;var t,n,r,o,i,a,s,l,c=[],u=0,p=this.decode,h=this.format,d=this.delimiter||"\t";function f(){for(var e,t,n=[],r="",o=!1;i||""===i;){for(e=0;e<i.length;e++)(t=i.charAt(e))===d?o?r+=t:(n.push(r),r=""):'"'===t?e+1<i.length&&'"'===i.charAt(e+1)?(o&&(r+='"'),e++):o=!o:r+=t;if(!o)break;r+="\n",i=l()}return n.push(r),n}for(t=jo(e),l="aed"===h?t.nextLineNoTrim.bind(t):t.nextLine.bind(t),a=0;i=l();)++a<=this.skipRows||i.startsWith("track")||i.startsWith("#")||i.startsWith("browser")||("wig"===h&&i.startsWith("fixedStep")?n=Yo(i):"wig"===h&&i.startsWith("variableStep")?n=Qo(i):(o="aed"!==h||-1===i.indexOf('"')?i.split(d):f()).length<1||("aed"!==h||this.aed?(r=p.call(this,o,n))&&(c.length<Uo?c.push(r):(s=Math.floor(Math.random()*u))<Uo&&(c[s]=r),u++):this.aed=Zo(o)));return c},di.prototype.popupData=function(t){var n=this.attributeString.split(";"),r=[];r.push({name:"type",value:this.type}),r.push({name:"start",value:this.start+1}),r.push({name:"end",value:this.end});var o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value.trim().split(this.delim,2);if(2===c.length&&c[1]!==e){var u=c[0].trim(),p=c[1].trim();p.startsWith('"')&&p.endsWith('"')&&(p=p.substr(1,p.length-2)),r.push({name:u,value:p})}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r},fi.prototype.popupData=function(){for(var e=[],t=this.aed,n=0;n<this.allColumns.length;n++){var r=this.allColumns[n],o=t.columns[n].name;"sequence"!==o&&"color"!==o&&r&&e.push({name:o,value:r})}return e};var Si=function(){};Si.prototype.parseHeader=function(e){var t,n,r,o=qr(e),i=o.length;for(n=0;n<i;n++)if(!(t=o[n]).startsWith("#")){r=t.split("\t"),this.header={headings:r,lineCount:n+1};break}return this.header},Si.prototype.parseFeatures=function(e){var t,n,r,o=e?qr(e):[],i=o.length,a=[];for(this.header||(this.header=this.parseHeader(e)),r=this.header.headings.length-1,n=this.header.lineCount;n<i;n++)o[n],(t=o[n].split("\t")).length>r&&a.push({sampleKey:t[0],sample:t[0],chr:t[1],start:parseInt(t[2]),end:parseInt(t[3]),value:parseFloat(t[r])});return a};var wi=function(t,n){t.displayMode&&(t.displayMode=t.displayMode.toUpperCase()),this.config=t,this.browser=n,this.url=t.url,this.type=t.type,this.supportHiDPI=t.supportHiDPI===e||t.supportHiDPI,t.name=t.name||t.label,t.name?this.name=t.name:br(t.url)?this.name=t.url.name:this.name=t.url,this.order=t.order,"civic-ws"===t.sourceType?this.color="rgb(155,20,20)":this.color=t.color||t.defaultColor||"rgb(0,0,150)",this.autoscaleGroup=t.autoscaleGroup,this.removable=t.removable===e||t.removable,this.height=t.height||100,this.autoHeight=t.autoHeight===e?t.height===e:t.autoHeight,this.minHeight=t.minHeight||Math.min(25,this.height),this.maxHeight=t.maxHeight||Math.max(1e3,this.height),this.visibilityWindow=t.visibilityWindow};function Ci(t){var n=new xi;return n.chr=t[0],n.pos=parseInt(t[1]),n.names=t[2],n.referenceBases=t[3],n.alternateBases=t[4],n.quality=t[5],n.filter=t[6],n.info=function(t){if(!t)return e;var n={};return t.split(";").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}(t[7]),_i(n),n}function _i(t){var n=t.referenceBases,r=t.alternateBases;if(t.info&&(t.info.VT?t.type=t.info.VT:t.info.SVTYPE?t.type="SV":t.info.PERIOD?t.type="STR":t.type=Ei(r)),"NONVARIANT"===t.type&&(t.heterozygosity=0,t.start=t.pos-1,t.end=t.start+n.length),t.info.END)t.start=t.pos-1,t.end=Number.parseInt(t.info.END);else{var o=r.split(",").filter(function(e){return e.length>0});t.alleles=[],t.start=t.pos,t.end=t.pos;var i=!0,a=!1,s=e;try{for(var l,c=o[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(t.alleles.push(u),"SV"!==t.type&&Ti(u)){var p=u.length,h=n.length,d=0;for(n.charCodeAt(0)===u.charCodeAt(0)&&(d++,p--,h--);p>0&&h>0&&u.charCodeAt(d+p-1)===n.charCodeAt(d+h-1);)p--,h--;for(;p>0&&h>0&&u.charCodeAt(d+p-1)===n.charCodeAt(d+h-1);)d++,p--,h--;var f=t.pos+d-1,m=f+Math.max(1,h);t.start=Math.min(t.start,f),t.end=Math.max(t.end,m)}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}}wi.prototype.getState=function(){var e=Object.assign({},this.config),t=this;return Object.keys(e).forEach(function(n){var r=t[n];r&&(Xn(r)||"boolean"==typeof r)&&(e[n]=r)}),e},wi.prototype.supportsWholeGenome=function(){return!1},wi.prototype.clickedFeatures=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=e.referenceFrame.bpPerPixel>.2?3*e.referenceFrame.bpPerPixel:0,o=Math.floor(n)-r,i=Math.floor(n)+r;return wo(t,o,i)},wi.prototype.setTrackProperties=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];switch(r){case"name":case"useScore":this[r]=e[r];break;case"visibility":switch(e[r]){case"2":case"3":case"pack":case"full":this.displayMode="EXPANDED";break;case"4":case"squish":this.displayMode="SQUISHED";break;case"1":case"dense":this.displayMode="COLLAPSED"}break;case"color":case"altColor":this[r]="rgb("+e[r]+")";break;case"featureVisiblityWindow":this.visibilityWindow=Number.parseInt(e[r])}}},wi.prototype.getVisibilityWindow=function(){return this.visibilityWindow},wi.extractPopupData=function(e,t){var n,r,o=new Set(["row","color"]),i=[];for(var a in e)e.hasOwnProperty(a)&&!o.has(a)&&Xn(e[a])&&(i.push({name:a,value:e[a]}),"alleles"===a?n=e[a]:"alleleFreqs"===a&&(r=e[a]));if(n&&r){n.endsWith(",")&&(n=n.substr(0,n.length-1)),r.endsWith(",")&&(r=r.substr(0,r.length-1));var s=n.split(","),l=r.split(",");if(l.length>1){for(var c=[],u=0;u<l.length;u++)c.push({a:s[u],af:Number.parseFloat(l[u])});c.sort(function(e,t){return e.af-t.af});var p=c[c.length-1].a;if(1===p.length)for(var h=c.length-2;h>=0;h--){var d=c[h].a;if(1===d.length){var f=wi.getCravatLink(e.chr,e.start+1,p,d,t);f&&(i.push("<hr/>"),i.push(f))}}}}return i},wi.prototype.getGenomeId=function(){return this.browser.genome?this.browser.genome.id:e},wi.getCravatLink=function(t,n,r,o,i){return"hg38"===i||"GRCh38"===i?"<a target='_blank' href='https://www.cravat.us/CRAVAT/variant.html?variant="+(t.startsWith("chr")?t:"chr"+t)+"_"+n+"_+_"+r+"_"+o+"'>Cravat "+r+"->"+o+"</a>":e};var ki=new Set(["A","C","T","G"].map(function(e){return e.charCodeAt(0)}));function Ti(e){for(var t=0;t<e.length;t++)if(!ki.has(e.charCodeAt(t)))return!1;return!0}var xi=function(){};function Ei(t){if(t===e)return"UNKNOWN";if(0===t.trim().length||"<NON_REF>"===t||"<*>"===t)return"NONVARIANT";var n=t.split(",").map(function(e){return"<NON_REF>"===e?"NONVARIANT":"OTHER"}),r=n[0],o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)if(s.value!==r)return"MIXED"}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}function Ai(t,n){return n===e&&(n=","),Array.isArray(t)?t.join(n):t}xi.prototype.popupData=function(e,t){var n,r,o=this,i=this.end===this.pos?this.pos:"".concat(this.pos,"-").concat(this.end);if(n=[{name:"Chr",value:this.chr},{name:"Pos",value:i},{name:"Names",value:this.names?this.names:""},{name:"Ref",value:this.referenceBases},{name:"Alt",value:this.alternateBases.replace("<","&lt;")},{name:"Qual",value:this.quality},{name:"Filter",value:this.filter}],1===this.referenceBases.length&&!Ei(this.alternateBases)){var a=this.referenceBases;if(1===a.length)for(var s=this.alternateBases.split(","),l=0;l<s.length;l++){var c=this.alternateBases[l];if(1===c.length){var u=wi.getCravatLink(this.chr,this.pos,a,c,t);u&&(n.push("<hr/>"),n.push(u))}}}return this.hasOwnProperty("heterozygosity")&&n.push({name:"Heterozygosity",value:this.heterozygosity}),this.info&&(n.push("<hr>"),Object.keys(this.info).forEach(function(e){n.push({name:e,value:Ai(o.info[e])})})),this.calls&&1===this.calls.length&&(n.push("<hr>"),r=this.alleles[this.calls[0].genotype[0]]+this.alleles[this.calls[0].genotype[1]],n.push({name:"Genotype",value:r})),n},xi.prototype.isRefBlock=function(){return"NONVARIANT"===this.type};var Oi=function(){};function Pi(e){var t,n={genotypeIndex:-1,fields:e};for(t=0;t<e.length;t++)"GT"===e[t]&&(n.genotypeIndex=t);return n}Oi.prototype.parseHeader=function(e){var t,n,r,o,i,a,s,l,c,u={};if(!(r=(t=jo(e)).nextLine()).startsWith("##fileformat"))throw new Error("Invalid VCF file: missing fileformat line");for(u.version=r.substr(13);(r=t.nextLine())&&r.startsWith("#");)if(i=null,a={},r.startsWith("##")){if(r.startsWith("##INFO")||r.startsWith("##FILTER")||r.startsWith("##FORMAT")){if(s=r.indexOf("<"),l=r.lastIndexOf(">"),!(s>2&&l>0))continue;u[c=r.substring(2,s-1)]||(u[c]={}),(n=Wr(r.substring(s+1,l-1),",")).forEach(function(e){var t=e.split("=");t.length>1&&("ID"===t[0]?i=t[1]:a[t[0]]=t[1])}),i&&(u[c][i]=a)}}else if(r.startsWith("#CHROM")&&(n=r.split("\t")).length>8)for(u.callSets=[],o=9;o<n.length;o++)u.callSets.push({id:o,name:n[o]});return this.header=u,u},Oi.prototype.parseFeatures=function(e){var t,n,r,o,i,a,s,l=[],c=this.header.callSets;for(t=jo(e);n=t.nextLine();)if(!n.startsWith("#")&&(o=n.split("\t")).length>=8&&((r=Ci(o)).header=this.header,l.push(r),o.length>9))for(i=Pi(o[8].split(":")),r.calls={},a=9;a<o.length;a++){s=o[a];var u=c[a-9],p={callSetName:u.name,info:{}};r.calls[u.id]=p,s.split(":").forEach(function(e,t){switch(t){case i.genotypeIndex:p.genotype=[],e.split(/[\|\/]/).forEach(function(e){p.genotype.push(parseInt(e))});break;default:p.info[i.fields[t]]=e}})}return l};var Ii=function(t,n){this.littleEndian=n===e||n,this.position=0,this.view=t,this.length=t.byteLength};function Mi(e,t){this.block=e,this.offset=t}Ii.prototype.available=function(){return this.length-this.position},Ii.prototype.remLength=function(){return this.length-this.position},Ii.prototype.hasNext=function(){return this.position<this.length-1},Ii.prototype.getByte=function(){var e=this.view.getUint8(this.position,this.littleEndian);return this.position++,e},Ii.prototype.getShort=function(){var e=this.view.getInt16(this.position,this.littleEndian);return this.position+=2,e},Ii.prototype.getUShort=function(){var e=this.view.getUint16(this.position,this.littleEndian);return this.position+=2,e},Ii.prototype.getInt=function(){var e=this.view.getInt32(this.position,this.littleEndian);return this.position+=4,e},Ii.prototype.getUInt=function(){var e=this.view.getUint32(this.position,this.littleEndian);return this.position+=4,e},Ii.prototype.getLong=function(){var e=[];e[0]=this.view.getUint8(this.position),e[1]=this.view.getUint8(this.position+1),e[2]=this.view.getUint8(this.position+2),e[3]=this.view.getUint8(this.position+3),e[4]=this.view.getUint8(this.position+4),e[5]=this.view.getUint8(this.position+5),e[6]=this.view.getUint8(this.position+6),e[7]=this.view.getUint8(this.position+7);var t=0;if(this.littleEndian)for(var n=e.length-1;n>=0;n--)t=256*t+e[n];else for(var r=0;r<e.length;r++)t=256*t+e[r];return this.position+=8,t},Ii.prototype.getString=function(e){for(var t,n="";0!==(t=this.view.getUint8(this.position++))&&(n+=String.fromCharCode(t),!e||n.length!==e););return n},Ii.prototype.getFixedLengthString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>0&&(r+=String.fromCharCode(n));return r},Ii.prototype.getFixedLengthTrimmedString=function(e){var t,n,r="";for(t=0;t<e;t++)(n=this.view.getUint8(this.position++))>32&&(r+=String.fromCharCode(n));return r},Ii.prototype.getFloat=function(){var e=this.view.getFloat32(this.position,this.littleEndian);return this.position+=4,e},Ii.prototype.getDouble=function(){var e=this.view.getFloat64(this.position,this.littleEndian);return this.position+=8,e},Ii.prototype.skip=function(e){return this.position+=e,this.position},Ii.prototype.getVPointer=function(){var e=this.position,t=this.view.getUint8(e+1)<<8|this.view.getUint8(e),n=4294967296*(255&this.view.getUint8(e+6))+16777216*(255&this.view.getUint8(e+5))+65536*(255&this.view.getUint8(e+4))+256*(255&this.view.getUint8(e+3))+(255&this.view.getUint8(e+2));return this.position+=8,new Mi(n,t)},Mi.prototype.isLessThan=function(e){return this.block<e.block||this.block===e.block&&this.offset<e.offset},Mi.prototype.isGreaterThan=function(e){return this.block>e.block||this.block===e.block&&this.offset>e.offset},Mi.prototype.print=function(){return this.block+":"+this.offset};var Di=21578050,Li=21578324;function Ni(e,t,n,r){return Ri.apply(this,arguments)}function Ri(){return(Ri=N(t.mark(function e(n,r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x,E,A,O;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.loadArrayBuffer(n,Zn(r));case 2:if(a=e.sent,s=[],l=Number.MAX_VALUE,c=0,a){e.next=7;break}return e.abrupt("return");case 7:if(o&&(u=new ir.Gunzip(new Uint8Array(a)),a=u.decompress().buffer),p=new Ii(new DataView(a)),h=p.getInt(),d={},!(h===Di||o&&h===Li)){e.next=17;break}if(f=p.getInt(),o)for(p.getInt(),p.getInt(),p.getInt(),p.getInt(),p.getInt(),p.getInt(),p.getInt(),m=0;m<f;m++)y=p.getString(),i&&(y=i.getChromosomeName(y)),d[y]=m;for(g=0;g<f;g++){for(v={},b=[],S=p.getInt(),w=0;w<S;w++)if(37450===(C=p.getInt()))p.getInt(),p.getVPointer(),p.getVPointer(),p.getLong(),p.getLong();else for(v[C]=[],_=p.getInt(),k=0;k<_;k++)T=p.getVPointer(),x=p.getVPointer(),T&&x&&(T.block<l&&(l=T.block),x.block>c&&(c=x.block),v[C].push([T,x]));for(E=p.getInt(),A=0;A<E;A++)O=p.getVPointer(),b.push(O);S>0&&(s[g]={binIndex:v,linearIndex:b})}e.next=18;break;case 17:throw new Error(n+" is not a "+(o?"tabix":"bai")+" file");case 18:return e.abrupt("return",new ji(s,l,c,d,o));case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ji=function(e,t,n,r,o){this.firstAlignmentBlock=t,this.lastAlignmentBlock=n,this.indices=e,this.sequenceIndexMap=r,this.tabix=o};function Fi(e,t,n){return Gi.apply(this,arguments)}function Gi(){return(Gi=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h=function(e){var t=e.getString();i&&(t=i.getChromosomeName(t));for(var n=e.getInt(),r=e.getInt(),o=e.getInt(),a=(e.getInt(),e.getInt(),e.getLong()),s=new Array,l=0;l<r;l++){var c=e.getLong();s.push({min:a,max:c}),a=c}return{chr:t,blocks:s,longestFeature:o,binWidth:n}},p=function(e){e.getInt(),e.getInt();var t=e.getInt();if(e.getString(),e.getLong(),e.getLong(),e.getString(),e.getInt(),t>=3)for(var n=e.getInt();n-- >0;)e.getString(),e.getString()},t.next=4,Dr.loadArrayBuffer(r,Zn(o));case 4:if(!(a=t.sent)){t.next=14;break}for(s={},l=new Ii(new DataView(a)),p(l),c=l.getInt();c-- >0;)u=h(l),s[u.chr]=u;return t.abrupt("return",new Bi(s));case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}},n)}))).apply(this,arguments)}ji.prototype.blocksForRange=function(e,t,n){var r=this.indices[e];if(r){var o=function(e,t){var n,r=[];for(t>=1<<29&&(t=1<<29),--t,r.push(0),n=1+(e>>26);n<=1+(t>>26);++n)r.push(n);for(n=9+(e>>23);n<=9+(t>>23);++n)r.push(n);for(n=73+(e>>20);n<=73+(t>>20);++n)r.push(n);for(n=585+(e>>17);n<=585+(t>>17);++n)r.push(n);for(n=4681+(e>>14);n<=4681+(t>>14);++n)r.push(n);return r}(t,n),i=[];o.forEach(function(e){if(r.binIndex[e])for(var t=r.binIndex[e],n=t.length,o=0;o<n;++o){var a=t[o][0],s=t[o][1];i.push({minv:a,maxv:s,bin:e})}});for(var a=r.linearIndex.length,s=null,l=Math.min(t>>14,a-1),c=Math.min(n>>14,a-1),u=l;u<=c;++u){var p=r.linearIndex[u];p&&(s&&!p.isLessThan(s)||(s=p))}return function(e,t){var n=[],r=null;return 0===e.length?e:(e.sort(function(e,t){var n=e.minv.block-t.minv.block;return 0!==n?n:e.minv.offset-t.minv.offset}),e.forEach(function(e){var o,i;t&&!e.maxv.isGreaterThan(t)||(null===r?(n.push(e),r=e):(o=r,(i=e).minv.block-o.maxv.block<65e3&&i.maxv.block-o.minv.block<5e6?e.maxv.isGreaterThan(r.maxv)&&(r.maxv=e.maxv):(n.push(e),r=e)))}),n)}(i,s)}return[]};var Bi=function(){function t(e){R(this,t),this.chrIndex=e}return F(t,[{key:"blocksForRange",value:function(t,n,r){var o=this.chrIndex[t];if(o){var i=o.blocks,a=o.longestFeature,s=o.binWidth,l=Math.max(n-a,0),c=Math.floor(l/s);if(c>=i.length)return[];var u=Math.min(Math.floor((r-1)/s),i.length-1),p=i[c].min,h=i[u].max;return 0==h-p?[]:[{minv:{block:p,offset:0},maxv:{block:h,offset:0}}]}return e}}]),t}(),zi=function(e,t){var n;this.config=e||{},this.genome=t,this.indexURL=e.indexURL,this.indexed=e.indexed,br(this.config.url)?this.filename=this.config.url.name:Hr(this.config.url)&&this.config.url.startsWith("data:")?(this.indexed=!1,this.dataURI=e.url):(n=wr(this.config.url),this.filename=e.filename||n.file),this.format=this.config.format,this.parser=this.getParser(this.format,this.config.decode,this.config)};zi.prototype.readFeatures=function(){var e=N(t.mark(function e(n,r,o){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIndex();case 2:if(!e.sent){e.next=7;break}return e.abrupt("return",this.loadFeaturesWithIndex(n,r,o));case 7:if(!this.dataURI){e.next=11;break}return e.abrupt("return",this.loadFeaturesFromDataURI());case 11:return e.abrupt("return",this.loadFeaturesNoIndex());case 12:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),zi.prototype.readHeader=N(t.mark(function e(){var n,r,o,i,a,s,l,c,u,p;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=36;break}if(!this.dataURI){e.next=9;break}return e.next=4,this.loadFeaturesFromDataURI(this.dataURI);case 4:r=e.sent,(n=this.header||{}).features=r,e.next=36;break;case 9:if(!this.config.indexURL&&!this.config.indexed){e.next=28;break}return e.next=12,this.getIndex();case 12:if(o=e.sent,i="vcf"===this.config.format?65e3:1e3,!o.tabix){e.next=21;break}return a=Zn(this.config,{range:{start:o.firstAlignmentBlock,size:26}}),e.next=18,Dr.loadArrayBuffer(this.config.url,a);case 18:s=e.sent,l=fr(s),i=o.firstAlignmentBlock+l;case 21:return c=Zn(this.config,{bgz:o.tabix,range:{start:0,size:i}}),e.next=24,Dr.loadString(this.config.url,c);case 24:u=e.sent,n=this.parser.parseHeader(u),e.next=33;break;case 28:return e.next=30,this.loadFeaturesNoIndex();case 30:p=e.sent,(n=this.header||{}).features=p;case 33:return n&&this.parser&&(this.parser.header=n),this.header=n,e.abrupt("return",n);case 36:return e.abrupt("return",this.header);case 37:case"end":return e.stop()}},e,this)})),zi.prototype.getParser=function(e,t,n){switch(e){case"vcf":return new Oi(n);case"seg":return new Si;default:return new $o(e,t,this.config)}},zi.prototype.loadIndex=N(t.mark(function n(){var r,o;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.config.indexURL,t.prev=1,!this.filename.endsWith(".gz")&&!this.filename.endsWith(".bgz")){t.next=9;break}return r||(r=this.config.url+".tbi"),t.next=6,Ni(r,this.config,!0,this.genome);case 6:o=t.sent,t.next=13;break;case 9:return r||(r=this.config.url+".idx"),t.next=12,Fi(r,this.config,this.genome);case 12:o=t.sent;case 13:return t.abrupt("return",o);case 16:if(t.prev=16,t.t0=t.catch(1),!this.config.indexURL){t.next=22;break}throw t.t0;case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}},n,this,[[1,16]])})),zi.prototype.loadFeaturesNoIndex=N(t.mark(function e(){var n,r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zn(this.config),e.next=3,Dr.loadString(this.config.url,n);case 3:return r=e.sent,this.header=this.parser.parseHeader(r),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),e.abrupt("return",this.parser.parseFeatures(r));case 7:case"end":return e.stop()}},e,this)})),zi.prototype.loadFeaturesWithIndex=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g,v;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=this.config,s=this.parser,l=this.index.tabix,c=l?this.index.sequenceIndexMap[r]:r,u=[],p=this.genome,(h=this.index.blocksForRange(c,o,i))&&0!==h.length){n.next=11;break}return n.abrupt("return",[]);case 11:d=!0,f=!1,m=e,n.prev=14,y=t.mark(function n(){var c,h,d,f,m,y,g,b,S,w,C,_,k;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(k=function(t){var n=d?t.slice(d):t,a=s.parseFeatures(n),l=!0,c=!1,h=e;try{for(var f,m=a[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){var y=f.value;if(p.getChromosomeName(y.chr)!==r){if(0===u.length)continue;break}if(y.start>i)break;y.end>=o&&y.start<=i&&u.push(y)}}catch(e){c=!0,h=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw h}}},c=v.value,h=c.minv.block,d=c.minv.offset,f=c.maxv.offset,m=void 0,!l){t.next=17;break}if(y=0,!(f>0)){t.next=14;break}return g=Zn(a,{range:{start:c.maxv.block,size:26}}),t.next=12,Dr.loadArrayBuffer(a.url,g);case 12:b=t.sent,y=fr(b);case 14:m=c.maxv.block+y,t.next=18;break;case 17:m=c.maxv.block;case 18:if(S=Zn(a,{range:{start:h,size:m-h+1}}),!l){t.next=27;break}return t.next=22,Dr.loadArrayBuffer(a.url,S);case 22:w=t.sent,C=dr(w),k(C),t.next=31;break;case 27:return t.next=29,Dr.loadString(a.url,S);case 29:_=t.sent,k(_);case 31:case"end":return t.stop()}},n)}),g=h[Symbol.iterator]();case 17:if(d=(v=g.next()).done){n.next=22;break}return n.delegateYield(y(),"t0",19);case 19:d=!0,n.next=17;break;case 22:n.next=28;break;case 24:n.prev=24,n.t1=n.catch(14),f=!0,m=n.t1;case 28:n.prev=28,n.prev=29,d||null==g.return||g.return();case 31:if(n.prev=31,!f){n.next=34;break}throw m;case 34:return n.finish(31);case 35:return n.finish(28);case 36:return u.sort(function(e,t){return e.start-t.start}),n.abrupt("return",u);case 38:case"end":return n.stop()}},n,this,[[14,24,28,36],[29,,31,35]])}));return function(e,t,r){return n.apply(this,arguments)}}(),zi.prototype.getIndex=N(t.mark(function n(){var r;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.index===e&&!1!==this.indexed){t.next=2;break}return t.abrupt("return",this.index);case 2:if(!1===this.indexed){t.next=18;break}return t.prev=3,t.next=6,this.loadIndex();case 6:return(r=t.sent)?(this.index=r,this.indexed=!0):this.indexed=!1,t.abrupt("return",this.index);case 11:if(t.prev=11,t.t0=t.catch(3),!this.config.url){t.next=17;break}throw t.t0;case 17:this.indexed=!1;case 18:return t.abrupt("return",e);case 19:case"end":return t.stop()}},n,this,[[3,11]])})),zi.prototype.loadFeaturesFromDataURI=N(t.mark(function e(){var n,r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sr(this.dataURI),this.header=this.parser.parseHeader(n),this.header instanceof String&&this.header.startsWith("##gff-version 3")&&(this.format="gff3"),r=this.parser.parseFeatures(n),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));var Vi=function(e,t,n){this.treeMap=this.buildTreeMap(e,t),this.range=n,this.count=e.length};function Hi(e){for(var t=new mo,n=e.length,r=Math.max(10,Math.round(n/10)),o=0;o<n;o+=r){for(var i=Math.min(n,o+r),a=new Ui(o,i),s=e[o].start,l=s,c=o;c<i;c++)l=Math.max(l,e[c].end);t.insert(s,l,a)}return t}Vi.prototype.containsRange=function(t){return this.range===e||this.range.contains(t.chr,t.start,t.end)},Vi.prototype.queryFeatures=function(t,n,r){var o=this.treeMap[t];if(!o)return[];var i=o.findOverlapping(n,r);if(0===i.length)return[];var a=[],s=this.allFeatures[t];if(s){var l=!0,c=!1,u=e;try{for(var p,h=i[Symbol.iterator]();!(l=(p=h.next()).done);l=!0)for(var d=p.value.value,f=d.start;f<d.end;f++){var m=s[f];if(m.start>r)break;m.end>=n&&a.push(m)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}a.sort(function(e,t){return e.start-t.start})}return a},Vi.prototype.getAllFeatures=function(){return this.allFeatures},Vi.prototype.buildTreeMap=function(t,n){var r={},o=[];if(this.allFeatures={},t){var i=!0,a=!1,s=e;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,p=u.chr;n&&(p=n.getChromosomeName(p));var h=this.allFeatures[p];h||(o.push(p),h=[],this.allFeatures[p]=h),h.push(u)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}var d=!0,f=!1,m=e;try{for(var y,g=o[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value,b=this.allFeatures[v];b.sort(function(e,t){return e.start===t.start?0:e.start>t.start?1:-1}),r[v]=Hi(b)}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}}return r};var Ui=function e(t,n){R(this,e),this.start=t,this.end=n},qi=function(e){this.config=e};qi.prototype.readFeatures=function(t,n,r){var o=this,i=o.config.url,a=o.config.body;return"all"!==t.toLowerCase()&&(i=i.replace("$CHR",t).replace("$START",n).replace("$END",r),a!==e&&(o.config.body=o.config.body.replace("$CHR",t).replace("$START",n).replace("$END",r))),Dr.load(i,o.config).then(function(e){if(!e)return[];if("function"==typeof o.config.parser)return o.config.parser(e);if(!Hr(e))return e;try{return JSON.parse(e)}catch(t){return e}}).then(function(e){if(o.config.mappings){var t=Object.keys(o.config.mappings);e.forEach(function(e){t.forEach(function(t){e[t]=e[o.config.mappings[t]]})})}return e})};var Wi=function(e,t){this.config=e,this.genome=t,this.expandQueryInterval=!1};Wi.prototype.readFeatures=function(e,t,n){var r=Math.max(0,Math.floor(t)),o=Math.ceil(n);if(this.genome){var i=this.genome.getChromosome(e);i&&o>i.bpLength&&(o=i.bpLength)}var a=this.config.url+"?db="+this.config.db+"&table="+this.config.tableName+"&chr="+e+"&start="+r+"&end="+o;return Dr.loadJson(a,this.config).then(function(e){return e?(e.forEach(function(e){e.hasOwnProperty("exonStarts")&&e.hasOwnProperty("exonEnds")&&e.hasOwnProperty("exonCount")&&e.hasOwnProperty("cdsStart")&&e.hasOwnProperty("cdsEnd")&&function(e){var t,n,r,o,i,a;t=e.exonCount,n=e.exonStarts.split(","),r=e.exonEnds.split(","),o=[];for(var s=0;s<t;s++){var l={start:i=parseInt(n[s]),end:a=parseInt(r[s])};(e.cdsStart>a||e.cdsEnd<e.cdsStart)&&(l.utr=!0),e.cdsStart>=i&&e.cdsStart<=a&&(l.cdStart=e.cdsStart),e.cdsEnd>=i&&e.cdsEnd<=a&&(l.cdEnd=e.cdsEnd),o.push(l)}e.exons=o}(e)}),e):null})};var Ki=new Set(["transcript","primary_transcript","processed_transcript","mRNA","mrna"]),$i=new Set(["CDS","cds"]),Yi=new Set(["start_codon","stop_codon"]),Qi=new Set(["5UTR","3UTR","UTR","five_prime_UTR","three_prime_UTR","3'-UTR","5'-UTR"]),Xi=new Set(["exon","coding-exon"]),Zi=function(e){this.format=e.format,e.filterTypes&&(this.filterTypes=new Set(e.filterTypes))};function Ji(t){var n=Object.create(null),r=[],o=new Set,i=this.filterTypes;t=t.filter(function(t){return i===e||!i.has(t.type)});var a=!0,s=!1,l=e;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;if(Ki.has(p.type)){var h=p.id;if(e!==h){var d=new ta(p);n[h]=d,r.push(d),o.add(p)}}}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var f=!0,m=!1,y=e;try{for(var g,v=t[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;if(Xi.has(b.type)){var S=b.id;if(S){var w=n[S];w===e&&(w=new ta(b),n[S]=w,r.push(w)),w.addExon(b),o.add(b)}}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}var C=!0,_=!1,k=e;try{for(var T,x=t[Symbol.iterator]();!(C=(T=x.next()).done);C=!0){var E=T.value;if($i.has(E.type)||Qi.has(E.type)||Yi.has(E.type)){var A=E.id;if(A){var O=n[A];O===e&&(O=new ta(E),n[A]=O,r.push(O)),Qi.has(E.type)?O.addUTR(E):$i.has(E.type)?O.addCDS(E):Yi.has(E.type),o.add(E)}}}}catch(e){_=!0,k=e}finally{try{C||null==x.return||x.return()}finally{if(_)throw k}}for(var P=0,I=r;P<I.length;P++){var M=I[P];"function"==typeof M.finish&&M.finish()}var D=t.filter(function(e){return!o.has(e)}),L=!0,N=!1,R=e;try{for(var j,F=D[Symbol.iterator]();!(L=(j=F.next()).done);L=!0){var G=j.value;r.push(G)}}catch(e){N=!0,R=e}finally{try{L||null==F.return||F.return()}finally{if(N)throw R}}return r.sort(function(e,t){return e.start-t.start}),r}function ea(t){var n=Object.create(null),r=[],o=new Set,i=this.filterTypes;t=t.filter(function(t){return i===e||!i.has(t.type)});var a=!0,s=!1,l=e;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value;if(Ki.has(p.type)){var h=p.id;if(e!==h){var d=new ta(p);n[h]=d,r.push(d),o.add(p)}}}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}var f=!0,m=!1,y=e;try{for(var g,v=t[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;if(Xi.has(b.type)){var S=K(b);if(S){var w=!0,C=!1,_=e;try{for(var k,T=S[Symbol.iterator]();!(w=(k=T.next()).done);w=!0){var x=n[k.value];x!==e&&(x.addExon(b),o.add(b))}}catch(e){C=!0,_=e}finally{try{w||null==T.return||T.return()}finally{if(C)throw _}}}}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}var E=!0,A=!1,O=e;try{for(var P,I=t[Symbol.iterator]();!(E=(P=I.next()).done);E=!0){var M=P.value;if($i.has(M.type)||Qi.has(M.type)||Yi.has(M.type)){var D=K(M);if(D){var L=!0,N=!1,R=e;try{for(var j,F=D[Symbol.iterator]();!(L=(j=F.next()).done);L=!0){var G=n[j.value];G!==e&&(Qi.has(M.type)?G.addUTR(M):$i.has(M.type)?G.addCDS(M):Yi.has(M.type),o.add(M))}}catch(e){N=!0,R=e}finally{try{L||null==F.return||F.return()}finally{if(N)throw R}}}}}}catch(e){A=!0,O=e}finally{try{E||null==I.return||I.return()}finally{if(A)throw O}}r.forEach(function(e){"function"==typeof e.finish&&e.finish()});var B=t.filter(function(e){return!o.has(e)}),z=!0,V=!1,H=e;try{for(var U,q=B[Symbol.iterator]();!(z=(U=q.next()).done);z=!0){var W=U.value;r.push(W)}}catch(e){V=!0,H=e}finally{try{z||null==q.return||q.return()}finally{if(V)throw H}}return r.sort(function(e,t){return e.start-t.start}),r;function K(e){return e.parent&&""!==e.parent.trim()?e.parent.trim().split(","):null}}Zi.prototype.combineFeatures=function(e){return"gff3"===this.format?ea.call(this,e):Ji.call(this,e)};var ta=function(e){Object.assign(this,e),this.exons=[]};ta.prototype.addExon=function(e){this.exons.push(e),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},ta.prototype.addCDS=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(t.cdStart=t.cdStart?Math.min(e.start,t.cdStart):e.start,t.cdEnd=t.cdEnd?Math.max(e.end,t.cdEnd):e.end,t.children||(t.children=[]),t.children.push(e)):(e.cdStart=e.start,e.cdEnd=e.end,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end),this.cdStart=this.cdStart?Math.min(e.start,this.cdStart):e.start,this.cdEnd=this.cdEnd?Math.max(e.end,this.cdEnd):e.end},ta.prototype.addUTR=function(e){for(var t,n=this.exons,r=0;r<n.length;r++)if(n[r].start<=e.start&&n[r].end>=e.end){t=n[r];break}t?(e.start===t.start&&e.end===t.end?t.utr=!0:(e.end<t.end&&(t.cdStart=e.end),e.start>t.start&&(t.cdEnd=e.start)),t.children||(t.children=[]),t.children.push(e)):(e.utr=!0,n.push(e)),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)},ta.prototype.finish=function(){var e=this.cdStart,t=this.cdEnd;this.exons.sort(function(e,t){return e.start-t.start}),e&&this.exons.forEach(function(n){(n.end<e||n.start>t)&&(n.utr=!0)})},ta.prototype.popupData=function(t){var n=this.attributeString.split(";"),r=[];r.push({name:"type",value:this.type}),r.push({name:"start",value:this.start+1}),r.push({name:"end",value:this.end});var o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value.trim().split(this.delim,2);if(2===c.length&&c[1]!==e){var u=c[0].trim(),p=c[1].trim();p.startsWith('"')&&p.endsWith('"')&&(p=p.substr(1,p.length-2)),r.push({name:u,value:p})}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var h=!0,d=!1,f=e;try{for(var m,y=this.exons[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var g=m.value;if(t>=g.start&&t<g.end){r.push("<hr>");var v=g.popupData(t),b=!0,S=!1,w=e;try{for(var C,_=v[Symbol.iterator]();!(b=(C=_.next()).done);b=!0){var k=C.value;r.push(k)}}catch(e){S=!0,w=e}finally{try{b||null==_.return||_.return()}finally{if(S)throw w}}if(g.children){var T=!0,x=!1,E=e;try{for(var A,O=g.children[Symbol.iterator]();!(T=(A=O.next()).done);T=!0){var P=A.value;r.push("<hr>");var I=P.popupData(t),M=!0,D=!1,L=e;try{for(var N,R=I[Symbol.iterator]();!(M=(N=R.next()).done);M=!0){var j=N.value;r.push(j)}}catch(e){D=!0,L=e}finally{try{M||null==R.return||R.return()}finally{if(D)throw L}}}}catch(e){x=!0,E=e}finally{try{T||null==O.return||O.return()}finally{if(x)throw E}}}}}}catch(e){d=!0,f=e}finally{try{h||null==y.return||y.return()}finally{if(d)throw f}}return r};var na=function(e){this.config=e,this.url=e.url,this.tissueId=e.tissueSiteDetailId,this.indexed=!0,this.datasetId=e.datasetId||"gtex_v8"};na.prototype.readFeatures=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this,s=r.startsWith("chr")?r:"chr"+r,l=Math.floor(o),c=Math.ceil(i),u=this.datasetId,p=this.url+"?chromosome="+s+"&start="+l+"&end="+c+"&tissueSiteDetailId="+this.tissueId+"&datasetId="+u,t.next=3,Dr.loadJson(p,{withCredentials:a.config.withCredentials});case 3:if(!(h=t.sent)||!h.singleTissueEqtl){t.next=9;break}return h.singleTissueEqtl.forEach(function(e){e.chr=e.chromosome,e.position=e.pos,e.start=e.pos-1,e.end=e.start+1,e.snp=e.snpId,e.geneName=e.geneSymbol,e.geneId=e.gencodeId}),t.abrupt("return",h.singleTissueEqtl);case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}},n,this)}));return function(e,t,r){return n.apply(this,arguments)}}();var ra=function(e){this.config=e,this.url=e.url,this.cellConditionId=e.cellConditionId,this.valueThreshold=e.valueThreshold?e.valueThreshold:.05};function oa(e){var t=e.url+"/"+e.entity+"/"+e.entityId;return e.headers={"Cache-Control":"no-cache"},Dr.loadJson(t,e)}function ia(t){return new Promise(function(n,r){var o=t.results?t.results:[],i=t.url,a=t.body,s=t.decode,l=cr.apiKey,c="?",u=t.fields;return l&&(i=i+c+"key="+l,c="&"),u&&(i=i+c+"fields="+u),function t(l){l?a.pageToken=l:a.pageToken!==e&&delete a.pageToken;var c=JSON.stringify(a);Dr.loadJson(i,{sendData:c,contentType:"application/json",headers:{"Cache-Control":"no-cache"}}).then(function(e){var r,i;e?((i=s?s(e):e)&&i.forEach(function(e){o.push(e)}),(r=e.nextPageToken)?t(r):n(o)):n(o)}).catch(function(e){r(e)})}()})}ra.prototype.readFeatures=function(e,t,n){var r=this,o=this.url+"?chromosome="+e+"&start="+t+"&end="+n+"&cell_condition_id="+this.cellConditionId;return new Promise(function(e,t){Dr.loadJson(o,{withCredentials:r.config.withCredentials}).then(function(t){t?(t.eqtls.forEach(function(e){e.chr=e.chromosome,e.start=e.position,e.end=e.position+1}),e(t.eqtls)):e(null)}).catch(function(e){t(e)})})};var aa=function(t,n){this.config=t,this.genome=n,this.url=t.url,this.variantSetId=t.variantSetId,this.callSetIds=t.callSetIds,this.includeCalls=t.includeCalls===e||t.includeCalls};aa.prototype.readHeader=function(){var e=this;return e.header?Promise.resolve(e.header):(e.header={},!1===e.includeCalls?Promise.resolve(e.header):ia({url:e.url+"/callsets/search",fields:"nextPageToken,callSets(id,name)",body:{variantSetIds:Array.isArray(e.variantSetId)?e.variantSetId:[e.variantSetId],pageSize:"10000"},decode:function(t){if(e.callSetIds){var n=[],r=new Set;return e.callSetIds.forEach(function(e){r.add(e)}),t.callSets.forEach(function(e){r.has(e.id)&&n.push(e)}),n}return t.callSets}}).then(function(t){return e.header.callSets=t,e.header}))},aa.prototype.readFeatures=function(t,n,r){var o=this,i=this.genome;return o.readHeader().then(function(e){return new Promise(function(e,t){o.chrAliasTable?e(o.chrAliasTable):o.readMetadata().then(function(t){o.metadata=t.metadata,o.chrAliasTable={},t.referenceBounds&&i&&t.referenceBounds.forEach(function(e){var t=e.referenceName,n=i.getChromosomeName(t);o.chrAliasTable[n]=t}),e(o.chrAliasTable)})})}).then(function(i){var a=i.hasOwnProperty(t)?i[t]:t;return ia({url:o.url+"/variants/search",fields:o.includeCalls?e:"nextPageToken,variants(id,variantSetId,names,referenceName,start,end,referenceBases,alternateBases,quality,filter,info)",body:{variantSetIds:Array.isArray(o.variantSetId)?o.variantSetId:[o.variantSetId],callSetIds:o.callSetIds?o.callSetIds:e,referenceName:a,start:n.toString(),end:r.toString(),pageSize:"10000"},decode:function(e){var t,n=[];return e.variants.forEach(function(e){(t=function(e){var t,n=new xi;return n.chr=e.referenceName,n.start=parseInt(e.start),n.end=parseInt(e.end),n.pos=n.start+1,n.names=Ai(e.names,"; "),n.referenceBases=e.referenceBases,n.alternateBases=Ai(e.alternateBases),n.quality=e.quality,n.filter=Ai(e.filter),n.info={},e.info&&Object.keys(e.info).forEach(function(t){var r,o=e.info[t];r=Array.isArray(o)?o.join(","):o,n.info[t]=r}),n.calls={},e.calls&&e.calls.forEach(function(e){t=e.callSetId,n.calls[t]=e}),_i(n),n}(e)).isRefBlock()||n.push(t)}),n}})})},aa.prototype.readMetadata=function(){return oa({url:this.url,entity:"variantsets",entityId:this.variantSetId})};var sa=function(e){this.config=e};function la(t,n,r,o){if(this.chr=t,this.start=n,this.end=r,this.id=o.id,this.entrezName=o.entrez_name,this.name=o.name,this.actionabilityScore=o.civic_actionability_score,o.coordinates.reference_bases&&(this.refBases=o.coordinates.reference_bases),o.coordinates.variant_bases&&(this.altBases=o.coordinates.variant_bases),o.variant_types&&(this.variant_types=o.variant_types),this.locationString=this.chr+":"+Ur(this.start+1)+"-"+Ur(this.end),this.actionabilityScore!==e){var i;if(this.actionabilityScore<=10)i=.2;else{var a=Math.min(30,this.actionabilityScore);i=.2+.8*Math.log10((a-10)/2)}this.alpha=i}}sa.prototype.readFeatures=function(t,n,r){return Dr.loadJson(this.config.url+"/variants/?count=5000").then(function(t){var n=t.records,r=[],o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;if(c.coordinates){c.id;var u=c.coordinates;u.chromosome&&r.push(new la(u.chromosome,u.start-1,u.stop,c)),u.chromosome2&&r.push(new la(u.chromosome2,u.start2-1,u.stop2,c))}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r})},la.prototype.popupData=function(){var t=p("CIViC","https://civicdb.org/links/variants/"+this.id),n=(this.refBases!==this.altBases&&this.refBases&&1===this.refBases.length&&this.altBases&&this.altBases.length,[t]);if(n.push({name:"Entrez",value:p(this.entrezName,"https://ghr.nlm.nih.gov/gene/"+this.entrezName)}),n.push({name:"Name",value:this.name}),this.variant_types&&this.variant_types.length>0){var r,o=1===this.variant_types.length?"Type":"Types",i=!0,a=!1,s=e;try{for(var l,c=this.variant_types[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;r?r+=", "+u.display_name:r=u.display_name}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}n.push({name:o,value:r})}return n.push({name:"Actionability",value:this.actionabilityScore}),n.push({name:"Location",value:this.locationString}),n;function p(e,t){return"<a target='_blank' href='"+t+"'>"+e+"</a>"}};var ca=new Set(["bigwig","bw","bigbed","bb","tdf"]),ua=function(t,n){if(this.config=t||{},this.genome=n,this.sourceType=t.sourceType===e?"file":t.sourceType,e===t.filterTypes&&(t.filterTypes=["chromosome","gene"]),t.features&&Array.isArray(t.features)){var r=t.features;pa(r),t.mappings&&function(e,t){var n=Object.keys(t);e.forEach(function(e){n.forEach(function(n){e[n]=e[t[n]]})})}(r,t.mappings),this.featureCache=new Vi(r,n),this.static=!0}else"ga4gh"===t.sourceType?(this.reader=new aa(t,n),this.queryable=!0):"immvar"===t.sourceType?(this.reader=new ra(t),this.queryable=!0):"eqtl"===t.type&&"gtex-ws"===t.sourceType?(this.reader=new na(t),this.queryable=!0):"ucscservice"===t.sourceType?(this.reader=new Wi(t.source),this.queryable=!0):"custom"===t.sourceType||t.source!==e?(this.reader=new qi(t.source),this.queryable=t.source.queryable===e||t.source.queryable):"civic-ws"===t.sourceType?(this.reader=new sa(t),this.queryable=!1):(this.reader=new zi(t,n),t.queryable!==e?this.queryable=t.queryable:ca.has(t.format)&&(this.queryable=ca.has(t.format)||this.reader.indexed));this.supportsWG=!this.queryable};function pa(t,n){if(n=n||1e3,null!=t&&0!==t.length){var r={},o=[];t.forEach(function(e){var t=e.chr,n=r[t];n||(n=[],r[t]=n,o.push(t)),n.push(e)}),o.forEach(function(t){!function(t,n){var r=[];t.sort(function(e,t){return e.start-t.start}),r.push(-1e3);var o=!0,i=!1,a=e;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=0,p=Math.min(r.length,n);for(u=0;u<p;u++)if(c.start>r[u]){c.row=u,r[u]=c.end;break}c.row=u,r[u]=c.end}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}(r[t],n)})}}ua.prototype.supportsWholeGenome=function(){return this.supportsWG},ua.prototype.getFileHeader=N(t.mark(function e(){var n,r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=10;break}if(!this.reader||"function"!=typeof this.reader.readHeader){e.next=9;break}return e.next=4,this.reader.readHeader();case 4:(n=e.sent)&&(this.header=n,(r=n.features)&&this.ingestFeatures(r),n.format&&(this.config.format=n.format)),this.header=n,e.next=10;break;case 9:this.header={};case 10:return e.abrupt("return",this.header);case 11:case"end":return e.stop()}},e,this)})),ua.prototype.getFeatures=function(){var n=N(t.mark(function n(r,o,i,a,s){var l,c,u,p,h,d,f;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return f=function(){return(f=N(t.mark(function n(){var a,c,p,h,d;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(p=new sr(u,a=o,c=i),!this.featureCache||!this.static&&!this.featureCache.containsRange(p)&&"all"!==r.toLowerCase()){t.next=7;break}return t.abrupt("return",this.featureCache);case 7:return e!==s&&(s<=0?(a=0,c=Number.MAX_VALUE):s>i-o&&(h=Math.min(4.1*(i-o),s),a=Math.max(0,(o+i-h)/2),c=o+h)),p=new sr(u,a,c),t.next=11,l.readFeatures(u,p.start,p.end);case 11:return d=t.sent,this.queryable===e&&(this.queryable=l.indexed),d?this.ingestFeatures(d,p):this.featureCache=new Vi,t.abrupt("return",this.featureCache);case 15:case"end":return t.stop()}},n,this)}))).apply(this,arguments)},d=function(){return f.apply(this,arguments)},l=this.reader,c=this.genome,u=c?c.getChromosomeName(r):r,n.next=7,d.call(this);case 7:if(p=n.sent,h=this.queryable,"all"!==r.toLowerCase()){n.next=22;break}if(!h){n.next=14;break}return n.abrupt("return",[]);case 14:if(!(p.count>5e5)){n.next=19;break}return this.supportsWG=!1,n.abrupt("return",[]);case 19:return n.abrupt("return",this.getWGFeatures(p.getAllFeatures()));case 20:n.next=23;break;case 22:return n.abrupt("return",p.queryFeatures(u,o,i));case 23:case"end":return n.stop()}},n,this)}));return function(e,t,r,o,i){return n.apply(this,arguments)}}(),ua.prototype.ingestFeatures=function(e,t){"gtf"!==this.config.format&&"gff3"!==this.config.format&&"gff"!==this.config.format||(e=new Zi(this.config).combineFeatures(e)),"wig"!==this.config.format&&pa(e,this.config.maxRows||500),this.featureCache=this.queryable?new Vi(e,this.genome,t):new Vi(e,this.genome),this.config.searchable&&function(e){var t=this;e.forEach(function(e){e.name&&(t.config.browser.featureDB[e.name.toUpperCase()]=e)})}.call(this,e)},ua.prototype.getWGFeatures=function(t){var n=this.genome,r=new Set(n.wgChromosomeNames),o=[],i=!0,a=!1,s=e;try{for(var l,c=n.wgChromosomeNames[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=t[l.value];if(u){var p=!0,h=!1,d=e;try{for(var f,m=u[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value,g=n.getChromosomeName(y.chr);if(r.has(g)){var v=Object.create(Object.getPrototypeOf(y));Object.assign(v,y),v.realChr=y.chr,v.realStart=y.start,v.realEnd=y.end,v.chr="all",v.start=n.getGenomeCoordinate(y.chr,y.start),v.end=n.getGenomeCoordinate(y.chr,y.end),v.exons&&delete v.exons,v.popupData=function(e){var t=Object.assign({},this);return t.chr=this.realChr,t.start=this.realStart,t.end=this.realEnd,delete t.realChr,delete t.realStart,delete t.realEnd,wi.extractPopupData(t,n.id)},o.push(v)}}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return o.sort(function(e,t){return e.start-t.start}),o};var ha=function(e,t,n){this.path=e.url,this.bufferSize=n||512e3,this.range={start:-1,size:-1},this.config=e};ha.prototype.dataViewForRange=function(e,t){var n,r,o=this;return o.data&&o.range.start<=e.start&&o.range.start+o.range.size>=e.start+e.size?Promise.resolve(i(o,e,t)):(n=e.size?Math.max(o.bufferSize,e.size):o.bufferSize,r={start:e.start,size:n},Dr.loadArrayBuffer(o.path,Zn(o.config,{range:r})).then(function(n){return o.data=n,o.range=r,i(o,e,t)}));function i(e,t,n){var r=e.data.byteLength,o=t.start-e.range.start;return n?new Uint8Array(e.data,o,r-o):new DataView(e.data,o,r-o)}};var da=64,fa=function(e,t){this.path=e.url,this.genome=t,this.rpTreeCache={},this.config=e};function ma(e,t){this.index=e,this.reductionLevel=t.getInt(),this.reserved=t.getInt(),this.dataOffset=t.getLong(),this.indexOffset=t.getLong()}function ya(e,t,n){this.config=t,this.fileOffset=e,this.path=t.url,this.littleEndian=n}function ga(e){this.items=e;var t,n,r=Number.MAX_VALUE,o=0,i=Number.MAX_VALUE,a=0;for(t=0;t<e.length;t++)n=e[t],r=Math.min(r,n.startChrom),o=Math.max(o,n.endChrom),i=Math.min(i,n.startBase),a=Math.max(a,n.endBase);this.startChrom=r,this.endChrom=o,this.startBase=i,this.endBase=a}function va(e,t,n){var r=e.getInt(),o=e.getInt(),i=e.getInt(),a=e.getInt(),s=e.getLong(),l=e.getLong(),c={},u=[];this.header={magic:r,blockSize:o,keySize:i,valSize:a,itemCount:s,reserved:l},this.chromToID=c,this.idToChrom=u,function e(r,o){o>=0&&(r.position=o);var a,s,l,p,h,d=r.getByte(),f=(r.getByte(),r.getUShort());if(1===d)for(a=0;a<f;a++)s=r.getFixedLengthTrimmedString(i),l=r.getInt(),r.getInt(),n&&(s=n.getChromosomeName(s)),c[s]=l,u[l]=s;else for(a=0;a<f;a++)s=r.getFixedLengthTrimmedString(i),p=r.getLong()-t,h=r.position,e(r,p),r.position=h}(e,-1)}function ba(e,t,n,r,o){return!!e&&(r>e.startChrom||r===e.startChrom&&o>=e.startBase)&&(t<e.endChrom||t===e.endChrom&&n<=e.endBase)}function Sa(e){e?(this.basesCovered=e.getLong(),this.minVal=e.getDouble(),this.maxVal=e.getDouble(),this.sumData=e.getDouble(),this.sumSquares=e.getDouble(),function(){var e=this.basesCovered;if(e>0){this.mean=this.sumData/e,this.stddev=Math.sqrt(this.sumSquares/(e-1));var t=this.minVal<0?this.mean-2*this.stddev:0,n=this.maxVal>0?this.mean+2*this.stddev:0;this.defaultRange={min:t,max:n}}}.call(this)):(this.basesCovered=0,this.minVal=0,this.maxVal=0,this.sumData=0,this.sumSquares=0,this.mean=0,this.stddev=0)}function wa(e,t,n,r,o,i,a){var s,l,c=new Ii(e),u=c.getInt(),p=c.getInt(),h=c.getInt(),d=c.getInt(),f=c.getInt(),m=c.getByte(),y=(c.getByte(),c.getUShort());if(u>=t&&u<=r)for(;y-- >0;){switch(m){case 1:p=c.getInt(),h=c.getInt(),s=c.getFloat();break;case 2:p=c.getInt(),s=c.getFloat(),h=p+f;break;case 3:s=c.getFloat(),h=p+f,p+=d}if(!(u<t||u===t&&h<n)){if(u>r||u===r&&p>=o)break;Number.isFinite(s)&&(l=a[u],i.push({chr:l,start:p,end:h,value:s}))}}}function Ca(e,t,n,r,o,i,a){for(var s,l,c,u,p,h,d,f,m,y,g,v,b,S=new Ii(e);S.remLength()>=13;)if(b=a[s=S.getInt()],l=S.getInt(),c=S.getInt(),u=S.getString(),!(s<t||s===t&&c<n)){if(s>r||s===r&&l>=o)break;if(h={chr:b,start:l,end:c},i.push(h),(p=u.split("\t")).length>0&&(h.name=p[0]),p.length>1&&(h.score=parseFloat(p[1])),p.length>2&&(h.strand=p[2]),p.length>3&&(h.cdStart=parseInt(p[3])),p.length>4&&(h.cdEnd=parseInt(p[4])),p.length>5&&"."!==p[5]&&"0"!==p[5]&&(h.color=Bn.createColorString(p[5])),p.length>8){d=parseInt(p[6]),f=p[7].split(","),m=p[8].split(","),y=[];for(var w=0;w<d;w++)v=(g=l+parseInt(m[w]))+parseInt(f[w]),y.push({start:g,end:v});h.exons=y}}}function _a(e,t,n,r,o,i,a,s){for(var l,c,u,p,h,d,f,m,y,g=new Ii(e);g.remLength()>=32;){switch(y=a[l=g.getInt()],c=g.getInt(),u=g.getInt(),p=g.getInt(),h=g.getFloat(),d=g.getFloat(),f=g.getFloat(),g.getFloat(),s){case"min":m=h;break;case"max":m=d;break;default:m=0===p?0:f/p}if(!(l<t||l===t&&u<n)){if(l>r||l===r&&c>=o)break;Number.isFinite(m)&&i.push({chr:y,start:c,end:u,value:m})}}}fa.prototype.readWGFeatures=function(e,t){var n=this;return this.genome,n.getZoomHeaders().then(function(r){var o,i,a;return o=n.chromTree.idToChrom.length-1,i=n.chromTree.idToChrom[0],a=n.chromTree.idToChrom[o],n.readFeatures(i,0,a,Number.MAX_VALUE,e,t)})},fa.prototype.readFeatures=function(t,n,r,o,i,a){var s,l,c,u=this;return u.getZoomHeaders().then(function(e){var t,n=function(e,t){var n,r,o=null;for(n=0;n<t.length;n++)if((r=t[n]).reductionLevel<e){o=r;break}return o}(i,e);return n?(t=n.indexOffset,s=_a):(t=u.header.fullIndexOffset,s="BigWig"===u.type?wa:Ca),u.loadRPTree(t)}).then(function(i){return l=u.chromTree.chromToID[t],c=u.chromTree.chromToID[r],l===e||c===e?e:i.findLeafItemsOverlapping(l,n,c,o)}).then(function(t){if(t&&0!==t.length){var r=Number.MAX_VALUE,i=0,p=!0,h=!1,d=e;try{for(var f,m=t[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value;r=Math.min(r,y.dataOffset),i=Math.max(i,y.dataOffset+y.dataSize)}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}var g=i-r;return Dr.loadArrayBuffer(u.config.url,Zn(u.config,{range:{start:r,size:g}})).then(function(i){var p=[],h=new Uint8Array(i),d=!0,f=!1,m=e;try{for(var y,g=t[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value,b=h.subarray(v.dataOffset-r,v.dataOffset+v.dataSize),S=void 0;S=u.header.uncompressBuffSize>0?new ir.Inflate(b).decompress():b,s(new DataView(S.buffer),l,n,c,o,p,u.chromTree.idToChrom,a)}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}return p.sort(function(e,t){return e.start-t.start}),p})}return[]})},fa.prototype.getZoomHeaders=function(){var e=this;return e.zoomLevelHeaders?Promise.resolve(e.zoomLevelHeaders):e.loadHeader().then(function(){return e.zoomLevelHeaders})},fa.prototype.loadHeader=function(){var e=this;return e.header?Promise.resolve(e.header):Dr.loadArrayBuffer(e.path,Zn(e.config,{range:{start:0,size:da}})).then(function(t){var n;e.littleEndian=!0;var r=new Ii(new DataView(t)),o=r.getUInt();if(2291137574===o)e.type="BigWig";else if(2273964779===o)e.type="BigBed";else{e.littleEndian=!1,r.littleEndian=!1,r.position=0;var i=r.getUInt();654085990===i?e.type="BigWig":3958540679===i&&(e.type="BigBed")}return(n={}).bwVersion=r.getUShort(),n.nZoomLevels=r.getUShort(),n.chromTreeOffset=r.getLong(),n.fullDataOffset=r.getLong(),n.fullIndexOffset=r.getLong(),n.fieldCount=r.getUShort(),n.definedFieldCount=r.getUShort(),n.autoSqlOffset=r.getLong(),n.totalSummaryOffset=r.getLong(),n.uncompressBuffSize=r.getInt(),n.reserved=r.getLong(),n}).then(function(t){return e.header=t,function(){var e=this,t=da,n={start:t,size:e.header.fullDataOffset-t+5};return Dr.loadArrayBuffer(e.path,Zn(e.config,{range:n})).then(function(n){var r=e.header.nZoomLevels,o=new Ii(new DataView(n));e.zoomLevelHeaders=[],e.firstZoomDataOffset=Number.MAX_VALUE;for(var i=1;i<=r;i++){var a=r-i,s=new ma(a,o);e.firstZoomDataOffset=Math.min(s.dataOffset,e.firstZoomDataOffset),e.zoomLevelHeaders[a]=s}if(e.header.autoSqlOffset>0&&(o.position=e.header.autoSqlOffset-t,e.autoSql=o.getString()),e.header.totalSummaryOffset>0&&(o.position=e.header.totalSummaryOffset-t,e.totalSummary=new Sa(o)),!(e.header.chromTreeOffset>0))throw"BigWig chromosome tree offset <= 0";return o.position=e.header.chromTreeOffset-t,e.chromTree=new va(o,t,e.genome),o.position=e.header.fullDataOffset-t,e.header.dataCount=o.getInt(),e.header})}.call(e)})},fa.prototype.loadRPTree=function(e){var t=this,n=t.rpTreeCache[e];return n?Promise.resolve(n):(n=new ya(e,t.config,t.littleEndian)).load().then(function(){return t.rpTreeCache[e]=n,n})},ya.prototype.load=function(){var e=this,t=e.fileOffset+48,n=new ha(e.config,512e3);return e.readNode(t,n).then(function(t){return e.rootNode=t,e})},ya.prototype.readNode=function(e,t){var n,r,o=this;return t.dataViewForRange({start:e,size:4},!1).then(function(i){var a,s;s=(a=new Ii(i,o.littleEndian)).getByte(),r=1===s,a.getByte(),n=a.getUShort();var l={start:e+=4,size:n*(r?32:24)};return t.dataViewForRange(l,!1)}).then(function(e){var t,o=new Array(n),i=new Ii(e);if(r){for(t=0;t<n;t++){var a={isLeaf:!0,startChrom:i.getInt(),startBase:i.getInt(),endChrom:i.getInt(),endBase:i.getInt(),dataOffset:i.getLong(),dataSize:i.getLong()};o[t]=a}return new ga(o)}for(t=0;t<n;t++){var s={isLeaf:!1,startChrom:i.getInt(),startBase:i.getInt(),endChrom:i.getInt(),endBase:i.getInt(),childOffset:i.getLong()};o[t]=s}return new ga(o)})},ya.prototype.findLeafItemsOverlapping=function(t,n,r,o){var i=this;return new Promise(function(a,s){var l=[],c=new Set,u=new ha(i.config,512e3);c.add(0),function p(h,d){ba(h,t,n,r,o)&&h.items.forEach(function(e){ba(e,t,n,r,o)&&(e.isLeaf?l.push(e):e.childNode?p(e.childNode):(c.add(e.childOffset),i.readNode(e.childOffset,u).then(function(t){e.childNode=t,p(t,e.childOffset)}).catch(s)))}),d!==e&&c.delete(d),0===c.size&&a(l)}(i.rootNode,0)})};var ka=function(e,t){this.reader=new fa(e,t),this.genome=t,this.wgValues={}};ka.prototype.getFeatures=function(e,t,n,r,o){return"all"===e.toLowerCase()?this.getWGValues(o):this.reader.readFeatures(e,t,e,n,r,o)},ka.prototype.getDefaultRange=function(){return this.reader.totalSummary!==e?this.reader.totalSummary.defaultRange:e},ka.prototype.defaultVisibilityWindow=function(){if("bigwig"===this.reader.type)return Promise.resolve(e);var t=this.genome?this.genome.getGenomeLength():3088286401;return this.reader.loadHeader().then(function(e){return t/e.dataCount*1e3})},ka.prototype.getWGValues=function(e){var t,n=this,r=this.genome;return n.wgValues[e]?Promise.resolve(n.wgValues[e]):(t=r.getGenomeLength()/500,n.reader.readWGFeatures(t,e).then(function(t){var o=[];return t.forEach(function(e){var t,n,i;i=e.chr,n=r.getCumulativeOffset(i),(t=Object.assign({},e)).chr="all",t.start=n+e.start,t.end=n+e.end,o.push(t)}),n.wgValues[e]=o,o}))},ka.prototype.supportsWholeGenome=function(){return!0};var Ta={getTissueInfo:function(e,t){var n=(t=t||"https://gtexportal.org/rest/v1")+"/dataset/tissueInfo?datasetId="+(e=e||"gtex_v8");return Dr.loadJson(n,{})},trackConfiguration:function(e,t){return{type:"eqtl",sourceType:"gtex-ws",url:(t=t||"https://gtexportal.org/rest/v1")+"/association/singleTissueEqtlByLocation",tissueSiteDetailId:e.tissueSiteDetailId,name:e.tissueSiteDetailId.split("_").join(" "),visibilityWindow:25e4}}},xa=Qn(wi,function(t,n){this.type="feature",wi.call(this,t,n),t.maxRows===e&&(t.maxRows=500),this.maxRows=t.maxRows,this.displayMode=t.displayMode||"EXPANDED",this.labelDisplayMode=t.labelDisplayMode;var r=t.format?t.format.toLowerCase():e;this.featureSource="bigwig"===r||"bigbed"===r?new ka(t,n.genome):new ua(t,n.genome),this.autoHeight=t.autoHeight,this.margin=t.margin===e?10:t.margin,this.featureHeight=t.featureHeight||14,"FusionJuncSpan"===t.type?(this.squishedRowHeight=t.squishedRowHeight||50,this.expandedRowHeight=t.expandedRowHeight||50,this.height=t.height||this.margin+2*this.expandedRowHeight):"snp"===t.type?(this.expandedRowHeight=t.expandedRowHeight||10,this.squishedRowHeight=t.squishedRowHeight||5,this.height=t.height||30):(this.squishedRowHeight=t.squishedRowHeight||15,this.expandedRowHeight=t.expandedRowHeight||30,this.height=t.height||this.margin+2*this.expandedRowHeight),t.render?this.render=t.render:"FusionJuncSpan"===t.type?this.render=Oa:"snp"===t.type?(this.render=La,this.snpColors=["rgb(0,0,0)","rgb(0,0,255)","rgb(0,255,0)","rgb(255,0,0)"],this.colorBy="function"):(this.render=Aa,this.arrowSpacing=30,function(e){function t(){e.trackView&&e.trackView.tile&&"SQUISHED"!==e.displayMode&&e.trackView.repaintViews()}e.browser.on&&(e.browser.on("trackdragend",t),e.browser.on("trackremoved",function n(r){e.browser.un&&e===r&&(e.browser.un("trackdrag",t),e.browser.un("trackremoved",n))}))}(this))});function Ea(e,t,n){var r=(e.start-t)/n,o=(e.end-t)/n,i=o-r;return i<3&&(i=3,r-=1.5),{px:r,px1:o,pw:i}}function Aa(t,n,r,o,i,a){var s,l,c=this.browser,u=this.color;if(t.alpha&&1!==t.alpha&&(u=Bn.addAlpha(this.color,t.alpha)),this.config.colorBy){var p=t[this.config.colorBy.field];p&&(u=this.config.colorBy.pallete[p])}else t.color&&(u=t.color);i.fillStyle=u,i.strokeStyle=u,"SQUISHED"===this.displayMode&&t.row!==e?(s=this.featureHeight/2,l=this.margin+this.squishedRowHeight*t.row):"EXPANDED"===this.displayMode&&t.row!==e?(s=this.featureHeight,l=this.margin+this.expandedRowHeight*t.row):(s=this.featureHeight,l=this.margin);var h=l+s/2,d=s/2,f=h-d/2,m=t.exons?t.exons.length:0,y=Ea(t,n,r),g=this.arrowSpacing,v="+"===t.strand?1:"-"===t.strand?-1:0;if(0===m){if(i.fillRect(y.px,l,y.pw,s),0!==v){i.fillStyle="white",i.strokeStyle="white";for(var b=y.px+g/2;b<y.px1;b+=g)Co.strokeLine(i,b-2*v,h-2,b,h),Co.strokeLine(i,b-2*v,h+2,b,h);i.fillStyle=u,i.strokeStyle=u}}else{Co.strokeLine(i,y.px+1,h,y.px1-1,h);for(var S=a.pixelWidth,w=Math.max(0,y.px)+g/2,C=Math.min(S,y.px1),_=w;_<C;_+=g)Co.strokeLine(i,_-2*v,h-2,_,h),Co.strokeLine(i,_-2*v,h+2,_,h);for(var k=0;k<m;k++){var T=t.exons[k],x=Math.round((T.start-n)/r),E=Math.round((T.end-n)/r),A=Math.max(1,E-x),O=void 0;if(!(x+A<0)){if(x>S)break;if(T.utr)i.fillRect(x,f,A,d);else if(T.cdStart&&(O=Math.round((T.cdStart-n)/r),i.fillRect(x,f,O-x,d),A-=O-x,x=O),T.cdEnd&&(O=Math.round((T.cdEnd-n)/r),i.fillRect(O,f,E-O,d),A-=E-O,E=O),i.fillRect(x,l,A,s),A>g+5&&0!==v){i.fillStyle="white",i.strokeStyle="white";for(var P=x+g/2;P<E;P+=g)Co.strokeLine(i,P-2*v,h-2,P,h),Co.strokeLine(i,P-2*v,h+2,P,h);i.fillStyle=u,i.strokeStyle=u}}}}var I=Math.round(a.viewportContainerX),M=c.genomicStateList?c.genomicStateList.length:1,D=I+a.viewportContainerWidth/M;(function(t,n,r,o,i,a,s,l,c){var u,p,h,d,f,m,y;o<a||r>s?(d=r,f=o):(d=Math.max(r,a),f=Math.min(o,s)),l.selection&&Ta.gtexLoaded&&n.name!==e&&(u=l.selection.colorForGene(n.name)),(f-d>t.measureText(n.name).width||u)&&"SQUISHED"!==this.displayMode&&n.name!==e&&(p={textAlign:"center",fillStyle:u||n.color||this.color,strokeStyle:u||n.color||this.color},"COLLAPSED"===this.displayMode&&"SLANT"===this.labelDisplayMode&&(h={rotate:{angle:45}},delete p.textAlign),m=d+(f-d)/2,y=function(e,t){return t?e+20:e+25}(i,h),c.labelTransform?(t.save(),c.labelTransform(t,m),Co.fillText(t,n.name,m,y,p,e),t.restore()):Co.fillText(t,n.name,m,y,p,h))}).call(this,i,t,y.px,y.px1,l,I,D,a.genomicState,a)}function Oa(t,n,r,o,i){var a,s="EXPANDED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;"COLLAPSED"===this.display&&(a=this.margin),"SQUISHED"===this.displayMode&&t.row!==e?a=this.margin+s*t.row:"EXPANDED"===this.displayMode&&t.row!==e&&(a=this.margin+s*t.row);var l=a+.5*s,c=l-.5*s,u=l+.5*s,p=Math.round((t.junction_left-n)/r),h=Math.round((t.junction_right-n)/r);i.beginPath(),i.moveTo(p,l),i.bezierCurveTo(p,c,h,c,h,l),i.lineWidth=1+Math.log(t.num_junction_reads)/Math.log(2),i.strokeStyle="blue",i.stroke();for(var d=t.spanning_frag_coords,f=0;f<d.length;f++){var m=d[f],y=Math.round((m.left-n)/r),g=Math.round((m.right-n)/r);i.beginPath(),i.moveTo(y,l),i.bezierCurveTo(y,u,g,u,g,l),i.lineWidth=1,i.strokeStyle="purple",i.stroke()}}xa.prototype.postInit=N(t.mark(function n(){var r,o;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readFileHeader();case 2:if((r=t.sent)&&this.setTrackProperties(r),!(o=this.config.format)||"bigbed"!==o.toLowerCase()||this.visibilityWindow!==e||"function"!=typeof this.featureSource.defaultVisibilityWindow){t.next=10;break}return t.next=8,this.featureSource.defaultVisibilityWindow();case 8:this.visibilityWindow=t.sent,this.featureSource.visibilityWindow=this.visibilityWindow;case 10:return t.abrupt("return",this);case 11:case"end":return t.stop()}},n,this)})),xa.prototype.supportsWholeGenome=function(){return!1===this.config.indexed&&!1!==this.config.supportsWholeGenome},xa.prototype.readFileHeader=N(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}},e,this)})),xa.prototype.getFeatures=function(){var e=N(t.mark(function e(n,r,o,i){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(n,r,o,i,this.visibilityWindow));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),xa.prototype.computePixelHeight=function(e){if("COLLAPSED"===this.displayMode)return this.margin+this.expandedRowHeight;var t=0;return e&&"function"==typeof e.forEach&&e.forEach(function(e){e.row&&e.row>t&&(t=e.row)}),this.margin+(t+1)*("SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight)},xa.prototype.draw=function(t){var n=t.features,r=t.context,o=t.bpPerPixel,i=t.bpStart,a=t.pixelWidth,s=t.pixelHeight,l=i+a*o+1;if(Co.fillRect(r,0,t.pixelTop,a,s,{fillStyle:"rgb(255, 255, 255)"}),n){var c=[],u=!0,p=!1,h=e;try{for(var d,f=n[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var m=d.value;if(!(m.end<i)){if(m.start>l)break;var y="COLLAPSED"===this.displayMode?0:m.row,g=Math.ceil((m.end-i)/o),v=c[y];if(!v||g>v){this.render.call(this,m,i,o,s,r,t);var b=Math.floor((m.start-i)/o);v&&b-v<=0&&(r.globalAlpha=.5,Co.strokeLine(r,b,0,b,s,{strokeStyle:"rgb(255, 255, 255)"}),r.globalAlpha=1),c[y]=g}}}}catch(e){p=!0,h=e}finally{try{u||null==f.return||f.return()}finally{if(p)throw h}}}},xa.prototype.clickedFeatures=function(t){var n,r=t.y-this.margin,o=wi.prototype.clickedFeatures.call(this,t);switch(this.displayMode){case"SQUISHED":n=Math.floor(r/this.squishedRowHeight);break;case"EXPANDED":n=Math.floor(r/this.expandedRowHeight);break;default:n=e}return o.filter(function(t){return n===e||t.row===e||n===t.row})},xa.prototype.popupData=function(t,n){n||(n=this.clickedFeatures(t));var r=t.genomicLocation,o=[],i=!0,a=!1,s=e;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,p="function"==typeof u.popupData?u.popupData(r):wi.extractPopupData(u,this.getGenomeId());p&&(o.length>0&&o.push("<HR>"),Array.prototype.push.apply(o,p))}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return o},xa.prototype.menuItemList=function(){var e=this,t=[];return this.render===La&&(["function","class"].forEach(function(n){t.push({object:xn("Color by "+n,n===e.colorBy),click:function(){e.colorBy=n,e.trackView.repaintViews()}})}),t.push({object:fn('<div class="igv-track-menu-border-top">')})),t.push({object:fn('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach(function(n){t.push({object:xn({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.config.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t},xa.prototype.description=function(){if(La===this.render){var e="<html>"+this.name+"<hr>";return e+="<em>Color By Function:</em><br>",e+='<span style="color:red">Red</span>: Coding-Non-Synonymous, Splice Site<br>',e+='<span style="color:green">Green</span>: Coding-Synonymous<br>',e+='<span style="color:blue">Blue</span>: Untranslated<br>',e+='<span style="color:black">Black</span>: Intron, Locus, Unknown<br><br>',e+="<em>Color By Class:</em><br>",e+='<span style="color:red">Red</span>: Deletion<br>',e+='<span style="color:green">Green</span>: MNP<br>',e+='<span style="color:blue">Blue</span>: Microsatellite, Named<br>',(e+='<span style="color:black">Black</span>: Indel, Insertion, SNP')+"</html>"}return this.name},xa.prototype.dispose=function(){this.trackView=e};var Pa=new Set(["nonsense","missense","stop-loss","frameshift","cds-indel"]),Ia=new Set(["coding-synon"]),Ma=new Set(["splice-3","splice-5"]),Da=new Set(["untranslated-5","untranslated-3"]);function La(e,t,n,r,o){var i,a,s,l=Ea(e,t,n),c=this.margin,u=this.snpColors.length;switch(i="squished"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight,this.colorBy){case"function":a=e.func.split(",").map(function(e){return Pa.has(e)||Ma.has(e)?u-1:Ia.has(e)?u-2:Da.has(e)?u-3:0}).reduce(function(e,t){return Math.max(e,t)});break;case"class":a="deletion"===(s=e.class)?u-1:"mnp"===s?u-2:"microsatellite"===s||"named"===s?u-3:0}o.fillStyle=this.snpColors[a],o.fillRect(l.px,c,l.pw,i)}var Na=function(e,t){this.type="sequence",this.browser=t,this.removable=!1,this.config=e,this.name="",this.id="sequence",this.sequenceType=e.sequenceType||"dna",this.height=25,this.disableButtons=!1,this.order=e.order||-Number.MAX_VALUE,this.ignoreTrackMenu=!1,this.removable=!1,this.reversed=!1,this.frameTranslate=!1,this.complement={A:"T",C:"G",G:"C",T:"A"},this.translationDict={TTT:"F",TTC:"F",TTA:"L",TTG:"L",CTT:"L",CTC:"L",CTA:"L",CTG:"L",ATT:"I",ATC:"I",ATA:"I",ATG:"M",GTT:"V",GTC:"V",GTA:"V",GTG:"V",TCT:"S",TCC:"S",TCA:"S",TCG:"S",CCT:"P",CCC:"P",CCA:"P",CCG:"P",ACT:"T",ACC:"T",ACA:"T",ACG:"T",GCT:"A",GCC:"A",GCA:"A",GCG:"A",TAT:"Y",TAC:"Y",TAA:"STOP",TAG:"STOP",CAT:"H",CAC:"H",CAA:"Q",CAG:"Q",AAT:"N",AAC:"N",AAA:"K",AAG:"K",GAT:"D",GAC:"D",GAA:"E",GAG:"E",TGT:"C",TGC:"C",TGA:"STOP",TGG:"W",CGT:"R",CGC:"R",CGA:"R",CGG:"R",AGT:"S",AGC:"S",AGA:"R",AGG:"R",GGT:"G",GGC:"G",GGA:"G",GGG:"G"}};function Ra(e){return this.color?this.color:"dna"===this.sequenceType?Mn[e]||"gray":"rgb(0, 0, 150)"}Na.prototype.menuItemList=function(){var e=this;return[{name:e.reversed?"Forward":"Reverse",click:function(){e.reversed=!e.reversed,e.trackView.repaintViews()}},{name:e.frameTranslate?"Close Translation":"Three-frame Translate",click:function(){e.frameTranslate=!e.frameTranslate,e.frameTranslate?(e.trackView.viewports.forEach(function(e){e.setContentHeight(115)}),e.trackView.setTrackHeight(115)):(e.trackView.viewports.forEach(function(e){e.setContentHeight(25)}),e.trackView.setTrackHeight(25)),e.trackView.repaintViews()}}]},Na.prototype.translateSequence=function(e){var t=[[],[],[]],n=this;return[0,1,2].forEach(function(r){for(var o,i,a=r;e.length-a>=3;)o={},i=e.slice(a,a+3),n.reversed&&(i=i.split("").reverse().join("")),o.codons=i,o.aminoA=n.translationDict[i.toUpperCase()],t[r].push(o),o=null,a+=3}),t},Na.prototype.getFeatures=function(e,t,n,r){var o=this.browser;return r&&r>1?Promise.resolve(null):o.genome.sequence.getSequence(e,t,n).then(function(e){return{bpStart:t,sequence:e}})},Na.prototype.draw=function(t){var n=this,r=t.context;if(t.features){for(var o=t.features.sequence,i=t.features.bpStart,a=1+t.bpStart+t.pixelWidth*t.bpPerPixel,s=i;s<=a;s++){var l=Math.floor(s-i);if(l<o.length){var c=o[l];this.reversed&&(c=this.complement[c.toUpperCase()]);var u=s-t.bpStart,p=u/t.bpPerPixel,h=(u+1)/t.bpPerPixel,d=Ra.call(this,c);if(t.bpPerPixel>.1)Co.fillRect(r,p,5,h-p,10,{fillStyle:d});else{var f=.5*(p+h-r.measureText(c).width);Co.strokeText(r,c,f,15,{strokeStyle:d})}}}if(this.frameTranslate){var m;m=this.reversed?(m=o.split("").map(function(e){return n.complement[e]})).join(""):o;var y=15,g=this.translateSequence(m),v=!0,b=!1,S=e;try{for(var w,C=g[Symbol.iterator]();!(v=(w=C.next()).done);v=!0){var _=w.value,k=g.indexOf(_),T=k;y=0===k?y+10:y+30;var x=!0,E=!1,A=e;try{for(var O,P=_[Symbol.iterator]();!(x=(O=P.next()).done);x=!0){var I=O.value,M=void 0,D=_.indexOf(I),L=D+T+2*D,N=0==D%2?"rgb(160,160,160)":"rgb(224,224,224)",R=Math.floor(L/t.bpPerPixel),j=Math.floor((L+3)/t.bpPerPixel),F=Math.round((R+j)/2);I.aminoA.indexOf("STOP")>-1?(N="rgb(255, 0, 0)",M="STOP"):M=I.aminoA,"M"===I.aminoA&&(N="rgb(0, 153, 0)",M="START"),Co.fillRect(r,R,y,j-R,25,{fillStyle:N}),t.bpPerPixel<=.1&&Co.strokeText(r,M,F-r.measureText(M).width/2,y+15)}}catch(e){E=!0,A=e}finally{try{x||null==P.return||P.return()}finally{if(E)throw A}}}}catch(e){b=!0,S=e}finally{try{v||null==C.return||C.return()}finally{if(b)throw S}}}}},Na.prototype.supportsWholeGenome=function(){return!1},Na.prototype.computePixelHeight=function(e){return this.height};var ja=function(e,t){this.config=e,this.genome=t,this.path=e.url,this.groupCache={},this.datasetCache={}};function Fa(e,t){for(var n=e.getInt(),r=e.getInt(),o=e.getFloat(),i=[],a=t;a-- >0;){for(var s=n,l=[];s-- >0;)l.push(e.getFloat());i.push(l)}return{type:"fixedStep",start:r,span:o,data:i,nTracks:t,nPositions:n}}function Ga(e,t){for(var n=e.getInt(),r=e.getFloat(),o=e.getInt(),i=[],a=o;a-- >0;)i.push(e.getInt());e.getInt();for(var s=[],l=t;l-- >0;){a=o;for(var c=[];a-- >0;)c.push(e.getFloat());s.push(c)}return{type:"variableStep",tileStart:n,span:r,start:i,data:s,nTracks:t,nPositions:o}}function Ba(e,t,n){for(var r=e.getInt(),o=r,i=[];o-- >0;)i.push(e.getInt());o=r;for(var a=[];o-- >0;)a.push(e.getInt());e.getInt();for(var s=[],l=t;l-- >0;){for(var c=r,u=[];c-- >0;)u.push(e.getFloat());s.push(u)}if("bedWithName"===n){o=r;for(var p=[];o-- >0;)p.push(e.getString())}return{type:n,start:i,end:a,data:s,name:name,nTracks:t,nPositions:r}}ja.prototype.readHeader=N(t.mark(function n(){var r,o,i,a,s,l,c,u,p,h,d;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.magic===e){t.next=2;break}return t.abrupt("return",this);case 2:return t.next=4,Dr.loadArrayBuffer(this.path,Zn(this.config,{range:{start:0,size:64e3}}));case 4:if(r=t.sent,o=new Ii(new DataView(r)),this.magic=o.getInt(),this.version=o.getInt(),this.indexPos=o.getLong(),this.indexSize=o.getInt(),o.getInt(),this.version>=2)for(i=o.getInt(),this.windowFunctions=[];i-- >0;)this.windowFunctions.push(o.getString());for(this.trackType=o.getString(),this.trackLine=o.getString(),a=o.getInt(),this.trackNames=[];a-- >0;)this.trackNames.push(o.getString());return this.genomeID=o.getString(),this.flags=o.getInt(),this.compressed=0!=(1&this.flags),t.next=22,Dr.loadArrayBuffer(this.path,Zn(this.config,{range:{start:this.indexPos,size:this.indexSize}}));case 22:for(r=t.sent,o=new Ii(new DataView(r)),this.datasetIndex={},s=o.getInt();s-- >0;)l=o.getString(),c=o.getLong(),u=o.getInt(),this.datasetIndex[l]={position:c,size:u};for(this.groupIndex={},s=o.getInt();s-- >0;)p=o.getString(),h=o.getLong(),d=o.getInt(),this.groupIndex[p]={position:h,size:d};return t.abrupt("return",this);case 31:case"end":return t.stop()}},n,this)})),ja.prototype.readDataset=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g,v,b;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r+"_"+o+"_"+i,!this.datasetCache[a]){t.next=5;break}return t.abrupt("return",this.datasetCache[a]);case 5:return t.next=7,this.readHeader();case 7:if(s=this.version<2?"":"/"+o,l="all"===r.toLowerCase()||i===e?"0":i.toString(),c="raw"===o?"/"+r+"/raw":"/"+r+"/z"+l+s,(u=this.datasetIndex[c])!==e){t.next=13;break}return t.abrupt("return",e);case 13:return t.next=15,Dr.loadArrayBuffer(this.path,Zn(this.config,{range:{start:u.position,size:u.size}}));case 15:if(p=t.sent){t.next=18;break}return t.abrupt("return",e);case 18:for(h=new Ii(new DataView(p)),d=h.getInt(),f={};d-- >0;)f[h.getString()]=h.getString();for(m=h.getString(),y=h.getFloat(),g=h.getInt(),v=[];g-- >0;)v.push({position:h.getLong(),size:h.getInt()});return b={name:c,attributes:f,dataType:m,tileWidth:y,tiles:v},this.datasetCache[a]=b,t.abrupt("return",b);case 30:case"end":return t.stop()}},n,this)}));return function(e,t,r){return n.apply(this,arguments)}}(),ja.prototype.readRootGroup=N(t.mark(function e(){var n,r,o,i,a,s;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.genome,!(r=this.groupCache["/"])){e.next=6;break}return e.abrupt("return",r);case 6:return e.next=8,this.readGroup("/");case 8:return o=e.sent,i=o.chromosomes,(a=o.maxZoom)&&(this.maxZoom=Number(a)),s={},i&&i.split(",").forEach(function(e){var t=n.getChromosomeName(e);s[t]=e}),this.chrAliasTable=s,this.groupCache["/"]=o,e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)})),ja.prototype.readGroup=function(){var n=N(t.mark(function n(r){var o,i,a,s,l,c,u,p;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=this.groupCache[r])){t.next=5;break}return t.abrupt("return",o);case 5:return t.next=7,this.readHeader();case 7:if((i=this.groupIndex[r])!==e){t.next=10;break}return t.abrupt("return",e);case 10:return t.next=12,Dr.loadArrayBuffer(this.path,Zn(this.config,{range:{start:i.position,size:i.size}}));case 12:if(a=t.sent){t.next=15;break}return t.abrupt("return",e);case 15:for(s=new Ii(new DataView(a)),l={name:r},c=s.getInt();c-- >0;)u=s.getString(),p=s.getString(),l[u]=p;return this.groupCache[r]=l,t.abrupt("return",l);case 21:case"end":return t.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),ja.prototype.readTiles=function(){var n=N(t.mark(function n(r,o){var i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.sort(function(e,t){return e.position-t.position}),0!==(r=r.filter(function(e){return e.size>0})).length){t.next=4;break}return t.abrupt("return",Promise.resolve([]));case 4:return i=r[0],a=r[r.length-1],s=i.position,l=a.position+a.size-s,t.next=10,Dr.loadArrayBuffer(this.path,Zn(this.config,{range:{start:s,size:l}}));case 10:c=t.sent,u=[],p=!0,h=!1,d=e,t.prev=15,f=r[Symbol.iterator]();case 17:if(p=(m=f.next()).done){t.next=41;break}if(y=m.value,g=y.position-s,!((v=y.size)>0)){t.next=38;break}b=void 0,this.compressed?(S=new ir.Inflate(new Uint8Array(c,g,v)),w=S.decompress(),b=w.buffer):b=c.slice(g,g+v),C=new Ii(new DataView(b)),_=C.getString(),k=void 0,t.t0=_,t.next="fixedStep"===t.t0?30:"variableStep"===t.t0?32:"bed"===t.t0?34:"bedWithName"===t.t0?34:36;break;case 30:return k=Fa(C,o),t.abrupt("break",37);case 32:return k=Ga(C,o),t.abrupt("break",37);case 34:return k=Ba(C,o,_),t.abrupt("break",37);case 36:throw"Unknown tile type: "+_;case 37:u.push(k);case 38:p=!0,t.next=17;break;case 41:t.next=47;break;case 43:t.prev=43,t.t1=t.catch(15),h=!0,d=t.t1;case 47:t.prev=47,t.prev=48,p||null==f.return||f.return();case 50:if(t.prev=50,!h){t.next=53;break}throw d;case 53:return t.finish(50);case 54:return t.finish(47);case 55:return t.abrupt("return",u);case 56:case"end":return t.stop()}},n,this,[[15,43,47,55],[48,,50,54]])}));return function(e,t){return n.apply(this,arguments)}}(),ja.prototype.readTile=function(){var e=N(t.mark(function e(n,r){var o,i,a,s,l;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.loadArrayBuffer(this.path,Zn(this.config,{range:{start:n.position,size:n.size}}));case 2:o=e.sent,this.compressed&&(i=new ir.Inflate(new Uint8Array(o)),a=i.decompress(),o=a.buffer),s=new Ii(new DataView(o)),l=s.getString(),e.t0=l,e.next="fixedStep"===e.t0?9:"variableStep"===e.t0?10:"bed"===e.t0?11:"bedWithName"===e.t0?11:12;break;case 9:return e.abrupt("return",Fa(s,r));case 10:return e.abrupt("return",Ga(s,r));case 11:return e.abrupt("return",Ba(s,r,l));case 12:throw"Unknown tile type: "+l;case 13:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();var za=function(e,t){this.genome=t,this.windowFunction=e.windowFunction||"mean",this.reader=new ja(e,t)};function Va(e,t,n,r,o,i){for(var a=e.nPositions,s=e.start,l=e.end,c=e.data[0],u=0;u<a;u++){var p=s[u],h=l[u];if(!(h<n)){if(p>r)break;i.push({chr:t,start:p,end:h,value:c[u]})}}}function Ha(e,t,n,r,o,i){for(var a=e.nPositions,s=e.start,l=e.span,c=e.data[0],u=0;u<a;u++){var p=s[u],h=p+l;if(!(h<n)){if(p>r)break;i.push({chr:t,start:p,end:h,value:c[u]})}}}function Ua(e,t,n,r,o,i){for(var a=e.nPositions,s=e.start,l=e.span,c=e.data[0],u=0;u<a;u++){var p=s+l;if(s>r)break;p>=n&&(Number.isNaN(c[u])||i.push({chr:t,start:s,end:p,value:c[u]})),s=p}}za.prototype.getFeatures=function(){var n=N(t.mark(function n(r,o,i,a){var s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return x=function(){return(x=N(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rootGroup){e.next=4;break}return e.abrupt("return",this.rootGroup);case 4:return e.next=6,this.reader.readRootGroup();case 6:return this.rootGroup=e.sent,e.abrupt("return",this.rootGroup);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},T=function(){return x.apply(this,arguments)},n.next=4,T.call(this);case 4:if(s=new sr(r,o,i),l=this.genome,"all"!==r.toLowerCase()){n.next=8;break}return n.abrupt("return",[]);case 8:return s.bpPerPixel=a,n.next=11,T.call(this);case 11:return n.sent,c=Wa(r,a,l),u=this.reader.chrAliasTable[r],p=this.reader.maxZoom,u===e&&(u=r),p===e&&(p=-1),h=c>p?"raw":this.windowFunction,n.next=20,this.reader.readDataset(u,h,c);case 20:if(null!=(d=n.sent)){n.next=23;break}return n.abrupt("return",[]);case 23:return f=d.tileWidth,m=Math.floor(o/f),y=Math.floor(i/f),n.next=29,this.reader.readTiles(d.tiles.slice(m,y+1),1);case 29:g=n.sent,v=[],b=!0,S=!1,w=e,n.prev=34,C=g[Symbol.iterator]();case 36:if(b=(_=C.next()).done){n.next=51;break}k=_.value,n.t0=k.type,n.next="bed"===n.t0?41:"variableStep"===n.t0?43:"fixedStep"===n.t0?45:47;break;case 41:return Va(k,r,o,i,0,v),n.abrupt("break",48);case 43:return Ha(k,r,o,i,0,v),n.abrupt("break",48);case 45:return Ua(k,r,o,i,0,v),n.abrupt("break",48);case 47:throw"Unknown tile type: "+k.type;case 48:b=!0,n.next=36;break;case 51:n.next=57;break;case 53:n.prev=53,n.t1=n.catch(34),S=!0,w=n.t1;case 57:n.prev=57,n.prev=58,b||null==C.return||C.return();case 60:if(n.prev=60,!S){n.next=63;break}throw w;case 63:return n.finish(60);case 64:return n.finish(57);case 65:return v.sort(function(e,t){return e.start-t.start}),n.abrupt("return",v);case 67:case"end":return n.stop()}},n,this,[[34,53,57,65],[58,,60,64]])}));return function(e,t,r,o){return n.apply(this,arguments)}}(),za.prototype.supportsWholeGenome=function(){return!1};var qa=Math.log(2);function Wa(e,t,n){var r=n.getChromosome(e).bpLength;return Math.ceil(Math.log(Math.max(0,r/(700*t)))/qa)}function Ka(t,n,r){var o,i,a,s,l,c,u,p={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};function h(e){return 0===e?"0":Math.abs(e)>=10?e.toFixed():Math.abs(e)>=1?e.toFixed(1):e.toFixed(2)}e!==this.dataRange&&e!==this.dataRange.max&&e!==this.dataRange.min&&(Co.fillRect(t,0,0,n,r,{fillStyle:"rgb(255, 255, 255)"}),o=(u=.95*n)-8,l={x:i=u,y:a=s=.01*r},Co.strokeLine(t,o,a,i,s,p),Co.fillText(t,h(this.dataRange.max),o+4,a+12,p),c={x:i,y:a=s=.99*r},Co.strokeLine(t,o,a,i,s,p),Co.fillText(t,h(this.dataRange.min),o+4,a-4,p),Co.strokeLine(t,l.x,l.y,c.x,c.y,p))}var $a=kn.dataRangeMenuItem,Ya=Qn(wi,function(t,n){this.type="wig",this.featureType="numeric",t.color===e&&(t.color="rgb(150,150,150)"),t.height===e&&(t.height=50),wi.call(this,t,n);var r=t.format?t.format.toLowerCase():t.format;this.featureSource="bigwig"===r?new ka(t,n.genome):"tdf"===r?new za(t,n.genome):new ua(t,n.genome),this.autoscale=t.autoscale||t.max===e,this.autoscale||(this.dataRange={min:t.min||0,max:t.max}),this.windowFunction=t.windowFunction||"mean",this.paintAxis=Ka,this.graphType=t.graphType||"bar"});function Qa(e){this.thresholds=e.thresholds,this.colors=e.colors}function Xa(e){this.scale=e,this.lowColor="rgb("+e.lowR+","+e.lowG+","+e.lowB+")",this.highColor="rgb("+e.highR+","+e.highG+","+e.highB+")",this.diff=e.high-e.low}Ya.prototype.postInit=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHeader();case 2:(n=e.sent)&&this.setTrackProperties(n);case 4:case"end":return e.stop()}},e,this)})),Ya.prototype.getFeatures=function(){var e=N(t.mark(function e(n,r,o,i){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.featureSource.getFeatures(n,r,o,i,this.windowFunction));case 1:case"end":return e.stop()}},e,this)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),Ya.prototype.menuItemList=function(){var t=this,n=[];return n.push($a(this.trackView)),n.push({object:xn("Autoscale",t.autoscale),click:function(){t.autoscale=!t.autoscale,t.config.autoscale=t.autoscale,t.trackView.setDataRange(e,e,t.autoscale)}}),n},Ya.prototype.getFileHeader=N(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof this.featureSource.getFileHeader){e.next=4;break}return e.next=3,this.featureSource.getFileHeader();case 3:this.header=e.sent;case 4:return e.abrupt("return",this.header);case 5:case"end":return e.stop()}},e,this)})),Ya.prototype.draw=function(t){var n,r=this,o=t.features,i=t.context,a=t.bpPerPixel,s=t.bpStart,l=t.pixelWidth,c=t.pixelHeight,u=s+l*a+1,p=-1,h=-1,d=1;if("string"==typeof r.color&&r.color.startsWith("rgb(")&&(n=Bn.addAlpha(r.color,.1)),o&&o.length>0){r.dataRange.min===e&&(r.dataRange.min=0);var f=r.dataRange.min,m=r.dataRange.max;if(m>f){if(C.end<s)return;if(C.start>u)return;var y=!0,g=!1,v=e;try{for(var b,S=o[Symbol.iterator]();!(y=(b=S.next()).done);y=!0)C(b.value,this.dataRange)}catch(e){g=!0,v=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw v}}if(f<0){var w=m/(m-f)*t.pixelHeight;Co.strokeLine(i,0,w,t.pixelWidth,w,{strokeStyle:n})}}}function C(e,t){var n,o=r.dataRange.min,l=r.dataRange.max,u=l-o,f=Math.floor((e.start-s)/a),m=Math.ceil((e.end-s)/a),y=Math.max(1,m-f),g=(l-e.value)/u;n=o>0?1:l<0?0:l/u;var v=Math.min(g,n),b=Math.max(g,n),S=b-v;if(!(v>=1||b<=0)){var w=e.value<0&&r.altColor?r.altColor:r.color,C="function"==typeof w?w(e.value):w;if("points"===r.graphType){var _=r.config.pointSize||3,k=e.value<0?(v+S)*c:v*c,T=f+y/2;isNaN(f)||Co.fillCircle(i,T,k,_/2)}else(f>p||e.value>0&&e.value>h||e.value<0&&e.value<d)&&(Co.fillRect(i,f,v*c,y,S*c,{fillStyle:C}),p=f,e.value>0?h=e.value:e.value<0&&(d=e.value))}}},Ya.prototype.popupData=function(t,n){if(n||(n=this.clickedFeatures(t)),n&&n.length>0){var r=[],o=function(t,n,r){for(var o,i,a=0,s=t.length-1,l=a+s>>1;!c(t[l],n,r)&&a<s;)n<t[l].start?s=l-1:n>t[l].end&&(a=l+1),l=a+s>>1;if(c(t[l],n,r)){if(c(o=t[l],n,0))return o;for(i=l;i-- >=0&&(c(t[i]),!r);){if(c(t[i],n,0))return t[i];for(u(t[i],n)<u(o,n)&&(o=t[i]),i=l;i++<t.length&&(c(t[i]),!r);){if(c(t[i],n,0))return t[i];u(t[i],n)<u(o,n)&&(o=t[i])}}return o}return e;function c(e,t,n){return t>=e.start-n&&t<=e.end+n}function u(e,t){return Math.min(Math.abs(e.start-t),Math.abs(e.end-t))}}(n,t.genomicLocation,2*t.viewport.genomicState.referenceFrame.bpPerPixel);if(o){var i=o.end-o.start==1?Ur(o.start+1):Ur(o.start+1)+"-"+Ur(o.end);r.push({name:"Position:",value:i}),r.push({name:"Value:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",value:Ur(o.value)})}return r}return[]},Ya.prototype.dispose=function(){this.trackView=e},Ya.prototype.getState=function(){var e=this.config;return e.autoscale=this.autoscale,!this.autoscale&&this.dataRange&&(e.min=this.dataRange.min,e.max=this.dataRange.max),e},Ya.prototype.supportsWholeGenome=function(){return"function"==typeof this.featureSource.supportsWholeGenome&&this.featureSource.supportsWholeGenome()},Qa.prototype.getColor=function(t){var n=!0,r=!1,o=e;try{for(var i,a=this.thresholds[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(t<s)return this.colors[this.thresholds.indexOf(s)]}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this.colors[this.colors.length-1]},Xa.prototype.getColor=function(e){var t,n=this.scale;return e<=n.low?this.lowColor:e>=n.high?this.highColor:(t=(e-n.low)/this.diff,"rgb("+Math.floor(n.lowR+t*(n.highR-n.lowR))+","+Math.floor(n.lowG+t*(n.highG-n.lowG))+","+Math.floor(n.lowB+t*(n.highB-n.lowB))+")")};var Za=Qn(wi,function(e,t){if(wi.call(this,e,t),this.isLog=e.isLog,this.displayMode=e.displayMode||"SQUISHED",this.maxHeight=e.maxHeight||500,this.squishedRowHeight=e.sampleSquishHeight||e.squishedRowHeight||2,this.expandedRowHeight=e.sampleExpandHeight||e.expandedRowHeight||12,this.posColorScale=e.posColorScale||new Xa({low:.1,lowR:255,lowG:255,lowB:255,high:1.5,highR:255,highG:0,highB:0}),this.negColorScale=e.negColorScale||new Xa({low:-1.5,lowR:0,lowG:0,lowB:255,high:-.1,highR:255,highG:255,highB:255}),this.sampleKeys=[],this.featureSource=new ua(this.config,t.genome),e.sort){var n=e.sort;this.sortSamples(n.chr,n.start,n.end,n.direction)}});Za.prototype.menuItemList=function(){var e=this,t=[],n={SQUISHED:"Squish",EXPANDED:"Expand",FILL:"Fill"};return t.push("<hr/>"),t.push("Sample Height"),["SQUISHED","EXPANDED","FILL"].forEach(function(r){t.push({object:xn(n[r],r===e.displayMode),click:function(){e.displayMode=r,e.config.displayMode=r,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t},Za.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},Za.prototype.draw=function(t){var n=this,r=t.context,o=t.pixelWidth,i=t.pixelHeight;Co.fillRect(r,0,t.pixelTop,o,i,{fillStyle:"rgb(255, 255, 255)"});var a=t.features;if(a&&a.length>0){n.isLog===e&&function(t){if(n.isLog===e){n.isLog=!1;var r=!0,o=!1,i=e;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(a.value.value<0)return void(n.isLog=!0)}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}(a);var s=t.bpPerPixel,l=t.bpStart,c=l+o*s+1,u=s;this.updateSampleKeys(a);var p,h,d={};switch(this.sampleKeys.forEach(function(e,t){d[e]=t}),this.displayMode){case"FILL":p=t.pixelHeight/this.sampleKeys.length,h=0;break;case"SQUISHED":p=this.squishedRowHeight,h=0;break;default:p=this.expandedRowHeight,h=1}var f=!0,m=!1,y=e;try{for(var g,v=a[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;if(!(b.end<l)){if(b.start>c)break;var S=b.sampleKey||b.sample;b.row=d[S];var w=d[S]*p+h,C=b.value;n.isLog||(C=Fn(C/2));var _;_=C<-.1?n.negColorScale.getColor(C):C>.1?n.posColorScale.getColor(C):"white";var k=Math.max(b.start,l),T=Math.round((k-l)/u),x=Math.min(b.end,c),E=Math.round((x-l)/u),A=Math.max(1,E-T);r.fillStyle=_;var O=p;if(p<.25){var P=.1+2*Math.abs(C);O=Math.min(1,P*p)}b.pixelRect={x:T,y:w,w:A,h:O-2*h},r.fillRect(T,w,A,O-2*h)}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}}},Za.prototype.computePixelHeight=function(e){if(!e)return 0;var t="SQUISHED"===this.displayMode?this.squishedRowHeight:this.expandedRowHeight;return this.updateSampleKeys(e),this.sampleKeys.length*t},Za.prototype.sortSamples=function(){var n=N(t.mark(function n(r,o,i,a){var s,l,c,u,p,h,d,f,m,y,g,v,b,S,w;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.featureSource.getFeatures(r,o,i);case 2:s=t.sent,this.updateSampleKeys(s),l={},c=i-o+1,u=!0,p=!1,h=e,t.prev=9,d=s[Symbol.iterator]();case 11:if(u=(f=d.next()).done){t.next=26;break}if(!((m=f.value).end<o)){t.next=15;break}return t.abrupt("continue",23);case 15:if(!(m.start>i)){t.next=17;break}return t.abrupt("break",26);case 17:y=Math.max(o,m.start),g=Math.min(i,m.end),v=(g-y)/c,b=m.sampleKey||m.sample,S=l[b]||0,l[b]=S+v*m.value;case 23:u=!0,t.next=11;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(9),p=!0,h=t.t0;case 32:t.prev=32,t.prev=33,u||null==d.return||d.return();case 35:if(t.prev=35,!p){t.next=38;break}throw h;case 38:return t.finish(35);case 39:return t.finish(32);case 40:w="ASC"===a?1:-1,this.sampleKeys.sort(function(e,t){var n=l[e],r=l[t];return n||(n=w*Number.MAX_VALUE),r||(r=w*Number.MAX_VALUE),n===r?0:n>r?w:-1*w}),this.trackView.repaintViews();case 43:case"end":return t.stop()}},n,this,[[9,28,32,40],[33,,35,39]])}));return function(e,t,r,o){return n.apply(this,arguments)}}(),Za.prototype.clickedFeatures=function(e){var t,n;return t=wi.prototype.clickedFeatures.call(this,e),n=e.y,t.filter(function(e){var t=e.pixelRect;return t&&n>=t.y&&n<=t.y+t.h})},Za.prototype.popupData=function(t,n){n||(n=this.clickedFeatures(t));var r=[],o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)s.value}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n.forEach(function(e){!function(e,t){var n,r=new Set(["row","color","sampleKey","uniqueSampleKey","uniquePatientKey"]);e.hasOwnProperty("realChr")?((n=Object.assign({},e)).chr=e.realChr,n.start=e.realStart,n.end=e.realEnd,delete n.realChr,delete n.realStart,delete n.realEnd):n=e;for(var o=0,i=Object.keys(n);o<i.length;o++){var a=i[o];!r.has(a)&&Xn(n[a])&&t.push({name:a,value:n[a]})}}(e,r)}),r},Za.prototype.contextMenuItemList=function(e){var t=this,n=e.viewport.genomicState.referenceFrame,r=e.genomicLocation,o=this.config.sort?"ASC"===this.config.sort.direction?"DESC":"ASC":"DESC",i=n.toBP(2.5);return[{label:"Sort by value",click:function(e){var a={direction:o,chr:n.chrName,start:r-i,end:r+i};!function(e){t.sortSamples(e.chr,e.start,e.end,e.direction)}(a),t.config.sort=a}}]},Za.prototype.supportsWholeGenome=function(){return this.featureSource.supportsWholeGenome()},Za.prototype.updateSampleKeys=function(t){var n=new Set(this.sampleKeys),r=!0,o=!1,i=e;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=l.sampleKey||l.sample;n.has(c)||(n.add(c),this.sampleKeys.push(c))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}};var Ja=Qn(wi,function(t,n){var r=this;t.tracks&&(t.height===e&&(t.height=50),wi.call(this,t,n),this.tracks=[],t.tracks.forEach(function(e){e.type||Vo(e);var t=n.createTrack(e);t&&(t.autoscale=!1,r.tracks.push(t))}))});Ja.prototype.getFeatures=function(e,t,n,r){var o=this.tracks.map(function(o){return o.getFeatures(e,t,n,r)});return Promise.all(o)},Ja.prototype.draw=function(e){var t,n,r,o,i,a,s,l;for(r=e.features,e.genomicState.chromosome.name,a=r,s=0,l=-Number.MAX_VALUE,a.forEach(function(e){e.forEach(function(e){Number.isNaN(e.value)||(s=Math.min(s,e.value),l=Math.max(l,e.value))})}),i={min:s,max:l},t=0,n=this.tracks.length;t<n;t++)(o=Object.assign({},e)).features=r[t],this.tracks[t].dataRange=i,this.tracks[t].draw(o)},Ja.prototype.paintAxis=function(e,t,n){var r,o,i;for(r=0,o=this.tracks.length;r<o;r++)if("function"==typeof(i=this.tracks[r]).paintAxis){i.paintAxis(e,t,n);break}};var es=function(e){this.paired=!0,this.firstAlignment=e,this.chr=e.chr,this.readName=e.readName,e.start<e.mate.position?(this.start=e.start,this.scStart=e.scStart,this.connectingStart=e.start+e.lengthOnRef,this.connectingEnd=e.mate.position):(this.start=e.mate.position,this.scStart=this.start,this.connectingStart=e.mate.position,this.connectingEnd=e.start),this.end=Math.max(e.mate.position,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start;var t=Math.max(this.end,e.scStart+e.scLengthOnRef);this.scLengthOnRef=t-this.scStart};function ts(e){return e.isPaired()&&e.mate&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}es.prototype.setSecondAlignment=function(e){this.secondAlignment=e;var t=this.firstAlignment;e.start>t.start?this.connectingEnd=e.start:this.connectingStart=e.start+e.lengthOnRef,this.start=Math.min(t.start,e.start),this.end=Math.max(t.start+t.lengthOnRef,e.start+e.lengthOnRef),this.lengthOnRef=this.end-this.start,this.scStart=Math.min(t.scStart,e.scStart);var n=Math.max(t.scStart+t.scLengthOnRef,e.scStart+e.scLengthOnRef);this.scLengthOnRef=n-this.scStart},es.prototype.popupData=function(e){var t=[];return t=t.concat(this.firstAlignment.popupData(e)),this.secondAlignment&&(t.push("-------------------------------"),t=t.concat(this.secondAlignment.popupData(e))),t},es.prototype.isPaired=function(){return!0},es.prototype.firstOfPairStrand=function(){return this.firstAlignment.isFirstOfPair()?this.firstAlignment.strand:this.secondAlignment&&this.secondAlignment.isFirstOfPair()?this.secondAlignment.strand:this.firstAlignment.mate.strand};var ns=function(t,n,r,o,i,a,s){this.chr=t,this.start=Math.floor(n),this.end=Math.ceil(r),this.length=r-n,this.alleleFreqThreshold=s,this.coverageMap=new is(t,n,r,this.alleleFreqThreshold),this.alignments=[],this.downsampledIntervals=[],this.samplingWindowSize=o===e?100:o,this.samplingDepth=i===e?1e3:i,this.pairsSupported=a===e||a,this.paired=!1,this.pairsCache={},this.downsampledReads=new Set,this.currentBucket=new os(this.start,this.start+this.samplingWindowSize,this),this.filter=function(e){return e.isMapped()&&!e.isFailsVendorQualityCheck()},this.pairedEndStats=new ls};function rs(){this.alignments=this.alignments.concat(this.currentBucket.alignments),this.currentBucket.downsampledCount>0&&this.downsampledIntervals.push(new ss(this.currentBucket.start,this.currentBucket.end,this.currentBucket.downsampledCount)),this.paired=this.paired||this.currentBucket.paired}function os(e,t,n){this.start=e,this.end=t,this.alignments=[],this.downsampledCount=0,this.samplingDepth=n.samplingDepth,this.pairsSupported=n.pairsSupported,this.downsampledReads=n.downsampledReads,this.pairsCache=n.pairsCache}function is(e,t,n,r){this.chr=e,this.bpStart=t,this.length=n-t,this.coverage=new Array(this.length),this.maximum=0,this.threshold=r,this.qualityWeight=!0}function as(e){this.posA=0,this.negA=0,this.posT=0,this.negT=0,this.posC=0,this.negC=0,this.posG=0,this.negG=0,this.posN=0,this.negN=0,this.pos=0,this.neg=0,this.qualA=0,this.qualT=0,this.qualC=0,this.qualG=0,this.qualN=0,this.qual=0,this.total=0,this.del=0,this.ins=0,this.t=e}function ss(e,t,n){this.start=e,this.end=t,this.counts=n}function ls(e,t){this.totalCount=0,this.frCount=0,this.rfCount=0,this.ffCount=0,this.sumF=0,this.sumF2=0}function cs(){this.hidden=!1}function us(t,n){for(var r=0;r<t.length;r++){var o=t[r];if(n>=o.start&&n<o.start+o.len)return o}return e}function ps(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function hs(e,t){return e[t+1]<<8|e[t]}function ds(e,t){return new DataView(e.buffer).getFloat32(t,!0)}ns.prototype.push=function(e){!1!==this.filter(e)&&(e.isPaired()&&this.pairedEndStats.push(e),this.coverageMap.incCounts(e),this.pairsSupported&&this.downsampledReads.has(e.readName)||(e.start>=this.currentBucket.end&&(rs.call(this),this.currentBucket=new os(e.start,e.start+this.samplingWindowSize,this)),this.currentBucket.addAlignment(e)))},ns.prototype.forEach=function(e){this.alignments.forEach(e)},ns.prototype.finish=function(){this.currentBucket!==e&&rs.call(this),this.alignments.sort(function(e,t){return e.start-t.start}),this.pairsCache=e,this.downsampledReads=e,this.pairedEndStats.compute()},ns.prototype.contains=function(e,t,n){return this.chr===e&&this.start<=t&&this.end>=n},ns.prototype.hasDownsampledIntervals=function(){return this.downsampledIntervals&&this.downsampledIntervals.length>0},os.prototype.addAlignment=function(t){var n,r,o;if(this.pairsSupported&&ts(t)&&(o=this.pairsCache[t.readName]))return o.setSecondAlignment(t),void(this.pairsCache[t.readName]=e);this.alignments.length<this.samplingDepth?this.pairsSupported&&ts(t)?(o=new es(t),this.paired=!0,this.pairsCache[t.readName]=o,this.alignments.push(o)):this.alignments.push(t):((n=Math.floor(Math.random()*(this.samplingDepth+this.downsampledCount-1)))<this.samplingDepth?(r=this.alignments[n],this.pairsSupported&&ts(t)?(this.pairsCache[r.readName]!==e&&(this.pairsCache[r.readName]=e),o=new es(t),this.paired=!0,this.pairsCache[t.readName]=o,this.alignments[n]=o):this.alignments[n]=t,this.downsampledReads.add(r.readName)):this.downsampledReads.add(t.readName),this.downsampledCount++)},is.prototype.incCounts=function(t){var n=this;if(t.blocks===e?g(t):t.blocks.forEach(function(e){g(e)}),t.deletions){var r=!0,o=!1,i=e;try{for(var a,s=t.deletions[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)for(var l=a.value,c=l.start-n.bpStart,u=c;u<c+l.len;u++)u<0||(this.coverage[u]||(this.coverage[u]=new as(n.threshold)),this.coverage[u].del++)}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}if(t.insertions){var p=!0,h=!1,d=e;try{for(var f,m=t.insertions[Symbol.iterator]();!(p=(f=m.next()).done);p=!0){var y=f.value.start-this.bpStart;y<0||(this.coverage[y]||(this.coverage[y]=new as(n.threshold)),this.coverage[y].ins++)}}catch(e){h=!0,d=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw d}}}function g(e){if("S"!==e.type)for(var r=t.seq,o=t.qual,i=e.seqOffset,a=e.start-n.bpStart,s=0;s<e.len;a++,s++){n.coverage[a]||(n.coverage[a]=new as(n.threshold));var l=r.charAt(i+s),c=t.strand?"pos"+l:"neg"+l,u=o&&i+s<o.length?o[i+s]:30;n.coverage[a][c]+=1,n.coverage[a]["qual"+l]+=u,n.coverage[a].total+=1,n.coverage[a].qual+=u,n.maximum=Math.max(n.coverage[a].total,n.maximum)}}},as.prototype.isMismatch=function(e){var t,n=this,r=this.t*(this.qual?this.qual:this.total);return t=0,["A","T","C","G"].forEach(function(r){r!==e&&(t+=n.qual?n["qual"+r]:n["pos"+r]+n["neg"+r])}),t>=r},ss.prototype.popupData=function(e){return[{name:"start",value:this.start+1},{name:"end",value:this.end},{name:"# downsampled:",value:this.counts}]},ls.prototype.push=function(e){if(e.isProperPair()){var t=Math.abs(e.fragmentLength);this.sumF+=t,this.sumF2+=t*t;var n=e.pairOrientation;if("string"==typeof n&&4===n.length)switch(""+n.charAt(0)+n.charAt(2)){case"FF":case"RR":this.ffCount++;break;case"FR":this.frCount++;break;case"RF":this.rfCount++}this.totalCount++}},ls.prototype.compute=function(){if(this.totalCount>100){this.ffCount/this.totalCount>.9?this.orienation="ff":this.frCount/this.totalCount>.9?this.orienation="fr":this.rfCount/this.totalCount>.9&&(this.orienation="rf");var e=this.sumF/this.totalCount,t=Math.sqrt((this.totalCount*this.sumF2-this.sumF*this.sumF)/(this.totalCount*this.totalCount));this.lowerFragmentLength=e-3*t,this.upperFragmentLength=e+3*t}},cs.prototype.isMapped=function(){return 0==(4&this.flags)},cs.prototype.isPaired=function(){return 0!=(1&this.flags)},cs.prototype.isProperPair=function(){return 0!=(2&this.flags)},cs.prototype.isFirstOfPair=function(){return 0!=(64&this.flags)},cs.prototype.isSecondOfPair=function(){return 0!=(128&this.flags)},cs.prototype.isSecondary=function(){return 0!=(256&this.flags)},cs.prototype.isSupplementary=function(){return 0!=(2048&this.flags)},cs.prototype.isFailsVendorQualityCheck=function(){return 0!=(512&this.flags)},cs.prototype.isDuplicate=function(){return 0!=(1024&this.flags)},cs.prototype.isMateMapped=function(){return 0==(8&this.flags)},cs.prototype.isNegativeStrand=function(){return 0!=(16&this.flags)},cs.prototype.isMateNegativeStrand=function(){return 0!=(32&this.flags)},cs.prototype.tags=function(){return this.tagDict||(this.tagBA?(this.tagDict=function(e){for(var t=0,n=e.length,r={};t<n;){var o,i=String.fromCharCode(e[t])+String.fromCharCode(e[t+1]),a=String.fromCharCode(e[t+2]);if("A"===a)o=String.fromCharCode(e[t+3]),t+=4;else if("i"===a||"I"===a)o=ps(e,t+3),t+=7;else if("c"===a||"C"===a)o=e[t+3],t+=4;else if("s"===a||"S"===a)o=hs(e,t+3),t+=5;else if("f"===a)o=ds(e,t+3),t+=7;else{if("Z"!==a){o="Error unknown type: "+a,r[i]=o;break}for(t+=3,o="";;){var s=e[t++];if(0===s)break;o+=String.fromCharCode(s)}}r[i]=o}return r}(this.tagBA),this.tagBA=e):this.tagDict={}),this.tagDict},cs.prototype.popupData=function(t){var n=[];if(t=Math.floor(t),this.insertions){var r=this.seq,o=!0,i=!1,a=e;try{for(var s,l=this.insertions[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=c.start;if(t===u||t===u-1)return n.push({name:"Insertion",value:r.substr(c.seqOffset,c.len)}),n.push({name:"Location",value:u}),n}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}n.push({name:"Read Name",value:this.readName}),n.push("<hr>"),n.push({name:"Alignment Start",value:Ur(1+this.start),borderTop:!0}),n.push({name:"Read Strand",value:!0===this.strand?"(+)":"(-)",borderTop:!0}),n.push({name:"Cigar",value:this.cigar}),n.push({name:"Mapped",value:f(this.isMapped())}),n.push({name:"Mapping Quality",value:this.mq}),n.push({name:"Secondary",value:f(this.isSecondary())}),n.push({name:"Supplementary",value:f(this.isSupplementary())}),n.push({name:"Duplicate",value:f(this.isDuplicate())}),n.push({name:"Failed QC",value:f(this.isFailsVendorQualityCheck())}),this.isPaired()&&(n.push("<hr>"),n.push({name:"First in Pair",value:!this.isSecondOfPair(),borderTop:!0}),n.push({name:"Mate is Mapped",value:f(this.isMateMapped())}),this.pairOrientation&&n.push({name:"Pair Orientation",value:this.pairOrientation}),this.isMateMapped()&&(n.push({name:"Mate Chromosome",value:this.mate.chr}),n.push({name:"Mate Start",value:this.mate.position+1}),n.push({name:"Mate Strand",value:!0===this.mate.strand?"(+)":"(-)"}),n.push({name:"Insert Size",value:this.fragmentLength}))),n.push("<hr>");var p=this.tags(),h=!0;for(var d in p)p.hasOwnProperty(d)&&(h?(n.push({name:d,value:p[d],borderTop:!0}),h=!1):n.push({name:d,value:p[d]}));return n.push("<hr>"),n.push({name:"Genomic Location: ",value:Ur(1+t)}),n.push({name:"Read Base:",value:this.readBaseAt(t)}),n.push({name:"Base Quality:",value:this.readBaseQualityAt(t)}),n;function f(e){return e?"Yes":"No"}},cs.prototype.readBaseAt=function(t){var n=us(this.blocks,t);if(n){if("*"===this.seq)return"*";var r=n.seqIndexAt(t);return this.seq[r]}return e},cs.prototype.readBaseQualityAt=function(t){var n=us(this.blocks,t);if(n){if("*"===this.qual)return 30;var r=n.seqIndexAt(t);return r>=0&&this.qual&&r<this.qual.length?this.qual[r]:30}return e};var fs=function(e){e&&Object.assign(this,e)};function ms(t){t||(t={}),this.vendorFailed=t.vendorFailed===e||t.vendorFailed,this.duplicates=t.duplicates===e||t.duplicates,this.secondary=t.secondary||!1,this.supplementary=t.supplementary||!1,this.mqThreshold=t.mqThreshold===e?0:t.mqThreshold,t.readgroups&&(this.readgroups=new Set(t.readgroups))}fs.prototype.seqIndexAt=function(e){return Math.floor(e)-this.start+this.seqOffset},ms.prototype.pass=function(e){if(this.vendorFailed&&e.isFailsVendorQualityCheck())return!1;if(this.duplicates&&e.isDuplicate())return!1;if(this.secondary&&e.isSecondary())return!1;if(this.supplementary&&e.isSupplementary())return!1;if(e.mq<this.mqThreshold)return!1;if(this.readgroups){var t=e.tags().RG;return this.readgroups.has(t)}return!0};var ys=["=","A","C","x","G","x","x","x","T","x","x","x","x","x","x","N"],gs=["M","I","D","N","S","H","P","=","X","?","?","?","?","?","?","?"],vs=ws(new Uint8Array([66,65,77,1]),0),bs={readHeader:function(e,t,n){return Dr.loadArrayBuffer(e,t).then(function(e){var t;return t=dr(e),bs.decodeBamHeader(t,n)})},decodeBamHeader:function(e,t){var n,r,o,i,a;if((n=ws(e,0))!==vs)throw new Error("BAM header errror: bad magic number.  This could be caused by either a corrupt or missing file.");r=ws(e,4);for(var s=0;s<r;++s)String.fromCharCode(e[s+8]);var l=ws(e,r+8),c=r+12;for(o={},i=[],a={},s=0;s<l;++s){for(var u=ws(e,c),p="",h=0;h<u-1;++h)p+=String.fromCharCode(e[c+4+h]);ws(e,c+u+4),o[p]=s,i[s]=p,t&&(a[t.getChromosomeName(p)]=p),c=c+8+u}return{magicNumber:n,size:c,chrNames:i,chrToIndex:o,chrAliasTable:a}},bam_tag2cigar:function(e,t,n,r,o,i){function a(e){return"C"===e||"c"===e||"A"===e?1:"S"===e||"s"===e?2:"I"===e||"i"===e||"f"===e?4:0}if(1!==i.length||o.start<0)return!1;for(var s=n+(r+1>>1)+r;s+4<t&&"CG"!==String.fromCharCode(e[s])+String.fromCharCode(e[s+1]);){var l=String.fromCharCode(e[s+2]);if("B"===l)s+=8+a(l=String.fromCharCode(e[s+3]))*ws(e,s+4);else if("Z"===l||"H"===l)for(s+=3;0!==e[s++];);else s+=3+a(l)}if(s>=t)return!1;if("B"!==String.fromCharCode(e[s+2])||"I"!==String.fromCharCode(e[s+3]))return!1;var c=ws(e,s+4),u=s+8;if(u+4*c>t)return!1;var p="",h=0;i.length=0,s=u;for(var d=0;d<c;++d,s+=4){var f=ws(e,s),m=f>>4,y=gs[15&f];"M"!==y&&"EQ"!==y&&"X"!==y&&"D"!==y&&"N"!==y&&"="!==y||(h+=m),p=p+m+y,i.push({len:m,ltr:y})}return o.cigar=p,o.lengthOnRef=h,!0},decodeBamRecords:function(t,n,r,o,i,a,s,l){for(;n<t.length;){var c=n+ws(t,n)+4,u=new cs,p=ws(t,n+4),h=ws(t,n+8);if(c>t.length)return;if(p<0)n=c;else{if(i!==e&&(p>i||h>s))return!0;if(i!==e&&p<i)n=c;else{for(var d=ws(t,n+12),f=(65280&d)>>8,m=255&d,y=ws(t,n+16),g=(4294901760&y)>>16,v=65535&y,b=ws(t,n+20),S=ws(t,n+24),w=ws(t,n+28),C=ws(t,n+32),_=[],k=0;k<m-1;++k)_.push(String.fromCharCode(t[n+36+k]));_=_.join("");for(var T=0,x="",E=n+36+m,A=[],O=void 0,P=0;P<v;++P){var I=ws(t,E),M=I>>4,D=gs[15&I];"M"!==D&&"EQ"!==D&&"X"!==D&&"D"!==D&&"N"!==D&&"="!==D||(T+=M),x=x+M+D,E+=4,O={len:M,ltr:D},A.push(O)}if(u.chr=o[p],u.start=h,u.flags=g,u.strand=!(16&g),u.readName=_,u.cigar=x,u.lengthOnRef=T,u.fragmentLength=C,u.mq=f,bs.bam_tag2cigar(t,c,E,b,u,A),u.end=u.start+u.lengthOnRef,u.end<a)n=c;else{for(var L=[],N=b+1>>1,R=0;R<N;++R){var j=t[E+R];L.push(ys[(240&j)>>4]),L.push(ys[15&j])}L=L.slice(0,b).join(""),E+=N;for(var F=[],G=0;G<b;++G)F.push(t[E+G]);E+=b,S>=0&&(u.mate={chr:o[S],position:w,strand:!(32&g)}),u.seq=L,u.qual=F,u.tagBA=new Uint8Array(t.buffer.slice(E,c)),this.setPairOrientation(u),(e===l||l.pass(u))&&(Ss(u,A),r.push(u)),n=c}}}}},decodeSamRecords:function(t,n,r,o,i,a){var s,l,c,u,p,h,d,f,m,y;for(u=(s=qr(t)).length,l=0;l<u;l++)if(p=s[l].split("\t"),(m=new cs).chr=p[2],m.start=Number.parseInt(p[3])-1,m.flags=Number.parseInt(p[1]),m.readName=p[0],m.strand=!(16&m.flags),m.mq=Number.parseInt(p[4]),m.cigar=p[5],m.fragmentLength=Number.parseInt(p[8]),m.seq=p[9],"*"!==m.chr&&m.isMapped()&&m.chr===r){if(m.start>i)break;if(f=0,(y=Cs(m.cigar)).forEach(function(e){var t=e.len,n=e.ltr;"M"!==n&&"EQ"!==n&&"X"!==n&&"D"!==n&&"N"!==n&&"="!==n||(f+=t)}),m.lengthOnRef=f,!(m.start+f<o)){for(h=p[10],m.qual=[],c=0;c<h.length;c++)m.qual[c]=h.charCodeAt(c)-33;m.tagDict=p.length<11?{}:_s(p.slice(11)),m.isMateMapped()&&(d=p[6],m.mate={chr:"="===d?m.chr:d,position:Number.parseInt(p[7]),strand:!(32&m.flags)}),this.setPairOrientation(m),(e===a||a.pass(m))&&(Ss(m,y),n.push(m))}}},setReaderDefaults:function(t,n){t.filter=new ms(n.filter),n.readgroup&&(t.filter.readgroups=new Set([n.readgroup])),t.alleleFreqThreshold=n.alleleFreqThreshold===e?.2:n.alleleFreqThreshold,t.samplingWindowSize=n.samplingWindowSize===e?100:n.samplingWindowSize,t.samplingDepth=n.samplingDepth===e?500:n.samplingDepth,t.samplingDepth>1e4&&(t.samplingDepth=1e4),n.viewAsPairs?t.pairsSupported=!0:t.pairsSupported=n.pairsSupported===e||n.pairsSupported},setPairOrientation:function(e){if(e.isMapped()&&e.mate&&e.isMateMapped()&&e.mate.chr===e.chr){var t=e.strand?"F":"R",n=e.mate,r=n.strand?"F":"R",o=" ",i=" ";e.isFirstOfPair()?(o="1",i="2"):e.isSecondOfPair()&&(o="2",i="1");var a=[],s=e.fragmentLength,l=e.end-e.start;0===s&&(s=(e.start<n.position?n.position+l:n.position-l)-e.start),s>0?(a[0]=t,a[1]=o,a[2]=r,a[3]=i):(a[2]=t,a[3]=o,a[0]=r,a[1]=i),e.pairOrientation=a.join("")}}};function Ss(t,n){var r,o,i,a=[],s=0,l=t.start;t.scStart=t.start,t.scLengthOnRef=t.lengthOnRef;var c=!0,u=!1,p=e;try{for(var h,d=n[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value,m=void 0;switch(f.ltr){case"H":case"P":break;case"S":m=l,t.scLengthOnRef+=f.len,0===a.length&&(t.scStart-=f.len,m-=f.len),a.push(new fs({start:m,seqOffset:s,len:f.len,type:"S"})),s+=f.len,i="I";break;case"N":l+=f.len,i="N";break;case"D":o===e&&(o=[]),o.push({start:l,len:f.len}),l+=f.len,i="D";break;case"I":r===e&&(r=[]),r.push(new fs({start:l,len:f.len,seqOffset:s,type:"I"})),s+=f.len,i="I";break;case"M":case"EQ":case"=":case"X":a.push(new fs({start:l,seqOffset:s,len:f.len,type:"M",gapType:i})),s+=f.len,l+=f.len}}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}t.blocks=a,t.insertions=r,t.deletions=o}function ws(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function Cs(e){var t,n,r,o,i,a,s,l,c;for(t=[],n=[],i=null,o=e.length,r=0;r<o;r++)void 0,(c=(a=e.charAt(r)).charCodeAt(0))>=48&&c<=57?n.push(a):(s=a,l=Number.parseInt(n.join("")),n=[],null!==i&&i.ltr===s?i.len+=l:(i={len:l,ltr:s},t.push(i)));return t}function _s(e){var t={};return e.forEach(function(e){var n=e.split(":");t[n[0]]=n[2]}),t}var ks=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.isDataUri=Hr(e.url)&&e.url.startsWith("data:"),bs.setReaderDefaults(this,e)};function Ts(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var o=new Uint8Array(r.length),i=0;i<r.length;i++)o[i]=r.charCodeAt(i);return o}ks.prototype.readAlignments=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(C=function(e,t,n){var r,o,i,a;return o=(r=this.header).chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e,i=this.alignmentCache.queryFeatures(o,t,n),a=new ns(e,t,n,this.samplingWindowSize,this.samplingDepth,this.pairsSupported),i.forEach(function(e){a.push(e)}),a.finish(),a},w=function(e){var t=[];this.header=bs.decodeBamHeader(e),bs.decodeBamRecords(e,this.header.size,t,this.header.chrNames),this.alignmentCache=new Vi(t,a)},a=this.genome,!this.alignmentCache){t.next=31;break}for(s=this.header,l=s.chrAliasTable.hasOwnProperty(r)?s.chrAliasTable[r]:r,c=this.alignmentCache.queryFeatures(l,o,i),u=new ns(r,o,i,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),p=!0,h=!1,d=e,t.prev=11,f=c[Symbol.iterator]();!(p=(m=f.next()).done);p=!0)y=m.value,u.push(y);t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),h=!0,d=t.t0;case 19:t.prev=19,t.prev=20,p||null==f.return||f.return();case 22:if(t.prev=22,!h){t.next=25;break}throw d;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return u.finish(),t.abrupt("return",u);case 31:if(!this.isDataUri){t.next=38;break}return g=Ts(this.bamPath),v=dr(g.buffer),w.call(this,v),t.abrupt("return",C.call(this,r,o,i));case 38:return t.next=40,Dr.loadArrayBuffer(this.bamPath,Zn(this.config));case 40:return b=t.sent,S=dr(b),w.call(this,S),t.abrupt("return",C.call(this,r,o,i));case 44:case"end":return t.stop()}},n,this,[[11,15,19,27],[20,,22,26]])}));return function(e,t,r){return n.apply(this,arguments)}}();var xs=function(e,t){this.config=e,this.genome=t,this.bamPath=e.url,this.baiPath=e.indexURL||function(e,t){var n;if(e instanceof File)throw new Error("Cannot infer an index path for a local File.  Please select explicitly");return e.includes("?")?(n=e.indexOf("?"),e.substring(0,n)+".bai"+e.substring(n)):e+".bai"}(this.bamPath),bs.setReaderDefaults(this,e)};function Es(){return function(){return N(t.mark(function e(){var n,r,o,i,a,s,l;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.header){e.next=15;break}return n=this.genome,e.next=4,As.call(this);case 4:return r=e.sent,o=Zn(this.config,{range:{start:r.firstAlignmentBlock,size:26}}),e.next=8,Dr.loadArrayBuffer(this.bamPath,o);case 8:return i=e.sent,a=fr(i),s=r.firstAlignmentBlock+a,l=Zn(this.config,{range:{start:0,size:s}}),e.next=14,bs.readHeader(this.bamPath,l,n);case 14:this.header=e.sent;case 15:return e.abrupt("return",this.header);case 16:case"end":return e.stop()}},e,this)})).apply(this,arguments)}.apply(this,arguments)}function As(){return function(){return N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.genome,this.index){e.next=6;break}return e.next=4,Ni(this.baiPath,this.config,!1,n);case 4:return this.index=e.sent,e.abrupt("return",this.index);case 6:return e.abrupt("return",this.index);case 7:case"end":return e.stop()}},e,this)})).apply(this,arguments)}.apply(this,arguments)}function Os(){return function(){return N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.chrToIndex){e.next=4;break}return e.abrupt("return",this.chrToIndex);case 4:return e.next=6,Es.call(this);case 6:return n=e.sent,this.chrToIndex=n.chrToIndex,this.indexToChr=n.chrNames,this.chrAliasTable=n.chrAliasTable,e.abrupt("return",this.chrToIndex);case 11:case"end":return e.stop()}},e,this)})).apply(this,arguments)}.apply(this,arguments)}xs.prototype.readAlignments=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Os.call(this);case 2:if(a=t.sent,s=this.chrAliasTable.hasOwnProperty(r)?this.chrAliasTable[r]:r,l=a[s],c=new ns(r,o,i,this.samplingWindowSize,this.samplingDepth,this.pairsSupported,this.alleleFreqThreshold),l!==e){t.next=10;break}return t.abrupt("return",c);case 10:return t.next=12,As.call(this);case 12:if(u=t.sent,(p=u.blocksForRange(l,o,i))&&0!==p.length){t.next=16;break}return t.abrupt("return",c);case 16:h=!0,d=!1,f=e,t.prev=20,m=p[Symbol.iterator]();case 22:if(h=(y=m.next()).done){t.next=48;break}if(g=y.value,v=void 0,0!==g.maxv.offset){t.next=29;break}v=0,t.next=34;break;case 29:return b=Zn(this.config,{range:{start:g.maxv.block,size:26}}),t.next=32,Dr.loadArrayBuffer(this.bamPath,b);case 32:S=t.sent,v=fr(S);case 34:return w=g.minv.block,C=g.maxv.block+v,_={start:w,size:C-w+1},t.next=39,Dr.loadArrayBuffer(this.bamPath,Zn(this.config,{range:_}));case 39:if(k=t.sent,T=dr(k),!bs.decodeBamRecords(T,g.minv.offset,c,this.indexToChr,l,o,i,this.filter)){t.next=44;break}return t.abrupt("break",48);case 44:case 45:h=!0,t.next=22;break;case 48:t.next=54;break;case 50:t.prev=50,t.t0=t.catch(20),d=!0,f=t.t0;case 54:t.prev=54,t.prev=55,h||null==m.return||m.return();case 57:if(t.prev=57,!d){t.next=60;break}throw f;case 60:return t.finish(57);case 61:return t.finish(54);case 62:return c.finish(),t.abrupt("return",c);case 64:case"end":return t.stop()}},n,this,[[20,50,54,62],[55,,57,61]])}));return function(e,t,r){return n.apply(this,arguments)}}();var Ps=function(e,t){this.config=e,this.genome=t;var n={},r={};e.sources.sequences.forEach(function(e){if(n[e]=null,t){var o=t.getChromosomeName(e);r[o]=e}}),this.chrAliasTable=r,this.bamReaders=n,bs.setReaderDefaults(this,e)};Ps.prototype.readAlignments=function(e,t,n){this.genome;var r=this,o=r.chrAliasTable.hasOwnProperty(e)?r.chrAliasTable[e]:e;if(this.bamReaders.hasOwnProperty(o)&&"none"!==this.bamReaders[o]){var i,a=r.bamReaders[o];if(!a){i={url:r.config.sources.url.replace("$CHR",o)},r.config.sources.indexURL&&(i.indexURL=r.config.sources.indexURL.replace("$CHR",o));var s=Object.assign(r.config,i);a=new xs(s),r.bamReaders[o]=a}return a.readAlignments(o,t,n).catch(function(a){return console.error(a),Ar.presentAlert(i.url),r.bamReaders[o]="none",new ns(e,t,n)})}return Promise.resolve(new ns(e,t,n))};var Is=function(e,t){this.config=e,this.genome=t,bs.setReaderDefaults(this,e)};Is.prototype.readAlignments=function(e,t,n){var r=this;return function(){var e=this,t=this.genome;if(this.header)return Promise.resolve(this.header);var n=this.config.url+"?file="+this.config.alignmentFile+"&options=-b,-H",r=Zn(this.config);return bs.readHeader(n,r,t).then(function(t){return e.header=t,t})}.call(r).then(function(o){var i,a;return i=o.chrAliasTable.hasOwnProperty(e)?o.chrAliasTable[e]:e,a=r.config.url+"?reference="+r.config.referenceFile+"&file="+r.config.alignmentFile+"&region="+i+":"+t+"-"+n,Dr.loadString(a,Zn(r.config)).then(function(a){var s;return o.chrToIndex[i],s=new ns(e,t,n,r.samplingWindowSize,r.samplingDepth,r.pairsSupported,r.alleleFreqThreshold),bs.decodeSamRecords(a,s,i,t,n,r.filter),s})})};var Ms=function(e,t){this.config=e,this.genome=t,bs.setReaderDefaults(this,e)};Ms.prototype.readAlignments=function(t,n,r,o){var i,a=this,s=this.genome;i=a.header&&a.header.chrAliasTable.hasOwnProperty(t)?a.header.chrAliasTable[t]:t;var l=a.config.endpoint+"/reads/"+a.config.id+"?format=BAM&referenceName="+i+"&start="+n+"&end="+r;return Dr.loadJson(l,a.config).then(function(e){return t=e.htsget.urls,n=[],t.forEach(function(e){if(e.url.startsWith("data:"))n.push(Promise.resolve(function(e){var t=e.split(","),n=t[0].split(":")[1],r=t[1];r=n.indexOf("base64")>=0?atob(r):decodeURI(r);for(var o=new Uint8Array(r.length),i=0;i<r.length;i++)o[i]=r.charCodeAt(i);return o}(e.url)));else{var t={};e.headers&&(t.headers=e.headers,t.headers.hasOwnProperty("referer")&&delete t.headers.referer),n.push(new Promise(function(n,r){Dr.loadArrayBuffer(e.url,t).then(function(e){n(new Uint8Array(e))})}))}}),Promise.all(n);var t,n}).then(function(l){var c=dr(function(e){var t=0;e.forEach(function(e){t+=e.length});var n=0,r=new Uint8Array(t);return e.forEach(function(e){r.set(e,n),n+=e.length}),r}(l).buffer);a.header||(a.header=bs.decodeBamHeader(c,s));var u=a.header.chrToIndex[t],p=new ns(t,n,r,a.samplingWindowSize,a.samplingDepth,a.pairsSupported,a.alleleFreqThreshold);return bs.decodeBamRecords(c,a.header.size,p,a.header.chrNames,u,n,r),p.finish(),0===p.alignments.length?function(t,n,r){return u===e&&a.header.chrAliasTable.hasOwnProperty(t)&&!o?(i=a.header.chrAliasTable[t],a.readAlignments(i,n,r,1)):p}(t,n,r):p})};var Ds=eval,Ls=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==D(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=35)}([function(e,t){var n=function(e){function t(){return R(this,t),U(this,B(t).apply(this,arguments))}return G(t,H(Error)),t}(),r=function(e){function t(){return R(this,t),U(this,B(t).apply(this,arguments))}return G(t,n),t}();e.exports={CramBufferOverrunError:function(e){function t(){return R(this,t),U(this,B(t).apply(this,arguments))}return G(t,r),t}(),CramMalformedError:r,CramUnimplementedError:function(e){function t(){return R(this,t),U(this,B(t).apply(this,arguments))}return G(t,H(Error)),t}(),CramSizeLimitError:function(e){function t(){return R(this,t),U(this,B(t).apply(this,arguments))}return G(t,n),t}(),CramArgumentError:function(e){function t(){return R(this,t),U(this,B(t).apply(this,arguments))}return G(t,n),t}()}},function(e,t,n){(function(e){var r=n(37),o=n(38),i=n(19);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(u(t),e=s(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var p=!0,h=0;h<l;h++)if(c(e,i+h)!==c(t,h)){p=!1;break}if(p)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return V(B(t,e.length-n),e,n,r)}function S(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return S(e,t,n,r)}function C(e,t,n,r){return V(z(t),e,n,r)}function _(e,t,n,r){return V(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,p=c>239?4:c>223?3:c>191?2:1;if(o+p<=n)switch(p){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,p=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=p}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return p(null,e)},l.allocUnsafeSlow=function(e){return p(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),p=0;p<s;++p)if(c[p]!==u[p]){i=c[p],a=u[p];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=G(e[i]);return o}function P(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return i||N(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return i||N(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":D(window))&&(n=window)}e.exports=n},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,p=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(9),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=p;var i=n(7);i.inherits=n(4);var a=n(21),s=n(16);i.inherits(p,a);for(var l=o(s.prototype),c=0;c<l.length;c++){var u=l[c];p.prototype[u]||(p.prototype[u]=s.prototype[u])}function p(e){if(!(this instanceof p))return new p(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),p.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(t,n,r){var o=r(0).CramBufferOverrunError,i={int:!0,byte:!0,long:!0,byteArray:!0,byteArrayBlock:!0};t.exports=function(){function t(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:{},r=arguments.length>1?arguments[1]:e;if(R(this,t),this.parameters=n,this.dataType=r,!r)throw new TypeError("must provide a data type to codec constructor");if(!i[r])throw new TypeError("invalid data type ".concat(r))}return F(t,[{key:"_getBits",value:function(e,t,n){var r=0;if(t.bytePosition+(7-t.bitPosition+n)/8>e.length)throw new o("read error during decoding. the file seems to be truncated.");for(var i=n;i;i-=1)r<<=1,r|=e[t.bytePosition]>>t.bitPosition&1,t.bitPosition-=1,t.bitPosition<0&&(t.bytePosition+=1),t.bitPosition&=7;return r}}]),t}()},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==D(e)},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==D(e)&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==D(e)||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(1).Buffer)},function(t,n,r){var o=r(72),i=r(0).CramBufferOverrunError;t.exports={itf8Size:function(e){return-128&e?-16384&e?-2097152&e?-268435456&e?5:4:3:2:1},parseItf8:function(e,t){var n,r=t,o=e[r];if(o<128?(n=o,r+=1):o<192?(n=16383&(o<<8|e[r+1]),r+=2):o<224?(n=2097151&(o<<16|e[r+1]<<8|e[r+2]),r+=3):o<240?(n=268435455&(o<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]),r+=4):(n=(15&o)<<28|e[r+1]<<20|e[r+2]<<12|e[r+3]<<4|15&e[r+4],r+=5),r>e.length)throw new i("Attempted to read beyond end of buffer; this file seems truncated.");return[n,r-t]},parseItem:function(t,n){var r=arguments.length>2&&arguments[2]!==e?arguments[2]:0,o=arguments.length>3&&arguments[3]!==e?arguments[3]:0,i=n.parse(t),a=i.offset,s=i.result;return s._endPosition=a+o,s._size=a-r,s},tinyMemoize:function(e,t){var n=e.prototype[t],r="_memo_".concat(t);e.prototype[t]=function(){return r in this||(this[r]=n.call(this)),this[r]}},sequenceMD5:function(e){return o(e.toUpperCase().replace(/[^\x21-\x7e]/g,""))}}},function(e,t,n){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,o)});default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick(function(){e.apply(null,i)})}}}:e.exports=t}).call(this,n(3))},function(e,t,n){var r=n(1),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=D(n))throw new TypeError(n+"must be non-object");for(var r in n)o(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){var r=n(0).CramMalformedError,o=n(13),i=function e(){R(this,e),this.F=void 0,this.C=void 0};function a(e,t,n,r){return n*(e>>r)+(e&(1<<r)-1)-t}var s={FC:i,AriDecoder:function e(){R(this,e),this.fc=new Array(256);for(var t=0;t<this.fc.length;t+=1)this.fc[t]=new i;this.R=null},Symbol:function e(){R(this,e),this.start=void 0,this.freq=void 0},symbolInit:function(e,t,n){if(!(t<=65536))throw new r("assertion failed: start <= 1<<16");if(!(n<=65536-t))throw new r("assertion failed: freq <= 1<<16");e.start=t,e.freq=n},advanceStep:a,advanceSymbolStep:function(e,t,n){return a(e,t.start,t.freq,n)},get:function(e,t){return e&(1<<t)-1},advanceSymbol:function(e,t,n,r){return function(e,t,n,r,i){if((e=r*(e>>i)+(e&(1<<i)-1)-n)<o.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<o.RANS_BYTE_L);return e}(e,t,n.start,n.freq,r)},renormalize:function(e,t){if(e<o.RANS_BYTE_L)do{e=e<<8|255&t.get()}while(e<o.RANS_BYTE_L);return e}};e.exports=s},function(e,t){e.exports={TF_SHIFT:12,TOTFREQ:4096,RANS_BYTE_L:1<<23}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==D(e)&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(t=e.exports=n(21)).Stream=t,t.Readable=t,t.Writable=n(16),t.Duplex=n(5),t.Transform=n(25),t.PassThrough=n(46)},function(e,t,n){(function(t,r,o){var i=n(9);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:i.nextTick;v.WritableState=g;var c=n(7);c.inherits=n(4);var u,p={deprecate:n(45)},h=n(22),d=n(10).Buffer,f=o.Uint8Array||function(){},m=n(23);function y(){}function g(e,t){s=s||n(5),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var p=!1===e.decodeStrings;this.decodeStrings=!p,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),k(e,t))}(e,n,r,t,o);else{var a=C(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?l(S,e,n,a,o):S(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||n(5),!(u.call(v,this)||this instanceof s))return new v(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),k(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,b(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,p=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,u,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)})}function k(e,t){var n=C(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(v,h),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===v&&e&&e._writableState instanceof g}})):u=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=y),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,o,i);return l}(this,o,s,e,t,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(3),n(43).setImmediate,n(2))},function(e,t){e.exports={CRAM_FLAG_PRESERVE_QUAL_SCORES:1,CRAM_FLAG_DETACHED:2,CRAM_FLAG_MATE_DOWNSTREAM:4,CRAM_FLAG_NO_SEQ:8,CRAM_FLAG_MASK:15,CRAM_M_REVERSE:1,CRAM_M_UNMAP:2,BAM_FPAIRED:1,BAM_FPROPER_PAIR:2,BAM_FUNMAP:4,BAM_FMUNMAP:8,BAM_FREVERSE:16,BAM_FMREVERSE:32,BAM_FREAD1:64,BAM_FREAD2:128,BAM_FSECONDARY:256,BAM_FQCFAIL:512,BAM_FDUP:1024,BAM_FSUPPLEMENTARY:2048,BAM_CMATCH:0,BAM_CINS:1,BAM_CDEL:2,BAM_CREF_SKIP:3,BAM_CSOFT_CLIP:4,BAM_CHARD_CLIP:5,BAM_CPAD:6,BAM_CEQUAL:7,BAM_CDIFF:8,BAM_CBACK:9,BAM_CIGAR_STR:"MIDNSHP:XB",BAM_CIGAR_SHIFT:4,BAM_CIGAR_MASK:15,BAM_CIGAR_TYPE:246183}},function(e,t,n){var r=n(36);e.exports=r},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(1).Buffer,o=n(39).Transform,i=n(51),a=n(27),s=n(26).ok,l=n(1).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";i.Z_MIN_WINDOWBITS=8,i.Z_MAX_WINDOWBITS=15,i.Z_DEFAULT_WINDOWBITS=15,i.Z_MIN_CHUNK=64,i.Z_MAX_CHUNK=1/0,i.Z_DEFAULT_CHUNK=16384,i.Z_MIN_MEMLEVEL=1,i.Z_MAX_MEMLEVEL=9,i.Z_DEFAULT_MEMLEVEL=8,i.Z_MIN_LEVEL=-1,i.Z_MAX_LEVEL=9,i.Z_DEFAULT_LEVEL=i.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(i),p=0;p<u.length;p++){var h=u[p];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:i[h],writable:!1})}for(var d={Z_OK:i.Z_OK,Z_STREAM_END:i.Z_STREAM_END,Z_NEED_DICT:i.Z_NEED_DICT,Z_ERRNO:i.Z_ERRNO,Z_STREAM_ERROR:i.Z_STREAM_ERROR,Z_DATA_ERROR:i.Z_DATA_ERROR,Z_MEM_ERROR:i.Z_MEM_ERROR,Z_BUF_ERROR:i.Z_BUF_ERROR,Z_VERSION_ERROR:i.Z_VERSION_ERROR},f=Object.keys(d),m=0;m<f.length;m++){var y=f[m];d[d[y]]=y}function g(e,t,n){var o=[],i=0;function a(){for(var t;null!==(t=e.read());)o.push(t),i+=t.length;e.once("readable",a)}function s(){var t,a=null;i>=l?a=new RangeError(c):t=r.concat(o,i),o=[],e.close(),n(a,t)}e.on("error",function(t){e.removeListener("end",s),e.removeListener("readable",a),n(t)}),e.on("end",s),e.end(t),a()}function v(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);E.call(this,e,i.DEFLATE)}function S(e){if(!(this instanceof S))return new S(e);E.call(this,e,i.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);E.call(this,e,i.GZIP)}function C(e){if(!(this instanceof C))return new C(e);E.call(this,e,i.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);E.call(this,e,i.DEFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);E.call(this,e,i.INFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);E.call(this,e,i.UNZIP)}function x(e){return e===i.Z_NO_FLUSH||e===i.Z_PARTIAL_FLUSH||e===i.Z_SYNC_FLUSH||e===i.Z_FULL_FLUSH||e===i.Z_FINISH||e===i.Z_BLOCK}function E(e,n){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,o.call(this,e),e.flush&&!x(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!x(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||i.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:i.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new i.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var l=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var c=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(c=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,l,e.memLevel||t.Z_DEFAULT_MEMLEVEL,c,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function O(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=b,t.Inflate=S,t.Gzip=w,t.Gunzip=C,t.DeflateRaw=_,t.InflateRaw=k,t.Unzip=T,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new S(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new k(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new C(e)},t.createUnzip=function(e){return new T(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new b(t),e,n)},t.deflateSync=function(e,t){return v(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new w(t),e,n)},t.gzipSync=function(e,t){return v(new w(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new _(t),e,n)},t.deflateRawSync=function(e,t){return v(new _(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new T(t),e,n)},t.unzipSync=function(e,t){return v(new T(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new S(t),e,n)},t.inflateSync=function(e,t){return v(new S(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new C(t),e,n)},t.gunzipSync=function(e,t){return v(new C(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),g(new k(t),e,n)},t.inflateRawSync=function(e,t){return v(new k(t),e)},a.inherits(E,o),E.prototype.params=function(n,r,o){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var a=this;this.flush(i.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(n,r),a._hadError||(a._level=n,a._strategy=r,o&&o())})}else e.nextTick(o)},E.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},E.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},E.prototype.flush=function(t,n){var o=this,a=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=i.Z_FULL_FLUSH),a.ended?n&&e.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",function(){return o.flush(t,n)}):(this._flushFlag=t,this.write(r.alloc(0),"",n))},E.prototype.close=function(t){A(this,t),e.nextTick(O,this)},E.prototype._transform=function(e,t,n){var o,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?o=this._finishFlushFlag:(o=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||i.Z_NO_FLUSH)),void this._processChunk(e,o,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},E.prototype._processChunk=function(e,t,n){var o=e&&e.length,i=this._chunkSize-this._offset,a=0,u=this,p="function"==typeof n;if(!p){var h,d=[],f=0;this.on("error",function(e){h=e}),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,a,o,this._buffer,this._offset,i)}while(!this._hadError&&v(m[0],m[1]));if(this._hadError)throw h;if(f>=l)throw A(this),new RangeError(c);var y=r.concat(d,f);return A(this),y}s(this._handle,"zlib binding closed");var g=this._handle.write(t,e,a,o,this._buffer,this._offset,i);function v(l,c){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var h=i-c;if(s(h>=0,"have should not go down"),h>0){var m=u._buffer.slice(u._offset,u._offset+h);u._offset+=h,p?u.push(m):(d.push(m),f+=m.length)}if((0===c||u._offset>=u._chunkSize)&&(i=u._chunkSize,u._offset=0,u._buffer=r.allocUnsafe(u._chunkSize)),0===c){if(a+=o-l,o=l,!p)return!0;var y=u._handle.write(t,e,a,o,u._buffer,u._offset,u._chunkSize);return y.callback=v,void(y.buffer=e)}if(!p)return!1;n()}}g.buffer=e,g.callback=v},a.inherits(b,E),a.inherits(S,E),a.inherits(w,E),a.inherits(C,E),a.inherits(_,E),a.inherits(k,E),a.inherits(T,E)}).call(this,n(3))},function(e,t,n){(function(t,r){var o=n(9);e.exports=b;var i,a=n(19);b.ReadableState=v,n(14).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(22),c=n(10).Buffer,u=t.Uint8Array||function(){},p=n(7);p.inherits=n(4);var h=n(40),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var f,m=n(41),y=n(23);p.inherits(b,l);var g=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(i=i||n(5));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(24).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(5),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function S(e,t,n,r,o){var i,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}}(e,a)):(o||(i=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):x(e,a)):w(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),x(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},b.prototype.unshift=function(e){return S(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return f||(f=n(24).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var C=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(T,e):T(e))}function T(e){d("emit readable"),e.emit("readable"),P(e)}function x(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(E,e,t))}function E(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){d("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;for(e-=o.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,o=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0==(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):k(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&M(this),null;var r,o=t.needReadable;return d("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",o=!0),t.ended||t.reading?d("reading or ended",o=!1):o&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,t);var l=t&&!1===t.end||e===r.stdout||e===r.stderr?v:c;function c(){d("onend"),e.end()}i.endEmitted?o.nextTick(l):n.once("end",l),e.on("unpipe",function t(r,o){d("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,d("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",f),p=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",u);var p=!1,h=!1;function f(t){d("ondata"),h=!1,!1!==e.write(t)||h||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!p&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function m(t){d("onerror",t),v(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",g),v()}function g(){d("onfinish"),e.removeListener("close",y),v()}function v(){d("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",y),e.once("finish",g),e.emit("pipe",n),i.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):o.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(O,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){d("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<g.length;i++)e.on(g[i],this.emit.bind(this,g[i]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,n(2),n(3))},function(e,t,n){e.exports=n(14).EventEmitter},function(e,t,n){var r=n(9);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){var r=n(10).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=p,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){e.exports=a;var r=n(5),o=n(7);function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(4),o.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=n(27),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function u(e){return!o(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var p=e.exports=g,h=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(i.isFunction(e)){if(l)return e.name;var t=e.toString().match(h);return t&&t[1]}}function f(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function m(e){if(l||!i.isFunction(e))return i.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,n,r,o){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function g(e,t){e||y(e,!0,t,"==",p.ok)}function v(e,t,n,a){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==D(e)||null!==t&&"object"==D(t)){if(u(e)&&u(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=b(e),a=b(t);if(o&&!a||!o&&a)return!1;if(o)return v(e=s.call(e),t=s.call(t),n);var l,c,u=C(e),p=C(t);if(u.length!==p.length)return!1;for(u.sort(),p.sort(),c=u.length-1;c>=0;c--)if(u[c]!==p[c])return!1;for(c=u.length-1;c>=0;c--)if(!v(e[l=u[c]],t[l],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function S(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&y(o,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&o&&!n;if((!e&&i.isError(o)&&a&&S(o,n)||s)&&y(o,n,"Got unwanted exception"+r),e&&o&&n&&!S(o,n)||!e&&o)throw o}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=f(m(this.actual),128)+" "+this.operator+" "+f(m(this.expected),128),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=d(t),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}},i.inherits(p.AssertionError,Error),p.fail=y,p.ok=g,p.equal=function(e,t,n){e!=t&&y(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){v(e,t,!1)||y(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){v(e,t,!0)||y(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){v(e,t,!1)&&y(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){v(t,n,!0)&&y(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){w(!0,e,t,n)},p.doesNotThrow=function(e,t,n){w(!1,e,t,n)},p.ifError=function(e){if(e)throw e};var C=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(2))},function(e,t,n){(function(e,r){var o=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<i;l=r[++n])m(l)||!S(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,o){if(v(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(!0===r.noDeprecation)return n;var i=!1;return function(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return g(o)||(o=u(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return a.forEach(function(e,n){t[e]=!0}),t}();if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(_(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return p(n)}var c,S="",k=!1,x=["{","}"];return d(n)&&(k=!0,x=["[","]"]),_(n)&&(S=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(S=" "+RegExp.prototype.toString.call(n)),w(n)&&(S=" "+Date.prototype.toUTCString.call(n)),C(n)&&(S=" "+p(n)),0!==a.length||k&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=k?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)T(t,String(a))?i.push(h(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(e,t,n,r,o,!0))}),i}(e,n,r,s,a):a.map(function(t){return h(e,n,r,s,t,k)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,S,x)):x[0]+S+x[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),T(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return S(e)&&"[object RegExp]"===k(e)}function S(e){return"object"==D(e)&&null!==e}function w(e){return S(e)&&"[object Date]"===k(e)}function C(e){return S(e)&&("[object Error]"===k(e)||e instanceof Error)}function _(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.debuglog=function(e){if(v(i)&&(i=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"==D(e)},t.isUndefined=v,t.isRegExp=b,t.isObject=S,t.isDate=w,t.isError=C,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==D(e)||void 0===e},t.isBuffer=n(52),t.log=function(){},t.inherits=n(4),t._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(2),n(3))},function(e,t,n){e.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(n,r,o){n.exports=function(){function n(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:{};if(R(this,n),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return F(n,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:t.mark(function n(){var r,o,i,a,s,l,c;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,i=e,t.prev=3,a=this[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=12;break}return l=q(s.value,1),c=l[0],t.next=9,c;case 9:r=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,r||null==a.return||a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},n,this,[[3,14,18,26],[19,,21,25]])})},{key:"values",value:t.mark(function n(){var r,o,i,a,s,l,c;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,i=e,t.prev=3,a=this[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=12;break}return l=q(s.value,2),c=l[1],t.next=9,c;case 9:r=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,r||null==a.return||a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},n,this,[[3,14,18,26],[19,,21,25]])})},{key:Symbol.iterator,value:t.mark(function n(){var r,o,i,a,s,l,c,u,p,h,d,f,m,y;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,i=e,t.prev=3,a=this.cache[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=12;break}return l=s.value,t.next=9,l;case 9:r=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,r||null==a.return||a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:c=!0,u=!1,p=e,t.prev=29,h=this.oldCache[Symbol.iterator]();case 31:if(c=(d=h.next()).done){t.next=41;break}if(f=d.value,m=q(f,1),y=m[0],t.t1=this.cache.has(y),t.t1){t.next=38;break}return t.next=38,f;case 38:c=!0,t.next=31;break;case 41:t.next=47;break;case 43:t.prev=43,t.t2=t.catch(29),u=!0,p=t.t2;case 47:t.prev=47,t.prev=48,c||null==h.return||h.return();case 50:if(t.prev=50,!u){t.next=53;break}throw p;case 53:return t.finish(50);case 54:return t.finish(47);case 55:case"end":return t.stop()}},n,this,[[3,14,18,26],[19,,21,25],[29,43,47,55],[48,,50,54]])})},{key:"size",get:function(){var t=0,n=!0,r=!1,o=e;try{for(var i,a=this.oldCache.keys()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.cache.has(s)||t++}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this._size+t}}]),n}()},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=o;var i={},a={};function s(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=c(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function l(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=f)return _}else{if(e<=-m)return k;if(e+1>=m)return C}return e<0?l(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=l,r.fromBits=c;var u=Math.pow;function p(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return p(e.substring(1),t,n).neg();for(var o=l(u(n,8)),i=g,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),n);if(s<8){var h=l(u(n,s));i=i.mul(h).add(l(c))}else i=(i=i.mul(o)).add(l(c))}return i.unsigned=t,i}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?p(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=p,r.fromValue=h;var d=4294967296,f=d*d,m=f/2,y=s(1<<24),g=s(0);r.ZERO=g;var v=s(0,!0);r.UZERO=v;var b=s(1);r.ONE=b;var S=s(1,!0);r.UONE=S;var w=s(-1);r.NEG_ONE=w;var C=c(-1,2147483647,!1);r.MAX_VALUE=C;var _=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=_;var k=c(0,-2147483648,!1);r.MIN_VALUE=k;var T=r.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=l(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=l(u(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),c=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return o(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(o(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(b)},T.neg=T.negate,T.add=function(e){o(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=0,p=0,d=0,f=0;return d+=(f+=i+(65535&e.low))>>>16,p+=(d+=r+l)>>>16,u+=(p+=n+s)>>>16,u+=t+a,c((d&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},T.subtract=function(e){return o(e)||(e=h(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return g;if(o(e)||(e=h(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return l(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,u=65535&e.high,p=e.low>>>16,d=65535&e.low,f=0,m=0,v=0,b=0;return v+=(b+=a*d)>>>16,m+=(v+=i*d)>>>16,v&=65535,m+=(v+=a*p)>>>16,f+=(m+=r*d)>>>16,m&=65535,f+=(m+=i*p)>>>16,m&=65535,f+=(m+=a*u)>>>16,f+=t*d+r*p+i*u+a*s,c((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(o(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return S;i=v}else{if(this.eq(k))return e.eq(b)||e.eq(w)?k:e.eq(k)?b:(t=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(k))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:u(2,a-48),p=l(t),d=p.mul(e);d.isNegative()||d.gt(r);)d=(p=l(t-=s,this.unsigned)).mul(e);p.isZero()&&(p=b),i=i.add(p),r=r.sub(d)}return i},T.div=T.divide,T.modulo=function(e){return o(e)||(e=h(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.and=function(e){return o(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return o(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return o(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t,n){var r=n(87),o=n(94),i=n(97);function a(e){var t=r.parse(e),n=t.protocol,a=t.pathname;return"file:"===n?new i(unescape(a)):new o(e)}e.exports={LocalFile:i,RemoteFile:o,fromUrl:a,open:function(e,t,n){if(n)return n;if(e)return a(e);if(t)return new i(t);throw new Error("no url, path, or filehandle provided, cannot open")}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function o(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e[r],n=o.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return new n(function(n,o){i.push(function(e){if(e)return o(e);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(1===i.length||!t)return n(i[0]);var s={};i.forEach(function(e,n){var r=t[n];r&&(s[r]=e)}),n(s)}),e.call.apply(e,[r].concat(i))})}}o.argumentNames=r,o.Promise=void 0,t.promisify=o},function(e,t,n){var r=n(18),o=n(99),i=n(100);e.exports={CramFile:r,IndexedCramFile:o,CraiIndex:i}},function(n,r,o){(function(r){var i=o(20),a=o(61),s=o(30),l=o(0),c=l.CramUnimplementedError,u=l.CramMalformedError,p=o(62),h=o(66),d=h.cramFileDefinition,f=h.getSectionParsers,m=o(71),y=o(33).open,g=o(8),v=g.parseItem,b=g.tinyMemoize,S=o(98).parseHeaderText,w=function(){function n(e){R(this,n),this.file=y(e.url,e.path,e.filehandle),this.validateChecksums=!0,this.fetchReferenceSequenceCallback=e.seqFetch,this.options={checkSequenceMD5:!1!==e.checkSequenceMD5,cacheSize:void 0!==e.cacheSize?e.cacheSize:2e4},this.featureCache=new s({maxSize:this.options.cacheSize})}var o,l,h,g,b,w,C,_,k;return F(n,[{key:"toString",value:function(){return this.file.filename?this.file.filename:this.file.url?this.file.url:"(cram file)"}},{key:"read",value:function(e,t,n,r){return this.file.read(e,t,n,r)}},{key:"stat",value:function(){return this.file.stat()}},{key:"getDefinition",value:(k=N(t.mark(function e(){var n,o;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.allocUnsafe(d.maxLength),e.next=3,this.file.read(n,0,d.maxLength,0);case 3:if(2===(o=d.parser.parse(n).result).majorVersion||3===o.majorVersion){e.next=6;break}throw new c("CRAM version ".concat(o.majorVersion," not supported"));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"getSamHeader",value:(_=N(t.mark(function e(){var n,r,o,i,a;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getContainerById(0);case 2:if(n=e.sent){e.next=5;break}throw new u("file contains no containers");case 5:return e.next=7,n.getFirstBlock();case 7:return r=e.sent,o=r.content,i=o.readInt32LE(0),a=o.toString("utf8",4,4+i),e.abrupt("return",S(a));case 12:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"getSectionParsers",value:(C=N(t.mark(function e(){var n,r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return n=e.sent,r=n.majorVersion,e.abrupt("return",f(r));case 5:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"getContainerById",value:(w=N(t.mark(function e(n){var r,o,i,a,s,l,c,p,h;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return r=e.sent,o=r.cramFileDefinition.maxLength,e.next=6,this.file.stat();case 6:i=e.sent,a=i.size,s=r.cramContainerHeader1,c=0;case 10:if(!(c<=n)){e.next=35;break}if(!(o+s.maxLength+8>=a)){e.next=13;break}return e.abrupt("return");case 13:return l=this.getContainerAtPosition(o),e.next=16,l.getHeader();case 16:if(p=e.sent){e.next=19;break}throw new u("container ".concat(n," not found in file"));case 19:if(0!==c){e.next=31;break}o=p._endPosition,h=0;case 22:if(!(h<p.numBlocks)){e.next=29;break}return e.next=25,this.readBlock(o);case 25:o=e.sent._endPosition;case 26:h+=1,e.next=22;break;case 29:e.next=32;break;case 31:o+=p._size+p.length;case 32:c+=1,e.next=10;break;case 35:return e.abrupt("return",l);case 36:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"checkCrc32",value:(b=N(t.mark(function e(n,o,i,s){var l,c;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.allocUnsafe(o),e.next=3,this.file.read(l,0,o,n);case 3:if((c=a.unsigned(l))===i){e.next=6;break}throw new u("crc mismatch in ".concat(s,": recorded CRC32 = ").concat(i,", but calculated CRC32 = ").concat(c));case 6:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return b.apply(this,arguments)})},{key:"containerCount",value:(g=N(t.mark(function e(){var n,r,o,i,a,s,l,c;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return n=e.sent,e.next=5,this.file.stat();case 5:r=e.sent,o=r.size,i=n.cramContainerHeader1,a=0,s=n.cramFileDefinition.maxLength;case 9:if(!(s+i.maxLength+8<o)){e.next=31;break}return e.next=12,this.getContainerAtPosition(s).getHeader();case 12:if(l=e.sent){e.next=15;break}return e.abrupt("break",31);case 15:if(0!==a){e.next=27;break}s=l._endPosition,c=0;case 18:if(!(c<l.numBlocks)){e.next=25;break}return e.next=21,this.readBlock(s);case 21:s=e.sent._endPosition;case 22:c+=1,e.next=18;break;case 25:e.next=28;break;case 27:s+=l._size+l.length;case 28:a+=1;case 29:e.next=9;break;case 31:return e.abrupt("return",a);case 32:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"getContainerAtPosition",value:function(e){return new m(this,e)}},{key:"readBlockHeader",value:(h=N(t.mark(function e(n){var o,i,a,s,l;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSectionParsers();case 2:return o=e.sent,i=o.cramBlockHeader,e.next=6,this.file.stat();case 6:if(a=e.sent,s=a.size,!(n+i.maxLength>=s)){e.next=10;break}return e.abrupt("return");case 10:return l=r.allocUnsafe(i.maxLength),e.next=13,this.file.read(l,0,i.maxLength,n);case 13:return e.abrupt("return",v(l,i.parser,0,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"_parseSection",value:(l=N(t.mark(function n(o,i){var a,s,l,c,p,h,d=arguments;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=d.length>2&&d[2]!==e?d[2]:o.maxLength,!(s=d.length>3?d[3]:e)){t.next=6;break}l=s,t.next=15;break;case 6:return t.next=8,this.file.stat();case 8:if(c=t.sent,p=c.size,!(i+a>=p)){t.next=12;break}return t.abrupt("return");case 12:return l=r.allocUnsafe(a),t.next=15,this.file.read(l,0,a,i);case 15:if((h=v(l,o.parser,0,i))._size===a){t.next=18;break}throw new u("section read error: requested size ".concat(a," does not equal parsed size ").concat(h._size));case 18:return t.abrupt("return",h);case 19:case"end":return t.stop()}},n,this)})),function(e,t){return l.apply(this,arguments)})},{key:"_uncompress",value:function(e,t,n){if("gzip"===e)i.gunzipSync(t).copy(n);else{if("rans"!==e)throw new c("".concat(e," decompression not yet implemented"));p.uncompress(t,n)}}},{key:"readBlock",value:(o=N(t.mark(function e(n){var o,i,a,s,l,c,u,p;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDefinition();case 2:return o=e.sent,i=o.majorVersion,e.next=6,this.getSectionParsers();case 6:return a=e.sent,e.next=9,this.readBlockHeader(n);case 9:if(s=e.sent,l=s._endPosition,s.contentPosition=s._endPosition,c=r.allocUnsafe(s.uncompressedSize),"raw"===s.compressionMethod){e.next=20;break}return u=r.allocUnsafe(s.compressedSize),e.next=17,this.read(u,0,s.compressedSize,l);case 17:this._uncompress(s.compressionMethod,u,c),e.next=22;break;case 20:return e.next=22,this.read(c,0,s.uncompressedSize,l);case 22:if(s.content=c,!(i>=3)){e.next=35;break}return e.next=25,this._parseSection(a.cramBlockCrc32,l+s.compressedSize);case 25:if(p=e.sent,s.crc32=p.crc32,e.t0=this.validateChecksums,!e.t0){e.next=31;break}return e.next=31,this.checkCrc32(n,s._size+s.compressedSize,s.crc32,"block data");case 31:s._endPosition=p._endPosition,s._size=s.compressedSize+a.cramBlockCrc32.maxLength,e.next=36;break;case 35:s._endPosition=l+s.compressedSize,s._size=s.compressedSize;case 36:return e.abrupt("return",s);case 37:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})}]),n}();"getDefinition getSectionParsers getSamHeader".split(" ").forEach(function(e){return b(w,e)}),n.exports=w}).call(this,o(1).Buffer)},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],a=n[1],s=new i(3*(r+a)/4-a),l=0,u=a>0?r-4:r,p=0;p<u;p+=4)t=o[e.charCodeAt(p)]<<18|o[e.charCodeAt(p+1)]<<12|o[e.charCodeAt(p+2)]<<6|o[e.charCodeAt(p+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=o[e.charCodeAt(p)]<<2|o[e.charCodeAt(p+1)]>>4,s[l++]=255&t),1===a&&(t=o[e.charCodeAt(p)]<<10|o[e.charCodeAt(p+1)]<<4|o[e.charCodeAt(p+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,p=n?o-1:0,h=n?-1:1,d=e[t+p];for(p+=h,i=d&(1<<-u)-1,d>>=-u,u+=s;u>0;i=256*i+e[t+p],p+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+p],p+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=c}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,p=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*l-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&s,d+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+d]=255&a,d+=f,a/=256,c-=8);e[n+d-f]|=128*m}},function(e,t,n){e.exports=o;var r=n(14).EventEmitter;function o(){r.call(this)}n(4)(o,r),o.Readable=n(15),o.Writable=n(47),o.Duplex=n(48),o.Transform=n(49),o.PassThrough=n(50),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function o(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",o),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",o),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){var r=n(10).Buffer,o=n(42);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,o=r.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=o,n=a,i.data.copy(t,n),a+=i.data.length,i=i.next;return o},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(44),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,o,i,a,s,l=1,c={},u=!1,p=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(f,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[l]=o,r(l),l++},h.clearImmediate=d}function d(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(2),n(3))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(2))},function(e,t,n){e.exports=i;var r=n(25),o=n(7);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(4),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(16)},function(e,t,n){e.exports=n(5)},function(e,t,n){e.exports=n(15).Transform},function(e,t,n){e.exports=n(15).PassThrough},function(e,t,n){(function(e,r){var o=n(26),i=n(53),a=n(54),s=n(57),l=n(60);for(var c in l)t[c]=l[c];function u(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},u.prototype.write=function(e,t,n,r,o,i,a){return this._write(!0,e,t,n,r,o,i,a)},u.prototype.writeSync=function(e,t,n,r,o,i,a){return this._write(!1,e,t,n,r,o,i,a)},u.prototype._write=function(n,i,a,s,l,c,u,p){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==t.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=p,this.strm.output=c,this.strm.next_out=u,this.flush=i,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return r.nextTick(function(){h._process(),h._after()}),this},u.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},u.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},u.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(e,n,r,i,a){o(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(e>=8&&e<=15,"invalid windowBits"),o(n>=-1&&n<=9,"invalid compression level"),o(r>=1&&r<=9,"invalid memlevel"),o(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,i,a),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(e,n,r,o,l){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=o,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=u}).call(this,n(1).Buffer,n(3))},function(e,t){e.exports=function(e){return e&&"object"==D(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){var r,o=n(11),i=n(55),a=n(28),s=n(29),l=n(56),c=0,u=4,p=0,h=-2,d=-1,f=1,m=4,y=2,g=8,v=9,b=286,S=30,w=19,C=2*b+1,_=15,k=3,T=258,x=T+k+1,E=42,A=103,O=113,P=666,I=1,M=2,D=3,L=4;function N(e,t){return e.msg=l[t],t}function R(e){return(e<<1)-(e>4?9:0)}function j(e){for(var t=e.length;--t>=0;)e[t]=0}function F(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(o.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function G(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function z(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function V(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-x?e.strstart-(e.w_size-x):0,c=e.window,u=e.w_mask,p=e.prev,h=e.strstart+T,d=c[i+a-1],f=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===f&&c[n+a-1]===d&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=T-(h-i),i=h-T,r>a){if(e.match_start=t,a=r,r>=s)break;d=c[i+a-1],f=c[i+a]}}}while((t=p[t&u])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function H(e){var t,n,r,i,l,c,u,p,h,d,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-x)){o.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=f?r-f:0}while(--n);t=n=f;do{r=e.prev[--t],e.prev[t]=r>=f?r-f:0}while(--n);i+=f}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,p=e.strstart+e.lookahead,h=i,d=void 0,(d=c.avail_in)>h&&(d=h),n=0===d?0:(c.avail_in-=d,o.arraySet(u,c.input,c.next_in,d,p),1===c.state.wrap?c.adler=a(c.adler,u,d,p):2===c.state.wrap&&(c.adler=s(c.adler,u,d,p)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<x&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<x){if(H(e),e.lookahead<x&&t===c)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-x&&(e.match_length=V(e,n)),e.match_length>=k)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(G(e,!1),0===e.strm.avail_out))return I}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(G(e,!0),0===e.strm.avail_out?D:L):e.last_lit&&(G(e,!1),0===e.strm.avail_out)?I:M}function q(e,t){for(var n,r,o;;){if(e.lookahead<x){if(H(e),e.lookahead<x&&t===c)return I;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-x&&(e.match_length=V(e,n),e.match_length<=5&&(e.strategy===f||e.match_length===k&&e.strstart-e.match_start>4096)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-k,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(G(e,!1),0===e.strm.avail_out))return I}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&G(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return I}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(G(e,!0),0===e.strm.avail_out?D:L):e.last_lit&&(G(e,!1),0===e.strm.avail_out)?I:M}function W(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*C),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*w+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(_+1),this.heap=new o.Buf16(2*b+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*b+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=y,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:O,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),p):N(e,h)}function Y(e){var t,n=$(e);return n===p&&((t=e.state).window_size=2*t.w_size,j(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=k-1,t.match_available=0,t.ins_h=0),n}function Q(e,t,n,r,i,a){if(!e)return h;var s=1;if(t===d&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>v||n!==g||r<8||r>15||t<0||t>9||a<0||a>m)return N(e,h);8===r&&(r=9);var l=new K;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,Y(e)}r=[new W(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(H(e),0===e.lookahead&&t===c)return I;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,G(e,!1),0===e.strm.avail_out))return I;if(e.strstart-e.block_start>=e.w_size-x&&(G(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===u?(G(e,!0),0===e.strm.avail_out?D:L):(e.strstart>e.block_start&&(G(e,!1),e.strm.avail_out),I)}),new W(4,4,8,4,U),new W(4,5,16,8,U),new W(4,6,32,32,U),new W(4,4,16,16,q),new W(8,16,32,32,q),new W(8,16,128,128,q),new W(8,32,128,256,q),new W(32,128,258,1024,q),new W(32,258,258,4096,q)],t.deflateInit=function(e,t){return Q(e,t,g,15,8,0)},t.deflateInit2=Q,t.deflateReset=Y,t.deflateResetKeep=$,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,p):h},t.deflate=function(e,t){var n,o,a,l;if(!e||!e.state||t>5||t<0)return e?N(e,h):h;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===P&&t!==u)return N(e,0===e.avail_out?-5:h);if(o.strm=e,n=o.last_flush,o.last_flush=t,o.status===E)if(2===o.wrap)e.adler=0,B(o,31),B(o,139),B(o,8),o.gzhead?(B(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),B(o,255&o.gzhead.time),B(o,o.gzhead.time>>8&255),B(o,o.gzhead.time>>16&255),B(o,o.gzhead.time>>24&255),B(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),B(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(B(o,255&o.gzhead.extra.length),B(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(B(o,0),B(o,0),B(o,0),B(o,0),B(o,0),B(o,9===o.level?2:o.strategy>=2||o.level<2?4:0),B(o,3),o.status=O);else{var d=g+(o.w_bits-8<<4)<<8;d|=(o.strategy>=2||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(d|=32),d+=31-d%31,o.status=O,z(o,d),0!==o.strstart&&(z(o,e.adler>>>16),z(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(a=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),F(e),a=o.pending,o.pending!==o.pending_buf_size));)B(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),F(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,B(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){a=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),F(e),a=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,B(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>a&&(e.adler=s(e.adler,o.pending_buf,o.pending-a,a)),0===l&&(o.status=A)}else o.status=A;if(o.status===A&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&F(e),o.pending+2<=o.pending_buf_size&&(B(o,255&e.adler),B(o,e.adler>>8&255),e.adler=0,o.status=O)):o.status=O),0!==o.pending){if(F(e),0===e.avail_out)return o.last_flush=-1,p}else if(0===e.avail_in&&R(t)<=R(n)&&t!==u)return N(e,-5);if(o.status===P&&0!==e.avail_in)return N(e,-5);if(0!==e.avail_in||0!==o.lookahead||t!==c&&o.status!==P){var f=2===o.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(H(e),0===e.lookahead)){if(t===c)return I;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(G(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===u?(G(e,!0),0===e.strm.avail_out?D:L):e.last_lit&&(G(e,!1),0===e.strm.avail_out)?I:M}(o,t):3===o.strategy?function(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=T){if(H(e),e.lookahead<=T&&t===c)return I;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+T;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=T-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=i._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(G(e,!1),0===e.strm.avail_out))return I}return e.insert=0,t===u?(G(e,!0),0===e.strm.avail_out?D:L):e.last_lit&&(G(e,!1),0===e.strm.avail_out)?I:M}(o,t):r[o.level].func(o,t);if(f!==D&&f!==L||(o.status=P),f===I||f===D)return 0===e.avail_out&&(o.last_flush=-1),p;if(f===M&&(1===t?i._tr_align(o):5!==t&&(i._tr_stored_block(o,0,0,!1),3===t&&(j(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),F(e),0===e.avail_out))return o.last_flush=-1,p}return t!==u?p:o.wrap<=0?1:(2===o.wrap?(B(o,255&e.adler),B(o,e.adler>>8&255),B(o,e.adler>>16&255),B(o,e.adler>>24&255),B(o,255&e.total_in),B(o,e.total_in>>8&255),B(o,e.total_in>>16&255),B(o,e.total_in>>24&255)):(z(o,e.adler>>>16),z(o,65535&e.adler)),F(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?p:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&69!==t&&73!==t&&91!==t&&t!==A&&t!==O&&t!==P?N(e,h):(e.state=null,t===O?N(e,-3):p):h},t.deflateSetDictionary=function(e,t){var n,r,i,s,l,c,u,d,f=t.length;if(!e||!e.state)return h;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==E||n.lookahead)return h;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(j(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new o.Buf8(n.w_size),o.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,H(n);n.lookahead>=k;){r=n.strstart,i=n.lookahead-(k-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=k-1,H(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){var r=n(11);function o(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,a=256,s=a+1+29,l=30,c=19,u=2*s+1,p=15,h=16,d=256,f=16,m=17,y=18,g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(2*(s+2));o(w);var C=new Array(2*l);o(C);var _=new Array(512);o(_);var k=new Array(256);o(k);var T=new Array(29);o(T);var x,E,A,O=new Array(l);function P(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function I(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?_[e]:_[256+(e>>>7)]}function D(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function L(e,t,n){e.bi_valid>h-n?(e.bi_buf|=t<<e.bi_valid&65535,D(e,e.bi_buf),e.bi_buf=t>>h-e.bi_valid,e.bi_valid+=n-h):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function N(e,t,n){L(e,n[2*t],n[2*t+1])}function R(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function j(e,t,n){var r,o,i=new Array(p+1),a=0;for(r=1;r<=p;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=R(i[s]++,s))}}function F(e){var t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*d]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){e.bi_valid>8?D(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function z(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&B(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!B(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function V(e,t,n){var r,o,i,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===r?N(e,o,t):(N(e,(i=k[o])+a+1,t),0!==(s=g[i])&&L(e,o-=T[i],s),N(e,i=M(--r),n),0!==(s=v[i])&&L(e,r-=O[i],s))}while(l<e.last_lit);N(e,d,t)}function H(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=u,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)z(e,i,n);o=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],z(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,z(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,s,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,y=t.stat_desc.max_length,g=0;for(i=0;i<=p;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<u;n++)(i=l[2*l[2*(r=e.heap[n])+1]+1]+1)>y&&(i=y,g++),l[2*r+1]=i,r>c||(e.bl_count[i]++,a=0,r>=m&&(a=f[r-m]),s=l[2*r],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(h[2*r+1]+a)));if(0!==g){do{for(i=y-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[y]--,g-=2}while(g>0);for(i=y;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>c||(l[2*o+1]!==i&&(e.opt_len+=(i-l[2*o+1])*l[2*o],l[2*o+1]=i),r--)}}(e,t),j(i,c,e.bl_count)}function U(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*f]++):s<=10?e.bl_tree[2*m]++:e.bl_tree[2*y]++,s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))}function q(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<c)do{N(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(N(e,o,e.bl_tree),s--),N(e,f,e.bl_tree),L(e,s-3,2)):s<=10?(N(e,m,e.bl_tree),L(e,s-3,3)):(N(e,y,e.bl_tree),L(e,s-11,7));s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}}o(O);var W=!1;function K(e,t,n,o){L(e,(i<<1)+(o?1:0),3),function(e,t,n,o){G(e),D(e,n),D(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}t._tr_init=function(e){W||(function(){var e,t,n,r,o,i=new Array(p+1);for(n=0,r=0;r<28;r++)for(T[r]=n,e=0;e<1<<g[r];e++)k[n++]=r;for(k[n-1]=r,o=0,r=0;r<16;r++)for(O[r]=o,e=0;e<1<<v[r];e++)_[o++]=r;for(o>>=7;r<l;r++)for(O[r]=o<<7,e=0;e<1<<v[r]-7;e++)_[256+o++]=r;for(t=0;t<=p;t++)i[t]=0;for(e=0;e<=143;)w[2*e+1]=8,e++,i[8]++;for(;e<=255;)w[2*e+1]=9,e++,i[9]++;for(;e<=279;)w[2*e+1]=7,e++,i[7]++;for(;e<=287;)w[2*e+1]=8,e++,i[8]++;for(j(w,s+1,i),e=0;e<l;e++)C[2*e+1]=5,C[2*e]=R(e,5);x=new P(w,g,a+1,s,p),E=new P(C,v,0,l,p),A=new P(new Array(0),b,0,c,7)}(),W=!0),e.l_desc=new I(e.dyn_ltree,x),e.d_desc=new I(e.dyn_dtree,E),e.bl_desc=new I(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,F(e)},t._tr_stored_block=K,t._tr_flush_block=function(e,t,n,r){var o,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),H(e,e.l_desc),H(e,e.d_desc),s=function(e){var t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),H(e,e.bl_desc),t=c-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?K(e,t,n,r):4===e.strategy||i===o?(L(e,2+(r?1:0),3),V(e,w,C)):(L(e,4+(r?1:0),3),function(e,t,n,r){var o;for(L(e,t-257,5),L(e,n-1,5),L(e,r-4,4),o=0;o<r;o++)L(e,e.bl_tree[2*S[o]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),V(e,e.dyn_ltree,e.dyn_dtree)),F(e),r&&G(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(k[n]+a+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){L(e,2,3),N(e,d,w),function(e){16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var r=n(11),o=n(28),i=n(29),a=n(58),s=n(59),l=1,c=2,u=0,p=-2,h=1,d=12,f=30,m=852,y=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(m),t.distcode=t.distdyn=new r.Buf32(y),t.sane=1,t.back=-1,u):p}function S(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):p}function w(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?p:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,S(e))):p}function C(e,t){var n,r;return e?(r=new v,e.state=r,r.window=null,(n=w(e,t))!==u&&(e.state=null),n):p}var _,k,T=!0;function x(e){if(T){var t;for(_=new r.Buf32(512),k=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,k,0,e.work,{bits:5}),T=!1}e.lencode=_,e.lenbits=9,e.distcode=k,e.distbits=5}function E(e,t,n,o){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),o>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>o&&(i=o),r.arraySet(a.window,t,n-o,i,a.wnext),(o-=i)?(r.arraySet(a.window,t,n-o,o,0),a.wnext=o,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=S,t.inflateReset2=w,t.inflateResetKeep=b,t.inflateInit=function(e){return C(e,15)},t.inflateInit2=C,t.inflate=function(e,t){var n,m,y,v,b,S,w,C,_,k,T,A,O,P,I,M,D,L,N,R,j,F,G,B,z=0,V=new r.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return p;(n=e.state).mode===d&&(n.mode=13),b=e.next_out,y=e.output,w=e.avail_out,v=e.next_in,m=e.input,S=e.avail_in,C=n.hold,_=n.bits,k=S,T=w,F=u;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(2&n.wrap&&35615===C){n.check=0,V[0]=255&C,V[1]=C>>>8&255,n.check=i(n.check,V,2,0),C=0,_=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&C)<<8)+(C>>8))%31){e.msg="incorrect header check",n.mode=f;break}if(8!=(15&C)){e.msg="unknown compression method",n.mode=f;break}if(_-=4,j=8+(15&(C>>>=4)),0===n.wbits)n.wbits=j;else if(j>n.wbits){e.msg="invalid window size",n.mode=f;break}n.dmax=1<<j,e.adler=n.check=1,n.mode=512&C?10:d,C=0,_=0;break;case 2:for(;_<16;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(n.flags=C,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=f;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=f;break}n.head&&(n.head.text=C>>8&1),512&n.flags&&(V[0]=255&C,V[1]=C>>>8&255,n.check=i(n.check,V,2,0)),C=0,_=0,n.mode=3;case 3:for(;_<32;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}n.head&&(n.head.time=C),512&n.flags&&(V[0]=255&C,V[1]=C>>>8&255,V[2]=C>>>16&255,V[3]=C>>>24&255,n.check=i(n.check,V,4,0)),C=0,_=0,n.mode=4;case 4:for(;_<16;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}n.head&&(n.head.xflags=255&C,n.head.os=C>>8),512&n.flags&&(V[0]=255&C,V[1]=C>>>8&255,n.check=i(n.check,V,2,0)),C=0,_=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}n.length=C,n.head&&(n.head.extra_len=C),512&n.flags&&(V[0]=255&C,V[1]=C>>>8&255,n.check=i(n.check,V,2,0)),C=0,_=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((A=n.length)>S&&(A=S),A&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,m,v,A,j)),512&n.flags&&(n.check=i(n.check,m,A,v)),S-=A,v+=A,n.length-=A),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===S)break e;A=0;do{j=m[v+A++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&A<S);if(512&n.flags&&(n.check=i(n.check,m,A,v)),S-=A,v+=A,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===S)break e;A=0;do{j=m[v+A++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&A<S);if(512&n.flags&&(n.check=i(n.check,m,A,v)),S-=A,v+=A,j)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(C!==(65535&n.check)){e.msg="header crc mismatch",n.mode=f;break}C=0,_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=d;break;case 10:for(;_<32;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}e.adler=n.check=g(C),C=0,_=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=w,e.next_in=v,e.avail_in=S,n.hold=C,n.bits=_,2;e.adler=n.check=1,n.mode=d;case d:if(5===t||6===t)break e;case 13:if(n.last){C>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}switch(n.last=1&C,_-=1,3&(C>>>=1)){case 0:n.mode=14;break;case 1:if(x(n),n.mode=20,6===t){C>>>=2,_-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=f}C>>>=2,_-=2;break;case 14:for(C>>>=7&_,_-=7&_;_<32;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if((65535&C)!=(C>>>16^65535)){e.msg="invalid stored block lengths",n.mode=f;break}if(n.length=65535&C,C=0,_=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(A=n.length){if(A>S&&(A=S),A>w&&(A=w),0===A)break e;r.arraySet(y,m,v,A,b),S-=A,v+=A,w-=A,b+=A,n.length-=A;break}n.mode=d;break;case 17:for(;_<14;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(n.nlen=257+(31&C),C>>>=5,_-=5,n.ndist=1+(31&C),C>>>=5,_-=5,n.ncode=4+(15&C),C>>>=4,_-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=f;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}n.lens[H[n.have++]]=7&C,C>>>=3,_-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,G={bits:n.lenbits},F=s(0,n.lens,0,19,n.lencode,0,n.work,G),n.lenbits=G.bits,F){e.msg="invalid code lengths set",n.mode=f;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;M=(z=n.lencode[C&(1<<n.lenbits)-1])>>>16&255,D=65535&z,!((I=z>>>24)<=_);){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(D<16)C>>>=I,_-=I,n.lens[n.have++]=D;else{if(16===D){for(B=I+2;_<B;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(C>>>=I,_-=I,0===n.have){e.msg="invalid bit length repeat",n.mode=f;break}j=n.lens[n.have-1],A=3+(3&C),C>>>=2,_-=2}else if(17===D){for(B=I+3;_<B;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}_-=I,j=0,A=3+(7&(C>>>=I)),C>>>=3,_-=3}else{for(B=I+7;_<B;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}_-=I,j=0,A=11+(127&(C>>>=I)),C>>>=7,_-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=f;break}for(;A--;)n.lens[n.have++]=j}}if(n.mode===f)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=f;break}if(n.lenbits=9,G={bits:n.lenbits},F=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,G),n.lenbits=G.bits,F){e.msg="invalid literal/lengths set",n.mode=f;break}if(n.distbits=6,n.distcode=n.distdyn,G={bits:n.distbits},F=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,G),n.distbits=G.bits,F){e.msg="invalid distances set",n.mode=f;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(S>=6&&w>=258){e.next_out=b,e.avail_out=w,e.next_in=v,e.avail_in=S,n.hold=C,n.bits=_,a(e,T),b=e.next_out,y=e.output,w=e.avail_out,v=e.next_in,m=e.input,S=e.avail_in,C=n.hold,_=n.bits,n.mode===d&&(n.back=-1);break}for(n.back=0;M=(z=n.lencode[C&(1<<n.lenbits)-1])>>>16&255,D=65535&z,!((I=z>>>24)<=_);){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(M&&0==(240&M)){for(L=I,N=M,R=D;M=(z=n.lencode[R+((C&(1<<L+N)-1)>>L)])>>>16&255,D=65535&z,!(L+(I=z>>>24)<=_);){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}C>>>=L,_-=L,n.back+=L}if(C>>>=I,_-=I,n.back+=I,n.length=D,0===M){n.mode=26;break}if(32&M){n.back=-1,n.mode=d;break}if(64&M){e.msg="invalid literal/length code",n.mode=f;break}n.extra=15&M,n.mode=22;case 22:if(n.extra){for(B=n.extra;_<B;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}n.length+=C&(1<<n.extra)-1,C>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;M=(z=n.distcode[C&(1<<n.distbits)-1])>>>16&255,D=65535&z,!((I=z>>>24)<=_);){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(0==(240&M)){for(L=I,N=M,R=D;M=(z=n.distcode[R+((C&(1<<L+N)-1)>>L)])>>>16&255,D=65535&z,!(L+(I=z>>>24)<=_);){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}C>>>=L,_-=L,n.back+=L}if(C>>>=I,_-=I,n.back+=I,64&M){e.msg="invalid distance code",n.mode=f;break}n.offset=D,n.extra=15&M,n.mode=24;case 24:if(n.extra){for(B=n.extra;_<B;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}n.offset+=C&(1<<n.extra)-1,C>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=f;break}n.mode=25;case 25:if(0===w)break e;if(A=T-w,n.offset>A){if((A=n.offset-A)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=f;break}A>n.wnext?(A-=n.wnext,O=n.wsize-A):O=n.wnext-A,A>n.length&&(A=n.length),P=n.window}else P=y,O=b-n.offset,A=n.length;A>w&&(A=w),w-=A,n.length-=A;do{y[b++]=P[O++]}while(--A);0===n.length&&(n.mode=21);break;case 26:if(0===w)break e;y[b++]=n.length,w--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===S)break e;S--,C|=m[v++]<<_,_+=8}if(T-=w,e.total_out+=T,n.total+=T,T&&(e.adler=n.check=n.flags?i(n.check,y,T,b-T):o(n.check,y,T,b-T)),T=w,(n.flags?C:g(C))!==n.check){e.msg="incorrect data check",n.mode=f;break}C=0,_=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===S)break e;S--,C+=m[v++]<<_,_+=8}if(C!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=f;break}C=0,_=0}n.mode=29;case 29:F=1;break e;case f:F=-3;break e;case 31:return-4;case 32:default:return p}return e.next_out=b,e.avail_out=w,e.next_in=v,e.avail_in=S,n.hold=C,n.bits=_,(n.wsize||T!==e.avail_out&&n.mode<f&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,T-e.avail_out)?(n.mode=31,-4):(k-=e.avail_in,T-=e.avail_out,e.total_in+=k,e.total_out+=T,n.total+=T,n.wrap&&T&&(e.adler=n.check=n.flags?i(n.check,y,T,e.next_out-T):o(n.check,y,T,e.next_out-T)),e.data_type=n.bits+(n.last?64:0)+(n.mode===d?128:0)+(20===n.mode||15===n.mode?256:0),(0===k&&0===T||4===t)&&F===u&&(F=-5),F)},t.inflateEnd=function(e){if(!e||!e.state)return p;var t=e.state;return t.window&&(t.window=null),e.state=null,u},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?p:(n.head=t,t.done=!1,u):p},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?p:11===n.mode&&o(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):p},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){e.exports=function(e,t){var n,r,o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x;n=e.state,r=e.next_in,T=e.input,o=r+(e.avail_in-5),i=e.next_out,x=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,p=n.wnext,h=n.window,d=n.hold,f=n.bits,m=n.lencode,y=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(d+=T[r++]<<f,f+=8,d+=T[r++]<<f,f+=8),b=m[d&g];t:for(;;){if(d>>>=S=b>>>24,f-=S,0==(S=b>>>16&255))x[i++]=65535&b;else{if(!(16&S)){if(0==(64&S)){b=m[(65535&b)+(d&(1<<S)-1)];continue t}if(32&S){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(S&=15)&&(f<S&&(d+=T[r++]<<f,f+=8),w+=d&(1<<S)-1,d>>>=S,f-=S),f<15&&(d+=T[r++]<<f,f+=8,d+=T[r++]<<f,f+=8),b=y[d&v];n:for(;;){if(d>>>=S=b>>>24,f-=S,!(16&(S=b>>>16&255))){if(0==(64&S)){b=y[(65535&b)+(d&(1<<S)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(C=65535&b,f<(S&=15)&&(d+=T[r++]<<f,(f+=8)<S&&(d+=T[r++]<<f,f+=8)),(C+=d&(1<<S)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=S,f-=S,C>(S=i-a)){if((S=C-S)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,k=h,0===p){if(_+=c-S,S<w){w-=S;do{x[i++]=h[_++]}while(--S);_=i-C,k=x}}else if(p<S){if(_+=c+p-S,(S-=p)<w){w-=S;do{x[i++]=h[_++]}while(--S);if(_=0,p<w){w-=S=p;do{x[i++]=h[_++]}while(--S);_=i-C,k=x}}}else if(_+=p-S,S<w){w-=S;do{x[i++]=h[_++]}while(--S);_=i-C,k=x}for(;w>2;)x[i++]=k[_++],x[i++]=k[_++],x[i++]=k[_++],w-=3;w&&(x[i++]=k[_++],w>1&&(x[i++]=k[_++]))}else{_=i-C;do{x[i++]=x[_++],x[i++]=x[_++],x[i++]=x[_++],w-=3}while(w>2);w&&(x[i++]=x[_++],w>1&&(x[i++]=x[_++]))}break}}break}}while(r<o&&i<s);r-=w=f>>3,d&=(1<<(f-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?o-r+5:5-(r-o),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=d,n.bits=f}},function(e,t,n){var r=n(11),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,p,h){var d,f,m,y,g,v,b,S,w,C=h.bits,_=0,k=0,T=0,x=0,E=0,A=0,O=0,P=0,I=0,M=0,D=null,L=0,N=new r.Buf16(16),R=new r.Buf16(16),j=null,F=0;for(_=0;_<=15;_++)N[_]=0;for(k=0;k<l;k++)N[t[n+k]]++;for(E=C,x=15;x>=1&&0===N[x];x--);if(E>x&&(E=x),0===x)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(T=1;T<x&&0===N[T];T++);for(E<T&&(E=T),P=1,_=1;_<=15;_++)if(P<<=1,(P-=N[_])<0)return-1;if(P>0&&(0===e||1!==x))return-1;for(R[1]=0,_=1;_<15;_++)R[_+1]=R[_]+N[_];for(k=0;k<l;k++)0!==t[n+k]&&(p[R[t[n+k]]++]=k);if(0===e?(D=j=p,v=19):1===e?(D=o,L-=257,j=i,F-=257,v=256):(D=a,j=s,v=-1),M=0,k=0,_=T,g=u,A=E,O=0,m=-1,y=(I=1<<E)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=_-O,p[k]<v?(S=0,w=p[k]):p[k]>v?(S=j[F+p[k]],w=D[L+p[k]]):(S=96,w=0),d=1<<_-O,T=f=1<<A;do{c[g+(M>>O)+(f-=d)]=b<<24|S<<16|w|0}while(0!==f);for(d=1<<_-1;M&d;)d>>=1;if(0!==d?(M&=d-1,M+=d):M=0,k++,0==--N[_]){if(_===x)break;_=t[n+p[k]]}if(_>E&&(M&y)!==m){for(0===O&&(O=E),g+=T,P=1<<(A=_-O);A+O<x&&!((P-=N[A+O])<=0);)A++,P<<=1;if(I+=1<<A,1===e&&I>852||2===e&&I>592)return 1;c[m=M&y]=E<<24|A<<16|g-u|0}}return 0!==M&&(c[g+M]=_-O<<24|64<<16|0),h.bits=E,0}},function(e,t,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r=n(1).Buffer,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function i(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+D(e))}function a(e,t){e=i(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,a=0;a<e.length;a++)n=o[255&(n^e[a])]^n>>>8;return-1^n}function s(){return e=a.apply(null,arguments),(t=i(4)).writeInt32BE(e,0),t;var e,t}"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),s.signed=function(){return a.apply(null,arguments)},s.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=s},function(t,n,r){(function(n){var o=r(0).CramMalformedError,i=r(12),a=r(63),s=r(64),l=r(65),c=function(){function t(n){var r=arguments.length>1&&arguments[1]!==e?arguments[1]:0;R(this,t),this._buffer=n,this._position=r,this.length=n.length}return F(t,[{key:"get",value:function(){var e=this._buffer[this._position];return this._position+=1,e}},{key:"getByte",value:function(){return this.get()}},{key:"getByteAt",value:function(e){return this._buffer[e]}},{key:"position",value:function(){return this._position}},{key:"put",value:function(e){return this._buffer[this._position]=e,this._position+=1,e}},{key:"putAt",value:function(e,t){return this._buffer[e]=t,t}},{key:"setPosition",value:function(e){return this._position=e,e}},{key:"getInt",value:function(){var e=this._buffer.readInt32LE(this._position);return this._position+=4,e}},{key:"remaining",value:function(){return this._buffer.length-this._position}}]),t}();t.exports={uncompress:function(t,r){var u=arguments.length>2&&arguments[2]!==e?arguments[2]:0;if(0===t.length)return r.fill(0),r;var p=new c(t,u),h=p.get();if(0!==h&&1!==h)throw new o("Invalid rANS order ".concat(h));if(p.getInt()!==p.remaining()-4)throw new o("Incorrect input length.");var d=p.getInt(),f=new c(r||n.allocUnsafe(d));if(f.length<d)throw new o("Output buffer too small to fit ".concat(d," bytes."));switch(h){case 0:return function(e,t){for(var n=new i.AriDecoder,r=new Array(256),o=0;o<r.length;o+=1)r[o]=new i.Symbol;return a.readStatsO0(e,n,r),s.uncompress(e,n,r,t),t}(p,f);case 1:return function(e,t){for(var n=new Array(256),r=0;r<n.length;r+=1)n[r]=new i.AriDecoder;for(var o=new Array(256),s=0;s<o.length;s+=1){o[s]=new Array(256);for(var c=0;c<o[s].length;c+=1)o[s][c]=new i.Symbol}return a.readStatsO1(e,n,o),l.uncompress(e,t,n,o),t}(p,f);default:throw new o("Invalid rANS order: ".concat(h))}}}}).call(this,r(1).Buffer)},function(e,t,n){var r=n(0).CramMalformedError,o=n(13),i=n(12);function a(e){if(!e)throw new r("assertion failed")}e.exports={readStatsO0:function(e,t,n){var r=0,s=0,l=255&e.get();do{null==t.fc[l]&&(t.fc[l]=new i.FC),t.fc[l].F=255&e.get(),t.fc[l].F>=128&&(t.fc[l].F&=-129,t.fc[l].F=(127&t.fc[l].F)<<8|255&e.get()),t.fc[l].C=s,i.symbolInit(n[l],t.fc[l].C,t.fc[l].F),t.R||(t.R=new Array(o.TOTFREQ)),t.R.fill(l,s,s+t.fc[l].F),s+=t.fc[l].F,0===r&&l+1===(255&e.getByteAt(e.position()))?(l=255&e.get(),r=255&e.get()):0!==r?(r-=1,l+=1):l=255&e.get()}while(0!==l);a(s<o.TOTFREQ)},readStatsO1:function(e,t,n){var r=0,s=255&e.get();do{var l=0,c=0,u=255&e.get();null==t[s]&&(t[s]=new i.AriDecoder);do{null==t[s].fc[u]&&(t[s].fc[u]=new i.FC),t[s].fc[u].F=255&e.get(),t[s].fc[u].F>=128&&(t[s].fc[u].F&=-129,t[s].fc[u].F=(127&t[s].fc[u].F)<<8|255&e.get()),t[s].fc[u].C=c,0===t[s].fc[u].F&&(t[s].fc[u].F=o.TOTFREQ),null==n[s][u]&&(n[s][u]=new i.RansDecSymbol),i.symbolInit(n[s][u],t[s].fc[u].C,t[s].fc[u].F),null==t[s].R&&(t[s].R=new Array(o.TOTFREQ)),t[s].R.fill(u,c,c+t[s].fc[u].F),a((c+=t[s].fc[u].F)<=o.TOTFREQ),0===l&&u+1===(255&e.getByteAt(e.position()))?(u=255&e.get(),l=255&e.get()):0!==l?(l-=1,u+=1):u=255&e.get()}while(0!==u);0===r&&s+1===(255&e.getByteAt(e.position()))?(s=255&e.get(),r=255&e.get()):0!==r?(r-=1,s+=1):s=255&e.get()}while(0!==s)}}},function(e,t,n){var r=n(0).CramMalformedError,o=n(13),i=n(12);e.exports={uncompress:function(e,t,n,a){for(var s,l=e.getInt(),c=e.getInt(),u=e.getInt(),p=e.getInt(),h=a.remaining(),d=-4&h,f=0;f<d;f+=4){var m=t.R[i.get(l,o.TF_SHIFT)],y=t.R[i.get(c,o.TF_SHIFT)],g=t.R[i.get(u,o.TF_SHIFT)],v=t.R[i.get(p,o.TF_SHIFT)];a.putAt(f,m),a.putAt(f+1,y),a.putAt(f+2,g),a.putAt(f+3,v),l=i.advanceSymbolStep(l,n[255&m],o.TF_SHIFT),c=i.advanceSymbolStep(c,n[255&y],o.TF_SHIFT),u=i.advanceSymbolStep(u,n[255&g],o.TF_SHIFT),p=i.advanceSymbolStep(p,n[255&v],o.TF_SHIFT),l=i.renormalize(l,e),c=i.renormalize(c,e),u=i.renormalize(u,e),p=i.renormalize(p,e)}switch(a.setPosition(d),3&h){case 0:break;case 1:s=t.R[i.get(l,o.TF_SHIFT)],i.advanceSymbol(l,e,n[255&s],o.TF_SHIFT),a.put(s);break;case 2:s=t.R[i.get(l,o.TF_SHIFT)],i.advanceSymbol(l,e,n[255&s],o.TF_SHIFT),a.put(s),s=t.R[i.get(c,o.TF_SHIFT)],i.advanceSymbol(c,e,n[255&s],o.TF_SHIFT),a.put(s);break;case 3:s=t.R[i.get(l,o.TF_SHIFT)],i.advanceSymbol(l,e,n[255&s],o.TF_SHIFT),a.put(s),s=t.R[i.get(c,o.TF_SHIFT)],i.advanceSymbol(c,e,n[255&s],o.TF_SHIFT),a.put(s),s=t.R[i.get(u,o.TF_SHIFT)],i.advanceSymbol(u,e,n[255&s],o.TF_SHIFT),a.put(s);break;default:throw new r("invalid output size encountered during rANS decoding")}a.setPosition(0)}}},function(e,t,n){var r=n(13),o=n(12);e.exports={uncompress:function(e,t,n,i){for(var a=t.remaining(),s=e.getInt(),l=e.getInt(),c=e.getInt(),u=e.getInt(),p=a>>2,h=0,d=p,f=2*p,m=3*p,y=0,g=0,v=0,b=0;h<p;h+=1,d+=1,f+=1,m+=1){var S=255&n[y].R[o.get(s,r.TF_SHIFT)],w=255&n[g].R[o.get(l,r.TF_SHIFT)],C=255&n[v].R[o.get(c,r.TF_SHIFT)],_=255&n[b].R[o.get(u,r.TF_SHIFT)];t.putAt(h,S),t.putAt(d,w),t.putAt(f,C),t.putAt(m,_),s=o.advanceSymbolStep(s,i[y][S],r.TF_SHIFT),l=o.advanceSymbolStep(l,i[g][w],r.TF_SHIFT),c=o.advanceSymbolStep(c,i[v][C],r.TF_SHIFT),u=o.advanceSymbolStep(u,i[b][_],r.TF_SHIFT),s=o.renormalize(s,e),l=o.renormalize(l,e),c=o.renormalize(c,e),u=o.renormalize(u,e),y=S,g=w,v=C,b=_}for(;m<a;m+=1){var k=255&n[b].R[o.get(u,r.TF_SHIFT)];t.putAt(m,k),u=o.advanceSymbol(u,e,i[b][k],r.TF_SHIFT),b=k}}}},function(e,t,n){var r=n(67).Parser,o=(new r).itf8(),i={parser:(new r).string("magic",{length:4}).uint8("majorVersion").uint8("minorVersion").string("fileId",{length:20,stripNull:!0}),maxLength:26},a={parser:(new r).uint8("compressionMethod",{formatter:function(e){var t=["raw","gzip","bzip2","lzma","rans"][e];if(!t)throw new Error("compression method number ".concat(e," not implemented"));return t}}).uint8("contentType",{formatter:function(e){var t=["FILE_HEADER","COMPRESSION_HEADER","MAPPED_SLICE_HEADER","UNMAPPED_SLICE_HEADER","EXTERNAL_DATA","CORE_DATA"][e];if(!t)throw new Error("invalid block content type id ".concat(e));return t}}).itf8("contentId").itf8("compressedSize").itf8("uncompressedSize"),maxLength:17},s={parser:(new r).uint32("crc32"),maxLength:4},l=(new r).itf8("size").buffer("entries",{length:"size",formatter:function(e){function t(t,n){for(var r=e.toString("utf8",t,n),o=[],i=0;i<r.length;i+=3)o.push(r.substr(i,3));return o}var n,r=[],o=0;for(n=0;n<e.length;n+=1)e[n]||(r.push(t(o,n)),o=n+1);return n>o&&r.push(t(o,n)),r}}),c=(new r).uint8(null,{formatter:function(e){return!!e}}),u=(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).choice("value",{tag:"key",choices:{MI:c,UI:c,PI:c,RN:c,AP:c,RR:c,SM:(new r).array(null,{type:"uint8",length:5}),TD:(new r).nest(null,{type:l,formatter:function(e){return e.entries}})}})});function p(e){var t={};return e.entries.forEach(function(e){var n=e.key,r=e.value;t[n]&&console.warn("duplicate key ".concat(n," in map")),t[n]=r}),t}var h={cramFileDefinition:i,cramBlockHeader:a,cramBlockCrc32:s},d={cramUnmappedSliceHeader:function(e){var t=0,n=(new r).itf8("numRecords");return t+=5,e>=3?(n=n.ltf8("recordCounter"),t+=9):2===e&&(n=n.itf8("recordCounter"),t+=5),n=n.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:o,length:"numContentIds"}),t+=10,e>=2&&(n=n.array("md5",{type:"uint8",length:16}),t+=16),{parser:n,maxLength:function(e){return t+5*e}}},cramMappedSliceHeader:function(e){var t=(new r).itf8("refSeqId").itf8("refSeqStart").itf8("refSeqSpan").itf8("numRecords"),n=20;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),t=t.itf8("numBlocks").itf8("numContentIds").array("contentIds",{type:o,length:"numContentIds"}).itf8("refBaseBlockId"),n+=15,e>=2&&(t=t.array("md5",{type:"uint8",length:16}),n+=16),{parser:t,maxLength:function(e){return n+5*e}}},cramEncoding:function(e){return{parser:(new r).namely("cramEncoding").itf8("codecId").itf8("parametersBytes").choice("parameters",{tag:"codecId",choices:{0:new r,1:(new r).itf8("blockContentId"),2:(new r).itf8("offset").itf8("M"),3:r.start().itf8("numCodes").array("symbols",{length:"numCodes",type:o}).itf8("numLengths").array("bitLengths",{length:"numLengths",type:o}),4:r.start().nest("lengthsEncoding",{type:"cramEncoding"}).nest("valuesEncoding",{type:"cramEncoding"}),5:(new r).uint8("stopByte")[e>1?"itf8":"int"]("blockContentId"),6:(new r).itf8("offset").itf8("length"),7:(new r).itf8("offset").itf8("K"),8:(new r).itf8("offset").itf8("log2m"),9:(new r).itf8("offset")}})}},cramDataSeriesEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).string("key",{length:2,stripNull:!1}).nest("value",{type:this.cramEncoding(e).parser})})},cramTagEncodingMap:function(e){return(new r).itf8("mapSize").itf8("mapCount").array("entries",{length:"mapCount",type:(new r).itf8("key",{formatter:function(e){return String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)}}).nest("value",{type:this.cramEncoding(e).parser})})},cramCompressionHeader:function(e){var t=new r;return{parser:t=t.nest("preservation",{type:u,formatter:p}).nest("dataSeriesEncoding",{type:this.cramDataSeriesEncodingMap(e),formatter:p}).nest("tagEncoding",{type:this.cramTagEncodingMap(e),formatter:p})}},cramContainerHeader1:function(e){var t=(new r).int32("length").itf8("refSeqId").itf8("refSeqStart").itf8("alignmentSpan").itf8("numRecords"),n=24;return e>=3?(t=t.ltf8("recordCounter"),n+=9):2===e&&(t=t.itf8("recordCounter"),n+=5),e>1&&(t=t.ltf8("numBases"),n+=9),{parser:t=t.itf8("numBlocks").itf8("numLandmarks"),maxLength:n+=10}},cramContainerHeader2:function(e){var t=(new r).itf8("numLandmarks").array("landmarks",{type:(new r).itf8(),length:"numLandmarks"}),n=0;return e>=3&&(t=t.uint32("crc32"),n=4),{parser:t,maxLength:function(e){return 5+5*e+n}}}};e.exports={cramFileDefinition:i,getSectionParsers:function(e){var t=Object.assign({},h);return Object.keys(d).forEach(function(n){t[n]=d[n](e)}),t}}},function(e,t,n){(function(e){var r=n(68),o=n(70).Context,i=n(31);"undefined"!=typeof window&&(window.Buffer=e);var a={UInt8:1,UInt16LE:2,UInt16BE:2,UInt32LE:4,UInt32BE:4,Int8:1,Int16LE:2,Int16BE:2,Int32LE:4,Int32BE:4,FloatLE:4,FloatBE:4,DoubleLE:8,DoubleBE:8},s={},l=[];!function(){var e;for(e=1;e<=32;e++)l.push(e)}();var c={};Object.keys(a).concat(Object.keys({String:null,Buffer:null,Array:null,Skip:null,Choice:null,Nest:null,Bit:null,Itf8:null,Ltf8:null})).forEach(function(e){c[e.toLowerCase()]=e});var u=function(){this.varName="",this.type="",this.options={},this.next=null,this.head=null,this.compiled=null,this.endian="le",this.constructorFn=null,this.alias=null};u.start=function(){return new u},Object.keys(a).forEach(function(e){u.prototype[e.toLowerCase()]=function(t,n){return this.setNextParser(e.toLowerCase(),t,n)};var t=e.replace(/BE|LE/,"").toLowerCase();t in u.prototype||(u.prototype[t]=function(e,n){return this[t+this.endian](e,n)})}),l.forEach(function(e){u.prototype["bit"+e.toString()]=function(t,n){return n||(n={}),n.length=e,this.setNextParser("bit",t,n)}}),u.prototype.namely=function(e){return s[e]=this,this.alias=e,this},u.prototype.skip=function(e,t){if(t&&t.assert)throw new Error("assert option on skip is not allowed.");return this.setNextParser("skip","",{length:e})},u.prototype.string=function(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("Neither length, zeroTerminated, nor greedy is defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("Length or greedy must be defined if stripNull is defined.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)},u.prototype.buffer=function(e,t){if(!t.length&&!t.readUntil)throw new Error("Length nor readUntil is defined in buffer parser");return this.setNextParser("buffer",e,t)},u.prototype.array=function(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("Length option of array is not defined.");if(!t.type)throw new Error("Type option of array is not defined.");if("string"==typeof t.type&&!s[t.type]&&Object.keys(a).indexOf(c[t.type])<0)throw new Error('Specified primitive type "'+t.type+'" is not supported.');return this.setNextParser("array",e,t)},u.prototype.choice=function(e,t){if(1==arguments.length&&"object"==D(e)&&(t=e,e=null),!t.tag)throw new Error("Tag option of array is not defined.");if(!t.choices)throw new Error("Choices option of array is not defined.");return Object.keys(t.choices).forEach(function(n){if(!t.choices[n])throw new Error("Choice Case "+n+" of "+e+" is not valid.");if("string"==typeof t.choices[n]&&!s[t.choices[n]]&&Object.keys(a).indexOf(c[t.choices[n]])<0)throw new Error('Specified primitive type "'+t.choices[n]+'" is not supported.')},this),this.setNextParser("choice",e,t)},u.prototype.nest=function(e,t){if(1==arguments.length&&"object"==D(e)&&(t=e,e=null),!t.type)throw new Error("Type option of nest is not defined.");if(!(t.type instanceof u||s[t.type]))throw new Error("Type option of nest must be a Parser object.");if(!(t.type instanceof u||e))throw new Error("options.type must be a object if variable name is omitted.");return this.setNextParser("nest",e,t)},u.prototype.endianess=function(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error("Invalid endianess: "+e)}return this},u.prototype.create=function(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this},u.prototype.getCode=function(){var e=new o;return e.pushCode("if (!Buffer.isBuffer(buffer)) {"),e.generateError('"argument buffer is not a Buffer object"'),e.pushCode("}"),this.alias?this.addAliasedCode(e):this.addRawCode(e),this.alias?e.pushCode("return {0}(0)","___parser_"+this.alias):e.pushCode("return { offset: offset, result: vars };"),e.code},u.prototype.addRawCode=function(e){e.pushCode("var offset = 0;"),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };")},u.prototype.addAliasedCode=function(e){return e.pushCode("function {0}(offset) {","___parser_"+this.alias),this.constructorFn?e.pushCode("var vars = new constructorFn();"):e.pushCode("var vars = {};"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e},u.prototype.resolveReferences=function(e){var t=e.getUnresolvedReferences();e.markRequested(t),t.forEach(function(t){s[t].addAliasedCode(e)})},u.prototype.compile=function(){var e="(function(buffer, constructorFn, Long) { "+this.getCode()+" })";this.compiled=r.runInThisContext(e)},u.prototype.sizeOf=function(){var e=NaN;if(Object.keys(a).indexOf(this.type)>=0)e=a[this.type];else if("String"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("Array"===this.type&&"number"==typeof this.options.length){var t=NaN;"string"==typeof this.options.type?t=a[c[this.options.type]]:this.options.type instanceof u&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"Skip"===this.type?e=this.options.length:"Nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e},u.prototype.parse=function(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn,i)},u.prototype.setNextParser=function(e,t,n){var r=new u;return r.type=c[e],r.varName=t,r.options=n||r.options,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this},u.prototype.generate=function(e){this.type&&(this["generate"+this.type](e),this.generateAssert(e));var t=e.generateVariable(this.varName);return this.options.formatter&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)},u.prototype.generateAssert=function(e){if(this.options.assert){var t=e.generateVariable(this.varName);switch(D(this.options.assert)){case"function":e.pushCode("if (!({0}).call(vars, {1})) {",this.options.assert,t);break;case"number":e.pushCode("if ({0} !== {1}) {",this.options.assert,t);break;case"string":e.pushCode('if ("{0}" !== {1}) {',this.options.assert,t);break;default:throw new Error("Assert option supports only strings, numbers and assert functions.")}e.generateError('"Assert error: {0} is " + {0}',t),e.pushCode("}")}},u.prototype.generateNext=function(e){return this.next&&(e=this.next.generate(e)),e},Object.keys(a).forEach(function(e){u.prototype["generate"+e]=function(t){t.pushCode("{0} = buffer.read{1}(offset);",t.generateVariable(this.varName),e),t.pushCode("offset += {0};",a[e])}}),u.prototype.generateBit=function(e){var t=JSON.parse(JSON.stringify(this));if(t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["Bit","Nest"].indexOf(this.next.type)<0){var n=0;e.bitFields.forEach(function(e){n+=e.options.length});var r=e.generateTmpVariable();if(n<=8)e.pushCode("var {0} = buffer.readUInt8(offset);",r),n=8;else if(n<=16)e.pushCode("var {0} = buffer.readUInt16BE(offset);",r),n=16;else if(n<=24){var o=e.generateTmpVariable(),i=e.generateTmpVariable();e.pushCode("var {0} = buffer.readUInt16BE(offset);",o),e.pushCode("var {0} = buffer.readUInt8(offset + 2);",i),e.pushCode("var {2} = ({0} << 8) | {1};",o,i,r),n=24}else{if(!(n<=32))throw new Error("Currently, bit field sequence longer than 4-bytes is not supported.");e.pushCode("var {0} = buffer.readUInt32BE(offset);",r),n=32}e.pushCode("offset += {0};",n/8);var a=0,s="be"===this.endian;e.bitFields.forEach(function(t){e.pushCode("{0} = {1} >> {2} & {3};",t.varName,r,s?n-a-t.options.length:a,(1<<t.options.length)-1),a+=t.options.length}),e.bitFields=[]}},u.prototype.generateSkip=function(e){var t=e.generateOption(this.options.length);e.pushCode("offset += {0};",t)},u.prototype.generateString=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();this.options.length&&this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0 && offset - {0}  < {1});",n,this.options.length),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - {2} < {3} ? offset - 1 : offset);",t,this.options.encoding,n,this.options.length)):this.options.length?(e.pushCode("{0} = buffer.toString('{1}', offset, offset + {2});",t,this.options.encoding,e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))):this.options.zeroTerminated?(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.readUInt8(offset++) !== 0);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset - 1);",t,this.options.encoding,n)):this.options.greedy&&(e.pushCode("var {0} = offset;",n),e.pushCode("while(buffer.length > offset++);"),e.pushCode("{0} = buffer.toString('{1}', {2}, offset);",t,this.options.encoding,n)),this.options.stripNull&&e.pushCode("{0} = {0}.replace(/\\x00+$/g, '')",t)},u.prototype.generateBuffer=function(e){"eof"===this.options.readUntil?e.pushCode("{0} = buffer.slice(offset);",e.generateVariable(this.varName)):(e.pushCode("{0} = buffer.slice(offset, offset + {1});",e.generateVariable(this.varName),e.generateOption(this.options.length)),e.pushCode("offset += {0};",e.generateOption(this.options.length))),this.options.clone&&e.pushCode("{0} = Buffer.from({0});",e.generateVariable(this.varName))},u.prototype.generateArray=function(e){var t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,o=e.generateTmpVariable(),i=e.generateVariable(this.varName),l=e.generateTmpVariable(),p=this.options.key,h="string"==typeof p;if(h?e.pushCode("{0} = {};",i):e.pushCode("{0} = [];",i),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode("for (var {0} = 0; offset < buffer.length; {0}++) {",o):void 0!==n?e.pushCode("for (var {0} = offset; offset - {0} < {1}; ) {",o,n):e.pushCode("for (var {0} = 0; {0} < {1}; {0}++) {",o,t),"string"==typeof r)if(s[r]){var d=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",d,"___parser_"+r),e.pushCode("var {0} = {1}.result; offset = {1}.offset;",l,d),r!==this.alias&&e.addReference(r)}else e.pushCode("var {0} = buffer.read{1}(offset);",l,c[r]),e.pushCode("offset += {0};",a[c[r]]);else r instanceof u&&(e.pushCode("var {0} = {};",l),e.pushScope(l),r.generate(e),e.popScope());h?e.pushCode("{0}[{2}.{1}] = {2};",i,p,l):e.pushCode("{0}.push({1});",i,l),e.pushCode("}"),"function"==typeof this.options.readUntil&&e.pushCode(" while (!({0}).call(this, {1}, buffer.slice(offset)));",this.options.readUntil,l)},u.prototype.generateChoiceCase=function(e,t,n){if("string"==typeof n)if(s[n]){var r=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",r,"___parser_"+n),e.pushCode("{0} = {1}.result; offset = {1}.offset;",e.generateVariable(this.varName),r),n!==this.alias&&e.addReference(n)}else e.pushCode("{0} = buffer.read{1}(offset);",e.generateVariable(this.varName),c[n]),e.pushCode("offset += {0};",a[c[n]]);else n instanceof u&&(e.pushPath(t),n.generate(e),e.popPath(t))},u.prototype.generateChoice=function(e){var t=e.generateOption(this.options.tag);this.varName&&e.pushCode("{0} = {};",e.generateVariable(this.varName)),e.pushCode("switch({0}) {",t),Object.keys(this.options.choices).forEach(function(t){var n=this.options.choices[t];isNaN(parseInt(t,10))?e.pushCode("case '{0}':",t):e.pushCode("case {0}:",t),this.generateChoiceCase(e,this.varName,n),e.pushCode("break;")},this),e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError('"Met undefined tag value " + {0} + " at choice"',t),e.pushCode("}")},u.prototype.generateNest=function(e){var t=e.generateVariable(this.varName);if(this.options.type instanceof u)this.varName&&e.pushCode("{0} = {};",t),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(s[this.options.type]){var n=e.generateTmpVariable();e.pushCode("var {0} = {1}(offset);",n,"___parser_"+this.options.type),e.pushCode("{0} = {1}.result; offset = {1}.offset;",t,n),this.options.type!==this.alias&&e.addReference(this.options.type)}},u.prototype.generateFormatter=function(e,t,n){"function"==typeof n&&e.pushCode("{0} = ({1}).call(this, {0});",t,n)},u.prototype.isInteger=function(){return!!this.type.match(/U?Int[8|16|32][BE|LE]?|Bit\d+/)},u.prototype.itf8=function(e,t){return this.setNextParser("itf8",e,t)},u.prototype.generateItf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n    var ".concat(n," = buffer[offset];\n    if (").concat(n," < 0x80) {\n      ").concat(t," = ").concat(n,";\n      offset += 1;\n    } else if (").concat(n," < 0xc0) {\n      ").concat(t," = ((").concat(n,"<<8) | buffer[offset+1]) & 0x3fff;\n      offset += 2;\n    } else if (").concat(n," < 0xe0) {\n      ").concat(t," = ((").concat(n,"<<16) | (buffer[offset+1]<< 8) |  buffer[offset+2]) & 0x1fffff;\n      offset += 3;\n    } else if (").concat(n," < 0xf0) {\n      ").concat(t," = ((").concat(n,"<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n      offset += 4\n    } else {\n      ").concat(t," = ((").concat(n," & 0x0f)<<28) | (buffer[offset+1]<<20) | (buffer[offset+2]<<12) | (buffer[offset+3]<<4) | (buffer[offset+4] & 0x0f);\n      // x=((0xff & 0x0f)<<28) | (0xff<<20) | (0xff<<12) | (0xff<<4) | (0x0f & 0x0f);\n      // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n      offset += 5\n    }\n  "))},u.prototype.ltf8=function(e,t){return this.setNextParser("ltf8",e,t)},u.prototype.generateLtf8=function(e){var t=e.generateVariable(this.varName),n=e.generateTmpVariable();e.pushCode("\n  var ".concat(n," = buffer[offset];\n  if (").concat(n," < 0x80) {\n    ").concat(t," = ").concat(n,";\n    offset += 1;\n  } else if (").concat(n," < 0xc0) {\n    ").concat(t," = ((buffer[offset]<<8) | buffer[offset+1]) & 0x3fff;\n    offset += 2;\n  } else if (").concat(n," < 0xe0) {\n    ").concat(t," = ((buffer[offset]<<16) | (buffer[offset+1]<<8) | buffer[offset+2]) & 0x1fffff;\n    ").concat(t," = (((").concat(n," & 63) << 16) | buffer.readUInt16LE(offset + 1));\n    offset += 3;\n  } else if (").concat(n," < 0xf0) {\n    ").concat(t," = ((buffer[offset]<<24) | (buffer[offset+1]<<16) | (buffer[offset+2]<<8) | buffer[offset+3]) & 0x0fffffff;\n    offset += 4;\n  } else if (").concat(n," < 0xf8) {\n    ").concat(t," = (((buffer[offset] & 15) * Math.pow(2,32))) +\n      (buffer[offset+1]<<24) | (buffer[offset+2]<<16 | buffer[offset+3]<<8 | buffer[offset+4])\n    // TODO *val_p = uv < 0x80000000UL ? uv : -((int32_t) (0xffffffffUL - uv)) - 1;\n    offset += 5;\n  } else if (").concat(n," < 0xfc) {\n    ").concat(t," = ((((buffer[offset] & 7) << 8) | buffer[offset+1] )) * Math.pow(2,32) +\n      (buffer[offset+2]<<24) | (buffer[offset+3]<<16 | buffer[offset+4]<<8 | buffer[offset+5])\n    offset += 6;\n  } else if (").concat(n," < 0xfe) {\n    ").concat(t," = ((((buffer[offset] & 3) << 16) | buffer[offset+1]<<8 | buffer[offset+2])) * Math.pow(2,32) +\n      (buffer[offset+3]<<24) | (buffer[offset+4]<<16 | buffer[offset+5]<<8 | buffer[offset+6])\n    offset += 7;\n  } else if (").concat(n," < 0xff) {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+8));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 8;\n  } else {\n    ").concat(t," = Long.fromBytesBE(buffer.slice(offset+1,offset+9));\n    if (").concat(t,".greaterThan(Number.MAX_SAFE_INTEGER) || ").concat(t,".lessThan(Number.MIN_SAFE_INTEGER))\n      throw new Error('integer overflow')\n    ").concat(t," = ").concat(t,".toNumber()\n    offset += 9;\n  }\n  "))},t.Parser=u}).call(this,n(1).Buffer)},function(e,t,n){var r=n(69),o=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},i=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},a=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),s=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval2","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function l(){}l.prototype={};var c=t.Script=function(e){if(!(this instanceof c))return new c(e);this.code=e};c.prototype.runInContext=function(e){if(!(e instanceof l))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,c=n.eval2,u=n.execScript;!c&&u&&(u.call(n,"null"),c=n.eval2),i(o(e),function(t){n[t]=e[t]}),i(s,function(t){e[t]&&(n[t]=e[t])});var p=o(n),h=c.call(n,this.code);return i(o(n),function(t){(t in e||-1===r(p,t))&&(e[t]=n[t])}),i(s,function(t){t in e||a(e,t,n[t])}),document.body.removeChild(t),h},c.prototype.runInThisContext=function(){return Ds(this.code)},c.prototype.runInNewContext=function(e){var t=c.createContext(e),n=this.runInContext(t);return i(o(t),function(n){e[n]=t[n]}),n},i(o(c.prototype),function(e){t[e]=c[e]=function(t){var n=c(t);return n[e].apply(n,[].slice.call(arguments,1))}}),t.createScript=function(e){return t.Script(e)},t.createContext=c.createContext=function(e){var t=new l;return"object"==D(e)&&i(o(e),function(n){t[n]=e[n]}),t}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){var n=function(){this.code="",this.scopes=[["vars"]],this.isAsync=!1,this.bitFields=[],this.tmpVariableCount=0,this.references={}};n.prototype.generateVariable=function(e){var t=[];for(Array.prototype.push.apply(t,this.scopes[this.scopes.length-1]);/^\$parent\./.test(e);)t.pop(),e=e.replace(/^\$parent\./,"");return e&&t.push(e),t.join(".")},n.prototype.generateOption=function(e){switch(D(e)){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return"("+e+").call("+this.generateVariable()+", vars)"}},n.prototype.generateError=function(){var e=Array.prototype.slice.call(arguments),t=n.interpolate.apply(this,e);this.isAsync?this.pushCode("return process.nextTick(function() { callback(new Error("+t+"), vars); });"):this.pushCode("throw new Error("+t+");")},n.prototype.generateTmpVariable=function(){return"$tmp"+this.tmpVariableCount++},n.prototype.pushCode=function(){var e=Array.prototype.slice.call(arguments);this.code+=n.interpolate.apply(this,e)+"\n"},n.prototype.pushPath=function(e){e&&this.scopes[this.scopes.length-1].push(e)},n.prototype.popPath=function(e){e&&this.scopes[this.scopes.length-1].pop()},n.prototype.pushScope=function(e){this.scopes.push([e])},n.prototype.popScope=function(){this.scopes.pop()},n.prototype.addReference=function(e){this.references[e]||(this.references[e]={resolved:!1,requested:!1})},n.prototype.markResolved=function(e){this.references[e].resolved=!0},n.prototype.markRequested=function(e){e.forEach(function(e){this.references[e].requested=!0}.bind(this))},n.prototype.getUnresolvedReferences=function(){var e=this.references;return Object.keys(this.references).filter(function(t){return!e[t].resolved&&!e[t].requested})},n.interpolate=function(e){var t=e.match(/{\d+}/g),n=Array.prototype.slice.call(arguments,1);return t&&t.forEach(function(t){var r=parseInt(t.substr(1,t.length-2),10);e=e.replace(t,n[r].toString())}),e},t.Context=n},function(e,n,r){(function(n){var o=r(0).CramMalformedError,i=r(8),a=i.itf8Size,s=i.parseItem,l=i.tinyMemoize,c=r(75),u=r(78),p=function(){function e(t,n){R(this,e),this.file=t,this.filePosition=n}var r,i,l,p;return F(e,[{key:"getHeader",value:function(){return this._readContainerHeader(this.filePosition)}},{key:"getCompressionHeaderBlock",value:(p=N(t.mark(function e(){var n,r,i;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(e.sent.numRecords){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,this.file.getSectionParsers();case 6:return n=e.sent,e.next=9,this.getFirstBlock();case 9:if("COMPRESSION_HEADER"===(r=e.sent).contentType){e.next=12;break}throw new o("invalid content type ".concat(r.contentType," in what is supposed to be the compression header block"));case 12:return i=s(r.content,n.cramCompressionHeader.parser,0,r.contentPosition),e.abrupt("return",(r.content=i,r));case 14:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getFirstBlock",value:(l=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:return n=e.sent,e.abrupt("return",this.file.readBlock(n._endPosition));case 4:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getCompressionScheme",value:(i=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompressionHeaderBlock();case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",new u(n.content));case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getSlice",value:function(e,t){return new c(this,e,t)}},{key:"_readContainerHeader",value:(r=N(t.mark(function e(r){var o,i,l,c,u,p,h,d,f,m;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return o=e.sent,i=o.cramContainerHeader1,l=o.cramContainerHeader2,e.next=7,this.file.stat();case 7:if(c=e.sent,u=c.size,!(r>=u)){e.next=11;break}return e.abrupt("return");case 11:return p=n.allocUnsafe(i.maxLength),e.next=14,this.file.read(p,0,i.maxLength,r);case 14:if(h=s(p,i.parser),d=a(h.numLandmarks),!(r+h.length>=u)){e.next=17;break}return e.abrupt("return",void console.warn("".concat(this.file,": container header at ").concat(r," indicates that the container has length ").concat(h.length,", which extends beyond the length of the file. Skipping this container.")));case 17:return f=n.allocUnsafe(l.maxLength(h.numLandmarks)),e.next=20,this.file.read(f,0,l.maxLength(h.numLandmarks),r+h._size-d);case 20:if(m=s(f,l.parser),e.t0=this.file.validateChecksums&&void 0!==m.crc32,!e.t0){e.next=25;break}return e.next=25,this.file.checkCrc32(r,h._size+m._size-d-4,m.crc32,"container header beginning at position ".concat(r));case 25:return e.abrupt("return",Object.assign(h,m,{_size:h._size+m._size-d,_endPosition:h._size+m._size-d+r}));case 26:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}]),e}();"getHeader getCompressionHeaderBlock getCompressionScheme".split(" ").forEach(function(e){return l(p,e)}),e.exports=p}).call(this,r(1).Buffer)},function(e,t,n){var r,o,i,a,s;r=n(73),o=n(32).utf8,i=n(74),a=n(32).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=r.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,p=-1732584194,h=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var f=s._ff,m=s._gg,y=s._hh,g=s._ii;for(d=0;d<n.length;d+=16){var v=c,b=u,S=p,w=h;c=f(c,u,p,h,n[d+0],7,-680876936),h=f(h,c,u,p,n[d+1],12,-389564586),p=f(p,h,c,u,n[d+2],17,606105819),u=f(u,p,h,c,n[d+3],22,-1044525330),c=f(c,u,p,h,n[d+4],7,-176418897),h=f(h,c,u,p,n[d+5],12,1200080426),p=f(p,h,c,u,n[d+6],17,-1473231341),u=f(u,p,h,c,n[d+7],22,-45705983),c=f(c,u,p,h,n[d+8],7,1770035416),h=f(h,c,u,p,n[d+9],12,-1958414417),p=f(p,h,c,u,n[d+10],17,-42063),u=f(u,p,h,c,n[d+11],22,-1990404162),c=f(c,u,p,h,n[d+12],7,1804603682),h=f(h,c,u,p,n[d+13],12,-40341101),p=f(p,h,c,u,n[d+14],17,-1502002290),c=m(c,u=f(u,p,h,c,n[d+15],22,1236535329),p,h,n[d+1],5,-165796510),h=m(h,c,u,p,n[d+6],9,-1069501632),p=m(p,h,c,u,n[d+11],14,643717713),u=m(u,p,h,c,n[d+0],20,-373897302),c=m(c,u,p,h,n[d+5],5,-701558691),h=m(h,c,u,p,n[d+10],9,38016083),p=m(p,h,c,u,n[d+15],14,-660478335),u=m(u,p,h,c,n[d+4],20,-405537848),c=m(c,u,p,h,n[d+9],5,568446438),h=m(h,c,u,p,n[d+14],9,-1019803690),p=m(p,h,c,u,n[d+3],14,-187363961),u=m(u,p,h,c,n[d+8],20,1163531501),c=m(c,u,p,h,n[d+13],5,-1444681467),h=m(h,c,u,p,n[d+2],9,-51403784),p=m(p,h,c,u,n[d+7],14,1735328473),c=y(c,u=m(u,p,h,c,n[d+12],20,-1926607734),p,h,n[d+5],4,-378558),h=y(h,c,u,p,n[d+8],11,-2022574463),p=y(p,h,c,u,n[d+11],16,1839030562),u=y(u,p,h,c,n[d+14],23,-35309556),c=y(c,u,p,h,n[d+1],4,-1530992060),h=y(h,c,u,p,n[d+4],11,1272893353),p=y(p,h,c,u,n[d+7],16,-155497632),u=y(u,p,h,c,n[d+10],23,-1094730640),c=y(c,u,p,h,n[d+13],4,681279174),h=y(h,c,u,p,n[d+0],11,-358537222),p=y(p,h,c,u,n[d+3],16,-722521979),u=y(u,p,h,c,n[d+6],23,76029189),c=y(c,u,p,h,n[d+9],4,-640364487),h=y(h,c,u,p,n[d+12],11,-421815835),p=y(p,h,c,u,n[d+15],16,530742520),c=g(c,u=y(u,p,h,c,n[d+2],23,-995338651),p,h,n[d+0],6,-198630844),h=g(h,c,u,p,n[d+7],10,1126891415),p=g(p,h,c,u,n[d+14],15,-1416354905),u=g(u,p,h,c,n[d+5],21,-57434055),c=g(c,u,p,h,n[d+12],6,1700485571),h=g(h,c,u,p,n[d+3],10,-1894986606),p=g(p,h,c,u,n[d+10],15,-1051523),u=g(u,p,h,c,n[d+1],21,-2054922799),c=g(c,u,p,h,n[d+8],6,1873313359),h=g(h,c,u,p,n[d+15],10,-30611744),p=g(p,h,c,u,n[d+6],15,-1560198380),u=g(u,p,h,c,n[d+13],21,1309151649),c=g(c,u,p,h,n[d+4],6,-145523070),h=g(h,c,u,p,n[d+11],10,-1120210379),p=g(p,h,c,u,n[d+2],15,718787259),u=g(u,p,h,c,n[d+9],21,-343485551),c=c+v>>>0,u=u+b>>>0,p=p+S>>>0,h=h+w>>>0}return r.endian([c,u,p,h])})._ff=function(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._gg=function(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._hh=function(e,t,n,r,o,i,a){var s=e+(t^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._ii=function(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(s(e,t));return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},function(e,t){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(n.charAt(o>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(e.charAt(r))>>>6-2*o);return t}},e.exports=r},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,n,r){var o=r(0),i=o.CramMalformedError,a=o.CramBufferOverrunError,s=o.CramArgumentError,l=r(8),c=l.parseItem,u=l.tinyMemoize,p=l.sequenceMD5,h=r(17),d=r(76);function f(e,t,n,r){if(!r)throw new i("could not resolve intra-slice mate pairs, file seems truncated or malformed");var o=!!(r.mate||void 0!==r.mateRecordNumber&&r.mateRecordNumber!==t);n.readName||(n.readName=String(n.uniqueId),r.readName=n.readName),n.mate={sequenceId:r.sequenceId,alignmentStart:r.alignmentStart,uniqueId:r.uniqueId},r.readName&&(n.mate.readName=r.readName),r.mate||void 0!==r.mateRecordNumber||(r.mate={sequenceId:n.sequenceId,alignmentStart:n.alignmentStart,uniqueId:n.uniqueId},n.readName&&(r.mate.readName=n.readName)),n.flags|=h.BAM_FPAIRED,r.flags&h.BAM_FUNMAP&&(n.flags|=h.BAM_FMUNMAP),n.flags&h.BAM_FUNMAP&&(r.flags|=h.BAM_FMUNMAP),r.flags&h.BAM_FREVERSE&&(n.flags|=h.BAM_FMREVERSE),n.flags&h.BAM_FREVERSE&&(r.flags|=h.BAM_FMREVERSE),void 0===n.templateLength&&(o?function(e,t,n){var r=function t(n){var r=[n];if(n.mateRecordNumber>=0){var o=e[n.mateRecordNumber];if(!o)throw new i("intra-slice mate record not found, this file seems malformed");r.push.apply(r,W(t(o)))}return r}(n),o=r.map(function(e){return e.alignmentStart}),a=r.map(function(e){return e.alignmentStart+e.readLength-1}),s=Math.max.apply(Math,W(a))-Math.min.apply(Math,W(o))+1;s>=0&&r.forEach(function(e){if(void 0!==e.templateLength)throw new i("mate pair group has some members that have template lengths already, this file seems malformed");e.templateLength=s})}(e,0,n):function(e,t){var n=Math.min(e.alignmentStart,t.alignmentStart),r=Math.max(e.alignmentStart+e.readLength-1,t.alignmentStart+t.readLength-1)-n+1;e.templateLength=r,t.templateLength=r}(n,r)),delete n.mateRecordNumber}var m=function(){function e(t,n){R(this,e),this.container=t,this.file=t.file,this.containerPosition=n}var n,r,o,l,u,h,m;return F(e,[{key:"getHeader",value:function(){var e=N(t.mark(function e(){var n,r,o;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getSectionParsers();case 2:return n=e.sent,e.next=5,this.container.getHeader();case 5:return r=e.sent,e.next=8,this.file.readBlock(r._endPosition+this.containerPosition);case 8:if("MAPPED_SLICE_HEADER"!==(o=e.sent).contentType){e.next=13;break}o.content=c(o.content,n.cramMappedSliceHeader.parser,0,r._endPosition),e.next=16;break;case 13:if("UNMAPPED_SLICE_HEADER"===o.contentType){e.next=15;break}throw new i("error reading slice header block, invalid content type ".concat(o._contentType));case 15:o.content=c(o.content,n.cramUnmappedSliceHeader.parser,0,r._endPosition);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBlocks",value:(m=N(t.mark(function e(){var n,r,o,i;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:n=e.sent,r=n._endPosition,o=new Array(n.content.numBlocks),i=0;case 6:if(!(i<o.length)){e.next=14;break}return e.next=9,this.file.readBlock(r);case 9:o[i]=e.sent,r=o[i]._endPosition;case 11:i+=1,e.next=6;break;case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"getCoreDataBlock",value:(h=N(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"_getBlocksContentIdIndex",value:(u=N(t.mark(function e(){var n,r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBlocks();case 2:return n=e.sent,r={},e.abrupt("return",(n.forEach(function(e){"EXTERNAL_DATA"===e.contentType&&(r[e.contentId]=e)}),r));case 5:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"getBlockByContentId",value:(l=N(t.mark(function e(n){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._getBlocksContentIdIndex();case 2:return e.t0=n,e.abrupt("return",e.sent[e.t0]);case 4:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"getReferenceRegion",value:(o=N(t.mark(function e(){var n,r,o,a;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getHeader();case 2:if(!((n=e.sent.content).refSeqId<0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.container.getCompressionScheme();case 7:if(r=e.sent,!(n.refBaseBlockId>=0)){e.next=15;break}if(o=this.getBlockByContentId(n.refBaseBlockId)){e.next=12;break}throw new i("embedded reference specified, but reference block does not exist");case 12:if(!(n.span>o.uncompressedSize)){e.next=14;break}throw new i("Embedded reference is too small");case 14:return e.abrupt("return",{seq:o.data.toString("utf8"),start:n.refSeqStart,end:n.refSeqStart+n.refSeqSpan-1,span:n.refSeqSpan});case 15:if(!r.referenceRequired&&!this.file.fetchReferenceSequenceCallback){e.next=24;break}if(this.file.fetchReferenceSequenceCallback){e.next=18;break}throw new Error("reference sequence not embedded, and seqFetch callback not provided, cannot fetch reference sequence");case 18:return e.next=20,this.file.fetchReferenceSequenceCallback(n.refSeqId,n.refSeqStart,n.refSeqStart+n.refSeqSpan-1);case 20:if((a=e.sent).length===n.refSeqSpan){e.next=23;break}throw new s("seqFetch callback returned a reference sequence of the wrong length");case 23:return e.abrupt("return",{seq:a,start:n.refSeqStart,end:n.refSeqStart+n.refSeqSpan-1,span:n.refSeqSpan});case 24:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"getAllRecords",value:function(){return this.getRecords(function(){return!0})}},{key:"_fetchRecords",value:(r=N(t.mark(function e(){var n,r,o,s,l,c,u,h,m,y,g,v,b,S,w,C,_,k,T=this;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.file.getDefinition();case 2:return n=e.sent,r=n.majorVersion,e.next=6,this.container.getCompressionScheme();case 6:return o=e.sent,e.next=9,this.getHeader();case 9:return s=e.sent,e.next=12,this._getBlocksContentIdIndex();case 12:if(l=e.sent,!(r>1&&this.file.options.checkSequenceMD5&&s.content.refSeqId>=0&&"0000000000000000"!==s.content.md5.join(""))){e.next=21;break}return e.next=16,this.getReferenceRegion();case 16:if(!(c=e.sent)){e.next=21;break}if(u=c.seq,h=c.start,m=c.end,y=p(u),g=s.content.md5.map(function(e){return(e<16?"0":"")+e.toString(16)}).join(""),y===g){e.next=21;break}throw new i("MD5 checksum reference mismatch for ref ".concat(s.content.refSeqId," pos ").concat(h,"..").concat(m,". recorded MD5: ").concat(g,", calculated MD5: ").concat(y));case 21:return e.next=23,this.getCoreDataBlock();case 23:v=e.sent,b={lastAlignmentStart:s.content.refSeqStart||0,coreBlock:{bitPosition:7,bytePosition:0},externalBlocks:{getCursor:function(e){return this[e]||(this[e]={bitPosition:7,bytePosition:0}),this[e]}}},S=function(e){var t=o.getCodecForDataSeries(e);if(!t)throw new i("no codec defined for ".concat(e," data series"));return t.decode(T,v,l,b)},w=new Array(s.content.numRecords),C=0;case 28:if(!(C<w.length)){e.next=42;break}e.prev=29,w[C]=d(this,S,o,s,v,l,b,r,C),w[C].uniqueId=s.contentPosition+s.content.recordCounter+C+1,e.next=39;break;case 33:if(e.prev=33,e.t0=e.catch(29),!(e.t0 instanceof a)){e.next=38;break}return console.warn("read attempted beyond end of buffer, file seems truncated."),w=w.filter(function(e){return!!e}),e.abrupt("break",42);case 38:throw e.t0;case 39:C+=1,e.next=28;break;case 42:for(_=0;_<w.length;_+=1)(k=w[_].mateRecordNumber)>=0&&f(w,_,w[_],w[k]);return e.abrupt("return",w);case 44:case"end":return e.stop()}},e,this,[[29,33]])})),function(){return r.apply(this,arguments)})},{key:"getRecords",value:(n=N(t.mark(function e(n){var r,o,i,a,s,l,c,u,p,h,d,f,m,y=this;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.container.filePosition+this.containerPosition,(o=this.file.featureCache.get(r))||(o=this._fetchRecords(),this.file.featureCache.set(r,o)),e.next=5,o;case 5:if(e.t0=n,!(i=e.sent.filter(e.t0)).length||!this.file.fetchReferenceSequenceCallback){e.next=21;break}return e.next=10,this.getHeader();case 10:if(!((a=e.sent).content.refSeqId>=0||-2===a.content.refSeqId)){e.next=21;break}return s=a.content.refSeqId>=0?a.content.refSeqId:void 0,e.next=15,this.container.getCompressionScheme();case 15:for(l=e.sent,c={},u=0;u<i.length;u+=1)p=void 0!==s?s:i[u].sequenceId,(h=c[p])||(h={id:p,start:i[u].alignmentStart,end:-1/0},c[p]=h),(d=i[u].alignmentStart+(i[u].lengthOnRef||i[u].readLength)-1)>h.end&&(h.end=d),i[u].alignmentStart<h.start&&(h.start=i[u].alignmentStart);return e.next=20,Promise.all(Object.values(c).map(function(){var e=N(t.mark(function e(n){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=-1!==n.id&&n.start<=n.end,!e.t0){e.next=5;break}return e.next=4,y.file.fetchReferenceSequenceCallback(n.id,n.start,n.end);case 4:n.seq=e.sent;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 20:for(f=0;f<i.length;f+=1)(m=c[void 0!==s?s:i[f].sequenceId])&&m.seq&&i[f].addReferenceSequence(m,l);case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})}]),e}();"getHeader getBlocks _getBlocksContentIdIndex".split(" ").forEach(function(e){return u(m,e)}),e.exports=m},function(e,t,n){(function(t){var r=n(0),o=r.CramMalformedError,i=r.CramUnimplementedError,a=n(31),s=n(77),l=n(17);function c(e){var t=e.indexOf(0);return-1===t?e.toString("utf8"):e.toString("utf8",0,t)}function u(e,n){if(n.readInt32LE||(n=t.from(n)),"Z"===e)return c(n);if("A"===e)return String.fromCharCode(n[0]);if("I"===e){var r=a.fromBytesLE(n);if(r.greaterThan(Number.MAX_SAFE_INTEGER)||r.lessThan(Number.MIN_SAFE_INTEGER))throw new i("integer overflow");return r.toNumber()}if("i"===e)return n.readInt32LE(0);if("s"===e)return n.readInt16LE(0);if("S"===e)return n.readUInt16LE(0);if("c"===e)return n.readInt8(0);if("C"===e)return n.readUInt8(0);if("f"===e)return n.readFloatLE(0);if("H"===e){var s=c(n);return Number.parseInt(s.replace(/^0x/,""),16)}if("B"===e)return function(e){var t=String.fromCharCode(e[0]),n=e.readInt32LE(1),r={c:["readInt8",1],C:["readUInt8",1],s:["readInt16LE",2],S:["readUInt16LE",2],i:["readInt32LE",4],I:["readUInt32LE",4],f:["readFloatLE",4]}[t];if(!r)throw new o("invalid tag value array type '".concat(t,"'"));for(var i=q(r,2),a=i[0],s=i[1],l=new Array(n),c=5,u=0;u<n;u+=1)l[u]=e[a](c),c+=s;return l}(n);throw new o("Unrecognized tag type ".concat(e))}function p(e){if(e instanceof t)return c(e);if(e.length&&e.indexOf){if(!e[e.length-1]){var n=e.indexOf(0);return String.fromCharCode.apply(String,W(e.slice(0,n)))}return String.fromCharCode.apply(String,W(e))}return String(e)}e.exports=function(e,t,n,r,i,a,c,h,d){var f=new s;if(f.flags=t("BF"),f.cramFlags=t("CF"),h>1&&-2===r.content.refSeqId?f.sequenceId=t("RI"):f.sequenceId=r.content.refSeqId,f.readLength=t("RL"),f.alignmentStart=t("AP"),n.APdelta&&(f.alignmentStart+=c.lastAlignmentStart),c.lastAlignmentStart=f.alignmentStart,f.readGroupId=t("RG"),n.readNamesIncluded&&(f.readName=p(t("RN"))),f.isDetached()){var m={};m.flags=t("MF"),n.readNamesIncluded||(m.readName=p(t("RN")),f.readName=m.readName),m.sequenceId=t("NS"),m.alignmentStart=t("NP"),(m.flags||m.sequenceId>-1)&&(f.mate=m),f.templateSize=t("TS"),m.flags&l.CRAM_M_UNMAP&&(f.flags|=l.BAM_FMUNMAP),m.flags&l.CRAM_M_REVERSE&&(f.flags|=l.BAM_FMREVERSE)}else f.hasMateDownStream()&&(f.mateRecordNumber=t("NF")+d+1);var y=t("TL");if(y<0)throw new o("invalid TL index");for(var g=n.getTagNames(y),v=g.length,b=0;b<v;b+=1){var S=g[b],w=S.substr(0,2),C=S.substr(2,1),_=n.getCodecForTag(S);if(!_)throw new o("no codec defined for auxiliary tag ".concat(S));var k=_.decode(e,i,a,c);f.tags[w]=u(C,k)}if(f.isSegmentUnmapped())if(f.isUnknownBases())f.readBases=null,f.qualityScores=null;else{for(var T=new Array(f.readLength),x=0;x<T.length;x+=1)T[x]=t("BA");if(f.readBases=String.fromCharCode.apply(String,T),f.isPreservingQualityScores()){for(var E=0;E<T.length;E+=1)T[E]=t("QS");f.qualityScores=T}}else{var A=t("FN");A&&(f.readFeatures=function(e,t,n,r,i){var a=0,s=e.alignmentStart-1,l=new Array(t);function c(e){var t=q(e,2),r=t[0],o=t[1],i=n(o);return"character"===r?String.fromCharCode(i):"string"===r?i.toString("utf8"):"numArray"===r?i.toArray():i}for(var u=0;u<t;u+=1){var p=String.fromCharCode(n("FC")),h=n("FP"),d={code:p},f={B:["character","BA"],S:["string",i>1?"SC":"IN"],X:["number","BS"],D:["number","DL"],I:["string","IN"],i:["character","BA"],b:["string","BB"],q:["numArray","QQ"],Q:["number","QS"],H:["number","HC"],P:["number","PD"],N:["number","RS"]}[p];if(!f)throw new o('invalid read feature code "'.concat(p,'"'));d.data=c(f);var m={B:["number","QS"]}[p];m&&(d.data=[d.data,c(m)]),a+=h,d.pos=a,s+=h,d.refPos=s,"D"===p||"N"===p?s+=d.data:"H"===p?s-=d.data:"I"===p||"S"===p?s-=d.data.length:"i"===p&&(s-=1),l[u]=d}return l}(f,A,t,0,h));var O=f.readLength;if(f.readFeatures&&f.readFeatures.forEach(function(e){var t=e.code,n=e.data;"D"===t||"N"===t?O+=n:"I"===t||"S"===t?O-=n.length:"i"===t&&(O-=1)}),Number.isNaN(O)&&(console.warn("".concat(f.readName||"".concat(f.sequenceId,":").concat(f.alignmentStart)," record has invalid read features")),O=f.readLength),f.lengthOnRef=O,f.mappingQuality=t("MQ"),f.isPreservingQualityScores()){for(var P=new Array(f.readLength),I=0;I<P.length;I+=1)P[I]=t("QS");f.qualityScores=P}}return f}}).call(this,n(1).Buffer)},function(e,t,n){var r=n(17),o={a:0,A:0,c:1,C:1,g:2,G:2,t:3,T:3,n:4,N:4};e.exports=function(){function e(){R(this,e),this.tags={}}return F(e,[{key:"isPaired",value:function(){return!!(this.flags&r.BAM_FPAIRED)}},{key:"isProperlyPaired",value:function(){return!!(this.flags&r.BAM_FPROPER_PAIR)}},{key:"isSegmentUnmapped",value:function(){return!!(this.flags&r.BAM_FUNMAP)}},{key:"isMateUnmapped",value:function(){return!!(this.flags&r.BAM_FMUNMAP)}},{key:"isReverseComplemented",value:function(){return!!(this.flags&r.BAM_FREVERSE)}},{key:"isMateReverseComplemented",value:function(){return!!(this.flags&r.BAM_FMREVERSE)}},{key:"isRead1",value:function(){return!!(this.flags&r.BAM_FREAD1)}},{key:"isRead2",value:function(){return!!(this.flags&r.BAM_FREAD2)}},{key:"isSecondary",value:function(){return!!(this.flags&r.BAM_FSECONDARY)}},{key:"isFailedQc",value:function(){return!!(this.flags&r.BAM_FQCFAIL)}},{key:"isDuplicate",value:function(){return!!(this.flags&r.BAM_FDUP)}},{key:"isSupplementary",value:function(){return!!(this.flags&r.BAM_FSUPPLEMENTARY)}},{key:"isDetached",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_DETACHED)}},{key:"hasMateDownStream",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_MATE_DOWNSTREAM)}},{key:"isPreservingQualityScores",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_PRESERVE_QUAL_SCORES)}},{key:"isUnknownBases",value:function(){return!!(this.cramFlags&r.CRAM_FLAG_NO_SEQ)}},{key:"getReadBases",value:function(){return!this.readBases&&this._refRegion&&(this.readBases=function(e,t){if((e.lengthOnRef||e.readLength)&&!e.isUnknownBases()){var n=e.alignmentStart-t.start;if(!e.readFeatures)return t.seq.substr(n,e.lengthOnRef).toUpperCase();for(var r="",o=n,i=0;r.length<e.readLength;)if(i<e.readFeatures.length&&e.readFeatures[i].pos===r.length+1){var a=e.readFeatures[i];i+=1,"b"===a.code?(r+=a.data,o+=1):"B"===a.code?(r+=a.data[0],o+=1):"X"===a.code?(r+=a.sub,o+=1):"I"===a.code?r+=a.data:"D"===a.code?o+=a.data:"i"===a.code?r+=a.data:"N"===a.code?o+=a.data:"S"===a.code?r+=a.data:"P"===a.code||a.code}else if(i<e.readFeatures.length){var s=t.seq.substr(o,e.readFeatures[i].pos-r.length-1);r+=s,o+=s.length}else{var l=t.seq.substr(o,e.readLength-r.length);r+=l,o+=l.length}return r.toUpperCase()}}(this,this._refRegion)),this.readBases}},{key:"getPairOrientation",value:function(){if(!this.isSegmentUnmapped()&&this.isPaired()&&!this.isMateUnmapped()&&this.sequenceId===this.mate.sequenceId){var e=this.isReverseComplemented()?"R":"F",t=this.isMateReverseComplemented()?"R":"F",n=" ",r=" ";this.isRead1()?(n="1",r="2"):this.isRead2()&&(n="2",r="1");var o=[],i=this.templateLength||this.templateSize;return this.alignmentStart>this.mate.alignmentStart&&i>0&&(i=-i),i>0?(o[0]=e,o[1]=n,o[2]=t,o[3]=r):(o[2]=e,o[3]=n,o[0]=t,o[1]=r),o.join("")}return null}},{key:"addReferenceSequence",value:function(e,t){this.readFeatures&&this.readFeatures.forEach(function(n){"X"===n.code&&function(e,t,n,r){if(t){var i=r.refPos-t.start,a=t.seq.charAt(i);a&&(r.ref=a);var s=o[a];void 0===s&&(s=4);var l=n.substitutionMatrix[s][r.data];l&&(r.sub=l)}}(0,e,t,n)}),!this.readBases&&e.start<=this.alignmentStart&&e.end>=this.alignmentStart+(this.lengthOnRef||this.readLength)-1&&(this._refRegion=e)}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach(function(n){"_"!==n.charAt(0)&&(t[n]=e[n])}),t.readBases=this.getReadBases(),t}}]),e}()},function(e,t,n){var r=n(0).CramMalformedError,o=n(79).instantiateCodec,i={BF:"int",CF:"int",RI:"int",RL:"int",AP:"int",RG:"int",MF:"int",NS:"int",NP:"int",TS:"int",NF:"int",TC:"byte",TN:"int",FN:"int",FC:"byte",FP:"int",BS:"byte",IN:"byteArray",SC:"byteArray",DL:"int",BA:"byte",BB:"byteArray",RS:"int",PD:"int",HC:"int",MQ:"int",RN:"byteArray",QS:"byte",QQ:"byteArray",TL:"int",TM:"ignore",TV:"ignore"};e.exports=function(){function e(t){R(this,e),Object.assign(this,t),this.readNamesIncluded=t.preservation.RN,this.APdelta=t.preservation.AP,this.referenceRequired=!!t.preservation.RR,this.tagIdsDictionary=t.preservation.TD,this.substitutionMatrix=function(e){for(var t=new Array(5),n=0;n<5;n+=1)t[n]=new Array(4);return t[0][e[0]>>6&3]="C",t[0][e[0]>>4&3]="G",t[0][e[0]>>2&3]="T",t[0][e[0]>>0&3]="N",t[1][e[1]>>6&3]="A",t[1][e[1]>>4&3]="G",t[1][e[1]>>2&3]="T",t[1][e[1]>>0&3]="N",t[2][e[2]>>6&3]="A",t[2][e[2]>>4&3]="C",t[2][e[2]>>2&3]="T",t[2][e[2]>>0&3]="N",t[3][e[3]>>6&3]="A",t[3][e[3]>>4&3]="C",t[3][e[3]>>2&3]="G",t[3][e[3]>>0&3]="N",t[4][e[4]>>6&3]="A",t[4][e[4]>>4&3]="C",t[4][e[4]>>2&3]="G",t[4][e[4]>>0&3]="T",t}(t.preservation.SM),this.dataSeriesCodecCache={},this.tagCodecCache={}}return F(e,[{key:"getCodecForTag",value:function(e){if(!this.tagCodecCache[e]){var t=this.tagEncoding[e];t&&(this.tagCodecCache[e]=o(t,"byteArray"))}return this.tagCodecCache[e]}},{key:"getTagNames",value:function(e){return this.tagIdsDictionary[e]}},{key:"getCodecForDataSeries",value:function(e){if(!this.dataSeriesCodecCache[e]){var t=this.dataSeriesEncoding[e];if(t){var n=i[e];if(!n)throw new r("data series name ".concat(e," not defined in file compression header"));this.dataSeriesCodecCache[e]=o(t,n)}}return this.dataSeriesCodecCache[e]}},{key:"toJSON",value:function(){var e=this,t={};return Object.keys(this).forEach(function(n){/Cache$/.test(n)||(t[n]=e[n])}),t}}]),e}()},function(e,t,n){var r=n(0).CramUnimplementedError,o=n(80),i=n(81),a=n(82),s=n(83),l=n(84),c=n(85),u={1:i,3:o,4:s,5:a,6:l,7:n(86),9:c};function p(e){return u[e]}e.exports={getCodecClassWithId:p,instantiateCodec:function e(t,n){var o=p("ignore"===n?0:t.codecId);if(!o)throw new r("no codec implemented for codec ID ".concat(t.codecId));return new o(t.parameters,n,e)}}},function(t,n,r){var o=r(0).CramMalformedError,i=r(6);t.exports=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},o=arguments.length>1?arguments[1]:e;if(R(this,n),t=U(this,B(n).call(this,r,o)),!["byte","int"].includes(t.dataType))throw new TypeError("".concat(t.dataType," decoding not yet implemented by HUFFMAN_INT codec"));return t.buildCodeBook(),t.buildCodes(),t.buildCaches(),0===t.sortedCodes[0].bitLength&&(t._decode=t._decodeZeroLengthCode),U(t)}return G(n,i),F(n,[{key:"buildCodeBook",value:function(){for(var e=this,t=new Array(this.parameters.numCodes),n=0;n<this.parameters.numCodes;n+=1)t[n]={symbol:this.parameters.symbols[n],bitLength:this.parameters.bitLengths[n]};t=t.sort(function(e,t){return e.bitLength-t.bitLength||e.symbol-t.symbol}),this.codeBook={},t.forEach(function(t){e.codeBook[t.bitLength]||(e.codeBook[t.bitLength]=[]),e.codeBook[t.bitLength].push(t.symbol)})}},{key:"buildCodes",value:function(){var e=this;this.codes={};var t=0,n=-1;Object.entries(this.codeBook).forEach(function(r){var i=q(r,2),a=i[0],s=i[1];a=parseInt(a,10),s.forEach(function(r){var i={bitLength:a,value:r};n+=1;var s=a-t;if(n<<=s,i.bitCode=n,t+=s,function(e){var t=n-(n>>1)&1431655765;return 16843009*((t=(858993459&t)+(t>>2&858993459))+(t>>4)&252645135)>>24}()>a)throw new o("Symbol out of range");e.codes[r]=i})})}},{key:"buildCaches",value:function(){this.sortedCodes=Object.values(this.codes).sort(function(e,t){return e.bitLength-t.bitLength||e.bitCode-t.bitCode}),this.sortedByValue=Object.values(this.codes).sort(function(e,t){return e.value-t.value}),this.sortedValuesByBitCode=this.sortedCodes.map(function(e){return e.value}),this.sortedBitCodes=this.sortedCodes.map(function(e){return e.bitCode}),this.sortedBitLengthsByBitCode=this.sortedCodes.map(function(e){return e.bitLength});var e=Math.max.apply(Math,W(this.sortedBitCodes));this.bitCodeToValue=new Array(e+1).fill(-1);for(var t=0;t<this.sortedBitCodes.length;t+=1)this.bitCodeToValue[this.sortedCodes[t].bitCode]=t}},{key:"decode",value:function(e,t,n,r){return this._decode(e,t,r.coreBlock)}},{key:"_decodeZeroLengthCode",value:function(){return this.sortedCodes[0].value}},{key:"_decode",value:function(e,t,n){for(var r=t.content,i=0,a=0,s=0;s<this.sortedCodes.length;s+=1){var l=this.sortedCodes[s].bitLength;a<<=l-i,a|=this._getBits(r,n,l-i),i=l;var c=this.bitCodeToValue[a];if(c>-1&&this.sortedBitLengthsByBitCode[c]===l)return this.sortedValuesByBitCode[c];for(var u=s;this.sortedCodes[u+1].bitLength===l&&u<this.sortedCodes.length;u+=1)s+=1}throw new o("Huffman symbol not found.")}}]),n}()},function(t,n,r){var o=r(0),i=o.CramUnimplementedError,a=o.CramMalformedError,s=o.CramBufferOverrunError,l=r(6),c=r(8).parseItf8;t.exports=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},o=arguments.length>1?arguments[1]:e;if(R(this,n),"int"===(t=U(this,B(n).call(this,r,o))).dataType)t._decodeData=t._decodeInt;else{if("byte"!==t.dataType)throw new i("".concat(t.dataType," decoding not yet implemented by EXTERNAL codec"));t._decodeData=t._decodeByte}return U(t)}return G(n,l),F(n,[{key:"decode",value:function(e,t,n,r){var o=this.parameters.blockContentId,i=n[o];if(!i)throw new a("no block found with content ID ".concat(o));var s=r.externalBlocks.getCursor(o);return this._decodeData(i,s)}},{key:"_decodeInt",value:function(e,t){var n=q(c(e.content,t.bytePosition),2),r=n[0],o=n[1];return t.bytePosition+=o,r}},{key:"_decodeByte",value:function(e,t){if(t.bytePosition>=e.content.length)throw new s("attempted to read beyond end of block. this file seems truncated.");var n=e.content[t.bytePosition];return t.bytePosition+=1,n}}]),n}()},function(t,n,r){var o=r(0),i=o.CramBufferOverrunError,a=o.CramMalformedError,s=r(6);t.exports=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},o=arguments.length>1?arguments[1]:e;if(R(this,n),t=U(this,B(n).call(this,r,o)),"byteArray"!==o)throw new TypeError("byteArrayStop codec does not support data type ".concat(o));return t._decode=t._decodeByteArray,U(t)}return G(n,s),F(n,[{key:"decode",value:function(e,t,n,r){var o=this.parameters.blockContentId,i=n[o];if(!i)throw new a("no block found with content ID ".concat(o));var s=r.externalBlocks.getCursor(o);return this._decode(i,s)}},{key:"_decodeByteArray",value:function(e,t){for(var n=e.content,r=this.parameters.stopByte,o=t.bytePosition,a=t.bytePosition;n[a]!==r&&a<n.length;){if(a===n.length)throw new i("byteArrayStop reading beyond length of data buffer?");a+=1}return t.bytePosition=a+1,n.slice(o,a)}}]),n}()},function(t,n,r){var o=r(8).tinyMemoize,i=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},o=arguments.length>1?arguments[1]:e,i=arguments.length>2?arguments[2]:e;if(R(this,n),(t=U(this,B(n).call(this,r,o))).instantiateCodec=i,"byteArray"!==o)throw new TypeError("byteArrayLength does not support data type ".concat(o));return U(t)}return G(n,r(6)),F(n,[{key:"decode",value:function(e,t,n,r){for(var o=this._getLengthCodec().decode(e,t,n,r),i=this._getDataCodec(),a=new Array(o),s=0;s<o;s+=1)a[s]=i.decode(e,t,n,r);return a}},{key:"_getLengthCodec",value:function(){var e=this.parameters.lengthsEncoding;return this.instantiateCodec(e,"int")}},{key:"_getDataCodec",value:function(){var e=this.parameters.valuesEncoding;return this.instantiateCodec(e,"byte")}}]),n}();"_getLengthCodec _getDataCodec".split(" ").forEach(function(e){return o(i,e)}),t.exports=i},function(t,n,r){var o=r(0).CramUnimplementedError,i=r(6);t.exports=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},i=arguments.length>1?arguments[1]:e;if(R(this,n),"int"!==(t=U(this,B(n).call(this,r,i))).dataType)throw new o("".concat(t.dataType," decoding not yet implemented by BETA codec"));return U(t)}return G(n,i),F(n,[{key:"decode",value:function(e,t,n,r){return this._getBits(t.content,r.coreBlock,this.parameters.length)-this.parameters.offset}}]),n}()},function(t,n,r){var o=r(0).CramUnimplementedError,i=r(6);t.exports=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},i=arguments.length>1?arguments[1]:e;if(R(this,n),"int"!==(t=U(this,B(n).call(this,r,i))).dataType)throw new o("".concat(t.dataType," decoding not yet implemented by GAMMA codec"));return U(t)}return G(n,i),F(n,[{key:"decode",value:function(e,t,n,r){for(var o=1;0===this._getBits(t.content,r.coreBlock,1);)o+=1;return(this._getBits(t.content,r.coreBlock,o-1)|1<<o-1)-this.parameters.offset}}]),n}()},function(t,n,r){var o=r(0).CramUnimplementedError,i=r(6);t.exports=function(t){function n(){var t,r=arguments.length>0&&arguments[0]!==e?arguments[0]:{},i=arguments.length>1?arguments[1]:e;if(R(this,n),"int"!==(t=U(this,B(n).call(this,r,i))).dataType)throw new o("".concat(t.dataType," decoding not yet implemented by SUBEXP codec"));return U(t)}return G(n,i),F(n,[{key:"decode",value:function(e,t,n,r){for(var o,i,a=0;this._getBits(t.content,r.coreBlock,1);)a+=1;return 0===a?(o=this.parameters.K,i=this._getBits(t.content,r.coreBlock,o)):i=1<<(o=a+this.parameters.K-1)|this._getBits(t.content,r.coreBlock,o),i-this.parameters.offset}}]),n}()},function(e,t,n){var r=n(88),o=n(90);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),p=["%","/","?",";","#"].concat(u),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(91);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+D(e));var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var S=l.exec(b);if(S)return this.path=b,this.href=b,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var C=(w=w[0]).toLowerCase();this.protocol=C,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||w&&y[w]||(b=b.substr(2),this.slashes=!0)}if(!y[w]&&(_||w&&!g[w])){for(var k,T,x=-1,E=0;E<h.length;E++)-1!==(A=b.indexOf(h[E]))&&(-1===x||A<x)&&(x=A);for(-1!==(T=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(k=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(k)),x=-1,E=0;E<p.length;E++){var A;-1!==(A=b.indexOf(p[E]))&&(-1===x||A<x)&&(x=A)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var P=this.hostname.split(/\./),I=(E=0,P.length);E<I;E++){var M=P[E];if(M&&!M.match(d)){for(var L="",N=0,R=M.length;N<R;N++)M.charCodeAt(N)>127?L+="x":L+=M[N];if(!L.match(d)){var j=P.slice(0,E),F=P.slice(E+1),G=M.match(f);G&&(j.push(G[1]),F.unshift(G[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[C])for(E=0,I=u.length;E<I;E++){var V=u[E];if(-1!==b.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),b=b.split(V).join(H)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var p=Object.keys(e),h=0;h<p.length;h++){var d=p[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=S||b||n.host&&e.pathname,C=w,_=n.pathname&&n.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===_[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=f;else if(f.length)_||(_=[]),_.pop(),_=_.concat(f),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=_.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=_.slice(-1)[0],x=(n.host||e.host||_.length>1)&&("."===T||".."===T)||""===T,E=0,A=_.length;A>=0;A--)"."===(T=_[A])?_.splice(A,1):".."===T?(_.splice(A,1),E++):E&&(_.splice(A,1),E--);if(!w&&!C)for(;E--;E)_.unshift("..");!w||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),x&&"/"!==_.join("/").substr(-1)&&_.push("");var O,P=""===_[0]||_[0]&&"/"===_[0].charAt(0);return k&&(n.hostname=n.host=P?"":_.length?_.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),(w=w||n.host&&_.length)&&!P&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,r){var o;!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==D(r)&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=36,u=1,p=26,h=38,d=700,f=72,m=128,y="-",g=/^xn--/,v=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-u,C=Math.floor,_=String.fromCharCode;function k(e){throw new RangeError(S[e])}function T(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+T((e=e.replace(b,".")).split("."),t).join(".")}function E(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function A(e){return T(e,function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)}).join("")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?C(e/d):e>>1,e+=C(e/t);e>w*p>>1;r+=c)e=C(e/w);return C(r+(w+1)*e/(e+h))}function I(e){var t,n,r,o,i,a,s,h,d,g,v,b=[],S=e.length,w=0,_=m,T=f;for((n=e.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&k("not-basic"),b.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<S;){for(i=w,a=1,s=c;o>=S&&k("invalid-input"),((h=(v=e.charCodeAt(o++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:c)>=c||h>C((l-w)/a))&&k("overflow"),w+=h*a,!(h<(d=s<=T?u:s>=T+p?p:s-T));s+=c)a>C(l/(g=c-d))&&k("overflow"),a*=g;T=P(w-i,t=b.length+1,0==i),C(w/t)>l-_&&k("overflow"),_+=C(w/t),w%=t,b.splice(w++,0,_)}return A(b)}function M(e){var t,n,r,o,i,a,s,h,d,g,v,b,S,w,T,x=[];for(b=(e=E(e)).length,t=m,n=0,i=f,a=0;a<b;++a)(v=e[a])<128&&x.push(_(v));for(r=o=x.length,o&&x.push(y);r<b;){for(s=l,a=0;a<b;++a)(v=e[a])>=t&&v<s&&(s=v);for(s-t>C((l-n)/(S=r+1))&&k("overflow"),n+=(s-t)*S,t=s,a=0;a<b;++a)if((v=e[a])<t&&++n>l&&k("overflow"),v==t){for(h=n,d=c;!(h<(g=d<=i?u:d>=i+p?p:d-i));d+=c)T=h-g,w=c-g,x.push(_(O(g+T%w,0))),h=C(T/w);x.push(_(O(h,0))),i=P(n,S,r==o),n=0,++r}++n,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:E,encode:A},decode:I,encode:M,toASCII:function(e){return x(e,function(e){return v.test(e)?"xn--"+M(e):e})},toUnicode:function(e){return x(e,function(e){return g.test(e)?I(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(89)(e),n(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==D(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(92),t.encode=t.stringify=n(93)},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var p,h,d,f,m=e[u].replace(s,"%20"),y=m.indexOf(n);y>=0?(p=m.substr(0,y),h=m.substr(y+1)):(p=m,h=""),d=decodeURIComponent(p),f=decodeURIComponent(h),r(a,d)?o(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){switch(D(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==D(e)?i(a(e),function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(n,r,o){(function(r){var i=o(95),a=o(96);n.exports=function(){function n(e){var t=this;R(this,n),this.position=0,this.url=e,this.cache=new a({fetch:function(e,n){return t._fetch(e,n)}})}var o,s,l;return F(n,[{key:"_fetch",value:(l=N(t.mark(function e(n,o){var a,s,l,c;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o<1/0?a.range="bytes=".concat(n,"-").concat(n+o):o===1/0&&0!==n&&(a.range="bytes=".concat(n,"-")),e.next=4,i(this.url,{method:"GET",headers:a,redirect:"follow",mode:"cors"});case 4:if((200!==(s=e.sent).status||0!==n)&&206!==s.status){e.next=13;break}return e.t0=r,e.next=9,s.arrayBuffer();case 9:return e.t1=e.sent,l=e.t0.from.call(e.t0,e.t1),c=/\/(\d+)$/.exec(s.headers.get("content-range")),e.abrupt("return",(c&&c[1]?this._stat={size:parseInt(c[1],10)}:this._stat={size:void 0},l));case 13:throw new Error("HTTP ".concat(s.status," fetching ").concat(this.url));case 14:case"end":return e.stop()}},e,this)})),function(e,t){return l.apply(this,arguments)})},{key:"read",value:function(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:0,r=arguments.length>2&&arguments[2]!==e?arguments[2]:1/0,o=arguments.length>3&&arguments[3]!==e?arguments[3]:0;return null===o&&(this.position,this.position+=r),this.cache.get(t,n,r,o)}},{key:"readFile",value:(s=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(this.url,{method:"GET",redirect:"follow",mode:"cors"});case 2:return n=e.sent,e.t0=r,e.next=6,n.arrayBuffer();case 6:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 8:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"stat",value:(o=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=r.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})}]),n}()}).call(this,o(1).Buffer)},function(e,t){var n=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"!=typeof self?self:this);!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=u(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=i(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[i(e)]},l.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},l.prototype.set=function(e,t){this.map[i(e)]=a(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),s(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),s(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),s(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n,r,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),f.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},d.call(m.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];g.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function b(e,r){return new Promise(function(o,i){var a=new m(e,r);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;o(new g(r,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&n.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)})}b.polyfill=!0,e.fetch||(e.fetch=b,e.Headers=l,e.Request=m,e.Response=g),t.Headers=l,t.Request=m,t.Response=g,t.fetch=b}({})}(n),delete n.fetch.polyfill,e.exports=t=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,t.default=n.fetch},function(e,n,r){var o=r(30);e.exports=function(){function e(t){var n=t.fetch,r=t.size,i=void 0===r?1e7:r,a=t.chunkSize,s=void 0===a?32768:a;if(R(this,e),!n)throw new Error("fetch function required");this.fetch=n,this.chunkSize=s,this.lruCache=new o({maxSize:Math.floor(i/s)})}var n;return F(e,[{key:"get",value:(n=N(t.mark(function e(n,r,o,i){var a,s,l,c,u,p,h,d=this;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length<r+o)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),s=Math.floor((i+o)/this.chunkSize),l=new Array(s-a+1),c=function(e){l[e-a]=d._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},u=a;u<=s;u+=1)c(u);return e.next=7,Promise.all(l);case 7:p=e.sent,h=i-p[0].chunkNumber*this.chunkSize,p.forEach(function(e){var t=e.data,l=e.chunkNumber,c=l*d.chunkSize,u=0,p=d.chunkSize,f=r+(l-a)*d.chunkSize-h;l===a&&(f=r,u=h),l===s&&(p=i+o-c),t.copy(n,f,u,p)});case 10:case"end":return e.stop()}},e,this)})),function(e,t,r,o){return n.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}()},function(n,r,o){o(34).promisify;var i=null;n.exports=function(){function n(e){R(this,n),this.position=0,this.filename=e,this.fd=i(this.filename,"r")}var r,o,a;return F(n,[{key:"read",value:(a=N(t.mark(function n(r){var o,i,a,s=arguments;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>1&&s[1]!==e?s[1]:0,i=s.length>2?s[2]:e,null===(a=s.length>3?s[3]:e)&&(this.position,this.position+=i),t.t0=null,t.next=8,this.fd;case 8:return t.t1=t.sent,t.t2=r,t.t3=o,t.t4=i,t.t5=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 14:case"end":return t.stop()}},n,this)})),function(e){return a.apply(this,arguments)})},{key:"readFile",value:(o=N(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=null,e.next=3,this.fd;case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"stat",value:(r=N(t.mark(function e(){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._stat,e.t0){e.next=9;break}return e.t1=null,e.next=5,this.fd;case 5:return e.t2=e.sent,e.next=8,(0,e.t1)(e.t2);case 8:this._stat=e.sent;case 9:return e.abrupt("return",this._stat);case 10:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}]),n}()},function(e,t){e.exports={parseHeaderText:function(e){var t=e.split(/\r?\n/),n=[];return t.forEach(function(e){var t=function(e){return K(e)||$(e)||Y()}(e.split(/\t/)),r=t[0],o=t.slice(1).map(function(e){var t=q(e.split(":",2),2);return{tag:t[0],value:t[1]}});r&&n.push({tag:r.substr(1),data:o})}),n}}},function(n,r,o){var i=o(0),a=i.CramUnimplementedError,s=i.CramSizeLimitError,l=o(18);n.exports=function(){function n(e){if(R(this,n),e.cram?this.cram=e.cram:this.cram=new l({url:e.cramUrl,path:e.cramPath,filehandle:e.cramFilehandle,seqFetch:e.seqFetch,checkSequenceMD5:e.checkSequenceMD5,cacheSize:e.cacheSize}),!(this.cram instanceof l))throw new Error("invalid arguments: no cramfile");if(this.index=e.index,!this.index.getEntriesForRange)throw new Error("invalid arguments: not an index");this.fetchSizeLimit=e.fetchSizeLimit||3e6}var r;return F(n,[{key:"getRecordsForRange",value:(r=N(t.mark(function n(r,o,i){var l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x,E,A,O,P,I,M,D,L,N=this,R=arguments;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((c=R.length>3&&R[3]!==e?R[3]:{}).viewAsPairs=c.viewAsPairs||!1,c.pairAcrossChr=c.pairAcrossChr||!1,c.maxInsertSize=c.maxInsertSize||2e5,"string"!=typeof r){t.next=3;break}throw new a("string sequence names not yet supported");case 3:return u=r,t.next=6,this.index.getEntriesForRange(u,o,i);case 6:if(p=t.sent,!((h=p.map(function(e){return e.sliceBytes}).reduce(function(e,t){return e+t},0))>this.fetchSizeLimit)){t.next=10;break}throw new s("data size of ".concat(h.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 10:return d=function(e){return e.sequenceId===r&&e.alignmentStart<=i&&e.alignmentStart+e.lengthOnRef>=o},t.next=13,Promise.all(p.map(function(e){return N.getRecordsInSlice(e,d)}));case 13:if(f=t.sent,m=(l=Array.prototype).concat.apply(l,W(f)),!c.viewAsPairs){t.next=36;break}for(y={},g={},v=0;v<m.length;v+=1)b=m[v].readName,S=m[v].uniqueId,y[b]||(y[b]=0),y[b]+=1,g[S]=1;for(w={},Object.entries(y).forEach(function(e){var t=q(e,2),n=t[0];1===t[1]&&(w[n]=!0)}),C=[],_=0;_<m.length;_+=1)k=m[_].readName,w[k]&&m[_].mate&&(m[_].mate.sequenceId===u||c.pairAcrossChr)&&Math.abs(m[_].alignmentStart-m[_].mate.alignmentStart)<c.maxInsertSize&&(T=this.index.getEntriesForRange(m[_].mate.sequenceId,m[_].mate.alignmentStart,m[_].mate.alignmentStart+1),C.push(T));return t.next=24,Promise.all(C);case 24:for(x=t.sent,E=[],A=0;A<x.length;A+=1)(O=E).push.apply(O,W(x[A]));if(E=E.sort(function(e,t){return e.toString().localeCompare(t.toString())}).filter(function(e,t,n){return!t||e.toString()!==n[t-1].toString()}),P=[],I=[],!((M=E.map(function(e){return e.sliceBytes}).reduce(function(e,t){return e+t},0))>this.fetchSizeLimit)){t.next=31;break}throw new Error("mate data size of ".concat(M.toLocaleString()," bytes exceeded fetch size limit of ").concat(this.fetchSizeLimit.toLocaleString()," bytes"));case 31:return E.forEach(function(e){var t=N.cram.featureCache.get(e.toString());t||(t=N.getRecordsInSlice(e,function(){return!0}),N.cram.featureCache.set(e.toString(),t)),P.push(t);var n=t.then(function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];w[r.readName]&&!g[r.uniqueId]&&t.push(r)}return t});I.push(n)}),t.next=34,Promise.all(I);case 34:(D=t.sent).length&&(L=D.reduce(function(e,t){return e.concat(t)}),m=m.concat(L));case 36:return t.abrupt("return",m);case 37:case"end":return t.stop()}},n,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"getRecordsInSlice",value:function(e,t){var n=e.containerStart,r=e.sliceStart,o=e.sliceBytes;return this.cram.getContainerAtPosition(n).getSlice(r,o).getRecords(t)}},{key:"hasDataForReferenceSequence",value:function(e){return this.index.hasDataForReferenceSequence(e)}}]),n}()},function(e,n,r){var o=(0,r(34).promisify)(r(20).gunzip),i=r(33).open,a=r(0).CramMalformedError,s=function(){function e(t){R(this,e),Object.assign(this,t)}return F(e,[{key:"toString",value:function(){return"".concat(this.start,":").concat(this.span,":").concat(this.containerStart,":").concat(this.sliceStart,":").concat(this.sliceBytes)}}]),e}();function l(e,t){if(t.some(function(e){return void 0===e}))throw new a("invalid .crai index file");var n=q(t,6),r=n[0],o=n[1],i=n[2],l=n[3],c=n[4],u=n[5];e[r]||(e[r]=[]),e[r].push(new s({start:o,span:i,containerStart:l,sliceStart:c,sliceBytes:u}))}e.exports=function(){function e(t){R(this,e);var n=i(t.url,t.path,t.filehandle);this.readFile=n.readFile.bind(n),this.index=this.parseIndex()}var n,r;return F(e,[{key:"parseIndex",value:function(){var e={};return this.readFile().then(function(e){return 31===e[0]&&139===e[1]?o(e):e}).then(function(t){for(var n=[],r="",o=0;o<t.length;o+=1){var i=t[o];if(i>=48&&i<=57||!r&&45===i)r+=String.fromCharCode(i);else if(9===i)n.push(Number.parseInt(r,10)),r="";else if(10===i)n.push(Number.parseInt(r,10)),r="",l(e,n),n=[];else if(13!==i&&32!==i)throw new a("invalid .crai index file")}return r&&n.push(Number.parseInt(r,10)),6===n.length&&l(e,n),Object.entries(e).forEach(function(t){var n=q(t,2),r=n[0],o=n[1];e[r]=o.sort(function(e,t){return e.start-t.start||e.span-t.span})}),e})}},{key:"getIndex",value:function(){return this.index}},{key:"hasDataForReferenceSequence",value:(r=N(t.mark(function e(n){return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:return e.t0=n,e.abrupt("return",!!e.sent[e.t0]);case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getEntriesForRange",value:(n=N(t.mark(function e(n,r,o){var i,a,s,l,c,u,p,h,d,f;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.index;case 2:if(e.t0=n,i=e.sent[e.t0]){e.next=6;break}return e.abrupt("return",[]);case 6:a=i.length,s=function(e){var t=e.start,n=e.start+e.span;return t>=o?-1:n<=r?1:0},c=0,u=a-1;case 8:if(!(c<=u)){e.next=19;break}if(!((p=s(i[l=Math.round((u+c)/2)]))>0)){e.next=14;break}c=l+1,e.next=17;break;case 14:if(p<0){e.next=16;break}return e.abrupt("break",19);case 16:u=l-1;case 17:e.next=8;break;case 19:for(h=l;h&&!s(i[h-1]);)h-=1;for(d=l;d<a-1&&!s(i[d+1]);)d+=1;return f=i[h].start,e.abrupt("return",i[d].start+i[d].span>=r&&o>=f?i.slice(h,d+1):[]);case 25:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})}]),e}()}]),Ns=16,Rs=32,js=1,Fs=function(t,n,r){this.config=t,this.browser=r,this.genome=n,this.cramFile=new Ls.CramFile({filehandle:new Bs(t.url,t),seqFetch:t.seqFetch||Gs.bind(this),checkSequenceMD5:t.checkSequenceMD5===e||t.checkSequenceMD5});var o=new Bs(t.indexURL,t);this.indexedCramFile=new Ls.IndexedCramFile({cram:this.cramFile,index:new Ls.CraiIndex({filehandle:o}),fetchSizeLimit:3e7}),bs.setReaderDefaults(this,t)};function Gs(e,t,n){var r=this.genome.sequence,o=this.genome;return this.getHeader().then(function(i){var a=o.getChromosomeName(i.chrNames[e]);return r.getSequence(a,t-1,n)})}Fs.prototype.getHeader=function(){if(this.header)return Promise.resolve(this.header);var t=this,n=this.genome;return this.cramFile.getSamHeader().then(function(r){var o={},i=[],a={},s=[],l=!0,c=!1,u=e;try{for(var p,h=r[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value;if("SQ"===d.tag){var f=!0,m=!1,y=e;try{for(var g,v=d.data[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var b=g.value;if("SN"===b.tag){var S=b.value;o[S]=i.length,i.push(S),n&&(a[n.getChromosomeName(S)]=S);break}}}catch(e){m=!0,y=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw y}}}else"RG"===d.tag&&s.push(d.data)}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return t.header={chrNames:i,chrToIndex:o,chrAliasTable:a,readGroups:s},t.header})},Fs.prototype.readAlignments=function(t,n,r){var o=this,i=this.browser;return this.getHeader().then(function(a){var s=a.chrAliasTable.hasOwnProperty(t)?a.chrAliasTable[t]:t,l=a.chrToIndex[s],c=new ns(t,n,r,o.samplingWindowSize,o.samplingDepth,o.pairsSupported,o.alleleFreqThreshold);return l===e?Promise.resolve(c):o.indexedCramFile.getRecordsForRange(l,n,r).then(function(t){var o=!0,i=!1,s=e;try{for(var p,h=t[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var d=p.value,f=d.sequenceId,m=d.alignmentStart,y=m+d.lengthOnRef;if(!(f<0)){if(f>l||m>r)return;if(!(f<l||y<n)){var g=u(d,a.chrNames);c.push(g)}}}}catch(e){i=!0,s=e}finally{try{o||null==h.return||h.return()}finally{if(i)throw s}}return c.finish(),c}).catch(function(e){var t=e.message;throw t&&t.indexOf("MD5")>=0&&(t="Sequence mismatch. Is this the correct genome for the loaded CRAM?"),i.presentAlert(t),e});function u(t,n){var r=new cs;if(r.chr=n[t.sequenceId],r.start=t.alignmentStart-1,r.lengthOnRef=t.lengthOnRef,r.flags=t.flags,r.strand=!(t.flags&Ns),r.fragmentLength=t.templateLength||t.templateSize,r.mq=t.mappingQuality,r.end=t.alignmentStart+t.lengthOnRef,r.readGroupId=t.readGroupId,t.mate&&t.mate.sequenceId!==e){var o=t.mate.flags!==e?!(t.mate.flags&js):!(t.flags&Rs);r.mate={chr:n[t.mate.sequenceId],position:t.mate.alignmentStart,strand:o}}return r.seq=t.getReadBases(),r.qual=t.qualityScores,r.tagDict=t.tags,r.readName=t.readName,function(t,n){var r,o,i=[],a=0,s="";if(n.scStart=n.start,n.scLengthOnRef=n.lengthOnRef,t.readFeatures){var l=!0,c=!1,u=e;try{for(var p,h=t.readFeatures[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value,f=d.code,m=d.data,y=d.pos-1,g=d.refPos-1;switch(n.readName,f){case"S":case"I":case"i":case"N":case"D":if(y>a){var v=y-a;i.push(new fs({start:g-v,seqOffset:a,len:v,type:"M",gapType:o})),a+=v,s+=v+"M"}if("S"===f){var b=g;n.scLengthOnRef+=m.length,0===y&&(n.scStart-=m.length,b-=m.length);var S=m.length;i.push(new fs({start:b,seqOffset:a,len:S,type:"S"})),a+=S,o="S",s+=S+f}else if("I"===f||"i"===f){r===e&&(r=[]);var w="i"===f?1:m.length;r.push(new fs({start:g-1,len:w,seqOffset:a,type:"I"})),a+=w,o="I",s+=w+f}else"D"!==f&&"N"!==f||(o=f,s+=m+f);break;case"H":case"P":s+=m+f}}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}}var C=t.readLength-a;C>0&&(i.push(new fs({start:t.alignmentStart+t.lengthOnRef-C-1,seqOffset:a,len:C,type:"M",gapType:o})),s+=C+"M"),n.blocks=i,n.insertions=r,n.cigar=s}(t,r),r.mate&&r.start>r.mate.position&&r.fragmentLength>0&&(r.fragmentLength=-r.fragmentLength),bs.setPairOrientation(r),r}})};var Bs=function(){function n(e,t){var r=this;R(this,n),this.position=0,this.url=e,this.config=t,this.cache=new zs({fetch:function(e,t){return r._fetch(e,t)}})}var r,i,a,s;return F(n,[{key:"_fetch",value:(s=N(t.mark(function n(r,i){var a,s;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={start:r,size:i},this._stat={size:e},t.next=4,Dr.loadArrayBuffer(this.url,Zn(this.config,{range:a}));case 4:return s=t.sent,t.abrupt("return",o.from(s));case 6:case"end":return t.stop()}},n,this)})),function(e,t){return s.apply(this,arguments)})},{key:"read",value:(a=N(t.mark(function n(r){var o,i,a,s=arguments;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>1&&s[1]!==e?s[1]:0,i=s.length>2&&s[2]!==e?s[2]:1/0,null===(a=s.length>3&&s[3]!==e?s[3]:0)&&(this.position,this.position+=i),t.abrupt("return",this.cache.get(r,o,i,a));case 6:case"end":return t.stop()}},n,this)})),function(e){return a.apply(this,arguments)})},{key:"readFile",value:(i=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr.loadArrayBuffer(this.url,Zn(this.config));case 2:return n=e.sent,e.abrupt("return",o.from(n));case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"stat",value:(r=N(t.mark(function e(){var n;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._stat){e.next=6;break}return n=o.allocUnsafe(10),e.next=4,this.read(n,0,10,0);case 4:if(this._stat){e.next=6;break}throw new Error("unable to determine size of file at ".concat(this.url));case 6:return e.abrupt("return",this._stat);case 7:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}]),n}(),zs=function(){function e(t){var n=t.fetch,r=t.size,o=void 0===r?1e7:r,i=t.chunkSize,a=void 0===i?32768:i;R(this,e),this.fetch=n,this.chunkSize=a,this.lruCache=new Vs({maxSize:Math.floor(o/a)})}var n;return F(e,[{key:"get",value:(n=N(t.mark(function e(n,r,o,i){var a,s,l,c,u,p,h,d=this;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length<r+o)){e.next=2;break}throw new Error("output buffer not big enough for request");case 2:for(a=Math.floor(i/this.chunkSize),s=Math.floor((i+o)/this.chunkSize),l=new Array(s-a+1),c=function(e){l[e-a]=d._getChunk(e).then(function(t){return{data:t,chunkNumber:e}})},u=a;u<=s;u+=1)c(u);return e.next=9,Promise.all(l);case 9:p=e.sent,h=i-p[0].chunkNumber*this.chunkSize,p.forEach(function(e){var t=e.data,l=e.chunkNumber,c=l*d.chunkSize,u=0,p=d.chunkSize,f=r+(l-a)*d.chunkSize-h;l===a&&(f=r,u=h),l===s&&(p=i+o-c),t.copy(n,f,u,p)});case 12:case"end":return e.stop()}},e,this)})),function(e,t,r,o){return n.apply(this,arguments)})},{key:"_getChunk",value:function(e){var t=this.lruCache.get(e);if(t)return t;var n=this.fetch(e*this.chunkSize,this.chunkSize);return this.lruCache.set(e,n),n}}]),e}(),Vs=function(){function n(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:{};if(R(this,n),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return F(n,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:t.mark(function n(){var r,o,i,a,s,l,c;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,i=e,t.prev=3,a=this[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=12;break}return l=q(s.value,1),c=l[0],t.next=9,c;case 9:r=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,r||null==a.return||a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},n,this,[[3,14,18,26],[19,,21,25]])})},{key:"values",value:t.mark(function n(){var r,o,i,a,s,l,c;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,i=e,t.prev=3,a=this[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=12;break}return l=q(s.value,2),c=l[1],t.next=9,c;case 9:r=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,r||null==a.return||a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},n,this,[[3,14,18,26],[19,,21,25]])})},{key:Symbol.iterator,value:t.mark(function n(){var r,o,i,a,s,l,c,u,p,h,d,f,m,y;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,o=!1,i=e,t.prev=3,a=this.cache[Symbol.iterator]();case 5:if(r=(s=a.next()).done){t.next=12;break}return l=s.value,t.next=9,l;case 9:r=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,r||null==a.return||a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:c=!0,u=!1,p=e,t.prev=29,h=this.oldCache[Symbol.iterator]();case 31:if(c=(d=h.next()).done){t.next=40;break}if(f=d.value,m=q(f,1),y=m[0],this.cache.has(y)){t.next=37;break}return t.next=37,f;case 37:c=!0,t.next=31;break;case 40:t.next=46;break;case 42:t.prev=42,t.t1=t.catch(29),u=!0,p=t.t1;case 46:t.prev=46,t.prev=47,c||null==h.return||h.return();case 49:if(t.prev=49,!u){t.next=52;break}throw p;case 52:return t.finish(49);case 53:return t.finish(46);case 54:case"end":return t.stop()}},n,this,[[3,14,18,26],[19,,21,25],[29,42,46,54],[47,,49,53]])})},{key:"size",get:function(){var t=0,n=!0,r=!1,o=e;try{for(var i,a=this.oldCache.keys()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.cache.has(s)||t++}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return this._size+t}}]),n}(),Hs={ALIGNMENT_MATCH:"M",INSERT:"I",DELETE:"D",SKIP:"N",CLIP_SOFT:"S",CLIP_HARD:"H",PAD:"P",SEQUENCE_MATCH:"=",SEQUENCE_MISMATCH:"X"},Us=function(t,n){this.config=t,this.genome=n,this.url=t.url,this.filter=new ms(t.filter),this.readGroupSetIds=t.readGroupSetIds,this.authKey=t.authKey,this.samplingWindowSize=t.samplingWindowSize===e?100:t.samplingWindowSize,this.samplingDepth=t.samplingDepth===e?1e3:t.samplingDepth,t.viewAsPairs?this.pairsSupported=!0:this.pairsSupported=t.pairsSupported===e||t.pairsSupported};Us.prototype.readAlignments=function(t,n,r){var o=this.genome,i=this;return(i.chrAliasTable?Promise.resolve(i.chrAliasTable):i.readMetadata().then(function(e){if(i.chrAliasTable={},o&&e.readGroups&&e.readGroups.length>0){var t=e.readGroups[0].referenceSetId;return t?ia({url:i.url+"/references/search",body:{referenceSetId:t},decode:function(e){return e.references}}).then(function(e){return e.forEach(function(e){var t=e.name,n=o.getChromosomeName(t);i.chrAliasTable[n]=t}),i.chrAliasTable}):(function(e,t){var n;if("461916304629"===t||"337315832689"===t){for(n=1;n<23;n++)e["chr"+n]=n;e.chrX="X",e.chrY="Y",e.chrM="MT"}}(i.chrAliasTable,i.config.datasetId),i.chrAliasTable)}return i.chrAliasTable})).then(function(e){var o=e.hasOwnProperty(t)?e[t]:t;return ia({url:i.url+"/reads/search",body:{readGroupSetIds:[i.readGroupSetIds],referenceName:o,start:n,end:r,pageSize:"10000"},decode:a,results:new ns(t,n,r,i.samplingWindowSize,i.samplingDepth,i.pairsSupported,i.alleleFreqThreshold)})});function a(t){var n,r,a,s,l,c=t.alignments,u=c.length,p=[];for(n=0;n<u;n++){var h=c[n];(r=new cs).readName=h.fragmentName,r.properPlacement=h.properPlacement,r.duplicateFragment=h.duplicateFragment,r.numberReads=h.numberReads,r.fragmentLength=h.fragmentLength,r.readNumber=h.readNumber,r.failedVendorQualityChecks=h.failedVendorQualityChecks,r.secondaryAlignment=h.secondaryAlignment,r.supplementaryAlignment=h.supplementaryAlignment,r.seq=h.alignedSequence,r.qual=h.alignedQuality,r.matePos=h.nextMatePosition,r.tagDict=h.info,r.flags=0,h.alignment?(r.mapped=!0,r.chr=h.alignment.position.referenceName,o&&(r.chr=o.getChromosomeName(r.chr)),r.start=parseInt(h.alignment.position.position),r.strand=!h.alignment.position.reverseStrand,r.mq=h.alignment.mappingQuality,r.cigar=d(h.alignment.cigar),a=f(h.alignment.cigar),r.lengthOnRef=a.lengthOnRef,l=m(r,a.array),r.blocks=l.blocks,r.insertions=l.insertions):r.mapped=!1,(s=h.nextMatePosition)&&(r.mate={chr:s.referenceFrame,position:parseInt(s.position),strand:!s.reverseStrand}),i.filter.pass(r)&&p.push(r)}return p;function d(e){var t="";return e.forEach(function(e){var n=Hs[e.operation],r=e.operationLength;t+=r+n}),t}function f(e){var t,n,r,o,i=0,a=[];for(o=0;o<e.length;o++)t=e[o],r=Hs[t.operation],n=parseInt(t.operationLength),"M"!==r&&"EQ"!==r&&"X"!==r&&"D"!==r&&"N"!==r&&"="!==r||(i+=n),a.push({len:n,ltr:r});return{lengthOnRef:i,array:a}}function m(t,n){for(var r,o,i=[],a=0,s=t.start,l=n.length,c=0;c<l;c++){var u=n[c];switch(u.ltr){case"H":case"P":break;case"S":a+=u.len,o="S";break;case"N":s+=u.len,o="N";break;case"D":s+=u.len,o="D";break;case"I":r===e&&(r=[]),r.push(new fs({start:s,len:u.len,seqOffset:a})),a+=u.len;break;case"M":case"EQ":case"=":case"X":i.push(new fs({start:s,len:u.len,seqOffset:a,gapType:o})),a+=u.len,s+=u.len}}return{blocks:i,insertions:r}}}},Us.prototype.readMetadata=function(){return oa({url:this.url,entity:"readgroupsets",entityId:this.readGroupSetIds})};var qs=function(){this.alignments=[],this.score=e};qs.prototype.findAlignment=function(e){var t,n,r;for(r=0;r<this.alignments.length;r++)if(o(n=this.alignments[r],e)){n.paired?n.firstAlignment&&o(n.firstAlignment,e)?t=n.firstAlignment:n.secondAlignment&&o(n.secondAlignment,e)&&(t=n.secondAlignment):t=n;break}return t;function o(e,t){return t>=e.start&&t<e.start+e.lengthOnRef}},qs.prototype.updateScore=function(e,t){this.score=this.calculateScore(e,t)},qs.prototype.calculateScore=function(t,n){var r,o=Math.floor(t.position),i=t.sortOption,a=t.direction,s=this.findAlignment(o);if(e===s)return a?Number.MAX_VALUE:-Number.MAX_VALUE;switch(i){case"NUCLEOTIDE":var l=s.readBaseAt(o),c=s.readBaseQualityAt(o);return l?function(t,n,r,o){var i,a,s;return(i=Math.floor(o)-r.start)<r.sequence.length&&(a=r.sequence.charAt(i)),a?e===t?Number.MAX_VALUE:"N"===t?2:a===t||"="===t?4-n/1e3:"X"===t||a!==t?(i=Math.floor(o)-r.coverageMap.bpStart)>0&&i<r.coverageMap.coverage.length?-((s=r.coverageMap.coverage[i])["pos"+t]+s["neg"+t]+n/1e3):-(1+n/1e3):0:e}(l,c,n,o):a?Number.MAX_VALUE:-Number.MAX_VALUE;case"STRAND":return s.strand?1:-1;case"START":return s.start;case"TAG":var u=t.tag,p=s.tags()[u];return p!==e?Hr(p)?Kr(p):p:Number.MAX_VALUE;case"INSERT_SIZE":return-Math.abs(s.fragmentLength);case"MATE_CHR":return(r=s.mate)?r.chr===s.chr?Number.MAX_VALUE-1:Kr(r.chr):Number.MAX_VALUE;case"MQ":return s.mq===e?Number.MAX_VALUE:-s.mq;default:return Number.MAX_VALUE}};var Ws=function(t,n){var r=n.genome;if(this.config=t,this.genome=r,this.alignmentContainer=e,Hr(t.url)&&t.url.startsWith("data:")){if("cram"===t.format)throw"CRAM data uris are not supported";this.config.indexed=!1}"ga4gh"===t.sourceType?this.bamReader=new Us(t,r):"pysam"===t.sourceType?this.bamReader=new Is(t,r):"htsget"===t.sourceType?this.bamReader=new Ms(t,r):"shardedBam"===t.sourceType?this.bamReader=new Ps(t,r):"cram"===t.format?this.bamReader=new Fs(t,r,n):!1===this.config.indexed?this.bamReader=new ks(t,r):this.bamReader=new xs(t,r),this.viewAsPairs=t.viewAsPairs,this.showSoftClips=t.showSoftClips};function Ks(t){var n=[],r=!0,o=!1,i=e;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=!0,u=!1,p=e;try{for(var h,d=l.alignments[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;f instanceof es?(f.firstAlignment&&n.push(f.firstAlignment),f.secondAlignment&&n.push(f.secondAlignment)):n.push(f)}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}function $s(e){return e.isPaired()&&e.isMateMapped()&&e.chr===e.mate.chr&&(e.isFirstOfPair()||e.isSecondOfPair())&&!(e.isSecondary()||e.isSupplementary())}function Ys(t,n,r,o){if(t){if(0===t.length)return[];t.sort(function(e,t){return o?e.scStart-t.scStart:e.start-t.start});var i=t[0],a=Math.max(n,o?i.scStart:i.start),s=a,l=[],c=!0,u=!1,p=e;try{for(var h,d=t[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value,m=o?f.scStart:f.start,y=Math.max(0,m-a);l[y]===e&&(l[y]=[]),l[y].push(f)}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}var g=0,v=0,b=[];try{for(;g<t.length;){for(var S=new qs;s<=r;){for(var w=e,C=void 0;!w&&s<=r;)l[C=s-a]===e?++s:w=l[C];if(!w)break;var _=w.pop();0===w.length&&(l[C]=e),S.alignments.push(_),s=o?_.scStart+_.scLengthOnRef+8:_.start+_.lengthOnRef+8,++g}if(S.alignments.length>0&&b.push(S),s=a,g===v)break;v=g}}catch(e){throw console.error(e),e}return b}return e}Ws.prototype.setViewAsPairs=function(t){if(this.viewAsPairs!==t&&(this.viewAsPairs=t,this.alignmentContainer)){var n,r=this.alignmentContainer;n=t?function(t){var n={},r=[],o=!0,i=!1,a=e;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=!0,p=!1,h=e;try{for(var d,f=c.alignments[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var m=d.value;if($s(m)){var y=n[m.readName];y?(y.setSecondAlignment(m),n[m.readName]=e):(y=new es(m),n[m.readName]=y,r.push(y))}else r.push(m)}}catch(e){p=!0,h=e}finally{try{u||null==f.return||f.return()}finally{if(p)throw h}}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}(r.packedAlignmentRows):Ks(r.packedAlignmentRows),r.packedAlignmentRows=Ys(n,r.start,r.end)}},Ws.prototype.setShowSoftClips=function(t){if(this.showSoftClips!==t&&(this.showSoftClips=t,this.alignmentContainer)){var n=function(t){var n=[],r=!0,o=!1,i=e;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=!0,u=!1,p=e;try{for(var h,d=l.alignments[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;n.push(f)}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(this.alignmentContainer.packedAlignmentRows),r=this.alignmentContainer;r.packedAlignmentRows=Ys(n,r.start,r.end,t)}},Ws.prototype.getAlignments=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=this.genome,s=this.showSoftClips,!this.alignmentContainer||!this.alignmentContainer.contains(r,o,i)){t.next=7;break}return t.abrupt("return",this.alignmentContainer);case 7:return t.next=9,this.bamReader.readAlignments(r,o,i);case 9:if(l=t.sent,c=l.alignments,this.viewAsPairs||(c=Ks([{alignments:c}])),u=c.length>0,l.packedAlignmentRows=Ys(c,l.start,l.end,s),l.alignments=e,this.alignmentContainer=l,u){t.next=20;break}return t.abrupt("return",l);case 20:return t.next=22,a.sequence.getSequence(r,l.start,l.end);case 22:if(!(p=t.sent)){t.next=29;break}return l.coverageMap.refSeq=p,l.sequence=p,t.abrupt("return",l);case 29:console.error("No sequence for: "+r+":"+l.start+"-"+l.end);case 30:t.next=36;break;case 32:throw t.prev=32,t.t0=t.catch(0),console.error(t.t0),t.t0;case 36:case"end":return t.stop()}},n,this,[[0,32]])}));return function(e,t,r){return n.apply(this,arguments)}}();var Qs=Qn(wi,function(t,n){if(this.type="alignment",t.height===e&&(t.height=300),wi.call(this,t,n),t.coverageTrackHeight===e&&(t.coverageTrackHeight=50),this.featureSource=new Ws(t,n),this.coverageTrack=new Zs(t,this),this.alignmentTrack=new Js(t,this),this.visibilityWindow=t.visibilityWindow||3e4,this.viewAsPairs=t.viewAsPairs,this.pairsSupported=e===t.pairsSupported,this.showSoftClips=t.showSoftClips,this.showAllBases=t.showAllBases,this.color=t.color||"rgb(185, 185, 185)",this.coverageColor=t.coverageColor||"rgb(150, 150, 150)",this.minFragmentLength=t.minFragmentLength,this.maxFragmentLength=t.maxFragmentLength,this.sortObjects={},t.sort){if(Array.isArray(t.sort)){var r=!0,o=!1,i=e;try{for(var a,s=t.sort[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;c(this.sortObjects,l)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}else c(this.sortObjects,t.sort);t.sort=e}function c(t,r){var o=function(e){var t=e.split(":"),n=t[1].split("-"),r={chr:t[0],start:Number.parseInt(n[0].replace(/,/g,""))-1};return n.length>1?r.end=Number.parseInt(n[1].replace(/,/g,"")):r.end=r.start+1,r}(r.locus),i=!0,a=!1,s=e;try{for(var l,c=n.genomicStateList[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;if(u.chromosome.name===o.chr&&o.start>=u.start&&o.start<=u.end){t[u.id]={chr:o.chr,position:o.start,sortOption:r.option||"NUCLEOTIDE",direction:r.direction===e||"ASC"===r.direction,tag:r.tag?r.tag.toUpperCase():e};break}}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}});function Xs(t,n){var r,o;if(r=t<5?.1:Math.max(.1,Math.min(1,.1+.9*(t-5)/15)),(r=Math.round(10*r)/10)>=1)o=Mn[n];else{var i=In[n];if(!i)return e;o="rgba("+i[0]+","+i[1]+","+i[2]+","+r+")"}return o}Qs.prototype.getFeatures=function(){var n=N(t.mark(function n(r,o,i,a,s){var l,c,u;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=this,t.next=3,this.featureSource.getAlignments(r,o,i);case 3:return(c=t.sent).alignments&&c.alignments.length>99&&(e===l.minFragmentLength&&(l.minFragmentLength=c.pairedEndStats.lowerFragmentLength),e===l.maxFragmentLength&&(l.maxFragmentLength=c.pairedEndStats.upperFragmentLength)),(u=l.sortObjects[s.genomicState.id])&&(u.chr===r&&u.position>=o&&u.position<=i?(l.alignmentTrack.sortAlignmentRows(u,c),l.trackView.repaintViews()):delete l.sortObjects[s.genomicState.id]),t.abrupt("return",c);case 8:case"end":return t.stop()}},n,this)}));return function(e,t,r,o,i){return n.apply(this,arguments)}}(),Qs.filters={noop:function(){return function(e){return!1}},strand:function(e){return function(t){return t.strand===e}},mappingQuality:function(e,t){return function(n){return!!(e&&n.mq<e)||!!(t&&n.mq>t)}}},Qs.prototype.computePixelHeight=function(e){return this.coverageTrack.computePixelHeight(e)+this.alignmentTrack.computePixelHeight(e)+15},Qs.prototype.draw=function(e){Co.fillRect(e.context,0,e.pixelTop,e.pixelWidth,e.pixelHeight,{fillStyle:"rgb(255, 255, 255)"}),this.coverageTrack.height>0&&this.coverageTrack.draw(e),this.alignmentTrack.draw(e)},Qs.prototype.paintAxis=function(e,t,n){this.browser.isMultiLocusMode()?e.clearRect(0,0,t,n):this.coverageTrack.paintAxis(e,t,this.coverageTrack.height)},Qs.prototype.contextMenuItemList=function(e){return this.alignmentTrack.contextMenuItemList(e)},Qs.prototype.popupData=function(e){return e.y>=this.coverageTrack.top&&e.y<this.coverageTrack.height?this.coverageTrack.popupData(e):this.alignmentTrack.popupData(e)},Qs.prototype.menuItemList=function(){var t=this,n=[],r=fn('<div class="igv-track-menu-category igv-track-menu-border-top">');r.text("Color by"),n.push({name:e,object:r,click:e,init:e});var o=[{key:"strand",label:"read strand"}];t.alignmentTrack.hasPairs&&(o.push({key:"firstOfPairStrand",label:"first-of-pair strand"}),o.push({key:"pairOrientation",label:"pair orientation"}),o.push({key:"fragmentLength",label:"insert size (TLEN)"}));var i="tag"+(t.alignmentTrack.colorByTag?" ("+t.alignmentTrack.colorByTag+")":"");return o.push({key:"tag",label:i}),o.forEach(function(r){var o=t.alignmentTrack.colorBy===r.key;n.push(function(n,r){var o=xn(n.label,r);return{name:e,object:o,click:function(){if(n.key===t.alignmentTrack.colorBy)t.alignmentTrack.colorBy="none",t.config.colorBy="none",t.trackView.repaintViews();else if("tag"===n.key){var e={label:"Tag Name",input:t.alignmentTrack.colorByTag?t.alignmentTrack.colorByTag:"",click:function(){t.alignmentTrack.colorBy="tag",t.config.colorBy="tag";var e=t.browser.inputDialog.$input.val().trim();e!==t.alignmentTrack.colorByTag&&(t.alignmentTrack.colorByTag=e,t.config.colorByTag=e,t.alignmentTrack.tagColors=new Ln("Set1"),fn("#color-by-tag").text(t.alignmentTrack.colorByTag)),t.trackView.repaintViews()}};t.browser.inputDialog.configure(e),t.browser.inputDialog.present(fn(t.trackView.trackDiv))}else t.alignmentTrack.colorBy=n.key,t.config.colorBy=n.key,t.trackView.repaintViews()},init:e}}(r,o))}),n.push({object:fn('<div class="igv-track-menu-border-top">')}),n.push({object:xn("Show all bases",t.showAllBases),click:function(){t.showAllBases=!t.showAllBases,t.config.showAllBases=t.showAllBases,t.trackView.updateViews(!0)}}),n.push({object:fn('<div class="igv-track-menu-border-top">')}),t.pairsSupported&&t.alignmentTrack.hasPairs&&n.push({object:xn("View as pairs",t.viewAsPairs),click:function(){t.viewAsPairs=!t.viewAsPairs,t.config.viewAsPairs=t.viewAsPairs,t.featureSource.setViewAsPairs(t.viewAsPairs),t.trackView.updateViews(!0)}}),n.push({object:xn("Show soft clips",t.showSoftClips),click:function(){t.showSoftClips=!t.showSoftClips,t.config.showSoftClips=t.showSoftClips,t.featureSource.setShowSoftClips(t.showSoftClips),t.trackView.updateViews(!0)}}),n},Qs.prototype.dispose=function(){this.trackView=e},Qs.prototype.getState=function(){var t=Object.assign({},this.config);t.sort=e;var n=!0,r=!1,o=e;try{for(var i,a=this.browser.genomicStateList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this.sortObjects[s.id];l&&(t.sort=t.sort||[],t.sort.push({locus:l.chr+":"+(l.position+1),option:l.sortOption,direction:l.direction?"ASC":"DESC",tag:l.tag}))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t};var Zs=function(e,t){this.parent=t,this.featureSource=t.featureSource,this.top=0,this.height=e.coverageTrackHeight,this.dataRange={min:0},this.paintAxis=Ka};Zs.prototype.computePixelHeight=function(e){return this.height},Zs.prototype.draw=function(e){var t=e.context;this.top&&t.translate(0,top),e.top,e.pixelHeight;var n,r=e.features.coverageMap;this.dataRange.max=r.maximum,r.refSeq&&(n=r.refSeq.toUpperCase());var o=e.bpPerPixel,i=e.bpStart,a=i+e.pixelWidth*o+1,s=this.parent.coverageColor;"rgb(185, 185, 185)"!==this.parent.color&&(s=Bn.darkenLighten(this.parent.color,-35)),Co.setProperties(t,{fillStyle:s,strokeStyle:s});for(var l=Math.max(1,Math.ceil(1/o)),c=0,u=r.coverage.length;c<u;c++){var p=r.bpStart+c;if(!(p<i)){if(p>a)break;var h=r.coverage[c];if(h){var d=Math.round(h.total/this.dataRange.max*this.height),f=this.height-d,m=Math.floor((p-i)/o);Co.fillRect(t,m,f,l,d)}}}if(n)for(var y=0,g=r.coverage.length;y<g;y++){var v=r.bpStart+y;if(!(v<i)){if(v>a)break;var b=r.coverage[y];if(b){var S=b.total/this.dataRange.max*this.height,w=this.height-S,C=Math.floor((v-i)/o),_=n[y];if(b.isMismatch(_)){Co.setProperties(t,{fillStyle:Mn[_]}),Co.fillRect(t,C,w,l,S);for(var k=0,T=0,x=["A","C","T","G"];T<x.length;T++){var E=x[T],A=(b["pos"+E]+b["neg"+E])/this.dataRange.max*this.height;w=this.height-A-k,k+=A,Co.setProperties(t,{fillStyle:Mn[E]}),Co.fillRect(t,C,w,l,A)}}}}}},Zs.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(t&&0!==t.length){var n=Math.floor(e.genomicLocation),r=e.viewport.genomicState.referenceFrame,o=t.coverageMap,i=[],a=Math.floor(n-o.bpStart),s=o.coverage[a];if(s){i.push(r.chrName+":"+Ur(1+n)),i.push({name:"Total Count",value:s.total});var l=s.posA+s.negA;l>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posA+"+, "+s.negA+"- )"),i.push({name:"A",value:l}),(l=s.posC+s.negC)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posC+"+, "+s.negC+"- )"),i.push({name:"C",value:l}),(l=s.posG+s.negG)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posG+"+, "+s.negG+"- )"),i.push({name:"G",value:l}),(l=s.posT+s.negT)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posT+"+, "+s.negT+"- )"),i.push({name:"T",value:l}),(l=s.posN+s.negN)>0&&(l=l.toString()+" ("+Math.round(l/s.total*100)+"%, "+s.posN+"+, "+s.negN+"- )"),i.push({name:"N",value:l}),i.push("<HR/>"),i.push({name:"DEL",value:s.del.toString()}),i.push({name:"INS",value:s.ins.toString()})}return i}};var Js=function(t,n){this.parent=n,this.browser=n.browser,this.featureSource=n.featureSource,this.top=0===t.coverageTrackHeight?0:t.coverageTrackHeight+5,this.alignmentRowHeight=t.alignmentRowHeight||14,this.negStrandColor=t.negStrandColor||"rgba(150, 150, 230, 0.75)",this.posStrandColor=t.posStrandColor||"rgba(230, 150, 150, 0.75)",this.insertionColor=t.insertionColor||"rgb(138, 94, 161)",this.deletionColor=t.deletionColor||"black",this.skippedColor=t.skippedColor||"rgb(150, 170, 170)",this.pairConnectorColor=t.pairConnectorColor,this.smallFragmentLengthColor=t.smallFragmentLengthColor||"rgb(0, 0, 150)",this.largeFragmentLengthColor=t.largeFragmentLengthColor||"rgb(200, 0, 0)",this.pairOrientation=t.pairOrienation||"fr",this.pairColors={},this.pairColors.RL=t.rlColor||"rgb(0, 150, 0)",this.pairColors.RR=t.rrColor||"rgb(20, 50, 200)",this.pairColors.LL=t.llColor||"rgb(0, 150, 150)",this.colorBy=t.colorBy||"pairOrientation",this.colorByTag=t.colorByTag?t.colorByTag.toUpperCase():e,this.bamColorTag=t.bamColorTag===e?"YC":t.bamColorTag,this.hideSmallIndels=t.hideSmallIndels,this.indelSizeThreshold=t.indelSizeThreshold||1,this.hasPairs=!1};Js.prototype.computePixelHeight=function(e){if(e.packedAlignmentRows){var t=0;return e.hasDownsampledIntervals()&&(t+=10),t+this.alignmentRowHeight*e.packedAlignmentRows.length+5}return this.height},Js.prototype.draw=function(t){var n=t.features,r=t.context,o=t.bpPerPixel,i=t.bpStart,a=t.pixelWidth,s=i+a*o+1,l=n.packedAlignmentRows,c=this.parent.showSoftClips,u=this.parent.showAllBases,p=(t.top,t.pixelHeight,n.sequence);p&&(p=p.toUpperCase());var h=0;if(r.save(),this.top&&r.translate(0,this.top),n.hasDownsampledIntervals()?(h=10,n.downsampledIntervals.forEach(function(e){var t=(e.start-i)/o,n=(e.end-i)/o;n-t>5&&(t+=1,n-=1),Co.fillRect(r,t,2,n-t,3,{fillStyle:"black"})})):h=0,this.alignmentsYOffset=h,l)for(var d=l.length,f=0;f<d;f++){var m=l[f],y=h+this.alignmentRowHeight*f,g=this.alignmentRowHeight<=4?this.alignmentRowHeight:this.alignmentRowHeight-2,v=!0,b=!1,S=e;try{for(var w,C=m.alignments[Symbol.iterator]();!(v=(w=C.next()).done);v=!0){var _=w.value;if(this.hasPairs=this.hasPairs||_.isPaired(),!(_.start+_.lengthOnRef<i)){if(_.start>s)break;!0!==_.hidden&&(_ instanceof es?(k.call(this,_,y,g),T.call(this,_.firstAlignment,y,g),_.secondAlignment&&T.call(this,_.secondAlignment,y,g)):T.call(this,_,y,g))}}}catch(e){b=!0,S=e}finally{try{v||null==C.return||C.return()}finally{if(b)throw S}}}function k(e,t,n){var a=this.getConnectorColor(e.firstAlignment),l=(e.connectingStart-i)/o,c=(e.connectingEnd-i)/o,u=t+n/2;e.connectingEnd<i||e.connectingStart>s||(e.mq<=0&&(a=Bn.addAlpha(a,.15)),Co.setProperties(r,{fillStyle:a,strokeStyle:a}),Co.strokeLine(r,l,u,c,u))}function T(t,a,l){if(!(t.start+t.lengthOnRef<i||t.start>s)){var h,d=c?t.blocks:t.blocks.filter(function(e){return"S"!==e.type}),f=this.getAlignmentColor(t),m=f;t.mq<=0&&(f=Bn.addAlpha(f,.15)),Co.setProperties(r,{fillStyle:f,strokeStyle:m});for(var y=0;y<d.length;y++){var g=d[y];if(!(y!==d.length-1&&d[y+1].start<i)){if(x.call(this,g,y),g.start+g.len>s)break;if(t.insertions){var v=-1,b=!0,S=!1,w=e;try{for(var C,_=t.insertions[Symbol.iterator]();!(b=(C=_.next()).done);b=!0){var k=C.value;if(!(this.hideSmallIndels&&k.len<=this.indelSizeThreshold||k.start<i)){if(k.start>s)break;var T=(k.start-i)/o-1;T-v>2&&(Co.fillRect(r,T,a-1,3,l+2,{fillStyle:this.insertionColor}),v=T)}}}catch(e){S=!0,w=e}finally{try{b||null==_.return||_.return()}finally{if(S)throw w}}}}}}function x(s,c){var y=s.start-n.start,g=(s.start-i)/o,v=(s.start+s.len-i)/o,b=Math.max(1,v-g),S=this.alignmentRowHeight/2,w=a+l/2,C="S"===s.type,_=t.mq<=0||this.highlightedAlignmentReadNamed===t.readName||C,k=m;if(this.highlightedAlignmentReadNamed===t.readName?k="red":C&&(k="rgb(50,50,50)"),s.gapType!==e&&v!==e&&h!==e)if("D"===s.gapType){if(b<2&&this.hideSmallIndels&&s.len<this.indelSizeThreshold)return;Co.strokeLine(r,h,w,g,w,{strokeStyle:this.deletionColor})}else"N"===s.gapType&&Co.strokeLine(r,h,w,g,w,{strokeStyle:this.skippedColor});h=v;var T,x,A=!0===t.strand&&c===d.length-1,O=!1===t.strand&&0===c;if(A|O?(A?(T=[g,v,v+S,v,g,g],x=[a,a,a+l/2,a+l,a+l,a]):O&&(T=[v,g,g-S,g,v,v],x=[a,a,a+l/2,a+l,a+l,a]),Co.fillPolygon(r,T,x,{fillStyle:f}),_&&Co.strokePolygon(r,T,x,{strokeStyle:k})):(Co.fillRect(r,g,a,b,l,{fillStyle:f}),_&&(r.save(),r.strokeStyle=k,r.strokeRect(g,a,b,l),r.restore())),C||u||p&&t.seq&&"*"!==t.seq)for(var P=t.seq?t.seq.toUpperCase():e,I=t.qual,M=s.seqOffset,D=0,L=s.len;D<L;D++)if(!(y+D<0)){var N=P?P.charAt(M+D):"",R=p.charAt(y+D);if("="===N&&(N=R),"X"===N||R!==N||C||u){var j=void 0;if(j=!C&&I!==e&&I.length>M+D?Xs(I[M+D],N,s.start):Mn[N]){var F=(s.start+D-i)/o,G=Math.max(1,1/o);E(r,o,{x:F,y:a,width:G,height:l},j,N)}}}}function E(e,t,n,r,o){var i;if(t<=.1&&n.height>=8){var a=Math.min(10,n.height);e.font=a+"px sans-serif",i=n.x+n.width/2,Co.strokeText(e,o,i-e.measureText(o).width/2,a-1+n.y,{strokeStyle:r})}else Co.fillRect(e,n.x,n.y,n.width,n.height,{fillStyle:r})}}r.restore()},Js.prototype.sortAlignmentRows=function(t,n){var r=t.direction;null===n&&(n=this.featureSource.alignmentContainer);var o=!0,i=!1,a=e;try{for(var s,l=n.packedAlignmentRows[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)s.value.updateScore(t,n)}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}n.packedAlignmentRows.sort(function(e,t){var n=e.score>t.score?1:e.score<t.score?-1:0;return!0===r?n:-n})},Js.prototype.popupData=function(t){var n=this.getClickedObject(t.viewport,t.y,t.genomicLocation);return n?n.popupData(t.genomicLocation):e},Js.prototype.contextMenuItemList=function(t){var n=this,r=t.viewport,o=t.viewport.genomicState,i=this.getClickedObject(t.viewport,t.y,t.genomicLocation),a=i&&!i.paired&&"function"==typeof i.isPaired,s=[];return s.push("<b>Sort by...</b>"),s.push({label:"&nbsp; base",click:function(){return l("NUCLEOTIDE")}}),s.push({label:"&nbsp; read strand",click:function(){return l("STRAND")}}),s.push({label:"&nbsp; insert size",click:function(){return l("INSERT_SIZE")}}),s.push({label:"&nbsp; chromosome of mate",click:function(){return l("MATE_CHR")}}),s.push({label:"&nbsp; mapping quality",click:function(){return l("MQ")}}),s.push({label:"&nbsp; tag",click:function(){var e={label:"Tag Name",input:n.sortByTag?n.sortByTag:"",click:function(){var e=n.browser.inputDialog.$input.val().trim();n.sortByTag=e,c({chr:o.referenceFrame.chrName,position:Math.floor(t.genomicLocation),sortOption:"TAG",tag:e})}};n.browser.inputDialog.configure(e),n.browser.inputDialog.present(fn(n.parent.trackView.trackDiv))}}),s.push("<hr/>"),a&&i.isMateMapped()&&s.push({label:"View mate in split screen",click:function(){i.mate&&(n.highlightedAlignmentReadNamed=i.readName,n.browser.presentSplitScreenMultiLocusPanel(i,t.viewport.genomicState))},init:e}),s.push({label:"View read sequence",click:function(){var e=i;if(e&&e.seq){var t=e.seq;n.browser.presentAlert(t)}}}),s.push("<hr/>"),s;function l(e){c({chr:o.referenceFrame.chrName,position:Math.floor(t.genomicLocation),sortOption:e})}function c(e){if(t.viewport.tile){var o=n.parent.sortObjects,i=o[r.genomicState.id];e.direction=!i||!i.direction,n.sortAlignmentRows(e,t.viewport.getCachedFeatures()),n.parent.trackView.repaintViews(),o[r.genomicState.id]=e}}},Js.prototype.getClickedObject=function(t,n,r){var o=this.parent.showSoftClips,i=t.getCachedFeatures();if(i&&0!==i.length){var a=i.packedAlignmentRows,s=i.downsampledIntervals,l=Math.floor((n-this.top-this.alignmentsYOffset)/this.alignmentRowHeight);if(l<0){for(var c=0;c<s.length;c++)if(s[c].start<=r&&s[c].end>=r)return s[c]}else if(l<a.length){var u=a[l].alignments.filter(function(e){var t=o?e.scStart:e.start,n=o?e.scLengthOnRef:e.lengthOnRef;return r>=t&&r<=t+n});if(u.length>0)return u[0]}return e}},Js.prototype.getConnectorColor=function(e){if(this.pairConnectorColor)return this.pairConnectorColor;switch(this.colorBy){case"strand":case"firstOfPairStrand":case"pairOrientation":case"tag":return this.parent.color||"rgb(200, 200, 200)";default:return this.getAlignmentColor(e)}},Js.prototype.getAlignmentColor=function(t){var n,r=this.parent.color;switch(this.colorBy){case"strand":r=t.strand?this.posStrandColor:this.negStrandColor;break;case"firstOfPairStrand":t instanceof es?r=t.firstOfPairStrand()?this.posStrandColor:this.negStrandColor:t.isPaired()&&(t.isFirstOfPair()?r=t.strand?this.posStrandColor:this.negStrandColor:t.isSecondOfPair()?r=t.strand?this.negStrandColor:this.posStrandColor:console.error("ERROR. Paired alignments are either first or second."));break;case"pairOrientation":if(t.mate&&t.isMateMapped()&&t.mate.chr!==t.chr)r=tl(t.mate.chr);else if(this.pairOrientation&&t.pairOrientation){var o=el[this.pairOrientation];if(o){var i=this.pairColors[o[t.pairOrientation]];i&&(r=i)}}break;case"fragmentLength":t.mate&&t.isMateMapped()&&t.mate.chr!==t.chr?r=tl(t.mate.chr):this.parent.minFragmentLength&&Math.abs(t.fragmentLength)<this.parent.minFragmentLength?r=this.smallFragmentLengthColor:this.parent.maxFragmentLength&&Math.abs(t.fragmentLength)>this.parent.maxFragmentLength&&(r=this.largeFragmentLengthColor);break;case"tag":(n=t.tags()[this.colorByTag])!==e&&(this.bamColorTag===this.colorByTag?r="rgb("+n+")":(this.tagColors||(this.tagColors=new Ln("Set1")),r=this.tagColors.getColor(n)));break;default:r=this.parent.color}return r};var el={fr:{F1R2:"LR",F2R1:"LR",F1F2:"LL",F2F1:"LL",R1R2:"RR",R2R1:"RR",R1F2:"RL",R2F1:"RL"},rf:{R1F2:"LR",R2F1:"LR",R1R2:"LL",R2R1:"LL",F1F2:"RR",F2F1:"RR",F1R2:"RL",F2R1:"RL"},ff:{F2F1:"LR",R1R2:"LR",F2R1:"LL",R1F2:"LL",R2F1:"RR",F1R2:"RR",R2R1:"RL",F1F2:"RL"}};function tl(e){if(nl[e])return nl[e];if(nl["chr"+e]){var t=nl["chr"+e];return nl[e]=t,t}var n=Bn.randomRGB();return nl[e]=n,n}var nl={chrX:"rgb(204, 153, 0)",chrY:"rgb(153, 204, 0",chrUn:"rgb(50, 50, 50)",chr1:"rgb(80, 80, 255)",chrI:"rgb(139, 155, 187)",chr2:"rgb(206, 61, 50)",chrII:"rgb(206, 61, 50)",chr2a:"rgb(216, 71, 60)",chr2b:"rgb(226, 81, 70)",chr3:"rgb(116, 155, 88)",chrIII:"rgb(116, 155, 88)",chr4:"rgb(240, 230, 133)",chrIV:"rgb(240, 230, 133)",chr5:"rgb(70, 105, 131)",chr6:"rgb(186, 99, 56)",chr7:"rgb(93, 177, 221)",chr8:"rgb(128, 34, 104)",chr9:"rgb(107, 215, 107)",chr10:"rgb(213, 149, 167)",chr11:"rgb(146, 72, 34)",chr12:"rgb(131, 123, 141)",chr13:"rgb(199, 81, 39)",chr14:"rgb(213, 143, 92)",chr15:"rgb(122, 101, 165)",chr16:"rgb(228, 175, 105)",chr17:"rgb(59, 27, 83)",chr18:"rgb(205, 222, 183)",chr19:"rgb(97, 42, 121)",chr20:"rgb(174, 31, 99)",chr21:"rgb(231, 199, 111)",chr22:"rgb(90, 101, 94)",chr23:"rgb(204, 153, 0)",chr24:"rgb(153, 204, 0)",chr25:"rgb(51, 204, 0)",chr26:"rgb(0, 204, 51)",chr27:"rgb(0, 204, 153)",chr28:"rgb(0, 153, 204)",chr29:"rgb(10, 71, 255)",chr30:"rgb(71, 117, 255)",chr31:"rgb(255, 194, 10)",chr32:"rgb(255, 209, 71)",chr33:"rgb(153, 0, 51)",chr34:"rgb(153, 26, 0)",chr35:"rgb(153, 102, 0)",chr36:"rgb(128, 153, 0)",chr37:"rgb(51, 153, 0)",chr38:"rgb(0, 153, 26)",chr39:"rgb(0, 153, 102)",chr40:"rgb(0, 128, 153)",chr41:"rgb(0, 51, 153)",chr42:"rgb(26, 0, 153)",chr43:"rgb(102, 0, 153)",chr44:"rgb(153, 0, 128)",chr45:"rgb(214, 0, 71)",chr46:"rgb(255, 20, 99)",chr47:"rgb(0, 214, 143)",chr48:"rgb(20, 255, 177)"},rl=Qn(wi,function(t,n){wi.call(this,t,n),this.theta=t.theta||Math.PI/4,this.sinTheta=Math.sin(this.theta),this.cosTheta=Math.cos(this.theta),this.height=t.height||250,this.autoHeight=!0,this.arcOrientation=t.arcOrientation===e||t.arcOrientation,this.thickness=t.thickness||2,this.color=t.color||"rgb(180,25,137)",this.visibilityWindow=-1,this.colorAlphaCache={}});rl.prototype.getState=function(){var e=this.config||{};return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},rl.prototype.getFeatures=function(e,t,n){var r=this,o=this.browser.genome;if(r.featureCache)return Promise.resolve(r.featureCache.queryFeatures(e,t,n));var i=Zn(r.config);return Dr.loadString(r.config.url,i).then(function(i){var a=new $o("bedpe"),s=(a.parseHeader(i),a.parseFeatures(i));return r.featureCache=new Vi(s,o),r.featureCache.queryFeatures(e,t,n)})},rl.prototype.draw=function(e){var t=this,n=e.context,r=e.pixelWidth,o=e.pixelHeight,i=e.viewportWidth,a=e.bpPerPixel,s=e.bpStart,l=a;Co.fillRect(n,0,e.pixelTop,r,o,{fillStyle:"rgb(255, 255, 255)"});var c=e.features;c&&(function(){var e=0;c.forEach(function(t){var n=(t.start-s)/l,o=(t.end-s)/l;o>=0&&n<=r&&(e=Math.max(e,o-n))});var n=Math.min(i,e)/2;if(e>0){var a=o/n;t.theta=function(e){var t,n=[.01570925532366355,.15838444032453644,.3249196962329063,.5095254494944288,.7265425280053609,.9999999999999999],r=[.031415926535897934,.3141592653589793,.6283185307179586,.9424777960769379,1.2566370614359172,1.5707963267948966];for(t=0;t<n.length&&!(n[t]>e);t++);var o=0===t?0:n[t-1],i=0===t?0:r[t-1];return i+(e-o)/((t<n.length?n[t]:1)-o)*((t<r.length?r[t]:Math.PI/2)-i)}(a),t.sinTheta=Math.sin(t.theta),t.cosTheta=Math.cos(t.theta)}}(),c.forEach(function(e){var r=Math.round((e.m1-s)/l),o=Math.round((e.m2-s)/l),a=t.arcOrientation,c=o-r;c<3&&(c=3,r--);var u,p,h,d=c/2,f=d/t.sinTheta,m=t.cosTheta*f,y=r+d;a?(u=t.height+m,p=Math.PI+Math.PI/2-t.theta,h=Math.PI+Math.PI/2+t.theta):(u=-m,p=Math.PI/2-t.theta,h=Math.PI/2+t.theta);var g=e.color||t.color;g&&c>i&&(g=function(e,t){var n=this.colorAlphaCache[e];return n||(n=Bn.addAlpha(e,t),this.colorAlphaCache[e]=n),n}.call(t,g,"0.1")),n.strokeStyle=g,n.lineWidth=e.thickness||t.thicknewss||1,n.beginPath(),n.arc(y,u,f,p,h,!1),n.stroke()}))},rl.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}},{name:"Set track color",click:function(){e.trackView.presentColorPicker()}}]};var ol=Qn(wi,function(t,n){this.type="variant",this.visibilityWindow=t.visibilityWindow,wi.call(this,t,n),this.displayMode=t.displayMode||"EXPANDED",this.labelDisplayMode=t.labelDisplayMode,this.variantHeight=t.variantHeight||10,this.squishedCallHeight=t.squishedCallHeight||1,this.expandedCallHeight=t.expandedCallHeight||10,this.expandedVGap=t.expandedVGap!==e?t.expandedVGap:2,this.squishedVGap=t.squishedVGap!==e?t.squishedVGap:1,this.expandedGroupGap=t.expandedGroupGap||10,this.squishedGroupGap=t.squishedGroupGap||5,this.featureHeight=t.featureHeight||14,this.visibilityWindow=t.visibilityWindow,this.featureSource=new ua(t,n.genome),this.nonRefColor=t.nonRefColor||"rgb(200, 200, 215)",this.mixedColor=t.mixedColor||"rgb(200, 220, 200)",this.homrefColor=t.homrefColor||"rgb(200, 200, 200)",this.homvarColor=t.homvarColor||"rgb(17,248,254)",this.hetvarColor=t.hetvarColor||"rgb(34,12,253)",this.sortDirection="ASC",this.nRows=1});function il(t,n,r,o){var i,a="",s=[];i=[];var l=n.alternateBases.split(",");if(t.genotype.forEach(function(e){if(0===e)a+=n.referenceBases;else{var t=l[e-1].replace("<","&lt;");a+=t}}),t.callSetName!==e&&i.push({name:"Name",value:t.callSetName}),i.push({name:"Genotype",value:a}),t.phaseset!==e&&i.push({name:"Phase set",value:t.phaseset}),t.genotypeLikelihood!==e&&i.push({name:"genotypeLikelihood",value:t.genotypeLikelihood.toString()}),o){var c=o.getAttributes(t.callSetName);c&&Object.keys(c).forEach(function(e){var t=e.replace(/([A-Z])/g," $1");t=t.charAt(0).toUpperCase()+t.slice(1),i.push({name:t,value:c[e]})})}var u=Object.keys(t.info);return u.length&&i.push("<hr>"),u.forEach(function(e){i.push({name:e,value:t.info[e]})}),s.length>0&&(i.push("<HR/>"),i=i.concat(s)),i}ol.prototype.postInit=N(t.mark(function n(){var r,o;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getFileHeader();case 2:return t.sent,e===this.visibilityWindow&&(Hr(r=this.config.url instanceof File?this.config.url.name:this.config.url)&&r.toLowerCase().includes("gnomad")?this.visibilityWindow=1e3:this.callSets?(o=this.callSets.length,this.visibilityWindow=Math.max(1e3,1e6-1e4*o)):this.visibilityWindow=1e6),t.abrupt("return",this);case 5:case"end":return t.stop()}},n,this)})),ol.prototype.getFileHeader=N(t.mark(function n(){var r;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.header){t.next=4;break}return t.abrupt("return",this.header);case 4:if("function"!=typeof this.featureSource.getFileHeader){t.next=13;break}return t.next=7,this.featureSource.getFileHeader();case 7:return(r=t.sent)&&(r.name&&!this.config.name&&(this.name=r.name),r.color&&!this.config.color&&(this.color="rgb("+r.color+")"),this.callSets=r.callSets||[]),this.header=r,t.abrupt("return",r);case 13:return this.callSets=[],t.abrupt("return",e);case 15:case"end":return t.stop()}},n,this)})),ol.prototype.getCallsetsLength=function(){return this.callSets.length},ol.prototype.getFeatures=function(){var n=N(t.mark(function n(r,o,i,a){return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.header!==e){t.next=4;break}return t.next=3,this.getFileHeader();case 3:this.header=t.sent;case 4:return t.abrupt("return",this.featureSource.getFeatures(r,o,i,a,this.visibilityWindow));case 5:case"end":return t.stop()}},n,this)}));return function(e,t,r,o){return n.apply(this,arguments)}}(),ol.prototype.computePixelHeight=function(t){if("COLLAPSED"===this.displayMode)return this.nRows=1,10+this.variantHeight;var n=0;if(t){var r=!0,o=!1,i=e;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l.row&&l.row>n&&(n=l.row)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}var c="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;this.nRows=n+1;var u=10+this.nRows*(this.variantHeight+c);this.variantBandHeight=u;var p="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight;return u+c+(this.getCallsetsLength()*this.nRows+1)*(p+c)},ol.prototype.draw=function(t){var n=t.context,r=this.callSets,o=this.getCallsetsLength(),i=t.pixelWidth,a=t.pixelHeight,s="EXPANDED"===this.displayMode?this.expandedCallHeight:this.squishedCallHeight,l=t.bpPerPixel,c=t.bpStart,u=c+i*l+1;Co.fillRect(n,0,t.pixelTop,i,a,{fillStyle:"rgb(255, 255, 255)"});var p="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;r&&o>0&&"COLLAPSED"!==this.displayMode&&Co.strokeLine(n,0,this.variantBandHeight,i,this.variantBandHeight,{strokeStyle:"rgb(224,224,224) "});var h=t.features;if(h){var d=!0,f=!1,m=e;try{for(var y,g=h[Symbol.iterator]();!(d=(y=g.next()).done);d=!0){var v=y.value;if(!(v.end<c)){if(v.start>u)break;var b=10+("COLLAPSED"===this.displayMode?0:v.row*(this.variantHeight+p)),S=this.variantHeight,w=Math.round((v.start-c)/l),C=Math.round((v.end-c)/l),_=Math.max(1,C-w);if(_<3?(_=3,w-=1):_>5&&(w+=1,_-=2),"NONVARIANT"===v.type?n.fillStyle=this.nonRefColor:"MIXED"===v.type?n.fillStyle=this.mixedColor:n.fillStyle=this.color,n.fillRect(w,b,_,S),o>0&&v.calls&&"COLLAPSED"!==this.displayMode){var k=0,T=!0,x=!1,E=e;try{for(var A,O=r[Symbol.iterator]();!(T=(A=O.next()).done);T=!0){var P=A.value,I=v.calls[P.id];if(I){var M=this.variantBandHeight+p+(k+v.row)*(s+p),D=!0,L=!0;I.genotype.forEach(function(e){0!==e&&(L=!1),0===e&&(D=!1)}),n.fillStyle=L?this.homrefColor:D?this.homvarColor:this.hetvarColor,n.fillRect(w,M,_,s)}k++}}catch(e){x=!0,E=e}finally{try{T||null==O.return||O.return()}finally{if(x)throw E}}}}}}catch(e){f=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw m}}}},ol.prototype.popupData=function(t,n){n||(n=this.clickedFeatures(t));var r=t.genomicLocation,o=this.browser.genome.id,i=[],a=this.browser.sampleInformation,s=!0,l=!1,c=e;try{for(var u,p=n[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;if(i.length>0&&i.push("<HR>"),"COLLAPSED"===self.displayMode)Array.prototype.push.apply(i,h.popupData(r,this.type));else{var d=t.y,f="EXPANDED"===this.displayMode?this.expandedVGap:this.squishedVGap;if(d<=this.variantBandHeight){var m=Math.floor((d-10)/(this.variantHeight+f));h.row===m&&Array.prototype.push.apply(i,h.popupData(r,o),this.type)}else{var y=this.callSets;if(y&&h.calls){var g=this.nRows*("SQUISHED"===this.displayMode?this.squishedCallHeight:this.expandedCallHeight),v=Math.floor((d-this.variantBandHeight)/(g+f));if(v>=0&&v<y.length){var b=y[v],S=h.calls[b.id];Array.prototype.push.apply(i,il(S,h,0,a))}}}}}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return i},ol.prototype.menuItemList=function(){var e=this,t=[];return t.push({object:fn('<div class="igv-track-menu-border-top">')}),["COLLAPSED","SQUISHED","EXPANDED"].forEach(function(n){t.push({object:xn({COLLAPSED:"Collapse",SQUISHED:"Squish",EXPANDED:"Expand"}[n],n===e.displayMode),click:function(){e.displayMode=n,e.trackView.checkContentHeight(),e.trackView.repaintViews()}})}),t};var al=kn.dataRangeMenuItem,sl=Qn(wi,function(t,n){var r=t.url,o=t.name;this.config=t,this.url=r,this.name=o,this.pValueField=t.pValueField||"pValue",this.geneField=t.geneField||"geneSymbol",this.snpField=t.snpField||"snp";var i=t.minLogP||t.min,a=t.maxLogP||t.max;this.dataRange={min:i||3.5,max:a||25},this.autoscale=!a||t.autoscale,this.autoscalePercentile=t.autoscalePercentile===e?98:t.autoscalePercentile,this.background=t.background,this.divider=t.divider||"rgb(225,225,225)",this.dotSize=t.dotSize||2,this.height=t.height||100,this.autoHeight=!1,this.disableButtons=t.disableButtons,this.visibilityWindow=t.visibilityWindow===e?2e6:t.visibilityWindow>=0?Math.min(2e6,t.visibilityWindow):2e6,this.featureSource=new ua(t,n.genome),Ta.gtexLoaded=!0});sl.prototype.paintAxis=function(e,t,n){var r=(this.dataRange.max-this.dataRange.min)/n,o={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};Co.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var i=Math.ceil(10*(this.dataRange.max-this.dataRange.min)/n),a=4;a<=this.dataRange.max;a+=i){var s,l,c,u,p;s=(p=.85*t)-5,l=p,c=u=n-Math.round((a-this.dataRange.min)/r),Co.strokeLine(e,s,c,l,u,o),c>8&&Co.fillText(e,a,s-1,c+2,o)}o.textAlign="center",Co.fillText(e,"-log10(pvalue)",t/4,n/2,o,{rotate:{angle:-90}})},sl.prototype.getFeatures=function(e,t,n){var r=this.pValueField;return this.featureSource.getFeatures(e,t,n).then(function(e){return e.forEach(function(e){e.value=e[r]}),e})},sl.prototype.draw=function(e){var t=this,n=e.features,r=e.context,o=e.bpPerPixel,i=e.bpStart,a=e.pixelWidth,s=e.pixelHeight,l=(t.dataRange.max-t.dataRange.min)/s,c=e.genomicState.selection;if(this.background&&Co.fillRect(r,0,0,a,s,{fillStyle:this.background}),Co.strokeLine(r,0,s-1,a,s-1,{strokeStyle:this.divider}),r){var u=n.length;r.save(),p(!1),p(!0),r.restore()}function p(e){var p,h,d,f,m,y,g,v,b,S=e?2*t.dotSize:t.dotSize;for(h=0;h<u;h++)if(p=n[h],!((d=Math.round(p.position-i+.5)/o)<0)){if(d>a)break;if(g=p.snp.toUpperCase(),v=p[t.geneField].toUpperCase(),y=c&&(c.snp===g||c.gene===v),!e||y){c&&c.snp===g&&c.addGene(v);var w=-Math.log(p[t.pValueField])/Math.LN10;w>=t.dataRange.min&&(w>t.dataRange.max?(w=t.dataRange.max,b=!0):b=!1,f=Math.max(0+S,s-Math.round((w-t.dataRange.min)/l)),p.px=d,p.py=f,e&&c?(m=c.colorForGene(v),Co.setProperties(r,{fillStyle:m,strokeStyle:"black"})):(m=b?"rgb(150, 150, 150)":"rgb(180, 180, 180)",Co.setProperties(r,{fillStyle:m,strokeStyle:m})),Co.fillCircle(r,d,f,S),Co.strokeCircle(r,d,f,S))}}}},sl.prototype.popupData=function(e){var t=e.viewport.getCachedFeatures();if(!t||0===t.length)return[];var n=e.genomicLocation,r=(e.x,e.y),o=e.viewport.genomicState.referenceFrame,i=2*this.dotSize*o.bpPerPixel,a=this.dotSize,s=this.name,l=[];return t.forEach(function(e){e.end>=n-i&&e.start<=n+i&&e.py-r<2*a&&(l.length>0&&l.push("<hr>"),l.push({name:"snp id",value:e.snp},{name:"gene id",value:e.geneId},{name:"gene name",value:e.geneName},{name:"p value",value:e.pValue},{name:"tissue",value:s}))}),l},sl.prototype.menuItemList=function(){var t=this,n=[];return n.push(al(this.trackView)),n.push({object:xn("Autoscale",t.autoscale),click:function(){t.autoscale=!t.autoscale,t.config.autoscale=t.autoscale,t.trackView.setDataRange(e,e,t.autoscale)}}),n},sl.prototype.doAutoscale=function(e){if(e.length>0){var t=e.map(function(e){return-Math.log(e.value)/Math.LN10});this.dataRange.max=Rn(t,this.autoscalePercentile)}else{var n=this.config.maxLogP||this.config.max;this.dataRange.max=n||25}return this.dataRange};var ll="VARIANT",cl="TRAIT",ul=function(t){this.config=t,this.url=t.url,this.trait=t.trait,this.dataset=t.dataset,this.pvalue=t.pvalue,t.valueThreshold===e&&(t.valueThreshold=.05),t.dataset===e?(this.queryJson=t.queryJson||fl,this.jsonToVariants=t.jsonToVariants||ml):(this.queryJson=t.queryJson||dl,this.jsonToVariants=t.jsonToVariants||hl)};ul.prototype.getFeatures=function(t,n,r){var o=this;return this.genome,new Promise(function(i,a){if(o.cache&&o.cache.chr===t&&o.cache.end>r&&o.cache.start<n)i(o.cache.featuresBetween(n,r));else{var s=Math.max(r-n,1e7)/2,l=(r+n)/2,c=t.startsWith("chr")?t.substring(3):t,u=Math.max(0,l-s),p=l+s,h=o.config.proxy?o.config.proxy:o.url,d=o.queryJson(c,u,p,o.config);Dr.loadJson(h,{sendData:d,withCredentials:o.config.withCredentials}).then(function(n){var r;n?n.error_code?(Ar.presentAlert("Error querying trait "+o.trait+"  (error_code="+n.error_code+")",e),i(null)):((r=o.jsonToVariants(n,o.config)).sort(function(e,t){return e.POS-t.POS}),o.cache=new pl(t,u,p,r),i(r)):i(null)}).catch(a)}})};var pl=function(e,t,n,r){var o,i,a;for(this.chr=e,this.start=t,this.end=n,this.binSize=(n-t)/100,this.binIndeces=[0],this.features=r,a=0,o=0;o<r.length;o++)(i=Math.max(0,Math.floor((r[o].POS-this.start)/this.binSize)))>a&&(this.binIndeces.push(o),a=i)};function hl(t,n){var r=[];return t.variants.forEach(function(t){var o={};t.forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&("POS"===t&&(o.start=e[t]-1),o[t]=e[t])}),o.pvalue=o[n.pvalue][n.dataset][n.trait],o[n.pvalue]=e,r.push(o)}),r}function dl(e,t,n,r){var o=r.trait,i=r.pvalue,a=r.dataset,s={passback:"x",entity:"variant",properties:{cproperty:["VAR_ID","DBSNP_ID","CHROM","POS"],orderBy:["CHROM"],dproperty:{},pproperty:JSON.parse('{"'+i+'": {"'+a+'": ["'+o+'"]}}')},filters:[{dataset_id:"x",phenotype:"x",operand:"CHROM",operator:"EQ",value:e,operand_type:"STRING"},{dataset_id:"x",phenotype:"x",operand:"POS",operator:"GTE",value:t,operand_type:"INTEGER"},{dataset_id:"x",phenotype:"x",operand:"POS",operator:"LTE",value:n,operand_type:"INTEGER"},{dataset_id:a,phenotype:o,operand:i,operator:"LT",value:r.valueThreshold,operand_type:"FLOAT"}]};return JSON.stringify(s)}function fl(e,t,n,r){var o=r.url.includes("variant")?ll:cl,i=r.pvalue?r.pvalue:"PVALUE",a={user_group:"ui",filters:[{operand:"CHROM",operator:"EQ",value:e,filter_type:"STRING"},{operand:"POS",operator:"GT",value:t,filter_type:"FLOAT"},{operand:"POS",operator:"LT",value:n,filter_type:"FLOAT"},{operand:i,operator:"LTE",value:r.valueThreshold,filter_type:"FLOAT"}],columns:o===cl?["CHROM","POS","DBSNP_ID","PVALUE","ZSCORE"]:["CHROM","POS",i,"DBSNP_ID"]};return o===cl&&(a.trait=r.trait),r.proxy?"url="+r.url+"&data="+JSON.stringify(a):JSON.stringify(a)}function ml(e,t){return e.variants.forEach(function(e){e.chr=e.CHROM,e.start=e.POS-1}),e.variants}pl.prototype.featuresBetween=function(e,t){var n=Math.max(0,Math.min(Math.floor((e-this.start)/this.binSize)-1,this.binIndeces.length-1)),r=Math.max(0,Math.min(Math.floor((t-this.start)/this.binSize),this.binIndeces.length-1));return this.binIndeces[n],this.binIndeces[r],this.features};var yl=Qn(wi,function(t,n){this.config=t,this.url=t.url,this.name=t.name,this.trait=t.trait,this.height=t.height||100,this.minLogP=t.minLogP||0,this.maxLogP=t.maxLogP||15,this.background=t.background,this.divider=t.divider||"rgb(225,225,225)",this.dotSize=t.dotSize||4,this.popoverWindow=t.popoverWindow===e?1e8:t.popoverWindow,this.description=t.description,this.proxy=t.proxy,this.portalURL=t.portalURL?t.portalURL:window.location.origin,this.variantURL=t.variantURL||"http://www.type2diabetesgenetics.org/variant/variantInfo/",this.traitURL=t.traitURL||"http://www.type2diabetesgenetics.org/trait/traitInfo/";var r=t.colorScale||{thresholds:[5e-8,5e-4,.5],colors:["rgb(255,50,50)","rgb(251,100,100)","rgb(251,170,170)","rgb(227,238,249)"]};this.pvalue=t.pvalue?t.pvalue:"PVALUE",this.colorScale=new Qa(r),t.format&&"gtexgwas"===t.format.toLowerCase()?this.featureSource=new ua(t,n.genome):this.featureSource=new ul(t,n.genome)});yl.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},yl.prototype.draw=function(t){var n,r,o,i,a,s,l,c,u,p=t.features,h=t.context,d=t.bpPerPixel,f=t.bpStart,m=t.pixelWidth,y=t.pixelHeight,g=f+m*d+1,v=(this.maxLogP-this.minLogP)/y,b=g-f<1e8;if(this.po=b?[]:e,this.background&&Co.fillRect(h,0,0,m,y,{fillStyle:this.background}),Co.strokeLine(h,0,y-1,m,y-1,{strokeStyle:this.divider}),p){o=p.length;for(var S=0;S<o;S++)if(!((r=(n=p[S]).start)<f)){if(r>g)break;(c=n.pvalue||n[this.pvalue])&&(l=this.colorScale.getColor(c),u=-Math.log(c)/2.302585092994046,i=d,a=Math.round((r-f)/i),s=Math.max(this.dotSize,y-Math.round((u-this.minLogP)/v)),l&&Co.setProperties(h,{fillStyle:l,strokeStyle:"black"}),Co.fillCircle(h,a,s,this.dotSize),b&&this.po.push({x:a,y:s,feature:n}))}}},yl.prototype.paintAxis=function(e,t,n){var r=(this.maxLogP-this.minLogP)/n,o={font:"normal 10px Arial",textAlign:"right",strokeStyle:"black"};Co.fillRect(e,0,0,t,n,{fillStyle:"rgb(255, 255, 255)"});for(var i=2;i<this.maxLogP;i+=2){var a=n-Math.round((i-this.minLogP)/r);Co.strokeLine(e,45,a-2,50,a-2,o),Co.fillText(e,i,44,a+2,o)}o.textAlign="center",Co.fillText(e,"-log10(pvalue)",t/2,n/2,o,{rotate:{angle:-90}})},yl.prototype.popupData=function(e){e.genomicLocation;var t,n,r,o,i,a,s,l,c=e.x,u=e.y,p=(e.viewport.genomicState.referenceFrame,[]);if(this.po)for(t=0,n=this.po.length;t<n;t++)r=this.po[t],Math.abs(c-r.x)<this.dotSize&&Math.abs(u-r.y)<=this.dotSize&&(a=r.feature.CHROM||r.feature.chr,s=r.feature.POS||r.feature.start,l=r.feature[this.pvalue]||r.feature.pvalue,(o=r.feature.DBSNP_ID)&&(i=this.variantURL.startsWith("http")?this.variantURL:this.portalURL+"/"+this.variantURL,p.push("<a target='_blank' href='"+i+(i.endsWith("/")?"":"/")+o+"' >"+o+"</a>")),p.push(a+":"+s.toString()),p.push({name:"p-value",value:l}),r.feature.ZSCORE&&p.push({name:"z-score",value:r.feature.ZSCORE}),o&&(i=this.traitURL.startsWith("http")?this.traitURL:this.portalURL+"/"+this.traitURL,p.push("<a target='_blank' href='"+i+(i.endsWith("/")?"":"/")+o+"'>see all available statistics for this variant</a>")),t<n-1&&p.push("<p/>"));else p.push("Popover not available at this resolution.");return p};var gl=Qn(wi,function(e,t){wi.call(this,e,t),e.height||(this.height=300),this.arcOrientation=!1,this.theta=Math.PI/2,e.format,this.featureSource=new bl(e,t.genome)});function vl(t,n){t.sort(function(t,r){var o=t.score===e?-Number.MAX_VALUE:t.score,i=r.score===e?-Number.MAX_VALUE:r.score;return(n===e?1:n)*(o-i)})}function bl(e,t){this.config=e,this.genome=t}gl.prototype.getFeatures=function(e,t,n){return this.featureSource.getFeatures(e,t,n)},gl.prototype.draw=function(e){var t=this,n=Math.PI/2,r=e.context,o=e.pixelWidth,i=e.pixelHeight,a=(e.viewportWidth,e.bpPerPixel),s=e.bpStart,l=a,c=t.arcOrientation;Co.fillRect(r,0,e.pixelTop,o,i,{fillStyle:"rgb(255, 255, 255)"});var u=e.features;u&&(vl(u,1),u.forEach(function(e){if(e.startLeft){var o=Math.round((e.startLeft-s)/l),i=Math.round((e.startRight-s)/l),a=Math.round((e.endLeft-s)/l),u=Math.round((e.endRight-s)/l);r.fillStyle=e.color,r.strokeStyle=e.color,r.beginPath();var p=(o+u)/2,h=(u-o)/2,d=t.height,f=Math.PI+(Math.PI/2-n),m=2*Math.PI-(Math.PI/2-n);c?(d=0,r.arc(p,d,h,m,f),r.lineTo(u,d)):(r.arc(p,d,h,f,m),r.lineTo(a,d));var y=(i+a)/2,g=(a-i)/2,v=d;c?(r.arc(y,v,g,f,m,!0),r.lineTo(a,v)):(r.arc(y,v,g,m,f,!0),r.lineTo(o,v)),r.stroke(),r.fill(),e.drawState={x1:p,y1:d,r1:h,x2:y,y2:v,r2:g,sa:f,ea:m}}else{var b=Math.round((e.start-s)/l),S=Math.round((e.end-s)/l);r.strokeStyle=e.color,r.beginPath();var w=(b+S)/2,C=(S-b)/2,_=t.height,k=Math.PI+(Math.PI/2-n),T=2*Math.PI-(Math.PI/2-n);c?(_=0,r.arc(w,_,C,T,k)):r.arc(w,_,C,k,T),r.stroke(),e.drawState={x1:w,y1:_,r1:C,sa:k,ea:T}}}))},gl.prototype.clickedFeatures=function(t){var n=wi.prototype.clickedFeatures.call(this,t),r=[];vl(n,-1);var o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=c.drawState,p=t.canvasX-u.x1,h=t.canvasY-u.y1,d=Math.sqrt(p*p+h*h),f=u.r1+3,m=void 0,y=void 0;if(u.x2===e)m=d,y=u.r1-3;else{var g=t.canvasX-u.x2,v=t.canvasY-u.y2;m=Math.sqrt(g*g+v*v),y=u.r2-3}if(d<f&&m>y){r.push(c);break}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r},gl.prototype.popupData=function(e,t){if(t||(t=this.clickedFeatures(e)),t&&t.length>0)return wi.extractPopupData(t[0],this.getGenomeId())},gl.prototype.menuItemList=function(){var e=this;return[{name:"Toggle arc direction",click:function(){e.arcOrientation=!e.arcOrientation,e.trackView.repaintViews()}}]},gl.prototype.getState=function(){var e=this._super.getState.call(this);return e.arcOrientation=this.arcOrientation,e.thickness=this.thickness,e.color=this.color,e},bl.prototype.getFeatures=function(e,t,n){var r=this,o=this.genome;if(this.featureCache)return Promise.resolve(r.featureCache.queryFeatures(e,t,n));var i=Zn(this.config);return Dr.loadString(r.config.url,i).then(function(i){return r.featureCache=new Vi(function(e){if(!e)return null;for(var t,n=jo(e),r=!0,o=[],i=[],a=[];t=n.nextLine();){var s=t.split("\t");if(r&&t.startsWith("color:")){var l="rgb("+s[1]+","+s[2]+","+s[3]+")";o.push(l),s.length>4&&i.push(s[4])}else{r=!1;var c=s[0],u=Number.parseInt(s[1])-1,p=Number.parseInt(s[2])-1,h=Number.parseInt(s[3]),d=Number.parseInt(s[4]),f=Number.parseInt(s[5]),m=o[f],y=void 0;(y=u<=d?{chr:c,startLeft:Math.min(u,p),startRight:Math.max(u,p),endLeft:Math.min(h,d),endRight:Math.max(h,d),color:m,score:f}:{chr:c,startLeft:Math.min(h,d),startRight:Math.max(h,d),endLeft:Math.min(u,p),endRight:Math.max(u,p),color:m,score:f}).start=y.startLeft,y.end=y.endRight,i.length>f&&(y.description=i[f]),a.push(y)}}return a}(i),o),r.featureCache.queryFeatures(e,t,n)})};var Sl={sequence:function(e,t){return new Na(e,t)},feature:function(e,t){return new xa(e,t)},seg:function(e,t){return new Za(e,t)},wig:function(e,t){return new Ya(e,t)},merged:function(e,t){return new Ja(e,t)},alignment:function(e,t){return new Qs(e,t)},interaction:function(e,t){return new rl(e,t)},variant:function(e,t){return new ol(e,t)},eqtl:function(e,t){return new sl(e,t)},gwas:function(e,t){return new yl(e,t)},arc:function(e,t){return new gl(e,t)}},wl=function(e,t){this.config=e,this.name=e.name,this.roiSource=new ua(e,t),this.color=e.color||"rgba(68, 134, 247, 0.25)"};function Cl(e,t,n){var r,o;return r=Math.round((e.start-t)/n),(o=Math.round((e.end-t)/n)-r)<3&&(o=3,r-=1),{x:r,width:o}}wl.prototype.getFeatures=function(e,t,n){return this.roiSource.getFeatures(e,t,n)},wl.prototype.draw=function(e){var t,n,r,o;if(o=e.features){t=e.bpStart+(e.pixelWidth*e.bpPerPixel+1);for(var i=0,a=o.length;i<a;i++)if(!((n=o[i]).end<e.bpStart)){if(n.start>t)break;r=Cl(n,e.bpStart,e.bpPerPixel),Co.fillRect(e.context,r.x,0,r.width,e.pixelHeight,{fillStyle:this.color})}}};var _l=function(e,t){this.geneColors={},this.gene=null,this.snp=null,this.genesCount=0,e&&(this.gene=e.toUpperCase(),this.geneColors[this.gene]=kl[this.genesCount++]),t&&(this.snp=t.toUpperCase())};_l.prototype.addGene=function(e){this.geneColors[e.toUpperCase()]||(this.geneColors[e.toUpperCase()]=kl[this.genesCount++])},_l.prototype.colorForGene=function(e){return this.geneColors[e.toUpperCase()]};var kl=new Array;kl.push("rgb(228,26,28)"),kl.push("rgb(55,126,184)"),kl.push("rgb(77,175,74)"),kl.push("rgb(166,86,40)"),kl.push("rgb(152,78,163)"),kl.push("rgb(255,127,0)"),kl.push("rgb(247,129,191)"),kl.push("rgb(153,153,153)"),kl.push("rgb(255,255,51)"),kl.push("rgb(102, 194, 165"),kl.push("rgb(252, 141, 98"),kl.push("rgb(141, 160, 203"),kl.push("rgb(231, 138, 195"),kl.push("rgb(166, 216, 84"),kl.push("rgb(255, 217, 47"),kl.push("rgb(229, 196, 148"),kl.push("rgb(179, 179, 179"),kl.push("rgb( 141, 211, 199"),kl.push("rgb(255, 255, 179"),kl.push("rgb(190, 186, 218"),kl.push("rgb(251, 128, 114"),kl.push("rgb(128, 177, 211"),kl.push("rgb(253, 180, 98"),kl.push("rgb(179, 222, 105"),kl.push("rgb(252, 205, 229"),kl.push("rgb(217, 217, 217"),kl.push("rgb(188, 128, 189"),kl.push("rgb(204, 235, 197"),kl.push("rgb(255, 237, 111");var Tl=function(e,t){var n,r,o,i=this;n=new DOMParser,r=n.parseFromString(e,"text/xml"),function(){var e,n,o,a,s;!(e=r.getElementsByTagName("Session"))||e.length,o=(n=e.item(0)).getAttribute("genome"),a=n.getAttribute("locus"),s=n.getAttribute("ucscID"),t&&t.hasOwnProperty(o)?i.genome=o:(i.reference={fastaURL:o},s&&(i.reference.id=s)),a&&(i.locus=a)}(),o=r.getElementsByTagName("Resource"),i.tracks=[];var a={};function s(e,t){var n,r,o,i,a,s,l,c,u,p;t.name=e.getAttribute("name"),(n=e.getAttribute("color"))&&(t.color="rgb("+n+")"),i=e.getAttribute("altColor"),n&&(t.altColor="rgb("+i+")"),(r=e.getAttribute("height"))&&(t.height=parseInt(r)),(o=e.getAttribute("autoScale"))&&(t.autoScale="true"===o),(p=e.getAttribute("autoscaleGroup"))&&(t.autoscaleGroup=p),(l=e.getAttribute("windowFunction"))&&(t.windowFunction=l),(c=e.getAttribute("visibilityWindow")||e.getAttribute("featureVisibilityWindow"))&&(t.visibilityWindow=c),(u=e.getAttribute("indexed"))&&(t.indexed="true"===u),(s=e.getElementsByTagName("DataRange")).length>0&&(a=s.item(0),o||(t.min=parseInt(a.getAttribute("minimum")),t.max=parseInt(a.getAttribute("maximum"))),t.logScale="LOG"===a.getAttribute("type"))}Array.from(o).forEach(function(e,t){var n={url:e.getAttribute("path"),indexURL:e.getAttribute("index"),order:t};i.tracks.push(n),a[n.url]=n}),(o=r.getElementsByTagName("Track"))&&o.length>0&&(i.tracks=[],Array.from(o).forEach(function(e){var t,n,r,o;(r=e.getElementsByTagName("Track"))&&r.length>0?(s(e,o={type:"merged",tracks:[]}),i.tracks.push(o),Array.from(r).forEach(function(e){var t,n;e.processed=!0,t=e.getAttribute("id"),(n=a[t])&&(o.tracks.push(n),s(e,n),n.autoscale=!1,o.height=n.height)})):e.processed||(t=e.getAttribute("id"),(n=a[t])&&(i.tracks.push(n),s(e,n)))}))},xl=function(){this.attributes={},this.plinkLoaded=!1};function El(e,t){return(new xl).loadPlinkFile(e,t)}xl.prototype.loadPlinkFile=function(){var n=N(t.mark(function n(r,o){var i,a,s,l,c,u,p,h,d,f;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o||(o={}),i=Zn(o),t.next=4,Dr.loadString(r,i);case 4:for(a=t.sent,s=qr(a),l=!0,c=!1,u=e,t.prev=9,p=s[Symbol.iterator]();!(l=(h=p.next()).done);l=!0)d=h.value,f=d.split(" "),this.attributes[f[1]]={familyId:f[0],fatherId:f[2],motherId:f[3],sex:f[4],phenotype:f[5]};t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),c=!0,u=t.t0;case 17:t.prev=17,t.prev=18,l||null==p.return||p.return();case 20:if(t.prev=20,!c){t.next=23;break}throw u;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return this.plinkLoaded=!0,t.abrupt("return",this);case 27:case"end":return t.stop()}},n,this,[[9,13,17,25],[18,,20,24]])}));return function(e,t){return n.apply(this,arguments)}}(),xl.prototype.getAttributes=function(e){return this.attributes[e]},xl.prototype.getAttributeNames=function(){return this.hasAttributes()?Object.keys(this.attributes[Object.keys(this.attributes)[0]]):[]},xl.prototype.hasAttributes=function(){return Object.keys(this.attributes).length>0};var Al=function(e,t,n){this.browser=n,this.$parent=e,this.buildPanels(e,t)};function Ol(e,t,n){var r,o,i,a,s=this.browser;return(r={}).genomicState=t,r.$ideogram=fn('<div class="igv-ideogram-content"></div>'),e.append(r.$ideogram),o=r.$ideogram,(i=s.genomicStateList.indexOf(t))<(a=s.genomicStateList.length)&&1+i!==a?o.addClass("igv-ideogram-content-border-right"):o.removeClass("igv-ideogram-content-border-right"),r.$ideogram.outerWidth(n),r.$canvas=fn("<canvas>"),r.$ideogram.append(r.$canvas),Dl(r),r.ideograms={},r.$ideogram.on("click",function(e){!function(e,t,n){var r=qn(n,t.$ideogram.get(0)),o=t.genomicState.referenceFrame,i=o.bpPerPixel*t.$ideogram.width(),a=e.genome.getChromosome(o.chrName),s=i/a.bpLength,l=r.x/t.$ideogram.width();l-s/2<0&&(l=s/2),l+s/2>1&&(l=1-s/2);var c=Math.round((l-s/2)*a.bpLength),u=Math.round((l+s/2)*a.bpLength);o.start=Math.round((l-s/2)*a.bpLength),o.bpPerPixel=(u-c)/t.$ideogram.width(),e.updateLocusSearchWidget(t.genomicState),e.updateViews()}(s,r,e)}),r}function Pl(e){e.forEach(function(t,n){1===e.length||1+n===e.length?t.$ideogram.removeClass("igv-ideogram-content-border-right"):t.$ideogram.addClass("igv-ideogram-content-border-right")})}function Il(t){var n=t.ctx,r=t.width,o=t.height,i=t.genome,a=t.referenceFrame,s=t.ideogramWidth;if(r>0&&o>0&&i&&a&&i.getChromosome(a.chrName)&&o>0&&(Co.fillRect(n,0,0,r,o,{fillStyle:Bn.greyScale(255)}),"all"!==a.chrName.toLowerCase())){!function(t){var n,r,o,i,a,s,l,c,u,p=t.ctx,h=t.referenceFrame,d=t.genome,f=t.width,m=t.height,y=t.stainColors;if(e!==d){if(Co.fillRect(p,0,0,f,m,{fillStyle:Bn.greyScale(255)}),n=d.getCytobands(h.chrName)){if(o=0+m/2,i=[],a=[],0===n.length)return;for(s=f/n[n.length-1].end,p.beginPath(),Co.roundRect(p,.5,.5,f-1,m-1,(m-1)/2,0,1),p.clip(),u=0;u<n.length;u++)l=s*(r=n[u]).start,c=s*r.end,"c"===r.type?("p"===r.name.charAt(0)?(i[0]=l,a[0]=m+0,i[1]=l,a[1]=0,i[2]=c,a[2]=o):(i[0]=c,a[0]=m+0,i[1]=c,a[1]=0,i[2]=l,a[2]=o),p.fillStyle="rgb(150, 0, 0)",p.strokeStyle="rgb(150, 0, 0)",Co.polygon(p,i,a,1,0)):(p.fillStyle=Ml(y,r),Co.fillRect(p,l,1,c-l,m-2))}p.strokeStyle=Bn.greyScale(41),Co.roundRect(p,.5,.5,f-1,m-1,(m-1)/2,0,1)}}({ctx:n,referenceFrame:a,genome:i,width:r,height:o,stainColors:[]});var l=i.getChromosome(a.chrName),c=Math.round(a.bpPerPixel*s),u=a.start,p=l.bpLength,h=i.getCytobands(a.chrName);if(h&&(p=Math.max(p,h[h.length-1].end)),c<p){var d=c/p,f=u/p,m=Math.floor(f*r),y=Math.floor(d*r);m=Math.max(0,m),m=Math.min(r-y,m),n.save(),n.strokeStyle="red",n.lineWidth=y<2?1:2;var g=m+n.lineWidth/2;y=y<2?1:y-n.lineWidth;var v=n.lineWidth/2,b=o-n.lineWidth;n.strokeRect(g,v,y,b),n.restore()}}}function Ml(e,t){if("c"===t.type)return"rgb(150, 10, 10)";var n=t.stain,r=230;"p"===t.type&&(r=Math.floor(230-n/100*230));var o=e[r];return o||(o="rgb("+r+","+r+","+r+")",e[r]=o),o}function Dl(e){var t=e.$canvas.get(0),n=+e.$ideogram.width(),r=+e.$ideogram.height();t.style.width=n+"px",t.style.height=r+"px",t.width=window.devicePixelRatio*n,t.height=window.devicePixelRatio*r,e.ctx=t.getContext("2d"),e.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}Al.prototype.renderSVGContext=function(e,t){var n=this;this.panels.forEach(function(r,o){var i=r.$ideogram.get(0).getBoundingClientRect(),a=t.deltaX+o*(r.$canvas.width()+e.multiLocusGap),s=t.deltaY;e.addTrackGroupWithTranslationAndClipRect("ideogram",a,s,i.width,i.height,0),e.save(),Il({ctx:e,width:r.$canvas.width(),height:r.$canvas.height(),genome:n.browser.genome,referenceFrame:r.genomicState.referenceFrame,ideogramWidth:r.$ideogram.width()}),e.restore()})},Al.prototype.buildPanels=function(e,t){var n=this;e.append(fn('<div class="igv-ideogram-shim"></div>')),this.panels=this.browser.genomicStateList.map(function(r){return Ol.call(n,e,r,t)})},Al.prototype.setWidth=function(e,t){this.panels.forEach(function(t){t.$ideogram.outerWidth(e),Dl(t),t.ideograms={}}),!0===t&&this.repaint()},Al.prototype.resize=function(){this.setWidth(this.browser.viewportContainerWidth()/this.browser.genomicStateList.length,!0)},Al.prototype.repaint=function(){var e=this;this.panels.forEach(function(t){Il({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:e.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})})},Al.prototype.discardPanels=function(){this.panels.forEach(function(e){e.$ideogram.remove()}),this.panels=e},Al.prototype.addPanelWithGenomicStateAtIndex=function(e,t,n){var r;r=Ol.call(this,this.$parent,e,n),t===this.panels.length?this.panels.push(r):(this.panels.splice(t,0,r),r.$ideogram.detach().insertAfter(this.panels[t-1].$ideogram)),Pl(this.panels)},Al.prototype.removePanelWithLocusIndex=function(e){this.panels[e].$ideogram.remove(),this.panels.splice(e,1),Pl(this.panels)},Al.prototype.repaintPanelWithGenomicState=function(e){var t=this.panels[this.browser.genomicStateList.indexOf(e)];Il({ctx:t.ctx,width:t.$canvas.width(),height:t.$canvas.height(),genome:this.browser.genome,referenceFrame:t.genomicState.referenceFrame,ideogramWidth:t.$ideogram.width()})};var Ll=function(e,t,n,r,o){this.genome=e,this.chrName=t,this.start=n,this.initialEnd=r,this.bpPerPixel=o};Ll.prototype.calculateEnd=function(e){return this.start+this.bpPerPixel*e},Ll.prototype.calculateBPP=function(e,t){return(e-this.start)/t},Ll.prototype.set=function(e){this.chrName=e.chrName,this.start=e.start,this.bpPerPixel=e.bpPerPixel},Ll.prototype.toPixels=function(e){return e/this.bpPerPixel},Ll.prototype.toBP=function(e){return this.bpPerPixel*e},Ll.prototype.shiftPixels=function(e,t){this.start+=e*this.bpPerPixel,this.clamp(t)},Ll.prototype.clamp=function(e){var t=this.genome.getChromosome(this.chrName).bpStart||0;if(this.start=Math.max(t,this.start),e){var n=this.genome.getChromosome(this.chrName).bpLength-e*this.bpPerPixel;this.start>n&&(this.start=n)}},Ll.prototype.getChromosome=function(){return this.genome.getChromosome(this.chrName)},Ll.prototype.showLocus=function(e){if("all"===this.chrName.toLowerCase())return this.chrName.toLowerCase();var t=Ur(Math.floor(this.start)+1),n=Ur(Math.round(this.start+this.bpPerPixel*e));return this.chrName+":"+t+"-"+n},Ll.prototype.description=function(){return"ReferenceFrame "+this.chrName+" "+Ur(Math.floor(this.start))+" bpp "+this.bpPerPixel};var Nl=function(e,t){this.guid=Wn(),this.namespace=".browser_"+this.guid,this.config=e,this.$root=fn('<div class="igv-root-div">'),Rl.call(this,e),this.trackContainerDiv=t,this.trackViews=[],this.trackLabelsVisible=!0,this.isCenterGuideVisible=!1,this.cursorGuideVisible=!1,this.featureDB={},this.constants={dragThreshold:3,scrollThreshold:5,defaultColor:"rgb(0,0,150)",doubleClickDelay:e.doubleClickDelay||500},this.eventHandlers={},this.$spinner=fn('<div class="igv-track-container-spinner">'),this.$spinner.append(En("spinner")),fn(this.trackContainerDiv).append(this.$spinner),this.stopSpinner(),function(){var e=this;function t(t){var n,r,o,i;if(t.preventDefault(),!e.loadInProgress()&&(n=Un(t),e.vpMouseDown)){var a=Math.abs(n.x-e.vpMouseDown.mouseDownX)>Math.abs(n.y-e.vpMouseDown.mouseDownY);if(o=(r=e.vpMouseDown.viewport).$viewport.width(),i=r.genomicState.referenceFrame,!e.isDragging&&!e.isScrolling)if(a)e.vpMouseDown.mouseDownX&&Math.abs(n.x-e.vpMouseDown.mouseDownX)>e.constants.dragThreshold&&(e.isDragging=!0);else if(e.vpMouseDown.mouseDownY&&Math.abs(n.y-e.vpMouseDown.mouseDownY)>e.constants.scrollThreshold){e.isScrolling=!0;var s=r.trackView,l=s.$viewportContainer.height(),c=s.maxContentHeight();e.vpMouseDown.r=l/c}if(e.isDragging&&(i.shiftPixels(e.vpMouseDown.lastMouseX-n.x,o),e.updateLocusSearchWidget(e.vpMouseDown.genomicState),e.updateViews(),e.fireEvent("trackdrag")),e.isScrolling){var u=e.vpMouseDown.r*(e.vpMouseDown.lastMouseY-n.y);e.vpMouseDown.viewport.trackView.scrollBy(u)}e.vpMouseDown.lastMouseX=n.x,e.vpMouseDown.lastMouseY=n.y}}function n(t){e.cancelTrackPan(),e.endTrackDrag()}fn(window).on("resize"+this.namespace,function(){e.resize()}),fn(this.root).on("mouseup",n),fn(this.root).on("mouseleave",n),fn(this.trackContainerDiv).on("mousemove",t),fn(this.trackContainerDiv).on("touchmove",t),fn(this.trackContainerDiv).on("mouseleave",n),fn(this.trackContainerDiv).on("mouseup",n),fn(this.trackContainerDiv).on("touchend",n)}.call(this)};function Rl(t){this.flanking=t.flanking,this.crossDomainProxy=t.crossDomainProxy,this.formats=t.formats,this.trackDefaults=t.trackDefaults,t.search?this.searchConfig={type:"json",url:t.search.url,coords:t.search.coords===e?1:t.search.coords,chromosomeField:t.search.chromosomeField||"chromosome",startField:t.search.startField||"start",endField:t.search.endField||"end",geneField:t.search.geneField||"gene",snpField:t.search.snpField||"snp",resultsField:t.search.resultsField}:(t.reference&&t.reference.id?t.reference.id:t.genome&&t.genome,this.searchConfig={type:"plain",url:"https://igv.org/genomes/locus.php?genome=$GENOME$&name=$FEATURE$",coords:0,chromosomeField:"chromosome",startField:"start",endField:"end",geneField:"gene",snpField:"snp"})}function jl(t,n){var r=!0,o=!1,i=e;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=!0,u=!1,p=e;try{for(var h,d=l.viewports[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var f=h.value;f.$trackLabel&&(0===l.viewports.indexOf(f)&&!0===n?f.$trackLabel.show():f.$trackLabel.hide())}}catch(e){u=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw p}}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}function Fl(t){Hr(t)&&(t=JSON.parse(t));var n=t.url;return t.features,e===n||Hr(n)||n instanceof File}Nl.prototype.startSpinner=function(){var e=this.$spinner;e&&(e.addClass("igv-fa5-spin"),e.show())},Nl.prototype.stopSpinner=function(){var e=this.$spinner;e&&(e.hide(),e.removeClass("igv-fa5-spin"))},Nl.prototype.isMultiLocusMode=function(){return this.genomicStateList&&this.genomicStateList.length>1},Nl.prototype.isMultiLocusWholeGenomeView=function(){if(e===this.genomicStateList||1===this.genomicStateList.length)return!1;var t=!0,n=!1,r=e;try{for(var o,i=this.genomicStateList[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)if("all"===o.value.referenceFrame.chrName.toLowerCase())return!0}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1},Nl.prototype.toSVG=function(){var t=this.trackContainerDiv.getBoundingClientRect(),n=this.trackViews[0].$viewportContainer.get(0).getBoundingClientRect(),r=this.ideoPanel?this.ideoPanel.panels[0].$ideogram.get(0).getBoundingClientRect():{height:0,width:0},o=t.width+8*(this.genomicStateList.length-1),i=t.height+r.height,a=new Sn({width:o,height:8e3,backdropColor:"white",multiLocusGap:8,viewbox:{x:0,y:0,width:o,height:8e3}}),s=n.x-t.x;this.ideoPanel&&this.ideoPanel.renderSVGContext(a,{deltaX:s,deltaY:0});var l=!0,c=!1,u=e;try{for(var p,h=this.trackViews[Symbol.iterator]();!(l=(p=h.next()).done);l=!0)p.value.renderSVGContext(a,{deltaX:s,deltaY:r.height-t.y})}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}return a.setHeight(i),a.getSerializedSvg(!0)},Nl.prototype.renderSVG=function(e){var t=this.toSVG();if(e.$container){var n=this.trackContainerDiv.getBoundingClientRect();e.$container.empty(),e.$container.width(n.width),e.$container.append(t)}Jn(e.filename||"igv.svg",URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})))},Nl.prototype.loadSession=function(){var n=N(t.mark(function n(r){var o,i,a,s;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=function(){return(s=N(t.mark(function n(r){var o,i,a,s,l;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.url||r.file,!r.url||!r.url.startsWith("blob:")&&!r.url.startsWith("data:")){t.next=6;break}return i=Nl.uncompressSession(r.url),t.abrupt("return",JSON.parse(i));case 6:if((a=r.filename)||(a=r.url?vr(r.url):r.file.name),!a.endsWith(".xml")){t.next=18;break}return t.next=11,Jr.getKnownGenomes();case 11:return s=t.sent,t.next=14,Dr.loadString(o);case 14:return l=t.sent,t.abrupt("return",new Tl(l,s));case 18:if(!a.endsWith(".json")){t.next=22;break}return t.abrupt("return",Dr.loadJson(o));case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}},n)}))).apply(this,arguments)},a=function(e){return s.apply(this,arguments)},o=this,!r.url&&!r.file){n.next=9;break}return n.next=6,a(r);case 6:i=n.sent,n.next=10;break;case 9:i=r;case 10:return n.abrupt("return",o.loadSessionObject(i));case 11:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),Nl.prototype.loadSessionObject=function(){var n=N(t.mark(function n(r){var o,i,a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x,E;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.removeAllTracks(!0),t.next=3,this.loadGenome(r.reference||r.genome,r.locus);case 3:if(o=t.sent,!r.gtexSelections){t.next=44;break}for(i={},a=!0,s=!1,l=e,t.prev=9,c=this.genomicStateList[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)p=u.value,i[p.locusSearchString]=p;t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),s=!0,l=t.t0;case 17:t.prev=17,t.prev=18,a||null==c.return||c.return();case 20:if(t.prev=20,!s){t.next=23;break}throw l;case 23:return t.finish(20);case 24:return t.finish(17);case 25:for(h=!0,d=!1,f=e,t.prev=28,m=Object.getOwnPropertyNames(r.gtexSelections)[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)g=y.value,(v=i[g])&&(b=r.gtexSelections[g].gene,S=r.gtexSelections[g].snp,v.selection=new _l(b,S));t.next=36;break;case 32:t.prev=32,t.t1=t.catch(28),d=!0,f=t.t1;case 36:t.prev=36,t.prev=37,h||null==m.return||m.return();case 39:if(t.prev=39,!d){t.next=42;break}throw f;case 42:return t.finish(39);case 43:return t.finish(36);case 44:if(!r.roi){t.next=65;break}for(this.roi=[],w=!0,C=!1,_=e,t.prev=49,k=r.roi[Symbol.iterator]();!(w=(T=k.next()).done);w=!0)x=T.value,this.roi.push(new wl(x,o));t.next=57;break;case 53:t.prev=53,t.t2=t.catch(49),C=!0,_=t.t2;case 57:t.prev=57,t.prev=58,w||null==k.return||k.return();case 60:if(t.prev=60,!C){t.next=63;break}throw _;case 63:return t.finish(60);case 64:return t.finish(57);case 65:return r.tracks||(r.tracks=[]),0===r.tracks.filter(function(e){return"sequence"===e.type}).length&&r.tracks.push({type:"sequence",order:-Number.MAX_VALUE}),t.next=69,this.loadTrackList(r.tracks);case 69:!1===r.showIdeogram||this.ideoPanel||(E=this.viewportContainerWidth()/this.genomicStateList.length,this.ideoPanel=new Al(this.$contentHeader,E,this),this.ideoPanel.repaint()),this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0]),this.resize();case 73:case"end":return t.stop()}},n,this,[[9,13,17,25],[18,,20,24],[28,32,36,44],[37,,39,43],[49,53,57,65],[58,,60,64]])}));return function(e){return n.apply(this,arguments)}}(),Nl.prototype.loadGenome=function(){var n=N(t.mark(function n(r,o){var i,a,s,l,c,u,p,h;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(h=function(e,t){return e?Array.isArray(e)?e.join(" "):e:t.getHomeChromosomeName()},p=function(){return(p=N(t.mark(function n(r){var o,i,a;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hr(r)?o=r:r.genome?o=r.genome:r.id!==e&&r.fastaURL===e&&(o=r.id),!o){t.next=10;break}return t.next=4,Jr.getKnownGenomes();case 4:return i=t.sent,(a=i[o])||this.presentAlert("Uknown genome id: "+o,e),t.abrupt("return",a);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}},n,this)}))).apply(this,arguments)},u=function(e){return p.apply(this,arguments)},Hr(r)&&r.startsWith("{"))try{r=JSON.parse(r)}catch(e){}return n.next=6,u.call(this,r);case 6:return i=n.sent,n.next=9,Jr.loadGenome(i);case 9:return a=n.sent,s=this.genome&&this.genome.id!==a.id,this.genome=a,this.$current_genome.text(a.id||""),this.$current_genome.attr("title",a.id||""),this.chromosomeSelectWidget.update(a),s&&this.removeAllTracks(),this.genome=a,n.prev=17,n.next=20,this.search(h(o,a),!0);case 20:l=n.sent,n.next=29;break;case 23:return n.prev=23,n.t0=n.catch(17),console.error(n.t0),n.next=28,this.search(this.genome.getHomeChromosomeName());case 28:l=n.sent;case 29:if(this.genomicStateList=l,this.genomicStateList.length>0?this.rulerTrack||!1===this.config.showRuler||(this.rulerTrack=new ko(this),this.addTrack(this.rulerTrack)):(c="Unrecognized locus "+this.config.locus,this.presentAlert(c,e)),!i.tracks){n.next=34;break}return n.next=34,this.loadTrackList(i.tracks);case 34:return this.resize(),n.abrupt("return",this.genome);case 36:case"end":return n.stop()}},n,this,[[17,23]])}));return function(e,t){return n.apply(this,arguments)}}(),Nl.prototype.updateUIWithGenomicStateListChange=function(e){var t=this.isMultiLocusWholeGenomeView()||Jr.isWholeGenomeView(e[0].referenceFrame);t||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),t),jl(this.trackViews,this.trackLabelsVisible)},Nl.prototype.setTrackLabelName=function(e,t){e.viewports.forEach(function(e){e.setTrackLabel(t)})},Nl.prototype.hideTrackLabels=function(){this.trackLabelsVisible=!1,jl(this.trackViews,this.trackLabelsVisible)},Nl.prototype.showTrackLabels=function(){this.trackLabelsVisible=!0,jl(this.trackViews,this.trackLabelsVisible)},Nl.prototype.hideCursorGuide=function(){this.cursorGuide.$guide.hide(),this.cursorGuideVisible=!1},Nl.prototype.showCursorGuide=function(){this.cursorGuide.$guide.show(),this.cursorGuideVisible=!0},Nl.prototype.setCustomCursorGuideMouseHandler=function(e){this.cursorGuide.customMouseHandler=e},Nl.prototype.hideCenterGuide=function(){this.centerGuide.$container.hide(),this.isCenterGuideVisible=!1},Nl.prototype.showCenterGuide=function(){this.centerGuide.$container.show(),this.centerGuide.resize(),this.isCenterGuideVisible=!0},Nl.prototype.loadTrackList=function(){var e=N(t.mark(function e(n){var r,o,i,a,s,l;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,(o=n.filter(function(e){return!Fl(e)})).length>0&&(i="The following tracks could not be loaded.  Are these local files?",o.forEach(function(e){i+=", "+e.name}),r.presentAlert(i)),e.prev=3,this.startSpinner(),a=[],n.filter(Fl).forEach(function(e){e.noSpinner=!0,a.push(r.loadTrack(e))}),e.next=9,Promise.all(a);case 9:return s=e.sent,(l=r.trackViews.filter(function(e){return e.track.autoscaleGroup})).length>0&&r.updateViews(r.genomicStateList[0],l),e.abrupt("return",s);case 13:return e.prev=13,this.stopSpinner(),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[3,,13,16]])}));return function(t){return e.apply(this,arguments)}}(),Nl.prototype.loadROI=function(){var n=N(t.mark(function n(r){var o,i,a,s,l,c;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.roi||(this.roi=[]),!Array.isArray(r)){t.next=23;break}for(o=!0,i=!1,a=e,t.prev=5,s=r[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)c=l.value,this.roi.push(new wl(c,this.genome));t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),i=!0,a=t.t0;case 13:t.prev=13,t.prev=14,o||null==s.return||s.return();case 16:if(t.prev=16,!i){t.next=19;break}throw a;case 19:return t.finish(16);case 20:return t.finish(13);case 21:t.next=24;break;case 23:this.roi.push(new wl(r,this.genome));case 24:return t.next=26,this.updateViews(e,e,!0);case 26:case"end":return t.stop()}},n,this,[[5,9,13,21],[14,,16,20]])}));return function(e){return n.apply(this,arguments)}}(),Nl.prototype.loadTrack=function(){var n=N(t.mark(function n(r){var o,i,a,s,l;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Hr(r)&&(r=JSON.parse(r)),Hr(r.url)&&(r.url=r.url.trim()),r.indexURL&&Hr(r.indexURL)&&(r.indexURL=r.indexURL.trim()),Fl(r)){t.next=6;break}return this.presentAlert("The following track could not be loaded.  Is this a local file? "+r.name),t.abrupt("return");case 6:if(!Hr(r.url)||!r.url.startsWith("https://drive.google.com")){t.next=16;break}return t.next=9,cr.getDriveFileInfo(r.url);case 9:o=t.sent,r.url="https://www.googleapis.com/drive/v3/files/"+o.id+"?alt=media",r.filename||(r.filename=o.originalFileName||o.name),r.format||(r.format=Ho(r.filename)),r.indexURL&&r.indexURL.startsWith("https://drive.google.com")&&(r.indexURL=cr.driveDownloadURL(r.indexURL)),t.next=17;break;case 16:r.url&&!r.filename&&(r.filename=vr(r.url));case 17:if(Vo(r),this.trackDefaults&&r.type&&(i=this.trackDefaults[r.type]))for(a in i)i.hasOwnProperty(a)&&r[a]===e&&(r[a]=i[a]);if(t.prev=19,r.noSpinner||this.startSpinner(),s=this.createTrack(r),e!==s){t.next=25;break}return this.presentAlert("Unknown file type: "+r.url,e),t.abrupt("return",s);case 25:if(e===s.order&&(s.order=this.trackViews.length),"function"!=typeof s.postInit){t.next=29;break}return t.next=29,s.postInit();case 29:if(!r.sync){t.next=34;break}return t.next=32,this.addTrack(s);case 32:t.next=35;break;case 34:this.addTrack(s);case 35:return t.abrupt("return",s);case 38:t.prev=38,t.t0=t.catch(19),console.error(t.t0),l=t.t0.message||t.t0.toString(),this.presentAlert(l,e);case 43:return t.prev=43,r.noSpinner||this.stopSpinner(),t.finish(43);case 46:case"end":return t.stop()}},n,this,[[19,38,43,46]])}));return function(e){return n.apply(this,arguments)}}(),Nl.prototype.createTrack=function(t){t.format&&(t.format=t.format.toLowerCase());var n=e===t.type?"unknown_type":t.type.toLowerCase();"data"===n&&(n="wig");var r,o=Object.assign({},t);switch(o.browser=this,n){case"annotation":case"genes":case"fusionjuncspan":case"snp":r=Sl.feature(o,this);break;default:r=Sl.hasOwnProperty(n)?Sl[n](o,this):e}if(t.roi&&r){r.roi=[];var i=!0,a=!1,s=e;try{for(var l,c=t.roi[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;r.roi.push(new wl(u,this.genome))}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}}return r},Nl.prototype.addTrack=function(){var e=N(t.mark(function e(n){var r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Io(this,fn(this.trackContainerDiv),n),this.trackViews.push(r),jl(this.trackViews,this.trackLabelsVisible),this.reorderTracks(),n.autoscaleGroup){e.next=6;break}return e.abrupt("return",r.updateViews());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Nl.prototype.reorderTracks=function(){var e=this;this.trackViews.sort(function(e,t){return(e.track.order||0)-(t.track.order||0)}),fn(this.trackContainerDiv).children("igv-track-div").detach(),this.trackViews.forEach(function(t){e.trackContainerDiv.appendChild(t.trackDiv)})},Nl.prototype.removeTrackByName=function(t){var n=this.trackViews.slice(),r=!0,o=!1,i=e;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t===l.track.name&&this.removeTrack(l.track)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}},Nl.prototype.removeTrack=function(e){for(var t,n=0;n<this.trackViews.length;n++)if(e===this.trackViews[n].track){t=this.trackViews[n];break}t&&(this.trackViews.splice(n,1),fn(t.trackDiv).remove(),this.fireEvent("trackremoved",[t.track]),t.dispose())},Nl.prototype.removeAllTracks=function(t){var n=[],r=!0,o=!1,i=e;try{for(var a,s=this.trackViews[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;!t&&"sequence"===l.track.id||"ruler"===l.track.id?n.push(l):(this.trackContainerDiv.removeChild(l.trackDiv),this.fireEvent("trackremoved",[l.track]),l.dispose())}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}this.trackViews=n},Nl.prototype.findTracks=function(e,t){var n=[];return this.trackViews.forEach(function(r){t===r.track[e]&&n.push(r.track)}),n},Nl.prototype.setTrackHeight=function(e){this.trackHeight=e,this.trackViews.forEach(function(t){t.setTrackHeight(e)})},Nl.prototype.visibilityChange=function(){this.resize()},Nl.prototype.resize=N(t.mark(function n(){var r,o,i,a;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(e){return r.viewportContainerWidth()*e.referenceFrame.bpPerPixel>e.chromosome.bpLength},r=this,0!==(o=this.viewportWidth())){t.next=5;break}return t.abrupt("return");case 5:return this.genomicStateList&&o>0&&((i=this.isMultiLocusWholeGenomeView()||Jr.isWholeGenomeView(this.genomicStateList[0].referenceFrame))||this.isMultiLocusMode()?this.centerGuide.forcedHide():this.centerGuide.forcedShow(),this.navbarManager.navbarDidResize(this.$navigation.width(),i),this.genomicStateList.forEach(function(t){var n=t.referenceFrame;isFinite(n.bpPerPixel)||e===n.initialEnd||(n.bpPerPixel=(n.initialEnd-n.start)/o)})),this.genomicStateList&&1===this.genomicStateList.length&&a(this.genomicStateList[0])?this.search(this.genomicStateList[0].chromosome.name):(this.ideoPanel&&this.ideoPanel.resize(),this.centerGuide&&this.centerGuide.resize(),this.trackViews.forEach(function(e){e.resize()})),this.genomicStateList&&this.genomicStateList.length>0&&(this.updateLocusSearchWidget(this.genomicStateList[0]),this.windowSizePanel.updateWithGenomicState(this.genomicStateList[0])),t.next=10,this.updateViews();case 10:case"end":return t.stop()}},n,this)})),Nl.prototype.updateViews=function(){var n=N(t.mark(function n(r,o,i){var a,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x,E,A,O,P,I,M,D,L,N,R,j,F,G,B,z;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this,o||(o=this.trackViews),!r&&this.genomicStateList&&1==this.genomicStateList.length&&(r=this.genomicStateList[0]),r&&(this.updateLocusSearchWidget(r),this.windowSizePanel.updateWithGenomicState(r)),this.ideoPanel&&this.ideoPanel.repaint(),this.centerGuide&&this.centerGuide.repaint(),!a.isDragging){t.next=35;break}c=!0,u=!1,p=e,t.prev=10,h=o[Symbol.iterator]();case 12:if(c=(d=h.next()).done){t.next=19;break}return f=d.value,t.next=16,f.updateViews();case 16:c=!0,t.next=12;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(10),u=!0,p=t.t0;case 25:t.prev=25,t.prev=26,c||null==h.return||h.return();case 28:if(t.prev=28,!u){t.next=31;break}throw p;case 31:return t.finish(28);case 32:return t.finish(25);case 33:t.next=126;break;case 35:s={},l=[],o.forEach(function(e){var t=e.track.autoscaleGroup;if(t){var n=s[t];n||(n=[],s[t]=n),n.push(e)}else l.push(e)}),m=Object.keys(s),y=0,g=m;case 40:if(!(y<g.length)){t.next=100;break}return v=g[y],b=s[v],S=[],b.forEach(function(e){S.push(e.getInViewFeatures())}),t.next=47,Promise.all(S);case 47:for(w=t.sent,C=[],k=!0,T=!1,x=e,t.prev=52,E=w[Symbol.iterator]();!(k=(A=E.next()).done);k=!0)O=A.value,C=C.concat(O);t.next=60;break;case 56:t.prev=56,t.t1=t.catch(52),T=!0,x=t.t1;case 60:t.prev=60,t.prev=61,k||null==E.return||E.return();case 63:if(t.prev=63,!T){t.next=66;break}throw x;case 66:return t.finish(63);case 67:return t.finish(60);case 68:_=er(C),P=!0,I=!1,M=e,t.prev=72,D=b[Symbol.iterator]();case 74:if(P=(L=D.next()).done){t.next=83;break}return(N=L.value).track.dataRange=_,N.track.autoscale=!1,t.next=80,N.updateViews();case 80:P=!0,t.next=74;break;case 83:t.next=89;break;case 85:t.prev=85,t.t2=t.catch(72),I=!0,M=t.t2;case 89:t.prev=89,t.prev=90,P||null==D.return||D.return();case 92:if(t.prev=92,!I){t.next=95;break}throw M;case 95:return t.finish(92);case 96:return t.finish(89);case 97:y++,t.next=40;break;case 100:R=!0,j=!1,F=e,t.prev=103,G=l[Symbol.iterator]();case 105:if(R=(B=G.next()).done){t.next=112;break}return z=B.value,t.next=109,z.updateViews(i);case 109:R=!0,t.next=105;break;case 112:t.next=118;break;case 114:t.prev=114,t.t3=t.catch(103),j=!0,F=t.t3;case 118:t.prev=118,t.prev=119,R||null==G.return||G.return();case 121:if(t.prev=121,!j){t.next=124;break}throw F;case 124:return t.finish(121);case 125:return t.finish(118);case 126:case"end":return t.stop()}},n,this,[[10,21,25,33],[26,,28,32],[52,56,60,68],[61,,63,67],[72,85,89,97],[90,,92,96],[103,114,118,126],[119,,121,125]])}));return function(e,t,r){return n.apply(this,arguments)}}(),Nl.prototype.loadInProgress=function(){var e;for(e=0;e<this.trackViews.length;e++)if(this.trackViews[e].isLoading())return!0;return!1},Nl.prototype.updateLocusSearchWidget=function(e){var t,n,r,o,i,a;this.rulerTrack&&this.rulerTrack.updateLocusLabel(),0===this.genomicStateList.indexOf(e)&&1===this.genomicStateList.length?e.locusSearchString&&"all"===e.locusSearchString.toLowerCase()?(this.$searchInput.val(e.locusSearchString),this.chromosomeSelectWidget.$select.val("all")):(t=e.referenceFrame,this.chromosomeSelectWidget.$select.val(t.chrName),this.$searchInput&&(i=t.start+t.bpPerPixel*(this.viewportContainerWidth()/this.genomicStateList.length),this.genome&&(a=this.genome.getChromosome(t.chrName))&&(i=Math.min(i,a.bpLength)),n=Ur(Math.floor(t.start+1)),r=Ur(Math.floor(i)),o=t.chrName+":"+n+"-"+r,this.$searchInput.val(o)),this.fireEvent("locuschange",[{chr:t.chrName,start:n,end:r,label:o}])):(this.$searchInput.val(""),this.chromosomeSelectWidget.$select.val(""))},Nl.prototype.viewportContainerWidth=function(){return this.trackViews&&this.trackViews.length>0?this.trackViews[0].$viewportContainer.width():function(){var e,t,n;return e=fn('<div class="igv-track-div">'),fn(this.trackContainerDiv).append(e),t=fn('<div class="igv-viewport-container">'),e.append(t),n=t.width(),e.remove(),n}.call(this)},Nl.prototype.viewportWidth=function(){var t;return t=this.viewportContainerWidth(),e===this.genomicStateList||1===this.genomicStateList.length?t:Math.round(t/this.genomicStateList.length)},Nl.prototype.minimumBases=function(){return this.config.minimumBases},Nl.prototype.updateZoomSlider=function(e){var t=this.trackViews[0].viewports[0],n=t.genomicState.referenceFrame,r=t.$viewport.width()*n.bpPerPixel,o=n.getChromosome().bpLength,i=(o-r)/(o-this.minimumBases()),a=Math.round(100*i);e.val(a)},Nl.prototype.zoom=function(e){this.zoomWithScaleFactor(e)},Nl.prototype.zoomIn=function(){this.zoomWithScaleFactor(.5)},Nl.prototype.zoomOut=function(){this.zoomWithScaleFactor(2)},Nl.prototype.zoomWithRangePercentage=function(e){var t=this;if(!this.loadInProgress()){var n=this;this.trackViews[0].viewports.forEach(function(r){var o,i,a,s=r.genomicState.referenceFrame,l=s.start+s.toBP(r.$viewport.width()/2),c=s.getChromosome(),u=(o=(c.bpLength-c.bpStart)/r.$viewport.width(),i=t.minimumBases()/r.$viewport.width(),(1-(a=e))*o+a*i),p=u*r.$viewport.width();s.start=l-p/2,s.bpPerPixel=u,n.updateViews(r.genomicState)})}},Nl.prototype.zoomWithScaleFactor=function(t,n,r){var o=r?[r]:this.trackViews[0].viewports,i=!0,a=!1,s=e;try{for(var l,c=o[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u,p=l.value,h=p.genomicState.referenceFrame,d=h.getChromosome(),f=d.bpLength-d.bpStart,m=t<1?this.minimumBases()/p.$viewport.width():f/p.$viewport.width(),y=e===n?h.start+h.toBP(p.$viewport.width()/2):n,g=(u=t<1?Math.max(h.bpPerPixel*t,m):Math.min(h.bpPerPixel*t,m))*p.$viewport.width();h.start=y-g/2,h.bpPerPixel=u,h.clamp(p.$viewport.width()),this.updateViews(p.genomicState)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}},Nl.prototype.presentSplitScreenMultiLocusPanel=function(e,t){var n,r,o,i,a=this.genome;r=this.viewportContainerWidth()/(1+this.genomicStateList.length),n=(o=t).referenceFrame;var s=a.getChromosomeName(e.chr);o.referenceFrame=c(s,n.bpPerPixel,r,e.start,e.lengthOnRef);var l=a.getChromosomeName(e.mate.chr);function c(e,t,n,r,o){var i;return new Ll(a,e,i=(r+(r+o))/2-t*(n/2),i+t*n,t)}(i={}).chromosome=o.chromosome,i.referenceFrame=c(l,n.bpPerPixel,r,e.mate.position,e.lengthOnRef),this.addMultiLocusPanelWithGenomicStateAtIndex(i,1+this.genomicStateList.indexOf(o),r)},Nl.prototype.selectMultiLocusPanelWithGenomicState=function(e){var t=this;this.genomicStateList.filter(function(t){return e!==t}).forEach(function(e){t.removeMultiLocusPanelWithGenomicState(e,!1)}),this.resize()},Nl.prototype.removeMultiLocusPanelWithGenomicState=function(e,t){var n,r,o,i=this.genome,a=this;n=this.genomicStateList.indexOf(e),this.ideoPanel&&this.ideoPanel.removePanelWithLocusIndex(n),this.trackViews.forEach(function(e){e.removeViewportWithLocusIndex(n)}),r=this.viewportContainerWidth(),o=this.genomicStateList.length,this.genomicStateList.splice(n,1),this.genomicStateList.forEach(function(e,t){var n=e.referenceFrame.calculateEnd(r/o),s=e.referenceFrame.calculateBPP(n,r/a.genomicStateList.length);a.genomicStateList[t].referenceFrame=new Ll(i,e.chromosome.name,e.referenceFrame.start,n,s)}),this.updateUIWithGenomicStateListChange(this.genomicStateList),!0===t&&this.resize()},Nl.prototype.addMultiLocusPanelWithGenomicStateAtIndex=function(e,t,n){t===this.genomicStateList.length?(this.genomicStateList.push(e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach(function(t){var r;r=new oo(t,t.$viewportContainer,e,n),t.viewports.push(r),t.decorateViewports(),t.configureViewportContainer(t.$viewportContainer,t.viewports)})):(this.genomicStateList.splice(t,0,e),this.ideoPanel&&this.ideoPanel.addPanelWithGenomicStateAtIndex(e,t,n),this.trackViews.forEach(function(r){var o;o=new oo(r,r.$viewportContainer,e,n),r.viewports.splice(t,0,o),o.$viewport.detach().insertAfter(r.viewports[t-1].$viewport),r.decorateViewports(),r.configureViewportContainer(r.$viewportContainer,r.viewports)})),this.rulerTrack&&this.rulerTrack.updateLocusLabel(),this.updateUIWithGenomicStateListChange(this.genomicStateList),this.resize()},Nl.prototype.emptyViewportContainers=function(){var t=!0,n=!1,r=e;try{for(var o,i=this.trackViews[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.$outerScroll&&a.$outerScroll.remove();var s=!0,l=!1,c=e;try{for(var u,p=a.viewports[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;h.rulerSweeper&&h.rulerSweeper.$rulerSweeper.remove(),h.popover&&(h.popover.$popover.off(),h.popover.$popover.empty(),h.popover.$popover.remove()),h.$viewport.remove()}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}delete a.viewports,a.viewports=[],delete a.scrollbar}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this.$contentHeader.empty()},Nl.prototype.buildViewportsWithGenomicStateList=function(e){var t;t=this.viewportContainerWidth()/this.genomicStateList.length,this.trackViews.forEach(function(n){e.forEach(function(e){var r;r=new oo(n,n.$viewportContainer,e,t),n.viewports.push(r)}),n.decorateViewports(),n.configureViewportContainer(n.$viewportContainer,n.viewports)})},Nl.prototype.goto=function(e,t,n){return this.search(e+":"+t+"-"+n)},Nl.prototype.search=function(){var n=N(t.mark(function n(r,o){var i,a,s,l,c,u,p,h,d,f,m,y;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return y=function(){return(y=N(t.mark(function n(r){var o,s,l,c,u,p,h,d,f,m,y,g,v,b,S,w,C,_;return t.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:_=function(t,n){var r,o,a,s,l,c;if(c={},s=(r=t.split(":"))[0],!(l=n.getChromosome(s)))return e;if(c.chromosome=l,c.start=0,c.end=l.bpLength,1===r.length)return c;if((o=r[1].split("-")).length>2)return e;if(c.start=c.end=e,a=o[0].replace(/,/g,""),isNaN(a))return e;if(c.start=parseInt(a,10)-1,isNaN(c.start))return e;if(2===o.length){if(a=o[1].replace(/,/g,""),isNaN(a))return!1;c.end=parseInt(a,10)}return tr(c.chromosome.bpLength,c,i.minimumBases()),c},C=function(t,n){var r;if(r="plain"===o.type?function(e){var t=[],n=[];return qr(e).forEach(function(e){""===e||t.push(e)}),t.forEach(function(e){var t,r,o,a,s=e.split("\t");s.length>=3&&(o=(r=s[1].split(":"))[1].split("-"),t=s[2].trim(),a={gene:s[0],chromosome:i.genome.getChromosomeName(r[0].trim()),start:parseInt(o[0].replace(/,/g,"")),end:parseInt(o[1].replace(/,/g,"")),type:"gtex"===t?"snp":"gene"},n.push(a))}),n}(t):JSON.parse(t),o.resultsField&&(r=r[o.resultsField]),r&&0!==r.length){var a=r[0];if(!a.hasOwnProperty(o.chromosomeField)||!a.hasOwnProperty(o.startField))return e;var s=a[o.chromosomeField],l=a[o.startField]-o.coords,c=a[o.endField];e===c&&(c=l+1),i.flanking&&(l=Math.max(0,l-i.flanking),c+=i.flanking);var u=Object.assign({},a);return u.chromosome=i.genome.getChromosome(s),u.start=l,u.end=c,u.locusSearchString=n,u.selection=new _l(a[o.geneField],a[o.snpField]),u}return e},w=function(){return(w=N(t.mark(function e(n){var r,a;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=o.url.replace("$FEATURE$",n.toUpperCase())).indexOf("$GENOME$")>-1&&(r=r.replace("$GENOME$",i.genome.id?i.genome.id:"hg19")),e.next=4,Dr.loadString(r);case 4:return a=e.sent,e.abrupt("return",{result:a,locusSearchString:n});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)},S=function(e){return w.apply(this,arguments)},b=function(e){var t=i.viewportContainerWidth()/e.length;return e.forEach(function(e){e.referenceFrame=new Ll(a,e.chromosome.name,e.start,e.end,(e.end-e.start)/t)}),e},o=i.searchConfig,s=[],l=!0,c=!1,u=e,n.prev=10,p=r[Symbol.iterator]();case 12:if(l=(h=p.next()).done){n.next=35;break}if(d=h.value,!(f=_(d,i.genome))){n.next=20;break}f.locusSearchString=d,s.push(f),n.next=31;break;case 20:if(!(m=i.featureDB[d.toUpperCase()])){n.next=26;break}(y=i.genome.getChromosome(m.chr))&&(f={chromosome:y,start:m.start,end:m.end,locusSearchString:d},tr(f.chromosome.bpLength,f,i.minimumBases()),s.push(f)),n.next=31;break;case 26:return n.next=28,S(d);case 28:g=n.sent,(v=C(g.result,g.locusSearchString))&&s.push(v);case 31:b(s);case 32:l=!0,n.next=12;break;case 35:n.next=41;break;case 37:n.prev=37,n.t0=n.catch(10),c=!0,u=n.t0;case 41:n.prev=41,n.prev=42,l||null==p.return||p.return();case 44:if(n.prev=44,!c){n.next=47;break}throw u;case 47:return n.finish(44);case 48:return n.finish(41);case 49:return n.abrupt("return",s);case 50:case"end":return n.stop()}},n,null,[[10,37,41,49],[42,,44,48]])}))).apply(this,arguments)},m=function(e){return y.apply(this,arguments)},i=this,a=this.genome,r&&"all"===r.trim().toLowerCase()&&(r="all"),s=r.split(" "),n.next=8,m(s);case 8:if((l=n.sent)&&0!==l.length){n.next=13;break}return n.next=12,m([r]);case 12:l=n.sent;case 13:if(!(l.length>0)){n.next=38;break}for(this.emptyViewportContainers(),this.genomicStateList=l,this.buildViewportsWithGenomicStateList(l),c=!0,u=!1,p=e,n.prev=20,h=l[Symbol.iterator]();!(c=(d=h.next()).done);c=!0)d.value.id=Wn();n.next=28;break;case 24:n.prev=24,n.t0=n.catch(20),u=!0,p=n.t0;case 28:n.prev=28,n.prev=29,c||null==h.return||h.return();case 31:if(n.prev=31,!u){n.next=34;break}throw p;case 34:return n.finish(31);case 35:return n.finish(28);case 36:n.next=39;break;case 38:throw new Error("Unrecognized locus "+r);case 39:return this.ideoPanel&&(this.ideoPanel.discardPanels(),f=i.viewportContainerWidth()/l.length,this.ideoPanel.buildPanels(this.$contentHeader,f)),this.updateUIWithGenomicStateListChange(l),o||this.updateViews(),n.abrupt("return",l);case 43:case"end":return n.stop()}},n,this,[[20,24,28,36],[29,,31,35]])}));return function(e,t){return n.apply(this,arguments)}}(),Nl.prototype.loadSampleInformation=function(){var e=N(t.mark(function e(n){var r;return t.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n,n instanceof File&&(r=n.name),"fam"!==r.substr(r.lastIndexOf(".")+1)){e.next=7;break}return e.next=6,El(n);case 6:this.sampleInformation=e.sent;case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Nl.prototype.on=function(e,t){this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)},Nl.prototype.un=function(e,t){if(this.eventHandlers[e]){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}},Nl.prototype.off=function(e,t){if(e)if(t){var n=this.eventHandlers[e].indexOf(t);-1!==n&&this.eventHandlers[e].splice(n,1)}else this.eventHandlers[e]=[];else this.eventHandlers={}},Nl.prototype.fireEvent=function(t,n,r){var o,i=this.eventHandlers[t];return e===i||0===i.length?e:(o=r||window,i.map(function(e){return e.apply(o,n)})[0])},Nl.prototype.dispose=function(){fn(window).off(this.namespace),fn(document).off(this.namespace),this.eventHandlers=e,this.trackViews.forEach(function(e){e.dispose()})},Nl.prototype.toJSON=function(){var e,t;e={reference:this.genome.toJSON()};var n=[],r={};return this.trackViews[0].viewports.forEach(function(e){var t=e.genomicState,o=e.$viewport[0].clientWidth,i=t.referenceFrame.showLocus(o);if(n.push(i),t.selection){var a={gene:t.selection.gene,snp:t.selection.snp};r[i]=a}}),e.locus=n,Object.getOwnPropertyNames(r).length>0&&(e.gtexSelections=r),t=[],this.trackViews.forEach(function(e){var n,r;(r="function"==typeof(n=e.track).getState?n.getState():n.config)&&(r.browser&&delete r.browser,r.order=n.order,t.push(r))}),e.tracks=t,e},Nl.prototype.compressedSession=function(){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));var r=new ir.RawDeflate(t).compress(),o=String.fromCharCode.apply(null,r);return btoa(o).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")}(JSON.stringify(this.toJSON()))},Nl.uncompressSession=function(t){var n;if(t.indexOf("/gzip;base64")>0){n=Sr(t);var r="",o=!0,i=!1,a=e;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r+=String.fromCharCode(c)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r}return function(t){t=t.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"=");for(var n=atob(t),r=[],o=0;o<n.length;o++)r.push(n.charCodeAt(o));var i=new ir.RawInflate(r).decompress(),a="",s=!0,l=!1,c=e;try{for(var u,p=i[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var h=u.value;a+=String.fromCharCode(h)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return a}(t.substring(5))},Nl.prototype.sessionURL=function(){var e,t;return((t=(e=window.location.href.slice()).indexOf("?"))>0?e.substring(0,t):e)+"?sessionURL=data:"+this.compressedSession()},Nl.prototype.presentAlert=function(e){this.alertDialog.present(e)},Nl.prototype.mouseDownOnViewport=function(e,t){var n;n=Un(e),this.vpMouseDown={viewport:t,lastMouseX:n.x,mouseDownX:n.x,lastMouseY:n.y,mouseDownY:n.y,genomicState:t.genomicState,referenceFrame:t.genomicState.referenceFrame}},Nl.prototype.cancelTrackPan=function(){var t=this.isDragging;this.isDragging=!1,this.isScrolling=!1,this.vpMouseDown=e,t&&(this.updateViews(),this.fireEvent("trackdragend"))},Nl.prototype.startTrackDrag=function(e){this.dragTrack=e},Nl.prototype.updateTrackDrag=function(e){if(e&&this.dragTrack){var t=this.dragTrack,n=this.trackViews.indexOf(e),r=this.trackViews.indexOf(t),o=this.trackViews;o[n]=t,o[r]=e;var i=this.trackViews[n].track.order;this.trackViews[r].track.order=i;var a=o.length,s=i;if(n<r)for(var l=n+1;l<a;l++){var c=o[l].track;if(!(c.order<=s))break;c.order=Math.min(Number.MAX_VALUE,s+1),s=c.order}else for(var u=n-1;u>0;u--){var p=o[u].track;if(!(p.order>=s))break;p.order=Math.max(-Number.MAX_VALUE,s-1),s=p.order}this.reorderTracks()}},Nl.prototype.endTrackDrag=function(){this.dragTrack&&this.dragTrack.$trackDragScrim.hide(),this.dragTrack=e};var Gl=function(e,t){this.$content=fn('<div class="igv-windowsizepanel-content-div">'),e.append(this.$content),this.browser=t};Gl.prototype.show=function(){this.$content.show()},Gl.prototype.hide=function(){this.$content.hide()},Gl.prototype.updateWithGenomicState=function(e){this.$content.text(function(e){var t,n;return e>1e7?(t=" mb",n=e/1e6,Math.floor(n).toString()+t):e>1e4?(t=" kb",n=e/1e3,Ur(Math.floor(n))+t):Ur(e)+" bp"}(Math.round(this.browser.viewportWidth()*e.referenceFrame.bpPerPixel)))};var Bl=function(t){var n,r,o=this;this.$container=fn("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0}),n=fn("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(n),zn(n,function(){o.$input.val(e),o.$container.offset({left:0,top:0}),o.$container.hide()}),this.$label=fn("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Unlabeled"),this.$input_container=fn("<div>",{class:"igv-generic-dialog-input"}),this.$container.append(this.$input_container),this.$input=fn("<input>"),this.$input_container.append(this.$input),r=fn("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=fn("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=fn("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){o.$input.val(e),o.$container.offset({left:0,top:0}),o.$container.hide()}),Cn(this.$container.get(0),n.get(0)),this.$container.hide()};Bl.prototype.configure=function(t){var n=this;this.$label.text(t.label),this.$input.val(t.input),this.$input.unbind(),this.$input.on("keyup",function(r){13===r.keyCode&&(t.click(),n.$input.val(e),n.$container.offset({left:0,top:0}),n.$container.hide())}),this.$ok.unbind(),this.$ok.on("click",function(){t.click(),n.$input.val(e),n.$container.offset({left:0,top:0}),n.$container.hide()})},Bl.prototype.present=function(e){var t,n;t=e.offset().top,n=fn("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var zl=function(t,n){var r,o,i,a=this;this.browser=n,this.$container=fn("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0}),r=fn("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(r),zn(r,function(){a.$minimum_input.val(e),a.$maximum_input.val(e),a.$container.offset({left:0,top:0}),a.$container.hide()}),this.$minimum=fn("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$minimum),(i=fn("<div>")).text("Minimum"),this.$minimum.append(i),this.$minimum_input=fn("<input>"),this.$minimum.append(this.$minimum_input),this.$maximum=fn("<div>",{class:"igv-generic-dialog-label-input"}),this.$container.append(this.$maximum),(i=fn("<div>")).text("Maximum"),this.$maximum.append(i),this.$maximum_input=fn("<input>"),this.$maximum.append(this.$maximum_input),o=fn("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(o),this.$ok=fn("<div>"),o.append(this.$ok),this.$ok.text("OK"),this.$cancel=fn("<div>"),o.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){a.$minimum_input.val(e),a.$maximum_input.val(e),a.$container.offset({left:0,top:0}),a.$container.hide()}),Cn(this.$container.get(0),r.get(0)),this.$container.hide()};function Vl(t){var n,r;n=parseFloat(this.$minimum_input.val()),r=parseFloat(this.$maximum_input.val()),isNaN(n)||isNaN(r)?this.browser.presentAlert("Must input numeric values",e):(!0===t.trackView.track.autoscale&&fn("#datarange-autoscale").trigger("click"),t.trackView.setDataRange(n,r,!1)),this.$minimum_input.val(e),this.$maximum_input.val(e),this.$container.offset({left:0,top:0}),this.$container.hide()}zl.prototype.configure=function(e){var t,n,r,o=this;(t=e.trackView.dataRange())?(n=t.min,r=t.max):(n=0,r=100),this.$minimum_input.val(n),this.$maximum_input.val(r),this.$minimum_input.unbind(),this.$minimum_input.on("keyup",function(t){13===t.keyCode&&Vl.call(o,e)}),this.$maximum_input.unbind(),this.$maximum_input.on("keyup",function(t){13===t.keyCode&&Vl.call(o,e)}),this.$ok.unbind(),this.$ok.on("click",function(){Vl.call(o,e)})},zl.prototype.present=function(e){var t,n;t=e.offset().top,n=fn("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var Hl=function(t){var n,r,o=this;this.$container=fn("<div>",{class:"igv-generic-dialog-container"}),t.append(this.$container),this.$container.offset({left:0,top:0}),n=fn("<div>",{class:"igv-generic-dialog-header"}),this.$container.append(n),zn(n,function(){o.$track_name.text(e),o.$container.offset({left:0,top:0}),o.$container.hide()}),this.$label=fn("<div>",{class:"igv-generic-dialog-one-liner"}),this.$container.append(this.$label),this.$label.text("Remove track:"),this.$track_name=fn("<div>",{class:"igv-generic-dialog-one-liner igv-ellipsis"}),this.$container.append(this.$track_name),r=fn("<div>",{class:"igv-generic-dialog-ok-cancel"}),this.$container.append(r),this.$ok=fn("<div>"),r.append(this.$ok),this.$ok.text("OK"),this.$cancel=fn("<div>"),r.append(this.$cancel),this.$cancel.text("Cancel"),this.$cancel.on("click",function(){o.$track_name.text(e),o.$container.offset({left:0,top:0}),o.$container.hide()}),Cn(this.$container.get(0),n.get(0)),this.$container.hide()};Hl.prototype.configure=function(t){var n=this;this.$track_name.text(t.name||"unnamed"),this.$ok.unbind(),this.$ok.on("click",function(){t.click(),n.$track_name.text(e),n.$container.offset({left:0,top:0}),n.$container.hide()})},Hl.prototype.present=function(e){var t,n;t=e.offset().top,n=fn("body").scrollTop(),this.$container.offset({left:e.width()-this.$container.width(),top:t+n}),this.$container.show()};var Ul=function(e){this.$container=fn('<div class="igv-user-feedback">'),e.append(this.$container);var t=fn("<div>");this.$container.append(t);var n=fn("<div>");t.append(n);var r=En("exclamation-triangle","red");n.append(r);var o=fn("<div>");t.append(o);var i=En("times-circle","grey");o.append(i);var a=fn("<div>");this.$container.append(a);var s=fn("<div>");a.append(s),s.text("i am user feedback"),o.click(function(){s.html(""),(void 0).$container.hide()})};Ul.prototype.show=function(){this.$container.show()},Ul.prototype.hide=function(){this.$container.hide()};var ql=function(e,t){var n=fn('<div class="igv-nav-bar-button">');e.append(n),n.text("Save SVG"),n.on("click.svg-save-control",function(){t.renderSVG({})})},Wl=function(t,n){var r;this.$zoomContainer=fn('<div class="igv-zoom-widget">'),n.append(this.$zoomContainer),r=fn("<div>"),this.$zoomContainer.append(r),r.append(En("minus-circle")),r.on("click",function(){t.zoomOut()}),r=fn("<div>"),this.$zoomContainer.append(r),this.$slider=fn('<input type="range"/>'),r.append(this.$slider),this.$slider.on("change",function(e){t.zoomWithRangePercentage(e.target.value/100)}),r=fn("<div>"),this.$zoomContainer.append(r),r.append(En("plus-circle")),r.on("click",function(){t.zoomIn()}),this.currentChr=e;var o=this;t.on("locuschange",function(){t.updateZoomSlider(o.$slider)})};Wl.prototype.hide=function(){this.$zoomContainer.hide()},Wl.prototype.show=function(){this.$zoomContainer.show()},Wl.prototype.hideSlider=function(){this.$slider.hide()},Wl.prototype.showSlider=function(){this.$slider.show()};var Kl=function(e,t){this.showAllChromosomes=e.config.showAllChromosomes,this.$container=fn("<div>",{class:"igv-chromosome-select-widget-container"}),t.append(this.$container),this.$select=fn("<select>",{name:"chromosome-select-widget"}),this.$container.append(this.$select),this.$select.on("change",function(){""!==fn(this).val()&&(e.search(fn(this).val()),fn(this).blur())})};Kl.prototype.update=function(t){this.$select.empty();var n=this.showAllChromosomes?t.chromosomeNames.slice():t.wgChromosomeNames.slice();t.showWholeGenomeView()&&(n.unshift("all"),n.unshift(""));var r=!0,o=!1,i=e;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l,c=a.value;l=fn("<option>",{value:c}),this.$select.append(l),l.text(c)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}};var $l=function(e,t){var n=this;this.browser=t,this.$button=fn('<div class="igv-nav-bar-button">'),e.append(this.$button),this.$button.text("track labels"),this.$button.on("click",function(){!0===t.trackLabelsVisible?n.doHide():n.doShow()})};$l.prototype.doHide=function(){this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideTrackLabels()},$l.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showTrackLabels()},$l.prototype.setState=function(e){!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked")},$l.prototype.disable=function(){this.doHide(),this.$button.hide()},$l.prototype.enable=function(){this.$button.show()};var Yl=function(e,t,n,r){var o=this;this.browser=r,this.$container=fn('<div class="igv-center-guide igv-center-guide-thin">'),e.append(this.$container),!0===n.showCenterGuideButton&&(this.$centerGuideToggle=fn('<div class="igv-nav-bar-button">'),t.append(this.$centerGuideToggle),this.$centerGuideToggle.text("center line"),this.$centerGuideToggle.on("click",function(){!0===r.isCenterGuideVisible?o.doHide():o.doShow()}))};Yl.prototype.doHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCenterGuide()},Yl.prototype.doShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"),this.browser.showCenterGuide()},Yl.prototype.setState=function(e){this.$centerGuideToggle&&(!0===e?this.$centerGuideToggle.addClass("igv-nav-bar-button-clicked"):this.$centerGuideToggle.removeClass("igv-nav-bar-button-clicked"))},Yl.prototype.forcedHide=function(){this.$centerGuideToggle&&this.$centerGuideToggle.hide(),!0===this.browser.isCenterGuideVisible&&this.$container.hide()},Yl.prototype.forcedShow=function(){this.$centerGuideToggle&&this.$centerGuideToggle.show(),!0===this.browser.isCenterGuideVisible&&this.$container.show()},Yl.prototype.repaint=function(){var e,t,n,r,o,i,a;this.browser.genomicStateList&&(1/(a=this.browser.genomicStateList[0].referenceFrame).bpPerPixel>1?(e=this.browser.trackViews[0].$viewportContainer.position(),t=Math.round(this.browser.trackViews[0].$viewportContainer.width()/2),r=e.left+t-.5*(n=a.toPixels(1)),o=Math.round(r).toString()+"px",i=Math.round(n).toString()+"px",this.$container.css({left:o,width:i}),this.$container.removeClass("igv-center-guide-thin"),this.$container.addClass("igv-center-guide-wide")):(this.$container.css({left:"50%",width:"1px"}),this.$container.removeClass("igv-center-guide-wide"),this.$container.addClass("igv-center-guide-thin")))},Yl.prototype.resize=function(){this.repaint()};var Ql=function(e,t,n,r){var o=this,i=this;this.browser=r,this.$guide=fn('<div class="igv-cursor-tracking-guide">'),e.append(this.$guide),e.on("mousemove.cursor-guide",function(t){t.preventDefault();var n=fn(document.elementFromPoint(t.clientX,t.clientY)).parent();if(n.hasClass("igv-viewport-content-div")){var i=Xl(t,n,o.$guide,e,r),a=i.bp,s=i.start,l=i.end,c=i.interpolant;o.customMouseHandler&&o.customMouseHandler({bp:a,start:s,end:l,interpolant:c})}}),!0===n.showCursorTrackingGuideButton&&(this.$button=fn('<div class="igv-nav-bar-button">'),t.append(this.$button),this.$button.text("cursor guide"),this.$button.on("click",function(){!0===r.cursorGuideVisible?i.doHide():i.doShow()}))},Xl=function(e,t,n,r,o){var i=Zl(r.get(0),e).x+"px";n.css({left:i});var a=Zl(t.get(0),e),s=t.data("genomicStateIndex"),l=o.genomicStateList[s].referenceFrame,c=l.start,u=1+l.start+a.width*l.bpPerPixel,p=Math.round(c+a.x*l.bpPerPixel),h=t.closest(".igv-track-container-div");return Zl(h.get(0),e),{$host:h,host_css_left:i,bp:p,start:c,end:u,interpolant:a.xNormalized}};function Zl(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top,xNormalized:(t.clientX-n.left)/n.width,yNormalized:(t.clientY-n.top)/n.height,width:n.width,height:n.height}}Ql.prototype.doHide=function(){this.$button&&this.$button.removeClass("igv-nav-bar-button-clicked"),this.browser.hideCursorGuide()},Ql.prototype.doShow=function(){this.$button.addClass("igv-nav-bar-button-clicked"),this.browser.showCursorGuide()},Ql.prototype.setState=function(e){this.$button&&(!0===e?this.$button.addClass("igv-nav-bar-button-clicked"):this.$button.removeClass("igv-nav-bar-button-clicked"))},Ql.prototype.disable=function(){this.doHide(),this.$guide.hide()},Ql.prototype.enable=function(){this.$button&&this.$button.show()};var Jl=function(e){this.browser=e};Jl.prototype.navbarDidResize=function(e,t){(function(e){this.browser.$toggle_button_container.removeClass(),this.browser.$toggle_button_container.addClass(e.$toggle_button_container),this.browser.zoomWidget.$zoomContainer.removeClass(),this.browser.zoomWidget.$zoomContainer.addClass(e.$zoomContainer)}).call(this,function(e,t){var n={};return t?this.browser.windowSizePanel.hide():this.browser.windowSizePanel.show(),e>990?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget"):e>860?(n.$toggle_button_container="igv-nav-bar-toggle-button-container",n.$zoomContainer="igv-zoom-widget-900"):e>540?(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900"):(n.$toggle_button_container="igv-nav-bar-toggle-button-container-750",n.$zoomContainer="igv-zoom-widget-900",this.browser.windowSizePanel.hide()),t&&(n.$zoomContainer="igv-zoom-widget-hidden"),n}.call(this,e,t))};var ec=[];function tc(){return(tc=N(t.mark(function n(r,o){var i,a;return t.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(e){return e.sessionURL?i.loadSession({url:e.sessionURL}):i.loadSessionObject(e)},Ar.init(fn(r)),e===o&&(o={}),Jr.genomeList=o.genomeList||"https://s3.amazonaws.com/igv.org.genomes/genomes.json",oc(o),!1!==o.queryParametersSupported&&ic(o),nc(o),(i=new Nl(o,fn('<div class="igv-track-container-div">')[0])).parent=r,fn(r).append(i.$root),rc(i,o),i.$content=fn('<div class="igv-content-div">'),i.$root.append(i.$content),i.$contentHeader=fn("<div>",{class:"igv-content-header"}),i.$content.append(i.$contentHeader),i.$content.append(i.trackContainerDiv),i.userFeedback=new Ul(i.$content),i.userFeedback.hide(),i.alertDialog=new Tr(i.$content),i.inputDialog=new Bl(i.$root),i.trackRemovalDialog=new Hl(i.$root),i.dataRangeDialog=new zl(i.$root,i),o.apiKey&&cr.setApiKey(o.apiKey),o.oauthToken&&pr.setToken(o.oauthToken),t.abrupt("return",a(o).then(function(e){!1===o.showTrackLabels?i.hideTrackLabels():(i.showTrackLabels(),i.trackLabelControl&&i.trackLabelControl.setState(i.trackLabelsVisible)),!1===o.showCursorTrackingGuide?i.cursorGuide.doHide():i.cursorGuide.doShow(),!1===o.showCenterGuide?i.centerGuide.doHide():i.centerGuide.doShow();var t=i.isMultiLocusWholeGenomeView()||Jr.isWholeGenomeView(i.genomicStateList[0].referenceFrame);return i.isMultiLocusMode()||t?i.centerGuide.forcedHide():i.centerGuide.forcedShow(),Dr.startup(),i.navbarManager.navbarDidResize(i.$navigation.width(),t),i}).then(function(e){return ec.push(e),e}));case 25:case"end":return t.stop()}},n)}))).apply(this,arguments)}function nc(t){var n=1;t.tracks&&t.tracks.forEach(function(t){t.order===e&&(t.order=n++)})}function rc(t,n){var r;r=n.createControls?n.createControls(t,n):function(t,n){var r,o,i,a,s,l,c,u,p,h,d;return p=fn("<div>",{class:"igvControlDiv"}),h=fn("<div>",{class:"igv-navbar"}),p.append(h),t.$navigation=h,t.navbarManager=new Jl(t),o=fn("<div>",{class:"igv-nav-bar-left-container"}),h.append(o),c=fn("<div>",{class:"igv-logo"}),(u=fn('<svg width="690px" height="324px" viewBox="0 0 690 324" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>IGV</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="IGV" fill="#666666"><polygon id="Path" points="379.54574 8.00169252 455.581247 8.00169252 515.564813 188.87244 532.884012 253.529506 537.108207 253.529506 554.849825 188.87244 614.833392 8.00169252 689.60164 8.00169252 582.729511 320.722144 486.840288 320.722144"></polygon><path d="M261.482414,323.793286 C207.975678,323.793286 168.339046,310.552102 142.571329,284.069337 C116.803612,257.586572 103.919946,217.158702 103.919946,162.784513 C103.919946,108.410325 117.437235,67.8415913 144.472217,41.0770945 C171.507199,14.3125977 212.903894,0.930550071 268.663545,0.930550071 C283.025879,0.930550071 298.232828,1.84616386 314.284849,3.6774189 C330.33687,5.50867394 344.839793,7.97378798 357.794056,11.072835 L357.794056,68.968378 C339.48912,65.869331 323.578145,63.5450806 310.060654,61.9955571 C296.543163,60.4460336 284.574731,59.6712835 274.154998,59.6712835 C255.850062,59.6712835 240.502308,61.4320792 228.111274,64.9537236 C215.720241,68.4753679 205.793482,74.2507779 198.330701,82.2801269 C190.867919,90.309476 185.587729,100.87425 182.48997,113.974767 C179.392212,127.075284 177.843356,143.345037 177.843356,162.784513 C177.843356,181.942258 179.251407,198.000716 182.067551,210.960367 C184.883695,223.920018 189.671068,234.41436 196.429813,242.443709 C203.188559,250.473058 212.059279,256.178037 223.042241,259.558815 C234.025202,262.939594 247.683295,264.629958 264.01693,264.629958 C268.241146,264.629958 273.098922,264.489094 278.590403,264.207362 C284.081883,263.925631 289.643684,263.50304 295.275972,262.939577 L295.275972,159.826347 L361.595831,159.826347 L361.595831,308.579859 C344.698967,313.087564 327.239137,316.750019 309.215815,319.567334 C291.192494,322.38465 275.281519,323.793286 261.482414,323.793286 L261.482414,323.793286 L261.482414,323.793286 Z" id="Path"></path>;<polygon id="Path" points="0.81355666 5.00169252 73.0472883 5.00169252 73.0472883 317.722144 0.81355666 317.722144"></polygon></g> </g> </svg>')).css("width","34px"),u.css("height","32px"),c.append(u),o.append(c),t.$current_genome=fn("<div>",{class:"igv-current-genome"}),o.append(t.$current_genome),t.$current_genome.text(""),a=fn("<div>",{class:"igv-nav-bar-genomic-location"}),o.append(a),t.chromosomeSelectWidget=new Kl(t,a),e===n.showChromosomeWidget&&(n.showChromosomeWidget=!0),!0===n.showChromosomeWidget?t.chromosomeSelectWidget.$container.show():t.chromosomeSelectWidget.$container.hide(),s=fn("<div>",{class:"igv-locus-size-group"}),a.append(s),d=fn("<div>",{class:"igv-search-container"}),s.append(d),t.$searchInput=fn('<input type="text" placeholder="Locus Search">'),d.append(t.$searchInput),t.$searchInput.change(function(e){t.search(fn(this).val()).catch(function(e){t.presentAlert(e)})}),r=fn("<div>"),d.append(r),r.append(En("search")),r.click(function(){t.search(t.$searchInput.val())}),t.windowSizePanel=new Gl(s,t),i=fn('<div class="igv-nav-bar-right-container">'),h.append(i),l=fn('<div class="igv-nav-bar-toggle-button-container">'),i.append(l),t.$toggle_button_container=l,t.cursorGuide=new Ql(fn(t.trackContainerDiv),l,n,t),t.centerGuide=new Yl(fn(t.trackContainerDiv),l,n,t),!0===n.showTrackLabelButton&&(t.trackLabelControl=new $l(l,t)),n.showSVGButton&&(t.svgSaveControl=new ql(l,t)),t.zoomWidget=new Wl(t,i),!1===n.showNavigation&&t.$navigation.hide(),p.get(0)}(t,n),t.$root.append(fn(r)),!1===n.showControls&&fn(r).hide()}function oc(t){e===t.promisified&&(t.promisified=!1),e===t.minimumBases&&(t.minimumBases=40),e===t.showIdeogram&&(t.showIdeogram=!0),e===t.showCursorTrackingGuideButton&&(t.showCursorTrackingGuideButton=!0),e===t.showCenterGuideButton&&(t.showCenterGuideButton=!0),e===t.showSVGButton&&(t.showSVGButton=!0),e===t.showTrackLabelButton&&(t.showTrackLabelButton=!0),e===t.showCursorTrackingGuide&&(t.showCursorTrackingGuide=!1),e===t.showCenterGuide&&(t.showCenterGuide=!1),e===t.showTrackLabels&&(t.showTrackLabels=!0),t.showControls===e&&(t.showControls=!0),t.showNavigation===e&&(t.showNavigation=!0),t.showRuler===e&&(t.showRuler=!0),t.showSequence===e&&(t.showSequence=!0),t.flanking===e&&(t.flanking=1e3),t.pairsSupported===e&&(t.pairsSupported=!0),t.tracks||(t.tracks=[]),t.showSequence&&t.tracks.push({type:"sequence",order:-Number.MAX_VALUE})}function ic(e){var t,n,r,o,i,a,s,l,c,u,p;if(i={},t=(s=window.location.href).indexOf("?"),n=s.lastIndexOf("#"),t>=0)for(n<0&&(n=s.length),r=t+1;r<n;)(o=s.indexOf("&",r))<0&&(o=n),2===(a=s.substring(r,o).split("=",2)).length&&(l=a[0],c=decodeURIComponent(a[1]),"file"===l?u=c.split(","):"index"===l?p=c.split(","):e[l]=c,r=o+1);if(u){e.tracks||(e.tracks=[]);for(var h=0;h<u.length;h++){if(u[h].endsWith(".xml")||u[h].endsWith(".json")){e.sessionURL=u[h];break}var d={url:u[h]};p&&p.length>h&&(d.indexURL=p[h]),e.tracks.push(d)}}return i}var ac,sc=Dr,lc=Bn,cc=Co;return(ac=document.createElement("style")).setAttribute("type","text/css"),ac.innerHTML='.igv-user-feedback {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 512px;\n  height: 360px;\n  z-index: 2048;\n  background-color: white;\n  border-color: #a2a2a2;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  color: #444;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-user-feedback div:first-child {\n    position: relative;\n    height: 24px;\n    width: 100%;\n    background-color: white;\n    border-bottom-color: #a2a2a2;\n    border-bottom-style: solid;\n    border-bottom-width: thin; }\n    .igv-user-feedback div:first-child div {\n      position: absolute;\n      top: 2px;\n      width: 16px;\n      height: 16px;\n      background-color: transparent; }\n    .igv-user-feedback div:first-child div:first-child {\n      left: 8px; }\n    .igv-user-feedback div:first-child div:last-child {\n      cursor: pointer;\n      right: 8px; }\n  .igv-user-feedback div:last-child {\n    width: 100%;\n    height: calc(100% - 24px);\n    border-width: 0; }\n    .igv-user-feedback div:last-child div {\n      width: auto;\n      height: auto;\n      margin: 8px; }\n\n.igv-color-swatch {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  width: 32px;\n  height: 32px;\n  border-style: solid;\n  border-width: 2px;\n  border-color: white;\n  border-radius: 4px; }\n\n.igv-colorpicker-menu-close-button {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 32px;\n  margin-top: 4px;\n  margin-bottom: 4px;\n  padding-right: 8px; }\n  .igv-colorpicker-menu-close-button i.fa {\n    display: block;\n    margin-left: 4px;\n    margin-right: 4px;\n    color: #5f5f5f; }\n  .igv-colorpicker-menu-close-button i.fa:hover,\n  .igv-colorpicker-menu-close-button i.fa:focus,\n  .igv-colorpicker-menu-close-button i.fa:active {\n    cursor: pointer;\n    color: #0f0f0f; }\n\n.igv-alert-dialog-container {\n  position: absolute;\n  z-index: 2048;\n  top: 30%;\n  left: 50%;\n  margin: -150px 0 0 -150px;\n  width: 300px;\n  height: 256px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: 15px;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-alert-dialog-container div:first-child {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-alert-dialog-container div:first-child div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-alert-dialog-container div:first-child div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-alert-dialog-container #igv-alert-dialog-body {\n    color: #373737;\n    width: 100%;\n    height: calc(100% - 24px - 64px);\n    overflow-y: scroll; }\n    .igv-alert-dialog-container #igv-alert-dialog-body #igv-alert-dialog-body-copy {\n      cursor: pointer;\n      margin: 16px;\n      width: auto;\n      height: auto;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      background-color: white;\n      border: unset; }\n  .igv-alert-dialog-container div:last-child {\n    width: 100%;\n    height: 64px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center; }\n    .igv-alert-dialog-container div:last-child div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: #2B81AF;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-alert-dialog-container div:last-child div:hover {\n      cursor: pointer;\n      border-color: #25597f;\n      background-color: #25597f; }\n\n.igv-generic-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2048;\n  background-color: white;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-container div:first-child {\n    cursor: move;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    height: 24px;\n    width: 100%;\n    background-color: #dddddd; }\n    .igv-generic-container div:first-child i {\n      display: block;\n      color: #5f5f5f;\n      cursor: pointer;\n      width: 14px;\n      height: 14px;\n      margin-right: 8px;\n      margin-bottom: 4px; }\n\n.igv-generic-dialog-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 200px;\n  border-color: #7F7F7F;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: thin;\n  font-family: "Open Sans", sans-serif;\n  font-size: medium;\n  font-weight: 400;\n  z-index: 2048;\n  background-color: white;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center; }\n  .igv-generic-dialog-container .igv-generic-dialog-header {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n    width: 100%;\n    height: 24px;\n    cursor: move;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-color: #7F7F7F;\n    border-bottom-style: solid;\n    border-bottom-width: thin;\n    background-color: #eee; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div {\n      margin-right: 4px;\n      margin-bottom: 2px;\n      height: 12px;\n      width: 12px;\n      color: #7F7F7F; }\n    .igv-generic-dialog-container .igv-generic-dialog-header div:hover {\n      cursor: pointer;\n      color: #444; }\n  .igv-generic-dialog-container .igv-generic-dialog-one-liner {\n    color: #373737;\n    width: 95%;\n    height: 24px;\n    line-height: 24px;\n    text-align: left;\n    margin-top: 8px;\n    padding-left: 8px;\n    overflow-wrap: break-word;\n    background-color: white; }\n  .igv-generic-dialog-container .igv-generic-dialog-label-input {\n    margin-top: 8px;\n    width: 95%;\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    padding-left: 8px;\n    background-color: white;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input div {\n      width: 30%;\n      height: 100%;\n      font-size: 16px;\n      text-align: right;\n      padding-right: 8px;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-label-input input {\n      width: 50%;\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-input {\n    margin-top: 8px;\n    width: calc(100% - 16px);\n    height: 24px;\n    color: #373737;\n    line-height: 24px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      display: block;\n      height: 100%;\n      width: 100%;\n      padding-left: 4px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      color: #373737;\n      text-align: left;\n      outline: none;\n      border-style: solid;\n      border-width: thin;\n      border-color: #7F7F7F;\n      background-color: white; }\n    .igv-generic-dialog-container .igv-generic-dialog-input input {\n      font-size: 16px; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok-cancel {\n    width: 100%;\n    height: 28px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div {\n      margin-top: 32px;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: 14px;\n      font-weight: 400;\n      width: 75px;\n      height: 28px;\n      line-height: 28px;\n      text-align: center;\n      border-color: transparent;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 2px; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child {\n      margin-left: 32px;\n      margin-right: 0;\n      background-color: #5ea4e0; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child {\n      margin-left: 0;\n      margin-right: 32px;\n      background-color: #c4c4c4; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:first-child:hover {\n      cursor: pointer;\n      background-color: #3b5c7f; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok-cancel div:last-child:hover {\n      cursor: pointer;\n      background-color: #7f7f7f; }\n  .igv-generic-dialog-container .igv-generic-dialog-ok {\n    width: 100%;\n    height: 36px;\n    margin-top: 32px;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    align-items: center; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div {\n      width: 98px;\n      height: 36px;\n      line-height: 36px;\n      text-align: center;\n      color: white;\n      font-family: "Open Sans", sans-serif;\n      font-size: medium;\n      font-weight: 400;\n      border-color: white;\n      border-style: solid;\n      border-width: thin;\n      border-radius: 4px;\n      background-color: #2B81AF; }\n    .igv-generic-dialog-container .igv-generic-dialog-ok div:hover {\n      cursor: pointer;\n      background-color: #25597f; }\n\n.igv-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 128px;\n  z-index: 4096;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background-color: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: none; }\n\n.igv-popover-header {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee; }\n  .igv-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-popover-track-popup-content {\n  position: relative;\n  top: 0;\n  left: 0;\n  max-height: 384px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background-color: white; }\n  .igv-popover-track-popup-content div {\n    margin-left: 4px;\n    background-color: white; }\n  .igv-popover-track-popup-content div:hover {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-popover-name-value {\n  cursor: default;\n  text-wrap: none;\n  white-space: nowrap;\n  max-width: 384px; }\n\n.igv-popover-name {\n  font-weight: bold;\n  padding-right: 4px;\n  float: left; }\n\n.igv-popover-value {\n  padding-left: 4px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: 256px;\n  display: inline-block; }\n\n.igv-trackgear-container {\n  position: relative;\n  width: 20px;\n  height: 20px;\n  margin-left: 4px;\n  color: #7F7F7F; }\n\n.igv-trackgear-container:hover {\n  cursor: pointer;\n  color: #444; }\n\n.igv-trackgear-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 132px;\n  z-index: 4096;\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  color: #4b4b4b;\n  background: white;\n  border-radius: 4px;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: flex-end;\n  text-align: left; }\n  .igv-trackgear-popover > div:not(:first-child) {\n    width: 100%; }\n    .igv-trackgear-popover > div:not(:first-child) > div {\n      background: white; }\n    .igv-trackgear-popover > div:not(:first-child) > div:last-child {\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      border-bottom-color: transparent;\n      border-bottom-style: solid;\n      border-bottom-width: thin; }\n    .igv-trackgear-popover > div:not(:first-child) > div:hover {\n      background: #efefef; }\n\n.igv-trackgear-popover-shim {\n  padding-left: 8px;\n  padding-right: 8px; }\n\n.igv-trackgear-popover-header {\n  position: relative;\n  width: 100%;\n  height: 24px;\n  cursor: move;\n  border-top-color: transparent;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  border-bottom-color: #7F7F7F;\n  border-bottom-style: solid;\n  border-bottom-width: thin;\n  background-color: #eee;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center; }\n  .igv-trackgear-popover-header div {\n    margin-right: 4px;\n    height: 12px;\n    width: 12px;\n    color: #7F7F7F; }\n  .igv-trackgear-popover-header div:hover {\n    cursor: pointer;\n    color: #444; }\n\n.igv-trackgear-popover-check-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  height: 20px;\n  background-color: transparent; }\n  .igv-trackgear-popover-check-container div {\n    padding-top: 2px;\n    padding-left: 8px; }\n  .igv-trackgear-popover-check-container div:first-child {\n    position: relative;\n    width: 12px;\n    height: 12px; }\n    .igv-trackgear-popover-check-container div:first-child svg {\n      position: absolute;\n      width: 12px;\n      height: 12px; }\n\n.igvControlDiv {\n  position: relative; }\n\n.igv-content-header {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: 10px;\n  height: 16px;\n  width: 100%; }\n  .igv-content-header .igv-ideogram-shim {\n    height: 100%;\n    width: 50px;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content {\n    height: 100%;\n    background-color: white; }\n  .igv-content-header .igv-ideogram-content-border-right {\n    border-right-color: #292929;\n    border-right-style: solid;\n    border-right-width: 1px; }\n\n.igv-multi-locus-panel-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 1px;\n  background-color: green;\n  border-right-color: #ff0000;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-navbar {\n  position: relative;\n  padding-left: 8px;\n  padding-right: 8px;\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  color: #444;\n  font-size: 12px;\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n  line-height: 32px;\n  margin-top: 2px;\n  margin-bottom: 4px;\n  height: 32px;\n  border-style: solid;\n  border-radius: 3px;\n  border-width: thin;\n  border-color: #bfbfbf;\n  background-color: #f3f3f3; }\n\n.igv-nav-bar-left-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-left-container .igv-logo {\n    width: 34px;\n    height: 32px;\n    margin-top: 6px;\n    margin-right: 8px; }\n  .igv-nav-bar-left-container .igv-current-genome {\n    height: 32px;\n    width: 40px;\n    margin-left: 4px;\n    margin-right: 4px;\n    user-select: none;\n    line-height: 32px;\n    vertical-align: middle;\n    text-align: center; }\n\n.igv-nav-bar-genomic-location {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 100%; }\n\n.igv-chromosome-select-widget-container {\n  height: 100%;\n  width: 125px;\n  margin-right: 4px;\n  display: flex;\n  flex-flow: column;\n  flex-wrap: nowrap;\n  justify-content: space-around;\n  align-items: center; }\n  .igv-chromosome-select-widget-container select {\n    display: block;\n    cursor: pointer;\n    width: 100px;\n    height: 75%;\n    outline: none;\n    font-size: 12px;\n    font-family: "Open Sans", sans-serif;\n    font-weight: 400; }\n\n.igv-locus-size-group {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-left: 8px;\n  height: calc(32px - 10px); }\n  .igv-locus-size-group .igv-search-container {\n    width: 200px;\n    height: calc(32px - 10px);\n    line-height: calc(32px - 10px);\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: center; }\n    .igv-locus-size-group .igv-search-container input {\n      cursor: text;\n      width: 85%;\n      height: calc(32px - 10px);\n      line-height: calc(32px - 10px);\n      font-size: 12px;\n      font-family: "Open Sans", sans-serif;\n      font-weight: 400;\n      text-align: left;\n      padding-left: 8px;\n      margin-right: 8px;\n      outline: none;\n      border-style: solid;\n      border-radius: 3px;\n      border-width: thin;\n      border-color: #bfbfbf;\n      background-color: white; }\n    .igv-locus-size-group .igv-search-container div {\n      cursor: pointer;\n      height: 16px;\n      width: 16px; }\n  .igv-locus-size-group .igv-windowsizepanel-content-div {\n    margin-left: 4px;\n    user-select: none; }\n\n.igv-nav-bar-right-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  line-height: 32px; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container {\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    align-items: center;\n    height: 100%; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div {\n      margin-left: 0;\n      margin-right: 4px; }\n    .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container div:last-child {\n      margin-left: 0;\n      margin-right: 0; }\n  .igv-nav-bar-right-container .igv-nav-bar-toggle-button-container-750 {\n    display: none; }\n  .igv-nav-bar-right-container .igv-zoom-widget {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget div:nth-child(even) {\n      display: block;\n      height: fit-content; }\n    .igv-nav-bar-right-container .igv-zoom-widget input {\n      display: block;\n      width: 125px; }\n    .igv-nav-bar-right-container .igv-zoom-widget svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-900 {\n    color: #737373;\n    font-size: 18px;\n    height: 32px;\n    line-height: 32px;\n    margin-left: 8px;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div {\n      cursor: pointer;\n      margin-left: unset;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:first-child {\n      height: 24px;\n      width: 24px;\n      margin-left: unset;\n      margin-right: 8px; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:last-child {\n      height: 24px;\n      width: 24px;\n      margin-left: 8px;\n      margin-right: unset; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 div:nth-child(even) {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 input {\n      width: 0;\n      height: 0;\n      display: none; }\n    .igv-nav-bar-right-container .igv-zoom-widget-900 svg {\n      display: block; }\n  .igv-nav-bar-right-container .igv-zoom-widget-hidden {\n    display: none; }\n\n.igv-nav-bar-button {\n  box-sizing: unset;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 18px;\n  text-transform: capitalize;\n  user-select: none;\n  line-height: 18px;\n  text-align: center;\n  vertical-align: middle;\n  font-family: "Open Sans", sans-serif;\n  font-size: 11px;\n  font-weight: 200;\n  color: #737373;\n  background-color: #f3f3f3;\n  border-color: #737373;\n  border-style: solid;\n  border-width: thin;\n  border-radius: 6px; }\n\n.igv-nav-bar-button-clicked {\n  color: white;\n  background-color: #737373; }\n\n.igv-nav-bar-button:hover {\n  cursor: pointer; }\n\n.igv-logo-nonav {\n  margin-left: 4px;\n  margin-top: 12px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 34px;\n  height: 16px; }\n\n.igv-search-results {\n  position: absolute;\n  top: 32px;\n  left: 2px;\n  height: 320px;\n  width: 213px;\n  background-color: white;\n  border-color: #7F7F7F;\n  border-style: solid;\n  border-width: thin;\n  overflow-x: hidden;\n  overflow-y: auto;\n  z-index: 9999; }\n  .igv-search-results tr {\n    font-family: "Open Sans", sans-serif;\n    font-size: small;\n    font-weight: 400;\n    color: #444; }\n  .igv-search-results tr:hover,\n  .igv-search-results tr:focus,\n  .igv-search-results tr:active {\n    cursor: pointer;\n    font-weight: 700;\n    color: #141414; }\n\n.igv-root-div {\n  position: relative;\n  left: 0;\n  right: 0;\n  height: auto;\n  margin-left: 10px;\n  margin-right: 10px;\n  padding-top: 4px; }\n\n.igv-content-div {\n  position: relative;\n  width: 100%;\n  height: 100%; }\n\n.igv-track-container-div {\n  user-select: none;\n  position: relative;\n  clear: both; }\n\n.igv-track-div {\n  position: relative;\n  width: 100%;\n  margin-top: 5px;\n  margin-bottom: 5px; }\n\n.igv-viewport-container {\n  position: absolute;\n  left: 50px;\n  right: 50px;\n  height: 100%;\n  white-space: nowrap;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-div {\n  position: relative;\n  display: inline-block;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: hidden; }\n\n.igv-viewport-content-div {\n  position: absolute;\n  width: 100%; }\n\n.igv-viewport-message {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: rgba(0, 0, 0, 0.15);\n  font-family: "Open Sans", sans-serif;\n  font-size: 25px;\n  font-weight: bold;\n  user-select: none; }\n\n.igv-whole-genome-container {\n  display: flex;\n  flex-flow: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  background-color: white; }\n  .igv-whole-genome-container div {\n    font-family: "Open Sans", sans-serif;\n    font-size: 10px;\n    font-weight: 400;\n    color: #444;\n    height: 100%;\n    text-align: center;\n    border-right-color: #bfbfbf;\n    border-right-style: solid;\n    border-right-width: thin; }\n    .igv-whole-genome-container div span {\n      display: block;\n      padding-top: 6px;\n      text-overflow: ellipsis; }\n  .igv-whole-genome-container div:last-child {\n    border-right-color: transparent; }\n  .igv-whole-genome-container div:hover,\n  .igv-whole-genome-container div:focus,\n  .igv-whole-genome-container div:active {\n    cursor: pointer;\n    background-color: #efefef; }\n\n.igv-viewport-div-border-right {\n  border-right-color: #292929;\n  border-right-style: solid;\n  border-right-width: 1px; }\n\n.igv-multi-locus-panel-close-container {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  width: 16px;\n  height: 16px;\n  color: #666666;\n  z-index: 1000; }\n\n.igv-multi-locus-panel-close-container:hover {\n  cursor: pointer;\n  color: #434343; }\n\n.igv-multi-locus-panel-label-div {\n  position: absolute;\n  left: 50%;\n  top: 25%;\n  transform: translate(-50%, -25%);\n  font-family: "Open Sans", sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  text-align: center;\n  min-width: 16px;\n  z-index: 64;\n  color: #373737;\n  background-color: white;\n  padding: 1px; }\n\n.igv-multi-locus-panel-label-div:hover {\n  cursor: pointer; }\n\n.igv-viewport-ruler {\n  cursor: pointer;\n  font-family: "Open Sans", sans-serif;\n  font-size: 10px;\n  font-weight: 200;\n  text-align: center; }\n  .igv-viewport-ruler > div {\n    height: 100%; }\n\n.igv-viewport-sequence {\n  font-family: "Open Sans", sans-serif;\n  font-size: 8px;\n  font-weight: 200;\n  text-align: center; }\n\n.igv-viewport-spinner {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-track-container-spinner {\n  position: absolute;\n  top: 90%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1024;\n  width: 24px;\n  height: 24px;\n  pointer-events: none;\n  color: #737373; }\n\n.igv-ruler-sweeper-div {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 100%;\n  z-index: 99999;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-right-hand-gutter {\n  position: absolute;\n  right: 0;\n  width: 36px;\n  height: 100%;\n  background: white; }\n\n.igv-left-hand-gutter {\n  position: absolute;\n  left: 0;\n  width: 50px;\n  height: 100%; }\n  .igv-left-hand-gutter canvas {\n    position: absolute; }\n\n.igv-track-menu-border-top {\n  border-top-color: #a2a2a2;\n  border-top-style: solid;\n  border-top-width: thin; }\n\n.igv-track-menu-category {\n  padding-left: 4px;\n  font-weight: 400; }\n\n.igv-track-drag-scrim {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 256;\n  background-color: rgba(68, 134, 247, 0.25); }\n\n.igv-track-manipulation-handle {\n  cursor: pointer;\n  position: absolute;\n  right: 36px;\n  width: 12px;\n  margin-left: 2px;\n  height: 100%;\n  box-sizing: border-box;\n  font-size: medium;\n  border-color: #c4c4c4;\n  border-style: solid;\n  border-width: thin;\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n  z-index: 512;\n  background-color: #c4c4c4; }\n\n.igv-track-manipulation-handle:hover,\n.igv-track-manipulation-handle:focus,\n.igv-track-manipulation-handle:active {\n  border-color: #7e7e7e;\n  background-color: #7e7e7e; }\n\n.igv-track-label {\n  position: absolute;\n  left: 8px;\n  top: 4px;\n  width: auto;\n  height: auto;\n  max-width: 200px;\n  padding-left: 4px;\n  padding-right: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-family: "Open Sans", sans-serif;\n  font-size: small;\n  font-weight: 400;\n  text-align: center;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: white;\n  z-index: 128;\n  cursor: pointer; }\n\n.igv-track-label:hover,\n.igv-track-label:focus,\n.igv-track-label:active {\n  background-color: rgba(0, 0, 0, 0.05); }\n\n.igv-scrollbar-outer-div {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 14px;\n  height: 100%;\n  background-color: white; }\n  .igv-scrollbar-outer-div div {\n    position: absolute;\n    top: 0;\n    left: 3px;\n    width: 8px;\n    border-style: solid;\n    border-width: thin;\n    border-color: #c4c4c4;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    background-color: white; }\n  .igv-scrollbar-outer-div div:hover,\n  .igv-scrollbar-outer-div div:focus,\n  .igv-scrollbar-outer-div div:active {\n    cursor: pointer;\n    background-color: #c4c4c4; }\n\n.zoom-in-notice-container {\n  position: absolute;\n  top: 10px;\n  left: 50%; }\n  .zoom-in-notice-container div {\n    position: relative;\n    left: -50%;\n    font-family: "Open Sans", sans-serif;\n    font-size: medium;\n    font-weight: 400;\n    color: #3f3f3f;\n    background-color: rgba(255, 255, 255, 0.51);\n    z-index: 64; }\n\n.igv-center-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 8px;\n  z-index: 8;\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  border-left-style: dashed;\n  border-left-width: thin;\n  border-right-style: dashed;\n  border-right-width: thin; }\n\n.igv-center-guide-wide {\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(127, 127, 127, 0.51); }\n\n.igv-center-guide-thin {\n  left: 50%;\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0);\n  border-left-color: rgba(127, 127, 127, 0.51);\n  border-right-color: rgba(0, 0, 0, 0);\n  /*background-color: rgba(127, 127, 127, 0.51);*/\n  /*border-left-color: rgba(0,0,0,0);*/\n  /*border-right-color: rgba(0,0,0,0);*/ }\n\n.igv-cursor-tracking-guide {\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 50%;\n  width: 1px;\n  z-index: 1;\n  border-left-style: dotted;\n  border-left-width: thin;\n  border-left-color: rgba(127, 127, 127, 0.76);\n  display: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none; }\n\n.igv-clickable {\n  cursor: pointer;\n  background-color: white; }\n\n#color-by-tag {\n  color: #444; }\n\n#color-by-tag:hover,\n#color-by-tag:focus,\n#color-by-tag:active {\n  cursor: pointer;\n  padding-left: 2px;\n  padding-right: 2px;\n  color: white;\n  border-color: #444;\n  border-radius: 2px;\n  border-style: solid;\n  border-width: thin;\n  background-color: #7f7f7f; }\n\n.igv-ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis; }\n\n.igv-spinner-container {\n  color: #3f3f3f;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  padding-top: 8px;\n  font-size: 24px;\n  z-index: 512; }\n\n.igv-fa-check-visible {\n  color: inherit;\n  padding-right: 2px; }\n\n.igv-fa-check-hidden {\n  color: transparent;\n  padding-right: 2px; }\n\n.validateTips {\n  border: 1px solid transparent;\n  padding: 0.3em; }\n  .validateTips fieldset {\n    border: 0; }\n\n.igv-spacer-10 {\n  height: 10px;\n  width: 100%;\n  font-size: 0;\n  margin: 0;\n  padding: 0;\n  border: 0;\n  display: block; }\n\n.igv-fa5-spin {\n  -webkit-animation: igv-fa5-spin 2s infinite linear;\n  animation: igv-fa5-spin 2s infinite linear; }\n\n@-webkit-keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n@keyframes igv-fa5-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n/*# sourceMappingURL=igv.css.map */\n',document.head.insertBefore(ac,document.head.childNodes[document.head.childNodes.length-1]),{createBrowser:function(e,t){return tc.apply(this,arguments)},removeBrowser:function(t){t.dispose(),t.$root.remove(),ec=ec.filter(function(e){return e!==t}),"undefined"!=typeof igv&&t===igv.browser&&(igv.browser=e)},visibilityChange:function(){ec.forEach(function(e){e.visibilityChange()})},setGoogleOauthToken:function(e){return pr.setToken(e)},oauth:pr,version:function(){return"2.3.5 (0a465785d1426006ff85555f7972ddee0a22ff18)"},download:Jn,getBrowser:function(){return ec[0]},doAutoscale:er,graphics:cc,createTrack:function(e,t){return Nl.prototype.createTrack.call(t,e)},getFilename:vr,getExtension:function(t){if(e===t.url)return e;var n=(br(t.url)?t.url.name:t.url).toLowerCase(),r=n.indexOf("?");return r>0&&(n=n.substr(0,r)),n.endsWith(".gz")?n=n.substr(0,n.length-3):(n.endsWith(".txt")||n.endsWith(".tab")||n.endsWith(".bgz"))&&(n=n.substr(0,n.length-4)),(r=n.lastIndexOf("."))<0?n:n.substr(1+r)},isFilePath:br,inferFileFormat:Ho,inferTrackTypes:Vo,knownFileExtensions:zo,appendRightHandGutter:function(e){Io.prototype.appendRightHandGutter.call(this,e)},attachDialogCloseHandlerWithParent:zn,guid:Wn,pageCoordinates:Un,translateMouseCoordinates:qn,createIcon:En,GtexUtils:Ta,xhr:sc,Color:lc,splitLines:qr,isString:Hr,numberFormatter:Ur,getDataWrapper:jo,setApiKey:function(e){return cr.setApiKey(e)},createColorSwatchSelector:Vn,makeDraggable:Cn,GenericContainer:Po,Popover:$n,AlertDialog:Tr,InputDialog:Bl,TrackRemovalDialog:Hl,DataRangeDialog:zl,MenuUtils:kn,Alert:Ar,google:cr}},"object"==c(t)&&void 0!==e?e.exports=l():void 0===(s="function"==typeof(a=l)?a.call(t,n,t,e):a)||(e.exports=s)}).call(this,n(118),n(255).Buffer,n(60))},function(e,t,n){"use strict";var r=n(0),o=n(5),i=n(11),a=n(92),s=n(28),l=n.n(s),c=n(4),u=n(743),p=n(603),h=n(116),d=n.n(h),f=n(25);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=y(this,g(t).apply(this,arguments))).downloading=!1,e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement(c.c,{overlay:r.createElement("span",null,"Download a copy number segment file for the selected samples"),placement:this.props.tooltipPlacement},r.createElement(a.Button,{className:this.props.buttonClassName,onClick:this.handleDownload,disabled:this.downloading},r.createElement("i",{className:l()({fa:!0,"fa-cloud-download":!this.downloading,"fa-spinner fa-pulse":this.downloading})})))}},{key:"handleDownload",value:function(){var e=this;this.downloading=!0,Object(p.a)(this.props.promise,function(t){d()(Object(u.e)(t),e.props.filename),e.downloading=!1})}}])&&m(n.prototype,o),i&&m(n,i),t}();w.defaultProps={filename:"segments.seg",buttonClassName:"btn btn-sm pull-right",tooltipPlacement:"left"},S([o.observable],w.prototype,"downloading",void 0),S([f.a],w.prototype,"handleDownload",null),w=S([i.observer],w),t.a=w},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__voGSg",framedImage:"styles-module__framedImage__1XH6x",container:"styles-module__container__16NQq","items-container":"styles-module__items-container__2byHQ","fa-check":"styles-module__fa-check__l2mEf","fa-exclamation-triangle":"styles-module__fa-exclamation-triangle__1RHoj","not-invoked-item":"styles-module__not-invoked-item__2JY4J","item-row":"styles-module__item-row__2FhJM","pulse-spinner":"styles-module__pulse-spinner__16rgL"}},function(e,t,n){"use strict";t.__esModule=!0,t.RootCloseWrapper=t.Transition=t.Position=t.Portal=t.Overlay=t.Modal=t.AutoAffix=t.Affix=void 0;var r=p(n(797)),o=p(n(895)),i=p(n(898)),a=p(n(899)),s=p(n(900)),l=p(n(901)),c=p(n(902)),u=p(n(903));function p(e){return e&&e.__esModule?e:{default:e}}t.Affix=r.default,t.AutoAffix=o.default,t.Modal=i.default,t.Overlay=a.default,t.Portal=s.default,t.Position=l.default,t.Transition=c.default,t.RootCloseWrapper=u.default},function(e,t,n){"use strict";var r=n(744);t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,o.default)(e).height};var o=r(n(745)),i=r(n(889));e.exports=t.default},function(e,t,n){e.exports=n(15)(247)},function(e,t,n){e.exports=n(15)(895)},function(e,t,n){e.exports=n(15)(487)},function(e,t,n){e.exports=n(15)(115)},function(e,t,n){"use strict";var r=n(744);t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e);return t&&t.defaultView||t.parentWindow};var o=r(n(894));e.exports=t.default},function(e,t,n){e.exports=n(15)(154)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=m(n(745)),i=m(n(798)),a=m(n(1)),s=m(n(896)),l=m(n(0)),c=m(n(797)),u=m(n(799)),p=m(n(897)),h=m(n(800)),d=m(n(801)),f=m(n(802));function m(e){return e&&e.__esModule?e:{default:e}}var y=r({},c.default.propTypes,{container:a.default.oneOfType([s.default,a.default.func]),autoWidth:a.default.bool}),g=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return a.onWindowScroll=function(){a.onUpdate()},a.onWindowResize=function(){a.props.autoWidth&&(0,i.default)(function(){return a.onUpdate()})},a.onDocumentClick=function(){(0,i.default)(function(){return a.onUpdate()})},a.onUpdate=function(){if(a._isMounted){var e=(0,o.default)(a.positioner),t=e.top,n=e.width,r=(0,p.default)(a.props.container),i=void 0;if(r){var s=(0,h.default)((0,d.default)(a)),l=(0,o.default)(r);i=s-l.top-l.height}else i=null;a.updateState(t,i,n)}},a.updateState=function(e,t,n){e===a.state.offsetTop&&t===a.state.offsetBottom&&n===a.state.width||a.setState({offsetTop:e,offsetBottom:t,width:n})},a.state={offsetTop:null,offsetBottom:null,width:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,u.default)((0,f.default)(this),"scroll",function(){return e.onWindowScroll()}),this._windowResizeListener=(0,u.default)((0,f.default)(this),"resize",function(){return e.onWindowResize()}),this._documentClickListener=(0,u.default)((0,d.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},t.prototype.render=function(){var e=this,t=this.props,n=t.autoWidth,o=t.viewportOffsetTop,i=t.children,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["autoWidth","viewportOffsetTop","children"]),s=this.state,u=s.offsetTop,p=s.offsetBottom,h=s.width;delete a.container;var d=Math.max(u,o||0),f=this.props,m=f.affixStyle,y=f.bottomStyle;return n&&(m=r({width:h},m),y=r({width:h},y)),l.default.createElement("div",null,l.default.createElement("div",{ref:function(t){e.positioner=t}}),l.default.createElement(c.default,r({},a,{offsetTop:d,viewportOffsetTop:o,offsetBottom:p,affixStyle:m,bottomStyle:y}),i))},t}(l.default.Component);g.displayName="AutoAffix",g.propTypes=y,g.defaultProps={viewportOffsetTop:0,autoWidth:!0},t.default=g,e.exports=t.default},function(e,t,n){e.exports=n(15)(246)},function(e,t,n){e.exports=n(15)(248)},function(e,t,n){e.exports=n(15)(197)},function(e,t,n){e.exports=n(15)(431)},function(e,t,n){e.exports=n(15)(483)},function(e,t,n){e.exports=n(15)(891)},function(e,t,n){e.exports=n(15)(327)},function(e,t,n){e.exports=n(15)(421)},function(e,t,n){},function(e,t,n){e.exports=n(15)(833)},,function(e,t,n){e.exports=n(15)(200)},function(e,t,n){e.exports=n(15)(419)},,function(e,t,n){e.exports=n(15)(202)},function(e,t,n){e.exports=n(15)(845)},function(e,t,n){e.exports=n(15)(243)},function(e,t,n){e.exports=n(15)(873)},function(e,t,n){e.exports=n(15)(874)},function(e,t,n){e.exports=n(15)(451)},function(e,t,n){e.exports=n(15)(832)},function(e,t,n){e.exports=n(15)(448)},,function(e,t,n){e.exports=n(15)(165)},function(e,t,n){e.exports=n(15)(368)},function(e,t,n){e.exports=n(15)(878)},function(e,t,n){e.exports=n(15)(151)},function(e,t,n){e.exports=n(15)(456)},function(e,t,n){e.exports=n(15)(204)},,function(e,t,n){e.exports=n.p+"reactapp/images/ac30afc0653ff15c1ea9fd9cbae0414a.png"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="},function(e,t,n){"use strict";(function(e){var r=n(7),o=n(0),i=n(17),a=n.n(i),s=n(626),l=n(580),c=n(28),u=n.n(c),p=n(994),h=n(11),d=n(5),f=n(95),m=n.n(f),y=n(20),g=n(629),v=n(92),b=n(939),S=n.n(b),w=n(3),C=n(25),_=n(677),k=n(946),T=n(814),x=n(566);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":M(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=l,N=function(t){function n(e){var t,i=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=O(this,P(n).call(this,e))).handlers={onSummaryClick:function(){t.store.openSummary()},onCheckAllFiltered:function(){t.logic.mainView.toggleAllFiltered()},onClearFilter:function(){t.store.setSearchText("")}},t.CancerTypeList=Object(h.observer)(function(){var e=t.logic.cancerTypeListView.getChildCancerTypes(t.store.treeData.rootCancerType);return o.createElement("ul",{className:L.cancerTypeList},e.map(function(e,t){return o.createElement(i.CancerTypeListItem,{key:t,cancerType:e})}))}),t.CancerTypeListItem=Object(h.observer)(function(e){var n,i=e.cancerType,a=Object(d.expr)(function(){return t.logic.cancerTypeListView.getDescendantCancerStudies(i).length}),s=r.includes(t.store.selectedCancerTypeIds,i.cancerTypeId),l=t.logic.isHighlighted(i),c=u()((E(n={},L.cancerTypeListItem,!0),E(n,L.selectable,!0),E(n,L.selected,s),E(n,L.matchingNodeText,!!t.store.searchText&&l),E(n,L.nonMatchingNodeText,!!t.store.searchText&&!l),E(n,L.containsSelectedStudies,Object(d.expr)(function(){return t.logic.cancerTypeContainsSelectedStudies(i)})),n));return o.createElement("li",{className:c,onMouseDown:t.getCancerTypeListClickHandler(i)},o.createElement("span",{className:L.cancerTypeListItemLabel},i.name),o.createElement("span",{className:L.cancerTypeListItemCount},a))}),t.store=t.props.queryStore,t}var i,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,o["Component"]),i=n,(l=[{key:"getCancerTypeListClickHandler",value:function(e){var t=this;return function(n){return t.store.selectCancerType(e,n.ctrlKey)}}},{key:"selectTCGAPanAtlas",value:function(){this.logic.mainView.selectAllMatchingStudies(_.a)}},{key:"selectMatchingStudies",value:function(e){e&&(1===e.length&&/^\*.*\*$/.test(e[0])?this.logic.mainView.selectAllMatchingStudies(e[0].replace(/\*/g,"")):this.logic.mainView.selectAllMatchingStudies(e))}},{key:"componentDidMount",value:function(){var e,t=this;this.windowSizeDisposer=Object(d.reaction)(function(){return x.a.size},function(){t.props.forkedMode&&(clearTimeout(e),e=setTimeout(function(){return t.setListHeight()},200))},{fireImmediately:!0})}},{key:"componentWillUnmount",value:function(){this.windowSizeDisposer()}},{key:"setListHeight",value:function(){var t=e(a.a.findDOMNode(this)),n=x.a.size.height-t.offset().top;n=n<200?200:n,t.css("height",n-75)}},{key:"render",value:function(){var e=this,t=this.logic.mainView.getSelectionReport(),n=t.shownStudies,i=t.shownAndSelectedStudies,a=this.logic.mainView.quickSelectButtons(w.b.serverConfig.skin_quick_select_buttons);return o.createElement(s.a,{overflow:!0,"data-test":"studyList",className:L.CancerStudySelector},o.createElement(s.b,{overflow:!0,className:L.CancerStudySelectorHeader},o.createElement(g.a,{promises:[this.store.cancerTypes,this.store.cancerStudies]},"Select Studies for Visualization & Analysis:"),this.store.selectableStudiesSet.isComplete&&o.createElement("div",null,o.createElement(T.a,{store:this.store})),o.createElement(h.Observer,null,function(){var t=w.a.skin_example_study_queries(w.b.serverConfig.skin_example_study_queries||"");e.store.searchText&&t.indexOf(e.store.searchText)<0&&(t=[e.store.searchText].concat(t));var n=null,r=t.map(function(e,t){return{value:e,sortKey:t}});return o.createElement("div",{style:{display:"flex",alignItems:"center"}},e.store.searchText&&o.createElement("span",{"data-test":"clearStudyFilter",onClick:function(t){e.autosuggest.setState({inputValue:""}),e.handlers.onClearFilter()},style:{fontSize:18,cursor:"pointer",color:"#999999",position:"relative",left:164,zIndex:10}},"x"),o.createElement(S.a,{datalist:r,ref:function(t){return e.autosuggest=t},placeholder:"Search...",bsSize:"small",onChange:function(t){null!==n&&(window.clearTimeout(n),n=null),n=window.setTimeout(function(){e.store.setSearchText(t)},400)},onFocus:function(t){0===t.length&&setTimeout(function(){e.autosuggest.setState({open:!0})},400)}}))})),o.createElement(y.If,{condition:this.studiesDataComplete},o.createElement(s.b,{className:L.cancerStudySelectorBody},o.createElement(y.If,{condition:this.store.maxTreeDepth>0},o.createElement(y.Then,null,o.createElement("div",{className:L.cancerTypeListContainer},o.createElement(this.CancerTypeList,null)))),o.createElement("div",{className:L.cancerStudyListContainer,"data-test":"cancerTypeListContainer"},o.createElement("div",{className:"checkbox",style:{marginLeft:19}},o.createElement(y.If,{condition:n.length>0},o.createElement(y.If,{condition:!this.logic.mainView.isFiltered&&!r.isEmpty(a)},o.createElement(y.Then,null,o.createElement("div",{className:L.quickSelect},o.createElement(k.a,{onSelect:this.selectMatchingStudies,buttonsConfig:a}))),o.createElement(y.Else,null,o.createElement("label",null,o.createElement("input",{type:"checkbox","data-test":"selectAllStudies",style:{top:-2},onClick:this.handlers.onCheckAllFiltered,checked:i.length===n.length}),o.createElement("strong",null,i.length===n.length?"Deselect all listed studies ".concat(n.length<this.store.cancerStudies.result.length?"matching filter":""," (").concat(n.length,")"):"Select all listed studies ".concat(n.length<this.store.cancerStudies.result.length?"matching filter":"","  (").concat(n.length,")")))))),o.createElement(y.If,{condition:this.store.cancerStudies.isComplete&&this.store.cancerTypes.isComplete&&0===n.length},o.createElement("p",null,"There are no studies matching your filter."))),o.createElement(p.a,null)))),o.createElement(v.Modal,{className:u()(L.SelectedStudiesWindow,"cbioportal-frontend"),show:this.store.showSelectedStudiesOnly,onHide:function(){return e.store.showSelectedStudiesOnly=!1}},o.createElement(v.Modal.Header,{closeButton:!0},o.createElement(v.Modal.Title,null,"Selected Studies")),o.createElement(v.Modal.Body,null,o.createElement(p.a,{showSelectedStudiesOnly:!0}))))}},{key:"studiesDataComplete",get:function(){return this.store.cancerTypes.isComplete&&this.store.cancerStudies.isComplete&&this.store.userVirtualStudies.isComplete}},{key:"logic",get:function(){return this.store.studyListLogic}}])&&A(i.prototype,l),c&&A(i,c),n}();D([d.computed],N.prototype,"studiesDataComplete",null),D([m.a],N.prototype,"getCancerTypeListClickHandler",null),D([C.a,d.action],N.prototype,"selectTCGAPanAtlas",null),D([C.a,d.action],N.prototype,"selectMatchingStudies",null),N=D([h.observer],N),t.a=N}).call(this,n(9))},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3uFIJ",framedImage:"styles-module__framedImage__3chnD",padded:"styles-module__padded__3vpqj",column:"styles-module__column__2pa-R",row:"styles-module__row__3l99O"}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__agNQJ",framedImage:"styles-module__framedImage__JjRC-",selectAllStudies:"styles-module__selectAllStudies__2gWhF",SelectedStudyList:"styles-module__SelectedStudyList__27Hpt",StudyList:"styles-module__StudyList__2mxsz",deselectAll:"styles-module__deselectAll__26p-l",Level0:"styles-module__Level0__1RUPZ",Level1:"styles-module__Level1__2R0IW",Level3:"styles-module__Level3__1vXaT",Level4:"styles-module__Level4__3ZJ1g",Level2:"styles-module__Level2__3AEJ-",CancerType:"styles-module__CancerType__Zm_qX",Study:"styles-module__Study__398QL",indentArrow:"styles-module__indentArrow__32udx",SelectAll:"styles-module__SelectAll__3SSsJ",StudyName:"styles-module__StudyName__3IA_4",DeletedStudy:"styles-module__DeletedStudy__2axOg",StudySamples:"styles-module__StudySamples__3_cjf",StudyMeta:"styles-module__StudyMeta__3UFnp",StudyLinks:"styles-module__StudyLinks__cMCHs",summaryIcon:"styles-module__summaryIcon__WR75I",iconWithTooltip:"styles-module__iconWithTooltip__2yBW3",icon:"styles-module__icon__1ZBlQ",trashIcon:"styles-module__trashIcon__1z-wJ",infoCircleIcon:"styles-module__infoCircleIcon__27xSR",tooltip:"styles-module__tooltip__b54B6",fadein:"styles-module__fadein__2G2-B"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(932);var r=n(933);t.JsonToTable=r.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(934);t.default=r.default},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);n(935);var a=n(810),s=n(810),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.renderObject=function(e,t,n){var o,l=[];switch(t&&l.push(r.renderRowHeader(t)),s.default.getObjectType(e)){case a.JSONObjectType.ObjectWithNonNumericKeys:o=t?i.createElement("table",{key:"__j2t_tableObj"+n},i.createElement("tbody",{key:"__j2t_bObj"+n},r.renderRows(e))):r.renderRows(e);break;case a.JSONObjectType.Array:o=t?i.createElement("table",{key:"__j2t_tableArr"+n},i.createElement("tbody",{key:"__j2t_bArr"+n},r.parseArray(e))):r.parseArray(e)}l.push(o);var c=l.map(function(e){return e});return t?i.createElement("tr",{key:"__j2t_trObj"+n},r.renderCell({content:c,colspan:2})):c},r.renderCell=function(e){var t=e.content,n=e.colspan,r=e.isHeader?i.createElement("strong",null,t):t;return i.createElement("td",{colSpan:n||0,key:"__j2t_trObj"+r},r)},r.renderHeader=function(e){return i.createElement("tr",{key:"__j2t_trHeader"},e.map(function(e){return r.renderCell({content:e})}))},r.renderValues=function(e){return i.createElement("tr",{key:"__j2t_trArrString"},e.map(function(e){return r.renderCell({content:e})}))},r.renderRowValues=function(e,t){return e.map(function(e,n){return i.createElement("tr",{key:"__j2t_Arr"+n.toString()},t.map(function(t){return s.default.getObjectType(t)===a.JSONObjectType.Primitive?r.renderCell({content:e[t]}):r.renderObject(e[t],t,n)}))})},r.parseArray=function(e){var t=[],n=s.default.getUniqueObjectKeys(e);return"number"!==s.default.checkLabelTypes(n.labels)?(t.push(r.renderHeader(n.labels)),t.push(r.renderRowValues(e,n.labels))):t.push(r.renderValues(e)),t},r.renderRow=function(e,t,n){return i.createElement("tr",{key:"__j2t_tr"+n},i.createElement("td",{key:"__j2t_tdk"+n},i.createElement("strong",null,e)),i.createElement("td",{key:"__j2t_tdv"+n},t))},r.renderRowHeader=function(e){return i.createElement("div",{key:"__j2t_rw"+e},i.createElement("strong",null,e))},r.renderRows=function(e,t){return Object.keys(e).map(function(t,n){var o=e[t];return s.default.getObjectType(o)===a.JSONObjectType.Primitive?r.renderRow(t,o,n):r.renderObject(o,t,n)})},r}return o(t,e),t.prototype.render=function(){return i.createElement("div",{className:"json-to-table"},i.createElement("table",{key:"__j2t_root_table"},i.createElement("tbody",{key:"__j2t_root_tbody"},this.renderObject(this.props.json,void 0,0))))},t}(i.Component);t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1fCuf",framedImage:"styles-module__framedImage__1w-Q4",SectionHeader:"styles-module__SectionHeader__3RwOA",error:"styles-module__error__1QyPg"}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3FkcF",framedImage:"styles-module__framedImage__Jd87U",error:"styles-module__error__19z3B",icon:"styles-module__icon__1tBLC"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectListAdapter=t.MapListAdapter=t.ArrayListAdapter=t.EmptyListAdapter=t.ListAdapter=t.ItemAdapter=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=w(n(28)),a=w(n(749)),s=w(n(811)),l=w(n(1)),c=w(n(0)),u=n(92),p=w(n(17)),h=w(n(52)),d=w(n(940)),f=w(n(941)),m=w(n(812)),y=w(n(718)),g=w(n(942)),v=w(n(943)),b=w(n(944)),S=w(n(945));function w(e){return e&&e.__esModule?e:{default:e}}function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.ItemAdapter=m.default,t.ListAdapter=y.default,t.EmptyListAdapter=g.default,t.ArrayListAdapter=v.default,t.MapListAdapter=b.default,t.ObjectListAdapter=S.default;var _=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(C(o))));a._itemAdapter=e.itemAdapter||new m.default,a._itemAdapter.receiveProps(e),a._listAdapter=e.datalistAdapter||a._getListAdapter(e.datalist),a._listAdapter.receiveProps(e,a._itemAdapter);var s=a._getValueFromProps(e),l=s.inputValue,c=s.inputItem,u=s.inputItemEphemeral,p=s.selectedItems;a._setValueMeta(c,u,!0,!0),a._lastValidItem=c,a._lastValidValue=l,a._keyPressCount=0,a.state={open:!1,disableFilter:!1,inputValue:l,inputValueKeyPress:0,inputFocused:!1,selectedItems:p,searchValue:null},a._lastOnChangeValue=a._getCurrentValue(),a._lastOnSelectValue=c;var h=a;return h._renderSelected=a._renderSelected.bind(a),h._getItemKey=a._getItemKey.bind(a),h._isSelectedItem=a._isSelectedItem.bind(a),h._renderSuggested=a._renderSuggested.bind(a),h._handleToggleClick=a._handleToggleClick.bind(a),h._handleInputChange=a._handleInputChange.bind(a),h._handleItemSelect=a._handleItemSelect.bind(a),h._removeItem=a._removeItem.bind(a),h._handleShowAll=a._handleShowAll.bind(a),h._handleKeyDown=a._handleKeyDown.bind(a),h._handleKeyPress=a._handleKeyPress.bind(a),h._handleMenuClose=a._handleMenuClose.bind(a),h._handleInputFocus=a._handleInputFocus.bind(a),h._handleInputBlur=a._handleInputBlur.bind(a),h._handleFocus=a._handleFocus.bind(a),h._handleBlur=a._handleBlur.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["default"].Component),o(t,null,[{key:"defaultInputSelect",value:function(e,t,n){switch(e.type){case"text":case"search":case"url":case"tel":case"password":if(e.setSelectionRange)e.setSelectionRange(t.length,n.length);else if(e.createTextRange){var r=e.createTextRange();r.moveEnd("character",n.length),r.moveStart("character",t.length),r.select()}}}}]),o(t,[{key:"_getListAdapter",value:function(e){if(null==e)return new g.default;if(Array.isArray(e))return new v.default;if(e instanceof Map)return new b.default;if("object"==typeof e)return new S.default;throw Error("Unexpected datalist type: datalistAdapter required")}},{key:"_getValueFromProps",value:function(e){var t="",n=null,r=!1,o=[],i=e.value||e.defaultValue;if(null!=i)if(e.multiple)Array.isArray(i)?o=this._filterItems(i,e):(0,h.default)(!i,"Array expected for value property");else if(e.valueIsItem){var a=this._itemAdapter.getInputValue(i);null!=e.datalist?null!=(n=this._listAdapter.findMatching(e.datalist,a))?t=n===i?a:this._itemAdapter.getInputValue(n):e.datalistOnly&&!e.datalistPartial?this._warnInvalidValue(i):(t=a,n=i):(t=a,n=i)}else i&&(null!=e.datalist?null!=(n=this._listAdapter.findMatching(e.datalist,i))?t=this._itemAdapter.getInputValue(n):e.datalistOnly&&!e.datalistPartial?this._warnInvalidValue(i):(t=i.toString(),n=this._itemAdapter.newFromValue(i),r=!0):(t=i.toString(),n=this._itemAdapter.newFromValue(i),r=!0));return{inputValue:t,inputItem:n,inputItemEphemeral:r,selectedItems:o}}},{key:"_filterItems",value:function(e,t){if(null!=t.datalist||!t.allowDuplicates){var n=[],r={},o=!1,i=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,p=this._itemAdapter.getInputValue(u);if(t.allowDuplicates||!r[p]){var h=this._listAdapter.findMatching(t.datalist,p);null!=h?(n.push(h),r[p]=!0,o=!0):t.datalistOnly&&!t.datalistPartial?(this._warnInvalidValue(p),o=!0):(n.push(u),r[p]=!0)}else o=!0}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}if(o)return n}return e}},{key:"_warnInvalidValue",value:function(e){(0,h.default)(!1,'Value "%s" does not match any datalist value',e)}},{key:"_setInputValue",value:function(e,t){this.setState({inputValue:e,inputValueKeyPress:this._keyPressCount},t)}},{key:"_setValueMeta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!=e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;this._inputItem=e,this._inputItemEphemeral=t,this._valueIsValid=n,this._valueWasValidated=r}},{key:"_clearInput",value:function(){this._setValueMeta(null,!1,!0,!0),this._setInputValue("")}},{key:"_getValueUsing",value:function(e,t,n,r){return e.multiple?r:e.valueIsItem?n:t}},{key:"_getCurrentValue",value:function(){return this._getValueUsing(this.props,this.state.inputValue,this._inputItem,this.state.selectedItems)}},{key:"componentDidMount",value:function(){this._autoCompleteAfterRender=!this.refs.input.setSelectionRange}},{key:"componentWillReceiveProps",value:function(e){if(e.itemAdapter!=this.props.itemAdapter&&(this._itemAdapter=e.itemAdapter||new m.default),this._itemAdapter.receiveProps(e),e.datalist!=this.props.datalist||e.datalistAdapter!=this.props.datalistAdapter)if(e.datalistAdapter)this._listAdapter=e.datalistAdapter;else{var t=this._getListAdapter(e.datalist);t.constructor!=this._listAdapter.constructor&&(this._listAdapter=t)}this._listAdapter.receiveProps(e,this._itemAdapter);var n=e.value,r=this.state.inputValue,o=n!==this.props.value&&n!==this._getValueUsing(e,r,this._inputItem,this.state.selectedItems),i=void 0,a=void 0,s=void 0,l=void 0;if(!o){if(e.datalistOnly){var c=!e.datalistPartial&&null!=e.datalist,u=!this.props.datalistOnly||!e.datalistPartial&&this.props.datalistPartial||e.datalist!=this.props.datalist;r?(null==(i=this._listAdapter.findMatching(e.datalist,r))&&(c||this._inputItemEphemeral?this._inputItemEphemeral&&n===r&&(s=!0):i=this._inputItem),(a=null==i&&u)&&this._focused&&(this._setValueMeta(null,!1,!1,!0),u&&c&&null!=this._lastValidItem&&(this._lastValidItem=this._listAdapter.findMatching(e.datalist,this._lastValidValue),null==this._lastValidItem&&(this._lastValidValue="")),a=!1)):(i=null,a=!1),l=e.multiple&&c&&u}e.multiple&&!e.allowDuplicates&&this.props.allowDuplicates&&(l=!0)}if(o||a){var p=void 0,h=void 0;if(s)r="",p=!1,h=[];else{var d=this._getValueFromProps(e);r=d.inputValue,i=d.inputItem,p=d.inputItemEphemeral,h=d.selectedItems}i===this._inputItem&&this._focused?o&&e.multiple&&this.setState({selectedItems:h}):(this._setValueMeta(i,p,!0,!0),this._setInputValue(r),this.setState({selectedItems:h}),l=!1,this._lastValidItem=i,this._lastValidValue=r,o&&(this._lastOnChangeValue=this._getValueUsing(e,r,i,h)))}else r&&e.datalist!=this.props.datalist&&this._focused&&this._checkAutoComplete(r,e);if(l){var f=this._filterItems(this.state.selectedItems,e);this.setState({selectedItems:f})}e.datalistMessage&&e.datalistMessage!=this.props.datalistMessage&&this._focused&&this._open("message",e)}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.default)(this.props,e)||!(0,a.default)(this.state,t)}},{key:"componentWillUpdate",value:function(e,t){var n=this.refs.suggestions;this._menuFocusedBeforeUpdate=n&&n.isFocused();var r=t.inputValue;if(r!=this.state.inputValue){var o=void 0,i=void 0,a=void 0;if(this._valueWasValidated?(o=this._inputItem,a=this._valueIsValid):(r?null!=(o=this._listAdapter.findMatching(e.datalist,r))||e.datalistOnly?(i=!1,a=null!=o):(o=this._itemAdapter.newFromValue(r),i=!0,a=!0):(o=null,i=!1,a=!e.required),this._setValueMeta(o,i,a)),a&&(this._lastValidItem=o,this._lastValidValue=o&&!i?this._itemAdapter.getInputValue(o):r),a){var s=e.multiple,l=e.onChange;if(!s&&l){var c=this._getValueUsing(e,r,o,t.selectedItems);c!==this._lastOnChangeValue&&(this._lastOnChangeValue=c,l(c))}var u=e.onSelect;u&&o!==this._lastOnSelectValue&&(this._lastOnSelectValue=o,u(o))}}var p=e.onToggle;p&&t.open!=this.state.open&&p(t.open)}},{key:"componentDidUpdate",value:function(e,t){this.state.open&&!t.open&&"keydown"===this._lastOpenEventType||this.state.disableFilter&&!t.disableFilter&&this._menuFocusedBeforeUpdate?this.refs.suggestions.focusFirst():!this.state.open&&t.open&&this._menuFocusedBeforeUpdate&&(this._menuFocusedBeforeUpdate=!1,this._focusInput())}},{key:"componentWillUnmount",value:function(){clearTimeout(this._focusTimeoutId),this._focusTimeoutId=null,clearTimeout(this._searchTimeoutId),this._searchTimeoutId=null}},{key:"_focusInput",value:function(){var e=p.default.findDOMNode(this.refs.input);e instanceof HTMLElement&&e.focus()}},{key:"_open",value:function(e,t){this._lastOpenEventType=e;var n="autocomplete"!==e&&this._hasNoOrExactMatch(t);this.setState({open:!0,disableFilter:n});var r=t.onSearch,o=this.state,i=o.inputValue,a=o.searchValue;r&&a!==i&&(this.setState({searchValue:i}),r(i))}},{key:"_close",value:function(){this.setState({open:!1})}},{key:"_toggleOpen",value:function(e,t){this.state.open?this._close():this._open(e,t)}},{key:"_canOpen",value:function(){var e=this.props.datalist;return null==e&&this.props.onSearch||!this._listAdapter.isEmpty(e)||!!this.props.datalistMessage}},{key:"_hasNoOrExactMatch",value:function(e){var t=this;if(null!=this._inputItem&&!this._inputItemEphemeral)return!0;var n=this._itemAdapter.foldValue(this.state.inputValue);return null==this._listAdapter.find(e.datalist,function(e){return t._itemAdapter.itemIncludedByInput(e,n)})}},{key:"render",value:function(){var e=this.props.showToggle,t=this._canOpen(),n="auto"===e?t:e,r={autosuggest:!0,open:this.state.open,disabled:this.props.disabled,dropdown:n&&!this.props.dropup,dropup:n&&this.props.dropup};return c.default.createElement("div",{key:"dropdown",className:(0,i.default)(r),onFocus:this._handleFocus,onBlur:this._handleBlur},this._renderInputGroup(n,t),this._renderMenu())}},{key:"_renderInputGroup",value:function(e,t){var n=this.props.addonBefore?c.default.createElement("span",{className:"input-group-addon",key:"addonBefore"},this.props.addonBefore):null,r=this.props.addonAfter?c.default.createElement("span",{className:"input-group-addon",key:"addonAfter"},this.props.addonAfter):null,o=this.props.buttonBefore?c.default.createElement("span",{className:"input-group-btn"},this.props.buttonBefore):null,a=e&&this._renderToggle(t),s=a||this.props.buttonAfter?c.default.createElement("span",{className:"input-group-btn"},this.props.buttonAfter,a):null,l=(0,i.default)({"input-group":n||r||o||s,"input-group-sm":"small"===this.props.bsSize,"input-group-lg":"large"===this.props.bsSize,"input-group-toggle":!!a});return l?c.default.createElement("div",{className:l,key:"input-group"},n,o,this._renderChoices(),r,s):this._renderChoices()}},{key:"_renderToggle",value:function(e){return c.default.createElement(u.Dropdown.Toggle,{ref:"toggle",key:"toggle",id:this.props.toggleId,bsSize:this.props.bsSize,disabled:this.props.disabled||!e,open:this.state.open,onClick:this._handleToggleClick,onKeyDown:this._handleKeyDown})}},{key:"_renderChoices",value:function(){if(this.props.multiple){var e=this.props.choicesClass,t=void 0===e?d.default:e;return c.default.createElement(t,{ref:"choices",autoHeight:!(this.props.showToggle||this.props.addonAfter||this.props.addonBefore||this.props.buttonAfter||this.props.buttonBefore),disabled:this.props.disabled,focused:this.state.inputFocused,inputValue:this.state.inputValue,items:this.state.selectedItems,onKeyPress:this._handleKeyPress,onRemove:this._removeItem,renderItem:this._renderSelected},this._renderInput())}return this._renderInput()}},{key:"_renderSelected",value:function(e){return this._itemAdapter.renderSelected(e)}},{key:"_renderInput",value:function(){var e=this.context.$bs_formGroup,n=e&&e.controlId,o={},a=!0,s=!1,l=void 0;try{for(var u,p=Object.keys(this.props)[Symbol.iterator]();!(a=(u=p.next()).done);a=!0){var h=u.value;t.propTypes[h]||(o[h]=this.props[h])}}catch(e){s=!0,l=e}finally{try{!a&&p.return&&p.return()}finally{if(s)throw l}}var d=!this.props.multiple||!this.state.selectedItems.length;return c.default.createElement("input",r({autoComplete:"off"},o,{className:(0,i.default)(this.props.className,{"form-control":!this.props.multiple}),ref:"input",key:"input",id:n,disabled:this.props.disabled,required:this.props.required&&d,placeholder:d?this.props.placeholder:void 0,type:this.props.type,value:this.state.inputValue,onChange:this._handleInputChange,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onFocus:this._handleInputFocus,onBlur:this._handleInputBlur}))}},{key:"_renderMenu",value:function(){var e=this;this._pseudofocusedItem=null;var t=this.state.open;if(!t)return null;var n=this.props.datalist,r=this._itemAdapter.foldValue(this.state.inputValue);this._foldedInputValue=r;var o=void 0;o=this.state.disableFilter?this._listAdapter.toArray(n):this._listAdapter.filter(n,function(t){return e._itemAdapter.itemIncludedByInput(t,r)&&e._allowItem(t)});var i=(o=this._itemAdapter.sortItems(o,r)).length<this._listAdapter.getLength(n),a=void 0;o.length>0&&this.state.inputFocused&&(!this.props.multiple||this.props.datalistOnly)&&(this._pseudofocusedItem=o[a=0]);var s=this.props,l=s.suggestionsClass,u=void 0===l?f.default:l,p=s.datalistMessage,h=s.onDatalistMessageSelect,d=s.toggleId;return c.default.createElement(u,{ref:"suggestions",datalistMessage:p,filtered:i,focusedIndex:a,getItemKey:this._getItemKey,isSelectedItem:this._isSelectedItem,items:o,labelledBy:d,onClose:this._handleMenuClose,onDatalistMessageSelect:h,onDisableFilter:this._handleShowAll,onSelect:this._handleItemSelect,open:t,renderItem:this._renderSuggested})}},{key:"_allowItem",value:function(e){var t=this;if(this.props.allowDuplicates)return!0;var n=this._itemAdapter.getInputValue(e);return!this.state.selectedItems.find(function(e){return t._itemAdapter.getInputValue(e)===n})}},{key:"_getItemKey",value:function(e){return this._itemAdapter.getReactKey(e)}},{key:"_isSelectedItem",value:function(e){return this._itemAdapter.itemMatchesInput(e,this._foldedInputValue)}},{key:"_renderSuggested",value:function(e){return this._itemAdapter.renderSuggested(e)}},{key:"_handleToggleClick",value:function(){this._toggleOpen("click",this.props)}},{key:"_handleInputChange",value:function(e){var t=this,n=e.target.value,r=this._keyPressCount>this.state.inputValueKeyPress;if(r&&n?this._autoCompleteAfterRender?(this._setValueMeta(),this._setInputValue(n,function(){t._checkAutoComplete(n,t.props)})):this._checkAutoComplete(n,this.props)||(this._setValueMeta(),this._setInputValue(n)):(this._setValueMeta(),this._setInputValue(n)),r||this.state.open){var o=this.props.onSearch;o&&(clearTimeout(this._searchTimeoutId),this._searchTimeoutId=setTimeout(function(){t._searchTimeoutId=null,n!=t.state.searchValue&&(t.setState({searchValue:n}),o(n))},this.props.searchDebounce))}}},{key:"_checkAutoComplete",value:function(e,t){var n=this,r=!1,o=t.datalist,i=this._itemAdapter.foldValue(e),a=this._listAdapter.filter(o,function(e){return n._itemAdapter.itemIncludedByInput(e,i)&&n._allowItem(e)});if(a.length>0){var s=t.datalistOnly,l=t.datalistPartial;if(1===a.length&&s&&!l){var c=a[0],u=this._itemAdapter.getInputValue(c),p=void 0,h=t.inputSelect;if(e!=u&&h&&this._itemAdapter.foldValue(u).startsWith(i)){var d=this.refs.input;p=function(){h(d,e,u)}}this._setValueMeta(c),this._setInputValue(u,p),r=!0,(this.state.open?t.closeOnCompletion:e!=u&&!t.closeOnCompletion)&&this._toggleOpen("autocomplete",t)}else{var f=a.find(function(e){return n._itemAdapter.itemMatchesInput(e,i)});f&&(this._setValueMeta(f),this._setInputValue(e),r=!0),this.state.open||f&&!(a.length>1)||this._open("autocomplete",t)}}return r}},{key:"_handleItemSelect",value:function(e){if(this.props.multiple)this._addItem(e);else{var t=this._itemAdapter.getInputValue(e);this._setValueMeta(e),this._setInputValue(t)}this._close()}},{key:"_addItem",value:function(e){if(this._allowItem(e)){var t=[].concat(C(this.state.selectedItems),[e]);this.setState({selectedItems:t});var n=this.props,r=n.onAdd,o=n.onChange;r&&r(e),o&&o(t)}this._clearInput(),this.state.open&&this._close()}},{key:"_removeItem",value:function(e){var t=this.state.selectedItems,n=t.slice(0,e).concat(t.slice(e+1));this.setState({selectedItems:n});var r=this.props,o=r.onRemove,i=r.onChange;o&&o(e),i&&i(n)}},{key:"_addInputValue",value:function(){return!!this._inputItem&&(this._addItem(this._inputItem),!0)}},{key:"_handleShowAll",value:function(){this.setState({disableFilter:!0})}},{key:"_handleKeyDown",value:function(e){if(!this.props.disabled)switch(e.keyCode||e.which){case s.default.codes.down:case s.default.codes["page down"]:this.state.open?this.refs.suggestions.focusFirst():this._canOpen()&&this._open("keydown",this.props),e.preventDefault();break;case s.default.codes.left:case s.default.codes.backspace:this.refs.choices&&this.refs.input&&0===this._getCursorPosition(this.refs.input)&&(this.refs.choices.focusLast(),e.preventDefault());break;case s.default.codes.right:this.refs.choices&&this.refs.input&&this._getCursorPosition(this.refs.input)===this.state.inputValue.length&&(this.refs.choices.focusFirst(),e.preventDefault());break;case s.default.codes.enter:if(this.props.multiple&&this.state.inputValue&&(e.preventDefault(),this._addInputValue()))break;this.state.open&&this.state.inputFocused&&(e.preventDefault(),this._pseudofocusedItem?this._handleItemSelect(this._pseudofocusedItem):this._close());break;case s.default.codes.esc:case s.default.codes.tab:this._handleMenuClose(e)}}},{key:"_getCursorPosition",value:function(e){var t=p.default.findDOMNode(e);if(t instanceof HTMLInputElement)return t.selectionStart}},{key:"_handleKeyPress",value:function(){++this._keyPressCount}},{key:"_handleMenuClose",value:function(){this.state.open&&this._close()}},{key:"_handleInputFocus",value:function(){this.setState({inputFocused:!0})}},{key:"_handleInputBlur",value:function(){this.setState({inputFocused:!1})}},{key:"_handleFocus",value:function(){if(this._focusTimeoutId)clearTimeout(this._focusTimeoutId),this._focusTimeoutId=null;else{this._focused=!0;var e=this.props.onFocus;if(e)e(this._getCurrentValue())}}},{key:"_handleBlur",value:function(){var e=this;this._focusTimeoutId=setTimeout(function(){e._focusTimeoutId=null,e._focused=!1;var t=e.state.inputValue,n=e.props.onBlur;if(e.props.multiple)t&&!e._addInputValue()&&e._clearInput();else if(t!=e._lastValidValue){var r=void 0;return n&&(r=function(){var t=e._getCurrentValue();n(t)}),e._setValueMeta(e._lastValidItem,!1,!0,!0),void e._setInputValue(e._lastValidValue,r)}if(n){var o=e._getCurrentValue();n(o)}},1)}}]),t}();_.propTypes={addonAfter:l.default.node,addonBefore:l.default.node,allowDuplicates:l.default.bool,bsSize:l.default.oneOf(["small","large"]),buttonAfter:l.default.node,buttonBefore:l.default.node,choicesClass:l.default.oneOfType([l.default.func,l.default.string]),closeOnCompletion:l.default.bool,datalist:l.default.any,datalistAdapter:l.default.object,datalistMessage:l.default.node,datalistOnly:l.default.bool,datalistPartial:l.default.bool,defaultValue:l.default.any,disabled:l.default.bool,dropup:l.default.bool,groupClassName:l.default.string,inputSelect:l.default.func,itemAdapter:l.default.object,itemReactKeyPropName:l.default.string,itemSortKeyPropName:l.default.string,itemValuePropName:l.default.string,multiple:l.default.bool,onAdd:l.default.func,onBlur:l.default.func,onChange:l.default.func,onDatalistMessageSelect:l.default.func,onFocus:l.default.func,onRemove:l.default.func,onSearch:l.default.func,onSelect:l.default.func,onToggle:l.default.func,placeholder:l.default.string,required:l.default.bool,searchDebounce:l.default.number,showToggle:l.default.oneOfType([l.default.bool,l.default.oneOf(["auto"])]),suggestionsClass:l.default.oneOfType([l.default.func,l.default.string]),toggleId:l.default.oneOfType([l.default.string,l.default.number]),type:l.default.string,value:l.default.any,valueIsItem:l.default.bool},_.contextTypes={$bs_formGroup:l.default.object},_.defaultProps={closeOnCompletion:!1,datalistOnly:!1,datalistPartial:!1,disabled:!1,dropup:!1,inputSelect:_.defaultInputSelect,multiple:!1,itemReactKeyPropName:"key",itemSortKeyPropName:"sortKey",itemValuePropName:"value",searchDebounce:250,showToggle:"auto",type:"text",valueIsItem:!1},t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(28)),i=u(n(749)),a=u(n(811)),s=u(n(1)),l=u(n(0)),c=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))),a=i;return a._handleKeyDown=i._handleKeyDown.bind(i),a._handleKeyPress=i._handleKeyPress.bind(i),a._handleClose=i._handleClose.bind(i),a._handleClick=i._handleClick.bind(i),a._focusInput=i._focusInput.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),r(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,i.default)(this.props,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoHeight,r=t.disabled,i=t.focused,a=t.inputValue,s=t.items,c=t.renderItem,u=t.children,p=s.length>0,h=void 0;return p&&(h={width:.75*(a.length+1)+"em"}),l.default.createElement("ul",{className:(0,o.default)("form-control","autosuggest-choices",{focused:i,"has-items":p,"auto-height":n}),disabled:r,onClick:this._focusInput},s.map(function(t,n){return l.default.createElement("li",{key:n,"data-index":n,tabIndex:r?void 0:"-1",className:"autosuggest-choice",onKeyDown:e._handleKeyDown,onKeyPress:e._handleKeyPress},l.default.createElement("span",{className:"autosuggest-choice-close",onClick:e._handleClose}),l.default.createElement("span",{className:"autosuggest-choice-label",onClick:e._handleClick},c(t)))}),l.default.createElement("li",{className:"autosuggest-input-choice",style:h},u))}},{key:"_handleKeyDown",value:function(e){switch(e.keyCode){case a.default.codes.left:this._focusPrevious(),e.preventDefault();break;case a.default.codes.right:this._focusNext(),e.preventDefault();break;case a.default.codes.backspace:this._removeActive(-1),e.preventDefault();break;case a.default.codes.delete:this._removeActive(0),e.preventDefault()}}},{key:"_handleKeyPress",value:function(e){this._focusInput();var t=this.props.onKeyPress;t&&t(e)}},{key:"_handleClose",value:function(e){if(!this.props.disabled&&e.target instanceof HTMLElement){var t=e.target.parentNode;if(t instanceof Element){var n=Number(t.getAttribute("data-index"));this._remove(n)}}e.stopPropagation()}},{key:"_handleClick",value:function(e){e.stopPropagation()}},{key:"focusFirst",value:function(){var e=this._getFocusableMenuItems(!1);e.length>0&&e[0].focus()}},{key:"focusLast",value:function(){var e=this._getFocusableMenuItems(!1);e.length>0&&e[e.length-1].focus()}},{key:"_focusPrevious",value:function(){var e=this._getItemsAndActiveIndex(!0),t=e.items,n=e.activeIndex;n>0?t[n-1].focus():t.length>0&&t[t.length-1].focus()}},{key:"_focusNext",value:function(){var e=this._getItemsAndActiveIndex(!0),t=e.items,n=e.activeIndex;n<t.length-1?t[n+1].focus():t.length>0&&t[0].focus()}},{key:"_focusInput",value:function(){var e=c.default.findDOMNode(this);if(e instanceof Element){var t=e.querySelector("input");t&&t.focus()}}},{key:"_remove",value:function(e){var t=this.props.onRemove;t&&t(e)}},{key:"_removeActive",value:function(e){var t=this._getItemsAndActiveIndex(!1),n=t.items,r=t.activeIndex;if(r>=0){var o=r+e;o<0||o>=n.length-1?this._focusInput():0!=e&&n[o].focus(),this._remove(r)}}},{key:"_getItemsAndActiveIndex",value:function(e){var t=this._getFocusableMenuItems(e),n=document.activeElement,r=n?t.indexOf(n):-1;return{items:t,activeIndex:r}}},{key:"_getFocusableMenuItems",value:function(e){var t=c.default.findDOMNode(this);return t instanceof Element?Array.from(t.querySelectorAll(e?'[tabIndex="-1"],input':'[tabIndex="-1"]')):[]}}]),t}();p.propTypes={autoHeight:s.default.bool,disabled:s.default.bool,focused:s.default.bool,inputValue:s.default.string,items:s.default.arrayOf(s.default.any).isRequired,onKeyPress:s.default.func,onRemove:s.default.func,renderItem:s.default.func.isRequired},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(749)),i=c(n(1)),a=c(n(0)),s=n(92),l=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,o.default)(this.props,e)}},{key:"isFocused",value:function(){var e=l.default.findDOMNode(this.refs.menu);return null!=e&&document&&e.contains(document.activeElement)}},{key:"focusFirst",value:function(){this.refs.menu.focusNext()}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.datalistMessage,r=e.onDatalistMessageSelect;return a.default.createElement(s.Dropdown.Menu,{labelledBy:this.props.labelledBy,onClose:this.props.onClose,open:this.props.open,ref:"menu"},t.map(this._renderItem,this),this.props.filtered&&a.default.createElement(s.MenuItem,{key:"show-all",onSelect:this.props.onDisableFilter},a.default.createElement("span",{className:"show-all"},0===t.length?a.default.createElement("span",{className:"no-matches"}):null)),n&&a.default.createElement(s.MenuItem,{key:"datalist-message",disabled:null==r,onSelect:r},n))}},{key:"_renderItem",value:function(e,t){var n=this.props.isSelectedItem(e);return a.default.createElement(s.MenuItem,{active:n,className:t!==this.props.focusedIndex||n?void 0:"pseudofocused",eventKey:e,key:this.props.getItemKey(e),onSelect:this.props.onSelect},this.props.renderItem(e))}}]),t}();u.propTypes={datalistMessage:i.default.node,filtered:i.default.bool,focusedIndex:i.default.number,getItemKey:i.default.func.isRequired,isSelectedItem:i.default.func.isRequired,items:i.default.arrayOf(i.default.any).isRequired,labelledBy:i.default.oneOfType([i.default.string,i.default.number]),onClose:i.default.func,onDatalistMessageSelect:i.default.func,onDisableFilter:i.default.func,onSelect:i.default.func.isRequired,open:i.default.bool,renderItem:i.default.func.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(718),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"]),o(t,[{key:"getLength",value:function(){return 0}},{key:"filter",value:function(){return[]}},{key:"find",value:function(){}},{key:"toArray",value:function(){return[]}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(718),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"]),o(t,[{key:"getLength",value:function(e){return e.length}},{key:"filter",value:function(e,t){return e.filter(t)}},{key:"find",value:function(e,t){return e.find(t)}},{key:"toArray",value:function(e){return e.slice()}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(813),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"]),o(t,[{key:"getLength",value:function(e){return e.size}},{key:"filter",value:function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e.entries()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=this._getKeyValueItem(l[0],l[1]);t(c)&&n.push(c)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}},{key:"find",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.entries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this._getKeyValueItem(s[0],s[1]);if(t(l))return l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"toArray",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.entries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.push(this._getKeyValueItem(s[0],s[1]))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(813),a=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"]),o(t,[{key:"getLength",value:function(e){return Object.keys(e).length}},{key:"filter",value:function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=Object.keys(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=this._getKeyValueItem(l,e[l]);t(c)&&n.push(c)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}},{key:"find",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=this._getKeyValueItem(s,e[s]);if(t(l))return l}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}},{key:"toArray",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.push(this._getKeyValueItem(s,e[s]))}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t}}]),t}();t.default=s},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(11),a=n(4);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,i,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){var e=this;return r.createElement("div",null,"Quick select:",o.map(this.props.buttonsConfig,function(t,n){var o=s(n.split("|"),2),i=o[0],l=o[1],c=r.createElement("button",{"data-test":"selectPanCan",className:"btn btn-default btn-xs",onClick:function(){return e.props.onSelect(t)}},i),u=r.createElement("span",{style:{display:"inline-block",width:"300px"}},l||"");return l?r.createElement(a.c,{overlay:u},c):c}))}}])&&l(n.prototype,i),h&&l(n,h),t}();f=d([i.observer],f),t.a=f},function(e,t,n){(function(r){var o,i,a;/*! jsTree - v3.3.7 - 2018-11-06 - (MIT) */!function(s){"use strict";i=[n(9)],void 0===(a="function"==typeof(o=function(e,t){if(!e.jstree){var n=0,o=!1,i=!1,a=!1,s=[],l=e("script:last").attr("src"),c=window.document;e.jstree={version:"3.3.7",defaults:{plugins:[]},plugins:{},path:l&&-1!==l.indexOf("/")?l.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var o=new e.jstree.core(++n),i=r;return r=e.extend(!0,{},e.jstree.defaults,r),i&&i.plugins&&(r.plugins=i.plugins),e.each(r.plugins,function(e,t){"core"!==e&&(o=o.plugin(t,r[t]))}),e(t).data("jstree",o),o.init(t,r),o},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(e){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?n=r:e(".jstree").each(function(){var r=e(this).data("jstree");return r&&r._model.data[t]?(n=r,!1):void 0}),n},e.fn.jstree=function(n){var r="string"==typeof n,o=Array.prototype.slice.call(arguments,1),i=null;return!(!0===n&&!this.length)&&(this.each(function(){var a=e.jstree.reference(this),s=r&&a?a[n]:null;return i=r&&s?s.apply(a,o):null,a||r||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!r||!0===n)&&(i=a||!1),(null===i||i===t)&&void 0}),null!==i&&i!==t?i:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=c.createElement("LI");return n.setAttribute("role","treeitem"),(e=c.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=c.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=c.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,r,o=this.settings.core.keyboard;for(n in o)if(o.hasOwnProperty(n)&&("-"!==(r=n)&&"+"!==r&&(r=(r=r.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),r===t))return o[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,r=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return!(!e.target.tagName||"input"!==e.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,r=[];for(t=0,n=this._data.core.selected.length;n>t;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(r=e.vakata.array_unique(r),t=0,n=r.length;n>t;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var o=String.fromCharCode(r.which).toLowerCase(),i=this.element.find(".jstree-anchor").filter(":visible"),a=i.index(c.activeElement)||0,s=!1;if((t+=o).length>1){if(i.slice(a).each(e.proxy(function(n,r){return 0===e(r).text().toLowerCase().indexOf(t)?(e(r).focus(),s=!0,!1):void 0},this)),s)return;if(i.slice(0,a).each(e.proxy(function(n,r){return 0===e(r).text().toLowerCase().indexOf(t)?(e(r).focus(),s=!0,!1):void 0},this)),s)return}if(new RegExp("^"+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(i.slice(a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===o?(e(n).focus(),s=!0,!1):void 0},this)),s)return;if(i.slice(0,a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===o?(e(n).focus(),s=!0,!1):void 0},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var o;t&&t.id&&(t=t.id),t instanceof r&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(o=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[o.closest(".jstree-node").attr("id")])t=this._model.data[o.closest(".jstree-node").attr("id")];else if((o=this.element.find(t)).length&&this._model.data[o.closest(".jstree-node").attr("id")])t=this._model.data[o.closest(".jstree-node").attr("id")];else{if(!(o=this.element.find(t)).length||!o.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,r){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var o,i,a=[];for(a.push(r?t.id:t.text),o=0,i=t.parents.length;i>o;o++)a.push(r?t.parents[o]:this.get_text(t.parents[o]));return a=a.reverse().slice(1),n?a.join(n):a},get_next_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(n){r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&e(r)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var r,o,i,a,s;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,i=0,a=t.parents.length;a>i;i++)this._model.data[t.parents[i]].children_d=e.vakata.array_filter(this._model.data[t.parents[i]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(r=0,o=t.children_d.length;o>r;r++)this._model.data[t.children_d[r]].state.selected&&(s=!0),delete this._model.data[t.children_d[r]];s&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r=this.get_node(t,!0),o=0,i=0,a=this._model.data,s=!1;for(o=0,i=t.children.length;i>o;o++)if(a[t.children[o]]&&!a[t.children[o]].state.hidden){s=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,r){var o,i,a=!0,s=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(o=0,i=e.length;i>o;o++)l[e[o]]&&(!l[e[o]].state.loaded&&!l[e[o]].state.failed||!n&&r)&&(this.is_loading(e[o])||this.load_node(e[o],s),a=!1);if(a){for(o=0,i=e.length;i>o;o++)l[e[o]]&&l[e[o]].state.loaded&&c.push(e[o]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,o,i=[],a=this._model.data,s=a[t.id].children_d;for(t.state&&!t.state.loaded&&i.push(t.id),r=0,o=s.length;o>r;r++)a[s[r]]&&a[s[r]].state&&!a[s[r]].state.loaded&&i.push(s[r]);i.length?this._load_nodes(i,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var r,o=this.settings.core.data,i=function(){return 3!==this.nodeType&&8!==this.nodeType};return o?e.isFunction(o)?o.call(this,t,e.proxy(function(r){!1===r?n.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(i):r,function(e){n.call(this,e)})},this)):"object"==typeof o?o.url?(o=e.extend(!0,{},o),e.isFunction(o.url)&&(o.url=o.url.call(this,t)),e.isFunction(o.data)&&(o.data=o.data.call(this,t)),e.ajax(o).done(e.proxy(function(r,o,a){var s=a.getResponseHeader("Content-Type");return s&&-1!==s.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(e){n.call(this,e)}):s&&-1!==s.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(i),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(r=e.isArray(o)?e.extend(!0,[],o):e.isPlainObject(o)?e.extend(!0,{},o):o,t.id===e.jstree.root?this._append_json_data(t,r,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof o?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(o)).filter(i),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,r){(t=this.get_node(t)).children=[],t.children_d=[];var o,i,a,s=n.is("ul")?n.children():n,l=t.id,c=[],u=[],p=this._model.data,h=p[l],d=this._data.core.selected.length;for(s.each(e.proxy(function(t,n){(o=this._parse_model_from_html(e(n),l,h.parents.concat()))&&(c.push(o),u.push(o),p[o].children_d.length&&(u=u.concat(p[o].children_d)))},this)),h.children=c,h.children_d=u,i=0,a=h.parents.length;a>i;i++)p[h.parents[i]].children_d=p[h.parents[i]].children_d.concat(u);this.trigger("model",{nodes:u,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==d&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,n,r,o){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&("string"==typeof(n=n.d)&&(n=JSON.parse(n))),e.isArray(n)||(n=[n]);var i=null,a={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,t){e.data&&(e=e.data);var n,r,o,i,a=e.dat,s=e.par,l=[],c=[],u=[],p=e.df,h=e.t_id,d=e.t_cnt,f=e.m,m=f[s],y=e.sel,g=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var o,i,a,s,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in p)p.hasOwnProperty(o)&&(c.state[o]=p[o]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),(c.icon===t||null===c.icon||""===c.icon)&&(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(c.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(c.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(c.li_attr[o]=e.li_attr[o]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(c.a_attr[o]=e.a_attr[o]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),f[c.id]=c,o=0,i=c.children.length;i>o;o++)a=g(f[c.children[o]],c.id,r),s=f[a],c.children_d.push(a),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));return delete e.data,delete e.children,f[c.id].original=e,c.state.selected&&u.push(c.id),c.id},v=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var o,i,a,s,l,c=!1;do{c="j"+h+"_"+ ++d}while(f[c]);for(o in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},p)p.hasOwnProperty(o)&&(l.state[o]=p[o]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(l.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(l.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(l.li_attr[o]=e.li_attr[o]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(l.a_attr[o]=e.a_attr[o]);if(e&&e.children&&e.children.length){for(o=0,i=e.children.length;i>o;o++)a=v(e.children[o],l.id,r),s=f[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,f[l.id]=l,l.state.selected&&u.push(l.id),l.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(r=0,o=a.length;o>r;r++)a[r].children||(a[r].children=[]),a[r].state||(a[r].state={}),f[a[r].id.toString()]=a[r];for(r=0,o=a.length;o>r;r++)f[a[r].parent.toString()]?(f[a[r].parent.toString()].children.push(a[r].id.toString()),m.children_d.push(a[r].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:a[r].id.toString(),parent:a[r].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(r=0,o=m.children.length;o>r;r++)n=g(f[m.children[r]],s,m.parents.concat()),c.push(n),f[n].children_d.length&&(c=c.concat(f[n].children_d));for(r=0,o=m.parents.length;o>r;r++)f[m.parents[r]].children_d=f[m.parents[r]].children_d.concat(c);i={cnt:d,mod:f,sel:y,par:s,dpc:c,add:u}}else{for(r=0,o=a.length;o>r;r++)(n=v(a[r],s,m.parents.concat()))&&(l.push(n),c.push(n),f[n].children_d.length&&(c=c.concat(f[n].children_d)));for(m.children=l,m.children_d=c,r=0,o=m.parents.length;o>r;r++)f[m.parents[r]].children_d=f[m.parents[r]].children_d.concat(c);i={cnt:d,mod:f,sel:y,par:s,dpc:c,add:u}}return"undefined"!=typeof window&&void 0!==window.document?i:void postMessage(i)},l=function(t,n){if(null!==this.element){this._cnt=t.cnt;var o,i=this._model.data;for(o in i)i.hasOwnProperty(o)&&i[o].state&&i[o].state.loading&&t.mod[o]&&(t.mod[o].state.loading=!0);if(this._model.data=t.mod,n){var a,s=t.add,l=t.sel,c=this._data.core.selected.slice();if(i=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(o=0,a=l.length;a>o;o++)-1===e.inArray(l[o],s)&&-1===e.inArray(l[o],c)&&(i[l[o]].state.selected=!1);for(o=0,a=c.length;a>o;o++)-1===e.inArray(c[o],l)&&(i[c[o]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||o?(this._data.core.working=!0,(i=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{i.terminate(),i=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),a.par?i.postMessage(a):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,r,!0])}catch(e){l.call(this,s(a),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,s(a),!1)}},_parse_model_from_html:function(n,r,o){o=o?[].concat(o):[],r&&o.unshift(r);var i,a,s,l,c,u=this._model.data,p={id:!1,text:!1,icon:!0,parent:r,parents:o,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(p.state[s]=this._model.default_state[s]);if(l=e.vakata.attributes(n,!0),e.each(l,function(t,n){return!(n=e.trim(n)).length||(p.li_attr[t]=n,void("id"===t&&(p.id=n.toString())))}),(l=n.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,n){(n=e.trim(n)).length&&(p.a_attr[t]=n)})),(l=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),p.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),p.data=l?e.extend(!0,{},l):null,p.state.opened=n.hasClass("jstree-open"),p.state.selected=n.children("a").hasClass("jstree-clicked"),p.state.disabled=n.children("a").hasClass("jstree-disabled"),p.data&&p.data.jstree)for(s in p.data.jstree)p.data.jstree.hasOwnProperty(s)&&(p.state[s]=p.data.jstree[s]);(l=n.children("a").children(".jstree-themeicon")).length&&(p.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),p.state.icon!==t&&(p.icon=p.state.icon),(p.icon===t||null===p.icon||""===p.icon)&&(p.icon=!0),l=n.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(u[c]);return p.id=p.li_attr.id?p.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,n){i=this._parse_model_from_html(e(n),p.id,o),a=this._model.data[i],p.children.push(i),a.children_d.length&&(p.children_d=p.children_d.concat(a.children_d))},this)),p.children_d=p.children_d.concat(p.children)):n.hasClass("jstree-closed")&&(p.state.loaded=!1),p.li_attr.class&&(p.li_attr.class=p.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),p.a_attr.class&&(p.a_attr.class=p.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),u[p.id]=p,p.state.selected&&this._data.core.selected.push(p.id),p.id},_parse_model_from_flat_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var o,i,a,s,l=e.id.toString(),c=this._model.data,u=this._model.default_state,p={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in u)u.hasOwnProperty(o)&&(p.state[o]=u[o]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(p.icon=e.data.jstree.icon),(p.icon===t||null===p.icon||""===p.icon)&&(p.icon=!0),e&&e.data&&(p.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(p.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(p.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(p.li_attr[o]=e.li_attr[o]);if(p.li_attr.id||(p.li_attr.id=l),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(p.a_attr[o]=e.a_attr[o]);for(e&&e.children&&!0===e.children&&(p.state.loaded=!1,p.children=[],p.children_d=[]),c[p.id]=p,o=0,i=p.children.length;i>o;o++)a=this._parse_model_from_flat_json(c[p.children[o]],p.id,r),s=c[a],p.children_d.push(a),s.children_d.length&&(p.children_d=p.children_d.concat(s.children_d));return delete e.data,delete e.children,c[p.id].original=e,p.state.selected&&this._data.core.selected.push(p.id),p.id},_parse_model_from_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var o,i,a,s,l,c=!1,u=this._model.data,p=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(u[c]);for(o in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},p)p.hasOwnProperty(o)&&(l.state[o]=p[o]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(o in e.data.jstree)e.data.jstree.hasOwnProperty(o)&&(l.state[o]=e.data.jstree[o]);if(e&&"object"==typeof e.state)for(o in e.state)e.state.hasOwnProperty(o)&&(l.state[o]=e.state[o]);if(e&&"object"==typeof e.li_attr)for(o in e.li_attr)e.li_attr.hasOwnProperty(o)&&(l.li_attr[o]=e.li_attr[o]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(o in e.a_attr)e.a_attr.hasOwnProperty(o)&&(l.a_attr[o]=e.a_attr[o]);if(e&&e.children&&e.children.length){for(o=0,i=e.children.length;i>o;o++)a=this._parse_model_from_json(e.children[o],l.id,r),s=u[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,u[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,r,o=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),i=c.createElement("UL"),a=this._data.core.focused;for(n=0,r=o.length;r>n;n++)(t=this.redraw_node(o[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&i.appendChild(t);this._model.force_full_redraw&&(i.className=this.get_container_ul()[0].className,i.setAttribute("role","group"),this.element.empty().append(i)),null!==a&&this.settings.core.restore_focus&&((t=this.get_node(a,!0))&&t.length&&t.children(".jstree-anchor")[0]!==c.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:o})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),r=!1,o=!1,i=!1,a=c;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((i=a.createElement("UL")).setAttribute("role","group"),i.className="jstree-children",r=0,o=n.children.length;o>r;r++)i.appendChild(this.redraw_node(n.children[r],!0,!0));t.appendChild(i)}},redraw_node:function(t,n,r,o){var i=this.get_node(t),a=!1,s=!1,l=!1,u=!1,p=!1,h=!1,d="",f=c,m=this._model.data,y=!1,g=null,v=0,b=0,S=!1,w=!1;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(n=n||0===i.children.length,t=c.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(i.id[0])?"\\3"+i.id[0]+" "+i.id.substr(1).replace(e.jstree.idregex,"\\$&"):i.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(i.id))t=e(t),r||((a=t.parent().parent()[0])===this.element[0]&&(a=null),s=t.index()),n||!i.children.length||t.children(".jstree-children").length||(n=!0),n||(l=t.children(".jstree-children")[0]),y=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(n=!0,!r){if(!(null===(a=i.parent!==e.jstree.root?e("#"+i.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||a&&m[i.parent].state.opened))return!1;s=e.inArray(i.id,null===a?m[e.jstree.root].children:m[i.parent].children)}for(u in t=this._data.core.node.cloneNode(!0),d="jstree-node ",i.li_attr)if(i.li_attr.hasOwnProperty(u)){if("id"===u)continue;"class"!==u?t.setAttribute(u,i.li_attr[u]):d+=i.li_attr[u]}for(i.a_attr.id||(i.a_attr.id=i.id+"_anchor"),t.setAttribute("aria-selected",!!i.state.selected),t.setAttribute("aria-level",i.parents.length),t.setAttribute("aria-labelledby",i.a_attr.id),i.state.disabled&&t.setAttribute("aria-disabled",!0),u=0,p=i.children.length;p>u;u++)if(!m[i.children[u]].state.hidden){S=!0;break}if(null!==i.parent&&m[i.parent]&&!i.state.hidden&&(u=e.inArray(i.id,m[i.parent].children),w=i.id,-1!==u))for(u++,p=m[i.parent].children.length;p>u&&(m[m[i.parent].children[u]].state.hidden||(w=m[i.parent].children[u]),w===i.id);u++);for(p in i.state.hidden&&(d+=" jstree-hidden"),i.state.loading&&(d+=" jstree-loading"),i.state.loaded&&!S?d+=" jstree-leaf":(d+=i.state.opened&&i.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",i.state.opened&&i.state.loaded)),w===i.id&&(d+=" jstree-last"),t.id=i.id,t.className=d,d=(i.state.selected?" jstree-clicked":"")+(i.state.disabled?" jstree-disabled":""),i.a_attr)if(i.a_attr.hasOwnProperty(p)){if("href"===p&&"#"===i.a_attr[p])continue;"class"!==p?t.childNodes[1].setAttribute(p,i.a_attr[p]):d+=" "+i.a_attr[p]}if(d.length&&(t.childNodes[1].className="jstree-anchor "+d),(i.icon&&!0!==i.icon||!1===i.icon)&&(!1===i.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===i.icon.indexOf("/")&&-1===i.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+i.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+i.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(i.text)):t.childNodes[1].innerHTML+=i.text,n&&i.children.length&&(i.state.opened||o)&&i.state.loaded){for((h=f.createElement("UL")).setAttribute("role","group"),h.className="jstree-children",u=0,p=i.children.length;p>u;u++)h.appendChild(this.redraw_node(i.children[u],n,!0));t.appendChild(h)}if(l&&t.appendChild(l),!r){for(a||(a=this.element[0]),u=0,p=a.childNodes.length;p>u;u++)if(a.childNodes[u]&&a.childNodes[u].className&&-1!==a.childNodes[u].className.indexOf("jstree-children")){g=a.childNodes[u];break}g||((g=f.createElement("UL")).setAttribute("role","group"),g.className="jstree-children",a.appendChild(g)),s<(a=g).childNodes.length?a.insertBefore(t,a.childNodes[s]):a.appendChild(t),y&&(v=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=b)}return i.state.opened&&!i.state.loaded&&(i.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(i.id,!1,0)},this),0)),t},open_node:function(n,r,o){var i,a,s,l;if(e.isArray(n)){for(n=n.slice(),i=0,a=n.length;a>i;i++)this.open_node(n[i],r,o);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(o=o===t?this.settings.core.animation:o,this.is_closed(n)?this.is_loaded(n)?(s=this.get_node(n,!0),l=this,s.length&&(o&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(n),o?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(o,function(){this.style.display="",l.element&&l.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,r&&r.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),o&&s.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,r,o)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,r,o):!!r&&r.call(this,e,!1)}):(r&&r.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,r,o=t.parents;for(n=0,r=o.length;r>n;n+=1)n!==e.jstree.root&&this.open_node(o[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,r){var o,i,a,s;if(e.isArray(n)){for(n=n.slice(),o=0,i=n.length;i>o;o++)this.close_node(n[o],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(!this.is_closed(n)&&(r=r===t?this.settings.core.animation:r,a=this,s=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(s.length?r?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="",s.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:n})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var o,i,a,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(o=0,i=t.children_d.length;i>o;o++)this.is_closed(this._model.data[t.children_d[o]])&&(this._model.data[t.children_d[o]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||s,a=this,(s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed")).each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)},n||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,o,i=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(i.length&&(i=this.is_open(t)?i.find(".jstree-open").addBack():i.find(".jstree-open"),e(i.get().reverse()).each(function(){a.close_node(this,n||0)})),r=0,o=t.children_d.length;o>r;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.enable_node(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t}))},disable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.disable_node(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t}))},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var r,o;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.hide_node(t[r],!0);return n||this.redraw(),!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t})))},show_node:function(t,n){var r,o;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.show_node(t[r],!0);return n||this.redraw(),!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t})))},hide_all:function(t){var n,r=this._model.data,o=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&!r[n].state.hidden&&(r[n].state.hidden=!0,o.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:o}),o},show_all:function(t){var n,r=this._model.data,o=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&r[n].state.hidden&&(r[n].state.hidden=!1,o.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:o}),o},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var r,o,i=this.get_node(e).id,a=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(r=0,o=s.length;o>r;r+=1)s[r]===i&&(l=!l),s[r]===a&&(l=!l),this.is_disabled(s[r])||!l&&s[r]!==i&&s[r]!==a?this.deselect_node(s[r],!0,n):this.is_hidden(s[r])||this.select_node(s[r],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return!!((e=this.get_node(e,!0))&&e.length&&e.children(".jstree-hovered").length)&&(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)}))},select_node:function(t,n,r,o){var i,a,s;if(e.isArray(t)){for(t=t.slice(),a=0,s=t.length;s>a;a++)this.select_node(t[a],n,r,o);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(i=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(i=this._open_to(t)),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:o}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:o}))))},deselect_node:function(t,n,r){var o,i,a;if(e.isArray(t)){for(t=t.slice(),o=0,i=t.length;i>o;o++)this.deselect_node(t[o],n,r);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(a=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))))},select_all:function(t){var n,r,o=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,r=this._data.core.selected.length;r>n;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:o})},deselect_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;n>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,r,o,i,a=this.get_selected(!0),s={};for(n=0,r=a.length;r>n;n++)s[a[n].id]=a[n];for(n=0,r=a.length;r>n;n++)for(o=0,i=a[n].children_d.length;i>o;o++)s[a[n].children_d[o]]&&delete s[a[n].children_d[o]];for(n in a=[],s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,r,o=this.get_selected(!0),i=[];for(n=0,r=o.length;r>n;n++)o[n].children.length||i.push(o[n].id);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,r){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var o,i;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,function(e){delete n.core.loaded,this.set_state(n,r)}):(delete n.core.loaded,this.set_state(n,r)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,r)}):(delete n.core.open,this.set_state(n,r)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,r),!1;if(n.core.selected)return o=this,(n.core.initial_selection===t||n.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),e.each(n.core.selected,function(e,t){o.select_node(t,!1,!0)})),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,r),!1;for(i in n)n.hasOwnProperty(i)&&"core"!==i&&-1===e.inArray(i,this.settings.plugins)&&delete n[i];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,r),!1}return!e.isEmptyObject(n)||(n=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],r=[],o=this._data.core.selected.concat([]);r.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){r.push(this.id),n.push(this.id)}),this._load_nodes(r,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(o),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,o,i=this._model.data,a=t.id;for(n=n.toString(),i[t.parent].children[e.inArray(t.id,i[t.parent].children)]=n,r=0,o=t.parents.length;o>r;r++)i[t.parents[r]].children_d[e.inArray(t.id,i[t.parents[r]].children_d)]=n;for(r=0,o=t.children.length;o>r;r++)i[t.children[r]].parent=n;for(r=0,o=t.children_d.length;o>r;r++)i[t.children_d[r]].parents[e.inArray(t.id,i[t.children_d[r]].parents)]=n;return-1!==(r=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=n),(r=this.get_node(t.id,!0))&&(r.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete i[t.id],t.id=n,t.li_attr.id=n,i[n]=t,this.trigger("set_id",{node:t,new:t.id,old:a}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var r,o;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.set_text(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(t,n,r){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!r&&(r=[]);var o,i,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],n&&n.no_state)delete a.state;else for(o in t.state)t.state.hasOwnProperty(o)&&(a.state[o]=t.state[o]);if(n&&n.no_li_attr&&delete a.li_attr,n&&n.no_a_attr&&delete a.a_attr,n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&r.push(a),!n||!n.no_children)for(o=0,i=t.children.length;i>o;o++)n&&n.flat?this.get_json(t.children[o],n,r):a.children.push(this.get_json(t.children[o],n));return n&&n.flat?r:t.id===e.jstree.root?a.children:a},create_node:function(n,r,o,i,a){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(o=o===t?"last":o).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,r,o,i,!0)});var s,l,c,u;switch(r||(r={text:this.get_string("New node")}),(r="string"==typeof r?{text:r}:e.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":s=this.get_node(n.parent),o=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),o=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":o=0;break;case"last":o=n.children.length;break;default:o||(o=0)}if(o>n.children.length&&(o=n.children.length),r.id||(r.id=!0),!this.check("create_node",r,n,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,n.id,n.parents.concat())))return!1;for(s=this.get_node(r),(l=[]).push(r),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,u=n.parents.length;u>c;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(r=s,s=[],c=0,u=n.children.length;u>c;c++)s[c>=o?c+1:c]=n.children[c];return s[o]=r.id,n.children=s,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(r),parent:n.id,position:o}),i&&i.call(this,this.get_node(r)),r.id},rename_node:function(t,n){var r,o,i;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.rename_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(i=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:i}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,r,o,i,a,s,l,c,u,p,h,d;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(o=this.get_node(t.parent),i=e.inArray(t.id,o.children),p=!1,!this.check("delete_node",t,o,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==i&&(o.children=e.vakata.array_remove(o.children,i)),(a=t.children_d.concat([])).push(t.id),s=0,l=t.parents.length;l>s;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(t){return-1===e.inArray(t,a)});for(c=0,u=a.length;u>c;c++)if(this._model.data[a[c]].state.selected){p=!0;break}for(p&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:o.id}),p&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:o.id}),c=0,u=a.length;u>c;c++)delete this._model.data[a[c]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,h=this.element[0].scrollTop,d=this.element[0].scrollLeft,o.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(o,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=h,this.element[0].scrollLeft=d),this.redraw_node(o,!0),!0},check:function(t,n,r,o,i){n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r);var a=t.match(/^move_node|copy_node|create_node$/i)?r:n,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||i&&i.is_multi||n.id!==r.id&&("move_node"!==t||e.inArray(n.id,r.children)!==o)&&-1===e.inArray(r.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(!1===a.functions[t]||!0===a.functions[t])?(!1===a.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),a.functions[t]):!(!1===s||e.isFunction(s)&&!1===s.call(this,t,n,r,o,i)||s&&!1===s[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,r,o,i,a,s,l){var c,u,p,h,d,f,m,y,g,v,b,S,w,C;if(r=this.get_node(r),o=o===t?0:o,!r)return!1;if(!o.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(n,r,o,i,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,u=n.length;u>c;c++)(g=this.move_node(n[c],r,o,i,a,!1,l))&&(r=g,o="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(p=(n.parent||e.jstree.root).toString(),d=o.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,f=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)),m=!f||!f._id||this._id!==f._id,h=f&&f._id&&p&&f._model.data[p]&&f._model.data[p].children?e.inArray(n.id,f._model.data[p].children):-1,f&&f._id&&(n=f._model.data[n.id]),m)return!!(g=this.copy_node(n,r,o,i,a,!1,l))&&(f&&f.delete_node(n),g);switch(r.id===e.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":o=e.inArray(r.id,d.children);break;case"after":o=e.inArray(r.id,d.children)+1;break;case"inside":case"first":o=0;break;case"last":o=d.children.length;break;default:o||(o=0)}if(o>d.children.length&&(o=d.children.length),!this.check("move_node",n,d,o,{core:!0,origin:l,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===d.id){for(y=d.children.concat(),-1!==(g=e.inArray(n.id,y))&&(y=e.vakata.array_remove(y,g),o>g&&o--),g=[],v=0,b=y.length;b>v;v++)g[v>=o?v+1:v]=y[v];g[o]=n.id,d.children=g,this._node_changed(d.id),this.redraw(d.id===e.jstree.root)}else{for((g=n.children_d.concat()).push(n.id),v=0,b=n.parents.length;b>v;v++){for(y=[],C=f._model.data[n.parents[v]].children_d,S=0,w=C.length;w>S;S++)-1===e.inArray(C[S],g)&&y.push(C[S]);f._model.data[n.parents[v]].children_d=y}for(f._model.data[p].children=e.vakata.array_remove_item(f._model.data[p].children,n.id),v=0,b=d.parents.length;b>v;v++)this._model.data[d.parents[v]].children_d=this._model.data[d.parents[v]].children_d.concat(g);for(y=[],v=0,b=d.children.length;b>v;v++)y[v>=o?v+1:v]=d.children[v];for(y[o]=n.id,d.children=y,d.children_d.push(n.id),d.children_d=d.children_d.concat(n.children_d),n.parent=d.id,(g=d.parents.concat()).unshift(d.id),C=n.parents.length,n.parents=g,g=g.concat(),v=0,b=n.children_d.length;b>v;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*C),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,g);(p===e.jstree.root||d.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(p),this._node_changed(d.id)),s||this.redraw()}return i&&i.call(this,n,d,o),this.trigger("move_node",{node:n,parent:d.id,position:o,old_parent:p,old_position:h,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id,old_instance:f,new_instance:this}),n.id},copy_node:function(n,r,o,i,a,s,l){var c,u,p,h,d,f,m,y,g,v;if(r=this.get_node(r),o=o===t?0:o,!r)return!1;if(!o.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(n,r,o,i,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,u=n.length;u>c;c++)(h=this.copy_node(n[c],r,o,i,a,!0,l))&&(r=h,o="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(y=(n.parent||e.jstree.root).toString(),g=o.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,v=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)),!v||!v._id||this._id!==v._id,v&&v._id&&(n=v._model.data[n.id]),r.id===e.jstree.root&&("before"===o&&(o="first"),"after"===o&&(o="last")),o){case"before":o=e.inArray(r.id,g.children);break;case"after":o=e.inArray(r.id,g.children)+1;break;case"inside":case"first":o=0;break;case"last":o=g.children.length;break;default:o||(o=0)}if(o>g.children.length&&(o=g.children.length),!this.check("copy_node",n,g,o,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(m=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===m.id&&delete m.id,!(m=this._parse_model_from_json(m,g.id,g.parents.concat())))return!1;for(h=this.get_node(m),n&&n.state&&!1===n.state.loaded&&(h.state.loaded=!1),(p=[]).push(m),p=p.concat(h.children_d),this.trigger("model",{nodes:p,parent:g.id}),d=0,f=g.parents.length;f>d;d++)this._model.data[g.parents[d]].children_d=this._model.data[g.parents[d]].children_d.concat(p);for(p=[],d=0,f=g.children.length;f>d;d++)p[d>=o?d+1:d]=g.children[d];return p[o]=h.id,g.children=p,g.children_d.push(h.id),g.children_d=g.children_d.concat(h.children_d),g.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(g.id),s||this.redraw(g.id===e.jstree.root),i&&i.call(this,h,g,o),this.trigger("copy_node",{node:h,original:n,parent:g.id,position:o,old_parent:y,old_position:v&&v._id&&y&&v._model.data[y]&&v._model.data[y].children?e.inArray(n.id,v._model.data[y].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),h.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,r,s,l=[];for(r=0,s=t.length;s>r;r++)(n=this.get_node(t[r]))&&n.id&&n.id!==e.jstree.root&&l.push(n);return!!l.length&&(o=l,a=this,i="move_node",void this.trigger("cut",{node:t}))},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,r,s,l=[];for(r=0,s=t.length;s>r;r++)(n=this.get_node(t[r]))&&n.id&&n.id!==e.jstree.root&&l.push(n);return!!l.length&&(o=l,a=this,i="copy_node",void this.trigger("copy",{node:t}))},get_buffer:function(){return{mode:i,node:o,inst:a}},can_paste:function(){return!1!==i&&!1!==o},paste:function(e,t){return!!((e=this.get_node(e))&&i&&i.match(/^(copy_node|move_node)$/)&&o)&&(this[i](o,e,t,!1,!1,!1,a)&&this.trigger("paste",{parent:e.id,node:o,mode:i}),o=!1,i=!1,void(a=!1))},clear_buffer:function(){o=!1,i=!1,a=!1,this.trigger("clear_buffer")},edit:function(t,n,r){var o,i,a,s,l,u,p,h,d,f=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(d=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),d.text=n,o=this._data.core.rtl,i=this.element.width(),this._data.core.focused=d.id,a=t.children(".jstree-anchor").focus(),s=e("<span>"),l=n,u=e("<div />",{css:{position:"absolute",top:"-200px",left:o?"0px":"-1000px",visibility:"hidden"}}).appendTo(c.body),p=e("<input />",{value:l,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var o,i=s.children(".jstree-rename-input"),c=i.val(),h=this.settings.core.force_text;""===c&&(c=l),u.remove(),s.replaceWith(a),s.remove(),l=h?l:e("<div></div>").append(e.parseHTML(l)).html(),t=this.get_node(t),this.set_text(t,l),(o=!!this.rename_node(t,h?e("<div></div>").text(c).text():e("<div></div>").append(e.parseHTML(c)).html()))||this.set_text(t,l),this._data.core.focused=d.id,setTimeout(e.proxy(function(){var e=this.get_node(d.id,!0);e.length&&(this._data.core.focused=d.id,e.children(".jstree-anchor").focus())},this),0),r&&r.call(this,d,o,f),p=null},this),keydown:function(e){var t=e.which;27===t&&(f=!0,this.value=l),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){p.width(Math.min(u.text("pW"+this.value).width(),i))},keypress:function(e){return 13!==e.which&&void 0}}),h={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},s.attr("class",a.attr("class")).append(a.contents().clone()).append(p),a.replaceWith(s),u.css(h),p.css(h).width(Math.min(u.text("pW"+p[0].value).width(),i))[0].select(),void e(c).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){p&&t.target!==p&&e(p).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),n=r+"/"+t+"/style.css"}n&&-1===e.inArray(n,s)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),s.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,r){var o,i,a,s;if(e.isArray(n)){for(n=n.slice(),o=0,i=n.length;i>o;o++)this.set_icon(n[o],r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(s=n.icon,n.icon=!0===r||null===r||r===t||""===r||r,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(a.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===r||null===r||r===t||""===r?(a.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),!1===s&&this.show_icon(n)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(a.removeClass(s).css("background",""),a.addClass(r+" jstree-themeicon-custom").attr("rel",r),!1===s&&this.show_icon(n)):(a.removeClass(s).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),!1===s&&this.show_icon(n)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,r,o;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(o=this.get_node(t,!0),t.icon=!o.length||o.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),o.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var r=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,o){-1===e.inArray(o.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==o.value&&""!==e.trim(o.value)&&(n?r[o.name]=o.value:r.push(o.name))}),r},e.vakata.array_unique=function(e){var n,r,o=[],i={};for(n=0,r=e.length;r>n;n++)i[e[n]]===t&&(o.push(e[n]),i[e[n]]=!0);return o},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var r=e.inArray(n,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,n,r,o){if(e.filter)return e.filter(t,n);for(o in r=[],e)~~o+""==o+""&&o>=0&&t.call(n,e[o],+o,e)&&r.push(e[o]);return r},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,r){var o,i;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var a={};for(o=0,i=n.length;i>o;o++)a[n[o]]=1;for(o=0,i=r.selected.length;i>o;o++)a[r.selected[o]]?a[r.selected[o]]=2:r.changed.selected.push(r.selected[o]);for(o=0,i=n.length;i>o;o++)1===a[n[o]]&&r.changed.deselected.push(n[o]);n=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return n=[],t.refresh.apply(this,arguments)}};var u,p,h=c.createElement("I");h.className="jstree-icon jstree-checkbox",h.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,r,o=this._model.data,i=(o[t.parent],t.nodes);for(n=0,r=i.length;r>n;n++)o[i[n]].state.checked=o[i[n]].state.checked||o[i[n]].original&&o[i[n]].original.state&&o[i[n]].original.state.checked,o[i[n]].state.checked&&this._data.checkbox.selected.push(i[n])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,n){var r,o,i,a,s,l,c=this._model.data,u=c[n.parent],p=n.nodes,h=[],d=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==d.indexOf("down"))if(u.state[f?"selected":"checked"]){for(o=0,i=p.length;i>o;o++)c[p[o]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(p)}else for(o=0,i=p.length;i>o;o++)if(c[p[o]].state[f?"selected":"checked"]){for(a=0,s=c[p[o]].children_d.length;s>a;a++)c[c[p[o]].children_d[a]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(c[p[o]].children_d)}if(-1!==d.indexOf("up")){for(o=0,i=u.children_d.length;i>o;o++)c[u.children_d[o]].children.length||h.push(c[u.children_d[o]].parent);for(h=e.vakata.array_unique(h),a=0,s=h.length;s>a;a++)for(u=c[h[a]];u&&u.id!==e.jstree.root;){for(r=0,o=0,i=u.children.length;i>o;o++)r+=c[u.children[o]].state[f?"selected":"checked"];if(r!==i)break;u.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(u.id),(l=this.get_node(u,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked"),u=this.get_node(u.parent)}}this._data[f?"core":"checkbox"].selected=e.vakata.array_unique(this._data[f?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var r,o,i,a,s=n.node,l=this._model.data,c=this.get_node(s.parent),u=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection,h={},d=this._data[p?"core":"checkbox"].selected;for(r=0,o=d.length;o>r;r++)h[d[r]]=!0;if(-1!==u.indexOf("down")){var f=this._cascade_new_checked_state(s.id,!0),m=s.children_d.concat(s.id);for(r=0,o=m.length;o>r;r++)f.indexOf(m[r])>-1?h[m[r]]=!0:delete h[m[r]]}if(-1!==u.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(i=0,r=0,o=c.children.length;o>r;r++)i+=l[c.children[r]].state[p?"selected":"checked"];if(i!==o)break;c.state[p?"selected":"checked"]=!0,h[c.id]=!0,(a=this.get_node(c,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(r in d=[],h)h.hasOwnProperty(r)&&d.push(r);this._data[p?"core":"checkbox"].selected=d},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var r,o,i,a=this.get_node(e.jstree.root),s=this._model.data;for(r=0,o=a.children_d.length;o>r;r++)(i=s[a.children_d[r]])&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(e,t){var n,r,o,i=t.node,a=(this.get_node(i,!0),this.settings.checkbox.cascade),s=this.settings.checkbox.tie_selection,l=this._data[s?"core":"checkbox"].selected,c=i.children_d.concat(i.id);if(-1!==a.indexOf("down")){var u=this._cascade_new_checked_state(i.id,!1);l=l.filter(function(e){return-1===c.indexOf(e)||u.indexOf(e)>-1})}if(-1!==a.indexOf("up")&&-1===l.indexOf(i.id)){for(n=0,r=i.parents.length;r>n;n++)(o=this._model.data[i.parents[n]]).state[s?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),(o=this.get_node(i.parents[n],!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(s?"jstree-clicked":"jstree-checked");l=l.filter(function(e){return-1===i.parents.indexOf(e)})}this._data[s?"core":"checkbox"].selected=l},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var r,o,i,a,s=this.get_node(n.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[c?"selected":"checked"];){for(i=0,r=0,o=s.children.length;o>r;r++)i+=l[s.children[r]].state[c?"selected":"checked"];if(!(o>0&&i===o))break;s.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(s.id),(a=this.get_node(s,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var r,o,i,a,s,l=n.is_multi,c=n.old_parent,u=this.get_node(n.parent),p=this._model.data,h=this.settings.checkbox.tie_selection;if(!l)for(r=this.get_node(c);r&&r.id!==e.jstree.root&&!r.state[h?"selected":"checked"];){for(o=0,i=0,a=r.children.length;a>i;i++)o+=p[r.children[i]].state[h?"selected":"checked"];if(!(a>0&&o===a))break;r.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=u;r&&r.id!==e.jstree.root;){for(o=0,i=0,a=r.children.length;a>i;i++)o+=p[r.children[i]].state[h?"selected":"checked"];if(o===a)r.state[h?"selected":"checked"]||(r.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!r.state[h?"selected":"checked"])break;r.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,r.id),(s=this.get_node(r,!0))&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}},this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var r,o,i,a,s={},l=this._model.data,c=this.settings.checkbox.tie_selection,u=this._data[c?"core":"checkbox"].selected,p=[],h=this,d=[];for(r=0,o=u.length;o>r;r++)if(l[u[r]]&&l[u[r]].parents)for(i=0,a=l[u[r]].parents.length;a>i&&s[l[u[r]].parents[i]]===t;i++)l[u[r]].parents[i]!==e.jstree.root&&(s[l[u[r]].parents[i]]=!0,p.push(l[u[r]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var n,c=h.get_node(this);if(c)if(c.state.loaded){for(r=0,o=c.children_d.length;o>r;r++)if(!(n=l[c.children_d[r]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(s[n.id]===t&&n.id!==e.jstree.root&&(s[n.id]=!0,p.push(n.id)),i=0,a=n.parents.length;a>i;i++)s[n.parents[i]]===t&&n.parents[i]!==e.jstree.root&&(s[n.parents[i]]=!0,p.push(n.parents[i]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(s[c.id]===t&&c.id!==e.jstree.root&&(s[c.id]=!0,p.push(c.id)),i=0,a=c.parents.length;a>i;i++)s[c.parents[i]]===t&&c.parents[i]!==e.jstree.root&&(s[c.parents[i]]=!0,p.push(c.parents[i]))}),r=0,o=p.length;o>r;r++)l[p[r]].state[c?"selected":"checked"]||d.push(n?l[p[r]]:p[r]);return d},this._undetermined=function(){if(null!==this.element){var e,t,n,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;t>e;e++)(n=this.get_node(r[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,o,i){if(t=r.redraw_node.apply(this,arguments)){var a,s,l=null,c=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),c=h.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),l.insertBefore(c,l.childNodes[0]))}return o||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,r,o=this.settings.checkbox.cascade,i=this.settings.checkbox.tie_selection,a=this._data[i?"core":"checkbox"].selected,s=this._model.data;if(!t||!0===t.state[i?"selected":"checked"]||-1===o.indexOf("undetermined")||-1===o.indexOf("down")&&-1===o.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,r=t.children_d.length;r>n;n++)if(-1!==e.inArray(t.children_d[n],a)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,r,o;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.disable_checkbox(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))))},this.enable_checkbox=function(t){var n,r,o;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.enable_checkbox(t[n]);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(o=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,o&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,r,o,i=this.settings.checkbox.tie_selection,a=this._model.data[e],s=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)o=this.get_checked_descendants(e),a.state[i?"selected":"checked"]&&o.push(a.id),s=s.concat(o);else{if(a.children)for(n=0,r=a.children.length;r>n;n++){var c=a.children[n];o=this._cascade_new_checked_state(c,t),s=s.concat(o),o.indexOf(c)>-1&&l.push(c)}var u=this.get_node(a,!0),p=l.length>0&&l.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=p),p?(a.state[i?"selected":"checked"]=!1,u.attr("aria-selected",!1).children(".jstree-anchor").removeClass(i?"jstree-clicked":"jstree-checked")):t&&l.length===a.children.length?(a.state[i?"selected":"checked"]=t,s.push(a.id),u.attr("aria-selected",!0).children(".jstree-anchor").addClass(i?"jstree-clicked":"jstree-checked")):(a.state[i?"selected":"checked"]=!1,u.attr("aria-selected",!1).children(".jstree-anchor").removeClass(i?"jstree-clicked":"jstree-checked"))}return s},this.get_checked_descendants=function(e){var t=this,n=t.settings.checkbox.tie_selection,r=t._model.data[e];return r.children_d.filter(function(e){return t._model.data[e].state[n?"selected":"checked"]})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var r,o,i;if(e.isArray(t)){for(t=t.slice(),o=0,i=t.length;i>o;o++)this.check_node(t[o],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(r=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var r,o,i;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.uncheck_node(t[r],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(i=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),i.length&&i.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;n>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,r,o,i,a=this.get_checked(!0),s={};for(n=0,r=a.length;r>n;n++)s[a[n].id]=a[n];for(n=0,r=a.length;r>n;n++)for(o=0,i=a[n].children_d.length;i>o;o++)s[a[n].children_d[o]]&&delete s[a[n].children_d[o]];for(n in a=[],s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,r,o=this.get_checked(!0),i=[];for(n=0,r=o.length;r>n;n++)o[n].children.length||i.push(o[n].id);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},this.load_node=function(t,n){var o,i,a;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&((a=this.get_node(t))&&a.state.loaded))for(o=0,i=a.children_d.length;i>o;o++)this._model.data[a.children_d[o]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,a.children_d[o]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var o=r.set_state.apply(this,arguments);if(o&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var i=this;e.each(t.checkbox,function(e,t){i.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return o},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){return this.settings.conditionalselect.call(this,this.get_node(e),n)?t.activate_node.call(this,e,n):void 0}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.create_node(r,{},"last",function(e){try{n.edit(e)}catch(t){setTimeout(function(){n.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.delete_node(n.get_selected()):n.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.cut(n.get_top_selected()):n.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.copy(n.get_top_selected()):n.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(n,r){this.bind=function(){r.bind.call(this);var t,n,o=0,i=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),o=e.ctrlKey?+new Date:0,(t||i)&&(o=+new Date+1e4),i&&clearTimeout(i),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!o||+new Date-o>250)&&e.vakata.context.hide(),o=0},this)).on("touchstart.jstree",".jstree-anchor",function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.originalEvent.changedTouches[0].clientX,n=r.originalEvent.changedTouches[0].clientY,i=setTimeout(function(){e(r.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(r){i&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(Math.abs(t-r.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-r.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(i),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){i&&clearTimeout(i)}),e(c).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(n,r,o,i){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var a=this.settings.contextmenu,s=this.get_node(n,!0),l=s.children(".jstree-anchor"),c=!1,u=!1;(a.show_at_node||r===t||o===t)&&(c=l.offset(),r=c.left,o=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,i),u=a.items,e.isFunction(u)&&(u=u.call(this,n,e.proxy(function(e){this._show_contextmenu(n,r,o,e)},this))),e.isPlainObject(u)&&this._show_contextmenu(n,r,o,u)},this._show_contextmenu=function(t,n,r,o){var i=this.get_node(t,!0),a=i.children(".jstree-anchor");e(c).one("context_show.vakata.jstree",e.proxy(function(t,n){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(r),a.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:r},o),this.trigger("show_contextmenu",{node:t,x:n,y:r})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,r){if(!t)return!1;r||(n.html="",n.items=[]);var o,i="",a=!1;return r&&(i+="<ul>"),e.each(t,function(t,r){return!r||(n.items.push(r),!a&&r.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,i+="<li class='"+(r._class||"")+(!0===r._disabled||e.isFunction(r._disabled)&&r._disabled({item:r,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(n.items.length-1)+"' "+(r.title?"title='"+r.title+"'":"")+">",e.vakata.context.settings.icons&&(i+="<i ",r.icon&&(i+=-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?" style='background:url(\""+r.icon+"\") center center no-repeat' ":" class='"+r.icon+"' "),i+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),i+=(e.isFunction(r.label)?r.label({item:t,reference:n.reference,element:n.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&((o=e.vakata.context._parse(r.submenu,!0))&&(i+=o)),i+="</li>",void(r.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)))}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(i+="</ul>"),r||(n.html=i,e.vakata.context._trigger("parse")),i.length>10&&i},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var r=n.children("ul"),o=n.offset().left,i=o+n.outerWidth(),a=n.offset().top,s=r.width(),l=r.height(),c=e(window).width()+e(window).scrollLeft(),u=e(window).height()+e(window).scrollTop();t?n[i-(s+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[i+s>c&&o>c-i?"addClass":"removeClass"]("vakata-context-right"),a+l+10>u&&r.css("bottom","-1px"),n.hasClass("vakata-context-right")?s>o&&r.css("margin-right",o-s):s>c-i&&r.css("margin-left",c-i-s),r.show()}},show:function(r,o,i){var a,s,l,u,p,h,d,f;switch(n.element&&n.element.length&&n.element.width(""),!0){case!o&&!r:return!1;case!!o&&!!r:n.reference=r,n.position_x=o.x,n.position_y=o.y;break;case!o&&!!r:n.reference=r,a=r.offset(),n.position_x=a.left+r.outerHeight(),n.position_y=a.top;break;case!!o&&!r:n.position_x=o.x,n.position_y=o.y}r&&!i&&e(r).data("vakata_contextmenu")&&(i=e(r).data("vakata_contextmenu")),e.vakata.context._parse(i)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(c.body),s=n.element,l=n.position_x,u=n.position_y,p=s.width(),h=s.height(),d=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&((l-=s.outerWidth()-e(r).outerWidth())<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20)),l+p+20>d&&(l=d-(p+20)),u+h+20>f&&(u=f-(h+20)),n.element.css({left:l,top:u}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e(c.body).css("direction");var r=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var r=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(c).on("mousedown.vakata.jstree",function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,r){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in c.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),r=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,o=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(o=e.vakata.html.escape(o)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[n],t))){if(u={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:r>1?this.get_top_selected():[n.id]},p=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,u,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+o+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:p,data:u})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:p,data:u}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:p,data:u}),!1},this))},this.redraw_node=function(e,t,r,o){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var i,a,s=null;for(i=0,a=e.childNodes.length;a>i;i++)if(e.childNodes[i]&&e.childNodes[i].className&&-1!==e.childNodes[i].className.indexOf("jstree-anchor")){s=e.childNodes[i];break}s&&s.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,r=!1,o=!1,i=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dragover.vakata.jstree",function(t){p&&e.vakata.dnd._trigger("move",t,{helper:e(),element:p,data:u})}).on("drop.vakata.jstree",function(t){p&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:p,data:u}),p=null,u=null)}).on("dnd_start.vakata.jstree",function(e,t){n=!1,o=!1,t&&t.data&&t.data.jstree&&a.appendTo(c.body)}).on("dnd_move.vakata.jstree",function(s,l){var c=l.event.target!==o.target;if(i&&(!l.event||"dragover"!==l.event.type||c)&&clearTimeout(i),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){o=l.event;var u,p,h,d,f,m,y,g,v,b,S,w,C,_,k,T,x=e.jstree.reference(l.event.target),E=!1,A=!1,O=!1;if(x&&x._data&&x._data.dnd)if(a.attr("class","jstree-"+x.get_theme()+(x.settings.core.themes.responsive?" jstree-dnd-responsive":"")),k=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+x.get_theme()+" jstree-"+x.get_theme()+"-"+x.get_theme_variant()+" "+(x.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[k?"show":"hide"](),l.event.target!==x.element[0]&&l.event.target!==x.get_container_ul()[0]||0!==x.get_container_ul().children().length){if((E=x.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&E.length&&E.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(A=E.offset(),O=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-A.top,h=E.outerHeight(),m=h/3>O?["b","i","a"]:O>h-h/3?["a","i","b"]:O>h/2?["i","a","b"]:["i","b","a"],e.each(m,function(t,o){switch(o){case"b":u=A.left-6,p=A.top,d=x.get_parent(E),f=E.parent().index();break;case"i":C=x.settings.dnd.inside_pos,_=x.get_node(E.parent()),u=A.left-2,p=A.top+h/2+1,d=_.id,f="first"===C?0:"last"===C?_.children.length:Math.min(C,_.children.length);break;case"a":u=A.left-6,p=A.top+h,d=x.get_parent(E),f=E.parent().index()+1}for(y=!0,g=0,v=l.data.nodes.length;v>g;g++)if(b=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",S=f,"move_node"===b&&"a"===o&&l.data.origin&&l.data.origin===x&&d===x.get_parent(l.data.nodes[g])&&(w=x.get_node(d),S>e.inArray(l.data.nodes[g],w.children)&&(S-=1)),!(y=y&&(x&&x.settings&&x.settings.dnd&&!1===x.settings.dnd.check_while_dragging||x.check(b,l.data.origin&&l.data.origin!==x?l.data.origin.get_node(l.data.nodes[g]):l.data.nodes[g],d,S,{dnd:!0,ref:x.get_node(E.parent()),pos:o,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==x,is_foreign:!l.data.origin})))){x&&x.last_error&&(r=x.last_error());break}return"i"===o&&E.parent().is(".jstree-closed")&&x.settings.dnd.open_timeout&&(!l.event||"dragover"!==l.event.type||c)&&(i&&clearTimeout(i),i=setTimeout(function(e,t){return function(){e.open_node(t)}}(x,E),x.settings.dnd.open_timeout)),y?((T=x.get_node(d,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T.addClass("jstree-dnd-parent")),n={ins:x,par:d,pos:"i"!==o||"last"!==C||0!==f||x.is_loaded(_)?f:"last"},a.css({left:u+"px",top:p+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=k?"copy":"move"),r={},m=!0,!1):void 0}),!0===m))return}else{for(y=!0,g=0,v=l.data.nodes.length;v>g&&(y=y&&x.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==x?l.data.origin.get_node(l.data.nodes[g]):l.data.nodes[g],e.jstree.root,"last",{dnd:!0,ref:x.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==x,is_foreign:!l.data.origin}));g++);if(y)return n={ins:x,par:e.jstree.root,pos:"last"},a.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=k?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),n=!1,o=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,s){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i&&clearTimeout(i),s&&s.data&&s.data.jstree){a.hide().detach();var l,c,u=[];if(n){for(l=0,c=s.data.nodes.length;c>l;l++)u[l]=s.data.origin?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l];n.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](u,n.par,n.pos,!1,!1,!1,s.data.origin)}else(l=e(s.event.target).closest(".jstree")).length&&r&&r.error&&"check"===r.error&&((l=l.jstree(!0))&&l.settings.core.error.call(this,r));o=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,s){(s=e.vakata.dnd._get())&&s.data&&s.data.jstree&&("keyup"===t.type&&27===t.which?(i&&clearTimeout(i),n=!1,r=!1,o=!1,i=!1,a.hide().detach(),e.vakata.dnd._clean()):(s.helper.find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),o&&(o.metaKey=t.metaKey,o.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",o))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,r,o){o===t&&(o=e.vakata.dnd._get()),o.event=r,e(c).triggerHandler("dnd_"+n+".vakata",o)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var r=n.scroll_e.scrollTop(),o=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(r+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(o+n.scroll_l*e.vakata.dnd.settings.scroll_speed),(r!==n.scroll_e.scrollTop()||o!==n.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,r,o){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=r,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==o&&(n.helper=e("<div id='vakata-dnd'></div>").html(o).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(c.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var r=!1,o=!1,i=!1,a=!1,s=!1,l=!1,u=!1,p=!1,h=!1,d=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=e(this),o=r.offset();return this.scrollHeight>this.offsetHeight&&(o.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-o.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(o.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-o.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l?(n.scroll_e=e(this),!1):void 0}),n.scroll_e||(r=e(c),o=e(window),i=r.height(),a=o.height(),s=r.width(),l=o.width(),u=r.scrollTop(),p=r.scrollLeft(),i>a&&t.pageY-u<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),i>a&&a-(t.pageY-u)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),s>l&&t.pageX-p<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),s>l&&l-(t.pageX-p)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=r)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(h=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),d=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),i&&h+25>i&&(h=i-50),s&&d+n.helper_w>s&&(d=s-(n.helper_w+2)),n.helper.css({left:d+"px",top:h+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var r=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){r&&clearTimeout(r)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,r,o,i){var a,s,l,c=this.settings.massload,u=(JSON.stringify(t),[]),p=this._model.data;if(!o){for(a=0,s=t.length;s>a;a++)(!p[t[a]]||!p[t[a]].state.loaded&&!p[t[a]].state.failed||i)&&(u.push(t[a]),(l=this.get_node(t[a],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},u.length){if(e.isFunction(c))return c.call(this,u,e.proxy(function(e){var a,s;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,s=t.length;s>a;a++)(l=this.get_node(t[a],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,o,i)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,u)),e.isFunction(c.data)&&(c.data=c.data.call(this,u)),e.ajax(c).done(e.proxy(function(e,a,s){var c,u;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,u=t.length;u>c;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,o,i)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,r,o,i)},this))}}return n._load_nodes.call(this,t,r,o,i)},this._load_node=function(t,r){var o,i=this._data.massload[t.id],a=null;return i?(a=this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}):i,function(e){r.call(this,e)}),(o=this.get_node(t.id,!0))&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):n._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var r,o,i,a,s=this._model.data,l=[];for(r=0,o=n.res.length;o>r;r++)if(s[n.res[r]]&&!s[n.res[r]].state.hidden&&(l.push(n.res[r]),l=l.concat(s[n.res[r]].parents),this._data.search.smc))for(i=0,a=s[n.res[r]].children_d.length;a>i;i++)s[s[n.res[r]].children_d[i]]&&!s[s[n.res[r]].children_d[i]].state.hidden&&l.push(s[n.res[r]].children_d[i]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,r,o,i,a,s){if(!1===n||""===e.trim(n.toString()))return this.clear_search();i=(i=this.get_node(i))&&i.id?i.id:null,n=n.toString();var l,c,u=this.settings.search,p=!!u.ajax&&u.ajax,h=this._model.data,d=null,f=[],m=[];if(this._data.search.res.length&&!a&&this.clear_search(),o===t&&(o=u.show_only_matches),s===t&&(s=u.show_only_matches_children),!r&&!1!==p)return e.isFunction(p)?p.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,o,i,a,s)})},this),i):((p=e.extend({},p)).data||(p.data={}),p.data.str=n,i&&(p.data.inside=i),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(p).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(p)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,o,i,a,s)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=o,this._data.search.smc=s),d=new e.vakata.search(n,!0,{caseSensitive:u.case_sensitive,fuzzy:u.fuzzy}),e.each(h[i||e.jstree.root].children_d,function(e,t){var r=h[t];r.text&&!r.state.hidden&&(!u.search_leaves_only||r.state.loaded&&0===r.children.length)&&(u.search_callback&&u.search_callback.call(this,n,r)||!u.search_callback&&d.search(r.text).isMatch)&&(f.push(t),m=m.concat(r.parents))}),f.length){for(m=e.vakata.array_unique(m),l=0,c=m.length;c>l;l++)m[l]!==e.jstree.root&&h[m[l]]&&!0===this.open_node(m[l],null,0)&&this._data.search.opn.push(m[l]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:o})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,o,i){if((t=r.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var a,s,l=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,r){r=r||{},!1!==(r=e.extend({},e.vakata.search.defaults,r)).fuzzy&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var o,i,a,s,l=r.location,c=r.distance,u=r.threshold,p=t.length;return p>32&&(r.fuzzy=!1),r.fuzzy&&(o=1<<p-1,i=function(){var e={},n=0;for(n=0;p>n;n++)e[t.charAt(n)]=0;for(n=0;p>n;n++)e[t.charAt(n)]|=1<<p-n-1;return e}(),a=function(e,t){var n=e/p,r=Math.abs(l-t);return c?n+r/c:r?1:n}),s=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var n,s,c,h,d,f,m,y,g,v=e.length,b=u,S=e.indexOf(t,l),w=p+v,C=1,_=[];for(-1!==S&&(b=Math.min(a(0,S),b),-1!==(S=e.lastIndexOf(t,l+p))&&(b=Math.min(a(0,S),b))),S=-1,n=0;p>n;n++){for(c=0,h=w;h>c;)a(n,l+h)<=b?c=h:w=h,h=Math.floor((w-c)/2+c);for(w=h,f=Math.max(1,l-h+1),m=Math.min(l+h,v)+p,(y=new Array(m+2))[m+1]=(1<<n)-1,s=m;s>=f;s--)if(g=i[e.charAt(s-1)],y[s]=0===n?(y[s+1]<<1|1)&g:(y[s+1]<<1|1)&g|(d[s+1]|d[s])<<1|1|d[s+1],y[s]&o&&(C=a(n,s-1),b>=C)){if(b=C,S=s-1,_.push(S),!(S>l))break;f=Math.max(1,2*l-S)}if(a(n+1,l)>b)break;d=y}return{isMatch:S>=0,score:C}},!0===n?{search:s}:s(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var r,o;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(r=0,o=t.children_d.length;o>r;r++)this.sort(t.children_d[r],!1)}};var d=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){d&&clearTimeout(d),d=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(n,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,r){this.init=function(n,o){var i,a;if(o&&o.types&&o.types.default)for(i in o.types)if("default"!==i&&i!==e.jstree.root&&o.types.hasOwnProperty(i))for(a in o.types.default)o.types.default.hasOwnProperty(a)&&o.types[i][a]===t&&(o.types[i][a]=o.types.default[a]);r.init.call(this,n,o),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){r.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,r){var o,i,a,s=this._model.data,l=r.nodes,c=this.settings.types,u="default";for(o=0,i=l.length;i>o;o++){if(u="default",s[l[o]].original&&s[l[o]].original.type&&c[s[l[o]].original.type]&&(u=s[l[o]].original.type),s[l[o]].data&&s[l[o]].data.jstree&&s[l[o]].data.jstree.type&&c[s[l[o]].data.jstree.type]&&(u=s[l[o]].data.jstree.type),s[l[o]].type=u,!0===s[l[o]].icon&&c[u].icon!==t&&(s[l[o]].icon=c[u].icon),c[u].li_attr!==t&&"object"==typeof c[u].li_attr)for(a in c[u].li_attr)if(c[u].li_attr.hasOwnProperty(a)){if("id"===a)continue;s[l[o]].li_attr[a]===t?s[l[o]].li_attr[a]=c[u].li_attr[a]:"class"===a&&(s[l[o]].li_attr.class=c[u].li_attr.class+" "+s[l[o]].li_attr.class)}if(c[u].a_attr!==t&&"object"==typeof c[u].a_attr)for(a in c[u].a_attr)if(c[u].a_attr.hasOwnProperty(a)){if("id"===a)continue;s[l[o]].a_attr[a]===t?s[l[o]].a_attr[a]=c[u].a_attr[a]:"href"===a&&"#"===s[l[o]].a_attr[a]?s[l[o]].a_attr.href=c[u].a_attr.href:"class"===a&&(s[l[o]].a_attr.class=c[u].a_attr.class+" "+s[l[o]].a_attr.class)}}s[e.jstree.root].type=e.jstree.root},this)),r.bind.call(this)},this.get_json=function(t,n,o){var i,a,s=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=r.get_json.call(this,t,l,o);if(!1===c)return!1;if(e.isArray(c))for(i=0,a=c.length;a>i;i++)c[i].type=c[i].id&&s[c[i].id]&&s[c[i].id].type?s[c[i].id].type:"default",n&&n.no_id&&(delete c[i].id,c[i].li_attr&&c[i].li_attr.id&&delete c[i].li_attr.id,c[i].a_attr&&c[i].a_attr.id&&delete c[i].a_attr.id);else c.type=c.id&&s[c.id]&&s[c.id].type?s[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,r=t.length;r>n;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,o,i,a,s){if(!1===r.check.call(this,n,o,i,a,s))return!1;o=o&&o.id?o:this.get_node(o),i=i&&i.id?i:this.get_node(i);var l,c,u,p,h=o&&o.id?s&&s.origin?s.origin:e.jstree.reference(o.id):null;switch(h=h&&h._model&&h._model.data?h._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(o.id,i.children)){if((l=this.get_rules(i)).max_children!==t&&-1!==l.max_children&&l.max_children===i.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!o||!o.id)&&o.id,par:!(!i||!i.id)&&i.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(o.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!o||!o.id)&&o.id,par:!(!i||!i.id)&&i.id})},!1;if(h&&o.children_d&&o.parents){for(c=0,u=0,p=o.children_d.length;p>u;u++)c=Math.max(c,h[o.children_d[u]].parents.length);c=c-o.parents.length+1}(0>=c||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!o||!o.id)&&o.id,par:!(!i||!i.id)&&i.id})},!1;i=this.get_node(i.parent),l=this.get_rules(i),c++}while(i)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,r){var o,i,a,s,l,c,u,p,h=this._model.data;if(e.isArray(n)){for(n=n.slice(),i=0,a=n.length;a>i;i++)this.set_type(n[i],r);return!0}if(o=this.settings.types,n=this.get_node(n),!o[r]||!n)return!1;if((u=this.get_node(n,!0))&&u.length&&(p=u.children(".jstree-anchor")),s=n.type,l=this.get_icon(n),n.type=r,(!0===l||!o[s]||o[s].icon!==t&&l===o[s].icon)&&this.set_icon(n,o[r].icon===t||o[r].icon),o[s]&&o[s].li_attr!==t&&"object"==typeof o[s].li_attr)for(c in o[s].li_attr)if(o[s].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[n.id].li_attr.class=(h[n.id].li_attr.class||"").replace(o[s].li_attr[c],""),u&&u.removeClass(o[s].li_attr[c])):h[n.id].li_attr[c]===o[s].li_attr[c]&&(h[n.id].li_attr[c]=null,u&&u.removeAttr(c))}if(o[s]&&o[s].a_attr!==t&&"object"==typeof o[s].a_attr)for(c in o[s].a_attr)if(o[s].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[n.id].a_attr.class=(h[n.id].a_attr.class||"").replace(o[s].a_attr[c],""),p&&p.removeClass(o[s].a_attr[c])):h[n.id].a_attr[c]===o[s].a_attr[c]&&("href"===c?(h[n.id].a_attr[c]="#",p&&p.attr("href","#")):(delete h[n.id].a_attr[c],p&&p.removeAttr(c)))}if(o[r].li_attr!==t&&"object"==typeof o[r].li_attr)for(c in o[r].li_attr)if(o[r].li_attr.hasOwnProperty(c)){if("id"===c)continue;h[n.id].li_attr[c]===t?(h[n.id].li_attr[c]=o[r].li_attr[c],u&&("class"===c?u.addClass(o[r].li_attr[c]):u.attr(c,o[r].li_attr[c]))):"class"===c&&(h[n.id].li_attr.class=o[r].li_attr[c]+" "+h[n.id].li_attr.class,u&&u.addClass(o[r].li_attr[c]))}if(o[r].a_attr!==t&&"object"==typeof o[r].a_attr)for(c in o[r].a_attr)if(o[r].a_attr.hasOwnProperty(c)){if("id"===c)continue;h[n.id].a_attr[c]===t?(h[n.id].a_attr[c]=o[r].a_attr[c],p&&("class"===c?p.addClass(o[r].a_attr[c]):p.attr(c,o[r].a_attr[c]))):"href"===c&&"#"===h[n.id].a_attr[c]?(h[n.id].a_attr.href=o[r].a_attr.href,p&&p.attr("href",o[r].a_attr.href)):"class"===c&&(h[n.id].a_attr.class=o[r].a_attr.class+" "+h[n.id].a_attr.class,p&&p.addClass(o[r].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,r){this.check=function(t,n,o,i,a){if(!1===r.check.call(this,t,n,o,i,a))return!1;if(n=n&&n.id?n:this.get_node(n),!(o=o&&o.id?o:this.get_node(o))||!o.children)return!0;var s,l,c,u="rename_node"===t?i:n.text,p=[],h=this.settings.unique.case_sensitive,d=this.settings.unique.trim_whitespace,f=this._model.data;for(s=0,l=o.children.length;l>s;s++)c=f[o.children[s]].text,h||(c=c.toLowerCase()),d&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),p.push(c);switch(h||(u=u.toLowerCase()),d&&(u=u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=n.text||"",h||(c=c.toLowerCase()),d&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(s=-1===e.inArray(u,p)||n.text&&c===u)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+u+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})}),s;case"create_node":return(s=-1===e.inArray(u,p))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+u+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})}),s;case"copy_node":return(s=-1===e.inArray(u,p))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+u+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})}),s;case"move_node":return(s=n.parent===o.id&&(!a||!a.is_multi)||-1===e.inArray(u,p))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+u+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!o||!o.id)&&o.id})}),s}return!0},this.create_node=function(n,o,i,a,s){if(!o||o.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return r.create_node.call(this,n,o,i,a,s);if(!(i=i===t?"last":i).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return r.create_node.call(this,n,o,i,a,s);o||(o={});var l,c,u,p,h,d,f=this._model.data,m=this.settings.unique.case_sensitive,y=this.settings.unique.trim_whitespace,g=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),u=[],p=0,h=n.children.length;h>p;p++)d=f[n.children[p]].text,m||(d=d.toLowerCase()),y&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),u.push(d);for(p=1,d=c,m||(d=d.toLowerCase()),y&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(d,u);)c=g.call(this,l,++p).toString(),d=c,m||(d=d.toLowerCase()),y&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));o.text=c}return r.create_node.call(this,n,o,i,a,s)}};var f=c.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,r,o=!1;for(n=0,r=t.selected.length;r>n;n++)(o=this.get_node(t.selected[n],!0))&&o.length&&o.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,o,i){if(t=n.redraw_node.apply(this,arguments)){var a=f.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var m=Object.create(HTMLElement.prototype);m.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",function(){},{prototype:m})}catch(e){}}}})?o.apply(t,i):o)||(e.exports=a)}()}).call(this,n(9))},function(e,t,n){},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})||(o=e.apply(void 0,i)),n=i,o}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return i++,a.apply(void 0,arguments)}].concat(n)),c=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=s.map(function(n){return n.apply(void 0,[e,t].concat(r))});return l.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))};return c.resultFunc=a,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var a=t.createSelector=i(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var a,s=n(0),l=(a=s)&&a.__esModule?a:{default:a},c=n(675),u=n(951),p=n(719),h=n(816),d=(n(751),n(817)),f=n(819),m=n(955),y=function(e){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={currentPage:this.props.currentPage?this.props.currentPage:0,currentSort:{column:null,direction:this.props.defaultSortDescending?-1:1},filter:""},!1!==e.sortBy||!1!==e.defaultSort){var n=e.sortBy||e.defaultSort;this.state.currentSort=this.getCurrentSort(n)}}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),o(t,[{key:"filterBy",value:function(e){this.setState({filter:e})}},{key:"translateColumnsArray",value:function(e){return e.map(function(e,t){if("string"==typeof e)return{key:e,label:e};if(void 0!==e.sortable){var n=!0===e.sortable?"default":e.sortable;this._sortable[e.key]=n}return e}.bind(this))}},{key:"parseChildData",value:function(e){var t=[],n=void 0;return void 0!==e.children&&l.default.Children.forEach(e.children,function(e){if(null!=e)switch(e.type){case h.Thead:break;case f.Tfoot:void 0!==n&&console.warn("You can only have one <Tfoot>, but more than one was specified.Ignoring all but the last one"),n=e;break;case d.Tr:var r=e.props.data||{};l.default.Children.forEach(e.props.children,function(e){if("object"==typeof e&&null!=e)if(void 0!==e.props.column){var t=void 0;if(void 0!==e.props.data)t=e.props.data;else{if(void 0===e.props.children)return void console.warn("exports.Td specified without a `data` property or children, ignoring");t=e.props.children}r[e.props.column]={value:t,props:(0,c.filterPropsFrom)(e.props),__reactableMeta:!0}}else console.warn("exports.Td specified without a `column` property, ignoring")}),t.push({data:r,props:(0,c.filterPropsFrom)(e.props),__reactableMeta:!0});break;default:console.warn("The only possible children of <Table> are <Thead>, <Tr>, or one <Tfoot>.")}}.bind(this)),{data:t,tfoot:n}}},{key:"initialize",value:function(e){this.data=e.data||[];var t=this.parseChildData(e),n=t.data,r=t.tfoot;this.data=this.data.concat(n),this.tfoot=r,this.initializeSorts(e),this.initializeFilters(e)}},{key:"initializeFilters",value:function(e){for(var t in this._filterable={},e.filterable){var n=e.filterable[t],r=void 0,o=void 0;if(n instanceof Object){if(void 0===n.column){console.warn("Filterable column specified without column name");continue}r=n.column,o="function"==typeof n.filterFunction?n.filterFunction:"default"}else r=n,o="default";this._filterable[r]=o}}},{key:"initializeSorts",value:function(e){for(var t in this._sortable={},e.sortable){var n=e.sortable[t],r=void 0,o=void 0;if(n instanceof Object){if(void 0===n.column)return void console.warn("Sortable column specified without column name");r=n.column,o="function"==typeof n.sortFunction?n.sortFunction:"default"}else r=n,o="default";this._sortable[r]=o}}},{key:"getCurrentSort",value:function(e){var t=void 0,n=void 0;if(e instanceof Object){if(void 0===e.column)return void console.warn("Default column specified without column name");if(t=e.column,void 0!==e.direction)if(1===e.direction||"asc"===e.direction)n=1;else if(-1===e.direction||"desc"===e.direction)n=-1;else{var r=this.props.defaultSortDescending?"descending":"ascending";console.warn("Invalid default sort specified. Defaulting to "+r),n=this.props.defaultSortDescending?-1:1}else n=this.props.defaultSortDescending?-1:1}else t=e,n=this.props.defaultSortDescending?-1:1;return{column:t,direction:n}}},{key:"updateCurrentSort",value:function(e){!1!==e&&e.column!==this.state.currentSort.column&&e.direction!==this.state.currentSort.direction&&this.setState({currentSort:this.getCurrentSort(e)})}},{key:"updateCurrentPage",value:function(e){void 0!==e&&e!==this.state.currentPage&&this.setState({currentPage:e})}},{key:"componentWillMount",value:function(){this.initialize(this.props),this.sortByCurrentSort(),this.filterBy(this.props.filterBy)}},{key:"componentWillReceiveProps",value:function(e){this.initialize(e),this.updateCurrentPage(e.currentPage),this.updateCurrentSort(e.sortBy),this.sortByCurrentSort(),this.filterBy(e.filterBy)}},{key:"applyFilter",value:function(e,t){e=e.toLowerCase();for(var n=[],r=0;r<t.length;r++){var o=t[r].props.data;for(var i in this._filterable)if(void 0!==o[i])if(void 0===this._filterable[i]||"default"===this._filterable[i]){if((0,u.extractDataFrom)(o,i).toString().toLowerCase().indexOf(e)>-1){n.push(t[r]);break}}else if(this._filterable[i]((0,u.extractDataFrom)(o,i).toString(),e)){n.push(t[r]);break}}return n}},{key:"sortByCurrentSort",value:function(){var e=this.state.currentSort;null!==e.column&&this.data.sort(function(t,n){var r=(0,u.extractDataFrom)(t,e.column);r=(0,p.isUnsafe)(r)?r.toString():r||"";var o=(0,u.extractDataFrom)(n,e.column);return o=(0,p.isUnsafe)(o)?o.toString():o||"",void 0===this._sortable[e.column]||"default"===this._sortable[e.column]?r<o?-1*e.direction:r>o?1*e.direction:0:1===e.direction?this._sortable[e.column](r,o):this._sortable[e.column](o,r)}.bind(this))}},{key:"onSort",value:function(e){if(void 0!==this._sortable[e]){var t=this.state.currentSort;t.column===e?t.direction*=-1:(t.column=e,t.direction=this.props.defaultSortDescending?-1:1),this.setState({currentSort:t}),this.sortByCurrentSort(),"function"==typeof this.props.onSort&&this.props.onSort(t)}}},{key:"render",value:function(){var e=this,t=[],n=void 0,o=!1,i=void 0===this.props.hideTableHeader,a=null;if(this.props.children&&(this.props.children.length>0&&this.props.children[0]&&this.props.children[0].type===h.Thead?a=this.props.children[0]:this.props.children.type===h.Thead&&(a=this.props.children)),(n=null!==a?h.Thead.getColumns(a):this.props.columns||[]).length>0&&(o=!0,n=this.translateColumnsArray(n)),this.data&&"function"==typeof this.data.map&&(t=t.concat(this.data.map(function(e,t){var i=e,a={};for(var s in!0===e.__reactableMeta&&(i=e.data,a=e.props),i)i.hasOwnProperty(s)&&!1===o&&function(){var e={key:s,label:s};void 0===n.find(function(t){return t.key===e.key})&&n.push(e)}();return l.default.createElement(d.Tr,r({columns:n,key:t,data:i},a))}.bind(this)))),!0===this.props.sortable)for(var s=0;s<n.length;s++)this._sortable[n[s].key]="default";var u=!1;this.props.filterable&&Array.isArray(this.props.filterable)&&this.props.filterable.length>0&&!this.props.hideFilterInput&&(u=!0);var p=t;""!==this.state.filter&&(p=this.applyFilter(this.state.filter,p));var f=0,y=!1,g=void 0,v=this.state.currentPage,b=this.props.pageButtonLimit||10,S=p;this.props.itemsPerPage>0&&(f=this.props.itemsPerPage,v>(g=Math.ceil(p.length/f))-1&&(v=g-1),y=!0,S=p.slice(v*f,(v+1)*f));var w=(0,c.filterPropsFrom)(this.props),C=this.props.noDataText?l.default.createElement("tr",{className:"reactable-no-data"},l.default.createElement("td",{colSpan:n.length},this.props.noDataText)):null,_=null;return n&&n.length>0&&i&&(_=l.default.createElement(h.Thead,{columns:n,filtering:u,onFilter:function(t){e.setState({filter:t}),e.props.onFilter&&e.props.onFilter(t)},filterPlaceholder:this.props.filterPlaceholder,filterClassName:this.props.filterClassName,currentFilter:this.state.filter,sort:this.state.currentSort,sortableColumns:this._sortable,onSort:this.onSort.bind(this),key:"thead"})),l.default.createElement("table",w,_,l.default.createElement("tbody",{className:"reactable-data",key:"tbody"},S.length>0?S:C),!0===y?l.default.createElement(m.Paginator,{colSpan:n.length,pageButtonLimit:b,numPages:g,currentPage:v,onPageChange:function(t){e.setState({currentPage:t}),e.props.onPageChange&&e.props.onPageChange(t)},previousPageLabel:this.props.previousPageLabel,nextPageLabel:this.props.nextPageLabel,key:"paginator"}):null,this.tfoot)}}]),t}();t.Table=y,y.defaultProps={sortBy:!1,defaultSort:!1,defaultSortDescending:!1,itemsPerPage:0,filterBy:"",hideFilterInput:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractDataFrom=function(e,t){var n;n=null!=e&&!0===e.__reactableMeta?e.data[t]:e[t];null!=n&&!0===n.__reactableMeta&&(n=void 0!==n.props.value&&null!==n.props.value?n.props.value:n.value);return(0,r.stringable)(n)?n:""};var r=n(815)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=i(n(0)),c=i(n(17)),u=function(e){function t(){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,l["default"].Component),r(t,[{key:"onChange",value:function(){this.props.onFilter(c.default.findDOMNode(this).value)}},{key:"render",value:function(){return l.default.createElement("input",{type:"text",className:this.props.className,placeholder:this.props.placeholder,value:this.props.value,onKeyUp:this.onChange.bind(this),onChange:this.onChange.bind(this)})}}]),t}();t.FiltererInput=u;var p=function(e){function t(){a(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return s(t,l["default"].Component),r(t,[{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Filterer");return l.default.createElement("tr",{className:"reactable-filterer"},l.default.createElement("td",{colSpan:this.props.colSpan},l.default.createElement(u,{onFilter:this.props.onFilter,value:this.props.value,placeholder:this.props.placeholder,className:this.props.className?"reactable-filter-input "+this.props.className:"reactable-filter-input"})))}}]),t}();t.Filterer=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReactComponent=function(e){return null!==e&&"object"==typeof e&&void 0!==e.props}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=function(e){var t=[];for(var n in e)t[n]=e;return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,s=c=void 0}};var i,a=n(0),s=(i=a)&&i.__esModule?i:{default:i};function l(e){return"#page-"+(e+1)}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),r(t,[{key:"handlePrevious",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage-1)}},{key:"handleNext",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.currentPage+1)}},{key:"handlePageButton",value:function(e,t){t.preventDefault(),this.props.onPageChange(e)}},{key:"renderPrevious",value:function(){if(this.props.currentPage>0)return s.default.createElement("a",{className:"reactable-previous-page",href:l(this.props.currentPage-1),onClick:this.handlePrevious.bind(this)},this.props.previousPageLabel||"Previous")}},{key:"renderNext",value:function(){if(this.props.currentPage<this.props.numPages-1)return s.default.createElement("a",{className:"reactable-next-page",href:l(this.props.currentPage+1),onClick:this.handleNext.bind(this)},this.props.nextPageLabel||"Next")}},{key:"renderPageButton",value:function(e,t){return s.default.createElement("a",{className:e,key:t,href:l(t),onClick:this.handlePageButton.bind(this,t)},t+1)}},{key:"render",value:function(){if(void 0===this.props.colSpan)throw new TypeError("Must pass a colSpan argument to Paginator");if(void 0===this.props.numPages)throw new TypeError("Must pass a non-zero numPages argument to Paginator");if(void 0===this.props.currentPage)throw new TypeError("Must pass a currentPage argument to Paginator");for(var e=[],t=this.props.pageButtonLimit,n=this.props.currentPage,r=this.props.numPages,o=Math.round(t/2),i=t-o,a=0;a<this.props.numPages;a++){var l=a,c="reactable-page-button";n===a&&(c+=" reactable-current-page"),e.push(this.renderPageButton(c,l))}return n-t+o>0&&(n>r-o?e.splice(0,r-t):e.splice(0,n-t+o)),r-n>i&&e.splice(t,e.length-t),s.default.createElement("tbody",{className:"reactable-pagination"},s.default.createElement("tr",null,s.default.createElement("td",{colSpan:this.props.colSpan},this.renderPrevious(),e,this.renderNext())))}}]),t}();t.Paginator=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Numeric:function(e,t){var n=parseFloat(e.toString().replace(/,/g,"")),r=parseFloat(t.toString().replace(/,/g,""));if(isNaN(n)&&isNaN(r))n=e,r=t;else{if(isNaN(n))return 1;if(isNaN(r))return-1}return n<r?-1:n>r?1:0},NumericInteger:function(e,t){return isNaN(e)||isNaN(t)?e>t?1:-1:e-t},Currency:function(e,n){return e=e.replace(/[^0-9\.\-\,]+/g,""),n=n.replace(/[^0-9\.\-\,]+/g,""),t.Sort.Numeric(e,n)},Date:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n){var r=Date.parse(e),o=Date.parse(n);return isNaN(r)||isNaN(o)?t.Sort.Numeric(e,n):r>o?1:o>r?-1:0}),CaseInsensitive:function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}};t.Sort=r},function(e,t,n){var r;"undefined"!=typeof self&&self,r=function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),s=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"propsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return Object.keys(this.props).forEach(function(r){if(-1!==r.search(e)){var o=t?r.replace(e,""):r;n[o]=this.props[r]}},this),n}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=a.default.version.match(/0\.13(.*)/)?this.refs.element.getDOMNode():this.element,r=n(3);this.clipboard=new r(t,e);var o=this.propsWith(/^on/,!0);Object.keys(o).forEach(function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])},this)}},{key:"render",value:function(){var e=this,t=o({type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:function(t){e.element=t},onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0));return a.default.createElement(this.getComponent(),t,this.props.children)}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}]),t}();c.propTypes={options:function(e,t,n){var o=e[t];if(o&&"object"!==(void 0===o?"undefined":r(o))||Array.isArray(o))return new Error("Invalid props '"+t+"' supplied to '"+n+"'. '"+t+"' is not an object.");if(void 0!==e["option-text"]&&"function"!=typeof e["option-text"])return new Error("Invalid props 'option-text' supplied to '"+n+"'. 'option-text' is not a function.")},type:s.default.string,className:s.default.string,style:s.default.object,component:s.default.string,children:s.default.oneOfType([s.default.element,s.default.string,s.default.number,s.default.object])},c.defaultProps={onClick:function(){}},t.default=c},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n}])},e.exports=r(n(0),n(1),n(591))},function(e,t,n){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(960);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var i=n(820);Object.defineProperty(t,"Fade",{enumerable:!0,get:function(){return r(i).default}});var a=n(962);Object.defineProperty(t,"Bounce",{enumerable:!0,get:function(){return r(a).default}});var s=n(963);Object.defineProperty(t,"Roll",{enumerable:!0,get:function(){return r(s).default}});var l=n(964);Object.defineProperty(t,"Slide",{enumerable:!0,get:function(){return r(l).default}});var c=n(965);Object.defineProperty(t,"Flip",{enumerable:!0,get:function(){return r(c).default}}),Object.defineProperty(t,"Reveal",{enumerable:!0,get:function(){return r(o).default}});var u=n(966);Object.defineProperty(t,"Rotate",{enumerable:!0,get:function(){return r(u).default}});var p=n(967);Object.defineProperty(t,"LightSpeed",{enumerable:!0,get:function(){return r(p).default}});var h=n(968);Object.defineProperty(t,"Zoom",{enumerable:!0,get:function(){return r(h).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(e){return e?f?{duration:c,delay:u,count:p,forever:h,className:f,style:{}}:y:d?{duration:void 0===r?o:r,delay:i,count:a,forever:s,className:d,style:{}}:m}var n=e.children,r=e.timeout,o=e.duration,i=e.delay,a=e.count,s=e.forever,c=e.durationOut,u=e.delayOut,p=e.countOut,h=e.foreverOut,d=e.effect,f=e.effectOut,m=e.inEffect,y=e.outEffect,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","timeout","duration","delay","count","forever","durationOut","delayOut","countOut","foreverOut","effect","effectOut","inEffect","outEffect"]);return(0,l.default)(g,t(!1),t(!0),n)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),s=n(588),l=r(n(600)),c=r(n(820)),u={in:a.object,out:(0,a.oneOfType)([a.object,(0,a.oneOf)([!1])]),effect:a.string,effectOut:a.string,duration:a.number,timeout:a.number,delay:a.number,count:a.number,forever:a.bool,durationOut:a.number,delayOut:a.number,countOut:a.number,foreverOut:a.bool},p=i({},s.defaults,{durationOut:s.defaults.duration,delayOut:s.defaults.delay,countOut:s.defaults.count,foreverOut:s.defaults.forever,inEffect:(0,c.default)(s.defaults),outEffect:(0,c.default)(i({out:!0},s.defaults))});o.propTypes=u,o.defaultProps=p,t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=(r=l)&&r.__esModule?r:{default:r},u=n(1),p=n(588),h=(0,u.shape)({make:u.func,duration:u.number.isRequired,delay:u.number.isRequired,forever:u.bool,count:u.number.isRequired,style:u.object.isRequired,reverse:u.bool}),d={collapse:u.bool,collapseEl:u.element,cascade:u.bool,wait:u.number,force:u.bool,disabled:u.bool,appear:u.bool,enter:u.bool,exit:u.bool,fraction:u.number,refProp:u.string,innerRef:u.func,onReveal:u.func,unmountOnExit:u.bool,mountOnEnter:u.bool,inEffect:h.isRequired,outEffect:(0,u.oneOfType)([h,(0,u.oneOf)([!1])]).isRequired,ssrReveal:u.bool,collapseOnly:u.bool,ssrFadeout:u.bool},f={transitionGroup:u.object},m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.isOn=void 0===e.when||!!e.when,r.state={collapse:e.collapse?t.getInitialCollapseStyle(e):void 0,style:{opacity:r.isOn&&!e.ssrReveal||!e.outEffect?void 0:0}},r.savedChild=!1,r.isShown=!1,p.observerMode?r.handleObserve=r.handleObserve.bind(r):(r.revealHandler=r.makeHandler(r.reveal),r.resizeHandler=r.makeHandler(r.resize)),r.saveRef=r.saveRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),s(t,[{key:"saveRef",value:function(e){this.childRef&&this.childRef(e),this.props.innerRef&&this.props.innerRef(e),this.el!==e&&(this.el=e&&"offsetHeight"in e?e:void 0,this.observe(this.props,!0))}},{key:"invisible",value:function(){this&&this.el&&(this.savedChild=!1,this.isShown||(this.setState({hasExited:!0,collapse:this.props.collapse?a({},this.state.collapse,{visibility:"hidden"}):null,style:{opacity:0}}),!p.observerMode&&this.props.collapse&&window.document.dispatchEvent(p.collapseend)))}},{key:"animationEnd",value:function(e,t,n){var r=this,o=n.forever,i=n.count,a=n.delay,s=n.duration;if(!o){this.animationEndTimeout=window.setTimeout(function(){r&&r.el&&(r.animationEndTimeout=void 0,e.call(r))},a+(s+(t?s:0)*i))}}},{key:"getDimensionValue",value:function(){return this.el.offsetHeight+parseInt(window.getComputedStyle(this.el,null).getPropertyValue("margin-top"),10)+parseInt(window.getComputedStyle(this.el,null).getPropertyValue("margin-bottom"),10)}},{key:"collapse",value:function(e,t,n){var r=n.duration+(t.cascade?n.duration:0),o=this.isOn?this.getDimensionValue():0,i=void 0,a=void 0;if(t.collapseOnly)i=n.duration/3,a=n.delay;else{var s=r>>2,l=s>>1;i=s,a=n.delay+(this.isOn?0:r-s-l),e.style.animationDuration=r-s+(this.isOn?l:-l)+"ms",e.style.animationDelay=n.delay+(this.isOn?s-l:0)+"ms"}return e.collapse={height:o,transition:"height "+i+"ms ease "+a+"ms",overflow:t.collapseOnly?"hidden":void 0},e}},{key:"animate",value:function(e){if(this&&this.el&&(this.unlisten(),this.isShown!==this.isOn)){this.isShown=this.isOn;var t=!this.isOn&&e.outEffect,n=e[t?"outEffect":"inEffect"],r="style"in n&&n.style.animationName||void 0,o=void 0;e.collapseOnly?o={hasAppeared:!0,hasExited:!1,style:{opacity:1}}:((e.outEffect||this.isOn)&&n.make&&(r=n.make),o={hasAppeared:!0,hasExited:!1,collapse:void 0,style:a({},n.style,{animationDuration:n.duration+"ms",animationDelay:n.delay+"ms",animationIterationCount:n.forever?"infinite":n.count,opacity:1,animationName:r}),className:n.className}),this.setState(e.collapse?this.collapse(o,e,n):o),t?(this.savedChild=c.default.cloneElement(this.getChild()),this.animationEnd(this.invisible,e.cascade,n)):this.savedChild=!1,this.onReveal(e)}}},{key:"onReveal",value:function(e){e.onReveal&&this.isOn&&(this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),e.wait?this.onRevealTimeout=window.setTimeout(e.onReveal,e.wait):e.onReveal())}},{key:"componentWillUnmount",value:function(){this.unlisten(),p.ssr&&(0,p.disableSsr)()}},{key:"handleObserve",value:function(e,t){i(e,1)[0].intersectionRatio>0&&(t.disconnect(),this.observer=null,this.reveal(this.props,!0))}},{key:"observe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.el&&p.observerMode){if(this.observer){if(!t)return;this.observer.disconnect()}else if(t)return;this.observer=new IntersectionObserver(this.handleObserve,{threshold:e.fraction}),this.observer.observe(this.el)}}},{key:"reveal",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p.globalHide||(0,p.hideAll)(),this&&this.el&&(e||(e=this.props),p.ssr&&(0,p.disableSsr)(),this.isOn&&this.isShown&&void 0!==e.spy?(this.isShown=!1,this.setState({style:{}}),window.setTimeout(function(){return t.reveal(e)},200)):n||this.inViewport(e)||e.force?this.animate(e):p.observerMode?this.observe(e):this.listen())}},{key:"componentDidMount",value:function(){var e=this;if(this.el&&!this.props.disabled){this.props.collapseOnly||("make"in this.props.inEffect&&this.props.inEffect.make(!1,this.props),void 0!==this.props.when&&this.props.outEffect&&"make"in this.props.outEffect&&this.props.outEffect.make(!0,this.props));var n=this.context.transitionGroup,r=n&&!n.isMounting?!("enter"in this.props&&!1===this.props.enter):this.props.appear;return this.isOn&&((void 0!==this.props.when||void 0!==this.props.spy)&&!r||p.ssr&&!p.fadeOutEnabled&&!this.props.ssrFadeout&&this.props.outEffect&&!this.props.ssrReveal&&t.getTop(this.el)<window.pageYOffset+window.innerHeight)?(this.isShown=!0,this.setState({hasAppeared:!0,collapse:this.props.collapse?{height:this.getDimensionValue()}:this.state.collapse,style:{opacity:1}}),void this.onReveal(this.props)):p.ssr&&(p.fadeOutEnabled||this.props.ssrFadeout)&&this.props.outEffect&&t.getTop(this.el)<window.pageYOffset+window.innerHeight?(this.setState({style:{opacity:0,transition:"opacity 1000ms 1000ms"}}),void window.setTimeout(function(){return e.reveal(e.props,!0)},2e3)):void(this.isOn&&(this.props.force?this.animate(this.props):this.reveal(this.props)))}}},{key:"cascade",value:function(e){var t=this,n=void 0;n="string"==typeof e?e.split("").map(function(e,t){return c.default.createElement("span",{key:t,style:{display:"inline-block",whiteSpace:"pre"}},e)}):c.default.Children.toArray(e);var r=this.props[this.isOn||!this.props.outEffect?"inEffect":"outEffect"],i=r.duration,s=r.reverse,l=n.length,u=2*i;this.props.collapse&&(u=parseInt(this.state.style.animationDuration,10),i=u/2);var h=s?l:0;return n.map(function(e){return"object"===(void 0===e?"undefined":o(e))&&e?c.default.cloneElement(e,{style:a({},e.props.style,t.state.style,{animationDuration:Math.round((0,p.cascade)(s?h--:h++,0,l,i,u))+"ms"})}):e})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.when&&(this.isOn=!!e.when),e.fraction!==this.props.fraction&&this.observe(e,!0),!this.isOn&&e.onExited&&"exit"in e&&!1===e.exit?e.onExited():e.disabled||(e.collapse&&!this.props.collapse&&(this.setState({style:{},collapse:t.getInitialCollapseStyle(e)}),this.isShown=!1),e.when===this.props.when&&e.spy===this.props.spy||this.reveal(e),this.onRevealTimeout&&!this.isOn&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)))}},{key:"getChild",value:function(){if(this.savedChild&&!this.props.disabled)return this.savedChild;if("object"===o(this.props.children)){var e=c.default.Children.only(this.props.children);return"type"in e&&"string"==typeof e.type||"ref"!==this.props.refProp?e:c.default.createElement("div",null,e)}return c.default.createElement("div",null,this.props.children)}},{key:"render",value:function(){var e;e=this.state.hasAppeared?!this.props.unmountOnExit||!this.state.hasExited||this.isOn:!this.props.mountOnEnter||this.isOn;var t=this.getChild();"function"==typeof t.ref&&(this.childRef=t.ref);var n=!1,r=t.props,o=r.style,i=r.className,s=r.children,l=this.props.disabled?i:(this.props.outEffect?p.namespace:"")+(this.state.className?" "+this.state.className:"")+(i?" "+i:"")||void 0,u=void 0;"function"==typeof this.state.style.animationName&&(this.state.style.animationName=this.state.style.animationName(!this.isOn,this.props)),this.props.cascade&&!this.props.disabled&&s&&this.state.style.animationName?(n=this.cascade(s),u=a({},o,{opacity:1})):u=this.props.disabled?o:a({},o,this.state.style);var h=a({},this.props.props,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({className:l,style:u},this.props.refProp,this.saveRef)),d=c.default.cloneElement(t,h,e?n||s:void 0);return void 0!==this.props.collapse?this.props.collapseEl?c.default.cloneElement(this.props.collapseEl,{style:a({},this.props.collapseEl.style,this.props.disabled?void 0:this.state.collapse),children:d}):c.default.createElement("div",{style:this.props.disabled?void 0:this.state.collapse,children:d}):d}},{key:"makeHandler",value:function(e){var t=this,n=function(){e.call(t,t.props),t.ticking=!1};return function(){t.ticking||((0,p.raf)(n),t.ticking=!0)}}},{key:"inViewport",value:function(e){if(!this.el||window.document.hidden)return!1;var n=this.el.offsetHeight,r=window.pageYOffset-t.getTop(this.el),o=Math.min(n,window.innerHeight)*(p.globalHide?e.fraction:0);return r>o-window.innerHeight&&r<n-o}},{key:"resize",value:function(e){this&&this.el&&this.isOn&&this.inViewport(e)&&(this.unlisten(),this.isShown=this.isOn,this.setState({hasExited:!this.isOn,hasAppeared:!0,collapse:void 0,style:{opacity:this.isOn||!e.outEffect?1:0}}),this.onReveal(e))}},{key:"listen",value:function(){p.observerMode||this.isListener||(this.isListener=!0,window.addEventListener("scroll",this.revealHandler,{passive:!0}),window.addEventListener("orientationchange",this.revealHandler,{passive:!0}),window.document.addEventListener("visibilitychange",this.revealHandler,{passive:!0}),window.document.addEventListener("collapseend",this.revealHandler,{passive:!0}),window.addEventListener("resize",this.resizeHandler,{passive:!0}))}},{key:"unlisten",value:function(){!p.observerMode&&this.isListener&&(window.removeEventListener("scroll",this.revealHandler,{passive:!0}),window.removeEventListener("orientationchange",this.revealHandler,{passive:!0}),window.document.removeEventListener("visibilitychange",this.revealHandler,{passive:!0}),window.document.removeEventListener("collapseend",this.revealHandler,{passive:!0}),window.removeEventListener("resize",this.resizeHandler,{passive:!0}),this.isListener=!1),this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),this.animationEndTimeout&&(this.animationEndTimeout=window.clearTimeout(this.animationEndTimeout))}}],[{key:"getInitialCollapseStyle",value:function(e){return{height:0,visibility:e.when?void 0:"hidden"}}},{key:"getTop",value:function(e){for(;void 0===e.offsetTop;)e=e.parentNode;for(var t=e.offsetTop;e.offsetParent;t+=e.offsetTop)e=e.offsetParent;return t}}]),t}();m.propTypes=d,m.defaultProps={fraction:.2,refProp:"ref"},m.contextTypes=f,m.displayName="RevealBase",t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.up,i=t.down,a=t.top,s=t.bottom,l=t.mirror,u=t.opposite,h=(n?1:0)|(r?2:0)|(a||i?4:0)|(s||o?8:0)|(l?16:0)|(u?32:0)|(e?64:0);if(p.hasOwnProperty(h))return p[h];if(!l!=!(e&&u)){var d=[r,n,s,a,i,o];n=d[0],r=d[1],a=d[2],s=d[3],o=d[4],i=d[5]}var f,m=n||r,y=a||s||o||i,g=void 0,v=void 0,b=void 0,S=void 0,w=void 0,C=void 0,_=void 0,k=void 0,T=void 0,x=void 0,E=void 0,A=void 0,O=void 0;return e?(b=m?(r?"-":"")+"20px":0,S=y?(o||s?"":"-")+"10px":"0",w=(i||a?"":"-")+"20px",A=m?(n?"-":"")+"2000px":"0",O=y?(i||a?"-":"")+"2000px":"0"):(g=m?(n?"-":"")+"3000px":"0",v=y?(i||a?"-":"")+"3000px":"0",C=m?(r?"-":"")+"25px":"0",_=y?(o||s?"-":"")+"25px":"0",k=m?(n?"-":"")+"10px":"0",T=y?(i||a?"-":"")+"10px":"0",x=m?(r?"-":"")+"5px":"0",E=y?(o||s?"-":"")+"5px":"0"),f=m||y?e?"\n        20% {\n          transform: translate3d("+b+", "+S+", 0);\n          }\n        "+(y?"40%, 45% {\n            opacity: 1;\n            transform: translate3d(0, "+w+", 0);\n          }":"")+"\n          to {\n            opacity: 0;\n            transform: translate3d("+A+", "+O+", 0);\n        }\n      ":"from, 60%, 75%, 90%, to {\n        animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n      }\n      from {\n        opacity: 0;\n        transform: translate3d("+g+", "+v+", 0);\n      }\n      60% {\n        opacity: 1;\n        transform: translate3d("+C+", "+_+", 0);\n      }\n      75% {\n        transform: translate3d("+k+", "+T+", 0);\n      }\n      90% {\n        transform: translate3d("+x+", "+E+", 0);\n      }\n      to {\n        transform: none;\n      }":e?"20% {\n          transform: scale3d(.9, .9, .9);\n        }\n        50%, 55% {\n          opacity: 1;\n          transform: scale3d(1.1, 1.1, 1.1);\n        }\n        to {\n          opacity: 0;\n          transform: scale3d(.3, .3, .3);\n      }":"from, 20%, 40%, 60%, 80%, to {\n        animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n      }\n      0% {\n        opacity: 0;\n        transform: scale3d(.3, .3, .3);\n      }\n      20% {\n        transform: scale3d(1.1, 1.1, 1.1);\n      }\n      40% {\n        transform: scale3d(.9, .9, .9);\n      }\n      60% {\n        opacity: 1;\n        transform: scale3d(1.03, 1.03, 1.03);\n      }\n      80% {\n        transform: scale3d(.97, .97, .97);\n      }\n      to {\n        opacity: 1;\n        transform: scale3d(1, 1, 1);\n      }",p[h]=(0,c.animation)(f),p[h]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,s=e.delay,u=void 0===s?c.defaults.delay:s,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both"},reverse:d.left};return(0,l.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(600),l=(i=s)&&i.__esModule?i:{default:i},c=n(588),u={out:a.bool,left:a.bool,right:a.bool,top:a.bool,bottom:a.bool,mirror:a.bool,opposite:a.bool,duration:a.number,timeout:a.number,delay:a.number,count:a.number,forever:a.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.up,i=t.down,a=t.top,s=t.bottom,l=t.big,u=t.mirror,h=t.opposite,d=(n?1:0)|(r?2:0)|(a||i?4:0)|(s||o?8:0)|(u?16:0)|(h?32:0)|(e?64:0)|(l?128:0);if(p.hasOwnProperty(d))return p[d];if(!u!=!(e&&h)){var f=[r,n,s,a,i,o];n=f[0],r=f[1],a=f[2],s=f[3],o=f[4],i=f[5]}var m=l?"2000px":"100%",y=n?"-"+m:r?m:"0",g=i||a?"-"+m:o||s?m:"0";return p[d]=(0,c.animation)("\n    "+(e?"to":"from")+" {opacity: 0;transform: translate3d("+y+", "+g+", 0) rotate3d(0, 0, 1, -120deg);}\n\t  "+(e?"from":"to")+" {opacity: 1;transform: none}\n  "),p[d]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,l=e.delay,u=void 0===l?c.defaults.delay:l,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both"}};return(0,s.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(600),s=(i=a)&&i.__esModule?i:{default:i},l=n(1),c=n(588),u={out:l.bool,left:l.bool,right:l.bool,top:l.bool,bottom:l.bool,big:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.up,i=t.down,a=t.top,s=t.bottom,l=t.big,u=t.mirror,h=t.opposite,d=(n?1:0)|(r?2:0)|(a||i?4:0)|(s||o?8:0)|(u?16:0)|(h?32:0)|(e?64:0)|(l?128:0);if(p.hasOwnProperty(d))return p[d];var f=n||r||o||i||a||s,m=void 0,y=void 0;if(f){if(!u!=!(e&&h)){var g=[r,n,s,a,i,o];n=g[0],r=g[1],a=g[2],s=g[3],o=g[4],i=g[5]}var v=l?"2000px":"100%";m=n?"-"+v:r?v:"0",y=i||a?"-"+v:o||s?v:"0"}return p[d]=(0,c.animation)((e?"to":"from")+" {"+(f?" transform: translate3d("+m+", "+y+", 0);":"")+"}\n     "+(e?"from":"to")+" {transform: none;} "),p[d]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,s=e.delay,u=void 0===s?c.defaults.delay:s,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both"},reverse:d.left};return(0,l.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(600),l=(i=s)&&i.__esModule?i:{default:i},c=n(588),u={out:a.bool,left:a.bool,right:a.bool,top:a.bool,bottom:a.bool,big:a.bool,mirror:a.bool,opposite:a.bool,duration:a.number,timeout:a.number,delay:a.number,count:a.number,forever:a.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.top,i=t.bottom,a=t.x,s=t.y,l=t.mirror,u=t.opposite,h=(n?1:0)|(r||s?2:0)|(o||a?4:0)|(i?8:0)|(l?16:0)|(u?32:0)|(e?64:0);if(p.hasOwnProperty(h))return p[h];if(!l!=!(e&&u)){var d=[r,n,i,o,s,a];n=d[0],r=d[1],o=d[2],i=d[3],a=d[4],s=d[5]}var f=void 0;if(a||s||n||r||o||i){var m=a||o||i?(i?"-":"")+"1":"0",y=s||r||n?(n?"-":"")+"1":"0";f=e?"from {\n          transform: perspective(400px);\n        }\n        30% {\n          transform: perspective(400px) rotate3d("+m+", "+y+", 0, -15deg);\n          opacity: 1;\n        }\n        to {\n          transform: perspective(400px) rotate3d("+m+", "+y+", 0, 90deg);\n          opacity: 0;\n        }":"from {\n          transform: perspective(400px) rotate3d("+m+", "+y+", 0, 90deg);\n          animation-timing-function: ease-in;\n          opacity: 0;\n        }\n        40% {\n          transform: perspective(400px) rotate3d("+m+", "+y+", 0, -20deg);\n          animation-timing-function: ease-in;\n        }\n        60% {\n          transform: perspective(400px) rotate3d("+m+", "+y+", 0, 10deg);\n          opacity: 1;\n        }\n        80% {\n          transform: perspective(400px) rotate3d("+m+", "+y+", 0, -5deg);\n        }\n        to {\n          transform: perspective(400px);\n        }"}else f="from {\n          transform: perspective(400px) rotate3d(0, 1, 0, -360deg);\n          animation-timing-function: ease-out;\n          opacity: "+(e?"1":"0")+";\n        }\n        40% {\n          transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -190deg);\n          animation-timing-function: ease-out;\n        }\n        50% {\n          transform: perspective(400px) translate3d(0, 0, 150px) rotate3d(0, 1, 0, -170deg);\n          animation-timing-function: ease-in;\n        }\n        to {\n          transform: perspective(400px);\n          animation-timing-function: ease-in;\n          opacity: "+(e?"0":"1")+";\n        }";return p[h]=(0,c.animation)(f),p[h]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,s=e.delay,u=void 0===s?c.defaults.delay:s,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both",backfaceVisibility:"visible"}};return(0,l.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(600),l=(i=s)&&i.__esModule?i:{default:i},c=n(588),u={out:a.bool,left:a.bool,right:a.bool,top:a.bool,bottom:a.bool,mirror:a.bool,opposite:a.bool,duration:a.number,timeout:a.number,delay:a.number,count:a.number,forever:a.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.up,i=t.down,a=t.top,s=t.bottom,l=t.mirror,u=t.opposite,h=(n?1:0)|(r?2:0)|(a||i?4:0)|(s||o?8:0)|(l?16:0)|(u?32:0)|(e?64:0);if(p.hasOwnProperty(h))return p[h];if(!l!=!(e&&u)){var d=[r,n,s,a,i,o];n=d[0],r=d[1],a=d[2],s=d[3],o=d[4],i=d[5]}var f="-200deg",m="center";return(i||a)&&n&&(f="-45deg"),((i||a)&&r||(o||s)&&n)&&(f="45deg"),(o||s)&&r&&(f="-90deg"),(n||r)&&(m=(n?"left":"right")+" bottom"),p[h]=(0,c.animation)("\n    "+(e?"to":"from")+" { opacity: 0; transform-origin: "+m+"; transform: rotate3d(0, 0, 1, "+f+");}\n    "+(e?"from":"to")+" { opacity: 1; transform-origin: "+m+"; transform: none;}\n  "),p[h]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,s=e.delay,u=void 0===s?c.defaults.delay:s,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both"}};return(0,l.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(600),l=(i=s)&&i.__esModule?i:{default:i},c=n(588),u={out:a.bool,left:a.bool,right:a.bool,top:a.bool,bottom:a.bool,mirror:a.bool,opposite:a.bool,duration:a.number,timeout:a.number,delay:a.number,count:a.number,forever:a.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.mirror,i=t.opposite,a=(n?1:0)|(r?2:0)|(o?16:0)|(i?32:0)|(e?64:0);if(p.hasOwnProperty(a))return p[a];if(!o!=!(e&&i)){var s=[r,n];n=s[0],r=s[1]}var l=n?"-100%":r?"100%":"0",u=e?"from {\n        opacity: 1;\n      }\n      to {\n        transform: translate3d("+l+", 0, 0) skewX(30deg);\n        opacity: 0;\n      }\n    ":"from {\n        transform: translate3d("+l+", 0, 0) skewX(-30deg);\n        opacity: 0;\n      }\n      60% {\n        transform: skewX(20deg);\n        opacity: 1;\n      }\n      80% {\n        transform: skewX(-5deg);\n        opacity: 1;\n      }\n      to {\n        transform: none;\n        opacity: 1;\n      }";return p[a]=(0,c.animation)(u),p[a]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,l=e.delay,u=void 0===l?c.defaults.delay:l,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both"}};return d.left,d.right,d.mirror,d.opposite,(0,s.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(600),s=(i=a)&&i.__esModule?i:{default:i},l=n(1),c=n(588),u={out:l.bool,left:l.bool,right:l.bool,mirror:l.bool,opposite:l.bool,duration:l.number,timeout:l.number,delay:l.number,count:l.number,forever:l.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=t.left,r=t.right,o=t.up,i=t.down,a=t.top,s=t.bottom,l=t.mirror,u=t.opposite,h=(n?1:0)|(r?2:0)|(a||i?4:0)|(s||o?8:0)|(l?16:0)|(u?32:0)|(e?64:0);if(p.hasOwnProperty(h))return p[h];if(!l!=!(e&&u)){var d=[r,n,s,a,i,o];n=d[0],r=d[1],a=d[2],s=d[3],o=d[4],i=d[5]}var f=n||r,m=a||s||o||i,y=void 0;return f||m?e?y="40% {\n          opacity: 1;\n          transform: scale3d(.475, .475, .475) translate3d("+(f?(n?"":"-")+"42px":"0")+", "+(m?(i||a?"-":"")+"60px":"0")+", 0);\n        }\n        to {\n          opacity: 0;\n          transform: scale(.1) translate3d("+(f?(r?"":"-")+"2000px":"0")+", "+(m?(o||s?"":"-")+"2000px":"0")+", 0);\n          transform-origin: "+(m?"center bottom":(n?"left":"right")+" center")+";\n        }":y="from {\n          opacity: 0;\n          transform: scale3d(.1, .1, .1) translate3d("+(f?(n?"-":"")+"1000px":"0")+", "+(m?(i||a?"-":"")+"1000px":"0")+", 0);\n          animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n        }\n        60% {\n          opacity: 1;\n          transform: scale3d(.475, .475, .475) translate3d("+(f?(r?"-":"")+"10px":"0")+", "+(m?(o||s?"-":"")+"60px":"0")+", 0);\n          animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n        }":y=(e?"to":"from")+" {opacity: 0; transform: scale3d(.1, .1, .1);} "+(e?"from":"to")+" { opacity: 1; transform: none;}",p[h]=(0,c.animation)(y),p[h]}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaults,t=e.children,n=(e.out,e.forever),o=e.timeout,i=e.duration,a=void 0===i?c.defaults.duration:i,s=e.delay,u=void 0===s?c.defaults.delay:s,p=e.count,h=void 0===p?c.defaults.count:p,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","out","forever","timeout","duration","delay","count"]),f={make:r,duration:void 0===o?a:o,delay:u,forever:n,count:h,style:{animationFillMode:"both"},reverse:d.left};return(0,l.default)(d,f,f,t)}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(600),l=(i=s)&&i.__esModule?i:{default:i},c=n(588),u={out:a.bool,left:a.bool,right:a.bool,top:a.bool,bottom:a.bool,mirror:a.bool,opposite:a.bool,duration:a.number,timeout:a.number,delay:a.number,count:a.number,forever:a.bool},p={};o.propTypes=u,t.default=o,e.exports=t.default},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3ybLz",framedImage:"styles-module__framedImage__1LRLJ",optionGroup:"styles-module__optionGroup__2f4nW",groupHeader:"styles-module__groupHeader__1pzK0",optionWrapper:"styles-module__optionWrapper__10YFL",optionLabelWrapper:"styles-module__optionLabelWrapper__Nj0Ws"}},function(e,t,n){var r,o,i;o=[e],void 0===(i="function"==typeof(r=function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r={order:2,precision:2,period:null};function o(e,t){var n=[],r=[];e.forEach(function(e,o){null!==e[1]&&(r.push(e),n.push(t[o]))});var o=r.reduce(function(e,t){return e+t[1]},0),i=o/r.length,a=r.reduce(function(e,t){var n=t[1]-i;return e+n*n},0),s=r.reduce(function(e,t,r){var o=n[r],i=t[1]-o[1];return e+i*i},0);return 1-s/a}function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var a={linear:function(e,t){for(var n=[0,0,0,0,0],r=0,a=0;a<e.length;a++)null!==e[a][1]&&(r++,n[0]+=e[a][0],n[1]+=e[a][1],n[2]+=e[a][0]*e[a][0],n[3]+=e[a][0]*e[a][1],n[4]+=e[a][1]*e[a][1]);var s=r*n[2]-n[0]*n[0],l=r*n[3]-n[0]*n[1],c=0===s?0:i(l/s,t.precision),u=i(n[1]/r-c*n[0]/r,t.precision),p=function(e){return[i(e,t.precision),i(c*e+u,t.precision)]},h=e.map(function(e){return p(e[0])});return{points:h,predict:p,equation:[c,u],r2:i(o(e,h),t.precision),string:0===u?"y = "+c+"x":"y = "+c+"x + "+u}},exponential:function(e,t){for(var n=[0,0,0,0,0,0],r=0;r<e.length;r++)null!==e[r][1]&&(n[0]+=e[r][0],n[1]+=e[r][1],n[2]+=e[r][0]*e[r][0]*e[r][1],n[3]+=e[r][1]*Math.log(e[r][1]),n[4]+=e[r][0]*e[r][1]*Math.log(e[r][1]),n[5]+=e[r][0]*e[r][1]);var a=n[1]*n[2]-n[5]*n[5],s=Math.exp((n[2]*n[3]-n[5]*n[4])/a),l=(n[1]*n[4]-n[5]*n[3])/a,c=i(s,t.precision),u=i(l,t.precision),p=function(e){return[i(e,t.precision),i(c*Math.exp(u*e),t.precision)]},h=e.map(function(e){return p(e[0])});return{points:h,predict:p,equation:[c,u],string:"y = "+c+"e^("+u+"x)",r2:i(o(e,h),t.precision)}},logarithmic:function(e,t){for(var n=[0,0,0,0],r=e.length,a=0;a<r;a++)null!==e[a][1]&&(n[0]+=Math.log(e[a][0]),n[1]+=e[a][1]*Math.log(e[a][0]),n[2]+=e[a][1],n[3]+=Math.pow(Math.log(e[a][0]),2));var s=(r*n[1]-n[2]*n[0])/(r*n[3]-n[0]*n[0]),l=i(s,t.precision),c=i((n[2]-l*n[0])/r,t.precision),u=function(e){return[i(e,t.precision),i(i(c+l*Math.log(e),t.precision),t.precision)]},p=e.map(function(e){return u(e[0])});return{points:p,predict:u,equation:[c,l],string:"y = "+c+" + "+l+" ln(x)",r2:i(o(e,p),t.precision)}},power:function(e,t){for(var n=[0,0,0,0,0],r=e.length,a=0;a<r;a++)null!==e[a][1]&&(n[0]+=Math.log(e[a][0]),n[1]+=Math.log(e[a][1])*Math.log(e[a][0]),n[2]+=Math.log(e[a][1]),n[3]+=Math.pow(Math.log(e[a][0]),2));var s=(r*n[1]-n[0]*n[2])/(r*n[3]-Math.pow(n[0],2)),l=(n[2]-s*n[0])/r,c=i(Math.exp(l),t.precision),u=i(s,t.precision),p=function(e){return[i(e,t.precision),i(i(c*Math.pow(e,u),t.precision),t.precision)]},h=e.map(function(e){return p(e[0])});return{points:h,predict:p,equation:[c,u],string:"y = "+c+"x^"+u,r2:i(o(e,h),t.precision)}},polynomial:function(e,t){for(var r=[],a=[],s=0,l=0,c=e.length,u=t.order+1,p=0;p<u;p++){for(var h=0;h<c;h++)null!==e[h][1]&&(s+=Math.pow(e[h][0],p)*e[h][1]);r.push(s),s=0;for(var d=[],f=0;f<u;f++){for(var m=0;m<c;m++)null!==e[m][1]&&(l+=Math.pow(e[m][0],p+f));d.push(l),l=0}a.push(d)}a.push(r);for(var y=function(e,t){for(var n=e,r=e.length-1,o=[t],i=0;i<r;i++){for(var a=i,s=i+1;s<r;s++)Math.abs(n[i][s])>Math.abs(n[i][a])&&(a=s);for(var l=i;l<r+1;l++){var c=n[l][i];n[l][i]=n[l][a],n[l][a]=c}for(var u=i+1;u<r;u++)for(var p=r;p>=i;p--)n[p][u]-=n[p][i]*n[i][u]/n[i][i]}for(var h=r-1;h>=0;h--){for(var d=0,f=h+1;f<r;f++)d+=n[f][h]*o[f];o[h]=(n[r][h]-d)/n[h][h]}return o}(a,u).map(function(e){return i(e,t.precision)}),g=function(e){return[i(e,t.precision),i(y.reduce(function(t,n,r){return t+n*Math.pow(e,r)},0),t.precision)]},v=e.map(function(e){return g(e[0])}),b="y = ",S=y.length-1;S>=0;S--)b+=S>1?y[S]+"x^"+S+" + ":1===S?y[S]+"x + ":y[S];return{string:b,points:v,predict:g,equation:[].concat(n(y)).reverse(),r2:i(o(e,v),t.precision)}}};e.exports=Object.keys(a).reduce(function(e,n){return t({_round:i},e,(l=function(e,o){return a[n](e,t({},r,o))},(s=n)in(o={})?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o));var o,s,l},{})})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){e.exports=n(15)(433)},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__quCC8",framedImage:"styles-module__framedImage__2pTmh",scrollbar:"styles-module__scrollbar__-BNTg",handle:"styles-module__handle__2PODi"}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1mlqI",framedImage:"styles-module__framedImage__AkabG",wrapper:"styles-module__wrapper__29CoN",groupRow:"styles-module__groupRow__3Q2Y8",alterationRow:"styles-module__alterationRow__1G5NG",strike:"styles-module__strike__1ycDg"}},function(e,t,n){e.exports={portalWidth:"frequencyPlotStyles-module__portalWidth__bPwxT",framedImage:"frequencyPlotStyles-module__framedImage__R6mzB",ChartControls:"frequencyPlotStyles-module__ChartControls__2YKR9"}},function(e,t,n){},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(589);function o(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}n(972);var i=Array.prototype,a=i.map,s=i.slice;var l=n(690),c=function(e){return function(){return e}},u=function(e){return+e},p=[0,1];function h(e){return e}function d(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:c(isNaN(t)?NaN:.5)}function f(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function m(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=d(o,r),i=n(a,i)):(r=d(r,o),i=n(i,a)),function(e){return i(r(e))}}function y(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<o;)i[s]=d(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(t){var n=Object(r.bisect)(e,t,1,o)-1;return a[n](i[n](t))}}function g(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function v(){var e,t,n,r,o,i,c=p,d=p,g=l.interpolate,v=h;function b(){return r=Math.min(c.length,d.length)>2?y:m,o=i=null,S}function S(t){return isNaN(t=+t)?n:(o||(o=r(c.map(e),d,g)))(e(v(t)))}return S.invert=function(n){return v(t((i||(i=r(d,c.map(e),l.interpolateNumber)))(n)))},S.domain=function(e){return arguments.length?(c=a.call(e,u),v===h||(v=f(c)),b()):c.slice()},S.range=function(e){return arguments.length?(d=s.call(e),b()):d.slice()},S.rangeRound=function(e){return d=s.call(e),g=l.interpolateRound,b()},S.clamp=function(e){return arguments.length?(v=e?f(c):h,S):v!==h},S.interpolate=function(e){return arguments.length?(g=e,b()):g},S.unknown=function(e){return arguments.length?(n=e,S):n},function(n,r){return e=n,t=r,b()}}function b(e,t){return v()(e,t)}var S=n(823),w=function(e,t,n,o){var i,a=Object(r.tickStep)(e,t,n);switch((o=Object(S.formatSpecifier)(null==o?",f":o)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=o.precision||isNaN(i=Object(S.precisionPrefix)(a,s))||(o.precision=i),Object(S.formatPrefix)(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(i=Object(S.precisionRound)(a,Math.max(Math.abs(e),Math.abs(t))))||(o.precision=i-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(i=Object(S.precisionFixed)(a))||(o.precision=i-2*("%"===o.type))}return Object(S.format)(o)};function C(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return w(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var o,i=t(),a=0,s=i.length-1,l=i[a],c=i[s];return c<l&&(o=l,l=c,c=o,o=a,a=s,s=o),(o=Object(r.tickIncrement)(l,c,n))>0?(l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o,o=Object(r.tickIncrement)(l,c,n)):o<0&&(l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o,o=Object(r.tickIncrement)(l,c,n)),o>0?(i[a]=Math.floor(l/o)*o,i[s]=Math.ceil(c/o)*o,t(i)):o<0&&(i[a]=Math.ceil(l*o)/o,i[s]=Math.floor(c*o)/o,t(i)),e},e}function _(){var e=b(h,h);return e.copy=function(){return g(e,_())},o.apply(e,arguments),C(e)}n(824),n(825);n.d(t,"a",function(){return _})},function(e,t,n){"use strict";var r,o,i,a,s=n(0),l=n(7),c=n.n(l),u=n(25),p=n(11),h=n(5),d=n(28),f=n.n(d),m=n(553),y=(n(789),n(716),n(790),n(93)),g=n(92),v=n(20),b=n(575),S=n(758),w=n.n(S),C=n(116),_=n.n(C),k=n(4),T=n(552),x=n(9),E=n.n(x);function A(e){var t={};return e.forEach(function(e){var n=function(e){for(var t=[],n=e.start.position,r=e.end.position,o=n;o<=r;o++)t.push({resi:o});return e.start.insertionCode&&(t[0].icode=e.start.insertionCode),t.length>1&&e.end.insertionCode&&(t[t.length-1].icode=e.end.insertionCode),t}(e.positionRange),r=l.groupBy(n,"resi");l.each(l.keys(r),function(n){t[n]||(t[n]=[]),l.each(r[n],function(r){t[n].push({selector:r,residue:e})})})}),t}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.CARTOON=0]="CARTOON",e[e.SPACE_FILLING=1]="SPACE_FILLING",e[e.TRACE=2]="TRACE",e[e.BALL_AND_STICK=3]="BALL_AND_STICK",e[e.RIBBON=4]="RIBBON"}(r||(r={})),function(e){e[e.UNIFORM=0]="UNIFORM",e[e.SECONDARY_STRUCTURE=1]="SECONDARY_STRUCTURE",e[e.NC_RAINBOW=2]="NC_RAINBOW",e[e.ATOM_TYPE=3]="ATOM_TYPE"}(o||(o={})),function(e){e[e.ALL=0]="ALL",e[e.SELECTED=1]="SELECTED",e[e.NONE=2]="NONE"}(i||(i={})),function(e){e[e.UNIFORM=0]="UNIFORM",e[e.MUTATION_TYPE=1]="MUTATION_TYPE",e[e.NONE=2]="NONE"}(a||(a={}));var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"updateVisualStyle",value:function(e,t,n){var r=this.updateScheme(n);this.updateBaseVisualStyle(r,n),this.updateChainVisualStyle(t,r,n),this.updateResidueStyle(e,t,n,r),this.updateBoundMolecules(n)}},{key:"updateScheme",value:function(e){var t=this.selectAll();return this.setScheme(e.proteinScheme,t)}},{key:"updateBaseVisualStyle",value:function(t,n){var r=e.defaultProps,o=this.selectAll();this.setColor(n.baseColor||r.baseColor,o,t),this.setTransparency(n.baseTranslucency||r.baseTranslucency,o,t)}},{key:"updateChainVisualStyle",value:function(t,n,r){var i=e.defaultProps,a=this.selectChain(t);this.setColor(r.chainColor||i.chainColor,a,n),this.setTransparency(r.chainTranslucency||i.chainTranslucency,a,n),r.proteinColor===o.ATOM_TYPE?(a=this.selectChain(t),this.cpkColor(a,n)):r.proteinColor===o.SECONDARY_STRUCTURE?(a=this.selectAlphaHelix(t),this.setColor((r.structureColors||i.structureColors).alphaHelix,a,n),a=this.selectBetaSheet(t),this.setColor((r.structureColors||i.structureColors).betaSheet,a,n)):r.proteinColor===o.NC_RAINBOW&&(a=this.selectChain(t),this.rainbowColor(a,n))}},{key:"updateBoundMolecules",value:function(e){e.displayBoundMolecules||this.hideBoundMolecules()}},{key:"convertPositionsToResCode",value:function(e){var t=[];return e.forEach(function(e){t=t.concat(function(e){for(var t=[],n=e.start.position,r=e.end.position,o=n;o<=r;o++)t.push("".concat(o));return e.start.insertionCode&&(t[0]+="^"+e.start.insertionCode),t.length>1&&e.end.insertionCode&&(t[t.length-1]+="^"+e.end.insertionCode),t}(e))}),t}}])&&O(t.prototype,n),r&&O(t,r),e}();P.defaultProps={pdbUri:"https://files.rcsb.org/view/",proteinScheme:r.CARTOON,displayBoundMolecules:!0,backgroundColor:"#FFFFFF",baseColor:"#DDDDDD",structureColors:{alphaHelix:"#FFA500",betaSheet:"#0000FF",loop:"#DDDDDD"},baseTranslucency:5,chainColor:"#888888",chainTranslucency:0,proteinColor:o.UNIFORM,mutationColor:a.MUTATION_TYPE,uniformMutationColor:"#8A2BE2",highlightColor:"#FFDD00",sideChain:i.SELECTED};var I=P,M=n(870),D=n.n(M);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},z=function(e){function t(e,n,r){var o,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=j(t).call(this),(o=!a||"object"!==G(a)&&"function"!=typeof a?N(i):a)._loadingPdb=!1,o.stateChangeReaction=Object(h.reaction)(function(){return o.state},function(e){o.onStateChange(e)}),o._3dMol=r||D.a,o._3dMolDiv=e,o.props=Object.assign({},I.defaultProps,n),o.state={pdbId:"",chainId:"",residues:[]},o._prevState={pdbId:"",chainId:"",residues:[]},o.updateViewer=o.updateViewer.bind(N(o)),o}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,I),n=t,s=[{key:"PROTEIN_SCHEME_PRESETS",get:function(){var e={};return e[r.CARTOON]={cartoon:{}},e[r.TRACE]={cartoon:{style:"trace"}},e[r.SPACE_FILLING]={sphere:{scale:.6}},e[r.BALL_AND_STICK]={stick:{},sphere:{scale:.25}},e[r.RIBBON]={cartoon:{style:"ribbon"}},e}},{key:"ALL_PROTEINS",get:function(){var e=["asp","glu","arg","lys","his","asn","thr","cys","gln","tyr","ser","gly","ala","leu","val","ile","met","trp","phe","pro"],t=e.map(function(e){return e.toUpperCase()});return e.concat(t)}}],(o=[{key:"setState",value:function(e){this._prevState=Object.assign({},this.state),this.state=Object.assign({},this.state,e)}},{key:"onStateChange",value:function(e){this._prevState&&!this._loadingPdb&&(this.updateVisualStyle(e.residues,e.chainId,this.props),this._3dMolViewer.render())}},{key:"setProps",value:function(e){this._prevProps=this.props,this.props=e}},{key:"init",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.residues,r=arguments.length>3?arguments[3]:void 0;if(r?this._3dMolViewer=r:this._3dMolDiv&&(this._3dMolViewer=this._3dMol.createViewer(E()(this._3dMolDiv),{defaultcolors:this._3dMol.elementColors.rasmol})),this._3dMolViewer){var o=this.formatColor(this.props.backgroundColor||I.defaultProps.backgroundColor);this._3dMolViewer.setBackgroundColor(o),this.loadPdb(e,t,n)}}},{key:"loadPdb",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.residues,o={doAssembly:!0,pdbUri:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props).pdbUri};this._loadingPdb=!0,this.setState({pdbId:e,chainId:t,residues:r}),this._3dMolViewer?(this._3dMolViewer.clear(),this._3dMol.download("pdb:".concat(e.toUpperCase()),this._3dMolViewer,o,function(){n._loadingPdb=!1,n.onStateChange(n.state)})):this._loadingPdb=!1}},{key:"updateViewer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.residues,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;this.setProps(n),this.setState({chainId:e,residues:t})}},{key:"resize",value:function(){this._3dMolViewer&&this._3dMolViewer.resize()}},{key:"selectAll",value:function(){return{}}},{key:"selectChain",value:function(e){return{chain:e}}},{key:"setScheme",value:function(e,n){var r=t.PROTEIN_SCHEME_PRESETS[e];return this.applyStyleForSelector(n,r),r}},{key:"setColor",value:function(e,t,n){var r=this.formatColor(e);n&&(l.each(n,function(e){e.color=r}),this.applyStyleForSelector(t,n))}},{key:"formatColor",value:function(e){return e.replace("#","0x")}},{key:"setTransparency",value:function(e,t,n){n&&(this.addTransparencyToStyle(e,n),this.applyStyleForSelector(t,n))}},{key:"addTransparencyToStyle",value:function(e,t){l.each(t,function(t,n){"sphere"!==n&&(t.opacity=(10-e)/10)})}},{key:"rainbowColor",value:function(e,t){this.setColor("spectrum",e,t)}},{key:"cpkColor",value:function(e,t){var n=this;t&&(l.each(t,function(e){delete e.color,e.colors=n._3dMol.elementColors.defaultColors}),this.applyStyleForSelector(e,t))}},{key:"selectAlphaHelix",value:function(e){return{chain:e,ss:"h"}}},{key:"selectBetaSheet",value:function(e){return{chain:e,ss:"s"}}},{key:"hideBoundMolecules",value:function(){var e={resn:t.ALL_PROTEINS,invert:!0};this._3dMolViewer.setStyle(e,{sphere:{hidden:!0}})}},{key:"enableBallAndStick",value:function(e,n,o){var i=Object.assign({},o,t.PROTEIN_SCHEME_PRESETS[r.BALL_AND_STICK]);if(e){var a=this.formatColor(e);i.sphere||(i.sphere={}),i.sphere.color=a,i.stick||(i.stick={}),i.stick.color=a}this._3dMolViewer.setStyle(n,i)}},{key:"updateResidueStyle",value:function(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props,s=arguments.length>3?arguments[3]:void 0,l=I.defaultProps;s||(s=t.PROTEIN_SCHEME_PRESETS[o.proteinScheme],this.addTransparencyToStyle(o.chainTranslucency||l.chainTranslucency,s)),this.residuesToUpdate.forEach(function(e){var t,c=e.residue,u=r.selectResidue(e.selector,n);t=c.highlighted?r.props.highlightColor||l.highlightColor:o.mutationColor===a.MUTATION_TYPE?c.color:o.mutationColor===a.UNIFORM?o.uniformMutationColor||l.uniformMutationColor:o.chainColor||l.chainColor,r.setColor(t,u,s),(o.sideChain===i.ALL||!0===c.highlighted&&o.sideChain===i.SELECTED)&&r.updateSideChain(n,e.selector,o.proteinScheme,t,s)})}},{key:"updateScheme",value:function(e){return this.needToUpdateResiduesOnly?void 0:R(j(t.prototype),"updateScheme",this).call(this,e)}},{key:"updateBaseVisualStyle",value:function(e,n){this.needToUpdateResiduesOnly||R(j(t.prototype),"updateBaseVisualStyle",this).call(this,e,n)}},{key:"updateChainVisualStyle",value:function(e,n,r){this.needToUpdateResiduesOnly||R(j(t.prototype),"updateChainVisualStyle",this).call(this,e,n,r)}},{key:"updateVisualStyle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;R(j(t.prototype),"updateVisualStyle",this).call(this,e,n,r)}},{key:"selectResidues",value:function(e,t){return{rescode:e,chain:t}}},{key:"selectResidue",value:function(e,t){return Object.assign({chain:t},e)}},{key:"selectSideChains",value:function(e,t){return this.selectResidue(e,t)}},{key:"updateSideChain",value:function(e,t,n,o,i){if(n!==r.SPACE_FILLING){var a=this.selectSideChains(t,e);this.enableBallAndStick(o,a,i)}}},{key:"applyStyleForSelector",value:function(e,t){this._3dMolViewer.setStyle(e,t)}},{key:"residuesToUpdate",get:function(){return this.needToUpdateResiduesOnly?(e=this.currentResidueToPositionMap,t=this.prevResidueToPositionMap,n=[],l.each(l.keys(e),function(r){l.isEqual(e[r],t[r])||(n=n.concat(e[r]))}),n):l.flatten(l.values(this.currentResidueToPositionMap));var e,t,n}},{key:"needToUpdateResiduesOnly",get:function(){return this._prevState.pdbId===this.state.pdbId&&this._prevState.chainId===this.state.chainId&&this.visualPropsUnchanged&&this.residuePositionsUnchanged}},{key:"residuePositionsUnchanged",get:function(){return l.isEqual(l.keys(this.currentResidueToPositionMap).sort(),l.keys(this.prevResidueToPositionMap).sort())}},{key:"currentResidueToPositionMap",get:function(){return A(this.state.residues)}},{key:"prevResidueToPositionMap",get:function(){return A(this._prevState.residues)}},{key:"visualPropsUnchanged",get:function(){return l.isEqual(l.omit(this.props,["pdbId","chainId","residues"]),l.omit(this._prevProps,["pdbId","chainId","residues"]))}}])&&L(n.prototype,o),s&&L(n,s),t}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}B([h.observable],z.prototype,"props",void 0),B([h.observable],z.prototype,"_prevProps",void 0),B([h.observable],z.prototype,"state",void 0),B([h.observable],z.prototype,"_prevState",void 0),B([h.action],z.prototype,"setState",null),B([h.computed],z.prototype,"residuesToUpdate",null),B([h.computed],z.prototype,"needToUpdateResiduesOnly",null),B([h.computed],z.prototype,"residuePositionsUnchanged",null),B([h.computed],z.prototype,"currentResidueToPositionMap",null),B([h.computed],z.prototype,"prevResidueToPositionMap",null),B([h.computed],z.prototype,"visualPropsUnchanged",null);var K=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":W(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},$=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=H(t).call(this,e))||"object"!==W(o)&&"function"!=typeof o?U(r):o).divHandler=n.divHandler.bind(U(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,s["Component"]),n=t,(r=[{key:"render",value:function(){return s.createElement("div",{ref:this.divHandler,style:{height:this.props.bounds.height,width:this.props.bounds.width,padding:0},className:"borderedChart"})}},{key:"componentDidMount",value:function(){this._3dMolDiv&&(this.wrapper=new z(this._3dMolDiv,this.props),this.wrapper.init(this.props.pdbId,this.props.chainId,this.props.residues),this._pdbId=this.props.pdbId)}},{key:"componentDidUpdate",value:function(e){this.wrapper&&(this.props.pdbId!==this._pdbId?(this._pdbId=this.props.pdbId,this.wrapper.loadPdb(this._pdbId,this.props.chainId,this.props.residues,this.props)):this.wrapper.updateViewer(this.props.chainId,this.props.residues,this.props),l.isEqual(this.props.bounds,e.bounds)||this.wrapper.resize())}},{key:"divHandler",value:function(e){this._3dMolDiv=e,this.props.containerRef&&this.props.containerRef(e)}}])&&V(n.prototype,r),o&&V(n,o),t}(),Y=$=K([p.observer],$),Q=n(602),X=n(871),Z=n.n(X);function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":re(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ee(t).call(this,e))||"object"!==re(o)&&"function"!=typeof o?te(r):o).isTextTruncated=!0,n.toggleText=n.toggleText.bind(te(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,s["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props.text;return"string"==typeof this.props.text&&(e=s.createElement(Z.a,{text:this.props.text,line:this.props.line,truncateText:this.props.truncateText,textTruncateChild:s.createElement("a",{onClick:this.toggleText,style:{cursor:"pointer"}},this.props.expandIndicator)})),s.createElement(v.If,{condition:this.isTextTruncated},s.createElement(v.Then,null,e),s.createElement(v.Else,null,s.createElement("span",null,s.createElement("span",null,this.props.text," "),s.createElement("span",null,s.createElement("a",{onClick:this.toggleText,style:{cursor:"pointer"}},this.props.collapseIndicator)))))}},{key:"toggleText",value:function(){this.isTextTruncated=!this.isTextTruncated}}])&&J(n.prototype,r),o&&J(n,o),t}();ie.defaultProps={line:1,expandIndicator:"[...]",collapseIndicator:"[^]",truncateText:" "},oe([h.observable],ie.prototype,"isTextTruncated",void 0);var ae=ie=oe([p.observer],ie);function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var he=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":pe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,ce(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,s["Component"]),n=t,(r=[{key:"render",value:function(){var e=null,t=null;if(this.props.cache){var n=this.props.cache.get(this.props.pdbId);if(null===n)e=s.createElement(k.t,{status:k.s.LOADING}),t=s.createElement(k.t,{status:k.s.LOADING});else if("error"===n.status)e=s.createElement(k.t,{status:k.s.ERROR}),t=s.createElement(k.t,{status:k.s.ERROR});else if(null===n.data)e=s.createElement(k.t,{status:k.s.NA}),t=s.createElement(k.t,{status:k.s.NA});else{var r=Object(Q.c)(n.data,this.props.chainId);e=r.pdbInfo,t=r.moleculeInfo}}return s.createElement("div",{className:this.props.truncateText?"col col-sm-12":""},s.createElement("div",{className:this.props.truncateText?"row":""},s.createElement("div",{className:"pull-left",style:{paddingRight:5}},s.createElement("span",{style:{fontWeight:this.props.summaryFormat?"bold":"normal"}},s.createElement("span",null,this.props.summaryFormat?"pdb":"PDB"),!this.props.summaryFormat&&s.createElement("span",{style:{paddingLeft:5}},s.createElement("a",{href:"http://www.rcsb.org/pdb/explore/explore.do?structureId=".concat(this.props.pdbId),target:"_blank"},s.createElement("b",null,this.props.pdbId))),s.createElement("span",null,":"))),s.createElement("div",{"data-test":"pdbChainInfoText"},this.props.truncateText?s.createElement(ae,{text:e}):s.createElement("span",null,e))),s.createElement("div",{className:this.props.truncateText?"row":""},s.createElement("div",{className:"pull-left",style:{paddingRight:5}},s.createElement("span",{style:{fontWeight:this.props.summaryFormat?"bold":"normal"}},s.createElement("span",null,this.props.summaryFormat?"chain":"Chain"),!this.props.summaryFormat&&s.createElement("span",{style:{paddingLeft:3}},s.createElement("b",null,this.props.chainId)),s.createElement("span",null,":"))),s.createElement("div",null,this.props.truncateText?s.createElement(ae,{text:t}):s.createElement("span",null,t))))}}])&&se(n.prototype,r),o&&se(n,o),t}(),fe=de=he([p.observer],de);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ge(this,ve(t).apply(this,arguments)))._script=[],e}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,I),n=t,s=[{key:"PROTEIN_SCHEME_PRESETS",get:function(){var e={};return e[r.CARTOON]="hide everything; show cartoon;",e[r.SPACE_FILLING]="hide everything; show spheres;",e[r.BALL_AND_STICK]="hide everything; show spheres; show sticks; alter all, vdw=0.50",e[r.RIBBON]="hide everything; show ribbon;",e[r.TRACE]=e[r.RIBBON],e}}],(o=[{key:"generateScript",value:function(e,t,n,r){return this._script=[],this.reinitialize(),this.bgColor(r.backgroundColor||I.defaultProps.backgroundColor),this.loadPdb(e),this.updateVisualStyle(n,t,r),this.selectNone(),this._script.join("\n")}},{key:"reinitialize",value:function(){this._script.push("reinitialize;")}},{key:"bgColor",value:function(e){this._script.push("bg_color ".concat(this.formatColor(e),";"))}},{key:"loadPdb",value:function(e){this._script.push("fetch ".concat(e,", async=0;"))}},{key:"setScheme",value:function(e){this._script.push(t.PROTEIN_SCHEME_PRESETS[e])}},{key:"setColor",value:function(e){this._script.push("color ".concat(this.formatColor(e),", sele;"))}},{key:"selectChain",value:function(e){this._script.push("select chain ".concat(e,";"))}},{key:"selectAlphaHelix",value:function(e){this._script.push("select (chain ".concat(e,") and (ss h);"))}},{key:"selectBetaSheet",value:function(e){this._script.push("select (chain ".concat(e,") and (ss s);"))}},{key:"selectResidues",value:function(e,t){this._script.push("select (resi ".concat(e.join(","),") and (chain ").concat(t,");"))}},{key:"selectSideChains",value:function(e,t){this._script.push("select ((resi ".concat(e.join(","),") and (chain ").concat(t,") and (not name c+n+o));"))}},{key:"setTransparency",value:function(e){this._script.push("set transparency, ".concat(e/10,", sele;")),this._script.push("set cartoon_transparency, ".concat(e/10,", sele;")),this._script.push("set sphere_transparency, ".concat(e/10,", sele;")),this._script.push("set stick_transparency, ".concat(e/10,", sele;"))}},{key:"enableBallAndStick",value:function(){this._script.push("show spheres, sele; show sticks, sele; alter sele, vdw=0.50;")}},{key:"disableBallAndStick",value:function(){this._script.push("hide spheres, sele; hide sticks, sele;")}},{key:"rainbowColor",value:function(){return this._script.push("spectrum count, rainbow_rev, sele;")}},{key:"cpkColor",value:function(){this._script.push("util.cbaw sele;")}},{key:"hideBoundMolecules",value:function(){this._script.push("hide everything, not resn ".concat("asp+glu+arg+lys+his+asn+thr+cys+gln+tyr+ser+gly+ala+leu+val+ile+met+trp+phe+pro",";"))}},{key:"formatColor",value:function(e){return e.replace("#","0x")}},{key:"selectAll",value:function(){this._script.push("select all;")}},{key:"selectNone",value:function(){this._script.push("select none;")}},{key:"updateResidueStyle",value:function(e,t,n){var r=this,o=I.defaultProps,s=n.highlightColor||o.highlightColor,c=l.groupBy(e,function(e){return e.highlighted?s:e.color});l.each(l.keys(c),function(e){var s=c[e].map(function(e){return e.positionRange}),l=r.convertPositionsToResCode(s);c[e][0].highlighted?(r.selectResidues(l,t),r.setColor(n.highlightColor||o.highlightColor)):n.mutationColor===a.MUTATION_TYPE?(r.selectResidues(l,t),r.setColor(e)):n.mutationColor===a.UNIFORM&&(r.selectResidues(l,t),r.setColor(n.uniformMutationColor||o.uniformMutationColor));var u=n.sideChain===i.ALL||!0===c[e][0].highlighted&&n.sideChain===i.SELECTED;r.updateSideChains(t,l,u,n)})}},{key:"updateSideChains",value:function(e,t,n,o){n&&o.proteinScheme!==r.SPACE_FILLING&&(this.selectSideChains(t,e),this.enableBallAndStick())}}])&&ye(n.prototype,o),s&&ye(n,s),t}(),we=n(872),Ce=n.n(we);function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Oe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ae(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Pe=function(e){function t(e){var n,s,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=this,(n=!(l=Te(t).call(this,e))||"object"!==Ae(l)&&"function"!=typeof l?xe(s):l).isCollapsed=!1,n.isIncreasedSize=!1,n.proteinScheme=r.CARTOON,n.proteinColor=o.UNIFORM,n.sideChain=i.SELECTED,n.mutationColor=a.MUTATION_TYPE,n.displayBoundMolecules=!0,n.containerRefHandler=n.containerRefHandler.bind(xe(n)),n.toggleCollapse=n.toggleCollapse.bind(xe(n)),n.toggleDoubleSize=n.toggleDoubleSize.bind(xe(n)),n.handleProteinSchemeChange=n.handleProteinSchemeChange.bind(xe(n)),n.handleProteinColorChange=n.handleProteinColorChange.bind(xe(n)),n.handleSideChainChange=n.handleSideChainChange.bind(xe(n)),n.handleMutationColorChange=n.handleMutationColorChange.bind(xe(n)),n.handleBoundMoleculeChange=n.handleBoundMoleculeChange.bind(xe(n)),n.handlePyMolDownload=n.handlePyMolDownload.bind(xe(n)),n}var n,c,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,s["Component"]),n=t,(c=[{key:"selectionTitle",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top",r=null;return t&&(r=this.defaultInfoTooltip(t,n)),s.createElement("span",null,e," ",r,":")}},{key:"defaultInfoTooltip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return s.createElement(k.c,{placement:t,overlay:function(){return e},arrowContent:s.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0},s.createElement("i",{className:"fa fa-info-circle"}))}},{key:"proteinColorTooltipContent",value:function(){return s.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Color options for the protein structure. ",s.createElement("br",null),s.createElement("br",null),s.createElement("b",null,"Uniform:")," Colors the entire protein structure with a",s.createElement("span",{className:Ce.a.loop}," single color"),". ",s.createElement("br",null),s.createElement("b",null,"Secondary structure:")," Colors the protein by secondary structure. Assigns different colors for"," ",s.createElement("span",{className:Ce.a["alpha-helix"]},"alpha helices"),",",s.createElement("span",{className:Ce.a["beta-sheet"]}," beta sheets"),", and",s.createElement("span",{className:Ce.a.loop}," loops"),". This color option is not available for the space-filling protein scheme."," ",s.createElement("br",null),s.createElement("b",null,"N-C rainbow:")," Colors the protein with a rainbow gradient from red (N-terminus) to blue (C-terminus). ",s.createElement("br",null),s.createElement("b",null,"Atom Type:")," Colors the structure with respect to the atom type (CPK color scheme). This color option is only available for the space-filling protein scheme. ",s.createElement("br",null),s.createElement("br",null),"The selected chain is always displayed with full opacity while the rest of the structure has some transparency to help better focusing on the selected chain.")}},{key:"sideChainTooltipContent",value:function(){return s.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Display options for the side chain atoms. ",s.createElement("br",null),s.createElement("br",null),s.createElement("b",null,"All:")," Displays the side chain atoms for every mapped residue. ",s.createElement("br",null),s.createElement("b",null,"Selected:")," Displays the side chain atoms only for the selected mutations. ",s.createElement("br",null),s.createElement("b",null,"None:")," Hides the side chain atoms. ",s.createElement("br",null),s.createElement("br",null),"This option has no effect for the space-filling protein scheme.")}},{key:"mutationColorTooltipContent",value:function(){return s.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Color options for the mapped mutations. ",s.createElement("br",null),s.createElement("br",null),s.createElement("b",null,"Uniform:")," Colors all mutated residues with a",s.createElement("span",{className:Ce.a["uniform-mutation"]}," ","single color"),". ",s.createElement("br",null),s.createElement("b",null,"Mutation type:")," Enables residue coloring by mutation type. Mutation types and corresponding color codes are as follows:",s.createElement("ul",null,s.createElement("li",null,s.createElement("span",{className:Ce.a["missense-mutation"]},"Missense Mutations")),s.createElement("li",null,s.createElement("span",{className:Ce.a["trunc-mutation"]},"Truncating Mutations"),s.createElement("span",null," (Nonsense, Nonstop, FS del, FS ins)")),s.createElement("li",null,s.createElement("span",{className:Ce.a["inframe-mutation"]},"Inframe Mutations"),s.createElement("span",null," (IF del, IF ins)"))),s.createElement("b",null,"None:")," Disables coloring of the mutated residues except for manually selected (highlighted) residues. ",s.createElement("br",null),s.createElement("br",null),"Highlighted residues are colored with"," ",s.createElement("span",{className:Ce.a.highlighted},"yellow"),".")}},{key:"boundMoleculesTooltipContent",value:function(){return s.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},"Displays co-crystalized molecules. This option has no effect if the current structure does not contain any co-crystalized bound molecules.")}},{key:"helpTooltipContent",value:function(){return s.createElement("div",{style:{maxWidth:400,maxHeight:200,overflowY:"auto"}},s.createElement("b",null,"Zoom in/out:")," Press and hold the SHIFT key and the left mouse button, and then move the mouse backward/forward.",s.createElement("br",null),s.createElement("b",null,"Pan:")," Press and hold the CTRL key, click and hold the left mouse button, and then move the mouse in the desired direction.",s.createElement("br",null),s.createElement("b",null,"Rotate:")," Press and hold the left mouse button, and then move the mouse in the desired direction to rotate along the x and y axes.",s.createElement("br",null))}},{key:"proteinStyleMenu",value:function(){return s.createElement("span",null,s.createElement("div",{className:"row text-center"},s.createElement("span",null,"Protein Style")),s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-10 col-sm-offset-1"},s.createElement("hr",null))),s.createElement("div",{className:"row"},s.createElement(g.Checkbox,{checked:this.displayBoundMolecules,onChange:this.handleBoundMoleculeChange},"Display bound molecules"," ",this.defaultInfoTooltip(this.boundMoleculesTooltipContent()))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-6"},s.createElement("div",{className:"row"},this.selectionTitle("Scheme")),s.createElement("div",{className:"row"},s.createElement(g.FormControl,{className:Ce.a["default-option-select"],componentClass:"select",value:"".concat(this.proteinScheme),onChange:this.handleProteinSchemeChange},s.createElement("option",{value:r.CARTOON},"cartoon"),s.createElement("option",{value:r.SPACE_FILLING},"space-filling"),s.createElement("option",{value:r.TRACE},"trace")))),s.createElement("div",{className:"col col-sm-6"},s.createElement("div",{className:"row"},this.selectionTitle("Color",this.proteinColorTooltipContent())),s.createElement("div",{className:"row"},s.createElement(g.FormControl,{className:Ce.a["default-option-select"],componentClass:"select",value:"".concat(this.proteinColor),onChange:this.handleProteinColorChange},s.createElement("option",{value:o.UNIFORM},"uniform"),s.createElement("option",{value:o.SECONDARY_STRUCTURE,disabled:this.colorBySecondaryStructureDisabled},"secondary structure"),s.createElement("option",{value:o.NC_RAINBOW,disabled:this.colorByNCRainbowDisabled},"N-C rainbow"),s.createElement("option",{value:o.ATOM_TYPE,disabled:this.colorByAtomTypeDisabled},"atom type"))))))}},{key:"mutationStyleMenu",value:function(){return s.createElement("span",null,s.createElement("div",{className:"row text-center"},s.createElement("span",null,"Mutation Style")),s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-10 col-sm-offset-1"},s.createElement("hr",null))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-6"},s.createElement("div",{className:"row"},this.selectionTitle("Side Chain",this.sideChainTooltipContent())),s.createElement("div",{className:"row"},s.createElement(g.FormControl,{className:Ce.a["default-option-select"],componentClass:"select",value:"".concat(this.sideChain),onChange:this.handleSideChainChange},s.createElement("option",{value:i.ALL},"all"),s.createElement("option",{value:i.SELECTED},"selected"),s.createElement("option",{value:i.NONE},"none")))),s.createElement("div",{className:"col col-sm-6"},s.createElement("div",{className:"row"},this.selectionTitle("Color",this.mutationColorTooltipContent(),"left")),s.createElement("div",{className:"row"},s.createElement(g.FormControl,{className:Ce.a["default-option-select"],componentClass:"select",value:"".concat(this.mutationColor),onChange:this.handleMutationColorChange},s.createElement("option",{value:a.UNIFORM},"uniform"),s.createElement("option",{value:a.MUTATION_TYPE},"mutation type"),s.createElement("option",{value:a.NONE},"none"))))))}},{key:"topToolbar",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-6"},s.createElement(g.ButtonGroup,null,s.createElement(k.c,{overlay:s.createElement("span",null,"Download PyMol script"),placement:"top"},s.createElement(g.Button,{className:"btn-sm",onClick:this.handlePyMolDownload},s.createElement("i",{className:"fa fa-cloud-download"})," PyMol")))),s.createElement("div",{className:"col col-sm-6"},s.createElement("span",{className:"pull-right"},"how to pan/zoom/rotate?"," ",this.defaultInfoTooltip(this.helpTooltipContent(),"left"))))}},{key:"header",value:function(){return s.createElement("div",{className:f()("row",Ce.a.header)},s.createElement("div",{className:"col col-sm-10"},s.createElement("span",null,"3D Structure")),s.createElement("div",{className:"col col-sm-2"},s.createElement("span",{className:"pull-right"},s.createElement("i",{className:f()("fa",{"fa-compress":this.isIncreasedSize,"fa-expand":!this.isIncreasedSize}),onClick:this.toggleDoubleSize,style:{marginRight:5,cursor:"pointer"}}),s.createElement("i",{className:"fa fa-minus-circle",onClick:this.toggleCollapse,style:{marginRight:5,cursor:"pointer"}}),s.createElement("i",{className:"fa fa-times-circle",onClick:this.props.onClose,style:{cursor:"pointer"}}))))}},{key:"mainContent",value:function(){return this.pdbId&&this.chainId&&this.residues?s.createElement("span",null,s.createElement("div",{className:"row"},s.createElement(fe,{pdbId:this.pdbId,chainId:this.chainId,cache:this.props.pdbHeaderCache,truncateText:!0})),s.createElement(v.If,{condition:this.residueWarning.length>0},s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-12 text-center"},s.createElement("span",{className:"text-danger"},this.residueWarning)))),s.createElement("div",{className:"row",style:{paddingTop:5,paddingBottom:5}},s.createElement(Y,{displayBoundMolecules:this.displayBoundMolecules,proteinScheme:this.proteinScheme,proteinColor:this.proteinColor,sideChain:this.sideChain,mutationColor:this.mutationColor,pdbId:this.pdbId,chainId:this.chainId,residues:this.residues,bounds:this.structureViewerBounds,containerRef:this.containerRefHandler}))):s.createElement("div",{style:{textAlign:"center"}},s.createElement(b.ThreeBounce,{size:25,style:{display:"inline-block",padding:25}}))}},{key:"render",value:function(){return s.createElement(w.a,{handle:".structure-viewer-header"},s.createElement("div",{className:f()(Ce.a["main-3d-panel"],_e({},Ce.a["increased-size-panel"],this.isIncreasedSize))},s.createElement("div",{className:"structure-viewer-header row"},this.header(),s.createElement("hr",{style:{borderTopColor:"#BBBBBB"}})),s.createElement("div",{className:f()(Ce.a.body,_e({},Ce.a["collapsed-panel"],this.isCollapsed))},this.mainContent(),s.createElement("div",{className:"row"},this.topToolbar(),s.createElement("hr",null)),s.createElement("div",{className:"row"},s.createElement("div",{className:"col col-sm-6"},this.proteinStyleMenu()),s.createElement("div",{className:"col col-sm-6"},this.mutationStyleMenu())))))}},{key:"containerRefHandler",value:function(e){this._3dMolDiv=e}},{key:"toggleCollapse",value:function(){this.isCollapsed=!this.isCollapsed}},{key:"toggleDoubleSize",value:function(){this.isIncreasedSize=!this.isIncreasedSize}},{key:"handleProteinSchemeChange",value:function(e){this.proteinScheme=parseInt(e.target.value,10),(this.proteinScheme!==r.SPACE_FILLING||this.proteinColor!==o.NC_RAINBOW&&this.proteinColor!==o.SECONDARY_STRUCTURE)&&(this.proteinScheme!==r.TRACE&&this.proteinScheme!==r.CARTOON||this.proteinColor!==o.ATOM_TYPE)||(this.proteinColor=o.UNIFORM)}},{key:"handleProteinColorChange",value:function(e){this.proteinColor=parseInt(e.target.value,10)}},{key:"handleSideChainChange",value:function(e){this.sideChain=parseInt(e.target.value,10)}},{key:"handleMutationColorChange",value:function(e){this.mutationColor=parseInt(e.target.value,10)}},{key:"handleBoundMoleculeChange",value:function(){this.displayBoundMolecules=!this.displayBoundMolecules}},{key:"handlePyMolDownload",value:function(){if(this.pdbId&&this.chainId){var e="".concat(this.pdbId,"_").concat(this.chainId,".pml");_()(this.pyMolScript,e)}}},{key:"structureViewerBounds",get:function(){var e,t;return this.isIncreasedSize?(e=this._3dMolDiv?Math.floor(this._3dMolDiv.offsetWidth*(5/3)):698,t=this._3dMolDiv?2*this._3dMolDiv.offsetHeight:350):(e=this._3dMolDiv?Math.floor(this._3dMolDiv.offsetWidth/(5/3)):450,t=this._3dMolDiv?this._3dMolDiv.offsetHeight/2:350),{width:e,height:t}}},{key:"pdbId",get:function(){return this.pdbChain?this.pdbChain.pdbId:void 0}},{key:"chainId",get:function(){return this.pdbChain?this.pdbChain.chain:void 0}},{key:"pdbChain",get:function(){var e=this.props.pdbChainDataStore.sortedFilteredSelectedData;return 0===e.length&&(e=this.props.pdbChainDataStore.allData),0===e.length?void 0:e[0]}},{key:"residueWarning",get:function(){var e="";if(0===this.proteinPositions.length||this.residueMappingData&&0===this.residueMappingData.filter(function(e){return null===e||null!==e.data}).length)e="None of the mutations can be mapped onto this structure";else{var t=l.keys(this.selectedMutationsByPosition).length,n=t-this.mappedSelectedPositions.length;1===t&&1===n?e="Selected mutation cannot be mapped onto this structure":n>0&&(e="".concat(n," of the selections cannot be mapped onto this structure"))}return e}},{key:"residues",get:function(){var e=this;if(this.residueMappingData){var t=[];return this.residueMappingData.forEach(function(n){if(n&&n.data){var r=e.mutationsByPosition[n.data.queryPosition],o=e.props.mutationDataStore&&(e.props.mutationDataStore.isPositionSelected(n.data.queryPosition)||e.props.mutationDataStore.isPositionHighlighted(n.data.queryPosition))||!1;r&&r.length>0&&t.push({positionRange:{start:{position:n.data.pdbPosition},end:{position:n.data.pdbPosition}},color:Object(T.i)(r,e.props),highlighted:o})}}),l.uniq(t)}}},{key:"residueMappingData",get:function(){if(0!==this.alignmentIds.length){var e=[];if(this.props.residueMappingCache&&this.props.uniprotId&&this.pdbId&&this.chainId&&this.proteinPositions.length>0){var t=this.props.residueMappingCache.get({uniprotId:this.props.uniprotId,pdbId:this.pdbId,chainId:this.chainId,uniprotPositions:this.proteinPositions});t.result&&(e=t.result)}return e}}},{key:"mappedSelectedPositions",get:function(){var e=this;if(!this.residueMappingData)return[];var t=[];return this.residueMappingData.forEach(function(n){n&&n.data&&e.props.mutationDataStore&&e.props.mutationDataStore.isPositionSelected(n.data.queryPosition)&&t.push(n.data.queryPosition)}),l.uniq(t)}},{key:"alignmentIds",get:function(){var e=[];this.pdbChain&&this.props.pdbAlignmentIndex&&(e=void 0===this.props.pdbAlignmentIndex[this.pdbChain.pdbId][this.pdbChain.chain]?[]:this.props.pdbAlignmentIndex[this.pdbChain.pdbId][this.pdbChain.chain].map(function(e){return e.alignmentId}));return l.uniq(e)}},{key:"mutationsByPosition",get:function(){return this.props.mutationDataStore?Object(T.m)(this.props.mutationDataStore.sortedFilteredData):{}}},{key:"selectedMutationsByPosition",get:function(){return this.props.mutationDataStore?Object(T.m)(this.props.mutationDataStore.sortedFilteredSelectedData):{}}},{key:"proteinPositions",get:function(){var e=[];return this.props.mutationDataStore&&this.pdbChain&&(e=Object(T.j)(this.props.mutationDataStore.sortedFilteredData,this.pdbChain.uniprotStart,this.pdbChain.uniprotEnd)),e}},{key:"pyMolScript",get:function(){var e=new Se,t={displayBoundMolecules:this.displayBoundMolecules,proteinScheme:this.proteinScheme,proteinColor:this.proteinColor,sideChain:this.sideChain,mutationColor:this.mutationColor};return this.pdbId&&this.chainId?e.generateScript(this.pdbId,this.chainId,this.residues||[],t):""}},{key:"colorBySecondaryStructureDisabled",get:function(){return this.proteinScheme===r.SPACE_FILLING}},{key:"colorByNCRainbowDisabled",get:function(){return this.proteinScheme===r.SPACE_FILLING}},{key:"colorByAtomTypeDisabled",get:function(){return this.proteinScheme!==r.SPACE_FILLING}}])&&ke(n.prototype,c),u&&ke(n,u),t}();Oe([h.observable],Pe.prototype,"isCollapsed",void 0),Oe([h.observable],Pe.prototype,"isIncreasedSize",void 0),Oe([h.observable],Pe.prototype,"proteinScheme",void 0),Oe([h.observable],Pe.prototype,"proteinColor",void 0),Oe([h.observable],Pe.prototype,"sideChain",void 0),Oe([h.observable],Pe.prototype,"mutationColor",void 0),Oe([h.observable],Pe.prototype,"displayBoundMolecules",void 0),Oe([h.computed],Pe.prototype,"structureViewerBounds",null),Oe([h.computed],Pe.prototype,"pdbId",null),Oe([h.computed],Pe.prototype,"chainId",null),Oe([h.computed],Pe.prototype,"pdbChain",null),Oe([h.computed],Pe.prototype,"residueWarning",null),Oe([h.computed],Pe.prototype,"residues",null),Oe([h.computed],Pe.prototype,"residueMappingData",null),Oe([h.computed],Pe.prototype,"mappedSelectedPositions",null),Oe([h.computed],Pe.prototype,"alignmentIds",null),Oe([h.computed],Pe.prototype,"mutationsByPosition",null),Oe([h.computed],Pe.prototype,"selectedMutationsByPosition",null),Oe([h.computed],Pe.prototype,"proteinPositions",null),Oe([h.computed],Pe.prototype,"pyMolScript",null),Oe([h.computed],Pe.prototype,"colorBySecondaryStructureDisabled",null),Oe([h.computed],Pe.prototype,"colorByNCRainbowDisabled",null),Oe([h.computed],Pe.prototype,"colorByAtomTypeDisabled",null);var Ie=Pe=Oe([p.observer],Pe);function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regions=t?Le(t):[]}var t,n,r;return t=e,(n=[{key:"check",value:function(e,t){void 0===t&&(t=e);for(var n,r,o=this.regions,i=0,a=o.length,s=!1;i<a;)if((r=o[n=Math.floor((i+a)/2)])[0]>t)a=n;else{if(!(r[1]<e)){s=!0;break}i=n+1}return s}},{key:"add",value:function(e,t){this.regions.push([e,t]),this.regions=Le(this.regions)}},{key:"_getHotspotRegions",value:function(){return this.regions}}])&&Me(t.prototype,n),r&&Me(t,r),e}();function Le(e){if(0===e.length)return[];e.sort(function(e,t){return e[0]<t[0]?-1:1});for(var t,n=[],r=[e[0][0],e[0][1]],o=1;o<=e.length;)o===e.length?n.push(r):(t=e[o])[0]>r[1]?(n.push(r),r=[e[o][0],e[o][1]]):r[1]=Math.max(r[1],t[1]),o++;return n}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Be=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ge(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,je(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,s["Component"]),n=t,(r=[{key:"render",value:function(){var e=this;return s.createElement("g",{key:this.props.uniqueHitZoneClassName},this.segmentsAndGaps.map(function(t){return t.gap?s.createElement("line",{stroke:"#666666",strokeWidth:"0.5",x1:e.props.positionToX(t.start),x2:e.props.positionToX(t.end),y1:e.props.y+e.props.height/2,y2:e.props.y+e.props.height/2}):s.createElement("rect",{fill:"#3366cc",fillOpacity:e.props.opacity,stroke:"#666666",strokeWidth:"0.5",x:e.props.positionToX(t.start),y:e.props.y,width:e.props.positionToX(t.end)-e.props.positionToX(t.start),height:e.props.height})}),s.createElement("rect",{stroke:"#FF9900",strokeWidth:"2",fillOpacity:"0",strokeOpacity:+!!this.props.highlighted,height:this.props.height,width:this.props.positionToX(this.props.end)-this.props.positionToX(this.props.start),x:this.props.positionToX(this.props.start),y:this.props.y,className:this.props.uniqueHitZoneClassName}))}},{key:"segmentsAndGaps",get:function(){var e=[],t=l.sortBy(this.props.gaps,function(e){return e.start});if(0===t.length)e.push({gap:!1,start:this.props.start,end:this.props.end});else{t[0].start>this.props.start&&e.push({gap:!1,start:this.props.start,end:t[0].start}),e.push({gap:!0,start:t[0].start,end:t[0].end});for(var n=1;n<t.length;n++)e.push({gap:!1,start:t[n-1].end,end:t[n].start}),e.push({gap:!0,start:t[n].start,end:t[n].end});var r=t[t.length-1];r.end<this.props.end&&e.push({gap:!1,start:r.end,end:this.props.end})}return e}}])&&Ne(n.prototype,r),o&&Ne(n,o),t}();Be([h.computed],ze.prototype,"segmentsAndGaps",null);var Ve=ze=Be([p.observer],ze);function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $e=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ke(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ue(t).call(this,e))||"object"!==Ke(o)&&"function"!=typeof o?qe(r):o).rowHeight=6,n.rowPadding=3,n.chainComponents={},n.onMouseOver=n.onMouseOver.bind(qe(n)),n.positionToX=n.positionToX.bind(qe(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(t,s["Component"]),n=t,(r=[{key:"positionToX",value:function(e){return e*this.props.width/this.props.proteinLength}},{key:"makeChainIdClass",value:function(e){return"".concat("chain-").concat(e)}},{key:"getChainId",value:function(e){var t=e.split(/[\s]+/g).map(function(e){return e.match(new RegExp("^(".concat("chain-",".*)$")))}).find(function(e){return null!==e});return t&&t[1]||null}},{key:"chainY",value:function(e){return e*(this.rowHeight+this.rowPadding)}},{key:"onMouseOver",value:function(e){var t=e.target,n=t.getAttribute("class")||"",r=this.getChainId(n);if(null!==r){var o=this.chainComponents[r];o&&this.props.setHitZone&&this.props.setHitZone({x:parseInt(t.getAttribute("x")||"0",10),y:parseInt(t.getAttribute("y")||"0",10),width:parseInt(t.getAttribute("width")||"0",10),height:parseInt(t.getAttribute("height")||"0",10)},o.props.uid)}}},{key:"render",value:function(){return s.createElement("div",null,s.createElement("div",{onMouseOver:this.onMouseOver},s.createElement("svg",{width:this.props.width,height:this.svgHeight},this.rows)))}},{key:"rowSpecs",get:function(){var e=[[]],t=[new De],n=!0,r=!1,o=void 0;try{for(var i,a=function(){var n=i.value,r=l.findIndex(t,function(e){return!e.check(n.start,n.end)});-1===r&&(r=e.length,e.push([]),t.push(new De)),e[r].push(n),t[r].add(n.start,n.end)},s=this.props.chains[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)a()}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return e}},{key:"rows",get:function(){var e=this,t=0;this.chainComponents={};var n={},r=this.rowSpecs.map(function(r,o){return s.createElement("g",{key:o},r.map(function(r){var i=e.makeChainIdClass(t++),a=r.uid,l=e.chainY(o);return n[a]=l,s.createElement(Ve,{ref:function(t){null!==t&&(e.chainComponents[i]=t)},positionToX:e.positionToX,y:l,height:e.rowHeight,uniqueHitZoneClassName:i,start:r.start,end:r.end,gaps:r.gaps,opacity:r.opacity,uid:a,highlighted:e.props.selectedChainUid===r.uid})}))});return this.props.setChainUidToY&&this.props.setChainUidToY(n),r}},{key:"svgHeight",get:function(){return this.rows.length*this.rowHeight+(this.rows.length-1)*this.rowPadding}}])&&He(n.prototype,r),o&&He(n,o),t}();$e([h.observable],Ye.prototype,"rowHeight",void 0),$e([h.observable],Ye.prototype,"rowPadding",void 0),$e([h.computed],Ye.prototype,"rowSpecs",null),$e([h.computed],Ye.prototype,"rows",null),$e([h.computed],Ye.prototype,"svgHeight",null);var Qe=Ye=$e([p.observer],Ye),Xe=n(554);function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getOrganism",value:function(e,t){var n="NA";return l.find(e.compound,function(r){if(-1!=l.indexOf(r.chain,t.toLowerCase())&&null!=e.source[r.mol_id])return n=e.source[r.mol_id].organism_scientific||n,r}),n}},{key:"getOrganismFromCache",value:function(t,n){if(!t)return"";var r=t.get(n.pdbId);return r&&r.data?e.getOrganism(r.data,n.chain):""}}],(n=null)&&Ze(t.prototype,n),r&&Ze(t,r),e}(),et=n(738);function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":st(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ct=function(e){function t(){return nt(this,t),rt(this,ot(t).apply(this,arguments))}return it(t,Xe["b"]),t}(),ut=function(e){function t(){return nt(this,t),rt(this,ot(t).apply(this,arguments))}var n,r,o;return it(t,s["Component"]),n=t,(r=[{key:"render",value:function(){return s.createElement(ct,{showColumnVisibility:!1,showCopyDownload:!1,itemsLabel:"PDB chain",itemsLabelPlural:"PDB chains",paginationProps:{showItemsPerPageSelector:!1,showMoreButton:!1},initialItemsPerPage:6,columns:this.columns,dataStore:this.props.dataStore,pageToHighlight:!0})}},{key:"columns",get:function(){var e=this,t=[];return t.push({name:"PDB Id",render:function(e){return s.createElement("a",{href:"http://www.rcsb.org/pdb/explore/explore.do?structureId=".concat(e.pdbId),target:"_blank"},e.pdbId)},sortBy:function(e){return e.pdbId},filter:function(e,t,n){return e.pdbId.toUpperCase().indexOf(n)>-1}}),t.push({name:"Chain",render:function(t){return s.createElement("span",null,s.createElement("span",{style:{float:"left",fontWeight:"bold",fontStyle:"italic"}},t.chain),s.createElement("a",{style:{float:"right",fontWeight:"bold",cursor:"pointer"},onClick:function(){e.props.dataStore.selectUid(e.props.dataStore.getChainUid(t))}},"3D"))},sortBy:function(e){return e.chain},filter:function(e,t,n){return e.chain.toUpperCase().indexOf(n)>-1}}),t.push({name:"Uniprot Positions",render:function(e){return s.createElement("span",null,"".concat(e.uniprotStart,"-").concat(e.uniprotEnd))},sortBy:function(e){return[e.uniprotStart,e.uniprotEnd]},filter:function(e,t){return(e.uniprotStart+"").indexOf(t)>-1||(e.uniprotEnd+"").indexOf(t)>-1}}),t.push({name:"Organism",render:Object(et.a)(function(t){return e.props.cache?e.props.cache.get(t.pdbId):null},function(e,t){return s.createElement("span",null,Je.getOrganism(e,t.chain))}),sortBy:function(t){return Je.getOrganismFromCache(e.props.cache,t)},filter:function(t,n,r){return(Je.getOrganismFromCache(e.props.cache,t)||"").toUpperCase().indexOf(r)>-1},visible:!!this.props.cache}),t.push({name:"Summary",render:function(t){return s.createElement(fe,{pdbId:t.pdbId,chainId:t.chain,cache:e.props.cache,truncateText:!1,summaryFormat:!0})},filter:function(t,n,r){if(!e.props.cache)return!1;var o=e.props.cache.get(t.pdbId);if(o&&o.data){var i=Object(Q.c)(o.data,t.chain);return i.pdbInfo.toUpperCase().indexOf(r)>-1||(i.moleculeInfo||"").toUpperCase().indexOf(r)>-1}return!1},visible:!!this.props.cache}),t}}])&&tt(n.prototype,r),o&&tt(n,o),t}();lt([h.computed],ut.prototype,"columns",null);var pt=ut=lt([p.observer],ut),ht=n(679),dt=n(661),ft=n(759);function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":St(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ct=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=gt(this,vt(t).call(this,e))).isExpanded=!1,n.pdbChainTableShown=!1,n.hitZoneConfig={x:0,y:0,width:0,height:0,onClick:function(){}},n._chainScrollY=0,n.collapseTimeout=null,n.expandTimeout=null,n.chainUidToY={},n.expandDelayMs=750,n.collapseDelayMs=3e3,n.handlers={onMouseEnter:Object(h.action)(function(){n.expandTimeout=window.setTimeout(function(){n.isExpanded=!0},n.expandDelayMs),n.collapseTimeout&&window.clearTimeout(n.collapseTimeout)}),onMouseLeave:Object(h.action)(function(){n.collapseTimeout=window.setTimeout(function(){n.isExpanded=!1},n.collapseDelayMs),n.expandTimeout&&window.clearTimeout(n.expandTimeout)}),chainDivRef:function(e){n.chainDiv=e},onChainScroll:function(){n.chainDiv&&n.isExpanded&&(n._chainScrollY=n.chainDiv.scrollTop)},togglePDBTable:Object(h.action)(function(){n.pdbChainTableShown=!n.pdbChainTableShown}),getTooltipContent:function(){return n.hoveredChain?s.createElement(fe,{pdbId:n.hoveredChain.pdbId,chainId:n.hoveredChain.chain,cache:n.props.pdbHeaderCache}):null},setHitZone:function(e,t){n.hitZoneConfig.x=e.x,n.hitZoneConfig.y=e.y,n.hitZoneConfig.width=e.width,n.hitZoneConfig.height=e.height,n.hitZoneConfig.onClick=function(){n.selectChain(t)},n.hoveredChain=n.props.store.pdbChainDataStore.getPdbChain(t)},setChainUidToY:function(e){n.chainUidToY=e}},n.onChainSelectReaction=Object(h.reaction)(function(){return n.props.store.pdbChainDataStore.selectedUid},function(e){var t=n.chainUidToY[e];if(void 0!==t&&(t<n.chainDiv.scrollTop||t>n.chainDiv.scrollTop+n.props.maxChainsHeight)){var r=n.props.maxChainsHeight/2;n.chainDiv.scrollTop=t-r}}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,s["Component"]),n=t,(r=[{key:"componentWillUnmount",value:function(){this.onChainSelectReaction()}},{key:"selectChain",value:function(e){this.props.store.pdbChainDataStore.selectUid(e)}},{key:"componentDidMount",value:function(){var e=this;Object(ft.a)(function(){return e.props.store.pdbChainDataStore.selectFirstChain()})}},{key:"componentDidUpdate",value:function(){var e=this;Object(ft.a)(function(){e.chainDiv&&(e.chainDiv.scrollTop=e.chainScrollY)})}},{key:"helpTooltipContent",value:function(){return s.createElement("div",{style:{maxWidth:400}},"This panel displays a list of PDB chains for the corresponding uniprot ID. PDB chains are ranked with respect to their sequence similarity ratio, and aligned to the y-axis of the mutation diagram. Highly ranked chains have darker color than the lowly ranked ones.",s.createElement("br",null),s.createElement("br",null),"Each chain is represented by a single rectangle. Gaps within the chains are represented by a thin line connecting the segments of the chain.",s.createElement("br",null),s.createElement("br",null),"By default, only a first few rows are displayed. To see more chains, use the scroll bar next to the panel. To see the detailed list of all available PDB chains in a table click on the link below the panel.",s.createElement("br",null),s.createElement("br",null),"To select a chain, simply click on it. Selected chain is highlighted with a different frame color. You can also select a chain by clicking on a row in the table. Selecting a chain reloads the PDB data for the 3D structure visualizer.")}},{key:"render",value:function(){var e={};return this.tooltipVisible||(e.visible=!1),s.createElement("div",{onMouseEnter:this.handlers.onMouseEnter,onMouseLeave:this.handlers.onMouseLeave},s.createElement(ht.Collapse,{isOpened:this.isOpen},s.createElement("div",{style:{position:"relative"}},s.createElement("div",{className:"small",style:{position:"absolute"}},s.createElement("span",{style:{marginLeft:16}},"PDB Chains"),s.createElement(k.c,{placement:"left",overlay:this.helpTooltipContent,destroyTooltipOnHide:!0},s.createElement("i",{className:"fa fa-info-circle",style:{paddingLeft:3}}))),s.createElement("div",{ref:this.handlers.chainDivRef,style:{overflowY:"scroll",maxHeight:this.props.maxChainsHeight,marginLeft:this.props.geneXOffset,position:"relative"},onScroll:this.handlers.onChainScroll},s.createElement(Qe,{width:this.props.geneWidth,chains:this.chains,proteinLength:this.proteinLength,setHitZone:this.handlers.setHitZone,selectedChainUid:this.props.store.pdbChainDataStore.selectedUid,setChainUidToY:this.handlers.setChainUidToY}),s.createElement(k.c,mt({placement:"top",overlay:this.handlers.getTooltipContent},e),this.hitZone)),s.createElement("br",null),s.createElement("div",{style:{display:this.isExpanded?"inherit":"none"}},s.createElement("button",{onClick:this.handlers.togglePDBTable,className:"btn btn-default"},this.pdbChainTableShown?"Hide PDB Chain Table":"Show PDB Chain Table"),s.createElement("div",{style:{display:this.pdbChainTableShown?"inherit":"none",maxWidth:this.props.geneWidth}},s.createElement(pt,{dataStore:this.props.store.pdbChainDataStore,cache:this.props.pdbHeaderCache}))),s.createElement("br",null))))}},{key:"chainScrollY",get:function(){return this.isExpanded?this._chainScrollY:0}},{key:"isOpen",get:function(){return!!this.props.store.pdbChainDataStore.selectedChain}},{key:"displayChains",get:function(){return this.props.store.pdbChainDataStore.selectedChain?this.isExpanded?this.props.store.pdbChainDataStore.allData:[this.props.store.pdbChainDataStore.selectedChain]:[]}},{key:"chains",get:function(){var e=this;return this.displayChains.map(function(t){for(var n=[],r=-1,o=t.alignment,i=0;i<o.length;i++)o[i]===dt.a?-1===r&&(r=i):-1!==r&&(n.push({start:t.uniprotStart+r,end:t.uniprotStart+i}),r=-1);return{start:t.uniprotStart,end:t.uniprotEnd+1,gaps:n,opacity:t.identityPerc,uid:e.props.store.pdbChainDataStore.getChainUid(t)}})}},{key:"proteinLength",get:function(){var e=this.props.store.canonicalTranscript.result&&this.props.store.canonicalTranscript.result.proteinLength||0;return Math.max(e,1)}},{key:"tooltipVisible",get:function(){return null!==this.handlers.getTooltipContent()}},{key:"hitZone",get:function(){return s.createElement(k.k,{x:this.hitZoneConfig.x,y:this.hitZoneConfig.y,width:this.hitZoneConfig.width,height:this.hitZoneConfig.height,onClick:this.hitZoneConfig.onClick,cursor:"pointer"})}}])&&yt(n.prototype,r),o&&yt(n,o),t}();wt([h.observable],Ct.prototype,"isExpanded",void 0),wt([h.observable],Ct.prototype,"pdbChainTableShown",void 0),wt([h.observable],Ct.prototype,"hoveredChain",void 0),wt([h.observable],Ct.prototype,"hitZoneConfig",void 0),wt([h.computed],Ct.prototype,"chainScrollY",null),wt([h.action],Ct.prototype,"selectChain",null),wt([h.computed],Ct.prototype,"isOpen",null),wt([h.computed],Ct.prototype,"displayChains",null),wt([h.computed],Ct.prototype,"chains",null),wt([h.computed],Ct.prototype,"proteinLength",null),wt([h.computed],Ct.prototype,"tooltipVisible",null),wt([h.computed],Ct.prototype,"hitZone",null);var _t=Ct=wt([p.observer],Ct),kt=n(656),Tt=n(566),xt=n(873),Et=n.n(xt);function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Lt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),It(this,Mt(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,m["k"]),n=t,(r=[{key:"render",value:function(){return s.createElement("div",null,this.structureViewerPanel,s.createElement(y.a,{center:!0,size:"big",isLoading:this.isLoading}),!this.isLoading&&s.createElement("div",null,s.createElement("div",{style:{display:"flex"}},s.createElement("div",{className:"borderedChart",style:{marginRight:10}},this.mutationPlot,this.proteinChainPanel),s.createElement("div",{className:"mutationMapperMetaColumn"},this.geneSummary,this.mutationRateSummary,this.mutationFilterPanel,this.view3dButton)),s.createElement("hr",{style:{marginTop:20}}),this.mutationTable))}},{key:"open3dPanel",value:function(){this.trackVisibility[m.o.PDB]="visible"}},{key:"close3dPanel",value:function(){this.trackVisibility[m.o.PDB]="hidden"}},{key:"toggle3dPanel",value:function(){this.is3dPanelOpen?this.close3dPanel():this.open3dPanel()}},{key:"onTrackVisibilityChange",value:function(e){var t=this;"hidden"===this.trackVisibility[m.o.PDB]&&e.includes(m.o.PDB)?this.open3dPanel():"visible"!==this.trackVisibility[m.o.PDB]||e.includes(m.o.PDB)||this.close3dPanel(),Object.keys(this.trackVisibility).forEach(function(e){return t.trackVisibility[e]="hidden"}),e.forEach(function(e){return t.trackVisibility[e]="visible"})}},{key:"onProteinImpactTypeSelect",value:function(e,t){Object(m.L)(e.map(function(e){return e.toLowerCase()}),t,this.store.dataStore,m.c.PROTEIN_IMPACT_TYPE,kt.b)}},{key:"trackDataStatus",get:function(){var e,t=this.props.store.oncoKbData.status;"complete"===t&&c.a.isEmpty(this.props.store.oncoKbDataByProteinPosStart)&&(t="empty");var n=this.props.store.indexedHotspotData.status;"complete"===n&&c.a.isEmpty(this.props.store.hotspotsByPosition)&&(n="empty");var r=this.props.store.alignmentData.status;"complete"===r&&0===this.props.store.pdbChainDataStore.allData.length&&(r="empty");var o=this.props.store.ptmData.status;return"complete"!==o||this.props.store.ptmData.result&&0!==this.props.store.ptmData.result.length||(o="empty"),Ot(e={},m.o.OncoKB,t),Ot(e,m.o.CancerHotspots,n),Ot(e,m.o.PTM,o),Ot(e,m.o.PDB,r),e}},{key:"windowWrapper",get:function(){return Tt.a}},{key:"is3dPanelOpen",get:function(){return"visible"===this.trackVisibility[m.o.PDB]}},{key:"mutationRateSummary",get:function(){return null}},{key:"multipleMutationInfo",get:function(){var e=this.props.store.dataStore.duplicateMutationCountInMultipleSamples,t=1===e?"mutation":"mutations";return e>0?": includes ".concat(e," duplicate ").concat(t," in patients with multiple samples"):""}},{key:"itemsLabelPlural",get:function(){return"Mutations".concat(this.multipleMutationInfo)}},{key:"proteinImpactTypeFilter",get:function(){return Object(kt.d)(this.store.dataStore.dataFilters)}},{key:"mutationFilterPanel",get:function(){return s.createElement("div",null,s.createElement("div",{style:{paddingBottom:15,paddingTop:15}},s.createElement(m.n,{filter:this.proteinImpactTypeFilter,counts:this.store.mutationCountsByProteinImpactType,onSelect:this.onProteinImpactTypeSelect})))}},{key:"structureViewerPanel",get:function(){return this.is3dPanelOpen?s.createElement(Ie,At({mutationDataStore:this.props.store.dataStore,pdbChainDataStore:this.props.store.pdbChainDataStore,pdbAlignmentIndex:this.props.store.indexedAlignmentData,pdbHeaderCache:this.props.pdbHeaderCache,residueMappingCache:this.props.store.residueMappingCache,uniprotId:this.props.store.uniprotId.result,onClose:this.close3dPanel},T.a)):null}},{key:"mutationPlot",get:function(){return s.createElement(m.i,{store:this.props.store,pubMedCache:this.props.pubMedCache,onXAxisOffset:this.onXAxisOffset,geneWidth:this.geneWidth,trackVisibility:this.trackVisibility,trackDataStatus:this.trackDataStatus,onTrackVisibilityChange:this.onTrackVisibilityChange,getLollipopColor:T.i,filterResetPanel:this.props.store.dataStore.showingAllData||null===this.filterResetPanel?void 0:this.filterResetPanel})}},{key:"proteinChainPanel",get:function(){return this.is3dPanelOpen?s.createElement(_t,{store:this.props.store,pdbHeaderCache:this.props.pdbHeaderCache,geneWidth:this.geneWidth,geneXOffset:this.lollipopPlotGeneX,maxChainsHeight:200}):null}},{key:"view3dButton",get:function(){return s.createElement("button",{className:"btn btn-default btn-sm",disabled:0===this.props.store.pdbChainDataStore.allData.length,onClick:this.toggle3dPanel,"data-test":"view3DStructure"},"View 3D Structure")}},{key:"filterResetPanel",get:function(){var e=this.props.store.dataStore;return s.createElement(m.f,{resetFilters:function(){return e.resetFilters()},filterInfo:"Showing ".concat(e.tableData.length," of ").concat(e.allData.length," mutations."),className:f()("alert","alert-success",Et.a.filterResetPanel),buttonClass:"btn btn-default btn-xs"})}},{key:"isMutationTableDataLoading",get:function(){return!1}},{key:"mutationTableComponent",get:function(){return null}}])&&Pt(n.prototype,r),o&&Pt(n,o),t}();Nt([h.computed],Rt.prototype,"trackDataStatus",null),Nt([h.computed],Rt.prototype,"windowWrapper",null),Nt([h.computed],Rt.prototype,"is3dPanelOpen",null),Nt([h.computed],Rt.prototype,"multipleMutationInfo",null),Nt([h.computed],Rt.prototype,"itemsLabelPlural",null),Nt([h.computed],Rt.prototype,"proteinImpactTypeFilter",null),Nt([h.action],Rt.prototype,"open3dPanel",null),Nt([u.a,h.action],Rt.prototype,"close3dPanel",null),Nt([u.a,h.action],Rt.prototype,"toggle3dPanel",null),Nt([u.a,h.action],Rt.prototype,"onTrackVisibilityChange",null),Nt([u.a,h.action],Rt.prototype,"onProteinImpactTypeSelect",null),Rt=Nt([p.observer],Rt);t.a=Rt},function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(92),a=n(887),s=n(28),l=n.n(s),c=n(5);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function f(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},w=function(e){function t(){return p(this,t),f(this,m(t).apply(this,arguments))}return y(t,r["Component"]),d(t,[{key:"render",value:function(){var e=this.props,t=(e.bsRole,e.title),n=S(e,["bsRole","title"]);return r.createElement(i.Button,u({className:"btn btn-default"},n),t," ",this.props.titleElement," ",r.createElement("span",{className:"caret"}))}}]),t}(),C=function(e){function t(){return p(this,t),f(this,m(t).apply(this,arguments))}return y(t,r["Component"]),d(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return r.createElement("div",{className:l()("dropdown-menu",t),style:{padding:"6px"}},n)}}]),t}(),_=function(e){function t(e){var n;return p(this,t),(n=f(this,m(t).call(this,e))).open=!1,n.toggle=function(){n.open=!n.open},n.hide=function(){n.open=!1},n}return y(t,r["Component"]),d(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,o=e.className,s=(e.ref,S(e,["children","id","className","ref"]));return r.createElement(a.RootCloseWrapper,{onRootClose:this.hide},r.createElement(i.Dropdown,{id:n+"",open:this.open},r.createElement(w,u({bsStyle:"default",bsRole:"toggle",title:"Custom Toggle",onClick:this.toggle},s)),r.createElement(C,{bsRole:"menu",className:l()(o)},t)))}}]),t}();b([c.observable],_.prototype,"open",void 0);var k=_=b([o.observer],_);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,E(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this;return r.createElement(i.Modal,{show:this.props.show,onHide:this.props.onHide,animation:!1},r.createElement(i.Modal.Header,{closeButton:!0},r.createElement(i.Modal.Title,null,"Open new tab to MD Anderson NG-CHM?")),r.createElement(i.Modal.Body,null,r.createElement("div",{className:"oncoprint__controls__heatmap_menu mdacc-modal"},r.createElement("p",null,"Continue will open a tab or window to a different site (not cBioPortal)."),r.createElement("p",null,"You will be able to view this study as Next Generation Clustered Heatmaps (NG-CHM) developed by The University of Texas MD Anderson Cancer Center."),r.createElement("em",null,"Note: NG-CHM will not be limited to your selected samples and genes."))),r.createElement(i.Modal.Footer,null,r.createElement(i.Button,{onClick:function(){e.props.openNgchmWindow(),e.props.onHide()}},"Continue"),r.createElement(i.Button,{onClick:this.props.onHide},"Cancel")))}}])&&T(n.prototype,o),a&&T(n,a),t}(),M=I=P([o.observer],I),D=n(604),L=n(7),N=n.n(L),R=n(93),j=n(4),F=n(601),G=n.n(F),B=(n(732),n(904),n(548)),z=n(564),V=n(658),H=n(25),U=n(582),q=n(803),W=n(59),K=n(574),$=n(558),Y=n(809);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var te=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ee(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),X(this,Z(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return void 0===this.props.count?null:r.createElement("span",{className:"oncoprintDropdownCount"},this.props.count)}}])&&Q(n.prototype,o),i&&Q(n,i),t}(),re=ne=te([o.observer],ne);function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ce,ue=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":le(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.CLINICAL="Clinical",e.GROUPS="Groups"}(ce||(ce={}));var pe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ie(this,ae(t).apply(this,arguments))).open=!1,e.tabId=ce.CLINICAL,e.options=Object(j.W)({await:function(){return[e.props.store.clinicalAttributes,e.clinicalAttributeIdToAvailableFrequency]},invoke:function(){var t=L.uniqBy(e.props.store.clinicalAttributes.result,function(e){return e.clinicalAttributeId}),n=e.clinicalAttributeIdToAvailableFrequency.result,r={clinical:[],groups:[]},o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;Object(K.b)(c)?r.groups.push(c):r.clinical.push(c)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r.clinical=L.sortBy(r.clinical,[function(e){return e.clinicalAttributeId===K.a.StudyOfOrigin?0:e.clinicalAttributeId===K.a.MutationSpectrum?1:Object(K.d)(e)?2:3},function(e){var t=n[e.clinicalAttributeId];return void 0===t&&(t=0),-t},function(e){return-e.priority},function(e){return e.displayName.toLowerCase()}]),r.groups=L.sortBy(r.groups,function(e){return e.displayName.toLowerCase()}),Promise.resolve(L.mapValues(r,function(t){return t.map(function(t){return{label:t.displayName,key:t.clinicalAttributeId,selected:t.clinicalAttributeId in e.selectedClinicalAttributeIds}})}))}}),e.clinicalAttributeIdToAvailableFrequency=Object(j.W)({await:function(){return[e.props.store.clinicalAttributeIdToAvailableSampleCount,e.props.store.samples]},invoke:function(){var t=e.props.store.samples.result.length;return Promise.resolve(L.mapValues(e.props.store.clinicalAttributeIdToAvailableSampleCount.result,function(e){return 100*e/t}))}}),e.addClinicalTracksMenu=Object($.a)({await:function(){return[e.options]},render:function(){return r.createElement(q.a,{options:e.options.result.clinical,freqPromise:e.clinicalAttributeIdToAvailableFrequency,onAddAll:e.addAll,onClearAll:e.clear,onToggleOption:e.toggleClinicalTrack,optionsGivenInSortedOrder:!0})},renderPending:function(){return r.createElement(R.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0}),e.addGroupTracksMenu=Object($.a)({await:function(){return[e.options]},render:function(){return r.createElement(q.a,{options:e.options.result.groups,freqPromise:e.clinicalAttributeIdToAvailableFrequency,onAddAll:e.addAll,onClearAll:e.clear,onToggleOption:e.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group"})},renderPending:function(){return r.createElement(R.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0}),e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["Component"]),n=t,(o=[{key:"updateTabId",value:function(e){this.tabId=e}},{key:"addAll",value:function(e){this.props.onChangeSelectedClinicalTracks(L.union(this.props.selectedClinicalAttributeIds,e))}},{key:"clear",value:function(e){this.props.onChangeSelectedClinicalTracks(L.difference(this.props.selectedClinicalAttributeIds,e))}},{key:"toggleClinicalTrack",value:function(e){this.props.onChangeSelectedClinicalTracks(Object(Y.b)(e,this.props.selectedClinicalAttributeIds))}},{key:"onDropdownChange",value:function(e){this.open=e}},{key:"render",value:function(){return r.createElement(j.c,{visible:this.open,trigger:["click"],onVisibleChange:this.onDropdownChange,placement:"bottomRight",destroyTooltipOnHide:!0,overlay:this.dropdown,align:{overflow:{adjustX:!0,adjustY:!1}},arrowContent:r.createElement("span",null),overlayClassName:"oncoprintAddClinicalTracksDropdown"},r.createElement("button",{className:l()("btn btn-default btn-md",{active:this.open}),"data-event":Object(W.e)({category:"resultsView",action:"addClinicalTrackMenuOpen",label:this.props.store.studyIds.result.join(",")}),"data-test":"add-clinical-track-button"},"Add Clinical Tracks"," ",r.createElement(re,{count:this.options.isComplete?this.options.result.clinical.length:void 0}),"",r.createElement("span",{className:"caret"}),""))}},{key:"selectedClinicalAttributeIds",get:function(){return L.keyBy(this.props.selectedClinicalAttributeIds)}},{key:"dropdown",get:function(){return this.props.store.comparisonGroups.isComplete&&this.props.store.comparisonGroups.result.length>0?r.createElement(U.b,{activeTabId:this.tabId,onTabClick:this.updateTabId,className:"mainTabs oncoprintAddClinicalTracks"},r.createElement(U.a,{key:0,id:ce.CLINICAL,linkText:ce.CLINICAL},this.addClinicalTracksMenu.component),r.createElement(U.a,{key:1,id:ce.GROUPS,linkText:ce.GROUPS,hide:!this.props.store.comparisonGroups.isComplete||0===this.props.store.comparisonGroups.result.length},this.addGroupTracksMenu.component)):r.createElement("div",{className:"tab-content"},r.createElement("div",{className:"msk-tab"},this.addClinicalTracksMenu.component))}}])&&oe(n.prototype,o),i&&oe(n,i),t}();ue([c.observable],pe.prototype,"open",void 0),ue([c.observable],pe.prototype,"tabId",void 0),ue([H.a,c.action],pe.prototype,"updateTabId",null),ue([H.a,c.action],pe.prototype,"addAll",null),ue([H.a,c.action],pe.prototype,"clear",null),ue([H.a,c.action],pe.prototype,"toggleClinicalTrack",null),ue([c.computed],pe.prototype,"selectedClinicalAttributeIds",null),ue([c.computed],pe.prototype,"dropdown",null),ue([H.a,c.action],pe.prototype,"onDropdownChange",null);var he=pe=ue([o.observer],pe),de=n(850),fe=n(17),me=n.n(fe);function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var we=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Se(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Ce=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ge(t).call(this,e),(n=!o||"object"!==Se(o)&&"function"!=typeof o?ve(r):o).textAreaContent="",n.timeout=void 0,n.TIMEOUT_DELAY=750,n.itemRemovedByUser=function(e){n.props.onIconClicked&&e.target&&n.props.onIconClicked(e.target.id)},n.textUpdatedByUser=function(e){n.textAreaContent=e.currentTarget.value,n.props.onChangeTextArea&&n.startTimedSubmit()},n.onAreaClicked=function(e){me.a.findDOMNode(n.refs.textarea).focus()},n.textUpdatedByUser=n.textUpdatedByUser.bind(ve(n)),n.itemRemovedByUser=n.itemRemovedByUser.bind(ve(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(o=[{key:"startTimedSubmit",value:function(){this.stopTimedSubmit(),this.timeout=setTimeout(function(){this.textAreaContent=this.props.onChangeTextArea(this.textAreaContent),this.stopTimedSubmit()}.bind(this),this.TIMEOUT_DELAY)}},{key:"stopTimedSubmit",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:l()("text-icon-area",this.props.classNames),onClick:this.onAreaClicked},r.createElement("div",{className:l()("icon-area",this.props.classNames)},this.props.elements.map(function(t){return r.createElement("div",{className:l()(t.classNames,"icon")},t.label,"",r.createElement("div",{className:l()("fa","fa-times-circle","icon-button"),onClick:e.itemRemovedByUser,id:t.value}))})),r.createElement("textarea",{ref:"textarea",placeholder:this.props.placeholder,value:this.textAreaContent,onInput:this.textUpdatedByUser,className:l()("text-area",this.props.classNames)}))}}])&&ye(n.prototype,o),i&&ye(n,i),t}();we([c.observable],Ce.prototype,"textAreaContent",void 0);var _e=Ce=we([o.observer],Ce),ke=n(611);function Te(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ie=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Pe(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Me="0",De="1",Le="2",Ne="3",Re="4",je="4.1",Fe="4.2",Ge="5",Be="5.1",ze="6",Ve="7",He="8",Ue="9",qe="10",We="13",Ke="15",$e="16",Ye="17",Qe="18",Xe="19",Ze="20",Je="21",et="22",tt="22.1",nt="23",rt="25",ot="26",it="27",at="28",st="29",lt="31",ct="32",ut=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Ee(t).call(this,e),(n=!o||"object"!==Pe(o)&&"function"!=typeof o?Ae(r):o).heatmapGenesReady=!1,n._selectedTreatmentIds=[],n.textareaTreatmentText="",n.treatmentFilter="",n.showConfirmNgchmModal=!1,n.getHeatmapMenu=n.getHeatmapMenu.bind(Ae(n)),n.getClinicalTracksMenu=n.getClinicalTracksMenu.bind(Ae(n)),n.getSortMenu=n.getSortMenu.bind(Ae(n)),n.getViewMenu=n.getViewMenu.bind(Ae(n)),n.getDownloadMenu=n.getDownloadMenu.bind(Ae(n)),n.onInputClick=n.onInputClick.bind(Ae(n)),n.getMutationColorMenu=n.getMutationColorMenu.bind(Ae(n)),n.getHorzZoomControls=n.getHorzZoomControls.bind(Ae(n)),n.onSelect=n.onSelect.bind(Ae(n)),n.toggleShowMinimap=n.toggleShowMinimap.bind(Ae(n)),n.onType=n.onType.bind(Ae(n)),n.onHeatmapProfileSelect=n.onHeatmapProfileSelect.bind(Ae(n)),n.onButtonClick=n.onButtonClick.bind(Ae(n)),n.onZoomInClick=n.onZoomInClick.bind(Ae(n)),n.onZoomOutClick=n.onZoomOutClick.bind(Ae(n)),n.onCustomDriverTierCheckboxClick=n.onCustomDriverTierCheckboxClick.bind(Ae(n)),n.onHorzZoomSliderChange=n.onHorzZoomSliderChange.bind(Ae(n)),n.onHorzZoomSliderSet=n.onHorzZoomSliderSet.bind(Ae(n)),n.onSetHorzZoomTextInput=n.onSetHorzZoomTextInput.bind(Ae(n)),e.selectedTreatmentIds&&(n._selectedTreatmentIds=e.selectedTreatmentIds),n.horzZoomSliderState=e.state.horzZoom,Object(c.reaction)(function(){return n.props.state.horzZoom},function(e){return n.horzZoomSliderState=e}),n}var a,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,r["Component"]),a=t,(s=[{key:"onZoomInClick",value:function(){this.props.handlers.onClickZoomIn()}},{key:"onZoomOutClick",value:function(){this.props.handlers.onClickZoomOut()}},{key:"onSetHorzZoomTextInput",value:function(e){var t=parseFloat(e)/100;this.props.handlers.onSetHorzZoom(t)}},{key:"onSelect",value:function(e){e===Ge&&this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType)}},{key:"onHeatmapProfileSelect",value:function(e){this.props.handlers.onSelectHeatmapProfile&&this.props.handlers.onSelectHeatmapProfile(e.value)}},{key:"toggleShowMinimap",value:function(){this.props.handlers.onSelectShowMinimap&&this.props.handlers.onSelectShowMinimap(!this.props.state.showMinimap)}},{key:"onInputClick",value:function(e){switch(e.target.value){case Le:this.props.handlers.onSelectShowUnalteredColumns&&this.props.handlers.onSelectShowUnalteredColumns(!this.props.state.showUnalteredColumns);break;case Ne:this.props.handlers.onSelectShowWhitespaceBetweenColumns&&this.props.handlers.onSelectShowWhitespaceBetweenColumns(!this.props.state.showWhitespaceBetweenColumns);break;case Re:this.props.handlers.onSelectShowClinicalTrackLegends&&this.props.handlers.onSelectShowClinicalTrackLegends(!this.props.state.showClinicalTrackLegends);break;case je:this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases&&this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases(!this.props.state.onlyShowClinicalLegendForAlteredCases);break;case Fe:this.props.handlers.onSelectShowOqlInLabels&&this.props.handlers.onSelectShowOqlInLabels(!this.props.state.showOqlInLabels);break;case Me:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("sample");break;case De:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("patient");break;case Ue:this.props.handlers.onClickSortByData&&this.props.handlers.onClickSortByData();break;case Ve:this.props.handlers.onClickSortAlphabetical&&this.props.handlers.onClickSortAlphabetical();break;case He:this.props.handlers.onClickSortCaseListOrder&&this.props.handlers.onClickSortCaseListOrder();break;case ze:this.props.handlers.onSelectSortByMutationType&&this.props.handlers.onSelectSortByMutationType(!this.props.state.sortByMutationType);break;case qe:this.props.handlers.onSelectSortByDrivers&&this.props.handlers.onSelectSortByDrivers(!this.props.state.sortByDrivers);break;case Ke:this.props.handlers.onSelectDistinguishDrivers&&this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case Ge:this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType);break;case Be:this.props.handlers.onSelectDistinguishGermlineMutations(!this.props.state.distinguishGermlineMutations);break;case $e:this.props.handlers.onSelectAnnotateOncoKb&&this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case Ye:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case Qe:this.props.handlers.onSelectAnnotateCBioPortal&&this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case Xe:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case et:this.props.handlers.onSelectHidePutativePassengers&&this.props.handlers.onSelectHidePutativePassengers(!this.props.state.hidePutativePassengers);break;case tt:this.props.handlers.onSelectHideGermlineMutations(!this.props.state.hideGermlineMutations);break;case nt:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onHorzZoomSliderChange",value:function(e){this.horzZoomSliderState=e}},{key:"onHorzZoomSliderSet",value:function(){this.props.handlers.onSetHorzZoom(this.horzZoomSliderState),this.horzZoomSliderState=this.props.state.horzZoom}},{key:"onCustomDriverTierCheckboxClick",value:function(e){this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(e.target.value,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(e.target.value)))}},{key:"onButtonClick",value:function(e){switch(e.target.name){case We:this.props.handlers.onClickAddGenesToHeatmap&&this.props.handlers.onClickAddGenesToHeatmap();break;case ct:this.props.handlers.onClickAddTreatmentsToHeatmap&&this.props.handlers.onClickAddTreatmentsToHeatmap(this._selectedTreatmentIds);break;case it:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("svg");break;case ot:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("png");break;case rt:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("pdf");break;case at:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("order");break;case st:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("tabular");break;case lt:this.props.state.ngchmButtonActive&&this.props.handlers.onClickNGCHM&&(this.showConfirmNgchmModal=!0)}}},{key:"onChangeHeatmapGeneInput",value:function(e,t,n){this.props.handlers.onChangeHeatmapGeneInputValue&&this.props.handlers.onChangeHeatmapGeneInputValue(n);var r=N.a.keyBy(t.found,function(e){return e.hugoGeneSymbol.toUpperCase()});this.heatmapGenesReady=N.a.every(e.query,function(e){return e.gene.toUpperCase()in r})}},{key:"onType",value:function(e){switch(e.target.name){case Ze:this.props.handlers.onChangeAnnotateCBioPortalInputValue&&this.props.handlers.onChangeAnnotateCBioPortalInputValue(e.target.value);break;case Je:this.props.handlers.onChangeAnnotateCOSMICInputValue&&this.props.handlers.onChangeAnnotateCOSMICInputValue(e.target.value)}}},{key:"onChangeTreatmentTextArea",value:function(e){return Object(ke.b)(e,this._selectedTreatmentIds,this.treatmentOptionsByValueMap)}},{key:"onTreatmentRemoved",value:function(e){N.a.remove(this._selectedTreatmentIds,function(t){return t===e})}},{key:"filterHeatmapProfilesByGenericAssayType",value:function(e){return N.a.filter(e,function(e){return e.molecularAlterationType!==B.a.GENERIC_ASSAY||e.molecularAlterationType===B.a.GENERIC_ASSAY&&e.genericAssayType===B.b.TREATMENT_RESPONSE})}},{key:"onSelectTreatments",value:function(e){this._selectedTreatmentIds=e.map(function(e){return e.id})}},{key:"onInputChange",value:function(e){this.treatmentFilter=e}},{key:"onAddAllTreatments",value:function(){this.filteredTreatmentOptions&&this.onSelectTreatments(N.a.uniqBy([].concat(Te(this.selectedTreatmentsJS),Te(this.filteredTreatmentOptions)),function(e){return e.value}))}},{key:"getClinicalTracksMenu",value:function(){return this.props.store&&this.props.state.selectedClinicalAttributeIds&&this.props.handlers.onChangeSelectedClinicalTracks?r.createElement(he,{store:this.props.store,selectedClinicalAttributeIds:this.props.state.selectedClinicalAttributeIds,onChangeSelectedClinicalTracks:this.props.handlers.onChangeSelectedClinicalTracks}):null}},{key:"getHeatmapMenu",value:function(){var e=this.props.state.heatmapIsDynamicallyQueried,t=e&&this.props.state.selectedHeatmapProfileAlterationType!==B.a.GENERIC_ASSAY,n=e&&this.props.state.selectedHeatmapProfileAlterationType===B.a.GENERIC_ASSAY;if(this.props.oncoprinterMode||this.props.state.hideHeatmapMenu||!this.props.state.heatmapProfilesPromise)return null;var o=r.createElement(R.a,{isLoading:!0});if(this.props.state.heatmapProfilesPromise.isComplete){if(!this.props.state.heatmapProfilesPromise.result.length)return null;o=r.createElement("div",{className:"oncoprint__controls__heatmap_menu"},r.createElement(D.a,{clearable:!1,searchable:!1,isLoading:this.props.state.heatmapProfilesPromise.isPending,onChange:this.onHeatmapProfileSelect,value:this.props.state.selectedHeatmapProfile,options:this.heatmapProfileOptions}),t&&[r.createElement(V.b,{inputGeneQuery:this.props.state.heatmapGeneInputValue||"",callback:this.onChangeHeatmapGeneInput,location:V.a.ONCOPRINT_HEATMAP}),r.createElement("button",{key:"addGenesToHeatmapButton",className:"btn btn-sm btn-default",name:We,onClick:this.onButtonClick,disabled:!this.heatmapGenesReady},"Add Genes to Heatmap")],n&&this.props.state.treatmentsPromise.isComplete&&[r.createElement(_e,{elements:this.textareaTreatmentEntries,text:this.textareaTreatmentText,placeholder:"Type space- or comma-separated treatments here, then click 'Add Treatments to Heatmap'",onChangeTextArea:this.onChangeTreatmentTextArea,onIconClicked:this.onTreatmentRemoved,classNames:["treatment-textarea"]}),r.createElement("div",{className:l()("treatment-selector")},r.createElement(j.a,{name:"treatment-select",placeholder:"Search for Treatments...",options:this.filteredTreatmentOptions,onChange:this.onSelectTreatments,value:this.selectedTreatmentsJS,onInputChange:this.onInputChange,addAllLabel:this.addAllLabel,onAddAll:this.onAddAllTreatments,inputValue:this.treatmentFilter})),r.createElement("button",{key:"addTreatmentsToHeatmapButton",className:"btn btn-sm btn-default",name:ct,onClick:this.onButtonClick},"Add Treatment Response to Heatmap")],this.props.state.ngchmButtonActive&&[r.createElement("hr",null),r.createElement(j.c,{overlay:r.createElement("span",null,"Open a new tab to visualize this study as Next Generation Clustered Heatmaps from MD Anderson Cancer Center.")},r.createElement("button",{className:l()("btn","btn-sm","btn-default"),name:lt,onClick:this.onButtonClick},"Whole Study Heatmap (NG-CHM)"," ",r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})))])}else this.props.state.heatmapProfilesPromise.isError&&(o=r.createElement("span",null,"Error loading heatmap profiles."));return r.createElement(k,{bsStyle:"default",title:"Add Heatmap Tracks",id:"heatmapDropdown",className:"heatmap",titleElement:r.createElement(re,{count:this.props.state.heatmapProfilesPromise.isComplete&&this.props.state.heatmapProfilesPromise.result?this.filterHeatmapProfilesByGenericAssayType(this.props.state.heatmapProfilesPromise.result).length:void 0})},o)}},{key:"getSortMenuOncoprinter",value:function(){return r.createElement(k,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:ze,checked:this.props.state.sortByMutationType,onClick:this.onInputClick,disabled:!this.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:qe,checked:this.props.state.sortByDrivers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Driver/Passenger"))))}},{key:"getSortMenuOncoprint",value:function(){return r.createElement(k,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByData",type:"radio",name:"sortBy",value:Ue,checked:"data"===this.props.state.sortMode.type,onClick:this.onInputClick})," ","Sort by data")),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:ze,checked:this.props.state.sortByMutationType,onClick:this.onInputClick,disabled:"data"!==this.props.state.sortMode.type||!this.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:qe,checked:this.props.state.sortByDrivers,onClick:this.onInputClick,disabled:"data"!==this.props.state.sortMode.type||!this.props.state.distinguishDrivers})," ","Driver/Passenger"))),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:Ve,checked:"alphabetical"===this.props.state.sortMode.type,onClick:this.onInputClick})," ","Sort by case id (alphabetical)")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:He,checked:"caseList"===this.props.state.sortMode.type,onClick:this.onInputClick,"data-test":"caseList",disabled:!!this.props.state.sortByCaseListDisabled})," ","Sort by case list order")),this.props.state.heatmapProfilesPromise&&!(this.props.state.heatmapProfilesPromise.isComplete&&!this.props.state.heatmapProfilesPromise.result.length)&&r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByHeatmapClustering",type:"radio",name:"sortBy",checked:"heatmap"===this.props.state.sortMode.type,disabled:!0})," ","Sorted by heatmap clustering order"))))}},{key:"getMutationColorMenu",value:function(){return r.createElement(k,{bsStyle:"default",title:"Mutations",id:"mutationColorDropdown"},r.createElement("div",{className:"oncoprint__controls__mutation_color_menu"},r.createElement("h5",null,"Color by"),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByType",type:"checkbox",value:Ge,checked:this.props.state.distinguishMutationType,onClick:this.onInputClick})," ","Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByGermline",type:"checkbox",value:Be,checked:this.props.state.distinguishGermlineMutations,onClick:this.onInputClick})," ","Somatic vs Germline"))),this.driverAnnotationSection))}},{key:"getViewMenu",value:function(){return this.props.oncoprinterMode?this.getViewMenuOncoprinter():this.getViewMenuOncoprint()}},{key:"getViewMenuOncoprinter",value:function(){return r.createElement(k,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Le,checked:this.props.state.showUnalteredColumns,onClick:this.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ne,checked:this.props.state.showWhitespaceBetweenColumns,onClick:this.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Re,checked:this.props.state.showClinicalTrackLegends,onClick:this.onInputClick})," ","Show legends for clinical tracks")))}},{key:"getViewMenuOncoprint",value:function(){return r.createElement(k,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("strong",null,"Data type:"),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:Me,checked:this.props.state.columnMode===z.b.SAMPLE,onClick:this.onInputClick})," ","Events per sample")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:De,checked:this.props.state.columnMode===z.b.PATIENT,onClick:this.onInputClick})," ","Events per patient")),r.createElement("hr",null),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Le,checked:this.props.state.showUnalteredColumns,onClick:this.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ne,checked:this.props.state.showWhitespaceBetweenColumns,onClick:this.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Re,checked:this.props.state.showClinicalTrackLegends,onClick:this.onInputClick})," ","Show legends for clinical tracks")),r.createElement("div",{className:"checkbox",style:{marginLeft:20,maxWidth:220}},r.createElement("label",null,r.createElement("input",{"data-test":"onlyShowClinicalLegendsForAltered",type:"checkbox",value:je,checked:this.props.state.onlyShowClinicalLegendForAlteredCases,onClick:this.onInputClick,disabled:!this.props.state.showClinicalTrackLegends})," ","Only show clinical track legends for altered"," ",this.props.state.columnMode===z.b.PATIENT?"patients":"samples",".")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Fe,checked:this.props.state.showOqlInLabels,onClick:this.onInputClick})," ","Show OQL filters")))}},{key:"getDownloadMenu",value:function(){return r.createElement(k,{bsStyle:"default",title:"Download",id:"downloadDropdownButton"},r.createElement("button",{className:"btn btn-sm btn-default",name:rt,onClick:this.onButtonClick},"PDF"),r.createElement("button",{className:"btn btn-sm btn-default",name:ot,onClick:this.onButtonClick},"PNG"),r.createElement("button",{className:"btn btn-sm btn-default",name:it,onClick:this.onButtonClick},"SVG"),r.createElement("button",{className:"btn btn-sm btn-default",name:at,onClick:this.onButtonClick},this.props.state.columnMode&&this.props.state.columnMode[0].toUpperCase()+this.props.state.columnMode.slice(1)||"Sample"," ","order"),!this.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:st,onClick:this.onButtonClick},"Tabular"))}},{key:"getHorzZoomControls",value:function(){return r.createElement("div",{className:"btn btn-default oncoprint__zoom-controls"},r.createElement(j.c,{overlay:r.createElement("span",null,"Zoom out of oncoprint."),placement:"top"},r.createElement("div",{onClick:this.onZoomOutClick},r.createElement("i",{className:"fa fa-search-minus"}))),r.createElement(j.c,{overlay:r.createElement("span",null,"Zoom in/out of oncoprint."),placement:"top"},r.createElement("div",{style:{width:"90px"}},r.createElement(G.a,{value:this.horzZoomSliderState,onChange:this.onHorzZoomSliderChange,onChangeComplete:this.onHorzZoomSliderSet,step:.01,max:1,min:0,tooltip:!1}))),r.createElement(j.e,{value:(100*this.horzZoomSliderState).toFixed(),setValue:this.onSetHorzZoomTextInput,maxChars:3,numericOnly:!0,textFieldAppearance:!0,style:{background:"white",minWidth:"30px",fontSize:"14px",fontFamily:"arial",border:"none",padding:0,marginTop:0,marginBottom:0,marginRight:2}}),r.createElement("div",null,"%"),r.createElement(j.c,{overlay:r.createElement("span",null,"Zoom in to oncoprint."),placement:"top"},r.createElement("div",{onClick:this.onZoomInClick},r.createElement("i",{className:"fa fa-search-plus"}))))}},{key:"getSortMenu",value:function(){return this.props.oncoprinterMode?this.getSortMenuOncoprinter():this.getSortMenuOncoprint()}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"oncoprint__controls"},r.createElement(i.ButtonGroup,null,r.createElement(o.Observer,null,this.getClinicalTracksMenu),r.createElement(o.Observer,null,this.getHeatmapMenu),r.createElement(o.Observer,null,this.getSortMenu),r.createElement(o.Observer,null,this.getMutationColorMenu),r.createElement(o.Observer,null,this.getViewMenu),r.createElement(o.Observer,null,this.getDownloadMenu),r.createElement(o.Observer,null,this.getHorzZoomControls),this.minimapButton,r.createElement(M,{show:this.showConfirmNgchmModal,onHide:function(){return e.showConfirmNgchmModal=!1},openNgchmWindow:this.props.handlers.onClickNGCHM})))}},{key:"heatmapProfileOptions",get:function(){if(this.props.state.heatmapProfilesPromise&&this.props.state.heatmapProfilesPromise.result){var e=this.filterHeatmapProfilesByGenericAssayType(this.props.state.heatmapProfilesPromise.result);return N.a.map(e,function(e){return{label:e.name,value:e.molecularProfileId,type:e.molecularAlterationType}})}return[]}},{key:"treatmentOptionsByValueMap",get:function(){return N.a.keyBy(this.props.treatmentSelectOptions,"id")}},{key:"selectedTreatments",get:function(){var e=this;return this._selectedTreatmentIds.map(function(t){return e.treatmentOptionsByValueMap[t]})}},{key:"selectedTreatmentsJS",get:function(){return Object(c.toJS)(this.selectedTreatments)}},{key:"textareaTreatmentEntries",get:function(){return N.a.map(this.selectedTreatments,function(e){return{value:e.id,label:e.id}})}},{key:"filteredTreatmentOptions",get:function(){if(this.treatmentFilter&&this.props.treatmentSelectOptions){var e=new RegExp(this.treatmentFilter,"i");return this.props.treatmentSelectOptions.filter(function(t){return e.test(t.label)||e.test(t.value)})}return this.props.treatmentSelectOptions}},{key:"addAllLabel",get:function(){return this.filteredTreatmentOptions?"Select all (".concat(this.filteredTreatmentOptions.length,")"):"Select all"}},{key:"driverAnnotationSection",get:function(){if(this.props.oncoprinterMode||!this.props.store)return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate"),r.createElement("div",{style:{marginLeft:10}},r.createElement(de.a,{state:this.props.state,handlers:Object.assign({onCustomDriverTierCheckboxClick:this.onCustomDriverTierCheckboxClick},this.props.handlers)})),r.createElement("h5",null,"Filter"),r.createElement("div",{style:{marginLeft:10}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideVUS",type:"checkbox",value:et,checked:this.props.state.hidePutativePassengers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Hide mutations and copy number alterations of unknown significance")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideGermline",type:"checkbox",value:tt,checked:this.props.state.hideGermlineMutations,onClick:this.onInputClick,disabled:!this.props.state.distinguishGermlineMutations})," ","Hide germline mutations"))));var e=this.props.store;return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate and Filter"),r.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:10}},"Please see the",r.createElement("button",{style:{marginLeft:5,marginRight:5,marginBottom:0,width:"auto",padding:"1px 5px 1px 5px"},className:"btn btn-primary",onClick:function(){e.resultsPageSettingsVisible=!e.resultsPageSettingsVisible}},r.createElement("i",{className:"fa fa-sliders"})),"menu."))}},{key:"showMinimap",get:function(){return this.props.state.showMinimap}},{key:"minimapButton",get:function(){return r.createElement("div",{className:"btn-group"},r.createElement(j.c,{overlay:r.createElement("span",null,"Toggle minimap panel.")},r.createElement(i.Button,{active:this.showMinimap,onClick:this.toggleShowMinimap},r.createElement("img",{src:n(927),alt:"icon",style:{width:15,height:15}}))))}}])&&xe(a.prototype,s),u&&xe(a,u),t}();Ie([c.observable],ut.prototype,"horzZoomSliderState",void 0),Ie([c.observable],ut.prototype,"heatmapGenesReady",void 0),Ie([c.observable],ut.prototype,"_selectedTreatmentIds",void 0),Ie([c.observable],ut.prototype,"treatmentFilter",void 0),Ie([c.observable],ut.prototype,"showConfirmNgchmModal",void 0),Ie([H.a,c.action],ut.prototype,"onChangeHeatmapGeneInput",null),Ie([H.a],ut.prototype,"onChangeTreatmentTextArea",null),Ie([H.a],ut.prototype,"onTreatmentRemoved",null),Ie([c.computed],ut.prototype,"heatmapProfileOptions",null),Ie([c.computed],ut.prototype,"treatmentOptionsByValueMap",null),Ie([H.a,c.action],ut.prototype,"onSelectTreatments",null),Ie([c.computed],ut.prototype,"selectedTreatments",null),Ie([c.computed],ut.prototype,"selectedTreatmentsJS",null),Ie([c.computed],ut.prototype,"textareaTreatmentEntries",null),Ie([c.computed],ut.prototype,"filteredTreatmentOptions",null),Ie([H.a,c.action],ut.prototype,"onInputChange",null),Ie([H.a],ut.prototype,"onAddAllTreatments",null),Ie([c.computed],ut.prototype,"addAllLabel",null),Ie([c.computed],ut.prototype,"driverAnnotationSection",null),Ie([c.computed],ut.prototype,"showMinimap",null),ut=Ie([o.observer],ut);t.a=ut},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(554),a=n(11),s=n(5),l=n(628),c=n(796),u=n.n(c),p=n(28),h=n.n(p);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S,w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e[e.TRACK_A=0]="TRACK_A",e[e.TRACK_B=1]="TRACK_B",e[e.NEITHER=2]="NEITHER",e[e.A_NOT_B=3]="A_NOT_B",e[e.B_NOT_A=4]="B_NOT_A",e[e.BOTH=5]="BOTH",e[e.LOG_ODDS_RATIO=6]="LOG_ODDS_RATIO",e[e.P_VALUE=7]="P_VALUE",e[e.Q_VALUE=8]="Q_VALUE",e[e.ASSOCIATION=9]="ASSOCIATION"}(S||(S={}));var C=function(e){function t(){return f(this,t),m(this,y(t).apply(this,arguments))}return g(t,i["b"]),t}(),_=function(e){function t(e){var n;return f(this,t),(n=m(this,y(t).call(this,e)))._columns={},n.generateColumns(),n}var n,i,a;return g(t,r["Component"]),n=t,(i=[{key:"generateColumns",value:function(){this._columns={},this._columns[S.TRACK_A]={name:"A",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackA))},tooltip:r.createElement("span",null,"A"),filter:function(e,t,n){return e.trackA.toUpperCase().includes(n)},sortBy:function(e){return e.trackA},download:function(e){return e.trackA}},this._columns[S.TRACK_B]={name:"B",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackB))},tooltip:r.createElement("span",null,"B"),filter:function(e,t,n){return e.trackB.toUpperCase().includes(n)},sortBy:function(e){return e.trackB},download:function(e){return e.trackB}},this._columns[S.NEITHER]={name:"Neither",render:function(e){return r.createElement("span",null,e.neitherCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in neither A nor B"),sortBy:function(e){return e.neitherCount},download:function(e){return e.neitherCount.toString()}},this._columns[S.A_NOT_B]={name:"A Not B",render:function(e){return r.createElement("span",null,e.aNotBCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in A but not in B"),sortBy:function(e){return e.aNotBCount},download:function(e){return e.aNotBCount.toString()}},this._columns[S.B_NOT_A]={name:"B Not A",render:function(e){return r.createElement("span",null,e.bNotACount)},tooltip:r.createElement("span",null,"Number of samples with alterations in B but not in A"),sortBy:function(e){return e.bNotACount},download:function(e){return e.bNotACount.toString()}},this._columns[S.BOTH]={name:"Both",render:function(e){return r.createElement("span",null,e.bothCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in both A and B"),sortBy:function(e){return e.bothCount},download:function(e){return e.bothCount.toString()}},this._columns[S.LOG_ODDS_RATIO]={name:"Log2 Odds Ratio",render:function(e){return r.createElement("span",null,Object(l.b)(e.logOddsRatio))},tooltip:r.createElement("span",{style:{display:"inline-block",maxWidth:300}},"Quantifies how strongly the presence or absence of alterations in A are associated with the presence or absence of alterations in B in the selected samples. OR = (Neither * Both) / (A Not B * B Not A)"),sortBy:function(e){return e.logOddsRatio},download:function(e){return Object(l.b)(e.logOddsRatio)}},this._columns[S.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",null,Object(l.c)(e.pValue))},tooltip:r.createElement("span",null,"Derived from one-sided Fisher Exact Test"),sortBy:function(e){return e.pValue},download:function(e){return Object(l.c)(e.pValue)}},this._columns[S.Q_VALUE]={name:"q-Value",render:function(e){return Object(l.d)(e.qValue)},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg FDR correction procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(l.c)(e.qValue)}},this._columns[S.ASSOCIATION]={name:"Tendency",render:function(e){return r.createElement("div",{className:h()(u.a.Tendency,(t={},n=u.a.Significant,o=e.qValue<.05,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},e.association);var t,n,o},tooltip:r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log2 ratio > 0"),r.createElement("td",null,": Tendency towards co-occurrence")),r.createElement("tr",null,r.createElement("td",null,"Log2 ratio <= 0"),r.createElement("td",null,": Tendency towards mutual exclusivity")),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association"))),filter:function(e,t,n){return e.association.toUpperCase().includes(n)},sortBy:function(e){return e.association},download:function(e){return e.association}}}},{key:"render",value:function(){var e=o.sortBy(this._columns,function(e){return e.order});return r.createElement(C,{columns:e,data:this.props.data,initialItemsPerPage:50,initialSortColumn:this.props.initialSortColumn,paginationProps:{itemsPerPageOptions:[50]}})}}])&&d(n.prototype,i),a&&d(n,a),t}();_.defaultProps={columns:[S.TRACK_A,S.TRACK_B,S.NEITHER,S.A_NOT_B,S.B_NOT_A,S.BOTH,S.LOG_ODDS_RATIO,S.P_VALUE,S.Q_VALUE,S.ASSOCIATION],initialSortColumn:"q-Value"},w([s.observable],_.prototype,"_columns",void 0);var k=_=w([a.observer],_),T=n(92),x=n(93),E=n(638),A=n(639);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=P(t).call(this,e))||"object"!==D(o)&&"function"!=typeof o?I(r):o).mutualExclusivityFilter=!0,n.coOccurenceFilter=!0,n.significantPairsFilter=!1,n.mutualExclusivityFilterChange=n.mutualExclusivityFilterChange.bind(I(n)),n.coOccurenceFilterChange=n.coOccurenceFilterChange.bind(I(n)),n.significantPairsFilterChange=n.significantPairsFilterChange.bind(I(n)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(i=[{key:"mutualExclusivityFilterChange",value:function(){this.mutualExclusivityFilter=!this.mutualExclusivityFilter}},{key:"coOccurenceFilterChange",value:function(){this.coOccurenceFilter=!this.coOccurenceFilter}},{key:"significantPairsFilterChange",value:function(){this.significantPairsFilter=!this.significantPairsFilter}},{key:"render",value:function(){return this.props.isSampleAlteredMap.isPending?r.createElement(x.a,{isLoading:!0}):this.props.isSampleAlteredMap.isComplete?this.notEnoughDataError?r.createElement("div",{className:"tabMessageContainer"},r.createElement("div",{className:"alert alert-info"},this.notEnoughDataError),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),this.props.store&&r.createElement(A.a,{store:this.props.store})):r.createElement("div",{"data-test":"mutualExclusivityTabDiv"},this.props.store&&r.createElement("div",{className:"tabMessageContainer"},r.createElement(E.a,{className:"mutex-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),r.createElement(A.a,{store:this.props.store})),Object(l.h)(this.data,o.size(this.isSampleAlteredFilteredMap)),r.createElement("div",{className:u.a.Checkboxes},r.createElement(T.Checkbox,{checked:this.mutualExclusivityFilter,onChange:this.mutualExclusivityFilterChange},"Mutual exclusivity"),r.createElement(T.Checkbox,{checked:this.coOccurenceFilter,onChange:this.coOccurenceFilterChange},"Co-occurrence"),r.createElement(T.Checkbox,{checked:this.significantPairsFilter,onChange:this.significantPairsFilterChange},"Significant only")),r.createElement(k,{data:this.filteredData})):null}},{key:"data",get:function(){return Object(l.e)(this.isSampleAlteredFilteredMap)}},{key:"filteredData",get:function(){return Object(l.f)(this.data,this.mutualExclusivityFilter,this.coOccurenceFilter,this.significantPairsFilter)}},{key:"isSampleAlteredFilteredMap",get:function(){return Object(l.g)(this.props.isSampleAlteredMap.result)}},{key:"filteredTrackOqls",get:function(){return o.difference(Object.keys(this.props.isSampleAlteredMap.result),Object.keys(this.isSampleAlteredFilteredMap))}},{key:"filteredTrackOqlsMessage",get:function(){return 1==this.filteredTrackOqls.length?"".concat(this.filteredTrackOqls[0]," is not profiled in any queried samples and therefore is excluded from this analysis."):this.filteredTrackOqls.length>1?"".concat(this.filteredTrackOqls.slice(0,-1).join(", ")," and ").concat(this.filteredTrackOqls.slice(-1)," are not profiled in any queried samples and therefore are excluded from this analysis."):""}},{key:"notEnoughDataError",get:function(){return o.size(this.props.isSampleAlteredMap.result)<2?"Mutual exclusivity analysis can only be performed when data from at least two genes is provided.":o.size(this.isSampleAlteredFilteredMap)<2?"Mutual exclusivity analysis can only be performed when at least two of the queried genes have been profiled in the queried samples.":null}}])&&O(n.prototype,i),a&&O(n,a),t}();L([s.observable],N.prototype,"mutualExclusivityFilter",void 0),L([s.observable],N.prototype,"coOccurenceFilter",void 0),L([s.observable],N.prototype,"significantPairsFilter",void 0),L([s.computed],N.prototype,"data",null),L([s.computed],N.prototype,"filteredData",null),L([s.computed],N.prototype,"isSampleAlteredFilteredMap",null),L([s.computed],N.prototype,"filteredTrackOqls",null),L([s.computed],N.prototype,"filteredTrackOqlsMessage",null),L([s.computed],N.prototype,"notEnoughDataError",null),N=L([a.observer],N);t.a=N},function(e,t,n){"use strict";var r=n(0),o=n(930),i=n(28),a=n.n(i),s=n(610),l=n.n(s),c=n(594),u=n(11),p=n(5),h=n(7),d=n.n(h),f=n(16),m=n(563),y=n(4),g=n(673),v=n(931),b=(n(936),n(161)),S=n(93);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?x(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},M=function(e){function t(){var e;return w(this,t),(e=k(this,T(t).apply(this,arguments))).studyMetadata=Object(y.W)({invoke:function(){return I(x(e),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.getTagsUsingGET({studyId:this.props.studyId}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){console.error("Error on getting study tags.",e)}}),e}return E(t,r["Component"]),_(t,[{key:"addHTMLDescription",value:function(e){return{__html:e}}},{key:"render",value:function(){var e="";if(this.props.isVirtualStudy)e=r.createElement("div",{dangerouslySetInnerHTML:this.addHTMLDescription(this.props.studyDescription)});else if(this.studyMetadata.isPending)e=r.createElement(S.a,{isLoading:!0});else if(this.studyMetadata.isComplete){var t=Object.keys(this.studyMetadata.result).length,n=r.createElement("div",{dangerouslySetInnerHTML:this.addHTMLDescription(this.props.studyDescription)});e=t>0?[n,r.createElement("br",null),r.createElement("div",{className:"studyTagsTooltip"}," ",r.createElement(v.JsonToTable,{json:this.studyMetadata.result}))]:n}else this.studyMetadata.isError&&(e="error");return e}}]),t}();P([p.observable],M.prototype,"studyMetadata",void 0),M=P([u.observer],M);var D=function(e){function t(){return w(this,t),k(this,T(t).apply(this,arguments))}return E(t,r["Component"]),_(t,[{key:"renderTooltip",value:function(){return r.createElement(y.c,{key:this.props.key,mouseEnterDelay:this.props.mouseEnterDelay,placement:this.props.placement,overlay:r.createElement(M,{studyDescription:this.props.studyDescription,studyId:this.props.studyId,isVirtualStudy:this.props.isVirtualStudy}),children:this.props.children})}},{key:"render",value:function(){return this.renderTooltip()}}]),t}(),L=D=P([u.observer],D);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}function B(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":U(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},W=Object.assign({},o,{Level:function(e){return o["Level".concat(e)]}}),K=function(e){function t(){var e;return j(this,t),(e=B(this,z(t).apply(this,arguments))).renderCancerType=function(t){var n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=e.logic.getDepth(t),c=e.view.getChildCancerTypes(t),u=e.view.getChildCancerStudies(t),p=e.logic.cancerTypeListView.getDescendantCancerStudies(t).map(function(e){return e.studyId});if(t!=e.rootCancerType){var h=a()(W.CancerType,W.Level(s),e.logic.isHighlighted(t)&&W.highlighted);3===s&&(o=r.createElement(l.a,{className:W.indentArrow,name:"long-arrow-right"})),n=r.createElement("li",{className:h},r.createElement($,{view:e.view,node:t},o,r.createElement("span",{className:W.CancerTypeName},t.name),!e.store.forDownloadTab&&r.createElement("span",{className:W.SelectAll},d.a.intersection(p,e.store.selectableSelectedStudyIds).length?"Deselect All":"Select All")))}var f=a()(W.StudyList,W.Level(s));return r.createElement("ul",{key:i,className:f},n,u.map(e.renderCancerStudy),c.map(e.renderCancerType))},e.renderCancerStudy=function(t,n){var o=a()(W.Study,e.logic.isHighlighted(t)&&W.highlighted),i=t.studyId in e.store.getOverlappingStudiesMap,s=i?r.createElement(y.c,{mouseEnterDelay:0,placement:"top",overlay:r.createElement("div",null,"This study has overlapping data with another selected study.")},r.createElement("i",{className:"fa fa-exclamation-triangle"})):null;return r.createElement("li",{key:n,className:o,"data-test":e.store.isVirtualStudy(t.studyId)?"VirtualStudySelect":"StudySelect"},r.createElement(u.Observer,null,function(){var n,o=a()((R(n={},W.StudyName,!0),R(n,"overlappingStudy",i),R(n,W.DeletedStudy,e.store.isDeletedVirtualStudy(t.studyId)),n));return r.createElement($,{view:e.view,node:t},r.createElement("span",{className:o},t.name,s))}),r.createElement(u.Observer,null,function(){return r.createElement("div",{className:W.StudyMeta},!e.store.isDeletedVirtualStudy(t.studyId)&&e.renderSamples(t),e.renderStudyLinks(t))}))},e.renderSamples=function(e){return r.createElement("span",{className:W.StudySamples},"".concat(e.allSampleCount," samples"))},e.renderStudyLinks=function(t){if(e.store.isDeletedVirtualStudy(t.studyId))return r.createElement(y.c,{mouseEnterDelay:0,placement:"top",overlay:r.createElement("div",{className:W.tooltip},"Restore study"),children:r.createElement("button",{className:"btn btn-default btn-xs",onClick:function(){return e.store.restoreVirtualStudy(t.studyId)},style:{lineHeight:"80%"},"data-test":"virtualStudyRestore"},"Restore")});var n=[{icon:"info-circle",tooltip:""}];return e.store.isVirtualStudy(t.studyId)?n.push({icon:"trash",tooltip:"Delete this virtual study.",onClick:function(){return e.store.deleteVirtualStudy(t.studyId)}}):n.push({icon:"book",onClick:t.pmid&&Object(f.v)(t.pmid),tooltip:t.pmid&&"PubMed"}),r.createElement("span",{className:W.StudyLinks},n.map(function(n,o){var i,s=r.createElement(l.a,{key:o,name:n.icon,className:a()((i={},R(i,W.icon,!0),R(i,W.iconWithTooltip,!!n.tooltip),R(i,W.trashIcon,"trash"===n.icon),R(i,W.infoCircleIcon,"info-circle"===n.icon),i))});if(n.onClick){var c={key:o};"string"==typeof n.onClick?(c.href=n.onClick,c.target="_blank"):c.onClick=n.onClick,s=r.createElement("a",c,s)}if(n.tooltip){var u=r.createElement("div",{className:W.tooltip,dangerouslySetInnerHTML:{__html:n.tooltip}});s=r.createElement(y.c,{key:o,mouseEnterDelay:0,placement:"top",overlay:u,children:s})}return"info-circle"===n.icon&&(s=r.createElement(L,{key:o,studyDescription:e.store.isVirtualStudy(t.studyId)?t.description.replace(/\r?\n/g,"<br />"):t.description,studyId:t.studyId,isVirtualStudy:e.store.isVirtualStudy(t.studyId),mouseEnterDelay:0,placement:"top"},r.createElement("a",null,s))),s}),t.studyId&&r.createElement(y.c,{mouseEnterDelay:0,placement:"top",overlay:r.createElement("div",{className:W.tooltip},"View clinical and genomic data of this study")},r.createElement("span",null,r.createElement(g.a,{studyId:t.studyId,className:a()(W.summaryIcon,"ci ci-pie-chart")}))))},e}return V(t,m["d"]),G(t,[{key:"componentDidMount",value:function(){this.props.showSelectedStudiesOnly&&(this._view=this.view)}},{key:"render",value:function(){var e=this,t=this.renderCancerType(this.rootCancerType);return this.props.showSelectedStudiesOnly?r.createElement("div",{className:W.SelectedStudyList},r.createElement("span",{className:W.deselectAll,onClick:function(){e.view.onCheck(e.store.treeData.rootCancerType,!1),e.store.showSelectedStudiesOnly=!1}},"Deselect all"),t):t}},{key:"view",get:function(){return this._view||(this.props.showSelectedStudiesOnly?this.logic.selectedStudiesView:this.logic.mainView)}},{key:"logic",get:function(){return this.store.studyListLogic}},{key:"rootCancerType",get:function(){return this.store.treeData.rootCancerType}}]),t}();K=q([u.observer],K);t.a=K;var $=function(e){function t(){return j(this,t),B(this,z(t).apply(this,arguments))}return V(t,m["d"]),G(t,[{key:"render",value:function(){var e=this;return r.createElement(c.a,N({},this.checkboxProps,{onChange:function(t){e.props.view.onCheck(e.props.node,t.target.checked)}}),this.props.children)}},{key:"checkboxProps",get:function(){return this.props.view.getCheckboxProps(this.props.node)}}]),t}();q([p.computed.struct],$.prototype,"checkboxProps",null),$=q([u.observer],$)},,,,,,,,,,,,,,function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1Fjw6",framedImage:"styles-module__framedImage__3hqyk","tables-container":"styles-module__tables-container__1wDsF",downloadCopyTable:"styles-module__downloadCopyTable__1jMBv",noAlterationSpan:"styles-module__noAlterationSpan__1jy3D",notProfiledSpan:"styles-module__notProfiledSpan__2eZFJ",alterationSpan:"styles-module__alterationSpan__1oylB",tooltip:"styles-module__tooltip__2f1I5",infoIcon:"styles-module__infoIcon__2ZQ2T"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(5),a=n(11),s=n(582),l=n(1131),c=n(93),u=(n(1132),n(548)),p=n(586);function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t,n,r,i){return o.mapValues(e,function(e,a){var s={mutated:0,amp:0,homdel:0,hetloss:0,gain:0,fusion:0,mrnaExpressionHigh:0,mrnaExpressionLow:0,protExpressionHigh:0,protExpressionLow:0,multiple:0},l={mutation:0,cna:0,expression:0,protein:0},c={mutation:0,cna:0,expression:0,protein:0},h={profiledSampleTotal:0,alterationTotal:0,alterationTypeCounts:s,alteredSampleCount:0,parentCancerType:e[0].cancerType,profiledSamplesCounts:l,notProfiledSamplesCounts:c};return o.forEach(e,function(e){var a=!1;if(o.forEach(n,function(t,n){var s=o.some(Object(p.b)(e.uniqueSampleKey,o.map(t,function(e){return e.molecularProfileId}),r,i));switch(a=a||s,n){case u.a.COPY_NUMBER_ALTERATION:s?l.cna++:c.cna++;break;case u.a.MRNA_EXPRESSION:s?l.expression++:c.expression++;break;case u.a.PROTEIN_LEVEL:s?l.protein++:c.protein++;break;case u.a.MUTATION_EXTENDED:s?l.mutation++:c.mutation++}}),a&&(h.profiledSampleTotal+=1),e.uniqueSampleKey in t){var d=t[e.uniqueSampleKey],f=o.uniqBy(d,function(e){return e.alterationType});h.alterationTotal+=f.length,f.length>0&&(h.alteredSampleCount+=1),f.length>1?s.multiple++:o.forEach(f,function(e){switch(e.alterationType){case u.a.COPY_NUMBER_ALTERATION:s[e.alterationSubType]++;break;case u.a.MRNA_EXPRESSION:"high"===e.alterationSubType&&s.mrnaExpressionHigh++,"low"===e.alterationSubType&&s.mrnaExpressionLow++;break;case u.a.PROTEIN_LEVEL:"high"===e.alterationSubType&&s.protExpressionHigh++,"low"===e.alterationSubType&&s.protExpressionLow++;break;case u.a.MUTATION_EXTENDED:s.mutated++;break;case u.a.FUSION:s.fusion++}})}}),h})}var f=n(638),m=n(596),y=n(639);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return k});var _=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},k="all",T=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=b(t).call(this,e))||"object"!==C(o)&&"function"!=typeof o?S(r):o).activeTab=k,n.resultsViewPageWidth=1150,n.handleTabClick=n.handleTabClick.bind(S(n)),n.pivotData=n.pivotData.bind(S(n)),n.mapStudyIdToShortName=n.mapStudyIdToShortName.bind(S(n)),n}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r["Component"]),n=t,(i=[{key:"handleTabClick",value:function(e){this.activeTab=e}},{key:"pivotData",value:function(e){this.groupAlterationsBy_userSelection=e}},{key:"mapStudyIdToShortName",value:function(e){return e in this.props.store.physicalStudySet?this.props.store.physicalStudySet[e].shortName:e}},{key:"render",value:function(){var e=this;switch(Object(m.a)(this.props.store.samplesExtendedWithClinicalData,this.props.store.oqlFilteredAlterationsByGeneBySampleKey,this.props.store.studies,this.props.store.sequencedSampleKeysByGene,this.props.store.selectedMolecularProfileIdsByAlterationType,this.props.store.coverageInformation)){case"pending":return r.createElement(c.a,{isLoading:!0,center:!0,size:"big"});case"error":return null;case"complete":return r.createElement("div",{ref:function(t){return e.resultsViewPageContent=t},"data-test":"cancerTypeSummaryWrapper"},r.createElement("div",{className:"tabMessageContainer"},r.createElement(f.a,{className:"cancer-types-summary-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),r.createElement(y.a,{store:this.props.store})),r.createElement(s.b,{onTabClick:this.handleTabClick,enablePagination:!1,unmountOnHide:!0,arrowStyle:{"line-height":.8},tabButtonStyle:"pills",activeTabId:this.activeTab,className:"pillTabs"},this.tabs))}}},{key:"defaultTabId",get:function(){return k}},{key:"groupAlterationsBy",get:function(){return void 0===this.groupAlterationsBy_userSelection?this.props.store.studies.result.length>1?"studyId":1===o.chain(this.props.store.samplesExtendedWithClinicalData.result).map(function(e){return e.cancerType}).uniq().value().length?"cancerTypeDetailed":"cancerType":this.groupAlterationsBy_userSelection}},{key:"tabs",get:function(){var e,t,n,i,a,c=this,u="studyId"===this.groupAlterationsBy?this.mapStudyIdToShortName:void 0,p=(e=this.props.store.oqlFilteredAlterationsByGeneBySampleKey.result,t=this.props.store.samplesExtendedWithClinicalData.result,n=this.groupAlterationsBy,i=this.props.store.selectedMolecularProfileIdsByAlterationType.result,a=this.props.store.coverageInformation.result,o.mapValues(e,function(e,r){return d(o.groupBy(t,function(e){return e[n]}),e,i,a,r)})),f=o.map(this.props.store.genes.result,function(e){var t=p[e.hugoGeneSymbol],n=0===o.reduce(t,function(e,t){return e+t.alterationTotal},0)?{color:"#bbb"}:void 0;return r.createElement(s.a,g({key:e.hugoGeneSymbol,id:"summaryTab"+e.hugoGeneSymbol,linkText:e.hugoGeneSymbol},{anchorStyle:n}),r.createElement(l.a,{groupedAlterationData:p[e.hugoGeneSymbol],groupAlterationsBy:c.groupAlterationsBy,gene:e.hugoGeneSymbol,labelTransformer:u,handlePivotChange:c.pivotData,width:c.resultsViewPageWidth}))});if(f.length>1){var m=function(e,t,n,r,i){var a=o.groupBy(t,function(e){return e[n]}),s=o.flatMap(e,function(e){return e});return d(a,o.mergeWith.apply(o,[{}].concat(h(s),[function(e,t){if(o.isArray(e))return e.concat(t)}])),r,i)}(this.props.store.oqlFilteredAlterationsByGeneBySampleKey.result,this.props.store.samplesExtendedWithClinicalData.result,this.groupAlterationsBy,this.props.store.selectedMolecularProfileIdsByAlterationType.result,this.props.store.coverageInformation.result);f.unshift(r.createElement(s.a,{key:k,id:"allGenes",linkText:"All Queried Genes"},r.createElement(l.a,{gene:k,width:this.resultsViewPageWidth,groupedAlterationData:m,handlePivotChange:this.pivotData,labelTransformer:u,groupAlterationsBy:this.groupAlterationsBy})))}return f}}])&&v(n.prototype,i),a&&v(n,a),t}();_([i.observable],T.prototype,"activeTab",void 0),_([i.observable],T.prototype,"resultsViewPageWidth",void 0),_([i.observable],T.prototype,"groupAlterationsBy_userSelection",void 0),_([i.computed],T.prototype,"tabs",null),T=_([a.observer],T);t.b=T},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return E});var r=n(0),o=n(7),i=n(92),a=n(5),s=n(11),l=n(601),c=n.n(l),u=n(20),p=n(28),h=n.n(p),d=(n(733),n(732),n(1342)),f=n(842);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},C={multiple:"Multiple Alterations",protExpressionLow:"Protein Low",protExpressionHigh:"Protein High",mrnaExpressionLow:"mRNA Low",mrnaExpressionHigh:"mRNA High",hetloss:"Shallow Deletion",homdel:"Deep Deletion",gain:"Gain",amp:"Amplification",fusion:"Fusion",mutated:"Mutation"},_={protein:"Protein data",expression:"mRNA data",cna:"CNA data",mutation:"Mutation data"},k={mutated:"#008000",amp:"#ff0000",homdel:"#0000ff",hetloss:"#8fd8d8",gain:"rgb(255,182,193)",fusion:"#8B00C9",mrnaExpressionHigh:"#FF989A",mrnaExpressionLow:"#529AC8",protExpressionHigh:"#FF989A",protExpressionLow:"#E0FFFF",multiple:"#666"},T=[{value:"studyId",label:"Cancer Study"},{value:"cancerType",label:"Cancer Type"},{value:"cancerTypeDetailed",label:"Cancer Type Detailed"}];function x(e,t){return e/t*100}var E=function(t){function n(e){var t,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(o=g(n).call(this,e))||"object"!==S(o)&&"function"!=typeof o?v(r):o).totalCasesMinDefaultValue=10,t.tempAltCasesInputValue=0,t.tempTotalCasesInputValue=t.totalCasesMin,t.pngAnchor="",t.pdf={anchor:"",width:0,height:0},t.showControls=!0,t.hideGenomicAlterations=!1,t.yAxis="alt-freq",t.xAxis="y-axis",t.altCasesValue=0,t.totalCasesValue=t.totalCasesMin,t.tempTotalCasesValue=t.totalCasesMin,t.tempAltCasesValue=0,t.viewCountsByCancerSubType=!1,t.handleYAxisChange=t.handleYAxisChange.bind(v(t)),t.handleXAxisChange=t.handleXAxisChange.bind(v(t)),t.handleGenomicCheckboxChange=t.handleGenomicCheckboxChange.bind(v(t)),t.handleCancerTypeCheckboxChange=t.handleCancerTypeCheckboxChange.bind(v(t)),t.handleAltSliderChange=t.handleAltSliderChange.bind(v(t)),t.handleTotalSliderChange=t.handleTotalSliderChange.bind(v(t)),t.handleAltSliderChangeComplete=t.handleAltSliderChangeComplete.bind(v(t)),t.handleTotalSliderChangeComplete=t.handleTotalSliderChangeComplete.bind(v(t)),t.handleAltInputChange=t.handleAltInputChange.bind(v(t)),t.handleAltInputKeyPress=t.handleAltInputKeyPress.bind(v(t)),t.handleTotalInputChange=t.handleTotalInputChange.bind(v(t)),t.handleTotalInputKeyPress=t.handleTotalInputKeyPress.bind(v(t)),t.setPngAnchor=t.setPngAnchor.bind(v(t)),t}var a,s,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,r["Component"]),a=n,(s=[{key:"componentDidMount",value:function(){this.initializeSliderValue()}},{key:"getYValue",value:function(e,t){return"abs-count"===this.yAxis?e:e/t*100}},{key:"determineSorterAndDirection",value:function(){var e,t,n=this;return"x-axis"===this.xAxis?(e=function(e){return e},t="asc"):(e="abs-count"===this.yAxis?function(e){return n.countsData[e].alteredSampleCount}:function(e){var t=n.countsData[e];return t.alteredSampleCount/t.profiledSampleTotal},t="desc"),{sorter:e,dir:t}}},{key:"transformLabel",value:function(e){return this.props.labelTransformer?this.props.labelTransformer(e):e}},{key:"handleYAxisChange",value:function(e){this.yAxis=e.target.value,this.altCasesValue=0,this.handleAltSliderChange(0)}},{key:"handleXAxisChange",value:function(e){this.xAxis=e.target.value}},{key:"handleCancerTypeCheckboxChange",value:function(){this.viewCountsByCancerSubType=!1===this.viewCountsByCancerSubType}},{key:"handleGenomicCheckboxChange",value:function(){this.hideGenomicAlterations=!this.hideGenomicAlterations}},{key:"handleAltSliderChange",value:function(e){this.tempAltCasesValue=e,this.tempAltCasesInputValue=e}},{key:"handleTotalSliderChange",value:function(e){this.tempTotalCasesValue=e,this.tempTotalCasesInputValue=e}},{key:"handleAltInputKeyPress",value:function(e){if(13===e.charCode){if(isNaN(this.tempAltCasesInputValue))return void(this.tempAltCasesInputValue=0);this.tempAltCasesInputValue=Number(this.tempAltCasesInputValue),this.tempAltCasesValue=this.tempAltCasesInputValue,this.handleAltSliderChangeComplete()}}},{key:"handleTotalInputKeyPress",value:function(e){13===e.charCode&&(isNaN(this.tempTotalCasesInputValue)?this.tempTotalCasesInputValue=this.totalCasesMin:this.tempTotalCasesInputValue>this.totalCasesMax?(this.tempTotalCasesInputValue=this.totalCasesMax,this.tempTotalCasesValue=this.totalCasesMax):(this.tempTotalCasesInputValue=Number(this.tempTotalCasesInputValue),this.tempTotalCasesValue=this.tempTotalCasesInputValue),this.handleTotalSliderChangeComplete())}},{key:"handleAltInputChange",value:function(e){this.tempAltCasesInputValue=e.target.value.replace(/[^0-9\.]/g,"")}},{key:"handleTotalInputChange",value:function(e){this.tempTotalCasesInputValue=e.target.value.replace(/[^0-9\.]/g,"")}},{key:"handleAltSliderChangeComplete",value:function(){this.altCasesValue=this.tempAltCasesValue}},{key:"handleTotalSliderChangeComplete",value:function(){this.totalCasesValue=this.tempTotalCasesValue}},{key:"initializeSliderValue",value:function(){this.tempAltCasesValue=0,this.tempAltCasesInputValue=0,this.altCasesValue=0,this.tempTotalCasesValue=this.totalCasesMin,this.tempTotalCasesInputValue=this.totalCasesMin,this.totalCasesValue=this.totalCasesMin}},{key:"setPngAnchor",value:function(e){this.pngAnchor=e}},{key:"render",value:function(){var t=this;return r.createElement(f.a,{offset:60},r.createElement(u.If,{condition:this.hasAlterations},r.createElement(u.Then,null,r.createElement("div",{"data-test":"cancerTypesSummaryDiv"},r.createElement("div",{className:"cancer-summary--main-options"},r.createElement(i.ButtonGroup,null,T.map(function(n,o){return r.createElement(i.Radio,{checked:n.value===t.props.groupAlterationsBy,onChange:function(n){t.initializeSliderValue(),t.props.handlePivotChange(e(n.target).attr("data-value"))},inline:!0,"data-value":n.value},n.label)}))),r.createElement("div",{className:h()("inlineBlock",{hidden:!this.showControls},"cancer-summary-secondary-options")},this.controls),r.createElement("div",{className:h()("alert","alert-success",{hidden:!this.totalCaseChanged&&!this.altCaseChanged})},r.createElement("span",{style:{verticalAlign:"middle"}},"".concat(this.chartData.labels.length," of ").concat(this.groupKeysSorted.length," categories (").concat(o.keyBy(T,"value")[this.props.groupAlterationsBy].label,") are shown based on filtering."))),r.createElement(d.a,{gene:this.props.gene,key:Date.now(),data:this.chartData.data,alterationTypeDataCounts:this.chartData.alterationTypeDataCounts,ref:function(e){return t.chartComponent=e},countsByGroup:this.countsData,representedAlterations:this.chartData.representedAlterations,alterationTypes:C,isPercentage:"alt-freq"===this.yAxis,showLinks:this.showStudyTooltipLinks,colors:k,hideGenomicAlterations:this.hideGenomicAlterations,xLabels:this.chartData.labels}))),r.createElement(u.Else,null,r.createElement("div",{className:"alert alert-info"},"There are no alterations in this gene."))))}},{key:"countsData",get:function(){return this.props.groupedAlterationData}},{key:"groupKeysSorted",get:function(){var e=this.determineSorterAndDirection(),t=e.dir,n=e.sorter;return o.chain(this.countsData).keys().orderBy(n,[t]).value()}},{key:"alterationTypeDataCounts",get:function(){var e=this,t=[];return o.forEach(this.groupKeysSorted,function(n){var r,i=e.countsData[n],a=o.chain(i.profiledSamplesCounts).values().sum().value(),s=x(i.alteredSampleCount,i.profiledSampleTotal);r="abs-count"===e.yAxis?i.alteredSampleCount>=e.tempAltCasesValue:s>=e.tempAltCasesValue;var l=i.profiledSampleTotal>=e.totalCasesValue;a>0&&r&&l&&o.forEach(o.keys(_),function(r){var o=i.profiledSamplesCounts[r],a=i.notProfiledSamplesCounts[r];o+a>0&&t.push({x:e.props.labelTransformer?e.props.labelTransformer(n):n,y:_[r],profiledCount:o,notProfiledCount:a})})}),t}},{key:"chartData",get:function(){var e=this,t={},n=0,r=0,i=0,a=[],s=o.map(C,function(s,l){return o.reduce(e.groupKeysSorted,function(s,c){var u,p=e.countsData[c],h=o.chain(p.profiledSamplesCounts).values().sum().value(),d=x(p.alteredSampleCount,p.profiledSampleTotal);u="abs-count"===e.yAxis?p.alteredSampleCount>=e.tempAltCasesValue:d>=e.tempAltCasesValue;var f=p.profiledSampleTotal>=e.totalCasesValue;if(h>0&&u&&f){var m=e.props.labelTransformer?e.props.labelTransformer(c):c;a.push(m),n=d>n?d:n,r=p.alteredSampleCount>r?p.alteredSampleCount:r,i=p.profiledSampleTotal>i?p.profiledSampleTotal:i;var y=p.alterationTypeCounts[l];y>0&&(t[l]=!0),s.push({alterationType:l,x:m,xKey:c,y:e.getYValue(y,p.profiledSampleTotal)})}return s},[])});return{labels:o.uniq(a),data:s,alterationTypeDataCounts:this.alterationTypeDataCounts,representedAlterations:t,maxPercentage:n,maxAbsoluteCount:r,maxSampleCount:i}}},{key:"altCasesMax",get:function(){return"abs-count"===this.yAxis?this.chartData.maxAbsoluteCount:this.chartData.maxPercentage}},{key:"totalCasesMax",get:function(){return this.chartData.maxSampleCount}},{key:"totalCasesMin",get:function(){return this.totalCasesMax>10?this.totalCasesMinDefaultValue:0}},{key:"hasAlterations",get:function(){return o.reduce(this.countsData,function(e,t){return e+t.alterationTotal},0)>0}},{key:"totalCaseChanged",get:function(){return this.totalCasesValue>0}},{key:"altCaseChanged",get:function(){return this.altCasesValue>0}},{key:"showStudyTooltipLinks",get:function(){return"studyId"===this.props.groupAlterationsBy&&this.chartData.labels.length>1}},{key:"controls",get:function(){var e=this,t="alt-freq"===this.yAxis?"%":"";return r.createElement("div",{className:"cancer-summary--form-controls"},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,r.createElement(i.ControlLabel,null,"Y-Axis Value:")),r.createElement("td",{className:"dashed-border-right"},r.createElement(i.FormControl,{componentClass:"select","data-test":"cancerSummaryYAxisSelect",onChange:this.handleYAxisChange,ref:function(t){return e.inputYAxisEl=t}},r.createElement("option",{value:"alt-freq"},"Alteration Frequency"),r.createElement("option",{value:"abs-count"},"Absolute Counts"))),r.createElement("td",null,r.createElement(i.ControlLabel,null,"Min. # Total Cases:")),r.createElement("td",null,r.createElement("div",{className:"slider-holder"},r.createElement("div",{className:"slider custom-labels"},r.createElement(c.a,{min:0,max:this.totalCasesMax,value:this.tempTotalCasesValue,labels:m({0:0},this.totalCasesMax,this.totalCasesMax),onChange:this.handleTotalSliderChange,onChangeComplete:this.handleTotalSliderChangeComplete})))),r.createElement("td",{className:h()(this.totalCaseChanged?"highlightInput":"","dashed-border-right","slider-input")},r.createElement(i.FormControl,{type:"text",value:this.tempTotalCasesInputValue,"data-test":"sampleTotalThresholdInput",onChange:this.handleTotalInputChange,onKeyPress:this.handleTotalInputKeyPress})),r.createElement("td",null,r.createElement(i.Checkbox,{checked:!this.hideGenomicAlterations,onChange:this.handleGenomicCheckboxChange},"Show Genomic Alteration Types"))),r.createElement("tr",null,r.createElement("td",null,r.createElement(i.ControlLabel,null,"Sort X-Axis By:")),r.createElement("td",{className:"dashed-border-right"},r.createElement(i.FormControl,{componentClass:"select","data-test":"cancerSummaryXAxisSelect",onChange:this.handleXAxisChange,ref:function(t){return e.inputXAxisEl=t}},r.createElement("option",{value:"y-axis"},"Y-Axis Values"),r.createElement("option",{value:"x-axis"},"Alphabetically"))),r.createElement("td",null,r.createElement(i.ControlLabel,null,"Min. ".concat("alt-freq"===this.yAxis?"%":"#"," Altered Cases:"))),r.createElement("td",null,r.createElement("div",{className:"slider-holder"},r.createElement("div",{className:"slider custom-labels"},r.createElement(c.a,{min:0,max:this.altCasesMax,value:this.tempAltCasesValue,labels:m({0:0+t},this.altCasesMax,Math.ceil(this.altCasesMax)+t),format:function(e){return e+t},onChange:this.handleAltSliderChange,onChangeComplete:this.handleAltSliderChangeComplete})))),r.createElement("td",{className:h()(this.altCaseChanged?"highlightInput":"","dashed-border-right","slider-input")},r.createElement(i.FormControl,{type:"text",value:this.tempAltCasesInputValue+t,onChange:this.handleAltInputChange,"data-test":"alterationThresholdInput",onKeyPress:this.handleAltInputKeyPress})))))}}])&&y(a.prototype,s),l&&y(a,l),n}();w([a.observable],E.prototype,"tempAltCasesInputValue",void 0),w([a.observable],E.prototype,"tempTotalCasesInputValue",void 0),w([a.observable],E.prototype,"pngAnchor",void 0),w([a.observable],E.prototype,"pdf",void 0),w([a.observable],E.prototype,"showControls",void 0),w([a.observable],E.prototype,"hideGenomicAlterations",void 0),w([a.observable],E.prototype,"yAxis",void 0),w([a.observable],E.prototype,"xAxis",void 0),w([a.observable],E.prototype,"altCasesValue",void 0),w([a.observable],E.prototype,"totalCasesValue",void 0),w([a.observable],E.prototype,"tempTotalCasesValue",void 0),w([a.observable],E.prototype,"tempAltCasesValue",void 0),w([a.observable],E.prototype,"viewCountsByCancerSubType",void 0),w([a.computed],E.prototype,"alterationTypeDataCounts",null),w([a.computed],E.prototype,"chartData",null),w([a.computed],E.prototype,"altCasesMax",null),w([a.computed],E.prototype,"totalCasesMax",null),w([a.computed],E.prototype,"totalCasesMin",null),w([a.computed],E.prototype,"hasAlterations",null),w([a.computed],E.prototype,"totalCaseChanged",null),w([a.computed],E.prototype,"altCaseChanged",null),w([a.computed],E.prototype,"showStudyTooltipLinks",null),w([a.action],E.prototype,"handleTotalInputKeyPress",null),w([a.action],E.prototype,"initializeSliderValue",null),w([a.computed],E.prototype,"controls",null),E=w([s.observer],E)}).call(this,n(9))},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(0),o=n(11),i=n(28),a=n.n(i),s=(n(1162),n(4)),l=n(93),c=n(5),u=n(858),p=n(25),h=n(1163),d=n(3),f=n(673),m=n(852),y=n(558),g=n(59),v=n(16),b=n(1341),S=n(853),w=n(7),C=n.n(w);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},O=function(t){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=k(this,T(n).apply(this,arguments))).singleStudyUI=Object(y.a)({await:function(){return[e.props.store.queriedStudies,e.props.store.sampleLists,e.props.store.samples,e.props.store.patients]},render:function(){var t=e.props.store.sampleLists.result.length>0?r.createElement("span",null,e.props.store.sampleLists.result[0].name):r.createElement("span",null,"User-defined Patient List");return r.createElement("div",null,r.createElement("h3",null,r.createElement("a",{href:Object(v.b)("study",{id:e.props.store.queriedStudies.result.map(function(e){return e.studyId}).join(",")}),target:"_blank"},e.props.store.queriedStudies.result[0].name)),t,"(",e.studyPageFilteredCasesLink,") -",Object(m.b)(e.props.store.hugoGeneSymbols),"",r.createElement(s.c,{overlay:"Edit genes or OQL"},r.createElement("a",{onClick:e.props.onToggleOQLEditUIVisibility},r.createElement("i",{className:"fa fa-pencil"}))))}}),e.multipleStudyUI=Object(y.a)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.queriedStudies,e.props.store.sampleLists]},render:function(){return r.createElement("div",null,r.createElement("h3",null,r.createElement("a",{href:Object(v.b)("study",{id:e.props.store.queriedStudies.result.map(function(e){return e.studyId}).join(",")}),target:"_blank"},"Combined Study (",C.a.sumBy(e.props.store.queriedStudies.result,function(e){return e.allSampleCount})," ","samples)")),r.createElement("span",null,"Querying ",e.studyPageFilteredCasesLink," in"," ",e.props.store.queriedStudies.result.length," studies -",Object(m.b)(e.props.store.hugoGeneSymbols),"",r.createElement(s.c,{placement:"bottom",overlay:e.studyList,destroyTooltipOnHide:!0},r.createElement("i",{className:"fa fa-info-circle"}))))}}),e.cohortAndGeneSummary=Object(y.a)({await:function(){return[e.singleStudyUI,e.multipleStudyUI,e.props.store.queriedStudies]},render:function(){return 1===e.props.store.queriedStudies.result.length?e.singleStudyUI.component:e.multipleStudyUI.component}}),e.alterationSummary=Object(y.a)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.alteredSampleKeys,e.props.store.alteredPatientKeys]},render:function(){return Object(m.a)(e.props.store.samples.result.length,e.props.store.patients.result.length,e.props.store.alteredSampleKeys.result.length,e.props.store.alteredPatientKeys.result.length,e.props.store.hugoGeneSymbols.length)}}),e}var o,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,r["Component"]),o=n,(i=[{key:"toggleQueryFormVisibility",value:function(){this.props.onToggleQueryFormVisibility(this.props.store.queryFormVisible),this.props.store.modifyQueryParams&&!0===this.props.store.queryFormVisible&&(this.props.store.modifyQueryParams=void 0),this.props.store.queryFormVisible=!this.props.store.queryFormVisible}},{key:"closeQueryForm",value:function(){!0===this.props.store.queryFormVisible&&(this.toggleQueryFormVisibility(),e(document).scrollTop(0))}},{key:"onSubmit",value:function(){this.closeQueryForm(),Object(g.b)()("send","event","resultsView","query modified")}},{key:"render",value:function(){var e=this;if(this.cohortAndGeneSummary.isError||this.alterationSummary.isError)return this.isQueryOrGeneInvalid?this.queryForm:null;var t=this.cohortAndGeneSummary.isComplete&&this.alterationSummary.isComplete;return r.createElement("div",null,r.createElement("div",{className:"query-summary"},r.createElement("div",{className:"query-summary__leftItems"},!this.isQueryOrGeneInvalid&&r.createElement("div",null,r.createElement("button",{id:"modifyQueryBtn",onClick:this.toggleQueryFormVisibility,className:a()("btn btn-primary",{disabled:!t})},this.queryFormVisible?"Cancel Modify Query":"Modify Query"),r.createElement(s.c,{trigger:["click"],placement:"bottomRight",overlay:r.createElement(b.a,{store:this.props.store}),visible:this.props.store.resultsPageSettingsVisible,onVisibleChange:function(t){e.props.store.resultsPageSettingsVisible=!!t},onPopupAlign:function(e){return Object(s.Z)(e,"22px")}},r.createElement("button",{"data-test":"GlobalSettingsButton",style:{marginLeft:5},className:"btn btn-primary"},r.createElement("i",{className:"fa fa-sliders fa-lg"})))),r.createElement(l.a,{isLoading:!t,small:!0}),t&&this.cohortAndGeneSummary.component),r.createElement("div",{className:"query-summary__rightItems"},r.createElement("div",{className:"query-summary__alterationData"},t&&r.createElement("strong",null,this.alterationSummary.component)),r.createElement(h.a,{sessionEnabled:d.a.sessionServiceIsEnabled(),bitlyAccessToken:d.b.serverConfig.bitly_access_token,urlWrapper:this.props.store.urlWrapper}))),this.queryFormVisible&&this.queryForm)}},{key:"queryFormVisible",get:function(){return this.props.store.queryFormVisible||this.isQueryOrGeneInvalid}},{key:"studyPageFilteredCasesLink",get:function(){var e=this;return r.createElement("a",{onClick:function(){Object(m.d)(e.props.store.queriedStudies.result,e.props.store.samples.result,e.props.store.queriedVirtualStudies.result.length>0,e.props.store.sampleLists.result)}},Object(m.c)(this.props.store.samples.result,this.props.store.patients.result))}},{key:"studyList",get:function(){return r.createElement("div",{className:"cbioportal-frontend"},r.createElement("ul",{className:"list-unstyled",style:{marginBottom:0}},this.props.store.queriedStudies.result.map(function(e){return r.createElement("li",null,r.createElement(f.a,{studyId:e.studyId},e.name))})))}},{key:"queryForm",get:function(){var e=this;return r.createElement("div",{style:{margin:"10px -20px 0 -20px"}},r.createElement(u.a,{onSubmit:this.onSubmit,forkedMode:!1,showQuickSearchTab:!1,showDownloadTab:!1,showAlerts:!0,modifyQueryParams:this.props.store.modifyQueryParams,getQueryStore:function(){return Object(S.a)(e.props.store.urlWrapper.query,e.props.store.urlWrapper,!1)}}))}},{key:"isQueryOrGeneInvalid",get:function(){return this.props.store.genesInvalid||this.props.store.isQueryInvalid}}])&&_(o.prototype,i),c&&_(o,c),n}();A([p.a,c.action],O.prototype,"toggleQueryFormVisibility",null),A([c.computed],O.prototype,"queryFormVisible",null),A([c.computed],O.prototype,"studyPageFilteredCasesLink",null),A([p.a,c.action],O.prototype,"closeQueryForm",null),A([p.a],O.prototype,"onSubmit",null),A([c.computed],O.prototype,"queryForm",null),A([c.computed],O.prototype,"isQueryOrGeneInvalid",null),O=A([o.observer],O),t.a=O}).call(this,n(9))},function(e,t,n){},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return b});var r=n(4),o=n(11),i=n(0),a=n(1164),s=n.n(a),l=n(25),c=n(1165),u=n(5);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},v=Object(r.E)(),b=function(t){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=h(this,d(n).apply(this,arguments))).showBookmarkDialog=!1,e}var o,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,i["Component"]),o=n,(a=[{key:"getUrls",value:function(){return g(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=v.location.href,!this.props.bitlyAccessToken){t.next=10;break}return t.prev=2,t.next=5,e.ajax({url:"https://api-ssl.bitly.com/v3/shorten?access_token=".concat(this.props.bitlyAccessToken,"&longUrl=").concat(encodeURIComponent(n))});case 5:r=t.sent,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:return t.abrupt("return",{bitlyUrl:r&&r.data&&r.data.url?r.data.url:void 0,fullUrl:v.location.href,sessionUrl:n});case 11:case"end":return t.stop()}},t,this,[[2,8]])}))}},{key:"toggleBookmarkDialog",value:function(){this.showBookmarkDialog=!this.showBookmarkDialog}},{key:"render",value:function(){return i.createElement("div",{className:s.a.shareModule},i.createElement(r.c,{placement:"topLeft",overlay:i.createElement("div",null,"Get bookmark link")},i.createElement("a",{onClick:this.toggleBookmarkDialog},i.createElement("span",{className:"fa-stack fa-4x"},i.createElement("i",{className:"fa fa-circle fa-stack-2x"}),i.createElement("i",{className:"fa fa-link fa-stack-1x"})))),this.showBookmarkDialog&&i.createElement(c.a,{onHide:this.toggleBookmarkDialog,urlPromise:this.getUrls()}))}}])&&p(o.prototype,a),l&&p(o,l),n}();y([u.observable],b.prototype,"showBookmarkDialog",void 0),y([l.a,u.action],b.prototype,"toggleBookmarkDialog",null),b=y([o.observer],b)}).call(this,n(9))},function(e,t,n){e.exports={portalWidth:"shareUI-module__portalWidth__23kqI",framedImage:"shareUI-module__framedImage__2dQ1S",shareModule:"shareUI-module__shareModule__3FK_r"}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),o=n(11),i=n(92),a=n(5),s=n(28),l=n.n(s),c=n(25),u=n(93);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=n(591),v=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=h(this,d(t).apply(this,arguments))).clipboards=[],e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.props.urlPromise.then(function(t){e.urlData=t,setTimeout(function(){e.initializeClipboards()},0)},function(){})}},{key:"showThumb",value:function(e){e.target.className="fa fa-thumbs-up"}},{key:"initializeClipboards",value:function(){this.clipboards.push(new g(this.sessionButton,{text:function(){return this.urlData.fullUrl}.bind(this),container:this.container})),this.urlData&&this.urlData.bitlyUrl&&this.clipboards.push(new g(this.bitlyButton,{text:function(){return this.urlData.bitlyUrl}.bind(this),container:this.container}))}},{key:"componentWillUnmount",value:function(){this.clipboards.forEach(function(e){return e.destroy()})}},{key:"render",value:function(){var e=this;return r.createElement(i.Modal,{show:!0,onHide:this.props.onHide},r.createElement(i.Modal.Header,{closeButton:!0},r.createElement(i.Modal.Title,null,"Bookmark Query")),r.createElement(i.Modal.Body,{style:{minHeight:70}},r.createElement(u.a,{size:"big",center:!0,style:{top:32},isLoading:!this.urlData}),r.createElement("div",{className:l()({hidden:!this.urlData}),ref:function(t){return e.container=t}},r.createElement("form",null,r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"exampleInputAmount"},"Share link"),r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control",value:this.urlData?this.urlData.fullUrl:""}),r.createElement("div",{className:"input-group-addon"},r.createElement("a",{ref:function(t){return e.sessionButton=t},onClick:this.showThumb},r.createElement("i",{className:"fa fa-clipboard"}))))),this.urlData&&this.urlData.bitlyUrl&&r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"exampleInputAmount"},"Shortened URL"),r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control",value:this.urlData?this.urlData.bitlyUrl:""}),r.createElement("div",{className:"input-group-addon"},r.createElement("a",{onClick:this.showThumb,ref:function(t){return e.bitlyButton=t}},r.createElement("i",{className:"fa fa-clipboard"})))))))))}}])&&p(n.prototype,o),a&&p(n,a),t}();y([a.observable],v.prototype,"urlData",void 0),y([c.a],v.prototype,"showThumb",null),y([c.a],v.prototype,"initializeClipboards",null),v=y([o.observer],v)},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__16HAO",framedImage:"styles-module__framedImage__3CXfU",globalSettingsDropdown:"styles-module__globalSettingsDropdown__1vmly","fa-info-circle":"styles-module__fa-info-circle__-hvWa"}},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n(11),i=n(25),a=n(850),s=n(5),l=n(3);function c(e){return r.createElement("span",null,e.map(function(t,n){return r.createElement("span",null,r.createElement("strong",null,t),n<e.length-1?", ":"")}))}var u=n(752),p=n(1166),h=n.n(p),d=n(28),f=n.n(d),m=n(564);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w,C=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.hidePutativePassengers="0",e.showGermlineMutations="1",e.dataTypeSample="2",e.dataTypePatient="3"}(w||(w={}));var _=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=g(t).call(this,e))||"object"!==S(o)&&"function"!=typeof o?v(r):o).driverSettingsState=function(e){return Object(s.observable)({get distinguishDrivers(){return e.props.store.driverAnnotationSettings.driversAnnotated},get annotateDriversOncoKb(){return e.props.store.driverAnnotationSettings.oncoKb},get annotateDriversOncoKbDisabled(){return!l.b.serverConfig.show_oncokb},get annotateDriversOncoKbError(){return e.props.store.didOncoKbFailInOncoprint},get annotateDriversHotspots(){return e.props.store.driverAnnotationSettings.hotspots},get annotateDriversHotspotsDisabled(){return!l.b.serverConfig.show_hotspot},get annotateDriversHotspotsError(){return e.props.store.didHotspotFailInOncoprint},get annotateDriversCBioPortal(){return e.props.store.driverAnnotationSettings.cbioportalCount},get annotateDriversCOSMIC(){return e.props.store.driverAnnotationSettings.cosmicCount},get hidePutativePassengers(){return e.props.store.driverAnnotationSettings.excludeVUS},get annotateCBioPortalInputValue(){return e.props.store.driverAnnotationSettings.cbioportalCountThreshold+""},get annotateCOSMICInputValue(){return e.props.store.driverAnnotationSettings.cosmicCountThreshold+""},get customDriverAnnotationBinaryMenuLabel(){var t=l.b.serverConfig.oncoprint_custom_driver_annotation_binary_menu_label,n=e.props.store.customDriverAnnotationReport.result;return t&&n&&n.hasBinary?t:void 0},get customDriverAnnotationTiersMenuLabel(){var t=l.b.serverConfig.oncoprint_custom_driver_annotation_tiers_menu_label,n=e.props.store.customDriverAnnotationReport.result;return t&&n&&n.tiers.length?t:void 0},get customDriverAnnotationTiers(){var t=e.props.store.customDriverAnnotationReport.result;return t&&t.tiers.length?t.tiers:void 0},get annotateCustomDriverBinary(){return e.props.store.driverAnnotationSettings.customBinary},get selectedCustomDriverAnnotationTiers(){return e.props.store.driverAnnotationSettings.driverTiers}})}(v(n)),n.driverSettingsHandlers=function(e,t){var n={onSelectDistinguishDrivers:Object(s.action)(function(n){n?(t.annotateDriversOncoKbDisabled||t.annotateDriversOncoKbError||(e.props.store.driverAnnotationSettings.oncoKb=!0),t.annotateDriversHotspotsDisabled||t.annotateDriversHotspotsError||(e.props.store.driverAnnotationSettings.hotspots=!0),e.props.store.driverAnnotationSettings.cbioportalCount=!0,e.props.store.driverAnnotationSettings.cosmicCount=!0,e.props.store.driverAnnotationSettings.customBinary=!0,e.props.store.driverAnnotationSettings.driverTiers.forEach(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(n,!0)})):(e.props.store.driverAnnotationSettings.oncoKb=!1,e.props.store.driverAnnotationSettings.hotspots=!1,e.props.store.driverAnnotationSettings.cbioportalCount=!1,e.props.store.driverAnnotationSettings.cosmicCount=!1,e.props.store.driverAnnotationSettings.customBinary=!1,e.props.store.driverAnnotationSettings.driverTiers.forEach(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(n,!1)}),e.props.store.driverAnnotationSettings.excludeVUS=!1)}),onSelectAnnotateOncoKb:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.oncoKb=t}),onSelectAnnotateHotspots:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.hotspots=t}),onSelectAnnotateCBioPortal:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCount=t}),onSelectAnnotateCOSMIC:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.cosmicCount=t}),onChangeAnnotateCBioPortalInputValue:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCountThreshold=parseInt(t,10),n.onSelectAnnotateCBioPortal&&n.onSelectAnnotateCBioPortal(!0)}),onChangeAnnotateCOSMICInputValue:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.cosmicCountThreshold=parseInt(t,10),n.onSelectAnnotateCOSMIC&&n.onSelectAnnotateCOSMIC(!0)}),onSelectCustomDriverAnnotationBinary:Object(s.action)(function(t){e.props.store.driverAnnotationSettings.customBinary=t}),onSelectCustomDriverAnnotationTier:Object(s.action)(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(t,n)}),onSelectHidePutativePassengers:function(t){e.props.store.driverAnnotationSettings.excludeVUS=t}};return n}(v(n),n.driverSettingsState),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(o=[{key:"onChange",value:function(e){this.props.store.setOncoprintAnalysisCaseType(e.value)}},{key:"onInputClick",value:function(e){switch(e.target.value){case w.hidePutativePassengers:this.props.store.driverAnnotationSettings.excludeVUS=!this.props.store.driverAnnotationSettings.excludeVUS;break;case w.showGermlineMutations:this.props.store.setExcludeGermlineMutations(!this.props.store.excludeGermlineMutations);break;case w.dataTypeSample:this.props.store.setOncoprintAnalysisCaseType(m.b.SAMPLE);break;case w.dataTypePatient:this.props.store.setOncoprintAnalysisCaseType(m.b.PATIENT)}}},{key:"render",value:function(){return r.createElement("div",{"data-test":"GlobalSettingsDropdown",className:f()("cbioportal-frontend",h.a.globalSettingsDropdown),style:{padding:5}},r.createElement("h5",{style:{marginTop:"auto",marginBottom:"auto"}},"Annotate Data"),r.createElement(u.a,{divStyle:{display:"inline-block",marginLeft:6},style:{color:"rgb(54, 134, 194)"},tooltip:r.createElement("span",null,"These settings affect every tab except"," ",c(["Co-expression","CN Segments"]))}),r.createElement("div",{style:{marginLeft:10}},r.createElement(a.a,{state:this.driverSettingsState,handlers:this.driverSettingsHandlers})),r.createElement("hr",null),r.createElement("h5",{style:{marginTop:"auto",marginBottom:"auto"}},"Filter Data"),r.createElement(u.a,{divStyle:{display:"inline-block",marginLeft:6},style:{color:"rgb(54, 134, 194)"},tooltip:r.createElement("span",null,"These settings affect every tab except"," ",c(["Plots","Co-expression","CN Segments"]))}),r.createElement("div",{style:{marginLeft:10}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideVUS",type:"checkbox",value:w.hidePutativePassengers,checked:this.props.store.driverAnnotationSettings.excludeVUS,onClick:this.onInputClick,disabled:!this.driverSettingsState.distinguishDrivers})," ","Exclude mutations and copy number alterations of unknown significance")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideGermline",type:"checkbox",value:w.showGermlineMutations,checked:this.props.store.excludeGermlineMutations,onClick:this.onInputClick})," ","Exclude germline mutations"))))}}])&&y(n.prototype,o),i&&y(n,i),t}();C([i.a],_.prototype,"onChange",null),C([i.a],_.prototype,"onInputClick",null),_=C([o.observer],_);t.a=_},function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(565),a=n(5),s=n(11),l=n(561),c=n(25);var u=n(28),p=n.n(u),h=n(17),d=n(566),f=n(92),m=n(4),y=n(869),g=n(599),v=n(20),b=n(80),S=n(47),w=n.n(S),C=n(1044),_=n(624);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return D});var O=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};function I(e){return o.round(100*e,2)}function M(e){var t=e[0].map(function(e){return e.x}),n=e.reduce(function(e,t){return t.forEach(function(t){e[t.x]=e[t.x]||0,e[t.x]+=t.y}),e},{});return t.map(function(e){return{x:e,y:n[e],alterationType:"whatever"}})}var D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=T(this,x(t).call(this,e))).barToolTipCounter=0,n.isBarPlotTooltipHovered=!1,n.shouldUpdatePosition=!1,n.mousePosition={x:0,y:0},n}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),n=t,(a=[{key:"tooltipMouseEnter",value:function(){this.isBarPlotTooltipHovered=!0}},{key:"tooltipMouseLeave",value:function(){this.isBarPlotTooltipHovered=!1,this.barPlotTooltipModel=null}},{key:"queryStudy",value:function(e){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=window.open(window.location.href))){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(g.b)(function(){return n.closed||n.globalStores&&n.globalStores.appStore.appReady});case 5:n.closed||(o={},i=_.a.cancer_study_list,a=e,i in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,r=o,this.props.gene!=C.a&&(r[_.a.gene_list]=this.props.gene),n.routingStore.updateRoute(r));case 6:case"end":return t.stop()}var o,i,a},t,this)}))}},{key:"formatStudyLink",value:function(e){return w.a.format({pathname:"/"+b.a.Study,query:{id:e}})}},{key:"onMouseMove",value:function(e){this.shouldUpdatePosition&&(this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY)}},{key:"barWidth",value:function(){return 20}},{key:"barSeparation",value:function(){return 8}},{key:"tickFormat",value:function(){return this.props.isPercentage?function(e){return"".concat(e,"%")}:function(e){return e}}},{key:"domainPadding",value:function(){return 20}},{key:"categoryAxisDomainPadding",value:function(){return this.domainPadding()}},{key:"countAxisDomainPadding",value:function(){return this.domainPadding()}},{key:"chartDomainPadding",value:function(){return{y:this.countAxisDomainPadding(),x:this.categoryAxisDomainPadding()}}},{key:"barChartHeight",value:function(){return 400}},{key:"getChart",value:function(){var e=this;return r.createElement("div",{style:this.overflowStyle,className:"borderedChart"},r.createElement("div",{style:{overflowX:"auto",overflowY:"hidden"}},r.createElement("svg",{style:{width:this.svgWidth,height:this.svgHeight,pointerEvents:"all"},height:this.svgHeight,width:this.svgWidth,role:"img",viewBox:"0 0 ".concat(this.svgWidth," ").concat(this.svgHeight),ref:function(t){return e.svg=t},onMouseMove:this.onMouseMove},r.createElement("g",{transform:"translate(".concat(this.leftPadding,", 0)")},r.createElement(i.VictoryChart,{theme:l.d,width:this.chartWidth,height:this.barChartHeight(),standalone:!1,domainPadding:this.chartDomainPadding(),singleQuadrantDomainPadding:{y:!0,x:!1}},r.createElement(i.VictoryAxis,{dependentAxis:!0,axisLabelComponent:r.createElement(i.VictoryLabel,{dy:-50}),label:this.yAxisLabel,tickFormat:this.tickFormat,offsetX:50,orientation:"left"}),r.createElement(i.VictoryAxis,{tickValues:this.props.xLabels,style:{ticks:{size:0,strokeWidth:0},tickLabels:{fontSize:0},grid:{stroke:0}}}),r.createElement(i.VictoryStack,{colorScale:this.colorArray},this.barPlots),!this.props.hideGenomicAlterations&&r.createElement(i.VictoryLegend,{x:10,y:this.svgHeight-30,orientation:"horizontal",data:this.legendData}))),r.createElement("g",{transform:"translate(".concat(this.leftPadding,", ").concat(this.scatterPlotTopPadding,")")},r.createElement(i.VictoryChart,{theme:l.d,width:this.chartWidth,height:this.scatterChartHeight,standalone:!1,domainPadding:this.chartDomainPadding(),singleQuadrantDomainPadding:{y:!0,x:!1}},r.createElement(i.VictoryAxis,{orientation:"bottom",crossAxis:!1,tickValues:this.props.xLabels,style:{axis:{strokeWidth:0},ticks:{size:0,strokeWidth:0},grid:{stroke:0}},tickLabelComponent:r.createElement(i.VictoryLabel,{angle:50,verticalAnchor:"start",textAnchor:"start"})}),r.createElement(i.VictoryAxis,{orientation:"left",dependentAxis:!0,crossAxis:!1,style:{axis:{strokeWidth:0},ticks:{size:0,strokeWidth:0},grid:{stroke:0}}}),r.createElement(i.VictoryScatter,{size:this.barWidth()/5,style:{data:{fill:"black",cursor:function(e){return e.cursor}}},data:this.scatterData,events:this.scatterPlotMouseEvents}))))),r.createElement(m.d,{getSvg:function(){return e.svg},filename:"cancer_types_summary",dontFade:!0,type:"button",style:{position:"absolute",top:10,right:10}}))}},{key:"render",value:function(){return r.createElement("div",{"data-test":"cancerTypeSummaryChart"},r.createElement(s.Observer,null,this.getChart),this.scatterPlotTooltipComponent,this.barPlotTooltipComponent)}},{key:"scatterPlotTooltipComponent",get:function(){if(this.scatterPlotTooltipModel){var e=this.scatterPlotTooltipModel.datum.profiledCount,t="Not profiled";e>0&&(t="".concat(e," ").concat(Object(m.V)("sample",e),"  profiled"));var n=this.mousePosition.x>d.a.size.width-400?"left":"right";return h.createPortal(r.createElement(f.Popover,{arrowOffsetTop:y.b,className:p()("cbioportal-frontend","cbioTooltip"),positionLeft:this.mousePosition.x+("left"===n?-y.a:y.a),positionTop:this.mousePosition.y-y.b,style:{transform:"left"===n?"translate(-100%,0%)":void 0,maxWidth:400},placement:n},r.createElement("div",{style:{whiteSpace:"normal"}},t)),document.body)}return null}},{key:"barPlotTooltipComponent",get:function(){var e=this;if(this.barPlotTooltipModel){var t=this.barPlotTooltipModel,n=this.mousePosition.x>d.a.size.width-400?"left":"right";return h.createPortal(r.createElement(f.Popover,{onMouseLeave:this.tooltipMouseLeave,onMouseEnter:this.tooltipMouseEnter,arrowOffsetTop:y.b,className:p()("cbioportal-frontend","cbioTooltip"),positionLeft:this.mousePosition.x+("left"===n?-y.a:y.a),positionTop:this.mousePosition.y-y.b,style:{transform:"left"===n?"translate(-100%,0%)":void 0,maxWidth:400},placement:n},r.createElement("div",null,r.createElement(v.If,{condition:this.props.showLinks},r.createElement(v.Then,null,r.createElement("strong",null,r.createElement("a",{href:this.formatStudyLink(t.studyId),target:"_blank"},t.groupName,"",r.createElement("i",{className:"fa fa-external-link",style:{fontWeight:"bold"}})))),r.createElement(v.Else,null,r.createElement("strong",null,"Summary for ",t.groupName))),r.createElement("p",null,"Gene altered in"," ",I(t.alterationData.alteredSampleCount/t.alterationData.profiledSampleTotal),"% of"," ",t.alterationData.profiledSampleTotal," ","cases"),r.createElement("table",{className:"table table-striped"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Alteration"),r.createElement("th",null,"Frequency"))),r.createElement("tbody",null,o.reduce(this.props.alterationTypes,function(e,n,o){if(o in t.alterationData.alterationTypeCounts&&t.alterationData.alterationTypeCounts[o]>0){var i=t.alterationData.alterationTypeCounts[o];e.push(r.createElement("tr",null,r.createElement("td",null,n),r.createElement("td",null,I(t.alterationData.alterationTypeCounts[o]/t.alterationData.profiledSampleTotal),"% (",i," ",Object(m.V)("case",i),")")))}return e},[]).reverse())),r.createElement(v.If,{condition:this.props.showLinks},r.createElement("div",{className:"btn btn-primary btn-xs",onClick:function(){e.queryStudy(t.studyId)}},"Query this study",this.props.gene==C.a?"":" for ".concat(this.props.gene))))),document.body)}return null}},{key:"svgWidth",get:function(){return this.chartWidth+this.rightPadding+this.leftPadding}},{key:"chartWidth",get:function(){return this.props.xLabels.length*(this.barWidth()+this.barSeparation())+100}},{key:"svgHeight",get:function(){return this.barChartHeight()+this.scatterChartHeight+this.bottomPadding-100}},{key:"rightPadding",get:function(){return Math.max(200,this.legendWidth-this.chartWidth+20)}},{key:"legendWidth",get:function(){var e=this.legendData.map(function(e){return e.name});return 6*e.join("").length+40*e.length}},{key:"leftPadding",get:function(){return 50}},{key:"bottomPadding",get:function(){return 5*(e=this.props.xLabels,t=e.map(function(e){var t=e.match(/[A-Z]/g)||[],n=e.match(/[a-z]/g)||[],r=e.match(/\s/g)||[],o=e.length-t.length-n.length-r.length;return 2*t.length+1*n.length+2*r.length+1*o}),o.max(t)||0)+40;var e,t}},{key:"colorArray",get:function(){var e=this;return o.map(this.props.alterationTypes,function(t,n){return e.props.colors[n]})}},{key:"legendData",get:function(){var e=this;return o.reduce(this.props.alterationTypes,function(t,n,r){return r in e.props.representedAlterations&&t.push({name:n,symbol:{fill:e.props.colors[r]}}),t},[]).reverse()}},{key:"yAxisLabel",get:function(){return this.props.isPercentage?"Alteration Frequency":"Absolute Counts"}},{key:"barPlotEvents",get:function(){var e=this;return[{target:"data",eventHandlers:{onMouseEnter:function(){return[{target:"data",mutation:function(t){e.shouldUpdatePosition=!0,t.datum.xKey in e.props.countsByGroup?(e.barPlotTooltipModel=Object.assign({},t,{groupName:t.datum.x,alterationData:e.props.countsByGroup[t.datum.xKey],studyId:t.datum.xKey}),e.barToolTipCounter++):e.barPlotTooltipModel=null}}]},onMouseLeave:function(){return[{target:"data",mutation:function(){e.shouldUpdatePosition=!1,setTimeout(function(){e.isBarPlotTooltipHovered||1!==e.barToolTipCounter||(e.barPlotTooltipModel=null),e.barToolTipCounter--},100)}}]}}}]}},{key:"scatterPlotMouseEvents",get:function(){var e=this;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(t){t.datum&&(e.scatterPlotTooltipModel=t)}}]},onMouseOut:function(){return[{target:"data",mutation:function(){e.scatterPlotTooltipModel=null}}]}}}]}},{key:"overflowStyle",get:function(){return{position:"relative",display:"inline-block",width:this.props.xLabels.length>37?"100%":"auto"}}},{key:"scatterChartHeight",get:function(){var e=o.uniqBy(this.scatterData,function(e){return e.y}).length;return e>0?e*(this.barWidth()+this.barSeparation())+100:100}},{key:"scatterPlotTopPadding",get:function(){return this.barChartHeight()-100}},{key:"scatterData",get:function(){return o.map(this.props.alterationTypeDataCounts,function(e){return Object.assign({},e,{symbol:e.profiledCount>0?"plus":"minus"})})}},{key:"barPlots",get:function(){var e=this;return(this.props.hideGenomicAlterations?[M(this.props.data)]:this.props.data).map(function(t,n){return r.createElement(i.VictoryBar,{style:{data:{width:e.barWidth}},events:e.barPlotEvents,data:t,key:n})})}}])&&k(n.prototype,a),c&&k(n,c),t}();O([a.observable.ref],D.prototype,"barPlotTooltipModel",void 0),O([a.observable.ref],D.prototype,"scatterPlotTooltipModel",void 0),O([a.observable],D.prototype,"barToolTipCounter",void 0),O([a.observable],D.prototype,"isBarPlotTooltipHovered",void 0),O([a.observable],D.prototype,"shouldUpdatePosition",void 0),O([a.observable],D.prototype,"mousePosition",void 0),O([c.a,a.action],D.prototype,"tooltipMouseEnter",null),O([c.a,a.action],D.prototype,"tooltipMouseLeave",null),O([a.computed],D.prototype,"scatterPlotTooltipComponent",null),O([a.computed],D.prototype,"barPlotTooltipComponent",null),O([c.a,a.action],D.prototype,"onMouseMove",null),O([c.a],D.prototype,"tickFormat",null),O([a.computed],D.prototype,"scatterChartHeight",null),O([a.computed],D.prototype,"scatterPlotTopPadding",null),O([a.computed],D.prototype,"scatterData",null),O([a.computed],D.prototype,"barPlots",null),O([c.a],D.prototype,"getChart",null),D=O([s.observer],D)}])]);