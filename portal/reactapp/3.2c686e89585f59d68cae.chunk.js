(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{570:function(e,t,n){"use strict";var r=n(178),o=n(2),i=n(3),a=n(22),u=n(33),s=n(66),l=n(679),c=n(634),f=n(635),p=n(713),d=n(637),m=n(638),y=n(702),h=n(572),v=n(102),g=n(680),b=n(636),S=n(712);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e){function t(e,n,r,o,a,u,l,c,f,p,d,m,y,v,g,b,S,P,O,E,w,A){var C,M,k;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M=this,k=I(t).call(this,e,n,r,u,S,P,a,O,w,A),(C=!k||"object"!==T(k)&&"function"!=typeof k?_(M):k).mutationMapperConfig=e,C.mutationMapperStoreConfig=n,C.gene=r,C.samples=o,C.oncoKbCancerGenes=a,C.getMutationCountCache=l,C.getGenomeNexusCache=c,C.getGenomeNexusMutationAssessorCache=f,C.getDiscreteCNACache=p,C.studyToMolecularProfileDiscrete=d,C.studyIdToStudy=m,C.molecularProfileIdToMolecularProfile=y,C.clinicalDataForSamples=v,C.studiesForSamplesWithoutCancerTypeClinicalData=g,C.germlineConsentedSamples=b,C.indexedHotspotData=S,C.indexedVariantAnnotations=P,C.uniqueSampleKeyToTumorType=O,C.generateGenomeNexusHgvsgUrl=E,C.genomenexusClient=w,C.genomenexusInternalClient=A,C.cosmicData=Object(i.S)({await:function(){return[C.mutationData]},invoke:function(){return Object(h.m)(C.mutationData)}}),Object(s.labelMobxPromises)(_(C)),C}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,S["a"]),n=t,(r=[{key:"downloadDataFetcher",get:function(){return new b.a(this.mutationData,this.studyToMolecularProfileDiscrete,this.getGenomeNexusCache,this.getGenomeNexusMutationAssessorCache,this.getMutationCountCache,this.getDiscreteCNACache)}}])&&P(n.prototype,r),o&&P(n,o),t}();E([s.cached],w.prototype,"downloadDataFetcher",null);var A=n(6),C=n(4),M=n.n(C),k=n(654),R=n(571);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function L(e,t){return"".concat(t)}function F(e){return"".concat(e.entrezGeneId)}function q(e,t,n){return G(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,u,s,l,c,f,p,d,m,y,h,v,g;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=Object.keys(t),o.next=3,Promise.all(i.map(function(o){var i=n[o],a=t[o],u=e.map(function(e){return e.entrezGeneId});return i&&a&&u.length>0?r.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:a.molecularProfileId,mutationFilter:Object.assign(Object.assign({},i),{entrezGeneIds:u}),projection:"DETAILED"}):Promise.resolve([])}));case 3:for(a=o.sent,u=M.a.keyBy(e,function(e){return e.entrezGeneId}),s=M.a.values(M.a.groupBy(M.a.flatten(a),"entrezGeneId")),l=[],c=!0,f=!1,p=void 0,o.prev=10,d=s[Symbol.iterator]();!(c=(m=d.next()).done);c=!0)(y=m.value).length&&(l.push({meta:y[0].entrezGeneId,data:[y]}),delete u[y[0].entrezGeneId]);o.next=18;break;case 14:o.prev=14,o.t0=o.catch(10),f=!0,p=o.t0;case 18:o.prev=18,o.prev=19,c||null==d.return||d.return();case 21:if(o.prev=21,!f){o.next=24;break}throw p;case 24:return o.finish(21);case 25:return o.finish(18);case 26:for(h=0,v=Object.keys(u);h<v.length;h++)g=v[h],l.push({meta:parseInt(g,10),data:[]});return o.abrupt("return",l);case 28:case"end":return o.stop()}},o,null,[[10,14,18,26],[19,,21,25]])}))}var B=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,D(t).call(this,F,L,q,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,R["a"]),t}(),K=n(598),U=n(588);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function X(e){return"".concat(e.molecularProfileId,"~").concat(e.entrezGeneId)}function Q(e,t){return"".concat(t.molecularProfileId,"~").concat(t.entrezGeneId)}function Z(e,t){return Y(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,a,u,s,l,c,f,p,d,m,y,h,v,g,b,S,P,I,_,O,T;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=M.a.mapValues(M.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.entrezGeneId})}),i=Object.keys(o).map(function(e){return{molecularProfileId:e,molecularDataFilter:Object.assign({entrezGeneIds:o[e]},t[e])}}),n.next=4,Promise.all(i.map(function(e){return r.a.fetchAllMolecularDataInMolecularProfileUsingPOST(e)}));case 4:for(a=n.sent,u={},s=!0,l=!1,c=void 0,n.prev=9,f=e[Symbol.iterator]();!(s=(p=f.next()).done);s=!0)d=p.value,u[X(d)]={data:[[]],meta:d};n.next=17;break;case 13:n.prev=13,n.t0=n.catch(9),l=!0,c=n.t0;case 17:n.prev=17,n.prev=18,s||null==f.return||f.return();case 20:if(n.prev=20,!l){n.next=23;break}throw c;case 23:return n.finish(20);case 24:return n.finish(17);case 25:m=!0,y=!1,h=void 0,n.prev=28,v=a[Symbol.iterator]();case 30:if(m=(g=v.next()).done){n.next=54;break}for(b=g.value,S=!0,P=!1,I=void 0,n.prev=35,_=b[Symbol.iterator]();!(S=(O=_.next()).done);S=!0)T=O.value,u[X(T)].data[0].push(T);n.next=43;break;case 39:n.prev=39,n.t1=n.catch(35),P=!0,I=n.t1;case 43:n.prev=43,n.prev=44,S||null==_.return||_.return();case 46:if(n.prev=46,!P){n.next=49;break}throw I;case 49:return n.finish(46);case 50:return n.finish(43);case 51:m=!0,n.next=30;break;case 54:n.next=60;break;case 56:n.prev=56,n.t2=n.catch(28),y=!0,h=n.t2;case 60:n.prev=60,n.prev=61,m||null==v.return||v.return();case 63:if(n.prev=63,!y){n.next=66;break}throw h;case 66:return n.finish(63);case 67:return n.finish(60);case 68:return n.abrupt("return",M.a.values(u));case 69:case"end":return n.stop()}},n,null,[[9,13,17,25],[18,,20,24],[28,56,60,68],[35,39,43,51],[44,,46,50],[61,,63,67]])}))}var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=H(this,z(t).call(this,X,Q,Z,e))).molecularProfileIdToSampleFilter=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,R["a"]),t}(),$=n(103);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function ie(e){return"".concat(e.molecularProfileId,"~").concat(e.genesetId)}function ae(e,t){return"".concat(t.molecularProfileId,"~").concat(t.genesetId)}function ue(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n[ie(s)]={data:[[]],meta:s}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var l=!0,c=!1,f=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value,y=!0,h=!1,v=void 0;try{for(var g,b=m[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var S=g.value;n[ie({molecularProfileId:S.geneticProfileId,genesetId:S.genesetId})].data[0].push(S)}}catch(e){h=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(h)throw v}}}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}return M.a.values(n)}function se(e,t){return oe(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=M.a.mapValues(M.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.genesetId})}),o=Object.keys(r).map(function(e){return{geneticProfileId:e,genesetDataFilterCriteria:Object.assign({genesetIds:r[e]},t[e])}}),i=o.map(function(e){return $.a.fetchGeneticDataItemsUsingPOST(e)}),n.next=5,Promise.all(i);case 5:return a=n.sent,n.abrupt("return",ue(e,a));case 7:case"end":return n.stop()}},n)}))}var le=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),te(this,ne(t).call(this,ie,ae,se,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,R["a"]),t}();function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),e}var de=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function me(e,t){var n=e.genesetId,r=e.molecularProfileId;return de(this,void 0,void 0,regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.assign({genesetId:n,geneticProfileId:r},t[r]),e.abrupt("return",$.a.fetchCorrelatedGenesUsingPOST(o));case 2:case"end":return e.stop()}},e)}))}var ye=function(){function e(t){ce(this,e),this.stateChain=Promise.resolve(t)}return pe(e,[{key:"appendTransition",value:function(e){var t=this.stateChain.then(e);return this.stateChain=t.then(function(e){return e.newState}),t.then(function(e){return e.output})}}]),e}(),he=function(){function e(t,n){ce(this,e),this.nextGeneIndexStateChain=new ye(0),this.data=void 0,this.query=t,this.sampleFilterByProfile=n}return pe(e,[{key:"next",value:function(e){return de(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.nextGeneIndexStateChain.appendTransition(function(t){return de(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.data){n.next=4;break}return n.next=3,me(this.query,this.sampleFilterByProfile);case 3:this.data=n.sent;case 4:return r=this.data.slice(t,t+e),n.abrupt("return",{newState:t+r.length,output:r});case 6:case"end":return n.stop()}},n,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"reset",value:function(){this.nextGeneIndexStateChain.appendTransition(function(e){return Promise.resolve({newState:0,output:void 0})})}}]),e}(),ve=function(){function e(t){ce(this,e),this.iterations={},this.sampleFilterByProfile=t}return pe(e,[{key:"initIteration",value:function(e,t){Object.prototype.hasOwnProperty.call(this.iterations,e)||(this.iterations[e]=new he(t,this.sampleFilterByProfile))}},{key:"next",value:function(e,t){return de(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.iterations[e].next(t));case 1:case"end":return n.stop()}},n,this)}))}},{key:"reset",value:function(e){this.iterations[e].reset()}}]),e}(),ge=n(604);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function Oe(e){return"".concat(e.molecularProfileId,"~").concat(e.stableId)}function Te(e,t){return"".concat(t.molecularProfileId,"~").concat(t.stableId)}function Ee(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n[Oe(s)]={data:[[]],meta:s}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var l=!0,c=!1,f=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value,y=!0,h=!1,v=void 0;try{for(var g,b=m[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var S=g.value;n[Oe({molecularProfileId:(S=we(S)).molecularProfileId,stableId:S.stableId})].data[0].push(S)}}catch(e){h=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(h)throw v}}}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}return M.a.values(n)}function we(e){if(!e.thresholdType){var t=/([><]?)(.+)/.exec(e.value);e.thresholdType=void 0,t&&(e.value=t[2],t[1].length>0&&(">"===t[1]?e.thresholdType=t[1]:"<"===t[1]&&(e.thresholdType=t[1])))}return e}function Ae(e,t){return _e(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=M.a.mapValues(M.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.stableId})}),n.next=3,Object(ge.b)(r,t);case 3:return o=n.sent,n.abrupt("return",Ee(e,o));case 5:case"end":return n.stop()}},n)}))}var Ce=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,Pe(t).call(this,Oe,Te,Ae,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,R["a"]),t}();function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function De(e){return e.hugoGeneSymbol.toUpperCase()}function je(e){return xe(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.map(function(e){return e.hugoGeneSymbol.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var Ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,Re(t).call(this,De,De,je))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,R["a"]),t}();function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function Ue(e){return e.genesetId.toUpperCase()}function Ve(e){return Ke(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$.a.fetchGenesetsUsingPOST({genesetIds:e.map(function(e){return e.genesetId.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var He,ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fe(this,qe(t).call(this,Ue,Ue,Ve))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,R["a"]),t}(),We=n(628),Ye=n(104),Xe=n.n(Ye),Qe=n(14),Ze=n.n(Qe),Je=n(671),$e=n(585),et=n(616),tt=n(612),nt=n(592);function rt(e,t){return C.flatMap(e,function(e){return function(e,t){var n=[];switch(t){case He.Mutation:n.push(it(e));break;case He.CNA:n.push(ot(e));break;case He.MutationAndCNA:n.push(it(e)),n.push(ot(e))}return C.compact(n)}(e,t)})}function ot(e){var t=e.filter(function(e){return e.molecularAlterationType===Nt.COPY_NUMBER_ALTERATION}).reduce(function(e,t){var n;return n=t.molecularProfileId,/GISTIC/i.test(n)?e.gistic.push(t):!function(e){return/RAE/i.test(e)}(t.molecularProfileId)?e.other.push(t):e.rae.push(t),e},{gistic:[],rae:[],other:[]});return t.gistic.length?t.gistic[0]:t.rae.length?t.rae[0]:t.other.length?C.find(t.other,function(e){return e.showProfileInAnalysisTab}):void 0}function it(e){return C.find(e,function(e){return e.molecularAlterationType===Nt.MUTATION_EXTENDED})}!function(e){e[e.MutationAndCNA=0]="MutationAndCNA",e[e.Mutation=1]="Mutation",e[e.CNA=2]="CNA"}(He||(He={}));var at,ut=n(67),st=n(622),lt=n(653),ct=n(707),ft=n(664),pt=n(658);!function(e){e.InvalidGenes="INVALID GENE SYMBOLS"}(at||(at={}));var dt,mt=n(127),yt=n(627),ht=n(577),vt=n(8),gt=n(574),bt=n(708),St=n(606),Pt=n(621),It=n(593),_t=n(15),Ot=n(602);function Tt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return Nt}),n.d(t,"c",function(){return xt}),n.d(t,"b",function(){return Dt}),n.d(t,"d",function(){return Mt}),n.d(t,"e",function(){return Gt});var Ct,Mt,kt=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":At(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},Rt=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},Nt={MUTATION_EXTENDED:"MUTATION_EXTENDED",COPY_NUMBER_ALTERATION:"COPY_NUMBER_ALTERATION",MRNA_EXPRESSION:"MRNA_EXPRESSION",PROTEIN_LEVEL:"PROTEIN_LEVEL",FUSION:"FUSION",GENESET_SCORE:"GENESET_SCORE",METHYLATION:"METHYLATION",GENERIC_ASSAY:"GENERIC_ASSAY",STRUCTURAL_VARIANT:"STRUCTURAL_VARIANT",MUTATION_UNCALLED:"MUTATION_UNCALLED"},xt={TREATMENT_RESPONSE:"TREATMENT_RESPONSE"},Dt={DISCRETE:"DISCRETE",CONTINUOUS:"CONTINUOUS",ZSCORE:"Z-SCORE",MAF:"MAF",LOGVALUE:"LOG-VALUE",LOG2VALUE:"LOG2-VALUE"};!function(e){e.w_mut="w_mut",e.w_cna="w_cna",e.w_mut_cna="w_mut_cna"}(Ct||(Ct={})),function(e){e.GENE="gene",e.GENESET="geneset"}(Mt||(Mt={}));var jt=(wt(dt={},Ct.w_mut,"all_cases_with_mutation_data"),wt(dt,Ct.w_cna,"all_cases_with_cna_data"),wt(dt,Ct.w_mut_cna,"all_cases_with_mutation_and_cna_data"),dt);var Gt=function(){function e(t,n){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=t,this.resultsPageSettingsVisible=!1,this.checkingVirtualStudies=!1,this.urlValidationError=null,this.ajaxErrors=[],this.sessionIdURL="",this.queryFormVisible=!1,this.modifyQueryParams=void 0,this.selectedMolecularProfiles=Object(i.S)({await:function(){return[u.studyToMolecularProfiles,u.studies]},invoke:function(){if(u.studies.result.length>1||0===u.selectedMolecularProfileIds.length)return Promise.resolve(rt(u.studyToMolecularProfiles.result,u.profileFilter));var e=C.keyBy(u.selectedMolecularProfileIds,function(e){return e});return Promise.resolve(u.molecularProfilesInStudies.result.filter(function(t){return t.molecularProfileId in e}))}}),this.clinicalAttributes_profiledIn=Object(i.S)({await:function(){return[u.coverageInformation,u.molecularProfileIdToMolecularProfile,u.selectedMolecularProfiles,u.studyIds]},invoke:function(){return Promise.resolve(Object(ft.f)(u.coverageInformation.result.samples,u.molecularProfileIdToMolecularProfile.result,u.selectedMolecularProfiles.result,1===u.studyIds.result.length))}}),this.comparisonGroups=Object(i.S)({await:function(){return[u.queriedStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.appStore.isLoggedIn){e.next=12;break}return e.prev=2,e.t0=t,e.next=6,yt.a.getGroupsForStudies(this.queriedStudies.result.map(function(e){return e.studyId}));case 6:e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.next=12;break;case 10:e.prev=10,e.t2=e.catch(2);case 12:n=!0,r=!1,o=void 0,e.prev=15,i=this.comparisonGroupsReferencedInURL[Symbol.iterator]();case 17:if(n=(a=i.next()).done){e.next=27;break}return u=a.value,e.t3=t,e.next=22,yt.a.getGroup(u);case 22:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 24:n=!0,e.next=17;break;case 27:e.next=33;break;case 29:e.prev=29,e.t5=e.catch(15),r=!0,o=e.t5;case 33:e.prev=33,e.prev=34,n||null==i.return||i.return();case 36:if(e.prev=36,!r){e.next=39;break}throw o;case 39:return e.finish(36);case 40:return e.finish(33);case 41:return e.abrupt("return",t);case 42:case"end":return e.stop()}},e,this,[[2,10],[15,29,33,41],[34,,36,40]])}))}}),this.clinicalAttributes_comparisonGroupMembership=Object(i.S)({await:function(){return[u.comparisonGroups]},invoke:function(){return Promise.resolve(Object(ft.e)(u.comparisonGroups.result))}}),this.selectedMolecularProfileIdsByAlterationType=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){var e=u.selectedMolecularProfiles.result;return Promise.resolve(C.groupBy(e,"molecularAlterationType"))}}),this.clinicalAttributes=Object(i.S)({await:function(){return[u.studyIds,u.clinicalAttributes_profiledIn,u.clinicalAttributes_comparisonGroupMembership,u.samples,u.patients]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.fetchClinicalAttributesUsingPOST({studyIds:this.studyIds.result});case 2:return t=e.sent,n=[{clinicalAttributeId:nt.c.MutationSpectrum,datatype:"COUNTS_MAP",description:"Number of point mutations in the sample counted by different types of nucleotide changes.",displayName:"Mutation spectrum",patientAttribute:!1,studyId:"",priority:"0"}],this.studyIds.result.length>1&&n.push({clinicalAttributeId:nt.c.StudyOfOrigin,datatype:"STRING",description:"Study which the sample is a part of.",displayName:"Study of origin",patientAttribute:!1,studyId:"",priority:"0"}),this.samples.result.length!==this.patients.result.length&&n.push({clinicalAttributeId:nt.c.NumSamplesPerPatient,datatype:"NUMBER",description:"Number of queried samples for each patient.",displayName:"# Samples per Patient",patientAttribute:!0}),e.abrupt("return",t.concat(n).concat(this.clinicalAttributes_profiledIn.result).concat(this.clinicalAttributes_comparisonGroupMembership.result));case 7:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributeIdToClinicalAttribute=Object(i.S)({await:function(){return[u.clinicalAttributes]},invoke:function(){return Promise.resolve(C.keyBy(u.clinicalAttributes.result,"clinicalAttributeId"))}}),this.clinicalAttributeIdToAvailableSampleCount=Object(i.S)({await:function(){return[u.samples,u.sampleSet,u.studies,u.clinicalAttributes,u.studyToDataQueryFilter,u.clinicalAttributes_profiledIn,u.clinicalAttributes_comparisonGroupMembership]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a,u,s,l,c,f,p,d,m,y,h,v,g,b,S,P,I,_,O,T,E,w,A,M,k,R,N;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1===this.studies.result.length?(n=this.studies.result[0].studyId,o=this.studyToDataQueryFilter.result[n],t=o.sampleListId?{sampleListId:o.sampleListId}:{sampleIdentifiers:o.sampleIds.map(function(e){return{sampleId:e,studyId:n}})}):t={sampleIdentifiers:this.samples.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}})},e.next=3,r.a.getClinicalAttributeCountsUsingPOST({clinicalAttributeCountFilter:t});case 3:for(i=e.sent,a=C.reduce(i,function(e,t){return e[t.clinicalAttributeId]=e[t.clinicalAttributeId]||0,e[t.clinicalAttributeId]+=t.count,e},{}),u=!0,s=!1,l=void 0,e.prev=8,c=this.clinicalAttributes.result[Symbol.iterator]();!(u=(f=c.next()).done);u=!0)(p=f.value).clinicalAttributeId in a||(a[p.clinicalAttributeId]=0);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),s=!0,l=e.t0;case 16:e.prev=16,e.prev=17,u||null==c.return||c.return();case 19:if(e.prev=19,!s){e.next=22;break}throw l;case 22:return e.finish(19);case 23:return e.finish(16);case 24:for(a[nt.c.NumSamplesPerPatient]=this.samples.result.length,a[nt.c.StudyOfOrigin]=this.samples.result.length,d=0,0,m=!0,y=!1,h=void 0,e.prev=30,v=this.samples.result[Symbol.iterator]();!(m=(g=v.next()).done);m=!0)b=g.value,d+=+!!b.sequenced,+!!b.copyNumberSegmentPresent;e.next=38;break;case 34:e.prev=34,e.t1=e.catch(30),y=!0,h=e.t1;case 38:e.prev=38,e.prev=39,m||null==v.return||v.return();case 41:if(e.prev=41,!y){e.next=44;break}throw h;case 44:return e.finish(41);case 45:return e.finish(38);case 46:for(a[nt.c.MutationSpectrum]=d,S=!0,P=!1,I=void 0,e.prev=50,_=this.clinicalAttributes_profiledIn.result[Symbol.iterator]();!(S=(O=_.next()).done);S=!0)T=O.value,a[T.clinicalAttributeId]=this.samples.result.length;e.next=58;break;case 54:e.prev=54,e.t2=e.catch(50),P=!0,I=e.t2;case 58:e.prev=58,e.prev=59,S||null==_.return||_.return();case 61:if(e.prev=61,!P){e.next=64;break}throw I;case 64:return e.finish(61);case 65:return e.finish(58);case 66:for(E=this.sampleSet.result,w=!0,A=!1,M=void 0,e.prev=70,k=this.clinicalAttributes_comparisonGroupMembership.result[Symbol.iterator]();!(w=(R=k.next()).done);w=!0)N=R.value,a[N.clinicalAttributeId]=Object(ht.s)(N.comparisonGroup.data,function(e,t){return E.has({studyId:e,sampleId:t})});e.next=78;break;case 74:e.prev=74,e.t3=e.catch(70),A=!0,M=e.t3;case 78:e.prev=78,e.prev=79,w||null==k.return||k.return();case 81:if(e.prev=81,!A){e.next=84;break}throw M;case 84:return e.finish(81);case 85:return e.finish(78);case 86:return e.abrupt("return",a);case 87:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23],[30,34,38,46],[39,,41,45],[50,54,58,66],[59,,61,65],[70,74,78,86],[79,,81,85]])}))}}),this.cnSegments=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Object(h.l)(u.samples.result)}},[]),this.cnSegmentsByChromosome=Object(i.S)({await:function(){return[u.genes,u.samples,u.referenceGenes]},invoke:function(){var e=C.uniq(u.referenceGenes.result.map(function(e){return e.chromosome}));return Promise.resolve(e.reduce(function(e,t){return e[t]=Object(i.S)({invoke:function(){return Object(h.l)(u.samples.result,t)}}),e},{}))}},{}),this.molecularData=Object(i.S)({await:function(){return[u.studyToDataQueryFilter,u.genes,u.selectedMolecularProfiles,u.samples]},invoke:function(){var e=Object($e.i)(u.selectedMolecularProfiles.result),t=u.genes.result;if(e.length&&null!=t&&t.length){var n=[];if(e.forEach(function(e){u.samples.result.forEach(function(t){t.studyId===e.studyId&&n.push({molecularProfileId:e.molecularProfileId,sampleId:t.sampleId})})}),n.length)return r.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:C.map(u.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:n}})}return Promise.resolve([])}}),this.nonSelectedDownloadableMolecularData=Object(i.S)({await:function(){return[u.studyToDataQueryFilter,u.genes,u.nonSelectedDownloadableMolecularProfiles,u.samples]},invoke:function(){var e=Object($e.i)(u.nonSelectedDownloadableMolecularProfiles.result),t=u.genes.result;if(e.length&&null!=t&&t.length){var n=C.groupBy(e,function(e){return e.studyId}),o=u.samples.result.filter(function(e){return e.studyId in n}).reduce(function(e,t){return e=e.concat(n[t.studyId].map(function(e){return{molecularProfileId:e.molecularProfileId,sampleId:t.sampleId}}))},[]);if(o.length)return r.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:C.map(u.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:o}})}return Promise.resolve([])}}),this.coexpressionTabMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(st.d)(Object(st.a)(u.molecularProfilesInStudies.result).concat(Object(st.b)(u.molecularProfilesInStudies.result))))}}),this.isThereDataForCoExpressionTab=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.genes,u.samples]},invoke:function(){var e=Object(st.a)(u.molecularProfilesInStudies.result),t=C.groupBy(e,"studyId"),n=C.flatten(u.samples.result.map(function(e){var n=t[e.studyId];return n?n.map(function(t){return{molecularProfileId:t.molecularProfileId,sampleId:e.sampleId}}):[]})),o=u.genes.result.map(function(e){return e.entrezGeneId});return n.length>0&&o.length>0?r.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOSTWithHttpInfo({molecularDataMultipleStudyFilter:{entrezGeneIds:o,sampleMolecularIdentifiers:n},projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)>0}):Promise.resolve(!1)}}),this.remoteNgchmUrl=Object(i.S)({await:function(){return[u.studyIds]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",1!==this.studyIds.result.length){e.next=12;break}return n={studyid:this.studyIds.result[0],format:"json"},e.prev=3,e.next=6,Ze.a.get("https://bioinformatics.mdanderson.org/study2url").timeout(3e4).query(n);case 6:r=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:r&&r.body.fileContent&&(o=JSON.parse(r.body.fileContent.trimEnd())).length>=1&&(t="https://bioinformatics.mdanderson.org/TCGA/NGCHMPortal?"+o[0]);case 12:return e.abrupt("return",Promise.resolve(t));case 13:case"end":return e.stop()}},e,this,[[3,9]])}))}}),this.molecularProfilesWithData=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.studyToDataQueryFilter,u.genes,u.genesets,u.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a,u,s,l,c,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],o=this.studyToDataQueryFilter.result,i=!0,a=!1,u=void 0,e.prev=6,s=function(){var e=c.value,i=o[e.studyId];if(!i||!i.sampleIds&&!i.sampleListId)return"continue";var a=e.molecularProfileId,u=Object.assign({entrezGeneIds:f.genes.result.map(function(e){return e.entrezGeneId})},i);e.molecularAlterationType===Nt.MUTATION_EXTENDED?n.push(r.a.fetchMutationsInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:a,mutationFilter:u,projection:"META"}).then(function(n){parseInt(n.header["sample-count"],10)>0&&t.push(e)})):e.molecularAlterationType===Nt.MUTATION_UNCALLED||(e.molecularAlterationType===Nt.GENESET_SCORE||e.molecularAlterationType===Nt.GENERIC_ASSAY?t.push(e):n.push(r.a.fetchAllMolecularDataInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:a,molecularDataFilter:u,projection:"META"}).then(function(n){parseInt(n.header["total-count"],10)>0&&t.push(e)})))},l=this.molecularProfilesInStudies.result[Symbol.iterator]();case 9:if(i=(c=l.next()).done){e.next=16;break}if("continue"!==s()){e.next=13;break}return e.abrupt("continue",13);case 13:i=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),a=!0,u=e.t0;case 22:e.prev=22,e.prev=23,i||null==l.return||l.return();case 25:if(e.prev=25,!a){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.next=32,Promise.all(n);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}},e,this,[[6,18,22,30],[23,,25,29]])}))}}),this.nonOqlFilteredAlterations=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.entrezGeneIdToGene]},invoke:function(){var e=new K.b(u.selectedMolecularProfiles.result),t=u.entrezGeneIdToGene.result,n=[];return n=(n=n.concat(u.filteredAndAnnotatedMutations.result)).concat(u.filteredAndAnnotatedMolecularData.result),Promise.resolve(n.map(function(n){var r=Object(pt.a)(n,e);return r.hugoGeneSymbol=t[n.entrezGeneId].hugoGeneSymbol,r.molecularProfileAlterationType=e.molecularAlterationType(n.molecularProfileId),r}))}}),this.oqlFilteredMutationsReport=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMutationsReport,u.selectedMolecularProfiles,u.defaultOQLQuery]},invoke:function(){return Promise.resolve(C.mapValues(u._filteredAndAnnotatedMutationsReport.result,function(e){return Object(U.c)(u.oqlText,e,new K.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result)}))}}),this.oqlFilteredMolecularDataReport=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMolecularDataReport,u.selectedMolecularProfiles,u.defaultOQLQuery]},invoke:function(){return Promise.resolve(C.mapValues(u._filteredAndAnnotatedMolecularDataReport.result,function(e){return Object(U.c)(u.oqlText,e,new K.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result)}))}}),this.oqlFilteredAlterations=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.defaultOQLQuery]},invoke:function(){if(""!=u.oqlText.trim()){var e=[];return e=(e=e.concat(u.filteredAndAnnotatedMutations.result)).concat(u.filteredAndAnnotatedMolecularData.result),Promise.resolve(Object(U.c)(u.oqlText,e,new K.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result))}return Promise.resolve([])}}),this.oqlFilteredCaseAggregatedData=Object(i.S)({await:function(){return[u.oqlFilteredAlterations,u.samples,u.patients]},invoke:function(){return Promise.resolve({samples:Object(h.W)(u.oqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},u.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(h.W)(u.oqlFilteredAlterations.result,function(e){return e.uniquePatientKey},u.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.nonOqlFilteredCaseAggregatedData=Object(i.S)({await:function(){return[u.nonOqlFilteredAlterations,u.samples,u.patients]},invoke:function(){return Promise.resolve({samples:Object(h.W)(u.nonOqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},u.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(h.W)(u.nonOqlFilteredAlterations.result,function(e){return e.uniquePatientKey},u.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.defaultOQLQuery,u.samples,u.patients]},invoke:function(){var e=[].concat(Tt(u.filteredAndAnnotatedMutations.result),Tt(u.filteredAndAnnotatedMolecularData.result)),t=new K.b(u.selectedMolecularProfiles.result),n=u.defaultOQLQuery.result,r=u.samples.result,o=u.patients.result;if(""===u.oqlText.trim())return Promise.resolve([]);var i=Object(U.e)(u.oqlText,e,t,n);return Promise.resolve(i.map(function(i){return{cases:Object($e.s)(i,r,o),oql:i,mergedTrackOqlList:Object($e.m)(i,n,e,t,r,o)}}))}}),this.isSampleAlteredMap=Object(i.S)({await:function(){return[u.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,u.samples,u.coverageInformation,u.selectedMolecularProfiles,u.studyToMolecularProfiles]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object($e.q)(this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result,this.samples.result,this.oqlText,this.coverageInformation.result,this.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId}),this.studyToMolecularProfiles.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.oqlFilteredCaseAggregatedDataByOQLLine=Object(i.S)({await:function(){return[u.filteredAndAnnotatedMutations,u.filteredAndAnnotatedMolecularData,u.selectedMolecularProfiles,u.defaultOQLQuery,u.samples,u.patients]},invoke:function(){if(""===u.oqlText.trim())return Promise.resolve([]);var e=Object(U.d)(u.oqlText,[].concat(Tt(u.filteredAndAnnotatedMutations.result),Tt(u.filteredAndAnnotatedMolecularData.result)),new K.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result);return Promise.resolve(e.map(function(e){return{cases:Object($e.s)(e,u.samples.result,u.patients.result),oql:e}}))}}),this.studyToMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(C.groupBy(u.molecularProfilesInStudies.result,function(e){return e.studyId}))}}),this.coverageInformation=Object(i.S)({await:function(){return[u.studyToMolecularProfiles,u.genes,u.samples,u.patients]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.samples.result.forEach(function(e){var n=a.studyToMolecularProfiles.result[e.studyId];if(n){var r=e.sampleId,o=!0,i=!1,u=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;t.push({molecularProfileId:c.molecularProfileId,sampleId:r})}}catch(e){i=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}}}),!t.length||!this.genes.result.length){e.next=8;break}return e.next=5,r.a.fetchGenePanelDataInMultipleMolecularProfilesUsingPOST({sampleMolecularIdentifiers:t});case 5:n=e.sent,e.next=9;break;case 8:n=[];case 9:if(o=C.uniq(n.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),i=[],!o.length){e.next=15;break}return e.next=14,r.a.fetchGenePanelsUsingPOST({genePanelIds:o,projection:"DETAILED"});case 14:i=e.sent;case 15:return e.abrupt("return",Object($e.g)(n,i,this.samples.result,this.patients.result,this.genes.result));case 16:case"end":return e.stop()}},e,this)}))}},{samples:{},patients:{}}),this.sequencedSampleKeys=Object(i.S)({await:function(){return[u.samples,u.coverageInformation,u.selectedMolecularProfiles]},invoke:function(){var e=u.coverageInformation.result,t=u.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(C.chain(u.samples.result).filter(function(n){return C.some(Object(tt.b)(n.uniqueSampleKey,t,e))}).map(function(e){return e.uniqueSampleKey}).value())}}),this.sequencedPatientKeys=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.sequencedSampleKeys]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",C.chain(this.sequencedSampleKeys.result).map(function(e){return t[e].uniquePatientKey}).uniq().value());case 2:case"end":return e.stop()}},e,this)}))}}),this.sequencedSampleKeysByGene=Object(i.S)({await:function(){return[u.samples,u.genes,u.coverageInformation,u.selectedMolecularProfiles]},invoke:function(){var e=u.coverageInformation.result,t=u.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(u.genes.result.reduce(function(n,r){return n[r.hugoGeneSymbol]=u.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(n){return C.some(Object(tt.b)(n,t,e,r.hugoGeneSymbol))}),n},{}))}}),this.existUnsequencedSamplesInAGene=Object(i.S)({await:function(){return[u.samples,u.sequencedSampleKeysByGene]},invoke:function(){var e=u.samples.result.length;return Promise.resolve(C.some(u.sequencedSampleKeysByGene.result,function(t){return t.length<e}))}}),this.sequencedPatientKeysByGene=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.sequencedSampleKeysByGene]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",C.mapValues(this.sequencedSampleKeysByGene.result,function(e){return C.chain(e).map(function(e){return t[e].uniquePatientKey}).uniq().value()}));case 2:case"end":return e.stop()}},e,this)}))}}),this.alteredSampleKeys=Object(i.S)({await:function(){return[u.samples,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result.samples;return Promise.resolve(u.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return e[t].length>0}))}}),this.alteredSamples=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.alteredSampleKeys]},invoke:function(){return Promise.resolve(u.alteredSampleKeys.result.map(function(e){return u.sampleKeyToSample.result[e]}))}},[]),this.alteredPatients=Object(i.S)({await:function(){return[u.patients,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result;return Promise.resolve(u.patients.result.filter(function(t){return!!e.patients[t.uniquePatientKey].length}))}}),this.alteredPatientKeys=Object(i.S)({await:function(){return[u.alteredPatients]},invoke:function(){return Promise.resolve(u.alteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredSampleKeys=Object(i.S)({await:function(){return[u.samples,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result;return Promise.resolve(u.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return!e.samples[t].length}))}}),this.unalteredSamples=Object(i.S)({await:function(){return[u.sampleKeyToSample,u.unalteredSampleKeys]},invoke:function(){var e=[];return u.unalteredSampleKeys.result.forEach(function(t){return e.push(u.sampleKeyToSample.result[t])}),Promise.resolve(e)}},[]),this.unalteredPatientKeys=Object(i.S)({await:function(){return[u.unalteredPatients]},invoke:function(){return Promise.resolve(u.unalteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredPatients=Object(i.S)({await:function(){return[u.patients,u.oqlFilteredCaseAggregatedData]},invoke:function(){var e=u.oqlFilteredCaseAggregatedData.result;return Promise.resolve(u.patients.result.filter(function(t){return!e.patients[t.uniquePatientKey].length}))}}),this.oqlFilteredAlterationsByGene=Object(i.S)({await:function(){return[u.genes,u.oqlFilteredAlterations]},invoke:function(){var e=C.groupBy(u.oqlFilteredAlterations.result,function(e){return e.gene.hugoGeneSymbol}),t=u.genes.result.reduce(function(t,n){return t[n.hugoGeneSymbol]=e[n.hugoGeneSymbol],t},{});return Promise.resolve(t)}}),this.defaultOQLQuery=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){var e=C.uniq(C.map(u.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType}));return Promise.resolve(function(e,t,n){for(var r={},o=0;o<e.length;o++)switch(e[o]){case"MUTATION_EXTENDED":r.MUT=!0,r.FUSION=!0;break;case"COPY_NUMBER_ALTERATION":r.AMP=!0,r.HOMDEL=!0;break;case"MRNA_EXPRESSION":r["EXP>="+t]=!0,r["EXP<=-"+t]=!0;break;case"PROTEIN_LEVEL":r["PROT>="+n]=!0,r["PROT<=-"+n]=!0}return Object.keys(r).join(" ")}(e,u.zScoreThreshold,u.rppaScoreThreshold))}}),this.survivalClinicalAttributesPrefix=Object(i.S)({await:function(){return[u.clinicalAttributes]},invoke:function(){return Promise.resolve(Object(h.V)(u.clinicalAttributes.result))}}),this.survivalClinicalDataExists=Object(i.S)({await:function(){return[u.samples,u.survivalClinicalAttributesPrefix]},invoke:function(){return Object(h.E)(u.samples.result,u.survivalClinicalAttributesPrefix.result)}}),this.samplesByDetailedCancerType=Object(i.S)({await:function(){return[u.samples,u.clinicalDataForSamples]},invoke:function(){var e=u.groupSamplesByCancerType(u.clinicalDataForSamples.result,u.samples.result,"CANCER_TYPE");return 1===C.size(e)&&(e=u.groupSamplesByCancerType(u.clinicalDataForSamples.result,u.samples.result,"CANCER_TYPE_DETAILED")),Promise.resolve(e)}}),this.samplesExtendedWithClinicalData=Object(i.S)({await:function(){return[u.samples,u.clinicalDataForSamples,u.studies]},invoke:function(){return Promise.resolve((e=u.samples.result,t=u.clinicalDataForSamples.result,n=u.studies.result,r=C.groupBy(t,function(e){return e.uniqueSampleKey}),o=e.map(function(e){var t=r[e.uniqueSampleKey];return t&&t.forEach(function(t){switch(t.clinicalAttributeId){case"CANCER_TYPE_DETAILED":e.cancerTypeDetailed=t.value;break;case"CANCER_TYPE":e.cancerType=t.value}}),e}),i=C.keyBy(n,function(e){return e.studyId}),o.forEach(function(e){if(!e.cancerType){var t=i[e.studyId];e.cancerType=t?t.cancerType.name:"Unknown"}e.cancerType&&!e.cancerTypeDetailed&&(e.cancerTypeDetailed=e.cancerType)}),o));var e,t,n,r,o,i}}),this.oqlFilteredAlterationsByGeneBySampleKey=Object(i.S)({await:function(){return[u.oqlFilteredAlterationsByGene,u.samples]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.mapValues(this.oqlFilteredAlterationsByGene.result,function(e){return C.groupBy(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.studyWithSamples=Object(i.S)({await:function(){return[u.samples,u.queriedStudies,u.queriedVirtualStudies]},invoke:function(){return Promise.resolve(Object(gt.L)(u.samples.result,u.queriedStudies.result,u.queriedVirtualStudies.result))},onError:function(e){},default:[]}),this.mutationProfiles=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaProfiles=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"COPY_NUMBER_ALTERATION"===e.molecularAlterationType&&"DISCRETE"===e.datatype}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.virtualStudyParams=Object(i.S)({await:function(){return[u.samples,u.studyIds,u.studyWithSamples,u.queriedVirtualStudies]},invoke:function(){return Promise.resolve({user:u.appStore.userName,name:1===u.queriedVirtualStudies.result.length?u.queriedVirtualStudies.result[0].data.name:void 0,description:1===u.queriedVirtualStudies.result.length?u.queriedVirtualStudies.result[0].data.description:void 0,studyWithSamples:u.studyWithSamples.result,selectedSamples:u.samples.result,filter:{studyIds:u.studyIds.result},attributesMetaSet:u.chartMetaSet})}}),this.givenSampleOrder=Object(i.S)({await:function(){return[u.samples,u.samplesSpecification]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.samplesSpecification.result.find(function(e){return!e.sampleId})){e.next=2;break}return e.abrupt("return",[]);case 2:return t=C.reduce(this.samplesSpecification.result,function(e,t,n){return e[t.studyId]=e[t.studyId]||{},e[t.studyId][t.sampleId]=n,e},{}),e.abrupt("return",C.sortBy(this.samples.result,function(e){return t[e.studyId][e.sampleId]}));case 4:case"end":return e.stop()}},e,this)}))}}),this.studyToSampleIds=Object(i.S)({await:function(){return[u.samplesSpecification]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a,u,s,l,c,f,p,d,m,y,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n={},o=!0,a=!1,u=void 0,e.prev=5,s=this.samplesSpecification.result[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)(c=l.value).sampleId?(n[c.studyId]=n[c.studyId]||{},n[c.studyId][c.sampleId]=!0):c.sampleListId&&t.push(c);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),a=!0,u=e.t0;case 13:e.prev=13,e.prev=14,o||null==s.return||s.return();case 16:if(e.prev=16,!a){e.next=19;break}throw u;case 19:return e.finish(16);case 20:return e.finish(13);case 21:if(!(t.length>0)){e.next=44;break}return e.next=24,r.a.fetchSampleListsUsingPOST({sampleListIds:t.map(function(e){return e.sampleListId}),projection:"DETAILED"});case 24:for(f=e.sent,p=!0,d=!1,m=void 0,e.prev=28,y=f[Symbol.iterator]();!(p=(h=y.next()).done);p=!0)v=h.value,n[v.studyId]=Object(i.Y)(v.sampleIds);e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),d=!0,m=e.t1;case 36:e.prev=36,e.prev=37,p||null==y.return||y.return();case 39:if(e.prev=39,!d){e.next=42;break}throw m;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",n);case 45:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20],[28,32,36,44],[37,,39,43]])}))}},{}),this.studyToSampleListId=Object(i.S)({await:function(){return[u.samplesSpecification]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.samplesSpecification.result.reduce(function(e,t){return t.sampleListId&&(e[t.studyId]=t.sampleListId),e},{}));case 1:case"end":return e.stop()}},e,this)}))}}),this.samplesSpecification=Object(i.S)({await:function(){return[u.queriedVirtualStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sampleListCategory){e.next=8;break}if(!(this.queriedVirtualStudies.result.length>0)){e.next=5;break}return e.abrupt("return",Object(ut.g)(this.samplesSpecificationParams,this.queriedVirtualStudies.result));case 5:return e.abrupt("return",this.samplesSpecificationParams);case 6:e.next=17;break;case 8:return t=[],t=this.queriedVirtualStudies.result.length>0?Object(ut.g)(this.samplesSpecificationParams,this.queriedVirtualStudies.result):this.samplesSpecificationParams,n=C.chain(t).map(function(e){return e.studyId}).uniq().value(),e.next=13,Promise.all(n.map(function(e){return r.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"SUMMARY"})}));case 13:return o=e.sent,i=jt[this.sampleListCategory],a=o.reduce(function(e,t){var n=C.find(t,function(e){return e.category===i});return n&&e.push({studyId:n.studyId,sampleListId:n.sampleListId,sampleId:void 0}),e},[]),e.abrupt("return",a);case 17:case"end":return e.stop()}},e,this)}))}}),this.studyToMutationMolecularProfile=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=u.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.studyId;!e[s]&&Object(h.Z)(a)&&(e[s]=a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}},{}),this.allStudies=Object(i.S)({invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getAllStudiesUsingGET({projection:"SUMMARY"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}},[]),this.everyStudyIdToStudy=Object(i.S)({await:function(){return[u.allStudies]},invoke:function(){return Promise.resolve(C.keyBy(u.allStudies.result,function(e){return e.studyId}))}}),this.queriedVirtualStudies=Object(i.S)({await:function(){return[u.allStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u,s,l,c,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.allStudies.result,n=this.cancerStudyIds,r=C.differenceWith(n,t,function(e,t){return e===t.studyId}),o=[],i=!0,a=!1,u=void 0,e.prev=7,s=r[Symbol.iterator]();case 9:if(i=(l=s.next()).done){e.next=24;break}return c=l.value,e.prev=11,e.next=14,mt.a.getVirtualStudy(c);case 14:f=e.sent,o=o.concat(f),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("continue",21);case 21:i=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(7),a=!0,u=e.t1;case 30:e.prev=30,e.prev=31,i||null==s.return||s.return();case 33:if(e.prev=33,!a){e.next=36;break}throw u;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",Promise.resolve(o));case 39:case"end":return e.stop()}},e,this,[[7,26,30,38],[11,18],[31,,33,37]])}))},onError:function(){}},[]),this.studyIds=Object(i.S)({await:function(){return[u.queriedVirtualStudies]},invoke:function(){var e;return e=u.queriedVirtualStudies.result.length>0?Object(ut.h)(u.cancerStudyIds,u.queriedVirtualStudies.result):u.cancerStudyIds.slice(),Promise.resolve(e)}},[]),this.invalidStudyIds=Object(i.S)({await:function(){return[u.allStudies,u.queriedVirtualStudies]},invoke:function(){var e=u.allStudies.result,t=u.cancerStudyIds,n=C.differenceWith(t,e,function(e,t){return e===t.studyId});return n.length&&0===u.queriedVirtualStudies.result.length?Promise.resolve(n):Promise.resolve([])}},[]),this.sampleLists=Object(i.S)({await:function(){return[u.studyToSampleListId]},invoke:function(){var e=C.values(u.studyToSampleListId.result);return e.length>0?r.a.fetchSampleListsUsingPOST({sampleListIds:e}):Promise.resolve([])}}),this.mutations=Object(i.S)({await:function(){return[u.genes,u.selectedMolecularProfiles,u.samples,u.studyIdToStudy]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=C.filter(this.selectedMolecularProfiles.result,function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType})).length){e.next=3;break}return e.abrupt("return",[]);case 3:return n=C.keyBy(t,function(e){return e.studyId}),o=this.samples.result.reduce(function(e,t){return t.studyId in n&&e.push({molecularProfileId:n[t.studyId].molecularProfileId,sampleId:t.sampleId}),e},[]),i={entrezGeneIds:C.map(this.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:o},e.next=8,r.a.fetchMutationsInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",mutationMultipleStudyFilter:i});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}))}}),this.mutationsTabFilteringSettings=this.makeMutationsTabFilteringSettings(),this.mutationsReportByGene=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMutationsReport,u.genes]},invoke:function(){var e=u._filteredAndAnnotatedMutationsReport.result,t={},n=!0,r=!1,o=void 0;try{for(var i,a=u.genes.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){t[i.value.hugoGeneSymbol]={data:[],vus:[],germline:[],vusAndGermline:[]}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s=!0,l=!1,c=void 0;try{for(var f,p=e.data[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;t[d.gene.hugoGeneSymbol].data.push(d)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}var m=!0,y=!1,h=void 0;try{for(var v,g=e.vus[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){var b=v.value;t[b.gene.hugoGeneSymbol].vus.push(b)}}catch(e){y=!0,h=e}finally{try{m||null==g.return||g.return()}finally{if(y)throw h}}var S=!0,P=!1,I=void 0;try{for(var _,O=e.germline[Symbol.iterator]();!(S=(_=O.next()).done);S=!0){var T=_.value;t[T.gene.hugoGeneSymbol].germline.push(T)}}catch(e){P=!0,I=e}finally{try{S||null==O.return||O.return()}finally{if(P)throw I}}var E=!0,w=!1,A=void 0;try{for(var C,M=e.vusAndGermline[Symbol.iterator]();!(E=(C=M.next()).done);E=!0){var k=C.value;t[k.gene.hugoGeneSymbol].vusAndGermline.push(k)}}catch(e){w=!0,A=e}finally{try{E||null==M.return||M.return()}finally{if(w)throw A}}return Promise.resolve(t)}}),this.mutationsByGene=Object(i.S)({await:function(){return[u.selectedMolecularProfiles,u.defaultOQLQuery,u.mutationsReportByGene]},invoke:function(){return Promise.resolve(C.mapValues(u.mutationsReportByGene.result,function(e){return u.mutationsTabFilteringSettings.useOql&&u.queryContainsMutationOql&&(e=C.mapValues(e,function(e){return Object(U.c)(u.oqlText,e,new K.b(u.selectedMolecularProfiles.result),u.defaultOQLQuery.result)})),Object($e.e)(e,u.mutationsTabFilteringSettings.excludeVus,u.mutationsTabFilteringSettings.excludeGermline)}))}}),this.mutationMapperStores=Object(i.S)({await:function(){return[u.genes,u.oncoKbCancerGenes,u.uniqueSampleKeyToTumorType,u.mutations,u.mutationsByGene]},invoke:function(){return u.genes.result?Promise.resolve(C.reduce(u.genes.result,function(e,t){return e[t.hugoGeneSymbol]=new w(A.b.serverConfig,{},t,u.samples,u.oncoKbCancerGenes,function(){return u.mutationsByGene.result[t.hugoGeneSymbol]||[]},function(){return u.mutationCountCache},function(){return u.genomeNexusCache},function(){return u.genomeNexusMutationAssessorCache},function(){return u.discreteCNACache},u.studyToMolecularProfileDiscreteCna.result,u.studyIdToStudy,u.molecularProfileIdToMolecularProfile,u.clinicalDataForSamples,u.studiesForSamplesWithoutCancerTypeClinicalData,u.germlineConsentedSamples,u.indexedHotspotData,u.indexedVariantAnnotations,u.uniqueSampleKeyToTumorType.result,u.generateGenomeNexusHgvsgUrl,u.genomeNexusClient,u.genomeNexusInternalClient),e},{})):Promise.resolve({})}},{}),this.oncoKbCancerGenes=Object(i.S)({invoke:function(){return A.b.serverConfig.show_oncokb?Object(h.x)():Promise.resolve([])}},[]),this.oncoKbAnnotatedGenes=Object(i.S)({await:function(){return[u.oncoKbCancerGenes]},invoke:function(){return A.b.serverConfig.show_oncokb?Promise.resolve(C.reduce(u.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{}),this.clinicalDataForSamples=Object(i.S)({await:function(){return[u.studies,u.samples]},invoke:function(){return u.getClinicalData("SAMPLE",u.studies.result,u.samples.result,["CANCER_TYPE","CANCER_TYPE_DETAILED"])}},[]),this.germlineConsentedSamples=Object(i.S)({await:function(){return[u.studyIds,u.samples]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.r)(this.studyIds,A.b.serverConfig.studiesWithGermlineConsentedSamples);case 2:return t=e.sent,n=this.samples.result?this.samples.result.map(function(e){return e.sampleId}):[],e.abrupt("return",t.filter(function(e){return n.includes(e.sampleId)}));case 5:case"end":return e.stop()}},e,this)}))},onError:function(){}},[]),this.samples=Object(i.S)({await:function(){return[u.studyToDataQueryFilter]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],C.each(this.studyToDataQueryFilter.result,function(e,r){e.sampleIds?t=t.concat(e.sampleIds.map(function(e){return{sampleId:e,studyId:r}})):e.sampleListId&&n.push(e.sampleListId)}),o=[],t.length&&o.push(r.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:t},projection:"DETAILED"})),n.length&&o.push(r.a.fetchSamplesUsingPOST({sampleFilter:{sampleListIds:n},projection:"DETAILED"})),e.t0=C,e.next=9,Promise.all(o);case 9:return e.t1=e.sent,e.abrupt("return",e.t0.flatten.call(e.t0,e.t1));case 11:case"end":return e.stop()}},e,this)}))}},[]),this.sampleSet=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Promise.resolve(Pt.a.from(u.samples.result.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})))}}),this.sampleKeyToSample=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Promise.resolve(C.keyBy(u.samples.result,function(e){return e.uniqueSampleKey}))}}),this.patientKeyToPatient=Object(i.S)({await:function(){return[u.patients]},invoke:function(){return Promise.resolve(C.keyBy(u.patients.result,function(e){return e.uniquePatientKey}))}}),this.patientKeyToSamples=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Promise.resolve(C.groupBy(u.samples.result,function(e){return e.uniquePatientKey}))}}),this.patients=Object(i.S)({await:function(){return[u.samples]},invoke:function(){return Object($e.j)(u.samples.result)},default:[]}),this.samplesWithoutCancerTypeClinicalData=Object(i.S)({await:function(){return[u.samples,u.clinicalDataForSamples]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=u.clinicalDataForSamples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[Object(k.a)(a.studyId,a.sampleId)]=!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(u.samples.result.filter(function(t){return!e[Object(k.a)(t.studyId,t.sampleId)]}))}},[]),this.studiesForSamplesWithoutCancerTypeClinicalData=Object(i.S)({await:function(){return[u.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(h.D)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studies=Object(i.S)({await:function(){return[u.studyIds]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.fetchStudiesUsingPOST({studyIds:this.studyIds.result,projection:"DETAILED"}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.queriedStudies=Object(i.S)({await:function(){return[u.everyStudyIdToStudy,u.queriedVirtualStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.isEmpty(this.cancerStudyIds)){e.next=4;break}return e.abrupt("return",Object($e.k)(this.everyStudyIdToStudy.result,this.cancerStudyIds,this.queriedVirtualStudies.result?this.queriedVirtualStudies.result:[]));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.studyIdToStudy=Object(i.S)({await:function(){return[u.studies]},invoke:function(){return Promise.resolve(C.keyBy(u.studies.result,function(e){return e.studyId}))}},{}),this.molecularProfilesInStudies=Object(i.S)({await:function(){return[u.studyIds]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.studyIds.result}}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.nonSelectedDownloadableMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.selectedMolecularProfiles]},invoke:function(){return Promise.resolve(Object($e.i)(C.difference(u.molecularProfilesInStudies.result,u.selectedMolecularProfiles.result)))}},[]),this.molecularProfileIdToMolecularProfile=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(u.molecularProfilesInStudies.result.reduce(function(e,t){return e[t.molecularProfileId]=t,e},{}))}},{}),this.nonSelectedDownloadableMolecularProfilesGroupByName=Object(i.S)({await:function(){return[u.nonSelectedDownloadableMolecularProfiles]},invoke:function(){var e=C.sortBy(u.nonSelectedDownloadableMolecularProfiles.result,function(e){return Object(bt.a)(e.molecularAlterationType)});return Promise.resolve(C.groupBy(e,function(e){return e.name}))}},{}),this.studyToMolecularProfileDiscreteCna=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=!0,r=!1,o=void 0,e.prev=4,i=this.molecularProfilesInStudies.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)(u=a.value).datatype===Dt.DISCRETE&&u.molecularAlterationType===Nt.COPY_NUMBER_ALTERATION&&(t[u.studyId]=u);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,n||null==i.return||i.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{}),this.heatmapMolecularProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.selectedMolecularProfiles,u.genesetMolecularProfile]},invoke:function(){var e=Nt.MRNA_EXPRESSION,t=Nt.PROTEIN_LEVEL,n=Nt.METHYLATION,r=Nt.GENERIC_ASSAY,o=Object(i.Y)(u.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId})),a=C.sortBy(C.filter(u.molecularProfilesInStudies.result,function(o){return(o.molecularAlterationType===e||o.molecularAlterationType===t||o.molecularAlterationType===r)&&o.showProfileInAnalysisTab||o.molecularAlterationType===n}),function(i){if(i.molecularProfileId in o)switch(i.molecularAlterationType){case e:return 0;case t:return 1;case n:return 2;case r:return 3}else switch(i.molecularAlterationType){case e:return 4;case t:return 5;case n:return 6;case r:return 7}}),s=u.genesetMolecularProfile.result,l=s.isApplicable?[s.value]:[];return Promise.resolve(a.concat(l))}}),this.genesetMolecularProfile=Object(i.S)({await:function(){return[u.selectedMolecularProfiles]},invoke:function(){var e=C.filter(u.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType===Nt.GENESET_SCORE&&e.showProfileInAnalysisTab});if(e.length>1)return Promise.reject(new Error("Queried more than one gene set score profile"));var t=e.pop(),n=t?{isApplicable:!0,value:t}:{isApplicable:!1};return Promise.resolve(n)}}),this.studyToDataQueryFilter=Object(i.S)({await:function(){return[u.studyToSampleIds,u.studyIds,u.studyToSampleListId]},invoke:function(){var e=u.studyIds.result,t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[s]=Object(h.M)(u.studyToSampleListId.result[s]||null,Object.keys(u.studyToSampleIds.result[s]||{}))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Promise.resolve(t)}},{}),this.molecularProfileIdToDataQueryFilter=Object(i.S)({await:function(){return[u.molecularProfilesInStudies,u.studyToDataQueryFilter]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=u.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[a.molecularProfileId]=u.studyToDataQueryFilter.result[a.studyId]}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)},default:{}}),this.genes=Object(i.S)({invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.q)(this.hugoGeneSymbols);case 2:if(t=e.sent,!C.isEqual(C.sortBy(this.hugoGeneSymbols),C.sortBy(t.map(function(e){return e.hugoGeneSymbol})))){e.next=7;break}return e.abrupt("return",t);case 7:throw new Error(at.InvalidGenes);case 8:case"end":return e.stop()}},e,this)}))},onResult:function(e){u.geneCache.addData(e)},onError:function(e){throw e}}),this.referenceGenes=Object(i.S)({await:function(){return[u.studies]},invoke:function(){return u.studies.result.length>0?Object(h.e)(u.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(i.S)({await:function(){return[u.referenceGenes]},invoke:function(){return Promise.resolve(C.keyBy(u.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.entrezGeneIdToReferenceGene=Object(i.S)({await:function(){return[u.referenceGenes]},invoke:function(){return Promise.resolve(C.keyBy(u.referenceGenes.result,function(e){return e.entrezGeneId}))}}),this.genesets=Object(i.S)({invoke:function(){return u.genesetIds&&u.genesetIds.length>0?$.a.fetchGenesetsUsingPOST({genesetIds:u.genesetIds.slice()}):Promise.resolve([])},onResult:function(e){u.genesetCache.addData(e)}}),this.geneticEntities=Object(i.S)({await:function(){return[u.genes,u.genesets,u.hugoGeneSymbolToReferenceGene]},invoke:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=u.genes.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push({geneticEntityName:a.hugoGeneSymbol,geneticEntityType:Mt.GENE,geneticEntityId:a.entrezGeneId,cytoband:u.hugoGeneSymbolToReferenceGene.result[a.hugoGeneSymbol].cytoband,geneticEntityData:a})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,l=!1,c=void 0;try{for(var f,p=u.genesets.result[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;e.push({geneticEntityName:d.name,geneticEntityType:Mt.GENESET,geneticEntityId:d.genesetId,cytoband:"-",geneticEntityData:d})}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return Promise.resolve(e)}}),this.genericAssayEntitiesGroupByGenericAssayType=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.c)(this.molecularProfilesInStudies.result);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}),this.genericAssayEntitiesGroupByMolecularProfileId=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.d)(this.molecularProfilesInStudies.result);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}),this.selectedGenericAssayEntitiesGroupByGenericAssayType=Object(i.S)({await:function(){return[u.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return Promise.resolve(C.mapValues(u.genericAssayEntitiesGroupByGenericAssayType.result,function(e,t){var n=u.selectedGenericAssayEntities[t];return e.filter(function(e){return n.includes(e.stableId)})}))}}),this.entrezGeneIdToGene=Object(i.S)({await:function(){return[u.genes]},invoke:function(){return Promise.resolve(C.keyBy(u.genes.result,function(e){return e.entrezGeneId}))}}),this.genesetLinkMap=Object(i.S)({invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.genesetIds||!this.genesetIds.length){e.next=9;break}return e.next=3,$.a.fetchGenesetsUsingPOST({genesetIds:this.genesetIds.slice()});case 3:return t=e.sent,n={},t.forEach(function(e){var t=e.genesetId,r=e.refLink;n[t]=r}),e.abrupt("return",n);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,this)}))}}),this.genericAssayEntitiesGroupByGenericAssayTypeLinkMap=Object(i.S)({await:function(){return[u.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.isEmpty(this.genericAssayEntitiesGroupByGenericAssayType.result)){e.next=4;break}return e.abrupt("return",C.mapValues(this.genericAssayEntitiesGroupByGenericAssayType.result,function(e){var t={};return e.forEach(function(e){t[e.stableId]="URL"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.URL:""}),t}));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))}}),this.customDriverAnnotationReport=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){return Promise.resolve(Object($e.f)(u.mutations.result))},onResult:function(e){Object($e.t)(e,u.driverAnnotationSettings,u.driverAnnotationSettings.customTiersDefault,u.driverAnnotationSettings.oncoKb,u.driverAnnotationSettings.hotspots)}}),this._filteredAndAnnotatedMutationsReport=Object(i.S)({await:function(){return[u.mutations,u.getPutativeDriverInfo,u.entrezGeneIdToGene]},invoke:function(){return Promise.resolve(Object($e.l)(u.mutations.result,u.getPutativeDriverInfo.result,u.entrezGeneIdToGene.result))}}),this.filteredAndAnnotatedMutations=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMutationsReport]},invoke:function(){return Promise.resolve(Object($e.e)(u._filteredAndAnnotatedMutationsReport.result,u.driverAnnotationSettings.excludeVUS,u.excludeGermlineMutations))}}),this.annotatedMutationCache=new et.a(function(e){return{await:function(){return[u.mutationCache.get(e),u.getPutativeDriverInfo,u.entrezGeneIdToGene]},invoke:function(){var t=Object($e.l)(u.mutationCache.get(e).result,u.getPutativeDriverInfo.result,u.entrezGeneIdToGene.result),n=t.data.concat(t.vus).concat(t.germline);return Promise.resolve(n)}}}),this._filteredAndAnnotatedMolecularDataReport=Object(i.S)({await:function(){return[u.molecularData,u.entrezGeneIdToGene,u.getOncoKbCnaAnnotationForOncoprint,u.molecularProfileIdToMolecularProfile]},invoke:function(){var e,t=u.entrezGeneIdToGene.result;e=u.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:u.getOncoKbCnaAnnotationForOncoprint.result;var n=u.molecularProfileIdToMolecularProfile.result,r=[],o=u.molecularData.result.reduce(function(o,i){var a=Object($e.c)(i,e,n,t);return a.oncoKbOncogenic?o.push(a):r.push(a),o},[]);return Promise.resolve({data:o,vus:r})}}),this.filteredAndAnnotatedMolecularData=Object(i.S)({await:function(){return[u._filteredAndAnnotatedMolecularDataReport]},invoke:function(){var e=u._filteredAndAnnotatedMolecularDataReport.result.data;return u.driverAnnotationSettings.excludeVUS||(e=e.concat(u._filteredAndAnnotatedMolecularDataReport.result.vus)),Promise.resolve(e)}}),this.annotatedCnaCache=new et.a(function(e){return{await:function(){return u.numericGeneMolecularDataCache.await([u.studyToMolecularProfileDiscreteCna,u.entrezGeneIdToGene,u.getOncoKbCnaAnnotationForOncoprint,u.molecularProfileIdToMolecularProfile],function(t){return C.values(t).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})})},invoke:function(){var t,n=C.flatten(u.numericGeneMolecularDataCache.getAll(C.values(u.studyToMolecularProfileDiscreteCna.result).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})).map(function(e){return e.result})),r=u.entrezGeneIdToGene.result;t=u.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:u.getOncoKbCnaAnnotationForOncoprint.result;var o=u.molecularProfileIdToMolecularProfile.result;return Promise.resolve(n.map(function(e){return Object($e.c)(e,t,o,r)}))}}}),this.getPutativeDriverInfo=Object(i.S)({await:function(){var e=[];return u.driverAnnotationSettings.oncoKb&&e.push(u.getOncoKbMutationAnnotationForOncoprint),u.driverAnnotationSettings.hotspots&&e.push(u.isHotspotForOncoprint),u.driverAnnotationSettings.cbioportalCount&&e.push(u.getCBioportalCount),u.driverAnnotationSettings.cosmicCount&&e.push(u.getCosmicCount),e},invoke:function(){return Promise.resolve(function(e){var t=u.getOncoKbMutationAnnotationForOncoprint.result,n=u.driverAnnotationSettings.oncoKb&&t&&!(t instanceof Error)&&t(e),r="";return n&&(r=Object($e.p)(n)),{oncoKb:r,hotspots:u.driverAnnotationSettings.hotspots&&!(u.isHotspotForOncoprint.result instanceof Error)&&u.isHotspotForOncoprint.result(e),cbioportalCount:u.driverAnnotationSettings.cbioportalCount&&u.getCBioportalCount.isComplete&&u.getCBioportalCount.result(e)>=u.driverAnnotationSettings.cbioportalCountThreshold,cosmicCount:u.driverAnnotationSettings.cosmicCount&&u.getCosmicCount.isComplete&&u.getCosmicCount.result(e)>=u.driverAnnotationSettings.cosmicCountThreshold,customDriverBinary:u.driverAnnotationSettings.customBinary&&"Putative_Driver"===e.driverFilter||!1,customDriverTier:e.driverTiersFilter&&u.driverAnnotationSettings.driverTiers.get(e.driverTiersFilter)?e.driverTiersFilter:void 0}})}}),this.indexedVariantAnnotations=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutations.result){e.next=6;break}return e.next=3,Object(h.G)(this.mutations.result,["annotation_summary","hotspots"],A.b.serverConfig.isoformOverrideSource,this.genomeNexusClient);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.hotspotData=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){return Object(g.a)(u.mutations,void 0,u.genomeNexusInternalClient)}}),this.indexedHotspotData=Object(i.S)({await:function(){return[u.hotspotData]},invoke:function(){return Promise.resolve(Object(v.W)(u.hotspotData))}}),this.isHotspotForOncoprint=Object(i.S)({invoke:function(){if(u.indexedHotspotData.isComplete){var e=u.indexedHotspotData.result;return e?Promise.resolve(function(t){return Object(lt.a)(t,e)}):Promise.resolve(function(e){return!1})}return u.indexedHotspotData.isError?Promise.resolve(new Error):new Promise(function(){})}}),this.uniqueSampleKeyToTumorType=Object(i.S)({await:function(){return[u.clinicalDataForSamples,u.studiesForSamplesWithoutCancerTypeClinicalData,u.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Promise.resolve(Object(h.O)(u.clinicalDataForSamples,u.studiesForSamplesWithoutCancerTypeClinicalData,u.samplesWithoutCancerTypeClinicalData))}}),this.oncoKbDataForOncoprint=Object(i.S)({await:function(){return[u.mutations,u.oncoKbAnnotatedGenes]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!A.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(h.y)({},this.oncoKbAnnotatedGenes.result,this.mutations,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",h.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))},onError:function(e){}},h.b),this.cnaOncoKbDataForOncoprint=Object(i.S)({await:function(){return[u.uniqueSampleKeyToTumorType,u.oncoKbAnnotatedGenes,u.molecularData,u.molecularProfileIdToMolecularProfile]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!A.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(h.i)({},this.oncoKbAnnotatedGenes.result,this.molecularData,this.molecularProfileIdToMolecularProfile.result,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",h.b);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))}},h.b),this.getOncoKbMutationAnnotationForOncoprint=Object(i.S)({await:function(){return[u.oncoKbDataForOncoprint]},invoke:function(){var e=u.oncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){var n=Object(i.A)(t.entrezGeneId,Object(h.c)(t.uniqueSampleKey,{}),t.proteinChange,t.mutationType);return e.indicatorMap[n]})}}),this.getOncoKbCnaAnnotationForOncoprint=Object(i.S)({await:function(){return[u.cnaOncoKbDataForOncoprint]},invoke:function(){var e=u.cnaOncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){if(u.driverAnnotationSettings.oncoKb){var n=Object(i.A)(t.entrezGeneId,Object(h.c)(t.uniqueSampleKey,{}),Object(We.a)(t.value));return e.indicatorMap[n]}})}}),this.cbioportalMutationCountData=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){var e=C.values(Object(Je.a)(u.mutations.result));return e.length>0?r.a.fetchMutationCountsByPositionUsingPOST({mutationPositionIdentifiers:e}):Promise.resolve([])}}),this.getCBioportalCount=Object(i.S)({await:function(){return[u.cbioportalMutationCountData]},invoke:function(){var e=C.groupBy(u.cbioportalMutationCountData.result,function(e){return Object(Je.b)(e)});return Promise.resolve(function(t){var n=Object(Je.b)(t),r=e[n];return r?r.reduce(function(e,t){return e+t.count},0):-1})}}),this.cosmicCountData=Object(i.S)({await:function(){return[u.mutations]},invoke:function(){var e=C.uniq(u.mutations.result.filter(function(e){return!!e.keyword}).map(function(e){return e.keyword}));return e.length>0?$.a.fetchCosmicCountsUsingPOST({keywords:e}):Promise.resolve([])}}),this.getCosmicCount=Object(i.S)({await:function(){return[u.cosmicCountData]},invoke:function(){var e=C.groupBy(u.cosmicCountData.result,function(e){return e.keyword});return Promise.resolve(function(t){var n=t.keyword,r=e[n],o=Object(a.k)(t.proteinChange);if(r&&o){var i=o.start;return r.reduce(function(e,t){var n=Object(a.k)(t.proteinChange);return n&&n.start===i?e+t.count:e},0)}return-1})}}),this.molecularProfileIdToProfiledSamples=Object(i.S)({await:function(){return[u.samples,u.coverageInformation,u.molecularProfilesInStudies]},invoke:function(){var e={},t=u.molecularProfilesInStudies.result.map(function(e){return e.molecularProfileId}),n=u.coverageInformation.result,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){e[a.value]=[]}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var l=[],c=!0,f=!1,p=void 0;try{for(var d,m=u.samples.result[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var y=d.value;l=Object(tt.b)(y.uniqueSampleKey,t,n);for(var h=0;h<t.length;h++)l[h]&&e[t[h]].push(y)}}catch(e){f=!0,p=e}finally{try{c||null==m.return||m.return()}finally{if(f)throw p}}return Promise.resolve(e)}}),this.geneMolecularDataCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new J(u.molecularProfileIdToDataQueryFilter.result))}}),this.expressionProfiles=Object(i.S)({await:function(){return[u.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(u.molecularProfilesInStudies.result.filter(function(e){return Object($e.v)(e.molecularProfileId)}))}},[]),this.genesetMolecularDataCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new le(u.molecularProfileIdToDataQueryFilter.result))}}),this.numericGenesetMolecularDataCache=new et.a(function(e){return{await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=u.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t?$.a.fetchGeneticDataItemsUsingPOST({geneticProfileId:e.molecularProfileId,genesetDataFilterCriteria:Object.assign({genesetIds:[e.genesetId]},t)}):Promise.resolve([])}}}),this.genesetCorrelatedGeneCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new ve(u.molecularProfileIdToDataQueryFilter.result))}}),this.genericAssayMolecularDataCache=Object(i.S)({await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new Ce(u.molecularProfileIdToDataQueryFilter.result))}}),this.geneCache=new Ge,this.genesetCache=new ze,this.numericGeneMolecularDataCache=new et.a(function(e){return{await:function(){return[u.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=u.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t&&(t.sampleIds&&t.sampleIds.length||t.sampleListId)?r.a.fetchAllMolecularDataInMolecularProfileUsingPOST({molecularProfileId:e.molecularProfileId,molecularDataFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},t)}):Promise.resolve([])}}}),this.clinicalDataCache=new nt.g(this.samples,this.patients,this.studyToMutationMolecularProfile,this.studyIdToStudy,this.coverageInformation),this.mutationCache=new et.a(function(e){return{await:function(){return[u.studyToMutationMolecularProfile,u.studyToDataQueryFilter]},invoke:function(){return Rt(u,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=C,t.next=3,Promise.all(Object.keys(this.studyToMutationMolecularProfile.result).map(function(t){var o=n.studyToMutationMolecularProfile.result[t].molecularProfileId,i=n.studyToDataQueryFilter.result[t];return i&&o?r.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:o,mutationFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},i),projection:"DETAILED"}):Promise.resolve([])}));case 3:return t.t1=t.sent,t.abrupt("return",t.t0.flatten.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t,this)}))}}}),Object(s.labelMobxPromises)(this),this.urlWrapper=n,this.getURL();var l=this;this.driverAnnotationSettings=Object(o.observable)({cbioportalCount:!1,cbioportalCountThreshold:0,cosmicCount:!1,cosmicCountThreshold:0,driverTiers:o.observable.map(),_customBinary:void 0,_hotspots:!1,_oncoKb:!1,_excludeVUS:!1,set hotspots(e){this._hotspots=e},get hotspots(){return!!A.b.serverConfig.show_hotspot&&this._hotspots&&!l.didHotspotFailInOncoprint},set oncoKb(e){this._oncoKb=e},get oncoKb(){return A.b.serverConfig.show_oncokb&&this._oncoKb&&!l.didOncoKbFailInOncoprint},set excludeVUS(e){this._excludeVUS=e},get excludeVUS(){return this._excludeVUS&&this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.hotspots||this.cbioportalCount||this.cosmicCount||this.customBinary||this.driverTiers.entries().reduce(function(e,t){return e||t[1]},!1)},get customBinary(){return void 0===this._customBinary?A.b.serverConfig.oncoprint_custom_driver_annotation_binary_default:this._customBinary},get customTiersDefault(){return A.b.serverConfig.oncoprint_custom_driver_annotation_tiers_default}}),this.driverAnnotationsReactionDisposer=Object(o.reaction)(function(){return u.urlWrapper.query.cancer_study_list},function(){u.initDriverAnnotationSettings()},{fireImmediately:!0})}var t,n,b;return t=e,(n=[{key:"destroy",value:function(){this.driverAnnotationsReactionDisposer()}},{key:"setOncoprintAnalysisCaseType",value:function(e){this.urlWrapper.updateURL({show_samples:(e===$e.b.SAMPLE).toString()})}},{key:"setExcludeGermlineMutations",value:function(e){this.urlWrapper.updateURL({exclude_germline_mutations:e.toString()})}},{key:"initDriverAnnotationSettings",value:function(){this.driverAnnotationSettings.cbioportalCount=!1,this.driverAnnotationSettings.cbioportalCountThreshold=10,this.driverAnnotationSettings.cosmicCount=!1,this.driverAnnotationSettings.cosmicCountThreshold=10,this.driverAnnotationSettings.driverTiers=o.observable.map(),this.driverAnnotationSettings._oncoKb=!!A.b.serverConfig.oncoprint_oncokb_default,this.driverAnnotationSettings.hotspots=!!A.b.serverConfig.oncoprint_hotspots_default,this.driverAnnotationSettings._excludeVUS=!!A.b.serverConfig.oncoprint_hide_vus_default}},{key:"makeMutationsTabFilteringSettings",value:function(){var e=this,t=o.observable.box(void 0),n=o.observable.box(void 0);return Object(o.observable)({useOql:!0,get excludeVus(){return void 0===t.get()?e.driverAnnotationSettings.excludeVUS:t.get()},get excludeGermline(){return void 0===n.get()?e.excludeGermlineMutations:n.get()},set excludeVus(e){t.set(e)},set excludeGermline(e){n.set(e)}})}},{key:"getURL",value:function(){var e=window.location.href;if(e.includes("session_id")){var t=e.indexOf("&show");t>-1&&(this.sessionIdURL=e.slice(0,t))}}},{key:"groupSamplesByCancerType",value:function(e,t,n){var r=C.reduce(e,function(e,t){return t.clinicalAttributeId===n&&(e[t.uniqueSampleKey]=t.value),"CANCER_TYPE"===n&&(e[t.uniqueSampleKey]||"CANCER_TYPE_DETAILED"!==t.clinicalAttributeId||(e[t.uniqueSampleKey]=t.value)),e},{});return C.reduce(t,function(e,t){return t.uniqueSampleKey in r&&(e[r[t.uniqueSampleKey]]=e[r[t.uniqueSampleKey]]||[],e[r[t.uniqueSampleKey]].push(t)),e},{})}},{key:"getMutationMapperStore",value:function(e){return this.mutationMapperStores.result[e]}},{key:"getClinicalData",value:function(e,t,n,o){if(1===t.length){var i=this.studies.result[0],a={attributeIds:o,ids:C.map(n,"SAMPLE"===e?"sampleId":"patientId")};return r.a.fetchAllClinicalDataInStudyUsingPOST({studyId:i.studyId,clinicalDataSingleStudyFilter:a,clinicalDataType:e})}var u={attributeIds:o,identifiers:n.map(function(t){return"SAMPLE"===e?{entityId:t.sampleId,studyId:t.studyId}:{entityId:t.patientId,studyId:t.studyId}})};return r.a.fetchClinicalDataUsingPOST({clinicalDataType:e,clinicalDataMultiStudyFilter:u})}},{key:"generateGenomeNexusHgvsgUrl",value:function(e){return Object(_t.q)(e,this.referenceGenomeBuild)}},{key:"sortRnaSeqMolecularDataByStudy",value:function(e){return C.keyBy(e,function(e){return e[0].studyId})}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"oqlText",get:function(){return this.urlWrapper.query.gene_list}},{key:"genesetIds",get:function(){return this.urlWrapper.query.geneset_list&&this.urlWrapper.query.geneset_list.trim().length?this.urlWrapper.query.geneset_list.trim().split(/\s+/):[]}},{key:"selectedGenericAssayEntities",get:function(){return Object($e.y)(this.urlWrapper.query.generic_assay_groups)}},{key:"cancerStudyIds",get:function(){return this.urlWrapper.query.cancer_study_list.split(",")}},{key:"rppaScoreThreshold",get:function(){return this.urlWrapper.query.RPPA_SCORE_THRESHOLD?parseFloat(this.urlWrapper.query.RPPA_SCORE_THRESHOLD):2}},{key:"zScoreThreshold",get:function(){return this.urlWrapper.query.Z_SCORE_THRESHOLD?parseFloat(this.urlWrapper.query.Z_SCORE_THRESHOLD):2}},{key:"selectedMolecularProfileIds",get:function(){return Object($e.n)(this.urlWrapper.query)}},{key:"tabId",get:function(){return this.urlWrapper.tabId||ut.b.ONCOPRINT}},{key:"profileFilter",get:function(){return this.urlWrapper.query.profileFilter?parseInt(this.urlWrapper.query.profileFilter,10):0}},{key:"doNonSelectedDownloadableMolecularProfilesExist",get:function(){return this.nonSelectedDownloadableMolecularProfilesGroupByName.result&&C.keys(this.nonSelectedDownloadableMolecularProfilesGroupByName.result).length>0}},{key:"excludeGermlineMutations",get:function(){return"true"===this.urlWrapper.query.exclude_germline_mutations}},{key:"hugoGeneSymbols",get:function(){return this.urlWrapper.query.gene_list.length>0?Object(U.i)(this.urlWrapper.query.gene_list):[]}},{key:"queryContainsOql",get:function(){return Object(U.b)(this.urlWrapper.query.gene_list)}},{key:"queryContainsMutationOql",get:function(){return Object(U.a)(this.urlWrapper.query.gene_list)}},{key:"sampleListCategory",get:function(){return this.urlWrapper.query.case_set_id&&[Ct.w_mut,Ct.w_cna,Ct.w_mut_cna].includes(this.urlWrapper.query.case_set_id)?this.urlWrapper.query.case_set_id:void 0}},{key:"comparisonGroupsReferencedInURL",get:function(){var e=this.urlWrapper.query.clinicallist;return e?e.split(",").filter(function(e){return Object(nt.d)({clinicalAttributeId:e})}).map(function(e){return Object(ft.b)(e,!1)}):[]}},{key:"physicalStudySet",get:function(){return C.keyBy(this.studies.result,function(e){return e.studyId})}},{key:"chartMetaSet",get:function(){var e,t={};if(C.reduce(this.clinicalAttributes.result,function(e,t){var n=Object(gt.fb)(t);return e[n]={displayName:t.displayName,uniqueKey:n,dataType:Object(gt.A)(n),patientAttribute:t.patientAttribute,description:t.description,priority:Object(gt.Z)(t),renderWhenDataChange:!1,clinicalAttribute:t},e},t),!C.isEmpty(this.mutationProfiles.result)){var n=Object(gt.gb)(this.mutationProfiles.result.map(function(e){return e.molecularProfileId}));t[n]={uniqueKey:n,dataType:gt.a.GENOMIC,patientAttribute:!1,displayName:"Mutated Genes",priority:Object(gt.I)(St.a.MUTATED_GENES_TABLE),renderWhenDataChange:!1,description:""}}if(!C.isEmpty(this.cnaProfiles.result)){var r=Object(gt.gb)(this.cnaProfiles.result.map(function(e){return e.molecularProfileId}));t[r]={uniqueKey:r,dataType:gt.a.GENOMIC,patientAttribute:!1,displayName:"CNA Genes",renderWhenDataChange:!1,priority:Object(gt.I)(St.a.CNA_GENES_TABLE),description:""}}var o=C.reduce(this.clinicalAttributes.result,function(e,t){return gt.g.MUTATION_COUNT===t.clinicalAttributeId&&(e[gt.g.MUTATION_COUNT]=!0),gt.g.FRACTION_GENOME_ALTERED===t.clinicalAttributeId&&(e[gt.g.FRACTION_GENOME_ALTERED]=!0),e},(wt(e={},gt.g.MUTATION_COUNT,!1),wt(e,gt.g.FRACTION_GENOME_ALTERED,!1),e));return o[gt.g.MUTATION_COUNT]&&o[gt.g.FRACTION_GENOME_ALTERED]&&(t[gt.g.MUTATION_COUNT_CNA_FRACTION]={dataType:gt.a.GENOMIC,patientAttribute:!1,uniqueKey:gt.g.MUTATION_COUNT_CNA_FRACTION,displayName:"Mutation Count vs Fraction of Genome Altered",priority:Object(gt.I)(gt.g.MUTATION_COUNT_CNA_FRACTION),renderWhenDataChange:!1,description:""}),t}},{key:"samplesSpecificationParams",get:function(){return Object(ut.f)(this.urlWrapper.query.case_ids,this.urlWrapper.query.sample_list_ids,this.urlWrapper.query.case_set_id,this.cancerStudyIds)}},{key:"downloadFilenamePrefix",get:function(){return Object(ct.a)(this.studies.result)}},{key:"referenceGenomeBuild",get:function(){if(!this.studies.isComplete)throw new Error("Failed to get studies");return Object(h.S)(this.studies.result)}},{key:"ensemblLink",get:function(){return this.referenceGenomeBuild===A.b.serverConfig.genomenexus_url_grch38?A.b.serverConfig.ensembl_transcript_grch38_url:A.b.serverConfig.ensembl_transcript_url}},{key:"genomeNexusClient",get:function(){return new u.b(this.referenceGenomeBuild)}},{key:"genomeNexusInternalClient",get:function(){return new u.c(this.referenceGenomeBuild)}},{key:"referenceGenome",get:function(){var e=this.studies.result?this.studies.result[0]:void 0;return e?e.referenceGenome:$e.a}},{key:"genesInvalid",get:function(){return this.genes.isError}},{key:"isQueryInvalid",get:function(){return this.hugoGeneSymbols.length*this.samples.result.length>A.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(A.b.serverConfig.query_product_limit/this.samples.result.length)}},{key:"didOncoKbFailInOncoprint",get:function(){return"complete"===this.getOncoKbMutationAnnotationForOncoprint.peekStatus&&this.getOncoKbMutationAnnotationForOncoprint.result instanceof Error}},{key:"didHotspotFailInOncoprint",get:function(){return"complete"===this.isHotspotForOncoprint.peekStatus&&this.isHotspotForOncoprint.result instanceof Error}},{key:"genomeNexusCache",get:function(){return new c.a(Object(It.a)(["annotation_summary"],this.genomeNexusClient))}},{key:"genomeNexusMutationAssessorCache",get:function(){return new f.a(Object(It.a)(["annotation_summary","mutation_assessor"],this.genomeNexusClient))}},{key:"pubMedCache",get:function(){return new l.a}},{key:"discreteCNACache",get:function(){return new m.a(this.studyToMolecularProfileDiscreteCna.result)}},{key:"cancerTypeCache",get:function(){return new p.a}},{key:"mutationCountCache",get:function(){return new d.a}},{key:"pdbHeaderCache",get:function(){return new y.a}},{key:"mutationDataCache",get:function(){return new B(this.studyToMutationMolecularProfile.result,this.studyToDataQueryFilter.result)}},{key:"isMixedReferenceGenome",get:function(){if(this.studies.result)return Object(Ot.c)(this.studies.result)}}])&&Et(t.prototype,n),b&&Et(t,b),e}();kt([o.computed],Gt.prototype,"oqlText",null),kt([o.computed],Gt.prototype,"genesetIds",null),kt([o.computed],Gt.prototype,"selectedGenericAssayEntities",null),kt([o.computed],Gt.prototype,"cancerStudyIds",null),kt([o.computed],Gt.prototype,"rppaScoreThreshold",null),kt([o.computed],Gt.prototype,"zScoreThreshold",null),kt([o.computed],Gt.prototype,"selectedMolecularProfileIds",null),kt([o.computed],Gt.prototype,"tabId",null),kt([o.observable],Gt.prototype,"resultsPageSettingsVisible",void 0),kt([o.observable],Gt.prototype,"checkingVirtualStudies",void 0),kt([o.observable],Gt.prototype,"urlValidationError",void 0),kt([o.computed],Gt.prototype,"profileFilter",null),kt([o.observable],Gt.prototype,"ajaxErrors",void 0),kt([o.observable],Gt.prototype,"sessionIdURL",void 0),kt([o.observable],Gt.prototype,"queryFormVisible",void 0),kt([o.computed],Gt.prototype,"doNonSelectedDownloadableMolecularProfilesExist",null),kt([o.observable],Gt.prototype,"modifyQueryParams",void 0),kt([vt.default,o.action],Gt.prototype,"setOncoprintAnalysisCaseType",null),kt([o.computed],Gt.prototype,"excludeGermlineMutations",null),kt([vt.default,o.action],Gt.prototype,"setExcludeGermlineMutations",null),kt([o.computed],Gt.prototype,"hugoGeneSymbols",null),kt([o.computed],Gt.prototype,"queryContainsOql",null),kt([o.computed],Gt.prototype,"queryContainsMutationOql",null),kt([o.computed],Gt.prototype,"sampleListCategory",null),kt([o.computed.struct],Gt.prototype,"comparisonGroupsReferencedInURL",null),kt([o.computed],Gt.prototype,"chartMetaSet",null),kt([o.computed],Gt.prototype,"samplesSpecificationParams",null),kt([o.computed],Gt.prototype,"downloadFilenamePrefix",null),kt([o.computed],Gt.prototype,"referenceGenomeBuild",null),kt([vt.default],Gt.prototype,"generateGenomeNexusHgvsgUrl",null),kt([o.computed],Gt.prototype,"ensemblLink",null),kt([o.computed],Gt.prototype,"genomeNexusClient",null),kt([o.computed],Gt.prototype,"genomeNexusInternalClient",null),kt([o.computed],Gt.prototype,"referenceGenome",null),kt([o.computed],Gt.prototype,"genesInvalid",null),kt([o.computed],Gt.prototype,"isQueryInvalid",null),kt([o.computed],Gt.prototype,"geneLimit",null),kt([o.computed],Gt.prototype,"didOncoKbFailInOncoprint",null),kt([o.computed],Gt.prototype,"didHotspotFailInOncoprint",null),kt([s.cached],Gt.prototype,"genomeNexusCache",null),kt([s.cached],Gt.prototype,"genomeNexusMutationAssessorCache",null),kt([s.cached],Gt.prototype,"pubMedCache",null),kt([s.cached],Gt.prototype,"discreteCNACache",null),kt([s.cached],Gt.prototype,"cancerTypeCache",null),kt([s.cached],Gt.prototype,"mutationCountCache",null),kt([s.cached],Gt.prototype,"pdbHeaderCache",null),kt([s.cached],Gt.prototype,"mutationDataCache",null),kt([Xe.a],Gt.prototype,"sortRnaSeqMolecularDataByStudy",null),kt([o.action],Gt.prototype,"clearErrors",null),kt([o.computed],Gt.prototype,"isMixedReferenceGenome",null)},571:function(e,t,n){"use strict";var r=n(187),o=n.n(r);var i=n(2);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return p});var l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function f(e){return e.hasOwnProperty("meta")}var p=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToKey=t,this.dataToKey=n,this.fetch=r,this.init();for(var a=arguments.length,u=new Array(a>3?a-3:0),s=3;s<a;s++)u[s-3]=arguments[s];this.staticDependencies=u,this.debouncedPopulate=function(e,t,n,r,o){var i,a,u;function s(){u=n(),a=!1,i=null}function l(){a?(e(u),s()):(a=!0,i=window.setTimeout(l,r)),o&&o()}return s(),Object.assign(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];u=t.apply(void 0,[u].concat(n)),null===i?(a=!0,i=window.setTimeout(l,r)):a=!1},{isPending:function(){return null!==i},cancel:function(){null!==i&&window.clearTimeout(i),s()}})}(function(e){var t=Object.keys(e).map(function(t){return e[t]});o.populate(t)},function(e,t){return e[o.queryToKey(t)]=t,e},function(){return{}},0),Object(i.reaction)(function(){return o._cache},function(e){o.promises=o.promises.filter(function(e){return!o.tryTrigger(e)})})}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.pending={},this._cache=o.a.from({}),this.promises=[]}},{key:"getPromise",value:function(e,t){var n=this;return new Promise(function(r,o){var i,a={keys:(i=Array.isArray(e)?e:[e]).map(function(e){return n.queryToKey(e)}),callback:r,error:o};n.tryTrigger(a)||(n.promises.push(a),t&&i.map(function(e){return n.debouncedPopulate(e)}))})}},{key:"tryTrigger",value:function(e){var t=this,n=!0,r=!1,o=e.keys.map(function(e){var o=t._cache[e];return o?"error"===o.status&&(n=!1,r=!0):n=!1,o});return r?(e.error(),!0):!!n&&(e.callback(o),!0)}},{key:"peek",value:function(e){var t=this.queryToKey(e);return this._cache[t]||null}},{key:"get",value:function(e){return this.debouncedPopulate(e),this.peek(e)}},{key:"getImmediately",value:function(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.populate([e]);case 2:return t.abrupt("return",this.peek(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"addData",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[this.dataToKey(u)]={status:"complete",data:u}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.updateCache(t)}},{key:"populate",value:function(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=this.getMissing(e)).length){t.next=3;break}return t.abrupt("return");case 3:return this.markPending(n),t.prev=4,t.next=7,this.fetch.apply(this,[n].concat(a(this.staticDependencies)));case 7:return r=t.sent,this.putData(n,r),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(4),this.markError(n),t.abrupt("return",!1);case 16:return t.prev=16,this.unmarkPending(n),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[4,12,16,19]])}))}},{key:"getMissing",value:function(e){var t=this,n=this._cache,r=this.pending;return e.filter(function(e){var o=t.queryToKey(e);return!n[o]&&!r[o]})}},{key:"markPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[this.queryToKey(u)]=!0}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"unmarkPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[this.queryToKey(u)]=!1}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"markError",value:function(e){var t={},n={status:"error",data:null},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;t[this.queryToKey(s)]=n}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}this.updateCache(t)}},{key:"putData",value:function(e,t){var n={},r={},o=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;if(f(l)){var c=l.meta,p=!0,d=!1,m=void 0;try{for(var y,h=l.data[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var v=y.value,g=this.dataToKey(v,c);n[g]={status:"complete",data:v,meta:c},r[g]=!0}}catch(e){d=!0,m=e}finally{try{p||null==h.return||h.return()}finally{if(d)throw m}}}else{var b=this.dataToKey(l);n[b]={status:"complete",data:l},r[b]=!0}}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}var S=!0,P=!1,I=void 0;try{for(var _,O=e[Symbol.iterator]();!(S=(_=O.next()).done);S=!0){var T=_.value,E=this.queryToKey(T);r[E]||(n[E]={status:"complete",data:null})}}catch(e){P=!0,I=e}finally{try{S||null==O.return||O.return()}finally{if(P)throw I}}this.updateCache(n)}},{key:"updateCache",value:function(e){Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}},{key:"cache",get:function(){return this._cache}},{key:"activePromisesCount",get:function(){return this.promises.length}}])&&u(t.prototype,n),r&&u(t,r),e}();l([i.observable.ref],p.prototype,"_cache",void 0),l([i.action],p.prototype,"updateCache",null)},572:function(e,t,n){"use strict";n.d(t,"b",function(){return T}),n.d(t,"a",function(){return E}),n.d(t,"eb",function(){return w}),n.d(t,"u",function(){return A}),n.d(t,"F",function(){return C}),n.d(t,"G",function(){return M}),n.d(t,"q",function(){return k}),n.d(t,"B",function(){return R}),n.d(t,"e",function(){return N}),n.d(t,"A",function(){return x}),n.d(t,"Q",function(){return j}),n.d(t,"f",function(){return G}),n.d(t,"g",function(){return L}),n.d(t,"k",function(){return F}),n.d(t,"l",function(){return q}),n.d(t,"C",function(){return B}),n.d(t,"r",function(){return K}),n.d(t,"K",function(){return H}),n.d(t,"D",function(){return z}),n.d(t,"m",function(){return W}),n.d(t,"t",function(){return Y}),n.d(t,"s",function(){return X}),n.d(t,"j",function(){return Q}),n.d(t,"p",function(){return Z}),n.d(t,"o",function(){return J}),n.d(t,"v",function(){return $}),n.d(t,"w",function(){return ee}),n.d(t,"x",function(){return te}),n.d(t,"z",function(){return ne}),n.d(t,"y",function(){return re}),n.d(t,"h",function(){return oe}),n.d(t,"i",function(){return ie}),n.d(t,"c",function(){return ae}),n.d(t,"gb",function(){return se}),n.d(t,"fb",function(){return le}),n.d(t,"n",function(){return ce}),n.d(t,"H",function(){return fe}),n.d(t,"Z",function(){return pe}),n.d(t,"J",function(){return de}),n.d(t,"L",function(){return me}),n.d(t,"I",function(){return ye}),n.d(t,"O",function(){return he}),n.d(t,"bb",function(){return ve}),n.d(t,"cb",function(){return ge}),n.d(t,"Y",function(){return be}),n.d(t,"db",function(){return Se}),n.d(t,"d",function(){return Ie}),n.d(t,"N",function(){return Oe}),n.d(t,"M",function(){return Te}),n.d(t,"ab",function(){return Ee}),n.d(t,"X",function(){return we}),n.d(t,"W",function(){return Ae}),n.d(t,"T",function(){return Ce}),n.d(t,"S",function(){return Me}),n.d(t,"V",function(){return ke}),n.d(t,"E",function(){return Re}),n.d(t,"P",function(){return Ne}),n.d(t,"U",function(){return xe}),n.d(t,"R",function(){return De});var r=n(4),o=n(11),i=n.n(o),a=n(102),u=n(178),s=n(103),l=n(184),c=n(3),f=n(182),p=n(180),d=n(628),m=n(653),y=n(625),h=n(611),v=n(570),g=n(593),b=n(6),S=n(15),P=n(602),I=n(601);function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var O=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},T={indicatorMap:{}},E={UNKNOWN:void 0,WHOLE_EXOME_SEQ:"WES",WHOLE_GENOME_SEQ:"WGS"};function w(e){return e===E.UNKNOWN||e===E.WHOLE_EXOME_SEQ||e===E.WHOLE_GENOME_SEQ}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,n.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:t,mutationFilter:e,projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(a.J)(Object(g.c)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(a.K)(Object(g.c)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!e.length){n.next=10;break}return o=Object(c.W)(e),n.t0=r,n.next=5,t.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.slice(),projection:"SUMMARY"});case 5:return n.t1=n.sent,n.t2=function(e){return o[e.hugoGeneSymbol]},n.abrupt("return",n.t0.sortBy.call(n.t0,n.t1,n.t2));case 10:return n.abrupt("return",[]);case 11:case"end":return n.stop()}},n)}))}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t||!t.length){o.next=10;break}return i=Object(c.W)(t),o.t0=r,o.next=5,n.fetchReferenceGenomeGenesUsingPOST({genomeName:e,geneIds:t.slice()});case 5:return o.t1=o.sent,o.t2=function(e){return i[e.hugoGeneSymbol]},o.abrupt("return",o.t0.sortBy.call(o.t0,o.t1,o.t2));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("public-portal"!==b.b.serverConfig.app_name){n.next=2;break}return n.abrupt("return",i.a.get(Object(S.n)("reactapp/reference_genome_hg19.json")));case 2:if(!e){n.next=8;break}return n.next=5,t.getAllReferenceGenomeGenesUsingGET({genomeName:e});case 5:return n.abrupt("return",n.sent);case 8:return n.abrupt("return",[]);case 9:case"end":return n.stop()}},n)}))}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.getAlignmentUsingGET({idType:"ensembl",id:e});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchCanonicalEnsemblTranscriptsByHugoSymbolsPOST({hugoSymbols:e,isoformOverrideSource:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r)}))}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,D(e,t,n);case 2:return i=o.sent,o.abrupt("return",i?r.zipObject(e,i):void 0);case 4:case"end":return o.stop()}},o)}))}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:e,projection:"DETAILED"});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=6;break}return r.next=3,n.getAllClinicalDataOfPatientInStudyUsingGET({projection:"DETAILED",studyId:e,patientId:t});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e&&t.length>0)){r.next=6;break}return r.next=3,n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:t.map(function(t){return{sampleId:t,studyId:e}}),projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return e.length>0?n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:e.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),chromosome:t,projection:"DETAILED"}):Promise.resolve([])}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t){o.next=6;break}return o.next=3,r.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t,projection:"DETAILED"});case 3:return o.abrupt("return",o.sent);case 6:if(!e||!n){o.next=12;break}return o.next=9,r.getSampleInStudyUsingGET({studyId:e,sampleId:n}).then(function(e){return[e]});case 9:return o.abrupt("return",o.sent);case 12:return o.abrupt("return",[]);case 13:case"end":return o.stop()}},o)}))}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t&&e.result){o.next=2;break}return o.abrupt("return",[]);case 2:if(!((i=e.result.filter(function(e){return r.find(t,function(t){return t===e})})).length>0)){o.next=10;break}return o.next=6,Promise.all(i.map(function(e){return n.getAllSampleIdsInSampleListUsingGET({sampleListId:U(e)})}));case 6:return a=o.sent,o.abrupt("return",r.flatten(a.map(function(e,t){var n=i[t];return e.map(function(e){return{sampleId:e,studyId:n}})})));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function U(e){return"".concat(e,"_germline")}function V(e){var t={};return e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"!==e.clinicalAttributeId&&"CANCER_TYPE"!==e.clinicalAttributeId||(t[e.uniqueSampleKey]=!0)}),t}function H(e,t){if(e.result&&e.result.length>0&&t.result){var n=V(t);return r.filter(e.result,function(e){return!0!==n[e.uniqueSampleKey]})}return[]}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=[],!(e.result&&e.result.length>0)){n.next=6;break}return i=r.uniq(e.result.map(function(e){return e.studyId})),n.next=5,t.fetchStudiesUsingPOST({studyIds:i,projection:"DETAILED"});case 5:o=n.sent;case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}},n)}))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==(i=Ie(e,t)).length){o.next=3;break}return o.abrupt("return",void 0);case 3:if(!((a=r.chain(i).filter(function(e){return e.hasOwnProperty("keyword")}).map(function(e){return e.keyword}).uniq().value()).length>0)){o.next=11;break}return o.next=7,n.fetchCosmicCountsUsingPOST({keywords:r.filter(a,function(e){return null!=e})});case 7:return u=o.sent,o.abrupt("return",Object(m.b)(u));case 11:return o.abrupt("return",void 0);case 12:case"end":return o.stop()}},o)}))}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSignificantlyMutatedGenesUsingGET({studyId:e});case 2:return r=n.sent,o=r.reduce(function(e,t){return e[t.entrezGeneId]={qValue:t.qValue},e},{}),n.abrupt("return",o);case 5:case"end":return n.stop()}},n)}))}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=3,t.getSignificantCopyNumberRegionsUsingGET({studyId:e});case 3:return r=n.sent,n.abrupt("return",r.reduce(function(e,t){return t.genes.forEach(function(n){void 0===e[n.entrezGeneId]&&(e[n.entrezGeneId]=[]),e[n.entrezGeneId].push({amp:t.amp,qValue:t.qValue,peakGeneCount:t.genes.length})}),e},{}));case 7:return n.abrupt("return",{});case 8:case"end":return n.stop()}},n)}))}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.result?e.result.map(function(e){return{alteration:e.alteration,entrezGeneId:e.entrezGeneId}}):[],!(t.result&&o.length>0)){r.next=7;break}return r.next=4,n.fetchCopyNumberCountsUsingPOST({molecularProfileId:t.result,copyNumberCountIdentifiers:o});case 4:return r.abrupt("return",r.sent);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},r)}))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i={},t.length>0&&(i.sampleIds=t),n.length>0&&(i.sampleListId=n),o.next=5,u.a.getGenePanelDataUsingPOST({molecularProfileId:e,genePanelDataFilter:i});case 5:return a=o.sent,o.abrupt("return",r.keyBy(a,function(e){return e.sampleId}));case 7:case"end":return o.stop()}},o)}))}function J(e){return O(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return{},n=r.uniq(e),t.next=4,Promise.all(r.map(n,function(e){return O(i,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getGenePanelUsingGET({genePanelId:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}));case 4:return o=t.sent,t.abrupt("return",r.keyBy(o,function(e){return e.genePanelId}));case 6:case"end":return t.stop()}},t)}))}function $(){return n(723)}function ee(){return n(724)}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.utilsCancerGeneListGetUsingGET_1({});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.infoGetUsingGET_1({});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}function re(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var u,s;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=Ie(n,i),!(t instanceof Error)){o.next=5;break}return o.abrupt("return",new Error);case 5:if(0!==u.length){o.next=7;break}return o.abrupt("return",T);case 7:return s=r.filter(u,function(e){return!!t[e.entrezGeneId]}),o.abrupt("return",se(s.map(function(t){return{entrezGeneId:t.entrezGeneId,alteration:t.proteinChange,proteinPosStart:t.proteinPosStart,proteinPosEnd:t.proteinPosEnd,mutationType:t.mutationType,tumorType:ae(t.uniqueSampleKey,e)}}),a));case 9:case"end":return o.stop()}},o)}))}function oe(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function i(){var a,u;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.result&&0!==n.result.length){i.next=4;break}return i.abrupt("return",T);case 4:return a=r.filter(n.result,function(e){return!!t[e.gene.entrezGeneId]}),u=r.uniqBy(r.map(a,function(t){return Object(c.x)(t.gene.entrezGeneId,ae(t.uniqueSampleKey,e),Object(d.a)(t.alteration))}).filter(function(e){return e.copyNameAlterationType}),"id"),i.abrupt("return",le(u,o));case 7:case"end":return i.stop()}},i)}))}function ie(e,t,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function i(){var u,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n.result&&0!==n.result.length){i.next=4;break}return i.abrupt("return",T);case 4:return u=r.filter(n.result,function(e){return o[e.molecularProfileId].molecularAlterationType===v.a.COPY_NUMBER_ALTERATION&&!!t[e.entrezGeneId]}),s=r.uniqBy(r.map(u,function(t){return Object(c.x)(t.entrezGeneId,ae(t.uniqueSampleKey,e),Object(d.a)(t.value))}).filter(function(e){return e.copyNameAlterationType}),function(e){return e.id}),i.abrupt("return",le(s,a));case 7:case"end":return i.stop()}},i)}))}function ae(e,t){return t[e]||null}var ue="Fusion";function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a,n=arguments.length>2?arguments[2]:void 0;return O(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,a,u,s,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=r.uniqBy(r.map(e.filter(function(e){return e.mutationType!==ue}),function(e){return Object(c.z)(e.entrezGeneId,e.tumorType,e.alteration,e.mutationType,e.proteinPosStart,e.proteinPosEnd,n)}),"id"),a=r.uniqBy(r.map(e.filter(function(e){return e.mutationType===ue}),function(e){return Object(c.w)(e.entrezGeneId,e.tumorType,e.alteration,e.mutationType,n)}),"id"),0!==i.length){o.next=6;break}o.t0=[],o.next=9;break;case 6:return o.next=8,t.annotateMutationsByProteinChangePostUsingPOST_1({body:i});case 8:o.t0=o.sent;case 9:if(u=o.t0,0!==a.length){o.next=14;break}o.t1=[],o.next=17;break;case 14:return o.next=16,t.annotateStructuralVariantsPostUsingPOST_1({body:a});case 16:o.t1=o.sent;case 17:return s=o.t1,l={indicatorMap:Object(c.y)(u.concat(s))},o.abrupt("return",l);case 20:case"end":return o.stop()}},o)}))}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=4;break}n.t0=[],n.next=7;break;case 4:return n.next=6,t.annotateCopyNumberAlterationsPostUsingPOST_1({body:e});case 6:n.t0=n.sent;case 7:return r=n.t0,n.abrupt("return",(o=r,{indicatorMap:Object(c.y)(o)}));case 9:case"end":return n.stop()}var o},n)}))}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isComplete||!t.result){r.next=6;break}return r.next=3,n.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",discreteCopyNumberFilter:e,molecularProfileId:t.result});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function fe(e){if(e.result){var t=e.result.find(function(e){return"DISCRETE"===e.datatype});return t?t.molecularProfileId:void 0}}function pe(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.a;if(e.result)return e.result.find(function(e){return e.molecularProfileId==="".concat(t).concat(n)})}function me(e,t){var n=de(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.b);return n?n.molecularProfileId:void 0}function ye(e){if(!e.result)return null;var t=/^.+rna_seq.*_zscores$/,n=/^.*_zscores$/,r=e.result.find(function(e){return t.test(e.molecularProfileId.toLowerCase())});if(r)return r.molecularProfileId;var o=e.result.find(function(e){return n.test(e.molecularProfileId.toLowerCase())});return o?o.molecularProfileId:null}function he(e,t,n){var o={};if(e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"===e.clinicalAttributeId&&(o[e.uniqueSampleKey]=e.value)}),t&&t.result&&n&&n.result){var i=Ee(t.result);r.each(n.result,function(e){void 0===o[e.uniqueSampleKey]&&(o[e.uniqueSampleKey]=i[e.studyId])})}return o}function ve(e){var t={};if(e.result){var n=!0,r=!1,o=void 0;try{for(var i,a=e.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s="".concat(u.entrezGeneId,"_").concat(u.alteration);t[s]=t[s]||[],t[s].push(u)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return Object.keys(t).map(function(e){return t[e]})}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe,n={};return Pe(n,e,t,!1),Object.keys(n).map(function(e){return n[e]})}function be(e){return Object(y.d)(e.result||[])}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oe,r={};return Pe(r,e,n,!1),Pe(r,t,n,!0),Object.keys(r).map(function(e){return r[e]})}function Pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oe,r=arguments.length>3?arguments[3]:void 0;if(t.result){var o=!0,i=!1,a=void 0;try{for(var u,s=t.result[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value,c=n(l);(!r||c in e)&&(e[c]=e[c]||[],e[c].push(l))}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}}}function Ie(e,t){var n=e&&e.result?e.result:[],r=t&&t.result?t.result:[];return n.concat(r)}function _e(e){return[e.chr,e.startPosition,e.endPosition,e.referenceAllele,e.variantAllele]}function Oe(e){return[e.gene.hugoGeneSymbol,e.proteinChange].concat(_(_e(e))).join("_")}function Te(e,t){var n={};return e?n={sampleListId:e}:t&&(n={sampleIds:t}),n}function Ee(e){return e.reduce(function(e,t){return e[t.studyId]=t.cancerType.name,e},{})}function we(e,t){return r.map(e,function(e){return{id:e,clinicalData:t.filter(function(t){return t.sampleId===e})}})}function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={},o=!0,i=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){r[u.value]=[]}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}var l=!0,c=!1,f=void 0;try{for(var p,d=e[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value,y=t(m);r[y]=r[y]||[],r[y].push(m)}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}return r}function Ce(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.a;return O(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.fetchGenesetHierarchyInfoUsingPOST({geneticProfileId:e,percentile:t,scoreThreshold:n,pvalueThreshold:r,sampleListId:o});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)}))}function Me(e){return e&&r.every(e,function(e){return new RegExp(P.a.grch38.NCBI,"i").test(e.referenceGenome)||new RegExp(P.a.grch38.UCSC,"i").test(e.referenceGenome)})?b.b.serverConfig.genomenexus_url_grch38:b.b.serverConfig.genomenexus_url}function ke(e){var t=Object(I.m)(e),n=r.reduce(t,function(e,n){var r=n.substring(0,n.indexOf("_STATUS"));return e.includes(r)||t.includes("".concat(r,"_MONTHS"))&&e.push(r),e},[]);return r.sortBy(n,function(e){return I.p[e]||I.a})}function Re(e,t){return O(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return",!1);case 2:if(0!==(o=r.reduce(t,function(e,t){return e.push(t+"_STATUS"),e.push(t+"_MONTHS"),e},[])).length){n.next=5;break}return n.abrupt("return",!1);case 5:return i={attributeIds:o,identifiers:e.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})},n.next=8,u.a.fetchClinicalDataUsingPOSTWithHttpInfo({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:i,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)});case 8:return a=n.sent,n.abrupt("return",a>0);case 10:case"end":return n.stop()}},n)}))}function Ne(e){var t=!1,n=!1,r=!1,o=!1,i=!0,a=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,f=!0,p=!1,d=void 0;try{for(var m,y=(c.alterations||[])[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var h=m.value;t=t||"mut"===h.alteration_type,n=n||"cna"===h.alteration_type,r=r||"exp"===h.alteration_type,o=o||"prot"===h.alteration_type}}catch(e){p=!0,d=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw d}}}}catch(e){a=!0,u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}return{haveMutInQuery:t,haveCnaInQuery:n,haveMrnaInQuery:r,haveProtInQuery:o}}function xe(e){return r.flatten(e.map(function(e){return(e.alterations||[]).filter(function(e){return"mut"===e.alteration_type&&e.info.unrecognized})})).map(function(e){return'Unrecognized input "'.concat(e.constr_val,'" is interpreted as a mutation code.')})}function De(e){return r.mapValues(r.keyBy([v.a.MUTATION_EXTENDED,v.a.COPY_NUMBER_ALTERATION,v.a.MRNA_EXPRESSION,v.a.PROTEIN_LEVEL]),function(t){return e.find(function(e){return e.showProfileInAnalysisTab&&e.molecularAlterationType===t})})}},573:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"m",function(){return d}),n.d(t,"o",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"l",function(){return h}),n.d(t,"k",function(){return v}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"i",function(){return S}),n.d(t,"b",function(){return P}),n.d(t,"g",function(){return I}),n.d(t,"p",function(){return _}),n.d(t,"n",function(){return O}),n.d(t,"r",function(){return T}),n.d(t,"f",function(){return E}),n.d(t,"q",function(){return w}),n.d(t,"j",function(){return A}),n.d(t,"e",function(){return C});var r=n(4),o=n(102),i=n(3),a=n(22),u=n(611),s=n(654),l=n(578),c=n(593),f=n(598),p={missenseColor:l.p,inframeColor:l.n,truncatingColor:l.t,otherColor:l.r};function d(e){return"fusion"===Object(f.c)(e.mutationType)}function m(e){return new RegExp(u.b+"$").test(e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return Object(o.P)(Object(c.c)(e),t)}function h(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,l=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value,m=d.proteinPosStart;null!=m&&(t[m]=t[m]||[],t[m].push(d))}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}function v(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s="".concat(u.gene.hugoGeneSymbol,"_").concat(u.patientId,"_").concat(u.proteinChange);t[s]=t[s]||[],t[s].push(u)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}function g(e){return r.values(e).map(function(e){return e.length>0?e.length-1:0}).reduce(function(e,t){return e+t},0)}function b(e){return Object.keys(v(e)).length}function S(e,t,n){var o=[];return e.forEach(function(e){var r=e[0];r.proteinPosStart>-1&&r.proteinPosStart>=t&&r.proteinPosStart<=n&&o.push(r.proteinPosStart),r.proteinPosEnd>r.proteinPosStart&&r.proteinPosEnd>=t&&r.proteinPosEnd<=n&&o.push(r.proteinPosEnd)}),r.uniq(o)}var P=new RegExp(u.c,"i");function I(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(i.Y)(o.map(s.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&P.test(t.mutationStatus)&&!!a[Object(s.a)(r.studyId,t.sampleId)])}).map(s.a).uniq().value().length/o.length}return 0}function _(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(i.Y)(o.map(s.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&!P.test(t.mutationStatus)&&!!a[Object(s.a)(r.studyId,t.sampleId)])}).map(s.a).uniq().value().length/o.length}return 0}function O(e){return!e.mutationStatus||!P.test(e.mutationStatus)}function T(e,t){e.forEach(function(e){if(e.gene&&e.gene.hugoGeneSymbol){var n=t[e.gene.hugoGeneSymbol];n&&(e.gene=r.merge({},n,e.gene),e.entrezGeneId=e.entrezGeneId||n.entrezGeneId)}})}function E(e){var t=e.chromosome;switch(e.chromosome.toUpperCase()){case"X":t="23";break;case"Y":t="24"}return"".concat(t,",").concat(e.start,",").concat(e.end,",").concat(e.referenceAllele,",").concat(e.variantAllele)}function w(e){var t={};return e.map(function(e){var n=Object(a.d)(e);n&&(t[E(n)]=n)}),r.values(t)}function A(e){if(Number.isInteger(e.tumorRefCount)&&Number.isInteger(e.tumorAltCount)){var t=e.tumorAltCount/(e.tumorAltCount+e.tumorRefCount);return isNaN(t)?null:t}return null}function C(e){return function(e){if(e.chr&&e.startPosition&&-1!==e.startPosition&&e.endPosition&&-1!==e.endPosition&&e.referenceAllele&&"NA"!==e.referenceAllele&&e.variantAllele&&"NA"!==e.variantAllele)return"-"!==e.referenceAllele||"-"!==e.variantAllele;return!1}(e)?"-"===e.referenceAllele?"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"ins").concat(e.variantAllele):"-"===e.variantAllele?e.startPosition===e.endPosition?"".concat(e.chr,":g.").concat(e.startPosition,"del"):"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"del"):1===e.referenceAllele.length&&1===e.variantAllele.length?"".concat(e.chr,":g.").concat(e.startPosition).concat(e.referenceAllele,">").concat(e.variantAllele):1===e.referenceAllele.length&&e.variantAllele.length>1?"".concat(e.chr,":g.").concat(e.startPosition,"delins").concat(e.variantAllele):"".concat(e.chr,":g.").concat(e.startPosition,"_").concat(e.endPosition,"delins").concat(e.variantAllele):null}},574:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return S}),n.d(t,"e",function(){return P}),n.d(t,"c",function(){return I}),n.d(t,"g",function(){return O}),n.d(t,"a",function(){return T}),n.d(t,"f",function(){return w}),n.d(t,"d",function(){return M}),n.d(t,"C",function(){return R}),n.d(t,"tb",function(){return N}),n.d(t,"s",function(){return x}),n.d(t,"mb",function(){return D}),n.d(t,"v",function(){return j}),n.d(t,"fb",function(){return G}),n.d(t,"P",function(){return L}),n.d(t,"gb",function(){return B}),n.d(t,"U",function(){return K}),n.d(t,"G",function(){return U}),n.d(t,"hb",function(){return V}),n.d(t,"kb",function(){return H}),n.d(t,"sb",function(){return z}),n.d(t,"H",function(){return W}),n.d(t,"q",function(){return Y}),n.d(t,"p",function(){return X}),n.d(t,"nb",function(){return J}),n.d(t,"u",function(){return $}),n.d(t,"t",function(){return ee}),n.d(t,"pb",function(){return ne}),n.d(t,"lb",function(){return oe}),n.d(t,"r",function(){return ae}),n.d(t,"jb",function(){return le}),n.d(t,"A",function(){return pe}),n.d(t,"M",function(){return de}),n.d(t,"N",function(){return me}),n.d(t,"n",function(){return ye}),n.d(t,"m",function(){return he}),n.d(t,"O",function(){return ve}),n.d(t,"x",function(){return be}),n.d(t,"y",function(){return Se}),n.d(t,"i",function(){return Pe}),n.d(t,"I",function(){return Ie}),n.d(t,"Z",function(){return _e}),n.d(t,"ib",function(){return Oe}),n.d(t,"T",function(){return Te}),n.d(t,"eb",function(){return Ee}),n.d(t,"ab",function(){return we}),n.d(t,"E",function(){return Ae}),n.d(t,"h",function(){return Ce}),n.d(t,"X",function(){return Me}),n.d(t,"ob",function(){return ke}),n.d(t,"K",function(){return Ne}),n.d(t,"cb",function(){return xe}),n.d(t,"bb",function(){return De}),n.d(t,"o",function(){return je}),n.d(t,"qb",function(){return Ge}),n.d(t,"L",function(){return Le}),n.d(t,"k",function(){return Be}),n.d(t,"j",function(){return Ke}),n.d(t,"rb",function(){return Ue}),n.d(t,"F",function(){return Ve}),n.d(t,"db",function(){return He}),n.d(t,"Y",function(){return ze}),n.d(t,"B",function(){return We}),n.d(t,"R",function(){return Qe}),n.d(t,"S",function(){return Ze}),n.d(t,"w",function(){return Je}),n.d(t,"J",function(){return $e}),n.d(t,"D",function(){return et}),n.d(t,"ub",function(){return tt}),n.d(t,"V",function(){return nt}),n.d(t,"l",function(){return rt}),n.d(t,"Q",function(){return ot}),n.d(t,"z",function(){return it}),n.d(t,"W",function(){return at});var r=n(4),o=n.n(r),i=n(0),a=n(15),u=n(103),s=n(178),l=n(606),c=n(3),f=n(578),p=n(667),d=n.n(p),m=n(668),y=n(600),h=n(589),v=n(642);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S,P,I,_,O,T,E=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};!function(e){e.SAMPLE="SAMPLE",e.PATIENT="PATIENT"}(S||(S={})),function(e){e.QUARTILES="QUARTILES",e.MEDIAN="MEDIAN",e.BINS="BINS"}(P||(P={})),function(e){e.STRING="STRING",e.NUMBER="NUMBER"}(I||(I={})),function(e){e.cna="cna",e.gistic="gistic",e.rae="rae",e.cna_consensus="cna_consensus"}(_||(_={})),function(e){e.CUSTOM_SELECT="CUSTOM_SELECT",e.SELECTED_COMPARISON_GROUPS="SELECTED_COMPARISON_GROUPS",e.MUTATION_COUNT_CNA_FRACTION="MUTATION_COUNT_CNA_FRACTION",e.CANCER_STUDIES="CANCER_STUDIES",e.MUTATION_COUNT="MUTATION_COUNT",e.FRACTION_GENOME_ALTERED="FRACTION_GENOME_ALTERED",e.GENOMIC_PROFILES_SAMPLE_COUNT="GENOMIC_PROFILES_SAMPLE_COUNT",e.CASE_LISTS_SAMPLE_COUNT="CASE_LISTS_SAMPLE_COUNT"}(O||(O={})),function(e){e.CUSTOM_DATA="Custom_Data",e.CLINICAL="Clinical",e.GENOMIC="Genomic",e.GENE_SPECIFIC="Gene_Specific"}(T||(T={}));var w=[{uniqueKey:O.CANCER_STUDIES,displayName:"Cancer Studies",description:"Cancer Studies",dataType:T.CLINICAL,patientAttribute:!1,chartType:l.a.PIE_CHART,dimension:{w:1,h:1},renderWhenDataChange:!1,priority:70},{uniqueKey:O.GENOMIC_PROFILES_SAMPLE_COUNT,displayName:"Genomic Profile Sample Counts",description:"",chartType:l.a.GENOMIC_PROFILES_TABLE,dataType:T.GENOMIC,patientAttribute:!1,dimension:{w:2,h:2},priority:70,renderWhenDataChange:!1},{uniqueKey:O.CASE_LISTS_SAMPLE_COUNT,displayName:"Case Lists",description:"",chartType:l.a.CASE_LIST_TABLE,dataType:T.CLINICAL,patientAttribute:!1,dimension:{w:2,h:2},priority:70,renderWhenDataChange:!1}],A=[l.d.colors.theme.primary,l.d.colors.theme.secondary,l.d.colors.theme.tertiary,l.d.colors.theme.quaternary,"#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411","#743440","#9986e2","#6c3912","#788508","#609618","#790099","#5099c6","#2d4477","#76aa00","#882e2e","#916395","#794499","#92aa99","#2aaa11","#5633cc","#667300","#100707","#751067","#229262","#4574a6","#103eac","#177322","#66d620","#291383","#94359e","#5c5935","#29c413","#6a778d","#868d1c","#5ea413","#6c5922","#243411","#103440","#2886e2","#d93912","#f28508","#110618","#970099","#0109c6","#d10477","#68aa00","#b12e2e","#310395","#944499","#24aa99","#a4aa11","#6333cc","#e77300","#820707","#610067","#339262","#5874a6","#313eac","#b67322","#13d620","#b81383","#f8359e","#935935","#a10413","#29778d","#678d1c","#b2a413","#075922","#763411","#773440","#2996e2","#dc4912","#f81508","#104618","#991099","#0049c6","#dd2477","#663a00","#b84e2e","#312395","#993499","#223a99","#aa1a11","#6673cc","#e66300","#8b5707","#656067","#323262","#5514a6","#3b8eac","#b71322","#165620","#b99383","#f4859e","#9c4935","#a91413","#2a978d","#669d1c","#be1413","#0c8922","#742411","#744440","#2983e2","#dc3612","#f88808","#109518","#990599","#0092c6","#dd4977","#66a900","#b8282e","#316295","#994199","#22a499","#aaa101","#66310c","#e67200","#8b0907","#651167","#329962","#5573a6","#3b37ac","#b77822","#16d120","#b91783","#f4339e","#9c5105","#a9c713","#2a710d","#66841c","#bea913","#0c5822","#743911","#743740","#298632","#dc3922","#f88588","#109658","#990010","#009916","#dd4447","#66aa60","#b82e9e","#316365","#994489","#22aa69","#aaaa51","#66332c","#e67390","#8b0777","#651037","#329232","#557486","#3b3e4c","#b77372","#16d690","#b91310","#f4358e","#9c5910","#a9c493","#2a773d","#668d5c","#bea463","#0c5952","#743471","#743450","#2986e3","#dc3914","#f88503","#109614","#990092","#0099c8","#dd4476","#66aa04","#b82e27","#316397","#994495","#22aa93","#aaaa14","#6633c1","#e67303","#8b0705","#651062","#329267","#5574a1","#3b3ea5"],C=3,M=52,k={"<=":"≤","<":"<",">=":"≥",">":">"};function R(e,t,n){var r=e.toLowerCase().trim(),o=t.toLowerCase().trim().replace(/.&/,"");return i.createElement("div",{style:{maxWidth:"300px"}},i.createElement("div",null,i.createElement("b",null,e)," ",!!n&&i.createElement("span",{className:d.a.titleMeta},"ID: ",n)),o!==r&&i.createElement("div",null,t))}function N(e,t){var n=o.a.filter(e,function(e){return e.gene!==t});return n.length===e.length&&n.push({gene:t,alterations:!1}),n}function x(e,t,n){var r;return n=(r=n)?">="===r?"≥":"<="===r?"≤":r:"",void 0===e?void 0===t?n:"".concat(n).concat(t.toLocaleString()):void 0===t?"".concat(n).concat(e.toLocaleString()):e!==t?"".concat(n).concat(e.toLocaleString(),"-").concat(t.toLocaleString()):"".concat(n).concat(e.toLocaleString())}function D(e){var t=function(e){return{mutRange:x(e.minY,e.maxY,void 0),fgaRange:e.maxX.toFixed(2)!==e.minX.toFixed(2)?"".concat(e.minX.toFixed(2),"-").concat(e.maxX.toFixed(2)):e.minX.toFixed(2)}}(e);return i.createElement("div",null,i.createElement("div",null,"Number of Samples: ",i.createElement("b",null,e.count.toLocaleString())),i.createElement("div",null,"Mutation Count: ",i.createElement("b",null,t.mutRange)),i.createElement("div",null,"Fraction Genome Altered: ",i.createElement("b",null,t.fgaRange)))}function j(e,t,n,r){var i,a=["Cancer Study","Patient ID","Sample ID","Mutation Count","CNA Fraction"];void 0!==n&&void 0!==t&&(a.push(n.displayName),void 0!==r&&(a.push("Color"),i=o.a.keyBy(r,"value")));var u=e.map(function(e){var o=["".concat(e.studyId),"".concat(e.patientId),"".concat(e.sampleId),"".concat(e.y),"".concat(e.x)];if(void 0!==n&&void 0!==t){var a=t[e.uniqueSampleKey];o.push(void 0!==a?"".concat(a):v.a.NA),void 0!==r&&void 0!==a&&o.push(void 0!==i[a]?i[a].color:v.a.NA)}return o});return[a].concat(u).map(function(e){return e.join("\t")}).join("\n")}function G(e){return e.clinicalAttributeId}function L(e,t){return e+"_"+t}var F,q=":";function B(e){return o.a.sortBy(e).join(q)}function K(e){return e.split(q)}function U(){return(new Date).toISOString().slice(0,10)}function V(e,t,n,r,i,a,u){var s=[];if(e){var l=new RegExp("".concat("Created on",".*"));s.push(e.replace(l,""))}else{var c=o.a.uniq(o.a.flatMap(t,function(e){return e.uniqueSampleKeys}));s.push("".concat(c.length," sample").concat(c.length>1?"s":""," from ").concat(t.length," ").concat(t.length>1?"studies:":"study:")),t.forEach(function(e){s.push("- ".concat(e.name," (").concat(e.uniqueSampleKeys.length," sample").concat(c.length>1?"s":"",")"))});var f=[];o.a.isEmpty(n)||(o.a.each(n.geneFilters||[],function(e){var t=r[B(e.molecularProfileIds)];f.push("- ".concat(t,":")),f=f.concat(e.geneQueries.map(function(e){return e.join(", ").trim()}).map(function(e){return"  - "+e}))}),o.a.isEmpty(n.genomicProfiles)||(f.push("- Genomic Profile Sample Counts:"),f=f.concat(n.genomicProfiles.map(function(e){return e.map(function(e){return i[e]}).join(", ").trim()}).map(function(e){return"  - "+e}))),o.a.isEmpty(n.caseLists)||(f.push("- Case List Sample Counts:"),f=f.concat(n.caseLists.map(function(e){return e.map(function(e){return a[e]}).join(", ").trim()}).map(function(e){return"  - "+e}))),o.a.each(n.clinicalDataFilters||[],function(e){var t=r[e.attributeId];f.push("- ".concat(t,": ").concat(le(e.values)))}),o.a.each(n.genomicDataFilters||[],function(e){var t=L(e.hugoGeneSymbol,e.profileType),n=r[t];f.push("- ".concat(n,": ").concat(le(e.values)))}),o.a.each(n.sampleIdentifiersSet||{},function(e,t){var n=r[t]||t;f.push("- ".concat(n,": ").concat(e.length," samples"))})),f.length>0&&(s.push(""),s.push("Filters:"),s=s.concat(f)),s.push("")}return s.push("".concat("Created on"," ")+U()+(u?" by "+u:"")),s.join("\n")}function H(e){var t=!(o.a.isEmpty(e)||o.a.isEmpty(e.clinicalDataFilters)&&o.a.isEmpty(e.geneFilters)&&o.a.isEmpty(e.genomicProfiles)&&o.a.isEmpty(e.genomicDataFilters)&&o.a.isEmpty(e.caseLists));return e.sampleIdentifiersSet?t||!o.a.isEmpty(e.sampleIdentifiersSet):t}function z(t,n){var r=t.cloneNode(!0),o=e(t).find(n.legendGroupSelector).get(0).getBoundingClientRect();n.selectorToHide&&e(r).find(n.selectorToHide).remove();var i=+e(t).height()+o.height,a=Math.max(e(t).width(),o.width);if(e(r).attr("height",i+5),e(r).attr("width",a),e(r).css({height:i+5,width:a}),n.centerLegend){var u=Math.abs(e(t).width()-o.width),s="translate(".concat(u/2,", 0)");e(t).width()>o.width?e(r).find(n.legendGroupSelector).attr("transform",s):n.chartGroupSelector&&e(r).find(n.chartGroupSelector).attr("transform",s)}return r}function W(e){return e.map(function(e){return{start:e.start,end:e.end,value:void 0===e.start&&void 0===e.end?e.specialValue:void 0}})}function Y(e){return e.filter(function(e){return void 0!==e.start||void 0!==e.end})}function X(e){return e.filter(function(e){return void 0===e.start&&void 0===e.end})}function Q(e){return e.filter(function(e){return void 0!==e.start&&void 0!==e.end})}function Z(e){var t=e.map(function(e){return e.start});if(e.length>0){var n=e[e.length-1];n.start!==n.end&&t.push(n.end)}return t}function J(e){return oe(e)&&void 0!==e[0].start&&0!==e[0].start&&!ue(e[0].start)}function $(e){var t=J(e)?2:1;return e.map(function(n,r){var o;return 0===r&&void 0===n.start?o=r:r===e.length-1&&void 0===n.end?(o=r,r-1>-1&&e[r-1].start!==e[r-1].end&&o++):o=n.start===n.end?r:r+.5,{x:o+t,y:n.count,dataBin:n}})}function ee(e,t){return e.map(function(e,n){return{x:t+n+1,y:e.count,dataBin:e}})}function te(e){return e.length>0&&void 0===e.find(function(e){return 0!==e&&-1<e&&e<1||0!==e&&ge(e)%.5!=0})}function ne(e,t,n){return H(e)||t>=2||1===n}function re(e){return e&&e.length>0&&void 0===e.find(function(e){return e.start!==e.end})}function oe(e){if(!e)return!1;var t=Q(Y(e)),n=Z(t);return!re(t)&&te(n)}function ie(e){return 0!==e&&-.001<=e&&e<=.001}function ae(e){if(0===e.length)return[];var t,n=e[0],r=e[e.length-1],o=Q(e),i=Z(o),a=!re(o)&&te(i);return void 0===n.start?i=[n.end].concat(b(i)):a&&0!==n.start&&(ue(n.start)||(i=[se(n.start,F.LEADING)].concat(b(i)))),void 0===r.end?i.push(r.start):a&&0!==r.end&&(ue(r.end)||i.push(se(r.end,F.TRAILING))),t=a?function(e){return e.map(function(e){var t;if(-10===e||-1===e||0===e||1===e||10===e)t="".concat(e);else{var n=ge(e);(t=Number.isInteger(n)?"10^".concat(n.toFixed(0)):n%.5==0?"":"".concat(e))&&e<0&&(t="-".concat(t))}return t})}(i):o.length>0&&ie(o[Math.floor(o.length/2)].end)?i.map(function(e){return e.toExponential(0)}):function(e){return e.map(function(e){return ie(e)?e.toExponential(0):fe(e)})}(i),void 0===n.start&&(t[0]="".concat(k[n.specialValue]||n.specialValue).concat(t[0])),void 0===r.end&&(t[t.length-1]="".concat(k[r.specialValue]||r.specialValue).concat(t[t.length-1])),t}function ue(e){var t=!1;if(e){var n=Math.log10(Math.abs(e));Number.isInteger(n)&&(t=!0)}return t}function se(e,t){if(e){var n=Math.log10(Math.abs(e)),r=e*t>0?Math.floor(n):Math.ceil(n),o=Math.pow(10,r);return Math.sign(e)*o}return 1}function le(e){var t=e.filter(function(e){return void 0===e.start&&void 0===e.end}).map(function(e){return e.value}),n=e.filter(function(e){return void 0!==e.start||void 0!==e.end}),r=n.length>0?n[0].start:void 0,o=n.length>0?n[n.length-1].end:void 0,i=[];return n.length>0&&(void 0===r&&void 0===o?i.push("All Numbers"):void 0===r?i.push("≤ ".concat(ce(o))):void 0===o?i.push("> ".concat(ce(r))):r===o?i.push("".concat(ce(r))):n[0].start===n[0].end?i.push("".concat(ce(r)," ≤ x ≤ ").concat(ce(o))):i.push("".concat(ce(r)," < x ≤ ").concat(ce(o)))),t.length>0&&(i=i.concat(t)),i.length>0?i.join(", "):""}function ce(e){var t;return void 0!==e&&(t=ie(e)?e.toExponential(0):fe(e)),t}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"".concat(e);var n=Math.abs(e);if(Number.isInteger(n))return"".concat(e);var r=t;if(e<1&&e>-1){var o=Math.abs(Math.log10(n%1));r+=Number.isInteger(o)?Math.floor(o)-1:Math.floor(o)}return"".concat(Number(e.toFixed(r)))}function pe(e){var t=[O.MUTATION_COUNT_CNA_FRACTION,O.MUTATION_COUNT,O.FRACTION_GENOME_ALTERED,O.GENOMIC_PROFILES_SAMPLE_COUNT];return o.a.includes(t,e)?T.GENOMIC:T.CLINICAL}function de(e,t){return Math.floor((e-10-me(t))/2)}function me(e){return Math.floor(Object(c.L)(e,"Helvetica Neue","13px"))}function ye(e){return e>0?e:0}function he(e){return Math.ceil(e)}function ve(e){var t="";return e<0?v.a.NA:(t=0===e?"0":e<100&&e>=99.9?"99.9":e>=.1?e.toFixed(1).toString():"<0.1","".concat(t,"%"))}function ge(e){var t=Math.abs(e)<50?1:2;return Number(Math.log10(Math.abs(e)).toFixed(t))}function be(e){return y.b[e]||""}function Se(e){switch(e){case"HOMDEL":return f.d;case"AMP":return f.a;default:return}}function Pe(e,t,n,r,i,a){var u=[],s={},l=[new Array(t).fill("")];if(e.sort(Ke),r.length>0)if(i&&a){var c=r.find(function(e){return e.i===i.uniqueKey});if(!c)throw new Error("cannot find matching unique key in the grid layout");var f=function(e,t,n,r){var o=e.x,i=e.y,a=r.w,u=o,s=i;l={w:e.w,h:e.h},c=r,l.w+l.h>c.w+c.h?u=o+e.w-a:o+a>=n&&o-a>=0&&(u=n-a);var l,c;return{i:t.uniqueKey,x:u,y:s,w:r.w,h:r.h,isResizable:!1}}(c,i,t,a);u.push(f),s[i.uniqueKey]=!0,l=function(e,t){var n=[new Array(t).fill("")],r=e.x+e.w,o=e.y+e.h;for(;o>=n.length;)n.push(new Array(t).fill(""));for(var i=e.y;i<o;i++)for(var a=e.x;a<r;a++)n[i][a]=e.i;return n}(f,t)}else{var p=o.a.keyBy(r,function(e){return e.i});e.sort(function(e,t){var n=p[e.uniqueKey],r=p[t.uniqueKey];return n||r?r?n?n.y===r.y?n.x-r.x:n.y-r.y:1:-1:0})}return o.a.forEach(o.a.filter(e,function(e){return!s[e.uniqueKey]}),function(e){for(var r=n[e.uniqueKey]||{w:1,h:1},i=function(e,t){if(0===e.length)return{x:0,y:0};var n=void 0;return o.a.each(e,function(r,i){if(o.a.each(r,function(r,o){if(!r&&!function(e,t,n){var r=!1;if(0===e.length)return!1;if(n.w>1&&t.x%2!=0&&(r=!0),n.h>1&&t.y%2!=0&&(r=!0),!r)for(var o=t.x+n.w,i=t.y+n.h,a=t.y;a<i&&!(a>=e.length);a++){for(var u=t.x;u<o;u++)if(u>=e[0].length||e[a][u]){r=!0;break}if(r)break}return r}(e,{x:o,y:i},t))return n={x:o,y:i},!1}),n)return!1}),n||{x:0,y:e.length}}(l,r);i.y+r.h>=l.length;)l.push(new Array(t).fill(""));u.push({i:e.uniqueKey,x:i.x,y:i.y,w:r.w,h:r.h,isResizable:!1});for(var a=i.x+r.w,s=i.y+r.h,c=i.y;c<s;c++)for(var f=i.x;f<a;f++)l[c][f]=e.uniqueKey}),u}function Ie(e){return void 0===l.d.priority[e]?1:l.d.priority[e]}function _e(e){var t=Number(e.priority);if(t===l.d.defaultPriority){var n=G(e);return void 0===l.d.priority[n]?l.d.defaultPriority:l.d.priority[n]}return t}function Oe(e,t){return l.d.layout.grid.w*e.w+(e.w-1)*l.d.layout.gridMargin.x-2*t}function Te(e,t){return l.d.layout.grid.h*e.h+(e.h-1)*l.d.layout.gridMargin.y-t}function Ee(e,t){return Te(e,t)-30}function we(e){return 0===e?"0":e.toExponential(C)}function Ae(e){e.sort(Fe);var t=ke(e),n=o.a.sumBy(e,function(e){return e.count});return e.map(function(e){var r=e.count/n;return Object.assign(Object.assign({},e),{color:t[e.value],percentage:r,freq:ve(100*r)})})}function Ce(e,t){return o.a.reduce(e,function(e,n,r){return e[r]=100*n/t,e},{})}function Me(e,t,n){return o.a.map(e,function(e){return{label:e.displayName,key:e.uniqueKey,chartType:n[e.uniqueKey],disabled:!1,selected:t.includes(e.uniqueKey),freq:100}})}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,n=o.a.cloneDeep(t),r=function(e){return o.a.reduce(e,function(e,t){var n=Re(t.value)?f.f:Object(f.y)(t.value);return n&&(e[t.value]=n),e},{})}(e);return n=o.a.difference(n,o.a.values(r)),Object.assign(Object.assign({},function(e,t){var n=0;return o.a.reduce(e,function(e,r){return Re(r.value)||Object(f.y)(r.value)||(e[r.value]=t[n%t.length],n++),e},{})}(e,n)),r)}function Re(e){return"na"===e.toLowerCase().trim()}function Ne(e,t){return o.a.reduce(e,function(e,n){return(void 0===t||t(n))&&e.push({sampleId:n.sampleId,studyId:n.studyId}),e},[])}function xe(e,t,n,r,i){var a={clinicalDataFilters:t.clinicalDataFilters,geneFilters:t.geneFilters},s=o.a.reduce(n,function(t,n,r){return e!==r&&(t=0===t.length?n:o.a.intersectionWith(t,n,o.a.isEqual)),t},[]);return s&&s.length>0?a.sampleIdentifiers=s:o.a.isEmpty(r)?a.studyIds=i:a.sampleIdentifiers=r,u.a.fetchFilteredSamplesUsingPOST({studyViewFilter:a})}function De(e,t,n,r,o,i,a){return t&&e&&!r?[a]:e||n?r?[]:[o]:[i]}function je(e){return 0!==e.length&&!o.a.some(e,function(e){return isNaN(Number(e))})}function Ge(e,t){return 0===e.length&&1===t.length}function Le(e,t,n){var r=[],i=o.a.groupBy(e,function(e){return e.studyId});return o.a.each(t,function(e){var t=i[e.studyId];t&&t.length>0&&r.push(Object.assign(Object.assign({},e),{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}),o.a.each(n,function(e){var t=[];if(e.data.studies.forEach(function(e){var n=i[e.id];n&&n.length>0&&(t=t.concat(n))}),t.length>0){var n={name:e.data.name,description:e.data.description,studyId:e.id};r.push(Object.assign(Object.assign({},n),{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}}),r}function Fe(e,t){return Re(e.value)?Re(t.value)?0:1:Re(t.value)?-1:t.count-e.count}function qe(e,t){return t.priority-e.priority||e.displayName.localeCompare(t.displayName)}function Be(e,t){return qe({priority:Number(e.priority),displayName:e.displayName},{priority:Number(t.priority),displayName:t.displayName})}function Ke(e,t){return qe({priority:e.priority,displayName:e.displayName},{priority:t.priority,displayName:t.displayName})}function Ue(e,t,n){try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(a.b)(e),n)}catch(r){window.localStorage.clear();try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(a.b)(e),n)}catch(e){alert("Sorry, the query is too large to submit")}}}function Ve(e){return e.replace(/\\,/g,"$@$").split(",").map(function(e){return e.trim().replace(/\$@\$/g,",")})}function He(e){return e.length<=2?e.map(function(e){return e.name}).join(" and "):"".concat(e[0].name," and ").concat(e.length-1," other groups")}function ze(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.patients.map(function(e){return{studyId:t,patientId:e}})})})),function(e,t){return e.patientId===t.patientId&&e.studyId===t.studyId})}function We(e,t,n,r,i,a,u){var s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],f=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],p=arguments.length>10?arguments[10]:void 0;p||(p=Pe(e,t,n,[]));var d={};return e.forEach(function(e){var t=e.uniqueKey,n=r[t]||"NONE";d[e.uniqueKey]={id:e.uniqueKey,chartType:n,patientAttribute:e.patientAttribute},n===l.a.MUTATED_GENES_TABLE?d[e.uniqueKey].filterByCancerGenes=s:n===l.a.FUSION_GENES_TABLE?d[e.uniqueKey].filterByCancerGenes=c:n===l.a.CNA_GENES_TABLE&&(d[e.uniqueKey].filterByCancerGenes=f);var p=i[t];p&&(d[t].groups=p.groups,d[t].name=e.displayName);var m=a[t];m&&(d[t].name=m.name,d[t].description=m.description,d[t].hugoGeneSymbol=m.hugoGeneSymbol,d[t].profileType=m.profileType),u[t]&&(u[t].disableLogScale&&(d[t].disableLogScale=!0),o.a.isEmpty(u[t].customBins)||(d[t].customBins=u[t].customBins))}),p.forEach(function(e){e.i&&d[e.i]&&(d[e.i].layout={x:e.x,y:e.y,w:e.w,h:e.h})}),d}function Ye(e){return Number.isInteger(e)?e.toFixed(0):e.toFixed(2)}function Xe(e){return void 0!==e.specialValue?void 0!==e.start?e.specialValue+Ye(e.start):void 0!==e.end?e.specialValue+Ye(e.end):e.specialValue:void 0!==e.start&&void 0!==e.end?"".concat(Ye(e.start),"-").concat(Ye(e.end)):""}function Qe(e,t,n,r,i){var a={};t&&(a=o.a.groupBy(e,function(e){return e.uniquePatientKey}));var u=function(e,t){var n=t.filter(function(e){return void 0===e.specialValue}),r=t.filter(function(e){return void 0!==e.specialValue});return o.a.reduce(e,function(e,t){var i;if(isNaN(t.value)||(i=o.a.find(n,function(e){return parseFloat(t.value)>e.start&&parseFloat(t.value)<=e.end})),void 0===i&&(i=o.a.find(r,function(e){if(!isNaN(t.value)){if(void 0!==e.end)return parseFloat(t.value)<=e.end;if(void 0!==e.start)return parseFloat(t.value)>e.start}return e.specialValue===t.value})),i){var a=Xe(i);void 0===e[a]&&(e[a]=[]),e[a].push(t)}return e},{})}(n,r),s=r.map(function(e){return Xe(e)}),l=Object(c.W)(s);return o.a.reduce(u,function(e,n,r){if(0!==n.length){var u=[];u=t?o.a.flatMapDeep(n,function(e){return a[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})}):n.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}),e.push(Object(m.b)(r,u,i))}return e},[]).sort(function(e,t){return l[e.name]-l[t.name]})}function Ze(e,t,n,r){var i={};return t&&(i=o.a.groupBy(e,function(e){return e.uniquePatientKey})),n.map(function(e){var n=[];return n=t?o.a.flatMapDeep(e,function(e){return i[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})}):e.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}),Object(m.b)("".concat(Ye(parseFloat(e[0].value)),"-").concat(Ye(parseFloat(e[e.length-1].value))),n,r)})}function Je(e){return e+" "+String.fromCharCode(9662)}function $e(e){var t=e.filter(function(e){return void 0!==e.start||void 0!==e.end});return{start:t.length>0?t[0].start:void 0,end:t.length>0?t[t.length-1].end:void 0}}function et(e){return E(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,s.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:{identifiers:o.a.map(e,function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 3:return r=t.sent,o.a.forEach(r,function(e){n[e.uniqueSampleKey]=Object.assign(Object.assign({},n[e.uniqueSampleKey]||{}),g({},e.clinicalAttributeId,e.value))}),t.next=7,s.a.fetchClinicalDataUsingPOST({clinicalDataType:S.PATIENT,clinicalDataMultiStudyFilter:{identifiers:o.a.map(e,function(e){return{entityId:e.patientId,studyId:e.studyId}})}});case 7:return i=t.sent,a=o.a.groupBy(e,function(e){return e.uniquePatientKey}),o.a.forEach(i,function(e){(a[e.uniquePatientKey]||[]).forEach(function(t){n[t.uniqueSampleKey]=Object.assign(Object.assign({},n[t.uniqueSampleKey]||{}),g({},e.clinicalAttributeId,e.value))})}),t.abrupt("return",n);case 11:case"end":return t.stop()}},t)}))}function tt(e){var t=/^CUSTOM_FILTERS_\d+/i,n=/^(?:PATIENT_|SAMPLE_)([a-zA-Z0-9_]+)/i,r=0,i=0,a=o.a.reduce(O,function(e,t){return e[t]=!0,e},{});return e.forEach(function(e){e.id.match(t)||void 0!==a[e.id]||(r++,e.id.match(n)&&i++)}),r===i?e.map(function(e){var t=e.id.match(n);return t?Object.assign(Object.assign({},e),{id:t[1]}):e}):e}function nt(e,t,n){return o.a.chain(e).filter(function(e){return!n||n(e)}).groupBy(function(e){return e.molecularProfileId.replace(e.studyId+"_","")}).map(function(e,n){var r=o.a.chain(e).flatMap(function(e){return t[e.molecularProfileId]||[]}).uniq().value();return{value:n,count:r.length,label:e[0].name,description:e[0].description,sampleUniqueKeys:r}}).filter(function(e){return e.count>0}).value()}function rt(e){return e.map(function(e){return{attributeId:L(e.hugoGeneSymbol,e.profileType),count:e.count,end:e.end,specialValue:e.specialValue,start:e.start}})}function ot(e,t,n){return E(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i,a,u,l,c,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.getGeneUsingGET({geneId:e.hugoGeneSymbol});case 2:if(i=r.sent,a=t[e.profileType],!o.a.isEmpty(a)){r.next=6;break}return r.abrupt("return",[]);case 6:return u=o.a.keyBy(a,function(e){return e.studyId}),l=n.map(function(e){return{sampleId:e.sampleId,molecularProfileId:u[e.studyId].molecularProfileId}}),r.next=10,s.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:[i.entrezGeneId],sampleMolecularIdentifiers:l}});case 10:return c=r.sent,f=new h.a,c.forEach(function(e){return f.set({sampleId:e.sampleId,molecularProfileId:e.molecularProfileId},e)}),r.abrupt("return",n.map(function(e){var t=u[e.studyId].molecularProfileId,n=f.get({sampleId:e.sampleId,molecularProfileId:t}),r={clinicalAttributeId:i.entrezGeneId+"-"+t,patientId:e.patientId,sampleId:e.sampleId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,uniqueSampleKey:e.uniqueSampleKey};return r.value=n?"".concat(n.value):v.a.NA,r}));case 14:case"end":return r.stop()}},r)}))}function it(e){return e[_.cna]||e[_.gistic]||e[_.rae]||e[_.cna_consensus]||0}function at(e,t){var n=o.a.keyBy(e,function(e){return e.uniqueSampleKey});return o.a.reduce(t,function(e,t){return void 0!==n[t.uniqueSampleKey]&&(void 0===e[t.molecularProfileId]&&(e[t.molecularProfileId]=[]),e[t.molecularProfileId].push(t.uniqueSampleKey)),e},{})}!function(e){e[e.LEADING=1]="LEADING",e[e.TRAILING=-1]="TRAILING"}(F||(F={}))}).call(this,n(11))},575:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return C}),n.d(t,"a",function(){return M});var r=n(703),o=n(0),i=n(2),a=n(7),u=(n(716),n(603)),s=n(681),l=n(718),c=n(3),f=n(700),p=n(706),d=n(56),m=n(785),y=n.n(m),h=n(595),v=n(721),g=n(669);function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function A(e,t,n){var r=0;return e!==t&&(null===e?r=1:null===t?r=-1:"number"==typeof e?r=e<t?n?-1:1:n?1:-1:"string"==typeof e&&(r=(n?1:-1)*e.localeCompare(t))),r}function C(e,t){for(var n,r,o,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[],u=0;u<e.length;u++){var s=e[u];a.push({data:s,initialPosition:u,sortBy:[].concat(t(s))})}return a.sort(function(e,t){return 0===(n=function(e,t,n){for(var r=0,o=Math.min(e.length,t.length),i=0;i<o&&0===(r=A(e[i],t[i],n));i++);return 0===r&&(e.length<t.length?r=n?-1:1:e.length>t.length&&(r=n?1:-1)),r}(e.sortBy,t.sortBy,i))&&(r=e.initialPosition,o=t.initialPosition,n=r<o?-1:1),n}),a.map(function(e){return e.data})}var M=function(){function t(e){var n=this;_(this,t),this.sortColumn=e.initialSortColumn||"",this.sortAscending="desc"!==e.initialSortDirection,this.setProps(e),Object(i.reaction)(function(){return n.displayData.length},function(){n.page=n.clampPage(n.page)})}return T(t,[{key:"clampPage",value:function(e){return e=Math.max(e,0),e=Math.min(e,this.maxPage)}},{key:"getNextSortAscending",value:function(e){return this.sortColumn===e.name?!this.sortAscending:"asc"===(e.defaultSortDirection||"asc")}},{key:"defaultHeaderClick",value:function(e){this.sortAscending=this.getNextSortAscending(e),this.dataStore.sortAscending=this.sortAscending,this.sortColumn=e.name,this.dataStore.sortMetric=this.sortMetric,this.page=0}},{key:"pageToRowIndex",value:function(e){this.page=Math.floor(e/this.itemsPerPage)}},{key:"setFilterString",value:function(e){var t=this;this.filterString=e,this.dataStore.filterString=e,this.page=0,this.dataStore.setFilter(function(e,n,r,o){if(!n)return!0;var i=!1,a=!0,u=!1,s=void 0;try{for(var l,c=t.visibleColumns[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;if(i=f.filter&&f.filter(e,n,r,o)||!1)break}}catch(e){u=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw s}}return i})}},{key:"setProps",value:function(e){this.columns=e.columns,this._itemsLabel=e.itemsLabel,this._itemsLabelPlural=e.itemsLabelPlural,this._columnVisibility=e.columnVisibility,this.downloadDataFetcher=e.downloadDataFetcher,this.onRowClick=e.onRowClick,this.onRowMouseEnter=e.onRowMouseEnter,this.onRowMouseLeave=e.onRowMouseLeave,e.dataStore?this.dataStore=e.dataStore:this.dataStore=new h.b(e.data||[]),void 0===this.dataStore.page&&(this.dataStore.page=0),void 0===this.itemsPerPage&&(this.itemsPerPage=e.initialItemsPerPage||50),void 0===this.dataStore.sortAscending?this.dataStore.sortAscending=this.sortAscending:this.sortAscending=this.dataStore.sortAscending,void 0===this.dataStore.sortMetric&&(this.dataStore.sortMetric=this.sortMetric),!e.dataStore&&this.filterString&&this.setFilterString(this.filterString)}},{key:"updateColumnVisibility",value:function(e,t){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(c.T)(this.columnVisibilityByColumnDefinition,this._columnVisibility)),void 0!==this._columnVisibilityOverride[e]&&(this._columnVisibilityOverride[e]=t)}},{key:"isVisible",value:function(e){return this.columnVisibility[e.name]||!1}},{key:"itemsPerPage",get:function(){return this.dataStore.itemsPerPage},set:function(e){this.dataStore.itemsPerPage=e,this.page=this.page}},{key:"firstHighlightedRowIndex",get:function(){for(var e=-1,t=0;t<this.displayData.length;t++)if(this.dataStore.isHighlighted(this.displayData[t])){e=t;break}return e}},{key:"displayData",get:function(){return this.dataStore.tableData}},{key:"showingAllRows",get:function(){return this.displayData.length<=this.itemsPerPage||-1===this.itemsPerPage}},{key:"page",get:function(){return this.dataStore.page},set:function(e){this.dataStore.page=this.clampPage(e)}},{key:"maxPage",get:function(){return Object(v.a)(this.displayData.length,this.itemsPerPage)}},{key:"columnVisibility",get:function(){return Object(c.T)(this.columnVisibilityByColumnDefinition,this._columnVisibility,this._columnVisibilityOverride)}},{key:"columnVisibilityByColumnDefinition",get:function(){return Object(c.U)(this.columns)}},{key:"downloadData",get:function(){var e=this,t=[];return t[0]=[],this.columns.forEach(function(e){t[0].push(e.headerDownload?e.headerDownload(e.name):e.name)}),this.dataStore.sortedData.forEach(function(n){var r,o,i,a=function(e,t){var n={data:[],maxColLength:1};return e.forEach(function(e){if(e.download){var r=e.download(t);r instanceof Array?(n.data.push(r),r.length>n.maxColLength&&(n.maxColLength=r.length)):n.data.push(r)}else n.data.push("")}),n}(e.columns,n),u=(r=a.data,o=a.maxColLength,i=[],r.forEach(function(e){if(e instanceof Array){if(o!=e.length)throw new Error("Not all the arrays returned from the download functions are from the same length.");i.push(e)}else{for(var t=[],n=0;n<o;n++)t=t.concat(e);i.push(t)}}),i);u[0].map(function(e,t){return u.map(function(e){return e[t]})}).forEach(function(e){t.push(e)})}),t}},{key:"sortColumnObject",get:function(){var e=this;return this.columns.find(function(t){return e.isVisible(t)&&t.name===e.sortColumn})}},{key:"visibleData",get:function(){return this.dataStore.visibleData}},{key:"sortMetric",get:function(){var e=this.sortColumnObject;return e&&e.sortBy?e.sortBy:function(){return 0}}},{key:"headers",get:function(){var t=this;return this.visibleColumns.map(function(n,r){var i,a,u={};n.sortBy&&(u.role="button",u.onClick=function(r){var o=r.target,i=e(o).closest(".multilineHeader");i&&i.length>0&&t.defaultHeaderClick(n)}),t.sortColumn===n.name&&(u.className=t.sortAscending?"multilineHeader sort-asc":"multilineHeader sort-des"),i=n.headerRender?n.headerRender(n.name):o.createElement("span",null,n.name),a=n.tooltip?o.createElement(c.c,{placement:"top",overlay:n.tooltip},i):i;var s={};return n.align&&(s.textAlign=n.align),n.width&&(s.width=n.width),o.createElement(o.Fragment,{key:r},o.createElement("th",I({className:"multilineHeader"},u,{style:s}),a),n.resizable&&o.createElement(y.a,{className:"multilineHeader columnResizer",minWidth:0}))})}},{key:"visibleColumns",get:function(){var e=this;return this.columns.filter(function(t){return e.isVisible(t)})}},{key:"colVisProp",get:function(){var e=this,t=[];return this.columns.forEach(function(n){t.push({id:n.name,name:n.name,visible:e.columnVisibility[n.name],togglable:!n.hasOwnProperty("togglable")||n.togglable})}),t}},{key:"paginationStatusText",get:function(){var e,t;0===this.rows.length?(e=0,t=0):(e=this.itemsPerPage===u.b?1:this.page*this.itemsPerPage+1,t=this.itemsPerPage===u.b?this.rows.length:e+this.rows.length-1);var n=this.itemsLabel;return n.length&&(n=" ".concat(n)),"Showing ".concat(e,"-").concat(t," of ").concat(this.displayData.length).concat(n)}},{key:"tds",get:function(){var e=this;return this.visibleData.map(function(t){return e.visibleColumns.map(function(e){var n=o.createElement("td",{key:e.name},e.render(t));return e.resizable?o.createElement(o.Fragment,null,n,o.createElement(y.a,{className:"columnResizer",minWidth:0})):n})})}},{key:"rows",get:function(){for(var e=this,t=[],n=function(n){var r={},i=[];if(e.dataStore.isHighlighted(e.visibleData[n])&&i.push("highlighted"),e.onRowClick){i.push("clickable");var a=e.onRowClick;r.onClick=function(){a(e.visibleData[n])}}if(e.onRowMouseEnter){var u=e.onRowMouseEnter;r.onMouseEnter=function(){u(e.visibleData[n])}}if(e.onRowMouseLeave){var s=e.onRowMouseLeave;r.onMouseLeave=function(){s(e.visibleData[n])}}i.length&&(r.className=i.join(" ")),t.push(o.createElement("tr",I({key:n},r),e.tds[n]))},r=0;r<this.visibleData.length;r++)n(r);return t}},{key:"itemsLabel",get:function(){return this._itemsLabel?this._itemsLabelPlural&&1!==this.displayData.length?this._itemsLabelPlural:this._itemsLabel:""}}]),t}();w([i.observable],M.prototype,"_itemsLabel",void 0),w([i.observable],M.prototype,"_itemsLabelPlural",void 0),w([i.observable],M.prototype,"sortColumn",void 0),w([i.observable],M.prototype,"sortAscending",void 0),w([i.observable.ref],M.prototype,"columns",void 0),w([i.observable],M.prototype,"dataStore",void 0),w([i.observable],M.prototype,"downloadDataFetcher",void 0),w([i.observable],M.prototype,"onRowClick",void 0),w([i.observable],M.prototype,"onRowMouseEnter",void 0),w([i.observable],M.prototype,"onRowMouseLeave",void 0),w([i.observable],M.prototype,"_columnVisibility",void 0),w([i.observable],M.prototype,"_columnVisibilityOverride",void 0),w([i.computed],M.prototype,"itemsPerPage",null),w([i.computed],M.prototype,"firstHighlightedRowIndex",null),w([i.computed],M.prototype,"displayData",null),w([i.computed],M.prototype,"showingAllRows",null),w([i.computed],M.prototype,"page",null),w([i.computed],M.prototype,"maxPage",null),w([i.computed],M.prototype,"columnVisibility",null),w([i.computed],M.prototype,"columnVisibilityByColumnDefinition",null),w([i.computed],M.prototype,"downloadData",null),w([i.computed],M.prototype,"sortColumnObject",null),w([i.computed],M.prototype,"visibleData",null),w([i.computed],M.prototype,"sortMetric",null),w([i.action],M.prototype,"defaultHeaderClick",null),w([i.computed],M.prototype,"headers",null),w([i.computed],M.prototype,"visibleColumns",null),w([i.computed],M.prototype,"colVisProp",null),w([i.computed],M.prototype,"paginationStatusText",null),w([i.computed],M.prototype,"tds",null),w([i.computed],M.prototype,"rows",null),w([i.action],M.prototype,"pageToRowIndex",null),w([i.action],M.prototype,"setFilterString",null),w([i.computed],M.prototype,"itemsLabel",null),w([i.action],M.prototype,"setProps",null),w([i.action],M.prototype,"updateColumnVisibility",null);var k=function(e){function t(e){var n,r,o;return _(this,t),r=this,o=b(t).call(this,e),(n=!o||"object"!==E(o)&&"function"!=typeof o?S(r):o).store=new M(e),n.handlers={onFilterTextChange:Object(g.a)(function(e){n.store.setFilterString(e)},400),visibilityToggle:function(e){n.updateColumnVisibility(e,!n.store.columnVisibility[e])},changeItemsPerPage:function(e){n.store.itemsPerPage=e},incPage:function(){n.store.page+=1},decPage:function(){n.store.page-=1},filterInputRef:function(e){n.filterInput=e}},n.getDownloadData=n.getDownloadData.bind(S(n)),n.getDownloadDataPromise=n.getDownloadDataPromise.bind(S(n)),n.getTopToolbar=n.getTopToolbar.bind(S(n)),n.getBottomToolbar=n.getBottomToolbar.bind(S(n)),n.getTable=n.getTable.bind(S(n)),n.getPaginationControls=n.getPaginationControls.bind(S(n)),n.filterInputReaction=Object(i.reaction)(function(){return n.store.dataStore.filterString},function(e){n.filterInput&&(n.filterInput.value=e)}),n.pageToHighlightReaction=Object(i.reaction)(function(){return n.store.firstHighlightedRowIndex},function(e){n.props.pageToHighlight&&n.store.pageToRowIndex(n.store.firstHighlightedRowIndex)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,o["Component"]),T(t,[{key:"getDownloadData",value:function(){return Object(p.a)(this.store.downloadData)}},{key:"getDownloadDataPromise",value:function(){var e=this;return new Promise(function(t){e.store.downloadDataFetcher?e.store.downloadDataFetcher.fetchAndCacheAllLazyData().then(function(n){t({status:"complete",text:e.getDownloadData()})}).catch(function(){t({status:"incomplete",text:e.getDownloadData()})}):t({status:"complete",text:e.getDownloadData()})})}},{key:"updateColumnVisibility",value:function(e,t){void 0!==this.store.columnVisibility[e]&&this.store.updateColumnVisibility(e,t)}},{key:"componentWillUnmount",value:function(){this.filterInputReaction(),this.pageToHighlightReaction()}},{key:"componentWillReceiveProps",value:function(e){this.store.setProps(e)}},{key:"getPaginationControls",value:function(){var e={className:"text-center topPagination",itemsPerPage:this.store.itemsPerPage,totalItems:this.store.displayData.length,currentPage:this.store.page,onChangeItemsPerPage:this.handlers.changeItemsPerPage,showItemsPerPageSelector:!1,onPreviousPageClick:this.handlers.decPage,onNextPageClick:this.handlers.incPage,previousPageDisabled:0===this.store.page,nextPageDisabled:this.store.page===this.store.maxPage,textBeforeButtons:this.store.paginationStatusText,groupButtons:!1,bsStyle:"primary"};return this.props.paginationProps&&(!1===this.props.paginationProps.showMoreButton&&(delete e.textBeforeButtons,e.textBetweenButtons=this.store.paginationStatusText),e=Object.assign(e,this.props.paginationProps)),o.createElement(u.a,e)}},{key:"getTopToolbar",value:function(){return o.createElement("div",null,this.props.showCountHeader&&this.countHeader,o.createElement(d.ButtonToolbar,{style:{marginLeft:0},className:"tableMainToolbar"},this.props.showFilter?o.createElement("div",{className:"pull-right form-group has-feedback input-group-sm tableFilter",style:{display:"inline-block",marginLeft:5}},o.createElement("input",{ref:this.handlers.filterInputRef,placeholder:this.props.filterPlaceholder||"",type:"text",onInput:this.handlers.onFilterTextChange,className:"form-control tableSearchInput",style:{width:200}}),o.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true",style:{zIndex:0}})):"",this.props.showColumnVisibility?o.createElement(s.a,I({className:"pull-right",columnVisibility:this.store.colVisProp,onColumnToggled:this.handlers.visibilityToggle},this.props.columnVisibilityProps)):"",this.props.showCopyDownload?this.props.downloadDataFetcher?o.createElement(l.a,I({className:"pull-right",downloadData:this.getDownloadDataPromise,downloadFilename:"table.tsv"},this.props.copyDownloadProps)):o.createElement(f.a,I({className:"pull-right",downloadData:this.getDownloadData,downloadFilename:"table.tsv",controlsStyle:"BUTTON"},this.props.copyDownloadProps)):"",this.props.showPagination&&this.props.showPaginationAtTop?o.createElement(a.Observer,null,this.getPaginationControls):null))}},{key:"getBottomToolbar",value:function(){return o.createElement(d.ButtonToolbar,{style:{marginLeft:0,float:"none"},className:"tableMainToolbar center"},this.props.showPagination&&o.createElement(a.Observer,null,this.getPaginationControls))}},{key:"getTable",value:function(){return o.createElement("div",{style:{overflowX:this.props.enableHorizontalScroll?"auto":"visible"}},o.createElement(r.a,{headers:this.store.headers,rows:this.store.rows,className:this.props.className}))}},{key:"render",value:function(){return o.createElement("div",{className:"lazy-mobx-table","data-test":"LazyMobXTable"},o.createElement(a.Observer,null,this.getTopToolbar),o.createElement(a.Observer,null,this.getTable),!this.props.showPaginationAtTop&&o.createElement(a.Observer,null,this.getBottomToolbar))}},{key:"dataStore",get:function(){return this.store.dataStore}},{key:"countHeader",get:function(){return o.createElement("span",{"data-test":"LazyMobXTable_CountHeader",style:{float:"left",color:"black",fontSize:"16px",fontWeight:"bold"}},this.store.displayData.length," ",this.store.itemsLabel," (page"," ",this.store.page+1," of ",this.store.maxPage+1,")")}}]),t}();k.defaultProps={showFilter:!0,showCopyDownload:!0,showPagination:!0,showColumnVisibility:!0,showPaginationAtTop:!1,showCountHeader:!1},w([i.action],k.prototype,"componentWillReceiveProps",null),k=w([a.observer],k),t.b=k}).call(this,n(11))},576:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return c});var r=n(4),o=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],i={fontFamily:"Arial, Helvetica",width:350,height:350,padding:50},a={fontFamily:"Arial, Helvetica",fontSize:13,letterSpacing:"normal",padding:8,stroke:"transparent",strokeWidth:0},u=Object(r.assign)({textAnchor:"middle"},a),s=Object(r.assign)({},a,{fontSize:13,padding:8}),l=Object(r.assign)({},a,{fill:"black",padding:2}),c=Object(r.assign)({},a),f={area:Object(r.assign)({style:{data:{fill:"#212121"},labels:u}},i),axis:Object(r.assign)({style:{axis:{fill:"transparent",stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:Object(r.assign)({},u,s),grid:{fill:"none",stroke:"#ECEFF1",strokeOpacity:function(e){return 0===e?0:1},strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"visible"},ticks:{fill:"transparent",size:4,stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:l}},i),bar:Object(r.assign)({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:a}},i),boxplot:Object(r.assign)({style:{max:{padding:8,stroke:"#455A64",strokeWidth:1},maxLabels:a,median:{padding:8,stroke:"#455A64",strokeWidth:1},medianLabels:a,min:{padding:8,stroke:"#455A64",strokeWidth:1},minLabels:a,q1:{padding:8,fill:"#455A64"},q1Labels:a,q3:{padding:8,fill:"#455A64"},q3Labels:a},boxWidth:20},i),candlestick:Object(r.assign)({style:{data:{stroke:"#455A64"},labels:u},candleColors:{positive:"#ffffff",negative:"#455A64"}},i),chart:i,errorbar:Object(r.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},i),group:Object(r.assign)({colorScale:o},i),line:Object(r.assign)({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},i),pie:Object(r.assign)({colorScale:o,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:Object(r.assign)({},a,{padding:20})}},i),scatter:Object(r.assign)({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:u}},i),stack:Object(r.assign)({colorScale:o},i),tooltip:{style:Object(r.assign)({},u,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:Object(r.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object(r.assign)({},u,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},i),legend:{colorScale:o,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle",size:3,strokeWidth:1,stroke:"black"},labels:c,title:Object(r.assign)({},a,{padding:5})}}};t.d=f},577:function(e,t,n){"use strict";var r=n(4),o=n.n(r),i=n(0),a=n(621),u=n(589);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new u.a}var t,n,r;return t=e,(n=[{key:"increment",value:function(e){this.map.set(e,(this.map.get(e)||0)+1)}},{key:"get",value:function(e){return this.map.get(e)||0}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&s(t.prototype,n),r&&s(t,r),e}(),c=n(657),f=n(579),p=n(639),d=n(101),m=n(590),y=n(3),h=n(574);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e){var t=o.a.partition(e,function(e){return"na"===e.name.toLowerCase()});return o.a.sortBy(t[1],function(e){return e.name.toLowerCase()}).concat(t[0])}n.d(t,"l",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"t",function(){return P}),n.d(t,"j",function(){return I}),n.d(t,"i",function(){return _}),n.d(t,"v",function(){return O}),n.d(t,"B",function(){return w}),n.d(t,"x",function(){return A}),n.d(t,"w",function(){return C}),n.d(t,"s",function(){return M}),n.d(t,"r",function(){return k}),n.d(t,"o",function(){return R}),n.d(t,"d",function(){return x}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return j}),n.d(t,"b",function(){return G}),n.d(t,"f",function(){return L}),n.d(t,"a",function(){return F}),n.d(t,"p",function(){return q}),n.d(t,"y",function(){return B}),n.d(t,"e",function(){return K}),n.d(t,"D",function(){return U}),n.d(t,"A",function(){return V}),n.d(t,"n",function(){return H}),n.d(t,"F",function(){return z}),n.d(t,"z",function(){return W}),n.d(t,"m",function(){return Y}),n.d(t,"E",function(){return X}),n.d(t,"k",function(){return Q}),n.d(t,"C",function(){return Z}),n.d(t,"u",function(){return J}),n.d(t,"q",function(){return $});var b=20,S="-ABCDEFGHIJKLMNOPQRSTUVWXYZ";function P(e,t){if(e<=0)return[];for(var n,r,i=[[1]],a=1;a<e;a++){n=i[a-1],(r=o.a.clone(n))[r.length-1]+=1;for(var u=r.length-1;u>=0;u--)r[u]>t&&(r[u]-=t,u>0?r[u-1]+=1:r.unshift(1));i.push(r)}return i.map(function(e){return e.map(function(e){return S[e]}).join("")})}function I(e,t){var n="";if((Array.isArray(e)||e.isComplete)&&(Array.isArray(t)||t.isComplete)){var r=Array.isArray(e)?e:e.result,o=Array.isArray(t)?t:t.result;if(r.length===o.length)n="(".concat(r.length,")");else{var i=1!==r.length,a=1!==o.length;n="(".concat(r.length," sample").concat(i?"s":"","/").concat(o.length," patient").concat(a?"s":"",")")}}return n}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";if(e===t){var o=1!==e;return"".concat(e).concat(r,"sample").concat(o?"s":"").concat(n,"patient").concat(o?"s":"")}var i=1!==e,a=1!==t;return"".concat(e).concat(r,"sample").concat(i?"s":"").concat(n).concat(t).concat(r,"patient").concat(a?"s":"")}function O(e,t){var n={},r=!0,i=!1,a=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var l=u.value,c=t.get({studyId:l.studyId,sampleId:l.sampleId});!c||c.uniquePatientKey in n||(n[c.uniquePatientKey]={patientId:c.patientId,studyId:c.studyId})}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return o.a.values(n)}function T(e){var t=new l,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,c=!1,f=void 0;try{for(var p,d=u.studies[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value,y=m.id,h=!0,v=!1,g=void 0;try{for(var b,S=m.samples[Symbol.iterator]();!(h=(b=S.next()).done);h=!0){var P=b.value;t.increment({studyId:y,sampleId:P})}}catch(e){v=!0,g=e}finally{try{h||null==S.return||S.return()}finally{if(v)throw g}}}}catch(e){c=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw f}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var I=[],_=!0,O=!1,T=void 0;try{for(var E,w=t.entries()[Symbol.iterator]();!(_=(E=w.next()).done);_=!0){var A=E.value;A.value>1&&I.push(A.key)}}catch(e){O=!0,T=e}finally{try{_||null==w.return||w.return()}finally{if(O)throw T}}return I}function E(e){var t=new l,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,c=!1,f=void 0;try{for(var p,d=u.studies[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value,y=m.id,h=!0,v=!1,g=void 0;try{for(var b,S=m.patients[Symbol.iterator]();!(h=(b=S.next()).done);h=!0){var P=b.value;t.increment({studyId:y,patientId:P})}}catch(e){v=!0,g=e}finally{try{h||null==S.return||S.return()}finally{if(v)throw g}}}}catch(e){c=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw f}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var I=[],_=!0,O=!1,T=void 0;try{for(var E,w=t.entries()[Symbol.iterator]();!(_=(E=w.next()).done);_=!0){var A=E.value;A.value>1&&I.push(A.key)}}catch(e){O=!0,T=e}finally{try{_||null==w.return||w.return()}finally{if(O)throw T}}return I}function w(e){return!o.a.some(e.studies,function(e){return e.samples.length>0||e.patients.length>0})}function A(e){return o.a.uniq(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){return e.id})})))}function C(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.samples.map(function(e){return{studyId:t,sampleId:e}})})})),function(e,t){return e.sampleId===t.sampleId&&e.studyId===t.studyId})}function M(e,t){return o.a.sum(e.studies.map(function(e){if(t){var n=e.id,r=0,o=!0,i=!1,a=void 0;try{for(var u,s=e.samples[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;t(n,l)&&(r+=1)}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return r}return e.samples.length}))}function k(e){return o.a.sum(e.studies.map(function(e){return e.patients.length}))}function R(e,t){var n=[],r=[],i=!0,a=!1,u=void 0;try{for(var s,l=e.studies[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,f=c.id,p=[],d=[],m=!0,y=!1,h=void 0;try{for(var v,g=c.samples[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){var b=v.value,S=t.get({studyId:f,sampleId:b});S?(p.push(b),d.push(S.patientId)):n.push({studyId:f,sampleId:b})}}catch(e){y=!0,h=e}finally{try{m||null==g.return||g.return()}finally{if(y)throw h}}d=o.a.uniq(d),(p.length>0||d.length>0)&&r.push({id:f,samples:p,patients:d})}}catch(e){a=!0,u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}return{nonExistentSamples:n,studies:r}}function N(e,t){var n=t.overlappingSamplesSet,r=t.overlappingPatientsSet;return e.map(function(e){var t=[],o=!0,i=!1,a=void 0;try{for(var u,s=function(){var e=u.value,o=e.id,i=e.samples.filter(function(e){return!n.has({studyId:o,sampleId:e})}),a=e.patients.filter(function(e){return!r.has({studyId:o,patientId:e})});(i.length>0||a.length>0)&&t.push({id:o,samples:i,patients:a})},l=e.studies[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)s()}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return Object.assign({},e,{studies:t})})}function x(e,t,n,r,o,a){return Object(f.a)({await:function(){var n=e(),r=[n._activeGroupsNotOverlapRemoved,n.activeGroups,n.activeStudyIds];return n.activeGroups.isComplete&&2!==n.activeGroups.result.length||n.activeStudyIds.isComplete&&n.activeStudyIds.result.length>1||r.push(t()),r},render:function(){var u=e(),s=u.activeGroups.result.length;if(!r&&2!==s||r&&s<2)return i.createElement("span",null,function(e,t,n){if(t<2)return"Please select more groups - we need ".concat(n?"at least":"exactly"," 2 selected groups to show enrichments.");if(e<2)return"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need exactly 2 nonempty selected groups to show enrichments.";if(e>2)return"Please deselect groups - we need exactly 2 selected groups to show enrichments."}(u.activeGroups.result.length,u._activeGroupsNotOverlapRemoved.result.length,r));if(u.activeStudyIds.result.length>1&&!a)return i.createElement("span",null,"The selected comparison groups span more than one study, so we can't show ".concat(n," enrichments. Please change your selection in the Groups section so that all samples only come from one study."));var l=[];return l.push(i.createElement(p.a,{store:u,only:o&&u.usePatientLevelEnrichments?"patient":"sample"})),l.push(t().component),l},renderPending:function(){return i.createElement(d.a,{center:!0,isLoading:!0,size:"big"})},renderError:function(){return i.createElement(m.a,null)}})}var D="We need at least 1 group to show survival. Please select more groups from the Groups section above.",j="We can't show survival for more than 10 groups. Please deselect groups in the Groups section.",G="Another group already has this name.",L="We need at least 2 groups to show overlap. Please select more groups from the Groups section above.";function F(e){return e>=2?"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need at least 2.":"We need at least 2 groups to show clinical data enrichments. Please select more groups from the Groups section above."}function q(e,t,n){var r=o.a.chain(e.clinicalDataFilters||[]).filter(function(e){return n[e.attributeId]===h.c.STRING}).sortBy(function(e){return e.attributeId}).map(function(e){return o.a.flatMap(e.values,function(e){return e.value}).join("+")}).value(),i=o()(t).keys().sortBy().map(function(e){return t[e].join("+")}).value(),a=o.a.chain(e.geneFilters||[]).flatMapDeep(function(e){return e.geneQueries}).value(),u=o.a.chain(e.caseLists||[]).flatMapDeep(function(e){return e}).value(),s=o.a.flatMapDeep(e.genomicProfiles||[]);return a.concat(r).concat(i).concat(s).concat(u).join(", ")}function B(e){var t=e.match(/comparison\/([^\/]+)/);return t?t[1]:void 0}function K(e){return i.createElement("div",{style:{width:380}},i.createElement("div",{style:{marginBottom:7}},"The following samples cannot be found in our database. They might have been removed or changed since this group was created:"," "),i.createElement("div",{style:{maxHeight:200,overflowY:"scroll"}},e.samples.map(function(e){return i.createElement("div",null,"".concat(e.studyId,":").concat(e.sampleId))})))}function U(e,t){for(var n=(e=o.a.chain(e).filter(function(e){return!isNaN(e.value)}).sortBy(function(e){return parseFloat(e.value)}).value()).length/t,r=[],i=0;i<t;i++){var a=e.slice(n*i,n*(i+1));a.length>0&&r.push(a)}return r}function V(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,samples:o.a.intersection(e.samples,t in r?r[t].samples:[])}});return o.a.values(i).filter(function(e){return e.samples.length>0})}function H(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,samples:t in r?o.a.difference(e.samples,r[t].samples):e.samples}});return o.a.values(i).filter(function(e){return e.samples.length>0})}function z(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],i=r[e];return t&&i?{id:e,samples:o.a.union(t.samples,i.samples)}:t||i})}function W(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,patients:o.a.intersection(e.patients,t in r?r[t].patients:[])}});return o.a.values(i).filter(function(e){return e.patients.length>0})}function Y(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),i=o.a.mapValues(n,function(e,t){return{id:e.id,patients:t in r?o.a.difference(e.patients,r[t].patients):e.patients}});return o.a.values(i).filter(function(e){return e.patients.length>0})}function X(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],i=r[e];return t&&i?{id:e,patients:o.a.union(t.patients,i.patients)}:t||i})}function Q(e,t){return e.map(function(e){return{id:e.id,samples:o.a.flatten(e.patients.map(function(n){return(t.get({patientId:n,studyId:e.id})||[]).map(function(e){return e.sampleId})}))}})}function Z(e,t,n,r){var i=new c.a,a=e.reduce(function(e,r){return e[r.uid]=o.a.keyBy(t(r).map(function(e){return n(e)})),e},{}),u=!0,s=!1,l=void 0;try{for(var f,p=r[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value,m={},y=!0,h=!1,v=void 0;try{for(var g,b=e[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var S=g.value;m[S.uid]=d in a[S.uid]}}catch(e){h=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(h)throw v}}i.add(m,d)}}catch(e){s=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw l}}return i.entries()}function J(e,t){var n=e.filter(function(e){return t(e.name)}),r=new a.a,i=new a.a,u=[],s=[],l=new a.a,c=new a.a,f={};if(n.length>0)for(;;){u=T(n),s=E(n),l=new a.a,c=new a.a;var p=void 0,d=!0,m=!1,h=void 0;try{for(var g,b=u[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var S=g.value;p={studyId:S.studyId,sampleId:S.sampleId},l.add(p),r.add(p)}}catch(e){m=!0,h=e}finally{try{d||null==b.return||b.return()}finally{if(m)throw h}}var P=void 0,I=!0,_=!1,O=void 0;try{for(var A,C=s[Symbol.iterator]();!(I=(A=C.next()).done);I=!0){var M=A.value;P={studyId:M.studyId,patientId:M.patientId},c.add(P),i.add(P)}}catch(e){_=!0,O=e}finally{try{I||null==C.return||C.return()}finally{if(_)throw O}}var k=v(o.a.partition(N(n,{overlappingSamplesSet:l,overlappingPatientsSet:c}),function(e){return w(e)}),2),R=k[0],x=k[1];if(R.length>0){var D=R.pop();f[D.uid]=D}if(x.length===n.length)break;n=n.filter(function(e){return!(e.uid in f)})}var j=Object(y.W)(e.map(function(e){return e.uid})),G=N(n,{overlappingSamplesSet:l,overlappingPatientsSet:c}).concat(o.a.values(f));return{groups:G=o.a.sortBy(G,function(e){return j[e.uid]}),overlappingSamples:u,overlappingPatients:s,overlappingSamplesSet:l,overlappingPatientsSet:c,totalSampleOverlap:r.keys().length,totalPatientOverlap:i.keys().length,excludedFromAnalysis:o.a.mapValues(f,function(e){return!0})}}function $(e,t,n){var r=[],o=["Sample ID","Patient ID","Study ID"].concat(t.map(function(e){return e.name}));r.push(o);var i=!0,a=!1,u=void 0;try{for(var s,l=function(){var e=s.value,o=n[e.uniqueSampleKey],i=[e.sampleId,e.patientId,e.studyId].concat(t.map(function(e){return o[e.uid]?"Yes":"No"}));r.push(i)},c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0)l()}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}return r.map(function(e){return e.join("\t")}).join("\n")}},578:function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"h",function(){return a}),n.d(t,"g",function(){return u}),n.d(t,"p",function(){return s}),n.d(t,"q",function(){return l}),n.d(t,"n",function(){return c}),n.d(t,"o",function(){return f}),n.d(t,"t",function(){return p}),n.d(t,"u",function(){return d}),n.d(t,"l",function(){return m}),n.d(t,"s",function(){return y}),n.d(t,"r",function(){return h}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return P}),n.d(t,"a",function(){return I}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return T}),n.d(t,"f",function(){return E}),n.d(t,"x",function(){return w}),n.d(t,"y",function(){return A});var r=n(4),o="#D3D3D3",i="#BEBEBE",a="#000000",u=i,s="#008000",l="#53D400",c="#993404",f="#a68028",p="#000000",d="#708090",m="#8B00C9",y="#00B7CE",h="#cf58bc",v="#ff9999",g="#6699cc",b="#FFFFFF",S="#ff3df8",P="#00E1FF",I="#ff0000",_="#ffb6c1",O="#8fd8d8",T="#0000ff",E=o,w={true:"#1b9e77",yes:"#1b9e77",positive:"#1b9e77","disease free":"#1b9e77","tumor free":"#1b9e77",living:"#1b9e77",alive:"#1b9e77","not progressed":"#1b9e77",false:"#d95f02",no:"#d95f02",negative:"#d95f02",recurred:"#d95f02",progressed:"#d95f02","recurred/progressed":"#d95f02","with tumor":"#d95f02",deceased:"#d95f02",female:"#E0699E",f:"#E0699E",male:"#2986E2",m:"#2986E2",other:"#A9A9A9",unknown:E,na:E,missense:s,inframe:c,truncating:p,fusion:m,promoter:y,"1:deceased":"#d95f02","1:recurred/progressed":"#d95f02","1:recurred":"#d95f02","1:progressed":"#d95f02","1:yes":"#d95f02","1:1":"#d95f02","1:progression":"#d95f02","1:event":"#d95f02","1:dead of melanoma":"#d95f02","1:dead with tumor":"#d95f02","1:metastatic relapse":"#d95f02","1:localized relapse":"#d95f02","0:living":"#1b9e77","0:alive":"#1b9e77","0:diseasefree":"#1b9e77","0:no":"#1b9e77","0:0":"#1b9e77","0:progressionfree":"#1b9e77","0:no progression":"#1b9e77","0:not progressed":"#1b9e77","0:censored":"#1b9e77","0:censor":"#1b9e77","0:alive or censored":"#1b9e77","0:alive or dead tumor free":"#1b9e77","0:no relapse":"#1b9e77","0:progression free":"#1b9e77","0:censure":"#1b9e77","0:ned":"#1b9e77","wild type":i,amplification:I,gain:_,diploid:i,"shallow deletion":O,"deep deletion":T};function A(e){return w[e.replace(/\s/g,"").toLowerCase()]}r.forEach(w,function(e,t){w[t.toLowerCase()]=e,w[t.toUpperCase()]=e;var n=t.replace(/\s/g,"");w[n]=e,w[n.toLowerCase()]=e,w[n.toUpperCase()]=e,w[t[0].toUpperCase()+t.slice(1).toLowerCase()]=e,w[t.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join(" ")]=e})},579:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),o=n(3);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n=!1;return Object(r.observable)({get status(){var t=e.await();return o.E.apply(void 0,i(t))},get isComplete(){return"complete"===this.status},get isError(){return"error"===this.status},get isPending(){return"pending"===this.status},get component(){var r=null;switch(this.status){case"complete":r=e.render(),n=!0,t=r;break;case"pending":e.showLastRenderWhenPending&&n?r=t:e.renderPending&&(r=e.renderPending());break;case"error":e.renderError&&(r=e.renderError())}return r}})}},580:function(e,t,n){"use strict";n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return y});var r=n(0),o=n(4),i=n(582),a=n(640),u=n.n(a);function s(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}function l(e,t){e.toFixed(t);for(var n="",r=0;r<t;r++)n+="0";return u()(e).format("0[.][".concat(n,"]"))}function c(e,t){var n=e.toFixed(t);if(0!==e&&0===parseFloat(n)){var r=t>1?o.fill(Array(t-1),"0"):[];n="".concat(e>0?"<":">-","0.").concat(r.join(""),"1")}return n}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(c(100*e,t),"%")}function p(e){var t=r.createElement("span",null,Object(i.b)(e,3,.01));return e<.05&&(t=r.createElement("b",null,t)),t}function d(e){return e<-10?"<-10":e>10?">10":e.toFixed(2)}function m(e,t){return e>t?t:e<-t?-t:Number(e.toFixed(2))}function y(e,t,n,o){return 0===e||Math.log10(e)<o?r.createElement("span",null,"< 10",r.createElement("sup",null,o)):Object(i.b)(e,t,n)}},582:function(e,t,n){"use strict";function r(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}function o(e,t,n){return Math.min(n,Math.max(t,e))}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},583:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return h}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"k",function(){return b}),n.d(t,"j",function(){return P}),n.d(t,"l",function(){return I}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return O});var r=n(4),o=n.n(r),i=n(632),a=n.n(i),u=n(3),s=n(576),l=n(582);function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e){if("gradient"===e.symbol.type)return 100;var t=[].concat(e.name);return o.a.sumBy(t,function(e){return Object(u.K)(e,s.d.legend.style.labels.fontFamily,s.d.legend.style.labels.fontSize+"px")})}function p(e,t,n){var r=Math.ceil(t.length/e),i=Math.max.apply(Math,c(t.map(f)))*r;i+=20*(r-1);var a=0;if(n){var l=[].concat(n);a=o.a.sumBy(l,function(e){return Object(u.K)(e,s.d.legend.style.title.fontFamily,s.d.legend.style.title.fontSize+"px")}),a+=10*(l.length-1)}return Math.max(i,a)}function d(e){return Math.max.apply(Math,c(e.map(function(e){return Object(u.L)(Array.isArray(e.name)?e.name.join(" "):e.name,s.e.fontFamily,s.e.fontSize+"px")})))}function m(e,t,n,r){var o=e+50+n,i=t;if(r){var a=[].concat(r);i-=Math.max.apply(Math,c(a.map(function(e){return Object(u.L)(e,s.d.legend.style.title.fontFamily,s.d.legend.style.title.fontSize+"px")}))),i-=s.d.legend.gutter}return Object(l.a)(Math.floor(i/o),1,5)}function y(e,t){var n=(e=1e4*Math.sin(e))-Math.floor(e);return t&&(n=n*(t[1]-t[0])+t[0]),n}function h(e){return y(function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(e),[-1,1])}function v(e){var t=null;return[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(n){return e.tooltipModel=n,e.pointHovered=!0,null!==t&&(clearTimeout(t),t=null),{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return null!==t&&clearTimeout(t),t=setTimeout(function(){e.pointHovered=!1},250),{active:!1}}}]}}}]}function g(e,t){return t?e&&"function"==typeof t?function(n,r){return t(n,r,e(n))}:t:function(t,n){return n||e&&e(t)?6:3}}function b(e,t,n){return n?8:t?6:4}function S(e){var t=parseInt(e,16);return t*=.95,1===(e=(t=Math.round(t)).toString(16)).length&&(e="0"+e),e}function P(e){e=e||[];var t=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],n=0,r={},o=!0,i=!1,a=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;r[l]=!0}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return function(){for(var e,o,i,a,u=t[n%t.length];r[u];)if(n<t.length)u=t[(n+=1)%t.length];else{var s=(o=void 0,i=void 0,a=void 0,o=(e=u)[1]+e[2],i=e[3]+e[4],a=e[5]+e[6],"#"+(o=S(o))+(i=S(i))+(a=S(a)));if(s===u)break;u=s}return r[u]=!0,n+=1,u}}function I(e,t,n,r,i,a,u,s){var l,c,f,p,d,m,y,h,v=[],g=!0,b=!1,S=void 0;try{for(var P,I=function(){var e=P.value;l="function"==typeof t?t(e):t,c="function"==typeof n?n(e):n,f="function"==typeof r?r(e):r,p="function"==typeof i?i(e):i,d="function"==typeof a?a(e):a,m="function"==typeof u?u(e):u,y=s?s.map(function(t){return t(e)}):[1],h=!1;for(var g=0,b=v;g<b.length;g++){var S=b[g];if(S.fill===l&&S.stroke===c&&S.strokeWidth===f&&S.strokeOpacity===p&&S.fillOpacity===d&&S.symbol===m&&o.a.isEqual(S.sortBy,y)){S.data.push(e),h=!0;break}}h||v.push({data:[e],fill:l,stroke:c,strokeWidth:f,strokeOpacity:p,fillOpacity:d,symbol:m,sortBy:y})},_=e[Symbol.iterator]();!(g=(P=_.next()).done);g=!0)I()}catch(e){b=!0,S=e}finally{try{g||null==_.return||_.return()}finally{if(b)throw S}}if(s){var O=s.map(function(e,t){return function(e){return e.sortBy[t]}});v=o.a.sortBy(v,O)}return v}function _(e,t){var n=e;if(1===Math.abs(n))return 0;var r=t;if(r>2){var o=Math.abs(n)*Math.sqrt((r-2)/(1-n*n));return a.a.ttest(o,r-1,2)}return null}function O(e){return function(e){return"thresholdType"in e}(e)?!!e.thresholdType:!!function(e){return"xThresholdType"in e||"yThresholdType"in e}(e)&&(!!e.xThresholdType||!!e.yThresholdType)}},585:function(e,t,n){"use strict";n.d(t,"f",function(){return P}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return I}),n.d(t,"t",function(){return _}),n.d(t,"l",function(){return T}),n.d(t,"e",function(){return E}),n.d(t,"p",function(){return A}),n.d(t,"g",function(){return C}),n.d(t,"c",function(){return M}),n.d(t,"k",function(){return k}),n.d(t,"s",function(){return R}),n.d(t,"m",function(){return N}),n.d(t,"v",function(){return x}),n.d(t,"w",function(){return D}),n.d(t,"u",function(){return j}),n.d(t,"d",function(){return G}),n.d(t,"n",function(){return L}),n.d(t,"h",function(){return F}),n.d(t,"q",function(){return q}),n.d(t,"r",function(){return B}),n.d(t,"o",function(){return K}),n.d(t,"x",function(){return U}),n.d(t,"j",function(){return H}),n.d(t,"i",function(){return z}),n.d(t,"y",function(){return W});var r=n(2),o=n(598),i=n(588),a=n(643),u=n.n(a),s=n(572),l=n(570),c=n(3),f=n(4),p=n.n(f),d=n(178),m=n(620),y=n(612),h=n(651),v=n(573);function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b,S=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function P(e){var t=!1,n={},r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;t=t||!!s.driverFilter,s.driverTiersFilter&&(n[s.driverTiersFilter]=!0)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return{hasBinary:t,tiers:Object.keys(n)}}!function(e){e.SAMPLE="sample",e.PATIENT="patient"}(b||(b={}));var I="hg19",_=Object(r.action)(function(e,t,n,r,o){var i=!0,a=!1,u=void 0;try{for(var s,l=e.tiers[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;t.driverTiers.set(c,n)}}catch(e){a=!0,u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}r&&(t.oncoKb=!0),o&&(t.hotspots=!0)});function O(e,t){var n=!!(t.oncoKb||t.hotspots||t.cbioportalCount||t.cosmicCount||t.customDriverBinary||t.customDriverTier);return Object.assign({putativeDriver:n,isHotspot:t.hotspots,oncoKbOncogenic:t.oncoKb,simplifiedMutationType:Object(o.c)(e.mutationType)},e)}function T(e,t,n){var r=[],o=[],i=[],a=[],u=!0,s=!1,l=void 0;try{for(var c,f=e[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value,d=O(p,t(p));d.hugoGeneSymbol=n[p.entrezGeneId].hugoGeneSymbol;var m=!Object(v.n)(p),y=!d.putativeDriver;m&&y?i.push(d):m?o.push(d):y?r.push(d):a.push(d)}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}return{data:a,vus:r,germline:o,vusAndGermline:i}}function E(e,t,n){var r=e.data;return t||(r=r.concat(e.vus)),n||(r=r.concat(e.germline)),t||n||(r=r.concat(e.vusAndGermline)),r}var w=["likely oncogenic","predicted oncogenic","oncogenic"];function A(e){return w.indexOf((e.oncogenic||"").toLowerCase())>-1?e.oncogenic:""}function C(e,t,n,r,o){var i=p.a.keyBy(o,function(e){return e.entrezGeneId}),a=p.a.mapValues(p.a.keyBy(t,function(e){return e.genePanelId}),function(e){return e.genes.filter(function(e){return!!i[e.entrezGeneId]})}),u=p.a.reduce(n,function(e,t){return e[t.uniqueSampleKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),s=p.a.reduce(r,function(e,t){return e[t.uniquePatientKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),l=[],c=!0,f=!1,d=void 0;try{for(var m,y=e[Symbol.iterator]();!(c=(m=y.next()).done);c=!0){var h=m.value,v=u[h.uniqueSampleKey],g=s[h.uniquePatientKey],b=h.genePanelId;if(h.profiled)if(b){if(a[b]){var S=!0,P=!1,I=void 0;try{for(var _,O=a[b][Symbol.iterator]();!(S=(_=O.next()).done);S=!0){var T=_.value;v.byGene[T.hugoGeneSymbol]=v.byGene[T.hugoGeneSymbol]||[],v.byGene[T.hugoGeneSymbol].push(h),g.byGene[T.hugoGeneSymbol]=g.byGene[T.hugoGeneSymbol]||[],g.byGene[T.hugoGeneSymbol].push(h)}}catch(e){P=!0,I=e}finally{try{S||null==O.return||O.return()}finally{if(P)throw I}}l.push(h)}}else v.allGenes.push(h),g.allGenes.push(h);else v.notProfiledAllGenes.push(h),g.notProfiledAllGenes.push(h)}}catch(e){f=!0,d=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw d}}for(var E=0,w=l;E<w.length;E++){var A=w[E],C=u[A.uniqueSampleKey],M=s[A.uniquePatientKey],k=!0,R=!1,N=void 0;try{for(var x,D=o[Symbol.iterator]();!(k=(x=D.next()).done);k=!0){var j=x.value;C.byGene[j.hugoGeneSymbol]||(C.notProfiledByGene[j.hugoGeneSymbol]=C.notProfiledByGene[j.hugoGeneSymbol]||[],C.notProfiledByGene[j.hugoGeneSymbol].push(A)),M.byGene[j.hugoGeneSymbol]||(M.notProfiledByGene[j.hugoGeneSymbol]=M.notProfiledByGene[j.hugoGeneSymbol]||[],M.notProfiledByGene[j.hugoGeneSymbol].push(A))}}catch(e){R=!0,N=e}finally{try{k||null==D.return||D.return()}finally{if(R)throw N}}}return{samples:u,patients:s}}function M(e,t,n,r){var o=r[e.entrezGeneId].hugoGeneSymbol,i="";if("COPY_NUMBER_ALTERATION"===n[e.molecularProfileId].molecularAlterationType){var a=t(e);a&&(i=A(a))}return Object.assign({oncoKbOncogenic:i,hugoGeneSymbol:o},e)}function k(e,t,n){return S(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,a,u,s,l,c,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(o=[],i={},a=!0,u=!1,s=void 0,r.prev=5,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)f=c.value,e[f]?o.push(e[f]):i[f]=!0;r.next=13;break;case 9:r.prev=9,r.t0=r.catch(5),u=!0,s=r.t0;case 13:r.prev=13,r.prev=14,a||null==l.return||l.return();case 16:if(r.prev=16,!u){r.next=19;break}throw s;case 19:return r.finish(16);case 20:return r.finish(13);case 21:return p.a.isEmpty(i)||n.filter(function(e){return i[e.id]}).forEach(function(e){var t={allSampleCount:p.a.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:"My Virtual Studies"};o.push(t)}),r.abrupt("return",o);case 23:case"end":return r.stop()}},r,null,[[5,9,13,21],[14,,16,20]])}))}function R(e,t,n){var r=Object(i.f)(e)?p.a.flatMap(e.list,function(e){return e.data}):e.data;return{samples:Object(s.W)(r,function(e){return e.uniqueSampleKey},t.map(function(e){return e.uniqueSampleKey})),patients:Object(s.W)(r,function(e){return e.uniquePatientKey},n.map(function(e){return e.uniquePatientKey}))}}function N(e,t,n,r,o,a){return Object(i.f)(e)?e.list.map(function(e){return u=e.oql_line,{cases:R(s=Object(i.e)(u,n,r,t)[0],o,a),oql:s};var u,s}):void 0}function x(e){return RegExp("rna_seq_mrna$|rna_seq_v2_mrna$|pan_can_atlas_2018_rna_seq_mrna_median$|pan_can_atlas_2018_rna_seq_v2_mrna_median$").test(e)}function D(e){return/tcga$/.test(e)}function j(e){return/tcga_pan_can_atlas/.test(e)}function G(e,t){var n=["cBioPortal for Cancer Genomics: "];return e.length&&(n.push(e[0]),e.length>1&&(n.push(", "),n.push(e[1])),e.length>2&&(n.push(" and "),n.push((e.length-2).toString()),n.push(" other "),n.push(e.length-2>1?"genes":"gene")),t.length&&(n.push(" in "),n.push(t[0].shortName),t.length>1&&(n.push(" and "),n.push((t.length-1).toString()),n.push(" other "),n.push(t.length-1>1?"studies":"study")))),n.join("")}function L(e){var t=[e.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,e.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,e.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,e.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,e.genetic_profile_ids_PROFILE_GENESET_SCORE,e.genetic_profile_ids_GENERIC_ASSAY].filter(function(e){return!!e});return t=t.concat(e.genetic_profile_ids||[]),t=p.a.uniq(t)}function F(e){if(0===e.length)return!1;if("copyNumberSegmentPresent"in e[0])return p.a.some(e,function(e){return!!e.copyNumberSegmentPresent});throw"Passed non-detailed sample projection when detailed expected."}function q(e,t,n,r,o,i){var a={};return e.forEach(function(e,u){if(void 0===e.mergedTrackOqlList){var s=e.oql,l=p.a.keyBy(p.a.map(s.data,function(e){return e.uniqueSampleKey})),c=p.a.keyBy(t.filter(function(e){var t=i[e.studyId]?p.a.intersection(i[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return p.a.some(p.a.map(t,function(t){return Object(y.a)(e.uniqueSampleKey,t,s.gene,r)}),function(e){return!1===e})}).map(function(e){return e.uniqueSampleKey}));a[B(u,n,s)]=t.map(function(e){return e.uniqueSampleKey in c?h.a.UNPROFILED:e.uniqueSampleKey in l?h.a.ALTERED:h.a.UNALTERED})}else{var f=e.oql,d=p.a.keyBy(p.a.map(p.a.flatten(p.a.map(f.list,function(e){return e.data})),function(e){return e.uniqueSampleKey})),m=p.a.map(f.list,function(e){return e.gene}),v=p.a.keyBy(t.filter(function(e){var t=i[e.studyId]?p.a.intersection(i[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return p.a.some(p.a.map(t,function(t){return p.a.every(p.a.map(m,function(n){return Object(y.a)(e.uniqueSampleKey,t,n,r)}),function(e){return!1===e})}),function(e){return!0===e})}).map(function(e){return e.uniqueSampleKey}));a[K(f)]=t.map(function(e){return e.uniqueSampleKey in v?h.a.UNPROFILED:e.uniqueSampleKey in d?h.a.ALTERED:h.a.UNALTERED})}}),a}function B(e,t,n){return!1===u.a.parse(t)[e].alterations?n.gene:n.oql_line.slice(0,-1)}function K(e){return e.label?e.label:p.a.map(e.list,function(e){return e.gene}).join(" / ")}function U(e){var t=this;return Object(c.S)({await:function(){var t=e.await();return e.storeForExcludingQueryGenes&&t.push(e.storeForExcludingQueryGenes.selectedMolecularProfiles),t.push(e.referenceGenesPromise),t},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,a,u,s,l,c,f,d,y,h,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getSelectedProfileMap())){t.next=35;break}return t.next=4,e.fetchData();case 4:for(r=t.sent,e.storeForExcludingQueryGenes&&e.storeForExcludingQueryGenes.selectedMolecularProfiles.result.findIndex(function(e){return void 0!==n[e.studyId]})>-1&&(o=p.a.keyBy(e.storeForExcludingQueryGenes.hugoGeneSymbols,function(e){return e.toUpperCase()}),r=r.filter(function(e){return!(e.hugoGeneSymbol.toUpperCase()in o)})),i=e.referenceGenesPromise.result,a=!0,u=!1,s=void 0,t.prev=10,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)f=c.value,(d=i[f.hugoGeneSymbol])&&(f.cytoband=d.cytoband);t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),u=!0,s=t.t0;case 18:t.prev=18,t.prev=19,a||null==l.return||l.return();case 21:if(t.prev=21,!u){t.next=24;break}throw s;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return y=[],h=[],r.forEach(function(e){void 0===e.pValue?h.push(e):y.push(e)}),v=p.a.sortBy(y,function(e){return e.pValue}),Object(m.a)(v.map(function(e){return e.pValue})).forEach(function(e,t){v[t].qValue=e}),t.abrupt("return",V([].concat(g(v),h)));case 35:return t.abrupt("return",[]);case 36:case"end":return t.stop()}},t,null,[[10,14,18,26],[19,,21,25]])}))}})}function V(e){return p.a.sortBy(e,["pValue","hugoGeneSymbol"])}function H(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;t[u.uniquePatientKey]={patientId:u.patientId,studyId:u.studyId}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var s={uniquePatientKeys:p.a.uniq(e.map(function(e){return e.uniquePatientKey}))};return d.a.fetchPatientsUsingPOST({patientFilter:s})}function z(e){var t=[l.a.MUTATION_EXTENDED,l.a.MUTATION_UNCALLED,l.a.FUSION,l.a.STRUCTURAL_VARIANT];return e.filter(function(e){return!t.includes(e.molecularAlterationType)})}function W(e){return(e?e.split(";").map(function(e){return e.split(",")}):[]).reduce(function(e,t){return e[t[0]]=t.slice(1),e},{})}},588:function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return l}),n.d(t,"g",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"h",function(){return y}),n.d(t,"j",function(){return h}),n.d(t,"c",function(){return P}),n.d(t,"d",function(){return I}),n.d(t,"e",function(){return _}),n.d(t,"i",function(){return O});var r=n(4),o=n(643),i=n.n(o),a=n(658),u=n(597);function s(e){return void 0!==e.list}function l(e){return void 0!==e.list}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";function n(e,t){return e.reduce(function(e,t){var o=e.dt_state,i=e.query,a=function(e,t){if(function(e){return void 0!==e.gene&&"DATATYPES"===e.gene.toUpperCase()}(t))return{dt_state:t.alterations,query_line:[]};if(s(t)){var o=n(t.list,e);return{dt_state:e,query_line:[r.assign({},t,{list:o})]}}var i=t.alterations||e;return{dt_state:e,query_line:[r.assign({},t,{alterations:i})]}}(o,t),u=a.dt_state,l=a.query_line;return{dt_state:u,query:i.concat(l)}},{dt_state:t,query:[]}).query}var o=n(i.a.parse(e),!1);t.length>0&&(o=n(o,i.a.parse("DUMMYGENE:".concat(t,";"))[0].alterations));return o}function f(e,t){var n=c(e,t);return r.flatMap(n,function(e){return function(e){return!!e.list}(e)?e.list:[e]})}function p(e){var t=f(e),n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){if(!1!==a.value.alterations){n=!0;break}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function d(e){var t=f(e),n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;if(!1!==s.alterations){var l=!0,c=!1,p=void 0;try{for(var d,m=s.alterations[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var y=d.value;if("mut"===y.alteration_type&&(void 0!==y.constr_rel||y.modifiers.length>0)){n=!0;break}if("any"===y.alteration_type&&y.modifiers.find(function(e){return"DRIVER"===e.type})){n=!0;break}}}catch(e){c=!0,p=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw p}}if(n)break}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function m(e){switch(e.type){case"RANGE":return"(".concat(Object(u.a)(e.start,""),"-").concat(Object(u.a)(e.end,"")).concat(e.completeOverlapOnly?"*":"",")");default:return e.type}}function y(e){var t;switch(e.alteration_type){case"cna":return t="="===e.constr_rel?e.constr_val:["CNA",e.constr_rel,e.constr_val].join(""),e.modifiers.length>0&&(t+="_",t+=e.modifiers.map(function(e){return e.type}).join("_")),t;case"mut":var n=!0;return e.constr_rel?"position"===e.constr_type?t=["MUT",e.constr_rel,e.info.amino_acid,e.constr_val].join(""):(t=["MUT",e.constr_rel,e.constr_val].join(""),e.constr_val||(n=!1)):t="MUT",n&&e.modifiers.length>0&&(t+="_"),t+=e.modifiers.map(m).join("_");case"exp":return"EXP"+e.constr_rel+e.constr_val;case"prot":return"PROT"+e.constr_rel+e.constr_val;case"fusion":return"FUSION"+e.modifiers.map(function(e){return"_"+e.type}).join("");case"any":return e.modifiers.map(function(e){return e.type}).join("_")}}function h(e){var t=e.gene,n=e.alterations;return n&&n.length>0&&(t+=": "+n.map(y).join(" "),t+=";"),t}function v(e,t,n,r){return e.gene.toUpperCase()===n&&(!e.alterations||1===e.alterations.map(function(e){return function(e,t,n){switch(e.alteration_type){case"cna":return function(e,t,n){var r=n.cna(t);if(r){var o=!0;switch(e.constr_rel){case"=":o=r===e.constr_val.toLowerCase();break;case void 0:break;default:var i={amp:2,gain:1,hetloss:-1,homdel:-2},a=i[r],u=i[e.constr_val.toLowerCase()];">"===e.constr_rel?o=a>u:">="===e.constr_rel?o=a>=u:"<"===e.constr_rel?o=a<u:"<="===e.constr_rel&&(o=a<=u)}for(var s=0;s<e.modifiers.length;s++){var l=b(e.modifiers[s],t,n);null!==l&&(o=o&&l)}return 2*+o-1}return 0}(e,t,n);case"mut":return function(e,t,n){var r=n.mut_type(t);if(r){r=r.toLowerCase();var o=!1;if(e.constr_rel&&e.constr_type||(o=!0),"class"===e.constr_type){var i=e.constr_val.toLowerCase();o=r===i||"trunc"===i&&"missense"!==r&&"inframe"!==r,"!="===e.constr_rel&&(o=!o)}else if("position"===e.constr_type){var a=n.mut_position(t);if(!a)return-1;var u=e.constr_val;o=u>=a[0]&&u<=a[1],"!="===e.constr_rel&&(o=!o)}else if("name"===e.constr_type){var s=n.mut_amino_acid_change(t);if(!s)return-1;s=s.toLowerCase();var l=e.constr_val.toLowerCase();o=l===s,"!="===e.constr_rel&&(o=!o)}for(var c=0;c<e.modifiers.length;c++){var f=g(e.modifiers[c],t,n);null!==f&&(o=o&&f)}return 2*+o-1}return 0}(e,t,n);case"exp":case"prot":return function(e,t,n){var r=n["exp"===e.alteration_type?"exp":"prot"](t);if(null===r)return 0;var o,i=e.constr_val,a=e.constr_rel,u=void 0;return"<"===a&&r<i||"<="===a&&r<=i?(o=1,u=-1):">"===a&&r>i||">="===a&&r>=i?(o=1,u=1):o=-1,o>0&&(t.alterationSubType=u&&u>0?"high":"low"),o}(e,t,n);case"fusion":return function(e,t,n){if(null===n.fusion(t))return 0;for(var r=!0,o=0;o<e.modifiers.length;o++){var i=b(e.modifiers[o],t,n);null!==i&&(r=r&&i)}return 2*+r-1}(e,t,n);case"any":return function(e,t,n){for(var r=!1,o=!1,i=0;i<e.modifiers.length;i++){var a=e.modifiers[i],u=null;switch(a.type){case"DRIVER":var s=n.cna(t);u="gain"!==s&&"hetloss"!==s&&b(a,t,n)}if(!0===u)r=!0;else if(!1===u){o=!0;break}}return o?-1:r?1:0}(e,t,n)}return 0}(e,t,r)}).reduce(function(e,t){return 1===t?1:0===t?e:-1===t?1===e?1:-1:void 0},-1))}function g(e,t,n){switch(e.type){case"GERMLINE":case"SOMATIC":return n.mut_status(t)===e.type.toLowerCase();case"RANGE":var r=n.mut_position(t);if(!r)return!1;var o=[Object(u.a)(e.start,Number.NEGATIVE_INFINITY),Object(u.a)(e.end,Number.POSITIVE_INFINITY)];return e.completeOverlapOnly?o[0]<=r[0]&&o[1]>=r[1]:o[0]<=r[1]&&r[0]<=o[1];default:return b(e,t,n)}}function b(e,t,n){switch(e.type){case"DRIVER":return n.is_driver(t);default:return!1}}function S(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;n=e.extend(!0,[],n);for(var u=r,l=0;l<n.length;l++)n[l].molecularProfileAlterationType=u.molecularAlterationType(n[l].molecularProfileId),Object(a.a)(n[l],u);function p(e){return function(t){return s(t)?Object.assign(Object.assign({},t),{list:t.list.map(p(e))}):e(t)}}var d=("mergedtrack"===i?c:f)(t,o).map(p(function(e){return Object.assign(Object.assign({},e),{gene:e.gene.toUpperCase()})}));return i?d.map(p(function(e){return{gene:e.gene,parsed_oql_line:e,oql_line:h(e),data:n.filter(function(t){return v(e,t,u.gene(t).toUpperCase(),u)})}})):n.filter(function(e){return function(e,t,n){var r=n.gene(t).toUpperCase();return!!r&&e.map(function(e){return v(e,t,r,n)}).reduce(function(e,t){return e||t},!1)}(d,e,u)})}function P(e,t,n,r){return S(e,t,n,r)}function I(e,t,n,r){return S(e,t,n,r,"gene")}function _(e,t,n,r){return S(e,t,n,r,"mergedtrack")}function O(e){for(var t=f(e).filter(function(e){return"datatypes"!==e.gene.toLowerCase()}).map(function(e){return e.gene.toUpperCase()}),n={},r=0;r<t.length;r++)n[t[r]]=!0;return Object.keys(n)}}).call(this,n(11))},589:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(4),o=n.n(r);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){if(t){var n={},r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n[s]=e[s]}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}return e}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={}}var t,n,r;return t=e,r=[{key:"from",value:function(t,n){var r=new e,o=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;r.set(n(l),l)}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return r}}],(n=[{key:"entries",value:function(){return o.a.flatten(o.a.values(this.map))}},{key:"set",value:function(e,t,n){e=a(e,n);var r=this.getEntry(e);return r?(r.value=t,!1):(this.getEntriesWithStringKey(e).push({key:e,value:t}),!0)}},{key:"get",value:function(e,t){e=a(e,t);var n=this.getEntry(e);return n?n.value:void 0}},{key:"has",value:function(e,t){return e=a(e,t),!!this.getEntry(e)}},{key:"clear",value:function(){this.map={}}},{key:"getEntriesWithStringKey",value:function(e){var t=function(e){var t=o.a.keys(e);return o.a.sortBy(t).map(function(t){return"".concat(e,":").concat(e[t])}).join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}},{key:"getEntry",value:function(e){return this.getEntriesWithStringKey(e).find(function(t){return n=t.key,r=e,o.a.isEqual(n,r);var n,r})}}])&&i(t.prototype,n),r&&i(t,r),e}()},590:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(6);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,s(t).apply(this,arguments))}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",null,r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:{color:"#BB1700",cursor:"pointer",marginRight:7}}),this.props.message," Please let us know about this error and how you got here at"," ",r.createElement("b",{style:{whiteSpace:"nowrap"}},r.createElement("a",{href:"mailto:".concat(i.b.serverConfig.skin_email_contact)},i.b.serverConfig.skin_email_contact)))}}])&&a(n.prototype,o),c&&a(n,c),t}();p.defaultProps={message:"Error encountered."},p=f([o.observer],p),t.a=p},592:function(e,t,n){"use strict";var r=n(616),o=n(4),i=n.n(o),a=n(178),u=n(103),s=n(621),l=n(583),c=n(578),f=n(781);function p(e,t){var n,r,o,a;switch(t){case"STRING":var u=Object(l.j)(i.a.values(c.x));n=i.a.cloneDeep(c.x);var s=!0,p=!1,d=void 0;try{for(var m,y=e[Symbol.iterator]();!(s=(m=y.next()).done);s=!0){var h=m.value;h.value in n||(n[h.value]=u())}}catch(e){p=!0,d=e}finally{try{s||null==y.return||y.return()}finally{if(p)throw d}}break;case"NUMBER":var v=e.reduce(function(e,t){return t.value&&!isNaN(t.value)&&e.push(parseFloat(t.value)),e},[]),g=i.a.min(v),b=i.a.max(v);if(void 0!==g&&void 0!==b){if(r=function(e){return Object(f.b)((e-g)/(b-g))},g>=0){var S=function(e){return Math.log(Math.max(.01,e))},P=S(g),I=S(b);o=function(e){return Object(f.b)((S(e)-P)/(I-P))}}a=[g,b]}else r=function(e){return"#000000"}}return{categoryToColor:n,numericalValueToColor:r,numericalValueRange:a,logScaleNumericalValueToColor:o}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"c",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"f",function(){return I}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return O}),n.d(t,"g",function(){return A});var v,g=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};!function(e){e.MutationSpectrum="NO_CONTEXT_MUTATION_SIGNATURE",e.StudyOfOrigin="CANCER_STUDY",e.ProfiledInPrefix="PROFILED_IN",e.ComparisonGroupPrefix="IN_COMPARISON_GROUP",e.NumSamplesPerPatient="NUM_SAMPLES_PER_PATIENT"}(v||(v={}));var b=["C>A","C>G","C>T","T>A","T>C","T>G"],S=["#3D6EB1","#8EBFDC","#DFF1F8","#FCE08E","#F78F5E","#D62B23"],P=[v.StudyOfOrigin,v.NumSamplesPerPatient];function I(e){return e.clinicalAttributeId.startsWith(v.ProfiledInPrefix)}function _(e){return e.clinicalAttributeId.startsWith(v.ComparisonGroupPrefix)}function O(e){return I(e)||_(e)||P.indexOf(e.clinicalAttributeId)>-1}function T(e,t){var n=[],r=new s.a,o=!0,i=!1,a=void 0;try{for(var u,l=e.comparisonGroup.data.studies[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,f=c.id,p=!0,d=!1,m=void 0;try{for(var y,h=c.samples[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var v=y.value;r.add({studyId:f,sampleId:v})}}catch(e){d=!0,m=e}finally{try{p||null==h.return||h.return()}finally{if(d)throw m}}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var g=!0,b=!1,S=void 0;try{for(var P,I=t[Symbol.iterator]();!(g=(P=I.next()).done);g=!0){var _=P.value;n.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:_.patientId,sampleId:_.sampleId,studyId:_.studyId,uniquePatientKey:_.uniquePatientKey,uniqueSampleKey:_.uniqueSampleKey,value:r.has({studyId:_.studyId,sampleId:_.sampleId})?"Yes":"No"})}}catch(e){b=!0,S=e}finally{try{g||null==I.return||I.return()}finally{if(b)throw S}}return n}function E(e,t,n){var r=e.molecularProfileIds,o=[],a=!0,u=!1,s=void 0;try{for(var l,c=function(){var t=l.value,a=n.samples[t.uniqueSampleKey];if(!a)return"continue";var u=i.a.flatten(i.a.values(a.byGene)).concat(a.allGenes),s=i.a.keyBy(u,"molecularProfileId");i.a.some(r,function(e){return e in s})&&o.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:"Yes"})},f=t[Symbol.iterator]();!(a=(l=f.next()).done);a=!0)c()}catch(e){u=!0,s=e}finally{try{a||null==f.return||f.return()}finally{if(u)throw s}}return o}function w(e,t,n,r,o,s){return g(this,void 0,void 0,regeneratorRuntime.mark(function l(){var c,f,p,d;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=e.clinicalAttributeId,l.next=l.t0===v.MutationSpectrum?3:l.t0===v.StudyOfOrigin?10:l.t0===v.NumSamplesPerPatient?12:16;break;case 3:return f=i.a.groupBy(t,function(e){return e.studyId}),l.t1=i.a,l.next=7,Promise.all(Object.keys(r).map(function(e){var t=f[e];return t.length?u.a.fetchMutationSpectrumsUsingPOST({molecularProfileId:r[e].molecularProfileId,mutationSpectrumFilter:{sampleIds:t.map(function(e){return e.sampleId})}}):Promise.resolve([])}));case 7:return l.t2=l.sent,c=l.t1.flatten.call(l.t1,l.t2),l.abrupt("break",28);case 10:return c=t.map(function(t){return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:o[t.studyId].name}}),l.abrupt("break",28);case 12:return p=i.a.groupBy(t,"uniquePatientKey"),d=i.a.keyBy(n,"uniquePatientKey"),c=i.a.map(p,function(t,n){var r=d[n];return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:r.patientId,uniquePatientKey:n,studyId:r.studyId,value:t.length}}),l.abrupt("break",28);case 16:if(!I(e)){l.next=20;break}c=E(e,t,s),l.next=27;break;case 20:if(!_(e)){l.next=24;break}c=T(e,t),l.next=27;break;case 24:return l.next=26,a.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:e.patientAttribute?n.map(function(e){return{entityId:e.patientId,studyId:e.studyId}}):t.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 26:c=l.sent;case 27:return l.abrupt("break",28);case 28:return l.abrupt("return",c);case 29:case"end":return l.stop()}},l)}))}var A=function(e){function t(e,n,r,o,i){var a,u,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=this,s=m(t).call(this,function(t){return{await:function(){return[e,n,r,o,i]},invoke:function(){return g(y(a),void 0,void 0,regeneratorRuntime.mark(function a(){var u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w(t,e.result,n.result,r.result,o.result,i.result);case 2:return u=a.sent,a.abrupt("return",Object.assign({data:u},p(u,t.datatype)));case 4:case"end":return a.stop()}},a)}))}}},function(e){return"".concat(e.clinicalAttributeId,",").concat((e.molecularProfileIds||[]).join("-"),",").concat(e.patientAttribute)}),a=!s||"object"!==d(s)&&"function"!=typeof s?y(u):s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["a"]),t}()},593:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return u});var r=n(102),o=n(6);function i(e){return Object.assign({chromosome:e.chr},e)}function a(e){return e.map(i)}function u(e,t){return function(n){return n.length>0?Object(r.J)(n,e,o.b.serverConfig.isoformOverrideSource,t):Promise.resolve([])}}},595:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return h});var r=n(2),o=n(575),i=n(603);function a(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0},n=arguments.length>2?arguments[2]:void 0,r=void 0===n||n;return Object(o.c)(e,t,r)}function m(e,t,n){var r=t.toUpperCase(),o=t.toLowerCase();return e.filter(function(e){return n(e,t,r,o)})}var y=function(){function e(t){l(this,e),this.getData=t,this.filterString="",this.dataHighlighter=function(){return!1},this.dataSelector=function(){return!1},this.dataFilter=function(){return!0}}var t,n,r;return t=e,(n=[{key:"setFilter",value:function(e){this.dataFilter=e}},{key:"getFilter",value:function(){return this.dataFilter}},{key:"resetFilter",value:function(){this.dataFilter=function(){return!0},this.filterString=""}},{key:"isHighlighted",value:function(e){return this.dataHighlighter(e)}},{key:"allData",get:function(){return this.getData()}},{key:"sortedData",get:function(){return d(this.allData,this.sortMetric,this.sortAscending)}},{key:"sortedFilteredData",get:function(){return m(this.sortedData,this.filterString,this.dataFilter)}},{key:"sortedFilteredSelectedData",get:function(){return this.sortedFilteredData.filter(this.dataSelector)}},{key:"tableData",get:function(){return e=this.sortedFilteredData,(t=this.sortedFilteredSelectedData).length?t:e;var e,t}},{key:"visibleData",get:function(){return e=this.tableData,t=this.itemsPerPage,n=this.page,t===i.b?e:e.slice(n*t,(n+1)*t);var e,t,n}},{key:"showingAllData",get:function(){return this.tableData.length===this.allData.length}}])&&c(t.prototype,n),r&&c(t,r),e}();p([r.observable],y.prototype,"dataFilter",void 0),p([r.observable],y.prototype,"dataSelector",void 0),p([r.observable],y.prototype,"dataHighlighter",void 0),p([r.observable],y.prototype,"filterString",void 0),p([r.observable],y.prototype,"sortMetric",void 0),p([r.observable],y.prototype,"sortAscending",void 0),p([r.observable],y.prototype,"page",void 0),p([r.observable],y.prototype,"itemsPerPage",void 0),p([r.computed],y.prototype,"allData",null),p([r.computed],y.prototype,"sortedData",null),p([r.computed],y.prototype,"sortedFilteredData",null),p([r.computed],y.prototype,"sortedFilteredSelectedData",null),p([r.computed],y.prototype,"tableData",null),p([r.computed],y.prototype,"visibleData",null),p([r.computed],y.prototype,"showingAllData",null),p([r.action],y.prototype,"setFilter",null),p([r.action],y.prototype,"resetFilter",null);var h=function(e){function t(e){return l(this,t),a(this,u(t).call(this,function(){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,y),t}()},596:function(e,t,n){"use strict";n.d(t,"g",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"h",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return h});var r=n(0),o=n(652),i=n(4),a=n.n(i),u=n(577);function s(e,t){return t.find(function(t){return a.a.isEqual(t,e)})}function l(e,t){var n=t.filter(function(t){return!a.a.isEqual(t,e)});return n.length===t.length?t.concat([e]):n}function c(e,t){for(var n=[],r=0;r<t;r++)e.includes(r)||n.push(r);return n}function f(e){return r.createElement("span",null,e.ordinal.length>0&&r.createElement(r.Fragment,null,"(",r.createElement("strong",null,e.ordinal),") "),e.name)}function p(e,t){var n=e.map(f);switch(n.length){case 0:return r.createElement("span",null);case 1:return n[0];case 2:return r.createElement("span",null,n[0]," ",t," ",n[1]);default:var o=n.slice(0,n.length-1);return r.createElement("span",null,o.map(function(e){return[e,", "]}),t," ",n[n.length-1])}}function d(e){return 1==e.length?e[0]:a.a.reduce(e.slice(2),function(e,t){return o.interpolateLab(e,t)(.5)},o.interpolateLab(e[0],e[1])(.5))}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=1,r=o.rgb(e);return.299*r.r+.587*r.g+.114*r.b>186&&(n=0),t&&(n+=1),["black","white"][n%2]}function y(e,t,n){var r=a.a.keyBy(e,function(e){return e.uid}),o=[],i=!0,s=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){for(var p=c.value,d=r[p[0]].studies,m=1;m<p.length;m++)d=Object(u.A)(d,r[p[m]].studies);var y=!0,h=!1,v=void 0;try{for(var g,b=n[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var S=g.value;p.includes(S)||(d=Object(u.n)(d,r[S].studies))}}catch(e){h=!0,v=e}finally{try{y||null==b.return||b.return()}finally{if(h)throw v}}o=Object(u.F)(o,d)}}catch(e){s=!0,l=e}finally{try{i||null==f.return||f.return()}finally{if(s)throw l}}return o}function h(e,t,n,r){var o=a.a.keyBy(e,function(e){return e.uid}),i=[],s=!0,l=!1,c=void 0;try{for(var f,p=t[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){for(var d=f.value,m=o[d[0]].studies,y=1;y<d.length;y++)m=Object(u.z)(m,o[d[y]].studies);var h=!0,v=!1,g=void 0;try{for(var b,S=n[Symbol.iterator]();!(h=(b=S.next()).done);h=!0){var P=b.value;d.includes(P)||(m=Object(u.m)(m,o[P].studies))}}catch(e){v=!0,g=e}finally{try{h||null==S.return||S.return()}finally{if(v)throw g}}i=Object(u.E)(i,m)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}return Object(u.k)(i,r)}},597:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return i});var o="undefined";function i(e,t){return r(e)===o?t:e}},598:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var r=n(4),o=n(570),i=n(573);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u={"-2":"homdel","-1":"hetloss",0:null,1:"gain",2:"amp"};function s(e){var t;switch(e="string"==typeof e?e.toLowerCase():""){case"missense_mutation":case"missense":case"missense_variant":t="missense";break;case"frame_shift_ins":case"frame_shift_del":case"frameshift":case"frameshift_deletion":case"frameshift_insertion":case"de_novo_start_outofframe":case"frameshift_variant":t="frameshift";break;case"nonsense_mutation":case"nonsense":case"stopgain_snv":t="nonsense";break;case"splice_site":case"splice":case"splice site":case"splicing":case"splice_site_snp":case"splice_site_del":case"splice_site_indel":case"splice_region":t="splice";break;case"translation_start_site":case"start_codon_snp":case"start_codon_del":t="nonstart";break;case"nonstop_mutation":t="nonstop";break;case"fusion":t="fusion";break;case"in_frame_del":case"in_frame_ins":case"in_frame_deletion":case"in_frame_insertion":case"indel":case"nonframeshift_deletion":case"nonframeshift":case"nonframeshift insertion":case"nonframeshift_insertion":t="inframe";break;default:t="other"}return t}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.molecularProfileIdToMolecularProfile=r.keyBy(t,function(e){return e.molecularProfileId})}var t,n,l;return t=e,(n=[{key:"isMutation",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED}},{key:"gene",value:function(e){return e.gene.hugoGeneSymbol}},{key:"molecularAlterationType",value:function(e){var t=this.molecularProfileIdToMolecularProfile[e];return t&&t.molecularAlterationType}},{key:"cna",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.COPY_NUMBER_ALTERATION?u[e.value]:null}},{key:"mut_type",value:function(e){return this.isMutation(e)?e.mutationType&&"fusion"===e.mutationType.toLowerCase()?null:e.proteinChange&&"promoter"===e.proteinChange.toLowerCase()?"promoter":s(e.mutationType):null}},{key:"mut_status",value:function(e){return this.isMutation(e)?Object(i.n)(e)?"somatic":"germline":null}},{key:"mut_position",value:function(e){if(this.isMutation(e)){var t=e.proteinPosStart,n=e.proteinPosEnd;return!isNaN(t)&&!isNaN(n)&&-1!==t&&-1!==n&&t<=n?[t,n]:null}return null}},{key:"mut_amino_acid_change",value:function(e){return this.isMutation(e)?e.proteinChange:null}},{key:"exp",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MRNA_EXPRESSION?e.value:null}},{key:"prot",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.PROTEIN_LEVEL?e.value:null}},{key:"fusion",value:function(e){return this.isMutation(e)&&"fusion"===s(e.mutationType)||null}},{key:"is_driver",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED?!!e.putativeDriver:this.molecularAlterationType(e.molecularProfileId)===o.a.COPY_NUMBER_ALTERATION?!!e.oncoKbOncogenic:null}}])&&a(t.prototype,n),l&&a(t,l),e}()},599:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__39rg3",framedImage:"styles-module__framedImage__3ikaJ",Container:"styles-module__Container__2Drra",ChartsPanel:"styles-module__ChartsPanel__1kFpX",Checkboxes:"styles-module__Checkboxes__3JkxF",TableContainer:"styles-module__TableContainer__3OVxd",Checkbox:"styles-module__Checkbox__w95Pc",GeneName:"styles-module__GeneName__1qAkS",DataSet:"styles-module__DataSet__7fRDD",ScatterTooltip:"styles-module__ScatterTooltip__3EYSa",BarTooltip:"styles-module__BarTooltip__1hGLv",BoxTooltip:"styles-module__BoxTooltip__2FA6X",Tendency:"styles-module__Tendency__rxjNz",Significant:"styles-module__Significant__1CIHn",ColoredBackground:"styles-module__ColoredBackground__hGi2k",FlexCheckbox:"styles-module__FlexCheckbox__3iqpB",ChartLoader:"styles-module__ChartLoader__IBVBT",BoxEmpty:"styles-module__BoxEmpty__2g857",BoxPlot:"styles-module__BoxPlot__3hhKs"}},600:function(e,t,n){"use strict";n.d(t,"b",function(){return S}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return E}),n.d(t,"e",function(){return w}),n.d(t,"l",function(){return A}),n.d(t,"f",function(){return C}),n.d(t,"k",function(){return M}),n.d(t,"m",function(){return k}),n.d(t,"h",function(){return R}),n.d(t,"q",function(){return N}),n.d(t,"o",function(){return x}),n.d(t,"p",function(){return D}),n.d(t,"r",function(){return j}),n.d(t,"d",function(){return G}),n.d(t,"j",function(){return L}),n.d(t,"i",function(){return F}),n.d(t,"n",function(){return q});var r=n(0),o=n(580),i=n(4),a=n(570),u=n(622),s=n(684),l=n(599),c=n.n(l),f=n(9),p=n.n(f),d=n(596),m=n(614),y=n(685),h=n(642);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,b,S={2:"AMP","-2":"HOMDEL"};function P(e){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(m.a,{text:e,maxLength:20,addTooltip:"never"}))}function I(e,t){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},e," in ",r.createElement(m.a,{text:t,maxLength:20,addTooltip:"never"}))}function _(e){return r.createElement(m.a,{text:e,maxLength:20})}function O(e,t){var n=t.groupsSet[e];return n.alteredCount+" ("+n.alteredPercentage.toFixed(2)+"%)"}function T(e){return 0===e||Math.log10(e)<-10?10:-Math.log10(e)}function E(e,t){return e.filter(function(e){return void 0!==e.pValue&&void 0!==e.qValue&&!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:Object(o.d)(Number(e.logRatio),10),y:T(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function w(e,t,n,r){return e.filter(function(e){return void 0!==e.pValue&&void 0!==e.qValue&&!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.groupsSet[n].alteredPercentage,y:e.groupsSet[r].alteredPercentage,hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio}})}function A(e,t){return e.filter(function(e){return!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.logRatio,y:T(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function C(e,t,n){return e.map(function(e){var r=i.map(e.counts,function(e){var t=e.alteredCount>0&&e.profiledCount>0?e.alteredCount/e.profiledCount*100:0;return Object.assign(Object.assign({},e),{alteredPercentage:t})}),o=i.keyBy(r,function(e){return e.name}),a=void 0,u=void 0;if(2===n.length){var s=o[n[0].name],l=o[n[1].name];if(void 0!==e.pValue){u=Math.log2(s.alteredPercentage/l.alteredPercentage);var c=n[0].nameOfEnrichmentDirection||n[0].name,f=n[1].nameOfEnrichmentDirection||n[1].name;a=u>0?c:f}}else void 0!==e.pValue&&(r.sort(function(e,t){return t.alteredPercentage-e.alteredPercentage}),a=r[0].name);return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:a,groupsSet:o,logRatio:u,value:e.value}})}function M(e,t,n){return e.map(function(e){var r="",o=void 0,a=i.keyBy(e.groupsStatistics,function(e){return e.name});if(2===n.length){var u=a[n[0].name],s=a[n[1].name];o=u.meanExpression-s.meanExpression;var l=n[0].nameOfEnrichmentDirection||n[0].name,c=n[1].nameOfEnrichmentDirection||n[1].name;r=o>0?l:c}else r=e.groupsStatistics.sort(function(e,t){return t.meanExpression-e.meanExpression})[0].name;return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:r,groupsSet:a,logRatio:o}})}function k(e,t,n,r){return e.filter(function(e){var o=!1;return t.forEach(function(t){var n=e.groupsSet[t];if(!n)return!1;var r=n.meanExpression||n.alteredPercentage,a=i.reduce(e.groupsSet,function(e,n,o){if(t!==o){var i=n.meanExpression||n.alteredPercentage;e=e&&r>=i}return e},!0);return a?(o=a,!1):void 0}),n&&e.qValue&&(o=o&&e.qValue<.05),r&&(o=o&&r.includes(e.hugoGeneSymbol)),o})}function R(e){var t,n="";return e.forEach(function(e){var r=e.gene.hugoGeneSymbol;r!=t&&(n+=r+": "),"MUTATION_EXTENDED"===e.alterationType?n+="MUT":"PROTEIN_LEVEL"===e.alterationType?n+="RPPA-"+e.alterationSubType.toUpperCase():n+=e.alterationSubType.toUpperCase(),n+="; ",t=r}),n}function N(e){return i.filter(e,function(e){return e.molecularAlterationType===a.a.MUTATION_EXTENDED})}function x(e){return i.filter(e,function(e){return e.molecularAlterationType===a.a.COPY_NUMBER_ALTERATION&&"DISCRETE"===e.datatype})}function D(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.MRNA_EXPRESSION});return Object(u.a)(t)}function j(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.PROTEIN_LEVEL});return Object(u.a)(t)}function G(e,t){var n=[],a=i.keyBy(e,function(e){return e.name}),u={name:t?s.a.TENDENCY:2===e.length?s.a.ENRICHED:s.a.MOST_ENRICHED,render:function(e){var n;if(void 0===e.enrichedGroup||void 0===e.qValue)return r.createElement("span",null,"-");var o=void 0,i=e.qValue<.05;return!t&&i&&(o=a[e.enrichedGroup].color),r.createElement("div",{className:p()(c.a.Tendency,(n={},v(n,c.a.Significant,i),v(n,c.a.ColoredBackground,!!o),n)),style:{backgroundColor:o,color:o&&Object(d.e)(o)}},t?e.enrichedGroup:_(e.enrichedGroup))},filter:function(e,t,n){return(e.enrichedGroup||"").toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup||"-"},download:function(e){return e.enrichedGroup||"-"},tooltip:r.createElement("span",null,"The group with the highest alteration frequency")};if(e.length<2)return[];if(2===e.length){var l=e[0],f=e[1];n.push({name:s.a.LOG_RATIO,render:function(e){return r.createElement("span",null,e.logRatio?Object(o.a)(e.logRatio):"-")},tooltip:r.createElement("span",null,"Log2 based ratio of (pct in ",l.name,"/ pct in"," ",f.name,")"),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(o.a)(e.logRatio)}}),u.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",l.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",f.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(u),e.forEach(function(e){n.push({name:e.name,headerRender:P,render:function(t){return r.createElement("span",null,O(e.name,t))},tooltip:r.createElement("span",null,r.createElement("strong",null,e.name,":")," ",e.description),sortBy:function(t){return function(e,t){return t.groupsSet[e].alteredCount}(e.name,t)},download:function(t){return O(e.name,t)}})}),n}function L(e,t){if(e.length<2)return[];var n=[],a=i.keyBy(e,function(e){return e.name}),u={name:t?y.a.TENDENCY:y.a.EXPRESSED,render:function(e){var n;if(void 0===e.pValue)return r.createElement("span",null,"-");var o=void 0,i=e.qValue<.05;return!t&&i&&(o=a[e.enrichedGroup].color),r.createElement("div",{className:p()(c.a.Tendency,(n={},v(n,c.a.Significant,i),v(n,c.a.ColoredBackground,!!o),n)),style:{backgroundColor:o,color:o&&Object(d.e)(o)}},t?e.enrichedGroup:_(e.enrichedGroup))},filter:function(e,t,n){return e.enrichedGroup.toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup},download:function(e){return e.enrichedGroup},tooltip:r.createElement("span",null,"The group with the highest expression frequency")};if(2===e.length){var s=e[0],l=e[1];n.push({name:y.a.LOG_RATIO,render:function(e){return r.createElement("span",null,Object(o.a)(e.logRatio))},tooltip:r.createElement("span",null,"Log2 of ratio of (unlogged) mean in ",s.name," to (unlogged) mean in ",l.name),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(o.a)(e.logRatio)}}),u.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",s.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",l.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(u),e.forEach(function(e){n.push({name:e.name,headerRender:function(e){return I("μ",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name]?t.groupsSet[e.name].meanExpression.toFixed(2):h.a.NA)},tooltip:r.createElement("span",null,"Mean log2 expression of the listed gene in"," ",e.description),sortBy:function(t){return t.groupsSet[e.name].meanExpression},download:function(t){return t.groupsSet[e.name].meanExpression.toFixed(2)},uniqueName:e.name+y.a.MEAN_SUFFIX}),n.push({name:e.name,headerRender:function(e){return I("σ",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name]?t.groupsSet[e.name].standardDeviation.toFixed(2):"NA")},tooltip:r.createElement("span",null,"Standard deviation of log2 expression of the listed gene in"," ",e.description),sortBy:function(t){return t.groupsSet[e.name].standardDeviation},download:function(t){return t.groupsSet[e.name].standardDeviation.toFixed(2)},uniqueName:e.name+y.a.STANDARD_DEVIATION_SUFFIX})}),n}function F(e,t){var n={};if(i.isEmpty(t))return[];var r=i.reduce(t,function(t,r){var o=e[r];return o&&i.each(o.groupsSet,function(e){var i=e.name;t[i]||(t[i]={});var a=r+(o.qValue&&o.qValue<.05?"*":"");t[i][a]=e.alteredPercentage,n[a]=!0}),t},{}),o={};return i.forEach(n,function(e,t){var n=0;i.forEach(r,function(e){e[t]=e[t]||0,n+=e[t]}),o[t]=n}),i.map(r,function(e,t){return{minorCategory:t,counts:i.map(e,function(e,t){var n=e/o[t]*100;return{majorCategory:t,count:e,percentage:parseFloat(n.toFixed(2))}})}})}function q(e,t){if(i.isEmpty(e))return[{label:g.USER_DEFINED_OPTION,genes:[]}];var n=e;t&&(n=i.map(n,function(e){return Object.assign(Object.assign({},e),{optionName:e.hugoGeneSymbol+": ".concat(S[e.value])})}));var r=i.clone(n).sort(function(e,t){var n=i.reduce(e.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0);return i.reduce(t.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0)-n}),o=i.clone(n).sort(function(e,t){var n=i.sumBy(i.values(e.groupsSet),function(e){return e.alteredPercentage})/i.keys(e.groupsSet).length;return i.sumBy(i.values(t.groupsSet),function(e){return e.alteredPercentage})/i.keys(t.groupsSet).length-n}),a=i.clone(n).sort(function(e,t){return void 0!==e.pValue&&void 0!==t.pValue?0:void 0!==e.pValue?1:void 0!==t.pValue?-1:Number(e.pValue)-Number(t.pValue)});return[{label:g.USER_DEFINED_OPTION,genes:[]},{label:g.HIGHEST_FREQUENCY,genes:i.map(r,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.AVERAGE_FREQUENCY,genes:i.map(o,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.SIGNIFICANT_P_VALUE,genes:i.map(a,function(e){return e.optionName||e.hugoGeneSymbol})},{label:g.SYNC_WITH_TABLE,genes:[]}]}!function(e){e.USER_DEFINED_OPTION="User-defined genes",e.HIGHEST_FREQUENCY="Genes with highest frequency in any group",e.AVERAGE_FREQUENCY="Genes with highest average frequency",e.SIGNIFICANT_P_VALUE="Genes with most significant p-value",e.SYNC_WITH_TABLE="Sync with table (up to 100 genes)"}(g||(g={})),function(e){e.MUTATION="MUTATION",e.COPY_NUMBER="COPY_NUMBER"}(b||(b={}))},601:function(e,t,n){"use strict";n.d(t,"q",function(){return s}),n.d(t,"p",function(){return l}),n.d(t,"a",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"n",function(){return d}),n.d(t,"l",function(){return m}),n.d(t,"o",function(){return y}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return S}),n.d(t,"b",function(){return P}),n.d(t,"f",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"e",function(){return w}),n.d(t,"d",function(){return A}),n.d(t,"m",function(){return C});var r=n(854),o=n(632),i=n.n(o),a=n(4),u={OS:"DECEASED",PFS:"Progressed",DFS:"Recurred/Progressed",DSS:"DECEASED"},s={OS:"Time of Death",PFS:"Time of Death",DFS:"Time of relapse",DSS:"Time of Death"},l={OS:1,DFS:2,PFS:3,DSS:4},c=new Set(["[not applicable]","[not available]","[pending]","[discrepancy]","[completed]","[null]","","na"]),f=999;function p(e){var t=[],n=1;return e.forEach(function(r,o){if(r.status){var i=e.length-o,a=n*((i-1)/i);n=a,t.push(a)}else t.push(n)}),t}function d(e,t){var n=function(e){var t=e.split(":").map(function(e){return e.trim()}),n=void 0,r=void 0;return 2===t.length?(n=t[0],r=t[1]):r=t[0],{status:n,label:r}}(e);return!!n.status&&"1"===n.status}function m(e,t){var n="Event";return e in u?n=u[e]:a.forEach(t,function(e){var t=e.split(":");if(2==t.length&&"1"===t[0])return n=t[1],!1}),a.startCase(a.toLower(n))}function y(e){return c.has(e.trim().toLowerCase())}function h(e,t){for(var n="NA",r=0;r<t.length;r++)if(t[r]<=.5){n=e[r].months.toFixed(2);break}return n}function v(e,t){var n=[];return n.push({x:0,y:100}),e.forEach(function(e,r){n.push({x:e.months,y:100*t[r]})}),n}function g(e,t,n){return e.map(function(e,r){var o={x:e.months,y:100*t[r],patientId:e.patientId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,status:e.status};return n&&(o.group=n),o})}function b(e,t,n){var r,o=g(e,t,n),i=[];return e.forEach(function(e,n){var a=t[n],u=1;r&&a!==r&&(u=0),r=a,i.push(Object.assign(Object.assign({},o[n]),{opacity:u}))}),i}function S(e,t){return e&&t?[e.length,e.filter(function(e){return!0===e.status}).length,h(e,t)]:[0,0,"N/A"]}function P(e,t){for(var n=0,r=0,o=0,a=0,u=0;n<e.length&&r<t.length;){var s=0,l=0,c=e.length-n,f=t.length-r,p=e[n],d=t[r];(p.months<d.months||p.months===d.months)&&(p.status&&(s=1),n+=1),(p.months>d.months||p.months===d.months)&&(d.status&&(l=1),r+=1);var m=s+l,y=c+f;o+=s,a+=c/y*m,u+=m*(y-m)*c*f/(y*y*(y-1))}var h=(o-a)*(o-a)/u;return 1-i.a.chisquare.cdf(h,1)}function I(e,t){var n=t,o=!0,i=!1,a=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value;n+="\n\n",n+=l.title,n+="\n",n+=Object(r.a)(_(l.scatterData))}}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}function _(e){var t=[];return e.map(function(n,r){t.push({"Case ID":n.patientId,"Study ID":n.studyId,"Number at Risk":e.length-r,Status:n.status?"deceased":"censored","Survival Rate":n.y/100,"Time (months)":n.x})}),t}function O(e,t){var n=a.maxBy(e,"x"),r=a.minBy(e,"x"),o=a.maxBy(e,"y"),i=a.minBy(e,"y");if(t.xDenominator<=0||t.yDenominator<=0)return e;var u=((n?n.x:0)-(r?r.x:0))/t.xDenominator,s=((o?o.y:0)-(i?i.y:0))/t.yDenominator,l=Math.hypot(u,s),c={x:0,y:0},f={x:0,y:0};return e.filter(function(e,t){var n=a.isUndefined(e.opacity)||e.opacity>0;if(0==t)return f.x=e.x,f.y=e.y,c.x=e.x,c.y=e.y,!0;return(n?Math.hypot(e.x-c.x,e.y-c.y):Math.hypot(e.x-f.x,e.y-f.y))>l&&(f.x=e.x,f.y=e.y,n&&(c.x=e.x,c.y=e.y),!0)})}function T(e,t,n){var r=a.cloneDeep(e);return a.forEach(r,function(e){e.numOfCases>n.threshold&&(t&&(e.scatter=e.scatter.filter(function(e){return E(t,e)}),e.scatterWithOpacity=e.scatterWithOpacity.filter(function(e){return E(t,e)})),e.scatter=O(e.scatter,n),e.scatterWithOpacity=O(e.scatterWithOpacity,n),e.numOfCases=e.scatter.length)}),r}function E(e,t){return t.x<=e.x[1]&&t.x>=e.x[0]&&t.y<=e.y[1]&&t.y>=e.y[0]}function w(e){return e.replace(/status|survival/gi,"")}function A(e){var t=e.replace(/status/gi,"");return/survival/i.test(t)?t:"".concat(t," Survival")}function C(e){return a.chain(e).map(function(e){return e.clinicalAttributeId}).filter(function(e){return/_STATUS$/i.test(e)||/_MONTHS$/i.test(e)}).uniq().value()}},602:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return d});var r=n(0),o=n.n(r),i=n(4),a=n.n(i),u=n(3),s={grch37:{NCBI:"GRCh37",UCSC:"hg19"},grch38:{NCBI:"GRCh38",UCSC:"hg38"}};function l(e){var t=a.a.every(e,function(e){return f(e.referenceGenome)}),n=a.a.every(e,function(e){return p(e.referenceGenome)});return!(t||n)}function c(){return o.a.createElement(u.c,{placement:"right",overlay:o.a.createElement("div",null,"You are combining studies with molecular data based on both GRCh37/hg19 and GRCh38/hg38. This is not fully supported yet. Please double check your findings"),destroyTooltipOnHide:!0},o.a.createElement("i",{className:"banner-icon fa fa-md fa-exclamation-triangle",style:{verticalAlign:"middle !important",marginLeft:6}}))}function f(e){return s.grch37.NCBI.match(new RegExp(e,"i"))||s.grch37.UCSC.match(new RegExp(e,"i"))}function p(e){return s.grch38.NCBI.match(new RegExp(e,"i"))||s.grch38.UCSC.match(new RegExp(e,"i"))}function d(e){return f(e)?s.grch37.NCBI+"/"+s.grch37.UCSC:p(e)?s.grch38.NCBI+"/"+s.grch38.UCSC:void 0}},603:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b});var r=n(0),o=n(56),i=n(717),a=n.n(i),u=n(17),s=n(7),l=n(9),c=n.n(l),f=n(3);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},g=-1,b=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==h(o)&&"function"!=typeof o?m(r):o).handleChangeItemsPerPage=n.handleChangeItemsPerPage.bind(m(n)),n.resetItemsPerPage=n.resetItemsPerPage.bind(m(n)),n.jumpToPage=n.jumpToPage.bind(m(n)),n.handleShowMore=n.handleShowMore.bind(m(n)),n.getSectionBetweenPaginationButtons=n.getSectionBetweenPaginationButtons.bind(m(n)),n}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(i=[{key:"jumpToPage",value:function(e){this.props.onChangeCurrentPage&&this.props.onChangeCurrentPage(parseInt(e,10))}},{key:"handleChangeItemsPerPage",value:function(e){this.props.onChangeItemsPerPage&&this.props.onChangeItemsPerPage(parseInt(e.target.value,10))}},{key:"handleShowMore",value:function(){if(this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage&&this.props.onChangeItemsPerPage){var e=this.props.itemsPerPageOptions.indexOf(this.props.itemsPerPage);e>-1&&e<this.props.itemsPerPageOptions.length-1?this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[e+1]):this.props.onChangeItemsPerPage(this.props.itemsPerPage+this.props.itemsPerPageOptions[this.props.itemsPerPageOptions.length-1])}}},{key:"resetItemsPerPage",value:function(){this.props.onChangeItemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[0])}},{key:"getSectionBetweenPaginationButtons",value:function(){return this.props.showMoreButton?r.createElement(o.Button,{id:"showMoreButton",bsSize:"sm",disabled:!this.props.itemsPerPageOptions||!this.props.itemsPerPage||!this.props.totalItems||this.props.itemsPerPage>=this.props.totalItems,onClick:this.handleShowMore,style:{width:200},bsStyle:this.props.bsStyle},"Show more"):r.createElement("span",{key:"textBetweenButtons",className:c()("btn","btn-sm","btn-default","textBetweenButtons","disabled",a.a["default-cursor"]),style:{cursor:"default",color:"black"}},r.createElement(u.If,{condition:this.props.pageNumberEditable},r.createElement(f.e,{className:a.a["page-number-input"],value:this.props.currentPage+"",setValue:this.jumpToPage,maxChars:6,numericOnly:!0})),this.props.textBetweenButtons)}},{key:"render",value:function(){var e=(this.props.itemsPerPageOptions||[]).map(function(e){return r.createElement("option",{key:e,value:e+""},e)});this.props.showAllOption&&e.push(r.createElement("option",{key:"all",value:g+""},"all"));var t=[r.createElement(u.If,{condition:!!this.props.showFirstPage},r.createElement(o.Button,{key:"firstPageBtn",bsSize:"sm",disabled:!!this.props.firstPageDisabled,onClick:this.props.onFirstPageClick,className:c()(this.props.groupButtons?void 0:a.a["margin-right-button"]),bsStyle:this.props.bsStyle},this.props.firstButtonContent)),r.createElement(o.Button,{className:c()("prevPageBtn",this.props.groupButtons?void 0:a.a["margin-right-button"]),key:"prevPageBtn",bsSize:"sm",disabled:!!this.props.previousPageDisabled,onClick:this.props.onPreviousPageClick,bsStyle:this.props.bsStyle},this.props.previousButtonContent),this.getSectionBetweenPaginationButtons(),r.createElement(o.Button,{className:c()("nextPageBtn",this.props.groupButtons?void 0:a.a["margin-left-button"]),key:"nextPageBtn",bsSize:"sm",disabled:!!this.props.nextPageDisabled,onClick:this.props.onNextPageClick,bsStyle:this.props.bsStyle},this.props.nextButtonContent),r.createElement(u.If,{condition:!!this.props.showLastPage},r.createElement(o.Button,{key:"lastPageBtn",bsSize:"sm",disabled:!!this.props.lastPageDisabled,onClick:this.props.onLastPageClick,className:c()(this.props.groupButtons?void 0:a.a["margin-left-button"]),bsStyle:this.props.bsStyle},this.props.lastButtonContent)),r.createElement(u.If,{condition:!!this.props.showMoreButton},r.createElement(o.Button,{id:"resetItemsPerPageButton",bsStyle:"link",bsSize:"sm",className:this.props.itemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage>this.props.itemsPerPageOptions[0]?void 0:a.a["hidden-button"],onClick:this.resetItemsPerPage},"Reset"))];return t=this.props.groupButtons?r.createElement(o.ButtonGroup,{style:{float:"none"}},t):r.createElement("div",{style:{float:"none"}},t),this.shouldHidePaginationControls&&(t=null),r.createElement("div",{className:c()(a.a.paginationControls,this.props.className),style:this.props.style},r.createElement("span",{style:{fontSize:12,marginRight:10}},this.props.textBeforeButtons),t,r.createElement(u.If,{condition:!!this.props.showItemsPerPageSelector&&!this.shouldHidePaginationControls},r.createElement(o.FormGroup,{bsSize:"sm",className:a.a["form-select"]},r.createElement(o.FormControl,{className:"itemsPerPageSelector",componentClass:"select",value:this.props.itemsPerPage,onChange:this.handleChangeItemsPerPage},e))))}},{key:"shouldHidePaginationControls",get:function(){return this.props.hidePaginationIfOnePage&&this.props.itemsPerPageOptions&&void 0!==this.props.totalItems&&this.props.itemsPerPageOptions[0]>=this.props.totalItems}}])&&p(n.prototype,i),s&&p(n,s),t}();b.defaultProps={itemsPerPage:g,itemsPerPageOptions:[10,25,50,100],showAllOption:!0,textBeforeButtons:"",textBetweenButtons:"text btwn buttons",firstButtonContent:r.createElement("i",{className:"fa fa-angle-double-left"}),previousButtonContent:r.createElement("i",{className:"fa fa-angle-left"}),nextButtonContent:r.createElement("i",{className:"fa fa-angle-right"}),lastButtonContent:r.createElement("i",{className:"fa fa-angle-double-right"}),showItemsPerPageSelector:!0,showFirstPage:!1,showLastPage:!1,className:"",style:{},previousPageDisabled:!1,nextPageDisabled:!1,pageNumberEditable:!1,showMoreButton:!0,groupButtons:!0,hidePaginationIfOnePage:!0,bsStyle:"default"};b=v([s.observer],b)},604:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return p});var r=n(570),o=n(178),i=n(4),a=n.n(i),u=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},s="NA";function l(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filter(function(e){return e.molecularAlterationType===r.a.GENERIC_ASSAY}),o=a.a.groupBy(n,"genericAssayType"),i=a.a.keys(o),u={},t.next=6,Promise.all(i.map(function(e){return f(a.a.map(o[e],function(e){return e.molecularProfileId})).then(function(t){u[e]=t})}));case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t)}))}function c(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.filter(function(e){return e.molecularAlterationType===r.a.GENERIC_ASSAY}),o={},t.next=4,Promise.all(n.map(function(e){return f([e.molecularProfileId]).then(function(t){o[e.molecularProfileId]=t})}));case 4:return t.abrupt("return",o);case 5:case"end":return t.stop()}},t)}))}function f(e){return e.length>0?o.a.fetchGenericAssayMetaDataUsingPOST({genericAssayMetaFilter:{molecularProfileIds:e}}):Promise.resolve([])}function p(e,t){return u(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.a.map(e,function(e,n){return{molecularProfileId:n,genericAssayDataFilter:Object.assign({genericAssayStableIds:e},t[n])}}),i=r.map(function(e){return o.a.fetchGenericAssayDataInMolecularProfileUsingPOST(e)}),n.next=4,Promise.all(i);case 4:return u=n.sent,n.abrupt("return",u);case 6:case"end":return n.stop()}},n)}))}},606:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return f});var r,o,i,a=n(6),u=n(4);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.PIE_CHART="PIE_CHART",e.BAR_CHART="BAR_CHART",e.SURVIVAL="SURVIVAL",e.TABLE="TABLE",e.SCATTER="SCATTER",e.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",e.FUSION_GENES_TABLE="FUSION_GENES_TABLE",e.CNA_GENES_TABLE="CNA_GENES_TABLE",e.GENOMIC_PROFILES_TABLE="GENOMIC_PROFILES_TABLE",e.CASE_LIST_TABLE="CASE_LIST_TABLE",e.NONE="NONE"}(o||(o={})),function(e){e.PIE_CHART="pie chart",e.BAR_CHART="bar chart",e.SURVIVAL="survival plot",e.TABLE="table",e.SCATTER="density plot",e.MUTATED_GENES_TABLE="table",e.FUSION_GENES_TABLE="table",e.CNA_GENES_TABLE="table",e.GENOMIC_PROFILES_TABLE="table",e.CASE_LIST_TABLE="table",e.NONE="none"}(i||(i={}));var l="Freq",c={alwaysShownClinicalAttributes:["CANCER_TYPE","CANCER_TYPE_DETAILED"],defaultPriority:1,tableAttrs:["CANCER_TYPE","CANCER_TYPE_DETAILED"],initialBins:{MSI_SCORE:[1,2,5,10,30]},priority:{CANCER_TYPE:3e3,CANCER_TYPE_DETAILED:2e3,GENOMIC_PROFILES_SAMPLE_COUNT:1e3,CASE_LISTS_SAMPLE_COUNT:1e3,OS_SURVIVAL:400,DFS_SURVIVAL:300,DSS_SURVIVAL:250,PFS_SURVIVAL:250,MUTATION_COUNT_CNA_FRACTION:200,MUTATED_GENES_TABLE:90,FUSION_GENES_TABLE:85,CNA_GENES_TABLE:80,CANCER_STUDIES:70,SEQUENCED:60,HAS_CNA_DATA:50,SAMPLE_COUNT:40,MUTATION_COUNT:30,FRACTION_GENOME_ALTERED:20,GENDER:9,SEX:9,AGE:9,RACE:8,ETHNICITY:8,SAMPLE_TYPE:8,HISTOLOGY:8,TUMOR_TYPE:8,SUBTYPE:8,TUMOR_SITE:8},thresholds:{pieToTable:20,piePadding:20,barRatio:.8,rowsInTableForOneGrid:4,clinicalCharts:20,chartHighlight:1e4},layout:{layout:[],cols:6,grid:{w:195,h:170},gridMargin:{x:5,y:5},dimensions:(r={},s(r,o.PIE_CHART,{w:1,h:1}),s(r,o.BAR_CHART,{w:2,h:1}),s(r,o.SCATTER,{w:2,h:2}),s(r,o.TABLE,{w:2,h:2}),s(r,o.SURVIVAL,{w:1,h:1}),s(r,o.MUTATED_GENES_TABLE,{w:2,h:2}),s(r,o.FUSION_GENES_TABLE,{w:2,h:2}),s(r,o.CNA_GENES_TABLE,{w:2,h:2}),s(r,o.GENOMIC_PROFILES_TABLE,{w:2,h:2}),s(r,o.CASE_LIST_TABLE,{w:2,h:2}),s(r,o.NONE,{w:0,h:0}),r)},colors:{theme:{primary:"#2986E2",secondary:"#DC3912",tertiary:"#f88508",quaternary:"#109618",unselectedGroup:"#2986E2",selectedGroup:"#DC3912",clinicalFilterTitle:"#A9A9A9",clinicalFilterContent:"#2986E2"}}},f=u.assign(c,a.b.serverConfig.study_view)},611:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a});var r="_mutations",o="".concat(r,"_uncalled"),i="Germline",a="Putative_Driver"},612:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n(4);function o(e,t,n,r){return!!i(e,r,n)[t]}function i(e,t,n){var o=t.samples[e];if(!o)return{};var i=n?o.byGene[n]:r.flatten(r.values(o.byGene));if(!i&&0===o.allGenes.length)return{};var a={},u=!0,s=!1,l=void 0;try{for(var c,f=(i||[])[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){a[c.value.molecularProfileId]=!0}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}var p=!0,d=!1,m=void 0;try{for(var y,h=o.allGenes[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){a[y.value.molecularProfileId]=!0}}catch(e){d=!0,m=e}finally{try{p||null==h.return||h.return()}finally{if(d)throw m}}return a}function a(e,t,n,r){var o=i(e,n,r);return t.map(function(e){return!!o[e]})}},614:function(e,t,n){"use strict";var r=n(0),o=n(9),i=n.n(o),a=n(7),u=n(2),s=n(3);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m,y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function h(e,t,n){return null!=e&&e.length>t+(n||0)}var v=m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,f(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=r.createElement("span",{style:{whiteSpace:"nowrap"},className:i()(this.props.className)},this.truncatedText);return this.needsTooltip&&(t=r.createElement(s.c,{overlay:function(){return e.props.tooltip||r.createElement("div",{style:{maxWidth:500}},e.props.text)},placement:"right",destroyTooltipOnHide:!0},t)),t}},{key:"needsTooltip",get:function(){return"never"!==this.props.addTooltip&&("always"===this.props.addTooltip||"truncated"===this.props.addTooltip&&this.isTooLong)}},{key:"isTooLong",get:function(){return h(this.props.text,this.props.maxLength||m.defaultProps.maxLength,this.props.buffer)}},{key:"truncatedText",get:function(){return e=this.props.text,t=this.props.suffix||m.defaultProps.suffix,n=this.props.maxLength||m.defaultProps.maxLength,r=this.props.buffer,h(e,n,r)?e.substring(0,n)+t:e;var e,t,n,r}}])&&l(n.prototype,o),a&&l(n,a),t}();v.defaultProps={maxLength:50,buffer:2,suffix:"...",addTooltip:"truncated"},y([u.computed],v.prototype,"needsTooltip",null),y([u.computed],v.prototype,"isTooLong",null),y([u.computed],v.prototype,"truncatedText",null),v=m=y([a.observer],v),t.a=v},615:function(e,t,n){"use strict";var r=n(2);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,u=0;return n=e instanceof Array?e:[e],Object(r.autorun)(function(e){n.reduce(function(e,t){return e&&t.isComplete},!0)&&(t.apply(void 0,o(n.map(function(e){return e.result}))),u+=1),u>=i&&(e.dispose(),a&&a())})}},616:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(66),o=n(631);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=Object.keys(e);return t.sort(),"{".concat(t.map(function(t){var n=e[t];if(a(n)===a({}))throw new Error("Warning: keys in cache may not be unique because query contains nested objects. Specify queryToKey init. param. to be safe.");return'"'.concat(t,'":"').concat(n,'"')}).join(","),"}")}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToMobxPromiseInput=t,this.queryToKey=n,this.cache={}}var t,n,a;return t=e,(n=[{key:"get",value:function(e){var t=this.queryToKey(e);return this.cache[t]||(this.cache[t]=new r.MobxPromise(this.queryToMobxPromiseInput(e))),this.cache[t]}},{key:"getAll",value:function(e){var t=this;return e.map(function(e){return t.get(e)})}},{key:"await",value:function(e,t){var n=e;return Object(o.a)(e.map(function(e){return e.isComplete}))&&(n=n.concat(this.getAll(t.apply(null,e.map(function(e){return e.result}))))),n}}])&&i(t.prototype,n),a&&i(t,a),e}()},619:function(e,t,n){"use strict";function r(e){return e.hasOwnProperty("sampleId")}function o(e){return!e.length||r(e[0])}var i=n(598),a=n(4),u=n.n(a),s=n(611),l=n(592),c=n(3);n.d(t,"b",function(){return h}),n.d(t,"f",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return I}),n.d(t,"c",function(){return T});var f={"-2":"homdel","-1":"hetloss",0:void 0,1:"gain",2:"amp"},p=Object(c.W)(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other"]),d={amp:0,homdel:0,gain:1,hetloss:1},m={high:0,low:0},y={high:0,low:0};function h(e){if("promoter"===(e.proteinChange||"").toLowerCase())return"promoter";var t=Object(i.c)(e.mutationType);switch(t){case"missense":case"inframe":case"fusion":case"other":return t;default:return"trunc"}}function v(e,t){var n=Object.keys(e).map(function(t){return{key:t,value:e[t]}});return n.length>0?(n.sort(function(e,n){var r=t[e.key]-t[n.key];return r<0?-1:r>0?1:e.value<n.value?1:e.value>n.value?-1:0}),n[0].key):void 0}function g(e,t,n){e.trackLabel=t,e.data=n;var r=!1,o={},i={},a={},u={},l={},c=new RegExp(s.c,"i"),g=!0,b=!1,S=void 0;try{for(var P,I=n[Symbol.iterator]();!(g=(P=I.next()).done);g=!0){var _=P.value;switch(_.molecularProfileAlterationType){case"COPY_NUMBER_ALTERATION":var O=f[_.value];O&&(o[O]=o[O]||0,o[O]+=1);break;case"MRNA_EXPRESSION":if(_.alterationSubType){var T=_.alterationSubType;i[T]=i[T]||0,i[T]+=1}break;case"PROTEIN_LEVEL":if(_.alterationSubType){var E=_.alterationSubType;a[E]=a[E]||0,a[E]+=1}break;case"MUTATION_EXTENDED":var w=h(_);"fusion"===w?r=!0:(_.putativeDriver&&(w+="_rec"),l[w]=l[w]||c.test(_.mutationStatus),u[w]=u[w]||0,u[w]+=1)}}}catch(e){b=!0,S=e}finally{try{g||null==I.return||I.return()}finally{if(b)throw S}}return r&&(e.disp_fusion=!0),e.disp_cna=v(o,d),e.disp_mrna=v(i,m),e.disp_prot=v(a,y),e.disp_mut=v(u,p),e.disp_germ=e.disp_mut?l[e.disp_mut]:void 0,e}function b(e,t,n,r,i){if(!n.length)return[];var a=t instanceof Array?t:[t],s=u.a.keyBy(i,function(e){return e.molecularProfileId}),l=[];if(o(n)){var c=!0,f=!1,p=void 0;try{for(var d,m=function(){var t=d.value,n={};n.sample=t.sampleId,n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniqueSampleKey;var o=r.samples[t.uniqueSampleKey];n.profiled_in=u.a.flatMap(a,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!s[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=u.a.flatMap(a,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!s[e.molecularProfileId]});var i=e[t.uniqueSampleKey];l.push(g(n,a.join(" / "),i))},y=n[Symbol.iterator]();!(c=(d=y.next()).done);c=!0)m()}catch(e){f=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(f)throw p}}}else{var h=!0,v=!1,b=void 0;try{for(var S,P=function(){var t=S.value,n={};n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniquePatientKey;var o=r.patients[t.uniquePatientKey];n.profiled_in=u.a.flatMap(a,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!s[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=u.a.flatMap(a,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!s[e.molecularProfileId]});var i=e[t.uniquePatientKey];l.push(g(n,a.join(" / "),i))},I=n[Symbol.iterator]();!(h=(S=I.next()).done);h=!0)P()}catch(e){v=!0,b=e}finally{try{h||null==I.return||I.return()}finally{if(v)throw b}}}return l}function S(e,t,n,o,i,a){e[t]=n,e.study_id=o.studyId;var s=u.a.filter(i,function(e){return!isNaN(e.value)});if(s&&s.length)if(1===s.length)e.profile_data=s[0].value,s[0].thresholdType&&(e.thresholdType=s[0].thresholdType,e.category=e.profile_data&&e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0);else{if(r(o))throw Error("Unexpectedly received multiple heatmap profile data for one sample");var l;switch(a){case"ASC":var c=u()(s).map(function(e){return e.value}).min();l=P(c,s,!1);break;case"DESC":l=P(c=u()(s).map(function(e){return e.value}).max(),s,!1);break;default:l=P(c=u.a.maxBy(s,function(e){return Math.abs(e.value)}).value,s,!0)}void 0===l&&(l=s[0]),e.profile_data=l.value,l.thresholdType&&(e.thresholdType=l.thresholdType,e.category=e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0)}else e.profile_data=null,e.na=!0;return e}function P(e,t,n){var r=n?function(t){return Math.abs(t.value)===e}:function(t){return t.value===e},o=u.a.filter(t,r),i=u.a.filter(o,function(e){return!e.thresholdType});return i.length>0?i[0]:o[0]}function I(e,t,n,r,i){if(!n.length)return[];var a,s;o(n);return o(n)?(a=u.a.groupBy(r,function(e){return e.uniqueSampleKey}),s=n.map(function(n){var r={};r.sample=n.sampleId,r.uid=n.uniqueSampleKey;var o=a[n.uniqueSampleKey];return S(r,e,t,n,o),r})):(a=u.a.groupBy(r,function(e){return e.uniquePatientKey}),s=n.map(function(n){var r={};r.patient=n.patientId,r.uid=n.uniquePatientKey;var o=a[n.uniquePatientKey];return S(r,e,t,n,o,i),r})),s}function _(e,t){"MUTATION_COUNT"===t.clinicalAttributeId?e.attr_val=0:e.na=!0}function O(e,t,n,r){if(e.attr_id=t.clinicalAttributeId,e.study_id=n.studyId,e.attr_val_counts={},r&&r.length){if("number"===t.datatype.toLowerCase()){var o=[],i=!0,a=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value,p=parseFloat(f.value+"");isNaN(p)||o.push(p)}}catch(e){a=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw u}}if(0===o.length)_(e,t);else{switch(t.clinicalAttributeId){case"MUTATION_COUNT":e.attr_val=o.reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY);break;default:e.attr_val=o.reduce(function(e,t){return e+t},0)/o.length}e.attr_val_counts[e.attr_val]=1}}else if("string"===t.datatype.toLowerCase()){var d=e.attr_val_counts,m=!0,y=!1,h=void 0;try{for(var v,g=r[Symbol.iterator]();!(m=(v=g.next()).done);m=!0){var b=v.value;d[b.value]=d[b.value]||0,d[b.value]+=1}}catch(e){y=!0,h=e}finally{try{m||null==g.return||g.return()}finally{if(y)throw h}}var S=Object.keys(d);S.length>1?e.attr_val="Mixed":e.attr_val=S[0]}else if(t.clinicalAttributeId===l.c.MutationSpectrum){var P=r,I=e.attr_val_counts;I["C>A"]=0,I["C>G"]=0,I["C>T"]=0,I["T>A"]=0,I["T>C"]=0,I["T>G"]=0;var O=!0,T=!1,E=void 0;try{for(var w,A=P[Symbol.iterator]();!(O=(w=A.next()).done);O=!0){var C=w.value;I["C>A"]+=C.CtoA,I["C>G"]+=C.CtoG,I["C>T"]+=C.CtoT,I["T>A"]+=C.TtoA,I["T>C"]+=C.TtoC,I["T>G"]+=C.TtoG}}catch(e){T=!0,E=e}finally{try{O||null==A.return||A.return()}finally{if(T)throw E}}0===I["C>A"]&&0===I["C>G"]&&0===I["C>T"]&&0===I["T>A"]&&0===I["T>C"]&&0===I["T>G"]&&_(e,t),e.attr_val=e.attr_val_counts}}else _(e,t);return e}function T(e,t,n){u.a.groupBy(n,o(t)?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey});var r=function(e,t,n){if(e.patientAttribute){var r=u.a.groupBy(n,function(e){return e.uniquePatientKey});return function(e){return r[e.uniquePatientKey]}}var o="sample"===t?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey},i=u.a.groupBy(n,o);return function(e){return i[o(e)]}}(e,o(t)?"sample":"patient",n);return o(t)?t.map(function(t){var n={};return n.uid=t.uniqueSampleKey,n.sample=t.sampleId,O(n,e,t,r(t)),n}):t.map(function(t){var n={};return n.uid=t.uniquePatientKey,n.patient=t.patientId,O(n,e,t,r(t)),n})}},620:function(e,t,n){"use strict";function r(e){var t,n=e.length;return e.reverse().map(function(e,r){if(t){var o=Math.min(t,e*n/(n-r));return t=o,o}return t=e,e}).reverse()}n.d(t,"a",function(){return r})},621:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(589);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,i;return t=e,i=[{key:"from",value:function(t){var n=new e,r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n.add(s)}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}],(n=[{key:"keys",value:function(){return this.map.entries().filter(function(e){return e.value}).map(function(e){return e.key})}},{key:"add",value:function(e){this.map.set(e,!0)}},{key:"delete",value:function(e){this.map.set(e,!1)}},{key:"has",value:function(e,t){return!!this.map.get(e,t)}},{key:"isEmpty",value:function(){return 0===this.keys().length}},{key:"clear",value:function(){this.map.clear()}}])&&o(t.prototype,n),i&&o(t,i),e}()},622:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var r=n(4),o=n(570),i="Coexpression data can be filtered by gene, or by cytoband. To exclude all genes from a cytoband, prefix with a dash -. For example, to exclude all genes on 1p, search '-1p'.";function a(e){return r.sortBy(e,function(e){return e.molecularProfileId.toLowerCase().indexOf("rna_seq")>-1?0:1})}function u(e){return a(e.filter(function(e){var t=!1;if(e.molecularAlterationType===o.a.MRNA_EXPRESSION||e.molecularAlterationType===o.a.PROTEIN_LEVEL){var n=e.molecularProfileId.toLowerCase();t=n.indexOf("merged_median_zscores")>-1||-1===n.indexOf("zscores")}return t}))}function s(e){return e.filter(function(e){var t=!1;e.molecularAlterationType===o.a.GENESET_SCORE&&(t=-1===e.molecularProfileId.toLowerCase().indexOf("gsva_pvalues"));return t})}function l(e,t){return e.map(function(e){var n=e.name;if(t){var r=t[e.molecularProfileId].length;n+=" (".concat(r," sample").concat(1!==r?"s":"",")")}return{label:n,value:e.molecularProfileId}})}},624:function(e,t,n){"use strict";var r,o=n(665),i=n(578),a=n(4),u=n.n(a);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l;!function(e){e.defaultGrayRectangle="defaultGrayRectangle",e.ampRectangle="ampRectangle",e.gainRectangle="gainRectangle",e.homdelRectangle="homdelRectangle",e.hetlossRectangle="hetlossRectangle",e.mrnaHighRectangle="mrnaHighRectangle",e.mrnaLowRectangle="mrnaLowRectangle",e.protHighRectangle="protHighRectangle",e.protLowRectangle="protLowRectangle",e.fusionRectangle="fusionRectangle",e.germlineRectangle="germlineRectangle",e.missenseMutationDriverRectangle="missenseMutationDriverRectangle",e.missenseMutationVUSRectangle="missenseMutationVUSRectangle",e.otherMutationRectangle="otherMutationRectangle",e.promoterMutationRectangle="promoterMutationRectangle",e.truncatingMutationDriverRectangle="truncatingMutationDriverRectangle",e.truncatingMutationVUSRectangle="truncatingMutationVUSRectangle",e.inframeMutationDriverRectangle="inframeMutationDriverRectangle",e.inframeMutationVUSRectangle="inframeMutationVUSRectangle"}(l||(l={}));var c=(s(r={},l.defaultGrayRectangle,{type:"rectangle",fill:i.e,z:1}),s(r,l.ampRectangle,{type:"rectangle",fill:i.a,x:0,y:0,width:100,height:100,z:2}),s(r,l.gainRectangle,{type:"rectangle",fill:i.b,x:0,y:0,width:100,height:100,z:2}),s(r,l.homdelRectangle,{type:"rectangle",fill:i.d,x:0,y:0,width:100,height:100,z:2}),s(r,l.hetlossRectangle,{type:"rectangle",fill:i.c,x:0,y:0,width:100,height:100,z:2}),s(r,l.mrnaHighRectangle,{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:i.j,"stroke-width":2,x:0,y:0,width:100,height:100,z:3}),s(r,l.mrnaLowRectangle,{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:i.k,"stroke-width":2,x:0,y:0,width:100,height:100,z:3}),s(r,l.protHighRectangle,{type:"rectangle",fill:i.v,x:0,y:0,width:100,height:20,z:4}),s(r,l.protLowRectangle,{type:"rectangle",fill:i.w,x:0,y:80,width:100,height:20,z:4}),s(r,l.fusionRectangle,{type:"rectangle",fill:i.l,x:0,y:20,width:100,height:60,z:5}),s(r,l.germlineRectangle,{type:"rectangle",fill:i.m,x:0,y:46,width:100,height:8,z:7}),s(r,l.missenseMutationDriverRectangle,{type:"rectangle",fill:i.p,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.missenseMutationVUSRectangle,{type:"rectangle",fill:i.q,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.otherMutationRectangle,{type:"rectangle",fill:i.r,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.promoterMutationRectangle,{type:"rectangle",fill:i.s,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.truncatingMutationDriverRectangle,{type:"rectangle",fill:i.t,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.truncatingMutationVUSRectangle,{type:"rectangle",fill:i.u,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.inframeMutationDriverRectangle,{type:"rectangle",fill:i.n,x:0,y:33.33,width:100,height:33.33,z:6}),s(r,l.inframeMutationVUSRectangle,{type:"rectangle",fill:i.o,x:0,y:33.33,width:100,height:33.33,z:6}),r),f={always:{shapes:[c[l.defaultGrayRectangle]],legend_label:"No alterations",legend_order:Number.POSITIVE_INFINITY},conditional:{disp_cna:{amp:{shapes:[c[l.ampRectangle]],legend_label:"Amplification",legend_order:10},gain:{shapes:[c[l.gainRectangle]],legend_label:"Gain",legend_order:11},homdel:{shapes:[c[l.homdelRectangle]],legend_label:"Deep Deletion",legend_order:12},hetloss:{shapes:[c[l.hetlossRectangle]],legend_label:"Shallow Deletion",legend_order:13}},disp_mrna:{high:{shapes:[c[l.mrnaHighRectangle]],legend_label:"mRNA High",legend_order:20},low:{shapes:[c[l.mrnaLowRectangle]],legend_label:"mRNA Low",legend_order:21}},disp_prot:{high:{shapes:[c[l.protHighRectangle]],legend_label:"Protein High",legend_order:31},low:{shapes:[c[l.protLowRectangle]],legend_label:"Protein Low",legend_order:32}},disp_fusion:{true:{shapes:[c[l.fusionRectangle]],legend_label:"Fusion",legend_order:1}}}},p={disp_germ:{true:{shapes:[{type:"rectangle",fill:i.m,x:0,y:46,width:100,height:8,z:7}],legend_label:"Germline Mutation",legend_order:2}}},d={type:o.RuleSetType.GENE,legend_label:"Genetic Alteration",na_legend_label:"Not profiled",legend_base_color:i.e},m=u.a.assign({},d,{rule_params:{always:f.always,conditional:u.a.assign({},f.conditional,{disp_mut:{"trunc,inframe,missense,promoter,other,trunc_rec,inframe_rec,missense_rec,promoter_rec,other_rec":{shapes:[c[l.missenseMutationDriverRectangle]],legend_label:"Mutation",legend_order:0}}})}}),y=u.a.assign({},d,{rule_params:{always:f.always,conditional:u.a.assign({},f.conditional,{disp_mut:{"missense_rec,inframe_rec,trunc_rec,promoter_rec,other_rec":{shapes:[c[l.missenseMutationDriverRectangle]],legend_label:"Mutation (putative driver)",legend_order:0},"missense,inframe,trunc,promoter,other":{shapes:[c[l.missenseMutationVUSRectangle]],legend_label:"Mutation (unknown significance)",legend_order:0}}})}}),h=u.a.assign({},d,{rule_params:{always:f.always,conditional:u.a.assign({},f.conditional,{disp_mut:{"other,other_rec":{shapes:[c[l.otherMutationRectangle]],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[c[l.promoterMutationRectangle]],legend_label:"Promoter Mutation",legend_order:0},"trunc,trunc_rec":{shapes:[c[l.truncatingMutationDriverRectangle]],legend_label:"Truncating Mutation",legend_order:0},"inframe,inframe_rec":{shapes:[c[l.inframeMutationDriverRectangle]],legend_label:"Inframe Mutation",legend_order:0},"missense,missense_rec":{shapes:[c[l.missenseMutationDriverRectangle]],legend_label:"Missense Mutation",legend_order:0}}})}}),v=u.a.assign({},d,{rule_params:{always:f.always,conditional:u.a.assign({},f.conditional,{disp_mut:{"other,other_rec":{shapes:[c[l.otherMutationRectangle]],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[c[l.promoterMutationRectangle]],legend_label:"Promoter Mutation",legend_order:0},trunc_rec:{shapes:[c[l.truncatingMutationDriverRectangle]],legend_label:"Truncating Mutation (putative driver)",legend_order:0},trunc:{shapes:[c[l.truncatingMutationVUSRectangle]],legend_label:"Truncating Mutation (unknown significance)",legend_order:0},inframe_rec:{shapes:[c[l.inframeMutationDriverRectangle]],legend_label:"Inframe Mutation (putative driver)",legend_order:0},inframe:{shapes:[c[l.inframeMutationVUSRectangle]],legend_label:"Inframe Mutation (unknown significance)",legend_order:0},missense_rec:{shapes:[c[l.missenseMutationDriverRectangle]],legend_label:"Missense Mutation (putative driver)",legend_order:0},missense:{shapes:[c[l.missenseMutationVUSRectangle]],legend_label:"Missense Mutation (unknown significance)",legend_order:0}}})}}),g=n(570),b=n(3),S=n(619),P=n(2),I=n(588),_=n(592),O=n(604);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"h",function(){return k}),n.d(t,"f",function(){return R}),n.d(t,"g",function(){return N}),n.d(t,"e",function(){return x}),n.d(t,"p",function(){return D}),n.d(t,"a",function(){return L}),n.d(t,"d",function(){return q}),n.d(t,"c",function(){return B}),n.d(t,"i",function(){return K}),n.d(t,"n",function(){return V}),n.d(t,"j",function(){return H}),n.d(t,"o",function(){return z}),n.d(t,"k",function(){return W}),n.d(t,"l",function(){return Y}),n.d(t,"m",function(){return X}),n.d(t,"b",function(){return Q});var E=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function w(e,t,n,r){var o=this;return r.initIteration(t,n),function(){return E(o,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.next(t,5);case 2:n.t0=function(e){return{entrezGeneId:e.entrezGeneId,hugoGeneSymbol:e.hugoGeneSymbol,correlationValue:e.correlationValue,molecularProfileId:e.zScoreGeneticProfileId}},o=n.sent.map(n.t0),Object(P.runInAction)("genesetHeatmapExpansion",function(){var n=e.expansionsByGenesetHeatmapTrackKey.get(t)||[];e.expansionsByGenesetHeatmapTrackKey.set(t,n.concat(o))});case 5:case"end":return n.stop()}},n)}))}}function A(e,t,n,r,o){return Object(P.action)("genesetHeatmapUnexpansion",function(){var i=e.expansionsByGenesetHeatmapTrackKey.get(t);if(!i)throw new Error("Track '".concat(t,"' has no expansions to remove."));if(r===e.genesetHeatmapTrackGroup){var a=i.findIndex(function(e){return e.entrezGeneId===n});-1!==a&&(i.splice(a,1),i.length||o())}})}function C(e){return Object(I.f)(e)?"":e.oql_line.substring(e.gene.length).replace(";","")}function M(e){return Object(I.f)(e)?"[".concat(e.list.map(function(e){return e.oql_line}).join(" "),"]"):e.oql_line}function k(e){var t,n,r,i,a="",s="";switch(e.molecularAlterationType){case g.a.GENERIC_ASSAY:return function(e){var t,n,r,i,a;n="".concat(e.molecularProfileName);var s=e.data,l=e.pivotThreshold,c=e.sortOrder,f=[0,114,178,1],p=[204,236,255,1],d=["rgba(240,228,66,1)","rgba(0,158,115,1)","rgba(204,121,167,1)","rgba(0,0,0,1)"],m=e.maxProfileValue,y=e.minProfileValue;void 0!==l&&(m=Math.max(m,l),y=Math.min(y,l));var h=l&&(m===l||y===l),v=Math.max(0,m),g=Math.min(0,y);t=[g,v],void 0===l||h?(r=[f,p],i=[g,v]):(r=[f,p,[255,226,204,1],[213,94,0,1]],i=l<=g?[l-(v-l),l,l,v]:l>=v?[g,l,l,l+(l-g)]:[g,l,l,v]);"DESC"===c&&(t=u.a.reverse(t),i=u.a.reverse(i));var b=0;return u()(s).filter(function(e){return!!e.category}).map(function(e){return e.category}).uniq().value().forEach(function(e){void 0===a&&(a={}),a[e]=d[b++],b===d.length&&(b=0)}),{type:o.RuleSetType.GRADIENT_AND_CATEGORICAL,legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:i,null_color:"rgba(224,224,224,1)",category_key:"category",category_to_color:a}}(e);case g.a.METHYLATION:t=[0,1],n="Methylation Heatmap",i=[0,.35,1],r=[[0,0,255,1],[255,255,255,1],[255,0,0,1]];break;case g.a.MUTATION_EXTENDED:t=[0,1],n="VAF Heatmap",a="Not mutated/no VAF data",s="Not sequenced",i=[0,1],r=[[241,242,181,1],[19,80,88,1]];break;default:t=[-3,3],n="Expression Heatmap",i=[-3,0,3],r=[[0,0,255,1],[0,0,0,1],[255,0,0,1]]}return{type:o.RuleSetType.GRADIENT,legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:i,null_color:"rgba(224,224,224,1)",null_legend_label:a,na_legend_label:s,na_shapes:e.customNaShapes}}function R(){return{type:o.RuleSetType.GRADIENT,legend_label:"Gene Set Heatmap",value_key:"profile_data",value_range:[-1,1],colors:[[39,100,25,1],[77,146,33,1],[127,188,65,1],[184,225,134,1],[230,245,208,1],[247,247,247,1],[253,224,239,1],[241,182,218,1],[222,119,174,1],[197,27,125,1],[142,1,82,1]],value_stop_points:[-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1],null_color:"rgba(224,224,224,1)"}}function N(e,t,n){var r;return r=e||t?!e&&t?y:e&&!t?h:v:m,r=u.a.cloneDeep(r),n&&Object.assign(r.rule_params.conditional,p),r}function x(e){var t;switch(e.datatype){case"number":t={type:o.RuleSetType.BAR,value_key:"attr_val",value_range:e.numberRange,log_scale:e.numberLogScale};break;case"counts":t={type:o.RuleSetType.STACKED_BAR,value_key:"attr_val",categories:e.countsCategoryLabels,fills:e.countsCategoryFills};break;case"string":default:t={type:o.RuleSetType.CATEGORICAL,category_key:"attr_val",category_to_color:Object.assign({},e.category_to_color,i.x)}}return t}function D(e,t){if(0===t)return"N/P";var n,r=e/t,o=100*r;return r<.03?"0"===(n=o.toFixed(1))[n.length-1]&&(n=o.toFixed()):n=o.toFixed(),n+"%"}function j(e,t,n,r){var o=t instanceof Array?t:[t.gene];return e?u.a.uniq(u.a.flatMap(o,function(e){return n[e]})).length:u.a.uniq(u.a.flatMap(o,function(e){return r[e]})).length}function G(e,t,n,r){var o=j(e,t.oql,n,r),i=u.a.sumBy(t.trackData,function(e){return+F(e)});return{sequenced:o,altered:i,percent:D(i,o)}}function L(e,t,n,r){var o=j(e,t.oql,n,r),i=e?Object.keys(t.cases.samples).filter(function(e){return!!t.cases.samples[e].length}).length:Object.keys(t.cases.patients).filter(function(e){return!!t.cases.patients[e].length}).length;return{sequenced:o,altered:i,percent:D(i,o)}}function F(e){return e.data.length>0}function q(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=!0,l=!1,c=void 0;try{for(var f,p=u.data[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;F(d)&&(t[d.uid]=!0)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return Object.keys(t)}function B(e,t,n,r,o,i,a,u,s){var l=a.oql,c=Object(I.f)(l)?l.list.map(function(e){return e.gene}):[l.gene],f=a.cases,p=G(!1,{trackData:Object(S.d)(f.patients,c,t,n,i),oql:c},r,o);return u||!s.map(function(e){return e.hugoGeneSymbol}).includes(l.gene)?{gene:l.gene,altered:p.altered,sequenced:p.sequenced,percentAltered:p.percent}:void 0}function K(e){var t=u.a.chain(e).map(function(e){return e.data.map(function(e){return e.uid})}).flatten().uniq().value();return u.a.difference(t,q(e))}function U(e){var t=e.sampleMode,n=e.oncoprint,r=e.samples,o=e.patients,i=e.coverageInformation,a=e.sequencedSampleKeysByGene,s=e.sequencedPatientKeysByGene,l=e.selectedMolecularProfiles,c=e.expansionIndexMap;return function e(f,p,d){var m=f.oql,y=Object(I.f)(m)?m.list.map(function(e){return e.gene}):[m.gene],h=f.cases,v=t?Object(S.d)(h.samples,y,r,i,l):Object(S.d)(h.patients,y,o,i,l),g=G(t,{trackData:v,oql:y},a,s),b=void 0===d?"GENETICTRACK_".concat(p):"".concat(d,"_EXPANSION_").concat(p),P=Object(I.f)(m)?function(){c.set(b,u.a.range(m.list.length))}:void 0,_=void 0!==d?function(){c.get(d).remove(p)}:void 0,O=[];if(f.mergedTrackOqlList){var T=f.mergedTrackOqlList;O=(c.get(b)||[]).map(function(t){return e(T[t],t,b)})}var E,w=g.percent,A=void 0;return 0!==g.sequenced&&(A="altered / profiled = ".concat(g.altered," / ").concat(g.sequenced)),g.sequenced>0&&g.sequenced<(t?r:o).length&&(w="".concat(w,"*")),{key:b,label:(void 0!==d?"  ":"")+(E=m,Object(I.f)(E)?E.label||E.list.map(function(e){return e.gene}).join(" / "):E.gene),sublabel:C(m),labelColor:void 0!==d?"grey":void 0,oql:M(m),info:w,infoTooltip:A,data:v,expansionCallback:P,removeCallback:_,expansionTrackList:O.length?O:void 0,customOptions:[{separator:!0},{label:"Sort by genes",onClick:n.clearSortDirectionsAndSortByData}]}}}function V(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,e.props.store.coverageInformation,e.props.store.sequencedSampleKeysByGene,e.props.store.sequencedPatientKeysByGene,e.props.store.selectedMolecularProfiles]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=U({sampleMode:t,oncoprint:e,samples:e.props.store.samples.result,patients:e.props.store.patients.result,coverageInformation:e.props.store.coverageInformation.result,sequencedSampleKeysByGene:e.props.store.sequencedSampleKeysByGene.result,sequencedPatientKeysByGene:e.props.store.sequencedPatientKeysByGene.result,selectedMolecularProfiles:e.props.store.selectedMolecularProfiles.result,expansionIndexMap:e.expansionsByGeneticTrackKey}),n.abrupt("return",e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.map(function(e,t){return r(e,t,void 0)}));case 2:case"end":return n.stop()}},n)}))},default:[]})}function H(e,t){var n=this;return Object(b.S)({await:function(){var t=[e.props.store.samples,e.props.store.patients,e.props.store.clinicalAttributeIdToClinicalAttribute,e.alteredKeys];if(e.props.store.clinicalAttributeIdToClinicalAttribute.isComplete){var n=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e});t=t.concat(e.props.store.clinicalDataCache.getAll(n))}return t},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.selectedClinicalAttributeIds.keys().length){n.next=2;break}return n.abrupt("return",[]);case 2:return r=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e}),n.abrupt("return",r.map(function(n){var r=e.props.store.clinicalDataCache.get(n).result,o=void 0;e.onlyShowClinicalLegendForAlteredCases&&(o=e.alteredKeys.result);var i={key:e.clinicalAttributeIdToTrackKey(n.clinicalAttributeId),attributeId:n.clinicalAttributeId,label:n.displayName,description:n.description,data:Object(S.c)(n,t?e.props.store.samples.result:e.props.store.patients.result,r.data),altered_uids:o};return Object(_.f)(n)&&(i.na_tooltip_value="No",i.na_legend_label="No"),"NUMBER"===n.datatype?(i.datatype="number","FRACTION_GENOME_ALTERED"===n.clinicalAttributeId?i.numberRange=[0,1]:"MUTATION_COUNT"===n.clinicalAttributeId?i.numberLogScale=!0:n.clinicalAttributeId===_.c.NumSamplesPerPatient&&(i.numberRange=[0,void 0],i.custom_options=t?[{label:"Show one column per patient.",onClick:function(){return e.controlsHandlers.onSelectColumnType("patient")}}]:[{label:"Show one column per sample.",onClick:function(){return e.controlsHandlers.onSelectColumnType("sample")}}])):"STRING"===n.datatype?(i.datatype="string",i.category_to_color=r.categoryToColor):n.clinicalAttributeId===_.c.MutationSpectrum&&(i.datatype="counts",i.countsCategoryLabels=_.a,i.countsCategoryFills=_.b),i}));case 4:case"end":return n.stop()}},n)}))},default:[]})}function z(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,s,l,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,i=u.a.filter(u.a.values(o),function(e){return e.molecularAlterationType!==g.a.GENERIC_ASSAY}),a=u.a.flatten(i.map(function(e){return u.a.keys(e.entities)})),n.next=6,e.props.store.geneCache.getPromise(a.map(function(e){return{hugoGeneSymbol:e}}),!0);case 6:return s=u.a.flatten(i.map(function(t){return u.a.keys(t.entities).map(function(n){return{molecularProfileId:t.molecularProfileId,entrezGeneId:e.props.store.geneCache.get({hugoGeneSymbol:n}).data.entrezGeneId,hugoGeneSymbol:n.toUpperCase()}})})),n.next=9,e.props.store.geneMolecularDataCache.result.getPromise(s,!0);case 9:return l=e.props.store.samples.result,c=e.props.store.patients.result,n.abrupt("return",s.map(function(n){var i=n.molecularProfileId,a=n.hugoGeneSymbol,s=e.props.store.geneMolecularDataCache.result.get(n).data;return{key:"HEATMAPTRACK_".concat(i,",").concat(a),label:a,molecularProfileId:i,molecularAlterationType:r[i].molecularAlterationType,datatype:r[i].datatype,data:Object(S.e)("hugo_gene_symbol",a,t?l:c,s),trackGroupIndex:o[i].trackGroupIndex,onClickRemoveInTrackMenu:Object(P.action)(function(){var t=e.molecularProfileIdToHeatmapTracks[i];if(t){var n=u.a.keys(t.entities).filter(function(e){return e!==a});0===n.length?e.removeHeatmapByMolecularProfileId(i):e.addHeatmapTracks(i,n)}void 0===t&&"heatmap"===e.sortMode.type&&e.sortMode.clusteredHeatmapProfile===i&&e.sortByData()})}}));case 12:case"end":return n.stop()}},n)}))},default:[]})}function W(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.genericAssayMolecularDataCache,e.props.store.genericAssayEntitiesGroupByGenericAssayTypeLinkMap,e.props.store.genericAssayEntitiesGroupByGenericAssayType]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,s,l,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,i=u.a.filter(o,function(e){return e.molecularAlterationType===g.a.GENERIC_ASSAY}),a=u.a.flatten(i.map(function(t){var n=r[t.molecularProfileId].genericAssayType,o=u.a.keyBy(e.props.store.genericAssayEntitiesGroupByGenericAssayType.result[n],function(e){return e.stableId});return u.a.keys(t.entities).map(function(e){var n=o[e];return{molecularProfileId:t.molecularProfileId,stableId:e,entityName:"NAME"in n.genericEntityMetaProperties?n.genericEntityMetaProperties.NAME:O.a}})})),n.next=6,e.props.store.genericAssayMolecularDataCache.result.getPromise(a.map(function(e){return{molecularProfileId:e.molecularProfileId,stableId:e.stableId}}),!0);case 6:return s=e.props.store.samples.result,l=e.props.store.patients.result,c=a.map(function(n){var i=n.molecularProfileId,a=r[i],c=e.props.store.genericAssayMolecularDataCache.result,f=n.stableId,p=a.pivotThreshold,d=a.sortOrder,m=e.props.store.genericAssayEntitiesGroupByGenericAssayTypeLinkMap.result[a.genericAssayType];return{key:"GENERICASSAYHEATMAPTRACK_".concat(i,",").concat(f),label:n.entityName,molecularProfileId:n.molecularProfileId,molecularProfileName:r[i].name,molecularAlterationType:r[i].molecularAlterationType,datatype:r[i].datatype,data:Object(S.e)("entityId",f,t?s:l,c.get(n).data.map(function(e){return Object.assign(Object.assign({},e),{value:parseFloat(e.value)})}),d),pivotThreshold:p,sortOrder:d,trackLinkUrl:m[f],trackGroupIndex:o[i].trackGroupIndex,onClickRemoveInTrackMenu:Object(P.action)(function(){var t=e.molecularProfileIdToHeatmapTracks[i];if(t){var n=u.a.keys(t.entities).filter(function(e){return e!==f});e.addHeatmapTracks(i,n)}void 0===t&&"heatmap"===e.sortMode.type&&e.sortMode.clusteredHeatmapProfile===i&&e.sortByData()})}}),n.abrupt("return",c);case 10:case"end":return n.stop()}},n)}))},default:[]})}function Y(e,t){var n=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache,e.props.store.genesetCorrelatedGeneCache]},invoke:function(){return E(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,i,a,s,l,c,f,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.samples.result,o=e.props.store.patients.result,i=e.props.store.molecularProfileIdToMolecularProfile.result,a=e.props.store.geneMolecularDataCache.result,s=e.props.store.genesetCorrelatedGeneCache.result,l=e.genesetHeatmapTrackGroup,c=e.expansionsByGenesetHeatmapTrackKey,f=u.a.flatten(c.values().map(function(e){return e.slice()})).map(function(e){return{entrezGeneId:e.entrezGeneId,molecularProfileId:e.molecularProfileId}}),n.next=10,a.getPromise(f,!0);case 10:return p={},c.entries().forEach(function(n){var u=T(n,2),c=u[0],f=u[1];p[c]=f.map(function(n){var u=n.entrezGeneId,f=n.hugoGeneSymbol,p=n.molecularProfileId,d=n.correlationValue,m=a.get({entrezGeneId:u,molecularProfileId:p}).data,y=i[p];return{key:"EXPANSIONTRACK_".concat(c,",").concat(f,",GROUP").concat(l),label:"  "+f,labelColor:"grey",info:d.toFixed(2),molecularProfileId:p,molecularAlterationType:y.molecularAlterationType,datatype:y.datatype,data:Object(S.e)("hugo_gene_symbol",f,t?r:o,m),trackGroupIndex:l,onRemove:A(e,c,u,l,s.reset.bind(s,c))}})}),n.abrupt("return",p);case 13:case"end":return n.stop()}},n)}))},default:{}})}function X(e,t,n){var r=this;return Object(b.S)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.genesetMolecularProfile,e.props.store.genesetMolecularDataCache,e.props.store.genesetLinkMap,e.props.store.genesetCorrelatedGeneCache,n]},invoke:function(){return E(r,void 0,void 0,regeneratorRuntime.mark(function r(){var o,i,a,u,s,l,c,f,p,d,m;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.props.store.samples.result,i=e.props.store.patients.result,a=e.props.store.genesetMolecularProfile.result,u=e.props.store.genesetMolecularDataCache.result,s=e.props.store.genesetLinkMap.result,l=e.props.store.genesetCorrelatedGeneCache.result,c=n.result,f=e.genesetHeatmapTrackGroup,a.isApplicable){r.next=10;break}return r.abrupt("return",[]);case 10:return p=a.value.molecularProfileId,d=e.props.store.genesetIds,m=d.map(function(e){return{molecularProfileId:p,genesetId:e}}),r.next=15,u.getPromise(m,!0);case 15:return r.abrupt("return",d.map(function(n){var r="GENESETHEATMAPTRACK_".concat(p,",").concat(n);return{key:"GENESETHEATMAPTRACK_".concat(p,",").concat(n,",GROUP").concat(f),label:n,molecularProfileId:p,molecularAlterationType:a.value.molecularAlterationType,datatype:a.value.datatype,trackLinkUrl:s[n],data:Object(S.e)("geneset_id",n,t?o:i,u.get({molecularProfileId:p,genesetId:n}).data.map(function(e){return Object.assign(Object.assign({},e),{value:parseFloat(e.value)})})),trackGroupIndex:f,expansionCallback:w(e,r,{molecularProfileId:p,genesetId:n},l),expansionTrackList:c[r]}}));case 16:case"end":return r.stop()}},r)}))},default:[]})}function Q(e,t,n){var r=function(e){return e=e.replace(/[,\s\n]+/g," ").trim(),u.a.uniq(e.split(/[,\s\n]+/))}(e),o=[];return u.a.each(r,function(e){e in n&&(o.push(e),t.includes(e)||t.push(e))}),o.length>0&&u.a.each(o,function(t){e=e.replace(t,"")}),e.trim().replace("\t+","\t").replace(" +"," ")}},625:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return p});var r=n(4),o=n(678),i=["5xzc"];function a(e,t){var n={pdbInfo:e.title};return r.find(e.compound,function(e){if(e.molecule&&-1!==r.indexOf(e.chain,t.toLowerCase()))return n.moleculeInfo=e.molecule,e}),n}function u(e){return function(e){var t={};return e.forEach(function(e){t[e.pdbId]||(t[e.pdbId]={}),t[e.pdbId][e.chain]||(t[e.pdbId][e.chain]=[]),t[e.pdbId][e.chain].push(e)}),t}(e)}function s(e){var t=[];return r.each(e,function(e){r.each(e,function(e){var n=function(e){var t,n="";if(!(e.length>0))return;t=e[0].seqFrom;return e.forEach(function(e){var r=function(e){var t,n=e.midlineAlign,r=e.seqAlign,o=e.pdbAlign;if(n.length===r.length&&n.length===o.length){for(var i=[],a=0;a<n.length;a++)"-"!==r[a]&&("-"===o[a]?i.push("-"):i.push(n[a]));t=i.join("")}return t}(e)||"",o=Math.abs(e.seqFrom-t);if(e.seqFrom<t){var i=Math.abs(r.length-o);n=r.length>=o?r+n.substr(i):r+l(i)+n}else if(e.seqFrom>=t){var a=Math.abs(n.length-o);n=n.length>=o?n.substr(0,n.length-a)+r+n.substr(n.length-a+r.length):n+l(a)+r}t=Math.min(t,e.seqFrom)}),{pdbId:e[0].pdbId,chain:e[0].chain,uniprotStart:t,uniprotEnd:t+n.length-1,alignment:n,identityPerc:c(n),identity:f(n)}}(e);n&&t.push(n)})}),t}function l(e){for(var t=[],n=0;n<e;n++)t.push(o.a);return t.join("")}function c(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=e[r];i===o.a?t++:i!==o.b&&i!==o.c&&i!==o.d||n++}return 1-n/(e.length-t)}function f(e){e=e.toLowerCase();for(var t=0,n=0;n<e.length;n++)e[n].match(/[a-z]/)&&t++;return t}function p(e,t){for(var n=[0,0,0,0],r=t?-1:1,o=0;o<e.length||o<5;o++)n.push(r*e.charCodeAt(o));return n}},627:function(e,t,n){"use strict";var r=n(14),o=n(15),i=n(2);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=t,Object(i.runInAction)(function(){n._status="pending",t.then(Object(i.action)(function(e){n._status="complete",n._result=e}),Object(i.action)(function(e){n._status="error",n._error=e}))})}var t,n,r;return t=e,(n=[{key:"status",get:function(){return this._status}},{key:"result",get:function(){return this._result}},{key:"error",get:function(){return this._error}},{key:"promise",get:function(){return this._promise}}])&&a(t.prototype,n),r&&a(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}s([i.observable],l.prototype,"_status",void 0),s([i.observable],l.prototype,"_result",void 0),s([i.observable],l.prototype,"_error",void 0),s([i.computed],l.prototype,"status",null),s([i.computed],l.prototype,"result",null),s([i.computed],l.prototype,"error",null),s([i.computed],l.prototype,"promise",null);var f=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pendingDeletions=[]}var t,n,i;return t=e,(n=[{key:"getPendingDeletions",value:function(){return this._pendingDeletions=this._pendingDeletions.filter(function(e){return"pending"!==e.status}),this._pendingDeletions.map(function(e){return e.promise})}},{key:"addGroup",value:function(e){return r.post(Object(o.e)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"updateGroup",value:function(e,t){return r.post("".concat(Object(o.e)(),"/").concat(e)).send(t)}},{key:"getGroup",value:function(e){return r.get("".concat(Object(o.e)(),"/").concat(e)).then(function(e){return e.body})}},{key:"getGroupsForStudies",value:function(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.getPendingDeletions());case 2:return t.abrupt("return",r.post(Object(o.c)()).send(e).then(function(e){return e.body}));case 3:case"end":return t.stop()}},t,this)}))}},{key:"deleteGroup",value:function(e){var t=r.get("".concat(Object(o.e)(),"/delete/").concat(e)).then(function(){});return this._pendingDeletions.push(new l(t)),t}},{key:"addComparisonSession",value:function(e){return r.post(Object(o.g)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"getComparisonSession",value:function(e){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("".concat(Object(o.g)(),"/").concat(e)).then(function(e){return e.body});case 2:return n=t.sent,t.abrupt("return",Object.assign(n.data,{id:n.id}));case 4:case"end":return t.stop()}},t)}))}}])&&c(t.prototype,n),i&&c(t,i),e}());t.a=p},628:function(e,t,n){"use strict";var r;function o(e){return r[e]||""}n.d(t,"a",function(){return o}),function(e){e[e.Deletion=-2]="Deletion",e[e.Loss=-1]="Loss",e[e.Gain=1]="Gain",e[e.Amplification=2]="Amplification"}(r||(r={}))},630:function(e,t,n){"use strict";n.d(t,"a",function(){return T}),n.d(t,"b",function(){return A});var r=n(577),o=n(185),i=n(3),a=n(2),u=n(178),s=n(627),l=n(4),c=n.n(l),f=n(600),p=n(585),d=n(103),m=n(8),y=n(705),h=n(574),v=n(620),g=n(589),b=n(657),S=n(572),P=n(601),I=n(615);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T,E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},w=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};!function(e){e.INCLUDE="Include",e.EXCLUDE="Exclude"}(T||(T={}));var A=function(){function e(t,n){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=t,this.resultsViewStore=n,this.tabHasBeenShown=a.observable.map(),this.newSessionPending=!1,this.origin=Object(i.S)({await:function(){return[l._session]},invoke:function(){return Promise.resolve(l._session.result.origin)}}),this.existingGroupNames=Object(i.S)({await:function(){return[l._originalGroups,l.origin]},invoke:function(){return w(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={session:this._originalGroups.result.map(function(e){return e.name}),user:[]},!this.isLoggedIn){e.next=6;break}return e.next=4,s.a.getGroupsForStudies(this.origin.result);case 4:e.t0=function(e){return e.data.name},t.user=e.sent.map(e.t0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))}}),this.overlapComputations=Object(i.S)({await:function(){return[l._originalGroups]},invoke:function(){return Promise.resolve(Object(r.u)(l._originalGroups.result,l.isGroupSelected))}}),this.availableGroups=Object(i.S)({await:function(){return[l._originalGroups,l._originalGroupsOverlapRemoved]},invoke:function(){var e;switch(l.overlapStrategy){case T.INCLUDE:e=l._originalGroups.result;break;case T.EXCLUDE:default:e=l._originalGroupsOverlapRemoved.result}return Promise.resolve(e)}}),this.activeGroups=Object(i.S)({await:function(){return[l.availableGroups]},invoke:function(){return Promise.resolve(l.availableGroups.result.filter(function(e){return l.isGroupSelected(e.name)&&!Object(r.B)(e)}))}}),this.enrichmentAnalysisGroups=Object(i.S)({await:function(){return[l.activeGroups,l.sampleSet]},invoke:function(){var e=l.sampleSet.result||new g.a,t=l.activeGroups.result.map(function(t){var n=[];return t.studies.forEach(function(t){var r=t.id;t.samples.forEach(function(t){if(e.has({studyId:r,sampleId:t})){var o=e.get({studyId:r,sampleId:t});n.push(o)}})}),{name:t.nameWithOrdinal,description:"",count:Object(r.s)(t),color:t.color,samples:n,nameOfEnrichmentDirection:t.nameOfEnrichmentDirection}});return Promise.resolve(t)}}),this._originalGroupsOverlapRemoved=Object(i.S)({await:function(){return[l.overlapComputations,l._originalGroups]},invoke:function(){return Promise.resolve(l.overlapComputations.result.groups)}}),this._activeGroupsOverlapRemoved=Object(i.S)({await:function(){return[l._originalGroupsOverlapRemoved]},invoke:function(){return Promise.resolve(l._originalGroupsOverlapRemoved.result.filter(function(e){return l.isGroupSelected(e.name)&&!Object(r.B)(e)}))}}),this._activeGroupsNotOverlapRemoved=Object(i.S)({await:function(){return[l._originalGroups,l.overlapComputations]},invoke:function(){var e=l.overlapComputations.result.excludedFromAnalysis;return l.overlapStrategy===T.INCLUDE&&(e={}),Promise.resolve(l._originalGroups.result.filter(function(t){return l.isGroupSelected(t.name)&&!(t.uid in e)}))}}),this._selectedGroups=Object(i.S)({await:function(){return[l._originalGroups]},invoke:function(){return Promise.resolve(l._originalGroups.result.filter(function(e){return l.isGroupSelected(e.name)}))}}),this.activeSamplesNotOverlapRemoved=Object(i.S)({await:function(){return[l.sampleSet,l._activeGroupsNotOverlapRemoved]},invoke:function(){var e=Object(r.w)(l._activeGroupsNotOverlapRemoved.result),t=l.sampleSet.result;return Promise.resolve(e.map(function(e){return t.get(e)}))}}),this.activePatientKeysNotOverlapRemoved=Object(i.S)({await:function(){return[l.activeSamplesNotOverlapRemoved]},invoke:function(){return Promise.resolve(c.a.uniq(l.activeSamplesNotOverlapRemoved.result.map(function(e){return e.uniquePatientKey})))}}),this.activeStudyIds=Object(i.S)({await:function(){return[l.activeGroups]},invoke:function(){return Promise.resolve(Object(r.x)(l.activeGroups.result))}}),this.molecularProfilesInActiveStudies=Object(i.S)({await:function(){return[l.activeStudyIds]},invoke:function(){return w(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.activeStudyIds.result.length>0)){e.next=4;break}return e.abrupt("return",u.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.activeStudyIds.result}}));case 4:return e.abrupt("return",Promise.resolve([]));case 5:case"end":return e.stop()}},e,this)}))}},[]),this.referenceGenes=Object(i.S)({await:function(){return[l.studies]},invoke:function(){return l.studies.result.length>0?Object(S.e)(l.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(i.S)({await:function(){return[l.referenceGenes]},invoke:function(){return Promise.resolve(c.a.keyBy(l.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.mutationEnrichmentProfiles=Object(i.S)({await:function(){return[l.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(f.q)(l.molecularProfilesInActiveStudies.result))}}),this.copyNumberEnrichmentProfiles=Object(i.S)({await:function(){return[l.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(f.o)(l.molecularProfilesInActiveStudies.result))}}),this.mRNAEnrichmentProfiles=Object(i.S)({await:function(){return[l.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(f.p)(l.molecularProfilesInActiveStudies.result))}}),this.proteinEnrichmentProfiles=Object(i.S)({await:function(){return[l.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(f.r)(l.molecularProfilesInActiveStudies.result))}}),this._mutationEnrichmentProfileMap={},this._copyNumberEnrichmentProfileMap={},this._mRNAEnrichmentProfileMap={},this._proteinEnrichmentProfileMap={},this.selectedStudyMutationEnrichmentProfileMap=Object(i.S)({await:function(){return[l.mutationEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(l._mutationEnrichmentProfileMap)){var e=c.a.groupBy(l.mutationEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._mutationEnrichmentProfileMap)}}),this.selectedStudyCopyNumberEnrichmentProfileMap=Object(i.S)({await:function(){return[l.copyNumberEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(l._copyNumberEnrichmentProfileMap)){var e=c.a.groupBy(l.copyNumberEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._copyNumberEnrichmentProfileMap)}}),this.selectedmRNAEnrichmentProfileMap=Object(i.S)({await:function(){return[l.mRNAEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(l._mRNAEnrichmentProfileMap)){var e=c.a.groupBy(l.mRNAEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._mRNAEnrichmentProfileMap)}}),this.selectedProteinEnrichmentProfileMap=Object(i.S)({await:function(){return[l.proteinEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(l._proteinEnrichmentProfileMap)){var e=c.a.groupBy(l.proteinEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._proteinEnrichmentProfileMap)}}),this.mutationEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[l.enrichmentAnalysisGroups,l.selectedStudyMutationEnrichmentProfileMap]},invoke:function(){return Promise.resolve(l.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==l.selectedStudyMutationEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"Number (percentage) of ".concat(l.usePatientLevelEnrichments?"patients":"samples"," in ").concat(t.name," that have a mutation in the listed gene.")})),e},[]))}}),this.mutationEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[l.mutationEnrichmentAnalysisGroups,l.selectedStudyMutationEnrichmentProfileMap]},invoke:function(){return Promise.resolve(l.mutationEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:l.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:l.selectedStudyMutationEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.mutationEnrichmentData=Object(p.x)({storeForExcludingQueryGenes:this.resultsViewStore,await:function(){return[l.mutationEnrichmentDataRequestGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedStudyMutationEnrichmentProfileMap.result},fetchData:function(){return l.mutationEnrichmentDataRequestGroups.result&&l.mutationEnrichmentDataRequestGroups.result.length>1?d.a.fetchMutationEnrichmentsUsingPOST({enrichmentType:l.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:l.mutationEnrichmentDataRequestGroups.result}):Promise.resolve([])}}),this.copyNumberEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[l.selectedStudyCopyNumberEnrichmentProfileMap,l.enrichmentAnalysisGroups]},invoke:function(){return Promise.resolve(l.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==l.selectedStudyCopyNumberEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"Number (percentage) of ".concat(l.usePatientLevelEnrichments?"patients":"samples"," in ").concat(t.name," that have the listed alteration in the listed gene.")})),e},[]))}}),this.copyNumberEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[l.copyNumberEnrichmentAnalysisGroups,l.selectedStudyCopyNumberEnrichmentProfileMap]},invoke:function(){return Promise.resolve(l.copyNumberEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:l.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:l.selectedStudyCopyNumberEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.copyNumberHomdelEnrichmentData=Object(i.S)({await:function(){return[l.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return l.copyNumberEnrichmentDataRequestGroups.result&&l.copyNumberEnrichmentDataRequestGroups.result.length>1?l.getCopyNumberEnrichmentData(l.copyNumberEnrichmentDataRequestGroups.result,"HOMDEL"):Promise.resolve([])}}),this.copyNumberAmpEnrichmentData=Object(i.S)({await:function(){return[l.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return l.copyNumberEnrichmentDataRequestGroups.result&&l.copyNumberEnrichmentDataRequestGroups.result.length>1?l.getCopyNumberEnrichmentData(l.copyNumberEnrichmentDataRequestGroups.result,"AMP"):Promise.resolve([])}}),this.copyNumberEnrichmentData=Object(p.x)({storeForExcludingQueryGenes:this.resultsViewStore,await:function(){return[l.copyNumberHomdelEnrichmentData,l.copyNumberAmpEnrichmentData,l.selectedStudyCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return l.selectedStudyCopyNumberEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){var e=l.copyNumberAmpEnrichmentData.result.map(function(e){return e.value=2,e}),t=l.copyNumberHomdelEnrichmentData.result.map(function(e){return e.value=-2,e});return Promise.resolve(e.concat(t))}}),this.mrnaEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[l.selectedmRNAEnrichmentProfileMap,l.enrichmentAnalysisGroups]},invoke:function(){return 1===Object.keys(l.selectedmRNAEnrichmentProfileMap.result).length?Promise.resolve(l.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==l.selectedmRNAEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"samples in ".concat(t.name)})),e},[])):Promise.resolve([])}}),this.mrnaEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[l.mrnaEnrichmentAnalysisGroups,l.selectedmRNAEnrichmentProfileMap]},invoke:function(){return Promise.resolve(l.mrnaEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:e.sampleId,molecularProfileId:l.selectedmRNAEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.mRNAEnrichmentData=Object(p.x)({await:function(){return[l.mrnaEnrichmentDataRequestGroups]},getSelectedProfileMap:function(){return l.selectedmRNAEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){return l.mrnaEnrichmentDataRequestGroups.result&&l.mrnaEnrichmentDataRequestGroups.result.length>1?d.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:l.mrnaEnrichmentDataRequestGroups.result}):Promise.resolve([])}}),this.proteinEnrichmentAnalysisGroups=Object(i.S)({await:function(){return[l.selectedProteinEnrichmentProfileMap,l.enrichmentAnalysisGroups]},invoke:function(){return 1===Object.keys(l.selectedProteinEnrichmentProfileMap.result).length?Promise.resolve(l.enrichmentAnalysisGroups.result.reduce(function(e,t){var n=t.samples.filter(function(e){return void 0!==l.selectedProteinEnrichmentProfileMap.result[e.studyId]});return n.length>0&&e.push(Object.assign(Object.assign({},t),{count:n.length,samples:n,description:"samples in ".concat(t.name)})),e},[])):Promise.resolve([])}}),this.proteinEnrichmentDataRequestGroups=Object(i.S)({await:function(){return[l.proteinEnrichmentAnalysisGroups,l.selectedProteinEnrichmentProfileMap]},invoke:function(){return Promise.resolve(l.proteinEnrichmentAnalysisGroups.result.map(function(e){var t=e.samples.map(function(e){return{caseId:e.sampleId,molecularProfileId:l.selectedProteinEnrichmentProfileMap.result[e.studyId].molecularProfileId}});return{name:e.name,molecularProfileCaseIdentifiers:t}}))}}),this.proteinEnrichmentData=Object(p.x)({await:function(){return[l.proteinEnrichmentDataRequestGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedProteinEnrichmentProfileMap.result},fetchData:function(){return l.proteinEnrichmentDataRequestGroups.result&&l.proteinEnrichmentDataRequestGroups.result.length>1?d.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:l.proteinEnrichmentDataRequestGroups.result}):Promise.resolve([])}}),this.sampleSet=Object(i.S)({await:function(){return[l.samples]},invoke:function(){var e=new g.a,t=!0,n=!1,r=void 0;try{for(var o,i=l.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.set({studyId:a.studyId,sampleId:a.sampleId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeys=Object(i.S)({await:function(){return[l.samples]},invoke:function(){return Promise.resolve(c.a.uniq(l.samples.result.map(function(e){return e.uniquePatientKey})))}}),this.patientToSamplesSet=Object(i.S)({await:function(){return[l.samples]},invoke:function(){var e=new b.a,t=!0,n=!1,r=void 0;try{for(var o,i=l.samples.result[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.add({studyId:a.studyId,patientId:a.patientId},a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeyToSamples=Object(i.S)({await:function(){return[l.samples]},invoke:function(){return Promise.resolve(c.a.groupBy(l.samples.result,function(e){return e.uniquePatientKey}))}}),this.sampleKeyToSample=Object(i.S)({await:function(){return[l.samples]},invoke:function(){var e=c.a.reduce(l.samples.result,function(e,t){return e[t.uniqueSampleKey]=t,e},{});return Promise.resolve(e)}}),this.sampleKeyToGroups=Object(i.S)({await:function(){return[l._originalGroups,l.sampleSet]},invoke:function(){var e=l.sampleSet.result,t=l._originalGroups.result,n={},r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=!0,f=!1,p=void 0;try{for(var d,m=s.studies[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var y=d.value,h=y.id,v=!0,g=!1,b=void 0;try{for(var S,P=y.samples[Symbol.iterator]();!(v=(S=P.next()).done);v=!0){var I=S.value,_=e.get({sampleId:I,studyId:h});_&&(n[_.uniqueSampleKey]=n[_.uniqueSampleKey]||{},n[_.uniqueSampleKey][s.uid]=!0)}}catch(e){g=!0,b=e}finally{try{v||null==P.return||P.return()}finally{if(g)throw b}}}}catch(e){f=!0,p=e}finally{try{c||null==m.return||m.return()}finally{if(f)throw p}}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return Promise.resolve(n)}}),this.patientsVennPartition=Object(i.S)({await:function(){return[l._activeGroupsNotOverlapRemoved,l.patientToSamplesSet,l.activePatientKeysNotOverlapRemoved]},invoke:function(){var e=l.patientToSamplesSet.result;return Promise.resolve(Object(r.C)(l._activeGroupsNotOverlapRemoved.result,function(e){return Object(h.Y)([e])},function(t){return e.get({studyId:t.studyId,patientId:t.patientId})[0].uniquePatientKey},l.activePatientKeysNotOverlapRemoved.result))}}),this.survivalClinicalDataExists=Object(i.S)({await:function(){return[l.activeSamplesNotOverlapRemoved,l.survivalClinicalAttributesPrefix]},invoke:function(){return Object(S.E)(l.activeSamplesNotOverlapRemoved.result,l.survivalClinicalAttributesPrefix.result)}}),this.survivalClinicalData=Object(i.S)({await:function(){return[l.activeSamplesNotOverlapRemoved,l.survivalClinicalAttributesPrefix]},invoke:function(){if(0===l.activeSamplesNotOverlapRemoved.result.length)return Promise.resolve([]);var e=c.a.reduce(l.survivalClinicalAttributesPrefix.result,function(e,t){return e.push(t+"_STATUS"),e.push(t+"_MONTHS"),e},[]);if(0===e.length)return Promise.resolve([]);var t={attributeIds:e,identifiers:l.activeSamplesNotOverlapRemoved.result.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})};return u.a.fetchClinicalDataUsingPOST({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:t})}},[]),this.activeStudiesClinicalAttributes=Object(i.S)({await:function(){return[l.activeStudyIds]},invoke:function(){return 0===l.activeStudyIds.result.length?Promise.resolve([]):u.a.fetchClinicalAttributesUsingPOST({studyIds:l.activeStudyIds.result})}},[]),this.survivalClinicalAttributesPrefix=Object(i.S)({await:function(){return[l.activeStudiesClinicalAttributes]},invoke:function(){return Promise.resolve(Object(S.V)(l.activeStudiesClinicalAttributes.result))}}),this.survivalClinicalDataGroupByUniquePatientKey=Object(i.S)({await:function(){return[l.survivalClinicalData]},invoke:function(){return w(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.groupBy(this.survivalClinicalData.result,"uniquePatientKey"));case 1:case"end":return e.stop()}},e,this)}))}}),this.patientSurvivals=Object(i.S)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.activePatientKeysNotOverlapRemoved,l.survivalClinicalAttributesPrefix]},invoke:function(){return Promise.resolve(c.a.reduce(l.survivalClinicalAttributesPrefix.result,function(e,t){return e[t]=Object(y.b)(l.survivalClinicalDataGroupByUniquePatientKey.result,l.activePatientKeysNotOverlapRemoved.result,"".concat(t,"_STATUS"),"".concat(t,"_MONTHS"),function(e){return Object(P.n)(e,t)}),e},{}))}}),this.patientSurvivalUniqueStatusText=Object(i.S)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.activePatientKeysNotOverlapRemoved,l.survivalClinicalAttributesPrefix]},invoke:function(){return Promise.resolve(c.a.reduce(l.survivalClinicalAttributesPrefix.result,function(e,t){var n=Object(y.a)(l.survivalClinicalDataGroupByUniquePatientKey.result,l.activePatientKeysNotOverlapRemoved.result,"".concat(t,"_STATUS"),"".concat(t,"_MONTHS"));return e[t]=c.a.chain(n).map(function(e){return e.value}).uniq().value(),e},{}))}}),this.uidToGroup=Object(i.S)({await:function(){return[l._originalGroups]},invoke:function(){return Promise.resolve(c.a.keyBy(l._originalGroups.result,function(e){return e.uid}))}}),this.clinicalDataEnrichments=Object(i.S)({await:function(){return[l.activeGroups]},invoke:function(){if(l.clinicalTabUnavailable)return Promise.resolve([]);var e=c.a.map(l.activeGroups.result,function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e.studies[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=u.id,l=!0,c=!1,f=void 0;try{for(var p,d=u.samples[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;t.push({studyId:s,sampleId:m})}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{name:e.nameWithOrdinal||e.uid,sampleIdentifiers:t}});return e.length>1?d.a.fetchClinicalEnrichmentsUsingPOST({groupFilter:{groups:e}}):Promise.resolve([])},onError:function(){}},[]),this.clinicalDataEnrichmentsWithQValues=Object(i.S)({await:function(){return[l.clinicalDataEnrichments]},invoke:function(){var e=l.clinicalDataEnrichments.result,t=c.a.sortBy(e,function(e){return e.pValue});return Object(v.a)(t.map(function(e){return e.pValue})).forEach(function(e,n){t[n].qValue=e}),Promise.resolve(t)},onError:function(){}},[]),this.activeStudyIdToStudy=Object(i.S)({await:function(){return[l.studies,l.activeStudyIds]},invoke:function(){return Promise.resolve(c.a.keyBy(c.a.filter(l.studies.result,function(e){return l.activeStudyIds.result.includes(e.studyId)}),function(e){return e.studyId}))}},{}),this.survivalDescriptions=Object(i.S)({await:function(){return[l.activeStudiesClinicalAttributes,l.activeStudyIdToStudy,l.survivalClinicalAttributesPrefix]},invoke:function(){var e=c.a.reduce(l.survivalClinicalAttributesPrefix.result,function(e,t){var n="".concat(t,"_STATUS"),r=c.a.groupBy(l.activeStudiesClinicalAttributes.result,"clinicalAttributeId"),o=l.activeStudyIdToStudy.result;return r&&r[n]&&r[n].length>0&&r[n].map(function(n){e[t]||(e[t]=[]),e[t].push({studyName:o[n.studyId].name,description:n.description,displayName:n.displayName})}),e},{});return Promise.resolve(e)}}),setTimeout(function(){l.tabHasBeenShownReactionDisposer=Object(a.autorun)(function(){l.tabHasBeenShown.set(o.a.SURVIVAL,!!l.tabHasBeenShown.get(o.a.SURVIVAL)||l.showSurvivalTab),l.tabHasBeenShown.set(o.a.MUTATIONS,!!l.tabHasBeenShown.get(o.a.MUTATIONS)||l.showMutationsTab),l.tabHasBeenShown.set(o.a.CNA,!!l.tabHasBeenShown.get(o.a.CNA)||l.showCopyNumberTab),l.tabHasBeenShown.set(o.a.MRNA,!!l.tabHasBeenShown.get(o.a.MRNA)||l.showMRNATab),l.tabHasBeenShown.set(o.a.PROTEIN,!!l.tabHasBeenShown.get(o.a.PROTEIN)||l.showProteinTab)})})}var t,n,l;return t=e,(n=[{key:"destroy",value:function(){this.tabHasBeenShownReactionDisposer&&this.tabHasBeenShownReactionDisposer()}},{key:"isGroupSelected",value:function(e){throw new Error("isGroupSelected must be implemented in subclass")}},{key:"setUsePatientLevelEnrichments",value:function(e){throw new Error("setUsePatientLevelEnrichments must be implemented in subclass")}},{key:"toggleGroupSelected",value:function(e){throw new Error("toggleGroupSelected must be implemented in subclass")}},{key:"updateGroupOrder",value:function(e,t){throw new Error("updateGroupOrder must be implemented in subclass")}},{key:"selectAllGroups",value:function(){throw new Error("selectAllGroups must be implemented in subclass")}},{key:"deselectAllGroups",value:function(){throw new Error("deselectAllGroups must be implemented in subclass")}},{key:"saveAndGoToSession",value:function(e){return w(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("saveAndGoToSession must be implemented in subclass");case 1:case"end":return e.stop()}},e)}))}},{key:"addGroup",value:function(e,t){return w(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.newSessionPending=!0,!t||!this.isLoggedIn){n.next=4;break}return n.next=4,s.a.addGroup(e);case 4:(r=c.a.cloneDeep(this._session.result)).groups.push(e),this.saveAndGoToSession(r);case 7:case"end":return n.stop()}},n,this)}))}},{key:"deleteGroup",value:function(e){return w(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.newSessionPending=!0,(n=c.a.cloneDeep(this._session.result)).groups=n.groups.filter(function(t){return t.name!==e}),this.saveAndGoToSession(n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"setMutationEnrichmentProfileMap",value:function(e){this._mutationEnrichmentProfileMap=e}},{key:"setCopyNumberEnrichmentProfileMap",value:function(e){this._copyNumberEnrichmentProfileMap=e}},{key:"setMRNAEnrichmentProfileMap",value:function(e){this._mRNAEnrichmentProfileMap=e}},{key:"setProteinEnrichmentProfileMap",value:function(e){this._proteinEnrichmentProfileMap=e}},{key:"getCopyNumberEnrichmentData",value:function(e,t){return d.a.fetchCopyNumberEnrichmentsUsingPOST({copyNumberEventType:t,enrichmentType:this.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:e})}},{key:"getGroupsDownloadDataPromise",value:function(){var e=this;return new Promise(function(t){Object(I.a)([e._originalGroups,e.samples,e.sampleKeyToGroups],function(e,n,o){t(Object(r.q)(n,e,o))})})}},{key:"isLoggedIn",get:function(){return this.appStore.isLoggedIn}},{key:"survivalTabShowable",get:function(){return this.survivalClinicalDataExists.isComplete&&this.survivalClinicalDataExists.result}},{key:"showSurvivalTab",get:function(){return this.survivalTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.SURVIVAL)}},{key:"survivalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length>10||!this.survivalTabShowable}},{key:"mutationsTabShowable",get:function(){return this.mutationEnrichmentProfiles.isComplete&&this.mutationEnrichmentProfiles.result.length>0}},{key:"showMutationsTab",get:function(){return this.mutationsTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.MUTATIONS)}},{key:"mutationsTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.mutationsTabShowable}},{key:"clinicalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2}},{key:"copyNumberTabShowable",get:function(){return this.copyNumberEnrichmentProfiles.isComplete&&this.copyNumberEnrichmentProfiles.result.length>0}},{key:"showCopyNumberTab",get:function(){return this.copyNumberTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.CNA)}},{key:"copyNumberUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.copyNumberTabShowable}},{key:"mRNATabShowable",get:function(){return this.mRNAEnrichmentProfiles.isComplete&&this.mRNAEnrichmentProfiles.result.length>0}},{key:"showMRNATab",get:function(){return this.mRNATabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.MRNA)}},{key:"mRNATabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.mRNATabShowable}},{key:"proteinTabShowable",get:function(){return this.proteinEnrichmentProfiles.isComplete&&this.proteinEnrichmentProfiles.result.length>0}},{key:"showProteinTab",get:function(){return this.proteinTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(o.a.PROTEIN)}},{key:"proteinTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.proteinTabShowable}}])&&_(t.prototype,n),l&&_(t,l),e}();E([a.observable],A.prototype,"newSessionPending",void 0),E([a.observable.ref],A.prototype,"_mutationEnrichmentProfileMap",void 0),E([a.observable.ref],A.prototype,"_copyNumberEnrichmentProfileMap",void 0),E([a.observable.ref],A.prototype,"_mRNAEnrichmentProfileMap",void 0),E([a.observable.ref],A.prototype,"_proteinEnrichmentProfileMap",void 0),E([a.action],A.prototype,"setMutationEnrichmentProfileMap",null),E([a.action],A.prototype,"setCopyNumberEnrichmentProfileMap",null),E([a.action],A.prototype,"setMRNAEnrichmentProfileMap",null),E([a.action],A.prototype,"setProteinEnrichmentProfileMap",null),E([a.computed],A.prototype,"survivalTabShowable",null),E([a.computed],A.prototype,"showSurvivalTab",null),E([a.computed],A.prototype,"survivalTabUnavailable",null),E([a.computed],A.prototype,"mutationsTabShowable",null),E([a.computed],A.prototype,"showMutationsTab",null),E([a.computed],A.prototype,"mutationsTabUnavailable",null),E([a.computed],A.prototype,"clinicalTabUnavailable",null),E([a.computed],A.prototype,"copyNumberTabShowable",null),E([a.computed],A.prototype,"showCopyNumberTab",null),E([a.computed],A.prototype,"copyNumberUnavailable",null),E([a.computed],A.prototype,"mRNATabShowable",null),E([a.computed],A.prototype,"showMRNATab",null),E([a.computed],A.prototype,"mRNATabUnavailable",null),E([a.computed],A.prototype,"proteinTabShowable",null),E([a.computed],A.prototype,"showProteinTab",null),E([a.computed],A.prototype,"proteinTabUnavailable",null),E([m.default],A.prototype,"getGroupsDownloadDataPromise",null)},631:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(4),o=n.n(r);function i(e,t){var n=t||function(e){return!!e};return o.a.reduce(e,function(e,t){return e&&n(t)},!0)}},634:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(572),o=n(573),i=n(22),a=n(571),u=n(6);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.F)(e,["annotation_summary"],u.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(i.d)(e);return t?Object(o.f)(t):""}(e)},function(e){return Object(o.f)(e.annotation_summary.genomicLocation)},e||p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["a"]),t}()},635:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(572),o=n(573),i=n(571),a=n(6),u=n(22);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.F)(e,["annotation_summary","mutation_assessor"],a.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(u.d)(e);return t?Object(o.f)(t):""}(e)},function(e){return Object(o.f)(e.annotation_summary.genomicLocation)},e||p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i["a"]),t}()},636:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(637),o=n(634),i=n(638),a=n(4),u=n.n(a),s=n(635);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},f=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mutationData=t,this.studyToMolecularProfileDiscrete=n,this.genomeNexusCache=r,this.genomeNexusMutationAssessorCache=o,this.mutationCountCache=i,this.discreteCNACache=a,this.allData=void 0}var t,n,a;return t=e,(n=[{key:"fetchAndCacheAllLazyData",value:function(){var e=this;return this.allData?Promise.resolve(this.allData):new Promise(function(t,n){var r=e.availablePromiseCachePairs();Promise.all(r.promises).then(function(n){e.allData=n;for(var o=0;o<n.length;o++)r.caches[o].addData(n[o]);t(n)}).catch(n)})}},{key:"availablePromiseCachePairs",value:function(){var e=[],t=[];return this.genomeNexusCache&&this.mutationData.result&&(e.push(Object(o.b)(this.mutationData.result)),t.push(this.genomeNexusCache())),this.genomeNexusMutationAssessorCache&&this.mutationData.result&&(e.push(Object(s.b)(this.mutationData.result)),t.push(this.genomeNexusMutationAssessorCache())),this.mutationCountCache&&(e.push(this.fetchAllMutationCountData()),t.push(this.mutationCountCache())),this.discreteCNACache&&(e.push(this.fetchAllDiscreteCNAData()),t.push(this.discreteCNACache())),{promises:e,caches:t}}},{key:"fetchAllMutationCountData",value:function(){return c(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=7;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),e.next=4,Object(r.b)(t);case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}},e,this)}))}},{key:"fetchAllDiscreteCNAData",value:function(){return c(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=9;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId,entrezGeneId:e.entrezGeneId}}),e.next=4,Object(i.b)(t,this.studyToMolecularProfileDiscrete);case 4:return n=e.sent,r=u.a.flatten(u.a.map(n,function(e){return u.a.map(u.a.flatten(e.data),function(t){return Object.assign(Object.assign({},t),{studyId:e.meta})})})),e.abrupt("return",r);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}))}}])&&l(t.prototype,n),a&&l(t,a),e}()},637:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p});var r=n(178),o=n(571);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function c(e){return"".concat(e.studyId,"~").concat(e.sampleId)}function f(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=5;break}return n={attributeIds:["MUTATION_COUNT"],identifiers:e.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})},t.abrupt("return",r.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:n}));case 5:return t.abrupt("return",Promise.resolve([]));case 6:case"end":return t.stop()}},t)}))}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,c,c,f))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o["a"]),t}()},638:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m});var r=n(4),o=n(571),i=n(178);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function p(e,t){if(t){var n=r.groupBy(e,"studyId");return Promise.all(Object.keys(n).map(function(e){var o=t[e];return o?function(e,t,n){return f(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,u,s,l,c,f,p,d,m,y,h,v,g,b,S,P,I,_;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,a=r.uniq(e.map(function(e){return e.sampleId})),u=r.uniq(e.map(function(e){return e.entrezGeneId})),!(a.length<u.length)){o.next=27;break}for(l={},c=!0,f=!1,p=void 0,o.prev=8,d=e[Symbol.iterator]();!(c=(m=d.next()).done);c=!0)y=m.value,l[y.sampleId]=l[y.sampleId]||[],l[y.sampleId].push(y.entrezGeneId);o.next=16;break;case 12:o.prev=12,o.t0=o.catch(8),f=!0,p=o.t0;case 16:o.prev=16,o.prev=17,c||null==d.return||d.return();case 19:if(o.prev=19,!f){o.next=22;break}throw p;case 22:return o.finish(19);case 23:return o.finish(16);case 24:s=Object.keys(l).map(function(e){return{sampleIds:[e],entrezGeneIds:l[e]}}),o.next=48;break;case 27:for(h={},v=!0,g=!1,b=void 0,o.prev=31,S=e[Symbol.iterator]();!(v=(P=S.next()).done);v=!0)I=P.value,h[I.entrezGeneId]=h[I.entrezGeneId]||[],h[I.entrezGeneId].push(I.sampleId);o.next=39;break;case 35:o.prev=35,o.t1=o.catch(31),g=!0,b=o.t1;case 39:o.prev=39,o.prev=40,v||null==S.return||S.return();case 42:if(o.prev=42,!g){o.next=45;break}throw b;case 45:return o.finish(42);case 46:return o.finish(39);case 47:s=Object.keys(h).map(function(e){return{sampleIds:h[e],entrezGeneIds:[parseInt(e,10)]}});case 48:return o.next=50,Promise.all(s.map(function(e){return void 0===n?Promise.reject("No molecular profile id given."):i.a.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",molecularProfileId:n,discreteCopyNumberFilter:e,discreteCopyNumberEventType:"ALL"})}));case 50:return _=o.sent,o.abrupt("return",{data:r.flatten(_),meta:t});case 54:throw o.prev=54,o.t2=o.catch(0),o.t2;case 57:case"end":return o.stop()}},o,null,[[0,54],[8,12,16,24],[17,,19,23],[31,35,39,47],[40,,42,46]])}))}(n[e],e,o.molecularProfileId):Promise.resolve({data:[],meta:e})}))}throw"No study to molecular profile id map given"}function d(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.sampleId,"~").concat(e.entrezGeneId)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,l(t).call(this,d,d,p,e))).studyToMolecularProfileDiscrete=e,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),n=t,(r=[{key:"isActive",get:function(){return!!(this.studyToMolecularProfileDiscrete&&Object.keys(this.studyToMolecularProfileDiscrete).length>0)}}])&&u(n.prototype,r),i&&u(n,i),t}()},639:function(e,t,n){"use strict";var r=n(0),o=n(7),i=n(596),a=n(2),u=n(579),s=n(630);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};var y=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=c(this,f(t).apply(this,arguments))).excludedGroupsSummary=Object(u.a)({await:function(){return[e.props.store.overlapComputations]},render:function(){var t,n=e.props.store.overlapComputations.result,o=n.groups.filter(function(e){return e.uid in n.excludedFromAnalysis}),a=Object(i.f)(o,"and"),u=1===o.length?"is":"are";return o.length>0&&(t=r.createElement("span",null,a," ".concat(u," completely overlapping with other selected groups, so "),e.props.overlapTabMode?"".concat(u," excluded from analysis in other tabs."):"".concat(1===o.length?"has":"have"," been excluded from this analysis."))),t?r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(e.classNames.icon),style:{color:"#000000",marginRight:5}}),t):null}}),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"makeOverlappingCasesMessage",value:function(e,t){var n,o="sample"===e?t.overlappingSamples.length:t.overlappingPatients.length;if(0===o)return null;if(this.props.survivalTabMode&&t.totalPatientOverlap>0&&this.props.store.overlapStrategy===s.a.INCLUDE)n=function(e){return r.createElement("span",null,"Overlapping patients (",e,") are plotted as distinct groups below.")}(o);else{var a,u=t.groups.filter(function(e){return!(e.uid in t.excludedFromAnalysis)});a=u.length<t.groups.length?r.createElement("span",null,"between ",Object(i.f)(u,"and")):r.createElement("span",null,"in the selected groups"),n=r.createElement("span",null,"".concat("sample"===e?"Samples":"Patients"," (").concat(o,") that overlap "),a," are ".concat(this.props.store.overlapStrategy===s.a.INCLUDE?"included in":"excluded from"),this.props.overlapTabMode?" ".concat(e,"-level analysis in other tabs."):" ".concat(e,"-level analysis below."))}return r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(this.classNames.icon),style:{color:"#000000",marginRight:5}}),n)}},{key:"render",value:function(){if(this.props.store.overlapComputations.isComplete){var e=this.props.store.overlapComputations.result;return!e.totalSampleOverlap&&!e.totalPatientOverlap||"sample"===this.props.only&&!e.totalSampleOverlap||"patient"===this.props.only&&!e.totalPatientOverlap?null:r.createElement("div",{className:"alert ".concat(this.classNames.alert)},this.excludedGroupsSummary.component,"patient"!==this.props.only&&this.makeOverlappingCasesMessage("sample",e),"sample"!==this.props.only&&this.makeOverlappingCasesMessage("patient",e))}return null}},{key:"classNames",get:function(){var e="",t="";switch(this.props.store.overlapStrategy){case s.a.INCLUDE:this.props.survivalTabMode?(e="fa-info-circle",t="alert-info"):(e="fa-exclamation-triangle",t="alert-warning");break;case s.a.EXCLUDE:e="fa-info-circle",t="alert-info"}return{icon:e,alert:t}}}])&&l(n.prototype,o),a&&l(n,a),t}();y.defaultProps={overlapTabMode:!1,survivalTabMode:!1},m([a.computed],y.prototype,"classNames",null),y=m([o.observer],y),t.a=y},641:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(631),o=n(4),i=n.n(o);function a(e,t){if(t.length){var n,r=!1;return"-"===t[0]&&(t=t.substring(1),r=!0),t.length?(n=!(!e.cytoband||0!==e.cytoband.indexOf(t)),r?!n:n):!0}return!0}function u(e,t){if((t=t.trim()).length){var n=t.split(/\s+/g),o=[],u=[],s=!0,l=!1,c=void 0;try{for(var f,p=n[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var d=f.value;"-"===d[0]?u.push(d):o.push(d)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}var m=!o.length||i.a.some(o,function(t){return a(e,t)}),y=!u.length||Object(r.a)(u.map(function(t){return a(e,t)}));return m&&y}return!0}},642:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.YES="YES",e.NO="NO",e.NA="NA"}(r||(r={}))},643:function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],n[o.type](o));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={start:kn},a=kn,u=function(){return!1},s=/^[0-9]/,l=En([["0","9"]],!1,!1),c=function(e){return e.join("")},f="-",p=Tn("-",!1),d=function(e){return"-"+e},m=".",y=Tn(".",!1),h=function(e,t){return e+"."+t},v=function(e){return"."+e},g=function(e){return e},b=/^[\-_.@\/a-zA-Z0-9*]/,S=En(["-","_",".","@","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),P=function(e){return e.join("")},I=/^[\-_.\/a-zA-Z0-9*]/,_=En(["-","_",".","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),O=function(e){return e},T=/^[GPAVLIMCFYWHKRQNEDST]/,E=En(["G","P","A","V","L","I","M","C","F","Y","W","H","K","R","Q","N","E","D","S","T"],!1,!1),w=function(e){return e},A=/^[^"]/,C=En(['"'],!0,!1),M=function(e){return e.join("")},k=/^[ \t\r]/,R=En([" ","\t","\r"],!1,!1),N=/^[,; \t\r\n]/,x=En([",",";"," ","\t","\r","\n"],!1,!1),D="[",j=Tn("[",!1),G='"',L=Tn('"',!1),F=function(e){return{label:e,list:[]}},q=function(){return{label:void 0,list:[]}},B="amp",K=Tn("AMP",!0),U="homdel",V=Tn("HOMDEL",!0),H="gain",z=Tn("GAIN",!0),W="hetloss",Y=Tn("HETLOSS",!0),X="mut",Q=Tn("MUT",!0),Z=(Tn("EXP",!0),Tn("PROT",!0),function(e,t){return e.concat(t)}),J=function(e,t){return e.concat(t)},$=function(e){return e},ee=function(e){return e},te="]",ne=Tn("]",!1),re=function(e,t,n){return e.list=t,[e].concat(n)},oe=function(e,t){return e.list=t,[e]},ie=function(e,t){return[e].concat(t)},ae=function(e){return[e]},ue=":",se=Tn(":",!1),le=function(e,t){return{gene:e,alterations:t}},ce=function(e){return{gene:e,alterations:!1}},fe=function(e,t){return[e].concat(t)},pe=function(e){return[e]},de=function(e){return e},me="_",ye=Tn("_",!1),he=function(e){return{alteration_type:"any",modifiers:[e]}},ve=function(){return"AMP"},ge=function(){return"HOMDEL"},be=function(){return"GAIN"},Se=function(){return"HETLOSS"},Pe="cna",Ie=Tn("CNA",!0),_e=function(e,t){return{alteration_type:"cna",constr_rel:e,constr_val:t,modifiers:[]}},Oe="CNA_",Te=Tn("CNA_",!1),Ee=function(e){return{alteration_type:"cna",modifiers:[e]}},we=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[t]}},Ae="_CNA",Ce=Tn("_CNA",!1),Me=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:t,modifiers:[e]}},ke=function(e){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[]}},Re="MUT",Ne=Tn("MUT",!1),xe="=",De=Tn("=",!1),je=function(e){return{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},Ge="!=",Le=Tn("!=",!1),Fe=function(e){return{alteration_type:"mut",constr_rel:"!=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},qe=function(e){return e.type?{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}:{alteration_type:"mut",info:{},modifiers:e.modifiers}},Be="EXP",Ke=Tn("EXP",!1),Ue=function(e,t){return{alteration_type:"exp",constr_rel:e,constr_val:parseFloat(t)}},Ve="fusion",He=Tn("FUSION",!0),ze=function(e){return{alteration_type:"fusion",modifiers:[e]}},We="_fusion",Ye=Tn("_FUSION",!0),Xe=function(){return{alteration_type:"fusion",modifiers:[]}},Qe="PROT",Ze=Tn("PROT",!1),Je=function(e,t){return{alteration_type:"prot",constr_rel:e,constr_val:parseFloat(t)}},$e=">=",et=Tn(">=",!1),tt=function(){return">="},nt="<=",rt=Tn("<=",!1),ot=function(){return"<="},it=">",at=Tn(">",!1),ut=function(){return">"},st="<",lt=Tn("<",!1),ct=function(){return"<"},ft=function(e,t){return t.modifiers.unshift(e),t},pt=function(e,t){return e.modifiers=t,e},dt=function(e){return{info:{},modifiers:[e]}},mt=function(e){return e.modifiers=[],e},yt=function(e,t){return[e].concat(t)},ht=function(e){return[e]},vt=function(){return{info:{}}},gt="missense",bt=Tn("MISSENSE",!0),St=function(){return{type:"class",value:"MISSENSE",info:{}}},Pt="nonsense",It=Tn("NONSENSE",!0),_t=function(){return{type:"class",value:"NONSENSE",info:{}}},Ot="nonstart",Tt=Tn("NONSTART",!0),Et=function(){return{type:"class",value:"NONSTART",info:{}}},wt="nonstop",At=Tn("NONSTOP",!0),Ct=function(){return{type:"class",value:"NONSTOP",info:{}}},Mt="frameshift",kt=Tn("FRAMESHIFT",!0),Rt=function(){return{type:"class",value:"FRAMESHIFT",info:{}}},Nt="inframe",xt=Tn("INFRAME",!0),Dt=function(){return{type:"class",value:"INFRAME",info:{}}},jt="splice",Gt=Tn("SPLICE",!0),Lt=function(){return{type:"class",value:"SPLICE",info:{}}},Ft="trunc",qt=Tn("TRUNC",!0),Bt=function(){return{type:"class",value:"TRUNC",info:{}}},Kt="promoter",Ut=Tn("PROMOTER",!0),Vt=function(){return{type:"class",value:"PROMOTER",info:{}}},Ht=function(e,t,n){return{type:"name",value:e+t+n,info:{}}},zt=function(e,t){return{type:"position",value:parseInt(t),info:{amino_acid:e.toUpperCase()}}},Wt=function(e){return{type:"name",value:e,info:{unrecognized:!0}}},Yt=function(e,t){return e+t},Xt=function(e){return e},Qt=function(e){return e},Zt="germline",Jt=Tn("GERMLINE",!0),$t=function(){return{type:"GERMLINE"}},en="somatic",tn=Tn("SOMATIC",!0),nn=function(){return{type:"SOMATIC"}},rn=function(e){return e},on=function(e){return e},an="driver",un=Tn("DRIVER",!0),sn=function(){return{type:"DRIVER"}},ln="(",cn=Tn("(",!1),fn=/^[*]/,pn=En(["*"],!1,!1),dn=")",mn=Tn(")",!1),yn=function(e,t,n){return{type:"RANGE",start:parseInt(e,10),end:parseInt(t,10),completeOverlapOnly:!!n}},hn="(-",vn=Tn("(-",!1),gn=function(e,t){return{type:"RANGE",end:parseInt(e,10),completeOverlapOnly:!!t}},bn=function(e,t){return{type:"RANGE",start:parseInt(e,10),completeOverlapOnly:!!t}},Sn=0,Pn=[{line:1,column:1}],In=0,_n=[],On=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function Tn(e,t){return{type:"literal",text:e,ignoreCase:t}}function En(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function wn(t){var n,r=Pn[t];if(r)return r;for(n=t-1;!Pn[n];)n--;for(r={line:(r=Pn[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Pn[t]=r,r}function An(e,t){var n=wn(e),r=wn(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Cn(e){Sn<In||(Sn>In&&(In=Sn,_n=[]),_n.push(e))}function Mn(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function kn(){var e,t;return(e=function e(){var t,n,r;return t=Sn,(n=Kn())!==o&&qn()!==o&&(r=e())!==o?(n=Z(n,r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Un())!==o&&qn()!==o&&(r=e())!==o?(n=J(n,r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Kn())!==o&&Fn()!==o?(n=$(n),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Un())!==o&&Fn()!==o?(n=ee(n),t=n):(Sn=t,t=o)))),t}())===o&&(e=Sn,(t=Gn())!==o&&(t=u()),e=t),e}function Rn(){var t,n;if(Sn,t=[],s.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(l)),n!==o)for(;n!==o;)t.push(n),s.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(l));else t=o;return t!==o&&(t=c(t)),t}function Nn(){var t,n,r,i;return t=Sn,45===e.charCodeAt(Sn)?(n=f,Sn++):(n=o,0===On&&Cn(p)),n!==o&&(r=Nn())!==o?t=n=d(r):(Sn=t,t=o),t===o&&(t=Sn,(n=Rn())!==o?(46===e.charCodeAt(Sn)?(r=m,Sn++):(r=o,0===On&&Cn(y)),r!==o&&(i=Rn())!==o?t=n=h(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,46===e.charCodeAt(Sn)?(n=m,Sn++):(n=o,0===On&&Cn(y)),n!==o&&(r=Rn())!==o?t=n=v(r):(Sn=t,t=o),t===o&&(t=Sn,(n=Rn())!==o&&(n=g(n)),t=n))),t}function xn(){var t,n;if(Sn,t=[],b.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(S)),n!==o)for(;n!==o;)t.push(n),b.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(S));else t=o;return t!==o&&(t=P(t)),t}function Dn(){var t;return Sn,I.test(e.charAt(Sn))?(t=e.charAt(Sn),Sn++):(t=o,0===On&&Cn(_)),t!==o&&(t=O(t)),t}function jn(){var t;return Sn,T.test(e.charAt(Sn))?(t=e.charAt(Sn),Sn++):(t=o,0===On&&Cn(E)),t!==o&&(t=w(t)),t}function Gn(){var t,n;if(t=[],k.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(R)),n!==o)for(;n!==o;)t.push(n),k.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(R));else t=o;return t}function Ln(){var t,n;for(t=[],k.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(R));n!==o;)t.push(n),k.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(R));return t}function Fn(){var t,n;for(t=[],N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(x));n!==o;)t.push(n),N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(x));return t}function qn(){var t,n;if(t=[],N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(x)),n!==o)for(;n!==o;)t.push(n),N.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(x));else t=o;return t}function Bn(){var t,n,r,i,a;return t=Sn,91===e.charCodeAt(Sn)?(n=D,Sn++):(n=o,0===On&&Cn(j)),n!==o&&Fn()!==o?(34===e.charCodeAt(Sn)?(r=G,Sn++):(r=o,0===On&&Cn(L)),r!==o&&(i=function(){var t,n;if(Sn,t=[],A.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(C)),n!==o)for(;n!==o;)t.push(n),A.test(e.charAt(Sn))?(n=e.charAt(Sn),Sn++):(n=o,0===On&&Cn(C));else t=o;return t!==o&&(t=M(t)),t}())!==o?(34===e.charCodeAt(Sn)?(a=G,Sn++):(a=o,0===On&&Cn(L)),a!==o?t=n=F(i):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,91===e.charCodeAt(Sn)?(n=D,Sn++):(n=o,0===On&&Cn(j)),n!==o&&Fn()!==o?t=n=q():(Sn=t,t=o)),t}function Kn(){var t,n,r,i,a;return t=Sn,Fn()!==o&&(n=Bn())!==o&&(r=Un())!==o&&Fn()!==o?(93===e.charCodeAt(Sn)?(i=te,Sn++):(i=o,0===On&&Cn(ne)),i!==o&&Fn()!==o&&(a=Kn())!==o?t=re(n,r,a):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,Fn()!==o&&(n=Bn())!==o&&(r=Un())!==o&&Fn()!==o?(93===e.charCodeAt(Sn)?(i=te,Sn++):(i=o,0===On&&Cn(ne)),i!==o?t=oe(n,r):(Sn=t,t=o)):(Sn=t,t=o)),t}function Un(){var e,t,n;return e=Sn,Fn()!==o&&(t=Vn())!==o&&qn()!==o&&(n=Un())!==o?e=ie(t,n):(Sn=e,e=o),e===o&&(e=Sn,Fn()!==o&&(t=Vn())!==o?e=ae(t):(Sn=e,e=o)),e}function Vn(){var t,n,r,i;return t=Sn,(n=xn())!==o&&Ln()!==o?(58===e.charCodeAt(Sn)?(r=ue,Sn++):(r=o,0===On&&Cn(se)),r!==o&&Ln()!==o&&(i=function e(){var t,n,r;return t=Sn,(n=Hn())!==o&&Gn()!==o&&(r=e())!==o?(n=fe(n,r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=Hn())!==o&&(n=pe(n)),t=n),t}())!==o?t=n=le(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=xn())!==o&&(n=ce(n)),t=n),t}function Hn(){var t,n;return t=Sn,(n=function(){var t,n,r,i;return t=Sn,(n=tr())!==o?(r=Sn,On++,95===e.charCodeAt(Sn)?(i=me,Sn++):(i=o,0===On&&Cn(ye)),On--,i===o?r=void 0:(Sn=r,r=o),r!==o?(n=he(n),t=n):(Sn=t,t=o)):(Sn=t,t=o),t}())!==o&&(n=de(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i,a;return t=Sn,e.substr(Sn,3).toLowerCase()===Pe?(n=e.substr(Sn,3),Sn+=3):(n=o,0===On&&Cn(Ie)),n!==o&&(r=Ln())!==o&&(i=Wn())!==o&&Ln()!==o&&(a=zn())!==o?(n=_e(i,a),t=n):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,4)===Oe?(n=Oe,Sn+=4):(n=o,0===On&&Cn(Te)),n!==o&&(r=$n())!==o?(n=Ee(r),t=n):(Sn=t,t=o),t===o&&(t=Sn,(n=zn())!==o?(95===e.charCodeAt(Sn)?(r=me,Sn++):(r=o,0===On&&Cn(ye)),r!==o&&(i=$n())!==o?(n=we(n,i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=$n())!==o?(e.substr(Sn,4)===Ae?(r=Ae,Sn+=4):(r=o,0===On&&Cn(Ce)),r!==o?(n=Ee(n),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=$n())!==o?(95===e.charCodeAt(Sn)?(r=me,Sn++):(r=o,0===On&&Cn(ye)),r!==o&&(i=zn())!==o?(n=Me(n,i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=zn())!==o&&(n=ke(n)),t=n))))),t}())!==o&&(n=de(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,3)===Be?(n=Be,Sn+=3):(n=o,0===On&&Cn(Ke)),n!==o&&Ln()!==o&&(r=Wn())!==o&&Ln()!==o&&(i=Nn())!==o?(n=Ue(r,i),t=n):(Sn=t,t=o),t}())!==o&&(n=de(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,4)===Qe?(n=Qe,Sn+=4):(n=o,0===On&&Cn(Ze)),n!==o&&Ln()!==o&&(r=Wn())!==o&&Ln()!==o&&(i=Nn())!==o?(n=Je(r,i),t=n):(Sn=t,t=o),t}())!==o&&(n=de(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,6).toLowerCase()===Ve?(n=e.substr(Sn,6),Sn+=6):(n=o,0===On&&Cn(He)),n!==o?(95===e.charCodeAt(Sn)?(r=me,Sn++):(r=o,0===On&&Cn(ye)),r!==o&&(i=er())!==o?(n=ze(i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=er())!==o?(e.substr(Sn,7).toLowerCase()===We?(r=e.substr(Sn,7),Sn+=7):(r=o,0===On&&Cn(Ye)),r!==o?(n=ze(n),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,6).toLowerCase()===Ve?(n=e.substr(Sn,6),Sn+=6):(n=o,0===On&&Cn(He)),n!==o&&(n=Xe()),t=n)),t}())!==o&&(n=de(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i;return t=Sn,e.substr(Sn,3)===Re?(n=Re,Sn+=3):(n=o,0===On&&Cn(Ne)),n!==o&&Ln()!==o?(61===e.charCodeAt(Sn)?(r=xe,Sn++):(r=o,0===On&&Cn(De)),r!==o&&Ln()!==o&&(i=Yn())!==o?(n=je(i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,3)===Re?(n=Re,Sn+=3):(n=o,0===On&&Cn(Ne)),n!==o&&Ln()!==o?(e.substr(Sn,2)===Ge?(r=Ge,Sn+=2):(r=o,0===On&&Cn(Le)),r!==o&&Ln()!==o&&(i=Yn())!==o?(n=Fe(i),t=n):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Yn())!==o&&(n=qe(n)),t=n)),t}())!==o&&(n=de(n)),t=n))))),t}function zn(){var t,n;return t=Sn,e.substr(Sn,3).toLowerCase()===B?(n=e.substr(Sn,3),Sn+=3):(n=o,0===On&&Cn(K)),n!==o&&(n=ve()),(t=n)===o&&(t=Sn,e.substr(Sn,6).toLowerCase()===U?(n=e.substr(Sn,6),Sn+=6):(n=o,0===On&&Cn(V)),n!==o&&(n=ge()),(t=n)===o&&(t=Sn,e.substr(Sn,4).toLowerCase()===H?(n=e.substr(Sn,4),Sn+=4):(n=o,0===On&&Cn(z)),n!==o&&(n=be()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===W?(n=e.substr(Sn,7),Sn+=7):(n=o,0===On&&Cn(Y)),n!==o&&(n=Se()),t=n))),t}function Wn(){var t,n;return t=Sn,e.substr(Sn,2)===$e?(n=$e,Sn+=2):(n=o,0===On&&Cn(et)),n!==o&&(n=tt()),(t=n)===o&&(t=Sn,e.substr(Sn,2)===nt?(n=nt,Sn+=2):(n=o,0===On&&Cn(rt)),n!==o&&(n=ot()),(t=n)===o&&(t=Sn,62===e.charCodeAt(Sn)?(n=it,Sn++):(n=o,0===On&&Cn(at)),n!==o&&(n=ut()),(t=n)===o&&(t=Sn,60===e.charCodeAt(Sn)?(n=st,Sn++):(n=o,0===On&&Cn(lt)),n!==o&&(n=ct()),t=n))),t}function Yn(){var t,n,r,i;return t=Sn,(n=Jn())!==o?(95===e.charCodeAt(Sn)?(r=me,Sn++):(r=o,0===On&&Cn(ye)),r!==o&&(i=Yn())!==o?t=n=ft(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Xn())!==o?(95===e.charCodeAt(Sn)?(r=me,Sn++):(r=o,0===On&&Cn(ye)),r!==o&&(i=function t(){var n,r,i,a;return n=Sn,(r=Jn())!==o?(95===e.charCodeAt(Sn)?(i=me,Sn++):(i=o,0===On&&Cn(ye)),i!==o&&(a=t())!==o?(r=yt(r,a),n=r):(Sn=n,n=o)):(Sn=n,n=o),n===o&&(n=Sn,(r=Jn())!==o&&(r=ht(r)),n=r),n}())!==o?t=n=pt(n,i):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,(n=Jn())!==o&&(n=dt(n)),(t=n)===o&&(t=Sn,(n=Xn())!==o&&(n=mt(n)),t=n))),t}function Xn(){var t,n,r,i;return t=Sn,e.substr(Sn,3).toLowerCase()===X?(n=e.substr(Sn,3),Sn+=3):(n=o,0===On&&Cn(Q)),n!==o&&(n=vt()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===gt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===On&&Cn(bt)),n!==o&&(n=St()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===Pt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===On&&Cn(It)),n!==o&&(n=_t()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===Ot?(n=e.substr(Sn,8),Sn+=8):(n=o,0===On&&Cn(Tt)),n!==o&&(n=Et()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===wt?(n=e.substr(Sn,7),Sn+=7):(n=o,0===On&&Cn(At)),n!==o&&(n=Ct()),(t=n)===o&&(t=Sn,e.substr(Sn,10).toLowerCase()===Mt?(n=e.substr(Sn,10),Sn+=10):(n=o,0===On&&Cn(kt)),n!==o&&(n=Rt()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===Nt?(n=e.substr(Sn,7),Sn+=7):(n=o,0===On&&Cn(xt)),n!==o&&(n=Dt()),(t=n)===o&&(t=Sn,e.substr(Sn,6).toLowerCase()===jt?(n=e.substr(Sn,6),Sn+=6):(n=o,0===On&&Cn(Gt)),n!==o&&(n=Lt()),(t=n)===o&&(t=Sn,e.substr(Sn,5).toLowerCase()===Ft?(n=e.substr(Sn,5),Sn+=5):(n=o,0===On&&Cn(qt)),n!==o&&(n=Bt()),(t=n)===o&&(t=Sn,e.substr(Sn,8).toLowerCase()===Kt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===On&&Cn(Ut)),n!==o&&(n=Vt()),(t=n)===o&&(t=Sn,(n=jn())!==o&&(r=Rn())!==o&&(i=Qn())!==o?t=n=Ht(n,r,i):(Sn=t,t=o),t===o&&(t=Sn,(n=jn())!==o&&(r=Rn())!==o?t=n=zt(n,r):(Sn=t,t=o),t===o&&(t=Sn,(n=Qn())!==o&&(n=Wt(n)),t=n)))))))))))),t}function Qn(){var e,t,n,r,i;return e=Sn,t=Sn,On++,n=Zn(),On--,n===o?t=void 0:(Sn=t,t=o),t!==o&&(n=Dn())!==o?(r=Sn,On++,i=Zn(),On--,i===o?r=void 0:(Sn=r,r=o),r!==o&&(i=Qn())!==o?e=t=Yt(n,i):(Sn=e,e=o)):(Sn=e,e=o),e===o&&(e=Sn,t=Sn,On++,n=Zn(),On--,n===o?t=void 0:(Sn=t,t=o),t!==o&&(n=Dn())!==o?e=t=Xt(n):(Sn=e,e=o)),e}function Zn(){var t,n,r;return t=Sn,95===e.charCodeAt(Sn)?(n=me,Sn++):(n=o,0===On&&Cn(ye)),n!==o&&(r=Jn())!==o?t=n=Qt(r):(Sn=t,t=o),t}function Jn(){var t,n;return t=Sn,e.substr(Sn,8).toLowerCase()===Zt?(n=e.substr(Sn,8),Sn+=8):(n=o,0===On&&Cn(Jt)),n!==o&&(n=$t()),(t=n)===o&&(t=Sn,e.substr(Sn,7).toLowerCase()===en?(n=e.substr(Sn,7),Sn+=7):(n=o,0===On&&Cn(tn)),n!==o&&(n=nn()),(t=n)===o&&(t=Sn,(n=tr())!==o&&(n=Qt(n)),(t=n)===o&&(t=Sn,(n=function(){var t,n,r,i,a,u,s;return t=Sn,40===e.charCodeAt(Sn)?(n=ln,Sn++):(n=o,0===On&&Cn(cn)),n!==o&&(r=Rn())!==o?(45===e.charCodeAt(Sn)?(i=f,Sn++):(i=o,0===On&&Cn(p)),i!==o&&(a=Rn())!==o?(fn.test(e.charAt(Sn))?(u=e.charAt(Sn),Sn++):(u=o,0===On&&Cn(pn)),u===o&&(u=null),u!==o?(41===e.charCodeAt(Sn)?(s=dn,Sn++):(s=o,0===On&&Cn(mn)),s!==o?(n=yn(r,a,u),t=n):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,e.substr(Sn,2)===hn?(n=hn,Sn+=2):(n=o,0===On&&Cn(vn)),n!==o&&(r=Rn())!==o?(fn.test(e.charAt(Sn))?(i=e.charAt(Sn),Sn++):(i=o,0===On&&Cn(pn)),i===o&&(i=null),i!==o?(41===e.charCodeAt(Sn)?(a=dn,Sn++):(a=o,0===On&&Cn(mn)),a!==o?(n=gn(r,i),t=n):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o),t===o&&(t=Sn,40===e.charCodeAt(Sn)?(n=ln,Sn++):(n=o,0===On&&Cn(cn)),n!==o&&(r=Rn())!==o?(45===e.charCodeAt(Sn)?(i=f,Sn++):(i=o,0===On&&Cn(p)),i!==o?(fn.test(e.charAt(Sn))?(a=e.charAt(Sn),Sn++):(a=o,0===On&&Cn(pn)),a===o&&(a=null),a!==o?(41===e.charCodeAt(Sn)?(u=dn,Sn++):(u=o,0===On&&Cn(mn)),u!==o?(n=bn(r,a),t=n):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o)):(Sn=t,t=o))),t}())!==o&&(n=rn(n)),t=n))),t}function $n(){var e;return Sn,(e=tr())!==o&&(e=on(e)),e}function er(){var e;return Sn,(e=tr())!==o&&(e=on(e)),e}function tr(){var t;return Sn,e.substr(Sn,6).toLowerCase()===an?(t=e.substr(Sn,6),Sn+=6):(t=o,0===On&&Cn(un)),t!==o&&(t=sn()),t}if((n=a())!==o&&Sn===e.length)return n;throw n!==o&&Sn<e.length&&Cn({type:"end"}),Mn(_n,In<e.length?e.charAt(In):null,In<e.length?An(In,In+1):An(In,In))}}},651:function(e,t,n){"use strict";var r=n(0);function o(e,t,n,r,o){var i=e+t+n+r,a=o[e+t]+o[n+r]+o[e+n]+o[t+r]-(o[e]+o[t]+o[n]+o[r]+o[i]);return Math.exp(a)}var i,a=n(620),u=n(784),s=n.n(u),l=n(4);function c(e,t,n,r){return function(e,t,n,r){var i,a,u=e+t+n+r,s=0,l=new Array(u+1);l[0]=0;for(var c=1;c<=u;c++)l[c]=l[c-1]+Math.log(c);if(s+=o(e,t,n,r,l),e*r>=t*n)for(i=n<t?n:t,a=0;a<i;a++)s+=o(++e,--t,--n,++r,l);if(e*r<t*n)for(i=e<r?e:r,a=0;a<i;a++)s+=o(--e,++t,++n,--r,l);return s}(e,t,n,r)}function f(e,t){var n=l.size(e),o=n>1?"pairs":"pair";return r.createElement("p",null,"The analysis tested ",r.createElement("b",null,n)," ",o," between the"," ",r.createElement("b",null,t)," tracks in the OncoPrint.")}function p(e){var t=[];s.a.bigCombination(Object.keys(e),2).toArray().forEach(function(n){var r,o,a,u,s,l,f,p,d,m,y=n[0],h=n[1],v=(r=e[y],o=e[h],a=0,u=0,s=0,l=0,r.forEach(function(e,t){if(e===i.UNPROFILED||o[t]===i.UNPROFILED)return!0;var n=o[t];e===i.UNALTERED&&n===i.UNALTERED?a++:e===i.UNALTERED&&n===i.ALTERED?u++:e===i.ALTERED&&n===i.UNALTERED?s++:l++}),[a,u,s,l]),g=c(v[0],v[1],v[2],v[3]),b=(p=v[1],d=v[2],(f=v[0])*(m=v[3])==0&&p*d==0?1/0:Math.log2(f*m/(p*d))),S=function(e){return e>0?"Co-occurrence":"Mutual exclusivity"}(b);t.push({trackA:y,trackB:h,neitherCount:v[0],bNotACount:v[1],aNotBCount:v[2],bothCount:v[3],logOddsRatio:b,pValue:g,qValue:0,association:S})}),t=l.sortBy(t,["pValue"]);var n=Object(a.a)(l.map(t,function(e){return e.pValue}));return t.forEach(function(e,t){e.qValue=n[t]}),t}function d(e,t,n,r){return e.filter(function(e){var o=!1;return t&&(o=o||e.logOddsRatio<=0),n&&(o=o||e.logOddsRatio>0),r&&(o=o&&e.qValue<.05),o})}function m(e){return e<.001?"<0.001":e.toFixed(3)}function y(e){var t=r.createElement("span",null,m(e));return e<.05&&(t=r.createElement("b",null,t)),t}function h(e){return e<-3?"<-3":e>3?">3":e.toFixed(3)}function v(e){var t={};return l.forIn(e,function(e,n){e&&e.length>0&&e.filter(function(e){return e!=i.UNPROFILED}).length>0&&(t[n]=e)}),t}n.d(t,"a",function(){return i}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return h}),n.d(t,"g",function(){return v}),function(e){e.UNPROFILED="unprofiled",e.ALTERED="altered",e.UNALTERED="unaltered"}(i||(i={}))},652:function(e,t,n){e.exports=n(16)(1031)},653:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u});var r=n(102),o=n(593);function i(e){var t={};return e.forEach(function(e){e.keyword in t||(t[e.keyword]=[]),t[e.keyword].push(e)}),t}function a(e){return e.type.toLowerCase().includes("single")||e.type.toLowerCase().includes("indel")}function u(e,t){return Object(r.Y)(Object(o.b)(e),t,a)}},654:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=":";function o(e,t){return"".concat(e).concat(r).concat(t)}function i(e,t){if("string"==typeof e){if(t)return o(e,t);throw"no sampleId given"}return o(e.studyId,e.sampleId)}},655:function(e,t,n){e.exports={portalWidth:"copyDownloadControls-module__portalWidth__wDcH_",framedImage:"copyDownloadControls-module__framedImage__1bvsU",downloadTabLinksGroup:"copyDownloadControls-module__downloadTabLinksGroup__-hkGB"}},656:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(17),i=n(56),a=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,f(t).apply(this,arguments))}var n,u,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(u=[{key:"copyButton",value:function(){var e=r.createElement("button",{ref:this.props.copyButtonRef,className:"btn btn-sm btn-default","data-clipboard-text":"NA",id:"copyButton",onClick:this.props.handleCopy},this.props.copyLabel," ",r.createElement("i",{className:"fa fa-clipboard"}));return r.createElement(a.c,s({overlay:r.createElement("span",{className:"alert-success"},"Copied!"),visible:this.props.showCopyMessage},this.baseTooltipProps,{overlayClassName:this.props.className}),r.createElement(a.c,s({overlay:r.createElement("span",null,"Copy"),visible:!this.props.showCopyMessage&&void 0},this.baseTooltipProps,{overlayClassName:this.props.className}),e))}},{key:"downloadButton",value:function(){return r.createElement(a.c,s({overlay:r.createElement("span",null,"Download TSV")},this.baseTooltipProps,{overlayClassName:this.props.className}),r.createElement(i.Button,{className:"btn-sm",onClick:this.props.handleDownload},this.props.downloadLabel," ",r.createElement("i",{className:"fa fa-cloud-download"})))}},{key:"render",value:function(){return r.createElement("span",{className:this.props.className},r.createElement(i.ButtonGroup,{className:this.props.className},r.createElement(o.If,{condition:this.props.showCopy},this.copyButton()),r.createElement(o.If,{condition:this.props.showDownload},this.downloadButton())))}},{key:"baseTooltipProps",get:function(){return{placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5}}}])&&l(n.prototype,u),d&&l(n,d),t}();d.defaultProps={className:"",copyLabel:"",downloadLabel:"",showCopy:!0,showDownload:!0,showCopyMessage:!1}},657:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(589);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,i;return t=e,(n=[{key:"add",value:function(e,t){var n=[];this.map.has(e)?n=this.map.get(e):this.map.set(e,n),n.push(t)}},{key:"get",value:function(e){return this.map.get(e)}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&o(t.prototype,n),i&&o(t,i),e}()},658:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(570);function o(e,t){var n=t.molecularAlterationType(e.molecularProfileId);switch(n){case r.a.MUTATION_EXTENDED:case r.a.FUSION:null!==t.fusion(e)?(e.alterationType=r.a.FUSION,e.alterationSubType=""):(e.alterationType=r.a.MUTATION_EXTENDED,e.alterationSubType=t.mut_type(e));break;case r.a.COPY_NUMBER_ALTERATION:e.alterationType=r.a.COPY_NUMBER_ALTERATION,e.alterationSubType=t.cna(e);break;case r.a.MRNA_EXPRESSION:case r.a.PROTEIN_LEVEL:e.alterationType=n}return e}},659:function(e,t,n){e.exports=n(16)(68)},664:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"c",function(){return y});var r=n(592),o=n(4),i=n.n(o),a=n(672),u=n.n(a),s=n(0),l=n(604),c={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"copy number alterations",MRNA_EXPRESSION:"mRNA expression",PROTEIN_LEVEL:"protein expression"};function f(e,t){var n;return n=e&&t?"Annotating with OncoKB and Cancer Hotspots":e?"Annotating with OncoKB":t?"Annotating with Cancer Hotspots":"Processing data",s.createElement("span",{style:{whiteSpace:"nowrap"}},n)}function p(e,t){return t?"".concat(r.c.ComparisonGroupPrefix,"_").concat(e):e.substring(r.c.ComparisonGroupPrefix.length+1)}function d(e){return e.map(function(e){return{clinicalAttributeId:p(e.id,!0),datatype:"STRING",description:"Membership in ".concat(e.data.name),displayName:"In group: ".concat(e.data.name),comparisonGroup:e,patientAttribute:!1}})}function m(e,t,n,o){var a=i.a.groupBy(n,"molecularAlterationType"),s=i.a.keyBy(n,function(e){return e.molecularProfileId}),l=i.a.mapValues(a,function(e){return!0}),f=i.a.reduce(e,function(e,n){var r=i.a.clone(l),o=!0,a=!1,u=void 0;try{for(var c,f=n.notProfiledAllGenes[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var p=c.value;p.molecularProfileId in s&&(r[t[p.molecularProfileId].molecularAlterationType]=!0)}}catch(e){a=!0,u=e}finally{try{o||null==f.return||f.return()}finally{if(a)throw u}}i.a.forEach(n.notProfiledByGene,function(e){var n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;l.molecularProfileId in s&&(r[t[l.molecularProfileId].molecularAlterationType]=!0)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}});var d=!0,m=!1,y=void 0;try{for(var h,v=n.allGenes[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var g=h.value;g.molecularProfileId in s&&(r[t[g.molecularProfileId].molecularAlterationType]=!1)}}catch(e){m=!0,y=e}finally{try{d||null==v.return||v.return()}finally{if(m)throw y}}return i.a.forEach(n.byGene,function(e){var n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;l.molecularProfileId in s&&(r[t[l.molecularProfileId].molecularAlterationType]=!1)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}}),i.a.forEach(r,function(t,n){t&&(e[n]=e[n]||0,e[n]+=1)}),e},{}),p=Object.keys(f).filter(function(e){return f[e]>0}).map(function(e){var t=a[e];if(t){if(1===t.length&&o){var n=t[0];return{clinicalAttributeId:"".concat(r.c.ProfiledInPrefix,"_").concat(n.molecularProfileId),datatype:"STRING",description:"Profiled in ".concat(n.name,": ").concat(n.description),displayName:"Profiled in ".concat(n.name),molecularProfileIds:[n.molecularProfileId],patientAttribute:!1}}return{clinicalAttributeId:"".concat(r.c.ProfiledInPrefix,"_").concat(e),datatype:"STRING",description:"",displayName:"Profiled for ".concat(c[e]),molecularProfileIds:t.map(function(e){return e.molecularProfileId}),patientAttribute:!1}}return null}).filter(function(e){return!!e});return p.sort(function(e,t){return u()(e.displayName,t.displayName)}),p}function y(e){return i.a.mapValues(e,function(e){return i.a.map(e,function(e){var t="NAME"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.NAME:l.a,n="DESCRIPTION"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.DESCRIPTION:l.a,r=t!==e.stableId,o=n!==e.stableId&&n!==t,i="";return i=r||o?r?o?"".concat(t," (").concat(e.stableId,"): ").concat(n):"".concat(t," (").concat(e.stableId,")"):"".concat(e.stableId,": ").concat(n):e.stableId,{id:e.stableId,value:i,label:i}})})}},667:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3H61V",framedImage:"styles-module__framedImage__3vt8Y",absolutePanel:"styles-module__absolutePanel__3vVTX",selectedInfoLoadingIndicator:"styles-module__selectedInfoLoadingIndicator__lMgyy",selectedInfo:"styles-module__selectedInfo__1Vuvh",selectedInfoCheckbox:"styles-module__selectedInfoCheckbox__1dPUi",mainTabs:"styles-module__mainTabs__3BkVf",studyViewSurvivalPlot:"styles-module__studyViewSurvivalPlot__2J73a",studyViewSurvivalPlotTitle:"styles-module__studyViewSurvivalPlotTitle__3oyYN",studyViewSurvivalPlotBody:"styles-module__studyViewSurvivalPlotBody__38PYq",studyViewAutoMargin:"styles-module__studyViewAutoMargin__ST9aM",studyViewLoadingIndicator:"styles-module__studyViewLoadingIndicator__3qAeE",userSelections:"styles-module__userSelections__2SV9k",parentGroupLogic:"styles-module__parentGroupLogic__3_MlA",summaryClearAllBtn:"styles-module__summaryClearAllBtn__2ZLVo",filterClinicalAttrName:"styles-module__filterClinicalAttrName__1bFhQ",summary:"styles-module__summary___VCN0",description:"styles-module__description__2DLbO",actionButtons:"styles-module__actionButtons__3xgw0",studyFilterResult:"styles-module__studyFilterResult__2WKz_",titleMeta:"styles-module__titleMeta__2ZbFA",bookmarkButton:"styles-module__bookmarkButton__2q-0U"}},668:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r=n(4),o=n.n(r),i=n(577);function a(e,t){return e.filter(function(e){return t.isComparisonGroupSelected(e.uid)})}function u(e,t){var n=o.a.groupBy(e,function(e){return e.studyId}),r=t?o.a.groupBy(t,function(e){return e.studyId}):{};return o.a.uniq(Object.keys(n).concat(Object.keys(r))).map(function(e){var i={id:e,samples:o.a.uniq((n[e]||[]).map(function(e){return e.sampleId}))};return t&&(i.patients=o.a.uniq((r[e]||[]).map(function(e){return e.patientId}))),i})}function s(e,t,n,r){return{name:e,description:"",studies:u(t),origin:n,color:r}}function l(e,t){e=Object.assign({},e);var n=Object(i.w)([e]),r=o.a.uniqWith(n.concat(t),function(e,t){return e.studyId===t.studyId&&e.sampleId===t.sampleId});return e.studies=u(r),e}},669:function(e,t,n){"use strict";function r(e,t){var n=null;return function(r){null!==n&&(window.clearTimeout(n),n=null);var o=r.currentTarget.value;n=window.setTimeout(function(){e(o)},t||400)}}n.d(t,"a",function(){return r})},670:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return b});var r=n(4),o=n(2),i=n(8),a=n(102),u=n(595),s=n(573);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},h="_cBioPortalProteinImpactTypeFilter_",v="_cBioPortalMutationStatusFilter_";function g(e){return e.find(function(e){return e.id===h})}var b=function(e){function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=c(this,p(t).call(this,e))).dataFilters=[],r.selectionFilters=[],r.highlightFilters=[],r.dataFilters=o,r.selectionFilters=i,r.highlightFilters=a,r.groupFilters=u,r.dataSelector=function(e){return r.dataSelectFilter(e)},r.dataHighlighter=function(e){return r.dataHighlightFilter(e)},r.customFilterApplier=n,r.setFilter(),r}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,u["b"]),n=t,(o=[{key:"clearDataFilters",value:function(){this.dataFilters=[]}},{key:"clearHighlightFilters",value:function(){this.highlightFilters=[]}},{key:"clearSelectionFilters",value:function(){this.selectionFilters=[]}},{key:"setDataFilters",value:function(e){this.dataFilters=e}},{key:"setHighlightFilters",value:function(e){this.highlightFilters=e}},{key:"setSelectionFilters",value:function(e){this.selectionFilters=e}},{key:"setGroupFilters",value:function(e){this.groupFilters=e}},{key:"isPositionSelected",value:function(e){return!!this.selectedPositions[e+""]}},{key:"isPositionHighlighted",value:function(e){return!!this.highlightedPositions[e+""]}},{key:"setFilter",value:function(e){var n=this;f(p(t.prototype),"setFilter",this).call(this,function(t,r,o,i){return(!e||e(t,r,o,i))&&(0===n.dataFilters.length||n.dataMainFilter(t))}),this.lazyMobXTableFilter=e}},{key:"resetFilter",value:function(){var e=this;f(p(t.prototype),"resetFilter",this).call(this),this.dataFilter=function(t){return 0===e.dataFilters.length||e.dataMainFilter(t)},this.lazyMobXTableFilter=void 0}},{key:"resetFilters",value:function(){this.resetFilter(),this.resetDataFilters()}},{key:"resetDataFilters",value:function(){this.clearDataFilters(),this.clearHighlightFilters(),this.clearSelectionFilters()}},{key:"dataMainFilter",value:function(e){return Object(a.z)(e,this.dataFilters,this.applyFilter)}},{key:"dataSelectFilter",value:function(e){return Object(a.z)(e,this.selectionFilters,this.applyFilter)}},{key:"dataHighlightFilter",value:function(e){return Object(a.z)(e,this.highlightFilters,this.applyFilter)}},{key:"applyFilter",value:function(e,t){var n=r.flatten([t])[0];return this.customFilterApplier?this.customFilterApplier.applyFilter(e,n):e.type!==a.h.POSITION||e.values.includes(n.proteinPosStart)}},{key:"applyLazyMobXTableFilter",value:function(e){return!this.filterString||!this.lazyMobXTableFilter||this.lazyMobXTableFilter([r.flatten([e])[0]],this.filterString.toLowerCase(),this.filterString.toUpperCase())}},{key:"sortedFilteredGroupedData",get:function(){return Object(a.T)(this.groupFilters,this.sortedFilteredData,this.applyFilter)}},{key:"selectedPositions",get:function(){return r.keyBy(Object(a.L)(this.selectionFilters).map(function(e){return{position:e}}),"position")}},{key:"highlightedPositions",get:function(){return r.keyBy(Object(a.L)(this.highlightFilters).map(function(e){return{position:e}}),"position")}},{key:"tableDataGroupedByPatients",get:function(){return Object(s.k)(r.flatten(this.tableData))}},{key:"duplicateMutationCountInMultipleSamples",get:function(){return Object(s.c)(this.tableDataGroupedByPatients)}}])&&l(n.prototype,o),i&&l(n,i),t}();y([o.observable],b.prototype,"dataFilters",void 0),y([o.observable],b.prototype,"selectionFilters",void 0),y([o.observable],b.prototype,"highlightFilters",void 0),y([o.observable],b.prototype,"groupFilters",void 0),y([o.computed],b.prototype,"sortedFilteredGroupedData",null),y([o.computed],b.prototype,"selectedPositions",null),y([o.computed],b.prototype,"highlightedPositions",null),y([o.action],b.prototype,"clearDataFilters",null),y([o.action],b.prototype,"clearHighlightFilters",null),y([o.action],b.prototype,"clearSelectionFilters",null),y([o.action],b.prototype,"setDataFilters",null),y([o.action],b.prototype,"setHighlightFilters",null),y([o.action],b.prototype,"setSelectionFilters",null),y([o.action],b.prototype,"setGroupFilters",null),y([o.action],b.prototype,"setFilter",null),y([o.action],b.prototype,"resetFilter",null),y([o.action],b.prototype,"resetFilters",null),y([o.action],b.prototype,"resetDataFilters",null),y([o.computed],b.prototype,"tableDataGroupedByPatients",null),y([o.computed],b.prototype,"duplicateMutationCountInMultipleSamples",null),y([i.default],b.prototype,"dataMainFilter",null),y([i.default],b.prototype,"dataSelectFilter",null),y([i.default],b.prototype,"dataHighlightFilter",null),y([i.default],b.prototype,"applyFilter",null),y([i.default],b.prototype,"applyLazyMobXTableFilter",null)},671:function(e,t,n){"use strict";function r(e){var t={},n=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;t[o(s)]={entrezGeneId:s.entrezGeneId,proteinPosStart:s.proteinPosStart,proteinPosEnd:s.proteinPosEnd}}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t}function o(e){return"".concat(e.entrezGeneId,"_").concat(e.proteinPosStart,"_").concat(e.proteinPosEnd)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},678:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a});var r="*",o="+",i="-",a=" "},679:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(571),o=n(14),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function f(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){i.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:e.join(",")}).end(function(e,r){if(!e&&r.ok){var o=JSON.parse(r.text).result,i=o.uids,a={},u=!0,s=!1,l=void 0;try{for(var c,f=i[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;a[p]=o[p]}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}t(a)}else n(e)})});case 2:for(n=t.sent,r=[],o=0,a=Object.keys(n);o<a.length;o++)u=a[o],r.push({data:[n[u]],meta:u});return t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,s(t).call(this,function(e){return e+""},function(e,t){return t},f))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),t}()},680:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(183),o=n(572),i=n(573),a=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return a(this,void 0,void 0,regeneratorRuntime.mark(function r(){var a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(a=s(Object(o.d)(e,t))).length){r.next=3;break}return r.abrupt("return",[]);case 3:return u=Object(i.q)(a),r.next=6,n.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:u});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r)}))}function s(e){var t=n(715);return e.filter(function(e){return!e.gene.hugoGeneSymbol||t.includes(e.gene.hugoGeneSymbol)})}},681:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(4),i=n(56);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=l(t).call(this,e))||"object"!==a(o)&&"function"!=typeof o?c(r):o).handleSelect=n.handleSelect.bind(c(n)),n}var n,p,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(p=[{key:"render",value:function(){var e=this;return r.createElement(i.Dropdown,{className:this.props.className,id:"dropdown-custom-1"},r.createElement(i.Dropdown.Toggle,u({rootCloseEvent:"click"},{className:"btn-sm"}),this.props.buttonText),r.createElement(i.Dropdown.Menu,u({bsRole:"menu"},{style:{paddingLeft:10,overflow:"auto",maxHeight:300,whiteSpace:"nowrap"}}),r.createElement("ul",{className:"list-unstyled"},this.props.columnVisibility&&o.map(this.props.columnVisibility,function(t){return t.togglable?r.createElement("li",{key:t.id},r.createElement(i.Checkbox,{"data-id":t.id,onChange:e.handleSelect,checked:t.visible,inline:!0},t.name)):null}))))}},{key:"handleSelect",value:function(e){var t=e.currentTarget.getAttribute("data-id");this.props.onColumnToggled&&t&&this.props.onColumnToggled(t,this.props.columnVisibility)}}])&&s(n.prototype,p),d&&s(n,d),t}();p.defaultProps={className:"",buttonText:"Columns"}},683:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var r=n(0),o=n(4),i=n(720),a=n.n(i),u=n(7),s=n(2),l=n(9),c=n.n(l),f=n(3),p=n(127),d=n(17),m=n(15),y=n(574),h=n(8),v=n(65);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function P(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},M=n(613),k=function(e){function t(){var e;return g(this,t),(e=P(this,_(t).apply(this,arguments))).showDescription=!1,e}return O(t,r["Component"]),S(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{className:a.a.studySummary},r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("span",{className:a.a.studyName},r.createElement("i",{className:"fa fa-".concat(this.showDescription?"minus":"plus","-circle"),onClick:function(){return e.showDescription=!e.showDescription}}),this.props.name),r.createElement("a",{target:"_blank",href:Object(m.B)(this.props.studyId)},r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"}))),r.createElement("div",{className:a.a.studyDescription,style:{display:this.showDescription?"block":"none"}},r.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(this.props.description.replace(/\r?\n/g,"<br/>"))}}))))}}]),t}();w([s.observable],k.prototype,"showDescription",void 0),k=w([u.observer],k);var R=function(e){function t(e){var n;return g(this,t),(n=P(this,_(t).call(this,e))).saving=!1,n.sharing=!1,n.copied=!1,n.virtualStudy=Object(f.S)({invoke:function(){return A(I(n),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.saving&&!this.sharing){e.next=8;break}return t=o.groupBy(this.props.selectedSamples,function(e){return e.studyId}),n=o.reduce(t,function(e,t,n){return e.push({id:n,samples:t.map(function(e){return e.sampleId})}),e},[]),r=this.props.filter,r.sampleIdentifiersSet,i=C(r,["sampleIdentifiersSet"]),a={name:this.name||this.namePlaceHolder,description:this.description,studyViewFilter:i,origin:this.props.studyWithSamples.map(function(e){return e.studyId}),studies:n},e.next=7,p.a.saveVirtualStudy(a,this.saving);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}},e,this)}))}},void 0),n.name=e.name||"",n.description=e.description||Object(y.hb)(n.props.description,n.props.studyWithSamples,n.props.filter,n.attributeNamesSet,n.props.molecularProfileNameSet,n.props.caseListNameSet,n.props.user),n}return O(t,r["Component"]),S(t,[{key:"copyLinkRef",value:function(e){var t=this;e&&new M(e,{text:function(){return t.virtualStudyUrl}})}},{key:"onCopyClick",value:function(){this.copied=!0}},{key:"onTooltipVisibleChange",value:function(e){this.copied=!e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:a.a.virtualStudy},r.createElement(d.If,{condition:this.virtualStudy.isError},r.createElement(d.Then,null,r.createElement("div",{style:{textAlign:"center"}},r.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"orange"}}),r.createElement("span",{style:{marginLeft:"5px"}},"Failed to ".concat(this.saving?"save":"share"," virtual study, please try again later.")))),r.createElement(d.Else,null,r.createElement(d.If,{condition:this.virtualStudy.isPending||o.isUndefined(this.virtualStudy.result)},r.createElement(d.Then,null,r.createElement("div",null,r.createElement("div",{className:c()(a.a.virtualStudyForm,this.virtualStudy.isPending?a.a.disabled:void 0)},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control",value:this.name,placeholder:this.namePlaceHolder||"Virtual study name",onInput:function(t){return e.name=t.currentTarget.value}}),r.createElement("div",{className:"input-group-btn"},this.showSaveButton&&r.createElement("button",{className:c()("btn btn-default",a.a.saveButton),"data-event":Object(v.e)({category:"studyPage",action:"saveVirtualStudy"}),type:"button",disabled:this.buttonsDisabled,onClick:function(t){e.saving=!0}},this.saving?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Save"),r.createElement("button",{className:c()("btn btn-default",a.a.saveButton),type:"button",disabled:this.buttonsDisabled,"data-event":Object(v.e)({category:"studyPage",action:"shareVirtualStudy"}),onClick:function(t){e.sharing=!0}},this.sharing?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Share"))),r.createElement("textarea",{className:"form-control",rows:10,placeholder:"Virtual study description (Optional)",value:this.description,onChange:function(t){return e.description=t.currentTarget.value}})),r.createElement("span",{style:{display:"block",fontWeight:"bold"}},"This virtual study was derived from:"),r.createElement("div",{className:a.a.studiesSummaryInfo},this.props.studyWithSamples.map(function(e){return r.createElement(k,e)})))),r.createElement(d.Else,null,r.createElement("div",{className:c()(a.a.result)},r.createElement("div",{className:a.a.name},r.createElement("a",{target:"_blank",href:"".concat(this.virtualStudyUrl),style:{width:"220px"}},this.virtualStudyUrl)),r.createElement("div",{className:c()("btn-group btn-group-xs",a.a.controls)},r.createElement(f.c,{overlay:r.createElement(d.If,{condition:this.copied},r.createElement(d.Then,null,r.createElement("span",{className:"alert-success"},"Copied!")),r.createElement(d.Else,null,r.createElement("span",null,"Copy"))),placement:"top",onVisibleChange:this.onTooltipVisibleChange},r.createElement("span",{className:"btn btn-default",ref:this.copyLinkRef,onClick:this.onCopyClick},"Copy")),r.createElement("span",{className:"btn btn-default",onClick:function(t){return window.open(e.virtualStudyUrl,"_blank")}},"View"),this.saving&&r.createElement("span",{className:"btn btn-default",onClick:function(t){e.virtualStudy.result&&window.open(Object(m.b)("results",{cancer_study_id:e.virtualStudy.result.id}),"_blank")}},"Query"))))))))}},{key:"namePlaceHolder",get:function(){return"Selected sample".concat(this.props.selectedSamples.length>1?"s":""," (").concat(Object(y.G)(),")")}},{key:"buttonsDisabled",get:function(){return o.isEmpty(this.namePlaceHolder)&&o.isEmpty(this.name)}},{key:"virtualStudyUrl",get:function(){return Object(m.b)({pathname:"study",query:{id:this.virtualStudy.result?this.virtualStudy.result.id:""}})}},{key:"showSaveButton",get:function(){return!(o.isUndefined(this.props.user)||o.isEmpty(this.props.user)||o.isEqual(this.props.user.toLowerCase(),"anonymoususer"))}},{key:"attributeNamesSet",get:function(){return o.reduce(this.props.attributesMetaSet,function(e,t,n){return e[n]=t.displayName,e},{})}}]),t}();w([s.observable],R.prototype,"name",void 0),w([s.observable],R.prototype,"description",void 0),w([s.observable],R.prototype,"saving",void 0),w([s.observable],R.prototype,"sharing",void 0),w([s.observable],R.prototype,"copied",void 0),w([s.computed],R.prototype,"namePlaceHolder",null),w([s.computed],R.prototype,"buttonsDisabled",null),w([s.computed],R.prototype,"virtualStudyUrl",null),w([h.default],R.prototype,"copyLinkRef",null),w([h.default,s.action],R.prototype,"onCopyClick",null),w([h.default,s.action],R.prototype,"onTooltipVisibleChange",null),w([s.computed],R.prototype,"showSaveButton",null),w([s.computed],R.prototype,"attributeNamesSet",null),R=w([u.observer],R),t.b=R},684:function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n(0),o=n(4),i=n(575),a=n(7),u=n(2),s=n(56),l=n(580),c=n(582),f=n(599),p=n.n(f),d=n(641),m=n(8),y=n(578);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P,I=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.ALTERATION="ALTERATION",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.LOG_RATIO="Log Ratio",e.TENDENCY="Tendency",e.ENRICHED="Enriched in",e.MOST_ENRICHED="Most enriched in"}(P||(P={}));var _={2:"Amp","-2":"DeepDel"},O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,g(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(i.b,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[P.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(s.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:p.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:p.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[P.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:d.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[P.ALTERATION]={name:"Alteration",render:function(e){return r.createElement("span",{style:{color:2===e.value?y.a:y.d}},_[e.value])},tooltip:r.createElement("span",null,"Copy number alteration"),filter:function(e,t,n){return _[e.value].toUpperCase().includes(n)},sortBy:function(e){return _[e.value]},download:function(e){return _[e.value]}},t[P.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:e.qValue<.05?"bold":"normal"}},void 0!==e.pValue?Object(l.e)(e.pValue,3,.01,-10):"-")},tooltip:this.props.data.length>0?r.createElement("span",null,"Derived from"," ",o.values(this.props.data[0].groupsSet).length>2?"Chi-squared test":"one-sided Fisher Exact test"):void 0,sortBy:function(e){return Number(e.pValue)},download:function(e){return void 0!==e.pValue?Object(c.b)(e.pValue,3,.01):"-"}},t[P.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap",fontWeight:e.qValue<.05?"bold":"normal"}},void 0!==e.qValue?Object(l.e)(e.qValue,3,.01,-10):"-")},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return Number(e.qValue)},download:function(e){return void 0!==e.qValue?Object(c.b)(e.qValue,3,.01):"-"}},t}}])&&h(n.prototype,a),u&&h(n,u),t}();O.defaultProps={columns:[P.GENE,P.CYTOBAND,P.P_VALUE,P.Q_VALUE],initialSortColumn:"q-Value"},I([m.default],O.prototype,"onRowClick",null),I([u.computed],O.prototype,"columns",null),O=I([a.observer],O),t.b=O},685:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(4),i=n(575),a=n(7),u=n(2),s=n(56),l=n(580),c=n(582),f=n(599),p=n.n(f),d=n(641),m=n(8);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S,P=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.LOG_RATIO="Log Ratio",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.TENDENCY="Tendency",e.EXPRESSED="Higher expression in",e.MEAN_SUFFIX=" mean",e.STANDARD_DEVIATION_SUFFIX=" standard deviation"}(S||(S={}));var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,v(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol,e.entrezGeneId),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(i.b,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[S.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(s.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:p.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:p.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[S.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:d.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[S.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(c.b)(e.pValue,3,.01))},tooltip:r.createElement("span",null,"Derived from Student's t-test"),sortBy:function(e){return e.pValue},download:function(e){return Object(c.b)(e.pValue,3,.01)}},t[S.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(l.b)(e.qValue))},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(c.b)(e.qValue,3,.01)}},t}}])&&y(n.prototype,a),u&&y(n,u),t}();I.defaultProps={columns:[S.GENE,S.CYTOBAND,S.P_VALUE,S.Q_VALUE],initialSortColumn:"q-Value",mutexTendency:!0},P([m.default],I.prototype,"onRowClick",null),P([u.computed],I.prototype,"columns",null),I=P([a.observer],I),t.b=I},700:function(e,t,n){"use strict";var r=n(0),o=n(126),i=n.n(o),a=n(7),u=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,f(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:this.props.className},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard",style:{marginRight:5}}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",{style:{margin:"0px 10px"}},"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload,style:{marginRight:10}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),this.props.downloadLabel),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&l(n.prototype,o),i&&l(n,i),t}();d.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",showCopy:!0,showDownload:!0};var m=n(656),y=n(9),h=n.n(y),v=n(655),g=n.n(v),b=n(3),S=n(683);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,O(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:h()(g.a.downloadTabLinksGroup,this.props.className)},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard"}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",null,"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload},r.createElement("i",{className:"fa fa-cloud-download"}),this.props.downloadLabel),this.props.showDownload&&this.props.showQuery&&r.createElement("span",null,"|"),this.props.showQuery&&r.createElement("a",{onClick:this.props.handleQuery},r.createElement("i",{className:"fa fa-external-link-square"}),this.props.queryButtonLabel),this.props.showQuery&&this.props.showVirtualStudy&&r.createElement("span",null,"|"),this.props.showVirtualStudy&&r.createElement(b.c,{trigger:["click"],destroyTooltipOnHide:!0,overlay:this.props.virtualStudyParams&&r.createElement(S.b,{user:this.props.virtualStudyParams.user,name:this.props.virtualStudyParams.name,description:this.props.virtualStudyParams.description,studyWithSamples:this.props.virtualStudyParams.studyWithSamples,selectedSamples:this.props.virtualStudyParams.selectedSamples,filter:this.props.virtualStudyParams.filter,attributesMetaSet:this.props.virtualStudyParams.attributesMetaSet,molecularProfileNameSet:this.props.virtualStudyParams.molecularProfileNameSet,caseListNameSet:this.props.virtualStudyParams.caseListNameSet}),placement:"bottom"},r.createElement("a",null,r.createElement("i",{className:"fa fa-pie-chart"}),this.props.virtualStudyButtonLabel)),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&I(n.prototype,o),i&&I(n,i),t}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}E.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",queryButtonLabel:"Query",virtualStudyButtonLabel:"Virtual Study",showCopy:!0,showDownload:!0,showQuery:!1,showVirtualStudy:!1},n.d(t,"a",function(){return x});var R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},N=n(613),x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=A(t).call(this,e))||"object"!==k(o)&&"function"!=typeof o?C(r):o).showCopyMessage=!1,n.handleDownload=n.handleDownload.bind(C(n)),n.copyLinkRef=n.copyLinkRef.bind(C(n)),n.copyButtonRef=n.copyButtonRef.bind(C(n)),n.handleAfterCopy=n.handleAfterCopy.bind(C(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return"LINK"===this.props.controlsStyle?r.createElement(d,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage}):"QUERY"===this.props.controlsStyle?r.createElement(E,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage,showQuery:this.props.showQuery,handleQuery:this.props.handleQuery,showVirtualStudy:this.props.showVirtualStudy,virtualStudyParams:this.props.virtualStudyParams}):r.createElement(m.a,{className:this.props.className,handleDownload:this.handleDownload,copyButtonRef:this.copyButtonRef,handleCopy:this.handleAfterCopy,showCopyMessage:this.showCopyMessage,showCopy:this.props.showCopy,showDownload:this.props.showDownload})}},{key:"handleDownload",value:function(){this.props.downloadData&&i()(this.props.downloadData(),this.props.downloadFilename)}},{key:"copyLinkRef",value:function(e){this.handleCopyRef(e)}},{key:"copyButtonRef",value:function(e){this.handleCopyRef(e)}},{key:"handleCopyRef",value:function(e){if(e){var t=this.props,n=t.downloadData,r=t.containerId,o=r?{text:n,container:document.getElementById(r)}:{text:n};new N(e,o)}}},{key:"handleAfterCopy",value:function(){var e=this;this.showCopyMessage=!0,setTimeout(function(){e.showCopyMessage=!1},this.props.copyMessageDuration)}}])&&w(n.prototype,o),a&&w(n,a),t}();x.defaultProps={className:"",showCopy:!0,copyMessageDuration:3e3,showDownload:!0,showQuery:!0,showVirtualStudy:!0,copyLabel:"Copy",downloadLabel:"Download",downloadFilename:"data.tsv",controlsStyle:"LINK"},R([u.observable],x.prototype,"showCopyMessage",void 0),x=R([a.observer],x)},702:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(180),o=n(571);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return 0===e.length?Promise.reject("No pdb ids given"):r.a.fetchPdbHeaderPOST({pdbIds:e})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,function(e){return e},function(e){return e.pdbId},l))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o["a"]),t}()},703:function(e,t,n){"use strict";var r=n(0),o=(n(704),n(9)),i=n.n(o),a=n(7);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.headers,n=e.rows,o=e.className,a=e.noRowsText,u=n.length>0?n:[r.createElement("tr",{key:"0"},r.createElement("td",{style:{textAlign:"center"},colSpan:t.length},a||"There are no results."))];return r.createElement("table",{className:i()("simple-table table table-striped table-border-top",o)},r.createElement("thead",null,r.createElement("tr",null,t)),r.createElement("tbody",null,u))}}])&&u(n.prototype,o),a&&u(n,a),t}();d=p([a.observer],d),t.a=d},704:function(e,t,n){},705:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(601);function o(e,t,n,o,i){return t?t.reduce(function(t,a){var u=e[a];if(u){var s=u.find(function(e){return e.clinicalAttributeId===n}),l=u.find(function(e){return e.clinicalAttributeId===o});!s||!l||Object(r.o)(s.value)||Object(r.o)(l.value)||Number.isNaN(Number(l.value))||t.push({uniquePatientKey:a,patientId:u[0].patientId,studyId:u[0].studyId,status:i(s.value),months:parseFloat(l.value)})}return t},[]):[]}function i(e,t,n,o){return t?t.reduce(function(t,i){var a=e[i];if(a){var u=a.find(function(e){return e.clinicalAttributeId===n}),s=a.find(function(e){return e.clinicalAttributeId===o});!u||!s||Object(r.o)(u.value)||Object(r.o)(s.value)||Number.isNaN(Number(s.value))||t.push(u)}return t},[]):[]}},706:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",o=[];return t&&(Object.keys(e[0]).forEach(function(e){return o.push(e,n)}),o.pop(),o.push("\r\n")),e.forEach(function(e){r.each(e,function(e){o.push(e,n)}),o.pop(),o.push("\r\n")}),o.join("")}},707:function(e,t,n){"use strict";function r(e){return function(e){var t="";e&&(e.length>1?t="combined_study_":1===e.length&&(t="".concat(e[0],"_")));return t}(e?e.map(function(e){return e.studyId}):void 0)}n.d(t,"a",function(){return r})},708:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"n",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"c",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return P}),n.d(t,"l",function(){return _}),n.d(t,"m",function(){return O}),n.d(t,"a",function(){return E});var r=n(4),o=n(570),i=n(624),a=n(619),u=n(585);function s(e,t,n){var r=[],i=[],a=[],u=[],s=[],l=[],c=!0,f=!1,p=void 0;try{for(var d,m=e.data[Symbol.iterator]();!(c=(d=m.next()).done);c=!0){var y=d.value,h=y.molecularProfileAlterationType,v=y.alterationSubType.toUpperCase();switch(h){case o.a.COPY_NUMBER_ALTERATION:v.length>0&&(a.push({type:v,value:y.value}),l.push("CNA"));break;case o.a.MRNA_EXPRESSION:v.length>0&&(s.push({type:v,value:y.value}),l.push("EXP"));break;case o.a.PROTEIN_LEVEL:v.length>0&&(u.push({type:v,value:y.value}),l.push("PROT"));break;case o.a.MUTATION_EXTENDED:y.mutationType.toLowerCase().includes("fusion")?(i.push(y.proteinChange),l.push("FUSION")):(r.push(y.proteinChange),l.push("MUT"))}}}catch(e){f=!0,p=e}finally{try{c||null==m.return||m.return()}finally{if(f)throw p}}return{sequenced:!t||!t[e.trackLabel]||t[e.trackLabel].sequenced>0,geneSymbol:e.trackLabel,mutation:r,fusion:i,cna:a,mrnaExp:s,proteinLevel:u,isMutationNotProfiled:!1,isFusionNotProfiled:!1,isCnaNotProfiled:!1,isMrnaExpNotProfiled:!1,isProteinLevelNotProfiled:!1,alterationTypes:l}}function l(e,t,n){var r=!0,i=!0,a=!0,u=!0,s=!0;if(e.profiled_in){var l=!0,c=!1,f=void 0;try{for(var p,d=e.profiled_in[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;if(n)switch(n[m.molecularProfileId].molecularAlterationType){case o.a.COPY_NUMBER_ALTERATION:a=!1;break;case o.a.MRNA_EXPRESSION:u=!1;break;case o.a.PROTEIN_LEVEL:s=!1;break;case o.a.MUTATION_EXTENDED:r=!1;case o.a.FUSION:i=!1}}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}}return t.isMutationNotProfiled=r,t.isFusionNotProfiled=i,t.isCnaNotProfiled=a,t.isMrnaExpNotProfiled=u,t.isProteinLevelNotProfiled=s,t}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!r.isEmpty(t)?e.map(function(e){var n=Object(i.a)(!0,e,t,{});return{gene:e.oql.gene,oqlLine:e.oql.oql_line,altered:n.altered,sequenced:n.sequenced,percentAltered:n.percent}}):[]}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return e.map(function(e){return e.join(t)}).join(n)}function p(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.MUTATION_EXTENDED||e.molecularProfileAlterationType===o.a.FUSION}):{}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n,T):[]}function m(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.MRNA_EXPRESSION}):{}}function y(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.PROTEIN_LEVEL}):{}}function h(e){return e?b(e,function(e){return e.molecularProfileAlterationType===o.a.COPY_NUMBER_ALTERATION}):{}}function v(e,t){return t?b(t,function(t){return e.includes(t.molecularProfileId)}):{}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n):[]}function b(e,t){var n={};return r.values(e.samples).forEach(function(e){e.forEach(function(e){var r="".concat(e.gene.hugoGeneSymbol,"_").concat(e.uniqueSampleKey);n[r]=n[r]||[],t&&!t(e)||n[r].push(e)})}),n}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=n.map(function(e){return e.hugoGeneSymbol}),u=r.keyBy(t,"uniqueSampleKey"),s=t.map(function(e){return e.uniqueSampleKey}),l=function(e,t,n,r,o){var i={};return r.forEach(function(r){var a=n[r],u=i[r]||{studyId:a.studyId,sampleId:a.sampleId,patientId:a.patientId,alterationData:{}};i[r]=u,t.forEach(function(t){u.alterationData[t]=u.alterationData[t]||[];var n="".concat(t,"_").concat(r);e[n]&&e[n].forEach(function(e){var n=o?o(e):String(e.value);u.alterationData[t].push(n)})})}),i}(e,a,u,s,o),c=[];return c.push(["STUDY_ID","SAMPLE_ID"].concat(a)),s.forEach(function(e){var t=l[e],n=[];n.push(t.studyId),n.push(t.sampleId),a.forEach(function(e){var r=i?i(t.alterationData[e]):t.alterationData[e].join(" ")||"NA";n.push(r)}),c.push(n)}),c}function P(e,t,n,o,i){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],f=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,d={};if(n&&i){var m=r.keyBy(c,"uniqueSampleKey");n.forEach(function(e){Object(a.d)(e.cases.samples,e.oql.gene,c,i,t).forEach(function(t){var n=t.study_id+":"+t.uid;I(d,t,m);var o=s(t,f);void 0!==d[n].oqlDataByGene[e.oql.gene]?d[n].oqlDataByGene[e.oql.gene]=r.merge(o,d[n].oqlDataByGene[e.oql.gene]):d[n].oqlDataByGene[e.oql.gene]=o,l(t,d[n].oqlDataByGene[e.oql.gene],p)})})}if(o&&i){var y=r.keyBy(c,"uniqueSampleKey");o.forEach(function(n,r){var o,m;void 0===n.mergedTrackOqlList?(o=n.oql.gene,m=Object(u.r)(r,e,n.oql)):(o=n.oql.list.map(function(e){return e.gene}),m=Object(u.o)(n.oql)),Object(a.d)(n.cases.samples,o,c,i,t).forEach(function(e){var t=e.study_id+":"+e.uid;I(d,e,y);var n=s(e,f);d[t].oqlData[m]=n,l(e,d[t].oqlData[m],p)})})}return r.values(d)}function I(e,t,n){var r=t.study_id,o=t.sample||(n[t.uid]?n[t.uid].sampleId:""),i=r+":"+t.uid;e[i]=e[i]||{studyId:r,sampleId:o,patientId:n[t.uid]?n[t.uid].patientId:"",altered:!1,oqlData:{},oqlDataByGene:{}},e[i].altered=e[i].altered||t.data.length>0}function _(e,t){var n=!0,o=!1,i=void 0;try{for(var a,u=r.values(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,l=!0,c=!1,f=void 0;try{for(var p,d=s[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value,y=t?t(m):m.value;if(y&&String(y).length>0)return!0}}catch(e){c=!0,f=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw f}}}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return!1}function O(e){return _(e,T)}function T(e){return e.proteinChange}function E(e){switch(e){case"MUTATION_EXTENDED":return 1;case"COPY_NUMBER_ALTERATION":return 2;case"GENESET_SCORE":return 3;case"MRNA_EXPRESSION":return 4;case"METHYLATION":return 5;case"METHYLATION_BINARY":return 6;case"PROTEIN_LEVEL":return 7;default:return Number.MAX_VALUE}}},712:function(e,t,n){"use strict";var r=n(4),o=n(2),i=n(66),a=n(102),u=n(22),s=n(180),l=n(183),c=n(182),f=n(3),p=n(184);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function y(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.a;return m(this,void 0,void 0,regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(e.length>0)){i.next=6;break}return i.next=3,o.postResidueMappingByPDBUsingPOST({idType:"uniprot",id:t,pdbId:n,chainId:r,positionList:e.map(function(e){return"".concat(e)})});case 3:return i.abrupt("return",i.sent);case 6:return i.abrupt("return",[]);case 7:case"end":return i.stop()}},i)}))}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queries={}}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=this,n=this.generateQueryKey(e);return this.queries[n]||(this.queries[n]=Object(f.S)({invoke:function(){return m(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=[],t.next=4,y(e.uniprotPositions,e.uniprotId,e.pdbId,e.chainId);case 4:return(o=t.sent).length>0&&(o.forEach(function(e){r=r.concat(e.residueMapping)}),n=r.map(function(e){return{status:"complete",data:e}})),t.abrupt("return",n);case 7:case"end":return t.stop()}},t)}))},onError:function(e){}},this.defaultData(e))),this.queries[n]}},{key:"generateQueryKey",value:function(e){return"".concat(e.uniprotId,"_").concat(e.pdbId,"_").concat(e.chainId,"_").concat(e.uniprotPositions.join(","))}},{key:"defaultData",value:function(e){return[null]}}])&&d(t.prototype,n),r&&d(t,r),e}(),v=n(572),g=n(625),b=n(575),S=n(636),P=n(595);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},A=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,O(t).call(this,e))).selectedUid="",n.dataSelector=function(e){return n.getChainUid(e)===n.selectedUid},n.dataHighlighter=n.dataSelector,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,P["b"]),n=t,(r=[{key:"getChainUid",value:function(e){return e.pdbId+e.chain}},{key:"selectUid",value:function(e){this.selectedUid=e||""}},{key:"selectFirstChain",value:function(){this.allData.length>0?this.selectedUid=this.getChainUid(this.allData[0]):this.selectedUid=""}},{key:"getPdbChain",value:function(e){var t=this;return this.allData.find(function(n){return t.getChainUid(n)===e})}},{key:"selectedChain",get:function(){return this.getPdbChain(this.selectedUid)}},{key:"tableData",get:function(){return this.sortedFilteredData}}])&&I(n.prototype,r),o&&I(n,o),t}();w([o.observable],A.prototype,"selectedUid",void 0),w([o.action],A.prototype,"selectUid",null),w([o.computed],A.prototype,"selectedChain",null),w([o.action],A.prototype,"selectFirstChain",null),w([o.computed],A.prototype,"tableData",null);var C=n(670),M=n(573),k=n(8),R=n(593),N=n(15);function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return K});var q=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":F(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},B=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})},K=function(e){function t(e,n,r,o,u,s,l,c,p,d){var m,y,h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y=this,h=j(t).call(this,r,{isoformOverrideSource:e.isoformOverrideSource,filterMutationsBySelectedTranscript:n.filterMutationsBySelectedTranscript,enableCivic:e.show_civic,enableOncoKb:e.show_oncokb},o),(m=!h||"object"!==F(h)&&"function"!=typeof h?G(y):h).mutationMapperConfig=e,m.mutationMapperStoreConfig=n,m.gene=r,m.getMutations=o,m.indexedHotspotData=u,m.indexedVariantAnnotations=s,m.oncoKbCancerGenes=l,m.uniqueSampleKeyToTumorType=c,m.genomenexusClient=p,m.genomenexusInternalClient=d,m.oncoKbInfo=Object(f.S)({invoke:function(){return m.dataFetcher.fetchOncoKbInfo()},onError:function(){return a.s}},a.s),m.mutationData=Object(f.S)({await:function(){return m.mutationMapperStoreConfig.filterMutationsBySelectedTranscript?[m.canonicalTranscript,m.indexedVariantAnnotations]:[m.canonicalTranscript]},invoke:function(){return B(G(m),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutations);case 1:case"end":return e.stop()}},e,this)}))}},[]),m.alignmentData=Object(f.S)({await:function(){return[m.mutationData]},invoke:function(){return B(G(m),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeTranscript){e.next=4;break}return e.abrupt("return",Object(v.A)(this.activeTranscript));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},[]);var g=m.getMutations;return m.getMutations=function(){return Object(R.c)(g())},Object(i.labelMobxPromises)(G(m)),m}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,a["k"]),n=t,(o=[{key:"countUniqueMutations",value:function(e){return Object(M.d)(e)}},{key:"getDefaultTumorType",value:function(e){return this.uniqueSampleKeyToTumorType[e.uniqueSampleKey]}},{key:"getDefaultEntrezGeneId",value:function(e){return e.gene.entrezGeneId}},{key:"dataFetcher",get:function(){return new a.j({myGeneUrlTemplate:this.mutationMapperConfig.mygene_info_url||void 0,uniprotIdUrlTemplate:this.mutationMapperConfig.uniprot_id_url||void 0,genomeNexusUrl:this.mutationMapperConfig.genomenexus_url||void 0,oncoKbUrl:Object(N.u)()||void 0},this.genomenexusClient||s.a,this.genomenexusInternalClient||l.a,c.a)}},{key:"usingPublicOncoKbInstance",get:function(){return this.oncoKbInfo.result?this.oncoKbInfo.result.publicInstance:a.w}},{key:"unfilteredMutationsByPosition",get:function(){return Object(M.l)(this.dataStore.sortedData)}},{key:"oncoKbDataByProteinPosStart",get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:Object(a.V)(this.unfilteredMutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,f.u)}},{key:"mutationsGroupedByProteinImpactType",get:function(){var e=this,t=this.dataStore.dataFilters.filter(function(e){return e.type!==a.h.PROTEIN_IMPACT_TYPE}),n=Object(a.y)(this.dataStore.allData,t,this.dataStore.applyFilter);return n=n.filter(function(t){return e.dataStore.applyLazyMobXTableFilter(t)}),Object(a.U)(n)}},{key:"processedMutationData",get:function(){return(this.mutationData.result||[]).map(function(e){return[e]})}},{key:"mergedAlignmentData",get:function(){return Object(g.e)(this.indexedAlignmentData)}},{key:"indexedAlignmentData",get:function(){return Object(v.Y)(this.alignmentData)}},{key:"sortedMergedAlignmentData",get:function(){return Object(b.c)(this.mergedAlignmentData,function(e){return[e.identity,e.alignment.length,e.identityPerc].concat(x(Object(g.b)(e.pdbId,!0)),[-1*e.chain.charCodeAt(0)])},!1)}},{key:"transcriptsByTranscriptId",get:function(){return r.keyBy(this.allTranscripts.result,function(e){return e.transcriptId})}},{key:"mutationsByTranscriptId",get:function(){var e=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?r.fromPairs(this.transcriptsWithAnnotations.result.map(function(t){return[t,Object(u.h)(e.getMutations(),t,e.indexedVariantAnnotations.result)]})):{}}},{key:"numberOfMutationsTotal",get:function(){return this.getMutations().length}},{key:"dataStore",get:function(){return new C.c(this.processedMutationData,this.filterApplier,this.config.dataFilters,this.config.selectionFilters,this.config.highlightFilters,this.config.groupFilters)}},{key:"downloadDataFetcher",get:function(){return new S.a(this.mutationData)}},{key:"pdbChainDataStore",get:function(){return new A(this.sortedMergedAlignmentData.filter(function(e){return!g.a.includes(e.pdbId.toLowerCase())}))}},{key:"residueMappingCache",get:function(){return new h}}])&&D(n.prototype,o),p&&D(n,p),t}();q([o.computed],K.prototype,"dataFetcher",null),q([o.computed],K.prototype,"usingPublicOncoKbInstance",null),q([k.default],K.prototype,"getDefaultTumorType",null),q([k.default],K.prototype,"getDefaultEntrezGeneId",null),q([o.computed],K.prototype,"unfilteredMutationsByPosition",null),q([o.computed],K.prototype,"oncoKbDataByProteinPosStart",null),q([o.computed],K.prototype,"mutationsGroupedByProteinImpactType",null),q([o.computed],K.prototype,"processedMutationData",null),q([o.computed],K.prototype,"mergedAlignmentData",null),q([o.computed],K.prototype,"indexedAlignmentData",null),q([o.computed],K.prototype,"sortedMergedAlignmentData",null),q([o.computed],K.prototype,"transcriptsByTranscriptId",null),q([o.computed],K.prototype,"mutationsByTranscriptId",null),q([o.computed],K.prototype,"numberOfMutationsTotal",null),q([i.cached],K.prototype,"dataStore",null),q([i.cached],K.prototype,"downloadDataFetcher",null),q([i.cached],K.prototype,"pdbChainDataStore",null),q([i.cached],K.prototype,"residueMappingCache",null)},713:function(e,t,n){"use strict";var r=n(178),o=n(571),i=n(4),a=n.n(i);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}s((r=r.apply(e,t||[])).next())})};function p(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.entityId)}function d(e,t,n,o){return f(this,void 0,void 0,regeneratorRuntime.mark(function i(){var u,s,l;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=a.a.groupBy(e,"studyId"),s=Object.keys(u),i.next=4,Promise.all(s.map(function(e){return r.a.fetchClinicalDataUsingPOST({clinicalDataType:n,clinicalDataMultiStudyFilter:{attributeIds:t,identifiers:u[e]},projection:o})}));case 4:return l=i.sent,i.abrupt("return",l.map(function(e,t){return{data:e,meta:s[t]}}));case 6:case"end":return i.stop()}},i)}))}var m=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).call(this,p,function(e){return"".concat(e.studyId,"~").concat(e.sampleId)},d,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o["a"]),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return b});var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,v(t).call(this,["CANCER_TYPE_DETAILED"],"SAMPLE","SUMMARY"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,m),t}()},715:function(e){e.exports=["ABCB1","ABCB6","ACACA","ACAT1","ACE","ACLY","ACOT4","ACP1","ACTA2","ACVR1","ACVR1B","ADAM19","ADCY5","ADGRB2","ADSSL1","AHSA1","AIFM3","AKR7L","AKT1","AKT2","AKT3","ALK","ALOX15B","AMT","AMY1A","AMY1C","AMY2A","ANK1","ANKLE2","ANKRD11","ANKRD30B","ANOS1","ANXA6","AOC1","AP5B1","APCS","APLP1","APOC1","AR","ARAF","ARHGAP32","ARID1A","ARID1B","ARID2","ARNTL","ASMT","ASXL2","ATM","ATP1A2","ATP1A3","ATP4A","ATP7A","ATRX","ATXN1","AXIN1","AXL","B2M","BACH2","BAP1","BAX","BCL10","BCL2","BCL2L11","BCL6","BCOR","BRAF","BRCA2","BRD4","BTNL3","C10ORF71","C2","C2ORF16","C3","CABP1","CACNA1B","CACNA1E","CALM1","CAMK1","CAMK2D","CAND1","CAPN1","CAPNS1","CARD11","CARM1","CASP1","CASP6","CASP7","CASP8","CBFB","CBL","CCL7","CCND1","CCND3","CCT3","CD300C","CD79B","CD81","CDH1","CDK12","CDK2","CDK4","CDK6","CDK8","CDK9","CDKN1A","CDKN1B","CDKN2A","CDKN2C","CEBPA","CENPA","CENPE","CEP164","CFH","CFHR3","CFL1","CHEK2","CHN2","CIAO1","CIC","CLASP1","CLTC","CLTCL1","CNTN2","COL22A1","COL3A1","COLEC11","COPE","CPB2","CR1","CR1L","CRABP2","CREBBP","CRLF2","CRY1","CSF1","CSF3","CSNK1G1","CST6","CTCF","CTCFL","CTLA4","CTNNB1","CTPS1","CTSD","CTSL","CUL1","CUL3","CUL5","CYP2A6","CYSLTR2","DAXX","DCC","DCLRE1B","DCN","DDC","DDX19A","DDX39B","DDX3X","DICER1","DIS3","DLC1","DLG4","DLX5","DNAJB1","DNAJC6","DNM2","DNMT1","DNMT3A","DNMT3B","DOCK6","DOCK8","DOT1L","DPP4","DPP6","DPYSL3","DUSP8","DUSP9","E2F5","ECHDC3","ECT2L","EEF1A1","EEF1G","EGFR","EGR3","EHMT1","EIF1AX","EIF2AK2","EIF4A2","ENPP6","EP300","EPAS1","EPHA1","EPHA7","EPHB1","EPHB2","EPS15L1","ERBB2","ERBB2IP","ERBB3","ERBB4","ERCC2","ERCC3","ERG","ERRFI1","ESR1","ESYT2","ETS2","ETV6","EZH2","F11R","F7","FAM58A","FAT1","FBXO44","FBXW7","FDX1","FGF1","FGF9","FGFR1","FGFR2","FGFR3","FGFR4","FGG","FH","FHL5","FKBP14","FKBP5","FLNA","FLNB","FLT1","FLT3","FMNL3","FOXA1","FOXL2","FOXO1","FOXP1","FUBP1","GABPA","GAS2L3","GATA1","GATA2","GATA3","GCSH","GGA2","GLI1","GLRX2","GNA11","GNAI3","GNAQ","GNAS","GOLGA2","GPAM","GPS2","GPT2","GRB2","GRIA2","GRM1","GSG2","GSK3B","GTF2I","GUCA1A","GUCY1B3","H2AFJ","H3F3A","HBA2","HDAC1","HDAC3","HDAC6","HDAC8","HES1","HGF","HGFAC","HIC2","HIST1H1C","HIST1H2AE","HIST1H2AH","HIST1H2BB","HIST1H2BC","HIST1H2BD","HIST1H2BE","HIST1H2BH","HIST1H2BI","HIST1H2BL","HIST1H3B","HIST1H3C","HIST1H3E","HIST1H3G","HIST1H3H","HIST1H4E","HIST1H4J","HIST1H4K","HIST1H4L","HIST2H3D","HIST4H4","HLA-A","HLA-B","HLA-DQA1","HNF1A","HNRNPH2","HRAS","HSD17B10","IDH1","IDH2","IFIT1","IFNLR1","IGF1R","IGFBP3","IKZF1","IL13RA2","IL18R1","IL21R","IL6ST","IL7R","ING2","INHBA","INPP4A","INPPL1","IQUB","IRF3","IRF4","IRS2","ISPD","ITFG1","ITGA1","ITGA4","ITGAM","ITGB1","ITGB2","ITPR2","JAK1","JPH2","JUN","KCNA3","KCNH5","KDM4B","KDM5C","KDM6A","KDR","KEAP1","KIAA0586","KIF1A","KIFC1","KIT","KLF4","KLHL3","KMT2C","KMT2D","KNSTRN","KPNB1","KRAS","KRT5","LATS2","LCAT","LCMT1","LDB1","LDB2","LDLRAP1","LGALS1","LGALS9","LHX6","LILRB2","LRRC3B","LRRC55","LYN","MAGIX","MAP1B","MAP2K1","MAP2K2","MAP2K4","MAP2K5","MAP3K1","MAP3K13","MAPK1","MASP1","MASP2","MATN3","MAX","MCF2","MDC1","MDFIC","MDGA2","MECOM","MED12","MEF2B","MET","MGAT1","MKI67","MKX","MLST8","MMEL1","MNDA","MOB1B","MRPL11","MRPL3","MST1","MTOR","MYC","MYCN","MYD88","MYO10","MYOD1","MYOM1","MZF1","NCF1","NCKAP1L","NCOA3","NCS1","NDST3","NEBL","NEDD8","NEIL1","NF1","NFE2L2","NGFR","NME3","NMT1","NONO","NOTCH1","NOTCH2","NRAS","NSD1","NUF2","NUP93","OXSM","OXSR1","PACSIN1","PACSIN3","PAK7","PARD3","PARP1","PAX5","PAXIP1","PBRM1","PCBD2","PCBP1","PCDH15","PCDHA4","PCDHB13","PCDHB8","PDE11A","PDGFRA","PDPK1","PDXP","PECR","PGR","PIK3CA","PIK3CB","PIK3CD","PIK3R1","PIK3R2","PIM1","PIWIL2","PLEK","PLEKHA6","PLEKHH1","PLEKHH2","PLG","PLK2","PLXNB1","PMS2","POLE","POLH","POLI","POLM","POR","POTEE","POTEF","PPARG","PPFIA3","PPIP5K2","PPP2R1A","PPP3CA","PPP4R2","PPP6C","PRDM14","PRELID1","PREX2","PRKCB","PRKCI","PRLR","PROCR","PRPF31","PRUNE2","PSAP","PSMB3","PTBP2","PTEN","PTK2B","PTP4A1","PTPN1","PTPN11","PTPRD","PTPRF","PTPRR","PTPRS","PTPRT","PUM1","PYGM","RAB30","RAB33B","RABGAP1L","RAC1","RAD50","RAD51C","RAD52","RAF1","RALYL","RANBP6","RARA","RB1","RBBP7","RBM10","RBM46","RBMS3","RBP2","RBP4","RBP7","RECQL","RECQL4","RELA","RET","RGAG4","RGPD3","RGS6","RHCG","RHEB","RHOA","RICTOR","RIT1","RNF111","RNF41","RNF43","RNF7","RORC","RPRD1B","RPS6KA3","RPS6KA4","RPS6KB1","RPTOR","RQCD1","RRAS2","RUNX1","RXRA","RYR2","S100A14","S100A2","S100A3","SALL3","SDC3","SDHA","SDHAF2","SDR39U1","SELE","SERPINB3","SESN2","SETBP1","SETD2","SF3B1","SH3GL1","SH3GLB2","SHROOM4","SIRT3","SLC12A2","SLC25A11","SLC25A4","SLC25A5","SLFNL1","SLIT2","SMAD2","SMAD3","SMAD4","SMARCA4","SMARCB1","SMARCC2","SMARCD1","SMC1A","SMG7","SMO","SMURF2","SNAP29","SNRNP200","SNRPD3","SNRPN","SNX17","SOCS1","SOCS5","SORL1","SOS1","SOX17","SOX6","SOX9","SPEG","SPON2","SPOP","SPRED1","SRM","SRP9","SRSF2","SSBP1","STARD5","STAT3","STIM1","STK11","STK19","STK24","SUMO3","SUPT5H","SYK","SYT14","SYT7","TAF4B","TBK1","TBL1XR1","TCEB1","TCEB2","TCF21","TCF3","TCF7L2","TDRD7","TEAD2","TET1","TF","TGFBI","TGFBR1","TGFBR2","TH","THADA","THBS2","THRA","THRB","TICAM1","TIGD1","TMPRSS11E","TNFRSF14","TNFSF18","TNR","TOPBP1","TOX","TP53","TP53I3","TP63","TRAF2","TRAF7","TRAP1","TRIM24","TRIM9","TRPV1","TSC1","TSG101","TTC14","TTK","TUBA3D","TUBB2A","TUBB2B","TUBB4A","TXNL4A","U2AF1","UBE2E2","UGP2","UNC5C","UNC79","UQCRFS1","USH1C","USP5","UVSSA","VCL","VHL","VIM","WDR75","WHSC1","WRN","XPO1","ZEB2","ZIC1","ZNF320","ZNF443","ZNF484","ZNF548","ZNF572","ZNF658","ZNF664","ZNF777","ZNF98","ZSCAN16"]},716:function(e,t,n){},717:function(e,t,n){e.exports={portalWidth:"paginationControls-module__portalWidth__2gIaM",framedImage:"paginationControls-module__framedImage__2QU5w","default-cursor":"paginationControls-module__default-cursor__3qNcu","form-select":"paginationControls-module__form-select__3-BhF","page-number-input":"paginationControls-module__page-number-input__2DGhO",paginationControls:"paginationControls-module__paginationControls__MF0uG","margin-right-button":"paginationControls-module__margin-right-button__3tzhL","margin-left-button":"paginationControls-module__margin-left-button__1rLFR","hidden-button":"paginationControls-module__hidden-button__2mt4l"}},718:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(56),i=n(629),a=n(126),u=n.n(a),s=n(2),l=n(7),c=n(655),f=n.n(c),p=n(656);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},b=n(613),S=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=m(t).call(this,e))||"object"!==v(o)&&"function"!=typeof o?y(r):o).downloadingData=!1,n.copyingData=!1,n.showErrorMessage=!1,n.showTooltipCopyMessage=!1,n._copyButton=null,n._modalCopyButton=null,n._modalCopyButtonContainer=null,n._copyText=null,n.handleDownload=n.handleDownload.bind(y(n)),n.handleCopy=n.handleCopy.bind(y(n)),n.handleModalClose=n.handleModalClose.bind(y(n)),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.showCopy&&this.bindCopyButton(this._copyButton)}},{key:"bindCopyButton",value:function(e,t){e&&new b(e,{text:this.getText.bind(this),container:t})}},{key:"render",value:function(){var e=this;return r.createElement("span",null,r.createElement(p.a,{className:this.props.className,showCopy:this.props.showCopy,showCopyMessage:this.showTooltipCopyMessage,showDownload:this.props.showDownload,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,handleDownload:this.handleDownload,handleCopy:this.handleCopy,copyButtonRef:function(t){e._copyButton=t}}),this.downloadIndicatorModal(),this.copyIndicatorModal(),this.downloadErrorModal())}},{key:"downloadIndicatorModal",value:function(){return r.createElement(o.Modal,{show:this.downloadingData,onHide:function(){},bsSize:"sm",className:"".concat(f.a["centered-modal-dialog"])},r.createElement(o.Modal.Body,null,r.createElement(i.ThreeBounce,{style:{display:"inline-block",marginRight:10}}),r.createElement("span",null,"Downloading Table Data...")))}},{key:"copyIndicatorModal",value:function(){var e=this;return r.createElement(o.Modal,{show:this.copyingData,onHide:function(){},onEntered:function(){e.bindCopyButton(e._modalCopyButton,e._modalCopyButtonContainer)},bsSize:"sm",className:"".concat(f.a["centered-modal-dialog"])},r.createElement(o.Modal.Header,null,this.showErrorMessage?"Copy Error!":"Copy Ready!"),r.createElement(o.Modal.Body,null,this.showErrorMessage&&"An error occurred while copying the data. Data may be incomplete.","Please click on Copy to copy the data to clipboard."),r.createElement(o.Modal.Footer,null,r.createElement("span",{ref:function(t){e._modalCopyButtonContainer=t}},r.createElement("button",{ref:function(t){e._modalCopyButton=t},onClick:this.handleModalClose,className:"btn btn-primary","data-clipboard-text":"NA",id:"modalCopyButton"},"Copy"))))}},{key:"downloadErrorModal",value:function(){return r.createElement(o.Modal,{show:!this.copyingData&&this.showErrorMessage,onHide:this.handleModalClose,bsSize:"sm",className:"".concat(f.a["centered-modal-dialog"])},r.createElement(o.Modal.Header,null,"Download Error!"),r.createElement(o.Modal.Body,null,"An error occurred while downloading the data. Downloaded file may contain incomplete data."),r.createElement(o.Modal.Footer,null,r.createElement(o.Button,{onClick:this.handleModalClose,className:"btn btn-primary"},"Close")))}},{key:"getText",value:function(){return this._copyText||""}},{key:"handleCopy",value:function(){this.initCopyProcess()}},{key:"initCopyProcess",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText!==t?(e._copyText=t,e.copyingData=!0):e.showSimpleCopyMessage()})}},{key:"handleDownload",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText=t,e.download(t)})}},{key:"initDownloadProcess",value:function(e){var t=this;this.props.downloadData&&(this.downloadingData=!0,this.props.downloadData().then(function(n){"complete"===n.status?t.downloadingData=!1:t.triggerDownloadError(),e(n.text)}).catch(function(){t.triggerDownloadError()}))}},{key:"download",value:function(e){u()(e,this.props.downloadFilename)}},{key:"handleModalClose",value:function(){this.copyingData=!1,this.showErrorMessage=!1}},{key:"triggerDownloadError",value:function(){this.downloadingData=!1,this.showErrorMessage=!0}},{key:"showSimpleCopyMessage",value:function(){var e=this;this.showTooltipCopyMessage=!0,setTimeout(function(){e.showTooltipCopyMessage=!1},this.props.copyMessageDuration)}}])&&d(n.prototype,a),s&&d(n,s),t}();S.defaultProps={className:"",copyMessageDuration:3e3,showCopy:!0,showDownload:!0,downloadFilename:"data.tsv"},g([s.observable],S.prototype,"downloadingData",void 0),g([s.observable],S.prototype,"copyingData",void 0),g([s.observable],S.prototype,"showErrorMessage",void 0),g([s.observable],S.prototype,"showTooltipCopyMessage",void 0),g([s.action],S.prototype,"handleModalClose",null),g([s.action],S.prototype,"triggerDownloadError",null),g([s.action],S.prototype,"showSimpleCopyMessage",null),S=g([l.observer],S)},720:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__QOSi2",framedImage:"styles-module__framedImage__1dzkM",virtualStudy:"styles-module__virtualStudy__U7f0-",virtualStudyForm:"styles-module__virtualStudyForm__24Vwu",saveButton:"styles-module__saveButton__272LI",studiesSummaryInfo:"styles-module__studiesSummaryInfo__3ewzF",result:"styles-module__result__1BQ9F",name:"styles-module__name__3bVye",controls:"styles-module__controls__31KcC",disabled:"styles-module__disabled__M8SEC",studySummary:"styles-module__studySummary__3Tls0",studyName:"styles-module__studyName__3U1tn",studyDescription:"styles-module__studyDescription__1tQcY"}},721:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(603);function o(e,t){return t===r.b?0:Math.floor(Math.max(e-1,0)/t)}},722:function(e,t,n){e.exports=n(16)(41)},723:function(e){e.exports=[{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.341339866,confidence:.863,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:972538e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.001913222,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.003620254,confidence:.0335,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.001418568,confidence:.005,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.006080752,confidence:.059,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.00451735,confidence:.043,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.001704592,confidence:.017,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:951258e-9,confidence:.0055,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001870896,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.005068029,confidence:.0485,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:982892e-9,confidence:.003,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002622727,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.084106761,confidence:.702,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:826186e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.001429341,confidence:.0085,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:823673e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002915391,confidence:.028,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.007484683,confidence:.0715,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:572061e-9,confidence:0,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.00198798,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001096651,confidence:.008,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.004016701,confidence:.0425,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.001632676,confidence:.01,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:997686e-9,confidence:.0045,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.00308292,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.503912181,confidence:.9955,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.003044077,confidence:.027,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.007111733,confidence:.075,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.001896354,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.151243448,confidence:.27,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.003879945,confidence:.0325,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.005419738,confidence:.047,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.008507836,confidence:.055,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00363819,confidence:.033,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.010844139,confidence:.061,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.034512153,confidence:.1245,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.009953293,confidence:.0745,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.003466513,confidence:.025,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.007610197,confidence:.0585,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.012576643,confidence:.0695,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.003347933,confidence:.0305,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.018327265,confidence:.0885,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.008894914,confidence:.0565,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:.003358317,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008302825,confidence:.062,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.006159875,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.006076796,confidence:.0505,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.014221547,confidence:.088,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.004388324,confidence:.034,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003052651,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.00959173,confidence:.0665,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.006974826,confidence:.0525,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.004176428,confidence:.0355,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00535034,confidence:.0445,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.009369821,confidence:.0615,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.617882475,confidence:.812,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.0036165,confidence:.031,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.008800631,confidence:.059,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.006454707,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.063649069,confidence:.2365,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001628188,confidence:.0125,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.046902463,confidence:.4155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.006882923,confidence:.054,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00361478,confidence:.021,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.014863187,confidence:.083,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.010484074,confidence:.0695,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.003026287,confidence:.0245,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.002453355,confidence:.023,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.002392524,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.014476329,confidence:.1205,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.007135648,confidence:.0805,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002942895,confidence:.0235,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.163993342,confidence:.896,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:686919e-9,confidence:.001,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008949491,confidence:.0915,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001079462,confidence:.0065,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002625438,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.017866136,confidence:.1115,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:671284e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.0020471,confidence:.0165,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.002319558,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003747207,confidence:.036,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.009046077,confidence:.084,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.001463008,confidence:.009,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003301589,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.581148247,confidence:.945,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.013454741,confidence:.141,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.003818527,confidence:.034,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.003330149,confidence:.032,numberOfMutationsForSample:28},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.008049382,confidence:.0675,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001105177,confidence:.0045,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.0036538,confidence:.0365,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.004620752,confidence:.041,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.003782088,confidence:.0255,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.003749777,confidence:.0355,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.003365869,confidence:.029,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.004632342,confidence:.043,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.001719043,confidence:.011,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001231342,confidence:.0085,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.003583696,confidence:.0345,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.002815642,confidence:.0235,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.004149477,confidence:.038,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.129747639,confidence:.78,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:734112e-9,confidence:.002,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.00228644,confidence:.021,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001002355,confidence:.005,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.003832217,confidence:.0375,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.031776993,confidence:.2185,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.001557096,confidence:.0105,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003556415,confidence:.0335,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001487606,confidence:.0115,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003237267,confidence:.0265,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.008425291,confidence:.0805,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00114451,confidence:.0065,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003196741,confidence:.0245,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.754802788,confidence:1,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.001975817,confidence:.0145,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.001780031,confidence:.013,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.002998294,confidence:.0285,numberOfMutationsForSample:26}]},724:function(e){e.exports=[{mutationalSignatureId:"mutational_signature_1",description:"Mutational Signature 1",confidenceStatement:"Signature 1, the aging signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_2",description:"Mutational Signature 2",confidenceStatement:"Signature 2, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 13, the other APOBEC signature"},{mutationalSignatureId:"mutational_signature_3",description:"Mutational Signature 3",confidenceStatement:"Signature 3, the signature of Homologous Recombination Repair deficiency is detected in this case.  This signature is most commonly associated with BRCA mutations"},{mutationalSignatureId:"mutational_signature_4",description:"Mutational Signature 4",confidenceStatement:"Signature 4, the smoking signature is detected in this case"},{mutationalSignatureId:"mutational_signature_5",description:"Mutational Signature 5",confidenceStatement:"Signature 5 is detected in this case.  We are not confident that we are able to detect signature 5 in the IMPACT cohort.  It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with age"},{mutationalSignatureId:"mutational_signature_6",description:"Mutational Signature 6",confidenceStatement:"Signature 6, a MMR signature, is detected in this case.  It is usually associated with high mutational burden.  This signature often co-occurs with other MMR signatures (14, 15, 20, 21 26)"},{mutationalSignatureId:"mutational_signature_7",description:"Mutational Signature 7",confidenceStatement:"Signature 7, the UV light signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_8",description:"Mutational Signature 8",confidenceStatement:"Signature 8 is detected in this case. We are not confident that we are able to detect signature 8 in the IMPACT cohort. It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with HRD defects"},{mutationalSignatureId:"mutational_signature_9",description:"Mutational Signature 9",confidenceStatement:"Signature 9 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is associated with POLH."},{mutationalSignatureId:"mutational_signature_10",description:"Mutational Signature 10",confidenceStatement:"Signature 10, the POLE signature, is detected in this case.  It is associated with functions to the exonucleus domain of the POLE gene and enormous mutational burden.  Oftentimes MMR signatures 6, 14,16, 20,21 and 26 co-occur with the POLE signature."},{mutationalSignatureId:"mutational_signature_11",description:"Mutational Signature 11",confidenceStatement:"Signature 11, the Temozolomide (TMZ) signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_12",description:"Mutational Signature 12",confidenceStatement:"Signature 12 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is found in liver cancer."},{mutationalSignatureId:"mutational_signature_13",description:"Mutational Signature 13",confidenceStatement:"Signature 13, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 2, the other APOBEC signature."},{mutationalSignatureId:"mutational_signature_14",description:"Mutational Signature 14",confidenceStatement:"Signature 14, the signature of simultaneous MMR and POLE dysfunction is detected in this case.  This signature usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 15, 20, 21 26)."},{mutationalSignatureId:"mutational_signature_15",description:"Mutational Signature 15",confidenceStatement:"Signature 15, a MMR signature, is detected in this case.  It is usually associated with high mutational burden."},{mutationalSignatureId:"mutational_signature_16",description:"Mutational Signature 16",confidenceStatement:"Signature 16 is detected in this case. We are not confident that we are able to detect signature 16 in the IMPACT cohort.  In the literature it is associated with Liver cancer and alcohol consumption."},{mutationalSignatureId:"mutational_signature_17",description:"Mutational Signature 17",confidenceStatement:"Signature 17 is detected in this case.  The aetiology of this signature is unknown.  It is predominantly found in gastric cancers."},{mutationalSignatureId:"mutational_signature_18",description:"Mutational Signature 18",confidenceStatement:"Signature 18 is detected in this case.  This signature is associated with MUTYH dysfunction and neuroblastoma."},{mutationalSignatureId:"mutational_signature_19",description:"Mutational Signature 19",confidenceStatement:"Signature 19 is detected in this case. We are not confident that we are able to detect signature 19 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_20",description:"Mutational Signature 20",confidenceStatements:"Signature 20 is detected in this case. This signature is associated with MMR and usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_21",description:"Mutational Signature 21",confidenceStatement:"Signature 21 is detected in this case. This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_22",description:"Mutational Signature 22",confidenceStatement:"Signature 22 is detected in this case. We are not confident that we are able to detect signature 22 in the IMPACT cohort. In the literature it is associated with exposure to Aristolochic Acid."},{mutationalSignatureId:"mutational_signature_23",description:"Mutational Signature 23",confidenceStatement:"Signature 23 is detected in this case. We are not confident that we are able to detect signature 23 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_24",description:"Mutational Signature 24",confidenceStatement:"Signature 24 is detected in this case. We are not confident that we are able to detect signature 24 in the IMPACT cohort.  In the literature it is associated with aflatoxin exposure.  In our cohort we believe it is detected by accident in cases with the smoking signature (signature 4)."},{mutationalSignatureId:"mutational_signature_25",description:"Mutational Signature 25",confidenceStatement:"Signature 25 is detected in this case. We are not confident that we are able to detect signature 25 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_26",description:"Mutational Signature 26",confidenceStatement:"Signature 26 is detected in this case.  This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 20, 21)."},{mutationalSignatureId:"mutational_signature_27",description:"Mutational Signature 27",confidenceStatement:"Signature 27 is detected in this case. We are not confident that we are able to detect signature 27 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_28",description:"Mutational Signature 28",confidenceStatement:"Signature 28 is detected in this case. We are not confident that we are able to detect signature 28 in the IMPACT cohort.  It often co-occurs with signature 28."},{mutationalSignatureId:"mutational_signature_29",description:"Mutational Signature 29",confidenceStatement:"Signature 29, the mutational signature of chewing tobacco is detected in this case."},{mutationalSignatureId:"mutational_signature_30",description:"Mutational Signature 30",confidenceStatement:"Signature 30 is detected in this case. We are not confident that we are able to detect signature 30 in the IMPACT cohort."}]}}]);