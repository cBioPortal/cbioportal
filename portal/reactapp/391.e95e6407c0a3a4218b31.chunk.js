(self.webpackChunkcbioportal_frontend=self.webpackChunkcbioportal_frontend||[]).push([[391],{58235:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>s,LY:()=>a,$o:()=>y,z:()=>d,IE:()=>h,E2:()=>f,gB:()=>m});var o=n(88034),r=n(59280),i=(n(874),"https://oncokb.org");function l(e,t,n,l,s){if(t){var a="";if(l||s){a=" as a ";var c=[];l&&c.push("oncogene"),s&&c.push("tumor suppressor gene"),a="".concat(a," ").concat(c.join(" and "))}return o.createElement("span",null,o.createElement(r.If,{condition:n},o.createElement(r.Then,null,o.createElement("a",{href:"".concat(i,"/gene/").concat(e),target:"_blank"},e)),o.createElement(r.Else,null,o.createElement("span",null,e))),o.createElement("span",null," is included in the "),o.createElement("a",{href:"".concat(i,"/cancerGenes"),target:"_blank"},"OncoKB Cancer Gene List"),(l||s)&&o.createElement("span",null,a),".")}}n(39594),n(76127);var s,a,c=n(65587),u=(n(75508),n(74785)),p=n(34974);function d(e,t){return[e,(0,u.$9)(t)].join(":")}function f(e){return e.split(":")[0]}function h(e,t,n,r,i,s){return o.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:300,fontSize:12}},o.createElement("span",null,l(e,n,r,i,s)))}function y(e,t,n,r,i,l){var s="# of samples profiled";"data"!==e&&(s+=" for ".concat(e," in this gene: ").concat(t.toLocaleString()));return o.createElement(c.ZD,{placement:"right",overlay:function(){return o.createElement("span",{style:{display:"flex",flexDirection:"column"},"data-test":"freq-cell-tooltip"},o.createElement("span",null,s),o.createElement(p.S,{genePanelIds:r,toggleModal:i}))},destroyTooltipOnHide:!0},o.createElement("span",{"data-test":"freq-cell",style:l},(0,u.jJ)(n/t*100)))}function m(e,t){var n="".concat(t?"Percentage":"Number"," of samples");return"data"!==e&&(n+=" with one or more ".concat(e)),n}!function(e){e.MUTATION="mutations",e.STRUCTURAL_VARIANT="structural variants",e.CNA="copy number alterations",e.DATA="data"}(s||(s={})),function(e){e.INTERSECTION="Intersection",e.UNION="Union"}(a||(a={}))},97392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var o=n(88034),r=n(78566),i=n(27808),l=n(32591),s=n.n(l),a=n(57930),c=n.n(a),u=n(99666),p=n(74785),d=n(36903),f=n(78448),h=n(5933),y=n(76127),m=n.n(y),b=n(65587),_=n(60138);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l},I=function(e){function t(){return S(this,t),w(this,O(t).apply(this,arguments))}return A(t,e),t}(f.Z),P=function(e){function t(e){var n;return S(this,t),n=w(this,O(t).call(this,e)),(0,r.makeObservable)(C(n)),n}var n,l,a;return A(t,e),n=t,(l=[{key:"onDeleteClick",value:function(e){this.props.deleteChart(e.key)}},{key:"shareChart",value:function(e){this.props.shareCharts([e.key])}},{key:"onRestoreClick",value:function(e){this.props.restoreChart(e.key)}},{key:"getCurrentSelectedRows",value:function(){return this.options.filter((function(e){return e.selected}))}},{key:"getCurrentSelectedRowKeys",value:function(){return this.getCurrentSelectedRows().map((function(e){return e.key}))}},{key:"addAll",value:function(e){this.props.onAddAll(c().filter(e,(function(e){return!e.disabled})).map((function(e){return e.key})))}},{key:"removeAll",value:function(e){this.props.onClearAll(e.map((function(e){return e.key})))}},{key:"onOptionChange",value:function(e){this.props.onToggleOption(e.key)}},{key:"shareSelected",value:function(){this.props.shareCharts(this.props.options.filter((function(e){return e.selected})).map((function(e){return e.key})))}},{key:"render",value:function(){var e;return o.createElement("div",{style:{display:"flex",flexDirection:"column"},"data-test":"add-by-type"},(!this.props.freqPromise||this.props.freqPromise.isComplete)&&o.createElement(I,{width:this.props.width-20,height:this.tableHeight,columns:this.columns,data:this.options,showControlsAtTop:!0,addAll:this.addAll,removeAll:this.removeAll,showSelectableNumber:!0,showAddRemoveAllButton:!0,autoFocusSearchAfterRendering:!0,numberOfSelectedRows:this.getCurrentSelectedRows().length,hideControls:this.props.hideControls,isSelectedRow:function(e){return!!e.isSharedChart},highlightedRowClassName:function(e){return e.isSharedChart?s().sharedChart:""},extraButtons:this.extraButtons}),(null===(e=this.props.freqPromise)||void 0===e?void 0:e.isPending)&&o.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:100}},o.createElement(d.Z,{isLoading:!0}),o.createElement("br",null),"Calculating data availability..."))}},{key:"options",get:function(){var e,t=this;if(null===(e=this.props.freqPromise)||void 0===e?void 0:e.isComplete){var n=c().reduce(this.props.options,(function(e,n){var o=0===t.props.freqPromise.result[n.key];return e.push({label:n.label,key:n.key,disabled:o,selected:n.selected,isSharedChart:n.isSharedChart,freq:o?0:t.props.freqPromise.result[n.key]}),e}),[]);return this.props.optionsGivenInSortedOrder?n:n.sort((function(e,t){return t.freq-e.freq||e.label.localeCompare(t.label)}))}var o=this.props.options.map((function(e){return Object.assign({freq:100},e)}));return this.props.optionsGivenInSortedOrder?o:o.sort((function(e,t){return e.label.localeCompare(t.label)}))}},{key:"columns",get:function(){var e=this,t=[{name:this.props.firstColumnHeaderName,render:function(t){return o.createElement(i.Observer,null,(function(){return o.createElement("div",{className:m()(s().option,"add-chart-option",g({},s().markedForDeletion,e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key))),"data-test":"add-chart-option-".concat(t.label.toLowerCase().replace(/\s/g,"-"))},o.createElement(u.Z,{checked:t.selected,disabled:t.disabled||e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key),labelProps:{className:m()(s().label,t.disabled?s().labelDisabled:"")},inputProps:{className:s().input},onChange:function(){return e.onOptionChange(t)}},o.createElement(b.CQ,{text:t.label})))}))},filter:function(e,t,n){return e.label.toUpperCase().includes(n)},sortBy:function(e){return e.label},width:this.props.width-80-(this.props.shareCharts||this.props.deleteChart?70:0),defaultSortDirection:"asc"}];return this.props.freqPromise&&t.push({name:"Freq",tooltip:o.createElement("span",null,(0,_.Z)(this.props.frequencyHeaderTooltip,"% samples with data")),render:function(t){var n;return o.createElement("span",{className:m()(t.disabled?s().labelDisabled:"",g({},s().markedForDeletion,e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key)))},(null===(n=e.props.freqPromise)||void 0===n?void 0:n.isComplete)?(0,p.jJ)(t.freq):"")},sortBy:function(e){return e.freq},defaultSortDirection:"desc",width:60}),(this.props.shareCharts||this.props.deleteChart)&&t.push({name:" ",render:function(t){var n=o.createElement(o.Fragment,null);return n=e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key)?o.createElement("button",{className:"btn btn-xs btn-default",onClick:function(){return e.onRestoreClick(t)}},"Restore"):o.createElement(o.Fragment,null,e.props.deleteChart&&o.createElement(b.ZD,{overlay:"Delete Chart",placement:"top"},o.createElement("span",{onClick:function(){return e.onDeleteClick(t)},style:{marginRight:"5px"}},o.createElement("i",{className:"fa fa-md fa-trash",style:{cursor:"pointer"}}))),e.props.shareCharts&&o.createElement("span",{onClick:function(){return e.shareChart(t)}},o.createElement("i",{className:"fa fa-share-alt",style:{cursor:"pointer"}}))),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end"},className:m()(g({},s().labelDisabled,t.disabled))},n)},width:70}),t}},{key:"tableHeight",get:function(){return this.options.length>15?375:25*(this.options.length+1)}},{key:"extraButtons",get:function(){var e=this;return this.props.shareCharts?[{content:o.createElement(o.Fragment,null,"Share selected"),onClick:this.shareSelected,isDisabled:function(){return 0===e.props.options.filter((function(e){return e.selected})).length}}]:[]}}])&&v(n.prototype,l),a&&v(n,a),t}(o.Component);Object.defineProperty(P,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{firstColumnHeaderName:"Name",hideControls:!1,width:400}}),R([r.computed],P.prototype,"options",null),R([h.default],P.prototype,"onDeleteClick",null),R([h.default],P.prototype,"shareChart",null),R([h.default],P.prototype,"onRestoreClick",null),R([r.computed],P.prototype,"columns",null),R([r.computed],P.prototype,"tableHeight",null),R([h.default],P.prototype,"getCurrentSelectedRows",null),R([h.default],P.prototype,"getCurrentSelectedRowKeys",null),R([r.action.bound],P.prototype,"addAll",null),R([r.action.bound],P.prototype,"removeAll",null),R([r.action.bound],P.prototype,"onOptionChange",null),R([r.action.bound],P.prototype,"shareSelected",null),R([r.computed],P.prototype,"extraButtons",null);const j=P=R([i.observer],P)},55776:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var o=n(88034),r=n(57930),i=n.n(r),l=n(27808),s=n(78566),a=n(38659),c=n(62393);function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l},m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?d(e):t}(this,p(t).call(this,e)),Object.defineProperty(d(n),"_selectedProfileOption",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d(n),"_selectedGenericAssayEntityIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(d(n),"_genericAssaySearchText",{enumerable:!0,configurable:!0,writable:!0,value:""}),(0,s.makeObservable)(d(n)),n.props.initialGenericAssayEntityIds&&(n._selectedGenericAssayEntityIds=n.props.initialGenericAssayEntityIds),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"onSubmit",value:function(){var e=this;if(void 0!==this.selectedProfileOption){if(this.props.onChartSubmit){var t=this.selectedProfileOption,n=this._selectedGenericAssayEntityIds.map((function(n){return{name:n+": "+t.profileName,description:t.description,profileType:t.value,genericAssayType:e.props.genericAssayType,dataType:t.dataType,genericAssayEntityId:n,patientLevel:t.patientLevel}}));this.props.onChartSubmit(n),this.clearSelectedEntities()}if(this.props.onTrackSubmit){var o=this.selectedProfileOption,r=this._selectedGenericAssayEntityIds.map((function(t){return{profileId:o.value,genericAssayType:e.props.genericAssayType,genericAssayEntityId:t}}));this.props.onTrackSubmit(r)}}}},{key:"clearSelectedEntities",value:function(){this._selectedGenericAssayEntityIds=[]}},{key:"handleProfileSelect",value:function(e){e&&e.value&&(this._selectedProfileOption=e,this.props.onSelectGenericAssayProfile&&this.props.onSelectGenericAssayProfile(e.value))}},{key:"onSelectGenericAssayEntities",value:function(e,t){var n=e||[];"select-option"===t.action&&"select_all_filtered_options"===t.option.value&&(n=i().union(this.filteredGenericAssayOptions,n));var o=n.map((function(e){return e.value}));o=o.filter((function(e){return"select_all_filtered_options"!==e})),this._selectedGenericAssayEntityIds=o,this._genericAssaySearchText=""}},{key:"doesOptionMatchSearchText",value:function(e,t){var n=!1;return(!e||new RegExp(e,"i").test(t.label)||new RegExp(e,"i").test(t.value))&&(n=!0),n}},{key:"filterGenericAssayOption",value:function(e,t){return"select_all_filtered_options"===e.value||this.doesOptionMatchSearchText(t,e)&&!this._selectedGenericAssayEntityIds.includes(e.value)}},{key:"onGenericAssayInputChange",value:function(e,t){"input-change"===t.action?this._genericAssaySearchText=e:"set-value"!==t.action&&(this._genericAssaySearchText="")}},{key:"render",value:function(){return o.createElement("div",{"data-test":"GenericAssaySelection",style:{width:this.props.containerWidth?this.props.containerWidth-20:"auto"}},o.createElement("div",{"data-test":"GenericAssayEntitySelection"},o.createElement(a.default,{name:"generic-assay-select",placeholder:"Search for ".concat((0,c._y)(this.props.genericAssayType,!0),"..."),closeMenuOnSelect:!1,value:this.selectedGenericAssaysJS,isMulti:!0,isClearable:!1,options:this.genericAssayOptions,filterOption:this.filterGenericAssayOption,onInputChange:this.onGenericAssayInputChange,onChange:this.onSelectGenericAssayEntities,styles:{multiValueLabel:function(e){return Object.assign(Object.assign({},e),{whiteSpace:"normal"})}}})),o.createElement("div",{style:{display:"flex",marginTop:10}},o.createElement("div",{"data-test":"GenericAssayProfileSelection",style:{flex:1,marginRight:15}},o.createElement(a.default,{value:this.selectedProfileOption,onChange:this.handleProfileSelect,options:this.props.molecularProfileOptions,isClearable:!1,isSearchable:!1})),o.createElement("button",{disabled:this.buttonDisabled,className:"btn btn-primary btn-sm","data-test":"GenericAssaySelectionSubmitButton",onClick:this.onSubmit},this.props.submitButtonText)))}},{key:"selectedProfileOption",get:function(){return void 0!==this._selectedProfileOption?this._selectedProfileOption:this.props.molecularProfileOptions?this.props.molecularProfileOptions[0]:void 0}},{key:"buttonDisabled",get:function(){return!this.props.allowEmptySubmission&&i().isEmpty(this._selectedGenericAssayEntityIds)}},{key:"genericAssayEntitiesOptionsByValueMap",get:function(){return i().keyBy(this.props.genericAssayEntityOptions,(function(e){return e.value}))}},{key:"selectedGenericAssayEntities",get:function(){var e=this;return i().intersection(this._selectedGenericAssayEntityIds,i().keys(this.genericAssayEntitiesOptionsByValueMap)).map((function(t){return e.genericAssayEntitiesOptionsByValueMap[t]}))}},{key:"selectedGenericAssaysJS",get:function(){return(0,s.toJS)(this.selectedGenericAssayEntities)}},{key:"genericAssayOptions",get:function(){var e=this,t=this.props.genericAssayEntityOptions,n=this.props.genericAssayEntityOptions.filter((function(t){return e.doesOptionMatchSearchText(e._genericAssaySearchText,t)&&!e._selectedGenericAssayEntityIds.includes(t.value)})).length;return this._genericAssaySearchText.length>0&&n>0&&(t=i().concat({id:"select_all_filtered_options",value:"select_all_filtered_options",label:"Select all filtered options (".concat(n,")")},t)),t}},{key:"filteredGenericAssayOptions",get:function(){var e=this;return i().filter(this.genericAssayOptions,(function(t){return"select_all_filtered_options"!==t.value&&e.doesOptionMatchSearchText(e._genericAssaySearchText,t)}))}},{key:"isSelectedGenericAssayOptionsOverLimit",get:function(){return this._selectedGenericAssayEntityIds.length>100}}])&&u(n.prototype,r),l&&u(n,l),t}(o.Component);Object.defineProperty(m,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{allowEmptySubmission:!1}}),y([s.observable],m.prototype,"_selectedProfileOption",void 0),y([s.observable.ref],m.prototype,"_selectedGenericAssayEntityIds",void 0),y([s.observable],m.prototype,"_genericAssaySearchText",void 0),y([s.action.bound],m.prototype,"onSubmit",null),y([s.action.bound],m.prototype,"clearSelectedEntities",null),y([s.action.bound],m.prototype,"handleProfileSelect",null),y([s.computed],m.prototype,"selectedProfileOption",null),y([s.computed],m.prototype,"buttonDisabled",null),y([s.computed],m.prototype,"genericAssayEntitiesOptionsByValueMap",null),y([s.action.bound],m.prototype,"onSelectGenericAssayEntities",null),y([s.computed],m.prototype,"selectedGenericAssayEntities",null),y([s.computed],m.prototype,"selectedGenericAssaysJS",null),y([s.computed],m.prototype,"genericAssayOptions",null),y([s.computed],m.prototype,"filteredGenericAssayOptions",null),y([s.action.bound],m.prototype,"filterGenericAssayOption",null),y([s.action.bound],m.prototype,"onGenericAssayInputChange",null),y([s.computed],m.prototype,"isSelectedGenericAssayOptionsOverLimit",null);const b=m=y([l.observer],m)},78448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var o,r=n(88034),i=n(6240),l=n(84824),s=n(78566),a=n(39594),c=n.n(a),u=n(57930),p=n.n(u),d=n(27808),f=n(76127),h=n.n(f),y=n(59280),m=n(5933),b=n(66072),_=n(65587),g=n(17502),v=n(58235),S=n(79280);function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?k(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var D=function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":j(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l},x=(P(o={},"desc",l.Sr.DESC),P(o,"asc",l.Sr.ASC),o),T=function(e){function t(e,n){var o;return O(this,t),o=A(this,E(t).call(this,e)),Object.defineProperty(k(o),"fixedTopRowsData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(k(o),"getSortedData",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=o.sortMetric||function(){return 0},t=void 0===o.sortAscending||o.sortAscending;return[].concat(C(o.fixedTopRowsData),C((0,i.eS)(o.allData,e,t)))}}),(0,s.makeObservable)(k(o)),o.fixedTopRowsData=n,o}return R(t,e),t}(g.Lq),G=function(e){function t(e){var n;O(this,t),n=A(this,E(t).call(this,e)),Object.defineProperty(k(n),"_store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(k(n),"inputElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(k(n),"_sortBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(k(n),"_sortDirection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,s.makeObservable)(k(n)),n._sortBy=e.sortBy;var o=p().find(n.props.columns,(function(e){return e.name===n._sortBy}));return n._sortDirection=void 0===e.sortDirection?p().isUndefined(o)?"desc":o.defaultSortDirection||"desc":e.sortDirection,n.initDataStore(),n}var n,o,a;return R(t,e),n=t,(o=[{key:"componentWillReceiveProps",value:function(e){this.updateDataStore(e)}},{key:"updateDataStore",value:function(e){var t=this,n=new T((function(){return t.props.data}),this.props.fixedTopRowsData||[]),o=(0,s.toJS)(this._store.filterString);this._store.setProps({columns:e.columns,dataStore:n,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection}),void 0!==o&&this._store.setFilterString(o)}},{key:"initDataStore",value:function(){var e=this,t=new T((function(){return e.props.data}),this.props.fixedTopRowsData||[]);this._store=new i.EZ({columns:this.props.columns,dataStore:t,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"rowClassName",value:function(e){var t=e.index;if(t>-1&&this.isSelectedRow(this._store.dataStore.sortedFilteredData[t])){var n=[c().row];if(this.props.highlightedRowClassName){var o=this.props.highlightedRowClassName(this._store.dataStore.sortedFilteredData[t]);n.push(o)}else n.push(c().highlightedRow);return h()(n)}return t<0?c().headerRow:h()(c().row,t%2==0?c().evenRow:c().oddRow)}},{key:"rowGetter",value:function(e){var t=e.index;return this._store.dataStore.sortedFilteredData[t]}},{key:"getColumn",value:function(e){return p().keyBy(this.props.columns,(function(e){return e.name}))[e]}},{key:"sort",value:function(e){var t=e.sortBy;this._store.defaultHeaderClick(this.getColumn(t)),this._sortBy=t,this._sortDirection=this._store.dataStore.sortAscending?"asc":"desc",this.props.afterSorting&&this.props.afterSorting(this._sortBy,this._sortDirection)}},{key:"onFilterTextChange",value:function(){var e=this;return(0,b._)((function(t){e._store.setFilterString(t)}),400)}},{key:"afterSelectingRows",value:function(){this.props.afterSelectingRows&&this.props.afterSelectingRows()}},{key:"changeSelectionType",value:function(e){this.props.toggleSelectionOperator&&this.props.defaultSelectionOperator!==e&&this.props.toggleSelectionOperator()}},{key:"isSelectedRow",value:function(e){return!!p().isFunction(this.props.isSelectedRow)&&this.props.isSelectedRow(e)}},{key:"onAddAll",value:function(){this.props.addAll&&this.props.addAll(this._store.dataStore.sortedFilteredData)}},{key:"onRemoveAll",value:function(){this.props.removeAll&&this.props.removeAll(this._store.dataStore.sortedFilteredData)}},{key:"setInputRef",value:function(e){this.inputElement=e}},{key:"componentDidMount",value:function(){!this.props.hideControls&&this.props.autoFocusSearchAfterRendering&&this.inputElement.focus()}},{key:"getSelectionOptions",value:function(){var e=this;return Object.keys(v.LY).map((function(t){var n=v.LY[t];return r.createElement(S.MenuItem,{onClick:function(){return e.changeSelectionType(n)},active:e.props.defaultSelectionOperator===t},r.createElement(_.ZD,{overlay:"".concat(n," of samples in the newly selected rows")},r.createElement("div",null,n," ",r.createElement("i",{className:c()[n.toLowerCase()]}))))}))}},{key:"getAddRemoveAllButton",value:function(){var e=0===this.props.numberOfSelectedRows,t=this.props.numberOfSelectedRows===this.props.data.length,n="Select all".concat(this.props.showSelectableNumber?" (".concat(this._store.dataStore.sortedFilteredData.length,")"):""),o=!t&&this.props.addAll,i=!e&&this.props.removeAll;return r.createElement("div",{style:{display:"flex",alignItems:"baseline"}},o&&r.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-add-all",onClick:this.onAddAll},n),i&&r.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-remove-all",onClick:this.onRemoveAll},"Deselect all"))}},{key:"getControls",value:function(){return r.createElement("div",{className:h()(c().controls,P({},c().controlsAtTop,!!this.props.showControlsAtTop))},!this.props.showControlsAtTop&&r.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),className:h()("form-control",c().tableSearchInput)}),this.props.showAddRemoveAllButton&&this.getAddRemoveAllButton(),r.createElement(y.If,{condition:this.props.showSetOperationsButton&&this.props.numberOfSelectedRows>0},r.createElement("div",{className:"btn-group",style:{display:"flex"}},r.createElement("button",{className:"btn btn-default btn-xs",onClick:this.afterSelectingRows},"Select Samples"," ",r.createElement(y.If,{condition:this.props.numberOfSelectedRows>1},r.createElement("i",{style:{marginTop:"-2px"},className:this.props.defaultSelectionOperator===v.LY.INTERSECTION?c().intersection:c().union}))),r.createElement(y.If,{condition:this.props.numberOfSelectedRows>1},r.createElement(S.DropdownButton,{bsSize:"xsmall",title:"",id:"selectButton",pullRight:!0},this.getSelectionOptions())))),this.props.extraButtons&&this.props.extraButtons.map((function(e){return r.createElement("button",{className:"btn btn-default btn-xs",onClick:e.onClick,disabled:e.isDisabled()},e.content)})),this.props.showControlsAtTop&&r.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),ref:this.setInputRef,"data-test":"fixed-header-table-search-input",className:h()("form-control",c().tableSearchInput)}))}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:c().studyViewTablesTable},!this.props.hideControls&&this.props.showControlsAtTop&&this.getControls(),r.createElement(d.Observer,null,(function(){return r.createElement(l.iA,{width:e.props.width,height:e.props.height,headerHeight:e.props.headerHeight,rowHeight:e.props.rowHeight,rowCount:e._store.dataStore.sortedFilteredData.length,rowGetter:e.rowGetter,rowClassName:e.rowClassName,headerClassName:c().headerColumn,sort:e.sort,sortDirection:x[e._sortDirection],sortBy:e._sortBy},e.props.columns.map((function(t,n){return r.createElement(l.sg,{key:t.name,label:t.name,dataKey:t.name,width:Number(t.width),headerRenderer:e.columnHeaders[n],cellRenderer:function(e){return t.render(e.rowData)}})})))})),!this.props.hideControls&&!this.props.showControlsAtTop&&this.getControls())}},{key:"columnHeaders",get:function(){var e=this;return this.props.columns.map((function(t){return function(n){var o=[];t.headerRender?o.push(t.headerRender(t.name)):o.push(r.createElement("span",{key:t.name},t.name)),t.name===e._sortBy&&o.push(r.createElement("i",{className:h()("desc"===e._sortDirection?c().headerSortingIconDesc:c().headerSortingIconAsc,"fa","desc"===e._sortDirection?"fa-sort-desc":"fa-sort-asc")}));var i=r.createElement("div",{style:{display:"flex"}},o);return t.tooltip?r.createElement(_.ZD,{placement:"top",overlay:t.tooltip},i):i}}))}}])&&w(n.prototype,o),a&&w(n,a),t}(r.Component);Object.defineProperty(G,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{showControlsAtTop:!1,showAddRemoveAllButton:!1,autoFocusSearchAfterRendering:!1,width:398,height:350,headerHeight:25,rowHeight:25,showSelectableNumber:!1,sortBy:"",numberOfSelectedRows:0,hideControls:!1}}),D([s.observable.ref],G.prototype,"_sortBy",void 0),D([s.observable],G.prototype,"_sortDirection",void 0),D([m.default],G.prototype,"rowClassName",null),D([m.default],G.prototype,"rowGetter",null),D([m.default],G.prototype,"getColumn",null),D([s.action.bound],G.prototype,"sort",null),D([s.action.bound],G.prototype,"onFilterTextChange",null),D([s.action.bound],G.prototype,"afterSelectingRows",null),D([s.action.bound],G.prototype,"changeSelectionType",null),D([m.default],G.prototype,"isSelectedRow",null),D([m.default],G.prototype,"onAddAll",null),D([m.default],G.prototype,"onRemoveAll",null),D([s.computed],G.prototype,"columnHeaders",null),D([m.default],G.prototype,"setInputRef",null);const N=G=D([d.observer],G)},34974:(e,t,n)=>{"use strict";n.d(t,{S:()=>h,N:()=>y});var o=n(88034),r=n(27808),i=n(89353);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?u(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,o){var r,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,n,l):r(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l},h=function(e){var t=e.genePanelIds,n=e.toggleModal;return t.length>0?o.createElement("span",{style:{maxWidth:400}},"Gene panels:"," ",t.map((function(e,t){return[t>0&&", ",o.createElement("a",{key:e,"data-test":"gene-panel-linkout-".concat(e),href:"#",onClick:function(){n(e)}},e)]}))):o.createElement("span",null)},y=function(e){function t(){var e;return l(this,t),e=a(this,c(t).apply(this,arguments)),Object.defineProperty(u(e),"getGenesList",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return e&&e.genes?e.genes.map((function(e){return o.createElement("p",{key:e.entrezGeneId},e.hugoGeneSymbol)})):null}}),e}var n,r,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.genePanelCache.get({genePanelId:this.props.panelName});return o.createElement(i.Z,{panelName:this.props.panelName,show:this.props.show,onHide:this.props.onHide,isLoading:e.isPending},e.isComplete&&this.getGenesList(e.result))}}])&&s(n.prototype,r),d&&s(n,d),t}(o.Component);y=f([r.observer],y)},18667:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var o=n(88034),r=n(65587);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return l(this,t),a(this,c(t).apply(this,arguments))}var n,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return o.createElement(r.ZD,{overlay:this.props.tooltip},o.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:Object.assign({},{color:"#BB1700",cursor:"pointer"},this.props.style||{})}))}}])&&s(n.prototype,i),p&&s(n,p),t}(o.Component)},32591:e=>{e.exports={portalWidth:"styles-module__portalWidth__1Knza",framedImage:"styles-module__framedImage__p1p-k",main:"styles-module__main__2V5AI",operations:"styles-module__operations__2tHBt",options:"styles-module__options__2V0tE",option:"styles-module__option__dhLVt",markedForDeletion:"styles-module__markedForDeletion__2l0on",footer:"styles-module__footer__8u68Z",input:"styles-module__input__2Zk8R",label:"styles-module__label__YKqSs",labelDisabled:"styles-module__labelDisabled__3jDaR",sharedChart:"styles-module__sharedChart__23Z4O"}},39594:e=>{e.exports={portalWidth:"tables-module__portalWidth__2u2eA",framedImage:"tables-module__framedImage__2sdMG",studyViewTablesTable:"tables-module__studyViewTablesTable__29Y2_",tableSearchInput:"tables-module__tableSearchInput__2uOMk",labelContent:"tables-module__labelContent__2FLsJ",labelContentSVG:"tables-module__labelContentSVG__2v71D",controls:"tables-module__controls__2KTG_",controlsAtTop:"tables-module__controlsAtTop__czH5v",controlsBtn:"tables-module__controlsBtn__24B4k",geneSymbol:"tables-module__geneSymbol__1OUGZ",cancerGene:"tables-module__cancerGene__CqmRo",headerColumn:"tables-module__headerColumn__WCJTO",headerRow:"tables-module__headerRow__3Ckx0",row:"tables-module__row__20ZyT",oddRow:"tables-module__oddRow__3vz4c",evenRow:"tables-module__evenRow__KCskI",highlightedEvenRow:"tables-module__highlightedEvenRow__2EYSy",highlightedRow:"tables-module__highlightedRow__1wuhn",highlightedOddRow:"tables-module__highlightedOddRow__1RWUf",cancerGeneIcon:"tables-module__cancerGeneIcon__1Zp6i",gistic:"tables-module__gistic__1d6Gl",mutsig:"tables-module__mutsig__3Q3o0",cancerGenesRow:"tables-module__cancerGenesRow__1crxh",amp:"tables-module__amp__yRy0o",del:"tables-module__del__PLU6Y",displayFlex:"tables-module__displayFlex__7WOab",headerSortingIconAsc:"tables-module__headerSortingIconAsc__2WF6G",headerSortingIconDesc:"tables-module__headerSortingIconDesc__17i93",autoMarginCheckbox:"tables-module__autoMarginCheckbox__3tMQV",union:"tables-module__union__3dOlj",intersection:"tables-module__intersection__2qPMu"}},874:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+CiAgPCEtLU5vIGxldmVsIGljb25zLS0+CiAgICAgIDxnICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LCA3KSI+CiAgICAgICAgPGNpcmNsZSByPSI2IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIzIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIxLjUiIGZpbGw9IiMwMDdGRkYiIHN0cm9rZT0ibm9uZSI+PC9jaXJjbGU+CiAgICAgIDwvZz4KPC9zdmc+"}}]);