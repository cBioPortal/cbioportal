"use strict";(self.webpackChunkcbioportal_frontend=self.webpackChunkcbioportal_frontend||[]).push([[750],{37368:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ye});var n=r(88034),o=r(27808),a=r(57761),i=r(65587),u=r(78566),s=r(67145),l=r(30177),c=r(57930),p=r.n(c),f=r(5933),d=r(72564),y=r(58997),b=r(60138),m=r(18474),h=r(28676),v=r(45692);function g(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},P=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function u(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}s((n=n.apply(e,t||[])).next())}))},T=function(e){function t(e,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?E(e):t}(this,w(t).call(this,r,n)),Object.defineProperty(E(o),"urlWrapper",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(E(o),"sessionId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(E(o),"__session",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({invoke:function(){return l.Z.getComparisonSession(o.sessionId)},onResult:function(e){try{var t=p().chain(e.groups).flatMap((function(e){return e.studies})).map((function(e){return e.id})).uniq().value();(0,y.L9)({category:"groupComparison",action:"comparisonSessionViewed",label:t.join(",")+",",fieldsObject:(r={},n=y.lh.GroupCount,o=e.groups.length,n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r)})}catch(e){throw"Failure to track comparisonSessionViewed"}var r,n,o}})}),Object.defineProperty(E(o),"_unsortedOriginalGroups",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o._session,o.sampleMap]},invoke:function(){var e=[],t=o.sampleMap.result,r=d.DM,n=[];o._session.result.groups.forEach((function(e,t){null!=e.color?r=r.filter((function(t){return t!=e.color.toUpperCase()})):n.push(e)}));var i=(0,d.BB)(p().map(n,(function(e){return{value:e.name}})),r);return o._session.result.groups.forEach((function(r,n){e.push(function(e,r){var n=e.color||i[e.name],o=(0,a.uQ)(e,t),u=o.nonExistentSamples,s=o.studies;return Object.assign({},e,{color:n,studies:s,nonExistentSamples:u,uid:e.name,nameWithOrdinal:"",ordinal:""})}(r))})),Promise.resolve(e)}})}),Object.defineProperty(E(o),"_originalGroups",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o._session,o._unsortedOriginalGroups]},invoke:function(){var e;if(o.groupOrder){var t=(0,i.ky)(o.groupOrder);e=p().sortBy(o._unsortedOriginalGroups.result,(function(e){return(0,b.Z)(t[e.name],Number.POSITIVE_INFINITY)}))}else if(o._session.result.groupNameOrder){var r=(0,i.ky)(o._session.result.groupNameOrder);e=p().sortBy(o._unsortedOriginalGroups.result,(function(e){return(0,b.Z)(r[e.name],Number.POSITIVE_INFINITY)}))}else e=(0,a.Wy)(o._unsortedOriginalGroups.result);var n=(0,a.I2)(e.length,26);return e.forEach((function(e,t){var r=n[t];e.nameWithOrdinal="(".concat(r,") ").concat(e.name),e.ordinal=r})),Promise.resolve(e)}})}),Object.defineProperty(E(o),"_samples",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o._session]},invoke:function(){return P(E(o),void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,o,a,i,u,l,c,f,d,y,b,m,h,g,O,w,E,S,_,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p()(this._session.result.groups).flatMapDeep((function(e){return e.studies.map((function(e){return e.id}))})).uniq().value(),e.next=3,s.Z.fetchSamplesUsingPOST({sampleFilter:{sampleListIds:t.map((function(e){return"".concat(e,"_all")}))},projection:"DETAILED"});case 3:r=e.sent,n=new v.Z,o=!0,a=!1,i=void 0,e.prev=8,u=this._session.result.groups[Symbol.iterator]();case 10:if(o=(l=u.next()).done){e.next=59;break}c=l.value,f=!0,d=!1,y=void 0,e.prev=15,b=c.studies[Symbol.iterator]();case 17:if(f=(m=b.next()).done){e.next=42;break}for(h=m.value,g=h.id,O=!0,w=!1,E=void 0,e.prev=23,S=h.samples[Symbol.iterator]();!(O=(_=S.next()).done);O=!0)k=_.value,n.add({studyId:g,sampleId:k});e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),w=!0,E=e.t0;case 31:e.prev=31,e.prev=32,O||null==S.return||S.return();case 34:if(e.prev=34,!w){e.next=37;break}throw E;case 37:return e.finish(34);case 38:return e.finish(31);case 39:f=!0,e.next=17;break;case 42:e.next=48;break;case 44:e.prev=44,e.t1=e.catch(15),d=!0,y=e.t1;case 48:e.prev=48,e.prev=49,f||null==b.return||b.return();case 51:if(e.prev=51,!d){e.next=54;break}throw y;case 54:return e.finish(51);case 55:return e.finish(48);case 56:o=!0,e.next=10;break;case 59:e.next=65;break;case 61:e.prev=61,e.t2=e.catch(8),a=!0,i=e.t2;case 65:e.prev=65,e.prev=66,o||null==u.return||u.return();case 68:if(e.prev=68,!a){e.next=71;break}throw i;case 71:return e.finish(68);case 72:return e.finish(65);case 73:return e.abrupt("return",r.filter((function(e){return n.has({studyId:e.studyId,sampleId:e.sampleId})})));case 74:case"end":return e.stop()}}),e,this,[[8,61,65,73],[15,44,48,56],[23,27,31,39],[32,,34,38],[49,,51,55],[66,,68,72]])})))}})}),Object.defineProperty(E(o),"allStudies",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({invoke:function(){return P(E(o),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.getAllStudiesUsingGET({projection:"SUMMARY"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}},[])}),Object.defineProperty(E(o),"allStudyIdToStudy",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o.allStudies]},invoke:function(){return Promise.resolve(p().keyBy(o.allStudies.result,(function(e){return e.studyId})))}})}),Object.defineProperty(E(o),"queriedPhysicalStudies",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o._session]},invoke:function(){return P(E(o),void 0,void 0,regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._session.result.origin,r=this.allStudyIdToStudy.result,e.abrupt("return",p().reduce(t,(function(e,t){return r[t]&&e.push(r[t]),e}),[]));case 3:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(E(o),"queriedVirtualStudies",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o.queriedPhysicalStudies,o._session]},invoke:function(){return P(E(o),void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._session.result.origin,this.queriedPhysicalStudies.result.length!==t.length){e.next=3;break}return e.abrupt("return",[]);case 3:return r=[],n=this.queriedPhysicalStudies.result.map((function(e){return e.studyId})),o=t.filter((function(e){return!n.includes(e)})),e.next=8,Promise.all(o.map((function(e){return h.Z.getVirtualStudy(e).then((function(e){r.push(e)})).catch((function(e){}))})));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(E(o),"displayedStudies",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o.queriedVirtualStudies,o.queriedPhysicalStudies]},invoke:function(){return P(E(o),void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[].concat(g(this.queriedPhysicalStudies.result),g(this.queriedVirtualStudies.result.map((function(e){return{name:e.data.name,description:e.data.description,studyId:e.id}})))));case 1:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(E(o),"_studies",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.$w)({await:function(){return[o._session,o.allStudyIdToStudy]},invoke:function(){var e=(0,a.ZC)(o._session.result.groups);return Promise.resolve(e.map((function(e){return o.allStudyIdToStudy.result[e]})))}},[])}),(0,u.makeObservable)(E(o)),o.sessionId=e,o}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),r=t,(n=[{key:"updateOverlapStrategy",value:function(e){this.urlWrapper.updateURL({overlapStrategy:e})}},{key:"setUsePatientLevelEnrichments",value:function(e){this.urlWrapper.updateURL({patientEnrichments:e.toString()})}},{key:"updateGroupOrder",value:function(e,t){var r=this.groupOrder;r||(r=this._originalGroups.result.map((function(e){return e.name})));var n=(r=r.slice()).splice(e,1)[0];r.splice(t,0,n),this.urlWrapper.updateURL({groupOrder:JSON.stringify(r)})}},{key:"updateUnselectedGroups",value:function(e){this.urlWrapper.updateURL({unselectedGroups:JSON.stringify(e)})}},{key:"toggleGroupSelected",value:function(e){var t=this.unselectedGroups.slice();t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),this.updateUnselectedGroups(t)}},{key:"selectAllGroups",value:function(){this.updateUnselectedGroups([])}},{key:"deselectAllGroups",value:function(){var e=this._originalGroups.result;this.updateUnselectedGroups(e.map((function(e){return e.name})))}},{key:"isGroupSelected",value:function(e){return!this.unselectedGroups.includes(e)}},{key:"saveAndGoToSession",value:function(e){return P(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.addComparisonSession(e);case 2:r=t.sent,n=r.id,this.urlWrapper.updateURL({comparisonId:n});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"overlapStrategy",get:function(){return this.urlWrapper.query.overlapStrategy||m.T.EXCLUDE}},{key:"usePatientLevelEnrichments",get:function(){return"true"===this.urlWrapper.query.patientEnrichments}},{key:"groupOrder",get:function(){var e=this.urlWrapper.query.groupOrder;return e?JSON.parse(e):void 0}},{key:"unselectedGroups",get:function(){var e=this.urlWrapper.query.unselectedGroups;return e?JSON.parse(e):[]}},{key:"_session",get:function(){return this.__session}},{key:"sessionClinicalAttributeName",get:function(){return this._session.isComplete?this._session.result.clinicalAttributeName:void 0}},{key:"samples",get:function(){return this._samples}},{key:"studies",get:function(){return this._studies}},{key:"hasCustomDriverAnnotations",get:function(){return this.customDriverAnnotationReport.isComplete&&(!!this.customDriverAnnotationReport.result.hasBinary||this.customDriverAnnotationReport.result.tiers.length>0)}}])&&O(r.prototype,n),o&&O(r,o),t}(m.Z);k([u.observable.ref],T.prototype,"sessionId",void 0),k([u.action],T.prototype,"updateOverlapStrategy",null),k([u.computed],T.prototype,"overlapStrategy",null),k([u.computed],T.prototype,"usePatientLevelEnrichments",null),k([u.action.bound],T.prototype,"setUsePatientLevelEnrichments",null),k([u.computed],T.prototype,"groupOrder",null),k([u.action],T.prototype,"updateGroupOrder",null),k([u.action],T.prototype,"updateUnselectedGroups",null),k([u.computed],T.prototype,"unselectedGroups",null),k([u.action.bound],T.prototype,"toggleGroupSelected",null),k([u.action.bound],T.prototype,"selectAllGroups",null),k([u.action.bound],T.prototype,"deselectAllGroups",null),k([f.default],T.prototype,"isGroupSelected",null),k([u.action],T.prototype,"saveAndGoToSession",null),k([u.computed],T.prototype,"sessionClinicalAttributeName",null),k([u.computed],T.prototype,"hasCustomDriverAnnotations",null);var j=r(21015),x=r(14069),I=r(37672),N=r(16168),R=r(94745),G=r(35595),A=r(35770),C=r(36903),L=r(93527),U=r(42764),W=r(62046),D=r(23280),M=r(21195),Z=r(38659),q=r(83300),V=r(26942);function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var X=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":J(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},Y=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?B(e):t}(this,$(t).call(this,e,{comparisonId:{isSessionProp:!0,aliases:["sessionId"]},groupOrder:{isSessionProp:!1},unselectedGroups:{isSessionProp:!1},overlapStrategy:{isSessionProp:!1},patientEnrichments:{isSessionProp:!1},selectedEnrichmentEventTypes:{isSessionProp:!0}},!0,(0,V.Ib)().session_url_length_threshold?parseInt((0,V.Ib)().session_url_length_threshold):void 0)),(0,u.makeObservable)(B(r)),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),r=t,(n=[{key:"setTabId",value:function(e,t){this.updateURL({},"comparison/".concat(e),!1,t)}},{key:"updateSelectedEnrichmentEventTypes",value:function(e){this.updateURL({selectedEnrichmentEventTypes:JSON.stringify(e)})}},{key:"tabId",get:function(){return(0,a.pQ)(this.pathName)||W.ig.OVERLAP}},{key:"selectedEnrichmentEventTypes",get:function(){return this.query.selectedEnrichmentEventTypes?JSON.parse(this.query.selectedEnrichmentEventTypes):void 0}}])&&F(r.prototype,n),o&&F(r,o),t}(q.Z);X([u.computed],Y.prototype,"tabId",null),X([f.default],Y.prototype,"setTabId",null),X([u.computed],Y.prototype,"selectedEnrichmentEventTypes",null),X([f.default],Y.prototype,"updateSelectedEnrichmentEventTypes",null);var K=r(6790),H=r.n(K),Q=r(62524),ee=r(4538),te=r(19046),re=r(24952),ne=r(15127),oe=r(25120),ae=r(79666),ie=r(37687);function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var fe=function(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===("undefined"==typeof Reflect?"undefined":pe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i},de=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?le(e):t}(this,se(t).call(this,e)),Object.defineProperty(le(r),"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(le(r),"queryReaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(le(r),"urlWrapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(le(r),"tabs",{enumerable:!0,configurable:!0,writable:!0,value:(0,A.F)({await:function(){return[r.store._activeGroupsNotOverlapRemoved,r.store.activeGroups,r.store.mutationEnrichmentProfiles,r.store.structuralVariantEnrichmentProfiles,r.store.copyNumberEnrichmentProfiles,r.store.mRNAEnrichmentProfiles,r.store.proteinEnrichmentProfiles,r.store.methylationEnrichmentProfiles,r.store.survivalClinicalDataExists,r.store.genericAssayEnrichmentProfilesGroupedByGenericAssayType]},render:function(){return n.createElement(j.Kh,{unmountOnHide:!1,activeTabId:r.urlWrapper.tabId,onTabClick:r.urlWrapper.setTabId,className:"primaryTabs mainTabs",hrefRoot:(0,Q.gN)("comparison"),contentWindowExtra:n.createElement(ie.v,{path:r.props.routing.location.pathname})},n.createElement(j.l6,{id:W.ig.OVERLAP,linkText:"Overlap"},n.createElement(N.Z,{key:r.selectedGroupsKey,store:r.store})),r.store.showSurvivalTab&&n.createElement(j.l6,{id:W.ig.SURVIVAL,linkText:"Survival",anchorClassName:r.store.survivalTabUnavailable?"greyedOut":""},n.createElement(I.Z,{store:r.store})),n.createElement(j.l6,{id:W.ig.CLINICAL,linkText:"Clinical",anchorClassName:r.store.clinicalTabUnavailable?"greyedOut":""},n.createElement(M.ZP,{store:r.store})),r.store.showAlterationsTab&&n.createElement(j.l6,{id:W.ig.ALTERATIONS,linkText:r.alterationEnrichmentTabName,anchorClassName:r.store.alterationsTabUnavailable?"greyedOut":""},(0,V.Ib)().skin_show_settings_menu&&n.createElement(a.AI,{store:r.store,updateSelectedEnrichmentEventTypes:r.store.updateSelectedEnrichmentEventTypes})||n.createElement(ne.Z,{classNames:H().inlineAlterationTypeSelectorMenu,store:r.store,updateSelectedEnrichmentEventTypes:r.store.updateSelectedEnrichmentEventTypes,showMutations:r.store.hasMutationEnrichmentData,showCnas:r.store.hasCnaEnrichmentData,showStructuralVariants:r.store.hasStructuralVariantData}),n.createElement(re.Z,{store:r.store})),r.store.showMRNATab&&n.createElement(j.l6,{id:W.ig.MRNA,linkText:"mRNA",anchorClassName:r.store.mRNATabUnavailable?"greyedOut":""},n.createElement(R.Z,{store:r.store})),r.store.showProteinTab&&n.createElement(j.l6,{id:W.ig.PROTEIN,linkText:"Protein",anchorClassName:r.store.proteinTabUnavailable?"greyedOut":""},n.createElement(G.Z,{store:r.store})),r.store.showMethylationTab&&n.createElement(j.l6,{id:W.ig.DNAMETHYLATION,linkText:"DNA Methylation",anchorClassName:r.store.methylationTabUnavailable?"greyedOut":""},n.createElement(ee.Z,{store:r.store})),r.store.showGenericAssayTab&&p().keys(r.store.genericAssayEnrichmentProfilesGroupedByGenericAssayType.result).map((function(e){return n.createElement(j.l6,{id:"".concat(W.ig.GENERIC_ASSAY_PREFIX,"_").concat(e.toLowerCase()),linkText:(0,ae._y)(e),anchorClassName:r.store.genericAssayTabUnavailable?"greyedOut":""},n.createElement(te.Z,{store:r.store,genericAssayType:e}))})),(0,oe.m)(r.customTabs))},renderPending:function(){return n.createElement(C.Z,{center:!0,isLoading:!0,size:"big"})},renderError:function(){return n.createElement(L.Z,null)}})}),Object.defineProperty(le(r),"studyLink",{enumerable:!0,configurable:!0,writable:!0,value:(0,A.F)({await:function(){return[r.store.displayedStudies]},render:function(){var e=r.store.displayedStudies.result,t=n.createElement("span",null);switch(e.length){case 0:t=n.createElement("span",null);break;case 1:t=n.createElement("h3",null,n.createElement(D._,{studyId:e[0].studyId},e[0].name));break;default:t=n.createElement("h4",null,n.createElement("a",{href:(0,Q.gN)("study",{id:e.map((function(e){return e.studyId})).join(",")}),target:"_blank"},"Multiple studies"))}return r.store.sessionClinicalAttributeName?n.createElement("span",null,t,"Groups from"," ",n.createElement("span",{style:{fontWeight:"bold",fontStyle:"italic"}},r.store.sessionClinicalAttributeName)):t}})}),Object.defineProperty(le(r),"overlapStrategySelector",{enumerable:!0,configurable:!0,writable:!0,value:(0,A.F)({await:function(){return[r.store.overlapComputations]},render:function(){if(r.store.overlapComputations.result.totalSampleOverlap||r.store.overlapComputations.result.totalPatientOverlap){var e="Include overlapping samples and patients",t="Exclude overlapping samples and patients";return n.createElement("div",{style:{minWidth:355,width:355,zIndex:20}},n.createElement(Z.default,{name:"select overlap strategy",onChange:function(e){e&&r.onOverlapStrategySelect(e)},options:[{label:e,value:m.T.INCLUDE},{label:t,value:m.T.EXCLUDE}],clearable:!1,searchable:!1,value:{label:r.store.overlapStrategy===m.T.EXCLUDE?t:e,value:r.store.overlapStrategy}}))}return null}})}),(0,u.makeObservable)(le(r)),r.urlWrapper=new Y(e.routing),r.queryReaction=(0,u.reaction)((function(){return r.urlWrapper.query.comparisonId}),(function(t){e.routing.location.pathname.includes("/comparison")&&t&&(r.store&&r.store.destroy(),r.store=new T(t,r.props.appStore,r.urlWrapper),window.groupComparisonStore=r.store)}),{fireImmediately:!0}),window.groupComparisonPage=le(r),r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),r=t,(o=[{key:"componentWillUnmount",value:function(){this.queryReaction&&this.queryReaction(),this.store&&this.store.destroy(),this.urlWrapper.destroy()}},{key:"onOverlapStrategySelect",value:function(e){(0,y.L9)({category:"groupComparison",action:"setOverlapStrategy",label:e.value}),this.store.updateOverlapStrategy(e.value)}},{key:"isGroupDeletable",value:function(){return this.store._originalGroups.isComplete&&this.store._originalGroups.result.length>2}},{key:"render",value:function(){return this.store?n.createElement(x.X,{noMargin:!0,hideFooter:!0,className:"subhead-dark"},n.createElement("div",null,n.createElement(C.Z,{center:!0,isLoading:this.store.newSessionPending,size:"big"}),n.createElement("div",{className:"headBlock"},n.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},this.studyLink.component,this.overlapStrategySelector.component),n.createElement("div",null,n.createElement("div",{className:H().headerControls},n.createElement(U.Z,{store:this.store,isGroupDeletable:this.isGroupDeletable})))),n.createElement("div",null,this.tabs.component))):null}},{key:"alterationEnrichmentTabName",get:function(){return W.hN}},{key:"selectedGroupsKey",get:function(){var e=this.store._selectedGroups.result||[];return JSON.stringify(e.map((function(e){return e.uid})))}},{key:"customTabs",get:function(){return(0,oe.E)((0,V.Ib)().custom_tabs,"COMPARISON_PAGE")}}])&&ue(r.prototype,o),i&&ue(r,i),t}(n.Component);fe([u.observable.ref],de.prototype,"store",void 0),fe([u.computed],de.prototype,"alterationEnrichmentTabName",null),fe([u.computed],de.prototype,"selectedGroupsKey",null),fe([u.computed],de.prototype,"customTabs",null),fe([u.action.bound],de.prototype,"onOverlapStrategySelect",null),fe([f.default],de.prototype,"isGroupDeletable",null);const ye=de=fe([(0,o.inject)("routing","appStore"),o.observer],de)},8506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(88034)),i=s(r(30914)),u=s(r(83055));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.displayName="FontAwesome",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.border,r=e.cssModule,o=e.className,i=e.fixedWidth,s=e.flip,l=e.inverse,c=e.name,p=e.pulse,f=e.rotate,d=e.size,y=e.spin,b=e.stack,m=e.tag,h=void 0===m?"span":m,v=e.ariaLabel,g=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","tag","ariaLabel"]),O=[];return r?(O.push(r.fa),O.push(r["fa-"+c]),d&&O.push(r["fa-"+d]),y&&O.push(r["fa-spin"]),p&&O.push(r["fa-pulse"]),t&&O.push(r["fa-border"]),i&&O.push(r["fa-fw"]),l&&O.push(r["fa-inverse"]),s&&O.push(r["fa-flip-"+s]),f&&O.push(r["fa-rotate-"+f]),b&&O.push(r["fa-stack-"+b])):(O.push("fa"),O.push("fa-"+c),d&&O.push("fa-"+d),y&&O.push("fa-spin"),p&&O.push("fa-pulse"),t&&O.push("fa-border"),i&&O.push("fa-fw"),l&&O.push("fa-inverse"),s&&O.push("fa-flip-"+s),f&&O.push("fa-rotate-"+f),b&&O.push("fa-stack-"+b)),o&&O.push(o),a.default.createElement(h,n({},g,{"aria-hidden":!0,className:O.join(" ")}),v?a.default.createElement("span",{style:u.default},v):null)}}]),t}(a.default.Component);l.propTypes={ariaLabel:i.default.string,border:i.default.bool,className:i.default.string,cssModule:i.default.object,fixedWidth:i.default.bool,flip:i.default.oneOf(["horizontal","vertical"]),inverse:i.default.bool,name:i.default.string.isRequired,pulse:i.default.bool,rotate:i.default.oneOf([90,180,270]),size:i.default.oneOf(["lg","2x","3x","4x","5x"]),spin:i.default.bool,stack:i.default.oneOf(["1x","2x"]),tag:i.default.string},t.default=l,e.exports=t.default},83055:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={position:"absolute",width:"1px",height:"1px",padding:"0px",margin:"-1px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",border:"0px"},e.exports=t.default}}]);