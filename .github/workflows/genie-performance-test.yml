name: genie-performance-test

on:
  schedule:
    # * is a special character in YAML so you have to quote this string
    - cron:  '*/5 * * * *'

jobs:
  probe-genie-endpoint:
    name: Genie private endpoint probe

    runs-on: ubuntu-latest

    steps:
    - name: GET request to genie private page
      env:
        GENIE_PRIVATE_SECRET: ${{ secrets.GENIE_PRIVATE_SECRET }}
      run: curl -I -H "Authorization:Bearer $GENIE_PRIVATE_SECRET" "https://genie.cbioportal.org/api/studies/genie_public" -H "accept:application/json" | head -1 | cut -d" " -f2
