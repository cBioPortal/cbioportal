(self.webpackChunkcbioportal_frontend=self.webpackChunkcbioportal_frontend||[]).push([[857],{24857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Pn});var r=n(88034),a=n(57930),o=n.n(a),i=n(59280),u=n(64683),l=n(43813),c=n(65587);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return p(this,t),d(this,m(t).apply(this,arguments))}var o,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),o=t,(i=[{key:"render",value:function(){return r.createElement("div",null,this.props.patient&&this.getOverlayTriggerPatient(this.props.patient,this.props.studyId,this.props.sampleManager),this.getDarwinUrl(this.props.darwinUrl))}},{key:"getDarwinUrl",value:function(e){if(null!=e&&""!==e){var t=n(40600);return r.createElement("a",{target:"_blank",href:e},r.createElement("img",{style:{paddingLeft:"5px",height:"21px",width:"29px"},src:t}))}return null}},{key:"getPopoverPatient",value:function(e){return e&&r.createElement("div",{key:e.id,style:{maxHeight:400,maxWidth:600,overflow:"auto"}},r.createElement("h5",null,e.id),r.createElement(u.Z,{showFilter:!1,showCopyDownload:!1,showTitleBar:!1,data:e.clinicalData}))}},{key:"getOverlayTriggerPatient",value:function(e,t,n){var o=this,i=(0,a.fromPairs)(e.clinicalData.map((function(e){return[e.clinicalAttributeId,e.value]})));return n&&Object.keys(n.commonClinicalDataLegacyCleanAndDerived).forEach((function(e){i[e]=n.commonClinicalDataLegacyCleanAndDerived[e]})),e&&r.createElement(c.ZD,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.getPopoverPatient(e),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0,onPopupAlign:c.ib},r.createElement("span",{className:"clinical-spans",id:"patient-attributes"},r.createElement("a",{href:"javascript:void(0)",onClick:function(){return o.props.handlePatientClick(e.id)}},e.id),(0,l.dk)(i)))}}])&&f(o.prototype,i),s&&f(o,s),t}(r.Component),y=n(42221),g=n(67145),v=n(42352),w=n(79718),P=n(78566),I=n(74822),S=n(25400);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n;k(this,t);for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return D(this,(n=T(t)).call.apply(n,[this,function(e){return e.sampleId+","+e.entrezGeneId},function(e){return e.sampleId+","+e.entrezGeneId},e].concat(a)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),t}(S.Z);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))};function x(e,t){return A(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,a,i,u,l,c,s,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,r={},a=!0,i=!1,u=void 0,n.prev=5,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)s=c.value,r[s.sampleId]=r[s.sampleId]||[],r[s.sampleId].push(s.entrezGeneId);n.next=13;break;case 9:n.prev=9,n.t0=n.catch(5),i=!0,u=n.t0;case 13:n.prev=13,n.prev=14,a||null==l.return||l.return();case 16:if(n.prev=16,!i){n.next=19;break}throw u;case 19:return n.finish(16);case 20:return n.finish(13);case 21:return n.next=23,Promise.all(Object.keys(r).map((function(e){return null===t?Promise.reject("No molecular profile id given."):v.Z.fetchMrnaPercentileUsingPOST({molecularProfileId:t,sampleId:e,entrezGeneIds:r[e]})})));case 23:return p=n.sent,n.abrupt("return",o().flatten(p));case 27:throw n.prev=27,n.t1=n.catch(0),n.t1;case 30:case"end":return n.stop()}}),n,null,[[0,27],[5,9,13,21],[14,,16,20]])})))}var V=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,R(t).call(this,x,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),t}(E),G=n(24775),N=n.n(G),F=n(21676),B=n(62524),U=n(97657),K=n(35832),L=n(93981),W=n(61871),$=n(19483);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){return e.keyword?e.entrezGeneId+"~"+e.keyword:e.entrezGeneId+""}function Y(e,t){return t?e.length>0?v.Z.fetchVariantCountsUsingPOST({molecularProfileId:t,variantCountIdentifiers:e}):Promise.resolve([]):Promise.reject("No mutation molecular profile id given")}var X=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,H(t).call(this,Q,Q,Y,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),t}(S.Z);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return e.entrezGeneId+"~"+e.alteration}function ae(e,t){return t?e.length?v.Z.fetchCopyNumberCountsUsingPOST({molecularProfileId:t,copyNumberCountIdentifiers:e}):Promise.resolve([]):Promise.reject("No discrete CNA molecular profile id given")}var oe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).call(this,re,re,ae,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),t}(S.Z),ie=n(78610),ue=n(11866),le=n(4098),ce=n(24939),se=n(8170),pe=n(59106),fe=n(43324),de=n(28802),me=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))};function be(e){return me(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,B.zt)("api/matchminer/api"),t.abrupt("return",G.post(n+"/trials").set("Content-Type","application/json").send(e).then((function(e){return JSON.parse(e.text).map((function(e){return{id:e.nct_id+"+"+e.protocol_no,nctId:e.nct_id,protocolNo:e.protocol_no,principalInvestigator:e.principal_investigator,phase:e.phase,shortTitle:e.short_title,status:e.status,treatmentList:e.treatment_list}}))})));case 2:case"end":return t.stop()}}),t)})))}var he=n(41569),ye=n(44217),ge=n(37954),ve=n(54615);function we(e){if(e&&"serverConfig"in e){var t=e.serverConfig,n="skin_patientview_filter_genes_profiled_all_samples";if(t&&n in t&&t[n])return ye.X.ALL_SAMPLES}return ye.X.ANY_SAMPLE}function Pe(e,t,n,r){return o().some(t,(function(t){var a=ge.Z.getProfiledSamplesForGene(t,e,n,r);return o().values(a).includes(!1)}))}var Ie=n(5933),Se=n(22773),Oe=n(89311),ke=n(72564),De=n(41940),Te=n(92421),Me=n(84232),Ee=n(22872),Ce=n(17306),je=n(79666),Re=n(5670),_e=n(26942),Ae=n(9337);function xe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ne=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ge(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Fe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))};function Be(e){return Fe(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==/TCGA/.test(e)){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,N().get((0,B.Cq)(e));case 6:return n=t.sent,t.abrupt("return",n.body&&n.body.total_count&&n.body.total_count>0);case 8:case"end":return t.stop()}}),t)})))}function Ue(e,t,n,r){return o().filter(e,(function(e){var a=e[0].gene.entrezGeneId,i=ge.Z.getProfiledSamplesForGene(a,t,n,r);return o()(i).values().filter((function(e){return e})).value().length===t.length}))}function Ke(e,t,n,r,a){return{patient:{id:e,clinicalData:r},samples:(0,le.gP)(n,a)}}var Le=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"appStore",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"internalClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"activeTabId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_patientId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"urlValidationError",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"ajaxErrors",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"studyId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_sampleId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"openResourceTabMap",{enumerable:!0,configurable:!0,writable:!0,value:P.observable.map()}),Object.defineProperty(this,"mutationTableGeneFilterOption",{enumerable:!0,configurable:!0,writable:!0,value:we({serverConfig:(0,_e.Ib)()})}),Object.defineProperty(this,"copyNumberTableGeneFilterOption",{enumerable:!0,configurable:!0,writable:!0,value:we({serverConfig:(0,_e.Ib)()})}),Object.defineProperty(this,"structuralVariantTableGeneFilterOption",{enumerable:!0,configurable:!0,writable:!0,value:we({serverConfig:(0,_e.Ib)()})}),Object.defineProperty(this,"mutationMolecularProfile",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.G6)(this.molecularProfilesInStudy,this.studyId,Me.YK.MUTATION_EXTENDED));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"discreteMolecularProfile",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.DN)(this.molecularProfilesInStudy));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"mutationMolecularProfileId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationMolecularProfile]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationMolecularProfile.result){e.next=4;break}return e.abrupt("return",this.mutationMolecularProfile.result.molecularProfileId);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"structuralVariantProfile",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.studyIdToMolecularProfiles]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=(0,ke.fe)(this.studyIdToMolecularProfiles.result,Me.YK.STRUCTURAL_VARIANT,[Me.QH.FUSION,Me.QH.SV])).length>0)){e.next=3;break}return e.abrupt("return",t[0]);case 3:return e.abrupt("return",void 0);case 4:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"uncalledMutationMolecularProfileId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.Ro)(this.molecularProfilesInStudy,this.studyId));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"_patientIdsInCohort",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"myCancerGenomeData",{enumerable:!0,configurable:!0,writable:!0,value:(0,De.t1)()}),Object.defineProperty(this,"mutationalSignatureMolecularProfiles",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Promise.resolve(n.molecularProfilesInStudy.result.filter((function(e){return!!e.genericAssayType&&e.genericAssayType===je.rT.MUTATIONAL_SIGNATURE})))}},[])}),Object.defineProperty(this,"fetchAllMutationalSignatureData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.mutationalSignatureMolecularProfiles]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.mutationalSignatureMolecularProfiles.result.map((function(e){return e.molecularProfileId}))).length>0)){e.next=8;break}return n=o().flatMap(t,(function(e){return o().map(a.samples.result,(function(t){return{molecularProfileId:e,sampleId:t.sampleId}}))})),e.next=5,g.Z.fetchGenericAssayDataInMultipleMolecularProfilesUsingPOST({genericAssayDataMultipleStudyFilter:{sampleMolecularIdentifiers:n}});case 5:if(r=e.sent,!(0,Re.LC)(r)){e.next=8;break}return e.abrupt("return",Promise.resolve(r));case 8:return e.abrupt("return",Promise.resolve([]));case 9:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"mutationalSignatureDataGroupByVersion",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.fetchAllMutationalSignatureData,n.mutationData,n.mutationalSignatureMetaGroupByStableId]},invoke:function(){var e=n.fetchAllMutationalSignatureData.result.filter((function(e){return e.molecularProfileId.includes(Re.H7.MutationalSignatureContributionKeyWord)})),t=n.fetchAllMutationalSignatureData.result.filter((function(e){return e.molecularProfileId.includes(Re.H7.MutationalSignatureConfidenceKeyWord)})),r=o().keyBy(t,(function(e){return e.uniqueSampleKey+o().last(e.genericAssayStableId.split("_"))})),a=n.mutationData.result.length,i=[];if(e&&e.length>0){var u=!0,l=!1,c=void 0;try{for(var s,p=e[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var f=s.value,d={};d.mutationalSignatureId=f.genericAssayStableId,d.patientId=f.patientId,d.sampleId=f.sampleId,d.studyId=f.studyId,d.uniquePatientKey=f.uniquePatientKey,d.uniqueSampleKey=f.uniqueSampleKey,d.value=parseFloat(f.value),d.confidence=parseFloat(r[f.uniqueSampleKey+o().last(f.genericAssayStableId.split("_"))].value),d.numberOfMutationsForSample=a,d.version=o().last(f.molecularProfileId.split("_")),d.meta=n.mutationalSignatureMetaGroupByStableId.result[f.genericAssayStableId],i.push(d)}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}}return Promise.resolve(o().groupBy(i,(function(e){return e.version})))}},{})}),Object.defineProperty(this,"fetchAllMutationalSignatureContributionMetaData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.fetchAllMutationalSignatureData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=o().chain(this.fetchAllMutationalSignatureData.result).map((function(e){return e.stableId})).uniq().filter((function(e){return e.includes(Re.H7.MutationalSignatureContributionKeyWord)})).value()).length>0)){e.next=5;break}return e.abrupt("return",g.Z.fetchGenericAssayMetaDataUsingPOST({genericAssayMetaFilter:{genericAssayStableIds:t}}));case 5:return e.abrupt("return",Promise.resolve([]));case 6:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"mutationalSignatureMeta",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.fetchAllMutationalSignatureContributionMetaData]},invoke:function(){return Promise.resolve(n.fetchAllMutationalSignatureContributionMetaData.result.map((function(e){var t={},n="NAME"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.NAME:"",r="DESCRIPTION"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.DESCRIPTION:"No description",a="URL"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.URL:"No url",o=n?n.substring(n.lastIndexOf("(")+1,n.lastIndexOf(")")):"No category",i="DESCRIPTION"in e.genericEntityMetaProperties?e.genericEntityMetaProperties.DESCRIPTION:"No confidence statement";return t.mutationalSignatureId=e.stableId,t.name=n,t.description=r,t.url=a,t.category=o,t.confidenceStatement=i,t})))}},[])}),Object.defineProperty(this,"mutationalSignatureMetaGroupByStableId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationalSignatureMeta]},invoke:function(){return Promise.resolve(o().keyBy(n.mutationalSignatureMeta.result,(function(e){return e.mutationalSignatureId})))}})}),Object.defineProperty(this,"hasMutationalSignatureData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.fetchAllMutationalSignatureData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(this.fetchAllMutationalSignatureData.result&&this.fetchAllMutationalSignatureData.result.length>0));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"_selectedMutationalSignatureVersion",{enumerable:!0,configurable:!0,writable:!0,value:Re.Ko.V2}),Object.defineProperty(this,"derivedPatientId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,a=this.samples.result[Symbol.iterator]();case 5:if(t=(o=a.next()).done){e.next=11;break}return i=o.value,e.abrupt("return",i.patientId);case 8:t=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),n=!0,r=e.t0;case 17:e.prev=17,e.prev=18,t||null==a.return||a.return();case 20:if(e.prev=20,!n){e.next=23;break}throw r;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return","");case 26:case"end":return e.stop()}}),e,this,[[3,13,17,25],[18,,20,24]])})))},default:""})}),Object.defineProperty(this,"clinicalDataPatient",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return"patient"===n.pageMode?[]:[n.derivedPatientId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.x3)(this.studyId,this.patientId));case 1:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(this,"samples",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return(0,le.yZ)(n.studyId,n._patientId,n.sampleId)},onError:function(e){n.appStore.siteErrors.push({errorObj:e,dismissed:!1,title:"Samples / Patients not valid"})}},[])}),Object.defineProperty(this,"allSamplesForPatient",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.derivedPatientId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.getAllSamplesOfPatientInStudyUsingGET({studyId:this.studyId,patientId:this.derivedPatientId.result,projection:"DETAILED"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(this,"samplesWithUniqueKeys",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.allSamplesForPatient]},invoke:function(){return Promise.resolve(n.samples.result.map((function(e){return n.allSamplesForPatient.result.find((function(t){return t.sampleId===e.sampleId}))||e})))}},[])}),Object.defineProperty(this,"samplesWithoutCancerTypeClinicalData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.clinicalDataForSamples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.rh)(this.samples,this.clinicalDataForSamples));case 1:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"studiesForSamplesWithoutCancerTypeClinicalData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.aS)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"studies",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.getStudyUsingGET({studyId:this.studyId});case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"studyIdToStudy",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.studies]},invoke:function(){return Promise.resolve(o().keyBy(n.studies.result,(function(e){return e.studyId})))}},{})}),Object.defineProperty(this,"cnaSegments",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples]},invoke:function(){return(0,le.uq)(n.studyId,n.sampleIds)}},[])}),Object.defineProperty(this,"resourceDefinitions",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return v.Z.getAllResourceDefinitionsInStudyUsingGET({studyId:n.studyId})},onResult:function(e){if(e){var t=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;u.openByDefault&&n.setResourceTabOpen(u.resourceId,!0)}}catch(e){r=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}}}})}),Object.defineProperty(this,"studyResourceData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.resourceDefinitions]},invoke:function(){var e=[],t=n.resourceDefinitions.result.filter((function(e){return"STUDY"===e.resourceType})),r=[],a=!0,o=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;r.push(v.Z.getAllStudyResourceDataInStudyUsingGET({studyId:n.studyId,resourceId:c.resourceId,projection:"DETAILED"}).then((function(t){return e.push.apply(e,xe(t))})))}}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return Promise.all(r).then((function(){return e}))}})}),Object.defineProperty(this,"sampleResourceData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.resourceDefinitions,n.samples]},invoke:function(){var e=n.resourceDefinitions.result.filter((function(e){return"SAMPLE"===e.resourceType}));if(!e.length)return Promise.resolve({});var t=n.samples.result,r={},a=[],o=!0,i=!1,u=void 0;try{for(var l,c=function(){var t=l.value,o=!0,i=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var p=c.value;a.push(v.Z.getAllResourceDataOfSampleInStudyUsingGET({sampleId:t.sampleId,studyId:n.studyId,resourceId:p.resourceId,projection:"DETAILED"}).then((function(e){var n;r[t.sampleId]=r[t.sampleId]||[],(n=r[t.sampleId]).push.apply(n,xe(e))})))}}catch(e){i=!0,u=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}},s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0)c()}catch(e){i=!0,u=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}return Promise.all(a).then((function(){return r}))}})}),Object.defineProperty(this,"patientResourceData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.resourceDefinitions]},invoke:function(){var e=[],t=n.resourceDefinitions.result.filter((function(e){return"PATIENT"===e.resourceType})),r=[],a=!0,o=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;r.push(v.Z.getAllResourceDataOfPatientInStudyUsingGET({studyId:n.studyId,patientId:n.patientId,resourceId:c.resourceId,projection:"DETAILED"}).then((function(t){return e.push.apply(e,xe(t))})))}}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return Promise.all(r).then((function(){return e}))}})}),Object.defineProperty(this,"resourceIdToResourceData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.sampleResourceData,n.patientResourceData,n.studyResourceData]},invoke:function(){var e=o().flatMap(n.sampleResourceData.result,(function(e){return e})).concat(n.patientResourceData.result).concat(n.studyResourceData.result);return Promise.resolve(o().groupBy(e,(function(e){return e.resourceId})))}})}),Object.defineProperty(this,"pathologyReport",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.derivedPatientId]},invoke:function(){if(n.studyId.toLowerCase().indexOf("tcga")>-1){var e="https://raw.githubusercontent.com/inodb/datahub/a0d36d77b242e32cda3175127de73805b028f595/tcga/pathology_reports/symlink_by_patient",t="https://github.com/inodb/datahub/raw/a0d36d77b242e32cda3175127de73805b028f595/tcga/pathology_reports",r=[];return function n(a,o){return N().get("".concat(e,"/").concat(a,".").concat(o)).then((function(e){var i=e.text.split("/")[1];return r.push({name:"".concat(i),url:"".concat(t,"/").concat(i)}),n(a,o+1)}),(function(){return r}))}(n.patientId,0)}return Promise.resolve([])},onError:function(e){}},[])}),Object.defineProperty(this,"cosmicData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.uncalledMutationData]},invoke:function(){return(0,le.Wh)(n.mutationData,n.uncalledMutationData)}})}),Object.defineProperty(this,"mutSigData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.JR)(this.studyId));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"indexedVariantAnnotations",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.uncalledMutationData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,le.PX)((0,le.cD)(this.mutationData,this.uncalledMutationData),["annotation_summary","hotspots","clinvar",(0,_e.Ib)().show_signal?"signal":""].filter((function(e){return e})),(0,_e.Ib)().isoformOverrideSource,this.genomeNexusClient);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},void 0)}),Object.defineProperty(this,"indexedMyVariantInfoAnnotations",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.uncalledMutationData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,le.PX)((0,le.cD)(this.mutationData,this.uncalledMutationData),["my_variant_info"],(0,_e.Ib)().isoformOverrideSource,this.genomeNexusClient);case 2:return t=e.sent,e.abrupt("return",(0,De.sq)(t));case 4:case"end":return e.stop()}}),e,this)})))},onError:function(){}})}),Object.defineProperty(this,"hotspotData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.uncalledMutationData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,pe.v)(this.mutationData,this.uncalledMutationData,this.genomeNexusInternalClient));case 1:case"end":return e.stop()}}),e,this)})))},onError:function(){}})}),Object.defineProperty(this,"clinicalDataForAllSamplesForPatient",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.allSamplesForPatient]},invoke:function(){var e={identifiers:n.allSamplesForPatient.result.map((function(e){return{entityId:e.sampleId,studyId:n.studyId}}))};return(0,le.Sz)(e)}})}),Object.defineProperty(this,"clinicalDataForSamples",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples]},invoke:function(){var e={identifiers:n.sampleIds.map((function(e){return{entityId:e,studyId:n.studyId}}))};return(0,le.Sz)(e)}},[])}),Object.defineProperty(this,"clinicalDataGroupedBySample",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.clinicalDataForSamples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.gP)(this.sampleIds,this.clinicalDataForSamples.result));case 1:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"clinicalDataGroupedBySampleMap",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.clinicalDataGroupedBySample]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.kx)(this.clinicalDataGroupedBySample.result));case 1:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"getWholeSlideViewerIds",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.clinicalDataGroupedBySample]},invoke:function(){var e=n.clinicalDataGroupedBySample.result;if(e){var t=o().chain(e).map((function(e){return e.clinicalData})).flatten().filter((function(e){return"MSK_SLIDE_ID"===e.clinicalAttributeId})).map((function(e){return e.value})).value();return Promise.resolve(t)}return Promise.resolve([])}})}),Object.defineProperty(this,"studyMetaData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.Z.getStudyUsingGET({studyId:this.studyId}));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"sampleManager",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.patientViewDataForAllSamplesForPatient,n.studyMetaData,n.clinicalEvents]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.patientViewDataForAllSamplesForPatient.result,!(this.clinicalEvents.result.length>0)){e.next=5;break}return e.abrupt("return",new Oe.ZP(t.samples,this.sampleIds,this.clinicalEvents.result));case 5:return e.abrupt("return",new Oe.ZP(t.samples,this.sampleIds,void 0));case 6:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"patientViewData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.clinicalDataPatient,n.clinicalDataForSamples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(this.patientId,this.studyId,this.sampleIds,this.clinicalDataPatient.result,this.clinicalDataForSamples.result));case 1:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"patientViewDataForAllSamplesForPatient",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.clinicalDataPatient,n.allSamplesForPatient,n.clinicalDataForAllSamplesForPatient]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ke(this.patientId,this.studyId,this.allSamplesForPatient.result.map((function(e){return e.sampleId})),this.clinicalDataPatient.result,this.clinicalDataForAllSamplesForPatient.result));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"sequencedSampleIdsInStudy",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c.cD,e.next=3,g.Z.getAllSampleIdsInSampleListUsingGET({sampleListId:"".concat(this.studyId,"_sequenced")});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},{})}),Object.defineProperty(this,"molecularProfilesInStudy",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)((function(){return g.Z.getAllMolecularProfilesInStudyUsingGET({studyId:n.studyId})}),[])}),Object.defineProperty(this,"studyIdToMolecularProfiles",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Promise.resolve(o().groupBy(n.molecularProfilesInStudy.result,(function(e){return e.studyId})))},onError:function(e){},default:{}})}),Object.defineProperty(this,"molecularProfileIdToMolecularProfile",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Promise.resolve(n.molecularProfilesInStudy.result.reduce((function(e,t){return e[t.molecularProfileId]=t,e}),{}))}},{})}),Object.defineProperty(this,"referenceGenes",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.studies,n.discreteCNAData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.N_)(this.studies.result[0].referenceGenome,this.discreteCNAData.result.map((function(e){return e.gene.hugoGeneSymbol.toUpperCase()}))));case 1:case"end":return e.stop()}}),e,this)})))},onError:function(e){throw e}})}),Object.defineProperty(this,"mrnaRankMolecularProfileId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.X9)(this.molecularProfilesInStudy.result.map((function(e){return e.molecularProfileId}))));case 1:case"end":return e.stop()}}),e,this)})))}},null)}),Object.defineProperty(this,"discreteCNAData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfileIdDiscrete,n.samples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sampleIds:this.sampleIds},e.abrupt("return",(0,le.v8)(t,this.molecularProfileIdDiscrete));case 2:case"end":return e.stop()}}),e,this)})))},onResult:function(e){n.discreteCNACache.addData(e)}},[])}),Object.defineProperty(this,"molecularData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.discreteCNAData]},invoke:function(){return Promise.resolve(n.discreteCNAData.result.map((function(e){return Object.assign(Object.assign({},e),{value:e.alteration})})))}},[])}),Object.defineProperty(this,"gisticData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.S7)(this.studyId));case 1:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"clinicalEvents",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.patientViewData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Z.getAllClinicalEventsOfPatientInStudyUsingGET({studyId:this.studyId,patientId:this.patientId,projection:"DETAILED"});case 2:return t=e.sent,e.abrupt("return",o().sortBy(t,(function(e){return e.startNumberOfDaysSinceDiagnosis})));case 4:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"molecularProfileIdDiscrete",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfilesInStudy]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.HM)(this.molecularProfilesInStudy));case 1:case"end":return e.stop()}}),e,this)})))}})}),Object.defineProperty(this,"studyToMolecularProfileDiscrete",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfileIdDiscrete]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.molecularProfileIdDiscrete.result){e.next=5;break}return e.next=4,g.Z.getMolecularProfileUsingGET({molecularProfileId:this.molecularProfileIdDiscrete.result});case 4:t[this.studyId]=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"darwinUrl",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.derivedPatientId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==(0,_e.Ib)().enable_darwin){e.next=7;break}return e.next=3,N().get((0,B.Nt)(this.sampleIds,this.patientId));case 3:return t=e.sent,e.abrupt("return",t.text);case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}}),e,this)})))},onError:function(){}})}),Object.defineProperty(this,"hasTissueImageIFrameUrl",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.derivedPatientId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be(this.patientId));case 1:case"end":return e.stop()}}),e,this)})))},onError:function(){}},!1)}),Object.defineProperty(this,"uncalledMutationData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.uncalledMutationMolecularProfileId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sampleIds:this.samples.result.map((function(e){return e.sampleId}))},e.abrupt("return",(0,le.Iy)(t,this.uncalledMutationMolecularProfileId.result));case 2:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"genePanelData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.molecularProfilesInStudy]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.samples.result.forEach((function(e){var n=r.molecularProfilesInStudy.result;if(n){var a=e.sampleId,o=!0,i=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value;t.push({molecularProfileId:s.molecularProfileId,sampleId:a})}}catch(e){i=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}}})),n=[],!t.length){e.next=7;break}return e.next=6,g.Z.fetchGenePanelDataInMultipleMolecularProfilesUsingPOST({genePanelDataMultipleStudyFilter:{sampleMolecularIdentifiers:t}});case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"genePanels",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.genePanelData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.genePanelData.result,!(n=o().uniq(t.map((function(e){return e.genePanelId})).filter((function(e){return!!e})))).length){e.next=4;break}return e.abrupt("return",g.Z.fetchGenePanelsUsingPOST({genePanelIds:n,projection:"DETAILED"}));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"genePanelIdToPanel",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.genePanels]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o().keyBy(this.genePanels.result,(function(e){return e.genePanelId})));case 1:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"coverageInformation",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutatedGenes,n.samplesWithUniqueKeys,n.genePanelData,n.genePanels]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,ce.B)(this.genePanelData.result,this.genePanels.result,this.samplesWithUniqueKeys.result,[{uniquePatientKey:this.samplesWithUniqueKeys.result[0].uniquePatientKey}],this.mutatedGenes.result));case 1:case"end":return e.stop()}}),e,this)})))}},{samples:{},patients:{}})}),Object.defineProperty(this,"genePanelDataByMolecularProfileIdAndSampleId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.genePanelData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o().chain(this.genePanelData.result).groupBy((function(e){return e.molecularProfileId})).mapValues((function(e){return o().keyBy(e,(function(e){return e.sampleId}))})).value());case 1:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"mutationData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.mutationMolecularProfileId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sampleIds:this.sampleIds},e.abrupt("return",(0,le.Iy)(t,this.mutationMolecularProfileId.result));case 2:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"structuralVariantData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.structuralVariantProfile]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.structuralVariantProfile.result){e.next=3;break}return t={sampleMolecularIdentifiers:this.sampleIds.map((function(e){return{molecularProfileId:n.structuralVariantProfile.result.molecularProfileId,sampleId:e}}))},e.abrupt("return",g.Z.fetchStructuralVariantsUsingPOST({structuralVariantFilter:t}));case 3:return e.abrupt("return",[]);case 4:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(this,"groupedStructuralVariantData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.structuralVariantData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o()(this.structuralVariantData.result).groupBy(le.cz).values().value());case 1:case"end":return e.stop()}}),e,this)})))},default:[]})}),Object.defineProperty(this,"mutatedGenes",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData]},invoke:function(){return Promise.resolve(o().uniqBy(n.mutationData.result,(function(e){return e.entrezGeneId})).map((function(e){return{hugoGeneSymbol:e.gene.hugoGeneSymbol,entrezGeneId:e.entrezGeneId}})))}})}),Object.defineProperty(this,"oncoKbCancerGenes",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return(0,_e.Ib)().show_oncokb?(0,le.rV)():Promise.resolve([])}},[])}),Object.defineProperty(this,"oncoKbInfo",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return(0,_e.Ib)().show_oncokb?(0,le.uz)():Promise.resolve($.yj)}},$.yj)}),Object.defineProperty(this,"oncoKbAnnotatedGenes",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.oncoKbCancerGenes]},invoke:function(){return(0,_e.Ib)().show_oncokb?Promise.resolve(o().reduce(n.oncoKbCancerGenes.result,(function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e}),{})):Promise.resolve({})}},{})}),Object.defineProperty(this,"oncoKbData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.oncoKbAnnotatedGenes,n.mutationData,n.uncalledMutationData,n.clinicalDataForSamples,n.studiesForSamplesWithoutCancerTypeClinicalData,n.studies]},invoke:function(){return(0,_e.Ib)().show_oncokb?(0,le.YO)(n.uniqueSampleKeyToTumorType,n.oncoKbAnnotatedGenes.result||{},n.mutationData,void 0,n.uncalledMutationData):Promise.resolve({indicatorMap:null,uniqueSampleKeyToTumorType:null})},onError:function(e){}},le.Py)}),Object.defineProperty(this,"civicGenes",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.uncalledMutationData,n.clinicalDataForSamples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_e.Ib)().show_civic?(0,se.$K)(this.mutationData,this.uncalledMutationData):{});case 1:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},void 0)}),Object.defineProperty(this,"civicVariants",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.civicGenes,n.mutationData,n.uncalledMutationData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,_e.Ib)().show_civic||!this.civicGenes.result){e.next=4;break}return e.abrupt("return",(0,se.SH)(this.civicGenes.result,this.mutationData,this.uncalledMutationData));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},void 0)}),Object.defineProperty(this,"cnaOncoKbData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.oncoKbAnnotatedGenes,n.discreteCNAData,n.clinicalDataForSamples,n.studies]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,_e.Ib)().show_oncokb){e.next=4;break}return e.abrupt("return",(0,le.rk)(this.uniqueSampleKeyToTumorType,this.oncoKbAnnotatedGenes.result||{},this.discreteCNAData));case 4:return e.abrupt("return",le.Py);case 5:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},le.Py)}),Object.defineProperty(this,"structuralVariantOncoKbData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.oncoKbAnnotatedGenes,n.structuralVariantData,n.clinicalDataForSamples,n.studies]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,_e.Ib)().show_oncokb){e.next=4;break}return e.abrupt("return",(0,le.R5)(this.uniqueSampleKeyToTumorType,this.oncoKbAnnotatedGenes.result||{},this.structuralVariantData));case 4:return e.abrupt("return",le.Py);case 5:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},le.Py)}),Object.defineProperty(this,"cnaCivicGenes",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.discreteCNAData,n.clinicalDataForSamples]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_e.Ib)().show_civic?(0,se.l8)(this.discreteCNAData):{});case 1:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},void 0)}),Object.defineProperty(this,"cnaCivicVariants",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.civicGenes,n.mutationData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("complete"!=this.cnaCivicGenes.status){e.next=2;break}return e.abrupt("return",(0,se.SH)(this.cnaCivicGenes.result));case 2:case"end":return e.stop()}}),e,this)})))},onError:function(e){}},void 0)}),Object.defineProperty(this,"copyNumberCountData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.discreteCNAData]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.YJ)(this.discreteCNAData,this.molecularProfileIdDiscrete));case 1:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"indexedHotspotData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.hotspotData]},invoke:function(){return Promise.resolve((0,De.uh)(n.hotspotData))}})}),Object.defineProperty(this,"sampleToMutationGenePanelId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationMolecularProfileId,n.genePanelDataByMolecularProfileIdAndSampleId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationMolecularProfileId.result){e.next=2;break}return e.abrupt("return",o().mapValues(this.genePanelDataByMolecularProfileIdAndSampleId.result[this.mutationMolecularProfileId.result]||{},(function(e){return e.genePanelId})));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"sampleToStructuralVariantGenePanelId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.structuralVariantProfile,n.genePanelDataByMolecularProfileIdAndSampleId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.structuralVariantProfile.result){e.next=2;break}return e.abrupt("return",o().mapValues(this.genePanelDataByMolecularProfileIdAndSampleId.result[this.structuralVariantProfile.result.molecularProfileId]||{},(function(e){return e.genePanelId})));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"sampleToDiscreteGenePanelId",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.molecularProfileIdDiscrete,n.genePanelDataByMolecularProfileIdAndSampleId]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.molecularProfileIdDiscrete.result){e.next=2;break}return e.abrupt("return",o().mapValues(this.genePanelDataByMolecularProfileIdAndSampleId.result[this.molecularProfileIdDiscrete.result]||{},(function(e){return e.genePanelId})));case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"genePanelIdToEntrezGeneIds",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.genePanelIdToPanel]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o()(this.genePanelIdToPanel.result).mapValues((function(e){return o().map(e.genes,(function(e){return e.entrezGeneId}))})).value());case 1:case"end":return e.stop()}}),e,this)})))}},{})}),Object.defineProperty(this,"getDiscreteCNAPutativeDriverInfo",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.getOncoKbCnaAnnotationForOncoprint]},invoke:function(){return Promise.resolve((function(e){var t=n.getOncoKbCnaAnnotationForOncoprint.result,r=t&&!(t instanceof Error)&&t(e);return(0,le.Kw)(e,r,!1,void 0)}))}})}),Object.defineProperty(this,"mutationTableShowGeneFilterMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.sampleToMutationGenePanelId,n.genePanelIdToEntrezGeneIds]},invoke:function(){var e=o().uniq(o().map(n.mergedMutationDataIncludingUncalled,(function(e){return e[0].entrezGeneId}))),t=n.samples.result.map((function(e){return e.sampleId}));return Promise.resolve(t.length>1&&Pe(t,e,n.sampleToMutationGenePanelId.result,n.genePanelIdToEntrezGeneIds.result))}})}),Object.defineProperty(this,"cnaTableShowGeneFilterMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.sampleToMutationGenePanelId,n.genePanelIdToEntrezGeneIds]},invoke:function(){var e=o().uniq(o().map(n.mergedDiscreteCNAData,(function(e){return e[0].entrezGeneId}))),t=n.samples.result.map((function(e){return e.sampleId}));return Promise.resolve(t.length>1&&Pe(t,e,n.sampleToMutationGenePanelId.result,n.genePanelIdToEntrezGeneIds.result))}})}),Object.defineProperty(this,"structuralVariantTableShowGeneFilterMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.samples,n.sampleToStructuralVariantGenePanelId,n.genePanelIdToEntrezGeneIds,n.groupedStructuralVariantData]},invoke:function(){var e=o().uniq(o().flatMap(n.groupedStructuralVariantData.result,(function(e){return e[0].site2EntrezGeneId?[e[0].site1EntrezGeneId,e[0].site2EntrezGeneId]:[e[0].site1EntrezGeneId]}))),t=n.samples.result.map((function(e){return e.sampleId}));return Promise.resolve(t.length>1&&Pe(t,e,n.sampleToStructuralVariantGenePanelId.result,n.genePanelIdToEntrezGeneIds.result))},default:!1})}),Object.defineProperty(this,"trialMatches",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return function(e){return me(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,B.zt)("api/matchminer/api"),t.abrupt("return",G.post(n+"/post_trial_match").set("Content-Type","application/json").send(e).then((function(e){return JSON.parse(e.text).map((function(e){return{id:e.nct_id+"+"+e.protocol_no,nctId:e.nct_id,protocolNo:e.protocol_no,gender:e.gender?e.gender:"",matchType:e.match_type?e.match_type:"",armDescription:e.arm_description?e.arm_description:"",armType:e.arm_type?e.arm_type:"",sampleId:e.sample_id,mrn:e.mrn,vitalStatus:e.vital_status?e.vital_status:"",genomicAlteration:e.genomic_alteration?e.genomic_alteration:"",trueHugoSymbol:e.true_hugo_symbol?e.true_hugo_symbol:"",trueProteinChange:e.true_protein_change?e.true_protein_change:"",oncotreePrimaryDiagnosisName:e.oncotreePrimaryDiagnosisName?e.oncotreePrimaryDiagnosisName:"",trialAgeNumerical:e.trial_age_numerical?e.trial_age_numerical:"",trialOncotreePrimaryDiagnosis:e.trial_oncotree_primary_diagnosis?e.trial_oncotree_primary_diagnosis:""}}))})));case 2:case"end":return t.stop()}}),t)})))}({mrn:n.patientId})}},[])}),Object.defineProperty(this,"trialIds",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.trialMatches]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set,n=new Set,o().forEach(this.trialMatches.result,(function(e){o().isEmpty(e.protocolNo)?t.add(e.nctId):n.add(e.protocolNo)})),e.abrupt("return",{nct_id:xe(t),protocol_no:xe(n)});case 4:case"end":return e.stop()}}),e,this)})))}},{nct_id:[],protocol_no:[]})}),Object.defineProperty(this,"trials",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.trialIds]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trialIds.result.protocol_no.length>0||this.trialIds.result.nct_id.length>0)){e.next=2;break}return e.abrupt("return",be(this.trialIds.result));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"detailedTrialMatches",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.trials,n.trialMatches]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.trials.result||!this.trialMatches.result){e.next=2;break}return e.abrupt("return",(0,he.K0)(this.trials.result,this.trialMatches.result));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e,this)})))}},[])}),Object.defineProperty(this,"oncoKbDataForOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.oncoKbAnnotatedGenes]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.j3)(this.oncoKbAnnotatedGenes,this.mutationData));case 1:case"end":return e.stop()}}),e,this)})))}},le.Py)}),Object.defineProperty(this,"cnaOncoKbDataForOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.oncoKbAnnotatedGenes,n.molecularData,n.molecularProfileIdToMolecularProfile]},invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,le.x1)(this.oncoKbAnnotatedGenes,this.molecularData));case 1:case"end":return e.stop()}}),e,this)})))}},le.Py)}),Object.defineProperty(this,"getMutationPutativeDriverInfo",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.getOncoKbMutationAnnotationForOncoprint,n.isHotspotForOncoprint]},invoke:function(){return Promise.resolve((function(e){var t=n.getOncoKbMutationAnnotationForOncoprint.result,r=t&&!(t instanceof Error)&&t(e),a=!(n.isHotspotForOncoprint.result instanceof Error)&&n.isHotspotForOncoprint.result(e);return(0,le.S4)(e,r,!0,a,!1,!1,!1,!1,!1,void 0)}))}})}),Object.defineProperty(this,"getOncoKbMutationAnnotationForOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.oncoKbDataForOncoprint]},invoke:function(){return(0,le.AE)(n.oncoKbDataForOncoprint)}})}),Object.defineProperty(this,"getOncoKbCnaAnnotationForOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.cnaOncoKbDataForOncoprint]},invoke:function(){return(0,le.Qn)(n.cnaOncoKbDataForOncoprint,!0)}})}),Object.defineProperty(this,"isHotspotForOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.indexedHotspotData]},invoke:function(){return(0,le.Gm)(n.indexedHotspotData)}})}),Object.defineProperty(this,"entrezGeneIdToGene",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutatedGenes,n.referenceGenes]},invoke:function(){return Promise.resolve(o().keyBy([].concat(xe(n.mutatedGenes.result),xe(n.referenceGenes.result)),(function(e){return e.entrezGeneId})))}})}),Object.defineProperty(this,"geneticTrackData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.mutationData,n.discreteCNAData,n.samplesWithUniqueKeys,n.molecularProfileIdDiscrete,n.mutationMolecularProfile,n.discreteMolecularProfile,n.coverageInformation,n.getMutationPutativeDriverInfo,n.entrezGeneIdToGene,n.getOncoKbCnaAnnotationForOncoprint,n.getDiscreteCNAPutativeDriverInfo]},invoke:function(){return Promise.resolve(o().mapValues(n.caseAggregatedAlterationDataGroupedByGene,(function(e){return(0,Te.lG)(e.samples,o().values(e.samples)[0][0].hugoGeneSymbol,n.samplesWithUniqueKeys.result,n.coverageInformation.result,o().compact([n.mutationMolecularProfile.result,n.discreteMolecularProfile.result]))})))}})}),Object.defineProperty(this,"getOtherBiomarkersOncoKbData",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({invoke:function(){return Fe(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.annotateMutationsByProteinChangePostUsingPOST_1({body:this.otherBiomarkerQueries});case 2:return t=e.sent,n=t.map((function(e){return Object.assign(Object.assign({},e),(0,le.gW)(e.query.id))})),e.abrupt("return",o().chain(n).groupBy((function(e){return e.sampleId})).mapValues((function(e){return o().keyBy(e,(function(e){return e.type}))})).value());case 5:case"end":return e.stop()}}),e,this)})))},default:{}})}),(0,P.makeObservable)(this),this.internalClient=v.Z}var t,n,r;return t=e,(n=[{key:"isResourceTabOpen",value:function(e){return!!this.openResourceTabMap.get(e)}},{key:"setResourceTabOpen",value:function(e,t){this.openResourceTabMap.set(e,t)}},{key:"onFilterGenesStructuralVariantTable",value:function(e){this.structuralVariantTableGeneFilterOption=e}},{key:"setMutationalSignaturesVersion",value:function(e){this._selectedMutationalSignatureVersion=e}},{key:"setSampleId",value:function(e){e&&(this._patientId=""),this._sampleId=e}},{key:"setPatientId",value:function(e){e&&(this._sampleId=""),this._patientId=e}},{key:"setActiveTabId",value:function(e){this.activeTabId=e}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"generateGenomeNexusHgvsgUrl",value:function(e){return(0,B.Mk)(e,this.referenceGenomeBuild)}},{key:"getOtherBiomarkerQueries",value:function(e,t){var n=this;return o().values(t).map((function(t){var r;return{id:(0,le.Is)({sampleId:t.sampleId,type:e}),alteration:$.nQ[e],gene:{hugoSymbol:$.OI},tumorType:(0,le.Pg)((0,le.CD)(n.clinicalDataForSamples.result,null===(r=n.studyMetaData.result)||void 0===r?void 0:r.cancerType.name))}}))}},{key:"patientId",get:function(){return this._patientId?this._patientId:this.derivedPatientId.result}},{key:"sampleId",get:function(){return this._sampleId}},{key:"pageTitle",get:function(){return"patient"===this.pageMode?"Patient: ".concat(this.patientId):"Sample: ".concat(this.sampleId)}},{key:"metaDescription",get:function(){var e="patient"===this.pageMode?this.patientId:this.sampleId;return"".concat(e," from ").concat(this.studyMetaData.result.name)}},{key:"pageMode",get:function(){return this._sampleId?"sample":"patient"}},{key:"caseId",get:function(){return"sample"===this.pageMode?this.sampleId:this.patientId}},{key:"patientIdsInCohort",set:function(e){var t=this;(0,P.runInAction)((function(){return t._patientIdsInCohort=e}))},get:function(){var e=(0,de.n4)();return e||this._patientIdsInCohort}},{key:"selectedMutationalSignatureVersion",get:function(){return this._selectedMutationalSignatureVersion}},{key:"studyToCancerType",get:function(){return(0,le.AK)(this.studies.result)}},{key:"mergedDiscreteCNAData",get:function(){return(0,le.jt)(this.discreteCNAData)}},{key:"usingPublicOncoKbInstance",get:function(){return this.oncoKbInfo.result?this.oncoKbInfo.result.publicInstance:$.s6}},{key:"mergeOncoKbIcons",get:function(){return(0,Ae.BZ)().mergeIcons}},{key:"sampleIds",get:function(){return this.samples.result?this.samples.result.map((function(e){return e.sampleId})):[]}},{key:"mergedMutationData",get:function(){return(0,le.cc)(this.mutationData)}},{key:"mergedMutationDataIncludingUncalled",get:function(){return(0,le.r0)(this.mutationData,this.uncalledMutationData)}},{key:"annotatedExtendedAlterationData",get:function(){var e=this,t=(0,le.$Z)(o().flatten(this.mergedMutationDataIncludingUncalledFilteredByGene),this.getMutationPutativeDriverInfo.result,this.entrezGeneIdToGene.result),n=[].concat(xe(t.data),xe(t.vusAndGermline),xe(t.vus),xe(t.germline)),r=(0,le.BZ)(o().flatten(this.mergedDiscreteCNADataFilteredByGene).map((function(e){return Object.assign(Object.assign({},e),{value:e.alteration})})),this.getDiscreteCNAPutativeDriverInfo.result,this.entrezGeneIdToGene),a=[].concat(xe(r.data),xe(r.vus)).map((function(t){return Object.assign(Object.assign({},t),{molecularProfileAlterationType:e.discreteMolecularProfile.result.molecularAlterationType,alterationType:Me.YK.COPY_NUMBER_ALTERATION,alterationSubType:Ee.Lm[t.value]})})),i=n.map((function(t){var n="fusion"===(0,Ee.B$)(t.mutationType)?Me.YK.FUSION:Me.YK.MUTATION_EXTENDED;return Object.assign(Object.assign({},t),{molecularProfileAlterationType:e.mutationMolecularProfile.result.molecularAlterationType,alterationType:n,alterationSubType:(0,Ee.nJ)(t)||"",value:0})}));return[].concat(xe(i),xe(a))}},{key:"caseAggregatedAlterationDataGroupedByGene",get:function(){var e=o().groupBy(this.annotatedExtendedAlterationData,(function(e){return e.hugoGeneSymbol}));return o().mapValues(e,(function(e){return{samples:o().groupBy(e,(function(e){return e.uniqueSampleKey}))}}))}},{key:"mergedMutationDataFilteredByGene",get:function(){return this.mutationTableGeneFilterOption===ye.X.ALL_SAMPLES?Ue(this.mergedMutationData,this.sampleIds,this.sampleToMutationGenePanelId.result,this.genePanelIdToEntrezGeneIds.result):this.mergedMutationData}},{key:"mergedMutationDataIncludingUncalledFilteredByGene",get:function(){return this.mutationTableGeneFilterOption===ye.X.ALL_SAMPLES?Ue(this.mergedMutationDataIncludingUncalled,this.sampleIds,this.sampleToMutationGenePanelId.result,this.genePanelIdToEntrezGeneIds.result):this.mergedMutationDataIncludingUncalled}},{key:"mergedDiscreteCNADataFilteredByGene",get:function(){var e=this;return this.copyNumberTableGeneFilterOption===ye.X.ALL_SAMPLES?o().filter(this.mergedDiscreteCNAData,(function(t){var n=t[0].gene.entrezGeneId,r=ge.Z.getProfiledSamplesForGene(n,e.sampleIds,e.sampleToMutationGenePanelId.result,e.genePanelIdToEntrezGeneIds.result);return o()(r).values().filter((function(e){return e})).value().length===e.sampleIds.length})):this.mergedDiscreteCNAData}},{key:"existsSomeMutationWithVAFData",get:function(){return o().some(this.mergedMutationDataIncludingUncalled,(function(e){return o().some(e,(function(e){var t=(0,ve.tR)(e);return null!==t&&t.vaf>0}))}))}},{key:"existsSomeMutationWithAscnProperty",get:function(){return(0,le.xT)(this.mergedMutationDataIncludingUncalled)}},{key:"uniqueSampleKeyToTumorType",get:function(){return(0,le.F)(this.clinicalDataForSamples,this.studiesForSamplesWithoutCancerTypeClinicalData,this.samplesWithoutCancerTypeClinicalData)}},{key:"mrnaExprRankCache",get:function(){return new V(this.mrnaRankMolecularProfileId.result)}},{key:"variantCountCache",get:function(){return new X(this.mutationMolecularProfileId.result)}},{key:"discreteCNACache",get:function(){return new F.Z(this.studyToMolecularProfileDiscrete.result)}},{key:"genomeNexusCache",get:function(){return new K.ZP((0,Se.B5)(["annotation_summary"],this.genomeNexusClient))}},{key:"genomeNexusMutationAssessorCache",get:function(){return new L.ZP((0,Se.B5)(["annotation_summary","mutation_assessor"],this.genomeNexusClient))}},{key:"pubMedCache",get:function(){return new U.Z}},{key:"copyNumberCountCache",get:function(){return new oe(this.molecularProfileIdDiscrete.result)}},{key:"cancerTypeCache",get:function(){return new ie.Z}},{key:"mutationCountCache",get:function(){return new ue.Z}},{key:"downloadDataFetcher",get:function(){return new fe.q(this.mutationData)}},{key:"referenceGenomeBuild",get:function(){if(!this.studies.isComplete)throw new Error("Failed to get studies");return(0,le.Hr)(this.studies.result)}},{key:"genomeNexusClient",get:function(){return new W.I0(this.referenceGenomeBuild)}},{key:"genomeNexusInternalClient",get:function(){return new W.bQ(this.referenceGenomeBuild)}},{key:"sampleMsiHInfo",get:function(){return(0,le.uK)(this.clinicalDataForSamples.result,"MSI_TYPE",["Instable"])}},{key:"sampleTmbHInfo",get:function(){return(0,le.Uz)(this.clinicalDataForSamples.result,"CVR_TMB_SCORE",Ce.SK)}},{key:"otherBiomarkerQueries",get:function(){var e=[];return o().keys(this.sampleMsiHInfo).length>0&&e.push.apply(e,xe(this.getOtherBiomarkerQueries($.Wz.MSIH,this.sampleMsiHInfo))),o().keys(this.sampleTmbHInfo).length>0&&e.push.apply(e,xe(this.getOtherBiomarkerQueries($.Wz.TMBH,this.sampleTmbHInfo))),e}}])&&Ve(t.prototype,n),r&&Ve(t,r),e}();Ne([P.observable],Le.prototype,"activeTabId",void 0),Ne([P.observable],Le.prototype,"_patientId",void 0),Ne([P.computed],Le.prototype,"patientId",null),Ne([P.observable],Le.prototype,"urlValidationError",void 0),Ne([P.observable],Le.prototype,"ajaxErrors",void 0),Ne([P.observable],Le.prototype,"studyId",void 0),Ne([P.observable],Le.prototype,"_sampleId",void 0),Ne([Ie.default],Le.prototype,"isResourceTabOpen",null),Ne([P.action.bound],Le.prototype,"setResourceTabOpen",null),Ne([P.action.bound],Le.prototype,"onFilterGenesStructuralVariantTable",null),Ne([P.observable],Le.prototype,"mutationTableGeneFilterOption",void 0),Ne([P.observable],Le.prototype,"copyNumberTableGeneFilterOption",void 0),Ne([P.observable],Le.prototype,"structuralVariantTableGeneFilterOption",void 0),Ne([P.computed],Le.prototype,"sampleId",null),Ne([P.computed],Le.prototype,"pageTitle",null),Ne([P.computed],Le.prototype,"metaDescription",null),Ne([P.computed],Le.prototype,"pageMode",null),Ne([P.computed],Le.prototype,"caseId",null),Ne([P.observable],Le.prototype,"_patientIdsInCohort",void 0),Ne([P.computed],Le.prototype,"patientIdsInCohort",null),Ne([P.observable],Le.prototype,"_selectedMutationalSignatureVersion",void 0),Ne([P.computed],Le.prototype,"selectedMutationalSignatureVersion",null),Ne([P.action],Le.prototype,"setMutationalSignaturesVersion",null),Ne([P.computed],Le.prototype,"studyToCancerType",null),Ne([P.computed],Le.prototype,"mergedDiscreteCNAData",null),Ne([P.computed],Le.prototype,"usingPublicOncoKbInstance",null),Ne([P.computed],Le.prototype,"mergeOncoKbIcons",null),Ne([P.computed],Le.prototype,"sampleIds",null),Ne([P.computed],Le.prototype,"mergedMutationData",null),Ne([P.computed],Le.prototype,"mergedMutationDataIncludingUncalled",null),Ne([P.computed],Le.prototype,"annotatedExtendedAlterationData",null),Ne([P.computed],Le.prototype,"caseAggregatedAlterationDataGroupedByGene",null),Ne([P.computed],Le.prototype,"mergedMutationDataFilteredByGene",null),Ne([P.computed],Le.prototype,"mergedMutationDataIncludingUncalledFilteredByGene",null),Ne([P.computed],Le.prototype,"mergedDiscreteCNADataFilteredByGene",null),Ne([P.computed],Le.prototype,"existsSomeMutationWithVAFData",null),Ne([P.computed],Le.prototype,"existsSomeMutationWithAscnProperty",null),Ne([P.computed],Le.prototype,"uniqueSampleKeyToTumorType",null),Ne([(0,P.action)("SetSampleId")],Le.prototype,"setSampleId",null),Ne([(0,P.action)("SetPatientId")],Le.prototype,"setPatientId",null),Ne([I.cached,P.computed],Le.prototype,"mrnaExprRankCache",null),Ne([I.cached,P.computed],Le.prototype,"variantCountCache",null),Ne([I.cached,P.computed],Le.prototype,"discreteCNACache",null),Ne([I.cached,P.computed],Le.prototype,"genomeNexusCache",null),Ne([I.cached,P.computed],Le.prototype,"genomeNexusMutationAssessorCache",null),Ne([I.cached,P.computed],Le.prototype,"pubMedCache",null),Ne([I.cached,P.computed],Le.prototype,"copyNumberCountCache",null),Ne([I.cached,P.computed],Le.prototype,"cancerTypeCache",null),Ne([I.cached,P.computed],Le.prototype,"mutationCountCache",null),Ne([I.cached,P.computed],Le.prototype,"downloadDataFetcher",null),Ne([P.action],Le.prototype,"setActiveTabId",null),Ne([P.action],Le.prototype,"clearErrors",null),Ne([P.computed],Le.prototype,"referenceGenomeBuild",null),Ne([Ie.default],Le.prototype,"generateGenomeNexusHgvsgUrl",null),Ne([P.computed],Le.prototype,"genomeNexusClient",null),Ne([P.computed],Le.prototype,"genomeNexusInternalClient",null),Ne([P.computed],Le.prototype,"sampleMsiHInfo",null),Ne([P.computed],Le.prototype,"sampleTmbHInfo",null),Ne([P.computed],Le.prototype,"otherBiomarkerQueries",null);var We=n(27808),$e=n(55522),Ze=n(21015),qe=n(76160);function He(e){return function(e,t){var n=o().reduce(e,(function(e,t,n){return t&&t.length>0&&(e[n]=t),e}),{});try{return(0,qe.Gu)(n,t),{isValid:!0,message:null}}catch(e){return{isValid:!1,message:e.message}}}(e,["studyId",["sampleId","caseId"]])}var ze=n(36903);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){function t(){return Ye(this,t),Je(this,et(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement("div",{className:"alert alert-danger urlError",role:"alert"},r.createElement("i",{className:"fa fa-warning","aria-hidden":"true"}),r.createElement("h3",null,"The URL is invalid"),r.createElement("ul",null,this.props.urlValidationError.split(".").map((function(e){return e.length>0?r.createElement("li",null,e):null}))))}}])&&Xe(n.prototype,a),o&&Xe(n,o),t}(r.Component),rt=n(55720),at=n(14069),ot=n(23368),it=n(61773),ut=n(23280),lt=n(58997),ct=n(83300),st=n(95497),pt=n(61089);function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yt=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ht(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},gt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?mt(e):t}(this,dt(t).call(this,e,{studyId:{isSessionProp:!1,isHashedProp:!0},caseId:{isSessionProp:!1,isHashedProp:!0},sampleId:{isSessionProp:!1,isHashedProp:!0},resourceUrl:{isSessionProp:!1},genomicEvolutionSettings:{isSessionProp:!1,nestedObjectProps:{showTimeline:"",clusterHeatmap:"",transposeHeatmap:"",showMutationLabelsInHeatmap:"",showOnlySelectedMutationsInChart:"",logScaleChart:"",yAxisDataRangeInChart:"",showOnlySelectedMutationsInTable:""}}})),(0,P.makeObservable)(mt(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,e),n=t,(r=[{key:"setActiveTab",value:function(e){this.updateURL({},"".concat(st._.Patient,"/").concat(e))}},{key:"setResourceUrl",value:function(e){this.updateURL({resourceUrl:e})}},{key:"activeTabId",get:function(){return this.pathName.split("/").pop()||pt.WQ.Summary}}])&&ft(n.prototype,r),a&&ft(n,a),t}(ct.Z);yt([P.computed],gt.prototype,"activeTabId",null);var vt=n(89353),wt=n(8152),Pt=n(34016),It=n(90048),St=n.n(It),Ot=n(76127),kt=n.n(Ot),Dt=n(21605);function Tt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _t=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Rt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},At=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Ct(e):t}(this,Et(t).call(this,e)),Object.defineProperty(Ct(n),"filter",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(Ct(n),"genesDividedToColumns",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var t=[],r=n.columnCount,o=Tt(e);r>0;){var i=(0,a.chunk)(o,Math.ceil(o.length/r));if(i.length===r){t=t.concat(i);break}t.push(i[0]),o=o.slice((0,a.flatten)(t).length),r--}return t}}),Object.defineProperty(Ct(n),"getDownloadData",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=[["Genes"]].concat(Tt(n.props.genePanel.genes.map((function(e){return[e.hugoGeneSymbol]}))));return(0,Pt.L)(e)}}),Object.defineProperty(Ct(n),"genesDividedToRows",{enumerable:!0,configurable:!0,writable:!0,value:function(e){for(var t=n.genesDividedToColumns(e),r=[],a=n.geneCountPerColumn(e.length),o=0;o<a;o++){for(var i=[],u=0;u<n.columnCount;u++)i.push(t[u]&&t[u][o]?t[u][o].hugoGeneSymbol:"");r.push(i)}return r}}),Object.defineProperty(Ct(n),"geneCountPerColumn",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return Math.ceil(e/n.columnCount)}}),(0,P.makeObservable)(Ct(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,e),n=t,(o=[{key:"handleChangeInput",value:function(e){this.filter=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{id:this.props.id,className:St().genesList},r.createElement("h4",{className:St().panelName},this.props.genePanel.genePanelId),r.createElement("span",null,"Number of genes: ",this.props.genePanel.genes.length),r.createElement("div",{className:kt()("pull-right has-feedback input-group-sm",St().searchInput)},r.createElement("input",{type:"text",value:this.filter,onInput:function(t){return e.handleChangeInput(t.target.value)},className:"form-control"}),r.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true"})),r.createElement(wt.h,{className:kt()("pull-right",St().copyDownloadControls),downloadData:this.getDownloadData,downloadFilename:"gene_panel_".concat(this.props.genePanel.genePanelId,".tsv"),controlsStyle:"BUTTON",containerId:this.props.id}),r.createElement(Dt.Z,{headers:this.renderTableHeaders,rows:this.renderTableRows,noRowsText:"No matches"}))}},{key:"filteredGenes",get:function(){var e=this.props.genePanel.genes;if(this.filter){var t=new RegExp(this.filter,"i");return e.filter((function(e){return t.test(e.entrezGeneId.toString())||t.test(e.hugoGeneSymbol)}))}return e}},{key:"renderTableRows",get:function(){var e=this.filteredGenes;if(0===e.length)return[];var t=[];return this.genesDividedToRows(e).forEach((function(e){var n=e.map((function(e){return r.createElement("td",{key:e||Math.random()},e)}));t.push(r.createElement("tr",null,n))})),t}},{key:"columnCount",get:function(){return this.props.columns||1}},{key:"renderTableHeaders",get:function(){return[r.createElement("th",null,"Genes")].concat(Array(this.columnCount-1).fill(r.createElement("th",null)))}}])&&Mt(n.prototype,o),i&&Mt(n,i),t}(r.Component);_t([P.observable],At.prototype,"filter",void 0),_t([P.action.bound],At.prototype,"handleChangeInput",null),_t([P.computed],At.prototype,"filteredGenes",null),_t([P.computed],At.prototype,"renderTableRows",null),_t([P.computed],At.prototype,"columnCount",null),_t([P.computed],At.prototype,"renderTableHeaders",null);const xt=At=_t([We.observer],At);function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kt=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Ut(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},Lt=function(e){function t(){return Vt(this,t),Nt(this,Ft(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(vt.Z,{panelName:"Gene Panel",show:this.props.show,onHide:this.props.onHide,className:St().patientViewModal},r.createElement(xt,{id:"patient-view-gene-panel",genePanel:this.props.genePanel,columns:this.props.columns}))}}])&&Gt(n.prototype,a),o&&Gt(n,o),t}(r.Component);const Wt=Lt=Kt([We.observer],Lt);var $t=n(35770),Zt=n(60727);var qt=n(79280);function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var en=function(e){function t(){return zt(this,t),Yt(this,Xt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=(0,Re.RK)(this.props.data[this.props.version],this.props.sampleId);return o().isEmpty(e)?null:r.createElement(c.ZD,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.makeTooltipContent(e),destroyTooltipOnHide:!1,onPopupAlign:c.ib},this.makeProgressBar(e))}},{key:"makeTooltipContent",value:function(e){return r.createElement("div",{style:{maxWidth:250},"data-test":"SignificantMutationalSignaturesTooltip"},r.createElement("div",null,o().map(e,(function(e){return r.createElement("div",null,r.createElement("a",{href:e.meta.url},e.meta.name),":",r.createElement("span",null,e.meta.description))}))),r.createElement("hr",{style:{marginTop:10,marginBottom:10}}),r.createElement("table",null,r.createElement("th",null,"Significant Mutational Signatures"),r.createElement("th",null,"Exposure"),e.map((function(e){return r.createElement("tr",null,r.createElement("td",{style:{paddingTop:3}},e.meta.name),r.createElement("td",{style:{paddingTop:3}},r.createElement(Re.rC,{contribution:e.value.toString(),color:(0,Re.V6)(e.meta.category)})))}))))}},{key:"makeProgressBar",value:function(e){var t=o().reduce(e,(function(e,t){var n=(0,Re.V6)(t.meta.category);return n in e?e[n]+=t.value:e[n]=t.value,e}),{}),n=o().map(t,(function(e,t){return r.createElement(qt.ProgressBar,{style:{backgroundColor:t},now:Math.floor(100*e),key:t})}));return r.createElement("span",{style:{padding:"0px 13px",height:20,width:100}},r.createElement(qt.ProgressBar,{style:{height:10,marginTop:4,marginBottom:0}},n))}}])&&Qt(n.prototype,a),i&&Qt(n,i),t}(r.Component),tn=function(e){return r.createElement("span",{className:"clinical-spans"},$.nQ[e.type],r.createElement("span",{style:{marginLeft:2,display:"flex"}},r.createElement($.P_,{usingPublicOncoKbInstance:e.isPublicOncoKbInstance,isCancerGene:!0,geneNotExist:!1,hugoGeneSymbol:$.OI,status:"complete",availableDataTypes:(0,De.I$)([e.annotation]),indicator:e.annotation})))};function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return!t||"object"!==nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cn=function(e){function t(){return rn(this,t),on(this,un(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,e),n=t,(a=[{key:"getOncoKbOtherBiomarkerAnnotationComponent",value:function(e,t){var n=(0,le.kj)(this.props.patientViewPageStore.clinicalDataForSamples.result,t,le.Ie[e]);return this.props.patientViewPageStore.getOtherBiomarkersOncoKbData.result[t][e]&&void 0!==n?r.createElement("span",null,","," ",r.createElement(tn,{type:e,isPublicOncoKbInstance:this.props.patientViewPageStore.usingPublicOncoKbInstance,annotation:this.props.patientViewPageStore.getOtherBiomarkersOncoKbData.result[t][e]})):null}},{key:"isPDX",value:function(e){return this.props.sampleManager&&this.props.sampleManager.clinicalDataLegacyCleanAndDerived&&this.props.sampleManager.clinicalDataLegacyCleanAndDerived[e.id]&&"Xenograft"===this.props.sampleManager.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE}},{key:"render",value:function(){var e=this,t=null;return(t=o().map(this.props.sampleManager.samples,(function(t){if(e.props.sampleManager.isSampleVisibleInHeader(t.id)){var n=e.isPDX(t);return r.createElement("div",{className:"patientSample"},r.createElement("span",{className:"clinical-spans"},e.props.sampleManager.getComponentForSample(t.id,1,"",r.createElement("span",{style:{display:"inline-flex"}}," ",n&&r.createElement("svg",{id:"Layer_2",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"15px",height:"15px",viewBox:"7.015 20 388.209 342.605","enable-background":"new 7.015 47.906 388.209 342.605"},r.createElement("path",{fill:"none",stroke:"#000000",strokeWidth:"20",strokeLinejoin:"bevel",strokeMiterlimit:"10",d:"M377.5,250.5 c-2.896,138.241-177.896,163.241-280.896,89.241"}),r.createElement("g",null,r.createElement("g",null,r.createElement("path",{fill:"#0C0202",stroke:"#000000",strokeMiterlimit:"10",d:"M10.5,251.5h377c0,0,66-275-201-185 C186.5,66.5-19.5,159.5,10.5,251.5z"})),r.createElement("path",{fill:"#0C0202",stroke:"#000000",strokeLinejoin:"bevel",strokeMiterlimit:"10",d:"M50.5,159.5 C-65.396,141.741,82.604,2.741,88.604,128.741"})),r.createElement("circle",{fill:"#FFFFFF",stroke:"#000000",strokeMiterlimit:"10",cx:"50.854",cy:"210.991",r:"21.25"})),n&&" ",r.createElement("a",{href:(0,B.Qk)(e.props.patientViewPageStore.studyMetaData.result.studyId,t.id),target:"_blank",onClick:function(n){return e.props.handleSampleClick(t.id,n)}},Oe.ZP.getClinicalAttributeInSample(t,"DISPLAY_SAMPLE_NAME")?"".concat(Oe.ZP.getClinicalAttributeInSample(t,"DISPLAY_SAMPLE_NAME").value," (").concat(t.id,")"):t.id),e.props.sampleManager&&e.props.sampleManager.clinicalDataLegacyCleanAndDerived[t.id]&&(0,l.wh)(e.props.sampleManager.clinicalDataLegacyCleanAndDerived[t.id])),e.props.toggleGenePanelModal,e.props.genePanelModal.isOpen),e.props.patientViewPageStore.getOtherBiomarkersOncoKbData.result[t.id]&&r.createElement(r.Fragment,null,e.getOncoKbOtherBiomarkerAnnotationComponent($.Wz.MSIH,t.id),e.getOncoKbOtherBiomarkerAnnotationComponent($.Wz.TMBH,t.id)),r.createElement(i.If,{condition:e.props.patientViewPageStore.hasMutationalSignatureData.result},r.createElement(i.Then,null,r.createElement(i.If,{condition:e.props.patientViewPageStore.mutationalSignatureDataGroupByVersion.isComplete},r.createElement(i.Then,null,r.createElement(en,{data:e.props.patientViewPageStore.mutationalSignatureDataGroupByVersion.result,sampleId:t.id,version:e.props.patientViewPageStore.selectedMutationalSignatureVersion})),r.createElement(i.Else,null,r.createElement(ze.Z,{isLoading:!0})))))))}})))&&t.length>0&&"sample"===this.props.patientViewPageStore.pageMode&&this.props.patientViewPageStore.patientId&&this.props.patientViewPageStore.allSamplesForPatient.result&&this.props.patientViewPageStore.allSamplesForPatient.result.length>1&&t.push(r.createElement("button",{className:"btn btn-default btn-xs",onClick:function(){return e.props.handlePatientClick(e.props.patientViewPageStore.patientId)}},"Show all"," ",this.props.patientViewPageStore.allSamplesForPatient.result.length," ","samples")),t}}])&&an(n.prototype,a),u&&an(n,u),t}(r.Component),sn=n(25120),pn=n(66798);function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gn=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":yn(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},vn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},wn=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?bn(e):t}(this,mn(t).call(this,e)),Object.defineProperty(bn(n),"mutationTableColumnVisibility",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"cnaTableColumnVisibility",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"genePanelModal",{enumerable:!0,configurable:!0,writable:!0,value:{genePanelId:"",isOpen:!1}}),Object.defineProperty(bn(n),"mergeMutationTableOncoKbIcons",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"urlWrapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"patientViewMutationDataStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"patientViewPageStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"activeLocus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(bn(n),"wholeSlideViewerUrl",{enumerable:!0,configurable:!0,writable:!0,value:(0,c.$w)({await:function(){return[n.patientViewPageStore.getWholeSlideViewerIds]},invoke:function(){return vn(bn(n),void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o().isEmpty(this.patientViewPageStore.getWholeSlideViewerIds.result)){e.next=11;break}return t=(0,B.QL)(this.patientViewPageStore.getWholeSlideViewerIds.result,this.props.appStore.userName),e.prev=2,e.next=5,N().get(t);case 5:return e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:return e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,8]])})))}})}),Object.defineProperty(bn(n),"resourceTabs",{enumerable:!0,configurable:!0,writable:!0,value:(0,$t.F)({await:function(){return[n.patientViewPageStore.resourceDefinitions,n.patientViewPageStore.resourceIdToResourceData]},render:function(){var e=n.patientViewPageStore.resourceDefinitions.result.filter((function(e){return n.patientViewPageStore.isResourceTabOpen(e.resourceId)})),t=o().sortBy(e,(function(e){return e.priority})),a=n.patientViewPageStore.resourceIdToResourceData.result;return t.reduce((function(e,t){var o=a[t.resourceId];return o&&o.length>0&&e.push(r.createElement(Ze.l6,{key:(0,pt.gR)(t.resourceId),id:(0,pt.gR)(t.resourceId),linkText:t.displayName,onClickClose:n.closeResourceTab},r.createElement(Zt.Z,{resourceData:a[t.resourceId],urlWrapper:n.urlWrapper}))),e}),[])}})}),(0,P.makeObservable)(bn(n)),n.urlWrapper=new gt(e.routing),(0,pn.Z)("urlWrapper",n.urlWrapper),n.patientViewPageStore=new Le(n.props.appStore),n.patientViewMutationDataStore=new rt.Z((function(){return n.mergedMutations}),n.urlWrapper),(0,c.hZ)().patientViewPageStore=n.patientViewPageStore;var a=n.urlWrapper.activeTabId&&(0,pt.tz)(n.urlWrapper.activeTabId);return a&&n.patientViewPageStore.setResourceTabOpen(a,!0),(0,P.reaction)((function(){return[n.urlWrapper.query.caseId,n.urlWrapper.query.studyId]}),(function(e){var t=fn(e,2),r=(t[0],t[1]);r&&n.props.routing.location.pathname.includes("/"+st._.Patient)&&(0,lt._r)(r)}),{fireImmediately:!0}),(0,P.reaction)((function(){return[e.routing.query,e.routing.location.hash,e.routing.location.pathname]}),(function(e){var t=fn(e,3),r=t[0],a=t[1];if(t[2].includes("/"+st._.Patient)){var o=He(r);if(o.isValid){n.patientViewPageStore.urlValidationError=null,"studyId"in r&&(n.patientViewPageStore.studyId=r.studyId),"caseId"in r?n.patientViewPageStore.setPatientId(r.caseId):"sampleId"in r&&n.patientViewPageStore.setSampleId(r.sampleId);var i=a.match(/navCaseIds=([^&]*)/);i&&i.length>1&&(n.patientViewPageStore.patientIdsInCohort=function(e){var t=this;return e.split(",").map((function(e){return e.includes(":")?e:t.studyId+":"+e}))}(i[1]))}else n.patientViewPageStore.urlValidationError=o.message}}),{fireImmediately:!0}),n.mergeMutationTableOncoKbIcons=n.patientViewPageStore.mergeOncoKbIcons,n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e,t=(0,c.hZ)().clientPostedData;t&&t.navCaseIds&&(this.patientViewPageStore.patientIdsInCohort=(e=t.navCaseIds,o().map(e,(function(e){return e.studyId+":"+e.patientId}))),(0,c.hZ)().clientPostedData=null)}},{key:"handleSampleClick",value:function(e,t){t.shiftKey||t.altKey||t.metaKey||(t.preventDefault(),this.urlWrapper.updateURL({caseId:void 0,sampleId:e}))}},{key:"handleLocusChange",value:function(e){this.activeLocus!==e&&(this.activeLocus=e)}},{key:"handleCNATableGeneClick",value:function(e){this.handleLocusChange(e)}},{key:"handlePatientClick",value:function(e){var t=e.split(":");2==t.length?this.urlWrapper.updateURL({studyId:t[0],caseId:t[1],sampleId:void 0}):this.urlWrapper.updateURL({caseId:e,sampleId:void 0})}},{key:"handleOncoKbIconToggle",value:function(e){this.mergeMutationTableOncoKbIcons=e,(0,Ae.qu)({mergeIcons:e})}},{key:"onCnaTableColumnVisibilityToggled",value:function(e,t){this.cnaTableColumnVisibility=(0,c.mw)(this.cnaTableColumnVisibility,e,t)}},{key:"onMutationTableColumnVisibilityToggled",value:function(e,t){this.mutationTableColumnVisibility=(0,c.mw)(this.mutationTableColumnVisibility,e,t)}},{key:"customTabMountCallback",value:function(e,t){(0,it.T)(e,t,this.props.routing.location,this.patientViewPageStore)}},{key:"onFilterGenesMutationTable",value:function(e){this.patientViewPageStore.mutationTableGeneFilterOption=e}},{key:"onFilterGenesCopyNumberTable",value:function(e){this.patientViewPageStore.copyNumberTableGeneFilterOption=e}},{key:"mutationTableShowGeneFilterMenu",value:function(e){var t=o().uniq(o().map(this.patientViewPageStore.mergedMutationDataIncludingUncalled,(function(e){return e[0].entrezGeneId})));return e.length>1&&Pe(e,t,this.patientViewPageStore.sampleToMutationGenePanelId.result,this.patientViewPageStore.genePanelIdToEntrezGeneIds.result)}},{key:"cnaTableShowGeneFilterMenu",value:function(e){var t=o().uniq(o().map(this.patientViewPageStore.mergedDiscreteCNAData,(function(e){return e[0].entrezGeneId})));return e.length>1&&Pe(e,t,this.patientViewPageStore.sampleToDiscreteGenePanelId.result,this.patientViewPageStore.genePanelIdToEntrezGeneIds.result)}},{key:"toggleGenePanelModal",value:function(e){this.genePanelModal={isOpen:!this.genePanelModal.isOpen,genePanelId:e||""}}},{key:"onMutationTableRowClick",value:function(e){e.length&&(this.patientViewMutationDataStore.toggleSelectedMutation(e[0]),this.handleLocusChange(e[0].gene.hugoGeneSymbol))}},{key:"onMutationTableRowMouseEnter",value:function(e){e.length&&this.patientViewMutationDataStore.setMouseOverMutation(e[0])}},{key:"onMutationTableRowMouseLeave",value:function(){this.patientViewMutationDataStore.setMouseOverMutation(null)}},{key:"openResource",value:function(e){this.patientViewPageStore.setResourceTabOpen(e.resourceId,!0),this.urlWrapper.setActiveTab((0,pt.gR)(e.resourceId)),this.urlWrapper.setResourceUrl(e.url)}},{key:"closeResourceTab",value:function(e){var t=(0,pt.tz)(e);t&&(this.patientViewPageStore.setResourceTabOpen(t,!1),this.urlWrapper.activeTabId===(0,pt.gR)(t)&&this.urlWrapper.setActiveTab(pt.WQ.FilesAndLinks))}},{key:"onMutationalSignatureVersionChange",value:function(e){this.patientViewPageStore.setMutationalSignaturesVersion(e)}},{key:"render",value:function(){var e=this,t=null;this.patientViewPageStore.sampleManager.isComplete&&(t=this.patientViewPageStore.sampleManager.result);var n=null,a=null;if(window.sampleManager=t,this.patientViewPageStore.urlValidationError)return r.createElement(nt,{urlValidationError:this.patientViewPageStore.urlValidationError});if(this.patientViewPageStore.studyMetaData.isComplete){var o=this.patientViewPageStore.studyMetaData.result;a=r.createElement(ut._,{className:"nowrap",studyId:o.studyId},o.name)}if(this.patientViewPageStore.patientIdsInCohort&&this.patientViewPageStore.patientIdsInCohort.length>0){var u=this.patientViewPageStore.patientIdsInCohort.indexOf(this.patientViewPageStore.studyId+":"+this.patientViewPageStore.patientId);n=r.createElement(y.jn,{currentPage:u+1,showMoreButton:!1,showItemsPerPageSelector:!1,showFirstPage:!0,showLastPage:!0,textBetweenButtons:" of ".concat(this.patientViewPageStore.patientIdsInCohort.length," patients"),firstPageDisabled:0===u,previousPageDisabled:0===u,nextPageDisabled:u===this.patientViewPageStore.patientIdsInCohort.length-1,lastPageDisabled:u===this.patientViewPageStore.patientIdsInCohort.length-1,onFirstPageClick:function(){return e.handlePatientClick(e.patientViewPageStore.patientIdsInCohort[0])},onPreviousPageClick:function(){return e.handlePatientClick(e.patientViewPageStore.patientIdsInCohort[u-1])},onNextPageClick:function(){return e.handlePatientClick(e.patientViewPageStore.patientIdsInCohort[u+1])},onLastPageClick:function(){return e.handlePatientClick(e.patientViewPageStore.patientIdsInCohort[e.patientViewPageStore.patientIdsInCohort.length-1])},onChangeCurrentPage:function(t){t>0&&t<=e.patientViewPageStore.patientIdsInCohort.length&&e.handlePatientClick(e.patientViewPageStore.patientIdsInCohort[t-1])},pageNumberEditable:!0,className:"cohortNav"})}return r.createElement(at.X,{noMargin:!0,hideFooter:!0},this.patientViewPageStore.patientViewData.isComplete&&r.createElement(ot.Z,null,r.createElement("title",null,this.patientViewPageStore.pageTitle),r.createElement("meta",{name:"description",content:this.patientViewPageStore.metaDescription})),r.createElement("div",{className:"patientViewPage"},this.genePanelModal.isOpen&&r.createElement(Wt,{genePanel:this.modalSelectedGenePanel,show:this.genePanelModal.isOpen,onHide:this.toggleGenePanelModal,columns:3}),r.createElement("div",{className:"headBlock"},this.patientViewPageStore.patientViewData.isComplete&&r.createElement("div",{className:"patientPageHeader"},r.createElement("i",{className:"fa fa-user-circle-o patientIcon","aria-hidden":"true"}),r.createElement("div",{className:"patientDataTable"},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Patient:"),r.createElement("td",null,r.createElement(h,{handlePatientClick:function(t){return e.handlePatientClick(t)},patient:this.patientViewPageStore.patientViewData.result.patient,studyId:this.patientViewPageStore.studyId,darwinUrl:this.patientViewPageStore.darwinUrl.result,sampleManager:t}))),r.createElement("tr",null,r.createElement("td",null,"Samples:"),r.createElement("td",null,r.createElement("div",{className:"patientSamples"},null!==t&&r.createElement(i.If,{condition:this.isSampleSummaryListLoading},r.createElement(i.Then,null,r.createElement(ze.Z,{isLoading:!0})),r.createElement(i.Else,null,r.createElement(cn,{sampleManager:t,patientViewPageStore:this.patientViewPageStore,handleSampleClick:this.handleSampleClick,toggleGenePanelModal:this.toggleGenePanelModal,genePanelModal:this.genePanelModal,handlePatientClick:this.handlePatientClick})))))))),r.createElement("div",{className:"studyMetaBar"},a," ",r.createElement(i.If,{condition:null!=n},n)))),r.createElement(ze.Z,{isLoading:this.patientViewPageStore.patientViewData.isPending,center:!0,size:"big"}),this.patientViewPageStore.patientViewData.isComplete&&(0,pt.JS)(this,this.urlWrapper,t)))}},{key:"mergedMutations",get:function(){return this.patientViewPageStore.mergedMutationDataIncludingUncalledFilteredByGene.filter((function(e){return!(0,ve.EJ)(e[0])}))}},{key:"showNewTimeline",get:function(){return!(0,_e.Ib)().patient_view_use_legacy_timeline}},{key:"showOldTimeline",get:function(){return(0,_e.Ib)().patient_view_use_legacy_timeline}},{key:"cnaTableStatus",get:function(){return this.patientViewPageStore.molecularProfileIdDiscrete.isComplete?void 0===this.patientViewPageStore.molecularProfileIdDiscrete.result?"unavailable":this.patientViewPageStore.discreteCNAData.isComplete?"available":"loading":"loading"}},{key:"isSampleSummaryListLoading",get:function(){return this.patientViewPageStore.studyMetaData.isPending||this.patientViewPageStore.hasMutationalSignatureData.isPending||this.patientViewPageStore.mutationalSignatureDataGroupByVersion.isPending||this.patientViewPageStore.allSamplesForPatient.isPending}},{key:"showWholeSlideViewerTab",get:function(){return this.patientViewPageStore.clinicalDataForSamples.isComplete&&o().some(this.patientViewPageStore.clinicalDataForSamples.result,(function(e){return"MSK_SLIDE_ID"===e.clinicalAttributeId}))}},{key:"shouldShowResources",get:function(){return!!this.patientViewPageStore.resourceIdToResourceData.isComplete&&o().some(this.patientViewPageStore.resourceIdToResourceData.result,(function(e){return e.length>0}))}},{key:"shouldShowPathologyReport",get:function(){return this.patientViewPageStore.pathologyReport.isComplete&&this.patientViewPageStore.pathologyReport.result.length>0}},{key:"hideTissueImageTab",get:function(){return this.patientViewPageStore.hasTissueImageIFrameUrl.isPending||this.patientViewPageStore.hasTissueImageIFrameUrl.isError||this.patientViewPageStore.hasTissueImageIFrameUrl.isComplete&&!this.patientViewPageStore.hasTissueImageIFrameUrl.result}},{key:"shouldShowTrialMatch",get:function(){return"true"===(0,c.hZ)().localStorage.trialmatch&&this.patientViewPageStore.detailedTrialMatches.isComplete&&this.patientViewPageStore.detailedTrialMatches.result.length>0}},{key:"modalSelectedGenePanel",get:function(){return this.patientViewPageStore.genePanelIdToPanel.result[this.genePanelModal.genePanelId]}},{key:"columns",get:function(){var e=(0,Se.Tt)(this.patientViewMutationDataStore.namespaceColumnConfig);return o().concat($e.Z.defaultProps.columns,e)}},{key:"customTabs",get:function(){return(0,sn.E)((0,_e.Ib)().custom_tabs,"PATIENT_PAGE")}}])&&dn(n.prototype,a),u&&dn(n,u),t}(r.Component);gn([P.observable],wn.prototype,"mutationTableColumnVisibility",void 0),gn([P.observable],wn.prototype,"cnaTableColumnVisibility",void 0),gn([P.observable],wn.prototype,"genePanelModal",void 0),gn([P.observable],wn.prototype,"mergeMutationTableOncoKbIcons",void 0),gn([P.observable],wn.prototype,"urlWrapper",void 0),gn([P.observable],wn.prototype,"activeLocus",void 0),gn([P.computed],wn.prototype,"mergedMutations",null),gn([P.action.bound],wn.prototype,"handleSampleClick",null),gn([P.action.bound],wn.prototype,"handleLocusChange",null),gn([P.action.bound],wn.prototype,"handleCNATableGeneClick",null),gn([P.action.bound],wn.prototype,"handlePatientClick",null),gn([P.action.bound],wn.prototype,"handleOncoKbIconToggle",null),gn([P.computed],wn.prototype,"cnaTableStatus",null),gn([P.computed],wn.prototype,"isSampleSummaryListLoading",null),gn([P.computed],wn.prototype,"showWholeSlideViewerTab",null),gn([P.action.bound],wn.prototype,"onCnaTableColumnVisibilityToggled",null),gn([P.action.bound],wn.prototype,"onMutationTableColumnVisibilityToggled",null),gn([P.computed],wn.prototype,"shouldShowResources",null),gn([P.computed],wn.prototype,"shouldShowPathologyReport",null),gn([P.computed],wn.prototype,"hideTissueImageTab",null),gn([P.computed],wn.prototype,"shouldShowTrialMatch",null),gn([Ie.default],wn.prototype,"customTabMountCallback",null),gn([Ie.default],wn.prototype,"onFilterGenesMutationTable",null),gn([Ie.default],wn.prototype,"onFilterGenesCopyNumberTable",null),gn([P.action.bound],wn.prototype,"toggleGenePanelModal",null),gn([P.computed],wn.prototype,"modalSelectedGenePanel",null),gn([Ie.default],wn.prototype,"onMutationTableRowClick",null),gn([Ie.default],wn.prototype,"onMutationTableRowMouseEnter",null),gn([Ie.default],wn.prototype,"onMutationTableRowMouseLeave",null),gn([P.action.bound],wn.prototype,"openResource",null),gn([P.action.bound],wn.prototype,"closeResourceTab",null),gn([P.action.bound],wn.prototype,"onMutationalSignatureVersionChange",null),gn([P.computed],wn.prototype,"columns",null),gn([P.computed],wn.prototype,"customTabs",null);const Pn=wn=gn([(0,We.inject)("routing","appStore"),We.observer],wn)},89353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(88034),a=n(79280),o=n(27808),i=n(36903),u=n(5933);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},b=function(e){function t(){return l(this,t),s(this,p(t).apply(this,arguments))}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(o=[{key:"handleClose",value:function(){this.props.onHide()}},{key:"render",value:function(){return r.createElement(a.Modal,{show:this.props.show,onHide:this.handleClose,keyboard:!0,className:this.props.className},r.createElement(a.Modal.Header,{closeButton:!0},r.createElement(a.Modal.Title,{"data-test":"gene-panel-modal-title"},this.props.panelName)),r.createElement(a.Modal.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},this.props.show&&this.props.isLoading&&r.createElement(i.Z,{isLoading:!0}),this.props.show&&!this.props.isLoading&&r.createElement("div",{"data-test":"gene-panel-modal-body"},this.props.children)),r.createElement(a.Modal.Footer,null,r.createElement(a.Button,{"data-test":"modal-button",onClick:this.handleClose},"Close")))}}])&&c(n.prototype,o),u&&c(n,u),t}(r.Component);m([u.default],b.prototype,"handleClose",null);const h=b=m([o.observer],b)},23280:(e,t,n)=>{"use strict";n.d(t,{_:()=>p});var r=n(88034),a=n(12401);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return i(this,t),l(this,c(t).apply(this,arguments))}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.createElement(a.rU,{to:"/study?id=".concat(this.props.studyId),className:this.props.className},this.props.children)}}])&&u(n.prototype,o),p&&u(n,p),t}(r.Component)},60727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(88034),a=n(27808),o=n(30256),i=n(64577),u=n(78566),l=n(93624),c=n.n(l),s=n(76127),p=n.n(s),f=n(65587),d=n(56719);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?y(e):t}(this,h(t).call(this,e)),(0,u.makeObservable)(y(n)),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(a=[{key:"goToNextDatum",value:function(){this.isLastDatum||this.props.urlWrapper.setResourceUrl(this.props.resourceData[this.currentResourceIndex+1].url)}},{key:"goToPrevDatum",value:function(){this.isFirstDatum||this.props.urlWrapper.setResourceUrl(this.props.resourceData[this.currentResourceIndex-1].url)}},{key:"render",value:function(){var e=this.props.resourceData.length>1;return r.createElement("div",null,r.createElement(o.Z,{title:this.currentResourceDatum.resourceDefinition.displayName,isLoading:!1,className:"pull-left",style:{marginBottom:10}}),r.createElement("div",{style:{width:"100%",height:this.iframeHeight,display:"flex",alignItems:"center"}},e&&r.createElement("div",{className:p()(c().carouselButton,m({},c().active,!this.isFirstDatum)),onClick:this.goToPrevDatum},r.createElement("i",{style:{marginRight:15},className:"fa fa-4x fa-chevron-left"})),this.httpIframeWithHttpsPortal?r.createElement("div",null,r.createElement("span",null,"We can't show this URL in the portal. Please use the link below:"),r.createElement("br",null),r.createElement("a",{href:this.currentResourceDatum.url},this.currentResourceDatum.url)):r.createElement("iframe",{src:this.iframeUrl,style:{width:"100%",height:"100%"}}),e&&r.createElement("div",{className:p()(c().carouselButton,m({},c().active,!this.isLastDatum)),onClick:this.goToNextDatum},r.createElement("i",{style:{marginLeft:15},className:"fa fa-4x fa-chevron-right"}))))}},{key:"iframeHeight",get:function(){return i.Z.size.height-275}},{key:"currentResourceIndex",get:function(){var e=this;if(this.props.urlWrapper.query.resourceUrl){var t=this.props.resourceData.findIndex((function(t){return t.url===e.props.urlWrapper.query.resourceUrl}));return-1===t?0:t}return 0}},{key:"currentResourceDatum",get:function(){return this.props.resourceData[this.currentResourceIndex]}},{key:"isFirstDatum",get:function(){return 0===this.currentResourceIndex}},{key:"isLastDatum",get:function(){return this.currentResourceIndex===this.props.resourceData.length-1}},{key:"httpIframeWithHttpsPortal",get:function(){return"https:"===(0,f.hZ)().location.protocol&&"http:"===new URL(this.currentResourceDatum.url).protocol}},{key:"iframeUrl",get:function(){var e=(0,d.m)(this.currentResourceDatum.url),t=this.currentResourceDatum.url;switch(e){case"pdf":t=(0,d.r)(this.currentResourceDatum.url)}return t}}])&&b(n.prototype,a),l&&b(n,l),t}(r.Component);w([u.computed],P.prototype,"iframeHeight",null),w([u.computed],P.prototype,"currentResourceIndex",null),w([u.computed],P.prototype,"currentResourceDatum",null),w([u.action.bound],P.prototype,"goToNextDatum",null),w([u.action.bound],P.prototype,"goToPrevDatum",null),w([u.computed],P.prototype,"isFirstDatum",null),w([u.computed],P.prototype,"isLastDatum",null),w([u.computed],P.prototype,"httpIframeWithHttpsPortal",null),w([u.computed],P.prototype,"iframeUrl",null);const I=P=w([a.observer],P)},66798:(e,t,n)=>{"use strict";function r(e,t){window&&(window[e]=t)}n.d(t,{Z:()=>r})},90048:e=>{e.exports={portalWidth:"styles-module__portalWidth__31Bse",framedImage:"styles-module__framedImage__1BiD7",genesList:"styles-module__genesList__2enmP",searchInput:"styles-module__searchInput__385Z_",panelName:"styles-module__panelName__czMY2",copyDownloadControls:"styles-module__copyDownloadControls__2Edes",patientViewModal:"styles-module__patientViewModal__17gba"}},93624:e=>{e.exports={portalWidth:"styles-module__portalWidth__3mtfh",framedImage:"styles-module__framedImage__24LeD",carouselButton:"styles-module__carouselButton__35zgJ",active:"styles-module__active__xJZuN"}},40600:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABCCAYAAADwg0AcAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAABgJJREFUeJztnGtsFFUUx1sqQhAD2Igi+E4xRlHRSDTVmKgYNX4iMeonY3xFpRRKAQsq1SKUVqEKviUEWoxAqmAqpWWlFBBLpbZUAYu47+223d3u+707x3Pubqft7uyjwdDp9t7k30d2zsw9v3vuuWfv7E5WllR7Q5WDWoiqR5lQAgoyWFbUMdQLqEmSTCQg3YOqQ4Vk4MBoqAX1WCpIs1FtMujsaEuLmp8IEk23Whl0Ui5qR02VArUoK/Nz0UhVKgVKkcowd7kKWlVe+F3tG9MiH2auUMLExSlBqaVAWZIZfdZkhjaNFwQBxnwjHzp0XvjhDxvMXatLBkqQApVw2l1ZqIRT6ggkAX9kgqjprQHI/8gA2W8miSoJUAkPpnCNjIQw2jnjf9MAMGWfD65dpeWgkoGKRFUQZr3NQaUEZbBxUBwUB8VByU8cFAfFQXFQchYHxUFxUByUnMVBcVAc1NgERUYEphtPkPeejm2TJgP1/Ld9oDQFxf3oUBjA5gmDtj8Ip/V+UPzthWV7LXBFoRomDNlynYL/F+y2sGMHWjAsgMUVBqU5CB06P9Sf8cBStL0O+5Qdc90Xd5ggtpHvLr8A53sDUNPqhAXlBpi4WJ0S1OwSLfOVfHZ4QzCvTJ8aFHXqlMbPTqLvD4jg0gWVqLWj4w9UdMNlbyUGJdX8IQGaurxw0zu6YaClQMU2lSXIBim3WJMU1H0bDMxXak5fGEEZRgbKEN0mTRcUOb16vxUK9ligrN4KR857od89COLEv74ILBzlWFAYTPDaLjMUomMVh+xw/IIXeh0hFqEEq+GsB255dxDWUFBWvAY5+yCe++VqExz4y8NsiEUQfz9aZUwJiny9ZKC67aFhzkxdqoGKRhsEQpFOObxh2HDQxjbzY0HRtBt63unLNVB2wApGPKcQHQQ6nqZwLCiTMyTaTSpQw1Nbe8HsGhwgOlbWoEjkmMoced0fFEBxzgu3lepTgiLdjOeiaUdR4UPbPW0uuCo6jaRAZUev93QMqNe/M8sfFC0G359yidPrrDEAd39oSAtUbrEWvj7uBDtGYhAPa1H5YOZKbRwoiyvE+n3jGh08uaUHdrW6GFi6nicgwMJPeuQPilR12B6xh0iCnb8+PVDTizSwsdHOooOc/tMQgGtWxYOi17ptISaTM8zgECg6fvMvdpizOv5usOxA0d/7TrvZ65SYqWSYty49UBQ92084WW6j6Xf0Hy9cvSIxKANKg2UJRe1BLC1e2mmCOSU6XGnjSwRZgcrBUuCOD/RslKl5sMapPuliS30qUFRGPPSxEdq0fgaY6qNNCjtMK4rPUU6fwFbMV2vM8Ow3fWwgLi+Qrp9kAYqWc1r+r8dQp0ScX2nEgtMjOkSF5KKvehmkWFAEg65NEXAr2j6yyQg/drgZBIqYLiwiF2zsFqMj0aqXrkYVFDlVddgB5Q02VhlbXMOLyd24alHEkZ1UHVVaZ4XKQzaobXezBB6KmrsxmrYecYjRJDtQ9DZkpJU5XZ/qJnLOgoUg5Q7KGZTQqSzISVKZEywqIQg4QaacQxV9eYOd5avsBJX5xYK6F0GRryMCNQtXlWasqDsNftiLEUDlfzJQT3zaA/sxWRNc0m9KH3uPVt3ihPX1NpY75q7Vx9lNXqKG5xAyVe8DtlS5/9Tphm2/OmEd2r5SbYbb35fON8983ivaKc55LgrUnQiGfCWfaWApr6YENQMr4pW1FnGKkMbL7gH5vFlhYzk2JSgpjRdQkuKgOCgOioPioOQrDoqD4qA4KDmLg+KgOCgOSs7ioDgoDipzQG1psrHNfmq0BZsJokY3Ses63eJt+nRBhRMdPGWJCto0kajKpEafh8qvHPlXZXuTRVXJPgvsbLGLITuWG/lQc9IOlY1WuGFN0i9fh6VA/ZxqXk9bpoQvmu3w5THHmBb5MKNIKX6oLYm6pEA9njV+n8eSSMVSoLJR22TQObnoKGpyPKgIrFxUsww6Odo6g8qThjQIKw+1A+WTQYcvtSj10DOz7k8OaTiwu6LAiC49iMqZobKjLmRFnnT0MGqCFI7/AKBNHdZf2IG3AAAAAElFTkSuQmCC"}}]);