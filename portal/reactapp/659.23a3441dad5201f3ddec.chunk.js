(self.webpackChunkcbioportal_frontend=self.webpackChunkcbioportal_frontend||[]).push([[659],{6303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r=n(88034),o=n(57930),a=n.n(o),i=n(6240),l=n(27808),s=n(78566),c=n(24639),u=n(40435),p=n.n(u),d=n(76127),m=n.n(d);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k,T=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e[e.TRACK_A=0]="TRACK_A",e[e.TRACK_B=1]="TRACK_B",e[e.NEITHER=2]="NEITHER",e[e.A_NOT_B=3]="A_NOT_B",e[e.B_NOT_A=4]="B_NOT_A",e[e.BOTH=5]="BOTH",e[e.LOG_ODDS_RATIO=6]="LOG_ODDS_RATIO",e[e.P_VALUE=7]="P_VALUE",e[e.Q_VALUE=8]="Q_VALUE",e[e.ASSOCIATION=9]="ASSOCIATION"}(k||(k={}));var O=function(e){function t(){return f(this,t),b(this,v(t).apply(this,arguments))}return g(t,e),t}(i.ZP),w=function(e){function t(e){var n;return f(this,t),n=b(this,v(t).call(this,e)),Object.defineProperty(y(n),"_columns",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,s.makeObservable)(y(n)),n._columns={},n.generateColumns(),n}var n,o,i;return g(t,e),n=t,(o=[{key:"generateColumns",value:function(){this._columns={},this._columns[k.TRACK_A]={name:"A",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackA))},tooltip:r.createElement("span",null,"A"),filter:function(e,t,n){return e.trackA.toUpperCase().includes(n)},sortBy:function(e){return e.trackA},download:function(e){return e.trackA}},this._columns[k.TRACK_B]={name:"B",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackB))},tooltip:r.createElement("span",null,"B"),filter:function(e,t,n){return e.trackB.toUpperCase().includes(n)},sortBy:function(e){return e.trackB},download:function(e){return e.trackB}},this._columns[k.NEITHER]={name:"Neither",render:function(e){return r.createElement("span",null,e.neitherCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in neither A nor B"),sortBy:function(e){return e.neitherCount},download:function(e){return e.neitherCount.toString()}},this._columns[k.A_NOT_B]={name:"A Not B",render:function(e){return r.createElement("span",null,e.aNotBCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in A but not in B"),sortBy:function(e){return e.aNotBCount},download:function(e){return e.aNotBCount.toString()}},this._columns[k.B_NOT_A]={name:"B Not A",render:function(e){return r.createElement("span",null,e.bNotACount)},tooltip:r.createElement("span",null,"Number of samples with alterations in B but not in A"),sortBy:function(e){return e.bNotACount},download:function(e){return e.bNotACount.toString()}},this._columns[k.BOTH]={name:"Both",render:function(e){return r.createElement("span",null,e.bothCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in both A and B"),sortBy:function(e){return e.bothCount},download:function(e){return e.bothCount.toString()}},this._columns[k.LOG_ODDS_RATIO]={name:"Log2 Odds Ratio",render:function(e){return r.createElement("span",null,(0,c.fm)(e.logOddsRatio))},tooltip:r.createElement("span",{style:{display:"inline-block",maxWidth:300}},"Quantifies how strongly the presence or absence of alterations in A are associated with the presence or absence of alterations in B in the selected samples. OR = (Neither * Both) / (A Not B * B Not A)"),sortBy:function(e){return e.logOddsRatio},download:function(e){return(0,c.fm)(e.logOddsRatio)}},this._columns[k.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",null,(0,c.L5)(e.pValue))},tooltip:r.createElement("span",null,"Derived from one-sided Fisher Exact Test"),sortBy:function(e){return e.pValue},download:function(e){return(0,c.L5)(e.pValue)}},this._columns[k.Q_VALUE]={name:"q-Value",render:function(e){return(0,c.EI)(e.qValue)},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg FDR correction procedure"),sortBy:function(e){return e.qValue},download:function(e){return(0,c.L5)(e.qValue)}},this._columns[k.ASSOCIATION]={name:"Tendency",render:function(e){return r.createElement("div",{className:m()(p().Tendency,(t={},n=p().Significant,o=e.qValue<.05,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},e.association);var t,n,o},tooltip:r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log2 ratio ",">"," 0"),r.createElement("td",null,": Tendency towards co-occurrence")),r.createElement("tr",null,r.createElement("td",null,"Log2 ratio <= 0"),r.createElement("td",null,": Tendency towards mutual exclusivity")),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association"))),filter:function(e,t,n){return e.association.toUpperCase().includes(n)},sortBy:function(e){return e.association},download:function(e){return e.association}}}},{key:"render",value:function(){var e=a().sortBy(this._columns,(function(e){return e.order}));return r.createElement(O,{columns:e,data:this.props.data,initialItemsPerPage:50,initialSortColumn:this.props.initialSortColumn,paginationProps:{itemsPerPageOptions:[50]}})}}])&&h(n.prototype,o),i&&h(n,i),t}(r.Component);Object.defineProperty(w,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{columns:[k.TRACK_A,k.TRACK_B,k.NEITHER,k.A_NOT_B,k.B_NOT_A,k.BOTH,k.LOG_ODDS_RATIO,k.P_VALUE,k.Q_VALUE,k.ASSOCIATION],initialSortColumn:"q-Value"}}),T([s.observable],w.prototype,"_columns",void 0);const A=w=T([l.observer],w);var S=n(79280),I=n(36903),P=n(50558),N=n(71198),M=n(79431);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var R=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":j(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},L=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?x(e):t}(this,D(t).call(this,e)),Object.defineProperty(x(n),"mutualExclusivityFilter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(x(n),"coOccurenceFilter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(x(n),"significantPairsFilter",{enumerable:!0,configurable:!0,writable:!0,value:!1}),(0,s.makeObservable)(x(n)),n.mutualExclusivityFilterChange=n.mutualExclusivityFilterChange.bind(x(n)),n.coOccurenceFilterChange=n.coOccurenceFilterChange.bind(x(n)),n.significantPairsFilterChange=n.significantPairsFilterChange.bind(x(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,e),n=t,(o=[{key:"mutualExclusivityFilterChange",value:function(){this.mutualExclusivityFilter=!this.mutualExclusivityFilter}},{key:"coOccurenceFilterChange",value:function(){this.coOccurenceFilter=!this.coOccurenceFilter}},{key:"significantPairsFilterChange",value:function(){this.significantPairsFilter=!this.significantPairsFilter}},{key:"render",value:function(){return this.props.isSampleAlteredMap.isPending?r.createElement(I.Z,{isLoading:!0}):this.props.isSampleAlteredMap.isComplete?this.notEnoughDataError?r.createElement("div",{className:"tabMessageContainer"},r.createElement("div",{className:"alert alert-info"},this.notEnoughDataError),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),this.props.store&&[r.createElement(N.Z,{store:this.props.store}),r.createElement(M.Z,{store:this.props.store})]):r.createElement("div",{"data-test":"mutualExclusivityTabDiv"},this.props.store&&r.createElement("div",{className:"tabMessageContainer"},r.createElement(P.Z,{className:"mutex-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),r.createElement(N.Z,{store:this.props.store}),r.createElement(M.Z,{store:this.props.store})),(0,c.W3)(this.data,a().size(this.isSampleAlteredFilteredMap)),r.createElement("div",{className:p().Checkboxes},r.createElement(S.Checkbox,{checked:this.mutualExclusivityFilter,onChange:this.mutualExclusivityFilterChange},"Mutual exclusivity"),r.createElement(S.Checkbox,{checked:this.coOccurenceFilter,onChange:this.coOccurenceFilterChange},"Co-occurrence"),r.createElement(S.Checkbox,{checked:this.significantPairsFilter,onChange:this.significantPairsFilterChange},"Significant only")),r.createElement(A,{data:this.filteredData})):null}},{key:"data",get:function(){return(0,c.Yu)(this.isSampleAlteredFilteredMap)}},{key:"filteredData",get:function(){return(0,c.a)(this.data,this.mutualExclusivityFilter,this.coOccurenceFilter,this.significantPairsFilter)}},{key:"isSampleAlteredFilteredMap",get:function(){return(0,c.J_)(this.props.isSampleAlteredMap.result)}},{key:"filteredTrackOqls",get:function(){return a().difference(Object.keys(this.props.isSampleAlteredMap.result),Object.keys(this.isSampleAlteredFilteredMap))}},{key:"filteredTrackOqlsMessage",get:function(){return 1==this.filteredTrackOqls.length?"".concat(this.filteredTrackOqls[0]," is not profiled in any queried samples and therefore is excluded from this analysis."):this.filteredTrackOqls.length>1?"".concat(this.filteredTrackOqls.slice(0,-1).join(", ")," and ").concat(this.filteredTrackOqls.slice(-1)," are not profiled in any queried samples and therefore are excluded from this analysis."):""}},{key:"notEnoughDataError",get:function(){return a().size(this.props.isSampleAlteredMap.result)<2?"Mutual exclusivity analysis can only be performed when data from at least two genes is provided.":a().size(this.isSampleAlteredFilteredMap)<2?"Mutual exclusivity analysis can only be performed when at least two of the queried genes have been profiled in the queried samples.":null}}])&&_(n.prototype,o),i&&_(n,i),t}(r.Component);R([s.observable],L.prototype,"mutualExclusivityFilter",void 0),R([s.observable],L.prototype,"coOccurenceFilter",void 0),R([s.observable],L.prototype,"significantPairsFilter",void 0),R([s.computed],L.prototype,"data",null),R([s.computed],L.prototype,"filteredData",null),R([s.computed],L.prototype,"isSampleAlteredFilteredMap",null),R([s.computed],L.prototype,"filteredTrackOqls",null),R([s.computed],L.prototype,"filteredTrackOqlsMessage",null),R([s.computed],L.prototype,"notEnoughDataError",null);const G=L=R([l.observer],L)},63276:(e,t,n)=>{"use strict";n.d(t,{Wp:()=>m,Cb:()=>p,UK:()=>d,Ig:()=>y,TB:()=>v,vI:()=>k,aN:()=>T});var r,o,a=n(57930),i=n.n(a),l=n(4377),s=n(84232),c=n(65587);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,d,m="N/A",h=/^((?:[^\(\)])+)(?:\(([^\(\)]+)\))?$/,f=/^(?:[^\/]+\/)+[^\/]+$/;!function(e){e.NUMBER="number",e.LOG_NUMBER="lognumber",e.STRING="string",e.COUNTS="counts"}(p||(p={})),function(e){e.HEATMAP_01="heatmap01",e.HEATMAP_ZSCORE="heatmapZscores",e.HEATMAP="heatmap"}(d||(d={}));u(r={},p.NUMBER,!0),u(r,p.LOG_NUMBER,!0),u(r,p.STRING,!0),u(r,p.COUNTS,!0),u(o={},d.HEATMAP_01,!0),u(o,d.HEATMAP_ZSCORE,!0),u(o,d.HEATMAP,!0);function b(e){switch(e){case d.HEATMAP_01:return s.YK.METHYLATION;case d.HEATMAP_ZSCORE:return s.YK.MRNA_EXPRESSION;case d.HEATMAP:return s.YK.GENERIC_ASSAY}}function y(e){return g(e,"clinical")}function v(e){return g(e,"heatmap")}function g(e,t){var n=e.trim().split("\n").map((function(e){return e.trim().split(/\s+/)}));if(0===n.length)return{parseSuccess:!0,result:{headers:[],data:[]},error:void 0};try{var r=n.shift(),o="clinical"===t?function(e){e.shift();var t="Clinical data input error in line 1 (header): ",n=[],r={},o=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value,u=c.match(h);if(!u)throw new Error("".concat(t,"misformatted clinical track name ").concat(c));var d=u[2]||p.STRING,m=void 0;switch(d){case p.NUMBER:case p.LOG_NUMBER:case p.STRING:break;default:if(!f.test(d))throw new Error("".concat(t,"invalid clinical track data type ").concat(d));m=d.split("/"),d=p.COUNTS}var b=u[1];if(b in r)throw new Error("".concat(t,"duplicate clinical track name ").concat(b));n.push({trackName:b,datatype:d,countsCategories:m}),r[b]=!0}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return n}(r):function(e){e.shift();var t="Heatmap data input error in line 1 (header): ",n=[],r={},o=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value,u=c.match(h);if(!u)throw new Error("".concat(t,"misformatted heatmap track name ").concat(c));var p=u[2]||d.HEATMAP;switch(p){case d.HEATMAP_01:case d.HEATMAP_ZSCORE:case d.HEATMAP:break;default:throw new Error("".concat(t,"invalid heatmap track data type ").concat(p))}var m=u[1];if(m in r)throw new Error("".concat(t,"duplicate heatmap track name ").concat(m));n.push({trackName:m,datatype:p}),r[m]=!0}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return n}(r),a=n.map((function(e,n){var r="".concat((0,c.kC)(t)," data input error on line ").concat(n+2,": \n").concat(e.join("\t"),"\n\n");if(e.length===o.length+1)return{sampleId:e[0],orderedValues:e.slice(1)};throw new Error("".concat(r,"data lines must have ").concat(o.length+1," columns, the same number as in the header."))}));return{parseSuccess:!0,result:{headers:o,data:a.filter((function(e){return!!e}))},error:void 0}}catch(e){return{parseSuccess:!1,result:void 0,error:e.message}}}function E(e,t,n,r){var o="Heatmap data input error on line ".concat(r+2,": \n\n"),a=null;if(e!==m&&(a=parseFloat(e)),null!==a&&isNaN(a))throw new Error("".concat(o," input ").concat(e," is not valid for heatmap track ").concat(n.trackName));return{sample:t.sampleId,profile_data:a,uid:t.sampleId,na:null===a}}function C(e,t,n,r){var o,a,i="Clinical data input error on line ".concat(r+2,": \n\n");if(e===m)return{sample:t.sampleId,attr_id:n.trackName,attr_val_counts:{},attr_val:"",uid:t.sampleId,na:!0};switch(n.datatype){case p.STRING:o=u({},e,1),a=e;break;case p.NUMBER:case p.LOG_NUMBER:var l=parseFloat(e);if(isNaN(l))throw new Error("".concat(i," input ").concat(e," is not valid for numerical track ").concat(n.trackName));o=u({},l,1),a=l;break;case p.COUNTS:var s=e.split("/").map(parseFloat);if(s.length!==n.countsCategories.length)throw new Error("".concat(i," input ").concat(e," is not valid - must have ").concat(n.countsCategories.length," values to match with header, but only has ").concat(s.length));a=o=n.countsCategories.reduce((function(e,t,n){return e[t]=s[n],e}),{})}return{sample:t.sampleId,attr_id:n.trackName,attr_val_counts:o,attr_val:a,uid:t.sampleId,na:e===m}}function k(e,t,n){var r=function(e,t){var n=i().mapValues(i().keyBy(e,(function(e){return e.trackName})),(function(){return[]}));return t.forEach((function(t,r){for(var o=0;o<e.length;o++){var a=t.orderedValues[o];n[e[o].trackName].push(C(a,t,e[o],r))}})),n}(e,t),o=i().keyBy(n||[]);r=i().mapValues(r,(function(e){return e.filter((function(e){return!(e.sample in o)}))}));var a=[];return e.map((function(e){var t,n,o,i,s=r[e.trackName];switch(e.datatype){case p.STRING:t="string";break;case p.NUMBER:case p.LOG_NUMBER:t="number",n=function(e){var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;isNaN(s.attr_val)||(t=Math.min(t,s.attr_val),n=Math.max(n,s.attr_val))}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return[t,n]}(s);break;case p.COUNTS:t="counts","mutation_spectrum"===e.trackName.toLowerCase()&&e.countsCategories.length===l.PK.length&&(o=l.PK)}a.push({key:(i=e.trackName,"clinicalTrack_".concat(i)),attributeId:e.trackName,label:e.trackName,data:s,datatype:t,description:"",numberRange:n,numberLogScale:e.datatype===p.LOG_NUMBER||void 0,countsCategoryLabels:e.countsCategories,countsCategoryFills:o})})),a}function T(e,t,n){var r=function(e,t){var n=i().mapValues(i().keyBy(e,(function(e){return e.trackName})),(function(){return[]}));return t.forEach((function(t,r){for(var o=0;o<e.length;o++){var a=t.orderedValues[o];n[e[o].trackName].push(E(a,t,e[o],r))}})),n}(e,t),o=i().keyBy(n||[]);r=i().mapValues(r,(function(e){return e.filter((function(e){return!(e.sample in o)}))}));var a=[];return e.map((function(e){var t,n=r[e.trackName];a.push({key:(t=e.trackName,"heatmapTrack_".concat(t)),label:e.trackName,legendLabel:O(e),tooltipValueLabel:"Value",molecularProfileId:"input",molecularAlterationType:b(e.datatype),datatype:"",data:n.map((function(e){return Object.assign(e,{study_id:"",patient:""})})),trackGroupIndex:2,hasColumnSpacing:!1})})),a}function O(e){switch(e.datatype){case d.HEATMAP_01:return"Heatmap (0-1)";case d.HEATMAP_ZSCORE:return"Heatmap (z-scores)";case d.HEATMAP:default:return"Heatmap"}}},3335:(e,t,n)=>{"use strict";n.d(t,{TM:()=>E,Sl:()=>C,Nr:()=>k,g2:()=>T,CK:()=>O,kG:()=>w,h6:()=>S,l6:()=>P,KX:()=>N,it:()=>M,cW:()=>_,u5:()=>D,Qi:()=>x});var r=n(78566),o=n(26942),a=n(57930),i=n.n(a),l=n(80686),s=n(84232),c=n(22872),u=n(92421),p=n(41940),d=n(4098),m=n(79718),h=n(31490),f=n(68913),b=n(54615),y=n(8974),v=n(17306),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function E(e){return e.hasOwnProperty("alteration")}function C(e){var t,n,a;return e.existCustomDrivers?(t=!1,n=!1,a=!0):(t=!0,n=!1,a=!1),(0,r.observable)({cbioportalCountThreshold:0,_oncoKb:t,_cbioportalCount:n,_customBinary:a,_includeVUS:!0,hotspots:!1,get customBinary(){return this._customBinary},set customBinary(t){this._customBinary=t,e.customDriverWarningHidden=!0},get cbioportalCount(){return this._cbioportalCount},set cbioportalCount(t){this._cbioportalCount=t,e.customDriverWarningHidden=!0},set oncoKb(t){this._oncoKb=t,e.customDriverWarningHidden=!0},get oncoKb(){return!(!(0,o.Ib)().show_oncokb||!this._oncoKb||e.didOncoKbFail)},set includeVUS(e){this._includeVUS=e},get includeVUS(){return this._includeVUS||!this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.cbioportalCount||this.hotspots||e.existCustomDrivers&&this.customBinary}})}function k(e){return i().chain(e).map((function(e){return e.sampleId})).uniq().value()}function T(e){return i().chain(e).filter((function(e){return E(e)})).map((function(e){return e.hugoGeneSymbol})).uniq().value()}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.Z;return g(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof Error)){r.next=2;break}return r.abrupt("return",new Error);case 2:if(0!==(o=i().chain(t).filter((function(t){return!!e[t.entrezGeneId]})).filter((function(e){return void 0!==e.proteinPosStart&&void 0!==e.proteinPosEnd})).value()).length){r.next=5;break}return r.abrupt("return",d.Py);case 5:return r.abrupt("return",(0,d.Ag)(o.map((function(e){return{entrezGeneId:e.entrezGeneId,alteration:e.proteinChange,proteinPosStart:e.proteinPosStart,proteinPosEnd:e.proteinPosEnd,tumorType:null}})),n,[p.kq.ONCOGENIC]));case 6:case"end":return r.stop()}}),r)})))}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.Z;return g(this,void 0,void 0,regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof Error)){r.next=2;break}return r.abrupt("return",new Error);case 2:if(0!==(o=i().chain(t).filter((function(t){return!!e[t.entrezGeneId]})).filter((function(e){return e.molecularProfileAlterationType===s.YK.COPY_NUMBER_ALTERATION})).value()).length){r.next=5;break}return r.abrupt("return",d.Py);case 5:return a=i().chain(o).map((function(e){return(0,p.ex)(e.entrezGeneId,null,(0,f.V)(e.value),[p.kq.ONCOGENIC])})).uniqBy("id").value(),r.abrupt("return",(0,d.N6)(a,n));case 7:case"end":return r.stop()}}),r)})))}function A(e,t){var n={driverTiersFilter:"",driverTiersFilterAnnotation:"",oncoKbOncogenic:"",isHotspot:!1,putativeDriver:!1,hugoGeneSymbol:e.hugoGeneSymbol,proteinChange:e.proteinChange,eventInfo:e.eventInfo,mutationStatus:e.isGermline?v.Hj:"",driverFilter:e.isCustomDriver?d.U1:"",driverFilterAnnotation:e.isCustomDriver?"You indicated that this mutation is a driver.":"",molecularProfileAlterationType:void 0,alterationSubType:"",value:void 0,mutationType:"",entrezGeneId:0,proteinPosStart:void 0,proteinPosEnd:void 0},r=t[e.hugoGeneSymbol];if(r&&(n.entrezGeneId=r.entrezGeneId),n.proteinChange){var o=(0,p.tL)(n.proteinChange);o&&(n.proteinPosStart=o.start,n.proteinPosEnd=o.end)}switch(e.alteration){case u.dX.MISSENSE:n=Object.assign(n,{molecularProfileAlterationType:s.YK.MUTATION_EXTENDED,alterationSubType:"missense",mutationType:"missense_mutation"});break;case u.dX.INFRAME:n=Object.assign(n,{molecularProfileAlterationType:s.YK.MUTATION_EXTENDED,alterationSubType:"inframe",mutationType:"indel"});break;case u.dX.STRUCTURAL_VARIANT:n=Object.assign(n,{molecularProfileAlterationType:s.YK.STRUCTURAL_VARIANT,mutationType:"structuralVariant"});break;case u.dX.PROMOTER:n=Object.assign(n,{molecularProfileAlterationType:s.YK.MUTATION_EXTENDED,proteinChange:"promoter"});break;case u.dX.SPLICE:n=Object.assign(n,{molecularProfileAlterationType:s.YK.MUTATION_EXTENDED,alterationSubType:"splice",mutationType:"splice"});break;case u.dX.TRUNC:n=Object.assign(n,{molecularProfileAlterationType:s.YK.MUTATION_EXTENDED,alterationSubType:"nonsense",mutationType:"nonsense"});break;case u.dX.OTHER:n=Object.assign(n,{molecularProfileAlterationType:s.YK.MUTATION_EXTENDED,alterationSubType:"other"});break;case"amp":n=Object.assign(n,{molecularProfileAlterationType:s.YK.COPY_NUMBER_ALTERATION,alterationSubType:c.Lm[2],value:2});break;case"homdel":n=Object.assign(n,{molecularProfileAlterationType:s.YK.COPY_NUMBER_ALTERATION,alterationSubType:c.Lm[-2],value:-2});break;case"gain":n=Object.assign(n,{molecularProfileAlterationType:s.YK.COPY_NUMBER_ALTERATION,alterationSubType:c.Lm[1],value:1});break;case"hetloss":n=Object.assign(n,{molecularProfileAlterationType:s.YK.COPY_NUMBER_ALTERATION,alterationSubType:c.Lm[-1],value:-1});break;case"mrnaHigh":n=Object.assign(n,{molecularProfileAlterationType:s.YK.MRNA_EXPRESSION,alterationSubType:"high"});break;case"mrnaLow":n=Object.assign(n,{molecularProfileAlterationType:s.YK.MRNA_EXPRESSION,alterationSubType:"low"});break;case"protHigh":n=Object.assign(n,{molecularProfileAlterationType:s.YK.PROTEIN_LEVEL,alterationSubType:"high"});break;case"protLow":n=Object.assign(n,{molecularProfileAlterationType:s.YK.PROTEIN_LEVEL,alterationSubType:"low"})}return n}function S(e){return e.disp_mut||e.disp_cna||e.disp_mrna||e.disp_prot||e.disp_structuralVariant}function I(e){var t=i().chain(e).filter(S).size().value();return(0,l.bv)(t,e.length)}function P(e,t,n){var r={},o=e.filter((function(e){return E(e)})),a=!0,l=!1,s=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value,d=p.trackName||p.hugoGeneSymbol;d in r||(r[d]={});var m=r[d];p.sampleId in m||(m[p.sampleId]=[]);var h=A(p,t);n&&b.Nn.test(h.mutationStatus)||m[p.sampleId].push(h)}}catch(e){l=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var f=!0,y=!1,v=void 0;try{for(var g,C=function(){var e=g.value;i().forEach(r,(function(t,n){e.sampleId in t||(t[e.sampleId]=[])}))},k=e[Symbol.iterator]();!(f=(g=k.next()).done);f=!0)C()}catch(e){y=!0,v=e}finally{try{f||null==k.return||k.return()}finally{if(y)throw v}}return i().mapValues(r,(function(e){return i().chain(e).map((function(e,t){return{sampleId:t,data:e}})).value()}))}function N(e){return i().mapValues(e,(function(e,t){return e.map((function(e){return(0,u.Bo)({sample:e.sampleId,patient:e.sampleId,study_id:"",uid:e.sampleId},t,e.data)}))}))}function M(e){return"geneticTrack_".concat(e)}function _(e,t,n){var r=i().keyBy(n||[]);e=i().mapValues(e,(function(e){return e.filter((function(e){return!(e.sample in r)}))}));var o=i().mapValues(e,I);return(t?t.filter((function(t){return t in e})):Object.keys(e)).map((function(t){return{key:M(t),label:t,info:o[t],data:e[t]}}))}function D(e,t,n,r){var o=function(e){return""};if(t.oncoKbCna.isComplete&&!(t.oncoKbCna.result instanceof Error)){var a=t.oncoKbCna.result.indicatorMap;o=function(e){var t=(0,p.Qj)(e.entrezGeneId,null,(0,f.V)(e.value)),n=a[t];return n?(0,d.$7)(n):""}}var l=function(e){return""};if(t.oncoKb&&t.oncoKb.isComplete&&!(t.oncoKb.result instanceof Error)){var c=t.oncoKb.result.indicatorMap;l=function(e){var t=(0,p.Qj)(e.entrezGeneId,null,e.proteinChange),n=c[t];return n?(0,d.$7)(n):""}}var u=function(e){return!1};if(t.cbioportalCount&&t.cbioportalCount.isComplete){var m=t.cbioportalCount.result,b=n.cbioportalCountThreshold;u=function(e){if(e.molecularProfileAlterationType===s.YK.MUTATION_EXTENDED){var t=(0,h.o)(e),n=m[t];return b<=n}return!1}}return i().mapValues(e,(function(e,t){return e.map((function(e){var t=i().clone(e);return t.data=t.data.filter((function(e){switch(delete e.oncoKbOncogenic,delete e.putativeDriver,e.molecularProfileAlterationType){case s.YK.COPY_NUMBER_ALTERATION:e.oncoKbOncogenic=o(e);break;case s.YK.MUTATION_EXTENDED:e.oncoKbOncogenic=l(e)}return e.molecularProfileAlterationType===s.YK.MUTATION_EXTENDED?(e.putativeDriver=!!(e.oncoKbOncogenic||n.useHotspots&&e.isHotspot||u(e)||n.useCustomBinary&&e.driverFilter===d.U1),!r||e.putativeDriver):e.molecularProfileAlterationType!==s.YK.STRUCTURAL_VARIANT||!r})),t}),[])}))}function x(e){var t=e.trim().split("\n").map((function(e){return e.trim().split(/\s+/)}));try{return{parseSuccess:!0,result:t.map((function(e,n){if(0===n&&i().isEqual(t[0].map((function(e){return e.toLowerCase()})).slice(0,4),["sample","gene","alteration","type"]))return null;var r="Genetic data input error on line ".concat(n+1,": \n").concat(e.join("\t"),"\n\n");if(1===e.length)return{sampleId:e[0]};if(4===e.length||5===e.length){var o=e[0],a=e[1],l=e[2],s=l.toLowerCase(),c=e[3],u=c.toLowerCase(),p={sampleId:o,hugoGeneSymbol:a,trackName:5===e.length?e[4]:void 0};switch(u){case"cna":if(-1===["amp","gain","hetloss","homdel"].indexOf(s))throw new Error("".concat(r,'Alteration "').concat(l,'" is not valid - it must be "AMP", "GAIN" ,"HETLOSS", or "HOMDEL" since Type is "CNA"'));p.alteration=s;break;case"exp":if("high"===s)p.alteration="mrnaHigh";else{if("low"!==s)throw new Error("".concat(r,'Alteration "').concat(l,'" is not valid - it must be "HIGH" or "LOW" if Type is "EXP"'));p.alteration="mrnaLow"}break;case"prot":if("high"===s)p.alteration="protHigh";else{if("low"!==s)throw new Error("".concat(r,'Alteration "').concat(l,'" is not valid - it must be "HIGH" or "LOW" if Type is "PROT"'));p.alteration="protLow"}break;case"fusion":if("fusion"!==u)throw new Error("".concat(r,'Type "').concat(c,'" is not valid - it must be "FUSION" if Alteration is "FUSION"'));p.alteration="structuralVariant",p.eventInfo=l;break;default:var d;try{d=(0,y.O$)("GENE: ".concat(u))[0].alterations[0]}catch(e){throw new Error("".concat(r,"Mutation type ").concat(c," is not valid."))}var m=!0,h=!1,f=void 0;try{for(var b,v=d.modifiers[Symbol.iterator]();!(m=(b=v.next()).done);m=!0){switch(b.value.type){case"GERMLINE":p.isGermline=!0;break;case"DRIVER":p.isCustomDriver=!0;break;default:throw new Error("".concat(r,"Only allowed mutation modifiers are GERMLINE and DRIVER"))}}}catch(e){h=!0,f=e}finally{try{m||null==v.return||v.return()}finally{if(h)throw f}}var g=d.constr_val.toLowerCase();if(-1===["missense","inframe","promoter","trunc","splice","other"].indexOf(g))throw new Error("".concat(r,'Type "').concat(c,'" is not valid - it must be "MISSENSE", "INFRAME", "TRUNC", "SPLICE", "PROMOTER", or "OTHER" for a mutation alteration.'));p.alteration=g,p.proteinChange=l}return p}throw new Error("".concat(r,"input lines must have either 1 or 4 columns."))})).filter((function(e){return!!e})),error:void 0}}catch(e){return{parseSuccess:!1,result:void 0,error:e.message}}}},43643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(88034),o=n(27808),a=n(18667),i=n(5933),l=n(65587);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h,f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.distinguishDrivers="0",e.annotateOncoKb="1",e.annotateHotspots="2",e.annotateCBioPortal="3",e.annotateCOSMIC="4",e.customDriverBinaryAnnotation="5"}(h||(h={}));var b=function(e){function t(){return s(this,t),u(this,p(t).apply(this,arguments))}var o,i,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),o=t,(i=[{key:"onInputClick",value:function(e){switch(e.target.value){case h.distinguishDrivers:this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case h.annotateOncoKb:this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case h.annotateHotspots:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case h.customDriverBinaryAnnotation:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onCustomDriverTierCheckboxClick",value:function(e){this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(e.target.value,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(e.target.value)))}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByDriver",type:"checkbox",value:h.distinguishDrivers,checked:this.props.state.distinguishDrivers,onClick:this.onInputClick}),"Putative drivers vs VUS:")),r.createElement("div",{style:{marginLeft:"20px"}},this.props.resultsView&&r.createElement("span",null,!this.props.state.annotateDriversOncoKbDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:h.annotateOncoKb,checked:this.props.state.annotateDriversOncoKb,onClick:this.onInputClick,"data-test":"annotateOncoKb",disabled:this.props.state.annotateDriversOncoKbError}),this.props.state.annotateDriversOncoKbError&&r.createElement(a.Z,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading OncoKb data. Please refresh the page or try again later.")}),r.createElement(l.ZD,{overlay:r.createElement("span",null,"Oncogenicity from OncoKB"),placement:"top"},r.createElement("img",{src:n(44326),style:{maxHeight:"12px",cursor:"pointer",marginRight:"5px"}})),"driver annotation")),this.props.handlers.onSelectAnnotateHotspots&&!this.props.state.annotateDriversHotspotsDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:h.annotateHotspots,checked:this.props.state.annotateDriversHotspots,onClick:this.onInputClick,"data-test":"annotateHotspots",disabled:this.props.state.annotateDriversHotspotsError}),this.props.state.annotateDriversHotspotsError&&r.createElement(a.Z,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading Hotspots data. Please refresh the page or try again later.")}),"Hotspots",r.createElement(l.ZD,{overlay:r.createElement("div",{style:{maxWidth:"400px"}},"Identified as a recurrent hotspot (statistically significant) in a population-scale cohort of tumor samples of various cancer types using methodology based in part on"," ",r.createElement("a",{href:(0,l.H6)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016."),"Explore all mutations at"," ",r.createElement("a",{href:"https://www.cancerhotspots.org",target:"_blank"},"https://cancerhotspots.org")),placement:"top"},r.createElement("img",{src:n(56634),style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}))))),!!this.props.state.customDriverAnnotationBinaryMenuLabel&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.state.annotateCustomDriverBinary,value:h.customDriverBinaryAnnotation,onClick:this.onInputClick,"data-test":"annotateCustomBinary"})," ",this.props.state.customDriverAnnotationBinaryMenuLabel,r.createElement("img",{src:n(46286),alt:"driver filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}))),!!this.props.state.customDriverAnnotationTiersMenuLabel&&r.createElement("span",{"data-test":"annotateCustomTiers"},r.createElement("span",{className:"caret"}),"  ",r.createElement("span",null,this.props.state.customDriverAnnotationTiersMenuLabel)," ",r.createElement("img",{src:n(33965),alt:"driver tiers filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}),r.createElement("div",{style:{marginLeft:"30px"}},(this.props.state.customDriverAnnotationTiers||[]).map((function(t){return r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:t,checked:!(!e.props.state.selectedCustomDriverAnnotationTiers||!e.props.state.selectedCustomDriverAnnotationTiers.get(t)),onClick:e.onCustomDriverTierCheckboxClick})," ",t))}))))))}}])&&c(o.prototype,i),m&&c(o,m),t}(r.Component);f([i.default],b.prototype,"onInputClick",null),f([i.default],b.prototype,"onCustomDriverTierCheckboxClick",null);const y=b=f([o.observer],b)},52638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(88034),o=n(79280),a=n(32876),i=n.n(a),l=n(76127),s=n.n(l),c=n(27808),u=n(78566);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function f(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},T=function(e){function t(){return d(this,t),f(this,y(t).apply(this,arguments))}return v(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=(e.bsRole,e.title),n=k(e,["bsRole","title"]),a=this.props.buttonClassName?this.props.buttonClassName:"btn btn-default";return r.createElement(o.Button,p({className:a},n),t," ",this.props.titleElement," ",r.createElement("span",{className:"caret"}))}}]),t}(r.Component),O=function(e){function t(){return d(this,t),f(this,y(t).apply(this,arguments))}return v(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.styles,o=e.children;return r.createElement("div",{className:s()("dropdown-menu",t),style:Object.assign(Object.assign({},n),{padding:"6px"})},o)}}]),t}(r.Component),w=function(e){function t(e){var n;return d(this,t),n=f(this,y(t).call(this,e)),Object.defineProperty(b(n),"open",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(b(n),"toggle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(b(n),"hide",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,u.makeObservable)(b(n)),n.toggle=function(){n.open=!n.open},n.hide=function(){n.open=!1},n}return v(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,a=e.className,l=e.styles,s=(e.ref,k(e,["children","id","className","styles","ref"]));return r.createElement(i(),{onRootClose:this.hide},r.createElement(o.Dropdown,{id:n+"",open:this.open},r.createElement(T,p({bsStyle:"default",bsRole:"toggle",title:"Custom Toggle",onClick:this.toggle},s)),r.createElement(O,{bsRole:"menu",className:a,styles:l},t)))}}]),t}(r.Component);C([u.observable],w.prototype,"open",void 0);const A=w=C([c.observer],w)},32096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ke});var r=n(88034),o=n(27808),a=n(79280),i=n(52638);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=function(e){function t(){return l(this,t),c(this,u(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this;return r.createElement(a.Modal,{show:this.props.show,onHide:this.props.onHide,animation:!1},r.createElement(a.Modal.Header,{closeButton:!0},r.createElement(a.Modal.Title,null,"Open new tab to MD Anderson NG-CHM?")),r.createElement(a.Modal.Body,null,r.createElement("div",{className:"oncoprint__controls__heatmap_menu mdacc-modal"},r.createElement("p",null,"Continue will open a tab or window to a different site (not cBioPortal)."),r.createElement("p",null,"You will be able to view this study as Next Generation Clustered Heatmaps (NG-CHM) developed by The University of Texas MD Anderson Cancer Center."),r.createElement("em",null,"Note: NG-CHM will not be limited to your selected samples and genes."))),r.createElement(a.Modal.Footer,null,r.createElement(a.Button,{onClick:function(){e.props.openNgchmWindow(),e.props.onHide()}},"Continue"),r.createElement(a.Button,{onClick:this.props.onHide},"Cancel")))}}])&&s(n.prototype,o),i&&s(n,i),t}(r.Component);const f=h=m([o.observer],h);var b=n(92977),y=n(78566),v=n(57930),g=n.n(v),E=n(36903),C=n(65587),k=n(95920),T=n(76127),O=n.n(T),w=n(50619),A=n(17790),S=n(5933),I=n(21015);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},j=function(e){function t(){return P(this,t),M(this,_(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return void 0===this.props.count?null:r.createElement("span",{className:"oncoprintDropdownCount"},this.props.count)}}])&&N(n.prototype,o),a&&N(n,a),t}(r.Component);const R=j=B([o.observer],j);var L=n(79666),G=n(55776),H=n(97392),Z=n(35770),U=n(72903);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q,Y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":W(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.CLINICAL="Clinical",e.GROUPS="Groups",e.CUSTOM_CHARTS="Custom Charts"}(q||(q={}));var X=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?V(e):t}(this,z(t).call(this,e)),Object.defineProperty(V(n),"open",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(V(n),"tabId",{enumerable:!0,configurable:!0,writable:!0,value:q.CLINICAL}),Object.defineProperty(V(n),"options",{enumerable:!0,configurable:!0,writable:!0,value:(0,C.$w)({await:function(){return[n.props.clinicalTrackOptionsPromise]},invoke:function(){return Promise.resolve(g().mapValues(n.props.clinicalTrackOptionsPromise.result,(function(e){return e.map((function(e){return Object.assign(Object.assign({},e),{selected:e.key in n.selectedClinicalAttributeIds})}))})))}})}),Object.defineProperty(V(n),"addClinicalTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,Z.F)({await:function(){return[n.options]},render:function(){return r.createElement(H.Z,{options:n.options.result.clinical,freqPromise:n.props.clinicalAttributeIdToAvailableFrequencyPromise,onAddAll:n.addAll,onClearAll:n.clear,onToggleOption:n.toggleClinicalTrack,optionsGivenInSortedOrder:!0,width:n.props.width})},renderPending:function(){return r.createElement(E.Z,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0})}),Object.defineProperty(V(n),"addGroupTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,Z.F)({await:function(){return[n.options]},render:function(){return r.createElement(H.Z,{options:n.options.result.groups,freqPromise:n.props.clinicalAttributeIdToAvailableFrequencyPromise,onAddAll:n.addAll,onClearAll:n.clear,onToggleOption:n.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group",width:n.props.width})},renderPending:function(){return r.createElement(E.Z,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0})}),Object.defineProperty(V(n),"addChartTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,Z.F)({await:function(){return[n.options]},render:function(){return r.createElement(H.Z,{options:n.options.result.customCharts,freqPromise:n.props.clinicalAttributeIdToAvailableFrequencyPromise,onAddAll:n.addAll,onClearAll:n.clear,onToggleOption:n.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group",width:n.props.width})},renderPending:function(){return r.createElement(E.Z,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0})}),(0,y.makeObservable)(V(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,e),n=t,(a=[{key:"updateTabId",value:function(e){this.tabId=e}},{key:"addAll",value:function(e){this.props.onChangeSelectedClinicalTracks(g().union(this.props.getSelectedClinicalAttributeIds(),e))}},{key:"clear",value:function(e){this.props.onChangeSelectedClinicalTracks(g().difference(this.props.getSelectedClinicalAttributeIds(),e))}},{key:"toggleClinicalTrack",value:function(e){this.props.onChangeSelectedClinicalTracks((0,U.f)(e,this.props.getSelectedClinicalAttributeIds()))}},{key:"getMenu",value:function(){return(this.options.isComplete?g().sum(g().map(this.options.result,(function(e){return+(e.length>0)}))):0)>1?r.createElement(I.Kh,{activeTabId:this.tabId,onTabClick:this.updateTabId,className:"secondaryNavigation oncoprintAddClinicalTracks"},r.createElement(I.l6,{key:0,id:q.CLINICAL,linkText:q.CLINICAL,hide:!this.options.isComplete||0===this.options.result.clinical.length},this.addClinicalTracksMenu.component),r.createElement(I.l6,{key:1,id:q.GROUPS,linkText:q.GROUPS,hide:!this.options.isComplete||0===this.options.result.groups.length},this.addGroupTracksMenu.component),r.createElement(I.l6,{key:2,id:q.CUSTOM_CHARTS,linkText:q.CUSTOM_CHARTS,hide:!this.options.isComplete||0===this.options.result.customCharts.length},this.addChartTracksMenu.component)):r.createElement("div",{className:"oncoprintAddClinicalTracks"},this.addClinicalTracksMenu.component)}},{key:"render",value:function(){return r.createElement("div",null,r.createElement(o.Observer,null,this.getMenu))}},{key:"selectedClinicalAttributeIds",get:function(){return g().keyBy(this.props.getSelectedClinicalAttributeIds())}}])&&F(n.prototype,a),i&&F(n,i),t}(r.Component);Y([y.observable],X.prototype,"open",void 0),Y([y.observable],X.prototype,"tabId",void 0),Y([y.action.bound],X.prototype,"updateTabId",null),Y([y.action.bound],X.prototype,"addAll",null),Y([y.action.bound],X.prototype,"clear",null),Y([y.action.bound],X.prototype,"toggleClinicalTrack",null),Y([y.computed],X.prototype,"selectedClinicalAttributeIds",null),Y([S.default],X.prototype,"getMenu",null);const Q=X=Y([o.observer],X);var J=n(4377),$=n(98821);function ee(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ie,le=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ae(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.CLINICAL="Clinical",e.HEATMAP="Heatmap"}(ie||(ie={}));var se=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?re(e):t}(this,ne(t).call(this,e)),Object.defineProperty(re(n),"tabId",{enumerable:!0,configurable:!0,writable:!0,value:ie.CLINICAL}),Object.defineProperty(re(n),"clinicalTrackOptions",{enumerable:!0,configurable:!0,writable:!0,value:(0,C.$w)({await:function(){return[n.props.store.clinicalAttributes,n.clinicalAttributeIdToAvailableFrequency,n.props.store.clinicalAttributes_customCharts]},invoke:function(){var e=g().uniqBy(n.props.store.clinicalAttributes.result,(function(e){return e.clinicalAttributeId})),t=n.clinicalAttributeIdToAvailableFrequency.result,r={clinical:[],groups:[],customCharts:[]},o=g().keyBy(n.props.store.clinicalAttributes_customCharts.result,(function(e){return e.clinicalAttributeId})),a=!0,i=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;(0,J.TG)(u)?r.groups.push(u):u.clinicalAttributeId in o?r.customCharts.push(u):r.clinical.push(u)}}catch(e){i=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}return r.clinical=g().sortBy(r.clinical,[function(e){return e.clinicalAttributeId===J.OY.StudyOfOrigin?0:e.clinicalAttributeId===J.OY.MutationSpectrum?1:(0,J.nK)(e)?2:3},function(e){var n=t[e.clinicalAttributeId];return void 0===n&&(n=0),-n},function(e){return-e.priority},function(e){return e.displayName.toLowerCase()}]),r.groups=g().sortBy(r.groups,(function(e){return e.displayName.toLowerCase()})),r.customCharts=g().sortBy(r.customCharts,(function(e){return e.displayName.toLowerCase()})),Promise.resolve(g().mapValues(r,(function(e){return e.map((function(e){return{label:e.displayName,key:e.clinicalAttributeId,selected:!1}}))})))}})}),Object.defineProperty(re(n),"clinicalAttributeIdToAvailableFrequency",{enumerable:!0,configurable:!0,writable:!0,value:(0,C.$w)({await:function(){return[n.props.store.clinicalAttributeIdToAvailableSampleCount,n.props.store.samples]},invoke:function(){var e=n.props.store.samples.result.length;return Promise.resolve(g().mapValues(n.props.store.clinicalAttributeIdToAvailableSampleCount.result,(function(t){return 100*t/e})))}})}),(0,y.makeObservable)(re(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,e),n=t,(o=[{key:"updateTabId",value:function(e){this.tabId=e,Object.values(ie).includes(e)||this.isGenericAssayDataComplete&&this.profilesByGenericAssayType&&!g().isEmpty(this.profilesByGenericAssayType[e])&&this.props.handlers.onSelectGenericAssayProfile&&this.props.handlers.onSelectGenericAssayProfile(this.profilesByGenericAssayType[e][0].molecularProfileId)}},{key:"getSelectedClinicalAttributeIds",value:function(){return this.props.state.selectedClinicalAttributeIds}},{key:"onGenericAssaySubmit",value:function(e){this.props.handlers.onClickAddGenericAssays&&this.props.handlers.onClickAddGenericAssays(e)}},{key:"getTextPixel",value:function(e,t){return Math.floor((0,C.mY)(e,"Helvetica Neue",t))}},{key:"render",value:function(){return r.createElement(i.Z,{bsStyle:"default",title:"Add Tracks",id:"addTracksDropdown",className:"oncoprintAddTracksDropdown",styles:{minWidth:400,width:"auto"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement(I.Kh,{activeTabId:this.tabId,onTabClick:this.updateTabId,unmountOnHide:!1,className:"mainTabs oncoprintAddTracks"},r.createElement(I.l6,{key:0,id:ie.CLINICAL,linkText:this.clinicalTabText,hide:!this.clinicalTracksMenu},this.clinicalTracksMenu),r.createElement(I.l6,{key:1,id:ie.HEATMAP,linkText:this.heatmapTabText,hide:!this.props.heatmapMenu},this.props.heatmapMenu),this.genericAssayTabs)))}},{key:"isGenericAssayDataComplete",get:function(){return this.props.store&&this.props.store.genericAssayProfiles.isComplete}},{key:"showGenericAssayTabs",get:function(){return!!this.isGenericAssayDataComplete&&1==g().chain(this.props.store.genericAssayProfiles.result).map((function(e){return e.studyId})).uniq().size().value()}},{key:"profilesByGenericAssayType",get:function(){return this.isGenericAssayDataComplete?g().groupBy(this.props.store.genericAssayProfiles.result,(function(e){return e.genericAssayType})):{}}},{key:"clinicalTracksMenu",get:function(){return this.props.store&&this.props.state.selectedClinicalAttributeIds&&this.props.handlers.onChangeSelectedClinicalTracks?r.createElement(Q,{store:this.props.store,getSelectedClinicalAttributeIds:this.getSelectedClinicalAttributeIds,onChangeSelectedClinicalTracks:this.props.handlers.onChangeSelectedClinicalTracks,clinicalTrackOptionsPromise:this.clinicalTrackOptions,clinicalAttributeIdToAvailableFrequencyPromise:this.clinicalAttributeIdToAvailableFrequency,width:this.dropdownWidth}):null}},{key:"genericAssayTabs",get:function(){var e=this;if(this.isGenericAssayDataComplete&&this.showGenericAssayTabs){var t=this.props.store.genericAssayEntitiesGroupedByGenericAssayType.result;return g().map(this.profilesByGenericAssayType,(function(n,o){var a,i,l,s=g().map(n,(function(e){return{value:e.molecularProfileId,label:e.name}})),c=(null===(i=null===(a=$.k.genericAssayConfigByType[o])||void 0===a?void 0:a.globalConfig)||void 0===i?void 0:i.geneRelatedGenericAssayType)?(0,L.Wv)(t[o],e.props.store.hugoGeneSymbols):[];l=[].concat(ee(c),ee(g().difference(t[o],c)));var u=g().map(l,L.VV),p=r.createElement("div",null,(0,L._y)(o),r.createElement("span",{style:{paddingLeft:5}},r.createElement(R,{count:n.length})));return r.createElement(I.l6,{key:o,id:o,className:"oncoprintGenericAssayTab",linkText:p},r.createElement(G.ZP,{molecularProfileOptions:s,submitButtonText:"Add Track",genericAssayType:o,genericAssayEntityOptions:u,initialGenericAssayEntityIds:e.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl&&e.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl[o]?e.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl[o]:[],onSelectGenericAssayProfile:e.props.handlers.onSelectGenericAssayProfile,onTrackSubmit:e.onGenericAssaySubmit,allowEmptySubmission:!0}))}))}return null}},{key:"clinicalTabText",get:function(){return this.clinicalTrackOptions.result&&!g().isEmpty(this.clinicalTrackOptions.result.clinical)?r.createElement("div",null,ie.CLINICAL,r.createElement("span",{style:{paddingLeft:5}},r.createElement(R,{count:this.clinicalTrackOptions.result.clinical.length}))):ie.CLINICAL}},{key:"heatmapTabText",get:function(){return g().isEmpty(this.props.store.heatmapMolecularProfiles.result)?ie.HEATMAP:r.createElement("div",null,ie.HEATMAP,r.createElement("span",{style:{paddingLeft:5}},r.createElement(R,{count:this.props.store.heatmapMolecularProfiles.result.length})))}},{key:"dropdownWidth",get:function(){var e=this,t=40,n="14px",r="11px";if(this.clinicalTrackOptions.result&&!g().isEmpty(this.clinicalTrackOptions.result.clinical)&&(t+=this.getTextPixel(ie.CLINICAL,n)+14+(this.getTextPixel(this.clinicalTrackOptions.result.clinical.length.toString(),r)+17)),this.props.heatmapMenu&&!g().isEmpty(this.props.store.heatmapMolecularProfiles.result)&&(t+=this.getTextPixel(ie.HEATMAP,n)+14+(this.getTextPixel(this.props.store.heatmapMolecularProfiles.result.length.toString(),r)+17)),this.showGenericAssayTabs){var o=this.genericAssayTabs.map((function(e){return(0,L._y)(e.key)})).join(),a=this.genericAssayTabs.length,i=g().reduce(this.profilesByGenericAssayType,(function(t,n){return t+(e.getTextPixel(n.length.toString(),r)+17)}),0);t+=this.getTextPixel(o,n)+14*a+i}return Math.max(t,400)}}])&&te(n.prototype,o),a&&te(n,a),t}(r.Component);le([y.observable],se.prototype,"tabId",void 0),le([y.action.bound],se.prototype,"updateTabId",null),le([y.computed],se.prototype,"isGenericAssayDataComplete",null),le([y.computed],se.prototype,"showGenericAssayTabs",null),le([y.computed],se.prototype,"profilesByGenericAssayType",null),le([S.default],se.prototype,"getSelectedClinicalAttributeIds",null),le([y.action.bound],se.prototype,"onGenericAssaySubmit",null),le([y.computed],se.prototype,"clinicalTracksMenu",null),le([y.computed],se.prototype,"genericAssayTabs",null),le([y.computed],se.prototype,"clinicalTabText",null),le([y.computed],se.prototype,"heatmapTabText",null),le([y.computed],se.prototype,"dropdownWidth",null);const ce=se=le([o.observer],se);var ue=n(43643);function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var be=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":fe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},ye="0",ve="1",ge="2",Ee="3",Ce="4",ke="4.1",Te="4.2",Oe="5",we="5.1",Ae="6",Se="7",Ie="8",Pe="9",Ne="10",Me="13",_e="15",De="16",xe="17",Be="22",je="22.1",Re="23",Le="25",Ge="26",He="27",Ze="28",Ue="29",Fe="29.1",ze="31",Ve=function(e){function t(e){var n,a=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?me(e):t}(this,de(t).call(this,e)),Object.defineProperty(me(n),"horzZoomSliderState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(me(n),"heatmapGenesReady",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(me(n),"showConfirmNgchmModal",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(me(n),"tabId",{enumerable:!0,configurable:!0,writable:!0,value:"CLINICAL"}),Object.defineProperty(me(n),"AddTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return n.props.store?r.createElement(ce,{store:n.props.store,heatmapMenu:n.heatmapMenu,handlers:n.props.handlers,state:n.props.state,selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl:n.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl}):null}))}),Object.defineProperty(me(n),"SortMenuOncoprinter",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement(i.Z,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ae,checked:n.props.state.sortByMutationType,onClick:n.onInputClick,disabled:!n.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ne,checked:n.props.state.sortByDrivers,onClick:n.onInputClick,disabled:!n.props.state.distinguishDrivers})," ","Driver/Passenger"))))}))}),Object.defineProperty(me(n),"SortMenuOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement(i.Z,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByData",type:"radio",name:"sortBy",value:Pe,checked:"data"===n.props.state.sortMode.type,onClick:n.onInputClick})," ","Sort by data")),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ae,checked:n.props.state.sortByMutationType,onClick:n.onInputClick,disabled:"data"!==n.props.state.sortMode.type||!n.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ne,checked:n.props.state.sortByDrivers,onClick:n.onInputClick,disabled:"data"!==n.props.state.sortMode.type||!n.props.state.distinguishDrivers})," ","Driver/Passenger"))),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:Se,checked:"alphabetical"===n.props.state.sortMode.type,onClick:n.onInputClick})," ","Sort by case id (alphabetical)")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:Ie,checked:"caseList"===n.props.state.sortMode.type,onClick:n.onInputClick,"data-test":"caseList",disabled:!!n.props.state.sortByCaseListDisabled})," ","Sort by case list order")),n.props.state.heatmapProfilesPromise&&!(n.props.state.heatmapProfilesPromise.isComplete&&!n.props.state.heatmapProfilesPromise.result.length)&&r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByHeatmapClustering",type:"radio",name:"sortBy",checked:"heatmap"===n.props.state.sortMode.type,disabled:!0})," ","Sorted by heatmap clustering order"))))}))}),Object.defineProperty(me(n),"MutationColorMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement(i.Z,{bsStyle:"default",title:"Mutations",id:"mutationColorDropdown"},r.createElement("div",{className:"oncoprint__controls__mutation_color_menu"},r.createElement("h5",null,"Color by"),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByType",type:"checkbox",value:Oe,checked:n.props.state.distinguishMutationType,onClick:n.onInputClick})," ","Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByGermline",type:"checkbox",value:we,checked:n.props.state.distinguishGermlineMutations,onClick:n.onInputClick})," ","Somatic vs Germline"))),n.driverAnnotationSection))}))}),Object.defineProperty(me(n),"ViewMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return n.props.oncoprinterMode?r.createElement(a.ViewMenuOncoprinter,null):r.createElement(a.ViewMenuOncoprint,null)}))}),Object.defineProperty(me(n),"ViewMenuOncoprinter",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement(i.Z,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:ge,checked:n.props.state.showUnalteredColumns,onClick:n.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ee,checked:n.props.state.showWhitespaceBetweenColumns,onClick:n.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ce,checked:n.props.state.showClinicalTrackLegends,onClick:n.onInputClick})," ","Show legends for clinical tracks")))}))}),Object.defineProperty(me(n),"ViewMenuOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement(i.Z,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("strong",null,"Data type:"),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:ye,checked:n.props.state.columnMode===w.zz.SAMPLE,onClick:n.onInputClick})," ","Events per sample")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:ve,checked:n.props.state.columnMode===w.zz.PATIENT,onClick:n.onInputClick})," ","Events per patient")),r.createElement("hr",null),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:ge,checked:n.props.state.showUnalteredColumns,onClick:n.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ee,checked:n.props.state.showWhitespaceBetweenColumns,onClick:n.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ce,checked:n.props.state.showClinicalTrackLegends,onClick:n.onInputClick})," ","Show legends for clinical tracks")),r.createElement("div",{className:"checkbox",style:{marginLeft:20,maxWidth:220}},r.createElement("label",null,r.createElement("input",{"data-test":"onlyShowClinicalLegendsForAltered",type:"checkbox",value:ke,checked:n.props.state.onlyShowClinicalLegendForAlteredCases,onClick:n.onInputClick,disabled:!n.props.state.showClinicalTrackLegends})," ","Only show clinical track legends for altered"," ",n.props.state.columnMode===w.zz.PATIENT?"patients":"samples",".")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Te,checked:n.props.state.showOqlInLabels,onClick:n.onInputClick})," ","Show OQL filters")))}))}),Object.defineProperty(me(n),"DownloadMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement(i.Z,{bsStyle:"default",title:"Download",id:"downloadDropdownButton"},r.createElement("button",{className:"btn btn-sm btn-default",name:Le,onClick:n.onButtonClick},"PDF"),r.createElement("button",{className:"btn btn-sm btn-default",name:Ge,onClick:n.onButtonClick},"PNG"),r.createElement("button",{className:"btn btn-sm btn-default",name:He,onClick:n.onButtonClick},"SVG"),r.createElement("button",{className:"btn btn-sm btn-default",name:Ze,onClick:n.onButtonClick},n.props.state.columnMode&&n.props.state.columnMode[0].toUpperCase()+n.props.state.columnMode.slice(1)||"Sample"," ","order"),!n.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:Ue,onClick:n.onButtonClick},"Tabular"),!n.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:Fe,onClick:n.onButtonClick},"Open in Oncoprinter"))}))}),Object.defineProperty(me(n),"HorzZoomControls",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return r.createElement("div",{className:"btn btn-default oncoprint__zoom-controls"},r.createElement(C.ZD,{overlay:r.createElement("span",null,"Zoom out of oncoprint."),placement:"top"},r.createElement("div",{onClick:n.onZoomOutClick},r.createElement("i",{className:"fa fa-search-minus"}))),r.createElement(C.ZD,{overlay:r.createElement("span",null,"Zoom in/out of oncoprint."),placement:"top"},r.createElement("div",{style:{width:"90px"}},r.createElement(k.default,{value:n.horzZoomSliderState,onChange:n.onHorzZoomSliderChange,onChangeComplete:n.onHorzZoomSliderSet,step:.01,max:1,min:0,tooltip:!1}))),r.createElement(C.m1,{value:(100*n.horzZoomSliderState).toFixed(),setValue:n.onSetHorzZoomTextInput,maxChars:3,numericOnly:!0,textFieldAppearance:!0,style:{background:"white",minWidth:"30px",fontSize:"14px",fontFamily:"arial",border:"none",padding:0,marginTop:0,marginBottom:0,marginRight:2}}),r.createElement("div",null,"%"),r.createElement(C.ZD,{overlay:r.createElement("span",null,"Zoom in to oncoprint."),placement:"top"},r.createElement("div",{onClick:n.onZoomInClick},r.createElement("i",{className:"fa fa-search-plus"}))))}))}),Object.defineProperty(me(n),"SortMenu",{enumerable:!0,configurable:!0,writable:!0,value:(0,o.observer)((function(){return n.props.oncoprinterMode?r.createElement(a.SortMenuOncoprinter,null):r.createElement(a.SortMenuOncoprint,null)}))}),(0,y.makeObservable)(me(n)),n.horzZoomSliderState=e.state.horzZoom,(0,y.reaction)((function(){return n.props.state.horzZoom}),(function(e){return n.horzZoomSliderState=e})),n}var l,s,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,e),l=t,(s=[{key:"onZoomInClick",value:function(){this.props.handlers.onClickZoomIn()}},{key:"onZoomOutClick",value:function(){this.props.handlers.onClickZoomOut()}},{key:"onSetHorzZoomTextInput",value:function(e){var t=parseFloat(e)/100;this.props.handlers.onSetHorzZoom(t)}},{key:"onSelect",value:function(e){e===Oe&&this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType)}},{key:"onHeatmapProfileSelect",value:function(e){this.props.handlers.onSelectHeatmapProfile&&this.props.handlers.onSelectHeatmapProfile(e.value)}},{key:"toggleShowMinimap",value:function(){this.props.handlers.onSelectShowMinimap&&this.props.handlers.onSelectShowMinimap(!this.props.state.showMinimap)}},{key:"onInputClick",value:function(e){switch(e.target.value){case ge:this.props.handlers.onSelectShowUnalteredColumns&&this.props.handlers.onSelectShowUnalteredColumns(!this.props.state.showUnalteredColumns);break;case Ee:this.props.handlers.onSelectShowWhitespaceBetweenColumns&&this.props.handlers.onSelectShowWhitespaceBetweenColumns(!this.props.state.showWhitespaceBetweenColumns);break;case Ce:this.props.handlers.onSelectShowClinicalTrackLegends&&this.props.handlers.onSelectShowClinicalTrackLegends(!this.props.state.showClinicalTrackLegends);break;case ke:this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases&&this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases(!this.props.state.onlyShowClinicalLegendForAlteredCases);break;case Te:this.props.handlers.onSelectShowOqlInLabels&&this.props.handlers.onSelectShowOqlInLabels(!this.props.state.showOqlInLabels);break;case ye:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("sample");break;case ve:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("patient");break;case Pe:this.props.handlers.onClickSortByData&&this.props.handlers.onClickSortByData();break;case Se:this.props.handlers.onClickSortAlphabetical&&this.props.handlers.onClickSortAlphabetical();break;case Ie:this.props.handlers.onClickSortCaseListOrder&&this.props.handlers.onClickSortCaseListOrder();break;case Ae:this.props.handlers.onSelectSortByMutationType&&this.props.handlers.onSelectSortByMutationType(!this.props.state.sortByMutationType);break;case Ne:this.props.handlers.onSelectSortByDrivers&&this.props.handlers.onSelectSortByDrivers(!this.props.state.sortByDrivers);break;case _e:this.props.handlers.onSelectDistinguishDrivers&&this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case Oe:this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType);break;case we:this.props.handlers.onSelectDistinguishGermlineMutations(!this.props.state.distinguishGermlineMutations);break;case De:this.props.handlers.onSelectAnnotateOncoKb&&this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case xe:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case Be:this.props.handlers.onSelectHideVUS&&this.props.handlers.onSelectHideVUS(!this.props.state.hidePutativePassengers);break;case je:this.props.handlers.onSelectHideGermlineMutations(!this.props.state.hideGermlineMutations);break;case Re:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onHorzZoomSliderChange",value:function(e){this.horzZoomSliderState=e}},{key:"onHorzZoomSliderSet",value:function(){this.props.handlers.onSetHorzZoom(this.horzZoomSliderState),this.horzZoomSliderState=this.props.state.horzZoom}},{key:"onCustomDriverTierCheckboxClick",value:function(e){var t=e.target.value;this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(t,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(t)))}},{key:"onButtonClick",value:function(e){switch(e.target.name){case Me:this.props.handlers.onClickAddGenesToHeatmap&&this.props.handlers.onClickAddGenesToHeatmap();break;case He:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("svg");break;case Ge:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("png");break;case Le:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("pdf");break;case Ze:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("order");break;case Ue:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("tabular");break;case Fe:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("oncoprinter");break;case ze:this.props.state.ngchmButtonActive&&this.props.handlers.onClickNGCHM&&(this.showConfirmNgchmModal=!0)}}},{key:"onChangeHeatmapGeneInput",value:function(e,t,n){this.props.handlers.onChangeHeatmapGeneInputValue&&this.props.handlers.onChangeHeatmapGeneInputValue(n);var r=g().keyBy(t.found,(function(e){return e.hugoGeneSymbol.toUpperCase()}));this.heatmapGenesReady=g().every(e.query,(function(e){return e.gene.toUpperCase()in r}))}},{key:"updateTabId",value:function(e){this.tabId=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"oncoprint__controls"},r.createElement(a.ButtonGroup,null,r.createElement(this.AddTracksMenu,null),r.createElement(this.SortMenu,null),r.createElement(this.MutationColorMenu,null),r.createElement(this.ViewMenu,null),r.createElement(this.DownloadMenu,null),r.createElement(this.HorzZoomControls,null),this.minimapButton,r.createElement(f,{show:this.showConfirmNgchmModal,onHide:function(){return e.showConfirmNgchmModal=!1},openNgchmWindow:this.props.handlers.onClickNGCHM})))}},{key:"heatmapProfileOptions",get:function(){return this.props.state.heatmapProfilesPromise&&this.props.state.heatmapProfilesPromise.result?g().map(this.props.state.heatmapProfilesPromise.result,(function(e){return{label:e.name,value:e.molecularProfileId,type:e.molecularAlterationType}})):[]}},{key:"heatmapMenu",get:function(){var e=this.props.state.heatmapIsDynamicallyQueried;if(this.props.oncoprinterMode||this.props.state.hideHeatmapMenu||!this.props.state.heatmapProfilesPromise)return null;var t=r.createElement(E.Z,{isLoading:!0});if(this.props.state.heatmapProfilesPromise.isComplete){if(!this.props.state.heatmapProfilesPromise.result.length)return null;t=r.createElement("div",{className:"oncoprint__controls__heatmap_menu"},r.createElement(b.default,{clearable:!1,searchable:!1,isLoading:this.props.state.heatmapProfilesPromise.isPending,onChange:this.onHeatmapProfileSelect,value:this.props.state.selectedHeatmapProfileId,options:this.heatmapProfileOptions}),e&&[r.createElement(A.Z,{inputGeneQuery:this.props.state.heatmapGeneInputValue||"",callback:this.onChangeHeatmapGeneInput,location:A.e.ONCOPRINT_HEATMAP}),r.createElement("button",{key:"addGenesToHeatmapButton",className:"btn btn-sm btn-default",name:Me,onClick:this.onButtonClick,disabled:(this.props.state.heatmapGeneInputValue||"").trim().length>0&&!this.heatmapGenesReady},"Add Genes to Heatmap")],this.props.state.ngchmButtonActive&&[r.createElement("hr",null),r.createElement(C.ZD,{overlay:r.createElement("span",null,"Open a new tab to visualize this study as Next Generation Clustered Heatmaps from MD Anderson Cancer Center.")},r.createElement("button",{className:O()("btn","btn-sm","btn-default"),name:ze,onClick:this.onButtonClick},"Whole Study Heatmap (NG-CHM)"," ",r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})))])}else this.props.state.heatmapProfilesPromise.isError&&(t=r.createElement("span",null,"Error loading heatmap profiles."));return t}},{key:"driverAnnotationSection",get:function(){if(this.props.oncoprinterMode||!this.props.store)return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate"),r.createElement("div",{style:{marginLeft:10}},r.createElement(ue.Z,{state:this.props.state,handlers:Object.assign({onCustomDriverTierCheckboxClick:this.onCustomDriverTierCheckboxClick},this.props.handlers),resultsView:!0})),r.createElement("h5",null,"Filter"),r.createElement("div",{style:{marginLeft:10}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideVUS",type:"checkbox",value:Be,checked:this.props.state.hidePutativePassengers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Hide mutations and copy number alterations of unknown significance")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideGermline",type:"checkbox",value:je,checked:this.props.state.hideGermlineMutations,onClick:this.onInputClick,disabled:!this.props.state.distinguishGermlineMutations})," ","Hide germline mutations"))));var e=this.props.store;return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate and Filter"),r.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:10}},"Please see the",r.createElement("button",{style:{marginLeft:5,marginRight:5,marginBottom:0,width:"auto",padding:"1px 5px 1px 5px"},className:"btn btn-primary",onClick:function(){e.isSettingsMenuVisible=!e.isSettingsMenuVisible}},r.createElement("i",{className:"fa fa-sliders"})),"menu."))}},{key:"showMinimap",get:function(){return this.props.state.showMinimap}},{key:"minimapButton",get:function(){return r.createElement("div",{className:"btn-group"},r.createElement(C.ZD,{overlay:r.createElement("span",null,"Toggle minimap panel.")},r.createElement(a.Button,{active:this.showMinimap,onClick:this.toggleShowMinimap},r.createElement("img",{"data-test":"ShowMinimapButton",src:n(67332),alt:"icon",style:{width:15,height:15}}))))}}])&&pe(l.prototype,s),c&&pe(l,c),t}(r.Component);be([y.observable],Ve.prototype,"horzZoomSliderState",void 0),be([y.observable],Ve.prototype,"heatmapGenesReady",void 0),be([y.observable],Ve.prototype,"showConfirmNgchmModal",void 0),be([S.default],Ve.prototype,"onZoomInClick",null),be([S.default],Ve.prototype,"onZoomOutClick",null),be([S.default],Ve.prototype,"onSetHorzZoomTextInput",null),be([S.default],Ve.prototype,"onSelect",null),be([S.default],Ve.prototype,"onHeatmapProfileSelect",null),be([S.default],Ve.prototype,"toggleShowMinimap",null),be([S.default],Ve.prototype,"onInputClick",null),be([S.default],Ve.prototype,"onHorzZoomSliderChange",null),be([S.default],Ve.prototype,"onHorzZoomSliderSet",null),be([S.default],Ve.prototype,"onCustomDriverTierCheckboxClick",null),be([S.default],Ve.prototype,"onButtonClick",null),be([y.action.bound],Ve.prototype,"onChangeHeatmapGeneInput",null),be([y.computed],Ve.prototype,"heatmapProfileOptions",null),be([y.observable],Ve.prototype,"tabId",void 0),be([y.action.bound],Ve.prototype,"updateTabId",null),be([y.computed],Ve.prototype,"heatmapMenu",null),be([y.computed],Ve.prototype,"driverAnnotationSection",null),be([y.computed],Ve.prototype,"showMinimap",null);const Ke=Ve=be([o.observer],Ve)},40435:e=>{e.exports={portalWidth:"styles-module__portalWidth__22mhB",framedImage:"styles-module__framedImage__-4l6t",Checkboxes:"styles-module__Checkboxes__2oyZv",Tendency:"styles-module__Tendency__2Y46X",Significant:"styles-module__Significant__34YnP"}},67332:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="},44326:(e,t,n)=>{e.exports=n.p+"reactapp/images/ac30afc0653ff15c1ea9fd9cbae0414a.png"}}]);