(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1042:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Collapse=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(3)),s=n(1157);function l(t){return t&&t.__esModule?t:{default:t}}var u="IDLING",c=function(){return null},p=e.Collapse=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return h.call(n),n.state={currentState:u,from:0,to:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.PureComponent),o(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.isOpened,n=t.forceInitialAnimation,r=t.onRest;if(e){var o=this.getTo();if(n){var i=this.wrapper.clientHeight;this.setState({currentState:"RESIZING",from:i,to:o})}else this.setState({currentState:u,from:o,to:o})}r()}},{key:"componentWillReceiveProps",value:function(t){t.hasNestedCollapse?t.isOpened!==this.props.isOpened&&this.setState({currentState:"WAITING"}):this.state.currentState===u&&(t.isOpened||this.props.isOpened)&&this.setState({currentState:"WAITING"})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.isOpened,o=n.onRest,i=n.onMeasure;if(this.state.currentState!==u){e.to!==this.state.to&&i({height:this.state.to,width:this.content.clientWidth});var a=this.wrapper.clientHeight,s=r?this.getTo():0;a===s?"RESTING"!==this.state.currentState&&"WAITING"!==this.state.currentState||this.setState({currentState:u,from:a,to:s}):this.setState({currentState:"RESIZING",from:a,to:s})}else o()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.raf)}},{key:"render",value:function(){return i.default.createElement(s.Motion,r({},this.getMotionProps(),{onRest:this.onRest,children:this.renderContent}))}}]),e}();p.propTypes={isOpened:a.default.bool.isRequired,springConfig:a.default.objectOf(a.default.number),forceInitialAnimation:a.default.bool,hasNestedCollapse:a.default.bool,fixedHeight:a.default.number,theme:a.default.objectOf(a.default.string),style:a.default.object,onRender:a.default.func,onRest:a.default.func,onMeasure:a.default.func,children:a.default.node.isRequired},p.defaultProps={forceInitialAnimation:!1,hasNestedCollapse:!1,fixedHeight:-1,style:{},theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},onRender:c,onRest:c,onMeasure:c};var h=function(){var t=this;this.onContentRef=function(e){t.content=e},this.onWrapperRef=function(e){t.wrapper=e},this.onRest=function(){t.raf=requestAnimationFrame(t.setResting)},this.setResting=function(){t.setState({currentState:"RESTING"})},this.getTo=function(){var e=t.props.fixedHeight;return e>-1?e:t.content.clientHeight},this.getWrapperStyle=function(e){if(t.state.currentState===u&&t.state.to){var n=t.props.fixedHeight;return n>-1?{overflow:"hidden",height:n}:{height:"auto"}}return"WAITING"!==t.state.currentState||t.state.to?{overflow:"hidden",height:Math.max(0,e)}:{overflow:"hidden",height:0}},this.getMotionProps=function(){var e=t.props.springConfig;return t.state.currentState===u?{defaultStyle:{height:t.state.to},style:{height:t.state.to}}:{defaultStyle:{height:t.state.from},style:{height:(0,s.spring)(t.state.to,r({precision:1},e))}}},this.renderContent=function(e){var n=e.height,o=t.props,a=(o.isOpened,o.springConfig,o.forceInitialAnimation,o.hasNestedCollapse,o.fixedHeight,o.theme),s=o.style,l=o.onRender,u=(o.onRest,o.onMeasure,o.children),c=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(o,["isOpened","springConfig","forceInitialAnimation","hasNestedCollapse","fixedHeight","theme","style","onRender","onRest","onMeasure","children"]),p=t.state;return l({current:n,from:p.from,to:p.to}),i.default.createElement("div",r({ref:t.onWrapperRef,className:a.collapse,style:r({},t.getWrapperStyle(Math.max(0,n)),s)},c),i.default.createElement("div",{ref:t.onContentRef,className:a.content},u))}}},1043:function(t,e,n){"use strict";e.__esModule=!0,e.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},t.exports=e.default},1044:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=v(n(44)),i=v(n(1172)),a=v(n(732)),s=v(n(770)),l=v(n(771)),u=v(n(1045)),c=v(n(3)),p=v(n(0)),h=v(n(45)),f=v(n(747)),d=v(n(1046)),m=v(n(748)),g=v(n(1047));function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return o.onWindowScroll=function(){o.onUpdate()},o.onDocumentClick=function(){(0,u.default)(function(){return o.onUpdate()})},o.onUpdate=function(){if(o._isMounted){var t=o.props,e=t.offsetTop,n=t.viewportOffsetTop,r=(0,l.default)((0,g.default)(o))+(n||0);r<=e?o.updateState("top",null,null):r>o.getPositionTopMax()?"bottom"===o.state.affixed?o.updateStateAtBottom():o.setState({affixed:"bottom",position:"absolute",top:null},function(){o._isMounted&&o.updateStateAtBottom()}):o.updateState("affix","fixed",n)}},o.getPositionTopMax=function(){return(0,d.default)((0,m.default)(o))-(0,i.default)(h.default.findDOMNode(o))-o.props.offsetBottom},o.updateState=function(t,e,n){if(t!==o.state.affixed||e!==o.state.position||n!==o.state.top){var r="affix"===t?"":t.charAt(0).toUpperCase()+t.substr(1);o.props["onAffix"+r]&&o.props["onAffix"+r](),o.setState({affixed:t,position:e,top:n},function(){o.props["onAffixed"+r]&&o.props["onAffixed"+r]()})}},o.updateStateAtBottom=function(){var t=o.getPositionTopMax(),e=(0,s.default)(h.default.findDOMNode(o)),n=(0,a.default)(e).top;o.updateState("bottom","absolute",t-n)},o.state={affixed:"top",position:null,top:null},o._needPositionUpdate=!1,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this._windowScrollListener=(0,f.default)((0,g.default)(this),"scroll",function(){return t.onWindowScroll()}),this._documentClickListener=(0,f.default)((0,m.default)(this),"click",function(){return t.onDocumentClick()}),this.onUpdate()},e.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},e.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},e.prototype.render=function(){var t=p.default.Children.only(this.props.children),e=t.props,n=e.className,i=e.style,a=this.state,s=a.affixed,l={position:a.position,top:a.top},u=void 0,c=void 0;return"top"===s?(u=this.props.topClassName,c=this.props.topStyle):"bottom"===s?(u=this.props.bottomClassName,c=this.props.bottomStyle):(u=this.props.affixClassName,c=this.props.affixStyle),p.default.cloneElement(t,{className:(0,o.default)(u,n),style:r({},l,c,i)})},e}(p.default.Component);y.propTypes={offsetTop:c.default.number,viewportOffsetTop:c.default.number,offsetBottom:c.default.number,topClassName:c.default.string,topStyle:c.default.object,affixClassName:c.default.string,affixStyle:c.default.object,bottomClassName:c.default.string,bottomStyle:c.default.object,onAffix:c.default.func,onAffixed:c.default.func,onAffixTop:c.default.func,onAffixedTop:c.default.func,onAffixBottom:c.default.func,onAffixedBottom:c.default.func},y.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},e.default=y,t.exports=e.default},1045:function(t,e,n){"use strict";var r=n(897);e.__esModule=!0,e.default=void 0;var o,i=r(n(772)),a="clearTimeout",s=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-u)),r=setTimeout(t,n);return u=e,r},l=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some(function(t){var e=l(t,"request");if(e in window)return a=l(t,"cancel"),s=function(t){return window[e](t)}});var u=(new Date).getTime();(o=function(t){return s(t)}).cancel=function(t){window[a]&&"function"==typeof window[a]&&window[a](t)};var c=o;e.default=c,t.exports=e.default},1046:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return Math.max(t.documentElement.offsetHeight||0,t.height||0,t.body.scrollHeight||0,t.body.offsetHeight||0)},t.exports=e.default},1047:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return(0,o.default)(r.default.findDOMNode(t))};var r=i(n(45)),o=i(n(1173));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1048:function(t,e,n){var r=n(725),o=n(736),i=n(726)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},1049:function(t,e,n){var r,o,i,a=n(735),s=n(1190),l=n(794),u=n(795),c=n(709),p=c.process,h=c.setImmediate,f=c.clearImmediate,d=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},f=function(t){delete v[t]},"process"==n(755)(p)?r=function(t){p.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:d?(i=(o=new d).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:f}},1050:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},1051:function(t,e,n){var r=n(725),o=n(753),i=n(900);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},1052:function(t,e,n){"use strict";(function(t){function r(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;var r,o,i="undefined"!=typeof document&&document.attachEvent;if(!i){var a=(o=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)},function(t){return o(t)}),s=(r=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(t){return r(t)}),l=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(t){if(!(t.target.className&&"function"==typeof t.target.className.indexOf&&t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})}},c=!1,p="",h="animationstart",f="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(c=!0),!1===c)for(var g=0;g<f.length;g++)if(void 0!==m.style[f[g]+"AnimationName"]){p="-"+f[g].toLowerCase()+"-",h=d[g],c=!0;break}var v="resizeanim",y="@"+p+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",b=p+"animation: 1ms "+v+"; "}return{addResizeListener:function(t,r){if(i)t.attachEvent("onresize",r);else{if(!t.__resizeTriggers__){var o=t.ownerDocument,a=n.getComputedStyle(t);a&&"static"==a.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],o=t.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(t.createTextNode(n)),r.appendChild(o)}}(o),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=o.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),l(t),t.addEventListener("scroll",u,!0),h&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==v&&l(t)},t.__resizeTriggers__.addEventListener(h,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(i)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(h,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}n.d(e,"a",function(){return r})}).call(this,n(85))},1157:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t.default:t}e.__esModule=!0;var o=n(1158);e.Motion=r(o);var i=n(1159);e.StaggeredMotion=r(i);var a=n(1160);e.TransitionMotion=r(a);var s=n(1162);e.spring=r(s);var l=n(1043);e.presets=r(l);var u=n(885);e.stripStyle=r(u);var c=n(1163);e.reorderKeys=r(c)},1158:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(893)),a=o(n(885)),s=o(n(894)),l=o(n(895)),u=o(n(731)),c=o(n(896)),p=o(n(0)),h=o(n(3)),f=o(n(23)),d=f.default({propTypes:{defaultStyle:h.default.objectOf(h.default.number),style:h.default.objectOf(h.default.oneOfType([h.default.number,h.default.object])).isRequired,children:h.default.func.isRequired,onRest:h.default.func},getInitialState:function(){var t=this.props,e=t.defaultStyle,n=t.style,r=e||a.default(n),o=i.default(r);return{currentStyle:r,currentVelocity:o,lastIdealStyle:r,lastIdealVelocity:o}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(t){var e=!1,n=this.state,o=n.currentStyle,i=n.currentVelocity,a=n.lastIdealStyle,s=n.lastIdealVelocity;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var u=t[l];"number"==typeof u&&(e||(e=!0,o=r({},o),i=r({},i),a=r({},a),s=r({},s)),o[l]=u,i[l]=0,a[l]=u,s[l]=0)}e&&this.setState({currentStyle:o,currentVelocity:i,lastIdealStyle:a,lastIdealVelocity:s})},startAnimationIfNecessary:function(){var t=this;this.animationID=u.default(function(e){var n=t.props.style;if(c.default(t.state.currentStyle,n,t.state.currentVelocity))return t.wasAnimating&&t.props.onRest&&t.props.onRest(),t.animationID=null,t.wasAnimating=!1,void(t.accumulatedTime=0);t.wasAnimating=!0;var r=e||l.default(),o=r-t.prevTime;if(t.prevTime=r,t.accumulatedTime=t.accumulatedTime+o,t.accumulatedTime>1e3/60*10&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();var i=(t.accumulatedTime-Math.floor(t.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),a=Math.floor(t.accumulatedTime/(1e3/60)),u={},p={},h={},f={};for(var d in n)if(Object.prototype.hasOwnProperty.call(n,d)){var m=n[d];if("number"==typeof m)h[d]=m,f[d]=0,u[d]=m,p[d]=0;else{for(var g=t.state.lastIdealStyle[d],v=t.state.lastIdealVelocity[d],y=0;y<a;y++){var b=s.default(1e3/60/1e3,g,v,m.val,m.stiffness,m.damping,m.precision);g=b[0],v=b[1]}var _=s.default(1e3/60/1e3,g,v,m.val,m.stiffness,m.damping,m.precision),x=_[0],w=_[1];h[d]=g+(x-g)*i,f[d]=v+(w-v)*i,u[d]=g,p[d]=v}}t.animationID=null,t.accumulatedTime-=a*(1e3/60),t.setState({currentStyle:h,currentVelocity:f,lastIdealStyle:u,lastIdealVelocity:p}),t.unreadPropStyle=null,t.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=t.style,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},render:function(){var t=this.props.children(this.state.currentStyle);return t&&p.default.Children.only(t)}});e.default=d,t.exports=e.default},1159:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(893)),a=o(n(885)),s=o(n(894)),l=o(n(895)),u=o(n(731)),c=o(n(896)),p=o(n(0)),h=o(n(3)),f=o(n(23));var d=f.default({propTypes:{defaultStyles:h.default.arrayOf(h.default.objectOf(h.default.number)),styles:h.default.func.isRequired,children:h.default.func.isRequired},getInitialState:function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=e||n().map(a.default),o=r.map(function(t){return i.default(t)});return{currentStyles:r,currentVelocities:o,lastIdealStyles:r,lastIdealVelocities:o}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(t){for(var e=this.state,n=e.currentStyles,o=e.currentVelocities,i=e.lastIdealStyles,a=e.lastIdealVelocities,s=!1,l=0;l<t.length;l++){var u=t[l],c=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var h=u[p];"number"==typeof h&&(c||(c=!0,s=!0,n[l]=r({},n[l]),o[l]=r({},o[l]),i[l]=r({},i[l]),a[l]=r({},a[l])),n[l][p]=h,o[l][p]=0,i[l][p]=h,a[l][p]=0)}}s&&this.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:i,lastIdealVelocities:a})},startAnimationIfNecessary:function(){var t=this;this.animationID=u.default(function(e){var n=t.props.styles(t.state.lastIdealStyles);if(function(t,e,n){for(var r=0;r<t.length;r++)if(!c.default(t[r],e[r],n[r]))return!1;return!0}(t.state.currentStyles,n,t.state.currentVelocities))return t.animationID=null,void(t.accumulatedTime=0);var r=e||l.default(),o=r-t.prevTime;if(t.prevTime=r,t.accumulatedTime=t.accumulatedTime+o,t.accumulatedTime>1e3/60*10&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();for(var i=(t.accumulatedTime-Math.floor(t.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),a=Math.floor(t.accumulatedTime/(1e3/60)),u=[],p=[],h=[],f=[],d=0;d<n.length;d++){var m=n[d],g={},v={},y={},b={};for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)){var x=m[_];if("number"==typeof x)g[_]=x,v[_]=0,y[_]=x,b[_]=0;else{for(var w=t.state.lastIdealStyles[d][_],S=t.state.lastIdealVelocities[d][_],C=0;C<a;C++){var T=s.default(1e3/60/1e3,w,S,x.val,x.stiffness,x.damping,x.precision);w=T[0],S=T[1]}var k=s.default(1e3/60/1e3,w,S,x.val,x.stiffness,x.damping,x.precision),O=k[0],E=k[1];g[_]=w+(O-w)*i,v[_]=S+(E-S)*i,y[_]=w,b[_]=S}}h[d]=g,f[d]=v,u[d]=y,p[d]=b}t.animationID=null,t.accumulatedTime-=a*(1e3/60),t.setState({currentStyles:h,currentVelocities:f,lastIdealStyles:u,lastIdealVelocities:p}),t.unreadPropStyles=null,t.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=t.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(u.default.cancel(this.animationID),this.animationID=null)},render:function(){var t=this.props.children(this.state.currentStyles);return t&&p.default.Children.only(t)}});e.default=d,t.exports=e.default},1160:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}var i=o(n(893)),a=o(n(885)),s=o(n(894)),l=o(n(1161)),u=o(n(895)),c=o(n(731)),p=o(n(896)),h=o(n(0)),f=o(n(3)),d=o(n(23));function m(t,e,n){var r=e;return null==r?t.map(function(t,e){return{key:t.key,data:t.data,style:n[e]}}):t.map(function(t,e){for(var o=0;o<r.length;o++)if(r[o].key===t.key)return{key:r[o].key,data:r[o].data,style:n[e]};return{key:t.key,data:t.data,style:n[e]}})}function g(t,e,n,r,o,a,s,u,c){for(var h=l.default(r,o,function(t,r){var o=e(r);return null==o?(n({key:r.key,data:r.data}),null):p.default(a[t],o,s[t])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:o}}),f=[],d=[],m=[],g=[],v=0;v<h.length;v++){for(var y=h[v],b=null,_=0;_<r.length;_++)if(r[_].key===y.key){b=_;break}if(null==b){var x=t(y);f[v]=x,m[v]=x;var w=i.default(y.style);d[v]=w,g[v]=w}else f[v]=a[b],m[v]=u[b],d[v]=s[b],g[v]=c[b]}return[h,f,d,m,g]}var v=d.default({propTypes:{defaultStyles:f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,data:f.default.any,style:f.default.objectOf(f.default.number).isRequired})),styles:f.default.oneOfType([f.default.func,f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,data:f.default.any,style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired}))]).isRequired,children:f.default.func.isRequired,willEnter:f.default.func,willLeave:f.default.func,didLeave:f.default.func},getDefaultProps:function(){return{willEnter:function(t){return a.default(t.style)},willLeave:function(){return null},didLeave:function(){}}},getInitialState:function(){var t=this.props,e=t.defaultStyles,n=t.styles,r=t.willEnter,o=t.willLeave,s=t.didLeave,l="function"==typeof n?n(e):n,u=void 0;u=null==e?l:e.map(function(t){for(var e=0;e<l.length;e++)if(l[e].key===t.key)return l[e];return t});var c=null==e?l.map(function(t){return a.default(t.style)}):e.map(function(t){return a.default(t.style)}),p=null==e?l.map(function(t){return i.default(t.style)}):e.map(function(t){return i.default(t.style)}),h=g(r,o,s,u,l,c,p,c,p),f=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:f}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(t){for(var e=g(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,t,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),n=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=0;l<t.length;l++){var u=t[l].style,c=!1;for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var h=u[p];"number"==typeof h&&(c||(c=!0,o[l]=r({},o[l]),i[l]=r({},i[l]),a[l]=r({},a[l]),s[l]=r({},s[l]),n[l]={key:n[l].key,data:n[l].data,style:r({},n[l].style)}),o[l][p]=h,i[l][p]=0,a[l][p]=h,s[l][p]=0,n[l].style[p]=h)}}this.setState({currentStyles:o,currentVelocities:i,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:s})},startAnimationIfNecessary:function(){var t=this;this.unmounting||(this.animationID=c.default(function(e){if(!t.unmounting){var n=t.props.styles,r="function"==typeof n?n(m(t.state.mergedPropsStyles,t.unreadPropStyles,t.state.lastIdealStyles)):n;if(function(t,e,n,r){if(r.length!==e.length)return!1;for(var o=0;o<r.length;o++)if(r[o].key!==e[o].key)return!1;for(o=0;o<r.length;o++)if(!p.default(t[o],e[o].style,n[o]))return!1;return!0}(t.state.currentStyles,r,t.state.currentVelocities,t.state.mergedPropsStyles))return t.animationID=null,void(t.accumulatedTime=0);var o=e||u.default(),i=o-t.prevTime;if(t.prevTime=o,t.accumulatedTime=t.accumulatedTime+i,t.accumulatedTime>1e3/60*10&&(t.accumulatedTime=0),0===t.accumulatedTime)return t.animationID=null,void t.startAnimationIfNecessary();for(var a=(t.accumulatedTime-Math.floor(t.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),l=Math.floor(t.accumulatedTime/(1e3/60)),c=g(t.props.willEnter,t.props.willLeave,t.props.didLeave,t.state.mergedPropsStyles,r,t.state.currentStyles,t.state.currentVelocities,t.state.lastIdealStyles,t.state.lastIdealVelocities),h=c[0],f=c[1],d=c[2],v=c[3],y=c[4],b=0;b<h.length;b++){var _=h[b].style,x={},w={},S={},C={};for(var T in _)if(Object.prototype.hasOwnProperty.call(_,T)){var k=_[T];if("number"==typeof k)x[T]=k,w[T]=0,S[T]=k,C[T]=0;else{for(var O=v[b][T],E=y[b][T],M=0;M<l;M++){var I=s.default(1e3/60/1e3,O,E,k.val,k.stiffness,k.damping,k.precision);O=I[0],E=I[1]}var A=s.default(1e3/60/1e3,O,E,k.val,k.stiffness,k.damping,k.precision),P=A[0],D=A[1];x[T]=O+(P-O)*a,w[T]=E+(D-E)*a,S[T]=O,C[T]=E}}v[b]=S,y[b]=C,f[b]=x,d[b]=w}t.animationID=null,t.accumulatedTime-=l*(1e3/60),t.setState({currentStyles:f,currentVelocities:d,lastIdealStyles:v,lastIdealVelocities:y,mergedPropsStyles:h}),t.unreadPropStyles=null,t.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(t){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var e=t.styles;this.unreadPropStyles="function"==typeof e?e(m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):e,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},render:function(){var t=m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),e=this.props.children(t);return e&&h.default.Children.only(e)}});e.default=v,t.exports=e.default},1161:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){for(var r={},o=0;o<t.length;o++)r[t[o].key]=o;for(var i={},o=0;o<e.length;o++)i[e[o].key]=o;for(var a=[],o=0;o<e.length;o++)a[o]=e[o];for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(i,t[o].key)){var s=n(o,t[o]);null!=s&&a.push(s)}return a.sort(function(t,n){var o=i[t.key],a=i[n.key],s=r[t.key],l=r[n.key];if(null!=o&&null!=a)return i[t.key]-i[n.key];if(null!=s&&null!=l)return r[t.key]-r[n.key];if(null!=o){for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(o<i[c]&&l>r[c])return-1;if(o>i[c]&&l<r[c])return 1}}return 1}for(var u=0;u<e.length;u++){var c=e[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<i[c]&&s>r[c])return 1;if(a>i[c]&&s<r[c])return-1}}return-1})},t.exports=e.default},1162:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e){return r({},s,e,{val:t})};var o,i=n(1043),a=(o=i)&&o.__esModule?o:{default:o},s=r({},a.default.noWobble,{precision:.01});t.exports=e.default},1163:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){0};t.exports=e.default},1164:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnmountClosed=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(3)),s=n(1042);function l(t){return t&&t.__esModule?t:{default:t}}(e.UnmountClosed=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.componentWillReceiveProps=function(t){var e=t.isOpened;!n.props.isOpened&&e&&n.setState({forceInitialAnimation:!0,shouldUnmount:!1})},n.onRest=function(){var t=n.props,e=t.isOpened,r=t.onRest;e||n.setState({shouldUnmount:!0}),r&&r.apply(void 0,arguments)},n.state={shouldUnmount:!n.props.isOpened,forceInitialAnimation:!n.props.isOpened},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.PureComponent),o(e,[{key:"render",value:function(){var t=this.props,e=t.isOpened,n=(t.onRest,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["isOpened","onRest"])),o=this.state,a=o.forceInitialAnimation;return o.shouldUnmount?null:i.default.createElement(s.Collapse,r({forceInitialAnimation:a,isOpened:e,onRest:this.onRest},n))}}]),e}()).propTypes={isOpened:a.default.bool.isRequired,onRest:a.default.func}},1165:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e,n=this,r=(e=4022871197,function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var n=new a(t),r=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(227)&&n(818)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.alea=l}(0,t,n(227))}).call(this,n(228)(t))},1166:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(227)&&n(818)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xor128=l}(0,t,n(227))}).call(this,n(228)(t))},1167:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(227)&&n(818)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xorwow=l}(0,t,n(227))}).call(this,n(228)(t))},1168:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(227)&&n(818)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xorshift7=l}(0,t,n(227))}).call(this,n(228)(t))},1169:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,i=e.i;return e.w=r=r+1640531527|0,n=o[i+34&127],t=o[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,o,i,a,s=[],l=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,l=Math.max(l,e.length)),o=0,i=-32;i<l;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;t.w=a,t.X=s,t.i=o}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(227)&&n(818)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.xor4096=l}(0,t,n(227))}).call(this,n(228)(t))},1170:function(t,e,n){(function(t){var r;!function(t,o,i){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var n=new a(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n(227)&&n(818)?void 0===(r=function(){return l}.call(e,n,e,o))||(o.exports=r):this.tychei=l}(0,t,n(227))}).call(this,n(228)(t))},1171:function(t,e,n){var r;!function(o,i){var a,s=(0,eval)("this"),l=256,u=6,c="random",p=i.pow(l,u),h=i.pow(2,52),f=2*h,d=l-1;function m(t,e,n){var r=[],d=y(function t(e,n){var r,o=[],i=typeof e;if(n&&"object"==i)for(r in e)try{o.push(t(e[r],n-1))}catch(t){}return o.length?o:"string"==i?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,b(o)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(l):(t=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(t)),b(t)}catch(t){var e=s.navigator,n=e&&e.plugins;return[+new Date,s,n,s.screen,b(o)]}}():t,3),r),m=new g(r),_=function(){for(var t=m.g(u),e=p,n=0;t<h;)t=(t+n)*l,e*=l,n=m.g(1);for(;t>=f;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|m.g(4)},_.quick=function(){return m.g(4)/4294967296},_.double=_,y(b(m.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&v(r,m),t.state=function(){return v(m,{})}),n?(i[c]=t,e):t})(_,d,"global"in e?e.global:this==i,e.state)}function g(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);o<l;)a[o]=o++;for(o=0;o<l;o++)a[o]=a[i=d&i+t[o%n]+(e=a[o])],a[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,a=r.S;t--;)e=a[o=d&o+1],n=n*l+a[d&(a[o]=a[i=d&i+e])+(a[i]=e)];return r.i=o,r.j=i,n})(l)}function v(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){for(var n,r=t+"",o=0;o<r.length;)e[d&o]=d&(n^=19*e[d&o])+r.charCodeAt(o++);return b(e)}function b(t){return String.fromCharCode.apply(0,t)}if(i["seed"+c]=m,y(i.random(),o),t.exports){t.exports=m;try{a=n(767)}catch(t){}}else void 0===(r=function(){return m}.call(e,n,e,t))||(t.exports=r)}([],Math)},1172:function(t,e,n){"use strict";var r=n(897);e.__esModule=!0,e.default=function(t,e){var n=(0,i.default)(t);return n?n.innerHeight:e?t.clientHeight:(0,o.default)(t).height};var o=r(n(732)),i=r(n(769));t.exports=e.default},1173:function(t,e,n){"use strict";var r=n(897);e.__esModule=!0,e.default=function(t){var e=(0,o.default)(t);return e&&e.defaultView||e.parentWindow};var o=r(n(773));t.exports=e.default},1174:function(t,e,n){"use strict";e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=m(n(732)),i=m(n(1045)),a=m(n(3)),s=m(n(774)),l=m(n(0)),u=m(n(1044)),c=m(n(747)),p=m(n(775)),h=m(n(1046)),f=m(n(748)),d=m(n(1047));function m(t){return t&&t.__esModule?t:{default:t}}var g=r({},u.default.propTypes,{container:a.default.oneOfType([s.default,a.default.func]),autoWidth:a.default.bool}),v=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n,r));return a.onWindowScroll=function(){a.onUpdate()},a.onWindowResize=function(){a.props.autoWidth&&(0,i.default)(function(){return a.onUpdate()})},a.onDocumentClick=function(){(0,i.default)(function(){return a.onUpdate()})},a.onUpdate=function(){if(a._isMounted){var t=(0,o.default)(a.positioner),e=t.top,n=t.width,r=(0,p.default)(a.props.container),i=void 0;if(r){var s=(0,h.default)((0,f.default)(a)),l=(0,o.default)(r);i=s-l.top-l.height}else i=null;a.updateState(e,i,n)}},a.updateState=function(t,e,n){t===a.state.offsetTop&&e===a.state.offsetBottom&&n===a.state.width||a.setState({offsetTop:t,offsetBottom:e,width:n})},a.state={offsetTop:null,offsetBottom:null,width:null},a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this._windowScrollListener=(0,c.default)((0,d.default)(this),"scroll",function(){return t.onWindowScroll()}),this._windowResizeListener=(0,c.default)((0,d.default)(this),"resize",function(){return t.onWindowResize()}),this._documentClickListener=(0,c.default)((0,f.default)(this),"click",function(){return t.onDocumentClick()}),this.onUpdate()},e.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},e.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},e.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},e.prototype.render=function(){var t=this,e=this.props,n=e.autoWidth,o=e.viewportOffsetTop,i=e.children,a=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["autoWidth","viewportOffsetTop","children"]),s=this.state,c=s.offsetTop,p=s.offsetBottom,h=s.width;delete a.container;var f=Math.max(c,o||0),d=this.props,m=d.affixStyle,g=d.bottomStyle;return n&&(m=r({width:h},m),g=r({width:h},g)),l.default.createElement("div",null,l.default.createElement("div",{ref:function(e){t.positioner=e}}),l.default.createElement(u.default,r({},a,{offsetTop:f,viewportOffsetTop:o,offsetBottom:p,affixStyle:m,bottomStyle:g}),i))},e}(l.default.Component);v.displayName="AutoAffix",v.propTypes=g,v.defaultProps={viewportOffsetTop:0,autoWidth:!0},e.default=v,t.exports=e.default},1175:function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t,e){!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t}},1176:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(1177)),o=i(n(1178));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=(0,o.default)(t);return function(n,o){return(0,r.default)(!1,e,t,n,o)}}},1177:function(t,e,n){"use strict";e.__esModule=!0;var r,o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(0),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n,r,i){if(!t&&e)return n(i?o({},r,{children:i}):r);var s=n;return i?a.default.createElement(s,r,i):a.default.createElement(s,r)}},1178:function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1179),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){return Boolean(!("function"!=typeof t||(0,i.default)(t)||t.defaultProps||t.contextTypes))}},1179:function(t,e,n){"use strict";e.__esModule=!0;e.default=function(t){return Boolean(t&&t.prototype&&"object"==typeof t.prototype.isReactComponent)}},1180:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={position:"absolute",width:"1px",height:"1px",padding:"0px",margin:"-1px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",border:"0px"},t.exports=e.default},1181:function(t,e,n){n(1182),t.exports=n(630).Object.getPrototypeOf},1182:function(t,e,n){var r=n(750),o=n(784);n(898)("getPrototypeOf",function(){return function(t){return o(r(t))}})},1183:function(t,e,n){n(1184),t.exports=n(630).Object.keys},1184:function(t,e,n){var r=n(750),o=n(788);n(898)("keys",function(){return function(t){return o(r(t))}})},1185:function(t,e,n){t.exports={default:n(1186),__esModule:!0}},1186:function(t,e,n){n(789),n(733),n(734),n(1187),n(1195),n(1196),t.exports=n(630).Promise},1187:function(t,e,n){"use strict";var r,o,i,a,s=n(790),l=n(709),u=n(735),c=n(752),p=n(722),h=n(753),f=n(736),d=n(1188),m=n(1189),g=n(1048),v=n(1049).set,y=n(1191)(),b=n(900),_=n(1050),x=n(1192),w=n(1051),S=l.TypeError,C=l.process,T=C&&C.versions,k=T&&T.v8||"",O=l.Promise,E="process"==c(C),M=function(){},I=o=b.f,A=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n(726)("species")]=function(t){t(M,M)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==k.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(o||(2==t._h&&z(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?u(S("Promise-chain cycle")):(i=P(n))?i.call(n,l,u):l(n)):u(r)}catch(t){c&&!a&&c.exit(),u(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(l,function(){var e,n,r,o=t._v,i=F(t);if(i&&(e=_(function(){E?C.emit("unhandledRejection",o,t):(n=l.onunhandledrejection)?n({promise:t,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=E||F(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},z=function(t){v.call(l,function(){var e;E?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=P(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,u(N,r,1),u(j,r,1))}catch(t){j.call(r,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};A||(O=function(t){d(this,O,"Promise","_h"),f(t),r.call(this);try{t(u(N,this,1),u(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(1193)(O.prototype,{then:function(t,e){var n=I(g(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(j,t,1)},b.f=I=function(t){return t===O||t===a?new i(t):o(t)}),p(p.G+p.W+p.F*!A,{Promise:O}),n(797)(O,"Promise"),n(1194)("Promise"),a=n(630).Promise,p(p.S+p.F*!A,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!A),"Promise",{resolve:function(t){return w(s&&this===a?O:this,t)}}),p(p.S+p.F*!(A&&n(798)(function(t){O.all(t).catch(M)})),"Promise",{all:function(t){var e=this,n=I(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;m(t,!1,function(t){var s=i++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=I(e),r=n.reject,o=_(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},1188:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},1189:function(t,e,n){var r=n(735),o=n(791),i=n(792),a=n(725),s=n(793),l=n(754),u={},c={};(e=t.exports=function(t,e,n,p,h){var f,d,m,g,v=h?function(){return t}:l(t),y=r(n,p,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(f=s(t.length);f>b;b++)if((g=e?y(a(d=t[b])[0],d[1]):y(t[b]))===u||g===c)return g}else for(m=v.call(t);!(d=m.next()).done;)if((g=o(m,y,d.value,e))===u||g===c)return g}).BREAK=u,e.RETURN=c},1190:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},1191:function(t,e,n){var r=n(709),o=n(1049).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(755)(a);t.exports=function(){var t,e,n,u=function(){var r,o;for(l&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(u)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){o.call(r,u)};else{var p=!0,h=document.createTextNode("");new i(u).observe(h,{characterData:!0}),n=function(){h.data=p=!p}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},1192:function(t,e,n){var r=n(709).navigator;t.exports=r&&r.userAgent||""},1193:function(t,e,n){var r=n(796);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},1194:function(t,e,n){"use strict";var r=n(709),o=n(630),i=n(764),a=n(763),s=n(726)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},1195:function(t,e,n){"use strict";var r=n(722),o=n(630),i=n(709),a=n(1048),s=n(1051);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},1196:function(t,e,n){"use strict";var r=n(722),o=n(900),i=n(1050);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},1197:function(t,e,n){t.exports={default:n(1198),__esModule:!0}},1198:function(t,e,n){n(1199);var r=n(630).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},1199:function(t,e,n){var r=n(799),o=n(800).f;n(898)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},1200:function(t,e,n){"use strict";e.__esModule=!0;var r=i(n(1201)),o=i(n(1204));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(t);!(r=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},1201:function(t,e,n){t.exports={default:n(1202),__esModule:!0}},1202:function(t,e,n){n(734),n(733),t.exports=n(1203)},1203:function(t,e,n){var r=n(752),o=n(726)("iterator"),i=n(801);t.exports=n(630).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(r(e))}},1204:function(t,e,n){t.exports={default:n(1205),__esModule:!0}},1205:function(t,e,n){n(734),n(733),t.exports=n(1206)},1206:function(t,e,n){var r=n(725),o=n(754);t.exports=n(630).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},516:function(t,e,n){"use strict";var r=n(730),o=n(0),i=n.n(o),a=n(44),s=n.n(a),l=n(152),u=n(7),c=n(18),p=n(9),h=n.n(p),f=n(817),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function m(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var g={get:function(t,e,n){if(!e)return t;var r=y(e),o=void 0;try{o=r.reduce(function(t,e){return t[e]},t)}catch(t){}return void 0!==o?o:n},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2],r=y(e),o=void 0,i=t;for(;(o=r.shift())&&r.length;)i[o]||(i[o]={}),i=i[o];return i[o]=n,t},takeRight:function(t,e){var n=e>t.length?0:t.length-e;return t.slice(n)},last:function(t){return t[t.length-1]},orderBy:function(t,e,n,r){return t.sort(function(t,o){for(var i=0;i<e.length;i+=1){var a=e[i],s=!1===n[i]||"desc"===n[i],l=a(t,o);if(l)return s?-l:l}return n[0]?t[r]-o[r]:o[r]-t[r]})},range:function(t){for(var e=[],n=0;n<t;n+=1)e.push(t);return e},remove:function(t,e){return t.filter(function(n,r){var o=e(n);return!!o&&(t.splice(r,1),!0)})},clone:function(t){try{return JSON.parse(JSON.stringify(t,function(t,e){return"function"==typeof e?e.toString():e}))}catch(e){return t}},getFirstDefined:function(){for(var t=0;t<arguments.length;t+=1)if(void 0!==(arguments.length<=t?void 0:arguments[t]))return arguments.length<=t?void 0:arguments[t]},sum:function(t){return t.reduce(function(t,e){return t+e},0)},makeTemplateComponent:function(t,e){if(!e)throw new Error("No displayName found for template component:",t);var n=function(e){var n=e.children,r=e.className,o=m(e,["children","className"]);return i.a.createElement("div",d({className:s()(t,r)},o),n)};return n.displayName=e,n},groupBy:function(t,e){return t.reduce(function(t,n,r){var o="function"==typeof e?e(n,r):n[e];return t[o]=v(t[o])?t[o]:[],t[o].push(n),t},{})},isArray:v,splitProps:function(t){var e=t.className,n=t.style,r=m(t,["className","style"]);return{className:e,style:n,rest:r||{}}},compactObject:function(t){var e={};t&&Object.keys(t).map(function(n){return Object.prototype.hasOwnProperty.call(t,n)&&void 0!==t[n]&&void 0!==t[n]&&(e[n]=t[n]),!0});return e},isSortingDesc:function(t){return!("desc"!==t.sort&&!0!==t.desc&&!1!==t.asc)},normalizeComponent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return"function"==typeof t?i.a.createElement(t,e):n},asPx:function(t){return t=Number(t),Number.isNaN(t)?null:t+"px"}};function v(t){return Array.isArray(t)}function y(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(v(e))for(var r=0;r<e.length;r+=1)t(e[r],n);else n.push(e);return n}(t).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}var b=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var _=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),b(n,[{key:"componentWillMount",value:function(){this.setStateWithData(this.getDataModel(this.getResolvedState(),!0))}},{key:"componentDidMount",value:function(){this.fireFetchData()}},{key:"componentWillReceiveProps",value:function(t,e){var n=this.getResolvedState(),r=this.getResolvedState(t,e);["sorted","filtered","resized","expanded"].forEach(function(t){var e="default"+(t.charAt(0).toUpperCase()+t.slice(1));JSON.stringify(n[e])!==JSON.stringify(r[e])&&(r[t]=r[e])});["sortable","filterable","resizable"].forEach(function(t){if(n[t]!==r[t]){var e=t.replace("able","")+"ed",o="default"+(e.charAt(0).toUpperCase()+e.slice(1));r[e]=r[o]}}),n.data===r.data&&n.columns===r.columns&&n.pivotBy===r.pivotBy&&n.sorted===r.sorted&&n.filtered===r.filtered||this.setStateWithData(this.getDataModel(r,n.data!==r.data))}},{key:"setStateWithData",value:function(t,e){var n=this,r=this.getResolvedState(),o=this.getResolvedState({},t),i=o.freezeWhenExpanded;if(o.frozen=!1,i)for(var a=Object.keys(o.expanded),s=0;s<a.length;s+=1)if(o.expanded[a[s]]){o.frozen=!0;break}return(r.frozen&&!o.frozen||r.sorted!==o.sorted||r.filtered!==o.filtered||r.showFilters!==o.showFilters||!o.frozen&&r.resolvedData!==o.resolvedData)&&((r.sorted!==o.sorted&&this.props.collapseOnSortingChange||r.filtered!==o.filtered||r.showFilters!==o.showFilters||r.sortedData&&!o.frozen&&r.resolvedData!==o.resolvedData&&this.props.collapseOnDataChange)&&(o.expanded={}),Object.assign(o,this.getSortedData(o))),r.filtered!==o.filtered&&(o.page=0),o.sortedData&&(o.pages=o.manual?o.pages:Math.ceil(o.sortedData.length/o.pageSize),o.page=o.manual?o.page:Math.max(o.page>=o.pages?o.pages-1:o.page,0)),this.setState(o,function(){e&&e(),r.page===o.page&&r.pageSize===o.pageSize&&r.sorted===o.sorted&&r.filtered===o.filtered||n.fireFetchData()})}}]),n}()},x=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var k=function(t){return function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),S(n,[{key:"getResolvedState",value:function(t,e){return w({},g.compactObject(this.state),g.compactObject(this.props),g.compactObject(e),g.compactObject(t))}},{key:"getDataModel",value:function(t,e){var n=this,r=t.columns,o=t.pivotBy,a=void 0===o?[]:o,s=t.data,l=t.resolveData,u=t.pivotIDKey,c=t.pivotValKey,p=t.subRowsKey,h=t.aggregatedKey,f=t.nestingLevelKey,d=t.originalKey,m=t.indexKey,v=t.groupedByPivotKey,y=t.SubComponent,b=!1;r.forEach(function(t){t.columns&&(b=!0)});var _=[].concat(T(r)),S=r.find(function(t){return t.expander||t.columns&&t.columns.some(function(t){return t.expander})});S&&!S.expander&&(S=S.columns.find(function(t){return t.expander})),y&&!S&&(_=[S={expander:!0}].concat(T(_)));var k=[],O=function(t,e){var r=function(t,e){var r=void 0;if((r=t.expander?w({},n.props.column,n.props.expanderDefaults,t):w({},n.props.column,t)).maxWidth<r.minWidth&&(r.minWidth=r.maxWidth),e&&(r.parentColumn=e),"string"==typeof r.accessor){r.id=r.id||r.accessor;var o=r.accessor;return r.accessor=function(t){return g.get(t,o)},r}if(r.accessor&&!r.id)throw console.warn(r),new Error("A column id is required if using a non-string accessor for column above.");return r.accessor||(r.accessor=function(){}),r}(t,e);return k.push(r),r},E=_.map(function(t){return t.columns?w({},t,{columns:t.columns.map(function(e){return O(e,t)})}):O(t)}).slice(),M=[],I=(E=(E=E.map(function(t){if(t.columns){var e=t.columns.filter(function(t){return!(a.indexOf(t.id)>-1)&&g.getFirstDefined(t.show,!0)});return w({},t,{columns:e})}return t})).filter(function(t){return t.columns?t.columns.length:!(a.indexOf(t.id)>-1)&&g.getFirstDefined(t.show,!0)})).findIndex(function(t){return t.pivot});if(a.length){var A=[];a.forEach(function(t){var e=k.find(function(e){return e.id===t});e&&A.push(e)});var P=A.reduce(function(t,e){return t&&t===e.parentColumn&&e.parentColumn},A[0].parentColumn),D=b&&P.Header,R={Header:D=D||function(){return i.a.createElement("strong",null,"Pivoted")},columns:A.map(function(t){return w({},n.props.pivotDefaults,t,{pivoted:!0})})};I>=0?(R=w({},E[I],R),E.splice(I,1,R)):E.unshift(R)}var F=[],z=[],j=function(t,e){F.push(w({},n.props.column,e,{columns:t})),z=[]};E.forEach(function(t){if(t.columns)return M=M.concat(t.columns),z.length>0&&j(z),void j(t.columns,t);M.push(t),z.push(t)}),b&&z.length>0&&j(z);var N=this.resolvedData;this.resolvedData&&!e||(N=l(s),this.resolvedData=N),N=N.map(function(t,e){return function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(C(r={},d,e),C(r,m,n),C(r,p,e[p]),C(r,f,o),r);return k.forEach(function(t){t.expander||(i[t.id]=t.accessor(e))}),i[p]&&(i[p]=i[p].map(function(e,n){return t(e,n,o+1)})),i}(t,e)});var L=M.filter(function(t){return!t.expander&&t.aggregate});if(a.length){N=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===n.length)return e;var o=Object.entries(g.groupBy(e,n[r])).map(function(t){var e,o=x(t,2),i=o[0],a=o[1];return C(e={},u,n[r]),C(e,c,i),C(e,n[r],i),C(e,p,a),C(e,f,r),C(e,v,!0),e});return o=o.map(function(e){var o,i,a,s=t(e[p],n,r+1);return w({},e,(C(o={},p,s),C(o,h,!0),o),(i=s,a={},L.forEach(function(t){var e=i.map(function(e){return e[t.id]});a[t.id]=t.aggregate(e,i)}),a))})}(N,a)}return w({},t,{resolvedData:N,allVisibleColumns:M,headerGroups:F,allDecoratedColumns:k,hasHeaderGroups:b})}},{key:"getSortedData",value:function(t){var e=t.manual,n=t.sorted,r=t.filtered,o=t.defaultFilterMethod,i=t.resolvedData,a=t.allDecoratedColumns,s={};return a.filter(function(t){return t.sortMethod}).forEach(function(t){s[t.id]=t.sortMethod}),{sortedData:e?i:this.sortData(this.filterData(i,r,o,a),n,s)}}},{key:"fireFetchData",value:function(){var t=w({},this.getResolvedState(),{page:this.getStateOrProp("page"),pageSize:this.getStateOrProp("pageSize"),filter:this.getStateOrProp("filter")});this.props.onFetchData(t,this)}},{key:"getPropOrState",value:function(t){return g.getFirstDefined(this.props[t],this.state[t])}},{key:"getStateOrProp",value:function(t){return g.getFirstDefined(this.state[t],this.props[t])}},{key:"filterData",value:function(t,e,n,r){var o=this,i=t;return e.length&&(i=(i=e.reduce(function(t,e){var o=r.find(function(t){return t.id===e.id});if(!o||!1===o.filterable)return t;var i=o.filterMethod||n;return o.filterAll?i(e,t,o):t.filter(function(t){return i(e,t,o)})},i)).map(function(t){return t[o.props.subRowsKey]?w({},t,C({},o.props.subRowsKey,o.filterData(t[o.props.subRowsKey],e,n,r))):t}).filter(function(t){return!t[o.props.subRowsKey]||t[o.props.subRowsKey].length>0})),i}},{key:"sortData",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.length)return t;var o=(this.props.orderByMethod||g.orderBy)(t,e.map(function(t){return r[t.id]?function(e,n){return r[t.id](e[t.id],n[t.id],t.desc)}:function(e,r){return n.props.defaultSortMethod(e[t.id],r[t.id],t.desc)}}),e.map(function(t){return!t.desc}),this.props.indexKey);return o.forEach(function(t){t[n.props.subRowsKey]&&(t[n.props.subRowsKey]=n.sortData(t[n.props.subRowsKey],e,r))}),o}},{key:"getMinRows",value:function(){return g.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function(t){var e=this.props,n=e.onPageChange,r=e.collapseOnPageChange,o={page:t};r&&(o.expanded={}),this.setStateWithData(o,function(){return n&&n(t)})}},{key:"onPageSizeChange",value:function(t){var e=this.props.onPageSizeChange,n=this.getResolvedState(),r=n.pageSize*n.page,o=Math.floor(r/t);this.setStateWithData({pageSize:t,page:o},function(){return e&&e(t,o)})}},{key:"sortColumn",value:function(t,e){var n=this.getResolvedState(),r=n.sorted,o=n.skipNextSort,i=n.defaultSortDesc,a=Object.prototype.hasOwnProperty.call(t,"defaultSortDesc")?t.defaultSortDesc:i,s=!a;if(o)this.setStateWithData({skipNextSort:!1});else{var l=this.props.onSortedChange,u=g.clone(r||[]).map(function(t){return t.desc=g.isSortingDesc(t),t});if(g.isArray(t)){var c=u.findIndex(function(e){return e.id===t[0].id});if(c>-1)u[c].desc===s?e?u.splice(c,t.length):t.forEach(function(t,e){u[c+e].desc=a}):t.forEach(function(t,e){u[c+e].desc=s}),e||(u=u.slice(c,t.length));else u=e?u.concat(t.map(function(t){return{id:t.id,desc:a}})):t.map(function(t){return{id:t.id,desc:a}})}else{var p=u.findIndex(function(e){return e.id===t.id});if(p>-1){var h=u[p];h.desc===s?e?u.splice(p,1):(h.desc=a,u=[h]):(h.desc=s,e||(u=[h]))}else e?u.push({id:t.id,desc:a}):u=[{id:t.id,desc:a}]}this.setStateWithData({page:!r.length&&u.length||!e?0:this.state.page,sorted:u},function(){return l&&l(u,t,e)})}}},{key:"filterColumn",value:function(t,e){var n=this.getResolvedState().filtered,r=this.props.onFilteredChange,o=(n||[]).filter(function(e){return e.id!==t.id});""!==e&&o.push({id:t.id,value:e}),this.setStateWithData({filtered:o},function(){return r&&r(o,t,e)})}},{key:"resizeColumnStart",value:function(t,e,n){var r=this;t.stopPropagation();var o=t.target.parentElement.getBoundingClientRect().width,i=void 0;i=n?t.changedTouches[0].pageX:t.pageX,this.trapEvents=!0,this.setStateWithData({currentlyResizing:{id:e.id,startX:i,parentWidth:o}},function(){n?(document.addEventListener("touchmove",r.resizeColumnMoving),document.addEventListener("touchcancel",r.resizeColumnEnd),document.addEventListener("touchend",r.resizeColumnEnd)):(document.addEventListener("mousemove",r.resizeColumnMoving),document.addEventListener("mouseup",r.resizeColumnEnd),document.addEventListener("mouseleave",r.resizeColumnEnd))})}},{key:"resizeColumnMoving",value:function(t){t.stopPropagation();var e=this.props,n=e.onResizedChange,r=e.column,o=this.getResolvedState(),i=o.resized,a=o.currentlyResizing,s=o.columns.find(function(t){return t.accessor===a.id||t.id===a.id}),l=s&&null!=s.minResizeWidth?s.minResizeWidth:r.minResizeWidth,u=i.filter(function(t){return t.id!==a.id}),c=void 0;"touchmove"===t.type?c=t.changedTouches[0].pageX:"mousemove"===t.type&&(c=t.pageX);var p=Math.max(a.parentWidth+c-a.startX,l);u.push({id:a.id,value:p}),this.setStateWithData({resized:u},function(){return n&&n(u,t)})}},{key:"resizeColumnEnd",value:function(t){t.stopPropagation();var e="touchend"===t.type||"touchcancel"===t.type;e&&(document.removeEventListener("touchmove",this.resizeColumnMoving),document.removeEventListener("touchcancel",this.resizeColumnEnd),document.removeEventListener("touchend",this.resizeColumnEnd)),document.removeEventListener("mousemove",this.resizeColumnMoving),document.removeEventListener("mouseup",this.resizeColumnEnd),document.removeEventListener("mouseleave",this.resizeColumnEnd),e||this.setStateWithData({skipNextSort:!0,currentlyResizing:!1})}}]),n}()},O=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var M=function(t){return i.a.createElement("button",E({type:"button"},t,{className:"-btn"}),t.children)},I=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.getSafePage=n.getSafePage.bind(n),n.changePage=n.changePage.bind(n),n.applyPage=n.applyPage.bind(n),n.state={page:t.page},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o["Component"]),O(e,[{key:"componentWillReceiveProps",value:function(t){this.props.page!==t.page&&this.setState({page:t.page})}},{key:"getSafePage",value:function(t){return Number.isNaN(t)&&(t=this.props.page),Math.min(Math.max(t,0),this.props.pages-1)}},{key:"changePage",value:function(t){t=this.getSafePage(t),this.setState({page:t}),this.props.page!==t&&this.props.onPageChange(t)}},{key:"applyPage",value:function(t){t&&t.preventDefault();var e=this.state.page;this.changePage(""===e?this.props.page:e)}},{key:"getPageJumpProperties",value:function(){var t=this;return{onKeyPress:function(e){13!==e.which&&13!==e.keyCode||t.applyPage()},onBlur:this.applyPage,value:""===this.state.page?"":this.state.page+1,onChange:function(e){var n=e.target.value,r=n-1;if(""===n)return t.setState({page:n});t.setState({page:t.getSafePage(r)})},inputType:""===this.state.page?"text":"number",pageJumpText:this.props.pageJumpText}}},{key:"render",value:function(){var t=this,e=this.props,n=e.pages,r=e.page,o=e.showPageSizeOptions,a=e.pageSizeOptions,l=e.pageSize,u=e.showPageJump,c=e.canPrevious,p=e.canNext,h=e.onPageSizeChange,f=e.className,d=e.PreviousComponent,m=e.NextComponent,g=e.renderPageJump,v=e.renderCurrentPage,y=e.renderTotalPagesCount,b=e.renderPageSizeOptions;return i.a.createElement("div",{className:s()(f,"-pagination"),style:this.props.style},i.a.createElement("div",{className:"-previous"},i.a.createElement(d,{onClick:function(){c&&t.changePage(r-1)},disabled:!c},this.props.previousText)),i.a.createElement("div",{className:"-center"},i.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",u?g(this.getPageJumpProperties()):v(r)," ",this.props.ofText," ",y(n)),o&&b({pageSize:l,rowsSelectorText:this.props.rowsSelectorText,pageSizeOptions:a,onPageSizeChange:h,rowsText:this.props.rowsText})),i.a.createElement("div",{className:"-next"},i.a.createElement(m,{onClick:function(){p&&t.changePage(r+1)},disabled:!p},this.props.nextText)))}}]),e}();I.defaultProps={PreviousComponent:M,NextComponent:M,renderPageJump:function(t){var e=t.onChange,n=t.value,r=t.onBlur,o=t.onKeyPress,a=t.inputType,s=t.pageJumpText;return i.a.createElement("div",{className:"-pageJump"},i.a.createElement("input",{"aria-label":s,type:a,onChange:e,value:n,onBlur:r,onKeyPress:o}))},renderCurrentPage:function(t){return i.a.createElement("span",{className:"-currentPage"},t+1)},renderTotalPagesCount:function(t){return i.a.createElement("span",{className:"-totalPages"},t||1)},renderPageSizeOptions:function(t){var e=t.pageSize,n=t.pageSizeOptions,r=t.rowsSelectorText,o=t.onPageSizeChange,a=t.rowsText;return i.a.createElement("span",{className:"select-wrap -pageSizeOptions"},i.a.createElement("select",{"aria-label":r,onChange:function(t){return o(Number(t.target.value))},value:e},n.map(function(t,e){return i.a.createElement("option",{key:e,value:t},t+" "+a)})))}};var A=I,P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function D(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var R=function(){return{}},F={data:[],resolveData:function(t){return t},loading:!1,showPagination:!0,showPaginationTop:!1,showPaginationBottom:!0,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],defaultPage:0,defaultPageSize:20,showPageJump:!0,collapseOnSortingChange:!0,collapseOnPageChange:!0,collapseOnDataChange:!0,freezeWhenExpanded:!1,sortable:!0,multiSort:!0,resizable:!0,filterable:!1,defaultSortDesc:!1,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function(t,e,n){var r=t.pivotId||t.id;return void 0===e[r]||String(e[r]).startsWith(t.value)},defaultSortMethod:function(t,e,n){return e=null==e?"":e,(t="string"==typeof(t=null==t?"":t)?t.toLowerCase():t)>(e="string"==typeof e?e.toLowerCase():e)?1:t<e?-1:0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function(){return null},className:"",style:{},getProps:R,getTableProps:R,getTheadGroupProps:R,getTheadGroupTrProps:R,getTheadGroupThProps:R,getTheadProps:R,getTheadTrProps:R,getTheadThProps:R,getTheadFilterProps:R,getTheadFilterTrProps:R,getTheadFilterThProps:R,getTbodyProps:R,getTrGroupProps:R,getTrProps:R,getTdProps:R,getTfootProps:R,getTfootTrProps:R,getTfootTdProps:R,getPaginationProps:R,getLoadingProps:R,getNoDataProps:R,getResizerProps:R,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,Placeholder:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:!0,minWidth:100,minResizeWidth:11,className:"",style:{},getProps:R,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:R,footerClassName:"",footerStyle:{},getFooterProps:R,filterMethod:void 0,filterAll:!1,sortMethod:void 0},expanderDefaults:{sortable:!1,resizable:!1,filterable:!1,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",pageJumpText:"jump to page",rowsSelectorText:"rows per page",TableComponent:function(t){var e=t.children,n=t.className,r=D(t,["children","className"]);return i.a.createElement("div",P({className:s()("rt-table",n),role:"grid"},r),e)},TheadComponent:g.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:g.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function(t){var e=t.children,n=t.className,r=D(t,["children","className"]);return i.a.createElement("div",P({className:s()("rt-tr-group",n),role:"rowgroup"},r),e)},TrComponent:function(t){var e=t.children,n=t.className,r=D(t,["children","className"]);return i.a.createElement("div",P({className:s()("rt-tr",n),role:"row"},r),e)},ThComponent:function(t){var e=t.toggleSort,n=t.className,r=t.children,o=D(t,["toggleSort","className","children"]);return i.a.createElement("div",P({className:s()("rt-th",n),onClick:function(t){return e&&e(t)},role:"columnheader",tabIndex:"-1"},o),r)},TdComponent:function(t){t.toggleSort;var e=t.className,n=t.children,r=D(t,["toggleSort","className","children"]);return i.a.createElement("div",P({className:s()("rt-td",e),role:"gridcell"},r),n)},TfootComponent:g.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function(t){var e=t.filter,n=t.onChange,r=t.column;return i.a.createElement("input",{type:"text",style:{width:"100%"},placeholder:r.Placeholder,value:e?e.value:"",onChange:function(t){return n(t.target.value)}})},ExpanderComponent:function(t){var e=t.isExpanded;return i.a.createElement("div",{className:s()("rt-expander",e&&"-open")},"")},PivotValueComponent:function(t){var e=t.subRows,n=t.value;return i.a.createElement("span",null,n," ",e&&"("+e.length+")")},AggregatedComponent:function(t){var e=t.subRows,n=t.column,r=e.filter(function(t){return void 0!==t[n.id]}).map(function(t,r){return i.a.createElement("span",{key:r},t[n.id],r<e.length-1?", ":"")});return i.a.createElement("span",null,r)},PivotComponent:void 0,PaginationComponent:A,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function(t){var e=t.className,n=t.loading,r=t.loadingText,o=D(t,["className","loading","loadingText"]);return i.a.createElement("div",P({className:s()("-loading",{"-active":n},e)},o),i.a.createElement("div",{className:"-loading-inner"},r))},NoDataComponent:g.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:g.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function(){return i.a.createElement("span",null,"")}},z=n(3),j=n.n(z),N={data:j.a.any,loading:j.a.bool,showPagination:j.a.bool,showPaginationTop:j.a.bool,showPaginationBottom:j.a.bool,showPageSizeOptions:j.a.bool,pageSizeOptions:j.a.array,defaultPageSize:j.a.number,showPageJump:j.a.bool,collapseOnSortingChange:j.a.bool,collapseOnPageChange:j.a.bool,collapseOnDataChange:j.a.bool,freezeWhenExpanded:j.a.bool,sortable:j.a.bool,resizable:j.a.bool,filterable:j.a.bool,defaultSortDesc:j.a.bool,defaultSorted:j.a.array,defaultFiltered:j.a.array,defaultResized:j.a.array,defaultExpanded:j.a.object,defaultFilterMethod:j.a.func,defaultSortMethod:j.a.func,onPageChange:j.a.func,onPageSizeChange:j.a.func,onSortedChange:j.a.func,onFilteredChange:j.a.func,onResizedChange:j.a.func,onExpandedChange:j.a.func,pivotBy:j.a.array,pivotValKey:j.a.string,pivotIDKey:j.a.string,subRowsKey:j.a.string,aggregatedKey:j.a.string,nestingLevelKey:j.a.string,originalKey:j.a.string,indexKey:j.a.string,groupedByPivotKey:j.a.string,onFetchData:j.a.func,className:j.a.string,style:j.a.object,getProps:j.a.func,getTableProps:j.a.func,getTheadGroupProps:j.a.func,getTheadGroupTrProps:j.a.func,getTheadGroupThProps:j.a.func,getTheadProps:j.a.func,getTheadTrProps:j.a.func,getTheadThProps:j.a.func,getTheadFilterProps:j.a.func,getTheadFilterTrProps:j.a.func,getTheadFilterThProps:j.a.func,getTbodyProps:j.a.func,getTrGroupProps:j.a.func,getTrProps:j.a.func,getTdProps:j.a.func,getTfootProps:j.a.func,getTfootTrProps:j.a.func,getTfootTdProps:j.a.func,getPaginationProps:j.a.func,getLoadingProps:j.a.func,getNoDataProps:j.a.func,getResizerProps:j.a.func,columns:j.a.arrayOf(j.a.shape({Cell:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),Header:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),Footer:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),Aggregated:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),Pivot:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),PivotValue:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),Expander:j.a.oneOfType([j.a.element,j.a.string,j.a.func]),Filter:j.a.oneOfType([j.a.element,j.a.func]),sortable:j.a.bool,resizable:j.a.bool,filterable:j.a.bool,show:j.a.bool,minWidth:j.a.number,minResizeWidth:j.a.number,className:j.a.string,style:j.a.object,getProps:j.a.func,aggregate:j.a.func,headerClassName:j.a.string,headerStyle:j.a.object,getHeaderProps:j.a.func,footerClassName:j.a.string,footerStyle:j.a.object,getFooterProps:j.a.func,filterMethod:j.a.func,filterAll:j.a.bool,sortMethod:j.a.func})),expanderDefaults:j.a.shape({sortable:j.a.bool,resizable:j.a.bool,filterable:j.a.bool,width:j.a.number}),pivotDefaults:j.a.object,previousText:j.a.node,nextText:j.a.node,loadingText:j.a.node,noDataText:j.a.node,pageText:j.a.node,ofText:j.a.node,rowsText:j.a.node,pageJumpText:j.a.node,rowsSelectorText:j.a.node,TableComponent:j.a.oneOfType([j.a.func,j.a.element]),TheadComponent:j.a.oneOfType([j.a.func,j.a.element]),TbodyComponent:j.a.oneOfType([j.a.func,j.a.element]),TrGroupComponent:j.a.oneOfType([j.a.func,j.a.element]),TrComponent:j.a.oneOfType([j.a.func,j.a.element]),ThComponent:j.a.oneOfType([j.a.func,j.a.element]),TdComponent:j.a.oneOfType([j.a.func,j.a.element]),TfootComponent:j.a.oneOfType([j.a.func,j.a.element]),FilterComponent:j.a.oneOfType([j.a.func,j.a.element]),ExpanderComponent:j.a.oneOfType([j.a.func,j.a.element]),PivotValueComponent:j.a.oneOfType([j.a.func,j.a.element]),AggregatedComponent:j.a.oneOfType([j.a.func,j.a.element]),PivotComponent:j.a.oneOfType([j.a.func,j.a.element]),PaginationComponent:j.a.oneOfType([j.a.func,j.a.element]),PreviousComponent:j.a.oneOfType([j.a.func,j.a.element]),NextComponent:j.a.oneOfType([j.a.func,j.a.element]),LoadingComponent:j.a.oneOfType([j.a.func,j.a.element]),NoDataComponent:j.a.oneOfType([j.a.func,j.a.element]),ResizerComponent:j.a.oneOfType([j.a.func,j.a.element]),PadRowComponent:j.a.oneOfType([j.a.func,j.a.element])},L=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var V=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.getResolvedState=n.getResolvedState.bind(n),n.getDataModel=n.getDataModel.bind(n),n.getSortedData=n.getSortedData.bind(n),n.fireFetchData=n.fireFetchData.bind(n),n.getPropOrState=n.getPropOrState.bind(n),n.getStateOrProp=n.getStateOrProp.bind(n),n.filterData=n.filterData.bind(n),n.sortData=n.sortData.bind(n),n.getMinRows=n.getMinRows.bind(n),n.onPageChange=n.onPageChange.bind(n),n.onPageSizeChange=n.onPageSizeChange.bind(n),n.sortColumn=n.sortColumn.bind(n),n.filterColumn=n.filterColumn.bind(n),n.resizeColumnStart=n.resizeColumnStart.bind(n),n.resizeColumnEnd=n.resizeColumnEnd.bind(n),n.resizeColumnMoving=n.resizeColumnMoving.bind(n),n.state={page:t.defaultPage,pageSize:t.defaultPageSize,sorted:t.defaultSorted,expanded:t.defaultExpanded,filtered:t.defaultFiltered,resized:t.defaultResized,currentlyResizing:!1,skipNextSort:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,k(_(o["Component"]))),H(e,[{key:"render",value:function(){var t=this,e=this.getResolvedState(),n=e.children,r=e.className,o=e.style,a=e.getProps,l=e.getTableProps,u=e.getTheadGroupProps,c=e.getTheadGroupTrProps,p=e.getTheadGroupThProps,h=e.getTheadProps,f=e.getTheadTrProps,d=e.getTheadThProps,m=e.getTheadFilterProps,v=e.getTheadFilterTrProps,y=e.getTheadFilterThProps,b=e.getTbodyProps,_=e.getTrGroupProps,x=e.getTrProps,w=e.getTdProps,S=e.getTfootProps,C=e.getTfootTrProps,T=e.getTfootTdProps,k=e.getPaginationProps,O=e.getLoadingProps,E=e.getNoDataProps,M=e.getResizerProps,I=e.showPagination,A=e.showPaginationTop,P=e.showPaginationBottom,D=e.manual,R=e.loadingText,z=e.noDataText,j=e.sortable,N=e.multiSort,H=e.resizable,V=e.filterable,W=e.pivotIDKey,G=e.pivotValKey,U=e.pivotBy,q=e.subRowsKey,K=e.aggregatedKey,Z=e.originalKey,Y=e.indexKey,X=e.groupedByPivotKey,$=e.loading,J=e.pageSize,Q=e.page,tt=e.sorted,et=e.filtered,nt=e.resized,rt=e.expanded,ot=e.pages,it=e.onExpandedChange,at=e.TableComponent,st=e.TheadComponent,lt=e.TbodyComponent,ut=e.TrGroupComponent,ct=e.TrComponent,pt=e.ThComponent,ht=e.TdComponent,ft=e.TfootComponent,dt=e.PaginationComponent,mt=e.LoadingComponent,gt=e.SubComponent,vt=e.NoDataComponent,yt=e.ResizerComponent,bt=e.ExpanderComponent,_t=e.PivotValueComponent,xt=e.PivotComponent,wt=e.AggregatedComponent,St=e.FilterComponent,Ct=e.PadRowComponent,Tt=e.resolvedData,kt=e.allVisibleColumns,Ot=e.headerGroups,Et=e.hasHeaderGroups,Mt=e.sortedData,It=e.currentlyResizing,At=J*Q,Pt=At+J,Dt=D?Tt:Mt.slice(At,Pt),Rt=this.getMinRows(),Ft=g.range(Math.max(Rt-Dt.length,0)),zt=kt.some(function(t){return t.Footer}),jt=V||kt.some(function(t){return t.filterable}),Nt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[e.map(function(e,o){var i=B({},e,{_viewIndex:r+=1}),a=n.concat([o]);if(i[q]&&g.get(rt,a)){var s=t(i[q],a,r),l=L(s,2);i[q]=l[0],r=l[1]}return i}),r]}(Dt),Lt=L(Nt,1);Dt=Lt[0];var Bt=Q>0,Ht=Q+1<ot,Vt=g.sum(kt.map(function(t){var e=nt.find(function(e){return e.id===t.id})||{};return g.getFirstDefined(e.value,t.width,t.minWidth)})),Wt=-1,Gt=B({},e,{startRow:At,endRow:Pt,pageRows:Dt,minRows:Rt,padRows:Ft,hasColumnFooter:zt,canPrevious:Bt,canNext:Ht,rowMinWidth:Vt}),Ut=g.splitProps(a(Gt,void 0,void 0,this)),qt=g.splitProps(l(Gt,void 0,void 0,this)),Kt=g.splitProps(b(Gt,void 0,void 0,this)),Zt=O(Gt,void 0,void 0,this),Yt=E(Gt,void 0,void 0,this),Xt=function(e,n){var r=function(t){return(nt.find(function(e){return e.id===t.id})||{}).value},o=g.sum(e.columns.map(function(t){return t.width||r(t)?0:t.minWidth})),a=g.sum(e.columns.map(function(t){return g.getFirstDefined(r(t),t.width,t.minWidth)})),l=g.sum(e.columns.map(function(t){return g.getFirstDefined(r(t),t.width,t.maxWidth)})),u=g.splitProps(p(Gt,void 0,e,t)),c=g.splitProps(e.getHeaderProps(Gt,void 0,e,t)),h=[e.headerClassName,u.className,c.className],f=B({},e.headerStyle,u.style,c.style),d=B({},u.rest,c.rest),m={flex:o+" 0 auto",width:g.asPx(a),maxWidth:g.asPx(l)};return i.a.createElement(pt,B({key:n+"-"+e.id,className:s()(h),style:B({},f,m)},d),g.normalizeComponent(e.Header,{data:Mt,column:e}))},$t=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o=tt.find(function(t){return t.id===e.id}),a="function"==typeof e.show?e.show():e.show,l=g.getFirstDefined(r.value,e.width,e.minWidth),u=g.getFirstDefined(r.value,e.width,e.maxWidth),c=g.splitProps(d(Gt,void 0,e,t)),p=g.splitProps(e.getHeaderProps(Gt,void 0,e,t)),h=[e.headerClassName,c.className,p.className],f=B({},e.headerStyle,c.style,p.style),m=B({},c.rest,p.rest),v=g.getFirstDefined(e.resizable,H,!1),y=v?i.a.createElement(yt,B({onMouseDown:function(n){return t.resizeColumnStart(n,e,!1)},onTouchStart:function(n){return t.resizeColumnStart(n,e,!0)}},M("finalState",void 0,e,t))):null,b=g.getFirstDefined(e.sortable,j,!1);return i.a.createElement(pt,B({key:n+"-"+e.id,className:s()(h,v&&"rt-resizable-header",o?o.desc?"-sort-desc":"-sort-asc":"",b&&"-cursor-pointer",!a&&"-hidden",U&&U.slice(0,-1).includes(e.id)&&"rt-header-pivot"),style:B({},f,{flex:l+" 0 auto",width:g.asPx(l),maxWidth:g.asPx(u)}),toggleSort:function(n){b&&t.sortColumn(e,!!N&&n.shiftKey)}},m),i.a.createElement("div",{className:s()(v&&"rt-resizable-header-content")},g.normalizeComponent(e.Header,{data:Mt,column:e})),y)},Jt=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o=g.getFirstDefined(r.value,e.width,e.minWidth),a=g.getFirstDefined(r.value,e.width,e.maxWidth),l=g.splitProps(y(Gt,void 0,e,t)),u=g.splitProps(e.getHeaderProps(Gt,void 0,e,t)),c=[e.headerClassName,l.className,u.className],p=B({},e.headerStyle,l.style,u.style),h=B({},l.rest,u.rest),f=et.find(function(t){return t.id===e.id}),d=e.Filter||St,m=g.getFirstDefined(e.filterable,V,!1);return i.a.createElement(pt,B({key:n+"-"+e.id,className:s()(c),style:B({},p,{flex:o+" 0 auto",width:g.asPx(o),maxWidth:g.asPx(a)})},h),m?g.normalizeComponent(d,{column:e,filter:f,onChange:function(n){return t.filterColumn(e,n)}},F.column.Filter):null)},Qt=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o="function"==typeof e.show?e.show():e.show,a=g.getFirstDefined(r.value,e.width,e.minWidth),l=a,u=g.getFirstDefined(r.value,e.width,e.maxWidth),c=g.splitProps(w(Gt,void 0,e,t)),p=g.splitProps(e.getProps(Gt,void 0,e,t)),h=[c.className,e.className,p.className],f=B({},c.style,e.style,p.style);return i.a.createElement(ht,B({key:n+"-"+e.id,className:s()(h,!o&&"hidden"),style:B({},f,{flex:l+" 0 auto",width:g.asPx(a),maxWidth:g.asPx(u)})},c.rest),g.normalizeComponent(Ct))},te=function(e,n){var r=_(Gt,void 0,void 0,t),o=g.splitProps(x(Gt,void 0,void 0,t));return i.a.createElement(ut,B({key:"pad-"+n},r),i.a.createElement(ct,{className:s()("-padRow",(Dt.length+n)%2?"-even":"-odd",o.className),style:o.style||{}},kt.map(Qt)))},ee=function(e,n){var r=nt.find(function(t){return t.id===e.id})||{},o="function"==typeof e.show?e.show():e.show,a=g.getFirstDefined(r.value,e.width,e.minWidth),l=g.getFirstDefined(r.value,e.width,e.maxWidth),u=g.splitProps(T(Gt,void 0,void 0,t)),c=g.splitProps(e.getProps(Gt,void 0,e,t)),p=g.splitProps(e.getFooterProps(Gt,void 0,e,t)),h=[u.className,e.className,c.className,p.className],f=B({},u.style,e.style,c.style,p.style);return i.a.createElement(ht,B({key:n+"-"+e.id,className:s()(h,!o&&"hidden"),style:B({},f,{flex:a+" 0 auto",width:g.asPx(a),maxWidth:g.asPx(l)})},c.rest,u.rest,p.rest),g.normalizeComponent(e.Footer,{data:Mt,column:e}))},ne=function(n){var r=g.splitProps(k(Gt,void 0,void 0,t));return i.a.createElement(dt,B({},e,{pages:ot,canPrevious:Bt,canNext:Ht,onPageChange:t.onPageChange,onPageSizeChange:t.onPageSizeChange,className:r.className,style:r.style,isTop:n},r.rest))},re=function(){return i.a.createElement("div",B({className:s()("ReactTable",r,Ut.className),style:B({},o,Ut.style)},Ut.rest),I&&A?i.a.createElement("div",{className:"pagination-top"},ne(!0)):null,i.a.createElement(at,B({className:s()(qt.className,It?"rt-resizing":""),style:qt.style},qt.rest),Et?(y=g.splitProps(u(Gt,void 0,void 0,t)),b=g.splitProps(c(Gt,void 0,void 0,t)),i.a.createElement(st,B({className:s()("-headerGroups",y.className),style:B({},y.style,{minWidth:Vt+"px"})},y.rest),i.a.createElement(ct,B({className:b.className,style:b.style},b.rest),Ot.map(Xt)))):null,(p=g.splitProps(h(Gt,void 0,void 0,t)),d=g.splitProps(f(Gt,void 0,void 0,t)),i.a.createElement(st,B({className:s()("-header",p.className),style:B({},p.style,{minWidth:Vt+"px"})},p.rest),i.a.createElement(ct,B({className:d.className,style:d.style},d.rest),kt.map($t)))),jt?(a=g.splitProps(m(Gt,void 0,void 0,t)),l=g.splitProps(v(Gt,void 0,void 0,t)),i.a.createElement(st,B({className:s()("-filters",a.className),style:B({},a.style,{minWidth:Vt+"px"})},a.rest),i.a.createElement(ct,B({className:l.className,style:l.style},l.rest),kt.map(Jt)))):null,i.a.createElement(lt,B({className:s()(Kt.className),style:B({},Kt.style,{minWidth:Vt+"px"})},Kt.rest),Dt.map(function(e,n){return function e(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a={original:n[Z],row:n,index:n[Y],viewIndex:Wt+=1,pageSize:J,page:Q,level:o.length,nestingPath:o.concat([r]),aggregated:n[K],groupedByPivot:n[X],subRows:n[q]},l=g.get(rt,a.nestingPath),u=_(Gt,a,void 0,t),c=g.splitProps(x(Gt,a,void 0,t));return i.a.createElement(ut,B({key:a.nestingPath.join("_")},u),i.a.createElement(ct,B({className:s()(c.className,n._viewIndex%2?"-even":"-odd"),style:c.style},c.rest),kt.map(function(e,r){var o=nt.find(function(t){return t.id===e.id})||{},u="function"==typeof e.show?e.show():e.show,c=g.getFirstDefined(o.value,e.width,e.minWidth),p=g.getFirstDefined(o.value,e.width,e.maxWidth),h=g.splitProps(w(Gt,a,e,t)),f=g.splitProps(e.getProps(Gt,a,e,t)),d=[h.className,e.className,f.className],m=B({},h.style,e.style,f.style),v=B({},a,{isExpanded:l,column:B({},e),value:a.row[e.id],pivoted:e.pivoted,expander:e.expander,resized:nt,show:u,width:c,maxWidth:p,tdProps:h,columnProps:f,classes:d,styles:m}),y=v.value,b=void 0,_=void 0,x=void 0,S=g.normalizeComponent(e.Cell,v,y),C=e.Aggregated||(e.aggregate?e.Cell:wt),T=e.Expander||bt,k=e.PivotValue||_t,O=xt||function(t){return i.a.createElement("div",null,i.a.createElement(T,t),i.a.createElement(k,t))},E=e.Pivot||O;(v.pivoted||v.expander)&&(v.expandable=!0,b=!0,!v.pivoted||v.subRows||gt||(v.expandable=!1)),v.pivoted?(_=a.row[W]===e.id&&v.subRows,x=U.indexOf(e.id)>U.indexOf(a.row[W])&&v.subRows,S=_?g.normalizeComponent(E,B({},v,{value:n[G]}),n[G]):x?g.normalizeComponent(C,v,y):null):v.aggregated&&(S=g.normalizeComponent(C,v,y)),v.expander&&(S=g.normalizeComponent(T,v,n[G]),U&&(v.groupedByPivot&&(S=null),v.subRows||gt||(S=null)));var M=b?function(e){var n=g.clone(rt);return n=l?g.set(n,v.nestingPath,!1):g.set(n,v.nestingPath,{}),t.setStateWithData({expanded:n},function(){return it&&it(n,v.nestingPath,e,v)})}:function(){},I={onClick:M};return h.rest.onClick&&(I.onClick=function(t){h.rest.onClick(t,function(){return M(t)})}),f.rest.onClick&&(I.onClick=function(t){f.rest.onClick(t,function(){return M(t)})}),i.a.createElement(ht,B({key:r+"-"+e.id,className:s()(d,!v.expandable&&!u&&"hidden",v.expandable&&"rt-expandable",(_||x)&&"rt-pivot"),style:B({},m,{flex:c+" 0 auto",width:g.asPx(c),maxWidth:g.asPx(p)})},h.rest,f.rest,I),S)})),a.subRows&&l&&a.subRows.map(function(t,n){return e(t,n,a.nestingPath)}),gt&&!a.subRows&&l&&gt(a,function(){var t=g.clone(rt);g.set(t,a.nestingPath,!1)}))}(e,n)}),Ft.map(te)),zt?(e=g.splitProps(S(Gt,void 0,void 0,t)),n=g.splitProps(C(Gt,void 0,void 0,t)),i.a.createElement(ft,B({className:e.className,style:B({},e.style,{minWidth:Vt+"px"})},e.rest),i.a.createElement(ct,B({className:s()(n.className),style:n.style},n.rest),kt.map(ee)))):null),I&&P?i.a.createElement("div",{className:"pagination-bottom"},ne(!1)):null,!Dt.length&&i.a.createElement(vt,Yt,g.normalizeComponent(z)),i.a.createElement(mt,B({loading:$,loadingText:R},Zt)));var e,n,a,l,p,d,y,b};return n?n(Gt,re,this):re()}}]),e}();V.propTypes=N,V.defaultProps=F;var W=V,G=n(82),U=n(10),q=n.n(U),K=n(13),Z=n.n(K),Y=n(73),X=n(590);n.d(e,"a",function(){return Pn}),n.d(e,"b",function(){return Rn}),n.d(e,"c",function(){return he}),n.d(e,"d",function(){return ft}),n.d(e,"e",function(){return fn}),n.d(e,"f",function(){return gr}),n.d(e,"g",function(){return ue}),n.d(e,"h",function(){return le}),n.d(e,"i",function(){return gn}),n.d(e,"j",function(){return qe}),n.d(e,"k",function(){return Et}),n.d(e,"l",function(){return at}),n.d(e,"m",function(){return kn}),n.d(e,"n",function(){return On}),n.d(e,"o",function(){return Me}),n.d(e,"p",function(){return ye}),n.d(e,"q",function(){return yn}),n.d(e,"r",function(){return Tt}),n.d(e,"s",function(){return pt}),n.d(e,"t",function(){return Le}),n.d(e,"u",function(){return Te}),n.d(e,"v",function(){return Ue}),n.d(e,"w",function(){return it}),n.d(e,"x",function(){return ae}),n.d(e,"y",function(){return ie}),n.d(e,"z",function(){return mn});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var $=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function J(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Q=function(){return(Q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function tt(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function et(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}l((r=r.apply(t,e||[])).next())})}function nt(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=Object(o.createElement)("span",{className:this.props.className||e.defaultProps.className},this.props.headerContent);return this.props.overlay&&(t=Object(o.createElement)(r.DefaultTooltip,{mouseEnterDelay:.5,placement:"top",overlay:this.props.overlay,destroyTooltipOnHide:!0},t)),t},e.defaultProps={className:"text-wrap"},e}(o.Component),ot={"annotation-item-load":"annotation-module_annotation-item-load__1pDN0","annotation-item-text":"annotation-module_annotation-item-text__Gy_Jv","annotation-item-error":"annotation-module_annotation-item-error__5BhTo","annotation-item":"annotation-module_annotation-item__2EgnB"};function it(t){return Object(o.createElement)("span",{className:s()(""+ot["annotation-item"],""+ot["annotation-item-load"],t)},Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse"}))}function at(t){return Object(o.createElement)(r.DefaultTooltip,{overlay:Object(o.createElement)("span",null,t),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("span",{className:""+ot["annotation-item-error"]},Object(o.createElement)("i",{className:"fa fa-exclamation-triangle text-danger"})))}var st={"hotspot-info":"hotspotInfo-module_hotspot-info__33VyL"};function lt(t,e,n,i){return Object(o.createElement)("span",{className:st["hotspot-info"]},function(t,e,n,r){var i=t?Object(o.createElement)("b",null,"Recurrent Hotspot"):null,a=t&&e?Object(o.createElement)("span",null,"and"):null,s=e?Object(o.createElement)("b",null,"3D Clustered Hotspot"):null,l=null;if(n){var u=n>1?"samples":"sample";l=Object(o.createElement)("span",null,Object(o.createElement)("b",null,n)," ",u," with")}return Object(o.createElement)("span",null,l," ",i," ",a," ",s," ",r)}(t,e,n,i),Object(o.createElement)("br",null),function(t,e){var n=t?"a recurrent hotspot (statistically significant)":"",i=t&&e?"and":"",a=e?"a 3D clustered hotspot":"",s=t?Object(o.createElement)("a",{href:Object(r.getNCBIlink)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016"):"",l=e?Object(o.createElement)("a",{href:"http://genomemedicine.biomedcentral.com/articles/10.1186/s13073-016-0393-x",target:"_blank"},"Gao et al., Genome Medicine, 2017"):"";return Object(o.createElement)("span",null,"This mutated amino acid was identified as ",n," ",i," ",a," in a population-scale cohort of tumor samples of various cancer types using methodology based in part on ",s," ",i," ",l,".")}(t,e),Object(o.createElement)("br",null),Object(o.createElement)("br",null),function(t,e){var n=t?Object(o.createElement)("a",{href:"https://www.cancerhotspots.org/",target:"_blank"},"https://cancerhotspots.org/"):"",r=t&&e?"and":"",i=e?Object(o.createElement)("a",{href:"https://www.3dhotspots.org/",target:"_blank"},"https://3dhotspots.org/"):"";return Object(o.createElement)("span",null,"Explore all mutations at ",n," ",r," ",i,".")}(t,e))}var ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this.props;return lt(t.isHotspot,t.is3dHotspot,t.count,t.customInfo)},e}(o.Component),ct="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%221024%22%20height%3D%221024%22%20viewBox%3D%220%200%201024%201024%22%3E%20%20%20%20%3Cg%20id%3D%22icomoon-ignore%22%3E%20%20%20%20%3C%2Fg%3E%20%20%20%20%3Cpath%20fill%3D%22%23ff9900%22%20d%3D%22M321.008%201045.333c-68.245-142.008-31.901-223.379%2020.551-300.044%2057.44-83.956%2072.244-167.065%2072.244-167.065s45.153%2058.7%2027.092%20150.508c79.772-88.8%2094.824-230.28%2082.783-284.464%20180.315%20126.012%20257.376%20398.856%20153.523%20601.065%20552.372-312.532%20137.399-780.172%2065.155-832.851%2024.081%2052.676%2028.648%20141.851-20%20185.127-82.352-312.276-285.972-376.276-285.972-376.276%2024.083%20161.044-87.296%20337.144-194.696%20468.731-3.775-64.216-7.783-108.528-41.549-169.98-7.58%20116.656-96.732%20211.748-120.873%20328.628-32.701%20158.287%2024.496%20274.18%20241.748%20396.623z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E";function pt(t,e){var n=0;return t&&(n+=1),e&&(n+=.5),n}function ht(t){t.querySelector(".rc-tooltip-arrow").style.left="10px"}var ft=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}return J(e,t),e.prototype.render=function(){var t=this.props,e=t.isHotspot,n=t.is3dHotspot,i=Object(o.createElement)("span",{className:""+ot["annotation-item"]});if("pending"===this.props.status)i=it("pull-left");else if(e||n){var a=14,s=ct;e||(s="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20width%3D%2224.263px%22%20height%3D%2236.366px%22%20viewBox%3D%220%200%2024.263%2036.366%22%20enable-background%3D%22new%200%200%2024.263%2036.366%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%20%3Cpath%20fill%3D%22%23FF9900%22%20d%3D%22M6.828%2C27.947c-1.859-3.872-0.869-6.094%2C0.564-8.184c1.565-2.296%2C1.968-4.558%2C1.968-4.558%20%20s1.231%2C1.6%2C0.742%2C4.104c2.181-2.423%2C2.591-6.286%2C2.256-7.764c4.921%2C3.436%2C7.027%2C10.889%2C4.19%2C16.401%20%20C31.627%2C19.419%2C20.3%2C6.66%2C18.326%2C5.221c0.656%2C1.439%2C0.783%2C3.873-0.546%2C5.053C15.536%2C1.75%2C9.98%2C0%2C9.98%2C0%20%20c0.657%2C4.397-2.388%2C9.208-5.316%2C12.8C4.56%2C11.046%2C4.451%2C9.831%2C3.53%2C8.155c-0.201%2C3.183-2.636%2C5.785-3.298%2C8.974%20%20C-0.659%2C21.445%2C0.9%2C24.61%2C6.828%2C27.947L6.828%2C27.947z%22%2F%3E%20%3Ctext%20transform%3D%22matrix%280.583%200%200%200.583%203.7324%2036.1963%29%22%20fill%3D%22%23000000%22%20font-family%3D%22%5CiArial-BoldItalicMT%5Ci%22%20font-size%3D%2220.6802%22%3E3D%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E",a=18);var l=Object(o.createElement)("div",{className:"rc-tooltip-arrow-inner"}),u=Object(o.createElement)(ut,{isHotspot:e,is3dHotspot:n});i=Object(o.createElement)(r.DefaultTooltip,{overlay:u,placement:"topLeft",trigger:["hover","focus"],arrowContent:l,onPopupAlign:ht},Object(o.createElement)("span",{className:ot["annotation-item"]+" chang_hotspot"},Object(o.createElement)("img",{width:14,height:a,src:s,alt:"Recurrent Hotspot Symbol"})))}return i},e}(o.Component),dt={"Likely Neutral":"neutral",Unknown:"unknown",Inconclusive:"inconclusive","Predicted Oncogenic":"oncogenic","Likely Oncogenic":"oncogenic",Oncogenic:"oncogenic"},mt={Unknown:0,Inconclusive:0,"Likely Neutral":0,"Predicted Oncogenic":5,"Likely Oncogenic":5,Oncogenic:5},gt={4:1,"3B":2,"3A":3,"2B":4,"2A":5,1:6},vt={R3:1,R2:2,R1:3};function yt(t){if(t){var e=t.match(/LEVEL_(R?\d[AB]?)/);return e&&e.length>=2?e[1]:t}return null}function bt(t){var e=["oncokb","annotation-icon","unknown","no-level"];if(t){var n=yt(t.highestSensitiveLevel),r=yt(t.highestResistanceLevel);if(e[2]=dt[t.oncogenic]||(t.vus?"vus":"unknown"),n||r){var o="level";n&&(o=o+"-"+n),r&&(o=o+"-"+r),e[3]=o}}return e.join(" ")}function _t(t){return"oncokb level-icon level-"+t}function xt(t){var e={},n=[];return h.a.each(t,function(t){h.a.each(t,function(t){var n=St(t.level),r=function(t){if(h.a.isArray(t)){var e=[];return t.forEach(function(t){var n,r;e.push((n=t.drugs,r=[],n.forEach(function(t){r.push(t.drugName)}),r.sort().join(" + ")))}),e.sort().join(", ")}return""}(t.content),o=t.tumorType,i=t.alterations.map(function(t){return t.name}).join(",");e.hasOwnProperty(n)||(e[n]={}),e[n].hasOwnProperty(i)||(e[n][i]={}),e[n][i].hasOwnProperty(r)||(e[n][i][r]={}),e[n][i][r].hasOwnProperty(o)?e[n][i][r][o].description=[e[n][i][r][o].description,"<br/>",t.description].join():e[n][i][r][o]={articles:[],tumorType:o,alterations:t.alterations,level:n,description:t.description,treatment:r},e[n][i][r][o].articles=h.a.union(e[n][i][r][o].articles,t.articles)})}),h.a.each(h.a.keys(e).sort(wt),function(t){h.a.each(h.a.keys(e[t]).sort(),function(r){h.a.each(h.a.keys(e[t][r]).sort(),function(o){h.a.each(h.a.keys(e[t][r][o]).sort(),function(i){var a=e[t][r][o][i];n.push({level:a.level,variant:a.alterations.map(function(t){return t.name}),treatment:o,pmids:a.articles.filter(function(t){return!isNaN(t.pmid)}).map(function(t){return Number(t.pmid)}).sort(),abstracts:a.articles.filter(function(t){return h.a.isString(t.abstract)}).map(function(t){return{abstract:t.abstract,link:t.link}}),description:a.description,cancerType:a.tumorType})})})})}),n}function wt(t,e){return r.LEVELS.all.indexOf(t)>r.LEVELS.all.indexOf(e)?-1:1}function St(t){if(t){var e=t.match(/LEVEL_(R?\d[AB]?)/);return e instanceof Array&&e.length>=2?e[1]:t}return""}function Ct(t){var e={};return t&&t.length>0&&t.forEach(function(t){var n=t.query.id,o={id:"",gene:{},alteration:[],prevalence:[],progImp:[],treatments:{sensitivity:[],resistance:[]},trials:[],oncogenic:"",oncogenicRefs:[],mutationEffect:{},mutationEffectRefs:[],summary:""},i=[],a=[],s=[];(s=s.concat(t.evidences)).forEach(function(t){var e="";if(e=t.shortDescription?t.shortDescription:t.description,"GENE_SUMMARY"===t.evidenceType)o.gene.summary=e;else if("GENE_BACKGROUND"===t.evidenceType)o.gene.background=e;else if("ONCOGENIC"===t.evidenceType)t.articles&&(o.oncogenicRefs=t.articles);else if("MUTATION_EFFECT"===t.evidenceType){var n={};t.knownEffect&&(n.knownEffect=t.knownEffect),t.articles&&(n.refs=t.articles),e&&(n.description=e),o.alteration.push(n)}else if(t.levelOfEvidence&&-1===["LEVEL_0"].indexOf(t.levelOfEvidence)){var s={};s.alterations=t.alterations,s.articles=t.articles,s.tumorType=function(t){var e=h.a.isObject(t.tumorType)?t.tumorType.name:t.subtype||t.cancerType,n="";h.a.isObject(t.oncoTreeType)&&(n=t.oncoTreeType.name?t.oncoTreeType.name:t.oncoTreeType.mainType?t.oncoTreeType.mainType.name:"");n&&(e=n);return e}(t),s.level=t.levelOfEvidence,s.content=t.treatments,s.description=e||"",-1!==r.LEVELS.sensitivity.indexOf(St(t.levelOfEvidence))?i.push(s):a.push(s)}}),o.alteration.length>0&&(o.mutationEffect=o.alteration[0]),o.treatments.sensitivity=i,o.treatments.resistance=a,e[n]=o}),e}function Tt(t,e,n,r,o){var i={};return h.a.keys(t).forEach(function(a){var s=Number(a),l=t[s].map(function(t){return kt(t,e,n,r)}).filter(function(t){return void 0!==t&&(!o||o(t))});s>0&&l.length>0&&(i[s]=l)}),i}function kt(t,e,n,o){if(null!==e.indicatorMap){var i=Object(r.generateQueryVariantId)(o(t),n(t),t.proteinChange,t.mutationType);return e.indicatorMap[i]}}function Ot(t){return t.oncogenic.toLowerCase().trim().includes("oncogenic")}function Et(t,e,n,r){var o=!0;if(e&&n&&r){var i=kt(t,e,n,r);o=!!i&&Ot(i)}return o}var Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)("div",null,Object(o.createElement)("span",null,"The gene is listed under "),Object(o.createElement)("a",{href:"https://www.oncokb.org/cancerGenes",target:"_blank"},"OncoKB Cancer Gene List"),Object(o.createElement)("span",null," but hasn't been curated yet. Please feel free to "),Object(o.createElement)("a",{target:"_blank",href:"mailto:contact@oncokb.org?subject=Annotation suggestion for "+this.props.gene+"&&body=Thank you for using OncoKB.%0APlease provide the following information for "+this.props.gene+" curation:%0A%0AEvidence:%0APMIDs:%0AAbstracts:",title:"suggest to annotate this gene"},"suggest the team annotate the gene"),".")},e}(o.Component);function It(t,e){return e=null==e?-1/0:e,(t="string"==typeof(t=null==t?-1/0:t)?t.toLowerCase():t)>(e="string"==typeof e?e.toLowerCase():e)?1:t<e?-1:0}function At(t,e){return It(t.join(),e.join())}function Pt(t,e){for(var n=0,r=Math.min(t.length,e.length),o=0;o<r&&0===(n=It(t[o],e[o]));o++);return 0===n&&(t.length<e.length?n=-1:t.length>e.length&&(n=1)),n}var Dt=function(){function t(){}return Object.defineProperty(t,"LEVELS",{get:function(){return["1","2A","2B","3A","3B","4","R1","R2"]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"LEVEL_DESC",{get:function(){return{1:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"FDA-recognized")," biomarker predictive of response to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in this indication")),"2A":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Standard care")," biomarker predictive of response to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in this indication")),"2B":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Standard care")," biomarker predictive of response to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in another indication"),", but not standard care for this indication"),"3A":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug ",Object(o.createElement)("b",null,"in this indication")),"3B":Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of response to a drug ",Object(o.createElement)("b",null,"in another indication")),4:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling biological evidence")," supports the biomarker as being predictive of response to a drug"),R1:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Standard care")," biomarker predictive of ",Object(o.createElement)("b",null,"resistance")," to an ",Object(o.createElement)("b",null,"FDA-approved")," drug ",Object(o.createElement)("b",null,"in this indication")),R2:Object(o.createElement)("span",null,Object(o.createElement)("b",null,"Compelling clinical evidence")," supports the biomarker as being predictive of ",Object(o.createElement)("b",null,"resistance")," to a drug")}},enumerable:!0,configurable:!0}),t}(),Rt="listGroupItem-module_list-group-item__1Y5zb",Ft="listGroupItem-module_list-group-item-title__3diZg",zt="listGroupItem-module_list-group-item-content__Sspft",jt="listGroupItem-module_no-style-ul__2Rf8i",Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=Object(o.createElement)("b",null,this.props.abstract);return this.props.link&&(t=Object(o.createElement)("a",{href:this.props.link,target:"_blank"},t)),Object(o.createElement)("li",{key:"abstract_"+this.props.abstract,className:Rt},Object(o.createElement)("span",{className:Ft},t))},e}(o.Component),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)("li",{key:this.props.pmid,className:Rt},Object(o.createElement)("a",{className:Ft,href:Object(r.getNCBIlink)("/pubmed/"+this.props.pmid),target:"_blank"},Object(o.createElement)("b",null,this.props.title)),Object(o.createElement)("div",{className:zt},Object(o.createElement)("span",null,this.props.author," ",this.props.source,". ",this.props.date),Object(o.createElement)("span",null,"PMID: ",this.props.pmid)))},e}(o.Component),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this,e=[];return this.props.pmidData&&this.props.pmids.forEach(function(n){var r=t.props.pmidData[n.toString()],i=r?r.data:null;i&&e.push(Object(o.createElement)(Lt,{title:i.title,author:Object(p.isArray)(i.authors)&&i.authors.length>0?i.authors[0].name+" et al.":"Unknown",source:i.source,date:new Date(i.pubdate).getFullYear().toString(),pmid:i.uid}))}),this.props.abstracts.forEach(function(t){e.push(Object(o.createElement)(Nt,{abstract:t.abstract,link:t.link}))}),Object(o.createElement)("ul",{className:jt},e)},e}(o.Component),Ht={"oncokb-card":"main-module_oncokb-card__32DzD","tooltip-refs":"main-module_tooltip-refs__SpA4W",disclaimer:"main-module_disclaimer__3CLlM","orange-icon":"main-module_orange-icon__3k3xO",footer:"main-module_footer__2dc-8",feedback:"main-module_feedback__3vkZD","oncokb-logo":"main-module_oncokb-logo__3RVg7","enable-hover-a":"main-module_enable-hover-a__BuHRF","enable-hover-active":"main-module_enable-hover-active__2CbLQ",title:"main-module_title__2kT-n","additional-info":"main-module_additional-info__1nXTm","ellipsis-text-wrapper":"main-module_ellipsis-text-wrapper__18dny",indicator:"main-module_indicator__2DwvF"},Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this,e=this.props.content.split(/pmid|nct/i);if(e.length<2)return Object(o.createElement)("span",null,this.props.content);var n,i,a=e[1].match(/[0-9]+/g);if(!a)return Object(o.createElement)("span",null,this.props.content);if(this.props.content.toLowerCase().indexOf("pmid")>=0?n="PMID: ":this.props.content.toLowerCase().indexOf("nct")>=0&&(n="NCT"),n&&(i=Object(o.createElement)("a",{target:"_blank",href:Object(r.getNCBIlink)("/pubmed/"+a.join(","))},""+n+a.join(","))),"tooltip"===this.props.componentType){return Object(o.createElement)("span",{key:this.props.content},e[0],Object(o.createElement)(r.DefaultTooltip,{overlay:function(){return Object(o.createElement)("div",{className:Ht["tooltip-refs"]},Object(o.createElement)(Bt,{pmids:a.map(function(t){return parseInt(t)}),pmidData:t.props.pmidData,abstracts:[]}))},placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("i",{className:"fa fa-book",style:{color:"black"}})),")")}return i?Object(o.createElement)("span",{key:this.props.content},e[0],i,")"):Object(o.createElement)("span",null,this.props.content)},e}(o.Component),Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this;if(!this.props.content)return Object(o.createElement)("span",null);var e=[],n=/(\(.*?[PMID|NCT].*?\))/i;return this.props.content.split(n).forEach(function(r){r.match(n)?e.push(Object(o.createElement)(Vt,{pmidData:t.props.pmidData,componentType:t.props.type,content:r})):e.push(Object(o.createElement)("span",null,r))}),Object(o.createElement)("span",null,e)},e}(o.Component),Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelTooltipContent=function(t){return Object(o.createElement)("div",{style:{maxWidth:"200px"}},Dt.LEVEL_DESC[t])},e.treatmentTooltipContent=function(t,n,r,i){return t.length>0||n.length>0?function(){return Object(o.createElement)("div",{className:Ht["tooltip-refs"]},void 0!==i&&i.length>0?Object(o.createElement)(Wt,{content:i,type:"tooltip",pmidData:e.props.pmidData}):Object(o.createElement)(Bt,{pmids:n,pmidData:r,abstracts:t}))}:Object(o.createElement)("span",null)},e.columns=[{id:"level",Header:Object(o.createElement)("span",null,"Level"),accessor:"level",maxWidth:45,sortMethod:function(t,e){return It(r.LEVELS.all.indexOf(t),r.LEVELS.all.indexOf(e))},Cell:function(t){return Object(o.createElement)(r.DefaultTooltip,{overlay:e.levelTooltipContent(t.value),placement:"left",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("i",{className:_t(t.value),style:{margin:"auto"}}))}},{id:"variant",Header:Object(o.createElement)("span",null,"Alteration(s)"),accessor:"variant",minWidth:80,sortMethod:function(t,e){return Pt(t,e)},Cell:function(t){return Object(o.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},(e=t.value,n={},r=[],i=new RegExp("^([A-Z])([0-9]+)([A-Z]$)"),h.a.isString(e)?e:(h.a.each(e,function(t){var e=i.exec(t);h.a.isArray(e)&&4===e.length?(n.hasOwnProperty(e[2])||(n[e[2]]={}),n[e[2]].hasOwnProperty(e[1])||(n[e[2]][e[1]]={}),n[e[2]][e[1]][e[3]]=1):r.push(t)}),h.a.each(h.a.keys(n).map(function(t){return Number(t)}).sort(),function(t){h.a.each(h.a.keys(n[t]).sort(),function(e){r.push(e+t+h.a.keys(n[t][e]).sort().join("/"))})}),r.join(", "))));var e,n,r,i}},{id:"treatment",Header:Object(o.createElement)("span",null,"Drug(s)"),accessor:"treatment",Cell:function(t){return Object(o.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},t.original.treatment)}},{id:"cancerType",Header:Object(o.createElement)("span",null,"Level-associated",Object(o.createElement)("br",null),"cancer type(s)"),accessor:"cancerType",minWidth:120,Cell:function(t){return Object(o.createElement)("div",{style:{whiteSpace:"normal",lineHeight:"1rem"}},t.original.cancerType)}},{id:"referenceList",Header:Object(o.createElement)("span",null),sortable:!1,maxWidth:25,Cell:function(t){return(t.original.abstracts.length>0||t.original.pmids.length>0)&&Object(o.createElement)(r.DefaultTooltip,{overlay:e.treatmentTooltipContent(t.original.abstracts,t.original.pmids,e.props.pmidData,t.original.description),placement:"right",trigger:["hover","focus"],destroyTooltipOnHide:!0},Object(o.createElement)("i",{className:"fa fa-book"}))}}],e}return J(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{className:"oncokb-treatment-table"},Object(o.createElement)(W,{data:this.props.treatments,columns:this.columns,defaultSorted:[{id:"level",desc:!0}],showPagination:!1,pageSize:this.props.treatments.length,className:"-striped -highlight"}))},e=tt([c.observer],e)}(o.Component),Ut="collapsible-module_collapsible-header__3nZtU",qt="collapsible-module_levels-collapse__2GBRW",Kt="level-module_levels__2ZL1B",Zt="level-module_levels-li__1tgCC",Yt="tabs-module_tabs-wrapper__XKjzo",Xt="tabs-module_tabs__2I3mz",$t="tabs-module_tab__3MoDA",Jt="tabs-module_tab-pane__sGd85",Qt="tabs-module_tab-title-a__2WTNA",te="tabs-module_tab-title__2z9-D",ee="tabs-module_tab-subtitle__1P8B_",ne=function(t){function e(e){var n=t.call(this,e)||this;return n.activeTab="oncogenicity",n.levelsCollapsed=!0,n.handleOncogenicityTabSelect=n.handleOncogenicityTabSelect.bind(n),n.handleMutationEffectTabSelect=n.handleMutationEffectTabSelect.bind(n),n.handleLevelCollapse=n.handleLevelCollapse.bind(n),n}return J(e,t),Object.defineProperty(e.prototype,"oncokbLinkOut",{get:function(){var t=void 0;return this.props.gene&&(t="https://oncokb.org/gene/"+this.props.gene,this.props.variant&&(t=t+"/"+this.props.variant)),t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LEVELS",{get:function(){return["1","2A","2B","3A","3B","4","R1","R2"]},enumerable:!0,configurable:!0}),e.prototype.levelListItem=function(t,e){return Object(o.createElement)("li",{key:t,className:Zt},Object(o.createElement)("i",{className:_t(t)}),e)},e.prototype.generateLevelRows=function(t,e){var n=this,r=[];return t.forEach(function(t){r.push(n.levelListItem(t,e[t]))}),r},e.prototype.render=function(){var t=Object(o.createElement)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAABbCAYAAABd59MPAAAABGdBTUEAALGPC/xhBQAACjppQ0NQUGhvdG9zaG9wIElDQyBwcm9maWxlAABIiZ2Wd1RU1xaHz713eqHNMBQpQ++9DSC9N6nSRGGYGWAoAw4zNLEhogIRRUQEFUGCIgaMhiKxIoqFgGDBHpAgoMRgFFFReTOyVnTl5b2Xl98fZ31rn733PWfvfda6AJC8/bm8dFgKgDSegB/i5UqPjIqmY/sBDPAAA8wAYLIyMwJCPcOASD4ebvRMkRP4IgiAN3fEKwA3jbyD6HTw/0malcEXiNIEidiCzclkibhQxKnZggyxfUbE1PgUMcMoMfNFBxSxvJgTF9nws88iO4uZncZji1h85gx2GlvMPSLemiXkiBjxF3FRFpeTLeJbItZMFaZxRfxWHJvGYWYCgCKJ7QIOK0nEpiIm8cNC3ES8FAAcKfErjv+KBZwcgfhSbukZuXxuYpKArsvSo5vZ2jLo3pzsVI5AYBTEZKUw+Wy6W3paBpOXC8DinT9LRlxbuqjI1ma21tZG5sZmXxXqv27+TYl7u0ivgj/3DKL1fbH9lV96PQCMWVFtdnyxxe8FoGMzAPL3v9g0DwIgKepb+8BX96GJ5yVJIMiwMzHJzs425nJYxuKC/qH/6fA39NX3jMXp/igP3Z2TwBSmCujiurHSU9OFfHpmBpPFoRv9eYj/ceBfn8MwhJPA4XN4oohw0ZRxeYmidvPYXAE3nUfn8v5TE/9h2J+0ONciURo+AWqsMZAaoALk1z6AohABEnNAtAP90Td/fDgQv7wI1YnFuf8s6N+zwmXiJZOb+DnOLSSMzhLysxb3xM8SoAEBSAIqUAAqQAPoAiNgDmyAPXAGHsAXBIIwEAVWARZIAmmAD7JBPtgIikAJ2AF2g2pQCxpAE2gBJ0AHOA0ugMvgOrgBboMHYASMg+dgBrwB8xAEYSEyRIEUIFVICzKAzCEG5Ah5QP5QCBQFxUGJEA8SQvnQJqgEKoeqoTqoCfoeOgVdgK5Cg9A9aBSagn6H3sMITIKpsDKsDZvADNgF9oPD4JVwIrwazoML4e1wFVwPH4Pb4Qvwdfg2PAI/h2cRgBARGqKGGCEMxA0JRKKRBISPrEOKkUqkHmlBupBe5CYygkwj71AYFAVFRxmh7FHeqOUoFmo1ah2qFFWNOoJqR/WgbqJGUTOoT2gyWgltgLZD+6Aj0YnobHQRuhLdiG5DX0LfRo+j32AwGBpGB2OD8cZEYZIxazClmP2YVsx5zCBmDDOLxWIVsAZYB2wglokVYIuwe7HHsOewQ9hx7FscEaeKM8d54qJxPFwBrhJ3FHcWN4SbwM3jpfBaeDt8IJ6Nz8WX4RvwXfgB/Dh+niBN0CE4EMIIyYSNhCpCC+ES4SHhFZFIVCfaEoOJXOIGYhXxOPEKcZT4jiRD0ie5kWJIQtJ20mHSedI90isymaxNdiZHkwXk7eQm8kXyY/JbCYqEsYSPBFtivUSNRLvEkMQLSbyklqSL5CrJPMlKyZOSA5LTUngpbSk3KabUOqkaqVNSw1Kz0hRpM+lA6TTpUumj0lelJ2WwMtoyHjJsmUKZQzIXZcYoCEWD4kZhUTZRGiiXKONUDFWH6kNNppZQv6P2U2dkZWQtZcNlc2RrZM/IjtAQmjbNh5ZKK6OdoN2hvZdTlnOR48htk2uRG5Kbk18i7yzPkS+Wb5W/Lf9ega7goZCisFOhQ+GRIkpRXzFYMVvxgOIlxekl1CX2S1hLipecWHJfCVbSVwpRWqN0SKlPaVZZRdlLOUN5r/JF5WkVmoqzSrJKhcpZlSlViqqjKle1QvWc6jO6LN2FnkqvovfQZ9SU1LzVhGp1av1q8+o66svVC9Rb1R9pEDQYGgkaFRrdGjOaqpoBmvmazZr3tfBaDK0krT1avVpz2jraEdpbtDu0J3XkdXx08nSadR7qknWddFfr1uve0sPoMfRS9Pbr3dCH9a30k/Rr9AcMYANrA67BfoNBQ7ShrSHPsN5w2Ihk5GKUZdRsNGpMM/Y3LjDuMH5homkSbbLTpNfkk6mVaappg+kDMxkzX7MCsy6z3831zVnmNea3LMgWnhbrLTotXloaWHIsD1jetaJYBVhtseq2+mhtY823brGestG0ibPZZzPMoDKCGKWMK7ZoW1fb9banbd/ZWdsJ7E7Y/WZvZJ9if9R+cqnOUs7ShqVjDuoOTIc6hxFHumOc40HHESc1J6ZTvdMTZw1ntnOj84SLnkuyyzGXF66mrnzXNtc5Nzu3tW7n3RF3L/di934PGY/lHtUejz3VPRM9mz1nvKy81nid90Z7+3nv9B72UfZh+TT5zPja+K717fEj+YX6Vfs98df35/t3BcABvgG7Ah4u01rGW9YRCAJ9AncFPgrSCVod9GMwJjgouCb4aYhZSH5IbyglNDb0aOibMNewsrAHy3WXC5d3h0uGx4Q3hc9FuEeUR4xEmkSujbwepRjFjeqMxkaHRzdGz67wWLF7xXiMVUxRzJ2VOitzVl5dpbgqddWZWMlYZuzJOHRcRNzRuA/MQGY9czbeJ35f/AzLjbWH9ZztzK5gT3EcOOWciQSHhPKEyUSHxF2JU0lOSZVJ01w3bjX3ZbJ3cm3yXEpgyuGUhdSI1NY0XFpc2imeDC+F15Oukp6TPphhkFGUMbLabvXu1TN8P35jJpS5MrNTQBX9TPUJdYWbhaNZjlk1WW+zw7NP5kjn8HL6cvVzt+VO5HnmfbsGtYa1pjtfLX9j/uhal7V166B18eu612usL1w/vsFrw5GNhI0pG38qMC0oL3i9KWJTV6Fy4YbCsc1em5uLJIr4RcNb7LfUbkVt5W7t32axbe+2T8Xs4mslpiWVJR9KWaXXvjH7puqbhe0J2/vLrMsO7MDs4O24s9Np55Fy6fK88rFdAbvaK+gVxRWvd8fuvlppWVm7h7BHuGekyr+qc6/m3h17P1QnVd+uca1p3ae0b9u+uf3s/UMHnA+01CrXltS+P8g9eLfOq669Xru+8hDmUNahpw3hDb3fMr5talRsLGn8eJh3eORIyJGeJpumpqNKR8ua4WZh89SxmGM3vnP/rrPFqKWuldZachwcFx5/9n3c93dO+J3oPsk42fKD1g/72ihtxe1Qe277TEdSx0hnVOfgKd9T3V32XW0/Gv94+LTa6ZozsmfKzhLOFp5dOJd3bvZ8xvnpC4kXxrpjux9cjLx4qye4p/+S36Urlz0vX+x16T13xeHK6at2V09dY1zruG59vb3Pqq/tJ6uf2vqt+9sHbAY6b9je6BpcOnh2yGnowk33m5dv+dy6fnvZ7cE7y+/cHY4ZHrnLvjt5L/Xey/tZ9+cfbHiIflj8SOpR5WOlx/U/6/3cOmI9cmbUfbTvSeiTB2Ossee/ZP7yYbzwKflp5YTqRNOk+eTpKc+pG89WPBt/nvF8frroV+lf973QffHDb86/9c1Ezoy/5L9c+L30lcKrw68tX3fPBs0+fpP2Zn6u+K3C2yPvGO9630e8n5jP/oD9UPVR72PXJ79PDxfSFhb+BQOY8/wldxZ1AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAHdElNRQfjBhkVDBxcDFzhAAAZ4ElEQVR42u2dd5wWxd3Av3fHnQciIkp1VRQJqBGRtcVELLG3GGPsYo8tUTGuJTGv5bW+q9GIFSv2FkvsGiKK8qK4xoaIBVEXbKgUj0PKXf6YecLj+dyWZ2d293me+X4+z+c5eHZnZ2dn5zczvwYGg8FgMBgMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBoPBYCifupzXrwuwItAs/+5Y91Zgofw2GAwGQw0KkJ5AP2A9YFdgK2BIzDLmAJOBp4EXgc/lx2AwGAxVJECagIHA4cCpJVYXKnkIuAyYCsw1j9xgiMyqCceIVqAlg7Glh4Zxch6wOOCYeqBXRs+pXdat8GmvVmE1ELhX3mAWn5nA1kBXMzYYDJEGpiSfa1OubzPQpmHcmBHh2r0zHNdKfaYB44BjgMGyfo2V2AmbgL1z1rjtwBhgJTNGGAydsizhO3ZlinWtlzsMqscJP+L1e+dwjCv1mSIn0d3z3vm6SOmX9wYdD3QzY4XBUNEC5GMNY8PXMa5fKQKk+PMqYOWx4/2yAhvzOvTqYgwGI0D08LqG8eA74ul/KlGAFD6fA6vlocPVAbMquCHbgfXNuGEwVIwA+ZemcaA5Zj16V/i4V5bOql7hg9wTocAaUOEvzVS5rVVnxg+DIdc8BGyrodyuwKIabM9jgU+yECDPA49UUUNuJ2dfjeYdNRhyyThgLw3l9qxR4VFgDWK4O6gQIHOAkVXYkHUIm+q+5l01GHLFGGCUhnJ7I/w9ap2VgQ/SECDfIZyNqpnPgWGmTxkMueAC4Pcayu0jJ8MGwSDgUZ0CZCEiTlUt8AawoelTBkOmnAb8SUO5qwNfmeb9EbsDm+sQIAuoPW/uN6VUNhgM6XMUcImGctcGZpvm7ZQ7VQuQGVSAF6MmPiC7eDcGQy3PhG/QUO4gRHgjQ3AbDVUlQK6SEruWMR3OYEiPTYmwF18Gw4kW48ogxv2SxPG8HgyckGKl3wTuBiYA3yJ0LsU0IXQwmyLM+XZPqV4rAbehxwrEYDAsZ23gZQ3ljkToNQ3RSKz/bSIdT8irEZ7g5fpfWIgQ8YtSqOvPTb8yVDlZeqKvBCzR8N5uq6mtVHiinxTzmnUIj/m+ctwcBUzXNN4l4i7Ng/FhqFfKb4LQWeiqcxvGW91gBIguAdKq4Z39rca2UiFA/qioLmsBDypuu7KDLvbVOAifi/4AhjvIwV5HnoBzzBhjMAJEuQCZr+Fd1b39nicBUmB3he1Xttf/DA0Pcx5Cp5IWXTRI5MJnNTPOGIwAUSZAvtLwjp6cQlvlUYAgt8W0tWGYFdZg1FtdvYIwhX0/xRdhKSKplaOh7AvNOGMwKOFjDROyC4ArarhN/wZ8o6CcXuUIkCcU38xjCM/GZRk15qXAEYrLPBoRO8ZgMJTPVGBNxWVeD5xlmlaJAK2LK0DWBNZVeBMvA3vkoDFvAX6nuMxTTB81GMrmRdTn4RmHCE9uEG2RlNje+lehbg/yW/JnsTRW4f0tMX3UUIWkoQN5GPU6jwczaKu86kAKpOq20Kj4gQ7O4ctRh9gbVHWPu+Xs/roA+0pB+RalrdBagHeAe4HRwIgKGtxGAMchUhFPAr7sZMBrkdsj9yN0YNuQw9TFluNF+r8qEyA3ahAez2bUVnkWICr8+KLvawFbAi8pqvx5wNk5HYT6oy6Q2oPAb2I80GcoTxfUKAf7zkaXTYE/A79KMFO5GBG4Lk+5EVaQ7XsYwjQ7KVMREQUeJGLuA02CYy05wRqAUFT2kD+1SaE4G5jhu/Y7xYLFd+20BEiSiN1jgBM7+e1C4EzF9X0B2DpDAfJlwjJOBS7TULddgccTnD8PkWgrsgC5CzhA0bKpAQWejBq5D3UORlG36bry49AscdgB+GeH/1tdzrJ/prBtzkH46mTJhlIg7qfxGtOkUH46BYGxpnx+o4ifiO1DKfSe8F371RSEiS4BMhr4q+K6egjn4azIswB5Tq68y+V1YONSP3TWOQ5QVPFDci48QIQ+UcVWGd3DsYCvWHgUBMhnZOPrMhSxNfWmZuEBsB7wFPAp8FNNgmNPy/GmI0xVb6S8LJ6DpECfYjlem+V4o5EWgDnY7orKwRqEx7SMhUfeSRp2aXRnP5QSID9RWPF7K6BxW0rM5sslCyuzccC1Gsvvh3DuGpjS/TTLWfY0DQIxdJxH6ItcBQKj8L2v5XjtwCOK3606ORDPtRzvYmSKhZwLkt2A2xWX+QHqLbiqiWmUH1sQ+e5PiCNAVD2MSxAOfJWAqhlu2gEW7yC9qMAzWL4/r4vhiBhIh2TcH04F3i3nxSsawNe3HO+7lCZRpwMLLMcb5bt2XoXILxB+YCqZTT4NdPJAnRz4hyYs58SgH0sJkF0U3cBtFdTYqpTFm6dU3zaE78lBKXfIVzSWfwrw7xz1iSHAF3GFhxzAr0Yo6dNO+TzOcrz3yJ9j6zBgouIy5yP0foYfj+lbyzEiqUHBZOCeuAJkJ0U38k4FNfoyxL50UhqAVVKob3/0KNuiDKpnaij39ozuJ4yZMVceK1qO9w1wfIZ1HozY1tqkw4ooC9oRzsiqc28sAFatwsF/RXlfvSN++iG2XQfLcfteOZZNUFCXuUTYQq7r5KEn5R7UKeLTYk2EgjMp2wPjQ45JaoW1lOx8GRahNvT+o6SXDCzuBGiDGMKjF/B1wlVlC8u3fRsQ+qCmBGUe4rv2HQkstZJaYT0A7KP4uSxBGHXMz1l/UWGFlRcWI8zmI21LFLMaQmmSlJ1JwSRSMc2I/feknES4A1VSAZI1ZyP8e5JyHXBMDu/vI2CdGMJjZTljizsJ+By4Cbjed+3PAq5xMHCarFPcbbETfNe+JsHKvD5nz6YXIrJF3qgWAfKNvJe2cgTIUITWPilDEZmxKokG1Cj9rwL+UOUC5GOSW2XtibBMyhtfInLgRBUejcD3RPcBWgRc5Lv2eSXK6yJXlgXv38UdVw6W420F/F2+5FE5yHftu6pAgPQG5uT0nagGATKBmBkbu5SQ7ir4ugIbb5l8uZsTlrMK1c9acpD9IkEZD+XwvuZFFR5FE7CFEYVHO3Ca79qXFpn4NiP8F06nk208y/GmIqKp3gO0+K49EehjOd4QRIDSKArzOy3He8N37akV3OfWzLHwqHS+R/iwTYl7YsfZxUoKX8RK5DUFZfSokU6XJLfKRzncGmmhk3ANnaw8QPiMRNFFzfBdux4oCA/LcrwPEVumEwnWAW0A3IBQHLdZjrez5Xj1vmtP9127J9GNP17rUPdKYiDCydOglsUI37XmcoRHKQHSqKhilRqdVsW2Wx5MKAs52wsfHZTrdb8rep0Si+89qkFIGzGseqSp7o5EU7K7vmsPkn+vIIXnp0TUsZTgSWCZ5XiFax8NbBHhvCbL8Z5PKYaWas7GoJIXEI6nzST0zekoQLrXeMN+UeH1nwpsJp9rQ9GnHvWmpeUOgHdouO+nEU6cdR3uvWATPyvk/D5yGR8JqauIYiRyqO/ap8lzjkJskaoSnm9bjjfed218136ZaFunIy3H27sC+/XhCCMCgxpGAt/JidMMEsTJ0rGNsNA8n0wEXyMijtOUTmbl18rn/YCia5YTH+sg1OmI2hFpihsQVn+TAmZblpxtlbJ0Wp34Orv7Ixxzku/at0nhcSdiG0o121mOt8ByvCbftecSLf309RXaxy9Bbdw6g2BtRLDFdkSE8MwFSDfzTFLlZYRDURQLsnZE5OFnFF077mz6SkXXfVf23YeIvkX3PSJk+tgOq6jI4fwtx8NyvBWAvUIOfcR37SvlOf8ADtT4/LsDrVKIzIxwrdUsxzu1QnUhN8vJgkEPO8gxInK8so4C5Lsab0AVOZnTzLzYSrT9747shFCgJSVOBNRG1Fj5vYSInlsuxwBPIOJufRTnRKk/uCnCoftI4XE56QTYrEeEesd37bsJt3BzUtKFzNJQ5pOkFzKoVjkYYbTRM0rHK0bV9lPXCm24dRSUkaYF2skJzv2TgusPiXHsLQqu9wkiKF9SdqOM8BrS7DYs/tgw37WXWo63ccznsxiRP+NARCbJvwDvxame5XgXSSGyd8iKtI/leDul0D/vBy7QUO5k0osOXat0RzhsbhN0UEcTxAWKLt4DNV7dabOFgjLSEiDL+OF2TFwuQ+wrNyQoI0548r0U3POQjPtH2Mz3Pd+135J/PxWxzJuAU3zXLhWa43zL8brJrYWHI5R1huV443zXfhc4A7g04NgL0R8togE4C7BRv/X0EcLicT4GnTxH6QR2JVcgcxVddLUKbKgGReXMTqm+9ygoI+mW5YAYxyZ10HwAYcWUJWGrqJ2knuRchGVXEIuAfr5rHwXMD9BJLPRd+xGEbjGKrf59chVyWUh7bZhiu+2CHi9t4xuSDs/SyXZWRwGi6iFvUIGN1KSonPdTqu94BWW8l/D8qFuVaysQ0Idm2Tksx+tKiJWT79ozpW7hxJDivgS6+679RVGgwyssx/vYcrxvLcebZznebMvxJrDcKKXVd+3NEGFMgthQbp8BBMXAarQcb7sUm3CghjJ7GCGSGh9EESCqtl9GVWADqUpMk1YY+7cUlPH/Ka3aklohTSdD83C5OgiLMHCiPHZrwpWPQxBbkAB7WY63CBGEc015bg9EyP6tgRbL8R4uJIryXXsfSpsjF/N7+X1dyHF/SNEaqxU9+Tss1ESQyAMnI4xw4nwKPk8ryj4zFLFdqDpU0KqUMCApZcb7toKL7Ub+QlWEcb6icianVN+ZCsr4MKW6Jk1sk2miKblC+GXIYQXTx8vDBm3ftedKgXCwfNHDQmf/ynK8yUXZBtcqEkClOELW+32CI9cOS9kzfTZCH6KajYF/VIEAKSdFQyHqwkJEdOfpCN3W3lLAbCb/X8vCoNQg/7iii21UQQ+uETXmlvNDXmyVqAgsl9byP+mg8WwO+sivQ35vkd8DA45Z6Lv2VVJPsi7x8oNvbjneKdLzfAnwfMiqaaMIbZdF4M/XEL5IqtkDNUnhqo0pcmVysCIBNyZMgIxXVPHRFdTIa1XY6kMVn6V0naRm3XlIDRCU736JHNTDBuWrilY0l5dRh8ssx+siVyH7hRw7XH4H7VFlFfjzAYQVmGqOxMTN6ow7UWMJd0SYAHlXUYUPoXIi0z6lqJwXUqqvqlXO4pTqm9S50s9BH+kf8NtzctYf5oj6jFx9dKH8LIzry1XIHIL1Qj+V30GGEg0ZtuefFU5WizkHOMrIi5I8TfJYdN0oMjiq72RbQ1UE15MroFFXAQYpKuvBChmQK41lWV7ccrwwfV7B8m5o2EpKrj42SVCdI4v+DjLDLiisvwq5tywnedujJ4DpDcCONfieRJ3YJ2V0kAAB4WSmgnOJmGMhQyYpKmcharI5ViPtCc/vl/P6FyL5hqVDKOhJkuTdGRBRsBZWF0s1PxsUPFsddXiaZCFvqpkPEp5/dJgAuU1hZW/JcUP+PMKsMSq3m37ZKUkdAIdmXP+wmWzBSTJsS7CQLiGJufynJYREKZZGFGp5sJbUpcx/mxh5XmqIpKu+fmGd522Fld2L8vd7dbIC8KLiZbOhNEl9Y0ZmWXnftcO2dAshXcJWoEOlAnyKon4WtJIp6I16h9xbHrKHzkOPeW8dwnTYbGX9kKQqioYosw+VVlSPEi/XdBpMUljW5wRbu9Q6ExKev2kO7iFIkb+tHIzDlP07SwV4O+Xry96XivgBBFu3vd1BuAWtUvLAa/xQv6OKJtSFaKoWkmZNrYsiQFRvyUwj3GEqLW4ERigsz5gOBpPUK3Z4Du4hyMKuwXK8gmXKNwHHnQD/9WwvZ4L2O9+1l0pFfFhisNfld5DCPm+BCG8mOPxKufQg+b5/NbGOqoKCBMjXqHWH74kwKVwx48Ybq2GmM9b0yUA8kitK/5bxPTwS8nshZlWQd/8KluP9Ua5CPiFehOInfde+Qa4+uhESGbgoKnBQ2PZvc9hXTlCwYi3FICrPT0sHO5A8dXl7FAECIvmOKuqANRCB5FbPoOHq5CBwtOJyzzB9MhJJFenHZlVxuWIIG9QKk5KwQIqXWo7XV8a1egRhyhoW5+tm37V3LQq8ODPk3b1e1ns9gvUkr+c0M+G2xEz2FZHNgXE1/h7eqqCMtqgC5CvUxpipkzM1H9g/xUYbKGdbOrLDXWJkQySmJDy/KasZpBy0w7Z7LrUcr8537ckEb2OBMCoo6C/G+669ImIb9C05wZqD2HK5G2j2XfvIgvCwHO8JQhTjSI/3CEL3rynHwoq7zbJAQ7mjgDNr9B38O/FSMHTG91EFCIRnYCuXu+WLZGlssGZERrRC8hnV1hgHY4iKinDsm6PGR+niCINwRyGyiPCQKoPkjP7/Qo7rBcyzHO8nRQESz/Nde5jv2n191+7tu/Zg37UPLHpZV7Ic701Ebo1AQe27dkGBflzAcYt9156U8z7TDz1OpBcCB9TY+/cAIsCiCh6LI0C+A47XdFPrIezax6MmH3mBnggv+FbUpG4tOaYg4ssYojFT0YzyFODaBOdfAZyOsIWPG6PriJDfX5D6jUsIjzPWCEy3HO9uYEDASqCn5XiHyhVQlCRQBwJYjvcXgn1A3qyAPrOQ4BhkSbgL+FmVv3MNCPPoduA3Csu9svBH1PDB18lZVXdNN7od8DHCEesE4AnE9tmSGGWsCqwrb26zFB7OVkYmxMYFzlNQzrFyoNwQkSc9Ct2Bl4Bh8t91iG3NlWL0szCFQX/L8TbxXftVxD5+lLhy+wP7y1XIbQjz8qVycrUP8QJ9nuW7dsHa6JyQY0+rkD7zshwTrtZQ9iREHqC8WGh1QzhVlrNT0shyFcH6iJ0jHWqCxcCrFL1EcW6uJeUGnQU8A7zCcietggXA6ghT3JEpCYxijiZZ6OiuJEuQ1IaaQHgjSOa/MrmMWVwLyy2WVLBArgwmytXyIpYr+ZoQJpwnB6xEvyZGCmbL8W4k3IqvyXftJZbjnY8IGpgG7/muPUTW8XFg14BjP/ddu3+EMpeRzFN9DOFGBVG5huAtuSQMIHlk6t7oSdubN6ZTFBkirqTbnnzkZsh6RrRFwjJqWYCciZ5Q3kn4iAi28XKV0ESRErETnvFdeyd5zp0kz8gYRSj38F27zXK8IyNMbk4ExkRQoOdJgAA8iZqQ5KXoSbIQM7UiQPpQFKAzbuf4J2rMwCqVxcCWGJJwEeoypKlibWBq2EFSv7GY8FhxO1qOd6Y85yD0+gl9VSQ81osgPD7zXXtMjq2vgtgFdekmOjKX/Dg655V36BDduZzZxeFknGI0Q1ZFXaj7WmZYDuu0PhEUy3IVcniE8i60HO84KUSOQY8142O+a/eRwqM/0WKOHZVT34+orIc+D/o55tXslCXABh3/s9zl6QjU5OSuJHoRnH/BEG/WfHkO67UhYosybBXSRrQAj9dYjlfwybgLsWX8joJ6tgPr+K69hxRq2yCCBobxrO/aT1To6qOYAZrK7V7Dk+MwSm4dJtnfXLuGGrs7+Qz7UMmcgrCKyhubAf+KcNxEoumPTrAc7wugUQqfDeRKtpyI10uBkb5r1/uu/ZEUHvchMyKG0Oq79o5V0ndagI01lT0cuN+8nj/gss7eiaS5AEaQXha+LFiG2BdtMX1IC78ggu4hA7YFHo+wEtmEaCFa+gCLLccrBN38Rq526uX3/XQeGfdVhBK+QQqhiVJwbGQ53vfAb2OsrqqJ19Hn5LwPJsJEgbHAqZ39qMozez/gnipruEkIXw8dOo9atsIqxVssz+GdJx4jIPxNUXiRJUT3qQK41Hdtp0R59UXvZDvQ1nG7yXK8XaXAiWMKvZeMu1XOBCpPVlilOAv4X01lH090p9VqtMI6lZDIDypDe3RH2NQ3VUHD7R42AzUCRKkAAZEzJm+Jx5YSktGvyLS3NeZg2yZXtmOBqwtbUiXKb0T4ufyPHKQaY97D4b5r35pgBZ53AQIi9YSusEL7A/fWmABpR5i1zww7UHVsqHpEnCGnQhtuFjAE/VtWRoCU5jDykwJ5EcJwojXsQClEuiKsg7okeKZL5KBdJ9+lhgTl/XflURTFt1oFCMAb6LPu2wZ4vkYEyBVy5REpBpnqfMhtiBAJK6PPXlsXNiKwo9F3ZMetiFAOn2VcD0+uqFujHCwH51bEttLsMq9Zj9C3dZPCaIWEwmP9hMKj0hhOuINnuUyg+nRIHbkXkatpNDECWNZrqsx8hL32QPJv7vtr+aK+ZsbvXDAXYaa5fUbX3wORxS9WFFg5SC/xXXt1hLNkVrwBdPNde1pRvWqBdvSZ94LwEVq1ytpsMSK8fQ/EVl3sXZF6zRX8GGHuuwb5stb6EhEavAF4GD0how3JGC+fz/ak439zopz5P1ZuAYXQ7L5r/0n2+bRzce/pu/bwqCunKuQbSji7KcRPYczUzYuITJj95Sr3dhJEyU6rMXxEOOEeCIeULKJftiF8D9YA+iICNFaqV7mq55ZUj9IjhWc2HhExdx1EbheVPC4nEo2I/fpFiTv68hm/77v2KogUoronKGcCXX3XflTxllXSftYtg3fjHWA3TWU3B8zS63IyNrTK8fVJhD56NylU+8g6boXIzKoknFCWN90Tsc11CCI0RLOGazyJSO/5b6KH/TbknzUQOa73lSuUwRHOmQc8hUis86Z8yVKbQFiOtyUiLYKqvfTvgaOAh3zXbqkhXYchR9TlqC49EErsQpj2EXJgWAehlC/FEikY3kU4pE1BRFadRf4C9hn00h2xBdWtQ/+eh9hKas9DJS3H64OI5nwMwSHXO5tdX4MISfKeLM8IDoMRIAZDLWI5Xj+E8rcvYquuoKhtQ1ijzQFm+649s+gcIzQMBoPBYDAYDAaDwWAwGAwGg8FgMBgMBk38B9V+MKCNqpWZAAAAAElFTkSuQmCC",className:Ht["oncokb-logo"],alt:"OncoKB"});return Object(o.createElement)("div",{className:Ht["oncokb-card"],"data-test":"oncokb-card"},Object(o.createElement)("div",null,!this.props.geneNotExist&&Object(o.createElement)("span",null,Object(o.createElement)("div",{className:Yt},Object(o.createElement)("div",{className:Ht.title,"data-test":"oncokb-card-title"},this.props.title),Object(o.createElement)("div",{className:Xt},Object(o.createElement)("div",{key:"oncogenicity",className:s()($t,"enable-hover")},Object(o.createElement)("a",{className:s()("oncogenicity",Qt,Ht["enable-hover-a"],"oncogenicity"===this.activeTab?Ht["enable-hover-active"]:""),onClick:this.handleOncogenicityTabSelect},Object(o.createElement)("span",{className:te},"clinical implications"),Object(o.createElement)("span",{className:ee},this.props.oncogenicity||"Unknown"))),Object(o.createElement)("div",{key:"mutationEffect",className:s()($t,"enable-hover")},Object(o.createElement)("a",{className:s()("mutation-effect",Qt,Ht["enable-hover-a"],"mutationEffect"===this.activeTab?Ht["enable-hover-active"]:""),onClick:this.handleMutationEffectTabSelect},Object(o.createElement)("span",{className:te},"Biological Effect"),Object(o.createElement)("span",{className:ee},this.props.mutationEffect||"Unknown"))),Object(o.createElement)("div",{className:Ht.indicator})),"oncogenicity"===this.activeTab&&Object(o.createElement)("div",null,Object(o.createElement)("div",{className:s()(Jt)},Object(o.createElement)("p",null,this.props.geneSummary),Object(o.createElement)("p",null,this.insertLink(this.props.variantSummary,{keyword:"Chang et al. 2016",link:Object(r.getNCBIlink)("/pubmed/26619011")})),Object(o.createElement)("p",{style:{marginBottom:0}},this.props.tumorTypeSummary),this.props.treatments.length>0&&Object(o.createElement)("div",{style:{marginTop:10}},Object(o.createElement)(Gt,{pmidData:this.props.pmidData,treatments:this.props.treatments})))),"mutationEffect"===this.activeTab&&Object(o.createElement)("div",{className:s()(Jt),style:{maxHeight:200,overflowY:"auto"}},void 0!==this.props.biologicalSummary&&this.props.biologicalSummary.length>0?Object(o.createElement)(Wt,{content:this.props.biologicalSummary,type:"tooltip",pmidData:this.props.pmidData}):this.props.mutationEffectCitations&&(this.props.mutationEffectCitations.abstracts.length>0||this.props.mutationEffectCitations.pmids.length>0)?Object(o.createElement)(Bt,{pmidData:this.props.pmidData,pmids:this.props.mutationEffectCitations.pmids.map(function(t){return Number(t)}),abstracts:this.props.mutationEffectCitations.abstracts}):Object(o.createElement)("span",null,"Mutation effect information is not available."))),Object(o.createElement)("div",{className:Ht.disclaimer},Object(o.createElement)("span",null,"The information above is intended for research purposes only and should not be used as a substitute for professional diagnosis and treatment.")),Object(o.createElement)("div",null,Object(o.createElement)("div",{className:Ut,onClick:this.handleLevelCollapse},"Levels",Object(o.createElement)("span",{style:{float:"right"}},this.levelsCollapsed?Object(o.createElement)("i",{className:s()("fa fa-chevron-down",Ht["orange-icon"])}):Object(o.createElement)("i",{className:s()("fa fa-chevron-up",Ht["orange-icon"])}))),Object(o.createElement)(f.Collapse,{isOpened:!this.levelsCollapsed},Object(o.createElement)("div",{className:s()(Kt,qt)},Object(o.createElement)("ul",{style:{lineHeight:8,padding:0}},this.generateLevelRows(Dt.LEVELS,Dt.LEVEL_DESC)))))),!this.props.isCancerGene&&Object(o.createElement)("div",{className:Ht["additional-info"]},"There is currently no information about this gene in OncoKB."),this.props.geneNotExist&&this.props.isCancerGene&&Object(o.createElement)("div",{className:Ht["additional-info"]},Object(o.createElement)(Mt,{gene:this.props.gene})),Object(o.createElement)("div",{className:Ht.footer},void 0===this.oncokbLinkOut?{oncokbLogo:t}:Object(o.createElement)("a",{href:""+this.oncokbLinkOut,target:"_blank"},t),this.props.handleFeedbackOpen&&Object(o.createElement)("span",{className:s()("pull-right",Ht.feedback)},Object(o.createElement)("button",{className:"btn btn-default btn-sm btn-xs",onClick:this.props.handleFeedbackOpen},"Feedback")))))},e.prototype.handleOncogenicityTabSelect=function(){this.handleTabSelect("oncogenicity")},e.prototype.handleMutationEffectTabSelect=function(){this.handleTabSelect("mutationEffect")},e.prototype.handleTabSelect=function(t){this.activeTab=t},e.prototype.handleLevelCollapse=function(){this.levelsCollapsed=!this.levelsCollapsed},e.prototype.insertLink=function(t,e){if(!t)return t;var n=[],r=t.split(e.keyword);n.push(r[0]);for(var i=Object(o.createElement)("a",{href:e.link,target:e.target||"_blank"},e.keyword),a=1;a<r.length;a++)n.push(i),n.push(r[a]);return n},tt([u.observable],e.prototype,"activeTab",void 0),tt([u.observable],e.prototype,"levelsCollapsed",void 0),tt([u.computed],e.prototype,"oncokbLinkOut",null),tt([u.action],e.prototype,"handleTabSelect",null),tt([u.action],e.prototype,"handleLevelCollapse",null),e=tt([c.observer],e)}(o.Component),re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),Object.defineProperty(e.prototype,"evidenceCacheData",{get:function(){var t;if(!this.props.geneNotExist&&this.props.evidenceCache&&this.props.evidenceQuery){var e=this.props.evidenceCache.getData([this.props.evidenceQuery.id],[this.props.evidenceQuery]);e&&(t=e[this.props.evidenceQuery.id])}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pmidData",{get:function(){if(this.props.pubMedCache&&this.evidenceCacheData)for(var t=this.props.indicator&&this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.citations.pmids.map(function(t){return Number(t)}):[],e=0,n=function(t){var e=[];return t.treatments&&h.a.isArray(t.treatments.sensitivity)&&t.treatments.sensitivity.forEach(function(t){h.a.isArray(t.articles)&&(e=e.concat(t.articles.map(function(t){return Number(t.pmid)})))}),t.treatments&&h.a.isArray(t.treatments.resistance)&&t.treatments.resistance.forEach(function(t){h.a.isArray(t.articles)&&(e=e.concat(t.articles.map(function(t){return Number(t.pmid)})))}),e}(this.evidenceCacheData.data).concat(t);e<n.length;e++){var r=n[e];this.props.pubMedCache.get(r)}return this.props.pubMedCache&&this.props.pubMedCache.cache||{}},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t,e=Object(o.createElement)("span",null),n=this.evidenceCacheData;if(this.props.geneNotExist&&(e=Object(o.createElement)(ne,{gene:this.props.hugoSymbol,geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,pmidData:{},handleFeedbackOpen:this.props.handleFeedbackOpen})),!n||!this.props.indicator)return e;if("complete"===n.status&&n.data&&!this.props.geneNotExist){var i=n.data,a=this.pmidData;e=Object(o.createElement)(ne,{geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,title:this.props.indicator.query.hugoSymbol+" "+this.props.indicator.query.alteration+" in "+this.props.indicator.query.tumorType,gene:this.props.indicator.geneExist?this.props.indicator.query.hugoSymbol:"",variant:this.props.indicator.query.alteration?this.props.indicator.query.alteration:"",oncogenicity:this.props.indicator.oncogenic,oncogenicityPmids:(t=i.oncogenicRefs,h.a.isArray(t)?h.a.map(t,function(t){return Number(t.pmid)}).sort():[]),mutationEffect:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.knownEffect:"",mutationEffectCitations:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.citations:{abstracts:[],pmids:[]},geneSummary:this.props.indicator.geneSummary,variantSummary:this.props.indicator.variantSummary,tumorTypeSummary:this.props.indicator.tumorTypeSummary,biologicalSummary:this.props.indicator.mutationEffect?this.props.indicator.mutationEffect.description:"",treatments:xt(i.treatments),pmidData:a,handleFeedbackOpen:this.props.handleFeedbackOpen})}else"pending"===n.status?e=Object(o.createElement)(r.TableCellStatusIndicator,{status:r.TableCellStatus.LOADING}):"error"===n.status&&(e=Object(o.createElement)(r.TableCellStatusIndicator,{status:r.TableCellStatus.ERROR}));return e},e.prototype.componentDidUpdate=function(){this.evidenceCacheData&&"complete"===this.evidenceCacheData.status&&this.evidenceCacheData.data&&this.props.onLoadComplete&&this.props.onLoadComplete()},e=tt([c.observer],e)}(o.Component),oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t="entry.1744186665="+(this.props.hugoSymbol||""),e="entry.1671960263="+(this.props.alteration||""),n="entry.1381123986="+(this.props.userEmailAddress||""),r="entry.1083850662="+encodeURIComponent(window.location.href);return Object(o.createElement)(G.Modal,{show:this.props.showFeedback,onHide:this.props.handleFeedbackClose},Object(o.createElement)(G.Modal.Header,{closeButton:!0},Object(o.createElement)(G.Modal.Title,null,"OncoKB Annotation Feedback")),Object(o.createElement)(G.Modal.Body,null,Object(o.createElement)("iframe",{src:"https://docs.google.com/forms/d/1lt6TtecxHrhIE06gAKVF_JW4zKFoowNFzxn6PJv4g7A/viewform?"+t+"&"+e+"&entry.118699694&entry.1568641202&"+n+"&"+r+"&embedded=true",style:{width:550,height:500,border:"none",marginLeft:"10px"},marginHeight:0,marginWidth:0},Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"}))))},e}(o.Component);function ie(t){var e,n,r=[0,0,0];return t&&(r[0]=(n=t.oncogenic,mt[n]||0),r[1]=(e=t.highestSensitiveLevel,gt[yt(e)||""]||0),r[2]=function(t){return vt[yt(t)||""]||0}(t.highestResistanceLevel)),r}function ae(t){return t?(t.oncogenic?t.oncogenic:"Unknown")+", "+(t.highestSensitiveLevel?t.highestSensitiveLevel.toLowerCase():"level NA"):"NA"}function se(t){t.querySelector(".rc-tooltip-arrow").style.display="none"}var le,ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showFeedback=!1,e.tooltipDataLoadComplete=!1,e}return J(e,t),e.prototype.render=function(){var t=Object(o.createElement)("span",{className:""+ot["annotation-item"]});return"error"===this.props.status?t=at("Error fetching OncoKB data"):"pending"===this.props.status?t=it("pull-left"):(t=Object(o.createElement)("span",{className:""+ot["annotation-item"]},Object(o.createElement)("i",{className:bt(this.props.indicator),"data-test":"oncogenic-icon-image","data-test2":this.props.hugoGeneSymbol})),!this.props.disableFeedback&&this.showFeedback?t=Object(o.createElement)("span",null,t,Object(o.createElement)(oe,{userEmailAddress:this.props.userEmailAddress,hugoSymbol:this.props.hugoGeneSymbol,alteration:this.props.evidenceQuery?this.props.evidenceQuery.alteration:void 0,showFeedback:this.showFeedback,handleFeedbackClose:this.handleFeedbackClose})):(this.tooltipDataLoadComplete||this.props.evidenceCache&&this.props.evidenceQuery)&&(t=Object(o.createElement)(r.DefaultTooltip,{overlayClassName:"oncokb-tooltip",overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],onPopupAlign:se,destroyTooltipOnHide:!0},t))),t},e.prototype.tooltipContent=function(){return Object(o.createElement)(re,{hugoSymbol:this.props.hugoGeneSymbol,geneNotExist:this.props.geneNotExist,isCancerGene:this.props.isCancerGene,indicator:this.props.indicator||void 0,evidenceCache:this.props.evidenceCache,evidenceQuery:this.props.evidenceQuery,pubMedCache:this.props.pubMedCache,onLoadComplete:this.handleLoadComplete,handleFeedbackOpen:this.props.disableFeedback?void 0:this.handleFeedbackOpen})},e.prototype.handleLoadComplete=function(){this.tooltipDataLoadComplete||(this.tooltipDataLoadComplete=!0)},e.prototype.handleFeedbackOpen=function(){this.showFeedback=!0},e.prototype.handleFeedbackClose=function(){this.showFeedback=!1},tt([u.observable],e.prototype,"showFeedback",void 0),tt([u.observable],e.prototype,"tooltipDataLoadComplete",void 0),tt([l.default],e.prototype,"tooltipContent",null),tt([l.default],e.prototype,"handleLoadComplete",null),tt([l.default],e.prototype,"handleFeedbackOpen",null),tt([l.default],e.prototype,"handleFeedbackClose",null),e=tt([c.observer],e)}(o.Component),ce=function(t){function e(e){return t.call(this,e)||this}return J(e,t),Object.defineProperty(e.prototype,"selectedValues",{get:function(){return(this.props.columnVisibility||[]).filter(function(t){return t.visible}).map(function(t){return{value:t.id}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return(this.props.columnVisibility||[]).map(function(t){return{label:Object(o.createElement)("span",null,t.name),value:t.id}})},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(r.CheckedSelect,{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onChange,options:this.options,value:this.selectedValues,showControls:this.props.showControls})},e.prototype.onChange=function(t){this.props.onColumnToggled&&this.props.onColumnToggled(t.map(function(t){return t.value}))},e.defaultProps={name:"dataTableColumns",placeholder:"Columns",showControls:!1},tt([u.computed],e.prototype,"selectedValues",null),tt([u.computed],e.prototype,"options",null),tt([l.default,u.action],e.prototype,"onChange",null),e=tt([c.observer],e)}(o.Component),pe="filterResetPanel-module_filterResetPanel__32AR2",he=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{className:this.props.className},Object(o.createElement)("span",{style:{verticalAlign:"middle"}},this.props.mutationsShown+" mutations are shown based on your filtering.",Object(o.createElement)("button",{className:this.props.buttonClass,style:{cursor:"pointer",marginLeft:6},onClick:this.props.resetFilters},this.props.buttonText)))},e.defaultProps={buttonText:"Show all mutations",buttonClass:s()("btn","btn-secondary","btn-sm"),className:s()("alert","alert-success",pe)},e=tt([c.observer],e)}(o.Component),fe=function(t){function e(e){var n=t.call(this,e)||this;return n.textElt=null,n.isMounted=!1,n.state={displayText:e.label||""},n.handlers={textRef:function(t){n.textElt=t}},n}return J(e,t),Object.defineProperty(e.prototype,"hitRect",{get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.props.x+this.props.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.props.y+this.props.height/2},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.isMounted=!0},Object.defineProperty(e.prototype,"displayText",{get:function(){var t=this.props.label||"";if(!this.textElt||!this.isMounted)return t;if(!q()(this.textElt).is(":visible"))return t;for(var e=t.length;e>0&&this.textElt.getSubStringLength(0,e)>this.props.width;)e-=1;var n=t;return e<t.length&&(n=(e-=2)<=0?"":t.substr(0,e)+".."),n},enumerable:!0,configurable:!0}),e.prototype.makeTextElement=function(t){var e={x:this.centerX,y:this.centerY,textAnchor:"middle",dy:"0.3em",fill:this.props.labelColor||"#FFFFFF",style:{fontSize:"12px",fontFamily:"arial"}},n=t?this.props.label||"":this.displayText;return t&&(e.ref=this.handlers.textRef,e.visibility="hidden",e.style={opacity:0},e.className=this.props.hitzoneClassName),Object(o.createElement)("text",Q({},e),n)},e.prototype.render=function(){return Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),this.makeTextElement(!0),this.makeTextElement(!1),Object(o.createElement)("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,style:{opacity:0}}))},tt([u.observable],e.prototype,"textElt",void 0),tt([u.observable],e.prototype,"isMounted",void 0),tt([u.computed],e.prototype,"displayText",null),e=tt([c.observer],e)}(o.Component),de=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHovered=!1,e}return J(e,t),Object.defineProperty(e.prototype,"headRadius",{get:function(){return this.isHovered?this.props.hoverHeadRadius:this.props.headRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circleX",{get:function(){return this.props.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circleY",{get:function(){return this.props.stickBaseY-this.props.stickHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"circleHitRect",{get:function(){return{x:this.circleX-this.props.hoverHeadRadius,y:this.circleY-this.props.hoverHeadRadius,width:2*this.props.hoverHeadRadius,height:2*this.props.hoverHeadRadius}},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=null;return this.props.label&&(t=Object(o.createElement)("text",{fill:"#2E3436",style:{fontSize:this.props.label.fontSize||10,fontFamily:this.props.label.fontFamily||"arial"},textAnchor:this.props.label.textAnchor||"middle",x:this.props.x,y:this.props.stickBaseY-this.props.stickHeight-this.props.headRadius-5},this.props.label.text)),Object(o.createElement)("g",null,Object(o.createElement)("line",{strokeWidth:"1",stroke:this.props.stickColor||"#BABDB6",x1:this.props.x,x2:this.props.x,y1:this.props.stickBaseY,y2:this.props.stickBaseY-this.props.stickHeight}),Object(o.createElement)("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.headColor||"#000000",r:this.headRadius,cx:this.circleX,cy:this.circleY}),Object(o.createElement)("circle",{className:this.props.hitzoneClassName,r:this.props.hoverHeadRadius,cx:this.circleX,cy:this.circleY,cursor:"pointer",style:{opacity:0}}),t)},tt([u.observable],e.prototype,"isHovered",void 0),tt([u.computed],e.prototype,"headRadius",null),tt([u.computed],e.prototype,"circleX",null),tt([u.computed],e.prototype,"circleY",null),tt([u.computed],e.prototype,"circleHitRect",null),e=tt([c.observer],e)}(o.Component),me={missenseColor:"#008000",inframeColor:"#993404",truncatingColor:"#000000",otherColor:"#CF58BC"},ge={missense:1,inframe:2,truncating:4,nonsense:6,nonstop:7,nonstart:8,frameshift:4,frame_shift_del:4,frame_shift_ins:5,in_frame_ins:3,in_frame_del:2,splice_site:9,fusion:10,silent:11,other:11};function ve(t,e){var n=ge[t],r=ge[e];return n<r?-1:n>r?1:t.localeCompare(e)}function ye(t,e,n){void 0===e&&(e=me),void 0===n&&(n=function(){return 1});var o=h.a.flatten(t.map(function(t){return h.a.fill(Array(n(t)),Object(r.getCanonicalMutationType)(t.mutationType||""))})).sort(ve),i=Object(r.findFirstMostCommonElt)(o);if(!i)return"#FF0000";switch(Object(r.getProteinImpactTypeFromCanonical)(i)){case"missense":return e.missenseColor;case"truncating":return e.truncatingColor;case"inframe":return e.inframeColor;default:return e.otherColor}}function be(t){var e=t.chromosome||t.gene&&t.gene.chromosome;return e&&t.startPosition&&t.endPosition&&t.referenceAllele&&t.variantAllele?{chromosome:e.replace("chr",""),start:t.startPosition,end:t.endPosition,referenceAllele:t.referenceAllele,variantAllele:t.variantAllele}:void 0}function _e(t){return t.chromosome+","+t.start+","+t.end+","+t.referenceAllele+","+t.variantAllele}function xe(t){var e={};return t.map(function(t){var n=be(t);n&&(e[_e(n)]=n)}),h.a.values(e)}function we(t,e){var n=function(t){var e=h.a.groupBy(t,"proteinChange"),n=h.a.map(e,function(t){return{proteinChange:t[0].proteinChange,count:t.length}});return h.a.orderBy(n,["count","proteinChange"],["desc","asc"])}(t).filter(function(t){return void 0!==t.proteinChange}),o=n.map(function(t){return t.proteinChange}).slice(0,e&&e>0?e:void 0),i=o.slice(0).sort(),a="";i.length>1&&(a=Object(r.longestCommonStartingSubstring)(i[0],i[i.length-1]));var s=o.map(function(t){return t.substring(a.length)}),l=a+s.join("/");return o.length<n.length&&(l=l+" and "+(n.length-o.length)+" more"),l}function Se(t,e,n,o,i,a){var s="middle",l=Object(r.getTextWidth)(t,n,o+"px"),u=e*(i/a);return l/2>u?s="start":l/2>i-u&&(s="end"),s}!function(t){t.PDB="PDB",t.CancerHotspots="CANCER_HOTSPOTS",t.OncoKB="ONCO_KB",t.PTM="PTM"}(le||(le={}));var Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.onChange=function(t){this.props.onChange(t.map(function(t){return t.value}))},Object.defineProperty(e.prototype,"selectedValues",{get:function(){var t=this;return Object.keys(this.props.trackVisibility).filter(function(e){return"visible"===t.props.trackVisibility[e]}).map(function(t){return{value:t}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableOptions",{get:function(){var t;return(t={})[le.CancerHotspots]={label:Object(o.createElement)("span",null,"Cancer Hotspots",this.isPending(le.CancerHotspots)&&this.loaderIcon()),value:le.CancerHotspots},t[le.OncoKB]={label:Object(o.createElement)("span",null,"OncoKB",this.isPending(le.OncoKB)&&this.loaderIcon()),value:le.OncoKB},t[le.PTM]={label:Object(o.createElement)("span",null,"Post Translational Modifications",this.isPending(le.PTM)&&this.loaderIcon()),value:le.PTM},t[le.PDB]={label:Object(o.createElement)("span",null,"3D Structure",this.isPending(le.PDB)&&this.loaderIcon()),value:le.PDB,disabled:this.isDisabled(le.PDB)},t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var t=this;return this.props.tracks.filter(function(e){return void 0!==t.props.trackVisibility[e]}).map(function(e){return t.availableOptions[e]})},enumerable:!0,configurable:!0}),e.prototype.isPending=function(t){return this.props.trackDataStatus&&"pending"===this.props.trackDataStatus[t]},e.prototype.isDisabled=function(t){return this.props.trackDataStatus&&"complete"!==this.props.trackDataStatus[t]},e.prototype.loaderIcon=function(){return Object(o.createElement)("span",{style:{display:"inline-block",verticalAlign:"bottom",marginLeft:5}},Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse"}))},e.prototype.render=function(){return Object(o.createElement)(r.CheckedSelect,{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onChange,options:this.options,value:this.selectedValues})},e.defaultProps={name:"mutationMapperTrackSelector",placeholder:"Add annotation tracks",tracks:[le.CancerHotspots,le.OncoKB,le.PTM,le.PDB]},tt([l.default,u.action],e.prototype,"onChange",null),tt([u.computed],e.prototype,"selectedValues",null),tt([u.computed],e.prototype,"availableOptions",null),tt([u.computed],e.prototype,"options",null),e=tt([c.observer],e)}(o.Component);function Te(){var t;return(t={})[le.OncoKB]="hidden",t[le.CancerHotspots]="hidden",t[le.PTM]="hidden",t[le.PDB]="hidden",t}var ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{style:{maxWidth:700,marginTop:5}},Object(o.createElement)("strong",{style:{color:"#2153AA"}},"Color Codes"),Object(o.createElement)("p",null,"Mutation diagram circles are colored with respect to the corresponding mutation types. In case of different mutation types at a single position, color of the circle is determined with respect to the most frequent mutation type."),Object(o.createElement)("br",null),Object(o.createElement)("div",null,"Mutation types and corresponding color codes are as follows:",Object(o.createElement)("ul",null,Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.missenseColor}},"Missense Mutations")),Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.truncatingColor}},"Truncating Mutations"),": Nonsense, Nonstop, Frameshift deletion, Frameshift insertion, Splice site"),Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.inframeColor}},"Inframe Mutations"),": Inframe deletion, Inframe insertion"),Object(o.createElement)("li",null,Object(o.createElement)("strong",{style:{color:this.props.otherColor}},"Other Mutations"),": All other types of mutations"))))},e.defaultProps={missenseColor:"#008000",truncatingColor:"#000000",inframeColor:"#993404",otherColor:"#CF58BC"},e}(o.Component);function Oe(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r={});var o=t.isPositionSelected(e),i=[];n&&(i=Me(t.selectionFilters),o&&(i=h.a.without(i,e))),o||i.push(e);var a=Q({},r,{position:i}),s=t.selectionFilters.filter(function(t){return void 0===t.position});t.clearSelectionFilters(),t.setSelectionFilters([a].concat(s))}function Ee(t,e,n){void 0===n&&(n={}),t.clearHighlightFilters(),t.setHighlightFilters([Q({},n,{position:[e]})])}function Me(t){return h.a.uniq(h.a.flatten(t.filter(function(t){return void 0!==t.position}).map(function(t){return t.position.slice()})))}var Ie,Ae=function(t){function e(e){var n=t.call(this,e)||this;return n.isMounted=!1,n}return J(e,t),Object.defineProperty(e.prototype,"hitRect",{get:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height}},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){this.isMounted=!0},e.prototype.render=function(){return Object(o.createElement)("g",null,Object(o.createElement)("rect",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.color}),Object(o.createElement)("rect",{className:this.props.hitzoneClassName,x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,style:{opacity:0}}))},tt([u.observable],e.prototype,"isMounted",void 0),e=tt([c.observer],e)}(o.Component),Pe="delete-for-download",De=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lollipopComponents={},e.domainComponents={},e.sequenceComponents=[],e.shiftPressed=!1,e.lollipopZeroHeight=10,e.xAxisCandidateTickIntervals=[50,100,200,250,500,1e3,2500,5e3,1e4,25e3],e.yAxisCandidateTickIntervals=[1,2,5,10,20,50,100,200,500],e.xAxisHeight=30,e.yAxisWidth=50,e.geneHeight=14,e.domainHeight=24,e}return J(e,t),e.prototype.ref=function(t){this.svg=t},e.prototype.onBackgroundClick=function(){this.props.dataStore.clearSelectionFilters()},e.prototype.onBackgroundMouseMove=function(){this.props.onBackgroundMouseMove&&this.props.onBackgroundMouseMove(),this.unhoverAllLollipops()},e.prototype.onLollipopClick=function(t){Oe(this.props.dataStore,t,this.shiftPressed)},e.prototype.onKeyDown=function(t){16===t.which&&(this.shiftPressed=!0)},e.prototype.onKeyUp=function(t){16===t.which&&(this.shiftPressed=!1)},e.prototype.onMouseOver=function(t){var e=this;this.unhoverAllLollipops();var n=t.target.getAttribute("class")||"",r=this.getLollipopIndex(n),o=null,i=null;if(null!==r){var a=this.lollipopComponents[r];a&&(a.isHovered=!0,this.props.setHitZone&&this.props.setHitZone(a.circleHitRect,a.props.spec.tooltip,Object(u.action)(function(){Ee(e.props.dataStore,a.props.spec.codon),a.isHovered=!0}),Object(u.action)(function(){return e.onLollipopClick(a.props.spec.codon)})))}else o=this.getDomainIndex(n);if(null!==o){var s=this.domainComponents[o];s&&this.props.setHitZone&&this.props.setHitZone(s.hitRect,s.props.spec.tooltip,void 0,void 0,void 0,"auto")}else i=this.getSequenceIndex(n);if(null!==i){var l=this.sequenceComponents[i];l&&this.props.setHitZone&&this.props.setHitZone(l.hitRect,l.props.spec.tooltip,void 0,void 0,void 0,"auto")}},e.prototype.onSVGMouseLeave=function(t){"svg"===t.target.tagName.toLowerCase()&&this.props.onMouseLeave&&this.props.onMouseLeave()},e.prototype.unhoverAllLollipops=function(){Object(r.unhoverAllComponents)(this.lollipopComponents),this.props.dataStore.clearHighlightFilters()},e.prototype.componentDidMount=function(){q()(document).on("keydown",this.onKeyDown),q()(document).on("keyup",this.onKeyUp),this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)},e.prototype.componentWillUnmount=function(){q()(document).off("keydown",this.onKeyDown),q()(document).off("keyup",this.onKeyUp)},e.prototype.componentDidUpdate=function(){this.props.onXAxisOffset&&this.props.onXAxisOffset(this.geneX)},e.prototype.codonToX=function(t){return t/this.props.xMax*this.props.vizWidth},e.prototype.countToHeight=function(t){return this.lollipopZeroHeight+Math.min(1,t/this.yMax)*this.yAxisHeight},e.prototype.calculateTickInterval=function(t,e,n){var r,o=t.find(function(t){return e/t<n-1});if(o)r=o;else for(r=10;e/r>n-1;)r*=10;return r},e.prototype.calculateTicks=function(t,e,n){for(var r=[],o=t;o<e;){var i=void 0;n&&e-o>2*t/3&&o%(2*t)==0&&(i=o+""),r.push({position:o,label:i}),o+=t}return r},Object.defineProperty(e.prototype,"xAxisTickInterval",{get:function(){return this.calculateTickInterval(this.xAxisCandidateTickIntervals,this.props.xMax,16)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisTickInterval",{get:function(){return this.calculateTickInterval(this.yAxisCandidateTickIntervals,this.yMax,10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xTicks",{get:function(){var t=[];return t.push({position:0,label:"0"}),t.push({position:this.props.xMax,label:this.props.xMax+"aa"}),t=t.concat(this.calculateTicks(this.xAxisTickInterval,this.props.xMax,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yTicks",{get:function(){var t=[];return t.push({position:0,label:"0"}),t.push({position:this.yMax,label:this.yMaxLabel}),t=t.concat(this.calculateTicks(this.yAxisTickInterval,this.yMax,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMax",{get:function(){return this.props.yMax||this.props.lollipops.reduce(function(t,e){return Math.max(t,e.count)},1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMaxLabel",{get:function(){var t=this;return(this.props.lollipops.find(function(e){return e.count>t.yMax})?">= ":"")+this.yMax},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxisHeight",{get:function(){return this.props.vizHeight-this.domainHeight-this.lollipopZeroHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geneX",{get:function(){return this.yAxisWidth+75},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geneY",{get:function(){return this.props.vizHeight-this.geneHeight+30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domainY",{get:function(){return this.geneY-(this.domainHeight-this.geneHeight)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequenceSegments",{get:function(){var t=this,e=[],n=0,r=h.a.map(this.props.domains,function(e){var r={start:n,end:t.codonToX(e.startCodon)};return n=t.codonToX(e.endCodon),r}),i=this.props.vizWidth;return r.push({start:n,end:i}),r.sort(function(t,e){return t.start-e.start}),r.forEach(function(n,r){e.push(Object(o.createElement)(Ae,{ref:function(e){null!==e&&(t.sequenceComponents[r]=e)},color:"#BABDB6",x:t.geneX+n.start,y:t.geneY,height:t.geneHeight,width:n.end-n.start,spec:t.props.sequence,hitzoneClassName:[Pe,t.makeSequenceIndexClass(r)].join(" ")}))}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lollipops",{get:function(){var t=this;this.lollipopComponents={};return this.props.lollipops.map(function(e,n){return Object(o.createElement)(de,{key:e.codon,ref:function(e){null!==e&&(t.lollipopComponents[n]=e)},x:t.geneX+t.codonToX(e.codon),stickBaseY:t.geneY,stickHeight:t.countToHeight(e.count),headRadius:t.props.dataStore.isPositionSelected(e.codon)||t.props.dataStore.isPositionHighlighted(e.codon)?5:2.8,hoverHeadRadius:5,label:e.label,headColor:e.color,hitzoneClassName:[Pe,t.makeLollipopIndexClass(n)].join(" "),spec:e})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domains",{get:function(){var t=this;return this.domainComponents={},this.props.domains.map(function(e,n){var r=t.codonToX(e.startCodon),i=t.codonToX(e.endCodon)-r;return Object(o.createElement)(fe,{key:n,ref:function(e){null!==e&&(t.domainComponents[n]=e)},x:t.geneX+r,y:t.domainY,width:i,height:t.domainHeight,color:e.color,label:e.label,labelColor:e.labelColor,hitzoneClassName:[Pe,t.makeDomainIndexClass(n)].join(" "),spec:e})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgWidth",{get:function(){return this.props.vizWidth+this.geneX+30},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgHeight",{get:function(){return this.geneY+this.domainHeight+this.xAxisHeight},enumerable:!0,configurable:!0}),e.prototype.makeDomainIndexClass=function(t){return"domain-"+t},e.prototype.makeLollipopIndexClass=function(t){return"lollipop-"+t},e.prototype.makeSequenceIndexClass=function(t){return"sequence-"+t},e.prototype.getDomainIndex=function(t){return Object(r.getComponentIndex)(t,"domain-")},e.prototype.getLollipopIndex=function(t){return Object(r.getComponentIndex)(t,"lollipop-")},e.prototype.getSequenceIndex=function(t){return Object(r.getComponentIndex)(t,"sequence-")},e.prototype.toSVGDOMNode=function(){if(this.svg){var t=this.svg.cloneNode(!0);return q()(t).find("."+Pe).remove(),t}return document.createElementNS("http://www.w3.org/2000/svg","svg")},e.prototype.render=function(){return Object(o.createElement)("div",{onMouseOver:this.onMouseOver},Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",ref:this.ref,width:this.svgWidth,height:this.svgHeight,className:"lollipop-svgnode",onMouseLeave:this.onSVGMouseLeave},Object(o.createElement)("rect",{fill:"#FFFFFF",x:0,y:0,width:this.svgWidth,height:this.svgHeight,onClick:this.onBackgroundClick,onMouseMove:this.onBackgroundMouseMove}),Object(o.createElement)("rect",{fill:"#BABDB6",x:this.geneX,y:this.geneY,height:this.geneHeight,width:this.props.vizWidth+1}),this.lollipops,this.domains,Object(o.createElement)(r.SVGAxis,{key:"horz",x:this.geneX,y:this.geneY+this.geneHeight+10,length:this.props.vizWidth,tickLength:7,rangeLower:0,rangeUpper:this.props.xMax,ticks:this.xTicks}),Object(o.createElement)(r.SVGAxis,{key:"vert",x:this.geneX-10,y:this.geneY-this.lollipopZeroHeight-this.yAxisHeight,length:this.yAxisHeight,tickLength:7,rangeLower:0,rangeUpper:this.yMax,ticks:this.yTicks,vertical:!0,label:"# "+this.props.hugoGeneSymbol+" Mutations"})))},tt([l.default],e.prototype,"ref",null),tt([l.default,u.action],e.prototype,"onBackgroundClick",null),tt([l.default,u.action],e.prototype,"onBackgroundMouseMove",null),tt([l.default,u.action],e.prototype,"onLollipopClick",null),tt([l.default,u.action],e.prototype,"onKeyDown",null),tt([l.default,u.action],e.prototype,"onKeyUp",null),tt([l.default,u.action],e.prototype,"onMouseOver",null),tt([l.default,u.action],e.prototype,"onSVGMouseLeave",null),tt([u.computed],e.prototype,"xAxisTickInterval",null),tt([u.computed],e.prototype,"yAxisTickInterval",null),tt([u.computed],e.prototype,"xTicks",null),tt([u.computed],e.prototype,"yTicks",null),tt([u.computed],e.prototype,"yMax",null),tt([u.computed],e.prototype,"yMaxLabel",null),tt([u.computed],e.prototype,"yAxisHeight",null),tt([u.computed],e.prototype,"geneX",null),tt([u.computed],e.prototype,"geneY",null),tt([u.computed],e.prototype,"domainY",null),tt([u.computed],e.prototype,"sequenceSegments",null),tt([u.computed],e.prototype,"lollipops",null),tt([u.computed],e.prototype,"domains",null),tt([u.computed],e.prototype,"svgWidth",null),tt([u.computed],e.prototype,"svgHeight",null),e=tt([c.observer],e)}(o.Component),Re=function(t){function e(e){var n=t.call(this,e)||this;return n.hitZoneConfig=Object(r.defaultHitzoneConfig)(),n.handlers={ref:function(t){n.plot=t},setHitZone:function(t,e,r,o,i,a,s){void 0===a&&(a="pointer"),void 0===s&&(s="top"),n.hitZoneConfig={hitRect:t,content:e,onMouseOver:r,onClick:o,onMouseOut:i,cursor:a,tooltipPlacement:s}},getOverlay:function(){return n.hitZoneConfig.content},getOverlayPlacement:function(){return n.hitZoneConfig.tooltipPlacement},onMouseLeave:function(){n.hitZoneConfig.onMouseOut&&n.hitZoneConfig.onMouseOut()},onBackgroundMouseMove:function(){n.hitZoneConfig.onMouseOut&&n.hitZoneConfig.onMouseOut()}},n}return J(e,t),Object.defineProperty(e.prototype,"tooltipVisible",{get:function(){return!!this.hitZoneConfig.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitZone",{get:function(){return Object(r.initHitZoneFromConfig)(this.hitZoneConfig)},enumerable:!0,configurable:!0}),e.prototype.toSVGDOMNode=function(){return this.plot?this.plot.toSVGDOMNode():document.createElementNS("http://www.w3.org/2000/svg","svg")},e.prototype.render=function(){var t={};return this.tooltipVisible||(t.visible=!1),Object(o.createElement)("div",{style:{position:"relative",display:"inline-block"},"data-test":"LollipopPlot"},Object(o.createElement)(r.DefaultTooltip,Q({placement:this.handlers.getOverlayPlacement(),overlay:this.handlers.getOverlay},t),this.hitZone),Object(o.createElement)(De,Q({ref:this.handlers.ref,setHitZone:this.handlers.setHitZone,onMouseLeave:this.handlers.onMouseLeave,onBackgroundMouseMove:this.handlers.onBackgroundMouseMove},this.props)))},tt([u.observable],e.prototype,"hitZoneConfig",void 0),tt([u.computed],e.prototype,"tooltipVisible",null),tt([u.computed],e.prototype,"hitZone",null),e=tt([c.observer],e)}(o.Component),Fe="lollipopMutationPlot-module_fade-out__10ao0",ze="lollipopMutationPlot-module_fade-in__3IPdh",je="lollipopMutationPlot-module_ymax-number-input__3G81r",Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),Object.defineProperty(e.prototype,"yMaxSlider",{get:function(){return Object(o.createElement)("div",{className:"small",style:{display:"flex",alignItems:"center",marginLeft:10}},Object(o.createElement)("span",null,"Y-Axis Max:"),Object(o.createElement)("input",{style:{display:"inline-block",padding:0,width:200,marginLeft:10,marginRight:10},type:"range",min:this.props.countRange[0],max:this.props.countRange[1],step:"1",onChange:this.props.onYAxisMaxSliderChange,value:this.props.yMaxSlider}),Object(o.createElement)(r.EditableSpan,{className:je,value:""+this.props.yMaxInput,setValue:this.props.onYAxisMaxChange,numericOnly:!0,onFocus:this.props.onYMaxInputFocused,onBlur:this.props.onYMaxInputBlurred}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackSelector",{get:function(){return Object(o.createElement)("div",{className:s()("annotation-track-selector","small"),style:{width:180,marginRight:7}},Object(o.createElement)(Ce,{tracks:this.props.tracks,trackVisibility:this.props.trackVisibility,trackDataStatus:this.props.trackDataStatus,onChange:this.props.onTrackVisibilityChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendToggle",{get:function(){return Object(o.createElement)("button",{className:"btn btn-default btn-xs",onClick:this.props.onToggleLegend,style:{marginRight:7}},"Legend ",Object(o.createElement)("i",{className:"fa fa-eye","aria-hidden":"true"}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downloadControls",{get:function(){return Object(o.createElement)(r.DownloadControls,{getSvg:this.props.getSVG,filename:this.props.hugoGeneSymbol+"_lollipop.svg",dontFade:!0,type:"button"})},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("div",{className:s()("lollipop_mutation_plot__controls",this.props.showControls?ze:Fe)},Object(o.createElement)("div",{style:{display:"flex",alignItems:"center"}},this.props.trackVisibility&&this.props.onTrackVisibilityChange&&this.trackSelector,this.props.showYMaxSlider&&this.yMaxSlider,Object(o.createElement)("div",{style:{display:"flex",marginLeft:"auto"}},this.props.showLegendToggle&&this.legendToggle,this.props.showDownloadControls&&this.downloadControls)),"  ")},e.defaultProps={showYMaxSlider:!0,showLegendToggle:!0,showDownloadControls:!0},e=tt([c.observer],e)}(o.Component);function Le(t){return t.result?(e=t.result,n={},e.forEach(function(t){n[_e(t.genomicLocation)]=t}),n):void 0;var e,n}function Be(t,e,n){var r=[];return t.forEach(function(t){var n=be(t),o=n?e[_e(n)]:void 0;o&&(r=r.concat(o.hotspots))}),n&&(r=r.filter(n)),r}function He(t,e){return Be(t,e,function(t){return t.type.toLowerCase().includes("single")||t.type.toLowerCase().includes("indel")})}function Ve(t,e){return Be(t,e,function(t){return t.type.toLowerCase().includes("3d")})}function We(t,e){return He([t],e).length>0}function Ge(t,e){return Ve([t],e).length>0}function Ue(t,e,n){return Be([t],e,n).length>0}function qe(t){var e=t.type.toLowerCase();return e.includes("single")||e.includes("indel")||e.includes("3d")}!function(t){t.DefaultHotspot="DEFAULT_HOTSPOT"}(Ie||(Ie={}));var Ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isHovered=!1,e}var n;return J(e,t),n=e,Object.defineProperty(e.prototype,"circleRadius",{get:function(){return this.isHovered?this.props.hoverRadius:this.props.radius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitRectangle",{get:function(){var t=this.props.hoverRadius||n.defaultProps.hoverRadius;return{x:this.props.x-t+(this.props.hitZoneXOffset||0),y:this.props.y,width:2*t,height:2*t}},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("g",null,Object(o.createElement)("circle",{stroke:"#BABDB6",strokeWidth:"0.5",fill:this.props.spec.color,r:this.circleRadius,cx:this.props.x,cy:this.props.y}),Object(o.createElement)("circle",{className:this.props.hitZoneClassName,r:this.props.hoverRadius,cx:this.props.x,cy:this.props.y,cursor:"pointer",style:{opacity:0}}))},e.defaultProps={radius:2.8,hoverRadius:5},tt([u.observable],e.prototype,"isHovered",void 0),tt([u.computed],e.prototype,"circleRadius",null),tt([u.computed],e.prototype,"hitRectangle",null),e=n=tt([c.observer],e)}(o.Component),Ze="trackStyles-module_trackTitle__3ppKI",Ye=function(t){function e(e){var n=t.call(this,e)||this;return n.hitZoneConfig=Object(r.defaultHitzoneConfig)(),n.shiftPressed=!1,n.tooltipActive=!1,n}return J(e,t),e.prototype.setHitZone=function(t,e,n,r,o,i,a){void 0===i&&(i="pointer"),void 0===a&&(a="top"),this.hitZoneConfig={hitRect:t,content:e,onMouseOver:n,onClick:r,onMouseOut:o,cursor:i,tooltipPlacement:a}},e.prototype.getOverlay=function(){return this.hitZoneConfig.content},e.prototype.getOverlayPlacement=function(){return this.hitZoneConfig.tooltipPlacement},e.prototype.onMouseLeave=function(){this.hitZoneConfig.onMouseOut&&this.hitZoneConfig.onMouseOut()},e.prototype.onBackgroundMouseMove=function(){this.hitZoneConfig.onMouseOut&&this.hitZoneConfig.onMouseOut()},e.prototype.onBackgroundClick=function(){this.props.dataStore.clearSelectionFilters()},e.prototype.onTrackCircleClick=function(t){Oe(this.props.dataStore,t.props.spec.codon,this.shiftPressed,this.props.defaultFilterProps)},e.prototype.onTrackCircleHover=function(t){Ee(this.props.dataStore,t.props.spec.codon,this.props.defaultFilterProps),t.isHovered=!0},e.prototype.onKeyDown=function(t){16===t.which&&(this.shiftPressed=!0)},e.prototype.onKeyUp=function(t){16===t.which&&(this.shiftPressed=!1)},e.prototype.onMouseOver=function(t){var e=this;this.unhoverAllComponents();var n=t.target.getAttribute("class")||"",r=this.getComponentIndex(n);if(null!==r){var o=this.circles[r];o&&this.setHitZone(o.hitRectangle,o.props.spec.tooltip,Object(u.action)(function(){return e.onTrackCircleHover(o)}),Object(u.action)(function(){return e.onTrackCircleClick(o)}),this.onHitzoneMouseOut,"pointer","bottom")}},e.prototype.onSVGMouseLeave=function(t){"svg"===t.target.tagName.toLowerCase()&&this.onMouseLeave()},e.prototype.onTooltipVisibleChange=function(t){this.tooltipActive=t,t||this.unhoverAllComponents()},e.prototype.onHitzoneMouseOut=function(){this.tooltipActive||this.unhoverAllComponents()},Object.defineProperty(e.prototype,"svgHeight",{get:function(){return 10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this.circles={},(this.props.trackItems||[]).map(function(e,n){return Object(o.createElement)(Ke,{ref:function(e){null!==e&&(t.circles[n]=e)},key:e.codon,hitZoneClassName:""+t.props.idClassPrefix+n,hitZoneXOffset:t.props.xOffset,x:t.props.width/t.props.proteinLength*e.codon,y:t.svgHeight/2,radius:t.props.dataStore.isPositionSelected(e.codon)||t.props.dataStore.isPositionHighlighted(e.codon)?5:2.8,hoverRadius:5,spec:e})})},enumerable:!0,configurable:!0}),e.prototype.unhoverAllComponents=function(){Object(r.unhoverAllComponents)(this.circles),this.props.dataStore.clearHighlightFilters()},e.prototype.getComponentIndex=function(t){return Object(r.getComponentIndex)(t,this.props.idClassPrefix||"track-circle-")},Object.defineProperty(e.prototype,"tooltipVisible",{get:function(){return!!this.hitZoneConfig.content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hitZone",{get:function(){return Object(r.initHitZoneFromConfig)(this.hitZoneConfig)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipVisibleProps",{get:function(){var t={};return this.tooltipVisible||(t.visible=!1),t},enumerable:!0,configurable:!0}),e.prototype.componentDidMount=function(){q()(document).on("keydown",this.onKeyDown),q()(document).on("keyup",this.onKeyUp)},e.prototype.componentWillUnmount=function(){q()(document).off("keydown",this.onKeyDown),q()(document).off("keyup",this.onKeyUp)},e.prototype.render=function(){return Object(o.createElement)("div",{style:{position:"relative",display:"flex"}},Object(o.createElement)("span",{className:s()(Ze,"small")},this.props.trackTitle),Object(o.createElement)("span",null,Object(o.createElement)(r.DefaultTooltip,Q({placement:this.getOverlayPlacement(),overlay:this.getOverlay,onVisibleChange:this.onTooltipVisibleChange,destroyTooltipOnHide:!0},this.tooltipVisibleProps),this.hitZone),Object(o.createElement)("span",{style:{marginLeft:this.props.xOffset},onMouseOver:this.onMouseOver},Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.svgHeight,className:"track-svgnode",onMouseLeave:this.onSVGMouseLeave,style:{overflow:"visible"}},Object(o.createElement)("rect",{fill:"#FFFFFF",x:0,y:0,width:this.props.width,height:this.svgHeight,onClick:Object(u.action)(this.onBackgroundClick),onMouseMove:this.onBackgroundMouseMove}),!this.props.hideBaseline&&Object(o.createElement)("line",{stroke:"#666666",strokeWidth:"0.5",x1:0,x2:this.props.width,y1:this.svgHeight/2,y2:this.svgHeight/2}),this.items))))},tt([u.observable],e.prototype,"hitZoneConfig",void 0),tt([u.observable],e.prototype,"shiftPressed",void 0),tt([l.default],e.prototype,"setHitZone",null),tt([l.default],e.prototype,"getOverlay",null),tt([l.default],e.prototype,"getOverlayPlacement",null),tt([l.default,u.action],e.prototype,"onMouseLeave",null),tt([l.default],e.prototype,"onBackgroundMouseMove",null),tt([l.default,u.action],e.prototype,"onBackgroundClick",null),tt([l.default,u.action],e.prototype,"onTrackCircleClick",null),tt([l.default,u.action],e.prototype,"onTrackCircleHover",null),tt([l.default,u.action],e.prototype,"onKeyDown",null),tt([l.default,u.action],e.prototype,"onKeyUp",null),tt([l.default,u.action],e.prototype,"onMouseOver",null),tt([l.default,u.action],e.prototype,"onSVGMouseLeave",null),tt([l.default,u.action],e.prototype,"onTooltipVisibleChange",null),tt([l.default,u.action],e.prototype,"onHitzoneMouseOut",null),tt([u.action],e.prototype,"unhoverAllComponents",null),tt([u.computed],e.prototype,"tooltipVisible",null),tt([u.computed],e.prototype,"hitZone",null),e=tt([c.observer],e)}(o.Component);var Xe,$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),Object.defineProperty(e.prototype,"hotspotSpecs",{get:function(){var t=this,e=this.props.store.hotspotsByPosition;return Object(p.isEmpty)(e)?[]:Object(p.keys)(e).filter(function(t){return Number(t)>=0}).map(function(n){return{codon:Number(n),color:"#FF9900",tooltip:(r=t.props.store.mutationsByPosition[Number(n)],i=t.props.store.indexedHotspotData.result||{},a=e[Number(n)],s=He(r,i),l=Ve(r,i),u=r.filter(function(t){return Ue(t,i,qe)}).length,c=Object(p.uniq)(a.map(function(t){return t.residue})),h=Object(o.createElement)("b",null,""+c.join(", ")),f=c.length>1?"s":void 0,d=Object(o.createElement)("span",null,"on residue",f," ",h),Object(o.createElement)(ut,{isHotspot:s.length>0,is3dHotspot:l.length>0,count:u,customInfo:d}))};var r,i,a,s,l,u,c,h,f,d})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackTitle",{get:function(){return Object(o.createElement)("span",null,Object(o.createElement)("span",{style:{marginRight:2}},Object(o.createElement)("img",{src:ct,alt:"Recurrent Hotspot Symbol"})),"Cancer Hotspots")},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(Ye,{dataStore:this.props.dataStore,defaultFilterProps:{hotspot:[Ie.DefaultHotspot]},width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.trackTitle,trackItems:this.hotspotSpecs,idClassPrefix:"cancer-hotspot-"})},tt([u.computed],e.prototype,"hotspotSpecs",null),tt([u.computed],e.prototype,"trackTitle",null),e=tt([c.observer],e)}(o.Component);!function(t){t.Oncogenic="ONCOGENIC"}(Xe||(Xe={}));var Je=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n}var n;return J(e,t),n=e,Object.defineProperty(e.prototype,"hasLevelData",{get:function(){return void 0!==this.props.data.find(function(t){return t.level.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return[{id:"proteinChange",accessor:"proteinChange",Header:"Protein Change",sortMethod:function(t,e){return It(Object(r.calcProteinChangeSortValue)(t),Object(r.calcProteinChangeSortValue)(e))}},{id:"count",accessor:"count",Header:"Occurrence",maxWidth:80},{id:"clinicalImplication",accessor:"clinicalImplication",Header:"Implication",Cell:function(t){return Object(o.createElement)("span",null,t.original.clinicalImplication.join(", "))},sortMethod:At,minWidth:120},{id:"biologicalEffect",accessor:"biologicalEffect",Header:"Effect",Cell:function(t){return Object(o.createElement)("span",null,t.original.biologicalEffect.join(", "))},sortMethod:At,minWidth:150},{id:"level",accessor:"level",Header:"Level",sortable:!1,Cell:function(t){return Object(o.createElement)(o.Fragment,null,t.original.level.map(function(t){return Object(o.createElement)("div",{key:t.level,style:{overflow:"hidden",textOverflow:"ellipsis"}},Object(o.createElement)("i",{className:_t(t.level),style:{verticalAlign:"text-bottom",display:"inline-block"}}),Object(o.createElement)("span",null,": "),Object(o.createElement)(r.EllipsisTextTooltip,{text:t.tumorTypes.join(", "),style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}))}))},minWidth:this.hasLevelData?180:50}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.props,e=t.data,r=t.initialSortColumn,i=t.initialSortDirection,a=t.initialItemsPerPage,l=e.length>(this.props.initialItemsPerPage||n.defaultProps.initialItemsPerPage);return Object(o.createElement)("div",{className:s()("cbioportal-frontend","default-track-tooltip-table")},Object(o.createElement)(W,{data:e,columns:this.columns,defaultSorted:[{id:r||n.defaultProps.initialSortColumn,desc:"desc"===i}],defaultPageSize:e.length>a?a:e.length,showPagination:l,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight",previousText:"<",nextText:">"}))},e.defaultProps={data:[],initialSortColumn:"count",initialSortDirection:"desc",initialItemsPerPage:10},tt([u.computed],e.prototype,"hasLevelData",null),tt([u.computed],e.prototype,"columns",null),e=n=tt([c.observer],e)}(o.Component);var Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return this.props.indicatorData?function(t){var e=t.length,n=e>1?"s":void 0,i=Object(p.groupBy)(t,"oncogenic"),a=Object(p.keys)(i).map(function(t){return Object(o.createElement)("b",null,t)}),s=[];if(a.length>1){var l=a.slice(0,a.length-1).reduce(function(t,e){return[t,", ",e]});s.push(l),s.push(" and "),s.push(a[a.length-1])}else s=a;var u=Object(p.groupBy)(t,function(t){return t.query.alteration}),c=Object(p.keys)(u).map(function(t){return{count:u[t].length,proteinChange:t,clinicalImplication:Object(p.uniq)(u[t].map(function(t){return t.oncogenic?t.oncogenic:"Unknown"})),biologicalEffect:Object(p.uniq)(u[t].map(function(t){return t.mutationEffect&&t.mutationEffect.knownEffect?t.mutationEffect.knownEffect:"Unknown"})),level:(e=u[t],n={},e.forEach(function(t){t.treatments.forEach(function(e){var r=e.level.split("_"),o=2===r.length?r[1]:e.level;n[o]=n[o]||[],n[o].push(t.query.tumorType)})}),Object(p.keys)(n).sort(function(t,e){return r.LEVELS.all.indexOf(t)>r.LEVELS.all.indexOf(e)?-1:1}).map(function(t){return{level:t,tumorTypes:Object(p.uniq)(n[t])}}))};var e,n});return Object(o.createElement)("span",null,Object(o.createElement)("b",null,e)," sample",n," with ",s," mutations.",Object(o.createElement)(Je,{data:c}))}(this.props.indicatorData):null},e}(o.Component),tn=(i.a.createElement("circle",{r:6,fill:"none",strokeWidth:2,stroke:"#007FFF"}),i.a.createElement("circle",{r:3,fill:"none",strokeWidth:2,stroke:"#007FFF"}),i.a.createElement("circle",{r:1.5,fill:"#007FFF"}),"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20width%3D%2214%22%20height%3D%2214%22%3E%20%20%20%20%20%20%3Cg%20%20transform%3D%22translate%287%2C%207%29%22%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%226%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke%3D%22%23007FFF%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%223%22%20fill%3D%22none%22%20stroke-width%3D%222%22%20stroke%3D%22%23007FFF%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20r%3D%221.5%22%20fill%3D%22%23007FFF%22%20stroke%3D%22none%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E");var en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),Object.defineProperty(e.prototype,"oncoKbSpecs",{get:function(){var t=this,e=this.props.store.oncoKbDataByPosition;return Object(p.isEmpty)(e)?[]:Object(p.keys)(e).filter(function(t){return Number(t)>=0}).map(function(n){return{codon:Number(n),color:"#007FFF",tooltip:Object(o.createElement)(Qe,{mutations:t.props.store.mutationsByPosition[Number(n)],indicatorData:e[Number(n)],hugoGeneSymbol:t.props.store.gene.hugoGeneSymbol})}})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackTitle",{get:function(){return Object(o.createElement)("span",null,Object(o.createElement)("span",{style:{marginRight:2}},Object(o.createElement)("img",{src:tn,alt:"OncoKB Oncogenic Symbol"})),"OncoKB")},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(Ye,{dataStore:this.props.dataStore,defaultFilterProps:{oncokb:[Xe.Oncogenic]},width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.trackTitle,trackItems:this.oncoKbSpecs,idClassPrefix:"onco-kb-"})},tt([u.computed],e.prototype,"oncoKbSpecs",null),tt([u.computed],e.prototype,"trackTitle",null),e=tt([c.observer],e)}(o.Component),nn={Phosphorylation:"#2DCF00",Acetylation:"#5B5BFF",Ubiquitination:"#B9264F",Methylation:"#EBD61D",multiType:"#444444",default:"#BA21E0"},rn={Phosphorylation:1,Acetylation:2,Ubiquitination:3,Methylation:4,default:999};function on(t){var e=nn.default,n=Object(p.uniq)((t||[]).map(function(t){return t.type}));return 1===n.length?e=nn[n[0]]||nn.default:n.length>1&&(e=nn.multiType),e}function an(t,e){var n=rn[t]||rn.default,r=rn[e]||rn.default;return n>r?1:r>n?-1:t>e?1:e>t?-1:0}var sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)(r.DefaultTooltip,{placement:"right",overlay:Object(o.createElement)("div",{style:{maxWidth:400,maxHeight:400,overflowY:"auto"}},Object(o.createElement)(Bt,{pmids:this.props.pubmedIds.map(function(t){return(e=t.match(/[0-9]+/))?Number(e[0]):void 0;var e}).filter(function(t){return void 0!==t}),pmidData:this.props.pmidData,abstracts:[]})),destroyTooltipOnHide:!0},Object(o.createElement)("div",{style:{textAlign:"right"}},Object(o.createElement)("i",{className:"fa fa-book",style:{color:"black"}})))},e=tt([c.observer],e)}(o.Component),ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return J(e,t),n=e,Object.defineProperty(e.prototype,"pmidData",{get:function(){var t=this;return this.props.pubMedCache&&this.props.data.forEach(function(e){return e.pubmedIds.forEach(function(e){return t.props.pubMedCache.get(Number(e))})}),this.props.pubMedCache&&this.props.pubMedCache.cache||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){var t=this;return[{id:"position",accessor:"position",Header:"Position",Cell:function(t){return Object(o.createElement)("div",{style:{textAlign:"right"}},t.original.position)},maxWidth:64},{id:"type",accessor:"type",Header:"Type",minWidth:140},{id:"pubmedIds",Header:"",Cell:h.a.isEmpty(this.pmidData)?function(){return t.props.pubMedCache?Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse"}):null}:function(e){return Object(o.createElement)(sn,{pmidData:t.pmidData,pubmedIds:e.original.pubmedIds})},sortable:!1,maxWidth:32}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.props,e=t.data,r=t.initialSortColumn,i=t.initialSortDirection,a=t.initialItemsPerPage,l=e.length>(this.props.initialItemsPerPage||n.defaultProps.initialItemsPerPage);return Object(o.createElement)("div",{className:s()("cbioportal-frontend","default-track-tooltip-table")},Object(o.createElement)(W,{data:e,columns:this.columns,defaultSorted:[{id:r||n.defaultProps.initialSortColumn,desc:"desc"===i}],defaultPageSize:e.length>a?a:e.length,showPagination:l,showPaginationTop:!0,showPaginationBottom:!1,className:"-striped -highlight",previousText:"<",nextText:">"}))},e.defaultProps={data:[],initialSortColumn:"type",initialSortDirection:"asc",initialItemsPerPage:10},tt([u.computed],e.prototype,"pmidData",null),tt([u.computed],e.prototype,"columns",null),e=n=tt([c.observer],e)}(o.Component),un={ptmLegend:"ptmTrackStyles-module_ptmLegend__3AGTw",Phosphorylation:"ptmTrackStyles-module_Phosphorylation__34X-L",Acetylation:"ptmTrackStyles-module_Acetylation__2a4-P",Ubiquitination:"ptmTrackStyles-module_Ubiquitination__3wFGM",Methylation:"ptmTrackStyles-module_Methylation__1TJRK",multiType:"ptmTrackStyles-module_multiType__3aDpN",default:"ptmTrackStyles-module_default__2hB-B"};function cn(t,e){return Object(o.createElement)(ln,{data:t,pubMedCache:e})}var pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expanded=!0,e}var n;return J(e,t),n=e,Object.defineProperty(e.prototype,"ptmSpecs",{get:function(){var t=this,e=this.props.store.ptmDataByProteinPosStart.result;return e&&!Object(p.isEmpty)(e)?Object(p.keys)(e).filter(function(t){return Number(t)>=0}).map(function(n){return{codon:Number(n),color:on(e[Number(n)]),tooltip:cn(e[Number(n)],t.props.pubMedCache)}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ptmSubSpecs",{get:function(){var t=this,e=this.props.store.ptmDataByTypeAndProteinPosStart.result;return e&&!Object(p.isEmpty)(e)?Object(p.keys)(e).sort(an).map(function(n){return{title:n,specs:Object(p.keys)(e[n]).filter(function(t){return Number(t)>=0}).map(function(r){return{codon:Number(r),color:on(e[n][Number(r)]),tooltip:cn(e[n][Number(r)],t.props.pubMedCache)}})}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainTrackTitle",{get:function(){var t=this;return Object(o.createElement)("span",{style:{cursor:"pointer"}},Object(o.createElement)("span",{onClick:this.handleToggleExpand},this.expander),Object(o.createElement)(r.DefaultTooltip,{placement:"left",overlay:function(){return e=t.props.ensemblTranscriptId,Object(o.createElement)("div",{style:{maxWidth:400}},Object(o.createElement)("p",null,"Displays all Post Translational Modifications (PTMs) available",e&&Object(o.createElement)("span",null," for the Ensembl transcript ",e),"."),Object(o.createElement)("p",{className:un.ptmLegend},"PTM types and corresponding color codes are as follows:",Object(o.createElement)("ul",null,Object(o.createElement)("li",{className:un.Phosphorylation},Object(o.createElement)("strong",null,"Phosphorylation")),Object(o.createElement)("li",{className:un.Acetylation},Object(o.createElement)("strong",null,"Acetylation")),Object(o.createElement)("li",{className:un.Ubiquitination},Object(o.createElement)("strong",null,"Ubiquitination")),Object(o.createElement)("li",{className:un.Methylation},Object(o.createElement)("strong",null,"Methylation")),Object(o.createElement)("li",{className:un.multiType},Object(o.createElement)("strong",null,"Multiple Type"),": Sites with more than one PTM type"),Object(o.createElement)("li",{className:un.default},Object(o.createElement)("strong",null,"Other"),": All other PTM types"))),Object(o.createElement)("div",null,"Data Source: ",Object(o.createElement)("a",{href:"http://dbptm.mbc.nctu.edu.tw/",target:"_blank"},"dbPTM")));var e},destroyTooltipOnHide:!0},Object(o.createElement)("span",{style:{marginLeft:4},onClick:this.handleToggleExpand},"PTM Sites ",Object(o.createElement)("i",{className:"fa fa-info-circle"}))))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expander",{get:function(){var t=this.hasSubTracks?this.mainTrackHidden?"fa fa-caret-down":"fa fa-caret-right":null;return t?Object(o.createElement)("i",{className:t,style:{width:10,marginLeft:2}}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subTrackMargin",{get:function(){return this.props.subTrackMargin||n.defaultProps.subTrackMargin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subTrackTitleWidth",{get:function(){return this.props.xOffset?this.props.xOffset-this.subTrackMargin:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subTracks",{get:function(){var t=this;return this.hasSubTracks?this.ptmSubSpecs.map(function(e,n){return Object(o.createElement)(Ye,{key:e.title,dataStore:t.props.dataStore,xOffset:t.props.xOffset,trackTitle:Object(o.createElement)("span",{style:{marginLeft:t.subTrackMargin,width:t.subTrackTitleWidth,display:"flex"}},Object(o.createElement)(r.EllipsisTextTooltip,{text:e.title,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),width:t.props.width,proteinLength:t.props.proteinLength,trackItems:e.specs,idClassPrefix:"ptm-"+n+"-"})}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainTrackHidden",{get:function(){return this.expanded&&this.hasSubTracks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSubTracks",{get:function(){return this.ptmSubSpecs.length>0},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("span",null,Object(o.createElement)(Ye,{dataStore:this.props.dataStore,width:this.props.width,xOffset:this.props.xOffset,proteinLength:this.props.proteinLength,trackTitle:this.mainTrackTitle,trackItems:this.mainTrackHidden?[]:this.ptmSpecs,hideBaseline:this.mainTrackHidden,idClassPrefix:"ptm-"}),Object(o.createElement)(f.Collapse,{isOpened:this.mainTrackHidden},Object(o.createElement)("span",null,this.subTracks)))},e.prototype.handleToggleExpand=function(){this.expanded=!this.expanded},e.defaultProps={subTrackMargin:25},tt([u.observable],e.prototype,"expanded",void 0),tt([u.computed],e.prototype,"ptmSpecs",null),tt([u.computed],e.prototype,"ptmSubSpecs",null),tt([u.computed],e.prototype,"mainTrackTitle",null),tt([u.computed],e.prototype,"expander",null),tt([u.computed],e.prototype,"subTrackMargin",null),tt([u.computed],e.prototype,"subTrackTitleWidth",null),tt([u.computed],e.prototype,"subTracks",null),tt([u.computed],e.prototype,"mainTrackHidden",null),tt([u.computed],e.prototype,"hasSubTracks",null),tt([l.default,u.action],e.prototype,"handleToggleExpand",null),e=n=tt([c.observer],e)}(o.Component),hn=function(t){function e(e){return t.call(this,e)||this}return J(e,t),Object.defineProperty(e.prototype,"proteinLength",{get:function(){var t=this.props.proteinLength||0;return Math.max(t,1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableTracks",{get:function(){var t;return(t={})[le.CancerHotspots]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[le.CancerHotspots]?null:Object(o.createElement)($e,{store:this.props.store,dataStore:this.props.store.dataStore,hotspotIndex:this.props.store.indexedHotspotData.result||{},width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),t[le.OncoKB]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[le.OncoKB]?null:Object(o.createElement)(en,{store:this.props.store,dataStore:this.props.store.dataStore,width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),t[le.PTM]=this.props.trackVisibility&&"visible"!==this.props.trackVisibility[le.PTM]?null:Object(o.createElement)(pn,{store:this.props.store,pubMedCache:this.props.pubMedCache,ensemblTranscriptId:this.props.store.activeTranscript,dataStore:this.props.store.dataStore,width:this.props.geneWidth,xOffset:this.props.geneXOffset,proteinLength:this.proteinLength}),t},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;return Object(o.createElement)("div",{style:{overflowY:"hidden",maxHeight:this.props.maxHeight,position:"relative"}},this.props.tracks.map(function(e){return t.availableTracks[e]}).filter(function(t){return null!=t}))},e.defaultProps={tracks:[le.CancerHotspots,le.OncoKB,le.PTM]},tt([u.computed],e.prototype,"proteinLength",null),e=tt([c.observer],e)}(o.Component),fn=function(t){function e(e){var n=t.call(this,e)||this;return n.mouseInPlot=!0,n.legendShown=!1,n.yMaxInputFocused=!1,n._trackVisibility=Te(),n.handlers={handleYAxisMaxSliderChange:Object(u.action)(function(t){var e=t.target.value,r=parseInt(e,10);n._yMaxInput=r<n.countRange[0]?n.countRange[0]:r}),handleYAxisMaxChange:Object(u.action)(function(t){var e=parseInt(t,10);n._yMaxInput=e<n.countRange[0]?n.countRange[0]:e}),onYMaxInputFocused:function(){n.yMaxInputFocused=!0},onYMaxInputBlurred:function(){n.yMaxInputFocused=!1},handleToggleLegend:Object(u.action)(function(){n.legendShown=!n.legendShown}),onMouseEnterPlot:Object(u.action)(function(){n.mouseInPlot=!0}),onMouseLeavePlot:Object(u.action)(function(){n.mouseInPlot=!1})},n}return J(e,t),Object.defineProperty(e.prototype,"showControls",{get:function(){return!this.props.autoHideControls||(this.yMaxInputFocused||this.mouseInPlot)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackVisibility",{get:function(){return this.props.trackVisibility||this._trackVisibility},enumerable:!0,configurable:!0}),e.prototype.lollipopTooltip=function(t,e){var n=e[t[0].proteinPosStart],r="mutation"+(n>1?"s":""),i=we(t);return Object(o.createElement)("div",null,Object(o.createElement)("b",null,n," ",r),Object(o.createElement)("br",null),Object(o.createElement)("span",null,"AA Change: ",i))},Object.defineProperty(e.prototype,"lollipops",{get:function(){var t=this.props.store.mutationsByPosition,e=this.props.store.uniqueMutationCountsByPosition;if(0===Object.keys(t).length)return[];var n=Object.keys(t).map(function(e){return t[parseInt(e,10)]}).sort(function(t,n){return e[t[0].proteinPosStart]<e[n[0].proteinPosStart]?1:-1}),r=n&&n[0]?e[n[0][0].proteinPosStart]:0,o=n?n.findIndex(function(t){return e[t[0].proteinPosStart]!==r}):-1;-1===o&&(o=n?n.length:0);var i;i=o>1&&o>2?0:Math.min(o,1);for(var a=[],s=0;s<n.length;s++){var l=n[s],u=l[0].proteinPosStart,c=e[u];if(!(isNaN(u)||u<0||this.props.store.allTranscripts.isComplete&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&u>this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].proteinLength+1)){var p=void 0;if(s<i&&c>=1){var h=we(l,3);p={text:h,textAnchor:Se(h,u,"arial",10,this.props.geneWidth,this.proteinLength),fontSize:10,fontFamily:"arial"}}else p=void 0;a.push({codon:u,count:c,tooltip:this.lollipopTooltip(l,e),color:this.props.getLollipopColor?this.props.getLollipopColor(l):ye(l,me,this.props.getMutationCount),label:p})}}return a},enumerable:!0,configurable:!0}),e.prototype.mutationAlignerLink=function(t){if(this.props.store.mutationAlignerLinks&&this.props.store.mutationAlignerLinks.result){var e=this.props.store.mutationAlignerLinks.result[t];return e?Object(o.createElement)("a",{href:e,target:"_blank"},"Mutation Aligner"):null}return null},e.prototype.domainTooltip=function(t,e,n){var r=e?e.pfamAccession:n,i=e?e.name+": "+e.description:r;return Object(o.createElement)("div",{style:{maxWidth:200}},Object(o.createElement)("div",null,i," (",t.pfamDomainStart," - ",t.pfamDomainEnd,")"),Object(o.createElement)("div",null,Object(o.createElement)("a",{style:{marginRight:"5px"},href:"http://pfam.xfam.org/family/"+r,target:"_blank"},"PFAM"),this.mutationAlignerLink(r)))},Object.defineProperty(e.prototype,"domains",{get:function(){var t=this;return this.props.store.pfamDomainData.isComplete&&this.props.store.pfamDomainData.result&&0!==this.props.store.pfamDomainData.result.length&&this.props.store.allTranscripts.isComplete&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains&&0!==this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.length?this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.map(function(e){var n=t.domainMap[e.pfamDomainId];return{startCodon:e.pfamDomainStart,endCodon:e.pfamDomainEnd,label:n?n.name:e.pfamDomainId,color:t.domainColorMap[e.pfamDomainId],tooltip:t.domainTooltip(e,n,e.pfamDomainId)}}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domainColorMap",{get:function(){return!this.props.store.allTranscripts.isPending&&this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains.length>0?(t=this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].pfamDomains,e=["#2dcf00","#ff5353","#5b5bff","#ebd61d","#ba21e0","#ff9c42","#ff7dff","#b9264f","#baba21","#c48484","#1f88a7","#cafeb8","#4a9586","#ceb86c","#0e180f"],n={},r=0,t.sort(function(t,e){return t.pfamDomainStart-e.pfamDomainStart}).forEach(function(t){void 0===n[t.pfamDomainId]&&(n[t.pfamDomainId]=e[r%e.length],r++)}),n):{};var t,e,n,r},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domainMap",{get:function(){return!this.props.store.pfamDomainData.isPending&&this.props.store.pfamDomainData.result&&this.props.store.pfamDomainData.result.length>0?h.a.keyBy(this.props.store.pfamDomainData.result,"pfamAccession"):{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"proteinLength",{get:function(){return this.props.store.allTranscripts.result&&this.props.store.activeTranscript&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript]&&this.props.store.transcriptsByTranscriptId[this.props.store.activeTranscript].proteinLength||10},enumerable:!0,configurable:!0}),e.prototype.sequenceTooltip=function(){return Object(o.createElement)("div",{style:{maxWidth:200}},Object(o.createElement)("a",{href:"http://www.uniprot.org/uniprot/"+this.props.store.uniprotId.result,target:"_blank"},this.props.store.uniprotId.result))},Object.defineProperty(e.prototype,"sequence",{get:function(){return{tooltip:this.sequenceTooltip()}},enumerable:!0,configurable:!0}),e.prototype.getSVG=function(){return q()(this.divContainer).find(".lollipop-svgnode")[0]},Object.defineProperty(e.prototype,"hugoGeneSymbol",{get:function(){return this.props.store.gene.hugoGeneSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"countRange",{get:function(){if(0===this.lollipops.length)return[0,0];for(var t=5,e=1,n=0,r=this.lollipops;n<r.length;n++){var o=r[n];t=Math.max(t,o.count),e=Math.min(e,o.count)}return[e,t]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sliderRange",{get:function(){return[this.countRange[0],Math.max(this.countRange[1],this.countRange[0]+5)]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMaxSlider",{get:function(){return Math.min(this.countRange[1],this._yMaxInput||this.countRange[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yMaxInput",{get:function(){return this._yMaxInput||this.countRange[1]},enumerable:!0,configurable:!0}),e.prototype.onXAxisOffset=function(t){this.geneXOffset=t,this.props.onXAxisOffset&&this.props.onXAxisOffset(t)},e.prototype.onTrackVisibilityChange=function(t){var e=this;this.props.onTrackVisibilityChange?this.props.onTrackVisibilityChange(t):(Object.keys(this.trackVisibility).forEach(function(t){return e.trackVisibility[t]="hidden"}),t.forEach(function(t){return e.trackVisibility[t]="visible"}))},e.prototype.render=function(){var t=this;return this.props.store.pfamDomainData.isComplete&&this.props.store.pfamDomainData.result?Object(o.createElement)("div",{style:{display:"inline-block"},ref:function(e){return t.divContainer=e},onMouseEnter:this.handlers.onMouseEnterPlot,onMouseLeave:this.handlers.onMouseLeavePlot},Object(o.createElement)(Ne,{showControls:this.showControls,showYMaxSlider:this.props.showYMaxSlider,showLegendToggle:this.props.showLegendToggle,showDownloadControls:this.props.showDownloadControls,hugoGeneSymbol:this.hugoGeneSymbol,countRange:this.countRange,onYAxisMaxSliderChange:this.handlers.handleYAxisMaxSliderChange,onYAxisMaxChange:this.handlers.handleYAxisMaxChange,onYMaxInputFocused:this.handlers.onYMaxInputFocused,onYMaxInputBlurred:this.handlers.onYMaxInputBlurred,onToggleLegend:this.handlers.handleToggleLegend,yMaxSlider:this.yMaxSlider,yMaxInput:this.yMaxInput,trackVisibility:this.trackVisibility,tracks:this.props.tracks,trackDataStatus:this.props.trackDataStatus,onTrackVisibilityChange:this.onTrackVisibilityChange,getSVG:this.getSVG}),Object(o.createElement)(f.Collapse,{isOpened:this.legendShown},this.props.legend||Object(o.createElement)(ke,null)),Object(o.createElement)(Re,{sequence:this.sequence,lollipops:this.lollipops,domains:this.domains,dataStore:this.props.store.dataStore,vizWidth:this.props.geneWidth,vizHeight:130,hugoGeneSymbol:this.hugoGeneSymbol,xMax:this.proteinLength,yMax:this.yMaxInput,onXAxisOffset:this.onXAxisOffset}),Object(o.createElement)(hn,{store:this.props.store,geneWidth:this.props.geneWidth,tracks:this.props.tracks,trackVisibility:this.trackVisibility,pubMedCache:this.props.pubMedCache,proteinLength:this.proteinLength,geneXOffset:this.geneXOffset})):this.props.loadingIndicator||Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"})},tt([u.observable],e.prototype,"mouseInPlot",void 0),tt([u.observable],e.prototype,"_yMaxInput",void 0),tt([u.observable],e.prototype,"legendShown",void 0),tt([u.observable],e.prototype,"yMaxInputFocused",void 0),tt([u.observable],e.prototype,"geneXOffset",void 0),tt([u.observable],e.prototype,"_trackVisibility",void 0),tt([u.computed],e.prototype,"showControls",null),tt([u.computed],e.prototype,"trackVisibility",null),tt([u.computed],e.prototype,"lollipops",null),tt([u.computed],e.prototype,"domains",null),tt([u.computed],e.prototype,"domainColorMap",null),tt([u.computed],e.prototype,"domainMap",null),tt([u.computed],e.prototype,"sequence",null),tt([l.default],e.prototype,"getSVG",null),tt([u.computed],e.prototype,"hugoGeneSymbol",null),tt([u.computed],e.prototype,"countRange",null),tt([u.computed],e.prototype,"sliderRange",null),tt([u.computed],e.prototype,"yMaxSlider",null),tt([u.computed],e.prototype,"yMaxInput",null),tt([l.default,u.action],e.prototype,"onXAxisOffset",null),tt([l.default,u.action],e.prototype,"onTrackVisibilityChange",null),e=tt([c.observer],e)}(o.Component),dn=function(){function t(){this._cache=u.observable.shallowMap()}return t.prototype.fetch=function(t){return et(this,void 0,void 0,function(){return nt(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,n){Z.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:t}).end(function(t,r){if(!t&&r.ok){for(var o=JSON.parse(r.text).result,i={},a=0,s=o.uids;a<s.length;a++){var l=s[a];i[l]=o[l]}e(i)}else n(t)})})];case 1:return[2,e.sent()[t]]}})})},t.prototype.get=function(t){var e=this;return this._cache[t]||(this._cache[t]={status:"pending"},this.fetch(t).then(function(n){return e._cache[t]={status:"complete",data:n}}).catch(function(){return e._cache[t]={status:"error"}})),this._cache[t]},Object.defineProperty(t.prototype,"cache",{get:function(){return this._cache},enumerable:!0,configurable:!0}),tt([u.action],t.prototype,"get",null),t}();function mn(t){!function(t){t.forEach(function(t){if(void 0===t.proteinPosStart&&void 0===t.proteinPosEnd){var e=t.proteinChange||t.aminoAcidChange,n=Object(r.getProteinPositionFromProteinChange)(e);n&&(t.proteinPosStart=n.start,t.proteinPosEnd=n.end)}})}(t),function(t){t.forEach(function(t){t.mutationType||(t.mutationType=Object(r.getMutationTypeFromProteinChange)(t.proteinChange||t.aminoAcidChange)||"")})}(t)}function gn(t,e){return t.map(function(t){return function(t,e){var n,r=be(t),o=r?e[_e(r)]:void 0;o&&(n=function(t){var e=Object(p.find)(t.transcriptConsequenceSummaries,function(e){return e.transcriptId===t.canonicalTranscriptId});e||(e=t.transcriptConsequenceSummaries.length>0?t.transcriptConsequenceSummaries[0]:void 0);return e}(o.annotation_summary));return o&&n?vn(t,o.annotation_summary,n,!1):bn(t)}(t,e)})}function vn(t,e,n,r){var o=bn(t);o.variantType=!r&&o.variantType||e.variantType,o.proteinChange=!r&&o.proteinChange||n.hgvspShort,o.proteinChange&&(o.proteinChange=o.proteinChange.replace(/^p./,"")),o.mutationType=!r&&o.mutationType||n.variantClassification,n.proteinPosition&&(o.proteinPosStart=!r&&o.proteinChange?o.proteinPosStart:n.proteinPosition.start,o.proteinPosEnd=!r&&o.proteinChange?o.proteinPosEnd:n.proteinPosition.end);var i=parseInt(n.entrezGeneId,10);return o.gene=Q({},o.gene,{hugoGeneSymbol:!r&&o.gene&&o.gene.hugoGeneSymbol||n.hugoGeneSymbol,entrezGeneId:o.gene&&o.gene.entrezGeneId||i}),o}function yn(t,e,n){return Object(p.compact)(t.map(function(t){return function(t,e,n){var r=be(t),o=r?n[_e(r)]:void 0,i=o&&o.annotation_summary&&o.annotation_summary.transcriptConsequenceSummaries&&o.annotation_summary.transcriptConsequenceSummaries.filter(function(t){return t.transcriptId===e});if(o&&i&&i.length>0){var a=i[0],s=vn(t,o.annotation_summary,a,!0);return s.proteinChange&&s.proteinChange.length>0&&new RegExp(/.*[A-Z].*/,"i").test(s.proteinChange.toLowerCase())?s:void 0}}(t,e,n)}))}function bn(t){var e=Object(u.toJS)(t);return Q({},e,{variantType:e.variantType||"",gene:e.gene||{hugoGeneSymbol:""},proteinChange:e.proteinChange||"",mutationType:e.mutationType||""})}function _n(t){return Object(p.keyBy)(t,function(t){return _e(t.annotation_summary.genomicLocation)})}var xn="https://www.genomenexus.org/",wn="https://www.oncokb.org/",Sn={indicatorMap:{}},Cn=En();function Tn(t,e){return h.a.template(t)(e)}function kn(t,e,n,r){return void 0===e&&(e=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=Cn),et(this,void 0,void 0,function(){var o,i;return nt(this,function(a){switch(a.label){case 0:return(o=xe(t)).length>0&&r.fetchVariantAnnotationByGenomicLocationPOST?[4,r.fetchVariantAnnotationByGenomicLocationPOST({genomicLocations:o,fields:e,isoformOverrideSource:n})]:[3,2];case 1:return i=a.sent(),[3,3];case 2:i=[],a.label=3;case 3:return[2,i]}})})}function On(t,e,n,r){return void 0===e&&(e=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=Cn),et(this,void 0,void 0,function(){return nt(this,function(o){switch(o.label){case 0:return[4,kn(t,e,n,r)];case 1:return[2,_n(o.sent())]}})})}function En(t){return new r.GenomeNexusAPI(t||xn)}function Mn(t){return new r.OncoKbAPI(t||wn)}var In,An=function(){function t(t,e){this.dataFilters=[],this.selectionFilters=[],this.highlightFilters=[],this.data=t,this.applyCustomFilter=e}return Object.defineProperty(t.prototype,"allData",{get:function(){return this.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredData",{get:function(){var t=this;return this.dataFilters.length>0?this.data.filter(function(e){return t.dataMainFilter(h.a.flatten([e])[0])}):this.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortedFilteredData",{get:function(){return this.filteredData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortedFilteredSelectedData",{get:function(){var t=this;return this.selectionFilters.length>0?this.data.filter(function(e){return t.dataSelectFilter(h.a.flatten([e])[0])}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPositions",{get:function(){return h.a.keyBy(Me(this.selectionFilters).map(function(t){return{position:t}}),"position")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightedPositions",{get:function(){return h.a.keyBy(Me(this.highlightFilters).map(function(t){return{position:t}}),"position")},enumerable:!0,configurable:!0}),t.prototype.clearHighlightFilters=function(){this.highlightFilters.length>0&&(this.highlightFilters=[])},t.prototype.clearSelectionFilters=function(){this.selectionFilters.length>0&&(this.selectionFilters=[])},t.prototype.clearDataFilters=function(){this.dataFilters.length>0&&(this.dataFilters=[])},t.prototype.setHighlightFilters=function(t){this.highlightFilters=t},t.prototype.setSelectionFilters=function(t){this.selectionFilters=t},t.prototype.isPositionSelected=function(t){return!!this.selectedPositions[t+""]},t.prototype.isPositionHighlighted=function(t){return!!this.highlightedPositions[t+""]},t.prototype.dataMainFilter=function(t){var e=this;return this.dataFilters.length>0&&!this.dataFilters.map(function(n){return e.applyFilter(n,t,e.selectedPositions)}).includes(!1)},t.prototype.dataSelectFilter=function(t){var e=this;return this.selectionFilters.length>0&&!this.selectionFilters.map(function(n){return e.applyFilter(n,t,e.selectedPositions)}).includes(!1)},t.prototype.dataHighlightFilter=function(t){var e=this;return this.highlightFilters.length>0&&!this.highlightFilters.map(function(n){return e.applyFilter(n,t,e.highlightedPositions)}).includes(!1)},t.prototype.applyFilter=function(t,e,n){return this.applyCustomFilter?this.applyCustomFilter(t,e,n):!!n[e.proteinPosStart+""]},tt([u.observable],t.prototype,"dataFilters",void 0),tt([u.observable],t.prototype,"selectionFilters",void 0),tt([u.observable],t.prototype,"highlightFilters",void 0),tt([u.computed],t.prototype,"allData",null),tt([u.computed],t.prototype,"filteredData",null),tt([u.computed],t.prototype,"sortedFilteredData",null),tt([u.computed],t.prototype,"sortedFilteredSelectedData",null),tt([u.computed],t.prototype,"selectedPositions",null),tt([u.computed],t.prototype,"highlightedPositions",null),tt([u.action],t.prototype,"clearHighlightFilters",null),tt([u.action],t.prototype,"clearSelectionFilters",null),tt([u.action],t.prototype,"clearDataFilters",null),tt([u.action],t.prototype,"setHighlightFilters",null),tt([u.action],t.prototype,"setSelectionFilters",null),t}(),Pn=function(){function t(t,e,n,o){var i;this.config=t,this.genomeNexusClient=e||En(t.genomeNexusUrl),this.genomeNexusInternalClient=n||(i=t.genomeNexusUrl,new r.GenomeNexusAPIInternal(i||xn)),this.oncoKbClient=o||Mn(t.oncoKbUrl)}return t.prototype.fetchSwissProtAccession=function(t){return et(this,void 0,void 0,function(){var e;return nt(this,function(n){switch(n.label){case 0:return[4,Z.a.get(Tn(this.config.myGeneUrlTemplate||"https://mygene.info/v3/gene/<%= entrezGeneId %>?fields=uniprot",{entrezGeneId:t}))];case 1:return e=n.sent(),[2,JSON.parse(e.text).uniprot["Swiss-Prot"]]}})})},t.prototype.fetchUniprotId=function(t){return et(this,void 0,void 0,function(){return nt(this,function(e){switch(e.label){case 0:return[4,Z.a.get(Tn(this.config.uniprotIdUrlTemplate||"https://www.uniprot.org/uniprot/?query=accession:<%= swissProtAccession %>&format=tab&columns=entry+name",{swissProtAccession:t}))];case 1:return[2,e.sent().text.split("\n")[1]]}})})},t.prototype.fetchMutationAlignerLink=function(t){return Z.a.get(Tn(this.config.mutationAlignerUrlTemplate||"https://www.cbioportal.org/getMutationAligner.json?pfamAccession=<%= pfamDomainId %>",{pfamDomainId:t}))},t.prototype.fetchPfamDomainData=function(t,e){return void 0===e&&(e=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,e.fetchPfamDomainsByPfamAccessionPOST({pfamAccessions:t})];case 1:return[2,n.sent()]}})})},t.prototype.fetchVariantAnnotationsIndexedByGenomicLocation=function(t,e,n,r){return void 0===e&&(e=["annotation_summary"]),void 0===n&&(n="uniprot"),void 0===r&&(r=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(o){switch(o.label){case 0:return[4,On(t,e,n,r)];case 1:return[2,o.sent()]}})})},t.prototype.fetchCanonicalTranscriptWithFallback=function(t,e,n,r){return void 0===r&&(r=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(o){return[2,this.fetchCanonicalTranscript(t,e,r).catch(function(){var t=h.a.maxBy(n,function(t){return t.proteinLength});return t||void 0})]})})},t.prototype.fetchCanonicalTranscript=function(t,e,n){return void 0===n&&(n=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(r){switch(r.label){case 0:return[4,n.fetchCanonicalEnsemblTranscriptByHugoSymbolGET({hugoSymbol:t,isoformOverrideSource:e})];case 1:return[2,r.sent()]}})})},t.prototype.fetchEnsemblTranscriptsByEnsemblFilter=function(t,e){return void 0===e&&(e=this.genomeNexusClient),et(this,void 0,void 0,function(){return nt(this,function(n){switch(n.label){case 0:return[4,e.fetchEnsemblTranscriptsByEnsemblFilterPOST({ensemblFilter:Object.assign({geneIds:[],hugoSymbols:[],proteinIds:[],transcriptIds:[]},t)})];case 1:return[2,n.sent()]}})})},t.prototype.fetchPtmData=function(t,e){return void 0===e&&(e=this.genomeNexusClient),t?e.fetchPostTranslationalModificationsGET({ensemblTranscriptId:t}):Promise.resolve([])},t.prototype.fetchCancerHotspotData=function(t,e){return void 0===e&&(e=this.genomeNexusInternalClient),t?e.fetchHotspotAnnotationByTranscriptIdGET({transcriptId:t}):Promise.resolve([])},t.prototype.fetchAggregatedHotspotsData=function(t,e){if(void 0===e&&(e=this.genomeNexusInternalClient),0===t.length)return Promise.resolve([]);var n=xe(t);return e.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:n})},t.prototype.fetchOncoKbCancerGenes=function(t){return void 0===t&&(t=this.oncoKbClient),t.utilsCancerGeneListGetUsingGET({})},t.prototype.fetchOncoKbData=function(t,e,n,o,i,a){return void 0===a&&(a=this.oncoKbClient),et(this,void 0,void 0,function(){var s,l;return nt(this,function(u){return e instanceof Error?[2,new Error]:0===t.length?[2,Sn]:(s=h.a.filter(t,function(t){return!!e[o(t)]}),l=h.a.uniqBy(h.a.map(s,function(t){return Object(r.generateQueryVariant)(o(t),n(t),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd)}),"id"),[2,this.queryOncoKbData(l,i,a)])})})},t.prototype.queryOncoKbData=function(t,e,n){return void 0===n&&(n=this.oncoKbClient),et(this,void 0,void 0,function(){var o;return nt(this,function(i){switch(i.label){case 0:return[4,n.searchPostUsingPOST({body:Q({},Object(r.generatePartialEvidenceQuery)(e),{queries:t})})];case 1:return o=i.sent(),[2,{indicatorMap:h.a.keyBy(o,function(t){return t.query.id})}]}})})},t}(),Dn=function(t){function e(e){var n=t.call(this)||this;return n.oncoKbClient=e||Mn(),n}return J(e,t),e.prototype.fetch=function(t){return et(this,void 0,void 0,function(){var e,n,o,i;return nt(this,function(a){switch(a.label){case 0:e={},a.label=1;case 1:return a.trys.push([1,4,,5]),this.oncoKbClient.evidencesLookupPostUsingPOST?[4,this.oncoKbClient.evidencesLookupPostUsingPOST({body:Q({},Object(r.generatePartialEvidenceQuery)("STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_RESISTANCE"),{queries:t})})]:[3,3];case 2:for(i in n=a.sent(),o=Ct(n))o.hasOwnProperty(i)&&(e[i]={status:"complete",data:o[i]});this.putData(e),a.label=3;case 3:return[3,5];case 4:return a.sent(),t.forEach(function(t){e[t.id]={status:"error"}}),this.putData(e),[3,5];case 5:return[2]}})})},e}(r.SimpleCache),Rn=function(){function t(t,e,n){var o=this;this.gene=t,this.config=e,this.getMutations=n,this._activeTranscript=void 0,this.mutationData=Object(r.remoteData)({await:function(){return o.config.filterMutationsBySelectedTranscript?[o.canonicalTranscript,o.indexedVariantAnnotations]:[o.canonicalTranscript]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.mutations]})})}},[]),this.swissProtId=Object(r.remoteData)({invoke:function(){return et(o,void 0,void 0,function(){var t;return nt(this,function(e){switch(e.label){case 0:return!this.gene.entrezGeneId||this.gene.entrezGeneId<1?[2,""]:[4,this.dataFetcher.fetchSwissProtAccession(this.gene.entrezGeneId)];case 1:return t=e.sent(),h.a.isArray(t)?[2,t[0]]:[2,t]}})})},onError:function(){}},""),this.uniprotId=Object(r.remoteData)({await:function(){return[o.swissProtId]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.swissProtId.result?[2,this.dataFetcher.fetchUniprotId(this.swissProtId.result)]:[2,""]})})},onError:function(){}},""),this.mutationAlignerLinks=Object(r.remoteData)({await:function(){return[o.canonicalTranscript,o.allTranscripts]},invoke:function(){return new Promise(function(t,e){for(var n=o.allTranscripts.result&&o.activeTranscript&&o.transcriptsByTranscriptId[o.activeTranscript]?o.transcriptsByTranscriptId[o.activeTranscript].pfamDomains:void 0,r=[],i=0;n&&i<n.length;i++)r.push(o.dataFetcher.fetchMutationAlignerLink(n[i].pfamDomainId));var a=Promise.all(r);a.then(function(e){for(var r,o,i=e.map(function(t){return JSON.parse(t.text)}),a={},s=0;s<i.length;s++)r=i[s],(o=n?n[s].pfamDomainId:null)&&r.linkToMutationAligner&&(a[o]=r.linkToMutationAligner);t(a)}),a.catch(e)})}},{}),this.pfamDomainData=Object(r.remoteData)({await:function(){return[o.canonicalTranscript,o.transcriptsWithProteinLength]},invoke:function(){return et(o,void 0,void 0,function(){var t,e=this;return nt(this,function(n){return this.canonicalTranscript.result&&this.canonicalTranscript.result.pfamDomains&&this.canonicalTranscript.result.pfamDomains.length>0?(t=this.canonicalTranscript.result.pfamDomains,this.config.filterMutationsBySelectedTranscript&&this.transcriptsWithProteinLength.result&&this.transcriptsWithProteinLength.result.length>0&&(t=[].concat.apply([t],h.a.compact(this.transcriptsWithProteinLength.result.map(function(t){return e.transcriptsByTranscriptId[t].pfamDomains})))),[2,this.dataFetcher.fetchPfamDomainData(t.map(function(t){return t.pfamDomainId}))]):[2,void 0]})})}},void 0),this.canonicalTranscript=Object(r.remoteData)({await:function(){return[o.transcriptsByHugoSymbol]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.gene?[2,this.dataFetcher.fetchCanonicalTranscriptWithFallback(this.gene.hugoGeneSymbol,this.isoformOverrideSource,this.transcriptsByHugoSymbol.result)]:[2,void 0]})})},onError:function(){throw new Error("Failed to get canonical transcript")}},void 0),this.allTranscripts=Object(r.remoteData)({await:function(){return[o.transcriptsByHugoSymbol,o.canonicalTranscript]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,h.a.compact(h.a.unionBy(this.transcriptsByHugoSymbol.result,[this.canonicalTranscript.result],function(t){return t&&t.transcriptId}))]})})},onError:function(){throw new Error("Failed to get all transcripts")}},void 0),this.transcriptsByHugoSymbol=Object(r.remoteData)({invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.gene?[2,this.dataFetcher.fetchEnsemblTranscriptsByEnsemblFilter({hugoSymbols:[this.gene.hugoGeneSymbol]})]:[2,void 0]})})},onError:function(){throw new Error("Failed to fetch all transcripts")}},void 0),this.transcriptsWithProteinLength=Object(r.remoteData)({await:function(){return[o.allTranscripts,o.canonicalTranscript]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.allTranscripts.result&&this.canonicalTranscript.result?[2,h.a.compact(this.allTranscripts.result.map(function(t){return t.proteinLength&&t.transcriptId}))]:[2,[]]})})},onError:function(){throw new Error("Failed to get transcriptsWithProteinLength")}},void 0),this.transcriptsWithAnnotations=Object(r.remoteData)({await:function(){return[o.indexedVariantAnnotations,o.allTranscripts,o.transcriptsWithProteinLength]},invoke:function(){return et(o,void 0,void 0,function(){var t=this;return nt(this,function(e){return this.indexedVariantAnnotations.result&&this.allTranscripts.result&&this.transcriptsWithProteinLength.result&&this.transcriptsWithProteinLength.result.length>0?[2,h.a.uniq([].concat.apply([],xe(this.getMutations()).map(function(e){return t.indexedVariantAnnotations.result&&t.indexedVariantAnnotations.result[_e(e)]?t.indexedVariantAnnotations.result[_e(e)].transcript_consequences.map(function(t){return t.transcript_id}).filter(function(e){return t.transcriptsWithProteinLength.result.includes(e)}):[]}))).filter(function(e){return yn(t.getMutations(),e,t.indexedVariantAnnotations.result).length>0})]:[2,[]]})})},onError:function(){throw new Error("Failed to get transcriptsWithAnnotations")}},void 0),this.ptmData=Object(r.remoteData)({await:function(){return[o.mutationData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.activeTranscript?[2,this.dataFetcher.fetchPtmData(this.activeTranscript)]:[2,[]]})})},onError:function(){}},[]),this.ptmDataByProteinPosStart=Object(r.remoteData)({await:function(){return[o.ptmData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.ptmData.result?(e=this.ptmData.result,Object(p.groupBy)(e,"position")):{}];var e})})}},{}),this.ptmDataByTypeAndProteinPosStart=Object(r.remoteData)({await:function(){return[o.ptmData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.ptmData.result?(e=this.ptmData.result,n=Object(p.groupBy)(e,"type"),r={},Object(p.keys)(n).forEach(function(t){r[t]=Object(p.groupBy)(n[t],"position")}),r):{}];var e,n,r})})}},{}),this.cancerHotspotsData=Object(r.remoteData)({await:function(){return[o.mutationData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return this.activeTranscript?[2,this.dataFetcher.fetchCancerHotspotData(this.activeTranscript)]:[2,[]]})})},onError:function(){}},[]),this.cancerHotspotsDataByProteinPosStart=Object(r.remoteData)({await:function(){return[o.cancerHotspotsData]},invoke:function(){return et(o,void 0,void 0,function(){return nt(this,function(t){return[2,this.ptmData.result?(e=this.cancerHotspotsData.result,Object(p.groupBy)(e,"proteinPosStart")):{}];var e})})}},{}),this.hotspotData=Object(r.remoteData)({await:function(){return[o.mutationData]},invoke:function(){return o.dataFetcher.fetchAggregatedHotspotsData(o.mutations)}}),this.indexedHotspotData=Object(r.remoteData)({await:function(){return[o.hotspotData]},invoke:function(){return Promise.resolve(Le(o.hotspotData))}}),this.oncoKbCancerGenes=Object(r.remoteData)({invoke:function(){return o.dataFetcher.fetchOncoKbCancerGenes()}},[]),this.oncoKbAnnotatedGenes=Object(r.remoteData)({await:function(){return[o.oncoKbCancerGenes]},invoke:function(){return Promise.resolve(h.a.reduce(o.oncoKbCancerGenes.result,function(t,e){return e.oncokbAnnotated&&(t[e.entrezGeneId]=!0),t},{}))}},{}),this.oncoKbData=Object(r.remoteData)({await:function(){return[o.mutationData,o.oncoKbAnnotatedGenes]},invoke:function(){return o.dataFetcher.fetchOncoKbData(o.mutations,o.oncoKbAnnotatedGenes.result,o.getDefaultTumorType,o.getDefaultEntrezGeneId)},onError:function(){}},Sn),this.indexedVariantAnnotations=Object(r.remoteData)({invoke:function(){return et(o,void 0,void 0,function(){var t;return nt(this,function(e){switch(e.label){case 0:return this.getMutations()?[4,this.dataFetcher.fetchVariantAnnotationsIndexedByGenomicLocation(this.getMutations(),["annotation_summary","hotspots"],this.isoformOverrideSource)]:[3,2];case 1:return t=e.sent(),[3,3];case 2:t=void 0,e.label=3;case 3:return[2,t]}})})},onError:function(){}},void 0)}return Object.defineProperty(t.prototype,"activeTranscript",{get:function(){var t=!this.canonicalTranscript.isPending&&this.canonicalTranscript.result?this.canonicalTranscript.result.transcriptId:void 0;return void 0!==this._activeTranscript?this._activeTranscript:this.config.filterMutationsBySelectedTranscript&&this.transcriptsWithAnnotations.result&&this.transcriptsWithAnnotations.result.length>0&&t&&!this.transcriptsWithAnnotations.result.includes(t)?this.transcriptsWithAnnotations.result[0]:t},set:function(t){this._activeTranscript=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isoformOverrideSource",{get:function(){return this.config.isoformOverrideSource||"uniprot"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataStore",{get:function(){return new An(this.mutations,this.customFilterApplier)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oncoKbEvidenceCache",{get:function(){return new Dn(this.dataFetcher.oncoKbClient)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutations",{get:function(){return this.canonicalTranscript.isPending||this.config.filterMutationsBySelectedTranscript&&(this.transcriptsWithAnnotations.isPending||this.indexedVariantAnnotations.isPending)?[]:this.config.filterMutationsBySelectedTranscript&&this.activeTranscript&&this.indexedVariantAnnotations.result&&!h.a.isEmpty(this.indexedVariantAnnotations.result)?yn(this.getMutations(),this.activeTranscript,this.indexedVariantAnnotations.result):this.getMutations()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFetcher",{get:function(){return new Pn({genomeNexusUrl:this.config.genomeNexusUrl,oncoKbUrl:this.config.oncoKbUrl})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationsByPosition",{get:function(){return function(t){for(var e={},n=0,r=t;n<r.length;n++){var o=r[n],i=o.proteinPosStart;null!=i&&(e[i]=e[i]||[],e[i].push(o))}return e}(h.a.flatten(this.dataStore.sortedFilteredData))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueMutationCountsByPosition",{get:function(){var t=this,e={};return Object.keys(this.mutationsByPosition).forEach(function(n){var r=parseInt(n,10),o=t.mutationsByPosition[r];o&&(e[r]=t.countUniqueMutations(o))}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transcriptsByTranscriptId",{get:function(){return h.a.keyBy(this.allTranscripts.result,function(t){return t.transcriptId})},enumerable:!0,configurable:!0}),t.prototype.countUniqueMutations=function(t){return this.config.getMutationCount?this.getMutationCount(t,this.config.getMutationCount):t.length},t.prototype.getMutationCount=function(t,e){return t.map(function(t){return e(t)}).reduce(function(t,e){return t+e})},Object.defineProperty(t.prototype,"hotspotsByPosition",{get:function(){return this.indexedHotspotData.result?(t=this.mutationsByPosition,e=this.indexedHotspotData.result,n=qe,r={},Object(p.keys)(t).forEach(function(o){var i=Number(o),a=Be(t[i],e,n);a.length>0&&(r[i]=a)}),r):{};var t,e,n,r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oncoKbDataByPosition",{get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:Tt(this.mutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,Ot)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mutationsByTranscriptId",{get:function(){var t=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?h.a.fromPairs(this.transcriptsWithAnnotations.result.map(function(e){return[e,yn(t.getMutations(),e,t.indexedVariantAnnotations.result)]})):{}},enumerable:!0,configurable:!0}),t.prototype.getDefaultTumorType=function(t){return t?"Unknown":""},t.prototype.getDefaultEntrezGeneId=function(t){return this.gene.entrezGeneId||t.gene&&t.gene.entrezGeneId||0},t.prototype.customFilterApplier=function(t,e,n){var r=!0;return t.position&&(r=!!n[e.proteinPosStart+""]),r&&t.hotspot&&this.indexedHotspotData.result&&(r=Ue(e,this.indexedHotspotData.result,qe)),r&&t.oncokb&&this.oncoKbData.result&&!(this.oncoKbData.result instanceof Error)&&(r=Et(e,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId)),r&&t.mutation&&(r=!t.mutation.map(function(t){return void 0===t.mutationType||e.mutationType===t.mutationType}).includes(!1)),r},tt([u.observable],t.prototype,"_activeTranscript",void 0),tt([u.computed],t.prototype,"activeTranscript",null),tt([u.computed],t.prototype,"isoformOverrideSource",null),tt([Y.cached],t.prototype,"dataStore",null),tt([Y.cached],t.prototype,"oncoKbEvidenceCache",null),tt([u.computed],t.prototype,"mutations",null),tt([u.computed],t.prototype,"dataFetcher",null),tt([u.computed],t.prototype,"mutationsByPosition",null),tt([u.computed],t.prototype,"uniqueMutationCountsByPosition",null),tt([u.computed],t.prototype,"transcriptsByTranscriptId",null),tt([u.computed],t.prototype,"hotspotsByPosition",null),tt([u.computed],t.prototype,"oncoKbDataByPosition",null),tt([u.computed],t.prototype,"mutationsByTranscriptId",null),tt([l.default],t.prototype,"getDefaultTumorType",null),tt([l.default],t.prototype,"getDefaultEntrezGeneId",null),tt([l.default],t.prototype,"customFilterApplier",null),t}();var Fn="defaultMutationRateSummary-module_mutationRateSummary__1igna",zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)(o.Fragment,null,this.props.rates.map(function(t){return Object(o.createElement)("div",{key:t.title,className:Fn},Object(o.createElement)("span",null,t.title,": "),Object(o.createElement)("span",null,t.rate.toFixed(1),"%"),t.description&&Object(o.createElement)(r.DefaultTooltip,{placement:"right",overlay:Object(o.createElement)("span",null,t.description)},Object(o.createElement)("i",{className:"fa fa-info-circle",style:{marginLeft:"0.2rem"}})))}))},e}(o.Component),jn={oncoKbStatus:"complete",oncoKbGeneExist:!1,isOncoKbCancerGene:!1,isHotspot:!1,is3dHotspot:!1,hotspotStatus:"complete",hugoGeneSymbol:""};function Nn(t){return t.gene&&t.gene.entrezGeneId||0}function Ln(){return"Unknown"}function Bn(t,e,n,r,o,i){var a;if(void 0===o&&(o=Ln),void 0===i&&(i=Nn),t){var s=i(t),l=void 0,u=t.gene?t.gene.hugoGeneSymbol:void 0,c=!1,p=!1;!e||e.result instanceof Error||(c=void 0!==h.a.find(e.result,function(t){return t.oncokbAnnotated&&t.entrezGeneId===s}),p=void 0!==h.a.find(e.result,function(t){return t.entrezGeneId===s})),a={hugoGeneSymbol:u,oncoKbGeneExist:c,isOncoKbCancerGene:p,isHotspot:!(!n||!n.result||"complete"!==n.status)&&We(t,n.result),is3dHotspot:!(!n||!n.result||"complete"!==n.status)&&Ge(t,n.result),hotspotStatus:n?n.status:"pending"},r&&r.result instanceof Error?a=Q({},a,{oncoKbStatus:"error",oncoKbIndicator:void 0}):c?(!r||!r.result||r.result instanceof Error||"complete"!==r.status||(l=kt(t,r.result,o,i)),a=Q({},a,{oncoKbStatus:r?r.status:"pending",oncoKbIndicator:l})):a=Q({},a,{oncoKbStatus:"complete",oncoKbIndicator:void 0})}else a=jn;return a}function Hn(t,e){return Pt(Vn(t),Vn(e))}function Vn(t){return h.a.flatten([ie(t.oncoKbIndicator),pt(t.isHotspot,t.is3dHotspot),t.isOncoKbCancerGene?1:0])}var Wn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t,e,n,i=this.getAnnotationData(this.props),a=(t=this.props.mutation,e=this.props.resolveEntrezGeneId,n=this.props.resolveTumorType,void 0===e&&(e=Nn),void 0===n&&(n=Ln),Object(r.generateQueryVariant)(e(t),n(t),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd));return Object(o.createElement)("span",{style:{display:"flex",minWidth:100}},this.props.enableOncoKb&&Object(o.createElement)(ue,{hugoGeneSymbol:i.hugoGeneSymbol,geneNotExist:!i.oncoKbGeneExist,isCancerGene:i.isOncoKbCancerGene,status:i.oncoKbStatus,indicator:i.oncoKbIndicator,evidenceCache:this.props.oncoKbEvidenceCache,evidenceQuery:a,pubMedCache:this.props.pubMedCache,userEmailAddress:this.props.userEmailAddress}),this.props.enableHotspot&&Object(o.createElement)(ft,{isHotspot:i.isHotspot,is3dHotspot:i.is3dHotspot,status:i.hotspotStatus}))},e.prototype.getAnnotationData=function(t){var e=t.mutation,n=t.oncoKbCancerGenes,r=t.hotspotData,o=t.oncoKbData,i=t.resolveEntrezGeneId;return Bn(e,n,r,o,t.resolveTumorType,i)},e=tt([c.observer],e)}(o.Component),Gn="mutationStatus-module_germline__14ouw",Un="mutationStatus-module_somatic__2kcEn",qn="mutationStatus-module_unknown__jR1Lo",Kn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t,e=this.props.mutation.mutationStatus,n=!1;return e?e.toLowerCase().indexOf("somatic")>-1?(t=Object(o.createElement)("span",{className:Un},this.props.displayValueMap&&this.props.displayValueMap.somatic||"Somatic"),n=void 0!==this.props.displayValueMap):e.toLowerCase().indexOf("germline")>-1?(t=Object(o.createElement)("span",{className:Gn},this.props.displayValueMap&&this.props.displayValueMap.germline||"Germline"),n=void 0!==this.props.displayValueMap):t=Object(o.createElement)("span",{className:qn},e):t=Object(o.createElement)("span",null),n&&(t=Object(o.createElement)(r.DefaultTooltip,{overlay:Object(o.createElement)("span",null,e),placement:"right"},t)),t},e}(o.Component),Zn={"missense-mutation":"mutationType-module_missense-mutation__2JtLH","trunc-mutation":"mutationType-module_trunc-mutation__17JAR","inframe-mutation":"mutationType-module_inframe-mutation__1eiid","other-mutation":"mutationType-module_other-mutation__1hRce","default-mutation":"mutationType-module_default-mutation__3X-GT"},Yn={missense:{label:"Missense",className:"missense-mutation"},inframe:{label:"IF",className:"inframe-mutation"},truncating:{label:"Truncating",className:"trunc-mutation"},nonsense:{label:"Nonsense",className:"trunc-mutation"},nonstop:{label:"Nonstop",className:"trunc-mutation"},nonstart:{label:"Nonstart",className:"trunc-mutation"},frameshift:{label:"FS",className:"trunc-mutation"},frame_shift_del:{label:"FS del",className:"trunc-mutation"},frame_shift_ins:{label:"FS ins",className:"trunc-mutation"},in_frame_ins:{label:"IF ins",className:"inframe-mutation"},in_frame_del:{label:"IF del",className:"inframe-mutation"},splice_site:{label:"Splice",className:"trunc-mutation"},fusion:{label:"Fusion",className:"fusion"},silent:{label:"Silent",className:"other-mutation"},other:{label:"Other",className:"other-mutation"}};function Xn(t){var e=t.mutationType;return e?Yn[Object(r.getCanonicalMutationType)(e)]:void 0}var $n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t,e,n=(t=this.props.mutation,(e=Xn(t))&&e.label?e.label:t.mutationType||""),i=function(t){var e=Xn(t);return e&&e.className?e.className:Yn.other.className}(this.props.mutation),a=this.props.mutation.mutationType,s=Object(o.createElement)("span",{className:Zn[i]},n);return a&&a.toLowerCase()!==n.toLowerCase()&&(s=Object(o.createElement)(r.DefaultTooltip,{overlay:Object(o.createElement)("span",null,a),placement:"left"},s)),s},e}(o.Component),Jn="proteinChange-module_proteinChange__3MSnG",Qn="proteinChange-module_germline__25Wi_";function tr(t,e){return It(t?Object(r.calcProteinChangeSortValue)(t):null,e?Object(r.calcProteinChangeSortValue)(e):null)}var er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this.props.mutation,e=t.proteinChange,n=t.mutationStatus,r=Object(o.createElement)("span",{className:Jn},e);return n&&n.toLowerCase().indexOf("germline")>-1&&(r=Object(o.createElement)(o.Fragment,null,r,Object(o.createElement)("span",{className:Qn},"Germline"))),r},e}(o.Component),nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){return Object(o.createElement)("div",{className:"dataTableMainToolbar",style:{paddingBottom:"0.4rem"}},this.props.showColumnVisibility&&Object(o.createElement)("div",{className:"small",style:{width:150,marginLeft:"auto"}},Object(o.createElement)(ce,Q({columnVisibility:this.props.columnVisibility,onColumnToggled:this.props.visibilityToggle},this.props.columnSelectorProps))))},e.defaultProps={showColumnVisibility:!0},e=tt([c.observer],e)}(o.Component);function rr(t){return t?(e=h.a.compact(t),h.a.some(e,function(t){return"error"===t.status})?"error":h.a.some(e,function(t){return"pending"===t.status})?"pending":"complete"):"complete";var e}var or,ir,ar,sr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expanded={},e}return J(e,t),Object.defineProperty(e.prototype,"tableData",{get:function(){var t=this.props.data;return this.props.dataStore&&(t=this.props.dataStore.sortedFilteredSelectedData.length>0?this.props.dataStore.sortedFilteredSelectedData:this.props.dataStore.sortedFilteredData),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){var t=this;return(this.props.columns||[]).map(function(e){return Q({},e,{show:e.id?t.columnVisibility[e.id]:e.expander||e.show})})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"needToCustomizeRowStyle",{get:function(){return this.props.dataStore&&this.props.dataStore.highlightFilters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showPagination",{get:function(){var t=this.props.initialItemsPerPage;return void 0!==this.tableData&&this.tableData.length>t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPageSize",{get:function(){var t=this.props.initialItemsPerPage;return this.tableData?this.tableData.length>t?t:this.tableData.length:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialColumnDataStatus",{get:function(){return rr(this.props.initialSortColumnData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultSorted",{get:function(){var t=this.props,e=t.initialSortColumn,n=t.initialSortDirection;return void 0===e||"pending"===this.initialColumnDataStatus?void 0:[{id:e,desc:"desc"===n}]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnVisibility",{get:function(){return Object(r.resolveColumnVisibility)(this.columnVisibilityByColumnDefinition,this.props.columnVisibility,this._columnVisibilityOverride)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnVisibilityDef",{get:function(){return t=this.props.columns||[],e=this.columnVisibility,n=[],(t||[]).filter(function(t){return t.id}).forEach(function(t){return n.push({id:t.id,name:t.name||t.id,visible:e[t.id],togglable:void 0===t.togglable||t.togglable})}),n;var t,e,n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnVisibilityByColumnDefinition",{get:function(){return Object(r.resolveColumnVisibilityByColumnDefinition)((this.props.columns||[]).filter(function(t){return t.id}).map(function(t){return{name:t.name||t.id,id:t.id,visible:t.show}}))},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)("div",{className:"cbioportal-frontend"},Object(o.createElement)(nr,{visibilityToggle:this.onVisibilityToggle,columnVisibility:this.columnVisibilityDef,columnSelectorProps:this.props.columnSelectorProps}),Object(o.createElement)("div",{className:s()(this.props.className,"cbioportal-frontend","default-data-table")},Object(o.createElement)(W,Q({data:this.tableData,columns:this.columns,getTrProps:this.needToCustomizeRowStyle?this.getTrProps:void 0,defaultSorted:this.defaultSorted,defaultPageSize:this.defaultPageSize,showPagination:this.showPagination,className:"-striped -highlight",previousText:"<",nextText:">",expanded:this.expanded,onExpandedChange:this.onExpandedChange,onPageChange:this.resetExpander,onPageSizeChange:this.resetExpander,onSortedChange:this.resetExpander},this.props.reactTableProps))))},e.prototype.componentWillReceiveProps=function(t){var e=this;t.dataStore&&Object(u.reaction)(function(){return[t.dataStore.selectionFilters,t.dataStore.dataFilters]},function(t,n){t.length>0&&e.resetExpander(),n.dispose()})},e.prototype.getTrProps=function(t,e){return{style:{background:t&&e&&this.getRowBackground(e)}}},e.prototype.onVisibilityToggle=function(t){var e=this;Object.keys(this.columnVisibility).forEach(function(t){return e.updateColumnVisibility(t,!1)}),t.forEach(function(t){return e.updateColumnVisibility(t,!0)})},e.prototype.updateColumnVisibility=function(t,e){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(r.resolveColumnVisibility)(this.columnVisibilityByColumnDefinition,this.props.columnVisibility)),this._columnVisibilityOverride&&void 0!==this._columnVisibilityOverride[t]&&(this._columnVisibilityOverride[t]=e)},e.prototype.onExpandedChange=function(t){this.expanded=t},e.prototype.resetExpander=function(){this.expanded={}},e.prototype.isRowHighlighted=function(t){return this.props.dataStore&&this.props.dataStore.dataHighlightFilter(t)},e.prototype.getRowBackground=function(t){var e;return this.isRowHighlighted(t.original)&&(e=t.viewIndex%2==1?this.props.highlightColorDark:this.props.highlightColorLight),e},e.defaultProps={data:[],initialSortDirection:"desc",initialItemsPerPage:10,highlightColorLight:"#B0BED9",highlightColorDark:"#9FAFD1"},tt([u.observable],e.prototype,"_columnVisibilityOverride",void 0),tt([u.observable],e.prototype,"expanded",void 0),tt([u.computed],e.prototype,"tableData",null),tt([u.computed],e.prototype,"columns",null),tt([u.computed],e.prototype,"needToCustomizeRowStyle",null),tt([u.computed],e.prototype,"showPagination",null),tt([u.computed],e.prototype,"defaultPageSize",null),tt([u.computed],e.prototype,"initialColumnDataStatus",null),tt([u.computed],e.prototype,"defaultSorted",null),tt([u.computed],e.prototype,"columnVisibility",null),tt([u.computed],e.prototype,"columnVisibilityDef",null),tt([u.computed],e.prototype,"columnVisibilityByColumnDefinition",null),tt([l.default],e.prototype,"getTrProps",null),tt([u.action.bound],e.prototype,"onVisibilityToggle",null),tt([u.action.bound],e.prototype,"updateColumnVisibility",null),tt([u.action.bound],e.prototype,"onExpandedChange",null),tt([u.action.bound],e.prototype,"resetExpander",null),e=tt([c.observer],e)}(o.Component);!function(t){t.PROTEIN_CHANGE="proteinChange",t.ANNOTATION="annotation",t.MUTATION_STATUS="mutationStatus",t.MUTATION_TYPE="mutationType",t.CHROMOSOME="chromosome",t.START_POSITION="startPosition",t.END_POSITION="endPosition",t.REFERENCE_ALLELE="referenceAllele",t.VARIANT_ALLELE="variantAllele"}(ir||(ir={})),function(t){t.PROTEIN_CHANGE="Protein Change",t.ANNOTATION="Annotation",t.MUTATION_STATUS="Mutation Status",t.MUTATION_TYPE="Mutation Type",t.CHROMOSOME="Chromosome",t.START_POSITION="Start Pos",t.END_POSITION="End Pos",t.REFERENCE_ALLELE="Ref",t.VARIANT_ALLELE="Var"}(ar||(ar={}));var lr=((or={})[ir.PROTEIN_CHANGE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.PROTEIN_CHANGE)}),or[ir.ANNOTATION]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.ANNOTATION)}),or[ir.MUTATION_STATUS]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.MUTATION_STATUS)}),or[ir.MUTATION_TYPE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.MUTATION_TYPE)}),or[ir.CHROMOSOME]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.CHROMOSOME)}),or[ir.START_POSITION]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.START_POSITION)}),or[ir.END_POSITION]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.END_POSITION)}),or[ir.REFERENCE_ALLELE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.REFERENCE_ALLELE),overlay:Object(o.createElement)("span",null,"Reference Allele")}),or[ir.VARIANT_ALLELE]=Object(o.createElement)(rt,{headerContent:Object(o.createElement)("span",null,ar.VARIANT_ALLELE),overlay:Object(o.createElement)("span",null,"Variant Allele")}),or),ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e=tt([c.observer],e)}(sr),cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),Object.defineProperty(e.prototype,"initialColumnDataStatus",{get:function(){return rr(this.props.initialSortColumnData)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"annotationColumnAccessor",{get:function(){var t=this;return function(e){return t.props.initialSortColumn===ir.ANNOTATION&&"pending"===t.initialColumnDataStatus?void 0:Bn(e,t.props.oncoKbCancerGenes,t.props.hotspotData,t.props.oncoKbData)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialSortColumnData",{get:function(){return this.props.initialSortColumnData||[this.props.oncoKbCancerGenes,this.props.hotspotData,this.props.oncoKbData]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.props.columns?this.props.appendColumns?this.defaultColumns.concat(this.props.columns):this.props.columns:this.defaultColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultColumns",{get:function(){var t=this;return[{id:ir.PROTEIN_CHANGE,name:ar.PROTEIN_CHANGE,accessor:ir.PROTEIN_CHANGE,Cell:function(t){return Object(o.createElement)(er,{mutation:t.original})},Header:lr[ir.PROTEIN_CHANGE],sortMethod:tr},{id:ir.ANNOTATION,name:ar.ANNOTATION,accessor:this.annotationColumnAccessor,Cell:function(e){return Object(o.createElement)(Wn,{mutation:e.original,enableOncoKb:!0,enableHotspot:!0,hotspotData:t.props.hotspotData,oncoKbData:t.props.oncoKbData,oncoKbCancerGenes:t.props.oncoKbCancerGenes,oncoKbEvidenceCache:t.props.oncoKbEvidenceCache,pubMedCache:t.props.pubMedCache})},Header:lr[ir.ANNOTATION],sortMethod:Hn},{id:ir.MUTATION_TYPE,name:ar.MUTATION_TYPE,accessor:ir.MUTATION_TYPE,Cell:function(t){return Object(o.createElement)($n,{mutation:t.original})},Header:lr[ir.MUTATION_TYPE]},{id:ir.MUTATION_STATUS,name:ar.MUTATION_STATUS,accessor:ir.MUTATION_STATUS,Cell:function(t){return Object(o.createElement)(Kn,{mutation:t.original})},Header:lr[ir.MUTATION_STATUS]},{id:ir.CHROMOSOME,name:ar.CHROMOSOME,accessor:ir.CHROMOSOME,Header:lr[ir.CHROMOSOME],show:!1},{id:ir.START_POSITION,name:ar.START_POSITION,accessor:ir.START_POSITION,Header:lr[ir.START_POSITION],show:!1},{id:ir.END_POSITION,name:ar.END_POSITION,accessor:ir.END_POSITION,Header:lr[ir.END_POSITION],show:!1},{id:ir.REFERENCE_ALLELE,name:ar.REFERENCE_ALLELE,accessor:ir.REFERENCE_ALLELE,Header:lr[ir.REFERENCE_ALLELE],show:!1},{id:ir.VARIANT_ALLELE,name:ar.VARIANT_ALLELE,accessor:ir.VARIANT_ALLELE,Header:lr[ir.VARIANT_ALLELE],show:!1}]},enumerable:!0,configurable:!0}),e.prototype.render=function(){return Object(o.createElement)(ur,Q({},this.props,{columns:this.columns,initialSortColumnData:this.initialSortColumnData}))},e.defaultProps={initialSortColumn:ir.ANNOTATION,appendColumns:!0},tt([u.computed],e.prototype,"initialColumnDataStatus",null),tt([u.computed],e.prototype,"annotationColumnAccessor",null),tt([u.computed],e.prototype,"initialSortColumnData",null),tt([u.computed],e.prototype,"columns",null),tt([u.computed],e.prototype,"defaultColumns",null),e=tt([c.observer],e)}(o.Component),pr="transcriptDropdown-module_dropDown__1UEvR",hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this.props,e=t.showDropDown,n=t.canonicalTranscript,r=t.showOnlyAnnotatedTranscriptsInDropdown,i=t.activeTranscript,a=t.transcriptsByTranscriptId,l=t.transcriptsWithProteinLength,u=t.transcriptsWithAnnotations,c=t.indexedVariantAnnotations,p=t.mutationsByTranscriptId,h=n.result&&n.result.transcriptId;if(e){if(r){var f=l.isPending||u.isPending||n.isPending,d=c.result&&Object.keys(c.result).length>0&&h&&u.result&&u.result.length>0;return Object(o.createElement)("div",{className:s()("small",pr)},this.loadingIndicator(f),!f&&d&&this.getDropdownTranscripts(i||h,u.result,h,a,p))}f=l.isPending||n.isPending,d=l.result&&l.result.length>0&&h;return Object(o.createElement)("div",{className:s()("small",pr)},this.loadingIndicator(f),!f&&d&&this.getDropdownTranscripts(i||h,l.result,h,a))}return Object(o.createElement)("span",null)},e.prototype.getDropdownTranscripts=function(t,e,n,r,i){var a=this,s=r[t].refseqMrnaId;return Object(o.createElement)("div",null,Object(o.createElement)(X.default,{value:{label:s||t,value:t},clearable:!1,deleteRemoves:!1,options:this.sortTranscripts(e).map(function(t){var e=r[t].proteinLength,o=r[t].refseqMrnaId,a=r[t].ccdsId,s=i&&i[t]&&i[t].length;return{label:(o?o+" / ":"")+t+" "+(a?"("+a+")":"")+" "+(e?"("+e+" amino acids)":"")+" "+(s?"("+s+" mutations)":"")+" "+(t===n?" (default)":""),value:t}}),onChange:function(t){t.value&&a.props.onChange(t.value)}}))},e.prototype.sortTranscripts=function(t){var e=this.props,n=e.canonicalTranscript,r=e.transcriptsByTranscriptId;return t=h.a.orderBy(t,[function(t){return n.result&&t===n.result.transcriptId},function(t){return r[t].hasOwnProperty("refseqMrnaId")},function(t){return r[t].proteinLength},function(t){return t}],["desc","desc","desc","asc"])},e.prototype.loadingIndicator=function(t){return t?this.props.loadingIndicator||Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"}):null},e=tt([c.observer],e)}(o.Component),fr="geneSummary-module_geneSummary__1Gt_H",dr="geneSummary-module_hugoSymbol__3Qn9u",mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),e.prototype.render=function(){var t=this.props,e=t.hugoGeneSymbol,n=t.uniprotId,i=t.showDropDown,a=t.showOnlyAnnotatedTranscriptsInDropdown,s=t.canonicalTranscript,l=t.activeTranscript,u=t.transcriptsByTranscriptId,c=t.transcriptsWithAnnotations,p=t.transcriptsWithProteinLength,h=t.indexedVariantAnnotations,f=t.mutationsByTranscriptId,d=t.onTranscriptChange,m=t.loadingIndicator,g=s.result&&s.result.transcriptId,v=l&&l===g?s.result:u[l],y=v&&v.refseqMrnaId,b=v&&v.ccdsId;return Object(o.createElement)("div",{className:fr},Object(o.createElement)("h4",{className:dr},e),Object(o.createElement)(hr,{showDropDown:i,showOnlyAnnotatedTranscriptsInDropdown:a,activeTranscript:l,transcriptsByTranscriptId:u,canonicalTranscript:s,transcriptsWithProteinLength:p,transcriptsWithAnnotations:c,indexedVariantAnnotations:h,mutationsByTranscriptId:f,onChange:d,loadingIndicator:m}),Object(o.createElement)("div",null,Object(o.createElement)("span",{"data-test":"GeneSummaryRefSeq"},"RefSeq: ",y?Object(o.createElement)("a",{href:Object(r.getNCBIlink)("/nuccore/"+y),target:"_blank"},y):"-")),i?l&&Object(o.createElement)("div",null,Object(o.createElement)("span",null,"Ensembl: "),Object(o.createElement)("a",{href:"http://grch37.ensembl.org/homo_sapiens/Transcript/Summary?t="+l,target:"_blank"},l)):g&&Object(o.createElement)("div",null,Object(o.createElement)("span",null,"Ensembl: "),Object(o.createElement)("a",{href:"http://grch37.ensembl.org/homo_sapiens/Transcript/Summary?t="+g,target:"_blank"},g)),Object(o.createElement)("div",null,Object(o.createElement)("span",{"data-test":"GeneSummaryCCDS"},"CCDS: ",b?Object(o.createElement)("a",{href:Object(r.getNCBIlink)({pathname:"/CCDS/CcdsBrowse.cgi",query:{REQUEST:"CCDS",DATA:b}}),target:"_blank"},b):"-")),Object(o.createElement)("div",null,Object(o.createElement)("span",{"data-test":"GeneSummaryUniProt"},"UniProt: ",n?Object(o.createElement)("a",{href:"http://www.uniprot.org/uniprot/"+n,target:"_blank"},n):"-")))},e=tt([c.observer],e)}(o.Component),gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return J(e,t),Object.defineProperty(e.prototype,"geneWidth",{get:function(){return this.lollipopPlotGeneX?.7*this.windowWrapper.size.width-this.lollipopPlotGeneX:666},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackVisibility",{get:function(){return this.props.trackVisibility?this.props.trackVisibility:(this._trackVisibility||(this._trackVisibility=Te()),this._trackVisibility)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackDataStatus",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){var t=this;return this.props.store?this.props.store:new Rn({hugoGeneSymbol:this.props.hugoSymbol?this.props.hugoSymbol:""},{isoformOverrideSource:this.props.isoformOverrideSource,filterMutationsBySelectedTranscript:this.props.filterMutationsBySelectedTranscript,genomeNexusUrl:this.props.genomeNexusUrl,oncoKbUrl:this.props.oncoKbUrl,getMutationCount:this.props.getMutationCount},function(){return t.props.data||[]})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pubMedCache",{get:function(){return this.props.pubMedCache||new dn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"windowWrapper",{get:function(){return this.props.windowWrapper?this.props.windowWrapper:(In||(In=new r.WindowWrapper),In)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationTableComponent",{get:function(){return this.props.mutationTable?this.props.mutationTable:Object(o.createElement)(cr,{dataStore:this.store.dataStore,columns:this.props.customMutationTableColumns,reactTableProps:this.props.customMutationTableProps,hotspotData:this.store.indexedHotspotData,oncoKbData:this.store.oncoKbData,oncoKbCancerGenes:this.store.oncoKbCancerGenes,oncoKbEvidenceCache:this.store.oncoKbEvidenceCache,pubMedCache:this.pubMedCache})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationPlot",{get:function(){return Object(o.createElement)(fn,{store:this.store,pubMedCache:this.pubMedCache,geneWidth:this.geneWidth,trackVisibility:this.trackVisibility,tracks:this.props.tracks,showYMaxSlider:this.props.showPlotYMaxSlider,showLegendToggle:this.props.showPlotLegendToggle,showDownloadControls:this.props.showPlotDownloadControls,trackDataStatus:this.trackDataStatus,onXAxisOffset:this.onXAxisOffset,onTrackVisibilityChange:this.props.onTrackVisibilityChange,getMutationCount:this.props.getMutationCount,getLollipopColor:this.props.getLollipopColor})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"geneSummary",{get:function(){return Object(o.createElement)(mr,{hugoGeneSymbol:this.store.gene.hugoGeneSymbol,uniprotId:this.store.uniprotId.result,showDropDown:!!this.props.showTranscriptDropDown,showOnlyAnnotatedTranscriptsInDropdown:!!this.props.showOnlyAnnotatedTranscriptsInDropdown,transcriptsByTranscriptId:this.store.transcriptsByTranscriptId,canonicalTranscript:this.store.canonicalTranscript,loadingIndicator:this.props.geneSummaryLoadingIndicator,activeTranscript:this.store.activeTranscript,indexedVariantAnnotations:this.store.indexedVariantAnnotations,transcriptsWithAnnotations:this.store.transcriptsWithAnnotations,transcriptsWithProteinLength:this.store.transcriptsWithProteinLength,mutationsByTranscriptId:this.store.mutationsByTranscriptId,onTranscriptChange:this.handleTranscriptChange})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationRateSummary",{get:function(){return this.props.mutationRates?Object(o.createElement)(zn,{rates:this.props.mutationRates}):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFiltered",{get:function(){return this.store.dataStore.selectionFilters.length>0||this.store.dataStore.dataFilters.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMutationTableDataLoading",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterResetPanel",{get:function(){var t=this.store.dataStore,e=t.sortedFilteredSelectedData.length>0?t.sortedFilteredSelectedData:t.sortedFilteredData,n=t.allData;return Object(o.createElement)(he,{mutationsShown:e.length+"/"+n.length,resetFilters:this.resetFilters})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationTable",{get:function(){return Object(o.createElement)("span",null,this.mutationTableComponent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"proteinChainPanel",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutationFilterPanel",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view3dButton",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMutationPlotDataLoading",{get:function(){return this.store.pfamDomainData.isPending},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this.store.mutationData.isPending||this.isMutationPlotDataLoading||this.isMutationTableDataLoading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadingIndicator",{get:function(){return this.props.mainLoadingIndicator||Object(o.createElement)("i",{className:"fa fa-spinner fa-pulse fa-2x"})},enumerable:!0,configurable:!0}),e.prototype.render=function(){return this.isLoading?this.loadingIndicator:Object(o.createElement)("div",null,this.isFiltered&&this.filterResetPanel,Object(o.createElement)("div",{style:{display:"flex"}},Object(o.createElement)("div",{className:"borderedChart",style:{marginRight:"1rem"}},this.mutationPlot,this.proteinChainPanel),Object(o.createElement)("div",{className:"mutationMapperMetaColumn"},this.geneSummary,this.mutationRateSummary,this.mutationFilterPanel,this.view3dButton)),this.mutationTable)},e.prototype.handleTranscriptChange=function(t){this.store.activeTranscript=t},e.prototype.onXAxisOffset=function(t){this.props.onXAxisOffset?this.props.onXAxisOffset(t):this.lollipopPlotGeneX=t},e.prototype.resetFilters=function(){this.store.dataStore.clearDataFilters(),this.store.dataStore.clearSelectionFilters(),this.store.dataStore.clearHighlightFilters()},e.defaultProps={showOnlyAnnotatedTranscriptsInDropdown:!1,showTranscriptDropDown:!1,filterMutationsBySelectedTranscript:!1},tt([u.observable],e.prototype,"_trackVisibility",void 0),tt([u.observable],e.prototype,"lollipopPlotGeneX",void 0),tt([u.computed],e.prototype,"geneWidth",null),tt([u.computed],e.prototype,"trackVisibility",null),tt([u.computed],e.prototype,"store",null),tt([u.computed],e.prototype,"windowWrapper",null),tt([u.action.bound],e.prototype,"handleTranscriptChange",null),tt([u.action.bound],e.prototype,"onXAxisOffset",null),tt([u.action.bound],e.prototype,"resetFilters",null),e=tt([c.observer],e)}(o.Component)},540:function(t,e,n){"use strict";var r=n(782),o=n.n(r),i=n(44),a=n.n(i),s=n(3),l=n.n(s),u=n(0),c=n.n(u),p=n(45),h=function(t){var e=t.onMouseDown;return c.a.createElement("span",{className:"Select-arrow",onMouseDown:e})};h.propTypes={onMouseDown:l.a.func};var f=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],d=function(t){for(var e=0;e<f.length;e++)t=t.replace(f[e].letters,f[e].base);return t},m=function(t){return null!=t&&""!==t},g=function(t,e,n,r){return r.ignoreAccents&&(e=d(e)),r.ignoreCase&&(e=e.toLowerCase()),r.trimFilter&&(e=e.replace(/^\s+|\s+$/g,"")),n&&(n=n.map(function(t){return t[r.valueKey]})),t.filter(function(t){if(n&&n.indexOf(t[r.valueKey])>-1)return!1;if(r.filterOption)return r.filterOption.call(void 0,t,e);if(!e)return!0;var o=t[r.valueKey],i=t[r.labelKey],a=m(o),s=m(i);if(!a&&!s)return!1;var l=a?String(o):null,u=s?String(i):null;return r.ignoreAccents&&(l&&"label"!==r.matchProp&&(l=d(l)),u&&"value"!==r.matchProp&&(u=d(u))),r.ignoreCase&&(l&&"label"!==r.matchProp&&(l=l.toLowerCase()),u&&"value"!==r.matchProp&&(u=u.toLowerCase())),"start"===r.matchPos?l&&"label"!==r.matchProp&&l.substr(0,e.length)===e||u&&"value"!==r.matchProp&&u.substr(0,e.length)===e:l&&"label"!==r.matchProp&&l.indexOf(e)>=0||u&&"value"!==r.matchProp&&u.indexOf(e)>=0})},v=function(t){var e=t.focusedOption,n=t.focusOption,r=t.inputValue,o=t.instancePrefix,i=t.onFocus,s=t.onOptionRef,l=t.onSelect,u=t.optionClassName,p=t.optionComponent,h=t.optionRenderer,f=t.options,d=t.removeValue,m=t.selectValue,g=t.valueArray,v=t.valueKey,y=p;return f.map(function(t,p){var f=g&&g.some(function(e){return e[v]===t[v]}),b=t===e,_=a()(u,{"Select-option":!0,"is-selected":f,"is-focused":b,"is-disabled":t.disabled});return c.a.createElement(y,{className:_,focusOption:n,inputValue:r,instancePrefix:o,isDisabled:t.disabled,isFocused:b,isSelected:f,key:"option-"+p+"-"+t[v],onFocus:i,onSelect:l,option:t,optionIndex:p,ref:function(t){s(t,b)},removeValue:d,selectValue:m},h(t,p,r))})};v.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var y=function(t){t.preventDefault(),t.stopPropagation(),"A"===t.target.tagName&&"href"in t.target&&(t.target.target?window.open(t.target.href,t.target.target):window.location.href=t.target.href)},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=(function(){function t(t){this.value=t}function e(e){var n,r;function o(n,r){try{var a=e[n](r),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(a.done?"return":"normal",a.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(t,e){return new Promise(function(i,a){var s={key:t,arg:e,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},T=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},k=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},O=function(t){function e(t){_(this,e);var n=k(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return C(e,t),x(e,[{key:"handleMouseDown",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onSelect(this.props.option,t)}},{key:"handleMouseEnter",value:function(t){this.onFocus(t)}},{key:"handleMouseMove",value:function(t){this.onFocus(t)}},{key:"handleTouchEnd",value:function(t){this.dragging||this.handleMouseDown(t)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(t){this.props.isFocused||this.props.onFocus(this.props.option,t)}},{key:"render",value:function(){var t=this.props,e=t.option,n=t.instancePrefix,r=t.optionIndex,o=a()(this.props.className,e.className);return e.disabled?c.a.createElement("div",{className:o,onMouseDown:y,onClick:y},this.props.children):c.a.createElement("div",{className:o,style:e.style,role:"option","aria-label":e.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:e.title},this.props.children)}}]),e}(c.a.Component);O.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var E=function(t){function e(t){_(this,e);var n=k(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return C(e,t),x(e,[{key:"handleMouseDown",value:function(t){if("mousedown"!==t.type||0===t.button)return this.props.onClick?(t.stopPropagation(),void this.props.onClick(this.props.value,t)):void(this.props.value.href&&t.stopPropagation())}},{key:"onRemove",value:function(t){t.preventDefault(),t.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(t){this.dragging||this.onRemove(t)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return c.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?c.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):c.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return c.a.createElement("div",{className:a()("Select-value",this.props.value.disabled?"Select-value-disabled":"",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),e}(c.a.Component);E.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/
var M=function(t){return"string"==typeof t?t:null!==t&&JSON.stringify(t)||""},I=l.a.oneOfType([l.a.string,l.a.node]),A=l.a.oneOfType([l.a.string,l.a.number]),P=1,D=function(t,e){var n=void 0===t?"undefined":b(t);if("string"!==n&&"number"!==n&&"boolean"!==n)return t;var r=e.options,o=e.valueKey;if(r)for(var i=0;i<r.length;i++)if(String(r[i][o])===String(t))return r[i]},R=function(t,e){return!t||(e?0===t.length:0===Object.keys(t).length)},F=function(t){function e(t){_(this,e);var n=k(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(t){return n[t]=n[t].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return C(e,t),x(e,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++P)+"-";var t=this.getValueArray(this.props.value);this.props.required&&this.setState({required:R(t[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.getValueArray(t.value,t);t.required?this.setState({required:R(e[0],t.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==t.value&&t.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(t,e){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(p.findDOMNode)(this.focused),r=Object(p.findDOMNode)(this.menu),o=r.scrollTop,i=o+r.offsetHeight,a=n.offsetTop,s=a+n.offsetHeight;(o>a||i<s)&&(r.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(p.findDOMNode)(this.focused),u=Object(p.findDOMNode)(this.menu),c=l.getBoundingClientRect(),h=u.getBoundingClientRect();c.bottom>h.bottom?u.scrollTop=l.offsetTop+l.clientHeight-u.offsetHeight:c.top<h.top&&(u.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var f=this.menuContainer.getBoundingClientRect();window.innerHeight<f.bottom+this.props.menuBuffer&&window.scrollBy(0,f.bottom+this.props.menuBuffer-window.innerHeight)}if(t.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),e.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var d=this.state.isOpen?this.props.onOpen:this.props.onClose;d&&d()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(t){var e=t?document.addEventListener?"addEventListener":"attachEvent":document.removeEventListener?"removeEventListener":"detachEvent",n=document.addEventListener?"":"on";document[e](n+"touchstart",this.handleTouchOutside),document[e](n+"mousedown",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(t){this.wrapper&&!this.wrapper.contains(t.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(t){this.dragging||this.handleMouseDown(t)}},{key:"handleTouchEndClearValue",value:function(t){this.dragging||this.clearValue(t)}},{key:"handleMouseDown",value:function(t){if(!(this.props.disabled||"mousedown"===t.type&&0!==t.button))if("INPUT"!==t.target.tagName){if(t.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen,focusedOption:null});if(this.state.isFocused){this.focus();var e=this.input,n=!0;"function"==typeof e.getInput&&(e=e.getInput()),e.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1,focusedOption:null}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(this.state.isOpen?(t.stopPropagation(),t.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(t){if(!this.props.disabled){var e=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;e=!this._focusAfterClear&&e,this.props.onFocus&&this.props.onFocus(t),this.setState({isFocused:!0,isOpen:!!e}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(t){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(t);var e={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(e.inputValue=this.handleInputValueChange("")),this.setState(e)}else this.focus()}},{key:"handleInputChange",value:function(t){var e=t.target.value;this.state.inputValue!==t.target.value&&(e=this.handleInputValueChange(e)),this.setState({inputValue:e,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(t){if(this.props.onInputChange){var e=this.props.onInputChange(t);null!=e&&"object"!==(void 0===e?"undefined":b(e))&&(t=""+e)}this.setState({inputValue:t})}},{key:"handleInputValueChange",value:function(t){if(this.props.onInputChange){var e=this.props.onInputChange(t);null!=e&&"object"!==(void 0===e?"undefined":b(e))&&(t=""+e)}return t}},{key:"handleKeyDown",value:function(t){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(t),t.defaultPrevented)))switch(t.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(t.preventDefault(),this.popValue());break;case 9:if(t.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;t.preventDefault(),this.selectFocusedOption();break;case 13:t.preventDefault(),t.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:t.preventDefault(),this.state.isOpen?(this.closeMenu(),t.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(t),t.stopPropagation());break;case 32:if(this.props.searchable)break;if(t.preventDefault(),!this.state.isOpen){this.focusNextOption();break}t.stopPropagation(),this.selectFocusedOption();break;case 38:t.preventDefault(),this.focusPreviousOption();break;case 40:t.preventDefault(),this.focusNextOption();break;case 33:t.preventDefault(),this.focusPageUpOption();break;case 34:t.preventDefault(),this.focusPageDownOption();break;case 35:if(t.shiftKey)break;t.preventDefault(),this.focusEndOption();break;case 36:if(t.shiftKey)break;t.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(t.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(t,e){this.props.onValueClick&&this.props.onValueClick(t,e)}},{key:"handleMenuScroll",value:function(t){if(this.props.onMenuScrollToBottom){var e=t.target;e.scrollHeight>e.offsetHeight&&e.scrollHeight-e.offsetHeight-e.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(t){return t[this.props.labelKey]}},{key:"getValueArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===e?"undefined":b(e))?e:this.props;if(n.multi){if("string"==typeof t&&(t=t.split(n.delimiter)),!Array.isArray(t)){if(null==t)return[];t=[t]}return t.map(function(t){return D(t,n)}).filter(function(t){return t})}var r=D(t,n);return r?[r]:[]}},{key:"setValue",value:function(t){var e=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=R(t,this.props.multi);this.setState({required:n})}this.props.simpleValue&&t&&(t=this.props.multi?t.map(function(t){return t[e.props.valueKey]}).join(this.props.delimiter):t[this.props.valueKey]),this.props.onChange&&this.props.onChange(t)}},{key:"selectValue",value:function(t){var e=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){e.getValueArray(e.props.value).some(function(n){return n[e.props.valueKey]===t[e.props.valueKey]})?e.removeValue(t):e.addValue(t)}):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){e.setValue(t)})}},{key:"addValue",value:function(t){var e=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(t){return!t.disabled}),r=n.indexOf(t);this.setValue(e.concat(t)),this.props.closeOnSelect&&(n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1]))}},{key:"popValue",value:function(){var t=this.getValueArray(this.props.value);t.length&&!1!==t[t.length-1].clearableValue&&this.setValue(this.props.multi?t.slice(0,t.length-1):null)}},{key:"removeValue",value:function(t){var e=this,n=this.getValueArray(this.props.value);this.setValue(n.filter(function(n){return n[e.props.valueKey]!==t[e.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(t){t&&"mousedown"===t.type&&0!==t.button||(t.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(t){this.setState({focusedOption:t})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(t){var e=this._visibleOptions.map(function(t,e){return{option:t,index:e}}).filter(function(t){return!t.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(e.length?e["next"===t?0:e.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(e.length){for(var r=-1,o=0;o<e.length;o++)if(this._focusedOption===e[o].option){r=o;break}if("next"===t&&-1!==r)r=(r+1)%e.length;else if("previous"===t)r>0?r-=1:r=e.length-1;else if("start"===t)r=0;else if("end"===t)r=e.length-1;else if("page_up"===t){var i=r-this.props.pageSize;r=i<0?0:i}else if("page_down"===t){var a=r+this.props.pageSize;r=a>e.length-1?e.length-1:a}-1===r&&(r=0),this.setState({focusedIndex:e[r].index,focusedOption:e[r].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return c.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(t,e){var n=this,r=this.props.valueRenderer||this.getOptionLabel,o=this.props.valueComponent;if(!t.length)return function(t,e,n){var r=t.inputValue,o=t.isPseudoFocused,i=t.isFocused,a=e.onSelectResetsInput;return!r||!a&&!n&&!o&&!i}(this.state,this.props,e)?c.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null;var i,a,s,l,u,p,h=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?t.map(function(e,i){return c.a.createElement(o,{disabled:n.props.disabled||!1===e.clearableValue,id:n._instancePrefix+"-value-"+i,instancePrefix:n._instancePrefix,key:"value-"+i+"-"+e[n.props.valueKey],onClick:h,onRemove:n.removeValue,placeholder:n.props.placeholder,value:e,values:t},r(e,i),c.a.createElement("span",{className:"Select-aria-only"},""))}):(i=this.state,a=this.props,s=i.inputValue,l=i.isPseudoFocused,u=i.isFocused,p=a.onSelectResetsInput,s&&(p||!u&&l||u&&!l)?void 0:(e&&(h=null),c.a.createElement(o,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:h,placeholder:this.props.placeholder,value:t[0]},r(t[0]))))}},{key:"renderInput",value:function(t,e){var n,r=this,i=a()("Select-input",this.props.inputProps.className),s=this.state.isOpen,l=a()((w(n={},this._instancePrefix+"-list",s),w(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),u=this.state.inputValue;!u||this.props.onSelectResetsInput||this.state.isFocused||(u="");var p=S({},this.props.inputProps,{"aria-activedescendant":s?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+s,"aria-haspopup":""+s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(t){return r.input=t},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:u});if(this.props.inputRenderer)return this.props.inputRenderer(p);if(this.props.disabled||!this.props.searchable){var h=T(this.props.inputProps,[]),f=a()(w({},this._instancePrefix+"-list",s));return c.a.createElement("div",S({},h,{"aria-expanded":s,"aria-owns":f,"aria-activedescendant":s?this._instancePrefix+"-option-"+e:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:i,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(t){return r.input=t},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?c.a.createElement(o.a,S({id:this.props.id},p,{className:i,minWidth:"5"})):c.a.createElement("div",{className:i,key:"input-wrap",style:{display:"inline-block"}},c.a.createElement("input",S({id:this.props.id},p)))}},{key:"renderClear",value:function(){var t=this.getValueArray(this.props.value);if(this.props.clearable&&t.length&&!this.props.disabled&&!this.props.isLoading){var e=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return c.a.createElement("span",{"aria-label":e,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:e},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var t=this.handleMouseDownOnArrow,e=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:t,isOpen:e});return n?c.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:t},n):null}}},{key:"filterOptions",value:function(t){var e=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:g;return r(n,e,t,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(t,e){e&&(this.focused=t)}},{key:"renderMenu",value:function(t,e,n){return t&&t.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:t,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:e,valueKey:this.props.valueKey}):this.props.noResultsText?c.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(t){var e=this;if(this.props.name){if(this.props.joinValues){var n=t.map(function(t){return M(t[e.props.valueKey])}).join(this.props.delimiter);return c.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(t){return e.value=t},type:"hidden",value:n})}return t.map(function(t,n){return c.a.createElement("input",{disabled:e.props.disabled,key:"hidden."+n,name:e.props.name,ref:"value"+n,type:"hidden",value:M(t[e.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(t){var e=this._visibleOptions;if(!e.length)return null;var n=this.props.valueKey,r=this.state.focusedOption||t;if(r&&!r.disabled){var o=-1;if(e.some(function(t,e){var i=t[n]===r[n];return i&&(o=e),i}),-1!==o)return o}for(var i=0;i<e.length;i++)if(!e[i].disabled)return i;return null}},{key:"renderOuter",value:function(t,e,n){var r=this,o=this.renderMenu(t,e,n);return o?c.a.createElement("div",{ref:function(t){return r.menuContainer=t},className:"Select-menu-outer",style:this.props.menuContainerStyle},c.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(t){return r.menu=t},role:"listbox",style:this.props.menuStyle,tabIndex:-1},o)):null}},{key:"render",value:function(){var t=this,e=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?e:null),r=this.state.isOpen;this.props.multi&&!n.length&&e.length&&!this.state.inputValue&&(r=!1);var o=this.getFocusableOptionIndex(e[0]),i=null;i=this._focusedOption=null!==o?n[o]:null;var s=a()("Select",this.props.className,{"has-value":e.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&e.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=c.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",e[e.length-1][this.props.labelKey]))),c.a.createElement("div",{ref:function(e){return t.wrapper=e},className:s,style:this.props.wrapperStyle},this.renderHiddenField(e),c.a.createElement("div",{ref:function(e){return t.control=e},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},c.a.createElement("div",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(e,r),this.renderInput(e,o)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,e,i):null)}}]),e}(c.a.Component);F.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:I,clearRenderer:l.a.func,clearValueText:I,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:I,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:I,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:A,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},F.defaultProps={arrowRenderer:h,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:function(){return c.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:g,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:v,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:O,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:E,valueKey:"value"};var z={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},j={},N={autoload:!0,cache:j,children:function(t){return c.a.createElement(F,t)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},L=function(t){function e(t,n){_(this,e);var r=k(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r._cache=t.cache===j?{}:t.cache,r.state={inputValue:"",isLoading:!1,options:t.options},r.onInputChange=r.onInputChange.bind(r),r}return C(e,t),x(e,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(t){t.options!==this.props.options&&this.setState({options:t.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(t){var e=this,n=this.props.loadOptions,r=this._cache;if(r&&Object.prototype.hasOwnProperty.call(r,t))return this._callback=null,void this.setState({isLoading:!1,options:r[t]});var o=function n(o,i){var a=i&&i.options||[];r&&(r[t]=a),n===e._callback&&(e._callback=null,e.setState({isLoading:!1,options:a}))};this._callback=o;var i=n(t,o);i&&i.then(function(t){return o(0,t)},function(t){return o()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(t){var e=this.props,n=e.ignoreAccents,r=e.ignoreCase,o=e.onInputChange,i=t;if(o){var a=o(i);null!=a&&"object"!==(void 0===a?"undefined":b(a))&&(i=""+a)}var s=i;return n&&(s=d(s)),r&&(s=s.toLowerCase()),this.setState({inputValue:i}),this.loadOptions(s),i}},{key:"noResultsText",value:function(){var t=this.props,e=t.loadingPlaceholder,n=t.noResultsText,r=t.searchPromptText,o=this.state,i=o.inputValue;return o.isLoading?e:i&&n?n:r}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.loadingPlaceholder,o=e.placeholder,i=this.state,a=i.isLoading,s=i.options,l={noResultsText:this.noResultsText(),placeholder:a?r:o,options:a&&r?[]:s,ref:function(e){return t.select=e}};return n(S({},this.props,l,{isLoading:a,onInputChange:this.onInputChange}))}}]),e}(u.Component);L.propTypes=z,L.defaultProps=N;var B=function(t){function e(t,n){_(this,e);var r=k(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.filterOptions=r.filterOptions.bind(r),r.menuRenderer=r.menuRenderer.bind(r),r.onInputKeyDown=r.onInputKeyDown.bind(r),r.onInputChange=r.onInputChange.bind(r),r.onOptionSelect=r.onOptionSelect.bind(r),r}return C(e,t),x(e,[{key:"createNewOption",value:function(){var t=this.props,e=t.isValidNewOption,n=t.newOptionCreator,r=t.onNewOptionClick,o=t.options,i=void 0===o?[]:o;if(e({label:this.inputValue})){var a=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:a,options:i})&&(r?r(a):(i.unshift(a),this.select.selectValue(a)))}}},{key:"filterOptions",value:function(){var t=this.props,e=t.filterOptions,n=t.isValidNewOption,r=t.promptTextCreator,o=t.showNewOptionAtTop,i=(arguments.length<=2?void 0:arguments[2])||[],a=e.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,l=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:l,options:i.concat(a)})){var u=r(this.inputValue);this._createPlaceholderOption=s({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),o?a.unshift(this._createPlaceholderOption):a.push(this._createPlaceholderOption)}}return a}},{key:"isOptionUnique",value:function(t){var e=t.option,n=t.options,r=this.props.isOptionUnique;return n=n||this.props.options,r({labelKey:this.labelKey,option:e,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(t){var e=this.props.menuRenderer;return e(S({},t,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(t){var e=this.props.onInputChange;return this.inputValue=t,e&&(this.inputValue=e(t)),this.inputValue}},{key:"onInputKeyDown",value:function(t){var e=this.props,n=e.shouldKeyDownEventCreateNewOption,r=e.onInputKeyDown,o=this.select.getFocusedOption();o&&o===this._createPlaceholderOption&&n(t)?(this.createNewOption(),t.preventDefault()):r&&r(t)}},{key:"onOptionSelect",value:function(t){t===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(t)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this,e=this.props,n=e.ref,r=T(e,["ref"]),o=this.props.children;return o||(o=H),o(S({},r,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(e){t.select=e,e&&(t.labelKey=e.props.labelKey,t.valueKey=e.props.valueKey),n&&n(e)}}))}}]),e}(c.a.Component),H=function(t){return c.a.createElement(F,t)},V=function(t){var e=t.option,n=t.options,r=t.labelKey,o=t.valueKey;return!n||!n.length||0===n.filter(function(t){return t[r]===e[r]||t[o]===e[o]}).length},W=function(t){return!!t.label},G=function(t){var e=t.label,n=t.labelKey,r={};return r[t.valueKey]=e,r[n]=e,r.className="Select-create-option-placeholder",r},U=function(t){return'Create option "'+t+'"'},q=function(t){switch(t.keyCode){case 9:case 13:case 188:return!0;default:return!1}};B.isOptionUnique=V,B.isValidNewOption=W,B.newOptionCreator=G,B.promptTextCreator=U,B.shouldKeyDownEventCreateNewOption=q,B.defaultProps={filterOptions:g,isOptionUnique:V,isValidNewOption:W,menuRenderer:v,newOptionCreator:G,promptTextCreator:U,shouldKeyDownEventCreateNewOption:q,showNewOptionAtTop:!0},B.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func,showNewOptionAtTop:l.a.bool};var K=function(t){function e(){return _(this,e),k(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return C(e,t),x(e,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var t=this;return c.a.createElement(L,this.props,function(e){var n=e.ref,r=T(e,["ref"]),o=n;return c.a.createElement(B,r,function(e){var n=e.ref,r=T(e,["ref"]),i=n;return t.props.children(S({},r,{ref:function(e){i(e),o(e),t.select=e}}))})})}}]),e}(c.a.Component);K.propTypes={children:l.a.func.isRequired},K.defaultProps={children:function(t){return c.a.createElement(F,t)}},F.Async=L,F.AsyncCreatable=K,F.Creatable=B,F.Value=E,F.Option=O,e.a=F},597:function(t,e,n){(function(e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e,n){var r;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";var i=[],a=n.document,s=Object.getPrototypeOf,l=i.slice,u=i.concat,c=i.push,p=i.indexOf,h={},f=h.toString,d=h.hasOwnProperty,m=d.toString,g=m.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,o,i=(n=n||a).createElement("script");if(i.text=t,e)for(r in _)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[f.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:"3.4.1",constructor:S,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},S.extend=S.fn.extend=function(){var t,e,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(u&&r&&(S.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[e],i=o&&!Array.isArray(n)?[]:o||S.isPlainObject(n)?n:{},o=!1,a[e]=S.extend(u,i,r)):void 0!==r&&(a[e]=r));return a},S.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==f.call(t)||(e=s(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||m.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var n,r=0;if(T(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?S.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:p.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,o=t.length;r<n;r++)t[o++]=e[r];return t.length=o,t},grep:function(t,e,n){for(var r=[],o=0,i=t.length,a=!n;o<i;o++)!e(t[o],o)!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,i=0,a=[];if(T(t))for(r=t.length;i<r;i++)null!=(o=e(t[i],i,n))&&a.push(o);else for(i in t)null!=(o=e(t[i],i,n))&&a.push(o);return u.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=i[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var k=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,n,r,o,i,a,s,l,u,c,p,h,f,d,m,g,v,y,b,_="sizzle"+1*new Date,x=t.document,w=0,S=0,C=lt(),T=lt(),k=lt(),O=lt(),E=function(t,e){return t===e&&(p=!0),0},M={}.hasOwnProperty,I=[],A=I.pop,P=I.push,D=I.push,R=I.slice,F=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+j+"*("+N+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+j+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",H=new RegExp(j+"+","g"),V=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),G=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),U=new RegExp(j+"|>"),q=new RegExp(B),K=new RegExp("^"+N+"$"),Z={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),nt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){h()},at=_t(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(I=R.call(x.childNodes),x.childNodes),I[x.childNodes.length].nodeType}catch(t){D={apply:I.length?function(t,e){P.apply(t,R.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,o){var i,s,u,c,p,d,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!o&&((e?e.ownerDocument||e:x)!==f&&h(e),e=e||f,m)){if(11!==w&&(p=Q.exec(t)))if(i=p[1]){if(9===w){if(!(u=e.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(y&&(u=y.getElementById(i))&&b(e,u)&&u.id===i)return r.push(u),r}else{if(p[2])return D.apply(r,e.getElementsByTagName(t)),r;if((i=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return D.apply(r,e.getElementsByClassName(i)),r}if(n.qsa&&!O[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&U.test(t)){for((c=e.getAttribute("id"))?c=c.replace(rt,ot):e.setAttribute("id",c=_),s=(d=a(t)).length;s--;)d[s]="#"+c+" "+bt(d[s]);v=d.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return D.apply(r,y.querySelectorAll(v)),r}catch(e){O(t,!0)}finally{c===_&&e.removeAttribute("id")}}}return l(t.replace(V,"$1"),e,r,o)}function lt(){var t=[];return function e(n,o){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function ut(t){return t[_]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function pt(t,e){for(var n=t.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=e}function ht(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ut(function(e){return e=+e,ut(function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},i=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Y.test(e||n&&n.nodeName||"HTML")},h=st.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:x;return a!==f&&9===a.nodeType&&a.documentElement?(d=(f=a).documentElement,m=!i(f),x!==f&&(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=ct(function(t){return d.appendChild(t).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,r,o,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(o=e.getElementsByName(t),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=J.test(f.querySelectorAll))&&(ct(function(t){d.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+z+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(d.compareDocumentPosition),b=e||J.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return p=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===f||t.ownerDocument===x&&b(x,t)?-1:e===f||e.ownerDocument===x&&b(x,e)?1:c?F(c,t)-F(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return p=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,a=[t],s=[e];if(!o||!i)return t===f?-1:e===f?1:o?-1:i?1:c?F(c,t)-F(c,e):0;if(o===i)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ht(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&h(t),n.matchesSelector&&m&&!O[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){O(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==f&&h(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==f&&h(t);var o=r.attrHandle[e.toLowerCase()],i=o&&M.call(r.attrHandle,e.toLowerCase())?o(t,e,!m):void 0;return void 0!==i?i:n.attributes||!m?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},st.escape=function(t){return(t+"").replace(rt,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],o=0,i=0;if(p=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(E),p){for(;e=t[i++];)e===t[i]&&(o=r.push(i));for(;o--;)t.splice(r[o],1)}return c=null,t},o=st.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},(r=st.selectors={cacheLength:50,createPseudo:ut,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var o=st.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,p,h,f,d,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(u=(c=(p=(h=g)[_]||(h[_]={}))[h.uniqueID]||(p[h.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||d.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[w,f,b];break}}else if(y&&(b=f=(u=(c=(p=(h=e)[_]||(h[_]={}))[h.uniqueID]||(p[h.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((c=(p=h[_]||(h[_]={}))[h.uniqueID]||(p[h.uniqueID]={}))[t]=[w,b]),h!==e)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[_]?o(e):o.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,n){for(var r,i=o(t,e),a=i.length;a--;)t[r=F(t,i[a])]=!(n[r]=i[a])}):function(t){return o(t,0,n)}):o}},pseudos:{not:ut(function(t){var e=[],n=[],r=s(t.replace(V,"$1"));return r[_]?ut(function(t,e,n,o){for(var i,a=r(t,null,o,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))}):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}}),has:ut(function(t){return function(e){return st(t,e).length>0}}),contains:ut(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}}),lang:ut(function(t){return K.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt(function(){return[0]}),last:gt(function(t,e){return[e-1]}),eq:gt(function(t,e,n){return[n<0?n+e:n]}),even:gt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:gt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:gt(function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t}),gt:gt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=dt(e);function yt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function _t(t,e,n){var r=e.dir,o=e.next,i=o||r,a=n&&"parentNode"===i,s=S++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,l){var u,c,p,h=[w,s];if(l){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(p=e[_]||(e[_]={}))[e.uniqueID]||(p[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[i])&&u[0]===w&&u[1]===s)return h[2]=u[2];if(c[i]=h,h[2]=t(e,n,l))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,o){for(var i,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),u&&e.push(s)));return a}function St(t,e,n,r,o,i){return r&&!r[_]&&(r=St(r)),o&&!o[_]&&(o=St(o,i)),ut(function(i,a,s,l){var u,c,p,h=[],f=[],d=a.length,m=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!i&&e?m:wt(m,h,t,s,l),v=n?o||(i?t:d||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(u=wt(v,f),r(u,[],s,l),c=u.length;c--;)(p=u[c])&&(v[f[c]]=!(g[f[c]]=p));if(i){if(o||t){if(o){for(u=[],c=v.length;c--;)(p=v[c])&&u.push(g[c]=p);o(null,v=[],u,l)}for(c=v.length;c--;)(p=v[c])&&(u=o?F(i,p):h[c])>-1&&(i[u]=!(a[u]=p))}}else v=wt(v===a?v.splice(d,v.length):v),o?o(null,a,v,l):D.apply(a,v)})}function Ct(t){for(var e,n,o,i=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],l=a?1:0,c=_t(function(t){return t===e},s,!0),p=_t(function(t){return F(e,t)>-1},s,!0),h=[function(t,n,r){var o=!a&&(r||n!==u)||((e=n).nodeType?c(t,n,r):p(t,n,r));return e=null,o}];l<i;l++)if(n=r.relative[t[l].type])h=[_t(xt(h),n)];else{if((n=r.filter[t[l].type].apply(null,t[l].matches))[_]){for(o=++l;o<i&&!r.relative[t[o].type];o++);return St(l>1&&xt(h),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(V,"$1"),n,l<o&&Ct(t.slice(l,o)),o<i&&Ct(t=t.slice(o)),o<i&&bt(t))}h.push(n)}return xt(h)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,o,i,a,s,l,u,c=T[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=r.preFilter;s;){for(a in n&&!(o=W.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=G.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(o=Z[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):T(t,l).slice(0)},s=st.compile=function(t,e){var n,o=[],i=[],s=k[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=Ct(e[n]))[_]?o.push(s):i.push(s);(s=k(t,function(t,e){var n=e.length>0,o=t.length>0,i=function(i,a,s,l,c){var p,d,g,v=0,y="0",b=i&&[],_=[],x=u,S=i||o&&r.find.TAG("*",c),C=w+=null==x?1:Math.random()||.1,T=S.length;for(c&&(u=a===f||a||c);y!==T&&null!=(p=S[y]);y++){if(o&&p){for(d=0,a||p.ownerDocument===f||(h(p),s=!m);g=t[d++];)if(g(p,a||f,s)){l.push(p);break}c&&(w=C)}n&&((p=!g&&p)&&v--,i&&b.push(p))}if(v+=y,n&&y!==v){for(d=0;g=e[d++];)g(b,_,a,s);if(i){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=A.call(l));_=wt(_)}D.apply(l,_),c&&!i&&_.length>0&&v+e.length>1&&st.uniqueSort(l)}return c&&(w=C,u=x),b};return n?ut(i):i}(i,o))).selector=t}return s},l=st.select=function(t,e,n,o){var i,l,u,c,p,h="function"==typeof t&&t,f=!o&&a(t=h.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&m&&r.relative[l[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(i=Z.needsContext.test(t)?0:l.length;i--&&(u=l[i],!r.relative[c=u.type]);)if((p=r.find[c])&&(o=p(u.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(i,1),!(t=o.length&&bt(l)))return D.apply(n,o),n;break}}return(h||s(t,f))(o,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=_.split("").sort(E).join("")===_,n.detectDuplicates=!!p,h(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||pt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||pt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||pt(z,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),st}(n);S.find=k,S.expr=k.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=k.uniqueSort,S.text=k.getText,S.isXMLDoc=k.isXML,S.contains=k.contains,S.escapeSelector=k.escape;var O=function(t,e,n){for(var r=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&S(t).is(n))break;r.push(t)}return r},E=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},M=S.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return y(e)?S.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?S.grep(t,function(t){return t===e!==n}):"string"!=typeof e?S.grep(t,function(t){return p.call(e,t)>-1!==n}):S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,n,r=this.length,o=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<r;e++)if(S.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)S.find(t,o[e],n);return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&M.test(t)?S(t):t||[],!1).length}});var D,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),A.test(r[1])&&S.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=a.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,D=S(a);var F=/^(?:parents|prev(?:Until|All))/,z={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,o=this.length,i=[],a="string"!=typeof t&&S(t);if(!M.test(t))for(;r<o;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?S.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?p.call(S(t),this[0]):p.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return O(t,"parentNode")},parentsUntil:function(t,e,n){return O(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return O(t,"nextSibling")},prevAll:function(t){return O(t,"previousSibling")},nextUntil:function(t,e,n){return O(t,"nextSibling",n)},prevUntil:function(t,e,n){return O(t,"previousSibling",n)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(I(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(t,e){S.fn[t]=function(n,r){var o=S.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=S.filter(r,o)),this.length>1&&(z[t]||S.uniqueSort(o),F.test(t)&&o.reverse()),this.pushStack(o)}});var N=/[^\x20\t\r\n\f]+/g;function L(t){return t}function B(t){throw t}function H(t,e,n,r){var o;try{t&&y(o=t.promise)?o.call(t).done(e).fail(n):t&&y(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(N)||[],function(t,n){e[n]=!0}),e}(t):S.extend({},t);var e,n,r,o,i=[],a=[],s=-1,l=function(){for(o=o||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=i.length,n=!1);t.memory||(n=!1),e=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!e&&(s=i.length-1,a.push(n)),function e(n){S.each(n,function(n,r){y(r)?t.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==w(r)&&e(r)})}(arguments),n&&!e&&l()),this},remove:function(){return S.each(arguments,function(t,e){for(var n;(n=S.inArray(e,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(t){return t?S.inArray(t,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||e||(i=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return S.Deferred(function(n){S.each(e,function(e,r){var o=y(t[r[4]])&&t[r[4]];i[r[1]](function(){var t=o&&o.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(t,r,o){var i=0;function a(t,e,r,o){return function(){var s=this,l=arguments,u=function(){var n,u;if(!(t<i)){if((n=r.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?o?u.call(n,a(i,e,L,o),a(i,e,B,o)):(i++,u.call(n,a(i,e,L,o),a(i,e,B,o),a(i,e,L,e.notifyWith))):(r!==L&&(s=void 0,l=[n]),(o||e.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,c.stackTrace),t+1>=i&&(r!==B&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),n.setTimeout(c))}}return S.Deferred(function(n){e[0][3].add(a(0,n,y(o)?o:L,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:L)),e[2][3].add(a(0,n,y(r)?r:B))}).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},i={};return S.each(e,function(t,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,n=e,r=Array(n),o=l.call(arguments),i=S.Deferred(),a=function(t){return function(n){r[t]=this,o[t]=arguments.length>1?l.call(arguments):n,--e||i.resolveWith(r,o)}};if(e<=1&&(H(t,i.done(a(n)).resolve,i.reject,!e),"pending"===i.state()||y(o[n]&&o[n].then)))return i.then();for(;n--;)H(o[n],a(n),i.reject);return i.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&V.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){n.setTimeout(function(){throw t})};var W=S.Deferred();function G(){a.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),S.ready()}S.fn.ready=function(t){return W.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||W.resolveWith(a,[S]))}}),S.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(S.ready):(a.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var U=function(t,e,n,r,o,i,a){var s=0,l=t.length,u=null==n;if("object"===w(n))for(s in o=!0,n)U(t,e,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,y(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(S(t),n)})),e))for(;s<l;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return o?t:u?e.call(t):l?e(t[0],n):i},q=/^-ms-/,K=/-([a-z])/g;function Z(t,e){return e.toUpperCase()}function Y(t){return t.replace(q,"ms-").replace(K,Z)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $(){this.expando=S.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,o=this.cache(t);if("string"==typeof e)o[Y(e)]=n;else for(r in e)o[Y(r)]=e[r];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in r?[e]:e.match(N)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||S.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var J=new $,Q=new $,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(o=Q.get(i),1===i.nodeType&&!J.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Y(r.slice(5)),nt(i,r,o[r]));J.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Q.set(this,t)}):U(this,function(e){var n;if(i&&void 0===e)return void 0!==(n=Q.get(i,t))?n:void 0!==(n=nt(i,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),S.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=J.get(t,e),n&&(!r||Array.isArray(n)?r=J.access(t,e,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),r=n.length,o=n.shift(),i=S._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===e&&n.unshift("inprogress"),delete i.stop,o.call(t,function(){S.dequeue(t,e)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:S.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each(function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,o=S.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(i[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],at=a.documentElement,st=function(t){return S.contains(t.ownerDocument,t)},lt={composed:!0};at.getRootNode&&(st=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===S.css(t,"display")},ct=function(t,e,n,r){var o,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];for(i in o=n.apply(t,r||[]),e)t.style[i]=a[i];return o};function pt(t,e,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return S.css(t,e,"")},l=s(),u=n&&n[3]||(S.cssNumber[e]?"":"px"),c=t.nodeType&&(S.cssNumber[e]||"px"!==u&&+l)&&ot.exec(S.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)S.style(t,e,c+u),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),c/=i;c*=2,S.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var ht={};function ft(t){var e,n=t.ownerDocument,r=t.nodeName,o=ht[r];return o||(e=n.body.appendChild(n.createElement(r)),o=S.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ht[r]=o,o)}function dt(t,e){for(var n,r,o=[],i=0,a=t.length;i<a;i++)(r=t[i]).style&&(n=r.style.display,e?("none"===n&&(o[i]=J.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ut(r)&&(o[i]=ft(r))):"none"!==n&&(o[i]="none",J.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(t[i].style.display=o[i]);return t}S.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ut(this)?S(this).show():S(this).hide()})}});var mt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?S.merge([t],n):n}function _t(t,e){for(var n=0,r=t.length;n<r;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}yt.optgroup=yt.option,yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td;var xt,wt,St=/<|&#?\w+;/;function Ct(t,e,n,r,o){for(var i,a,s,l,u,c,p=e.createDocumentFragment(),h=[],f=0,d=t.length;f<d;f++)if((i=t[f])||0===i)if("object"===w(i))S.merge(h,i.nodeType?[i]:i);else if(St.test(i)){for(a=a||p.appendChild(e.createElement("div")),s=(gt.exec(i)||["",""])[1].toLowerCase(),l=yt[s]||yt._default,a.innerHTML=l[1]+S.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;S.merge(h,a.childNodes),(a=p.firstChild).textContent=""}else h.push(e.createTextNode(i));for(p.textContent="",f=0;i=h[f++];)if(r&&S.inArray(i,r)>-1)o&&o.push(i);else if(u=st(i),a=bt(p.appendChild(i),"script"),u&&_t(a),n)for(c=0;i=a[c++];)vt.test(i.type||"")&&n.push(i);return p}xt=a.createDocumentFragment().appendChild(a.createElement("div")),(wt=a.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),xt.appendChild(wt),v.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var Tt=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ot=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function Mt(){return!1}function It(t,e){return t===function(){try{return a.activeElement}catch(t){}}()==("focus"===e)}function At(t,e,n,r,o,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)At(t,s,n,r,e[s],i);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Mt;else if(!o)return t;return 1===i&&(a=o,(o=function(t){return S().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),t.each(function(){S.event.add(this,e,o,r,n)})}function Pt(t,e,n){n?(J.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var r,o,i=J.get(this,e);if(1&t.isTrigger&&this[e]){if(i.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=l.call(arguments),J.set(this,e,i),r=n(this,e),this[e](),i!==(o=J.get(this,e))||r?J.set(this,e,!1):o={},i!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else i.length&&(J.set(this,e,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&S.event.add(t,e,Et)}S.event={global:{},add:function(t,e,n,r,o){var i,a,s,l,u,c,p,h,f,d,m,g=J.get(t);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&S.find.matchesSelector(at,o),n.guid||(n.guid=S.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(N)||[""]).length;u--;)f=m=(s=Ot.exec(e[u])||[])[1],d=(s[2]||"").split(".").sort(),f&&(p=S.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,p=S.event.special[f]||{},c=S.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&S.expr.match.needsContext.test(o),namespace:d.join(".")},i),(h=l[f])||((h=l[f]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(f,a)),p.add&&(p.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),S.event.global[f]=!0)},remove:function(t,e,n,r,o){var i,a,s,l,u,c,p,h,f,d,m,g=J.hasData(t)&&J.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(N)||[""]).length;u--;)if(f=m=(s=Ot.exec(e[u])||[])[1],d=(s[2]||"").split(".").sort(),f){for(p=S.event.special[f]||{},h=l[f=(r?p.delegateType:p.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=h.length;i--;)c=h[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(i,1),c.selector&&h.delegateCount--,p.remove&&p.remove.call(t,c));a&&!h.length&&(p.teardown&&!1!==p.teardown.call(t,d,g.handle)||S.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)S.event.remove(t,f+e[u],n,r,!0);S.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,r,o,i,a,s=S.event.fix(t),l=new Array(arguments.length),u=(J.get(this,"events")||{})[s.type]||[],c=S.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,u),e=0;(o=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((S.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,o,i,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(i=[],a={},n=0;n<l;n++)void 0===a[o=(r=e[n]).selector+" "]&&(a[o]=r.needsContext?S(o,this).index(u)>-1:S.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&I(e,"input")&&Pt(e,"click",Et),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&I(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&I(e,"input")&&J.get(e,"click")||I(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Tt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Pt(this,t,It),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,o=t.handleObj;return r&&(r===this||S.contains(this,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),S.fn.extend({on:function(t,e,n,r){return At(this,t,e,n,r)},one:function(t,e,n,r){return At(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Mt),this.each(function(){S.event.remove(this,t,n,e)})}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Rt=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,r,o,i,a,s,l,u;if(1===e.nodeType){if(J.hasData(t)&&(i=J.access(t),a=J.set(e,i),u=i.events))for(o in delete a.handle,a.events={},u)for(n=0,r=u[o].length;n<r;n++)S.event.add(e,o,u[o][n]);Q.hasData(t)&&(s=Q.access(t),l=S.extend({},s),Q.set(e,l))}}function Ht(t,e){var n=e.nodeName.toLowerCase();"input"===n&&mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Vt(t,e,n,r){e=u.apply([],e);var o,i,a,s,l,c,p=0,h=t.length,f=h-1,d=e[0],m=y(d);if(m||h>1&&"string"==typeof d&&!v.checkClone&&Ft.test(d))return t.each(function(o){var i=t.eq(o);m&&(e[0]=d.call(this,o,i.html())),Vt(i,e,n,r)});if(h&&(i=(o=Ct(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=S.map(bt(o,"script"),Nt)).length;p<h;p++)l=o,p!==f&&(l=S.clone(l,!0,!0),s&&S.merge(a,bt(l,"script"))),n.call(t[p],l,p);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Lt),p=0;p<s;p++)l=a[p],vt.test(l.type||"")&&!J.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(zt,""),l,c))}return t}function Wt(t,e,n){for(var r,o=e?S.filter(e,t):t,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||S.cleanData(bt(r)),r.parentNode&&(n&&st(r)&&_t(bt(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t.replace(Dt,"<$1></$2>")},clone:function(t,e,n){var r,o,i,a,s=t.cloneNode(!0),l=st(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(a=bt(s),r=0,o=(i=bt(t)).length;r<o;r++)Ht(i[r],a[r]);if(e)if(n)for(i=i||bt(t),a=a||bt(s),r=0,o=i.length;r<o;r++)Bt(i[r],a[r]);else Bt(t,s);return(a=bt(s,"script")).length>0&&_t(a,!l&&bt(t,"script")),s},cleanData:function(t){for(var e,n,r,o=S.event.special,i=0;void 0!==(n=t[i]);i++)if(X(n)){if(e=n[J.expando]){if(e.events)for(r in e.events)o[r]?S.event.remove(n,r):S.removeEvent(n,r,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Wt(this,t,!0)},remove:function(t){return Wt(this,t)},text:function(t){return U(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Vt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)})},prepend:function(){return Vt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Vt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Vt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Rt.test(t)&&!yt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Vt(this,arguments,function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(bt(this)),n&&n.replaceChild(e,this))},t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){S.fn[t]=function(t){for(var n,r=[],o=S(t),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),S(o[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var Gt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ut=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},qt=new RegExp(it.join("|"),"i");function Kt(t,e,n){var r,o,i,a,s=t.style;return(n=n||Ut(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=S.style(t,e)),!v.pixelBoxStyles()&&Gt.test(a)&&qt.test(e)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),o=36===e(t.width),c.style.position="absolute",i=12===e(c.offsetWidth/3),at.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var r,o,i,s,l,u=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i}}))}();var Yt=["Webkit","Moz","ms"],Xt=a.createElement("div").style,$t={};function Jt(t){return S.cssProps[t]||$t[t]||(t in Xt?t:$t[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Yt.length;n--;)if((t=Yt[n]+e)in Xt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"};function re(t,e,n){var r=ot.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function oe(t,e,n,r,o,i){var a="width"===e?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=S.css(t,n+it[a],!0,o)),r?("content"===n&&(l-=S.css(t,"padding"+it[a],!0,o)),"margin"!==n&&(l-=S.css(t,"border"+it[a]+"Width",!0,o))):(l+=S.css(t,"padding"+it[a],!0,o),"padding"!==n?l+=S.css(t,"border"+it[a]+"Width",!0,o):s+=S.css(t,"border"+it[a]+"Width",!0,o));return!r&&i>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-i-l-s-.5))||0),l}function ie(t,e,n){var r=Ut(t),o=(!v.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,r),i=o,a=Kt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Gt.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&o||"auto"===a||!parseFloat(a)&&"inline"===S.css(t,"display",!1,r))&&t.getClientRects().length&&(o="border-box"===S.css(t,"boxSizing",!1,r),(i=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+oe(t,e,n||(o?"border":"content"),i,r,a)+"px"}function ae(t,e,n,r,o){return new ae.prototype.init(t,e,n,r,o)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Kt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,i,a,s=Y(e),l=te.test(e),u=t.style;if(l||(e=Jt(s)),a=S.cssHooks[e]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,r))?o:u[e];"string"==(i=typeof n)&&(o=ot.exec(n))&&o[1]&&(n=pt(t,e,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var o,i,a,s=Y(e);return te.test(e)||(e=Jt(s)),(a=S.cssHooks[e]||S.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Kt(t,e,r)),"normal"===o&&e in ne&&(o=ne[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),S.each(["height","width"],function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n)return!Qt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,r):ct(t,ee,function(){return ie(t,e,r)})},set:function(t,n,r){var o,i=Ut(t),a=!v.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===S.css(t,"boxSizing",!1,i),l=r?oe(t,e,r,s,i):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(i[e])-oe(t,e,"border",!1,i)-.5)),l&&(o=ot.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),re(0,n,l)}}}),S.cssHooks.marginLeft=Zt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Kt(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(t,e){S.cssHooks[t+e]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[t+it[r]+e]=i[r]||i[r-2]||i[0];return o}},"margin"!==t&&(S.cssHooks[t+e].set=re)}),S.fn.extend({css:function(t,e){return U(this,function(t,e,n){var r,o,i={},a=0;if(Array.isArray(e)){for(r=Ut(t),o=e.length;a<o;a++)i[e[a]]=S.css(t,e[a],!1,r);return i}return void 0!==n?S.style(t,e,n):S.css(t,e)},t,e,arguments.length>1)}}),S.Tween=ae,ae.prototype={constructor:ae,init:function(t,e,n,r,o,i){this.elem=t,this.prop=n,this.easing=o||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=i||(S.cssNumber[n]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return t&&t.get?t.get(this):ae.propHooks._default.get(this)},run:function(t){var e,n=ae.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ae.propHooks._default.set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ae.prototype.init,S.fx.step={};var se,le,ue=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function pe(){le&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(pe):n.setTimeout(pe,S.fx.interval),S.fx.tick())}function he(){return n.setTimeout(function(){se=void 0}),se=Date.now()}function fe(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)o["margin"+(n=it[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var r,o=(me.tweeners[e]||[]).concat(me.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,e,t))return r}function me(t,e,n){var r,o,i=0,a=me.prefilters.length,s=S.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=se||he(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(t,[u,r,n]),r<1&&a?n:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||he(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,r,o,i,a;for(n in t)if(o=e[r=Y(n)],i=t[n],Array.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete t[r],i)n in t||(t[n]=i[n],e[n]=o);else e[r]=o}(c,u.opts.specialEasing);i<a;i++)if(r=me.prefilters[i].call(u,t,c,u.opts))return y(r.stop)&&(S._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return S.map(c,de,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),S.fx.timer(S.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}S.Animation=S.extend(me,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return pt(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(N);for(var n,r=0,o=t.length;r<o;r++)n=t[r],me.tweeners[n]=me.tweeners[n]||[],me.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,o,i,a,s,l,u,c,p="width"in e||"height"in e,h=this,f={},d=t.style,m=t.nodeType&&ut(t),g=J.get(t,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,S.queue(t,"fx").length||a.empty.fire()})})),e)if(o=e[r],ue.test(o)){if(delete e[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||S.style(t,r)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(f))for(r in p&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=g&&g.display)&&(u=J.get(t,"display")),"none"===(c=S.css(t,"display"))&&(u?c=u:(dt([t],!0),u=t.style.display||u,c=S.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===S.css(t,"float")&&(l||(h.done(function(){d.display=u}),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(t,"fxshow",{display:u}),i&&(g.hidden=!m),m&&dt([t],!0),h.done(function(){for(r in m||dt([t]),J.remove(t,"fxshow"),f)S.style(t,r,f[r])})),l=de(m?g[r]:0,r,h),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?me.prefilters.unshift(t):me.prefilters.push(t)}}),S.speed=function(t,e,n){var r=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var o=S.isEmptyObject(t),i=S.speed(e,n,r),a=function(){var e=me(this,S.extend({},t),i);(o||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",i=S.timers,a=J.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ce.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),e=!1,i.splice(o,1));!e&&n||S.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),r=n[t+"queue"],o=n[t+"queueHooks"],i=S.timers,a=r?r.length:0;for(n.finish=!0,S.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),S.each(["toggle","show","hide"],function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(fe(e,!0),t,r,o)}}),S.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),se=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){le||(le=!0,pe())},S.fx.stop=function(){le=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var o=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(o)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,ve=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return U(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===t.getAttribute?S.prop(t,e,n):(1===i&&S.isXMLDoc(t)||(o=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(r=o.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&I(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,o=e&&e.match(N);if(o&&1===t.nodeType)for(;n=o[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ve[e]||S.find.attr;ve[e]=function(t,e,r){var o,i,a=e.toLowerCase();return r||(i=ve[a],ve[a]=o,o=null!=n(t,e,r)?a:null,ve[a]=i),o}});var ye=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;function _e(t){return(t.match(N)||[]).join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}S.fn.extend({prop:function(t,e){return U(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&S.isXMLDoc(t)||(e=S.propFix[e]||e,o=S.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:t[e]=n:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,l=0;if(y(t))return this.each(function(e){S(this).addClass(t.call(this,e,xe(this)))});if((e=we(t)).length)for(;n=this[l++];)if(o=xe(n),r=1===n.nodeType&&" "+_e(o)+" "){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=_e(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,l=0;if(y(t))return this.each(function(e){S(this).removeClass(t.call(this,e,xe(this)))});if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;n=this[l++];)if(o=xe(n),r=1===n.nodeType&&" "+_e(o)+" "){for(a=0;i=e[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=_e(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){S(this).toggleClass(t.call(this,n,xe(this),e),e)}):this.each(function(){var e,o,i,a;if(r)for(o=0,i=S(this),a=we(t);e=a[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=xe(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+_e(xe(n))+" ").indexOf(e)>-1)return!0;return!1}});var Se=/\r/g;S.fn.extend({val:function(t){var e,n,r,o=this[0];return arguments.length?(r=y(t),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?t.call(this,n,S(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=S.map(o,function(t){return null==t?"":t+""})),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=S.valHooks[o.type]||S.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(Se,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:_e(S.text(t))}},select:{get:function(t){var e,n,r,o=t.options,i=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?i+1:o.length;for(r=i<0?l:a?i:0;r<l;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(e=S(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,o=t.options,i=S.makeArray(e),a=o.length;a--;)((r=o[a]).selected=S.inArray(S.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var Ce=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,r,o){var i,s,l,u,c,p,h,f,m=[r||a],g=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(s=f=l=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!Ce.test(g+S.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[S.expando]?t:new S.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:S.makeArray(e,[t]),h=S.event.special[g]||{},o||!h.trigger||!1!==h.trigger.apply(r,e))){if(!o&&!h.noBubble&&!b(r)){for(u=h.delegateType||g,Ce.test(u+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(r.ownerDocument||a)&&m.push(l.defaultView||l.parentWindow||n)}for(i=0;(s=m[i++])&&!t.isPropagationStopped();)f=s,t.type=i>1?u:h.bindType||g,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,e),(p=c&&s[c])&&p.apply&&X(s)&&(t.result=p.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),e)||!X(r)||c&&y(r[g])&&!b(r)&&((l=r[c])&&(r[c]=null),S.event.triggered=g,t.isPropagationStopped()&&f.addEventListener(g,Te),r[g](),t.isPropagationStopped()&&f.removeEventListener(g,Te),S.event.triggered=void 0,l&&(r[c]=l)),t.result}},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(r,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var r=this.ownerDocument||this,o=J.access(r,e);o||r.addEventListener(t,n,!0),J.access(r,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=J.access(r,e)-1;o?J.access(r,e,o):(r.removeEventListener(t,n,!0),J.remove(r,e))}}});var ke=n.location,Oe=Date.now(),Ee=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var Me=/\[\]$/,Ie=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function De(t,e,n,r){var o;if(Array.isArray(e))S.each(e,function(e,o){n||Me.test(t)?r(t,o):De(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,r)});else if(n||"object"!==w(e))r(t,e);else for(o in e)De(t+"["+o+"]",e[o],n,r)}S.param=function(t,e){var n,r=[],o=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){o(this.name,this.value)});else for(n in t)De(n,t[n],e,o);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Pe.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!mt.test(t))}).map(function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:n.replace(Ie,"\r\n")}}).get()}});var Re=/%20/g,Fe=/#.*$/,ze=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Le=/^\/\//,Be={},He={},Ve="*/".concat("*"),We=a.createElement("a");function Ge(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,o=0,i=e.toLowerCase().match(N)||[];if(y(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ue(t,e,n,r){var o={},i=t===He;function a(s){var l;return o[s]=!0,S.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||i||o[u]?i?!(l=u):void 0:(e.dataTypes.unshift(u),a(u),!1)}),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function qe(t,e){var n,r,o=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&S.extend(!0,t,r),t}We.href=ke.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ve,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,S.ajaxSettings),e):qe(S.ajaxSettings,t)},ajaxPrefilter:Ge(Be),ajaxTransport:Ge(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,i,s,l,u,c,p,h,f,d=S.ajaxSetup({},e),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?S(m):S.event,v=S.Deferred(),y=S.Callbacks("once memory"),b=d.statusCode||{},_={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=je.exec(i);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),T(0,e),this}};if(v.promise(C),d.url=((t||d.url||ke.href)+"").replace(Le,ke.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(N)||[""],null==d.crossDomain){u=a.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=We.protocol+"//"+We.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),Ue(Be,d,e,C),c)return C;for(h in(p=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ne.test(d.type),o=d.url.replace(Fe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Re,"+")):(f=d.url.slice(o.length),d.data&&(d.processData||"string"==typeof d.data)&&(o+=(Ee.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(ze,"$1"),f=(Ee.test(o)?"&":"?")+"_="+Oe+++f),d.url=o+f),d.ifModified&&(S.lastModified[o]&&C.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&C.setRequestHeader("If-None-Match",S.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ve+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(m,C,d)||c))return C.abort();if(w="abort",y.add(d.complete),C.done(d.success),C.fail(d.error),r=Ue(He,d,e,C)){if(C.readyState=1,p&&g.trigger("ajaxSend",[C,d]),c)return C;d.async&&d.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{c=!1,r.send(_,T)}catch(t){if(c)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,a,s){var u,h,f,_,x,w=e;c||(c=!0,l&&n.clearTimeout(l),r=void 0,i=s||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,a&&(_=function(t,e,n){for(var r,o,i,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}(d,C,a)),_=function(t,e,n,r){var o,i,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(i=c.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+i}}}return{state:"success",data:e}}(d,_,C,u),u?(d.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(S.etag[o]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=_.state,h=_.data,u=!(f=_.error))):(f=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",u?v.resolveWith(m,[h,w,C]):v.rejectWith(m,[C,w,f]),C.statusCode(b),b=void 0,p&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,d,u?h:f]),y.fireWith(m,[C,w]),p&&(g.trigger("ajaxComplete",[C,d]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,e){S[e]=function(t,n,r,o){return y(n)&&(o=o||r,r=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:o,data:n,success:r},S.isPlainObject(t)&&t))}}),S._evalUrl=function(t,e){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){S(this).wrapInner(t.call(this,e))}):this.each(function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){S(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ke={0:200,1223:204},Ze=S.ajaxSettings.xhr();v.cors=!!Ze&&"withCredentials"in Ze,v.ajax=Ze=!!Ze,S.ajaxTransport(function(t){var e,r;if(v.cors||Ze&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ke[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ye,Xe=[],$e=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Xe.pop()||S.expando+"_"+Oe++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,r){var o,i,a,s=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace($e,"$1"+o):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||S.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?S(n).removeProp(o):n[o]=i,t[o]&&(t.jsonpCallback=e.jsonpCallback,Xe.push(o)),a&&y(i)&&i(a[0]),a=i=void 0}),"script"}),v.createHTMLDocument=((Ye=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=!n&&[],(o=A.exec(t))?[e.createElement(o[1])]:(o=Ct([t],e,i),i&&i.length&&S(i).remove(),S.merge([],o.childNodes)));var r,o,i},S.fn.load=function(t,e,n){var r,o,i,a=this,s=t.indexOf(" ");return s>-1&&(r=_e(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&S.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){i=arguments,a.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,i||[t.responseText,e,t])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(t,e,n){var r,o,i,a,s,l,u=S.css(t,"position"),c=S(t),p={};"static"===u&&(t.style.position="relative"),s=c.offset(),i=S.css(t,"top"),l=S.css(t,"left"),("absolute"===u||"fixed"===u)&&(i+l).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),y(e)&&(e=e.call(t,n,S.extend({},s))),null!=e.top&&(p.top=e.top-s.top+a),null!=e.left&&(p.left=e.left-s.left+o),"using"in e?e.using.call(t,p):c.css(p)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],o={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((o=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),o.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-S.css(r,"marginTop",!0),left:e.left-o.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||at})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return U(this,function(t,r,o){var i;if(b(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===o)return i?i[e]:t[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o},t,r,arguments.length)}}),S.each(["top","left"],function(t,e){S.cssHooks[e]=Zt(v.pixelPosition,function(t,n){if(n)return n=Kt(t,e),Gt.test(n)?S(t).position()[e]+"px":n})}),S.each({Height:"height",Width:"width"},function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){S.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return U(this,function(e,n,o){var i;return b(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?S.css(e,n,s):S.style(e,n,o,s)},e,a?o:void 0,a)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),S.proxy=function(t,e){var n,r,o;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=l.call(arguments,2),(o=function(){return t.apply(e||this,r.concat(l.call(arguments)))}).guid=t.guid=t.guid||S.guid++,o},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=I,S.isFunction=y,S.isWindow=b,S.camelCase=Y,S.type=w,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return S}.apply(e,[]))||(t.exports=r);var Je=n.jQuery,Qe=n.$;return S.noConflict=function(t){return n.$===S&&(n.$=Qe),t&&n.jQuery===S&&(n.jQuery=Je),S},o||(n.jQuery=n.$=S),S})},function(t,e,n){e.glMatrix=n(2),e.mat2=n(14),e.mat2d=n(15),e.mat3=n(3),e.mat4=n(16),e.quat=n(17),e.vec2=n(18),e.vec3=n(4),e.vec4=n(5)},function(t,e){var n={EPSILON:1e-6};n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){var r=n(2),o={create:function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},fromValues:function(t,e,n,o,i,a,s,l,u){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=o,c[4]=i,c[5]=a,c[6]=s,c[7]=l,c[8]=u,c},set:function(t,e,n,r,o,i,a,s,l,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=c*a-s*u,h=-c*i+s*l,f=u*i-a*l,d=n*p+r*h+o*f;return d?(d=1/d,t[0]=p*d,t[1]=(-c*r+o*u)*d,t[2]=(s*r-o*a)*d,t[3]=h*d,t[4]=(c*n-o*l)*d,t[5]=(-s*n+o*i)*d,t[6]=f*d,t[7]=(-u*n+r*l)*d,t[8]=(a*n-r*i)*d,t):null},adjoint:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-s*u,t[1]=o*u-r*c,t[2]=r*s-o*a,t[3]=s*l-i*c,t[4]=n*c-o*l,t[5]=o*i-n*s,t[6]=i*u-a*l,t[7]=r*l-n*u,t[8]=n*a-r*i,t},determinant:function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*(u*i-a*l)+n*(-u*o+a*s)+r*(l*o-i*s)},multiply:function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=n[0],f=n[1],d=n[2],m=n[3],g=n[4],v=n[5],y=n[6],b=n[7],_=n[8];return t[0]=h*r+f*a+d*u,t[1]=h*o+f*s+d*c,t[2]=h*i+f*l+d*p,t[3]=m*r+g*a+v*u,t[4]=m*o+g*s+v*c,t[5]=m*i+g*l+v*p,t[6]=y*r+b*a+_*u,t[7]=y*o+b*s+_*c,t[8]=y*i+b*l+_*p,t}};o.mul=o.multiply,o.translate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=n[0],f=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=h*r+f*a+u,t[7]=h*o+f*s+c,t[8]=h*i+f*l+p,t},o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=Math.sin(n),f=Math.cos(n);return t[0]=f*r+h*a,t[1]=f*o+h*s,t[2]=f*i+h*l,t[3]=f*a-h*r,t[4]=f*s-h*o,t[5]=f*l-h*i,t[6]=u,t[7]=c,t[8]=p,t},o.scale=function(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},o.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,p=r*s,h=o*a,f=o*s,d=o*l,m=i*a,g=i*s,v=i*l;return t[0]=1-p-d,t[3]=c-v,t[6]=h+g,t[1]=c+v,t[4]=1-u-d,t[7]=f-m,t[2]=h-g,t[5]=f+m,t[8]=1-u-p,t},o.normalFromMat4=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],f=e[11],d=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,w=r*u-i*s,S=o*u-i*l,C=c*m-p*d,T=c*g-h*d,k=c*v-f*d,O=p*g-h*m,E=p*v-f*m,M=h*v-f*g,I=y*M-b*E+_*O+x*k-w*T+S*C;return I?(I=1/I,t[0]=(s*M-l*E+u*O)*I,t[1]=(l*k-a*M-u*T)*I,t[2]=(a*E-s*k+u*C)*I,t[3]=(o*E-r*M-i*O)*I,t[4]=(n*M-o*k+i*T)*I,t[5]=(r*k-n*E-i*C)*I,t[6]=(m*S-g*w+v*x)*I,t[7]=(g*_-d*S-v*b)*I,t[8]=(d*w-m*_+v*y)*I,t):null},o.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=e[0],f=e[1],d=e[2],m=e[3],g=e[4],v=e[5],y=t[6],b=e[7],_=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(p-_)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(_))},t.exports=o},function(t,e,n){var r,o=n(2),i={create:function(){var t=new o.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new o.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,n){var r=new o.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2];return t[0]=o*l-i*s,t[1]=i*a-r*l,t[2]=r*s-o*a,t},i.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,o,i){var a=i*i,s=a*(2*i-3)+1,l=a*(i-2)+i,u=a*(i-1),c=a*(3-2*i);return t[0]=e[0]*s+n[0]*l+r[0]*u+o[0]*c,t[1]=e[1]*s+n[1]*l+r[1]*u+o[1]*c,t[2]=e[2]*s+n[2]*l+r[2]*u+o[2]*c,t},i.bezier=function(t,e,n,r,o,i){var a=1-i,s=a*a,l=i*i,u=s*a,c=3*i*s,p=3*l*a,h=l*i;return t[0]=e[0]*u+n[0]*c+r[0]*p+o[0]*h,t[1]=e[1]*u+n[1]*c+r[1]*p+o[1]*h,t[2]=e[2]*u+n[2]*c+r[2]*p+o[2]*h,t},i.random=function(t,e){e=e||1;var n=2*o.RANDOM()*Math.PI,r=2*o.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},i.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,p=u*o+l*r-a*i,h=u*i+a*o-s*r,f=-a*r-s*o-l*i;return t[0]=c*u+f*-a+p*-l-h*-s,t[1]=p*u+f*-s+h*-a-c*-l,t[2]=h*u+f*-l+c*-s-p*-a,t},i.rotateX=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},i.rotateY=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},i.rotateZ=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},i.forEach=(r=i.create(),function(t,e,n,o,i,a){var s,l;for(e||(e=3),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2];return t}),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],s=e[1],l=e[2];return Math.abs(n-a)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))},t.exports=i},function(t,e,n){var r,o=n(2),i={create:function(){var t=new o.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new o.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,r){var i=new o.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=o.RANDOM(),t[1]=o.RANDOM(),t[2]=o.RANDOM(),t[3]=o.RANDOM(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t},i.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*i-l*o,p=u*o+l*r-a*i,h=u*i+a*o-s*r,f=-a*r-s*o-l*i;return t[0]=c*u+f*-a+p*-l-h*-s,t[1]=p*u+f*-s+h*-a-c*-l,t[2]=h*u+f*-l+c*-s-p*-a,t[3]=e[3],t},i.forEach=(r=i.create(),function(t,e,n,o,i,a){var s,l;for(e||(e=4),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],r[2]=t[s+2],r[3]=t[s+3],i(r,r,a),t[s]=r[0],t[s+1]=r[1],t[s+2]=r[2],t[s+3]=r[3];return t}),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},i.equals=function(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-l)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-u)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},t.exports=i},function(t,e,n){t.exports=function(){return n(11)('!function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)t.d(e,o,function(r){return n[r]}.bind(null,o));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=4)}([function(n,r,t){n.exports={hcluster:t(5),Kmeans:t(3),kmeans:t(3).kmeans}},function(n,r,t){var e;n.exports=(function(n,r){var t=n.utils.isFunction;function e(n,r){return n-r}function o(n,t,e){return r.max(t,r.min(n,e))}n.sum=function(n){for(var r=0,t=n.length;--t>=0;)r+=n[t];return r},n.sumsqrd=function(n){for(var r=0,t=n.length;--t>=0;)r+=n[t]*n[t];return r},n.sumsqerr=function(r){for(var t,e=n.mean(r),o=0,i=r.length;--i>=0;)o+=(t=r[i]-e)*t;return o},n.sumrow=function(n){for(var r=0,t=n.length;--t>=0;)r+=n[t];return r},n.product=function(n){for(var r=1,t=n.length;--t>=0;)r*=n[t];return r},n.min=function(n){for(var r=n[0],t=0;++t<n.length;)n[t]<r&&(r=n[t]);return r},n.max=function(n){for(var r=n[0],t=0;++t<n.length;)n[t]>r&&(r=n[t]);return r},n.unique=function(n){for(var r={},t=[],e=0;e<n.length;e++)r[n[e]]||(r[n[e]]=!0,t.push(n[e]));return t},n.mean=function(r){return n.sum(r)/r.length},n.meansqerr=function(r){return n.sumsqerr(r)/r.length},n.geomean=function(t){return r.pow(n.product(t),1/t.length)},n.median=function(n){var r=n.length,t=n.slice().sort(e);return 1&r?t[r/2|0]:(t[r/2-1]+t[r/2])/2},n.cumsum=function(r){return n.cumreduce(r,(function(n,r){return n+r}))},n.cumprod=function(r){return n.cumreduce(r,(function(n,r){return n*r}))},n.diff=function(n){var r,t=[],e=n.length;for(r=1;r<e;r++)t.push(n[r]-n[r-1]);return t},n.rank=function(n){for(var r,t=n.length,o=n.slice().sort(e),i=new Array(t),a=0;a<t;a++){var u=o.indexOf(n[a]),f=o.lastIndexOf(n[a]);r=u===f?u:(u+f)/2,i[a]=r+1}return i},n.mode=function(n){var r,t=n.length,o=n.slice().sort(e),i=1,a=0,u=0,f=[];for(r=0;r<t;r++)o[r]===o[r+1]?i++:(i>a?(f=[o[r]],a=i,u=0):i===a&&(f.push(o[r]),u++),i=1);return 0===u?f[0]:f},n.range=function(r){return n.max(r)-n.min(r)},n.variance=function(r,t){return n.sumsqerr(r)/(r.length-(t?1:0))},n.pooledvariance=function(r){return r.reduce((function(r,t){return r+n.sumsqerr(t)}),0)/(r.reduce((function(n,r){return n+r.length}),0)-r.length)},n.deviation=function(r){for(var t=n.mean(r),e=r.length,o=new Array(e),i=0;i<e;i++)o[i]=r[i]-t;return o},n.stdev=function(t,e){return r.sqrt(n.variance(t,e))},n.pooledstdev=function(t){return r.sqrt(n.pooledvariance(t))},n.meandev=function(t){for(var e=n.mean(t),o=[],i=t.length-1;i>=0;i--)o.push(r.abs(t[i]-e));return n.mean(o)},n.meddev=function(t){for(var e=n.median(t),o=[],i=t.length-1;i>=0;i--)o.push(r.abs(t[i]-e));return n.median(o)},n.coeffvar=function(r){return n.stdev(r)/n.mean(r)},n.quartiles=function(n){var t=n.length,o=n.slice().sort(e);return[o[r.round(t/4)-1],o[r.round(t/2)-1],o[r.round(3*t/4)-1]]},n.quantiles=function(n,t,i,a){var u,f,s,c,l,m=n.slice().sort(e),d=[t.length],h=n.length;for(void 0===i&&(i=3/8),void 0===a&&(a=3/8),u=0;u<t.length;u++)s=h*(f=t[u])+(i+f*(1-i-a)),c=r.floor(o(s,1,h-1)),l=o(s-c,0,1),d[u]=(1-l)*m[c-1]+l*m[c];return d},n.percentile=function(n,r,t){var o=n.slice().sort(e),i=r*(o.length+(t?1:-1))+(t?0:1),a=parseInt(i),u=i-a;return a+1<o.length?o[a-1]+u*(o[a]-o[a-1]):o[a-1]},n.percentileOfScore=function(n,r,t){var e,o,i=0,a=n.length,u=!1;for("strict"===t&&(u=!0),o=0;o<a;o++)e=n[o],(u&&e<r||!u&&e<=r)&&i++;return i/a},n.histogram=function(t,e){e=e||4;var o,i=n.min(t),a=(n.max(t)-i)/e,u=t.length,f=[];for(o=0;o<e;o++)f[o]=0;for(o=0;o<u;o++)f[r.min(r.floor((t[o]-i)/a),e-1)]+=1;return f},n.covariance=function(r,t){var e,o=n.mean(r),i=n.mean(t),a=r.length,u=new Array(a);for(e=0;e<a;e++)u[e]=(r[e]-o)*(t[e]-i);return n.sum(u)/(a-1)},n.corrcoeff=function(r,t){return n.covariance(r,t)/n.stdev(r,1)/n.stdev(t,1)},n.spearmancoeff=function(r,t){return r=n.rank(r),t=n.rank(t),n.corrcoeff(r,t)},n.stanMoment=function(t,e){for(var o=n.mean(t),i=n.stdev(t),a=t.length,u=0,f=0;f<a;f++)u+=r.pow((t[f]-o)/i,e);return u/t.length},n.skewness=function(r){return n.stanMoment(r,3)},n.kurtosis=function(r){return n.stanMoment(r,4)-3};var i=n.prototype;!function(r){for(var e=0;e<r.length;e++)!function(r){i[r]=function(e,o){var a=[],u=0,f=this;if(t(e)&&(o=e,e=!1),o)return setTimeout((function(){o.call(f,i[r].call(f,e))})),this;if(this.length>1){for(f=!0===e?this:this.transpose();u<f.length;u++)a[u]=n[r](f[u]);return a}return n[r](this[0],e)}}(r[e])}("cumsum cumprod".split(" ")),function(r){for(var e=0;e<r.length;e++)!function(r){i[r]=function(e,o){var a=[],u=0,f=this;if(t(e)&&(o=e,e=!1),o)return setTimeout((function(){o.call(f,i[r].call(f,e))})),this;if(this.length>1){for("sumrow"!==r&&(f=!0===e?this:this.transpose());u<f.length;u++)a[u]=n[r](f[u]);return!0===e?n[r](n.utils.toVector(a)):a}return n[r](this[0],e)}}(r[e])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(r){for(var e=0;e<r.length;e++)!function(r){i[r]=function(){var e,o=[],a=0,u=this,f=Array.prototype.slice.call(arguments);if(t(f[f.length-1])){e=f[f.length-1];var s=f.slice(0,f.length-1);return setTimeout((function(){e.call(u,i[r].apply(u,s))})),this}e=void 0;var c=function(t){return n[r].apply(u,[t].concat(f))};if(this.length>1){for(u=u.transpose();a<u.length;a++)o[a]=c(u[a]);return o}return c(this[0])}}(r[e])}("quantiles percentileOfScore".split(" "))}(e=function(n,r){var t=Array.prototype.concat,e=Array.prototype.slice,o=Object.prototype.toString;function i(r,t){var e=r>t?r:t;return n.pow(10,17-~~(n.log(e>0?e:-e)*n.LOG10E))}var a=Array.isArray||function(n){return"[object Array]"===o.call(n)};function u(n){return"[object Function]"===o.call(n)}function f(n){return"number"==typeof n&&n==n}function s(){return new s._init(arguments)}function c(){return 0}function l(){return 1}function m(n,r){return n===r?1:0}s.fn=s.prototype,s._init=function(n){if(a(n[0]))if(a(n[0][0])){u(n[1])&&(n[0]=s.map(n[0],n[1]));for(var r=0;r<n[0].length;r++)this[r]=n[0][r];this.length=n[0].length}else this[0]=u(n[1])?s.map(n[0],n[1]):n[0],this.length=1;else if(f(n[0]))this[0]=s.seq.apply(null,n),this.length=1;else{if(n[0]instanceof s)return s(n[0].toArray());this[0]=[],this.length=1}return this},s._init.prototype=s.prototype,s._init.constructor=s,s.utils={calcRdx:i,isArray:a,isFunction:u,isNumber:f,toVector:function(n){return t.apply([],n)}},s._random_fn=n.random,s.setRandom=function(n){if("function"!=typeof n)throw new TypeError("fn is not a function");s._random_fn=n},s.extend=function(n){var r,t;if(1===arguments.length){for(t in n)s[t]=n[t];return this}for(r=1;r<arguments.length;r++)for(t in arguments[r])n[t]=arguments[r][t];return n},s.rows=function(n){return n.length||1},s.cols=function(n){return n[0].length||1},s.dimensions=function(n){return{rows:s.rows(n),cols:s.cols(n)}},s.row=function(n,r){return a(r)?r.map((function(r){return s.row(n,r)})):n[r]},s.rowa=function(n,r){return s.row(n,r)},s.col=function(n,r){if(a(r)){var t=s.arange(n.length).map((function(){return new Array(r.length)}));return r.forEach((function(r,e){s.arange(n.length).forEach((function(o){t[o][e]=n[o][r]}))})),t}for(var e=new Array(n.length),o=0;o<n.length;o++)e[o]=[n[o][r]];return e},s.cola=function(n,r){return s.col(n,r).map((function(n){return n[0]}))},s.diag=function(n){for(var r=s.rows(n),t=new Array(r),e=0;e<r;e++)t[e]=[n[e][e]];return t},s.antidiag=function(n){for(var r=s.rows(n)-1,t=new Array(r),e=0;r>=0;r--,e++)t[e]=[n[e][r]];return t},s.transpose=function(n){var r,t,e,o,i,u=[];for(a(n[0])||(n=[n]),t=n.length,e=n[0].length,i=0;i<e;i++){for(r=new Array(t),o=0;o<t;o++)r[o]=n[o][i];u.push(r)}return 1===u.length?u[0]:u},s.map=function(n,r,t){var e,o,i,u,f;for(a(n[0])||(n=[n]),o=n.length,i=n[0].length,u=t?n:new Array(o),e=0;e<o;e++)for(u[e]||(u[e]=new Array(i)),f=0;f<i;f++)u[e][f]=r(n[e][f],e,f);return 1===u.length?u[0]:u},s.cumreduce=function(n,r,t){var e,o,i,u,f;for(a(n[0])||(n=[n]),o=n.length,i=n[0].length,u=t?n:new Array(o),e=0;e<o;e++)for(u[e]||(u[e]=new Array(i)),i>0&&(u[e][0]=n[e][0]),f=1;f<i;f++)u[e][f]=r(u[e][f-1],n[e][f]);return 1===u.length?u[0]:u},s.alter=function(n,r){return s.map(n,r,!0)},s.create=function(n,r,t){var e,o,i=new Array(n);for(u(r)&&(t=r,r=n),e=0;e<n;e++)for(i[e]=new Array(r),o=0;o<r;o++)i[e][o]=t(e,o);return i},s.zeros=function(n,r){return f(r)||(r=n),s.create(n,r,c)},s.ones=function(n,r){return f(r)||(r=n),s.create(n,r,l)},s.rand=function(n,r){return f(r)||(r=n),s.create(n,r,s._random_fn)},s.identity=function(n,r){return f(r)||(r=n),s.create(n,r,m)},s.symmetric=function(n){var r,t,e=n.length;if(n.length!==n[0].length)return!1;for(r=0;r<e;r++)for(t=0;t<e;t++)if(n[t][r]!==n[r][t])return!1;return!0},s.clear=function(n){return s.alter(n,c)},s.seq=function(n,r,t,e){u(e)||(e=!1);var o,a=[],f=i(n,r),s=(r*f-n*f)/((t-1)*f),c=n;for(o=0;c<=r&&o<t;c=(n*f+s*f*++o)/f)a.push(e?e(c,o):c);return a},s.arange=function(n,t,e){var o,i=[];if(e=e||1,t===r&&(t=n,n=0),n===t||0===e)return[];if(n<t&&e<0)return[];if(n>t&&e>0)return[];if(e>0)for(o=n;o<t;o+=e)i.push(o);else for(o=n;o>t;o+=e)i.push(o);return i},s.slice=function(){function n(n,t,e,o){var i,a=[],u=n.length;if(t===r&&e===r&&o===r)return s.copy(n);if(o=o||1,(t=(t=t||0)>=0?t:u+t)===(e=(e=e||n.length)>=0?e:u+e)||0===o)return[];if(t<e&&o<0)return[];if(t>e&&o>0)return[];if(o>0)for(i=t;i<e;i+=o)a.push(n[i]);else for(i=t;i>e;i+=o)a.push(n[i]);return a}return function(r,t){var e,o;return f((t=t||{}).row)?f(t.col)?r[t.row][t.col]:n(s.rowa(r,t.row),(e=t.col||{}).start,e.end,e.step):f(t.col)?n(s.cola(r,t.col),(o=t.row||{}).start,o.end,o.step):(o=t.row||{},e=t.col||{},n(r,o.start,o.end,o.step).map((function(r){return n(r,e.start,e.end,e.step)})))}}(),s.sliceAssign=function(t,e,o){var i,a;if(f(e.row)){if(f(e.col))return t[e.row][e.col]=o;e.col=e.col||{},e.col.start=e.col.start||0,e.col.end=e.col.end||t[0].length,e.col.step=e.col.step||1,i=s.arange(e.col.start,n.min(t.length,e.col.end),e.col.step);var u=e.row;return i.forEach((function(n,r){t[u][n]=o[r]})),t}if(f(e.col)){e.row=e.row||{},e.row.start=e.row.start||0,e.row.end=e.row.end||t.length,e.row.step=e.row.step||1,a=s.arange(e.row.start,n.min(t[0].length,e.row.end),e.row.step);var c=e.col;return a.forEach((function(n,r){t[n][c]=o[r]})),t}return o[0].length===r&&(o=[o]),e.row.start=e.row.start||0,e.row.end=e.row.end||t.length,e.row.step=e.row.step||1,e.col.start=e.col.start||0,e.col.end=e.col.end||t[0].length,e.col.step=e.col.step||1,a=s.arange(e.row.start,n.min(t.length,e.row.end),e.row.step),i=s.arange(e.col.start,n.min(t[0].length,e.col.end),e.col.step),a.forEach((function(n,r){i.forEach((function(e,i){t[n][e]=o[r][i]}))})),t},s.diagonal=function(n){var r=s.zeros(n.length,n.length);return n.forEach((function(n,t){r[t][t]=n})),r},s.copy=function(n){return n.map((function(n){return f(n)?n:n.map((function(n){return n}))}))};var d=s.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?e.call(this):e.call(this)[0]},d.map=function(n,r){return s(s.map(this,n,r))},d.cumreduce=function(n,r){return s(s.cumreduce(this,n,r))},d.alter=function(n){return s.alter(this,n),this},function(n){for(var r=0;r<n.length;r++)!function(n){d[n]=function(r){var t,e=this;return r?(setTimeout((function(){r.call(e,d[n].call(e))})),this):(t=s[n](this),a(t)?s(t):t)}}(n[r])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){d[n]=function(r,t){var e=this;return t?(setTimeout((function(){t.call(e,d[n].call(e,r))})),this):s(s[n](this,r))}}(n[r])}("row col".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){d[n]=function(){return s(s[n].apply(null,arguments))}}(n[r])}("create zeros ones rand identity".split(" ")),s}(Math),Math),function(n,r){n.gammaln=function(n){var t,e,o,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(o=(e=t=n)+5.5,o-=(t+.5)*r.log(o);i<6;i++)u+=a[i]/++e;return r.log(2.5066282746310007*u/t)-o},n.loggam=function(n){var t,e,o,i,a,u,f,s=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(t=n,f=0,1==n||2==n)return 0;for(n<=7&&(t=n+(f=r.floor(7-n))),e=1/(t*t),o=2*r.PI,a=s[9],u=8;u>=0;u--)a*=e,a+=s[u];if(i=a/t+.5*r.log(o)+(t-.5)*r.log(t)-t,n<=7)for(u=1;u<=f;u++)i-=r.log(t-1),t-=1;return i},n.gammafn=function(n){var t,e,o,i,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],f=!1,s=0,c=0,l=0,m=n;if(m<=0){if(!(i=m%1+36e-17))return 1/0;f=(1&m?-1:1)*r.PI/r.sin(r.PI*i),m=1-m}for(o=m,e=m<1?m++:(m-=s=(0|m)-1)-1,t=0;t<8;++t)l=(l+a[t])*e,c=c*e+u[t];if(i=l/c+1,o<m)i/=o;else if(o>m)for(t=0;t<s;++t)i*=m,m++;return f&&(i=f/i),i},n.gammap=function(r,t){return n.lowRegGamma(r,t)*n.gammafn(r)},n.lowRegGamma=function(t,e){var o,i=n.gammaln(t),a=t,u=1/t,f=u,s=e+1-t,c=1/1e-30,l=1/s,m=l,d=1,h=-~(8.5*r.log(t>=1?t:1/t)+.4*t+17);if(e<0||t<=0)return NaN;if(e<t+1){for(;d<=h;d++)u+=f*=e/++a;return u*r.exp(-e+t*r.log(e)-i)}for(;d<=h;d++)m*=(l=1/(l=(o=-d*(d-t))*l+(s+=2)))*(c=s+o/c);return 1-m*r.exp(-e+t*r.log(e)-i)},n.factorialln=function(r){return r<0?NaN:n.gammaln(r+1)},n.factorial=function(r){return r<0?NaN:n.gammafn(r+1)},n.combination=function(t,e){return t>170||e>170?r.exp(n.combinationln(t,e)):n.factorial(t)/n.factorial(e)/n.factorial(t-e)},n.combinationln=function(r,t){return n.factorialln(r)-n.factorialln(t)-n.factorialln(r-t)},n.permutation=function(r,t){return n.factorial(r)/n.factorial(r-t)},n.betafn=function(t,e){if(!(t<=0||e<=0))return t+e>170?r.exp(n.betaln(t,e)):n.gammafn(t)*n.gammafn(e)/n.gammafn(t+e)},n.betaln=function(r,t){return n.gammaln(r)+n.gammaln(t)-n.gammaln(r+t)},n.betacf=function(n,t,e){var o,i,a,u,f=1,s=t+e,c=t+1,l=t-1,m=1,d=1-s*n/c;for(r.abs(d)<1e-30&&(d=1e-30),u=d=1/d;f<=100&&(d=1+(i=f*(e-f)*n/((l+(o=2*f))*(t+o)))*d,r.abs(d)<1e-30&&(d=1e-30),m=1+i/m,r.abs(m)<1e-30&&(m=1e-30),u*=(d=1/d)*m,d=1+(i=-(t+f)*(s+f)*n/((t+o)*(c+o)))*d,r.abs(d)<1e-30&&(d=1e-30),m=1+i/m,r.abs(m)<1e-30&&(m=1e-30),u*=a=(d=1/d)*m,!(r.abs(a-1)<3e-7));f++);return u},n.gammapinv=function(t,e){var o,i,a,u,f,s,c=0,l=e-1,m=n.gammaln(e);if(t>=1)return r.max(100,e+100*r.sqrt(e));if(t<=0)return 0;for(e>1?(f=r.log(l),s=r.exp(l*(f-1)-m),u=t<.5?t:1-t,o=(2.30753+.27061*(i=r.sqrt(-2*r.log(u))))/(1+i*(.99229+.04481*i))-i,t<.5&&(o=-o),o=r.max(.001,e*r.pow(1-1/(9*e)-o/(3*r.sqrt(e)),3))):o=t<(i=1-e*(.253+.12*e))?r.pow(t/i,1/e):1-r.log(1-(t-i)/(1-i));c<12;c++){if(o<=0)return 0;if((o-=i=(a=(n.lowRegGamma(e,o)-t)/(i=e>1?s*r.exp(-(o-l)+l*(r.log(o)-f)):r.exp(-o+l*r.log(o)-m)))/(1-.5*r.min(1,a*((e-1)/o-1))))<=0&&(o=.5*(o+i)),r.abs(i)<1e-8*o)break}return o},n.erf=function(n){var t,e,o,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],u=a.length-1,f=!1,s=0,c=0;for(n<0&&(n=-n,f=!0),e=4*(t=2/(2+n))-2;u>0;u--)o=s,s=e*s-c+a[u],c=o;return i=t*r.exp(-n*n+.5*(a[0]+e*s)-c),f?i-1:1-i},n.erfc=function(r){return 1-n.erf(r)},n.erfcinv=function(t){var e,o,i,a,u=0;if(t>=2)return-100;if(t<=0)return 100;for(a=t<1?t:2-t,e=-.70711*((2.30753+.27061*(i=r.sqrt(-2*r.log(a/2))))/(1+i*(.99229+.04481*i))-i);u<2;u++)e+=(o=n.erfc(e)-a)/(1.1283791670955126*r.exp(-e*e)-e*o);return t<1?e:-e},n.ibetainv=function(t,e,o){var i,a,u,f,s,c,l,m,d,h,g=e-1,p=o-1,v=0;if(t<=0)return 0;if(t>=1)return 1;for(e>=1&&o>=1?(u=t<.5?t:1-t,c=(2.30753+.27061*(f=r.sqrt(-2*r.log(u))))/(1+f*(.99229+.04481*f))-f,t<.5&&(c=-c),l=(c*c-3)/6,m=2/(1/(2*e-1)+1/(2*o-1)),d=c*r.sqrt(l+m)/m-(1/(2*o-1)-1/(2*e-1))*(l+5/6-2/(3*m)),c=e/(e+o*r.exp(2*d))):(i=r.log(e/(e+o)),a=r.log(o/(e+o)),c=t<(f=r.exp(e*i)/e)/(d=f+(s=r.exp(o*a)/o))?r.pow(e*d*t,1/e):1-r.pow(o*d*(1-t),1/o)),h=-n.gammaln(e)-n.gammaln(o)+n.gammaln(e+o);v<10;v++){if(0===c||1===c)return c;if((c-=f=(s=(n.ibeta(c,e,o)-t)/(f=r.exp(g*r.log(c)+p*r.log(1-c)+h)))/(1-.5*r.min(1,s*(g/c-p/(1-c)))))<=0&&(c=.5*(c+f)),c>=1&&(c=.5*(c+f+1)),r.abs(f)<1e-8*c&&v>0)break}return c},n.ibeta=function(t,e,o){var i=0===t||1===t?0:r.exp(n.gammaln(e+o)-n.gammaln(e)-n.gammaln(o)+e*r.log(t)+o*r.log(1-t));return!(t<0||t>1)&&(t<(e+1)/(e+o+2)?i*n.betacf(t,e,o)/e:1-i*n.betacf(1-t,o,e)/o)},n.randn=function(t,e){var o,i,a,u,f;if(e||(e=t),t)return n.create(t,e,(function(){return n.randn()}));do{o=n._random_fn(),i=1.7156*(n._random_fn()-.5),f=(a=o-.449871)*a+(u=r.abs(i)+.386595)*(.196*u-.25472*a)}while(f>.27597&&(f>.27846||i*i>-4*r.log(o)*o*o));return i/o},n.randg=function(t,e,o){var i,a,u,f,s,c,l=t;if(o||(o=e),t||(t=1),e)return(c=n.zeros(e,o)).alter((function(){return n.randg(t)})),c;t<1&&(t+=1),i=t-1/3,a=1/r.sqrt(9*i);do{do{f=1+a*(s=n.randn())}while(f<=0);f*=f*f,u=n._random_fn()}while(u>1-.331*r.pow(s,4)&&r.log(u)>.5*s*s+i*(1-f+r.log(f)));if(t==l)return i*f;do{u=n._random_fn()}while(0===u);return r.pow(u,1/l)*i*f},function(r){for(var t=0;t<r.length;t++)!function(r){n.fn[r]=function(){return n(n.map(this,(function(t){return n[r](t)})))}}(r[t])}("gammaln gammafn factorial factorialln".split(" ")),function(r){for(var t=0;t<r.length;t++)!function(r){n.fn[r]=function(){return n(n[r].apply(null,arguments))}}(r[t])}("randn".split(" "))}(e,Math),function(n,r){function t(n,t,e,o){for(var i,a=0,u=1,f=1,s=1,c=0,l=0;r.abs((f-l)/f)>o;)l=f,u=s+(i=-(t+c)*(t+e+c)*n/(t+2*c)/(t+2*c+1))*u,f=(a=f+i*a)+(i=(c+=1)*(e-c)*n/(t+2*c-1)/(t+2*c))*f,a/=s=u+i*s,u/=s,f/=s,s=1;return f/t}function e(t,e,o){var i=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],a=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],u=.5*t;if(u>=8)return 1;var f,s=2*n.normal.cdf(u,0,1,1,0)-1;s=s>=r.exp(-50/o)?r.pow(s,o):0;for(var c=u,l=(8-u)/(f=t>3?2:3),m=c+l,d=0,h=o-1,g=1;g<=f;g++){for(var p=0,v=.5*(m+c),y=.5*(m-c),w=1;w<=12;w++){var x,b=v+y*(6<w?i[(x=12-w+1)-1]:-i[(x=w)-1]),q=b*b;if(q>60)break;var k=2*n.normal.cdf(b,0,1,1,0)*.5-2*n.normal.cdf(b,t,1,1,0)*.5;k>=r.exp(-30/h)&&(p+=k=a[x-1]*r.exp(-.5*q)*r.pow(k,h))}d+=p*=2*y*o/r.sqrt(2*r.PI),c=m,m+=l}return(s+=d)<=r.exp(-30/e)?0:(s=r.pow(s,e))>=1?1:s}!function(r){for(var t=0;t<r.length;t++)!function(r){n[r]=function(n,r,t){return this instanceof arguments.callee?(this._a=n,this._b=r,this._c=t,this):new arguments.callee(n,r,t)},n.fn[r]=function(t,e,o){var i=n[r](t,e,o);return i.data=this,i},n[r].prototype.sample=function(t){var e=this._a,o=this._b,i=this._c;return t?n.alter(t,(function(){return n[r].sample(e,o,i)})):n[r].sample(e,o,i)},function(t){for(var e=0;e<t.length;e++)!function(t){n[r].prototype[t]=function(e){var o=this._a,i=this._b,a=this._c;return e||0===e||(e=this.data),"number"!=typeof e?n.fn.map.call(e,(function(e){return n[r][t](e,o,i,a)})):n[r][t](e,o,i,a)}}(t[e])}("pdf cdf inv".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){n[r].prototype[t]=function(){return n[r][t](this._a,this._b,this._c)}}(t[e])}("mean median mode variance".split(" "))}(r[t])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),n.extend(n.beta,{pdf:function(t,e,o){return t>1||t<0?0:1==e&&1==o?1:e<512&&o<512?r.pow(t,e-1)*r.pow(1-t,o-1)/n.betafn(e,o):r.exp((e-1)*r.log(t)+(o-1)*r.log(1-t)-n.betaln(e,o))},cdf:function(r,t,e){return r>1||r<0?1*(r>1):n.ibeta(r,t,e)},inv:function(r,t,e){return n.ibetainv(r,t,e)},mean:function(n,r){return n/(n+r)},median:function(r,t){return n.ibetainv(.5,r,t)},mode:function(n,r){return(n-1)/(n+r-2)},sample:function(r,t){var e=n.randg(r);return e/(e+n.randg(t))},variance:function(n,t){return n*t/(r.pow(n+t,2)*(n+t+1))}}),n.extend(n.centralF,{pdf:function(t,e,o){var i;return t<0?0:e<=2?0===t&&e<2?1/0:0===t&&2===e?1:1/n.betafn(e/2,o/2)*r.pow(e/o,e/2)*r.pow(t,e/2-1)*r.pow(1+e/o*t,-(e+o)/2):(i=e*t/(o+t*e),e*(o/(o+t*e))/2*n.binomial.pdf((e-2)/2,(e+o-2)/2,i))},cdf:function(r,t,e){return r<0?0:n.ibeta(t*r/(t*r+e),t/2,e/2)},inv:function(r,t,e){return e/(t*(1/n.ibetainv(r,t/2,e/2)-1))},mean:function(n,r){return r>2?r/(r-2):void 0},mode:function(n,r){return n>2?r*(n-2)/(n*(r+2)):void 0},sample:function(r,t){return 2*n.randg(r/2)/r/(2*n.randg(t/2)/t)},variance:function(n,r){if(!(r<=4))return 2*r*r*(n+r-2)/(n*(r-2)*(r-2)*(r-4))}}),n.extend(n.cauchy,{pdf:function(n,t,e){return e<0?0:e/(r.pow(n-t,2)+r.pow(e,2))/r.PI},cdf:function(n,t,e){return r.atan((n-t)/e)/r.PI+.5},inv:function(n,t,e){return t+e*r.tan(r.PI*(n-.5))},median:function(n){return n},mode:function(n){return n},sample:function(t,e){return n.randn()*r.sqrt(1/(2*n.randg(.5)))*e+t}}),n.extend(n.chisquare,{pdf:function(t,e){return t<0?0:0===t&&2===e?.5:r.exp((e/2-1)*r.log(t)-t/2-e/2*r.log(2)-n.gammaln(e/2))},cdf:function(r,t){return r<0?0:n.lowRegGamma(t/2,r/2)},inv:function(r,t){return 2*n.gammapinv(r,.5*t)},mean:function(n){return n},median:function(n){return n*r.pow(1-2/(9*n),3)},mode:function(n){return n-2>0?n-2:0},sample:function(r){return 2*n.randg(r/2)},variance:function(n){return 2*n}}),n.extend(n.exponential,{pdf:function(n,t){return n<0?0:t*r.exp(-t*n)},cdf:function(n,t){return n<0?0:1-r.exp(-t*n)},inv:function(n,t){return-r.log(1-n)/t},mean:function(n){return 1/n},median:function(n){return 1/n*r.log(2)},mode:function(){return 0},sample:function(t){return-1/t*r.log(n._random_fn())},variance:function(n){return r.pow(n,-2)}}),n.extend(n.gamma,{pdf:function(t,e,o){return t<0?0:0===t&&1===e?1/o:r.exp((e-1)*r.log(t)-t/o-n.gammaln(e)-e*r.log(o))},cdf:function(r,t,e){return r<0?0:n.lowRegGamma(t,r/e)},inv:function(r,t,e){return n.gammapinv(r,t)*e},mean:function(n,r){return n*r},mode:function(n,r){if(n>1)return(n-1)*r},sample:function(r,t){return n.randg(r)*t},variance:function(n,r){return n*r*r}}),n.extend(n.invgamma,{pdf:function(t,e,o){return t<=0?0:r.exp(-(e+1)*r.log(t)-o/t-n.gammaln(e)+e*r.log(o))},cdf:function(r,t,e){return r<=0?0:1-n.lowRegGamma(t,e/r)},inv:function(r,t,e){return e/n.gammapinv(1-r,t)},mean:function(n,r){return n>1?r/(n-1):void 0},mode:function(n,r){return r/(n+1)},sample:function(r,t){return t/n.randg(r)},variance:function(n,r){if(!(n<=2))return r*r/((n-1)*(n-1)*(n-2))}}),n.extend(n.kumaraswamy,{pdf:function(n,t,e){return 0===n&&1===t?e:1===n&&1===e?t:r.exp(r.log(t)+r.log(e)+(t-1)*r.log(n)+(e-1)*r.log(1-r.pow(n,t)))},cdf:function(n,t,e){return n<0?0:n>1?1:1-r.pow(1-r.pow(n,t),e)},inv:function(n,t,e){return r.pow(1-r.pow(1-n,1/e),1/t)},mean:function(r,t){return t*n.gammafn(1+1/r)*n.gammafn(t)/n.gammafn(1+1/r+t)},median:function(n,t){return r.pow(1-r.pow(2,-1/t),1/n)},mode:function(n,t){if(n>=1&&t>=1&&1!==n&&1!==t)return r.pow((n-1)/(n*t-1),1/n)},variance:function(){throw new Error("variance not yet implemented")}}),n.extend(n.lognormal,{pdf:function(n,t,e){return n<=0?0:r.exp(-r.log(n)-.5*r.log(2*r.PI)-r.log(e)-r.pow(r.log(n)-t,2)/(2*e*e))},cdf:function(t,e,o){return t<0?0:.5+.5*n.erf((r.log(t)-e)/r.sqrt(2*o*o))},inv:function(t,e,o){return r.exp(-1.4142135623730951*o*n.erfcinv(2*t)+e)},mean:function(n,t){return r.exp(n+t*t/2)},median:function(n){return r.exp(n)},mode:function(n,t){return r.exp(n-t*t)},sample:function(t,e){return r.exp(n.randn()*e+t)},variance:function(n,t){return(r.exp(t*t)-1)*r.exp(2*n+t*t)}}),n.extend(n.noncentralt,{pdf:function(t,e,o){return r.abs(o)<1e-14?n.studentt.pdf(t,e):r.abs(t)<1e-14?r.exp(n.gammaln((e+1)/2)-o*o/2-.5*r.log(r.PI*e)-n.gammaln(e/2)):e/t*(n.noncentralt.cdf(t*r.sqrt(1+2/e),e+2,o)-n.noncentralt.cdf(t,e,o))},cdf:function(t,e,o){if(r.abs(o)<1e-14)return n.studentt.cdf(t,e);var i=!1;t<0&&(i=!0,o=-o);for(var a=n.normal.cdf(-o,0,1),u=1e-14+1,f=u,s=t*t/(t*t+e),c=0,l=r.exp(-o*o/2),m=r.exp(-o*o/2-.5*r.log(2)-n.gammaln(1.5))*o;c<200||f>1e-14||u>1e-14;)f=u,c>0&&(l*=o*o/(2*c),m*=o*o/(2*(c+.5))),a+=.5*(u=l*n.beta.cdf(s,c+.5,e/2)+m*n.beta.cdf(s,c+1,e/2)),c++;return i?1-a:a}}),n.extend(n.normal,{pdf:function(n,t,e){return r.exp(-.5*r.log(2*r.PI)-r.log(e)-r.pow(n-t,2)/(2*e*e))},cdf:function(t,e,o){return.5*(1+n.erf((t-e)/r.sqrt(2*o*o)))},inv:function(r,t,e){return-1.4142135623730951*e*n.erfcinv(2*r)+t},mean:function(n){return n},median:function(n){return n},mode:function(n){return n},sample:function(r,t){return n.randn()*t+r},variance:function(n,r){return r*r}}),n.extend(n.pareto,{pdf:function(n,t,e){return n<t?0:e*r.pow(t,e)/r.pow(n,e+1)},cdf:function(n,t,e){return n<t?0:1-r.pow(t/n,e)},inv:function(n,t,e){return t/r.pow(1-n,1/e)},mean:function(n,t){if(!(t<=1))return t*r.pow(n,t)/(t-1)},median:function(n,t){return n*(t*r.SQRT2)},mode:function(n){return n},variance:function(n,t){if(!(t<=2))return n*n*t/(r.pow(t-1,2)*(t-2))}}),n.extend(n.studentt,{pdf:function(t,e){return e=e>1e100?1e100:e,1/(r.sqrt(e)*n.betafn(.5,e/2))*r.pow(1+t*t/e,-(e+1)/2)},cdf:function(t,e){var o=e/2;return n.ibeta((t+r.sqrt(t*t+e))/(2*r.sqrt(t*t+e)),o,o)},inv:function(t,e){var o=n.ibetainv(2*r.min(t,1-t),.5*e,.5);return o=r.sqrt(e*(1-o)/o),t>.5?o:-o},mean:function(n){return n>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(t){return n.randn()*r.sqrt(t/(2*n.randg(t/2)))},variance:function(n){return n>2?n/(n-2):n>1?1/0:void 0}}),n.extend(n.weibull,{pdf:function(n,t,e){return n<0||t<0||e<0?0:e/t*r.pow(n/t,e-1)*r.exp(-r.pow(n/t,e))},cdf:function(n,t,e){return n<0?0:1-r.exp(-r.pow(n/t,e))},inv:function(n,t,e){return t*r.pow(-r.log(1-n),1/e)},mean:function(r,t){return r*n.gammafn(1+1/t)},median:function(n,t){return n*r.pow(r.log(2),1/t)},mode:function(n,t){return t<=1?0:n*r.pow((t-1)/t,1/t)},sample:function(t,e){return t*r.pow(-r.log(n._random_fn()),1/e)},variance:function(t,e){return t*t*n.gammafn(1+2/e)-r.pow(n.weibull.mean(t,e),2)}}),n.extend(n.uniform,{pdf:function(n,r,t){return n<r||n>t?0:1/(t-r)},cdf:function(n,r,t){return n<r?0:n<t?(n-r)/(t-r):1},inv:function(n,r,t){return r+n*(t-r)},mean:function(n,r){return.5*(n+r)},median:function(r,t){return n.mean(r,t)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(r,t){return r/2+t/2+(t/2-r/2)*(2*n._random_fn()-1)},variance:function(n,t){return r.pow(t-n,2)/12}}),n.extend(n.binomial,{pdf:function(t,e,o){return 0===o||1===o?e*o===t?1:0:n.combination(e,t)*r.pow(o,t)*r.pow(1-o,e-t)},cdf:function(e,o,i){var a;if(e<0)return 0;if(e>=o)return 1;if(i<0||i>1||o<=0)return NaN;var u=i,f=(e=r.floor(e))+1,s=o-e,c=f+s,l=r.exp(n.gammaln(c)-n.gammaln(s)-n.gammaln(f)+f*r.log(u)+s*r.log(1-u));return a=u<(f+1)/(c+2)?l*t(u,f,s,1e-10):1-l*t(1-u,s,f,1e-10),r.round(1e10*(1-a))/1e10}}),n.extend(n.negbin,{pdf:function(t,e,o){return t===t>>>0&&(t<0?0:n.combination(t+e-1,e-1)*r.pow(1-o,t)*r.pow(o,e))},cdf:function(r,t,e){var o=0,i=0;if(r<0)return 0;for(;i<=r;i++)o+=n.negbin.pdf(i,t,e);return o}}),n.extend(n.hypgeom,{pdf:function(t,e,o,i){if(t!=t|0)return!1;if(t<0||t<o-(e-i))return 0;if(t>i||t>o)return 0;if(2*o>e)return 2*i>e?n.hypgeom.pdf(e-o-i+t,e,e-o,e-i):n.hypgeom.pdf(i-t,e,e-o,i);if(2*i>e)return n.hypgeom.pdf(o-t,e,o,e-i);if(o<i)return n.hypgeom.pdf(t,e,i,o);for(var a=1,u=0,f=0;f<t;f++){for(;a>1&&u<i;)a*=1-o/(e-u),u++;a*=(i-f)*(o-f)/((f+1)*(e-o-i+f+1))}for(;u<i;u++)a*=1-o/(e-u);return r.min(1,r.max(0,a))},cdf:function(t,e,o,i){if(t<0||t<o-(e-i))return 0;if(t>=i||t>=o)return 1;if(2*o>e)return 2*i>e?n.hypgeom.cdf(e-o-i+t,e,e-o,e-i):1-n.hypgeom.cdf(i-t-1,e,e-o,i);if(2*i>e)return 1-n.hypgeom.cdf(o-t-1,e,o,e-i);if(o<i)return n.hypgeom.cdf(t,e,i,o);for(var a=1,u=1,f=0,s=0;s<t;s++){for(;a>1&&f<i;){var c=1-o/(e-f);u*=c,a*=c,f++}a+=u*=(i-s)*(o-s)/((s+1)*(e-o-i+s+1))}for(;f<i;f++)a*=1-o/(e-f);return r.min(1,r.max(0,a))}}),n.extend(n.poisson,{pdf:function(t,e){return e<0||t%1!=0||t<0?0:r.pow(e,t)*r.exp(-e)/n.factorial(t)},cdf:function(r,t){var e=[],o=0;if(r<0)return 0;for(;o<=r;o++)e.push(n.poisson.pdf(o,t));return n.sum(e)},mean:function(n){return n},variance:function(n){return n},sampleSmall:function(t){var e=1,o=0,i=r.exp(-t);do{o++,e*=n._random_fn()}while(e>i);return o-1},sampleLarge:function(t){var e,o,i,a,u,f,s,c,l,m,d=t;for(a=r.sqrt(d),u=r.log(d),f=.02483*(s=.931+2.53*a)-.059,c=1.1239+1.1328/(s-3.4),l=.9277-3.6224/(s-2);;){if(o=r.random()-.5,i=r.random(),m=.5-r.abs(o),e=r.floor((2*f/m+s)*o+d+.43),m>=.07&&i<=l)return e;if(!(e<0||m<.013&&i>m)&&r.log(i)+r.log(c)-r.log(f/(m*m)+s)<=e*u-d-n.loggam(e+1))return e}},sample:function(n){return n<10?this.sampleSmall(n):this.sampleLarge(n)}}),n.extend(n.triangular,{pdf:function(n,r,t,e){return t<=r||e<r||e>t?NaN:n<r||n>t?0:n<e?2*(n-r)/((t-r)*(e-r)):n===e?2/(t-r):2*(t-n)/((t-r)*(t-e))},cdf:function(n,t,e,o){return e<=t||o<t||o>e?NaN:n<=t?0:n>=e?1:n<=o?r.pow(n-t,2)/((e-t)*(o-t)):1-r.pow(e-n,2)/((e-t)*(e-o))},inv:function(n,t,e,o){return e<=t||o<t||o>e?NaN:n<=(o-t)/(e-t)?t+(e-t)*r.sqrt(n*((o-t)/(e-t))):t+(e-t)*(1-r.sqrt((1-n)*(1-(o-t)/(e-t))))},mean:function(n,r,t){return(n+r+t)/3},median:function(n,t,e){return e<=(n+t)/2?t-r.sqrt((t-n)*(t-e))/r.sqrt(2):e>(n+t)/2?n+r.sqrt((t-n)*(e-n))/r.sqrt(2):void 0},mode:function(n,r,t){return t},sample:function(t,e,o){var i=n._random_fn();return i<(o-t)/(e-t)?t+r.sqrt(i*(e-t)*(o-t)):e-r.sqrt((1-i)*(e-t)*(e-o))},variance:function(n,r,t){return(n*n+r*r+t*t-n*r-n*t-r*t)/18}}),n.extend(n.arcsine,{pdf:function(n,t,e){return e<=t?NaN:n<=t||n>=e?0:2/r.PI*r.pow(r.pow(e-t,2)-r.pow(2*n-t-e,2),-.5)},cdf:function(n,t,e){return n<t?0:n<e?2/r.PI*r.asin(r.sqrt((n-t)/(e-t))):1},inv:function(n,t,e){return t+(.5-.5*r.cos(r.PI*n))*(e-t)},mean:function(n,r){return r<=n?NaN:(n+r)/2},median:function(n,r){return r<=n?NaN:(n+r)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(t,e){return(t+e)/2+(e-t)/2*r.sin(2*r.PI*n.uniform.sample(0,1))},variance:function(n,t){return t<=n?NaN:r.pow(t-n,2)/8}}),n.extend(n.laplace,{pdf:function(n,t,e){return e<=0?0:r.exp(-r.abs(n-t)/e)/(2*e)},cdf:function(n,t,e){return e<=0?0:n<t?.5*r.exp((n-t)/e):1-.5*r.exp(-(n-t)/e)},mean:function(n){return n},median:function(n){return n},mode:function(n){return n},variance:function(n,r){return 2*r*r},sample:function(t,e){var o,i=n._random_fn()-.5;return t-e*((o=i)/r.abs(o))*r.log(1-2*r.abs(i))}}),n.extend(n.tukey,{cdf:function(t,o,i){var a=o,u=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],f=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(t<=0)return 0;if(i<2||a<2)return NaN;if(!Number.isFinite(t))return 1;if(i>25e3)return e(t,1,a);var s,c=.5*i,l=c*r.log(i)-i*r.log(2)-n.gammaln(c),m=c-1,d=.25*i;s=i<=100?1:i<=800?.5:i<=5e3?.25:.125,l+=r.log(s);for(var h=0,g=1;g<=50;g++){for(var p=0,v=(2*g-1)*s,y=1;y<=16;y++){var w,x;8<y?(w=y-8-1,x=l+m*r.log(v+u[w]*s)-(u[w]*s+v)*d):(w=y-1,x=l+m*r.log(v-u[w]*s)+(u[w]*s-v)*d),x>=-30&&(p+=e(8<y?t*r.sqrt(.5*(u[w]*s+v)):t*r.sqrt(.5*(-u[w]*s+v)),1,a)*f[w]*r.exp(x))}if(g*s>=1&&p<=1e-14)break;h+=p}if(p>1e-14)throw new Error("tukey.cdf failed to converge");return h>1&&(h=1),h},inv:function(t,e,o){if(o<2||e<2)return NaN;if(t<0||t>1)return NaN;if(0===t)return 0;if(1===t)return 1/0;var i,a=function(n,t,e){var o=.5-.5*n,i=r.sqrt(r.log(1/(o*o))),a=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);e<120&&(a+=(a*a*a+a)/e/4);var u=.8832-.2368*a;return e<120&&(u+=-1.214/e+1.208*a/e),a*(u*r.log(t-1)+1.4142)}(t,e,o),u=n.tukey.cdf(a,e,o)-t;i=u>0?r.max(0,a-1):a+1;for(var f,s=n.tukey.cdf(i,e,o)-t,c=1;c<50;c++)if(f=i-s*(i-a)/(s-u),u=s,a=i,f<0&&(f=0,s=-t),s=n.tukey.cdf(f,e,o)-t,i=f,r.abs(i-a)<1e-4)return f;throw new Error("tukey.inv failed to converge")}})}(e,Math),function(n,r){var t,e,o=Array.prototype.push,i=n.utils.isArray;function a(r){return i(r)||r instanceof n}n.extend({add:function(r,t){return a(t)?(a(t[0])||(t=[t]),n.map(r,(function(n,r,e){return n+t[r][e]}))):n.map(r,(function(n){return n+t}))},subtract:function(r,t){return a(t)?(a(t[0])||(t=[t]),n.map(r,(function(n,r,e){return n-t[r][e]||0}))):n.map(r,(function(n){return n-t}))},divide:function(r,t){return a(t)?(a(t[0])||(t=[t]),n.multiply(r,n.inv(t))):n.map(r,(function(n){return n/t}))},multiply:function(r,t){var e,o,i,u,f,s,c,l;if(void 0===r.length&&void 0===t.length)return r*t;if(f=r.length,s=r[0].length,c=n.zeros(f,i=a(t)?t[0].length:s),l=0,a(t)){for(;l<i;l++)for(e=0;e<f;e++){for(u=0,o=0;o<s;o++)u+=r[e][o]*t[o][l];c[e][l]=u}return 1===f&&1===l?c[0][0]:c}return n.map(r,(function(n){return n*t}))},outer:function(r,t){return n.multiply(r.map((function(n){return[n]})),[t])},dot:function(r,t){a(r[0])||(r=[r]),a(t[0])||(t=[t]);for(var e,o,i=1===r[0].length&&1!==r.length?n.transpose(r):r,u=1===t[0].length&&1!==t.length?n.transpose(t):t,f=[],s=0,c=i.length,l=i[0].length;s<c;s++){for(f[s]=[],e=0,o=0;o<l;o++)e+=i[s][o]*u[s][o];f[s]=e}return 1===f.length?f[0]:f},pow:function(t,e){return n.map(t,(function(n){return r.pow(n,e)}))},exp:function(t){return n.map(t,(function(n){return r.exp(n)}))},log:function(t){return n.map(t,(function(n){return r.log(n)}))},abs:function(t){return n.map(t,(function(n){return r.abs(n)}))},norm:function(n,t){var e=0,o=0;for(isNaN(t)&&(t=2),a(n[0])&&(n=n[0]);o<n.length;o++)e+=r.pow(r.abs(n[o]),t);return r.pow(e,1/t)},angle:function(t,e){return r.acos(n.dot(t,e)/(n.norm(t)*n.norm(e)))},aug:function(n,r){var t,e=[];for(t=0;t<n.length;t++)e.push(n[t].slice());for(t=0;t<e.length;t++)o.apply(e[t],r[t]);return e},inv:function(r){for(var t,e=r.length,o=r[0].length,i=n.identity(e,o),a=n.gauss_jordan(r,i),u=[],f=0;f<e;f++)for(u[f]=[],t=o;t<a[0].length;t++)u[f][t-o]=a[f][t];return u},det:function(n){var r,t=n.length,e=2*t,o=new Array(e),i=t-1,a=e-1,u=i-t+1,f=a,s=0,c=0;if(2===t)return n[0][0]*n[1][1]-n[0][1]*n[1][0];for(;s<e;s++)o[s]=1;for(s=0;s<t;s++){for(r=0;r<t;r++)o[u<0?u+t:u]*=n[s][r],o[f<t?f+t:f]*=n[s][r],u++,f--;u=--i-t+1,f=--a}for(s=0;s<t;s++)c+=o[s];for(;s<e;s++)c-=o[s];return c},gauss_elimination:function(t,e){var o,i,a,u,f=0,s=0,c=t.length,l=t[0].length,m=1,d=0,h=[];for(o=(t=n.aug(t,e))[0].length,f=0;f<c;f++){for(i=t[f][f],s=f,u=f+1;u<l;u++)i<r.abs(t[u][f])&&(i=t[u][f],s=u);if(s!=f)for(u=0;u<o;u++)a=t[f][u],t[f][u]=t[s][u],t[s][u]=a;for(s=f+1;s<c;s++)for(m=t[s][f]/t[f][f],u=f;u<o;u++)t[s][u]=t[s][u]-m*t[f][u]}for(f=c-1;f>=0;f--){for(d=0,s=f+1;s<=c-1;s++)d+=h[s]*t[f][s];h[f]=(t[f][o-1]-d)/t[f][f]}return h},gauss_jordan:function(t,e){var o,i,a,u=n.aug(t,e),f=u.length,s=u[0].length,c=0;for(i=0;i<f;i++){var l=i;for(a=i+1;a<f;a++)r.abs(u[a][i])>r.abs(u[l][i])&&(l=a);var m=u[i];for(u[i]=u[l],u[l]=m,a=i+1;a<f;a++)for(c=u[a][i]/u[i][i],o=i;o<s;o++)u[a][o]-=u[i][o]*c}for(i=f-1;i>=0;i--){for(c=u[i][i],a=0;a<i;a++)for(o=s-1;o>i-1;o--)u[a][o]-=u[i][o]*u[a][i]/c;for(u[i][i]/=c,o=f;o<s;o++)u[i][o]/=c}return u},triaUpSolve:function(r,t){var e,o=r[0].length,i=n.zeros(1,o)[0],a=!1;return null!=t[0].length&&(t=t.map((function(n){return n[0]})),a=!0),n.arange(o-1,-1,-1).forEach((function(a){e=n.arange(a+1,o).map((function(n){return i[n]*r[a][n]})),i[a]=(t[a]-n.sum(e))/r[a][a]})),a?i.map((function(n){return[n]})):i},triaLowSolve:function(r,t){var e,o=r[0].length,i=n.zeros(1,o)[0],a=!1;return null!=t[0].length&&(t=t.map((function(n){return n[0]})),a=!0),n.arange(o).forEach((function(o){e=n.arange(o).map((function(n){return r[o][n]*i[n]})),i[o]=(t[o]-n.sum(e))/r[o][o]})),a?i.map((function(n){return[n]})):i},lu:function(r){var t,e=r.length,o=n.identity(e),i=n.zeros(r.length,r[0].length);return n.arange(e).forEach((function(n){i[0][n]=r[0][n]})),n.arange(1,e).forEach((function(a){n.arange(a).forEach((function(e){t=n.arange(e).map((function(n){return o[a][n]*i[n][e]})),o[a][e]=(r[a][e]-n.sum(t))/i[e][e]})),n.arange(a,e).forEach((function(e){t=n.arange(a).map((function(n){return o[a][n]*i[n][e]})),i[a][e]=r[t.length][e]-n.sum(t)}))})),[o,i]},cholesky:function(t){var e,o=t.length,i=n.zeros(t.length,t[0].length);return n.arange(o).forEach((function(a){e=n.arange(a).map((function(n){return r.pow(i[a][n],2)})),i[a][a]=r.sqrt(t[a][a]-n.sum(e)),n.arange(a+1,o).forEach((function(r){e=n.arange(a).map((function(n){return i[a][n]*i[r][n]})),i[r][a]=(t[a][r]-n.sum(e))/i[a][a]}))})),i},gauss_jacobi:function(t,e,o,i){for(var a,u,f,s,c=0,l=0,m=t.length,d=[],h=[],g=[];c<m;c++)for(d[c]=[],h[c]=[],g[c]=[],l=0;l<m;l++)c>l?(d[c][l]=t[c][l],h[c][l]=g[c][l]=0):c<l?(h[c][l]=t[c][l],d[c][l]=g[c][l]=0):(g[c][l]=t[c][l],d[c][l]=h[c][l]=0);for(f=n.multiply(n.multiply(n.inv(g),n.add(d,h)),-1),u=n.multiply(n.inv(g),e),a=o,s=n.add(n.multiply(f,o),u),c=2;r.abs(n.norm(n.subtract(s,a)))>i;)a=s,s=n.add(n.multiply(f,a),u),c++;return s},gauss_seidel:function(t,e,o,i){for(var a,u,f,s,c,l=0,m=t.length,d=[],h=[],g=[];l<m;l++)for(d[l]=[],h[l]=[],g[l]=[],a=0;a<m;a++)l>a?(d[l][a]=t[l][a],h[l][a]=g[l][a]=0):l<a?(h[l][a]=t[l][a],d[l][a]=g[l][a]=0):(g[l][a]=t[l][a],d[l][a]=h[l][a]=0);for(s=n.multiply(n.multiply(n.inv(n.add(g,d)),h),-1),f=n.multiply(n.inv(n.add(g,d)),e),u=o,c=n.add(n.multiply(s,o),f),l=2;r.abs(n.norm(n.subtract(c,u)))>i;)u=c,c=n.add(n.multiply(s,u),f),l+=1;return c},SOR:function(t,e,o,i,a){for(var u,f,s,c,l,m=0,d=t.length,h=[],g=[],p=[];m<d;m++)for(h[m]=[],g[m]=[],p[m]=[],u=0;u<d;u++)m>u?(h[m][u]=t[m][u],g[m][u]=p[m][u]=0):m<u?(g[m][u]=t[m][u],h[m][u]=p[m][u]=0):(p[m][u]=t[m][u],h[m][u]=g[m][u]=0);for(c=n.multiply(n.inv(n.add(p,n.multiply(h,a))),n.subtract(n.multiply(p,1-a),n.multiply(g,a))),s=n.multiply(n.multiply(n.inv(n.add(p,n.multiply(h,a))),e),a),f=o,l=n.add(n.multiply(c,o),s),m=2;r.abs(n.norm(n.subtract(l,f)))>i;)f=l,l=n.add(n.multiply(c,f),s),m++;return l},householder:function(t){for(var e,o,i,a,u=t.length,f=t[0].length,s=0,c=[],l=[];s<u-1;s++){for(e=0,a=s+1;a<f;a++)e+=t[a][s]*t[a][s];for(e=(t[s+1][s]>0?-1:1)*r.sqrt(e),o=r.sqrt((e*e-t[s+1][s]*e)/2),(c=n.zeros(u,1))[s+1][0]=(t[s+1][s]-e)/(2*o),i=s+2;i<u;i++)c[i][0]=t[i][s]/(2*o);l=n.subtract(n.identity(u,f),n.multiply(n.multiply(c,n.transpose(c)),2)),t=n.multiply(l,n.multiply(t,l))}return t},QR:(t=n.sum,e=n.arange,function(o){var i,a,u,f=o.length,s=o[0].length,c=n.zeros(s,s);for(o=n.copy(o),a=0;a<s;a++){for(c[a][a]=r.sqrt(t(e(f).map((function(n){return o[n][a]*o[n][a]})))),i=0;i<f;i++)o[i][a]=o[i][a]/c[a][a];for(u=a+1;u<s;u++)for(c[a][u]=t(e(f).map((function(n){return o[n][a]*o[n][u]}))),i=0;i<f;i++)o[i][u]=o[i][u]-o[i][a]*c[a][u]}return[o,c]}),lstsq:function(r,t){var e=!1;void 0===t[0].length&&(t=t.map((function(n){return[n]})),e=!0);var o=n.QR(r),i=o[0],a=o[1],u=r[0].length,f=n.slice(i,{col:{end:u}}),s=function(r){var t=(r=n.copy(r)).length,e=n.identity(t);return n.arange(t-1,-1,-1).forEach((function(t){n.sliceAssign(e,{row:t},n.divide(n.slice(e,{row:t}),r[t][t])),n.sliceAssign(r,{row:t},n.divide(n.slice(r,{row:t}),r[t][t])),n.arange(t).forEach((function(o){var i=n.multiply(r[o][t],-1),a=n.slice(r,{row:o}),u=n.multiply(n.slice(r,{row:t}),i);n.sliceAssign(r,{row:o},n.add(a,u));var f=n.slice(e,{row:o}),s=n.multiply(n.slice(e,{row:t}),i);n.sliceAssign(e,{row:o},n.add(f,s))}))})),e}(n.slice(a,{row:{end:u}})),c=n.transpose(f);void 0===c[0].length&&(c=[c]);var l=n.multiply(n.multiply(s,c),t);return void 0===l.length&&(l=[[l]]),e?l.map((function(n){return n[0]})):l},jacobi:function(t){for(var e,o,i,a,u,f,s,c=1,l=t.length,m=n.identity(l,l),d=[];1===c;){for(u=t[0][1],i=0,a=1,e=0;e<l;e++)for(o=0;o<l;o++)e!=o&&u<r.abs(t[e][o])&&(u=r.abs(t[e][o]),i=e,a=o);for(f=t[i][i]===t[a][a]?t[i][a]>0?r.PI/4:-r.PI/4:r.atan(2*t[i][a]/(t[i][i]-t[a][a]))/2,(s=n.identity(l,l))[i][i]=r.cos(f),s[i][a]=-r.sin(f),s[a][i]=r.sin(f),s[a][a]=r.cos(f),m=n.multiply(m,s),t=n.multiply(n.multiply(n.inv(s),t),s),c=0,e=1;e<l;e++)for(o=1;o<l;o++)e!=o&&r.abs(t[e][o])>.001&&(c=1)}for(e=0;e<l;e++)d.push(t[e][e]);return[m,d]},rungekutta:function(n,r,t,e,o,i){var a,u,f;if(2===i)for(;e<=t;)o+=((a=r*n(e,o))+(u=r*n(e+r,o+a)))/2,e+=r;if(4===i)for(;e<=t;)o+=((a=r*n(e,o))+2*(u=r*n(e+r/2,o+a/2))+2*(f=r*n(e+r/2,o+u/2))+r*n(e+r,o+f))/6,e+=r;return o},romberg:function(n,t,e,o){for(var i,a,u,f,s,c=0,l=(e-t)/2,m=[],d=[],h=[];c<o/2;){for(s=n(t),u=t,f=0;u<=e;u+=l,f++)m[f]=u;for(i=m.length,u=1;u<i-1;u++)s+=(u%2!=0?4:2)*n(m[u]);s=l/3*(s+n(e)),h[c]=s,l/=2,c++}for(a=h.length,i=1;1!==a;){for(u=0;u<a-1;u++)d[u]=(r.pow(4,i)*h[u+1]-h[u])/(r.pow(4,i)-1);a=d.length,h=d,d=[],i++}return h},richardson:function(n,t,e,o){function i(n,r){for(var t,e=0,o=n.length;e<o;e++)n[e]===r&&(t=e);return t}for(var a,u,f,s,c,l=r.abs(e-n[i(n,e)+1]),m=0,d=[],h=[];o>=l;)a=i(n,e+o),u=i(n,e),d[m]=(t[a]-2*t[u]+t[2*u-a])/(o*o),o/=2,m++;for(s=d.length,f=1;1!=s;){for(c=0;c<s-1;c++)h[c]=(r.pow(4,f)*d[c+1]-d[c])/(r.pow(4,f)-1);s=h.length,d=h,h=[],f++}return d},simpson:function(n,r,t,e){for(var o,i=(t-r)/e,a=n(r),u=[],f=r,s=0,c=1;f<=t;f+=i,s++)u[s]=f;for(o=u.length;c<o-1;c++)a+=(c%2!=0?4:2)*n(u[c]);return i/3*(a+n(t))},hermite:function(n,r,t,e){for(var o,i=n.length,a=0,u=0,f=[],s=[],c=[],l=[];u<i;u++){for(f[u]=1,o=0;o<i;o++)u!=o&&(f[u]*=(e-n[o])/(n[u]-n[o]));for(s[u]=0,o=0;o<i;o++)u!=o&&(s[u]+=1/(n[u]-n[o]));c[u]=(1-2*(e-n[u])*s[u])*(f[u]*f[u]),l[u]=(e-n[u])*(f[u]*f[u]),a+=c[u]*r[u]+l[u]*t[u]}return a},lagrange:function(n,r,t){for(var e,o,i=0,a=0,u=n.length;a<u;a++){for(o=r[a],e=0;e<u;e++)a!=e&&(o*=(t-n[e])/(n[a]-n[e]));i+=o}return i},cubic_spline:function(r,t,e){for(var o,i,a=r.length,u=0,f=[],s=[],c=[],l=[],m=[],d=[];u<a-1;u++)l[u]=r[u+1]-r[u];for(c[0]=0,u=1;u<a-1;u++)c[u]=3/l[u]*(t[u+1]-t[u])-3/l[u-1]*(t[u]-t[u-1]);for(u=1;u<a-1;u++)f[u]=[],s[u]=[],f[u][u-1]=l[u-1],f[u][u]=2*(l[u-1]+l[u]),f[u][u+1]=l[u],s[u][0]=c[u];for(i=n.multiply(n.inv(f),s),o=0;o<a-1;o++)m[o]=(t[o+1]-t[o])/l[o]-l[o]*(i[o+1][0]+2*i[o][0])/3,d[o]=(i[o+1][0]-i[o][0])/(3*l[o]);for(o=0;o<a&&!(r[o]>e);o++);return t[o-=1]+(e-r[o])*m[o]+n.sq(e-r[o])*i[o]+(e-r[o])*n.sq(e-r[o])*d[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(r){var t,e,o,i,a,u=r.length,f=r[0].length,s=0,c=[],l=[],m=[],d=[],h=[],g=[],p=[];for(s=0;s<u;s++)c[s]=n.sum(r[s])/f;for(s=0;s<f;s++)for(h[s]=[],t=0;t<u;t++)h[s][t]=r[t][s]-c[t];for(h=n.transpose(h),s=0;s<u;s++)for(g[s]=[],t=0;t<u;t++)g[s][t]=n.dot([h[s]],[h[t]])/(f-1);for(a=(o=n.jacobi(g))[0],l=o[1],p=n.transpose(a),s=0;s<l.length;s++)for(t=s;t<l.length;t++)l[s]<l[t]&&(e=l[s],l[s]=l[t],l[t]=e,m=p[s],p[s]=p[t],p[t]=m);for(i=n.transpose(h),s=0;s<u;s++)for(d[s]=[],t=0;t<i.length;t++)d[s][t]=n.dot([p[s]],[i[t]]);return[r,l,p,d]}}),function(r){for(var t=0;t<r.length;t++)!function(r){n.fn[r]=function(t,e){var o=this;return e?(setTimeout((function(){e.call(o,n.fn[r].call(o,t))}),15),this):"number"==typeof n[r](this,t)?n[r](this,t):n(n[r](this,t))}}(r[t])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(e,Math),function(n,r){var t=[].slice,e=n.utils.isNumber,o=n.utils.isArray;function i(n,t,e,o){if(n>1||e>1||n<=0||e<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(n*t+e*o)/(t+o);return(n-e)/r.sqrt(i*(1-i)*(1/t+1/o))}n.extend({zscore:function(){var r=t.call(arguments);return e(r[1])?(r[0]-r[1])/r[2]:(r[0]-n.mean(r[1]))/n.stdev(r[1],r[2])},ztest:function(){var e,i=t.call(arguments);return o(i[1])?(e=n.zscore(i[0],i[1],i[3]),1===i[2]?n.normal.cdf(-r.abs(e),0,1):2*n.normal.cdf(-r.abs(e),0,1)):i.length>2?(e=n.zscore(i[0],i[1],i[2]),1===i[3]?n.normal.cdf(-r.abs(e),0,1):2*n.normal.cdf(-r.abs(e),0,1)):(e=i[0],1===i[1]?n.normal.cdf(-r.abs(e),0,1):2*n.normal.cdf(-r.abs(e),0,1))}}),n.extend(n.fn,{zscore:function(n,r){return(n-this.mean())/this.stdev(r)},ztest:function(t,e,o){var i=r.abs(this.zscore(t,o));return 1===e?n.normal.cdf(-i,0,1):2*n.normal.cdf(-i,0,1)}}),n.extend({tscore:function(){var e=t.call(arguments);return 4===e.length?(e[0]-e[1])/(e[2]/r.sqrt(e[3])):(e[0]-n.mean(e[1]))/(n.stdev(e[1],!0)/r.sqrt(e[1].length))},ttest:function(){var o,i=t.call(arguments);return 5===i.length?(o=r.abs(n.tscore(i[0],i[1],i[2],i[3])),1===i[4]?n.studentt.cdf(-o,i[3]-1):2*n.studentt.cdf(-o,i[3]-1)):e(i[1])?(o=r.abs(i[0]),1==i[2]?n.studentt.cdf(-o,i[1]-1):2*n.studentt.cdf(-o,i[1]-1)):(o=r.abs(n.tscore(i[0],i[1])),1==i[2]?n.studentt.cdf(-o,i[1].length-1):2*n.studentt.cdf(-o,i[1].length-1))}}),n.extend(n.fn,{tscore:function(n){return(n-this.mean())/(this.stdev(!0)/r.sqrt(this.cols()))},ttest:function(t,e){return 1===e?1-n.studentt.cdf(r.abs(this.tscore(t)),this.cols()-1):2*n.studentt.cdf(-r.abs(this.tscore(t)),this.cols()-1)}}),n.extend({anovafscore:function(){var e,o,i,a,u,f,s,c,l=t.call(arguments);if(1===l.length){for(u=new Array(l[0].length),s=0;s<l[0].length;s++)u[s]=l[0][s];l=u}for(o=new Array,s=0;s<l.length;s++)o=o.concat(l[s]);for(i=n.mean(o),e=0,s=0;s<l.length;s++)e+=l[s].length*r.pow(n.mean(l[s])-i,2);for(e/=l.length-1,f=0,s=0;s<l.length;s++)for(a=n.mean(l[s]),c=0;c<l[s].length;c++)f+=r.pow(l[s][c]-a,2);return e/(f/=o.length-l.length)},anovaftest:function(){var r,o,i,a,u=t.call(arguments);if(e(u[0]))return 1-n.centralF.cdf(u[0],u[1],u[2]);var f=n.anovafscore(u);for(r=u.length-1,i=0,a=0;a<u.length;a++)i+=u[a].length;return o=i-r-1,1-n.centralF.cdf(f,r,o)},ftest:function(r,t,e){return 1-n.centralF.cdf(r,t,e)}}),n.extend(n.fn,{anovafscore:function(){return n.anovafscore(this.toArray())},anovaftes:function(){var r,t=0;for(r=0;r<this.length;r++)t+=this[r].length;return n.ftest(this.anovafscore(),this.length-1,t-this.length)}}),n.extend({qscore:function(){var o,i,a,u,f,s=t.call(arguments);return e(s[0])?(o=s[0],i=s[1],a=s[2],u=s[3],f=s[4]):(o=n.mean(s[0]),i=n.mean(s[1]),a=s[0].length,u=s[1].length,f=s[2]),r.abs(o-i)/(f*r.sqrt((1/a+1/u)/2))},qtest:function(){var r,e=t.call(arguments);3===e.length?(r=e[0],e=e.slice(1)):7===e.length?(r=n.qscore(e[0],e[1],e[2],e[3],e[4]),e=e.slice(5)):(r=n.qscore(e[0],e[1],e[2]),e=e.slice(3));var o=e[0],i=e[1];return 1-n.tukey.cdf(r,i,o-i)},tukeyhsd:function(r){for(var t=n.pooledstdev(r),e=r.map((function(r){return n.mean(r)})),o=r.reduce((function(n,r){return n+r.length}),0),i=[],a=0;a<r.length;++a)for(var u=a+1;u<r.length;++u){var f=n.qtest(e[a],e[u],r[a].length,r[u].length,t,o,r.length);i.push([[a,u],f])}return i}}),n.extend({normalci:function(){var e,o=t.call(arguments),i=new Array(2);return e=4===o.length?r.abs(n.normal.inv(o[1]/2,0,1)*o[2]/r.sqrt(o[3])):r.abs(n.normal.inv(o[1]/2,0,1)*n.stdev(o[2])/r.sqrt(o[2].length)),i[0]=o[0]-e,i[1]=o[0]+e,i},tci:function(){var e,o=t.call(arguments),i=new Array(2);return e=4===o.length?r.abs(n.studentt.inv(o[1]/2,o[3]-1)*o[2]/r.sqrt(o[3])):r.abs(n.studentt.inv(o[1]/2,o[2].length-1)*n.stdev(o[2],!0)/r.sqrt(o[2].length)),i[0]=o[0]-e,i[1]=o[0]+e,i},significant:function(n,r){return n<r}}),n.extend(n.fn,{normalci:function(r,t){return n.normalci(r,t,this.toArray())},tci:function(r,t){return n.tci(r,t,this.toArray())}}),n.extend(n.fn,{oneSidedDifferenceOfProportions:function(r,t,e,o){var a=i(r,t,e,o);return n.ztest(a,1)},twoSidedDifferenceOfProportions:function(r,t,e,o){var a=i(r,t,e,o);return n.ztest(a,2)}})}(e,Math),e.models=function(){function n(n,r){var t=n.length,o=r[0].length-1,i=t-o-1,a=e.lstsq(r,n),u=e.multiply(r,a.map((function(n){return[n]}))).map((function(n){return n[0]})),f=e.subtract(n,u),s=e.mean(n),c=e.sum(u.map((function(n){return Math.pow(n-s,2)}))),l=e.sum(n.map((function(n,r){return Math.pow(n-u[r],2)}))),m=c+l;return{exog:r,endog:n,nobs:t,df_model:o,df_resid:i,coef:a,predict:u,resid:f,ybar:s,SST:m,SSE:c,SSR:l,R2:c/m}}function r(r){var t,o,i=(t=r.exog,o=t[0].length,e.arange(o).map((function(r){var i=e.arange(o).filter((function(n){return n!==r}));return n(e.col(t,r).map((function(n){return n[0]})),e.col(t,i))}))),a=Math.sqrt(r.SSR/r.df_resid),u=i.map((function(n){var r=n.SST,t=n.R2;return a/Math.sqrt(r*(1-t))})),f=r.coef.map((function(n,r){return(n-0)/u[r]})),s=f.map((function(n){var t=e.studentt.cdf(n,r.df_resid);return 2*(t>.5?1-t:t)})),c=e.studentt.inv(.975,r.df_resid),l=r.coef.map((function(n,r){var t=c*u[r];return[n-t,n+t]}));return{se:u,t:f,p:s,sigmaHat:a,interval95:l}}return{ols:function(t,o){var i=n(t,o),a=r(i),u=function(n){var r,t,o,i=n.R2/n.df_model/((1-n.R2)/n.df_resid);return{F_statistic:i,pvalue:1-(r=i,t=n.df_model,o=n.df_resid,e.beta.cdf(r/(o/t+r),t/2,o/2))}}(i),f=1-(1-i.R2)*((i.nobs-1)/i.df_resid);return i.t=a,i.f=u,i.adjust_R2=f,i}}}(),e.extend({buildxmatrix:function(){for(var n=new Array(arguments.length),r=0;r<arguments.length;r++){var t=[1];n[r]=t.concat(arguments[r])}return e(n)},builddxmatrix:function(){for(var n=new Array(arguments[0].length),r=0;r<arguments[0].length;r++){var t=[1];n[r]=t.concat(arguments[0][r])}return e(n)},buildjxmatrix:function(n){for(var r=new Array(n.length),t=0;t<n.length;t++)r[t]=n[t];return e.builddxmatrix(r)},buildymatrix:function(n){return e(n).transpose()},buildjymatrix:function(n){return n.transpose()},matrixmult:function(n,r){var t,o,i,a,u;if(n.cols()==r.rows()){if(r.rows()>1){for(a=[],t=0;t<n.rows();t++)for(a[t]=[],o=0;o<r.cols();o++){for(u=0,i=0;i<n.cols();i++)u+=n.toArray()[t][i]*r.toArray()[i][o];a[t][o]=u}return e(a)}for(a=[],t=0;t<n.rows();t++)for(a[t]=[],o=0;o<r.cols();o++){for(u=0,i=0;i<n.cols();i++)u+=n.toArray()[t][i]*r.toArray()[o];a[t][o]=u}return e(a)}},regress:function(n,r){var t=e.xtranspxinv(n),o=n.transpose(),i=e.matrixmult(e(t),o);return e.matrixmult(i,r)},regresst:function(n,r,t){var o=e.regress(n,r),i={anova:{}},a=e.jMatYBar(n,o);i.yBar=a;var u=r.mean();i.anova.residuals=e.residuals(r,a),i.anova.ssr=e.ssr(a,u),i.anova.msr=i.anova.ssr/(n[0].length-1),i.anova.sse=e.sse(r,a),i.anova.mse=i.anova.sse/(r.length-(n[0].length-1)-1),i.anova.sst=e.sst(r,u),i.anova.mst=i.anova.sst/(r.length-1),i.anova.r2=1-i.anova.sse/i.anova.sst,i.anova.r2<0&&(i.anova.r2=0),i.anova.fratio=i.anova.msr/i.anova.mse,i.anova.pvalue=e.anovaftest(i.anova.fratio,n[0].length-1,r.length-(n[0].length-1)-1),i.anova.rmse=Math.sqrt(i.anova.mse),i.anova.r2adj=1-i.anova.mse/i.anova.mst,i.anova.r2adj<0&&(i.anova.r2adj=0),i.stats=new Array(n[0].length);for(var f,s,c,l=e.xtranspxinv(n),m=0;m<o.length;m++)f=Math.sqrt(i.anova.mse*Math.abs(l[m][m])),s=Math.abs(o[m]/f),c=e.ttest(s,r.length-n[0].length-1,t),i.stats[m]=[o[m],f,s,c];return i.regress=o,i},xtranspx:function(n){return e.matrixmult(n.transpose(),n)},xtranspxinv:function(n){var r=e.matrixmult(n.transpose(),n);return e.inv(r)},jMatYBar:function(n,r){var t=e.matrixmult(n,r);return new e(t)},residuals:function(n,r){return e.matrixsubtract(n,r)},ssr:function(n,r){for(var t=0,e=0;e<n.length;e++)t+=Math.pow(n[e]-r,2);return t},sse:function(n,r){for(var t=0,e=0;e<n.length;e++)t+=Math.pow(n[e]-r[e],2);return t},sst:function(n,r){for(var t=0,e=0;e<n.length;e++)t+=Math.pow(n[e]-r,2);return t},matrixsubtract:function(n,r){for(var t=new Array(n.length),o=0;o<n.length;o++){t[o]=new Array(n[o].length);for(var i=0;i<n[o].length;i++)t[o][i]=n[o][i]-r[o][i]}return e(t)}}),e.jStat=e,e)},function(n,r){n.exports={euclidean:function(n,r){for(var t=0,e=0;e<n.length;e++)t+=Math.pow(r[e]-n[e],2);return Math.sqrt(t)},manhattan:function(n,r){for(var t=0,e=0;e<n.length;e++)t+=Math.abs(r[e]-n[e]);return t},max:function(n,r){for(var t=0,e=0;e<n.length;e++)t=Math.max(t,Math.abs(r[e]-n[e]));return t}}},function(n,r,t){var e=t(2);function o(n){this.centroids=n||[]}o.prototype.randomCentroids=function(n,r){var t=n.slice(0);return t.sort((function(){return Math.round(Math.random())-.5})),t.slice(0,r)},o.prototype.classify=function(n,r){var t=1/0,o=0;"string"==typeof(r=r||"euclidean")&&(r=e[r]);for(var i=0;i<this.centroids.length;i++){var a=r(n,this.centroids[i]);a<t&&(t=a,o=i)}return o},o.prototype.cluster=function(n,r,t,o,i){r=r||Math.max(2,Math.ceil(Math.sqrt(n.length/2))),"string"==typeof(t=t||"euclidean")&&(t=e[t]),this.centroids=this.randomCentroids(n,r);for(var a=new Array(n.length),u=new Array(r),f=0,s=!0;s;){for(var c=0;c<n.length;c++)a[c]=this.classify(n[c],t);s=!1;for(var l=0;l<r;l++){var m=[];for(c=0;c<a.length;c++)a[c]==l&&m.push(n[c]);if(m.length){for(var d=this.centroids[l],h=new Array(d.length),g=0;g<d.length;g++){var p=0;for(c=0;c<m.length;c++)p+=m[c][g];h[g]=p/m.length,h[g]!=d[g]&&(s=!0)}this.centroids[l]=h,u[l]=m}}i&&f++%o==0&&i(u)}return u},o.prototype.toJSON=function(){return JSON.stringify(this.centroids)},o.prototype.fromJSON=function(n){return this.centroids=JSON.parse(n),this},n.exports=o,n.exports.kmeans=function(n,r){return(new o).cluster(n,r)}},function(n,r,t){"use strict";t.r(r);var e=t(0),o=t.n(e),i=t(1),a=t.n(i),u=self;function f(n){for(var r=0;r<n.length;r++){var t=n[r];if(!isNaN(t)&&null!=t&&0!=t)return!1}return!0}function s(n,r){if(n.isAllNaNs&&r.isAllNaNs)return 0;if(n.isAllNaNs||r.isAllNaNs)return 3;var t=n.preProcessedValueList,e=r.preProcessedValueList,o=a.a.corrcoeff(t,e);return isNaN(o)&&(console.log("NaN in correlation calculation"),o=-2),1-o}function c(n){for(var r=[],t=[],e=0;e<n.length;e++){var o=n[e];if(o.isAllNaNs=f(o.orderedValueList),o.isAllNaNs)r.push(o);else{t.push(o);var i=a.a.rank(o.orderedValueList);o.preProcessedValueList=i}}return{notAllNaN:t,allNaN:r}}function l(n){var r=[];for(var t in n)n.hasOwnProperty(t)&&r.push(t);return r}u.onmessage=function(n){console.log("Clustering worker received message");var r=null;if("CASES"===n.data.dimension)r=function(n){var r=null,t=[];for(var e in n)if(n.hasOwnProperty(e)){var i=n[e],a=new Object;a.caseId=e,a.orderedValueList=[],null==r&&(r=l(i));for(var u=0;u<r.length;u++){var f=r[u],m=i[f];a.orderedValueList.push(m)}t.push(a)}if(1==r.length)return t.sort((function(n,r){var t=n.orderedValueList[0],e=r.orderedValueList[0];return(t=null==t||isNaN(t)?Number.MAX_VALUE:t)>(e=null==e||isNaN(e)?Number.MAX_VALUE:e)?1:t<e?-1:0})),t;var d=c(t);return o.a.hcluster(d.notAllNaN,s).clusters(1)[0].concat(d.allNaN)}(n.data.casesAndEntities);else{if("ENTITIES"!==n.data.dimension)throw new Error("Illegal argument given to clustering-worker.js for m.data.dimension: "+n.data.dimension);r=function(n){var r=null,t=[],e=[];for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];null==r&&(r=l(a)),e.push(i)}for(var u=0;u<r.length;u++){var f=r[u],m=new Object;m.entityId=f,m.orderedValueList=[];for(var d=0;d<e.length;d++){i=e[d];var h=(a=n[i])[f];m.orderedValueList.push(h)}t.push(m)}var g=c(t);return o.a.hcluster(g.notAllNaN,s).clusters(1)[0].concat(g.allNaN)}(n.data.casesAndEntities)}console.log("Posting clustering result back to main script"),u.postMessage(r)},r.default=null},function(n,r,t){var e=t(2),o=function(n,r,t){this.distance=n,this.linkage=r,this.threshold=null==t?1/0:t};o.prototype={tree:function(n,r,t){this.tree=[],this.dists=[],this.mins=[],this.index=[];for(var e=0;e<n.length;e++){var o={value:n[e],key:e,index:e,size:1};this.tree[e]=o,this.index[e]=o,this.dists[e]=[],this.mins[e]=0}for(e=0;e<this.tree.length;e++)for(var i=0;i<=e;i++){var a=e==i?1/0:this.distance(this.tree[e].value,this.tree[i].value);this.dists[e][i]=a,this.dists[i][e]=a,a<this.dists[e][this.mins[e]]&&(this.mins[e]=i)}var u=this.mergeClosest();for(e=0;u;)t&&e++%r==0&&t(this.tree),u=this.mergeClosest();return this.tree.forEach((function(n){delete n.key,delete n.index})),this.tree},mergeClosest:function(){for(var n=0,r=1/0,t=0;t<this.tree.length;t++){var e=this.tree[t].key;(u=this.dists[e][this.mins[e]])<r&&(n=e,r=u)}if(r>=this.threshold)return!1;var o=this.index[n],i=this.index[this.mins[n]],a={dist:r,left:o,right:i,key:o.key,size:o.size+i.size};this.tree[o.index]=a,this.tree.splice(i.index,1),this.index[o.key]=a;for(t=0;t<this.tree.length;t++){var u,f=this.tree[t];o.key==f.key?u=1/0:"single"==this.linkage?(u=this.dists[o.key][f.key],this.dists[o.key][f.key]>this.dists[i.key][f.key]&&(u=this.dists[i.key][f.key])):"complete"==this.linkage?(u=this.dists[o.key][f.key],this.dists[o.key][f.key]<this.dists[i.key][f.key]&&(u=this.dists[i.key][f.key])):u="average"==this.linkage?(this.dists[o.key][f.key]*o.size+this.dists[i.key][f.key]*i.size)/(o.size+i.size):this.distance(f.value,o.value),this.dists[o.key][f.key]=this.dists[f.key][o.key]=u}for(t=0;t<this.tree.length;t++){var s=this.tree[t].key;if(this.mins[s]==o.key||this.mins[s]==i.key){r=s;for(var c=0;c<this.tree.length;c++){var l=this.tree[c].key;this.dists[s][l]<this.dists[s][r]&&(r=l)}this.mins[s]=r}this.tree[t].index=t}return delete o.key,delete i.key,delete o.index,delete i.index,!0},clusters:function(n){(n>this.tree.size||n<1)&&(n=this.tree.size);for(var r=[],t=[this.tree];n>1;){var e=o(t);t.splice(t.indexOf(e),1),t.push(e.left,e.right),n--}function o(n){var r,t=-1;return n.forEach((function(n){n.dist>t&&(t=n.dist,r=n)})),r}return t.forEach((function(n){r.push(function n(r){if(1===r.size)return[r.value];return n(r.left).concat(n(r.right))}(n))})),r}};n.exports=function(n,r,t,i,a,u){t=t||"average","string"==typeof(r=r||"euclidean")&&(r=e[r]);var f=new o(r,t,i),s=f.tree(n,a,u);return{tree:void 0===i?s[0]:s,clusters:f.clusters}}}]);',null)}},function(t,e,n){(function(t,r){var o;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
(function(){var i,a=200,s="Expected a function",l="__lodash_hash_undefined__",u="__lodash_placeholder__",c=1,p=2,h=4,f=1,d=2,m=1,g=2,v=4,y=8,b=16,_=32,x=64,w=128,S=256,C=512,T=800,k=16,O=1/0,E=9007199254740991,M=1.7976931348623157e308,I=NaN,A=4294967295,P=A-1,D=A>>>1,R=[["ary",w],["bind",m],["bindKey",g],["curry",y],["curryRight",b],["flip",C],["partial",_],["partialRight",x],["rearg",S]],F="[object Arguments]",z="[object Array]",j="[object AsyncFunction]",N="[object Boolean]",L="[object Date]",B="[object DOMException]",H="[object Error]",V="[object Function]",W="[object GeneratorFunction]",G="[object Map]",U="[object Number]",q="[object Null]",K="[object Object]",Z="[object Proxy]",Y="[object RegExp]",X="[object Set]",$="[object String]",J="[object Symbol]",Q="[object Undefined]",tt="[object WeakMap]",et="[object ArrayBuffer]",nt="[object DataView]",rt="[object Float32Array]",ot="[object Float64Array]",it="[object Int8Array]",at="[object Int16Array]",st="[object Int32Array]",lt="[object Uint8Array]",ut="[object Uint8ClampedArray]",ct="[object Uint16Array]",pt="[object Uint32Array]",ht=/\b__p \+= '';/g,ft=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,gt=/[&<>"']/g,vt=RegExp(mt.source),yt=RegExp(gt.source),bt=/<%-([\s\S]+?)%>/g,_t=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,St=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,kt=RegExp(Tt.source),Ot=/^\s+|\s+$/g,Et=/^\s+/,Mt=/\s+$/,It=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,At=/\{\n\/\* \[wrapped with (.+)\] \*/,Pt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zt=/\w*$/,jt=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,Lt=/^\[object .+?Constructor\]$/,Bt=/^0o[0-7]+$/i,Ht=/^(?:0|[1-9]\d*)$/,Vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wt=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Ut="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kt="["+qt+"]",Zt="["+Ut+"]",Yt="\\d+",Xt="[a-z\\xdf-\\xf6\\xf8-\\xff]",$t="[^\\ud800-\\udfff"+qt+Yt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Jt="\\ud83c[\\udffb-\\udfff]",Qt="[^\\ud800-\\udfff]",te="(?:\\ud83c[\\udde6-\\uddff]){2}",ee="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="[A-Z\\xc0-\\xd6\\xd8-\\xde]",re="(?:"+Xt+"|"+$t+")",oe="(?:"+ne+"|"+$t+")",ie="(?:"+Zt+"|"+Jt+")?",ae="[\\ufe0e\\ufe0f]?"+ie+"(?:\\u200d(?:"+[Qt,te,ee].join("|")+")[\\ufe0e\\ufe0f]?"+ie+")*",se="(?:"+["[\\u2700-\\u27bf]",te,ee].join("|")+")"+ae,le="(?:"+[Qt+Zt+"?",Zt,te,ee,"[\\ud800-\\udfff]"].join("|")+")",ue=RegExp("[']","g"),ce=RegExp(Zt,"g"),pe=RegExp(Jt+"(?="+Jt+")|"+le+ae,"g"),he=RegExp([ne+"?"+Xt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Kt,ne,"$"].join("|")+")",oe+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Kt,ne+re,"$"].join("|")+")",ne+"?"+re+"+(?:['](?:d|ll|m|re|s|t|ve))?",ne+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yt,se].join("|"),"g"),fe=RegExp("[\\u200d\\ud800-\\udfff"+Ut+"\\ufe0e\\ufe0f]"),de=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ge=-1,ve={};ve[rt]=ve[ot]=ve[it]=ve[at]=ve[st]=ve[lt]=ve[ut]=ve[ct]=ve[pt]=!0,ve[F]=ve[z]=ve[et]=ve[N]=ve[nt]=ve[L]=ve[H]=ve[V]=ve[G]=ve[U]=ve[K]=ve[Y]=ve[X]=ve[$]=ve[tt]=!1;var ye={};ye[F]=ye[z]=ye[et]=ye[nt]=ye[N]=ye[L]=ye[rt]=ye[ot]=ye[it]=ye[at]=ye[st]=ye[G]=ye[U]=ye[K]=ye[Y]=ye[X]=ye[$]=ye[J]=ye[lt]=ye[ut]=ye[ct]=ye[pt]=!0,ye[H]=ye[V]=ye[tt]=!1;var be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_e=parseFloat,xe=parseInt,we="object"==typeof t&&t&&t.Object===Object&&t,Se="object"==typeof self&&self&&self.Object===Object&&self,Ce=we||Se||Function("return this")(),Te=e&&!e.nodeType&&e,ke=Te&&"object"==typeof r&&r&&!r.nodeType&&r,Oe=ke&&ke.exports===Te,Ee=Oe&&we.process,Me=function(){try{return ke&&ke.require&&ke.require("util").types||Ee&&Ee.binding&&Ee.binding("util")}catch(t){}}(),Ie=Me&&Me.isArrayBuffer,Ae=Me&&Me.isDate,Pe=Me&&Me.isMap,De=Me&&Me.isRegExp,Re=Me&&Me.isSet,Fe=Me&&Me.isTypedArray;function ze(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function je(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Ne(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Be(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function He(t,e){return!(null==t||!t.length)&&$e(t,e,0)>-1}function Ve(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function We(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function Ge(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Ue(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function qe(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function Ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ze=en("length");function Ye(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}function Xe(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function $e(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Xe(t,Qe,n)}function Je(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function Qe(t){return t!=t}function tn(t,e){var n=null==t?0:t.length;return n?on(t,e)/n:I}function en(t){return function(e){return null==e?i:e[t]}}function nn(t){return function(e){return null==t?i:t[e]}}function rn(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function on(t,e){for(var n,r=-1,o=t.length;++r<o;){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function an(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function sn(t){return function(e){return t(e)}}function ln(t,e){return We(e,function(e){return t[e]})}function un(t,e){return t.has(e)}function cn(t,e){for(var n=-1,r=t.length;++n<r&&$e(e,t[n],0)>-1;);return n}function pn(t,e){for(var n=t.length;n--&&$e(e,t[n],0)>-1;);return n}var hn=nn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),fn=nn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dn(t){return"\\"+be[t]}function mn(t){return fe.test(t)}function gn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function vn(t,e){return function(n){return t(e(n))}}function yn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,i[o++]=n)}return i}function bn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function _n(t){return mn(t)?function(t){for(var e=pe.lastIndex=0;pe.test(t);)++e;return e}(t):Ze(t)}function xn(t){return mn(t)?function(t){return t.match(pe)||[]}(t):function(t){return t.split("")}(t)}var wn=nn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Sn=function t(e){var n,r=(e=null==e?Ce:Sn.defaults(Ce.Object(),e,Sn.pick(Ce,me))).Array,o=e.Date,Ut=e.Error,qt=e.Function,Kt=e.Math,Zt=e.Object,Yt=e.RegExp,Xt=e.String,$t=e.TypeError,Jt=r.prototype,Qt=qt.prototype,te=Zt.prototype,ee=e["__core-js_shared__"],ne=Qt.toString,re=te.hasOwnProperty,oe=0,ie=(n=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ae=te.toString,se=ne.call(Zt),le=Ce._,pe=Yt("^"+ne.call(re).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=Oe?e.Buffer:i,be=e.Symbol,we=e.Uint8Array,Se=fe?fe.allocUnsafe:i,Te=vn(Zt.getPrototypeOf,Zt),ke=Zt.create,Ee=te.propertyIsEnumerable,Me=Jt.splice,Ze=be?be.isConcatSpreadable:i,nn=be?be.iterator:i,Cn=be?be.toStringTag:i,Tn=function(){try{var t=Ci(Zt,"defineProperty");return t({},"",{}),t}catch(t){}}(),kn=e.clearTimeout!==Ce.clearTimeout&&e.clearTimeout,On=o&&o.now!==Ce.Date.now&&o.now,En=e.setTimeout!==Ce.setTimeout&&e.setTimeout,Mn=Kt.ceil,In=Kt.floor,An=Zt.getOwnPropertySymbols,Pn=fe?fe.isBuffer:i,Dn=e.isFinite,Rn=Jt.join,Fn=vn(Zt.keys,Zt),zn=Kt.max,jn=Kt.min,Nn=o.now,Ln=e.parseInt,Bn=Kt.random,Hn=Jt.reverse,Vn=Ci(e,"DataView"),Wn=Ci(e,"Map"),Gn=Ci(e,"Promise"),Un=Ci(e,"Set"),qn=Ci(e,"WeakMap"),Kn=Ci(Zt,"create"),Zn=qn&&new qn,Yn={},Xn=Xi(Vn),$n=Xi(Wn),Jn=Xi(Gn),Qn=Xi(Un),tr=Xi(qn),er=be?be.prototype:i,nr=er?er.valueOf:i,rr=er?er.toString:i;function or(t){if(fs(t)&&!ns(t)&&!(t instanceof lr)){if(t instanceof sr)return t;if(re.call(t,"__wrapped__"))return $i(t)}return new sr(t)}var ir=function(){function t(){}return function(e){if(!hs(e))return{};if(ke)return ke(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function ar(){}function sr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function lr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function ur(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function pr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new pr;++e<n;)this.add(t[e])}function fr(t){var e=this.__data__=new cr(t);this.size=e.size}function dr(t,e){var n=ns(t),r=!n&&es(t),o=!n&&!r&&as(t),i=!n&&!r&&!o&&xs(t),a=n||r||o||i,s=a?an(t.length,Xt):[],l=s.length;for(var u in t)!e&&!re.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ai(u,l))||s.push(u);return s}function mr(t){var e=t.length;return e?t[uo(0,e-1)]:i}function gr(t,e,n){(n===i||Ja(t[e],n))&&(n!==i||e in t)||xr(t,e,n)}function vr(t,e,n){var r=t[e];re.call(t,e)&&Ja(r,n)&&(n!==i||e in t)||xr(t,e,n)}function yr(t,e){for(var n=t.length;n--;)if(Ja(t[n][0],e))return n;return-1}function br(t,e,n,r){return Er(t,function(t,o,i){e(r,t,n(t),i)}),r}function _r(t,e){return t&&Wo(e,Ws(e),t)}function xr(t,e,n){"__proto__"==e&&Tn?Tn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function wr(t,e){for(var n=-1,o=e.length,a=r(o),s=null==t;++n<o;)a[n]=s?i:Ns(t,e[n]);return a}function Sr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Cr(t,e,n,r,o,a){var s,l=e&c,u=e&p,f=e&h;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!hs(t))return t;var d=ns(t);if(d){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&re.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return Vo(t,s)}else{var m=Oi(t),g=m==V||m==W;if(as(t))return zo(t,l);if(m==K||m==F||g&&!o){if(s=u||g?{}:Mi(t),!l)return u?function(t,e){return Wo(t,ki(t),e)}(t,function(t,e){return t&&Wo(e,Gs(e),t)}(s,t)):function(t,e){return Wo(t,Ti(t),e)}(t,_r(s,t))}else{if(!ye[m])return o?t:{};s=function(t,e,n){var r,o=t.constructor;switch(e){case et:return jo(t);case N:case L:return new o(+t);case nt:return function(t,e){var n=e?jo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case rt:case ot:case it:case at:case st:case lt:case ut:case ct:case pt:return No(t,n);case G:return new o;case U:case $:return new o(t);case Y:return function(t){var e=new t.constructor(t.source,zt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case X:return new o;case J:return r=t,nr?Zt(nr.call(r)):{}}}(t,m,l)}}a||(a=new fr);var v=a.get(t);if(v)return v;a.set(t,s),ys(t)?t.forEach(function(r){s.add(Cr(r,e,n,r,t,a))}):ds(t)&&t.forEach(function(r,o){s.set(o,Cr(r,e,n,o,t,a))});var y=d?i:(f?u?vi:gi:u?Gs:Ws)(t);return Ne(y||t,function(r,o){y&&(r=t[o=r]),vr(s,o,Cr(r,e,n,o,t,a))}),s}function Tr(t,e,n){var r=n.length;if(null==t)return!r;for(t=Zt(t);r--;){var o=n[r],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function kr(t,e,n){if("function"!=typeof t)throw new $t(s);return Wi(function(){t.apply(i,n)},e)}function Or(t,e,n,r){var o=-1,i=He,s=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=We(e,sn(n))),r?(i=Ve,s=!1):e.length>=a&&(i=un,s=!1,e=new hr(e));t:for(;++o<l;){var p=t[o],h=null==n?p:n(p);if(p=r||0!==p?p:0,s&&h==h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(p)}else i(e,h,r)||u.push(p)}return u}or.templateSettings={escape:bt,evaluate:_t,interpolate:xt,variable:"",imports:{_:or}},or.prototype=ar.prototype,or.prototype.constructor=or,sr.prototype=ir(ar.prototype),sr.prototype.constructor=sr,lr.prototype=ir(ar.prototype),lr.prototype.constructor=lr,ur.prototype.clear=function(){this.__data__=Kn?Kn(null):{},this.size=0},ur.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ur.prototype.get=function(t){var e=this.__data__;if(Kn){var n=e[t];return n===l?i:n}return re.call(e,t)?e[t]:i},ur.prototype.has=function(t){var e=this.__data__;return Kn?e[t]!==i:re.call(e,t)},ur.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Kn&&e===i?l:e,this},cr.prototype.clear=function(){this.__data__=[],this.size=0},cr.prototype.delete=function(t){var e=this.__data__,n=yr(e,t);return!(n<0||(n==e.length-1?e.pop():Me.call(e,n,1),--this.size,0))},cr.prototype.get=function(t){var e=this.__data__,n=yr(e,t);return n<0?i:e[n][1]},cr.prototype.has=function(t){return yr(this.__data__,t)>-1},cr.prototype.set=function(t,e){var n=this.__data__,r=yr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},pr.prototype.clear=function(){this.size=0,this.__data__={hash:new ur,map:new(Wn||cr),string:new ur}},pr.prototype.delete=function(t){var e=wi(this,t).delete(t);return this.size-=e?1:0,e},pr.prototype.get=function(t){return wi(this,t).get(t)},pr.prototype.has=function(t){return wi(this,t).has(t)},pr.prototype.set=function(t,e){var n=wi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},hr.prototype.add=hr.prototype.push=function(t){return this.__data__.set(t,l),this},hr.prototype.has=function(t){return this.__data__.has(t)},fr.prototype.clear=function(){this.__data__=new cr,this.size=0},fr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},fr.prototype.get=function(t){return this.__data__.get(t)},fr.prototype.has=function(t){return this.__data__.has(t)},fr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof cr){var r=n.__data__;if(!Wn||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new pr(r)}return n.set(t,e),this.size=n.size,this};var Er=qo(zr),Mr=qo(jr,!0);function Ir(t,e){var n=!0;return Er(t,function(t,r,o){return n=!!e(t,r,o)}),n}function Ar(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(l===i?s==s&&!_s(s):n(s,l)))var l=s,u=a}return u}function Pr(t,e){var n=[];return Er(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function Dr(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=Ii),o||(o=[]);++i<a;){var s=t[i];e>0&&n(s)?e>1?Dr(s,e-1,n,r,o):Ge(o,s):r||(o[o.length]=s)}return o}var Rr=Ko(),Fr=Ko(!0);function zr(t,e){return t&&Rr(t,e,Ws)}function jr(t,e){return t&&Fr(t,e,Ws)}function Nr(t,e){return Be(e,function(e){return us(t[e])})}function Lr(t,e){for(var n=0,r=(e=Po(e,t)).length;null!=t&&n<r;)t=t[Yi(e[n++])];return n&&n==r?t:i}function Br(t,e,n){var r=e(t);return ns(t)?r:Ge(r,n(t))}function Hr(t){return null==t?t===i?Q:q:Cn&&Cn in Zt(t)?function(t){var e=re.call(t,Cn),n=t[Cn];try{t[Cn]=i;var r=!0}catch(t){}var o=ae.call(t);return r&&(e?t[Cn]=n:delete t[Cn]),o}(t):function(t){return ae.call(t)}(t)}function Vr(t,e){return t>e}function Wr(t,e){return null!=t&&re.call(t,e)}function Gr(t,e){return null!=t&&e in Zt(t)}function Ur(t,e,n){for(var o=n?Ve:He,a=t[0].length,s=t.length,l=s,u=r(s),c=1/0,p=[];l--;){var h=t[l];l&&e&&(h=We(h,sn(e))),c=jn(h.length,c),u[l]=!n&&(e||a>=120&&h.length>=120)?new hr(l&&h):i}h=t[0];var f=-1,d=u[0];t:for(;++f<a&&p.length<c;){var m=h[f],g=e?e(m):m;if(m=n||0!==m?m:0,!(d?un(d,g):o(p,g,n))){for(l=s;--l;){var v=u[l];if(!(v?un(v,g):o(t[l],g,n)))continue t}d&&d.push(g),p.push(m)}}return p}function qr(t,e,n){var r=null==(t=Bi(t,e=Po(e,t)))?t:t[Yi(la(e))];return null==r?i:ze(r,t,n)}function Kr(t){return fs(t)&&Hr(t)==F}function Zr(t,e,n,r,o){return t===e||(null==t||null==e||!fs(t)&&!fs(e)?t!=t&&e!=e:function(t,e,n,r,o,a){var s=ns(t),l=ns(e),u=s?z:Oi(t),c=l?z:Oi(e),p=(u=u==F?K:u)==K,h=(c=c==F?K:c)==K,m=u==c;if(m&&as(t)){if(!as(e))return!1;s=!0,p=!1}if(m&&!p)return a||(a=new fr),s||xs(t)?di(t,e,n,r,o,a):function(t,e,n,r,o,i,a){switch(n){case nt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case et:return!(t.byteLength!=e.byteLength||!i(new we(t),new we(e)));case N:case L:case U:return Ja(+t,+e);case H:return t.name==e.name&&t.message==e.message;case Y:case $:return t==e+"";case G:var s=gn;case X:var l=r&f;if(s||(s=bn),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=d,a.set(t,e);var c=di(s(t),s(e),r,o,i,a);return a.delete(t),c;case J:if(nr)return nr.call(t)==nr.call(e)}return!1}(t,e,u,n,r,o,a);if(!(n&f)){var g=p&&re.call(t,"__wrapped__"),v=h&&re.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,b=v?e.value():e;return a||(a=new fr),o(y,b,n,r,a)}}return!!m&&(a||(a=new fr),function(t,e,n,r,o,a){var s=n&f,l=gi(t),u=l.length;if(u!=gi(e).length&&!s)return!1;for(var c=u;c--;){var p=l[c];if(!(s?p in e:re.call(e,p)))return!1}var h=a.get(t);if(h&&a.get(e))return h==e;var d=!0;a.set(t,e),a.set(e,t);for(var m=s;++c<u;){var g=t[p=l[c]],v=e[p];if(r)var y=s?r(v,g,p,e,t,a):r(g,v,p,t,e,a);if(!(y===i?g===v||o(g,v,n,r,a):y)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return a.delete(t),a.delete(e),d}(t,e,n,r,o,a))}(t,e,n,r,Zr,o))}function Yr(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;for(t=Zt(t);o--;){var l=n[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var u=(l=n[o])[0],c=t[u],p=l[1];if(s&&l[2]){if(c===i&&!(u in t))return!1}else{var h=new fr;if(r)var m=r(c,p,u,t,e,h);if(!(m===i?Zr(p,c,f|d,r,h):m))return!1}}return!0}function Xr(t){return!(!hs(t)||(e=t,ie&&ie in e))&&(us(t)?pe:Lt).test(Xi(t));var e}function $r(t){return"function"==typeof t?t:null==t?ml:"object"==typeof t?ns(t)?no(t[0],t[1]):eo(t):Cl(t)}function Jr(t){if(!zi(t))return Fn(t);var e=[];for(var n in Zt(t))re.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Qr(t,e){return t<e}function to(t,e){var n=-1,o=os(t)?r(t.length):[];return Er(t,function(t,r,i){o[++n]=e(t,r,i)}),o}function eo(t){var e=Si(t);return 1==e.length&&e[0][2]?Ni(e[0][0],e[0][1]):function(n){return n===t||Yr(n,t,e)}}function no(t,e){return Di(t)&&ji(e)?Ni(Yi(t),e):function(n){var r=Ns(n,t);return r===i&&r===e?Ls(n,t):Zr(e,r,f|d)}}function ro(t,e,n,r,o){t!==e&&Rr(e,function(a,s){if(o||(o=new fr),hs(a))!function(t,e,n,r,o,a,s){var l=Hi(t,n),u=Hi(e,n),c=s.get(u);if(c)gr(t,n,c);else{var p=a?a(l,u,n+"",t,e,s):i,h=p===i;if(h){var f=ns(u),d=!f&&as(u),m=!f&&!d&&xs(u);p=u,f||d||m?ns(l)?p=l:is(l)?p=Vo(l):d?(h=!1,p=zo(u,!0)):m?(h=!1,p=No(u,!0)):p=[]:gs(u)||es(u)?(p=l,es(l)?p=Ms(l):hs(l)&&!us(l)||(p=Mi(u))):h=!1}h&&(s.set(u,p),o(p,u,r,a,s),s.delete(u)),gr(t,n,p)}}(t,e,s,n,ro,r,o);else{var l=r?r(Hi(t,s),a,s+"",t,e,o):i;l===i&&(l=a),gr(t,s,l)}},Gs)}function oo(t,e){var n=t.length;if(n)return Ai(e+=e<0?n:0,n)?t[e]:i}function io(t,e,n){var r=-1;return e=We(e.length?e:[ml],sn(xi())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(to(t,function(t,n,o){return{criteria:We(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;++r<a;){var l=Lo(o[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)})}function ao(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=Lr(t,a);n(s,a)&&ho(i,Po(a,t),s)}return i}function so(t,e,n,r){var o=r?Je:$e,i=-1,a=e.length,s=t;for(t===e&&(e=Vo(e)),n&&(s=We(t,sn(n)));++i<a;)for(var l=0,u=e[i],c=n?n(u):u;(l=o(s,c,l,r))>-1;)s!==t&&Me.call(s,l,1),Me.call(t,l,1);return t}function lo(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;Ai(o)?Me.call(t,o,1):Co(t,o)}}return t}function uo(t,e){return t+In(Bn()*(e-t+1))}function co(t,e){var n="";if(!t||e<1||e>E)return n;do{e%2&&(n+=t),(e=In(e/2))&&(t+=t)}while(e);return n}function po(t,e){return Gi(Li(t,e,ml),t+"")}function ho(t,e,n,r){if(!hs(t))return t;for(var o=-1,a=(e=Po(e,t)).length,s=a-1,l=t;null!=l&&++o<a;){var u=Yi(e[o]),c=n;if(o!=s){var p=l[u];(c=r?r(p,u,l):i)===i&&(c=hs(p)?p:Ai(e[o+1])?[]:{})}vr(l,u,c),l=l[u]}return t}var fo=Zn?function(t,e){return Zn.set(t,e),t}:ml,mo=Tn?function(t,e){return Tn(t,"toString",{configurable:!0,enumerable:!1,value:hl(e),writable:!0})}:ml;function go(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function vo(t,e){var n;return Er(t,function(t,r,o){return!(n=e(t,r,o))}),!!n}function yo(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=D){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!_s(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return bo(t,e,ml,n)}function bo(t,e,n,r){e=n(e);for(var o=0,a=null==t?0:t.length,s=e!=e,l=null===e,u=_s(e),c=e===i;o<a;){var p=In((o+a)/2),h=n(t[p]),f=h!==i,d=null===h,m=h==h,g=_s(h);if(s)var v=r||m;else v=c?m&&(r||f):l?m&&f&&(r||!d):u?m&&f&&!d&&(r||!g):!d&&!g&&(r?h<=e:h<e);v?o=p+1:a=p}return jn(a,P)}function _o(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ja(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function xo(t){return"number"==typeof t?t:_s(t)?I:+t}function wo(t){if("string"==typeof t)return t;if(ns(t))return We(t,wo)+"";if(_s(t))return rr?rr.call(t):"";var e=t+"";return"0"==e&&1/t==-O?"-0":e}function So(t,e,n){var r=-1,o=He,i=t.length,s=!0,l=[],u=l;if(n)s=!1,o=Ve;else if(i>=a){var c=e?null:li(t);if(c)return bn(c);s=!1,o=un,u=new hr}else u=e?[]:l;t:for(;++r<i;){var p=t[r],h=e?e(p):p;if(p=n||0!==p?p:0,s&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),l.push(p)}else o(u,h,n)||(u!==l&&u.push(h),l.push(p))}return l}function Co(t,e){return null==(t=Bi(t,e=Po(e,t)))||delete t[Yi(la(e))]}function To(t,e,n,r){return ho(t,e,n(Lr(t,e)),r)}function ko(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?go(t,r?0:i,r?i+1:o):go(t,r?i+1:0,r?o:i)}function Oo(t,e){var n=t;return n instanceof lr&&(n=n.value()),Ue(e,function(t,e){return e.func.apply(e.thisArg,Ge([t],e.args))},n)}function Eo(t,e,n){var o=t.length;if(o<2)return o?So(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=t[i],l=-1;++l<o;)l!=i&&(a[i]=Or(a[i]||s,t[l],e,n));return So(Dr(a,1),e,n)}function Mo(t,e,n){for(var r=-1,o=t.length,a=e.length,s={};++r<o;){var l=r<a?e[r]:i;n(s,t[r],l)}return s}function Io(t){return is(t)?t:[]}function Ao(t){return"function"==typeof t?t:ml}function Po(t,e){return ns(t)?t:Di(t,e)?[t]:Zi(Is(t))}var Do=po;function Ro(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:go(t,e,n)}var Fo=kn||function(t){return Ce.clearTimeout(t)};function zo(t,e){if(e)return t.slice();var n=t.length,r=Se?Se(n):new t.constructor(n);return t.copy(r),r}function jo(t){var e=new t.constructor(t.byteLength);return new we(e).set(new we(t)),e}function No(t,e){var n=e?jo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Lo(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,a=_s(t),s=e!==i,l=null===e,u=e==e,c=_s(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&t<e||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function Bo(t,e,n,o){for(var i=-1,a=t.length,s=n.length,l=-1,u=e.length,c=zn(a-s,0),p=r(u+c),h=!o;++l<u;)p[l]=e[l];for(;++i<s;)(h||i<a)&&(p[n[i]]=t[i]);for(;c--;)p[l++]=t[i++];return p}function Ho(t,e,n,o){for(var i=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,p=zn(a-l,0),h=r(p+c),f=!o;++i<p;)h[i]=t[i];for(var d=i;++u<c;)h[d+u]=e[u];for(;++s<l;)(f||i<a)&&(h[d+n[s]]=t[i++]);return h}function Vo(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function Wo(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var l=e[a],u=r?r(n[l],t[l],l,n,t):i;u===i&&(u=t[l]),o?xr(n,l,u):vr(n,l,u)}return n}function Go(t,e){return function(n,r){var o=ns(n)?je:br,i=e?e():{};return o(n,t,xi(r,2),i)}}function Uo(t){return po(function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=t.length>3&&"function"==typeof a?(o--,a):i,s&&Pi(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=Zt(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e})}function qo(t,e){return function(n,r){if(null==n)return n;if(!os(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Zt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Ko(t){return function(e,n,r){for(var o=-1,i=Zt(e),a=r(e),s=a.length;s--;){var l=a[t?s:++o];if(!1===n(i[l],l,i))break}return e}}function Zo(t){return function(e){var n=mn(e=Is(e))?xn(e):i,r=n?n[0]:e.charAt(0),o=n?Ro(n,1).join(""):e.slice(1);return r[t]()+o}}function Yo(t){return function(e){return Ue(ul(el(e).replace(ue,"")),t,"")}}function Xo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ir(t.prototype),r=t.apply(n,e);return hs(r)?r:n}}function $o(t){return function(e,n,r){var o=Zt(e);if(!os(e)){var a=xi(n,3);e=Ws(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function Jo(t){return mi(function(e){var n=e.length,r=n,o=sr.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new $t(s);if(o&&!l&&"wrapper"==bi(a))var l=new sr([],!0)}for(r=l?r:n;++r<n;){var u=bi(a=e[r]),c="wrapper"==u?yi(a):i;l=c&&Ri(c[0])&&c[1]==(w|y|_|S)&&!c[4].length&&1==c[9]?l[bi(c[0])].apply(l,c[3]):1==a.length&&Ri(a)?l[u]():l.thru(a)}return function(){var t=arguments,r=t[0];if(l&&1==t.length&&ns(r))return l.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}function Qo(t,e,n,o,a,s,l,u,c,p){var h=e&w,f=e&m,d=e&g,v=e&(y|b),_=e&C,x=d?i:Xo(t);return function m(){for(var g=arguments.length,y=r(g),b=g;b--;)y[b]=arguments[b];if(v)var w=_i(m),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(y,w);if(o&&(y=Bo(y,o,a,v)),s&&(y=Ho(y,s,l,v)),g-=S,v&&g<p){var C=yn(y,w);return ai(t,e,Qo,m.placeholder,n,y,C,u,c,p-g)}var T=f?n:this,k=d?T[t]:t;return g=y.length,u?y=function(t,e){for(var n=t.length,r=jn(e.length,n),o=Vo(t);r--;){var a=e[r];t[r]=Ai(a,n)?o[a]:i}return t}(y,u):_&&g>1&&y.reverse(),h&&c<g&&(y.length=c),this&&this!==Ce&&this instanceof m&&(k=x||Xo(k)),k.apply(T,y)}}function ti(t,e){return function(n,r){return function(t,e,n,r){return zr(t,function(t,o,i){e(r,n(t),o,i)}),r}(n,t,e(r),{})}}function ei(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=wo(n),r=wo(r)):(n=xo(n),r=xo(r)),o=t(n,r)}return o}}function ni(t){return mi(function(e){return e=We(e,sn(xi())),po(function(n){var r=this;return t(e,function(t){return ze(t,r,n)})})})}function ri(t,e){var n=(e=e===i?" ":wo(e)).length;if(n<2)return n?co(e,t):e;var r=co(e,Mn(t/_n(e)));return mn(e)?Ro(xn(r),0,t).join(""):r.slice(0,t)}function oi(t){return function(e,n,o){return o&&"number"!=typeof o&&Pi(e,n,o)&&(n=o=i),e=Ts(e),n===i?(n=e,e=0):n=Ts(n),function(t,e,n,o){for(var i=-1,a=zn(Mn((e-t)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=t,t+=n;return s}(e,n,o=o===i?e<n?1:-1:Ts(o),t)}}function ii(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Es(e),n=Es(n)),t(e,n)}}function ai(t,e,n,r,o,a,s,l,u,c){var p=e&y;e|=p?_:x,(e&=~(p?x:_))&v||(e&=~(m|g));var h=[t,e,o,p?a:i,p?s:i,p?i:a,p?i:s,l,u,c],f=n.apply(i,h);return Ri(t)&&Vi(f,h),f.placeholder=r,Ui(f,t,e)}function si(t){var e=Kt[t];return function(t,n){if(t=Es(t),(n=null==n?0:jn(ks(n),292))&&Dn(t)){var r=(Is(t)+"e").split("e");return+((r=(Is(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var li=Un&&1/bn(new Un([,-0]))[1]==O?function(t){return new Un(t)}:_l;function ui(t){return function(e){var n=Oi(e);return n==G?gn(e):n==X?function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}(e):function(t,e){return We(e,function(e){return[e,t[e]]})}(e,t(e))}}function ci(t,e,n,o,a,l,c,p){var h=e&g;if(!h&&"function"!=typeof t)throw new $t(s);var f=o?o.length:0;if(f||(e&=~(_|x),o=a=i),c=c===i?c:zn(ks(c),0),p=p===i?p:ks(p),f-=a?a.length:0,e&x){var d=o,C=a;o=a=i}var T=h?i:yi(t),k=[t,e,n,o,a,d,C,l,c,p];if(T&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<(m|g|w),a=r==w&&n==y||r==w&&n==S&&t[7].length<=e[8]||r==(w|S)&&e[7].length<=e[8]&&n==y;if(!i&&!a)return t;r&m&&(t[2]=e[2],o|=n&m?0:v);var s=e[3];if(s){var l=t[3];t[3]=l?Bo(l,s,e[4]):s,t[4]=l?yn(t[3],u):e[4]}(s=e[5])&&(l=t[5],t[5]=l?Ho(l,s,e[6]):s,t[6]=l?yn(t[5],u):e[6]),(s=e[7])&&(t[7]=s),r&w&&(t[8]=null==t[8]?e[8]:jn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(k,T),t=k[0],e=k[1],n=k[2],o=k[3],a=k[4],!(p=k[9]=k[9]===i?h?0:t.length:zn(k[9]-f,0))&&e&(y|b)&&(e&=~(y|b)),e&&e!=m)O=e==y||e==b?function(t,e,n){var o=Xo(t);return function a(){for(var s=arguments.length,l=r(s),u=s,c=_i(a);u--;)l[u]=arguments[u];var p=s<3&&l[0]!==c&&l[s-1]!==c?[]:yn(l,c);return(s-=p.length)<n?ai(t,e,Qo,a.placeholder,i,l,p,i,i,n-s):ze(this&&this!==Ce&&this instanceof a?o:t,this,l)}}(t,e,p):e!=_&&e!=(m|_)||a.length?Qo.apply(i,k):function(t,e,n,o){var i=e&m,a=Xo(t);return function e(){for(var s=-1,l=arguments.length,u=-1,c=o.length,p=r(c+l),h=this&&this!==Ce&&this instanceof e?a:t;++u<c;)p[u]=o[u];for(;l--;)p[u++]=arguments[++s];return ze(h,i?n:this,p)}}(t,e,n,o);else var O=function(t,e,n){var r=e&m,o=Xo(t);return function e(){return(this&&this!==Ce&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ui((T?fo:Vi)(O,k),t,e)}function pi(t,e,n,r){return t===i||Ja(t,te[n])&&!re.call(r,n)?e:t}function hi(t,e,n,r,o,a){return hs(t)&&hs(e)&&(a.set(e,t),ro(t,e,i,hi,a),a.delete(e)),t}function fi(t){return gs(t)?i:t}function di(t,e,n,r,o,a){var s=n&f,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var p=-1,h=!0,m=n&d?new hr:i;for(a.set(t,e),a.set(e,t);++p<l;){var g=t[p],v=e[p];if(r)var y=s?r(v,g,p,e,t,a):r(g,v,p,t,e,a);if(y!==i){if(y)continue;h=!1;break}if(m){if(!Ke(e,function(t,e){if(!un(m,e)&&(g===t||o(g,t,n,r,a)))return m.push(e)})){h=!1;break}}else if(g!==v&&!o(g,v,n,r,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function mi(t){return Gi(Li(t,i,ra),t+"")}function gi(t){return Br(t,Ws,Ti)}function vi(t){return Br(t,Gs,ki)}var yi=Zn?function(t){return Zn.get(t)}:_l;function bi(t){for(var e=t.name+"",n=Yn[e],r=re.call(Yn,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function _i(t){return(re.call(or,"placeholder")?or:t).placeholder}function xi(){var t=or.iteratee||gl;return t=t===gl?$r:t,arguments.length?t(arguments[0],arguments[1]):t}function wi(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Si(t){for(var e=Ws(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,ji(o)]}return e}function Ci(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Xr(n)?n:i}var Ti=An?function(t){return null==t?[]:(t=Zt(t),Be(An(t),function(e){return Ee.call(t,e)}))}:Ol,ki=An?function(t){for(var e=[];t;)Ge(e,Ti(t)),t=Te(t);return e}:Ol,Oi=Hr;function Ei(t,e,n){for(var r=-1,o=(e=Po(e,t)).length,i=!1;++r<o;){var a=Yi(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ps(o)&&Ai(a,o)&&(ns(t)||es(t))}function Mi(t){return"function"!=typeof t.constructor||zi(t)?{}:ir(Te(t))}function Ii(t){return ns(t)||es(t)||!!(Ze&&t&&t[Ze])}function Ai(t,e){var n=typeof t;return!!(e=null==e?E:e)&&("number"==n||"symbol"!=n&&Ht.test(t))&&t>-1&&t%1==0&&t<e}function Pi(t,e,n){if(!hs(n))return!1;var r=typeof e;return!!("number"==r?os(n)&&Ai(e,n.length):"string"==r&&e in n)&&Ja(n[e],t)}function Di(t,e){if(ns(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_s(t))||St.test(t)||!wt.test(t)||null!=e&&t in Zt(e)}function Ri(t){var e=bi(t),n=or[e];if("function"!=typeof n||!(e in lr.prototype))return!1;if(t===n)return!0;var r=yi(n);return!!r&&t===r[0]}(Vn&&Oi(new Vn(new ArrayBuffer(1)))!=nt||Wn&&Oi(new Wn)!=G||Gn&&"[object Promise]"!=Oi(Gn.resolve())||Un&&Oi(new Un)!=X||qn&&Oi(new qn)!=tt)&&(Oi=function(t){var e=Hr(t),n=e==K?t.constructor:i,r=n?Xi(n):"";if(r)switch(r){case Xn:return nt;case $n:return G;case Jn:return"[object Promise]";case Qn:return X;case tr:return tt}return e});var Fi=ee?us:El;function zi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||te)}function ji(t){return t==t&&!hs(t)}function Ni(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Zt(n))}}function Li(t,e,n){return e=zn(e===i?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=zn(o.length-e,0),s=r(a);++i<a;)s[i]=o[e+i];i=-1;for(var l=r(e+1);++i<e;)l[i]=o[i];return l[e]=n(s),ze(t,this,l)}}function Bi(t,e){return e.length<2?t:Lr(t,go(e,0,-1))}function Hi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Vi=qi(fo),Wi=En||function(t,e){return Ce.setTimeout(t,e)},Gi=qi(mo);function Ui(t,e,n){var r=e+"";return Gi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(It,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ne(R,function(n){var r="_."+n[0];e&n[1]&&!He(t,r)&&t.push(r)}),t.sort()}(function(t){var e=r.match(At);return e?e[1].split(Pt):[]}(),n)))}function qi(t){var e=0,n=0;return function(){var r=Nn(),o=k-(r-n);if(n=r,o>0){if(++e>=T)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ki(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var a=uo(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Zi=function(t){var e=qa(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ct,function(t,n,r,o){e.push(r?o.replace(Rt,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}();function Yi(t){if("string"==typeof t||_s(t))return t;var e=t+"";return"0"==e&&1/t==-O?"-0":e}function Xi(t){if(null!=t){try{return ne.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $i(t){if(t instanceof lr)return t.clone();var e=new sr(t.__wrapped__,t.__chain__);return e.__actions__=Vo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ji=po(function(t,e){return is(t)?Or(t,Dr(e,1,is,!0)):[]}),Qi=po(function(t,e){var n=la(e);return is(n)&&(n=i),is(t)?Or(t,Dr(e,1,is,!0),xi(n,2)):[]}),ta=po(function(t,e){var n=la(e);return is(n)&&(n=i),is(t)?Or(t,Dr(e,1,is,!0),i,n):[]});function ea(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ks(n);return o<0&&(o=zn(r+o,0)),Xe(t,xi(e,3),o)}function na(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ks(n),o=n<0?zn(r+o,0):jn(o,r-1)),Xe(t,xi(e,3),o,!0)}function ra(t){return null!=t&&t.length?Dr(t,1):[]}function oa(t){return t&&t.length?t[0]:i}var ia=po(function(t){var e=We(t,Io);return e.length&&e[0]===t[0]?Ur(e):[]}),aa=po(function(t){var e=la(t),n=We(t,Io);return e===la(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Ur(n,xi(e,2)):[]}),sa=po(function(t){var e=la(t),n=We(t,Io);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Ur(n,i,e):[]});function la(t){var e=null==t?0:t.length;return e?t[e-1]:i}var ua=po(ca);function ca(t,e){return t&&t.length&&e&&e.length?so(t,e):t}var pa=mi(function(t,e){var n=null==t?0:t.length,r=wr(t,e);return lo(t,We(e,function(t){return Ai(t,n)?+t:t}).sort(Lo)),r});function ha(t){return null==t?t:Hn.call(t)}var fa=po(function(t){return So(Dr(t,1,is,!0))}),da=po(function(t){var e=la(t);return is(e)&&(e=i),So(Dr(t,1,is,!0),xi(e,2))}),ma=po(function(t){var e=la(t);return e="function"==typeof e?e:i,So(Dr(t,1,is,!0),i,e)});function ga(t){if(!t||!t.length)return[];var e=0;return t=Be(t,function(t){if(is(t))return e=zn(t.length,e),!0}),an(e,function(e){return We(t,en(e))})}function va(t,e){if(!t||!t.length)return[];var n=ga(t);return null==e?n:We(n,function(t){return ze(e,i,t)})}var ya=po(function(t,e){return is(t)?Or(t,e):[]}),ba=po(function(t){return Eo(Be(t,is))}),_a=po(function(t){var e=la(t);return is(e)&&(e=i),Eo(Be(t,is),xi(e,2))}),xa=po(function(t){var e=la(t);return e="function"==typeof e?e:i,Eo(Be(t,is),i,e)}),wa=po(ga),Sa=po(function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,va(t,n)});function Ca(t){var e=or(t);return e.__chain__=!0,e}function Ta(t,e){return e(t)}var ka=mi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return wr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof lr&&Ai(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Ta,args:[o],thisArg:i}),new sr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(o)}),Oa=Go(function(t,e,n){re.call(t,n)?++t[n]:xr(t,n,1)}),Ea=$o(ea),Ma=$o(na);function Ia(t,e){return(ns(t)?Ne:Er)(t,xi(e,3))}function Aa(t,e){return(ns(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:Mr)(t,xi(e,3))}var Pa=Go(function(t,e,n){re.call(t,n)?t[n].push(e):xr(t,n,[e])}),Da=po(function(t,e,n){var o=-1,i="function"==typeof e,a=os(t)?r(t.length):[];return Er(t,function(t){a[++o]=i?ze(e,t,n):qr(t,e,n)}),a}),Ra=Go(function(t,e,n){xr(t,n,e)});function Fa(t,e){return(ns(t)?We:to)(t,xi(e,3))}var za=Go(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ja=po(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Pi(t,e[0],e[1])?e=[]:n>2&&Pi(e[0],e[1],e[2])&&(e=[e[0]]),io(t,Dr(e,1),[])}),Na=On||function(){return Ce.Date.now()};function La(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,ci(t,w,i,i,i,i,e)}function Ba(t,e){var n;if("function"!=typeof e)throw new $t(s);return t=ks(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ha=po(function(t,e,n){var r=m;if(n.length){var o=yn(n,_i(Ha));r|=_}return ci(t,r,e,n,o)}),Va=po(function(t,e,n){var r=m|g;if(n.length){var o=yn(n,_i(Va));r|=_}return ci(e,r,t,n,o)});function Wa(t,e,n){var r,o,a,l,u,c,p=0,h=!1,f=!1,d=!0;if("function"!=typeof t)throw new $t(s);function m(e){var n=r,a=o;return r=o=i,p=e,l=t.apply(a,n)}function g(t){var n=t-c;return c===i||n>=e||n<0||f&&t-p>=a}function v(){var t=Na();if(g(t))return y(t);u=Wi(v,function(t){var n=e-(t-c);return f?jn(n,a-(t-p)):n}(t))}function y(t){return u=i,d&&r?m(t):(r=o=i,l)}function b(){var t=Na(),n=g(t);if(r=arguments,o=this,c=t,n){if(u===i)return function(t){return p=t,u=Wi(v,e),h?m(t):l}(c);if(f)return Fo(u),u=Wi(v,e),m(c)}return u===i&&(u=Wi(v,e)),l}return e=Es(e)||0,hs(n)&&(h=!!n.leading,a=(f="maxWait"in n)?zn(Es(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),b.cancel=function(){u!==i&&Fo(u),p=0,r=c=o=u=i},b.flush=function(){return u===i?l:y(Na())},b}var Ga=po(function(t,e){return kr(t,1,e)}),Ua=po(function(t,e,n){return kr(t,Es(e)||0,n)});function qa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new $t(s);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(qa.Cache||pr),n}function Ka(t){if("function"!=typeof t)throw new $t(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}qa.Cache=pr;var Za=Do(function(t,e){var n=(e=1==e.length&&ns(e[0])?We(e[0],sn(xi())):We(Dr(e,1),sn(xi()))).length;return po(function(r){for(var o=-1,i=jn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return ze(t,this,r)})}),Ya=po(function(t,e){var n=yn(e,_i(Ya));return ci(t,_,i,e,n)}),Xa=po(function(t,e){var n=yn(e,_i(Xa));return ci(t,x,i,e,n)}),$a=mi(function(t,e){return ci(t,S,i,i,i,e)});function Ja(t,e){return t===e||t!=t&&e!=e}var Qa=ii(Vr),ts=ii(function(t,e){return t>=e}),es=Kr(function(){return arguments}())?Kr:function(t){return fs(t)&&re.call(t,"callee")&&!Ee.call(t,"callee")},ns=r.isArray,rs=Ie?sn(Ie):function(t){return fs(t)&&Hr(t)==et};function os(t){return null!=t&&ps(t.length)&&!us(t)}function is(t){return fs(t)&&os(t)}var as=Pn||El,ss=Ae?sn(Ae):function(t){return fs(t)&&Hr(t)==L};function ls(t){if(!fs(t))return!1;var e=Hr(t);return e==H||e==B||"string"==typeof t.message&&"string"==typeof t.name&&!gs(t)}function us(t){if(!hs(t))return!1;var e=Hr(t);return e==V||e==W||e==j||e==Z}function cs(t){return"number"==typeof t&&t==ks(t)}function ps(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}function hs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function fs(t){return null!=t&&"object"==typeof t}var ds=Pe?sn(Pe):function(t){return fs(t)&&Oi(t)==G};function ms(t){return"number"==typeof t||fs(t)&&Hr(t)==U}function gs(t){if(!fs(t)||Hr(t)!=K)return!1;var e=Te(t);if(null===e)return!0;var n=re.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ne.call(n)==se}var vs=De?sn(De):function(t){return fs(t)&&Hr(t)==Y},ys=Re?sn(Re):function(t){return fs(t)&&Oi(t)==X};function bs(t){return"string"==typeof t||!ns(t)&&fs(t)&&Hr(t)==$}function _s(t){return"symbol"==typeof t||fs(t)&&Hr(t)==J}var xs=Fe?sn(Fe):function(t){return fs(t)&&ps(t.length)&&!!ve[Hr(t)]},ws=ii(Qr),Ss=ii(function(t,e){return t<=e});function Cs(t){if(!t)return[];if(os(t))return bs(t)?xn(t):Vo(t);if(nn&&t[nn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[nn]());var e=Oi(t);return(e==G?gn:e==X?bn:Js)(t)}function Ts(t){return t?(t=Es(t))===O||t===-O?(t<0?-1:1)*M:t==t?t:0:0===t?t:0}function ks(t){var e=Ts(t),n=e%1;return e==e?n?e-n:e:0}function Os(t){return t?Sr(ks(t),0,A):0}function Es(t){if("number"==typeof t)return t;if(_s(t))return I;if(hs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=hs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ot,"");var n=Nt.test(t);return n||Bt.test(t)?xe(t.slice(2),n?2:8):jt.test(t)?I:+t}function Ms(t){return Wo(t,Gs(t))}function Is(t){return null==t?"":wo(t)}var As=Uo(function(t,e){if(zi(e)||os(e))Wo(e,Ws(e),t);else for(var n in e)re.call(e,n)&&vr(t,n,e[n])}),Ps=Uo(function(t,e){Wo(e,Gs(e),t)}),Ds=Uo(function(t,e,n,r){Wo(e,Gs(e),t,r)}),Rs=Uo(function(t,e,n,r){Wo(e,Ws(e),t,r)}),Fs=mi(wr),zs=po(function(t,e){t=Zt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&Pi(e[0],e[1],o)&&(r=1);++n<r;)for(var a=e[n],s=Gs(a),l=-1,u=s.length;++l<u;){var c=s[l],p=t[c];(p===i||Ja(p,te[c])&&!re.call(t,c))&&(t[c]=a[c])}return t}),js=po(function(t){return t.push(i,hi),ze(qs,i,t)});function Ns(t,e,n){var r=null==t?i:Lr(t,e);return r===i?n:r}function Ls(t,e){return null!=t&&Ei(t,e,Gr)}var Bs=ti(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ae.call(e)),t[e]=n},hl(ml)),Hs=ti(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=ae.call(e)),re.call(t,e)?t[e].push(n):t[e]=[n]},xi),Vs=po(qr);function Ws(t){return os(t)?dr(t):Jr(t)}function Gs(t){return os(t)?dr(t,!0):function(t){if(!hs(t))return function(t){var e=[];if(null!=t)for(var n in Zt(t))e.push(n);return e}(t);var e=zi(t),n=[];for(var r in t)("constructor"!=r||!e&&re.call(t,r))&&n.push(r);return n}(t)}var Us=Uo(function(t,e,n){ro(t,e,n)}),qs=Uo(function(t,e,n,r){ro(t,e,n,r)}),Ks=mi(function(t,e){var n={};if(null==t)return n;var r=!1;e=We(e,function(e){return e=Po(e,t),r||(r=e.length>1),e}),Wo(t,vi(t),n),r&&(n=Cr(n,c|p|h,fi));for(var o=e.length;o--;)Co(n,e[o]);return n}),Zs=mi(function(t,e){return null==t?{}:function(t,e){return ao(t,e,function(e,n){return Ls(t,n)})}(t,e)});function Ys(t,e){if(null==t)return{};var n=We(vi(t),function(t){return[t]});return e=xi(e),ao(t,n,function(t,n){return e(t,n[0])})}var Xs=ui(Ws),$s=ui(Gs);function Js(t){return null==t?[]:ln(t,Ws(t))}var Qs=Yo(function(t,e,n){return e=e.toLowerCase(),t+(n?tl(e):e)});function tl(t){return ll(Is(t).toLowerCase())}function el(t){return(t=Is(t))&&t.replace(Vt,hn).replace(ce,"")}var nl=Yo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),rl=Yo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ol=Zo("toLowerCase"),il=Yo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),al=Yo(function(t,e,n){return t+(n?" ":"")+ll(e)}),sl=Yo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),ll=Zo("toUpperCase");function ul(t,e,n){return t=Is(t),(e=n?i:e)===i?function(t){return de.test(t)}(t)?function(t){return t.match(he)||[]}(t):function(t){return t.match(Dt)||[]}(t):t.match(e)||[]}var cl=po(function(t,e){try{return ze(t,i,e)}catch(t){return ls(t)?t:new Ut(t)}}),pl=mi(function(t,e){return Ne(e,function(e){e=Yi(e),xr(t,e,Ha(t[e],t))}),t});function hl(t){return function(){return t}}var fl=Jo(),dl=Jo(!0);function ml(t){return t}function gl(t){return $r("function"==typeof t?t:Cr(t,c))}var vl=po(function(t,e){return function(n){return qr(n,t,e)}}),yl=po(function(t,e){return function(n){return qr(t,n,e)}});function bl(t,e,n){var r=Ws(e),o=Nr(e,r);null!=n||hs(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Nr(e,Ws(e)));var i=!(hs(n)&&"chain"in n&&!n.chain),a=us(t);return Ne(o,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Vo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ge([this.value()],arguments))})}),t}function _l(){}var xl=ni(We),wl=ni(Le),Sl=ni(Ke);function Cl(t){return Di(t)?en(Yi(t)):function(t){return function(e){return Lr(e,t)}}(t)}var Tl=oi(),kl=oi(!0);function Ol(){return[]}function El(){return!1}var Ml,Il=ei(function(t,e){return t+e},0),Al=si("ceil"),Pl=ei(function(t,e){return t/e},1),Dl=si("floor"),Rl=ei(function(t,e){return t*e},1),Fl=si("round"),zl=ei(function(t,e){return t-e},0);return or.after=function(t,e){if("function"!=typeof e)throw new $t(s);return t=ks(t),function(){if(--t<1)return e.apply(this,arguments)}},or.ary=La,or.assign=As,or.assignIn=Ps,or.assignInWith=Ds,or.assignWith=Rs,or.at=Fs,or.before=Ba,or.bind=Ha,or.bindAll=pl,or.bindKey=Va,or.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ns(t)?t:[t]},or.chain=Ca,or.chunk=function(t,e,n){e=(n?Pi(t,e,n):e===i)?1:zn(ks(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var a=0,s=0,l=r(Mn(o/e));a<o;)l[s++]=go(t,a,a+=e);return l},or.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},or.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Ge(ns(n)?Vo(n):[n],Dr(e,1))},or.cond=function(t){var e=null==t?0:t.length,n=xi();return t=e?We(t,function(t){if("function"!=typeof t[1])throw new $t(s);return[n(t[0]),t[1]]}):[],po(function(n){for(var r=-1;++r<e;){var o=t[r];if(ze(o[0],this,n))return ze(o[1],this,n)}})},or.conforms=function(t){return function(t){var e=Ws(t);return function(n){return Tr(n,t,e)}}(Cr(t,c))},or.constant=hl,or.countBy=Oa,or.create=function(t,e){var n=ir(t);return null==e?n:_r(n,e)},or.curry=function t(e,n,r){var o=ci(e,y,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},or.curryRight=function t(e,n,r){var o=ci(e,b,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},or.debounce=Wa,or.defaults=zs,or.defaultsDeep=js,or.defer=Ga,or.delay=Ua,or.difference=Ji,or.differenceBy=Qi,or.differenceWith=ta,or.drop=function(t,e,n){var r=null==t?0:t.length;return r?go(t,(e=n||e===i?1:ks(e))<0?0:e,r):[]},or.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?go(t,0,(e=r-(e=n||e===i?1:ks(e)))<0?0:e):[]},or.dropRightWhile=function(t,e){return t&&t.length?ko(t,xi(e,3),!0,!0):[]},or.dropWhile=function(t,e){return t&&t.length?ko(t,xi(e,3),!0):[]},or.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Pi(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=ks(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ks(r))<0&&(r+=o),r=n>r?0:Os(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},or.filter=function(t,e){return(ns(t)?Be:Pr)(t,xi(e,3))},or.flatMap=function(t,e){return Dr(Fa(t,e),1)},or.flatMapDeep=function(t,e){return Dr(Fa(t,e),O)},or.flatMapDepth=function(t,e,n){return n=n===i?1:ks(n),Dr(Fa(t,e),n)},or.flatten=ra,or.flattenDeep=function(t){return null!=t&&t.length?Dr(t,O):[]},or.flattenDepth=function(t,e){return null!=t&&t.length?Dr(t,e=e===i?1:ks(e)):[]},or.flip=function(t){return ci(t,C)},or.flow=fl,or.flowRight=dl,or.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},or.functions=function(t){return null==t?[]:Nr(t,Ws(t))},or.functionsIn=function(t){return null==t?[]:Nr(t,Gs(t))},or.groupBy=Pa,or.initial=function(t){return null!=t&&t.length?go(t,0,-1):[]},or.intersection=ia,or.intersectionBy=aa,or.intersectionWith=sa,or.invert=Bs,or.invertBy=Hs,or.invokeMap=Da,or.iteratee=gl,or.keyBy=Ra,or.keys=Ws,or.keysIn=Gs,or.map=Fa,or.mapKeys=function(t,e){var n={};return e=xi(e,3),zr(t,function(t,r,o){xr(n,e(t,r,o),t)}),n},or.mapValues=function(t,e){var n={};return e=xi(e,3),zr(t,function(t,r,o){xr(n,r,e(t,r,o))}),n},or.matches=function(t){return eo(Cr(t,c))},or.matchesProperty=function(t,e){return no(t,Cr(e,c))},or.memoize=qa,or.merge=Us,or.mergeWith=qs,or.method=vl,or.methodOf=yl,or.mixin=bl,or.negate=Ka,or.nthArg=function(t){return t=ks(t),po(function(e){return oo(e,t)})},or.omit=Ks,or.omitBy=function(t,e){return Ys(t,Ka(xi(e)))},or.once=function(t){return Ba(2,t)},or.orderBy=function(t,e,n,r){return null==t?[]:(ns(e)||(e=null==e?[]:[e]),ns(n=r?i:n)||(n=null==n?[]:[n]),io(t,e,n))},or.over=xl,or.overArgs=Za,or.overEvery=wl,or.overSome=Sl,or.partial=Ya,or.partialRight=Xa,or.partition=za,or.pick=Zs,or.pickBy=Ys,or.property=Cl,or.propertyOf=function(t){return function(e){return null==t?i:Lr(t,e)}},or.pull=ua,or.pullAll=ca,or.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?so(t,e,xi(n,2)):t},or.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?so(t,e,i,n):t},or.pullAt=pa,or.range=Tl,or.rangeRight=kl,or.rearg=$a,or.reject=function(t,e){return(ns(t)?Be:Pr)(t,Ka(xi(e,3)))},or.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=xi(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return lo(t,o),n},or.rest=function(t,e){if("function"!=typeof t)throw new $t(s);return po(t,e=e===i?e:ks(e))},or.reverse=ha,or.sampleSize=function(t,e,n){return e=(n?Pi(t,e,n):e===i)?1:ks(e),(ns(t)?function(t,e){return Ki(Vo(t),Sr(e,0,t.length))}:function(t,e){var n=Js(t);return Ki(n,Sr(e,0,n.length))})(t,e)},or.set=function(t,e,n){return null==t?t:ho(t,e,n)},or.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ho(t,e,n,r)},or.shuffle=function(t){return(ns(t)?function(t){return Ki(Vo(t))}:function(t){return Ki(Js(t))})(t)},or.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Pi(t,e,n)?(e=0,n=r):(e=null==e?0:ks(e),n=n===i?r:ks(n)),go(t,e,n)):[]},or.sortBy=ja,or.sortedUniq=function(t){return t&&t.length?_o(t):[]},or.sortedUniqBy=function(t,e){return t&&t.length?_o(t,xi(e,2)):[]},or.split=function(t,e,n){return n&&"number"!=typeof n&&Pi(t,e,n)&&(e=n=i),(n=n===i?A:n>>>0)?(t=Is(t))&&("string"==typeof e||null!=e&&!vs(e))&&!(e=wo(e))&&mn(t)?Ro(xn(t),0,n):t.split(e,n):[]},or.spread=function(t,e){if("function"!=typeof t)throw new $t(s);return e=null==e?0:zn(ks(e),0),po(function(n){var r=n[e],o=Ro(n,0,e);return r&&Ge(o,r),ze(t,this,o)})},or.tail=function(t){var e=null==t?0:t.length;return e?go(t,1,e):[]},or.take=function(t,e,n){return t&&t.length?go(t,0,(e=n||e===i?1:ks(e))<0?0:e):[]},or.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?go(t,(e=r-(e=n||e===i?1:ks(e)))<0?0:e,r):[]},or.takeRightWhile=function(t,e){return t&&t.length?ko(t,xi(e,3),!1,!0):[]},or.takeWhile=function(t,e){return t&&t.length?ko(t,xi(e,3)):[]},or.tap=function(t,e){return e(t),t},or.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new $t(s);return hs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Wa(t,e,{leading:r,maxWait:e,trailing:o})},or.thru=Ta,or.toArray=Cs,or.toPairs=Xs,or.toPairsIn=$s,or.toPath=function(t){return ns(t)?We(t,Yi):_s(t)?[t]:Vo(Zi(Is(t)))},or.toPlainObject=Ms,or.transform=function(t,e,n){var r=ns(t),o=r||as(t)||xs(t);if(e=xi(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:hs(t)&&us(i)?ir(Te(t)):{}}return(o?Ne:zr)(t,function(t,r,o){return e(n,t,r,o)}),n},or.unary=function(t){return La(t,1)},or.union=fa,or.unionBy=da,or.unionWith=ma,or.uniq=function(t){return t&&t.length?So(t):[]},or.uniqBy=function(t,e){return t&&t.length?So(t,xi(e,2)):[]},or.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?So(t,i,e):[]},or.unset=function(t,e){return null==t||Co(t,e)},or.unzip=ga,or.unzipWith=va,or.update=function(t,e,n){return null==t?t:To(t,e,Ao(n))},or.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:To(t,e,Ao(n),r)},or.values=Js,or.valuesIn=function(t){return null==t?[]:ln(t,Gs(t))},or.without=ya,or.words=ul,or.wrap=function(t,e){return Ya(Ao(e),t)},or.xor=ba,or.xorBy=_a,or.xorWith=xa,or.zip=wa,or.zipObject=function(t,e){return Mo(t||[],e||[],vr)},or.zipObjectDeep=function(t,e){return Mo(t||[],e||[],ho)},or.zipWith=Sa,or.entries=Xs,or.entriesIn=$s,or.extend=Ps,or.extendWith=Ds,bl(or,or),or.add=Il,or.attempt=cl,or.camelCase=Qs,or.capitalize=tl,or.ceil=Al,or.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=Es(n))==n?n:0),e!==i&&(e=(e=Es(e))==e?e:0),Sr(Es(t),e,n)},or.clone=function(t){return Cr(t,h)},or.cloneDeep=function(t){return Cr(t,c|h)},or.cloneDeepWith=function(t,e){return Cr(t,c|h,e="function"==typeof e?e:i)},or.cloneWith=function(t,e){return Cr(t,h,e="function"==typeof e?e:i)},or.conformsTo=function(t,e){return null==e||Tr(t,e,Ws(e))},or.deburr=el,or.defaultTo=function(t,e){return null==t||t!=t?e:t},or.divide=Pl,or.endsWith=function(t,e,n){t=Is(t),e=wo(e);var r=t.length,o=n=n===i?r:Sr(ks(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},or.eq=Ja,or.escape=function(t){return(t=Is(t))&&yt.test(t)?t.replace(gt,fn):t},or.escapeRegExp=function(t){return(t=Is(t))&&kt.test(t)?t.replace(Tt,"\\$&"):t},or.every=function(t,e,n){var r=ns(t)?Le:Ir;return n&&Pi(t,e,n)&&(e=i),r(t,xi(e,3))},or.find=Ea,or.findIndex=ea,or.findKey=function(t,e){return Ye(t,xi(e,3),zr)},or.findLast=Ma,or.findLastIndex=na,or.findLastKey=function(t,e){return Ye(t,xi(e,3),jr)},or.floor=Dl,or.forEach=Ia,or.forEachRight=Aa,or.forIn=function(t,e){return null==t?t:Rr(t,xi(e,3),Gs)},or.forInRight=function(t,e){return null==t?t:Fr(t,xi(e,3),Gs)},or.forOwn=function(t,e){return t&&zr(t,xi(e,3))},or.forOwnRight=function(t,e){return t&&jr(t,xi(e,3))},or.get=Ns,or.gt=Qa,or.gte=ts,or.has=function(t,e){return null!=t&&Ei(t,e,Wr)},or.hasIn=Ls,or.head=oa,or.identity=ml,or.includes=function(t,e,n,r){t=os(t)?t:Js(t),n=n&&!r?ks(n):0;var o=t.length;return n<0&&(n=zn(o+n,0)),bs(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&$e(t,e,n)>-1},or.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:ks(n);return o<0&&(o=zn(r+o,0)),$e(t,e,o)},or.inRange=function(t,e,n){return e=Ts(e),n===i?(n=e,e=0):n=Ts(n),function(t,e,n){return t>=jn(e,n)&&t<zn(e,n)}(t=Es(t),e,n)},or.invoke=Vs,or.isArguments=es,or.isArray=ns,or.isArrayBuffer=rs,or.isArrayLike=os,or.isArrayLikeObject=is,or.isBoolean=function(t){return!0===t||!1===t||fs(t)&&Hr(t)==N},or.isBuffer=as,or.isDate=ss,or.isElement=function(t){return fs(t)&&1===t.nodeType&&!gs(t)},or.isEmpty=function(t){if(null==t)return!0;if(os(t)&&(ns(t)||"string"==typeof t||"function"==typeof t.splice||as(t)||xs(t)||es(t)))return!t.length;var e=Oi(t);if(e==G||e==X)return!t.size;if(zi(t))return!Jr(t).length;for(var n in t)if(re.call(t,n))return!1;return!0},or.isEqual=function(t,e){return Zr(t,e)},or.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Zr(t,e,i,n):!!r},or.isError=ls,or.isFinite=function(t){return"number"==typeof t&&Dn(t)},or.isFunction=us,or.isInteger=cs,or.isLength=ps,or.isMap=ds,or.isMatch=function(t,e){return t===e||Yr(t,e,Si(e))},or.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Yr(t,e,Si(e),n)},or.isNaN=function(t){return ms(t)&&t!=+t},or.isNative=function(t){if(Fi(t))throw new Ut("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xr(t)},or.isNil=function(t){return null==t},or.isNull=function(t){return null===t},or.isNumber=ms,or.isObject=hs,or.isObjectLike=fs,or.isPlainObject=gs,or.isRegExp=vs,or.isSafeInteger=function(t){return cs(t)&&t>=-E&&t<=E},or.isSet=ys,or.isString=bs,or.isSymbol=_s,or.isTypedArray=xs,or.isUndefined=function(t){return t===i},or.isWeakMap=function(t){return fs(t)&&Oi(t)==tt},or.isWeakSet=function(t){return fs(t)&&"[object WeakSet]"==Hr(t)},or.join=function(t,e){return null==t?"":Rn.call(t,e)},or.kebabCase=nl,or.last=la,or.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ks(n))<0?zn(r+o,0):jn(o,r-1)),e==e?function(t,e,n){for(var r=o+1;r--;)if(t[r]===e)return r;return r}(t,e):Xe(t,Qe,o,!0)},or.lowerCase=rl,or.lowerFirst=ol,or.lt=ws,or.lte=Ss,or.max=function(t){return t&&t.length?Ar(t,ml,Vr):i},or.maxBy=function(t,e){return t&&t.length?Ar(t,xi(e,2),Vr):i},or.mean=function(t){return tn(t,ml)},or.meanBy=function(t,e){return tn(t,xi(e,2))},or.min=function(t){return t&&t.length?Ar(t,ml,Qr):i},or.minBy=function(t,e){return t&&t.length?Ar(t,xi(e,2),Qr):i},or.stubArray=Ol,or.stubFalse=El,or.stubObject=function(){return{}},or.stubString=function(){return""},or.stubTrue=function(){return!0},or.multiply=Rl,or.nth=function(t,e){return t&&t.length?oo(t,ks(e)):i},or.noConflict=function(){return Ce._===this&&(Ce._=le),this},or.noop=_l,or.now=Na,or.pad=function(t,e,n){t=Is(t);var r=(e=ks(e))?_n(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return ri(In(o),n)+t+ri(Mn(o),n)},or.padEnd=function(t,e,n){t=Is(t);var r=(e=ks(e))?_n(t):0;return e&&r<e?t+ri(e-r,n):t},or.padStart=function(t,e,n){t=Is(t);var r=(e=ks(e))?_n(t):0;return e&&r<e?ri(e-r,n)+t:t},or.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Ln(Is(t).replace(Et,""),e||0)},or.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Pi(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Ts(t),e===i?(e=t,t=0):e=Ts(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Bn();return jn(t+o*(e-t+_e("1e-"+((o+"").length-1))),e)}return uo(t,e)},or.reduce=function(t,e,n){var r=ns(t)?Ue:rn,o=arguments.length<3;return r(t,xi(e,4),n,o,Er)},or.reduceRight=function(t,e,n){var r=ns(t)?qe:rn,o=arguments.length<3;return r(t,xi(e,4),n,o,Mr)},or.repeat=function(t,e,n){return e=(n?Pi(t,e,n):e===i)?1:ks(e),co(Is(t),e)},or.replace=function(){var t=arguments,e=Is(t[0]);return t.length<3?e:e.replace(t[1],t[2])},or.result=function(t,e,n){var r=-1,o=(e=Po(e,t)).length;for(o||(o=1,t=i);++r<o;){var a=null==t?i:t[Yi(e[r])];a===i&&(r=o,a=n),t=us(a)?a.call(t):a}return t},or.round=Fl,or.runInContext=t,or.sample=function(t){return(ns(t)?mr:function(t){return mr(Js(t))})(t)},or.size=function(t){if(null==t)return 0;if(os(t))return bs(t)?_n(t):t.length;var e=Oi(t);return e==G||e==X?t.size:Jr(t).length},or.snakeCase=il,or.some=function(t,e,n){var r=ns(t)?Ke:vo;return n&&Pi(t,e,n)&&(e=i),r(t,xi(e,3))},or.sortedIndex=function(t,e){return yo(t,e)},or.sortedIndexBy=function(t,e,n){return bo(t,e,xi(n,2))},or.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=yo(t,e);if(r<n&&Ja(t[r],e))return r}return-1},or.sortedLastIndex=function(t,e){return yo(t,e,!0)},or.sortedLastIndexBy=function(t,e,n){return bo(t,e,xi(n,2),!0)},or.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=yo(t,e,!0)-1;if(Ja(t[n],e))return n}return-1},or.startCase=al,or.startsWith=function(t,e,n){return t=Is(t),n=null==n?0:Sr(ks(n),0,t.length),e=wo(e),t.slice(n,n+e.length)==e},or.subtract=zl,or.sum=function(t){return t&&t.length?on(t,ml):0},or.sumBy=function(t,e){return t&&t.length?on(t,xi(e,2)):0},or.template=function(t,e,n){var r=or.templateSettings;n&&Pi(t,e,n)&&(e=i),t=Is(t),e=Ds({},e,r,pi);var o,a,s=Ds({},e.imports,r.imports,pi),l=Ws(s),u=ln(s,l),c=0,p=e.interpolate||Wt,h="__p += '",f=Yt((e.escape||Wt).source+"|"+p.source+"|"+(p===xt?Ft:Wt).source+"|"+(e.evaluate||Wt).source+"|$","g"),d="//# sourceURL="+(re.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++ge+"]")+"\n";t.replace(f,function(e,n,r,i,s,l){return r||(r=i),h+=t.slice(c,l).replace(Gt,dn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),h+="';\n";var m=re.call(e,"variable")&&e.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ht,""):h).replace(ft,"$1").replace(dt,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=cl(function(){return qt(l,d+"return "+h).apply(i,u)});if(g.source=h,ls(g))throw g;return g},or.times=function(t,e){if((t=ks(t))<1||t>E)return[];var n=A,r=jn(t,A);e=xi(e),t-=A;for(var o=an(r,e);++n<t;)e(n);return o},or.toFinite=Ts,or.toInteger=ks,or.toLength=Os,or.toLower=function(t){return Is(t).toLowerCase()},or.toNumber=Es,or.toSafeInteger=function(t){return t?Sr(ks(t),-E,E):0===t?t:0},or.toString=Is,or.toUpper=function(t){return Is(t).toUpperCase()},or.trim=function(t,e,n){if((t=Is(t))&&(n||e===i))return t.replace(Ot,"");if(!t||!(e=wo(e)))return t;var r=xn(t),o=xn(e);return Ro(r,cn(r,o),pn(r,o)+1).join("")},or.trimEnd=function(t,e,n){if((t=Is(t))&&(n||e===i))return t.replace(Mt,"");if(!t||!(e=wo(e)))return t;var r=xn(t);return Ro(r,0,pn(r,xn(e))+1).join("")},or.trimStart=function(t,e,n){if((t=Is(t))&&(n||e===i))return t.replace(Et,"");if(!t||!(e=wo(e)))return t;var r=xn(t);return Ro(r,cn(r,xn(e))).join("")},or.truncate=function(t,e){var n=30,r="...";if(hs(e)){var o="separator"in e?e.separator:o;n="length"in e?ks(e.length):n,r="omission"in e?wo(e.omission):r}var a=(t=Is(t)).length;if(mn(t)){var s=xn(t);a=s.length}if(n>=a)return t;var l=n-_n(r);if(l<1)return r;var u=s?Ro(s,0,l).join(""):t.slice(0,l);if(o===i)return u+r;if(s&&(l+=u.length-l),vs(o)){if(t.slice(l).search(o)){var c,p=u;for(o.global||(o=Yt(o.source,Is(zt.exec(o))+"g")),o.lastIndex=0;c=o.exec(p);)var h=c.index;u=u.slice(0,h===i?l:h)}}else if(t.indexOf(wo(o),l)!=l){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+r},or.unescape=function(t){return(t=Is(t))&&vt.test(t)?t.replace(mt,wn):t},or.uniqueId=function(t){var e=++oe;return Is(t)+e},or.upperCase=sl,or.upperFirst=ll,or.each=Ia,or.eachRight=Aa,or.first=oa,bl(or,(Ml={},zr(or,function(t,e){re.call(or.prototype,e)||(Ml[e]=t)}),Ml),{chain:!1}),or.VERSION="4.17.15",Ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){or[t].placeholder=or}),Ne(["drop","take"],function(t,e){lr.prototype[t]=function(n){n=n===i?1:zn(ks(n),0);var r=this.__filtered__&&!e?new lr(this):this.clone();return r.__filtered__?r.__takeCount__=jn(n,r.__takeCount__):r.__views__.push({size:jn(n,A),type:t+(r.__dir__<0?"Right":"")}),r},lr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ne(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;lr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:xi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ne(["head","last"],function(t,e){var n="take"+(e?"Right":"");lr.prototype[t]=function(){return this[n](1).value()[0]}}),Ne(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");lr.prototype[t]=function(){return this.__filtered__?new lr(this):this[n](1)}}),lr.prototype.compact=function(){return this.filter(ml)},lr.prototype.find=function(t){return this.filter(t).head()},lr.prototype.findLast=function(t){return this.reverse().find(t)},lr.prototype.invokeMap=po(function(t,e){return"function"==typeof t?new lr(this):this.map(function(n){return qr(n,t,e)})}),lr.prototype.reject=function(t){return this.filter(Ka(xi(t)))},lr.prototype.slice=function(t,e){t=ks(t);var n=this;return n.__filtered__&&(t>0||e<0)?new lr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ks(e))<0?n.dropRight(-e):n.take(e-t)),n)},lr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},lr.prototype.toArray=function(){return this.take(A)},zr(lr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=or[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(or.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,l=e instanceof lr,u=s[0],c=l||ns(e),p=function(t){var e=o.apply(or,Ge([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=a&&!h,m=l&&!f;if(!a&&c){e=m?e:new lr(this);var g=t.apply(e,s);return g.__actions__.push({func:Ta,args:[p],thisArg:i}),new sr(g,h)}return d&&m?t.apply(this,s):(g=this.thru(p),d?r?g.value()[0]:g.value():g)})}),Ne(["pop","push","shift","sort","splice","unshift"],function(t){var e=Jt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);or.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(ns(o)?o:[],t)}return this[n](function(n){return e.apply(ns(n)?n:[],t)})}}),zr(lr.prototype,function(t,e){var n=or[e];if(n){var r=n.name+"";re.call(Yn,r)||(Yn[r]=[]),Yn[r].push({name:e,func:n})}}),Yn[Qo(i,g).name]=[{name:"wrapper",func:i}],lr.prototype.clone=function(){var t=new lr(this.__wrapped__);return t.__actions__=Vo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Vo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Vo(this.__views__),t},lr.prototype.reverse=function(){if(this.__filtered__){var t=new lr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},lr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ns(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=jn(e,t+a);break;case"takeRight":t=zn(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,p=c.length,h=0,f=jn(l,this.__takeCount__);if(!n||!r&&o==l&&f==l)return Oo(t,this.__actions__);var d=[];t:for(;l--&&h<f;){for(var m=-1,g=t[u+=e];++m<p;){var v=c[m],y=v.iteratee,b=v.type,_=y(g);if(2==b)g=_;else if(!_){if(1==b)continue t;break t}}d[h++]=g}return d},or.prototype.at=ka,or.prototype.chain=function(){return Ca(this)},or.prototype.commit=function(){return new sr(this.value(),this.__chain__)},or.prototype.next=function(){this.__values__===i&&(this.__values__=Cs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},or.prototype.plant=function(t){for(var e,n=this;n instanceof ar;){var r=$i(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},or.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof lr){var e=t;return this.__actions__.length&&(e=new lr(this)),(e=e.reverse()).__actions__.push({func:Ta,args:[ha],thisArg:i}),new sr(e,this.__chain__)}return this.thru(ha)},or.prototype.toJSON=or.prototype.valueOf=or.prototype.value=function(){return Oo(this.__wrapped__,this.__actions__)},or.prototype.first=or.prototype.head,nn&&(or.prototype[nn]=function(){return this}),or}();Ce._=Sn,(o=function(){return Sn}.call(e,n,e,r))===i||(r.exports=o)}).call(this)}).call(this,n(12),n(13)(t))},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iNHB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9Ii0wLjAzMSAwIDQgMTYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTAuMDMxIDAgNCAxNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGZpbGw9IiNCMkIzQjMiIGN4PSIxLjk2OSIgY3k9IjQiIHI9IjEuNSIvPg0KPGNpcmNsZSBmaWxsPSIjQjJCM0IzIiBjeD0iMS45NjkiIGN5PSI4IiByPSIxLjUiLz4NCjxjaXJjbGUgZmlsbD0iI0IyQjNCMyIgY3g9IjEuOTY5IiBjeT0iMTIiIHI9IjEuNSIvPg0KPC9zdmc+DQo="},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMwMDAwMDAiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMDAwMDAwIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="},function(t,e){Math.log2=Math.log2||function(t){return Math.log(t)/Math.LN2}},function(t,e,n){"use strict";var r=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(r.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(2),o={create:function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},fromValues:function(t,e,n,o){var i=new r.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=o,i},set:function(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t},transpose:function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*i-o*r;return a?(a=1/a,t[0]=i*a,t[1]=-r*a,t[2]=-o*a,t[3]=n*a,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*s+i*l,t[1]=o*s+a*l,t[2]=r*u+i*c,t[3]=o*u+a*c,t}};o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=o*l+a*s,t[2]=r*-s+i*l,t[3]=o*-s+a*l,t},o.scale=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1];return t[0]=r*s,t[1]=o*s,t[2]=i*l,t[3]=a*l,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},o.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},o.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t},o.sub=o.subtract,o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],u=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},t.exports=o},function(t,e,n){var r=n(2),o={create:function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},fromValues:function(t,e,n,o,i,a){var s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=o,s[4]=i,s[5]=a,s},set:function(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t},invert:function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=n*i-r*o;return l?(l=1/l,t[0]=i*l,t[1]=-r*l,t[2]=-o*l,t[3]=n*l,t[4]=(o*s-i*a)*l,t[5]=(r*a-n*s)*l,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1],p=n[2],h=n[3],f=n[4],d=n[5];return t[0]=r*u+i*c,t[1]=o*u+a*c,t[2]=r*p+i*h,t[3]=o*p+a*h,t[4]=r*f+i*d+s,t[5]=o*f+a*d+l,t}};o.mul=o.multiply,o.rotate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=r*c+i*u,t[1]=o*c+a*u,t[2]=r*-u+i*c,t[3]=o*-u+a*c,t[4]=s,t[5]=l,t},o.scale=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r*u,t[1]=o*u,t[2]=i*c,t[3]=a*c,t[4]=s,t[5]=l,t},o.translate=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=n[0],c=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=r*u+i*c+s,t[5]=o*u+a*c+l,t},o.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},o.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=e[0],c=e[1],p=e[2],h=e[3],f=e[4],d=e[5];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(s-f)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(l-d)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(d))},t.exports=o},function(t,e,n){var r=n(2),o={scalar:{},SIMD:{},create:function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(t,e,n,o,i,a,s,l,u,c,p,h,f,d,m,g){var v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=o,v[4]=i,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=p,v[11]=h,v[12]=f,v[13]=d,v[14]=m,v[15]=g,v},set:function(t,e,n,r,o,i,a,s,l,u,c,p,h,f,d,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=p,t[11]=h,t[12]=f,t[13]=d,t[14]=m,t[15]=g,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}};o.scalar.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},o.SIMD.transpose=function(t,e){var n,r,o,i,a,s,l,u,c,p;return n=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),a=SIMD.Float32x4.shuffle(n,r,0,1,4,5),s=SIMD.Float32x4.shuffle(o,i,0,1,4,5),l=SIMD.Float32x4.shuffle(a,s,0,2,4,6),u=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,u),a=SIMD.Float32x4.shuffle(n,r,2,3,6,7),s=SIMD.Float32x4.shuffle(o,i,2,3,6,7),c=SIMD.Float32x4.shuffle(a,s,0,2,4,6),p=SIMD.Float32x4.shuffle(a,s,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,p),t},o.transpose=r.USE_SIMD?o.SIMD.transpose:o.scalar.transpose,o.scalar.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],f=e[11],d=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,b=n*l-o*a,_=n*u-i*a,x=r*l-o*s,w=r*u-i*s,S=o*u-i*l,C=c*m-p*d,T=c*g-h*d,k=c*v-f*d,O=p*g-h*m,E=p*v-f*m,M=h*v-f*g,I=y*M-b*E+_*O+x*k-w*T+S*C;return I?(I=1/I,t[0]=(s*M-l*E+u*O)*I,t[1]=(o*E-r*M-i*O)*I,t[2]=(m*S-g*w+v*x)*I,t[3]=(h*w-p*S-f*x)*I,t[4]=(l*k-a*M-u*T)*I,t[5]=(n*M-o*k+i*T)*I,t[6]=(g*_-d*S-v*b)*I,t[7]=(c*S-h*_+f*b)*I,t[8]=(a*E-s*k+u*C)*I,t[9]=(r*k-n*E-i*C)*I,t[10]=(d*w-m*_+v*y)*I,t[11]=(p*_-c*w-f*y)*I,t[12]=(s*T-a*O-l*C)*I,t[13]=(n*O-r*T+o*C)*I,t[14]=(m*b-d*x-g*y)*I,t[15]=(c*x-p*b+h*y)*I,t):null},o.SIMD.invert=function(t,e){var n,r,o,i,a,s,l,u,c,p,h=SIMD.Float32x4.load(e,0),f=SIMD.Float32x4.load(e,4),d=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(h,f,0,1,4,5),r=SIMD.Float32x4.shuffle(d,m,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(h,f,2,3,6,7),i=SIMD.Float32x4.shuffle(d,m,2,3,6,7),o=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(o,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),p=SIMD.Float32x4.mul(n,s),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,2,3,0,1),p),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,1,0,3,2),p),a=SIMD.Float32x4.reciprocalApproximation(p),p=SIMD.Float32x4.sub(SIMD.Float32x4.add(a,a),SIMD.Float32x4.mul(p,SIMD.Float32x4.mul(a,a))),(p=SIMD.Float32x4.swizzle(p,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(p,s)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(p,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(p,u)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(p,c)),t):null},o.invert=r.USE_SIMD?o.SIMD.invert:o.scalar.invert,o.scalar.adjoint=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],f=e[11],d=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(h*v-f*g)-p*(l*v-u*g)+m*(l*f-u*h),t[1]=-(r*(h*v-f*g)-p*(o*v-i*g)+m*(o*f-i*h)),t[2]=r*(l*v-u*g)-s*(o*v-i*g)+m*(o*u-i*l),t[3]=-(r*(l*f-u*h)-s*(o*f-i*h)+p*(o*u-i*l)),t[4]=-(a*(h*v-f*g)-c*(l*v-u*g)+d*(l*f-u*h)),t[5]=n*(h*v-f*g)-c*(o*v-i*g)+d*(o*f-i*h),t[6]=-(n*(l*v-u*g)-a*(o*v-i*g)+d*(o*u-i*l)),t[7]=n*(l*f-u*h)-a*(o*f-i*h)+c*(o*u-i*l),t[8]=a*(p*v-f*m)-c*(s*v-u*m)+d*(s*f-u*p),t[9]=-(n*(p*v-f*m)-c*(r*v-i*m)+d*(r*f-i*p)),t[10]=n*(s*v-u*m)-a*(r*v-i*m)+d*(r*u-i*s),t[11]=-(n*(s*f-u*p)-a*(r*f-i*p)+c*(r*u-i*s)),t[12]=-(a*(p*g-h*m)-c*(s*g-l*m)+d*(s*h-l*p)),t[13]=n*(p*g-h*m)-c*(r*g-o*m)+d*(r*h-o*p),t[14]=-(n*(s*g-l*m)-a*(r*g-o*m)+d*(r*l-o*s)),t[15]=n*(s*h-l*p)-a*(r*h-o*p)+c*(r*l-o*s),t},o.SIMD.adjoint=function(t,e){var n,r,o,i,a,s,l,u,c,p=SIMD.Float32x4.load(e,0),h=SIMD.Float32x4.load(e,4),f=SIMD.Float32x4.load(e,8),d=SIMD.Float32x4.load(e,12);return a=SIMD.Float32x4.shuffle(p,h,0,1,4,5),r=SIMD.Float32x4.shuffle(f,d,0,1,4,5),n=SIMD.Float32x4.shuffle(a,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,a,1,3,5,7),a=SIMD.Float32x4.shuffle(p,h,2,3,6,7),i=SIMD.Float32x4.shuffle(f,d,2,3,6,7),o=SIMD.Float32x4.shuffle(a,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,a,1,3,5,7),a=SIMD.Float32x4.mul(o,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.mul(r,a),l=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,a),s),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),a=SIMD.Float32x4.mul(r,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),s),c=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),a=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),o=SIMD.Float32x4.swizzle(o,2,3,0,1),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),s),u=SIMD.Float32x4.mul(n,a),a=SIMD.Float32x4.swizzle(a,2,3,0,1),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,a),u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),a=SIMD.Float32x4.mul(n,r),a=SIMD.Float32x4.swizzle(a,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),c),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),u),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(o,a)),a=SIMD.Float32x4.mul(n,i),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,a)),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),u),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),l),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.mul(n,o),a=SIMD.Float32x4.swizzle(a,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,a),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,a)),a=SIMD.Float32x4.swizzle(a,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(i,a)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,a),c),SIMD.Float32x4.store(t,0,s),SIMD.Float32x4.store(t,4,l),SIMD.Float32x4.store(t,8,u),SIMD.Float32x4.store(t,12,c),t},o.adjoint=r.USE_SIMD?o.SIMD.adjoint:o.scalar.adjoint,o.determinant=function(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],h=t[11],f=t[12],d=t[13],m=t[14],g=t[15];return(e*a-n*i)*(p*g-h*m)-(e*s-r*i)*(c*g-h*d)+(e*l-o*i)*(c*m-p*d)+(n*s-r*a)*(u*g-h*f)-(n*l-o*a)*(u*m-p*f)+(r*l-o*s)*(u*d-c*f)},o.SIMD.multiply=function(t,e,n){var r=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4.load(n,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),a))));SIMD.Float32x4.store(t,0,l);var u=SIMD.Float32x4.load(n,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),a))));SIMD.Float32x4.store(t,4,c);var p=SIMD.Float32x4.load(n,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(p,3,3,3,3),a))));SIMD.Float32x4.store(t,8,h);var f=SIMD.Float32x4.load(n,12),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),o),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),i),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),a))));return SIMD.Float32x4.store(t,12,d),t},o.scalar.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],m=e[12],g=e[13],v=e[14],y=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*s+x*p+w*m,t[1]=b*o+_*l+x*h+w*g,t[2]=b*i+_*u+x*f+w*v,t[3]=b*a+_*c+x*d+w*y,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*s+x*p+w*m,t[5]=b*o+_*l+x*h+w*g,t[6]=b*i+_*u+x*f+w*v,t[7]=b*a+_*c+x*d+w*y,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*s+x*p+w*m,t[9]=b*o+_*l+x*h+w*g,t[10]=b*i+_*u+x*f+w*v,t[11]=b*a+_*c+x*d+w*y,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*s+x*p+w*m,t[13]=b*o+_*l+x*h+w*g,t[14]=b*i+_*u+x*f+w*v,t[15]=b*a+_*c+x*d+w*y,t},o.multiply=r.USE_SIMD?o.SIMD.multiply:o.scalar.multiply,o.mul=o.multiply,o.scalar.translate=function(t,e,n){var r,o,i,a,s,l,u,c,p,h,f,d,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=h,t[10]=f,t[11]=d,t[12]=r*m+s*g+p*v+e[12],t[13]=o*m+l*g+h*v+e[13],t[14]=i*m+u*g+f*v+e[14],t[15]=a*m+c*g+d*v+e[15]),t},o.SIMD.translate=function(t,e,n){var r=SIMD.Float32x4.load(e,0),o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8),a=SIMD.Float32x4.load(e,12),s=SIMD.Float32x4(n[0],n[1],n[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(s,0,0,0,0)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(s,1,1,1,1)),i=SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(s,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(o,SIMD.Float32x4.add(i,a)));return SIMD.Float32x4.store(t,12,l),t},o.translate=r.USE_SIMD?o.SIMD.translate:o.scalar.translate,o.scalar.scale=function(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.SIMD.scale=function(t,e,n){var r,o,i,a=SIMD.Float32x4(n[0],n[1],n[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(a,0,0,0,0))),o=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(a,1,1,1,1))),i=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(i,SIMD.Float32x4.swizzle(a,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},o.scale=r.USE_SIMD?o.SIMD.scale:o.scalar.scale,o.rotate=function(t,e,n,o){var i,a,s,l,u,c,p,h,f,d,m,g,v,y,b,_,x,w,S,C,T,k,O,E,M=o[0],I=o[1],A=o[2],P=Math.sqrt(M*M+I*I+A*A);return Math.abs(P)<r.EPSILON?null:(M*=P=1/P,I*=P,A*=P,i=Math.sin(n),s=1-(a=Math.cos(n)),l=e[0],u=e[1],c=e[2],p=e[3],h=e[4],f=e[5],d=e[6],m=e[7],g=e[8],v=e[9],y=e[10],b=e[11],_=M*M*s+a,x=I*M*s+A*i,w=A*M*s-I*i,S=M*I*s-A*i,C=I*I*s+a,T=A*I*s+M*i,k=M*A*s+I*i,O=I*A*s-M*i,E=A*A*s+a,t[0]=l*_+h*x+g*w,t[1]=u*_+f*x+v*w,t[2]=c*_+d*x+y*w,t[3]=p*_+m*x+b*w,t[4]=l*S+h*C+g*T,t[5]=u*S+f*C+v*T,t[6]=c*S+d*C+y*T,t[7]=p*S+m*C+b*T,t[8]=l*k+h*O+g*E,t[9]=u*k+f*O+v*E,t[10]=c*k+d*O+y*E,t[11]=p*k+m*O+b*E,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},o.scalar.rotateX=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+u*r,t[5]=a*o+c*r,t[6]=s*o+p*r,t[7]=l*o+h*r,t[8]=u*o-i*r,t[9]=c*o-a*r,t[10]=p*o-s*r,t[11]=h*o-l*r,t},o.SIMD.rotateX=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,r))),t},o.rotateX=r.USE_SIMD?o.SIMD.rotateX:o.scalar.rotateX,o.scalar.rotateY=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],p=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-u*r,t[1]=a*o-c*r,t[2]=s*o-p*r,t[3]=l*o-h*r,t[8]=i*r+u*o,t[9]=a*r+c*o,t[10]=s*r+p*o,t[11]=l*r+h*o,t},o.SIMD.rotateY=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,r),SIMD.Float32x4.mul(a,o))),t},o.rotateY=r.USE_SIMD?o.SIMD.rotateY:o.scalar.rotateY,o.scalar.rotateZ=function(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+u*r,t[1]=a*o+c*r,t[2]=s*o+p*r,t[3]=l*o+h*r,t[4]=u*o-i*r,t[5]=c*o-a*r,t[6]=p*o-s*r,t[7]=h*o-l*r,t},o.SIMD.rotateZ=function(t,e,n){var r=SIMD.Float32x4.splat(Math.sin(n)),o=SIMD.Float32x4.splat(Math.cos(n));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var i=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(i,o),SIMD.Float32x4.mul(a,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,o),SIMD.Float32x4.mul(i,r))),t},o.rotateZ=r.USE_SIMD?o.SIMD.rotateZ:o.scalar.rotateZ,o.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},o.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotation=function(t,e,n){var o,i,a,s=n[0],l=n[1],u=n[2],c=Math.sqrt(s*s+l*l+u*u);return Math.abs(c)<r.EPSILON?null:(s*=c=1/c,l*=c,u*=c,o=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=s*s*a+i,t[1]=l*s*a+u*o,t[2]=u*s*a-l*o,t[3]=0,t[4]=s*l*a-u*o,t[5]=l*l*a+i,t[6]=u*l*a+s*o,t[7]=0,t[8]=s*u*a+l*o,t[9]=l*u*a-s*o,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},o.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.fromRotationTranslation=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,l=o+o,u=i+i,c=r*s,p=r*l,h=r*u,f=o*l,d=o*u,m=i*u,g=a*s,v=a*l,y=a*u;return t[0]=1-(f+m),t[1]=p+y,t[2]=h-v,t[3]=0,t[4]=p-y,t[5]=1-(c+m),t[6]=d+g,t[7]=0,t[8]=h+v,t[9]=d-g,t[10]=1-(c+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},o.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},o.fromRotationTranslationScale=function(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],l=o+o,u=i+i,c=a+a,p=o*l,h=o*u,f=o*c,d=i*u,m=i*c,g=a*c,v=s*l,y=s*u,b=s*c,_=r[0],x=r[1],w=r[2];return t[0]=(1-(d+g))*_,t[1]=(h+b)*_,t[2]=(f-y)*_,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(p+g))*x,t[6]=(m+v)*x,t[7]=0,t[8]=(f+y)*w,t[9]=(m-v)*w,t[10]=(1-(p+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},o.fromRotationTranslationScaleOrigin=function(t,e,n,r,o){var i=e[0],a=e[1],s=e[2],l=e[3],u=i+i,c=a+a,p=s+s,h=i*u,f=i*c,d=i*p,m=a*c,g=a*p,v=s*p,y=l*u,b=l*c,_=l*p,x=r[0],w=r[1],S=r[2],C=o[0],T=o[1],k=o[2];return t[0]=(1-(m+v))*x,t[1]=(f+_)*x,t[2]=(d-b)*x,t[3]=0,t[4]=(f-_)*w,t[5]=(1-(h+v))*w,t[6]=(g+y)*w,t[7]=0,t[8]=(d+b)*S,t[9]=(g-y)*S,t[10]=(1-(h+m))*S,t[11]=0,t[12]=n[0]+C-(t[0]*C+t[4]*T+t[8]*k),t[13]=n[1]+T-(t[1]*C+t[5]*T+t[9]*k),t[14]=n[2]+k-(t[2]*C+t[6]*T+t[10]*k),t[15]=1,t},o.fromQuat=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,u=n*a,c=r*a,p=r*s,h=o*a,f=o*s,d=o*l,m=i*a,g=i*s,v=i*l;return t[0]=1-p-d,t[1]=c+v,t[2]=h-g,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=f+m,t[7]=0,t[8]=h+g,t[9]=f-m,t[10]=1-u-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},o.frustum=function(t,e,n,r,o,i,a){var s=1/(n-e),l=1/(o-r),u=1/(i-a);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*l,t[10]=(a+i)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*u,t[15]=0,t},o.perspective=function(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t},o.perspectiveFromFieldOfView=function(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(o+i);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(o-i)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},o.ortho=function(t,e,n,r,o,i,a){var s=1/(e-n),l=1/(r-o),u=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*l,t[14]=(a+i)*u,t[15]=1,t},o.lookAt=function(t,e,n,i){var a,s,l,u,c,p,h,f,d,m,g=e[0],v=e[1],y=e[2],b=i[0],_=i[1],x=i[2],w=n[0],S=n[1],C=n[2];return Math.abs(g-w)<r.EPSILON&&Math.abs(v-S)<r.EPSILON&&Math.abs(y-C)<r.EPSILON?o.identity(t):(h=g-w,f=v-S,d=y-C,a=_*(d*=m=1/Math.sqrt(h*h+f*f+d*d))-x*(f*=m),s=x*(h*=m)-b*d,l=b*f-_*h,(m=Math.sqrt(a*a+s*s+l*l))?(a*=m=1/m,s*=m,l*=m):(a=0,s=0,l=0),u=f*l-d*s,c=d*a-h*l,p=h*s-f*a,(m=Math.sqrt(u*u+c*c+p*p))?(u*=m=1/m,c*=m,p*=m):(u=0,c=0,p=0),t[0]=a,t[1]=u,t[2]=h,t[3]=0,t[4]=s,t[5]=c,t[6]=f,t[7]=0,t[8]=l,t[9]=p,t[10]=d,t[11]=0,t[12]=-(a*g+s*v+l*y),t[13]=-(u*g+c*v+p*y),t[14]=-(h*g+f*v+d*y),t[15]=1,t)},o.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},o.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},o.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},o.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t},o.sub=o.subtract,o.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},o.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},o.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},o.equals=function(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=e[0],_=e[1],x=e[2],w=e[3],S=e[4],C=e[5],T=e[6],k=e[7],O=e[8],E=e[9],M=e[10],I=e[11],A=e[12],P=e[13],D=e[14],R=e[15];return Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-x)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-w)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-S)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-C)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-T)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(c-k)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(p-O)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(h-E)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(f-M)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(d-I)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(m-A)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(g-P)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(v-D)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(y-R)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(R))},t.exports=o},function(t,e,n){var r,o,i,a,s,l,u=n(2),c=n(3),p=n(4),h=n(5),f={create:function(){var t=new u.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};f.rotationTo=(r=p.create(),o=p.fromValues(1,0,0),i=p.fromValues(0,1,0),function(t,e,n){var a=p.dot(e,n);return a<-.999999?(p.cross(r,o,e),p.length(r)<1e-6&&p.cross(r,i,e),p.normalize(r,r),f.setAxisAngle(t,r,Math.PI),t):a>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(p.cross(r,e,n),t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=1+a,f.normalize(t,t))}),f.setAxes=(a=c.create(),function(t,e,n,r){return a[0]=n[0],a[3]=n[1],a[6]=n[2],a[1]=r[0],a[4]=r[1],a[7]=r[2],a[2]=-e[0],a[5]=-e[1],a[8]=-e[2],f.normalize(t,f.fromMat3(t,a))}),f.clone=h.clone,f.fromValues=h.fromValues,f.copy=h.copy,f.set=h.set,f.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},f.setAxisAngle=function(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t},f.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},f.add=h.add,f.multiply=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+o*u-i*l,t[1]=o*c+a*l+i*s-r*u,t[2]=i*c+a*u+r*l-o*s,t[3]=a*c-r*s-o*l-i*u,t},f.mul=f.multiply,f.scale=h.scale,f.rotateX=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=o*l+i*s,t[2]=i*l-o*s,t[3]=a*l-r*s,t},f.rotateY=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-i*s,t[1]=o*l+a*s,t[2]=i*l+r*s,t[3]=a*l-o*s,t},f.rotateZ=function(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=o*l-r*s,t[2]=i*l+a*s,t[3]=a*l-i*s,t},f.calculateW=function(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t},f.dot=h.dot,f.lerp=h.lerp,f.slerp=function(t,e,n,r){var o,i,a,s,l,u=e[0],c=e[1],p=e[2],h=e[3],f=n[0],d=n[1],m=n[2],g=n[3];return(i=u*f+c*d+p*m+h*g)<0&&(i=-i,f=-f,d=-d,m=-m,g=-g),1-i>1e-6?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,l=Math.sin(r*o)/a):(s=1-r,l=r),t[0]=s*u+l*f,t[1]=s*c+l*d,t[2]=s*p+l*m,t[3]=s*h+l*g,t},f.sqlerp=(s=f.create(),l=f.create(),function(t,e,n,r,o,i){return f.slerp(s,e,o,i),f.slerp(l,n,r,i),f.slerp(t,s,l,2*i*(1-i)),t}),f.invert=function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-o*s,t[3]=i*s,t},f.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},f.length=h.length,f.len=f.length,f.squaredLength=h.squaredLength,f.sqrLen=f.squaredLength,f.normalize=h.normalize,f.fromMat3=function(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*i+a]-e[3*a+i])*n,t[i]=(e[3*i+o]+e[3*o+i])*n,t[a]=(e[3*a+o]+e[3*o+a])*n}return t},f.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},f.exactEquals=h.exactEquals,f.equals=h.equals,t.exports=f},function(t,e,n){var r,o=n(2),i={create:function(){var t=new o.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new o.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new o.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t},i.random=function(t,e){e=e||1;var n=2*o.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t},i.transformMat2d=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t},i.forEach=(r=i.create(),function(t,e,n,o,i,a){var s,l;for(e||(e=2),n||(n=0),l=o?Math.min(o*e+n,t.length):t.length,s=n;s<l;s+=e)r[0]=t[s],r[1]=t[s+1],i(r,r,a),t[s]=r[0],t[s+1]=r[1];return t}),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],r=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))},t.exports=i},function(t,n,r){"use strict";function o(t,e,n,r){if(!t.length)return-1;for(var o,i=t.length,a=0;a<i;){var s=n(t[o=Math.floor((i+a)/2)]);if(s===e)return o;if(e>s)a=o+1;else{if(!(e<s))return-1;i=o}}return r?Math.max(0,a-1):-1}r.r(n),r(10);var i=function(){function t(t,e){this.value=t,this.updateFn=e,this.bound_properties=[]}return t.prototype.update=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.value=this.updateFn.apply(null,arguments);for(var n=0;n<this.bound_properties.length;n++)this.bound_properties[n].update()},t.prototype.get=function(){return this.value},t.prototype.updateAndGet=function(){return this.update(),this.get()},t.prototype.addBoundProperty=function(t){this.bound_properties.push(t)},t}(),a=r(6),s=r.n(a);function l(t,n){var r=new s.a,o=new Object,i=new e.Deferred;return o.casesAndEntities=t,o.dimension=n,r.postMessage(o),r.onmessage=function(t){i.resolve(t.data)},i.promise()}var u=r(0),c=r.n(u);function p(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e[o]=t[o]}return e}function h(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}function f(t,e){return void 0===t?e:t}function d(t,e){for(var n={},r=0,o=Object.keys(t);r<o.length;r++)n[s=o[r]]=t[s];for(var i=0,a=Object.keys(e);i<a.length;i++){var s;n[s=a[i]]=e[s]}return n}function m(t,e,n){for(var r=n=n||0;r<t.length;r++)if(e(t[r]))return r;return-1}function g(t,e){return t<e?-1:t>e?1:0}function v(t,e,n){return Math.max(e,Math.min(n,t))}var y="string";function b(t,e,n){e=e||function(t){return t};for(var r,o,i,a,s,l=t,u=[{lower_index_incl:0,upper_index_excl:t.length}],c=[],p=0;p<t.length;p++)(s=e(t[p])).length>c.length&&(c=s);for(var f=c.length,d=0;d<f;d++){r=[],o=[];for(var m=0;m<u.length;m++)h(r,(a=w(l,e,(i=u[m]).lower_index_incl,i.upper_index_excl,d,typeof c[d]===y)).sorted_array),h(o,a.bucket_ranges);l=r,u=o}if(n){var g;for(r=[],m=0;m<u.length;m++)i=u[m],(g=l.slice(i.lower_index_incl,i.upper_index_excl)).sort(n),h(r,g);l=r}return l}function _(t){for(var e,n=[],r=t.length,o=-1,i=0;i<r;i++)(e=t.charCodeAt(i))>=48&&e<=57?-1===o&&(o=i):(o>-1&&(n.push(parseInt(t.substring(o,i),10)),o=-1),n.push(e));return o>-1&&n.push(parseInt(t.substring(o),10)),n}function x(t,e,n,r){var o=function t(e,n){for(var r,o,i,a=0,s=0;s<e.length;s++){if(s>=n.length){a=1;break}if(o=e[s],i=n[s],0!==(r=typeof o===y?t(_(o),_(i)):g(o,i))){a=r;break}}return 0===a&&e.length<n.length&&(a=-1),a}(n(t),n(e));return 0===o&&r&&(o=r(t,e)),o}function w(t,e,n,r,o,i){if(!t.length||n>=r)return{sorted_array:[],bucket_ranges:[]};for(var a,s,l={},u=[],c=n;c<r;c++)(a=e(t[c])).length>o?(l[s=a[o]]=l[s]||[],l[s].push(t[c])):u.push(t[c]);var p=Object.keys(l);if(i)p=function(t,e){return e=e||function(t){return t},b(p.map(function(t){return{d:t,vector:_(e(t))}}),function(t){return t.vector}).map(function(t){return t.d})}();else{for(c=0;c<p.length;c++)p[c]=parseFloat(p[c]);p.sort(g)}var f,d,m=[],v=[];for(u.length&&(f=n+m.length,v.push({lower_index_incl:f,upper_index_excl:f+u.length}),h(m,u)),c=0;c<p.length;c++){var y=l[p[c]];d=(f=n+m.length)+y.length,v.push({lower_index_incl:f,upper_index_excl:d}),h(m,y)}return{sorted_array:m,bucket_ranges:v}}var S=r(7),C=r.n(S);function T(t,e,n,r){for(var o,i,a=0,s=t.length,l=!1;!(a>=s);)if((i=e(t[o=Math.floor((a+s)/2)]))>=r)s=o;else{if(!(i<n)){l=!0;break}a=o+1}return l}var k=function(){function t(t,e,n,r){e.isVector?this.initializeVector(t,e,n,r):this.initializeComparator(t,e,n,r)}return t.prototype.initializeComparator=function(t,e,n,r){var o,i;function a(t){return function(e,r){if(0===n)return 0;var o=t(e,r);return 2===o?1:-2===o?-1:o*n}}"function"==typeof e?(o=e,i=e):(o=e.preferred,i=e.mandatory);var s=a(o),l=a(i),u=t.sort(s);this.preferred_change_points=[0],this.mandatory_change_points=[0];for(var c=1;c<u.length;c++)0!==l(u[c-1],u[c])?this.mandatory_change_points.push(c):0!==s(u[c-1],u[c])&&this.preferred_change_points.push(c);for(this.id_to_index={},c=0;c<u.length;c++)this.id_to_index[u[c][r]]=c},t.prototype.initializeVector=function(t,e,n,r){function o(t){return 0===n?function(t){return 0}:function(e){return t(e).map(function(t){return"number"==typeof t?t*n:t})}}var i=o(e.preferred),a=o(e.mandatory),s=t.map(function(t){return{d:t,preferred_vector:i(t),mandatory_vector:a(t)}}),l=e.compareEquals,u=l?function(t,e){return l(t.d,e.d)}:void 0,c=b(s,function(t){return t.preferred_vector},u);this.preferred_change_points=[0],this.mandatory_change_points=[0];for(var p=function(t){return t.mandatory_vector},h=function(t){return t.preferred_vector},f=1;f<c.length;f++)0!==x(c[f-1],c[f],p)?this.mandatory_change_points.push(f):0!==x(c[f-1],c[f],h,u)&&this.preferred_change_points.push(f);for(this.id_to_index={},f=0;f<c.length;f++)this.id_to_index[c[f].d[r]]=f},t.prototype.getSortValue=function(t){var e=this.id_to_index[t],n=0,r=0;return this.mandatory_change_points.length&&(n=this.mandatory_change_points[o(this.mandatory_change_points,e,function(t){return t},!0)]),this.preferred_change_points.length&&(r=this.preferred_change_points[o(this.preferred_change_points,e,function(t){return t},!0)]),{mandatory:n,preferred:r}},t.prototype.compare=function(t,e){var n=this.id_to_index[t],r=this.id_to_index[e];if(void 0===n&&void 0===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;var o=!1;if(n===r)return 0;if(n>r){var i=n;n=r,r=i,o=!0}var a=0;return T(this.mandatory_change_points,function(t){return t},n,r)?a=-1:T(this.preferred_change_points,function(t){return t},n,r)&&(a=-.5),o&&(a*=-1),a},t}(),O=function(){function t(){this.union_count={},this.sets={}}return t.prototype.setOfKeys=function(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];void 0!==t[o]&&(e[o]=!0)}return e},t.prototype.putSet=function(t,e){this.removeSet(t),this.sets[t]=e;for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];e[o]&&(this.union_count[o]=this.union_count[o]||0,this.union_count[o]+=1)}},t.prototype.removeSet=function(t){for(var e=this.union_count,n=this.sets[t]||{},r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];n[i]&&(e[i]-=1,0===e[i]&&delete e[i])}delete this.sets[t]},t.prototype.getUnion=function(){return this.setOfKeys(this.union_count)},t}();function E(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];e[o]=t[o]}return e}function M(t,e,n){return Math.min(n,Math.max(e,t))}var I=function(){function t(t){var e=this;this.sort_config={},this.rendering_suppressed_depth=0,this.max_height=500,this.cell_width=f(t.init_cell_width,6),this.horz_zoom=f(t.init_horz_zoom,1),this.vert_zoom=f(t.init_vert_zoom,1),this.horz_scroll=0,this.vert_scroll=0,this.bottom_padding=0,this.track_group_padding=f(t.init_track_group_padding,10),this.cell_padding=f(t.init_cell_padding,3),this.cell_padding_on=f(t.init_cell_padding_on,!0),this.cell_padding_off_cell_width_threshold=f(t.cell_padding_off_cell_width_threshold,2),this.cell_padding_off_because_of_zoom=this.getCellWidth()<this.cell_padding_off_cell_width_threshold,this.id_order=[],this.hidden_ids={},this.highlighted_ids=[],this.track_group_legend_order=[],this.show_track_sublabels=!1,this.column_labels={},this.track_important_ids={},this.track_label={},this.track_label_color={},this.track_label_circle_color={},this.track_label_font_weight={},this.track_label_left_padding={},this.track_sublabel={},this.track_html_label={},this.track_link_url={},this.track_description={},this.cell_height={},this.track_padding={},this.track_data_id_key={},this.track_tooltip_fn={},this.track_movable={},this.track_removable={},this.track_remove_callback={},this.track_sort_cmp_fn={},this.track_sort_direction_changeable={},this.track_sort_direction={},this.track_sort_direction_change_callback={},this.track_data={},this.track_rule_set_id={},this.track_active_rules={},this.track_info={},this.$track_info_tooltip_elt={},this.track_has_column_spacing={},this.track_expansion_enabled={},this.track_expand_callback={},this.track_expand_button_getter={},this.track_expansion_tracks={},this.track_expansion_parent={},this.track_custom_options={},this.rule_sets={},this.rule_set_active_rules={},this.visible_id_order=new i([],function(){var t=e.hidden_ids;return e.id_order.filter(function(e){return!t[e]})}),this.track_id_to_datum=new i({},function(t,e){var n=t.track_id_to_datum.get();if(null!==t.getContainingTrackGroup(e)){for(var r={},o=t.getTrackData(e)||[],i=t.getTrackDataIdKey(e)||"",a=0;a<o.length;a++)r[o[a][i]]=o[a];n[e]=r}else delete n[e];return n}),this.track_present_ids=new i(new O,function(t,e){var n=t.track_present_ids.get();if(null!==t.getContainingTrackGroup(e)){for(var r={},o=t.getTrackData(e)||[],i=t.getTrackDataIdKey(e)||"",a=0;a<o.length;a++)r[o[a][i]]=!0;n.putSet(e,r)}else n.removeSet(e);return n}),this.present_ids=new i({},function(){return e.track_present_ids.get().getUnion()}),this.track_present_ids.addBoundProperty(this.present_ids),this.id_to_index=new i({},function(){for(var t={},n=e.getIdOrder(!0),r=0;r<n.length;r++)t[n[r]]=r;return t}),this.visible_id_to_index=new i({},function(){for(var t={},n=e.getIdOrder(),r=0;r<n.length;r++)t[n[r]]=r;return t}),this.visible_id_order.addBoundProperty(this.visible_id_to_index),this.track_groups=[],this.track_group_sort_priority=[],this.track_group_header=[],this.track_tops=new i({},function(){for(var t={},n=e.getTrackGroups(),r=0,o=0;o<n.length;o++){var i=n[o];e.getTrackGroupHeader(o).length>0&&i.length>0&&(r+=e.getTrackGroupHeaderSize());for(var a=0;a<i.length;a++){var s=i[a];t[s]=r,r+=e.getTrackHeight(s,!0)}i.length>0&&(r+=e.getTrackGroupPadding(!0))}return t}),this.cell_tops=new i({},function(){var t=e.track_tops.get(),n={};for(var r in t)if(t.hasOwnProperty(r)){var o=parseInt(r,10);n[o]=t[o]+e.getTrackPadding(o,!0)}return n}),this.label_tops=new i({},function(){return e.cell_tops.get()}),this.track_tops.addBoundProperty(this.cell_tops),this.cell_tops.addBoundProperty(this.label_tops),this.track_tops_zoomed=new i({},function(){for(var t={},n=e.getTrackGroups(),r=0,o=0;o<n.length;o++){for(var i=n[o],a=0;a<i.length;a++){var s=i[a];t[s]=r,r+=e.getTrackHeight(s)}i.length>0&&(r+=e.getTrackGroupPadding())}return t}),this.cell_tops_zoomed=new i({},function(){var t=e.track_tops_zoomed.get(),n={};for(var r in t)if(t.hasOwnProperty(r)){var o=parseInt(r,10);n[o]=t[o]+e.getTrackPadding(o)}return n}),this.label_tops_zoomed=new i({},function(){return e.cell_tops_zoomed.get()}),this.track_tops.addBoundProperty(this.track_tops_zoomed),this.track_tops_zoomed.addBoundProperty(this.cell_tops_zoomed),this.cell_tops_zoomed.addBoundProperty(this.label_tops_zoomed),this.column_left=new i({},function(){for(var t=e.getCellWidth(!0),n=e.getCellPadding(!0),r={},o=e.getIdOrder(),i=0;i<o.length;i++)r[o[i]]=i*(t+n);return r}),this.zoomed_column_left=new i({},function(){for(var t=e.getCellWidth(),n=e.getCellPadding(),r={},o=e.getIdOrder(),i=0;i<o.length;i++)r[o[i]]=i*(t+n);return r}),this.column_left_no_padding=new i({},function(){for(var t=e.getCellWidth(!0),n={},r=e.getIdOrder(),o=0;o<r.length;o++)n[r[o]]=o*t;return n}),this.column_left.addBoundProperty(this.zoomed_column_left),this.column_left.addBoundProperty(this.column_left_no_padding),this.precomputed_comparator=new i({},function(t,e){var n=t.precomputed_comparator.get();return n[e]=new k(t.getTrackData(e),t.getTrackSortComparator(e),t.getTrackSortDirection(e),t.getTrackDataIdKey(e)),n})}return t.prototype.toggleCellPadding=function(){return this.cell_padding_on=!this.cell_padding_on,this.column_left.update(),this.cell_padding_on},t.prototype.getCellPadding=function(t,e){return this.cell_padding*(t?1:this.horz_zoom)*+this.cell_padding_on*(e?1:+!this.cell_padding_off_because_of_zoom)},t.prototype.getHorzZoom=function(){return this.horz_zoom},t.prototype.getHorzZoomToFitNumCols=function(t,e){var n,r=this.getCellWidth(!0),o=M(t/(e*(r+this.cell_padding)),0,1),i=M(t/(e*r),0,1);if(this.cell_padding_on)if(r*o<this.cell_padding_off_cell_width_threshold)if(r*i>=this.cell_padding_off_cell_width_threshold){var a=t/(this.cell_padding_off_cell_width_threshold/r*r);n=t/(Math.ceil(a)*r)}else n=i;else n=o;else n=i;return n},t.prototype.getHorzZoomToFit=function(t,e){if(0===(e=e||[]).length)return 1;for(var n=this.getVisibleIdToIndexMap(),r=e.map(function(t){return n[t]}),o=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=0;a<r.length;a++)o=Math.max(r[a],o),i=Math.min(r[a],i);var s=o-i+1;return this.getHorzZoomToFitNumCols(t,s)},t.prototype.getMinHorzZoom=function(){return Math.min(100/(this.getIdOrder().length*this.getCellWidth(!0)+(this.getIdOrder().length-1)*this.getCellPadding(!0)),1)},t.prototype.getMinVertZoom=function(){return this.max_height/this.getOncoprintHeight(!0)},t.prototype.setHorzScroll=function(t){return this.horz_scroll=Math.max(0,t),this.horz_scroll},t.prototype.setVertScroll=function(t){return this.vert_scroll=Math.max(0,t),this.vert_scroll},t.prototype.setScroll=function(t,e){this.setHorzScroll(t),this.setVertScroll(e)},t.prototype.getHorzScroll=function(){return this.horz_scroll},t.prototype.getVertScroll=function(){return this.vert_scroll},t.prototype.setZoom=function(t,e){this.setHorzZoom(t),this.setVertZoom(e)},t.prototype.setCellPaddingOffBecauseOfZoom=function(t){this.cell_padding_off_because_of_zoom=t,this.column_left.update()},t.prototype.setHorzZoom=function(t){var e=this.getMinHorzZoom();return this.horz_zoom=M(t,e,1),this.column_left.update(),this.getCellWidth()<this.cell_padding_off_cell_width_threshold&&!this.cell_padding_off_because_of_zoom?this.setCellPaddingOffBecauseOfZoom(!0):this.getCellWidth()>=this.cell_padding_off_cell_width_threshold&&this.cell_padding_off_because_of_zoom&&this.setCellPaddingOffBecauseOfZoom(!1),this.horz_zoom},t.prototype.getVertZoom=function(){return this.vert_zoom},t.prototype.setVertZoom=function(t){var e=this.getMinVertZoom();return this.vert_zoom=M(t,e,1),this.track_tops.update(),this.vert_zoom},t.prototype.hideTrackLegends=function(t){t=[].concat(t);for(var e=0;e<t.length;e++)this.getRuleSet(t[e]).exclude_from_legend=!0},t.prototype.showTrackLegends=function(t){t=[].concat(t);for(var e=0;e<t.length;e++)this.getRuleSet(t[e]).exclude_from_legend=!1},t.prototype.clearTrackActiveRules=function(t){for(var e=this.track_rule_set_id[t],n=this.track_active_rules[t],r=this.rule_set_active_rules[e],o=Object.keys(n).map(function(t){return parseInt(t,10)}),i=0;i<o.length;i++){var a=o[i];r.hasOwnProperty(a)&&(r[a]-=1,r[a]<=0&&delete r[a])}this.track_active_rules[t]={}},t.prototype.setTrackActiveRules=function(t,e){this.clearTrackActiveRules(t),this.track_active_rules[t]=e;for(var n=this.track_rule_set_id[t],r=this.rule_set_active_rules[n],o=Object.keys(e).map(function(t){return parseInt(t,0)}),i=0;i<o.length;i++){var a=o[i];r[a]=r[a]||0,r[a]+=1}},t.prototype.getIdentifiedShapeListList=function(t,e,n){var r={},o=this.getTrackData(t),i=this.getTrackDataIdKey(t),a=this.getTrackHasColumnSpacing(t),s=this.getCellWidth(e)+(a?0:this.getCellPadding(e,!0)),l=this.getRuleSet(t).apply(o,s,this.getCellHeight(t,e),r,i,this.getTrackImportantIds(t));function u(t,e){var n=parseFloat(t.z),r=parseFloat(e.z);return n<r?-1:n>r?1:0}return this.setTrackActiveRules(t,r),l.map(function(t,e){return n&&t.sort(u),{id:o[e][i],shape_list:t}})},t.prototype.getActiveRules=function(t){var e=this.rule_set_active_rules[t];return e?this.rule_sets[t].getRulesWithId().filter(function(t){return!!e[t.id]}):[]},t.prototype.setTrackImportantIds=function(t,e){this.track_important_ids[t]=e?e.reduce(function(t,e){return t[e]=!0,t},{}):void 0},t.prototype.getTrackImportantIds=function(t){return this.track_important_ids[t]},t.prototype.getRuleSets=function(){for(var t=this,e=this.getTrackGroupLegendOrder(),n={},r=this.getTrackGroups(),o=[],i=0;i<e.length;i++)n[e[i]]=!0,r[e[i]]&&o.push(r[e[i]]);for(i=0;i<r.length;i++)!n[i]&&r[i]&&o.push(r[i]);return function(t){for(var e={},n=[],r=0;r<t.length;r++)void 0===e[t[r]]&&(e[t[r]]=!0,n.push(t[r]));return n}(o.reduce(function(t,e){return t.concat(e)},[]).map(function(e){return t.track_rule_set_id[e]}).map(function(t){return t.toString()})).map(function(e){return t.rule_sets[parseInt(e,10)]})},t.prototype.getTrackHasColumnSpacing=function(t){return!!this.track_has_column_spacing[t]},t.prototype.getCellWidth=function(t){return this.cell_width*(t?1:this.horz_zoom)},t.prototype.getCellHeight=function(t,e){return this.cell_height[t]*(e?1:this.vert_zoom)},t.prototype.getTrackInfo=function(t){return this.track_info[t]},t.prototype.setTrackInfo=function(t,e){this.track_info[t]=e},t.prototype.getTrackHeight=function(t,e){return this.getCellHeight(t,e)+2*this.getTrackPadding(t,e)},t.prototype.getTrackPadding=function(t,e){return this.track_padding[t]*(e?1:this.vert_zoom)},t.prototype.getBottomPadding=function(){return this.bottom_padding},t.prototype.getTrackSortDirection=function(t){return this.track_sort_direction[t]},t.prototype.setTrackSortDirection=function(t,e,n){this.track_sort_direction[t]=e,n||this.track_sort_direction_change_callback[t](t,e),this.precomputed_comparator.update(this,t)},t.prototype.setCellPaddingOn=function(t){this.cell_padding_on=t,this.column_left.update()},t.prototype.getIdOrder=function(t){return t?this.id_order:this.visible_id_order.get()},t.prototype.getIdToIndexMap=function(){return this.id_to_index.get()},t.prototype.getVisibleIdToIndexMap=function(){return this.visible_id_to_index.get()},t.prototype.getHiddenIds=function(){var t=this.hidden_ids;return this.id_order.filter(function(e){return!!t[e]})},t.prototype.isSortAffected=function(t,e){var n;t=[].concat(t);var r=this;return n="track"===e?t.map(function(t){return r.getContainingTrackGroupIndex(t)}):t,"cluster"!==this.sort_config.type||n.indexOf(this.sort_config.track_group_index)>-1},t.prototype.setIdOrder=function(t){this.id_order=t.slice(),Object.freeze(this.id_order),this.id_to_index.update(),this.visible_id_order.update(),this.column_left.update()},t.prototype.hideIds=function(t,e){e&&(this.hidden_ids={});for(var n=0,r=t.length;n<r;n++)this.hidden_ids[t[n]]=!0;this.visible_id_order.update(),this.column_left.update()},t.prototype.setHighlightedIds=function(t){this.highlighted_ids=t},t.prototype.getHighlightedIds=function(){return this.highlighted_ids},t.prototype.setTrackGroupOrder=function(t,e){this.track_groups[t]=e,this.track_tops.update()},t.prototype.moveTrackGroup=function(t,e){for(var n=[],r=[],o=this.track_groups[t],i=0;i<this.track_groups.length;i++)i!==t&&i!==e&&(n.push(this.track_groups[i]),r.push(this.track_group_header[i])),i===e&&(n.push(o),r.push(this.track_group_header[t]));return this.track_groups=n,this.track_group_header=r,this.track_tops.update(),this.track_groups},t.prototype.addTracks=function(t){for(var e=0;e<t.length;e++){var n=t[e];this.addTrack(n)}this.track_tops.update()},t.prototype.addTrack=function(t){var e=t.track_id;for(this.$track_info_tooltip_elt[e]=t.$track_info_tooltip_elt,this.track_custom_options[e]=f(t.custom_track_options,[]),this.track_label[e]=f(t.label,"Label"),this.track_sublabel[e]=f(t.sublabel,""),this.track_label_color[e]=f(t.track_label_color,"black"),this.track_label_circle_color[e]=t.track_label_circle_color,this.track_label_font_weight[e]=t.track_label_font_weight,this.track_label_left_padding[e]=f(t.track_label_left_padding,0),this.track_link_url[e]=f(t.link_url,null),this.track_description[e]=f(t.description,""),this.cell_height[e]=f(t.cell_height,23),this.track_padding[e]=f(t.track_padding,5),this.track_has_column_spacing[e]=f(t.has_column_spacing,!0),this.track_tooltip_fn[e]=f(t.tooltipFn,function(t){return t+""}),this.track_movable[e]=f(t.movable,!0),this.track_removable[e]=f(t.removable,!1),this.track_remove_callback[e]=f(t.removeCallback,function(){}),void 0!==t.expandCallback&&(this.track_expand_callback[e]=t.expandCallback,this.track_expansion_enabled[e]=!0),void 0!==t.expandButtonTextGetter&&(this.track_expand_button_getter[e]=t.expandButtonTextGetter),this.track_sort_cmp_fn[e]=t.sortCmpFn,this.track_sort_direction_changeable[e]=f(t.sort_direction_changeable,!1),this.track_sort_direction_change_callback[e]=f(t.onSortDirectionChange,function(){}),this.track_data[e]=f(t.data,[]),this.track_data_id_key[e]=f(t.data_id_key,"id"),this.track_info[e]=f(t.track_info,""),void 0!==t.html_label&&(this.track_html_label[e]=t.html_label),void 0!==t.rule_set&&(this.rule_sets[t.rule_set.rule_set_id]=t.rule_set,this.rule_set_active_rules[t.rule_set.rule_set_id]={},this.track_rule_set_id[e]=t.rule_set.rule_set_id),this.track_active_rules[e]={},t.important_ids&&this.setTrackImportantIds(e,t.important_ids),this.track_sort_direction[e]=f(t.init_sort_direction,1),t.target_group=f(t.target_group,0);t.target_group>=this.track_groups.length;)this.track_groups.push([]),this.track_group_header.push("");t.track_group_header&&(this.track_group_header[t.target_group]=t.track_group_header);var n=this.track_groups[t.target_group],r=void 0!==t.expansion_of?n.indexOf(this.getLastExpansion(t.expansion_of))+1:n.length;if(n.splice(r,0,e),void 0!==t.expansion_of){if(this.track_expansion_tracks.hasOwnProperty(t.expansion_of)||(this.track_expansion_tracks[t.expansion_of]=[]),-1!==this.track_expansion_tracks[t.expansion_of].indexOf(e))throw new Error("Illegal state: duplicate expansion track ID");this.track_expansion_parent[e]=t.expansion_of,this.track_expansion_tracks[t.expansion_of].push(e)}this.track_id_to_datum.update(this,e),this.track_present_ids.update(this,e),this.precomputed_comparator.update(this,e),this.setIdOrder(Object.keys(this.present_ids.get()))},t.prototype._getMajorTrackGroup=function(t,e){var n,r;for(r=0;r<this.track_groups.length;r++)if(this.track_groups[r].indexOf(t)>-1){n=this.track_groups[r];break}return n?e?r:n:null},t.prototype._getEffectiveTrackGroup=function(t){var e,n,r=this,o=this.track_expansion_parent[t];return(e=void 0===o?null===(n=this._getMajorTrackGroup(t))?null:n.filter(function(t){return void 0===r.track_expansion_parent[t]}):this.track_expansion_tracks[o])?e.slice():null},t.prototype.isRuleSetUsed=function(t){for(var e=!1,n=this.getTracks(),r=0;r<n.length;r++)if(this.track_rule_set_id[n[r]]===t){e=!0;break}return e},t.prototype.removeRuleSet=function(t){delete this.rule_sets[t],delete this.rule_set_active_rules[t]},t.prototype.removeTrack=function(t){var e=this.track_rule_set_id[t];this.clearTrackActiveRules(t),this.track_remove_callback[t](t),delete this.track_data[t],delete this.track_rule_set_id[t],delete this.track_label[t],delete this.track_link_url[t],delete this.cell_height[t],delete this.track_padding[t],delete this.track_data_id_key[t],delete this.track_tooltip_fn[t],delete this.track_movable[t],delete this.track_removable[t],delete this.track_remove_callback[t],delete this.track_sort_cmp_fn[t],delete this.track_sort_direction_changeable[t],delete this.track_sort_direction[t],delete this.track_info[t],delete this.track_has_column_spacing[t],delete this.track_expansion_enabled[t],delete this.track_expand_callback[t],delete this.track_expand_button_getter[t],delete this.track_expansion_tracks[t],delete this.track_label_circle_color[t],delete this.track_label_font_weight[t],delete this.track_label_left_padding[t];var n=this._getMajorTrackGroup(t);null!==n&&n.splice(n.indexOf(t),1);var r=this.track_expansion_tracks[this.track_expansion_parent[t]];r&&r.splice(r.indexOf(t),1),delete this.track_expansion_parent[t],this.track_tops.update(),this.track_present_ids.update(this,t),this.track_id_to_datum.update(this,t),this.setIdOrder(Object.keys(this.present_ids.get())),this.isRuleSetUsed(e)||this.removeRuleSet(e)},t.prototype.getOverlappingCells=function(t,e){var n=this.getIdOrder(),r=this.getZoomedColumnLeft(),i=o(n,t,function(t){return r[t]},!0);if(-1===i)return null;var a=this.getTracks(),s=this.getCellTops(),l=o(a,e,function(t){return s[t]},!0);if(-1===l)return null;var u=a[l];if(e>=s[u]+this.getCellHeight(u))return null;var c,p,h,f=[],d=this.getCellWidth();this.getTrackHasColumnSpacing(u)||(d+=this.getCellPadding());for(var m=i;m<n.length;m++)if(void 0,h=(c=[r[n[m]],r[n[m]]+d])[0],!(c[1]<(p=t))&&h<p+1)f.push(n[m]);else if(r[n[m]]>t+1)break;return f.length>0?{ids:f,track:u,top:s[u],left:r[f[0]]}:null},t.prototype.getTrackDatum=function(t,e){var n=this.track_id_to_datum.get()[t][e];return void 0===n&&(n=null),n},t.prototype.getTrackTops=function(t){return void 0===t?E(this.track_tops.get()):this.track_tops.get()[t]},t.prototype.getZoomedTrackTops=function(t){return void 0===t?E(this.track_tops_zoomed.get()):this.track_tops_zoomed.get()[t]},t.prototype.getCellTops=function(t,e){return void 0===t?E((e?this.cell_tops:this.cell_tops_zoomed).get()):(e?this.cell_tops:this.cell_tops_zoomed).get()[t]},t.prototype.getLabelTops=function(t,e){return void 0===t?E((e?this.label_tops:this.label_tops_zoomed).get()):(e?this.label_tops:this.label_tops_zoomed).get()[t]},t.prototype.getContainingTrackGroup=function(t){return this._getEffectiveTrackGroup(t)},t.prototype.getContainingTrackGroupIndex=function(t){return this._getMajorTrackGroup(t,!0)},t.prototype.setTrackGroupHeader=function(t,e){this.track_group_header[t]=e,this.track_tops.update()},t.prototype.getTrackGroupHeader=function(t){return this.track_group_header[t]||""},t.prototype.getTrackGroupHeaderSize=function(){return 20},t.prototype.getTrackGroups=function(){return this.track_groups},t.prototype.getTracks=function(){for(var t=[],e=0;e<this.track_groups.length;e++)for(var n=0;n<this.track_groups[e].length;n++)t.push(this.track_groups[e][n]);return t},t.prototype.getIdsInLeftInterval=function(t,e){var n=this.getCellWidth(),r=this.getCellPadding(),o=this.getIdOrder(),i=Math.floor(t/(n+r));t-i*(n+r)>n&&(i+=1);var a=Math.floor(e/(n+r));return o.slice(i,a+1)},t.prototype.getColumnLeft=function(t){return void 0===t?this.column_left.get():this.column_left.get()[t]},t.prototype.getColumnLeftNoPadding=function(t){return void 0===t?this.column_left_no_padding.get():this.column_left_no_padding.get()[t]},t.prototype.getZoomedColumnLeft=function(t){return void 0===t?this.zoomed_column_left.get():this.zoomed_column_left.get()[t]},t.prototype.getOncoprintHeight=function(t){var e=this.getTracks(),n=e[e.length-1];return(t?this.getTrackTops(n):this.getZoomedTrackTops(n))+this.getTrackHeight(n,t)+this.getBottomPadding()},t.prototype.getOncoprintWidth=function(t){return this.getIdOrder().length*(this.getCellWidth(t)+this.getCellPadding(t))},t.prototype.getOncoprintWidthNoColumnPadding=function(t){return this.getIdOrder().length*this.getCellWidth(t)},t.prototype.getCellViewHeight=function(){return Math.min(this.max_height,this.getOncoprintHeight())},t.prototype.getColumnLabels=function(){return this.column_labels},t.prototype.setColumnLabels=function(t){this.column_labels=t},t.prototype.moveTrack=function(t,e){function n(t,e,n,r){var o=t.indexOf(e),i=t.indexOf(n),a=t.slice(o,i+1);t.splice(o,a.length);var s=null===r?0:t.indexOf(r)+1;t.splice.bind(t,s,0).apply(null,a)}var r,o=this._getMajorTrackGroup(t),i=this.track_expansion_parent[t];null!==o&&(r=void 0!==i&&null===e?i:this.getLastExpansion(e),n(o,t,this.getLastExpansion(t),r)),void 0!==this.track_expansion_parent[t]&&n(this.track_expansion_tracks[i],t,t,e),this.track_tops.update()},t.prototype.getTrackLabel=function(t){return this.track_label[t]},t.prototype.getTrackSublabel=function(t){return this.track_sublabel[t]},t.prototype.getShowTrackSublabels=function(){return this.show_track_sublabels},t.prototype.setShowTrackSublabels=function(t){return this.show_track_sublabels=t},t.prototype.getTrackLabelColor=function(t){return this.track_label_color[t]},t.prototype.getTrackLabelCircleColor=function(t){return this.track_label_circle_color[t]},t.prototype.getTrackLabelFontWeight=function(t){return this.track_label_font_weight[t]},t.prototype.getTrackLabelLeftPadding=function(t){return this.track_label_left_padding[t]},t.prototype.getOptionalHtmlTrackLabel=function(t){return this.track_html_label[t]},t.prototype.getTrackLinkUrl=function(t){return this.track_link_url[t]},t.prototype.getTrackDescription=function(t){return this.track_description[t]},t.prototype.getTrackTooltipFn=function(t){return this.track_tooltip_fn[t]},t.prototype.setTrackTooltipFn=function(t,e){this.track_tooltip_fn[t]=e},t.prototype.getTrackDataIdKey=function(t){return this.track_data_id_key[t]},t.prototype.getTrackGroupPadding=function(t){return this.track_group_padding*(t?1:this.vert_zoom)},t.prototype.isTrackRemovable=function(t){return this.track_removable[t]},t.prototype.isTrackSortDirectionChangeable=function(t){return this.track_sort_direction_changeable[t]},t.prototype.isTrackExpandable=function(t){return Boolean(this.track_expansion_enabled[t])},t.prototype.expandTrack=function(t){return this.track_expand_callback[t](t)},t.prototype.disableTrackExpansion=function(t){this.track_expansion_enabled[t]=!1},t.prototype.enableTrackExpansion=function(t){if(!this.track_expand_callback.hasOwnProperty(t))throw new Error("Track '"+t+"' has no expandCallback");this.track_expansion_enabled[t]=!0},t.prototype.isTrackExpanded=function(t){return this.track_expansion_tracks.hasOwnProperty(t)&&this.track_expansion_tracks[t].length>0},t.prototype.getExpandButtonText=function(t){var e=this;return function(t){return e.track_expand_button_getter[t]||function(t){return t?"Expand more":"Expand"}}(t)(this.isTrackExpanded(t))},t.prototype.isExpansionOf=function(t,e){return this.track_expansion_tracks.hasOwnProperty(e)&&-1!==this.track_expansion_tracks[e].indexOf(t)},t.prototype.getLastExpansion=function(t){for(var e=this.track_expansion_tracks[t];e&&e.length;)t=e[e.length-1],e=this.track_expansion_tracks[t];return t},t.prototype.getTrackCustomOptions=function(t){return this.track_custom_options[t]},t.prototype.setTrackCustomOptions=function(t,e){this.track_custom_options[t]=e},t.prototype.setTrackInfoTooltip=function(t,e){this.$track_info_tooltip_elt[t]=e},t.prototype.$getTrackInfoTooltip=function(t){return this.$track_info_tooltip_elt[t]},t.prototype.getRuleSet=function(t){return this.rule_sets[this.track_rule_set_id[t]]},t.prototype.shareRuleSet=function(t,e){this.setTrackActiveRules(e,{});var n=this.track_rule_set_id[e];this.track_rule_set_id[e]=this.track_rule_set_id[t],this.isRuleSetUsed(n)||this.removeRuleSet(n)},t.prototype.setRuleSet=function(t,e){this.setTrackActiveRules(t,{});var n=this.track_rule_set_id[t];this.rule_sets[e.rule_set_id]=e,this.rule_set_active_rules[e.rule_set_id]={},this.track_rule_set_id[t]=e.rule_set_id,this.isRuleSetUsed(n)||this.removeRuleSet(n)},t.prototype.getTrackSortComparator=function(t){return this.track_sort_cmp_fn[t]},t.prototype.setTrackSortComparator=function(t,e){this.track_sort_cmp_fn[t]=e,this.precomputed_comparator.update(this,t)},t.prototype.getTrackData=function(t){return this.track_data[t]},t.prototype.clusterTrackGroup=function(t,e){var n,r=p(this.sort_config),o=this,i=new c.a.Deferred,a={},s=this.getTrackGroups()[t],u=[];void 0!==s&&(u=this._getEffectiveTrackGroup(s[0])||[]);for(var h=0;h<u.length;h++)for(var f=u[h],d=this.getTrackDataIdKey(f),m=this.getTrackData(f),g=0;g<m.length;g++){var v=m[g][d],y=e(m[g]);a[v]=a[v]||{},a[v][f]=y}return Object.keys(a).length?(c.a.when((n=a,l(n,"CASES")),l(a,"ENTITIES")).then(function(e,n){if(C.a.isEqual(o.sort_config,r)){o.setIdOrder(e.map(function(t){return t.caseId}));var a=n.map(function(t){return parseInt(t.entityId,10)}),s=[];a.forEach(function(t){s.push(t),Array.prototype.push.apply(s,o.track_expansion_tracks[t]||[])}),i.resolve({track_group_index:t,track_id_order:s})}}).fail(function(){i.reject()}),i.promise()):i.resolve().promise()},t.prototype.setTrackData=function(t,e,n){this.track_data[t]=e,this.track_data_id_key[t]=n,this.track_id_to_datum.update(this,t),this.track_present_ids.update(this,t),this.setIdOrder(Object.keys(this.present_ids.get())),this.precomputed_comparator.update(this,t)},t.prototype.setTrackGroupLegendOrder=function(t){this.track_group_legend_order=t.slice()},t.prototype.getTrackGroupLegendOrder=function(){return this.track_group_legend_order},t.prototype.setTrackGroupSortPriority=function(t){this.track_group_sort_priority=t,this.sort()},t.prototype.sortAlphabetical=function(){var t=this.getIdOrder(!0).slice();t.sort(function(t,e){return t.localeCompare(e)}),this.setIdOrder(t)},t.prototype.sortByTracks=function(){var t=this.track_group_sort_priority,e=this.getTrackGroups(),n=(t.length<e.length?e:t.map(function(t){return e[t]})).reduce(function(t,e){return t.concat(e)},[]),r=this.precomputed_comparator.get();function o(t){for(var e=[],o=[],i=0;i<n.length;i++){var a=r[n[i]].getSortValue(t);e.push(a.mandatory),o.push(a.preferred)}return e.concat(o)}var i=b(this.getIdOrder(!0).map(function(t){return{id:t,vector:o(t)}}),function(t){return t.vector});this.setIdOrder(i.map(function(t){return t.id}))},t.prototype.sort=function(){var t=new c.a.Deferred;return this.sort_config=this.sort_config||{},"alphabetical"===this.sort_config.type?(this.sortAlphabetical(),t.resolve()):"order"===this.sort_config.type?(this.setIdOrder(this.sort_config.order),t.resolve()):"cluster"===this.sort_config.type?this.clusterTrackGroup(this.sort_config.track_group_index,this.sort_config.clusterValueFn).then(function(e){t.resolve(e)}):(this.sortByTracks(),t.resolve()),t.promise()},t.prototype.setSortConfig=function(t){this.sort_config=t},t.prototype.getTrackMovable=function(t){return this.track_movable[t]},t.prototype.setTrackMovable=function(t,e){this.track_movable[t]=e},t.prototype.isTrackInClusteredGroup=function(t){return"cluster"===this.sort_config.type&&this.sort_config.track_group_index===this.getContainingTrackGroupIndex(t)},t}(),A=r(1),P=r.n(A);function D(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)e.hasOwnProperty(r)&&n.setAttribute(r,e[r]);return n}function R(t){var e=[0,0,0,1];"#"===t[0]&&(t="rgba("+parseInt(t[1]+t[2],16)+","+parseInt(t[3]+t[4],16)+","+parseInt(t[5]+t[6],16)+",1)");var n=t.match(/^[\s]*rgba\([\s]*([0-9.]+)[\s]*,[\s]*([0-9.]+)[\s]*,[\s]*([0-9.]+)[\s]*,[\s]*([0-9.]+)[\s]*\)[\s]*$/);return n&&5===n.length&&(e=[parseFloat(n[1])/255,parseFloat(n[2])/255,parseFloat(n[3])/255,parseFloat(n[4])]),e}function F(t){if(t.indexOf("rgb(")>-1)return{rgb:t,opacity:1};var e=R(t);return{rgb:"rgb("+255*e[0]+","+255*e[1]+","+255*e[2]+")",opacity:e[3]}}function z(t){if(t.indexOf("rgb(")>-1||t.indexOf("url(")>-1)return{rgb:t,opacity:1};var e=R(t);return{rgb:"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")",opacity:e[3]}}var j,N=(j=0,function(){return j+=1}),L={text:function(t,e,n,r,o,i,a,s){var l=r=r||12;"middle"===a?l=r/2:"bottom"===a&&(l=0);var u=D("text",{x:e||0,y:(n||0)+l,"font-size":r,"font-family":o||"serif","font-weight":i||"normal","text-anchor":"start",fill:s});return u.textContent=t+"",u},group:function(t,e){return D("g",{transform:"translate("+(t=t||0)+","+(e=e||0)+")"})},svg:function(t,e){return D("svg",{width:t||0,height:e||0})},wrapText:function(t,e){var n=t.textContent;t.textContent="";var r=n.split(" "),o=0,i=D("tspan",{x:"0",dy:o});t.appendChild(i);for(var a=[],s=0;s<r.length;s++)a.push(r[s]),i.textContent=a.join(" "),i.getComputedTextLength()>e&&(i.textContent=a.slice(0,a.length-1).join(" "),o=t.getBBox().height,a=[r[s]],i=D("tspan",{x:"0",dy:o}),t.appendChild(i),i.textContent=r[s])},fromShape:function(t,e,n){return function(t,e,n){var r=t.type;return"rectangle"===r?function(t,e,n){var r=F(t.stroke),o=F(t.fill);return D("rect",{width:t.width,height:t.height,x:parseFloat(t.x)+e,y:parseFloat(t.y)+n,stroke:r.rgb,"stroke-opacity":r.opacity,"stroke-width":t["stroke-width"],fill:o.rgb,"fill-opacity":o.opacity})}(t,e,n):"triangle"===r?function(t,e,n){var r=F(t.stroke),o=F(t.fill);return D("polygon",{points:[[parseFloat(t.x1)+e,parseFloat(t.y1)+n],[parseFloat(t.x2)+e,parseFloat(t.y2)+n],[parseFloat(t.x3)+e,parseFloat(t.y3)+n]].map(function(t){return t[0]+","+t[1]}).join(" "),stroke:r.rgb,"stroke-opacity":r.opacity,"stroke-width":t["stroke-width"],fill:o.rgb,"fill-opacity":o.opacity})}(t,e,n):"ellipse"===r?function(t,e,n){var r=F(t.stroke),o=F(t.fill);return D("ellipse",{rx:parseFloat(t.width)/2,height:parseFloat(t.height)/2,cx:parseFloat(t.x)+e,cy:parseFloat(t.y)+n,stroke:r.rgb,"stroke-opacity":r.opacity,"stroke-width":t["stroke-width"],fill:o.rgb,"fill-opacity":o.opacity})}(t,e,n):"line"===r?function(t,e,n){var r=F(t.stroke);return D("line",{x1:parseFloat(t.x1)+e,y1:parseFloat(t.y1)+n,x2:parseFloat(t.x2)+e,y2:parseFloat(t.y2)+n,stroke:r.rgb,"stroke-opacity":r.opacity,"stroke-width":t["stroke-width"]})}(t,e,n):void 0}(t,e,n)},polygon:function(t,e){var n=z(e);return D("polygon",{points:t,fill:n.rgb,"fill-opacity":n.opacity})},rect:function(t,e,n,r,o){var i=z(o);return D("rect",{x:t,y:e,width:n,height:r,fill:i.rgb,"fill-opacity":i.opacity})},bgrect:function(t,e,n){var r=z(n);return D("rect",{width:t,height:e,fill:r.rgb,"fill-opacity":r.opacity})},path:function(t,e,n,r){var o,i,a=t.map(function(t){return t.join(",")});a[0]="M"+t[0];for(var s=1;s<t.length;s++)a[s]="L"+t[s];return r||(o=z(e),i=z(n)),D("path",{d:a.join(" "),stroke:r?"url(#"+r.getAttribute("id")+")":o.rgb,"stroke-opacity":r?0:o.opacity,fill:r?"url(#"+r.getAttribute("id")+")":i.rgb,"fill-opacity":r?1:i.opacity})},stop:function(t,e){var n=z(e);return D("stop",{offset:t+"%","stop-color":n.rgb,"stop-opacity":n.opacity})},linearGradient:function(){return D("linearGradient",{id:"linearGradient"+N()})},defs:function(){return D("defs",{})},gradient:function(t){for(var e=D("linearGradient",{id:"gradient"+N(),x1:0,y1:0,x2:1,y2:0}),n=0;n<=100;n++)e.appendChild(this.stop(n,t(n/100)));return e}},B=Math.sqrt(2)/2;function H(t){var e=[0,0,0,1];"#"===t[0]&&(t="rgba("+parseInt(t[1]+t[2],16)+","+parseInt(t[3]+t[4],16)+","+parseInt(t[5]+t[6],16)+",1)");var n=t.match(/^[\s]*rgba\([\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9.]+)[\s]*\)[\s]*$/);return n&&5===n.length&&(e=[parseFloat(n[1])/255,parseFloat(n[2])/255,parseFloat(n[3])/255,parseFloat(n[4])]),e}var V,W,G=function(t,e,n){var r=t.type;return"rectangle"===r?function(t,e,n){var r=parseFloat(t.x),o=parseFloat(t.y),i=parseFloat(t.height),a=parseFloat(t.width),s=H(t.fill);n([r,o,e],s),n([r+a,o,e],s),n([r+a,o+i,e],s),n([r,o,e],s),n([r+a,o+i,e],s),n([r,o+i,e],s);var l=parseFloat(t["stroke-width"]);if(l>0){var u=H(t.stroke);n([r,o,e],u),n([r+l,o,e],u),n([r+l,o+i,e],u),n([r,o,e],u),n([r+l,o+i,e],u),n([r,o+i,e],u),n([r+a,o,e],u),n([r+a-l,o,e],u),n([r+a-l,o+i,e],u),n([r+a,o,e],u),n([r+a-l,o+i,e],u),n([r+a,o+i,e],u),n([r,o,e],u),n([r+a,o,e],u),n([r+a,o+l,e],u),n([r,o,e],u),n([r+a,o+l,e],u),n([r,o+l,e],u),n([r,o+i,e],u),n([r+a,o+i,e],u),n([r+a,o+i-l,e],u),n([r,o+i,e],u),n([r+a,o+i-l,e],u),n([r,o+i-l,e],u)}}(t,e,n):"triangle"===r?function(t,e,n){var r=H(t.fill);n([parseFloat(t.x1),parseFloat(t.y1),e],r),n([parseFloat(t.x2),parseFloat(t.y2),e],r),n([parseFloat(t.x3),parseFloat(t.y3),e],r)}(t,e,n):"ellipse"===r?function(t,e,n){var r={x:parseFloat(t.x)+parseFloat(t.width)/2,y:parseFloat(t.y)+parseFloat(t.height)/2},o=parseFloat(t.width)/2,i=parseFloat(t.height)/2,a=H(t.fill);n([r.x,r.y,e],a),n([r.x+o,r.y,e],a),n([r.x+B*o,r.y+B*i,e],a),n([r.x,r.y,e],a),n([r.x+B*o,r.y+B*i,e],a),n([r.x,r.y+i,e],a),n([r.x,r.y,e],a),n([r.x,r.y+i,e],a),n([r.x-B*o,r.y+B*i,e],a),n([r.x,r.y,e],a),n([r.x-B*o,r.y+B*i,e],a),n([r.x-o,r.y,e],a),n([r.x,r.y,e],a),n([r.x-o,r.y,e],a),n([r.x-B*o,r.y-B*i,e],a),n([r.x,r.y,e],a),n([r.x-B*o,r.y-B*i,e],a),n([r.x,r.y-i,e],a),n([r.x,r.y,e],a),n([r.x,r.y-i,e],a),n([r.x+B*o,r.y-B*i,e],a),n([r.x,r.y,e],a),n([r.x+B*o,r.y-B*i,e],a),n([r.x+o,r.y,e],a)}(t,e,n):"line"===r?function(t,e,n){var r=parseFloat(t.x1),o=parseFloat(t.x2),i=parseFloat(t.y1),a=parseFloat(t.y2);if(r!==o&&Math.min(r,o)===o){var s=r,l=i;r=o,i=a,o=s,a=l}var u=[a-i,r-o],c=Math.sqrt(u[0]*u[0]+u[1]*u[1]),p=[u[0]/c,u[1]/c],h=parseFloat(t["stroke-width"])/2,f=[p[0]*h,p[1]*h],d=[-1*f[0],-1*f[1]],m=[r+f[0],i+f[1]],g=[r+d[0],i+d[1]],v=[o+f[0],a+f[1]],y=[o+d[0],a+d[1]],b=H(t.stroke);n([m[0],m[1],e],b),n([g[0],g[1],e],b),n([v[0],v[1],e],b),n([v[0],v[1],e],b),n([y[0],y[1],e],b),n([g[0],g[1],e],b)}(t,e,n):void 0},U=(V=function(t,e){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q={width:"100%",height:"100%",x:"0%",y:"0%",z:0,x1:"0%",x2:"0%",x3:"0%",y1:"0%",y2:"0%",y3:"0%",stroke:"rgba(0,0,0,0)",fill:"rgba(23,23,23,1)","stroke-width":"0","stroke-opacity":"0"},K={"stroke-width":0,width:0,x:0,x1:0,x2:0,x3:0,height:1,y:1,y1:1,y2:1,y3:1},Z=["width","height","x","y","z","x1","x2","x3","y1","y2","y3","stroke","fill","stroke-width","stroke-opacity","type"],Y=function(){function t(t){this.params=t,this.params_with_type={},this.completeWithDefaults(),this.markParameterTypes()}return t.hashComputedShape=function(t,e){return Z.reduce(function(e,n){return e+","+t[n]},"")+","+e},t.getCachedShape=function(e){var n=t.hashComputedShape(e);return t.cache[n]=t.cache[n]||Object.freeze(e),t.cache[n]},t.prototype.getRequiredParameters=function(){throw"Not defined for base class"},t.prototype.completeWithDefaults=function(){for(var t=this.getRequiredParameters(),e=0;e<t.length;e++){var n=t[e];this.params[n]=void 0===this.params[n]?q[n]:this.params[n]}},t.prototype.markParameterTypes=function(){for(var t=Object.keys(this.params),e=0;e<t.length;e++){var n=t[e],r=this.params[n];this.params_with_type[n]="function"==typeof r?{type:"function",value:r}:{type:"value",value:r}}},t.prototype.getComputedParams=function(e,n,r){for(var o={},i=Object.keys(this.params_with_type),a=[n,r],s=0;s<i.length;s++){var l=i[s],u=this.params_with_type[l],c=u.value;"type"!==l&&("function"===u.type&&(c=c(e)),"string"==typeof c&&"%"===c[c.length-1]&&(c="100%"===c?1:parseFloat(c)/100,c*=a[K[l]])),o[l]=c}return t.getCachedShape(o)},t.cache={},t}(),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.getRequiredParameters=function(){return["width","height","x","y","z","stroke","fill","stroke-width"]},e}(Y),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.getRequiredParameters=function(){return["x1","x2","x3","y1","y2","y3","z","stroke","fill","stroke-width"]},e}(Y),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.getRequiredParameters=function(){return["width","height","x","y","z","stroke","fill","stroke-width"]},e}(Y),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.prototype.getRequiredParameters=function(){return["x1","x2","y1","y2","z","stroke","stroke-width"]},e}(Y),tt=function(){function t(t,e,n,r,o,a,s,l,u,p){this.$container=t,this.$canvas=e,this.$overlay_canvas=n,this.$column_label_canvas=r,this.$dummy_scroll_div_contents=o,this.tooltip=s,this.highlight_area_callback=l,this.position_bit_pack_base=128,this.supersampling_ratio=2,this.antialias_on_cell_width_thresh=5,this.antialias=!0,this.scroll_x=0,this.scroll_y=0,this.maximum_label_width=0,this.rendering_suppressed=!1,this.identified_shape_list_list={},this.vertex_data={},this.vertex_column_array={},this.vertex_position_buffer={},this.vertex_color_buffer={},this.vertex_column_buffer={},this.color_texture={},this.id_to_first_vertex_index={},this.getWebGLContextAndSetUpMatrices(),this.setUpShaders(),this.getOverlayContextAndClear(),this.visible_area_width=e[0].width;var h=this;this.tooltip.center=!0,this.scroll_x=0,this.scroll_y=0,this.dummy_scroll_div_client_size=new i({width:o.parent()[0].clientWidth,height:o.parent()[0].clientHeight},function(){return{width:o.parent()[0].clientWidth,height:o.parent()[0].clientHeight}}),this.highlight_area_callback=void 0===l?function(){}:l,function(t){var e,n,r=!1,o=10,i=null;function l(t,e){return Math.abs(t-e)>=o}function h(o){if(r)if(r=!1,l(e,n)){var i=Math.min(e,n),s=Math.max(e,n);t.highlight_area_callback(i+t.scroll_x,s+t.scroll_x)}else if(o){var u=t.$overlay_canvas.offset(),c=o.pageX-u.left,h=o.pageY-u.top,f=a.getOverlappingCells(c+t.scroll_x,h+t.scroll_y);null===f?p(null):p(f.ids[0],f.track)}}function f(e,n){var r=t.$overlay_canvas.offset(),o=t.$overlay_canvas.width(),i=t.$overlay_canvas.height();return e>=r.left&&e<o+r.left&&n>=r.top&&n<i+r.top}t.mouseMoveHandler=function(e){f(e.pageX,e.pageY)||(t.clearOverlay(),t.highlightHighlightedIds(a),s.hide(),null!==i&&(i=null,u(null)))},c()(document).on("mousemove",t.mouseMoveHandler),t.$overlay_canvas.on("mousemove",function(o){if(!t.rendering_suppressed){t.clearOverlay();var c=t.$overlay_canvas.offset(),p=o.pageX-c.left,h=o.pageY-c.top,f=a.getOverlappingCells(p+t.scroll_x,h+t.scroll_y);if(r){f=null,n=p;var d=Math.min(p,e),m=Math.max(p,e),g=l(e,n)?"rgba(0,0,0,0.3)":"rgba(0,0,0,0.2)";t.overlayFillRect(d,0,m-d,a.getCellViewHeight(),g)}else{var v=null===f?null:f.ids.map(function(t){return a.getTrackDatum(f.track,t)});if(null!==v){i=f,u(f.ids[0],f.track),t.highlightColumn(a,f.ids[0],f.track);var y=t.$overlay_canvas[0].getBoundingClientRect();s.show(250,a.getZoomedColumnLeft(f.ids[0])+a.getCellWidth()/2+y.left-t.scroll_x,a.getCellTops(f.track)+y.top-t.scroll_y,a.getTrackTooltipFn(f.track)(v))}else s.hideIfNotAlreadyGoingTo(150),f=null}null===f&&(i=null,u(null)),t.highlightHighlightedIds(a,f?f.ids:[])}}),t.$overlay_canvas.on("mousedown",function(o){f(o.pageX,o.pageY)&&(r=!0,e=o.pageX-t.$overlay_canvas.offset().left,n=e,s.hide())}),t.$overlay_canvas.on("mouseup",function(t){f(t.pageX,t.pageY)&&h(t)}),t.$overlay_canvas.on("mouseleave",function(t){h()})}(this),o.parent().scroll(function(){h.clearOverlay(),h.highlightHighlightedIds(a)})}return t.prototype.getNewCanvas=function(){var t=this.$canvas[0],e=t.cloneNode(),n=t.parentNode;n.removeChild(t),n.prepend(e),this.$canvas=c()(e),this.ctx=null},t.prototype.getWebGLCanvasContext=function(){try{var t=this.$canvas[0],e=this.ctx||t.getContext("experimental-webgl",{alpha:!1,antialias:this.antialias});return e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewportWidth=t.width,e.viewportHeight=t.height,e.viewport(0,0,e.viewportWidth,e.viewportHeight),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.depthMask(!1),e}catch(t){return null}},t.prototype.createShaderProgram=function(t,e){var n=this.ctx.createProgram();if(this.ctx.attachShader(n,t),this.ctx.attachShader(n,e),this.ctx.linkProgram(n),!this.ctx.getProgramParameter(n,this.ctx.LINK_STATUS)){var r=this.ctx.getProgramInfoLog(n);throw this.ctx.deleteProgram(n),"Unable to link shader program: "+r}return n},t.prototype.createShader=function(t,e){var n=this.ctx.createShader(this.ctx[e]);if(this.ctx.shaderSource(n,t),this.ctx.compileShader(n),!this.ctx.getShaderParameter(n,this.ctx.COMPILE_STATUS)){var r=this.ctx.getShaderInfoLog(n);throw this.ctx.deleteShader(n),"Unable to compile shader: "+r}return n},t.prototype.overlayStrokeRect=function(t,e,n,r,o){var i=this.overlay_ctx;i.strokeStyle=o,i.strokeWidth=10,i.strokeRect(this.supersampling_ratio*t,this.supersampling_ratio*e,this.supersampling_ratio*n,this.supersampling_ratio*r)},t.prototype.overlayFillRect=function(t,e,n,r,o){var i=this.overlay_ctx;i.fillStyle=o,i.fillRect(this.supersampling_ratio*t,this.supersampling_ratio*e,this.supersampling_ratio*n,this.supersampling_ratio*r)},t.prototype.clearOverlay=function(){this.overlay_ctx.fillStyle="rgba(0,0,0,0)",this.overlay_ctx.clearRect(0,0,this.$overlay_canvas[0].width,this.$overlay_canvas[0].height)},t.prototype.getOverlayContextAndClear=function(){this.overlay_ctx=this.$overlay_canvas[0].getContext("2d"),this.clearOverlay()},t.prototype.getColumnLabelsContext=function(){this.column_label_ctx=this.$column_label_canvas[0].getContext("2d")},t.prototype.getColumnLabelY=function(t){return(t.getOncoprintHeight()+10-this.scroll_y)*this.supersampling_ratio},t.prototype.overlayColumnLabelHighlight=function(t,e){var n=t.getColumnLabels()[e];if(n){var r=t.getCellWidth()*this.supersampling_ratio;this.prepareContextForColumnLabelText(t,this.overlay_ctx);var o=this.overlay_ctx.measureText(n).width+20,i=this.getColumnLabelY(t),a=(t.getZoomedColumnLeft(e)-this.scroll_x)*this.supersampling_ratio;this.overlay_ctx.save(),this.overlay_ctx.translate(a,i),this.overlay_ctx.rotate(Math.PI/180*65),this.overlay_ctx.fillStyle="rgba(255,255,0,0.4)",this.overlay_ctx.fillRect(0,-r,o,r),this.overlay_ctx.restore()}},t.prototype.getWebGLContextAndSetUpMatrices=function(){this.ctx=this.getWebGLCanvasContext(),function(t){var e=P.a.mat4.create();P.a.mat4.lookAt(e,[0,0,1],[0,0,0],[0,1,0]),t.mvMatrix=e;var n=P.a.mat4.create();P.a.mat4.ortho(n,0,t.ctx.viewportWidth,t.ctx.viewportHeight,0,-5,1e3),t.pMatrix=n}(this)},t.prototype.setUpShaders=function(){var t=["precision highp float;","attribute float aPosVertex;","attribute float aColVertex;","attribute float aVertexOncoprintColumn;","uniform float columnWidth;","uniform float scrollX;","uniform float zoomX;","uniform float scrollY;","uniform float zoomY;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","uniform float offsetY;","uniform float supersamplingRatio;","uniform float positionBitPackBase;","uniform float texSize;","varying float texCoord;","vec3 unpackVec3(float packedVec3, float base) {","\tfloat pos0 = floor(packedVec3 / (base*base));","\tfloat pos0Contr = pos0*base*base;","\tfloat pos1 = floor((packedVec3 - pos0Contr)/base);","\tfloat pos1Contr = pos1*base;","\tfloat pos2 = packedVec3 - pos0Contr - pos1Contr;","\treturn vec3(pos0, pos1, pos2);","}","void main(void) {","\tgl_Position = vec4(unpackVec3(aPosVertex, positionBitPackBase), 1.0);","\tgl_Position[0] += aVertexOncoprintColumn*columnWidth;","\tgl_Position *= vec4(zoomX, zoomY, 1.0, 1.0);","\tgl_Position[1] += offsetY;","\tgl_Position -= vec4(scrollX, scrollY, 0.0, 0.0);","\tgl_Position[0] *= supersamplingRatio;","\tgl_Position[1] *= supersamplingRatio;","\tgl_Position = uPMatrix * uMVMatrix * gl_Position;","\ttexCoord = (aColVertex + 0.5) / texSize;","}"].join("\n"),e=["precision mediump float;","varying float texCoord;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(texCoord, 0.5));","}"].join("\n"),n=this.createShader(t,"VERTEX_SHADER"),r=this.createShader(e,"FRAGMENT_SHADER"),o=this.createShaderProgram(n,r);o.vertexPositionAttribute=this.ctx.getAttribLocation(o,"aPosVertex"),this.ctx.enableVertexAttribArray(o.vertexPositionAttribute),o.vertexColorAttribute=this.ctx.getAttribLocation(o,"aColVertex"),this.ctx.enableVertexAttribArray(o.vertexColorAttribute),o.vertexOncoprintColumnAttribute=this.ctx.getAttribLocation(o,"aVertexOncoprintColumn"),this.ctx.enableVertexAttribArray(o.vertexOncoprintColumnAttribute),o.samplerUniform=this.ctx.getUniformLocation(o,"uSampler"),o.pMatrixUniform=this.ctx.getUniformLocation(o,"uPMatrix"),o.mvMatrixUniform=this.ctx.getUniformLocation(o,"uMVMatrix"),o.columnWidthUniform=this.ctx.getUniformLocation(o,"columnWidth"),o.scrollXUniform=this.ctx.getUniformLocation(o,"scrollX"),o.scrollYUniform=this.ctx.getUniformLocation(o,"scrollY"),o.zoomXUniform=this.ctx.getUniformLocation(o,"zoomX"),o.zoomYUniform=this.ctx.getUniformLocation(o,"zoomY"),o.offsetYUniform=this.ctx.getUniformLocation(o,"offsetY"),o.supersamplingRatioUniform=this.ctx.getUniformLocation(o,"supersamplingRatio"),o.positionBitPackBaseUniform=this.ctx.getUniformLocation(o,"positionBitPackBase"),o.texSizeUniform=this.ctx.getUniformLocation(o,"texSize"),this.shader_program=o},t.prototype.resizeAndClear=function(t){var e=this.getVisibleAreaHeight(t),n=this.getTotalWidth(t),r=this.visible_area_width;this.$dummy_scroll_div_contents.css({"min-width":n,"min-height":t.getOncoprintHeight()}),this.$dummy_scroll_div_contents.parent().css({height:e+20,width:r+20}),this.dummy_scroll_div_client_size.update(),this.$canvas[0].height=this.supersampling_ratio*e,this.$canvas[0].style.height=e+"px",this.$overlay_canvas[0].height=this.supersampling_ratio*e,this.$overlay_canvas[0].style.height=e+"px",this.$column_label_canvas[0].height=this.supersampling_ratio*e,this.$column_label_canvas[0].style.height=e+"px",this.$canvas[0].width=this.supersampling_ratio*r,this.$canvas[0].style.width=r+"px",this.$overlay_canvas[0].width=this.supersampling_ratio*r,this.$overlay_canvas[0].style.width=r+"px",this.$column_label_canvas[0].width=this.supersampling_ratio*r,this.$column_label_canvas[0].style.width=r+"px",this.$container.css("height",e),this.$container.css("width",r),this.getWebGLContextAndSetUpMatrices(),this.setUpShaders(),this.getOverlayContextAndClear(),this.getColumnLabelsContext()},t.prototype.renderAllTracks=function(t,e){if(!this.rendering_suppressed){var n=this.scroll_x,r=this.scroll_y,o=t.getHorzZoom(),i=t.getVertZoom(),a=this.getViewportOncoprintSpace(t),s=a.left,l=a.right,u=a.top,c=a.bottom,p=t.getColumnLeft(),h=t.getIdOrder(),f=m(h,function(t){return p[t]>=s}),d=m(h,function(t){return p[t]>l},f+1),g=h[f=f<1?0:f-1],v=-1===d?null:h[d];e||this.resizeAndClear(t),this.ctx.clearColor(1,1,1,1),this.ctx.clear(this.ctx.COLOR_BUFFER_BIT|this.ctx.DEPTH_BUFFER_BIT);for(var y=t.getTracks(),b=0;b<y.length;b++){var _=y[b],x=t.getCellTops(_),w=t.getCellHeight(_);if(!(x/i>=c||(x+w)/i<u)){var S=this.getTrackBuffers(_);if(0!==S.position.numItems){var C=this.id_to_first_vertex_index[_][g],T=null===v?S.position.numItems:this.id_to_first_vertex_index[_][v];this.ctx.useProgram(this.shader_program),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,S.position),this.ctx.vertexAttribPointer(this.shader_program.vertexPositionAttribute,S.position.itemSize,this.ctx.FLOAT,!1,0,0),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,S.color),this.ctx.vertexAttribPointer(this.shader_program.vertexColorAttribute,S.color.itemSize,this.ctx.FLOAT,!1,0,0),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,S.column),this.ctx.vertexAttribPointer(this.shader_program.vertexOncoprintColumnAttribute,S.column.itemSize,this.ctx.FLOAT,!1,0,0),this.ctx.activeTexture(this.ctx.TEXTURE0),this.ctx.bindTexture(this.ctx.TEXTURE_2D,S.color_tex.texture),this.ctx.uniform1i(this.shader_program.samplerUniform,0),this.ctx.uniform1f(this.shader_program.texSizeUniform,S.color_tex.size),this.ctx.uniformMatrix4fv(this.shader_program.pMatrixUniform,!1,this.pMatrix),this.ctx.uniformMatrix4fv(this.shader_program.mvMatrixUniform,!1,this.mvMatrix),this.ctx.uniform1f(this.shader_program.columnWidthUniform,t.getCellWidth(!0)+t.getCellPadding(!0)),this.ctx.uniform1f(this.shader_program.scrollXUniform,n),this.ctx.uniform1f(this.shader_program.scrollYUniform,r),this.ctx.uniform1f(this.shader_program.zoomXUniform,o),this.ctx.uniform1f(this.shader_program.zoomYUniform,i),this.ctx.uniform1f(this.shader_program.offsetYUniform,x),this.ctx.uniform1f(this.shader_program.supersamplingRatioUniform,this.supersampling_ratio),this.ctx.uniform1f(this.shader_program.positionBitPackBaseUniform,this.position_bit_pack_base),this.ctx.drawArrays(this.ctx.TRIANGLES,C,T-C)}}}this.renderColumnLabels(t,h.slice(f,-1===d?void 0:d))}},t.getColumnLabelsFontSize=function(t){return t.getCellWidth()/2+2},t.prototype.prepareContextForColumnLabelText=function(e,n){var r=t.getColumnLabelsFontSize(e);n.font=this.supersampling_ratio*r+"px Arial",n.textAlign="left",n.textBaseline="middle"},t.prototype.renderColumnLabels=function(t,e){this.column_label_ctx.fillStyle="rgba(0,0,0,0)",this.column_label_ctx.clearRect(0,0,this.$column_label_canvas[0].width,this.$column_label_canvas[0].height),this.maximum_label_width=0;var n=t.getColumnLabels();if(0!==Object.keys(n).length){var r=this.getColumnLabelY(t),o=t.getZoomedColumnLeft(),i=this.scroll_x,a=t.getCellWidth();this.column_label_ctx.fillStyle="rgba(0,0,0,1)",this.prepareContextForColumnLabelText(t,this.column_label_ctx);for(var s=0;s<e.length;s++)if(e[s]in n){var l=(o[e[s]]+a/2-i)*this.supersampling_ratio;this.column_label_ctx.save(),this.column_label_ctx.translate(l,r),this.column_label_ctx.rotate(Math.PI/180*65),this.column_label_ctx.fillText(n[e[s]],0,0),this.maximum_label_width=Math.max(this.maximum_label_width,this.column_label_ctx.measureText(n[e[s]]).width/this.supersampling_ratio),this.column_label_ctx.restore()}}},t.prototype.clearTrackPositionAndColorBuffers=function(t,e){var n;n=void 0===e?t.getTracks():[e];for(var r=0;r<n.length;r++)this.vertex_position_buffer[n[r]]&&(this.ctx.deleteBuffer(this.vertex_position_buffer[n[r]]),delete this.vertex_position_buffer[n[r]]),this.vertex_color_buffer[n[r]]&&(this.ctx.deleteBuffer(this.vertex_color_buffer[n[r]]),delete this.vertex_color_buffer[n[r]]),this.color_texture[n[r]]&&(this.ctx.deleteTexture(this.color_texture[n[r]].texture),delete this.color_texture[n[r]])},t.prototype.clearTrackColumnBuffers=function(t,e){var n;n=void 0===e?t.getTracks():[e];for(var r=0;r<n.length;r++)this.vertex_column_buffer[n[r]]&&(this.ctx.deleteBuffer(this.vertex_column_buffer[n[r]]),delete this.vertex_column_buffer[n[r]])},t.prototype.getTrackBuffers=function(t){if(void 0===this.vertex_position_buffer[t]){var e=this.ctx.createBuffer(),n=this.vertex_data[t].pos_array;this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,e),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Float32Array(n),this.ctx.STATIC_DRAW),e.itemSize=1,e.numItems=n.length/e.itemSize,this.vertex_position_buffer[t]=e}if(void 0===this.vertex_color_buffer[t]){var r=this.ctx.createBuffer(),o=this.vertex_data[t].col_array;this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,r),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Float32Array(o),this.ctx.STATIC_DRAW),r.itemSize=1,r.numItems=o.length/r.itemSize,this.vertex_color_buffer[t]=r}if(void 0===this.color_texture[t]){var i=this.ctx.createTexture();this.ctx.bindTexture(this.ctx.TEXTURE_2D,i);for(var a=this.vertex_data[t].col_bank,s=Math.pow(2,Math.ceil(Math.log2(a.length/4)));a.length<4*s;)a.push(0);this.ctx.texImage2D(this.ctx.TEXTURE_2D,0,this.ctx.RGBA,s,1,0,this.ctx.RGBA,this.ctx.UNSIGNED_BYTE,new Uint8Array(a)),this.ctx.texParameteri(this.ctx.TEXTURE_2D,this.ctx.TEXTURE_MIN_FILTER,this.ctx.NEAREST),this.ctx.texParameteri(this.ctx.TEXTURE_2D,this.ctx.TEXTURE_MAG_FILTER,this.ctx.NEAREST),this.color_texture[t]={texture:i,size:s}}if(void 0===this.vertex_column_buffer[t]){var l=this.ctx.createBuffer(),u=this.vertex_column_array[t];this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,l),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Float32Array(u),this.ctx.STATIC_DRAW),l.itemSize=1,l.numItems=u.length/l.itemSize,this.vertex_column_buffer[t]=l}return{position:this.vertex_position_buffer[t],color:this.vertex_color_buffer[t],color_tex:this.color_texture[t],column:this.vertex_column_buffer[t]}},t.prototype.computeVertexColumns=function(t,e){if(!this.rendering_suppressed){for(var n=this.vertex_data[e].pos_array.length,r=this.id_to_first_vertex_index[e],o=t.getVisibleIdToIndexMap(),i=Object.keys(r).map(function(t){return[t,r[t]]}).sort(function(t,e){return g(t[1],e[1])}),a=[],s=0;s<i.length;s++)for(var l=(s===i.length-1?n:i[s+1][1])-i[s][1],u=o[i[s][0]],c=0;c<l;c++)a.push(u);this.vertex_column_array[e]=a,this.clearTrackColumnBuffers(t,e)}},t.prototype.computeVertexPositionsAndVertexColors=function(t,e){if(!this.rendering_suppressed){var n=this.identified_shape_list_list[e],r=t.getIdToIndexMap();n.sort(function(t,e){return g(r[t.id],r[e.id])});for(var o=[],i=[],a={},s=[],l={},u=this.position_bit_pack_base,c={},p=0;p<n.length;p++){var h=n[p].shape_list;a[n[p].id]=o.length;for(var f=function(t){var e=h[t],n=Y.hashComputedShape(e,t);if(!c.hasOwnProperty(n)){c[n]={position:[],color:[]};var r=c[n].position,a=c[n].color;G(e,t,function(t,e){var n;t=t.map(Math.round),e=e.map(function(t){return Math.round(255*t)}),r.push(u*u*(n=t)[0]+u*n[1]+n[2]);var o=e.join(","),i=l[o];void 0===i&&(i=s.length,s.push(e),l[o]=i),a.push(i)})}o.push.apply(o,c[n].position),i.push.apply(i,c[n].color)},d=0;d<h.length;d++)f(d)}var m=s.reduce(function(t,e){return t.concat(e)},[]);0===m.length&&m.push(0,0,0,0),this.vertex_data[e]={pos_array:o,col_array:i,col_bank:m},this.id_to_first_vertex_index[e]=a,this.clearTrackPositionAndColorBuffers(t,e)}},t.prototype.getShapes=function(t,e){this.rendering_suppressed||(this.identified_shape_list_list[e]=t.getIdentifiedShapeListList(e,!0,!0))},t.prototype.refreshCanvas=function(t){this.clearTrackPositionAndColorBuffers(t),this.clearTrackColumnBuffers(t),this.getNewCanvas(),this.getWebGLContextAndSetUpMatrices(),this.setUpShaders()},t.prototype.highlightColumn=function(t,e,n){if(null!==e){var r=t.getZoomedColumnLeft(e)-this.scroll_x,o=t.getCellPadding(),i=t.getCellWidth();n&&this.overlayStrokeRect(r,t.getCellTops(n)-this.scroll_y,i+(t.getTrackHasColumnSpacing(n)?0:o),t.getCellHeight(n),"rgba(0,0,0,1)");for(var a=t.getTracks(),s=0;s<a.length;s++)null!==t.getTrackDatum(a[s],e)&&this.overlayStrokeRect(r,t.getCellTops(a[s])-this.scroll_y,i+(t.getTrackHasColumnSpacing(a[s])?0:o),t.getCellHeight(a[s]),void 0===n?"rgba(0,0,0,1)":"rgba(0,0,0,0.5)");this.overlayColumnLabelHighlight(t,e)}},t.prototype.getViewportOncoprintSpace=function(t){var e=this.scroll_x,n=this.scroll_y,r=t.getHorzZoom(),o=t.getVertZoom(),i=Math.round(e/r),a=Math.round((e+this.visible_area_width)/r);return{top:Math.round(n/o),bottom:Math.round((n+t.getCellViewHeight())/o),left:i,right:a}},t.prototype.isUsable=function(){return null!==this.ctx},t.prototype.removeTrack=function(t,e){delete this.identified_shape_list_list[e],delete this.vertex_data[e],delete this.vertex_column_array[e],delete this.id_to_first_vertex_index[e],this.clearTrackPositionAndColorBuffers(t,e),this.clearTrackColumnBuffers(t,e),this.rendering_suppressed||this.renderAllTracks(t)},t.prototype.moveTrack=function(t){this.rendering_suppressed||this.renderAllTracks(t)},t.prototype.setTrackGroupOrder=function(t){this.rendering_suppressed||this.renderAllTracks(t)},t.prototype.setColumnLabels=function(t){this.rendering_suppressed||this.renderAllTracks(t)},t.prototype.addTracks=function(t,e){if(!this.rendering_suppressed){for(var n=0;n<e.length;n++)this.getShapes(t,e[n]),this.computeVertexPositionsAndVertexColors(t,e[n]),this.computeVertexColumns(t,e[n]);this.renderAllTracks(t)}},t.prototype.setIdOrder=function(t,e){if(!this.rendering_suppressed){for(var n=t.getTracks(),r=0;r<n.length;r++)this.computeVertexColumns(t,n[r]);this.renderAllTracks(t)}},t.prototype.setTrackGroupSortPriority=function(t){this.rendering_suppressed||this.renderAllTracks(t)},t.prototype.sort=function(t){if(!this.rendering_suppressed){for(var e=t.getTracks(),n=0;n<e.length;n++)this.computeVertexPositionsAndVertexColors(t,e[n]),this.computeVertexColumns(t,e[n]);this.renderAllTracks(t)}},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,this.updateAntialiasSetting(t);for(var e=t.getTracks(),n=0;n<e.length;n++)this.getShapes(t,e[n]),this.computeVertexPositionsAndVertexColors(t,e[n]),this.computeVertexColumns(t,e[n]);this.renderAllTracks(t)},t.prototype.hideIds=function(t){if(!this.rendering_suppressed){for(var e=t.getTracks(),n=0;n<e.length;n++)this.computeVertexColumns(t,e[n]);this.renderAllTracks(t)}},t.prototype.setTrackImportantIds=function(t,e){this.rendering_suppressed||(this.getShapes(t,e),this.computeVertexPositionsAndVertexColors(t,e),this.computeVertexColumns(t,e),this.renderAllTracks(t))},t.prototype.setTrackData=function(t,e){this.rendering_suppressed||(this.getShapes(t,e),this.computeVertexPositionsAndVertexColors(t,e),this.computeVertexColumns(t,e),this.renderAllTracks(t))},t.prototype.setRuleSet=function(t,e){this.rendering_suppressed||(this.getShapes(t,e),this.computeVertexPositionsAndVertexColors(t,e),this.renderAllTracks(t))},t.prototype.shareRuleSet=function(t,e){this.rendering_suppressed||(this.getShapes(t,e),this.computeVertexPositionsAndVertexColors(t,e),this.renderAllTracks(t))},t.prototype.setSortConfig=function(t){this.rendering_suppressed||this.sort(t)},t.prototype.setHorzScroll=function(t){this.setScroll(t)},t.prototype.setVertScroll=function(t){this.setScroll(t)},t.prototype.setScroll=function(t){this.scroll_x=t.getHorzScroll(),this.scroll_y=t.getVertScroll(),this.rendering_suppressed||this.renderAllTracks(t,!0)},t.prototype.updateAntialiasSetting=function(t){t.getCellWidth()<this.antialias_on_cell_width_thresh?this.antialias||(this.antialias=!0,this.refreshCanvas(t)):this.antialias&&(this.antialias=!1,this.refreshCanvas(t))},t.prototype.setZoom=function(t){this.rendering_suppressed||(this.updateAntialiasSetting(t),this.renderAllTracks(t))},t.prototype.setHorzZoom=function(t){this.rendering_suppressed||(this.updateAntialiasSetting(t),this.renderAllTracks(t))},t.prototype.setVertZoom=function(t){this.rendering_suppressed||this.renderAllTracks(t)},t.prototype.setViewport=function(t){this.scroll_x=t.getHorzScroll(),this.scroll_y=t.getVertScroll(),this.rendering_suppressed||(this.updateAntialiasSetting(t),this.renderAllTracks(t))},t.prototype.getTotalWidth=function(t,e){var n=(t.getCellWidth(e)+t.getCellPadding(e))*t.getIdOrder().length;return this.maximum_label_width>0&&(n+=this.maximum_label_width*Math.cos(65*Math.PI/180)),n},t.prototype.getVisibleAreaWidth=function(){return this.visible_area_width},t.prototype.setWidth=function(t,e){this.visible_area_width=t,this.rendering_suppressed||this.renderAllTracks(e)},t.prototype.getColumnLabelsHeight=function(){var t=0;return this.maximum_label_width>0&&(t+=30,t+=this.maximum_label_width*Math.sin(65*Math.PI/180)),t},t.prototype.getTotalHeight=function(t){return t.getOncoprintHeight()+this.getColumnLabelsHeight()},t.prototype.getVisibleAreaHeight=function(t){return t.getCellViewHeight()+this.getColumnLabelsHeight()},t.prototype.setCellPaddingOn=function(t){if(!this.rendering_suppressed){for(var e=t.getTracks(),n=0;n<e.length;n++)t.getTrackHasColumnSpacing(e[n])||(this.getShapes(t,e[n]),this.computeVertexPositionsAndVertexColors(t,e[n])),this.computeVertexColumns(t,e[n]);this.renderAllTracks(t)}},t.prototype.setHighlightedIds=function(t){this.clearOverlay(),this.highlightHighlightedIds(t)},t.prototype.highlightHighlightedIds=function(t,e){for(var n=t.getHighlightedIds(),r=0;r<n.length;r++)e&&-1!==e.indexOf(n[r])||this.highlightColumn(t,n[r])},t.prototype.getDummyScrollDivClientSize=function(){return this.dummy_scroll_div_client_size.get()},t.prototype.toSVGGroup=function(e,n,r){for(var o=L.group(n||0,r||0),i=e.getCellTops(),a=e.getTracks(),s=e.getZoomedColumnLeft(),l=0;l<a.length;l++)for(var u=a[l],c=i[u],p=e.getIdentifiedShapeListList(u,!1,!0),h=0;h<p.length;h++){var f=p[h],d=f.id,m=f.shape_list,g=s[d];if(void 0!==g)for(var v=0;v<m.length;v++)o.appendChild(L.fromShape(m[v],g,c))}var y=e.getColumnLabels(),b=e.getZoomedColumnLeft(),_=Object.keys(y),x=e.getOncoprintHeight()+10,w=t.getColumnLabelsFontSize(e),S=e.getCellWidth();for(l=0;l<_.length;l++){var C=b[d=_[l]]+S/2,T=D("text",{x:C,y:x,"font-size":w,"font-family":"Arial","font-weight":"normal","text-anchor":"start",fill:"black",transform:"rotate(65,"+C+","+x+")","alignment-baseline":"middle"});T.textContent=y[d],o.appendChild(T)}return o},t.prototype.destroy=function(){this.$overlay_canvas.off(),c()(document).off("mousemove",this.mouseMoveHandler)},t}(),et=function(){function t(e,n,r){this.$canvas=e,this.model=n,this.tooltip=r,this.supersampling_ratio=2,this.base_font_size=14,this.track_tops={},this.cell_tops={},this.cell_tops_view_space={},this.cell_tops_this_space={},this.cell_heights={},this.cell_heights_view_space={},this.cell_heights_this_space={},this.label_middles_view_space={},this.label_middles_this_space={},this.label_left_padding={},this.labels={},this.sublabels={},this.label_colors={},this.label_circle_colors={},this.label_font_weight={},this.html_labels={},this.track_link_urls={},this.track_descriptions={},this.minimum_track_height=Number.POSITIVE_INFINITY,this.maximum_label_width=Number.NEGATIVE_INFINITY,this.tracks=[],this.rendering_suppressed=!1,this.highlighted_track=null,this.scroll_y=0,this.show_sublabels=n.getShowTrackSublabels(),this.setUpContext(),function(e){e.drag_callback=function(t,e){},e.dragged_label_track_id=null,e.drag_mouse_y=null,e.$canvas.on("mousedown",function(t){e.tooltip.hide();var r=e.isMouseOnLabel(t.offsetY);null!==r&&n.getContainingTrackGroup(r).length>1&&!n.isTrackInClusteredGroup(r)&&n.getTrackMovable(r)&&e.startDragging(r,t.offsetY)}),e.$canvas.on("mousemove",function(r){if(null!==e.dragged_label_track_id){var o=n.getContainingTrackGroup(e.dragged_label_track_id),i=n.getLastExpansion(o[o.length-1]),a=e.track_tops[i]+n.getTrackHeight(i)-e.scroll_y,s=e.track_tops[o[0]]-5-e.scroll_y;e.drag_mouse_y=Math.min(r.pageY-e.$canvas.offset().top,a),e.drag_mouse_y=Math.max(e.drag_mouse_y,s),e.renderAllLabels()}else{var l=e.isMouseOnLabel(r.pageY-e.$canvas.offset().top);if(null!==l){var u=c()("<div>"),p=e.$canvas[0].getBoundingClientRect();(e.isNecessaryToShortenLabel(e.labels[l])||e.track_link_urls[l])&&u.append(t.formatTooltipHeader(e.labels[l],e.html_labels[l],e.track_link_urls[l]));var h=e.track_descriptions[l];h.length>0&&u.append(c()("<div>").text(h)),n.getTrackMovable(l)&&(n.isTrackInClusteredGroup(l)?(e.$canvas.css("cursor","not-allowed"),u.append("<b>dragging disabled for clustered tracks</b>")):n.getContainingTrackGroup(l).length>1&&(e.$canvas.css("cursor","move"),u.append("<b>hold to drag</b>"))),u.contents().length>0&&e.tooltip.fadeIn(200,e.renderedLabelWidth(e.labels[l])+p.left,e.cell_tops[l]+p.top-e.scroll_y,u)}else e.$canvas.css("cursor","auto"),e.tooltip.hide()}}),e.$canvas.on("mouseup mouseleave",function(t){if(null!==e.dragged_label_track_id){var r=n.getContainingTrackGroup(e.dragged_label_track_id),o=e.getLabelAboveMouseSpace(r,t.offsetY,e.dragged_label_track_id);e.stopDragging(o)}e.tooltip.hideIfNotAlreadyGoingTo(150)})}(this)}return t.prototype.circleRadius=function(){return.8*this.minimum_track_height/2},t.prototype.renderedLabelWidth=function(t){return this.ctx.measureText(this.shortenLabelIfNecessary(t)).width/this.supersampling_ratio},t.prototype.updateFromModel=function(t){if(!this.rendering_suppressed){this.show_sublabels=t.getShowTrackSublabels(),this.scroll_y=t.getVertScroll(),this.track_tops=t.getZoomedTrackTops(),this.cell_tops=t.getCellTops(),this.cell_tops_this_space={},this.cell_heights={},this.tracks=t.getTracks(),this.track_descriptions={},this.ctx.font="bold "+this.getFontSize()+"px Arial",this.minimum_track_height=Number.POSITIVE_INFINITY,this.maximum_label_width=0;for(var e=0;e<this.tracks.length;e++){this.minimum_track_height=Math.min(this.minimum_track_height,t.getTrackHeight(this.tracks[e]));var n=this.shortenLabelIfNecessary(this.labels[this.tracks[e]]),r=this.shortenLabelIfNecessary(this.sublabels[this.tracks[e]]),o=this.ctx.measureText(n).width+(this.show_sublabels?this.ctx.measureText(r).width:0);this.maximum_label_width=Math.max(this.maximum_label_width,o),this.cell_tops_this_space[this.tracks[e]]=this.cell_tops[this.tracks[e]]*this.supersampling_ratio-this.scroll_y*this.supersampling_ratio,this.track_descriptions[this.tracks[e]]=t.getTrackDescription(this.tracks[e]),this.cell_heights[this.tracks[e]]=t.getCellHeight(this.tracks[e]),this.cell_heights_this_space[this.tracks[e]]=this.cell_heights[this.tracks[e]]*this.supersampling_ratio,this.label_middles_this_space[this.tracks[e]]=this.cell_tops_this_space[this.tracks[e]]+this.cell_heights_this_space[this.tracks[e]]/2}}},t.prototype.setUpContext=function(){this.ctx=this.$canvas[0].getContext("2d"),this.ctx.textAlign="start",this.ctx.textBaseline="middle"},t.prototype.resizeAndClear=function(t){if(!this.rendering_suppressed){var e=t.getCellViewHeight(),n=this.getWidth();this.$canvas[0].height=this.supersampling_ratio*e,this.$canvas[0].width=this.supersampling_ratio*n,this.$canvas[0].style.height=e+"px",this.$canvas[0].style.width=n+"px",this.setUpContext()}},t.prototype.isNecessaryToShortenLabel=function(t){return t.length>this.getMaximumLabelLength()},t.prototype.shortenLabelIfNecessary=function(t){return this.isNecessaryToShortenLabel(t)?t.substring(0,this.getMaximumLabelLength()-3)+"...":t},t.formatTooltipHeader=function(t,e,n){var r;return(r=n?c()('<a target="_blank" rel="noopener noreferrer">').attr("href",n):c()("<span>")).append(e||document.createTextNode(t)),c()('<b style="display: block;">').append(r)},t.prototype.renderAllLabels=function(){if(!this.rendering_suppressed){this.ctx.clearRect(0,0,this.$canvas[0].width,this.$canvas[0].height),null!==this.highlighted_track&&this.cell_tops_this_space.hasOwnProperty(this.highlighted_track)&&(this.ctx.fillStyle="rgba(255,255,0,0.4)",this.ctx.fillRect(0,this.cell_tops_this_space[this.highlighted_track],this.getWidth()*this.supersampling_ratio,this.cell_heights_this_space[this.highlighted_track]));for(var t=this.getFontSize(),e=this.tracks,n={},r=0;r<e.length;r++){this.label_circle_colors[e[r]]&&(this.ctx.fillStyle=this.label_circle_colors[e[r]],this.ctx.beginPath(),this.ctx.arc(25*this.supersampling_ratio,this.label_middles_this_space[e[r]],this.supersampling_ratio*this.circleRadius(),0,2*Math.PI),this.ctx.fill()),this.ctx.font=(this.label_font_weight[e[r]]||"bold")+" "+t+"px Arial",this.ctx.fillStyle="black",this.label_colors&&this.label_colors[e[r]]&&(this.ctx.fillStyle=this.label_colors[e[r]]);var o=this.shortenLabelIfNecessary(this.labels[e[r]]);this.ctx.fillText(o,this.label_left_padding[e[r]]*this.supersampling_ratio,this.label_middles_this_space[e[r]]),n[e[r]]=this.ctx.measureText(o).width}if(this.show_sublabels)for(this.ctx.font=t+"px Arial",this.ctx.fillStyle="rgb(166,166,166)",r=0;r<e.length;r++)this.sublabels[e[r]]&&this.ctx.fillText(this.shortenLabelIfNecessary(this.sublabels[e[r]]),n[e[r]],this.label_middles_this_space[e[r]]);if(null!==this.dragged_label_track_id){this.ctx.font="bold "+t+"px Arial",this.ctx.fillStyle="rgba(255,0,0,0.95)",this.ctx.fillText(this.shortenLabelIfNecessary(this.labels[this.dragged_label_track_id]),0,this.supersampling_ratio*this.drag_mouse_y),this.ctx.fillStyle="rgba(0,0,0,0.15)";var i=this.model.getContainingTrackGroup(this.dragged_label_track_id),a=this.model.getLastExpansion(this.getLabelAboveMouseSpace(i,this.drag_mouse_y,null)),s=this.getLabelBelowMouseSpace(i,this.drag_mouse_y,null),l=void 0,u=void 0;if(a===this.dragged_label_track_id||s===this.dragged_label_track_id)return;null!==a&&null!==s?(l=this.cell_tops_this_space[a]+this.cell_heights_this_space[a],u=this.cell_tops_this_space[s]-l):null===a?(l=this.cell_tops_this_space[i[0]]-this.ctx.measureText("m").width,u=this.ctx.measureText("m").width):null===s&&(l=this.cell_tops_this_space[a]+this.cell_heights_this_space[a],u=this.ctx.measureText("m").width),u=Math.max(u,4),this.ctx.fillRect(this.label_left_padding[e[e.length-1]]*this.supersampling_ratio,l,this.getWidth()*this.supersampling_ratio,u)}}},t.prototype.isMouseOnLabel=function(t){var e=this.getLabelAboveMouseSpace(this.tracks,t,null);return null===e?null:t<=this.cell_tops[e]-this.scroll_y+this.cell_heights[e]?e:null},t.prototype.getLabelAboveMouseSpace=function(t,e,n){if(e<this.cell_tops[t[0]]-this.scroll_y)return null;for(var r=null,o=0;o<t.length;o++)if(null===n||n!==t[o]){if(this.cell_tops[t[o]]-this.scroll_y>e)break;r=t[o]}return r},t.prototype.getLabelBelowMouseSpace=function(t,e,n){if(e>this.cell_tops[t[t.length-1]]-this.scroll_y)return null;for(var r=null,o=t.length-1;o>=0;o--)if(null===n||n!==t[o]){if(this.cell_tops[t[o]]-this.scroll_y<e)break;r=t[o]}return r},t.prototype.startDragging=function(t,e){this.dragged_label_track_id=t,this.drag_mouse_y=e,this.renderAllLabels()},t.prototype.stopDragging=function(t){this.drag_callback(this.dragged_label_track_id,t),this.dragged_label_track_id=null,this.renderAllLabels()},t.prototype.getMaximumLabelLength=function(){return 18},t.prototype.getWidth=function(){return Math.max(this.maximum_label_width/this.supersampling_ratio+10,70)},t.prototype.getFontSize=function(t){return(t?1:this.supersampling_ratio)*Math.max(Math.min(this.base_font_size,this.minimum_track_height),7)},t.prototype.setDragCallback=function(t){this.drag_callback=t},t.prototype.removeTrack=function(t,e){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.moveTrack=function(t){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.setTrackGroupOrder=function(t){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.addTracks=function(t,e){for(var n=0;n<e.length;n++)this.labels[e[n]]=t.getTrackLabel(e[n]),this.sublabels[e[n]]=t.getTrackSublabel(e[n]),this.label_colors[e[n]]=t.getTrackLabelColor(e[n]),this.label_circle_colors[e[n]]=t.getTrackLabelCircleColor(e[n]),this.label_left_padding[e[n]]=t.getTrackLabelLeftPadding(e[n]),this.label_font_weight[e[n]]=t.getTrackLabelFontWeight(e[n]),this.html_labels[e[n]]=t.getOptionalHtmlTrackLabel(e[n]),this.track_link_urls[e[n]]=t.getTrackLinkUrl(e[n]);this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.setShowTrackSublabels=function(t){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.setScroll=function(t){this.setVertScroll(t)},t.prototype.setHorzScroll=function(t){},t.prototype.setViewport=function(t){this.setVertScroll(t)},t.prototype.setVertScroll=function(t){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.setVertZoom=function(t){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.setZoom=function(t){this.setVertZoom(t)},t.prototype.highlightTrack=function(t,e){this.highlighted_track=t,this.renderAllLabels()},t.prototype.setTrackMovable=function(t){this.renderAllLabels()},t.prototype.sort=function(t){this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,this.updateFromModel(t),this.resizeAndClear(t),this.renderAllLabels()},t.prototype.toSVGGroup=function(t,e,n,r){for(var o=L.group(n||0,r||0),i=t.getCellTops(),a=t.getTracks(),s=0;s<a.length;s++){var l=a[s],u=i[l]+t.getCellHeight(l)/2,c=t.getTrackLabel(l),p=t.getTrackLabelCircleColor(l);p&&o.appendChild(D("ellipse",{cx:25..toString(),cy:u.toString(),rx:this.circleRadius().toString(),ry:this.circleRadius().toString(),stroke:"rgba(0,0,0,0)",fill:p}));var h=L.text(e?c:this.shortenLabelIfNecessary(c),t.getTrackLabelLeftPadding(l),u,this.getFontSize(!0),"Arial",t.getTrackLabelFontWeight(l)||"bold","bottom",p?"white":"black");h.setAttribute("dy","0.35em"),o.appendChild(h)}return o},t}(),nt={viridis:[[68.08602,1.24287,84.000825,1],[68.47005,2.449275,85.533885,1],[68.83572,3.729375,87.051645,1],[69.182775,5.08521,88.553595,1],[69.51147,6.518565,90.038715,1],[69.821295,8.031735,91.507515,1],[70.11276,9.62676,92.958465,1],[70.38561,11.262585,94.39182,1],[70.63959,12.83772,95.807325,1],[70.874955,14.36262,97.203705,1],[71.091705,15.846975,98.58096,1],[71.28933,17.29818,99.938835,1],[71.468085,18.721335,101.276565,1],[71.62797,20.121285,102.593895,1],[71.76873,21.5016,103.89057,1],[71.89062,22.86483,105.165825,1],[71.993385,24.213525,106.419405,1],[72.07728,25.54998,107.6508,1],[72.14205,26.875215,108.86001,1],[72.188205,28.191015,110.04627,1],[72.215235,29.4984,111.209325,1],[72.223395,30.798135,112.34892,1],[72.212685,32.09124,113.4648,1],[72.18336,33.378225,114.556455,1],[72.13542,34.6596,115.623885,1],[72.068865,35.93613,116.666835,1],[71.98395,37.20756,117.68505,1],[71.881185,38.474655,118.678275,1],[71.76006,39.73767,119.646255,1],[71.62134,40.996605,120.589245,1],[71.465025,42.251715,121.50699,1],[71.29137,43.502745,122.399235,1],[71.10063,44.74995,123.266235,1],[70.89306,45.993585,124.107735,1],[70.66917,47.23314,124.92399,1],[70.42947,48.46887,125.715255,1],[70.173705,49.700775,126.481275,1],[69.90264,50.928855,127.222305,1],[69.61653,52.1526,127.938855,1],[69.31614,53.372265,128.63067,1],[69.001725,54.587595,129.29826,1],[68.67354,55.79859,129.942135,1],[68.33184,57.004995,130.56204,1],[67.9779,58.20681,131.158995,1],[67.611975,59.40378,131.732745,1],[67.234065,60.595905,132.28431,1],[66.84519,61.78293,132.813435,1],[66.445605,62.96511,133.32114,1],[66.036075,64.141935,133.80768,1],[65.61711,65.31315,134.273565,1],[65.189475,66.479265,134.71956,1],[64.753425,67.63977,135.145665,1],[64.30947,68.794665,135.552645,1],[63.858375,69.94395,135.941265,1],[63.400395,71.087625,136.31178,1],[62.936805,72.225435,136.664955,1],[62.46786,73.357125,137.0013,1],[61.993815,74.48346,137.32158,1],[61.515435,75.603675,137.625795,1],[61.03323,76.718025,137.91522,1],[60.547455,77.82651,138.189855,1],[60.05913,78.929385,138.45072,1],[59.568765,80.02614,138.69807,1],[59.07687,81.11703,138.93267,1],[58.583445,82.202055,139.15503,1],[58.08951,83.28147,139.36566,1],[57.595065,84.355275,139.56507,1],[57.100875,85.42347,139.753515,1],[56.607195,86.486055,139.93176,1],[56.114535,87.543285,140.100315,1],[55.62315,88.59516,140.25969,1],[55.13355,89.641425,140.409885,1],[54.64599,90.682845,140.55192,1],[54.160725,91.719165,140.68605,1],[53.678265,92.750385,140.81253,1],[53.198865,93.77676,140.932125,1],[52.72278,94.79829,141.044835,1],[52.250265,95.81523,141.150915,1],[51.781065,96.82758,141.250875,1],[51.315945,97.83585,141.34497,1],[50.85465,98.839785,141.43371,1],[50.39718,99.83964,141.517095,1],[49.9443,100.835415,141.59538,1],[49.4955,101.827365,141.669075,1],[49.051035,102.815745,141.73818,1],[48.610905,103.800555,141.802695,1],[48.175365,104.78205,141.86313,1],[47.743905,105.76023,141.919485,1],[47.31678,106.73535,141.972015,1],[46.89399,107.707665,142.02072,1],[46.47528,108.67692,142.0656,1],[46.060395,109.643625,142.10691,1],[45.649845,110.60778,142.14465,1],[45.242865,111.569385,142.179075,1],[44.839455,112.52895,142.209675,1],[44.43987,113.48622,142.23696,1],[44.043345,114.441705,142.260675,1],[43.64988,115.39515,142.281075,1],[43.25973,116.34681,142.29765,1],[42.87213,117.29694,142.31091,1],[42.487335,118.24554,142.320345,1],[42.104835,119.192865,142.325955,1],[41.724375,120.138915,142.32774,1],[41.34621,121.08369,142.3257,1],[40.969575,122.0277,142.319325,1],[40.59447,122.970435,142.308615,1],[40.220895,123.91266,142.293315,1],[39.84885,124.85412,142.27368,1],[39.477825,125.794815,142.2492,1],[39.10782,126.735,142.21962,1],[38.73909,127.674675,142.184685,1],[38.37138,128.614095,142.14465,1],[38.004945,129.553005,142.09875,1],[37.639785,130.491915,142.047495,1],[37.2759,131.430315,141.989865,1],[36.913545,132.368715,141.92586,1],[36.552465,133.307115,141.855225,1],[36.193425,134.245515,141.777705,1],[35.83668,135.18366,141.693045,1],[35.482485,136.12206,141.60099,1],[35.13135,137.06046,141.50103,1],[34.78404,137.999115,141.393165,1],[34.44183,138.937515,141.277395,1],[34.104465,139.876425,141.152955,1],[33.77322,140.81508,141.01959,1],[33.44886,141.754245,140.877045,1],[33.132915,142.69341,140.72532,1],[32.825895,143.632575,140.563395,1],[32.52984,144.571995,140.39178,1],[32.245515,145.511415,140.209455,1],[31.97547,146.45109,140.01693,1],[31.720725,147.39051,139.813185,1],[31.483065,148.330185,139.598475,1],[31.26453,149.269605,139.372035,1],[31.066905,150.209025,139.133865,1],[30.89274,151.148445,138.883455,1],[30.744075,152.08761,138.620805,1],[30.62346,153.02652,138.34515,1],[30.53319,153.965175,138.057,1],[30.47556,154.90332,137.75559,1],[30.452865,155.840955,137.44041,1],[30.468165,156.778335,137.11146,1],[30.523245,157.71495,136.768485,1],[30.620655,158.651055,136.41123,1],[30.76269,159.58614,136.03944,1],[30.9519,160.52046,135.653115,1],[31.18956,161.454015,135.25149,1],[31.47822,162.386295,134.834565,1],[31.8189,163.317555,134.40234,1],[32.21313,164.247285,133.954305,1],[32.662185,165.175995,133.490205,1],[33.167085,166.10292,133.01004,1],[33.72834,167.02857,132.513555,1],[34.34646,167.95218,132.000495,1],[35.021445,168.87426,131.470605,1],[35.75355,169.794045,130.923885,1],[36.542265,170.712045,130.359825,1],[37.38708,171.62775,129.77868,1],[38.28774,172.540905,129.180195,1],[39.24297,173.451765,128.56386,1],[40.252005,174.360075,127.92993,1],[41.31408,175.26558,127.277895,1],[42.427665,176.16828,126.60801,1],[43.59174,177.06792,125.919765,1],[44.805285,177.9645,125.213415,1],[46.066515,178.85751,124.488195,1],[47.374665,179.747205,123.744615,1],[48.72795,180.63333,122.98242,1],[50.125605,181.515885,122.201355,1],[51.565845,182.39436,121.40142,1],[53.04765,183.268755,120.582615,1],[54.57,184.13907,119.74494,1],[56.13162,185.004795,118.88763,1],[57.731235,185.86644,118.011195,1],[59.367825,186.722985,117.115635,1],[61.04037,187.57494,116.20044,1],[62.74785,188.42205,115.26612,1],[64.489245,189.263805,114.31242,1],[66.263535,190.10046,113.339085,1],[68.069955,190.931505,112.346115,1],[69.907995,191.75694,111.333255,1],[71.776635,192.576765,110.30076,1],[73.674855,193.39047,109.24863,1],[75.602145,194.198055,108.176865,1],[77.55774,194.99952,107.085465,1],[79.540875,195.79461,105.97443,1],[81.551295,196.58307,104.84376,1],[83.58798,197.3649,103.6932,1],[85.650675,198.13959,102.522495,1],[87.73887,198.907395,101.332155,1],[89.8518,199.667805,100.12218,1],[91.988955,200.42082,98.89257,1],[94.14957,201.16644,97.64307,1],[96.333645,201.904155,96.374445,1],[98.540415,202.63422,95.08593,1],[100.76937,203.356125,93.778035,1],[103.020255,204.070125,92.45076,1],[105.292815,204.775455,91.103595,1],[107.58654,205.47237,89.73705,1],[109.900665,206.160615,88.35138,1],[112.234935,206.84019,86.946585,1],[114.58884,207.51084,85.52292,1],[116.96187,208.172565,84.080385,1],[119.353515,208.824855,82.61949,1],[121.76352,209.46822,81.139725,1],[124.19163,210.101895,79.641855,1],[126.636825,210.72588,78.126135,1],[129.099105,211.34043,76.59231,1],[131.57796,211.94529,75.041145,1],[134.07288,212.540205,73.472385,1],[136.583355,213.125175,71.88654,1],[139.10862,213.699945,70.28463,1],[141.64842,214.26477,68.666655,1],[144.20199,214.81965,67.033635,1],[146.768565,215.36433,65.385825,1],[149.34789,215.898555,63.723735,1],[151.938945,216.422835,62.048895,1],[154.541475,216.936915,60.36156,1],[157.154715,217.440795,58.66326,1],[159.777645,217.934475,56.955015,1],[162.41001,218.41821,55.2381,1],[165.050535,218.892,53.514555,1],[167.69871,219.355845,51.78591,1],[170.35377,219.809745,50.054715,1],[173.014695,220.25421,48.323265,1],[175.68072,220.68924,46.594875,1],[178.350825,221.114835,44.872605,1],[181.02399,221.531505,43.160535,1],[183.699705,221.93925,41.463765,1],[186.376695,222.33858,39.787395,1],[189.05394,222.729495,38.138055,1],[191.73042,223.112505,36.52314,1],[194.405115,223.48812,34.95132,1],[197.07726,223.85634,33.432795,1],[199.745325,224.217675,31.978275,1],[202.4088,224.57289,30.601275,1],[205.06641,224.92173,29.316075,1],[207.71688,225.265215,28.138485,1],[210.3597,225.6036,27.085335,1],[212.99385,225.937395,26.17473,1],[215.618055,226.26711,25.42401,1],[218.23155,226.593255,24.85026,1],[220.833315,226.91634,24.468015,1],[223.42284,227.236875,24.28875,1],[225.999105,227.55537,24.32037,1],[228.5616,227.87208,24.565425,1],[231.109305,228.188025,25.021875,1],[233.64171,228.503205,25.682835,1],[236.15703,228.81915,26.538105,1],[238.65552,229.13535,27.573405,1],[241.13718,229.452825,28.77369,1],[243.6015,229.771575,30.12264,1],[246.04797,230.092365,31.604955,1],[248.476335,230.41545,33.204825,1],[250.88634,230.741085,34.908735,1],[253.27824,231.070035,36.70368,1]],inferno:[[.37281,.11883,3.53583,1],[.578085,.32385,4.73535,1],[.841245,.573495,6.180945,1],[1.159485,.86496,7.881795,1],[1.53153,1.19646,9.83229,1],[1.95738,1.56468,11.94318,1],[2.438055,1.966815,14.061465,1],[2.974065,2.401335,16.1823,1],[3.568725,2.862375,18.32481,1],[4.223055,3.34968,20.47191,1],[4.940115,3.858915,22.635585,1],[5.723985,4.385745,24.818385,1],[6.577215,4.929405,27.01215,1],[7.50516,5.483265,29.228355,1],[8.513175,6.04401,31.466235,1],[9.60534,6.609855,33.71916,1],[10.774515,7.175445,35.990955,1],[11.963325,7.73262,38.29182,1],[13.16922,8.28087,40.60977,1],[14.394495,8.815095,42.94557,1],[15.6417,9.33045,45.29871,1],[16.914405,9.81852,47.67531,1],[18.214395,10.27497,50.07027,1],[19.542435,10.685775,52.478745,1],[20.90031,11.04864,54.898695,1],[22.289805,11.36178,57.327315,1],[23.71245,11.623665,59.76129,1],[25.16901,11.83251,62.19552,1],[26.660505,11.98704,64.62465,1],[28.18668,12.086745,67.04256,1],[29.74728,12.13137,69.441855,1],[31.34154,12.12168,71.81412,1],[32.967675,12.059715,74.15094,1],[34.62339,11.94828,76.44288,1],[36.30639,11.79171,78.681015,1],[38.013615,11.59434,80.856675,1],[39.74175,11.362545,82.96119,1],[41.485695,11.10627,84.985635,1],[43.241625,10.834695,86.92287,1],[45.005715,10.55751,88.768305,1],[46.774395,10.283895,90.517605,1],[48.543585,10.023795,92.168985,1],[50.310735,9.792,93.721425,1],[52.073295,9.59616,95.17569,1],[53.829225,9.44265,96.533565,1],[55.576995,9.336825,97.79811,1],[57.314565,9.283275,98.972895,1],[59.04219,9.283275,100.062,1],[60.759615,9.338355,101.070015,1],[62.466585,9.449025,102.001785,1],[64.1631,9.614775,102.86139,1],[65.84967,9.835605,103.653675,1],[67.52655,10.109985,104.382975,1],[69.193485,10.43511,105.05388,1],[70.85175,10.800015,105.66996,1],[72.501855,11.202915,106.23504,1],[74.144565,11.63922,106.752435,1],[75.78039,12.10485,107.225205,1],[77.40984,12.59598,107.65641,1],[79.033425,13.108785,108.048855,1],[80.65191,13.63995,108.40458,1],[82.26555,14.18667,108.726135,1],[83.874855,14.745885,109.015305,1],[85.480335,15.3153,109.27362,1],[87.0825,15.892875,109.503375,1],[88.681605,16.47708,109.705335,1],[90.27816,17.065875,109.88103,1],[91.87242,17.657985,110.031735,1],[93.464895,18.252645,110.15847,1],[95.05584,18.848325,110.262,1],[96.645255,19.444515,110.343345,1],[98.23314,20.040705,110.403525,1],[99.820515,20.636385,110.442795,1],[101.40687,21.230535,110.461665,1],[102.99297,21.8229,110.460645,1],[104.578815,22.41348,110.43999,1],[106.164405,23.001765,110.400465,1],[107.749995,23.587755,110.34207,1],[109.33584,24.17145,110.26506,1],[110.921685,24.752595,110.169945,1],[112.507785,25.33119,110.05647,1],[114.09414,25.907235,109.9254,1],[115.681005,26.48124,109.77699,1],[117.268125,27.052695,109.61073,1],[118.8555,27.62211,109.426875,1],[120.44364,28.189485,109.22517,1],[122.03229,28.75482,109.006125,1],[123.621195,29.31837,108.76974,1],[125.21061,29.880645,108.51576,1],[126.800535,30.441645,108.24444,1],[128.390715,31.001625,107.95578,1],[129.98115,31.561095,107.64978,1],[131.571585,32.1198,107.326185,1],[133.16253,32.67825,106.984995,1],[134.75322,33.236955,106.62621,1],[136.344165,33.79617,106.250085,1],[137.9346,34.355895,105.856365,1],[139.525035,34.916895,105.445305,1],[141.11496,35.47917,105.016395,1],[142.70412,36.04323,104.56989,1],[144.29277,36.609585,104.10579,1],[145.880655,37.178235,103.624095,1],[147.46752,37.749945,103.124805,1],[149.052855,38.32497,102.608175,1],[150.63717,38.903565,102.07395,1],[152.2197,39.48624,101.521875,1],[153.800445,40.073505,100.952205,1],[155.37915,40.66587,100.365195,1],[156.955815,41.263335,99.760845,1],[158.529675,41.86692,99.139155,1],[160.100985,42.476625,98.50038,1],[161.66949,43.09296,97.84452,1],[163.234425,43.71669,97.171575,1],[164.7963,44.34807,96.481545,1],[166.354095,44.987355,95.77443,1],[167.908065,45.63531,95.05074,1],[169.4577,46.292445,94.31073,1],[171.002745,46.959015,93.554145,1],[172.54269,47.635785,92.781495,1],[174.07728,48.322755,91.993035,1],[175.606515,49.020945,91.188765,1],[177.129885,49.730355,90.36894,1],[178.64688,50.452005,89.533815,1],[180.1575,51.18564,88.683135,1],[181.66098,51.93228,87.817665,1],[183.15732,52.69218,86.937405,1],[184.646265,53.46585,86.04312,1],[186.126795,54.253545,85.134555,1],[187.599165,55.05603,84.212475,1],[189.062865,55.87356,83.27688,1],[190.517385,56.70639,82.32828,1],[191.96247,57.55503,81.366675,1],[193.39761,58.419735,80.39283,1],[194.82255,59.30127,79.406745,1],[196.23678,60.199635,78.408675,1],[197.640045,61.115085,77.39913,1],[199.031835,62.048385,76.378365,1],[200.411895,62.99928,75.346635,1],[201.779715,63.96828,74.30445,1],[203.134785,64.95564,73.25232,1],[204.477105,65.96187,72.190245,1],[205.80591,66.98646,71.11899,1],[207.120945,68.03043,70.038555,1],[208.421955,69.09327,68.94945,1],[209.70843,70.175235,67.851675,1],[210.97986,71.276835,66.74625,1],[212.236245,72.397815,65.632665,1],[213.477075,73.538175,64.51194,1],[214.702095,74.697915,63.38382,1],[215.910795,75.877545,62.248815,1],[217.10292,77.0763,61.10718,1],[218.27796,78.29469,59.958915,1],[219.435915,79.53246,58.80453,1],[220.57653,80.78961,57.644025,1],[221.699295,82.065885,56.47791,1],[222.803955,83.36103,55.30593,1],[223.890255,84.6753,54.12834,1],[224.95794,86.008185,52.94514,1],[226.00701,87.35943,51.75684,1],[227.036955,88.729035,50.56293,1],[228.047775,90.116745,49.36392,1],[229.03896,91.522305,48.1593,1],[230.010765,92.94546,46.94958,1],[230.962425,94.3857,45.73425,1],[231.89445,95.84328,44.513565,1],[232.80633,97.31718,43.287525,1],[233.69781,98.807655,42.05562,1],[234.569145,100.314195,40.81785,1],[235.419825,101.836545,39.574215,1],[236.24985,103.374195,38.32446,1],[237.05922,104.927145,37.068585,1],[237.847935,106.494885,35.806335,1],[238.615485,108.076905,34.5372,1],[239.362125,109.673205,33.26169,1],[240.087855,111.283275,31.979295,1],[240.792675,112.90686,30.69027,1],[241.476075,114.543705,29.39436,1],[242.13831,116.1933,28.09182,1],[242.779125,117.85539,26.782905,1],[243.39903,119.52972,25.46787,1],[243.99726,121.21578,24.147225,1],[244.57407,122.91357,22.822245,1],[245.129715,124.62258,21.493695,1],[245.663685,126.34281,20.163615,1],[246.176235,128.073495,18.834045,1],[246.66711,129.81489,17.508045,1],[247.136565,131.56623,16.18944,1],[247.584345,133.327515,14.883585,1],[248.01045,135.09849,13.59762,1],[248.41488,136.8789,12.33996,1],[248.797635,138.66849,11.12259,1],[249.15846,140.46675,9.95775,1],[249.49761,142.273935,8.907405,1],[249.81483,144.089535,8.009295,1],[250.11012,145.913295,7.26954,1],[250.383225,147.74496,6.69375,1],[250.634655,149.58453,6.288555,1],[250.863645,151.431495,6.06135,1],[251.070705,153.28611,6.01953,1],[251.255325,155.14761,6.17151,1],[251.41776,157.01625,6.52596,1],[251.55801,158.891775,7.09257,1],[251.67582,160.773675,7.88154,1],[251.770935,162.66195,8.90358,1],[251.84361,164.5566,10.17093,1],[251.893845,166.457115,11.623155,1],[251.92113,168.36375,13.19625,1],[251.925975,170.27574,14.873895,1],[251.90787,172.193085,16.640535,1],[251.86707,174.115785,18.484695,1],[251.80332,176.04333,20.39745,1],[251.71662,177.97572,22.371405,1],[251.60697,179.9127,24.40197,1],[251.474625,181.854015,26.485065,1],[251.31933,183.79941,28.618395,1],[251.140575,185.748885,30.800175,1],[250.939125,187.702185,33.029385,1],[250.71498,189.65829,35.305515,1],[250.46814,191.61771,37.629075,1],[250.199115,193.579425,40.000065,1],[249.90816,195.543435,42.420015,1],[249.59553,197.508975,44.889435,1],[249.261735,199.47579,47.410365,1],[248.90754,201.44337,49.98459,1],[248.53269,203.41146,52.61466,1],[248.13744,205.379295,55.303635,1],[247.72434,207.34611,58.05279,1],[247.294665,209.310375,60.86493,1],[246.850455,211.271325,63.74286,1],[246.391965,213.228705,66.69117,1],[245.92047,215.18124,69.714705,1],[245.441835,217.12638,72.81423,1],[244.95963,219.062595,75.99255,1],[244.4736,220.98912,79.2591,1],[243.99267,222.902895,82.61337,1],[243.524235,224.800095,86.056125,1],[243.069825,226.68021,89.599095,1],[242.64423,228.53763,93.234885,1],[242.25459,230.369295,96.969105,1],[241.914165,232.170615,100.798695,1],[241.63647,233.936745,104.719575,1],[241.436295,235.66284,108.725115,1],[241.32996,237.344055,112.803585,1],[241.332765,238.975545,116.94096,1],[241.460265,240.55374,121.11735,1],[241.723935,242.07609,125.31363,1],[242.133975,243.541065,129.5043,1],[242.6937,244.949685,133.671765,1],[243.404895,246.30348,137.792055,1],[244.26348,247.605765,141.850125,1],[245.26206,248.86062,145.840875,1],[246.393495,250.07289,149.73753,1],[247.64631,251.24691,153.54927,1],[249.010305,252.387015,157.2738,1],[250.475535,253.497795,160.909335,1],[252.03231,254.58282,164.45562,1]]},rt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ot(){var t=0;return function(){return t+=1}}function it(t){t=t||[];for(var e=["#3366cc","#dc3912","#ff9900","#109618","#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411"],n=0,r={},o=0;o<t.length;o++)r[t[o]]=!0;return function(t){if(!t){for(var o=e[n%e.length];r[o];){var i=pt(o);if(i===o)break;o=i}return r[o]=!0,n+=1,o}r[t]=!0}}function at(t){return[{type:"rectangle",fill:"rgba(255,255,255,1)",z:t},{type:"line",stroke:"rgba(190,190,190,1)","stroke-width":"1",x1:"0%",x2:"100%",y1:"50%",y2:"50%",z:t}]}!function(t){t.CATEGORICAL="categorical",t.GRADIENT="gradient",t.GRADIENT_AND_CATEGORICAL="gradient+categorical",t.BAR="bar",t.STACKED_BAR="stacked_bar",t.GENE="gene"}(W||(W={}));var st="na",lt="No data";function ut(t){var e,n,r,o=t.match(/^[\s]*rgba\([\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9.]+)[\s]*\)[\s]*$/);if(o&&5===o.length)return e=parseInt(o[1]).toString(16),n=parseInt(o[2]).toString(16),r=parseInt(o[3]).toString(16),1===e.length&&(e="0"+e),1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),"#"+e+n+r;var i=t.match(/^[\s]*rgb\([\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*,[\s]*([0-9]+)[\s]*\)[\s]*$/);return i&&4===i.length?(e=parseInt(i[1]).toString(16),n=parseInt(i[2]).toString(16),r=parseInt(i[3]).toString(16),1===e.length&&(e="0"+e),1===n.length&&(n="0"+n),1===r.length&&(r="0"+r),"#"+e+n+r):t}function ct(t){var e=parseInt(t,16);return e*=.95,1===(t=(e=Math.round(e)).toString(16)).length&&(t="0"+t),t}function pt(t){var e=t[1]+t[2],n=t[3]+t[4],r=t[5]+t[6];return"#"+(e=ct(e))+(n=ct(n))+ct(r)}var ht,ft=function(){function t(e){this.rule_set_id=t.getRuleSetId(),this.legend_label=e.legend_label,this.legend_base_color=e.legend_base_color,this.exclude_from_legend=e.exclude_from_legend,this.active_rule_ids={},this.rules_with_id=[]}return t.prototype.getLegendLabel=function(){return this.legend_label},t.prototype.getRuleSetId=function(){return this.rule_set_id},t.prototype.addRules=function(t){var e=this;return t.map(function(t){return e._addRule(t)})},t.prototype._addRule=function(e,n){return void 0===n&&(n=t.getRuleId()),this.rules_with_id.push({id:n,rule:new wt(e)}),n},t.prototype.removeRule=function(t){for(var e=-1,n=0;n<this.rules_with_id.length;n++)if(this.rules_with_id[n].id===t){e=n;break}e>-1&&this.rules_with_id.splice(e,1),delete this.active_rule_ids[t]},t.prototype.getRuleWithId=function(t){for(var e=null,n=0;n<this.rules_with_id.length;n++)if(this.rules_with_id[n].id===t){e=this.rules_with_id[n];break}return e},t.prototype.isExcludedFromLegend=function(){return this.exclude_from_legend},t.prototype.getRule=function(t){return this.getRuleWithId(t).rule},t.prototype.getRecentlyUsedRules=function(){var t=this;return Object.keys(this.active_rule_ids).map(function(e){return t.getRule(parseInt(e,10))})},t.prototype.applyRulesToDatum=function(t,e,n,r){for(var o=[],i=t.length,a=0;a<i;a++)o=o.concat(t[a].rule.apply(e,n,r));return o},t.prototype.getRulesWithId=function(t){throw"Not implemented on base class"},t.prototype.apply=function(t,e,n,r,o,i){for(var a=[],s=0;s<t.length;s++){var l=t[s],u=!i||!!i[l[o]],c=this.getRulesWithId(l);if(void 0!==r&&u)for(var p=0;p<c.length;p++)r[c[p].id]=!0;a.push(this.applyRulesToDatum(c,t[s],e,n))}return a},t.getRuleSetId=ot(),t.getRuleId=ot(),t}(),dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lookup_map_by_key_and_value={},e.lookup_map_by_key={},e.universal_rules=[],e.rule_id_to_conditions={},e}return rt(e,t),e.prototype.getRulesWithId=function(t){if(void 0===t)return this.rules_with_id;var e=[];for(var n in e=e.concat(this.universal_rules),t)if(void 0!==t[n]&&t.hasOwnProperty(n)){var r=this.lookup_map_by_key[n];void 0!==r&&e.push(r);var o=this.lookup_map_by_key_and_value[n]&&this.lookup_map_by_key_and_value[n][t[n]]||void 0;void 0!==o&&e.push(o)}return e},e.prototype.indexRuleForLookup=function(t,e,n){null===t?this.universal_rules.push(n):null===e?this.lookup_map_by_key[t]=n:(this.lookup_map_by_key_and_value[t]=this.lookup_map_by_key_and_value[t]||{},this.lookup_map_by_key_and_value[t][e]=n),this.rule_id_to_conditions[n.id]=this.rule_id_to_conditions[n.id]||[],this.rule_id_to_conditions[n.id].push({key:t,value:e})},e.prototype.addRule=function(t,e,n){var r=this._addRule(n);return this.indexRuleForLookup(t,e,this.getRuleWithId(r)),r},e.prototype.linkExistingRule=function(t,e,n){this.indexRuleForLookup(t,e,this.getRuleWithId(n))},e.prototype.removeRule=function(e){for(t.prototype.removeRule.call(this,e);this.rule_id_to_conditions[e].length>0;){var n=this.rule_id_to_conditions[e].pop();if(null===n.key){for(var r=-1,o=0;o<this.universal_rules.length;o++)if(this.universal_rules[o].id===e){r=o;break}r>-1&&this.universal_rules.splice(r,1)}else null===n.value?delete this.lookup_map_by_key[n.key]:delete this.lookup_map_by_key_and_value[n.key][n.value]}delete this.rule_id_to_conditions[e]},e}(ft),mt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.rule_id_to_condition={},n||r.addRule(function(t){return!0===t[st]},{shapes:at(e.na_z||1e3),legend_label:e.na_legend_label||lt,exclude_from_legend:!1,legend_config:{type:"rule",target:{na:!0}},legend_order:Number.POSITIVE_INFINITY}),r}return rt(e,t),e.prototype.getRulesWithId=function(t){if(void 0===t)return this.rules_with_id;for(var e=[],n=0;n<this.rules_with_id.length;n++)this.rule_id_to_condition[this.rules_with_id[n].id](t)&&e.push(this.rules_with_id[n]);return e},e.prototype.addRule=function(t,e,n){return n=this._addRule(e,n),this.rule_id_to_condition[n]=t,n},e.prototype.removeRule=function(e){t.prototype.removeRule.call(this,e),delete this.rule_id_to_condition[e]},e}(ft),gt=function(t){function e(e,n){var r,o=t.call(this,e)||this;n||o.addRule(st,!0,{shapes:at(e.na_z||1e3),legend_label:e.na_legend_label||lt,exclude_from_legend:!1,legend_config:{type:"rule",target:{na:!0}},legend_order:Number.POSITIVE_INFINITY}),o.category_key=e.category_key,o.category_to_color=p(f(e.category_to_color,{})),o.getUnusedColor=it((r=o.category_to_color,Object.keys(r).map(function(t){return r[t]})).map(ut));for(var i=0,a=Object.keys(o.category_to_color);i<a.length;i++){var s=a[i],l=o.category_to_color[s];o.addCategoryRule(s,l),o.getUnusedColor(l)}return o}return rt(e,t),e.prototype.addCategoryRule=function(t,e){var n={};n[this.category_key]=t;var r={shapes:[{type:"rectangle",fill:e}],legend_label:t,exclude_from_legend:!1,legend_config:{type:"rule",target:n}};this.addRule(this.category_key,t,r)},e.prototype.apply=function(e,n,r,o,i,a){for(var s=0,l=e.length;s<l;s++)if(!e[s][st]){var u=e[s][this.category_key];if(!this.category_to_color.hasOwnProperty(u)){var c=this.getUnusedColor();this.category_to_color[u]=c,this.addCategoryRule(u,c)}}return t.prototype.apply.call(this,e,n,r,o,i,a)},e}(dt);!function(t){t.ALL="ALL",t.NON_NEGATIVE="NON_NEGATIVE",t.NON_POSITIVE="NON_POSITIVE"}(ht||(ht={}));var vt=function(t){function e(e){var n=t.call(this,e)||this;return n.value_key=e.value_key,n.value_range=e.value_range,n.log_scale=e.log_scale,n.type=e.type,n.makeInterpFn=function(){var t=this.getEffectiveValueRange(),e=this.getValueRangeType(),n=this.type;if(this.log_scale){var r=Math.abs(t[0])+1,o=Math.log(t[1]+r)-Math.log(t[0]+r),i=Math.log(t[0]+r);return function(t){return t=parseFloat(t),(Math.log(t+r)-i)/o}}return function(r){var o=t[1]-t[0],i=t[0],a=t[1];return"bar"!==n?(r-i)/o:e===ht.NON_POSITIVE?(r-a)/o:e===ht.NON_NEGATIVE?(r-i)/o:e===ht.ALL?r/(o=Math.abs(t[0])>t[1]?Math.abs(t[0]):t[1]):void 0}},n}return rt(e,t),e.prototype.getEffectiveValueRange=function(){var t=this.value_range&&this.value_range.slice()||[void 0,void 0];return void 0===t[0]&&(t[0]=this.inferred_value_range[0]),void 0===t[1]&&(t[1]=this.inferred_value_range[1]),t[0]===t[1]&&(t[0]-=t[0]/2,t[1]+=t[1]/2),t},e.prototype.getValueRangeType=function(){var t=this.getEffectiveValueRange();return t[0]<0&&t[1]<=0?ht.NON_POSITIVE:t[0]>=0&&t[1]>0?ht.NON_NEGATIVE:ht.ALL},e.prototype.apply=function(e,n,r,o,i,a){for(var s=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=0,c=e.length;u<c;u++){var p=e[u];isNaN(p[this.value_key])||(s=Math.min(s,p[this.value_key]),l=Math.max(l,p[this.value_key]))}return s===Number.POSITIVE_INFINITY&&(s=0),l===Number.NEGATIVE_INFINITY&&(l=0),this.inferred_value_range=[s,l],this.updateLinearRules(),t.prototype.apply.call(this,e,n,r,o,i,a)},e.prototype.updateLinearRules=function(){throw"Not implemented in abstract class"},e}(mt),yt=function(t){function e(e){var n,r=t.call(this,e)||this;r.colors=[],e.colors?r.colors=e.colors||[]:e.colormap_name&&(r.colors=nt[e.colormap_name]||[]),0===r.colors.length&&r.colors.push([0,0,0,1],[255,0,0,1]),r.value_stop_points=e.value_stop_points,r.null_color=e.null_color||"rgba(211,211,211,1)";var o=r,i=r.value_key;return r.addRule(function(t){return!0!==t[st]&&null===t[i]},{shapes:[{type:"rectangle",fill:o.null_color}],legend_label:e.null_legend_label||"Not a number",exclude_from_legend:!1,legend_config:{type:"rule",target:(n={},n[i]=null,n)}}),r}return rt(e,t),e.linInterpColors=function(t,e,n){return[Math.round(e[0]*(1-t)+n[0]*t),Math.round(e[1]*(1-t)+n[1]*t),Math.round(e[2]*(1-t)+n[2]*t),e[3]*(1-t)+n[3]*t]},e.prototype.makeColorFn=function(t,n){var r,i=this.value_stop_points;return r=i?i.map(n):function(t){for(var e=[],n=0;n<t;n++)e.push(n);return e}(t.length).map(function(e){return e/(t.length-1)}),function(n){var i=o(r,n,function(t){return t},!0);if(-1===i)return"rgba(0,0,0,1)";var a=Math.min(t.length-1,i+1),s=r[a]-r[i];if(0===s)return"rgba("+t[a].join(",")+")";var l=(n-r[i])/s,u=t[i],c=t[a];return"rgba("+e.linInterpColors(l,u,c).join(",")+")"}},e.prototype.updateLinearRules=function(){var t;void 0!==this.gradient_rule&&(t=this.gradient_rule,this.removeRule(this.gradient_rule));var e=this.makeInterpFn(),n=this.makeColorFn(this.colors,e),r=this.value_key;this.null_color,this.gradient_rule=this.addRule(function(t){return!0!==t[st]&&null!==t[r]},{shapes:[{type:"rectangle",fill:function(t){var o=e(t[r]);return n(o)}}],exclude_from_legend:!1,legend_config:{type:"gradient",range:this.getEffectiveValueRange(),colorFn:n}},t)},e}(vt),bt=function(t){function e(e){var n=t.call(this,e)||this;return n.fill=e.fill||"rgba(0,128,0,1)",n.negative_fill=e.negative_fill||"rgba(255,0,0,1)",n}return rt(e,t),e.prototype.updateLinearRules=function(){var t;void 0!==this.bar_rule&&(t=this.bar_rule,this.removeRule(this.bar_rule));var e=this.makeInterpFn(),n=this.value_key,r=this.fill,o=this.negative_fill,i=this.getYPosPercentagesFn(),a=this.getCellHeightPercentagesFn();this.bar_rule=this.addRule(function(t){return!0!==t[st]},{shapes:[{type:"rectangle",y:function(t){var r=e(t[n]);return i(r)},height:function(t){var r=e(t[n]);return a(r)},fill:function(t){return t[n]<0?o:r}}],exclude_from_legend:!1,legend_config:{type:"number",range:this.getEffectiveValueRange(),range_type:this.getValueRangeType(),positive_color:r,negative_color:o,interpFn:e}},t)},e.prototype.getYPosPercentagesFn=function(){var t;switch(this.getValueRangeType()){case ht.NON_POSITIVE:t=function(t){return"0%"};break;case ht.NON_NEGATIVE:t=function(t){return 100*(1-t)+"%"};break;case ht.ALL:t=function(t){return 50*Math.min(1-t,1)+"%"}}return t},e.prototype.getCellHeightPercentagesFn=function(){var t;switch(this.getValueRangeType()){case ht.NON_POSITIVE:t=function(t){return 100*-t+"%"};break;case ht.NON_NEGATIVE:t=function(t){return 100*t+"%"};break;case ht.ALL:t=function(t){return 50*Math.abs(t)+"%"}}return t},e}(vt),_t=function(t){function e(e){for(var n=t.call(this,e)||this,r=e.value_key,o=e.fills||[],i=e.categories||[],a=it(o);o.length<i.length;)o.push(a());for(var s=n,l=0;l<i.length;l++)!function(t){var e={};e[r]={};for(var n=0;n<i.length;n++)e[r][i[n]]=0;e[r][i[t]]=1,s.addRule(function(t){return!0!==t[st]},{shapes:[{type:"rectangle",fill:o[t],width:"100%",height:function(e){for(var n=0,o=0;o<i.length;o++)n+=parseFloat(e[r][i[o]]);return 100*parseFloat(e[r][i[t]])/n+"%"},y:function(e){for(var n=0,o=0,a=0;a<i.length;a++){var s=parseFloat(e[r][i[a]]);a<t&&(o+=s),n+=s}return 100*o/n+"%"}}],exclude_from_legend:!1,legend_config:{type:"rule",target:e},legend_label:i[t]})}(l);return n}return rt(e,t),e}(mt),xt=function(t){function e(e){var n=t.call(this,e)||this;return function(t){var n=e.rule_params;for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];if("*"===r)t.addRule(null,null,d(n["*"],{legend_config:{type:"rule",target:{}}}));else for(var i in o)if(o.hasOwnProperty(i)){var a=i.split(","),s={};s[a[0]]=i;for(var l=t.addRule(r,"*"===a[0]?null:a[0],d(o[i],{legend_config:{type:"rule",target:s},legend_base_color:void 0===t.legend_base_color?"":t.legend_base_color})),u=1;u<a.length;u++)t.linkExistingRule(r,"*"===a[u]?null:a[u],l)}}}(n),n.addRule(st,!0,{shapes:at(e.na_z||1),legend_label:e.na_legend_label||lt,exclude_from_legend:!1,legend_config:{type:"rule",target:{na:!0}},legend_order:Number.POSITIVE_INFINITY}),n}return rt(e,t),e}(dt),wt=function(){function t(t){this.shapes=t.shapes.map(function(t){return"rectangle"===t.type?new X(t):"triangle"===t.type?new $(t):"ellipse"===t.type?new J(t):"line"===t.type?new Q(t):void 0}),this.legend_label=void 0===t.legend_label?"":t.legend_label,this.legend_base_color=t.legend_base_color,this.exclude_from_legend=t.exclude_from_legend,this.legend_config=t.legend_config,this.legend_order=t.legend_order}return t.prototype.getLegendConfig=function(){return this.legend_config},t.prototype.apply=function(t,e,n){for(var r=[],o=0,i=this.shapes.length;o<i;o++)r.push(this.shapes[o].getComputedParams(t,e,n));return r},t.prototype.isExcludedFromLegend=function(){return this.exclude_from_legend},t}(),St=function(t){function e(e){var n=t.call(this,e)||this;return n.gradientRuleSet=new yt(e),n.categoricalRuleSet=new gt(e,!0),n}return rt(e,t),e.prototype.apply=function(t,e,n,r,o,i){for(var a=[],s=0;s<t.length;s++){var l=t[s];this.isCategorical(l)?a.push(this.categoricalRuleSet.apply([l],e,n,r,o,i)[0]):a.push(this.gradientRuleSet.apply([l],e,n,r,o,i)[0])}return a},e.prototype.getRulesWithId=function(t){var e=this.categoricalRuleSet.getRulesWithId(t),n=this.gradientRuleSet.getRulesWithId(t);return e.concat(n)},e.prototype.isCategorical=function(t){return void 0!==t[this.categoricalRuleSet.category_key]},e}(ft),Ct=function(t){var e;switch(t.type){case W.CATEGORICAL:e=new gt(t);break;case W.GRADIENT:e=new yt(t);break;case W.GRADIENT_AND_CATEGORICAL:e=new St(t);break;case W.BAR:e=new bt(t);break;case W.STACKED_BAR:e=new _t(t);break;case W.GENE:default:e=new xt(t)}return e},Tt=r(8),kt=r.n(Tt),Ot=function(){function t(t,e,n,r,o,i){this.$div=t,this.moveUpCallback=e,this.moveDownCallback=n,this.removeCallback=r,this.sortChangeCallback=o,this.unexpandCallback=i,this.rendering_suppressed=!1,this.track_options_$elts={},this.menu_shown={},this.interaction_disabled=!1;var a=t.css("position");"absolute"!==a&&"relative"!==a&&console.log("WARNING: div passed to OncoprintTrackOptionsView must be absolute or relative positioned - layout problems will occur"),this.$ctr=c()("<div></div>").css({position:"absolute","overflow-y":"hidden","overflow-x":"hidden"}).appendTo(this.$div),this.$buttons_ctr=c()("<div></div>").css({position:"absolute"}).appendTo(this.$ctr),this.$dropdown_ctr=c()("<div></div>").css({position:"absolute"}).appendTo(this.$div);var s=this;this.clickHandler=function(){c()(s).trigger("oncoprint-track-options-view.click-out")},c()(document).on("click",this.clickHandler)}return t.prototype.renderAllOptions=function(t){if(!this.rendering_suppressed){var e=this;c()(this).off("oncoprint-track-options-view.click-out"),c()(this).on("oncoprint-track-options-view.click-out",function(){for(var t in e.track_options_$elts)e.track_options_$elts.hasOwnProperty(t)&&e.hideTrackMenu(parseInt(t,10))}),this.$buttons_ctr.empty(),this.$dropdown_ctr.empty(),this.scroll(t.getVertScroll());for(var n=t.getTracks(),r=Number.POSITIVE_INFINITY,o=0;o<n.length;o++)r=Math.min(r,t.getTrackHeight(n[o]));for(this.img_size=Math.floor(.75*r),o=0;o<n.length;o++)this.renderTrackOptions(t,n[o],o)}},t.prototype.scroll=function(t){this.rendering_suppressed||(this.$buttons_ctr.css({top:-t}),this.$dropdown_ctr.css({top:-t}))},t.prototype.resize=function(t){this.rendering_suppressed||(this.$div.css({width:this.getWidth(),height:t.getCellViewHeight()}),this.$ctr.css({width:this.getWidth(),height:t.getCellViewHeight()}))},t.prototype.hideTrackMenu=function(t){this.menu_shown[t]=!1;var e=this.track_options_$elts[t];e.$dropdown.css({"z-index":1}),e.$dropdown.css({border:"1px solid rgba(125,125,125,0)"}),e.$img.css({border:"1px solid rgba(125,125,125,0)"}),e.$dropdown.fadeOut(100)},t.prototype.showTrackMenu=function(t){this.menu_shown[t]=!0;var e=this.track_options_$elts[t];e.$dropdown.css({"z-index":10}),e.$dropdown.css({border:"1px solid rgba(125,125,125,1)"}),e.$img.css({border:"1px solid rgba(125,125,125,1)"}),e.$dropdown.fadeIn(100)},t.prototype.hideMenusExcept=function(t){for(var e in this.track_options_$elts)if(this.track_options_$elts.hasOwnProperty(e)){var n=parseInt(e,10);if(n===t)continue;this.hideTrackMenu(n)}},t.$makeDropdownOption=function(t,e,n,r){var o=c()("<li>").text(t).css({"font-weight":e,"font-size":12,"border-bottom":"1px solid rgba(0,0,0,0.3)"});return n?(o.addClass("disabled"),o.css({color:"rgb(200, 200, 200)",cursor:"default"})):r?(o.addClass("clickable"),o.css({cursor:"pointer"}),o.click(r).hover(function(){c()(this).css({"background-color":"rgb(200,200,200)"})},function(){c()(this).css({"background-color":"rgba(255,255,255,0)"})})):o.click(function(t){t.stopPropagation()}),o},t.$makeDropdownSeparator=function(){return c()("<li>").css({"border-top":"1px solid black"}).addClass("oncoprintjs__track_options__separator")},t.renderSortArrow=function(t,e,n){var r="";e.isTrackSortDirectionChangeable(n)&&(r={1:'<i class="fa fa-signal" aria-hidden="true" title="Sorted ascending"></i>',"-1":'<i class="fa fa-signal" style="transform: scaleX(-1);" aria-hidden="true" title="Sorted descending"></i>',0:""}[e.getTrackSortDirection(n)]),t.html(r)},t.prototype.renderTrackOptions=function(e,n,r){var o,i,a,s,l=e.getZoomedTrackTops(n);o=c()("<div>").appendTo(this.$buttons_ctr).css({position:"absolute",left:"0px",top:l+"px","white-space":"nowrap"}),i=c()("<img/>").appendTo(o).attr({src:kt.a,width:this.img_size,height:this.img_size}).css({float:"left",cursor:"pointer",border:"1px solid rgba(125,125,125,0)"}).addClass("oncoprintjs__track_options__toggle_btn_img").addClass("nth-"+(r+1)),a=c()("<span>").appendTo(o).css({position:"absolute",top:Math.floor(this.img_size/4)+"px"}),s=c()("<ul>").appendTo(this.$dropdown_ctr).css({position:"absolute",width:120,display:"none","list-style-type":"none","padding-left":"6","padding-right":"6",float:"right","background-color":"rgb(255,255,255)",left:"0px",top:l+this.img_size+"px"}).addClass("oncoprintjs__track_options__dropdown").addClass("nth-"+(r+1)),this.track_options_$elts[n]={$div:o,$img:i,$dropdown:s},t.renderSortArrow(a,e,n);var u=this;i.hover(function(t){u.menu_shown[n]||c()(this).css({border:"1px solid rgba(125,125,125,0.3)"})},function(t){u.menu_shown[n]||c()(this).css({border:"1px solid rgba(125,125,125,0)"})}),i.click(function(t){t.stopPropagation(),s.is(":visible")?(i.addClass("oncoprintjs__track_options__open"),u.hideTrackMenu(n)):(i.removeClass("oncoprintjs__track_options__open"),u.showTrackMenu(n)),u.hideMenusExcept(n)});var p,h,f,d=e.getTrackMovable(n)&&e.isTrackInClusteredGroup(n);e.getTrackMovable(n)&&(s.append(t.$makeDropdownOption("Move up","normal",d,function(t){t.stopPropagation(),u.moveUpCallback(n)})),s.append(t.$makeDropdownOption("Move down","normal",d,function(t){t.stopPropagation(),u.moveDownCallback(n)}))),e.isTrackRemovable(n)&&s.append(t.$makeDropdownOption("Remove track","normal",!1,function(t){t.stopPropagation(),u.removeCallback(n)})),e.isTrackSortDirectionChangeable(n)&&(s.append(t.$makeDropdownSeparator()),p=t.$makeDropdownOption("Sort a-Z",1===e.getTrackSortDirection(n)?"bold":"normal",d,function(r){r.stopPropagation(),p.css("font-weight","bold"),h.css("font-weight","normal"),f.css("font-weight","normal"),u.sortChangeCallback(n,1),t.renderSortArrow(a,e,n)}),h=t.$makeDropdownOption("Sort Z-a",-1===e.getTrackSortDirection(n)?"bold":"normal",d,function(r){r.stopPropagation(),p.css("font-weight","normal"),h.css("font-weight","bold"),f.css("font-weight","normal"),u.sortChangeCallback(n,-1),t.renderSortArrow(a,e,n)}),f=t.$makeDropdownOption("Don't sort track",0===e.getTrackSortDirection(n)?"bold":"normal",d,function(r){r.stopPropagation(),p.css("font-weight","normal"),h.css("font-weight","normal"),f.css("font-weight","bold"),u.sortChangeCallback(n,0),t.renderSortArrow(a,e,n)}),s.append(p),s.append(h),s.append(f)),e.isTrackExpandable(n)&&s.append(t.$makeDropdownOption(e.getExpandButtonText(n),"normal",!1,function(t){t.stopPropagation(),u.renderAllOptions(e),e.expandTrack(n)})),e.isTrackExpanded(n)&&s.append(t.$makeDropdownOption("Remove expansion","normal",!1,function(t){t.stopPropagation(),u.unexpandCallback(n)}));var m=e.getTrackCustomOptions(n);if(m&&m.length>0)for(var g=0;g<m.length;g++)!function(){var e=m[g];e.separator?s.append(t.$makeDropdownSeparator()):s.append(t.$makeDropdownOption(e.label||"",e.weight||"normal",!!e.disabled,e.onClick&&function(t){t.stopPropagation(),e.onClick(n)}))}();s.is(":empty")&&(o.remove(),s.remove())},t.prototype.enableInteraction=function(){this.interaction_disabled=!1},t.prototype.disableInteraction=function(){this.interaction_disabled=!0},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,this.renderAllOptions(t),this.resize(t),this.scroll(t.getVertScroll())},t.prototype.setScroll=function(t){this.setVertScroll(t)},t.prototype.setHorzScroll=function(t){},t.prototype.setVertScroll=function(t){this.scroll(t.getVertScroll())},t.prototype.setZoom=function(t){this.setVertZoom(t)},t.prototype.setVertZoom=function(t){this.renderAllOptions(t),this.resize(t)},t.prototype.setViewport=function(t){this.renderAllOptions(t),this.resize(t),this.scroll(t.getVertScroll())},t.prototype.getWidth=function(){return this.$buttons_ctr.is(":empty")?0:18+this.img_size},t.prototype.addTracks=function(t){this.renderAllOptions(t),this.resize(t)},t.prototype.moveTrack=function(t){this.renderAllOptions(t),this.resize(t)},t.prototype.setTrackGroupOrder=function(t){this.renderAllOptions(t)},t.prototype.setSortConfig=function(t){this.renderAllOptions(t)},t.prototype.removeTrack=function(t,e){delete this.track_options_$elts[e],this.renderAllOptions(t),this.resize(t)},t.prototype.destroy=function(){c()(document).off("click",this.clickHandler)},t.prototype.setTrackCustomOptions=function(t){this.renderAllOptions(t)},t.prototype.setTrackMovable=function(t){this.renderAllOptions(t)},t}(),Et=function(){function t(t,e,n){this.$div=t,this.base_width=e,this.base_height=n,this.rendering_suppressed=!1,this.rule_set_label_config={weight:"bold",size:12,font:"Arial"},this.rule_label_config={weight:"normal",size:12,font:"Arial"},this.padding_after_rule_set_label=10,this.padding_between_rules=20,this.padding_between_rule_set_rows=10,this.$svg=c()(L.svg(200,200)).appendTo(this.$div),this.width=t.width()}return t.prototype.renderLegend=function(t,e,n){if(!this.rendering_suppressed&&(void 0===e&&(e=this.$svg[0]),function(t){for(var e=!0;t&&"html"!==t.tagName.toLowerCase();){if("none"===c()(t).css("display")){e=!1;break}t=t.parentNode}return e}(e))){c()(e).empty();var r=L.defs();e.appendChild(r);var o=L.group(0,0);e.appendChild(o);for(var i=t.getRuleSets(),a=0,s=function(s){if(i[s].exclude_from_legend&&!n)return"continue";var u=t.getActiveRules(i[s].rule_set_id);if(0===u.length)return"continue";var c=L.group(0,a);o.appendChild(c),function(){if(void 0!==i[s].legend_label&&i[s].legend_label.length>0){var t=L.text(i[s].legend_label,0,0,12,"Arial","bold");c.appendChild(t),L.wrapText(t,200)}}();var p=200+l.padding_after_rule_set_label,h=0,f=function(t,e){var n=t.rule.legend_label,r=e.rule.legend_label;return n&&r?n.localeCompare(r):n||r?n?r?void 0:1:-1:0};u.sort(function(t,e){var n=t.rule.legend_order,r=e.rule.legend_order;return void 0===n&&void 0===r?f(t,e):void 0!==n&&void 0!==r?n<r?-1:n>r?1:f(t,e):void 0===n?r===Number.POSITIVE_INFINITY?-1:1:void 0===r?n===Number.POSITIVE_INFINITY?1:-1:void 0});for(var d=0;d<u.length;d++){var m=u[d].rule;if(!m.exclude_from_legend){var g=l.ruleToSVGGroup(m,t,e,r);g.setAttribute("transform","translate("+p+","+h+")"),c.appendChild(g),p+g.getBBox().width>l.width&&(p=200+l.padding_after_rule_set_label,h=c.getBBox().height+l.padding_between_rule_set_rows,g.setAttribute("transform","translate("+p+","+h+")")),p+=g.getBBox().width,p+=l.padding_between_rules}}a+=c.getBBox().height,a+=3*l.padding_between_rule_set_rows},l=this,u=0;u<i.length;u++)s(u);var p=o.getBBox();this.$svg[0].setAttribute("width",p.width.toString()),this.$svg[0].setAttribute("height",(p.height+10).toString())}},t.prototype.ruleToSVGGroup=function(t,e,n,r){var o=L.group(0,0),i=t.getLegendConfig();if("rule"===i.type){var a=t.apply(i.target,e.getCellWidth(!0),this.base_height);if(t.legend_base_color){var s=L.rect(0,0,e.getCellWidth(!0),this.base_height,t.legend_base_color);o.appendChild(s)}for(var l=0;l<a.length;l++)o.appendChild(L.fromShape(a[l],0,0));if(void 0!==t.legend_label){var u=L.text(t.legend_label,e.getCellWidth(!0)+5,this.base_height/2,12,"Arial","normal");n.appendChild(u);var c=u.getBBox().height;u.setAttribute("y",(parseFloat(u.getAttribute("y"))-c/2).toString()),n.removeChild(u),o.appendChild(u)}}else if("number"===i.type){var p=i.range.map(function(t){var e=Math.pow(10,2);return Math.round(t*e)/e});o.appendChild(L.text(p[0].toString(),0,0,12,"Arial","normal")),o.appendChild(L.text(p[1].toString(),50,0,12,"Arial","normal"));var h=[],f=null,d=null;if("NON_POSITIVE"===i.range_type)f=i.negative_color;else if("NON_NEGATIVE"===i.range_type)f=i.positive_color;else if("ALL"===i.range_type){d=L.linearGradient();var m=Math.abs(p[0])/(Math.abs(p[0])+p[1])*100;d.appendChild(L.stop(m,i.negative_color)),d.appendChild(L.stop(m,i.positive_color)),r.appendChild(d)}for(h.push([5,20]),l=0;l<100;l++){var g=l/100;c=20*i.interpFn((1-g)*i.range[0]+g*i.range[1]),h.push([5+40*l/100,20-c])}h.push([45,20]),o.appendChild(L.path(h,f,f,d))}else if("gradient"===i.type){p=i.range.map(function(t){var e=Math.pow(10,2);return Math.round(t*e)/e});var v=L.gradient(i.colorFn),y=v.getAttribute("id");r.appendChild(v),o.appendChild(L.text(p[0].toString(),0,0,12,"Arial","normal")),o.appendChild(L.text(p[1].toString(),120,0,12,"Arial","normal")),o.appendChild(L.rect(30,0,60,20,"url(#"+y+")"))}return o},t.prototype.setWidth=function(t,e){this.width=t,this.renderLegend(e)},t.prototype.removeTrack=function(t){this.renderLegend(t)},t.prototype.addTracks=function(t){this.renderLegend(t)},t.prototype.setTrackData=function(t){this.renderLegend(t)},t.prototype.setTrackImportantIds=function(t){this.renderLegend(t)},t.prototype.shareRuleSet=function(t){this.renderLegend(t)},t.prototype.setRuleSet=function(t){this.renderLegend(t)},t.prototype.setTrackGroupLegendOrder=function(t){this.renderLegend(t)},t.prototype.hideTrackLegends=function(t){this.renderLegend(t)},t.prototype.showTrackLegends=function(t){this.renderLegend(t)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,this.renderLegend(t)},t.prototype.toSVGGroup=function(t,e,n){var r=L.group(e||0,n||0);return this.$svg.append(r),this.renderLegend(t,r,!0),r.parentNode.removeChild(r),r},t}(),Mt="oncoprintjs__tooltip",It=function(){function t(t,e){this.$container=t,e=e||{},this.$div=c()("<div></div>").addClass(Mt).appendTo(t).css({"background-color":"rgba(255,255,255,1)",position:"absolute",display:"none",border:"1px solid black","max-width":300,"min-width":150}),e.noselect&&this.$div.addClass("noselect"),this.hide_timeout_id=void 0,this.show_timeout_id=void 0,this.center=!1,this.shown=!1;var n=this;this.$div.on("mousemove",function(t){t.stopPropagation(),n.cancelScheduledHide()}),this.$div.on("mouseleave",function(t){t.stopPropagation(),n.hide()})}return t.prototype.show=function(t,e,n,r,o){if(this.cancelScheduledHide(),void 0===t||this.shown)this.doShow(e,n,r,o);else{var i=this;this.cancelScheduledShow(),this.show_timeout_id=setTimeout(function(){i.doShow(e,n,r,o)},t)}},t.prototype.doShow=function(t,e,n,r){this.cancelScheduledShow(),this.show_timeout_id=void 0,this.$div.empty(),this.$div.css({top:0,left:0,"z-index":9999}),this.$div.append(n),r?this.$div.stop().fadeIn("fast"):this.$div.show();var o=t-(this.center?this.$div.width()/2:0),i=e-this.$div.height();i=Math.max(i,20),i=Math.min(i,c()(window).height()-this.$div.height()),o=Math.max(o,20),o=Math.min(o,c()(window).width()-this.$div.width()-20),this.$div.css({top:i,left:o,"z-index":9999}),this.shown=!0},t.prototype.doHide=function(t){this.cancelScheduledHide(),this.hide_timeout_id=void 0,t?this.$div.fadeOut():this.$div.hide(),this.shown=!1},t.prototype.cancelScheduledShow=function(){clearTimeout(this.show_timeout_id),this.show_timeout_id=void 0},t.prototype.cancelScheduledHide=function(){clearTimeout(this.hide_timeout_id),this.hide_timeout_id=void 0},t.prototype.showIfNotAlreadyGoingTo=function(t,e,n,r){void 0===this.show_timeout_id&&this.show(t,e,n,r)},t.prototype.hideIfNotAlreadyGoingTo=function(t){void 0===this.hide_timeout_id&&this.hide(t)},t.prototype.hide=function(t){if(this.cancelScheduledShow(),this.shown)if(void 0!==t){var e=this;this.cancelScheduledHide(),this.hide_timeout_id=setTimeout(function(){e.doHide()},t)}else this.doHide()},t.prototype.fadeIn=function(t,e,n,r){this.show(t,e,n,r,!0)},t}(),At=function(){function t(t,e){this.$div=t,this.tooltip=e,this.base_font_size=12,this.font_family="Arial",this.font_weight="bold",this.width=0,this.$label_elts=[],this.rendering_suppressed=!1,this.tooltip.center=!1,this.$ctr=c()("<div></div>").css({position:"absolute","overflow-y":"hidden","overflow-x":"hidden"}).appendTo(this.$div),this.$text_ctr=c()("<div></div>").css({position:"absolute"}).appendTo(this.$ctr)}return t.prototype.destroyLabelElts=function(){for(var t=0;t<this.$label_elts.length;t++)this.$label_elts[t].off("mousemove mouseleave");this.$label_elts=[]},t.prototype.renderAllInfo=function(t){if(!this.rendering_suppressed){this.$text_ctr.empty(),this.destroyLabelElts();var e=t.getTracks();this.minimum_track_height=Number.POSITIVE_INFINITY;for(var n=0;n<e.length;n++)this.minimum_track_height=Math.min(this.minimum_track_height,t.getTrackHeight(e[n]));this.width=0;var r=t.getLabelTops();this.scroll(t.getVertScroll());for(var o=this.getFontSize(),i=this,a=function(n){!function(){var a=n,s=c()("<span>").css({position:"absolute","font-family":i.font_family,"font-weight":i.font_weight,"font-size":o}).addClass("noselect"),l=t.getTrackInfo(e[a]);if(l){s.text(l),s.appendTo(i.$text_ctr),i.$label_elts.push(s),setTimeout(function(){s.on("mousemove",function(){var n=t.$getTrackInfoTooltip(e[a]);if(n){var r=s[0].getBoundingClientRect();i.tooltip.fadeIn(200,r.left,r.top,n)}}).on("mouseleave",function(){i.tooltip.hideIfNotAlreadyGoingTo(150)})},0);var u=r[e[a]]+(t.getCellHeight(e[a])-s.outerHeight())/2;s.css({top:u+"px"}),i.width=Math.max(32,i.width,s[0].clientWidth)}}()},s=0;s<e.length;s++)a(s);this.width>0&&(this.width+=10)}},t.prototype.scroll=function(t){this.rendering_suppressed||this.$text_ctr.css({top:-t})},t.prototype.resize=function(t){this.rendering_suppressed||(this.$div.css({width:this.getWidth(),height:t.getCellViewHeight()}),this.$ctr.css({width:this.getWidth(),height:t.getCellViewHeight()}))},t.prototype.getFontSize=function(){return Math.max(Math.min(this.base_font_size,this.minimum_track_height),7)},t.prototype.getWidth=function(){return this.width},t.prototype.addTracks=function(t){this.renderAllInfo(t),this.resize(t)},t.prototype.moveTrack=function(t){this.renderAllInfo(t),this.resize(t)},t.prototype.setTrackGroupOrder=function(t){this.renderAllInfo(t),this.resize(t)},t.prototype.removeTrack=function(t){this.renderAllInfo(t),this.resize(t)},t.prototype.setTrackInfo=function(t){this.renderAllInfo(t),this.resize(t)},t.prototype.setScroll=function(t){this.setVertScroll(t)},t.prototype.setHorzScroll=function(t){},t.prototype.setVertScroll=function(t){this.scroll(t.getVertScroll())},t.prototype.setZoom=function(t){this.setVertZoom(t)},t.prototype.setViewport=function(t){this.renderAllInfo(t),this.resize(t),this.scroll(t.getVertScroll())},t.prototype.setVertZoom=function(t){this.renderAllInfo(t),this.resize(t)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t){this.rendering_suppressed=!1,this.renderAllInfo(t),this.resize(t),this.scroll(t.getVertScroll())},t.prototype.destroy=function(){this.destroyLabelElts()},t.prototype.toSVGGroup=function(t,e,n){for(var r=L.group(e||0,n||0),o=t.getCellTops(),i=t.getTracks(),a=this.getFontSize(),s=0;s<i.length;s++){var l=i[s],u=o[l]+t.getCellHeight(l)/2,c=t.getTrackInfo(l),p=L.text(c,0,u,a,this.font_family,this.font_weight,"bottom");p.setAttribute("dy","0.35em"),r.appendChild(p)}return r},t}(),Pt="v",Dt=function(){function t(t,e){this.$div=c()("<div>").css({position:"absolute",top:e.top||0,left:e.left||0}).appendTo(t),(e=e||{}).btn_size=e.btn_size||13,this.onChange=e.onChange||function(){},this.initialize(e),this.value=void 0===e.init_val?.5:e.init_val,this.slider_bar_size=(this.orientation===Pt?e.height:e.width)-2*e.btn_size,this.updateSliderPos()}return t.prototype.initialize=function(t){var e=this.$div,n=Math.round(.7*t.btn_size),r=Math.round((t.btn_size-n)/2),o=c()("<div>").css({position:"absolute","background-color":"#ffffff",outline:"solid 1px black"}).appendTo(e),i=c()("<div>").css({position:"absolute","background-color":"#ffffff",border:"solid 1px black","border-radius":"3px",cursor:"pointer"}).appendTo(e),a=c()("<div>").css({position:"absolute","min-height":t.btn_size,"min-width":t.btn_size,"background-color":"#ffffff",border:"solid 1px black","border-radius":"3px",cursor:"pointer"}).appendTo(e);c()("<span>").addClass("icon fa fa-plus").css({position:"absolute",top:r,left:r,"min-width":n,"min-height":n}).appendTo(a);var s=c()("<div>").css({position:"absolute","min-height":t.btn_size,"min-width":t.btn_size,"background-color":"#ffffff",border:"solid 1px black","border-radius":"3px",cursor:"pointer"}).appendTo(e);c()("<span>").addClass("icon fa fa-minus").css({position:"absolute",top:r,left:r,"min-width":n,"min-height":n}).appendTo(s),t.vertical?(o.css({"min-height":t.height-2*t.btn_size,"min-width":Math.round(t.btn_size/5)}),i.css({"min-height":Math.round(t.btn_size/2),"min-width":t.btn_size}),a.css({top:0,left:0}),s.css({top:t.height-t.btn_size,left:0}),o.css({top:t.btn_size,left:.4*t.btn_size}),i.css({left:0}),this.orientation=Pt):(o.css({"min-height":Math.round(t.btn_size/5),"min-width":t.width-2*t.btn_size}),i.css({"min-height":t.btn_size,"min-width":Math.round(t.btn_size/2)}),a.css({top:0,left:t.width-t.btn_size}),s.css({top:0,left:0}),o.css({top:.4*t.btn_size,left:t.btn_size}),i.css({top:0}),this.orientation="h");var l=this;a.click(function(){l.value/=.7,t.onChange(l.value)}),s.click(function(){l.value*=.7,t.onChange(l.value)}),[i,a,s].map(function(t){t.hover(function(){c()(this).css({"background-color":"#cccccc"})},function(){c()(this).css({"background-color":"#ffffff"})})}),this.$slider=i,this.$plus_btn=a,this.$minus_btn=s,function(){var t,e,n;function r(n){n.stopPropagation(),n.preventDefault();var r=(l.orientation===Pt?t-n.pageY:n.pageX-t)/l.slider_bar_size;l.setSliderValue(e+r)}l.$slider.on("mousedown",function(o){t=l.orientation===Pt?o.pageY:o.pageX,e=l.value,n=!0,c()(document).on("mousemove",r)}),c()(document).on("mouseup click",function(){c()(document).off("mousemove",r),n&&e!==l.value&&l.onChange(l.value),n=!1})}()},t.prototype.updateSliderPos=function(){var t=this.value,e=this.$slider,n=this.getSliderBounds();this.orientation===Pt?e.css("top",n.bottom*(1-t)+n.top*t):"h"===this.orientation&&e.css("left",n.left*(1-t)+n.right*t)},t.prototype.getSliderBounds=function(){return this.orientation===Pt?{bottom:parseInt(this.$minus_btn.css("top"),10)-parseInt(this.$slider.css("min-height"),10),top:parseInt(this.$plus_btn.css("top"),10)+parseInt(this.$plus_btn.css("min-height"),10)}:{left:parseInt(this.$minus_btn.css("left"),10)+parseInt(this.$minus_btn.css("min-width"),10),right:parseInt(this.$plus_btn.css("left"),10)-parseInt(this.$slider.css("min-width"),10)}},t.prototype.setSliderValue=function(t){var e;this.value=(e=t,Math.max(Math.min(e,1),0)),this.updateSliderPos()},t}(),Rt=r(9),Ft=r.n(Rt),zt=function(){function t(t,e,n,r,o,i,a,s,l,u,p,h,f){this.$div=t,this.$canvas=e,this.$overlay_canvas=n,this.layout_numbers={window_width:-1,window_height:-1,vertical_zoom_area_width:-1,horizontal_zoom_area_height:-1,padding:-1,window_bar_height:-1,canvas_left:-1,canvas_top:-1},this.current_rect={top:0,left:0,width:0,height:0,col:0,num_cols:0},this.resize_hover=!1,this.rendering_suppressed=!1,this.$div=t,this.$canvas=e,this.$overlay_canvas=n;var d,m,g,y=this;this.handleContextLost=function(){y.drawOncoprintAndOverlayRect(r,o)}.bind(this),this.$canvas[0].addEventListener("webglcontextlost",this.handleContextLost),this.layout_numbers={window_width:4+i+4+20,window_height:24+a+4+20,vertical_zoom_area_width:20,horizontal_zoom_area_height:20,padding:4,window_bar_height:20,canvas_left:4,canvas_top:24},this.$div.css({"min-width":this.layout_numbers.window_width,"min-height":this.layout_numbers.window_height,outline:"solid 1px black","background-color":"#ffffff"}),this.$window_bar=c()("<div>").css({position:"absolute","min-width":this.layout_numbers.window_width,"min-height":this.layout_numbers.window_bar_height,"background-color":"#cccccc"}).appendTo(this.$div),this.$close_btn=c()("<div>").css({position:"absolute",top:3,left:3,"min-width":this.layout_numbers.window_bar_height-6,"min-height":this.layout_numbers.window_bar_height-6,cursor:"pointer"}).appendTo(this.$div),c()("<span>").addClass("icon fa fa-times-circle").css("font-size",this.layout_numbers.window_bar_height-6+"px").appendTo(this.$close_btn),this.$close_btn.click(f||function(){}),this.$canvas[0].width=i,this.$canvas[0].height=a,this.$canvas.css({top:this.layout_numbers.canvas_top,left:this.layout_numbers.canvas_left}),this.$overlay_canvas[0].width=i,this.$overlay_canvas[0].height=i,this.$overlay_canvas.css({top:this.layout_numbers.canvas_top,left:this.layout_numbers.canvas_left,outline:"solid 1px #444444"}),this.horizontal_zoom=new Dt(this.$div,{btn_size:this.layout_numbers.horizontal_zoom_area_height-4,horizontal:!0,width:i,init_val:r.getHorzZoom(),left:4,top:this.layout_numbers.canvas_top+a+4,onChange:function(t){u(t)}}),this.vertical_zoom=new Dt(this.$div,{btn_size:this.layout_numbers.vertical_zoom_area_width-4,vertical:!0,height:a,init_val:r.getVertZoom(),left:this.layout_numbers.canvas_left+i+4,top:this.layout_numbers.window_bar_height+4,onChange:function(t){p(t)}}),d=y.layout_numbers.horizontal_zoom_area_height-4,m=y.layout_numbers.vertical_zoom_area_width-4,(g=c()("<div>").css({position:"absolute","min-height":d,"min-width":m,outline:"solid 1px black",left:y.layout_numbers.canvas_left+i+4,top:y.layout_numbers.canvas_top+a+4,"background-size":m-4+"px "+(d-4)+"px","background-position":"2px 2px","background-image":"url("+Ft.a+")","background-repeat":"no-repeat",cursor:"pointer"}).addClass("oncoprint-zoomtofit-btn").appendTo(t)).hover(function(){c()(this).css({"background-color":"#cccccc"})},function(){c()(this).css({"background-color":"#ffffff"})}),h=h||function(){},g.click(h),this.getWebGLContextAndSetUpMatrices(),this.setUpShaders(),this.overlay_ctx=n[0].getContext("2d");var b=5;function _(t,e){return t>=y.current_rect.left+b&&t<=y.current_rect.left+y.current_rect.width-b&&e>=y.current_rect.top+b&&e<=y.current_rect.top+y.current_rect.height-b}function x(t,e){return t>=y.current_rect.left-b&&t<=y.current_rect.left+y.current_rect.width+b&&e>=y.current_rect.top-b&&e<=y.current_rect.top+y.current_rect.height+b}function w(t,e){return!k(t,e)&&!E(t,e)&&!O(t,e)&&!M(t,e)&&x(t,e)&&Math.abs(t-(y.current_rect.left+y.current_rect.width))<b}function S(t,e){return!k(t,e)&&!E(t,e)&&!O(t,e)&&!M(t,e)&&x(t,e)&&Math.abs(t-y.current_rect.left)<b}function C(t,e){return!k(t,e)&&!E(t,e)&&!O(t,e)&&!M(t,e)&&x(t,e)&&Math.abs(e-y.current_rect.top)<b}function T(t,e){return!k(t,e)&&!E(t,e)&&!O(t,e)&&!M(t,e)&&x(t,e)&&Math.abs(e-(y.current_rect.top+y.current_rect.height))<b}function k(t,e){return Math.abs(e-y.current_rect.top)<b&&Math.abs(t-y.current_rect.left)<b}function O(t,e){return Math.abs(e-(y.current_rect.top+y.current_rect.height))<b&&Math.abs(t-y.current_rect.left)<b}function E(t,e){return Math.abs(e-y.current_rect.top)<b&&Math.abs(t-(y.current_rect.left+y.current_rect.width))<b}function M(t,e){return Math.abs(e-(y.current_rect.top+y.current_rect.height))<b&&Math.abs(t-(y.current_rect.left+y.current_rect.width))<b}function I(t,e){void 0===t?y.resize_hover=!1:w(t,e)?y.resize_hover="r":S(t,e)?y.resize_hover="l":C(t,e)?y.resize_hover="t":T(t,e)?y.resize_hover="b":k(t,e)?y.resize_hover="tl":M(t,e)?y.resize_hover="br":O(t,e)?y.resize_hover="bl":E(t,e)?y.resize_hover="tr":y.resize_hover=!1}function A(e,n){var r;r=void 0===e?"auto":_(e,n)?"move":w(e,n)||S(e,n)?"ew-resize":C(e,n)||T(e,n)?"ns-resize":k(e,n)||M(e,n)?"nwse-resize":O(e,n)||E(e,n)?"nesw-resize":"auto",t.css("cursor",r)}function P(t,e,n){var r=parseInt(t.$canvas[0].style.top,10),o=parseInt(t.$canvas[0].style.left,10),i=parseInt(t.$canvas[0].width,10),a=parseInt(t.$canvas[0].height,10),s=e-o,l=n-r;return{mouse_x:s,mouse_y:l,outside:s<0||s>=i||l<0||l>=a}}var D,R=!1,F=!1,z=-1,j=-1,N=-1,L=-1,B=-1,H=-1;c()(document).on("mousedown",function(t){var e=y.$div.offset(),n=t.pageX-e.left,o=t.pageY-e.top,i=P(y,n,o);if(!i.outside){var a=i.mouse_x,s=i.mouse_y;R=!1,F=!1,H=r.getOncoprintHeight()/parseInt(y.$canvas[0].height,10),_(a,s)?F="move":w(a,s)?F="resize_r":S(a,s)?F="resize_l":C(a,s)?F="resize_t":T(a,s)?F="resize_b":E(a,s)?F="resize_tr":M(a,s)?F="resize_br":k(a,s)?F="resize_tl":O(a,s)&&(F="resize_bl"),!1!==F&&(R=!0,N=a,L=s,z=Math.floor(r.getHorzScroll()/(r.getCellWidth()+r.getCellPadding())),j=r.getVertScroll(),B=r.getVertZoom(),D=y.current_rect)}}),c()(document).on("mousemove",function(t){var e=y.$div.offset(),n=t.pageX-e.left,i=t.pageY-e.top,a=P(y,n,i),l=a.mouse_x,u=a.mouse_y,c=y.getZoom(r),p=r.getCellWidth(!0)*c.x;if(R){t.preventDefault();var h=Math.floor(l/p)-Math.floor(N/p),f=u-L;if("move"===F){var d=f*H;s((z+h)*(r.getCellWidth()+r.getCellPadding()),j+d)}else{var m=void 0;c=y.getZoom(r);var g=r.getIdOrder().length,b=Math.ceil(o.getVisibleAreaWidth()/(r.getCellWidth(!0)+r.getCellPadding(!0,!0))),_=r.getOncoprintHeight(!0)*c.y,x=r.getCellViewHeight()*c.y,w=D.col+D.num_cols,S=D.top+D.height;"resize_r"===F?(h=v(h,b-D.num_cols,g-D.num_cols),h=Math.min(h,g-w),m={top:D.top,col:D.col,num_cols:D.num_cols+h,height:D.height}):"resize_l"===F?(h=v(h,D.num_cols-g,D.num_cols-b),h=Math.max(h,-D.col),m={top:D.top,col:D.col+h,num_cols:D.num_cols-h,height:D.height}):"resize_t"===F?(f=v(f,D.height-_,D.height-x),f=Math.max(f,-D.top),m={top:D.top+f,col:D.col,num_cols:D.num_cols,height:D.height-f}):"resize_b"===F?(f=v(f,x-D.height,_-D.height),f=Math.min(f,_-S),m={top:D.top,col:D.col,num_cols:D.num_cols,height:D.height+f}):"resize_tr"===F?(h=v(h,b-D.num_cols,g-D.num_cols),h=Math.min(h,g-w),f=v(f,D.height-_,D.height-x),f=Math.max(f,-D.top),m={top:D.top+f,col:D.col,num_cols:D.num_cols+h,height:D.height-f}):"resize_tl"===F?(h=v(h,D.num_cols-g,D.num_cols-b),h=Math.max(h,-D.col),f=v(f,D.height-_,D.height-x),f=Math.max(f,-D.top),m={top:D.top+f,col:D.col+h,num_cols:D.num_cols-h,height:D.height-f}):"resize_br"===F?(f=v(f,x-D.height,_-D.height),f=Math.min(f,_-S),h=v(h,b-D.num_cols,g-D.num_cols),h=Math.min(h,g-w),m={top:D.top,col:D.col,num_cols:D.num_cols+h,height:D.height+f}):"resize_bl"===F&&(f=v(f,x-D.height,_-D.height),f=Math.min(f,_-S),h=v(h,D.num_cols-g,D.num_cols-b),h=Math.max(h,-D.col),m={top:D.top,col:D.col+h,num_cols:D.num_cols-h,height:D.height+f}),p=r.getCellWidth(!0)*c.x,m.left=m.col*p,m.width=m.num_cols*p,y.drawOverlayRect(null,null,m)}}else a.outside?(A(),I()):(A(l,u),I(l,u)),y.drawOverlayRect(r,o)}),c()(document).on("mouseup",function(t){var e=y.$div.offset(),n=t.pageX-e.left,i=t.pageY-e.top;R&&(["resize_t","resize_b","resize_l","resize_r","resize_tl","resize_tr","resize_bl","resize_br"].indexOf(F)>-1&&l({col:y.current_rect.col,scroll_y_proportion:y.current_rect.top/parseInt(y.$canvas[0].height,10),num_cols:y.current_rect.num_cols,zoom_y:D.height/y.current_rect.height*B}),R=!1,F=!1);var a=P(y,n,i);if(a.outside)A(),I();else{var s=a.mouse_x,u=a.mouse_y;A(s,u),I(s,u)}y.drawOverlayRect(r,o)}),function(){var t=0,e=0,n=0,r=0;function o(o){o.preventDefault();var i=o.pageX-t,a=o.pageY-e;y.setWindowPosition(n+i,r+a)}y.$window_bar.hover(function(){c()(this).css({cursor:"move"})},function(){c()(this).css({cursor:"auto"})}),y.$window_bar.on("mousedown",function(i){t=i.pageX,e=i.pageY,n=parseInt(y.$div.css("left"),10),r=parseInt(y.$div.css("top"),10),c()(document).on("mousemove",o)}),c()(document).on("mouseup click",function(){c()(document).off("mousemove",o)})}()}return t.prototype.getNewCanvas=function(){var t=this.$canvas[0];t.removeEventListener("webglcontextlost",this.handleContextLost);var e=t.cloneNode();e.addEventListener("webglcontextlost",this.handleContextLost);var n=t.parentNode;n.removeChild(t),n.insertBefore(e,this.$overlay_canvas[0]),this.$canvas=c()(e),this.ctx=null},t.prototype.getWebGLCanvasContext=function(){try{var t=this.$canvas[0],e=this.ctx||t.getContext("experimental-webgl",{alpha:!1,antialias:!0});return e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.viewportWidth=t.width,e.viewportHeight=t.height,e.viewport(0,0,e.viewportWidth,e.viewportHeight),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.depthMask(!1),e}catch(t){return null}},t.prototype.ensureWebGLContext=function(){for(var t=0;t<5&&(!this.ctx||this.ctx.isContextLost());t++)this.getNewCanvas(),this.ctx=this.getWebGLCanvasContext(),this.setUpShaders();if(!this.ctx||this.ctx.isContextLost())throw new Error("Unable to get WebGL context for Oncoprint Minimap")},t.prototype.createShaderProgram=function(t,e){var n=this.ctx.createProgram();if(this.ctx.attachShader(n,t),this.ctx.attachShader(n,e),this.ctx.linkProgram(n),!this.ctx.getProgramParameter(n,this.ctx.LINK_STATUS)){var r=this.ctx.getProgramInfoLog(n);throw this.ctx.deleteProgram(n),"Unable to link shader program: "+r}return n},t.prototype.createShader=function(t,e){var n=this.ctx.createShader(this.ctx[e]);if(this.ctx.shaderSource(n,t),this.ctx.compileShader(n),!this.ctx.getShaderParameter(n,this.ctx.COMPILE_STATUS)){var r=this.ctx.getShaderInfoLog(n);throw this.ctx.deleteShader(n),"Unable to compile shader: "+r}return n},t.prototype.getWebGLContextAndSetUpMatrices=function(){this.ctx=this.getWebGLCanvasContext(),function(t){var e=P.a.mat4.create();P.a.mat4.lookAt(e,[0,0,1],[0,0,0],[0,1,0]),t.mvMatrix=e;var n=P.a.mat4.create();P.a.mat4.ortho(n,0,t.ctx.viewportWidth,t.ctx.viewportHeight,0,-5,1e3),t.pMatrix=n}(this)},t.prototype.setUpShaders=function(){var t=["precision highp float;","attribute float aPosVertex;","attribute float aColVertex;","attribute float aVertexOncoprintColumn;","uniform float columnWidth;","uniform float zoomX;","uniform float zoomY;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","uniform float offsetY;","uniform float positionBitPackBase;","uniform float texSize;","varying float texCoord;","vec3 unpackVec3(float packedVec3, float base) {","\tfloat pos0 = floor(packedVec3 / (base*base));","\tfloat pos0Contr = pos0*base*base;","\tfloat pos1 = floor((packedVec3 - pos0Contr)/base);","\tfloat pos1Contr = pos1*base;","\tfloat pos2 = packedVec3 - pos0Contr - pos1Contr;","\treturn vec3(pos0, pos1, pos2);","}","void main(void) {","\tgl_Position = vec4(unpackVec3(aPosVertex, positionBitPackBase), 1.0);","\tgl_Position[0] += aVertexOncoprintColumn*columnWidth;","\tgl_Position[1] += offsetY;","\tgl_Position *= vec4(zoomX, zoomY, 1.0, 1.0);","\tgl_Position = uPMatrix * uMVMatrix * gl_Position;","\ttexCoord = (aColVertex + 0.5) / texSize;","}"].join("\n"),e=["precision mediump float;","varying float texCoord;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(texCoord, 0.5));","}"].join("\n"),n=this.createShader(t,"VERTEX_SHADER"),r=this.createShader(e,"FRAGMENT_SHADER"),o=this.createShaderProgram(n,r);o.vertexPositionAttribute=this.ctx.getAttribLocation(o,"aPosVertex"),this.ctx.enableVertexAttribArray(o.vertexPositionAttribute),o.vertexColorAttribute=this.ctx.getAttribLocation(o,"aColVertex"),this.ctx.enableVertexAttribArray(o.vertexColorAttribute),o.vertexOncoprintColumnAttribute=this.ctx.getAttribLocation(o,"aVertexOncoprintColumn"),this.ctx.enableVertexAttribArray(o.vertexOncoprintColumnAttribute),o.samplerUniform=this.ctx.getUniformLocation(o,"uSampler"),o.pMatrixUniform=this.ctx.getUniformLocation(o,"uPMatrix"),o.mvMatrixUniform=this.ctx.getUniformLocation(o,"uMVMatrix"),o.columnWidthUniform=this.ctx.getUniformLocation(o,"columnWidth"),o.zoomXUniform=this.ctx.getUniformLocation(o,"zoomX"),o.zoomYUniform=this.ctx.getUniformLocation(o,"zoomY"),o.offsetYUniform=this.ctx.getUniformLocation(o,"offsetY"),o.positionBitPackBaseUniform=this.ctx.getUniformLocation(o,"positionBitPackBase"),o.texSizeUniform=this.ctx.getUniformLocation(o,"texSize"),this.shader_program=o},t.prototype.getTrackBuffers=function(t,e){var n=this.ctx.createBuffer(),r=t.vertex_data[e].pos_array;this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,n),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Float32Array(r),this.ctx.STATIC_DRAW),n.itemSize=1,n.numItems=r.length/n.itemSize;var o=this.ctx.createBuffer(),i=t.vertex_data[e].col_array;this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,o),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Float32Array(i),this.ctx.STATIC_DRAW),o.itemSize=1,o.numItems=i.length/o.itemSize;var a=this.ctx.createTexture();this.ctx.bindTexture(this.ctx.TEXTURE_2D,a);for(var s=t.vertex_data[e].col_bank,l=Math.pow(2,Math.ceil(Math.log2(s.length/4)));s.length<4*l;)s.push(0);this.ctx.texImage2D(this.ctx.TEXTURE_2D,0,this.ctx.RGBA,l,1,0,this.ctx.RGBA,this.ctx.UNSIGNED_BYTE,new Uint8Array(s)),this.ctx.texParameteri(this.ctx.TEXTURE_2D,this.ctx.TEXTURE_MIN_FILTER,this.ctx.NEAREST),this.ctx.texParameteri(this.ctx.TEXTURE_2D,this.ctx.TEXTURE_MAG_FILTER,this.ctx.NEAREST);var u={texture:a,size:l},c=this.ctx.createBuffer(),p=t.vertex_column_array[e];return this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,c),this.ctx.bufferData(this.ctx.ARRAY_BUFFER,new Float32Array(p),this.ctx.STATIC_DRAW),c.itemSize=1,c.numItems=p.length/c.itemSize,{position:n,color:o,color_tex:u,column:c}},t.prototype.drawOncoprint=function(t,e){if(!this.rendering_suppressed){this.ensureWebGLContext();var n=this.getZoom(t);this.ctx.clearColor(1,1,1,1),this.ctx.clear(this.ctx.COLOR_BUFFER_BIT|this.ctx.DEPTH_BUFFER_BIT);for(var r=t.getTracks(),o=0;o<r.length;o++){var i=r[o],a=t.getCellTops(i,!0),s=this.getTrackBuffers(e,i);0!==s.position.numItems&&(this.ctx.useProgram(this.shader_program),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,s.position),this.ctx.vertexAttribPointer(this.shader_program.vertexPositionAttribute,s.position.itemSize,this.ctx.FLOAT,!1,0,0),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,s.color),this.ctx.vertexAttribPointer(this.shader_program.vertexColorAttribute,s.color.itemSize,this.ctx.FLOAT,!1,0,0),this.ctx.bindBuffer(this.ctx.ARRAY_BUFFER,s.column),this.ctx.vertexAttribPointer(this.shader_program.vertexOncoprintColumnAttribute,s.column.itemSize,this.ctx.FLOAT,!1,0,0),this.ctx.activeTexture(this.ctx.TEXTURE0),this.ctx.bindTexture(this.ctx.TEXTURE_2D,s.color_tex.texture),this.ctx.uniform1i(this.shader_program.samplerUniform,0),this.ctx.uniform1f(this.shader_program.texSizeUniform,s.color_tex.size),this.ctx.uniformMatrix4fv(this.shader_program.pMatrixUniform,!1,this.pMatrix),this.ctx.uniformMatrix4fv(this.shader_program.mvMatrixUniform,!1,this.mvMatrix),this.ctx.uniform1f(this.shader_program.columnWidthUniform,t.getCellWidth(!0)),this.ctx.uniform1f(this.shader_program.zoomXUniform,n.x),this.ctx.uniform1f(this.shader_program.zoomYUniform,n.y),this.ctx.uniform1f(this.shader_program.offsetYUniform,a),this.ctx.uniform1f(this.shader_program.positionBitPackBaseUniform,e.position_bit_pack_base),this.ctx.drawArrays(this.ctx.TRIANGLES,0,s.position.numItems))}}},t.prototype.getZoom=function(t){var e=parseInt(this.$canvas[0].width,10)/t.getOncoprintWidthNoColumnPadding(!0),n=parseInt(this.$canvas[0].height,10)/t.getOncoprintHeight(!0);return{x:e=Math.max(0,Math.min(1,e)),y:n=Math.max(0,Math.min(1,n))}},t.prototype.drawOverlayRect=function(t,e,n){if(!this.rendering_suppressed){var r,o,i,a,s,l;if(n)r=n.left,o=n.width,i=n.top,a=n.height,s=n.col,l=n.num_cols;else{var u=t.getCellWidth(!0),c=t.getCellPadding(!0),p=e.getViewportOncoprintSpace(t),h=this.getZoom(t);s=Math.floor(p.left/(u+c)),l=Math.min(t.getIdOrder().length-s,Math.floor(p.right/(u+c))-Math.floor(p.left/(u+c))),r=s*u*h.x,o=l*u*h.x,i=p.top*h.y,a=(p.bottom-p.top)*h.y}var f=this.overlay_ctx,d=this.$overlay_canvas[0],m=parseInt(d.width,10),g=parseInt(d.height,10);f.fillStyle="rgba(0,0,0,0)",f.clearRect(0,0,m,g),f.fillStyle="rgba(255,255,255,0.4)",f.fillRect(r,i,o,a);var v="t"===this.resize_hover||"tr"===this.resize_hover||"tl"===this.resize_hover,y="r"===this.resize_hover||"tr"===this.resize_hover||"br"===this.resize_hover,b="b"===this.resize_hover||"br"===this.resize_hover||"bl"===this.resize_hover,_="l"===this.resize_hover||"tl"===this.resize_hover||"bl"===this.resize_hover;f.beginPath(),f.moveTo(r,i),f.strokeStyle=v?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",f.lineWidth=v?2:1,f.lineTo(r+o,i),f.stroke(),f.beginPath(),f.moveTo(r+o,i),f.strokeStyle=y?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",f.lineWidth=y?2:1,f.lineTo(r+o,i+a),f.stroke(),f.beginPath(),f.moveTo(r+o,i+a),f.strokeStyle=b?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",f.lineWidth=b?2:1,f.lineTo(r,i+a),f.stroke(),f.beginPath(),f.moveTo(r,i+a),f.strokeStyle=_?"rgba(255,0,0,1)":"rgba(0,0,0,0.75)",f.lineWidth=_?2:1,f.lineTo(r,i),f.stroke(),this.current_rect={top:i,left:r,width:o,height:a,col:s,num_cols:l}}},t.prototype.drawOncoprintAndOverlayRect=function(t,e){this.rendering_suppressed||(this.drawOncoprint(t,e),this.drawOverlayRect(t,e))},t.prototype.moveTrack=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.addTracks=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.removeTrack=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.setHorzZoom=function(t,e){this.drawOverlayRect(t,e),this.horizontal_zoom.setSliderValue(t.getHorzZoom())},t.prototype.setVertZoom=function(t,e){this.drawOverlayRect(t,e),this.vertical_zoom.setSliderValue(t.getVertZoom())},t.prototype.setZoom=function(t,e){this.drawOverlayRect(t,e),this.horizontal_zoom.setSliderValue(t.getHorzZoom()),this.vertical_zoom.setSliderValue(t.getVertZoom())},t.prototype.setScroll=function(t,e){this.drawOverlayRect(t,e)},t.prototype.setHorzScroll=function(t,e){this.drawOverlayRect(t,e)},t.prototype.setVertScroll=function(t,e){this.drawOverlayRect(t,e)},t.prototype.setViewport=function(t,e){this.drawOverlayRect(t,e),this.horizontal_zoom.setSliderValue(t.getHorzZoom()),this.vertical_zoom.setSliderValue(t.getVertZoom())},t.prototype.sort=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.setTrackData=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.shareRuleSet=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.setRuleSet=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.setIdOrder=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.suppressRendering=function(){this.rendering_suppressed=!0},t.prototype.releaseRendering=function(t,e){this.rendering_suppressed=!1,this.drawOncoprintAndOverlayRect(t,e)},t.prototype.hideIds=function(t,e){this.drawOncoprintAndOverlayRect(t,e)},t.prototype.setWindowPosition=function(t,e){this.$div.css({top:e,left:t})},t.prototype.setWidth=function(t,e,n){this.$canvas[0].width=t,this.$overlay_canvas[0].width=t,this.getWebGLContextAndSetUpMatrices(),this.setUpShaders(),this.overlay_ctx=this.$overlay_canvas[0].getContext("2d"),this.drawOncoprintAndOverlayRect(e,n)},t}();r.d(n,"RuleSetType",function(){return W}),r.d(n,"RuleSet",function(){return ft}),r.d(n,"LinearInterpRangeType",function(){return ht}),r.d(n,"Rule",function(){return wt});var jt,Nt=(jt=0,function(){return jt+=1}),Lt=function(){function t(t,e,n){this.ctr_selector=t,this.width=e,n=n||{};var r=this;if(this.destroyed=!1,this.webgl_unavailable=null===document.createElement("canvas").getContext("experimental-webgl"),this.webgl_unavailable)c()(t).append("<p class='oncoprintjs__webgl_unavailable_message'>WebGL context cannot be retrieved, so oncoprint cannot be used. Please visit <a href='http://webglreport.com'>WebGL Report</a> to explore your browsers WebGL capabilities.</p>");else{var o,i=c()("<span></span>").css({position:"relative",display:"inline-block"}).appendTo(t),a=c()("<div></div>").css({position:"absolute",display:"inline-block"}).appendTo(i),s=c()("<span></span>").css({position:"fixed",top:0,left:0,"z-index":99999}).appendTo(t),l=c()("<div></div>").css({position:"absolute",display:"inline-block",top:0,left:0,"min-height":1}).appendTo(i),u=c()("<canvas></canvas>").css({display:"inline-block",position:"absolute",left:"0px",top:"0px"}).addClass("noselect").attr({width:"150",height:"250"}),p=c()("<div></div>").css({position:"absolute",left:"150px",top:"0px"}).addClass("noselect").attr({width:"50",height:"250"}),h=c()("<div></div>").css({position:"absolute",top:"250px","min-height":1}).addClass("noselect oncoprint-legend-div"),f=c()("<div>").css({width:e,display:"inline-block",position:"absolute",left:"200px",top:"0px"}).addClass("noselect"),d=c()("<canvas></canvas>").attr({width:"0px",height:"0px"}).css({position:"absolute",top:"0px",left:"0px"}).addClass("noselect"),m=c()("<div>").css({position:"absolute","overflow-x":"scroll","overflow-y":"scroll",top:"0",left:"0px",height:"1px"}).addClass("oncoprintjs__scroll_div"),g=c()("<div>").appendTo(m),y=c()("<canvas></canvas>").attr({width:"0px",height:"0px"}).css({position:"absolute",top:"0px",left:"0px"}).addClass("noselect").addClass("oncoprintjs__cell_overlay_div"),b=c()("<canvas></canvas>").attr({width:"0px",height:"0px"}).css({position:"absolute",top:"0px",left:"0px"}).addClass("noselect").addClass("oncoprintjs__column_label_canvas"),_=c()("<div>").css({position:"absolute"}),x=c()("<div>").css({position:"absolute",outline:"solid 1px black",display:"none"}).addClass("noselect"),w=c()("<canvas></canvas>").attr("width",300).attr("height",300).css({position:"absolute",top:"0px",left:"0px","z-index":0}).addClass("noselect"),S=c()("<canvas></canvas>").attr("width",300).attr("height",300).css({position:"absolute",top:"0px",left:"0px","z-index":1}).addClass("noselect");u.appendTo(a),f.appendTo(a),p.appendTo(a),_.appendTo(a),h.appendTo(l),x.appendTo(i),d.appendTo(f),y.appendTo(f),b.appendTo(f),m.appendTo(f),m.on("mousemove mousedown mouseup",function(t){y.trigger(t)}),w.appendTo(x),S.appendTo(x),this.$ctr=i,this.$oncoprint_ctr=a,this.$cell_div=f,this.$legend_div=h,this.$track_options_div=p,this.$track_info_div=_,this.$dummy_scroll_div=m,this.$minimap_div=x,this.$cell_canvas=d,this.$cell_overlay_canvas=y,this.model=new I(n),this.cell_view=new tt(f,d,y,b,g,this.model,new It(s),function(t,e){var n=r.model.getIdsInLeftInterval(t,e);r.setHorzZoom(r.model.getHorzZoomToFit(r.cell_view.visible_area_width,n)),r.$dummy_scroll_div.scrollLeft(r.model.getZoomedColumnLeft(n[0])),r.id_clipboard=n},function(t,e){r.doCellMouseOver(t,e)},function(t,e){r.doCellClick(t,e)}),this.minimap_view=new zt(x,w,S,this.model,this.cell_view,150,150,function(t,e){r.setScroll(t,e)},function(t){r.setViewport(t.col,t.scroll_y_proportion,t.num_cols,t.zoom_y)},function(t){var e=r.cell_view.getViewportOncoprintSpace(r.model),n=(e.left+e.right)/2,o=Math.floor(n/(r.model.getCellWidth(!0)+r.model.getCellPadding(!0)));r.setHorzZoom(t);var i=r.cell_view.getViewportOncoprintSpace(r.model),a=o*(r.model.getCellWidth()+r.model.getCellPadding()),s=r.model.getHorzZoom()*(i.right-i.left)/2;r.setHorzScroll(a-s)},function(t){var e=r.cell_view.getViewportOncoprintSpace(r.model),n=(e.top+e.bottom)/2;r.setVertZoom(t);var o=r.cell_view.getViewportOncoprintSpace(r.model),i=r.model.getVertZoom()*(o.bottom-o.top)/2;r.setVertScroll(n*r.model.getVertZoom()-i)},function(){r.updateHorzZoomToFit();var t=r.model.getZoomedColumnLeft();r.setHorzScroll(Math.min.apply(null,r.keep_horz_zoomed_to_fit_ids.map(function(e){return t[e]})))},function(){r.setMinimapVisible(!1)}),this.track_options_view=new Ot(p,function(t){var e=r.model.getContainingTrackGroup(t),n=e.indexOf(t);if(n>0){var o=null;n>=2&&(o=e[n-2]),r.moveTrack(t,o)}},function(t){var e=r.model.getContainingTrackGroup(t),n=e.indexOf(t);n<e.length-1&&r.moveTrack(t,e[n+1])},function(t){r.removeTrack(t)},function(t,e){r.setTrackSortDirection(t,e)},function(t){r.removeExpansionTracksFor(t)}),this.track_info_view=new At(_,new It(s)),this.label_view=new et(u,this.model,new It(s,{noselect:!0})),this.label_view.setDragCallback(function(t,e){r.moveTrack(t,e)}),this.legend_view=new Et(h,10,20),this.keep_sorted=!1,this.keep_horz_zoomed_to_fit=!1,this.keep_horz_zoomed_to_fit_ids=[],this.cell_view,this.model,this.target_dummy_scroll_left=0,this.target_dummy_scroll_top=0,o=r,m.scroll(function(t){var e=m.scrollLeft(),n=m.scrollTop();if(e!==r.target_dummy_scroll_left||n!==r.target_dummy_scroll_top){r.target_dummy_scroll_left=e,r.target_dummy_scroll_top=n;var i=o.maxDummyScrollDivScroll(),a=i.left,s=i.top,l=a>0?e/a:0,u=s>0?n/s:0;l=v(l,0,1),u=v(u,0,1);var c=o.maxOncoprintScrollLeft(),p=o.maxOncoprintScrollTop(),h=Math.round(c*l),f=Math.round(p*u);r.keep_horz_zoomed_to_fit=!1,o.doSetScroll(h,f)}}),this.horz_zoom_callbacks=[],this.minimap_close_callbacks=[],this.cell_mouse_over_callbacks=[],this.cell_click_callbacks=[],this.id_clipboard=[],this.clipboard_change_callbacks=[],this.pending_resize_and_organize=!1}}return t.prototype._SetLegendTop=function(){this.model.rendering_suppressed_depth>0||this.$legend_div.css({top:this.cell_view.getVisibleAreaHeight(this.model)+30})},t.prototype.setLegendTopAfterTimeout=function(){if(!(this.model.rendering_suppressed_depth>0)){var t=this;setTimeout(function(){t.setHeight(),t._SetLegendTop()},0)}},t.prototype.setHeight=function(){this.$ctr.css({"min-height":this.cell_view.getVisibleAreaHeight(this.model)+Math.max(this.$legend_div.outerHeight(),this.$minimap_div.is(":visible")?this.$minimap_div.outerHeight():0)+30})},t.prototype.resizeAndOrganize=function(t){if(!(this.model.rendering_suppressed_depth>0))if(0!==c()(this.ctr_selector).width()){this.$track_options_div.css({left:this.label_view.getWidth()}),this.$track_info_div.css({left:this.label_view.getWidth()+this.track_options_view.getWidth()});var e=this.label_view.getWidth()+this.track_options_view.getWidth()+this.track_info_view.getWidth();this.$cell_div.css("left",e),this.cell_view.setWidth(this.width-e-20,this.model),this._SetLegendTop(),this.legend_view.setWidth(this.width-this.$minimap_div.outerWidth()-20,this.model),this.setHeight(),this.$ctr.css({"min-width":this.width});var n=this;setTimeout(function(){n.keep_horz_zoomed_to_fit&&n.updateHorzZoomToFit(),t&&t()},0)}else this.pending_resize_and_organize=!0},t.prototype.resizeAndOrganizeAfterTimeout=function(t){if(!(this.model.rendering_suppressed_depth>0)){var e=this;setTimeout(function(){e.resizeAndOrganize(t)},0)}},t.prototype.maxOncoprintScrollLeft=function(){return Math.max(0,this.cell_view.getTotalWidth(this.model)-this.cell_view.getVisibleAreaWidth())},t.prototype.maxOncoprintScrollTop=function(){return Math.max(0,this.cell_view.getTotalHeight(this.model)-this.cell_view.getVisibleAreaHeight(this.model))},t.prototype.maxDummyScrollDivScroll=function(){var t=this.cell_view.getDummyScrollDivClientSize();return{left:Math.max(0,this.$dummy_scroll_div[0].scrollWidth-t.width),top:Math.max(0,this.$dummy_scroll_div[0].scrollHeight-t.height)}},t.prototype.setMinimapVisible=function(t){this.webgl_unavailable||this.destroyed||(t?this.$minimap_div.css({display:"block",top:this.cell_view.getVisibleAreaHeight(this.model)+30,left:c()(this.ctr_selector).width()-this.$minimap_div.outerWidth()-10}):(this.$minimap_div.css("display","none"),this.executeMinimapCloseCallbacks()),this.resizeAndOrganizeAfterTimeout())},t.prototype.scrollTo=function(t){this.webgl_unavailable||this.destroyed||this.$dummy_scroll_div.scrollLeft(t)},t.prototype.onHorzZoom=function(t){this.webgl_unavailable||this.destroyed||this.horz_zoom_callbacks.push(t)},t.prototype.onMinimapClose=function(t){this.webgl_unavailable||this.destroyed||this.minimap_close_callbacks.push(t)},t.prototype.moveTrack=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.moveTrack(t,e),this.cell_view.moveTrack(this.model),this.label_view.moveTrack(this.model),this.track_options_view.moveTrack(this.model),this.track_info_view.moveTrack(this.model),this.minimap_view.moveTrack(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected([t,e],"track")&&this.sort(),this.resizeAndOrganizeAfterTimeout())},t.prototype.setTrackGroupOrder=function(t,e,n){this.webgl_unavailable||this.destroyed||(this.model.setTrackGroupOrder(t,e),this.cell_view.setTrackGroupOrder(this.model),this.label_view.setTrackGroupOrder(this.model),this.track_options_view.setTrackGroupOrder(this.model),this.track_info_view.setTrackGroupOrder(this.model),!n&&this.keep_sorted&&this.model.isSortAffected(t,"group")&&this.sort(),this.resizeAndOrganizeAfterTimeout())},t.prototype.setTrackGroupLegendOrder=function(t){this.webgl_unavailable||this.destroyed||(this.model.setTrackGroupLegendOrder(t),this.legend_view.setTrackGroupLegendOrder(this.model),this.resizeAndOrganizeAfterTimeout())},t.prototype.keepSorted=function(t){this.webgl_unavailable||this.destroyed||(this.keep_sorted=void 0===t||t,this.keep_sorted&&this.sort())},t.prototype.addTracks=function(t){if(!this.webgl_unavailable&&!this.destroyed){var e=[],n=t.map(function(t){return t.track_id=Nt(),t.rule_set=Ct(t.rule_set_params),e.push(t.track_id),t});return this.model.addTracks(n),this.cell_view.addTracks(this.model,e),this.label_view.addTracks(this.model,e),this.track_options_view.addTracks(this.model),this.track_info_view.addTracks(this.model),this.legend_view.addTracks(this.model),this.minimap_view.addTracks(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected(e,"track")&&this.sort(),this.resizeAndOrganizeAfterTimeout(),e}},t.prototype.removeTrack=function(t){this.webgl_unavailable||this.destroyed||(this.model.removeTrack(t),this.cell_view.removeTrack(this.model,t),this.label_view.removeTrack(this.model,t),this.track_options_view.removeTrack(this.model,t),this.track_info_view.removeTrack(this.model),this.legend_view.removeTrack(this.model),this.minimap_view.removeTrack(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort(),this.resizeAndOrganizeAfterTimeout())},t.prototype.removeTracks=function(t){if(!this.webgl_unavailable&&!this.destroyed){this.keepSorted(!1),this.suppressRendering();for(var e=0;e<t.length;e++)this.removeTrack(t[e]);this.keepSorted(!0),this.releaseRendering()}},t.prototype.getTracks=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTracks().slice()},t.prototype.removeAllTracks=function(){if(!this.webgl_unavailable&&!this.destroyed){var t=this.model.getTracks();this.removeTracks(t)}},t.prototype.removeExpansionTracksFor=function(t){this.removeTracks(this.model.track_expansion_tracks[t].slice())},t.prototype.disableTrackExpansion=function(t){this.model.disableTrackExpansion(t)},t.prototype.enableTrackExpansion=function(t){this.model.enableTrackExpansion(t)},t.prototype.removeAllExpansionTracksInGroup=function(t){var e,n=this.model.getTrackGroups()[t],r=[];for(e=0;e<n.length;e++)this.model.isTrackExpanded(n[e])&&r.push(n[e]);for(this.suppressRendering(),e=0;e<r.length;e++)this.removeExpansionTracksFor(r[e]);this.releaseRendering()},t.prototype.setHorzZoomToFit=function(t){this.webgl_unavailable||this.destroyed||(this.keep_horz_zoomed_to_fit=!0,this.updateHorzZoomToFitIds(t),this.updateHorzZoomToFit())},t.prototype.updateHorzZoomToFitIds=function(t){this.webgl_unavailable||this.destroyed||(this.keep_horz_zoomed_to_fit_ids=t.slice(),this.keep_horz_zoomed_to_fit&&this.updateHorzZoomToFit())},t.prototype.updateHorzZoomToFit=function(){this.setHorzZoom(this.getHorzZoomToFit(this.keep_horz_zoomed_to_fit_ids),!0)},t.prototype.getHorzZoomToFit=function(t){return t=t||[],this.model.getHorzZoomToFit(this.cell_view.visible_area_width,t)},t.prototype.executeHorzZoomCallbacks=function(){for(var t=0;t<this.horz_zoom_callbacks.length;t++)this.horz_zoom_callbacks[t](this.model.getHorzZoom())},t.prototype.executeMinimapCloseCallbacks=function(){for(var t=0;t<this.minimap_close_callbacks.length;t++)this.minimap_close_callbacks[t]()},t.prototype.doCellMouseOver=function(t,e){null!==t?this.highlightTrack(e):this.highlightTrack(null);for(var n=0;n<this.cell_mouse_over_callbacks.length;n++)this.cell_mouse_over_callbacks[n](t,e)},t.prototype.doCellClick=function(t,e){for(var n=0;n<this.cell_click_callbacks.length;n++)this.cell_click_callbacks[n](t,e)},t.prototype.getHorzZoom=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getHorzZoom()},t.prototype.setHorzZoom=function(t,e){if(!this.webgl_unavailable&&!this.destroyed)return this.keep_horz_zoomed_to_fit=this.keep_horz_zoomed_to_fit&&e,this.model.getHorzZoom()!==t&&(this.model.setHorzZoom(t),this.cell_view.setHorzZoom(this.model),this.minimap_view.setHorzZoom(this.model,this.cell_view),this.executeHorzZoomCallbacks(),this.resizeAndOrganizeAfterTimeout()),this.model.getHorzZoom()},t.prototype.getVertZoom=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getVertZoom()},t.prototype.setVertZoom=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.setVertZoom(t),this.cell_view.setVertZoom(this.model),this.label_view.setVertZoom(this.model),this.track_info_view.setVertZoom(this.model),this.track_options_view.setVertZoom(this.model),this.minimap_view.setVertZoom(this.model,this.cell_view),this.resizeAndOrganizeAfterTimeout(),this.model.getVertZoom()},t.prototype.doSetScroll=function(t,e){t=Math.min(t,this.maxOncoprintScrollLeft()),e=Math.min(e,this.maxOncoprintScrollTop()),this.model.setScroll(t,e),this.cell_view.setScroll(this.model),this.label_view.setScroll(this.model),this.track_info_view.setScroll(this.model),this.track_options_view.setScroll(this.model),this.minimap_view.setScroll(this.model,this.cell_view)},t.prototype.setDummyScrollDivScroll=function(){var t=this.model.getHorzScroll(),e=this.model.getVertScroll(),n=this.maxOncoprintScrollLeft(),r=this.maxOncoprintScrollTop(),o=n>0?t/n:0,i=r>0?e/r:0;o=v(o,0,1),i=v(i,0,1);var a=this.maxDummyScrollDivScroll(),s=a.left,l=a.top;this.target_dummy_scroll_left=Math.round(o*s),this.target_dummy_scroll_top=Math.round(i*l),this.$dummy_scroll_div.scrollLeft(this.target_dummy_scroll_left),this.$dummy_scroll_div.scrollTop(this.target_dummy_scroll_top)},t.prototype.setScroll=function(t,e){this.webgl_unavailable||this.destroyed||(this.doSetScroll(t,e),this.setDummyScrollDivScroll())},t.prototype.setZoom=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setZoom(t,e),this.cell_view.setZoom(this.model),this.label_view.setZoom(this.model),this.track_info_view.setZoom(this.model),this.track_options_view.setZoom(this.model),this.minimap_view.setZoom(this.model,this.cell_view))},t.prototype.setHorzScroll=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.setHorzScroll(Math.min(t,this.maxOncoprintScrollLeft())),this.cell_view.setHorzScroll(this.model),this.label_view.setHorzScroll(this.model),this.track_info_view.setHorzScroll(this.model),this.track_options_view.setHorzScroll(this.model),this.minimap_view.setHorzScroll(this.model,this.cell_view),this.setDummyScrollDivScroll(),this.model.getHorzScroll()},t.prototype.setVertScroll=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.setVertScroll(Math.min(t,this.maxOncoprintScrollTop())),this.cell_view.setVertScroll(this.model),this.label_view.setVertScroll(this.model),this.track_info_view.setVertScroll(this.model),this.track_options_view.setVertScroll(this.model),this.minimap_view.setVertScroll(this.model,this.cell_view),this.setDummyScrollDivScroll(),this.model.getVertScroll()},t.prototype.setViewport=function(t,e,n,r){if(!this.webgl_unavailable&&!this.destroyed){var o=this.model.getHorzZoomToFitNumCols(this.cell_view.getVisibleAreaWidth(),n);this.setZoom(o,r);var i=Math.min(t*(this.model.getCellWidth()+this.model.getCellPadding()),this.maxOncoprintScrollLeft()),a=Math.min(e*this.model.getOncoprintHeight(),this.maxOncoprintScrollTop());this.setScroll(i,a),this.executeHorzZoomCallbacks()}},t.prototype.getTrackData=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTrackData(t)},t.prototype.getTrackDataIdKey=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTrackDataIdKey(t)},t.prototype.setTrackData=function(t,e,n){this.webgl_unavailable||this.destroyed||(this.model.setTrackData(t,e,n),this.cell_view.setTrackData(this.model,t),this.legend_view.setTrackData(this.model),this.minimap_view.setTrackData(this.model,this.cell_view),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort(),this.resizeAndOrganizeAfterTimeout())},t.prototype.setTrackImportantIds=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setTrackImportantIds(t,e),this.cell_view.setTrackImportantIds(this.model,t),this.legend_view.setTrackImportantIds(this.model),this.resizeAndOrganizeAfterTimeout())},t.prototype.setTrackGroupSortPriority=function(t){this.webgl_unavailable||this.destroyed||(this.model.setTrackGroupSortPriority(t),this.cell_view.setTrackGroupSortPriority(this.model),this.keep_sorted&&this.sort(),this.resizeAndOrganizeAfterTimeout())},t.prototype.setTrackSortDirection=function(t,e){if(!this.webgl_unavailable&&!this.destroyed)return this.model.isTrackSortDirectionChangeable(t)&&(this.model.setTrackSortDirection(t,e),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort()),this.model.getTrackSortDirection(t)},t.prototype.setTrackSortComparator=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setTrackSortComparator(t,e),this.keep_sorted&&this.model.isSortAffected(t,"track")&&this.sort())},t.prototype.getTrackSortDirection=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getTrackSortDirection(t)},t.prototype.setTrackInfo=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setTrackInfo(t,e),this.track_info_view.setTrackInfo(this.model))},t.prototype.setTrackTooltipFn=function(t,e){this.webgl_unavailable||this.destroyed||this.model.setTrackTooltipFn(t,e)},t.prototype.setShowTrackSublabels=function(t){this.model.setShowTrackSublabels(t),this.label_view.setShowTrackSublabels(this.model),this.resizeAndOrganizeAfterTimeout()},t.prototype.sort=function(){if(!this.webgl_unavailable&&!this.destroyed){var t=this;this.model.sort().then(function(e){t.label_view.sort(t.model),t.cell_view.sort(t.model),t.minimap_view.sort(t.model,t.cell_view),e&&t.setTrackGroupOrder(e.track_group_index,e.track_id_order,!0)})}},t.prototype.shareRuleSet=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.shareRuleSet(t,e),this.cell_view.shareRuleSet(this.model,e),this.legend_view.shareRuleSet(this.model),this.minimap_view.shareRuleSet(this.model,this.cell_view))},t.prototype.setRuleSet=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.setRuleSet(t,Ct(e)),this.cell_view.setRuleSet(this.model,t),this.legend_view.setRuleSet(this.model),this.minimap_view.setRuleSet(this.model,this.cell_view),this.resizeAndOrganizeAfterTimeout())},t.prototype.setSortConfig=function(t){this.webgl_unavailable||this.destroyed||(this.model.setSortConfig(t),this.cell_view.setSortConfig(this.model),this.track_options_view.setSortConfig(this.model),this.keep_sorted&&this.sort())},t.prototype.setIdOrder=function(t){this.webgl_unavailable||this.destroyed||(this.model.setIdOrder(t),this.cell_view.setIdOrder(this.model,t),this.minimap_view.setIdOrder(this.model,this.cell_view),this.keep_sorted&&this.sort())},t.prototype.disableInteraction=function(){this.webgl_unavailable||this.destroyed||this.track_options_view.disableInteraction()},t.prototype.enableInteraction=function(){this.webgl_unavailable||this.destroyed||this.track_options_view.enableInteraction()},t.prototype.suppressRendering=function(){this.webgl_unavailable||this.destroyed||(this.model.rendering_suppressed_depth+=1,this.label_view.suppressRendering(),this.cell_view.suppressRendering(),this.track_options_view.suppressRendering(),this.track_info_view.suppressRendering(),this.legend_view.suppressRendering(),this.minimap_view.suppressRendering())},t.prototype.releaseRendering=function(t){this.webgl_unavailable||this.destroyed||(this.model.rendering_suppressed_depth-=1,this.model.rendering_suppressed_depth=Math.max(0,this.model.rendering_suppressed_depth),0===this.model.rendering_suppressed_depth&&(this.label_view.releaseRendering(this.model),this.cell_view.releaseRendering(this.model),this.track_options_view.releaseRendering(this.model),this.track_info_view.releaseRendering(this.model),this.legend_view.releaseRendering(this.model),this.minimap_view.releaseRendering(this.model,this.cell_view),this.resizeAndOrganizeAfterTimeout(t)))},t.prototype.triggerPendingResizeAndOrganize=function(t){this.webgl_unavailable||this.destroyed||this.pending_resize_and_organize&&(this.pending_resize_and_organize=!1,this.resizeAndOrganizeAfterTimeout(t))},t.prototype.hideIds=function(t,e){this.webgl_unavailable||this.destroyed||(this.model.hideIds(t,e),this.cell_view.hideIds(this.model),this.minimap_view.hideIds(this.model,this.cell_view))},t.prototype.hideTrackLegends=function(t){this.webgl_unavailable||this.destroyed||(t=[].concat(t),this.model.hideTrackLegends(t),this.legend_view.hideTrackLegends(this.model),this.setLegendTopAfterTimeout())},t.prototype.showTrackLegends=function(t){this.webgl_unavailable||this.destroyed||(t=[].concat(t),this.model.showTrackLegends(t),this.legend_view.showTrackLegends(this.model),this.setLegendTopAfterTimeout())},t.prototype.setCellPaddingOn=function(t){this.webgl_unavailable||this.destroyed||(this.model.setCellPaddingOn(t),this.cell_view.setCellPaddingOn(this.model))},t.prototype.setTrackCustomOptions=function(t,e){this.model.setTrackCustomOptions(t,e),this.track_options_view.setTrackCustomOptions(this.model)},t.prototype.setTrackInfoTooltip=function(t,e){this.model.setTrackInfoTooltip(t,e)},t.prototype.setTrackMovable=function(t,e){this.model.setTrackMovable(t,e),this.track_options_view.setTrackMovable(this.model),this.label_view.setTrackMovable(this.model)},t.prototype.setWidth=function(t){this.width=t,this.resizeAndOrganize()},t.prototype.setColumnLabels=function(t){this.model.setColumnLabels(t),this.cell_view.setColumnLabels(this.model),this.resizeAndOrganizeAfterTimeout()},t.prototype.onCellMouseOver=function(t){this.cell_mouse_over_callbacks.push(t)},t.prototype.onCellClick=function(t){this.cell_click_callbacks.push(t)},t.prototype.toSVG=function(t){if(!this.webgl_unavailable&&!this.destroyed){var e=L.svg(10,10);this.$ctr.append(e);var n=L.group(0,0);e.appendChild(n);var r=L.bgrect(10,10,"#ffffff");t&&n.appendChild(r);var o=this.label_view.toSVGGroup(this.model,!0,0,0);n.appendChild(o);var i=o.getBBox().width+30,a=this.track_info_view.toSVGGroup(this.model,i,0);n.appendChild(a);var s=i+a.getBBox().width+10,l=this.cell_view.toSVGGroup(this.model,s,0);n.appendChild(l),n.appendChild(this.legend_view.toSVGGroup(this.model,0,l.getBBox().y+l.getBBox().height+20));var u=n.getBBox(),c=u.x+u.width,p=u.y+u.height;return e.setAttribute("width",c),e.setAttribute("height",p),t&&(r.setAttribute("width",c),r.setAttribute("height",p)),e.parentNode.removeChild(e),e}},t.prototype.toCanvas=function(t,e){if(!this.webgl_unavailable&&!this.destroyed){var n=this.toSVG(!0);n.setAttribute("xmlns","http://www.w3.org/2000/svg");var r=parseInt(n.getAttribute("width"),10),o=parseInt(n.getAttribute("height"),10),i=document.createElement("canvas"),a=r*(e=e||1)>8192||o*e>8192;i.setAttribute("width",Math.min(8192,r*e).toString()),i.setAttribute("height",Math.min(8192,o*e).toString());var s=document.createElement("div");s.appendChild(n);var l=s.innerHTML,u="data:image/svg+xml;base64,"+window.btoa(l),c=i.getContext("2d");c.setTransform(e,0,0,e,0,0);var p=new Image;return p.onload=function(){c.drawImage(p,0,0),t(i,a)},p.onerror=function(){console.log("IMAGE LOAD ERROR")},p.src=u,p}},t.prototype.toDataUrl=function(t){this.webgl_unavailable||this.destroyed||this.toCanvas(function(e){t(e.toDataURL())})},t.prototype.highlightTrack=function(t){this.webgl_unavailable||this.destroyed||this.label_view.highlightTrack(t,this.model)},t.prototype.setHighlightedIds=function(t){this.webgl_unavailable||this.destroyed||(this.model.setHighlightedIds(t),this.cell_view.setHighlightedIds(this.model))},t.prototype.getIdOrder=function(t){if(!this.webgl_unavailable&&!this.destroyed)return this.model.getIdOrder(t)},t.prototype.setIdClipboardContents=function(t){if(!this.webgl_unavailable&&!this.destroyed){this.id_clipboard=t.slice();for(var e=0;e<this.clipboard_change_callbacks.length;e++)this.clipboard_change_callbacks[e](t)}},t.prototype.getIdClipboardContents=function(){if(!this.webgl_unavailable&&!this.destroyed)return this.id_clipboard.slice()},t.prototype.onClipboardChange=function(t){this.webgl_unavailable||this.destroyed||this.clipboard_change_callbacks.push(t)},t.prototype.destroy=function(){this.webgl_unavailable||this.destroyed||(this.cell_view.destroy(),this.track_options_view.destroy(),this.track_info_view.destroy(),this.destroyed=!0)},t.prototype.clearMouseOverEffects=function(){this.webgl_unavailable||this.destroyed||(this.cell_view.clearOverlay(),this.label_view.highlightTrack(null,this.model))},t}();n.default=Lt}])}).call(this,n(10))},606:function(t,e,n){var o;t.exports=(function(t,e){var n=t.utils.isFunction;function r(t,e){return t-e}function o(t,n,r){return e.max(n,e.min(t,r))}t.sum=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.sumsqrd=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n]*t[n];return e},t.sumsqerr=function(e){for(var n,r=t.mean(e),o=0,i=e.length;--i>=0;)o+=(n=e[i]-r)*n;return o},t.sumrow=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.product=function(t){for(var e=1,n=t.length;--n>=0;)e*=t[n];return e},t.min=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]<e&&(e=t[n]);return e},t.max=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]>e&&(e=t[n]);return e},t.unique=function(t){for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(n){return e.pow(t.product(n),1/n.length)},t.median=function(t){var e=t.length,n=t.slice().sort(r);return 1&e?n[e/2|0]:(n[e/2-1]+n[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,function(t,e){return t+e})},t.cumprod=function(e){return t.cumreduce(e,function(t,e){return t*e})},t.diff=function(t){for(var e=[],n=t.length,r=1;r<n;r++)e.push(t[r]-t[r-1]);return e},t.rank=function(t){for(var e=t.length,n=t.slice().sort(r),o=new Array(e),i=0;i<e;i++){var a=n.indexOf(t[i]),s=n.lastIndexOf(t[i]);if(a===s)var l=a;else l=(a+s)/2;o[i]=l+1}return o},t.mode=function(t){for(var e=t.length,n=t.slice().sort(r),o=1,i=0,a=0,s=[],l=0;l<e;l++)n[l]===n[l+1]?o++:(o>i?(s=[n[l]],i=o,a=0):o===i&&(s.push(n[l]),a++),o=1);return 0===a?s[0]:s},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,n){return t.sumsqerr(e)/(e.length-(n?1:0))},t.pooledvariance=function(e){return e.reduce(function(e,n){return e+t.sumsqerr(n)},0)/(e.reduce(function(t,e){return t+e.length},0)-e.length)},t.deviation=function(e){for(var n=t.mean(e),r=e.length,o=new Array(r),i=0;i<r;i++)o[i]=e[i]-n;return o},t.stdev=function(n,r){return e.sqrt(t.variance(n,r))},t.pooledstdev=function(n){return e.sqrt(t.pooledvariance(n))},t.meandev=function(n){for(var r=t.mean(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.mean(o)},t.meddev=function(n){for(var r=t.median(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.median(o)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var n=t.length,o=t.slice().sort(r);return[o[e.round(n/4)-1],o[e.round(n/2)-1],o[e.round(3*n/4)-1]]},t.quantiles=function(t,n,i,a){var s,l,u,c,p=t.slice().sort(r),h=[n.length],f=t.length;void 0===i&&(i=3/8),void 0===a&&(a=3/8);for(var d=0;d<n.length;d++)l=f*(s=n[d])+(i+s*(1-i-a)),u=e.floor(o(l,1,f-1)),c=o(l-u,0,1),h[d]=(1-c)*p[u-1]+c*p[u];return h},t.percentile=function(t,e){var n=t.slice().sort(r),o=e*(n.length-1),i=parseInt(o),a=o-i;return i+1<n.length?n[i]*(1-a)+n[i+1]*a:n[i]},t.percentileOfScore=function(t,e,n){var r,o=0,i=t.length,a=!1;"strict"===n&&(a=!0);for(var s=0;s<i;s++)r=t[s],(a&&r<e||!a&&r<=e)&&o++;return o/i},t.histogram=function(n,r){for(var o=t.min(n),i=r||4,a=(t.max(n)-o)/i,s=n.length,l=(r=[],0);l<i;l++)r[l]=0;for(l=0;l<s;l++)r[e.min(e.floor((n[l]-o)/a),i-1)]+=1;return r},t.covariance=function(e,n){for(var r=t.mean(e),o=t.mean(n),i=e.length,a=new Array(i),s=0;s<i;s++)a[s]=(e[s]-r)*(n[s]-o);return t.sum(a)/(i-1)},t.corrcoeff=function(e,n){return t.covariance(e,n)/t.stdev(e,1)/t.stdev(n,1)},t.spearmancoeff=function(e,n){return e=t.rank(e),n=t.rank(n),t.corrcoeff(e,n)},t.stanMoment=function(n,r){for(var o=t.mean(n),i=t.stdev(n),a=n.length,s=0,l=0;l<a;l++)s+=e.pow((n[l]-o)/i,r);return s/n.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var i=t.prototype;!function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(r,o){var a=[],s=0,l=this;if(n(r)&&(o=r,r=!1),o)return setTimeout(function(){o.call(l,i[e].call(l,r))}),this;if(this.length>1){for(l=!0===r?this:this.transpose();s<l.length;s++)a[s]=t[e](l[s]);return a}return t[e](this[0],r)}}(e[r])}("cumsum cumprod".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(r,o){var a=[],s=0,l=this;if(n(r)&&(o=r,r=!1),o)return setTimeout(function(){o.call(l,i[e].call(l,r))}),this;if(this.length>1){for("sumrow"!==e&&(l=!0===r?this:this.transpose());s<l.length;s++)a[s]=t[e](l[s]);return!0===r?t[e](t.utils.toVector(a)):a}return t[e](this[0],r)}}(e[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(){var r=[],o=0,a=this,s=Array.prototype.slice.call(arguments);if(n(s[s.length-1])){var l=s[s.length-1],u=s.slice(0,s.length-1);return setTimeout(function(){l.call(a,i[e].apply(a,u))}),this}l=void 0;var c=function(n){return t[e].apply(a,[n].concat(s))};if(this.length>1){for(a=a.transpose();o<a.length;o++)r[o]=c(a[o]);return r}return c(this[0])}}(e[r])}("quantiles percentileOfScore".split(" "))}(o=function(t,e){var n=Array.prototype.concat,r=Array.prototype.slice,o=Object.prototype.toString;function a(e,n){var r=e>n?e:n;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}var s=Array.isArray||function(t){return"[object Array]"===o.call(t)};function l(t){return"[object Function]"===o.call(t)}function u(t){return"number"==typeof t&&t==t}function c(){return new c._init(arguments)}function p(){return 0}function h(){return 1}function f(t,e){return t===e?1:0}c.fn=c.prototype,c._init=function(t){if(s(t[0]))if(s(t[0][0])){l(t[1])&&(t[0]=c.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=l(t[1])?c.map(t[0],t[1]):t[0],this.length=1;else if(u(t[0]))this[0]=c.seq.apply(null,t),this.length=1;else{if(t[0]instanceof c)return c(t[0].toArray());this[0]=[],this.length=1}return this},c._init.prototype=c.prototype,c._init.constructor=c,c.utils={calcRdx:a,isArray:s,isFunction:l,isNumber:u,toVector:function(t){return n.apply([],t)}},c.extend=function(t){var e;if(1===arguments.length){for(e in t)c[e]=t[e];return this}for(var n=1;n<arguments.length;n++)for(e in arguments[n])t[e]=arguments[n][e];return t},c.rows=function(t){return t.length||1},c.cols=function(t){return t[0].length||1},c.dimensions=function(t){return{rows:c.rows(t),cols:c.cols(t)}},c.row=function(t,e){return s(e)?e.map(function(e){return c.row(t,e)}):t[e]},c.rowa=function(t,e){return c.row(t,e)},c.col=function(t,e){if(s(e)){var n=c.arange(t.length).map(function(t){return new Array(e.length)});return e.forEach(function(e,r){c.arange(t.length).forEach(function(o){n[o][r]=t[o][e]})}),n}for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=[t[o][e]];return r},c.cola=function(t,e){return c.col(t,e).map(function(t){return t[0]})},c.diag=function(t){for(var e=c.rows(t),n=new Array(e),r=0;r<e;r++)n[r]=[t[r][r]];return n},c.antidiag=function(t){for(var e=c.rows(t)-1,n=new Array(e),r=0;e>=0;e--,r++)n[r]=[t[r][e]];return n},c.transpose=function(t){var e,n,r,o,i=[];s(t[0])||(t=[t]),n=t.length,r=t[0].length;for(var a=0;a<r;a++){for(e=new Array(n),o=0;o<n;o++)e[o]=t[o][a];i.push(e)}return 1===i.length?i[0]:i},c.map=function(t,e,n){var r,o,i,a,l;for(s(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),l=0;l<i;l++)a[r][l]=e(t[r][l],r,l);return 1===a.length?a[0]:a},c.cumreduce=function(t,e,n){var r,o,i,a,l;for(s(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),i>0&&(a[r][0]=t[r][0]),l=1;l<i;l++)a[r][l]=e(a[r][l-1],t[r][l]);return 1===a.length?a[0]:a},c.alter=function(t,e){return c.map(t,e,!0)},c.create=function(t,e,n){var r,o=new Array(t);l(e)&&(n=e,e=t);for(var i=0;i<t;i++)for(o[i]=new Array(e),r=0;r<e;r++)o[i][r]=n(i,r);return o},c.zeros=function(t,e){return u(e)||(e=t),c.create(t,e,p)},c.ones=function(t,e){return u(e)||(e=t),c.create(t,e,h)},c.rand=function(e,n){return u(n)||(n=e),c.create(e,n,t.random)},c.identity=function(t,e){return u(e)||(e=t),c.create(t,e,f)},c.symmetric=function(t){var e,n,r=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<r;e++)for(n=0;n<r;n++)if(t[n][e]!==t[e][n])return!1;return!0},c.clear=function(t){return c.alter(t,p)},c.seq=function(t,e,n,r){l(r)||(r=!1);var o,i=[],s=a(t,e),u=(e*s-t*s)/((n-1)*s),c=t;for(o=0;c<=e&&o<n;c=(t*s+u*s*++o)/s)i.push(r?r(c,o):c);return i},c.arange=function(t,n,r){var o=[];if(r=r||1,n===e&&(n=t,t=0),t===n||0===r)return[];if(t<n&&r<0)return[];if(t>n&&r>0)return[];if(r>0)for(i=t;i<n;i+=r)o.push(i);else for(i=t;i>n;i+=r)o.push(i);return o},c.slice=function(){function t(t,n,r,o){var i,a=[],s=t.length;if(n===e&&r===e&&o===e)return c.copy(t);if(n=n||0,r=r||t.length,o=o||1,(n=n>=0?n:s+n)===(r=r>=0?r:s+r)||0===o)return[];if(n<r&&o<0)return[];if(n>r&&o>0)return[];if(o>0)for(i=n;i<r;i+=o)a.push(t[i]);else for(i=n;i>r;i+=o)a.push(t[i]);return a}return function(e,n){if(u((n=n||{}).row)){if(u(n.col))return e[n.row][n.col];var r=c.rowa(e,n.row),o=n.col||{};return t(r,o.start,o.end,o.step)}if(u(n.col)){var i=c.cola(e,n.col),a=n.row||{};return t(i,a.start,a.end,a.step)}var a=n.row||{},o=n.col||{};return t(e,a.start,a.end,a.step).map(function(e){return t(e,o.start,o.end,o.step)})}}(),c.sliceAssign=function(n,r,o){if(u(r.row)){if(u(r.col))return n[r.row][r.col]=o;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var i=c.arange(r.col.start,t.min(n.length,r.col.end),r.col.step),a=r.row;return i.forEach(function(t,e){n[a][t]=o[e]}),n}if(u(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1;var s=c.arange(r.row.start,t.min(n[0].length,r.row.end),r.row.step),l=r.col;return s.forEach(function(t,e){n[t][l]=o[e]}),n}o[0].length===e&&(o=[o]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var s=c.arange(r.row.start,t.min(n.length,r.row.end),r.row.step),i=c.arange(r.col.start,t.min(n[0].length,r.col.end),r.col.step);return s.forEach(function(t,e){i.forEach(function(r,i){n[t][r]=o[e][i]})}),n},c.diagonal=function(t){var e=c.zeros(t.length,t.length);return t.forEach(function(t,n){e[n][n]=t}),e},c.copy=function(t){return t.map(function(t){return u(t)?t:t.map(function(t){return t})})};var d=c.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},d.map=function(t,e){return c(c.map(this,t,e))},d.cumreduce=function(t,e){return c(c.cumreduce(this,t,e))},d.alter=function(t){return c.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)!function(t){d[t]=function(e){var n,r=this;return e?(setTimeout(function(){e.call(r,d[t].call(r))}),this):(n=c[t](this),s(n)?c(n):n)}}(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){d[t]=function(e,n){var r=this;return n?(setTimeout(function(){n.call(r,d[t].call(r,e))}),this):c(c[t](this,e))}}(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)n=t[e],d[n]=new Function("return jStat(jStat."+n+".apply(null, arguments));");var n}("create zeros ones rand identity".split(" ")),c}(Math),Math),function(t,e){t.gammaln=function(t){var n,r,o,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],s=1.000000000190015;for(o=(r=n=t)+5.5,o-=(n+.5)*e.log(o);i<6;i++)s+=a[i]/++r;return e.log(2.5066282746310007*s/n)-o},t.gammafn=function(t){var n,r,o,i=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,l=0,u=0,c=0,p=t;if(p<=0){if(!(o=p%1+3.6e-16))return 1/0;s=(1&p?-1:1)*e.PI/e.sin(e.PI*o),p=1-p}r=p,n=p<1?p++:(p-=l=(0|p)-1)-1;for(var h=0;h<8;++h)c=(c+i[h])*n,u=u*n+a[h];if(o=c/u+1,r<p)o/=r;else if(r>p)for(h=0;h<l;++h)o*=p,p++;return s&&(o=s/o),o},t.gammap=function(e,n){return t.lowRegGamma(e,n)*t.gammafn(e)},t.lowRegGamma=function(n,r){var o,i=t.gammaln(n),a=n,s=1/n,l=s,u=r+1-n,c=1/1e-30,p=1/u,h=p,f=1,d=-~(8.5*e.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;f<=d;f++)s+=l*=r/++a;return s*e.exp(-r+n*e.log(r)-i)}for(;f<=d;f++)h*=(p=1/(p=(o=-f*(f-n))*p+(u+=2)))*(c=u+o/c);return 1-h*e.exp(-r+n*e.log(r)-i)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(n,r){return n>170||r>170?e.exp(t.combinationln(n,r)):t.factorial(n)/t.factorial(r)/t.factorial(n-r)},t.combinationln=function(e,n){return t.factorialln(e)-t.factorialln(n)-t.factorialln(e-n)},t.permutation=function(e,n){return t.factorial(e)/t.factorial(e-n)},t.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?e.exp(t.betaln(n,r)):t.gammafn(n)*t.gammafn(r)/t.gammafn(n+r)},t.betaln=function(e,n){return t.gammaln(e)+t.gammaln(n)-t.gammaln(e+n)},t.betacf=function(t,n,r){var o,i,a,s,l=1,u=n+r,c=n+1,p=n-1,h=1,f=1-u*t/c;for(e.abs(f)<1e-30&&(f=1e-30),s=f=1/f;l<=100&&(f=1+(i=l*(r-l)*t/((p+(o=2*l))*(n+o)))*f,e.abs(f)<1e-30&&(f=1e-30),h=1+i/h,e.abs(h)<1e-30&&(h=1e-30),s*=(f=1/f)*h,f=1+(i=-(n+l)*(u+l)*t/((n+o)*(c+o)))*f,e.abs(f)<1e-30&&(f=1e-30),h=1+i/h,e.abs(h)<1e-30&&(h=1e-30),s*=a=(f=1/f)*h,!(e.abs(a-1)<3e-7));l++);return s},t.gammapinv=function(n,r){var o,i,a,s,l,u,c=0,p=r-1,h=t.gammaln(r);if(n>=1)return e.max(100,r+100*e.sqrt(r));if(n<=0)return 0;for(r>1?(l=e.log(p),u=e.exp(p*(l-1)-h),s=n<.5?n:1-n,o=(2.30753+.27061*(i=e.sqrt(-2*e.log(s))))/(1+i*(.99229+.04481*i))-i,n<.5&&(o=-o),o=e.max(.001,r*e.pow(1-1/(9*r)-o/(3*e.sqrt(r)),3))):o=n<(i=1-r*(.253+.12*r))?e.pow(n/i,1/r):1-e.log(1-(n-i)/(1-i));c<12;c++){if(o<=0)return 0;if((o-=i=(a=(t.lowRegGamma(r,o)-n)/(i=r>1?u*e.exp(-(o-p)+p*(e.log(o)-l)):e.exp(-o+p*e.log(o)-h)))/(1-.5*e.min(1,a*((r-1)/o-1))))<=0&&(o=.5*(o+i)),e.abs(i)<1e-8*o)break}return o},t.erf=function(t){var n,r,o,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],s=a.length-1,l=!1,u=0,c=0;for(t<0&&(t=-t,l=!0),r=4*(n=2/(2+t))-2;s>0;s--)o=u,u=r*u-c+a[s],c=o;return i=n*e.exp(-t*t+.5*(a[0]+r*u)-c),l?i-1:1-i},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(n){var r,o,i,a,s=0;if(n>=2)return-100;if(n<=0)return 100;for(a=n<1?n:2-n,r=-.70711*((2.30753+.27061*(i=e.sqrt(-2*e.log(a/2))))/(1+i*(.99229+.04481*i))-i);s<2;s++)r+=(o=t.erfc(r)-a)/(1.1283791670955126*e.exp(-r*r)-r*o);return n<1?r:-r},t.ibetainv=function(n,r,o){var i,a,s,l,u,c,p,h,f,d,m=r-1,g=o-1,v=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&o>=1?(s=n<.5?n:1-n,c=(2.30753+.27061*(l=e.sqrt(-2*e.log(s))))/(1+l*(.99229+.04481*l))-l,n<.5&&(c=-c),p=(c*c-3)/6,h=2/(1/(2*r-1)+1/(2*o-1)),f=c*e.sqrt(p+h)/h-(1/(2*o-1)-1/(2*r-1))*(p+5/6-2/(3*h)),c=r/(r+o*e.exp(2*f))):(i=e.log(r/(r+o)),a=e.log(o/(r+o)),c=n<(l=e.exp(r*i)/r)/(f=l+(u=e.exp(o*a)/o))?e.pow(r*f*n,1/r):1-e.pow(o*f*(1-n),1/o)),d=-t.gammaln(r)-t.gammaln(o)+t.gammaln(r+o);v<10;v++){if(0===c||1===c)return c;if((c-=l=(u=(t.ibeta(c,r,o)-n)/(l=e.exp(m*e.log(c)+g*e.log(1-c)+d)))/(1-.5*e.min(1,u*(m/c-g/(1-c)))))<=0&&(c=.5*(c+l)),c>=1&&(c=.5*(c+l+1)),e.abs(l)<1e-8*c&&v>0)break}return c},t.ibeta=function(n,r,o){var i=0===n||1===n?0:e.exp(t.gammaln(r+o)-t.gammaln(r)-t.gammaln(o)+r*e.log(n)+o*e.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+o+2)?i*t.betacf(n,r,o)/r:1-i*t.betacf(1-n,o,r)/o)},t.randn=function(n,r){var o,i,a,s,l;if(r||(r=n),n)return t.create(n,r,function(){return t.randn()});do{o=e.random(),i=1.7156*(e.random()-.5),l=(a=o-.449871)*a+(s=e.abs(i)+.386595)*(.196*s-.25472*a)}while(l>.27597&&(l>.27846||i*i>-4*e.log(o)*o*o));return i/o},t.randg=function(n,r,o){var i,a,s,l,u,c,p=n;if(o||(o=r),n||(n=1),r)return(c=t.zeros(r,o)).alter(function(){return t.randg(n)}),c;n<1&&(n+=1),i=n-1/3,a=1/e.sqrt(9*i);do{do{l=1+a*(u=t.randn())}while(l<=0);l*=l*l,s=e.random()}while(s>1-.331*e.pow(u,4)&&e.log(s)>.5*u*u+i*(1-l+e.log(l)));if(n==p)return i*l;do{s=e.random()}while(0===s);return e.pow(s,1/p)*i*l},function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t.map(this,function(n){return t[e](n)}))}}(e[n])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}}(e[n])}("randn".split(" "))}(o,Math),function(t,e){function n(n,r,o){var i=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],a=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],s=.5*n;if(s>=8)return 1;var l,u=2*t.normal.cdf(s,0,1,1,0)-1;u=u>=e.exp(-50/o)?e.pow(u,o):0;for(var c=s,p=(8-s)/(l=n>3?2:3),h=c+p,f=0,d=o-1,m=1;m<=l;m++){for(var g=0,v=.5*(h+c),y=.5*(h-c),b=1;b<=12;b++){var _,x=v+y*(6<b?i[(_=12-b+1)-1]:-i[(_=b)-1]),w=x*x;if(w>60)break;var S=2*t.normal.cdf(x,0,1,1,0)*.5-2*t.normal.cdf(x,n,1,1,0)*.5;S>=e.exp(-30/d)&&(g+=S=a[_-1]*e.exp(-.5*w)*e.pow(S,d))}f+=g*=2*y*o/e.sqrt(2*e.PI),c=h,h+=p}return(u+=f)<=e.exp(-30/r)?0:(u=e.pow(u,r))>=1?1:u}!function(e){for(var n=0;n<e.length;n++)!function(e){t[e]=function(t,e,n){return this instanceof arguments.callee?(this._a=t,this._b=e,this._c=n,this):new arguments.callee(t,e,n)},t.fn[e]=function(n,r,o){var i=t[e](n,r,o);return i.data=this,i},t[e].prototype.sample=function(n){var r=this._a,o=this._b,i=this._c;return n?t.alter(n,function(){return t[e].sample(r,o,i)}):t[e].sample(r,o,i)},function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(r){var o=this._a,i=this._b,a=this._c;return r||0===r||(r=this.data),"number"!=typeof r?t.fn.map.call(r,function(r){return t[e][n](r,o,i,a)}):t[e][n](r,o,i,a)}}(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(){return t[e][n](this._a,this._b,this._c)}}(n[r])}("mean median mode variance".split(" "))}(e[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(n,r,o){return n>1||n<0?0:1==r&&1==o?1:r<512&&o<512?e.pow(n,r-1)*e.pow(1-n,o-1)/t.betafn(r,o):e.exp((r-1)*e.log(n)+(o-1)*e.log(1-n)-t.betaln(r,o))},cdf:function(e,n,r){return e>1||e<0?1*(e>1):t.ibeta(e,n,r)},inv:function(e,n,r){return t.ibetainv(e,n,r)},mean:function(t,e){return t/(t+e)},median:function(e,n){return t.ibetainv(.5,e,n)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,n){var r=t.randg(e);return r/(r+t.randg(n))},variance:function(t,n){return t*n/(e.pow(t+n,2)*(t+n+1))}}),t.extend(t.centralF,{pdf:function(n,r,o){var i;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/t.betafn(r/2,o/2)*e.pow(r/o,r/2)*e.pow(n,r/2-1)*e.pow(1+r/o*n,-(r+o)/2):(i=r*n/(o+n*r),r*(o/(o+n*r))/2*t.binomial.pdf((r-2)/2,(r+o-2)/2,i))},cdf:function(e,n,r){return e<0?0:t.ibeta(n*e/(n*e+r),n/2,r/2)},inv:function(e,n,r){return r/(n*(1/t.ibetainv(e,n/2,r/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,n){return 2*t.randg(e/2)/e/(2*t.randg(n/2)/n)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,n,r){return r<0?0:r/(e.pow(t-n,2)+e.pow(r,2))/e.PI},cdf:function(t,n,r){return e.atan((t-n)/r)/e.PI+.5},inv:function(t,n,r){return n+r*e.tan(e.PI*(t-.5))},median:function(t,e){return t},mode:function(t,e){return t},sample:function(n,r){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*r+n}}),t.extend(t.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:e.exp((r/2-1)*e.log(n)-n/2-r/2*e.log(2)-t.gammaln(r/2))},cdf:function(e,n){return e<0?0:t.lowRegGamma(n/2,e/2)},inv:function(e,n){return 2*t.gammapinv(e,.5*n)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,n){return t<0?0:n*e.exp(-n*t)},cdf:function(t,n){return t<0?0:1-e.exp(-n*t)},inv:function(t,n){return-e.log(1-t)/n},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*e.log(e.random())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(n,r,o){return n<0?0:0===n&&1===r?1/o:e.exp((r-1)*e.log(n)-n/o-t.gammaln(r)-r*e.log(o))},cdf:function(e,n,r){return e<0?0:t.lowRegGamma(n,e/r)},inv:function(e,n,r){return t.gammapinv(e,n)*r},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,n){return t.randg(e)*n},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(n,r,o){return n<=0?0:e.exp(-(r+1)*e.log(n)-o/n-t.gammaln(r)+r*e.log(o))},cdf:function(e,n,r){return e<=0?0:1-t.lowRegGamma(n,r/e)},inv:function(e,n,r){return r/t.gammapinv(1-e,n)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,n){return n/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,n,r){return 0===t&&1===n?r:1===t&&1===r?n:e.exp(e.log(n)+e.log(r)+(n-1)*e.log(t)+(r-1)*e.log(1-e.pow(t,n)))},cdf:function(t,n,r){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,n),r)},inv:function(t,n,r){return e.pow(1-e.pow(1-t,1/r),1/n)},mean:function(e,n){return n*t.gammafn(1+1/e)*t.gammafn(n)/t.gammafn(1+1/e+n)},median:function(t,n){return e.pow(1-e.pow(2,-1/n),1/t)},mode:function(t,n){if(t>=1&&n>=1&&1!==t&&1!==n)return e.pow((t-1)/(t*n-1),1/t)},variance:function(t,e){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,n,r){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(r)-e.pow(e.log(t)-n,2)/(2*r*r))},cdf:function(n,r,o){return n<0?0:.5+.5*t.erf((e.log(n)-r)/e.sqrt(2*o*o))},inv:function(n,r,o){return e.exp(-1.4142135623730951*o*t.erfcinv(2*n)+r)},mean:function(t,n){return e.exp(t+n*n/2)},median:function(t,n){return e.exp(t)},mode:function(t,n){return e.exp(t-n*n)},sample:function(n,r){return e.exp(t.randn()*r+n)},variance:function(t,n){return(e.exp(n*n)-1)*e.exp(2*t+n*n)}}),t.extend(t.noncentralt,{pdf:function(n,r,o){return e.abs(o)<1e-14?t.studentt.pdf(n,r):e.abs(n)<1e-14?e.exp(t.gammaln((r+1)/2)-o*o/2-.5*e.log(e.PI*r)-t.gammaln(r/2)):r/n*(t.noncentralt.cdf(n*e.sqrt(1+2/r),r+2,o)-t.noncentralt.cdf(n,r,o))},cdf:function(n,r,o){if(e.abs(o)<1e-14)return t.studentt.cdf(n,r);var i=!1;n<0&&(i=!0,o=-o);for(var a=t.normal.cdf(-o,0,1),s=1e-14+1,l=s,u=n*n/(n*n+r),c=0,p=e.exp(-o*o/2),h=e.exp(-o*o/2-.5*e.log(2)-t.gammaln(1.5))*o;c<200||l>1e-14||s>1e-14;)l=s,c>0&&(p*=o*o/(2*c),h*=o*o/(2*(c+.5))),a+=.5*(s=p*t.beta.cdf(u,c+.5,r/2)+h*t.beta.cdf(u,c+1,r/2)),c++;return i?1-a:a}}),t.extend(t.normal,{pdf:function(t,n,r){return e.exp(-.5*e.log(2*e.PI)-e.log(r)-e.pow(t-n,2)/(2*r*r))},cdf:function(n,r,o){return.5*(1+t.erf((n-r)/e.sqrt(2*o*o)))},inv:function(e,n,r){return-1.4142135623730951*r*t.erfcinv(2*e)+n},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},sample:function(e,n){return t.randn()*n+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,n,r){return t<n?0:r*e.pow(n,r)/e.pow(t,r+1)},cdf:function(t,n,r){return t<n?0:1-e.pow(n/t,r)},inv:function(t,n,r){return n/e.pow(1-t,1/r)},mean:function(t,n){if(!(n<=1))return n*e.pow(t,n)/(n-1)},median:function(t,n){return t*(n*e.SQRT2)},mode:function(t,e){return t},variance:function(t,n){if(!(n<=2))return t*t*n/(e.pow(n-1,2)*(n-2))}}),t.extend(t.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(e.sqrt(r)*t.betafn(.5,r/2))*e.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var o=r/2;return t.ibeta((n+e.sqrt(n*n+r))/(2*e.sqrt(n*n+r)),o,o)},inv:function(n,r){var o=t.ibetainv(2*e.min(n,1-n),.5*r,.5);return o=e.sqrt(r*(1-o)/o),n>.5?o:-o},mean:function(t){return t>1?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(n){return t.randn()*e.sqrt(n/(2*t.randg(n/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,n,r){return t<0||n<0||r<0?0:r/n*e.pow(t/n,r-1)*e.exp(-e.pow(t/n,r))},cdf:function(t,n,r){return t<0?0:1-e.exp(-e.pow(t/n,r))},inv:function(t,n,r){return n*e.pow(-e.log(1-t),1/r)},mean:function(e,n){return e*t.gammafn(1+1/n)},median:function(t,n){return t*e.pow(e.log(2),1/n)},mode:function(t,n){return n<=1?0:t*e.pow((n-1)/n,1/n)},sample:function(t,n){return t*e.pow(-e.log(e.random()),1/n)},variance:function(n,r){return n*n*t.gammafn(1+2/r)-e.pow(t.weibull.mean(n,r),2)}}),t.extend(t.uniform,{pdf:function(t,e,n){return t<e||t>n?0:1/(n-e)},cdf:function(t,e,n){return t<e?0:t<n?(t-e)/(n-e):1},inv:function(t,e,n){return e+t*(n-e)},mean:function(t,e){return.5*(t+e)},median:function(e,n){return t.mean(e,n)},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e.random()-1)},variance:function(t,n){return e.pow(n-t,2)/12}}),t.extend(t.binomial,{pdf:function(n,r,o){return 0===o||1===o?r*o===n?1:0:t.combination(r,n)*e.pow(o,n)*e.pow(1-o,r-n)},cdf:function(e,n,r){var o=[],i=0;if(e<0)return 0;if(e<n){for(;i<=e;i++)o[i]=t.binomial.pdf(i,n,r);return t.sum(o)}return 1}}),t.extend(t.negbin,{pdf:function(n,r,o){return n===n>>>0&&(n<0?0:t.combination(n+r-1,r-1)*e.pow(1-o,n)*e.pow(o,r))},cdf:function(e,n,r){var o=0,i=0;if(e<0)return 0;for(;i<=e;i++)o+=t.negbin.pdf(i,n,r);return o}}),t.extend(t.hypgeom,{pdf:function(n,r,o,i){if(n!=n|0)return!1;if(n<0||n<o-(r-i))return 0;if(n>i||n>o)return 0;if(2*o>r)return 2*i>r?t.hypgeom.pdf(r-o-i+n,r,r-o,r-i):t.hypgeom.pdf(i-n,r,r-o,i);if(2*i>r)return t.hypgeom.pdf(o-n,r,o,r-i);if(o<i)return t.hypgeom.pdf(n,r,i,o);for(var a=1,s=0,l=0;l<n;l++){for(;a>1&&s<i;)a*=1-o/(r-s),s++;a*=(i-l)*(o-l)/((l+1)*(r-o-i+l+1))}for(;s<i;s++)a*=1-o/(r-s);return e.min(1,e.max(0,a))},cdf:function(n,r,o,i){if(n<0||n<o-(r-i))return 0;if(n>=i||n>=o)return 1;if(2*o>r)return 2*i>r?t.hypgeom.cdf(r-o-i+n,r,r-o,r-i):1-t.hypgeom.cdf(i-n-1,r,r-o,i);if(2*i>r)return 1-t.hypgeom.cdf(o-n-1,r,o,r-i);if(o<i)return t.hypgeom.cdf(n,r,i,o);for(var a=1,s=1,l=0,u=0;u<n;u++){for(;a>1&&l<i;){var c=1-o/(r-l);s*=c,a*=c,l++}a+=s*=(i-u)*(o-u)/((u+1)*(r-o-i+u+1))}for(;l<i;l++)a*=1-o/(r-l);return e.min(1,e.max(0,a))}}),t.extend(t.poisson,{pdf:function(n,r){return r<0||n%1!=0||n<0?0:e.pow(r,n)*e.exp(-r)/t.factorial(n)},cdf:function(e,n){var r=[],o=0;if(e<0)return 0;for(;o<=e;o++)r.push(t.poisson.pdf(o,n));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sample:function(t){var n=1,r=0,o=e.exp(-t);do{r++,n*=e.random()}while(n>o);return r-1}}),t.extend(t.triangular,{pdf:function(t,e,n,r){return n<=e||r<e||r>n?NaN:t<e||t>n?0:t<r?2*(t-e)/((n-e)*(r-e)):t===r?2/(n-e):2*(n-t)/((n-e)*(n-r))},cdf:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=n?0:t>=r?1:t<=o?e.pow(t-n,2)/((r-n)*(o-n)):1-e.pow(r-t,2)/((r-n)*(r-o))},inv:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=(o-n)/(r-n)?n+(r-n)*e.sqrt(t*((o-n)/(r-n))):n+(r-n)*(1-e.sqrt((1-t)*(1-(o-n)/(r-n))))},mean:function(t,e,n){return(t+e+n)/3},median:function(t,n,r){return r<=(t+n)/2?n-e.sqrt((n-t)*(n-r))/e.sqrt(2):r>(t+n)/2?t+e.sqrt((n-t)*(r-t))/e.sqrt(2):void 0},mode:function(t,e,n){return n},sample:function(t,n,r){var o=e.random();return o<(r-t)/(n-t)?t+e.sqrt(o*(n-t)*(r-t)):n-e.sqrt((1-o)*(n-t)*(n-r))},variance:function(t,e,n){return(t*t+e*e+n*n-t*e-t*n-e*n)/18}}),t.extend(t.arcsine,{pdf:function(t,n,r){return r<=n?NaN:t<=n||t>=r?0:2/e.PI*e.pow(e.pow(r-n,2)-e.pow(2*t-n-r,2),-.5)},cdf:function(t,n,r){return t<n?0:t<r?2/e.PI*e.asin(e.sqrt((t-n)/(r-n))):1},inv:function(t,n,r){return n+(.5-.5*e.cos(e.PI*t))*(r-n)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,n){return n<=t?NaN:e.pow(n-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,n,r){return r<=0?0:e.exp(-e.abs(t-n)/r)/(2*r)},cdf:function(t,n,r){return r<=0?0:t<n?.5*e.exp((t-n)/r):1-.5*e.exp(-(t-n)/r)},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},variance:function(t,e){return 2*e*e},sample:function(t,n){var r,o=e.random()-.5;return t-n*((r=o)/e.abs(r))*e.log(1-2*e.abs(o))}}),t.extend(t.tukey,{cdf:function(r,o,i){var a=o,s=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],l=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(r<=0)return 0;if(i<2||a<2)return NaN;if(!Number.isFinite(r))return 1;if(i>25e3)return n(r,1,a);var u,c=.5*i,p=c*e.log(i)-i*e.log(2)-t.gammaln(c),h=c-1,f=.25*i;u=i<=100?1:i<=800?.5:i<=5e3?.25:.125,p+=e.log(u);for(var d=0,m=1;m<=50;m++){for(var g=0,v=(2*m-1)*u,y=1;y<=16;y++){var b,_;8<y?(b=y-8-1,_=p+h*e.log(v+s[b]*u)-(s[b]*u+v)*f):(b=y-1,_=p+h*e.log(v-s[b]*u)+(s[b]*u-v)*f),_>=-30&&(g+=n(8<y?r*e.sqrt(.5*(s[b]*u+v)):r*e.sqrt(.5*(-s[b]*u+v)),1,a)*l[b]*e.exp(_))}if(m*u>=1&&g<=1e-14)break;d+=g}if(g>1e-14)throw new Error("tukey.cdf failed to converge");return d>1&&(d=1),d},inv:function(n,r,o){if(o<2||r<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var i,a=function(t,n,r){var o=.5-.5*t,i=e.sqrt(e.log(1/(o*o))),a=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);r<120&&(a+=(a*a*a+a)/r/4);var s=.8832-.2368*a;return r<120&&(s+=-1.214/r+1.208*a/r),a*(s*e.log(n-1)+1.4142)}(n,r,o),s=t.tukey.cdf(a,r,o)-n;i=s>0?e.max(0,a-1):a+1;for(var l,u=t.tukey.cdf(i,r,o)-n,c=1;c<50;c++)if(l=i-u*(i-a)/(u-s),s=u,a=i,l<0&&(l=0,u=-n),u=t.tukey.cdf(l,r,o)-n,i=l,e.abs(i-a)<1e-4)return l;throw new Error("tukey.inv failed to converge")}})}(o,Math),function(t,e){var n,o,a=Array.prototype.push,s=t.utils.isArray;function l(e){return s(e)||e instanceof t}t.extend({add:function(e,n){return l(n)?(l(n[0])||(n=[n]),t.map(e,function(t,e,r){return t+n[e][r]})):t.map(e,function(t){return t+n})},subtract:function(e,n){return l(n)?(l(n[0])||(n=[n]),t.map(e,function(t,e,r){return t-n[e][r]||0})):t.map(e,function(t){return t-n})},divide:function(e,n){return l(n)?(l(n[0])||(n=[n]),t.multiply(e,t.inv(n))):t.map(e,function(t){return t/n})},multiply:function(e,n){var r,o,i,a,s,u,c,p;if(void 0===e.length&&void 0===n.length)return e*n;if(s=e.length,u=e[0].length,c=t.zeros(s,i=l(n)?n[0].length:u),p=0,l(n)){for(;p<i;p++)for(r=0;r<s;r++){for(a=0,o=0;o<u;o++)a+=e[r][o]*n[o][p];c[r][p]=a}return 1===s&&1===p?c[0][0]:c}return t.map(e,function(t){return t*n})},outer:function(e,n){return t.multiply(e.map(function(t){return[t]}),[n])},dot:function(e,n){l(e[0])||(e=[e]),l(n[0])||(n=[n]);for(var r,o,i=1===e[0].length&&1!==e.length?t.transpose(e):e,a=1===n[0].length&&1!==n.length?t.transpose(n):n,s=[],u=0,c=i.length,p=i[0].length;u<c;u++){for(s[u]=[],r=0,o=0;o<p;o++)r+=i[u][o]*a[u][o];s[u]=r}return 1===s.length?s[0]:s},pow:function(n,r){return t.map(n,function(t){return e.pow(t,r)})},exp:function(n){return t.map(n,function(t){return e.exp(t)})},log:function(n){return t.map(n,function(t){return e.log(t)})},abs:function(n){return t.map(n,function(t){return e.abs(t)})},norm:function(t,n){var r=0,o=0;for(isNaN(n)&&(n=2),l(t[0])&&(t=t[0]);o<t.length;o++)r+=e.pow(e.abs(t[o]),n);return e.pow(r,1/n)},angle:function(n,r){return e.acos(t.dot(n,r)/(t.norm(n)*t.norm(r)))},aug:function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(t[r].slice());for(r=0;r<n.length;r++)a.apply(n[r],e[r]);return n},inv:function(e){for(var n,r=e.length,o=e[0].length,i=t.identity(r,o),a=t.gauss_jordan(e,i),s=[],l=0;l<r;l++)for(s[l]=[],n=o;n<a[0].length;n++)s[l][n-o]=a[l][n];return s},det:function(t){var e,n=t.length,r=2*n,o=new Array(r),i=n-1,a=r-1,s=i-n+1,l=a,u=0,c=0;if(2===n)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;u<r;u++)o[u]=1;for(u=0;u<n;u++){for(e=0;e<n;e++)o[s<0?s+n:s]*=t[u][e],o[l<n?l+n:l]*=t[u][e],s++,l--;s=--i-n+1,l=--a}for(u=0;u<n;u++)c+=o[u];for(;u<r;u++)c-=o[u];return c},gauss_elimination:function(n,r){var o,i,a,s,l=0,u=0,c=n.length,p=n[0].length,h=1,f=0,d=[];for(o=(n=t.aug(n,r))[0].length,l=0;l<c;l++){for(i=n[l][l],u=l,s=l+1;s<p;s++)i<e.abs(n[s][l])&&(i=n[s][l],u=s);if(u!=l)for(s=0;s<o;s++)a=n[l][s],n[l][s]=n[u][s],n[u][s]=a;for(u=l+1;u<c;u++)for(h=n[u][l]/n[l][l],s=l;s<o;s++)n[u][s]=n[u][s]-h*n[l][s]}for(l=c-1;l>=0;l--){for(f=0,u=l+1;u<=c-1;u++)f+=d[u]*n[l][u];d[l]=(n[l][o-1]-f)/n[l][l]}return d},gauss_jordan:function(n,r){for(var o=t.aug(n,r),i=o.length,a=o[0].length,s=0,l=0;l<i;l++){for(var u=l,c=l+1;c<i;c++)e.abs(o[c][l])>e.abs(o[u][l])&&(u=c);var p=o[l];for(o[l]=o[u],o[u]=p,c=l+1;c<i;c++){s=o[c][l]/o[l][l];for(var h=l;h<a;h++)o[c][h]-=o[l][h]*s}}for(l=i-1;l>=0;l--){for(s=o[l][l],c=0;c<l;c++)for(h=a-1;h>l-1;h--)o[c][h]-=o[l][h]*o[c][l]/s;for(o[l][l]/=s,h=i;h<a;h++)o[l][h]/=s}return o},triaUpSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return null!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o-1,-1,-1).forEach(function(a){r=t.arange(a+1,o).map(function(t){return i[t]*e[a][t]}),i[a]=(n[a]-t.sum(r))/e[a][a]}),a?i.map(function(t){return[t]}):i},triaLowSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return null!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o).forEach(function(o){r=t.arange(o).map(function(t){return e[o][t]*i[t]}),i[o]=(n[o]-t.sum(r))/e[o][o]}),a?i.map(function(t){return[t]}):i},lu:function(e){var n,r=e.length,o=t.identity(r),a=t.zeros(e.length,e[0].length);return t.arange(r).forEach(function(t){a[0][t]=e[0][t]}),t.arange(1,r).forEach(function(s){t.arange(s).forEach(function(r){n=t.arange(r).map(function(t){return o[s][t]*a[t][r]}),o[s][r]=(e[s][r]-t.sum(n))/a[r][r]}),t.arange(s,r).forEach(function(r){n=t.arange(s).map(function(t){return o[s][t]*a[t][r]}),a[s][r]=e[i][r]-t.sum(n)})}),[o,a]},cholesky:function(n){var r,o=n.length,i=t.zeros(n.length,n[0].length);return t.arange(o).forEach(function(a){r=t.arange(a).map(function(t){return e.pow(i[a][t],2)}),i[a][a]=e.sqrt(n[a][a]-t.sum(r)),t.arange(a+1,o).forEach(function(e){r=t.arange(a).map(function(t){return i[a][t]*i[e][t]}),i[e][a]=(n[a][e]-t.sum(r))/i[a][a]})}),i},gauss_jacobi:function(n,r,o,i){for(var a,s,l,u,c=0,p=0,h=n.length,f=[],d=[],m=[];c<h;c++)for(f[c]=[],d[c]=[],m[c]=[],p=0;p<h;p++)c>p?(f[c][p]=n[c][p],d[c][p]=m[c][p]=0):c<p?(d[c][p]=n[c][p],f[c][p]=m[c][p]=0):(m[c][p]=n[c][p],f[c][p]=d[c][p]=0);for(l=t.multiply(t.multiply(t.inv(m),t.add(f,d)),-1),s=t.multiply(t.inv(m),r),a=o,u=t.add(t.multiply(l,o),s),c=2;e.abs(t.norm(t.subtract(u,a)))>i;)a=u,u=t.add(t.multiply(l,a),s),c++;return u},gauss_seidel:function(n,r,o,i){for(var a,s,l,u,c,p=0,h=n.length,f=[],d=[],m=[];p<h;p++)for(f[p]=[],d[p]=[],m[p]=[],a=0;a<h;a++)p>a?(f[p][a]=n[p][a],d[p][a]=m[p][a]=0):p<a?(d[p][a]=n[p][a],f[p][a]=m[p][a]=0):(m[p][a]=n[p][a],f[p][a]=d[p][a]=0);for(u=t.multiply(t.multiply(t.inv(t.add(m,f)),d),-1),l=t.multiply(t.inv(t.add(m,f)),r),s=o,c=t.add(t.multiply(u,o),l),p=2;e.abs(t.norm(t.subtract(c,s)))>i;)s=c,c=t.add(t.multiply(u,s),l),p+=1;return c},SOR:function(n,r,o,i,a){for(var s,l,u,c,p,h=0,f=n.length,d=[],m=[],g=[];h<f;h++)for(d[h]=[],m[h]=[],g[h]=[],s=0;s<f;s++)h>s?(d[h][s]=n[h][s],m[h][s]=g[h][s]=0):h<s?(m[h][s]=n[h][s],d[h][s]=g[h][s]=0):(g[h][s]=n[h][s],d[h][s]=m[h][s]=0);for(c=t.multiply(t.inv(t.add(g,t.multiply(d,a))),t.subtract(t.multiply(g,1-a),t.multiply(m,a))),u=t.multiply(t.multiply(t.inv(t.add(g,t.multiply(d,a))),r),a),l=o,p=t.add(t.multiply(c,o),u),h=2;e.abs(t.norm(t.subtract(p,l)))>i;)l=p,p=t.add(t.multiply(c,l),u),h++;return p},householder:function(n){for(var r,o,i,a,s=n.length,l=n[0].length,u=0,c=[],p=[];u<s-1;u++){for(r=0,a=u+1;a<l;a++)r+=n[a][u]*n[a][u];for(r=(n[u+1][u]>0?-1:1)*e.sqrt(r),o=e.sqrt((r*r-n[u+1][u]*r)/2),(c=t.zeros(s,1))[u+1][0]=(n[u+1][u]-r)/(2*o),i=u+2;i<s;i++)c[i][0]=n[i][u]/(2*o);p=t.subtract(t.identity(s,l),t.multiply(t.multiply(c,t.transpose(c)),2)),n=t.multiply(p,t.multiply(n,p))}return n},QR:(n=t.sum,o=t.arange,function(i){var a,s,l,u=i.length,c=i[0].length;for(i=t.copy(i),r=t.zeros(c,c),s=0;s<c;s++){for(r[s][s]=e.sqrt(n(o(u).map(function(t){return i[t][s]*i[t][s]}))),a=0;a<u;a++)i[a][s]=i[a][s]/r[s][s];for(l=s+1;l<c;l++)for(r[s][l]=n(o(u).map(function(t){return i[t][s]*i[t][l]})),a=0;a<u;a++)i[a][l]=i[a][l]-i[a][s]*r[s][l]}return[i,r]}),lstsq:function(e,n){var r=!1;void 0===n[0].length&&(n=n.map(function(t){return[t]}),r=!0);var o=t.QR(e),i=o[0],a=o[1],s=e[0].length,l=t.slice(i,{col:{end:s}}),u=function(e){var n=(e=t.copy(e)).length,r=t.identity(n);return t.arange(n-1,-1,-1).forEach(function(n){t.sliceAssign(r,{row:n},t.divide(t.slice(r,{row:n}),e[n][n])),t.sliceAssign(e,{row:n},t.divide(t.slice(e,{row:n}),e[n][n])),t.arange(n).forEach(function(o){var i=t.multiply(e[o][n],-1),a=t.slice(e,{row:o}),s=t.multiply(t.slice(e,{row:n}),i);t.sliceAssign(e,{row:o},t.add(a,s));var l=t.slice(r,{row:o}),u=t.multiply(t.slice(r,{row:n}),i);t.sliceAssign(r,{row:o},t.add(l,u))})}),r}(t.slice(a,{row:{end:s}})),c=t.transpose(l);void 0===c[0].length&&(c=[c]);var p=t.multiply(t.multiply(u,c),n);return void 0===p.length&&(p=[[p]]),r?p.map(function(t){return t[0]}):p},jacobi:function(n){for(var r,o,i,a,s,l,u=1,c=n.length,p=t.identity(c,c),h=[];1===u;){a=n[0][1],o=0,i=1;for(var f=0;f<c;f++)for(r=0;r<c;r++)f!=r&&a<e.abs(n[f][r])&&(a=e.abs(n[f][r]),o=f,i=r);for(s=n[o][o]===n[i][i]?n[o][i]>0?e.PI/4:-e.PI/4:e.atan(2*n[o][i]/(n[o][o]-n[i][i]))/2,(l=t.identity(c,c))[o][o]=e.cos(s),l[o][i]=-e.sin(s),l[i][o]=e.sin(s),l[i][i]=e.cos(s),p=t.multiply(p,l),n=t.multiply(t.multiply(t.inv(l),n),l),u=0,f=1;f<c;f++)for(r=1;r<c;r++)f!=r&&e.abs(n[f][r])>.001&&(u=1)}for(f=0;f<c;f++)h.push(n[f][f]);return[p,h]},rungekutta:function(t,e,n,r,o,i){var a,s,l;if(2===i)for(;r<=n;)o+=((a=e*t(r,o))+(s=e*t(r+e,o+a)))/2,r+=e;if(4===i)for(;r<=n;)o+=((a=e*t(r,o))+2*(s=e*t(r+e/2,o+a/2))+2*(l=e*t(r+e/2,o+s/2))+e*t(r+e,o+l))/6,r+=e;return o},romberg:function(t,n,r,o){for(var i,a,s,l,u,c=0,p=(r-n)/2,h=[],f=[],d=[];c<o/2;){for(u=t(n),s=n,l=0;s<=r;s+=p,l++)h[l]=s;for(i=h.length,s=1;s<i-1;s++)u+=(s%2!=0?4:2)*t(h[s]);u=p/3*(u+t(r)),d[c]=u,p/=2,c++}for(a=d.length,i=1;1!==a;){for(s=0;s<a-1;s++)f[s]=(e.pow(4,i)*d[s+1]-d[s])/(e.pow(4,i)-1);a=f.length,d=f,f=[],i++}return d},richardson:function(t,n,r,o){function i(t,e){for(var n,r=0,o=t.length;r<o;r++)t[r]===e&&(n=r);return n}t.length;for(var a,s,l,u,c,p=e.abs(r-t[i(t,r)+1]),h=0,f=[],d=[];o>=p;)a=i(t,r+o),s=i(t,r),f[h]=(n[a]-2*n[s]+n[2*s-a])/(o*o),o/=2,h++;for(u=f.length,l=1;1!=u;){for(c=0;c<u-1;c++)d[c]=(e.pow(4,l)*f[c+1]-f[c])/(e.pow(4,l)-1);u=d.length,f=d,d=[],l++}return f},simpson:function(t,e,n,r){for(var o,i=(n-e)/r,a=t(e),s=[],l=e,u=0,c=1;l<=n;l+=i,u++)s[u]=l;for(o=s.length;c<o-1;c++)a+=(c%2!=0?4:2)*t(s[c]);return i/3*(a+t(n))},hermite:function(t,e,n,r){for(var o,i=t.length,a=0,s=0,l=[],u=[],c=[],p=[];s<i;s++){for(l[s]=1,o=0;o<i;o++)s!=o&&(l[s]*=(r-t[o])/(t[s]-t[o]));for(u[s]=0,o=0;o<i;o++)s!=o&&(u[s]+=1/(t[s]-t[o]));c[s]=(1-2*(r-t[s])*u[s])*(l[s]*l[s]),p[s]=(r-t[s])*(l[s]*l[s]),a+=c[s]*e[s]+p[s]*n[s]}return a},lagrange:function(t,e,n){for(var r,o,i=0,a=0,s=t.length;a<s;a++){for(o=e[a],r=0;r<s;r++)a!=r&&(o*=(n-t[r])/(t[a]-t[r]));i+=o}return i},cubic_spline:function(e,n,r){for(var o,i,a=e.length,s=0,l=[],u=[],c=[],p=[],h=[],f=[];s<a-1;s++)p[s]=e[s+1]-e[s];for(c[0]=0,s=1;s<a-1;s++)c[s]=3/p[s]*(n[s+1]-n[s])-3/p[s-1]*(n[s]-n[s-1]);for(s=1;s<a-1;s++)l[s]=[],u[s]=[],l[s][s-1]=p[s-1],l[s][s]=2*(p[s-1]+p[s]),l[s][s+1]=p[s],u[s][0]=c[s];for(i=t.multiply(t.inv(l),u),o=0;o<a-1;o++)h[o]=(n[o+1]-n[o])/p[o]-p[o]*(i[o+1][0]+2*i[o][0])/3,f[o]=(i[o+1][0]-i[o][0])/(3*p[o]);for(o=0;o<a&&!(e[o]>r);o++);return n[o-=1]+(r-e[o])*h[o]+t.sq(r-e[o])*i[o]+(r-e[o])*t.sq(r-e[o])*f[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var n,r,o,i,a,s=e.length,l=e[0].length,u=0,c=[],p=[],h=[],f=[],d=[],m=[],g=[];for(u=0;u<s;u++)c[u]=t.sum(e[u])/l;for(u=0;u<l;u++)for(d[u]=[],n=0;n<s;n++)d[u][n]=e[n][u]-c[n];for(d=t.transpose(d),u=0;u<s;u++)for(m[u]=[],n=0;n<s;n++)m[u][n]=t.dot([d[u]],[d[n]])/(l-1);for(a=(o=t.jacobi(m))[0],p=o[1],g=t.transpose(a),u=0;u<p.length;u++)for(n=u;n<p.length;n++)p[u]<p[n]&&(r=p[u],p[u]=p[n],p[n]=r,h=g[u],g[u]=g[n],g[n]=h);for(i=t.transpose(d),u=0;u<s;u++)for(f[u]=[],n=0;n<i.length;n++)f[u][n]=t.dot([g[u]],[i[n]]);return[e,p,g,f]}}),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(n,r){var o=this;return r?(setTimeout(function(){r.call(o,t.fn[e].call(o,n))},15),this):"number"==typeof t[e](this,n)?t[e](this,n):t(t[e](this,n))}}(e[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(o,Math),function(t,e){var n=[].slice,r=t.utils.isNumber,o=t.utils.isArray;function i(t,n,r,o){if(t>1||r>1||t<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(t*n+r*o)/(n+o);return(t-r)/e.sqrt(i*(1-i)*(1/n+1/o))}t.extend({zscore:function(){var e=n.call(arguments);return r(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var r,i=n.call(arguments);return o(i[1])?(r=t.zscore(i[0],i[1],i[3]),1===i[2]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):i.length>2?(r=t.zscore(i[0],i[1],i[2]),1===i[3]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):(r=i[0],1===i[1]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(n,r,o){var i=e.abs(this.zscore(n,o));return 1===r?t.normal.cdf(-i,0,1):2*t.normal.cdf(-i,0,1)}}),t.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/e.sqrt(r[3])):(r[0]-t.mean(r[1]))/(t.stdev(r[1],!0)/e.sqrt(r[1].length))},ttest:function(){var o,i=n.call(arguments);return 5===i.length?(o=e.abs(t.tscore(i[0],i[1],i[2],i[3])),1===i[4]?t.studentt.cdf(-o,i[3]-1):2*t.studentt.cdf(-o,i[3]-1)):r(i[1])?(o=e.abs(i[0]),1==i[2]?t.studentt.cdf(-o,i[1]-1):2*t.studentt.cdf(-o,i[1]-1)):(o=e.abs(t.tscore(i[0],i[1])),1==i[2]?t.studentt.cdf(-o,i[1].length-1):2*t.studentt.cdf(-o,i[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-t.studentt.cdf(e.abs(this.tscore(n)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(n)),this.cols()-1)}}),t.extend({anovafscore:function(){var r,o,i,a,s,l,u,c=n.call(arguments);if(1===c.length){s=new Array(c[0].length);for(var p=0;p<c[0].length;p++)s[p]=c[0][p];c=s}if(2===c.length)return t.variance(c[0])/t.variance(c[1]);for(o=new Array,p=0;p<c.length;p++)o=o.concat(c[p]);for(i=t.mean(o),r=0,p=0;p<c.length;p++)r+=c[p].length*e.pow(t.mean(c[p])-i,2);for(r/=c.length-1,l=0,p=0;p<c.length;p++)for(a=t.mean(c[p]),u=0;u<c[p].length;u++)l+=e.pow(c[p][u]-a,2);return r/(l/=o.length-c.length)},anovaftest:function(){var e,o,i,a=n.call(arguments);if(r(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);anovafscore=t.anovafscore(a),e=a.length-1,i=0;for(var s=0;s<a.length;s++)i+=a[s].length;return o=i-e-1,1-t.centralF.cdf(anovafscore,e,o)},ftest:function(e,n,r){return 1-t.centralF.cdf(e,n,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){for(var e=0,n=0;n<this.length;n++)e+=this[n].length;return t.ftest(this.anovafscore(),this.length-1,e-this.length)}}),t.extend({qscore:function(){var o,i,a,s,l,u=n.call(arguments);return r(u[0])?(o=u[0],i=u[1],a=u[2],s=u[3],l=u[4]):(o=t.mean(u[0]),i=t.mean(u[1]),a=u[0].length,s=u[1].length,l=u[2]),e.abs(o-i)/(l*e.sqrt((1/a+1/s)/2))},qtest:function(){var e,r=n.call(arguments);3===r.length?(e=r[0],r=r.slice(1)):7===r.length?(e=t.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(e=t.qscore(r[0],r[1],r[2]),r=r.slice(3));var o=r[0],i=r[1];return 1-t.tukey.cdf(e,i,o-i)},tukeyhsd:function(e){for(var n=t.pooledstdev(e),r=e.map(function(e){return t.mean(e)}),o=e.reduce(function(t,e){return t+e.length},0),i=[],a=0;a<e.length;++a)for(var s=a+1;s<e.length;++s){var l=t.qtest(r[a],r[s],e[a].length,e[s].length,n,o,e.length);i.push([[a,s],l])}return i}}),t.extend({normalci:function(){var r,o=n.call(arguments),i=new Array(2);return r=4===o.length?e.abs(t.normal.inv(o[1]/2,0,1)*o[2]/e.sqrt(o[3])):e.abs(t.normal.inv(o[1]/2,0,1)*t.stdev(o[2])/e.sqrt(o[2].length)),i[0]=o[0]-r,i[1]=o[0]+r,i},tci:function(){var r,o=n.call(arguments),i=new Array(2);return r=4===o.length?e.abs(t.studentt.inv(o[1]/2,o[3]-1)*o[2]/e.sqrt(o[3])):e.abs(t.studentt.inv(o[1]/2,o[2].length-1)*t.stdev(o[2],!0)/e.sqrt(o[2].length)),i[0]=o[0]-r,i[1]=o[0]+r,i},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,n){return t.normalci(e,n,this.toArray())},tci:function(e,n){return t.tci(e,n,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,n,r,o){var a=i(e,n,r,o);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(e,n,r,o){var a=i(e,n,r,o);return t.ztest(a,2)}})}(o,Math),o.models=function(){function t(t,e){var n=t.length,r=e[0].length-1,i=n-r-1,a=o.lstsq(e,t),s=o.multiply(e,a.map(function(t){return[t]})).map(function(t){return t[0]}),l=o.subtract(t,s),u=o.mean(t),c=o.sum(s.map(function(t){return Math.pow(t-u,2)})),p=o.sum(t.map(function(t,e){return Math.pow(t-s[e],2)})),h=c+p;return{exog:e,endog:t,nobs:n,df_model:r,df_resid:i,coef:a,predict:s,resid:l,ybar:u,SST:h,SSE:c,SSR:p,R2:c/h}}function e(e){var n,r,i=(n=e.exog,r=n[0].length,o.arange(r).map(function(e){var i=o.arange(r).filter(function(t){return t!==e});return t(o.col(n,e).map(function(t){return t[0]}),o.col(n,i))})),a=Math.sqrt(e.SSR/e.df_resid),s=i.map(function(t){var e=t.SST,n=t.R2;return a/Math.sqrt(e*(1-n))}),l=e.coef.map(function(t,e){return(t-0)/s[e]}),u=l.map(function(t){var n=o.studentt.cdf(t,e.df_resid);return 2*(n>.5?1-n:n)}),c=o.studentt.inv(.975,e.df_resid),p=e.coef.map(function(t,e){var n=c*s[e];return[t-n,t+n]});return{se:s,t:l,p:u,sigmaHat:a,interval95:p}}return{ols:function(n,r){var i=t(n,r),a=e(i),s=function(t){var e,n,r,i=t.R2/t.df_model/((1-t.R2)/t.df_resid);return{F_statistic:i,pvalue:1-(e=i,n=t.df_model,r=t.df_resid,o.beta.cdf(e/(r/n+e),n/2,r/2))}}(i),l=1-(1-i.R2)*((i.nobs-1)/i.df_resid);return i.t=a,i.f=s,i.adjust_R2=l,i}}}(),o.jStat=o,o)},620:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(3)),s=l(n(1180));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.displayName="FontAwesome",t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),o(e,[{key:"render",value:function(){var t=this.props,e=t.border,n=t.cssModule,o=t.className,a=t.fixedWidth,l=t.flip,u=t.inverse,c=t.name,p=t.pulse,h=t.rotate,f=t.size,d=t.spin,m=t.stack,g=t.tag,v=void 0===g?"span":g,y=t.ariaLabel,b=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["border","cssModule","className","fixedWidth","flip","inverse","name","pulse","rotate","size","spin","stack","tag","ariaLabel"]),_=[];return n?(_.push(n.fa),_.push(n["fa-"+c]),f&&_.push(n["fa-"+f]),d&&_.push(n["fa-spin"]),p&&_.push(n["fa-pulse"]),e&&_.push(n["fa-border"]),a&&_.push(n["fa-fw"]),u&&_.push(n["fa-inverse"]),l&&_.push(n["fa-flip-"+l]),h&&_.push(n["fa-rotate-"+h]),m&&_.push(n["fa-stack-"+m])):(_.push("fa"),_.push("fa-"+c),f&&_.push("fa-"+f),d&&_.push("fa-spin"),p&&_.push("fa-pulse"),e&&_.push("fa-border"),a&&_.push("fa-fw"),u&&_.push("fa-inverse"),l&&_.push("fa-flip-"+l),h&&_.push("fa-rotate-"+h),m&&_.push("fa-stack-"+m)),o&&_.push(o),i.default.createElement(v,r({},b,{"aria-hidden":!0,className:_.join(" ")}),y?i.default.createElement("span",{style:s.default},y):null)}}]),e}();u.propTypes={ariaLabel:a.default.string,border:a.default.bool,className:a.default.string,cssModule:a.default.object,fixedWidth:a.default.bool,flip:a.default.oneOf(["horizontal","vertical"]),inverse:a.default.bool,name:a.default.string.isRequired,pulse:a.default.bool,rotate:a.default.oneOf([90,180,270]),size:a.default.oneOf(["lg","2x","3x","4x","5x"]),spin:a.default.bool,stack:a.default.oneOf(["1x","2x"]),tag:a.default.string},e.default=u,t.exports=e.default},625:function(t,e){t.exports=function t(e,n){"use strict";var r,o,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},p=c(e).replace(a,"")||"",h=c(n).replace(a,"")||"",f=p.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=h.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(p.match(l),16)||1!==f.length&&p.match(s)&&Date.parse(p),g=parseInt(h.match(l),16)||m&&h.match(s)&&Date.parse(h)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(f.length,d.length);v<y;v++){if(r=!(f[v]||"").match(u)&&parseFloat(f[v])||f[v]||0,o=!(d[v]||"").match(u)&&parseFloat(d[v])||d[v]||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(r>o)return 1}return 0}},646:function(t,e,n){t.exports={default:n(1181),__esModule:!0}},656:function(t,e,n){var r,o;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(o="function"==typeof(r=function(){var t,e,n,r,o,i={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function u(t,e){this._input=t,this._value=e}return(t=function(n){var r,o,a,s;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(l.zeroFormat&&n===l.zeroFormat)r=0;else if(l.nullFormat&&n===l.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(o in i)if((s="function"==typeof i[o].regexps.unformat?i[o].regexps.unformat():i[o].regexps.unformat)&&n.match(s)){a=i[o].unformat;break}r=(a=a||t._.stringToNumber)(n)}else r=Number(n)||null;return new u(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof u},t._=e={numberToFormat:function(e,n,r){var o,i,s,l,u,c,p,h,f=a[t.options.currentLocale],d=!1,m=!1,g="",v="",y=!1;if(e=e||0,s=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=1e12&&!i||"t"===i?(g+=f.abbreviations.trillion,e/=1e12):s<1e12&&s>=1e9&&!i||"b"===i?(g+=f.abbreviations.billion,e/=1e9):s<1e9&&s>=1e6&&!i||"m"===i?(g+=f.abbreviations.million,e/=1e6):(s<1e6&&s>=1e3&&!i||"k"===i)&&(g+=f.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),l=e.toString().split(".")[0],u=n.split(".")[1],p=n.indexOf(","),o=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),v=t._.toFixed(e,u[0].length+u[1].length,r,u[1].length)):v=t._.toFixed(e,u.length,r),l=v.split(".")[0],v=t._.includes(v,".")?f.delimiters.decimal+v.split(".")[1]:"",m&&0===Number(v.slice(1))&&(v="")):l=t._.toFixed(e,0,r),g&&!i&&Number(l)>=1e3&&g!==f.abbreviations.trillion)switch(l=String(Number(l)/1e3),g){case f.abbreviations.thousand:g=f.abbreviations.million;break;case f.abbreviations.million:g=f.abbreviations.billion;break;case f.abbreviations.billion:g=f.abbreviations.trillion}if(t._.includes(l,"-")&&(l=l.slice(1),y=!0),l.length<o)for(var b=o-l.length;b>0;b--)l="0"+l;return p>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===n.indexOf(".")&&(l=""),h=l+v+(g||""),d?h=(d&&y?"(":"")+h+(d&&y?")":""):c>=0?h=0===c?(y?"-":"+")+h:h+(y?"-":"+"):y&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,o=a[l.currentLocale],i=t,s={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&t===l.zeroFormat)n=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,s[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),o=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,n){var r=e.multiplier(n);return t>r?t:r},1)},toFixed:function(t,e,n,r){var o,i,a,s,l=t.toString().split("."),u=e-(r||0);return o=2===l.length?Math.min(Math.max(l[1].length,u),e):u,a=Math.pow(10,o),s=(n(t+"e+"+o)/a).toFixed(o),r>e-o&&(i=new RegExp("\\.?0{1,"+(r-(e-o))+"}$"),s=s.replace(i,"")),s}},t.options=l,t.formats=i,t.locales=a,t.locale=function(t){return t&&(l.currentLocale=t.toLowerCase()),l.currentLocale},t.localeData=function(t){if(!t)return a[l.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in s)l[t]=s[t]},t.zeroFormat=function(t){l.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){l.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){l.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,o,i,a,s,l,u,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{u=t.localeData(n)}catch(e){u=t.localeData(t.locale())}return i=u.currency.symbol,s=u.abbreviations,r=u.delimiters.decimal,o="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(c=e.match(/^[^\d]+/))&&(e=e.substr(1),c[0]!==i)||null!==(c=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),c[0]!==s.thousand&&c[0]!==s.million&&c[0]!==s.billion&&c[0]!==s.trillion)||(l=new RegExp(o+"{2}"),e.match(/[^\d.,]/g)||(a=e.split(r)).length>2||(a.length<2?!a[0].match(/^\d+.*\d$/)||a[0].match(l):1===a[0].length?!a[0].match(/^\d+$/)||a[0].match(l)||!a[1].match(/^\d+$/):!a[0].match(/^\d+.*\d$/)||a[0].match(l)||!a[1].match(/^\d+$/))))},t.fn=u.prototype={clone:function(){return t(this)},format:function(e,n){var r,o,a,s=this._value,u=e||l.defaultFormat;if(n=n||Math.round,0===s&&null!==l.zeroFormat)o=l.zeroFormat;else if(null===s&&null!==l.nullFormat)o=l.nullFormat;else{for(r in i)if(u.match(i[r].regexps.format)){a=i[r].format;break}o=(a=a||t._.numberToFormat)(s,u,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],function(t,e,r,o){return t+Math.round(n*e)},0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],function(t,e,r,o){return t-Math.round(n*e)},Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,o){var i=e.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var o,i=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"BPS"),o=o.join("")):o=o+i+"BPS",o},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter(function(t){return n.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(e,o,i){var a,s,l,u=t._.includes(o,"ib")?r:n,c=t._.includes(o," b")||t._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),a=0;a<=u.suffixes.length;a++)if(s=Math.pow(u.base,a),l=Math.pow(u.base,a+1),null===e||0===e||e>=s&&e<l){c+=u.suffixes[a],s>0&&(e/=s);break}return t._.numberToFormat(e,o,i)+c},unformat:function(e){var o,i,a=t._.stringToNumber(e);if(a){for(o=n.suffixes.length-1;o>=0;o--){if(t._.includes(e,n.suffixes[o])){i=Math.pow(n.base,o);break}if(t._.includes(e,r.suffixes[o])){i=Math.pow(r.base,o);break}}a*=i||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var o,i,a=t.locales[t.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=t._.numberToFormat(e,n,r),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),i=0;i<s.before.length;i++)switch(s.before[i]){case"$":o=t._.insert(o,a.currency.symbol,i);break;case" ":o=t._.insert(o," ",i+a.currency.symbol.length-1)}for(i=s.after.length-1;i>=0;i--)switch(s.after[i]){case"$":o=i===s.after.length-1?o+a.currency.symbol:t._.insert(o,a.currency.symbol,-(s.after.length-(1+i)));break;case" ":o=i===s.after.length-1?o+" ":t._.insert(o," ",-(s.after.length-(1+i)+a.currency.symbol.length-1))}return o}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var o=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(o[0]),n,r)+"e"+o[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),o=Number(n[1]);return o=t._.includes(e,"e-")?o*=-1:o,t._.reduce([r,Math.pow(10,o)],function(e,n,r,o){var i=t._.correctionFactor(e,n);return e*i*(n*i)/(i*i)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var o=t.locales[t.options.currentLocale],i=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=o.ordinal(e),t._.numberToFormat(e,n,r)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var o,i=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),o=t._.numberToFormat(e,n,r),t._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"%"),o=o.join("")):o=o+i+"%",o},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),o=Math.floor((t-60*r*60)/60),i=Math.round(t-60*r*60-60*o);return r+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})?r.call(e,n,e,t):r)||(t.exports=o)},666:function(t,e,n){"use strict";var r={},o={},i=34,a=10,s=13;function l(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var u=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function u(t,e){var l,u=[],c=t.length,p=0,h=0,f=c<=0,d=!1;function m(){if(f)return o;if(d)return d=!1,r;var e,l,u=p;if(t.charCodeAt(u)===i){for(;p++<c&&t.charCodeAt(p)!==i||t.charCodeAt(++p)===i;);return(e=p)>=c?f=!0:(l=t.charCodeAt(p++))===a?d=!0:l===s&&(d=!0,t.charCodeAt(p)===a&&++p),t.slice(u+1,e-1).replace(/""/g,'"')}for(;p<c;){if((l=t.charCodeAt(e=p++))===a)d=!0;else if(l===s)d=!0,t.charCodeAt(p)===a&&++p;else if(l!==n)continue;return t.slice(u,e)}return f=!0,t.slice(u,c)}for(t.charCodeAt(c-1)===a&&--c,t.charCodeAt(c-1)===s&&--c;(l=m())!==o;){for(var g=[];l!==r&&l!==o;)g.push(l),l=m();e&&null==(g=e(g,h++))||u.push(g)}return u}function c(e){return e.map(p).join(t)}function p(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=u(t,function(t,o){if(n)return n(t,o-1);r=t,n=e?function(t,e){var n=l(t);return function(r,o){return e(n(r),o,t)}}(t,e):l(t)});return o.columns=r||[],o},parseRows:u,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(p).join(t)].concat(e.map(function(e){return n.map(function(t){return p(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(c).join("\n")}}},c=u(","),p=(c.parse,c.parseRows,c.format,c.formatRows,u("\t")),h=(p.parse,p.parseRows,p.format);p.formatRows;n.d(e,"a",function(){return h})},724:function(t,e,n){},749:function(t,e,n){},765:function(t,e,n){var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){"use strict";var t=function(t,e){if(e%1!=0)throw new RangeError;for(var n=1;e--;)n*=t--;return n},e=function(e,n){return n>e?0:t(e,n)/t(n,n)},n=function(e){return t(e,e)},r=function(t,e){var r=1;if(e)r=n(e);else{for(e=1;r<t;r*=++e);r>t&&(r/=e--)}for(var o=[0];e;r/=e--)o[e]=Math.floor(t/r),t%=r;return o},o=function(t,e){Object.keys(e).forEach(function(n){Object.defineProperty(t,n,{value:e[n],configurable:"next"==n})})},i=function(t,e){Object.defineProperty(t,e,{writable:!0})},a=function(t){var e,n=[];for(this.init();e=this.next();)n.push(t?t(e):e);return this.init(),n},s={toArray:a,map:a,forEach:function(t){var e;for(this.init();e=this.next();)t(e);this.init()},filter:function(t){var e,n=[];for(this.init();e=this.next();)t(e)&&n.push(e);return this.init(),n},find:function(t){var e,n;for(this.init();e=this.next();)if(t(e)){n=e;break}return this.init(),n},lazyMap:function(t){return this._lazyMap=t,this},lazyFilter:function(t){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof t)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var e=this._next.bind(this);this.next=function(){for(var n;n=e();)if(t(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},l=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var a=(1<<n)-1,l=e(t.length,n),u=1<<t.length,c=function(){return l},p=Object.create(t.slice(),{length:{get:c}});return i(p,"index"),o(p,{valueOf:c,init:function(){this.index=a},next:function(){if(!(this.index>=u)){for(var t=0,e=this.index,n=[];e;e>>>=1,t++)1&e&&(n[n.length]=this[t]);return this.index=function(t){var e=t&-t,n=t+e;return n|((n&-n)/e>>1)-1}(this.index),"function"==typeof p._lazyMap?p._lazyMap(n):n}}}),o(p,s),p.init(),"function"==typeof r?p.map(r):p},u=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var a=function(t){for(var e=[],n=0;n<t;n++)e[n]=1;return e[0]=1,e}(n),l=e(t.length,n),u=t.length,c=function(){return l},p=Object.create(t.slice(),{length:{get:c}});return i(p,"index"),o(p,{valueOf:c,init:function(){this.index=a.concat()},next:function(){if(!(this.index.length>u)){for(var t=0,e=this.index,r=[],o=0;o<e.length;o++,t++)e[o]&&(r[r.length]=this[t]);return function(t,e){var n=t,r=e,o=0;for(o=n.length-1;o>=0&&1==n[o];o--)r--;if(0==r){n[n.length]=1;for(var i=n.length-2;i>=0;i--)n[i]=i<e-1?1:0}else{for(var a=-1,s=-1,o=0;o<n.length;o++)if(0==n[o]&&-1!=a&&(s=o),1==n[o]&&(a=o),-1!=s&&-1!=a){n[s]=1,n[a]=0;break}r=e;for(var o=n.length-1;o>=a;o--)1==n[o]&&r--;for(var o=0;o<a;o++)n[o]=o<r?1:0}}(this.index,n),"function"==typeof p._lazyMap?p._lazyMap(r):r}}}),o(p,s),p.init(),"function"==typeof r?p.map(r):p},c=function(t){var e=t.slice(),o=n(e.length);return e.index=0,e.next=function(){if(!(this.index>=o)){for(var t=this.slice(),n=r(this.index,this.length),i=[],a=this.length-1;a>=0;--a)i.push(t.splice(n[a],1)[0]);return this.index++,"function"==typeof e._lazyMap?e._lazyMap(i):i}},e},p=Array.prototype.slice,h=Object.create(null);return o(h,{C:e,P:t,factorial:n,factoradic:r,cartesianProduct:function(){if(!arguments.length)throw new RangeError;var t=p.call(arguments),e=t.reduce(function(t,e){return t*e.length},1),n=function(){return e},r=t.length,a=Object.create(t,{length:{get:n}});if(!e)throw new RangeError;return i(a,"index"),o(a,{valueOf:n,dim:r,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],e=0;e<r;e++){var n=arguments[e];if(n>=this[e].length)return;t.push(this[e][n])}return"function"==typeof a._lazyMap?a._lazyMap(t):t}},nth:function(t){for(var e=[],n=0;n<r;n++){var o=this[n].length,i=t%o;e.push(this[n][i]),t-=i,t/=o}return"function"==typeof a._lazyMap?a._lazyMap(e):e},next:function(){if(!(this.index>=e)){var t=this.nth(this.index);return this.index++,t}}}),o(a,s),a.init(),a},combination:l,bigCombination:u,permutation:function(e,n,r){if(n||(n=e.length),n<1)throw new RangeError;if(n>e.length)throw new RangeError;var a=t(e.length,n),p=Object.create(e.slice(),{length:{get:function(){return a}}});return i(p,"cmb"),i(p,"per"),o(p,{valueOf:function(){return a},init:function(){e.length<31?this.cmb=l(e,n):this.cmb=u(e,n),this.per=c(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var e=this.cmb.next();if(!e)return;return this.per=c(e),this.next()}return"function"==typeof p._lazyMap?p._lazyMap(t):t}}),o(p,s),p.init(),"function"==typeof r?p.map(r):p},permutationCombination:function(e,n){var r=function(e){for(var n=0,r=1;r<=e;r++){var o=t(e,r);n+=o}return n}(e.length),a=Object.create(e.slice(),{length:{get:function(){return r}}});return i(a,"cmb"),i(a,"per"),i(a,"nelem"),o(a,{valueOf:function(){return r},init:function(){this.nelem=1,this.cmb=l(e,this.nelem),this.per=c(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var n=this.cmb.next();if(!n){if(this.nelem++,this.nelem>e.length)return;if(this.cmb=l(e,this.nelem),!(n=this.cmb.next()))return}return this.per=c(n),this.next()}return"function"==typeof a._lazyMap?a._lazyMap(t):t}}),o(a,s),a.init(),"function"==typeof n?a.map(n):a},power:function(t,e){var n=1<<t.length,r=function(){return n},a=Object.create(t.slice(),{length:{get:r}});return i(a,"index"),o(a,{valueOf:r,init:function(){a.index=0},nth:function(t){if(!(t>=n)){for(var e=0,r=[];t;t>>>=1,e++)1&t&&r.push(this[e]);return"function"==typeof a._lazyMap?a._lazyMap(r):r}},next:function(){return this.nth(this.index++)}}),o(a,s),a.init(),"function"==typeof e?a.map(e):a},baseN:function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;var r=t.length,a=Math.pow(r,e),l=function(){return a},u=Object.create(t.slice(),{length:{get:l}});return i(u,"index"),o(u,{valueOf:l,init:function(){u.index=0},nth:function(n){if(!(n>=a)){for(var o=[],i=0;i<e;i++){var s=n%r;o.push(t[s]),n-=s,n/=r}return"function"==typeof u._lazyMap?u._lazyMap(o):o}},next:function(){return this.nth(this.index++)}}),o(u,s),u.init(),"function"==typeof n?u.map(n):u},VERSION:"0.5.4"}),h})?r.apply(e,o):r)||(t.exports=i)},766:function(t,e,n){var r=n(1165),o=n(1166),i=n(1167),a=n(1168),s=n(1169),l=n(1170),u=n(1171);u.alea=r,u.xor128=o,u.xorwow=i,u.xorshift7=a,u.xor4096=s,u.tychei=l,t.exports=u},768:function(t,e,n){"use strict";e.__esModule=!0,e.RootCloseWrapper=e.Transition=e.Position=e.Portal=e.Overlay=e.Modal=e.AutoAffix=e.Affix=void 0;var r=p(n(1044)),o=p(n(1174)),i=p(n(776)),a=p(n(777)),s=p(n(778)),l=p(n(779)),u=p(n(780)),c=p(n(781));function p(t){return t&&t.__esModule?t:{default:t}}e.Affix=r.default,e.AutoAffix=o.default,e.Modal=i.default,e.Overlay=a.default,e.Portal=s.default,e.Position=l.default,e.Transition=u.default,e.RootCloseWrapper=c.default},783:function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=a(n(1175)),i=a(n(1176));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.default=(0,o.default)(function(t,e){return function(n){var o=(0,i.default)(n),a=function(t){function n(){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=o=s(this,t.call.apply(t,[this].concat(a))),o.getChildContext=function(){return e(o.props)},s(o,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),n.prototype.render=function(){return o(this.props)},n}(r.Component);return a.childContextTypes=t,a}},"withContext")},786:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=t.displayName||t.name,u="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},802:function(t,e,n){},814:function(t,e,n){"use strict";var r=n(646),o=n.n(r),i=n(530),a=n.n(i),s=n(545),l=n.n(s),u=n(541),c=n.n(u),p=n(542),h=n.n(p),f=n(0),d=n(786),m=n(787),g=n.n(m),v=n(589),y=n.n(v),b=n(44),_=n.n(b);function x(t){var e=t.cellCount,n=t.cellSize,r=t.computeMetadataCallback,o=t.computeMetadataCallbackProps,i=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,l=t.scrollToIndex,u=t.updateScrollOffsetForScrollToIndex;e===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),l>=0&&l===s&&u())}var w=n(721),S=n.n(w),C=(n(3),function(){function t(e){var n=e.cellCount,r=e.cellSizeGetter,o=e.estimatedCellSize;a()(this,t),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return l()(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,n=t.estimatedCellSize,r=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index "+t+" is outside of range 0.."+this._cellCount);if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),n=e.offset+e.size,r=this._lastMeasuredIndex+1;r<=t;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell "+r+" of value "+o);null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell();return t.offset+t.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,o=t.currentOffset,i=t.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,l=s-r+a.size,u=void 0;switch(n){case"start":u=s;break;case"end":u=l;break;case"center":u=s-(r-a.size)/2;break;default:u=Math.max(l,Math.min(s,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-r,u))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;if(0===this.getTotalSize())return{};var r=n+e,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,n){for(;e<=t;){var r=e+Math.floor((t-e)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?e=r+1:o>n&&(t=r-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var n=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=n,n*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset "+t+" specified");t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(n,0,t):this._exponentialSearch(n,t)}}]),t}()),T=function(){return"undefined"!=typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5},k=function(){function t(e){var n=e.maxScrollSize,r=void 0===n?T():n,o=S()(e,["maxScrollSize"]);a()(this,t),this._cellSizeAndPositionManager=new C(o),this._maxScrollSize=r}return l()(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=void 0===e?"auto":e,r=t.containerSize,o=t.currentOffset,i=t.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;return n=this._safeOffsetToOffset({containerSize:e,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:n})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,n=t.offset,r=t.totalSize;return r<=e?0:n/(r-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:r});return Math.round(i*(o-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,n=t.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(i*(r-e))}}]),t}(),O=n(899),E=n.n(O);function M(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={};return function(n){var r=n.callback,o=n.indices,i=E()(o),a=!t||i.every(function(t){var e=o[t];return Array.isArray(e)?e.length>0:e>=0}),s=i.length!==E()(e).length||i.some(function(t){var n=e[t],r=o[t];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r});e=o,a&&s&&r(o)}}var I=1;function A(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,r=t.previousCellsCount,o=t.previousCellSize,i=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,l=t.scrollOffset,u=t.scrollToAlignment,c=t.scrollToIndex,p=t.size,h=t.sizeJustIncreasedFromZero,f=t.updateScrollIndexCallback,d=n.getCellCount(),m=c>=0&&c<d;m&&(p!==s||h||!o||"number"==typeof e&&e!==o||u!==i||c!==a)?f(c):!m&&d>0&&(p<s||d<r)&&l>n.getTotalSize()-p&&f(d-1)}var P=n(751),D=n.n(P),R=n(1185),F=n.n(R),z=void 0,j=(z="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||z.webkitRequestAnimationFrame||z.mozRequestAnimationFrame||z.oRequestAnimationFrame||z.msRequestAnimationFrame||function(t){return z.setTimeout(t,1e3/60)},N=z.cancelAnimationFrame||z.webkitCancelAnimationFrame||z.mozCancelAnimationFrame||z.oCancelAnimationFrame||z.msCancelAnimationFrame||function(t){z.clearTimeout(t)},L=j,B=N,H=function(t){return B(t.id)},V=function(t,e){var n=void 0;F.a.resolve().then(function(){n=Date.now()});var r={id:L(function o(){Date.now()-n>=e?t.call():r.id=L(o)})};return r},W="observed",G="requested",U=function(t){function e(t){a()(this,e);var n=c()(this,(e.__proto__||o()(e)).call(this,t));n._onGridRenderedMemoizer=M(),n._onScrollMemoizer=M(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var t=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:t,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(t){n._scrollingContainer=t},n._onScroll=function(t){t.target===n._scrollingContainer&&n.handleScrollEvent(t.target)};var r=new k({cellCount:t.columnCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.columnWidth)(n)},estimatedCellSize:e._getEstimatedColumnSize(t)}),i=new k({cellCount:t.rowCount,cellSizeGetter:function(n){return e._wrapSizeGetter(t.rowHeight)(n)},estimatedCellSize:e._getEstimatedRowSize(t)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:!0===t.isScrolling,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:I,scrollDirectionVertical:I,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(t,n.state)),t.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(t,n.state)),n}return h()(e,t),l()(e,[{key:"getOffsetForCell",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.alignment,n=void 0===e?this.props.scrollToAlignment:e,r=t.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=t.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=y()({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(t){var e=t.scrollLeft,n=void 0===e?0:e,r=t.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,u=i.width,c=this.state.instanceProps,p=c.scrollbarSize,h=c.rowSizeAndPositionManager.getTotalSize(),f=c.columnSizeAndPositionManager.getTotalSize(),d=Math.min(Math.max(0,f-u+p),n),m=Math.min(Math.max(0,h-l+p),o);if(this.state.scrollLeft!==d||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:d!==this.state.scrollLeft?d>this.state.scrollLeft?I:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?I:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:W};a||(g.scrollTop=m),s||(g.scrollLeft=d),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:m,totalColumnsWidth:f,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,e):e,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var t=this.props,e=t.columnCount,n=t.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(e-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===I?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===I?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(t){var e=t.columnIndex,n=t.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==e&&this._updateScrollLeftForScrollToColumn(y()({},o,{scrollToColumn:e})),void 0!==n&&this._updateScrollTopForScrollToRow(y()({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var t=this.props,n=t.getScrollbarSize,r=t.height,o=t.scrollLeft,i=t.scrollToColumn,a=t.scrollTop,s=t.scrollToRow,l=t.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState(function(t){var e=y()({},t,{needToResetStyleCache:!1});return e.instanceProps.scrollbarSize=n(),e.instanceProps.scrollbarSizeMeasured=!0,e}),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var c=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});c&&(c.needToResetStyleCache=!1,this.setState(c))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=r>0&&l>0;i>=0&&p&&this._updateScrollLeftForScrollToColumn(),s>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(t,e){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,l=r.rowCount,u=r.scrollToAlignment,c=r.scrollToColumn,p=r.scrollToRow,h=r.width,f=this.state,d=f.scrollLeft,m=f.scrollPositionChangeReason,g=f.scrollTop,v=f.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===t.columnCount||l>0&&0===t.rowCount;m===G&&(!i&&d>=0&&(d!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=d),!o&&g>=0&&(g!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=g));var b=(0===t.width||0===t.height)&&s>0&&h>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):A({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:t.columnCount,previousCellSize:t.columnWidth,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToColumn,previousSize:t.width,scrollOffset:d,scrollToAlignment:u,scrollToIndex:c,size:h,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):A({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:t.rowCount,previousCellSize:t.rowHeight,previousScrollToAlignment:t.scrollToAlignment,previousScrollToIndex:t.scrollToRow,previousSize:t.height,scrollOffset:g,scrollToAlignment:u,scrollToIndex:p,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),d!==e.scrollLeft||g!==e.scrollTop){var _=v.rowSizeAndPositionManager.getTotalSize(),x=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:g,totalColumnsWidth:x,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&H(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoContainerWidth,n=t.autoHeight,r=t.autoWidth,o=t.className,i=t.containerProps,a=t.containerRole,s=t.containerStyle,l=t.height,u=t.id,c=t.noContentRenderer,p=t.role,h=t.style,d=t.tabIndex,m=t.width,g=this.state,v=g.instanceProps,b=g.needToResetStyleCache,x=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:n?"auto":l,position:"relative",width:r?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var S=v.columnSizeAndPositionManager.getTotalSize(),C=v.rowSizeAndPositionManager.getTotalSize(),T=C>l?v.scrollbarSize:0,k=S>m?v.scrollbarSize:0;k===this._horizontalScrollBarSize&&T===this._verticalScrollBarSize||(this._horizontalScrollBarSize=k,this._verticalScrollBarSize=T,this._scrollbarPresenceChanged=!0),w.overflowX=S+T<=m?"hidden":"auto",w.overflowY=C+k<=l?"hidden":"auto";var O=this._childrenToDisplay,E=0===O.length&&l>0&&m>0;return f.createElement("div",y()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:_()("ReactVirtualized__Grid",o),id:u,onScroll:this._onScroll,role:p,style:y()({},w,h),tabIndex:d}),O.length>0&&f.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:y()({width:e?"auto":S,height:C,maxWidth:S,maxHeight:C,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"},s)},O),E&&c())}},{key:"_calculateChildrenToRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.cellRenderer,r=t.cellRangeRenderer,o=t.columnCount,i=t.deferredMeasurementCache,a=t.height,s=t.overscanColumnCount,l=t.overscanIndicesGetter,u=t.overscanRowCount,c=t.rowCount,p=t.width,h=t.isScrollingOptOut,f=e.scrollDirectionHorizontal,d=e.scrollDirectionVertical,m=e.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:e.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:e.scrollLeft,y=this._isScrolling(t,e);if(this._childrenToDisplay=[],a>0&&p>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:v}),_=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),x=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:v}),w=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var S=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:f,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),C=l({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:d,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),T=S.overscanStartIndex,k=S.overscanStopIndex,O=C.overscanStartIndex,E=C.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var M=O;M<=E;M++)if(!i.has(M,0)){T=0,k=o-1;break}if(!i.hasFixedWidth())for(var I=T;I<=k;I++)if(!i.has(0,I)){O=0,E=c-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:T,columnStopIndex:k,deferredMeasurementCache:i,horizontalOffsetAdjustment:x,isScrolling:y,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:O,rowStopIndex:E,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:w,visibleColumnIndices:b,visibleRowIndices:_}),this._columnStartIndex=T,this._columnStopIndex=k,this._rowStartIndex=O,this._rowStopIndex=E}}},{key:"_debounceScrollEnded",value:function(){var t=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&H(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=V(this._debounceScrollEndedCallback,t)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e})}}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,r=t.scrollTop,o=t.totalColumnsWidth,i=t.totalRowsHeight;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(t,"isScrolling")?Boolean(t.isScrolling):Boolean(e.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var t=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,t({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(t){var n=t.scrollLeft,r=t.scrollTop,o=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollLeft(t,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e._getScrollLeftForScrollToColumnStateUpdate(t,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return e._getCalculatedScrollTop(t,n)}},{key:"_resetStyleCache",value:function(){var t=this._styleCache,e=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i=r+"-"+o;this._styleCache[i]=t[i],n&&(this._cellCache[i]=e[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e._getScrollTopForScrollToRowStateUpdate(t,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r={};0===t.columnCount&&0!==n.scrollLeft||0===t.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(t.scrollLeft!==n.scrollLeft&&t.scrollToColumn<0||t.scrollTop!==n.scrollTop&&t.scrollToRow<0)&&g()(r,e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}));var o=n.instanceProps;r.needToResetStyleCache=!1,t.columnWidth===o.prevColumnWidth&&t.rowHeight===o.prevRowHeight||(r.needToResetStyleCache=!0),o.columnSizeAndPositionManager.configure({cellCount:t.columnCount,estimatedCellSize:e._getEstimatedColumnSize(t),cellSizeGetter:e._wrapSizeGetter(t.columnWidth)}),o.rowSizeAndPositionManager.configure({cellCount:t.rowCount,estimatedCellSize:e._getEstimatedRowSize(t),cellSizeGetter:e._wrapSizeGetter(t.rowHeight)}),0!==o.prevColumnCount&&0!==o.prevRowCount||(o.prevColumnCount=0,o.prevRowCount=0),t.autoHeight&&!1===t.isScrolling&&!0===o.prevIsScrolling&&g()(r,{isScrolling:!1});var i=void 0,a=void 0;return x({cellCount:o.prevColumnCount,cellSize:"number"==typeof o.prevColumnWidth?o.prevColumnWidth:null,computeMetadataCallback:function(){return o.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.columnCount,nextCellSize:"number"==typeof t.columnWidth?t.columnWidth:null,nextScrollToIndex:t.scrollToColumn,scrollToIndex:o.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=e._getScrollLeftForScrollToColumnStateUpdate(t,n)}}),x({cellCount:o.prevRowCount,cellSize:"number"==typeof o.prevRowHeight?o.prevRowHeight:null,computeMetadataCallback:function(){return o.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:t,nextCellsCount:t.rowCount,nextCellSize:"number"==typeof t.rowHeight?t.rowHeight:null,nextScrollToIndex:t.scrollToRow,scrollToIndex:o.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=e._getScrollTopForScrollToRowStateUpdate(t,n)}}),o.prevColumnCount=t.columnCount,o.prevColumnWidth=t.columnWidth,o.prevIsScrolling=!0===t.isScrolling,o.prevRowCount=t.rowCount,o.prevRowHeight=t.rowHeight,o.prevScrollToColumn=t.scrollToColumn,o.prevScrollToRow=t.scrollToRow,o.scrollbarSize=t.getScrollbarSize(),void 0===o.scrollbarSize?(o.scrollbarSizeMeasured=!1,o.scrollbarSize=0):o.scrollbarSizeMeasured=!0,r.instanceProps=o,y()({},r,i,a)}},{key:"_getEstimatedColumnSize",value:function(t){return"number"==typeof t.columnWidth?t.columnWidth:t.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(t){return"number"==typeof t.rowHeight?t.rowHeight:t.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(t){var e=t.prevState,n=t.scrollLeft,r=t.scrollTop,o={scrollPositionChangeReason:G};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>e.scrollLeft?I:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>e.scrollTop?I:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==e.scrollLeft||"number"==typeof r&&r>=0&&r!==e.scrollTop?o:null}},{key:"_wrapSizeGetter",value:function(t){return"function"==typeof t?t:function(){return t}}},{key:"_getCalculatedScrollLeft",value:function(t,e){var n=t.columnCount,r=t.height,o=t.scrollToAlignment,i=t.scrollToColumn,a=t.width,s=e.scrollLeft,l=e.instanceProps;if(n>0){var u=n-1,c=i<0?u:Math.min(u,i),p=l.rowSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&p>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-h,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(t,n){var r=n.scrollLeft,o=e._getCalculatedScrollLeft(t,n);return"number"==typeof o&&o>=0&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(t,e){var n=t.height,r=t.rowCount,o=t.scrollToAlignment,i=t.scrollToRow,a=t.width,s=e.scrollTop,l=e.instanceProps;if(r>0){var u=r-1,c=i<0?u:Math.min(u,i),p=l.columnSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&p>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-h,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(t,n){var r=n.scrollTop,o=e._getCalculatedScrollTop(t,n);return"number"==typeof o&&o>=0&&r!==o?e._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):null}}]),e}(f.PureComponent);U.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(t){for(var e=t.cellCache,n=t.cellRenderer,r=t.columnSizeAndPositionManager,o=t.columnStartIndex,i=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,l=t.isScrolling,u=t.isScrollingOptOut,c=t.parent,p=t.rowSizeAndPositionManager,h=t.rowStartIndex,f=t.rowStopIndex,d=t.styleCache,m=t.verticalOffsetAdjustment,g=t.visibleColumnIndices,v=t.visibleRowIndices,y=[],b=r.areOffsetsAdjusted()||p.areOffsetsAdjusted(),_=!l&&!b,x=h;x<=f;x++)for(var w=p.getSizeAndPositionOfCell(x),S=o;S<=i;S++){var C=r.getSizeAndPositionOfCell(S),T=S>=g.start&&S<=g.stop&&x>=v.start&&x<=v.stop,k=x+"-"+S,O=void 0;_&&d[k]?O=d[k]:a&&!a.has(x,S)?O={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(O={height:w.size,left:C.offset+s,position:"absolute",top:w.offset+m,width:C.size},d[k]=O);var E={columnIndex:S,isScrolling:l,isVisible:T,key:k,parent:c,rowIndex:x,style:O},M=void 0;!u&&!l||s||m?M=n(E):(e[k]||(e[k]=n(E)),M=e[k]),null!=M&&!1!==M&&y.push(M)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:D.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return r===I?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},U.propTypes=null,Object(d.polyfill)(U);var q=U,K=1;function Z(t){var e=t.cellCount,n=t.overscanCellsCount,r=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return n=Math.max(1,n),r===K?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(e-1,i+1)}}var Y=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r.state={scrollToColumn:0,scrollToRow:0},r._columnStartIndex=0,r._columnStopIndex=0,r._rowStartIndex=0,r._rowStopIndex=0,r._onKeyDown=function(t){var e=r.props,n=e.columnCount,o=e.disabled,i=e.mode,a=e.rowCount;if(!o){var s=r._getScrollState(),l=s.scrollToColumn,u=s.scrollToRow,c=r._getScrollState(),p=c.scrollToColumn,h=c.scrollToRow;switch(t.key){case"ArrowDown":h="cells"===i?Math.min(h+1,a-1):Math.min(r._rowStopIndex+1,a-1);break;case"ArrowLeft":p="cells"===i?Math.max(p-1,0):Math.max(r._columnStartIndex-1,0);break;case"ArrowRight":p="cells"===i?Math.min(p+1,n-1):Math.min(r._columnStopIndex+1,n-1);break;case"ArrowUp":h="cells"===i?Math.max(h-1,0):Math.max(r._rowStartIndex-1,0)}p===l&&h===u||(t.preventDefault(),r._updateScrollState({scrollToColumn:p,scrollToRow:h}))}},r._onSectionRendered=function(t){var e=t.columnStartIndex,n=t.columnStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;r._columnStartIndex=e,r._columnStopIndex=n,r._rowStartIndex=o,r._rowStopIndex=i},i=n,c()(r,i)}return h()(e,t),l()(e,[{key:"setScrollIndexes",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:e})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.children,r=this._getScrollState(),o=r.scrollToColumn,i=r.scrollToRow;return f.createElement("div",{className:e,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:i}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(t){var e=t.scrollToColumn,n=t.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:e,scrollToRow:n}),o||this.setState({scrollToColumn:e,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.isControlled?null:t.scrollToColumn!==e.scrollToColumn||t.scrollToRow!==e.scrollToRow?{scrollToColumn:t.scrollToColumn,scrollToRow:t.scrollToRow}:null}}]),e}(f.PureComponent);Y.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},Y.propTypes=null,Object(d.polyfill)(Y);var X=n(1052),$=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,o=t.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,h=i-c-p,f=a-l-u;(!e&&r.state.height!==h||!n&&r.state.width!==f)&&(r.setState({height:i-c-p,width:a-l-u}),o({height:i,width:a}))}},r._setRef=function(t){r._autoSizer=t},i=n,c()(r,i)}return h()(e,t),l()(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(X.a)(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,r=t.disableHeight,o=t.disableWidth,i=t.style,a=this.state,s=a.height,l=a.width,u={overflow:"visible"},c={};return r||(u.height=0,c.height=s),o||(u.width=0,c.width=l),f.createElement("div",{className:n,ref:this._setRef,style:y()({},u,i)},e(c))}}]),e}(f.PureComponent);$.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},$.propTypes=null;var J=n(45),Q=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r._measure=function(){var t=r.props,e=t.cache,n=t.columnIndex,o=void 0===n?0:n,i=t.parent,a=t.rowIndex,s=void 0===a?r.props.index||0:a,l=r._getCellMeasurements(),u=l.height,c=l.width;u===e.getHeight(s,o)&&c===e.getWidth(s,o)||(e.set(s,o,c,u),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))},i=n,c()(r,i)}return h()(e,t),l()(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var t=this.props.children;return"function"==typeof t?t({measure:this._measure}):t}},{key:"_getCellMeasurements",value:function(){var t=this.props.cache,e=Object(J.findDOMNode)(this);if(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e instanceof e.ownerDocument.defaultView.HTMLElement){var n=e.style.width,r=e.style.height;t.hasFixedWidth()||(e.style.width="auto"),t.hasFixedHeight()||(e.style.height="auto");var o=Math.ceil(e.offsetHeight),i=Math.ceil(e.offsetWidth);return n&&(e.style.width=n),r&&(e.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var t=this.props,e=t.cache,n=t.columnIndex,r=void 0===n?0:n,o=t.parent,i=t.rowIndex,a=void 0===i?this.props.index||0:i;if(!e.has(a,r)){var s=this._getCellMeasurements(),l=s.height,u=s.width;e.set(a,r,u,l),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),e}(f.PureComponent);Q.__internalCellMeasurerFlag=!1,Q.propTypes=null;var tt=30,et=100;!function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(t){var n=t.index,r=e._keyMapper(0,n);return e._columnWidthCache.hasOwnProperty(r)?e._columnWidthCache[r]:e._defaultWidth},this.rowHeight=function(t){var n=t.index,r=e._keyMapper(n,0);return e._rowHeightCache.hasOwnProperty(r)?e._rowHeightCache[r]:e._defaultHeight};var r=n.defaultHeight,o=n.defaultWidth,i=n.fixedHeight,s=n.fixedWidth,l=n.keyMapper,u=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===s,this._minHeight=u||0,this._minWidth=c||0,this._keyMapper=l||nt,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:tt),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:et)}l()(t,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(t,e);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(t,e);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(t,e,n,r){var o=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,e){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,e));var o=this._keyMapper(0,e);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(t,a));var s=this._keyMapper(t,0);this._rowHeightCache[s]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function nt(t,e){return t+"-"+e}var rt={OBSERVED:"observed",REQUESTED:"requested"},ot=function(t){function e(){var t;a()(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(r)));return s.state={isScrolling:!1,scrollLeft:0,scrollTop:0},s._calculateSizeAndPositionDataOnNextUpdate=!1,s._onSectionRenderedMemoizer=M(),s._onScrollMemoizer=M(!1),s._invokeOnSectionRenderedHelper=function(){var t=s.props,e=t.cellLayoutManager,n=t.onSectionRendered;s._onSectionRenderedMemoizer({callback:n,indices:{indices:e.getLastRenderedIndices()}})},s._setScrollingContainerRef=function(t){s._scrollingContainer=t},s._updateScrollPositionForScrollToCell=function(){var t=s.props,e=t.cellLayoutManager,n=t.height,r=t.scrollToAlignment,o=t.scrollToCell,i=t.width,a=s.state,l=a.scrollLeft,u=a.scrollTop;if(o>=0){var c=e.getScrollPositionForCell({align:r,cellIndex:o,height:n,scrollLeft:l,scrollTop:u,width:i});c.scrollLeft===l&&c.scrollTop===u||s._setScrollPosition(c)}},s._onScroll=function(t){if(t.target===s._scrollingContainer){s._enablePointerEventsAfterDelay();var e=s.props,n=e.cellLayoutManager,r=e.height,o=e.isScrollingChange,i=e.width,a=s._scrollbarSize,l=n.getTotalSize(),u=l.height,c=l.width,p=Math.max(0,Math.min(c-i+a,t.target.scrollLeft)),h=Math.max(0,Math.min(u-r+a,t.target.scrollTop));if(s.state.scrollLeft!==p||s.state.scrollTop!==h){var f=t.cancelable?rt.OBSERVED:rt.REQUESTED;s.state.isScrolling||o(!0),s.setState({isScrolling:!0,scrollLeft:p,scrollPositionChangeReason:f,scrollTop:h})}s._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:h,totalWidth:c,totalHeight:u})}},s._scrollbarSize=D()(),void 0===s._scrollbarSize?(s._scrollbarSizeMeasured=!1,s._scrollbarSize=0):s._scrollbarSizeMeasured=!0,s}return h()(e,t),l()(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var t=this.props,e=t.cellLayoutManager,n=t.scrollLeft,r=t.scrollToCell,o=t.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=D()(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=e.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(t,e){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,s=this.state,l=s.scrollLeft,u=s.scrollPositionChangeReason,c=s.scrollTop;u===rt.REQUESTED&&(l>=0&&l!==e.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),c>=0&&c!==e.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),r===t.height&&o===t.scrollToAlignment&&i===t.scrollToCell&&a===t.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var t=this.props,e=t.autoHeight,n=t.cellCount,r=t.cellLayoutManager,o=t.className,i=t.height,a=t.horizontalOverscanSize,s=t.id,l=t.noContentRenderer,u=t.style,c=t.verticalOverscanSize,p=t.width,h=this.state,d=h.isScrolling,m=h.scrollLeft,g=h.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==r||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=r,this._calculateSizeAndPositionDataOnNextUpdate=!1,r.calculateSizeAndPositionData());var v=r.getTotalSize(),b=v.height,x=v.width,w=Math.max(0,m-a),S=Math.max(0,g-c),C=Math.min(x,m+p+a),T=Math.min(b,g+i+c),k=i>0&&p>0?r.cellRenderers({height:T-S,isScrolling:d,width:C-w,x:w,y:S}):[],O={boxSizing:"border-box",direction:"ltr",height:e?"auto":i,position:"relative",WebkitOverflowScrolling:"touch",width:p,willChange:"transform"},E=b>i?this._scrollbarSize:0,M=x>p?this._scrollbarSize:0;return O.overflowX=x+E<=p?"hidden":"auto",O.overflowY=b+M<=i?"hidden":"auto",f.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_()("ReactVirtualized__Collection",o),id:s,onScroll:this._onScroll,role:"grid",style:y()({},O,u),tabIndex:0},n>0&&f.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:b,maxHeight:b,maxWidth:x,overflow:"hidden",pointerEvents:d?"none":"",width:x}},k),0===n&&l())}},{key:"_enablePointerEventsAfterDelay",value:function(){var t=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){(0,t.props.isScrollingChange)(!1),t._disablePointerEventsTimeoutId=null,t.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(t){var e=this,n=t.scrollLeft,r=t.scrollTop,o=t.totalHeight,i=t.totalWidth;this._onScrollMemoizer({callback:function(t){var n=t.scrollLeft,r=t.scrollTop,a=e.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(t){var e=t.scrollLeft,n=t.scrollTop,r={scrollPositionChangeReason:rt.REQUESTED};e>=0&&(r.scrollLeft=e),n>=0&&(r.scrollTop=n),(e>=0&&e!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return 0!==t.cellCount||0===e.scrollLeft&&0===e.scrollTop?t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop?t.scrollTop:e.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),e}(f.PureComponent);ot.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},ot.propTypes={},Object(d.polyfill)(ot);var it=ot,at=function(){function t(e){var n=e.height,r=e.width,o=e.x,i=e.y;a()(this,t),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}return l()(t,[{key:"addCellIndex",value:function(t){var e=t.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),t}(),st=100,lt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st;a()(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return l()(t,[{key:"getCellIndices",value:function(t){var e=t.height,n=t.width,r=t.x,o=t.y,i={};return this.getSections({height:e,width:n,x:r,y:o}).forEach(function(t){return t.getCellIndices().forEach(function(t){i[t]=t})}),E()(i).map(function(t){return i[t]})}},{key:"getCellMetadata",value:function(t){var e=t.index;return this._cellMetadata[e]}},{key:"getSections",value:function(t){for(var e=t.height,n=t.width,r=t.x,o=t.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),l=Math.floor((o+e-1)/this._sectionSize),u=[],c=i;c<=a;c++)for(var p=s;p<=l;p++){var h=c+"."+p;this._sections[h]||(this._sections[h]=new at({height:this._sectionSize,width:this._sectionSize,x:c*this._sectionSize,y:p*this._sectionSize})),u.push(this._sections[h])}return u}},{key:"getTotalSectionCount",value:function(){return E()(this._sections).length}},{key:"toString",value:function(){var t=this;return E()(this._sections).map(function(e){return t._sections[e].toString()})}},{key:"registerCell",value:function(t){var e=t.cellMetadatum,n=t.index;this._cellMetadata[n]=e,this.getSections(e).forEach(function(t){return t.addCellIndex({index:n})})}}]),t}();function ut(t){var e=t.align,n=void 0===e?"auto":e,r=t.cellOffset,o=t.cellSize,i=t.containerSize,a=t.currentOffset,s=r,l=s-i+o;switch(n){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}var ct=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return h()(e,t),l()(e,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var t=S()(this.props,[]);return f.createElement(it,y()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},t))}},{key:"calculateSizeAndPositionData",value:function(){var t=this.props,e=function(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,r=t.sectionSize,o=[],i=new lt(r),a=0,s=0,l=0;l<e;l++){var u=n({index:l});if(null==u.height||isNaN(u.height)||null==u.width||isNaN(u.width)||null==u.x||isNaN(u.x)||null==u.y||isNaN(u.y))throw Error("Invalid metadata returned for cell "+l+":\n        x:"+u.x+", y:"+u.y+", width:"+u.width+", height:"+u.height);a=Math.max(a,u.y+u.height),s=Math.max(s,u.x+u.width),o[l]=u,i.registerCell({cellMetadatum:u,index:l})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}({cellCount:t.cellCount,cellSizeAndPositionGetter:t.cellSizeAndPositionGetter,sectionSize:t.sectionSize});this._cellMetadata=e.cellMetadata,this._sectionManager=e.sectionManager,this._height=e.height,this._width=e.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(t){var e=t.align,n=t.cellIndex,r=t.height,o=t.scrollLeft,i=t.scrollTop,a=t.width,s=this.props.cellCount;if(n>=0&&n<s){var l=this._cellMetadata[n];o=ut({align:e,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:o,targetIndex:n}),i=ut({align:e,cellOffset:l.y,cellSize:l.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(t){var e=this,n=t.height,r=t.isScrolling,o=t.width,i=t.x,a=t.y,s=this.props,l=s.cellGroupRenderer,u=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:u,cellSizeAndPositionGetter:function(t){var n=t.index;return e._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(t){t||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(t){this._collectionView=t}}]),e}(f.PureComponent);ct.defaultProps={"aria-label":"grid",cellGroupRenderer:function(t){var e=t.cellCache,n=t.cellRenderer,r=t.cellSizeAndPositionGetter,o=t.indices,i=t.isScrolling;return o.map(function(t){var o=r({index:t}),a={index:t,isScrolling:i,key:t,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(t in e||(e[t]=n(a)),e[t]):n(a)}).filter(function(t){return!!t})}};ct.propTypes={};var pt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r._registerChild=r._registerChild.bind(r),r}return h()(e,t),l()(e,[{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width;n===t.columnMaxWidth&&r===t.columnMinWidth&&o===t.columnCount&&i===t.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width,a=r||1,s=n?Math.min(n,i):i,l=i/o;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),e({adjustedWidth:Math.min(i,l*o),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(t){if(t&&"function"!=typeof t.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=t,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),e}(f.PureComponent);pt.propTypes={};var ht=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r._loadMoreRowsMemoizer=M(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return h()(e,t),l()(e,[{key:"resetLoadMoreRowsCache",value:function(t){this._loadMoreRowsMemoizer=M(),t&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(t){var e=this,n=this.props.loadMoreRows;t.forEach(function(t){var r=n(t);r&&r.then(function(){var n,r,o,i,a;n={lastRenderedStartIndex:e._lastRenderedStartIndex,lastRenderedStopIndex:e._lastRenderedStopIndex,startIndex:t.startIndex,stopIndex:t.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||e._registeredChild&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof t.recomputeGridSize?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}(e._registeredChild,e._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(t){var e=t.startIndex,n=t.stopIndex;this._lastRenderedStartIndex=e,this._lastRenderedStopIndex=n,this._doStuff(e,n)}},{key:"_doStuff",value:function(t,e){var n=this,r=this.props,o=r.isRowLoaded,i=r.minimumBatchSize,a=r.rowCount,s=r.threshold,l=function(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,r=t.rowCount,o=t.startIndex,i=t.stopIndex,a=[],s=null,l=null,u=o;u<=i;u++){var c=e({index:u});c?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=u,null===s&&(s=u))}if(null!==l){for(var p=Math.min(Math.max(l,s+n-1),r-1),h=l+1;h<=p&&!e({index:h});h++)l=h;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var f=a[0];f.stopIndex-f.startIndex+1<n&&f.startIndex>0;){var d=f.startIndex-1;if(e({index:d}))break;f.startIndex=d}return a}({isRowLoaded:o,minimumBatchSize:i,rowCount:a,startIndex:Math.max(0,t-s),stopIndex:Math.min(a-1,e+s)}),u=l.reduce(function(t,e){return t.concat([e.startIndex,e.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function(){n._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(t){this._registeredChild=t}}]),e}(f.PureComponent);ht.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};ht.propTypes={};var ft=n(1197),dt=n.n(ft),mt=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r._cellRenderer=function(t){var e=t.parent,n=t.rowIndex,o=t.style,i=t.isScrolling,a=t.isVisible,s=t.key,l=r.props.rowRenderer;return dt()(o,"width").writable&&(o.width="100%"),l({index:n,style:o,isScrolling:i,isVisible:a,key:s,parent:e})},r._setRef=function(t){r.Grid=t},r._onScroll=function(t){var e=t.clientHeight,n=t.scrollHeight,o=t.scrollTop;(0,r.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:o})},r._onSectionRendered=function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,o=t.rowStartIndex,i=t.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:o,stopIndex:i})},i=n,c()(r,i)}return h()(e,t),l()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t,columnIndex:0})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.noRowsRenderer,r=t.scrollToIndex,o=t.width,i=_()("ReactVirtualized__List",e);return f.createElement(q,y()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),e}(f.PureComponent);mt.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:Z,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},mt.propTypes=null;var gt=n(1032),vt=n.n(gt),yt=n(1200),bt=n.n(yt);var _t={ge:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1;o(t[a],r)>=0?(i=a,n=a-1):e=a+1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1;t[i]>=r?(o=i,n=i-1):e=i+1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},gt:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=n+1;e<=n;){var a=e+n>>>1;o(t[a],r)>0?(i=a,n=a-1):e=a+1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=n+1;e<=n;){var i=e+n>>>1;t[i]>r?(o=i,n=i-1):e=i+1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},lt:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1;o(t[a],r)<0?(i=a,e=a+1):n=a-1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1;t[i]<r?(o=i,e=i+1):n=i-1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},le:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(var i=e-1;e<=n;){var a=e+n>>>1;o(t[a],r)<=0?(i=a,e=a+1):n=a-1}return i}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(var o=e-1;e<=n;){var i=e+n>>>1;t[i]<=r?(o=i,e=i+1):n=i-1}return o}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)},eq:function(t,e,n,r,o){return"function"==typeof n?function(t,e,n,r,o){for(;e<=n;){var i=e+n>>>1,a=o(t[i],r);if(0===a)return i;a<=0?e=i+1:n=i-1}return-1}(t,void 0===r?0:0|r,void 0===o?t.length-1:0|o,e,n):function(t,e,n,r){for(;e<=n;){var o=e+n>>>1,i=t[o];if(i===r)return o;i<=r?e=o+1:n=o-1}return-1}(t,void 0===n?0:0|n,void 0===r?t.length-1:0|r,e)}},xt=0,wt=1;function St(t,e,n,r,o){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var Ct=St.prototype;function Tt(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function kt(t,e){var n=Ft(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function Ot(t,e){var n=t.intervals([]);n.push(e),kt(t,n)}function Et(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?xt:(n.splice(r,1),kt(t,n),wt)}function Mt(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var o=n(t[r]);if(o)return o}}function It(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var o=n(t[r]);if(o)return o}}function At(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function Pt(t,e){return t-e}function Dt(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Rt(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function Ft(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(Pt);var r=e[e.length>>1],o=[],i=[],a=[];for(n=0;n<t.length;++n){var s=t[n];s[1]<r?o.push(s):r<s[0]?i.push(s):a.push(s)}var l=a,u=a.slice();return l.sort(Dt),u.sort(Rt),new St(r,Ft(o),Ft(i),l,u)}function zt(t){this.root=t}Ct.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},Ct.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?Ot(this,t):this.left.insert(t):this.left=Ft([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?Ot(this,t):this.right.insert(t):this.right=Ft([t]);else{var n=_t.ge(this.leftPoints,t,Dt),r=_t.ge(this.rightPoints,t,Rt);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}},Ct.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?Et(this,t):2===(i=this.left.remove(t))?(this.left=null,this.count-=1,wt):(i===wt&&(this.count-=1),i):xt;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?Et(this,t):2===(i=this.right.remove(t))?(this.right=null,this.count-=1,wt):(i===wt&&(this.count-=1),i):xt;if(1===this.count)return this.leftPoints[0]===t?2:xt;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}Tt(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Tt(this,this.left):Tt(this,this.right);return wt}for(o=_t.ge(this.leftPoints,t,Dt);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(i=_t.ge(this.rightPoints,t,Rt);i<this.rightPoints.length&&this.rightPoints[i][1]===t[1];++i)if(this.rightPoints[i]===t)return this.rightPoints.splice(i,1),wt}return xt},Ct.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return Mt(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return It(this.rightPoints,t,e)}return At(this.leftPoints,e)},Ct.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?Mt(this.leftPoints,e,n):t>this.mid?It(this.rightPoints,t,n):At(this.leftPoints,n)};var jt=zt.prototype;jt.insert=function(t){this.root?this.root.insert(t):this.root=new St(t[0],null,null,[t],[t])},jt.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==xt}return!1},jt.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},jt.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(jt,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(jt,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Nt=function(){function t(){var e;a()(this,t),this._columnSizeMap={},this._intervalTree=e&&0!==e.length?new zt(Ft(e)):new zt(null),this._leftMap={}}return l()(t,[{key:"estimateTotalHeight",value:function(t,e,n){var r=t-this.count;return this.tallestColumnSize+Math.ceil(r/e)*n}},{key:"range",value:function(t,e,n){var r=this;this._intervalTree.queryInterval(t,t+e,function(t){var e=bt()(t,3),o=e[0],i=(e[1],e[2]);return n(i,r._leftMap[i],o)})}},{key:"setPosition",value:function(t,e,n,r){this._intervalTree.insert([n,n+r,t]),this._leftMap[t]=e;var o=this._columnSizeMap,i=o[e];o[e]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=0===e?r:Math.min(e,r)}return e}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,e=0;for(var n in t){var r=t[n];e=Math.max(e,r)}return e}}]),t}(),Lt=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r.state={isScrolling:!1,scrollTop:0},r._invalidateOnUpdateStartIndex=null,r._invalidateOnUpdateStopIndex=null,r._positionCache=new Nt,r._startIndex=null,r._startIndexMemoized=null,r._stopIndex=null,r._stopIndexMemoized=null,r._debounceResetIsScrollingCallback=function(){r.setState({isScrolling:!1})},r._setScrollingContainerRef=function(t){r._scrollingContainer=t},r._onScroll=function(t){var e=r.props.height,n=t.target.scrollTop,o=Math.min(Math.max(0,r._getEstimatedTotalHeight()-e),n);n===o&&(r._debounceResetIsScrolling(),r.state.scrollTop!==o&&r.setState({isScrolling:!0,scrollTop:o}))},i=n,c()(r,i)}return h()(e,t),l()(e,[{key:"clearCellPositions",value:function(){this._positionCache=new Nt,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=e,this._invalidateOnUpdateStopIndex=e):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,e),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,e))}},{key:"recomputeCellPositions",value:function(){var t=this._positionCache.count-1;this._positionCache=new Nt,this._populatePositionCache(0,t),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(t,e){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==t.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&H(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var t=this,e=this.props,n=e.autoHeight,r=e.cellCount,o=e.cellMeasurerCache,i=e.cellRenderer,a=e.className,s=e.height,l=e.id,u=e.keyMapper,c=e.overscanByPixels,p=e.role,h=e.style,d=e.tabIndex,m=e.width,g=e.rowDirection,v=this.state,b=v.isScrolling,x=v.scrollTop,w=[],S=this._getEstimatedTotalHeight(),C=this._positionCache.shortestColumnSize,T=this._positionCache.count,k=0,O=void 0;if(this._positionCache.range(Math.max(0,x-c),s+2*c,function(e,n,r){var a;void 0===O?(k=e,O=e):(k=Math.min(k,e),O=Math.max(O,e)),w.push(i({index:e,isScrolling:b,key:u(e),parent:t,style:(a={height:o.getHeight(e)},vt()(a,"ltr"===g?"left":"right",n),vt()(a,"position","absolute"),vt()(a,"top",r),vt()(a,"width",o.getWidth(e)),a)}))}),C<x+s+c&&T<r)for(var E=Math.min(r-T,Math.ceil((x+s+c-C)/o.defaultHeight*m/o.defaultWidth)),M=T;M<T+E;M++)O=M,w.push(i({index:M,isScrolling:b,key:u(M),parent:this,style:{width:o.getWidth(M)}}));return this._startIndex=k,this._stopIndex=O,f.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:_()("ReactVirtualized__Masonry",a),id:l,onScroll:this._onScroll,role:p,style:y()({boxSizing:"border-box",direction:"ltr",height:n?"auto":s,overflowX:"hidden",overflowY:S<s?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},h),tabIndex:d},f.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:S,maxWidth:"100%",maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"}},w))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var t=this._invalidateOnUpdateStartIndex,e=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(t,e),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var t=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&H(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=V(this._debounceResetIsScrollingCallback,t)}},{key:"_getEstimatedTotalHeight",value:function(){var t=this.props,e=t.cellCount,n=t.cellMeasurerCache,r=t.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(e,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var t=this.props,e=t.height,n=t.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:e,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(t,e){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=t;i<=e;i++){var a=o(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return void 0!==t.scrollTop&&e.scrollTop!==t.scrollTop?{isScrolling:!0,scrollTop:t.scrollTop}:null}}]),e}(f.PureComponent);function Bt(){}Lt.defaultProps={autoHeight:!1,keyMapper:function(t){return t},onCellsRendered:Bt,onScroll:Bt,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Lt.propTypes=null;Object(d.polyfill)(Lt);var Ht=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,t),this.columnWidth=function(t){var n=t.index;e._cellMeasurerCache.columnWidth({index:n+e._columnIndexOffset})},this.rowHeight=function(t){var n=t.index;e._cellMeasurerCache.rowHeight({index:n+e._rowIndexOffset})};var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=void 0===o?0:o,s=n.rowIndexOffset,l=void 0===s?0:s;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=l}return l()(t,[{key:"clear",value:function(t,e){this._cellMeasurerCache.clear(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function(t,e,n,r){this._cellMeasurerCache.set(t+this._rowIndexOffset,e+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}(),Vt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));Wt.call(r);var i=t.deferredMeasurementCache,s=t.fixedColumnCount,l=t.fixedRowCount;return r._maybeCalculateCachedStyles(!0),i&&(r._deferredMeasurementCacheBottomLeftGrid=l>0?new Ht({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:l}):i,r._deferredMeasurementCacheBottomRightGrid=s>0||l>0?new Ht({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:l}):i,r._deferredMeasurementCacheTopRightGrid=s>0?new Ht({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:0}):i),r}return h()(e,t),l()(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,n-a),u=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:u}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:u}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.scrollLeft,n=t.scrollTop;if(e>0||n>0){var r={};e>0&&(r.scrollLeft=e),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var t=this.props,e=t.onScroll,n=t.onSectionRendered,r=(t.onScrollbarPresenceChange,t.scrollLeft,t.scrollToColumn),o=(t.scrollTop,t.scrollToRow),i=S()(t,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var a=this.state,s=a.scrollLeft,l=a.scrollTop;return f.createElement("div",{style:this._containerOuterStyle},f.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(i),this._renderTopRightGrid(y()({},i,{onScroll:e,scrollLeft:s}))),f.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(y()({},i,{onScroll:e,scrollTop:l})),this._renderBottomRightGrid(y()({},i,{onScroll:e,onSectionRendered:n,scrollLeft:s,scrollToColumn:r,scrollToRow:o,scrollTop:l}))))}},{key:"_getBottomGridHeight",value:function(t){return t.height-this._getTopGridHeight(t)}},{key:"_getLeftGridWidth",value:function(t){var e=t.fixedColumnCount,n=t.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<e;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*e;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(t){return t.width-this._getLeftGridWidth(t)}},{key:"_getTopGridHeight",value:function(t){var e=t.fixedRowCount,n=t.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<e;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*e;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var t=this._deferredInvalidateColumnIndex,e=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:t,rowIndex:e}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(t){var e=this.props,n=e.columnWidth,r=e.enableFixedColumnScroll,o=e.enableFixedRowScroll,i=e.height,a=e.fixedColumnCount,s=e.fixedRowCount,l=e.rowHeight,u=e.style,c=e.styleBottomLeftGrid,p=e.styleBottomRightGrid,h=e.styleTopLeftGrid,f=e.styleTopRightGrid,d=e.width,m=t||i!==this._lastRenderedHeight||d!==this._lastRenderedWidth,g=t||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,v=t||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(t||m||u!==this._lastRenderedStyle)&&(this._containerOuterStyle=y()({height:i,overflow:"visible",width:d},u)),(t||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:d},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:d}),(t||c!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=y()({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},c)),(t||g||p!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=y()({left:this._getLeftGridWidth(this.props),position:"absolute"},p)),(t||h!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=y()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},h)),(t||g||f!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=y()({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},f)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=l,this._lastRenderedStyle=u,this._lastRenderedStyleBottomLeftGrid=c,this._lastRenderedStyleBottomRightGrid=p,this._lastRenderedStyleTopLeftGrid=h,this._lastRenderedStyleTopRightGrid=f,this._lastRenderedWidth=d}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(t){var e=t.enableFixedColumnScroll,n=t.fixedColumnCount,r=t.fixedRowCount,o=t.rowCount,i=t.hideBottomLeftGridScrollbar,a=this.state.showVerticalScrollbar;if(!n)return null;var s=a?1:0,l=this._getBottomGridHeight(t),u=this._getLeftGridWidth(t),c=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,p=i?u+c:u,h=f.createElement(q,y()({},t,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:l,onScroll:e?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,o-r)+s,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:p}));return i?f.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:y()({},this._bottomLeftGridStyle,{height:l,width:u,overflowY:"hidden"})},h):h}},{key:"_renderBottomRightGrid",value:function(t){var e=t.columnCount,n=t.fixedColumnCount,r=t.fixedRowCount,o=t.rowCount,i=t.scrollToColumn,a=t.scrollToRow;return f.createElement(q,y()({},t,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,e-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(t),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,o-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:i-n,scrollToRow:a-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(t)}))}},{key:"_renderTopLeftGrid",value:function(t){var e=t.fixedColumnCount,n=t.fixedRowCount;return e&&n?f.createElement(q,y()({},t,{className:this.props.classNameTopLeftGrid,columnCount:e,height:this._getTopGridHeight(t),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(t)})):null}},{key:"_renderTopRightGrid",value:function(t){var e=t.columnCount,n=t.enableFixedRowScroll,r=t.fixedColumnCount,o=t.fixedRowCount,i=t.scrollLeft,a=t.hideTopRightGridScrollbar,s=this.state,l=s.showHorizontalScrollbar,u=s.scrollbarSize;if(!o)return null;var c=l?1:0,p=this._getTopGridHeight(t),h=this._getRightGridWidth(t),d=l?u:0,m=p,g=this._topRightGridStyle;a&&(m=p+d,g=y()({},this._topRightGridStyle,{left:0}));var v=f.createElement(q,y()({},t,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,e-r)+c,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:o,scrollLeft:i,style:g,tabIndex:null,width:h}));return a?f.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:y()({},this._topRightGridStyle,{height:p,width:h,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.scrollLeft!==e.scrollLeft||t.scrollTop!==e.scrollTop?{scrollLeft:null!=t.scrollLeft&&t.scrollLeft>=0?t.scrollLeft:e.scrollLeft,scrollTop:null!=t.scrollTop&&t.scrollTop>=0?t.scrollTop:e.scrollTop}:null}}]),e}(f.PureComponent);Vt.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Wt=function(){var t=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(e){t._bottomLeftGrid=e},this._bottomRightGridRef=function(e){t._bottomRightGrid=e},this._cellRendererBottomLeftGrid=function(e){var n=e.rowIndex,r=S()(e,["rowIndex"]),o=t.props,i=o.cellRenderer,a=o.fixedRowCount;return n===o.rowCount-a?f.createElement("div",{key:r.key,style:y()({},r.style,{height:20})}):i(y()({},r,{parent:t,rowIndex:n+a}))},this._cellRendererBottomRightGrid=function(e){var n=e.columnIndex,r=e.rowIndex,o=S()(e,["columnIndex","rowIndex"]),i=t.props,a=i.cellRenderer,s=i.fixedColumnCount,l=i.fixedRowCount;return a(y()({},o,{columnIndex:n+s,parent:t,rowIndex:r+l}))},this._cellRendererTopRightGrid=function(e){var n=e.columnIndex,r=S()(e,["columnIndex"]),o=t.props,i=o.cellRenderer,a=o.columnCount,s=o.fixedColumnCount;return n===a-s?f.createElement("div",{key:r.key,style:y()({},r.style,{width:20})}):i(y()({},r,{columnIndex:n+s,parent:t}))},this._columnWidthRightGrid=function(e){var n=e.index,r=t.props,o=r.columnCount,i=r.fixedColumnCount,a=r.columnWidth,s=t.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&n===o-i?l:"function"==typeof a?a({index:n+i}):a},this._onScroll=function(e){var n=e.scrollLeft,r=e.scrollTop;t.setState({scrollLeft:n,scrollTop:r});var o=t.props.onScroll;o&&o(e)},this._onScrollbarPresenceChange=function(e){var n=e.horizontal,r=e.size,o=e.vertical,i=t.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(n!==a||o!==s){t.setState({scrollbarSize:r,showHorizontalScrollbar:n,showVerticalScrollbar:o});var l=t.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:n,size:r,vertical:o})}},this._onScrollLeft=function(e){var n=e.scrollLeft;t._onScroll({scrollLeft:n,scrollTop:t.state.scrollTop})},this._onScrollTop=function(e){var n=e.scrollTop;t._onScroll({scrollTop:n,scrollLeft:t.state.scrollLeft})},this._rowHeightBottomGrid=function(e){var n=e.index,r=t.props,o=r.fixedRowCount,i=r.rowCount,a=r.rowHeight,s=t.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&n===i-o?l:"function"==typeof a?a({index:n+o}):a},this._topLeftGridRef=function(e){t._topLeftGrid=e},this._topRightGridRef=function(e){t._topRightGrid=e}};Vt.propTypes={},Object(d.polyfill)(Vt);var Gt=function(t){function e(t,n){a()(this,e);var r=c()(this,(e.__proto__||o()(e)).call(this,t,n));return r.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return h()(e,t),l()(e,[{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.clientHeight,r=e.clientWidth,o=e.scrollHeight,i=e.scrollLeft,a=e.scrollTop,s=e.scrollWidth;return t({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.clientWidth,r=t.scrollHeight,o=t.scrollLeft,i=t.scrollTop,a=t.scrollWidth;this.setState({clientHeight:e,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),e}(f.PureComponent);Gt.propTypes={};function Ut(t){var e=t.className,n=t.columns,r=t.style;return f.createElement("div",{className:e,role:"row",style:r},n)}Ut.propTypes=null;var qt={ASC:"ASC",DESC:"DESC"};function Kt(t){var e=t.sortDirection,n=_()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===qt.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===qt.DESC});return f.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===qt.ASC?f.createElement("path",{d:"M7 14l5-5 5 5z"}):f.createElement("path",{d:"M7 10l5 5 5-5z"}),f.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Zt(t){var e=t.dataKey,n=t.label,r=t.sortBy,o=t.sortDirection,i=r===e,a=[f.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:n},n)];return i&&a.push(f.createElement(Kt,{key:"SortIndicator",sortDirection:o})),a}function Yt(t){var e=t.className,n=t.columns,r=t.index,o=t.key,i=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,l=t.onRowMouseOver,u=t.onRowRightClick,c=t.rowData,p=t.style,h={"aria-rowindex":r+1};return(i||a||s||l||u)&&(h["aria-label"]="row",h.tabIndex=0,i&&(h.onClick=function(t){return i({event:t,index:r,rowData:c})}),a&&(h.onDoubleClick=function(t){return a({event:t,index:r,rowData:c})}),s&&(h.onMouseOut=function(t){return s({event:t,index:r,rowData:c})}),l&&(h.onMouseOver=function(t){return l({event:t,index:r,rowData:c})}),u&&(h.onContextMenu=function(t){return u({event:t,index:r,rowData:c})})),f.createElement("div",y()({},h,{className:e,key:o,role:"row",style:p}),n)}Kt.propTypes={},Zt.propTypes=null,Yt.propTypes=null;var Xt=function(t){function e(){return a()(this,e),c()(this,(e.__proto__||o()(e)).apply(this,arguments))}return h()(e,t),e}(f.Component);Xt.defaultProps={cellDataGetter:function(t){var e=t.dataKey,n=t.rowData;return"function"==typeof n.get?n.get(e):n[e]},cellRenderer:function(t){var e=t.cellData;return null==e?"":String(e)},defaultSortDirection:qt.ASC,flexGrow:0,flexShrink:1,headerRenderer:Zt,style:{}};var $t=Xt;Xt.propTypes={};var Jt=function(t){function e(t){a()(this,e);var n=c()(this,(e.__proto__||o()(e)).call(this,t));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return h()(e,t),l()(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(t){var e=t.alignment,n=t.index;return this.Grid?this.Grid.getOffsetForCell({alignment:e,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(t){var e=t.columnIndex,n=t.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:e})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.columnIndex,n=void 0===e?0:e,r=t.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:t})}},{key:"scrollToPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:t})}},{key:"scrollToRow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:t})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=e.className,o=e.disableHeader,i=e.gridClassName,a=e.gridStyle,s=e.headerHeight,l=e.headerRowRenderer,u=e.height,c=e.id,p=e.noRowsRenderer,h=e.rowClassName,d=e.rowStyle,m=e.scrollToIndex,g=e.style,v=e.width,b=this.state.scrollbarWidth,x=o?u:u-s,w="function"==typeof h?h({index:-1}):h,S="function"==typeof d?d({index:-1}):d;return this._cachedColumnStyles=[],f.Children.toArray(n).forEach(function(e,n){var r=t._getFlexStyleForColumn(e,e.props.style);t._cachedColumnStyles[n]=y()({},r,{overflow:"hidden"})}),f.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":f.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:_()("ReactVirtualized__Table",r),id:c,role:"grid",style:g},!o&&l({className:_()("ReactVirtualized__Table__headerRow",w),columns:this._getHeaderColumns(),style:y()({height:s,overflow:"hidden",paddingRight:b,width:v},S)}),f.createElement(q,y()({},this.props,{autoContainerWidth:!0,className:_()("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:v,columnCount:1,height:x,id:void 0,noContentRenderer:p,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:b,scrollToRow:m,style:y()({},a,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(t){var e=t.column,n=t.columnIndex,r=t.isScrolling,o=t.parent,i=t.rowData,a=t.rowIndex,s=this.props.onColumnClick,l=e.props,u=l.cellDataGetter,c=l.cellRenderer,p=l.className,h=l.columnData,d=l.dataKey,m=l.id,g=c({cellData:u({columnData:h,dataKey:d,rowData:i}),columnData:h,columnIndex:n,dataKey:d,isScrolling:r,parent:o,rowData:i,rowIndex:a}),v=this._cachedColumnStyles[n],y="string"==typeof g?g:null;return f.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:_()("ReactVirtualized__Table__rowColumn",p),key:"Row"+a+"-Col"+n,onClick:function(t){s&&s({columnData:h,dataKey:d,event:t})},role:"gridcell",style:v,title:y},g)}},{key:"_createHeader",value:function(t){var e=t.column,n=t.index,r=this.props,o=r.headerClassName,i=r.headerStyle,a=r.onHeaderClick,s=r.sort,l=r.sortBy,u=r.sortDirection,c=e.props,p=c.columnData,h=c.dataKey,d=c.defaultSortDirection,m=c.disableSort,g=c.headerRenderer,v=c.id,b=c.label,x=!m&&s,w=_()("ReactVirtualized__Table__headerColumn",o,e.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:x}),S=this._getFlexStyleForColumn(e,y()({},i,e.props.headerStyle)),C=g({columnData:p,dataKey:h,disableSort:m,label:b,sortBy:l,sortDirection:u}),T=void 0,k=void 0,O=void 0,E=void 0,M=void 0;if(x||a){var I=l!==h?d:u===qt.DESC?qt.ASC:qt.DESC,A=function(t){x&&s({defaultSortDirection:d,event:t,sortBy:h,sortDirection:I}),a&&a({columnData:p,dataKey:h,event:t})};M=e.props["aria-label"]||b||h,E="none",O=0,T=A,k=function(t){"Enter"!==t.key&&" "!==t.key||A(t)}}return l===h&&(E=u===qt.ASC?"ascending":"descending"),f.createElement("div",{"aria-label":M,"aria-sort":E,className:w,id:v,key:"Header-Col"+n,onClick:T,onKeyDown:k,role:"columnheader",style:S,tabIndex:O},C)}},{key:"_createRow",value:function(t){var e=this,n=t.rowIndex,r=t.isScrolling,o=t.key,i=t.parent,a=t.style,s=this.props,l=s.children,u=s.onRowClick,c=s.onRowDoubleClick,p=s.onRowRightClick,h=s.onRowMouseOver,d=s.onRowMouseOut,m=s.rowClassName,g=s.rowGetter,v=s.rowRenderer,b=s.rowStyle,x=this.state.scrollbarWidth,w="function"==typeof m?m({index:n}):m,S="function"==typeof b?b({index:n}):b,C=g({index:n}),T=f.Children.toArray(l).map(function(t,o){return e._createColumn({column:t,columnIndex:o,isScrolling:r,parent:i,rowData:C,rowIndex:n,scrollbarWidth:x})}),k=_()("ReactVirtualized__Table__row",w),O=y()({},a,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:x},S);return v({className:k,columns:T,index:n,isScrolling:r,key:o,onRowClick:u,onRowDoubleClick:c,onRowRightClick:p,onRowMouseOver:h,onRowMouseOut:d,rowData:C,style:O})}},{key:"_getFlexStyleForColumn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.props.flexGrow+" "+t.props.flexShrink+" "+t.props.width+"px",r=y()({},e,{flex:n,msFlex:n,WebkitFlex:n});return t.props.maxWidth&&(r.maxWidth=t.props.maxWidth),t.props.minWidth&&(r.minWidth=t.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var t=this,e=this.props,n=e.children;return(e.disableHeader?[]:f.Children.toArray(n)).map(function(e,n){return t._createHeader({column:e,index:n})})}},{key:"_getRowHeight",value:function(t){var e=this.props.rowHeight;return"function"==typeof e?e({index:t}):e}},{key:"_onScroll",value:function(t){var e=t.clientHeight,n=t.scrollHeight,r=t.scrollTop;(0,this.props.onScroll)({clientHeight:e,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(t){var e=t.rowOverscanStartIndex,n=t.rowOverscanStopIndex,r=t.rowStartIndex,o=t.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:e,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(t){this.Grid=t}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var t=Object(J.findDOMNode)(this.Grid),e=t.clientWidth||0,n=(t.offsetWidth||0)-e;this.setState({scrollbarWidth:n})}}}]),e}(f.PureComponent);Jt.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:Z,overscanRowCount:10,rowRenderer:Yt,headerRowRenderer:Ut,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};var Qt=Jt;Jt.propTypes={};var te=[],ee=null,ne=null;function re(){ne&&(ne=null,document.body&&null!=ee&&(document.body.style.pointerEvents=ee),ee=null)}function oe(){re(),te.forEach(function(t){return t.__resetIsScrolling()})}function ie(t){t.currentTarget===window&&null==ee&&document.body&&(ee=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){ne&&H(ne);var t=0;te.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),ne=V(oe,t)}(),te.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function ae(t,e){te.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",ie),te.push(t)}function se(t,e){(te=te.filter(function(e){return e!==t})).length||(e.removeEventListener("scroll",ie),ne&&(H(ne),re()))}var le=function(t){return t===window},ue=function(t){return t.getBoundingClientRect()};function ce(t,e){if(t){if(le(t)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return ue(t)}return{height:e.serverHeight,width:e.serverWidth}}function pe(t){return le(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var he=function(){return"undefined"!=typeof window?window:void 0},fe=function(t){function e(){var t,n,r,i;a()(this,e);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=c()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(l))),r._window=he(),r._isMounted=!1,r._positionFromTop=0,r._positionFromLeft=0,r.state=y()({},ce(r.props.scrollElement,r.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),r._registerChild=function(t){!t||t instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=t,r.updatePosition()},r._onChildScroll=function(t){var e=t.scrollTop;if(r.state.scrollTop!==e){var n=r.props.scrollElement;n&&("function"==typeof n.scrollTo?n.scrollTo(0,e+r._positionFromTop):n.scrollTop=e+r._positionFromTop)}},r._registerResizeListener=function(t){t===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(t,r._onResize)},r._unregisterResizeListener=function(t){t===window?window.removeEventListener("resize",r._onResize,!1):t&&r._detectElementResize.removeResizeListener(t,r._onResize)},r._onResize=function(){r.updatePosition()},r.__handleWindowScrollEvent=function(){if(r._isMounted){var t=r.props.onScroll,e=r.props.scrollElement;if(e){var n=pe(e),o=Math.max(0,n.left-r._positionFromLeft),i=Math.max(0,n.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),t({scrollLeft:o,scrollTop:i})}}},r.__resetIsScrolling=function(){r.setState({isScrolling:!1})},i=n,c()(r,i)}return h()(e,t),l()(e,[{key:"updatePosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,e=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||J.findDOMNode(this);if(i instanceof Element&&t){var a=function(t,e){if(le(e)&&document.documentElement){var n=document.documentElement,r=ue(t),o=ue(n);return{top:r.top-o.top,left:r.left-o.left}}var i=pe(e),a=ue(t),s=ue(e);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}(i,t);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=ce(t,this.props);r===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),e({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var t=this.props.scrollElement;this._detectElementResize=Object(X.a)(),this.updatePosition(t),t&&(ae(this,t),this._registerResizeListener(t)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(t,e){var n=this.props.scrollElement,r=t.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),se(this,r),ae(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var t=this.props.scrollElement;t&&(se(this,t),this._unregisterResizeListener(t)),this._isMounted=!1}},{key:"render",value:function(){var t=this.props.children,e=this.state,n=e.isScrolling,r=e.scrollTop,o=e.scrollLeft,i=e.height,a=e.width;return t({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:o,scrollTop:r,width:a})}}]),e}(f.PureComponent);fe.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:he(),serverHeight:0,serverWidth:0},fe.propTypes=null;n.d(e,"c",function(){return Qt}),n.d(e,"a",function(){return $t}),n.d(e,"b",function(){return qt})},817:function(t,e,n){"use strict";var r=n(1042).Collapse,o=n(1164).UnmountClosed;o.Collapse=r,o.UnmountClosed=o,t.exports=o},818:function(t,e){(function(e){t.exports=e}).call(this,{})},885:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]="number"==typeof t[n]?t[n]:t[n].val);return e},t.exports=e.default},893:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=0);return e},t.exports=e.default},894:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n,o,i,a,s){var l=n+(-i*(e-o)+-a*n)*t,u=e+l*t;if(Math.abs(l)<s&&Math.abs(u-o)<s)return r[0]=o,r[1]=0,r;return r[0]=u,r[1]=l,r};var r=[0,0];t.exports=e.default},895:function(t,e,n){(function(e){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},r=e.hrtime,o=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(229))},896:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(0!==n[r])return!1;var o="number"==typeof e[r]?e[r]:e[r].val;if(t[r]!==o)return!1}return!0},t.exports=e.default},897:function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},898:function(t,e,n){var r=n(722),o=n(630),i=n(785);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},899:function(t,e,n){t.exports={default:n(1183),__esModule:!0}},900:function(t,e,n){"use strict";var r=n(736);function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}}}]);