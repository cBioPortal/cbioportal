(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{509:function(t,e,n){"use strict";n.d(e,"a",function(){return y}),n.d(e,"c",function(){return b});var o=n(0),r=n(819),i=(n(533),n(10)),a=n.n(i),s=(n(716),n(18));function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},h=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},y=.5,m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,c(e).apply(this,arguments))}var n,i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o["Component"]),n=e,(i=[{key:"render",value:function(){var t=this.props,e=t.disabled,n=t.visible,i=h(t,["disabled","visible"]);return e&&(n=!1),void 0!==n&&(i.visible=n),o.createElement(r.default,i)}}])&&l(n.prototype,i),a&&l(n,a),e}();function b(t){var e=t.querySelector(".rc-tooltip-arrow");this.getRootDomNode();e.style.left="10px"}m.defaultProps={mouseEnterDelay:y,mouseLeaveDelay:.05,arrowContent:o.createElement("div",{className:"rc-tooltip-arrow-inner"}),onPopupAlign:function(t,e){var n=t.querySelector("div.rc-tooltip-arrow"),o=this.getRootDomNode();if(n&&e&&e.points&&e.points[1]&&"c"===e.points[1][1]){var r=a()(o).offset(),i=a()(o).width(),s=a()(t).offset(),l=r.left-s.left;n.style.left="".concat(l+i/2,"px")}}},m=f([s.observer],m),e.b=m},513:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return h}),n.d(e,"g",function(){return y}),n.d(e,"a",function(){return m}),n.d(e,"c",function(){return b}),n.d(e,"f",function(){return v}),n.d(e,"e",function(){return E}),n.d(e,"d",function(){return P}),n.d(e,"z",function(){return C}),n.d(e,"lb",function(){return T}),n.d(e,"r",function(){return O}),n.d(e,"eb",function(){return N}),n.d(e,"u",function(){return A}),n.d(e,"F",function(){return D}),n.d(e,"A",function(){return I}),n.d(e,"B",function(){return k}),n.d(e,"H",function(){return x}),n.d(e,"Y",function(){return M}),n.d(e,"bb",function(){return L}),n.d(e,"kb",function(){return B}),n.d(e,"E",function(){return R}),n.d(e,"p",function(){return j}),n.d(e,"o",function(){return F}),n.d(e,"fb",function(){return U}),n.d(e,"t",function(){return H}),n.d(e,"s",function(){return q}),n.d(e,"hb",function(){return W}),n.d(e,"cb",function(){return Y}),n.d(e,"q",function(){return X}),n.d(e,"ab",function(){return Z}),n.d(e,"x",function(){return nt}),n.d(e,"L",function(){return ot}),n.d(e,"M",function(){return rt}),n.d(e,"m",function(){return it}),n.d(e,"l",function(){return at}),n.d(e,"N",function(){return st}),n.d(e,"v",function(){return ut}),n.d(e,"w",function(){return ct}),n.d(e,"i",function(){return pt}),n.d(e,"I",function(){return dt}),n.d(e,"R",function(){return ft}),n.d(e,"Z",function(){return ht}),n.d(e,"O",function(){return yt}),n.d(e,"X",function(){return mt}),n.d(e,"S",function(){return bt}),n.d(e,"D",function(){return gt}),n.d(e,"h",function(){return vt}),n.d(e,"P",function(){return wt}),n.d(e,"gb",function(){return Et}),n.d(e,"J",function(){return Pt}),n.d(e,"U",function(){return St}),n.d(e,"T",function(){return Ct}),n.d(e,"n",function(){return Tt}),n.d(e,"ib",function(){return Ot}),n.d(e,"K",function(){return Nt}),n.d(e,"k",function(){return It}),n.d(e,"j",function(){return kt}),n.d(e,"jb",function(){return xt}),n.d(e,"G",function(){return Mt}),n.d(e,"C",function(){return Lt}),n.d(e,"W",function(){return Bt}),n.d(e,"V",function(){return Rt}),n.d(e,"Q",function(){return jt}),n.d(e,"db",function(){return Ft}),n.d(e,"y",function(){return Vt});var o=n(9),r=n.n(o),i=n(0),a=n(15),s=n(68),l=(n(154),n(562)),u=n(531),c=n(520),p=n(656),d=n.n(p);function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h,y,m,b;!function(t){t.SAMPLE="SAMPLE",t.PATIENT="PATIENT"}(h||(h={})),function(t){t.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",t.FUSION_GENES_TABLE="FUSION_GENES_TABLE",t.CNA_GENES_TABLE="CNA_GENES_TABLE",t.CUSTOM_SELECT="CUSTOM_SELECT",t.SELECTED_COMPARISON_GROUPS="SELECTED_COMPARISON_GROUPS",t.MUTATION_COUNT_CNA_FRACTION="MUTATION_COUNT_CNA_FRACTION",t.DISEASE_FREE_SURVIVAL="DFS_SURVIVAL",t.OVERALL_SURVIVAL="OS_SURVIVAL",t.CANCER_STUDIES="CANCER_STUDIES",t.MUTATION_COUNT="SAMPLE_MUTATION_COUNT",t.FRACTION_GENOME_ALTERED="SAMPLE_FRACTION_GENOME_ALTERED",t.WITH_MUTATION_DATA="WITH_MUTATION_DATA",t.WITH_FUSION_DATA="WITH_FUSION_DATA",t.WITH_CNA_DATA="WITH_CNA_DATA"}(y||(y={})),function(t){t.CLINICAL="CLINICAL",t.GENOMIC="GENOMIC"}(m||(m={})),function(t){t.YES="YES",t.NO="NO",t.NA="NA"}(b||(b={}));var g,v=[{uniqueKey:y.CANCER_STUDIES,displayName:"Cancer Studies",description:"Cancer Studies",dataType:m.CLINICAL,patientAttribute:!1,chartType:l.a.PIE_CHART,dimension:{w:1,h:1},renderWhenDataChange:!1,priority:70},{uniqueKey:y.WITH_MUTATION_DATA,displayName:"With Mutation Data",description:"With Mutation Data",chartType:l.a.PIE_CHART,dataType:m.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1},{uniqueKey:y.WITH_FUSION_DATA,displayName:"With Fusion Data",description:"With Fusion Data",chartType:l.a.PIE_CHART,dataType:m.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1},{uniqueKey:y.WITH_CNA_DATA,displayName:"With CNA Data",description:"With CNA Data",chartType:l.a.PIE_CHART,dataType:m.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1}],w=[l.d.colors.theme.primary,l.d.colors.theme.secondary,l.d.colors.theme.tertiary,l.d.colors.theme.quaternary,"#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411","#743440","#9986e2","#6c3912","#788508","#609618","#790099","#5099c6","#2d4477","#76aa00","#882e2e","#916395","#794499","#92aa99","#2aaa11","#5633cc","#667300","#100707","#751067","#229262","#4574a6","#103eac","#177322","#66d620","#291383","#94359e","#5c5935","#29c413","#6a778d","#868d1c","#5ea413","#6c5922","#243411","#103440","#2886e2","#d93912","#f28508","#110618","#970099","#0109c6","#d10477","#68aa00","#b12e2e","#310395","#944499","#24aa99","#a4aa11","#6333cc","#e77300","#820707","#610067","#339262","#5874a6","#313eac","#b67322","#13d620","#b81383","#f8359e","#935935","#a10413","#29778d","#678d1c","#b2a413","#075922","#763411","#773440","#2996e2","#dc4912","#f81508","#104618","#991099","#0049c6","#dd2477","#663a00","#b84e2e","#312395","#993499","#223a99","#aa1a11","#6673cc","#e66300","#8b5707","#656067","#323262","#5514a6","#3b8eac","#b71322","#165620","#b99383","#f4859e","#9c4935","#a91413","#2a978d","#669d1c","#be1413","#0c8922","#742411","#744440","#2983e2","#dc3612","#f88808","#109518","#990599","#0092c6","#dd4977","#66a900","#b8282e","#316295","#994199","#22a499","#aaa101","#66310c","#e67200","#8b0907","#651167","#329962","#5573a6","#3b37ac","#b77822","#16d120","#b91783","#f4339e","#9c5105","#a9c713","#2a710d","#66841c","#bea913","#0c5822","#743911","#743740","#298632","#dc3922","#f88588","#109658","#990010","#009916","#dd4447","#66aa60","#b82e9e","#316365","#994489","#22aa69","#aaaa51","#66332c","#e67390","#8b0777","#651037","#329232","#557486","#3b3e4c","#b77372","#16d690","#b91310","#f4358e","#9c5910","#a9c493","#2a773d","#668d5c","#bea463","#0c5952","#743471","#743450","#2986e3","#dc3914","#f88503","#109614","#990092","#0099c8","#dd4476","#66aa04","#b82e27","#316397","#994495","#22aa93","#aaaa14","#6633c1","#e67303","#8b0705","#651062","#329267","#5574a1","#3b3ea5"],E="NA",_=3,P=52,S={"<=":"≤","<":"<",">=":"≥",">":">"};function C(t,e,n){var o=t.toLowerCase().trim(),r=e.toLowerCase().trim().replace(/.&/,"");return i.createElement("div",{style:{maxWidth:"300px"}},i.createElement("div",null,i.createElement("b",null,t)," ",!!n&&i.createElement("span",{className:d.a.titleMeta},"ID: ",n)),r!==o&&i.createElement("div",null,e))}function T(t,e){var n=r.a.filter(t,function(t){return t.gene!==e});return n.length===t.length&&n.push({gene:e,alterations:!1}),n}function O(t,e,n){var o;return n=(o=n)?">="===o?"≥":"<="===o?"≤":o:"",void 0===t?void 0===e?n:"".concat(n).concat(e.toLocaleString()):void 0===e?"".concat(n).concat(t.toLocaleString()):t!==e?"".concat(n).concat(t.toLocaleString(),"-").concat(e.toLocaleString()):"".concat(n).concat(t.toLocaleString())}function N(t){var e=function(t){return{mutRange:O(t.minY,t.maxY,void 0),fgaRange:t.maxX.toFixed(2)!==t.minX.toFixed(2)?"".concat(t.minX.toFixed(2),"-").concat(t.maxX.toFixed(2)):t.minX.toFixed(2)}}(t);return i.createElement("div",null,i.createElement("div",null,"Number of Samples: ",i.createElement("b",null,t.count.toLocaleString())),i.createElement("div",null,"Mutation Count: ",i.createElement("b",null,e.mutRange)),i.createElement("div",null,"Fraction Genome Altered: ",i.createElement("b",null,e.fgaRange)))}function A(t,e,n,o){var i,a=["Cancer Study","Patient ID","Sample ID","Mutation Count","CNA Fraction"];void 0!==n&&void 0!==e&&(a.push(n.displayName),void 0!==o&&(a.push("Color"),i=r.a.keyBy(o,"value")));var s=t.map(function(t){var r=["".concat(t.studyId),"".concat(t.patientId),"".concat(t.sampleId),"".concat(t.y),"".concat(t.x)];if(void 0!==n&&void 0!==e){var a=e[t.uniqueSampleKey];r.push(void 0!==a?"".concat(a):"NA"),void 0!==o&&void 0!==a&&r.push(void 0!==i[a]?i[a].color:"NA")}return r});return[a].concat(s).map(function(t){return t.join("\t")}).join("\n")}function D(t){return t?h.PATIENT:h.SAMPLE}function I(t){return k(D(t.patientAttribute),t.clinicalAttributeId)}function k(t,e){return t+"_"+e}function x(){return(new Date).toISOString().slice(0,10)}function M(t,e,n,o,i,a){var s=[];if(t){var l=new RegExp("".concat("Created on",".*"));s.push(t.replace(l,""))}else{var u=r.a.reduce(i,function(t,e){return t[e.entrezGeneId]=e.hugoGeneSymbol,t},{}),c=r.a.uniq(r.a.flatMap(e,function(t){return t.uniqueSampleKeys}));s.push("".concat(c.length," sample").concat(c.length>1?"s":""," from ").concat(e.length," ").concat(e.length>1?"studies:":"study:")),e.forEach(function(t){s.push("- ".concat(t.name," (").concat(t.uniqueSampleKeys.length," sample").concat(c.length>1?"s":"",")"))});var p=[];r.a.isEmpty(n)||(n.cnaGenes&&n.cnaGenes.length>0&&(p.push("- CNA Genes:"),p=p.concat(n.cnaGenes.map(function(t){return t.alterations.map(function(t){return(u[t.entrezGeneId]||t.entrezGeneId)+"-"+ut(t.alteration)}).join(", ").trim()}).map(function(t){return"  - "+t}))),n.mutatedGenes&&n.mutatedGenes.length>0&&(p.push("- Mutated Genes:"),p=p.concat(n.mutatedGenes.map(function(t){return t.entrezGeneIds.map(function(t){return u[t]||t}).join(", ").trim()}).map(function(t){return"  - "+t}))),n.fusionGenes&&n.fusionGenes.length>0&&(p.push("- Fusion Genes:"),p=p.concat(n.fusionGenes.map(function(t){return t.entrezGeneIds.map(function(t){return u[t]||t}).join(", ").trim()}).map(function(t){return"  - "+t}))),void 0!==n.withMutationData&&p.push("With Mutation data: ".concat(n.withMutationData?"YES":"NO")),void 0!==n.withCNAData&&p.push("With CNA data: ".concat(n.withCNAData?"YES":"NO")),r.a.each(n.clinicalDataEqualityFilters||[],function(t){var e=o[t.clinicalDataType+"_"+t.attributeId];p.push("- ".concat(e,": ").concat(t.values.join(", ")))}),r.a.each(n.clinicalDataIntervalFilters||[],function(t){var e=o[t.clinicalDataType+"_"+t.attributeId];p.push("- ".concat(e,": ").concat(Z(t.values)))}),r.a.each(n.sampleIdentifiersSet||{},function(t,e){var n=o[e]||e;p.push("- ".concat(n,": ").concat(t.length," samples"))})),p.length>0&&(s.push(""),s.push("Filters:"),s=s.concat(p)),s.push("")}return s.push("".concat("Created on"," ")+x()+(a?" by "+a:"")),s.join("\n")}function L(t){var e=!(r.a.isEmpty(t)||r.a.isEmpty(t.clinicalDataEqualityFilters)&&r.a.isEmpty(t.clinicalDataIntervalFilters)&&r.a.isEmpty(t.cnaGenes)&&r.a.isEmpty(t.mutatedGenes)&&r.a.isEmpty(t.fusionGenes)&&void 0===t.withMutationData&&void 0===t.withCNAData&&!t.mutationCountVsCNASelection);return t.sampleIdentifiersSet?e||!r.a.isEmpty(t.sampleIdentifiersSet):e}function B(e,n){var o=e.cloneNode(!0),r=t(e).find(n.legendGroupSelector).get(0).getBoundingClientRect();n.selectorToHide&&t(o).find(n.selectorToHide).remove();var i=+t(e).height()+r.height,a=Math.max(t(e).width(),r.width);if(t(o).attr("height",i+5),t(o).attr("width",a),t(o).css({height:i+5,width:a}),n.centerLegend){var s=Math.abs(t(e).width()-r.width),l="translate(".concat(s/2,", 0)");t(e).width()>r.width?t(o).find(n.legendGroupSelector).attr("transform",l):n.chartGroupSelector&&t(o).find(n.chartGroupSelector).attr("transform",l)}return o}function R(t){return t.map(function(t){return{start:t.start,end:t.end,value:void 0===t.start&&void 0===t.end?t.specialValue:void 0}})}function j(t){return t.filter(function(t){return void 0!==t.start||void 0!==t.end})}function F(t){return t.filter(function(t){return void 0===t.start&&void 0===t.end})}function V(t){return t.filter(function(t){return void 0!==t.start&&void 0!==t.end})}function G(t){var e=t.map(function(t){return t.start});if(t.length>0){var n=t[t.length-1];n.start!==n.end&&e.push(n.end)}return e}function U(t){return Y(t)&&void 0!==t[0].start&&0!==t[0].start&&!J(t[0].start)}function H(t){var e=U(t)?2:1;return t.map(function(n,o){var r;return 0===o&&void 0===n.start?r=o:o===t.length-1&&void 0===n.end?(r=o,o-1>0&&t[o-1].start!==t[o-1].end&&r++):r=n.start===n.end?o:o+.5,{x:r+e,y:n.count,dataBin:n}})}function q(t,e){return t.map(function(t,n){return{x:e+n+1,y:t.count,dataBin:t}})}function K(t){return t.length>0&&void 0===t.find(function(t){return 0!==t&&-1<t&&t<1||0!==t&&lt(t)%.5!=0})}function W(t,e,n){return L(t)||e>=2||1===n}function z(t){return t&&t.length>0&&void 0===t.find(function(t){return t.start!==t.end})}function Y(t){if(!t)return!1;var e=V(j(t)),n=G(e);return!z(e)&&K(n)}function Q(t){return 0!==t&&-.001<=t&&t<=.001}function X(t){if(0===t.length)return[];var e,n=t[0],o=t[t.length-1],r=V(t),i=G(r),a=!z(r)&&K(i);return void 0===n.start?i=[n.end].concat(f(i)):a&&0!==n.start&&(J(n.start)||(i=[$(n.start,g.LEADING)].concat(f(i)))),void 0===o.end?i.push(o.start):a&&0!==o.end&&(J(o.end)||i.push($(o.end,g.TRAILING))),e=a?function(t){return t.map(function(t){var e;if(-10===t||-1===t||0===t||1===t||10===t)e="".concat(t);else{var n=lt(t);(e=Number.isInteger(n)?"10^".concat(n.toFixed(0)):n%.5==0?"":"".concat(t))&&t<0&&(e="-".concat(e))}return e})}(i):r.length>0&&Q(r[Math.floor(r.length/2)].end)?i.map(function(t){return t.toExponential(0)}):function(t){return t.map(function(t){return Q(t)?t.toExponential(0):et(t)})}(i),void 0===n.start&&(e[0]="".concat(S[n.specialValue]||n.specialValue).concat(e[0])),void 0===o.end&&(e[e.length-1]="".concat(S[o.specialValue]||o.specialValue).concat(e[e.length-1])),e}function J(t){var e=!1;if(t){var n=Math.log10(Math.abs(t));Number.isInteger(n)&&(e=!0)}return e}function $(t,e){if(t){var n=Math.log10(Math.abs(t)),o=t*e>0?Math.floor(n):Math.ceil(n),r=Math.pow(10,o);return Math.sign(t)*r}return 1}function Z(t){var e=t.filter(function(t){return void 0===t.start&&void 0===t.end}).map(function(t){return t.value}),n=t.filter(function(t){return void 0!==t.start||void 0!==t.end}),o=n.length>0?n[0].start:void 0,r=n.length>0?n[n.length-1].end:void 0,i=[];return n.length>0&&(void 0===o&&void 0===r?i.push("All Numbers"):void 0===o?i.push("≤ ".concat(tt(r))):void 0===r?i.push("> ".concat(tt(o))):o===r?i.push("".concat(tt(o))):n[0].start===n[0].end?i.push("".concat(tt(o)," ≤ x ≤ ").concat(tt(r))):i.push("".concat(tt(o)," < x ≤ ").concat(tt(r)))),e.length>0&&(i=i.concat(e)),i.length>0?i.join(", "):""}function tt(t){var e;return void 0!==t&&(e=Q(t)?t.toExponential(0):et(t)),e}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!t)return"".concat(t);var n=Math.abs(t);if(Number.isInteger(n))return"".concat(t);var o=e;if(t<1&&t>-1){var r=Math.abs(Math.log10(n%1));o+=Number.isInteger(r)?Math.floor(r)-1:Math.floor(r)}return"".concat(Number(t.toFixed(o)))}function nt(t){var e=[y.MUTATION_COUNT_CNA_FRACTION,y.CNA_GENES_TABLE,y.MUTATED_GENES_TABLE,y.MUTATION_COUNT,y.FRACTION_GENOME_ALTERED,y.WITH_MUTATION_DATA,y.WITH_CNA_DATA];return r.a.includes(e,t)?m.GENOMIC:m.CLINICAL}function ot(t,e){return Math.floor((t-10-rt(e))/2)}function rt(t){return Math.floor(Object(u.c)(t,"Helvetica Neue","13px"))}function it(t){return t>0?t:0}function at(t){return Math.ceil(t)}function st(t){var e="";return t<0?"NA":(e=0===t?"0":t<100&&t>=99.9?"99.9":t>=.1?t.toFixed(1).toString():"<0.1","".concat(e,"%"))}function lt(t){var e=Math.abs(t)<50?1:2;return Number(Math.log10(Math.abs(t)).toFixed(e))}function ut(t){return[-2,2].includes(t)?-2===t?"DEL":"AMP":""}function ct(t){if([-2,2].includes(t))return-2===t?c.d:c.a}function pt(t,e,n,o,i,a){var s=[],l={},u=[new Array(e).fill("")];if(t.sort(kt),o.length>0)if(i&&a){var c=o.find(function(t){return t.i===i.uniqueKey});if(!c)throw new Error("cannot find matching unique key in the grid layout");var p=function(t,e,n,o){var r=t.x,i=t.y,a=o.w,s=r,l=i;u={w:t.w,h:t.h},c=o,u.w+u.h>c.w+c.h?s=r+t.w-a:r+a>=n&&r-a>=0&&(s=n-a);var u,c;return{i:e.uniqueKey,x:s,y:l,w:o.w,h:o.h,isResizable:!1}}(c,i,e,a);s.push(p),l[i.uniqueKey]=!0,u=function(t,e){var n=[new Array(e).fill("")],o=t.x+t.w,r=t.y+t.h;for(;r>=n.length;)n.push(new Array(e).fill(""));for(var i=t.y;i<r;i++)for(var a=t.x;a<o;a++)n[i][a]=t.i;return n}(p,e)}else{var d=r.a.keyBy(o,function(t){return t.i});t.sort(function(t,e){var n=d[t.uniqueKey],o=d[e.uniqueKey];return n||o?o?n?n.y===o.y?n.x-o.x:n.y-o.y:1:-1:0})}return r.a.forEach(r.a.filter(t,function(t){return!l[t.uniqueKey]}),function(t){for(var o=n[t.uniqueKey]||{w:1,h:1},i=function(t,e){if(0===t.length)return{x:0,y:0};var n=void 0;return r.a.each(t,function(o,i){if(r.a.each(o,function(o,r){if(!o&&!function(t,e,n){var o=!1;if(0===t.length)return!1;if(n.w>1&&e.x%2!=0&&(o=!0),n.h>1&&e.y%2!=0&&(o=!0),!o)for(var r=e.x+n.w,i=e.y+n.h,a=e.y;a<i&&!(a>=t.length);a++){for(var s=e.x;s<r;s++)if(s>=t[0].length||t[a][s]){o=!0;break}if(o)break}return o}(t,{x:r,y:i},e))return n={x:r,y:i},!1}),n)return!1}),n||{x:0,y:t.length}}(u,o);i.y+o.h>=u.length;)u.push(new Array(e).fill(""));s.push({i:t.uniqueKey,x:i.x,y:i.y,w:o.w,h:o.h,isResizable:!1});for(var a=i.x+o.w,l=i.y+o.h,c=i.y;c<l;c++)for(var p=i.x;p<a;p++)u[c][p]=t.uniqueKey}),s}function dt(t){return void 0===l.d.priority[t]?1:l.d.priority[t]}function ft(t){var e=Number(t.priority);if(e===l.d.defaultPriority){var n=I(t);return void 0===l.d.priority[n]?l.d.defaultPriority:l.d.priority[n]}return e}function ht(t,e){return l.d.layout.grid.w*t.w+(t.w-1)*l.d.layout.gridMargin.x-2*e}function yt(t,e){return l.d.layout.grid.h*t.h+(t.h-1)*l.d.layout.gridMargin.y-e}function mt(t,e){return yt(t,e)-30}function bt(t){return 0===t?"0":t.toExponential(_)}function gt(t){t.sort(At);var e=Et(t),n=r.a.sumBy(t,function(t){return t.count});return t.map(function(t){var o=t.count/n;return Object.assign({},t,{color:e[t.value],percentage:o,freq:st(100*o)})})}function vt(t,e){return r.a.reduce(t,function(t,n,o){return t[o]=100*n/e,t},{})}function wt(t,e,n,o){return r.a.filter(e,function(e){return e.dataType===t}).map(function(t){return{label:t.displayName,key:t.uniqueKey,chartType:o[t.uniqueKey],disabled:!1,selected:n.includes(t.uniqueKey),freq:100}})}function Et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=r.a.cloneDeep(e),o=function(t){return r.a.reduce(t,function(t,e){var n=_t(e.value)?c.f:Object(c.x)(e.value);return n&&(t[e.value]=n),t},{})}(t);return n=r.a.difference(n,r.a.values(o)),Object.assign({},function(t,e){var n=0;return r.a.reduce(t,function(t,o){return _t(o.value)||Object(c.x)(o.value)||(t[o.value]=e[n%e.length],n++),t},{})}(t,n),o)}function _t(t){return"na"===t.toLowerCase().trim()}function Pt(t,e){return r.a.reduce(t,function(t,n){return(void 0===e||e(n))&&t.push({sampleId:n.sampleId,studyId:n.studyId}),t},[])}function St(t,e,n,o,i){var a={clinicalDataEqualityFilters:e.clinicalDataEqualityFilters,clinicalDataIntervalFilters:e.clinicalDataIntervalFilters,cnaGenes:e.cnaGenes,mutatedGenes:e.mutatedGenes},l=r.a.reduce(n,function(e,n,o){return t!==o&&(e=0===e.length?n:r.a.intersectionWith(e,n,r.a.isEqual)),e},[]);return l&&l.length>0?a.sampleIdentifiers=l:r.a.isEmpty(o)?a.studyIds=i:a.sampleIdentifiers=o,s.a.fetchFilteredSamplesUsingPOST({studyViewFilter:a})}function Ct(t,e,n,o,r,i,a){return e&&t&&!o?[a]:t||n?o?[]:[r]:[i]}function Tt(t){return 0!==t.length&&!r.a.some(t,function(t){return isNaN(Number(t))})}function Ot(t,e){return 0===t.length&&1===e.length}function Nt(t,e,n){var o=[],i=r.a.groupBy(t,function(t){return t.studyId});return r.a.each(e,function(t){var e=i[t.studyId];e&&e.length>0&&o.push(Object.assign({},t,{uniqueSampleKeys:r.a.map(e,function(t){return t.uniqueSampleKey})}))}),r.a.each(n,function(t){var e=[];if(t.data.studies.forEach(function(t){var n=i[t.id];n&&n.length>0&&(e=e.concat(n))}),e.length>0){var n={name:t.data.name,description:t.data.description,studyId:t.id};o.push(Object.assign({},n,{uniqueSampleKeys:r.a.map(e,function(t){return t.uniqueSampleKey})}))}}),o}function At(t,e){return _t(t.value)?_t(e.value)?0:1:_t(e.value)?-1:e.count-t.count}function Dt(t,e){return e.priority-t.priority||t.displayName.localeCompare(e.displayName)}function It(t,e){return Dt({priority:Number(t.priority),displayName:t.displayName},{priority:Number(e.priority),displayName:e.displayName})}function kt(t,e){return Dt({priority:t.priority,displayName:t.displayName},{priority:e.priority,displayName:e.displayName})}function xt(t,e,n){try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(e)),window.open(Object(a.b)(t),n)}catch(o){window.localStorage.clear();try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(e)),window.open(Object(a.b)(t),n)}catch(t){alert("Sorry, the query is too large to submit")}}}function Mt(t){return t.replace(/\\,/g,"$@$").split(",").map(function(t){return t.trim().replace(/\$@\$/g,",")})}function Lt(t,e){var n={};return t>0&&(n[b.YES]={count:t,value:b.YES}),e>0&&(n[b.NO]={count:e,value:b.NO}),gt(r.a.values(n))}function Bt(t){var e=t.match(/study\/([^\/]+)/);return e?e[1]:void 0}function Rt(t){return t.length<=2?t.map(function(t){return t.name}).join(" and "):"".concat(t[0].name," and ").concat(t.length-1," other groups")}function jt(t){return r.a.uniqWith(r.a.flattenDeep(t.map(function(t){return t.studies.map(function(t){var e=t.id;return t.patients.map(function(t){return{studyId:e,patientId:t}})})})),function(t,e){return t.patientId===e.patientId&&t.studyId===e.studyId})}function Ft(t){return v.findIndex(function(e){return e.uniqueKey===t.uniqueKey})>-1}function Vt(t,e,n,o,r){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],l=arguments.length>8?arguments[8]:void 0;l||(l=pt(t,e,n,[]));var u={};return t.forEach(function(t){var e=t.uniqueKey,n=o[e]||"NONE";u[t.uniqueKey]={id:t.uniqueKey,chartType:n,patientAttribute:t.patientAttribute},n===y.MUTATED_GENES_TABLE?u[t.uniqueKey].filterByCancerGenes=i:n===y.FUSION_GENES_TABLE?u[t.uniqueKey].filterByCancerGenes=a:n===y.CNA_GENES_TABLE&&(u[t.uniqueKey].filterByCancerGenes=s);var l=r[e];l&&(u[e].groups=l.groups,u[e].name=t.displayName)}),l.forEach(function(t){t.i&&u[t.i]&&(u[t.i].layout={x:t.x,y:t.y,w:t.w,h:t.h})}),u}!function(t){t[t.LEADING=1]="LEADING",t[t.TRAILING=-1]="TRAILING"}(g||(g={}))}).call(this,n(10))},516:function(t,e,n){"use strict";var o=n(655),r=n(0),i=n(7),a=n(18),s=(n(717),n(550)),l=n(675),u=n(84),c=n(555),p=n(155),d=n.n(p),f=n(627),h=n.n(f),y=n(628);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var E=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":w(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},_=n(580),P=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=b(e).call(this,t))||"object"!==w(r)&&"function"!=typeof r?g(o):r).downloadingData=!1,n.copyingData=!1,n.showErrorMessage=!1,n.showTooltipCopyMessage=!1,n._copyButton=null,n._modalCopyButton=null,n._modalCopyButtonContainer=null,n._copyText=null,n.handleDownload=n.handleDownload.bind(g(n)),n.handleCopy=n.handleCopy.bind(g(n)),n.handleModalClose=n.handleModalClose.bind(g(n)),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,r["Component"]),n=e,(o=[{key:"componentDidMount",value:function(){this.props.showCopy&&this.bindCopyButton(this._copyButton)}},{key:"bindCopyButton",value:function(t,e){t&&new _(t,{text:this.getText.bind(this),container:e})}},{key:"render",value:function(){var t=this;return r.createElement("span",null,r.createElement(y.a,{className:this.props.className,showCopy:this.props.showCopy,showCopyMessage:this.showTooltipCopyMessage,showDownload:this.props.showDownload,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,handleDownload:this.handleDownload,handleCopy:this.handleCopy,copyButtonRef:function(e){t._copyButton=e}}),this.downloadIndicatorModal(),this.copyIndicatorModal(),this.downloadErrorModal())}},{key:"downloadIndicatorModal",value:function(){return r.createElement(u.Modal,{show:this.downloadingData,onHide:function(){},bsSize:"sm",className:"".concat(h.a["centered-modal-dialog"])},r.createElement(u.Modal.Body,null,r.createElement(c.ThreeBounce,{style:{display:"inline-block",marginRight:10}}),r.createElement("span",null,"Downloading Table Data...")))}},{key:"copyIndicatorModal",value:function(){var t=this;return r.createElement(u.Modal,{show:this.copyingData,onHide:function(){},onEntered:function(){t.bindCopyButton(t._modalCopyButton,t._modalCopyButtonContainer)},bsSize:"sm",className:"".concat(h.a["centered-modal-dialog"])},r.createElement(u.Modal.Header,null,this.showErrorMessage?"Copy Error!":"Copy Ready!"),r.createElement(u.Modal.Body,null,this.showErrorMessage&&"An error occurred while copying the data. Data may be incomplete.","Please click on Copy to copy the data to clipboard."),r.createElement(u.Modal.Footer,null,r.createElement("span",{ref:function(e){t._modalCopyButtonContainer=e}},r.createElement("button",{ref:function(e){t._modalCopyButton=e},onClick:this.handleModalClose,className:"btn btn-primary","data-clipboard-text":"NA",id:"modalCopyButton"},"Copy"))))}},{key:"downloadErrorModal",value:function(){return r.createElement(u.Modal,{show:!this.copyingData&&this.showErrorMessage,onHide:this.handleModalClose,bsSize:"sm",className:"".concat(h.a["centered-modal-dialog"])},r.createElement(u.Modal.Header,null,"Download Error!"),r.createElement(u.Modal.Body,null,"An error occurred while downloading the data. Downloaded file may contain incomplete data."),r.createElement(u.Modal.Footer,null,r.createElement(u.Button,{onClick:this.handleModalClose,className:"btn btn-primary"},"Close")))}},{key:"getText",value:function(){return this._copyText||""}},{key:"handleCopy",value:function(){this.initCopyProcess()}},{key:"initCopyProcess",value:function(){var t=this;this.initDownloadProcess(function(e){t._copyText!==e?(t._copyText=e,t.copyingData=!0):t.showSimpleCopyMessage()})}},{key:"handleDownload",value:function(){var t=this;this.initDownloadProcess(function(e){t._copyText=e,t.download(e)})}},{key:"initDownloadProcess",value:function(t){var e=this;this.props.downloadData&&(this.downloadingData=!0,this.props.downloadData().then(function(n){"complete"===n.status?e.downloadingData=!1:e.triggerDownloadError(),t(n.text)}).catch(function(){e.triggerDownloadError()}))}},{key:"download",value:function(t){d()(t,this.props.downloadFilename)}},{key:"handleModalClose",value:function(){this.copyingData=!1,this.showErrorMessage=!1}},{key:"triggerDownloadError",value:function(){this.downloadingData=!1,this.showErrorMessage=!0}},{key:"showSimpleCopyMessage",value:function(){var t=this;this.showTooltipCopyMessage=!0,setTimeout(function(){t.showTooltipCopyMessage=!1},this.props.copyMessageDuration)}}])&&m(n.prototype,o),i&&m(n,i),e}();P.defaultProps={className:"",copyMessageDuration:3e3,showCopy:!0,showDownload:!0,downloadFilename:"data.tsv"},E([i.observable],P.prototype,"downloadingData",void 0),E([i.observable],P.prototype,"copyingData",void 0),E([i.observable],P.prototype,"showErrorMessage",void 0),E([i.observable],P.prototype,"showTooltipCopyMessage",void 0),E([i.action],P.prototype,"handleModalClose",null),E([i.action],P.prototype,"triggerDownloadError",null),E([i.action],P.prototype,"showSimpleCopyMessage",null),P=E([a.observer],P);var S=n(622),C=n(715),T=n(9);var O=n(509),N=n(547);var A=n(623);function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function B(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"c",function(){return V}),n.d(e,"a",function(){return G});var j=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":R(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};function F(t,e,n){var o=0;return t!==e&&(null===t?o=1:null===e?o=-1:"number"==typeof t?o=t<e?n?-1:1:n?1:-1:"string"==typeof t&&(o=(n?1:-1)*t.localeCompare(e))),o}function V(t,e){for(var n,o,r,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[],s=0;s<t.length;s++){var l=t[s];a.push({data:l,initialPosition:s,sortBy:[].concat(e(l))})}return a.sort(function(t,e){return 0===(n=function(t,e,n){for(var o=0,r=Math.min(t.length,e.length),i=0;i<r&&0===(o=F(t[i],e[i],n));i++);return 0===o&&(t.length<e.length?o=n?-1:1:t.length>e.length&&(o=n?1:-1)),o}(t.sortBy,e.sortBy,i))&&(o=t.initialPosition,r=e.initialPosition,n=o<r?-1:1),n}),a.map(function(t){return t.data})}var G=function(){function t(e){var n=this;M(this,t),this.sortColumn=e.initialSortColumn||"",this.sortAscending="desc"!==e.initialSortDirection,this.setProps(e),Object(i.reaction)(function(){return n.displayData.length},function(){n.page=n.clampPage(n.page)})}return B(t,[{key:"clampPage",value:function(t){return t=Math.max(t,0),t=Math.min(t,this.maxPage)}},{key:"getNextSortAscending",value:function(t){return this.sortColumn===t.name?!this.sortAscending:"asc"===(t.defaultSortDirection||"asc")}},{key:"defaultHeaderClick",value:function(t){this.sortAscending=this.getNextSortAscending(t),this.dataStore.sortAscending=this.sortAscending,this.sortColumn=t.name,this.dataStore.sortMetric=this.sortMetric,this.page=0}},{key:"pageToRowIndex",value:function(t){this.page=Math.floor(t/this.itemsPerPage)}},{key:"setFilterString",value:function(t){var e=this;this.filterString=t,this.dataStore.filterString=t,this.page=0,this.dataStore.setFilter(function(t,n,o,r){if(!n)return!0;var i=!1,a=!0,s=!1,l=void 0;try{for(var u,c=e.visibleColumns[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var p=u.value;if(i=p.filter&&p.filter(t,n,o,r)||!1)break}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return i})}},{key:"setProps",value:function(t){this.columns=t.columns,this._itemsLabel=t.itemsLabel,this._itemsLabelPlural=t.itemsLabelPlural,this._columnVisibility=t.columnVisibility,this.downloadDataFetcher=t.downloadDataFetcher,this.onRowClick=t.onRowClick,t.dataStore?this.dataStore=t.dataStore:this.dataStore=new N.b(t.data||[]),void 0===this.dataStore.page&&(this.dataStore.page=0),void 0===this.itemsPerPage&&(this.itemsPerPage=t.initialItemsPerPage||50),void 0===this.dataStore.sortAscending?this.dataStore.sortAscending=this.sortAscending:this.sortAscending=this.dataStore.sortAscending,void 0===this.dataStore.sortMetric&&(this.dataStore.sortMetric=this.sortMetric),!t.dataStore&&this.filterString&&this.setFilterString(this.filterString)}},{key:"updateColumnVisibility",value:function(t,e){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(S.a)(this.columnVisibilityByColumnDefinition,this._columnVisibility)),void 0!==this._columnVisibilityOverride[t]&&(this._columnVisibilityOverride[t]=e)}},{key:"isVisible",value:function(t){return this.columnVisibility[t.name]||!1}},{key:"itemsPerPage",get:function(){return this.dataStore.itemsPerPage},set:function(t){this.dataStore.itemsPerPage=t,this.page=this.page}},{key:"firstHighlightedRowIndex",get:function(){for(var t=-1,e=0;e<this.displayData.length;e++)if(this.dataStore.isHighlighted(this.displayData[e])){t=e;break}return t}},{key:"displayData",get:function(){return this.dataStore.tableData}},{key:"showingAllRows",get:function(){return this.displayData.length<=this.itemsPerPage||-1===this.itemsPerPage}},{key:"page",get:function(){return this.dataStore.page},set:function(t){this.dataStore.page=this.clampPage(t)}},{key:"maxPage",get:function(){return t=this.displayData.length,(e=this.itemsPerPage)===s.b?0:Math.floor(Math.max(t-1,0)/e);var t,e}},{key:"columnVisibility",get:function(){return Object(S.a)(this.columnVisibilityByColumnDefinition,this._columnVisibility,this._columnVisibilityOverride)}},{key:"columnVisibilityByColumnDefinition",get:function(){return Object(S.b)(this.columns)}},{key:"downloadData",get:function(){var t=this,e=[];return e[0]=[],this.columns.forEach(function(t){e[0].push(t.headerDownload?t.headerDownload(t.name):t.name)}),this.dataStore.sortedData.forEach(function(n){var o,r,i,a=function(t,e){var n={data:[],maxColLength:1};return t.forEach(function(t){if(t.download){var o=t.download(e);o instanceof Array?(n.data.push(o),o.length>n.maxColLength&&(n.maxColLength=o.length)):n.data.push(o)}else n.data.push("")}),n}(t.columns,n),s=(o=a.data,r=a.maxColLength,i=[],o.forEach(function(t){if(t instanceof Array){if(r!=t.length)throw new Error("Not all the arrays returned from the download functions are from the same length.");i.push(t)}else{for(var e=[],n=0;n<r;n++)e=e.concat(t);i.push(e)}}),i);s[0].map(function(t,e){return s.map(function(t){return t[e]})}).forEach(function(t){e.push(t)})}),e}},{key:"sortColumnObject",get:function(){var t=this;return this.columns.find(function(e){return t.isVisible(e)&&e.name===t.sortColumn})}},{key:"visibleData",get:function(){return this.dataStore.visibleData}},{key:"sortMetric",get:function(){var t=this.sortColumnObject;return t&&t.sortBy?t.sortBy:function(){return 0}}},{key:"headers",get:function(){var t=this;return this.visibleColumns.map(function(e){var n,o,i={};e.sortBy&&(i.role="button",i.onClick=function(){return t.defaultHeaderClick(e)}),t.sortColumn===e.name&&(i.className=t.sortAscending?"multilineHeader sort-asc":"multilineHeader sort-des"),n=e.headerRender?e.headerRender(e.name):r.createElement("span",null,e.name),o=e.tooltip?r.createElement(O.b,{placement:"top",overlay:e.tooltip},n):n;var a={};return e.align&&(a.textAlign=e.align),e.width&&(a.width=e.width),r.createElement("th",x({className:"multilineHeader"},i,{style:a}),o)})}},{key:"visibleColumns",get:function(){var t=this;return this.columns.filter(function(e){return t.isVisible(e)})}},{key:"colVisProp",get:function(){var t=this,e=[];return this.columns.forEach(function(n){e.push({id:n.name,name:n.name,visible:t.columnVisibility[n.name],togglable:!n.hasOwnProperty("togglable")||n.togglable})}),e}},{key:"paginationStatusText",get:function(){var t,e;0===this.rows.length?(t=0,e=0):(t=this.itemsPerPage===s.b?1:this.page*this.itemsPerPage+1,e=this.itemsPerPage===s.b?this.rows.length:t+this.rows.length-1);var n=this.itemsLabel;return n.length&&(n=" ".concat(n)),"Showing ".concat(t,"-").concat(e," of ").concat(this.displayData.length).concat(n)}},{key:"tds",get:function(){var t=this;return this.visibleData.map(function(e){return t.visibleColumns.map(function(t){return r.createElement("td",{key:t.name},t.render(e))})})}},{key:"rows",get:function(){for(var t=this,e=[],n=function(n){var o={},i=t.dataStore.isHighlighted(t.visibleData[n]),a=[];if(i&&a.push("highlighted"),t.onRowClick){i||a.push("clickable");var s=t.onRowClick;o.onClick=function(){s(t.visibleData[n])}}a.length&&(o.className=a.join(" ")),e.push(r.createElement("tr",x({key:n},o),t.tds[n]))},o=0;o<this.visibleData.length;o++)n(o);return e}},{key:"itemsLabel",get:function(){return this._itemsLabel?this._itemsLabelPlural&&1!==this.displayData.length?this._itemsLabelPlural:this._itemsLabel:""}}]),t}();j([i.observable],G.prototype,"_itemsLabel",void 0),j([i.observable],G.prototype,"_itemsLabelPlural",void 0),j([i.observable],G.prototype,"sortColumn",void 0),j([i.observable],G.prototype,"sortAscending",void 0),j([i.observable.ref],G.prototype,"columns",void 0),j([i.observable],G.prototype,"dataStore",void 0),j([i.observable],G.prototype,"downloadDataFetcher",void 0),j([i.observable],G.prototype,"onRowClick",void 0),j([i.observable],G.prototype,"_columnVisibility",void 0),j([i.observable],G.prototype,"_columnVisibilityOverride",void 0),j([i.computed],G.prototype,"itemsPerPage",null),j([i.computed],G.prototype,"firstHighlightedRowIndex",null),j([i.computed],G.prototype,"displayData",null),j([i.computed],G.prototype,"showingAllRows",null),j([i.computed],G.prototype,"page",null),j([i.computed],G.prototype,"maxPage",null),j([i.computed],G.prototype,"columnVisibility",null),j([i.computed],G.prototype,"columnVisibilityByColumnDefinition",null),j([i.computed],G.prototype,"downloadData",null),j([i.computed],G.prototype,"sortColumnObject",null),j([i.computed],G.prototype,"visibleData",null),j([i.computed],G.prototype,"sortMetric",null),j([i.action],G.prototype,"defaultHeaderClick",null),j([i.computed],G.prototype,"headers",null),j([i.computed],G.prototype,"visibleColumns",null),j([i.computed],G.prototype,"colVisProp",null),j([i.computed],G.prototype,"paginationStatusText",null),j([i.computed],G.prototype,"tds",null),j([i.computed],G.prototype,"rows",null),j([i.action],G.prototype,"pageToRowIndex",null),j([i.action],G.prototype,"setFilterString",null),j([i.computed],G.prototype,"itemsLabel",null),j([i.action],G.prototype,"setProps",null),j([i.action],G.prototype,"updateColumnVisibility",null);var U=function(t){function e(t){var n,o,r;return M(this,e),o=this,r=D(e).call(this,t),(n=!r||"object"!==R(r)&&"function"!=typeof r?I(o):r).store=new G(t),n.handlers={onFilterTextChange:Object(A.a)(function(t){n.store.setFilterString(t)},400),visibilityToggle:function(t){n.updateColumnVisibility(t,!n.store.columnVisibility[t])},changeItemsPerPage:function(t){n.store.itemsPerPage=t},incPage:function(){n.store.page+=1},decPage:function(){n.store.page-=1},filterInputRef:function(t){n.filterInput=t}},n.getDownloadData=n.getDownloadData.bind(I(n)),n.getDownloadDataPromise=n.getDownloadDataPromise.bind(I(n)),n.getTopToolbar=n.getTopToolbar.bind(I(n)),n.getBottomToolbar=n.getBottomToolbar.bind(I(n)),n.getTable=n.getTable.bind(I(n)),n.getPaginationControls=n.getPaginationControls.bind(I(n)),n.filterInputReaction=Object(i.reaction)(function(){return n.store.dataStore.filterString},function(t){n.filterInput&&(n.filterInput.value=t)}),n.pageToHighlightReaction=Object(i.reaction)(function(){return n.store.firstHighlightedRowIndex},function(t){n.props.pageToHighlight&&n.store.pageToRowIndex(n.store.firstHighlightedRowIndex)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,r["Component"]),B(e,[{key:"getDownloadData",value:function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",o=[];return e&&(Object.keys(t[0]).forEach(function(t){return o.push(t,n)}),o.pop(),o.push("\r\n")),t.forEach(function(t){T.each(t,function(t){o.push(t,n)}),o.pop(),o.push("\r\n")}),o.join("")}(this.store.downloadData)}},{key:"getDownloadDataPromise",value:function(){var t=this;return new Promise(function(e){t.store.downloadDataFetcher?t.store.downloadDataFetcher.fetchAndCacheAllLazyData().then(function(n){e({status:"complete",text:t.getDownloadData()})}).catch(function(){e({status:"incomplete",text:t.getDownloadData()})}):e({status:"complete",text:t.getDownloadData()})})}},{key:"updateColumnVisibility",value:function(t,e){void 0!==this.store.columnVisibility[t]&&this.store.updateColumnVisibility(t,e)}},{key:"componentWillUnmount",value:function(){this.filterInputReaction(),this.pageToHighlightReaction()}},{key:"componentWillReceiveProps",value:function(t){this.store.setProps(t)}},{key:"getPaginationControls",value:function(){var t={className:"text-center topPagination",itemsPerPage:this.store.itemsPerPage,totalItems:this.store.displayData.length,currentPage:this.store.page,onChangeItemsPerPage:this.handlers.changeItemsPerPage,showItemsPerPageSelector:!1,onPreviousPageClick:this.handlers.decPage,onNextPageClick:this.handlers.incPage,previousPageDisabled:0===this.store.page,nextPageDisabled:this.store.page===this.store.maxPage,textBeforeButtons:this.store.paginationStatusText,groupButtons:!1,bsStyle:"primary"};return this.props.paginationProps&&(!1===this.props.paginationProps.showMoreButton&&(delete t.textBeforeButtons,t.textBetweenButtons=this.store.paginationStatusText),t=Object.assign(t,this.props.paginationProps)),r.createElement(s.a,t)}},{key:"getTopToolbar",value:function(){return r.createElement("div",null,this.props.showCountHeader&&this.countHeader,r.createElement(u.ButtonToolbar,{style:{marginLeft:0},className:"tableMainToolbar"},this.props.showFilter?r.createElement("div",{className:"pull-right form-group has-feedback input-group-sm tableFilter",style:{display:"inline-block",marginLeft:5}},r.createElement("input",{ref:this.handlers.filterInputRef,placeholder:this.props.filterPlaceholder||"",type:"text",onInput:this.handlers.onFilterTextChange,className:"form-control tableSearchInput",style:{width:200}}),r.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true",style:{zIndex:0}})):"",this.props.showColumnVisibility?r.createElement(l.a,x({className:"pull-right",columnVisibility:this.store.colVisProp,onColumnToggled:this.handlers.visibilityToggle},this.props.columnVisibilityProps)):"",this.props.showCopyDownload?this.props.downloadDataFetcher?r.createElement(P,x({className:"pull-right",downloadData:this.getDownloadDataPromise,downloadFilename:"table.tsv"},this.props.copyDownloadProps)):r.createElement(C.a,x({className:"pull-right",downloadData:this.getDownloadData,downloadFilename:"table.tsv",controlsStyle:"BUTTON"},this.props.copyDownloadProps)):"",this.props.showPagination&&this.props.showPaginationAtTop?r.createElement(a.Observer,null,this.getPaginationControls):null))}},{key:"getBottomToolbar",value:function(){return r.createElement(u.ButtonToolbar,{style:{marginLeft:0,float:"none"},className:"tableMainToolbar center"},this.props.showPagination&&r.createElement(a.Observer,null,this.getPaginationControls))}},{key:"getTable",value:function(){return r.createElement("div",{style:{overflowX:this.props.enableHorizontalScroll?"auto":"visible"}},r.createElement(o.a,{headers:this.store.headers,rows:this.store.rows,className:this.props.className}))}},{key:"render",value:function(){return r.createElement("div",{"data-test":"LazyMobXTable"},r.createElement(a.Observer,null,this.getTopToolbar),r.createElement(a.Observer,null,this.getTable),!this.props.showPaginationAtTop&&r.createElement(a.Observer,null,this.getBottomToolbar))}},{key:"countHeader",get:function(){return r.createElement("span",{"data-test":"LazyMobXTable_CountHeader",style:{float:"left",color:"black",fontSize:"16px",fontWeight:"bold"}},this.store.displayData.length," ",this.store.itemsLabel," (page ",this.store.page+1," of ",this.store.maxPage+1,")")}}]),e}();U.defaultProps={showFilter:!0,showCopyDownload:!0,showPagination:!0,showColumnVisibility:!0,showPaginationAtTop:!1,showCountHeader:!1},j([i.action],U.prototype,"componentWillReceiveProps",null),U=j([a.observer],U);e.b=U},520:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"h",function(){return i}),n.d(e,"g",function(){return a}),n.d(e,"o",function(){return s}),n.d(e,"p",function(){return l}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"s",function(){return p}),n.d(e,"t",function(){return d}),n.d(e,"k",function(){return f}),n.d(e,"r",function(){return h}),n.d(e,"q",function(){return y}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return b}),n.d(e,"l",function(){return g}),n.d(e,"u",function(){return v}),n.d(e,"v",function(){return w}),n.d(e,"a",function(){return E}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return P}),n.d(e,"d",function(){return S}),n.d(e,"f",function(){return C}),n.d(e,"w",function(){return T}),n.d(e,"x",function(){return O});var o=n(9),r="#BEBEBE",i="#000000",a=r,s="#008000",l="#53D400",u="#993404",c="#a68028",p="#000000",d="#708090",f="#8B00C9",h="#00B7CE",y="#cf58bc",m="#ff9999",b="#6699cc",g="#FFFFFF",v="#ff3df8",w="#00E1FF",E="#ff0000",_="#ffb6c1",P="#8fd8d8",S="#0000ff",C="#D3D3D3",T={true:"#1b9e77",yes:"#1b9e77",positive:"#1b9e77","disease free":"#1b9e77","tumor free":"#1b9e77",living:"#1b9e77",alive:"#1b9e77","not progressed":"#1b9e77",false:"#d95f02",no:"#d95f02",negative:"#d95f02",recurred:"#d95f02",progressed:"#d95f02","recurred/progressed":"#d95f02","with tumor":"#d95f02",deceased:"#d95f02",female:"#E0699E",f:"#E0699E",male:"#2986E2",m:"#2986E2",other:"#A9A9A9",unknown:C,na:C,missense:s,inframe:u,truncating:p,fusion:f,promoter:h,"wild type":r,amplification:E,gain:_,diploid:r,"shallow deletion":P,"deep deletion":S};function O(t){return T[t.replace(/\s/g,"").toLowerCase()]}o.forEach(T,function(t,e){T[e.toLowerCase()]=t,T[e.toUpperCase()]=t;var n=e.replace(/\s/g,"");T[n]=t,T[n.toLowerCase()]=t,T[n.toUpperCase()]=t,T[e[0].toUpperCase()+e.slice(1).toLowerCase()]=t,T[e.split(" ").map(function(t){return t[0].toUpperCase()+t.slice(1).toLowerCase()}).join(" ")]=t})},531:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return f});var o=n(727),r=n.n(o),i=n(9),a=n.n(i);function s(t,e){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function l(t,e,n){return r()({text:t,fontFamily:e,fontSize:n,lineHeight:1}).height.value}function u(t,e,n){return r()({text:t,fontFamily:e,fontSize:n,lineHeight:1}).width.value}function c(t,e,n,o){for(var r=[],i=0,a="";i<t.length;)u(a+=t[i],n,o)>=e&&(r.push(a),a=""),i+=1;return a.length&&r.push(a),r}function p(t,e,n,o){if(u(t,n,o)<=e)return[t];var r=t.split(/\s+/g);r=a.a.flatten(r.map(function(t){return c(t,e,n,o)}));var i="",s=[],l=!0,p=!1,d=void 0;try{for(var f,h=r[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var y=f.value;u(y,n,o)>=e?(i.length&&s.push(i),s.push(y),i=""):u((i.length?i+" ":i)+y,n,o)>=e?(i.length&&s.push(i),i=y):(i.length&&(i+=" "),i+=y)}}catch(t){p=!0,d=t}finally{try{l||null==h.return||h.return()}finally{if(p)throw d}}return i.length&&s.push(i),s}function d(t,e,n,o){var r=c(t,e,n,o);return r.length>1?r[0]+"...":r[0]}function f(t,e,n,o){var r=c(t,e,n,o),i=!1;return r.length>1?(t=r[0]+"...",i=!0):(t=r[0],i=!1),{text:t,isTruncated:i}}},534:function(t,e,n){t.exports=n(24)(6)},545:function(t,e,n){t.exports=n(24)(7)},546:function(t,e,n){t.exports=n(24)(8)},547:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return h});var o=n(7),r=n(516),i=n(550);function a(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},f=function(){function t(e){u(this,t),this.getData=e,this.filterString="",this.dataHighlighter=function(){return!1},this.dataSelector=function(){return!1},this.dataFilter=function(){return!0}}var e,n,o;return e=t,(n=[{key:"setFilter",value:function(t){this.dataFilter=t}},{key:"resetFilter",value:function(){this.dataFilter=function(){return!0},this.filterString=""}},{key:"isHighlighted",value:function(t){return this.dataHighlighter(t)}},{key:"allData",get:function(){return this.getData()}},{key:"sortedData",get:function(){var t=this.sortMetric||function(){return 0},e=void 0===this.sortAscending||this.sortAscending;return Object(r.c)(this.allData,t,e)}},{key:"sortedFilteredData",get:function(){var t=this,e=this.filterString.toUpperCase(),n=this.filterString.toLowerCase();return this.sortedData.filter(function(o){return t.dataFilter(o,t.filterString,e,n)})}},{key:"sortedFilteredSelectedData",get:function(){return this.sortedFilteredData.filter(this.dataSelector)}},{key:"tableData",get:function(){return this.sortedFilteredSelectedData.length?this.sortedFilteredSelectedData:this.sortedFilteredData}},{key:"visibleData",get:function(){return this.itemsPerPage===i.b?this.tableData:this.tableData.slice(this.page*this.itemsPerPage,(this.page+1)*this.itemsPerPage)}},{key:"showingAllData",get:function(){return this.tableData.length===this.allData.length}}])&&c(e.prototype,n),o&&c(e,o),t}();d([o.observable],f.prototype,"dataFilter",void 0),d([o.observable],f.prototype,"dataSelector",void 0),d([o.observable],f.prototype,"dataHighlighter",void 0),d([o.observable],f.prototype,"filterString",void 0),d([o.observable],f.prototype,"sortMetric",void 0),d([o.observable],f.prototype,"sortAscending",void 0),d([o.observable],f.prototype,"page",void 0),d([o.observable],f.prototype,"itemsPerPage",void 0),d([o.computed],f.prototype,"allData",null),d([o.computed],f.prototype,"sortedData",null),d([o.computed],f.prototype,"sortedFilteredData",null),d([o.computed],f.prototype,"sortedFilteredSelectedData",null),d([o.computed],f.prototype,"tableData",null),d([o.computed],f.prototype,"visibleData",null),d([o.computed],f.prototype,"showingAllData",null),d([o.action],f.prototype,"setFilter",null),d([o.action],f.prototype,"resetFilter",null);var h=function(t){function e(t){return u(this,e),a(this,s(e).call(this,function(){return t}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,f),e}()},550:function(t,e,n){"use strict";n.d(e,"b",function(){return g}),n.d(e,"a",function(){return v});var o=n(0),r=n(84),i=n(718),a=n.n(i),s=n(16),l=n(18),u=n(44),c=n.n(u),p=n(571);function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=-1,v=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=f(e).call(this,t))||"object"!==m(r)&&"function"!=typeof r?h(o):r).handleChangeItemsPerPage=n.handleChangeItemsPerPage.bind(h(n)),n.resetItemsPerPage=n.resetItemsPerPage.bind(h(n)),n.jumpToPage=n.jumpToPage.bind(h(n)),n.handleShowMore=n.handleShowMore.bind(h(n)),n.getSectionBetweenPaginationButtons=n.getSectionBetweenPaginationButtons.bind(h(n)),n}var n,i,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,o["Component"]),n=e,(i=[{key:"jumpToPage",value:function(t){this.props.onChangeCurrentPage&&this.props.onChangeCurrentPage(parseInt(t,10))}},{key:"handleChangeItemsPerPage",value:function(t){this.props.onChangeItemsPerPage&&this.props.onChangeItemsPerPage(parseInt(t.target.value,10))}},{key:"handleShowMore",value:function(){if(this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage&&this.props.onChangeItemsPerPage){var t=this.props.itemsPerPageOptions.indexOf(this.props.itemsPerPage);t>-1&&t<this.props.itemsPerPageOptions.length-1?this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[t+1]):this.props.onChangeItemsPerPage(this.props.itemsPerPage+this.props.itemsPerPageOptions[this.props.itemsPerPageOptions.length-1])}}},{key:"resetItemsPerPage",value:function(){this.props.onChangeItemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[0])}},{key:"getSectionBetweenPaginationButtons",value:function(){return this.props.showMoreButton?o.createElement(r.Button,{id:"showMoreButton",bsSize:"sm",disabled:!this.props.itemsPerPageOptions||!this.props.itemsPerPage||!this.props.totalItems||this.props.itemsPerPage>=this.props.totalItems,onClick:this.handleShowMore,style:{width:200},bsStyle:this.props.bsStyle},"Show more"):o.createElement("span",{key:"textBetweenButtons",className:c()("btn","btn-sm","btn-default","textBetweenButtons","disabled",a.a["default-cursor"]),style:{cursor:"default",color:"black"}},o.createElement(s.If,{condition:this.props.pageNumberEditable},o.createElement(p.a,{className:a.a["page-number-input"],value:this.props.currentPage+"",setValue:this.jumpToPage,maxChars:6,numericOnly:!0})),this.props.textBetweenButtons)}},{key:"render",value:function(){var t=(this.props.itemsPerPageOptions||[]).map(function(t){return o.createElement("option",{key:t,value:t+""},t)});this.props.showAllOption&&t.push(o.createElement("option",{key:"all",value:g+""},"all"));var e=[o.createElement(s.If,{condition:!!this.props.showFirstPage},o.createElement(r.Button,{key:"firstPageBtn",bsSize:"sm",disabled:!!this.props.firstPageDisabled,onClick:this.props.onFirstPageClick,className:c()(this.props.groupButtons?void 0:a.a["margin-right-button"]),bsStyle:this.props.bsStyle},this.props.firstButtonContent)),o.createElement(r.Button,{className:c()("prevPageBtn",this.props.groupButtons?void 0:a.a["margin-right-button"]),key:"prevPageBtn",bsSize:"sm",disabled:!!this.props.previousPageDisabled,onClick:this.props.onPreviousPageClick,bsStyle:this.props.bsStyle},this.props.previousButtonContent),this.getSectionBetweenPaginationButtons(),o.createElement(r.Button,{className:c()("nextPageBtn",this.props.groupButtons?void 0:a.a["margin-left-button"]),key:"nextPageBtn",bsSize:"sm",disabled:!!this.props.nextPageDisabled,onClick:this.props.onNextPageClick,bsStyle:this.props.bsStyle},this.props.nextButtonContent),o.createElement(s.If,{condition:!!this.props.showLastPage},o.createElement(r.Button,{key:"lastPageBtn",bsSize:"sm",disabled:!!this.props.lastPageDisabled,onClick:this.props.onLastPageClick,className:c()(this.props.groupButtons?void 0:a.a["margin-left-button"]),bsStyle:this.props.bsStyle},this.props.lastButtonContent)),o.createElement(s.If,{condition:!!this.props.showMoreButton},o.createElement(r.Button,{id:"resetItemsPerPageButton",bsStyle:"link",bsSize:"sm",className:this.props.itemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage>this.props.itemsPerPageOptions[0]?void 0:a.a["hidden-button"],onClick:this.resetItemsPerPage},"Reset"))];return e=this.props.groupButtons?o.createElement(r.ButtonGroup,{style:{float:"none"}},e):o.createElement("div",{style:{float:"none"}},e),this.shouldHidePaginationControls&&(e=null),o.createElement("div",{className:c()(a.a.paginationControls,this.props.className),style:this.props.style},o.createElement("span",{style:{fontSize:12,marginRight:10}},this.props.textBeforeButtons),e,o.createElement(s.If,{condition:!!this.props.showItemsPerPageSelector&&!this.shouldHidePaginationControls},o.createElement(r.FormGroup,{bsSize:"sm",className:a.a["form-select"]},o.createElement(r.FormControl,{className:"itemsPerPageSelector",componentClass:"select",value:this.props.itemsPerPage,onChange:this.handleChangeItemsPerPage},t))))}},{key:"shouldHidePaginationControls",get:function(){return this.props.hidePaginationIfOnePage&&this.props.itemsPerPageOptions&&void 0!==this.props.totalItems&&this.props.itemsPerPageOptions[0]>=this.props.totalItems}}])&&d(n.prototype,i),l&&d(n,l),e}();v.defaultProps={itemsPerPage:g,itemsPerPageOptions:[10,25,50,100],showAllOption:!0,textBeforeButtons:"",textBetweenButtons:"text btwn buttons",firstButtonContent:o.createElement("i",{className:"fa fa-angle-double-left"}),previousButtonContent:o.createElement("i",{className:"fa fa-angle-left"}),nextButtonContent:o.createElement("i",{className:"fa fa-angle-right"}),lastButtonContent:o.createElement("i",{className:"fa fa-angle-double-right"}),showItemsPerPageSelector:!0,showFirstPage:!1,showLastPage:!1,className:"",style:{},previousPageDisabled:!1,nextPageDisabled:!1,pageNumberEditable:!1,showMoreButton:!0,groupButtons:!0,hidePaginationIfOnePage:!0,bsStyle:"default"};v=b([l.observer],v)},562:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return p});var o,r,i,a=n(2),s=n(9);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.PIE_CHART="PIE_CHART",t.BAR_CHART="BAR_CHART",t.SURVIVAL="SURVIVAL",t.TABLE="TABLE",t.SCATTER="SCATTER",t.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",t.FUSION_GENES_TABLE="FUSION_GENES_TABLE",t.CNA_GENES_TABLE="CNA_GENES_TABLE",t.NONE="NONE"}(r||(r={})),function(t){t.PIE_CHART="pie chart",t.BAR_CHART="bar chart",t.SURVIVAL="survival plot",t.TABLE="table",t.SCATTER="density plot",t.MUTATED_GENES_TABLE="table",t.FUSION_GENES_TABLE="table",t.CNA_GENES_TABLE="table",t.NONE="none"}(i||(i={}));var u="Freq",c={alwaysShownClinicalAttributes:["SAMPLE_CANCER_TYPE","SAMPLE_CANCER_TYPE_DETAILED"],defaultPriority:1,tableAttrs:["SAMPLE_CANCER_TYPE","SAMPLE_CANCER_TYPE_DETAILED"],initialBins:{SAMPLE_MSI_SCORE:[1,2,5,10,30]},priority:{SAMPLE_CANCER_TYPE:3e3,PATIENT_CANCER_TYPE:3e3,SAMPLE_CANCER_TYPE_DETAILED:2e3,PATIENT_CANCER_TYPE_DETAILED:2e3,OS_SURVIVAL:400,DFS_SURVIVAL:300,MUTATION_COUNT_CNA_FRACTION:200,MUTATED_GENES_TABLE:90,FUSION_GENES_TABLE:85,CNA_GENES_TABLE:80,CANCER_STUDIES:70,SEQUENCED:60,HAS_CNA_DATA:50,PATIENT_SAMPLE_COUNT:40,MUTATION_COUNT:30,FRACTION_GENOME_ALTERED:20,PATIENT_GENDER:9,SAMPLE_GENDER:9,PATIENT_SEX:9,SAMPLE_SEX:9,PATIENT_AGE:9,SAMPLE_AGE:9,PATIENT_RACE:8,SAMPLE_RACE:8,PATIENT_ETHNICITY:8,SAMPLE_ETHNICITY:8,SAMPLE_SAMPLE_TYPE:8,PATIENT_SAMPLE_TYPE:8,PATIENT_HISTOLOGY:8,SAMPLE_HISTOLOGY:8,SAMPLE_TUMOR_TYPE:8,PATIENT_TUMOR_TYPE:8,PATIENT_SUBTYPE:8,SAMPLE_SUBTYPE:8,PATIENT_TUMOR_SITE:8,SAMPLE_TUMOR_SITE:8},thresholds:{pieToTable:20,piePadding:20,barRatio:.8,rowsInTableForOneGrid:4,clinicalCharts:20,chartHighlight:1e4},layout:{layout:[],cols:6,grid:{w:195,h:170},gridMargin:{x:5,y:5},dimensions:(o={},l(o,r.PIE_CHART,{w:1,h:1}),l(o,r.BAR_CHART,{w:2,h:1}),l(o,r.SCATTER,{w:2,h:2}),l(o,r.TABLE,{w:2,h:2}),l(o,r.SURVIVAL,{w:2,h:2}),l(o,r.MUTATED_GENES_TABLE,{w:2,h:2}),l(o,r.FUSION_GENES_TABLE,{w:2,h:2}),l(o,r.CNA_GENES_TABLE,{w:2,h:2}),l(o,r.NONE,{w:0,h:0}),o)},colors:{theme:{primary:"#2986E2",secondary:"#DC3912",tertiary:"#f88508",quaternary:"#109618",unselectedGroup:"#2986E2",selectedGroup:"#DC3912",clinicalFilterTitle:"#A9A9A9",clinicalFilterContent:"#2986E2"}}},p=s.assign(c,a.b.serverConfig.study_view)},571:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o=n(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},p=function(t){function e(t){var n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(i=s(e).call(this,t))||"object"!==r(i)&&"function"!=typeof i?l(o):i).enterPressedSinceLastBlur=!1,n.dirty=!1,n.onKeyPress=n.onKeyPress.bind(l(n)),n.onKeyUp=n.onKeyUp.bind(l(n)),n.onBlur=n.onBlur.bind(l(n)),n.spanRef=n.spanRef.bind(l(n)),n}var n,p,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,o["Component"]),n=e,(p=[{key:"spanRef",value:function(t){this.spanElt=t}},{key:"onKeyPress",value:function(t){this.props.onKeyPress&&this.props.onKeyPress(t);var e=t.key;if("Enter"===e)return t.preventDefault(),this.enterPressedSinceLastBlur=!0,void t.currentTarget.blur();if(this.props.numericOnly){/^\d$/.test(e)||t.preventDefault()}else if(this.props.isPercentage){/^[%\d]$/.test(e)||t.preventDefault()}if(this.props.maxChars&&this.spanElt.innerText.length===this.props.maxChars){var n=window.getSelection();n.containsNode(this.spanElt,!0)&&n.toString().length||t.preventDefault()}}},{key:"onKeyUp",value:function(t){this.props.onKeyUp&&this.props.onKeyUp(t),this.props.maxChars&&this.spanElt.innerText.length>this.props.maxChars&&(this.spanElt.innerText=this.spanElt.innerText.substring(this.spanElt.innerText.length-this.props.maxChars))}},{key:"onBlur",value:function(t){this.props.onBlur&&this.props.onBlur(t);var e=t.currentTarget.innerText;this.setText(this.props.value),e.length>0&&(e!==this.props.value||this.enterPressedSinceLastBlur)&&(this.dirty=!0,this.props.setValue(e)),this.enterPressedSinceLastBlur=!1}},{key:"setText",value:function(t){this.spanElt.innerText=t}},{key:"componentDidMount",value:function(){this.setText(this.props.value)}},{key:"componentWillReceiveProps",value:function(t){(this.dirty||t.value!==this.props.value)&&(this.dirty=!1,this.setText(t.value))}},{key:"render",value:function(){var t=this.props,e=(t.contentEditable,t.onKeyPress,t.onKeyUp,t.onBlur,t.value,t.setValue,t.maxChars,t.numericOnly,t.isPercentage,t.textFieldAppearance,t.style),n=c(t,["contentEditable","onKeyPress","onKeyUp","onBlur","value","setValue","maxChars","numericOnly","isPercentage","textFieldAppearance","style"]),r={};return this.props.textFieldAppearance&&(r={MozAppearance:"textfield",WebkitAppearance:"textfield",backgroundColor:"white",border:"1px solid darkgray",boxShadow:"1px 1px 1px 0 lightgray inset",marginTop:"5px",padding:"2px 3px"}),r=Object.assign({},r,e),o.createElement("span",i({ref:this.spanRef,contentEditable:!0,onKeyPress:this.onKeyPress,onKeyUp:this.onKeyUp,onBlur:this.onBlur,style:r},n))}}])&&a(n.prototype,p),d&&a(n,d),e}()},573:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(33),r=n.n(o);function i(t){var e="string"==typeof t?{pathname:t}:t;return r.a.format(Object.assign({protocol:"https",host:"www.ncbi.nlm.nih.gov"},e))}},593:function(t,e,n){t.exports=n(24)(3)},594:function(t,e,n){t.exports=n(24)(1013)},604:function(t,e,n){t.exports=n(24)(897)},622:function(t,e,n){"use strict";function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return t.forEach(function(t){var n=!0;void 0!==t.visible&&(n=t.visible);var o=t.id||t.name;e[o]=n}),e}function r(t,e,n){return e?Object.assign({},e):Object.assign({},t,n||{})}function i(t,e,n){var r=t;return r||(r=o(n)),r[e]=!r[e],r}n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return i})},623:function(t,e,n){"use strict";function o(t,e){var n=null;return function(o){null!==n&&(window.clearTimeout(n),n=null);var r=o.currentTarget.value;n=window.setTimeout(function(){t(r)},e||400)}}n.d(e,"a",function(){return o})},627:function(t,e,n){t.exports={portalWidth:"copyDownloadControls-module__portalWidth__wDcH_",framedImage:"copyDownloadControls-module__framedImage__1bvsU",downloadTabLinksGroup:"copyDownloadControls-module__downloadTabLinksGroup__-hkGB"}},628:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n(0),r=n(16),i=n(84),a=n(509);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,p(e).apply(this,arguments))}var n,s,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o["Component"]),n=e,(s=[{key:"copyButton",value:function(){var t=o.createElement("button",{ref:this.props.copyButtonRef,className:"btn btn-sm btn-default","data-clipboard-text":"NA",id:"copyButton",onClick:this.props.handleCopy},this.props.copyLabel," ",o.createElement("i",{className:"fa fa-clipboard"}));return o.createElement(a.b,l({overlay:o.createElement("span",{className:"alert-success"},"Copied!"),visible:this.props.showCopyMessage},this.baseTooltipProps),o.createElement(a.b,l({overlay:o.createElement("span",null,"Copy"),visible:!this.props.showCopyMessage&&void 0},this.baseTooltipProps),t))}},{key:"downloadButton",value:function(){return o.createElement(a.b,l({overlay:o.createElement("span",null,"Download TSV")},this.baseTooltipProps),o.createElement(i.Button,{className:"btn-sm",onClick:this.props.handleDownload},this.props.downloadLabel," ",o.createElement("i",{className:"fa fa-cloud-download"})))}},{key:"render",value:function(){return o.createElement("span",{className:this.props.className},o.createElement(i.ButtonGroup,{className:this.props.className},o.createElement(r.If,{condition:this.props.showCopy},this.copyButton()),o.createElement(r.If,{condition:this.props.showDownload},this.downloadButton())))}},{key:"baseTooltipProps",get:function(){return{placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5}}}])&&u(n.prototype,s),f&&u(n,f),e}();f.defaultProps={className:"",copyLabel:"",downloadLabel:"",showCopy:!0,showDownload:!0,showCopyMessage:!1}},634:function(t,e,n){t.exports=n(24)(89)},655:function(t,e,n){"use strict";var o=n(0),r=(n(712),n(44)),i=n.n(r),a=n(18);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,u(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.headers,n=t.rows,r=t.className,a=t.noRowsText,s=n.length>0?n:[o.createElement("tr",{key:"0"},o.createElement("td",{style:{textAlign:"center"},colSpan:e.length},a||"There are no results."))];return o.createElement("table",{className:i()("simple-table table table-striped table-border-top",r)},o.createElement("thead",null,o.createElement("tr",null,e)),o.createElement("tbody",null,s))}}])&&s(n.prototype,r),a&&s(n,a),e}();f=d([a.observer],f),e.a=f},656:function(t,e,n){t.exports={portalWidth:"styles-module__portalWidth__3H61V",framedImage:"styles-module__framedImage__3vt8Y",absolutePanel:"styles-module__absolutePanel__3vVTX",selectedInfoLoadingIndicator:"styles-module__selectedInfoLoadingIndicator__lMgyy",selectedInfo:"styles-module__selectedInfo__1Vuvh",selectedInfoCheckbox:"styles-module__selectedInfoCheckbox__1dPUi",mainTabs:"styles-module__mainTabs__3BkVf",studyViewSurvivalPlot:"styles-module__studyViewSurvivalPlot__2J73a",studyViewSurvivalPlotTitle:"styles-module__studyViewSurvivalPlotTitle__3oyYN",studyViewSurvivalPlotBody:"styles-module__studyViewSurvivalPlotBody__38PYq",studyViewAutoMargin:"styles-module__studyViewAutoMargin__ST9aM",studyViewLoadingIndicator:"styles-module__studyViewLoadingIndicator__3qAeE",userSelections:"styles-module__userSelections__2SV9k",parentGroupLogic:"styles-module__parentGroupLogic__3_MlA",summaryClearAllBtn:"styles-module__summaryClearAllBtn__2ZLVo",filterClinicalAttrName:"styles-module__filterClinicalAttrName__1bFhQ",summary:"styles-module__summary___VCN0",description:"styles-module__description__2DLbO",actionButtons:"styles-module__actionButtons__3xgw0",studyFilterResult:"styles-module__studyFilterResult__2WKz_",titleMeta:"styles-module__titleMeta__2ZbFA"}},675:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(0),r=n(9),i=n(84);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=u(e).call(this,t))||"object"!==a(r)&&"function"!=typeof r?c(o):r).handleSelect=n.handleSelect.bind(c(n)),n}var n,d,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,o["Component"]),n=e,(d=[{key:"render",value:function(){var t=this;return o.createElement(i.Dropdown,{className:this.props.className,id:"dropdown-custom-1"},o.createElement(i.Dropdown.Toggle,s({rootCloseEvent:"click"},{className:"btn-sm"}),this.props.buttonText),o.createElement(i.Dropdown.Menu,s({bsRole:"menu"},{style:{paddingLeft:10,overflow:"auto",maxHeight:300,whiteSpace:"nowrap"}}),o.createElement("ul",{className:"list-unstyled"},this.props.columnVisibility&&r.map(this.props.columnVisibility,function(e){return e.togglable?o.createElement("li",{key:e.id},o.createElement(i.Checkbox,{"data-id":e.id,onChange:t.handleSelect,checked:e.visible,inline:!0},e.name)):null}))))}},{key:"handleSelect",value:function(t){var e=t.currentTarget.getAttribute("data-id");this.props.onColumnToggled&&e&&this.props.onColumnToggled(e,this.props.columnVisibility)}}])&&l(n.prototype,d),f&&l(n,f),e}();d.defaultProps={className:"",buttonText:"Columns"}},677:function(t,e,n){"use strict";n.d(e,"a",function(){return L});var o=n(0),r=n(9),i=n(720),a=n.n(i),s=n(18),l=n(7),u=n(44),c=n.n(u),p=n(53),d=n(111),f=n(16),h=n(15),y=n(513),m=n(509),b=n(153),g=n(154),v=n(67),w=n(54);function E(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),t}function C(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?T(t):e}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},k=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{l(o.next(t))}catch(t){i(t)}}function s(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}l((o=o.apply(t,e||[])).next())})},x=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},M=n(580),L=function(t){function e(){var t;return _(this,e),(t=C(this,O(e).apply(this,arguments))).showDescription=!1,t}return N(e,o["Component"]),S(e,[{key:"render",value:function(){var t=this;return o.createElement("div",{className:a.a.studySummary},o.createElement("div",{className:"panel panel-default"},o.createElement("div",{className:"panel-heading"},o.createElement("span",{className:a.a.studyName},o.createElement("i",{className:"fa fa-".concat(this.showDescription?"minus":"plus","-circle"),onClick:function(){return t.showDescription=!t.showDescription}}),this.props.name),o.createElement("a",{target:"_blank",href:"study?id=".concat(this.props.studyId)},o.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"}))),o.createElement("div",{className:a.a.studyDescription,style:{display:this.showDescription?"block":"none"}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(this.props.description.replace(/\r?\n/g,"<br/>"))}}))))}}]),e}();I([l.observable],L.prototype,"showDescription",void 0),L=I([s.observer],L);var B=function(t){function e(t){var n;return _(this,e),(n=C(this,O(e).call(this,t))).saving=!1,n.sharing=!1,n.copied=!1,n.virtualStudy=Object(p.b)({invoke:function(){return k(T(n),void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.saving&&!this.sharing){t.next=8;break}return e=r.groupBy(this.props.selectedSamples,function(t){return t.studyId}),n=r.reduce(e,function(t,e,n){return t.push({id:n,samples:e.map(function(t){return t.sampleId})}),t},[]),o=this.props.filter,o.sampleIdentifiersSet,i=x(o,["sampleIdentifiersSet"]),a={name:this.name||this.namePlaceHolder,description:this.description,studyViewFilter:i,origin:this.props.studyWithSamples.map(function(t){return t.studyId}),studies:n},t.next=7,d.a.saveVirtualStudy(a,this.saving);case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t,this)}))}},void 0),n.genes=Object(p.b)({invoke:function(){return k(T(n),void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.isEmpty(this.entrezIds)){t.next=2;break}return t.abrupt("return",g.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:this.entrezIds}));case 2:return t.abrupt("return",[]);case 3:case"end":return t.stop()}},t,this)}))},onResult:function(t){n.description=Object(y.Y)(n.props.description,n.props.studyWithSamples,n.props.filter,n.attributeNamesSet,t,n.props.user)},default:[]}),n.name=t.name||"",n.description=t.description||"",n}return N(e,o["Component"]),S(e,[{key:"copyLinkRef",value:function(t){var e=this;t&&new M(t,{text:function(){return e.virtualStudyUrl}})}},{key:"onCopyClick",value:function(){this.copied=!0}},{key:"onTooltipVisibleChange",value:function(t){this.copied=!t}},{key:"render",value:function(){var t=this;return o.createElement("div",{className:a.a.virtualStudy},o.createElement(v.a,{isLoading:this.genes.isPending,style:{display:"block",textAlign:"center"}}),this.genes.isComplete&&o.createElement(f.If,{condition:this.virtualStudy.isError},o.createElement(f.Then,null,o.createElement("div",{style:{textAlign:"center"}},o.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"orange"}}),o.createElement("span",{style:{marginLeft:"5px"}},"Failed to ".concat(this.saving?"save":"share"," virtual study, please try again later.")))),o.createElement(f.Else,null,o.createElement(f.If,{condition:this.virtualStudy.isPending||r.isUndefined(this.virtualStudy.result)},o.createElement(f.Then,null,o.createElement("div",null,o.createElement("div",{className:c()(a.a.virtualStudyForm,this.virtualStudy.isPending?a.a.disabled:void 0)},o.createElement("div",{className:"input-group"},o.createElement("input",{type:"text",className:"form-control",value:this.name,placeholder:this.namePlaceHolder||"Virtual study name",onInput:function(e){return t.name=e.currentTarget.value}}),o.createElement("div",{className:"input-group-btn"},this.showSaveButton&&o.createElement("button",{className:c()("btn btn-default",a.a.saveButton),"data-event":Object(w.e)({category:"studyPage",action:"saveVirtualStudy"}),type:"button",disabled:this.buttonsDisabled,onClick:function(e){t.saving=!0}},this.saving?o.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Save"),o.createElement("button",{className:c()("btn btn-default",a.a.saveButton),type:"button",disabled:this.buttonsDisabled,"data-event":Object(w.e)({category:"studyPage",action:"shareVirtualStudy"}),onClick:function(e){t.sharing=!0}},this.sharing?o.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Share"))),o.createElement("textarea",{className:"form-control",rows:10,placeholder:"Virtual study description (Optional)",value:this.description,onChange:function(e){return t.description=e.currentTarget.value}})),o.createElement("span",{style:{display:"block","font-weight":"bold"}},"This virtual study was derived from:"),o.createElement("div",{className:a.a.studiesSummaryInfo},this.props.studyWithSamples.map(function(t){return o.createElement(L,t)})))),o.createElement(f.Else,null,o.createElement("div",{className:c()(a.a.result)},o.createElement("div",{className:a.a.name},o.createElement("a",{target:"_blank",href:"".concat(this.virtualStudyUrl),style:{width:"220px"}},this.virtualStudyUrl)),o.createElement("div",{className:c()("btn-group btn-group-xs",a.a.controls)},o.createElement(m.b,{overlay:o.createElement(f.If,{condition:this.copied},o.createElement(f.Then,null,o.createElement("span",{className:"alert-success"},"Copied!")),o.createElement(f.Else,null,o.createElement("span",null,"Copy"))),placement:"top",onVisibleChange:this.onTooltipVisibleChange},o.createElement("span",{className:"btn btn-default",ref:this.copyLinkRef,onClick:this.onCopyClick},"Copy")),o.createElement("span",{className:"btn btn-default",onClick:function(e){return window.open(t.virtualStudyUrl,"_blank")}},"View"),this.saving&&o.createElement("span",{className:"btn btn-default",onClick:function(e){t.virtualStudy.result&&window.open(Object(h.b)("results",{cancer_study_id:t.virtualStudy.result.id}),"_blank")}},"Query"))))))))}},{key:"namePlaceHolder",get:function(){return"Selected sample".concat(this.props.selectedSamples.length>1?"s":""," (").concat(Object(y.H)(),")")}},{key:"buttonsDisabled",get:function(){return r.isEmpty(this.namePlaceHolder)&&r.isEmpty(this.name)}},{key:"virtualStudyUrl",get:function(){return Object(h.b)({pathname:"study",query:{id:this.virtualStudy.result?this.virtualStudy.result.id:""}})}},{key:"showSaveButton",get:function(){return!(r.isUndefined(this.props.user)||r.isEmpty(this.props.user)||r.isEqual(this.props.user.toLowerCase(),"anonymoususer"))}},{key:"entrezIds",get:function(){var t=[];return this.props.filter&&(this.props.filter.mutatedGenes&&this.props.filter.mutatedGenes.forEach(function(e){t.push.apply(t,E(e.entrezGeneIds))}),this.props.filter.cnaGenes&&this.props.filter.cnaGenes.forEach(function(e){e.alterations.forEach(function(e){t.push(e.entrezGeneId)})})),t}},{key:"attributeNamesSet",get:function(){return r.reduce(this.props.attributesMetaSet,function(t,e,n){return t[n]=e.displayName,t},{})}}]),e}();I([l.observable],B.prototype,"name",void 0),I([l.observable],B.prototype,"description",void 0),I([l.observable],B.prototype,"saving",void 0),I([l.observable],B.prototype,"sharing",void 0),I([l.observable],B.prototype,"copied",void 0),I([l.computed],B.prototype,"namePlaceHolder",null),I([l.computed],B.prototype,"buttonsDisabled",null),I([l.computed],B.prototype,"virtualStudyUrl",null),I([b.default],B.prototype,"copyLinkRef",null),I([b.default,l.action],B.prototype,"onCopyClick",null),I([b.default,l.action],B.prototype,"onTooltipVisibleChange",null),I([l.computed],B.prototype,"showSaveButton",null),I([l.computed],B.prototype,"entrezIds",null),I([l.computed],B.prototype,"attributeNamesSet",null),B=I([s.observer],B),e.b=B},712:function(t,e,n){},715:function(t,e,n){"use strict";var o=n(0),r=n(155),i=n.n(r),a=n(18),s=n(7);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,p(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){return o.createElement("span",{className:this.props.className},this.props.showCopy&&o.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},o.createElement("i",{className:"fa fa-clipboard",style:{marginRight:5}}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&o.createElement("span",{style:{margin:"0px 10px"}},"|"),this.props.showDownload&&o.createElement("a",{onClick:this.props.handleDownload,style:{marginRight:10}},o.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),this.props.downloadLabel),this.props.showCopyMessage&&o.createElement("span",{className:"alert-success"},"Copied!"))}}])&&u(n.prototype,r),i&&u(n,i),e}();f.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",showCopy:!0,showDownload:!0};var h=n(628),y=n(44),m=n.n(y),b=n(627),g=n.n(b),v=n(734),w=n(677);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,S(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){return o.createElement("span",{className:m()(g.a.downloadTabLinksGroup,this.props.className)},this.props.showCopy&&o.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},o.createElement("i",{className:"fa fa-clipboard"}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&o.createElement("span",null,"|"),this.props.showDownload&&o.createElement("a",{onClick:this.props.handleDownload},o.createElement("i",{className:"fa fa-cloud-download"}),this.props.downloadLabel),this.props.showDownload&&this.props.showQuery&&o.createElement("span",null,"|"),this.props.showQuery&&o.createElement("a",{onClick:this.props.handleQuery},o.createElement("i",{className:"fa fa-external-link-square"}),this.props.queryButtonLabel),this.props.showQuery&&this.props.showVirtualStudy&&o.createElement("span",null,"|"),this.props.showVirtualStudy&&o.createElement(v.DefaultTooltip,{trigger:["click"],destroyTooltipOnHide:!0,overlay:this.props.virtualStudyParams&&o.createElement(w.b,{user:this.props.virtualStudyParams.user,name:this.props.virtualStudyParams.name,description:this.props.virtualStudyParams.description,studyWithSamples:this.props.virtualStudyParams.studyWithSamples,selectedSamples:this.props.virtualStudyParams.selectedSamples,filter:this.props.virtualStudyParams.filter,attributesMetaSet:this.props.virtualStudyParams.attributesMetaSet}),placement:"bottom"},o.createElement("a",null,o.createElement("i",{className:"fa fa-pie-chart"}),this.props.virtualStudyButtonLabel)),this.props.showCopyMessage&&o.createElement("span",{className:"alert-success"},"Copied!"))}}])&&_(n.prototype,r),i&&_(n,i),e}();function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}T.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",queryButtonLabel:"Query",virtualStudyButtonLabel:"Virtual Study",showCopy:!0,showDownload:!0,showQuery:!1,showVirtualStudy:!1},n.d(e,"a",function(){return M});var k=function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},x=n(580),M=function(t){function e(t){var n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,(n=!(r=N(e).call(this,t))||"object"!==I(r)&&"function"!=typeof r?A(o):r).showCopyMessage=!1,n.handleDownload=n.handleDownload.bind(A(n)),n.copyLinkRef=n.copyLinkRef.bind(A(n)),n.copyButtonRef=n.copyButtonRef.bind(A(n)),n.handleAfterCopy=n.handleAfterCopy.bind(A(n)),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,o["Component"]),n=e,(r=[{key:"render",value:function(){return"LINK"===this.props.controlsStyle?o.createElement(f,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage}):"QUERY"===this.props.controlsStyle?o.createElement(T,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage,showQuery:this.props.showQuery,handleQuery:this.props.handleQuery,showVirtualStudy:this.props.showVirtualStudy,virtualStudyParams:this.props.virtualStudyParams}):o.createElement(h.a,{className:this.props.className,handleDownload:this.handleDownload,copyButtonRef:this.copyButtonRef,handleCopy:this.handleAfterCopy,showCopyMessage:this.showCopyMessage,showCopy:this.props.showCopy,showDownload:this.props.showDownload})}},{key:"handleDownload",value:function(){this.props.downloadData&&i()(this.props.downloadData(),this.props.downloadFilename)}},{key:"copyLinkRef",value:function(t){this.handleCopyRef(t)}},{key:"copyButtonRef",value:function(t){this.handleCopyRef(t)}},{key:"handleCopyRef",value:function(t){t&&new x(t,{text:this.props.downloadData})}},{key:"handleAfterCopy",value:function(){var t=this;this.showCopyMessage=!0,setTimeout(function(){t.showCopyMessage=!1},this.props.copyMessageDuration)}}])&&O(n.prototype,r),a&&O(n,a),e}();M.defaultProps={className:"",showCopy:!0,copyMessageDuration:3e3,showDownload:!0,showQuery:!0,showVirtualStudy:!0,copyLabel:"Copy",downloadLabel:"Download",downloadFilename:"data.tsv",controlsStyle:"LINK"},k([s.observable],M.prototype,"showCopyMessage",void 0),M=k([a.observer],M)},716:function(t,e,n){},717:function(t,e,n){},718:function(t,e,n){t.exports={portalWidth:"paginationControls-module__portalWidth__2gIaM",framedImage:"paginationControls-module__framedImage__2QU5w","default-cursor":"paginationControls-module__default-cursor__3qNcu","form-select":"paginationControls-module__form-select__3-BhF","page-number-input":"paginationControls-module__page-number-input__2DGhO",paginationControls:"paginationControls-module__paginationControls__MF0uG","margin-right-button":"paginationControls-module__margin-right-button__3tzhL","margin-left-button":"paginationControls-module__margin-left-button__1rLFR","hidden-button":"paginationControls-module__hidden-button__2mt4l"}},720:function(t,e,n){t.exports={portalWidth:"styles-module__portalWidth__QOSi2",framedImage:"styles-module__framedImage__1dzkM",virtualStudy:"styles-module__virtualStudy__U7f0-",virtualStudyForm:"styles-module__virtualStudyForm__24Vwu",saveButton:"styles-module__saveButton__272LI",studiesSummaryInfo:"styles-module__studiesSummaryInfo__3ewzF",result:"styles-module__result__1BQ9F",name:"styles-module__name__3bVye",controls:"styles-module__controls__31KcC",disabled:"styles-module__disabled__M8SEC",studySummary:"styles-module__studySummary__3Tls0",studyName:"styles-module__studyName__3U1tn",studyDescription:"styles-module__studyDescription__1tQcY"}},725:function(t,e,n){t.exports=n(24)(11)},726:function(t,e,n){t.exports=n(24)(130)},767:function(t,e,n){t.exports=n(24)(168)},768:function(t,e,n){t.exports=n(24)(149)},820:function(t,e,n){t.exports=n(24)(268)}}]);