(window.webpackJsonp=window.webpackJsonp||[]).push([[8,4],Array(496).concat([function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(9),a=n.n(o),i=n(16),u=n(1025),l=n(503),c=(n(527),n(10)),s=n.n(c),p=n(1087);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=m(t).call(this,e),(n=!o||"object"!==d(o)&&"function"!=typeof o?h(r):o).refHandlers={histogramCheckbox:function(e){n.histogramCheckbox=e},curveCheckbox:function(e){n.curveCheckbox=e},div:function(e){n.div=e}};var a=0===n.props.xticks?13:30,i={label_font_size:n.props.label_font_size,xticks:n.props.xticks,yticks:n.props.yticks,nolegend:n.props.nolegend,margin:{top:n.props.margin_top,left:n.props.margin_left,right:n.props.margin_right,bottom:n.props.margin_bottom},width:n.props.width,height:n.props.height};return void 0===i.margin.bottom&&(i.margin.bottom=30+a/2),void 0===i.height&&void 0!==i.margin.top&&(i.height=(500+a)/2-i.margin.top-i.margin.bottom),n.state={show_histogram:!!n.props.init_show_histogram,show_curve:!!n.props.init_show_curve,options:i},n.toggleShowHistogram=n.toggleShowHistogram.bind(h(n)),n.toggleShowCurve=n.toggleShowCurve.bind(h(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){Object(p.a)(this,this.props.data,this.state.options,this.props.order,this.props.colors,this.props.labels)}},{key:"shouldComponentUpdate",value:function(e,t){return this.histogramCheckbox&&(t.show_histogram?s()(this.div).find(".viz_hist").show():s()(this.div).find(".viz_hist").hide()),this.curveCheckbox&&(t.show_curve?s()(this.div).find(".viz_curve").show():s()(this.div).find(".viz_curve").hide()),t.show_histogram!==this.state.show_histogram||t.show_curve!==this.state.show_curve}},{key:"toggleShowHistogram",value:function(){var e=!this.state.show_histogram;this.setState({show_histogram:e})}},{key:"toggleShowCurve",value:function(){var e=!this.state.show_curve;this.setState({show_curve:e})}},{key:"render",value:function(){var e=[r.createElement("label",{key:"histogram-toggle",style:{marginRight:10}},r.createElement("input",{ref:this.refHandlers.histogramCheckbox,type:"checkbox",checked:this.state.show_histogram,onChange:this.toggleShowHistogram,style:{marginRight:3}}),"histogram"),r.createElement("label",{key:"curve-toggle"},r.createElement("input",{ref:this.refHandlers.curveCheckbox,type:"checkbox",checked:this.state.show_curve,onChange:this.toggleShowCurve,style:{marginRight:3}}),"density estimation")];return r.createElement("div",{style:{display:"inline"},ref:this.refHandlers.div},this.props.show_controls?e:[],this.props.show_controls?r.createElement("br",null):[])}}])&&f(n.prototype,o),a&&f(n,a),t}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}g.defaultProps={data:{},order:{},colors:{},labels:{},width:200,height:void 0,margin_left:50,margin_top:20,margin_right:30,margin_bottom:void 0,xticks:3,yticks:8,label_font_size:"11.5px",nolegend:!1,init_show_histogram:!0,init_show_curve:!0,show_controls:!1};var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,T(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r["Component"]),n=t,(o=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e={data:this.props.data,colors:this.props.colors,order:this.props.order,show_controls:!1,nolegend:!0,width:64,height:64,label_font_size:"6.5px",xticks:0,yticks:0,margin_bottom:15},t={data:this.props.data,colors:this.props.colors,labels:this.props.labels,order:this.props.order,show_controls:!0,nolegend:!1,init_show_histogram:!0,init_show_curve:!0};return r.createElement(l.b,{placement:this.props.overlayPlacement,trigger:["hover","focus"],overlay:r.createElement(g,t),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!1},r.createElement("div",{className:this.props.cssClass||""},r.createElement(g,e)))}}])&&v(n.prototype,o),a&&v(n,a),t}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}I.defaultProps={order:{},colors:{},labels:{},overlayPlacement:"left"};var O=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=E(this,P(t).call(this,e))).computeMutationFrequencyBySample(e.mergedMutations);return n.state={frequencies:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r["Component"]),_(t,[{key:"shouldComponentUpdate",value:function(e){return e.containerWidth!==this.props.containerWidth}}]),_(t,[{key:"render",value:function(){var e=o.reduce(this.props.sampleManager.samples,function(e,t,n){return e[t.id]=n+1,e},{});return r.createElement("div",{style:{display:"flex"}},r.createElement(u.b,{mutations:o.flatten(this.props.mergedMutations),key:Math.random(),sampleManager:this.props.sampleManager,width:this.getTracksWidth(),cnaSegments:this.props.cnaSegments,samples:this.props.samples}),r.createElement(i.If,{condition:this.shouldShowVAFPlot()},r.createElement(I,{data:this.state.frequencies,order:this.props.sampleManager.sampleIndex,colors:this.props.sampleColors,labels:e,overlayPlacement:"right",cssClass:"vafPlot"})))}},{key:"shouldShowVAFPlot",value:function(){return this.props.mergedMutations.length>0&&this.isFrequencyExist()}},{key:"isFrequencyExist",value:function(){for(var e=0,t=Object.keys(this.state.frequencies);e<t.length;e++){var n=t[e];if(this.state.frequencies.hasOwnProperty(n)){var r=!0,o=!1,a=void 0;try{for(var i,u=this.state.frequencies[n][Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;return!isNaN(l)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}}return!1}},{key:"getTracksWidth",value:function(){return this.props.containerWidth-(this.shouldShowVAFPlot()?140:40)}},{key:"computeMutationFrequencyBySample",value:function(e){var t,n,r={},o=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,s=!0,p=!1,d=void 0;try{for(var f,m=c[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var h=f.value;h.tumorAltCount>=0&&h.tumorRefCount>=0&&(t=h.sampleId,n=h.tumorAltCount/(h.tumorRefCount+h.tumorAltCount),r[t]=r[t]||[],r[t].push(n))}}catch(e){p=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(p)throw d}}}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}for(var y=0,g=Object.keys(this.props.sampleOrder);y<g.length;y++){var b=g[y];r[b]=r[b]||[];for(var v=e.length-r[b].length,S=0;S<v;S++)r[b].push(NaN)}return r}}]),t}(),M=n(890);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function x(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?j(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(e){var n;return N(this,t),(n=x(this,L(t).call(this,e))).render=n.render.bind(j(n)),n}return F(t,r["Component"]),G(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.color,o=e.fillOpacity;return r.createElement("svg",{width:"12",height:"12",className:"case-label-header"},r.createElement("g",{transform:"translate(6,6)"},r.createElement("circle",{r:"6",fill:n,fillOpacity:o}),r.createElement("text",{y:"4",textAnchor:"middle",fontSize:"10",fill:"white"},t)))}}]),t}(),K=n(510),V=n(1152),q=n.n(V),U=n(545);function Q(e,t){var n=Number(e.priority)||0,r=(Number(t.priority)||0)-n;return 0===r?(void 0===e.displayName?"":e.displayName).localeCompare(t.displayName):r}var z=n(760);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function t(){return Z(this,t),J(this,X(t).apply(this,arguments))}return $(t,K["b"]),t}(),ne=function(e){function t(){return Z(this,t),J(this,X(t).apply(this,arguments))}var n,o,a;return $(t,r["Component"]),n=t,(o=[{key:"getDisplayValue",value:function(e){var t;switch(e.attribute){case"Overall Survival (Months)":t=parseInt(e.value,10).toFixed(0);break;default:t=e.value}return t}},{key:"render",value:function(){var e=this,t=this.props.data&&this.props.data.sort(function(e,t){return Q(e.clinicalAttribute,t.clinicalAttribute)}).map(function(e){return{attribute:e.clinicalAttribute.displayName||"",value:e.value}});return r.createElement(te,{data:t,columns:[{name:"Attribute",render:function(e){return r.createElement("span",null,e.attribute)},download:function(e){return e.attribute},filter:function(e,t,n){return e.attribute.toString().toUpperCase().indexOf(n)>-1},sortBy:function(e){return e.attribute}},{name:"Value",render:function(t){return Object(z.a)(t.value)?r.createElement("a",{href:t.value,target:"_blank"},t.value):r.createElement("span",null,e.getDisplayValue(t))},download:function(t){return e.getDisplayValue(t)},filter:function(e,t,n){return e.value.toString().toUpperCase().indexOf(n)>-1}}],showPagination:!1,showColumnVisibility:!1,className:q.a.patientTable,initialItemsPerPage:U.b,showFilter:!1!==this.props.showFilter,showCopyDownload:!1!==this.props.showCopyDownload})}}])&&W(n.prototype,o),a&&W(n,a),t}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,ie(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement(i.If,{condition:!0===this.props.tooltipEnabled},r.createElement(i.Then,null,this.contentWithTooltip()),r.createElement(i.Else,null,this.mainContent()))}},{key:"sampleLabelHTML",value:function(){var e=this.props,t=e.sampleNumber,n=e.sampleColor,o=e.fillOpacity;return r.createElement(H,{fillOpacity:o,color:n,label:t.toString()})}},{key:"tooltipContent",value:function(){var e=this.props,t=e.sample,n=e.extraTooltipText;return r.createElement("div",{style:{maxHeight:400,maxWidth:600,overflow:"auto"}},r.createElement("h5",{style:{marginBottom:1}},r.createElement("svg",{height:"12",width:"12",style:{marginRight:5}},this.sampleLabelHTML()),t.id),r.createElement("h5",null,n),r.createElement(ne,{showFilter:!1,showCopyDownload:!1,showTitleBar:!1,data:t.clinicalData}))}},{key:"mainContent",value:function(){var e=this.props.additionalContent,t=r.createElement("svg",{height:"12",width:"12"},this.sampleLabelHTML());return e&&(t=r.createElement("span",null,t,e)),t}},{key:"contentWithTooltip",value:function(){return r.createElement(l.b,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.tooltipContent(),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!1,onPopupAlign:l.c},this.mainContent())}}])&&oe(n.prototype,o),a&&oe(n,a),t}();le.defaultProps={tooltipEnabled:!0};n(1039);function ce(e,t){if(!e)return null;for(var n=0;n<t.length;n+=1){var r=e[t[n]];if(null!=r)return r}return null}function se(e){return function(e){var t,n=c.extend({},e),r=function(e,t){var n,r,o,a=null;for(o=0;o<t.length&&(null==(n=e[t[o]])||((r=n.toLowerCase()).indexOf("metasta")>=0?a="Metastasis":r.indexOf("recurr")>=0?a="Recurrence":r.indexOf("progr")>=0?a="Progressed":r.indexOf("xeno")>=0||r.indexOf("pdx")>=0?a="Xenograft":r.indexOf("cfdna")>=0?a="cfDNA":r.indexOf("prim")>=0&&(a="Primary"),null==a));o+=1);return a}(e,["SAMPLE_CLASS","SAMPLE_TYPE","TUMOR_TISSUE_SITE","TUMOR_TYPE"]);return null!==r&&(n.DERIVED_NORMALIZED_CASE_TYPE=r,null!==(t="Metastasis"===n.DERIVED_NORMALIZED_CASE_TYPE?ce(e,["METASTATIC_SITE","TUMOR_SITE"]):"Primary"===n.DERIVED_NORMALIZED_CASE_TYPE?ce(e,["PRIMARY_SITE","TUMOR_SITE"]):ce(e,["TUMOR_SITE"]))&&(n.DERIVED_SAMPLE_LOCATION=t)),n}(function(e){for(var t=c.extend({},e),n=["not applicable","not available","pending","discrepancy","completed","","null","unknown","na","n/a","[unkown]","[not submitted]","[not evaluated]","[not applicable]","[not available]","[undefined]"],r=Object.keys(e),o=0;o<r.length;o+=1){var a=void 0,i=r[o];if(a=e[i],n.indexOf(a.toLowerCase())>-1)delete t[i];else switch(i){case"OS_MONTHS":case"DFS_MONTHS":case"AGE":c.isNumeric(a)&&(a=Math.floor(a)),t[i]=a}}return t}(e))}function pe(e,t){return Object.keys(e).map(function(n){var o=e[n];return r.createElement("span",{is:!0,class:"clinical-attribute","attr-id":n,"attr-value":o,study:t},o)})}var de=n(1153),fe=n.n(de),me=n(623),he=n.n(me);function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ge=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.samples=t,this.sampleIndex={},this.sampleLabels={},this.clinicalDataLegacyCleanAndDerived={},this.sampleColors={},this.commonClinicalDataLegacyCleanAndDerived={},t.forEach(function(e,t){r.clinicalDataLegacyCleanAndDerived[e.id]=se(o.fromPairs(e.clinicalData.map(function(e){return[e.clinicalAttributeId,e.value]})));var n="black";"Primary"===r.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE?n=fe.a.sampleColorPrimary:"Recurrence"===r.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE||"Progressed"===r.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE?n=fe.a.sampleColorRecurrence:"Metastasis"===r.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE?n=fe.a.sampleColorMetastasis:"cfDNA"===r.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE?n=fe.a.sampleColorCfdna:"Xenograft"===r.clinicalDataLegacyCleanAndDerived[e.id].DERIVED_NORMALIZED_CASE_TYPE&&(n=fe.a.sampleColorXenograft),r.sampleColors[e.id]=n}),["CANCER_TYPE","CANCER_TYPE_DETAILED"].forEach(function(n){e.isSameClinicalAttributeInAllSamples(t,n)&&(r.commonClinicalDataLegacyCleanAndDerived[n]=r.clinicalDataLegacyCleanAndDerived[t[0].id][n],t.forEach(function(e){delete r.clinicalDataLegacyCleanAndDerived[e.id][n]}))}),this.samples=function(e,t,n){var r=[];r=r.concat(e.map(function(e){return e.id})).sort(he.a);var a={};n&&(a=n.filter(function(e){return"SPECIMEN"===e.eventType}).reduce(function(e,t){var n=o.find(t.attributes,function(e){return("SAMPLE_ID"===e.key||"SpecimenReferenceNumber"===e.key||"SPECIMEN_REFERENCE_NUMBER"===e.key)&&-1!==r.indexOf(e.value)});return n&&(e[n.value]=t.startNumberOfDaysSinceDiagnosis),e},{}));for(var i=["Primary"],u=[],l=0;l<e.length;l++){var c=e[l].id,s=a[c],p=i.indexOf(t[c].DERIVED_NORMALIZED_CASE_TYPE);-1===p&&(p=i.length);var d=r.indexOf(c);u=u.concat({id:c,sampleTypeIndex:p,naturalSortIndex:d,eventOrdering:s})}u=o.orderBy(u,["eventOrdering","sampleTypeIndex","naturalSortIndex"],["asc","asc","asc"]);var f=o.fromPairs(u.map(function(e,t){return[e.id,t]}));return o.sortBy(e,function(e){return f[e.id]})}(t,this.clinicalDataLegacyCleanAndDerived,n),this.samples.forEach(function(e,t){r.sampleIndex[e.id]=t,r.sampleLabels[e.id]=String(t+1)}),this.sampleOrder=o.sortBy(Object.keys(this.sampleIndex),function(e){return r.sampleIndex[e]})}var t,n,a;return t=e,a=[{key:"isSameClinicalAttributeInAllSamples",value:function(e,t){var n=o.uniq(e.map(function(e){var n=e.clinicalData.find(function(e){return e.clinicalAttributeId===t});return n?n.value:n}));return 1===n.length&&n[0]}},{key:"getClinicalAttributeInSample",value:function(e,t){return o.find(e.clinicalData,function(e){return e.clinicalAttributeId===t})}}],(n=[{key:"getComponentForSample",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=o.find(this.samples,function(t){return t.id===e});return i&&r.createElement(le,{sample:i,sampleNumber:this.sampleIndex[i.id]+1,sampleColor:this.sampleColors[i.id],fillOpacity:t,extraTooltipText:n,additionalContent:a})}},{key:"getColorForSample",value:function(e){return this.sampleColors[e]}},{key:"getSampleIdsInOrder",value:function(){return this.samples.map(function(e){return e.id})}},{key:"getComponentsForSamples",value:function(){var e=this;this.samples.map(function(t){return e.getComponentForSample(t.id)})}}])&&ye(t.prototype,n),a&&ye(t,a),e}(),be=n(1154),ve=n.n(be);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ce(this,Ie(t).apply(this,arguments))}var a,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["Component"]),a=t,(i=[{key:"render",value:function(){return r.createElement("div",{className:ve.a.patientHeader},this.props.patient&&this.getOverlayTriggerPatient(this.props.patient,this.props.studyId,this.props.sampleManager),this.getDarwinUrl(this.props.darwinUrl))}},{key:"getDarwinUrl",value:function(e){if(null!=e&&""!==e){var t=n(1155);return r.createElement("a",{target:"_blank",href:e},r.createElement("img",{style:{paddingLeft:"5px",height:"21px",width:"29px"},src:t}))}return null}},{key:"getPopoverPatient",value:function(e){return e&&r.createElement("div",{key:e.id,style:{maxHeight:400,maxWidth:600,overflow:"auto"}},r.createElement("h5",null,e.id),r.createElement(ne,{showFilter:!1,showCopyDownload:!1,showTitleBar:!1,data:e.clinicalData}))}},{key:"getOverlayTriggerPatient",value:function(e,t,n){var a,i=this,u=Object(o.fromPairs)(e.clinicalData.map(function(e){return[e.clinicalAttributeId,e.value]}));return n&&Object.keys(n.commonClinicalDataLegacyCleanAndDerived).forEach(function(e){u[e]=n.commonClinicalDataLegacyCleanAndDerived[e]}),e&&r.createElement(l.b,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.getPopoverPatient(e),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0,onPopupAlign:l.c},r.createElement("span",{className:"clinical-spans",id:"patient-attributes"},r.createElement("a",{href:"javascript:void(0)",onClick:function(){return i.props.handlePatientClick(e.id)}},e.id),(a=t,pe(se(u),a))))}}])&&Te(a.prototype,i),u&&Te(a,u),t}(),Pe=(n(706),5),ke="There are not enough mutations to call mutational signatures for this case.",_e=15,we="This case has a low number of mutations, signatures are highly uncertain.";function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,Ne(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement(l.b,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.tooltipContent(this.props.data,this.props.metadata,this.props.uniqueSampleKey),destroyTooltipOnHide:!1,onPopupAlign:l.c},r.createElement("span",{style:{paddingLeft:2}},r.createElement("a",null,"(Significant Mutational Signatures)")))}},{key:"tooltipContent",value:function(e,t,n){var o=function(e,t,n){var r=a()(e).filter(["uniqueSampleKey",n]).value(),o={numberOfMutationsForSample:0,confidenceStatement:"",significantSignatures:{}},i=!0,u=!1,l=void 0;try{for(var c,s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var p=c.value;if(o.numberOfMutationsForSample=p.numberOfMutationsForSample,p.confidence>.85){o.significantSignatures[p.mutationalSignatureId]=p.value,o.numberOfMutationsForSample<=Pe?o.confidenceStatement+=ke:o.numberOfMutationsForSample<=_e&&(o.confidenceStatement+=we);var d=!0,f=!1,m=void 0;try{for(var h,y=t[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value;p.mutationalSignatureId===g.mutationalSignatureId&&(o.confidenceStatement+=" "+g.confidenceStatement)}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}}}}catch(e){u=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(u)throw l}}return a.a.isEmpty(o.significantSignatures)&&(o.confidenceStatement+="No signatures confidently detected."),o.confidenceStatement=o.confidenceStatement.trim(),o}(e,t,n),i=!0;return a.a.isEmpty(o.significantSignatures)&&(i=!1),r.createElement("div",{style:{maxWidth:250}},r.createElement("span",{className:"small"},o.confidenceStatement),r.createElement("hr",{style:{marginTop:10,marginBottom:10}}),i&&r.createElement("table",null,r.createElement("th",null,"Significant Mutational Signatures"),r.createElement("th",null,"Exposure"),Object.keys(o.significantSignatures).map(function(e){return r.createElement("tr",null,r.createElement("td",{style:{paddingTop:3}},e),r.createElement("td",{style:{paddingTop:3}},(t=o.significantSignatures[e].toString(),n=Math.round(100*parseFloat(t)),r.createElement("div",{className:"progress",style:{position:"relative",width:100,marginBottom:0}},r.createElement("div",{"data-test":"progress-bar",className:"progress-bar ".concat("progress-bar-info"),role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,style:Object.assign({backgroundColor:"darkgray"},{width:"".concat(n,"%")})}),r.createElement("div",{style:{position:"absolute",textShadow:"-1px 0 white, 0 1px white, 1px 0 white, 0 -1px white",width:100,marginTop:2,textAlign:"center"}},n,"%")))));var t,n})))}}])&&Me(n.prototype,o),i&&Me(n,i),t}(),xe=n(616),Le=n(152),je=n(83),Fe=n(7),Be=n(54),He=n(73),Ke=n(505);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return qe(this,(n=Ue(t)).call.apply(n,[this,function(e){return e.sampleId+","+e.entrezGeneId},function(e){return e.sampleId+","+e.entrezGeneId},e].concat(o)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,Ke["a"]),t}();function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xe=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function $e(e,t){return Xe(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,i,u,l,c,s,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,r={},a=!0,i=!1,u=void 0,n.prev=5,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)s=c.value,r[s.sampleId]=r[s.sampleId]||[],r[s.sampleId].push(s.entrezGeneId);n.next=13;break;case 9:n.prev=9,n.t0=n.catch(5),i=!0,u=n.t0;case 13:n.prev=13,n.prev=14,a||null==l.return||l.return();case 16:if(n.prev=16,!i){n.next=19;break}throw u;case 19:return n.finish(16);case 20:return n.finish(13);case 21:return n.next=23,Promise.all(Object.keys(r).map(function(e){return null===t?Promise.reject("No molecular profile id given."):je.a.fetchMrnaPercentileUsingPOST({molecularProfileId:t,sampleId:e,entrezGeneIds:r[e]})}));case 23:return p=n.sent,n.abrupt("return",o.flatten(p));case 27:throw n.prev=27,n.t1=n.catch(0),n.t1;case 30:case"end":return n.stop()}},n,null,[[0,27],[5,9,13,21],[14,,16,20]])}))}var et=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,Ze(t).call(this,$e,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(t,ze),t}(),tt=n(13),nt=n.n(tt),rt=n(592),ot=n(15),at=n(631),it=n(632),ut=n(581),lt=n(583),ct=n(515);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){return e.keyword?e.entrezGeneId+"~"+e.keyword:e.entrezGeneId+""}function ht(e,t){return t?e.length>0?je.a.fetchVariantCountsUsingPOST({molecularProfileId:t,variantCountIdentifiers:e}):Promise.resolve([]):Promise.reject("No mutation molecular profile id given")}var yt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pt(this,dt(t).call(this,mt,mt,ht,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(t,Ke["a"]),t}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){return e.entrezGeneId+"~"+e.alteration}function Ct(e,t){return t?e.length?Le.a.fetchCopyNumberCountsUsingPOST({molecularProfileId:t,copyNumberCountIdentifiers:e}):Promise.resolve([]):Promise.reject("No discrete CNA molecular profile id given")}var It=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bt(this,vt(t).call(this,Tt,Tt,Ct,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(t,Ke["a"]),t}(),At=n(666),Et=n(593),Pt=n(2),kt=n(506),_t=n(634),wt=n(508),Ot=n(584),Mt=n(205),Rt=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function Nt(e){return Rt(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(ot.a)("api-legacy/proxy/matchminer/api"),t.abrupt("return",tt.post(n+"/trials").set("Content-Type","application/json").send(e).then(function(e){return JSON.parse(e.text).map(function(e){return{id:e.nct_id+"+"+e.protocol_no,nctId:e.nct_id,protocolNo:e.protocol_no,phase:e.phase,shortTitle:e.short_title,status:e.status,treatmentList:e.treatment_list}})}));case 2:case"end":return t.stop()}},t)}))}function Dt(e,t){t=function(e){var t=["Control Arm","Placebo Arm"],n=[];return o.forEach(e,function(e){e.armType&&t.includes(e.armType)||n.push(e)}),n}(t);var n=o.groupBy(t,function(e){return e.id}),r=o.map(n,function(t,n){var r,a,i=o.find(e,function(e){return e.id===n}),u={id:i.id,nctId:i.nctId,protocolNo:i.protocolNo,phase:i.phase,shortTitle:i.shortTitle,status:i.status,matches:[],priority:0};return u.matches=function(e,t){var n=o.groupBy(e,function(e){return e.armDescription});return o.map(n,function(e,n){var r={armDescription:n,drugs:[],matches:[]};return o.isUndefined(t.treatmentList.step[0].arm)||(r.drugs=function(e,t){var n=[];if(""!==e){var r=o.find(t,function(t){return t.arm_description===e});o.isUndefined(r.drugs)||n.push(o.map(r.drugs,function(e){return e.name}))}return n}(n,t.treatmentList.step[0].arm)),r.matches=function(e){var t=o.groupBy(e,function(e){return e.trialAgeNumerical});return o.map(t,function(e,n){var r=o.uniq(o.map(e,function(e){return e.trialOncotreePrimaryDiagnosis})),a=[],i=[];o.map(r,function(e){e.includes("!")?i.push(e.replace("!","")):a.push(e)});var u={trialAgeNumerical:n,trialOncotreePrimaryDiagnosis:{positive:a,negative:i},matches:[],notMatches:[]},l=function(e){var t=o.groupBy(e,function(e){return e.genomicAlteration}),n=[],r=[];return o.forEach(t,function(e,t){var a=function(e,t){var n=o.groupBy(e,function(e){return e.patientGenomic}),r={genomicAlteration:t,matches:[]};return r.matches=o.map(n,function(e){return{trueHugoSymbol:e[0].trueHugoSymbol,trueProteinChange:e[0].trueProteinChange,sampleIds:o.uniq(o.map(e,function(e){return e.sampleId}))}}),r}(e,t);t.includes("!")?r.push(a):n.push(a)}),{notMatches:r,matches:n}}(t[n]);return u.matches=l.matches,u.notMatches=l.notMatches,u})}(e),r})}(t,i),u.priority=(r=u.matches,a=0,o.forEach(r,function(e){o.forEach(e.matches,function(e){a+=function(e){return e.notMatches.length>0?0===e.matches.length?2:1:0}(e)})}),a),u});return o.sortBy(r,function(e){return e.priority})}function Gt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var jt=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Lt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ft=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function Bt(e){return Ft(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==/TCGA/.test(e)){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,nt.a.get(Object(ot.l)(e));case 6:return n=t.sent,t.abrupt("return",n.body&&n.body.total_count&&n.body.total_count>0);case 8:case"end":return t.stop()}},t)}))}var Ht=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.activeTabId="",this._patientId="",this.urlValidationError=null,this.ajaxErrors=[],this.studyId="",this._sampleId="",this.mutationMolecularProfileId=Object(Be.b)({await:function(){return[t.molecularProfilesInStudy]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.I)(this.molecularProfilesInStudy,this.studyId));case 1:case"end":return e.stop()}},e,this)}))}}),this.uncalledMutationMolecularProfileId=Object(Be.b)({await:function(){return[t.molecularProfilesInStudy]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.K)(this.molecularProfilesInStudy,this.studyId));case 1:case"end":return e.stop()}},e,this)}))}}),this._patientIdsInCohort=[],this.mutationalSignatureData=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.v)());case 1:case"end":return e.stop()}},e)}))}}),this.mutationalSignatureMetaData=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.w)());case 1:case"end":return e.stop()}},e)}))}}),this.hasMutationalSignatureData=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}},e)}))},default:!1}),this.derivedPatientId=Object(Be.b)({await:function(){return[t.samples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,o=this.samples.result[Symbol.iterator]();case 5:if(t=(a=o.next()).done){e.next=11;break}return i=a.value,e.abrupt("return",i.patientId);case 8:t=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),n=!0,r=e.t0;case 17:e.prev=17,e.prev=18,t||null==o.return||o.return();case 20:if(e.prev=20,!n){e.next=23;break}throw r;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return","");case 26:case"end":return e.stop()}},e,this,[[3,13,17,25],[18,,20,24]])}))},default:""}),this.clinicalDataPatient=Object(Be.b)({await:function(){return"patient"===t.pageMode?[]:[t.derivedPatientId]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.h)(this.studyId,this.patientId));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.samples=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.C)(this.studyId,this._patientId,this.sampleId));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.allSamplesForPatient=Object(Be.b)({await:function(){return[t.derivedPatientId]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.a.getAllSamplesOfPatientInStudyUsingGET({studyId:this.studyId,patientId:this.derivedPatientId.result,projection:"DETAILED"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.samplesWithoutCancerTypeClinicalData=Object(Be.b)({await:function(){return[t.samples,t.clinicalDataForSamples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.J)(this.samples,this.clinicalDataForSamples));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studiesForSamplesWithoutCancerTypeClinicalData=Object(Be.b)({await:function(){return[t.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.D)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studies=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.a.getStudyUsingGET({studyId:this.studyId});case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}},e,this)}))}},[]),this.studyIdToStudy=Object(Be.b)({await:function(){return[t.studies]},invoke:function(){return Promise.resolve(o.keyBy(t.studies.result,function(e){return e.studyId}))}},{}),this.cnaSegments=Object(Be.b)({await:function(){return[t.samples]},invoke:function(){return Object(kt.m)(t.studyId,t.sampleIds)}},[]),this.pathologyReport=Object(Be.b)({await:function(){return[t.derivedPatientId]},invoke:function(){if(t.studyId.toLowerCase().indexOf("tcga")>-1){var e="https://raw.githubusercontent.com/inodb/datahub/a0d36d77b242e32cda3175127de73805b028f595/tcga/pathology_reports/symlink_by_patient",n="https://github.com/inodb/datahub/raw/a0d36d77b242e32cda3175127de73805b028f595/tcga/pathology_reports",r=[];return function t(o,a){return nt.a.get("".concat(e,"/").concat(o,".").concat(a)).then(function(e){var i=e.text.split("/")[1];return r.push({name:"".concat(i),url:"".concat(n,"/").concat(i)}),t(o,a+1)},function(){return r})}(t.patientId,0)}return Promise.resolve([])},onError:function(e){}},[]),this.cosmicData=Object(Be.b)({await:function(){return[t.mutationData,t.uncalledMutationData]},invoke:function(){return Object(kt.o)(t.mutationData,t.uncalledMutationData)}}),this.mutSigData=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.t)(this.studyId));case 1:case"end":return e.stop()}},e,this)}))}}),this.indexedVariantAnnotations=Object(Be.b)({await:function(){return[t.mutationData,t.uncalledMutationData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(kt.F)(Object(kt.c)(this.mutationData,this.uncalledMutationData),["annotation_summary","hotspots"],Pt.b.serverConfig.isoformOverrideSource);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.hotspotData=Object(Be.b)({await:function(){return[t.mutationData,t.uncalledMutationData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(_t.a)(this.mutationData,this.uncalledMutationData));case 1:case"end":return e.stop()}},e,this)}))},onError:function(){}}),this.clinicalDataForSamples=Object(Be.b)({await:function(){return[t.samples]},invoke:function(){var e={identifiers:t.sampleIds.map(function(e){return{entityId:e,studyId:t.studyId}})};return Object(kt.g)(e)}},[]),this.clinicalDataGroupedBySample=Object(Be.b)({await:function(){return[t.clinicalDataForSamples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.Q)(this.sampleIds,this.clinicalDataForSamples.result));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.getWholeSlideViewerIds=Object(Be.b)({await:function(){return[t.clinicalDataGroupedBySample]},invoke:function(){var e=t.clinicalDataGroupedBySample.result;if(e){var n=o.chain(e).map(function(e){return e.clinicalData}).flatten().filter(function(e){return"MSK_SLIDE_ID"===e.clinicalAttributeId}).map(function(e){return e.value}).value();return Promise.resolve(n)}return Promise.resolve([])}}),this.studyMetaData=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Le.a.getStudyUsingGET({studyId:this.studyId}));case 1:case"end":return e.stop()}},e,this)}))}}),this.patientViewData=Object(Be.b)({await:function(){return[t.clinicalDataPatient,t.clinicalDataForSamples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=this.patientId,this.studyId,n=this.sampleIds,r=this.clinicalDataPatient.result,o=this.clinicalDataForSamples.result,{patient:{id:t,clinicalData:r},samples:Object(kt.Q)(n,o)}));case 1:case"end":return e.stop()}var t,n,r,o},e,this)}))}},{}),this.sequencedSampleIdsInStudy=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=wt.e,e.next=3,Le.a.getAllSampleIdsInSampleListUsingGET({sampleListId:"".concat(this.studyId,"_sequenced")});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},{}),this.molecularProfilesInStudy=Object(Be.b)(function(){return Le.a.getAllMolecularProfilesInStudyUsingGET({studyId:t.studyId})},[]),this.molecularProfileIdToMolecularProfile=Object(Be.b)({await:function(){return[t.molecularProfilesInStudy]},invoke:function(){return Promise.resolve(t.molecularProfilesInStudy.result.reduce(function(e,t){return e[t.molecularProfileId]=t,e},{}))}},{}),this.referenceGenes=Object(Be.b)({await:function(){return[t.studies,t.discreteCNAData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.B)(this.studies.result[0].referenceGenome,this.discreteCNAData.result.map(function(e){return e.gene.hugoGeneSymbol.toUpperCase()})));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){throw e}}),this.mrnaRankMolecularProfileId=Object(Be.b)({await:function(){return[t.molecularProfilesInStudy]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.H)(this.molecularProfilesInStudy));case 1:case"end":return e.stop()}},e,this)}))}},null),this.discreteCNAData=Object(Be.b)({await:function(){return[t.molecularProfileIdDiscrete,t.samples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={sampleIds:this.sampleIds},e.abrupt("return",Object(kt.p)(t,this.molecularProfileIdDiscrete));case 2:case"end":return e.stop()}},e,this)}))},onResult:function(e){t.discreteCNACache.addData(e)}},[]),this.gisticData=Object(Be.b)({invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.s)(this.studyId));case 1:case"end":return e.stop()}},e,this)}))}},{}),this.clinicalEvents=Object(Be.b)({await:function(){return[t.patientViewData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.a.getAllClinicalEventsOfPatientInStudyUsingGET({studyId:this.studyId,patientId:this.patientId,projection:"DETAILED"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}},[]),this.molecularProfileIdDiscrete=Object(Be.b)({await:function(){return[t.molecularProfilesInStudy]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.G)(this.molecularProfilesInStudy));case 1:case"end":return e.stop()}},e,this)}))}}),this.studyToMolecularProfileDiscrete=Object(Be.b)({await:function(){return[t.molecularProfileIdDiscrete]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!this.molecularProfileIdDiscrete.result){e.next=5;break}return e.next=4,Le.a.getMolecularProfileUsingGET({molecularProfileId:this.molecularProfileIdDiscrete.result});case 4:t[this.studyId]=e.sent;case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}))}},{}),this.darwinUrl=Object(Be.b)({await:function(){return[t.derivedPatientId]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==Pt.b.serverConfig.enable_darwin){e.next=7;break}return e.next=3,nt.a.get(Object(ot.j)(this.sampleIds,this.patientId));case 3:return t=e.sent,e.abrupt("return",t.text);case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}},e,this)}))},onError:function(){}}),this.hasTissueImageIFrameUrl=Object(Be.b)({await:function(){return[t.derivedPatientId]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bt(this.patientId));case 1:case"end":return e.stop()}},e,this)}))},onError:function(){}},!1),this.uncalledMutationData=Object(Be.b)({await:function(){return[t.samples,t.uncalledMutationMolecularProfileId]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={sampleIds:this.samples.result.map(function(e){return e.sampleId})},e.abrupt("return",Object(kt.u)(t,this.uncalledMutationMolecularProfileId.result));case 2:case"end":return e.stop()}},e,this)}))}},[]),this.mutationData=Object(Be.b)({await:function(){return[t.samples,t.mutationMolecularProfileId]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={sampleIds:this.sampleIds},e.abrupt("return",Object(kt.u)(t,this.mutationMolecularProfileId.result));case 2:case"end":return e.stop()}},e,this)}))}},[]),this.oncoKbCancerGenes=Object(Be.b)({invoke:function(){return Pt.b.serverConfig.show_oncokb?Object(kt.y)():Promise.resolve([])}},[]),this.oncoKbAnnotatedGenes=Object(Be.b)({await:function(){return[t.oncoKbCancerGenes]},invoke:function(){return Pt.b.serverConfig.show_oncokb?Promise.resolve(o.reduce(t.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{}),this.oncoKbData=Object(Be.b)({await:function(){return[t.oncoKbAnnotatedGenes,t.mutationData,t.uncalledMutationData,t.clinicalDataForSamples,t.studiesForSamplesWithoutCancerTypeClinicalData,t.studies]},invoke:function(){return Pt.b.serverConfig.show_oncokb?Object(kt.z)(t.uniqueSampleKeyToTumorType,t.oncoKbAnnotatedGenes.result||{},t.mutationData,void 0,t.uncalledMutationData):Promise.resolve({indicatorMap:null,uniqueSampleKeyToTumorType:null})},onError:function(e){}},kt.a),this.civicGenes=Object(Be.b)({await:function(){return[t.mutationData,t.uncalledMutationData,t.clinicalDataForSamples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pt.b.serverConfig.show_civic?Object(kt.e)(this.mutationData,this.uncalledMutationData):{});case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.civicVariants=Object(Be.b)({await:function(){return[t.civicGenes,t.mutationData,t.uncalledMutationData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt.b.serverConfig.show_civic||!this.civicGenes.result){e.next=4;break}return e.abrupt("return",Object(kt.f)(this.civicGenes.result,this.mutationData,this.uncalledMutationData));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.cnaOncoKbData=Object(Be.b)({await:function(){return[t.oncoKbAnnotatedGenes,t.discreteCNAData,t.clinicalDataForSamples,t.studies]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pt.b.serverConfig.show_oncokb){e.next=4;break}return e.abrupt("return",Object(kt.j)(this.uniqueSampleKeyToTumorType,this.oncoKbAnnotatedGenes.result||{},this.discreteCNAData));case 4:return e.abrupt("return",kt.a);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},kt.a),this.cnaCivicGenes=Object(Be.b)({await:function(){return[t.discreteCNAData,t.clinicalDataForSamples]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pt.b.serverConfig.show_civic?Object(kt.i)(this.discreteCNAData):{});case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.cnaCivicVariants=Object(Be.b)({await:function(){return[t.civicGenes,t.mutationData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("complete"!=this.cnaCivicGenes.status){e.next=2;break}return e.abrupt("return",Object(kt.f)(this.cnaCivicGenes.result));case 2:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.copyNumberCountData=Object(Be.b)({await:function(){return[t.discreteCNAData]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(kt.l)(this.discreteCNAData,this.molecularProfileIdDiscrete));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.indexedHotspotData=Object(Be.b)({await:function(){return[t.hotspotData]},invoke:function(){return Promise.resolve(Object(ct.t)(t.hotspotData))}}),this.trialMatches=Object(Be.b)({invoke:function(){return function(e){return Rt(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(ot.a)("api-legacy/proxy/matchminer/api"),t.abrupt("return",tt.post(n+"/post_trial_match").set("Content-Type","application/json").send(e).then(function(e){return JSON.parse(e.text).map(function(e){return{id:e.nct_id+"+"+e.protocol_no,nctId:e.nct_id,protocolNo:e.protocol_no,oncotreePrimaryDiagnosisName:e.oncotree_primary_diagnosis_name,gender:e.gender,matchType:e.match_type,armDescription:e.arm_description?e.arm_description:"",armType:e.arm_type,trueHugoSymbol:e.true_hugo_symbol,trialAccrualStatus:e.trial_accrual_status,matchLevel:e.match_level,sampleId:e.sample_id,mrn:e.mrn,trueProteinChange:e.true_protein_change,vitalStatus:e.vital_status,genomicAlteration:e.genomic_alteration,patientClinical:e.trial_age_numerical+" "+e.trial_oncotree_primary_diagnosis,patientGenomic:e.true_hugo_symbol+" "+e.true_protein_change,trialAgeNumerical:e.trial_age_numerical,trialOncotreePrimaryDiagnosis:e.trial_oncotree_primary_diagnosis}})}));case 2:case"end":return t.stop()}},t)}))}({mrn:t.patientId})}},[]),this.trialIds=Object(Be.b)({await:function(){return[t.trialMatches]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Set,n=new Set,o.forEach(this.trialMatches.result,function(e){o.isEmpty(e.protocolNo)?t.add(e.nctId):n.add(e.protocolNo)}),e.abrupt("return",{nct_id:Gt(t),protocol_no:Gt(n)});case 4:case"end":return e.stop()}},e,this)}))}},{nct_id:[],protocol_no:[]}),this.trials=Object(Be.b)({await:function(){return[t.trialIds]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trialIds.result.protocol_no.length>0||this.trialIds.result.nct_id.length>0)){e.next=2;break}return e.abrupt("return",Nt(this.trialIds.result));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}))}},[]),this.detailedTrialMatches=Object(Be.b)({await:function(){return[t.trials,t.trialMatches]},invoke:function(){return Ft(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.trials.result||!this.trialMatches.result){e.next=2;break}return e.abrupt("return",Dt(this.trials.result,this.trialMatches.result));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}))}},[]),Object(He.labelMobxPromises)(this),this.internalClient=je.a}var t,n,r;return t=e,(n=[{key:"setSampleId",value:function(e){e&&(this._patientId=""),this._sampleId=e}},{key:"setPatientId",value:function(e){e&&(this._sampleId=""),this._patientId=e}},{key:"setActiveTabId",value:function(e){this.activeTabId=e}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"patientId",get:function(){return this._patientId?this._patientId:this.derivedPatientId.result}},{key:"sampleId",get:function(){return this._sampleId}},{key:"pageTitle",get:function(){return"patient"===this.pageMode?"Patient: ".concat(this.patientId):"Sample: ".concat(this.sampleId)}},{key:"metaDescription",get:function(){var e="patient"===this.pageMode?this.patientId:this.sampleId;return"".concat(e," from ").concat(this.studyMetaData.result.name)}},{key:"pageMode",get:function(){return this._sampleId?"sample":"patient"}},{key:"caseId",get:function(){return"sample"===this.pageMode?this.sampleId:this.patientId}},{key:"patientIdsInCohort",set:function(e){var t=this;Object(Fe.runInAction)(function(){return t._patientIdsInCohort=e})},get:function(){var e=Object(Mt.a)();return e||this._patientIdsInCohort}},{key:"myCancerGenomeData",get:function(){return Object(kt.x)()}},{key:"studyToCancerType",get:function(){return Object(kt.T)(this.studies.result)}},{key:"mergedDiscreteCNAData",get:function(){return Object(kt.U)(this.discreteCNAData)}},{key:"sampleIds",get:function(){return this.samples.result?this.samples.result.map(function(e){return e.sampleId}):[]}},{key:"mergedMutationData",get:function(){return Object(kt.V)(this.mutationData)}},{key:"mergedMutationDataIncludingUncalled",get:function(){return Object(kt.W)(this.mutationData,this.uncalledMutationData)}},{key:"uniqueSampleKeyToTumorType",get:function(){return Object(kt.M)(this.clinicalDataForSamples,this.studiesForSamplesWithoutCancerTypeClinicalData,this.samplesWithoutCancerTypeClinicalData)}},{key:"mrnaExprRankCache",get:function(){return new et(this.mrnaRankMolecularProfileId.result)}},{key:"variantCountCache",get:function(){return new yt(this.mutationMolecularProfileId.result)}},{key:"discreteCNACache",get:function(){return new rt.a(this.studyToMolecularProfileDiscrete.result)}},{key:"oncoKbEvidenceCache",get:function(){return new at.a}},{key:"genomeNexusCache",get:function(){return new ut.a}},{key:"genomeNexusMyVariantInfoCache",get:function(){return new lt.a}},{key:"pubMedCache",get:function(){return new it.a}},{key:"copyNumberCountCache",get:function(){return new It(this.molecularProfileIdDiscrete.result)}},{key:"cancerTypeCache",get:function(){return new At.a}},{key:"mutationCountCache",get:function(){return new Et.a}},{key:"downloadDataFetcher",get:function(){return new Ot.a(this.mutationData)}}])&&xt(t.prototype,n),r&&xt(t,r),e}();jt([Fe.observable],Ht.prototype,"activeTabId",void 0),jt([Fe.observable],Ht.prototype,"_patientId",void 0),jt([Fe.computed],Ht.prototype,"patientId",null),jt([Fe.observable],Ht.prototype,"urlValidationError",void 0),jt([Fe.observable],Ht.prototype,"ajaxErrors",void 0),jt([Fe.observable],Ht.prototype,"studyId",void 0),jt([Fe.observable],Ht.prototype,"_sampleId",void 0),jt([Fe.computed],Ht.prototype,"sampleId",null),jt([Fe.computed],Ht.prototype,"pageTitle",null),jt([Fe.computed],Ht.prototype,"metaDescription",null),jt([Fe.computed],Ht.prototype,"pageMode",null),jt([Fe.computed],Ht.prototype,"caseId",null),jt([Fe.observable],Ht.prototype,"_patientIdsInCohort",void 0),jt([Fe.computed],Ht.prototype,"patientIdsInCohort",null),jt([Fe.computed],Ht.prototype,"myCancerGenomeData",null),jt([Fe.computed],Ht.prototype,"studyToCancerType",null),jt([Fe.computed],Ht.prototype,"mergedDiscreteCNAData",null),jt([Fe.computed],Ht.prototype,"sampleIds",null),jt([Fe.computed],Ht.prototype,"mergedMutationData",null),jt([Fe.computed],Ht.prototype,"mergedMutationDataIncludingUncalled",null),jt([Fe.computed],Ht.prototype,"uniqueSampleKeyToTumorType",null),jt([Object(Fe.action)("SetSampleId")],Ht.prototype,"setSampleId",null),jt([Object(Fe.action)("SetPatientId")],Ht.prototype,"setPatientId",null),jt([He.cached],Ht.prototype,"mrnaExprRankCache",null),jt([He.cached],Ht.prototype,"variantCountCache",null),jt([He.cached],Ht.prototype,"discreteCNACache",null),jt([He.cached],Ht.prototype,"oncoKbEvidenceCache",null),jt([He.cached],Ht.prototype,"genomeNexusCache",null),jt([He.cached],Ht.prototype,"genomeNexusMyVariantInfoCache",null),jt([He.cached],Ht.prototype,"pubMedCache",null),jt([He.cached],Ht.prototype,"copyNumberCountCache",null),jt([He.cached],Ht.prototype,"cancerTypeCache",null),jt([He.cached],Ht.prototype,"mutationCountCache",null),jt([He.cached],Ht.prototype,"downloadDataFetcher",null),jt([Fe.action],Ht.prototype,"setActiveTabId",null),jt([Fe.action],Ht.prototype,"clearErrors",null);var Kt=n(1206),Vt=n.n(Kt);function qt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xt=function(e){function t(){return zt(this,t),Wt(this,Yt(t).apply(this,arguments))}return Zt(t,K["b"]),t}(),$t=function(e){function t(){return zt(this,t),Wt(this,Yt(t).apply(this,arguments))}var n,a,i;return Zt(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e,t,n=(e=this.props.samples,t={columns:[],items:{}},e&&e.forEach(function(e){var n=e.id;t.columns.push({id:n}),e.clinicalData.forEach(function(e){t.items[e.clinicalAttributeId]=t.items[e.clinicalAttributeId]||{},t.items[e.clinicalAttributeId][n]=e.value.toString(),t.items[e.clinicalAttributeId].clinicalAttribute=e.clinicalAttribute,t.items[e.clinicalAttributeId].id=e.clinicalAttributeId})}),t),o=this.prepareData(n),a=[{id:"attribute"}].concat(qt(n.columns)).map(function(e){return{name:e.id,render:function(t){return Object(z.a)(t[e.id])?r.createElement("a",{href:t[e.id],target:"_blank"},t[e.id]):r.createElement("span",null,t[e.id])},download:function(t){return"".concat(t[e.id])},filter:function(t,n,r){return t[e.id].toString().toUpperCase().indexOf(r)>-1}}});return a[0].sortBy=function(e){return e.attribute},r.createElement(Xt,{columns:a,data:o,className:Vt.a.sampleTable,showPagination:!1,initialItemsPerPage:U.b,showColumnVisibility:!1})}},{key:"prepareData",value:function(e){var t=[];return o.each(o.values(e.items).sort(function(e,t){return Q(e.clinicalAttribute,t.clinicalAttribute)}),function(n){var r={attribute:n.clinicalAttribute.displayName};e.columns.map(function(e){e.id in n?r[e.id]=n[e.id]:r[e.id]="n/a"}),t.push(r)}),t}}])&&Ut(n.prototype,a),i&&Ut(n,i),t}(),en=n(18),tn=n(818),nn=n(802),rn=n(819),on=n(518);function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var un,ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n,o){var a=e.getCopyNumberCount(t,n),i=e.makeCohortFrequencyViz(t,a),u=e.getGisticValue(t,o),l=null;if(null!==u){l=r.createElement(rn.a,{text:"G",tooltip:function(){return e.getGisticTooltip(u.qValue,u.peakGeneCount)}})}return r.createElement("div",null,null!==i&&i,l)}},{key:"makeCohortFrequencyViz",value:function(t,n){if(null!==n){var o=n.data;if("complete"===n.status&&o){var a=[o.numberOfSamplesWithAlterationInGene],i=t[0].alteration>0?["red"]:["blue"];return r.createElement(nn.a,{counts:a,freqColors:i,totalCount:o.numberOfSamples,tooltip:e.tooltipContent(t,o)})}return"complete"===n.status?r.createElement(l.b,{placement:"left",overlay:r.createElement("span",null,"Data not available for this gene and alteration.")},r.createElement("span",{style:{color:"gray",fontSize:"xx-small",textAlign:"center"}},"NA")):r.createElement(l.b,{placement:"left",overlay:r.createElement("span",null,"Error retrieving data.")},r.createElement("span",{style:{color:"gray",fontSize:"xx-small",textAlign:"center"}},"ERROR"))}return r.createElement(l.b,{placement:"left",overlay:r.createElement("span",null,"Querying server for data.")},r.createElement("span",{style:{color:"gray",fontSize:"xx-small",textAlign:"center"}},"LOADING"))}},{key:"tooltipContent",value:function(e,t){var n=t.numberOfSamplesWithAlterationInGene,o=t.numberOfSamplesWithAlterationInGene/t.numberOfSamples,a=r.createElement("b",null,Object(on.c)(o)),i=e[0].gene.hugoGeneSymbol,u=-2===e[0].alteration?"deleted":"amplified",l=1===n?"sample":"samples",c=1===n?"has":"have";return r.createElement("span",null,n," ",l," (",a,") in this study ",c," ",u," ",i)}},{key:"getSortValue",value:function(t,n){var r=e.getCopyNumberCount(t,n);return r&&r.data?r.data.numberOfSamplesWithAlterationInGene:null}},{key:"getCopyNumberCount",value:function(e,t){return t.get({entrezGeneId:e[0].entrezGeneId,alteration:e[0].alteration})}},{key:"getGisticValue",value:function(e,t){var n,r=t[e[0].entrezGeneId];if(r){var o=2===e[0].alteration;n=r.find(function(e){return e.amp===o})}return void 0===n?null:n}},{key:"getGisticTooltip",value:function(e,t){return r.createElement("div",null,r.createElement("b",null,"Gistic"),r.createElement("br",null),r.createElement("span",null," Q-value: ",(e||0).toExponential(3)),r.createElement("br",null),r.createElement("span",null," Number of genes in the peak: ",t))}}],(n=null)&&an(t.prototype,n),o&&an(t,o),e}();function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e[e.DeepDel=-2]="DeepDel",e[e.AMP=2]="AMP"}(un||(un={}));var sn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"displayText",value:function(e){return un[e[0].alteration]}},{key:"renderFunction",value:function(t){var n=null;switch(t[0].alteration){case-2:n="#0000FF";break;case 2:n="#FF0000"}return n?r.createElement("span",{style:{color:n}},e.displayText(t)):r.createElement("span",null)}},{key:"download",value:function(e){return un[e[0].alteration]}},{key:"sortValue",value:function(e){return e[0].alteration}}],(n=null)&&cn(t.prototype,n),o&&cn(t,o),e}(),pn=n(830),dn=n(831),fn=n(535),mn=n(538),hn=n(582),yn=n(627);function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getData",value:function(t,n,r,a,i,u){var l;if(t){var c=void 0,s="complete",p=t[0].gene.hugoGeneSymbol,d=!1,f=!1;!n||n instanceof Error||(d=void 0!==o.find(n.result,function(e){return e.oncokbAnnotated&&e.entrezGeneId===t[0].entrezGeneId}),f=void 0!==o.find(n.result,function(e){return e.entrezGeneId===t[0].entrezGeneId})),r&&r.result instanceof Error?s="error":d&&(!r||!r.result||r.result instanceof Error||"complete"!==r.status||(c=e.getIndicatorData(t,r.result,u)),s=r?r.status:"pending"),l={hugoGeneSymbol:p,oncoKbStatus:s,oncoKbIndicator:c,oncoKbGeneExist:d,isOncoKbCancerGene:f,civicEntry:a&&a.result&&i&&i.result?e.getCivicEntry(t,a.result,i.result):void 0,civicStatus:a&&a.status&&i&&i.status?e.getCivicStatus(a.status,i.status):"pending",hasCivicVariants:!(a&&a.result&&i&&i.result)||e.hasCivicVariants(t,a.result,i.result),myCancerGenomeLinks:[],hotspotStatus:"complete",isHotspot:!1,is3dHotspot:!1}}else l=pn.a.DEFAULT_ANNOTATION_DATA;return l}},{key:"getCivicEntry",value:function(e,t,n){var r=null,a=e[0].gene.hugoGeneSymbol,i=Object(yn.b)(e,a,n),u=t[a];return!u||o.isEmpty(i)&&""===u.description||(r=Object(yn.a)(u,i)),r}},{key:"getCivicStatus",value:function(e,t){return"error"===e||"error"===t?"error":"complete"===e&&"complete"===t?"complete":"pending"}},{key:"hasCivicVariants",value:function(e,t,n){var r=e[0].gene.hugoGeneSymbol,a=Object(yn.b)(e,r,n);return!t[r]||!o.isEmpty(a)}},{key:"getIndicatorData",value:function(e,t,n){if(null!==t.uniqueSampleKeyToTumorType&&null!==t.indicatorMap){var r=Object(mn.d)(e[0].gene.entrezGeneId,t.uniqueSampleKeyToTumorType[e[0].uniqueSampleKey],Object(hn.a)(e[0].alteration));if(t.indicatorMap[r]){var o=t.indicatorMap[r];if(null===o.query.tumorType&&n){var a=n[e[0].studyId];"mixed"!==a.cancerTypeId&&(o.query.tumorType=a.cancerType.name)}return o}}}},{key:"getEvidenceQuery",value:function(e,t){return t.uniqueSampleKeyToTumorType?Object(fn.d)(e[0].gene.entrezGeneId,t.uniqueSampleKeyToTumorType[e[0].uniqueSampleKey],Object(hn.a)(e[0].alteration)):void 0}},{key:"sortValue",value:function(t,n,r,a,i){var u=e.getData(t,n,r,a,i);return o.flatten([Object(ct.y)(u.oncoKbIndicator),dn.a.sortValue(u.civicEntry),u.isOncoKbCancerGene?1:0])}},{key:"renderFunction",value:function(t,n){var r,o=e.getData(t,n.oncoKbCancerGenes,n.oncoKbData,n.civicGenes,n.civicVariants,n.studyIdToStudy);return!n.oncoKbData||!n.oncoKbData.result||n.oncoKbData.result instanceof Error||(r=this.getEvidenceQuery(t,n.oncoKbData.result)),pn.a.mainContent(o,n,n.oncoKbEvidenceCache,r,n.pubMedCache)}}],(n=null)&&gn(t.prototype,n),r&&gn(t,r),e}(),vn=n(509);function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){if(!n)return r.createElement("span",null);var o=e.getPresentSamples(t),a=n.samples.map(function(e){return r.createElement("li",{className:e.id in o?"":"invisible"},n.getComponentForSample(e.id,o[e.id]?1:.1,o[e.id]?"":"Mutation has supporting reads, but wasn't called"))});return r.createElement("div",{style:{position:"relative"}},r.createElement("ul",{style:{marginBottom:0},className:"list-inline list-unstyled"},a))}},{key:"getSortValue",value:function(t,n){if(n){var r=e.getPresentSamples(t),o=[];o.push(Object.keys(r).filter(function(e){return r[e]}).length);var a=!0,i=!1,u=void 0;try{for(var l,c=n.getSampleIdsInOrder()[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value;o.push(+!!r[s])}}catch(e){i=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw u}}return o}return[]}},{key:"getPresentSamples",value:function(e){return e.reduce(function(e,t,n){return t.molecularProfileId&&Object(vn.l)(t.molecularProfileId)?t.tumorAltCount&&t.tumorAltCount>0&&(e[t.sampleId]=!1):e[t.sampleId]=!0,e},{})}},{key:"getSample",value:function(e){var t=[];return e&&e.forEach(function(e){t.push(e.sampleId)}),1==t.length?t[0]:t}}],(n=null)&&Sn(t.prototype,n),o&&Sn(t,o),e}();function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wn=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_n(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},On=function(e){function t(){return In(this,t),An(this,En(t).apply(this,arguments))}return Pn(t,K["b"]),t}(),Mn=function(e){function t(){return In(this,t),An(this,En(t).apply(this,arguments))}var n,a,i;return Pn(t,r["Component"]),n=t,(a=[{key:"getCytobandForGene",value:function(e){return this.hugoGeneSymbolToCytoband[e]}},{key:"render",value:function(){var e=this,t=[],n=this.props.sampleIds.length;n>=2&&t.push({name:"Samples",render:function(t){return Tn.renderFunction(t,e.props.sampleManager)},sortBy:function(t){return Tn.getSortValue(t,e.props.sampleManager)},download:function(e){return Tn.getSample(e)},order:20}),t.push({name:"Gene",render:function(e){return r.createElement("span",null,e[0].gene.hugoGeneSymbol)},filter:function(e,t,n){return e[0].gene.hugoGeneSymbol.indexOf(n)>-1},download:function(e){return e[0].gene.hugoGeneSymbol},sortBy:function(e){return e[0].gene.hugoGeneSymbol},visible:!0,order:30}),t.push({name:"CNA",render:sn.renderFunction,filter:function(e,t,n){return sn.displayText(e).toUpperCase().indexOf(n)>-1},download:sn.download,sortBy:sn.sortValue,visible:!0,order:40}),t.push({name:"Annotation",render:function(t){return bn.renderFunction(t,{oncoKbData:e.props.cnaOncoKbData,oncoKbEvidenceCache:e.props.oncoKbEvidenceCache,oncoKbCancerGenes:e.props.oncoKbCancerGenes,enableOncoKb:e.props.enableOncoKb,pubMedCache:e.props.pubMedCache,civicGenes:e.props.cnaCivicGenes,civicVariants:e.props.cnaCivicVariants,enableCivic:e.props.enableCivic,enableMyCancerGenome:!1,enableHotspot:!1,userEmailAddress:e.props.userEmailAddress,studyIdToStudy:e.props.studyIdToStudy})},sortBy:function(t){return bn.sortValue(t,e.props.oncoKbCancerGenes,e.props.cnaOncoKbData,e.props.cnaCivicGenes,e.props.cnaCivicVariants)},order:50}),t.push({name:"Cytoband",render:function(t){return r.createElement("span",null,e.getCytobandForGene(t[0].gene.hugoGeneSymbol))},sortBy:function(t){return e.getCytobandForGene(t[0].gene.hugoGeneSymbol)},visible:!0,order:60}),t.push({name:"Cohort",render:function(t){return e.props.copyNumberCountCache?ln.renderFunction(t,e.props.copyNumberCountCache,e.props.gisticData):r.createElement("span",null)},sortBy:function(t){return e.props.copyNumberCountCache?ln.getSortValue(t,e.props.copyNumberCountCache):0},tooltip:r.createElement("span",null,"Alteration frequency in cohort"),defaultSortDirection:"desc",order:80}),1===n&&this.props.mrnaExprRankMolecularProfileId&&t.push({name:"mRNA Expr.",render:function(t){return e.props.mrnaExprRankCache?tn.a.cnaRenderFunction(t,e.props.mrnaExprRankCache):r.createElement("span",null)},order:70});var a=o.sortBy(t,function(e){return e.order});return r.createElement("div",null,"unavailable"===this.props.status&&r.createElement("div",{className:"alert alert-info",role:"alert"},"Copy Number Alterations are not available."),"available"===this.props.status&&r.createElement(On,{columns:a,data:this.props.data,initialSortColumn:"Annotation",initialSortDirection:"desc",initialItemsPerPage:10,itemsLabel:"Copy Number Alteration",itemsLabelPlural:"Copy Number Alterations",showCountHeader:!0,columnVisibility:this.props.columnVisibility,columnVisibilityProps:this.props.columnVisibilityProps}))}},{key:"hugoGeneSymbolToCytoband",get:function(){return this.props.referenceGenes.reduce(function(e,t){return e[t.hugoGeneSymbol]=t.cytoband||"",e},{})}}])&&Cn(n.prototype,a),i&&Cn(n,i),t}();Mn.defaultProps={enableOncoKb:!0,enableCivic:!1},wn([Fe.computed],Mn.prototype,"hugoGeneSymbolToCytoband",null);var Rn=Mn=wn([en.observer],Mn),Nn=(n(1207),n(620)),Dn=n(1209);function Gn(e,t,n,r,a,i,u){if(0!==i.length){var l=Dn.clinicalTimelineParser(i);if(0!==l.length){var c,p,d=o.find(l,function(e){return"Specimen"===e.label});for(d&&(d.times=o.sortBy(d.times,function(e){var n=1/0,r=o.filter(e.tooltip_tables[0],function(e){return"SPECIMEN_REFERENCE_NUMBER"===e[0]||"SpecimenReferenceNumber"===e[0]||"SAMPLE_ID"===e[0]});return r&&(r.length>1?console.warn("More than 1 specimen reference number found in tooltip table"):1===r.length&&-1===(n=t.indexOf(r[0][1]))&&(n=1/0)),n})),p=Object.keys(n).filter(function(e){return/OS_STATUS$/.test(e)}).map(function(e){return e.substr(0,e.length-"OS_STATUS".length)}),c=0;c<p.length;c++){var f=p[c];if("DECEASED"===n[f+"OS_STATUS"]&&f+"OS_MONTHS"in n){var m=Math.round(30.4*parseFloat(n[f+"OS_MONTHS"])),h={starting_time:m,ending_time:m,display:"circle",color:"#000",tooltip_tables:[[["START_DATE",m],["STATUS","DECEASED"]]]},y=l.filter(function(e){return"Status"===e.label})[0];y?y.times=y.times.concat(h):l=l.concat({label:"Status",times:[h]});break}}window.pvTimeline=Dn.clinicalTimeline().width(u).data(l).divId("#timeline").setTimepointsDisplay("Imaging","square").orderTracks(["Specimen","Surgery","Status","Diagnostics","Diagnostic","Imaging","Lab_test","Treatment"]).splitByClinicalAttributes("Lab_test","TEST"),window.pvTimeline.data().filter(function(e){return"Lab_test"===e.parent_track&&o.every(e.times.map(function(e){return 1===e.tooltip_tables.length&&e.tooltip_tables[0].filter(function(e){return"RESULT"===e[0]}).length>0}))}).map(function(e){return e.label}).forEach(function(e){window.pvTimeline=window.pvTimeline.sizeByClinicalAttribute(e,"RESULT")}),window.pvTimeline=window.pvTimeline.splitByClinicalAttributes("Treatment",["SUBTYPE","AGENT"]).splitByClinicalAttributes("Treatment",["TREATMENT_TYPE","AGENT"]).collapseAll().toggleTrackCollapse("Specimen").enableTrackTooltips(!1).plugins([{obj:new Dn.trimClinicalTimeline("Trim Timeline"),enabled:!0}]).addPostTimelineHook(function(e,t,n){for(var r=function(e,t){var r=n.label[t],o=n.color[t];e.select("circle").attr("fill",o),e.append("text").attr("y",4).attr("text-anchor","middle").attr("font-size",10).attr("fill","white").text(r)},o=0;o<e.length;o++){var a=e[o],i=t[a],u=[a],l=i.OTHER_SAMPLE_ID;l&&(u=u.concat(l));var c=Nn.selectAll(".timelineSeries_0").filter(function(e){if(1===e.tooltip_tables.length){var t=e.tooltip_tables[0].filter(function(e){return"SpecimenReferenceNumber"===e[0]||"SPECIMEN_REFERENCE_NUMBER"===e[0]||"SAMPLE_ID"===e[0]})[0];if(t)return-1!==u.indexOf(t[1])}});if(c[0][0]){var p=document.createElementNS("http://www.w3.org/2000/svg","g");s()(p).attr("transform","translate("+c.attr("cx")+","+c.attr("cy")+")"),s()(c[0]).removeAttr("cx"),s()(c[0]).removeAttr("cy"),s()(c[0]).removeAttr("style"),s()(c[0]).qtip("destroy"),s()(c[0]).unbind("mouseover mouseout"),s()(c[0]).wrap(p),(p=s()(c[0]).parent()).prop("__data__",s()(c[0]).prop("__data__")),r(Nn.select(p.get(0)),a),window.pvTimeline.addDataPointTooltip(p)}}}.bind(this,t,r,a)),window.pvTimeline(),s()("#timeline-container").show()}}}n(1026),n(1027),n(1210);var xn=n(530),Ln=n(151);function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vn=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Kn(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};n(1208);var qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fn(this,Bn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,r["Component"]),n=t,(a=[{key:"shouldComponentUpdate",value:function(e){return e.width!==this.currentWidth&&this.drawTimeline(e.width),!1}},{key:"componentDidMount",value:function(){this.drawTimeline(this.props.width)}},{key:"drawTimeline",value:function(e){var t=this.props.store.patientViewData.result.samples.reduce(function(e,t){return e[t.id]=t.clinicalData.reduce(function(e,t){return e[t.clinicalAttributeId]=t.value,e},{}),e},{}),n=this.props.sampleManager.getSampleIdsInOrder();this.props.store.studyId,this.props.store.patientId;Gn(0,n,this.props.store.patientViewData.result.patient.clinicalData.reduce(function(e,t){return e[t.clinicalAttributeId]=t.value,e},{}),t,{color:this.props.sampleManager.sampleColors,label:this.props.sampleManager.sampleLabels,index:this.props.sampleManager.sampleIndex},this.props.store.clinicalEvents.result.map(function(e){return{eventType:e.eventType,patientId:e.patientId,startDate:o.isUndefined(e.startNumberOfDaysSinceDiagnosis)?null:e.startNumberOfDaysSinceDiagnosis,stopDate:o.isUndefined(e.endNumberOfDaysSinceDiagnosis)?null:e.endNumberOfDaysSinceDiagnosis,eventData:e.attributes.reduce(function(e,t){return e[t.key]=t.value,e},{})}}),e),this.currentWidth=e}},{key:"getSvg",value:function(){return this.svgContainer.firstChild}},{key:"render",value:function(){var e=this;return r.createElement("div",{id:"timeline-container",className:"timelineContainer"},r.createElement("div",{id:"timeline",ref:function(t){e.svgContainer=t}}),r.createElement(xn.a,{getSvg:this.getSvg,filename:"timeline",dontFade:!0,type:"button",style:{position:"absolute",top:0,right:5}}))}}])&&jn(n.prototype,a),i&&jn(n,i),t}();Vn([Ln.default],qn.prototype,"getSvg",null);var Un=n(879),Qn=n(820),zn=n(716);function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"getComponentForSampleArgs",value:function(e){var t=e.tumorAltCount,n=1,r="";return Object(vn.l)(e.molecularProfileId)&&(t>0?(n=.1,r="Mutation has supporting reads, but wasn't called"):(n=0,r="Mutation has 0 supporting reads and wasn't called")),{opacity:n,extraTooltipText:r}}},{key:"convertMutationToSampleElement",value:function(t,n,o,a){var i=t.tumorAltCount,u=t.tumorRefCount;if(i<0||u<0)return null;var l=i/(i+u),c=(isNaN(l)?0:l)*e.maxBarHeight,s=e.maxBarHeight-c,p=r.createElement("rect",{x:o,y:s,width:e.barWidth,height:c,fill:n}),d="".concat(Object(vn.l)(t.molecularProfileId)?"(uncalled) ":"","(").concat(i," variant reads out of ").concat(i+u," total)"),f=r.createElement("span",null,r.createElement("strong",null,Object(zn.b)(l))," ",d);return{sampleId:t.sampleId,bar:p,component:a,text:f,freq:l}}},{key:"renderFunction",value:function(t,n){if(!n)return r.createElement("span",null);var o=n.getSampleIdsInOrder(),a=o.reduce(function(t,n,r){return t[n]=e.indexToBarLeft(r),t},{}),i=t.map(function(t){var r=e.getComponentForSampleArgs(t);return e.convertMutationToSampleElement(t,n.getColorForSample(t.sampleId),a[t.sampleId],n.getComponentForSample(t.sampleId,r.opacity,r.extraTooltipText))}).reduce(function(e,t){return t&&(e[t.sampleId]=t),e},{}),u=o.map(function(e){return i[e]}).filter(function(e){return!!e}),c=u.map(function(e){return r.createElement("span",{key:e.sampleId},e.component,"  ",e.text,r.createElement("br",null))}),s=o.map(function(e){return i[e]&&i[e].freq||void 0}),p=u.map(function(e){return e.bar}),d=r.createElement("span",null);if(1===n.samples.length?d=r.createElement("span",null,isNaN(s[0])?"":Object(zn.b)(s[0])):c.length>0&&(d=r.createElement("svg",{width:e.getSVGWidth(o.length),height:e.maxBarHeight},p)),c.length>0&&s.filter(function(e){return void 0!==e}).length>0){d=r.createElement(l.b,{placement:"left",overlay:function(){return r.createElement("span",null,c)},arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0},d)}return d}},{key:"getSVGWidth",value:function(t){return t*e.barWidth+(t-1)*e.barSpacing}},{key:"getSortValue",value:function(t,n){if(!n)return[null];var r=t.reduce(function(e,t){return e[t.sampleId]=t,e},{});return n.getSampleIdsInOrder().map(function(e){return r[e]}).map(function(t){return e.calcFrequency(t)||null})}},{key:"isVisible",value:function(e,t){if(t){var n=!0,r=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value,c=this.getSortValue(l,e);if(o.compact(c).length>0)return!0}}catch(e){r=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}}return!1}},{key:"getFrequency",value:function(t){var n=[];if(t){var r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value,c=e.calcFrequency(l),s=null===c?"":String(c);n.push(s)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}return 1===n.length?n[0]:n}},{key:"calcFrequency",value:function(e){if(!e)return null;var t=e.tumorAltCount,n=e.tumorRefCount;return t<0||n<0?null:t/(t+n)}}],(n=null)&&Wn(t.prototype,n),a&&Wn(t,a),e}();Yn.barWidth=6,Yn.barSpacing=3,Yn.maxBarHeight=12,Yn.indexToBarLeft=function(e){return e*(Yn.barWidth+Yn.barSpacing)};var Zn=n(805);function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return!t||"object"!==nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $n(e,t,n){return($n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=er(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rr=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":nr(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},or=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xn(this,er(t).call(this,e))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,Un["b"]),n=t,(o=[{key:"getSamples",value:function(){return this.props.sampleIds?this.props.sampleIds:[]}},{key:"generateColumns",value:function(){var e=this;$n(er(t.prototype),"generateColumns",this).call(this),this._columns[Un.a.TUMOR_ALLELE_FREQ]={name:"Allele Freq",render:function(t){return Yn.renderFunction(t,e.props.sampleManager)},sortBy:function(t){return Yn.getSortValue(t,e.props.sampleManager)},download:function(e){return Yn.getFrequency(e)},tooltip:r.createElement("span",null,"Variant allele frequency in the tumor sample"),visible:Yn.isVisible(this.props.sampleManager,this.props.dataStore?this.props.dataStore.allData:this.props.data)},this._columns[Un.a.SAMPLES]={name:"Samples",render:function(t){return Tn.renderFunction(t,e.props.sampleManager)},sortBy:function(t){return Tn.getSortValue(t,e.props.sampleManager)},download:function(e){return Tn.getSample(e)}},this._columns[Un.a.REF_READS_N].render=function(t){return Qn.a.renderFunction(t,e.getSamples(),"normalRefCount")},this._columns[Un.a.REF_READS_N].download=function(e){return Qn.a.getReads(e,"normalRefCount")},this._columns[Un.a.VAR_READS_N].render=function(t){return Qn.a.renderFunction(t,e.getSamples(),"normalAltCount")},this._columns[Un.a.VAR_READS_N].download=function(e){return Qn.a.getReads(e,"normalAltCount")},this._columns[Un.a.REF_READS].render=function(t){return Qn.a.renderFunction(t,e.getSamples(),"tumorRefCount")},this._columns[Un.a.REF_READS].download=function(e){return Qn.a.getReads(e,"tumorRefCount")},this._columns[Un.a.VAR_READS].render=function(t){return Qn.a.renderFunction(t,e.getSamples(),"tumorAltCount")},this._columns[Un.a.VAR_READS].download=function(e){return Qn.a.getReads(e,"tumorAltCount")},this._columns[Un.a.EXON].sortBy=void 0,this._columns[Un.a.EXON].render=function(t){return Zn.a.renderFunction(t,e.props.genomeNexusCache,!0)},this._columns[Un.a.SAMPLES].order=5,this._columns[Un.a.GENE].order=20,this._columns[Un.a.PROTEIN_CHANGE].order=30,this._columns[Un.a.ANNOTATION].order=35,this._columns[Un.a.FUNCTIONAL_IMPACT].order=38,this._columns[Un.a.CHROMOSOME].order=40,this._columns[Un.a.START_POS].order=50,this._columns[Un.a.END_POS].order=60,this._columns[Un.a.REF_ALLELE].order=70,this._columns[Un.a.VAR_ALLELE].order=80,this._columns[Un.a.MUTATION_STATUS].order=90,this._columns[Un.a.VALIDATION_STATUS].order=100,this._columns[Un.a.MUTATION_TYPE].order=110,this._columns[Un.a.CENTER].order=120,this._columns[Un.a.TUMOR_ALLELE_FREQ].order=130,this._columns[Un.a.VAR_READS].order=140,this._columns[Un.a.REF_READS].order=150,this._columns[Un.a.VAR_READS_N].order=170,this._columns[Un.a.REF_READS_N].order=180,this._columns[Un.a.COPY_NUM].order=181,this._columns[Un.a.MRNA_EXPR].order=182,this._columns[Un.a.COHORT].order=183,this._columns[Un.a.COSMIC].order=184,this._columns[Un.a.EXON].order=185,this._columns[Un.a.HGVSC].order=186,this._columns[Un.a.GNOMAD].order=187,this._columns[Un.a.CLINVAR].order=188,this._columns[Un.a.DBSNP].order=189,this._columns[Un.a.MRNA_EXPR].shouldExclude=function(){return!e.props.mrnaExprRankMolecularProfileId||e.getSamples().length>1},this._columns[Un.a.SAMPLES].shouldExclude=function(){return e.getSamples().length<2&&!e.hasUncalledMutations},this._columns[Un.a.COPY_NUM].shouldExclude=function(){return!e.props.discreteCNAMolecularProfileId||e.getSamples().length>1}}},{key:"hasUncalledMutations",get:function(){var e=[];return this.props.data?e=this.props.data:this.props.dataStore&&(e=this.props.dataStore.allData),e.some(function(e){return e.some(function(e){return Object(vn.l)(e.molecularProfileId)})})}}])&&Jn(n.prototype,o),a&&Jn(n,a),t}();or.defaultProps=Object.assign({},Un.b.defaultProps,{initialItemsPerPage:10,paginationProps:{itemsPerPageOptions:[10,25,50,100]},columns:[Un.a.COHORT,Un.a.MRNA_EXPR,Un.a.COPY_NUM,Un.a.ANNOTATION,Un.a.REF_READS_N,Un.a.VAR_READS_N,Un.a.REF_READS,Un.a.VAR_READS,Un.a.START_POS,Un.a.END_POS,Un.a.REF_ALLELE,Un.a.VAR_ALLELE,Un.a.MUTATION_STATUS,Un.a.VALIDATION_STATUS,Un.a.CENTER,Un.a.GENE,Un.a.CHROMOSOME,Un.a.PROTEIN_CHANGE,Un.a.MUTATION_TYPE,Un.a.FUNCTIONAL_IMPACT,Un.a.COSMIC,Un.a.TUMOR_ALLELE_FREQ,Un.a.SAMPLES,Un.a.EXON,Un.a.HGVSC,Un.a.GNOMAD,Un.a.CLINVAR,Un.a.DBSNP]}),rr([Fe.computed],or.prototype,"hasUncalledMutations",null);var ar=or=rr([en.observer],or),ir=n(821);function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dr=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":pr(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},fr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=lr(t).call(this,e))||"object"!==pr(o)&&"function"!=typeof o?cr(r):o).state={pdfUrl:n.buildPDFUrl(e.pdfs[0].url)},n.handleSelection=n.handleSelection.bind(cr(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,r["Component"]),n=t,(a=[{key:"buildPDFUrl",value:function(e){return"https://docs.google.com/viewerng/viewer?url=".concat(e,"?pid=explorer&efh=false&a=v&chrome=false&embedded=true")}},{key:"handleSelection",value:function(){this.setState({pdfUrl:this.buildPDFUrl(this.pdfSelectList.options[this.pdfSelectList.selectedIndex].value)})}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement(i.If,{condition:this.props.pdfs.length>1},r.createElement("select",{ref:function(t){return e.pdfSelectList=t},style:{marginBottom:15},onChange:this.handleSelection},o.map(this.props.pdfs,function(e){return r.createElement("option",{value:e.url},e.name)}))),r.createElement(ir.a,{height:this.props.iframeHeight,url:this.state.pdfUrl}))}}])&&ur(n.prototype,a),u&&ur(n,u),t}(),mr=fr=dr([en.observer],fr),hr=n(556),yr=n(1211);function gr(e){return function(e,t){var n=o.reduce(e,function(e,t,n){return t&&t.length>0&&(e[n]=t),e},{});try{return Object(yr.validate)(n,t),{isValid:!0,message:null}}catch(e){return{isValid:!1,message:e.message}}}(e,["studyId",["sampleId","caseId"]])}var br=n(67);function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(this,Cr(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("div",{className:"alert alert-danger urlError",role:"alert"},r.createElement("i",{className:"fa fa-warning","aria-hidden":"true"}),r.createElement("h3",null,"The URL is invalid"),r.createElement("ul",null,this.props.urlValidationError.split(".").map(function(e){return e.length>0?r.createElement("li",null,e):null})))}}])&&Sr(n.prototype,o),a&&Sr(n,a),t}();n(1212);var Er=n(155),Pr=n(158),kr=n.n(Pr),_r=n(900),wr=n(717),Or=n(537),Mr=n(1213),Rr=n.n(Mr);function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lr(e,t){return!t||"object"!==Hr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kr,Vr,qr=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Hr(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.ID="ID",e.TITLE="Title",e.MATCHING_CRITERIA="Matching Criteria"}(Kr||(Kr={})),function(e){e[e.ID=140]="ID"}(Vr||(Vr={}));var Ur=function(e){function t(){return xr(this,t),Lr(this,jr(t).apply(this,arguments))}return Fr(t,K["b"]),t}(),Qr=function(e){function t(){var e;return xr(this,t),(e=Lr(this,jr(t).apply(this,arguments)))._columns=[{name:Kr.ID,render:function(e){return r.createElement("div",null,r.createElement(i.If,{condition:e.protocolNo.length>0},r.createElement("div",null,r.createElement("a",{target:"_blank",href:"https://www.mskcc.org/cancer-care/clinical-trials/"+e.protocolNo},e.protocolNo))),r.createElement(i.If,{condition:e.nctId.length>0},r.createElement("div",null,r.createElement("a",{target:"_blank",href:"https://clinicaltrials.gov/ct2/show/"+e.nctId},e.nctId))),r.createElement("div",null,e.status))},sortBy:function(e){return e.protocolNo},width:e.columnWidths[Kr.ID]},{name:Kr.TITLE,render:function(e){return r.createElement("span",null,e.shortTitle)},sortBy:function(e){return e.shortTitle},width:e.columnWidths[Kr.TITLE]},{name:Kr.MATCHING_CRITERIA,render:function(t){return r.createElement("div",null,t.matches.map(function(n,o){return r.createElement("div",null,r.createElement("div",null,n.matches.map(function(t,o){return r.createElement("div",{className:Rr.a.criteriaContainer},e.getGenomicMatch(t),e.getClinicalMatch(t),r.createElement(i.If,{condition:o<n.matches.length-1},r.createElement("hr",{className:Rr.a.criteriaHr})))})),r.createElement(i.If,{condition:""!==n.armDescription},r.createElement("div",{className:Rr.a.armDiv},r.createElement("span",null,"Arm: ",n.armDescription))),r.createElement(i.If,{condition:n.drugs.length>0},r.createElement("div",{className:Rr.a.armDiv},r.createElement("span",null,"Intervention: ",n.drugs.join(", ")))),r.createElement(i.If,{condition:o<t.matches.length-1},r.createElement("hr",{className:Rr.a.criteriaHr})))}))},width:e.columnWidths[Kr.MATCHING_CRITERIA]}],e}var n,o,a;return Fr(t,r["Component"]),n=t,(o=[{key:"getClinicalMatch",value:function(e){return r.createElement("div",{className:Rr.a.firstRight},r.createElement("span",{className:Rr.a.secondLeft},e.trialAgeNumerical+" yrs old"),r.createElement("span",{className:Rr.a.secondRight},e.trialOncotreePrimaryDiagnosis.positive.join(", "),e.trialOncotreePrimaryDiagnosis.negative.length>0&&r.createElement("span",null,r.createElement("b",null," except in "),r.createElement(i.If,{condition:e.trialOncotreePrimaryDiagnosis.negative.length<4},r.createElement(i.Then,null,r.createElement("span",null,e.trialOncotreePrimaryDiagnosis.negative.join(", ").replace(/,(?!.*,)/gim," and"))),r.createElement(i.Else,null,r.createElement(l.b,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.tooltipClinicalContent(e.trialOncotreePrimaryDiagnosis.negative),destroyTooltipOnHide:!0,onPopupAlign:l.c},this.mainContent(e.trialOncotreePrimaryDiagnosis.negative.length+" cancer types")))))))}},{key:"getGenomicMatch",value:function(e){var t=this;return r.createElement("div",{className:Rr.a.firstLeft},r.createElement("div",null,e.matches.map(function(e){return r.createElement("div",null,r.createElement(i.If,{condition:1===e.matches.length&&e.genomicAlteration==="".concat(e.matches[0].trueHugoSymbol," ").concat(e.matches[0].trueProteinChange)},r.createElement(i.Then,null,t.getGenomicExactMatch(e)),r.createElement(i.Else,null,r.createElement("span",{className:Rr.a.firstLeft},"".concat(e.genomicAlteration,": "),t.getGenomicVariantCategoryMatch(e)))))})),r.createElement("div",null,e.notMatches.length>0&&r.createElement(l.b,{placement:"bottomLeft",trigger:["hover","focus"],overlay:this.tooltipGenomicContent(e.notMatches),destroyTooltipOnHide:!1,onPopupAlign:l.c},this.mainContent("No alterations in ".concat(this.getHugoSymbolName(e.notMatches,3)," defined by the trial")))))}},{key:"getGenomicExactMatch",value:function(e){var t=this;return r.createElement("div",null,"".concat(e.genomicAlteration," "),e.matches[0].sampleIds.map(function(e){return r.createElement("span",{className:Rr.a.genomicSpan},t.props.sampleManager.getComponentForSample(e,1,""))}))}},{key:"getGenomicVariantCategoryMatch",value:function(e){var t=this;return r.createElement(i.If,{condition:e.matches.length>1},r.createElement(i.Then,null,r.createElement("ul",{className:Rr.a.alterationUl},e.matches.map(function(e){return r.createElement("li",null,"".concat(e.trueHugoSymbol," ").concat(e.trueProteinChange," "),e.sampleIds.map(function(e){return r.createElement("span",{className:Rr.a.genomicSpan},t.props.sampleManager.getComponentForSample(e,1,""))}))}))),r.createElement(i.Else,null,r.createElement("span",null,"".concat(e.matches[0].trueHugoSymbol," ").concat(e.matches[0].trueProteinChange," "),e.matches[0].sampleIds.map(function(e){return r.createElement("span",{className:Rr.a.genomicSpan},t.props.sampleManager.getComponentForSample(e,1,""))}))))}},{key:"tooltipGenomicContent",value:function(e){var t=this;return r.createElement("div",{className:Rr.a.tooltip},e.map(function(e){return r.createElement("div",{className:Rr.a.genomicSpan},r.createElement("b",null,"Not "),"".concat(e.genomicAlteration.replace(/!/g,"")," "),e.matches[0].sampleIds.map(function(e){return r.createElement("span",{className:Rr.a.genomicSpan},t.props.sampleManager.getComponentForSample(e,1,""))}))}))}},{key:"tooltipClinicalContent",value:function(e){return r.createElement("div",{className:Rr.a.tooltip},r.createElement("ul",{className:Rr.a.alterationUl},e.map(function(e){return r.createElement("li",null,e)})))}},{key:"mainContent",value:function(e){return r.createElement("span",null,r.createElement("a",null,e))}},{key:"getHugoSymbolName",value:function(e,t){var n=new Set(Dr(e).map(function(e){return e.genomicAlteration.split(" ")[0].slice(1)}));return n.size<=t?Dr(n).join(", "):"".concat(n.size," genes")}},{key:"render",value:function(){return r.createElement("div",null,r.createElement(Ur,{data:this.props.detailedTrialMatches,columns:this._columns,showCopyDownload:!1}),r.createElement("div",{className:Rr.a.powered},"Powered by ",r.createElement("a",{href:"https://matchminer.org/",target:"_blank"},"MatchMiner")))}},{key:"columnWidths",get:function(){var e;return Nr(e={},Kr.ID,Vr.ID),Nr(e,Kr.TITLE,.35*(this.props.containerWidth-Vr.ID)),Nr(e,Kr.MATCHING_CRITERIA,.65*(this.props.containerWidth-Vr.ID)),e}}])&&Gr(n.prototype,o),a&&Gr(n,a),t}();qr([Fe.computed],Qr.prototype,"columnWidths",null);var zr=Qr=qr([en.observer],Qr),Wr=(n(902),n(903),n(904),n(5));function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){return(to="function"==typeof Symbol&&"symbol"===Yr(Symbol.iterator)?function(e){return Yr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Yr(e)})(e)}var no=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":to(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},ro=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},oo=new Ht;window.patientViewPageStore=oo;var ao=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=Xr(t).call(this,e),(n=!a||"object"!==to(a)&&"function"!=typeof a?$r(r):a).wholeSlideViewerUrl=Object(Be.b)({await:function(){return[oo.getWholeSlideViewerIds]},invoke:function(){return ro($r(n),void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isEmpty(oo.getWholeSlideViewerIds.result)){e.next=11;break}return t=Object(ot.z)(oo.getWholeSlideViewerIds.result,this.props.appStore.userName),e.prev=2,e.next=5,nt.a.get(t);case 5:return e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:return e.abrupt("return",void 0);case 12:case"end":return e.stop()}},e,this,[[2,8]])}))}});Object(Fe.reaction)(function(){return[e.routing.location.query,e.routing.location.hash,e.routing.location.pathname]},function(e){var t=Zr(e,3),n=t[0],r=t[1];if(t[2].includes("/patient")){var o=gr(n);if(o.isValid){oo.urlValidationError=null,"studyId"in n&&(oo.studyId=n.studyId),"caseId"in n?oo.setPatientId(n.caseId):"sampleId"in n&&oo.setSampleId(n.sampleId);var a=r.match(/navCaseIds=([^&]*)/);a&&a.length>1&&(oo.patientIdsInCohort=function(e){var t=this;return e.split(",").map(function(e){return e.includes(":")?e:t.studyId+":"+e})}(a[1]))}else oo.urlValidationError=o.message}},{fireImmediately:!0});return n.onMutationTableColumnVisibilityToggled=n.onMutationTableColumnVisibilityToggled.bind($r(n)),n.onCnaTableColumnVisibilityToggled=n.onCnaTableColumnVisibilityToggled.bind($r(n)),n}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleSampleClick",value:function(e,t){t.shiftKey||t.altKey||t.metaKey||(t.preventDefault(),this.props.routing.updateRoute({caseId:void 0,sampleId:e}))}},{key:"handleTabChange",value:function(e){this.props.routing.updateRoute({},"patient/".concat(e))}},{key:"handlePatientClick",value:function(e){var t=e.split(":");2==t.length?this.props.routing.updateRoute({studyId:t[0],caseId:t[1],sampleId:void 0}):this.props.routing.updateRoute({caseId:e,sampleId:void 0})}},{key:"onCnaTableColumnVisibilityToggled",value:function(e,t){this.cnaTableColumnVisibility=Object(xe.c)(this.cnaTableColumnVisibility,e,t)}},{key:"onMutationTableColumnVisibilityToggled",value:function(e,t){this.mutationTableColumnVisibility=Object(xe.c)(this.mutationTableColumnVisibility,e,t)}},{key:"shouldShowPathologyReport",value:function(e){return e.pathologyReport.isComplete&&e.pathologyReport.result.length>0}},{key:"hideTissueImageTab",value:function(){return oo.hasTissueImageIFrameUrl.isPending||oo.hasTissueImageIFrameUrl.isError||oo.hasTissueImageIFrameUrl.isComplete&&!oo.hasTissueImageIFrameUrl.result}},{key:"shouldShowTrialMatch",value:function(e){return"true"===Object(Wr.a)().localStorage.trialmatch&&e.detailedTrialMatches.isComplete&&e.detailedTrialMatches.result.length>0}},{key:"customTabMountCallback",value:function(e,t){Object(_r.a)(e,t,this.props.routing.location,oo)}},{key:"render",value:function(){var e=this,t=null,n=null,a=null,u=null;if(oo.urlValidationError)return r.createElement(Ar,{urlValidationError:oo.urlValidationError});if(oo.studyMetaData.isComplete){var l=oo.studyMetaData.result;u=r.createElement(wr.a,{studyId:l.studyId},l.name)}if(oo.patientViewData.isComplete&&oo.studyMetaData.isComplete){var c=oo.patientViewData.result;t=oo.clinicalEvents.isComplete&&oo.clinicalEvents.result.length>0?new ge(c.samples,oo.clinicalEvents.result):new ge(c.samples),(n=o.map(t.samples,function(n){var o=t&&t.clinicalDataLegacyCleanAndDerived&&t.clinicalDataLegacyCleanAndDerived[n.id]&&"Xenograft"===t.clinicalDataLegacyCleanAndDerived[n.id].DERIVED_NORMALIZED_CASE_TYPE;return r.createElement("div",{className:"patientSample"},r.createElement("span",{className:"clinical-spans"},t.getComponentForSample(n.id,1,"",r.createElement("span",{style:{display:"inline-flex"}},"",o&&r.createElement("svg",{id:"Layer_2",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"15px",height:"15px",viewBox:"7.015 20 388.209 342.605","enable-background":"new 7.015 47.906 388.209 342.605"},r.createElement("path",{fill:"none",stroke:"#000000",strokeWidth:"20",strokeLinejoin:"bevel",strokeMiterlimit:"10",d:"M377.5,250.5 c-2.896,138.241-177.896,163.241-280.896,89.241"}),r.createElement("g",null,r.createElement("g",null,r.createElement("path",{fill:"#0C0202",stroke:"#000000",strokeMiterlimit:"10",d:"M10.5,251.5h377c0,0,66-275-201-185 C186.5,66.5-19.5,159.5,10.5,251.5z"})),r.createElement("path",{fill:"#0C0202",stroke:"#000000",strokeLinejoin:"bevel",strokeMiterlimit:"10",d:"M50.5,159.5 C-65.396,141.741,82.604,2.741,88.604,128.741"})),r.createElement("circle",{fill:"#FFFFFF",stroke:"#000000",strokeMiterlimit:"10",cx:"50.854",cy:"210.991",r:"21.25"})),o&&"",r.createElement("a",{href:Object(ot.v)(oo.studyMetaData.result.studyId,n.id),target:"_blank",onClick:function(t){return e.handleSampleClick(n.id,t)}},ge.getClinicalAttributeInSample(n,"DISPLAY_SAMPLE_NAME")?"".concat(ge.getClinicalAttributeInSample(n,"DISPLAY_SAMPLE_NAME").value," (").concat(n.id,")"):n.id),t&&t.clinicalDataLegacyCleanAndDerived[n.id]&&pe(t.clinicalDataLegacyCleanAndDerived[n.id],oo.studyId)))),!0===oo.hasMutationalSignatureData.result&&r.createElement(br.a,{isLoading:oo.mutationalSignatureData.isPending&&oo.mutationalSignatureMetaData.isPending}),!0===oo.hasMutationalSignatureData.result&&oo.clinicalDataGroupedBySample.isComplete&&oo.mutationalSignatureData.isComplete&&oo.mutationalSignatureMetaData.isComplete&&r.createElement(Ge,{data:oo.mutationalSignatureData.result,metadata:oo.mutationalSignatureMetaData.result,uniqueSampleKey:n.id}))}))&&n.length>0&&"sample"===oo.pageMode&&oo.patientId&&oo.allSamplesForPatient&&oo.allSamplesForPatient.result.length>1&&n.push(r.createElement("button",{className:"btn btn-default btn-xs",onClick:function(){return e.handlePatientClick(oo.patientId)}},"Show all ",oo.allSamplesForPatient.result.length," samples"))}if(oo.patientIdsInCohort&&oo.patientIdsInCohort.length>0){var s=oo.patientIdsInCohort.indexOf(oo.studyId+":"+oo.patientId);a=r.createElement(U.a,{currentPage:s+1,showMoreButton:!1,showItemsPerPageSelector:!1,showFirstPage:!0,showLastPage:!0,textBetweenButtons:" of ".concat(oo.patientIdsInCohort.length," patients"),firstPageDisabled:0===s,previousPageDisabled:0===s,nextPageDisabled:s===oo.patientIdsInCohort.length-1,lastPageDisabled:s===oo.patientIdsInCohort.length-1,onFirstPageClick:function(){return e.handlePatientClick(oo.patientIdsInCohort[0])},onPreviousPageClick:function(){return e.handlePatientClick(oo.patientIdsInCohort[s-1])},onNextPageClick:function(){return e.handlePatientClick(oo.patientIdsInCohort[s+1])},onLastPageClick:function(){return e.handlePatientClick(oo.patientIdsInCohort[oo.patientIdsInCohort.length-1])},onChangeCurrentPage:function(t){t>0&&t<=oo.patientIdsInCohort.length&&e.handlePatientClick(oo.patientIdsInCohort[t-1])},pageNumberEditable:!0,className:"cohortNav"})}return r.createElement(Er.a,{noMargin:!0,hideFooter:!0},oo.patientViewData.isComplete&&r.createElement(kr.a,null,r.createElement("title",null,oo.pageTitle),r.createElement("meta",{name:"description",content:oo.metaDescription})),r.createElement("div",{className:"patientViewPage"},r.createElement("div",{className:"headBlock"},oo.patientViewData.isComplete&&r.createElement("div",{className:"patientPageHeader"},r.createElement("i",{className:"fa fa-user-circle-o patientIcon","aria-hidden":"true"}),r.createElement("div",{className:"patientDataTable"},r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Patient:"),r.createElement("td",null,r.createElement(Ee,{handlePatientClick:function(t){return e.handlePatientClick(t)},patient:oo.patientViewData.result.patient,studyId:oo.studyId,darwinUrl:oo.darwinUrl.result,sampleManager:t}))),r.createElement("tr",null,r.createElement("td",null,"Samples:"),r.createElement("td",null,r.createElement("div",{className:"patientSamples"},n))))),r.createElement("div",{className:"studyMetaBar"},u," ",r.createElement(i.If,{condition:null!=a},a)))),r.createElement(i.If,{condition:oo.patientViewData.isComplete},r.createElement(i.Then,null,r.createElement(hr.b,{id:"patientViewPageTabs",activeTabId:this.props.params.tab||"summaryTab",onTabClick:function(t){return e.handleTabChange(t)},className:"mainTabs"},r.createElement(hr.a,{key:0,id:"summary",linkText:"Summary"},r.createElement(br.a,{isLoading:oo.clinicalEvents.isPending}),!!t&&oo.clinicalEvents.isComplete&&oo.clinicalEvents.result.length>0&&r.createElement("div",null,r.createElement(qn,{store:oo,width:Or.a.size.width-60,sampleManager:t}),r.createElement("hr",null)),r.createElement(br.a,{isLoading:oo.mutationData.isPending||oo.cnaSegments.isPending}),oo.mutationData.isComplete&&oo.cnaSegments.isComplete&&oo.sequencedSampleIdsInStudy.isComplete&&t&&(oo.mutationData.result.length>0||oo.cnaSegments.result.length>0)&&r.createElement("div",null,r.createElement(O,{mergedMutations:oo.mergedMutationData,samples:oo.samples.result,cnaSegments:oo.cnaSegments.result,sampleOrder:t.sampleIndex,sampleLabels:t.sampleLabels,sampleColors:t.sampleColors,sampleManager:t,containerWidth:Or.a.size.width-20}),r.createElement("hr",null)),r.createElement(br.a,{isLoading:oo.mutationData.isPending||oo.uncalledMutationData.isPending||oo.oncoKbAnnotatedGenes.isPending||oo.studyIdToStudy.isPending}),oo.oncoKbAnnotatedGenes.isComplete&&oo.mutationData.isComplete&&oo.uncalledMutationData.isComplete&&!!t&&oo.studyIdToStudy.isComplete&&r.createElement(ar,{studyIdToStudy:oo.studyIdToStudy.result,sampleManager:t,sampleIds:t?t.getSampleIdsInOrder():[],uniqueSampleKeyToTumorType:oo.uniqueSampleKeyToTumorType,molecularProfileIdToMolecularProfile:oo.molecularProfileIdToMolecularProfile.result,variantCountCache:oo.variantCountCache,indexedVariantAnnotations:oo.indexedVariantAnnotations,discreteCNACache:oo.discreteCNACache,mrnaExprRankCache:oo.mrnaExprRankCache,oncoKbEvidenceCache:oo.oncoKbEvidenceCache,pubMedCache:oo.pubMedCache,genomeNexusCache:oo.genomeNexusCache,genomeNexusMyVariantInfoCache:oo.genomeNexusMyVariantInfoCache,mrnaExprRankMolecularProfileId:oo.mrnaRankMolecularProfileId.result||void 0,discreteCNAMolecularProfileId:oo.molecularProfileIdDiscrete.result,data:oo.mergedMutationDataIncludingUncalled,downloadDataFetcher:oo.downloadDataFetcher,mutSigData:oo.mutSigData.result,myCancerGenomeData:oo.myCancerGenomeData,hotspotData:oo.indexedHotspotData,cosmicData:oo.cosmicData.result,oncoKbData:oo.oncoKbData,oncoKbCancerGenes:oo.oncoKbCancerGenes,civicGenes:oo.civicGenes,civicVariants:oo.civicVariants,userEmailAddress:Pt.a.getUserEmailAddress(),enableOncoKb:Pt.b.serverConfig.show_oncokb,enableFunctionalImpact:Pt.b.serverConfig.show_genomenexus,enableHotspot:Pt.b.serverConfig.show_hotspot,enableMyCancerGenome:Pt.b.serverConfig.mycancergenome_show,enableCivic:Pt.b.serverConfig.show_civic,columnVisibility:this.mutationTableColumnVisibility,columnVisibilityProps:{onColumnToggled:this.onMutationTableColumnVisibilityToggled}}),r.createElement("hr",null),r.createElement(br.a,{isLoading:"loading"===this.cnaTableStatus||oo.studyIdToStudy.isPending}),oo.studyIdToStudy.isComplete&&oo.referenceGenes.isComplete&&r.createElement(Rn,{studyIdToStudy:oo.studyIdToStudy.result,sampleIds:t?t.getSampleIdsInOrder():[],sampleManager:t,cnaOncoKbData:oo.cnaOncoKbData,cnaCivicGenes:oo.cnaCivicGenes,cnaCivicVariants:oo.cnaCivicVariants,oncoKbEvidenceCache:oo.oncoKbEvidenceCache,oncoKbCancerGenes:oo.oncoKbCancerGenes,enableOncoKb:Pt.b.serverConfig.show_oncokb,enableCivic:Pt.b.serverConfig.show_civic,userEmailAddress:Pt.b.serverConfig.user_email_address,pubMedCache:oo.pubMedCache,referenceGenes:oo.referenceGenes.result,data:oo.mergedDiscreteCNAData,copyNumberCountCache:oo.copyNumberCountCache,mrnaExprRankCache:oo.mrnaExprRankCache,gisticData:oo.gisticData.result,mrnaExprRankMolecularProfileId:oo.mrnaRankMolecularProfileId.result||void 0,status:this.cnaTableStatus,columnVisibility:this.cnaTableColumnVisibility,columnVisibilityProps:{onColumnToggled:this.onCnaTableColumnVisibilityToggled}})),r.createElement(hr.a,{key:2,id:"clinicalData",linkText:"Clinical Data"},r.createElement("div",{className:"clearfix"},r.createElement(M.a,{title:"Patient",isLoading:oo.clinicalDataPatient.isPending,className:"pull-left"}),oo.clinicalDataPatient.isComplete&&r.createElement(ne,{showTitleBar:!0,data:oo.clinicalDataPatient.result})),r.createElement("br",null),r.createElement("div",{className:"clearfix"},r.createElement(M.a,{title:"Samples",isLoading:oo.clinicalDataGroupedBySample.isPending,className:"pull-left"}),oo.clinicalDataGroupedBySample.isComplete&&r.createElement($t,{samples:oo.clinicalDataGroupedBySample.result}))),r.createElement(hr.a,{key:3,id:"pathologyReport",linkText:"Pathology Report",hide:!this.shouldShowPathologyReport(oo)},r.createElement("div",null,r.createElement(mr,{iframeHeight:Or.a.size.height-220,pdfs:oo.pathologyReport.result}))),r.createElement(hr.a,{key:5,id:"tissueImage",linkText:"Tissue Image",hide:this.hideTissueImageTab()},r.createElement("div",null,r.createElement(ir.a,{height:Or.a.size.height-220,url:Object(ot.k)(oo.patientId)}))),"mskimpact"===oo.studyId&&this.wholeSlideViewerUrl.result&&r.createElement(hr.a,{key:6,id:"MSKTissueImage",linkText:"Tissue Image",unmountOnHide:!1},r.createElement("div",null,r.createElement(ir.a,{height:Or.a.size.height-220,url:this.wholeSlideViewerUrl.result}))),this.shouldShowTrialMatch(oo)&&r.createElement(hr.a,{key:7,id:"trialMatchTab",linkText:"Matched Trials"},r.createElement(zr,{sampleManager:t,detailedTrialMatches:oo.detailedTrialMatches.result,containerWidth:Or.a.size.width-20})),Pt.b.serverConfig.custom_tabs&&Pt.b.serverConfig.custom_tabs.filter(function(e){return"PATIENT_PAGE"===e.location}).map(function(t,n){return r.createElement(hr.a,{key:100+n,id:"customTab1",unmountOnHide:!0===t.unmountOnHide,onTabDidMount:function(n){e.customTabMountCallback(n,t)},linkText:t.title})}))),r.createElement(i.Else,null,r.createElement(br.a,{isLoading:!0,center:!0,size:"big"})))))}},{key:"cnaTableStatus",get:function(){return oo.molecularProfileIdDiscrete.isComplete?void 0===oo.molecularProfileIdDiscrete.result?"unavailable":oo.discreteCNAData.isComplete?"available":"loading":"loading"}}])&&Jr(n.prototype,a),u&&Jr(n,u),t}();no([Fe.observable],ao.prototype,"mutationTableColumnVisibility",void 0),no([Fe.observable],ao.prototype,"cnaTableColumnVisibility",void 0),no([Fe.computed],ao.prototype,"cnaTableStatus",null),no([Fe.action],ao.prototype,"onCnaTableColumnVisibilityToggled",null),no([Fe.action],ao.prototype,"onMutationTableColumnVisibilityToggled",null),no([Ln.default],ao.prototype,"customTabMountCallback",null),ao=no([Object(en.inject)("routing","appStore"),en.observer],ao);t.default=ao},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return g});var r=n(0),o=n(814),a=(n(527),n(10)),i=n.n(a),u=(n(710),n(18));function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},h=.5,y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.visible,a=m(e,["disabled","visible"]);return t&&(n=!1),void 0!==n&&(a.visible=n),r.createElement(o.default,a)}}])&&l(n.prototype,a),i&&l(n,i),t}();function g(e){var t=e.querySelector(".rc-tooltip-arrow");this.getRootDomNode();t.style.left="10px"}y.defaultProps={mouseEnterDelay:h,mouseLeaveDelay:.05,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),onPopupAlign:function(e,t){var n=e.querySelector("div.rc-tooltip-arrow"),r=this.getRootDomNode();if(n&&t&&t.points&&t.points[1]&&"c"===t.points[1][1]){var o=i()(r).offset(),a=i()(r).width(),u=i()(e).offset(),l=o.left-u.left;n.style.left="".concat(l+a/2,"px")}}},y=f([u.observer],y),t.b=y},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Ae}),n.d(t,"d",function(){return Se}),n.d(t,"b",function(){return Te}),n.d(t,"c",function(){return ke});var r,o=n(152),a=n(7),i=n(54),u=n(73),l=n(631),c=n(632),s=n(581),p=n(583),d=n(666),f=n(593),m=n(592),h=n(652),y=n(506),g=n(515),b=n(634),v=n(675),S=n(2),T=n(9),C=n(508),I=n(599),A=n(676),E=n(546),P=n(512),k=n(677),_=n(678),w=n(679),O=n(680),M=n(681),R=n(682),N=n(683),D=n(538),G=n(83),x=n(582),L=n(84),j=n.n(L),F=n(13),B=n.n(F),H=n(635),K=n(552),V=n(521),q=n(532),U=n(560),Q=n(15),z=n(33),W=n.n(z),Y=n(517),Z=n(684),J=n(543),X=n(613),$=n(561),ee=n(577),te=n(603),ne=n(553),re=n(653),oe=n(601),ae=n(685),ie=n(536),ue=n(578),le=n(110),ce=n(549),se=n(668),pe=n(513),de=n(151),fe=n(507),me=n(619),he=n(661);function ye(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Se,Te,Ce=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ve(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ie=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},Ae={MUTATION_EXTENDED:"MUTATION_EXTENDED",COPY_NUMBER_ALTERATION:"COPY_NUMBER_ALTERATION",MRNA_EXPRESSION:"MRNA_EXPRESSION",PROTEIN_LEVEL:"PROTEIN_LEVEL",FUSION:"FUSION",GENESET_SCORE:"GENESET_SCORE",METHYLATION:"METHYLATION",GENERIC_ASSAY:"GENERIC_ASSAY"},Ee={COPY_NUMBER_ALTERATION:"CNA",MRNA_EXPRESSION:"EXP",PROTEIN_LEVEL:"PROT",MUTATION_EXTENDED:["MUT","FUSION"]};!function(e){e.w_mut="w_mut",e.w_cna="w_cna",e.w_mut_cna="w_mut_cna"}(Se||(Se={})),function(e){e.GENE="gene",e.GENESET="geneset"}(Te||(Te={}));var Pe=(be(r={},Se.w_mut,"all_cases_with_mutation_data"),be(r,Se.w_cna,"all_cases_with_cna_data"),be(r,Se.w_mut_cna,"all_cases_with_mutation_and_cna_data"),r);var ke=function(){function t(n,r){var l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.appStore=n,this.routing=r,this.rvQuery=new re.a,this.tabId=void 0,this.checkingVirtualStudies=!1,this.urlValidationError=null,this.ajaxErrors=[],this.sessionIdURL="",this.queryFormVisible=!1,this.modifyQueryParams=void 0,this.excludeGermlineMutations=!1,this._mutationEnrichmentProfileMap={},this._copyNumberEnrichmentProfileMap={},this._mRNAEnrichmentProfileMap={},this._proteinEnrichmentProfileMap={},this.selectedMutationEnrichmentProfileMap=Object(i.b)({await:function(){return[l.mutationEnrichmentProfiles]},invoke:function(){if(T.isEmpty(l._mutationEnrichmentProfileMap)){var e=T.groupBy(l.mutationEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(T.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._mutationEnrichmentProfileMap)}}),this.selectedCopyNumberEnrichmentProfileMap=Object(i.b)({await:function(){return[l.copyNumberEnrichmentProfiles]},invoke:function(){if(T.isEmpty(l._copyNumberEnrichmentProfileMap)){var e=T.groupBy(l.copyNumberEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(T.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._copyNumberEnrichmentProfileMap)}}),this.selectedmRNAEnrichmentProfileMap=Object(i.b)({await:function(){return[l.mRNAEnrichmentProfiles]},invoke:function(){if(T.isEmpty(l._mRNAEnrichmentProfileMap)){var e=T.groupBy(l.mRNAEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(T.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._mRNAEnrichmentProfileMap)}}),this.selectedProteinEnrichmentProfileMap=Object(i.b)({await:function(){return[l.proteinEnrichmentProfiles]},invoke:function(){if(T.isEmpty(l._proteinEnrichmentProfileMap)){var e=T.groupBy(l.proteinEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(T.mapValues(e,function(e){return e[0]}))}return Promise.resolve(l._proteinEnrichmentProfileMap)}}),this.selectedMolecularProfiles=Object(i.b)({await:function(){return[l.studyToMolecularProfiles,l.studies]},invoke:function(){if(l.studies.result.length>1||0===l.rvQuery.selectedMolecularProfileIds.length)return Promise.resolve(Object(Z.a)(l.studyToMolecularProfiles.result,l.profileFilter));var e=T.keyBy(l.rvQuery.selectedMolecularProfileIds,function(e){return e});return Promise.resolve(l.molecularProfilesInStudies.result.filter(function(t){return t.molecularProfileId in e}))}}),this.clinicalAttributes_profiledIn=Object(i.b)({await:function(){return[l.coverageInformation,l.molecularProfileIdToMolecularProfile,l.selectedMolecularProfiles,l.studyIds]},invoke:function(){return Promise.resolve(Object(ne.e)(l.coverageInformation.result.samples,l.molecularProfileIdToMolecularProfile.result,l.selectedMolecularProfiles.result,1===l.studyIds.result.length))}}),this.comparisonGroups=Object(i.b)({await:function(){return[l.studyIds]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.appStore.isLoggedIn){e.next=12;break}return e.prev=2,e.t0=t,e.next=6,ce.a.getGroupsForStudies(this.studyIds.result);case 6:e.t1=e.sent,t=e.t0.concat.call(e.t0,e.t1),e.next=12;break;case 10:e.prev=10,e.t2=e.catch(2);case 12:if(!(n=this.routing.location.query[se.a])){e.next=44;break}r=n.split(",").filter(function(e){return Object(Y.b)({clinicalAttributeId:e})}).map(function(e){return Object(ne.b)(e,!1)}),o=!0,a=!1,i=void 0,e.prev=18,u=r[Symbol.iterator]();case 20:if(o=(l=u.next()).done){e.next=30;break}return c=l.value,e.t3=t,e.next=25,ce.a.getGroup(c);case 25:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 27:o=!0,e.next=20;break;case 30:e.next=36;break;case 32:e.prev=32,e.t5=e.catch(18),a=!0,i=e.t5;case 36:e.prev=36,e.prev=37,o||null==u.return||u.return();case 39:if(e.prev=39,!a){e.next=42;break}throw i;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",t);case 45:case"end":return e.stop()}},e,this,[[2,10],[18,32,36,44],[37,,39,43]])}))}}),this.clinicalAttributes_comparisonGroupMembership=Object(i.b)({await:function(){return[l.comparisonGroups]},invoke:function(){return Promise.resolve(Object(ne.d)(l.comparisonGroups.result))}}),this.alterationsBySelectedMolecularProfiles=Object(i.b)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=l.selectedMolecularProfiles.result,t=[];return e.forEach(function(e){switch(e.molecularAlterationType){case Ae.COPY_NUMBER_ALTERATION:t.push(Ee.COPY_NUMBER_ALTERATION);break;case Ae.MRNA_EXPRESSION:t.push(Ee.MRNA_EXPRESSION);break;case Ae.PROTEIN_LEVEL:t.push(Ee.PROTEIN_LEVEL);break;case Ae.MUTATION_EXTENDED:Ee.MUTATION_EXTENDED.forEach(function(e){return t.push(e)})}}),Promise.resolve(T.uniq(t))}}),this.selectedMolecularProfileIdsByAlterationType=Object(i.b)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=l.selectedMolecularProfiles.result;return Promise.resolve(T.groupBy(e,"molecularAlterationType"))}}),this.clinicalAttributes=Object(i.b)({await:function(){return[l.studyIds,l.clinicalAttributes_profiledIn,l.clinicalAttributes_comparisonGroupMembership,l.samples,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.fetchClinicalAttributesUsingPOST({studyIds:this.studyIds.result});case 2:return t=e.sent,n=[{clinicalAttributeId:Y.a.MutationSpectrum,datatype:"COUNTS_MAP",description:"Number of point mutations in the sample counted by different types of nucleotide changes.",displayName:"Mutation spectrum",patientAttribute:!1,studyId:"",priority:"0"}],this.studyIds.result.length>1&&n.push({clinicalAttributeId:Y.a.StudyOfOrigin,datatype:"STRING",description:"Study which the sample is a part of.",displayName:"Study of origin",patientAttribute:!1,studyId:"",priority:"0"}),this.samples.result.length!==this.patients.result.length&&n.push({clinicalAttributeId:Y.a.NumSamplesPerPatient,datatype:"NUMBER",description:"Number of queried samples for each patient.",displayName:"# Samples per Patient",patientAttribute:!0}),e.abrupt("return",t.concat(n).concat(this.clinicalAttributes_profiledIn.result).concat(this.clinicalAttributes_comparisonGroupMembership.result));case 7:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributeIdToClinicalAttribute=Object(i.b)({await:function(){return[l.clinicalAttributes]},invoke:function(){return Promise.resolve(T.keyBy(l.clinicalAttributes.result,"clinicalAttributeId"))}}),this.clinicalAttributeIdToAvailableSampleCount=Object(i.b)({await:function(){return[l.samples,l.studies,l.clinicalAttributes,l.studyToDataQueryFilter,l.clinicalAttributes_profiledIn,l.clinicalAttributes_comparisonGroupMembership]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i,u,l,c,s,p,d,f,m,h,y,g,b,v,S,C,I,A,E,P,k,_,w,O,M,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1===this.studies.result.length?(n=this.studies.result[0].studyId,r=this.studyToDataQueryFilter.result[n],t=r.sampleListId?{sampleListId:r.sampleListId}:{sampleIdentifiers:r.sampleIds.map(function(e){return{sampleId:e,studyId:n}})}):t={sampleIdentifiers:this.samples.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}})},e.next=3,o.a.getClinicalAttributeCountsUsingPOST({clinicalAttributeCountFilter:t});case 3:for(a=e.sent,i=T.reduce(a,function(e,t){return e[t.clinicalAttributeId]=e[t.clinicalAttributeId]||0,e[t.clinicalAttributeId]+=t.count,e},{}),u=!0,l=!1,c=void 0,e.prev=8,s=this.clinicalAttributes.result[Symbol.iterator]();!(u=(p=s.next()).done);u=!0)(d=p.value).clinicalAttributeId in i||(i[d.clinicalAttributeId]=0);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),l=!0,c=e.t0;case 16:e.prev=16,e.prev=17,u||null==s.return||s.return();case 19:if(e.prev=19,!l){e.next=22;break}throw c;case 22:return e.finish(19);case 23:return e.finish(16);case 24:for(i[Y.a.NumSamplesPerPatient]=this.samples.result.length,i[Y.a.StudyOfOrigin]=this.samples.result.length,f=0,0,m=!0,h=!1,y=void 0,e.prev=30,g=this.samples.result[Symbol.iterator]();!(m=(b=g.next()).done);m=!0)v=b.value,f+=+!!v.sequenced,+!!v.copyNumberSegmentPresent;e.next=38;break;case 34:e.prev=34,e.t1=e.catch(30),h=!0,y=e.t1;case 38:e.prev=38,e.prev=39,m||null==g.return||g.return();case 41:if(e.prev=41,!h){e.next=44;break}throw y;case 44:return e.finish(41);case 45:return e.finish(38);case 46:for(i[Y.a.MutationSpectrum]=f,S=!0,C=!1,I=void 0,e.prev=50,A=this.clinicalAttributes_profiledIn.result[Symbol.iterator]();!(S=(E=A.next()).done);S=!0)P=E.value,i[P.clinicalAttributeId]=this.samples.result.length;e.next=58;break;case 54:e.prev=54,e.t2=e.catch(50),C=!0,I=e.t2;case 58:e.prev=58,e.prev=59,S||null==A.return||A.return();case 61:if(e.prev=61,!C){e.next=64;break}throw I;case 64:return e.finish(61);case 65:return e.finish(58);case 66:for(k=!0,_=!1,w=void 0,e.prev=69,O=this.clinicalAttributes_comparisonGroupMembership.result[Symbol.iterator]();!(k=(M=O.next()).done);k=!0)R=M.value,i[R.clinicalAttributeId]=Object(pe.s)(R.comparisonGroup.data);e.next=77;break;case 73:e.prev=73,e.t3=e.catch(69),_=!0,w=e.t3;case 77:e.prev=77,e.prev=78,k||null==O.return||O.return();case 80:if(e.prev=80,!_){e.next=83;break}throw w;case 83:return e.finish(80);case 84:return e.finish(77);case 85:return e.abrupt("return",i);case 86:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23],[30,34,38,46],[39,,41,45],[50,54,58,66],[59,,61,65],[69,73,77,85],[78,,80,84]])}))}}),this.cnSegments=Object(i.b)({await:function(){return[l.samples]},invoke:function(){return Object(y.n)(l.samples.result)}},[]),this.cnSegmentsByChromosome=Object(i.b)({await:function(){return[l.genes,l.samples,l.referenceGenes]},invoke:function(){var e=T.uniq(l.referenceGenes.result.map(function(e){return e.chromosome}));return Promise.resolve(e.reduce(function(e,t){return e[t]=Object(i.b)({invoke:function(){return Object(y.n)(l.samples.result,t)}}),e},{}))}},{}),this.molecularData=Object(i.b)({await:function(){return[l.studyToDataQueryFilter,l.genes,l.selectedMolecularProfiles,l.samples]},invoke:function(){var e=T.filter(l.selectedMolecularProfiles.result,function(e){return"MUTATION_EXTENDED"!==e.molecularAlterationType}),t=l.genes.result;if(e.length&&null!=t&&t.length){var n=[];if(e.forEach(function(e){l.samples.result.forEach(function(t){t.studyId===e.studyId&&n.push({molecularProfileId:e.molecularProfileId,sampleId:t.sampleId})})}),n.length)return o.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:T.map(l.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:n}})}return Promise.resolve([])}}),this.nonQueriedMolecularData=Object(i.b)({await:function(){return[l.studyToDataQueryFilter,l.genes,l.nonSelectedMolecularProfiles,l.samples]},invoke:function(){var e=T.filter(l.nonSelectedMolecularProfiles.result,function(e){return e.molecularAlterationType!==Ae.MUTATION_EXTENDED}),t=l.genes.result;if(e.length&&null!=t&&t.length){var n=T.groupBy(e,function(e){return e.studyId}),r=l.samples.result.filter(function(e){return e.studyId in n}).reduce(function(e,t){return e=e.concat(n[t.studyId].map(function(e){return{molecularProfileId:e.molecularProfileId,sampleId:t.sampleId}}))},[]);if(r.length)return o.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",molecularDataMultipleStudyFilter:{entrezGeneIds:T.map(l.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:r}})}return Promise.resolve([])}}),this.coexpressionTabMolecularProfiles=Object(i.b)({await:function(){return[l.molecularProfilesWithData]},invoke:function(){return Promise.resolve(Object($.d)(Object($.a)(l.molecularProfilesWithData.result).concat(Object($.b)(l.molecularProfilesWithData.result))))}}),this.isThereDataForCoExpressionTab=Object(i.b)({await:function(){return[l.molecularProfilesInStudies,l.genes,l.samples]},invoke:function(){var e=Object($.a)(l.molecularProfilesInStudies.result),t=T.groupBy(e,"studyId"),n=T.flatten(l.samples.result.map(function(e){var n=t[e.studyId];return n?n.map(function(t){return{molecularProfileId:t.molecularProfileId,sampleId:e.sampleId}}):[]})),r=l.genes.result.map(function(e){return e.entrezGeneId});return n.length>0&&r.length>0?o.a.fetchMolecularDataInMultipleMolecularProfilesUsingPOSTWithHttpInfo({molecularDataMultipleStudyFilter:{entrezGeneIds:r,sampleMolecularIdentifiers:n},projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)>0}):Promise.resolve(!1)}}),this.molecularProfilesWithData=Object(i.b)({await:function(){return[l.molecularProfilesInStudies,l.studyToDataQueryFilter,l.genes,l.genesets,l.treatmentsInStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i,u,l,c,s,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],r=this.studyToDataQueryFilter.result,a=!0,i=!1,u=void 0,e.prev=6,l=function(){var e=s.value,a=r[e.studyId];if(!a||!a.sampleIds&&!a.sampleListId)return"continue";var i=e.molecularProfileId,u=Object.assign({entrezGeneIds:p.genes.result.map(function(e){return e.entrezGeneId})},a);e.molecularAlterationType===Ae.MUTATION_EXTENDED?n.push(o.a.fetchMutationsInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:i,mutationFilter:u,projection:"META"}).then(function(n){parseInt(n.header["sample-count"],10)>0&&t.push(e)})):e.molecularAlterationType===Ae.GENESET_SCORE||e.molecularAlterationType===Ae.GENERIC_ASSAY?t.push(e):n.push(o.a.fetchAllMolecularDataInMolecularProfileUsingPOSTWithHttpInfo({molecularProfileId:i,molecularDataFilter:u,projection:"META"}).then(function(n){parseInt(n.header["total-count"],10)>0&&t.push(e)}))},c=this.molecularProfilesInStudies.result[Symbol.iterator]();case 9:if(a=(s=c.next()).done){e.next=16;break}if("continue"!==l()){e.next=13;break}return e.abrupt("continue",13);case 13:a=!0,e.next=9;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),i=!0,u=e.t0;case 22:e.prev=22,e.prev=23,a||null==c.return||c.return();case 25:if(e.prev=25,!i){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.next=32,Promise.all(n);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}},e,this,[[6,18,22,30],[23,,25,29]])}))}}),this.nonOqlFilteredAlterations=Object(i.b)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.entrezGeneIdToGene]},invoke:function(){var e=new E.b(l.selectedMolecularProfiles.result),t=l.entrezGeneIdToGene.result,n=[];return n=(n=n.concat(l.filteredAndAnnotatedMutations.result)).concat(l.filteredAndAnnotatedMolecularData.result),Promise.resolve(n.map(function(n){var r=Object(oe.a)(n,e);return r.hugoGeneSymbol=t[n.entrezGeneId].hugoGeneSymbol,r.molecularProfileAlterationType=e.molecularAlterationType(n.molecularProfileId),r}))}}),this.oqlFilteredMutationsReport=Object(i.b)({await:function(){return[l._filteredAndAnnotatedMutationsReport,l.selectedMolecularProfiles,l.defaultOQLQuery]},invoke:function(){return Promise.resolve(T.mapValues(l._filteredAndAnnotatedMutationsReport.result,function(e){return Object(P.c)(l.rvQuery.oqlQuery,e,new E.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result)}))}}),this.oqlFilteredMolecularDataReport=Object(i.b)({await:function(){return[l._filteredAndAnnotatedMolecularDataReport,l.selectedMolecularProfiles,l.defaultOQLQuery]},invoke:function(){return Promise.resolve(T.mapValues(l._filteredAndAnnotatedMolecularDataReport.result,function(e){return Object(P.c)(l.rvQuery.oqlQuery,e,new E.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result)}))}}),this.oqlFilteredAlterations=Object(i.b)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.defaultOQLQuery]},invoke:function(){if(""!=l.rvQuery.oqlQuery.trim()){var e=[];return e=(e=e.concat(l.filteredAndAnnotatedMutations.result)).concat(l.filteredAndAnnotatedMolecularData.result),Promise.resolve(Object(P.c)(l.rvQuery.oqlQuery,e,new E.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result))}return Promise.resolve([])}}),this.oqlFilteredCaseAggregatedData=Object(i.b)({await:function(){return[l.oqlFilteredAlterations,l.samples,l.patients]},invoke:function(){return Promise.resolve({samples:Object(y.P)(l.oqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},l.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(y.P)(l.oqlFilteredAlterations.result,function(e){return e.uniquePatientKey},l.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.nonOqlFilteredCaseAggregatedData=Object(i.b)({await:function(){return[l.nonOqlFilteredAlterations,l.samples,l.patients]},invoke:function(){return Promise.resolve({samples:Object(y.P)(l.nonOqlFilteredAlterations.result,function(e){return e.uniqueSampleKey},l.samples.result.map(function(e){return e.uniqueSampleKey})),patients:Object(y.P)(l.nonOqlFilteredAlterations.result,function(e){return e.uniquePatientKey},l.patients.result.map(function(e){return e.uniquePatientKey}))})}}),this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine=Object(i.b)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.defaultOQLQuery,l.samples,l.patients]},invoke:function(){var e=[].concat(ye(l.filteredAndAnnotatedMutations.result),ye(l.filteredAndAnnotatedMolecularData.result)),t=new E.b(l.selectedMolecularProfiles.result),n=l.defaultOQLQuery.result,r=l.samples.result,o=l.patients.result;if(""===l.rvQuery.oqlQuery.trim())return Promise.resolve([]);var a=Object(P.e)(l.rvQuery.oqlQuery,e,t,n);return Promise.resolve(a.map(function(a){return{cases:Object(V.q)(a,r,o),oql:a,mergedTrackOqlList:Object(V.k)(a,n,e,t,r,o)}}))}}),this.isSampleAlteredMap=Object(i.b)({await:function(){return[l.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,l.samples,l.coverageInformation,l.selectedMolecularProfiles,l.studyToMolecularProfiles]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(V.o)(this.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result,this.samples.result,this.rvQuery.oqlQuery,this.coverageInformation.result,this.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId}),this.studyToMolecularProfiles.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.oqlFilteredCaseAggregatedDataByOQLLine=Object(i.b)({await:function(){return[l.filteredAndAnnotatedMutations,l.filteredAndAnnotatedMolecularData,l.selectedMolecularProfiles,l.defaultOQLQuery,l.samples,l.patients]},invoke:function(){if(""===l.rvQuery.oqlQuery.trim())return Promise.resolve([]);var e=Object(P.d)(l.rvQuery.oqlQuery,[].concat(ye(l.filteredAndAnnotatedMutations.result),ye(l.filteredAndAnnotatedMolecularData.result)),new E.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result);return Promise.resolve(e.map(function(e){return{cases:Object(V.q)(e,l.samples.result,l.patients.result),oql:e}}))}}),this.studyToMolecularProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(T.groupBy(l.molecularProfilesInStudies.result,function(e){return e.studyId}))}}),this.coverageInformation=Object(i.b)({await:function(){return[l.studyToMolecularProfiles,l.genes,l.samples,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.samples.result.forEach(function(e){var n=i.studyToMolecularProfiles.result[e.studyId];if(n){var r=e.sampleId,o=!0,a=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value;t.push({molecularProfileId:s.molecularProfileId,sampleId:r})}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}}}),!t.length||!this.genes.result.length){e.next=8;break}return e.next=5,o.a.fetchGenePanelDataInMultipleMolecularProfilesUsingPOST({sampleMolecularIdentifiers:t});case 5:n=e.sent,e.next=9;break;case 8:n=[];case 9:if(r=T.uniq(n.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),a=[],!r.length){e.next=15;break}return e.next=14,o.a.fetchGenePanelsUsingPOST({genePanelIds:r,projection:"DETAILED"});case 14:a=e.sent;case 15:return e.abrupt("return",Object(V.f)(n,a,this.samples.result,this.patients.result,this.genes.result));case 16:case"end":return e.stop()}},e,this)}))}},{samples:{},patients:{}}),this.sequencedSampleKeys=Object(i.b)({await:function(){return[l.samples,l.coverageInformation,l.selectedMolecularProfiles]},invoke:function(){var e=l.coverageInformation.result,t=l.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(T.chain(l.samples.result).filter(function(n){return T.some(Object(U.b)(n.uniqueSampleKey,t,e))}).map(function(e){return e.uniqueSampleKey}).value())}}),this.sequencedPatientKeys=Object(i.b)({await:function(){return[l.sampleKeyToSample,l.sequencedSampleKeys]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",T.chain(this.sequencedSampleKeys.result).map(function(e){return t[e].uniquePatientKey}).uniq().value());case 2:case"end":return e.stop()}},e,this)}))}}),this.sequencedSampleKeysByGene=Object(i.b)({await:function(){return[l.samples,l.genes,l.coverageInformation,l.selectedMolecularProfiles]},invoke:function(){var e=l.coverageInformation.result,t=l.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId});return Promise.resolve(l.genes.result.reduce(function(n,r){return n[r.hugoGeneSymbol]=l.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(n){return T.some(Object(U.b)(n,t,e,r.hugoGeneSymbol))}),n},{}))}}),this.existUnsequencedSamplesInAGene=Object(i.b)({await:function(){return[l.samples,l.sequencedSampleKeysByGene]},invoke:function(){var e=l.samples.result.length;return Promise.resolve(T.some(l.sequencedSampleKeysByGene.result,function(t){return t.length<e}))}}),this.sequencedPatientKeysByGene=Object(i.b)({await:function(){return[l.sampleKeyToSample,l.sequencedSampleKeysByGene]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sampleKeyToSample.result,e.abrupt("return",T.mapValues(this.sequencedSampleKeysByGene.result,function(e){return T.chain(e).map(function(e){return t[e].uniquePatientKey}).uniq().value()}));case 2:case"end":return e.stop()}},e,this)}))}}),this.alteredSampleKeys=Object(i.b)({await:function(){return[l.samples,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result.samples;return Promise.resolve(l.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return e[t].length>0}))}}),this.alteredSamples=Object(i.b)({await:function(){return[l.sampleKeyToSample,l.alteredSampleKeys]},invoke:function(){return Promise.resolve(l.alteredSampleKeys.result.map(function(e){return l.sampleKeyToSample.result[e]}))}},[]),this.alteredPatients=Object(i.b)({await:function(){return[l.patients,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result;return Promise.resolve(l.patients.result.filter(function(t){return!!e.patients[t.uniquePatientKey].length}))}}),this.alteredPatientKeys=Object(i.b)({await:function(){return[l.alteredPatients]},invoke:function(){return Promise.resolve(l.alteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredSampleKeys=Object(i.b)({await:function(){return[l.samples,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result;return Promise.resolve(l.samples.result.map(function(e){return e.uniqueSampleKey}).filter(function(t){return!e.samples[t].length}))}}),this.unalteredSamples=Object(i.b)({await:function(){return[l.sampleKeyToSample,l.unalteredSampleKeys]},invoke:function(){var e=[];return l.unalteredSampleKeys.result.forEach(function(t){return e.push(l.sampleKeyToSample.result[t])}),Promise.resolve(e)}},[]),this.unalteredPatientKeys=Object(i.b)({await:function(){return[l.unalteredPatients]},invoke:function(){return Promise.resolve(l.unalteredPatients.result.map(function(e){return e.uniquePatientKey}))}}),this.unalteredPatients=Object(i.b)({await:function(){return[l.patients,l.oqlFilteredCaseAggregatedData]},invoke:function(){var e=l.oqlFilteredCaseAggregatedData.result;return Promise.resolve(l.patients.result.filter(function(t){return!e.patients[t.uniquePatientKey].length}))}}),this.oqlFilteredAlterationsByGene=Object(i.b)({await:function(){return[l.genes,l.oqlFilteredAlterations]},invoke:function(){var e=T.groupBy(l.oqlFilteredAlterations.result,function(e){return e.gene.hugoGeneSymbol}),t=l.genes.result.reduce(function(t,n){return t[n.hugoGeneSymbol]=e[n.hugoGeneSymbol],t},{});return Promise.resolve(t)}}),this.defaultOQLQuery=Object(i.b)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=T.uniq(T.map(l.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType}));return Promise.resolve(function(e,t,n){for(var r={},o=0;o<e.length;o++)switch(e[o]){case"MUTATION_EXTENDED":r.MUT=!0,r.FUSION=!0;break;case"COPY_NUMBER_ALTERATION":r.AMP=!0,r.HOMDEL=!0;break;case"MRNA_EXPRESSION":r["EXP>="+t]=!0,r["EXP<=-"+t]=!0;break;case"PROTEIN_LEVEL":r["PROT>="+n]=!0,r["PROT<=-"+n]=!0}return Object.keys(r).join(" ")}(e,l.rvQuery.zScoreThreshold,l.rvQuery.rppaScoreThreshold))}}),this.samplesByDetailedCancerType=Object(i.b)({await:function(){return[l.samples,l.clinicalDataForSamples]},invoke:function(){var e=l.groupSamplesByCancerType(l.clinicalDataForSamples.result,l.samples.result,"CANCER_TYPE");return 1===T.size(e)&&(e=l.groupSamplesByCancerType(l.clinicalDataForSamples.result,l.samples.result,"CANCER_TYPE_DETAILED")),Promise.resolve(e)}}),this.samplesExtendedWithClinicalData=Object(i.b)({await:function(){return[l.samples,l.clinicalDataForSamples,l.studies]},invoke:function(){return Promise.resolve((e=l.samples.result,t=l.clinicalDataForSamples.result,n=l.studies.result,r=T.groupBy(t,function(e){return e.uniqueSampleKey}),o=e.map(function(e){var t=r[e.uniqueSampleKey];return t&&t.forEach(function(t){switch(t.clinicalAttributeId){case"CANCER_TYPE_DETAILED":e.cancerTypeDetailed=t.value;break;case"CANCER_TYPE":e.cancerType=t.value}}),e}),a=T.keyBy(n,function(e){return e.studyId}),o.forEach(function(e){if(!e.cancerType){var t=a[e.studyId];e.cancerType=t?t.cancerType.name:"Unknown"}e.cancerType&&!e.cancerTypeDetailed&&(e.cancerTypeDetailed=e.cancerType)}),o));var e,t,n,r,o,a}}),this.oqlFilteredAlterationsByGeneBySampleKey=Object(i.b)({await:function(){return[l.oqlFilteredAlterationsByGene,l.samples]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.mapValues(this.oqlFilteredAlterationsByGene.result,function(e){return T.groupBy(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.studyWithSamples=Object(i.b)({await:function(){return[l.samples,l.queriedStudies,l.queriedVirtualStudies]},invoke:function(){return Promise.resolve(Object(fe.K)(l.samples.result,l.queriedStudies.result,l.queriedVirtualStudies.result))},onError:function(e){},default:[]}),this.mutationProfiles=Object(i.b)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaProfiles=Object(i.b)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.selectedMolecularProfiles.result.filter(function(e){return"COPY_NUMBER_ALTERATION"===e.molecularAlterationType&&"DISCRETE"===e.datatype}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.virtualStudyParams=Object(i.b)({await:function(){return[l.samples,l.studyIds,l.studyWithSamples,l.queriedVirtualStudies]},invoke:function(){return Promise.resolve({user:l.appStore.userName,name:1===l.queriedVirtualStudies.result.length?l.queriedVirtualStudies.result[0].data.name:void 0,description:1===l.queriedVirtualStudies.result.length?l.queriedVirtualStudies.result[0].data.description:void 0,studyWithSamples:l.studyWithSamples.result,selectedSamples:l.samples.result,filter:{studyIds:l.studyIds.result},attributesMetaSet:l.chartMetaSet})}}),this.oqlFilteredAlterationsByGeneAsSampleKeyArrays=Object(i.b)({await:function(){return[l.oqlFilteredAlterationsByGene]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.mapValues(this.oqlFilteredAlterationsByGene.result,function(e){return T.map(e,function(e){return e.uniqueSampleKey})}));case 1:case"end":return e.stop()}},e,this)}))}}),this.givenSampleOrder=Object(i.b)({await:function(){return[l.samples,l.samplesSpecification]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.samplesSpecification.result.find(function(e){return!e.sampleId})){e.next=2;break}return e.abrupt("return",[]);case 2:return t=T.reduce(this.samplesSpecification.result,function(e,t,n){return e[t.studyId]=e[t.studyId]||{},e[t.studyId][t.sampleId]=n,e},{}),e.abrupt("return",T.sortBy(this.samples.result,function(e){return t[e.studyId][e.sampleId]}));case 4:case"end":return e.stop()}},e,this)}))}}),this.studyToSampleIds=Object(i.b)({await:function(){return[l.samplesSpecification]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i,u,l,c,s,p,d,f,m,h,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n={},r=!0,a=!1,i=void 0,e.prev=5,u=this.samplesSpecification.result[Symbol.iterator]();!(r=(l=u.next()).done);r=!0)(c=l.value).sampleId?(n[c.studyId]=n[c.studyId]||{},n[c.studyId][c.sampleId]=!0):c.sampleListId&&t.push(c);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),a=!0,i=e.t0;case 13:e.prev=13,e.prev=14,r||null==u.return||u.return();case 16:if(e.prev=16,!a){e.next=19;break}throw i;case 19:return e.finish(16);case 20:return e.finish(13);case 21:if(!(t.length>0)){e.next=44;break}return e.next=24,o.a.fetchSampleListsUsingPOST({sampleListIds:t.map(function(e){return e.sampleListId}),projection:"DETAILED"});case 24:for(s=e.sent,p=!0,d=!1,f=void 0,e.prev=28,m=s[Symbol.iterator]();!(p=(h=m.next()).done);p=!0)y=h.value,n[y.studyId]=Object(C.e)(y.sampleIds);e.next=36;break;case 32:e.prev=32,e.t1=e.catch(28),d=!0,f=e.t1;case 36:e.prev=36,e.prev=37,p||null==m.return||m.return();case 39:if(e.prev=39,!d){e.next=42;break}throw f;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",n);case 45:case"end":return e.stop()}},e,this,[[5,9,13,21],[14,,16,20],[28,32,36,44],[37,,39,43]])}))}},{}),this.studyToSampleListId=Object(i.b)({await:function(){return[l.samplesSpecification]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.samplesSpecification.result.reduce(function(e,t){return t.sampleListId&&(e[t.studyId]=t.sampleListId),e},{}));case 1:case"end":return e.stop()}},e,this)}))}}),this.samplesSpecification=Object(i.b)({await:function(){return[l.queriedVirtualStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rvQuery.sampleListCategory){e.next=8;break}if(!(this.queriedVirtualStudies.result.length>0)){e.next=5;break}return e.abrupt("return",Object(X.e)(this.rvQuery.samplesSpecification,this.queriedVirtualStudies.result));case 5:return e.abrupt("return",this.rvQuery.samplesSpecification);case 6:e.next=17;break;case 8:return t=[],t=this.queriedVirtualStudies.result.length>0?Object(X.e)(this.rvQuery.samplesSpecification,this.queriedVirtualStudies.result):this.rvQuery.samplesSpecification,n=T.chain(t).map(function(e){return e.studyId}).uniq().value(),e.next=13,Promise.all(n.map(function(e){return o.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"SUMMARY"})}));case 13:return r=e.sent,a=Pe[this.rvQuery.sampleListCategory],i=r.reduce(function(e,t){var n=T.find(t,function(e){return e.category===a});return n&&e.push({studyId:n.studyId,sampleListId:n.sampleListId,sampleId:void 0}),e},[]),e.abrupt("return",i);case 17:case"end":return e.stop()}},e,this)}))}}),this.studyToMutationMolecularProfile=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=l.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,u=i.studyId;!e[u]&&Object(y.S)(i)&&(e[u]=i)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Promise.resolve(e)}},{}),this.allStudies=Object(i.b)({invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getAllStudiesUsingGET({projection:"SUMMARY"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))}},[]),this.queriedVirtualStudies=Object(i.b)({await:function(){return[l.allStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,l,c,s,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.allStudies.result,n=this.rvQuery.cohortIdsList,r=T.differenceWith(n,t,function(e,t){return e===t.studyId}),o=[],a=!0,i=!1,u=void 0,e.prev=7,l=r[Symbol.iterator]();case 9:if(a=(c=l.next()).done){e.next=24;break}return s=c.value,e.prev=11,e.next=14,le.a.getVirtualStudy(s);case 14:p=e.sent,o=o.concat(p),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("continue",21);case 21:a=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(7),i=!0,u=e.t1;case 30:e.prev=30,e.prev=31,a||null==l.return||l.return();case 33:if(e.prev=33,!i){e.next=36;break}throw u;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return e.abrupt("return",Promise.resolve(o));case 39:case"end":return e.stop()}},e,this,[[7,26,30,38],[11,18],[31,,33,37]])}))},onError:function(){}},[]),this.studyIds=Object(i.b)({await:function(){return[l.queriedVirtualStudies]},invoke:function(){var e;return e=l.queriedVirtualStudies.result.length>0?Object(X.f)(l.rvQuery.cohortIdsList,l.queriedVirtualStudies.result):l.rvQuery.cohortIdsList.slice(),Promise.resolve(e)}}),this.invalidStudyIds=Object(i.b)({await:function(){return[l.allStudies,l.queriedVirtualStudies]},invoke:function(){var e=l.allStudies.result,t=l.rvQuery.cohortIdsList,n=T.differenceWith(t,e,function(e,t){return e===t.studyId});return n.length&&0===l.queriedVirtualStudies.result.length?Promise.resolve(n):Promise.resolve([])}},[]),this.sampleLists=Object(i.b)({await:function(){return[l.studyToSampleListId]},invoke:function(){var e=T.values(l.studyToSampleListId.result);return e.length>0?o.a.fetchSampleListsUsingPOST({sampleListIds:e}):Promise.resolve([])}}),this.mutations=Object(i.b)({await:function(){return[l.genes,l.selectedMolecularProfiles,l.samples,l.studyIdToStudy]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=T.filter(this.selectedMolecularProfiles.result,function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType})).length){e.next=3;break}return e.abrupt("return",[]);case 3:return n=T.keyBy(t,function(e){return e.studyId}),r=this.samples.result.reduce(function(e,t){return t.studyId in n&&e.push({molecularProfileId:n[t.studyId].molecularProfileId,sampleId:t.sampleId}),e},[]),a={entrezGeneIds:T.map(this.genes.result,function(e){return e.entrezGeneId}),sampleMolecularIdentifiers:r},e.next=8,o.a.fetchMutationsInMultipleMolecularProfilesUsingPOST({projection:"DETAILED",mutationMultipleStudyFilter:a});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}))}}),this.mutationsTabFilteringSettings=this.makeMutationsTabFilteringSettings(),this.mutationsReportByGene=Object(i.b)({await:function(){return[l._filteredAndAnnotatedMutationsReport,l.genes]},invoke:function(){var e=l._filteredAndAnnotatedMutationsReport.result,t={},n=!0,r=!1,o=void 0;try{for(var a,i=l.genes.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){t[a.value.hugoGeneSymbol]={data:[],vus:[],germline:[],vusAndGermline:[]}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}var u=!0,c=!1,s=void 0;try{for(var p,d=e.data[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var f=p.value;t[f.gene.hugoGeneSymbol].data.push(f)}}catch(e){c=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}var m=!0,h=!1,y=void 0;try{for(var g,b=e.vus[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var v=g.value;t[v.gene.hugoGeneSymbol].vus.push(v)}}catch(e){h=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(h)throw y}}var S=!0,T=!1,C=void 0;try{for(var I,A=e.germline[Symbol.iterator]();!(S=(I=A.next()).done);S=!0){var E=I.value;t[E.gene.hugoGeneSymbol].germline.push(E)}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}var P=!0,k=!1,_=void 0;try{for(var w,O=e.vusAndGermline[Symbol.iterator]();!(P=(w=O.next()).done);P=!0){var M=w.value;t[M.gene.hugoGeneSymbol].vusAndGermline.push(M)}}catch(e){k=!0,_=e}finally{try{P||null==O.return||O.return()}finally{if(k)throw _}}return Promise.resolve(t)}}),this.mutationsByGene=Object(i.b)({await:function(){return[l.selectedMolecularProfiles,l.defaultOQLQuery,l.mutationsReportByGene]},invoke:function(){return Promise.resolve(T.mapValues(l.mutationsReportByGene.result,function(e){return l.mutationsTabFilteringSettings.useOql&&l.queryContainsMutationOql&&(e=T.mapValues(e,function(e){return Object(P.c)(l.rvQuery.oqlQuery,e,new E.b(l.selectedMolecularProfiles.result),l.defaultOQLQuery.result)})),Object(V.d)(e,l.mutationsTabFilteringSettings.excludeVus,l.mutationsTabFilteringSettings.excludeGermline)}))}}),this.mutationMapperStores=Object(i.b)({await:function(){return[l.genes,l.oncoKbCancerGenes,l.uniqueSampleKeyToTumorType,l.mutations,l.mutationsByGene]},invoke:function(){return l.genes.result?Promise.resolve(T.reduce(l.genes.result,function(e,t){return e[t.hugoGeneSymbol]=new v.a(S.b.serverConfig,{},t,l.samples,l.oncoKbCancerGenes,function(){return l.mutationsByGene.result[t.hugoGeneSymbol]||[]},function(){return l.mutationCountCache},function(){return l.genomeNexusCache},function(){return l.genomeNexusMyVariantInfoCache},function(){return l.discreteCNACache},l.studyToMolecularProfileDiscrete.result,l.studyIdToStudy,l.molecularProfileIdToMolecularProfile,l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.germlineConsentedSamples,l.indexedHotspotData,l.indexedVariantAnnotations,l.uniqueSampleKeyToTumorType.result,l.oncoKbData),e},{})):Promise.resolve({})}},{}),this.oncoKbCancerGenes=Object(i.b)({invoke:function(){return S.b.serverConfig.show_oncokb?Object(y.y)():Promise.resolve([])}},[]),this.oncoKbAnnotatedGenes=Object(i.b)({await:function(){return[l.oncoKbCancerGenes]},invoke:function(){return S.b.serverConfig.show_oncokb?Promise.resolve(T.reduce(l.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{}),this.clinicalDataForSamples=Object(i.b)({await:function(){return[l.studies,l.samples]},invoke:function(){return l.getClinicalData("SAMPLE",l.studies.result,l.samples.result,["CANCER_TYPE","CANCER_TYPE_DETAILED"])}},[]),this.survivalClinicalDataExists=Object(i.b)({await:function(){return[l.studies,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClinicalDataCount("PATIENT",this.studies.result,this.patients.result,ue.b);case 2:return t=e.sent,e.abrupt("return",t>0);case 4:case"end":return e.stop()}},e,this)}))}}),this.survivalClinicalData=Object(i.b)({await:function(){return[l.studies,l.patients]},invoke:function(){return l.getClinicalData("PATIENT",l.studies.result,l.patients.result,ue.b)}},[]),this.survivalClinicalDataGroupByUniquePatientKey=Object(i.b)({await:function(){return[l.survivalClinicalData]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T.groupBy(this.survivalClinicalData.result,"uniquePatientKey"));case 1:case"end":return e.stop()}},e,this)}))}}),this.overallAlteredPatientSurvivals=Object(i.b)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.alteredPatientKeys,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(K.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.alteredPatientKeys.result,"OS_STATUS","OS_MONTHS",function(e){return"DECEASED"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.overallUnalteredPatientSurvivals=Object(i.b)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.unalteredPatientKeys,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(K.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.unalteredPatientKeys.result,"OS_STATUS","OS_MONTHS",function(e){return"DECEASED"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.diseaseFreeAlteredPatientSurvivals=Object(i.b)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.alteredPatientKeys,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(K.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.alteredPatientKeys.result,"DFS_STATUS","DFS_MONTHS",function(e){return"Recurred/Progressed"===e||"Recurred"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.diseaseFreeUnalteredPatientSurvivals=Object(i.b)({await:function(){return[l.survivalClinicalDataGroupByUniquePatientKey,l.unalteredPatientKeys,l.patients]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(K.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.unalteredPatientKeys.result,"DFS_STATUS","DFS_MONTHS",function(e){return"Recurred/Progressed"===e||"Recurred"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.germlineConsentedSamples=Object(i.b)({await:function(){return[l.studyIds,l.samples]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.r)(this.studyIds,S.b.serverConfig.studiesWithGermlineConsentedSamples);case 2:return t=e.sent,n=this.samples.result?this.samples.result.map(function(e){return e.sampleId}):[],e.abrupt("return",t.filter(function(e){return n.includes(e.sampleId)}));case 5:case"end":return e.stop()}},e,this)}))},onError:function(){}},[]),this.samples=Object(i.b)({await:function(){return[l.studyToDataQueryFilter]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],T.each(this.studyToDataQueryFilter.result,function(e,r){e.sampleIds?t=t.concat(e.sampleIds.map(function(e){return{sampleId:e,studyId:r}})):e.sampleListId&&n.push(e.sampleListId)}),r=[],t.length&&r.push(o.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:t},projection:"DETAILED"})),n.length&&r.push(o.a.fetchSamplesUsingPOST({sampleFilter:{sampleListIds:n},projection:"DETAILED"})),e.t0=T,e.next=9,Promise.all(r);case 9:return e.t1=e.sent,e.abrupt("return",e.t0.flatten.call(e.t0,e.t1));case 11:case"end":return e.stop()}},e,this)}))}},[]),this.sampleKeyToSample=Object(i.b)({await:function(){return[l.samples]},invoke:function(){return Promise.resolve(T.keyBy(l.samples.result,function(e){return e.uniqueSampleKey}))}}),this.patientKeyToPatient=Object(i.b)({await:function(){return[l.patients]},invoke:function(){return Promise.resolve(T.keyBy(l.patients.result,function(e){return e.uniquePatientKey}))}}),this.patientKeyToSamples=Object(i.b)({await:function(){return[l.samples]},invoke:function(){return Promise.resolve(T.groupBy(l.samples.result,function(e){return e.uniquePatientKey}))}}),this.patients=Object(i.b)({await:function(){return[l.samples]},invoke:function(){return Object(V.h)(l.samples.result)},default:[]}),this.samplesWithoutCancerTypeClinicalData=Object(i.b)({await:function(){return[l.samples,l.clinicalDataForSamples]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=l.clinicalDataForSamples.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e[Object(I.a)(i.studyId,i.sampleId)]=!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Promise.resolve(l.samples.result.filter(function(t){return!e[Object(I.a)(t.studyId,t.sampleId)]}))}},[]),this.studiesForSamplesWithoutCancerTypeClinicalData=Object(i.b)({await:function(){return[l.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(y.D)(this.samplesWithoutCancerTypeClinicalData));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.studies=Object(i.b)({await:function(){return[l.studyIds]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.fetchStudiesUsingPOST({studyIds:this.studyIds.result,projection:"DETAILED"}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.queriedStudies=Object(i.b)({await:function(){return[l.studyIdToStudy,l.queriedVirtualStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.isEmpty(this.rvQuery.cohortIdsList)){e.next=4;break}return e.abrupt("return",Object(V.i)(this.studyIdToStudy.result,this.rvQuery.cohortIdsList,this.queriedVirtualStudies.result?this.queriedVirtualStudies.result:[]));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.studyIdToStudy=Object(i.b)({await:function(){return[l.studies]},invoke:function(){return Promise.resolve(T.keyBy(l.studies.result,function(e){return e.studyId}))}},{}),this.molecularProfilesInStudies=Object(i.b)({await:function(){return[l.studyIds]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.studyIds.result}}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.nonSelectedMolecularProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies,l.selectedMolecularProfiles]},invoke:function(){return Promise.resolve(T.difference(l.molecularProfilesInStudies.result,l.selectedMolecularProfiles.result))}},[]),this.nonSelectedMolecularProfilesGroupByName=Object(i.b)({await:function(){return[l.nonSelectedMolecularProfiles]},invoke:function(){var e=T.sortBy(l.nonSelectedMolecularProfiles.result,function(e){return Object(he.a)(e.molecularAlterationType)});return Promise.resolve(T.groupBy(e,function(e){return e.name}))}},{}),this.molecularProfileIdToMolecularProfile=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(l.molecularProfilesInStudies.result.reduce(function(e,t){return e[t.molecularProfileId]=t,e},{}))}},{}),this.studyToMolecularProfileDiscrete=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=!0,r=!1,o=void 0,e.prev=4,a=this.molecularProfilesInStudies.result[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)"DISCRETE"===(u=i.value).datatype&&(t[u.studyId]=u);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,n||null==a.return||a.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{}),this.heatmapMolecularProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies,l.selectedMolecularProfiles,l.genesetMolecularProfile]},invoke:function(){var e=Ae.MRNA_EXPRESSION,t=Ae.PROTEIN_LEVEL,n=Ae.METHYLATION,r=Ae.GENERIC_ASSAY,o=Object(C.e)(l.selectedMolecularProfiles.result.map(function(e){return e.molecularProfileId})),a=T.sortBy(T.filter(l.molecularProfilesInStudies.result,function(o){return(o.molecularAlterationType===e||o.molecularAlterationType===t||o.molecularAlterationType===r)&&o.showProfileInAnalysisTab||o.molecularAlterationType===n}),function(a){if(a.molecularProfileId in o)switch(a.molecularAlterationType){case e:return 0;case t:return 1;case n:return 2;case r:return 3}else switch(a.molecularAlterationType){case e:return 4;case t:return 5;case n:return 6;case r:return 7}}),i=l.genesetMolecularProfile.result,u=i.isApplicable?[i.value]:[];return Promise.resolve(a.concat(u))}}),this.genesetMolecularProfile=Object(i.b)({await:function(){return[l.selectedMolecularProfiles]},invoke:function(){var e=T.filter(l.selectedMolecularProfiles.result,function(e){return e.molecularAlterationType===Ae.GENESET_SCORE&&e.showProfileInAnalysisTab});if(e.length>1)return Promise.reject(new Error("Queried more than one gene set score profile"));var t=e.pop(),n=t?{isApplicable:!0,value:t}:{isApplicable:!1};return Promise.resolve(n)}}),this.studyToDataQueryFilter=Object(i.b)({await:function(){return[l.studyToSampleIds,l.studyIds,l.studyToSampleListId]},invoke:function(){var e=l.studyIds.result,t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t[u]=Object(y.L)(l.studyToSampleListId.result[u]||null,Object.keys(l.studyToSampleIds.result[u]||{}))}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return Promise.resolve(t)}},{}),this.bookmarkLinks=Object(i.b)({await:function(){return[l.studies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window,r=n.location.href,!S.a.sessionServiceIsEnabled()){t.next=6;break}return t.next=5,new Promise(function(t,r){n.getSessionServiceBookmark(window.location.href,e("#bookmark-result-tab").data("session"),function(e){t(e)})});case 5:r=t.sent;case 6:return o={version:3,longUrl:r,session_id:r.match(/session_id=(.*)$/)[1],history:0,format:"json"},t.next=9,B.a.get(Object(Q.d)()).query(o);case 9:return a=t.sent,i=JSON.parse(a.body),t.abrupt("return",{longUrl:r,shortenedUrl:T.values(i.results)[0].shortUrl});case 12:case"end":return t.stop()}},t)}))}}),this.molecularProfileIdToDataQueryFilter=Object(i.b)({await:function(){return[l.molecularProfilesInStudies,l.studyToDataQueryFilter]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=l.molecularProfilesInStudies.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e[i.molecularProfileId]=l.studyToDataQueryFilter.result[i.studyId]}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Promise.resolve(e)},default:{}}),this.genes=Object(i.b)({invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.q)(this.hugoGeneSymbols);case 2:if(t=e.sent,!T.isEqual(T.sortBy(this.hugoGeneSymbols),T.sortBy(t.map(function(e){return e.hugoGeneSymbol})))){e.next=7;break}return e.abrupt("return",t);case 7:throw new Error(ae.a.InvalidGenes);case 8:case"end":return e.stop()}},e,this)}))},onResult:function(e){l.geneCache.addData(e)},onError:function(e){throw e}}),this.referenceGenes=Object(i.b)({await:function(){return[l.studies]},invoke:function(){return l.studies.result.length>0?Object(y.d)(l.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(i.b)({await:function(){return[l.referenceGenes]},invoke:function(){return Promise.resolve(T.keyBy(l.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.genesets=Object(i.b)({invoke:function(){return l.rvQuery.genesetIds&&l.rvQuery.genesetIds.length>0?G.a.fetchGenesetsUsingPOST({genesetIds:l.rvQuery.genesetIds.slice()}):Promise.resolve([])},onResult:function(e){l.genesetCache.addData(e)}}),this.geneticEntities=Object(i.b)({await:function(){return[l.genes,l.genesets,l.hugoGeneSymbolToReferenceGene]},invoke:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,a=l.genes.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e.push({geneticEntityName:i.hugoGeneSymbol,geneticEntityType:Te.GENE,geneticEntityId:i.entrezGeneId,cytoband:l.hugoGeneSymbolToReferenceGene.result[i.hugoGeneSymbol].cytoband,geneticEntityData:i})}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var u=!0,c=!1,s=void 0;try{for(var p,d=l.genesets.result[Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var f=p.value;e.push({geneticEntityName:f.name,geneticEntityType:Te.GENESET,geneticEntityId:f.genesetId,cytoband:"-",geneticEntityData:f})}}catch(e){c=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}return Promise.resolve(e)}}),this.treatmentsInStudies=Object(i.b)({await:function(){return[l.studyIds]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.a.fetchTreatmentsUsingPOST({treatmentFilter:{studyIds:this.studyIds.result}}));case 1:case"end":return e.stop()}},e,this)}))},onResult:function(e){l.treatmentCache.addData(e)}}),this.selectedTreatments=Object(i.b)({await:function(){return[l.treatmentsInStudies]},invoke:function(){var e=l.rvQuery.treatmentIds;return Promise.resolve(T.filter(l.treatmentsInStudies.result,function(t){return e.includes(t.treatmentId)}))}}),this.entrezGeneIdToGene=Object(i.b)({await:function(){return[l.genes]},invoke:function(){return Promise.resolve(T.keyBy(l.genes.result,function(e){return e.entrezGeneId}))}}),this.genesetLinkMap=Object(i.b)({invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rvQuery.genesetIds||!this.rvQuery.genesetIds.length){e.next=9;break}return e.next=3,G.a.fetchGenesetsUsingPOST({genesetIds:this.rvQuery.genesetIds.slice()});case 3:return t=e.sent,n={},t.forEach(function(e){var t=e.genesetId,r=e.refLink;n[t]=r}),e.abrupt("return",n);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,this)}))}}),this.treatmentLinkMap=Object(i.b)({invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rvQuery.treatmentIds||!this.rvQuery.treatmentIds.length){e.next=9;break}return e.next=3,G.a.fetchTreatmentsUsingPOST({treatmentFilter:{studyIds:this.studyIds.result}});case 3:return t=e.sent,n={},t.forEach(function(e){var t=e.treatmentId,r=e.refLink;n[t]=r}),e.abrupt("return",n);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}},e,this)}))}}),this.customDriverAnnotationReport=Object(i.b)({await:function(){return[l.mutations]},invoke:function(){return Promise.resolve(Object(V.e)(l.mutations.result))},onResult:function(e){Object(V.r)(e,l.driverAnnotationSettings,l.driverAnnotationSettings.customTiersDefault,l.driverAnnotationSettings.oncoKb,l.driverAnnotationSettings.hotspots)}}),this._filteredAndAnnotatedMutationsReport=Object(i.b)({await:function(){return[l.mutations,l.getPutativeDriverInfo,l.entrezGeneIdToGene]},invoke:function(){return Promise.resolve(Object(V.j)(l.mutations.result,l.getPutativeDriverInfo.result,l.entrezGeneIdToGene.result))}}),this.filteredAndAnnotatedMutations=Object(i.b)({await:function(){return[l._filteredAndAnnotatedMutationsReport]},invoke:function(){return Promise.resolve(Object(V.d)(l._filteredAndAnnotatedMutationsReport.result,l.driverAnnotationSettings.excludeVUS,l.excludeGermlineMutations))}}),this.annotatedMutationCache=new q.a(function(e){return{await:function(){return[l.mutationCache.get(e),l.getPutativeDriverInfo,l.entrezGeneIdToGene]},invoke:function(){var t=Object(V.j)(l.mutationCache.get(e).result,l.getPutativeDriverInfo.result,l.entrezGeneIdToGene.result),n=t.data.concat(t.vus).concat(t.germline);return Promise.resolve(n)}}}),this._filteredAndAnnotatedMolecularDataReport=Object(i.b)({await:function(){return[l.molecularData,l.entrezGeneIdToGene,l.getOncoKbCnaAnnotationForOncoprint,l.molecularProfileIdToMolecularProfile]},invoke:function(){var e,t=l.entrezGeneIdToGene.result;e=l.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:l.getOncoKbCnaAnnotationForOncoprint.result;var n=l.molecularProfileIdToMolecularProfile.result,r=[],o=l.molecularData.result.reduce(function(o,a){var i=Object(V.b)(a,e,n,t);return i.oncoKbOncogenic?o.push(i):r.push(i),o},[]);return Promise.resolve({data:o,vus:r})}}),this.filteredAndAnnotatedMolecularData=Object(i.b)({await:function(){return[l._filteredAndAnnotatedMolecularDataReport]},invoke:function(){var e=l._filteredAndAnnotatedMolecularDataReport.result.data;return l.driverAnnotationSettings.excludeVUS||(e=e.concat(l._filteredAndAnnotatedMolecularDataReport.result.vus)),Promise.resolve(e)}}),this.annotatedCnaCache=new q.a(function(e){return{await:function(){return l.numericGeneMolecularDataCache.await([l.studyToMolecularProfileDiscrete,l.entrezGeneIdToGene,l.getOncoKbCnaAnnotationForOncoprint,l.molecularProfileIdToMolecularProfile],function(t){return T.values(t).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})})},invoke:function(){var t,n=T.flatten(l.numericGeneMolecularDataCache.getAll(T.values(l.studyToMolecularProfileDiscrete.result).map(function(t){return{entrezGeneId:e.entrezGeneId,molecularProfileId:t.molecularProfileId}})).map(function(e){return e.result})),r=l.entrezGeneIdToGene.result;t=l.getOncoKbCnaAnnotationForOncoprint.result instanceof Error?function(){}:l.getOncoKbCnaAnnotationForOncoprint.result;var o=l.molecularProfileIdToMolecularProfile.result;return Promise.resolve(n.map(function(e){return Object(V.b)(e,t,o,r)}))}}}),this.getPutativeDriverInfo=Object(i.b)({await:function(){var e=[];return l.driverAnnotationSettings.oncoKb&&e.push(l.getOncoKbMutationAnnotationForOncoprint),l.driverAnnotationSettings.hotspots&&e.push(l.isHotspotForOncoprint),l.driverAnnotationSettings.cbioportalCount&&e.push(l.getCBioportalCount),l.driverAnnotationSettings.cosmicCount&&e.push(l.getCosmicCount),e},invoke:function(){return Promise.resolve(function(e){var t=l.getOncoKbMutationAnnotationForOncoprint.result,n=l.driverAnnotationSettings.oncoKb&&t&&!(t instanceof Error)&&t(e),r="";return n&&(r=Object(V.n)(n)),{oncoKb:r,hotspots:l.driverAnnotationSettings.hotspots&&!(l.isHotspotForOncoprint.result instanceof Error)&&l.isHotspotForOncoprint.result(e),cbioportalCount:l.driverAnnotationSettings.cbioportalCount&&l.getCBioportalCount.isComplete&&l.getCBioportalCount.result(e)>=l.driverAnnotationSettings.cbioportalCountThreshold,cosmicCount:l.driverAnnotationSettings.cosmicCount&&l.getCosmicCount.isComplete&&l.getCosmicCount.result(e)>=l.driverAnnotationSettings.cosmicCountThreshold,customDriverBinary:l.driverAnnotationSettings.customBinary&&"Putative_Driver"===e.driverFilter||!1,customDriverTier:e.driverTiersFilter&&l.driverAnnotationSettings.driverTiers.get(e.driverTiersFilter)?e.driverTiersFilter:void 0}})}}),this.indexedVariantAnnotations=Object(i.b)({await:function(){return[l.mutations]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutations.result){e.next=6;break}return e.next=3,Object(y.F)(this.mutations.result,["annotation_summary","hotspots"],S.b.serverConfig.isoformOverrideSource);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),this.hotspotData=Object(i.b)({await:function(){return[l.mutations]},invoke:function(){return Object(b.a)(l.mutations)}}),this.indexedHotspotData=Object(i.b)({await:function(){return[l.hotspotData]},invoke:function(){return Promise.resolve(Object(g.t)(l.hotspotData))}}),this.isHotspotForOncoprint=Object(i.b)({invoke:function(){if(l.indexedHotspotData.isComplete){var e=l.indexedHotspotData.result;return e?Promise.resolve(function(t){return Object(ee.c)(t,e)}):Promise.resolve(function(e){return!1})}return l.indexedHotspotData.isError?Promise.resolve(new Error):new Promise(function(){})}}),this.uniqueSampleKeyToTumorType=Object(i.b)({await:function(){return[l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.samplesWithoutCancerTypeClinicalData]},invoke:function(){return Promise.resolve(Object(y.M)(l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.samplesWithoutCancerTypeClinicalData))}}),this.oncoKbData=Object(i.b)({await:function(){return[l.mutations,l.clinicalDataForSamples,l.studiesForSamplesWithoutCancerTypeClinicalData,l.uniqueSampleKeyToTumorType,l.oncoKbAnnotatedGenes]},invoke:function(){return S.b.serverConfig.show_oncokb?Object(y.z)(l.uniqueSampleKeyToTumorType.result,l.oncoKbAnnotatedGenes.result,l.mutations):Promise.resolve(y.a)},onError:function(e){}},y.a),this.oncoKbDataForOncoprint=Object(i.b)({await:function(){return[l.mutations,l.oncoKbAnnotatedGenes]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(y.z)({},this.oncoKbAnnotatedGenes.result,this.mutations,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",y.a);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))},onError:function(e){}},y.a),this.cnaOncoKbData=Object(i.b)({await:function(){return[l.uniqueSampleKeyToTumorType,l.oncoKbAnnotatedGenes,l.molecularData,l.molecularProfileIdToMolecularProfile]},invoke:function(){return S.b.serverConfig.show_oncokb?Object(y.k)(l.uniqueSampleKeyToTumorType.result,l.oncoKbAnnotatedGenes.result,l.molecularData,l.molecularProfileIdToMolecularProfile.result):Promise.resolve(y.a)}},y.a),this.cnaOncoKbDataForOncoprint=Object(i.b)({await:function(){return[l.uniqueSampleKeyToTumorType,l.oncoKbAnnotatedGenes,l.molecularData,l.molecularProfileIdToMolecularProfile]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(y.k)({},this.oncoKbAnnotatedGenes.result,this.molecularData,this.molecularProfileIdToMolecularProfile.result,"ONCOGENIC");case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",y.a);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))}},y.a),this.getOncoKbMutationAnnotationForOncoprint=Object(i.b)({await:function(){return[l.oncoKbDataForOncoprint]},invoke:function(){var e=l.oncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){var n=e.uniqueSampleKeyToTumorType,r=Object(D.d)(t.entrezGeneId,Object(y.b)(t.uniqueSampleKey,n),t.proteinChange,t.mutationType);return e.indicatorMap[r]})}}),this.getOncoKbCnaAnnotationForOncoprint=Object(i.b)({await:function(){return[l.cnaOncoKbDataForOncoprint]},invoke:function(){var e=l.cnaOncoKbDataForOncoprint.result;return e instanceof Error?Promise.resolve(new Error):Promise.resolve(function(t){if(l.driverAnnotationSettings.oncoKb){var n=e.uniqueSampleKeyToTumorType,r=Object(D.d)(t.entrezGeneId,Object(y.b)(t.uniqueSampleKey,n),Object(x.a)(t.value));return e.indicatorMap[r]}})}}),this.cbioportalMutationCountData=Object(i.b)({await:function(){return[l.mutations]},invoke:function(){var e=Object(H.a)(l.mutations.result);return o.a.fetchMutationCountsByPositionUsingPOST({mutationPositionIdentifiers:T.values(e)})}}),this.getCBioportalCount=Object(i.b)({await:function(){return[l.cbioportalMutationCountData]},invoke:function(){var e=T.groupBy(l.cbioportalMutationCountData.result,function(e){return Object(H.b)(e)});return Promise.resolve(function(t){var n=Object(H.b)(t),r=e[n];return r?r.reduce(function(e,t){return e+t.count},0):-1})}}),this.cosmicCountData=Object(i.b)({await:function(){return[l.mutations]},invoke:function(){return G.a.fetchCosmicCountsUsingPOST({keywords:T.uniq(l.mutations.result.filter(function(e){return!!e.keyword}).map(function(e){return e.keyword}))})}}),this.getCosmicCount=Object(i.b)({await:function(){return[l.cosmicCountData]},invoke:function(){var e=T.groupBy(l.cosmicCountData.result,function(e){return e.keyword});return Promise.resolve(function(t){var n=t.keyword,r=e[n],o=Object(J.b)(t.proteinChange);if(r&&o){var a=o.start;return r.reduce(function(e,t){var n=Object(J.b)(t.proteinChange);return n&&n.start===a?e+t.count:e},0)}return-1})}}),this.mutationEnrichmentProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ie.s)(this.molecularProfilesInStudies.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.mutationEnrichmentData=Object(V.v)({store:this,await:function(){return[l.alteredSamples,l.unalteredSamples,l.alteredPatients,l.unalteredPatients,l.selectedMutationEnrichmentProfileMap]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedMutationEnrichmentProfileMap.result},fetchData:function(){var e=l.selectedMutationEnrichmentProfileMap.result,t=l.usePatientLevelEnrichments?l.alteredPatients.result:l.alteredSamples.result,n=l.usePatientLevelEnrichments?l.unalteredPatients.result:l.unalteredSamples.result;return G.a.fetchMutationEnrichmentsUsingPOST({enrichmentType:l.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:[{molecularProfileCaseIdentifiers:t.filter(function(t){return void 0!==e[t.studyId]}).map(function(t){return{caseId:l.usePatientLevelEnrichments?t.patientId:t.sampleId,molecularProfileId:e[t.studyId].molecularProfileId}}),name:"Altered group"},{molecularProfileCaseIdentifiers:n.filter(function(t){return void 0!==e[t.studyId]}).map(function(t){return{caseId:l.usePatientLevelEnrichments?t.patientId:t.sampleId,molecularProfileId:e[t.studyId].molecularProfileId}}),name:"Unaltered group"}]})}}),this.copyNumberEnrichmentProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ie.q)(this.molecularProfilesInStudies.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.copyNumberHomdelEnrichmentData=Object(V.v)({store:this,referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,await:function(){return[l.alteredSamples,l.unalteredSamples,l.selectedCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return l.selectedCopyNumberEnrichmentProfileMap.result},fetchData:function(){return l.getCopyNumberEnrichmentData("HOMDEL")}}),this.copyNumberAmpEnrichmentData=Object(V.v)({store:this,referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,await:function(){return[l.alteredSamples,l.unalteredSamples,l.selectedCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return l.selectedCopyNumberEnrichmentProfileMap.result},fetchData:function(){return l.getCopyNumberEnrichmentData("AMP")}}),this.mRNAEnrichmentProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(ie.r)(l.molecularProfilesInStudies.result))}}),this.mRNAEnrichmentData=Object(V.v)({store:this,await:function(){return[l.alteredSamples,l.unalteredSamples]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedmRNAEnrichmentProfileMap.result},fetchData:function(){var e=Object.keys(l.selectedmRNAEnrichmentProfileMap.result);if(1===e.length){var t=l.selectedmRNAEnrichmentProfileMap.result[e[0]].molecularProfileId,n=[{molecularProfileCaseIdentifiers:l.alteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Altered group"},{molecularProfileCaseIdentifiers:l.unalteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Unaltered group"}];return G.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.proteinEnrichmentProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(Object(ie.t)(l.molecularProfilesInStudies.result))}}),this.proteinEnrichmentData=Object(V.v)({store:this,await:function(){return[l.alteredSamples,l.unalteredSamples]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return l.selectedProteinEnrichmentProfileMap.result},fetchData:function(){var e=Object.keys(l.selectedProteinEnrichmentProfileMap.result);if(1===e.length){var t=l.selectedProteinEnrichmentProfileMap.result[e[0]].molecularProfileId,n=[{molecularProfileCaseIdentifiers:l.alteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Altered group"},{molecularProfileCaseIdentifiers:l.unalteredSamples.result.filter(function(t){return t.studyId===e[0]}).map(function(e){return{caseId:e.sampleId,molecularProfileId:t}}),name:"Unaltered group"}];return G.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.molecularProfileIdToProfiledSampleCount=Object(i.b)({await:function(){return[l.samples,l.coverageInformation,l.molecularProfilesInStudies]},invoke:function(){var e={},t=l.molecularProfilesInStudies.result.map(function(e){return e.molecularProfileId}),n=l.coverageInformation.result,r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){e[i.value]=0}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}var c=[],s=!0,p=!1,d=void 0;try{for(var f,m=l.samples.result[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var h=f.value;c=Object(U.b)(h.uniqueSampleKey,t,n);for(var y=0;y<t.length;y++)c[y]&&(e[t[y]]+=1)}}catch(e){p=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(p)throw d}}return Promise.resolve(e)}}),this.geneMolecularDataCache=Object(i.b)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new k.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.expressionProfiles=Object(i.b)({await:function(){return[l.molecularProfilesInStudies]},invoke:function(){return Promise.resolve(l.molecularProfilesInStudies.result.filter(function(e){return Object(V.t)(e.molecularProfileId)}))}},[]),this.genesetMolecularDataCache=Object(i.b)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new _.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.numericGenesetMolecularDataCache=new q.a(function(e){return{await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=l.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t?G.a.fetchGeneticDataItemsUsingPOST({geneticProfileId:e.molecularProfileId,genesetDataFilterCriteria:Object.assign({genesetIds:[e.genesetId]},t)}):Promise.resolve([])}}}),this.genesetCorrelatedGeneCache=Object(i.b)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new w.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.treatmentMolecularDataCache=Object(i.b)({await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){return Promise.resolve(new O.a(l.molecularProfileIdToDataQueryFilter.result))}}),this.geneCache=new M.a,this.genesetCache=new R.a,this.treatmentCache=new N.a,this.numericGeneMolecularDataCache=new q.a(function(e){return{await:function(){return[l.molecularProfileIdToDataQueryFilter]},invoke:function(){var t=l.molecularProfileIdToDataQueryFilter.result[e.molecularProfileId];return t&&(t.sampleIds&&t.sampleIds.length||t.sampleListId)?o.a.fetchAllMolecularDataInMolecularProfileUsingPOST({molecularProfileId:e.molecularProfileId,molecularDataFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},t)}):Promise.resolve([])}}}),this.clinicalDataCache=new Y.e(this.samples,this.patients,this.studyToMutationMolecularProfile,this.studyIdToStudy,this.coverageInformation),this.mutationCache=new q.a(function(e){return{await:function(){return[l.studyToMutationMolecularProfile,l.studyToDataQueryFilter]},invoke:function(){return Ie(l,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=T,t.next=3,Promise.all(Object.keys(this.studyToMutationMolecularProfile.result).map(function(t){var r=n.studyToMutationMolecularProfile.result[t].molecularProfileId,a=n.studyToDataQueryFilter.result[t];return a&&r?o.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:r,mutationFilter:Object.assign({entrezGeneIds:[e.entrezGeneId]},a),projection:"DETAILED"}):Promise.resolve([])}));case 3:return t.t1=t.sent,t.abrupt("return",t.t0.flatten.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t,this)}))}}}),this.overallSurvivalDescriptions=Object(i.b)({await:function(){return[l.clinicalAttributes,l.studyIdToStudy]},invoke:function(){var e=T.groupBy(l.clinicalAttributes.result,"clinicalAttributeId"),t=[],n=l.studyIdToStudy.result;return e&&e.OS_STATUS&&e.OS_STATUS.length>0?(e.OS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),this.diseaseFreeSurvivalDescriptions=Object(i.b)({await:function(){return[l.clinicalAttributes,l.studyIdToStudy]},invoke:function(){var e=T.groupBy(l.clinicalAttributes.result,"clinicalAttributeId"),t=[],n=l.studyIdToStudy.result;return e&&e.DFS_STATUS&&e.DFS_STATUS.length>0?(e.DFS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),Object(u.labelMobxPromises)(this),this.getURL();var c=this;this.driverAnnotationSettings=Object(a.observable)({cbioportalCount:!1,cbioportalCountThreshold:0,cosmicCount:!1,cosmicCountThreshold:0,driverTiers:a.observable.map(),_customBinary:void 0,_hotspots:!1,_oncoKb:!1,_excludeVUS:!1,set hotspots(e){this._hotspots=e},get hotspots(){return!!S.b.serverConfig.show_hotspot&&this._hotspots&&!c.didHotspotFailInOncoprint},set oncoKb(e){this._oncoKb=e},get oncoKb(){return S.b.serverConfig.show_oncokb&&this._oncoKb&&!c.didOncoKbFailInOncoprint},set excludeVUS(e){this._excludeVUS=e},get excludeVUS(){return this._excludeVUS&&this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.hotspots||this.cbioportalCount||this.cosmicCount||this.customBinary||this.driverTiers.entries().reduce(function(e,t){return e||t[1]},!1)},get customBinary(){return void 0===this._customBinary?S.b.serverConfig.oncoprint_custom_driver_annotation_binary_default:this._customBinary},get customTiersDefault(){return S.b.serverConfig.oncoprint_custom_driver_annotation_tiers_default}}),this.initDriverAnnotationSettings()}var n,r,L;return n=t,(r=[{key:"setMutationEnrichmentProfileMap",value:function(e){this._mutationEnrichmentProfileMap=e}},{key:"setCopyNumberEnrichmentProfileMap",value:function(e){this._copyNumberEnrichmentProfileMap=e}},{key:"setmRNAEnrichmentProfile",value:function(e){this._mRNAEnrichmentProfileMap=e}},{key:"setProteinEnrichmentProfile",value:function(e){this._proteinEnrichmentProfileMap=e}},{key:"setUsePatientLevelEnrichments",value:function(e){this.routing.updateRoute({patient_enrichments:e.toString()})}},{key:"initDriverAnnotationSettings",value:function(){this.driverAnnotationSettings.cbioportalCount=!1,this.driverAnnotationSettings.cbioportalCountThreshold=10,this.driverAnnotationSettings.cosmicCount=!1,this.driverAnnotationSettings.cosmicCountThreshold=10,this.driverAnnotationSettings.driverTiers=a.observable.map(),this.driverAnnotationSettings._oncoKb=!!S.b.serverConfig.oncoprint_oncokb_default,this.driverAnnotationSettings.hotspots=!!S.b.serverConfig.oncoprint_hotspots_default,this.driverAnnotationSettings._excludeVUS=!!S.b.serverConfig.oncoprint_hide_vus_default}},{key:"makeMutationsTabFilteringSettings",value:function(){var e=this,t=a.observable.box(void 0),n=a.observable.box(void 0);return Object(a.observable)({useOql:!0,get excludeVus(){return void 0===t.get()?e.driverAnnotationSettings.excludeVUS:t.get()},get excludeGermline(){return void 0===n.get()?e.excludeGermlineMutations:n.get()},set excludeVus(e){t.set(e)},set excludeGermline(e){n.set(e)}})}},{key:"getURL",value:function(){var e=window.location.href;if(e.includes("session_id")){var t=e.indexOf("&show");t>-1&&(this.sessionIdURL=e.slice(0,t))}}},{key:"groupSamplesByCancerType",value:function(e,t,n){var r=T.reduce(e,function(e,t){return t.clinicalAttributeId===n&&(e[t.uniqueSampleKey]=t.value),"CANCER_TYPE"===n&&(e[t.uniqueSampleKey]||"CANCER_TYPE_DETAILED"!==t.clinicalAttributeId||(e[t.uniqueSampleKey]=t.value)),e},{});return T.reduce(t,function(e,t){return t.uniqueSampleKey in r&&(e[r[t.uniqueSampleKey]]=e[r[t.uniqueSampleKey]]||[],e[r[t.uniqueSampleKey]].push(t)),e},{})}},{key:"getMutationMapperStore",value:function(e){return this.mutationMapperStores.result[e]}},{key:"getClinicalData",value:function(e,t,n,r){if(1===t.length){var a=this.studies.result[0],i={attributeIds:r,ids:T.map(n,"SAMPLE"===e?"sampleId":"patientId")};return o.a.fetchAllClinicalDataInStudyUsingPOST({studyId:a.studyId,clinicalDataSingleStudyFilter:i,clinicalDataType:e})}var u={attributeIds:r,identifiers:n.map(function(t){return"SAMPLE"===e?{entityId:t.sampleId,studyId:t.studyId}:{entityId:t.patientId,studyId:t.studyId}})};return o.a.fetchClinicalDataUsingPOST({clinicalDataType:e,clinicalDataMultiStudyFilter:u})}},{key:"getClinicalDataCount",value:function(e,t,n,r){if(1===t.length){var a=this.studies.result[0],i={attributeIds:r,ids:T.map(n,"SAMPLE"===e?"sampleId":"patientId")};return o.a.fetchAllClinicalDataInStudyUsingPOSTWithHttpInfo({studyId:a.studyId,clinicalDataSingleStudyFilter:i,clinicalDataType:e,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)})}var u={attributeIds:r,identifiers:n.map(function(t){return"SAMPLE"===e?{entityId:t.sampleId,studyId:t.studyId}:{entityId:t.patientId,studyId:t.studyId}})};return o.a.fetchClinicalDataUsingPOSTWithHttpInfo({clinicalDataType:e,clinicalDataMultiStudyFilter:u,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)})}},{key:"getSessionIdInUrl",value:function(){return W.a.parse(window.location.href,!0).query.session_id}},{key:"getCopyNumberEnrichmentData",value:function(e){var t=this,n=this.selectedCopyNumberEnrichmentProfileMap.result,r=this.usePatientLevelEnrichments?this.alteredPatients.result:this.alteredSamples.result,o=this.usePatientLevelEnrichments?this.unalteredPatients.result:this.unalteredSamples.result;return G.a.fetchCopyNumberEnrichmentsUsingPOST({copyNumberEventType:e,enrichmentType:this.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:[{molecularProfileCaseIdentifiers:r.filter(function(e){return void 0!==n[e.studyId]}).map(function(e){return{caseId:t.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:n[e.studyId].molecularProfileId}}),name:"Altered group"},{molecularProfileCaseIdentifiers:o.filter(function(e){return void 0!==n[e.studyId]}).map(function(e){return{caseId:t.usePatientLevelEnrichments?e.patientId:e.sampleId,molecularProfileId:n[e.studyId].molecularProfileId}}),name:"Unaltered group"}]})}},{key:"sortRnaSeqMolecularDataByStudy",value:function(e){return T.keyBy(e,function(e){return e[0].studyId})}},{key:"clearErrors",value:function(){this.ajaxErrors=[]}},{key:"profileFilter",get:function(){return this.rvQuery.profileFilter||0}},{key:"doNonSelectedMolecularProfilesExist",get:function(){return this.nonSelectedMolecularProfilesGroupByName.result&&T.keys(this.nonSelectedMolecularProfilesGroupByName.result).length>0}},{key:"usePatientLevelEnrichments",get:function(){return"true"===this.routing.location.query.patient_enrichments}},{key:"hugoGeneSymbols",get:function(){return this.rvQuery.oqlQuery.length>0?Object(P.i)(this.rvQuery.oqlQuery):[]}},{key:"queryContainsOql",get:function(){return Object(P.b)(this.rvQuery.oqlQuery)}},{key:"queryContainsMutationOql",get:function(){return Object(P.a)(this.rvQuery.oqlQuery)}},{key:"physicalStudySet",get:function(){return T.keyBy(this.studies.result,function(e){return e.studyId})}},{key:"chartMetaSet",get:function(){var e,t={};T.reduce(this.clinicalAttributes.result,function(e,t){var n=Object(fe.A)(t);return e[n]={displayName:t.displayName,uniqueKey:n,dataType:Object(fe.x)(n),patientAttribute:t.patientAttribute,description:t.description,priority:Object(fe.R)(t),renderWhenDataChange:!1,clinicalAttribute:t},e},t),T.isEmpty(this.mutationProfiles.result)||(t[fe.g.MUTATED_GENES_TABLE]={uniqueKey:fe.g.MUTATED_GENES_TABLE,dataType:Object(fe.x)(fe.g.MUTATED_GENES_TABLE),patientAttribute:!1,displayName:"Mutated Genes",priority:Object(fe.I)(fe.g.MUTATED_GENES_TABLE),renderWhenDataChange:!1,description:""}),T.isEmpty(this.cnaProfiles.result)||(t[fe.g.CNA_GENES_TABLE]={uniqueKey:fe.g.CNA_GENES_TABLE,dataType:Object(fe.x)(fe.g.CNA_GENES_TABLE),patientAttribute:!1,displayName:"CNA Genes",renderWhenDataChange:!1,priority:Object(fe.I)(fe.g.CNA_GENES_TABLE),description:""});var n=T.reduce(this.clinicalAttributes.result,function(e,t){return me.b===t.clinicalAttributeId&&(e[me.b]=!0),me.a===t.clinicalAttributeId&&(e[me.a]=!0),e},(be(e={},me.b,!1),be(e,me.a,!1),e));return n[me.b]&&n[me.a]&&(t[fe.g.MUTATION_COUNT_CNA_FRACTION]={dataType:Object(fe.x)(fe.g.MUTATION_COUNT_CNA_FRACTION),patientAttribute:!1,uniqueKey:fe.g.MUTATION_COUNT_CNA_FRACTION,displayName:"Mutation Count vs Fraction of Genome Altered",priority:Object(fe.I)(fe.g.MUTATION_COUNT_CNA_FRACTION),renderWhenDataChange:!1,description:""}),t}},{key:"downloadFilenamePrefix",get:function(){return Object(te.a)(this.studies.result)}},{key:"myCancerGenomeData",get:function(){return Object(y.x)()}},{key:"referenceGenome",get:function(){var e=this.studies.result?this.studies.result[0]:void 0;return e?e.referenceGenome:V.a}},{key:"genesInvalid",get:function(){return this.genes.isError}},{key:"isQueryInvalid",get:function(){return this.hugoGeneSymbols.length*this.samples.result.length>S.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(S.b.serverConfig.query_product_limit/this.samples.result.length)}},{key:"didOncoKbFailInOncoprint",get:function(){return"complete"===this.getOncoKbMutationAnnotationForOncoprint.peekStatus&&this.getOncoKbMutationAnnotationForOncoprint.result instanceof Error}},{key:"didHotspotFailInOncoprint",get:function(){return"complete"===this.isHotspotForOncoprint.peekStatus&&this.isHotspotForOncoprint.result instanceof Error}},{key:"oncoKbEvidenceCache",get:function(){return new l.a}},{key:"genomeNexusCache",get:function(){return new s.a}},{key:"genomeNexusMyVariantInfoCache",get:function(){return new p.a}},{key:"pubMedCache",get:function(){return new c.a}},{key:"discreteCNACache",get:function(){return new m.a(this.studyToMolecularProfileDiscrete.result)}},{key:"cancerTypeCache",get:function(){return new d.a}},{key:"mutationCountCache",get:function(){return new f.a}},{key:"pdbHeaderCache",get:function(){return new h.a}},{key:"mutationDataCache",get:function(){return new A.a(this.studyToMutationMolecularProfile.result,this.studyToDataQueryFilter.result)}}])&&ge(n.prototype,r),L&&ge(n,L),t}();Ce([a.observable],ke.prototype,"tabId",void 0),Ce([a.observable],ke.prototype,"checkingVirtualStudies",void 0),Ce([a.observable],ke.prototype,"urlValidationError",void 0),Ce([a.computed],ke.prototype,"profileFilter",null),Ce([a.observable],ke.prototype,"ajaxErrors",void 0),Ce([a.observable],ke.prototype,"sessionIdURL",void 0),Ce([a.observable],ke.prototype,"queryFormVisible",void 0),Ce([a.computed],ke.prototype,"doNonSelectedMolecularProfilesExist",null),Ce([a.observable],ke.prototype,"modifyQueryParams",void 0),Ce([a.observable],ke.prototype,"excludeGermlineMutations",void 0),Ce([a.observable.ref],ke.prototype,"_mutationEnrichmentProfileMap",void 0),Ce([a.observable.ref],ke.prototype,"_copyNumberEnrichmentProfileMap",void 0),Ce([a.observable.ref],ke.prototype,"_mRNAEnrichmentProfileMap",void 0),Ce([a.observable.ref],ke.prototype,"_proteinEnrichmentProfileMap",void 0),Ce([a.action],ke.prototype,"setMutationEnrichmentProfileMap",null),Ce([a.action],ke.prototype,"setCopyNumberEnrichmentProfileMap",null),Ce([a.action],ke.prototype,"setmRNAEnrichmentProfile",null),Ce([a.action],ke.prototype,"setProteinEnrichmentProfile",null),Ce([de.default,a.action],ke.prototype,"setUsePatientLevelEnrichments",null),Ce([a.computed],ke.prototype,"hugoGeneSymbols",null),Ce([a.computed],ke.prototype,"queryContainsOql",null),Ce([a.computed],ke.prototype,"queryContainsMutationOql",null),Ce([a.computed],ke.prototype,"chartMetaSet",null),Ce([a.computed],ke.prototype,"downloadFilenamePrefix",null),Ce([a.computed],ke.prototype,"myCancerGenomeData",null),Ce([a.computed],ke.prototype,"referenceGenome",null),Ce([a.computed],ke.prototype,"genesInvalid",null),Ce([a.computed],ke.prototype,"isQueryInvalid",null),Ce([a.computed],ke.prototype,"geneLimit",null),Ce([a.computed],ke.prototype,"didOncoKbFailInOncoprint",null),Ce([a.computed],ke.prototype,"didHotspotFailInOncoprint",null),Ce([u.cached],ke.prototype,"oncoKbEvidenceCache",null),Ce([u.cached],ke.prototype,"genomeNexusCache",null),Ce([u.cached],ke.prototype,"genomeNexusMyVariantInfoCache",null),Ce([u.cached],ke.prototype,"pubMedCache",null),Ce([u.cached],ke.prototype,"discreteCNACache",null),Ce([u.cached],ke.prototype,"cancerTypeCache",null),Ce([u.cached],ke.prototype,"mutationCountCache",null),Ce([u.cached],ke.prototype,"pdbHeaderCache",null),Ce([u.cached],ke.prototype,"mutationDataCache",null),Ce([j.a],ke.prototype,"sortRnaSeqMolecularDataByStudy",null),Ce([a.action],ke.prototype,"clearErrors",null)}).call(this,n(10))},function(e,t,n){"use strict";var r=n(598),o=n.n(r);var a=n(7);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return d});var c=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function p(e){return e.hasOwnProperty("meta")}var d=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToKey=t,this.dataToKey=n,this.fetch=r,this.init();for(var i=arguments.length,u=new Array(i>3?i-3:0),l=3;l<i;l++)u[l-3]=arguments[l];this.staticDependencies=u,this.debouncedPopulate=function(e,t,n,r,o){var a,i,u;function l(){u=n(),i=!1,a=null}function c(){i?(e(u),l()):(i=!0,a=window.setTimeout(c,r)),o&&o()}return l(),Object.assign(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];u=t.apply(void 0,[u].concat(n)),null===a?(i=!0,a=window.setTimeout(c,r)):i=!1},{isPending:function(){return null!==a},cancel:function(){null!==a&&window.clearTimeout(a),l()}})}(function(e){var t=Object.keys(e).map(function(t){return e[t]});o.populate(t)},function(e,t){return e[o.queryToKey(t)]=t,e},function(){return{}},0),Object(a.reaction)(function(){return o._cache},function(e){o.promises=o.promises.filter(function(e){return!o.tryTrigger(e)})})}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.pending={},this._cache=o.a.from({}),this.promises=[]}},{key:"getPromise",value:function(e,t){var n=this;return new Promise(function(r,o){var a,i={keys:(a=Array.isArray(e)?e:[e]).map(function(e){return n.queryToKey(e)}),callback:r,error:o};n.tryTrigger(i)||(n.promises.push(i),t&&a.map(function(e){return n.debouncedPopulate(e)}))})}},{key:"tryTrigger",value:function(e){var t=this,n=!0,r=!1,o=e.keys.map(function(e){var o=t._cache[e];return o?"error"===o.status&&(n=!1,r=!0):n=!1,o});return r?(e.error(),!0):!!n&&(e.callback(o),!0)}},{key:"peek",value:function(e){var t=this.queryToKey(e);return this._cache[t]||null}},{key:"get",value:function(e){return this.debouncedPopulate(e),this.peek(e)}},{key:"getImmediately",value:function(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.populate([e]);case 2:return t.abrupt("return",this.peek(e));case 3:case"end":return t.stop()}},t,this)}))}},{key:"addData",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t[this.dataToKey(u)]={status:"complete",data:u}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}this.updateCache(t)}},{key:"populate",value:function(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=this.getMissing(e)).length){t.next=3;break}return t.abrupt("return");case 3:return this.markPending(n),t.prev=4,t.next=7,this.fetch.apply(this,[n].concat(i(this.staticDependencies)));case 7:return r=t.sent,this.putData(n,r),t.abrupt("return",!0);case 12:return t.prev=12,t.t0=t.catch(4),this.markError(n),t.abrupt("return",!1);case 16:return t.prev=16,this.unmarkPending(n),t.finish(16);case 19:case"end":return t.stop()}},t,this,[[4,12,16,19]])}))}},{key:"getMissing",value:function(e){var t=this,n=this._cache,r=this.pending;return e.filter(function(e){var o=t.queryToKey(e);return!n[o]&&!r[o]})}},{key:"markPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t[this.queryToKey(u)]=!0}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}},{key:"unmarkPending",value:function(e){var t=this.pending,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t[this.queryToKey(u)]=!1}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}},{key:"markError",value:function(e){var t={},n={status:"error",data:null},r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;t[this.queryToKey(l)]=n}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}this.updateCache(t)}},{key:"putData",value:function(e,t){var n={},r={},o=!0,a=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;if(p(c)){var s=c.meta,d=!0,f=!1,m=void 0;try{for(var h,y=c.data[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value,b=this.dataToKey(g,s);n[b]={status:"complete",data:g,meta:s},r[b]=!0}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}}else{var v=this.dataToKey(c);n[v]={status:"complete",data:c},r[v]=!0}}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}var S=!0,T=!1,C=void 0;try{for(var I,A=e[Symbol.iterator]();!(S=(I=A.next()).done);S=!0){var E=I.value,P=this.queryToKey(E);r[P]||(n[P]={status:"complete",data:null})}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}this.updateCache(n)}},{key:"updateCache",value:function(e){Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}},{key:"cache",get:function(){return this._cache}},{key:"activePromisesCount",get:function(){return this.promises.length}}])&&u(t.prototype,n),r&&u(t,r),e}();c([a.observable.ref],d.prototype,"_cache",void 0),c([a.action],d.prototype,"updateCache",null)},function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"u",function(){return P}),n.d(t,"E",function(){return k}),n.d(t,"F",function(){return _}),n.d(t,"q",function(){return w}),n.d(t,"B",function(){return O}),n.d(t,"d",function(){return M}),n.d(t,"A",function(){return R}),n.d(t,"N",function(){return D}),n.d(t,"g",function(){return G}),n.d(t,"h",function(){return x}),n.d(t,"m",function(){return L}),n.d(t,"n",function(){return j}),n.d(t,"C",function(){return F}),n.d(t,"r",function(){return B}),n.d(t,"J",function(){return V}),n.d(t,"D",function(){return q}),n.d(t,"o",function(){return U}),n.d(t,"t",function(){return Q}),n.d(t,"s",function(){return z}),n.d(t,"l",function(){return W}),n.d(t,"x",function(){return Y}),n.d(t,"v",function(){return Z}),n.d(t,"w",function(){return J}),n.d(t,"y",function(){return X}),n.d(t,"z",function(){return $}),n.d(t,"j",function(){return ee}),n.d(t,"k",function(){return te}),n.d(t,"b",function(){return ne}),n.d(t,"X",function(){return re}),n.d(t,"e",function(){return oe}),n.d(t,"i",function(){return ae}),n.d(t,"f",function(){return ie}),n.d(t,"p",function(){return ue}),n.d(t,"G",function(){return le}),n.d(t,"S",function(){return ce}),n.d(t,"I",function(){return se}),n.d(t,"K",function(){return pe}),n.d(t,"H",function(){return de}),n.d(t,"M",function(){return fe}),n.d(t,"U",function(){return me}),n.d(t,"V",function(){return he}),n.d(t,"R",function(){return ye}),n.d(t,"W",function(){return ge}),n.d(t,"c",function(){return ve}),n.d(t,"L",function(){return Ce}),n.d(t,"T",function(){return Ie}),n.d(t,"Q",function(){return Ae}),n.d(t,"P",function(){return Ee}),n.d(t,"O",function(){return Pe});var r=n(9),o=n(10),a=n.n(o),i=n(515),u=n(152),l=n(83),c=n(157),s=n(153),p=n(154),d=n(535),f=n(627),m=n(582),h=n(577),y=n(569),g=n(551),b=n(504),v=n(508),S=n(531),T=n(2),C=n(15);function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},E={uniqueSampleKeyToTumorType:{},indicatorMap:{}};function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,n.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:t,mutationFilter:e,projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(i.m)(Object(S.b)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["annotation_summary"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uniprot",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(i.n)(Object(S.b)(e),t,n,r));case 1:case"end":return o.stop()}},o)}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!e.length){n.next=10;break}return o=Object(v.c)(e),n.t0=r,n.next=5,t.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.slice(),projection:"SUMMARY"});case 5:return n.t1=n.sent,n.t2=function(e){return o[e.hugoGeneSymbol]},n.abrupt("return",n.t0.sortBy.call(n.t0,n.t1,n.t2));case 10:return n.abrupt("return",[]);case 11:case"end":return n.stop()}},n)}))}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t||!t.length){o.next=10;break}return a=Object(v.c)(t),o.t0=r,o.next=5,n.fetchReferenceGenomeGenesUsingPOST({genomeName:e,geneIds:t.slice()});case 5:return o.t1=o.sent,o.t2=function(e){return a[e.hugoGeneSymbol]},o.abrupt("return",o.t0.sortBy.call(o.t0,o.t1,o.t2));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("public-portal"!==T.b.serverConfig.app_name){n.next=2;break}return n.abrupt("return",a.a.get(Object(C.n)("reactapp/reference_genome_hg19.json")));case 2:if(!e){n.next=8;break}return n.next=5,t.getAllReferenceGenomeGenesUsingGET({genomeName:e});case 5:return n.abrupt("return",n.sent);case 8:return n.abrupt("return",[]);case 9:case"end":return n.stop()}},n)}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.getAlignmentUsingGET({idType:"ensembl",id:e});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchCanonicalEnsemblTranscriptsByHugoSymbolsPOST({hugoSymbols:e,isoformOverrideSource:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r)}))}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,N(e,t,n);case 2:return a=o.sent,o.abrupt("return",a?r.zipObject(e,a):void 0);case 4:case"end":return o.stop()}},o)}))}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return n.next=3,t.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:e,projection:"DETAILED"});case 3:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",[]);case 7:case"end":return n.stop()}},n)}))}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=6;break}return r.next=3,n.getAllClinicalDataOfPatientInStudyUsingGET({projection:"DETAILED",studyId:e,patientId:t});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e&&t.length>0)){r.next=6;break}return r.next=3,n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:t.map(function(t){return{sampleId:t,studyId:e}}),projection:"DETAILED"});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return e.length>0?n.fetchCopyNumberSegmentsUsingPOST({sampleIdentifiers:e.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),chromosome:t,projection:"DETAILED"}):Promise.resolve([])}function F(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t){o.next=6;break}return o.next=3,r.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t,projection:"DETAILED"});case 3:return o.abrupt("return",o.sent);case 6:if(!e||!n){o.next=12;break}return o.next=9,r.getSampleInStudyUsingGET({studyId:e,sampleId:n}).then(function(e){return[e]});case 9:return o.abrupt("return",o.sent);case 12:return o.abrupt("return",[]);case 13:case"end":return o.stop()}},o)}))}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t&&e.result){o.next=2;break}return o.abrupt("return",[]);case 2:if(!((a=e.result.filter(function(e){return r.find(t,function(t){return t===e})})).length>0)){o.next=10;break}return o.next=6,Promise.all(a.map(function(e){return n.getAllSampleIdsInSampleListUsingGET({sampleListId:H(e)})}));case 6:return i=o.sent,o.abrupt("return",r.flatten(i.map(function(e,t){var n=a[t];return e.map(function(e){return{sampleId:e,studyId:n}})})));case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}},o)}))}function H(e){return"".concat(e,"_germline")}function K(e){var t={};return e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"!==e.clinicalAttributeId&&"CANCER_TYPE"!==e.clinicalAttributeId||(t[e.uniqueSampleKey]=!0)}),t}function V(e,t){if(e.result&&e.result.length>0&&t.result){var n=K(t);return r.filter(e.result,function(e){return!0!==n[e.uniqueSampleKey]})}return[]}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=[],!(e.result&&e.result.length>0)){n.next=6;break}return a=r.uniq(e.result.map(function(e){return e.studyId})),n.next=5,t.fetchStudiesUsingPOST({studyIds:a,projection:"DETAILED"});case 5:o=n.sent;case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}},n)}))}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==(a=ve(e,t)).length){o.next=3;break}return o.abrupt("return",void 0);case 3:if(!((i=r.chain(a).filter(function(e){return e.hasOwnProperty("keyword")}).map(function(e){return e.keyword}).uniq().value()).length>0)){o.next=11;break}return o.next=7,n.fetchCosmicCountsUsingPOST({keywords:r.filter(i,function(e){return null!=e})});case 7:return u=o.sent,o.abrupt("return",Object(h.d)(u));case 11:return o.abrupt("return",void 0);case 12:case"end":return o.stop()}},o)}))}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSignificantlyMutatedGenesUsingGET({studyId:e});case 2:return r=n.sent,o=r.reduce(function(e,t){return e[t.entrezGeneId]={qValue:t.qValue},e},{}),n.abrupt("return",o);case 5:case"end":return n.stop()}},n)}))}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=7;break}return n.next=3,t.getSignificantCopyNumberRegionsUsingGET({studyId:e});case 3:return r=n.sent,n.abrupt("return",r.reduce(function(e,t){return t.genes.forEach(function(n){void 0===e[n.entrezGeneId]&&(e[n.entrezGeneId]=[]),e[n.entrezGeneId].push({amp:t.amp,qValue:t.qValue,peakGeneCount:t.genes.length})}),e},{}));case 7:return n.abrupt("return",{});case 8:case"end":return n.stop()}},n)}))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.result?e.result.map(function(e){return{alteration:e.alteration,entrezGeneId:e.entrezGeneId}}):[],!(t.result&&o.length>0)){r.next=7;break}return r.next=4,n.fetchCopyNumberCountsUsingPOST({molecularProfileId:t.result,copyNumberCountIdentifiers:o});case 4:return r.abrupt("return",r.sent);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},r)}))}function Y(){var e=n(699);return Object(h.a)(e)}function Z(){return n(700)}function J(){return n(701)}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.utilsCancerGeneListGetUsingGET({});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}function $(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function u(){var l,c,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(l=ve(n,a),!(t instanceof Error)){u.next=5;break}return u.abrupt("return",new Error);case 5:if(0!==l.length){u.next=7;break}return u.abrupt("return",E);case 7:return c=r.filter(l,function(e){return!!t[e.entrezGeneId]}),s=r.uniqBy(r.map(c,function(t){return Object(d.d)(t.gene.entrezGeneId,ne(t.uniqueSampleKey,e),t.proteinChange,t.mutationType,t.proteinPosStart,t.proteinPosEnd)}),"id"),u.abrupt("return",re(s,e,i,o));case 10:case"end":return u.stop()}},u)}))}function ee(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function a(){var i,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.result&&0!==n.result.length){a.next=4;break}return a.abrupt("return",E);case 4:return i=r.filter(n.result,function(e){return!!t[e.gene.entrezGeneId]}),u=r.uniqBy(r.map(i,function(t){return Object(d.d)(t.gene.entrezGeneId,ne(t.uniqueSampleKey,e),Object(m.a)(t.alteration))}),"id"),a.abrupt("return",re(u,e,o,void 0));case 7:case"end":return a.stop()}},a)}))}function te(e,t,n,o,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function u(){var l,c;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(n.result&&0!==n.result.length){u.next=4;break}return u.abrupt("return",E);case 4:return l=r.filter(n.result,function(e){return o[e.molecularProfileId].molecularAlterationType===b.a.COPY_NUMBER_ALTERATION&&!!t[e.entrezGeneId]}),c=r.uniqBy(r.map(l,function(t){return Object(d.d)(t.entrezGeneId,ne(t.uniqueSampleKey,e),Object(m.a)(t.value))}),function(e){return e.id}),u.abrupt("return",re(c,e,i,a));case 7:case"end":return u.stop()}},u)}))}function ne(e,t){return t[e]||null}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a,r=arguments.length>3?arguments[3]:void 0;return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.searchPostUsingPOST({body:Object(d.b)(e,r)});case 2:return a=o.sent,i={uniqueSampleKeyToTumorType:t,indicatorMap:Object(d.c)(a)},o.abrupt("return",i);case 5:case"end":return o.stop()}},o)}))}function oe(e,t){return A(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(r=ve(e,t)).length){n.next=3;break}return n.abrupt("return",{});case 3:return o=new Set([]),r.forEach(function(e){o.add(e.gene.entrezGeneId)}),n.next=7,Object(f.c)(Array.from(o));case 7:return a=n.sent,n.abrupt("return",a);case 9:case"end":return n.stop()}},n)}))}function ae(e){return A(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.result&&e.result.length>0)){t.next=10;break}return n=new Set([]),e.result.forEach(function(e){n.add(e.gene.entrezGeneId)}),r=Array.from(n),t.next=6,Object(f.c)(r);case 6:return o=t.sent,t.abrupt("return",o);case 10:return t.abrupt("return",{});case 11:case"end":return t.stop()}},t)}))}function ie(e,t,n){return A(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a={},!((i=ve(t,n)).length>0)){o.next=8;break}return o.next=5,Object(f.d)(e,i);case 5:a=o.sent,o.next=12;break;case 8:if(r.isEmpty(e)){o.next=12;break}return o.next=11,Object(f.d)(e);case 11:a=o.sent;case 12:return o.abrupt("return",a);case 13:case"end":return o.stop()}},o)}))}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isComplete||!t.result){r.next=6;break}return r.next=3,n.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",discreteCopyNumberFilter:e,molecularProfileId:t.result});case 3:return r.abrupt("return",r.sent);case 6:return r.abrupt("return",[]);case 7:case"end":return r.stop()}},r)}))}function le(e){if(e.result){var t=e.result.find(function(e){return"DISCRETE"===e.datatype});return t?t.molecularProfileId:void 0}}function ce(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.a;if(e.result){var r=e.result.find(function(e){return e.molecularProfileId==="".concat(t).concat(n)});return r?r.molecularProfileId:void 0}}function pe(e,t){return se(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.b)}function de(e){if(!e.result)return null;var t=/^.+rna_seq.*_zscores$/,n=/^.*_zscores$/,r=e.result.find(function(e){return t.test(e.molecularProfileId.toLowerCase())});if(r)return r.molecularProfileId;var o=e.result.find(function(e){return n.test(e.molecularProfileId.toLowerCase())});return o?o.molecularProfileId:null}function fe(e,t,n){var o={};if(e.result&&r.each(e.result,function(e){"CANCER_TYPE_DETAILED"===e.clinicalAttributeId&&(o[e.uniqueSampleKey]=e.value)}),t&&t.result&&n&&n.result){var a=Ie(t.result);r.each(n.result,function(e){void 0===o[e.uniqueSampleKey]&&(o[e.uniqueSampleKey]=a[e.studyId])})}return o}function me(e){var t={};if(e.result){var n=!0,r=!1,o=void 0;try{for(var a,i=e.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l="".concat(u.entrezGeneId,"_").concat(u.alteration);t[l]=t[l]||[],t[l].push(u)}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}return Object.keys(t).map(function(e){return t[e]})}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te,n={};return be(n,e,t,!1),Object.keys(n).map(function(e){return n[e]})}function ye(e){return Object(y.d)(e.result||[])}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,r={};return be(r,e,n,!1),be(r,t,n,!0),Object.keys(r).map(function(e){return r[e]})}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Te,r=arguments.length>3?arguments[3]:void 0;if(t.result){var o=!0,a=!1,i=void 0;try{for(var u,l=t.result[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,s=n(c);(!r||s in e)&&(e[s]=e[s]||[],e[s].push(c))}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}}}function ve(e,t){var n=e&&e.result?e.result:[],r=t&&t.result?t.result:[];return n.concat(r)}function Se(e){return[e.chr,e.startPosition,e.endPosition,e.referenceAllele,e.variantAllele]}function Te(e){return[e.gene.hugoGeneSymbol,e.proteinChange].concat(I(Se(e))).join("_")}function Ce(e,t){var n={};return e?n={sampleListId:e}:t&&(n={sampleIds:t}),n}function Ie(e){return e.reduce(function(e,t){return e[t.studyId]=t.cancerType.name,e},{})}function Ae(e,t){return r.map(e,function(e){return{id:e,clinicalData:t.filter(function(t){return t.sampleId===e})}})}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={},o=!0,a=!1,i=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){r[u.value]=[]}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}var c=!0,s=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value,h=t(m);r[h]=r[h]||[],r[h].push(m)}}catch(e){s=!0,p=e}finally{try{c||null==f.return||f.return()}finally{if(s)throw p}}return r}function Pe(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:l.a;return A(this,void 0,void 0,regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.fetchGenesetHierarchyInfoUsingPOST({geneticProfileId:e,percentile:t,scoreThreshold:n,pvalueThreshold:r,sampleListId:o});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},i)}))}},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return m}),n.d(t,"g",function(){return h}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return T}),n.d(t,"d",function(){return I}),n.d(t,"z",function(){return E}),n.d(t,"lb",function(){return P}),n.d(t,"r",function(){return k}),n.d(t,"eb",function(){return _}),n.d(t,"u",function(){return w}),n.d(t,"F",function(){return O}),n.d(t,"A",function(){return M}),n.d(t,"B",function(){return R}),n.d(t,"H",function(){return N}),n.d(t,"Y",function(){return D}),n.d(t,"bb",function(){return G}),n.d(t,"kb",function(){return x}),n.d(t,"E",function(){return L}),n.d(t,"p",function(){return j}),n.d(t,"o",function(){return F}),n.d(t,"fb",function(){return K}),n.d(t,"t",function(){return V}),n.d(t,"s",function(){return q}),n.d(t,"hb",function(){return Q}),n.d(t,"cb",function(){return W}),n.d(t,"q",function(){return Z}),n.d(t,"ab",function(){return $}),n.d(t,"x",function(){return ne}),n.d(t,"L",function(){return re}),n.d(t,"M",function(){return oe}),n.d(t,"m",function(){return ae}),n.d(t,"l",function(){return ie}),n.d(t,"N",function(){return ue}),n.d(t,"v",function(){return ce}),n.d(t,"w",function(){return se}),n.d(t,"i",function(){return pe}),n.d(t,"I",function(){return de}),n.d(t,"R",function(){return fe}),n.d(t,"Z",function(){return me}),n.d(t,"O",function(){return he}),n.d(t,"X",function(){return ye}),n.d(t,"S",function(){return ge}),n.d(t,"D",function(){return be}),n.d(t,"h",function(){return ve}),n.d(t,"P",function(){return Se}),n.d(t,"gb",function(){return Te}),n.d(t,"J",function(){return Ie}),n.d(t,"U",function(){return Ae}),n.d(t,"T",function(){return Ee}),n.d(t,"n",function(){return Pe}),n.d(t,"ib",function(){return ke}),n.d(t,"K",function(){return _e}),n.d(t,"k",function(){return Me}),n.d(t,"j",function(){return Re}),n.d(t,"jb",function(){return Ne}),n.d(t,"G",function(){return De}),n.d(t,"C",function(){return Ge}),n.d(t,"W",function(){return xe}),n.d(t,"V",function(){return Le}),n.d(t,"Q",function(){return je}),n.d(t,"db",function(){return Fe}),n.d(t,"y",function(){return Be});var r=n(9),o=n.n(r),a=n(0),i=n(15),u=n(83),l=(n(152),n(557)),c=n(525),s=n(514),p=n(650),d=n.n(p);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m,h,y,g;!function(e){e.SAMPLE="SAMPLE",e.PATIENT="PATIENT"}(m||(m={})),function(e){e.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",e.FUSION_GENES_TABLE="FUSION_GENES_TABLE",e.CNA_GENES_TABLE="CNA_GENES_TABLE",e.CUSTOM_SELECT="CUSTOM_SELECT",e.SELECTED_COMPARISON_GROUPS="SELECTED_COMPARISON_GROUPS",e.MUTATION_COUNT_CNA_FRACTION="MUTATION_COUNT_CNA_FRACTION",e.DISEASE_FREE_SURVIVAL="DFS_SURVIVAL",e.OVERALL_SURVIVAL="OS_SURVIVAL",e.CANCER_STUDIES="CANCER_STUDIES",e.MUTATION_COUNT="SAMPLE_MUTATION_COUNT",e.FRACTION_GENOME_ALTERED="SAMPLE_FRACTION_GENOME_ALTERED",e.WITH_MUTATION_DATA="WITH_MUTATION_DATA",e.WITH_FUSION_DATA="WITH_FUSION_DATA",e.WITH_CNA_DATA="WITH_CNA_DATA"}(h||(h={})),function(e){e.CLINICAL="CLINICAL",e.GENOMIC="GENOMIC"}(y||(y={})),function(e){e.YES="YES",e.NO="NO",e.NA="NA"}(g||(g={}));var b,v=[{uniqueKey:h.CANCER_STUDIES,displayName:"Cancer Studies",description:"Cancer Studies",dataType:y.CLINICAL,patientAttribute:!1,chartType:l.a.PIE_CHART,dimension:{w:1,h:1},renderWhenDataChange:!1,priority:70},{uniqueKey:h.WITH_MUTATION_DATA,displayName:"With Mutation Data",description:"With Mutation Data",chartType:l.a.PIE_CHART,dataType:y.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1},{uniqueKey:h.WITH_FUSION_DATA,displayName:"With Fusion Data",description:"With Fusion Data",chartType:l.a.PIE_CHART,dataType:y.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1},{uniqueKey:h.WITH_CNA_DATA,displayName:"With CNA Data",description:"With CNA Data",chartType:l.a.PIE_CHART,dataType:y.GENOMIC,patientAttribute:!1,dimension:{w:1,h:1},priority:0,renderWhenDataChange:!1}],S=[l.d.colors.theme.primary,l.d.colors.theme.secondary,l.d.colors.theme.tertiary,l.d.colors.theme.quaternary,"#990099","#0099c6","#dd4477","#66aa00","#b82e2e","#316395","#994499","#22aa99","#aaaa11","#6633cc","#e67300","#8b0707","#651067","#329262","#5574a6","#3b3eac","#b77322","#16d620","#b91383","#f4359e","#9c5935","#a9c413","#2a778d","#668d1c","#bea413","#0c5922","#743411","#743440","#9986e2","#6c3912","#788508","#609618","#790099","#5099c6","#2d4477","#76aa00","#882e2e","#916395","#794499","#92aa99","#2aaa11","#5633cc","#667300","#100707","#751067","#229262","#4574a6","#103eac","#177322","#66d620","#291383","#94359e","#5c5935","#29c413","#6a778d","#868d1c","#5ea413","#6c5922","#243411","#103440","#2886e2","#d93912","#f28508","#110618","#970099","#0109c6","#d10477","#68aa00","#b12e2e","#310395","#944499","#24aa99","#a4aa11","#6333cc","#e77300","#820707","#610067","#339262","#5874a6","#313eac","#b67322","#13d620","#b81383","#f8359e","#935935","#a10413","#29778d","#678d1c","#b2a413","#075922","#763411","#773440","#2996e2","#dc4912","#f81508","#104618","#991099","#0049c6","#dd2477","#663a00","#b84e2e","#312395","#993499","#223a99","#aa1a11","#6673cc","#e66300","#8b5707","#656067","#323262","#5514a6","#3b8eac","#b71322","#165620","#b99383","#f4859e","#9c4935","#a91413","#2a978d","#669d1c","#be1413","#0c8922","#742411","#744440","#2983e2","#dc3612","#f88808","#109518","#990599","#0092c6","#dd4977","#66a900","#b8282e","#316295","#994199","#22a499","#aaa101","#66310c","#e67200","#8b0907","#651167","#329962","#5573a6","#3b37ac","#b77822","#16d120","#b91783","#f4339e","#9c5105","#a9c713","#2a710d","#66841c","#bea913","#0c5822","#743911","#743740","#298632","#dc3922","#f88588","#109658","#990010","#009916","#dd4447","#66aa60","#b82e9e","#316365","#994489","#22aa69","#aaaa51","#66332c","#e67390","#8b0777","#651037","#329232","#557486","#3b3e4c","#b77372","#16d690","#b91310","#f4358e","#9c5910","#a9c493","#2a773d","#668d5c","#bea463","#0c5952","#743471","#743450","#2986e3","#dc3914","#f88503","#109614","#990092","#0099c8","#dd4476","#66aa04","#b82e27","#316397","#994495","#22aa93","#aaaa14","#6633c1","#e67303","#8b0705","#651062","#329267","#5574a1","#3b3ea5"],T="NA",C=3,I=52,A={"<=":"","<":"<",">=":"",">":">"};function E(e,t,n){var r=e.toLowerCase().trim(),o=t.toLowerCase().trim().replace(/.&/,"");return a.createElement("div",{style:{maxWidth:"300px"}},a.createElement("div",null,a.createElement("b",null,e)," ",!!n&&a.createElement("span",{className:d.a.titleMeta},"ID: ",n)),o!==r&&a.createElement("div",null,t))}function P(e,t){var n=o.a.filter(e,function(e){return e.gene!==t});return n.length===e.length&&n.push({gene:t,alterations:!1}),n}function k(e,t,n){var r;return n=(r=n)?">="===r?"":"<="===r?"":r:"",void 0===e?void 0===t?n:"".concat(n).concat(t.toLocaleString()):void 0===t?"".concat(n).concat(e.toLocaleString()):e!==t?"".concat(n).concat(e.toLocaleString(),"-").concat(t.toLocaleString()):"".concat(n).concat(e.toLocaleString())}function _(e){var t=function(e){return{mutRange:k(e.minY,e.maxY,void 0),fgaRange:e.maxX.toFixed(2)!==e.minX.toFixed(2)?"".concat(e.minX.toFixed(2),"-").concat(e.maxX.toFixed(2)):e.minX.toFixed(2)}}(e);return a.createElement("div",null,a.createElement("div",null,"Number of Samples: ",a.createElement("b",null,e.count.toLocaleString())),a.createElement("div",null,"Mutation Count: ",a.createElement("b",null,t.mutRange)),a.createElement("div",null,"Fraction Genome Altered: ",a.createElement("b",null,t.fgaRange)))}function w(e,t,n,r){var a,i=["Cancer Study","Patient ID","Sample ID","Mutation Count","CNA Fraction"];void 0!==n&&void 0!==t&&(i.push(n.displayName),void 0!==r&&(i.push("Color"),a=o.a.keyBy(r,"value")));var u=e.map(function(e){var o=["".concat(e.studyId),"".concat(e.patientId),"".concat(e.sampleId),"".concat(e.y),"".concat(e.x)];if(void 0!==n&&void 0!==t){var i=t[e.uniqueSampleKey];o.push(void 0!==i?"".concat(i):"NA"),void 0!==r&&void 0!==i&&o.push(void 0!==a[i]?a[i].color:"NA")}return o});return[i].concat(u).map(function(e){return e.join("\t")}).join("\n")}function O(e){return e?m.PATIENT:m.SAMPLE}function M(e){return R(O(e.patientAttribute),e.clinicalAttributeId)}function R(e,t){return e+"_"+t}function N(){return(new Date).toISOString().slice(0,10)}function D(e,t,n,r,a,i){var u=[];if(e){var l=new RegExp("".concat("Created on",".*"));u.push(e.replace(l,""))}else{var c=o.a.reduce(a,function(e,t){return e[t.entrezGeneId]=t.hugoGeneSymbol,e},{}),s=o.a.uniq(o.a.flatMap(t,function(e){return e.uniqueSampleKeys}));u.push("".concat(s.length," sample").concat(s.length>1?"s":""," from ").concat(t.length," ").concat(t.length>1?"studies:":"study:")),t.forEach(function(e){u.push("- ".concat(e.name," (").concat(e.uniqueSampleKeys.length," sample").concat(s.length>1?"s":"",")"))});var p=[];o.a.isEmpty(n)||(n.cnaGenes&&n.cnaGenes.length>0&&(p.push("- CNA Genes:"),p=p.concat(n.cnaGenes.map(function(e){return e.alterations.map(function(e){return(c[e.entrezGeneId]||e.entrezGeneId)+"-"+ce(e.alteration)}).join(", ").trim()}).map(function(e){return"  - "+e}))),n.mutatedGenes&&n.mutatedGenes.length>0&&(p.push("- Mutated Genes:"),p=p.concat(n.mutatedGenes.map(function(e){return e.entrezGeneIds.map(function(e){return c[e]||e}).join(", ").trim()}).map(function(e){return"  - "+e}))),n.fusionGenes&&n.fusionGenes.length>0&&(p.push("- Fusion Genes:"),p=p.concat(n.fusionGenes.map(function(e){return e.entrezGeneIds.map(function(e){return c[e]||e}).join(", ").trim()}).map(function(e){return"  - "+e}))),void 0!==n.withMutationData&&p.push("With Mutation data: ".concat(n.withMutationData?"YES":"NO")),void 0!==n.withCNAData&&p.push("With CNA data: ".concat(n.withCNAData?"YES":"NO")),o.a.each(n.clinicalDataEqualityFilters||[],function(e){var t=r[e.clinicalDataType+"_"+e.attributeId];p.push("- ".concat(t,": ").concat(e.values.join(", ")))}),o.a.each(n.clinicalDataIntervalFilters||[],function(e){var t=r[e.clinicalDataType+"_"+e.attributeId];p.push("- ".concat(t,": ").concat($(e.values)))}),o.a.each(n.sampleIdentifiersSet||{},function(e,t){var n=r[t]||t;p.push("- ".concat(n,": ").concat(e.length," samples"))})),p.length>0&&(u.push(""),u.push("Filters:"),u=u.concat(p)),u.push("")}return u.push("".concat("Created on"," ")+N()+(i?" by "+i:"")),u.join("\n")}function G(e){var t=!(o.a.isEmpty(e)||o.a.isEmpty(e.clinicalDataEqualityFilters)&&o.a.isEmpty(e.clinicalDataIntervalFilters)&&o.a.isEmpty(e.cnaGenes)&&o.a.isEmpty(e.mutatedGenes)&&o.a.isEmpty(e.fusionGenes)&&void 0===e.withMutationData&&void 0===e.withCNAData&&!e.mutationCountVsCNASelection);return e.sampleIdentifiersSet?t||!o.a.isEmpty(e.sampleIdentifiersSet):t}function x(t,n){var r=t.cloneNode(!0),o=e(t).find(n.legendGroupSelector).get(0).getBoundingClientRect();n.selectorToHide&&e(r).find(n.selectorToHide).remove();var a=+e(t).height()+o.height,i=Math.max(e(t).width(),o.width);if(e(r).attr("height",a+5),e(r).attr("width",i),e(r).css({height:a+5,width:i}),n.centerLegend){var u=Math.abs(e(t).width()-o.width),l="translate(".concat(u/2,", 0)");e(t).width()>o.width?e(r).find(n.legendGroupSelector).attr("transform",l):n.chartGroupSelector&&e(r).find(n.chartGroupSelector).attr("transform",l)}return r}function L(e){return e.map(function(e){return{start:e.start,end:e.end,value:void 0===e.start&&void 0===e.end?e.specialValue:void 0}})}function j(e){return e.filter(function(e){return void 0!==e.start||void 0!==e.end})}function F(e){return e.filter(function(e){return void 0===e.start&&void 0===e.end})}function B(e){return e.filter(function(e){return void 0!==e.start&&void 0!==e.end})}function H(e){var t=e.map(function(e){return e.start});if(e.length>0){var n=e[e.length-1];n.start!==n.end&&t.push(n.end)}return t}function K(e){return W(e)&&void 0!==e[0].start&&0!==e[0].start&&!J(e[0].start)}function V(e){var t=K(e)?2:1;return e.map(function(n,r){var o;return 0===r&&void 0===n.start?o=r:r===e.length-1&&void 0===n.end?(o=r,r-1>0&&e[r-1].start!==e[r-1].end&&o++):o=n.start===n.end?r:r+.5,{x:o+t,y:n.count,dataBin:n}})}function q(e,t){return e.map(function(e,n){return{x:t+n+1,y:e.count,dataBin:e}})}function U(e){return e.length>0&&void 0===e.find(function(e){return 0!==e&&-1<e&&e<1||0!==e&&le(e)%.5!=0})}function Q(e,t,n){return G(e)||t>=2||1===n}function z(e){return e&&e.length>0&&void 0===e.find(function(e){return e.start!==e.end})}function W(e){if(!e)return!1;var t=B(j(e)),n=H(t);return!z(t)&&U(n)}function Y(e){return 0!==e&&-.001<=e&&e<=.001}function Z(e){if(0===e.length)return[];var t,n=e[0],r=e[e.length-1],o=B(e),a=H(o),i=!z(o)&&U(a);return void 0===n.start?a=[n.end].concat(f(a)):i&&0!==n.start&&(J(n.start)||(a=[X(n.start,b.LEADING)].concat(f(a)))),void 0===r.end?a.push(r.start):i&&0!==r.end&&(J(r.end)||a.push(X(r.end,b.TRAILING))),t=i?function(e){return e.map(function(e){var t;if(-10===e||-1===e||0===e||1===e||10===e)t="".concat(e);else{var n=le(e);(t=Number.isInteger(n)?"10^".concat(n.toFixed(0)):n%.5==0?"":"".concat(e))&&e<0&&(t="-".concat(t))}return t})}(a):o.length>0&&Y(o[Math.floor(o.length/2)].end)?a.map(function(e){return e.toExponential(0)}):function(e){return e.map(function(e){return Y(e)?e.toExponential(0):te(e)})}(a),void 0===n.start&&(t[0]="".concat(A[n.specialValue]||n.specialValue).concat(t[0])),void 0===r.end&&(t[t.length-1]="".concat(A[r.specialValue]||r.specialValue).concat(t[t.length-1])),t}function J(e){var t=!1;if(e){var n=Math.log10(Math.abs(e));Number.isInteger(n)&&(t=!0)}return t}function X(e,t){if(e){var n=Math.log10(Math.abs(e)),r=e*t>0?Math.floor(n):Math.ceil(n),o=Math.pow(10,r);return Math.sign(e)*o}return 1}function $(e){var t=e.filter(function(e){return void 0===e.start&&void 0===e.end}).map(function(e){return e.value}),n=e.filter(function(e){return void 0!==e.start||void 0!==e.end}),r=n.length>0?n[0].start:void 0,o=n.length>0?n[n.length-1].end:void 0,a=[];return n.length>0&&(void 0===r&&void 0===o?a.push("All Numbers"):void 0===r?a.push(" ".concat(ee(o))):void 0===o?a.push("> ".concat(ee(r))):r===o?a.push("".concat(ee(r))):n[0].start===n[0].end?a.push("".concat(ee(r),"  x  ").concat(ee(o))):a.push("".concat(ee(r)," < x  ").concat(ee(o)))),t.length>0&&(a=a.concat(t)),a.length>0?a.join(", "):""}function ee(e){var t;return void 0!==e&&(t=Y(e)?e.toExponential(0):te(e)),t}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"".concat(e);var n=Math.abs(e);if(Number.isInteger(n))return"".concat(e);var r=t;if(e<1&&e>-1){var o=Math.abs(Math.log10(n%1));r+=Number.isInteger(o)?Math.floor(o)-1:Math.floor(o)}return"".concat(Number(e.toFixed(r)))}function ne(e){var t=[h.MUTATION_COUNT_CNA_FRACTION,h.CNA_GENES_TABLE,h.MUTATED_GENES_TABLE,h.MUTATION_COUNT,h.FRACTION_GENOME_ALTERED,h.WITH_MUTATION_DATA,h.WITH_CNA_DATA];return o.a.includes(t,e)?y.GENOMIC:y.CLINICAL}function re(e,t){return Math.floor((e-10-oe(t))/2)}function oe(e){return Math.floor(Object(c.c)(e,"Helvetica Neue","13px"))}function ae(e){return e>0?e:0}function ie(e){return Math.ceil(e)}function ue(e){var t="";return e<0?"NA":(t=0===e?"0":e<100&&e>=99.9?"99.9":e>=.1?e.toFixed(1).toString():"<0.1","".concat(t,"%"))}function le(e){var t=Math.abs(e)<50?1:2;return Number(Math.log10(Math.abs(e)).toFixed(t))}function ce(e){return[-2,2].includes(e)?-2===e?"DEL":"AMP":""}function se(e){if([-2,2].includes(e))return-2===e?s.d:s.a}function pe(e,t,n,r,a,i){var u=[],l={},c=[new Array(t).fill("")];if(e.sort(Re),r.length>0)if(a&&i){var s=r.find(function(e){return e.i===a.uniqueKey});if(!s)throw new Error("cannot find matching unique key in the grid layout");var p=function(e,t,n,r){var o=e.x,a=e.y,i=r.w,u=o,l=a;c={w:e.w,h:e.h},s=r,c.w+c.h>s.w+s.h?u=o+e.w-i:o+i>=n&&o-i>=0&&(u=n-i);var c,s;return{i:t.uniqueKey,x:u,y:l,w:r.w,h:r.h,isResizable:!1}}(s,a,t,i);u.push(p),l[a.uniqueKey]=!0,c=function(e,t){var n=[new Array(t).fill("")],r=e.x+e.w,o=e.y+e.h;for(;o>=n.length;)n.push(new Array(t).fill(""));for(var a=e.y;a<o;a++)for(var i=e.x;i<r;i++)n[a][i]=e.i;return n}(p,t)}else{var d=o.a.keyBy(r,function(e){return e.i});e.sort(function(e,t){var n=d[e.uniqueKey],r=d[t.uniqueKey];return n||r?r?n?n.y===r.y?n.x-r.x:n.y-r.y:1:-1:0})}return o.a.forEach(o.a.filter(e,function(e){return!l[e.uniqueKey]}),function(e){for(var r=n[e.uniqueKey]||{w:1,h:1},a=function(e,t){if(0===e.length)return{x:0,y:0};var n=void 0;return o.a.each(e,function(r,a){if(o.a.each(r,function(r,o){if(!r&&!function(e,t,n){var r=!1;if(0===e.length)return!1;if(n.w>1&&t.x%2!=0&&(r=!0),n.h>1&&t.y%2!=0&&(r=!0),!r)for(var o=t.x+n.w,a=t.y+n.h,i=t.y;i<a&&!(i>=e.length);i++){for(var u=t.x;u<o;u++)if(u>=e[0].length||e[i][u]){r=!0;break}if(r)break}return r}(e,{x:o,y:a},t))return n={x:o,y:a},!1}),n)return!1}),n||{x:0,y:e.length}}(c,r);a.y+r.h>=c.length;)c.push(new Array(t).fill(""));u.push({i:e.uniqueKey,x:a.x,y:a.y,w:r.w,h:r.h,isResizable:!1});for(var i=a.x+r.w,l=a.y+r.h,s=a.y;s<l;s++)for(var p=a.x;p<i;p++)c[s][p]=e.uniqueKey}),u}function de(e){return void 0===l.d.priority[e]?1:l.d.priority[e]}function fe(e){var t=Number(e.priority);if(t===l.d.defaultPriority){var n=M(e);return void 0===l.d.priority[n]?l.d.defaultPriority:l.d.priority[n]}return t}function me(e,t){return l.d.layout.grid.w*e.w+(e.w-1)*l.d.layout.gridMargin.x-2*t}function he(e,t){return l.d.layout.grid.h*e.h+(e.h-1)*l.d.layout.gridMargin.y-t}function ye(e,t){return he(e,t)-30}function ge(e){return 0===e?"0":e.toExponential(C)}function be(e){e.sort(we);var t=Te(e),n=o.a.sumBy(e,function(e){return e.count});return e.map(function(e){var r=e.count/n;return Object.assign({},e,{color:t[e.value],percentage:r,freq:ue(100*r)})})}function ve(e,t){return o.a.reduce(e,function(e,n,r){return e[r]=100*n/t,e},{})}function Se(e,t,n,r){return o.a.filter(t,function(t){return t.dataType===e}).map(function(e){return{label:e.displayName,key:e.uniqueKey,chartType:r[e.uniqueKey],disabled:!1,selected:n.includes(e.uniqueKey),freq:100}})}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,n=o.a.cloneDeep(t),r=function(e){return o.a.reduce(e,function(e,t){var n=Ce(t.value)?s.f:Object(s.x)(t.value);return n&&(e[t.value]=n),e},{})}(e);return n=o.a.difference(n,o.a.values(r)),Object.assign({},function(e,t){var n=0;return o.a.reduce(e,function(e,r){return Ce(r.value)||Object(s.x)(r.value)||(e[r.value]=t[n%t.length],n++),e},{})}(e,n),r)}function Ce(e){return"na"===e.toLowerCase().trim()}function Ie(e,t){return o.a.reduce(e,function(e,n){return(void 0===t||t(n))&&e.push({sampleId:n.sampleId,studyId:n.studyId}),e},[])}function Ae(e,t,n,r,a){var i={clinicalDataEqualityFilters:t.clinicalDataEqualityFilters,clinicalDataIntervalFilters:t.clinicalDataIntervalFilters,cnaGenes:t.cnaGenes,mutatedGenes:t.mutatedGenes},l=o.a.reduce(n,function(t,n,r){return e!==r&&(t=0===t.length?n:o.a.intersectionWith(t,n,o.a.isEqual)),t},[]);return l&&l.length>0?i.sampleIdentifiers=l:o.a.isEmpty(r)?i.studyIds=a:i.sampleIdentifiers=r,u.a.fetchFilteredSamplesUsingPOST({studyViewFilter:i})}function Ee(e,t,n,r,o,a,i){return t&&e&&!r?[i]:e||n?r?[]:[o]:[a]}function Pe(e){return 0!==e.length&&!o.a.some(e,function(e){return isNaN(Number(e))})}function ke(e,t){return 0===e.length&&1===t.length}function _e(e,t,n){var r=[],a=o.a.groupBy(e,function(e){return e.studyId});return o.a.each(t,function(e){var t=a[e.studyId];t&&t.length>0&&r.push(Object.assign({},e,{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}),o.a.each(n,function(e){var t=[];if(e.data.studies.forEach(function(e){var n=a[e.id];n&&n.length>0&&(t=t.concat(n))}),t.length>0){var n={name:e.data.name,description:e.data.description,studyId:e.id};r.push(Object.assign({},n,{uniqueSampleKeys:o.a.map(t,function(e){return e.uniqueSampleKey})}))}}),r}function we(e,t){return Ce(e.value)?Ce(t.value)?0:1:Ce(t.value)?-1:t.count-e.count}function Oe(e,t){return t.priority-e.priority||e.displayName.localeCompare(t.displayName)}function Me(e,t){return Oe({priority:Number(e.priority),displayName:e.displayName},{priority:Number(t.priority),displayName:t.displayName})}function Re(e,t){return Oe({priority:e.priority,displayName:e.displayName},{priority:t.priority,displayName:t.displayName})}function Ne(e,t,n){try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(i.b)(e),n)}catch(r){window.localStorage.clear();try{window.localStorage.setItem("legacyStudySubmission",JSON.stringify(t)),window.open(Object(i.b)(e),n)}catch(e){alert("Sorry, the query is too large to submit")}}}function De(e){return e.replace(/\\,/g,"$@$").split(",").map(function(e){return e.trim().replace(/\$@\$/g,",")})}function Ge(e,t){var n={};return e>0&&(n[g.YES]={count:e,value:g.YES}),t>0&&(n[g.NO]={count:t,value:g.NO}),be(o.a.values(n))}function xe(e){var t=e.match(/study\/([^\/]+)/);return t?t[1]:void 0}function Le(e){return e.length<=2?e.map(function(e){return e.name}).join(" and "):"".concat(e[0].name," and ").concat(e.length-1," other groups")}function je(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.patients.map(function(e){return{studyId:t,patientId:e}})})})),function(e,t){return e.patientId===t.patientId&&e.studyId===t.studyId})}function Fe(e){return v.findIndex(function(t){return t.uniqueKey===e.uniqueKey})>-1}function Be(e,t,n,r,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],l=arguments.length>8?arguments[8]:void 0;l||(l=pe(e,t,n,[]));var c={};return e.forEach(function(e){var t=e.uniqueKey,n=r[t]||"NONE";c[e.uniqueKey]={id:e.uniqueKey,chartType:n,patientAttribute:e.patientAttribute},n===h.MUTATED_GENES_TABLE?c[e.uniqueKey].filterByCancerGenes=a:n===h.FUSION_GENES_TABLE?c[e.uniqueKey].filterByCancerGenes=i:n===h.CNA_GENES_TABLE&&(c[e.uniqueKey].filterByCancerGenes=u);var l=o[t];l&&(c[t].groups=l.groups,c[t].name=e.displayName)}),l.forEach(function(e){e.i&&c[e.i]&&(c[e.i].layout={x:e.x,y:e.y,w:e.w,h:e.h})}),c}!function(e){e[e.LEADING=1]="LEADING",e[e.TRAILING=-1]="TRAILING"}(b||(b={}))}).call(this,n(10))},function(e,t,n){"use strict";function r(e){return a(e,function(){return!0})}function o(e){return a(e,function(e,t){return t})}function a(e,t){return e.reduce(function(n,r,o){return n[r]=t(r,o,e),n},{})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return"".concat(e).concat(1===t?"":n)}function u(e){return/^http[s]?:\/\//.test(e)}n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u})},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"l",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"i",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"h",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"m",function(){return S}),n.d(t,"k",function(){return T}),n.d(t,"o",function(){return C}),n.d(t,"d",function(){return I}),n.d(t,"e",function(){return A}),n.d(t,"n",function(){return E});var r=n(9),o=n(515),a=n(551),i=n(599),u=n(508),l=n(514),c=n(531),s={missenseColor:l.o,inframeColor:l.m,truncatingColor:l.s,otherColor:l.q};function p(e){return new RegExp(a.b+"$").test(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return Object(o.p)(Object(c.b)(e),t)}function f(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=!0,c=!1,s=void 0;try{for(var p,d=u[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value,m=f.proteinPosStart;null!=m&&(t[m]=t[m]||[],t[m].push(f))}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t}function m(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l="".concat(u.gene.hugoGeneSymbol,"_").concat(u.patientId,"_").concat(u.proteinChange);t[l]=t[l]||[],t[l].push(u)}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t}function h(e){return r.values(e).map(function(e){return e.length>0?e.length-1:0}).reduce(function(e,t){return e+t},0)}function y(e){return Object.keys(m(e)).length}function g(e,t,n){var o=[];return e.forEach(function(e){var r=e[0];r.proteinPosStart>-1&&r.proteinPosStart>=t&&r.proteinPosStart<=n&&o.push(r.proteinPosStart),r.proteinPosEnd>r.proteinPosStart&&r.proteinPosEnd>=t&&r.proteinPosEnd<=n&&o.push(r.proteinPosEnd)}),r.uniq(o)}var b=new RegExp(a.c,"i");function v(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(u.e)(o.map(i.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&b.test(t.mutationStatus)&&!!a[Object(i.a)(r.studyId,t.sampleId)])}).map(i.a).uniq().value().length/o.length}return 0}function S(e,t,n,o){if(t.length>0&&o.length>0){var a=Object(u.e)(o.map(i.a));return 100*r.chain(t).filter(function(t){var r=n[t.molecularProfileId];return!!r&&(t.gene.hugoGeneSymbol===e&&!b.test(t.mutationStatus)&&!!a[Object(i.a)(r.studyId,t.sampleId)])}).map(i.a).uniq().value().length/o.length}return 0}function T(e){return!e.mutationStatus||!b.test(e.mutationStatus)}function C(e,t){e.forEach(function(e){if(e.gene&&e.gene.hugoGeneSymbol){var n=t[e.gene.hugoGeneSymbol];n&&(e.gene=r.merge({},n,e.gene),e.entrezGeneId=e.entrezGeneId||n.entrezGeneId)}})}function I(e){return e.gene&&e.chr&&e.startPosition&&e.endPosition&&e.referenceAllele&&e.variantAllele?{chromosome:e.chr.replace("chr",""),start:e.startPosition,end:e.endPosition,referenceAllele:e.referenceAllele,variantAllele:e.variantAllele}:void 0}function A(e){return"".concat(e.chromosome,",").concat(e.start,",").concat(e.end,",").concat(e.referenceAllele,",").concat(e.variantAllele)}function E(e){var t={};return e.map(function(e){var n=I(e);n&&(t[A(n)]=n)}),r.values(t)}},function(e,t,n){"use strict";var r=n(649),o=n(0),a=n(7),i=n(18),u=(n(711),n(545)),l=n(669),c=n(82),s=n(550),p=n(519),d=n.n(p),f=n(621),m=n.n(f),h=n(622);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":S(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C=n(575),I=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=g(t).call(this,e))||"object"!==S(o)&&"function"!=typeof o?b(r):o).downloadingData=!1,n.copyingData=!1,n.showErrorMessage=!1,n.showTooltipCopyMessage=!1,n._copyButton=null,n._modalCopyButton=null,n._modalCopyButtonContainer=null,n._copyText=null,n.handleDownload=n.handleDownload.bind(b(n)),n.handleCopy=n.handleCopy.bind(b(n)),n.handleModalClose=n.handleModalClose.bind(b(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.showCopy&&this.bindCopyButton(this._copyButton)}},{key:"bindCopyButton",value:function(e,t){e&&new C(e,{text:this.getText.bind(this),container:t})}},{key:"render",value:function(){var e=this;return o.createElement("span",null,o.createElement(h.a,{className:this.props.className,showCopy:this.props.showCopy,showCopyMessage:this.showTooltipCopyMessage,showDownload:this.props.showDownload,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,handleDownload:this.handleDownload,handleCopy:this.handleCopy,copyButtonRef:function(t){e._copyButton=t}}),this.downloadIndicatorModal(),this.copyIndicatorModal(),this.downloadErrorModal())}},{key:"downloadIndicatorModal",value:function(){return o.createElement(c.Modal,{show:this.downloadingData,onHide:function(){},bsSize:"sm",className:"".concat(m.a["centered-modal-dialog"])},o.createElement(c.Modal.Body,null,o.createElement(s.ThreeBounce,{style:{display:"inline-block",marginRight:10}}),o.createElement("span",null,"Downloading Table Data...")))}},{key:"copyIndicatorModal",value:function(){var e=this;return o.createElement(c.Modal,{show:this.copyingData,onHide:function(){},onEntered:function(){e.bindCopyButton(e._modalCopyButton,e._modalCopyButtonContainer)},bsSize:"sm",className:"".concat(m.a["centered-modal-dialog"])},o.createElement(c.Modal.Header,null,this.showErrorMessage?"Copy Error!":"Copy Ready!"),o.createElement(c.Modal.Body,null,this.showErrorMessage&&"An error occurred while copying the data. Data may be incomplete.","Please click on Copy to copy the data to clipboard."),o.createElement(c.Modal.Footer,null,o.createElement("span",{ref:function(t){e._modalCopyButtonContainer=t}},o.createElement("button",{ref:function(t){e._modalCopyButton=t},onClick:this.handleModalClose,className:"btn btn-primary","data-clipboard-text":"NA",id:"modalCopyButton"},"Copy"))))}},{key:"downloadErrorModal",value:function(){return o.createElement(c.Modal,{show:!this.copyingData&&this.showErrorMessage,onHide:this.handleModalClose,bsSize:"sm",className:"".concat(m.a["centered-modal-dialog"])},o.createElement(c.Modal.Header,null,"Download Error!"),o.createElement(c.Modal.Body,null,"An error occurred while downloading the data. Downloaded file may contain incomplete data."),o.createElement(c.Modal.Footer,null,o.createElement(c.Button,{onClick:this.handleModalClose,className:"btn btn-primary"},"Close")))}},{key:"getText",value:function(){return this._copyText||""}},{key:"handleCopy",value:function(){this.initCopyProcess()}},{key:"initCopyProcess",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText!==t?(e._copyText=t,e.copyingData=!0):e.showSimpleCopyMessage()})}},{key:"handleDownload",value:function(){var e=this;this.initDownloadProcess(function(t){e._copyText=t,e.download(t)})}},{key:"initDownloadProcess",value:function(e){var t=this;this.props.downloadData&&(this.downloadingData=!0,this.props.downloadData().then(function(n){"complete"===n.status?t.downloadingData=!1:t.triggerDownloadError(),e(n.text)}).catch(function(){t.triggerDownloadError()}))}},{key:"download",value:function(e){d()(e,this.props.downloadFilename)}},{key:"handleModalClose",value:function(){this.copyingData=!1,this.showErrorMessage=!1}},{key:"triggerDownloadError",value:function(){this.downloadingData=!1,this.showErrorMessage=!0}},{key:"showSimpleCopyMessage",value:function(){var e=this;this.showTooltipCopyMessage=!0,setTimeout(function(){e.showTooltipCopyMessage=!1},this.props.copyMessageDuration)}}])&&y(n.prototype,r),a&&y(n,a),t}();I.defaultProps={className:"",copyMessageDuration:3e3,showCopy:!0,showDownload:!0,downloadFilename:"data.tsv"},T([a.observable],I.prototype,"downloadingData",void 0),T([a.observable],I.prototype,"copyingData",void 0),T([a.observable],I.prototype,"showErrorMessage",void 0),T([a.observable],I.prototype,"showTooltipCopyMessage",void 0),T([a.action],I.prototype,"handleModalClose",null),T([a.action],I.prototype,"triggerDownloadError",null),T([a.action],I.prototype,"showSimpleCopyMessage",null),I=T([i.observer],I);var A=n(616),E=n(709),P=n(9);var k=n(503),_=n(542);var w=n(617);function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"c",function(){return B}),n.d(t,"a",function(){return H});var j=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};function F(e,t,n){var r=0;return e!==t&&(null===e?r=1:null===t?r=-1:"number"==typeof e?r=e<t?n?-1:1:n?1:-1:"string"==typeof e&&(r=(n?1:-1)*e.localeCompare(t))),r}function B(e,t){for(var n,r,o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],u=0;u<e.length;u++){var l=e[u];i.push({data:l,initialPosition:u,sortBy:[].concat(t(l))})}return i.sort(function(e,t){return 0===(n=function(e,t,n){for(var r=0,o=Math.min(e.length,t.length),a=0;a<o&&0===(r=F(e[a],t[a],n));a++);return 0===r&&(e.length<t.length?r=n?-1:1:e.length>t.length&&(r=n?1:-1)),r}(e.sortBy,t.sortBy,a))&&(r=e.initialPosition,o=t.initialPosition,n=r<o?-1:1),n}),i.map(function(e){return e.data})}var H=function(){function e(t){var n=this;D(this,e),this.sortColumn=t.initialSortColumn||"",this.sortAscending="desc"!==t.initialSortDirection,this.setProps(t),Object(a.reaction)(function(){return n.displayData.length},function(){n.page=n.clampPage(n.page)})}return x(e,[{key:"clampPage",value:function(e){return e=Math.max(e,0),e=Math.min(e,this.maxPage)}},{key:"getNextSortAscending",value:function(e){return this.sortColumn===e.name?!this.sortAscending:"asc"===(e.defaultSortDirection||"asc")}},{key:"defaultHeaderClick",value:function(e){this.sortAscending=this.getNextSortAscending(e),this.dataStore.sortAscending=this.sortAscending,this.sortColumn=e.name,this.dataStore.sortMetric=this.sortMetric,this.page=0}},{key:"pageToRowIndex",value:function(e){this.page=Math.floor(e/this.itemsPerPage)}},{key:"setFilterString",value:function(e){var t=this;this.filterString=e,this.dataStore.filterString=e,this.page=0,this.dataStore.setFilter(function(e,n,r,o){if(!n)return!0;var a=!1,i=!0,u=!1,l=void 0;try{for(var c,s=t.visibleColumns[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var p=c.value;if(a=p.filter&&p.filter(e,n,r,o)||!1)break}}catch(e){u=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(u)throw l}}return a})}},{key:"setProps",value:function(e){this.columns=e.columns,this._itemsLabel=e.itemsLabel,this._itemsLabelPlural=e.itemsLabelPlural,this._columnVisibility=e.columnVisibility,this.downloadDataFetcher=e.downloadDataFetcher,this.onRowClick=e.onRowClick,e.dataStore?this.dataStore=e.dataStore:this.dataStore=new _.b(e.data||[]),void 0===this.dataStore.page&&(this.dataStore.page=0),void 0===this.itemsPerPage&&(this.itemsPerPage=e.initialItemsPerPage||50),void 0===this.dataStore.sortAscending?this.dataStore.sortAscending=this.sortAscending:this.sortAscending=this.dataStore.sortAscending,void 0===this.dataStore.sortMetric&&(this.dataStore.sortMetric=this.sortMetric),!e.dataStore&&this.filterString&&this.setFilterString(this.filterString)}},{key:"updateColumnVisibility",value:function(e,t){void 0===this._columnVisibilityOverride&&(this._columnVisibilityOverride=Object(A.a)(this.columnVisibilityByColumnDefinition,this._columnVisibility)),void 0!==this._columnVisibilityOverride[e]&&(this._columnVisibilityOverride[e]=t)}},{key:"isVisible",value:function(e){return this.columnVisibility[e.name]||!1}},{key:"itemsPerPage",get:function(){return this.dataStore.itemsPerPage},set:function(e){this.dataStore.itemsPerPage=e,this.page=this.page}},{key:"firstHighlightedRowIndex",get:function(){for(var e=-1,t=0;t<this.displayData.length;t++)if(this.dataStore.isHighlighted(this.displayData[t])){e=t;break}return e}},{key:"displayData",get:function(){return this.dataStore.tableData}},{key:"showingAllRows",get:function(){return this.displayData.length<=this.itemsPerPage||-1===this.itemsPerPage}},{key:"page",get:function(){return this.dataStore.page},set:function(e){this.dataStore.page=this.clampPage(e)}},{key:"maxPage",get:function(){return e=this.displayData.length,(t=this.itemsPerPage)===u.b?0:Math.floor(Math.max(e-1,0)/t);var e,t}},{key:"columnVisibility",get:function(){return Object(A.a)(this.columnVisibilityByColumnDefinition,this._columnVisibility,this._columnVisibilityOverride)}},{key:"columnVisibilityByColumnDefinition",get:function(){return Object(A.b)(this.columns)}},{key:"downloadData",get:function(){var e=this,t=[];return t[0]=[],this.columns.forEach(function(e){t[0].push(e.headerDownload?e.headerDownload(e.name):e.name)}),this.dataStore.sortedData.forEach(function(n){var r,o,a,i=function(e,t){var n={data:[],maxColLength:1};return e.forEach(function(e){if(e.download){var r=e.download(t);r instanceof Array?(n.data.push(r),r.length>n.maxColLength&&(n.maxColLength=r.length)):n.data.push(r)}else n.data.push("")}),n}(e.columns,n),u=(r=i.data,o=i.maxColLength,a=[],r.forEach(function(e){if(e instanceof Array){if(o!=e.length)throw new Error("Not all the arrays returned from the download functions are from the same length.");a.push(e)}else{for(var t=[],n=0;n<o;n++)t=t.concat(e);a.push(t)}}),a);u[0].map(function(e,t){return u.map(function(e){return e[t]})}).forEach(function(e){t.push(e)})}),t}},{key:"sortColumnObject",get:function(){var e=this;return this.columns.find(function(t){return e.isVisible(t)&&t.name===e.sortColumn})}},{key:"visibleData",get:function(){return this.dataStore.visibleData}},{key:"sortMetric",get:function(){var e=this.sortColumnObject;return e&&e.sortBy?e.sortBy:function(){return 0}}},{key:"headers",get:function(){var e=this;return this.visibleColumns.map(function(t){var n,r,a={};t.sortBy&&(a.role="button",a.onClick=function(){return e.defaultHeaderClick(t)}),e.sortColumn===t.name&&(a.className=e.sortAscending?"multilineHeader sort-asc":"multilineHeader sort-des"),n=t.headerRender?t.headerRender(t.name):o.createElement("span",null,t.name),r=t.tooltip?o.createElement(k.b,{placement:"top",overlay:t.tooltip},n):n;var i={};return t.align&&(i.textAlign=t.align),t.width&&(i.width=t.width),o.createElement("th",N({className:"multilineHeader"},a,{style:i}),r)})}},{key:"visibleColumns",get:function(){var e=this;return this.columns.filter(function(t){return e.isVisible(t)})}},{key:"colVisProp",get:function(){var e=this,t=[];return this.columns.forEach(function(n){t.push({id:n.name,name:n.name,visible:e.columnVisibility[n.name],togglable:!n.hasOwnProperty("togglable")||n.togglable})}),t}},{key:"paginationStatusText",get:function(){var e,t;0===this.rows.length?(e=0,t=0):(e=this.itemsPerPage===u.b?1:this.page*this.itemsPerPage+1,t=this.itemsPerPage===u.b?this.rows.length:e+this.rows.length-1);var n=this.itemsLabel;return n.length&&(n=" ".concat(n)),"Showing ".concat(e,"-").concat(t," of ").concat(this.displayData.length).concat(n)}},{key:"tds",get:function(){var e=this;return this.visibleData.map(function(t){return e.visibleColumns.map(function(e){return o.createElement("td",{key:e.name},e.render(t))})})}},{key:"rows",get:function(){for(var e=this,t=[],n=function(n){var r={},a=e.dataStore.isHighlighted(e.visibleData[n]),i=[];if(a&&i.push("highlighted"),e.onRowClick){a||i.push("clickable");var u=e.onRowClick;r.onClick=function(){u(e.visibleData[n])}}i.length&&(r.className=i.join(" ")),t.push(o.createElement("tr",N({key:n},r),e.tds[n]))},r=0;r<this.visibleData.length;r++)n(r);return t}},{key:"itemsLabel",get:function(){return this._itemsLabel?this._itemsLabelPlural&&1!==this.displayData.length?this._itemsLabelPlural:this._itemsLabel:""}}]),e}();j([a.observable],H.prototype,"_itemsLabel",void 0),j([a.observable],H.prototype,"_itemsLabelPlural",void 0),j([a.observable],H.prototype,"sortColumn",void 0),j([a.observable],H.prototype,"sortAscending",void 0),j([a.observable.ref],H.prototype,"columns",void 0),j([a.observable],H.prototype,"dataStore",void 0),j([a.observable],H.prototype,"downloadDataFetcher",void 0),j([a.observable],H.prototype,"onRowClick",void 0),j([a.observable],H.prototype,"_columnVisibility",void 0),j([a.observable],H.prototype,"_columnVisibilityOverride",void 0),j([a.computed],H.prototype,"itemsPerPage",null),j([a.computed],H.prototype,"firstHighlightedRowIndex",null),j([a.computed],H.prototype,"displayData",null),j([a.computed],H.prototype,"showingAllRows",null),j([a.computed],H.prototype,"page",null),j([a.computed],H.prototype,"maxPage",null),j([a.computed],H.prototype,"columnVisibility",null),j([a.computed],H.prototype,"columnVisibilityByColumnDefinition",null),j([a.computed],H.prototype,"downloadData",null),j([a.computed],H.prototype,"sortColumnObject",null),j([a.computed],H.prototype,"visibleData",null),j([a.computed],H.prototype,"sortMetric",null),j([a.action],H.prototype,"defaultHeaderClick",null),j([a.computed],H.prototype,"headers",null),j([a.computed],H.prototype,"visibleColumns",null),j([a.computed],H.prototype,"colVisProp",null),j([a.computed],H.prototype,"paginationStatusText",null),j([a.computed],H.prototype,"tds",null),j([a.computed],H.prototype,"rows",null),j([a.action],H.prototype,"pageToRowIndex",null),j([a.action],H.prototype,"setFilterString",null),j([a.computed],H.prototype,"itemsLabel",null),j([a.action],H.prototype,"setProps",null),j([a.action],H.prototype,"updateColumnVisibility",null);var K=function(e){function t(e){var n,r,o;return D(this,t),r=this,o=O(t).call(this,e),(n=!o||"object"!==L(o)&&"function"!=typeof o?M(r):o).store=new H(e),n.handlers={onFilterTextChange:Object(w.a)(function(e){n.store.setFilterString(e)},400),visibilityToggle:function(e){n.updateColumnVisibility(e,!n.store.columnVisibility[e])},changeItemsPerPage:function(e){n.store.itemsPerPage=e},incPage:function(){n.store.page+=1},decPage:function(){n.store.page-=1},filterInputRef:function(e){n.filterInput=e}},n.getDownloadData=n.getDownloadData.bind(M(n)),n.getDownloadDataPromise=n.getDownloadDataPromise.bind(M(n)),n.getTopToolbar=n.getTopToolbar.bind(M(n)),n.getBottomToolbar=n.getBottomToolbar.bind(M(n)),n.getTable=n.getTable.bind(M(n)),n.getPaginationControls=n.getPaginationControls.bind(M(n)),n.filterInputReaction=Object(a.reaction)(function(){return n.store.dataStore.filterString},function(e){n.filterInput&&(n.filterInput.value=e)}),n.pageToHighlightReaction=Object(a.reaction)(function(){return n.store.firstHighlightedRowIndex},function(e){n.props.pageToHighlight&&n.store.pageToRowIndex(n.store.firstHighlightedRowIndex)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,o["Component"]),x(t,[{key:"getDownloadData",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",r=[];return t&&(Object.keys(e[0]).forEach(function(e){return r.push(e,n)}),r.pop(),r.push("\r\n")),e.forEach(function(e){P.each(e,function(e){r.push(e,n)}),r.pop(),r.push("\r\n")}),r.join("")}(this.store.downloadData)}},{key:"getDownloadDataPromise",value:function(){var e=this;return new Promise(function(t){e.store.downloadDataFetcher?e.store.downloadDataFetcher.fetchAndCacheAllLazyData().then(function(n){t({status:"complete",text:e.getDownloadData()})}).catch(function(){t({status:"incomplete",text:e.getDownloadData()})}):t({status:"complete",text:e.getDownloadData()})})}},{key:"updateColumnVisibility",value:function(e,t){void 0!==this.store.columnVisibility[e]&&this.store.updateColumnVisibility(e,t)}},{key:"componentWillUnmount",value:function(){this.filterInputReaction(),this.pageToHighlightReaction()}},{key:"componentWillReceiveProps",value:function(e){this.store.setProps(e)}},{key:"getPaginationControls",value:function(){var e={className:"text-center topPagination",itemsPerPage:this.store.itemsPerPage,totalItems:this.store.displayData.length,currentPage:this.store.page,onChangeItemsPerPage:this.handlers.changeItemsPerPage,showItemsPerPageSelector:!1,onPreviousPageClick:this.handlers.decPage,onNextPageClick:this.handlers.incPage,previousPageDisabled:0===this.store.page,nextPageDisabled:this.store.page===this.store.maxPage,textBeforeButtons:this.store.paginationStatusText,groupButtons:!1,bsStyle:"primary"};return this.props.paginationProps&&(!1===this.props.paginationProps.showMoreButton&&(delete e.textBeforeButtons,e.textBetweenButtons=this.store.paginationStatusText),e=Object.assign(e,this.props.paginationProps)),o.createElement(u.a,e)}},{key:"getTopToolbar",value:function(){return o.createElement("div",null,this.props.showCountHeader&&this.countHeader,o.createElement(c.ButtonToolbar,{style:{marginLeft:0},className:"tableMainToolbar"},this.props.showFilter?o.createElement("div",{className:"pull-right form-group has-feedback input-group-sm tableFilter",style:{display:"inline-block",marginLeft:5}},o.createElement("input",{ref:this.handlers.filterInputRef,placeholder:this.props.filterPlaceholder||"",type:"text",onInput:this.handlers.onFilterTextChange,className:"form-control tableSearchInput",style:{width:200}}),o.createElement("span",{className:"fa fa-search form-control-feedback","aria-hidden":"true",style:{zIndex:0}})):"",this.props.showColumnVisibility?o.createElement(l.a,N({className:"pull-right",columnVisibility:this.store.colVisProp,onColumnToggled:this.handlers.visibilityToggle},this.props.columnVisibilityProps)):"",this.props.showCopyDownload?this.props.downloadDataFetcher?o.createElement(I,N({className:"pull-right",downloadData:this.getDownloadDataPromise,downloadFilename:"table.tsv"},this.props.copyDownloadProps)):o.createElement(E.a,N({className:"pull-right",downloadData:this.getDownloadData,downloadFilename:"table.tsv",controlsStyle:"BUTTON"},this.props.copyDownloadProps)):"",this.props.showPagination&&this.props.showPaginationAtTop?o.createElement(i.Observer,null,this.getPaginationControls):null))}},{key:"getBottomToolbar",value:function(){return o.createElement(c.ButtonToolbar,{style:{marginLeft:0,float:"none"},className:"tableMainToolbar center"},this.props.showPagination&&o.createElement(i.Observer,null,this.getPaginationControls))}},{key:"getTable",value:function(){return o.createElement("div",{style:{overflowX:this.props.enableHorizontalScroll?"auto":"visible"}},o.createElement(r.a,{headers:this.store.headers,rows:this.store.rows,className:this.props.className}))}},{key:"render",value:function(){return o.createElement("div",{"data-test":"LazyMobXTable"},o.createElement(i.Observer,null,this.getTopToolbar),o.createElement(i.Observer,null,this.getTable),!this.props.showPaginationAtTop&&o.createElement(i.Observer,null,this.getBottomToolbar))}},{key:"countHeader",get:function(){return o.createElement("span",{"data-test":"LazyMobXTable_CountHeader",style:{float:"left",color:"black",fontSize:"16px",fontWeight:"bold"}},this.store.displayData.length," ",this.store.itemsLabel," (page ",this.store.page+1," of ",this.store.maxPage+1,")")}}]),t}();K.defaultProps={showFilter:!0,showCopyDownload:!0,showPagination:!0,showColumnVisibility:!0,showPaginationAtTop:!1,showCountHeader:!1},j([a.action],K.prototype,"componentWillReceiveProps",null),K=j([i.observer],K);t.b=K},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return p});var r,o=n(0),a=n(503);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.NA=2]="NA"}(r||(r={}));var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o["Component"]),n=t,(i=[{key:"render",value:function(){var e="",t="";switch(this.props.status){case r.LOADING:e=this.props.loadingAlt||"Querying server for data.",t="LOADING";break;case r.ERROR:e=this.props.errorAlt||"Error retrieving data.",t="ERROR";break;case r.NA:e=this.props.naAlt||"Data not available.",t=""}return o.createElement(a.b,{placement:"left",overlay:o.createElement("span",null,e)},o.createElement("span",{style:{color:"gray",fontSize:"xx-small",textAlign:"center"}},t))}}])&&u(n.prototype,i),p&&u(n,p),t}()},function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"j",function(){return y}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return w}),n.d(t,"e",function(){return O}),n.d(t,"i",function(){return M});var r=n(9),o=n(600),a=n.n(o),i=n(601);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return void 0!==e.list}function s(e){return void 0!==e.list}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";function n(e,t){return e.reduce(function(e,t){var o=e.dt_state,a=e.query,i=function(e,t){if(function(e){return void 0!==e.gene&&"DATATYPES"===e.gene.toUpperCase()}(t))return{dt_state:t.alterations,query_line:[]};if(c(t)){var o=n(t.list,e);return{dt_state:e,query_line:[r.assign({},t,{list:o})]}}var a=t.alterations||e;return{dt_state:e,query_line:[r.assign({},t,{alterations:a})]}}(o,t),u=i.dt_state,l=i.query_line;return{dt_state:u,query:a.concat(l)}},{dt_state:t,query:[]}).query}var o=n(a.a.parse(e),!1);t.length>0&&(o=n(o,a.a.parse("DUMMYGENE:".concat(t,";"))[0].alterations));return o}function d(e){var t=p(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"");return r.flatMap(t,function(e){return c(e)?e.list:[e]})}function f(e){var t=d(e),n=!1,r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){if(!1!==i.value.alterations){n=!0;break}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}function m(e){var t=d(e),n=!1,r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;if(!1!==l.alterations){var c=!0,s=!1,p=void 0;try{for(var f,m=l.alterations[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var h=f.value;if("mut"===h.alteration_type&&(void 0!==h.constr_rel||h.modifiers.length>0)){n=!0;break}if("any"===h.alteration_type&&h.modifiers.indexOf("DRIVER")>-1){n=!0;break}}}catch(e){s=!0,p=e}finally{try{c||null==m.return||m.return()}finally{if(s)throw p}}if(n)break}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}function h(e){switch(e.alteration_type){case"cna":return t="="===e.constr_rel?e.constr_val:["CNA",e.constr_rel,e.constr_val].join(""),e.modifiers.length>0&&(t+="_",t+=e.modifiers.join("_")),t;case"mut":var t,n=!0;return e.constr_rel?"position"===e.constr_type?t=["MUT",e.constr_rel,e.info.amino_acid,e.constr_val].join(""):(t=["MUT",e.constr_rel,e.constr_val].join(""),e.constr_val||(n=!1)):t="MUT",n&&e.modifiers.length>0&&(t+="_"),t+=e.modifiers.join("_");case"exp":return"EXP"+e.constr_rel+e.constr_val;case"prot":return"PROT"+e.constr_rel+e.constr_val;case"fusion":return"FUSION"+e.modifiers.map(function(e){return"_"+e}).join("");case"any":return e.modifiers.join("_")}}function y(e){var t="",n=e.gene,r=e.alterations;return t+=n,r.length>0&&(t+=": "+r.map(h).join(" "),t+=";"),t}var g=function(e,t,n){var r=n.gene(t).toUpperCase();return!!r&&e.map(function(e){return b(e,t,r,n)}).reduce(function(e,t){return e||t},!1)},b=function(e,t,n,r){return e.gene.toUpperCase()===n&&(e.alterations?1===e.alterations.map(function(e){return v(e,t,r)}).reduce(function(e,t){return 1===t?1:0===t?e:-1===t?1===e?1:-1:void 0},-1):1)},v=function(e,t,n){switch(e.alteration_type){case"cna":return C(e,t,n);case"mut":return I(e,t,n);case"exp":case"prot":return P(e,t,n);case"fusion":return T(e,t,n);case"any":return S(e,t,n)}return 0},S=function(e,t,n){for(var r=!1,o=!1,a=0;a<e.modifiers.length;a++){var i=e.modifiers[a],u=null;switch(i){case"DRIVER":default:u=E(i,t,n)}if(!0===u)r=!0;else if(!1===u){o=!0;break}}return o?-1:r?1:0},T=function(e,t,n){if(null===n.fusion(t))return 0;for(var r=!0,o=0;o<e.modifiers.length;o++){var a=E(e.modifiers[o],t,n);null!==a&&(r=r&&a)}return 2*+r-1},C=function(e,t,n){var r=n.cna(t);if(r){var o=!0;if("="===e.constr_rel)o=r===e.constr_val.toLowerCase();else if(e.constr_rel){var a={amp:2,gain:1,hetloss:-1,homdel:-2},i=a[r],u=a[e.constr_val.toLowerCase()];">"===e.constr_rel?o=i>u:">="===e.constr_rel?o=i>=u:"<"===e.constr_rel?o=i<u:"<="===e.constr_rel&&(o=i<=u)}for(var l=0;l<e.modifiers.length;l++){var c=E(e.modifiers[l],t,n);null!==c&&(o=o&&c)}return 2*+o-1}return 0},I=function(e,t,n){var r=n.mut_type(t);if(r){r=r.toLowerCase();var o=!1;if(e.constr_rel&&e.constr_type||(o=!0),"class"===e.constr_type){var a=e.constr_val.toLowerCase();o=r===a||"trunc"===a&&"missense"!==r&&"inframe"!==r,"!="===e.constr_rel&&(o=!o)}else if("position"===e.constr_type){var i=n.mut_position(t);if(!i)return-1;var u=e.constr_val;o=u>=i[0]&&u<=i[1],"!="===e.constr_rel&&(o=!o)}else if("name"===e.constr_type){var l=n.mut_amino_acid_change(t).toLowerCase();if(!l)return-1;o=e.constr_val.toLowerCase()===l,"!="===e.constr_rel&&(o=!o)}for(var c=0;c<e.modifiers.length;c++){var s=A(e.modifiers[c],t,n);null!==s&&(o=o&&s)}return 2*+o-1}return 0},A=function(e,t,n){switch(e){case"GERMLINE":case"SOMATIC":return n.mut_status(t)===e.toLowerCase();default:return E(e,t,n)}},E=function(e,t,n){switch(e){case"DRIVER":return n.is_driver(t);default:return!1}},P=function(e,t,n){var r=n["exp"===e.alteration_type?"exp":"prot"](t);if(null===r)return 0;var o,a=e.constr_val,i=e.constr_rel,u=void 0;return"<"===i&&r<a||"<="===i&&r<=a?(o=1,u=-1):">"===i&&r>a||">="===i&&r>=a?(o=1,u=1):o=-1,o>0&&(t.alterationSubType=u&&u>0?"high":"low"),o};function k(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4?arguments[4]:void 0;n=e.extend(!0,[],n);for(var l=r,s=0;s<n.length;s++)n[s].molecularProfileAlterationType=l.molecularAlterationType(n[s].molecularProfileId),Object(i.a)(n[s],l);function f(e){return function(t){return c(t)?u({},t,{list:t.list.map(f(e))}):e(t)}}var m=("mergedtrack"===a?p:d)(t,o).map(f(function(e){return u({},e,{gene:e.gene.toUpperCase()})}));return a?m.map(f(function(e){return{gene:e.gene,parsed_oql_line:e,oql_line:y(e),data:n.filter(function(t){return b(e,t,l.gene(t).toUpperCase(),l)})}})):n.filter(function(e){return g(m,e,l)})}function _(e,t,n,r){return k(e,t,n,r)}function w(e,t,n,r){return k(e,t,n,r,"gene")}function O(e,t,n,r){return k(e,t,n,r,"mergedtrack")}function M(e){for(var t=d(e).filter(function(e){return"datatypes"!==e.gene.toLowerCase()}).map(function(e){return e.gene.toUpperCase()}),n={},r=0;r<t.length;r++)n[t[r]]=!0;return Object.keys(n)}}).call(this,n(10))},function(e,t,n){"use strict";var r=n(9),o=n.n(r),a=n(0),i=n(602),u=n(522);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c,s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new u.a}var t,n,r;return t=e,(n=[{key:"increment",value:function(e){this.map.set(e,(this.map.get(e)||0)+1)}},{key:"get",value:function(e){return this.map.get(e)||0}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&l(t.prototype,n),r&&l(t,r),e}(),p=n(605),d=n(516),f=n(629),m=n(67),h=n(533),y=n(508);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(e){var t=o.a.partition(e,function(e){return"na"===e.name.toLowerCase()});return o.a.sortBy(t[1],function(e){return e.name.toLowerCase()}).concat(t[0])}n.d(t,"c",function(){return c}),n.d(t,"m",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"t",function(){return T}),n.d(t,"k",function(){return C}),n.d(t,"j",function(){return I}),n.d(t,"v",function(){return A}),n.d(t,"C",function(){return k}),n.d(t,"y",function(){return _}),n.d(t,"x",function(){return w}),n.d(t,"s",function(){return O}),n.d(t,"r",function(){return M}),n.d(t,"p",function(){return R}),n.d(t,"e",function(){return D}),n.d(t,"h",function(){return G}),n.d(t,"i",function(){return x}),n.d(t,"b",function(){return L}),n.d(t,"g",function(){return j}),n.d(t,"a",function(){return F}),n.d(t,"q",function(){return B}),n.d(t,"z",function(){return H}),n.d(t,"f",function(){return K}),n.d(t,"w",function(){return V}),n.d(t,"B",function(){return q}),n.d(t,"o",function(){return U}),n.d(t,"F",function(){return Q}),n.d(t,"A",function(){return z}),n.d(t,"n",function(){return W}),n.d(t,"E",function(){return Y}),n.d(t,"l",function(){return Z}),n.d(t,"D",function(){return J}),n.d(t,"u",function(){return X}),function(e){e.OVERLAP="overlap",e.MUTATIONS="mutations",e.CNA="cna",e.MRNA="mrna",e.PROTEIN="protein",e.SURVIVAL="survival",e.CLINICAL="clinical"}(c||(c={}));var v=20,S="-ABCDEFGHIJKLMNOPQRSTUVWXYZ";function T(e,t){if(e<=0)return[];for(var n,r,a=[[1]],i=1;i<e;i++){n=a[i-1],(r=o.a.clone(n))[r.length-1]+=1;for(var u=r.length-1;u>=0;u--)r[u]>t&&(r[u]-=t,u>0?r[u-1]+=1:r.unshift(1));a.push(r)}return a.map(function(e){return e.map(function(e){return S[e]}).join("")})}function C(e,t){var n="";if((Array.isArray(e)||e.isComplete)&&(Array.isArray(t)||t.isComplete)){var r=Array.isArray(e)?e:e.result,o=Array.isArray(t)?t:t.result;if(r.length===o.length)n="(".concat(r.length,")");else{var a=1!==r.length,i=1!==o.length;n="(".concat(r.length," sample").concat(a?"s":"","/").concat(o.length," patient").concat(i?"s":"",")")}}return n}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";if(e===t){var o=1!==e;return"".concat(e).concat(r,"sample").concat(o?"s":"").concat(n,"patient").concat(o?"s":"")}var a=1!==e,i=1!==t;return"".concat(e).concat(r,"sample").concat(a?"s":"").concat(n).concat(t).concat(r,"patient").concat(i?"s":"")}function A(e,t){var n={},r=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value,s=t.get({studyId:c.studyId,sampleId:c.sampleId});!s||s.uniquePatientKey in n||(n[s.uniquePatientKey]={patientId:s.patientId,studyId:s.studyId})}}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return o.a.values(n)}function E(e){var t=new s,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=!0,c=!1,p=void 0;try{for(var d,f=u.studies[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var m=d.value,h=m.id,y=!0,g=!1,b=void 0;try{for(var v,S=m.samples[Symbol.iterator]();!(y=(v=S.next()).done);y=!0){var T=v.value;t.increment({studyId:h,sampleId:T})}}catch(e){g=!0,b=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw b}}}}catch(e){c=!0,p=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}var C=[],I=!0,A=!1,E=void 0;try{for(var P,k=t.entries()[Symbol.iterator]();!(I=(P=k.next()).done);I=!0){var _=P.value;_.value>1&&C.push(_.key)}}catch(e){A=!0,E=e}finally{try{I||null==k.return||k.return()}finally{if(A)throw E}}return C}function P(e){var t=new s,n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=!0,c=!1,p=void 0;try{for(var d,f=u.studies[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var m=d.value,h=m.id,y=!0,g=!1,b=void 0;try{for(var v,S=m.patients[Symbol.iterator]();!(y=(v=S.next()).done);y=!0){var T=v.value;t.increment({studyId:h,patientId:T})}}catch(e){g=!0,b=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw b}}}}catch(e){c=!0,p=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}var C=[],I=!0,A=!1,E=void 0;try{for(var P,k=t.entries()[Symbol.iterator]();!(I=(P=k.next()).done);I=!0){var _=P.value;_.value>1&&C.push(_.key)}}catch(e){A=!0,E=e}finally{try{I||null==k.return||k.return()}finally{if(A)throw E}}return C}function k(e){return!o.a.some(e.studies,function(e){return e.samples.length>0||e.patients.length>0})}function _(e){return o.a.uniq(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){return e.id})})))}function w(e){return o.a.uniqWith(o.a.flattenDeep(e.map(function(e){return e.studies.map(function(e){var t=e.id;return e.samples.map(function(e){return{studyId:t,sampleId:e}})})})),function(e,t){return e.sampleId===t.sampleId&&e.studyId===t.studyId})}function O(e){return o.a.sum(e.studies.map(function(e){return e.samples.length}))}function M(e){return o.a.sum(e.studies.map(function(e){return e.patients.length}))}function R(e,t){var n=[],r=[],a=!0,i=!1,u=void 0;try{for(var l,c=e.studies[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value,p=s.id,d=[],f=[],m=!0,h=!1,y=void 0;try{for(var g,b=s.samples[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var v=g.value,S=t.get({studyId:p,sampleId:v});S?(d.push(v),f.push(S.patientId)):n.push({studyId:p,sampleId:v})}}catch(e){h=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(h)throw y}}f=o.a.uniq(f),(d.length>0||f.length>0)&&r.push({id:p,samples:d,patients:f})}}catch(e){i=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw u}}return{nonExistentSamples:n,studies:r}}function N(e,t){var n=t.overlappingSamplesSet,r=t.overlappingPatientsSet;return e.map(function(e){var t=[],o=!0,a=!1,i=void 0;try{for(var u,l=function(){var e=u.value,o=e.id,a=e.samples.filter(function(e){return!n.has({studyId:o,sampleId:e})}),i=e.patients.filter(function(e){return!r.has({studyId:o,patientId:e})});(a.length>0||i.length>0)&&t.push({id:o,samples:a,patients:i})},c=e.studies[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)l()}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return Object.assign({},e,{studies:t})})}function D(e,t,n,r,o,i){return Object(d.a)({await:function(){var n=e(),r=[n._activeGroupsNotOverlapRemoved,n.activeGroups,n.activeStudyIds];return n.activeGroups.isComplete&&2!==n.activeGroups.result.length||n.activeStudyIds.isComplete&&n.activeStudyIds.result.length>1||r.push(t()),r},render:function(){var u=e(),l=u.activeGroups.result.length;if(!r&&2!==l||r&&l<2)return a.createElement("span",null,function(e,t,n){if(t<2)return"Please select more groups - we need ".concat(n?"at least":"exactly"," 2 selected groups to show enrichments.");if(e<2)return"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need exactly 2 nonempty selected groups to show enrichments.";if(e>2)return"Please deselect groups - we need exactly 2 selected groups to show enrichments."}(u.activeGroups.result.length,u._activeGroupsNotOverlapRemoved.result.length,r));if(u.activeStudyIds.result.length>1&&!i)return a.createElement("span",null,"The selected comparison groups span more than one study, so we can't show ".concat(n," enrichments. Please change your selection in the Groups section so that all samples only come from one study."));var c=[];return c.push(a.createElement(f.a,{store:u,only:o&&u.usePatientLevelEnrichments?"patient":"sample"})),c.push(t().component),c},renderPending:function(){return a.createElement(m.a,{center:!0,isLoading:!0,size:"big"})},renderError:function(){return a.createElement(h.a,null)}})}var G="We need at least 1 group to show survival. Please select more groups from the Groups section above.",x="We can't show survival for more than 10 groups. Please deselect groups in the Groups section.",L="Another group already has this name.",j="We need at least 2 groups to show overlap. Please select more groups from the Groups section above.";function F(e){return e>=2?"Due to excluded overlapping cases, there are less than 2 selected nonempty groups - we need at least 2.":"We need at least 2 groups to show clinical data enrichments. Please select more groups from the Groups section above."}function B(e,t,n){var r=o.a.sortBy(e.clinicalDataEqualityFilters||[],function(e){return e.attributeId}).map(function(e){return e.values.join("+")}),a=o()(t).keys().sortBy().map(function(e){return t[e].join("+")}).value(),i=o.a.flattenDeep((e.mutatedGenes||[]).map(function(e){return e.entrezGeneIds})).map(function(e){return"".concat(n[e].hugoGeneSymbol," mutant")}),u=o.a.flattenDeep((e.cnaGenes||[]).map(function(e){return e.alterations})).map(function(e){return"".concat(n[e.entrezGeneId].hugoGeneSymbol," ").concat(2===e.alteration?"amp":"del")}),l=[];return e.withMutationData&&l.push("with mutation data"),e.withCNAData&&l.push("with CNA data"),i.concat(u).concat(r).concat(a).concat(l).join(", ")}function H(e){var t=e.match(/comparison\/([^\/]+)/);return t?t[1]:void 0}function K(e){return a.createElement("div",{style:{width:380}},a.createElement("div",{style:{marginBottom:7}},"The following samples cannot be found in our database. They might have been removed or changed since this group was created: "),a.createElement("div",{style:{maxHeight:200,overflowY:"scroll"}},e.samples.map(function(e){return a.createElement("div",null,"".concat(e.studyId,":").concat(e.sampleId))})))}function V(e){for(var t=(e=o.a.chain(e).filter(function(e){return!isNaN(e.value)}).sortBy(function(e){return parseFloat(e.value)}).value()).length/4,n=[0,Math.floor(t),Math.floor(2*t),Math.floor(3*t),e.length],r=[],a=0,i=[0,1,2,3];a<i.length;a++){var u=i[a],l=e.slice(n[u],n[u+1]);l.length>0&&r.push(l)}return r}function q(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),a=o.a.mapValues(n,function(e,t){return{id:e.id,samples:o.a.intersection(e.samples,t in r?r[t].samples:[])}});return o.a.values(a).filter(function(e){return e.samples.length>0})}function U(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),a=o.a.mapValues(n,function(e,t){return{id:e.id,samples:t in r?o.a.difference(e.samples,r[t].samples):e.samples}});return o.a.values(a).filter(function(e){return e.samples.length>0})}function Q(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],a=r[e];return t&&a?{id:e,samples:o.a.union(t.samples,a.samples)}:t||a})}function z(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),a=o.a.mapValues(n,function(e,t){return{id:e.id,patients:o.a.intersection(e.patients,t in r?r[t].patients:[])}});return o.a.values(a).filter(function(e){return e.patients.length>0})}function W(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id}),a=o.a.mapValues(n,function(e,t){return{id:e.id,patients:t in r?o.a.difference(e.patients,r[t].patients):e.patients}});return o.a.values(a).filter(function(e){return e.patients.length>0})}function Y(e,t){var n=o.a.keyBy(e,function(e){return e.id}),r=o.a.keyBy(t,function(e){return e.id});return o.a.union(o.a.keys(n),o.a.keys(r)).map(function(e){var t=n[e],a=r[e];return t&&a?{id:e,patients:o.a.union(t.patients,a.patients)}:t||a})}function Z(e,t){return e.map(function(e){return{id:e.id,samples:o.a.flatten(e.patients.map(function(n){return(t.get({patientId:n,studyId:e.id})||[]).map(function(e){return e.sampleId})}))}})}function J(e,t,n,r){var a=new p.a,i=e.reduce(function(e,r){return e[r.uid]=o.a.keyBy(t(r).map(function(e){return n(e)})),e},{}),u=!0,l=!1,c=void 0;try{for(var s,d=r[Symbol.iterator]();!(u=(s=d.next()).done);u=!0){var f=s.value,m={},h=!0,y=!1,g=void 0;try{for(var b,v=e[Symbol.iterator]();!(h=(b=v.next()).done);h=!0){var S=b.value;m[S.uid]=f in i[S.uid]}}catch(e){y=!0,g=e}finally{try{h||null==v.return||v.return()}finally{if(y)throw g}}a.add(m,f)}}catch(e){l=!0,c=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw c}}return a.entries()}function X(e,t){var n=e.filter(function(e){return t(e.uid)}),r=new i.a,a=new i.a,u=[],l=[],c=new i.a,s=new i.a,p={};if(n.length>0)for(;;){u=E(n),l=P(n),c=new i.a,s=new i.a;var d=void 0,f=!0,m=!1,h=void 0;try{for(var b,v=u[Symbol.iterator]();!(f=(b=v.next()).done);f=!0){var S=b.value;d={studyId:S.studyId,sampleId:S.sampleId},c.add(d),r.add(d)}}catch(e){m=!0,h=e}finally{try{f||null==v.return||v.return()}finally{if(m)throw h}}var T=void 0,C=!0,I=!1,A=void 0;try{for(var _,w=l[Symbol.iterator]();!(C=(_=w.next()).done);C=!0){var O=_.value;T={studyId:O.studyId,patientId:O.patientId},s.add(T),a.add(T)}}catch(e){I=!0,A=e}finally{try{C||null==w.return||w.return()}finally{if(I)throw A}}var M=g(o.a.partition(N(n,{overlappingSamplesSet:c,overlappingPatientsSet:s}),function(e){return k(e)}),2),R=M[0],D=M[1];if(R.length>0){var G=R.pop();p[G.uid]=G}if(D.length===n.length)break;n=n.filter(function(e){return!(e.uid in p)})}var x=Object(y.c)(e.map(function(e){return e.uid})),L=N(n,{overlappingSamplesSet:c,overlappingPatientsSet:s}).concat(o.a.values(p));return{groups:L=o.a.sortBy(L,function(e){return x[e.uid]}),overlappingSamples:u,overlappingPatients:l,overlappingSamplesSet:c,overlappingPatientsSet:s,totalSampleOverlap:r.keys().length,totalPatientOverlap:a.keys().length,excludedFromAnalysis:o.a.mapValues(p,function(e){return!0})}}},function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"o",function(){return u}),n.d(t,"p",function(){return l}),n.d(t,"m",function(){return c}),n.d(t,"n",function(){return s}),n.d(t,"s",function(){return p}),n.d(t,"t",function(){return d}),n.d(t,"k",function(){return f}),n.d(t,"r",function(){return m}),n.d(t,"q",function(){return h}),n.d(t,"i",function(){return y}),n.d(t,"j",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"u",function(){return v}),n.d(t,"v",function(){return S}),n.d(t,"a",function(){return T}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return I}),n.d(t,"d",function(){return A}),n.d(t,"f",function(){return E}),n.d(t,"w",function(){return P}),n.d(t,"x",function(){return k});var r=n(9),o="#BEBEBE",a="#000000",i=o,u="#008000",l="#53D400",c="#993404",s="#a68028",p="#000000",d="#708090",f="#8B00C9",m="#00B7CE",h="#cf58bc",y="#ff9999",g="#6699cc",b="#FFFFFF",v="#ff3df8",S="#00E1FF",T="#ff0000",C="#ffb6c1",I="#8fd8d8",A="#0000ff",E="#D3D3D3",P={true:"#1b9e77",yes:"#1b9e77",positive:"#1b9e77","disease free":"#1b9e77","tumor free":"#1b9e77",living:"#1b9e77",alive:"#1b9e77","not progressed":"#1b9e77",false:"#d95f02",no:"#d95f02",negative:"#d95f02",recurred:"#d95f02",progressed:"#d95f02","recurred/progressed":"#d95f02","with tumor":"#d95f02",deceased:"#d95f02",female:"#E0699E",f:"#E0699E",male:"#2986E2",m:"#2986E2",other:"#A9A9A9",unknown:E,na:E,missense:u,inframe:c,truncating:p,fusion:f,promoter:m,"wild type":o,amplification:T,gain:C,diploid:o,"shallow deletion":I,"deep deletion":A};function k(e){return P[e.replace(/\s/g,"").toLowerCase()]}r.forEach(P,function(e,t){P[t.toLowerCase()]=e,P[t.toUpperCase()]=e;var n=t.replace(/\s/g,"");P[n]=e,P[n.toLowerCase()]=e,P[n.toUpperCase()]=e,P[t[0].toUpperCase()+t.slice(1).toLowerCase()]=e,P[t.split(" ").map(function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}).join(" ")]=e})},,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(7),o=n(555);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){var t,n=!1;return Object(r.observable)({get status(){var t=e.await();return o.a.apply(void 0,a(t))},get isComplete(){return"complete"===this.status},get isError(){return"error"===this.status},get isPending(){return"pending"===this.status},get component(){var r=null;switch(this.status){case"complete":r=e.render(),n=!0,t=r;break;case"pending":e.showLastRenderWhenPending&&n?r=t:e.renderPending&&(r=e.renderPending());break;case"error":e.renderError&&(r=e.renderError())}return r}})}},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return T});var r=n(532),o=n(9),a=n.n(o),i=n(152),u=n(83),l=n(602);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f,m=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.MutationSpectrum="NO_CONTEXT_MUTATION_SIGNATURE",e.StudyOfOrigin="CANCER_STUDY",e.ProfiledInPrefix="PROFILED_IN",e.ComparisonGroupPrefix="IN_COMPARISON_GROUP",e.NumSamplesPerPatient="NUM_SAMPLES_PER_PATIENT"}(f||(f={}));var h=[f.StudyOfOrigin,f.NumSamplesPerPatient];function y(e){return e.clinicalAttributeId.startsWith(f.ProfiledInPrefix)}function g(e){return e.clinicalAttributeId.startsWith(f.ComparisonGroupPrefix)}function b(e){return y(e)||g(e)||h.indexOf(e.clinicalAttributeId)>-1}function v(e,t){var n=[],r=new l.a,o=!0,a=!1,i=void 0;try{for(var u,c=e.comparisonGroup.data.studies[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,p=s.id,d=!0,f=!1,m=void 0;try{for(var h,y=s.samples[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value;r.add({studyId:p,sampleId:g})}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}var b=!0,v=!1,S=void 0;try{for(var T,C=t[Symbol.iterator]();!(b=(T=C.next()).done);b=!0){var I=T.value;n.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:I.patientId,sampleId:I.sampleId,studyId:I.studyId,uniquePatientKey:I.uniquePatientKey,uniqueSampleKey:I.uniqueSampleKey,value:r.has({studyId:I.studyId,sampleId:I.sampleId})?"Yes":"No"})}}catch(e){v=!0,S=e}finally{try{b||null==C.return||C.return()}finally{if(v)throw S}}return n}function S(e,t,n){var r=e.molecularProfileIds,o=[],i=!0,u=!1,l=void 0;try{for(var c,s=function(){var t=c.value,i=n.samples[t.uniqueSampleKey];if(!i)return"continue";var u=a.a.flatten(a.a.values(i.byGene)).concat(i.allGenes),l=a.a.keyBy(u,"molecularProfileId");a.a.some(r,function(e){return e in l})&&o.push({clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:"Yes"})},p=t[Symbol.iterator]();!(i=(c=p.next()).done);i=!0)s()}catch(e){u=!0,l=e}finally{try{i||null==p.return||p.return()}finally{if(u)throw l}}return o}var T=function(e){function t(e,n,r,o,l){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).call(this,function(t){return{await:function(){return[e,n,r,o,l]},invoke:function(){return function(e,t,n,r,o,l){return m(this,void 0,void 0,regeneratorRuntime.mark(function c(){var s,p,d,m;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=e.clinicalAttributeId,c.next=c.t0===f.MutationSpectrum?3:c.t0===f.StudyOfOrigin?10:c.t0===f.NumSamplesPerPatient?12:16;break;case 3:return p=a.a.groupBy(t,function(e){return e.studyId}),c.t1=a.a,c.next=7,Promise.all(Object.keys(r).map(function(e){var t=p[e];return t.length?u.a.fetchMutationSpectrumsUsingPOST({molecularProfileId:r[e].molecularProfileId,mutationSpectrumFilter:{sampleIds:t.map(function(e){return e.sampleId})}}):Promise.resolve([])}));case 7:return c.t2=c.sent,s=c.t1.flatten.call(c.t1,c.t2),c.abrupt("break",28);case 10:return s=t.map(function(t){return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:t.patientId,sampleId:t.sampleId,studyId:t.studyId,uniquePatientKey:t.uniquePatientKey,uniqueSampleKey:t.uniqueSampleKey,value:o[t.studyId].name}}),c.abrupt("break",28);case 12:return d=a.a.groupBy(t,"uniquePatientKey"),m=a.a.keyBy(n,"uniquePatientKey"),s=a.a.map(d,function(t,n){var r=m[n];return{clinicalAttribute:e,clinicalAttributeId:e.clinicalAttributeId,patientId:r.patientId,uniquePatientKey:n,studyId:r.studyId,value:t.length}}),c.abrupt("break",28);case 16:if(!y(e)){c.next=20;break}s=S(e,t,l),c.next=27;break;case 20:if(!g(e)){c.next=24;break}s=v(e,t),c.next=27;break;case 24:return c.next=26,i.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:e.patientAttribute?n.map(function(e){return{entityId:e.patientId,studyId:e.studyId}}):t.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 26:s=c.sent;case 27:return c.abrupt("break",28);case 28:return c.abrupt("return",s);case 29:case"end":return c.stop()}},c)}))}(t,e.result,n.result,r.result,o.result,l.result)}}},function(e){return"".concat(e.clinicalAttributeId,",").concat((e.molecularProfileIds||[]).join("-"),",").concat(e.patientAttribute)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return d});var r=n(0),o=n(9),a=n(520);n(654);function i(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}function u(e,t){var n=e.toFixed(t);if(0!==e&&0===parseFloat(n)){var r=t>1?o.fill(Array(t-1),"0"):[];n="".concat(e>0?"<":">-","0.").concat(r.join(""),"1")}return n}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat(u(100*e,t),"%")}function c(e){var t=r.createElement("span",null,Object(a.a)(e,3,.01));return e<.05&&(t=r.createElement("b",null,t)),t}function s(e){return e<-10?"<-10":e>10?">10":e.toFixed(2)}function p(e,t){return e>t?t:e<-t?-t:Number(e.toFixed(2))}function d(e,t,n,o){return 0===e||Math.log10(e)<o?r.createElement("span",null,"< 10",r.createElement("sup",null,o)):Object(a.a)(e,t,n)}},,function(e,t,n){"use strict";function r(e,t,n){return 1e-6<=e&&e<n?e.toExponential(t):e.toPrecision(t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"e",function(){return b}),n.d(t,"a",function(){return v}),n.d(t,"r",function(){return S}),n.d(t,"j",function(){return C}),n.d(t,"d",function(){return I}),n.d(t,"n",function(){return E}),n.d(t,"f",function(){return P}),n.d(t,"b",function(){return k}),n.d(t,"i",function(){return _}),n.d(t,"q",function(){return w}),n.d(t,"k",function(){return O}),n.d(t,"t",function(){return M}),n.d(t,"u",function(){return R}),n.d(t,"s",function(){return N}),n.d(t,"c",function(){return D}),n.d(t,"l",function(){return G}),n.d(t,"g",function(){return x}),n.d(t,"o",function(){return L}),n.d(t,"p",function(){return j}),n.d(t,"m",function(){return F}),n.d(t,"v",function(){return B}),n.d(t,"h",function(){return K});var r=n(7),o=n(546),a=n(512),i=n(600),u=n.n(i),l=n(506),c=n(9),s=n.n(c),p=n(152),d=n(54),f=n(547),m=n(560),h=n(615),y=n(509),g=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function b(e){var t=!1,n={},r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;t=t||!!l.driverFilter,l.driverTiersFilter&&(n[l.driverTiersFilter]=!0)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return{hasBinary:t,tiers:Object.keys(n)}}var v="hg19",S=Object(r.action)(function(e,t,n,r,o){var a=!0,i=!1,u=void 0;try{for(var l,c=e.tiers[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value;t.driverTiers.set(s,n)}}catch(e){i=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw u}}r&&(t.oncoKb=!0),o&&(t.hotspots=!0)});function T(e,t){var n=!!(t.oncoKb||t.hotspots||t.cbioportalCount||t.cosmicCount||t.customDriverBinary||t.customDriverTier);return Object.assign({putativeDriver:n,isHotspot:t.hotspots,oncoKbOncogenic:t.oncoKb,simplifiedMutationType:Object(o.c)(e.mutationType)},e)}function C(e,t,n){var r=[],o=[],a=[],i=[],u=!0,l=!1,c=void 0;try{for(var s,p=e[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var d=s.value,f=T(d,t(d));f.hugoGeneSymbol=n[d.entrezGeneId].hugoGeneSymbol;var m=!Object(y.k)(d),h=!f.putativeDriver;m&&h?a.push(f):m?o.push(f):h?r.push(f):i.push(f)}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}return{data:i,vus:r,germline:o,vusAndGermline:a}}function I(e,t,n){var r=e.data;return t||(r=r.concat(e.vus)),n||(r=r.concat(e.germline)),t||n||(r=r.concat(e.vusAndGermline)),r}var A=["likely oncogenic","predicted oncogenic","oncogenic"];function E(e){return A.indexOf((e.oncogenic||"").toLowerCase())>-1?e.oncogenic:""}function P(e,t,n,r,o){var a=s.a.keyBy(o,function(e){return e.entrezGeneId}),i=s.a.mapValues(s.a.keyBy(t,function(e){return e.genePanelId}),function(e){return e.genes.filter(function(e){return!!a[e.entrezGeneId]})}),u=s.a.reduce(n,function(e,t){return e[t.uniqueSampleKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),l=s.a.reduce(r,function(e,t){return e[t.uniquePatientKey]={byGene:{},allGenes:[],notProfiledByGene:{},notProfiledAllGenes:[]},e},{}),c=[],p=!0,d=!1,f=void 0;try{for(var m,h=e[Symbol.iterator]();!(p=(m=h.next()).done);p=!0){var y=m.value,g=u[y.uniqueSampleKey],b=l[y.uniquePatientKey],v=y.genePanelId;if(y.profiled)if(v){if(i[v]){var S=!0,T=!1,C=void 0;try{for(var I,A=i[v][Symbol.iterator]();!(S=(I=A.next()).done);S=!0){var E=I.value;g.byGene[E.hugoGeneSymbol]=g.byGene[E.hugoGeneSymbol]||[],g.byGene[E.hugoGeneSymbol].push(y),b.byGene[E.hugoGeneSymbol]=b.byGene[E.hugoGeneSymbol]||[],b.byGene[E.hugoGeneSymbol].push(y)}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}c.push(y)}}else g.allGenes.push(y),b.allGenes.push(y);else g.notProfiledAllGenes.push(y),b.notProfiledAllGenes.push(y)}}catch(e){d=!0,f=e}finally{try{p||null==h.return||h.return()}finally{if(d)throw f}}for(var P=0,k=c;P<k.length;P++){var _=k[P],w=u[_.uniqueSampleKey],O=l[_.uniquePatientKey],M=!0,R=!1,N=void 0;try{for(var D,G=o[Symbol.iterator]();!(M=(D=G.next()).done);M=!0){var x=D.value;w.byGene[x.hugoGeneSymbol]||(w.notProfiledByGene[x.hugoGeneSymbol]=w.notProfiledByGene[x.hugoGeneSymbol]||[],w.notProfiledByGene[x.hugoGeneSymbol].push(_)),O.byGene[x.hugoGeneSymbol]||(O.notProfiledByGene[x.hugoGeneSymbol]=O.notProfiledByGene[x.hugoGeneSymbol]||[],O.notProfiledByGene[x.hugoGeneSymbol].push(_))}}catch(e){R=!0,N=e}finally{try{M||null==G.return||G.return()}finally{if(R)throw N}}}return{samples:u,patients:l}}function k(e,t,n,r){var o=r[e.entrezGeneId].hugoGeneSymbol,a="";if("COPY_NUMBER_ALTERATION"===n[e.molecularProfileId].molecularAlterationType){var i=t(e);i&&(a=E(i))}return Object.assign({oncoKbOncogenic:a,hugoGeneSymbol:o},e)}function _(e,t,n){return g(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a,i,u,l,c,d,f;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(o=[],a={},i=!0,u=!1,l=void 0,r.prev=5,c=t[Symbol.iterator]();!(i=(d=c.next()).done);i=!0)f=d.value,e[f]?o.push(e[f]):a[f]=!0;r.next=13;break;case 9:r.prev=9,r.t0=r.catch(5),u=!0,l=r.t0;case 13:r.prev=13,r.prev=14,i||null==c.return||c.return();case 16:if(r.prev=16,!u){r.next=19;break}throw l;case 19:return r.finish(16);case 20:return r.finish(13);case 21:if(s.a.isEmpty(a)){r.next=25;break}return r.next=24,p.a.fetchStudiesUsingPOST({studyIds:Object.keys(a),projection:"DETAILED"}).then(function(e){e.forEach(function(e){o.push(e),delete a[e.studyId]})}).catch(function(){});case 24:n.filter(function(e){return a[e.id]}).forEach(function(e){var t={allSampleCount:s.a.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:"My Virtual Studies"};o.push(t)});case 25:return r.abrupt("return",o);case 26:case"end":return r.stop()}},r,null,[[5,9,13,21],[14,,16,20]])}))}function w(e,t,n){var r=Object(a.f)(e)?s.a.flatMap(e.list,function(e){return e.data}):e.data;return{samples:Object(l.P)(r,function(e){return e.uniqueSampleKey},t.map(function(e){return e.uniqueSampleKey})),patients:Object(l.P)(r,function(e){return e.uniquePatientKey},n.map(function(e){return e.uniquePatientKey}))}}function O(e,t,n,r,o,i){return Object(a.f)(e)?e.list.map(function(e){return u=e.oql_line,{cases:w(l=Object(a.e)(u,n,r,t)[0],o,i),oql:l};var u,l}):void 0}function M(e){return RegExp("rna_seq_mrna$|rna_seq_v2_mrna$|pan_can_atlas_2018_rna_seq_mrna_median$|pan_can_atlas_2018_rna_seq_v2_mrna_median$").test(e)}function R(e){return/tcga$/.test(e)}function N(e){return/tcga_pan_can_atlas/.test(e)}function D(e,t){var n=["cBioPortal for Cancer Genomics: "];return e.length&&(n.push(e[0]),e.length>1&&(n.push(", "),n.push(e[1])),e.length>2&&(n.push(" and "),n.push((e.length-2).toString()),n.push(" other "),n.push(e.length-2>1?"genes":"gene")),t.length&&(n.push(" in "),n.push(t[0].shortName),t.length>1&&(n.push(" and "),n.push((t.length-1).toString()),n.push(" other "),n.push(t.length-1>1?"studies":"study")))),n.join("")}function G(e){var t=[e.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,e.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,e.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,e.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,e.genetic_profile_ids_PROFILE_GENESET_SCORE,e.genetic_profile_ids_GENERIC_ASSAY].filter(function(e){return!!e});return t=t.concat(e.genetic_profile_ids||[]),t=s.a.uniq(t)}function x(e){if(0===e.length)return!1;if("copyNumberSegmentPresent"in e[0])return s.a.some(e,function(e){return!!e.copyNumberSegmentPresent});throw"Passed non-detailed sample projection when detailed expected."}function L(e,t,n,r,o,a){var i={};return e.forEach(function(e,u){if(void 0===e.mergedTrackOqlList){var l=e.oql,c=s.a.keyBy(s.a.map(l.data,function(e){return e.uniqueSampleKey})),p=s.a.keyBy(t.filter(function(e){var t=a[e.studyId]?s.a.intersection(a[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return s.a.some(s.a.map(t,function(t){return Object(m.a)(e.uniqueSampleKey,t,l.gene,r)}),function(e){return!1===e})}).map(function(e){return e.uniqueSampleKey}));i[j(u,n,l)]=t.map(function(e){return e.uniqueSampleKey in p?h.a.UNPROFILED:e.uniqueSampleKey in c?h.a.ALTERED:h.a.UNALTERED})}else{var d=e.oql,f=s.a.keyBy(s.a.map(s.a.flatten(s.a.map(d.list,function(e){return e.data})),function(e){return e.uniqueSampleKey})),y=s.a.map(d.list,function(e){return e.gene}),g=s.a.keyBy(t.filter(function(e){var t=a[e.studyId]?s.a.intersection(a[e.studyId].map(function(e){return e.molecularProfileId}),o):o;return s.a.some(s.a.map(t,function(t){return s.a.every(s.a.map(y,function(n){return Object(m.a)(e.uniqueSampleKey,t,n,r)}),function(e){return!1===e})}),function(e){return!0===e})}).map(function(e){return e.uniqueSampleKey}));i[F(d)]=t.map(function(e){return e.uniqueSampleKey in g?h.a.UNPROFILED:e.uniqueSampleKey in f?h.a.ALTERED:h.a.UNALTERED})}}),i}function j(e,t,n){return!1===u.a.parse(t)[e].alterations?n.gene:n.oql_line.slice(0,-1)}function F(e){return e.label?e.label:s.a.map(e.list,function(e){return e.gene}).join(" / ")}function B(e){var t=this;return Object(d.b)({await:function(){var t=e.await();return e.store&&t.push(e.store.selectedMolecularProfiles),t.push(e.referenceGenesPromise),t},invoke:function(){return g(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,i,u,l,c,p,d,m,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.getSelectedProfileMap())){t.next=32;break}return t.next=4,e.fetchData();case 4:for(r=t.sent,e.store&&e.store.selectedMolecularProfiles.result.findIndex(function(e){return void 0!==n[e.studyId]})>-1&&(o=s.a.keyBy(e.store.hugoGeneSymbols,function(e){return e.toUpperCase()}),r=r.filter(function(e){return!(e.hugoGeneSymbol.toUpperCase()in o)})),a=e.referenceGenesPromise.result,i=!0,u=!1,l=void 0,t.prev=10,c=r[Symbol.iterator]();!(i=(p=c.next()).done);i=!0)d=p.value,(m=a[d.hugoGeneSymbol])&&(d.cytoband=m.cytoband);t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),u=!0,l=t.t0;case 18:t.prev=18,t.prev=19,i||null==c.return||c.return();case 21:if(t.prev=21,!u){t.next=24;break}throw l;case 24:return t.finish(21);case 25:return t.finish(18);case 26:return h=s.a.sortBy(r,function(e){return e.pValue}),Object(f.a)(h.map(function(e){return e.pValue})).forEach(function(e,t){h[t].qValue=e}),t.abrupt("return",H(h));case 32:return t.abrupt("return",[]);case 33:case"end":return t.stop()}},t,null,[[10,14,18,26],[19,,21,25]])}))}})}function H(e){return s.a.sortBy(e,["pValue","hugoGeneSymbol"])}function K(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;t[u.uniquePatientKey]={patientId:u.patientId,studyId:u.studyId}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}var l={uniquePatientKeys:s.a.uniq(e.map(function(e){return e.uniquePatientKey}))};return p.a.fetchPatientsUsingPOST({patientFilter:l})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(9),o=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={}}var t,n,r;return t=e,r=[{key:"from",value:function(t,n){var r=new e,o=!0,a=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r.set(n(c),c)}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}return r}}],(n=[{key:"entries",value:function(){return o.a.flatten(o.a.values(this.map))}},{key:"set",value:function(e,t){var n=this.getEntry(e);return n?(n.value=t,!1):(this.getEntriesWithStringKey(e).push({key:e,value:t}),!0)}},{key:"get",value:function(e){var t=this.getEntry(e);return t?t.value:void 0}},{key:"has",value:function(e){return!!this.getEntry(e)}},{key:"clear",value:function(){this.map={}}},{key:"getEntriesWithStringKey",value:function(e){var t=function(e){var t=o.a.keys(e);return o.a.sortBy(t).map(function(t){return"".concat(e,":").concat(e[t])}).join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}},{key:"getEntry",value:function(e){return this.getEntriesWithStringKey(e).find(function(t){return n=t.key,r=e,o.a.isEqual(n,r);var n,r})}}])&&a(t.prototype,n),r&&a(t,r),e}()},function(e,t,n){"use strict";var r=n(9),o=n(152),a=n(7);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l="tissue",c="My Virtual Studies",s="Studies",p=function(){function e(t){var n,o,a,u=this,p=t.cancerTypes,d=void 0===p?[]:p,f=t.studies,m=void 0===f?[]:f,h=t.priorityStudies,y=void 0===h?{}:h,g=t.virtualStudies,b=void 0===g?[]:g,v=t.maxTreeDepth,S=void 0===v?0:v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootCancerType={clinicalTrialKeywords:"",dedicatedColor:"",name:"All",parent:"",shortName:"All",cancerTypeId:l},this.virtualStudyCategory={clinicalTrialKeywords:"",dedicatedColor:"",name:c,parent:l,shortName:c,cancerTypeId:c,alwaysVisible:!0},this.physicalStudyCategory={clinicalTrialKeywords:"",dedicatedColor:"",name:s,parent:l,shortName:s,cancerTypeId:s,alwaysVisible:!0},this.priorityCategories=[],this.map_node_meta=new Map,this.map_cancerTypeId_cancerType=new Map,this.map_studyId_cancerStudy=new Map,d=e.sortNodes(d);var T=b.map(function(e){if(e.data)return{allSampleCount:r.sumBy(e.data.studies,function(e){return e.samples.length}),studyId:e.id,name:e.data.name,description:e.data.description,cancerTypeId:c}}).filter(function(e){return e});for(var C in y)this.priorityCategories.push({clinicalTrialKeywords:"",dedicatedColor:"",name:C,parent:l,shortName:C,cancerTypeId:C});0===S&&b.length>0&&(m=r.map(m,function(e){return e.cancerTypeId=u.physicalStudyCategory.cancerTypeId,e}));for(var I=0,A=[d=[this.virtualStudyCategory,this.physicalStudyCategory].concat(i(this.priorityCategories),[this.rootCancerType],i(d)),m=e.sortNodes([].concat(i(T),i(m)))];I<A.length;I++){n=A[I];var E=!0,P=!1,k=void 0;try{for(var _,w=n[Symbol.iterator]();!(E=(_=w.next()).done);E=!0){o=_.value;var O=n==d;O?this.map_cancerTypeId_cancerType.set(o.cancerTypeId,o):this.map_studyId_cancerStudy.set(o.studyId,o);var M=O?o.name:[o.name,o.description].join("\n");this.map_node_meta.set(o,{isCancerType:O,isPriorityCategory:!1,priorityCategories:[],childCancerTypes:[],childStudies:[],descendantStudies:[],descendantCancerTypes:[],ancestors:[],siblings:[],searchTerms:M})}}catch(e){P=!0,k=e}finally{try{E||null==w.return||w.return()}finally{if(P)throw k}}}var R=!0,N=!1,D=void 0;try{for(var G,x=this.priorityCategories[Symbol.iterator]();!(R=(G=x.next()).done);R=!0){var L=G.value;(a=this.map_node_meta.get(L)).isPriorityCategory=!0;var j=!0,F=!1,B=void 0;try{for(var H,K=y[L.cancerTypeId][Symbol.iterator]();!(j=(H=K.next()).done);j=!0){var V=H.value,q=this.map_studyId_cancerStudy.get(V);if(q)a.childStudies.push(q),a.descendantStudies.push(q),this.map_node_meta.get(q).priorityCategories.push(L)}}catch(e){F=!0,B=e}finally{try{j||null==K.return||K.return()}finally{if(F)throw B}}}}catch(e){N=!0,D=e}finally{try{R||null==x.return||x.return()}finally{if(N)throw D}}for(var U=0,Q=[d,m];U<Q.length;U++){n=Q[U];var z=!0,W=!1,Y=void 0;try{for(var Z,J=n[Symbol.iterator]();!(z=(Z=J.next()).done);z=!0){o=Z.value,a=this.map_node_meta.get(o);var X=void 0;if(a.isCancerType){var $=o.alwaysVisible;X=this.map_cancerTypeId_cancerType.get(o.parent),$&&X&&(X.alwaysVisible=$)}else X=this.map_cancerTypeId_cancerType.get(o.cancerTypeId);var ee=X&&this.map_node_meta.get(X);for(ee&&(a.isCancerType?ee.childCancerTypes.push(o):ee.childStudies.push(o));X&&ee;)a.ancestors.push(X),a.isCancerType?ee.descendantCancerTypes.push(o):ee.descendantStudies.push(o),ee=(X=this.map_cancerTypeId_cancerType.get(X.parent))&&this.map_node_meta.get(X);var te=[].concat(i(a.ancestors),i(a.priorityCategories)).map(function(e){return e.name});a.searchTerms=[a.searchTerms].concat(i(te)).join("\n")}}catch(e){W=!0,Y=e}finally{try{z||null==J.return||J.return()}finally{if(W)throw Y}}}var ne=!0,re=!1,oe=void 0;try{for(var ae,ie=m[Symbol.iterator]();!(ne=(ae=ie.next()).done);ne=!0){o=ae.value;var ue=(a=this.map_node_meta.get(o)).ancestors[a.ancestors.length-2];if(ue){var le=this.map_node_meta.get(ue);a.siblings=le.descendantStudies}}}catch(e){re=!0,oe=e}finally{try{ne||null==ie.return||ie.return()}finally{if(re)throw oe}}}var t,n,o;return t=e,o=[{key:"sortNodes",value:function(e){return r.sortBy(e,function(e){return e.name})}}],(n=null)&&u(t.prototype,n),o&&u(t,o),e}(),d=n(54),f=n(73),m=n(83),h=n(512),y=n(84),g=n.n(y),b=n(2),v=n(642),S=n(33),T=n.n(S),C=n(15),I=n(647),A=n(508),E=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function P(e,t,n){return E(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=r.chunk(e,n),i=a.map(t),o.t0=r,o.next=5,Promise.all(i);case 5:return o.t1=o.sent,o.abrupt("return",o.t0.flatten.call(o.t0,o.t1));case 7:case"end":return o.stop()}},o)}))}var k=n(504);function _(e){return function(e,t){var n=Object.assign({},e,t);for(var r in n)n[r]||delete n[r];return{query:n}}(function(e,t){var n=e.selectableSelectedStudyIds,r=t?t.replace(/\s+/g,"+"):e.asyncCustomCaseSet.result.map(function(e){return e.studyId+":"+e.sampleId}).join("+"),o={cancer_study_id:1===n.length?n[0]:"all",Z_SCORE_THRESHOLD:e.zScoreThreshold,RPPA_SCORE_THRESHOLD:e.rppaScoreThreshold,data_priority:e.dataTypePriorityCode,case_set_id:e.selectedSampleListId||"-1",case_ids:r,gene_list:encodeURIComponent(ue(e.geneQuery)||" "),geneset_list:ue(e.genesetQuery)||" ",tab_index:e.forDownloadTab?"tab_download":"tab_visualize",transpose_matrix:e.transposeDataMatrix?"on":void 0,Action:"Submit"};1!==n.length&&(o.cancer_study_list=n.join(","));return o}(e),function(e,t){return{genetic_profile_ids_PROFILE_MUTATION_EXTENDED:e.getSelectedProfileIdFromMolecularAlterationType("MUTATION_EXTENDED",t),genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION:e.getSelectedProfileIdFromMolecularAlterationType("COPY_NUMBER_ALTERATION",t),genetic_profile_ids_PROFILE_MRNA_EXPRESSION:e.getSelectedProfileIdFromMolecularAlterationType("MRNA_EXPRESSION",t),genetic_profile_ids_PROFILE_METHYLATION:e.getSelectedProfileIdFromMolecularAlterationType("METHYLATION",t)||e.getSelectedProfileIdFromMolecularAlterationType("METHYLATION_BINARY",t),genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION:e.getSelectedProfileIdFromMolecularAlterationType("PROTEIN_LEVEL",t),genetic_profile_ids_PROFILE_GENESET_SCORE:e.getSelectedProfileIdFromMolecularAlterationType("GENESET_SCORE",t),genetic_profile_ids_PROFILE_GENERIC_ASSAY:e.getSelectedProfileIdFromMolecularAlterationType("GENERIC_ASSAY",t)}}(e))}function w(e){var t=!1,n=!1,r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;if(l.showProfileInAnalysisTab){switch(l.molecularAlterationType){case k.a.MUTATION_EXTENDED:t=!0;break;case k.a.COPY_NUMBER_ALTERATION:n=!0}if(t&&n)break}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return{mutation:t,cna:n}}function O(e,t,n){var o={},a={},i={},u={},l={},c={},s={},p={};r.each(e,function(e){switch(e.category){case"all_cases_with_mutation_and_cna_data":i[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_with_mutation_data":o[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_with_cna_data":a[e.studyId]=r.keyBy(e.sampleIds);break;case"all_cases_in_study":u[e.studyId]=r.keyBy(e.sampleIds);break;default:e.sampleListId===e.studyId+"_all"&&(u[e.studyId]=r.keyBy(e.sampleIds))}});var d=r.map(n,function(e){return e.id}),f=t.filter(function(e){return!r.includes(d,e)});return r.forEach(f,function(e){l[e]=o[e]||{},c[e]=a[e]||{},s[e]=i[e]||{},p[e]=u[e]||{}}),r.forEach(n,function(e){r.forEach(e.data.studies,function(e){r.includes(f,e.id)||(l[e.id]=l[e.id]||{},c[e.id]=c[e.id]||{},s[e.id]=s[e.id]||{},p[e.id]=p[e.id]||{},r.forEach(e.samples,function(t){o[e.id]&&o[e.id][t]&&(l[e.id][t]=t),a[e.id]&&a[e.id][t]&&(c[e.id][t]=t),i[e.id]&&i[e.id][t]&&(s[e.id][t]=t),u[e.id]&&u[e.id][t]&&(p[e.id][t]=t)}))})}),{w_mut:r.reduce(l,function(e,t){return e+Object.keys(t).length},0),w_cna:r.reduce(c,function(e,t){return e+Object.keys(t).length},0),w_mut_cna:r.reduce(s,function(e,t){return e+Object.keys(t).length},0),all:r.reduce(p,function(e,t){return e+Object.keys(t).length},0)}}var M=n(505);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function L(e){return e}function j(e,t){return t}function F(e){return x(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:e}});case 2:return n=t.sent,a=r.groupBy(n,function(e){return e.studyId}),t.abrupt("return",e.map(function(e){return{data:[a[e]||[]],meta:e}}));case 5:case"end":return t.stop()}},t)}))}var B=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,D(t).call(this,L,j,F))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,M["a"]),t}(),H=n(506),K=n(110);function V(e){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;r.has(l,"genesets")&&l.genesets.forEach(function(e){return t.push(e)})}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return t}var q=n(532);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};var Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Q(this,z(t).call(this,function(e){return{invoke:function(){return function(e){return Y(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getAllSampleListsInStudyUsingGET({studyId:e,projection:"DETAILED"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}(e)}}},function(e){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,q["a"]),t}();var J=n(5),X=n(111);function $(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return ae}),n.d(t,"e",function(){return ue}),n.d(t,"b",function(){return le}),n.d(t,"c",function(){return se}),n.d(t,"d",function(){return pe});var re=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ne(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},oe=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},ae="-1";function ie(e){return Number.isInteger(Number(e))}function ue(e){return e.trim().replace(/^\s+|\s+$/g,"").replace(/[ \+]+/g," ").toUpperCase()}var le,ce=["searchText","selectableSelectedStudyIds","dataTypePriority","selectedProfileIds","zScoreThreshold","rppaScoreThreshold","selectedSampleListId","caseIds","caseIdsMode","geneQuery","genesetQuery"];!function(e){e[e.Unfocused=0]="Unfocused",e[e.ShouldFocus=1]="ShouldFocus",e[e.Focused=2]="Focused"}(le||(le={}));var se=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.studiesHaveChangedSinceInitialization=!1,this.deletedVirtualStudies=[],this.forDownloadTab=!1,this.transposeDataMatrix=!1,this.searchText="",this._allSelectedStudyIds=a.observable.map(),this._defaultSelectedIds=a.observable.map(),this.dataTypePriority={mutation:!0,cna:!0},this._selectedProfileIds=void 0,this.zScoreThreshold="2.0",this.rppaScoreThreshold="2.0",this._selectedSampleListId=void 0,this.caseIds="",this._defaultStudySampleMap={},this._caseIdsMode="sample",this._geneQuery="",this.rawGenesetQuery="",this.geneQueryErrorDisplayStatus=le.Unfocused,this.genesetQueryErrorDisplayStatus=le.Unfocused,this.showMutSigPopup=!1,this.showGisticPopup=!1,this.showGenesetsHierarchyPopup=!1,this.showGenesetsVolcanoPopup=!1,this.priorityStudies=b.a.parseConfigFormat(b.b.serverConfig.priority_studies),this.showSelectedStudiesOnly=!1,this.selectedCancerTypeIds=[],this.clickAgainToDeselectSingle=!0,this.searchExampleMessage="",this.volcanoPlotSelectedPercentile={label:"75%",value:"75"},this._maxTreeDepth=parseInt(b.b.serverConfig.skin_query_max_tree_depth,10),this.cancerTypes=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.getAllCancerTypesUsingGET({}).then(function(e){return e.filter(function(e){return"null"!==e.parent})}));case 1:case"end":return e.stop()}},e)}))}},[]),this.cancerStudies=Object(d.b)(o.a.getAllStudiesUsingGET({projection:"SUMMARY"}),[]),this.cancerStudyIdsSet=Object(d.b)({await:function(){return[n.cancerStudies]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A.e)(this.cancerStudies.result.map(function(e){return e.studyId})));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.physicalStudiesIdsSet=Object(d.b)({await:function(){return[n.cancerStudies]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cancerStudies.result.reduce(function(e,t){return e[t.studyId]=[t.studyId],e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.virtualStudiesIdsSet=Object(d.b)({await:function(){return[n.userVirtualStudies]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.userVirtualStudies.result.reduce(function(e,t){return e[t.id]=[t.id],e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.sharedQueriedStudiesSet=Object(d.b)({await:function(){return[n.physicalStudiesIdsSet,n.virtualStudiesIdsSet]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesIdsSet.result,n=this.virtualStudiesIdsSet.result,o=Object.assign({},t,n),a=this._defaultSelectedIds.keys().filter(function(e){return!o[e]}),i={},e.next=7,Promise.all(a.map(function(e){return new Promise(function(n,o){K.a.getVirtualStudy(e).then(function(o){var a=o.data.studies.map(function(e){return e.id}),u=a.filter(function(e){return!t[e]});r.isEmpty(u)&&(i[e]=a),n()}).catch(function(){n()})})}));case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}))},default:{}}),this.physicalStudiesSet=Object(d.b)({await:function(){return[n.cancerStudies]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cancerStudies.result.reduce(function(e,t){return e[t.studyId]=t,e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.userVirtualStudies=Object(d.b)(function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.a.sessionServiceIsEnabled()||!this.userLoggedIn){e.next=13;break}return e.prev=1,e.next=4,K.a.getUserVirtualStudies();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:e.next=14;break;case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}},e,this,[[1,8]])}))},[]),this.userVirtualStudiesSet=Object(d.b)({await:function(){return[n.userVirtualStudies]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.userVirtualStudies.result.reduce(function(e,t){return e[t.id]=t,e},{}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.sharedVirtualStudiesSet=Object(d.b)({await:function(){return[n.physicalStudiesSet,n.userVirtualStudiesSet]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesSet.result,n=this.userVirtualStudiesSet.result,o=Object.assign([],Object.keys(t),Object.keys(n)),a=this._defaultSelectedIds.keys().filter(function(e){return!r.includes(o,e)}),i={},e.next=7,Promise.all(a.map(function(e){return new Promise(function(n,r){K.a.getVirtualStudy(e).then(function(r){0===r.data.studies.map(function(e){return e.id}).filter(function(e){return!t[e]}).length&&(i[e]=r),n()}).catch(function(){n()})})}));case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)}))},default:{}}),this.selectedStudyToSampleSet=Object(d.b)({await:function(){return[n.userVirtualStudiesSet,n.sharedVirtualStudiesSet]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},n=r.filter(this.allSelectedStudyIds,function(e){return i.physicalStudiesSet.result[e]}),this._allSelectedStudyIds.keys().length===n.length){e.next=9;break}return e.next=5,Promise.all(r.map(n,function(e){return o.a.getAllSamplesInStudyUsingGET({studyId:e}).then(function(n){t[e]=Object(A.e)(n.map(function(e){return e.sampleId}))})}));case 5:a=Object.assign({},this.userVirtualStudiesSet.result,this.sharedVirtualStudiesSet.result),this._allSelectedStudyIds.keys().forEach(function(e){a[e]&&a[e].data.studies.forEach(function(e){void 0===t[e.id]&&(t[e.id]=Object(A.e)(e.samples))})}),e.next=10;break;case 9:n.forEach(function(e){t[e]={}});case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)}))},default:{}}),this.selectableStudiesSet=Object(d.b)({await:function(){return[n.physicalStudiesSet,n.selectedStudyToSampleSet]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},r.each(this.physicalStudiesSet.result,function(e,n){t[n]=[n]}),r.each(this.userVirtualStudiesSet.result,function(e,n){t[n]=[n]}),r.each(this.sharedVirtualStudiesSet.result,function(e,n){t[n]=e.data.studies.map(function(e){return e.id})}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))},default:{},onResult:function(){if(n.selectedSampleListId!==ae){var e=n.sharedVirtualStudiesSet.result,t=r.filter(n._allSelectedStudyIds.keys(),function(t){return void 0!==e[t]});if(r.isEmpty(t))n.caseIds="";else{var o=n._defaultStudySampleMap;(void 0===o||r.isEmpty(o))&&(o=r.reduce(n.selectedStudyToSampleSet.result,function(e,t,n){return e[n]=r.keys(t),e},{})),r.some(o,function(e){return e.length>0})&&n.setCaseIds(o)}}}}),this.unknownStudyIds=Object(d.b)({await:function(){return[n.selectableStudiesSet]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectableStudiesSet.result,n=this._allSelectedStudyIds.keys(),e.abrupt("return",n.filter(function(e){return!(e in t)}));case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.molecularProfiles=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.physicalStudyIdsInSelection.length){e.next=6;break}return e.next=3,o.a.getAllMolecularProfilesInStudyUsingGET({studyId:this.physicalStudyIdsInSelection[0]});case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.profileIds&&!n.studiesHaveChangedSinceInitialization||(n._selectedProfileIds=void 0)}}),this.molecularProfilesInSelectedStudies=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.molecularProfilesInStudyCache.getPromise(this.physicalStudyIdsInSelection,!0);case 2:return t=e.sent,e.abrupt("return",r.flatten(t.map(function(e){return e.data?e.data:[]})));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.sampleListInSelectedStudies=Object(d.b)({await:function(){return n.physicalStudyIdsInSelection.map(function(e){return n.sampleListsInStudyCache.get(e)})},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reduce(this.physicalStudyIdsInSelection,function(e,n){var o=t.sampleListsInStudyCache.get(n).result;return r.isUndefined(o)||(e=e.concat(o)),e},[]));case 1:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n._selectedSampleListId=void 0)}}),this.profileAvailability=Object(d.b)({await:function(){return[n.molecularProfilesInSelectedStudies]},invoke:function(){return Promise.resolve(w(n.molecularProfilesInSelectedStudies.result))},default:{mutation:!1,cna:!1},onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n.dataTypePriority=w(n.molecularProfilesInSelectedStudies.result))}}),this.profiledSamplesCount=Object(d.b)({await:function(){return[n.sampleListInSelectedStudies]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(this.sampleListInSelectedStudies.result,this.selectableSelectedStudyIds,this.selectedVirtualStudies));case 1:case"end":return e.stop()}},e,this)}))},default:{w_mut:0,w_cna:0,w_mut_cna:0,all:0}}),this.sampleLists=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return this.sampleListsInStudyCache.get(this.selectableSelectedStudyIds[0]).result,e.next=5,this.sampleListsInStudyCache.get(this.selectableSelectedStudyIds[0]).result;case 5:return t=e.sent,e.abrupt("return",r.sortBy(t,function(e){return e.name}));case 7:case"end":return e.stop()}},e,this)}))},default:[],onResult:function(){n.initiallySelected.sampleListId&&!n.studiesHaveChangedSinceInitialization||(n._selectedSampleListId=void 0)}}),this.mutSigForSingleStudy=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,m.a.getSignificantlyMutatedGenesUsingGET({studyId:this.selectableSelectedStudyIds[0]});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.gisticForSingleStudy=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSingleNonVirtualStudySelected){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,m.a.getSignificantCopyNumberRegionsUsingGET({studyId:this.selectableSelectedStudyIds[0]});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))},default:[]}),this.genes=Object(d.b)({invoke:function(){return n.invokeGenesLater(n.geneIds)},default:{found:[],suggestions:[]}}),this.genesets=Object(d.b)({invoke:function(){return n.invokeGenesetsLater(n.genesetIds)},default:{found:[],invalid:[]}}),this.invokeGenesLater=Object(f.debounceAsync)(function(e){return oe(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,i,u,l,c,s,p,d,f,m=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.partition(r.uniq(e),ie),a=ee(n,2),i=a[0],u=a[1],l=function(){return oe(m,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.length){e.next=6;break}return e.next=3,o.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:i});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=r.difference(i,t.map(function(e){return e.entrezGeneId+""})),a=n.map(function(e){return{alias:e,genes:[]}}),u=t.map(function(e){return{alias:e.entrezGeneId+"",genes:[e]}}),l=[].concat($(a),$(u)),e.abrupt("return",{found:t,suggestions:l});case 12:case"end":return e.stop()}},e)}))},c=function(){return oe(m,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.length){e.next=6;break}return e.next=3,o.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:u});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=r.difference(u,t.map(function(e){return e.hugoGeneSymbol})),e.next=10,Promise.all(n.map(function(e){return i.getGeneSuggestions(e)}));case 10:return a=e.sent,e.abrupt("return",{found:t,suggestions:a});case 12:case"end":return e.stop()}},e)}))},t.next=5,Promise.all([l(),c()]);case 5:return s=t.sent,p=ee(s,2),d=p[0],f=p[1],t.abrupt("return",{found:[].concat($(d.found),$(f.found)),suggestions:[].concat($(d.suggestions),$(f.suggestions))});case 10:case"end":return t.stop()}},t)}))},500),this.invokeGenesetsLater=Object(f.debounceAsync)(function(e){return oe(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=8;break}return t.next=3,m.a.fetchGenesetsUsingPOST({genesetIds:e});case 3:return n=t.sent,o=r.difference(e,n.map(function(e){return e.genesetId})),t.abrupt("return",{found:n,invalid:o});case 8:return t.abrupt("return",Promise.resolve({found:[],invalid:[]}));case 9:case"end":return t.stop()}},t)}))},500),this.asyncCustomCaseSet=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.selectedSampleListId===ae&&0!==this.caseIds.trim().length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",this.invokeCustomCaseSetLater({isVirtualStudySelected:this.isVirtualStudySelected,caseIds:this.caseIds,caseIdsMode:this.caseIdsMode}));case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.invokeCustomCaseSetLater=Object(f.debounceAsync)(function(e){return oe(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,i,u,l,c,s,p,d,f,m,h,y,g,b,v,S,T,C,I,E,k,_,w,O,M,R=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",this.isSingleNonVirtualStudySelected&&(n=this.selectableSelectedStudyIds[0]),a=e.caseIds.trim().split(/\s+/g),i=Object(A.e)(this.physicalStudyIdsInSelection),u=a.map(function(e){var t=e.split(":");if(1===t.length){if(n)return{id:e,study:n};throw new Error("No study specified for ".concat(R.caseIdsMode," id: ").concat(e,", and more than one study selected for query."))}if(2===t.length){var r=t[0],o=t[1];if(!i[r]){var a="";throw R.isVirtualStudySelected&&(a=", nor part of a selected Saved Study"),new Error("Study ".concat(r," is not selected").concat(a,"."))}return{id:o,study:r}}throw new Error("Input error for entity: ".concat(e,"."))}),l=Object(A.c)(u.map(function(e){return"".concat(e.study,":").concat(e.id)})),c=[],s={},p=[],"sample"!==e.caseIdsMode){t.next=37;break}if(!(d=u.map(function(e){return{studyId:e.study,sampleId:e.id}})).length){t.next=35;break}return t.next=14,P(d,function(e){return o.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:e},projection:"SUMMARY"})},990);case 14:for(f=t.sent,f=r.sortBy(f,function(e){return l["".concat(e.studyId,":").concat(e.sampleId)]}),m=!0,h=!1,y=void 0,t.prev=19,g=f[Symbol.iterator]();!(m=(b=g.next()).done);m=!0)v=b.value,c.push({studyId:v.studyId,sampleId:v.sampleId}),s["".concat(v.studyId,":").concat(v.sampleId)]=!0;t.next=27;break;case 23:t.prev=23,t.t0=t.catch(19),h=!0,y=t.t0;case 27:t.prev=27,t.prev=28,m||null==g.return||g.return();case 30:if(t.prev=30,!h){t.next=33;break}throw y;case 33:return t.finish(30);case 34:return t.finish(27);case 35:t.next=61;break;case 37:return S=u.map(function(e){return R.getSamplesForStudyAndPatient(e.study,e.id)}),t.next=40,Promise.all(S);case 40:for(T=t.sent,T=r.sortBy(T,function(e){return l["".concat(e.studyId,":").concat(e.patientId)]}),C=!0,I=!1,E=void 0,t.prev=45,k=T[Symbol.iterator]();!(C=(_=k.next()).done);C=!0)w=_.value,w.studyId,w.patientId,O=w.samples,!w.error&&O.length&&(c=c.concat(O.map(function(e){return s["".concat(e.studyId,":").concat(e.patientId)]=!0,{studyId:e.studyId,sampleId:e.sampleId}})));t.next=53;break;case 49:t.prev=49,t.t1=t.catch(45),I=!0,E=t.t1;case 53:t.prev=53,t.prev=54,C||null==k.return||k.return();case 56:if(t.prev=56,!I){t.next=59;break}throw E;case 59:return t.finish(56);case 60:return t.finish(53);case 61:if(p=p.concat(u.filter(function(e){return!s["".concat(e.study,":").concat(e.id)]})),M=this.selectedStudyToSampleSet.result,c.forEach(function(e){M[e.studyId]&&!r.isEmpty(M[e.studyId])&&(M[e.studyId][e.sampleId]||p.push({id:e.sampleId,study:e.studyId}))}),!p.length){t.next=70;break}if(!this.isSingleNonVirtualStudySelected){t.next=69;break}throw new Error("Invalid ".concat(e.caseIdsMode).concat(p.length>1?"s":""," for the selected cancer study: ").concat(p.map(function(e){return e.id}).join(", ")));case 69:throw new Error("Invalid (study, ".concat(e.caseIdsMode,") pair").concat(p.length>1?"s":"",": ").concat(p.map(function(e){return"(".concat(e.study,", ").concat(e.id,")")}).join(", "),"\n\t\t\t\t\t\t"));case 70:return t.abrupt("return",c);case 71:case"end":return t.stop()}},t,this,[[19,23,27,35],[28,,30,34],[45,49,53,61],[54,,56,60]])}))},500),this.studyListLogic=new I.b(this),this.hierarchyData=Object(d.b)({invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.O)(this.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId,Number(this.volcanoPlotSelectedPercentile.value),0,1,this.defaultSelectedSampleListId);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}))}}),this.volcanoPlotTableData=Object(d.b)({await:function(){return[n.hierarchyData]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V(this.hierarchyData.result));case 1:case"end":return e.stop()}},e,this)}))}}),this.map_genesets_selected_volcano=new a.ObservableMap,this.dict_molecularAlterationType_filenameSuffix={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"cna",MRNA_EXPRESSION:"mrna",METHYLATION:"methylation",METHYLATION_BINARY:"methylation",PROTEIN_LEVEL:"rppa"},this.asyncUrlParams=Object(d.b)({await:function(){return[n.asyncCustomCaseSet]},invoke:function(){return oe(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_(this));case 1:case"end":return e.stop()}},e,this)}))}}),this.initiallySelected={profileIds:!1,sampleListId:!1},this.initialize(t)}var t,n,i;return t=e,(n=[{key:"initialize",value:function(e){var t=this;Object(f.labelMobxPromises)(this),e&&this.setParamsFromUrl(e);var n=localStorage.getItem("legacyStudySubmission");if(localStorage.removeItem("legacyStudySubmission"),n)try{this.setParamsFromLocalStorage(JSON.parse(n))}catch(e){throw"error parseing/setting legacyStudySubmission"}Object(a.reaction)(function(){return t.allSelectedStudyIds},function(){t.studiesHaveChangedSinceInitialization=!0})}},{key:"deleteVirtualStudy",value:function(e){var t=this;K.a.deleteVirtualStudy(e).then(Object(a.action)(function(){t.deletedVirtualStudies.push(e),-1!==t.selectableSelectedStudyIds.indexOf(e)&&(t.selectableSelectedStudyIds=r.difference(t.selectableSelectedStudyIds,[e]))}),Object(a.action)(function(e){}))}},{key:"restoreVirtualStudy",value:function(e){var t=this;K.a.addVirtualStudy(e).then(Object(a.action)(function(){t.deletedVirtualStudies=t.deletedVirtualStudies.filter(function(t){return t!==e})}),Object(a.action)(function(e){}))}},{key:"copyFrom",value:function(e){this.forDownloadTab=!1;for(var t=0,n=ce;t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:"setStudyIdSelected",value:function(e,t){if(this.forDownloadTab){var n={};t&&(n[e]=t),this._allSelectedStudyIds=a.observable.map(n)}else t?this._allSelectedStudyIds.set(e,!0):this._allSelectedStudyIds.delete(e)}},{key:"setCaseIds",value:function(e){this.selectedSampleListId=ae,this.caseIdsMode="sample",this.caseIds=r.flatten(Object.keys(e).map(function(t){return e[t].map(function(e){return"".concat(t,":").concat(e)})})).join("\n")}},{key:"getGeneSuggestions",value:function(e){return oe(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,o.a.getAllGenesUsingGET({alias:e});case 3:return t.t1=t.sent,t.abrupt("return",{alias:t.t0,genes:t.t1});case 5:case"end":return t.stop()}},t)}))}},{key:"getSamplesForStudyAndPatient",value:function(e,t){return o.a.getAllSamplesOfPatientInStudyUsingGET({studyId:e,patientId:t}).then(function(n){return{studyId:e,patientId:t,samples:n,error:void 0}},function(n){return{studyId:e,patientId:t,samples:[],error:n}})}},{key:"isVirtualStudy",value:function(e){return!this.cancerStudyIdsSet.result[e]}},{key:"isDeletedVirtualStudy",value:function(e){return!!(this.isVirtualStudy(e)&&this.deletedVirtualStudies.indexOf(e)>-1)}},{key:"isSingleStudySelected",value:function(e){if(1!==this.selectableSelectedStudyIds.length)return!1;var t=this.selectableSelectedStudyIds[0];return this.isVirtualStudy(t)===e}},{key:"calculateDataTypePriorityCode",value:function(e){var t=e.mutation,n=e.cna;return t&&n?"0":t?"1":n?"2":"0"}},{key:"getFilteredProfiles",value:function(e){var t=this;return this.molecularProfiles.result.filter(function(n){return n.molecularAlterationType==e&&(n.showProfileInAnalysisTab||t.forDownloadTab)})}},{key:"isProfileSelected",value:function(e){return r.includes(this.selectedProfileIds,e)}},{key:"getSelectedProfileIdFromMolecularAlterationType",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=(t||this.selectedProfileIds)[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=this.dict_molecularProfileId_molecularProfile[u];if(l&&l.molecularAlterationType===e)return l.molecularProfileId}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return""}},{key:"sanitizeQueryParams",value:function(e){return e?decodeURIComponent(e).replace(/\+/g,"\n"):""}},{key:"setParamsFromUrl",value:function(e){var t;"string"==typeof e?t=T.a.parse(e,!0).query:t=e;var n=[t.genetic_profile_ids_PROFILE_MUTATION_EXTENDED,t.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION,t.genetic_profile_ids_PROFILE_MRNA_EXPRESSION,t.genetic_profile_ids_PROFILE_METHYLATION,t.genetic_profile_ids_PROFILE_PROTEIN_EXPRESSION,t.genetic_profile_ids_PROFILE_GENESET_SCORE,t.genetic_profile_ids_PROFILE_GENERIC_ASSAY],o=t.cancer_study_list?t.cancer_study_list.split(","):t.cancer_study_id?[t.cancer_study_id]:[];this.selectableSelectedStudyIds=o,this._defaultSelectedIds=a.observable.map(Object(A.e)(o)),this._selectedProfileIds=n.every(function(e){return void 0===e})?void 0:n.filter(r.identity),this.zScoreThreshold=t.Z_SCORE_THRESHOLD||"2.0",this.rppaScoreThreshold=t.RPPA_SCORE_THRESHOLD||"2.0",this.dataTypePriorityCode=t.data_priority||"0",this.selectedSampleListId=t.case_set_id?t.case_set_id.toString():"",this.caseIds=this.sanitizeQueryParams(t.case_ids),this.caseIdsMode="sample",this.geneQuery=ue(decodeURIComponent(t.gene_list||"")),this.genesetQuery=ue(decodeURIComponent(t[X.a.GENESET_LIST]||"")),this.forDownloadTab="tab_download"===t.tab_index,this.initiallySelected.profileIds=!0,this.initiallySelected.sampleListId=!0}},{key:"setParamsFromLocalStorage",value:function(e){var t=e.case_ids;if(t&&e.case_set_id==ae&&(this.selectedSampleListId=ae,this.caseIdsMode="sample",this.caseIds=t.replace(/\+/g,"\n"),this.initiallySelected.sampleListId=!0),e.cancer_study_list){var n=!0,r=!1,o=void 0;try{for(var a,i=e.cancer_study_list.split(",")[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;"null"!==u&&(this.setStudyIdSelected(u,!0),this._defaultSelectedIds.set(u,!0))}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}}},{key:"selectCancerType",value:function(e,t){var n=e.cancerTypeId;t?r.includes(this.selectedCancerTypeIds,n)?this.selectedCancerTypeIds=r.difference(this.selectedCancerTypeIds,[n]):this.selectedCancerTypeIds=r.union(this.selectedCancerTypeIds,[n]):this.clickAgainToDeselectSingle&&r.isEqual(Object(a.toJS)(this.selectedCancerTypeIds),[n])?this.selectedCancerTypeIds=[]:this.selectedCancerTypeIds=[n]}},{key:"setSearchText",value:function(e){this.clearSelectedCancerType(),this.searchText=e}},{key:"clearSelectedCancerType",value:function(){this.selectedCancerTypeIds=[]}},{key:"selectMolecularProfile",value:function(e,t){var n=this.getFilteredProfiles(e.molecularAlterationType).map(function(e){return e.molecularProfileId});if(this.forDownloadTab)this._selectedProfileIds=[e.molecularProfileId];else{var o=r.difference(this.selectedProfileIds,n);this._selectedProfileIds=t?r.union(o,[e.molecularProfileId]):o}}},{key:"replaceGene",value:function(e,t){this.geneQuery=ue(this.geneQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}))}},{key:"replaceGeneset",value:function(e,t){this.genesetQuery=ue(this.genesetQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}))}},{key:"applyGeneSelection",value:function(e){var t=ee(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=t[1];n=r.difference(n,this.geneIds),o=r.intersection(o,this.geneIds);var a=!0,i=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var s=l.value;this.replaceGene(s,"")}}catch(e){i=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw u}}this.geneQuery=ue([this.geneQuery].concat($(n)).join(" "))}},{key:"addToGenesetSelection",value:function(e){var t=ee(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=(t[1],r.union(n,this.genesetIds).join(" "));this.genesetQuery=ue(o)}},{key:"applyGenesetSelection",value:function(e){var t=ee(r.partition(e.keys(),function(t){return e.get(t)}),2),n=t[0],o=t[1],a=this.genesetQuery;if(n.length>0){var i=[],u=!0,l=!1,c=void 0;try{for(var s,p=n[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var d=s.value;i.push(d)}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}a=i.join(" ")}if(o.length>0){var f=a.split(" "),m=!0,h=!1,y=void 0;try{for(var g,b=o[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var v=g.value,S=!0,T=!1,C=void 0;try{for(var I,A=f[Symbol.iterator]();!(S=(I=A.next()).done);S=!0){var E=I.value;if(v===E){var P=f.indexOf(E);P>=0&&f.splice(P,1)}}}catch(e){T=!0,C=e}finally{try{S||null==A.return||A.return()}finally{if(T)throw C}}}}catch(e){h=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(h)throw y}}a=f.join(" ")}a=ue(a),this.genesetQuery=a}},{key:"submit",value:function(){if(this.oql.error)return this.geneQueryErrorDisplayStatus=le.ShouldFocus,this.genesetQueryErrorDisplayStatus=le.ShouldFocus,!1;if(!this.submitEnabled||!this.asyncUrlParams.isComplete)return!1;var e=this.asyncUrlParams.result;return this.forDownloadTab?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post",o=document.createElement("form"),a=r;"smart"===r&&(a=Object(C.b)(e,t).length>1800?"post":"get"),o.setAttribute("method",a),o.setAttribute("action",e),n&&o.setAttribute("target",n);for(var i=0,u=Object.keys(t);i<u.length;i++){var l=u[i],c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",l),c.setAttribute("value",t[l]),o.appendChild(c)}document.body.appendChild(o),o.submit()}(Object(C.b)("data_download"),e.query,void 0,"smart"):this.singlePageAppSubmitRoutine(e.query),!0}},{key:"openSummary",value:function(){this.summaryEnabled&&Object(C.B)(this.selectableSelectedStudyIds)}},{key:"virtualStudiesMap",get:function(){return r.keyBy(this.userVirtualStudies.result,function(e){return e.id})}},{key:"selectedVirtualStudies",get:function(){var e=this;return r.reduce(this.selectableSelectedStudies,function(t,n){return e.isVirtualStudy(n.studyId)&&void 0!==e.virtualStudiesMap&&e.virtualStudiesMap[n.studyId]&&t.push(e.virtualStudiesMap[n.studyId]),t},[])}},{key:"physicalStudyIdsInSelection",get:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=this.selectableSelectedStudyIds[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,u=this.virtualStudiesMap[i];u?u.data.studies.forEach(function(t){return e[t.id]=!0}):e[i]=!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Object.keys(e)}},{key:"stateToSerialize",get:function(){return r.pick(this,ce)}},{key:"onlyOneReferenceGenome",get:function(){return 1===r.uniq(this.selectableSelectedStudies.map(function(e){return e.referenceGenome})).length}},{key:"allSelectedStudyIds",get:function(){return this._allSelectedStudyIds.keys()}},{key:"selectableSelectedStudyIds",get:function(){var e=this._allSelectedStudyIds.keys(),t=this.selectableStudiesSet.result;return e=e.reduce(function(e,n){return t[n]?e.concat(t[n]):e},[]),e=r.uniq(e),this.forDownloadTab?e.slice(-1):e},set:function(e){this._allSelectedStudyIds=a.observable.map(Object(A.e)(e))}},{key:"defaultSelectedIds",get:function(){return this._defaultSelectedIds}},{key:"selectedProfileIds",get:function(){var e,t=this;if(void 0!==this._selectedProfileIds)e=this._selectedProfileIds;else{e=[];for(var n=0,r=["MUTATION_EXTENDED","COPY_NUMBER_ALTERATION"];n<r.length;n++){var o=r[n],a=this.getFilteredProfiles(o);a.length&&e.push(a[0].molecularProfileId)}}return this.forDownloadTab?e.slice(0,1):e.filter(function(e){var n=t.dict_molecularProfileId_molecularProfile[e];return n&&n.showProfileInAnalysisTab})},set:function(e){this._selectedProfileIds=e}},{key:"selectedSampleListId",get:function(){return void 0!==this._selectedSampleListId?this._selectedSampleListId:this.defaultSelectedSampleListId},set:function(e){this._selectedSampleListId=e}},{key:"caseIdsMode",get:function(){return this.selectedSampleListId===ae?this._caseIdsMode:"sample"},set:function(e){this._caseIdsMode=e}},{key:"geneQuery",get:function(){return this._geneQuery},set:function(e){this.geneQueryErrorDisplayStatus=le.Unfocused,this._geneQuery=e}},{key:"genesetQuery",get:function(){return this.rawGenesetQuery.toUpperCase()},set:function(e){this.genesetQueryErrorDisplayStatus=le.Unfocused,this.rawGenesetQuery=e}},{key:"maxTreeDepth",get:function(){return this.forDownloadTab&&this._maxTreeDepth>0?1:this._maxTreeDepth},set:function(e){this._maxTreeDepth=e}},{key:"userLoggedIn",get:function(){return Object(J.a)().globalStores.appStore.isLoggedIn}},{key:"treeData",get:function(){return new p({cancerTypes:this.cancerTypes.result,studies:this.cancerStudies.result,priorityStudies:this.priorityStudies,virtualStudies:this.forDownloadTab?[]:this.userVirtualStudies.result,maxTreeDepth:this.maxTreeDepth})}},{key:"selectedCancerTypes",get:function(){var e=this;return this.selectedCancerTypeIds.map(function(t){return e.treeData.map_cancerTypeId_cancerType.get(t)}).filter(r.identity)}},{key:"selectableSelectedStudies",get:function(){var e=this;return this.selectableSelectedStudyIds.map(function(t){return e.treeData.map_studyId_cancerStudy.get(t)}).filter(r.identity)}},{key:"isSingleVirtualStudySelected",get:function(){return this.isSingleStudySelected(!0)}},{key:"isSingleNonVirtualStudySelected",get:function(){return this.isSingleStudySelected(!1)}},{key:"isMultipleNonVirtualStudiesSelected",get:function(){var e=this;return this.selectableSelectedStudyIds.filter(function(t){return!e.isVirtualStudy(t)}).length>1}},{key:"getOverlappingStudiesMap",get:function(){var e,t,n=(e=this.selectableSelectedStudies,t=r.reduce(e,function(e,t){if(/_tcga/.test(t.studyId)){var n=t.studyId.replace(/(_\d\d\d\d|_pub|(_pub\d\d\d\d)|_pan_can_atlas_\d\d\d\d)$/g,"");n&&(n in e?e[n].push(t):e[n]=[t])}return e},{}),r.filter(t,function(e){return e.length>1}));return r.chain(n).flatten().keyBy(function(e){return e.studyId}).value()}},{key:"isVirtualStudySelected",get:function(){var e=!1,t=!0,n=!1,r=void 0;try{for(var o,a=this.selectableSelectedStudyIds[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(this.virtualStudiesMap[i]){e=!0;break}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"isVirtualStudyQuery",get:function(){return 0!==this.selectableSelectedStudyIds.length&&(this.selectableSelectedStudyIds.length>1||this.isSingleVirtualStudySelected)}},{key:"dataTypePriorityCode",set:function(e){switch(e){default:case"0":this.dataTypePriority={mutation:!0,cna:!0};break;case"1":this.dataTypePriority={mutation:!0,cna:!1};break;case"2":this.dataTypePriority={mutation:!1,cna:!0}}},get:function(){return this.calculateDataTypePriorityCode(this.dataTypePriority)}},{key:"dict_molecularProfileId_molecularProfile",get:function(){return r.keyBy(this.molecularProfiles.result,function(e){return e.molecularProfileId})}},{key:"isGenesetProfileSelected",get:function(){var e=!1;if(this.getFilteredProfiles("GENESET_SCORE")[0])for(var t in this.selectedProfileIds)this.selectedProfileIds[t]===this.getFilteredProfiles("GENESET_SCORE")[0].molecularProfileId&&(e=!0);return e}},{key:"defaultSelectedSampleListId",get:function(){if(this.isVirtualStudyQuery)return"all";if(1===this.selectableSelectedStudyIds.length){var e=this.selectableSelectedStudyIds[0],t=this.getSelectedProfileIdFromMolecularAlterationType("MUTATION_EXTENDED"),n=this.getSelectedProfileIdFromMolecularAlterationType("COPY_NUMBER_ALTERATION"),r=this.getSelectedProfileIdFromMolecularAlterationType("MRNA_EXPRESSION"),o=this.getSelectedProfileIdFromMolecularAlterationType("PROTEIN_LEVEL"),a=e+"_all";return t&&n&&!r&&!o?a=e+"_cnaseq":!t||n||r||o?t||!n||r||o?t||n||!r||o?(t||n)&&r&&!o?a=e+"_3way_complete":t||n||r||!o||(a=e+"_rppa"):this.isProfileSelected(e+"_mrna_median_Zscores")?a=e+"_mrna":this.isProfileSelected(e+"_rna_seq_mrna_median_Zscores")?a=e+"_rna_seq_mrna":this.isProfileSelected(e+"_rna_seq_v2_mrna_median_Zscores")&&(a=e+"_rna_seq_v2_mrna"):a=e+"_cna":a=e+"_sequenced",this.dict_sampleListId_sampleList[a]||(a===e+"_cnaseq"?a=e+"_cna_seq":a===e+"_3way_complete"&&(a=e+"_complete")),this.dict_sampleListId_sampleList[a]||(a=e+"_all"),a}}},{key:"dict_sampleListId_sampleList",get:function(){return r.keyBy(this.sampleLists.result,function(e){return e.sampleListId})}},{key:"oql",get:function(){try{return{query:this.geneQuery?Object(h.g)(this.geneQuery.trim().toUpperCase()):[],error:void 0}}catch(o){if("SyntaxError"!==o.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(o)}};var e,t,n,r=o.location.start.offset;return r===this.geneQuery.length?(e="after",t=r-1,n=r):0===r?(e="before",t=r,n=r+1):(e="at",t=r,n=r+1),{query:[],error:{start:t,end:n,message:"OQL syntax error ".concat(e," selected character; please fix and submit again.")}}}}},{key:"geneIds",get:function(){try{return this.oql.query.map(function(e){return e.gene})}catch(e){return[]}}},{key:"genesetIdsQuery",get:function(){try{return{query:this.genesetQuery?this.genesetQuery.split(/[ \n]+/):[],error:void 0}}catch(o){if("SyntaxError"!==o.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(o)}};var e,t,n,r=o.location.start.offset;return r===this.geneQuery.length?(e="after",t=r-1,n=r):0===r?(e="before",t=r,n=r+1):(e="at",t=r,n=r+1),{query:[],error:{start:t,end:n,message:"OQL syntax error ".concat(e," selected character; please fix and submit again.")}}}}},{key:"genesetIds",get:function(){return this.genesetIdsQuery.query}},{key:"minYVolcanoPlot",get:function(){return this.volcanoPlotTableData.result&&(e=this.volcanoPlotTableData.result).length>0?r.minBy(e,function(e){return e.representativePvalue}).representativePvalue:void 0;var e}},{key:"volcanoPlotGraphData",get:function(){return this.volcanoPlotTableData.result?(e=this.volcanoPlotTableData.result,t=this.map_genesets_selected_volcano,e.length>0?e.map(function(e){var n=e.representativeScore,r=e.representativePvalue,o=e.name;return{x:n,y:-Math.log(r)/Math.log(10),fill:t.get(o)?"tomato":"3786C2"}}):void 0):void 0;var e,t}},{key:"submitEnabled",get:function(){return!this.submitError&&(this.genes.isComplete||this.genesets.isComplete)&&this.asyncUrlParams.isComplete||!!this.oql.error||!!this.genesetIdsQuery.error}},{key:"summaryEnabled",get:function(){return this.selectableSelectedStudyIds.length>0}},{key:"hasSelectedStudies",get:function(){return this.selectableSelectedStudyIds.length>0}},{key:"oqlMessages",get:function(){return r.flatten(this.oql.query.map(function(e){return(e.alterations||[]).filter(function(e){return"mut"===e.alteration_type&&e.info.unrecognized})})).map(function(e){return'Unrecognized input "'.concat(e.constr_val,'" is interpreted as a mutation code.')})}},{key:"isQueryLimitReached",get:function(){return this.oql.query.length*this.profiledSamplesCount.result.all>b.b.serverConfig.query_product_limit}},{key:"geneLimit",get:function(){return Math.floor(b.b.serverConfig.query_product_limit/this.profiledSamplesCount.result.all)}},{key:"submitError",get:function(){var e=!1,t=!1,n=!1,r=!1,o=!0,a=!1,i=void 0;try{for(var u,l=this.oql.query[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,s=!0,p=!1,d=void 0;try{for(var f,m=(c.alterations||[])[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var h=f.value;e=e||"mut"===h.alteration_type,t=t||"cna"===h.alteration_type,n=n||"exp"===h.alteration_type,r=r||"prot"===h.alteration_type}}catch(e){p=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(p)throw d}}}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}if(!this.selectableSelectedStudyIds.length)return"Please select one or more cancer studies.";if(this.isSingleNonVirtualStudySelected){if(!this.selectedProfileIds.length)return"Please select one or more molecular profiles.";var y=this.getSelectedProfileIdFromMolecularAlterationType(k.a.MUTATION_EXTENDED),g=this.getSelectedProfileIdFromMolecularAlterationType(k.a.COPY_NUMBER_ALTERATION),b=this.getSelectedProfileIdFromMolecularAlterationType(k.a.MRNA_EXPRESSION),v=this.getSelectedProfileIdFromMolecularAlterationType(k.a.PROTEIN_LEVEL);if(e&&!y)return"Mutation data query specified in OQL, but no mutation profile selected in `Select Genomic Profiles`";if(t&&!g)return"CNA data query specified in OQL, but not CNA profile selected in `Select Genomic Profiles`";if(n&&!b)return"mRNA expression data query specified in OQL, but no mRNA profile selected in `Select Genomic Profiles`";if(r&&!v)return"Protein level data query specified in OQL, but no protein level profile selected in `Select Genomic Profiles`"}else if(!this.dataTypePriority.mutation&&!this.dataTypePriority.cna)return"Please select one or more molecular profiles.";if(this.selectableSelectedStudyIds.length&&this.selectedSampleListId===ae){if(this.asyncCustomCaseSet.isComplete&&!this.asyncCustomCaseSet.result.length)return"Please enter at least one ID in your custom case set.";if(this.asyncCustomCaseSet.error)return"Error in custom case set."}else{if(n&&this.selectableSelectedStudyIds.length>1)return"Expression filtering in the gene list (the EXP command) is not supported when doing cross cancer queries.";if(r&&this.selectableSelectedStudyIds.length>1)return"Protein level filtering in the gene list (the PROT command) is not supported when doing cross cancer queries."}if(0!==this.selectedProfileIds.length){if(1===this.selectedProfileIds.length){if(this.isGenesetProfileSelected){if(!this.genesetQuery.length&&!this.oql.query.length)return"Please enter one or more gene symbols and gene sets.";if(!this.genesetQuery.length)return"Please enter one or more gene sets or deselect gene set profiles.";if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(this.isGenesetProfileSelected){if(!this.genesetQuery.length&&!this.oql.query.length)return"Please enter one or more gene symbols and gene sets.";if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols."}else if(!this.oql.query.length)return"Please enter one or more gene symbols.";return this.isQueryLimitReached?"Please limit your queries to ".concat(this.geneLimit," genes or fewer."):this.genes.result.suggestions.length?"Please edit the gene symbols.":void 0}},{key:"downloadDataFilename",get:function(){var e=1===this.selectableSelectedStudyIds.length&&this.treeData.map_studyId_cancerStudy.get(this.selectableSelectedStudyIds[0]),t=this.dict_molecularProfileId_molecularProfile[this.selectedProfileIds[0]];if(!this.forDownloadTab||!e||!t)return"cbioportal-data.txt";var n=this.dict_molecularAlterationType_filenameSuffix[t.molecularAlterationType]||t.molecularAlterationType.toLowerCase();return"cbioportal-".concat(e.studyId,"-").concat(n,".txt")}},{key:"molecularProfilesInStudyCache",get:function(){return new B}},{key:"sampleListsInStudyCache",get:function(){return new Z}}])&&te(t.prototype,n),i&&te(t,i),e}();re([a.observable],se.prototype,"studiesHaveChangedSinceInitialization",void 0),re([a.observable],se.prototype,"deletedVirtualStudies",void 0),re([a.computed],se.prototype,"virtualStudiesMap",null),re([a.computed],se.prototype,"selectedVirtualStudies",null),re([a.computed],se.prototype,"physicalStudyIdsInSelection",null),re([a.computed],se.prototype,"stateToSerialize",null),re([a.computed],se.prototype,"onlyOneReferenceGenome",null),re([a.observable],se.prototype,"forDownloadTab",void 0),re([a.observable],se.prototype,"transposeDataMatrix",void 0),re([a.observable],se.prototype,"searchText",void 0),re([a.observable],se.prototype,"_allSelectedStudyIds",void 0),re([a.computed],se.prototype,"allSelectedStudyIds",null),re([a.computed],se.prototype,"selectableSelectedStudyIds",null),re([a.action],se.prototype,"setStudyIdSelected",null),re([a.computed],se.prototype,"defaultSelectedIds",null),re([a.observable],se.prototype,"dataTypePriority",void 0),re([a.observable.ref],se.prototype,"_selectedProfileIds",void 0),re([a.computed],se.prototype,"selectedProfileIds",null),re([a.observable],se.prototype,"zScoreThreshold",void 0),re([a.observable],se.prototype,"rppaScoreThreshold",void 0),re([a.observable],se.prototype,"_selectedSampleListId",void 0),re([a.computed],se.prototype,"selectedSampleListId",null),re([a.observable],se.prototype,"caseIds",void 0),re([a.observable],se.prototype,"_defaultStudySampleMap",void 0),re([a.observable],se.prototype,"_caseIdsMode",void 0),re([a.computed],se.prototype,"caseIdsMode",null),re([a.observable],se.prototype,"_geneQuery",void 0),re([a.observable],se.prototype,"rawGenesetQuery",void 0),re([a.observable],se.prototype,"geneQueryErrorDisplayStatus",void 0),re([a.observable],se.prototype,"genesetQueryErrorDisplayStatus",void 0),re([a.observable],se.prototype,"showMutSigPopup",void 0),re([a.observable],se.prototype,"showGisticPopup",void 0),re([a.observable],se.prototype,"showGenesetsHierarchyPopup",void 0),re([a.observable],se.prototype,"showGenesetsVolcanoPopup",void 0),re([a.observable],se.prototype,"priorityStudies",void 0),re([a.observable],se.prototype,"showSelectedStudiesOnly",void 0),re([a.observable.shallow],se.prototype,"selectedCancerTypeIds",void 0),re([a.observable],se.prototype,"clickAgainToDeselectSingle",void 0),re([a.observable],se.prototype,"searchExampleMessage",void 0),re([a.observable],se.prototype,"volcanoPlotSelectedPercentile",void 0),re([a.observable],se.prototype,"_maxTreeDepth",void 0),re([a.computed],se.prototype,"maxTreeDepth",null),re([a.computed],se.prototype,"userLoggedIn",null),re([a.action],se.prototype,"setCaseIds",null),re([g.a],se.prototype,"getGeneSuggestions",null),re([g.a],se.prototype,"getSamplesForStudyAndPatient",null),re([f.cached],se.prototype,"treeData",null),re([a.computed],se.prototype,"selectedCancerTypes",null),re([a.computed],se.prototype,"selectableSelectedStudies",null),re([a.computed],se.prototype,"isSingleVirtualStudySelected",null),re([a.computed],se.prototype,"isSingleNonVirtualStudySelected",null),re([a.computed],se.prototype,"isMultipleNonVirtualStudiesSelected",null),re([a.computed],se.prototype,"getOverlappingStudiesMap",null),re([a.computed],se.prototype,"isVirtualStudySelected",null),re([a.computed],se.prototype,"isVirtualStudyQuery",null),re([a.computed],se.prototype,"dataTypePriorityCode",null),re([a.computed],se.prototype,"dict_molecularProfileId_molecularProfile",null),re([a.computed],se.prototype,"defaultSelectedSampleListId",null),re([a.computed],se.prototype,"dict_sampleListId_sampleList",null),re([a.computed],se.prototype,"oql",null),re([a.computed],se.prototype,"geneIds",null),re([a.computed],se.prototype,"genesetIdsQuery",null),re([a.computed],se.prototype,"genesetIds",null),re([a.computed],se.prototype,"minYVolcanoPlot",null),re([a.observable],se.prototype,"map_genesets_selected_volcano",void 0),re([a.computed],se.prototype,"volcanoPlotGraphData",null),re([a.computed],se.prototype,"submitEnabled",null),re([a.computed],se.prototype,"summaryEnabled",null),re([a.computed],se.prototype,"hasSelectedStudies",null),re([a.computed],se.prototype,"oqlMessages",null),re([a.computed],se.prototype,"isQueryLimitReached",null),re([a.computed],se.prototype,"geneLimit",null),re([a.computed],se.prototype,"submitError",null),re([a.computed],se.prototype,"downloadDataFilename",null),re([a.action],se.prototype,"setParamsFromUrl",null),re([a.action],se.prototype,"setParamsFromLocalStorage",null),re([a.action],se.prototype,"selectCancerType",null),re([a.action],se.prototype,"setSearchText",null),re([a.action],se.prototype,"clearSelectedCancerType",null),re([a.action],se.prototype,"selectMolecularProfile",null),re([a.action],se.prototype,"replaceGene",null),re([a.action],se.prototype,"replaceGeneset",null),re([a.action],se.prototype,"applyGeneSelection",null),re([a.action],se.prototype,"addToGenesetSelection",null),re([a.action],se.prototype,"applyGenesetSelection",null),re([a.action],se.prototype,"submit",null),re([a.action],se.prototype,"openSummary",null),re([f.cached],se.prototype,"molecularProfilesInStudyCache",null),re([f.cached],se.prototype,"sampleListsInStudyCache",null);var pe=Object(v.a)(se)},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c});var r=n(9),o=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],a={fontFamily:"Arial, Helvetica",width:350,height:350,padding:50},i={fontFamily:"Arial, Helvetica",fontSize:13,letterSpacing:"normal",padding:8,stroke:"transparent",strokeWidth:0},u=Object(r.assign)({textAnchor:"middle"},i),l=Object(r.assign)({},i,{fontSize:13,padding:8}),c=Object(r.assign)({},i,{fill:"black",padding:2}),s={area:Object(r.assign)({style:{data:{fill:"#212121"},labels:u}},a),axis:Object(r.assign)({style:{axis:{fill:"transparent",stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:Object(r.assign)({},u,l),grid:{fill:"none",stroke:"#ECEFF1",strokeOpacity:function(e){return 0===e?0:1},strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"visible"},ticks:{fill:"transparent",size:4,stroke:"black",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:c}},a),bar:Object(r.assign)({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:i}},a),boxplot:Object(r.assign)({style:{max:{padding:8,stroke:"#455A64",strokeWidth:1},maxLabels:i,median:{padding:8,stroke:"#455A64",strokeWidth:1},medianLabels:i,min:{padding:8,stroke:"#455A64",strokeWidth:1},minLabels:i,q1:{padding:8,fill:"#455A64"},q1Labels:i,q3:{padding:8,fill:"#455A64"},q3Labels:i},boxWidth:20},a),candlestick:Object(r.assign)({style:{data:{stroke:"#455A64"},labels:u},candleColors:{positive:"#ffffff",negative:"#455A64"}},a),chart:a,errorbar:Object(r.assign)({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},a),group:Object(r.assign)({colorScale:o},a),line:Object(r.assign)({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:u}},a),pie:Object(r.assign)({colorScale:o,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:Object(r.assign)({},i,{padding:20})}},a),scatter:Object(r.assign)({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:u}},a),stack:Object(r.assign)({colorScale:o},a),tooltip:{style:Object(r.assign)({},u,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:Object(r.assign)({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:Object(r.assign)({},u,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},a),legend:{colorScale:o,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle",size:3,strokeWidth:1,stroke:"black"},labels:i,title:Object(r.assign)({},i,{padding:5})}}};t.d=s},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f});var r=n(723),o=n.n(r),a=n(9),i=n.n(a);function u(e,t){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function l(e,t,n){return o()({text:e,fontFamily:t,fontSize:n,lineHeight:1}).height.value}function c(e,t,n){return o()({text:e,fontFamily:t,fontSize:n,lineHeight:1}).width.value}function s(e,t,n,r){for(var o=[],a=0,i="";a<e.length;)c(i+=e[a],n,r)>=t&&(o.push(i),i=""),a+=1;return i.length&&o.push(i),o}function p(e,t,n,r){if(c(e,n,r)<=t)return[e];var o=e.split(/\s+/g);o=i.a.flatten(o.map(function(e){return s(e,t,n,r)}));var a="",u=[],l=!0,p=!1,d=void 0;try{for(var f,m=o[Symbol.iterator]();!(l=(f=m.next()).done);l=!0){var h=f.value;c(h,n,r)>=t?(a.length&&u.push(a),u.push(h),a=""):c((a.length?a+" ":a)+h,n,r)>=t?(a.length&&u.push(a),a=h):(a.length&&(a+=" "),a+=h)}}catch(e){p=!0,d=e}finally{try{l||null==m.return||m.return()}finally{if(p)throw d}}return a.length&&u.push(a),u}function d(e,t,n,r){var o=s(e,t,n,r);return o.length>1?o[0]+"...":o[0]}function f(e,t,n,r){var o=s(e,t,n,r),a=!1;return o.length>1?(e=o[0]+"...",a=!0):(e=o[0],a=!1),{text:e,isTruncated:a}}},function(e,t,n){e.exports=n(24)(902)},,function(e,t,n){e.exports=n(24)(6)},function(e,t,n){"use strict";var r=n(10),o=n(514),a={"*":{shapes:[{type:"rectangle",fill:o.e,z:1}],legend_label:"No alterations",legend_order:Number.POSITIVE_INFINITY},disp_cna:{amp:{shapes:[{type:"rectangle",fill:o.a,x:"0%",y:"0%",width:"100%",height:"100%",z:2}],legend_label:"Amplification",legend_order:10},gain:{shapes:[{type:"rectangle",fill:o.b,x:"0%",y:"0%",width:"100%",height:"100%",z:2}],legend_label:"Gain",legend_order:11},homdel:{shapes:[{type:"rectangle",fill:o.d,x:"0%",y:"0%",width:"100%",height:"100%",z:2}],legend_label:"Deep Deletion",legend_order:12},hetloss:{shapes:[{type:"rectangle",fill:o.c,x:"0%",y:"0%",width:"100%",height:"100%",z:2}],legend_label:"Shallow Deletion",legend_order:13}},disp_mrna:{high:{shapes:[{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:o.i,"stroke-width":"2",x:"0%",y:"0%",width:"100%",height:"100%",z:3}],legend_label:"mRNA High",legend_order:20},low:{shapes:[{type:"rectangle",fill:"rgba(0, 0, 0, 0)",stroke:o.j,"stroke-width":"2",x:"0%",y:"0%",width:"100%",height:"100%",z:3}],legend_label:"mRNA Low",legend_order:21}},disp_prot:{high:{shapes:[{type:"rectangle",fill:o.u,x:"0%",y:"0%",width:"100%",height:"20%",z:4}],legend_label:"Protein High",legend_order:31},low:{shapes:[{type:"rectangle",fill:o.v,x:"0%",y:"80%",width:"100%",height:"20%",z:4}],legend_label:"Protein Low",legend_order:32}},disp_fusion:{true:{shapes:[{type:"rectangle",fill:o.k,x:"0%",y:"20%",width:"100%",height:"60%",z:5}],legend_label:"Fusion",legend_order:1}}},i={disp_germ:{true:{shapes:[{type:"rectangle",fill:o.l,x:"0%",y:"46%",width:"100%",height:"8%",z:7}],legend_label:"Germline Mutation",legend_order:2}}},u={type:"gene",legend_label:"Genetic Alteration",na_legend_label:"Not profiled",legend_base_color:o.e},l=r.extend({},u,{rule_params:r.extend({},a,{disp_mut:{"trunc,inframe,missense,promoter,other,trunc_rec,inframe_rec,missense_rec,promoter_rec,other_rec":{shapes:[{type:"rectangle",fill:o.o,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Mutation",legend_order:0}}})}),c=r.extend({},u,{rule_params:r.extend({},a,{disp_mut:{"missense_rec,inframe_rec,trunc_rec,promoter_rec,other_rec":{shapes:[{type:"rectangle",fill:o.o,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Mutation (putative driver)",legend_order:0},"missense,inframe,trunc,promoter,other":{shapes:[{type:"rectangle",fill:o.p,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Mutation (unknown significance)",legend_order:0}}})}),s=r.extend({},u,{rule_params:r.extend({},a,{disp_mut:{"other,other_rec":{shapes:[{type:"rectangle",fill:o.q,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[{type:"rectangle",fill:o.r,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Promoter Mutation",legend_order:0},"trunc,trunc_rec":{shapes:[{type:"rectangle",fill:o.s,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Truncating Mutation",legend_order:0},"inframe,inframe_rec":{shapes:[{type:"rectangle",fill:o.m,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Inframe Mutation",legend_order:0},"missense,missense_rec":{shapes:[{type:"rectangle",fill:o.o,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Missense Mutation",legend_order:0}}})}),p=r.extend({},u,{rule_params:r.extend({},a,{disp_mut:{"other,other_rec":{shapes:[{type:"rectangle",fill:o.q,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Other Mutation",legend_order:0},"promoter,promoter_rec":{shapes:[{type:"rectangle",fill:o.r,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Promoter Mutation",legend_order:0},trunc_rec:{shapes:[{type:"rectangle",fill:o.s,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Truncating Mutation (putative driver)",legend_order:0},trunc:{shapes:[{type:"rectangle",fill:o.t,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Truncating Mutation (unknown significance)",legend_order:0},inframe_rec:{shapes:[{type:"rectangle",fill:o.m,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Inframe Mutation (putative driver)",legend_order:0},inframe:{shapes:[{type:"rectangle",fill:o.n,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Inframe Mutation (unknown significance)",legend_order:0},missense_rec:{shapes:[{type:"rectangle",fill:o.o,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Missense Mutation (putative driver)",legend_order:0},missense:{shapes:[{type:"rectangle",fill:o.p,x:"0%",y:"33.33%",width:"100%",height:"33.33%",z:6}],legend_label:"Missense Mutation (unknown significance)",legend_order:0}}})}),d=n(504),f=n(54),m=n(574),h=n(9),y=n.n(h),g=n(7),b=n(512),v=n(517);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"g",function(){return P}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return _}),n.d(t,"d",function(){return w}),n.d(t,"o",function(){return O}),n.d(t,"a",function(){return R}),n.d(t,"c",function(){return D}),n.d(t,"h",function(){return G}),n.d(t,"l",function(){return L}),n.d(t,"i",function(){return j}),n.d(t,"m",function(){return F}),n.d(t,"n",function(){return B}),n.d(t,"j",function(){return H}),n.d(t,"k",function(){return K}),n.d(t,"b",function(){return V});var T=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function C(e,t,n,r){var o=this;return r.initIteration(t,n),function(){return T(o,void 0,void 0,regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.next(t,5);case 2:n.t0=function(e){return{entrezGeneId:e.entrezGeneId,hugoGeneSymbol:e.hugoGeneSymbol,correlationValue:e.correlationValue,molecularProfileId:e.zScoreGeneticProfileId}},o=n.sent.map(n.t0),Object(g.runInAction)("genesetHeatmapExpansion",function(){var n=e.expansionsByGenesetHeatmapTrackKey.get(t)||[];e.expansionsByGenesetHeatmapTrackKey.set(t,n.concat(o))});case 5:case"end":return n.stop()}},n)}))}}function I(e,t,n,r,o){return Object(g.action)("genesetHeatmapUnexpansion",function(){var a=e.expansionsByGenesetHeatmapTrackKey.get(t);if(!a)throw new Error("Track '".concat(t,"' has no expansions to remove."));if(r===e.genesetHeatmapTrackGroup){var i=a.findIndex(function(e){return e.entrezGeneId===n});-1!==i&&(a.splice(i,1),a.length||o())}})}function A(e){return Object(b.f)(e)?"":e.oql_line.substring(e.gene.length).replace(";","")}function E(e){return Object(b.f)(e)?"[".concat(e.list.map(function(e){return e.oql_line}).join(" "),"]"):e.oql_line}function P(e){var t,n,r,o;switch(e.molecularAlterationType){case d.a.GENERIC_ASSAY:return function(e){var t,n,r,o,a;n="".concat(e.molecularProfileName);var i=e.data,u=e.pivotThreshold,l=e.sortOrder,c=[0,114,178,1],s=[204,236,255,1],p=["rgba(240,228,66,1)","rgba(0,158,115,1)","rgba(204,121,167,1)","rgba(0,0,0,1)"],d=e.maxProfileValue,f=e.minProfileValue;void 0!==u&&(d=Math.max(d,u),f=Math.min(f,u));var m=u&&(d===u||f===u),h=Math.max(0,d),g=Math.min(0,f);t=[g,h],void 0===u||m?(r=[c,s],o=[g,h]):(r=[c,s,[255,226,204,1],[213,94,0,1]],o=u<=g?[u-(h-u),u,u,h]:u>=h?[g,u,u,u+(u-g)]:[g,u,u,h]);"DESC"===l&&(t=y.a.reverse(t),o=y.a.reverse(o));var b=0;return y()(i).filter(function(e){return!!e.category}).map(function(e){return e.category}).uniq().value().forEach(function(e){void 0===a&&(a={}),a[e]=p[b++],b===p.length&&(b=0)}),{type:"gradient+categorical",legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:o,null_color:"rgba(224,224,224,1)",category_key:"category",category_to_color:a}}(e);case d.a.METHYLATION:t=[0,1],n="Methylation Heatmap",o=[0,.35,1],r=[[0,0,255,1],[255,255,255,1],[255,0,0,1]];break;default:t=[-3,3],n="Expression Heatmap",o=[-3,0,3],r=[[0,0,255,1],[0,0,0,1],[255,0,0,1]]}return{type:"gradient",legend_label:n,value_key:"profile_data",value_range:t,colors:r,value_stop_points:o,null_color:"rgba(224,224,224,1)"}}function k(){return{type:"gradient",legend_label:"Gene Set Heatmap",value_key:"profile_data",value_range:[-1,1],colors:[[39,100,25,1],[77,146,33,1],[127,188,65,1],[184,225,134,1],[230,245,208,1],[247,247,247,1],[253,224,239,1],[241,182,218,1],[222,119,174,1],[197,27,125,1],[142,1,82,1]],value_stop_points:[-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1],null_color:"rgba(224,224,224,1)"}}function _(e,t,n){var r;return r=e||t?!e&&t?c:e&&!t?s:p:l,r=y.a.cloneDeep(r),n&&Object.assign(r.rule_params,i),r}function w(e){var t;switch(e.datatype){case"number":t={type:"bar",value_key:"attr_val",value_range:e.numberRange,log_scale:e.numberLogScale};break;case"counts":t={type:"stacked_bar",value_key:"attr_val",categories:e.countsCategoryLabels,fills:e.countsCategoryFills};break;case"string":default:t={type:"categorical",category_key:"attr_val",category_to_color:o.w}}return t}function O(e,t){if(0===t)return"N/P";var n,r=e/t,o=100*r;return r<.03?"0"===(n=o.toFixed(1))[n.length-1]&&(n=o.toFixed()):n=o.toFixed(),n+"%"}function M(e,t,n,r){var o=t instanceof Array?t:[t.gene];return e?y.a.uniq(y.a.flatMap(o,function(e){return n[e]})).length:y.a.uniq(y.a.flatMap(o,function(e){return r[e]})).length}function R(e,t,n,r){var o=M(e,t.oql,n,r),a=e?Object.keys(t.cases.samples).filter(function(e){return!!t.cases.samples[e].length}).length:Object.keys(t.cases.patients).filter(function(e){return!!t.cases.patients[e].length}).length;return{sequenced:o,altered:a,percent:O(a,o)}}function N(e){return e.data.length>0}function D(e){var t={},n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=!0,c=!1,s=void 0;try{for(var p,d=u.data[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;N(f)&&(t[f.uid]=!0)}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return Object.keys(t)}function G(e){var t=y.a.chain(e).map(function(e){return e.data.map(function(e){return e.uid})}).flatten().uniq().value();return y.a.difference(t,D(e))}function x(e){var t=e.sampleMode,n=e.samples,r=e.patients,o=e.coverageInformation,a=e.sequencedSampleKeysByGene,i=e.sequencedPatientKeysByGene,u=e.selectedMolecularProfiles,l=e.expansionIndexMap;return function e(c,s,p){var d=c.oql,f=Object(b.f)(d)?d.list.map(function(e){return e.gene}):[d.gene],h=c.cases,g=t?Object(m.d)(h.samples,f,n,o,u):Object(m.d)(h.patients,f,r,o,u),v=function(e,t,n,r){var o=M(e,t.oql,n,r),a=y.a.sumBy(t.trackData,function(e){return+N(e)});return{sequenced:o,altered:a,percent:O(a,o)}}(t,{trackData:g,oql:f},a,i),S=void 0===p?"GENETICTRACK_".concat(s):"".concat(p,"_EXPANSION_").concat(s),T=Object(b.f)(d)?function(){l.set(S,y.a.range(d.list.length))}:void 0,C=void 0!==p?function(){l.get(p).remove(s)}:void 0,I=[];if(c.mergedTrackOqlList){var P=c.mergedTrackOqlList;I=(l.get(S)||[]).map(function(t){return e(P[t],t,S)})}var k,_=v.percent,w=void 0;return 0!==v.sequenced&&(w="altered / profiled = ".concat(v.altered," / ").concat(v.sequenced)),v.sequenced>0&&v.sequenced<(t?n:r).length&&(_="".concat(_,"*")),{key:S,label:(void 0!==p?"  ":"")+(k=d,Object(b.f)(k)?k.label||k.list.map(function(e){return e.gene}).join(" / "):k.gene),sublabel:A(d),labelColor:void 0!==p?"grey":void 0,oql:E(d),info:_,infoTooltip:w,data:g,expansionCallback:T,removeCallback:C,expansionTrackList:I.length?I:void 0}}}function L(e,t){var n=this;return Object(f.b)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine,e.props.store.coverageInformation,e.props.store.sequencedSampleKeysByGene,e.props.store.sequencedPatientKeysByGene,e.props.store.selectedMolecularProfiles]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=x({sampleMode:t,samples:e.props.store.samples.result,patients:e.props.store.patients.result,coverageInformation:e.props.store.coverageInformation.result,sequencedSampleKeysByGene:e.props.store.sequencedSampleKeysByGene.result,sequencedPatientKeysByGene:e.props.store.sequencedPatientKeysByGene.result,selectedMolecularProfiles:e.props.store.selectedMolecularProfiles.result,expansionIndexMap:e.expansionsByGeneticTrackKey}),n.abrupt("return",e.props.store.oqlFilteredCaseAggregatedDataByUnflattenedOQLLine.result.map(function(e,t){return r(e,t,void 0)}));case 2:case"end":return n.stop()}},n)}))},default:[]})}function j(e,t){var n=this;return Object(f.b)({await:function(){var t=[e.props.store.samples,e.props.store.patients,e.props.store.clinicalAttributeIdToClinicalAttribute,e.alteredKeys];if(e.props.store.clinicalAttributeIdToClinicalAttribute.isComplete){var n=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e});t=t.concat(e.props.store.clinicalDataCache.getAll(n))}return t},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.selectedClinicalAttributeIds.keys().length){n.next=2;break}return n.abrupt("return",[]);case 2:return r=e.selectedClinicalAttributeIds.keys().map(function(t){return e.props.store.clinicalAttributeIdToClinicalAttribute.result[t]}).filter(function(e){return!!e}),n.abrupt("return",r.map(function(n){var r=e.props.store.clinicalDataCache.get(n).result,o=void 0;e.onlyShowClinicalLegendForAlteredCases&&(o=e.alteredKeys.result);var a={key:e.clinicalAttributeIdToTrackKey(n.clinicalAttributeId),label:n.displayName,description:n.description,data:Object(m.c)(n,t?e.props.store.samples.result:e.props.store.patients.result,r),altered_uids:o};return Object(v.d)(n)&&(a.na_tooltip_value="No",a.na_legend_label="No"),"NUMBER"===n.datatype?(a.datatype="number","FRACTION_GENOME_ALTERED"===n.clinicalAttributeId?a.numberRange=[0,1]:"MUTATION_COUNT"===n.clinicalAttributeId?a.numberLogScale=!0:n.clinicalAttributeId===v.a.NumSamplesPerPatient&&(a.numberRange=[0,void 0],a.custom_options=t?[{label:"Show one column per patient.",onClick:function(){return e.controlsHandlers.onSelectColumnType("patient")}}]:[{label:"Show one column per sample.",onClick:function(){return e.controlsHandlers.onSelectColumnType("sample")}}])):"STRING"===n.datatype?a.datatype="string":n.clinicalAttributeId===v.a.MutationSpectrum&&(a.datatype="counts",a.countsCategoryLabels=["C>A","C>G","C>T","T>A","T>C","T>G"],a.countsCategoryFills=["#3D6EB1","#8EBFDC","#DFF1F8","#FCE08E","#F78F5E","#D62B23"]),a}));case 4:case"end":return n.stop()}},n)}))},default:[]})}function F(e,t){var n=this;return Object(f.b)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,a,i,u,l,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,a=y.a.filter(o.values(),function(e){return e.molecularAlterationType!==d.a.GENERIC_ASSAY}),i=y.a.flatten(a.map(function(e){return e.entities.keys()})),n.next=6,e.props.store.geneCache.getPromise(i.map(function(e){return{hugoGeneSymbol:e}}),!0);case 6:return u=y.a.flatten(a.map(function(t){return t.entities.keys().map(function(n){return{molecularProfileId:t.molecularProfileId,entrezGeneId:e.props.store.geneCache.get({hugoGeneSymbol:n}).data.entrezGeneId,hugoGeneSymbol:n.toUpperCase()}})})),n.next=9,e.props.store.geneMolecularDataCache.result.getPromise(u,!0);case 9:return l=e.props.store.samples.result,c=e.props.store.patients.result,n.abrupt("return",u.map(function(n){var a=n.molecularProfileId,i=n.hugoGeneSymbol,u=e.props.store.geneMolecularDataCache.result.get(n).data;return{key:"HEATMAPTRACK_".concat(a,",").concat(i),label:i,molecularProfileId:a,molecularAlterationType:r[a].molecularAlterationType,datatype:r[a].datatype,data:Object(m.e)("hugo_gene_symbol",i,t?l:c,u),trackGroupIndex:o.get(a).trackGroupIndex,onRemove:Object(g.action)(function(){var t=o.get(a);t&&(t.entities.delete(i),t.entities.size||o.delete(a)),o.has(a)||"heatmap"!==e.sortMode.type||e.sortMode.clusteredHeatmapProfile!==a||e.sortByData()})}}));case 12:case"end":return n.stop()}},n)}))},default:[]})}function B(e,t){var n=this;return Object(f.b)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.treatmentMolecularDataCache,e.props.store.treatmentLinkMap]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,a,i,u,l,c,s,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.molecularProfileIdToMolecularProfile.result,o=e.molecularProfileIdToHeatmapTracks,a=e.props.store.treatmentLinkMap.result,i=y.a.filter(o.values(),function(e){return e.molecularAlterationType===d.a.GENERIC_ASSAY}),u=y.a.flatten(i.map(function(e){return e.entities.keys()})),n.next=7,e.props.store.treatmentCache.getPromise(u.map(function(e){return{treatmentId:e}}),!0);case 7:return l=y.a.flatten(i.map(function(t){return t.entities.keys().map(function(n){return{molecularProfileId:t.molecularProfileId,treatmentId:e.props.store.treatmentCache.get({treatmentId:n}).data.treatmentId,treatmentName:e.props.store.treatmentCache.get({treatmentId:n}).data.name}})})),n.next=10,e.props.store.treatmentMolecularDataCache.result.getPromise(l,!0);case 10:return c=e.props.store.samples.result,s=e.props.store.patients.result,p=l.map(function(n){var i=n.molecularProfileId,u=r[i],l=e.props.store.treatmentMolecularDataCache.result,p=n.treatmentId,d=u.pivotThreshold,f=u.sortOrder;return{key:"TREATMENTHEATMAPTRACK_".concat(i,",").concat(p),label:n.treatmentName,molecularProfileId:n.molecularProfileId,molecularProfileName:r[i].name,molecularAlterationType:r[i].molecularAlterationType,datatype:r[i].datatype,data:Object(m.e)("treatment_id",p,t?c:s,l.get(n).data.map(function(e){return Object.assign({},e,{value:parseFloat(e.value)})}),f),pivotThreshold:d,sortOrder:f,trackLinkUrl:a[p],trackGroupIndex:o.get(i).trackGroupIndex,onRemove:Object(g.action)(function(){var t=o.get(i);t&&(t.entities.delete(p),t.entities.size||o.delete(i)),o.has(i)||"heatmap"!==e.sortMode.type||e.sortMode.clusteredHeatmapProfile!==i||e.sortByData()})}}),n.abrupt("return",p);case 14:case"end":return n.stop()}},n)}))},default:[]})}function H(e,t){var n=this;return Object(f.b)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.molecularProfileIdToMolecularProfile,e.props.store.geneMolecularDataCache,e.props.store.genesetCorrelatedGeneCache]},invoke:function(){return T(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,a,i,u,l,c,s,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.props.store.samples.result,o=e.props.store.patients.result,a=e.props.store.molecularProfileIdToMolecularProfile.result,i=e.props.store.geneMolecularDataCache.result,u=e.props.store.genesetCorrelatedGeneCache.result,l=e.genesetHeatmapTrackGroup,c=e.expansionsByGenesetHeatmapTrackKey,s=y.a.flatten(c.values().map(function(e){return e.slice()})).map(function(e){return{entrezGeneId:e.entrezGeneId,molecularProfileId:e.molecularProfileId}}),n.next=10,i.getPromise(s,!0);case 10:return p={},c.entries().forEach(function(n){var c=S(n,2),s=c[0],d=c[1];p[s]=d.map(function(n){var c=n.entrezGeneId,p=n.hugoGeneSymbol,d=n.molecularProfileId,f=n.correlationValue,h=i.get({entrezGeneId:c,molecularProfileId:d}).data,y=a[d];return{key:"EXPANSIONTRACK_".concat(s,",").concat(p,",GROUP").concat(l),label:"  "+p,labelColor:"grey",info:f.toFixed(2),molecularProfileId:d,molecularAlterationType:y.molecularAlterationType,datatype:y.datatype,data:Object(m.e)("hugo_gene_symbol",p,t?r:o,h),trackGroupIndex:l,onRemove:I(e,s,c,l,u.reset.bind(u,s))}})}),n.abrupt("return",p);case 13:case"end":return n.stop()}},n)}))},default:{}})}function K(e,t,n){var r=this;return Object(f.b)({await:function(){return[e.props.store.samples,e.props.store.patients,e.props.store.genesetMolecularProfile,e.props.store.genesetMolecularDataCache,e.props.store.genesetLinkMap,e.props.store.genesetCorrelatedGeneCache,n]},invoke:function(){return T(r,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a,i,u,l,c,s,p,d,f,h;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.props.store.samples.result,a=e.props.store.patients.result,i=e.props.store.genesetMolecularProfile.result,u=e.props.store.genesetMolecularDataCache.result,l=e.props.store.genesetLinkMap.result,c=e.props.store.genesetCorrelatedGeneCache.result,s=n.result,p=e.genesetHeatmapTrackGroup,i.isApplicable){r.next=10;break}return r.abrupt("return",[]);case 10:return d=i.value.molecularProfileId,f=e.props.store.rvQuery.genesetIds,h=f.map(function(e){return{molecularProfileId:d,genesetId:e}}),r.next=15,u.getPromise(h,!0);case 15:return r.abrupt("return",f.map(function(n){var r="GENESETHEATMAPTRACK_".concat(d,",").concat(n);return{key:"GENESETHEATMAPTRACK_".concat(d,",").concat(n,",GROUP").concat(p),label:n,molecularProfileId:d,molecularAlterationType:i.value.molecularAlterationType,datatype:i.value.datatype,trackLinkUrl:l[n],data:Object(m.e)("geneset_id",n,t?o:a,u.get({molecularProfileId:d,genesetId:n}).data.map(function(e){return Object.assign({},e,{value:parseFloat(e.value)})})),trackGroupIndex:p,expansionCallback:C(e,r,{molecularProfileId:d,genesetId:n},c),expansionTrackList:s[r]}}));case 16:case"end":return r.stop()}},r)}))},default:[]})}function V(e,t,n){var r=function(e){return e=e.replace(/[,\s\n]+/g," ").trim(),y.a.uniq(e.split(/[,\s\n]+/))}(e),o=[];return y.a.each(r,function(e){e in n&&(o.push(e),t.includes(e)||t.push(e))}),o.length>0&&y.a.each(o,function(t){e=e.replace(t,"")}),e.trim().replace("\t+","\t").replace(" +"," ")}},function(e,t,n){"use strict";var r=n(0),o=n(590),a=n(18),i=n(7),u=n(151),l=n(519),c=n.n(l),s=n(503),p=n(44),d=n.n(p),f=n(672),m=n.n(f),h=n(742),y=n(591);function g(e){return"function"==typeof e.then}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};function E(e){return r.createElement("button",{key:e.key,className:"btn btn-default btn-xs",onClick:e.onClick,disabled:e.disabled},e.content)}function P(e){var t;return r.createElement("div",{key:e.key,onClick:e.disabled?function(){}:e.onClick,className:d()((t={},C(t,m.a.menuItemEnabled,!e.disabled),C(t,m.a.menuItemDisabled,!!e.disabled),t),m.a.menuItem)},e.key)}function k(e){return r.createElement("li",{key:e.key},r.createElement("a",{className:"dropdown-item",onClick:e.disabled?function(){}:e.onClick},e.key))}var _=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=v(this,S(t).apply(this,arguments))).collapsed=!0,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r["Component"]),n=t,(a=[{key:"download",value:function(e,t){var n=this;if(this.props.getSvg){var r=this.props.getSvg();r&&(g(r)?r.then(function(r){r&&e(r,"".concat(n.props.filename,".").concat(t))}):e(r,"".concat(this.props.filename,".").concat(t)))}}},{key:"downloadSvg",value:function(){this.download(h.saveSvg,"svg")}},{key:"downloadPng",value:function(){this.download(function(e,t){return Object(h.saveSvgAsPng)(e,t,{backgroundColor:"#ffffff"})},"png")}},{key:"downloadPdf",value:function(){this.download(function(e,t){return Object(y.a)(t,e)},"pdf")}},{key:"downloadData",value:function(e){var t=this;if(this.props.getData){var n=this.props.getData(e);null!==n&&(g(n)?n.then(function(e){e&&c()(e,"".concat(t.props.filename,".txt"))}):c()(n,"".concat(this.props.filename,".txt")))}}},{key:"onTooltipVisibleChange",value:function(e){this.collapsed=!e}},{key:"render",value:function(){var e=null;return e="buttonGroup"===this.props.type?r.createElement(s.b,{mouseEnterDelay:0,onVisibleChange:this.onTooltipVisibleChange,overlay:r.createElement("div",{className:d()("cbioportal-frontend",m.a.downloadControls),style:{display:"flex",flexDirection:"column"}},this.buttonSpecs.map(P)),placement:"bottom"},r.createElement("div",{style:Object.assign({cursor:"pointer"},this.props.style),className:d()("btn btn-group btn-default btn-xs",{active:!this.collapsed})},r.createElement("i",{style:{pointerEvents:"none"},className:"fa fa-cloud-download","aria-hidden":"true"}))):"button"===this.props.type?r.createElement("div",{style:Object.assign({zIndex:10},this.props.style)},r.createElement(s.b,{mouseEnterDelay:0,onVisibleChange:this.onTooltipVisibleChange,overlay:r.createElement("div",{className:d()("cbioportal-frontend",m.a.downloadControls),style:{display:"flex",flexDirection:"column"}},this.buttonSpecs.map(P)),placement:"bottom"},r.createElement("div",{style:{cursor:"pointer"}},r.createElement("div",{key:"collapsedIcon",className:d()("btn btn-default btn-xs",{active:!this.collapsed}),style:{pointerEvents:"none"}},r.createElement("span",null,r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})))))):"dropdown"===this.props.type?r.createElement("ul",{className:d()("dropdown-menu",this.props.className||""),style:this.props.style||{}},this.buttonSpecs.map(k)):r.createElement("div",{role:"group",className:"btn-group chartDownloadButtons",style:this.props.style||{}},this.buttonSpecs.map(E)),this.props.dontFade?e:r.createElement(o.a,null,e)}},{key:"downloadControlsButtons",get:function(){var e=this;return{SVG:{key:"SVG",content:r.createElement("span",null,"SVG ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:this.downloadSvg,disabled:!this.props.getSvg},PNG:{key:"PNG",content:r.createElement("span",null,"PNG ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:this.downloadPng,disabled:!this.props.getSvg},PDF:{key:"PDF",content:r.createElement("span",null,"PDF ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:this.downloadPdf,disabled:!this.props.getSvg},Data:{key:"Data",content:r.createElement("span",null,"Data ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:this.downloadData,disabled:!this.props.getData},"Summary Data":{key:"Summary Data",content:r.createElement("span",null,"Summary Data ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:function(){return e.downloadData("summary")},disabled:!this.props.getData},"Full Data":{key:"Full Data",content:r.createElement("span",null,"Full Data ",r.createElement("i",{className:"fa fa-cloud-download","aria-hidden":"true"})),onClick:function(){return e.downloadData("full")},disabled:!this.props.getData}}}},{key:"buttonSpecs",get:function(){var e=this,t=(this.props.buttons||["SVG","PNG","PDF"]).map(function(t){return e.downloadControlsButtons[t]});return(this.props.additionalLeftButtons||[]).concat(t).concat(this.props.additionalRightButtons||[])}}])&&b(n.prototype,a),i&&b(n,i),t}();A([i.observable],_.prototype,"collapsed",void 0),A([u.default],_.prototype,"download",null),A([u.default],_.prototype,"downloadSvg",null),A([u.default],_.prototype,"downloadPng",null),A([u.default],_.prototype,"downloadPdf",null),A([u.default],_.prototype,"downloadData",null),A([i.computed],_.prototype,"downloadControlsButtons",null),A([i.computed],_.prototype,"buttonSpecs",null),A([u.default,i.action],_.prototype,"onTooltipVisibleChange",null),_=A([a.observer],_);t.a=_},function(e,t,n){"use strict";function r(e){return Object.assign({chromosome:e.chr},e)}function o(e){return e.map(r)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(73),o=n(585);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){var t=Object.keys(e);return t.sort(),"{".concat(t.map(function(t){var n=e[t];if(i(n)===i({}))throw new Error("Warning: keys in cache may not be unique because query contains nested objects. Specify queryToKey init. param. to be safe.");return'"'.concat(t,'":"').concat(n,'"')}).join(","),"}")}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queryToMobxPromiseInput=t,this.queryToKey=n,this.cache={}}var t,n,i;return t=e,(n=[{key:"get",value:function(e){var t=this.queryToKey(e);return this.cache[t]||(this.cache[t]=new r.MobxPromise(this.queryToMobxPromiseInput(e))),this.cache[t]}},{key:"getAll",value:function(e){var t=this;return e.map(function(e){return t.get(e)})}},{key:"await",value:function(e,t){var n=e;return Object(o.a)(e.map(function(e){return e.isComplete}))&&(n=n.concat(this.getAll(t.apply(null,e.map(function(e){return e.result}))))),n}}])&&a(t.prototype,n),i&&a(t,i),e}()},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(2);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",null,r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:{color:"#BB1700",cursor:"pointer",marginRight:7}}),this.props.message," Please let us know about this error and how you got here at ",r.createElement("b",{style:{whiteSpace:"nowrap"}},r.createElement("a",{href:"mailto:".concat(a.b.serverConfig.skin_email_contact)},a.b.serverConfig.skin_email_contact)))}}])&&i(n.prototype,o),s&&i(n,s),t}();d.defaultProps={message:"Error encountered."},d=p([o.observer],d),t.a=d},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__39rg3",framedImage:"styles-module__framedImage__3ikaJ",ChartsPanel:"styles-module__ChartsPanel__1kFpX",Checkboxes:"styles-module__Checkboxes__3JkxF",TableContainer:"styles-module__TableContainer__3OVxd",Checkbox:"styles-module__Checkbox__w95Pc",GeneName:"styles-module__GeneName__1qAkS",DataSet:"styles-module__DataSet__7fRDD",ScatterTooltip:"styles-module__ScatterTooltip__3EYSa",BarTooltip:"styles-module__BarTooltip__1hGLv",BoxTooltip:"styles-module__BoxTooltip__2FA6X",Tendency:"styles-module__Tendency__rxjNz",Significant:"styles-module__Significant__1CIHn",ColoredBackground:"styles-module__ColoredBackground__hGi2k",FlexCheckbox:"styles-module__FlexCheckbox__3iqpB"}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return s});var r=n(9),o=n(538);function a(e){var t={};return r.each(e,function(e){t[e.query.id]=e}),t}function i(e,t){return Object.assign({},Object(o.b)(t),{queries:e})}function u(e,t,n,r,a,i,u){return Object(o.c)(e,t,n,r,a,i,u)}function l(e,t){return t.uniqueSampleKeyToTumorType?u(e.gene.entrezGeneId,t.uniqueSampleKeyToTumorType[e.uniqueSampleKey],e.proteinChange,e.mutationType,e.proteinPosStart,e.proteinPosEnd):void 0}function c(e){return e.oncogenic.toLowerCase().trim().includes("oncogenic")}function s(e){var t={};return e&&e.length>0&&e.forEach(function(e){var n=e.query.id,a={id:"",gene:{},alteration:[],prevalence:[],progImp:[],treatments:{sensitivity:[],resistance:[]},trials:[],oncogenic:"",oncogenicRefs:[],mutationEffect:{},mutationEffectRefs:[],summary:""},i=[],u=[],l=[];(l=l.concat(e.evidences)).forEach(function(e){var t="";if(t=e.shortDescription?e.shortDescription:e.description,"GENE_SUMMARY"===e.evidenceType)a.gene.summary=t;else if("GENE_BACKGROUND"===e.evidenceType)a.gene.background=t;else if("ONCOGENIC"===e.evidenceType)e.articles&&(a.oncogenicRefs=e.articles);else if("MUTATION_EFFECT"===e.evidenceType){var n={};e.knownEffect&&(n.knownEffect=e.knownEffect),e.articles&&(n.refs=e.articles),t&&(n.description=t),a.alteration.push(n)}else if(e.levelOfEvidence&&-1===["LEVEL_0"].indexOf(e.levelOfEvidence)){var l={};l.alterations=e.alterations,l.articles=e.articles,l.tumorType=function(e){var t=r.isObject(e.tumorType)?e.tumorType.name:e.subtype||e.cancerType,n="";r.isObject(e.oncoTreeType)&&(n=e.oncoTreeType.name?e.oncoTreeType.name:e.oncoTreeType.mainType?e.oncoTreeType.mainType.name:"");n&&(t=n);return t}(e),l.level=e.levelOfEvidence,l.content=e.treatments,l.description=t||"",-1!==o.a.sensitivity.indexOf(function(e){if(e){var t=e.match(/LEVEL_(R?\d[AB]?)/);return t instanceof Array&&t.length>=2?t[1]:e}return""}(e.levelOfEvidence))?i.push(l):u.push(l)}}),a.alteration.length>0&&(a.mutationEffect=a.alteration[0]),a.treatments.sensitivity=i,a.treatments.resistance=u,t[n]=a}),t}},function(e,t,n){"use strict";n.d(t,"b",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"a",function(){return C}),n.d(t,"g",function(){return w}),n.d(t,"e",function(){return O}),n.d(t,"n",function(){return M}),n.d(t,"f",function(){return R}),n.d(t,"m",function(){return N}),n.d(t,"o",function(){return D}),n.d(t,"j",function(){return G}),n.d(t,"u",function(){return L}),n.d(t,"h",function(){return j}),n.d(t,"i",function(){return F}),n.d(t,"s",function(){return B}),n.d(t,"q",function(){return H}),n.d(t,"r",function(){return K}),n.d(t,"t",function(){return V}),n.d(t,"d",function(){return q}),n.d(t,"l",function(){return U}),n.d(t,"k",function(){return Q}),n.d(t,"p",function(){return z});var r=n(0),o=n(664),a=n(636),i=n(764),u=n.n(i),l=n(518),c=n(9),s=n(504),p=n(561),d=n(637),f=n(534),m=n.n(f),h=n(44),y=n.n(h),g=n(554),b=n(563),v=n(639);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T,C,I={2:"AMP","-2":"HOMDEL"};function A(e){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement(b.a,{text:e,maxLength:20,addTooltip:"never"}))}function E(e,t){return r.createElement("div",{style:{display:"flex",alignItems:"center"}},e,"in",r.createElement(b.a,{text:t,maxLength:20,addTooltip:"never"}))}function P(e){return r.createElement(b.a,{text:e,maxLength:20})}function k(e,t){var n=t.groupsSet[e];return n.alteredCount+" ("+n.alteredPercentage.toFixed(2)+"%)"}function _(e){return 0===e||Math.log10(e)<-10?10:-Math.log10(e)}function w(e,t){return e.filter(function(e){return!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:Object(l.d)(Number(e.logRatio),10),y:_(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function O(e,t,n,r){return e.filter(function(e){return!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.groupsSet[n].alteredPercentage,y:e.groupsSet[r].alteredPercentage,hugoGeneSymbol:e.hugoGeneSymbol,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio}})}function M(e,t){return e.filter(function(e){return!t.includes(e.hugoGeneSymbol)}).map(function(e){return{x:e.logRatio,y:_(e.pValue),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,pValue:e.pValue,qValue:e.qValue,logRatio:e.logRatio,hovered:!1}})}function R(e,t,n){return e.map(function(e){var r=c.map(e.counts,function(e){return Object.assign({},e,{alteredPercentage:e.alteredCount/e.profiledCount*100})}),o=c.keyBy(r,function(e){return e.name}),a="",i=void 0;if(2===n.length){var u=o[n[0].name],l=o[n[1].name];i=Math.log2(u.alteredPercentage/l.alteredPercentage);var s=n[0].nameOfEnrichmentDirection||n[0].name,p=n[1].nameOfEnrichmentDirection||n[1].name;a=i>0?s:p}else r.sort(function(e,t){return t.alteredPercentage-e.alteredPercentage}),a=r[0].name;return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:a,groupsSet:o,logRatio:i,value:e.value}})}function N(e,t,n){return e.map(function(e){var r="",o=void 0,a=c.keyBy(e.groupsStatistics,function(e){return e.name});if(2===n.length){var i=a[n[0].name],u=a[n[1].name];o=i.meanExpression-u.meanExpression;var l=n[0].nameOfEnrichmentDirection||n[0].name,s=n[1].nameOfEnrichmentDirection||n[1].name;r=o>0?l:s}else r=e.groupsStatistics.sort(function(e,t){return t.meanExpression-e.meanExpression})[0].name;return{checked:t.includes(e.hugoGeneSymbol),disabled:t.includes(e.hugoGeneSymbol),hugoGeneSymbol:e.hugoGeneSymbol,entrezGeneId:e.entrezGeneId,cytoband:e.cytoband,pValue:e.pValue,qValue:e.qValue,enrichedGroup:r,groupsSet:a,logRatio:o}})}function D(e,t,n,r){return e.filter(function(e){var o=!1;return t.forEach(function(t){var n=e.groupsSet[t],r=n.meanExpression||n.alteredPercentage,a=c.reduce(e.groupsSet,function(e,n,o){if(t!==o){var a=n.meanExpression||n.alteredPercentage;e=e&&r>=a}return e},!0);if(a)return o=a,!1}),n&&(o=o&&e.qValue<.05),r&&(o=o&&r.includes(e.hugoGeneSymbol)),o})}function G(e,t,n){var r=[];return e.map(function(e,o){var a,i=t+", "+n;r.push((S(a={"Sample ID":e.sampleId},i,e.y),S(a,"Alteration",e.alterations),a))}),Object(o.a)(r)}function x(e){var t,n="";return e.forEach(function(e){var r=e.gene.hugoGeneSymbol;r!=t&&(n+=r+": "),"MUTATION_EXTENDED"===e.alterationType?n+="MUT":"PROTEIN_LEVEL"===e.alterationType?n+="RPPA-"+e.alterationSubType.toUpperCase():n+=e.alterationSubType.toUpperCase(),n+="; ",t=r}),n}function L(e,t){return e.length>t?e.slice(0,t).join(" ")+"":e.join(" ")}function j(e){var t=Object(a.a)(e.filter(function(e){return e.x<1.5}).map(function(e){return e.y}));t.x=1,t.min=t.whiskerLower,t.max=t.whiskerUpper;var n=Object(a.a)(e.filter(function(e){return e.x>1.5}).map(function(e){return e.y}));return n.x=2,n.min=n.whiskerLower,n.max=n.whiskerUpper,[t,n]}function F(e,t,n,r){var o=[],a=function(a){var i=n[a],l=e.find(function(e){return e.uniqueSampleKey===a});if(l){var c=t.includes("rna_seq")?Math.log(l.value+1)/Math.log(2):l.value,s=.5*(u()(c.toString())()-.5);o.push({x:r.includes(a)?1+s:2+s,y:c,sampleId:l.sampleId,studyId:l.studyId,alterations:x(i)})}};for(var i in n)a(i);return o}function B(e){return c.filter(e,function(e){return e.molecularAlterationType===s.a.MUTATION_EXTENDED})}function H(e){return c.filter(e,function(e){return e.molecularAlterationType===s.a.COPY_NUMBER_ALTERATION&&"DISCRETE"===e.datatype})}function K(e){var t=e.filter(function(e){return e.molecularAlterationType===s.a.MRNA_EXPRESSION});return Object(p.a)(t)}function V(e){var t=e.filter(function(e){return e.molecularAlterationType===s.a.PROTEIN_LEVEL});return Object(p.a)(t)}function q(e,t){var n=[],o=c.keyBy(e,function(e){return e.name}),a={name:t?d.a.TENDENCY:2===e.length?d.a.ENRICHED:d.a.MOST_ENRICHED,render:function(e){var n,a=void 0,i=e.qValue<.05;return!t&&i&&(a=o[e.enrichedGroup].color),r.createElement("div",{className:y()(m.a.Tendency,(n={},S(n,m.a.Significant,i),S(n,m.a.ColoredBackground,!!a),n)),style:{backgroundColor:a,color:a&&Object(g.e)(a)}},t?e.enrichedGroup:P(e.enrichedGroup))},filter:function(e,t,n){return e.enrichedGroup.toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup},download:function(e){return e.enrichedGroup},tooltip:r.createElement("span",null,"The group with the highest alteration frequency")};if(e.length<2)return[];if(2===e.length){var i=e[0],u=e[1];n.push({name:d.a.LOG_RATIO,render:function(e){return r.createElement("span",null,Object(l.a)(e.logRatio))},tooltip:r.createElement("span",null,"Log2 based ratio of (pct in ",i.name,"/ pct in ",u.name,")"),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(l.a)(e.logRatio)}}),a.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",i.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",u.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(a),e.forEach(function(e){n.push({name:e.name,headerRender:A,render:function(t){return r.createElement("span",null,k(e.name,t))},tooltip:r.createElement("span",null,r.createElement("strong",null,e.name,":")," ",e.description),sortBy:function(t){return function(e,t){return t.groupsSet[e].alteredCount}(e.name,t)},download:function(t){return k(e.name,t)}})}),n}function U(e,t){if(e.length<2)return[];var n=[],o=c.keyBy(e,function(e){return e.name}),a={name:t?v.a.TENDENCY:v.a.EXPRESSED,render:function(e){var n,a=void 0,i=e.qValue<.05;return!t&&i&&(a=o[e.enrichedGroup].color),r.createElement("div",{className:y()(m.a.Tendency,(n={},S(n,m.a.Significant,i),S(n,m.a.ColoredBackground,!!a),n)),style:{backgroundColor:a,color:a&&Object(g.e)(a)}},t?e.enrichedGroup:P(e.enrichedGroup))},filter:function(e,t,n){return e.enrichedGroup.toUpperCase().includes(n)},sortBy:function(e){return e.enrichedGroup},download:function(e){return e.enrichedGroup},tooltip:r.createElement("span",null,"The group with the highest expression frequency")};if(2===e.length){var i=e[0],u=e[1];n.push({name:v.a.LOG_RATIO,render:function(e){return r.createElement("span",null,Object(l.a)(e.logRatio))},tooltip:r.createElement("span",null,"Log2 of ratio of (unlogged) mean in ",i.name," to (unlogged) mean in ",u.name),sortBy:function(e){return Number(e.logRatio)},download:function(e){return Object(l.a)(e.logRatio)}}),a.tooltip=r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log ratio > 0"),r.createElement("td",null,": Enriched in ",i.name)),r.createElement("tr",null,r.createElement("td",null,"Log ratio <= 0"),r.createElement("td",null,": Enriched in ",u.name)),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association")))}return n.push(a),e.forEach(function(e){n.push({name:e.name,headerRender:function(e){return E("",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name].meanExpression.toFixed(2))},tooltip:r.createElement("span",null,"Mean log2 expression of the listed gene in ",e.description),sortBy:function(t){return t.groupsSet[e.name].meanExpression},download:function(t){return t.groupsSet[e.name].meanExpression.toFixed(2)},uniqueName:e.name+v.a.MEAN_SUFFIX}),n.push({name:e.name,headerRender:function(e){return E("",e)},render:function(t){return r.createElement("span",null,t.groupsSet[e.name].standardDeviation.toFixed(2))},tooltip:r.createElement("span",null,"Standard deviation of log2 expression of the listed gene in ",e.description),sortBy:function(t){return t.groupsSet[e.name].standardDeviation},download:function(t){return t.groupsSet[e.name].standardDeviation.toFixed(2)},uniqueName:e.name+v.a.STANDARD_DEVIATION_SUFFIX})}),n}function Q(e,t){var n={};if(c.isEmpty(t))return[];var r=c.reduce(t,function(t,r){var o=e[r];return o&&c.each(o.groupsSet,function(e){var a=e.name;t[a]||(t[a]={});var i=r+(o.qValue<.05?"*":"");t[a][i]=e.alteredPercentage,n[i]=!0}),t},{}),o={};return c.forEach(n,function(e,t){var n=0;c.forEach(r,function(e){e[t]=e[t]||0,n+=e[t]}),o[t]=n}),c.map(r,function(e,t){return{minorCategory:t,counts:c.map(e,function(e,t){var n=e/o[t]*100;return{majorCategory:t,count:e,percentage:parseFloat(n.toFixed(2))}})}})}function z(e,t){if(c.isEmpty(e))return[{label:T.USER_DEFINED_OPTION,genes:[]}];var n=e;t&&(n=c.map(n,function(e){return Object.assign({},e,{optionName:e.hugoGeneSymbol+": ".concat(I[e.value])})}));var r=c.clone(n).sort(function(e,t){var n=c.reduce(e.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0);return c.reduce(t.groupsSet,function(e,t){return e=t.alteredPercentage>e?t.alteredPercentage:e},0)-n}),o=c.clone(n).sort(function(e,t){var n=c.sumBy(c.values(e.groupsSet),function(e){return e.alteredPercentage})/c.keys(e.groupsSet).length;return c.sumBy(c.values(t.groupsSet),function(e){return e.alteredPercentage})/c.keys(t.groupsSet).length-n}),a=c.clone(n).sort(function(e,t){return e.pValue-t.pValue});return[{label:T.USER_DEFINED_OPTION,genes:[]},{label:T.HIGHEST_FREQUENCY,genes:c.map(r,function(e){return e.optionName||e.hugoGeneSymbol})},{label:T.AVERAGE_FREQUENCY,genes:c.map(o,function(e){return e.optionName||e.hugoGeneSymbol})},{label:T.SIGNIFICANT_P_VALUE,genes:c.map(a,function(e){return e.optionName||e.hugoGeneSymbol})},{label:T.SYNC_WITH_TABLE,genes:[]}]}!function(e){e.USER_DEFINED_OPTION="User-defined genes",e.HIGHEST_FREQUENCY="Genes with highest frequency in any group",e.AVERAGE_FREQUENCY="Genes with highest average frequency",e.SIGNIFICANT_P_VALUE="Genes with most significant p-value",e.SYNC_WITH_TABLE="Sync with table (up to 100 genes)"}(T||(T={})),function(e){e.MUTATION="MUTATION",e.COPY_NUMBER="COPY_NUMBER"}(C||(C={}))},function(e,t,n){"use strict";var r=n(611);t.a=new r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return u});var r,o={sensitivity:["4","3B","3A","2B","2A","1","0"],resistance:["R3","R2","R1"],all:["4","R3","3B","3A","R2","2B","2A","1","R1","0"]};function a(e){return{evidenceTypes:e||"GENE_SUMMARY,GENE_BACKGROUND,ONCOGENIC,MUTATION_EFFECT,VUS,MUTATION_SUMMARY,TUMOR_TYPE_SUMMARY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_RESISTANCE",highestLevelOnly:!1,levels:["LEVEL_1","LEVEL_2A","LEVEL_2B","LEVEL_3A","LEVEL_3B","LEVEL_4","LEVEL_R1","LEVEL_R2"],source:"cbioportal"}}function i(e,t,n,o,a,i,l){var c={id:u(e,t,n,o),hugoSymbol:"",tumorType:t,alterationType:l||r[r.Mutation],entrezGeneId:e,alteration:n||"",consequence:o||"any",proteinStart:void 0===a?-1:a,proteinEnd:void 0===i?-1:i,type:"web",hgvs:"",svType:"DELETION"};return-1!==c.alteration.toLowerCase().indexOf("intragenic")&&(c.alterationType="structural_variant",c.svType="DELETION",c.consequence=""),c}function u(e,t,n,r){var o=t?"".concat(e,"_").concat(t):"".concat(e);return n&&(o="".concat(o,"_").concat(n)),r&&(o="".concat(o,"_").concat(r)),o.trim().replace(/\s/g,"_")}!function(e){e[e.Mutation=0]="Mutation"}(r||(r={}))},,function(e,t,n){e.exports=n(24)(7)},function(e,t,n){e.exports=n(24)(8)},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m});var r=n(7),o=n(510),a=n(545);function i(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=function(){function e(t){c(this,e),this.getData=t,this.filterString="",this.dataHighlighter=function(){return!1},this.dataSelector=function(){return!1},this.dataFilter=function(){return!0}}var t,n,r;return t=e,(n=[{key:"setFilter",value:function(e){this.dataFilter=e}},{key:"resetFilter",value:function(){this.dataFilter=function(){return!0},this.filterString=""}},{key:"isHighlighted",value:function(e){return this.dataHighlighter(e)}},{key:"allData",get:function(){return this.getData()}},{key:"sortedData",get:function(){var e=this.sortMetric||function(){return 0},t=void 0===this.sortAscending||this.sortAscending;return Object(o.c)(this.allData,e,t)}},{key:"sortedFilteredData",get:function(){var e=this,t=this.filterString.toUpperCase(),n=this.filterString.toLowerCase();return this.sortedData.filter(function(r){return e.dataFilter(r,e.filterString,t,n)})}},{key:"sortedFilteredSelectedData",get:function(){return this.sortedFilteredData.filter(this.dataSelector)}},{key:"tableData",get:function(){return this.sortedFilteredSelectedData.length?this.sortedFilteredSelectedData:this.sortedFilteredData}},{key:"visibleData",get:function(){return this.itemsPerPage===a.b?this.tableData:this.tableData.slice(this.page*this.itemsPerPage,(this.page+1)*this.itemsPerPage)}},{key:"showingAllData",get:function(){return this.tableData.length===this.allData.length}}])&&s(t.prototype,n),r&&s(t,r),e}();d([r.observable],f.prototype,"dataFilter",void 0),d([r.observable],f.prototype,"dataSelector",void 0),d([r.observable],f.prototype,"dataHighlighter",void 0),d([r.observable],f.prototype,"filterString",void 0),d([r.observable],f.prototype,"sortMetric",void 0),d([r.observable],f.prototype,"sortAscending",void 0),d([r.observable],f.prototype,"page",void 0),d([r.observable],f.prototype,"itemsPerPage",void 0),d([r.computed],f.prototype,"allData",null),d([r.computed],f.prototype,"sortedData",null),d([r.computed],f.prototype,"sortedFilteredData",null),d([r.computed],f.prototype,"sortedFilteredSelectedData",null),d([r.computed],f.prototype,"tableData",null),d([r.computed],f.prototype,"visibleData",null),d([r.computed],f.prototype,"showingAllData",null),d([r.action],f.prototype,"setFilter",null),d([r.action],f.prototype,"resetFilter",null);var m=function(e){function t(e){return c(this,t),i(this,u(t).call(this,function(){return e}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,f),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=[/^([A-Z*]+)([0-9]+)([A-Z*?]*)$/,/[A-Z]?([0-9]+)(_[A-Z]?([0-9]+))?(delins|ins)([A-Z]+)/,/[A-Z]?([0-9]+)(_[A-Z]?([0-9]+))?(_)?splice/,/[A-Z]?([0-9]+)_[A-Z]?([0-9]+)(.+)/,/([A-Z*])([0-9]+)[A-Z]?fs.*/,/([A-Z]+)?([0-9]+)((ins)|(del)|(dup))/];function o(e){if(e){var t=function(e){var t,n=e.match(r[0]);if(n){var o=n[1],a=parseInt(n[2],10),i=n[3],u=a;o!==i&&"*"!==o&&"*"!==i&&1!==a&&"?"!==i&&(u=a+o.length-1),t={start:a,end:u}}return t}(e);if(t||(t=function(e){var t,n=e.match(r[1]);if(n){var o=parseInt(n[1],10),a=n[3]?parseInt(n[3],10):o;t={start:o,end:a}}return t}(e)),t||(t=function(e){var t,n=e.match(r[2]);if(n){var o=parseInt(n[1],10),a=n[3]?parseInt(n[3],10):o;t={start:o,end:a}}return t}(e)),t||(t=function(e){var t,n=e.match(r[3]);if(n){var o=parseInt(n[1],10),a=parseInt(n[2],10);t={start:o,end:a}}return t}(e)),t||(t=function(e){var t,n=e.match(r[4]);if(n){var o=parseInt(n[2],10),a=o;t={start:o,end:a}}return t}(e)),t||(t=function(e){var t,n=e.match(r[5]);if(n){var o=parseInt(n[2],10),a=o;t={start:o,end:a}}return t}(e)),!t){var n=function(e){var t,n=null;e&&(n=e.match(/[0-9]+/));n&&(t=parseInt(n[0],10));return t}(e);t=n?{start:n,end:n}:void 0}return t}}function a(e){var t=/[0-9]+/g,n=e.match(/[A-Za-z][0-9]+./g),r=[];if(n&&0!==n.length?(r=function(e){var t=e[0].match(/[^0-9]+/g),n=[];if(t&&t.length>0)for(var r=t.join(""),o=0;o<r.length;o++)n.push(r.charCodeAt(o));return n}(n),n=n[0].match(t)):n=e.match(t),n&&n.length>0){var o=n[0];return r&&r.length>0&&(o+="."+r.join("")),parseFloat(o)}return null}},,function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return v});var r=n(0),o=n(82),a=n(712),i=n.n(a),u=n(16),l=n(18),c=n(44),s=n.n(c),p=n(566);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=-1,v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=f(t).call(this,e))||"object"!==y(o)&&"function"!=typeof o?m(r):o).handleChangeItemsPerPage=n.handleChangeItemsPerPage.bind(m(n)),n.resetItemsPerPage=n.resetItemsPerPage.bind(m(n)),n.jumpToPage=n.jumpToPage.bind(m(n)),n.handleShowMore=n.handleShowMore.bind(m(n)),n.getSectionBetweenPaginationButtons=n.getSectionBetweenPaginationButtons.bind(m(n)),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(a=[{key:"jumpToPage",value:function(e){this.props.onChangeCurrentPage&&this.props.onChangeCurrentPage(parseInt(e,10))}},{key:"handleChangeItemsPerPage",value:function(e){this.props.onChangeItemsPerPage&&this.props.onChangeItemsPerPage(parseInt(e.target.value,10))}},{key:"handleShowMore",value:function(){if(this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage&&this.props.onChangeItemsPerPage){var e=this.props.itemsPerPageOptions.indexOf(this.props.itemsPerPage);e>-1&&e<this.props.itemsPerPageOptions.length-1?this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[e+1]):this.props.onChangeItemsPerPage(this.props.itemsPerPage+this.props.itemsPerPageOptions[this.props.itemsPerPageOptions.length-1])}}},{key:"resetItemsPerPage",value:function(){this.props.onChangeItemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.onChangeItemsPerPage(this.props.itemsPerPageOptions[0])}},{key:"getSectionBetweenPaginationButtons",value:function(){return this.props.showMoreButton?r.createElement(o.Button,{id:"showMoreButton",bsSize:"sm",disabled:!this.props.itemsPerPageOptions||!this.props.itemsPerPage||!this.props.totalItems||this.props.itemsPerPage>=this.props.totalItems,onClick:this.handleShowMore,style:{width:200},bsStyle:this.props.bsStyle},"Show more"):r.createElement("span",{key:"textBetweenButtons",className:s()("btn","btn-sm","btn-default","textBetweenButtons","disabled",i.a["default-cursor"]),style:{cursor:"default",color:"black"}},r.createElement(u.If,{condition:this.props.pageNumberEditable},r.createElement(p.a,{className:i.a["page-number-input"],value:this.props.currentPage+"",setValue:this.jumpToPage,maxChars:6,numericOnly:!0})),this.props.textBetweenButtons)}},{key:"render",value:function(){var e=(this.props.itemsPerPageOptions||[]).map(function(e){return r.createElement("option",{key:e,value:e+""},e)});this.props.showAllOption&&e.push(r.createElement("option",{key:"all",value:b+""},"all"));var t=[r.createElement(u.If,{condition:!!this.props.showFirstPage},r.createElement(o.Button,{key:"firstPageBtn",bsSize:"sm",disabled:!!this.props.firstPageDisabled,onClick:this.props.onFirstPageClick,className:s()(this.props.groupButtons?void 0:i.a["margin-right-button"]),bsStyle:this.props.bsStyle},this.props.firstButtonContent)),r.createElement(o.Button,{className:s()("prevPageBtn",this.props.groupButtons?void 0:i.a["margin-right-button"]),key:"prevPageBtn",bsSize:"sm",disabled:!!this.props.previousPageDisabled,onClick:this.props.onPreviousPageClick,bsStyle:this.props.bsStyle},this.props.previousButtonContent),this.getSectionBetweenPaginationButtons(),r.createElement(o.Button,{className:s()("nextPageBtn",this.props.groupButtons?void 0:i.a["margin-left-button"]),key:"nextPageBtn",bsSize:"sm",disabled:!!this.props.nextPageDisabled,onClick:this.props.onNextPageClick,bsStyle:this.props.bsStyle},this.props.nextButtonContent),r.createElement(u.If,{condition:!!this.props.showLastPage},r.createElement(o.Button,{key:"lastPageBtn",bsSize:"sm",disabled:!!this.props.lastPageDisabled,onClick:this.props.onLastPageClick,className:s()(this.props.groupButtons?void 0:i.a["margin-left-button"]),bsStyle:this.props.bsStyle},this.props.lastButtonContent)),r.createElement(u.If,{condition:!!this.props.showMoreButton},r.createElement(o.Button,{id:"resetItemsPerPageButton",bsStyle:"link",bsSize:"sm",className:this.props.itemsPerPage&&this.props.itemsPerPageOptions&&this.props.itemsPerPageOptions.length>0&&this.props.itemsPerPage>this.props.itemsPerPageOptions[0]?void 0:i.a["hidden-button"],onClick:this.resetItemsPerPage},"Reset"))];return t=this.props.groupButtons?r.createElement(o.ButtonGroup,{style:{float:"none"}},t):r.createElement("div",{style:{float:"none"}},t),this.shouldHidePaginationControls&&(t=null),r.createElement("div",{className:s()(i.a.paginationControls,this.props.className),style:this.props.style},r.createElement("span",{style:{fontSize:12,marginRight:10}},this.props.textBeforeButtons),t,r.createElement(u.If,{condition:!!this.props.showItemsPerPageSelector&&!this.shouldHidePaginationControls},r.createElement(o.FormGroup,{bsSize:"sm",className:i.a["form-select"]},r.createElement(o.FormControl,{className:"itemsPerPageSelector",componentClass:"select",value:this.props.itemsPerPage,onChange:this.handleChangeItemsPerPage},e))))}},{key:"shouldHidePaginationControls",get:function(){return this.props.hidePaginationIfOnePage&&this.props.itemsPerPageOptions&&void 0!==this.props.totalItems&&this.props.itemsPerPageOptions[0]>=this.props.totalItems}}])&&d(n.prototype,a),l&&d(n,l),t}();v.defaultProps={itemsPerPage:b,itemsPerPageOptions:[10,25,50,100],showAllOption:!0,textBeforeButtons:"",textBetweenButtons:"text btwn buttons",firstButtonContent:r.createElement("i",{className:"fa fa-angle-double-left"}),previousButtonContent:r.createElement("i",{className:"fa fa-angle-left"}),nextButtonContent:r.createElement("i",{className:"fa fa-angle-right"}),lastButtonContent:r.createElement("i",{className:"fa fa-angle-double-right"}),showItemsPerPageSelector:!0,showFirstPage:!1,showLastPage:!1,className:"",style:{},previousPageDisabled:!1,nextPageDisabled:!1,pageNumberEditable:!1,showMoreButton:!0,groupButtons:!0,hidePaginationIfOnePage:!0,bsStyle:"default"};v=g([l.observer],v)},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var r=n(9),o=n(504),a=n(509);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u={"-2":"homdel","-1":"hetloss",0:null,1:"gain",2:"amp"};function l(e){var t;switch(e="string"==typeof e?e.toLowerCase():""){case"missense_mutation":case"missense":case"missense_variant":t="missense";break;case"frame_shift_ins":case"frame_shift_del":case"frameshift":case"frameshift_deletion":case"frameshift_insertion":case"de_novo_start_outofframe":case"frameshift_variant":t="frameshift";break;case"nonsense_mutation":case"nonsense":case"stopgain_snv":t="nonsense";break;case"splice_site":case"splice":case"splice site":case"splicing":case"splice_site_snp":case"splice_site_del":case"splice_site_indel":case"splice_region":t="splice";break;case"translation_start_site":case"start_codon_snp":case"start_codon_del":t="nonstart";break;case"nonstop_mutation":t="nonstop";break;case"fusion":t="fusion";break;case"in_frame_del":case"in_frame_ins":case"in_frame_deletion":case"in_frame_insertion":case"indel":case"nonframeshift_deletion":case"nonframeshift":case"nonframeshift insertion":case"nonframeshift_insertion":t="inframe";break;default:t="other"}return t}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.molecularProfileIdToMolecularProfile=r.keyBy(t,function(e){return e.molecularProfileId})}var t,n,c;return t=e,(n=[{key:"gene",value:function(e){return e.gene.hugoGeneSymbol}},{key:"molecularAlterationType",value:function(e){var t=this.molecularProfileIdToMolecularProfile[e];return t&&t.molecularAlterationType}},{key:"cna",value:function(e){return"COPY_NUMBER_ALTERATION"===this.molecularAlterationType(e.molecularProfileId)?u[e.value]:null}},{key:"mut_type",value:function(e){return"MUTATION_EXTENDED"===this.molecularAlterationType(e.molecularProfileId)?e.mutationType&&"fusion"===e.mutationType.toLowerCase()?null:e.proteinChange&&"promoter"===e.proteinChange.toLowerCase()?"promoter":l(e.mutationType):null}},{key:"mut_status",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED?Object(a.k)(e)?"somatic":"germline":null}},{key:"mut_position",value:function(e){if("MUTATION_EXTENDED"===this.molecularAlterationType(e.molecularProfileId)){var t=e.proteinPosStart,n=e.proteinPosEnd;return null!==t&&null!==n?[t,n]:null}return null}},{key:"mut_amino_acid_change",value:function(e){return"MUTATION_EXTENDED"===this.molecularAlterationType(e.molecularProfileId)?e.proteinChange:null}},{key:"exp",value:function(e){return"MRNA_EXPRESSION"===this.molecularAlterationType(e.molecularProfileId)?e.value:null}},{key:"prot",value:function(e){return"PROTEIN_LEVEL"===this.molecularAlterationType(e.molecularProfileId)?e.value:null}},{key:"fusion",value:function(e){return"fusion"===l(e.mutationType)||null}},{key:"is_driver",value:function(e){return this.molecularAlterationType(e.molecularProfileId)===o.a.MUTATION_EXTENDED?!!e.putativeDriver:this.molecularAlterationType(e.molecularProfileId)===o.a.COPY_NUMBER_ALTERATION?!!e.oncoKbOncogenic:null}}])&&i(t.prototype,n),c&&i(t,c),e}()},function(e,t,n){"use strict";function r(e){var t,n=e.length;return e.reverse().map(function(e,r){if(t){var o=Math.min(t,e*n/(n-r));return t=o,o}return t=e,e}).reverse()}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n(7);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,u=0;return n=e instanceof Array?e:[e],Object(r.autorun)(function(e){n.reduce(function(e,t){return e&&t.isComplete},!0)&&(t.apply(void 0,o(n.map(function(e){return e.result}))),u+=1),u>=a&&(e.dispose(),i&&i())})}t.a=a},function(e,t,n){"use strict";var r=n(13),o=n(15),a=n(7);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=t,Object(a.runInAction)(function(){n._status="pending",t.then(Object(a.action)(function(e){n._status="complete",n._result=e}),Object(a.action)(function(e){n._status="error",n._error=e}))})}var t,n,r;return t=e,(n=[{key:"status",get:function(){return this._status}},{key:"result",get:function(){return this._result}},{key:"error",get:function(){return this._error}},{key:"promise",get:function(){return this._promise}}])&&i(t.prototype,n),r&&i(t,r),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}l([a.observable],c.prototype,"_status",void 0),l([a.observable],c.prototype,"_result",void 0),l([a.observable],c.prototype,"_error",void 0),l([a.computed],c.prototype,"status",null),l([a.computed],c.prototype,"result",null),l([a.computed],c.prototype,"error",null),l([a.computed],c.prototype,"promise",null);var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},d=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pendingDeletions=[]}var t,n,a;return t=e,(n=[{key:"getPendingDeletions",value:function(){return this._pendingDeletions=this._pendingDeletions.filter(function(e){return"pending"!==e.status}),this._pendingDeletions.map(function(e){return e.promise})}},{key:"addGroup",value:function(e){return r.post(Object(o.f)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"updateGroup",value:function(e,t){return r.post("".concat(Object(o.f)(),"/").concat(e)).send(t)}},{key:"getGroup",value:function(e){return r.get("".concat(Object(o.f)(),"/").concat(e)).then(function(e){return e.body})}},{key:"getGroupsForStudies",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.getPendingDeletions());case 2:return t.abrupt("return",r.post(Object(o.c)()).send(e).then(function(e){return e.body}));case 3:case"end":return t.stop()}},t,this)}))}},{key:"deleteGroup",value:function(e){var t=r.get("".concat(Object(o.f)(),"/delete/").concat(e)).then(function(){});return this._pendingDeletions.push(new c(t)),t}},{key:"addComparisonSession",value:function(e){return r.post(Object(o.h)()).send(e).then(function(e){return{id:e.body.id}})}},{key:"getComparisonSession",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("".concat(Object(o.h)(),"/").concat(e)).then(function(e){return e.body});case 2:return n=t.sent,t.abrupt("return",Object.assign(n.data,{id:n.id}));case 4:case"end":return t.stop()}},t)}))}}])&&s(t.prototype,n),a&&s(t,a),e}());t.a=d},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r="_mutations",o="".concat(r,"_uncalled"),a="Germline"},function(e,t,n){"use strict";function r(e,t,n,r,o){return t?t.reduce(function(t,a){var i=e[a];if(i){var u=i.find(function(e){return e.clinicalAttributeId===n}),l=i.find(function(e){return e.clinicalAttributeId===r});u&&l&&"NA"!=u.value&&"NA"!=l.value&&!Number.isNaN(Number(l.value))&&t.push({uniquePatientKey:a,patientId:i[0].patientId,studyId:i[0].studyId,status:o(u.value),months:parseFloat(l.value)})}return t},[]):[]}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return m});var r=n(517),o=n(9),a=n.n(o),i=n(623),u=n.n(i),l=n(0),c={MUTATION_EXTENDED:"mutations",COPY_NUMBER_ALTERATION:"copy number alterations",MRNA_EXPRESSION:"mRNA expression",PROTEIN_LEVEL:"protein expression"};function s(e,t){var n;return n=e&&t?"Annotating with OncoKB and Cancer Hotspots":e?"Annotating with OncoKB":t?"Annotating with Cancer Hotspots":"Processing data",l.createElement("span",{style:{whiteSpace:"nowrap"}},n)}function p(e,t){return t?"".concat(r.a.ComparisonGroupPrefix,"_").concat(e):e.substring(r.a.ComparisonGroupPrefix.length+1)}function d(e){return e.map(function(e){return{clinicalAttributeId:p(e.id,!0),datatype:"STRING",description:"Membership in ".concat(e.data.name),displayName:"In group: ".concat(e.data.name),comparisonGroup:e,patientAttribute:!1}})}function f(e,t,n,o){var i=a.a.groupBy(n,"molecularAlterationType"),l=a.a.keyBy(n,function(e){return e.molecularProfileId}),s=a.a.mapValues(i,function(e){return!0}),p=a.a.reduce(e,function(e,n){var r=a.a.clone(s),o=!0,i=!1,u=void 0;try{for(var c,p=n.notProfiledAllGenes[Symbol.iterator]();!(o=(c=p.next()).done);o=!0){var d=c.value;d.molecularProfileId in l&&(r[t[d.molecularProfileId].molecularAlterationType]=!0)}}catch(e){i=!0,u=e}finally{try{o||null==p.return||p.return()}finally{if(i)throw u}}a.a.forEach(n.notProfiledByGene,function(e){var n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;c.molecularProfileId in l&&(r[t[c.molecularProfileId].molecularAlterationType]=!0)}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}});var f=!0,m=!1,h=void 0;try{for(var y,g=n.allGenes[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){var b=y.value;b.molecularProfileId in l&&(r[t[b.molecularProfileId].molecularAlterationType]=!1)}}catch(e){m=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(m)throw h}}return a.a.forEach(n.byGene,function(e){var n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value;c.molecularProfileId in l&&(r[t[c.molecularProfileId].molecularAlterationType]=!1)}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}}),a.a.forEach(r,function(t,n){t&&(e[n]=e[n]||0,e[n]+=1)}),e},{}),d=Object.keys(p).filter(function(e){return p[e]>0}).map(function(e){var t=i[e];if(t){if(1===t.length&&o){var n=t[0];return{clinicalAttributeId:"".concat(r.a.ProfiledInPrefix,"_").concat(n.molecularProfileId),datatype:"STRING",description:"Profiled in ".concat(n.name,": ").concat(n.description),displayName:"Profiled in ".concat(n.name),molecularProfileIds:[n.molecularProfileId],patientAttribute:!1}}return{clinicalAttributeId:"".concat(r.a.ProfiledInPrefix,"_").concat(e),datatype:"STRING",description:"",displayName:"Profiled for ".concat(c[e]),molecularProfileIds:t.map(function(e){return e.molecularProfileId}),patientAttribute:!1}}return null}).filter(function(e){return!!e});return d.sort(function(e,t){return u()(e.displayName,t.displayName)}),d}function m(e){return a.a.map(e,function(e){var t=e.name!==e.treatmentId,n=e.description!==e.treatmentId&&e.description!==e.name,r="";return r=t||n?t?n?"".concat(e.name," (").concat(e.treatmentId,"): ").concat(e.description):"".concat(e.name," (").concat(e.treatmentId,")"):"".concat(e.treatmentId,": ").concat(e.description):e.treatmentId,{id:e.treatmentId,value:r,label:r}})}},function(e,t,n){"use strict";n.d(t,"g",function(){return l}),n.d(t,"i",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"h",function(){return p}),n.d(t,"f",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return y});var r=n(0),o=n(620),a=n(9),i=n.n(a),u=n(513);function l(e,t){return t.find(function(t){return i.a.isEqual(t,e)})}function c(e,t){var n=t.filter(function(t){return!i.a.isEqual(t,e)});return n.length===t.length?t.concat([e]):n}function s(e,t){for(var n=[],r=0;r<t;r++)e.includes(r)||n.push(r);return n}function p(e){return r.createElement("span",null,"(",r.createElement("strong",null,e.ordinal),")",e.name)}function d(e,t){var n=e.map(p);switch(n.length){case 0:return r.createElement("span",null);case 1:return n[0];case 2:return r.createElement("span",null,n[0]," ",t," ",n[1]);default:var o=n.slice(0,n.length-1);return r.createElement("span",null,o.map(function(e){return[e,", "]}),t," ",n[n.length-1])}}function f(e){return 1==e.length?e[0]:i.a.reduce(e.slice(2),function(e,t){return o.interpolateLab(e,t)(.5)},o.interpolateLab(e[0],e[1])(.5))}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=1,r=o.rgb(e);return.299*r.r+.587*r.g+.114*r.b>186&&(n=0),t&&(n+=1),["black","white"][n%2]}function h(e,t,n){var r=i.a.keyBy(e,function(e){return e.uid}),o=[],a=!0,l=!1,c=void 0;try{for(var s,p=t[Symbol.iterator]();!(a=(s=p.next()).done);a=!0){for(var d=s.value,f=r[d[0]].studies,m=1;m<d.length;m++)f=Object(u.B)(f,r[d[m]].studies);var h=!0,y=!1,g=void 0;try{for(var b,v=n[Symbol.iterator]();!(h=(b=v.next()).done);h=!0){var S=b.value;d.includes(S)||(f=Object(u.o)(f,r[S].studies))}}catch(e){y=!0,g=e}finally{try{h||null==v.return||v.return()}finally{if(y)throw g}}o=Object(u.F)(o,f)}}catch(e){l=!0,c=e}finally{try{a||null==p.return||p.return()}finally{if(l)throw c}}return o}function y(e,t,n,r){var o=i.a.keyBy(e,function(e){return e.uid}),a=[],l=!0,c=!1,s=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){for(var f=p.value,m=o[f[0]].studies,h=1;h<f.length;h++)m=Object(u.A)(m,o[f[h]].studies);var y=!0,g=!1,b=void 0;try{for(var v,S=n[Symbol.iterator]();!(y=(v=S.next()).done);y=!0){var T=v.value;f.includes(T)||(m=Object(u.n)(m,o[T].studies))}}catch(e){g=!0,b=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw b}}a=Object(u.E)(a,m)}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return Object(u.l)(a,r)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(9);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.some(t,function(e){return"error"===e.status})?"error":r.some(t,function(e){return"pending"===e.status})?"pending":"complete"}},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return I});var r=n(0),o=n(9),a=n(44),i=n.n(a),u=(n(691),n(151)),l=n(67),c=n(7),s=n(18),p=n(667);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},T=function(e){function t(){var e;return d(this,t),(e=h(this,y(t).apply(this,arguments))).renderedOnce=!1,e}return g(t,r["Component"]),m(t,[{key:"render",value:function(){var e=this;return this.renderedOnce||setTimeout(function(){return e.renderedOnce=!0}),r.createElement("div",{className:this.props.className},this.renderedOnce&&this.props.children,!this.renderedOnce&&(this.props.loadingState||null))}}]),t}();S([c.observable],T.prototype,"renderedOnce",void 0),T=S([s.observer],T);var C=function(e){function t(e){return d(this,t),h(this,y(t).call(this,e))}return g(t,r["Component"]),m(t,[{key:"componentDidMount",value:function(){this.props.onTabDidMount&&this.props.onTabDidMount(this.div)}},{key:"componentWillUnmount",value:function(){this.props.onTabUnmount&&this.props.onTabUnmount(this.div)}},{key:"assignRef",value:function(e){this.div=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{ref:function(t){return e.div=t},className:i()({"msk-tab":!0,hiddenByPosition:!!this.props.inactive},this.props.className)},this.props.children)}}]),t}();S([u.default],C.prototype,"assignRef",null);var I=function(e){function t(e){var n;return d(this,t),(n=h(this,y(t).call(this,e))).shownTabs=[],n.tabRefs=[],n.tabClickHandlers=Object(p.a)(function(e,t){e.preventDefault(),n.setActiveTab(t.id,t.datum)}),n.state={currentPage:1,pageBreaks:[]},n}return g(t,r["Component"]),m(t,[{key:"cloneTab",value:function(e,t,n){return n?r.cloneElement(e,{inactive:t},this.props.loadingComponent):r.cloneElement(e,{inactive:t})}},{key:"setActiveTab",value:function(e,t){this.props.onTabClick&&this.props.onTabClick(e,t)}},{key:"navTabsRefHandler",value:function(e){this.navTabsRef=e}},{key:"tabRefHandler",value:function(e,t){e&&t&&this.tabRefs.push({id:e,element:t})}},{key:"nextPage",value:function(){this.setState({currentPage:this.state.currentPage+1})}},{key:"prevPage",value:function(){this.setState({currentPage:this.state.currentPage-1})}},{key:"initOnResize",value:function(e,t){var n=this,r=null;return function(e){null!==r&&(window.clearTimeout(r),r=null),r=window.setTimeout(function(){n.initPaging()},600)}}},{key:"render",value:function(){var e=this;if(this.props.children&&r.Children.count(this.props.children)){var t,n=this.props.children,a=r.Children.toArray(n),u=e.props.activeTabId&&o.some(a,function(t){return t.props.id===e.props.activeTabId})?e.props.activeTabId:a[0].props.id;return t=o.reduce(a,function(t,n){return n.props.hide||(n.props.id===u?(e.shownTabs.push(n.props.id),t.push(e.cloneTab(n,!1))):(!1===n.props.unmountOnHide||void 0===n.props.unmountOnHide&&!1===e.props.unmountOnHide)&&o.includes(e.shownTabs,n.props.id)&&t.push(e.cloneTab(n,!0))),t},[]),r.createElement("div",{id:this.props.id?this.props.id:"",className:i()("msk-tabs","posRelative",this.props.className)},this.navTabs(n,u),r.createElement(T,{className:"tab-content",loadingState:r.createElement(l.a,{isLoading:!0,center:!0,size:"big"})},t))}return null}},{key:"navTabs",value:function(e,t){this.tabRefs=[];var n=this.tabPages(e,t),o=this.state.pageBreaks.length+1,a=this.props.enablePagination?{border:0,overflow:"hidden"}:{},u=this.state.currentPage>1?r.createElement("li",{key:"prevPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.prevPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-left",style:this.props.arrowStyle}))):null,l=this.state.currentPage<o?r.createElement("li",{key:"nextPage",style:{cursor:"pointer"}},r.createElement("a",{onClick:this.nextPage.bind(this)},r.createElement("i",{className:"fa fa-chevron-right",style:this.props.arrowStyle}))):null,c=this.props.tabButtonStyle||"tabs";return r.createElement("ul",{ref:this.navTabsRefHandler.bind(this),className:i()("nav","nav-".concat(c)),style:a},u,n[this.state.currentPage-1],l)}},{key:"tabPages",value:function(e,t){var n=this,o=[[]],a=1;return r.Children.forEach(e,function(e){if(e&&!e.props.hide){var u=t===e.props.id?"active":"";n.props.enablePagination&&n.state.pageBreaks.length>0&&n.state.pageBreaks[a-1]===e.props.id&&(o[++a-1]=[]),o[a-1].push(r.createElement("li",{key:e.props.id,style:{cursor:"pointer"},ref:n.tabRefHandler.bind(n,e.props.id),className:u},r.createElement("a",{className:i()("tabAnchor","tabAnchor_".concat(e.props.id),e.props.anchorClassName),onClick:n.tabClickHandlers(e.props),href:n.props.getTabHref&&n.props.getTabHref(e.props.id),style:e.props.anchorStyle},e.props.linkText)))}}),o}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){0===e.state.pageBreaks.length&&e.initPaging()},1)}},{key:"initPaging",value:function(){if(this.props.enablePagination){var e=this.findPageBreaks(),t=this.findCurrentPage(e);this.setState({currentPage:t,pageBreaks:e})}}},{key:"findCurrentPage",value:function(e){var t=this,n=1,r=!1;return this.props.activeTabId&&e.length>0&&o.each(this.tabRefs,function(o){if(o.id===e[n-1]&&n++,o.id===t.props.activeTabId)return r=!0,!1}),r?n:1}},{key:"findPageBreaks",value:function(){var e=[],t=this.navTabsRef&&this.navTabsRef.offsetWidth||0;if(t>0){var n=0;o.each(this.tabRefs,function(r){n+=r.element.offsetWidth;var o=e.length>0?160:100;n>t-o&&(e.push(r.id),n=r.element.offsetWidth)})}return e}}]),t}();I.defaultProps={unmountOnHide:!0,loadingComponent:r.createElement(l.a,{isLoading:!0,center:!0,size:"big"})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return p});var r,o,a,i=n(2),u=n(9);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.PIE_CHART="PIE_CHART",e.BAR_CHART="BAR_CHART",e.SURVIVAL="SURVIVAL",e.TABLE="TABLE",e.SCATTER="SCATTER",e.MUTATED_GENES_TABLE="MUTATED_GENES_TABLE",e.FUSION_GENES_TABLE="FUSION_GENES_TABLE",e.CNA_GENES_TABLE="CNA_GENES_TABLE",e.NONE="NONE"}(o||(o={})),function(e){e.PIE_CHART="pie chart",e.BAR_CHART="bar chart",e.SURVIVAL="survival plot",e.TABLE="table",e.SCATTER="density plot",e.MUTATED_GENES_TABLE="table",e.FUSION_GENES_TABLE="table",e.CNA_GENES_TABLE="table",e.NONE="none"}(a||(a={}));var c="Freq",s={alwaysShownClinicalAttributes:["SAMPLE_CANCER_TYPE","SAMPLE_CANCER_TYPE_DETAILED"],defaultPriority:1,tableAttrs:["SAMPLE_CANCER_TYPE","SAMPLE_CANCER_TYPE_DETAILED"],initialBins:{SAMPLE_MSI_SCORE:[1,2,5,10,30]},priority:{SAMPLE_CANCER_TYPE:3e3,PATIENT_CANCER_TYPE:3e3,SAMPLE_CANCER_TYPE_DETAILED:2e3,PATIENT_CANCER_TYPE_DETAILED:2e3,OS_SURVIVAL:400,DFS_SURVIVAL:300,MUTATION_COUNT_CNA_FRACTION:200,MUTATED_GENES_TABLE:90,FUSION_GENES_TABLE:85,CNA_GENES_TABLE:80,CANCER_STUDIES:70,SEQUENCED:60,HAS_CNA_DATA:50,PATIENT_SAMPLE_COUNT:40,MUTATION_COUNT:30,FRACTION_GENOME_ALTERED:20,PATIENT_GENDER:9,SAMPLE_GENDER:9,PATIENT_SEX:9,SAMPLE_SEX:9,PATIENT_AGE:9,SAMPLE_AGE:9,PATIENT_RACE:8,SAMPLE_RACE:8,PATIENT_ETHNICITY:8,SAMPLE_ETHNICITY:8,SAMPLE_SAMPLE_TYPE:8,PATIENT_SAMPLE_TYPE:8,PATIENT_HISTOLOGY:8,SAMPLE_HISTOLOGY:8,SAMPLE_TUMOR_TYPE:8,PATIENT_TUMOR_TYPE:8,PATIENT_SUBTYPE:8,SAMPLE_SUBTYPE:8,PATIENT_TUMOR_SITE:8,SAMPLE_TUMOR_SITE:8},thresholds:{pieToTable:20,piePadding:20,barRatio:.8,rowsInTableForOneGrid:4,clinicalCharts:20,chartHighlight:1e4},layout:{layout:[],cols:6,grid:{w:195,h:170},gridMargin:{x:5,y:5},dimensions:(r={},l(r,o.PIE_CHART,{w:1,h:1}),l(r,o.BAR_CHART,{w:2,h:1}),l(r,o.SCATTER,{w:2,h:2}),l(r,o.TABLE,{w:2,h:2}),l(r,o.SURVIVAL,{w:2,h:2}),l(r,o.MUTATED_GENES_TABLE,{w:2,h:2}),l(r,o.FUSION_GENES_TABLE,{w:2,h:2}),l(r,o.CNA_GENES_TABLE,{w:2,h:2}),l(r,o.NONE,{w:0,h:0}),r)},colors:{theme:{primary:"#2986E2",secondary:"#DC3912",tertiary:"#f88508",quaternary:"#109618",unselectedGroup:"#2986E2",selectedGroup:"#DC3912",clinicalFilterTitle:"#A9A9A9",clinicalFilterContent:"#2986E2"}}},p=u.assign(s,i.b.serverConfig.study_view)},function(e,t,n){"use strict";function r(e){return new Promise(function(t){return setTimeout(t,e)})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return new Promise(function(r){var o=0,a=setInterval(function(){if(o+=t,e())clearInterval(a),r();else if(o>n)throw clearInterval(a),new Error("sleepUntil timeout")},t)})}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n(9);function o(e,t,n,r){return!!a(e,r,n)[t]}function a(e,t,n){var o=t.samples[e];if(!o)return{};var a=n?o.byGene[n]:r.flatten(r.values(o.byGene));if(!a&&0===o.allGenes.length)return{};var i={},u=!0,l=!1,c=void 0;try{for(var s,p=(a||[])[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){i[s.value.molecularProfileId]=!0}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}var d=!0,f=!1,m=void 0;try{for(var h,y=o.allGenes[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){i[h.value.molecularProfileId]=!0}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}return i}function i(e,t,n,r){var o=a(e,n,r);return t.map(function(e){return!!o[e]})}},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});var r=n(9),o=n(504),a="Coexpression data can be filtered by gene, or by cytoband. To exclude all genes from a cytoband, prefix with a dash -. For example, to exclude all genes on 1p, search '-1p'.";function i(e){return r.sortBy(e,function(e){return e.molecularProfileId.toLowerCase().indexOf("rna_seq")>-1?0:1})}function u(e){return i(e.filter(function(e){var t=!1;if(e.molecularAlterationType===o.a.MRNA_EXPRESSION||e.molecularAlterationType===o.a.PROTEIN_LEVEL){var n=e.molecularProfileId.toLowerCase();t=n.indexOf("merged_median_zscores")>-1||-1===n.indexOf("zscores")}return t}))}function l(e){return e.filter(function(e){var t=!1;e.molecularAlterationType===o.a.GENESET_SCORE&&(t=-1===e.molecularProfileId.toLowerCase().indexOf("gsva_pvalues"));return t})}function c(e,t){return e.map(function(e){var n=e.name;if(t){var r=t[e.molecularProfileId];n+=" (".concat(r," sample").concat(1!==r?"s":"",")")}return{label:n,value:e.molecularProfileId}})}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return a});var o="undefined";function a(e,t){return r(e)===o?t:e}},function(e,t,n){"use strict";var r=n(0),o=n(44),a=n.n(o),i=n(18),u=n(7),l=n(503);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m,h=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};function y(e,t,n){return null!=e&&e.length>t+(n||0)}var g=m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=r.createElement("span",{style:{whiteSpace:"nowrap"},className:a()(this.props.className)},this.truncatedText);return this.needsTooltip&&(t=r.createElement(l.b,{overlay:function(){return e.props.tooltip||r.createElement("div",{style:{maxWidth:500}},e.props.text)},placement:"right",destroyTooltipOnHide:!0},t)),t}},{key:"needsTooltip",get:function(){return"never"!==this.props.addTooltip&&("always"===this.props.addTooltip||"truncated"===this.props.addTooltip&&this.isTooLong)}},{key:"isTooLong",get:function(){return y(this.props.text,this.props.maxLength||m.defaultProps.maxLength,this.props.buffer)}},{key:"truncatedText",get:function(){return e=this.props.text,t=this.props.suffix||m.defaultProps.suffix,n=this.props.maxLength||m.defaultProps.maxLength,r=this.props.buffer,y(e,n,r)?e.substring(0,n)+t:e;var e,t,n,r}}])&&c(n.prototype,o),i&&c(n,i),t}();g.defaultProps={maxLength:50,buffer:2,suffix:"...",addTooltip:"truncated"},h([u.computed],g.prototype,"needsTooltip",null),h([u.computed],g.prototype,"isTooLong",null),h([u.computed],g.prototype,"truncatedText",null),g=m=h([i.observer],g),t.a=g},,function(e,t,n){"use strict";var r=n(0),o=n(9),a=n(18),i=n(44),u=n.n(i),l=n(608),c=n.n(l),s=n(7),p=n(523),d=n(512);function f(e){try{return{query:e?Object(d.g)(e.trim().toUpperCase()):[],error:void 0}}catch(a){if("SyntaxError"!==a.name)return{query:[],error:{start:0,end:0,message:"Unexpected ".concat(a)}};var t,n,r,o=a.location.start.offset;return o===e.length?(t="after",n=o-1,r=o):0===o?(t="before",n=o,r=o+1):(t="at",n=o,r=o+1),{query:[],error:{start:n,end:r,message:"OQL syntax error ".concat(t," selected character; please fix and submit again.")}}}}n(724);var m=n(54),h=n(152),y=n(84),g=n.n(y),b=n(151),v=n(618),S=n.n(v),T=n(539);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){if(0==e.genes.length){return r.createElement("div",{className:c.a.suggestionBubble,title:"Could not find gene symbol. Click to remove it from the gene list.",onClick:function(){return e.replaceGene(e.alias,"")}},r.createElement(S.a,{className:c.a.icon,name:"times-circle"}),r.createElement("span",{className:c.a.noChoiceLabel},e.alias))}if(1==e.genes.length){var t=e.genes[0].hugoGeneSymbol,n="'".concat(e.alias,"' is a synonym for '").concat(t,"'. Click here to replace it with the official symbol.");return r.createElement("div",{className:c.a.suggestionBubble,title:n,onClick:function(){return e.replaceGene(e.alias,t)}},r.createElement(S.a,{className:c.a.icon,name:"question"}),r.createElement("span",{className:c.a.singleChoiceLabel},e.alias),r.createElement("span",null,": ".concat(t)))}var o=e.genes.map(function(e){return{label:e.hugoGeneSymbol,value:e.hugoGeneSymbol}});return r.createElement("div",{className:c.a.suggestionBubble,title:"Ambiguous gene symbol. Click on one of the alternatives to replace it."},r.createElement(S.a,{className:c.a.icon,name:"question"}),r.createElement("span",{className:c.a.multiChoiceLabel},e.alias),r.createElement("span",null,": "),r.createElement(T.a,{placeholder:"select a symbol",options:o,onChange:function(t){return t&&e.replaceGene(e.alias,t.value)},autosize:!0}))},_=function(e){return e.oql instanceof Error?r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("span",{className:c.a.errorMessage},"Cannot validate gene symbols because of invalid OQL. ".concat(e.oql.message))):0===e.oql.query.length?null:!e.errorMessageOnly&&e.validatingGenes?r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("span",{className:c.a.pendingMessage},"Validating gene symbols...")):e.genes instanceof Error?r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("span",{className:c.a.pendingMessage},"Unable to validate gene symbols.")):e.genes.suggestions.length>0?r.createElement("div",{className:c.a.GeneSymbolValidator},r.createElement("div",{className:c.a.invalidBubble,title:"Please edit the gene symbols."},r.createElement(S.a,{className:c.a.icon,name:"exclamation-circle"}),r.createElement("span",null,"Invalid gene symbols.")),e.genes.suggestions.map(function(t,n){return r.createElement(k,{key:n,genes:t.genes,alias:t.alias,replaceGene:e.replaceGene})})):e.errorMessageOnly?null:r.createElement("div",{className:u()(c.a.GeneSymbolValidator,(t={},n=c.a.nowrap,o=!e.wrapTheContent,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},r.createElement("div",{className:c.a.validBubble,title:"You can now submit the list."},r.createElement(S.a,{className:c.a.icon,name:"check-circle"}),r.createElement("span",null,"All gene symbols are valid.")));var t,n,o},w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,E(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return this.props.children?r.createElement("div",{id:"wideGeneBoxValidationStatus"},this.props.children):r.createElement("div",{id:"geneBoxValidationStatus"},r.createElement(_,this.props))}}])&&I(n.prototype,o),a&&I(n,a),t}(),O=r.memo(w);function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},F=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function B(e){return Number.isInteger(Number(e))}var H=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=D(t).apply(this,arguments),(e=!r||"object"!==L(r)&&"function"!=typeof r?G(n):r).genes=Object(m.b)({invoke:function(){return F(G(e),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i,u,l,c,s,p,d=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.geneIds.length){e.next=2;break}return e.abrupt("return",{found:[],suggestions:[]});case 2:return t=o.partition(o.uniq(this.geneIds),B),n=R(t,2),r=n[0],a=n[1],i=function(){return F(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.length){e.next=6;break}return e.next=3,h.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:r});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=o.difference(r,t.map(function(e){return e.entrezGeneId+""})),a=n.map(function(e){return{alias:e,genes:[]}}),i=t.map(function(e){return{alias:e.entrezGeneId+"",genes:[e]}}),u=[].concat(M(a),M(i)),e.abrupt("return",{found:t,suggestions:u});case 12:case"end":return e.stop()}},e)}))},u=function(){return F(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.length){e.next=6;break}return e.next=3,h.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:a});case 3:t=e.sent,e.next=7;break;case 6:t=[];case 7:return n=o.difference(a,t.map(function(e){return e.hugoGeneSymbol})),e.next=10,Promise.all(n.map(function(e){return i.getGeneSuggestions(e)}));case 10:return r=e.sent,e.abrupt("return",{found:t,suggestions:r});case 12:case"end":return e.stop()}},e)}))},e.next=7,Promise.all([i(),u()]);case 7:return l=e.sent,c=R(l,2),s=c[0],p=c[1],e.abrupt("return",{found:[].concat(M(s.found),M(p.found)),suggestions:[].concat(M(s.suggestions),M(p.suggestions))});case 12:case"end":return e.stop()}},e,this)}))},onResult:function(t){e.props.afterValidation&&e.props.afterValidation(0===t.suggestions.length,e.genes.result,e.oql)},default:{found:[],suggestions:[]}}),e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r["Component"]),n=t,(a=[{key:"getGeneSuggestions",value:function(e){return F(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,h.a.getAllGenesUsingGET({alias:e});case 3:return t.t1=t.sent,t.abrupt("return",{alias:t.t0,genes:t.t1});case 5:case"end":return t.stop()}},t)}))}},{key:"render",value:function(){return this.props.skipGeneValidation&&this.props.afterValidation&&this.props.afterValidation(!0,{found:[],suggestions:[]},this.oql),r.createElement(O,{genes:this.props.skipGeneValidation?{found:[],suggestions:[]}:this.genes.isError?new Error("ERROR"):this.genes.result,oql:this.oqlOrError,validatingGenes:!this.props.skipGeneValidation&&this.genes.isPending,errorMessageOnly:this.props.errorMessageOnly,wrapTheContent:this.props.wrap,replaceGene:this.replaceGene},this.props.children)}},{key:"replaceGene",value:function(e,t){var n=Object(p.e)(this.props.geneQuery.toUpperCase().replace(new RegExp("\\b".concat(e.toUpperCase(),"\\b"),"g"),function(){return t.toUpperCase()}));this.props.updateGeneQuery(n)}},{key:"oql",get:function(){return f(this.props.geneQuery)}},{key:"geneIds",get:function(){return this.oql.error?[]:this.oql.query.map(function(e){return e.gene})}},{key:"oqlOrError",get:function(){return this.oql.error?null!==this.props.focus&&void 0!==this.props.focus?this.props.focus===p.b.Unfocused?new Error("Please click 'Submit' to see location of error."):new Error("OQL syntax error at selected character; please fix and submit again."):new Error(this.oql.error.message):this.oql}}])&&N(n.prototype,a),i&&N(n,i),t}();H.defaultProps={errorMessageOnly:!1},j([g.a],H.prototype,"getGeneSuggestions",null),j([s.computed],H.prototype,"oql",null),j([s.computed],H.prototype,"geneIds",null),j([s.computed],H.prototype,"oqlOrError",null),j([b.default,s.action],H.prototype,"replaceGene",null);var K=H=j([a.observer],H);function V(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return Y});var Y,Z=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":W(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.STUDY_VIEW_PAGE=1]="STUDY_VIEW_PAGE",e[e.ONCOPRINT_HEATMAP=2]="ONCOPRINT_HEATMAP"}(Y||(Y={}));var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=U(this,Q(t).call(this,e))).currentTextAreaValue="",n.geneQuery="",n.geneQueryIsValid=!0,n.queryToBeValidated="",n.isFocused=!1,n.skipGenesValidation=!1,n.updateQueryToBeValidateDebounce=o.debounce(function(){n.queryToBeValidated=n.currentTextAreaValue,n.skipGenesValidation=!1,""===n.currentTextAreaValue&&(n.geneQuery="",n.props.callback&&n.props.callback(f(""),{found:[],suggestions:[]},n.geneQuery))},500),n.geneQuery=n.props.inputGeneQuery||"",n.queryToBeValidated=n.geneQuery,n.props.validateInputGeneQuery||(n.skipGenesValidation=!0),n.textAreaRef=r.createRef(),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.disposers=[Object(s.reaction)(function(){return e.props.inputGeneQuery},function(t){(t||"").toUpperCase()!==e.geneQuery.toUpperCase()&&(e.props.validateInputGeneQuery||(e.skipGenesValidation=!0),e.geneQuery=(t||"").trim(),e.queryToBeValidated=e.geneQuery),e.updateTextAreaRefValue()}),Object(s.reaction)(function(){return e.showFullText},function(){e.updateTextAreaRefValue()})]}},{key:"componentWillUnmount",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.disposers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"updateGeneQuery",value:function(e){this.geneQuery=e,this.queryToBeValidated=e,this.isFocused=!0,this.updateTextAreaRefValue()}},{key:"getTextAreaValue",value:function(){return this.showFullText?this.geneQuery:this.getFocusOutValue()}},{key:"updateTextAreaRefValue",value:function(){this.textAreaRef.current.value=this.getTextAreaValue()}},{key:"getFocusOutValue",value:function(){return function(e){var t="";if(e.length>0){t=e[0];for(var n=1;n<e.length;n++){if(t.length>13||t.length+e[n].length>13){t+=" and "+(e.length-n)+" more";break}t+=" "+e[n]}}return t}(f(this.geneQuery).query.map(function(e){return e.gene}))}},{key:"afterGeneSymbolValidation",value:function(e,t,n){this.geneQueryIsValid=e,this.geneQuery=this.queryToBeValidated,this.props.callback&&this.props.callback(n,t,this.geneQuery),void 0===n.error||void 0!==this.props.focus&&this.props.focus!==p.b.ShouldFocus||!this.textAreaRef.current||(this.textAreaRef.current.focus(),this.textAreaRef.current.setSelectionRange(n.error.start,n.error.end))}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:c.a.genesSelection},r.createElement("textarea",{ref:this.textAreaRef,onFocus:function(){return e.isFocused=!0},onBlur:function(){return e.isFocused=!1},className:u.a.apply(void 0,V(this.textAreaClasses)),rows:5,cols:80,placeholder:this.promptText,title:this.promptText,defaultValue:this.getTextAreaValue(),onChange:function(t){e.currentTextAreaValue=t.currentTarget.value,e.updateQueryToBeValidateDebounce()},"data-test":"geneSet"}),r.createElement(K,{focus:this.props.focus,geneQuery:this.queryToBeValidated,skipGeneValidation:this.skipGenesValidation,updateGeneQuery:this.updateGeneQuery,afterValidation:this.afterGeneSymbolValidation,errorMessageOnly:this.props.location===Y.STUDY_VIEW_PAGE},this.props.children))}},{key:"textAreaClasses",get:function(){var e=[];switch(this.props.location){case Y.STUDY_VIEW_PAGE:e.push(c.a.studyView),!this.isFocused&&this.geneQueryIsValid||e.push(c.a.studyViewFocus);break;case Y.ONCOPRINT_HEATMAP:e.push(c.a.oncoprintHeatmap);break;default:e.push(c.a.default)}return this.geneQuery?e.push(c.a.notEmpty):e.push(c.a.empty),e}},{key:"showFullText",get:function(){return!this.geneQueryIsValid||this.isFocused||this.props.location!==Y.STUDY_VIEW_PAGE}},{key:"promptText",get:function(){return this.props.textBoxPrompt?this.props.textBoxPrompt:"Click gene symbols below or enter here"}}])&&q(n.prototype,a),i&&q(n,i),t}();J.defaultProps={validateInputGeneQuery:!0},Z([s.observable],J.prototype,"geneQuery",void 0),Z([s.observable],J.prototype,"geneQueryIsValid",void 0),Z([s.observable],J.prototype,"queryToBeValidated",void 0),Z([s.observable],J.prototype,"isFocused",void 0),Z([s.observable],J.prototype,"skipGenesValidation",void 0),Z([b.default,s.action],J.prototype,"updateGeneQuery",null),Z([b.default,s.action],J.prototype,"updateTextAreaRefValue",null),Z([s.computed],J.prototype,"textAreaClasses",null),Z([s.computed],J.prototype,"showFullText",null),Z([b.default,s.action],J.prototype,"afterGeneSymbolValidation",null),Z([s.computed],J.prototype,"promptText",null),J=Z([a.observer],J);t.b=J},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},p=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=u(t).call(this,e))||"object"!==o(a)&&"function"!=typeof a?l(r):a).enterPressedSinceLastBlur=!1,n.dirty=!1,n.onKeyPress=n.onKeyPress.bind(l(n)),n.onKeyUp=n.onKeyUp.bind(l(n)),n.onBlur=n.onBlur.bind(l(n)),n.spanRef=n.spanRef.bind(l(n)),n}var n,p,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(p=[{key:"spanRef",value:function(e){this.spanElt=e}},{key:"onKeyPress",value:function(e){this.props.onKeyPress&&this.props.onKeyPress(e);var t=e.key;if("Enter"===t)return e.preventDefault(),this.enterPressedSinceLastBlur=!0,void e.currentTarget.blur();if(this.props.numericOnly){/^\d$/.test(t)||e.preventDefault()}else if(this.props.isPercentage){/^[%\d]$/.test(t)||e.preventDefault()}if(this.props.maxChars&&this.spanElt.innerText.length===this.props.maxChars){var n=window.getSelection();n.containsNode(this.spanElt,!0)&&n.toString().length||e.preventDefault()}}},{key:"onKeyUp",value:function(e){this.props.onKeyUp&&this.props.onKeyUp(e),this.props.maxChars&&this.spanElt.innerText.length>this.props.maxChars&&(this.spanElt.innerText=this.spanElt.innerText.substring(this.spanElt.innerText.length-this.props.maxChars))}},{key:"onBlur",value:function(e){this.props.onBlur&&this.props.onBlur(e);var t=e.currentTarget.innerText;this.setText(this.props.value),t.length>0&&(t!==this.props.value||this.enterPressedSinceLastBlur)&&(this.dirty=!0,this.props.setValue(t)),this.enterPressedSinceLastBlur=!1}},{key:"setText",value:function(e){this.spanElt.innerText=e}},{key:"componentDidMount",value:function(){this.setText(this.props.value)}},{key:"componentWillReceiveProps",value:function(e){(this.dirty||e.value!==this.props.value)&&(this.dirty=!1,this.setText(e.value))}},{key:"render",value:function(){var e=this.props,t=(e.contentEditable,e.onKeyPress,e.onKeyUp,e.onBlur,e.value,e.setValue,e.maxChars,e.numericOnly,e.isPercentage,e.textFieldAppearance,e.style),n=s(e,["contentEditable","onKeyPress","onKeyUp","onBlur","value","setValue","maxChars","numericOnly","isPercentage","textFieldAppearance","style"]),o={};return this.props.textFieldAppearance&&(o={MozAppearance:"textfield",WebkitAppearance:"textfield",backgroundColor:"white",border:"1px solid darkgray",boxShadow:"1px 1px 1px 0 lightgray inset",marginTop:"5px",padding:"2px 3px"}),o=Object.assign({},o,t),r.createElement("span",a({ref:this.spanRef,contentEditable:!0,onKeyPress:this.onKeyPress,onKeyUp:this.onKeyUp,onBlur:this.onBlur,style:o},n))}}])&&i(n.prototype,p),d&&i(n,d),t}()},function(e,t,n){"use strict";var r=n(0),o=n(7),a=n(18),i=n(673),u=n.n(i),l=n(503),c=n(10),s=n.n(c),p=n(151);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,m(t).apply(this,arguments))).tooltipVisible=!1,e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"onVisibleChange",value:function(e){var t=s()(this.el).innerWidth(),n=this.el.scrollWidth-t>1;this.tooltipVisible=!this.props.hideTooltip&&e&&n}},{key:"setRef",value:function(e){this.el=e}},{key:"render",value:function(){return r.createElement(l.b,{overlay:r.createElement("span",null,this.props.text),visible:this.tooltipVisible,onVisibleChange:this.onVisibleChange},r.createElement("div",{className:u.a.text,style:this.props.style,ref:this.setRef},this.props.text))}}])&&d(n.prototype,o),a&&d(n,a),t}();g([o.observable],b.prototype,"tooltipVisible",void 0),g([p.default,o.action],b.prototype,"onVisibleChange",null),g([p.default],b.prototype,"setRef",null),b=g([a.observer],b),t.a=b},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(33),o=n.n(r);function a(e){var t="string"==typeof e?{pathname:e}:e;return o.a.format(Object.assign({protocol:"https",host:"www.ncbi.nlm.nih.gov"},t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d});var r=n(9),o=n(633),a=["5xzc"];function i(e,t){var n={pdbInfo:e.title};return r.find(e.compound,function(e){if(e.molecule&&-1!==r.indexOf(e.chain,t.toLowerCase()))return n.moleculeInfo=e.molecule,e}),n}function u(e){return function(e){var t={};return e.forEach(function(e){t[e.pdbId]||(t[e.pdbId]={}),t[e.pdbId][e.chain]||(t[e.pdbId][e.chain]=[]),t[e.pdbId][e.chain].push(e)}),t}(e)}function l(e){var t=[];return r.each(e,function(e){r.each(e,function(e){var n=function(e){var t,n="";if(!(e.length>0))return;t=e[0].seqFrom;return e.forEach(function(e){var r=function(e){var t,n=e.midlineAlign,r=e.seqAlign,o=e.pdbAlign;if(n.length===r.length&&n.length===o.length){for(var a=[],i=0;i<n.length;i++)"-"!==r[i]&&("-"===o[i]?a.push("-"):a.push(n[i]));t=a.join("")}return t}(e)||"",o=Math.abs(e.seqFrom-t);if(e.seqFrom<t){var a=Math.abs(r.length-o);n=r.length>=o?r+n.substr(a):r+c(a)+n}else if(e.seqFrom>=t){var i=Math.abs(n.length-o);n=n.length>=o?n.substr(0,n.length-i)+r+n.substr(n.length-i+r.length):n+c(i)+r}t=Math.min(t,e.seqFrom)}),{pdbId:e[0].pdbId,chain:e[0].chain,uniprotStart:t,uniprotEnd:t+n.length-1,alignment:n,identityPerc:s(n),identity:p(n)}}(e);n&&t.push(n)})}),t}function c(e){for(var t=[],n=0;n<e;n++)t.push(o.a);return t.join("")}function s(e){for(var t=0,n=0,r=0;r<e.length;r++){var a=e[r];a===o.a?t++:a!==o.b&&a!==o.c&&a!==o.d||n++}return 1-n/(e.length-t)}function p(e){e=e.toLowerCase();for(var t=0,n=0;n<e.length;n++)e[n].match(/[a-z]/)&&t++;return t}function d(e,t){for(var n=[0,0,0,0],r=t?-1:1,o=0;o<e.length||o<5;o++)n.push(r*e.charCodeAt(o));return n}},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),o=n(693),a=n(44),i=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=o,m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,p(t).apply(this,arguments))).handleInputRef=function(t){e.input=t,e.props.inputProps&&"function"==typeof e.props.inputProps.ref&&e.props.inputProps.ref(t)},e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"componentDidUpdate",value:function(){this.input.indeterminate=!!this.props.indeterminate}},{key:"render",value:function(){var e=this.props.labelProps&&this.props.labelProps.className,t=i()(f.labeledCheckbox,e);return r.createElement("label",l({className:t},this.props.labelProps),r.createElement("input",l({type:"checkbox",checked:this.props.checked,onChange:this.props.onChange,disabled:this.props.disabled},this.props.inputProps,{ref:this.handleInputRef})),this.props.children)}}])&&c(n.prototype,o),a&&c(n,a),t}()},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(44),i=n.n(a),u=n(7);n(696);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e,t,n,o;return this.props.store.queryContainsOql?(this.props.isUnaffected?(e="alert alert-unaffected",t="The results below are not affected by the OQL specification from your query.",n="fa fa-md fa-info-circle",o="OqlStatusBannerUnaffected"):this.props.tabReflectsOql?(e="alert alert-success",t="The results below reflect the OQL specification from your query.",n="fa fa-md fa-check",o="OqlStatusBannerYes"):(e="alert alert-info",t="The results below do not reflect the OQL specification from your query.",n="fa fa-md fa-exclamation-triangle",o="OqlStatusBannerNo"),r.createElement("div",{"data-test":o,className:i()("oql-status-banner",e,this.props.className),style:Object.assign({},this.props.style||{})},r.createElement("span",{style:{verticalAlign:"middle"}},r.createElement("i",{className:i()("banner-icon",n),style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),t,this.toggleButton))):null}},{key:"toggleButton",get:function(){return this.props.onToggle&&!this.props.isUnaffected?r.createElement("span",null,r.createElement("button",{onClick:this.props.onToggle,className:"btn btn-default btn-xs",style:{marginLeft:5}},this.props.tabReflectsOql?"Do not filter by OQL":"Filter by OQL")):null}}])&&l(n.prototype,o),a&&l(n,a),t}();f([u.computed],m.prototype,"toggleButton",null),m=f([o.observer],m),t.a=m},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(7),i=n(516);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};function f(e,t){var n=[];return e.mutation&&n.push("mutation".concat(t?"s":"")),e.cna&&n.push("copy number alteration".concat(t?"s":"")),"".concat(n.join(" and ")," of unknown significance")}var m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,c(t).apply(this,arguments))).vusWarning=Object(i.a)({await:function(){return e.props.mutationsTabModeSettings?[e.props.store.mutationsReportByGene]:[e.props.store.oqlFilteredMutationsReport,e.props.store.oqlFilteredMolecularDataReport]},render:function(){var t=0,o={mutation:!1,cna:!1};if(e.props.mutationsTabModeSettings){var a=e.props.store.mutationsReportByGene.result[e.props.mutationsTabModeSettings.hugoGeneSymbol];(t=a.vus.length+a.vusAndGermline.length)>0&&(o.mutation=!0)}else{var i=e.props.store.oqlFilteredMutationsReport.result,u=i.vus.length+i.vusAndGermline.length,l=e.props.store.oqlFilteredMolecularDataReport.result.vus.length;t=u+l,u>0&&(o.mutation=!0),l>0&&(o.cna=!0)}if(!(t>0))return null;var c=1===t?"is":"are";return e.props.isUnaffected&&e.excludeVUS?r.createElement("div",{className:"alert alert-unaffected"},r.createElement("i",{className:"fa fa-md fa-info-circle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),"".concat(t," ").concat(f(o,1!==t)," ").concat(c," included in analysis.")):e.excludeVUS||e.vusToggleable?r.createElement("div",{className:"alert alert-info"},r.createElement("img",{src:n(609),style:{marginRight:6,width:15,marginTop:-2}}),e.excludeVUS?"".concat(t," ").concat(f(o,1!==t)," ").concat(c," ").concat(e.props.mutationsTabModeSettings?"hidden below.":"excluded from analysis."):"".concat(t," ").concat(f(o,1!==t)," ").concat(c," ").concat(e.props.mutationsTabModeSettings?"shown below.":"included in analysis."),e.vusToggleable&&r.createElement("button",{onClick:e.props.mutationsTabModeSettings.toggleExcludeVUS,className:"btn btn-default btn-xs",style:{marginLeft:5}},e.excludeVUS?e.props.mutationsTabModeSettings?"Show":"Include":e.props.mutationsTabModeSettings?"Hide":"Exclude")):void 0}}),e.germlineWarning=Object(i.a)({await:function(){return e.props.mutationsTabModeSettings?[e.props.store.mutationsReportByGene]:[e.props.store.oqlFilteredMutationsReport]},render:function(){var t,o=(t=e.props.mutationsTabModeSettings?e.props.store.mutationsReportByGene.result[e.props.mutationsTabModeSettings.hugoGeneSymbol]:e.props.store.oqlFilteredMutationsReport.result).germline.length+t.vusAndGermline.length;if(!(o>0))return null;var a=1===o?"is":"are";return e.props.isUnaffected&&e.excludeGermline?r.createElement("div",{className:"alert alert-unaffected"},r.createElement("i",{className:"fa fa-md fa-info-circle",style:{verticalAlign:"middle !important",marginRight:6,marginBottom:1}}),"".concat(o," germline mutations ").concat(a," included in analysis.")):e.excludeGermline||e.germlineToggleable?r.createElement("div",{className:"alert alert-info"},r.createElement("img",{src:n(609),style:{marginRight:6,width:15,marginTop:-2}}),e.excludeGermline?"".concat(o," germline mutations ").concat(a," ").concat(e.props.mutationsTabModeSettings?"hidden below.":"excluded from analysis."):"".concat(o," germline mutations ").concat(a," ").concat(e.props.mutationsTabModeSettings?"shown below.":"included in analysis."),e.germlineToggleable&&r.createElement("button",{onClick:e.props.mutationsTabModeSettings.toggleExcludeGermline,className:"btn btn-default btn-xs",style:{marginLeft:5}},e.excludeGermline?e.props.mutationsTabModeSettings?"Show":"Include":e.props.mutationsTabModeSettings?"Hide":"Exclude")):void 0}}),e}var o,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),o=t,(a=[{key:"render",value:function(){return r.createElement(r.Fragment,null,this.vusWarning.component,this.germlineWarning.component)}},{key:"excludeVUS",get:function(){return this.props.mutationsTabModeSettings?this.props.mutationsTabModeSettings.excludeVUS:this.props.store.driverAnnotationSettings.excludeVUS}},{key:"excludeGermline",get:function(){return this.props.mutationsTabModeSettings?this.props.mutationsTabModeSettings.excludeGermline:this.props.store.excludeGermlineMutations}},{key:"vusToggleable",get:function(){return this.props.mutationsTabModeSettings&&this.props.store.driverAnnotationSettings.excludeVUS}},{key:"germlineToggleable",get:function(){return this.props.mutationsTabModeSettings&&this.props.store.excludeGermlineMutations}}])&&u(o.prototype,a),p&&u(o,p),t}();d([a.computed],m.prototype,"excludeVUS",null),d([a.computed],m.prototype,"excludeGermline",null),d([a.computed],m.prototype,"vusToggleable",null),d([a.computed],m.prototype,"germlineToggleable",null),m=d([o.observer],m),t.a=m},,function(e,t,n){"use strict";function r(e){return e.hasOwnProperty("sampleId")}function o(e){return!e.length||r(e[0])}var a=n(546),i=n(9),u=n.n(i),l=n(551),c=n(517),s=n(508);n.d(t,"b",function(){return y}),n.d(t,"f",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return C}),n.d(t,"c",function(){return E});var p={"-2":"homdel","-1":"hetloss",0:void 0,1:"gain",2:"amp"},d=Object(s.c)(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other"]),f={amp:0,homdel:0,gain:1,hetloss:1},m={high:0,low:0},h={high:0,low:0};function y(e){if("promoter"===(e.proteinChange||"").toLowerCase())return"promoter";var t=Object(a.c)(e.mutationType);switch(t){case"missense":case"inframe":case"fusion":case"other":return t;default:return"trunc"}}function g(e,t){var n=Object.keys(e).map(function(t){return{key:t,value:e[t]}});return n.length>0?(n.sort(function(e,n){var r=t[e.key]-t[n.key];return r<0?-1:r>0?1:e.value<n.value?1:e.value>n.value?-1:0}),n[0].key):void 0}function b(e,t,n){e.trackLabel=t,e.data=n;var r=!1,o={},a={},i={},u={},c={},s=new RegExp(l.c,"i"),b=!0,v=!1,S=void 0;try{for(var T,C=n[Symbol.iterator]();!(b=(T=C.next()).done);b=!0){var I=T.value;switch(I.molecularProfileAlterationType){case"COPY_NUMBER_ALTERATION":var A=p[I.value];A&&(o[A]=o[A]||0,o[A]+=1);break;case"MRNA_EXPRESSION":if(I.alterationSubType){var E=I.alterationSubType;a[E]=a[E]||0,a[E]+=1}break;case"PROTEIN_LEVEL":if(I.alterationSubType){var P=I.alterationSubType;i[P]=i[P]||0,i[P]+=1}break;case"MUTATION_EXTENDED":var k=y(I);"fusion"===k?r=!0:(I.putativeDriver&&(k+="_rec"),c[k]=c[k]||s.test(I.mutationStatus),u[k]=u[k]||0,u[k]+=1)}}}catch(e){v=!0,S=e}finally{try{b||null==C.return||C.return()}finally{if(v)throw S}}return r&&(e.disp_fusion=!0),e.disp_cna=g(o,f),e.disp_mrna=g(a,m),e.disp_prot=g(i,h),e.disp_mut=g(u,d),e.disp_germ=e.disp_mut?c[e.disp_mut]:void 0,e}function v(e,t,n,r,a){if(!n.length)return[];var i=t instanceof Array?t:[t],l=u.a.keyBy(a,function(e){return e.molecularProfileId}),c=[];if(o(n)){var s=!0,p=!1,d=void 0;try{for(var f,m=function(){var t=f.value,n={};n.sample=t.sampleId,n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniqueSampleKey;var o=r.samples[t.uniqueSampleKey];n.profiled_in=u.a.flatMap(i,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!l[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=u.a.flatMap(i,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!l[e.molecularProfileId]});var a=e[t.uniqueSampleKey];c.push(b(n,i.join(" / "),a))},h=n[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)m()}catch(e){p=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(p)throw d}}}else{var y=!0,g=!1,v=void 0;try{for(var S,T=function(){var t=S.value,n={};n.patient=t.patientId,n.study_id=t.studyId,n.uid=t.uniquePatientKey;var o=r.patients[t.uniquePatientKey];n.profiled_in=u.a.flatMap(i,function(e){return o.byGene[e]||[]}),n.profiled_in=n.profiled_in.concat(o.allGenes).filter(function(e){return!!l[e.molecularProfileId]}),n.profiled_in.length||(n.na=!0),n.not_profiled_in=u.a.flatMap(i,function(e){return o.notProfiledByGene[e]||[]}),n.not_profiled_in=n.not_profiled_in.concat(o.notProfiledAllGenes).filter(function(e){return!!l[e.molecularProfileId]});var a=e[t.uniquePatientKey];c.push(b(n,i.join(" / "),a))},C=n[Symbol.iterator]();!(y=(S=C.next()).done);y=!0)T()}catch(e){g=!0,v=e}finally{try{y||null==C.return||C.return()}finally{if(g)throw v}}}return c}function S(e,t,n,o,a,i){e[t]=n,e.study_id=o.studyId;var l=u.a.filter(a,function(e){return!isNaN(e.value)});if(l&&l.length)if(1===l.length)e.profile_data=l[0].value,l[0].thresholdType&&(e.thresholdType=l[0].thresholdType,e.category=e.profile_data&&e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0);else{if(r(o))throw Error("Unexpectedly received multiple heatmap profile data for one sample");var c;switch(i){case"ASC":var s=u()(l).map(function(e){return e.value}).min();c=T(s,l,!1);break;case"DESC":c=T(s=u()(l).map(function(e){return e.value}).max(),l,!1);break;default:c=T(s=u.a.maxBy(l,function(e){return Math.abs(e.value)}).value,l,!0)}void 0===c&&(c=l[0]),e.profile_data=c.value,c.thresholdType&&(e.thresholdType=c.thresholdType,e.category=e.thresholdType?"".concat(e.thresholdType).concat(e.profile_data.toFixed(2)):void 0)}else e.profile_data=null,e.na=!0;return e}function T(e,t,n){var r=n?function(t){return Math.abs(t.value)===e}:function(t){return t.value===e},o=u.a.filter(t,r),a=u.a.filter(o,function(e){return!e.thresholdType});return a.length>0?a[0]:o[0]}function C(e,t,n,r,a){if(!n.length)return[];var i,l;o(n);return o(n)?(i=u.a.groupBy(r,function(e){return e.uniqueSampleKey}),l=n.map(function(n){var r={};r.sample=n.sampleId,r.uid=n.uniqueSampleKey;var o=i[n.uniqueSampleKey];return S(r,e,t,n,o),r})):(i=u.a.groupBy(r,function(e){return e.uniquePatientKey}),l=n.map(function(n){var r={};r.patient=n.patientId,r.uid=n.uniquePatientKey;var o=i[n.uniquePatientKey];return S(r,e,t,n,o,a),r})),l}function I(e,t){"MUTATION_COUNT"===t.clinicalAttributeId?e.attr_val=0:e.na=!0}function A(e,t,n,r){if(e.attr_id=t.clinicalAttributeId,e.study_id=n.studyId,e.attr_val_counts={},r&&r.length){if("number"===t.datatype.toLowerCase()){var o=[],a=!0,i=!1,u=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var p=l.value,d=parseFloat(p.value+"");isNaN(d)||o.push(d)}}catch(e){i=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw u}}if(0===o.length)I(e,t);else{switch(t.clinicalAttributeId){case"MUTATION_COUNT":e.attr_val=o.reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY);break;default:e.attr_val=o.reduce(function(e,t){return e+t},0)/o.length}e.attr_val_counts[e.attr_val]=1}}else if("string"===t.datatype.toLowerCase()){var f=e.attr_val_counts,m=!0,h=!1,y=void 0;try{for(var g,b=r[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var v=g.value;f[v.value]=f[v.value]||0,f[v.value]+=1}}catch(e){h=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(h)throw y}}var S=Object.keys(f);S.length>1?e.attr_val="Mixed":e.attr_val=S[0]}else if(t.clinicalAttributeId===c.a.MutationSpectrum){var T=r,C=e.attr_val_counts;C["C>A"]=0,C["C>G"]=0,C["C>T"]=0,C["T>A"]=0,C["T>C"]=0,C["T>G"]=0;var A=!0,E=!1,P=void 0;try{for(var k,_=T[Symbol.iterator]();!(A=(k=_.next()).done);A=!0){var w=k.value;C["C>A"]+=w.CtoA,C["C>G"]+=w.CtoG,C["C>T"]+=w.CtoT,C["T>A"]+=w.TtoA,C["T>C"]+=w.TtoC,C["T>G"]+=w.TtoG}}catch(e){E=!0,P=e}finally{try{A||null==_.return||_.return()}finally{if(E)throw P}}0===C["C>A"]&&0===C["C>G"]&&0===C["C>T"]&&0===C["T>A"]&&0===C["T>C"]&&0===C["T>G"]&&I(e,t),e.attr_val=e.attr_val_counts}}else I(e,t);return e}function E(e,t,n){u.a.groupBy(n,o(t)?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey});var r=function(e,t,n){if(e.patientAttribute){var r=u.a.groupBy(n,function(e){return e.uniquePatientKey});return function(e){return r[e.uniquePatientKey]}}var o="sample"===t?function(e){return e.uniqueSampleKey}:function(e){return e.uniquePatientKey},a=u.a.groupBy(n,o);return function(e){return a[o(e)]}}(e,o(t)?"sample":"patient",n);return o(t)?t.map(function(t){var n={};return n.uid=t.uniqueSampleKey,n.sample=t.sampleId,A(n,e,t,r(t)),n}):t.map(function(t){var n={};return n.uid=t.uniquePatientKey,n.patient=t.patientId,A(n,e,t,r(t)),n})}},,function(e,t,n){"use strict";var r=n(0),o=n(589),a=n(151),i=n(7),u=n(18),l=n(580);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(a=[{key:"defaultOnAddAll",value:function(){this.props.onChange(this.props.options)}},{key:"defaultOnClearAll",value:function(){this.props.onChange([])}},{key:"getOptionLabel",value:function(e){return Object(l.b)(e,this.selectedValues,this.props.checkBoxType)}},{key:"buttonsSection",value:function(){return r.createElement("div",{style:{marginTop:-7,paddingBottom:5,display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #ccc"}},r.createElement("button",{className:"btn btn-sm btn-default",onClick:this.props.onAddAll||this.defaultOnAddAll,style:{marginRight:5},disabled:this.props.isAddAllDisabled},this.addAllLabel),r.createElement("button",{className:"btn btn-sm btn-default",disabled:0===this.props.value.length,onClick:this.props.onClearAll||this.defaultOnClearAll},this.clearAllLabel))}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"default-checked-select"},r.createElement(o.default,{styles:{control:function(t){return Object.assign({},t,{height:e.props.height||33.5,minHeight:e.props.height||33.5,border:"1px solid rgb(204,204,204)"})},menu:function(e){return Object.assign({},e,{maxHeight:400})},menuList:function(e){return Object.assign({},e,{maxHeight:400})},placeholder:function(e){return Object.assign({},e,{color:"#000000"})},dropdownIndicator:function(e){return Object.assign({},e,{padding:"4px 8px",color:"#000000"})},option:function(e,t){return Object.assign({},e,{cursor:"pointer"})}},theme:function(e){return Object.assign({},e,{colors:Object.assign({},e.colors)})},components:this.components,name:this.props.name,isMulti:!0,isClearable:this.props.isClearable,isDisabled:this.props.isDisabled,closeMenuOnSelect:!1,hideSelectedOptions:!1,controlShouldRenderValue:!1,placeholder:this.props.placeholder,onChange:this.props.onChange,options:[{label:this.props.showControls?"dummy label, this is only here to create group so we can add the buttons section as the group label component":void 0,options:this.props.options}],getOptionLabel:this.getOptionLabel,value:this.props.value,labelKey:"label"}))}},{key:"selectedValues",get:function(){return Object(l.c)(this.props.value)}},{key:"addAllLabel",get:function(){return this.props.addAllLabel?this.props.addAllLabel:"Add all (".concat(this.props.options.length,")")}},{key:"clearAllLabel",get:function(){return this.props.clearAllLabel?this.props.clearAllLabel:"Clear"}},{key:"components",get:function(){return this.props.showControls?Object.assign({GroupHeading:this.buttonsSection},this.props.reactSelectComponents):this.props.reactSelectComponents}}])&&c(n.prototype,a),i&&c(n,i),t}();h.defaultProps={isClearable:!1,isDisabled:!1,isAddAllDisabled:!1,showControls:!0,checkBoxType:l.a.STRING},m([i.computed],h.prototype,"selectedValues",null),m([i.computed],h.prototype,"addAllLabel",null),m([i.computed],h.prototype,"clearAllLabel",null),m([i.computed],h.prototype,"components",null),m([a.default],h.prototype,"defaultOnAddAll",null),m([a.default],h.prototype,"defaultOnClearAll",null),m([a.default],h.prototype,"getOptionLabel",null),m([a.default],h.prototype,"buttonsSection",null),h=m([u.observer],h),t.a=h},function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var r=n(515),o=n(531);function a(e){var t={};return e.forEach(function(e){e.keyword in t||(t[e.keyword]=[]),t[e.keyword].push(e)}),t}function i(e){var t={};return e.forEach(function(e){e.hugoGeneSymbol in t||(t[e.hugoGeneSymbol]=[]),t[e.hugoGeneSymbol].push(e)}),t}function u(e){return e.type.toLowerCase().includes("single")||e.type.toLowerCase().includes("indel")}function l(e,t){return Object(r.v)(Object(o.a)(e),t,u)}function c(e,t){return Object(r.v)(Object(o.a)(e),t,function(e){return e.type.toLowerCase().includes("3d")})}},function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return R});var r=n(0),o=n(18),a=n(7),i=n(82),u=n(586),l=n.n(u),c=n(558),s=n(9),p=n(526),d=n(655),f=n(524),m=n(520),h=n(15),y=n(530),g=n(151),b=n(507),v=n(44),S=n.n(v),T=n(503),C=n(638);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w,O=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},M=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.TOOLTIP="tooltip",e.CHART="chart"}(w||(w={}));var R=["OS_STATUS","OS_MONTHS","DFS_STATUS","DFS_MONTHS"],N=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=E(t).call(this,e),(n=!o||"object"!==_(o)&&"function"!=typeof o?P(r):o).highlightedCurve="",n.isTooltipHovered=!1,n.tooltipCounter=0,n.styleOptsDefaultProps={width:900,height:500,padding:{top:20,bottom:50,left:60,right:20},tooltipXOffset:20,tooltipYOffset:-47,axis:{x:{axisLabel:{padding:35},grid:{opacity:0}},y:{axisLabel:{padding:45,fill:"black"},grid:{opacity:0}}},pValue:{x:610,y:30,textAnchor:"start"},legend:{x:600,y:50}},n.events=[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(e){return n.tooltipModel=e,n.tooltipCounter++,{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return M(P(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(100);case 2:return this.isTooltipHovered||1!==this.tooltipCounter||(this.tooltipModel=null),this.tooltipCounter--,e.abrupt("return",{active:!1});case 5:case"end":return e.stop()}},e,this)}))}}]}}}],n.tooltipMouseEnter=n.tooltipMouseEnter.bind(P(n)),n.tooltipMouseLeave=n.tooltipMouseLeave.bind(P(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(o=[{key:"toSVGDOMNode",value:function(){return Object(b.kb)(this.svgContainer.firstChild,{legendGroupSelector:".survivalChartDownloadLegend",selectorToHide:".survivalChartLegendHideForDownload"})}},{key:"tooltipMouseEnter",value:function(){this.isTooltipHovered=!0}},{key:"tooltipMouseLeave",value:function(){this.isTooltipHovered=!1,this.tooltipModel=null}},{key:"getSvg",value:function(){return this.toSVGDOMNode()}},{key:"getData",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,a=this.analysisGroupsWithData[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e.push({scatterData:Object(d.h)(this.sortedGroupedSurvivals[i.value],this.estimates[i.value],i.value),title:void 0!==i.name?i.name:i.value})}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Object(d.e)(e,this.props.title)}},{key:"hoverCircleFillOpacity",value:function(e,t){return t||this.isTooltipHovered&&this.tooltipModel&&this.tooltipModel.datum.studyId===e.studyId&&this.tooltipModel.datum.patientId===e.patientId?.3:0}},{key:"getAxisTickCount",value:function(e){return 5*Math.ceil(e/200)}},{key:"render",value:function(){return 0===this.props.patientSurvivals.length?r.createElement("div",{className:"alert alert-info"},"No data to plot."):r.createElement("div",{style:{position:"relative"}},this.props.legendLocation===w.TOOLTIP?r.createElement(T.b,{mouseLeaveDelay:.2,placement:"rightBottom",overlay:this.chartTooltip},this.chart):this.chart,this.tooltipModel&&r.createElement(i.Popover,I({arrowOffsetTop:56,className:S()("cbioportal-frontend","cbioTooltip",l.a.Tooltip),positionLeft:this.tooltipModel.x+this.styleOpts.tooltipXOffset},{container:this},{positionTop:this.tooltipModel.y+this.styleOpts.tooltipYOffset,onMouseEnter:this.tooltipMouseEnter,onMouseLeave:this.tooltipMouseLeave}),r.createElement("div",null,"Patient ID: ",r.createElement("a",{href:Object(h.t)(this.tooltipModel.datum.studyId,this.tooltipModel.datum.patientId),target:"_blank"},this.tooltipModel.datum.patientId),r.createElement("br",null),!!this.props.showCurveInTooltip&&["Curve: ".concat(this.tooltipModel.datum.group),r.createElement("br",null)],this.props.yLabelTooltip,": ",this.tooltipModel.datum.y.toFixed(2),"%",r.createElement("br",null),this.tooltipModel.datum.status?this.props.xLabelWithEventTooltip:this.props.xLabelWithoutEventTooltip,": ",this.tooltipModel.datum.x.toFixed(2)," months ",this.tooltipModel.datum.status?"":"(censored)",r.createElement("br",null),this.props.analysisClinicalAttribute&&r.createElement("span",null,this.props.analysisClinicalAttribute.displayName,": ",this.props.patientToAnalysisGroups[this.tooltipModel.datum.uniquePatientKey]))),this.props.showTable&&r.createElement("table",{className:"table table-striped",style:{marginTop:20,width:"100%"}},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null,this.props.totalCasesHeader),r.createElement("td",null,this.props.statusCasesHeader),r.createElement("td",null,this.props.medianMonthsHeader)),this.tableRows)))}},{key:"styleOpts",get:function(){var e=s.merge({},this.styleOptsDefaultProps,this.props.styleOpts);return e.padding.right=this.props.legendLocation===w.CHART?300:e.padding.right,this.props.styleOpts&&this.props.styleOpts.legend&&void 0!==this.props.styleOpts.legend.x||(e.legend.x=e.width-e.padding.right),e}},{key:"downSamplingDenominators",get:function(){return{x:this.styleOpts.width-this.styleOpts.padding.left-this.styleOpts.padding.right,y:this.styleOpts.height-this.styleOpts.padding.top-this.styleOpts.padding.bottom}}},{key:"sortedGroupedSurvivals",get:function(){var e=this.props.patientToAnalysisGroups,t=s.reduce(this.props.patientSurvivals,function(t,n){n.uniquePatientKey in e&&e[n.uniquePatientKey].forEach(function(e){t[e]=t[e]||[],t[e].push(n)});return t},{});return s.mapValues(t,function(e){return e.sort(function(e,t){return e.months-t.months})})}},{key:"estimates",get:function(){return s.mapValues(this.sortedGroupedSurvivals,function(e){return Object(d.f)(e)})}},{key:"unfilteredScatterData",get:function(){var e=this;return s.mapValues(this.sortedGroupedSurvivals,function(t,n){var r=e.estimates[n],o=e.analysisGroupsMap[n].name;return{numOfCases:t.length,line:Object(d.g)(t,r),scatterWithOpacity:Object(d.i)(t,r,o),scatter:Object(d.h)(t,r,o)}})}},{key:"scatterData",get:function(){return Object(d.d)(this.unfilteredScatterData,this.scatterFilter,{xDenominator:this.downSamplingDenominators.x,yDenominator:this.downSamplingDenominators.y,threshold:1e3})}},{key:"analysisGroupsMap",get:function(){return s.keyBy(this.props.analysisGroups,function(e){return e.value})}},{key:"logRankTestPVal",get:function(){return 2===this.analysisGroupsWithData.length?Object(d.c)(this.sortedGroupedSurvivals[this.analysisGroupsWithData[0].value],this.sortedGroupedSurvivals[this.analysisGroupsWithData[1].value]):null}},{key:"victoryLegendData",get:function(){var e=[];if(this.props.legendLocation===w.CHART){var t=!0,n=!1,r=void 0;try{for(var o,a=this.analysisGroupsWithData[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e.push({name:i.legendText||i.name||i.value,symbol:{fill:i.color,strokeOpacity:0,type:"square",size:6}})}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}return e}},{key:"pValueText",get:function(){return this.props.showLogRankPVal&&null!==this.logRankTestPVal?r.createElement(p.VictoryLabel,{x:this.styleOpts.pValue.x,y:this.styleOpts.pValue.y,style:f.c,textAnchor:this.styleOpts.pValue.textAnchor,text:"Logrank Test P-Value: ".concat(Object(m.a)(this.logRankTestPVal,3,.01))}):null}},{key:"legendDataForDownload",get:function(){var e=this.analysisGroupsWithData.map(function(e){return{name:e.name?e.name:e.value,symbol:{fill:e.color,strokeOpacity:0,type:"square",size:6}}});return this.props.naPatientsHiddenInSurvival&&e.push({name:"* Patients with NA for any of the selected attributes are excluded",symbol:{opacity:0}}),e}},{key:"analysisGroupsWithData",get:function(){var e=this,t=this.props.analysisGroups;return t=t.filter(function(t){return t.value in e.scatterData&&e.scatterData[t.value].numOfCases>0})}},{key:"scattersAndLines",get:function(){var e=this,t=this.analysisGroupsWithData,n=(t=s.sortBy(t,function(t){return e.highlightedCurve===t.value?1:0})).map(function(t){return r.createElement(p.VictoryLine,{key:t.value,interpolation:"stepAfter",data:e.scatterData[t.value].line,style:{data:{stroke:t.color,strokeWidth:e.highlightedCurve===t.value?4:1,fill:"#000000",fillOpacity:0}}})}),o=t.map(function(t){return r.createElement(p.VictoryScatter,{key:t.value,data:e.scatterData[t.value].scatterWithOpacity,symbol:"plus",style:{data:{fill:t.color,opacity:function(e){return e.opacity}}},size:3})}),a=t.map(function(t){return r.createElement(p.VictoryScatter,{key:t.value,data:e.scatterData[t.value].scatter,symbol:"circle",style:{data:{fill:t.color,fillOpacity:e.hoverCircleFillOpacity}},size:10,events:e.events})});return n.concat(o).concat(a)}},{key:"legendForDownload",get:function(){var e=s.cloneDeep(f.d);return e.legend.style.data={type:"square",size:5,strokeWidth:0,stroke:"black"},r.createElement(p.VictoryLegend,{x:0,y:this.styleOpts.height+1,style:Object.assign({},e.legend.style,{title:{fontWeight:"bold"}}),title:this.props.title,rowGutter:-10,data:this.legendDataForDownload,groupComponent:r.createElement("g",{className:"survivalChartDownloadLegend"})})}},{key:"xAxisTickCount",get:function(){return this.getAxisTickCount(this.showLegend?this.styleOpts.legend.x:this.styleOpts.width)}},{key:"showLegend",get:function(){return this.victoryLegendData.length>0}},{key:"chart",get:function(){var e=this;return r.createElement("div",{className:this.props.className,"data-test":"SurvivalChart"},this.props.showDownloadButtons&&r.createElement(y.a,{dontFade:!0,filename:this.props.fileName,buttons:["SVG","PNG","PDF","Data"],getSvg:this.getSvg,getData:this.getData,style:{position:"absolute",zIndex:10,right:10},type:"button"}),r.createElement(p.VictoryChart,{containerComponent:r.createElement(p.VictoryZoomContainer,{responsive:!1,disable:this.props.disableZoom,onZoomDomainChange:s.debounce(function(t){e.scatterFilter=t},1e3),containerRef:function(t){return e.svgContainer=t}}),height:this.styleOpts.height,width:this.styleOpts.width,padding:this.styleOpts.padding,theme:f.d,domainPadding:{x:[10,50],y:[20,20]}},r.createElement(p.VictoryAxis,{style:this.styleOpts.axis.x,crossAxis:!1,tickCount:this.xAxisTickCount,label:this.props.xAxisLabel}),r.createElement(p.VictoryAxis,{label:this.props.yAxisLabel,dependentAxis:!0,tickFormat:function(e){return"".concat(e,"%")},tickCount:11,style:this.styleOpts.axis.y,domain:[0,100],crossAxis:!1}),this.scattersAndLines,this.showLegend&&r.createElement(p.VictoryLegend,{x:this.styleOpts.legend.x,y:this.styleOpts.legend.y,data:this.victoryLegendData,labelComponent:this.props.legendLabelComponent||r.createElement(C.a,{dy:"0.3em",maxWidth:256}),groupComponent:r.createElement("g",{className:"survivalChartLegendHideForDownload"})}),this.legendForDownload,this.pValueText))}},{key:"chartTooltip",get:function(){var e=this;return r.createElement("div",{style:{maxWidth:250}},this.analysisGroupsWithData.map(function(t){return r.createElement("span",{key:t.value,style:{display:"inline-block",marginRight:12,fontWeight:e.highlightedCurve===t.value?"bold":"initial",cursor:"pointer"},onClick:function(){e.highlightedCurve=e.highlightedCurve===t.value?"":t.value}},r.createElement("div",{style:{width:10,height:10,display:"inline-block",backgroundColor:t.color,marginRight:5}}),t.name?t.name:t.value)}),this.props.showNaPatientsHiddenToggle&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.naPatientsHiddenInSurvival,onClick:this.props.toggleSurvivalHideNAPatients})," Exclude patients with NA for any of the selected attributes.")))}},{key:"tableRows",get:function(){var e=this;return this.props.analysisGroups.map(function(t){return r.createElement("tr",null,r.createElement("td",null,t.name?t.name:t.value),Object(d.j)(e.sortedGroupedSurvivals[t.value],e.estimates[t.value]).map(function(e){return r.createElement("td",null,r.createElement("b",null,e))}))})}}])&&A(n.prototype,o),a&&A(n,a),t}();N.defaultProps={showTable:!0,disableZoom:!1,legendLocation:w.CHART,showLogRankPVal:!0,showNaPatientsHiddenToggle:!1,showDownloadButtons:!0},O([a.observable.ref],N.prototype,"tooltipModel",void 0),O([a.observable],N.prototype,"scatterFilter",void 0),O([a.observable],N.prototype,"highlightedCurve",void 0),O([a.computed],N.prototype,"styleOpts",null),O([a.computed],N.prototype,"downSamplingDenominators",null),O([a.computed],N.prototype,"sortedGroupedSurvivals",null),O([a.computed],N.prototype,"estimates",null),O([a.computed],N.prototype,"unfilteredScatterData",null),O([a.computed],N.prototype,"scatterData",null),O([a.computed],N.prototype,"analysisGroupsMap",null),O([a.computed],N.prototype,"logRankTestPVal",null),O([a.computed],N.prototype,"victoryLegendData",null),O([a.computed],N.prototype,"legendDataForDownload",null),O([g.default],N.prototype,"getSvg",null),O([g.default],N.prototype,"getData",null),O([g.default],N.prototype,"hoverCircleFillOpacity",null),O([a.computed],N.prototype,"analysisGroupsWithData",null),O([a.computed],N.prototype,"scattersAndLines",null),O([a.computed],N.prototype,"legendForDownload",null),O([a.computed],N.prototype,"xAxisTickCount",null),O([a.computed],N.prototype,"showLegend",null),O([a.computed],N.prototype,"chart",null),O([a.computed],N.prototype,"chartTooltip",null),O([a.computed],N.prototype,"tableRows",null),N=O([o.observer],N),t.c=N},function(e,t,n){e.exports={portalWidth:"tables-module__portalWidth__2u2eA",framedImage:"tables-module__framedImage__2sdMG",studyViewTablesTable:"tables-module__studyViewTablesTable__29Y2_",tableSearchInput:"tables-module__tableSearchInput__2uOMk",labelContent:"tables-module__labelContent__2FLsJ",labelContentSVG:"tables-module__labelContentSVG__2v71D",controls:"tables-module__controls__2KTG_",controlsBtn:"tables-module__controlsBtn__24B4k",geneSymbol:"tables-module__geneSymbol__1OUGZ",cancerGene:"tables-module__cancerGene__CqmRo",headerColumn:"tables-module__headerColumn__WCJTO",headerRow:"tables-module__headerRow__3Ckx0",row:"tables-module__row__20ZyT",oddRow:"tables-module__oddRow__3vz4c",evenRow:"tables-module__evenRow__KCskI",highlightedRow:"tables-module__highlightedRow__1wuhn",cancerGeneIcon:"tables-module__cancerGeneIcon__1Zp6i",gistic:"tables-module__gistic__1d6Gl",mutsig:"tables-module__mutsig__3Q3o0",cancerGenesRow:"tables-module__cancerGenesRow__1crxh",amp:"tables-module__amp__yRy0o",del:"tables-module__del__PLU6Y",displayFlex:"tables-module__displayFlex__7WOab",headerSortingIcon:"tables-module__headerSortingIcon__1aRye",autoMarginCheckbox:"tables-module__autoMarginCheckbox__3tMQV"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var r,o=n(9),a=n(0),i=n(44),u=n.n(i);function l(e){return o.keyBy(e,function(e){return e.value})}function c(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.STRING)===r.STRING?function(e,t){return e.value in t?String.fromCodePoint(9745):String.fromCodePoint(9744)}(e,t):function(e,t){return a.createElement("input",{type:"checkbox",checked:e.value in t})}(e,t);return a.createElement("span",{className:u()("checked-select-option",{"is-selected":e.value in t})},n," ",e.label||e.value)}!function(e){e.STRING="string",e.HTML="html"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(506),o=n(509),a=n(505),i=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.E)(e,["annotation_summary","mutation_assessor"],i.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(o.d)(e);return t?Object(o.e)(t):""}(e)},function(e){return Object(o.e)(e.annotation_summary.genomicLocation)},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,a["a"]),t}()},function(e,t,n){"use strict";var r;function o(e){return r[e]||""}n.d(t,"a",function(){return o}),function(e){e[e.Deletion=-2]="Deletion",e[e.Amplification=2]="Amplification"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(506),o=n(509),a=n(505),i=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return e.length>0?Object(r.E)(e,["my_variant_info"],i.b.serverConfig.isoformOverrideSource):Promise.resolve([])}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,function(e){return function(e){var t=Object(o.d)(e);return t?Object(o.e)(t):""}(e)},function(e){return t=e.seq_region_name,n=e.start,r=e.end,o=e.allele_string,a=o.split("/")[0],i=o.split("/")[1],t+","+n.toString()+","+r.toString()+","+a+","+i;var t,n,r,o,a,i},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,a["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(593),o=n(581),a=n(592),i=n(9),u=n.n(i),l=n(583);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},p=function(){function e(t,n,r,o,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mutationData=t,this.studyToMolecularProfileDiscrete=n,this.genomeNexusCache=r,this.genomeNexusMyVariantInfoCache=o,this.mutationCountCache=a,this.discreteCNACache=i,this.allData=void 0}var t,n,i;return t=e,(n=[{key:"fetchAndCacheAllLazyData",value:function(){var e=this;return this.allData?Promise.resolve(this.allData):new Promise(function(t,n){var r=e.availablePromiseCachePairs();Promise.all(r.promises).then(function(n){e.allData=n;for(var o=0;o<n.length;o++)r.caches[o].addData(n[o]);t(n)}).catch(n)})}},{key:"availablePromiseCachePairs",value:function(){var e=[],t=[];return this.genomeNexusCache&&(e.push(this.fetchAllGenomeNexusData()),t.push(this.genomeNexusCache())),this.genomeNexusMyVariantInfoCache&&(e.push(this.fetchAllGenomeNexusMyVariantInfoData()),t.push(this.genomeNexusMyVariantInfoCache())),this.mutationCountCache&&(e.push(this.fetchAllMutationCountData()),t.push(this.mutationCountCache())),this.discreteCNACache&&(e.push(this.fetchAllDiscreteCNAData()),t.push(this.discreteCNACache())),{promises:e,caches:t}}},{key:"fetchAllGenomeNexusData",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=6;break}return e.next=3,Object(o.b)(this.mutationData.result);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}},e,this)}))}},{key:"fetchAllGenomeNexusMyVariantInfoData",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=6;break}return e.next=3,Object(l.b)(this.mutationData.result);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",void 0);case 7:case"end":return e.stop()}},e,this)}))}},{key:"fetchAllMutationCountData",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=7;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}),e.next=4,Object(r.b)(t);case 4:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}},e,this)}))}},{key:"fetchAllDiscreteCNAData",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationData.result){e.next=9;break}return t=this.mutationData.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId,entrezGeneId:e.entrezGeneId}}),e.next=4,Object(a.b)(t,this.studyToMolecularProfileDiscrete);case 4:return n=e.sent,r=u.a.flatten(u.a.map(n,function(e){return u.a.map(u.a.flatten(e.data),function(t){return Object.assign({},t,{studyId:e.meta})})})),e.abrupt("return",r);case 9:return e.abrupt("return",void 0);case 10:case"end":return e.stop()}},e,this)}))}}])&&c(t.prototype,n),i&&c(t,i),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(9),o=n.n(r);function a(e,t){var n=t||function(e){return!!e};return o.a.reduce(e,function(e,t){return e&&n(t)},!0)}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1kueS",framedImage:"styles-module__framedImage__1ndwn",SurvivalTable:"styles-module__SurvivalTable__2NKCT",Tooltip:"styles-module__Tooltip__1I-Ty",NotAvailable:"styles-module__NotAvailable__1Zx5R"}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPgogICAgPGcgaWQ9Imljb21vb24taWdub3JlIj4KICAgIDwvZz4KICAgIDxwYXRoIGZpbGw9IiNmZjk5MDAiIGQ9Ik0zMjEuMDA4IDEwNDUuMzMzYy02OC4yNDUtMTQyLjAwOC0zMS45MDEtMjIzLjM3OSAyMC41NTEtMzAwLjA0NCA1Ny40NC04My45NTYgNzIuMjQ0LTE2Ny4wNjUgNzIuMjQ0LTE2Ny4wNjVzNDUuMTUzIDU4LjcgMjcuMDkyIDE1MC41MDhjNzkuNzcyLTg4LjggOTQuODI0LTIzMC4yOCA4Mi43ODMtMjg0LjQ2NCAxODAuMzE1IDEyNi4wMTIgMjU3LjM3NiAzOTguODU2IDE1My41MjMgNjAxLjA2NSA1NTIuMzcyLTMxMi41MzIgMTM3LjM5OS03ODAuMTcyIDY1LjE1NS04MzIuODUxIDI0LjA4MSA1Mi42NzYgMjguNjQ4IDE0MS44NTEtMjAgMTg1LjEyNy04Mi4zNTItMzEyLjI3Ni0yODUuOTcyLTM3Ni4yNzYtMjg1Ljk3Mi0zNzYuMjc2IDI0LjA4MyAxNjEuMDQ0LTg3LjI5NiAzMzcuMTQ0LTE5NC42OTYgNDY4LjczMS0zLjc3NS02NC4yMTYtNy43ODMtMTA4LjUyOC00MS41NDktMTY5Ljk4LTcuNTggMTE2LjY1Ni05Ni43MzIgMjExLjc0OC0xMjAuODczIDMyOC42MjgtMzIuNzAxIDE1OC4yODcgMjQuNDk2IDI3NC4xOCAyNDEuNzQ4IDM5Ni42MjN6Ij48L3BhdGg+Cjwvc3ZnPgo="},function(e,t,n){e.exports=n(24)(3)},function(e,t,n){e.exports=n(24)(1013)},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(7);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=u(t).call(this,e))||"object"!==s(o)&&"function"!=typeof o?l(r):o).focused=!1,n.mouseInside=!1,n.initialShow=!1,n.initialShow=!0===e.showByDefault,n.onFocus=n.onFocus.bind(l(n)),n.onBlur=n.onBlur.bind(l(n)),n.onMouseEnter=n.onMouseEnter.bind(l(n)),n.onMouseLeave=n.onMouseLeave.bind(l(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentWillUpdate",value:function(e){e.show!==this.props.show&&(this.initialShow=!1)}},{key:"onFocus",value:function(){this.focused=!0}},{key:"onBlur",value:function(){this.focused=!1}},{key:"onMouseEnter",value:function(){this.initialShow=!1,this.mouseInside=!0}},{key:"onMouseLeave",value:function(){this.initialShow=!1,this.mouseInside=!1}},{key:"render",value:function(){return r.createElement("div",{style:this.style,onFocus:this.onFocus,onBlur:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.children)}},{key:"fadeInStyle",get:function(){return{WebkitTransition:"opacity ".concat(this.props.fadeInSeconds,"s"),MozTransition:"opacity ".concat(this.props.fadeInSeconds,"s"),OTransition:"opacity ".concat(this.props.fadeInSeconds,"s"),transition:"opacity ".concat(this.props.fadeInSeconds,"s"),opacity:1}}},{key:"fadeOutStyle",get:function(){return{WebkitTransition:"opacity ".concat(this.props.fadeOutSeconds,"s"),MozTransition:"opacity ".concat(this.props.fadeOutSeconds,"s"),OTransition:"opacity ".concat(this.props.fadeOutSeconds,"s"),transition:"opacity ".concat(this.props.fadeOutSeconds,"s"),opacity:0}}},{key:"style",get:function(){return this.show?this.fadeInStyle:this.fadeOutStyle}},{key:"show",get:function(){return this.props.show||this.focused||this.mouseInside||this.initialShow}}])&&i(n.prototype,o),a&&i(n,a),t}();d.defaultProps={fadeInSeconds:.2,fadeOutSeconds:.6},p([a.observable],d.prototype,"focused",void 0),p([a.observable],d.prototype,"mouseInside",void 0),p([a.computed],d.prototype,"fadeInStyle",null),p([a.computed],d.prototype,"fadeOutStyle",null),p([a.computed],d.prototype,"style",null),p([a.computed],d.prototype,"show",null),p([a.action],d.prototype,"onMouseEnter",null),p([a.action],d.prototype,"onMouseLeave",null),d=p([o.observer],d),t.a=d},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(743),o=n.n(r),a=n(744),i=n(13),u=n.n(i),l=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},c="https://frontend.cbioportal.org/common/FreeSans.json";function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return l(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i,l,c,s,p;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t.scrollWidth||parseInt(t.attributes.getNamedItem("width").nodeValue),l=t.scrollHeight||parseInt(t.attributes.getNamedItem("height").nodeValue),c="l",l>i&&(c="p"),s=new a.jsPDF(c,"pt",[i,l]),r.prev=4,r.next=7,u.a.get(n);case 7:p=r.sent,s.addFileToVFS("FreeSans-normal.ttf",p.body.FreeSans),s.addFont("FreeSans-normal.ttf","Arial","normal"),r.next=14;break;case 12:r.prev=12,r.t0=r.catch(4);case 14:return r.prev=14,o()(t,s,{xOffset:0,yOffset:0,scale:1}),s.save(e),r.finish(14);case 18:case"end":return r.stop()}},r,null,[[4,12,14,18]])}))}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return m});var r=n(9),o=n(505),a=n(152);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function d(e,t){if(t){var n=r.groupBy(e,"studyId");return Promise.all(Object.keys(n).map(function(e){var o=t[e];return o?function(e,t,n){return p(this,void 0,void 0,regeneratorRuntime.mark(function o(){var i,u,l,c,s,p,d,f,m,h,y,g,b,v,S,T,C,I;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,i=r.uniq(e.map(function(e){return e.sampleId})),u=r.uniq(e.map(function(e){return e.entrezGeneId})),!(i.length<u.length)){o.next=27;break}for(c={},s=!0,p=!1,d=void 0,o.prev=8,f=e[Symbol.iterator]();!(s=(m=f.next()).done);s=!0)h=m.value,c[h.sampleId]=c[h.sampleId]||[],c[h.sampleId].push(h.entrezGeneId);o.next=16;break;case 12:o.prev=12,o.t0=o.catch(8),p=!0,d=o.t0;case 16:o.prev=16,o.prev=17,s||null==f.return||f.return();case 19:if(o.prev=19,!p){o.next=22;break}throw d;case 22:return o.finish(19);case 23:return o.finish(16);case 24:l=Object.keys(c).map(function(e){return{sampleIds:[e],entrezGeneIds:c[e]}}),o.next=48;break;case 27:for(y={},g=!0,b=!1,v=void 0,o.prev=31,S=e[Symbol.iterator]();!(g=(T=S.next()).done);g=!0)C=T.value,y[C.entrezGeneId]=y[C.entrezGeneId]||[],y[C.entrezGeneId].push(C.sampleId);o.next=39;break;case 35:o.prev=35,o.t1=o.catch(31),b=!0,v=o.t1;case 39:o.prev=39,o.prev=40,g||null==S.return||S.return();case 42:if(o.prev=42,!b){o.next=45;break}throw v;case 45:return o.finish(42);case 46:return o.finish(39);case 47:l=Object.keys(y).map(function(e){return{sampleIds:y[e],entrezGeneIds:[parseInt(e,10)]}});case 48:return o.next=50,Promise.all(l.map(function(e){return void 0===n?Promise.reject("No molecular profile id given."):a.a.fetchDiscreteCopyNumbersInMolecularProfileUsingPOST({projection:"DETAILED",molecularProfileId:n,discreteCopyNumberFilter:e,discreteCopyNumberEventType:"ALL"})}));case 50:return I=o.sent,o.abrupt("return",{data:r.flatten(I),meta:t});case 54:throw o.prev=54,o.t2=o.catch(0),o.t2;case 57:case"end":return o.stop()}},o,null,[[0,54],[8,12,16,24],[17,,19,23],[31,35,39,47],[40,,42,46]])}))}(n[e],e,o.molecularProfileId):Promise.resolve({data:[],meta:e})}))}throw"No study to molecular profile id map given"}function f(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.sampleId,"~").concat(e.entrezGeneId)}var m=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,c(t).call(this,f,f,d,e))).studyToMolecularProfileDiscrete=e,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o["a"]),n=t,(r=[{key:"isActive",get:function(){return!!(this.studyToMolecularProfileDiscrete&&Object.keys(this.studyToMolecularProfileDiscrete).length>0)}}])&&u(n.prototype,r),a&&u(n,a),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return d});var r=n(152),o=n(505);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function s(e){return"".concat(e.studyId,"~").concat(e.sampleId)}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>0)){t.next=5;break}return n={attributeIds:["MUTATION_COUNT"],identifiers:e.map(function(e){return{entityId:e.sampleId,studyId:e.studyId}})},t.abrupt("return",r.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:n}));case 5:return t.abrupt("return",Promise.resolve([]));case 6:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,u(t).call(this,s,s,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(585),o=n(9),a=n.n(o);function i(e,t){if(t.length){var n,r=!1;return"-"===t[0]&&(t=t.substring(1),r=!0),t.length?(n=!(!e.cytoband||0!==e.cytoband.indexOf(t)),r?!n:n):!0}return!0}function u(e,t){if((t=t.trim()).length){var n=t.split(/\s+/g),o=[],u=[],l=!0,c=!1,s=void 0;try{for(var p,d=n[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;"-"===f[0]?u.push(f):o.push(f)}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}var m=!o.length||a.a.some(o,function(t){return i(e,t)}),h=!u.length||Object(r.a)(u.map(function(t){return i(e,t)}));return m&&h}return!0}},function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return b});var r=n(0),o=n(766),a=n.n(o),i=n(18),u=n(7),l=n(686),c=n(9),s=n.n(c);n(689);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},g=1,b=0,v=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=d(t).call(this,e))||"object"!==h(o)&&"function"!=typeof o?f(r):o).trackSpecKeyToTrackId={},n.divRefHandler=n.divRefHandler.bind(f(n)),n.refreshOncoprint=s.a.debounce(n.refreshOncoprint.bind(f(n)),0),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,r["Component"]),n=t,(o=[{key:"divRefHandler",value:function(e){this.div=e}},{key:"refreshOncoprint",value:function(e){var t=this;this.oncoprint||(this.oncoprint=new a.a("#".concat(e.divId),e.width),this.oncoprint.setTrackGroupLegendOrder([g,b]),window.frontendOnc=this.oncoprint,e.oncoprintRef&&e.oncoprintRef(this.oncoprint)),this.oncoprint.webgl_unavailable||(Object(l.a)(e,this.lastTransitionProps||{},this.oncoprint,function(){return t.trackSpecKeyToTrackId},function(){return t.props.molecularProfileIdToMolecularProfile}),this.lastTransitionProps=s.a.clone(e))}},{key:"componentWillReceiveProps",value:function(e){this.refreshOncoprint(e)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this.refreshOncoprint(this.props)}},{key:"componentWillUnmount",value:function(){this.oncoprint&&(this.oncoprint.destroy(),this.oncoprint=void 0)}},{key:"render",value:function(){return r.createElement("div",{id:this.props.divId,ref:this.divRefHandler})}},{key:"sortByMutationType",get:function(){return this.props.distinguishMutationType&&this.props.sortConfig&&this.props.sortConfig.sortByMutationType}},{key:"sortByDrivers",get:function(){return this.props.distinguishDrivers&&this.props.sortConfig&&this.props.sortConfig.sortByDrivers}}])&&p(n.prototype,o),i&&p(n,i),t}();y([u.computed],v.prototype,"sortByMutationType",null),y([u.computed],v.prototype,"sortByDrivers",null),v=y([i.observer],v),t.c=v},,,function(e,t,n){e.exports=n(24)(897)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=":";function o(e,t){return"".concat(e).concat(r).concat(t)}function a(e,t){if("string"==typeof e){if(t)return o(e,t);throw"no sampleId given"}return o(e.studyId,e.sampleId)}},function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}return"Expected "+function(e){var t,r,o,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(o=e[t],n[o.type](o));if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},a={start:vn},i=vn,u=function(){return!1},l=/^[0-9]/,c=mn([["0","9"]],!1,!1),s=function(e){return e.join("")},p="-",d=fn("-",!1),f=function(e){return"-"+e},m=".",h=fn(".",!1),y=function(e,t){return e+"."+t},g=function(e){return"."+e},b=function(e){return e},v=/^[\-_.@\/a-zA-Z0-9*]/,S=mn(["-","_",".","@","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),T=function(e){return e.join("")},C=/^[\-_.\/a-zA-Z0-9*]/,I=mn(["-","_",".","/",["a","z"],["A","Z"],["0","9"],"*"],!1,!1),A=function(e){return e},E=/^[GPAVLIMCFYWHKRQNEDST]/,P=mn(["G","P","A","V","L","I","M","C","F","Y","W","H","K","R","Q","N","E","D","S","T"],!1,!1),k=function(e){return e},_=/^[^"]/,w=mn(['"'],!0,!1),O=function(e){return e.join("")},M=/^[ \t\r]/,R=mn([" ","\t","\r"],!1,!1),N=/^[,; \t\r\n]/,D=mn([",",";"," ","\t","\r","\n"],!1,!1),G="[",x=fn("[",!1),L='"',j=fn('"',!1),F=function(e){return{label:e,list:[]}},B=function(){return{label:void 0,list:[]}},H="amp",K=fn("AMP",!0),V="homdel",q=fn("HOMDEL",!0),U="gain",Q=fn("GAIN",!0),z="hetloss",W=fn("HETLOSS",!0),Y="mut",Z=fn("MUT",!0),J=(fn("EXP",!0),fn("PROT",!0),function(e,t){return e.concat(t)}),X=function(e,t){return e.concat(t)},$=function(e){return e},ee=function(e){return e},te="]",ne=fn("]",!1),re=function(e,t,n){return e.list=t,[e].concat(n)},oe=function(e,t){return e.list=t,[e]},ae=function(e,t){return[e].concat(t)},ie=function(e){return[e]},ue=":",le=fn(":",!1),ce=function(e,t){return{gene:e,alterations:t}},se=function(e){return{gene:e,alterations:!1}},pe=function(e,t){return[e].concat(t)},de=function(e){return[e]},fe=function(e){return e},me="_",he=fn("_",!1),ye=function(e){return{alteration_type:"any",modifiers:[e]}},ge=function(){return"AMP"},be=function(){return"HOMDEL"},ve=function(){return"GAIN"},Se=function(){return"HETLOSS"},Te="cna",Ce=fn("CNA",!0),Ie=function(e,t){return{alteration_type:"cna",constr_rel:e,constr_val:t,modifiers:[]}},Ae="CNA_",Ee=fn("CNA_",!1),Pe=function(e){return{alteration_type:"cna",modifiers:[e]}},ke=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[t]}},_e="_CNA",we=fn("_CNA",!1),Oe=function(e,t){return{alteration_type:"cna",constr_rel:"=",constr_val:t,modifiers:[e]}},Me=function(e){return{alteration_type:"cna",constr_rel:"=",constr_val:e,modifiers:[]}},Re="MUT",Ne=fn("MUT",!1),De="=",Ge=fn("=",!1),xe=function(e){return{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},Le="!=",je=fn("!=",!1),Fe=function(e){return{alteration_type:"mut",constr_rel:"!=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}},Be=function(e){return e.type?{alteration_type:"mut",constr_rel:"=",constr_type:e.type,constr_val:e.value,info:e.info,modifiers:e.modifiers}:{alteration_type:"mut",info:{},modifiers:e.modifiers}},He="EXP",Ke=fn("EXP",!1),Ve=function(e,t){return{alteration_type:"exp",constr_rel:e,constr_val:parseFloat(t)}},qe="fusion",Ue=fn("FUSION",!0),Qe=function(e){return{alteration_type:"fusion",modifiers:[e]}},ze="_fusion",We=fn("_FUSION",!0),Ye=function(){return{alteration_type:"fusion",modifiers:[]}},Ze="PROT",Je=fn("PROT",!1),Xe=function(e,t){return{alteration_type:"prot",constr_rel:e,constr_val:parseFloat(t)}},$e=">=",et=fn(">=",!1),tt=function(){return">="},nt="<=",rt=fn("<=",!1),ot=function(){return"<="},at=">",it=fn(">",!1),ut=function(){return">"},lt="<",ct=fn("<",!1),st=function(){return"<"},pt=function(e,t){return t.modifiers.unshift(e),t},dt=function(e,t){return e.modifiers=t,e},ft=function(e){return{info:{},modifiers:[e]}},mt=function(e){return e.modifiers=[],e},ht=function(e,t){return[e].concat(t)},yt=function(e){return[e]},gt=function(){return{info:{}}},bt="missense",vt=fn("MISSENSE",!0),St=function(){return{type:"class",value:"MISSENSE",info:{}}},Tt="nonsense",Ct=fn("NONSENSE",!0),It=function(){return{type:"class",value:"NONSENSE",info:{}}},At="nonstart",Et=fn("NONSTART",!0),Pt=function(){return{type:"class",value:"NONSTART",info:{}}},kt="nonstop",_t=fn("NONSTOP",!0),wt=function(){return{type:"class",value:"NONSTOP",info:{}}},Ot="frameshift",Mt=fn("FRAMESHIFT",!0),Rt=function(){return{type:"class",value:"FRAMESHIFT",info:{}}},Nt="inframe",Dt=fn("INFRAME",!0),Gt=function(){return{type:"class",value:"INFRAME",info:{}}},xt="splice",Lt=fn("SPLICE",!0),jt=function(){return{type:"class",value:"SPLICE",info:{}}},Ft="trunc",Bt=fn("TRUNC",!0),Ht=function(){return{type:"class",value:"TRUNC",info:{}}},Kt="promoter",Vt=fn("PROMOTER",!0),qt=function(){return{type:"class",value:"PROMOTER",info:{}}},Ut=function(e,t,n){return{type:"name",value:e+t+n,info:{}}},Qt=function(e,t){return{type:"position",value:parseInt(t),info:{amino_acid:e.toUpperCase()}}},zt=function(e){return{type:"name",value:e,info:{unrecognized:!0}}},Wt=function(e,t){return e+t},Yt=function(e){return e},Zt=function(e){return e},Jt="germline",Xt=fn("GERMLINE",!0),$t=function(){return"GERMLINE"},en="somatic",tn=fn("SOMATIC",!0),nn=function(){return"SOMATIC"},rn=function(e){return e},on="driver",an=fn("DRIVER",!0),un=function(){return"DRIVER"},ln=0,cn=[{line:1,column:1}],sn=0,pn=[],dn=0;if("startRule"in t){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=a[t.startRule]}function fn(e,t){return{type:"literal",text:e,ignoreCase:t}}function mn(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function hn(t){var n,r=cn[t];if(r)return r;for(n=t-1;!cn[n];)n--;for(r={line:(r=cn[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return cn[t]=r,r}function yn(e,t){var n=hn(e),r=hn(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function gn(e){ln<sn||(ln>sn&&(sn=ln,pn=[]),pn.push(e))}function bn(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function vn(){var e,t;return(e=function e(){var t,n,r;return t=ln,(n=On())!==o&&_n()!==o&&(r=e())!==o?(n=J(n,r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Mn())!==o&&_n()!==o&&(r=e())!==o?(n=X(n,r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=On())!==o&&kn()!==o?(n=$(n),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Mn())!==o&&kn()!==o?(n=ee(n),t=n):(ln=t,t=o)))),t}())===o&&(e=ln,(t=En())!==o&&(t=u()),e=t),e}function Sn(){var t,n;if(ln,t=[],l.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(c)),n!==o)for(;n!==o;)t.push(n),l.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(c));else t=o;return t!==o&&(t=s(t)),t}function Tn(){var t,n,r,a;return t=ln,45===e.charCodeAt(ln)?(n=p,ln++):(n=o,0===dn&&gn(d)),n!==o&&(r=Tn())!==o?t=n=f(r):(ln=t,t=o),t===o&&(t=ln,(n=Sn())!==o?(46===e.charCodeAt(ln)?(r=m,ln++):(r=o,0===dn&&gn(h)),r!==o&&(a=Sn())!==o?t=n=y(n,a):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,46===e.charCodeAt(ln)?(n=m,ln++):(n=o,0===dn&&gn(h)),n!==o&&(r=Sn())!==o?t=n=g(r):(ln=t,t=o),t===o&&(t=ln,(n=Sn())!==o&&(n=b(n)),t=n))),t}function Cn(){var t,n;if(ln,t=[],v.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(S)),n!==o)for(;n!==o;)t.push(n),v.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(S));else t=o;return t!==o&&(t=T(t)),t}function In(){var t;return ln,C.test(e.charAt(ln))?(t=e.charAt(ln),ln++):(t=o,0===dn&&gn(I)),t!==o&&(t=A(t)),t}function An(){var t;return ln,E.test(e.charAt(ln))?(t=e.charAt(ln),ln++):(t=o,0===dn&&gn(P)),t!==o&&(t=k(t)),t}function En(){var t,n;if(t=[],M.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(R)),n!==o)for(;n!==o;)t.push(n),M.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(R));else t=o;return t}function Pn(){var t,n;for(t=[],M.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(R));n!==o;)t.push(n),M.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(R));return t}function kn(){var t,n;for(t=[],N.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(D));n!==o;)t.push(n),N.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(D));return t}function _n(){var t,n;if(t=[],N.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(D)),n!==o)for(;n!==o;)t.push(n),N.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(D));else t=o;return t}function wn(){var t,n,r,a,i;return t=ln,91===e.charCodeAt(ln)?(n=G,ln++):(n=o,0===dn&&gn(x)),n!==o&&kn()!==o?(34===e.charCodeAt(ln)?(r=L,ln++):(r=o,0===dn&&gn(j)),r!==o&&(a=function(){var t,n;if(ln,t=[],_.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(w)),n!==o)for(;n!==o;)t.push(n),_.test(e.charAt(ln))?(n=e.charAt(ln),ln++):(n=o,0===dn&&gn(w));else t=o;return t!==o&&(t=O(t)),t}())!==o?(34===e.charCodeAt(ln)?(i=L,ln++):(i=o,0===dn&&gn(j)),i!==o?t=n=F(a):(ln=t,t=o)):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,91===e.charCodeAt(ln)?(n=G,ln++):(n=o,0===dn&&gn(x)),n!==o&&kn()!==o?t=n=B():(ln=t,t=o)),t}function On(){var t,n,r,a,i;return t=ln,kn()!==o&&(n=wn())!==o&&(r=Mn())!==o&&kn()!==o?(93===e.charCodeAt(ln)?(a=te,ln++):(a=o,0===dn&&gn(ne)),a!==o&&kn()!==o&&(i=On())!==o?t=re(n,r,i):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,kn()!==o&&(n=wn())!==o&&(r=Mn())!==o&&kn()!==o?(93===e.charCodeAt(ln)?(a=te,ln++):(a=o,0===dn&&gn(ne)),a!==o?t=oe(n,r):(ln=t,t=o)):(ln=t,t=o)),t}function Mn(){var e,t,n;return e=ln,kn()!==o&&(t=Rn())!==o&&_n()!==o&&(n=Mn())!==o?e=ae(t,n):(ln=e,e=o),e===o&&(e=ln,kn()!==o&&(t=Rn())!==o?e=ie(t):(ln=e,e=o)),e}function Rn(){var t,n,r,a;return t=ln,(n=Cn())!==o&&Pn()!==o?(58===e.charCodeAt(ln)?(r=ue,ln++):(r=o,0===dn&&gn(le)),r!==o&&Pn()!==o&&(a=function e(){var t,n,r;return t=ln,(n=Nn())!==o&&En()!==o&&(r=e())!==o?(n=pe(n,r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Nn())!==o&&(n=de(n)),t=n),t}())!==o?t=n=ce(n,a):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Cn())!==o&&(n=se(n)),t=n),t}function Nn(){var t,n;return t=ln,(n=function(){var t,n,r,a;return t=ln,(n=Vn())!==o?(r=ln,dn++,95===e.charCodeAt(ln)?(a=me,ln++):(a=o,0===dn&&gn(he)),dn--,a===o?r=void 0:(ln=r,r=o),r!==o?(n=ye(n),t=n):(ln=t,t=o)):(ln=t,t=o),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,a,i;return t=ln,e.substr(ln,3).toLowerCase()===Te?(n=e.substr(ln,3),ln+=3):(n=o,0===dn&&gn(Ce)),n!==o&&(r=Pn())!==o&&(a=Gn())!==o&&Pn()!==o&&(i=Dn())!==o?(n=Ie(a,i),t=n):(ln=t,t=o),t===o&&(t=ln,e.substr(ln,4)===Ae?(n=Ae,ln+=4):(n=o,0===dn&&gn(Ee)),n!==o&&(r=Hn())!==o?(n=Pe(r),t=n):(ln=t,t=o),t===o&&(t=ln,(n=Dn())!==o?(95===e.charCodeAt(ln)?(r=me,ln++):(r=o,0===dn&&gn(he)),r!==o&&(a=Hn())!==o?(n=ke(n,a),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Hn())!==o?(e.substr(ln,4)===_e?(r=_e,ln+=4):(r=o,0===dn&&gn(we)),r!==o?(n=Pe(n),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Hn())!==o?(95===e.charCodeAt(ln)?(r=me,ln++):(r=o,0===dn&&gn(he)),r!==o&&(a=Dn())!==o?(n=Oe(n,a),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Dn())!==o&&(n=Me(n)),t=n))))),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,a;return t=ln,e.substr(ln,3)===He?(n=He,ln+=3):(n=o,0===dn&&gn(Ke)),n!==o&&Pn()!==o&&(r=Gn())!==o&&Pn()!==o&&(a=Tn())!==o?(n=Ve(r,a),t=n):(ln=t,t=o),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,a;return t=ln,e.substr(ln,4)===Ze?(n=Ze,ln+=4):(n=o,0===dn&&gn(Je)),n!==o&&Pn()!==o&&(r=Gn())!==o&&Pn()!==o&&(a=Tn())!==o?(n=Xe(r,a),t=n):(ln=t,t=o),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,a;return t=ln,e.substr(ln,6).toLowerCase()===qe?(n=e.substr(ln,6),ln+=6):(n=o,0===dn&&gn(Ue)),n!==o?(95===e.charCodeAt(ln)?(r=me,ln++):(r=o,0===dn&&gn(he)),r!==o&&(a=Kn())!==o?(n=Qe(a),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Kn())!==o?(e.substr(ln,7).toLowerCase()===ze?(r=e.substr(ln,7),ln+=7):(r=o,0===dn&&gn(We)),r!==o?(n=Qe(n),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,e.substr(ln,6).toLowerCase()===qe?(n=e.substr(ln,6),ln+=6):(n=o,0===dn&&gn(Ue)),n!==o&&(n=Ye()),t=n)),t}())!==o&&(n=fe(n)),(t=n)===o&&(t=ln,(n=function(){var t,n,r,a;return t=ln,e.substr(ln,3)===Re?(n=Re,ln+=3):(n=o,0===dn&&gn(Ne)),n!==o&&Pn()!==o?(61===e.charCodeAt(ln)?(r=De,ln++):(r=o,0===dn&&gn(Ge)),r!==o&&Pn()!==o&&(a=xn())!==o?(n=xe(a),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,e.substr(ln,3)===Re?(n=Re,ln+=3):(n=o,0===dn&&gn(Ne)),n!==o&&Pn()!==o?(e.substr(ln,2)===Le?(r=Le,ln+=2):(r=o,0===dn&&gn(je)),r!==o&&Pn()!==o&&(a=xn())!==o?(n=Fe(a),t=n):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=xn())!==o&&(n=Be(n)),t=n)),t}())!==o&&(n=fe(n)),t=n))))),t}function Dn(){var t,n;return t=ln,e.substr(ln,3).toLowerCase()===H?(n=e.substr(ln,3),ln+=3):(n=o,0===dn&&gn(K)),n!==o&&(n=ge()),(t=n)===o&&(t=ln,e.substr(ln,6).toLowerCase()===V?(n=e.substr(ln,6),ln+=6):(n=o,0===dn&&gn(q)),n!==o&&(n=be()),(t=n)===o&&(t=ln,e.substr(ln,4).toLowerCase()===U?(n=e.substr(ln,4),ln+=4):(n=o,0===dn&&gn(Q)),n!==o&&(n=ve()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===z?(n=e.substr(ln,7),ln+=7):(n=o,0===dn&&gn(W)),n!==o&&(n=Se()),t=n))),t}function Gn(){var t,n;return t=ln,e.substr(ln,2)===$e?(n=$e,ln+=2):(n=o,0===dn&&gn(et)),n!==o&&(n=tt()),(t=n)===o&&(t=ln,e.substr(ln,2)===nt?(n=nt,ln+=2):(n=o,0===dn&&gn(rt)),n!==o&&(n=ot()),(t=n)===o&&(t=ln,62===e.charCodeAt(ln)?(n=at,ln++):(n=o,0===dn&&gn(it)),n!==o&&(n=ut()),(t=n)===o&&(t=ln,60===e.charCodeAt(ln)?(n=lt,ln++):(n=o,0===dn&&gn(ct)),n!==o&&(n=st()),t=n))),t}function xn(){var t,n,r,a;return t=ln,(n=Bn())!==o?(95===e.charCodeAt(ln)?(r=me,ln++):(r=o,0===dn&&gn(he)),r!==o&&(a=xn())!==o?t=n=pt(n,a):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Ln())!==o?(95===e.charCodeAt(ln)?(r=me,ln++):(r=o,0===dn&&gn(he)),r!==o&&(a=function t(){var n,r,a,i;return n=ln,(r=Bn())!==o?(95===e.charCodeAt(ln)?(a=me,ln++):(a=o,0===dn&&gn(he)),a!==o&&(i=t())!==o?(r=ht(r,i),n=r):(ln=n,n=o)):(ln=n,n=o),n===o&&(n=ln,(r=Bn())!==o&&(r=yt(r)),n=r),n}())!==o?t=n=dt(n,a):(ln=t,t=o)):(ln=t,t=o),t===o&&(t=ln,(n=Bn())!==o&&(n=ft(n)),(t=n)===o&&(t=ln,(n=Ln())!==o&&(n=mt(n)),t=n))),t}function Ln(){var t,n,r,a;return t=ln,e.substr(ln,3).toLowerCase()===Y?(n=e.substr(ln,3),ln+=3):(n=o,0===dn&&gn(Z)),n!==o&&(n=gt()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===bt?(n=e.substr(ln,8),ln+=8):(n=o,0===dn&&gn(vt)),n!==o&&(n=St()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===Tt?(n=e.substr(ln,8),ln+=8):(n=o,0===dn&&gn(Ct)),n!==o&&(n=It()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===At?(n=e.substr(ln,8),ln+=8):(n=o,0===dn&&gn(Et)),n!==o&&(n=Pt()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===kt?(n=e.substr(ln,7),ln+=7):(n=o,0===dn&&gn(_t)),n!==o&&(n=wt()),(t=n)===o&&(t=ln,e.substr(ln,10).toLowerCase()===Ot?(n=e.substr(ln,10),ln+=10):(n=o,0===dn&&gn(Mt)),n!==o&&(n=Rt()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===Nt?(n=e.substr(ln,7),ln+=7):(n=o,0===dn&&gn(Dt)),n!==o&&(n=Gt()),(t=n)===o&&(t=ln,e.substr(ln,6).toLowerCase()===xt?(n=e.substr(ln,6),ln+=6):(n=o,0===dn&&gn(Lt)),n!==o&&(n=jt()),(t=n)===o&&(t=ln,e.substr(ln,5).toLowerCase()===Ft?(n=e.substr(ln,5),ln+=5):(n=o,0===dn&&gn(Bt)),n!==o&&(n=Ht()),(t=n)===o&&(t=ln,e.substr(ln,8).toLowerCase()===Kt?(n=e.substr(ln,8),ln+=8):(n=o,0===dn&&gn(Vt)),n!==o&&(n=qt()),(t=n)===o&&(t=ln,(n=An())!==o&&(r=Sn())!==o&&(a=jn())!==o?t=n=Ut(n,r,a):(ln=t,t=o),t===o&&(t=ln,(n=An())!==o&&(r=Sn())!==o?t=n=Qt(n,r):(ln=t,t=o),t===o&&(t=ln,(n=jn())!==o&&(n=zt(n)),t=n)))))))))))),t}function jn(){var e,t,n,r,a;return e=ln,t=ln,dn++,n=Fn(),dn--,n===o?t=void 0:(ln=t,t=o),t!==o&&(n=In())!==o?(r=ln,dn++,a=Fn(),dn--,a===o?r=void 0:(ln=r,r=o),r!==o&&(a=jn())!==o?e=t=Wt(n,a):(ln=e,e=o)):(ln=e,e=o),e===o&&(e=ln,t=ln,dn++,n=Fn(),dn--,n===o?t=void 0:(ln=t,t=o),t!==o&&(n=In())!==o?e=t=Yt(n):(ln=e,e=o)),e}function Fn(){var t,n,r;return t=ln,95===e.charCodeAt(ln)?(n=me,ln++):(n=o,0===dn&&gn(he)),n!==o&&(r=Bn())!==o?t=n=Zt(r):(ln=t,t=o),t}function Bn(){var t,n;return t=ln,e.substr(ln,8).toLowerCase()===Jt?(n=e.substr(ln,8),ln+=8):(n=o,0===dn&&gn(Xt)),n!==o&&(n=$t()),(t=n)===o&&(t=ln,e.substr(ln,7).toLowerCase()===en?(n=e.substr(ln,7),ln+=7):(n=o,0===dn&&gn(tn)),n!==o&&(n=nn()),(t=n)===o&&(t=ln,(n=Vn())!==o&&(n=Zt(n)),t=n)),t}function Hn(){var e;return ln,(e=Vn())!==o&&(e=rn(e)),e}function Kn(){var e;return ln,(e=Vn())!==o&&(e=rn(e)),e}function Vn(){var t;return ln,e.substr(ln,6).toLowerCase()===on?(t=e.substr(ln,6),ln+=6):(t=o,0===dn&&gn(an)),t!==o&&(t=un()),t}if((n=i())!==o&&ln===e.length)return n;throw n!==o&&ln<e.length&&gn({type:"end"}),bn(pn,sn<e.length?e.charAt(sn):null,sn<e.length?yn(sn,sn+1):yn(sn,sn))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(504);function o(e,t){var n=t.molecularAlterationType(e.molecularProfileId);switch(n){case r.a.MUTATION_EXTENDED:case r.a.FUSION:null!==t.fusion(e)?(e.alterationType=r.a.FUSION,e.alterationSubType=""):(e.alterationType=r.a.MUTATION_EXTENDED,e.alterationSubType=t.mut_type(e));break;case r.a.COPY_NUMBER_ALTERATION:e.alterationType=r.a.COPY_NUMBER_ALTERATION,e.alterationSubType=t.cna(e);break;case r.a.MRNA_EXPRESSION:case r.a.PROTEIN_LEVEL:e.alterationType=n}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(522);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,a;return t=e,a=[{key:"from",value:function(t){var n=new e,r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;n.add(l)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}],(n=[{key:"keys",value:function(){return this.map.entries().filter(function(e){return e.value}).map(function(e){return e.key})}},{key:"add",value:function(e){this.map.set(e,!0)}},{key:"delete",value:function(e){this.map.set(e,!1)}},{key:"has",value:function(e){return!!this.map.get(e)}},{key:"clear",value:function(){this.map.clear()}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){"use strict";function r(e){return function(e){var t="";e&&(e.length>1?t="combined_study_":1===e.length&&(t="".concat(e[0],"_")));return t}(e?e.map(function(e){return e.studyId}):void 0)}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(522);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new r.a}var t,n,a;return t=e,(n=[{key:"add",value:function(e,t){var n=[];this.map.has(e)?n=this.map.get(e):this.map.set(e,n),n.push(t)}},{key:"get",value:function(e){return this.map.get(e)}},{key:"clear",value:function(){this.map.clear()}},{key:"entries",value:function(){return this.map.entries()}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){e.exports=n.p+"reactapp/images/58335fa45d1c6a16c7d06eabd2ecee93.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAAG2CAYAAAC6fWvkAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABOvAAATrwFj5o7DAAAAB3RJTUUH4QgXDAozoFc2mAAAIABJREFUeNrt3Xl8VPW9//FvkpkhC4SQsAkuuKHiVisTCrZel1ttq17rQ6xttdd7r7a/3uq97eNhtFbbCiQh20Cxtra9Uu21rUKAAGEnFAKYEJiETXYhk5nJrJlMkklmYeacOb8/6u/XWlmSkGTOmXk9/8QwOef9PfLOJ3O+Z9IURREAzq/oT61Lq566+rm0tDTCAM4jnQiA81t/yD/3/br2Z//Y4P1P0gDOL43JBDg3RVHEnNf2f2x1BK+bUJDpNFcapxp0TCcAkwkwAH/Y7X3B6gheJ4QQHZ2RKW/WOV4nFYDJBOi3SEwWhS+3uHz+yOT/92ejR+u7zFXG/LHZOgICmEyAi3tzq6v474tECCH6+mLjKtbZf006AJMJcFHdISndWLSvMxiU8v7xvxn0GcEGk3HG1DyDjaQAJhPgvMpqbW+dq0iEECIak3OKV7ZVkRJAmQDnZeuMTFu2zfmdC33N+gb3Y8ccodtJC6BMgHMqrrGZYrF49oW+Jh4X+nkr2haTFkCZAJ9xpD10x8YG96P9+doPD/juazgVuJ/UAMoE+JR51a2LFUXo+v/1FhOpAZQJ8P/tOtnz5cZD/nsG8neOftzzuTUtnd8mPYAyAYQQQsxfNrgpo2yFpUSWub0eoEyQ8lY1+54+3hq4bTB/1+4KXf3ubs+PSBGpjk2LSGmSrIjZP2mxODyhaYN9jfw8g3dflXFStiGDQMFkAqSipfXuokspEiGE8HdHJ76xxVlGmmAyAVJQMCqLwiKzt6snOuFSXys7SxdoqjJeMX6MPkCyYDIBUsiSjY7KoSgSIYQIhaXc8rV2NjKCMgFSSUdvLP+dTe3/Zyhfs3qH89ttvsh1pAvKBEgRC9fYFoUjUu5QvqYkxbPmr7QuIl1QJkAKsHgj16/a4XpyOF57a5Pn4QO2YCEpgzIBkty8VW2LJDmeNRyvrSgifV51K++dgDIBktl+a+8Xtu31PjSc38P8Uddd2452P0TaoEyAJPX68rbFijL81/2C5a2VpA3KBEhCdUe6/6XlaNfskfhep619M5Y3dfwHqYMyAZLMguWtFSP5/SpWts2PSWwKBmUCJI0P9nQ8d8bWd+NIfk93R/jy3+1w/YT0kQp4nAqSXlRSxKwfN7d7fOGpI/29c8foO5tNxvGjM3UsBJhMAC377XbXa4koEiGECPTGCkwbHL9gFcBkAmhYICyJwpfMnYHeWH6ijmHUqIy+PVXGGyaPNThZETCZABpk2uB4I5FFIoQQZ8/Ko0tW27hVGJQJoEWunujU97a0P6uGY1mz0/nEKXd4BqsCygTQmNIaW2U0Kueo4VjicWGYt6KNx6yAMgG05KQ7fPOaXc65ajqm+uaOB5rO9N7N6oAyATRifnXb4nhcGFR2WGnzlluYTkCZAFqw53TgnvqWji+r8dgOn+y+c8Mh/+OsEigTQOXmLbeYhBBpaj2+kuWWcm7JB2UCqNj6Q/65H53quVPNx2h1BK/73w+9z7NaSCZsWkTSkGVF3PWz/adtjuC1aj/W8fmZ7n2Vd16Wqc9g4cBkAqjJew3eF7RQJEII4fNHJv9qq2sBqwYmE0BFwjFZFL7U4u7sikzSyjHn5Oi6zabCgrxsXZwVBJMJoAK/2uoq1lKRCCFEMCjlldfaf83qgckEUIGuoKQvfGmfNxiU8rR27Hp9emh3xcybryzIbGMlwWQCJFD5OtubWiwSIYSIxeLZxTU2E6sIygRIIFtnZNqyOud3tHwOGxvcjx5pD93BaoIyARKkuMZmiknxbC2fg6II3bwVbYtYTVAmQAJ8ZA9+fmOD+9FkOJfGg757d57oeZBVBWUCjLD5KyyLFEUkzYerz19mqWJVQZkAI6j+RM9XGg/570mmczphCdy6qtn3NKsLygQYIQuWWZLyY3DLq9uKJZnb9UGZAMNuVbPv6ROWwK3JeG4OT2ja0np3EasMrWHTIjRFkhXxhZ+0tDk9oauS9RzHjTV07DMZJ+YYeAgkmEyAYbG03l2UzEUihBBdPdEJSzY6KlltMJkAwyAYlUVhkdnb1ROdkOznmpWZ0dtkKpw2YYzez8qDyQQYQks2OipToUiEECIckceUreExK6BMgCHVEYgVvLPJ/v1UOueVO1zfbO0IT2f1QZkAQ6Rsra0qHJHHpNI5S3I8a/5KK9MJKBNgKLR2hKev3OH6Ziqe+7a93odaLL1zuApAmQCXaP5Kq0mS41mpeO6KItLnrWhjOgFlAlyKFkvvnG17vQ+ldAZHu2Zv/aj7Ua4GUCbAIM1b0WZSFK7T4urWCm7jB2UCDMLWj7ofbTnaNZskhDhj67thWZPvOZKAWrFpEaqkKIq4++cHTpyx9d1AGn81sSDTua/SONWgSyMMMJkA/bGsyfccRfJp3s7IlN9ud71GEmAyAfohKili1o+b2z2+8FTS+LQxo/VdZpMxPzdLRxhgMgEu5LfbXa9RJOfW2xcbZ9rgeIMkwGQCXEAgLAljkdnf2xcbRxrnZjBkBBurjDdNyTPYSQNMJsA5mDY43qBILiwalXNKV9sqSAKUCXAOzu7oFe9taX+WJC5u7S7n3OOO0G0kAcoE+AcLV9vKo1E5hyQuLh4X+gWreAgkKBPgU467Qres2eWcSxL9t7Ol48sNpwL3kQQoE+ATxSusi+JxYSCJgZlXbWE6AWUCCCFE4+nAvfUtHQ+QxMAd/bjnjnUH/N8gCVAm4Kfr5fx0fSlKq1vLZJlb/EGZIIWtP+Sfe+RUz+dJYvBsztA17zV4/oskkEhsWkTCyLIi7vrp/tM2Z/Ba0rg0+eMMHnOVcXKWPoMwwGSC1PJeg/cFimRo+Luik97c4iwhCTCZIKWEY7IwvmR2+7uik0hjaORk6XqaFhmnFuTog6QBJhOkhF9tdRVTJEMrGJbGVtTaF5MEmEyQErqCkr7wxX0dwbA0ljSGlk6XHt5dMfPWq8ZnniENMJkgqVWss/+SIhkekhTPKq6xVpEEKBMkNWtn5JoP6hz/ShLDZ1Oj55GDtqCRJECZIGmV1NgqY1I8mySGj6II3YIVbAQFZYIkddgenLmxwf0oSQy/psP+u7cf7fkaSYAyQdJZsMJSpSiCDy8fIfOrz/DeCSgTJJcdx3u+2njIfw9JjJyP2/pmrDD7niEJUCZInqlkuaWSFEZeebWlOCZx+z8oEySBVc2+p09aAreQxMhzecNXvF3vfpkkMNzYtIhhJcmKmPVKs9XlDV9JGokxNlff2VxVOD4nk4dAgskEGrW03l1EkSRWTyBWsHiTg1uFwWQCbQpGZGF82dzR3RMdTxqJlTkqo7fJVHj9xFy9hzTAZAJNWbLZUUmRqEPkrDymdI2NmyBAmUBbOgKxgnc22b9PEupRU+968mNP+CaSAGUCzShba6sKR+QxJKEeshwftWAVD4EEZQKNOO0J37hih+vbJKE+f9nr/dq+1t4vkgQoE6hecY21Upbjo0hCldIWVLcxnYAygbo1W3rvqmvyPkwS6rX/eNcXNhzyP04SoEygWvNXtFUJIdJIQt1Kqy1lbAsAZQJV2nzY/1jL0a7ZJKF+be3B6//U4OVuOwwZNi1iSCiKIr70swMnW+1900lDGybkZ7r2Vt45JVPPY1bAZAKVWNbke44i0ZYOf+Syt7a5fk4SYDKBKkQlRRS+bHZ4OyNTSENbcnJ03WZTYUFeti5OGmAyQUL9drvrNYpEm4JBKc+03v4GSYDJBAnVE5KE8SWzv68vNo40tEmvTw81VBbOuDzfYCUNMJkgIRZvciyhSLQtFotnl65pqyAJXAodEWCwfL2x+w+eCXzv9hvyCEPjbN7IE23eiHnaxMxFpIHB4NdcAIBLxq+5AACUCQCAMgEAUCYAAFAmAADKBABAmQAAKBMAACgTAABlAgCgTAAAlAkAAJQJAIAyAQBQJgAAygQAAMoEAECZAAAoEwAAZQIAAGUCAKBMAACUCQCAMgEAgDIBAFAmAADKBABAmQAAQJkAACgTAABlAgCgTAAAoEwAAJQJAEB9dESQWt7Z5a5d8aH3EZLAcLr/9vyGoocu/yJJpI40RVFIIUU4uqNX3lVkPhaNyTmkgWH9hyVNSJuK75x92xU5zaSRGvg1VwopW20ro0gwEhRF6IpXWitJgjJBkjnmCN2+ZpfzCZLASGk46Lt3x/Ger5IEZYIkUrLKWhmPCz1JYCQtWG5hOqFMkDQ/IZ4K3F/f0vEASWCknbQEblnd3PkUSVAmSAKvL7MsIgUkbCpe3rpQkrnRhzKBpq0/5J977EzP7SSBRHF5w1f+fpf7RZJIbtwanMRkWRFzXmtptbtCV5MGEilvrMFnrjROyMnMIAwmE2jNew3eFygSqEF3T3T8G1uc5STBZAKNCUVlUfiS2ePvjk4kDahB5qiM3r2mwqsn5Oo7SYPJBBrxVp1rAUUCNYmclceUr7NxqzBlAq3w9cZyf7vO9kOSgNpU/8X11GlP+EaSoEygAaYN7RWhsJRLElAbWY6PKqnhMSuUCVTP6otc+36d4xmSgFptbfI+3GzpvYskKBOoWMlqW4UkxbNIAiqWtmBFG9MJZQK1OmgLGjc2uB8jCahd89GuOZsP+7lWKROocipZaalUFNYU2lBcbSlnawJlApXZdrT7ocZD/ntIAlphsQenL9/re5YkKBOo6qe8Vn4HDc0pq7YsiEpMJ5QJVGFVs+/pj9v6ZpAEtKajMzLld9tdr5KE9vE4FY2LSYqY9Uqz3d0Rvpw0oEWjR+u7zFXG/LHZOsJgMkGi/H6nu4gigZb19cXGLd7kWEISTCZIkGBEFncW7fMFemMFpAEtM+gzgg0m44ypeQYbaTCZYIQt2eKooEiQDKIxOadsta2MJCgTjDBvIDZp6Qb7D0gCyWLNLucTxxwhPhWUMsFIKl9rKzt7Vh5NEkgW8bjQl6ziIZCUCUbMx57wTSt2uL5NEkg29S0dDzScCtxPEpQJRkBJjbVCluOjSALJ6PVllkWkQJlgmO090/uluibvwySBZHXsTM/t6w/555IEZYLhnEpWtVUIIdJIAsms+IPWSllm2wJlgmGx4ZD/8ZajXbNJAsnO7gpd/V6D9wWS0A42LWqEoijirp/uP9XWHryeNJAK8vMM3n1VxknZhgzCYDLBUFnW5HuOIkEq8XdHJ/66zlVMEkwmGCKRmCxmvdzi7PBHLiMNpJLsLF2gqcp4xfgx+gBpMJngEr29w/MqRYJUFApLuVUb7GxkZDLBpeoOSenGon2dwaCURxpIRTpdenhXxczbpo3PPE0aTCYYpF9sciymSJDKJCmeVVJjrSAJygSD1O6PXvWHTfbvkgRS3aZGz9cP2IKFJEGZYBDK19oWxmLxbJJAqlMUkV6y0sJ7J5QJBupoe+hza3Y5nyAJ4K/2HPL/U92Rbh4lRJlgIEprrBXxuNCTBPA3xdWtvHdCmaC/dp8M/HN9S8cDJAF82mlr34yVZt93SIIyQT/Mr27lEdzA+ab25ZaFMYktDZQJLmj9If/cY6cDt5EEcG6ejvDlS3e6XyIJdWHToorIsiJmv9ZiaXeFppEGcH65Y/SdzSbj+NGZOsJgMsE/eq/B+wJFAlxcoDdWsGSzs4okmEzwD0JRWRhfMnu6uqMTSQO4uFGjMvr2VBlvmDzW4CQNJhN84q061wKKBOi/s2fl0RW19lKSYDLBJ3y9sdxZRWZ7OCLlkgYwgJ+G00V0e5nxjumTs46RBpNJyjNtaK+gSICBi8eFoaTGWk4SlEnKa/NFrnu/zvEMSQCDs22v9+GmM713kwRlktJKV9vKJSmeRRLAoKWVrmxjOqFMUtcBW7BwY4P7MZIALk3Lsa7Z6w74v0ESlElqTiUrLRWKwhoAQ2HhCkspNxRRJimn7kj3w42H/PeQBDA0rI7gdX/e4/seSSQGtwYnyN0/33/stLXvJpIAhs74/Ez3vso7L8vUZxAGk0nyW9Xse5oiAYaezx+Z/Lu/eH5KEkwmSS8mKaLwlWa7pyN8OWkAQy8nR9dtNhUW5GXr4qTBZJK03tntfpEiAYZPMCjlLdroWEISTCZJqy8iiZlFZl+gN1ZAGsDw0evSQ7srZ958ZUFmG2kwmSSdN7Y4KygSYPjFpHh2+VpbGUlQJknH3ROdsnSD/QckAYyMtbvcc4+0h+4gCcokqVTW2kvOnpVHkwQwMhRF6EpWtVWSBGWSNE65wzOqtzueIglgZO3a7/vnnSd6HiQJyiQplK62lsfjwkASwMibv8zCx/tSJtq390zvl+qavA+TBJAYJyyBW2sPdD5JEpSJtqeSVW3lQog0kgASZ8EHlgpJZhsEZaJR6w/55zYf7ZpDEkBiOT2hq9770PPfJDF82LQ4TBRFEXNe2/+x1RG8jjSAxMsba/CZTcYJOQYeAslkoiHLmnzPUSSAenT3RMf/aquzlCSYTDQjEpNF4cstLp8/Mpk0APXIyszobTIVTpswRu8nDSYT1Xt7h+dVigRQn3BEHlO5zs7nxTOZaGCUDknpxqJ9ncGglEcagProMtLD9RV3fu6aCVmnSIPJRLV+scmxmCIB1EuS41mlNbYKkqBMVKvdH73qD5vs3yUJQN02NXoebbH0cts+ZaJO5WttC2OxeDZJAKqXVlJj5b0TykR9jraHPrd6p/MbJAFow97D/i9t+aj76yRBmahKaY21QlGEjiQA7Sipbi3nJiTKRDV2nez5cn1LxwMkAWjLGVvfDSv2df4bSVAmqjB/mcVECoA2LVzeWhqVmE4okwRbf8g/93hr4DaSALTJ2xmZsrTe/WOSuDRsWrwEsqyIL/ykxeLwhKaRBqBdY0bru8wmY35uFm97MpkkwB8bvc9TJID29fbFxi3Z5FxEEkwmIy4UlYWxyOzt6olOIA1A+wz6jGCjyXjTlDyDnTSYTEbMW3WuBRQJkDyiMTmnfK2NR9RTJiOnozeW/5ta2w9JAkguNfXObx53hLihhjIZGYs2tJeGI1IuSQDJJR4X+tLVPGaFMhkBFm/k+ve3Op4hCSA5bTd3fLXhVOA+kqBMhtXCtbYySY5nkQSQvMpq2haSAmUybPZbg7M2NrgfIwkgyf9fP949a21L57dIgjIZnqmkxlqmKGQGpMR0stJSIstsnaBMhljdke5/aTzou5ckgNRgc4au+fMe73+SRP+wabGfvvSz/cfP2PpuJAkgdeTnGbxmk3FSlj6DMJhMLt2qZt/TFAmQevzd0YlvbXO9ThJMJpcsJimi8JVmu6cjfDlpAKknO0sX2LvIOKUgRx8kDSaTQXtnt/tFigRIXaGwlLt4Q3sFSTCZDFpfRBIzi8ydgd5YPmkAqUunSw/vrph561XjM8+QBpPJgL2xxVlBkQCQpHhW2RobGxkpk4Fz90SnvL3e/jxJABBCiHUfuucetAWNJEGZDEhlrb0kGpVzSAKAEEIoikhfWMNDICmTATjpDt9cvd3xFEkA+HsfHvDdt/1oz9dI4rP4wONzWLW3491br88zkASAz/z7sM/z1n03j51GEp/G3VwAgEvGr7kAAJQJAIAyAQBQJgAAUCYAAMoEAECZAAAoEwAAKBMAAGUCAKBMAACUCQAAlAkAgDIBAFAmAADKBAAAygQAQJkAACgTAABlAgAAZQIAoEwAAJQJAIAyAQCAMgEAUCYAAMoEAECZAABAmQAAKBMAAGUCAKBMAACgTAAAlAkAQH10yXAS1s7Ij37w9qlF8TjlCEBbSr51ddmdV495VevnkaYoiuYX499+c6J2a5P3ES5LAFpz7ZWjT+wu/vxNWj8Pzf8kv+d04B6KBIBWnbH13biq2fc0ZZJgZTXWUi5HAFpW8oGlPCZp+7dEmi6T2gOdTzYf7ZrDpQhAyzy+8NTf73QXafkcNPueiaIoYvar+0/bnMFruRQBaN2Y0fous8mYn5ulzfuiNDuZLN/re5YiAZAsevti497c6qxgMhlB4ZgsjC+Z3f6u6CQuQQDJwmDICO4xGW+4bKzBwWQyApbu8LxKkQBINtGonFNVay9mMhkBXUFJX/jivo5gWBrLpQcg2aSni1jdwpmfv+my7CNMJsNoyWZHFUUCIFnF40Jfvsa2UHMlqKWDtXVGpv1ho/27XG4Aklldk/eRPacD91Amw6Sytr00JsWzudQAJLuFNVZNTSeaKZOP7MHPr97p/AaXGIBU0HK0a3btgc4nKZMhVrbGtlBRkuMpxwDQr+mkuq1UKzdJaaJM6k/0fKW+ueNBLi0AqcTmDF67rMn3nBaOVRO3Bt877+BHJy2BW7i0AKSa/HEGj7nKODlLn8Fkcik2HPI/TpEASFX+ruikt3d4XmMyuQSSrIhZrzRbXd7wlVxSAFJVTpauZ9+iwgnjcnQxJpNB+FOj93mKBECqC4alsb/Y5DAxmQwmvKgsjEXmju6e6HguJQCpTq9LD+2qnHnrVQWZrUwmA/CbOtcCigQA/iomxbMra9tL1Hp8qiyTjkCs4K211h9x+QDA36zZ6XzysD04kzLpp0Ub20siZ+UxXDoA8DeKItLLVqvzIZCqK5PWjvD0P291/DuXDQB81s6Wji/vON7zVcrkIsrX2EtlOT6KSwYAzm3+MksVZXIBLZbeOes/dD/OpQIA53eqLXDzugN+VT34VlVlUrbGXiKESONSAYALm/f+GZMkq2drh2rKZMtH3V9vPOi7l0sEAC7O5Q1f8ccGz3+p5XhUs2nxiz/df7LV3jedSwQA+mdsrr6zuapwfE5m4h8CqYrJZHVz51MUCQAMTE8gVvDrbU5VbGRM+GQSlRRR+LLZ4e2MTOHSAICByRyV0bvXVHj1hFx9Z0pPJu/udr9IkQDA4ETOymOqNtgTvpExoZNJICyJmUVmf19fbByXBAAMTkZG+tkdZXd+7rpJWSdScjJ5c6uzgiIBgEsjy/FR5WsT+5iVhJWJszt6xdvr7M9zGQDApdvY4Pl6s6X3rpQrE9M6+/xoTM7hEgCAIZG2sMaasOkkIWVy3BW6pXq742nWHgCGTtNh/92bD/sfS5kyqVhjWxiPCz1LDwBDq7jaUp6IG6tGvEwaTwfu3drkfYQlB4ChZ7EHp69s7nwm6cukvMZawnIDwPApeb+1LCqN7HQyomVSu7/zm81Hu+aw1AAwfDr8kcuW1rtfHsnvOWKbFhVFEbNfbTljc4auYakBYHjl5Oi6m02F48Zm65JrMlm+1/csRQIAIyMYlPJ+ucVpSqrJJByThfEls9vfFZ3EEgPAyNDr00ONpsKbpuYZbEkxmSzd4XmVIgGAkRWLxbMra+3FSTGZdAUlvfHFfb5QWMplaQFgZKWlCamudObMGVOzD2l6Mlmy2VFFkQBAYiiK0JWttZUO9/cZ1jKxdkaueXej/XssJwAkzl/2eh9qOBW4X7NlUrWufYEkxbNYSgBIrLJh3jA+bGVy2B6cubre+S2WEAASb//xri+sbu58SnNlUr7GVqIoif9YYADAJ9PJSkuJLA/PTVfD8o/9juM9X61v7niQpQMA9Wh3haa9v8f7/eF47WG5Nfie1w8eOdUWuJmlAwB1GZdn8JqrjJOyDRnqnkw2HPI/TpEAgDp1dUcn/s92z89UPZlIsiJmvdJsc3nDV7BkAKBOWZm6wF6T8YrxY/QBVU4mf2r0Pk+RAIC6hSNS7pJN7UO6kXHIJpNgVBYzX9zn6wnEClgqAFA3XUZ6eFflzNumjc88rarJ5Dd1rgUUCQBogyTHsypqbUO2kXFIyqQjECt4a631RywPAGhH7S73EwdswULVlMmije0lkbPyGJYGALRDUUR6+WrrQlWUyWlP+MY/b3X8O8sCANqze7/v/roj3Q8nvEwqa+3FshwfxZIAgDYVV7dWJrRMmi29d63/0P04SwEA2nXa2ndT7f7ObyasTMrX2IuFEGksBQBo2+vvt1bFpMFvFRl0mWw+7H+s8aDvXpYAALTP0xG+/L0Gzw8H+/cHvWnxrp+2nLTYg9NZAgBIDrlj9P5mk7FgdKZuZCaT1c2dT1EkAJBcAr2x/F/VuQZ1q/CAJ5OopAjjy2ZHR2dkCtEDQHIxGDKCTSbj9MljDc5hnUze3e1+kSIBgOQUjco5pg3t84d1MgmEJTGzyOzv64uNI3IASE7p6SK6vcx4x/TJWceGZTJ5c6uzgiIBgOQWjwtD+VrbgN476XeZOLujV/zPOtsLxAwAyW9zo+fRpjO9dw95mSzaYJ8Xi8WziRgAUkN5jbXfH6DVrzI57gjdtnyb4ztECwCpY98R/xfXHfB/Y8jKpKLWVhKPCz3RAkBqKV1hWdifG7UuWiYNpwL3bW3yPkKkAJB6bI7gtdX7Oi/6MSMXLZOKNdZi4gSA1FXyQWtZJCYPvkzWtnR+q/lo1xyiBIDU1dkVmfT7eu8rF/qa825alGVFzHmtpdXuCl1NlACQ2nKydD3mxYX5edm6+IAmkxVm37MUCQBACCGCYWnsG5sdpgFNJuGYLIxFZo+/OzqRCAEAQgih16WHdlfOvPnKgsy2fk0mS3d4XqVIAAB/LybFs6vWtxf3azLpDMZyZr1odobCUi7RAQA+VRppQtpSMrPwlsuzD1xwMvnlZmcpRQIAOBdFEbqFq62feQjkp8rE6otc++5G+/eICwBwPvXNHV/ZeaLnwfOWSdX69vmSFM8iKgDAhVSuti44Z5kctAWNq+ud3yIiAMDFHDjRXbjC7HvmM2VSudZWrCgD/xhfAEBqKq+2LJBk5W9lsv1oz9fqmzseJBoAQH+5vOEr/9zo/YEQn9wafPfP9x89be2bQTQAgIHIG2vwmU3GCRnGx/778f/d3P48kQAABipyVs42ZOvTdE0f9/7TnNvz64kEADAYx9uDt6b15xO0AAC4EO7eAgBQJgAAygQAQJkAAECZAAAoEwAAZQIAoEwAAKBMAACUCQCAMgEAUCYAAFAmAADKBABAmQAAKBMAACgTAABlAgCgTAAAlAkAAJQJAIAyAQBQJgAAygQAAMoEAECZAAAk0Gq+AAAAlUlEQVQoEwAAZQIAAGUCAKBMAACUCQCAMgEAgDIBAFAmAADKBABAmQAAQJkAACgTAABlAgCgTAAAoEwAAJQJAIAyAQBQJgAAUCYAAMoEAECZAAAoEwAAKBMAAGUCAKBMAACUCQAAlAkAgDIBAFAmAADKBAAAygQAQJkAACgTAABlAgAAZQIAoEwAAJQJAIAyAQDgYv4vMVxnuxH2/TUAAAAASUVORK5CYII="},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3xfuL",framedImage:"styles-module__framedImage__3MWaq",genesSelection:"styles-module__genesSelection__17BpH",default:"styles-module__default__3ZAms",oncoprintHeatmap:"styles-module__oncoprintHeatmap__lvPrO",studyView:"styles-module__studyView__3TtjM",studyViewFocus:"styles-module__studyViewFocus__1CfEf",GeneSymbolValidator:"styles-module__GeneSymbolValidator__1K2q1",nowrap:"styles-module__nowrap__1GVDf",icon:"styles-module__icon__2RDD6",pendingMessage:"styles-module__pendingMessage__1gVAe",oqlNotice:"styles-module__oqlNotice__3naFJ",errorMessage:"styles-module__errorMessage__3pZ_v",validBubble:"styles-module__validBubble__2iAqd",invalidBubble:"styles-module__invalidBubble__3Hs4P",suggestionBubble:"styles-module__suggestionBubble__1TnzN",noChoiceLabel:"styles-module__noChoiceLabel__2sdit",singleChoiceLabel:"styles-module__singleChoiceLabel__178JA",multiChoiceLabel:"styles-module__multiChoiceLabel__1PPmp"}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMzguOTI0cHgiIGhlaWdodD0iMzguNjI1cHgiIHZpZXdCb3g9IjAgMCAzOC45MjQgMzguNjI1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAzOC45MjQgMzguNjI1IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxlbGxpcHNlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSIxOS4zOTkiIGN5PSI3LjE4OCIgcng9IjE3Ljg4NiIgcnk9IjUuODEyIi8+DQo8cGF0aCBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTM4LjA5MSw4LjU2NUwyMi43NDIsMjcuNjkzVjM3Ljc1bC03LjgyMy0zLjEyNGwtMC4wMzItNi44MjFMMC43MzcsOC41NjUNCgljMCwwLDMuNzQ3LDQuMTE5LDE4LjUzOCwzLjgyMUMzNC4wNjMsMTIuMDg5LDM4LjA5MSw4LjU2NSwzOC4wOTEsOC41NjV6Ii8+DQo8L3N2Zz4NCg=="},function(e,t,n){e.exports={portalWidth:"annotation-module__portalWidth__1ONSd",framedImage:"annotation-module__framedImage__3aREl","annotation-item-text":"annotation-module__annotation-item-text__2FRXN","annotation-item-error":"annotation-module__annotation-item-error__1XUY_","annotation-item":"annotation-module__annotation-item__1YzCz"}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(151),o=n(9),a=n.n(o),i=n(7);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleWindowResize=a.a.debounce(this.setWindowSize,200),"object"===("undefined"==typeof window?"undefined":l(window))&&(this.windowObj=window,this.setWindowSize(),this.windowObj.addEventListener("resize",this.handleWindowResize))}var t,n,r;return t=e,(n=[{key:"setWindowSize",value:function(){this.size={width:this.windowObj.innerWidth,height:this.windowObj.innerHeight}}}])&&u(t.prototype,n),r&&u(t,r),e}();c([i.observable],s.prototype,"size",void 0),c([r.default,i.action],s.prototype,"setWindowSize",null)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(7),o=n(598),a=n.n(o);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},c=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cache=a.a.from({}),this._pendingCache={}}var t,n,r;return t=e,(n=[{key:"fetch",value:function(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"filter",value:function(e,t){return t}},{key:"getData",value:function(e,t){var n=this,r={},o=[];if(e.forEach(function(e){var t=n._cache[e]||n._pendingCache[e];void 0===t?o.push(e):r[e]=t}),o.length>0){var a={};o.forEach(function(e){a[e]={status:"pending"},n._pendingCache[e]=a[e],r[e]=a[e]}),this.fetch(this.filter(o,t))}return r}},{key:"putData",value:function(e){var t=this;Object.keys(e).forEach(function(n){"pending"!==e[n].status&&delete t._pendingCache[n]}),Object.keys(e).length>0&&(this._cache=this._cache.merge(e,{deep:!0}))}}])&&i(t.prototype,n),r&&i(t,r),e}();l([r.observable.ref],s.prototype,"_cache",void 0),l([r.action],s.prototype,"putData",null)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return c});var r,o=n(9);function a(e){var t=e.match(/results\/([^\/]+)/);return t?t[1]:void 0}function i(e){var t={oncoprint:r.ONCOPRINT,cancer_types_summary:r.CANCER_TYPES_SUMMARY,mutual_exclusivity:r.MUTUAL_EXCLUSIVITY,plots:r.PLOTS,mutations:r.MUTATIONS,co_expression:r.COEXPRESSION,enrichments:r.ENRICHMENTS,survival:r.SURVIVAL,IGV:r.CN_SEGMENTS,network:r.NETWORK,expression:r.EXPRESSION,download:r.DOWNLOAD};return e.split(",").map(function(e){return e.trim()}).map(function(e){return e in t?t[e]:e})}function u(e,t){var n=[],r=o.keyBy(t,function(e){return e.id});return e.forEach(function(e){if(e in r){var t=r[e];n=n.concat(t.data.studies.map(function(e){return e.id}))}else n.push(e)}),o.uniq(n)}function l(e,t){var n=o.keyBy(t,function(e){return e.id}),r=o.keyBy(e,function(e){return e.studyId});e=o.filter(e,function(e){return!n[e.studyId]});var a=o.filter(t,function(e){return r[e.id]}),i=o.flatMapDeep(a.map(function(e){return e.data.studies.map(function(e){return e.samples.map(function(t){return{studyId:e.id,sampleListId:void 0,sampleId:t}})})}));return e=e.concat(i)}function c(e,t){var n;if(e.case_ids&&e.case_ids.length>0)n=e.case_ids.split(/\+|\s+/).map(function(e){var t=e.split(":");return{studyId:t[0],sampleId:t[1]}});else if(e.sample_list_ids)n=e.sample_list_ids.split(",").map(function(e){var t=e.split(":");return{studyId:t[0],sampleListId:t[1],sampleId:void 0}});else if("all"!==e.case_set_id)n=t.map(function(t){return{studyId:t,sampleListId:e.case_set_id,sampleId:void 0}});else{if("all"!==e.case_set_id)throw"INVALID QUERY";n=t.map(function(e){return{studyId:e,sampleListId:"".concat(e,"_all"),sampleId:void 0}})}return n}!function(e){e.ONCOPRINT="oncoprint",e.CANCER_TYPES_SUMMARY="cancerTypesSummary",e.MUTUAL_EXCLUSIVITY="mutualExclusivity",e.PLOTS="plots",e.MUTATIONS="mutations",e.COEXPRESSION="coexpression",e.ENRICHMENTS="enrichments",e.SURVIVAL="survival",e.CN_SEGMENTS="cnSegments",e.NETWORK="network",e.EXPRESSION="expression",e.DOWNLOAD="download"}(r||(r={}))},,function(e,t,n){"use strict";var r=n(0);function o(e,t,n,r,o){var a=e+t+n+r,i=o[e+t]+o[n+r]+o[e+n]+o[t+r]-(o[e]+o[t]+o[n]+o[r]+o[a]);return Math.exp(i)}var a,i=n(547),u=n(763),l=n.n(u),c=n(9);function s(e,t,n,r){return function(e,t,n,r){var a,i,u=e+t+n+r,l=0,c=new Array(u+1);c[0]=0;for(var s=1;s<=u;s++)c[s]=c[s-1]+Math.log(s);if(l+=o(e,t,n,r,c),e*r>=t*n)for(a=n<t?n:t,i=0;i<a;i++)l+=o(++e,--t,--n,++r,c);if(e*r<t*n)for(a=e<r?e:r,i=0;i<a;i++)l+=o(--e,++t,++n,--r,c);return l}(e,t,n,r)}function p(e,t){var n=c.size(e),o=n>1?"pairs":"pair";return r.createElement("p",null,"The analysis tested ",r.createElement("b",null,n)," ",o," between the ",r.createElement("b",null,t)," tracks in the OncoPrint.")}function d(e){var t=[];l.a.bigCombination(Object.keys(e),2).toArray().forEach(function(n){var r,o,i,u,l,c,p,d,f,m,h=n[0],y=n[1],g=(r=e[h],o=e[y],i=0,u=0,l=0,c=0,r.forEach(function(e,t){if(e===a.UNPROFILED||o[t]===a.UNPROFILED)return!0;var n=o[t];e===a.UNALTERED&&n===a.UNALTERED?i++:e===a.UNALTERED&&n===a.ALTERED?u++:e===a.ALTERED&&n===a.UNALTERED?l++:c++}),[i,u,l,c]),b=s(g[0],g[1],g[2],g[3]),v=(d=g[1],f=g[2],(p=g[0])*(m=g[3])==0&&d*f==0?1/0:Math.log2(p*m/(d*f))),S=function(e){return e>0?"Co-occurrence":"Mutual exclusivity"}(v);t.push({trackA:h,trackB:y,neitherCount:g[0],bNotACount:g[1],aNotBCount:g[2],bothCount:g[3],logOddsRatio:v,pValue:b,qValue:0,association:S})}),t=c.sortBy(t,["pValue"]);var n=Object(i.a)(c.map(t,function(e){return e.pValue}));return t.forEach(function(e,t){e.qValue=n[t]}),t}function f(e,t,n,r){return e.filter(function(e){var o=!1;return t&&(o=o||e.logOddsRatio<=0),n&&(o=o||e.logOddsRatio>0),r&&(o=o&&e.qValue<.05),o})}function m(e){return e<.001?"<0.001":e.toFixed(3)}function h(e){var t=r.createElement("span",null,m(e));return e<.05&&(t=r.createElement("b",null,t)),t}function y(e){return e<-3?"<-3":e>3?">3":e.toFixed(3)}function g(e){var t={};return c.forIn(e,function(e,n){e&&e.length>0&&e.filter(function(e){return e!=a.UNPROFILED}).length>0&&(t[n]=e)}),t}n.d(t,"a",function(){return a}),n.d(t,"h",function(){return p}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return y}),n.d(t,"g",function(){return g}),function(e){e.UNPROFILED="unprofiled",e.ALTERED="altered",e.UNALTERED="unaltered"}(a||(a={}))},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return e.forEach(function(e){var n=!0;void 0!==e.visible&&(n=e.visible);var r=e.id||e.name;t[r]=n}),t}function o(e,t,n){return t?Object.assign({},t):Object.assign({},e,n||{})}function a(e,t,n){var o=e;return o||(o=r(n)),o[t]=!o[t],o}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a})},function(e,t,n){"use strict";function r(e,t){var n=null;return function(r){null!==n&&(window.clearTimeout(n),n=null);var o=r.currentTarget.value;n=window.setTimeout(function(){e(o)},t||400)}}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";var r=n(9),o=n(54),a=n(83),i=n(152),u=n(153),l=n(7),c=n(506),s=n(552),p=n(507),d=n(151),f=n(603),m=n(508),h=n(512),y=n(110),g=n(537),b=n(13),v=n.n(b),S=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function T(e){return S(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,v.a.get(e);case 4:r=t.sent,o=JSON.parse(r.text),n=JSON.parse(o.fileContent),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",[]);case 12:if(void 0!==n){t.next=16;break}return t.abrupt("return",[]);case 16:return t.abrupt("return",n);case 17:case"end":return t.stop()}},t,null,[[1,9]])}))}var C=n(557),I=n(15),A=n(548),E=n(45),P=n(549),k=n(513),_=n(659),w=n(159),O=n(558),M=n(522),R=n(532),N=n(646);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"e",function(){return F}),n.d(t,"d",function(){return B}),n.d(t,"b",function(){return V}),n.d(t,"a",function(){return q}),n.d(t,"c",function(){return W});var F,B,H=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":j(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},K=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.SUMMARY="summary",e.CLINICAL_DATA="clinicalData",e.HEATMAPS="heatmaps",e.CN_SEGMENTS="cnSegments"}(F||(F={})),function(e){e.SUMMARY="Summary",e.CLINICAL_DATA="Clinical Data",e.HEATMAPS="Heatmaps",e.CN_SEGMENTS="CN Segments"}(B||(B={}));var V="MUTATION_COUNT",q="FRACTION_GENOME_ALTERED",U="Selected",Q="Unselected",z="STATIC",W=function(){function e(t,n){var d=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=t,this.sessionServiceIsEnabled=n,this.reactionDisposers=[],this.hideRestoreSettingsMsg=this.isLoggedIn,this._loadUserSettingsInitially=this.isLoggedIn,this._comparisonConfirmationModal=null,this._selectedComparisonGroups=l.observable.shallowMap(),this._comparisonGroupsMarkedForDeletion=l.observable.shallowMap(),this.comparisonGroups=Object(o.b)({await:function(){return[d.sampleSet]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._comparisonGroupsChangeCount,!(this.studyIds.length>0)){e.next=8;break}return e.next=4,P.a.getGroupsForStudies(this.studyIds.slice());case 4:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign(e.data,{uid:e.id},Object(k.p)(e.data,n.sampleSet.result))}));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}},e,this)}))}}),this._comparisonGroupsChangeCount=0,this.initialFiltersQuery={},this.studyIds=[],this.sampleIdentifiers=[],this._clinicalDataEqualityFilterSet=l.observable.shallowMap(),this._clinicalDataIntervalFilterSet=l.observable.shallowMap(),this._clinicalDataBinFilterSet=l.observable.map(),this._mutatedGeneFilter=[],this._fusionGeneFilter=[],this._cnaGeneFilter=[],this._chartVisibility=l.observable.map(),this.geneQueries=[],this.geneMapCache={},this.chartsDimension=l.observable.map(),this.chartsType=l.observable.map(),this.newlyAddedCharts=l.observable.array(),this.unfilteredClinicalDataCountCache={},this.unfilteredClinicalDataBinCountCache={},this.pageStatusMessages={},this.useCurrentGridLayout=!1,this.currentGridLayout=[],this.previousSettings={},this.currentFocusedChartByUser=void 0,this.currentFocusedChartByUserDimension=void 0,this.clinicalDataBinPromises={},this.clinicalDataCountPromises={},this.customChartsPromises={},this._chartSampleIdentifiersFilterSet=l.observable.map(),this.customChartFilterSet=l.observable.map(),this.numberOfSelectedSamplesInCustomSelection=0,this._filterComparisonGroups=[],this._filterMutatedGenesTableByCancerGenes=!0,this._filterFusionGenesTableByCancerGenes=!0,this._filterCNAGenesTableByCancerGenes=!0,this._customChartMap=l.observable.shallowMap(),this._customCharts=l.observable.shallowMap(),this._customChartsSelectedCases=l.observable.shallowMap(),this.sampleToAnalysisGroup=Object(o.b)({await:function(){return[d.samples,d.selectedSamples]},invoke:function(){var e=r.keyBy(d.selectedSamples.result,function(e){return e.uniqueSampleKey});return Promise.resolve(r.reduce(d.samples.result,function(t,n){var r=n.uniqueSampleKey;return t[r]=r in e?U:Q,t},{}))}}),this.patientToAnalysisGroup=Object(o.b)({await:function(){return[d.samples,d.selectedPatientKeys]},invoke:function(){var e=r.keyBy(d.selectedPatientKeys.result);return Promise.resolve(r.reduce(d.samples.result,function(t,n){var r=n.uniquePatientKey;return r in e&&(t[r]=U),t},{}))}}),this.hasRawDataForDownload=Object(o.b)({invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.studyIds.length){e.next=7;break}return e.next=3,v()(Object(I.x)());case 3:return t=e.sent,e.abrupt("return",t.body.includes(this.studyIds[0]));case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this)}))},onError:function(){return!1},default:!1}),this.unfilteredClinicalDataCount=Object(o.b)({invoke:function(){return a.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:d.unfilteredAttrsForNonNumerical,studyViewFilter:d.filters}})},onError:function(e){},onResult:function(e){e.forEach(function(e){var t=Object(p.B)(e.clinicalDataType,e.attributeId);d.isNewlyAdded(t)&&(d.showAsPieChart(t,e.counts.length,"PATIENT"===e.clinicalDataType),d.newlyAddedCharts.remove(t))})},default:[]}),this.newlyAddedUnfilteredClinicalDataCount=Object(o.b)({invoke:function(){return a.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:d.newlyAddedUnfilteredAttrsForNonNumerical,studyViewFilter:d.filters}})},default:[],onError:function(e){},onResult:function(e){e.forEach(function(e){var t=Object(p.B)(e.clinicalDataType,e.attributeId);d.unfilteredClinicalDataCountCache[t]=e,d.showAsPieChart(t,e.counts.length,"PATIENT"===e.clinicalDataType),d.newlyAddedCharts.remove(t)})}}),this.newlyAddedUnfilteredClinicalDataBinCount=Object(o.b)({invoke:function(){return a.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:"STATIC",clinicalDataBinCountFilter:{attributes:d.newlyAddedUnfilteredAttrsForNumerical,studyViewFilter:d.filters}})},default:[],onError:function(e){},onResult:function(e){r.each(r.groupBy(e,function(e){return Object(p.B)(e.clinicalDataType,e.attributeId)}),function(e,t){d.unfilteredClinicalDataBinCountCache[t]=e,d.newlyAddedCharts.remove(t)})}}),this.unfilteredClinicalDataBinCount=Object(o.b)({invoke:function(){return a.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:"STATIC",clinicalDataBinCountFilter:{attributes:d.unfilteredAttrsForNumerical,studyViewFilter:d.filters}})},onError:function(e){},default:[]}),this.molecularProfiles=Object(o.b)({await:function(){return[d.queriedPhysicalStudyIds]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.queriedPhysicalStudyIds.result}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.allPhysicalStudies=Object(o.b)({invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.studyIds.length>0)){e.next=2;break}return e.abrupt("return",i.a.fetchStudiesUsingPOST({studyIds:Object(l.toJS)(this.studyIds),projection:"SUMMARY"}).then(function(e){return e}).catch(function(e){return i.a.getAllStudiesUsingGET({projection:"SUMMARY"})}));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}))},default:[]}),this.physicalStudiesSet=Object(o.b)({await:function(){return[d.allPhysicalStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.keyBy(this.allPhysicalStudies.result,function(e){return e.studyId}));case 1:case"end":return e.stop()}},e,this)}))},default:{}}),this.filteredPhysicalStudies=Object(o.b)({await:function(){return[d.physicalStudiesSet]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.physicalStudiesSet.result,e.abrupt("return",r.reduce(this.studyIds,function(e,n){return t[n]&&e.push(t[n]),e},[]));case 2:case"end":return e.stop()}},e,this)}))},default:[]}),this.filteredVirtualStudies=Object(o.b)({await:function(){return[d.filteredPhysicalStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.filteredPhysicalStudies.result.length!==this.studyIds.length){e.next=2;break}return e.abrupt("return",[]);case 2:return t=[],n=this.filteredPhysicalStudies.result.map(function(e){return e.studyId}),o=r.filter(this.studyIds,function(e){return!r.includes(n,e)}),e.next=7,Promise.all(o.map(function(e){return y.a.getVirtualStudy(e).then(function(e){t.push(e)}).catch(function(e){})}));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}))},default:[]}),this.queriedPhysicalStudies=Object(o.b)({await:function(){return[d.filteredPhysicalStudies,d.filteredVirtualStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.physicalStudiesSet.result,n=r.uniq(r.flatten(this.filteredVirtualStudies.result.map(function(e){return e.data.studies.map(function(e){return e.id})}))),!((o=r.without.apply(r,[n].concat(x(r.keys(t))))).length>0)){e.next=8;break}return e.next=6,i.a.fetchStudiesUsingPOST({studyIds:o,projection:"SUMMARY"});case 6:a=e.sent,t=r.merge(t,r.keyBy(a,"studyId"));case 8:return u=r.reduce(this.filteredPhysicalStudies.result,function(e,n){return e[n.studyId]=t[n.studyId],e},{}),this.filteredVirtualStudies.result.forEach(function(e){e.data.studies.forEach(function(e){!u[e.id]&&t[e.id]&&(u[e.id]=t[e.id])})}),e.abrupt("return",r.values(u));case 11:case"end":return e.stop()}},e,this)}))},default:[]}),this.queriedPhysicalStudyIds=Object(o.b)({await:function(){return[d.queriedPhysicalStudies]},invoke:function(){return Promise.resolve(r.map(d.queriedPhysicalStudies.result,function(e){return e.studyId}))},default:[]}),this.queriedSampleIdentifiers=Object(o.b)({await:function(){return[d.filteredPhysicalStudies,d.filteredVirtualStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.reduce(this.filteredVirtualStudies.result,function(e,t){return t.data.studies.forEach(function(t){var n=t.samples;e[t.id]&&(n=r.union(e[t.id],n)),e[t.id]=n}),e},{}),r.isEmpty(t)&&!(this.sampleIdentifiers.length>0)){e.next=7;break}return t=r.reduce(this.filteredPhysicalStudies.result,function(e,t){return e[t.studyId]=[],e},t),r.chain(this.sampleIdentifiers).groupBy(function(e){return e.studyId}).each(function(e,n){if(void 0!==t[n])if(t[n].length>0){var o=t[n],a=e.map(function(e){return e.sampleId});t[n]=r.intersection(o,a)}else t[n]=e.map(function(e){return e.sampleId})}).value(),n=r.reduce(t,function(e,t,n){return 0===t.length&&e.push(n),e},[]),e.next=7,Promise.all(r.map(n,function(e){return i.a.getAllSamplesInStudyUsingGET({studyId:e}).then(function(n){t[e]=n.map(function(e){return e.sampleId})})}));case 7:return e.abrupt("return",r.flatten(r.map(t,function(e,t){return e.map(function(e){return{sampleId:e,studyId:t}})})));case 8:case"end":return e.stop()}},e,this)}))},default:[]}),this.displayedStudies=Object(o.b)({await:function(){return[d.filteredVirtualStudies,d.filteredPhysicalStudies,d.queriedPhysicalStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.filteredPhysicalStudies.result.length||1!==this.filteredVirtualStudies.result.length){e.next=5;break}return t=this.filteredVirtualStudies.result[0],e.abrupt("return",[{name:t.data.name,description:t.data.description,studyId:t.id}]);case 5:return e.abrupt("return",this.queriedPhysicalStudies.result);case 6:case"end":return e.stop()}},e,this)}))},default:[]}),this.originStudies=Object(o.b)({await:function(){return[d.filteredPhysicalStudies,d.filteredVirtualStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.showOriginStudiesInSummaryDescription){e.next=8;break}return n=this.filteredVirtualStudies.result[0].data.origin,o=[],a=this.physicalStudiesSet.result,r.each(n,function(e){a[e]?t.push(a[e]):o.push(e)}),e.next=8,Promise.all(o.map(function(e){return y.a.getVirtualStudy(e).then(function(e){t.push({name:e.data.name,description:e.data.description,studyId:e.id})}).catch(function(e){})}));case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)}))},default:[]}),this.unknownQueriedIds=Object(o.b)({await:function(){return[d.filteredPhysicalStudies,d.filteredVirtualStudies]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r.each(this.filteredPhysicalStudies.result,function(e){return t.push(e.studyId)}),r.each(this.filteredVirtualStudies.result,function(e){return t.push(e.id)}),e.abrupt("return",r.filter(this.studyIds,function(e){return!r.includes(t,e)}));case 4:case"end":return e.stop()}},e,this)}))},onError:function(e){},onResult:function(e){e.length>0&&(d.pageStatusMessages.unknownIds={status:"danger",message:"Unknown/Unauthorized ".concat(e.length>1?"studies":"study"," ").concat(e.join(", "))})},default:[]}),this.mutationProfiles=Object(o.b)({await:function(){return[d.molecularProfiles]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.molecularProfiles.result.filter(function(e){return"MUTATION_EXTENDED"===e.molecularAlterationType}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaProfiles=Object(o.b)({await:function(){return[d.molecularProfiles]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.molecularProfiles.result.filter(function(e){return"COPY_NUMBER_ALTERATION"===e.molecularAlterationType&&"DISCRETE"===e.datatype}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.clinicalAttributes=Object(o.b)({await:function(){return[d.queriedPhysicalStudyIds]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,i.a.fetchClinicalAttributesUsingPOST({studyIds:this.queriedPhysicalStudyIds.result});case 3:return e.t1=e.sent,e.t2=function(e){return"".concat(e.patientAttribute,"-").concat(e.clinicalAttributeId)},e.abrupt("return",e.t0.uniqBy.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}},e,this)}))},default:[],onError:function(e){},onResult:function(e){e.forEach(function(e){if("NUMBER"===e.datatype){var t=Object(p.A)(e),n=d.getDefaultClinicalDataBinFilter(e);C.d.initialBins[t]&&(n.customBins=C.d.initialBins[t]),d._clinicalDataBinFilterSet.set(t,n)}})}}),this.clinicalAttributeIdToClinicalAttribute=Object(o.b)({await:function(){return[d.clinicalAttributes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.keyBy(this.clinicalAttributes.result,"clinicalAttributeId"));case 1:case"end":return e.stop()}},e,this)}))}}),this.MDACCHeatmapStudyMeta=Object(o.b)({await:function(){return[d.queriedPhysicalStudyIds]},onError:function(e){},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(1===this.queriedPhysicalStudyIds.result.length)){e.next=5;break}return e.next=4,T(Object(I.q)(this.queriedPhysicalStudyIds.result[0]));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}},e,this)}))}},[]),this.oncokbCancerGenes=Object(o.b)({await:function(){return[]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.utilsCancerGeneListGetUsingGET({}));case 1:case"end":return e.stop()}},e)}))},onError:function(e){},default:[]}),this.oncokbGenes=Object(o.b)({await:function(){return[]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.genesGetUsingGET({}));case 1:case"end":return e.stop()}},e)}))},onError:function(e){},default:[]}),this.oncokbCancerGeneEntrezGeneIds=Object(o.b)({await:function(){return[d.oncokbCancerGenes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbCancerGenes.result.map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.oncokbAnnotatedGeneEntrezGeneIds=Object(o.b)({await:function(){return[d.oncokbCancerGenes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbCancerGenes.result.filter(function(e){return e.oncokbAnnotated}).map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.oncokbOncogeneEntrezGeneIds=Object(o.b)({await:function(){return[d.oncokbGenes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbGenes.result.filter(function(e){return e.oncogene}).map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.oncokbTumorSuppressorGeneEntrezGeneIds=Object(o.b)({await:function(){return[d.oncokbGenes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.oncokbGenes.result.filter(function(e){return e.tsg}).map(function(e){return e.entrezGeneId}));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),this.updateUserSettingsDebounce=r.debounce(function(){r.isEqual(d.previousSettings,d.currentChartSettingsMap)||(d.previousSettings=d.currentChartSettingsMap,r.isEmpty(d.currentChartSettingsMap)||y.a.updateUserSettings({origin:Object(l.toJS)(d.studyIds),chartSettings:r.values(d.currentChartSettingsMap)}))},3e3),this.fetchUserSettings=Object(o.b)({invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isSavingUserPreferencePossible&&this.studyIds.length>0)){e.next=6;break}return e.next=3,y.a.fetchUserSettings(Object(l.toJS)(this.studyIds));case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",t.chartSettings||[]);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}},e,this)}))},default:[],onError:function(){}}),this._defualtChartsDimension=l.observable.map(),this._defaultChartsType=l.observable.map(),this._defaultVisibleChartIds=[],this.defaultVisibleAttributes=Object(o.b)({await:function(){return[d.clinicalAttributes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.clinicalAttributes.result.map(function(e){return e.priority=Object(p.R)(e).toString(),e}),n=t.sort(p.k).slice(0,20),o=[],void 0!==this.initialFilters.clinicalDataEqualityFilters&&(o=o.concat(this.initialFilters.clinicalDataEqualityFilters.map(function(e){return e.attributeId}))),void 0!==this.initialFilters.clinicalDataIntervalFilters&&(o=o.concat(this.initialFilters.clinicalDataIntervalFilters.map(function(e){return e.attributeId}))),o.length>0&&(a=r.filter(this.clinicalAttributes.result,function(e){return o.includes(e.clinicalAttributeId)}),void 0!==n&&(n=n.concat(a))),e.abrupt("return",r.uniq(n));case 7:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.initialVisibleAttributesClinicalDataCountData=Object(o.b)({await:function(){return[d.defaultVisibleAttributes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.uniqBy(r.filter(this.defaultVisibleAttributes.result,function(e){return"STRING"===e.datatype}).map(function(e){return{attributeId:e.clinicalAttributeId,clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE"}}),function(e){return"".concat(e.attributeId,"_").concat(e.clinicalDataType)}),e.abrupt("return",a.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:t,studyViewFilter:this.initialFilters}}));case 2:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.initialVisibleAttributesClinicalDataBinAttributes=Object(o.b)({await:function(){return[d.defaultVisibleAttributes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.chain(this.defaultVisibleAttributes.result).filter(function(e){return"NUMBER"===e.datatype}).map(this.getDefaultClinicalDataBinFilter).uniqBy(function(e){return"".concat(e.attributeId,"_").concat(e.clinicalDataType)}).value());case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.initialVisibleAttributesClinicalDataBinCountData=Object(o.b)({await:function(){return[d.initialVisibleAttributesClinicalDataBinAttributes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:"STATIC",clinicalDataBinCountFilter:{attributes:this.initialVisibleAttributesClinicalDataBinAttributes.result,studyViewFilter:this.initialFilters}}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.samples=Object(o.b)({await:function(){return[d.clinicalAttributes,d.queriedSampleIdentifiers,d.queriedPhysicalStudyIds]},invoke:function(){var e={};return d.queriedSampleIdentifiers.result.length>0?e.sampleIdentifiers=d.queriedSampleIdentifiers.result:e.studyIds=d.queriedPhysicalStudyIds.result,a.a.fetchFilteredSamplesUsingPOST({studyViewFilter:e})},onError:function(e){},default:[]}),this.sampleSet=Object(o.b)({await:function(){return[d.samples]},invoke:function(){var e=new M.a,t=!0,n=!1,r=void 0;try{for(var o,a=d.samples.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e.set({studyId:i.studyId,sampleId:i.sampleId},i)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.invalidSampleIds=Object(o.b)({await:function(){return[d.queriedSampleIdentifiers,d.samples]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.queriedSampleIdentifiers.result.length>0&&this.samples.result.length!==this.queriedSampleIdentifiers.result.length)){e.next=3;break}return t=r.reduce(this.samples.result,function(e,t){return e[t.studyId+"_"+t.sampleId]=!0,e},{}),e.abrupt("return",r.filter(this.queriedSampleIdentifiers.result,function(e){return!t[e.studyId+"_"+e.sampleId]}));case 3:return e.abrupt("return",[]);case 4:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.studyWithSamples=Object(o.b)({await:function(){return[d.selectedSamples,d.filteredPhysicalStudies,d.filteredVirtualStudies]},invoke:function(){return Promise.resolve(Object(p.K)(d.selectedSamples.result,d.filteredPhysicalStudies.result,d.filteredVirtualStudies.result))},onError:function(e){},default:[]}),this.selectedSamples=Object(o.b)({await:function(){return[d.samples]},invoke:function(){return d.chartsAreFiltered?a.a.fetchFilteredSamplesUsingPOST({studyViewFilter:d.filters}):Promise.resolve(d.samples.result)},onError:function(e){},default:[]}),this.selectedPatientKeys=Object(o.b)({await:function(){return[d.selectedSamples]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.uniq(this.selectedSamples.result.map(function(e){return e.uniquePatientKey})));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.unSelectedPatientKeys=Object(o.b)({await:function(){return[d.samples,d.selectedPatientKeys]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.reduce(this.selectedPatientKeys.result,function(e,t){return e[t]=!0,e},{}),n=r.reduce(this.samples.result,function(e,n){return void 0===t[n.uniquePatientKey]&&(e[n.uniquePatientKey]=!0),e},{}),e.abrupt("return",Object.keys(n));case 3:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.genePanelCache=new R.a(function(e){return{invoke:function(){return i.a.getGenePanelUsingGET(e)}}}),this.mutatedGeneTableRowData=Object(o.b)({await:function(){return d.oncokbCancerGeneFilterEnabled?[d.mutationProfiles,d.oncokbAnnotatedGeneEntrezGeneIds,d.oncokbOncogeneEntrezGeneIds,d.oncokbTumorSuppressorGeneEntrezGeneIds,d.oncokbCancerGeneEntrezGeneIds]:[d.mutationProfiles]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.mutationProfiles.result)){e.next=7;break}return e.next=3,a.a.fetchMutatedGenesUsingPOST({studyViewFilter:this.filters});case 3:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign({},e,{uniqueKey:Object(N.e)(e.entrezGeneId,e.hugoGeneSymbol),oncokbAnnotated:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbAnnotatedGeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbOncogene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbOncogeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbTumorSuppressorGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbTumorSuppressorGeneEntrezGeneIds.result.includes(e.entrezGeneId),isCancerGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbCancerGeneEntrezGeneIds.result.includes(e.entrezGeneId)})}));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.fusionGeneTableRowData=Object(o.b)({await:function(){return d.oncokbCancerGeneFilterEnabled?[d.mutationProfiles,d.oncokbAnnotatedGeneEntrezGeneIds,d.oncokbOncogeneEntrezGeneIds,d.oncokbTumorSuppressorGeneEntrezGeneIds,d.oncokbCancerGeneEntrezGeneIds]:[d.mutationProfiles]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.mutationProfiles.result)){e.next=7;break}return e.next=3,a.a.fetchFusionGenesUsingPOST({studyViewFilter:this.filters});case 3:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign({},e,{uniqueKey:Object(N.e)(e.entrezGeneId,e.hugoGeneSymbol),oncokbAnnotated:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbAnnotatedGeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbOncogene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbOncogeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbTumorSuppressorGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbTumorSuppressorGeneEntrezGeneIds.result.includes(e.entrezGeneId),isCancerGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbCancerGeneEntrezGeneIds.result.includes(e.entrezGeneId)})}));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.cnaGeneTableRowData=Object(o.b)({await:function(){return d.oncokbCancerGeneFilterEnabled?[d.cnaProfiles,d.oncokbAnnotatedGeneEntrezGeneIds,d.oncokbOncogeneEntrezGeneIds,d.oncokbTumorSuppressorGeneEntrezGeneIds,d.oncokbCancerGeneEntrezGeneIds]:[d.mutationProfiles]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.cnaProfiles.result)){e.next=7;break}return e.next=3,a.a.fetchCNAGenesUsingPOST({studyViewFilter:this.filters});case 3:return t=e.sent,e.abrupt("return",t.map(function(e){return Object.assign({},e,{uniqueKey:Object(N.a)(e.entrezGeneId,e.hugoGeneSymbol,e.alteration),oncokbAnnotated:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbAnnotatedGeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbOncogene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbOncogeneEntrezGeneIds.result.includes(e.entrezGeneId),isOncokbTumorSuppressorGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbTumorSuppressorGeneEntrezGeneIds.result.includes(e.entrezGeneId),isCancerGene:!!n.oncokbCancerGeneFilterEnabled&&n.oncokbCancerGeneEntrezGeneIds.result.includes(e.entrezGeneId)})}));case 7:return e.abrupt("return",[]);case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.entrezGeneIdToGene=Object(o.b)({await:function(){return[d.mutatedGeneTableRowData,d.cnaGeneTableRowData]},invoke:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=d.mutatedGeneTableRowData.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e[i.entrezGeneId]=i}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var u=!0,l=!1,c=void 0;try{for(var s,p=d.cnaGeneTableRowData.result[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var f=s.value;e[f.entrezGeneId]=f}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}return Promise.resolve(e)}}),this.cnSegments=Object(o.b)({await:function(){return[d.selectedSamples]},invoke:function(){return Object(c.n)(d.selectedSamples.result)}},[]),this.survivalPlotData=Object(o.b)({await:function(){return[d.survivalData,d.selectedPatientKeys]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.survivalPlots.map(function(e){return e.survivalData=Object(s.a)(t.survivalData.result,t.selectedPatientKeys.result,e.associatedAttrs[0],e.associatedAttrs[1],function(t){return e.filter.includes(t)}),e}));case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.survivalData=Object(o.b)({await:function(){return[d.clinicalAttributes,d.samples]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.flatten(this.survivalPlots.map(function(e){return e.associatedAttrs})),r.isEmpty(t)){e.next=7;break}return n={attributeIds:t,identifiers:r.map(this.samples.result,function(e){return{entityId:e.patientId,studyId:e.studyId}})},e.next=5,i.a.fetchClinicalDataUsingPOST({clinicalDataType:p.b.PATIENT,clinicalDataMultiStudyFilter:n});case 5:return o=e.sent,e.abrupt("return",r.groupBy(o,"uniquePatientKey"));case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{}}),this.mutationCountVsCNADensityData=Object(o.b)({await:function(){return[d.clinicalAttributes]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.clinicalAttributes.result.find(function(e){return e.clinicalAttributeId===V})||!this.clinicalAttributes.result.find(function(e){return e.clinicalAttributeId===q})){e.next=16;break}return t=p.d,(n=this.getMutationCountVsCNAFilter())&&(t=Math.min(t,Math.floor(n.yEnd))),delete(r=Object.assign({},this.filters)).mutationCountVsCNASelection,o=50,e.next=9,a.a.fetchClinicalDataDensityPlotUsingPOST({xAxisAttributeId:q,yAxisAttributeId:V,xAxisStart:0,xAxisEnd:1,yAxisStart:0,xAxisBinCount:o,yAxisBinCount:t,clinicalDataType:"SAMPLE",studyViewFilter:r});case 9:return e.t0=function(e){return e.count>0},i=e.sent.filter(e.t0),u=1/o,l=Math.max.apply(Math,x(i.map(function(e){return e.binY})))/(t-1),e.abrupt("return",{bins:i,xBinSize:u,yBinSize:l});case 16:return e.abrupt("return",{bins:[],xBinSize:-1,yBinSize:-1});case 17:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{bins:[],xBinSize:-1,yBinSize:-1}}),this.sampleMutationCountAndFractionGenomeAlteredData=Object(o.b)({await:function(){return[d.clinicalAttributes,d.selectedSamples]},invoke:function(){var e={attributeIds:[V,q],identifiers:r.map(d.selectedSamples.result,function(e){return{entityId:e.sampleId,studyId:e.studyId}})};return i.a.fetchClinicalDataUsingPOST({clinicalDataType:p.b.SAMPLE,clinicalDataMultiStudyFilter:e})},onError:function(e){},default:[]}),this.mutationCountVsFGAData=Object(o.b)({await:function(){return[d.sampleMutationCountAndFractionGenomeAlteredData]},onError:function(e){},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reduce(r.groupBy(this.sampleMutationCountAndFractionGenomeAlteredData.result,function(e){return e.uniqueSampleKey}),function(e,t){if(2==t.length){var n={studyId:t[0].studyId,sampleId:t[0].sampleId,patientId:t[0].patientId,uniqueSampleKey:t[0].uniqueSampleKey,x:0,y:0};r.forEach(t,function(e){e.clinicalAttributeId===V?n.y=Number(e.value):e.clinicalAttributeId===q&&(n.x=Number(e.value))}),e.push(n)}return e},[]));case 1:case"end":return e.stop()}},e,this)}))}}),this.mutationCountVsFractionGenomeAlteredDataSet=Object(o.b)({await:function(){return[d.mutationCountVsFGAData]},invoke:function(){return Promise.resolve(r.keyBy(d.mutationCountVsFGAData.result,function(e){return e.uniqueSampleKey}))},default:{}}),this.getDataForClinicalDataTab=Object(o.b)({await:function(){return[d.clinicalAttributes,d.selectedSamples]},onError:function(e){},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClinicalDataBySamples(this.selectedSamples.result);case 2:return t=e.sent,e.abrupt("return",r.reduce(this.selectedSamples.result,function(e,n){var r=Object.assign({studyId:n.studyId,patientId:n.patientId,sampleId:n.sampleId},t[n.uniqueSampleKey]||{});return e.push(r),e},[]));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.molecularProfileSampleCounts=Object(o.b)({onError:function(e){},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:this.filters}));case 1:case"end":return e.stop()}},e,this)}))}}),this.initialMolecularProfileSampleCounts=Object(o.b)({onError:function(e){},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:this.initialFilters}));case 1:case"end":return e.stop()}},e,this)}))}}),this.clinicalAttributesCounts=Object(o.b)({await:function(){return[d.selectedSamples]},onError:function(e){},invoke:function(){var e={sampleIdentifiers:d.selectedSamples.result.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}})};return i.a.getClinicalAttributeCountsUsingPOST({clinicalAttributeCountFilter:e})}}),this.clinicalDataWithCount=Object(o.b)({await:function(){return[d.molecularProfileSampleCounts,d.survivalPlotData,d.clinicalAttributeIdToClinicalAttribute,d.clinicalAttributesCounts,d.cancerStudiesData]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.chartMetaSet)){e.next=7;break}return t=this.clinicalAttributeIdToClinicalAttribute.result,n=r.reduce(this.clinicalAttributesCounts.result||[],function(e,n){var r=t[n.clinicalAttributeId];if(r){var o=Object(p.A)(r);e[o]=e[o]||0,e[o]+=n.count}return e},{}),r.each(this.survivalPlotData.result,function(e){e.id in o.chartMetaSet&&(n[e.id]=e.survivalData.length)}),p.g.CANCER_STUDIES in this.chartMetaSet&&(n[p.g.CANCER_STUDIES]=r.sumBy(this.cancerStudiesData.result,function(e){return e.count})),r.reduce(this._customCharts.keys(),function(e,t){return e[t]=o.selectedSamples.result.length,e},n),e.abrupt("return",r.reduce(this.chartMetaSet,function(e,t,r){return e[r]=n[r]||0,e},{}));case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{}}),this.genomicDataWithCount=Object(o.b)({await:function(){return[d.molecularProfileSampleCounts,d.clinicalAttributeIdToClinicalAttribute,d.clinicalAttributesCounts,d.mutationCountVsFractionGenomeAlteredDataSet]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.isEmpty(this.chartMetaSet)){e.next=8;break}return t=this.clinicalAttributeIdToClinicalAttribute.result,n=r.reduce(this.clinicalAttributesCounts.result||[],function(e,n){var r=t[n.clinicalAttributeId];if(r){var o=Object(p.A)(r);e[o]=e[o]||0,e[o]+=n.count}return e},{}),p.g.MUTATED_GENES_TABLE in this.chartMetaSet&&(n[p.g.MUTATED_GENES_TABLE]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfMutationProfiledSamples:0,n[p.g.WITH_MUTATION_DATA]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfMutationProfiledSamples:0),p.g.FUSION_GENES_TABLE in this.chartMetaSet&&(n[p.g.FUSION_GENES_TABLE]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfMutationProfiledSamples:0,n[p.g.WITH_FUSION_DATA]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfMutationProfiledSamples:0),p.g.CNA_GENES_TABLE in this.chartMetaSet&&(n[p.g.CNA_GENES_TABLE]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfCNAProfiledSamples:0,n[p.g.WITH_CNA_DATA]=this.molecularProfileSampleCounts.result?this.molecularProfileSampleCounts.result.numberOfCNAProfiledSamples:0),p.g.MUTATION_COUNT_CNA_FRACTION in this.chartMetaSet&&(o=this.mutationCountVsFractionGenomeAlteredDataSet.result,a=r.keyBy(this.selectedSamples.result,function(e){return e.uniqueSampleKey}),i=r.reduce(a,function(e,t){return o[t.uniqueSampleKey]&&e.push(o[t.uniqueSampleKey]),e},[]),n[p.g.MUTATION_COUNT_CNA_FRACTION]=i.length),e.abrupt("return",r.reduce(this.chartMetaSet,function(e,t,r){return e[r]=n[r]||0,e},{}));case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:{}}),this.cancerStudiesData=Object(o.b)({await:function(){return[d.selectedSamples]},invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!r.includes(this._chartSampleIdentifiersFilterSet.keys(),p.g.CANCER_STUDIES)){e.next=7;break}return e.next=4,Object(p.U)(p.g.CANCER_STUDIES,this.filters,this._chartSampleIdentifiersFilterSet.toJS(),this.queriedSampleIdentifiers.result,this.queriedPhysicalStudyIds.result);case 4:t=e.sent,e.next=8;break;case 7:t=this.selectedSamples.result;case 8:return e.abrupt("return",Object(p.D)(r.values(r.reduce(t,function(e,t){var n=t.studyId;return e[n]?e[n].count=e[n].count+1:e[n]={value:"".concat(n),count:1},e},{}))));case 9:case"end":return e.stop()}},e,this)}))},onError:function(e){},default:[]}),this.withMutationDataChartCounts=Object(o.b)({invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:Object.assign({},this.filters,{withMutationData:void 0})});case 2:return t=e.sent,e.abrupt("return",Promise.resolve(Object(p.C)(t.numberOfMutationProfiledSamples,t.numberOfMutationUnprofiledSamples)));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.withCNADataChartCounts=Object(o.b)({invoke:function(){return K(d,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.fetchMolecularProfileSampleCountsUsingPOST({studyViewFilter:Object.assign({},this.filters,{withCNAData:void 0})});case 2:return t=e.sent,e.abrupt("return",Promise.resolve(Object(p.C)(t.numberOfCNAProfiledSamples,t.numberOfCNAUnprofiledSamples)));case 4:case"end":return e.stop()}},e,this)}))},default:[]}),this.reactionDisposers.push(Object(l.reaction)(function(){return d.loadingInitialDataForSummaryTab},function(){d.loadingInitialDataForSummaryTab||(d.updateChartStats(),d.loadUserSettings())})),this.reactionDisposers.push(Object(l.reaction)(function(){return[d.visibleAttributes,d.columns,d.chartsDimension.toJS(),d.chartsType.toJS()]},function(){d.updateLayout()})),this.reactionDisposers.push(Object(l.reaction)(function(){return Object(l.toJS)(d.currentChartSettingsMap)},function(){d.isSavingUserSettingsPossible&&(d.hideRestoreSettingsMsg||(d.hideRestoreSettingsMsg=!0),d.updateUserSettingsDebounce())})),this.reactionDisposers.push(Object(l.reaction)(function(){return d.fetchUserSettings.isComplete},function(e){e&&d.isSavingUserPreferencePossible&&!d._loadUserSettingsInitially&&(d.previousSettings=d.currentChartSettingsMap,d.loadUserSettings())})),this.reactionDisposers.push(Object(l.reaction)(function(){return d.uniqueEntrezGeneIdsInFilters},function(e){d.getGenesInfo(e)})),p.f.forEach(function(e){var t=e.uniqueKey;d.chartsType.has(t)||d.chartsType.set(t,e.chartType),void 0!==d.chartsType.get(t)&&(d._customCharts.set(t,{displayName:e.displayName,uniqueKey:t,dataType:Object(p.x)(t),patientAttribute:e.patientAttribute,description:e.description,renderWhenDataChange:!1,priority:C.d.priority[t]||e.priority}),d.chartsType.set(t,e.chartType),d.chartsDimension.set(t,e.dimension),t===p.g.CANCER_STUDIES&&(d.customChartsPromises[t]=d.cancerStudiesData))})}var t,n,d;return t=e,(n=[{key:"getGenesInfo",value:function(e){var t=this,n=e.filter(function(e){return!t.geneMapCache[e]}).map(function(e){return e.toString()});n.length>0&&i.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:n}).then(function(e){e.forEach(function(e){t.geneMapCache[e.entrezGeneId]=e.hugoGeneSymbol})})}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.reactionDisposers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){(0,r.value)()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"setComparisonConfirmationModal",value:function(e){var t=this;this._comparisonConfirmationModal=e(function(){t._comparisonConfirmationModal=null})}},{key:"setComparisonGroupSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._selectedComparisonGroups.set(e,t)}},{key:"toggleComparisonGroupSelected",value:function(e){this.setComparisonGroupSelected(e,!this.isComparisonGroupSelected(e))}},{key:"toggleComparisonGroupMarkedForDeletion",value:function(e){this._comparisonGroupsMarkedForDeletion.set(e,!this.isComparisonGroupMarkedForDeletion(e))}},{key:"isComparisonGroupSelected",value:function(e){return!this.isComparisonGroupMarkedForDeletion(e)&&(!!this._selectedComparisonGroups.has(e)&&this._selectedComparisonGroups.get(e))}},{key:"isComparisonGroupMarkedForDeletion",value:function(e){return!!this._comparisonGroupsMarkedForDeletion.has(e)&&this._comparisonGroupsMarkedForDeletion.get(e)}},{key:"markSelectedGroupsForDeletion",value:function(){var e=this;Object(A.a)(this.comparisonGroups,function(t){var n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;e.isComparisonGroupSelected(u.uid)&&e.toggleComparisonGroupMarkedForDeletion(u.uid)}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}})}},{key:"deleteMarkedComparisonGroups",value:function(){return K(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=!0,r=!1,o=void 0,e.prev=4,a=this._comparisonGroupsMarkedForDeletion.keys()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)u=i.value,this.isComparisonGroupMarkedForDeletion(u)&&(t.push(P.a.deleteGroup(u)),this._selectedComparisonGroups.delete(u));e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),r=!0,o=e.t0;case 12:e.prev=12,e.prev=13,n||null==a.return||a.return();case 15:if(e.prev=15,!r){e.next=18;break}throw o;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,Promise.all(t);case 22:this._comparisonGroupsMarkedForDeletion.clear(),this.notifyComparisonGroupsChange();case 24:case"end":return e.stop()}},e,this,[[4,8,12,20],[13,,15,19]])}))}},{key:"notifyComparisonGroupsChange",value:function(){this._comparisonGroupsChangeCount+=1}},{key:"createNumberAttributeComparisonSession",value:function(e,t){return K(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t(w.a.DOWNLOADING_GROUPS),n.abrupt("return",new Promise(function(n){Object(A.a)(o.selectedSamples,function(a){return K(o,void 0,void 0,regeneratorRuntime.mark(function o(){var u,l,c,s,p,d,f,m=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=e.patientAttribute?"patientId":"sampleId",o.next=3,i.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:a.map(function(e){return{studyId:e.studyId,entityId:e[u]}})}});case 3:return l=o.sent,c=Object(k.w)(l),s={},e.patientAttribute&&(s=r.groupBy(a,function(e){return e.uniquePatientKey})),p=c.map(function(t){var n;n=e.patientAttribute?Object(_.d)(r.flatMapDeep(t,function(e){return s[e.uniquePatientKey].map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}})})):Object(_.d)(t.map(function(e){return{studyId:e.studyId,sampleId:e.sampleId}}));var o=[t[0].value,t[t.length-1].value];return{name:"".concat(o[0],"-").concat(o[1]),description:"",studies:n,origin:m.studyIds}}),t(w.a.CREATING_SESSION),o.next=11,P.a.addComparisonSession({groups:p,clinicalAttributeName:"Quartiles of ".concat(e.displayName),origin:this.studyIds,groupNameOrder:p.map(function(e){return e.name})});case 11:return d=o.sent,f=d.id,o.abrupt("return",n(f));case 14:case"end":return o.stop()}},o,this)}))})}));case 2:case"end":return n.stop()}},n)}))}},{key:"createSpecialChartComparisonSession",value:function(e,t){var n=this;return t(w.a.DOWNLOADING_GROUPS),new Promise(function(t){Object(A.a)([n.selectedSamples,n.cancerStudiesData],function(o,a){return K(n,void 0,void 0,regeneratorRuntime.mark(function n(){var i,u,l,c,s,p=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.groupBy(o,function(e){return e.studyId}),u=r.keyBy(a,function(e){return e.value}),l=r.map(i,function(e,t){return{name:t,description:"",studies:Object(_.d)(e),origin:p.studyIds,color:u[t].color}}),n.next=5,P.a.addComparisonSession({groups:l,clinicalAttributeName:e.displayName,origin:this.studyIds});case 5:return c=n.sent,s=c.id,n.abrupt("return",t(s));case 8:case"end":return n.stop()}},n,this)}))})})}},{key:"createStringAttributeComparisonSession",value:function(e,t,n){var o=this;return n(w.a.DOWNLOADING_GROUPS),new Promise(function(a){Object(A.a)(o.selectedSamples,function(u){return K(o,void 0,void 0,regeneratorRuntime.mark(function o(){var l,c,s,p,d,f,m,h,y,g,b,v,S,T,C,I,A,E,O,M,R,N,D,G,x,L,j;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l=e.patientAttribute?"patientId":"sampleId",o.next=3,i.a.fetchClinicalDataUsingPOST({clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttributeId],identifiers:u.map(function(e){return{studyId:e.studyId,entityId:e[l]}})}});case 3:if(c=o.sent,s={},p=r.keyBy(t,function(e){return e.value.toLowerCase()}),d={},!e.patientAttribute){o.next=30;break}for(f=r.keyBy(c,function(e){return e.uniquePatientKey}),m=!0,h=!1,y=void 0,o.prev=12,g=u[Symbol.iterator]();!(m=(b=g.next()).done);m=!0)v=b.value,S=f[v.uniquePatientKey],T=S?S.value:"NA",C=T.toLowerCase(),s[C]=s[C]||T,d[C]=d[C]||[],d[C].push({sampleId:v.sampleId,studyId:v.studyId});o.next=20;break;case 16:o.prev=16,o.t0=o.catch(12),h=!0,y=o.t0;case 20:o.prev=20,o.prev=21,m||null==g.return||g.return();case 23:if(o.prev=23,!h){o.next=26;break}throw y;case 26:return o.finish(23);case 27:return o.finish(20);case 28:o.next=31;break;case 30:d=r.groupBy(c,function(e){var t=e.value,n=t.toLowerCase();return s[n]=s[n]||t,n});case 31:n(w.a.CREATING_SESSION),I=[],A=r.sortBy(t,function(e){return-e.count}),E=!0,O=!1,M=void 0,o.prev=37,R=A[Symbol.iterator]();case 39:if(E=(N=R.next()).done){o.next=49;break}if(D=N.value,!(I.length>=k.d)){o.next=43;break}return o.abrupt("break",49);case 43:G=D.value.toLowerCase(),(x=d[G])&&x.length>0&&I.push({name:D.value,description:"",studies:Object(_.d)(x),origin:this.studyIds,color:p[G].color});case 46:E=!0,o.next=39;break;case 49:o.next=55;break;case 51:o.prev=51,o.t1=o.catch(37),O=!0,M=o.t1;case 55:o.prev=55,o.prev=56,E||null==R.return||R.return();case 58:if(o.prev=58,!O){o.next=61;break}throw M;case 61:return o.finish(58);case 62:return o.finish(55);case 63:return o.next=65,P.a.addComparisonSession({groups:I,clinicalAttributeName:e.displayName,origin:this.studyIds});case 65:return L=o.sent,j=L.id,o.abrupt("return",a(j));case 68:case"end":return o.stop()}},o,this,[[12,16,20,28],[21,,23,27],[37,51,55,63],[56,,58,62]])}))})})}},{key:"openComparisonPage",value:function(e){return K(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=window.open(Object(I.g)({phase:w.a.DOWNLOADING_GROUPS,clinicalAttributeName:e.chartMeta.displayName,origin:this.studyIds.join(",")}),"_blank"),t.next=3,Object(O.b)(function(){return n.closed||n.globalStores&&n.globalStores.appStore.appReady});case 3:if(!n.closed){t.next=5;break}return t.abrupt("return");case 5:if(r=setInterval(function(){try{n.closed||n.ping()}catch(e){clearInterval(r)}},500),a=function(e){n.closed||n.routingStore.updateRoute({phase:e},void 0,!1)},!Object(p.db)(e.chartMeta)){t.next=13;break}return t.next=10,this.createSpecialChartComparisonSession(e.chartMeta,a);case 10:o=t.sent,t.next=24;break;case 13:t.t0=this.chartsType.get(e.chartMeta.uniqueKey),t.next=t.t0===C.a.PIE_CHART?16:t.t0===C.a.TABLE?16:20;break;case 16:return t.next=18,this.createStringAttributeComparisonSession(e.chartMeta.clinicalAttribute,e.clinicalAttributeValues,a);case 18:return o=t.sent,t.abrupt("break",24);case 20:return t.next=22,this.createNumberAttributeComparisonSession(e.chartMeta.clinicalAttribute,a);case 22:return o=t.sent,t.abrupt("break",24);case 24:clearInterval(r),n.closed||Object(I.A)(n,{sessionId:o});case 26:case"end":return t.stop()}},t,this)}))}},{key:"updateCurrentTab",value:function(e){this.currentTab=void 0===e?F.SUMMARY:e}},{key:"isNewlyAdded",value:function(e){return this.newlyAddedCharts.includes(e)}},{key:"updateStoreByFilters",value:function(e){var t=this;if(r.isArray(e.clinicalDataEqualityFilters)&&e.clinicalDataEqualityFilters.length>0&&r.each(e.clinicalDataEqualityFilters,function(e){t._clinicalDataEqualityFilterSet.set(Object(p.B)(e.clinicalDataType,e.attributeId),{attributeId:e.attributeId,clinicalDataType:e.clinicalDataType,values:r.reduce(e.values,function(e,t){return e.push(t),e},[])})}),r.isArray(e.clinicalDataIntervalFilters)&&e.clinicalDataIntervalFilters.length>0&&r.each(e.clinicalDataIntervalFilters,function(e){t._clinicalDataIntervalFilterSet.set(Object(p.B)(e.clinicalDataType,e.attributeId),{attributeId:e.attributeId,clinicalDataType:e.clinicalDataType,values:r.reduce(e.values,function(e,t){return e.push({end:t.end,start:t.start,value:t.value}),e},[])})}),r.isArray(e.mutatedGenes)&&e.mutatedGenes.length>0&&(this._mutatedGeneFilter=e.mutatedGenes.map(function(e){return{entrezGeneIds:r.clone(e.entrezGeneIds)}})),r.isArray(e.fusionGenes)&&e.fusionGenes.length>0&&(this._fusionGeneFilter=e.fusionGenes.map(function(e){return{entrezGeneIds:r.clone(e.entrezGeneIds)}})),r.isArray(e.cnaGenes)&&e.cnaGenes.length>0&&(this._cnaGeneFilter=e.cnaGenes.map(function(e){return{alterations:r.cloneDeep(e.alterations)}})),r.isArray(e.sampleIdentifiers)&&e.sampleIdentifiers.length>0&&(this.numberOfSelectedSamplesInCustomSelection=e.sampleIdentifiers.length,this.updateChartSampleIdentifierFilter(p.g.CUSTOM_SELECT,e.sampleIdentifiers,!1)),e.mutationCountVsCNASelection&&(this._mutationCountVsCNAFilter=e.mutationCountVsCNASelection),void 0!==e.withCNAData){this._withCNADataFilter=e.withCNAData;var n=e.withCNAData?p.c.YES:p.c.NO;this.customChartFilterSet.set(p.g.WITH_CNA_DATA,[n])}if(void 0!==e.withMutationData){this._withMutationDataFilter=e.withMutationData;var o=e.withMutationData?p.c.YES:p.c.NO;this.customChartFilterSet.set(p.g.WITH_MUTATION_DATA,[o])}r.isEqual(Object(l.toJS)(this.initialFiltersQuery),e)||(this.initialFiltersQuery=e)}},{key:"updateStoreFromURL",value:function(e){return K(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,a,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",o=[],e.studyId&&(n=e.studyId),e.cancer_study_id&&(n=e.cancer_study_id),e.id&&(n=e.id),n&&(o=n.trim().split(","),r.isEqual(o,Object(l.toJS)(this.studyIds))||(this.studyIds=o)),a={},!e.filters){t.next=11;break}try{a=JSON.parse(decodeURIComponent(e.filters)),this.updateStoreByFilters(a)}catch(e){}t.next=20;break;case 11:if(!e.filterAttributeId||!e.filterValues){t.next=20;break}return t.t0=r,t.next=15,i.a.fetchClinicalAttributesUsingPOST({studyIds:o});case 15:t.t1=t.sent,t.t2=function(e){return"".concat(e.patientAttribute,"-").concat(e.clinicalAttributeId)},u=t.t0.uniqBy.call(t.t0,t.t1,t.t2),void 0!==(c=r.find(u,function(t){return t.clinicalAttributeId===e.filterAttributeId}))?("NUMBER"==c.datatype?a.clinicalDataIntervalFilters=[{attributeId:c.clinicalAttributeId,clinicalDataType:c.patientAttribute?p.b.PATIENT:p.b.SAMPLE,values:e.filterValues.split(",").map(function(e){var t=e.split("-");return{start:Number(t[0]),end:Number(t[1])}})}]:a.clinicalDataEqualityFilters=[{attributeId:c.clinicalAttributeId,clinicalDataType:c.patientAttribute?p.b.PATIENT:p.b.SAMPLE,values:Object(p.G)(e.filterValues)}],this.updateStoreByFilters(a)):this.pageStatusMessages.unknownClinicalAttribute={message:"The clinical attribute ".concat(e.filterAttributeId," is not available for this study"),status:"danger"};case 20:case"end":return t.stop()}},t,this)}))}},{key:"updateLayout",value:function(){this.currentGridLayout=Object(p.i)(this.visibleAttributes,this.columns,this.chartsDimension.toJS(),this.useCurrentGridLayout?this.currentGridLayout:[],this.currentFocusedChartByUser,this.currentFocusedChartByUserDimension),this.useCurrentGridLayout&&(this.useCurrentGridLayout=!1)}},{key:"updateCurrentGridLayout",value:function(e){this.currentGridLayout=e}},{key:"updateMutatedGenesTableByCancerGenesFilter",value:function(e){this._filterMutatedGenesTableByCancerGenes=e}},{key:"updateFusionGenesTableByCancerGenesFilter",value:function(e){this._filterFusionGenesTableByCancerGenes=e}},{key:"updateCNAGenesTableByCancerGenesFilter",value:function(e){this._filterCNAGenesTableByCancerGenes=e}},{key:"updateComparisonGroupsFilter",value:function(){var e=this;Object(A.a)(this.comparisonGroups,function(t){e._filterComparisonGroups=Object(_.c)(t,e),e.updateChartSampleIdentifierFilter(p.g.SELECTED_COMPARISON_GROUPS,Object(k.x)(e._filterComparisonGroups))})}},{key:"onCheckGene",value:function(e){this.geneQueries=Object(p.lb)(this.geneQueries,e),this.geneQueryStr=this.geneQueries.map(function(e){return Object(h.j)(e)}).join(" ")}},{key:"updateSelectedGenes",value:function(e,t){this.geneQueries=e,this.geneQueryStr=t}},{key:"getKnownHugoGeneSymbolByEntrezGeneId",value:function(e){return this.geneMapCache[e]}},{key:"clearMutatedGeneFilter",value:function(){this._mutatedGeneFilter=[]}},{key:"clearFusionGeneFilter",value:function(){this._fusionGeneFilter=[]}},{key:"clearCNAGeneFilter",value:function(){this._cnaGeneFilter=[]}},{key:"clearChartSampleIdentifierFilter",value:function(e){this._chartSampleIdentifiersFilterSet.delete(e.uniqueKey),this.customChartFilterSet.delete(e.uniqueKey)}},{key:"clearAllFilters",value:function(){this._clinicalDataEqualityFilterSet.clear(),this._clinicalDataIntervalFilterSet.clear(),this.clearMutatedGeneFilter(),this.clearFusionGeneFilter(),this.clearCNAGeneFilter(),this.resetMutationCountVsCNAFilter(),this._chartSampleIdentifiersFilterSet.clear(),this.customChartFilterSet.clear(),this._withMutationDataFilter=void 0,this._withCNADataFilter=void 0,this.numberOfSelectedSamplesInCustomSelection=0,this.removeComparisonGroupSelectionFilter()}},{key:"toggleWithMutationDataFilter",value:function(){var e=!this._withMutationDataFilter;this._withMutationDataFilter=e,e?(Object(E.i)("withMutationQuickFilter",this),this.customChartFilterSet.set(p.g.WITH_MUTATION_DATA,[p.c.YES])):this.customChartFilterSet.delete(p.g.WITH_MUTATION_DATA)}},{key:"toggleWithCNADataFilter",value:function(){var e=!this._withCNADataFilter;this._withCNADataFilter=e,e?(Object(E.i)("withCNADataQuickFilter",this),this.customChartFilterSet.set(p.g.WITH_CNA_DATA,[p.c.YES])):this.customChartFilterSet.delete(p.g.WITH_CNA_DATA)}},{key:"removeWithMutationDataFilter",value:function(){this._withMutationDataFilter=void 0}},{key:"removeWithCNADataFilter",value:function(){this._withCNADataFilter=void 0}},{key:"updateClinicalDataEqualityFilters",value:function(e,t){if(Object(E.i)("clinicalDataEquality",this),t.length>0){var n={attributeId:e.clinicalAttribute.clinicalAttributeId,clinicalDataType:Object(p.F)(e.clinicalAttribute.patientAttribute),values:t.sort()};this._clinicalDataEqualityFilterSet.set(e.uniqueKey,n)}else this._clinicalDataEqualityFilterSet.delete(e.uniqueKey)}},{key:"updateClinicalDataIntervalFilters",value:function(e,t){Object(E.i)("clinicalDataInterval",this);var n=Object(p.E)(t);this.updateClinicalDataIntervalFiltersByValues(e,n)}},{key:"updateClinicalDataIntervalFiltersByValues",value:function(e,t){if(t.length>0){var n={attributeId:e.clinicalAttribute.clinicalAttributeId,clinicalDataType:Object(p.F)(e.clinicalAttribute.patientAttribute),values:t};this._clinicalDataIntervalFilterSet.set(e.uniqueKey,n)}else this._clinicalDataIntervalFilterSet.delete(e.uniqueKey)}},{key:"addGeneFilters",value:function(e){var t=this,n=e.map(function(e){return Object(N.g)(e)});Object(E.i)("geneFilter",this),n.forEach(function(e){return t.geneMapCache[e.entrezGeneId]=e.hugoGeneSymbol}),this._mutatedGeneFilter=[].concat(x(this._mutatedGeneFilter),[{entrezGeneIds:n.map(function(e){return e.entrezGeneId})}])}},{key:"removeMutatedGeneFilter",value:function(e){this._mutatedGeneFilter=r.reduce(this._mutatedGeneFilter,function(t,n){var o=r.reduce(n.entrezGeneIds,function(t,n){return n!==e&&t.push(n),t},[]);return o.length>0&&t.push({entrezGeneIds:o}),t},[])}},{key:"resetMutatedGeneFilter",value:function(){this._mutatedGeneFilter.length>0&&(this._mutatedGeneFilter=[])}},{key:"addFusionGeneFilters",value:function(e){var t=this,n=e.map(function(e){return Object(N.g)(e)});Object(E.i)("geneFilter",this),n.forEach(function(e){return t.geneMapCache[e.entrezGeneId]=e.hugoGeneSymbol}),this._fusionGeneFilter=[].concat(x(this._fusionGeneFilter),[{entrezGeneIds:n.map(function(e){return e.entrezGeneId})}])}},{key:"removeFusionGeneFilter",value:function(e){this._fusionGeneFilter=r.reduce(this._fusionGeneFilter,function(t,n){var r=n.entrezGeneIds.filter(function(t){return t!==e});return r.length>0&&t.push({entrezGeneIds:r}),t},[])}},{key:"resetFusionGeneFilter",value:function(){this._fusionGeneFilter.length>0&&(this._fusionGeneFilter=[])}},{key:"updateChartSampleIdentifierFilter",value:function(e,t,n){var o=t,a=r.keyBy(o,function(e){return"".concat(e.studyId,":").concat(e.sampleId)});n&&(o=r.reduce(this._chartSampleIdentifiersFilterSet.get(e)||[],function(e,t){return"".concat(t.studyId,":").concat(t.sampleId)in a||e.push(t),e},o)),r.isEmpty(o)?this._chartSampleIdentifiersFilterSet.delete(e):this._chartSampleIdentifiersFilterSet.set(e,o)}},{key:"getChartSampleIdentifiersFilter",value:function(e){return this._chartSampleIdentifiersFilterSet.get(e)||[]}},{key:"getCustomChartFilters",value:function(e){return this.customChartFilterSet.get(e)||[]}},{key:"newCustomChartUniqueKey",value:function(){return"CUSTOM_FILTERS_".concat(this._customCharts.keys().length)}},{key:"isCustomChart",value:function(e){return this._customCharts.has(e)}},{key:"addCNAGeneFilters",value:function(e){var t=this,n=e.map(function(e){return Object(N.f)(e)});Object(E.i)("cnaGene",this),n.forEach(function(e){return t.geneMapCache[e.entrezGeneId]=e.hugoGeneSymbol}),this._cnaGeneFilter=[].concat(x(this._cnaGeneFilter),[{alterations:n.map(function(e){return{alteration:e.alteration,entrezGeneId:e.entrezGeneId}})}])}},{key:"removeCNAGeneFilters",value:function(e){this._cnaGeneFilter=r.reduce(this._cnaGeneFilter,function(t,n){var o=r.reduce(n.alterations,function(t,n){return n.entrezGeneId!==e.entrezGeneId&&n.alteration!==e.alteration&&t.push(n),t},[]);return o.length>0&&t.push({alterations:o}),t},[])}},{key:"resetCNAGeneFilter",value:function(){this._cnaGeneFilter.length>0&&(this._cnaGeneFilter=[])}},{key:"getMutationCountVsCNAFilter",value:function(){return this._mutationCountVsCNAFilter?Object.assign({},this._mutationCountVsCNAFilter):void 0}},{key:"setMutationCountVsCNAFilter",value:function(e){Object(E.i)("mutationCountVsCNA",this),this._mutationCountVsCNAFilter=e}},{key:"resetMutationCountVsCNAFilter",value:function(){this._mutationCountVsCNAFilter=void 0}},{key:"changeChartVisibility",value:function(e,t){t?this._chartVisibility.set(e,!0):this._chartVisibility.delete(e)}},{key:"changeChartsVisibility",value:function(e){var t=this;r.each(e,function(e,n){e?t._chartVisibility.set(n,!0):t._chartVisibility.delete(n)})}},{key:"resetFilterAndChangeChartVisibility",value:function(e,t){if(!t)switch(this.chartsType.get(e.uniqueKey)){case C.a.MUTATED_GENES_TABLE:this.resetMutatedGeneFilter();break;case C.a.FUSION_GENES_TABLE:this.resetFusionGeneFilter();break;case C.a.CNA_GENES_TABLE:this.resetCNAGeneFilter();break;case C.a.SCATTER:this._chartSampleIdentifiersFilterSet.delete(e.uniqueKey),e.uniqueKey===p.g.MUTATION_COUNT_CNA_FRACTION&&this.resetMutationCountVsCNAFilter();break;case C.a.SURVIVAL:break;default:e.uniqueKey===p.g.WITH_MUTATION_DATA&&(this._withMutationDataFilter=void 0),e.uniqueKey===p.g.WITH_CNA_DATA&&(this._withCNADataFilter=void 0),this._clinicalDataEqualityFilterSet.delete(e.uniqueKey),this._clinicalDataIntervalFilterSet.delete(e.uniqueKey),this.clearChartSampleIdentifierFilter(e)}this.changeChartVisibility(e.uniqueKey,t)}},{key:"removeComparisonGroupSelectionFilter",value:function(){this._chartSampleIdentifiersFilterSet.delete(p.g.SELECTED_COMPARISON_GROUPS),this._filterComparisonGroups=[]}},{key:"removeCustomSelectFilter",value:function(){this._chartSampleIdentifiersFilterSet.delete(p.g.CUSTOM_SELECT),this.numberOfSelectedSamplesInCustomSelection=0}},{key:"toggleLogScale",value:function(e){this.updateClinicalDataIntervalFilters(e,[]);var t=this._clinicalDataBinFilterSet.get(e.uniqueKey);t.disableLogScale=!t.disableLogScale}},{key:"isLogScaleToggleVisible",value:function(e,t){return void 0!==this._clinicalDataBinFilterSet.get(e)&&this._clinicalDataBinFilterSet.get(e).disableLogScale||Object(p.cb)(t)}},{key:"isLogScaleChecked",value:function(e){return void 0!==this._clinicalDataBinFilterSet.get(e)&&!this._clinicalDataBinFilterSet.get(e).disableLogScale}},{key:"updateCustomBins",value:function(e,t){var n=r.clone(this._clinicalDataBinFilterSet.get(e));n.customBins=t,this._clinicalDataBinFilterSet.set(e,n)}},{key:"geCurrentBins",value:function(e){return r.uniq(r.reduce(this.getClinicalDataBin(e).result,function(e,t){return t.start&&e.push(t.start),t.end&&e.push(t.end),e},[]))}},{key:"addCharts",value:function(e){var t=this;e.forEach(function(e){t._chartVisibility.keys().includes(e)||t.newlyAddedCharts.push(e)}),this.updateChartsVisibility(e)}},{key:"updateChartsVisibility",value:function(e){var t=this;r.each(this._chartVisibility.keys(),function(n){r.includes(e,n)&&t._chartVisibility.get(n)||t._chartVisibility.delete(n)}),r.each(e,function(e){void 0===t._chartVisibility.get(e)&&t._chartVisibility.set(e,!0)})}},{key:"getMutatedGenesTableFilters",value:function(){var e=this;return r.flatMap(this._mutatedGeneFilter,function(e){return e.entrezGeneIds}).map(function(t){return Object(N.e)(t,e.geneMapCache[t])})}},{key:"getFusionGenesTableFilters",value:function(){var e=this;return r.flatMap(this._fusionGeneFilter,function(e){return e.entrezGeneIds}).map(function(t){return Object(N.e)(t,e.geneMapCache[t])})}},{key:"getCNAGenesTableFilters",value:function(){var e=this;return r.flatMap(this._cnaGeneFilter,function(e){return e.alterations}).map(function(t){return Object(N.a)(t.entrezGeneId,e.geneMapCache[t.entrezGeneId],t.alteration)})}},{key:"getClinicalDataFiltersByUniqueKey",value:function(e){var t=this._clinicalDataEqualityFilterSet.get(e);return t?t.values:[]}},{key:"getClinicalDataIntervalFiltersByUniqueKey",value:function(e){var t=this._clinicalDataIntervalFilterSet.get(e);return t?t.values:[]}},{key:"hideChart",value:function(e){this.changeChartVisibility(e,!1)}},{key:"getClinicalDataCount",value:function(e){var t=this,n=Object(p.A)(e.clinicalAttribute);if(!this.clinicalDataCountPromises.hasOwnProperty(n)){var i=void 0!==r.find(this.defaultVisibleAttributes.result,function(e){return Object(p.A)(e)===n});this.clinicalDataCountPromises[n]=Object(o.b)({await:function(){return Object(p.T)(i,t.isInitialFilterState,t.chartsAreFiltered,t._clinicalDataEqualityFilterSet.has(n),t.unfilteredClinicalDataCount,t.newlyAddedUnfilteredClinicalDataCount,t.initialVisibleAttributesClinicalDataCountData)},invoke:function(){return K(t,void 0,void 0,regeneratorRuntime.mark(function t(){var o,u,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.clinicalAttribute.patientAttribute?"PATIENT":"SAMPLE",u=[],!this.isInitialFilterState||!i||this._clinicalDataEqualityFilterSet.has(n)){t.next=6;break}u=this.initialVisibleAttributesClinicalDataCountData.result,t.next=13;break;case 6:if(!this._clinicalDataEqualityFilterSet.has(n)&&!this.isInitialFilterState){t.next=12;break}return t.next=9,a.a.fetchClinicalDataCountsUsingPOST({clinicalDataCountFilter:{attributes:[{attributeId:e.clinicalAttribute.clinicalAttributeId,clinicalDataType:o}],studyViewFilter:this.filters}});case 9:u=t.sent,t.next=13;break;case 12:u=i||this.chartsAreFiltered?this.unfilteredClinicalDataCount.result:[this.unfilteredClinicalDataCountCache[n]];case 13:return l=r.find(u,{attributeId:e.clinicalAttribute.clinicalAttributeId,clinicalDataType:o}),c=[],void 0!==l&&(c=l.counts),t.abrupt("return",Object(p.D)(c));case 17:case"end":return t.stop()}},t,this)}))},onError:function(e){},default:[]})}return this.clinicalDataCountPromises[n]}},{key:"getClinicalDataBin",value:function(e){var t=this,n=Object(p.A)(e.clinicalAttribute);if(!this.clinicalDataBinPromises.hasOwnProperty(n)){var i=void 0!==r.find(this.defaultVisibleAttributes.result,function(e){return Object(p.A)(e)===n});this.clinicalDataBinPromises[n]=Object(o.b)({await:function(){return Object(p.T)(i,t.isInitialFilterState,t.chartsAreFiltered,t._clinicalDataIntervalFilterSet.has(n),t.unfilteredClinicalDataBinCount,t.newlyAddedUnfilteredClinicalDataBinCount,t.initialVisibleAttributesClinicalDataBinCountData)},invoke:function(){return K(t,void 0,void 0,regeneratorRuntime.mark(function t(){var o,u,c,s,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.clinicalAttribute.patientAttribute?"PATIENT":"SAMPLE",o=z,u=[],c=r.find(this.initialVisibleAttributesClinicalDataBinAttributes.result,function(t){return Object(p.B)(t.clinicalDataType,t.attributeId)===Object(p.A)(e.clinicalAttribute)}),s=this._clinicalDataBinFilterSet.get(Object(p.A)(e.clinicalAttribute)),d=i&&!r.isEqual(Object(l.toJS)(s),c),!this.isInitialFilterState||!i||this._clinicalDataIntervalFilterSet.has(n)||d){t.next=10;break}u=this.initialVisibleAttributesClinicalDataBinCountData.result,t.next=17;break;case 10:if(!this._clinicalDataIntervalFilterSet.has(n)){t.next=16;break}return t.next=13,a.a.fetchClinicalDataBinCountsUsingPOST({dataBinMethod:o,clinicalDataBinCountFilter:{attributes:[s],studyViewFilter:this.filters}});case 13:u=t.sent,t.next=17;break;case 16:u=i||this.chartsAreFiltered?this.unfilteredClinicalDataBinCount.result:this.unfilteredClinicalDataBinCountCache[n];case 17:return t.abrupt("return",r.filter(u,{attributeId:e.clinicalAttribute.clinicalAttributeId})||[]);case 18:case"end":return t.stop()}},t,this)}))},onError:function(e){},default:[]})}return this.clinicalDataBinPromises[n]}},{key:"getClinicalDataBySamples",value:function(e){return K(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,i.a.fetchClinicalDataUsingPOST({clinicalDataType:"SAMPLE",clinicalDataMultiStudyFilter:{identifiers:r.map(e,function(e){return{entityId:e.sampleId,studyId:e.studyId}})}});case 3:return o=t.sent,r.forEach(o,function(e){n[e.uniqueSampleKey]=Object.assign({},n[e.uniqueSampleKey]||{},G({},"SAMPLE_"+e.clinicalAttributeId,e.value))}),t.next=7,i.a.fetchClinicalDataUsingPOST({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:{identifiers:r.map(e,function(e){return{entityId:e.patientId,studyId:e.studyId}})}});case 7:return a=t.sent,u=r.groupBy(e,function(e){return e.uniquePatientKey}),r.forEach(a,function(e){(u[e.uniquePatientKey]||[]).forEach(function(t){n[t.uniqueSampleKey]=Object.assign({},n[t.uniqueSampleKey]||{},G({},"PATIENT_"+e.clinicalAttributeId,e.value))})}),t.abrupt("return",n);case 11:case"end":return t.stop()}},t)}))}},{key:"getDefaultClinicalDataBinFilter",value:function(e){return{attributeId:e.clinicalAttributeId,clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE",disableLogScale:!1}}},{key:"isChartNameValid",value:function(e){return void 0===r.find(this.chartMetaSet,function(t){return t.displayName.toUpperCase()===e.toUpperCase()})}},{key:"getDefaultCustomChartName",value:function(){return"".concat("Custom Chart"," ").concat(this._customCharts.size-p.f.length+1)}},{key:"addCustomChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.newCustomChartUniqueKey(),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.name?e.name:this.getDefaultCustomChartName(),a={uniqueKey:t,displayName:o,description:o,dataType:Object(p.x)(t),patientAttribute:!1,renderWhenDataChange:!1,priority:1},i=[];e.patientAttribute&&(a.patientAttribute=!0),r.each(e.groups,function(e){r.reduce(e.sampleIdentifiers,function(t,n){return t.push({studyId:n.studyId,sampleId:n.sampleId,patientId:n.patientId,value:e.name}),t},i)}),this._customCharts.set(t,a),this._customChartMap.set(t,e),this._chartVisibility.set(t,!0),this._customChartsSelectedCases.set(t,i),this.chartsType.set(t,C.a.PIE_CHART),this.chartsDimension.set(t,{w:1,h:1}),n||(this.setCustomChartFilters(a,e.groups.map(function(e){return e.name})),this.newlyAddedCharts.clear(),this.newlyAddedCharts.push(t))}},{key:"updateCustomSelect",value:function(e){var t=r.reduce(e.groups,function(e,t){return e.push.apply(e,x(t.sampleIdentifiers.map(function(e){return{sampleId:e.sampleId,studyId:e.studyId}}))),e},[]);this.numberOfSelectedSamplesInCustomSelection=t.length,this.updateChartSampleIdentifierFilter(p.g.CUSTOM_SELECT,t,!1)}},{key:"clearPageSettings",value:function(){this._chartVisibility.clear(),this.currentGridLayout=[],this.currentFocusedChartByUser=void 0,this.currentFocusedChartByUserDimension=void 0,this._filterMutatedGenesTableByCancerGenes=!0,this._filterFusionGenesTableByCancerGenes=!0,this._filterCNAGenesTableByCancerGenes=!0}},{key:"loadUserSettings",value:function(){this.isSavingUserPreferencePossible&&!r.isEmpty(this.fetchUserSettings.result)&&(this.loadSettings(this.fetchUserSettings.result),this._loadUserSettingsInitially&&(this.previousSettings=r.keyBy(this.fetchUserSettings.result,function(e){return e.id})))}},{key:"undoUserSettings",value:function(){this.loadSettings(r.values(this.previousSettings)),this.previousSettings={}}},{key:"resetToDefaultSettings",value:function(){this.clearPageSettings(),this.loadSettings(r.values(this.defaultChartSettingsMap))}},{key:"loadSettings",value:function(e){var t=this;this.clearPageSettings(),r.map(e,function(e){switch(e.name&&e.groups&&e.groups.length>0&&t.addCustomChart({name:e.name,groups:e.groups||[],patientAttribute:e.patientAttribute},e.id,!0),e.layout&&(t.currentGridLayout.push(Object.assign({i:e.id,isResizable:!1,moved:!1,static:!1},e.layout)),t.chartsDimension.set(e.id,{w:e.layout.w,h:e.layout.h})),e.chartType){case p.g.MUTATED_GENES_TABLE:t._filterMutatedGenesTableByCancerGenes=void 0===e.filterByCancerGenes||e.filterByCancerGenes;break;case p.g.FUSION_GENES_TABLE:t._filterFusionGenesTableByCancerGenes=void 0===e.filterByCancerGenes||e.filterByCancerGenes;break;case p.g.CNA_GENES_TABLE:t._filterCNAGenesTableByCancerGenes=void 0===e.filterByCancerGenes||e.filterByCancerGenes}t.changeChartVisibility(e.id,!0),e.chartType&&t.chartsType.set(e.id,e.chartType)}),this.useCurrentGridLayout=!0}},{key:"updateChartStats",value:function(){if(this.initializeChartStatsByClinicalAttributes(),!r.isEmpty(this.mutationProfiles.result)){var e=r.find(this.chartMetaSet,function(e){return e.uniqueKey===p.g.MUTATED_GENES_TABLE});this.chartsType.set(p.g.MUTATED_GENES_TABLE,C.a.MUTATED_GENES_TABLE),this.chartsDimension.set(p.g.MUTATED_GENES_TABLE,C.d.layout.dimensions[C.a.MUTATED_GENES_TABLE]),e&&0!==e.priority&&this.changeChartVisibility(p.g.MUTATED_GENES_TABLE,!0)}if(!r.isEmpty(this.mutationProfiles.result)){var t=r.find(this.chartMetaSet,function(e){return e.uniqueKey===p.g.FUSION_GENES_TABLE});t&&0!==t.priority&&this.changeChartVisibility(p.g.FUSION_GENES_TABLE,!0),this.chartsType.set(p.g.FUSION_GENES_TABLE,C.a.FUSION_GENES_TABLE),this.chartsDimension.set(p.g.FUSION_GENES_TABLE,C.d.layout.dimensions[C.a.FUSION_GENES_TABLE])}if(!r.isEmpty(this.cnaProfiles.result)){var n=r.find(this.chartMetaSet,function(e){return e.uniqueKey===p.g.CNA_GENES_TABLE});this.chartsType.set(p.g.CNA_GENES_TABLE,C.a.CNA_GENES_TABLE),this.chartsDimension.set(p.g.CNA_GENES_TABLE,C.d.layout.dimensions[C.a.CNA_GENES_TABLE]),n&&0!==n.priority&&this.changeChartVisibility(p.g.CNA_GENES_TABLE,!0)}this.initializeClinicalDataCountCharts(),this.initializeClinicalDataBinCountCharts(),this._defualtChartsDimension=l.observable.map(this.chartsDimension.toJS()),this._defaultChartsType=l.observable.map(this.chartsType.toJS()),this._defaultVisibleChartIds=this.visibleAttributes.map(function(e){return e.uniqueKey})}},{key:"initializeChartStatsByClinicalAttributes",value:function(){var e=this,t=!1,n=!1,o=!1,a=!1,i=!1,u=!1;this.clinicalAttributes.result.forEach(function(r){var l=Object(p.A)(r);"0"!==r.priority&&("OS_STATUS"===r.clinicalAttributeId?t=!0:"OS_MONTHS"===r.clinicalAttributeId?n=!0:"DFS_STATUS"===r.clinicalAttributeId?o=!0:"DFS_MONTHS"===r.clinicalAttributeId?a=!0:V===r.clinicalAttributeId?i=!0:q===r.clinicalAttributeId&&(u=!0)),"NUMBER"===r.datatype?(e.chartsType.set(l,C.a.BAR_CHART),e.chartsDimension.set(l,C.d.layout.dimensions[C.a.BAR_CHART])):(e.chartsType.set(l,C.a.PIE_CHART),e.chartsDimension.set(l,C.d.layout.dimensions[C.a.PIE_CHART]))});var l=r.uniq(this.queriedPhysicalStudies.result.map(function(e){return e.cancerTypeId}));this.chartsType.set(p.g.OVERALL_SURVIVAL,C.a.SURVIVAL),this.chartsDimension.set(p.g.OVERALL_SURVIVAL,C.d.layout.dimensions[C.a.SURVIVAL]),t&&n&&0!==Object(p.I)(p.g.OVERALL_SURVIVAL)&&1===l.length&&"mixed"!==l[0]&&this.changeChartVisibility(p.g.OVERALL_SURVIVAL,!0),this.chartsType.set(p.g.DISEASE_FREE_SURVIVAL,C.a.SURVIVAL),this.chartsDimension.set(p.g.DISEASE_FREE_SURVIVAL,C.d.layout.dimensions[C.a.SURVIVAL]),o&&a&&0!==Object(p.I)(p.g.DISEASE_FREE_SURVIVAL)&&1===l.length&&"mixed"!==l[0]&&this.changeChartVisibility(p.g.DISEASE_FREE_SURVIVAL,!0),this.chartsType.set(p.g.MUTATION_COUNT_CNA_FRACTION,C.a.SCATTER),this.chartsDimension.set(p.g.MUTATION_COUNT_CNA_FRACTION,C.d.layout.dimensions[C.a.SCATTER]),i&&u&&0!==Object(p.I)(p.g.MUTATION_COUNT_CNA_FRACTION)&&this.changeChartVisibility(p.g.MUTATION_COUNT_CNA_FRACTION,!0),r.each(this.specialChartKeysInCustomCharts,function(t){e.showAsPieChart(t,t===p.g.CANCER_STUDIES?e.cancerStudiesData.result.length:2,!1)})}},{key:"getTableDimensionByNumberOfRecords",value:function(e){return e<=C.d.thresholds.rowsInTableForOneGrid?{w:2,h:1}:{w:2,h:2}}},{key:"changeChartType",value:function(e,t){var n;t===C.a.TABLE?(r.includes(this.specialChartKeysInCustomCharts,e.uniqueKey)?e.uniqueKey===p.g.CANCER_STUDIES&&(n=this.cancerStudiesData):n=this.isCustomChart(e.uniqueKey)?this.getCustomChartDataCount(e):this.getClinicalDataCount(e),void 0!==n&&this.chartsDimension.set(e.uniqueKey,this.getTableDimensionByNumberOfRecords(n.result.length)),this.chartsType.set(e.uniqueKey,C.a.TABLE)):(this.chartsDimension.set(e.uniqueKey,C.d.layout.dimensions[t]),this.chartsType.set(e.uniqueKey,t)),this.currentFocusedChartByUser=r.clone(e),this.currentFocusedChartByUserDimension=this.chartsDimension.get(e.uniqueKey),this.useCurrentGridLayout=!0}},{key:"initializeClinicalDataCountCharts",value:function(){var e=this;r.each(this.initialVisibleAttributesClinicalDataCountData.result,function(t){var n=Object(p.B)(t.clinicalDataType,t.attributeId);e.showAsPieChart(n,t.counts.length,"PATIENT"===t.clinicalDataType)})}},{key:"initializeClinicalDataBinCountCharts",value:function(){var e=this;r.each(r.groupBy(this.initialVisibleAttributesClinicalDataBinCountData.result,"attributeId"),function(t,n){var r=Object(p.B)(t[0].clinicalDataType,n);e.chartsType.set(r,C.a.BAR_CHART),e.chartsDimension.set(r,C.d.layout.dimensions[C.a.BAR_CHART]),Object(p.hb)(e.initialFilters,t.length,e.samples.result.length)&&e._chartVisibility.set(r,!0)})}},{key:"getPieChartDataDownload",value:function(e,t){return K(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.isCustomChart(e.uniqueKey),!t||"summary"!==t){n.next=9;break}if(!r){n.next=6;break}return n.abrupt("return",this.getClinicalDataCountSummary(e,this.getCustomChartDataCount(e).result));case 6:return n.abrupt("return",this.getClinicalDataCountSummary(e,this.getClinicalDataCount(e).result));case 7:n.next=14;break;case 9:if(!r){n.next=13;break}return n.abrupt("return",this.getCustomChartDownloadData(e));case 13:return n.abrupt("return",this.getClinicalData(e));case 14:case"end":return n.stop()}},n,this)}))}},{key:"getClinicalDataCountSummary",value:function(e,t){var n=e.patientAttribute?"patients":"samples",r=[["Category","Number of ".concat(n),"Percentage of ".concat(n)].join("\t")];return(r=r.concat(t.map(function(e){return[e.value,e.count,e.freq].join("\t")}))).join("\n")}},{key:"getClinicalData",value:function(e){return K(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.clinicalAttribute||!this.samples.result){t.next=12;break}return t.next=3,i.a.fetchClinicalDataUsingPOST({clinicalDataType:e.clinicalAttribute.patientAttribute?"PATIENT":"SAMPLE",clinicalDataMultiStudyFilter:{attributeIds:[e.clinicalAttribute.clinicalAttributeId],identifiers:this.selectedSamples.result.map(function(t){return{entityId:e.clinicalAttribute.patientAttribute?t.patientId:t.sampleId,studyId:t.studyId}})}});case 3:return n=t.sent,r=["Study ID","Patient ID"],e.clinicalAttribute.patientAttribute||r.push("Sample ID"),r.push(e.clinicalAttribute.displayName),o=(o=[r.join("\t")]).concat(n.map(function(t){var n=[t.studyId||p.e,t.patientId||p.e];return e.clinicalAttribute.patientAttribute||n.push(t.sampleId||p.e),n.push(t.value||p.e),n.join("\t")})),t.abrupt("return",o.join("\n"));case 12:return t.abrupt("return","");case 13:case"end":return t.stop()}},t,this)}))}},{key:"getCustomChartDownloadData",value:function(e){var t=this;return new Promise(function(n){if(e&&e.uniqueKey&&t._customChartsSelectedCases.has(e.uniqueKey)){var o=!0,a=["Study ID","Patient ID"];e.patientAttribute||(o=!1,a.push("Sample ID")),a.push(e.displayName);var i=[a.join("\t")];n((i=o?i.concat(t.selectedPatients.map(function(n){var o=r.find(t._customChartsSelectedCases.get(e.uniqueKey),function(e){return e.studyId===n.studyId&&n.patientId===e.patientId});return[n.studyId||p.e,n.patientId||p.e,void 0===o?"NA":o.value].join("\t")})):i.concat(t.selectedSamples.result.map(function(n){var o=r.find(t._customChartsSelectedCases.get(e.uniqueKey),function(e){return e.studyId===n.studyId&&n.sampleId===e.sampleId});return[n.studyId||p.e,n.patientId||p.e,n.sampleId||p.e,void 0===o?"NA":o.value].join("\t")}))).join("\n"))}else n("")})}},{key:"getScatterDownloadData",value:function(){var e=this;return new Promise(function(t){Object(A.a)(e.mutationCountVsFGAData,function(n){t(n?Object(p.u)(n,e.sampleToAnalysisGroup.result,void 0,e.analysisGroupsSettings.groups):"")})})}},{key:"getSurvivalDownloadData",value:function(e){return K(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,a,i,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=r.find(this.survivalPlots,function(t){return t.id===e.uniqueKey}))||!this.survivalData.result){t.next=10;break}return o=[],a=n.associatedAttrs,o.push(["Study ID","Patient ID"].concat(x(a)).join("\t")),i=r.reduce(this.selectedPatients,function(e,t){return e[t.uniquePatientKey]=t,e},{}),this.selectedPatientKeys.result.forEach(function(e){var t=u.survivalData.result[e],n=[];if(t&&t.length>0){n.push(t[0].studyId||p.e),n.push(t[0].patientId||p.e);var l=r.keyBy(t,"clinicalAttributeId");r.each(a,function(e){n.push(l[e]&&l[e].value||p.e)})}else{var c=i[e];c&&(n.push(c.studyId||p.e),n.push(c.patientId||p.e),r.each(a,function(e){n.push(p.e)}))}o.push(n.join("\t"))}),t.abrupt("return",o.join("\n"));case 10:return t.abrupt("return","");case 11:case"end":return t.stop()}},t,this)}))}},{key:"getMutatedGenesDownloadData",value:function(){return K(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutatedGeneTableRowData.result){e.next=8;break}return t=["Gene","MutSig(Q-value)","# Mut","#","Freq"],this.oncokbCancerGeneFilterEnabled&&t.push("Is Cancer Gene (source: OncoKB)"),n=[t.join("\t")],r.each(this.mutatedGeneTableRowData.result,function(e){var t=[e.hugoGeneSymbol,void 0===e.qValue?"":Object(p.S)(e.qValue),e.totalCount,e.numberOfAlteredCases,Object(p.N)(e.numberOfAlteredCases/e.numberOfProfiledCases*100)];o.oncokbCancerGeneFilterEnabled&&t.push(o.oncokbCancerGeneFilterEnabled?e.isCancerGene?"Yes":"No":"NA"),n.push(t.join("\t"))}),e.abrupt("return",n.join("\n"));case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e,this)}))}},{key:"getFusionGenesDownloadData",value:function(){var e=this;if(this.fusionGeneTableRowData.result){var t=["Gene","# Fusion","#","Freq"];this.oncokbCancerGeneFilterEnabled&&t.push("Is Cancer Gene (source: OncoKB)");var n=[t.join("\t")];return r.each(this.fusionGeneTableRowData.result,function(t){var r=[t.hugoGeneSymbol,t.totalCount,t.numberOfAlteredCases,Object(p.N)(t.numberOfAlteredCases/t.numberOfProfiledCases*100)];e.oncokbCancerGeneFilterEnabled&&r.push(e.oncokbCancerGeneFilterEnabled?t.isCancerGene?"Yes":"No":"NA"),n.push(r.join("\t"))}),n.join("\n")}return""}},{key:"getGenesCNADownloadData",value:function(){return K(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cnaGeneTableRowData.result){e.next=8;break}return t=["Gene","Gistic(Q-value)","Cytoband","CNA","#","Freq"],this.oncokbCancerGeneFilterEnabled&&t.push("Is Cancer Gene (source: OncoKB)"),n=[t.join("\t")],r.each(this.cnaGeneTableRowData.result,function(e){var t=[e.hugoGeneSymbol,void 0===e.qValue?"":Object(p.S)(e.qValue),e.cytoband,Object(p.v)(e.alteration),e.numberOfAlteredCases,Object(p.N)(e.numberOfAlteredCases/e.numberOfProfiledCases*100)];o.oncokbCancerGeneFilterEnabled&&t.push(o.oncokbCancerGeneFilterEnabled?e.isCancerGene?"Yes":"No":"NA"),n.push(t.join("\t"))}),e.abrupt("return",n.join("\n"));case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e,this)}))}},{key:"getDownloadDataPromise",value:function(){return K(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClinicalDataBySamples(this.selectedSamples.result);case 2:return t=e.sent,n=r.reduce(this.clinicalAttributes.result,function(e,t){return e[(t.patientAttribute?"PATIENT":"SAMPLE")+"_"+t.clinicalAttributeId]=t.displayName,e},{studyId:"Study ID",patientId:"Patient ID",sampleId:"Sample ID"}),o=r.reduce(this.selectedSamples.result,function(e,o){var a=Object.assign({studyId:o.studyId,patientId:o.patientId,sampleId:o.sampleId},t[o.uniqueSampleKey]||{});return e.push(r.map(Object.keys(n),function(e){return a[e]||p.e})),e},[r.values(n)]),e.abrupt("return",o.map(function(e){return e.join("\t")}).join("\n"));case 6:case"end":return e.stop()}},e,this)}))}},{key:"onSubmitQuery",value:function(){var e=Object(m.e)(this.unknownQueriedIds.result),t={cancer_study_list:this.studyIds.filter(function(t){return!e[t]}).join(","),tab_index:"tab_visualize"};if(0===this.filteredVirtualStudies.result.length&&1===this.studyIds.length)r.isEmpty(this.mutationProfiles.result)||(t.genetic_profile_ids_PROFILE_MUTATION_EXTENDED=this.mutationProfiles.result[0].molecularProfileId),r.isEmpty(this.cnaProfiles.result)||(t.genetic_profile_ids_PROFILE_COPY_NUMBER_ALTERATION=this.cnaProfiles.result[0].molecularProfileId);else{var n="0",o={mutation:!r.isEmpty(this.mutationProfiles.result),cna:!r.isEmpty(this.cnaProfiles)},a=o.mutation,i=o.cna;a&&i?n="0":a?n="1":i&&(n="2"),t.data_priority=n}this.chartsAreFiltered?(t.case_set_id="-1",t.case_ids=r.map(this.selectedSamples.result,function(e){return e.studyId+":"+e.sampleId}).join("+")):0===this.filteredVirtualStudies.result.length&&1===this.studyIds.length?t.case_set_id=this.studyIds[0]+"_all":t.case_set_id="all";var u="/";r.isEmpty(this.geneQueries)||(t.Action="Submit",t.gene_list=this.geneQueries.map(function(e){return Object(h.j)(e)}).join("\n"),u="/results/legacy_submission"),Object(p.jb)(u,t,"_blank")}},{key:"setCustomChartFilters",value:function(e,t){if(t.length>0){switch(e.uniqueKey){case p.g.CANCER_STUDIES:var n=Object(p.J)(this.samples.result.filter(function(e){return t.includes(e.studyId)}));this._chartSampleIdentifiersFilterSet.set(e.uniqueKey,n);break;case p.g.WITH_MUTATION_DATA:switch(t.length){case 1:this._withMutationDataFilter=t[0]===p.c.YES;break;case 2:this._withMutationDataFilter=void 0}break;case p.g.WITH_CNA_DATA:switch(t.length){case 1:this._withCNADataFilter=t[0]===p.c.YES;break;case 2:this._withCNADataFilter=void 0}break;default:var o=r.reduce(this._customChartsSelectedCases.get(e.uniqueKey),function(e,n){return t.includes(n.value)&&e.push({studyId:n.studyId,sampleId:n.sampleId}),e},[]);this._chartSampleIdentifiersFilterSet.set(e.uniqueKey,o)}this.customChartFilterSet.set(e.uniqueKey,t)}else p.g.WITH_MUTATION_DATA===e.uniqueKey&&(this._withMutationDataFilter=void 0),p.g.WITH_CNA_DATA===e.uniqueKey&&(this._withCNADataFilter=void 0),this._chartSampleIdentifiersFilterSet.delete(e.uniqueKey),this.customChartFilterSet.delete(e.uniqueKey)}},{key:"showAsPieChart",value:function(e,t,n){Object(p.hb)(this.initialFilters,t,this.samples.result.length)&&(this.changeChartVisibility(e,!0),t>C.d.thresholds.pieToTable||r.includes(C.d.tableAttrs,e)?(this.chartsType.set(e,C.a.TABLE),this.chartsDimension.set(e,this.getTableDimensionByNumberOfRecords(t))):(this.chartsType.set(e,C.a.PIE_CHART),this.chartsDimension.set(e,C.d.layout.dimensions[C.a.PIE_CHART])))}},{key:"getCustomChartDataCount",value:function(e){var t=this,n=e.uniqueKey;if(!this.customChartsPromises.hasOwnProperty(n))switch(n){case p.g.WITH_MUTATION_DATA:this.customChartsPromises[n]=this.withMutationDataChartCounts;break;case p.g.WITH_CNA_DATA:this.customChartsPromises[n]=this.withCNADataChartCounts;break;default:this.customChartsPromises[n]=Object(o.b)({await:function(){return r.includes([p.g.WITH_MUTATION_DATA,p.g.WITH_CNA_DATA],n)?[t.molecularProfileSampleCounts,t.selectedSamples]:[t.selectedSamples]},invoke:function(){var e={};return e=r.reduce(t.selectedSamples.result,function(e,o){var a=r.filter(t._customChartsSelectedCases.get(n),function(e){return e.sampleId===o.sampleId}),i=p.c.NA;return(a.length>=1?a.map(function(e){return e.value?e.value:i}):[i]).forEach(function(t){e[t]?e[t].count=e[t].count+1:e[t]={value:t,count:1}}),e},e),Promise.resolve(Object(p.D)(r.values(e)))},default:[]})}return this.customChartsPromises[n]}},{key:"uniqueEntrezGeneIdsInFilters",get:function(){return r.uniq(r.flatten(this._mutatedGeneFilter.map(function(e){return e.entrezGeneIds}).concat(this._fusionGeneFilter.map(function(e){return e.entrezGeneIds})).concat(this._cnaGeneFilter.map(function(e){return r.flatten(e.alterations.map(function(e){return e.entrezGeneId}))}))))}},{key:"isLoggedIn",get:function(){return this.appStore.isLoggedIn}},{key:"isSavingUserPreferencePossible",get:function(){return this.isLoggedIn&&this.sessionServiceIsEnabled}},{key:"comparisonConfirmationModal",get:function(){return this._comparisonConfirmationModal}},{key:"initialFilters",get:function(){var e={};return r.isEmpty(this.queriedSampleIdentifiers.result)?e.studyIds=this.queriedPhysicalStudyIds.result:e.sampleIdentifiers=this.queriedSampleIdentifiers.result,Object.assign({},this.initialFiltersQuery,e)}},{key:"isInitialFilterState",get:function(){return r.isEqual(Object(l.toJS)(this.initialFilters),Object(l.toJS)(this.filters))}},{key:"containerWidth",get:function(){return this.columns*C.d.layout.grid.w+(this.columns+1)*C.d.layout.gridMargin.x}},{key:"columns",get:function(){return Math.floor((g.a.size.width-40)/(C.d.layout.grid.w+C.d.layout.gridMargin.x))}},{key:"studyViewPageLayoutProps",get:function(){return{cols:this.columns,grid:C.d.layout.grid,gridMargin:C.d.layout.gridMargin,layout:this.currentGridLayout,dimensions:C.d.layout.dimensions}}},{key:"filterMutatedGenesTableByCancerGenes",get:function(){return this.oncokbCancerGeneFilterEnabled&&this._filterMutatedGenesTableByCancerGenes}},{key:"filterFusionGenesTableByCancerGenes",get:function(){return this.oncokbCancerGeneFilterEnabled&&this._filterFusionGenesTableByCancerGenes}},{key:"filterCNAGenesTableByCancerGenes",get:function(){return this.oncokbCancerGeneFilterEnabled&&this._filterCNAGenesTableByCancerGenes}},{key:"filterComparisonGroups",get:function(){return this._filterComparisonGroups}},{key:"selectedGenes",get:function(){return this.geneQueries.map(function(e){return e.gene})}},{key:"analysisGroupsSettings",get:function(){return{groups:[{value:U,color:C.d.colors.theme.unselectedGroup,name:this.chartsAreFiltered?"Selected patients":"All patients"}]}}},{key:"clinicalDataEqualityFilters",get:function(){return this._clinicalDataEqualityFilterSet.values()}},{key:"clinicalDataIntervalFilters",get:function(){return this._clinicalDataIntervalFilterSet.values()}},{key:"filters",get:function(){var e={},t=this.clinicalDataEqualityFilters,n=this.clinicalDataIntervalFilters;t.length>0&&(e.clinicalDataEqualityFilters=t),n.length>0&&(e.clinicalDataIntervalFilters=n),this._mutatedGeneFilter.length>0&&(e.mutatedGenes=this._mutatedGeneFilter),this._fusionGeneFilter.length>0&&(e.fusionGenes=this._fusionGeneFilter),this._cnaGeneFilter.length>0&&(e.cnaGenes=this._cnaGeneFilter),this._mutationCountVsCNAFilter&&(e.mutationCountVsCNASelection=this._mutationCountVsCNAFilter);var o=this._chartSampleIdentifiersFilterSet.values(),a=r.intersectionWith.apply(r,x(o).concat([function(e,t){return e.sampleId===t.sampleId&&e.studyId===t.studyId}]));if(a&&a.length>0?e.sampleIdentifiers=a:r.isEmpty(this.queriedSampleIdentifiers.result)?e.studyIds=this.queriedPhysicalStudyIds.result:e.sampleIdentifiers=this.queriedSampleIdentifiers.result,void 0!==this._withMutationDataFilter){var i=this.customChartFilterSet.get(p.g.WITH_MUTATION_DATA);void 0!==i&&1===i.length&&(e.withMutationData=this._withMutationDataFilter)}if(void 0!==this._withCNADataFilter){var u=this.customChartFilterSet.get(p.g.WITH_CNA_DATA);void 0!==u&&1===u.length&&(e.withCNAData=this._withCNADataFilter)}return e}},{key:"userSelections",get:function(){var e=this._chartSampleIdentifiersFilterSet.toJS();return Object.assign({},this.filters,{sampleIdentifiersSet:e})}},{key:"unfilteredAttrsForNonNumerical",get:function(){var e=this;return this.visibleAttributes.filter(function(t){if(void 0!==t.clinicalAttribute&&"NUMBER"!==t.clinicalAttribute.datatype){var n=Object(p.A)(t.clinicalAttribute);return!e._clinicalDataEqualityFilterSet.has(n)}return!1}).map(function(e){return{attributeId:e.clinicalAttribute.clinicalAttributeId,clinicalDataType:e.clinicalAttribute.patientAttribute?"PATIENT":"SAMPLE"}})}},{key:"newlyAddedUnfilteredAttrsForNonNumerical",get:function(){var e=this;return this.clinicalAttributes.result.filter(function(t){if("NUMBER"!==t.datatype){var n=Object(p.A)(t);return!!e.newlyAddedCharts.includes(n)}return!1}).map(function(e){return{attributeId:e.clinicalAttributeId,clinicalDataType:e.patientAttribute?"PATIENT":"SAMPLE"}})}},{key:"newlyAddedUnfilteredAttrsForNumerical",get:function(){var e=this;return this.clinicalAttributes.result.filter(function(t){if("NUMBER"===t.datatype){var n=Object(p.A)(t);return!!e.newlyAddedCharts.includes(n)}return!1}).map(function(t){return e._clinicalDataBinFilterSet.get(Object(p.A)(t))})}},{key:"unfilteredAttrsForNumerical",get:function(){var e=this;return this.visibleAttributes.filter(function(t){if(void 0!==t.clinicalAttribute&&"NUMBER"===t.clinicalAttribute.datatype){var n=Object(p.A)(t.clinicalAttribute);return!e._clinicalDataIntervalFilterSet.has(n)}return!1}).map(function(t){return e._clinicalDataBinFilterSet.get(Object(p.A)(t.clinicalAttribute))})}},{key:"showOriginStudiesInSummaryDescription",get:function(){return Object(p.ib)(this.filteredPhysicalStudies.result,this.filteredVirtualStudies.result)}},{key:"oncokbCancerGeneFilterEnabled",get:function(){return!this.oncokbCancerGenes.isError&&!this.oncokbGenes.isError}},{key:"isSingleVirtualStudyPageWithoutFilter",get:function(){return this.filteredPhysicalStudies.result.length+this.filteredVirtualStudies.result.length===1&&this.filteredVirtualStudies.result.length>0&&!this.chartsAreFiltered}},{key:"analysisGroupsPossible",get:function(){var e=[p.g.DISEASE_FREE_SURVIVAL,p.g.OVERALL_SURVIVAL],t=!1,n=!0,r=!1,o=void 0;try{for(var a,i=this.visibleAttributes[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value;if(e.includes(u.uniqueKey)){t=!0;break}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return t}},{key:"chartMetaSet",get:function(){var e,t=r.reduce(this._customCharts.values(),function(e,t){return e[t.uniqueKey]=Object(l.toJS)(t),e},{});r.reduce(this.clinicalAttributes.result,function(e,t){var n=Object(p.A)(t);return e[n]={displayName:t.displayName,uniqueKey:n,dataType:Object(p.x)(n),patientAttribute:t.patientAttribute,description:t.description,priority:Object(p.R)(t),renderWhenDataChange:!1,clinicalAttribute:t},e},t),r.reduce(this.survivalPlots,function(e,t){return e[t.id]={uniqueKey:t.id,dataType:Object(p.x)(t.id),patientAttribute:!0,displayName:t.title,priority:Object(p.I)(t.id),renderWhenDataChange:!1,description:""},e},t),r.isEmpty(this.mutationProfiles.result)||(t[p.g.MUTATED_GENES_TABLE]={uniqueKey:p.g.MUTATED_GENES_TABLE,dataType:Object(p.x)(p.g.MUTATED_GENES_TABLE),patientAttribute:!1,displayName:"Mutated Genes",priority:Object(p.I)(p.g.MUTATED_GENES_TABLE),renderWhenDataChange:!1,description:""}),r.isEmpty(this.mutationProfiles.result)||(t[p.g.FUSION_GENES_TABLE]={uniqueKey:p.g.FUSION_GENES_TABLE,dataType:Object(p.x)(p.g.FUSION_GENES_TABLE),patientAttribute:!1,displayName:"Fusion Genes",priority:Object(p.I)(p.g.FUSION_GENES_TABLE),renderWhenDataChange:!0,description:""}),r.isEmpty(this.cnaProfiles.result)||(t[p.g.CNA_GENES_TABLE]={uniqueKey:p.g.CNA_GENES_TABLE,dataType:Object(p.x)(p.g.CNA_GENES_TABLE),patientAttribute:!1,displayName:"CNA Genes",renderWhenDataChange:!1,priority:Object(p.I)(p.g.CNA_GENES_TABLE),description:""});var n=r.reduce(this.clinicalAttributes.result,function(e,t){return V===t.clinicalAttributeId&&(e[V]=!0),q===t.clinicalAttributeId&&(e[q]=!0),e},(G(e={},V,!1),G(e,q,!1),e));return n[V]&&n[q]&&(t[p.g.MUTATION_COUNT_CNA_FRACTION]={dataType:Object(p.x)(p.g.MUTATION_COUNT_CNA_FRACTION),patientAttribute:!1,uniqueKey:p.g.MUTATION_COUNT_CNA_FRACTION,displayName:"Mutation Count vs Fraction of Genome Altered",priority:Object(p.I)(p.g.MUTATION_COUNT_CNA_FRACTION),renderWhenDataChange:!1,description:""}),t}},{key:"visibleAttributes",get:function(){var e=this;return r.reduce(this._chartVisibility.entries(),function(t,n){var r=D(n,2),o=r[0];if(r[1]&&e.chartMetaSet[o]){var a=e.chartMetaSet[o];t.push(a)}return t},[])}},{key:"showSettingRestoreMsg",get:function(){return this.isSavingUserPreferencePossible&&!this.hideRestoreSettingsMsg&&this.fetchUserSettings.isComplete&&!r.isEqual(this.previousSettings,r.keyBy(this.fetchUserSettings.result,function(e){return e.id}))}},{key:"isSavingUserSettingsPossible",get:function(){return this.isSavingUserPreferencePossible&&this.fetchUserSettings.isComplete&&(!this.showSettingRestoreMsg||!r.isEqual(this.currentChartSettingsMap,r.keyBy(this.fetchUserSettings.result,function(e){return e.id})))}},{key:"loadingInitialDataForSummaryTab",get:function(){var e=this.defaultVisibleAttributes.isPending||this.initialVisibleAttributesClinicalDataBinCountData.isPending||this.initialVisibleAttributesClinicalDataCountData.isPending||this.mutationProfiles.isPending||this.cnaProfiles.isPending;return this._loadUserSettingsInitially&&(e=e||this.fetchUserSettings.isPending),e}},{key:"currentChartSettingsMap",get:function(){var e={};return this.isSavingUserPreferencePossible&&(e=Object(p.y)(this.visibleAttributes,this.columns,this.chartsDimension.toJS(),this.chartsType.toJS(),this._customChartMap.toJS(),this._filterMutatedGenesTableByCancerGenes,this._filterFusionGenesTableByCancerGenes,this._filterCNAGenesTableByCancerGenes,this.currentGridLayout)),e}},{key:"showResetToDefaultButton",get:function(){return!r.isEqual(this.currentChartSettingsMap,this.defaultChartSettingsMap)}},{key:"defaultChartSettingsMap",get:function(){var e=this;return Object(p.y)(this._defaultVisibleChartIds.map(function(t){return e.chartMetaSet[t]}),this.columns,this._defualtChartsDimension.toJS(),this._defaultChartsType.toJS(),{})}},{key:"specialChartKeysInCustomCharts",get:function(){return this.queriedPhysicalStudyIds.result.length>1?[p.g.CANCER_STUDIES]:[]}},{key:"chartsAreFiltered",get:function(){return Object(p.bb)(this.userSelections)}},{key:"selectedSamplesMap",get:function(){return r.keyBy(this.selectedSamples.result,function(e){return e.uniqueSampleKey})}},{key:"selectedPatients",get:function(){return r.values(r.reduce(this.selectedSamples.result,function(e,t){return e[t.uniquePatientKey]={cancerStudy:{},patientId:t.patientId,uniquePatientKey:t.uniquePatientKey,studyId:t.studyId,uniqueSampleKey:t.uniqueSampleKey},e},{}))}},{key:"survivalPlots",get:function(){var e=!1,t=!1,n=!1,r=!1,o=[];return this.clinicalAttributes.result.forEach(function(o){"OS_STATUS"===o.clinicalAttributeId?e=!0:"OS_MONTHS"===o.clinicalAttributeId?t=!0:"DFS_STATUS"===o.clinicalAttributeId?n=!0:"DFS_MONTHS"===o.clinicalAttributeId&&(r=!0)}),e&&t&&o.push({id:p.g.OVERALL_SURVIVAL,title:"Overall Survival",associatedAttrs:["OS_STATUS","OS_MONTHS"],filter:["DECEASED"],survivalData:[]}),n&&r&&o.push({id:p.g.DISEASE_FREE_SURVIVAL,title:"Disease Free Survival",associatedAttrs:["DFS_STATUS","DFS_MONTHS"],filter:["Recurred/Progressed","Recurred"],survivalData:[]}),o}},{key:"clinicalDataDownloadFilename",get:function(){return"".concat(this.downloadFilenamePrefix,"clinical_data.tsv")}},{key:"downloadFilenamePrefix",get:function(){return Object(f.a)(r.values(this.physicalStudiesSet.result))}}])&&L(t.prototype,n),d&&L(t,d),e}();H([l.computed],W.prototype,"uniqueEntrezGeneIdsInFilters",null),H([l.action],W.prototype,"getGenesInfo",null),H([l.computed],W.prototype,"isLoggedIn",null),H([l.computed],W.prototype,"isSavingUserPreferencePossible",null),H([l.observable],W.prototype,"hideRestoreSettingsMsg",void 0),H([l.observable.ref],W.prototype,"_comparisonConfirmationModal",void 0),H([d.default,l.action],W.prototype,"setComparisonConfirmationModal",null),H([l.action],W.prototype,"setComparisonGroupSelected",null),H([l.action],W.prototype,"toggleComparisonGroupSelected",null),H([l.action],W.prototype,"toggleComparisonGroupMarkedForDeletion",null),H([l.action],W.prototype,"markSelectedGroupsForDeletion",null),H([l.action],W.prototype,"deleteMarkedComparisonGroups",null),H([l.observable],W.prototype,"_comparisonGroupsChangeCount",void 0),H([l.action],W.prototype,"notifyComparisonGroupsChange",null),H([d.default],W.prototype,"openComparisonPage",null),H([l.observable],W.prototype,"initialFiltersQuery",void 0),H([l.observable],W.prototype,"studyIds",void 0),H([l.observable],W.prototype,"sampleIdentifiers",void 0),H([l.observable],W.prototype,"_clinicalDataBinFilterSet",void 0),H([l.observable.ref],W.prototype,"_mutatedGeneFilter",void 0),H([l.observable.ref],W.prototype,"_fusionGeneFilter",void 0),H([l.observable.ref],W.prototype,"_cnaGeneFilter",void 0),H([l.observable],W.prototype,"_mutationCountVsCNAFilter",void 0),H([l.observable],W.prototype,"_withMutationDataFilter",void 0),H([l.observable],W.prototype,"_withCNADataFilter",void 0),H([l.observable],W.prototype,"_chartVisibility",void 0),H([l.observable],W.prototype,"geneQueryStr",void 0),H([l.observable],W.prototype,"geneQueries",void 0),H([l.observable],W.prototype,"chartsDimension",void 0),H([l.observable],W.prototype,"chartsType",void 0),H([l.observable],W.prototype,"currentTab",void 0),H([l.action],W.prototype,"updateCurrentTab",null),H([l.observable],W.prototype,"pageStatusMessages",void 0),H([l.action],W.prototype,"updateStoreByFilters",null),H([l.action],W.prototype,"updateStoreFromURL",null),H([l.computed],W.prototype,"initialFilters",null),H([l.computed],W.prototype,"isInitialFilterState",null),H([l.computed],W.prototype,"containerWidth",null),H([l.computed],W.prototype,"columns",null),H([d.default,l.action],W.prototype,"updateLayout",null),H([l.computed],W.prototype,"studyViewPageLayoutProps",null),H([d.default,l.action],W.prototype,"updateCurrentGridLayout",null),H([l.observable.ref],W.prototype,"currentGridLayout",void 0),H([l.observable],W.prototype,"previousSettings",void 0),H([l.observable],W.prototype,"numberOfSelectedSamplesInCustomSelection",void 0),H([l.observable],W.prototype,"_filterComparisonGroups",void 0),H([l.observable],W.prototype,"_filterMutatedGenesTableByCancerGenes",void 0),H([l.observable],W.prototype,"_filterFusionGenesTableByCancerGenes",void 0),H([l.observable],W.prototype,"_filterCNAGenesTableByCancerGenes",void 0),H([d.default,l.action],W.prototype,"updateMutatedGenesTableByCancerGenesFilter",null),H([d.default,l.action],W.prototype,"updateFusionGenesTableByCancerGenesFilter",null),H([d.default,l.action],W.prototype,"updateCNAGenesTableByCancerGenesFilter",null),H([l.computed],W.prototype,"filterMutatedGenesTableByCancerGenes",null),H([l.computed],W.prototype,"filterFusionGenesTableByCancerGenes",null),H([l.computed],W.prototype,"filterCNAGenesTableByCancerGenes",null),H([l.action],W.prototype,"updateComparisonGroupsFilter",null),H([l.observable],W.prototype,"_customChartMap",void 0),H([l.observable],W.prototype,"_customCharts",void 0),H([l.observable],W.prototype,"_customChartsSelectedCases",void 0),H([d.default,l.action],W.prototype,"onCheckGene",null),H([l.computed],W.prototype,"selectedGenes",null),H([d.default,l.action],W.prototype,"updateSelectedGenes",null),H([d.default],W.prototype,"getKnownHugoGeneSymbolByEntrezGeneId",null),H([d.default,l.action],W.prototype,"clearMutatedGeneFilter",null),H([d.default,l.action],W.prototype,"clearFusionGeneFilter",null),H([d.default,l.action],W.prototype,"clearCNAGeneFilter",null),H([d.default,l.action],W.prototype,"clearChartSampleIdentifierFilter",null),H([d.default,l.action],W.prototype,"clearAllFilters",null),H([d.default,l.action],W.prototype,"toggleWithMutationDataFilter",null),H([d.default,l.action],W.prototype,"toggleWithCNADataFilter",null),H([d.default,l.action],W.prototype,"removeWithMutationDataFilter",null),H([d.default,l.action],W.prototype,"removeWithCNADataFilter",null),H([l.computed],W.prototype,"analysisGroupsSettings",null),H([d.default,l.action],W.prototype,"updateClinicalDataEqualityFilters",null),H([l.action],W.prototype,"updateClinicalDataIntervalFilters",null),H([d.default,l.action],W.prototype,"updateClinicalDataIntervalFiltersByValues",null),H([d.default,l.action],W.prototype,"addGeneFilters",null),H([d.default,l.action],W.prototype,"removeMutatedGeneFilter",null),H([d.default,l.action],W.prototype,"resetMutatedGeneFilter",null),H([d.default,l.action],W.prototype,"addFusionGeneFilters",null),H([d.default,l.action],W.prototype,"removeFusionGeneFilter",null),H([d.default,l.action],W.prototype,"resetFusionGeneFilter",null),H([d.default,l.action],W.prototype,"updateChartSampleIdentifierFilter",null),H([d.default,l.action],W.prototype,"addCNAGeneFilters",null),H([d.default,l.action],W.prototype,"removeCNAGeneFilters",null),H([d.default,l.action],W.prototype,"resetCNAGeneFilter",null),H([d.default,l.action],W.prototype,"setMutationCountVsCNAFilter",null),H([d.default,l.action],W.prototype,"resetMutationCountVsCNAFilter",null),H([l.action],W.prototype,"changeChartVisibility",null),H([l.action],W.prototype,"changeChartsVisibility",null),H([l.action],W.prototype,"resetFilterAndChangeChartVisibility",null),H([d.default,l.action],W.prototype,"removeComparisonGroupSelectionFilter",null),H([d.default,l.action],W.prototype,"removeCustomSelectFilter",null),H([l.action],W.prototype,"toggleLogScale",null),H([d.default,l.action],W.prototype,"updateCustomBins",null),H([l.action],W.prototype,"addCharts",null),H([l.action],W.prototype,"updateChartsVisibility",null),H([l.computed],W.prototype,"clinicalDataEqualityFilters",null),H([l.computed],W.prototype,"clinicalDataIntervalFilters",null),H([l.computed],W.prototype,"filters",null),H([l.computed],W.prototype,"userSelections",null),H([l.computed],W.prototype,"unfilteredAttrsForNonNumerical",null),H([l.computed],W.prototype,"newlyAddedUnfilteredAttrsForNonNumerical",null),H([l.computed],W.prototype,"newlyAddedUnfilteredAttrsForNumerical",null),H([l.computed],W.prototype,"unfilteredAttrsForNumerical",null),H([d.default,l.action],W.prototype,"hideChart",null),H([l.computed],W.prototype,"showOriginStudiesInSummaryDescription",null),H([l.computed],W.prototype,"oncokbCancerGeneFilterEnabled",null),H([l.computed],W.prototype,"isSingleVirtualStudyPageWithoutFilter",null),H([l.computed],W.prototype,"analysisGroupsPossible",null),H([d.default],W.prototype,"isChartNameValid",null),H([d.default],W.prototype,"getDefaultCustomChartName",null),H([d.default,l.action],W.prototype,"addCustomChart",null),H([d.default,l.action],W.prototype,"updateCustomSelect",null),H([l.computed],W.prototype,"chartMetaSet",null),H([l.computed],W.prototype,"visibleAttributes",null),H([l.computed],W.prototype,"showSettingRestoreMsg",null),H([l.computed],W.prototype,"isSavingUserSettingsPossible",null),H([l.computed],W.prototype,"loadingInitialDataForSummaryTab",null),H([l.computed],W.prototype,"currentChartSettingsMap",null),H([d.default,l.action],W.prototype,"clearPageSettings",null),H([d.default,l.action],W.prototype,"loadUserSettings",null),H([d.default,l.action],W.prototype,"undoUserSettings",null),H([l.observable],W.prototype,"_defualtChartsDimension",void 0),H([l.observable],W.prototype,"_defaultChartsType",void 0),H([l.observable],W.prototype,"_defaultVisibleChartIds",void 0),H([d.default,l.action],W.prototype,"resetToDefaultSettings",null),H([l.computed],W.prototype,"showResetToDefaultButton",null),H([l.computed],W.prototype,"defaultChartSettingsMap",null),H([d.default,l.action],W.prototype,"loadSettings",null),H([d.default,l.action],W.prototype,"updateChartStats",null),H([l.action],W.prototype,"initializeChartStatsByClinicalAttributes",null),H([l.computed],W.prototype,"specialChartKeysInCustomCharts",null),H([d.default,l.action],W.prototype,"changeChartType",null),H([l.action],W.prototype,"initializeClinicalDataCountCharts",null),H([l.action],W.prototype,"initializeClinicalDataBinCountCharts",null),H([l.computed],W.prototype,"chartsAreFiltered",null),H([l.computed],W.prototype,"selectedSamplesMap",null),H([l.computed],W.prototype,"selectedPatients",null),H([l.computed],W.prototype,"survivalPlots",null),H([l.computed],W.prototype,"clinicalDataDownloadFilename",null),H([l.computed],W.prototype,"downloadFilenamePrefix",null),H([d.default],W.prototype,"getDownloadDataPromise",null),H([d.default],W.prototype,"onSubmitQuery",null),H([d.default,l.action],W.prototype,"setCustomChartFilters",null),H([l.action],W.prototype,"showAsPieChart",null)},function(e,t,n){e.exports=n(24)(1031)},function(e,t,n){e.exports={portalWidth:"copyDownloadControls-module__portalWidth__wDcH_",framedImage:"copyDownloadControls-module__framedImage__1bvsU",downloadTabLinksGroup:"copyDownloadControls-module__downloadTabLinksGroup__-hkGB"}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),o=n(16),a=n(82),i=n(503);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).apply(this,arguments))}var n,u,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(u=[{key:"copyButton",value:function(){var e=r.createElement("button",{ref:this.props.copyButtonRef,className:"btn btn-sm btn-default","data-clipboard-text":"NA",id:"copyButton",onClick:this.props.handleCopy},this.props.copyLabel," ",r.createElement("i",{className:"fa fa-clipboard"}));return r.createElement(i.b,l({overlay:r.createElement("span",{className:"alert-success"},"Copied!"),visible:this.props.showCopyMessage},this.baseTooltipProps),r.createElement(i.b,l({overlay:r.createElement("span",null,"Copy"),visible:!this.props.showCopyMessage&&void 0},this.baseTooltipProps),e))}},{key:"downloadButton",value:function(){return r.createElement(i.b,l({overlay:r.createElement("span",null,"Download TSV")},this.baseTooltipProps),r.createElement(a.Button,{className:"btn-sm",onClick:this.props.handleDownload},this.props.downloadLabel," ",r.createElement("i",{className:"fa fa-cloud-download"})))}},{key:"render",value:function(){return r.createElement("span",{className:this.props.className},r.createElement(a.ButtonGroup,{className:this.props.className},r.createElement(o.If,{condition:this.props.showCopy},this.copyButton()),r.createElement(o.If,{condition:this.props.showDownload},this.downloadButton())))}},{key:"baseTooltipProps",get:function(){return{placement:"top",mouseLeaveDelay:0,mouseEnterDelay:.5}}}])&&c(n.prototype,u),f&&c(n,f),t}();f.defaultProps={className:"",copyLabel:"",downloadLabel:"",showCopy:!0,showDownload:!0,showCopyMessage:!1}},,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8ZyBpZD0ic3ZnXzQiPgogICA8ZWxsaXBzZSByeT0iMTc0IiByeD0iMTc0LjUiIGlkPSJzdmdfMSIgY3k9IjIwMCIgY3g9IjIwMC41IiBzdHJva2Utd2lkdGg9IjUwIiBzdHJva2U9IiMwMDdmZmYiIGZpbGw9Im5vbmUiLz4KICAgPGVsbGlwc2UgaWQ9InN2Z18yIiByeT0iOTcuNDQiIHJ4PSI5OS4xNDc3MiIgY3k9IjIwMCIgY3g9IjIwMS40OTE0NyIgc3Ryb2tlLXdpZHRoPSI1MCIgc3Ryb2tlPSIjMDA3ZmZmIiBmaWxsPSJub25lIi8+CiAgIDxlbGxpcHNlIGlkPSJzdmdfMyIgcnk9IjUyLjIiIHJ4PSI1My4wNDQwMyIgY3k9IjE5OC41MDg1NyIgY3g9IjIwMC4wMDQyNiIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2U9IiMwMDdmZmYiIGZpbGw9IiMwMDdmZmYiLz4KICA8L2c+CiA8L2c+Cjwvc3ZnPg=="},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(697),i=n.n(a),u=n(44),l=n.n(u),c=n(7),s=n(9),p=n.n(s),d=n(533),f=n(112),m=n.n(f),h=n(555),y=n(151);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};function A(e){return e.promises?0===e.promises.length?"complete":h.a.apply(void 0,T(e.promises)):"pending"}var E=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=b(this,v(t).apply(this,arguments))).timeShown=0,e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentWillMount",value:function(){var e=this;this.timeShownInterval=setInterval(function(){e.props.show?e.timeShown+=1:e.timeShown>0&&(e.timeShown=0)},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timeShownInterval)}},{key:"makeItem",value:function(e,t){var n,o,a,u=null,c=this.props.sequential&&t>this.firstIncompleteIndex;if(!c&&!e.hideIcon)switch(A(e)){case"complete":u=r.createElement("i",{className:l()("fa fa-sm fa-check",i.a["fa-check"])});break;case"pending":u=r.createElement(m.a,{name:"double-bounce",fadeIn:!1,className:i.a["pulse-spinner"]});break;case"error":u=r.createElement("i",{className:l()("fa fa-sm fa-exclamation-triangle",i.a["fa-exclamation-triangle"])})}return r.createElement("span",{className:l()(i.a["item-row"],(n={},o=i.a["not-invoked-item"],a=c,o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n)),style:e.style},e.label,r.createElement("span",{style:{marginLeft:7}},u))}},{key:"render",value:function(){return this.props.show?r.createElement("div",{className:i.a.container},r.createElement("div",{className:i.a["items-container"]},this.items.map(this.makeItem)),p.a.some(this.items,function(e){return"error"===A(e)})&&r.createElement(d.a,null)):null}},{key:"items",get:function(){return this.props.getItems(this.timeShown)}},{key:"firstIncompleteIndex",get:function(){return this.items.findIndex(function(e){return"complete"!==A(e)})}}])&&g(n.prototype,o),a&&g(n,a),t}();I([c.observable],E.prototype,"timeShown",void 0),I([c.computed],E.prototype,"items",null),I([c.computed],E.prototype,"firstIncompleteIndex",null),I([y.default],E.prototype,"makeItem",null),E=I([o.observer],E),t.a=E},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1w8-Y",framedImage:"styles-module__framedImage__bM7JH","integer-data":"styles-module__integer-data__1Bn0H"}},function(e,t,n){"use strict";var r=n(9),o=new(n(160).a);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,a){return o.getVariant(t,n,a).then(function(t){t&&(e[r]||(e[r]={}),e[r][n]=t)})}function u(e){var t={},n=[],r=[];if(e.forEach(function(e){if(!t.hasOwnProperty(e)&&(r.push(e),r.length>=400)){var a=r.join();n.push(o.getCivicGenesBatch(a)),r=[]}}),r.length>0){var a=r.join();n.push(o.getCivicGenesBatch(a))}return Promise.all(n).then(function(e){for(var n in e){e[n].forEach(function(e){t[e.name]=e})}}).then(function(){return t})}function l(e,t){var n={},o=[];if(t){var a=new Set([]),u=!0,l=!1,c=void 0;try{for(var s,p=t[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var d=s.value,f=d.gene.hugoGeneSymbol,m=e[f],h=[d.proteinChange],y=d.proteinChange.split(/[+\/]/);h.push(y[0]);for(var g=0,b=h;g<b.length;g++){var v=b[g];m&&m.variants[v]&&(a.has(m.variants[v])||(a.add(m.variants[v]),o.push(i(n,m.variants[v],v,f,m.id))))}}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}}else for(var S in e){var T=e[S],C=T.variants;if(!r.isEmpty(C))for(var I in C)"AMPLIFICATION"!=I&&"DELETION"!=I||o.push(i(n,C[I],I,S,T.id))}return Promise.all(o).then(function(){return n})}function c(e,t){return{name:e.name,description:e.description,url:e.url,variants:t}}function s(e,t,n){var r={};if(2===e[0].alteration)for(var o in n[t])"AMPLIFICATION"===o&&(r=a({},t,n[t][o]));else if(-2===e[0].alteration)for(var i in n[t])"DELETION"===i&&(r=a({},t,n[t][i]));return r}n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s})},function(e,t,n){e.exports=n(24)(89)},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(630),i=n(554),u=n(7),l=n(516);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,p(t).apply(this,arguments))).excludedGroupsSummary=Object(l.a)({await:function(){return[e.props.store.overlapComputations]},render:function(){var t,n=e.props.store.overlapComputations.result,o=n.groups.filter(function(e){return e.uid in n.excludedFromAnalysis}),a=Object(i.f)(o,"and"),u=1===o.length?"is":"are";return o.length>0&&(t=r.createElement("span",null,a," ".concat(u," completely overlapping with other selected groups, so "),e.props.overlapTabMode?"".concat(u," excluded from analysis in other tabs."):"".concat(1===o.length?"has":"have"," been excluded from this analysis."))),t?r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(e.classNames.icon),style:{color:"#000000",marginRight:5}}),t):null}}),e}var n,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"makeOverlappingCasesMessage",value:function(e,t){var n,o="sample"===e?t.overlappingSamples.length:t.overlappingPatients.length;if(0===o)return null;if(this.props.survivalTabMode&&t.totalPatientOverlap>0&&this.props.store.overlapStrategy===a.a.INCLUDE)n=function(e){return r.createElement("span",null,"Overlapping patients (",e,") are plotted as distinct groups below.")}(o);else{var u,l=t.groups.filter(function(e){return!(e.uid in t.excludedFromAnalysis)});u=l.length<t.groups.length?r.createElement("span",null,"between ",Object(i.f)(l,"and")):r.createElement("span",null,"in the selected groups"),n=r.createElement("span",null,"".concat("sample"===e?"Samples":"Patients"," (").concat(o,") that overlap "),u," are ".concat(this.props.store.overlapStrategy===a.a.INCLUDE?"included in":"excluded from"),this.props.overlapTabMode?" ".concat(e,"-level analysis in other tabs."):" ".concat(e,"-level analysis below."))}return r.createElement("div",null,r.createElement("i",{className:"fa fa-md ".concat(this.classNames.icon),style:{color:"#000000",marginRight:5}}),n)}},{key:"render",value:function(){if(this.props.store.overlapComputations.isComplete){var e=this.props.store.overlapComputations.result;return!e.totalSampleOverlap&&!e.totalPatientOverlap||"sample"===this.props.only&&!e.totalSampleOverlap||"patient"===this.props.only&&!e.totalPatientOverlap?null:r.createElement("div",{className:"alert ".concat(this.classNames.alert)},this.excludedGroupsSummary.component,"patient"!==this.props.only&&this.makeOverlappingCasesMessage("sample",e),"sample"!==this.props.only&&this.makeOverlappingCasesMessage("patient",e))}return null}},{key:"classNames",get:function(){var e="",t="";switch(this.props.store.overlapStrategy){case a.a.INCLUDE:this.props.survivalTabMode?(e="fa-info-circle",t="alert-info"):(e="fa-exclamation-triangle",t="alert-warning");break;case a.a.EXCLUDE:e="fa-info-circle",t="alert-info"}return{icon:e,alert:t}}}])&&c(n.prototype,o),u&&c(n,u),t}();h.defaultProps={overlapTabMode:!1,survivalTabMode:!1},m([u.computed],h.prototype,"classNames",null),h=m([o.observer],h),t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return w});var r=n(513),o=n(54),a=n(7),i=n(152),u=n(549),l=n(9),c=n.n(l),s=n(536),p=n(521),d=n(83),f=n(151),m=n(552),h=n(578),y=n(507),g=n(547),b=n(522),v=n(605),S=n(508),T=n(45),C=n(562),I=n(506);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P,k=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},_=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.INCLUDE="Include",e.EXCLUDE="Exclude"}(P||(P={}));var w=function(){function e(t,n,l){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appStore=n,this.urlWrapper=l,this._currentTabId=void 0,this.newSessionPending=!1,this.tabHasBeenShown=a.observable.map(),this._session=Object(o.b)({invoke:function(){return u.a.getComparisonSession(f.sessionId)},onResult:function(e){try{var t=c.a.chain(e.groups).flatMap(function(e){return e.studies}).map(function(e){return e.id}).uniq().value();Object(T.g)({category:"groupComparison",action:"comparisonSessionViewed",label:t.join(",")+",",fieldsObject:(n={},r=T.a.GroupCount,o=e.groups.length,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n)})}catch(e){throw"Failure to track comparisonSessionViewed"}var n,r,o}}),this.origin=Object(o.b)({await:function(){return[f._session]},invoke:function(){return Promise.resolve(f._session.result.origin)}}),this.existingGroupNames=Object(o.b)({await:function(){return[f._originalGroups,f.origin]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={session:this._originalGroups.result.map(function(e){return e.name}),user:[]},!this.isLoggedIn){e.next=6;break}return e.next=4,u.a.getGroupsForStudies(this.origin.result);case 4:e.t0=function(e){return e.data.name},t.user=e.sent.map(e.t0);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}))}}),this._unsortedOriginalGroups=Object(o.b)({await:function(){return[f._session,f.sampleSet]},invoke:function(){var e=[],t=f.sampleSet.result,n=Object(y.gb)(c.a.map(f._session.result.groups,function(e){return{value:e.name}}));return f._session.result.groups.forEach(function(o,a){e.push(function(e,o,a){var i=o.color||n[o.name],u=Object(r.p)(o,t),l=u.nonExistentSamples,c=u.studies;return Object.assign({},o,{color:i,studies:c,nonExistentSamples:l,uid:o.name,nameWithOrdinal:"",ordinal:"",savedInSession:e})}(!0,o))}),Promise.resolve(e)}}),this._originalGroups=Object(o.b)({await:function(){return[f._session,f._unsortedOriginalGroups]},invoke:function(){var e;if(f.groupOrder){var t=Object(S.c)(f.groupOrder);e=c.a.sortBy(f._unsortedOriginalGroups.result,function(e){return Object(C.a)(t[e.name],Number.POSITIVE_INFINITY)})}else if(f._session.result.groupNameOrder){var n=Object(S.c)(f._session.result.groupNameOrder);e=c.a.sortBy(f._unsortedOriginalGroups.result,function(e){return Object(C.a)(n[e.name],Number.POSITIVE_INFINITY)})}else e=Object(r.m)(f._unsortedOriginalGroups.result);var o=Object(r.t)(e.length,26);return e.forEach(function(e,t){var n=o[t];e.nameWithOrdinal="(".concat(n,") ").concat(e.name),e.ordinal=n}),Promise.resolve(e)}}),this.overlapComputations=Object(o.b)({await:function(){return[f._originalGroups]},invoke:function(){return Promise.resolve(Object(r.u)(f._originalGroups.result,f.isGroupSelected))}}),this.availableGroups=Object(o.b)({await:function(){return[f._originalGroups,f._originalGroupsOverlapRemoved]},invoke:function(){var e;switch(f.overlapStrategy){case P.INCLUDE:e=f._originalGroups.result;break;case P.EXCLUDE:default:e=f._originalGroupsOverlapRemoved.result}return Promise.resolve(e)}}),this.activeGroups=Object(o.b)({await:function(){return[f.availableGroups]},invoke:function(){return Promise.resolve(f.availableGroups.result.filter(function(e){return f.isGroupSelected(e.uid)&&!Object(r.C)(e)}))}}),this._originalGroupsOverlapRemoved=Object(o.b)({await:function(){return[f.overlapComputations,f._originalGroups]},invoke:function(){return Promise.resolve(f.overlapComputations.result.groups)}}),this._activeGroupsOverlapRemoved=Object(o.b)({await:function(){return[f._originalGroupsOverlapRemoved]},invoke:function(){return Promise.resolve(f._originalGroupsOverlapRemoved.result.filter(function(e){return f.isGroupSelected(e.uid)&&!Object(r.C)(e)}))}}),this._activeGroupsNotOverlapRemoved=Object(o.b)({await:function(){return[f._originalGroups,f.overlapComputations]},invoke:function(){var e=f.overlapComputations.result.excludedFromAnalysis;return f.overlapStrategy===P.INCLUDE&&(e={}),Promise.resolve(f._originalGroups.result.filter(function(t){return f.isGroupSelected(t.uid)&&!(t.uid in e)}))}}),this._selectedGroups=Object(o.b)({await:function(){return[f._originalGroups]},invoke:function(){return Promise.resolve(f._originalGroups.result.filter(function(e){return f.isGroupSelected(e.uid)}))}}),this.samples=Object(o.b)({await:function(){return[f._session]},invoke:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,a=f._session.result.groups[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value,l=!0,c=!1,s=void 0;try{for(var p,d=u.studies[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value,h=m.id,y=!0,g=!1,b=void 0;try{for(var v,S=m.samples[Symbol.iterator]();!(y=(v=S.next()).done);y=!0){var T=v.value;e.push({studyId:h,sampleId:T})}}catch(e){g=!0,b=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw b}}}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return i.a.fetchSamplesUsingPOST({sampleFilter:{sampleIdentifiers:e},projection:"DETAILED"})}}),this.activeSamplesNotOverlapRemoved=Object(o.b)({await:function(){return[f.sampleSet,f._activeGroupsNotOverlapRemoved]},invoke:function(){var e=Object(r.x)(f._activeGroupsNotOverlapRemoved.result),t=f.sampleSet.result;return Promise.resolve(e.map(function(e){return t.get(e)}))}}),this.activePatientKeysNotOverlapRemoved=Object(o.b)({await:function(){return[f.activeSamplesNotOverlapRemoved]},invoke:function(){return Promise.resolve(c.a.uniq(f.activeSamplesNotOverlapRemoved.result.map(function(e){return e.uniquePatientKey})))}}),this.studies=Object(o.b)({await:function(){return[f._session]},invoke:function(){var e=Object(r.y)(f._session.result.groups);return i.a.fetchStudiesUsingPOST({studyIds:e,projection:"DETAILED"})}},[]),this.activeStudyIds=Object(o.b)({await:function(){return[f.activeGroups]},invoke:function(){return Promise.resolve(Object(r.y)(f.activeGroups.result))}}),this.molecularProfilesInActiveStudies=Object(o.b)({await:function(){return[f.activeStudyIds]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.activeStudyIds.result.length>0)){e.next=4;break}return e.abrupt("return",i.a.fetchMolecularProfilesUsingPOST({molecularProfileFilter:{studyIds:this.activeStudyIds.result}}));case 4:return e.abrupt("return",Promise.resolve([]));case 5:case"end":return e.stop()}},e,this)}))}},[]),this.referenceGenes=Object(o.b)({await:function(){return[f.studies]},invoke:function(){return f.studies.result.length>0?Object(I.d)(f.studies.result[0].referenceGenome):Promise.resolve([])}}),this.hugoGeneSymbolToReferenceGene=Object(o.b)({await:function(){return[f.referenceGenes]},invoke:function(){return Promise.resolve(c.a.keyBy(f.referenceGenes.result,function(e){return e.hugoGeneSymbol}))}}),this.mutationEnrichmentProfiles=Object(o.b)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(s.s)(f.molecularProfilesInActiveStudies.result))}}),this.copyNumberEnrichmentProfiles=Object(o.b)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(s.q)(f.molecularProfilesInActiveStudies.result))}}),this.mRNAEnrichmentProfiles=Object(o.b)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(s.r)(f.molecularProfilesInActiveStudies.result))}}),this.proteinEnrichmentProfiles=Object(o.b)({await:function(){return[f.molecularProfilesInActiveStudies]},invoke:function(){return Promise.resolve(Object(s.t)(f.molecularProfilesInActiveStudies.result))}}),this._mutationEnrichmentProfileMap={},this._copyNumberEnrichmentProfileMap={},this._mRNAEnrichmentProfileMap={},this._proteinEnrichmentProfileMap={},this.selectedStudyMutationEnrichmentProfileMap=Object(o.b)({await:function(){return[f.mutationEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(f._mutationEnrichmentProfileMap)){var e=c.a.groupBy(f.mutationEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._mutationEnrichmentProfileMap)}}),this.selectedStudyCopyNumberEnrichmentProfileMap=Object(o.b)({await:function(){return[f.copyNumberEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(f._copyNumberEnrichmentProfileMap)){var e=c.a.groupBy(f.copyNumberEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._copyNumberEnrichmentProfileMap)}}),this.selectedmRNAEnrichmentProfileMap=Object(o.b)({await:function(){return[f.mRNAEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(f._mRNAEnrichmentProfileMap)){var e=c.a.groupBy(f.mRNAEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._mRNAEnrichmentProfileMap)}}),this.selectedProteinEnrichmentProfileMap=Object(o.b)({await:function(){return[f.proteinEnrichmentProfiles]},invoke:function(){if(c.a.isEmpty(f._proteinEnrichmentProfileMap)){var e=c.a.groupBy(f.proteinEnrichmentProfiles.result,function(e){return e.studyId});return Promise.resolve(c.a.mapValues(e,function(e){return e[0]}))}return Promise.resolve(f._proteinEnrichmentProfileMap)}}),this.mutationEnrichmentData=Object(p.v)({await:function(){return[f.selectedStudyMutationEnrichmentProfileMap,f.activeGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return f.selectedStudyMutationEnrichmentProfileMap.result},fetchData:function(){var e=f.selectedStudyMutationEnrichmentProfileMap.result,t=c.a.keyBy(e,function(e){return e.studyId});if(f.activeGroups.result.length>1){var n=c.a.map(f.activeGroups.result,function(e){var n=c.a.flatMap(e.studies,function(e){return c.a.map(f.usePatientLevelEnrichments?e.patients:e.samples,function(n){return{caseId:n,molecularProfileId:t[e.id].molecularProfileId}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}});return d.a.fetchMutationEnrichmentsUsingPOST({enrichmentType:f.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:n})}return Promise.resolve([])}}),this.copyNumberEnrichmentDataRequestGroups=Object(o.b)({await:function(){return[f.selectedStudyCopyNumberEnrichmentProfileMap,f.activeGroups]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.selectedStudyCopyNumberEnrichmentProfileMap.result,n=c.a.map(this.activeGroups.result,function(e){var n=c.a.flatMap(e.studies,function(e){return c.a.map(r.usePatientLevelEnrichments?e.patients:e.samples,function(n){return{caseId:n,molecularProfileId:t[e.id].molecularProfileId}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}))}}),this.copyNumberHomdelEnrichmentData=Object(o.b)({await:function(){return[f.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return f.copyNumberEnrichmentDataRequestGroups.result&&f.copyNumberEnrichmentDataRequestGroups.result.length>1?f.getCopyNumberEnrichmentData(f.copyNumberEnrichmentDataRequestGroups.result,"HOMDEL"):Promise.resolve([])}}),this.copyNumberAmpEnrichmentData=Object(o.b)({await:function(){return[f.copyNumberEnrichmentDataRequestGroups]},invoke:function(){return f.copyNumberEnrichmentDataRequestGroups.result&&f.copyNumberEnrichmentDataRequestGroups.result.length>1?f.getCopyNumberEnrichmentData(f.copyNumberEnrichmentDataRequestGroups.result,"AMP"):Promise.resolve([])}}),this.copyNumberEnrichmentData=Object(p.v)({await:function(){return[f.copyNumberHomdelEnrichmentData,f.copyNumberAmpEnrichmentData,f.selectedStudyCopyNumberEnrichmentProfileMap]},getSelectedProfileMap:function(){return f.selectedStudyCopyNumberEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){var e=f.copyNumberAmpEnrichmentData.result.map(function(e){return e.value=2,e}),t=f.copyNumberHomdelEnrichmentData.result.map(function(e){return e.value=-2,e});return Promise.resolve(e.concat(t))}}),this.mRNAEnrichmentData=Object(p.v)({await:function(){return[f.selectedmRNAEnrichmentProfileMap,f.activeGroups]},getSelectedProfileMap:function(){return f.selectedmRNAEnrichmentProfileMap.result},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,fetchData:function(){var e=Object.keys(f.selectedmRNAEnrichmentProfileMap.result);if(1===e.length){var t=f.selectedmRNAEnrichmentProfileMap.result[e[0]].molecularProfileId,n=c.a.map(f.activeGroups.result,function(e){var n=c.a.flatMap(e.studies,function(e){return c.a.map(e.samples,function(e){return{caseId:e,molecularProfileId:t}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}});return d.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.proteinEnrichmentData=Object(p.v)({await:function(){return[f.selectedProteinEnrichmentProfileMap,f.activeGroups]},referenceGenesPromise:this.hugoGeneSymbolToReferenceGene,getSelectedProfileMap:function(){return f.selectedProteinEnrichmentProfileMap.result},fetchData:function(){var e=Object.keys(f.selectedProteinEnrichmentProfileMap.result);if(1===e.length){var t=f.selectedProteinEnrichmentProfileMap.result[e[0]].molecularProfileId,n=c.a.map(f.activeGroups.result,function(e){var n=c.a.flatMap(e.studies,function(e){return c.a.map(e.samples,function(e){return{caseId:e,molecularProfileId:t}})});return{name:e.nameWithOrdinal,molecularProfileCaseIdentifiers:n}});return d.a.fetchExpressionEnrichmentsUsingPOST({enrichmentType:"SAMPLE",groups:n})}return Promise.resolve([])}}),this.sampleSet=Object(o.b)({await:function(){return[f.samples]},invoke:function(){var e=new b.a,t=!0,n=!1,r=void 0;try{for(var o,a=f.samples.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e.set({studyId:i.studyId,sampleId:i.sampleId},i)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeys=Object(o.b)({await:function(){return[f.samples]},invoke:function(){return Promise.resolve(c.a.uniq(f.samples.result.map(function(e){return e.uniquePatientKey})))}}),this.patientToSamplesSet=Object(o.b)({await:function(){return[f.samples]},invoke:function(){var e=new v.a,t=!0,n=!1,r=void 0;try{for(var o,a=f.samples.result[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;e.add({studyId:i.studyId,patientId:i.patientId},i)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return Promise.resolve(e)}}),this.patientKeyToSamples=Object(o.b)({await:function(){return[f.samples]},invoke:function(){return Promise.resolve(c.a.groupBy(f.samples.result,function(e){return e.uniquePatientKey}))}}),this.sampleKeyToSample=Object(o.b)({await:function(){return[f.samples]},invoke:function(){var e=c.a.reduce(f.samples.result,function(e,t){return e[t.uniqueSampleKey]=t,e},{});return Promise.resolve(e)}}),this.sampleKeyToActiveGroups=Object(o.b)({await:function(){return[f.activeGroups,f.sampleSet]},invoke:function(){var e={},t=f.sampleSet.result,n=!0,r=!1,o=void 0;try{for(var a,i=f.activeGroups.result[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=!0,c=!1,s=void 0;try{for(var p,d=u.studies[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value,h=!0,y=!1,g=void 0;try{for(var b,v=m.samples[Symbol.iterator]();!(h=(b=v.next()).done);h=!0){var S=b.value,T=t.get({studyId:m.id,sampleId:S});T&&(e[T.uniqueSampleKey]=e[T.uniqueSampleKey]||[],e[T.uniqueSampleKey].push(u.uid))}}catch(e){y=!0,g=e}finally{try{h||null==v.return||v.return()}finally{if(y)throw g}}}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return Promise.resolve(e)}}),this.patientsVennPartition=Object(o.b)({await:function(){return[f._activeGroupsNotOverlapRemoved,f.patientToSamplesSet,f.activePatientKeysNotOverlapRemoved]},invoke:function(){var e=f.patientToSamplesSet.result;return Promise.resolve(Object(r.D)(f._activeGroupsNotOverlapRemoved.result,function(e){return Object(y.Q)([e])},function(t){return e.get({studyId:t.studyId,patientId:t.patientId})[0].uniquePatientKey},f.activePatientKeysNotOverlapRemoved.result))}}),this.survivalClinicalDataExists=Object(o.b)({await:function(){return[f.activeSamplesNotOverlapRemoved]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.activeSamplesNotOverlapRemoved.result.length){e.next=2;break}return e.abrupt("return",!1);case 2:return t={attributeIds:h.b,identifiers:this.activeSamplesNotOverlapRemoved.result.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})},e.next=5,i.a.fetchClinicalDataUsingPOSTWithHttpInfo({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:t,projection:"META"}).then(function(e){return parseInt(e.header["total-count"],10)});case 5:return n=e.sent,e.abrupt("return",n>0);case 7:case"end":return e.stop()}},e,this)}))}}),this.survivalClinicalData=Object(o.b)({await:function(){return[f.activeSamplesNotOverlapRemoved]},invoke:function(){if(0===f.activeSamplesNotOverlapRemoved.result.length)return Promise.resolve([]);var e={attributeIds:h.b,identifiers:f.activeSamplesNotOverlapRemoved.result.map(function(e){return{entityId:e.patientId,studyId:e.studyId}})};return i.a.fetchClinicalDataUsingPOST({clinicalDataType:"PATIENT",clinicalDataMultiStudyFilter:e})}},[]),this.activeStudiesClinicalAttributes=Object(o.b)({await:function(){return[f.activeStudyIds]},invoke:function(){return 0===f.activeStudyIds.result.length?Promise.resolve([]):i.a.fetchClinicalAttributesUsingPOST({studyIds:f.activeStudyIds.result})}},[]),this.survivalClinicalDataGroupByUniquePatientKey=Object(o.b)({await:function(){return[f.survivalClinicalData]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.groupBy(this.survivalClinicalData.result,"uniquePatientKey"));case 1:case"end":return e.stop()}},e,this)}))}}),this.overallPatientSurvivals=Object(o.b)({await:function(){return[f.survivalClinicalDataGroupByUniquePatientKey,f.activePatientKeysNotOverlapRemoved]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.activePatientKeysNotOverlapRemoved.result,"OS_STATUS","OS_MONTHS",function(e){return"DECEASED"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.diseaseFreePatientSurvivals=Object(o.b)({await:function(){return[f.survivalClinicalDataGroupByUniquePatientKey,f.activePatientKeysNotOverlapRemoved]},invoke:function(){return _(f,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.a)(this.survivalClinicalDataGroupByUniquePatientKey.result,this.activePatientKeysNotOverlapRemoved.result,"DFS_STATUS","DFS_MONTHS",function(e){return"Recurred/Progressed"===e||"Recurred"===e}));case 1:case"end":return e.stop()}},e,this)}))}},[]),this.uidToGroup=Object(o.b)({await:function(){return[f._originalGroups]},invoke:function(){return Promise.resolve(c.a.keyBy(f._originalGroups.result,function(e){return e.uid}))}}),this.clinicalDataEnrichments=Object(o.b)({await:function(){return[f.activeGroups]},invoke:function(){if(f.clinicalTabUnavailable)return Promise.resolve([]);var e=c.a.map(f.activeGroups.result,function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,i=e.studies[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,l=u.id,c=!0,s=!1,p=void 0;try{for(var d,f=u.samples[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;t.push({studyId:l,sampleId:m})}}catch(e){s=!0,p=e}finally{try{c||null==f.return||f.return()}finally{if(s)throw p}}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return{name:e.nameWithOrdinal||e.uid,sampleIdentifiers:t}});return e.length>1?d.a.fetchClinicalEnrichmentsUsingPOST({groupFilter:{groups:e}}):Promise.resolve([])},onError:function(){}},[]),this.clinicalDataEnrichmentsWithQValues=Object(o.b)({await:function(){return[f.clinicalDataEnrichments]},invoke:function(){var e=f.clinicalDataEnrichments.result,t=c.a.sortBy(e,function(e){return e.pValue});return Object(g.a)(t.map(function(e){return e.pValue})).forEach(function(e,n){t[n].qValue=e}),Promise.resolve(t)},onError:function(){}},[]),this.activeStudyIdToStudy=Object(o.b)({await:function(){return[f.studies,f.activeStudyIds]},invoke:function(){return Promise.resolve(c.a.keyBy(c.a.filter(f.studies.result,function(e){return f.activeStudyIds.result.includes(e.studyId)}),function(e){return e.studyId}))}},{}),this.overallSurvivalDescriptions=Object(o.b)({await:function(){return[f.activeStudiesClinicalAttributes,f.activeStudyIdToStudy]},invoke:function(){var e=c.a.groupBy(f.activeStudiesClinicalAttributes.result,"clinicalAttributeId"),t=[],n=f.activeStudyIdToStudy.result;return e&&e.OS_STATUS&&e.OS_STATUS.length>0?(e.OS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),this.diseaseFreeSurvivalDescriptions=Object(o.b)({await:function(){return[f.activeStudiesClinicalAttributes,f.activeStudyIdToStudy]},invoke:function(){var e=c.a.groupBy(f.activeStudiesClinicalAttributes.result,"clinicalAttributeId"),t=[],n=f.activeStudyIdToStudy.result;return e&&e.DFS_STATUS&&e.DFS_STATUS.length>0?(e.DFS_STATUS.forEach(function(e){t.push({studyName:n[e.studyId].name,description:e.description})}),Promise.resolve(t)):Promise.resolve([])}}),this.sessionId=t,this.tabHasBeenShownReactionDisposer=Object(a.autorun)(function(){f.tabHasBeenShown.set(r.c.SURVIVAL,!!f.tabHasBeenShown.get(r.c.SURVIVAL)||f.showSurvivalTab),f.tabHasBeenShown.set(r.c.MUTATIONS,!!f.tabHasBeenShown.get(r.c.MUTATIONS)||f.showMutationsTab),f.tabHasBeenShown.set(r.c.CNA,!!f.tabHasBeenShown.get(r.c.CNA)||f.showCopyNumberTab),f.tabHasBeenShown.set(r.c.MRNA,!!f.tabHasBeenShown.get(r.c.MRNA)||f.showMRNATab),f.tabHasBeenShown.set(r.c.PROTEIN,!!f.tabHasBeenShown.get(r.c.PROTEIN)||f.showProteinTab)})}var t,n,l;return t=e,(n=[{key:"destroy",value:function(){this.tabHasBeenShownReactionDisposer&&this.tabHasBeenShownReactionDisposer()}},{key:"updateOverlapStrategy",value:function(e){this.urlWrapper.updateQuery({overlapStrategy:e})}},{key:"setUsePatientLevelEnrichments",value:function(e){this.urlWrapper.updateQuery({patientEnrichments:e.toString()})}},{key:"updateGroupOrder",value:function(e,t){var n=this.groupOrder;n||(n=this._originalGroups.result.map(function(e){return e.name}));var r=(n=n.slice()).splice(e,1)[0];n.splice(t,0,r),this.urlWrapper.updateQuery({groupOrder:JSON.stringify(n)})}},{key:"updateUnselectedGroups",value:function(e){this.urlWrapper.updateQuery({unselectedGroups:JSON.stringify(e)})}},{key:"toggleGroupSelected",value:function(e){var t=this.unselectedGroups.slice();t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),this.updateUnselectedGroups(t)}},{key:"selectAllGroups",value:function(){this.updateUnselectedGroups([])}},{key:"deselectAllGroups",value:function(){var e=this._originalGroups.result;this.updateUnselectedGroups(e.map(function(e){return e.name}))}},{key:"isGroupSelected",value:function(e){return!this.unselectedGroups.includes(e)}},{key:"addGroup",value:function(e,t){return _(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.newSessionPending=!0,!t||!this.isLoggedIn){n.next=4;break}return n.next=4,u.a.addGroup(e);case 4:(r=c.a.cloneDeep(this._session.result)).groups.push(e),this.saveAndGoToSession(r);case 7:case"end":return n.stop()}},n,this)}))}},{key:"deleteGroup",value:function(e){return _(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.newSessionPending=!0,(n=c.a.cloneDeep(this._session.result)).groups=n.groups.filter(function(t){return t.name!==e}),this.saveAndGoToSession(n);case 4:case"end":return t.stop()}},t,this)}))}},{key:"saveAndGoToSession",value:function(e){return _(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.addComparisonSession(e);case 2:n=t.sent,r=n.id,this.urlWrapper.updateQuery({sessionId:r});case 5:case"end":return t.stop()}},t,this)}))}},{key:"setMutationEnrichmentProfileMap",value:function(e){this._mutationEnrichmentProfileMap=e}},{key:"setCopyNumberEnrichmentProfileMap",value:function(e){this._copyNumberEnrichmentProfileMap=e}},{key:"setMRNAEnrichmentProfileMap",value:function(e){this._mRNAEnrichmentProfileMap=e}},{key:"setProteinEnrichmentProfileMap",value:function(e){this._proteinEnrichmentProfileMap=e}},{key:"getCopyNumberEnrichmentData",value:function(e,t){return d.a.fetchCopyNumberEnrichmentsUsingPOST({copyNumberEventType:t,enrichmentType:this.usePatientLevelEnrichments?"PATIENT":"SAMPLE",groups:e})}},{key:"overlapStrategy",get:function(){return this.urlWrapper.query.overlapStrategy||P.EXCLUDE}},{key:"usePatientLevelEnrichments",get:function(){return"true"===this.urlWrapper.query.patientEnrichments}},{key:"groupOrder",get:function(){var e=this.urlWrapper.query.groupOrder;return e?JSON.parse(e):void 0}},{key:"unselectedGroups",get:function(){var e=this.urlWrapper.query.unselectedGroups;return e?JSON.parse(e):[]}},{key:"isLoggedIn",get:function(){return this.appStore.isLoggedIn}},{key:"sessionClinicalAttributeName",get:function(){return this._session.isComplete?this._session.result.clinicalAttributeName:void 0}},{key:"survivalTabShowable",get:function(){return this.survivalClinicalDataExists.isComplete&&this.survivalClinicalDataExists.result}},{key:"showSurvivalTab",get:function(){return this.survivalTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(r.c.SURVIVAL)}},{key:"survivalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length>10||!this.survivalTabShowable}},{key:"mutationsTabShowable",get:function(){return this.mutationEnrichmentProfiles.isComplete&&this.mutationEnrichmentProfiles.result.length>0}},{key:"showMutationsTab",get:function(){return this.mutationsTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(r.c.MUTATIONS)}},{key:"mutationsTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.mutationsTabShowable}},{key:"clinicalTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2}},{key:"copyNumberTabShowable",get:function(){return this.copyNumberEnrichmentProfiles.isComplete&&this.copyNumberEnrichmentProfiles.result.length>0}},{key:"showCopyNumberTab",get:function(){return this.copyNumberTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(r.c.CNA)}},{key:"copyNumberUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||!this.copyNumberTabShowable}},{key:"mRNATabShowable",get:function(){return this.mRNAEnrichmentProfiles.isComplete&&this.mRNAEnrichmentProfiles.result.length>0}},{key:"showMRNATab",get:function(){return this.mRNATabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(r.c.MRNA)}},{key:"mRNATabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.mRNATabShowable}},{key:"proteinTabShowable",get:function(){return this.proteinEnrichmentProfiles.isComplete&&this.proteinEnrichmentProfiles.result.length>0}},{key:"showProteinTab",get:function(){return this.proteinTabShowable||this.activeGroups.isComplete&&0===this.activeGroups.result.length&&this.tabHasBeenShown.get(r.c.PROTEIN)}},{key:"proteinTabUnavailable",get:function(){return this.activeGroups.isComplete&&this.activeGroups.result.length<2||this.activeStudyIds.isComplete&&this.activeStudyIds.result.length>1||!this.proteinTabShowable}}])&&A(t.prototype,n),l&&A(t,l),e}();k([a.observable],w.prototype,"_currentTabId",void 0),k([a.observable],w.prototype,"sessionId",void 0),k([a.observable],w.prototype,"newSessionPending",void 0),k([a.action],w.prototype,"updateOverlapStrategy",null),k([a.computed],w.prototype,"overlapStrategy",null),k([a.computed],w.prototype,"usePatientLevelEnrichments",null),k([f.default,a.action],w.prototype,"setUsePatientLevelEnrichments",null),k([a.computed],w.prototype,"groupOrder",null),k([a.action],w.prototype,"updateGroupOrder",null),k([a.action],w.prototype,"updateUnselectedGroups",null),k([a.computed],w.prototype,"unselectedGroups",null),k([f.default,a.action],w.prototype,"toggleGroupSelected",null),k([f.default,a.action],w.prototype,"selectAllGroups",null),k([f.default,a.action],w.prototype,"deselectAllGroups",null),k([f.default],w.prototype,"isGroupSelected",null),k([a.action],w.prototype,"saveAndGoToSession",null),k([a.computed],w.prototype,"sessionClinicalAttributeName",null),k([a.observable.ref],w.prototype,"_mutationEnrichmentProfileMap",void 0),k([a.observable.ref],w.prototype,"_copyNumberEnrichmentProfileMap",void 0),k([a.observable.ref],w.prototype,"_mRNAEnrichmentProfileMap",void 0),k([a.observable.ref],w.prototype,"_proteinEnrichmentProfileMap",void 0),k([a.action],w.prototype,"setMutationEnrichmentProfileMap",null),k([a.action],w.prototype,"setCopyNumberEnrichmentProfileMap",null),k([a.action],w.prototype,"setMRNAEnrichmentProfileMap",null),k([a.action],w.prototype,"setProteinEnrichmentProfileMap",null),k([a.computed],w.prototype,"survivalTabShowable",null),k([a.computed],w.prototype,"showSurvivalTab",null),k([a.computed],w.prototype,"survivalTabUnavailable",null),k([a.computed],w.prototype,"mutationsTabShowable",null),k([a.computed],w.prototype,"showMutationsTab",null),k([a.computed],w.prototype,"mutationsTabUnavailable",null),k([a.computed],w.prototype,"clinicalTabUnavailable",null),k([a.computed],w.prototype,"copyNumberTabShowable",null),k([a.computed],w.prototype,"showCopyNumberTab",null),k([a.computed],w.prototype,"copyNumberUnavailable",null),k([a.computed],w.prototype,"mRNATabShowable",null),k([a.computed],w.prototype,"showMRNATab",null),k([a.computed],w.prototype,"mRNATabUnavailable",null),k([a.computed],w.prototype,"proteinTabShowable",null),k([a.computed],w.prototype,"showProteinTab",null),k([a.computed],w.prototype,"proteinTabUnavailable",null)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(153),o=n(535),a=n(612);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this))}var n,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,a["a"]),n=t,(i=[{key:"fetch",value:function(e){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.prev=1,t.next=4,r.a.evidencesLookupPostUsingPOST({body:Object(o.b)(e,"STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_SENSITIVITY,STANDARD_THERAPEUTIC_IMPLICATIONS_FOR_DRUG_RESISTANCE,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_SENSITIVITY,INVESTIGATIONAL_THERAPEUTIC_IMPLICATIONS_DRUG_RESISTANCE")});case 4:for(u in a=t.sent,i=Object(o.f)(a))i.hasOwnProperty(u)&&(n[u]={status:"complete",data:i[u]});this.putData(n),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e.forEach(function(e){n[e.id]={status:"error"}}),this.putData(n);case 14:case"end":return t.stop()}},t,this,[[1,10]])}))}}])&&u(n.prototype,i),d&&u(n,d),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(505),o=n(13),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function p(e){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){a.a.post("https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json").type("form").send({id:e.join(",")}).end(function(e,r){if(!e&&r.ok){var o=JSON.parse(r.text).result,a=o.uids,i={},u=!0,l=!1,c=void 0;try{for(var s,p=a[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var d=s.value;i[d]=o[d]}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}t(i)}else n(e)})});case 2:for(n=t.sent,r=[],o=0,i=Object.keys(n);o<i.length;o++)u=i[o],r.push({data:[n[u]],meta:u});return t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).call(this,function(e){return e+""},function(e,t){return t},p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i});var r="*",o="+",a="-",i=" "},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(156),o=n(506),a=n(509),i=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a;return i(this,void 0,void 0,regeneratorRuntime.mark(function r(){var i,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(i=l(Object(o.c)(e,t))).length){r.next=3;break}return r.abrupt("return",[]);case 3:return u=Object(a.n)(i),r.next=6,n.fetchHotspotAnnotationByGenomicLocationPOST({genomicLocations:u});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r)}))}function l(e){var t=n(674);return e.filter(function(e){return!e.gene.hugoGeneSymbol||t.includes(e.gene.hugoGeneSymbol)})}},function(e,t,n){"use strict";function r(e){var t={},n=!0,r=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;t[o(l)]={entrezGeneId:l.entrezGeneId,proteinPosStart:l.proteinPosStart,proteinPosEnd:l.proteinPosEnd}}}catch(e){r=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}return t}function o(e){return"".concat(e.entrezGeneId,"_").concat(e.proteinPosStart,"_").concat(e.proteinPosEnd)}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(604),o=n.n(r),a=n(9),i=1.5,u=3;function l(e){var t=a.sortBy(e,[function(e){return e}]),n=o.a.quartiles(t),r=o.a.median(t),l=n[0],c=n[1],s=n[2],p=s-l,d=t[t.length-1],f=t[0],m=l-i*p,h=s+i*p,y=function(e,t,n,r,o){return e.reduce(function(e,a){return a>=t&&(a<n?e.upper.suspectedOutliers.push(a):e.upper.outliers.push(a)),a<=r&&(a>o?e.lower.suspectedOutliers.push(a):e.lower.outliers.push(a)),e},{upper:{outliers:[],suspectedOutliers:[]},lower:{outliers:[],suspectedOutliers:[]}})}(t,h,s+u*p,m,l-u*p),g=y.lower.suspectedOutliers.length>0||y.lower.outliers.length>0?m:t[0];return{q1:l,q2:c,q3:s,IQR:p,median:r,whiskerUpper:y.upper.suspectedOutliers.length>0||y.upper.outliers.length>0?h:t[t.length-1],whiskerLower:g,max:d,min:f,outliersUpper:y.upper,outliersLower:y.lower}}},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n(0),o=n(9),a=n(510),i=n(18),u=n(7),l=n(82),c=n(518),s=n(520),p=n(534),d=n.n(p),f=n(594),m=n(151),h=n(514);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I,A=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":C(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.ALTERATION="ALTERATION",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.LOG_RATIO="Log Ratio",e.TENDENCY="Tendency",e.ENRICHED="Enriched in",e.MOST_ENRICHED="Most enriched in"}(I||(I={}));var E={2:"Amp","-2":"DeepDel"},P=function(e){function t(){return g(this,t),b(this,v(t).apply(this,arguments))}return S(t,a["b"]),t}(),k=function(e){function t(){return g(this,t),b(this,v(t).apply(this,arguments))}var n,a,i;return S(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(P,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[I.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(l.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:d.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:d.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[I.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:f.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[I.ALTERATION]={name:"Alteration",render:function(e){return r.createElement("span",{style:{color:2===e.value?h.a:h.d}},E[e.value])},tooltip:r.createElement("span",null,"Copy number alteration"),filter:function(e,t,n){return E[e.value].toUpperCase().includes(n)},sortBy:function(e){return E[e.value]},download:function(e){return E[e.value]}},t[I.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(s.a)(e.pValue,3,.01))},tooltip:r.createElement("span",null,"Derived from one-sided Fisher Exact Test"),sortBy:function(e){return e.pValue},download:function(e){return Object(s.a)(e.pValue,3,.01)}},t[I.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(c.b)(e.qValue))},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(s.a)(e.qValue,3,.01)}},t}}])&&y(n.prototype,a),i&&y(n,i),t}();k.defaultProps={columns:[I.GENE,I.CYTOBAND,I.P_VALUE,I.Q_VALUE],initialSortColumn:"q-Value"},A([m.default],k.prototype,"onRowClick",null),A([u.computed],k.prototype,"columns",null),k=A([i.observer],k),t.b=k},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(7),i=n(151),u=n(82),l=n(44),c=n.n(l),s=n(586),p=n.n(s),d=n(525),f=n(485);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},C=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=y(this,g(t).apply(this,arguments))).mousePosition={x:0,y:0},e.tooltipOpen=!1,e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(o=[{key:"onMouseOver",value:function(){this.tooltipOpen=!0}},{key:"onMouseOut",value:function(){this.tooltipOpen=!1}},{key:"onMouseMove",value:function(e){this.mousePosition.x=e.pageX,this.mousePosition.y=e.pageY}},{key:"render",value:function(){var e=this.props,t=(e.text,e.maxWidth,e.datum,e.suffix,e.tooltip,e.prefixTspans,e.alwaysShowTooltip,e.renderTruncatedText,e.tooltipPlacement),n=e.textRef,o=T(e,["text","maxWidth","datum","suffix","tooltip","prefixTspans","alwaysShowTooltip","renderTruncatedText","tooltipPlacement","textRef"]);return r.createElement(r.Fragment,null,r.createElement("text",m({onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,onMouseMove:this.onMouseMove,ref:n},o),this.props.prefixTspans,this.truncatedText),(this.textReport.isTruncated||this.props.alwaysShowTooltip)&&this.tooltipOpen&&r.createElement(f.a,{isOpened:!0,node:document.body},r.createElement(u.Popover,{arrowOffsetTop:17,className:c()("cbioportal-frontend","cbioTooltip",p.a.Tooltip),positionLeft:this.mousePosition.x+("left"===t?-8:8),positionTop:this.mousePosition.y-17,style:{transform:"left"===t?"translate(-100%,0%)":void 0},placement:t},this.tooltipElt)))}},{key:"tooltipElt",get:function(){return this.props.tooltip?this.props.tooltip(this.props.datum):r.createElement("span",null,this.props.text)}},{key:"fontFamily",get:function(){var e="Arial";return this.props.style&&(e=this.props.style.fontFamily.split(", ")[0]),e}},{key:"fontSize",get:function(){var e="13px";return this.props.style&&(e=this.props.style.fontSize+"px"),e}},{key:"textReport",get:function(){return Object(d.f)(this.props.text||"",this.props.maxWidth,this.fontFamily,this.fontSize)}},{key:"truncatedText",get:function(){return this.props.renderTruncatedText?this.props.renderTruncatedText(this.textReport.text):r.createElement("tspan",null,this.textReport.text)}}])&&h(n.prototype,o),a&&h(n,a),t}();C.defaultProps={maxWidth:100,suffix:"..."},S([a.observable],C.prototype,"mousePosition",void 0),S([a.observable],C.prototype,"tooltipOpen",void 0),S([a.computed],C.prototype,"tooltipElt",null),S([i.default,a.action],C.prototype,"onMouseOver",null),S([i.default,a.action],C.prototype,"onMouseOut",null),S([i.default],C.prototype,"onMouseMove",null),S([a.computed],C.prototype,"fontFamily",null),S([a.computed],C.prototype,"fontSize",null),S([a.computed],C.prototype,"textReport",null),S([a.computed],C.prototype,"truncatedText",null),C=S([o.observer],C),t.a=C},function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(0),o=n(9),a=n(510),i=n(18),u=n(7),l=n(82),c=n(518),s=n(520),p=n(534),d=n.n(p),f=n(594),m=n(151);function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C,I=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.GENE="GENE",e.CYTOBAND="CYTOBAND",e.LOG_RATIO="Log Ratio",e.P_VALUE="P_VALUE",e.Q_VALUE="Q_VALUE",e.TENDENCY="Tendency",e.EXPRESSED="Higher expression in",e.MEAN_SUFFIX=" mean",e.STANDARD_DEVIATION_SUFFIX=" standard deviation"}(C||(C={}));var A=function(e){function t(){return y(this,t),g(this,b(t).apply(this,arguments))}return v(t,a["b"]),t}(),E=function(e){function t(){return y(this,t),g(this,b(t).apply(this,arguments))}var n,a,i;return v(t,r["Component"]),n=t,(a=[{key:"checkboxChange",value:function(e){var t=o.find(this.props.data,{hugoGeneSymbol:e});t.checked=!t.checked,this.props.onCheckGene(e)}},{key:"onRowClick",value:function(e){this.props.onGeneNameClick(e.hugoGeneSymbol,e.entrezGeneId),this.props.dataStore.setHighlighted(e)}},{key:"render",value:function(){var e=this,t=o.sortBy(this.props.visibleOrderedColumnNames.map(function(t){return e.columns[t]}),function(e){return e.order});return r.createElement(A,{initialItemsPerPage:20,paginationProps:{itemsPerPageOptions:[20]},columns:t,data:this.props.data,initialSortColumn:this.props.initialSortColumn,onRowClick:this.props.onGeneNameClick?this.onRowClick:void 0,dataStore:this.props.dataStore})}},{key:"columns",get:function(){var e=this,t=this.props.customColumns||{};return t[C.GENE]={name:"Gene",render:function(t){return r.createElement("div",{style:{display:"flex"}},e.props.onCheckGene&&e.props.checkedGenes&&r.createElement(l.Checkbox,{checked:e.props.checkedGenes.includes(t.hugoGeneSymbol),disabled:t.disabled,key:t.hugoGeneSymbol,className:d.a.Checkbox,onChange:function(){e.checkboxChange(t.hugoGeneSymbol)},onClick:function(e){e.stopPropagation()},title:t.disabled?"This is one of the query genes":""}),r.createElement("span",{className:d.a.GeneName},r.createElement("b",null,t.hugoGeneSymbol)))},tooltip:r.createElement("span",null,"Gene"),filter:function(e,t,n){return e.hugoGeneSymbol.toUpperCase().includes(n)},sortBy:function(e){return e.hugoGeneSymbol},download:function(e){return e.hugoGeneSymbol}},t[C.CYTOBAND]={name:"Cytoband",render:function(e){return r.createElement("span",null,e.cytoband)},tooltip:r.createElement("span",null,"Cytoband"),filter:f.a,sortBy:function(e){return e.cytoband},download:function(e){return e.cytoband}},t[C.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(s.a)(e.pValue,3,.01))},tooltip:r.createElement("span",null,"Derived from Student's t-test"),sortBy:function(e){return e.pValue},download:function(e){return Object(s.a)(e.pValue,3,.01)}},t[C.Q_VALUE]={name:"q-Value",render:function(e){return r.createElement("span",{style:{whiteSpace:"nowrap"}},Object(c.b)(e.qValue))},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(s.a)(e.qValue,3,.01)}},t}}])&&h(n.prototype,a),i&&h(n,i),t}();E.defaultProps={columns:[C.GENE,C.CYTOBAND,C.P_VALUE,C.Q_VALUE],initialSortColumn:"q-Value",mutexTendency:!0},I([m.default],E.prototype,"onRowClick",null),I([u.computed],E.prototype,"columns",null),E=I([i.observer],E),t.b=E},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return y});var r=n(9),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var m=function(){function e(){p(this,e),this.map={}}return f(e,[{key:"entries",value:function(){for(var e=[],t=0,n=Object.keys(this.map);t<n.length;t++){var r=n[t],o=!0,a=!1,i=void 0;try{for(var u,l=this.map[r][Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;e.push(c)}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}}return e}},{key:"set",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.getEntry(n);return o?(o.value=e,!1):(this.getFolder(n).push({key:n,value:e}),!0)}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.getEntry(t);return r?r.value:void 0}},{key:"has",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!!this.getEntry(t)}},{key:"getEntry",value:function(e){return this.getFolder(e).find(function(t){return o.a.isEqual(t.key,e)})}},{key:"getFolder",value:function(e){var t=function(e){return e.join(",")}(e);return this.map[t]=this.map[t]||[],this.map[t]}}],[{key:"from",value:function(t,n){var r=new e,o=!0,a=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r.set.apply(r,[c].concat(s(n(c))))}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}return r}}]),e}(),h=function(e){function t(){return p(this,t),i(this,u(t).apply(this,arguments))}return l(t,m),t}(),y=function(e){function t(){return p(this,t),i(this,u(t).apply(this,arguments))}return l(t,m),f(t,[{key:"increment",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.has.apply(this,t)?this.set.apply(this,[this.get.apply(this,t)+1].concat(t)):this.set.apply(this,[1].concat(t))}}]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(503);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return r.createElement(o.b,{overlay:this.props.tooltip},r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:Object.assign({},{color:"#BB1700",cursor:"pointer"},this.props.style||{})}))}}])&&i(n.prototype,a),s&&i(n,s),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var r=n(0),o=n(782),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return function(t,n,r){return n in t&&t[n]instanceof e?null:new Error("Expecting ".concat(r," to receive {").concat(JSON.stringify(n),": ").concat(e.name,"} from context"))}}function d(e){return a()({store:p(e)},function(e){return{store:e.store}})}function f(e){var t;return(t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(o=[{key:"store",get:function(){return this.context.store}}])&&u(n.prototype,o),a&&u(n,a),t}()).contextTypes={store:p(e)},t}},function(e,t,n){"use strict";var r,o=n(0),a=n(510),i=n(813),u=(n(801),n(7)),l=n(579),c=n.n(l),s=n(9),p=n(18),d=n(44),f=n.n(d),m=n(16),h=n(151),y=n(617),g=n(503);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":I(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},E=(C(r={},"desc",i.b.DESC),C(r,"asc",i.b.ASC),r),P=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=v(this,S(t).call(this,e)))._sortBy=e.sortBy;var r=s.find(n.props.columns,function(e){return e.name===n._sortBy});return n._sortDirection=void 0===e.sortDirection?s.isUndefined(r)?"desc":r.defaultSortDirection||"desc":e.sortDirection,n.initDataStore(),n}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.updateDataStore(e)}},{key:"updateDataStore",value:function(e){this._store.setProps({columns:e.columns,data:e.data,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"initDataStore",value:function(){this._store=new a.a({columns:this.props.columns,data:this.props.data,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"rowClassName",value:function(e){var t=e.index;return t>-1&&this.isSelectedRow(this._store.dataStore.sortedFilteredData[t])?f()(c.a.row,c.a.highlightedRow):t<0?c.a.headerRow:f()(c.a.row,t%2==0?c.a.evenRow:c.a.oddRow)}},{key:"rowGetter",value:function(e){var t=e.index;return this._store.dataStore.sortedFilteredData[t]}},{key:"getColumn",value:function(e){return s.keyBy(this.props.columns,function(e){return e.name})[e]}},{key:"sort",value:function(e){var t=e.sortBy;this._store.defaultHeaderClick(this.getColumn(t)),this._sortBy=t,this._sortDirection=this._store.dataStore.sortAscending?"asc":"desc",this.props.afterSorting&&this.props.afterSorting(this._sortBy,this._sortDirection)}},{key:"onFilterTextChange",value:function(){var e=this;return Object(y.a)(function(t){e._store.setFilterString(t)},400)}},{key:"afterSelectingRows",value:function(){s.isFunction(this.props.afterSelectingRows)&&this.props.afterSelectingRows()}},{key:"isSelectedRow",value:function(e){return!!s.isFunction(this.props.isSelectedRow)&&this.props.isSelectedRow(e)}},{key:"onAddAll",value:function(){this.props.addAll&&this.props.addAll(this._store.dataStore.sortedFilteredData)}},{key:"onRemoveAll",value:function(){this.props.removeAll&&this.props.removeAll(this._store.dataStore.sortedFilteredData)}},{key:"setInputRef",value:function(e){this.inputElement=e}},{key:"componentDidMount",value:function(){this.props.autoFocusSearchAfterRendering&&this.inputElement.focus()}},{key:"getControls",value:function(){return o.createElement("div",{className:f()(c.a.controls)},!this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),className:f()("form-control",c.a.tableSearchInput)}),o.createElement(m.If,{condition:this.props.showAddRemoveAllButtons},o.createElement("div",{className:"btn-group",role:"group"},this.props.addAll&&o.createElement("button",{className:"btn btn-default btn-xs",onClick:this.onAddAll,"data-test":"fixed-header-table-add-all"},"Select all".concat(this.props.showSelectableNumber?" (".concat(this._store.dataStore.sortedFilteredData.length,")"):"")),this.props.removeAll&&o.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-remove-all",onClick:this.onRemoveAll,disabled:this.props.removeAllDisabled},"Deselect all"))),o.createElement(m.If,{condition:this.props.showSelectSamples},o.createElement("button",{className:f()("btn btn-primary btn-xs",c.a.controlsBtn),"data-test":"fixed-header-table-select-sample",onClick:this.afterSelectingRows},"Select Samples")),this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),ref:this.setInputRef,"data-test":"fixed-header-table-search-input",className:f()("form-control",c.a.tableSearchInput)}))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:c.a.studyViewTablesTable},this.props.showControls&&this.props.showControlsAtTop&&this.getControls(),o.createElement(i.c,{width:this.props.width,height:this.props.height,headerHeight:this.props.headerHeight,rowHeight:this.props.rowHeight,rowCount:this._store.dataStore.sortedFilteredData.length,rowGetter:this.rowGetter,className:c.a.studyViewTablesBody,rowClassName:this.rowClassName,headerClassName:c.a.headerColumn,sort:this.sort,sortDirection:E[this._sortDirection],sortBy:this._sortBy},this.props.columns.map(function(t,n){return o.createElement(i.a,{key:t.name,label:t.name,dataKey:t.name,width:Number(t.width),className:c.a.columnCell,headerRenderer:e.columnHeaders[n],cellRenderer:function(e){return t.render(e.rowData)}})})),this.props.showControls&&!this.props.showControlsAtTop&&this.getControls())}},{key:"columnHeaders",get:function(){var e=this;return this.props.columns.map(function(t){return function(n){var r=[];t.headerRender?r.push(t.headerRender(t.name)):r.push(o.createElement("span",{key:t.name},t.name)),t.name===e._sortBy&&r.push(o.createElement("i",{className:f()(c.a.headerSortingIcon,"fa","desc"===e._sortDirection?"fa-sort-desc":"fa-sort-asc")}));var a=o.createElement("div",{style:{display:"flex"}},r);return t.tooltip?o.createElement(g.b,{placement:"top",overlay:t.tooltip},a):a}})}}])&&b(n.prototype,r),u&&b(n,u),t}();P.defaultProps={showControls:!0,showControlsAtTop:!1,showSelectSamples:!1,showAddRemoveAllButtons:!1,autoFocusSearchAfterRendering:!1,width:398,height:350,headerHeight:25,rowHeight:25,showSelectableNumber:!1,sortBy:""},A([u.observable],P.prototype,"_sortBy",void 0),A([u.observable],P.prototype,"_sortDirection",void 0),A([h.default],P.prototype,"rowClassName",null),A([h.default],P.prototype,"rowGetter",null),A([h.default],P.prototype,"getColumn",null),A([h.default,u.action],P.prototype,"sort",null),A([h.default,u.action],P.prototype,"onFilterTextChange",null),A([h.default],P.prototype,"afterSelectingRows",null),A([h.default],P.prototype,"isSelectedRow",null),A([h.default],P.prototype,"onAddAll",null),A([h.default],P.prototype,"onRemoveAll",null),A([u.computed],P.prototype,"columnHeaders",null),A([h.default],P.prototype,"setInputRef",null),P=A([p.observer],P),t.a=P},,,function(e,t,n){"use strict";var r=n(0),o=n(16),a=(n(698),"https://oncokb.org");function i(){return r.createElement("a",{href:"".concat(a,"/cancerGenes"),target:"_blank"},"OncoKB Cancer Gene List")}var u=n(579),l=n.n(u),c=n(44),s=n.n(c),p=n(503),d=n(514),f=n(660),m=n(507),h=n(9);n.d(t,"e",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"a",function(){return v}),n.d(t,"f",function(){return S}),n.d(t,"d",function(){return T}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return A}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return P});var y="*";function g(e,t){return[e,t].join(y)}function b(e){var t=e.split(y);return{entrezGeneId:Number(t[0]),hugoGeneSymbol:t[1]}}function v(e,t,n){return[e,t,n].join(y)}function S(e){var t=e.split(y);return{entrezGeneId:Number(t[0]),hugoGeneSymbol:t[1],alteration:Number(t[2])}}function T(e,t,n,o,a){return r.createElement("div",{style:{marginLeft:e},className:l.a.displayFlex,"data-test":"gene-column-header"},n&&r.createElement(p.b,{mouseEnterDelay:0,placement:"top",overlay:I(o)},r.createElement("div",{onClick:a,className:l.a.displayFlex},function(e){return r.createElement("span",{"data-test":"cancer-gene-filter",className:s()(l.a.cancerGeneIcon,l.a.displayFlex),style:{color:e?d.h:d.g}},r.createElement("i",{className:"fa fa-filter"}))}(o))),t)}function C(e,t,n,u,l,c){return r.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:300,fontSize:12}},r.createElement("span",null,function(e,t,n,u,l){if(t){var c="";if(u||l){c=" as a ";var s=[];u&&s.push("oncogene"),l&&s.push("tumor suppressor gene"),c="".concat(c," ").concat(s.join(" and "))}return r.createElement("span",null,r.createElement(o.If,{condition:n},r.createElement(o.Then,null,r.createElement("a",{href:"".concat(a,"/gene/").concat(e),target:"_blank"},e)),r.createElement(o.Else,null,r.createElement("span",null,e))),r.createElement("span",null," is included in the "),i(),(u||l)&&r.createElement("span",null,c),".")}}(e,n,u,l,c)))}function I(e){return e?r.createElement("span",null,"Filtered by ",i(),". Click to show all genes."):r.createElement("span",null,"Showing all genes. Click to filter by ",i(),".")}function A(e,t,n,o,a,i){var u="mutation"===e?"mutations":"cna"===e?"copy number alterations":"fusions";return r.createElement(p.b,{placement:"right",overlay:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"column"},"data-test":"freq-cell-tooltip"},r.createElement("span",null,"# of samples profiled for ".concat(u," in this gene: ").concat(t.toLocaleString())),r.createElement(f.a,{genePanelIds:o,toggleModal:a}))},destroyTooltipOnHide:!0},r.createElement("span",{"data-test":"freq-cell",style:i},Object(m.N)(n/t*100)))}function E(e,t,n){return h.some(t.concat(n),function(t){return t.uniqueKey===e})}function P(e,t){return h.some(t,function(t){return t.uniqueKey===e})}},function(e,t,n){"use strict";var r=n(9),o=n(7);function a(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}function i(e,t,n){n||(n=a);var r=!1,o=!1,i=!1,u=!0,l=!1,c=void 0;try{for(var s,p=e[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){if("not"!==s.value.type){o=!0;break}}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}o||(r=!0);var d=!0,f=!1,m=void 0;try{for(var h,y=e[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value;if("not"===g.type){if(n(g.data,t)){r=!1,i=!0;break}}else if("and"===g.type){o=!0;var b=!0,v=!0,S=!1,T=void 0;try{for(var C,I=g.data[Symbol.iterator]();!(v=(C=I.next()).done);v=!0){var A=C.value;b=b&&n(A,t)}}catch(e){S=!0,T=e}finally{try{v||null==I.return||I.return()}finally{if(S)throw T}}r=r||b}}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}return{match:r,forced:i}}var u=n(73),l=n(2),c=n(84),s=n.n(c);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v});var g=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b="pan_can_atlas",v=function(){function e(t){f(this,e),this.store=t}return h(e,[{key:"getMetadata",value:function(e){return this.store.treeData.map_node_meta.get(e)}},{key:"cancerTypeContainsSelectedStudies",value:function(e){var t=this.getMetadata(e).descendantStudies;return r.intersection(this.store.selectableSelectedStudies,t).length>0}},{key:"getDepth",value:function(e){return this.getMetadata(e).ancestors.length}},{key:"isHighlighted",value:function(e){return!!this.store.searchText&&!!this.map_node_filterBySearchText.get(e)}},{key:"map_node_filterByDepth",get:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var o,a=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=d(o.value,2),u=i[0],l=i[1],c=!0;l.isCancerType&&(!l.descendantStudies.length||l.ancestors.length>this.store.maxTreeDepth&&!u.alwaysVisible)&&(c=!1),e.set(u,c)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}},{key:"map_node_filterBySearchText",get:function(){var e=function(e){e=e.toLowerCase().trim().split(/\s+/g).join(" ");for(var t,n,r=[],o=0;o<e.length;)'"'===e[o]?-1===(n=e.indexOf('"',o+1))?(r.push(e.substring(o+1)),o=e.length):(r.push(e.substring(o+1,n)),o=n+1):" "===e[o]?o+=1:"-"===e[o]?(r.push("-"),o+=1):-1===(t=e.indexOf(" ",o))?(r.push(e.substring(o)),o=e.length):(r.push(e.substring(o,t)),o=t+1);var a,i,u=[];for(o=0;o<r.length;)"-"===r[o]?(o<r.length-1&&u.push({type:"not",data:r[o+1]}),o+=2):(a=r.indexOf("or",o),i=r.indexOf("-",o),-1===a&&-1===i?(u.push({type:"and",data:r.slice(o)}),o=r.length):-1===a&&i>0?(u.push({type:"and",data:r.slice(o,i)}),o=i):a>0&&-1===i?(u.push({type:"and",data:r.slice(o,a)}),o=a+1):a<i?(u.push({type:"and",data:r.slice(o,a)}),o=a+1):(u.push({type:"and",data:r.slice(o,i)}),o=i));return u}(this.store.searchText),t=new Map,n=!0,r=!1,o=void 0;try{for(var a,u=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=d(a.value,2),c=l[0],s=(S=l[1]).searchTerms;c.hasOwnProperty("studyId")&&(s+=c.studyId?c.studyId:""),t.set(c,i(e,s))}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}var f=new Map,m=!0,h=!1,y=void 0;try{for(var g,b=this.store.treeData.map_node_meta.entries()[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var v=d(g.value,2),S=(c=v[0],v[1]);if(!f.has(c)){for(var T=!1,C=0,I=[c].concat(p(S.ancestors),p(S.priorityCategories));C<I.length;C++){var A=I[C],E=t.get(A);if(!E.match&&E.forced){T=!1;break}T=T||E.match}if(f.set(c,T),T&&!S.isCancerType)for(var P=0,k=[S.ancestors,S.priorityCategories];P<k.length;P++){var _=k[P],w=!0,O=!1,M=void 0;try{for(var R,N=_[Symbol.iterator]();!(w=(R=N.next()).done);w=!0){var D=R.value;f.set(D,!0)}}catch(e){O=!0,M=e}finally{try{w||null==N.return||N.return()}finally{if(O)throw M}}}}}}catch(e){h=!0,y=e}finally{try{m||null==b.return||b.return()}finally{if(h)throw y}}return f}},{key:"map_node_filterBySelectedCancerTypes",get:function(){var e=new Map;if(this.store.selectedCancerTypes.length){var t=!0,n=!1,r=void 0;try{for(var o,a=this.store.selectedCancerTypes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,u=this.getMetadata(i);e.set(i,!0);for(var l=0,c=[u.ancestors,u.descendantCancerTypes,u.descendantStudies];l<c.length;l++){var s=c[l],p=!0,d=!1,f=void 0;try{for(var m,h=s[Symbol.iterator]();!(p=(m=h.next()).done);p=!0){var y=m.value;e.set(y,!0)}}catch(e){d=!0,f=e}finally{try{p||null==h.return||h.return()}finally{if(d)throw f}}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}else{var g=!0,b=!1,v=void 0;try{for(var S,T=this.store.treeData.map_node_meta.keys()[Symbol.iterator]();!(g=(S=T.next()).done);g=!0){var C=S.value;e.set(C,!0)}}catch(e){b=!0,v=e}finally{try{g||null==T.return||T.return()}finally{if(b)throw v}}}return e}},{key:"map_node_filterBySelectedStudies",get:function(){var e=new Map;if(this.store.selectableSelectedStudies.length){var t=!0,n=!1,r=void 0;try{for(var o,a=this.store.selectableSelectedStudies[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,u=this.store.treeData.map_node_meta.get(i);e.set(i,!0);for(var l=0,c=[u.descendantStudies,u.ancestors,u.priorityCategories];l<c.length;l++){var s=c[l],p=!0,d=!1,f=void 0;try{for(var m,h=s[Symbol.iterator]();!(p=(m=h.next()).done);p=!0){var y=m.value;e.set(y,!0)}}catch(e){d=!0,f=e}finally{try{p||null==h.return||h.return()}finally{if(d)throw f}}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}return e}},{key:"mainView",get:function(){return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySearchText,this.map_node_filterBySelectedCancerTypes])}},{key:"cancerTypeListView",get:function(){return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySearchText])}},{key:"selectedStudiesView",get:function(){var e=this;return new S(this.store,[this.map_node_filterByDepth,this.map_node_filterBySelectedStudies,{get:function(t){return!e.getMetadata(t).isPriorityCategory}}])}}]),e}();g([u.cached],v.prototype,"map_node_filterByDepth",null),g([u.cached],v.prototype,"map_node_filterBySearchText",null),g([u.cached],v.prototype,"map_node_filterBySelectedCancerTypes",null),g([u.cached],v.prototype,"map_node_filterBySelectedStudies",null),g([o.computed],v.prototype,"mainView",null),g([o.computed],v.prototype,"cancerTypeListView",null),g([o.computed],v.prototype,"selectedStudiesView",null);var S=function(){function e(t,n){var r=this;f(this,e),this.store=t,this.filters=n,this.nodeFilter=function(e){return r.filters.every(function(t){return!!t.get(e)})}}return h(e,[{key:"getMetadata",value:function(e){return this.store.treeData.map_node_meta.get(e)}},{key:"getChildCancerTypes",value:function(e,t){var n=this.getMetadata(e);return(n.ancestors.length<this.store.maxTreeDepth||!t&&e.alwaysVisible?n.childCancerTypes:[]).filter(this.nodeFilter)}},{key:"getChildCancerStudies",value:function(e){var t=this.getMetadata(e),n=[];if(t.ancestors.length<this.store.maxTreeDepth)n=t.childStudies;else if(n=t.descendantStudies,e.alwaysVisible){var o=r.chain(t.descendantCancerTypes).filter(function(e){return e.alwaysVisible}).map(function(e){return e.cancerTypeId}).value();n=r.filter(n,function(e){return!o.includes(e.cancerTypeId)})}return n.filter(this.nodeFilter)}},{key:"getDescendantCancerStudies",value:function(e){return this.getMetadata(e).descendantStudies.filter(this.nodeFilter)}},{key:"getCheckboxProps",value:function(e){var t=this;if(this.getMetadata(e).isCancerType){var n=(this.store.selectableSelectedStudyIds||[]).map(function(e){return t.store.treeData.map_studyId_cancerStudy.get(e)}),o=this.getDescendantCancerStudies(e),a=r.intersection(o,n),i=a.length>0;return{checked:i,indeterminate:i&&a.length!=o.length}}var u=e;return{checked:!!this.store.selectableSelectedStudyIds.find(function(e){return e==u.studyId}),disabled:this.store.isDeletedVirtualStudy(u.studyId)}}},{key:"isCheckBoxDisabled",value:function(e){if(this.getMetadata(e).isCancerType)return!1;var t=e;return!!this.store.isDeletedVirtualStudy(t.studyId)}},{key:"clearAllSelection",value:function(){this.store.selectableSelectedStudyIds=[]}},{key:"onCheck",value:function(e,t){var n;this.getMetadata(e).isCancerType?this.store.forDownloadTab||(n=this.getDescendantCancerStudies(e).map(function(e){return e.studyId})):n=[e.studyId],n&&this.handleCheckboxStudyIds(n,t)}},{key:"getSelectionReport",value:function(){var e=this,t=this.store.selectableSelectedStudyIds||[],n=t.map(function(t){return e.store.treeData.map_studyId_cancerStudy.get(t)}),o=this.getDescendantCancerStudies(this.store.treeData.rootCancerType);return{selectableSelectedStudyIds:t,selectableSelectedStudies:n,shownStudies:o,shownAndSelectedStudies:r.intersection(o,n)}}},{key:"quickSelectButtons",value:function(e){if(!e)return{};try{return l.a.parseConfigFormat(e)}catch(e){return{}}}},{key:"toggleAllFiltered",value:function(){var e=this,t=this.getSelectionReport(),n=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies),o=t.shownAndSelectedStudies,a=[];a=n.length===o.length?r.without.apply(r,[this.store.selectableSelectedStudyIds].concat(p(n.map(function(e){return e.studyId})))):r.union(this.store.selectableSelectedStudyIds,n.map(function(e){return e.studyId})),this.store.selectableSelectedStudyIds=a.filter(function(t){return!r.includes(e.store.deletedVirtualStudies,t)})}},{key:"selectAllMatchingStudies",value:function(e){var t=this.getSelectionReport(),n=(t.selectableSelectedStudyIds,t.selectableSelectedStudies,t.shownStudies);t.shownAndSelectedStudies;this.store.selectableSelectedStudyIds=n.map(function(e){return e.studyId}).filter(function(t){return r.isArray(e)?e.includes(t):t.includes(e)})}},{key:"handleCheckboxStudyIds",value:function(e,t){var n=this,o=this.store.selectableSelectedStudyIds;o=t?r.union(o,e):r.difference(o,e),this.store.selectableSelectedStudyIds=o.filter(function(e){return!r.includes(n.store.deletedVirtualStudies,e)})}},{key:"isFiltered",get:function(){return this.store.selectedCancerTypeIds.length>0||this.store.searchText.length>0}}]),e}();g([o.action],S.prototype,"clearAllSelection",null),g([o.action],S.prototype,"onCheck",null),g([o.computed],S.prototype,"isFiltered",null),g([s.a],S.prototype,"quickSelectButtons",null),g([o.action],S.prototype,"toggleAllFiltered",null),g([o.action],S.prototype,"selectAllMatchingStudies",null)},,function(e,t,n){"use strict";var r=n(0),o=(n(706),n(44)),a=n.n(o),i=n(18);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.headers,n=e.rows,o=e.className,i=e.noRowsText,u=n.length>0?n:[r.createElement("tr",{key:"0"},r.createElement("td",{style:{textAlign:"center"},colSpan:t.length},i||"There are no results."))];return r.createElement("table",{className:a()("simple-table table table-striped table-border-top",o)},r.createElement("thead",null,r.createElement("tr",null,t)),r.createElement("tbody",null,u))}}])&&u(n.prototype,o),i&&u(n,i),t}();f=d([i.observer],f),t.a=f},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__3H61V",framedImage:"styles-module__framedImage__3vt8Y",absolutePanel:"styles-module__absolutePanel__3vVTX",selectedInfoLoadingIndicator:"styles-module__selectedInfoLoadingIndicator__lMgyy",selectedInfo:"styles-module__selectedInfo__1Vuvh",selectedInfoCheckbox:"styles-module__selectedInfoCheckbox__1dPUi",mainTabs:"styles-module__mainTabs__3BkVf",studyViewSurvivalPlot:"styles-module__studyViewSurvivalPlot__2J73a",studyViewSurvivalPlotTitle:"styles-module__studyViewSurvivalPlotTitle__3oyYN",studyViewSurvivalPlotBody:"styles-module__studyViewSurvivalPlotBody__38PYq",studyViewAutoMargin:"styles-module__studyViewAutoMargin__ST9aM",studyViewLoadingIndicator:"styles-module__studyViewLoadingIndicator__3qAeE",userSelections:"styles-module__userSelections__2SV9k",parentGroupLogic:"styles-module__parentGroupLogic__3_MlA",summaryClearAllBtn:"styles-module__summaryClearAllBtn__2ZLVo",filterClinicalAttrName:"styles-module__filterClinicalAttrName__1bFhQ",summary:"styles-module__summary___VCN0",description:"styles-module__description__2DLbO",actionButtons:"styles-module__actionButtons__3xgw0",studyFilterResult:"styles-module__studyFilterResult__2WKz_",titleMeta:"styles-module__titleMeta__2ZbFA"}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return u});var r,o,a=n(9);!function(e){e.MISSENSE="missense",e.FRAME_SHIFT_INS="frame_shift_ins",e.FRAME_SHIFT_DEL="frame_shift_del",e.FRAMESHIFT="frameshift",e.NONSENSE="nonsense",e.SPLICE_SITE="splice_site",e.NONSTART="nonstart",e.NONSTOP="nonstop",e.IN_FRAME_DEL="in_frame_del",e.IN_FRAME_INS="in_frame_ins",e.INFRAME="inframe",e.TRUNCATING="truncating",e.FUSION="fusion",e.SILENT="silent",e.OTHER="other"}(r||(r={})),function(e){e.MISSENSE="missense",e.TRUNCATING="truncating",e.INFRAME="inframe",e.OTHER="other"}(o||(o={}));var i={missense_mutation:r.MISSENSE,missense:r.MISSENSE,missense_variant:r.MISSENSE,frame_shift_ins:r.FRAME_SHIFT_INS,frame_shift_del:r.FRAME_SHIFT_DEL,frameshift:r.FRAMESHIFT,frameshift_deletion:r.FRAME_SHIFT_DEL,frameshift_insertion:r.FRAME_SHIFT_INS,de_novo_start_outofframe:r.FRAMESHIFT,frameshift_variant:r.FRAMESHIFT,nonsense_mutation:r.NONSENSE,nonsense:r.NONSENSE,stopgain_snv:r.NONSENSE,stop_gained:r.NONSENSE,splice_site:r.SPLICE_SITE,splice:r.SPLICE_SITE,"splice site":r.SPLICE_SITE,splicing:r.SPLICE_SITE,splice_site_snp:r.SPLICE_SITE,splice_site_del:r.SPLICE_SITE,splice_site_indel:r.SPLICE_SITE,splice_region_variant:r.SPLICE_SITE,splice_region:r.SPLICE_SITE,translation_start_site:r.NONSTART,initiator_codon_variant:r.NONSTART,start_codon_snp:r.NONSTART,start_codon_del:r.NONSTART,nonstop_mutation:r.NONSTOP,stop_lost:r.NONSTOP,inframe_del:r.IN_FRAME_DEL,inframe_deletion:r.IN_FRAME_DEL,in_frame_del:r.IN_FRAME_DEL,in_frame_deletion:r.IN_FRAME_DEL,inframe_ins:r.IN_FRAME_INS,inframe_insertion:r.IN_FRAME_INS,in_frame_ins:r.IN_FRAME_INS,in_frame_insertion:r.IN_FRAME_INS,indel:r.IN_FRAME_DEL,nonframeshift_deletion:r.INFRAME,nonframeshift:r.INFRAME,"nonframeshift insertion":r.INFRAME,nonframeshift_insertion:r.INFRAME,targeted_region:r.OTHER,inframe:r.INFRAME,truncating:r.TRUNCATING,feature_truncation:r.TRUNCATING,fusion:r.FUSION,silent:r.SILENT,synonymous_variant:r.SILENT,any:r.OTHER,other:r.OTHER};function u(e){return function(e){switch(e){case r.MISSENSE:return o.MISSENSE;case r.FRAME_SHIFT_INS:case r.FRAME_SHIFT_DEL:case r.FRAMESHIFT:case r.NONSENSE:case r.SPLICE_SITE:case r.NONSTOP:case r.TRUNCATING:return o.TRUNCATING;case r.IN_FRAME_INS:case r.IN_FRAME_DEL:case r.INFRAME:return o.INFRAME;case r.NONSTART:case r.FUSION:case r.SILENT:case r.OTHER:default:return o.OTHER}}(l(e))}function l(e){return i[e.toLowerCase()]||r.OTHER}a.chain(i).values().uniq().value();t.b=l},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(154),o=n(505);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return 0===e.length?Promise.reject("No pdb ids given"):r.a.fetchPdbHeaderPOST({pdbIds:e})}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,u(t).call(this,function(e){return e},function(e){return e.pdbId},c))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var r=n(504),o=n(7),a=n(521),i=n(161),u=n(9),l=n.n(u);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.samplesSpecification=[],this.selectedStudyIds=[],this.profileFilter=0,this.selectedMolecularProfileIds=[],this.genesetIds=[],this.treatmentIds=[],this.cohortIdsList=[],this.oqlQuery=""}var t,n,r;return t=e,(n=[{key:"hash",get:function(){var e=this,t=["samplesSpecification","selectedStudyIds","sampleListCategory","profileFilter","selectedMolecularProfileIds","rppaScoreThreshold","zScoreThreshold","genesetIds","cohortIdsList","oqlQuery"].reduce(function(t,n){return"".concat(t,",").concat(n,":").concat(e[n])},"");return Object(i.a)(t)}},{key:"zScoreThreshold",get:function(){return void 0===this._zScoreThreshold?2:this._zScoreThreshold},set:function(e){Number.isNaN(e)||(this._zScoreThreshold=e)}},{key:"rppaScoreThreshold",get:function(){return void 0===this._rppaScoreThreshold?2:this._rppaScoreThreshold},set:function(e){Number.isNaN(e)||(this._rppaScoreThreshold=e)}}])&&c(t.prototype,n),r&&c(t,r),e}();function f(e,t,n,o,i){var u={};e.samplesSpecification&&l.a.isEqual(e.samplesSpecification.slice(),n)||(e.samplesSpecification=n),e.selectedStudyIds!==o&&(e.selectedStudyIds=o),t.case_set_id&&[r.d.w_mut,r.d.w_cna,r.d.w_mut_cna].includes(t.case_set_id)?e.sampleListCategory!==t.case_set_id&&(e.sampleListCategory=t.case_set_id):e.sampleListCategory=void 0,void 0!==t.data_priority&&parseInt(t.data_priority,10)!==e.profileFilter&&(e.profileFilter=parseInt(t.data_priority,10));var c=Object(a.l)(t);if(e.selectedMolecularProfileIds&&l.a.isEqual(e.selectedMolecularProfileIds.slice(),c)||(e.selectedMolecularProfileIds=c),l.a.isEqual(t.RPPA_SCORE_THRESHOLD,e.rppaScoreThreshold)||(e.rppaScoreThreshold=parseFloat(t.RPPA_SCORE_THRESHOLD)),l.a.isEqual(t.Z_SCORE_THRESHOLD,e.zScoreThreshold)||(e.zScoreThreshold=parseFloat(t.Z_SCORE_THRESHOLD)),t.geneset_list){var s=t.geneset_list.trim().length?t.geneset_list.trim().split(/\s+/):[];l.a.isEqual(s,e.genesetIds)||(e.genesetIds=s)}if(t.treatment_list){var p=t.treatment_list.trim().length?t.treatment_list.trim().split(/;/):[];l.a.isEqual(p,e.treatmentIds)||(e.treatmentIds=p)}return e.cohortIdsList&&l.a.isEqual(l.a.sortBy(e.cohortIdsList),l.a.sortBy(o))||(e.cohortIdsList=o,u.cohortIdsList=!0),e.oqlQuery!==i&&(e.oqlQuery=i),u}p([o.observable.ref],d.prototype,"samplesSpecification",void 0),p([o.observable],d.prototype,"selectedStudyIds",void 0),p([o.observable],d.prototype,"sampleListCategory",void 0),p([o.observable],d.prototype,"profileFilter",void 0),p([o.observable],d.prototype,"selectedMolecularProfileIds",void 0),p([o.observable],d.prototype,"_rppaScoreThreshold",void 0),p([o.observable],d.prototype,"_zScoreThreshold",void 0),p([o.observable],d.prototype,"genesetIds",void 0),p([o.observable],d.prototype,"treatmentIds",void 0),p([o.observable],d.prototype,"cohortIdsList",void 0),p([o.observable],d.prototype,"oqlQuery",void 0),p([o.computed],d.prototype,"hash",null),p([o.computed],d.prototype,"zScoreThreshold",null),p([o.computed],d.prototype,"rppaScoreThreshold",null)},,function(e,t,n){"use strict";n.d(t,"f",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return s}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return S}),n.d(t,"k",function(){return T});var r=n(664),o=n(604),a=n.n(o),i=n(9);function u(e){var t=[],n=1;return e.forEach(function(r,o){if(r.status){var a=e.length-o,i=n*((a-1)/a);n=i,t.push(i)}else t.push(n)}),t}function l(e,t){for(var n="NA",r=0;r<t.length;r++)if(t[r]<=.5){n=e[r].months.toString();break}return n}function c(e,t){var n=[];return n.push({x:0,y:100}),e.forEach(function(e,r){n.push({x:e.months,y:100*t[r]})}),n}function s(e,t,n){return e.map(function(e,r){var o={x:e.months,y:100*t[r],patientId:e.patientId,studyId:e.studyId,uniquePatientKey:e.uniquePatientKey,status:e.status};return n&&(o.group=n),o})}function p(e,t,n){var r,o=s(e,t,n),a=[];return e.forEach(function(e,n){var i=t[n],u=1;r&&i!==r&&(u=0),r=i,a.push(Object.assign({},o[n],{opacity:u}))}),a}function d(e,t){return e&&t?[e.length,e.filter(function(e){return!0===e.status}).length,l(e,t)]:[0,0,"N/A"]}function f(e,t){for(var n=0,r=0,o=0,i=0,u=0;n<e.length&&r<t.length;){var l=0,c=0,s=e.length-n,p=t.length-r,d=e[n],f=t[r];(d.months<f.months||d.months===f.months)&&(d.status&&(l=1),n+=1),(d.months>f.months||d.months===f.months)&&(f.status&&(c=1),r+=1);var m=l+c,h=s+p;o+=l,i+=s/h*m,u+=m*(h-m)*s*p/(h*h*(h-1))}var y=(o-i)*(o-i)/u;return 1-a.a.chisquare.cdf(y,1)}function m(e,t){var n=t,o=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;n+="\n\n",n+=c.title,n+="\n",n+=Object(r.a)(h(c.scatterData))}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}return n}function h(e){var t=[];return e.map(function(n,r){t.push({"Case ID":n.patientId,"Study ID":n.studyId,"Number at Risk":e.length-r,Status:n.status?"deceased":"censored","Survival Rate":n.y/100,"Time (months)":n.x})}),t}function y(e,t){var n=i.maxBy(e,"x"),r=i.minBy(e,"x"),o=i.maxBy(e,"y"),a=i.minBy(e,"y");if(t.xDenominator<=0||t.yDenominator<=0)return e;var u=((n?n.x:0)-(r?r.x:0))/t.xDenominator,l=((o?o.y:0)-(a?a.y:0))/t.yDenominator,c=Math.hypot(u,l),s={x:0,y:0},p={x:0,y:0};return e.filter(function(e,t){var n=i.isUndefined(e.opacity)||e.opacity>0;if(0==t)return p.x=e.x,p.y=e.y,s.x=e.x,s.y=e.y,!0;return(n?Math.hypot(e.x-s.x,e.y-s.y):Math.hypot(e.x-p.x,e.y-p.y))>c&&(p.x=e.x,p.y=e.y,n&&(s.x=e.x,s.y=e.y),!0)})}function g(e,t,n){var r=i.cloneDeep(e);return i.forEach(r,function(e){e.numOfCases>n.threshold&&(t&&(e.scatter=e.scatter.filter(function(e){return b(t,e)}),e.scatterWithOpacity=e.scatterWithOpacity.filter(function(e){return b(t,e)})),e.scatter=y(e.scatter,n),e.scatterWithOpacity=y(e.scatterWithOpacity,n),e.numOfCases=e.scatter.length)}),r}function b(e,t){return t.x<=e.x[1]&&t.x>=e.x[0]&&t.y<=e.y[1]&&t.y>=e.y[0]}var v="Altered",S="Unaltered";function T(e,t){var n={},r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){n[i.value.uniquePatientKey]=[v]}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}var l=!0,c=!1,s=void 0;try{for(var p,d=t[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){n[p.value.uniquePatientKey]=[S]}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return{patientSurvivals:e.concat(t),patientToAnalysisGroups:n}}},function(e,t,n){e.exports=n(24)(1017)},function(e,t,n){"use strict";var r=n(0),o=n(7),a=n(18),i=n(692),u=n.n(i),l=n(9),c=n(570),s=n(507),p=n(67),d=n(643),f=n(151),m=n(44),h=n.n(m),y=n(567),g=n(562);function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},P=function(e){function t(){return v(this,t),S(this,T(t).apply(this,arguments))}return C(t,d["a"]),t}(),k=function(e){function t(){var e;return v(this,t),(e=S(this,T(t).apply(this,arguments)))._columns=[{name:"Name",render:function(t){return r.createElement("div",{className:h()(u.a.option,"add-chart-option"),"data-test":"add-chart-option-".concat(t.label.toLowerCase().replace(/\s/g,"-"))},r.createElement(c.a,{checked:t.selected,disabled:t.disabled,labelProps:{className:h()(u.a.label,t.disabled?u.a.labelDisabled:"")},inputProps:{className:u.a.input},onChange:function(){return e.onOptionChange(t)}},r.createElement(y.a,{text:t.label})))},filter:function(e,t,n){return e.label.toUpperCase().includes(n)},sortBy:function(e){return e.label},width:320,defaultSortDirection:"asc"},{name:"Freq",tooltip:r.createElement("span",null,Object(g.a)(e.props.frequencyHeaderTooltip,"% samples with data")),render:function(t){return r.createElement("span",{style:{display:"flex",flexDirection:"row-reverse"},className:h()(t.disabled?u.a.labelDisabled:"")},e.props.freqPromise.isComplete?Object(s.N)(t.freq):"")},sortBy:function(e){return e.freq},headerRender:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"row-reverse",flexGrow:1}},"Freq")},defaultSortDirection:"desc",width:60}],e}var n,o,a;return C(t,r["Component"]),n=t,(o=[{key:"getCurrentSelectedRows",value:function(){return this.options.filter(function(e){return e.selected})}},{key:"getCurrentSelectedRowKeys",value:function(){return this.getCurrentSelectedRows().map(function(e){return e.key})}},{key:"addAll",value:function(e){this.props.onAddAll(l.filter(e,function(e){return!e.disabled}).map(function(e){return e.key}))}},{key:"removeAll",value:function(e){this.props.onClearAll(e.map(function(e){return e.key}))}},{key:"onOptionChange",value:function(e){this.props.onToggleOption(e.key)}},{key:"render",value:function(){return r.createElement("div",{style:{display:"flex",flexDirection:"column"},"data-test":"add-by-type"},r.createElement(P,{width:380,height:this.tableHeight,columns:this._columns,data:this.options,showControlsAtTop:!0,addAll:this.addAll,removeAll:this.removeAll,showSelectableNumber:!0,showAddRemoveAllButtons:!0,autoFocusSearchAfterRendering:!0,removeAllDisabled:!l.some(this.options,function(e){return e.selected})}),this.props.freqPromise.isPending&&r.createElement("span",null,r.createElement(p.a,{isLoading:!0}),"Calculating data availability..."))}},{key:"options",get:function(){var e=this;if(this.props.freqPromise.isComplete){var t=l.reduce(this.props.options,function(t,n){var r=0===e.props.freqPromise.result[n.key];return t.push({label:n.label,key:n.key,disabled:r,selected:n.selected,freq:r?0:e.props.freqPromise.result[n.key]}),t},[]);return this.props.optionsGivenInSortedOrder?t:t.sort(function(e,t){return t.freq-e.freq||e.label.localeCompare(t.label)})}var n=this.props.options.map(function(e){return Object.assign({freq:100},e)});return this.props.optionsGivenInSortedOrder?n:n.sort(function(e,t){return e.label.localeCompare(t.label)})}},{key:"tableHeight",get:function(){return this.options.length>15?375:25*(this.options.length+1)}}])&&b(n.prototype,o),a&&b(n,a),t}();E([o.computed],k.prototype,"options",null),E([o.computed],k.prototype,"tableHeight",null),E([f.default],k.prototype,"getCurrentSelectedRows",null),E([f.default],k.prototype,"getCurrentSelectedRowKeys",null),E([f.default,o.action],k.prototype,"addAll",null),E([f.default,o.action],k.prototype,"removeAll",null),E([f.default,o.action],k.prototype,"onOptionChange",null),k=E([a.observer],k),t.a=k},function(e,t,n){"use strict";function r(e,t){var n=t.indexOf(e);if(-1===n)return t.concat([e]);var r=t.slice();return r.splice(n,1),r}function o(e,t){for(var n=[],r=0;r<t.length;r++)n.push(t[r]),r<t.length-1&&n.push(e);return n}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c});var r=n(9),o=n.n(r),a=n(513);function i(e,t){return e.filter(function(e){return t.isComparisonGroupSelected(e.uid)})}function u(e,t){var n=o.a.groupBy(e,function(e){return e.studyId}),r=t?o.a.groupBy(t,function(e){return e.studyId}):{};return o.a.uniq(Object.keys(n).concat(Object.keys(r))).map(function(e){var o={id:e,samples:(n[e]||[]).map(function(e){return e.sampleId})};return t&&(o.patients=(r[e]||[]).map(function(e){return e.patientId})),o})}function l(e,t,n){return{name:e,description:"",studies:u(t),origin:n}}function c(e,t){e=Object.assign({},e);var n=Object(a.x)([e]),r=o.a.uniqWith(n.concat(t),function(e,t){return e.studyId===t.studyId&&e.sampleId===t.sampleId});return e.studies=u(r),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m});var r=n(0),o=n(82),a=n(18),i=n(67);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=function(e){var t=e.genePanelIds,n=e.toggleModal;return t.length>0?r.createElement("span",{style:{maxWidth:400}},"Gene panels:"," ",t.map(function(e,t){return[t>0&&", ",r.createElement("a",{key:e,"data-test":"gene-panel-linkout-".concat(e),href:"#",onClick:function(){n(e)}},e)]})):null},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props.genePanelCache.get({genePanelId:this.props.panelName});return r.createElement(o.Modal,{show:this.props.show,onHide:this.props.hide,keyboard:!0},r.createElement(o.Modal.Header,{closeButton:!0},r.createElement(o.Modal.Title,{"data-test":"gene-panel-modal-title"},this.props.panelName)),r.createElement(o.Modal.Body,{style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"}},this.props.show&&e.isPending&&r.createElement(i.a,{isLoading:!0}),this.props.show&&e.isComplete&&r.createElement("div",{"data-test":"gene-panel-modal-body"},e.result.genes.map(function(e){return r.createElement("p",{key:e.entrezGeneId},e.hugoGeneSymbol)}))),r.createElement(o.Modal.Footer,null,r.createElement(o.Button,{onClick:this.props.hide},"Close")))}}])&&u(n.prototype,a),p&&u(n,p),t}();m=d([a.observer],m)},function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"n",function(){return p}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"k",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"l",function(){return I}),n.d(t,"m",function(){return A}),n.d(t,"a",function(){return P});var r=n(9),o=n(504),a=n(529),i=n(574),u=n(521);function l(e,t,n){var r=[],a=[],i=[],u=[],l=[],c=[],s=!0,p=!1,d=void 0;try{for(var f,m=e.data[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var h=f.value,y=h.molecularProfileAlterationType,g=h.alterationSubType.toUpperCase();switch(y){case o.a.COPY_NUMBER_ALTERATION:g.length>0&&(i.push({type:g,value:h.value}),c.push("CNA"));break;case o.a.MRNA_EXPRESSION:g.length>0&&(l.push({type:g,value:h.value}),c.push("EXP"));break;case o.a.PROTEIN_LEVEL:g.length>0&&(u.push({type:g,value:h.value}),c.push("PROT"));break;case o.a.MUTATION_EXTENDED:h.mutationType.toLowerCase().includes("fusion")?(a.push(h.proteinChange),c.push("FUSION")):(r.push(h.proteinChange),c.push("MUT"))}}}catch(e){p=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(p)throw d}}return{sequenced:!t||!t[e.trackLabel]||t[e.trackLabel].sequenced>0,geneSymbol:e.trackLabel,mutation:r,fusion:a,cna:i,mrnaExp:l,proteinLevel:u,isMutationNotProfiled:!1,isFusionNotProfiled:!1,isCnaNotProfiled:!1,isMrnaExpNotProfiled:!1,isProteinLevelNotProfiled:!1,alterationTypes:c}}function c(e,t,n){var r=!0,a=!0,i=!0,u=!0,l=!0;if(e.profiled_in){var c=!0,s=!1,p=void 0;try{for(var d,f=e.profiled_in[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;if(n)switch(n[m.molecularProfileId].molecularAlterationType){case o.a.COPY_NUMBER_ALTERATION:i=!1;break;case o.a.MRNA_EXPRESSION:u=!1;break;case o.a.PROTEIN_LEVEL:l=!1;break;case o.a.MUTATION_EXTENDED:r=!1;case o.a.FUSION:a=!1}}}catch(e){s=!0,p=e}finally{try{c||null==f.return||f.return()}finally{if(s)throw p}}}return t.isMutationNotProfiled=r,t.isFusionNotProfiled=a,t.isCnaNotProfiled=i,t.isMrnaExpNotProfiled=u,t.isProteinLevelNotProfiled=l,t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&!r.isEmpty(t)?e.map(function(e){var n=Object(a.a)(!0,e,t,{});return{gene:e.oql.gene,oqlLine:e.oql.oql_line,altered:n.altered,sequenced:n.sequenced,percentAltered:n.percent}}):[]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return e.map(function(e){return e.join(t)}).join(n)}function d(e){return e?v(e,function(e){return e.molecularProfileAlterationType===o.a.MUTATION_EXTENDED||e.molecularProfileAlterationType===o.a.FUSION}):{}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n,E):[]}function m(e){return e?v(e,function(e){return e.molecularProfileAlterationType===o.a.MRNA_EXPRESSION}):{}}function h(e){return e?v(e,function(e){return e.molecularProfileAlterationType===o.a.PROTEIN_LEVEL}):{}}function y(e){return e?v(e,function(e){return e.molecularProfileAlterationType===o.a.COPY_NUMBER_ALTERATION}):{}}function g(e,t){return t?v(t,function(t){return e.includes(t.molecularProfileId)}):{}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?S(e,t,n):[]}function v(e,t){var n={};return r.values(e.samples).forEach(function(e){e.forEach(function(e){var r="".concat(e.gene.hugoGeneSymbol,"_").concat(e.uniqueSampleKey);n[r]=n[r]||[],t&&!t(e)||n[r].push(e)})}),n}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=n.map(function(e){return e.hugoGeneSymbol}),u=r.keyBy(t,"uniqueSampleKey"),l=t.map(function(e){return e.uniqueSampleKey}),c=function(e,t,n,r,o){var a={};return r.forEach(function(r){var i=n[r],u=a[r]||{studyId:i.studyId,sampleId:i.sampleId,patientId:i.patientId,alterationData:{}};a[r]=u,t.forEach(function(t){u.alterationData[t]=u.alterationData[t]||[];var n="".concat(t,"_").concat(r);e[n]&&e[n].forEach(function(e){var n=o?o(e):String(e.value);u.alterationData[t].push(n)})})}),a}(e,i,u,l,o),s=[];return s.push(["STUDY_ID","SAMPLE_ID"].concat(i)),l.forEach(function(e){var t=c[e],n=[];n.push(t.studyId),n.push(t.sampleId),i.forEach(function(e){var r=a?a(t.alterationData[e]):t.alterationData[e].join(" ")||"NA";n.push(r)}),s.push(n)}),s}function T(e,t,n,o,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],p=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,f={};if(n&&a){var m=r.keyBy(s,"uniqueSampleKey");n.forEach(function(e){Object(i.d)(e.cases.samples,e.oql.gene,s,a,t).forEach(function(t){var n=t.study_id+":"+t.uid;C(f,t,m);var o=l(t,p);void 0!==f[n].oqlDataByGene[e.oql.gene]?f[n].oqlDataByGene[e.oql.gene]=r.merge(o,f[n].oqlDataByGene[e.oql.gene]):f[n].oqlDataByGene[e.oql.gene]=o,c(t,f[n].oqlDataByGene[e.oql.gene],d)})})}if(o&&a){var h=r.keyBy(s,"uniqueSampleKey");o.forEach(function(n,r){var o,m;void 0===n.mergedTrackOqlList?(o=n.oql.gene,m=Object(u.p)(r,e,n.oql)):(o=n.oql.list.map(function(e){return e.gene}),m=Object(u.m)(n.oql)),Object(i.d)(n.cases.samples,o,s,a,t).forEach(function(e){var t=e.study_id+":"+e.uid;C(f,e,h);var n=l(e,p);f[t].oqlData[m]=n,c(e,f[t].oqlData[m],d)})})}return r.values(f)}function C(e,t,n){var r=t.study_id,o=t.sample||(n[t.uid]?n[t.uid].sampleId:""),a=r+":"+t.uid;e[a]=e[a]||{studyId:r,sampleId:o,patientId:n[t.uid]?n[t.uid].patientId:"",altered:!1,oqlData:{},oqlDataByGene:{}},e[a].altered=e[a].altered||t.data.length>0}function I(e,t){var n=!0,o=!1,a=void 0;try{for(var i,u=r.values(e)[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value,c=!0,s=!1,p=void 0;try{for(var d,f=l[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value,h=t?t(m):m.value;if(h&&String(h).length>0)return!0}}catch(e){s=!0,p=e}finally{try{c||null==f.return||f.return()}finally{if(s)throw p}}}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return!1}function A(e){return I(e,E)}function E(e){return e.proteinChange}function P(e){switch(e){case"MUTATION_EXTENDED":return 1;case"COPY_NUMBER_ALTERATION":return 2;case"GENESET_SCORE":return 3;case"MRNA_EXPRESSION":return 4;case"METHYLATION":return 5;case"METHYLATION_BINARY":return 6;case"PROTEIN_LEVEL":return 7;default:return Number.MAX_VALUE}}},,function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(82),i=n(767),u=n(44),l=n.n(u),c=n(7);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},T=function(e){function t(){return p(this,t),m(this,h(t).apply(this,arguments))}return y(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=(e.bsRole,e.title),n=S(e,["bsRole","title"]);return r.createElement(a.Button,s({className:"btn btn-default"},n),t," ",r.createElement("span",{className:"caret"}))}}]),t}(),C=function(e){function t(){return p(this,t),m(this,h(t).apply(this,arguments))}return y(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return r.createElement("div",{className:l()("dropdown-menu",t),style:{padding:"6px"}},n)}}]),t}(),I=function(e){function t(e){var n;return p(this,t),(n=m(this,h(t).call(this,e))).open=!1,n.toggle=function(){n.open=!n.open},n.hide=function(){n.open=!1},n}return y(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,o=e.className,u=(e.ref,S(e,["children","id","className","ref"]));return r.createElement(i.RootCloseWrapper,{onRootClose:this.hide},r.createElement(a.Dropdown,{id:n+"",open:this.open},r.createElement(T,s({bsStyle:"default",bsRole:"toggle",title:"Custom Toggle",onClick:this.toggle},u)),r.createElement(C,{bsRole:"menu",className:l()(o)},t)))}}]),t}();v([c.observable],I.prototype,"open",void 0);var A=I=v([o.observer],I),E=n(539),P=n(9),k=n.n(P),_=n(67),w=n(503),O=n(656),M=n.n(O),R=(n(747),n(566)),N=(n(690),n(641)),D=n(504),G=n(568),x=n(565),L=n(151),j=n(556),F=n(657),B=n(45),H=n(54),K=n(517),V=n(516),q=n(658);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z,J=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Y(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.CLINICAL="Clinical",e.GROUPS="Groups"}(Z||(Z={}));var X=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Q(this,z(t).apply(this,arguments))).open=!1,e.tabId=Z.CLINICAL,e.options=Object(H.b)({await:function(){return[e.props.store.clinicalAttributes,e.clinicalAttributeIdToAvailableFrequency]},invoke:function(){var t=P.uniqBy(e.props.store.clinicalAttributes.result,function(e){return e.clinicalAttributeId}),n=e.clinicalAttributeIdToAvailableFrequency.result,r={clinical:[],groups:[]},o=!0,a=!1,i=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;Object(K.b)(c)?r.groups.push(c):r.clinical.push(c)}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}return r.clinical=P.sortBy(r.clinical,[function(e){return e.clinicalAttributeId===K.a.StudyOfOrigin?0:e.clinicalAttributeId===K.a.MutationSpectrum?1:Object(K.d)(e)?2:3},function(e){var t=n[e.clinicalAttributeId];return void 0===t&&(t=0),-t},function(e){return-e.priority},function(e){return e.displayName.toLowerCase()}]),r.groups=P.sortBy(r.groups,function(e){return e.displayName.toLowerCase()}),Promise.resolve(P.mapValues(r,function(t){return t.map(function(t){return{label:t.displayName,key:t.clinicalAttributeId,selected:t.clinicalAttributeId in e.selectedClinicalAttributeIds}})}))}}),e.clinicalAttributeIdToAvailableFrequency=Object(H.b)({await:function(){return[e.props.store.clinicalAttributeIdToAvailableSampleCount,e.props.store.samples]},invoke:function(){var t=e.props.store.samples.result.length;return Promise.resolve(P.mapValues(e.props.store.clinicalAttributeIdToAvailableSampleCount.result,function(e){return 100*e/t}))}}),e.addClinicalTracksMenu=Object(V.a)({await:function(){return[e.options]},render:function(){return r.createElement(F.a,{options:e.options.result.clinical,freqPromise:e.clinicalAttributeIdToAvailableFrequency,onAddAll:e.addAll,onClearAll:e.clear,onToggleOption:e.toggleClinicalTrack,optionsGivenInSortedOrder:!0})},renderPending:function(){return r.createElement(_.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0}),e.addGroupTracksMenu=Object(V.a)({await:function(){return[e.options]},render:function(){return r.createElement(F.a,{options:e.options.result.groups,freqPromise:e.clinicalAttributeIdToAvailableFrequency,onAddAll:e.addAll,onClearAll:e.clear,onToggleOption:e.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group"})},renderPending:function(){return r.createElement(_.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0}),e}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,r["Component"]),n=t,(o=[{key:"updateTabId",value:function(e){this.tabId=e}},{key:"addAll",value:function(e){this.props.onChangeSelectedClinicalTracks(P.union(this.props.selectedClinicalAttributeIds,e))}},{key:"clear",value:function(e){this.props.onChangeSelectedClinicalTracks(P.difference(this.props.selectedClinicalAttributeIds,e))}},{key:"toggleClinicalTrack",value:function(e){this.props.onChangeSelectedClinicalTracks(Object(q.b)(e,this.props.selectedClinicalAttributeIds))}},{key:"onDropdownChange",value:function(e){this.open=e}},{key:"render",value:function(){return r.createElement(w.b,{visible:this.open,trigger:["click"],onVisibleChange:this.onDropdownChange,placement:"bottomRight",destroyTooltipOnHide:!0,overlay:this.dropdown,align:{overflow:{adjustX:!0,adjustY:!1}},arrowContent:r.createElement("span",null),overlayClassName:"oncoprintAddClinicalTracksDropdown"},r.createElement("button",{className:l()("btn btn-default btn-md",{active:this.open}),"data-event":Object(B.f)({category:"resultsView",action:"addClinicalTrackMenuOpen",label:this.props.store.studyIds.result.join(",")}),"data-test":"add-clinical-track-button"},"Add Clinical Tracks ",r.createElement("span",{className:"caret"}),""))}},{key:"selectedClinicalAttributeIds",get:function(){return P.keyBy(this.props.selectedClinicalAttributeIds)}},{key:"dropdown",get:function(){return this.props.store.comparisonGroups.isComplete&&this.props.store.comparisonGroups.result.length>0?r.createElement(j.b,{activeTabId:this.tabId,onTabClick:this.updateTabId,className:"mainTabs oncoprintAddClinicalTracks"},r.createElement(j.a,{key:0,id:Z.CLINICAL,linkText:Z.CLINICAL},this.addClinicalTracksMenu.component),r.createElement(j.a,{key:1,id:Z.GROUPS,linkText:Z.GROUPS,hide:!this.props.store.comparisonGroups.isComplete||0===this.props.store.comparisonGroups.result.length},this.addGroupTracksMenu.component)):r.createElement("div",{className:"tab-content"},r.createElement("div",{className:"msk-tab"},this.addClinicalTracksMenu.component))}}])&&U(n.prototype,o),a&&U(n,a),t}();J([c.observable],X.prototype,"open",void 0),J([c.observable],X.prototype,"tabId",void 0),J([L.default,c.action],X.prototype,"updateTabId",null),J([L.default,c.action],X.prototype,"addAll",null),J([L.default,c.action],X.prototype,"clear",null),J([L.default,c.action],X.prototype,"toggleClinicalTrack",null),J([c.computed],X.prototype,"selectedClinicalAttributeIds",null),J([c.computed],X.prototype,"dropdown",null),J([L.default,c.action],X.prototype,"onDropdownChange",null);var $=X=J([o.observer],X),ee=n(46),te=n.n(ee);function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ue=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ie(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},le=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=re(t).call(this,e),(n=!o||"object"!==ie(o)&&"function"!=typeof o?oe(r):o).textAreaContent="",n.timeout=void 0,n.TIMEOUT_DELAY=750,n.itemRemovedByUser=function(e){n.props.onIconClicked&&e.target&&n.props.onIconClicked(e.target.id)},n.textUpdatedByUser=function(e){n.textAreaContent=e.currentTarget.value,n.props.onChangeTextArea&&n.startTimedSubmit()},n.onAreaClicked=function(e){te.a.findDOMNode(n.refs.textarea).focus()},n.textUpdatedByUser=n.textUpdatedByUser.bind(oe(n)),n.itemRemovedByUser=n.itemRemovedByUser.bind(oe(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,r["Component"]),n=t,(o=[{key:"startTimedSubmit",value:function(){this.stopTimedSubmit(),this.timeout=setTimeout(function(){this.textAreaContent=this.props.onChangeTextArea(this.textAreaContent),this.stopTimedSubmit()}.bind(this),this.TIMEOUT_DELAY)}},{key:"stopTimedSubmit",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:l()("text-icon-area",this.props.classNames),onClick:this.onAreaClicked},r.createElement("div",{className:l()("icon-area",this.props.classNames)},this.props.elements.map(function(t){return r.createElement("div",{className:l()(t.classNames,"icon")},t.label,"",r.createElement("div",{className:l()("fa","fa-times-circle","icon-button"),onClick:e.itemRemovedByUser,id:t.value}))})),r.createElement("textarea",{ref:"textarea",placeholder:this.props.placeholder,value:this.textAreaContent,onInput:this.textUpdatedByUser,className:l()("text-area",this.props.classNames)}))}}])&&ne(n.prototype,o),a&&ne(n,a),t}();ue([c.observable],le.prototype,"textAreaContent",void 0);var ce=le=ue([o.observer],le),se=n(529),pe=n(576);function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ge=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":ye(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},be="0",ve="1",Se="2",Te="3",Ce="4",Ie="4.1",Ae="4.2",Ee="5",Pe="5.1",ke="6",_e="7",we="8",Oe="9",Me="10",Re="11",Ne="13",De="14",Ge="15",xe="16",Le="17",je="18",Fe="19",Be="20",He="21",Ke="22",Ve="22.1",qe="23",Ue="25",Qe="26",ze="27",We="28",Ye="29",Ze="32",Je=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=fe(t).call(this,e),(n=!o||"object"!==ye(o)&&"function"!=typeof o?me(r):o).heatmapGenesReady=!1,n._selectedTreatmentIds=[],n.textareaTreatmentText="",n.getHeatmapMenu=n.getHeatmapMenu.bind(me(n)),n.getClinicalTracksMenu=n.getClinicalTracksMenu.bind(me(n)),n.getSortMenu=n.getSortMenu.bind(me(n)),n.getViewMenu=n.getViewMenu.bind(me(n)),n.getDownloadMenu=n.getDownloadMenu.bind(me(n)),n.onInputClick=n.onInputClick.bind(me(n)),n.getMutationColorMenu=n.getMutationColorMenu.bind(me(n)),n.getHorzZoomControls=n.getHorzZoomControls.bind(me(n)),n.onSelect=n.onSelect.bind(me(n)),n.toggleShowMinimap=n.toggleShowMinimap.bind(me(n)),n.onType=n.onType.bind(me(n)),n.onHeatmapProfileSelect=n.onHeatmapProfileSelect.bind(me(n)),n.onButtonClick=n.onButtonClick.bind(me(n)),n.onZoomInClick=n.onZoomInClick.bind(me(n)),n.onZoomOutClick=n.onZoomOutClick.bind(me(n)),n.onCustomDriverTierCheckboxClick=n.onCustomDriverTierCheckboxClick.bind(me(n)),n.onHorzZoomSliderChange=n.onHorzZoomSliderChange.bind(me(n)),n.onHorzZoomSliderSet=n.onHorzZoomSliderSet.bind(me(n)),n.onSetHorzZoomTextInput=n.onSetHorzZoomTextInput.bind(me(n)),e.selectedTreatmentIds&&(n._selectedTreatmentIds=e.selectedTreatmentIds),n.horzZoomSliderState=e.state.horzZoom,Object(c.reaction)(function(){return n.props.state.horzZoom},function(e){return n.horzZoomSliderState=e}),n}var i,u,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(t,r["Component"]),i=t,(u=[{key:"onZoomInClick",value:function(){this.props.handlers.onClickZoomIn()}},{key:"onZoomOutClick",value:function(){this.props.handlers.onClickZoomOut()}},{key:"onSetHorzZoomTextInput",value:function(e){var t=parseFloat(e)/100;this.props.handlers.onSetHorzZoom(t)}},{key:"onSelect",value:function(e){e===Ee&&this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType)}},{key:"onHeatmapProfileSelect",value:function(e){this.props.handlers.onSelectHeatmapProfile&&this.props.handlers.onSelectHeatmapProfile(e.value)}},{key:"toggleShowMinimap",value:function(){this.props.handlers.onSelectShowMinimap&&this.props.handlers.onSelectShowMinimap(!this.props.state.showMinimap)}},{key:"onInputClick",value:function(e){switch(e.target.value){case Se:this.props.handlers.onSelectShowUnalteredColumns&&this.props.handlers.onSelectShowUnalteredColumns(!this.props.state.showUnalteredColumns);break;case Te:this.props.handlers.onSelectShowWhitespaceBetweenColumns&&this.props.handlers.onSelectShowWhitespaceBetweenColumns(!this.props.state.showWhitespaceBetweenColumns);break;case Ce:this.props.handlers.onSelectShowClinicalTrackLegends&&this.props.handlers.onSelectShowClinicalTrackLegends(!this.props.state.showClinicalTrackLegends);break;case Ie:this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases&&this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases(!this.props.state.onlyShowClinicalLegendForAlteredCases);break;case Ae:this.props.handlers.onSelectShowOqlInLabels&&this.props.handlers.onSelectShowOqlInLabels(!this.props.state.showOqlInLabels);break;case be:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("sample");break;case ve:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("patient");break;case Oe:this.props.handlers.onClickSortByData&&this.props.handlers.onClickSortByData();break;case _e:this.props.handlers.onClickSortAlphabetical&&this.props.handlers.onClickSortAlphabetical();break;case we:this.props.handlers.onClickSortCaseListOrder&&this.props.handlers.onClickSortCaseListOrder();break;case ke:this.props.handlers.onSelectSortByMutationType&&this.props.handlers.onSelectSortByMutationType(!this.props.state.sortByMutationType);break;case Me:this.props.handlers.onSelectSortByDrivers&&this.props.handlers.onSelectSortByDrivers(!this.props.state.sortByDrivers);break;case Ge:this.props.handlers.onSelectDistinguishDrivers&&this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case Ee:this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType);break;case Pe:this.props.handlers.onSelectDistinguishGermlineMutations&&this.props.handlers.onSelectDistinguishGermlineMutations(!this.props.state.distinguishGermlineMutations);break;case xe:this.props.handlers.onSelectAnnotateOncoKb&&this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case Le:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case je:this.props.handlers.onSelectAnnotateCBioPortal&&this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case Fe:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case Ke:this.props.handlers.onSelectHidePutativePassengers&&this.props.handlers.onSelectHidePutativePassengers(!this.props.state.hidePutativePassengers);break;case Ve:this.props.handlers.onSelectHideGermlineMutations&&this.props.handlers.onSelectHideGermlineMutations(!this.props.state.hideGermlineMutations);break;case qe:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onHorzZoomSliderChange",value:function(e){this.horzZoomSliderState=e}},{key:"onHorzZoomSliderSet",value:function(){this.props.handlers.onSetHorzZoom(this.horzZoomSliderState),this.horzZoomSliderState=this.props.state.horzZoom}},{key:"onCustomDriverTierCheckboxClick",value:function(e){this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(e.target.value,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(e.target.value)))}},{key:"onButtonClick",value:function(e){switch(e.target.name){case Ne:this.props.handlers.onClickAddGenesToHeatmap&&this.props.handlers.onClickAddGenesToHeatmap();break;case Ze:this.props.handlers.onClickAddTreatmentsToHeatmap&&this.props.handlers.onClickAddTreatmentsToHeatmap(this._selectedTreatmentIds);break;case De:this.props.handlers.onClickRemoveHeatmap&&this.props.handlers.onClickRemoveHeatmap(),this._selectedTreatmentIds=[];break;case ze:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("svg");break;case Qe:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("png");break;case Ue:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("pdf");break;case We:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("order");break;case Ye:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("tabular");break;case Re:this.props.handlers.onClickClusterHeatmap&&this.props.handlers.onClickClusterHeatmap()}}},{key:"onChangeHeatmapGeneInput",value:function(e,t,n){this.props.handlers.onChangeHeatmapGeneInputValue&&this.props.handlers.onChangeHeatmapGeneInputValue(n);var r=k.a.keyBy(t.found,function(e){return e.hugoGeneSymbol.toUpperCase()});this.heatmapGenesReady=k.a.every(e.query,function(e){return e.gene.toUpperCase()in r})}},{key:"onType",value:function(e){switch(e.target.name){case Be:this.props.handlers.onChangeAnnotateCBioPortalInputValue&&this.props.handlers.onChangeAnnotateCBioPortalInputValue(e.target.value);break;case He:this.props.handlers.onChangeAnnotateCOSMICInputValue&&this.props.handlers.onChangeAnnotateCOSMICInputValue(e.target.value)}}},{key:"onChangeTreatmentTextArea",value:function(e){return Object(se.b)(e,this._selectedTreatmentIds,this.treatmentOptionsByValueMap)}},{key:"onTreatmentRemoved",value:function(e){k.a.remove(this._selectedTreatmentIds,function(t){return t===e})}},{key:"onSelectTreatments",value:function(e){this._selectedTreatmentIds=e.map(function(e){return e.id})}},{key:"getClinicalTracksMenu",value:function(){return this.props.store&&this.props.state.selectedClinicalAttributeIds&&this.props.handlers.onChangeSelectedClinicalTracks?r.createElement($,{store:this.props.store,selectedClinicalAttributeIds:this.props.state.selectedClinicalAttributeIds,onChangeSelectedClinicalTracks:this.props.handlers.onChangeSelectedClinicalTracks}):r.createElement("span",null)}},{key:"getHeatmapMenu",value:function(){var e=this.props.state.heatmapIsDynamicallyQueried,t=e&&this.props.state.selectedHeatmapProfileAlterationType!==D.a.GENERIC_ASSAY,n=e&&this.props.state.selectedHeatmapProfileAlterationType===D.a.GENERIC_ASSAY;if(this.props.oncoprinterMode||this.props.state.hideHeatmapMenu||!this.props.state.heatmapProfilesPromise)return r.createElement("span",null);var o=r.createElement(_.a,{isLoading:!0});if(this.props.state.heatmapProfilesPromise.isComplete){if(!this.props.state.heatmapProfilesPromise.result.length)return r.createElement("span",null);o=r.createElement("div",{className:"oncoprint__controls__heatmap_menu"},r.createElement(E.a,{clearable:!1,searchable:!1,isLoading:this.props.state.heatmapProfilesPromise.isPending,onChange:this.onHeatmapProfileSelect,value:this.props.state.selectedHeatmapProfile,options:this.heatmapProfileOptions}),t&&[r.createElement(x.b,{inputGeneQuery:this.props.state.heatmapGeneInputValue||"",callback:this.onChangeHeatmapGeneInput,location:x.a.ONCOPRINT_HEATMAP}),r.createElement("button",{key:"addGenesToHeatmapButton",className:"btn btn-sm btn-default",name:Ne,onClick:this.onButtonClick,disabled:!this.heatmapGenesReady},"Add Genes to Heatmap")],n&&this.props.state.treatmentsPromise.isComplete&&[r.createElement(ce,{elements:this.textareaTreatmentEntries,text:this.textareaTreatmentText,placeholder:"Type space- or comma-separated treatments here, then click 'Add Treatments to Heatmap'",onChangeTextArea:this.onChangeTreatmentTextArea,onIconClicked:this.onTreatmentRemoved}),r.createElement("div",{className:l()("treatment-selector")},r.createElement(pe.a,{name:"treatment-select",placeholder:"Search for Treatments...",options:this.props.treatmentSelectOptions,onChange:this.onSelectTreatments,value:this.selectedTreatments,addAllLabel:this.addAllLabel})),r.createElement("button",{key:"addTreatmentsToHeatmapButton",className:"btn btn-sm btn-default",name:Ze,onClick:this.onButtonClick},"Add Treatment Response to Heatmap")],r.createElement("button",{key:"removeHeatmapButton",className:"btn btn-sm btn-default",name:De,onClick:this.onButtonClick},"Remove Heatmap"),!this.props.state.hideClusterHeatmapButton&&r.createElement("button",{"data-test":"clusterHeatmapBtn",className:l()("btn","btn-sm","btn-default",{active:this.props.state.clusterHeatmapButtonActive}),name:Re,onClick:this.onButtonClick},"Cluster Heatmap"))}else this.props.state.heatmapProfilesPromise.isError&&(o=r.createElement("span",null,"Error loading heatmap profiles."));return r.createElement(A,{bsStyle:"default",title:"Heatmap",id:"heatmapDropdown",className:"heatmap"},o)}},{key:"getSortMenuOncoprinter",value:function(){return r.createElement(A,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:ke,checked:this.props.state.sortByMutationType,onClick:this.onInputClick,disabled:!this.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Me,checked:this.props.state.sortByDrivers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Driver/Passenger"))))}},{key:"getSortMenuOncoprint",value:function(){return r.createElement(A,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByData",type:"radio",name:"sortBy",value:Oe,checked:"data"===this.props.state.sortMode.type,onClick:this.onInputClick})," ","Sort by data")),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:ke,checked:this.props.state.sortByMutationType,onClick:this.onInputClick,disabled:"data"!==this.props.state.sortMode.type||!this.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Me,checked:this.props.state.sortByDrivers,onClick:this.onInputClick,disabled:"data"!==this.props.state.sortMode.type||!this.props.state.distinguishDrivers})," ","Driver/Passenger"))),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:_e,checked:"alphabetical"===this.props.state.sortMode.type,onClick:this.onInputClick})," ","Sort by case id (alphabetical)")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:we,checked:"caseList"===this.props.state.sortMode.type,onClick:this.onInputClick,"data-test":"caseList",disabled:!!this.props.state.sortByCaseListDisabled})," ","Sort by case list order")),this.props.state.heatmapProfilesPromise&&!(this.props.state.heatmapProfilesPromise.isComplete&&!this.props.state.heatmapProfilesPromise.result.length)&&r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByHeatmapClustering",type:"radio",name:"sortBy",checked:"heatmap"===this.props.state.sortMode.type,disabled:!0})," ","Sorted by heatmap clustering order"))))}},{key:"getMutationColorMenu",value:function(){var e=this;return r.createElement(A,{bsStyle:"default",title:"Mutations",id:"mutationColorDropdown"},r.createElement("div",{className:"oncoprint__controls__mutation_color_menu"},r.createElement("h5",null,"Color by"),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByType",type:"checkbox",value:Ee,checked:this.props.state.distinguishMutationType,onClick:this.onInputClick})," ","Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByGermline",type:"checkbox",value:Pe,checked:this.props.state.distinguishGermlineMutations,onClick:this.onInputClick})," ","Somatic vs Germline")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByDriver",type:"checkbox",value:Ge,checked:this.props.state.distinguishDrivers,onClick:this.onInputClick})," ","Putative drivers vs VUS:")),r.createElement("div",{style:{marginLeft:"20px"}},!this.props.state.annotateDriversOncoKbDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:xe,checked:this.props.state.annotateDriversOncoKb,onClick:this.onInputClick,"data-test":"annotateOncoKb",disabled:this.props.state.annotateDriversOncoKbError}),this.props.state.annotateDriversOncoKbError&&r.createElement(N.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading OncoKb data. Please refresh the page or try again later.")}),r.createElement(w.b,{overlay:r.createElement("span",null,"Oncogenicity from OncoKB"),placement:"top"},r.createElement("img",{src:n(694),style:{maxHeight:"12px",cursor:"pointer",marginRight:"5px"}})),"driver annotation")),this.props.handlers.onSelectAnnotateHotspots&&!this.props.state.annotateDriversHotspotsDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Le,checked:this.props.state.annotateDriversHotspots,onClick:this.onInputClick,"data-test":"annotateHotspots",disabled:this.props.state.annotateDriversHotspotsError}),this.props.state.annotateDriversHotspotsError&&r.createElement(N.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading Hotspots data. Please refresh the page or try again later.")}),"Hotspots",r.createElement(w.b,{overlay:r.createElement("div",{style:{maxWidth:"400px"}},"Identified as a recurrent hotspot (statistically significant) in a population-scale cohort of tumor samples of various cancer types using methodology based in part on"," ",r.createElement("a",{href:Object(G.a)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016."),"Explore all mutations at"," ",r.createElement("a",{href:"https://www.cancerhotspots.org",target:"_blank"},"https://cancerhotspots.org")),placement:"top"},r.createElement("img",{src:n(587),style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}})))),this.props.handlers.onChangeAnnotateCBioPortalInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:je,checked:this.props.state.annotateDriversCBioPortal,onClick:this.onInputClick,"data-test":"annotateCBioPortalCount"}),"cBioPortal >="),r.createElement(R.a,{value:this.props.state.annotateCBioPortalInputValue||"",setValue:this.props.handlers.onChangeAnnotateCBioPortalInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),this.props.handlers.onChangeAnnotateCOSMICInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Fe,checked:this.props.state.annotateDriversCOSMIC,onClick:this.onInputClick,"data-test":"annotateCOSMICCount"}),"COSMIC >="),r.createElement(R.a,{value:this.props.state.annotateCOSMICInputValue||"",setValue:this.props.handlers.onChangeAnnotateCOSMICInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),!!this.props.state.customDriverAnnotationBinaryMenuLabel&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.state.annotateCustomDriverBinary,value:qe,onClick:this.onInputClick})," ",this.props.state.customDriverAnnotationBinaryMenuLabel,r.createElement("img",{src:n(606),alt:"driver filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}))),!!this.props.state.customDriverAnnotationTiersMenuLabel&&r.createElement("span",null,r.createElement("span",{className:"caret"}),"",r.createElement("span",null,this.props.state.customDriverAnnotationTiersMenuLabel),"",r.createElement("img",{src:n(607),alt:"driver tiers filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}),r.createElement("div",{style:{marginLeft:"30px"}},(this.props.state.customDriverAnnotationTiers||[]).map(function(t){return r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:t,checked:!(!e.props.state.selectedCustomDriverAnnotationTiers||!e.props.state.selectedCustomDriverAnnotationTiers.get(t)),onClick:e.onCustomDriverTierCheckboxClick})," ",t))}))))),r.createElement("h5",null,"Filter"),r.createElement("div",{style:{marginLeft:10}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideVUS",type:"checkbox",value:Ke,checked:this.props.state.hidePutativePassengers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Hide mutations and copy number alterations of unknown significance")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideGermline",type:"checkbox",value:Ve,checked:this.props.state.hideGermlineMutations,onClick:this.onInputClick})," ","Hide germline mutations")))))}},{key:"getViewMenu",value:function(){return this.props.oncoprinterMode?this.getViewMenuOncoprinter():this.getViewMenuOncoprint()}},{key:"getViewMenuOncoprinter",value:function(){return r.createElement(A,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Se,checked:this.props.state.showUnalteredColumns,onClick:this.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Te,checked:this.props.state.showWhitespaceBetweenColumns,onClick:this.onInputClick})," ","Show whitespace between columns")))}},{key:"getViewMenuOncoprint",value:function(){return r.createElement(A,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("strong",null,"Data type:"),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:be,checked:"sample"===this.props.state.selectedColumnType,onClick:this.onInputClick})," ","Events per sample")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:ve,checked:"patient"===this.props.state.selectedColumnType,onClick:this.onInputClick})," ","Events per patient")),r.createElement("hr",null),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Se,checked:this.props.state.showUnalteredColumns,onClick:this.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Te,checked:this.props.state.showWhitespaceBetweenColumns,onClick:this.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ce,checked:this.props.state.showClinicalTrackLegends,onClick:this.onInputClick})," ","Show legends for clinical tracks")),r.createElement("div",{className:"checkbox",style:{marginLeft:20,maxWidth:220}},r.createElement("label",null,r.createElement("input",{"data-test":"onlyShowClinicalLegendsForAltered",type:"checkbox",value:Ie,checked:this.props.state.onlyShowClinicalLegendForAlteredCases,onClick:this.onInputClick,disabled:!this.props.state.showClinicalTrackLegends})," ","Only show clinical track legends for altered"," ","patient"===this.props.state.columnMode?"patients":"samples",".")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:Ae,checked:this.props.state.showOqlInLabels,onClick:this.onInputClick})," ","Show OQL filters")))}},{key:"getDownloadMenu",value:function(){return r.createElement(A,{bsStyle:"default",title:"Download",id:"downloadDropdownButton"},r.createElement("button",{className:"btn btn-sm btn-default",name:Ue,onClick:this.onButtonClick},"PDF"),r.createElement("button",{className:"btn btn-sm btn-default",name:Qe,onClick:this.onButtonClick},"PNG"),r.createElement("button",{className:"btn btn-sm btn-default",name:ze,onClick:this.onButtonClick},"SVG"),r.createElement("button",{className:"btn btn-sm btn-default",name:We,onClick:this.onButtonClick},this.props.state.columnMode&&this.props.state.columnMode[0].toUpperCase()+this.props.state.columnMode.slice(1)||"Sample"," ","order"),!this.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:Ye,onClick:this.onButtonClick},"Tabular"))}},{key:"getHorzZoomControls",value:function(){return r.createElement("div",{className:"btn btn-default oncoprint__zoom-controls"},r.createElement(w.b,{overlay:r.createElement("span",null,"Zoom out of oncoprint.")},r.createElement("div",{onClick:this.onZoomOutClick},r.createElement("i",{className:"fa fa-search-minus"}))),r.createElement(w.b,{overlay:r.createElement("span",null,"Zoom in/out of oncoprint.")},r.createElement("div",{style:{width:"90px"}},r.createElement(M.a,{value:this.horzZoomSliderState,onChange:this.onHorzZoomSliderChange,onChangeComplete:this.onHorzZoomSliderSet,step:.01,max:1,min:0,tooltip:!1}))),r.createElement(R.a,{value:(100*this.horzZoomSliderState).toFixed(),setValue:this.onSetHorzZoomTextInput,maxChars:3,numericOnly:!0,textFieldAppearance:!0,style:{background:"white",minWidth:"30px",fontSize:"14px",fontFamily:"arial",border:"none",padding:0,marginTop:0,marginBottom:0,marginRight:2}}),r.createElement("div",null,"%"),r.createElement(w.b,{overlay:r.createElement("span",null,"Zoom in to oncoprint.")},r.createElement("div",{onClick:this.onZoomInClick},r.createElement("i",{className:"fa fa-search-plus"}))))}},{key:"getSortMenu",value:function(){return this.props.oncoprinterMode?this.getSortMenuOncoprinter():this.getSortMenuOncoprint()}},{key:"render",value:function(){return r.createElement("div",{className:"oncoprint__controls"},r.createElement(a.ButtonGroup,null,r.createElement(o.Observer,null,this.getClinicalTracksMenu),r.createElement(o.Observer,null,this.getHeatmapMenu),r.createElement(o.Observer,null,this.getSortMenu),r.createElement(o.Observer,null,this.getMutationColorMenu),r.createElement(o.Observer,null,this.getViewMenu),r.createElement(o.Observer,null,this.getDownloadMenu),r.createElement(o.Observer,null,this.getHorzZoomControls),this.minimapButton))}},{key:"heatmapProfileOptions",get:function(){return this.props.state.heatmapProfilesPromise&&this.props.state.heatmapProfilesPromise.result?k.a.map(this.props.state.heatmapProfilesPromise.result,function(e){return{label:e.name,value:e.molecularProfileId,type:e.molecularAlterationType}}):[]}},{key:"treatmentOptionsByValueMap",get:function(){return k.a.keyBy(this.props.treatmentSelectOptions,"id")}},{key:"selectedTreatments",get:function(){var e=this;return this._selectedTreatmentIds.map(function(t){return e.treatmentOptionsByValueMap[t]})}},{key:"selectedTreatmentsJS",get:function(){return Object(c.toJS)(this.selectedTreatments)}},{key:"textareaTreatmentEntries",get:function(){return k.a.map(this.selectedTreatments,function(e){return{value:e.id,label:e.id}})}},{key:"addAllLabel",get:function(){return this.props.treatmentSelectOptions?"Select all (".concat(this.props.treatmentSelectOptions.length,")"):"Select all"}},{key:"showMinimap",get:function(){return this.props.state.showMinimap}},{key:"minimapButton",get:function(){return r.createElement("div",{className:"btn-group"},r.createElement(w.b,{overlay:r.createElement("span",null,"Toggle minimap panel.")},r.createElement(a.Button,{active:this.showMinimap,onClick:this.toggleShowMinimap,className:"oncoprint__controls__minimap_button"},r.createElement("img",{src:n(695),alt:"icon",style:{width:15,height:15,margin:2}}))))}}])&&de(i.prototype,u),s&&de(i,s),t}();ge([c.observable],Je.prototype,"horzZoomSliderState",void 0),ge([c.observable],Je.prototype,"heatmapGenesReady",void 0),ge([c.observable],Je.prototype,"_selectedTreatmentIds",void 0),ge([L.default,c.action],Je.prototype,"onChangeHeatmapGeneInput",null),ge([L.default],Je.prototype,"onChangeTreatmentTextArea",null),ge([L.default],Je.prototype,"onTreatmentRemoved",null),ge([c.computed],Je.prototype,"heatmapProfileOptions",null),ge([c.computed],Je.prototype,"treatmentOptionsByValueMap",null),ge([L.default,c.action],Je.prototype,"onSelectTreatments",null),ge([c.computed],Je.prototype,"selectedTreatments",null),ge([c.computed],Je.prototype,"selectedTreatmentsJS",null),ge([c.computed],Je.prototype,"textareaTreatmentEntries",null),ge([c.computed],Je.prototype,"addAllLabel",null),ge([c.computed],Je.prototype,"showMinimap",null),Je=ge([o.observer],Je);t.a=Je},,function(e,t,n){"use strict";var r=n(9),o=n(7),a=n(73),i=n(515),u=n(154),l=n(156),c=n(153),s=n(157),p=n(54);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function m(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.a;return f(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.length>0)){a.next=6;break}return a.next=3,o.postResidueMappingByPDBUsingPOST({idType:"uniprot",id:t,pdbId:n,chainId:r,positionList:e.map(function(e){return"".concat(e)})});case 3:return a.abrupt("return",a.sent);case 6:return a.abrupt("return",[]);case 7:case"end":return a.stop()}},a)}))}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queries={}}var t,n,r;return t=e,(n=[{key:"get",value:function(e){var t=this,n=this.generateQueryKey(e);return this.queries[n]||(this.queries[n]=Object(p.b)({invoke:function(){return f(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],r=[],t.next=4,m(e.uniprotPositions,e.uniprotId,e.pdbId,e.chainId);case 4:return(o=t.sent).length>0&&(o.forEach(function(e){r=r.concat(e.residueMapping)}),n=r.map(function(e){return{status:"complete",data:e}})),t.abrupt("return",n);case 7:case"end":return t.stop()}},t)}))},onError:function(e){}},this.defaultData(e))),this.queries[n]}},{key:"generateQueryKey",value:function(e){return"".concat(e.uniprotId,"_").concat(e.pdbId,"_").concat(e.chainId,"_").concat(e.uniprotPositions.join(","))}},{key:"defaultData",value:function(e){return[null]}}])&&d(t.prototype,n),r&&d(t,r),e}(),y=n(506),g=n(569),b=n(510),v=n(584),S=n(542);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":E(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=C(this,I(t).call(this,e))).selectedUid="",n.dataSelector=function(e){return n.getChainUid(e)===n.selectedUid},n.dataHighlighter=n.dataSelector,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,S["b"]),n=t,(r=[{key:"getChainUid",value:function(e){return e.pdbId+e.chain}},{key:"selectUid",value:function(e){this.selectedUid=e||""}},{key:"selectFirstChain",value:function(){this.allData.length>0?this.selectedUid=this.getChainUid(this.allData[0]):this.selectedUid=""}},{key:"getPdbChain",value:function(e){var t=this;return this.allData.find(function(n){return t.getChainUid(n)===e})}},{key:"selectedChain",get:function(){return this.getPdbChain(this.selectedUid)}},{key:"tableData",get:function(){return this.sortedFilteredData}}])&&T(n.prototype,r),o&&T(n,o),t}();P([o.observable],k.prototype,"selectedUid",void 0),P([o.action],k.prototype,"selectUid",null),P([o.computed],k.prototype,"selectedChain",null),P([o.action],k.prototype,"selectFirstChain",null),P([o.computed],k.prototype,"tableData",null);var _=n(151),w=n(509);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},L=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=M(this,N(t).call(this,e))).dataFilters=[],r.selectionFilters=[],r.highlightFilters=[],r.dataSelector=function(e){return r.dataSelectFilter(e)},r.dataHighlighter=function(e){return r.dataHighlightFilter(e)},r.applyCustomFilter=n,r}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,S["b"]),n=t,(o=[{key:"clearDataFilters",value:function(){this.dataFilters=[]}},{key:"clearHighlightFilters",value:function(){this.highlightFilters=[]}},{key:"clearSelectionFilters",value:function(){this.selectionFilters=[]}},{key:"setHighlightFilters",value:function(e){this.highlightFilters=e}},{key:"setSelectionFilters",value:function(e){this.selectionFilters=e}},{key:"isPositionSelected",value:function(e){return!!this.selectedPositions[e+""]}},{key:"isPositionHighlighted",value:function(e){return!!this.highlightedPositions[e+""]}},{key:"resetFilterAndSelection",value:function(){R(N(t.prototype),"resetFilter",this).call(this),this.clearPositionFilters()}},{key:"clearPositionFilters",value:function(){this.selectionFilters=this.selectionFilters.filter(function(e){return void 0===e.position})}},{key:"dataSelectFilter",value:function(e){var t=this;return this.selectionFilters.length>0&&!this.selectionFilters.map(function(n){return t.applyFilter(n,e[0],t.selectedPositions)}).includes(!1)}},{key:"dataHighlightFilter",value:function(e){var t=this;return this.highlightFilters.length>0&&!this.highlightFilters.map(function(n){return t.applyFilter(n,e[0],t.highlightedPositions)}).includes(!1)}},{key:"applyFilter",value:function(e,t,n){return this.applyCustomFilter?this.applyCustomFilter(e,t,n):!!n[t.proteinPosStart+""]}},{key:"selectedPositions",get:function(){return r.keyBy(Object(i.o)(this.selectionFilters).map(function(e){return{position:e}}),"position")}},{key:"highlightedPositions",get:function(){return r.keyBy(Object(i.o)(this.highlightFilters).map(function(e){return{position:e}}),"position")}},{key:"tableDataGroupedByPatients",get:function(){return Object(w.i)(r.flatten(this.tableData))}},{key:"duplicateMutationCountInMultipleSamples",get:function(){return Object(w.b)(this.tableDataGroupedByPatients)}}])&&O(n.prototype,o),a&&O(n,a),t}();x([o.observable],L.prototype,"dataFilters",void 0),x([o.observable],L.prototype,"selectionFilters",void 0),x([o.observable],L.prototype,"highlightFilters",void 0),x([o.computed],L.prototype,"selectedPositions",null),x([o.computed],L.prototype,"highlightedPositions",null),x([o.action],L.prototype,"clearDataFilters",null),x([o.action],L.prototype,"clearHighlightFilters",null),x([o.action],L.prototype,"clearSelectionFilters",null),x([o.action],L.prototype,"setHighlightFilters",null),x([o.action],L.prototype,"setSelectionFilters",null),x([o.action],L.prototype,"resetFilterAndSelection",null),x([o.computed],L.prototype,"tableDataGroupedByPatients",null),x([o.computed],L.prototype,"duplicateMutationCountInMultipleSamples",null),x([o.action],L.prototype,"clearPositionFilters",null),x([_.default],L.prototype,"dataSelectFilter",null),x([_.default],L.prototype,"dataHighlightFilter",null),x([_.default],L.prototype,"applyFilter",null);var j=n(535),F=n(531);function B(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return W});var Q=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":U(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},z=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},W=function(e){function t(e,n,r,o,i,u,l,c,s){var d,f,m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f=this,m=K(t).call(this,r,{isoformOverrideSource:e.isoformOverrideSource,filterMutationsBySelectedTranscript:n.filterMutationsBySelectedTranscript},o),(d=!m||"object"!==U(m)&&"function"!=typeof m?V(f):m).mutationMapperConfig=e,d.mutationMapperStoreConfig=n,d.gene=r,d.getMutations=o,d.indexedHotspotData=i,d.indexedVariantAnnotations=u,d.oncoKbCancerGenes=l,d.oncoKbData=c,d.uniqueSampleKeyToTumorType=s,d.mutationData=Object(p.b)({await:function(){return d.mutationMapperStoreConfig.filterMutationsBySelectedTranscript?[d.canonicalTranscript,d.indexedVariantAnnotations]:[d.canonicalTranscript]},invoke:function(){return z(V(d),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutations);case 1:case"end":return e.stop()}},e,this)}))}},[]),d.alignmentData=Object(p.b)({await:function(){return[d.mutationData]},invoke:function(){return z(V(d),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.activeTranscript){e.next=4;break}return e.abrupt("return",Object(y.A)(this.activeTranscript));case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},[]);var h=d.getMutations;return d.getMutations=function(){return Object(F.b)(h())},Object(a.labelMobxPromises)(V(d)),d}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,i["b"]),n=t,(o=[{key:"countUniqueMutations",value:function(e){return Object(w.c)(e)}},{key:"getDefaultTumorType",value:function(e){return this.uniqueSampleKeyToTumorType[e.uniqueSampleKey]}},{key:"getDefaultEntrezGeneId",value:function(e){return e.gene.entrezGeneId}},{key:"customFilterApplier",value:function(e,t,n){t=Object(F.a)(t);var r=!1;return e.position&&(r=!!n[t.proteinPosStart+""]),r&&e.hotspot&&this.indexedHotspotData.result&&(r=Object(i.v)(t,this.indexedHotspotData.result,i.j)),r&&e.oncokb&&this.oncoKbData.result&&!(this.oncoKbData.result instanceof Error)&&(r=Object(i.k)(t,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId)),r}},{key:"dataFetcher",get:function(){return new i.a({myGeneUrlTemplate:this.mutationMapperConfig.mygene_info_url||void 0,uniprotIdUrlTemplate:this.mutationMapperConfig.uniprot_id_url||void 0,genomeNexusUrl:this.mutationMapperConfig.genomenexus_url||void 0,oncoKbUrl:this.mutationMapperConfig.oncokb_public_api_url||void 0},u.a,l.a,c.a)}},{key:"unfilteredMutationsByPosition",get:function(){return Object(w.j)(this.dataStore.sortedData)}},{key:"oncoKbDataByProteinPosStart",get:function(){return!this.oncoKbData.result||this.oncoKbData.result instanceof Error?{}:Object(i.r)(this.unfilteredMutationsByPosition,this.oncoKbData.result,this.getDefaultTumorType,this.getDefaultEntrezGeneId,j.a)}},{key:"processedMutationData",get:function(){return(this.mutationData.result||[]).map(function(e){return[e]})}},{key:"mergedAlignmentData",get:function(){return Object(g.e)(this.indexedAlignmentData)}},{key:"indexedAlignmentData",get:function(){return Object(y.R)(this.alignmentData)}},{key:"sortedMergedAlignmentData",get:function(){return Object(b.c)(this.mergedAlignmentData,function(e){return[e.identity,e.alignment.length,e.identityPerc].concat(B(Object(g.b)(e.pdbId,!0)),[-1*e.chain.charCodeAt(0)])},!1)}},{key:"transcriptsByTranscriptId",get:function(){return r.keyBy(this.allTranscripts.result,function(e){return e.transcriptId})}},{key:"mutationsByTranscriptId",get:function(){var e=this;return this.indexedVariantAnnotations.result&&this.transcriptsWithAnnotations.result?r.fromPairs(this.transcriptsWithAnnotations.result.map(function(t){return[t,Object(i.q)(e.getMutations(),t,e.indexedVariantAnnotations.result)]})):{}}},{key:"numberOfMutationsTotal",get:function(){return this.getMutations().length}},{key:"dataStore",get:function(){return new L(this.processedMutationData,this.customFilterApplier)}},{key:"downloadDataFetcher",get:function(){return new v.a(this.mutationData)}},{key:"pdbChainDataStore",get:function(){return new k(this.sortedMergedAlignmentData.filter(function(e){return!g.a.includes(e.pdbId.toLowerCase())}))}},{key:"residueMappingCache",get:function(){return new h}}])&&H(n.prototype,o),s&&H(n,s),t}();Q([o.computed],W.prototype,"dataFetcher",null),Q([_.default],W.prototype,"getDefaultTumorType",null),Q([_.default],W.prototype,"getDefaultEntrezGeneId",null),Q([_.default],W.prototype,"customFilterApplier",null),Q([o.computed],W.prototype,"unfilteredMutationsByPosition",null),Q([o.computed],W.prototype,"oncoKbDataByProteinPosStart",null),Q([o.computed],W.prototype,"processedMutationData",null),Q([o.computed],W.prototype,"mergedAlignmentData",null),Q([o.computed],W.prototype,"indexedAlignmentData",null),Q([o.computed],W.prototype,"sortedMergedAlignmentData",null),Q([o.computed],W.prototype,"transcriptsByTranscriptId",null),Q([o.computed],W.prototype,"mutationsByTranscriptId",null),Q([o.computed],W.prototype,"numberOfMutationsTotal",null),Q([a.cached],W.prototype,"dataStore",null),Q([a.cached],W.prototype,"downloadDataFetcher",null),Q([a.cached],W.prototype,"pdbChainDataStore",null),Q([a.cached],W.prototype,"residueMappingCache",null)},function(e,t,n){"use strict";var r=n(152),o=n(505),a=n(9),i=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function d(e,t){var n=e.studyId?e.studyId:t;return"".concat(n,"~").concat(e.entityId)}function f(e,t,n,o){return p(this,void 0,void 0,regeneratorRuntime.mark(function a(){var u,l,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u=i.a.groupBy(e,"studyId"),l=Object.keys(u),a.next=4,Promise.all(l.map(function(e){return r.a.fetchClinicalDataUsingPOST({clinicalDataType:n,clinicalDataMultiStudyFilter:{attributeIds:t,identifiers:u[e]},projection:o})}));case 4:return c=a.sent,a.abrupt("return",c.map(function(e,t){return{data:e,meta:l[t]}}));case 6:case"end":return a.stop()}},a)}))}var m=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,d,function(e){return"".concat(e.studyId,"~").concat(e.sampleId)},f,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o["a"]),t}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return v});var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,g(t).call(this,["CANCER_TYPE_DETAILED"],"SAMPLE","SUMMARY"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,m),t}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputToKey=t,this.inputToOutput=n,this.memo={}}var t,n,o;return t=e,(n=[{key:"get",value:function(e){var t=this.inputToKey(e);return this.memo[t]=this.memo[t]||this.inputToOutput(e),this.memo[t]}},{key:"has",value:function(e){return this.inputToKey(e)in this.memo}}])&&r(t.prototype,n),o&&r(t,o),e}();function a(e){return JSON.stringify(e,Object.keys(e).sort())}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=new o(t,function(t){return function(n){return e(n,t)}});return function(e){return n.get(e)}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(7),i=n(54),u=n(595),l=n(663),c=n(504),s=n(529),p=n(9),d=n.n(p),f=n(548),m=n(2),h=n(67),y=n(519),g=n.n(y),b=n(591);var v=n(44),S=n.n(v),T=n(590),C=n(517),I=n(571),A=n(553),E=n(625),P=n(151),k=n(5),_=n(512),w=n(572);function O(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return B});var x,L=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":G(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},j=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};!function(e){e.CASE_ID="case_id",e.CASE_LIST="case_list",e.NONE=""}(x||(x={}));var F="show_samples",B="clinicallist",H="heatmap_track_groups",K="treatment_list",V=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?N(e):t}(this,R(t).call(this,e))).columnMode="patient",n.sortMode={type:"data"},n.distinguishGermlineMutations=!0,n.distinguishMutationType=!0,n.sortByMutationType=!0,n.sortByDrivers=!0,n.showUnalteredColumns=!0,n.showWhitespaceBetweenColumns=!0,n.showClinicalTrackLegends=!0,n._onlyShowClinicalLegendForAlteredCases=!1,n.showOqlInLabels=!1,n.selectedTreatmentsFromUrl=[],n.showMinimap=!1,n.selectedHeatmapProfile="",n.heatmapGeneInputValue="",n.horzZoom=.5,n.mouseInsideBounds=!1,n.renderingComplete=!1,n.selectedClinicalAttributeIds=a.observable.shallowMap(),n.expansionsByGeneticTrackKey=a.observable.map(),n.expansionsByGenesetHeatmapTrackKey=a.observable.map(),n.molecularProfileIdToHeatmapTracks=a.observable.map(),n.unalteredKeys=Object(i.b)({await:function(){return[n.geneticTracks]},invoke:function(){return j(N(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.h)(this.geneticTracks.result));case 1:case"end":return e.stop()}},e,this)}))}}),n.treatmentSelectOptions=Object(i.b)({await:function(){return[n.props.store.treatmentsInStudies]},invoke:function(){return j(N(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(A.f)(this.props.store.treatmentsInStudies.result||[]));case 1:case"end":return e.stop()}},e,this)}))}}),n.alteredKeys=Object(i.b)({await:function(){return[n.geneticTracks]},invoke:function(){return j(N(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(s.c)(this.geneticTracks.result));case 1:case"end":return e.stop()}},e,this)}))},default:[]}),n.sampleGeneticTracks=Object(s.l)(N(n),!0),n.patientGeneticTracks=Object(s.l)(N(n),!1),n.sampleClinicalTracks=Object(s.i)(N(n),!0),n.patientClinicalTracks=Object(s.i)(N(n),!1),n.sampleHeatmapTracks=Object(s.m)(N(n),!0),n.patientHeatmapTracks=Object(s.m)(N(n),!1),n.sampleTreatmentHeatmapTracks=Object(s.n)(N(n),!0),n.patientTreatmentHeatmapTracks=Object(s.n)(N(n),!1),n.sampleGenesetHeatmapTracks=Object(s.k)(N(n),!0,Object(s.j)(N(n),!0)),n.patientGenesetHeatmapTracks=Object(s.k)(N(n),!1,Object(s.j)(N(n),!1)),n.loadingGeneticDataDuringCurrentLoad=!1,n.loadingClinicalDataDuringCurrentLoad=!1,n.showOqlInLabels=e.store.queryContainsOql,window.resultsViewOncoprint=N(n),Object(f.a)(e.store.molecularProfileIdToMolecularProfile,function(e){n.initFromUrlParams(Object(k.a)().globalStores.routing.location.query)}),Object(f.a)(e.store.studyIds,function(e){e.length>1&&n.selectedClinicalAttributeIds.set(C.a.StudyOfOrigin,!0)}),Object(f.a)([e.store.samples,e.store.patients],function(e,t){e.length!==t.length&&n.selectedClinicalAttributeIds.set(C.a.NumSamplesPerPatient,!0)}),Object(f.a)(e.store.clinicalAttributes_profiledIn,function(e){var t=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var u=a.value;n.selectedClinicalAttributeIds.set(u.clinicalAttributeId,!0)}}catch(e){r=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}});var r=N(n);return n.onChangeSelectedClinicalTracks=n.onChangeSelectedClinicalTracks.bind(N(n)),n.onDeleteClinicalTrack=n.onDeleteClinicalTrack.bind(N(n)),n.onMinimapClose=n.onMinimapClose.bind(N(n)),n.oncoprintRef=n.oncoprintRef.bind(N(n)),n.toggleColumnMode=n.toggleColumnMode.bind(N(n)),n.onTrackSortDirectionChange=n.onTrackSortDirectionChange.bind(N(n)),n.onSuppressRendering=n.onSuppressRendering.bind(N(n)),n.onReleaseRendering=n.onReleaseRendering.bind(N(n)),Object(f.a)(n.props.store.heatmapMolecularProfiles,function(e){e.length&&(n.selectedHeatmapProfile=e[0].molecularProfileId)}),n.heatmapGeneInputValueUpdater=Object(f.a)(n.props.store.genes,function(e){n.heatmapGeneInputValue=e.map(function(e){return e.hugoGeneSymbol}).join(" ")},Number.POSITIVE_INFINITY),n.onMouseEnter=n.onMouseEnter.bind(N(n)),n.onMouseLeave=n.onMouseLeave.bind(N(n)),n.urlParamsReaction=Object(a.reaction)(function(){return[n.columnMode,n.heatmapTrackGroupsUrlParam,n.clinicalTracksUrlParam,n.treatmentsUrlParam]},function(){var e=Object.assign({},Object(k.a)().globalStores.routing.location.query);e[F]=("sample"===n.columnMode)+"",n.clinicalTracksUrlParam?e[B]=n.clinicalTracksUrlParam:delete e[B],n.heatmapTrackGroupsUrlParam?e[H]=n.heatmapTrackGroupsUrlParam:delete e[H],n.treatmentsUrlParam?e[K]=n.treatmentsUrlParam:delete e[K],Object(k.a)().globalStores.routing.updateRoute(e,void 0,!0,!0)}),n.controlsHandlers=n.buildControlsHandlers(),n.controlsState=Object(a.observable)({get selectedClinicalAttributeIds(){return r.selectedClinicalAttributeIds.keys()},get selectedColumnType(){return r.columnMode},get showUnalteredColumns(){return r.showUnalteredColumns},get showWhitespaceBetweenColumns(){return r.showWhitespaceBetweenColumns},get showClinicalTrackLegends(){return r.showClinicalTrackLegends},get onlyShowClinicalLegendForAlteredCases(){return r.onlyShowClinicalLegendForAlteredCases},get showOqlInLabels(){return r.showOqlInLabels},get showMinimap(){return r.showMinimap},get hideHeatmapMenu(){return r.props.store.studies.result.length>1},get sortByMutationType(){return r.sortByMutationType},get sortByCaseListDisabled(){return!r.caseListSortPossible},get distinguishMutationType(){return r.distinguishMutationType},get distinguishDrivers(){return r.distinguishDrivers},get distinguishGermlineMutations(){return r.distinguishGermlineMutations},get annotateDriversOncoKb(){return r.props.store.driverAnnotationSettings.oncoKb},get annotateDriversOncoKbDisabled(){return!m.b.serverConfig.show_oncokb},get annotateDriversOncoKbError(){return r.props.store.didOncoKbFailInOncoprint},get annotateDriversHotspots(){return r.props.store.driverAnnotationSettings.hotspots},get annotateDriversHotspotsDisabled(){return!m.b.serverConfig.show_hotspot},get annotateDriversHotspotsError(){return r.props.store.didHotspotFailInOncoprint},get annotateDriversCBioPortal(){return r.props.store.driverAnnotationSettings.cbioportalCount},get annotateDriversCOSMIC(){return r.props.store.driverAnnotationSettings.cosmicCount},get hidePutativePassengers(){return r.props.store.driverAnnotationSettings.excludeVUS},get hideGermlineMutations(){return r.props.store.excludeGermlineMutations},get annotateCBioPortalInputValue(){return r.props.store.driverAnnotationSettings.cbioportalCountThreshold+""},get annotateCOSMICInputValue(){return r.props.store.driverAnnotationSettings.cosmicCountThreshold+""},get sortMode(){return r.sortMode},get sortByDrivers(){return r.sortByDrivers},get heatmapProfilesPromise(){return r.props.store.heatmapMolecularProfiles},get treatmentsPromise(){return r.props.store.treatmentsInStudies},get selectedHeatmapProfile(){return r.selectedHeatmapProfile},get selectedHeatmapProfileAlterationType(){return r.selectedHeatmapProfileAlterationType},get heatmapIsDynamicallyQueried(){return r.heatmapIsDynamicallyQueried},get clusterHeatmapButtonActive(){return r.isClusteredByCurrentSelectedHeatmapProfile},get hideClusterHeatmapButton(){var e=r.props.store.genesetMolecularProfile.result&&r.props.store.genesetMolecularProfile.result.value&&r.props.store.genesetMolecularProfile.result.value.molecularProfileId;return!(r.molecularProfileIdToHeatmapTracks.get(r.selectedHeatmapProfile)||r.selectedHeatmapProfile===e)},get heatmapGeneInputValue(){return r.heatmapGeneInputValue},get customDriverAnnotationBinaryMenuLabel(){var e=m.b.serverConfig.oncoprint_custom_driver_annotation_binary_menu_label,t=r.props.store.customDriverAnnotationReport.result;return e&&t&&t.hasBinary?e:void 0},get customDriverAnnotationTiersMenuLabel(){var e=m.b.serverConfig.oncoprint_custom_driver_annotation_tiers_menu_label,t=r.props.store.customDriverAnnotationReport.result;return e&&t&&t.tiers.length?e:void 0},get customDriverAnnotationTiers(){var e=r.props.store.customDriverAnnotationReport.result;return e&&e.tiers.length?e.tiers:void 0},get annotateCustomDriverBinary(){return r.props.store.driverAnnotationSettings.customBinary},get selectedCustomDriverAnnotationTiers(){return r.props.store.driverAnnotationSettings.driverTiers},get columnMode(){return r.columnMode},get horzZoom(){return isNaN(r.horzZoom)?1:r.horzZoom},get selectedTreatmentsInit(){return r.selectedTreatmentsFromUrl}}),n}var n,p,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,r["Component"]),n=t,(p=[{key:"onMouseEnter",value:function(){this.mouseInsideBounds=!0}},{key:"onMouseLeave",value:function(){this.mouseInsideBounds=!1}},{key:"componentWillUnmount",value:function(){this.urlParamsReaction()}},{key:"selectHeatmapProfile",value:function(e){var t=this;Object(f.a)(this.props.store.heatmapMolecularProfiles,function(n){t.selectedHeatmapProfile=t.props.store.heatmapMolecularProfiles.result[e].molecularProfileId})}},{key:"setAnnotateCBioPortalInputValue",value:function(e){this.controlsHandlers.onChangeAnnotateCBioPortalInputValue&&this.controlsHandlers.onChangeAnnotateCBioPortalInputValue(e)}},{key:"setAnnotateCOSMICInputValue",value:function(e){this.controlsHandlers.onChangeAnnotateCOSMICInputValue&&this.controlsHandlers.onChangeAnnotateCOSMICInputValue(e)}},{key:"buildControlsHandlers",value:function(){var e=this;return{onSelectColumnType:function(t){e.setColumnMode(t)},onSelectShowUnalteredColumns:function(t){e.showUnalteredColumns=t},onSelectShowWhitespaceBetweenColumns:function(t){e.showWhitespaceBetweenColumns=t},onSelectShowClinicalTrackLegends:function(t){e.showClinicalTrackLegends=t},onSelectOnlyShowClinicalLegendForAlteredCases:function(t){e._onlyShowClinicalLegendForAlteredCases=t},onSelectShowOqlInLabels:function(t){e.showOqlInLabels=t},onSelectShowMinimap:function(t){e.showMinimap=t},onSelectDistinguishMutationType:function(t){e.distinguishMutationType=t},onSelectDistinguishDrivers:Object(a.action)(function(t){t?(e.controlsState.annotateDriversOncoKbDisabled||e.controlsState.annotateDriversOncoKbError||(e.props.store.driverAnnotationSettings.oncoKb=!0),e.controlsState.annotateDriversHotspotsDisabled||e.controlsState.annotateDriversHotspotsError||(e.props.store.driverAnnotationSettings.hotspots=!0),e.props.store.driverAnnotationSettings.cbioportalCount=!0,e.props.store.driverAnnotationSettings.cosmicCount=!0,e.props.store.driverAnnotationSettings.customBinary=!0,e.props.store.driverAnnotationSettings.driverTiers.forEach(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(n,!0)})):(e.props.store.driverAnnotationSettings.oncoKb=!1,e.props.store.driverAnnotationSettings.hotspots=!1,e.props.store.driverAnnotationSettings.cbioportalCount=!1,e.props.store.driverAnnotationSettings.cosmicCount=!1,e.props.store.driverAnnotationSettings.customBinary=!1,e.props.store.driverAnnotationSettings.driverTiers.forEach(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(n,!1)}),e.props.store.driverAnnotationSettings.excludeVUS=!1)}),onSelectDistinguishGermlineMutations:function(t){e.distinguishGermlineMutations=t},onSelectAnnotateOncoKb:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.oncoKb=t}),onSelectAnnotateHotspots:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.hotspots=t}),onSelectAnnotateCBioPortal:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCount=t}),onSelectAnnotateCOSMIC:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.cosmicCount=t}),onChangeAnnotateCBioPortalInputValue:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCountThreshold=parseInt(t,10),e.controlsHandlers.onSelectAnnotateCBioPortal&&e.controlsHandlers.onSelectAnnotateCBioPortal(!0)}),onChangeAnnotateCOSMICInputValue:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.cosmicCountThreshold=parseInt(t,10),e.controlsHandlers.onSelectAnnotateCOSMIC&&e.controlsHandlers.onSelectAnnotateCOSMIC(!0)}),onSelectCustomDriverAnnotationBinary:Object(a.action)(function(t){e.props.store.driverAnnotationSettings.customBinary=t}),onSelectCustomDriverAnnotationTier:Object(a.action)(function(t,n){e.props.store.driverAnnotationSettings.driverTiers.set(t,n)}),onSelectHidePutativePassengers:function(t){e.props.store.driverAnnotationSettings.excludeVUS=t},onSelectHideGermlineMutations:function(t){e.props.store.excludeGermlineMutations=t},onSelectSortByMutationType:function(t){e.sortByMutationType=t},onClickSortAlphabetical:function(){e.sortMode={type:"alphabetical"}},onClickSortCaseListOrder:function(){e.sortMode={type:"caseList"}},onSelectSortByDrivers:function(t){e.sortByDrivers=t},onClickSortByData:function(){e.sortMode={type:"data"}},onChangeSelectedClinicalTracks:this.onChangeSelectedClinicalTracks,onChangeHeatmapGeneInputValue:Object(a.action)(function(t){e.heatmapGeneInputValue=t,e.heatmapGeneInputValueUpdater()}),onSelectHeatmapProfile:function(t){e.selectedHeatmapProfile=t},onClickAddGenesToHeatmap:function(){var t=Object(_.g)(e.heatmapGeneInputValue.toUpperCase().trim()).map(function(e){return e.gene});e.addHeatmapTracks(e.selectedHeatmapProfile,t)},onClickAddTreatmentsToHeatmap:function(t){e.addHeatmapTracks(e.selectedHeatmapProfile,t)},onClickRemoveHeatmap:Object(a.action)(function(){e.molecularProfileIdToHeatmapTracks.clear()}),onClickClusterHeatmap:function(){e.isClusteredByCurrentSelectedHeatmapProfile?e.sortByData():e.sortMode={type:"heatmap",clusteredHeatmapProfile:e.selectedHeatmapProfile}},onClickDownload:function(t){switch(t){case"pdf":Object(b.a)("oncoprint.pdf",e.oncoprint.toSVG(!1));break;case"png":e.oncoprint.toCanvas(function(e,t){e.toBlob(function(n){t&&alert("Oncoprint too large - PNG truncated to ".concat(e.getAttribute("width"),"x").concat(e.getAttribute("height"))),g()(n,"oncoprint.png")})},2);break;case"svg":g()((new XMLSerializer).serializeToString(e.oncoprint.toSVG(!1)),"oncoprint.svg");break;case"order":var n=e.columnMode[0].toUpperCase()+e.columnMode.slice(1);Object(f.a)([e.props.store.sampleKeyToSample,e.props.store.patientKeyToPatient],function(t,r){var o="".concat(n," order in the Oncoprint is:\n"),a=(e.columnMode,e.oncoprint.getIdOrder().map("sample"===e.columnMode?function(e){return t[e].sampleId}:function(e){return r[e].patientId})),i=!0,u=!1,l=void 0;try{for(var c,s=a[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var p=c.value;o+="".concat(p,"\n")}}catch(e){u=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(u)throw l}}g()(o,"OncoPrint".concat(n,"s.txt"))});break;case"tabular":Object(f.a)([e.props.store.sampleKeyToSample,e.props.store.patientKeyToPatient],function(t,n){!function(e,t,n,r,o,a,i,u,l){var c=a.map(i),s="sample"===u?"SAMPLE_DATA_":"PATIENT_DATA_",p={CLINICAL:{},CNA:{},MUTATIONS:{},MRNA:{},PROTEIN:{},FUSION:{}},d={amp:"Amplification",gain:"Gain",hetloss:"Shallow Deletion",homdel:"Deep Deletion"},f={};f=l?{inframe:"Inframe Mutation (putative passenger)",inframe_rec:"Inframe Mutation (putative driver)",missense:"Missense Mutation (putative passenger)",missense_rec:"Missense Mutation (putative driver)",promoter:"Promoter Mutation",promoter_rec:"Promoter Mutation",trunc:"Truncating mutation (putative passenger)",trunc_rec:"Truncating mutation (putative driver)"}:{inframe:"Inframe Mutation",inframe_rec:"Inframe Mutation",missense:"Missense Mutation",missense_rec:"Missense Mutation",promoter:"Promoter Mutation",promoter_rec:"Promoter Mutation",trunc:"Truncating mutation",trunc_rec:"Truncating mutation"};var m={high:"mRNA High",low:"mRNA Low"},h={low:"Protein Low",high:"Protein High"},y={true:"Fusion"},b=!0,v=!1,S=void 0;try{for(var T,C=e[Symbol.iterator]();!(b=(T=C.next()).done);b=!0){var I=T.value.data,A=I[0].trackLabel;void 0===p.CNA[A]&&(p.CNA[A]={}),void 0===p.MUTATIONS[A]&&(p.MUTATIONS[A]={}),void 0===p.MRNA[A]&&(p.MRNA[A]={}),void 0===p.PROTEIN[A]&&(p.PROTEIN[A]={}),void 0===p.FUSION[A]&&(p.FUSION[A]={});var E=!0,P=!1,k=void 0;try{for(var _,w=I[Symbol.iterator]();!(E=(_=w.next()).done);E=!0){var O=_.value,M="sample"===u?O.sample:O.patient;p.CNA[A][M]="",p.MUTATIONS[A][M]="",p.MRNA[A][M]="",p.PROTEIN[A][M]="",p.FUSION[A][M]="",void 0!==O.disp_cna&&(p.CNA[A][M]=d[O.disp_cna]?d[O.disp_cna]:O.disp_cna),void 0!==O.disp_fusion&&(p.FUSION[A][M]=y[O.disp_fusion+""]?y[O.disp_fusion+""]:O.disp_fusion),void 0!==O.disp_mrna&&(p.MRNA[A][M]=m[O.disp_mrna]?m[O.disp_mrna]:O.disp_mrna),void 0!==O.disp_prot&&(p.PROTEIN[A][M]=h[O.disp_prot]?h[O.disp_prot]:O.disp_prot),void 0!==O.disp_mut&&(p.MUTATIONS[A][M]=f[O.disp_mut]?f[O.disp_mut]:O.disp_mut)}}catch(e){P=!0,k=e}finally{try{E||null==w.return||w.return()}finally{if(P)throw k}}}}catch(e){v=!0,S=e}finally{try{b||null==C.return||C.return()}finally{if(v)throw S}}var R=!0,N=!1,D=void 0;try{for(var G,x=t[Symbol.iterator]();!(R=(G=x.next()).done);R=!0){var L=G.value,j=L.data,F=L.label;void 0===p.CLINICAL[F]&&(p.CLINICAL[F]={});var B=!0,H=!1,K=void 0;try{for(var V,q=j[Symbol.iterator]();!(B=(V=q.next()).done);B=!0){var U=V.value,Q="sample"===u?U.sample:U.patient;p.CLINICAL[F][Q]="",void 0!==U.attr_val&&(p.CLINICAL[F][Q]=U.attr_val)}}catch(e){H=!0,K=e}finally{try{B||null==q.return||q.return()}finally{if(H)throw K}}}}catch(e){N=!0,D=e}finally{try{R||null==x.return||x.return()}finally{if(N)throw D}}var z=n.concat(r).concat(o),W=!0,Y=!1,Z=void 0;try{for(var J,X=z[Symbol.iterator]();!(W=(J=X.next()).done);W=!0){var $=J.value,ee=$.label,te="HEATMAP "+$.molecularAlterationType+" "+$.datatype,ne=$.data,re=!0,oe=!1,ae=void 0;try{for(var ie,ue=ne[Symbol.iterator]();!(re=(ie=ue.next()).done);re=!0){var le=ie.value;void 0===p[te]&&(p[te]={}),void 0===p[te][ee]&&(p[te][ee]={});var ce="sample"===u?le.sample:le.patient;p[te][ee][ce]=null===le.profile_data?"":le.profile_data}}catch(e){oe=!0,ae=e}finally{try{re||null==ue.return||ue.return()}finally{if(oe)throw ae}}}}catch(e){Y=!0,Z=e}finally{try{W||null==X.return||X.return()}finally{if(Y)throw Z}}for(var se="track_name\ttrack_type",pe=0;pe<c.length;pe++)se+="\t"+c[pe];se+="\n",Object.keys(p).forEach(function(e){Object.keys(p[e]).forEach(function(t){se+=t+"\t"+e;for(var n=0;n<c.length;n++)se+="\t"+p[e][t][c[n]];se+="\n"})}),g()(se,s+"oncoprint.tsv")}(e.geneticTracks.result,e.clinicalTracks.result,e.heatmapTracks.result,e.treatmentHeatmapTracks.result,e.genesetHeatmapTracks.result,e.oncoprint.getIdOrder(),"sample"===e.columnMode?function(e){return t[e].sampleId}:function(e){return n[e].patientId},e.columnMode,e.distinguishDrivers)})}},onSetHorzZoom:function(t){e.oncoprint.setHorzZoom(t)},onClickZoomIn:function(){e.oncoprint.setHorzZoom(e.oncoprint.getHorzZoom()/.7)},onClickZoomOut:function(){e.oncoprint.setHorzZoom(.7*e.oncoprint.getHorzZoom())}}}},{key:"initFromUrlParams",value:function(e){var t=this;if(e[F]&&(this.columnMode=e[F]&&"true"===e[F]?"sample":"patient"),e[K]&&(this.selectedTreatmentsFromUrl=e[K].split(";")),e[H]){var n=e[H].split(";").map(function(e){return e.split(",")}),r=!0,o=!1,a=void 0;try{for(var i,u=n[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;this.addHeatmapTracks(l[0],l.slice(1))}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}e[B]&&e[B].split(",").map(function(e){return t.selectedClinicalAttributeIds.set(e,!0)});if(e.oncoprint_sortby)switch(e.oncoprint_sortby){case x.CASE_ID:this.configureSortMode("alphabetical",!1,!1);break;case x.CASE_LIST:this.caseListSortPossible&&this.configureSortMode("caseList",!1,!1)}}},{key:"configureSortMode",value:function(e,t,n){this.sortMode={type:e},this.sortByMutationType=t,this.sortByDrivers=n}},{key:"sortByData",value:function(){this.sortMode={type:"data"}}},{key:"addHeatmapTracks",value:function(e,t){var n=this.props.store.molecularProfileIdToMolecularProfile.result[e];if(n){var r=this.molecularProfileIdToHeatmapTracks.get(e);if(!r){var o=2,i=!0,u=!1,l=void 0;try{for(var c,s=this.molecularProfileIdToHeatmapTracks.values()[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var p=c.value;o=Math.max(o,p.trackGroupIndex+1)}}catch(e){u=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(u)throw l}}r=Object(a.observable)({trackGroupIndex:o,molecularProfileId:e,molecularAlterationType:n.molecularAlterationType,entities:a.observable.shallowMap({})}),this.molecularProfileIdToHeatmapTracks.set(e,r)}var d=!0,f=!1,m=void 0;try{for(var h,y=t[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value;r.entities.set(g,!0)}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}}}},{key:"toggleColumnMode",value:function(){"sample"===this.columnMode?this.controlsHandlers.onSelectColumnType&&this.controlsHandlers.onSelectColumnType("patient"):this.controlsHandlers.onSelectColumnType&&this.controlsHandlers.onSelectColumnType("sample")}},{key:"oncoprintRef",value:function(e){var t=this;this.oncoprint=e,this.props.addOnBecomeVisibleListener&&this.props.addOnBecomeVisibleListener(function(){return t.oncoprint.triggerPendingResizeAndOrganize(t.onReleaseRendering)}),this.oncoprint.onHorzZoom(function(e){return t.horzZoom=e}),this.horzZoom=this.oncoprint.getHorzZoom(),Object(f.a)(this.alteredKeys,function(e){t.oncoprint.setHorzZoomToFit(e)})}},{key:"setColumnMode",value:function(e){this.columnMode!==e&&(this.columnMode=e)}},{key:"onMinimapClose",value:function(){this.showMinimap=!1}},{key:"onSuppressRendering",value:function(){this.renderingComplete=!1}},{key:"onReleaseRendering",value:function(){this.renderingComplete=!0}},{key:"clinicalTrackKeyToAttributeId",value:function(e){return e.substr("CLINICALTRACK_".length)}},{key:"clinicalAttributeIdToTrackKey",value:function(e){return"".concat("CLINICALTRACK_").concat(e)}},{key:"onChangeSelectedClinicalTracks",value:function(e){this.selectedClinicalAttributeIds.clear();var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;this.selectedClinicalAttributeIds.set(i,!0)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}},{key:"onDeleteClinicalTrack",value:function(e){this.isHidden||this.selectedClinicalAttributeIds.delete(this.clinicalTrackKeyToAttributeId(e))}},{key:"onTrackSortDirectionChange",value:function(e,t){1!==t&&-1!==t||this.sortByData()}},{key:"getControls",value:function(){return this.oncoprint&&!this.oncoprint.webgl_unavailable&&(this.treatmentSelectOptions.isComplete||this.treatmentSelectOptions.isError)?r.createElement(T.a,{showByDefault:!0,show:!0},r.createElement(l.a,{handlers:this.controlsHandlers,state:this.controlsState,store:this.props.store,treatmentSelectOptions:this.treatmentSelectOptions.result,selectedTreatmentIds:this.selectedTreatmentsFromUrl})):r.createElement("span",null)}},{key:"getProgressItems",value:function(e){0===e&&(this.loadingGeneticDataDuringCurrentLoad=!1,this.loadingClinicalDataDuringCurrentLoad=!1);var t=d.a.some(this.selectedClinicalAttributeIds.keys(),function(e){return!Object(C.c)({clinicalAttributeId:e})});this.geneticTracks.isPending&&(this.loadingGeneticDataDuringCurrentLoad=!0),t&&this.clinicalTracks.isPending&&(this.loadingClinicalDataDuringCurrentLoad=!0);var n,r=[];if(this.props.store.genes.isComplete&&this.props.store.samples.isComplete){var o=this.props.store.genes.result.length,a=this.props.store.samples.result.length;n="Querying ".concat(o," genes in ").concat(a," samples")}else n="Querying ... genes in ... samples";var i="";e>2&&(i=" - this can take several seconds"),r.push({label:"".concat(n).concat(i),promises:[],hideIcon:!0,style:{fontWeight:"bold"}});var u=[];this.loadingGeneticDataDuringCurrentLoad&&u.push("genetic"),this.loadingClinicalDataDuringCurrentLoad&&u.push("clinical"),r.push({label:"Loading ".concat(u.join(" and ")," data"),promises:[this.props.store.molecularData,this.props.store.mutations].concat(O(t?[this.clinicalTracks]:[]))});var l=this.props.store.driverAnnotationSettings.oncoKb,c=this.props.store.driverAnnotationSettings.hotspots;return r.push({label:Object(A.c)(l,c),promises:[this.props.store.filteredAndAnnotatedMolecularData,this.props.store.filteredAndAnnotatedMutations]}),r.push({label:"Rendering"}),r}},{key:"render",value:function(){return r.createElement("div",{style:{position:"relative"}},r.createElement(h.a,{isLoading:this.isHidden,size:"big",centerRelativeToContainer:!1,center:!0,className:"oncoprintLoadingIndicator"},r.createElement("div",null,r.createElement(E.a,{getItems:this.getProgressItems,show:this.isHidden,sequential:!0}))),r.createElement("div",{className:"tabMessageContainer"},r.createElement(I.a,{className:"oncoprint-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),r.createElement(w.a,{store:this.props.store})),r.createElement("div",{className:S()("oncoprintContainer",{fadeIn:!this.isHidden}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},r.createElement(o.Observer,null,this.getControls),r.createElement("div",{style:{position:"relative",marginTop:15}},r.createElement("div",null,r.createElement(u.c,{oncoprintRef:this.oncoprintRef,clinicalTracks:this.clinicalTracks.result,geneticTracks:this.geneticTracks.result,genesetHeatmapTracks:this.genesetHeatmapTracks.result,heatmapTracks:[].concat(this.treatmentHeatmapTracks.result).concat(this.heatmapTracks.result),divId:this.props.divId,width:900,caseLinkOutInTooltips:!0,suppressRendering:this.isLoading,onSuppressRendering:this.onSuppressRendering,onReleaseRendering:this.onReleaseRendering,hiddenIds:this.showUnalteredColumns?void 0:this.unalteredKeys.result,molecularProfileIdToMolecularProfile:this.props.store.molecularProfileIdToMolecularProfile.result,alterationTypesInQuery:this.alterationTypesInQuery,showSublabels:this.showOqlInLabels,horzZoomToFitIds:this.alteredKeys.result,distinguishMutationType:this.distinguishMutationType,distinguishDrivers:this.distinguishDrivers,distinguishGermlineMutations:this.distinguishGermlineMutations,sortConfig:this.sortConfig,showClinicalTrackLegends:this.showClinicalTrackLegends,showWhitespaceBetweenColumns:this.showWhitespaceBetweenColumns,showMinimap:this.showMinimap,onMinimapClose:this.onMinimapClose,onDeleteClinicalTrack:this.onDeleteClinicalTrack,onTrackSortDirectionChange:this.onTrackSortDirectionChange})))))}},{key:"onlyShowClinicalLegendForAlteredCases",get:function(){return this.showClinicalTrackLegends&&this._onlyShowClinicalLegendForAlteredCases}},{key:"caseListSortPossible",get:function(){return!(!this.props.store.givenSampleOrder.isComplete||!this.props.store.givenSampleOrder.result.length)}},{key:"distinguishDrivers",get:function(){return this.props.store.driverAnnotationSettings.driversAnnotated}},{key:"heatmapIsDynamicallyQueried",get:function(){var e=this.props.store.molecularProfileIdToMolecularProfile.result;return e.hasOwnProperty(this.selectedHeatmapProfile)&&"GENESET_SCORE"!==e[this.selectedHeatmapProfile].molecularAlterationType}},{key:"isClusteredByCurrentSelectedHeatmapProfile",get:function(){return"heatmap"===this.sortMode.type&&this.selectedHeatmapProfile===this.sortMode.clusteredHeatmapProfile}},{key:"clinicalTracksUrlParam",get:function(){return this.selectedClinicalAttributeIds.keys().join(",")}},{key:"heatmapTrackGroupsUrlParam",get:function(){return d.a.sortBy(this.molecularProfileIdToHeatmapTracks.values(),function(e){return e.trackGroupIndex}).filter(function(e){return!!e.entities.size}).map(function(e){return"".concat(e.molecularProfileId,",").concat(e.entities.keys().join(","))}).join(";")}},{key:"treatmentsUrlParam",get:function(){return d.a.filter(this.molecularProfileIdToHeatmapTracks.values(),function(e){return e.molecularAlterationType===c.a.GENERIC_ASSAY}).map(function(e){return"".concat(e.entities.keys().join(";"))}).join(";")}},{key:"selectedHeatmapProfileAlterationType",get:function(){return this.props.store.molecularProfileIdToMolecularProfile.result[this.selectedHeatmapProfile].molecularAlterationType}},{key:"sortOrder",get:function(){return"alphabetical"===this.sortMode.type?"sample"===this.columnMode?this.alphabeticalSampleOrder:this.alphabeticalPatientOrder:"caseList"===this.sortMode.type?"sample"===this.columnMode&&this.props.store.givenSampleOrder.isComplete?this.props.store.givenSampleOrder.result.map(function(e){return e.uniqueSampleKey}):"patient"===this.columnMode&&this.props.store.givenSampleOrder.isComplete?d.a.uniq(this.props.store.givenSampleOrder.result.map(function(e){return e.uniquePatientKey})):void 0:void 0}},{key:"alphabeticalSampleOrder",get:function(){return this.props.store.samples.isComplete?d.a.sortBy(this.props.store.samples.result,function(e){return e.sampleId}).map(function(e){return e.uniqueSampleKey}):void 0}},{key:"alphabeticalPatientOrder",get:function(){return this.props.store.patients.isComplete?d.a.sortBy(this.props.store.patients.result,function(e){return e.patientId}).map(function(e){return e.uniquePatientKey}):void 0}},{key:"geneticTracks",get:function(){return"sample"===this.columnMode?this.sampleGeneticTracks:this.patientGeneticTracks}},{key:"clinicalTracks",get:function(){return"sample"===this.columnMode?this.sampleClinicalTracks:this.patientClinicalTracks}},{key:"heatmapTracks",get:function(){return"sample"===this.columnMode?this.sampleHeatmapTracks:this.patientHeatmapTracks}},{key:"treatmentHeatmapTracks",get:function(){return"sample"===this.columnMode?this.sampleTreatmentHeatmapTracks:this.patientTreatmentHeatmapTracks}},{key:"genesetHeatmapTrackGroup",get:function(){return 1+Math.max.apply(Math,[u.b].concat(O(this.heatmapTracks.result.map(function(e){return e.trackGroupIndex})),O(this.treatmentHeatmapTracks.result.map(function(e){return e.trackGroupIndex}))))}},{key:"genesetHeatmapTracks",get:function(){return"sample"===this.columnMode?this.sampleGenesetHeatmapTracks:this.patientGenesetHeatmapTracks}},{key:"clusterHeatmapTrackGroupIndex",get:function(){if("heatmap"===this.sortMode.type){var e=this.sortMode.clusteredHeatmapProfile;if(e===(this.props.store.genesetMolecularProfile.result&&this.props.store.genesetMolecularProfile.result.value&&this.props.store.genesetMolecularProfile.result.value.molecularProfileId))return this.genesetHeatmapTrackGroup;var t=this.molecularProfileIdToHeatmapTracks.get(e);return t&&t.trackGroupIndex}}},{key:"sortConfig",get:function(){return{sortByMutationType:this.sortByMutationType,sortByDrivers:this.sortByDrivers,order:this.sortOrder,clusterHeatmapTrackGroupIndex:this.clusterHeatmapTrackGroupIndex}}},{key:"isLoading",get:function(){return this.clinicalTracks.isPending||this.geneticTracks.isPending||this.genesetHeatmapTracks.isPending||this.heatmapTracks.isPending||this.treatmentHeatmapTracks.isPending}},{key:"isHidden",get:function(){return this.isLoading||!this.renderingComplete}},{key:"loadingIndicatorHeight",get:function(){return 300}},{key:"loadingIndicatorMessage",get:function(){return this.isLoading?"Downloading Oncoprint data...":this.renderingComplete?"":"Data downloaded. Rendering Oncoprint.."}},{key:"alterationTypesInQuery",get:function(){return this.props.store.selectedMolecularProfiles.isComplete?d.a.uniq(this.props.store.selectedMolecularProfiles.result.map(function(e){return e.molecularAlterationType})):[]}}])&&M(n.prototype,p),y&&M(n,y),t}();L([a.observable],V.prototype,"columnMode",void 0),L([a.observable],V.prototype,"sortMode",void 0),L([a.observable],V.prototype,"distinguishGermlineMutations",void 0),L([a.observable],V.prototype,"distinguishMutationType",void 0),L([a.observable],V.prototype,"sortByMutationType",void 0),L([a.observable],V.prototype,"sortByDrivers",void 0),L([a.observable],V.prototype,"showUnalteredColumns",void 0),L([a.observable],V.prototype,"showWhitespaceBetweenColumns",void 0),L([a.observable],V.prototype,"showClinicalTrackLegends",void 0),L([a.observable],V.prototype,"_onlyShowClinicalLegendForAlteredCases",void 0),L([a.observable],V.prototype,"showOqlInLabels",void 0),L([a.computed],V.prototype,"onlyShowClinicalLegendForAlteredCases",null),L([a.observable],V.prototype,"showMinimap",void 0),L([a.observable],V.prototype,"selectedHeatmapProfile",void 0),L([a.observable],V.prototype,"heatmapGeneInputValue",void 0),L([a.observable],V.prototype,"horzZoom",void 0),L([a.observable],V.prototype,"mouseInsideBounds",void 0),L([a.observable],V.prototype,"renderingComplete",void 0),L([a.observable.ref],V.prototype,"oncoprint",void 0),L([a.computed],V.prototype,"caseListSortPossible",null),L([a.computed],V.prototype,"distinguishDrivers",null),L([a.action],V.prototype,"selectHeatmapProfile",null),L([a.action],V.prototype,"setAnnotateCBioPortalInputValue",null),L([a.action],V.prototype,"setAnnotateCOSMICInputValue",null),L([a.computed],V.prototype,"heatmapIsDynamicallyQueried",null),L([a.action],V.prototype,"initFromUrlParams",null),L([a.action],V.prototype,"sortByData",null),L([a.computed],V.prototype,"isClusteredByCurrentSelectedHeatmapProfile",null),L([a.computed],V.prototype,"clinicalTracksUrlParam",null),L([a.computed],V.prototype,"heatmapTrackGroupsUrlParam",null),L([a.computed],V.prototype,"treatmentsUrlParam",null),L([a.computed],V.prototype,"selectedHeatmapProfileAlterationType",null),L([a.action],V.prototype,"onMinimapClose",null),L([a.action],V.prototype,"onSuppressRendering",null),L([a.action],V.prototype,"onReleaseRendering",null),L([a.action],V.prototype,"onChangeSelectedClinicalTracks",null),L([a.computed],V.prototype,"sortOrder",null),L([a.computed],V.prototype,"alphabeticalSampleOrder",null),L([a.computed],V.prototype,"alphabeticalPatientOrder",null),L([a.computed],V.prototype,"geneticTracks",null),L([a.computed],V.prototype,"clinicalTracks",null),L([a.computed],V.prototype,"heatmapTracks",null),L([a.computed],V.prototype,"treatmentHeatmapTracks",null),L([a.computed],V.prototype,"genesetHeatmapTrackGroup",null),L([a.computed],V.prototype,"genesetHeatmapTracks",null),L([a.computed],V.prototype,"clusterHeatmapTrackGroupIndex",null),L([a.computed],V.prototype,"sortConfig",null),L([a.computed],V.prototype,"isLoading",null),L([a.computed],V.prototype,"isHidden",null),L([a.computed],V.prototype,"loadingIndicatorMessage",null),L([a.computed],V.prototype,"alterationTypesInQuery",null),L([P.default],V.prototype,"getControls",null),L([P.default],V.prototype,"getProgressItems",null),V=L([o.observer],V);t.b=V},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(9),a=n(82);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=c(t).call(this,e))||"object"!==i(o)&&"function"!=typeof o?s(r):o).handleSelect=n.handleSelect.bind(s(n)),n}var n,d,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(d=[{key:"render",value:function(){var e=this;return r.createElement(a.Dropdown,{className:this.props.className,id:"dropdown-custom-1"},r.createElement(a.Dropdown.Toggle,u({rootCloseEvent:"click"},{className:"btn-sm"}),this.props.buttonText),r.createElement(a.Dropdown.Menu,u({bsRole:"menu"},{style:{paddingLeft:10,overflow:"auto",maxHeight:300,whiteSpace:"nowrap"}}),r.createElement("ul",{className:"list-unstyled"},this.props.columnVisibility&&o.map(this.props.columnVisibility,function(t){return t.togglable?r.createElement("li",{key:t.id},r.createElement(a.Checkbox,{"data-id":t.id,onChange:e.handleSelect,checked:t.visible,inline:!0},t.name)):null}))))}},{key:"handleSelect",value:function(e){var t=e.currentTarget.getAttribute("data-id");this.props.onColumnToggled&&t&&this.props.onColumnToggled(t,this.props.columnVisibility)}}])&&l(n.prototype,d),f&&l(n,f),t}();d.defaultProps={className:"",buttonText:"Columns"}},,function(e,t,n){"use strict";n.d(t,"a",function(){return G});var r=n(0),o=n(9),a=n(714),i=n.n(a),u=n(18),l=n(7),c=n(44),s=n.n(c),p=n(54),d=n(110),f=n(16),m=n(15),h=n(507),y=n(503),g=n(151),b=n(152),v=n(67),S=n(45);function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var M=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},R=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},D=n(575),G=function(e){function t(){var e;return C(this,t),(e=E(this,k(t).apply(this,arguments))).showDescription=!1,e}return _(t,r["Component"]),A(t,[{key:"render",value:function(){var e=this;return r.createElement("div",{className:i.a.studySummary},r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("span",{className:i.a.studyName},r.createElement("i",{className:"fa fa-".concat(this.showDescription?"minus":"plus","-circle"),onClick:function(){return e.showDescription=!e.showDescription}}),this.props.name),r.createElement("a",{target:"_blank",href:"study?id=".concat(this.props.studyId)},r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"}))),r.createElement("div",{className:i.a.studyDescription,style:{display:this.showDescription?"block":"none"}},r.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(this.props.description.replace(/\r?\n/g,"<br/>"))}}))))}}]),t}();M([l.observable],G.prototype,"showDescription",void 0),G=M([u.observer],G);var x=function(e){function t(e){var n;return C(this,t),(n=E(this,k(t).call(this,e))).saving=!1,n.sharing=!1,n.copied=!1,n.virtualStudy=Object(p.b)({invoke:function(){return R(P(n),void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.saving&&!this.sharing){e.next=8;break}return t=o.groupBy(this.props.selectedSamples,function(e){return e.studyId}),n=o.reduce(t,function(e,t,n){return e.push({id:n,samples:t.map(function(e){return e.sampleId})}),e},[]),r=this.props.filter,r.sampleIdentifiersSet,a=N(r,["sampleIdentifiersSet"]),i={name:this.name||this.namePlaceHolder,description:this.description,studyViewFilter:a,origin:this.props.studyWithSamples.map(function(e){return e.studyId}),studies:n},e.next=7,d.a.saveVirtualStudy(i,this.saving);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",void 0);case 9:case"end":return e.stop()}},e,this)}))}},void 0),n.genes=Object(p.b)({invoke:function(){return R(P(n),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isEmpty(this.entrezIds)){e.next=2;break}return e.abrupt("return",b.a.fetchGenesUsingPOST({geneIdType:"ENTREZ_GENE_ID",geneIds:this.entrezIds}));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}},e,this)}))},onResult:function(e){n.description=Object(h.Y)(n.props.description,n.props.studyWithSamples,n.props.filter,n.attributeNamesSet,e,n.props.user)},default:[]}),n.name=e.name||"",n.description=e.description||"",n}return _(t,r["Component"]),A(t,[{key:"copyLinkRef",value:function(e){var t=this;e&&new D(e,{text:function(){return t.virtualStudyUrl}})}},{key:"onCopyClick",value:function(){this.copied=!0}},{key:"onTooltipVisibleChange",value:function(e){this.copied=!e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:i.a.virtualStudy},r.createElement(v.a,{isLoading:this.genes.isPending,style:{display:"block",textAlign:"center"}}),this.genes.isComplete&&r.createElement(f.If,{condition:this.virtualStudy.isError},r.createElement(f.Then,null,r.createElement("div",{style:{textAlign:"center"}},r.createElement("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true",style:{color:"orange"}}),r.createElement("span",{style:{marginLeft:"5px"}},"Failed to ".concat(this.saving?"save":"share"," virtual study, please try again later.")))),r.createElement(f.Else,null,r.createElement(f.If,{condition:this.virtualStudy.isPending||o.isUndefined(this.virtualStudy.result)},r.createElement(f.Then,null,r.createElement("div",null,r.createElement("div",{className:s()(i.a.virtualStudyForm,this.virtualStudy.isPending?i.a.disabled:void 0)},r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control",value:this.name,placeholder:this.namePlaceHolder||"Virtual study name",onInput:function(t){return e.name=t.currentTarget.value}}),r.createElement("div",{className:"input-group-btn"},this.showSaveButton&&r.createElement("button",{className:s()("btn btn-default",i.a.saveButton),"data-event":Object(S.f)({category:"studyPage",action:"saveVirtualStudy"}),type:"button",disabled:this.buttonsDisabled,onClick:function(t){e.saving=!0}},this.saving?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Save"),r.createElement("button",{className:s()("btn btn-default",i.a.saveButton),type:"button",disabled:this.buttonsDisabled,"data-event":Object(S.f)({category:"studyPage",action:"shareVirtualStudy"}),onClick:function(t){e.sharing=!0}},this.sharing?r.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}):"Share"))),r.createElement("textarea",{className:"form-control",rows:10,placeholder:"Virtual study description (Optional)",value:this.description,onChange:function(t){return e.description=t.currentTarget.value}})),r.createElement("span",{style:{display:"block","font-weight":"bold"}},"This virtual study was derived from:"),r.createElement("div",{className:i.a.studiesSummaryInfo},this.props.studyWithSamples.map(function(e){return r.createElement(G,e)})))),r.createElement(f.Else,null,r.createElement("div",{className:s()(i.a.result)},r.createElement("div",{className:i.a.name},r.createElement("a",{target:"_blank",href:"".concat(this.virtualStudyUrl),style:{width:"220px"}},this.virtualStudyUrl)),r.createElement("div",{className:s()("btn-group btn-group-xs",i.a.controls)},r.createElement(y.b,{overlay:r.createElement(f.If,{condition:this.copied},r.createElement(f.Then,null,r.createElement("span",{className:"alert-success"},"Copied!")),r.createElement(f.Else,null,r.createElement("span",null,"Copy"))),placement:"top",onVisibleChange:this.onTooltipVisibleChange},r.createElement("span",{className:"btn btn-default",ref:this.copyLinkRef,onClick:this.onCopyClick},"Copy")),r.createElement("span",{className:"btn btn-default",onClick:function(t){return window.open(e.virtualStudyUrl,"_blank")}},"View"),this.saving&&r.createElement("span",{className:"btn btn-default",onClick:function(t){e.virtualStudy.result&&window.open(Object(m.b)("results",{cancer_study_id:e.virtualStudy.result.id}),"_blank")}},"Query"))))))))}},{key:"namePlaceHolder",get:function(){return"Selected sample".concat(this.props.selectedSamples.length>1?"s":""," (").concat(Object(h.H)(),")")}},{key:"buttonsDisabled",get:function(){return o.isEmpty(this.namePlaceHolder)&&o.isEmpty(this.name)}},{key:"virtualStudyUrl",get:function(){return Object(m.b)({pathname:"study",query:{id:this.virtualStudy.result?this.virtualStudy.result.id:""}})}},{key:"showSaveButton",get:function(){return!(o.isUndefined(this.props.user)||o.isEmpty(this.props.user)||o.isEqual(this.props.user.toLowerCase(),"anonymoususer"))}},{key:"entrezIds",get:function(){var e=[];return this.props.filter&&(this.props.filter.mutatedGenes&&this.props.filter.mutatedGenes.forEach(function(t){e.push.apply(e,T(t.entrezGeneIds))}),this.props.filter.cnaGenes&&this.props.filter.cnaGenes.forEach(function(t){t.alterations.forEach(function(t){e.push(t.entrezGeneId)})})),e}},{key:"attributeNamesSet",get:function(){return o.reduce(this.props.attributesMetaSet,function(e,t,n){return e[n]=t.displayName,e},{})}}]),t}();M([l.observable],x.prototype,"name",void 0),M([l.observable],x.prototype,"description",void 0),M([l.observable],x.prototype,"saving",void 0),M([l.observable],x.prototype,"sharing",void 0),M([l.observable],x.prototype,"copied",void 0),M([l.computed],x.prototype,"namePlaceHolder",null),M([l.computed],x.prototype,"buttonsDisabled",null),M([l.computed],x.prototype,"virtualStudyUrl",null),M([g.default],x.prototype,"copyLinkRef",null),M([g.default,l.action],x.prototype,"onCopyClick",null),M([g.default,l.action],x.prototype,"onTooltipVisibleChange",null),M([l.computed],x.prototype,"showSaveButton",null),M([l.computed],x.prototype,"entrezIds",null),M([l.computed],x.prototype,"attributeNamesSet",null),x=M([u.observer],x),t.b=x},function(e,t,n){e.exports={portalWidth:"DownloadControls-module__portalWidth__3tixv",framedImage:"DownloadControls-module__framedImage__2oA2v",downloadControls:"DownloadControls-module__downloadControls__2BaWH",menuItem:"DownloadControls-module__menuItem__1Lb7k",menuItemEnabled:"DownloadControls-module__menuItemEnabled__1NxX0",menuItemDisabled:"DownloadControls-module__menuItemDisabled__3XfCi"}},function(e,t,n){e.exports={portalWidth:"EllipsisTextTooltip-module__portalWidth__1NNmb",framedImage:"EllipsisTextTooltip-module__framedImage__1LU_K",text:"EllipsisTextTooltip-module__text__2ebQC"}},function(e){e.exports=["ABCB1","ABCB6","ACACA","ACAT1","ACE","ACLY","ACOT4","ACP1","ACTA2","ACVR1","ACVR1B","ADAM19","ADCY5","ADGRB2","ADSSL1","AHSA1","AIFM3","AKR7L","AKT1","AKT2","AKT3","ALK","ALOX15B","AMT","AMY1A","AMY1C","AMY2A","ANK1","ANKLE2","ANKRD11","ANKRD30B","ANOS1","ANXA6","AOC1","AP5B1","APCS","APLP1","APOC1","AR","ARAF","ARHGAP32","ARID1A","ARID1B","ARID2","ARNTL","ASMT","ASXL2","ATM","ATP1A2","ATP1A3","ATP4A","ATP7A","ATRX","ATXN1","AXIN1","AXL","B2M","BACH2","BAP1","BAX","BCL10","BCL2","BCL2L11","BCL6","BCOR","BRAF","BRCA2","BRD4","BTNL3","C10ORF71","C2","C2ORF16","C3","CABP1","CACNA1B","CACNA1E","CALM1","CAMK1","CAMK2D","CAND1","CAPN1","CAPNS1","CARD11","CARM1","CASP1","CASP6","CASP7","CASP8","CBFB","CBL","CCL7","CCND1","CCND3","CCT3","CD300C","CD79B","CD81","CDH1","CDK12","CDK2","CDK4","CDK6","CDK8","CDK9","CDKN1A","CDKN1B","CDKN2A","CDKN2C","CEBPA","CENPA","CENPE","CEP164","CFH","CFHR3","CFL1","CHEK2","CHN2","CIAO1","CIC","CLASP1","CLTC","CLTCL1","CNTN2","COL22A1","COL3A1","COLEC11","COPE","CPB2","CR1","CR1L","CRABP2","CREBBP","CRLF2","CRY1","CSF1","CSF3","CSNK1G1","CST6","CTCF","CTCFL","CTLA4","CTNNB1","CTPS1","CTSD","CTSL","CUL1","CUL3","CUL5","CYP2A6","CYSLTR2","DAXX","DCC","DCLRE1B","DCN","DDC","DDX19A","DDX39B","DDX3X","DICER1","DIS3","DLC1","DLG4","DLX5","DNAJB1","DNAJC6","DNM2","DNMT1","DNMT3A","DNMT3B","DOCK6","DOCK8","DOT1L","DPP4","DPP6","DPYSL3","DUSP8","DUSP9","E2F5","ECHDC3","ECT2L","EEF1A1","EEF1G","EGFR","EGR3","EHMT1","EIF1AX","EIF2AK2","EIF4A2","ENPP6","EP300","EPAS1","EPHA1","EPHA7","EPHB1","EPHB2","EPS15L1","ERBB2","ERBB2IP","ERBB3","ERBB4","ERCC2","ERCC3","ERG","ERRFI1","ESR1","ESYT2","ETS2","ETV6","EZH2","F11R","F7","FAM58A","FAT1","FBXO44","FBXW7","FDX1","FGF1","FGF9","FGFR1","FGFR2","FGFR3","FGFR4","FGG","FH","FHL5","FKBP14","FKBP5","FLNA","FLNB","FLT1","FLT3","FMNL3","FOXA1","FOXL2","FOXO1","FOXP1","FUBP1","GABPA","GAS2L3","GATA1","GATA2","GATA3","GCSH","GGA2","GLI1","GLRX2","GNA11","GNAI3","GNAQ","GNAS","GOLGA2","GPAM","GPS2","GPT2","GRB2","GRIA2","GRM1","GSG2","GSK3B","GTF2I","GUCA1A","GUCY1B3","H2AFJ","H3F3A","HBA2","HDAC1","HDAC3","HDAC6","HDAC8","HES1","HGF","HGFAC","HIC2","HIST1H1C","HIST1H2AE","HIST1H2AH","HIST1H2BB","HIST1H2BC","HIST1H2BD","HIST1H2BE","HIST1H2BH","HIST1H2BI","HIST1H2BL","HIST1H3B","HIST1H3C","HIST1H3E","HIST1H3G","HIST1H3H","HIST1H4E","HIST1H4J","HIST1H4K","HIST1H4L","HIST2H3D","HIST4H4","HLA-A","HLA-B","HLA-DQA1","HNF1A","HNRNPH2","HRAS","HSD17B10","IDH1","IDH2","IFIT1","IFNLR1","IGF1R","IGFBP3","IKZF1","IL13RA2","IL18R1","IL21R","IL6ST","IL7R","ING2","INHBA","INPP4A","INPPL1","IQUB","IRF3","IRF4","IRS2","ISPD","ITFG1","ITGA1","ITGA4","ITGAM","ITGB1","ITGB2","ITPR2","JAK1","JPH2","JUN","KCNA3","KCNH5","KDM4B","KDM5C","KDM6A","KDR","KEAP1","KIAA0586","KIF1A","KIFC1","KIT","KLF4","KLHL3","KMT2C","KMT2D","KNSTRN","KPNB1","KRAS","KRT5","LATS2","LCAT","LCMT1","LDB1","LDB2","LDLRAP1","LGALS1","LGALS9","LHX6","LILRB2","LRRC3B","LRRC55","LYN","MAGIX","MAP1B","MAP2K1","MAP2K2","MAP2K4","MAP2K5","MAP3K1","MAP3K13","MAPK1","MASP1","MASP2","MATN3","MAX","MCF2","MDC1","MDFIC","MDGA2","MECOM","MED12","MEF2B","MET","MGAT1","MKI67","MKX","MLST8","MMEL1","MNDA","MOB1B","MRPL11","MRPL3","MST1","MTOR","MYC","MYCN","MYD88","MYO10","MYOD1","MYOM1","MZF1","NCF1","NCKAP1L","NCOA3","NCS1","NDST3","NEBL","NEDD8","NEIL1","NF1","NFE2L2","NGFR","NME3","NMT1","NONO","NOTCH1","NOTCH2","NRAS","NSD1","NUF2","NUP93","OXSM","OXSR1","PACSIN1","PACSIN3","PAK7","PARD3","PARP1","PAX5","PAXIP1","PBRM1","PCBD2","PCBP1","PCDH15","PCDHA4","PCDHB13","PCDHB8","PDE11A","PDGFRA","PDPK1","PDXP","PECR","PGR","PIK3CA","PIK3CB","PIK3CD","PIK3R1","PIK3R2","PIM1","PIWIL2","PLEK","PLEKHA6","PLEKHH1","PLEKHH2","PLG","PLK2","PLXNB1","PMS2","POLE","POLH","POLI","POLM","POR","POTEE","POTEF","PPARG","PPFIA3","PPIP5K2","PPP2R1A","PPP3CA","PPP4R2","PPP6C","PRDM14","PRELID1","PREX2","PRKCB","PRKCI","PRLR","PROCR","PRPF31","PRUNE2","PSAP","PSMB3","PTBP2","PTEN","PTK2B","PTP4A1","PTPN1","PTPN11","PTPRD","PTPRF","PTPRR","PTPRS","PTPRT","PUM1","PYGM","RAB30","RAB33B","RABGAP1L","RAC1","RAD50","RAD51C","RAD52","RAF1","RALYL","RANBP6","RARA","RB1","RBBP7","RBM10","RBM46","RBMS3","RBP2","RBP4","RBP7","RECQL","RECQL4","RELA","RET","RGAG4","RGPD3","RGS6","RHCG","RHEB","RHOA","RICTOR","RIT1","RNF111","RNF41","RNF43","RNF7","RORC","RPRD1B","RPS6KA3","RPS6KA4","RPS6KB1","RPTOR","RQCD1","RRAS2","RUNX1","RXRA","RYR2","S100A14","S100A2","S100A3","SALL3","SDC3","SDHA","SDHAF2","SDR39U1","SELE","SERPINB3","SESN2","SETBP1","SETD2","SF3B1","SH3GL1","SH3GLB2","SHROOM4","SIRT3","SLC12A2","SLC25A11","SLC25A4","SLC25A5","SLFNL1","SLIT2","SMAD2","SMAD3","SMAD4","SMARCA4","SMARCB1","SMARCC2","SMARCD1","SMC1A","SMG7","SMO","SMURF2","SNAP29","SNRNP200","SNRPD3","SNRPN","SNX17","SOCS1","SOCS5","SORL1","SOS1","SOX17","SOX6","SOX9","SPEG","SPON2","SPOP","SPRED1","SRM","SRP9","SRSF2","SSBP1","STARD5","STAT3","STIM1","STK11","STK19","STK24","SUMO3","SUPT5H","SYK","SYT14","SYT7","TAF4B","TBK1","TBL1XR1","TCEB1","TCEB2","TCF21","TCF3","TCF7L2","TDRD7","TEAD2","TET1","TF","TGFBI","TGFBR1","TGFBR2","TH","THADA","THBS2","THRA","THRB","TICAM1","TIGD1","TMPRSS11E","TNFRSF14","TNFSF18","TNR","TOPBP1","TOX","TP53","TP53I3","TP63","TRAF2","TRAF7","TRAP1","TRIM24","TRIM9","TRPV1","TSC1","TSG101","TTC14","TTK","TUBA3D","TUBB2A","TUBB2B","TUBB4A","TXNL4A","U2AF1","UBE2E2","UGP2","UNC5C","UNC79","UQCRFS1","USH1C","USP5","UVSSA","VCL","VHL","VIM","WDR75","WHSC1","WRN","XPO1","ZEB2","ZIC1","ZNF320","ZNF443","ZNF484","ZNF548","ZNF572","ZNF658","ZNF664","ZNF777","ZNF98","ZSCAN16"]},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(54),o=n(73),a=n(506),i=n(584),u=n(665);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})},h=function(e){function t(e,n,i,u,l,p,f,h,y,g,b,v,S,T,C,I,A,E,P,k){var _,w,O;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w=this,O=c(t).call(this,e,n,i,p,A,E,l,k,P),(_=!O||"object"!==d(O)&&"function"!=typeof O?s(w):O).mutationMapperConfig=e,_.mutationMapperStoreConfig=n,_.gene=i,_.samples=u,_.oncoKbCancerGenes=l,_.getMutationCountCache=f,_.getGenomeNexusCache=h,_.getGenomeNexusMyVariantInfoCache=y,_.getDiscreteCNACache=g,_.studyToMolecularProfileDiscrete=b,_.studyIdToStudy=v,_.molecularProfileIdToMolecularProfile=S,_.clinicalDataForSamples=T,_.studiesForSamplesWithoutCancerTypeClinicalData=C,_.germlineConsentedSamples=I,_.indexedHotspotData=A,_.indexedVariantAnnotations=E,_.uniqueSampleKeyToTumorType=P,_.oncoKbData=k,_.cosmicData=Object(r.b)({await:function(){return[_.mutationData]},invoke:function(){return Object(a.o)(_.mutationData)}}),_.civicGenes=Object(r.b)({await:function(){return[_.mutationData,_.clinicalDataForSamples]},invoke:function(){return m(s(_),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mutationMapperConfig.show_civic?Object(a.e)(this.mutationData):{});case 1:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),_.civicVariants=Object(r.b)({await:function(){return[_.civicGenes,_.mutationData]},invoke:function(){return m(s(_),void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mutationMapperConfig.show_civic||!this.civicGenes.result){e.next=4;break}return e.abrupt("return",Object(a.f)(this.civicGenes.result,this.mutationData));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},void 0),Object(o.labelMobxPromises)(s(_)),_}var n,f,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,u["a"]),n=t,(f=[{key:"downloadDataFetcher",get:function(){return new i.a(this.mutationData,this.studyToMolecularProfileDiscrete,this.getGenomeNexusCache,this.getGenomeNexusMyVariantInfoCache,this.getMutationCountCache,this.getDiscreteCNACache)}}])&&l(n.prototype,f),h&&l(n,h),t}();f([o.cached],h.prototype,"downloadDataFetcher",null)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(152),o=n(505),a=n(9),i=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function d(e,t){return"".concat(t)}function f(e){return"".concat(e.entrezGeneId)}function m(e,t,n){return p(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,u,l,c,s,p,d,f,m,h,y,g,b,v;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=Object.keys(t),o.next=3,Promise.all(a.map(function(o){var a=n[o],i=t[o],u=e.map(function(e){return e.entrezGeneId});return a&&i&&u.length>0?r.a.fetchMutationsInMolecularProfileUsingPOST({molecularProfileId:i.molecularProfileId,mutationFilter:Object.assign({},a,{entrezGeneIds:u}),projection:"DETAILED"}):Promise.resolve([])}));case 3:for(u=o.sent,l=i.a.keyBy(e,function(e){return e.entrezGeneId}),c=i.a.values(i.a.groupBy(i.a.flatten(u),"entrezGeneId")),s=[],p=!0,d=!1,f=void 0,o.prev=10,m=c[Symbol.iterator]();!(p=(h=m.next()).done);p=!0)(y=h.value).length&&(s.push({meta:y[0].entrezGeneId,data:[y]}),delete l[y[0].entrezGeneId]);o.next=18;break;case 14:o.prev=14,o.t0=o.catch(10),d=!0,f=o.t0;case 18:o.prev=18,o.prev=19,p||null==m.return||m.return();case 21:if(o.prev=21,!d){o.next=24;break}throw f;case 24:return o.finish(21);case 25:return o.finish(18);case 26:for(g=0,b=Object.keys(l);g<b.length;g++)v=b[g],s.push({meta:parseInt(v,10),data:[]});return o.abrupt("return",s);case 28:case"end":return o.stop()}},o,null,[[10,14,18,26],[19,,21,25]])}))}var h=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,f,d,m,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,o["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(505),o=n(152),a=n(9),i=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function d(e){return"".concat(e.molecularProfileId,"~").concat(e.entrezGeneId)}function f(e,t){return"".concat(t.molecularProfileId,"~").concat(t.entrezGeneId)}function m(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,u,l,c,s,p,f,m,h,y,g,b,v,S,T,C,I,A,E,P,k;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.a.mapValues(i.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.entrezGeneId})}),a=Object.keys(r).map(function(e){return{molecularProfileId:e,molecularDataFilter:Object.assign({entrezGeneIds:r[e]},t[e])}}),n.next=4,Promise.all(a.map(function(e){return o.a.fetchAllMolecularDataInMolecularProfileUsingPOST(e)}));case 4:for(u=n.sent,l={},c=!0,s=!1,p=void 0,n.prev=9,f=e[Symbol.iterator]();!(c=(m=f.next()).done);c=!0)h=m.value,l[d(h)]={data:[[]],meta:h};n.next=17;break;case 13:n.prev=13,n.t0=n.catch(9),s=!0,p=n.t0;case 17:n.prev=17,n.prev=18,c||null==f.return||f.return();case 20:if(n.prev=20,!s){n.next=23;break}throw p;case 23:return n.finish(20);case 24:return n.finish(17);case 25:y=!0,g=!1,b=void 0,n.prev=28,v=u[Symbol.iterator]();case 30:if(y=(S=v.next()).done){n.next=54;break}for(T=S.value,C=!0,I=!1,A=void 0,n.prev=35,E=T[Symbol.iterator]();!(C=(P=E.next()).done);C=!0)k=P.value,l[d(k)].data[0].push(k);n.next=43;break;case 39:n.prev=39,n.t1=n.catch(35),I=!0,A=n.t1;case 43:n.prev=43,n.prev=44,C||null==E.return||E.return();case 46:if(n.prev=46,!I){n.next=49;break}throw A;case 49:return n.finish(46);case 50:return n.finish(43);case 51:y=!0,n.next=30;break;case 54:n.next=60;break;case 56:n.prev=56,n.t2=n.catch(28),g=!0,b=n.t2;case 60:n.prev=60,n.prev=61,y||null==v.return||v.return();case 63:if(n.prev=63,!g){n.next=66;break}throw b;case 66:return n.finish(63);case 67:return n.finish(60);case 68:return n.abrupt("return",i.a.values(l));case 69:case"end":return n.stop()}},n,null,[[9,13,17,25],[18,,20,24],[28,56,60,68],[35,39,43,51],[44,,46,50],[61,,63,67]])}))}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,c(t).call(this,d,f,m,e))).molecularProfileIdToSampleFilter=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(505),o=n(83),a=n(9),i=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function d(e){return"".concat(e.molecularProfileId,"~").concat(e.genesetId)}function f(e,t){return"".concat(t.molecularProfileId,"~").concat(t.genesetId)}function m(e,t){var n={},r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value;n[d(c)]={data:[[]],meta:c}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var s=!0,p=!1,f=void 0;try{for(var m,h=t[Symbol.iterator]();!(s=(m=h.next()).done);s=!0){var y=m.value,g=!0,b=!1,v=void 0;try{for(var S,T=y[Symbol.iterator]();!(g=(S=T.next()).done);g=!0){var C=S.value;n[d({molecularProfileId:C.geneticProfileId,genesetId:C.genesetId})].data[0].push(C)}}catch(e){b=!0,v=e}finally{try{g||null==T.return||T.return()}finally{if(b)throw v}}}}catch(e){p=!0,f=e}finally{try{s||null==h.return||h.return()}finally{if(p)throw f}}return i.a.values(n)}function h(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,u,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.a.mapValues(i.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.genesetId})}),a=Object.keys(r).map(function(e){return{geneticProfileId:e,genesetDataFilterCriteria:Object.assign({genesetIds:r[e]},t[e])}}),u=a.map(function(e){return o.a.fetchGeneticDataItemsUsingPOST(e)}),n.next=5,Promise.all(u);case 5:return l=n.sent,n.abrupt("return",m(e,l));case 7:case"end":return n.stop()}},n)}))}var y=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,d,f,h,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(83);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var u=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function l(e,t){var n=e.genesetId,o=e.molecularProfileId;return u(this,void 0,void 0,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({genesetId:n,geneticProfileId:o},t[o]),e.abrupt("return",r.a.fetchCorrelatedGenesUsingPOST(a));case 2:case"end":return e.stop()}},e)}))}var c=function(){function e(t){o(this,e),this.stateChain=Promise.resolve(t)}return i(e,[{key:"appendTransition",value:function(e){var t=this.stateChain.then(e);return this.stateChain=t.then(function(e){return e.newState}),t.then(function(e){return e.output})}}]),e}(),s=function(){function e(t,n){o(this,e),this.nextGeneIndexStateChain=new c(0),this.data=void 0,this.query=t,this.sampleFilterByProfile=n}return i(e,[{key:"next",value:function(e){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.nextGeneIndexStateChain.appendTransition(function(t){return u(n,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==this.data){n.next=4;break}return n.next=3,l(this.query,this.sampleFilterByProfile);case 3:this.data=n.sent;case 4:return r=this.data.slice(t,t+e),n.abrupt("return",{newState:t+r.length,output:r});case 6:case"end":return n.stop()}},n,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"reset",value:function(){this.nextGeneIndexStateChain.appendTransition(function(e){return Promise.resolve({newState:0,output:void 0})})}}]),e}(),p=function(){function e(t){o(this,e),this.iterations={},this.sampleFilterByProfile=t}return i(e,[{key:"initIteration",value:function(e,t){Object.prototype.hasOwnProperty.call(this.iterations,e)||(this.iterations[e]=new s(t,this.sampleFilterByProfile))}},{key:"next",value:function(e,t){return u(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.iterations[e].next(t));case 1:case"end":return n.stop()}},n,this)}))}},{key:"reset",value:function(e){this.iterations[e].reset()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(505),o=n(83),a=n(9),i=n.n(a);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function d(e){return"".concat(e.molecularProfileId,"~").concat(e.treatmentId)}function f(e,t){return"".concat(t.molecularProfileId,"~").concat(t.treatmentId)}function m(e,t){var n={},r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value;n[d(c)]={data:[[]],meta:c}}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var s=!0,p=!1,f=void 0;try{for(var m,y=t[Symbol.iterator]();!(s=(m=y.next()).done);s=!0){var g=m.value,b=!0,v=!1,S=void 0;try{for(var T,C=g[Symbol.iterator]();!(b=(T=C.next()).done);b=!0){var I=T.value;n[d({molecularProfileId:(I=h(I)).geneticProfileId,treatmentId:I.treatmentId})].data[0].push(I)}}catch(e){v=!0,S=e}finally{try{b||null==C.return||C.return()}finally{if(v)throw S}}}}catch(e){p=!0,f=e}finally{try{s||null==y.return||y.return()}finally{if(p)throw f}}return i.a.values(n)}function h(e){if(!e.thresholdType){var t=/([><]?)(.+)/.exec(e.value);e.thresholdType=void 0,t&&(e.value=t[2],t[1].length>0&&(">"===t[1]?e.thresholdType=t[1]:"<"===t[1]&&(e.thresholdType=t[1])))}return e}function y(e,t){return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,a,u,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.a.mapValues(i.a.groupBy(e,function(e){return e.molecularProfileId}),function(e){return e.map(function(e){return e.treatmentId})}),a=Object.keys(r).map(function(e){return{geneticProfileId:e,treatmentDataFilterCriteria:Object.assign({treatmentIds:r[e]},t[e])}}),u=a.map(function(e){return o.a.fetchTreatmentGeneticDataItemsUsingPOST(e)}),n.next=5,Promise.all(u);case 5:return l=n.sent,n.abrupt("return",m(e,l));case 7:case"end":return n.stop()}},n)}))}var g=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,d,f,y,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(505),o=n(152);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function s(e){return e.hugoGeneSymbol.toUpperCase()}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:e.map(function(e){return e.hugoGeneSymbol.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,u(t).call(this,s,s,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(505),o=n(83);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function s(e){return e.genesetId.toUpperCase()}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.fetchGenesetsUsingPOST({genesetIds:e.map(function(e){return e.genesetId.toUpperCase()})}));case 1:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,u(t).call(this,s,s,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(505),o=n(83);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function u(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,u)}l((r=r.apply(e,t||[])).next())})};function s(e){return e.treatmentId.toUpperCase()}function p(e){return c(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.fetchTreatmentsUsingPOST({treatmentFilter:{treatmentIds:e.map(function(e){return e.treatmentId.toUpperCase()})}}));case 1:case"end":return t.stop()}},t)}))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,u(t).call(this,s,s,p))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r,o=n(9),a=n(504);function i(e,t){return o.flatMap(e,function(e){return function(e,t){var n=[];switch(t){case r.Mutation:n.push(l(e));break;case r.CNA:n.push(u(e));break;case r.MutationAndCNA:n.push(l(e)),n.push(u(e))}return o.compact(n)}(e,t)})}function u(e){var t=e.filter(function(e){return e.molecularAlterationType===a.a.COPY_NUMBER_ALTERATION}).reduce(function(e,t){var n;return n=t.molecularProfileId,/GISTIC/i.test(n)?e.gistic.push(t):!function(e){return/RAE/i.test(e)}(t.molecularProfileId)?e.other.push(t):e.rae.push(t),e},{gistic:[],rae:[],other:[]});return t.gistic.length?t.gistic[0]:t.rae.length?t.rae[0]:t.other.length?o.find(t.other,function(e){return e.showProfileInAnalysisTab}):void 0}function l(e){return o.find(e,function(e){return e.molecularAlterationType===a.a.MUTATION_EXTENDED})}!function(e){e[e.MutationAndCNA=0]="MutationAndCNA",e[e.Mutation=1]="Mutation",e[e.CNA=2]="CNA"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.InvalidGenes="INVALID GENE SYMBOLS"}(r||(r={}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var r=n(595),o=n(9),a=n.n(o),i=n(529),u=n(687),l=n(688),c=n(504);function s(e,t,n,o,i){var u=function(e,t){return function(e,t){if(m(e.geneticTracks||[],t.geneticTracks||[]))return!0;return S(e)!==S(t)||T(e)!==T(t)}(e,t)||function(e,t){if(m(e.clinicalTracks||[],t.clinicalTracks||[]))return!0}(e,t)||function(e,t){if(m(e.heatmapTracks,t.heatmapTracks||[])||m(e.genesetHeatmapTracks,t.genesetHeatmapTracks||[]))return!0}(e,t)}(e,t),l=function(e,t){return!e.suppressRendering&&(b(e,t)||f(h(e),h(t))>1)}(e,t);l&&p(e,n),u&&n.keepSorted(!1),function(e,t,n){e.suppressRendering&&!t.suppressRendering&&p(e,n)}(e,t,n),function(e,t,n){e.showWhitespaceBetweenColumns!==t.showWhitespaceBetweenColumns&&n.setCellPaddingOn(!!e.showWhitespaceBetweenColumns)}(e,t,n),function(e,t,n){e.showMinimap!==t.showMinimap&&n.setMinimapVisible(!!e.showMinimap)}(e,t,n),function(e,t,n){e.onMinimapClose&&e.onMinimapClose!==t.onMinimapClose&&n.onMinimapClose(e.onMinimapClose)}(e,t,n),function(e,t,n){e.showSublabels!==t.showSublabels&&n.setShowTrackSublabels(!!e.showSublabels)}(e,t,n),function(e,t,n,o,i){var u={genetic:void 0,genesetHeatmap:void 0,heatmap:void 0,heatmap01:void 0,treatment:{}},l=o();t.geneticTracks&&t.geneticTracks.length&&!b(e,t)&&(u.genetic=l[t.geneticTracks[0].key]);t.genesetHeatmapTracks&&t.genesetHeatmapTracks.length&&(u.genesetHeatmap=l[t.genesetHeatmapTracks[0].key]);if(t.heatmapTracks&&t.heatmapTracks.length){var s,p,d=!0,f=!1,m=void 0;try{for(var h,y=t.heatmapTracks[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var g=h.value;if(void 0===s&&g.molecularAlterationType===c.a.METHYLATION?s=l[g.key]:void 0===p&&g.molecularAlterationType!==c.a.METHYLATION&&g.molecularAlterationType!==c.a.GENERIC_ASSAY&&(p=l[g.key]),void 0!==s&&void 0!==p)break}}catch(e){f=!0,m=e}finally{try{d||null==y.return||y.return()}finally{if(f)throw m}}u.heatmap=p,u.heatmap01=s}else if(t.genesetHeatmapTracks){var v=!0,S=!1,T=void 0;try{for(var C,k=t.genesetHeatmapTracks[Symbol.iterator]();!(v=(C=k.next()).done);v=!0){var _=C.value;if(_.expansionTrackList&&_.expansionTrackList.length){u.heatmap=l[_.expansionTrackList[0].key];break}}}catch(e){S=!0,T=e}finally{try{v||null==k.return||k.return()}finally{if(S)throw T}}}u.treatment=a.a.chain(t.heatmapTracks).filter(function(e){return e.molecularAlterationType===c.a.GENERIC_ASSAY}).groupBy(function(e){return e.molecularProfileId}).mapValues(function(e){return a.a.last(e)}).mapValues(function(e){return l[e.key]}).value();var w=a.a.chain(e.heatmapTracks).filter(function(e){return e.molecularAlterationType===c.a.GENERIC_ASSAY}).groupBy(function(e){return e.molecularProfileId}).mapValues(function(e){return a()(e).flatMap(function(e){return e.data}).filter(function(e){return!e.category}).map(function(e){return e.profile_data}).value()}).value(),O=a.a.mapValues(w,function(e){return a.a.max(e)}),M=a.a.mapValues(w,function(e){return a.a.min(e)}),R=a.a.keyBy(t.geneticTracks||[],function(e){return e.key}),N=!0,D=!1,G=void 0;try{for(var x,L=e.geneticTracks[Symbol.iterator]();!(N=(x=L.next()).done);N=!0){var j=x.value;I(j,R[j.key],o,i,n,e,t,u),delete R[j.key]}}catch(e){D=!0,G=e}finally{try{N||null==L.return||L.return()}finally{if(D)throw G}}var F=!0,B=!1,H=void 0;try{for(var K,V=(t.geneticTracks||[])[Symbol.iterator]();!(F=(K=V.next()).done);F=!0){var q=K.value;R.hasOwnProperty(q.key)&&I(void 0,R[q.key],o,i,n,e,t,u)}}catch(e){B=!0,H=e}finally{try{F||null==V.return||V.return()}finally{if(B)throw H}}!function(e,t,n,o){var i=a.a.keyBy(e.geneticTracks,"key"),u=a.a.keyBy(t.geneticTracks||[],"key"),l=(e.geneticTracksOrder||e.geneticTracks.map(function(e){return e.key})).filter(function(e){return e in i}),c=(t.geneticTracksOrder||(t.geneticTracks||[]).map(function(e){return e.key})).filter(function(e){return e in u});if(!a.a.isEqual(l,c)){var s=o();n.setTrackGroupOrder(r.b,l.map(function(e){return s[e]}))}}(e,t,n,o);var U=a.a.keyBy(t.clinicalTracks||[],function(e){return e.key}),Q=!0,z=!1,W=void 0;try{for(var Y,Z=e.clinicalTracks[Symbol.iterator]();!(Q=(Y=Z.next()).done);Q=!0){var J=Y.value;A(J,U[J.key],o,n,e),delete U[J.key]}}catch(e){z=!0,W=e}finally{try{Q||null==Z.return||Z.return()}finally{if(z)throw W}}var X=!0,$=!1,ee=void 0;try{for(var te,ne=(t.clinicalTracks||[])[Symbol.iterator]();!(X=(te=ne.next()).done);X=!0){var re=te.value;U.hasOwnProperty(re.key)&&A(void 0,U[re.key],o,n,e)}}catch(e){$=!0,ee=e}finally{try{X||null==ne.return||ne.return()}finally{if($)throw ee}}var oe=a.a.keyBy(t.genesetHeatmapTracks||[],function(e){return e.key}),ae=!0,ie=!1,ue=void 0;try{for(var le,ce=e.genesetHeatmapTracks[Symbol.iterator]();!(ae=(le=ce.next()).done);ae=!0){var se=le.value;E(se,oe[se.key],o,n,e,u),delete oe[se.key]}}catch(e){ie=!0,ue=e}finally{try{ae||null==ce.return||ce.return()}finally{if(ie)throw ue}}var pe=!0,de=!1,fe=void 0;try{for(var me,he=(t.genesetHeatmapTracks||[])[Symbol.iterator]();!(pe=(me=he.next()).done);pe=!0){var ye=me.value;oe.hasOwnProperty(ye.key)&&E(void 0,oe[ye.key],o,n,e,u)}}catch(e){de=!0,fe=e}finally{try{pe||null==he.return||he.return()}finally{if(de)throw fe}}var ge=a.a.keyBy(t.heatmapTracks||[],function(e){return e.key}),be=!0,ve=!1,Se=void 0;try{for(var Te,Ce=e.heatmapTracks[Symbol.iterator]();!(be=(Te=Ce.next()).done);be=!0){var Ie=Te.value;Ie.maxProfileValue=O[Ie.molecularProfileId],Ie.minProfileValue=M[Ie.molecularProfileId],P(Ie,ge[Ie.key],o,function(){},n,e,{},u,void 0),delete ge[Ie.key]}}catch(e){ve=!0,Se=e}finally{try{be||null==Ce.return||Ce.return()}finally{if(ve)throw Se}}var Ae=!0,Ee=!1,Pe=void 0;try{for(var ke,_e=(t.heatmapTracks||[])[Symbol.iterator]();!(Ae=(ke=_e.next()).done);Ae=!0){var we=ke.value;ge.hasOwnProperty(we.key)&&(we.maxProfileValue=O[we.molecularProfileId],we.minProfileValue=M[we.molecularProfileId],P(void 0,ge[we.key],o,function(){},n,e,{},u,void 0))}}catch(e){Ee=!0,Pe=e}finally{try{Ae||null==_e.return||_e.return()}finally{if(Ee)throw Pe}}}(e,t,n,o,i),function(e,t,n){var r=g(t),o=g(e);("order"===r.type&&"order"===o.type&&r.order!==o.order||!a.a.isEqual(r,o))&&n.setSortConfig(o)}(e,t,n),function(e,t,n){var o=a.a.sortBy(a.a.uniq((t.heatmapTracks||[]).concat(t.genesetHeatmapTracks||[]).map(function(e){return e.trackGroupIndex}))),i=a.a.sortBy(a.a.uniq(e.heatmapTracks.concat(e.genesetHeatmapTracks).map(function(e){return e.trackGroupIndex})));a.a.xor(i,o).length&&n.setTrackGroupSortPriority([r.a].concat(i).concat(r.b))}(e,t,n),function(e,t,n){e.hiddenIds!==t.hiddenIds&&n.hideIds(e.hiddenIds||[],!0)}(e,t,n),function(e,t,n){a.a.isEqual(e.horzZoomToFitIds,t.horzZoomToFitIds)||n.updateHorzZoomToFitIds(e.horzZoomToFitIds||[])}(e,t,n),function(e,t,n,r){var o=r(),a=e.clinicalTracks.map(function(e){return o[e.key]});e.showClinicalTrackLegends&&!t.showClinicalTrackLegends?n.showTrackLegends(a):!e.showClinicalTrackLegends&&t.showClinicalTrackLegends&&n.hideTrackLegends(a)}(e,t,n,o),function(e,t,n){!e.suppressRendering&&t.suppressRendering&&d(e,n)}(e,t,n),u&&n.keepSorted(!0),l&&d(e,n)}function p(e,t){t.suppressRendering(),e.onSuppressRendering&&e.onSuppressRendering()}function d(e,t){t.releaseRendering(e.onReleaseRendering)}function f(e,t){var n=a.a.keyBy(t,function(e){return e.key}),r=0,o=0,i=0,u=!0,l=!1,c=void 0;try{for(var s,p=e[Symbol.iterator]();!(u=(s=p.next()).done);u=!0){var d=s.value,f=n[d.key];f?(o+=1,f.data!==d.data&&(i+=1)):r+=1}}catch(e){l=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}return r+(t.length-o)+i}function m(e,t){return e.length!==t.length||f(e,t)>0}function h(e){return(e.geneticTracks||[]).concat(e.genesetHeatmapTracks||[]).concat(e.clinicalTracks||[]).concat(e.heatmapTracks||[])}function y(e){return e.profile_data}function g(e){var t={},n=function(e){return e.sortConfig&&e.sortConfig.order}(e);return n?t={type:"order",order:n}:e.sortConfig&&void 0!==e.sortConfig.clusterHeatmapTrackGroupIndex&&(t={type:"cluster",track_group_index:e.sortConfig.clusterHeatmapTrackGroupIndex,clusterValueFn:y}),t}function b(e,t){return e.distinguishMutationType!==t.distinguishMutationType||e.distinguishDrivers!==t.distinguishDrivers||e.distinguishGermlineMutations!==t.distinguishGermlineMutations}function v(e,t,n,r){if(!e&&t){var o=n[t.key];return void 0!==o&&(r.removeTrack(o),delete n[t.key]),!0}return!1}function S(e){return e.distinguishMutationType&&e.sortConfig&&e.sortConfig.sortByMutationType}function T(e){return e.distinguishDrivers&&e.sortConfig&&e.sortConfig.sortByDrivers}function C(e,t,n,r,o,i,u,l,c){var s=t&&t.expansionTrackList?t.expansionTrackList:[],p=e&&e.expansionTrackList?e.expansionTrackList:[],d=a.a.keyBy(s,function(e){return e.key}),f=!0,m=!1,h=void 0;try{for(var y,g=p[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){var b=y.value;c(b,d[b.key],n,r,o,i,u,l,e.key),delete d[b.key]}}catch(e){m=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(m)throw h}}var v=!0,S=!1,T=void 0;try{for(var C,I=s[Symbol.iterator]();!(v=(C=I.next()).done);v=!0){var A=C.value;d.hasOwnProperty(A.key)&&c(void 0,d[A.key],n,r,o,i,u,l)}}catch(e){S=!0,T=e}finally{try{v||null==I.return||I.return()}finally{if(S)throw T}}}function I(t,n,o,a,c,s,p,d,f){var m=o();if(!v(t,n,m,c))if(t&&!n){var h={rule_set_params:Object(i.f)(s.distinguishMutationType,s.distinguishDrivers,s.distinguishGermlineMutations),label:t.label,sublabel:t.sublabel,track_label_color:t.labelColor||void 0,target_group:r.b,sortCmpFn:Object(u.b)(S(s),T(s)),description:t.oql,data_id_key:"uid",data:t.data,tooltipFn:Object(l.c)(s.caseLinkOutInTooltips,a,s.alterationTypesInQuery),track_info:t.info,$track_info_tooltip_elt:t.infoTooltip?e("<div>"+t.infoTooltip+"</div>"):void 0,removeCallback:function(){delete o()[t.key],t.removeCallback&&t.removeCallback()},expandCallback:t.expansionCallback||void 0,expandButtonTextGetter:function(){return"Expand"},expansion_of:f?m[f]:void 0},y=c.addTracks([h])[0];m[t.key]=y,void 0!==d.genetic&&c.shareRuleSet(d.genetic,y),d.genetic=y}else if(t&&n){var g=m[t.key],A=S(s),E=T(s);A===S(p)&&E===T(p)||c.setTrackSortComparator(g,Object(u.b)(A,E)),t.data!==n.data&&c.setTrackData(g,t.data,"uid"),function(e,t){return e.caseLinkOutInTooltips!==t.caseLinkOutInTooltips||e.alterationTypesInQuery!==t.alterationTypesInQuery}(s,p)&&c.setTrackTooltipFn(g,Object(l.c)(s.caseLinkOutInTooltips,a,s.alterationTypesInQuery)),t.info!==n.info&&c.setTrackInfo(g,t.info),t.infoTooltip!==n.infoTooltip&&c.setTrackInfoTooltip(g,t.infoTooltip?e("<div>"+t.infoTooltip+"</div>"):void 0),b(s,p)&&(void 0!==d.genetic?c.shareRuleSet(d.genetic,g):c.setRuleSet(g,Object(i.f)(s.distinguishMutationType,s.distinguishDrivers,s.distinguishGermlineMutations))),d.genetic=g,t.expansionTrackList&&t.expansionTrackList.length>0?c.disableTrackExpansion(g):t.expansionCallback&&c.enableTrackExpansion(g),C(t,n,o,a,c,s,p,d,I)}}function A(e,t,n,o,a){var c=n();if(!v(e,t,c,o))if(e&&!t){var s=Object(i.d)(e);s.legend_label=e.label,s.exclude_from_legend=!a.showClinicalTrackLegends,s.na_legend_label=e.na_legend_label;var p={rule_set_params:s,data:e.data,data_id_key:"uid",label:e.label,description:(e.label||"").trim()===(e.description||"").trim()?void 0:e.description,removable:!0,removeCallback:function(){delete n()[e.key],a.onDeleteClinicalTrack&&a.onDeleteClinicalTrack(e.key)},sort_direction_changeable:!0,tooltipFn:Object(l.b)(e,!0),important_ids:e.altered_uids,sortCmpFn:Object(u.a)(e),init_sort_direction:0,target_group:r.a,onSortDirectionChange:a.onTrackSortDirectionChange,custom_track_options:e.custom_options};c[e.key]=o.addTracks([p])[0]}else if(e&&t){var d=c[e.key];e.data!==t.data&&o.setTrackData(d,e.data,"uid"),e.altered_uids!==t.altered_uids&&o.setTrackImportantIds(d,e.altered_uids),o.setTrackTooltipFn(d,Object(l.b)(e,!0)),t.custom_options!==e.custom_options&&o.setTrackCustomOptions(d,e.custom_options)}}function E(e,t,n,r,o,a){var c=n();if(v(e,t,c,r))C(void 0,t,n,function(){},r,o,{},a,P);else if(e&&!t){var s={rule_set_params:Object(i.e)(),data:e.data,data_id_key:"uid",has_column_spacing:!1,track_padding:0,label:e.label,html_label:Object(l.a)(e.label),target_group:e.trackGroupIndex,sort_direction_changeable:!0,sortCmpFn:u.c,init_sort_direction:0,description:"Gene set scores from ".concat(e.molecularProfileId),link_url:e.trackLinkUrl,tooltipFn:Object(l.d)(e.molecularAlterationType,!0),onSortDirectionChange:o.onTrackSortDirectionChange,expandCallback:e.expansionCallback,expandButtonTextGetter:function(e){return"".concat(e?"More":"Show","  genes")}},p=r.addTracks([s])[0];c[e.key]=p,void 0!==a.genesetHeatmap&&r.shareRuleSet(a.genesetHeatmap,p),a.genesetHeatmap=p,C(e,void 0,n,function(){},r,o,{},a,P)}else if(e&&t){var d=c[e.key];e.data!==t.data&&r.setTrackData(d,e.data,"uid"),r.setTrackTooltipFn(d,Object(l.d)(e.molecularAlterationType,!0)),C(e,t,n,function(){},r,o,{},a,P)}}function P(e,t,n,r,o,a,s,p,d){var f=n();if(!v(e,t,f,o))if(e&&!t){var m={rule_set_params:Object(i.g)(e),data:e.data,data_id_key:"uid",has_column_spacing:!1,track_padding:0,label:e.label,track_label_color:e.labelColor||void 0,target_group:e.trackGroupIndex,removable:!0,removeCallback:function(){delete n()[e.key],e.onRemove()},sort_direction_changeable:!0,sortCmpFn:u.c,init_sort_direction:0,link_url:e.trackLinkUrl,description:"".concat(e.label," data from ").concat(e.molecularProfileId),tooltipFn:Object(l.d)(e.molecularAlterationType,!0),track_info:e.info||"",onSortDirectionChange:a.onTrackSortDirectionChange,expansion_of:d?f[d]:void 0},h=o.addTracks([m])[0];if(f[e.key]=h,e.molecularAlterationType!==c.a.GENERIC_ASSAY){var y="heatmap";"METHYLATION"===e.molecularAlterationType&&(y="heatmap01"),void 0!==p[y]&&o.shareRuleSet(p[y],h),p[y]=h}else p.treatment[e.molecularProfileId]=h}else if(e&&t){var g=f[e.key];if(e.data!==t.data&&o.setTrackData(g,e.data,"uid"),e.info!==t.info&&void 0!==e.info&&o.setTrackInfo(g,e.info),e.molecularAlterationType===c.a.GENERIC_ASSAY&&void 0!==p.treatment[e.molecularProfileId]){var b=p.treatment[e.molecularProfileId];o.shareRuleSet(b,g)}o.setTrackTooltipFn(g,Object(l.d)(e.molecularAlterationType,!0))}}}).call(this,n(10))},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return d});var r=n(623),o=n.n(r);function a(e){for(var t={},n=0;n<e.length;n++)for(var r=[].concat(e[n]),o=0;o<r.length;o++)t[r[o]]=n;return t}function i(e,t){var n,r=a(["amp","homdel","gain","hetloss","diploid",void 0]),o=e||t?(!e&&t?n=a([["inframe_rec","missense_rec","promoter_rec","trunc_rec","other_rec"],["inframe","missense","promoter","trunc","other"],void 0]):e&&!t?n=a([["trunc","trunc_rec"],["inframe","inframe_rec"],["promoter","promoter_rec"],["missense","missense_rec"],["other","other_rec"],void 0,!0,!1]):e&&t&&(n=a(["trunc_rec","inframe_rec","promoter_rec","missense_rec","other_rec","trunc","inframe","promoter","missense","other",void 0,!0,!1])),function(e){return n[e]}):function(e){return{true:1,false:2}[!!e+""]},i=a(["high","low",void 0]),u=a([!0,!1,void 0]);function l(e){var t=[];return e.disp_fusion?t.push(0):t.push(1),t.push(r[e.disp_cna+""]),t.push(o(e.disp_mut)),t.push(u[e.disp_germ+""]),t.push(i[e.disp_mrna+""]),t.push(i[e.disp_prot+""]),t}return{preferred:function(e){return[+!!e.na].concat(l(e)).concat([e.sample?e.sample:e.patient])},mandatory:function(e){return l(e)},isVector:!0}}function u(e){return function(t,n){return t.na&&n.na?0:t.na&&!n.na?2:!t.na&&n.na?-2:t[e]<n[e]?-1:t[e]===n[e]?0:1}}function l(e,t){return e.na&&t.na?0:e.na&&!t.na?2:!e.na&&t.na?-2:o()(e.attr_val,t.attr_val)}function c(e){return function(t,n){var r=e(t,n);return 0===r?t.sample?o()(t.sample,n.sample):o()(t.patient,n.patient):r}}function s(e){if("number"===e.datatype){var t=u("attr_val");return{preferred:c(t),mandatory:t}}if("string"===e.datatype)return{preferred:c(l),mandatory:l};if("counts"===e.datatype){var n=(r=e.countsCategoryLabels,function(e,t){if(e.na&&t.na)return 0;if(e.na&&!t.na)return 2;if(!e.na&&t.na)return-2;for(var n=0,o=0,a=0;a<r.length;a++)n+=e.attr_val[r[a]]||0,o+=t.attr_val[r[a]]||0;if(0===n&&0===o)return 0;if(0===n)return 1;if(0===o)return-1;var i=0,u=0;for(a=0;a<r.length;a++)e.attr_val[r[a]]>e.attr_val[r[i]]&&(i=a),t.attr_val[r[a]]>t.attr_val[r[u]]&&(u=a);if(i<u)return-1;if(i>u)return 1;var l,c=r[i],s=e.attr_val[c]/n,p=t.attr_val[c]/o;return(l=s-p)>0?1:l<0?-1:0});return{preferred:c(n),mandatory:n}}var r}var p,d={preferred:c(p=u("profile_data")),mandatory:p}},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return A}),n.d(t,"c",function(){return k});var r=n(15),o=n(10),a=n.n(o),i=n(152),u=n(504),l=n(9),c=n.n(l),s=n(553),p=n(509),d=n(640);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h=n(587),y=n(624),g=n(606),b=n(607),v="oncoprint__tooltip",S="N/A";function T(e,t,n){var r=a()('<span style="white-space:nowrap"><a href="#" '.concat(t?"":'style="color:red;"',' oncontextmenu="return false;">').concat(e,"</a>").concat(n?" (".concat(n,")"):"","</span>"));return r.ready(function(){r.click(function(){i.a.getGenePanelUsingGET({genePanelId:e}).then(function(t){var n=t.genes.map(function(e){return e.hugoGeneSymbol}).sort(),r=open("","_blank","width=500,height=500");if(r){var o=r.document.createElement("div");r.document.body.appendChild(o),a()('<h3 style="text-align:center;">'.concat(e,"</h3><br>")).appendTo(o),a()("<span>".concat(n.join("<br>"),"</span>")).appendTo(o)}})})}),r}function C(e){return a()("<div>").text(e).html().replace(/_/g,"_&#8203;").replace(/\./g,".&#8203;")}function I(e,t){return function(n){var r="";if("counts"===e.datatype)for(var o=n[0],i=0;i<e.countsCategoryLabels.length;i++)r+='<span style="color:'+e.countsCategoryFills[i]+';font-weight:bold;">'+e.countsCategoryLabels[i]+"</span>: "+o.attr_val_counts[e.countsCategoryLabels[i]]+"<br>";else{var u={},l=!0,c=!1,s=void 0;try{for(var p,d=n[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var f=p.value;if(f.attr_val_counts)for(var m=0,h=Object.keys(f.attr_val_counts);m<h.length;m++){var y=h[m];u[y]=u[y]||0,u[y]+=f.attr_val_counts[y]}}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}var g=Object.keys(u);if("number"===e.datatype){for(var b=0,S=0,T=0,C=g;T<C.length;T++){var I=C[T],A=u[I];b+=A*parseFloat(I),S+=A}var E=(b/S).toFixed(2);".00"===E.substring(E.length-3)&&(E=E.substring(0,E.length-3)),r+=e.label+': <span style="white-space:nowrap"><b>'+E+"".concat(S>1?" (average of ".concat(S," values)"):"","</b></span><br>")}else if(g.length>1){r+=e.label+":<br>";for(var k=0;k<g.length;k++){var _=g[k];r+='<span style="white-space:nowrap"><b>'+_+"</b>: "+u[_]+" sample".concat(1===u[_]?"":"s","</span><br>")}}else if(1===g.length){var w=g[0];r+=e.label+': <span style="white-space:nowrap"><b>'+w+"</b>".concat(n.length>1?" (".concat(u[g[0]]," samples)"):"","</span><br>")}}var O=0,M=!0,R=!1,N=void 0;try{for(var D,G=n[Symbol.iterator]();!(M=(D=G.next()).done);M=!0){D.value.na&&(O+=1)}}catch(e){R=!0,N=e}finally{try{M||null==G.return||G.return()}finally{if(R)throw N}}return O>0&&e.na_tooltip_value&&(r+="".concat(e.label,": <b>").concat(e.na_tooltip_value,"</b>").concat(n.length>1?" (".concat(O," samples)"):"","<br/>")),a()("<div>").addClass(v).append(P(n,!!t)).append("<br/>").append(r)}}function A(e,t){return function(n){var r="",o=S,i="";switch(e){case u.a.MRNA_EXPRESSION:r="MRNA: ";break;case u.a.PROTEIN_LEVEL:r="PROT: ";break;case u.a.METHYLATION:r="METHYLATION: ";break;case u.a.GENERIC_ASSAY:r="TREATMENT: "}var l=0,s=[],p=0,d=0,f=!0,m=!1,h=void 0;try{for(var y,g=n[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){var b=y.value;null!==b.profile_data&&void 0!==b.profile_data&&(e===u.a.GENERIC_ASSAY&&b.category?(s.push(b.category),d+=1):(l+=b.profile_data,p+=1))}}catch(e){m=!0,h=e}finally{try{f||null==g.return||g.return()}finally{if(m)throw h}}if(p>0){var T=(l/p).toFixed(2);o=1===p?T:"".concat(T," (average of ").concat(p," values)")}d>0&&(i=0===p&&1===d?s[0]:p>0&&1===d?"".concat(s[0]):"".concat(c.a.uniq(s).join(", ")," (").concat(d," data points)"));var C=r;return o===S&&0!==d||(C+="<b>"+o+"</b>"),o!==S&&d>0&&(C+=" and "),d>0&&(C+="<b>"+i+"</b>"),C+="<br />",a()("<div>").addClass(v).append(P(n,!!t)).append("<br/>").append(C)}}function E(e,t,n,r){var o=[],a={},i=void 0,u={},l=void 0,p=[],d=void 0;if(e&&(o=c.a.uniq(e.map(function(e){return e.genePanelId}).filter(function(e){return!!e})),i=c.a.uniq(e.map(function(e){return e.molecularProfileId})),r&&(d=c.a.keyBy(i,function(e){return r[e].molecularAlterationType})),u=c.a.keyBy(i),a=c.a.keyBy(o)),t){if(l=c.a.uniq(t.map(function(e){return e.molecularProfileId})).filter(function(e){return!u[e]}),d&&n&&r){var f=c.a.keyBy(l,function(e){return r[e].molecularAlterationType});l=l.concat(n.filter(function(e){return!d[e]&&!f[e]}).map(function(e){return s.a[e]}))}p=c.a.uniq(t.map(function(e){return e.genePanelId})).filter(function(e){return!!e&&!a[e]})}return{dispProfiledGenePanelIds:o,dispNotProfiledGenePanelIds:p,dispProfiledIn:i,dispNotProfiledIn:l,dispAllProfiled:!(!(i&&i.length&&l)||l.length),dispNotProfiled:!(!(l&&l.length&&i)||i.length)}}function P(e,t){return e.length?e[0].sample?e.length>1?t?"<a href=".concat(Object(r.v)(e[0].study_id,e[0].sample,e.map(function(e){return{studyId:e.study_id,patientId:e.patient}})),' target="_blank">View these ').concat(e.length," samples<a/>"):"<span>".concat(e.length," samples</span>"):t?(n=e[0].study_id,o=e[0].sample,'<a href="'.concat(Object(r.v)(n,o),'" target="_blank">').concat(o,"</a>")):"<span>".concat(e[0].sample,"</span>"):e[0].patient?e.length>1?t?"<a href=".concat(Object(r.t)(e[0].study_id,e[0].patient,e.map(function(e){return{studyId:e.study_id,patientId:e.patient}})),' target="_blank">View these ').concat(e.length," patients<a/>"):"<span>".concat(e.length," patients</span>"):t?function(e,t){return'<a href="'.concat(Object(r.t)(e,t),'" target="_blank">').concat(t,"</a>")}(e[0].study_id,e[0].patient):"<span>".concat(e[0].patient,"</span>"):"":"";var n,o}function k(e,t,n){function r(e,t){var n=new d.a,r=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value;n.increment(c.hugo_gene_symbol,c.amino_acid_change,c.cancer_hotspots_hotspot,c.oncokb_oncogenic,c.driver_filter,c.driver_filter_annotation,c.driver_tiers_filter,c.driver_tiers_filter_annotation,c.germline)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n.entries().map(function(e){var n=m(e.key,9),r=n[0],o=n[1],i=n[2],u=n[3],l=n[4],c=n[5],s=n[6],p=n[7],d=n[8],f=e.value,v=a()("<span>").css("white-space","nowrap");return v.append("<b>".concat(r," ").concat(o,"</b>")),i&&v.append('<img src="'.concat(h,'" title="Hotspot" style="height:11px; width:11px; margin-left:3px"/>')),u&&v.append('<img src="'.concat(y,'" title="').concat(u,'" style="height:11px; width:11px;margin-left:3px"/>')),l&&"Putative_Driver"===l&&v.append('<img src="'.concat(g,'" title="').concat(l,": ").concat(c,'" alt="driver filter" style="height:11px; width:11px;margin-left:3px"/>')),s&&v.append('<img src="'.concat(b,'" title="').concat(s,": ").concat(p,'" alt="driver tiers filter" style="height:11px; width:11px;margin-left:3px"/>')),d&&v.append(function(){var e=a()('<small style="color: #ff0000">');return e.append("&nbsp;Germline"),e}()),t&&v.append("&nbsp;(".concat(f,")")),v})}function o(e,t){var n=new d.a,r=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value;n.increment(c.hugo_gene_symbol,c.direction)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n.entries().map(function(e){var n=m(e.key,2),r=n[0],o=n[1],i=e.value,u=a()("<span>");return u.append("<b>".concat(r," ").concat(o,"</b>")),t&&u.append("&nbsp;(".concat(i,")")),u})}var i={"-2":"HOMODELETED","-1":"HETLOSS",1:"GAIN",2:"AMPLIFIED"};return function(u){var l=a()("<div>").addClass(v);l.append(P(u,e)).append("<br/>");var c=[],s=[],h=[],g=[],b=[],S=!0,C=!1,I=void 0;try{for(var A,k=u[Symbol.iterator]();!(S=(A=k.next()).done);S=!0)for(var _=A.value,w=0;w<_.data.length;w++){var O=_.data[w],M=O.molecularProfileAlterationType,R=O.hugoGeneSymbol;switch(M){case"MUTATION_EXTENDED":var N={};N.hugo_gene_symbol=R,N.amino_acid_change=O.proteinChange,N.driver_filter=O.driverFilter,N.driver_filter_annotation=O.driverFilterAnnotation,N.driver_tiers_filter=O.driverTiersFilter,N.driver_tiers_filter_annotation=O.driverTiersFilterAnnotation,O.isHotspot&&(N.cancer_hotspots_hotspot=!0),Object(p.k)(O)||(N.germline=!0);var D=O.oncoKbOncogenic;D&&(N.oncokb_oncogenic=D),("fusion"===O.alterationSubType?b:c).push(N);break;case"COPY_NUMBER_ALTERATION":if(i.hasOwnProperty(O.value)){var G={cna:i[O.value],hugo_gene_symbol:R},x=O.oncoKbOncogenic;x&&(G.oncokb_oncogenic=x),s.push(G)}break;case"MRNA_EXPRESSION":case"PROTEIN_LEVEL":var L=O.alterationSubType,j="MRNA_EXPRESSION"===M?h:g;"high"===L?j.push({hugo_gene_symbol:R,direction:"HIGH"}):"low"===L&&j.push({hugo_gene_symbol:R,direction:"LOW"})}}}catch(e){C=!0,I=e}finally{try{S||null==k.return||k.return()}finally{if(C)throw I}}if(b.length>0){l.append("Fusion: "),b=r(b,u.length>1);for(var F=0;F<b.length;F++)F>0&&l.append(","),l.append(b[F]);l.append("<br>")}if(c.length>0){l.append("Mutation: "),c=r(c,u.length>1);for(F=0;F<c.length;F++)F>0&&l.append(", "),l.append(c[F]);l.append("<br>")}if(s.length>0){l.append("Copy Number Alteration: "),s=function(e,t){var n=new d.a,r=!0,o=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value;n.increment(c.hugo_gene_symbol,c.cna,c.oncokb_oncogenic)}}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n.entries().map(function(e){var n=m(e.key,3),r=n[0],o=n[1],i=n[2],u=e.value,l=a()("<span>");return l.append("<b>".concat(r," ").concat(o,"</b>")),i&&l.append("<img src=".concat(y,' title="').concat(i,'" style="height:11px; width:11px;margin-left:3px"/>')),t&&l.append("&nbsp;(".concat(u,")")),l})}(s,u.length>1);for(F=0;F<s.length;F++)F>0&&l.append(", "),l.append(s[F]);l.append("<br>")}if(h.length>0){l.append("MRNA: "),h=o(h,u.length>1);for(F=0;F<h.length;F++)F>0&&l.append(", "),l.append(h[F]);l.append("<br>")}if(g.length>0){l.append("PROT: "),g=o(g,u.length>1);for(F=0;F<g.length;F++)F>0&&l.append(", "),l.append(g[F]);l.append("<br>")}var B=t&&t(),H=new d.a,K=new d.a,V=new d.a,q=new d.a,U=0,Q=0,z=!0,W=!1,Y=void 0;try{for(var Z,J=u[Symbol.iterator]();!(z=(Z=J.next()).done);z=!0){var X=Z.value,$=E(X.profiled_in,X.not_profiled_in,n,B),ee=!0,te=!1,ne=void 0;try{for(var re,oe=$.dispProfiledGenePanelIds[Symbol.iterator]();!(ee=(re=oe.next()).done);ee=!0){var ae=re.value;H.increment(ae)}}catch(e){te=!0,ne=e}finally{try{ee||null==oe.return||oe.return()}finally{if(te)throw ne}}var ie=!0,ue=!1,le=void 0;try{for(var ce,se=$.dispNotProfiledGenePanelIds[Symbol.iterator]();!(ie=(ce=se.next()).done);ie=!0){var pe=ce.value;K.increment(pe)}}catch(e){ue=!0,le=e}finally{try{ie||null==se.return||se.return()}finally{if(ue)throw le}}if($.dispProfiledIn){var de=!0,fe=!1,me=void 0;try{for(var he,ye=$.dispProfiledIn[Symbol.iterator]();!(de=(he=ye.next()).done);de=!0){var ge=he.value;V.increment(ge)}}catch(e){fe=!0,me=e}finally{try{de||null==ye.return||ye.return()}finally{if(fe)throw me}}}if($.dispNotProfiledIn){var be=!0,ve=!1,Se=void 0;try{for(var Te,Ce=$.dispNotProfiledIn[Symbol.iterator]();!(be=(Te=Ce.next()).done);be=!0){var Ie=Te.value;q.increment(Ie)}}catch(e){ve=!0,Se=e}finally{try{be||null==Ce.return||Ce.return()}finally{if(ve)throw Se}}}$.dispAllProfiled?U+=1:$.dispNotProfiled&&(Q+=1)}}catch(e){W=!0,Y=e}finally{try{z||null==J.return||J.return()}finally{if(W)throw Y}}var Ae=H.entries(),Ee=K.entries();if(Ae.length||Ee.length){l.append("Gene Panels: ");var Pe=!1,ke=!0,_e=!1,we=void 0;try{for(var Oe,Me=Ae[Symbol.iterator]();!(ke=(Oe=Me.next()).done);ke=!0){var Re=Oe.value;Pe&&l.append(",&nbsp;"),Pe=!0,l.append(T(Re.key[0],!0,u.length>1?Re.value:void 0))}}catch(e){_e=!0,we=e}finally{try{ke||null==Me.return||Me.return()}finally{if(_e)throw we}}var Ne=!0,De=!1,Ge=void 0;try{for(var xe,Le=Ee[Symbol.iterator]();!(Ne=(xe=Le.next()).done);Ne=!0){var je=xe.value;H.has.apply(H,f(je.key))||(Pe&&l.append(",&nbsp;"),Pe=!0,l.append(T(je.key[0],!1,u.length>1?je.value:void 0)))}}catch(e){De=!0,Ge=e}finally{try{Ne||null==Le.return||Le.return()}finally{if(De)throw Ge}}l.append("<br>")}var Fe=V.entries(),Be=q.entries();return U===u.length?(l.append("Profiled in all selected molecular profiles."+(u.length>1?" (".concat(U,")"):"")),l.append("<br>")):Q===u.length?(l.append("Not profiled in selected molecular profiles."+(u.length>1?" (".concat(Q,")"):"")),l.append("<br>")):(Fe.length&&(l.append("Profiled in: "+Fe.map(function(e){var t=e.key[0],n=t;return B&&t in B&&(n=B[t].name),"".concat(n).concat(u.length>1?" (".concat(e.value,")"):"")}).join(", ")),l.append("<br>")),Be.length&&(l.append("<span style='color:red; font-weight:bold'>Not profiled in: "+Be.map(function(e){var t=e.key[0],n=t;return B&&t in B&&(n=B[t].name),"".concat(n).concat(u.length>1?" (".concat(e.value,")"):"")}).join(", ")+"</span>"),l.append("<br>")),U>0&&(l.append("Profiled in all selected molecular profiles."+(u.length>1?" (".concat(U,")"):"")),l.append("<br>")),Q>0&&(l.append("Not profiled in selected molecular profiles."+(u.length>1?" (".concat(Q,")"):"")),l.append("<br>"))),l}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1Knza",framedImage:"styles-module__framedImage__p1p-k",main:"styles-module__main__2V5AI",operations:"styles-module__operations__2tHBt",options:"styles-module__options__2V0tE",option:"styles-module__option__dhLVt",footer:"styles-module__footer__8u68Z",input:"styles-module__input__2Zk8R",label:"styles-module__label__YKqSs",labelDisabled:"styles-module__labelDisabled__3jDaR"}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__-Qj7G",framedImage:"styles-module__framedImage__TmznI",labeledCheckbox:"styles-module__labeledCheckbox__jTAe1"}},function(e,t,n){e.exports=n.p+"reactapp/images/ac30afc0653ff15c1ea9fd9cbae0414a.png"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__voGSg",framedImage:"styles-module__framedImage__1XH6x",container:"styles-module__container__16NQq","items-container":"styles-module__items-container__2byHQ","fa-check":"styles-module__fa-check__l2mEf","fa-exclamation-triangle":"styles-module__fa-exclamation-triangle__1RHoj","not-invoked-item":"styles-module__not-invoked-item__2JY4J","item-row":"styles-module__item-row__2FhJM","pulse-spinner":"styles-module__pulse-spinner__16rgL"}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+CiAgPCEtLU5vIGxldmVsIGljb25zLS0+CiAgICAgIDxnICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LCA3KSI+CiAgICAgICAgPGNpcmNsZSByPSI2IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIzIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIxLjUiIGZpbGw9IiMwMDdGRkYiIHN0cm9rZT0ibm9uZSI+PC9jaXJjbGU+CiAgICAgIDwvZz4KPC9zdmc+"},function(e){e.exports=[{hugoGeneSymbol:"CRLF2",alteration:"F232C",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/crlf2/199/">CRLF2 c.695T>G (F232C) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"CRLF2",alteration:"Fusions",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/crlf2/208/">CRLF2 Fusions in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683G",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/200/">JAK2 c.2047A>G (R683G) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683S",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/201/">JAK2 c.2049A>T (R683S) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683S",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/202/">JAK2 c.2049A>C (R683S) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"JAK2",alteration:"R683T",cancerType:"Acute Lymphoblastic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-lymphoblastic-leukemia/jak2/203/">JAK2 c.2048G>C (R683T) Mutation in Acute Lymphoblastic Leukemia</a>'},{hugoGeneSymbol:"CBFB-MYH11",alteration:"t(16;16)(p13.1;q22) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/cbfb-myh11/252/">CBFB-MYH11 t(16;16)(p13.1;q22) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"CBFB-MYH11",alteration:"inv(16)(p13.1q22) Inversion",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/cbfb-myh11/258/">CBFB-MYH11 inv(16)(p13.1q22) Inversion in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DEK-NUP214",alteration:"t(6;9)(p23;q34) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dek-nup214/255/">DEK-NUP214 t(6;9)(p23;q34) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882C",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/291/">DNMT3A c.2644C>T (R882C) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/292/">DNMT3A c.2644C>A (R882S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/293/">DNMT3A c.2645G>A (R882H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882P",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/294/">DNMT3A c.2645G>C (R882P) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/295/">DNMT3A c.2644C>G (R882G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"R882L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/dnmt3a/296/">DNMT3A c.2645G>T (R882L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"Internal Tandem Duplication",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/277/">FLT3 Internal Tandem Duplication in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/278/">FLT3 c.2503G>C (D835H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835N",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/279/">FLT3 c.2503G>A (D835N) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835Y",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/280/">FLT3 c.2503G>T (D835Y) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835A",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/281/">FLT3 c. 2504A>C (D835A) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/282/">FLT3 c.2504A>T (D835V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835E",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/283/">FLT3 c.2505T>G (D835E) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/284/">FLT3 c.2506A>C (I836L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/285/">FLT3 c.2506A>G (I836V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836D",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/286/">FLT3 c.2506_2507delATinsGA (I836D) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/287/">FLT3 c.2506_2507delATinsCA (I836H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"D835E",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/288/">FLT3 c.2505T>A (D835E) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"FLT3",alteration:"I836F",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/289/">FLT3 c.2506A>T (I836F) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"FLT3",alteration:"I836M",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/flt3/290/">FLT3 c.2508C>G (I836M) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"IDH1",alteration:"R132C",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/260/">IDH1 c.394C>T (R132C) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"IDH1",alteration:"R132G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/261/">IDH1 c.394C>G (R132G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/262/">IDH1 c.394C>A (R132S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132H",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/263/">IDH1 c.395G>A (R132H) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/264/">IDH1 c.395G>T (R132L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132P",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh1/265/">IDH1 c.395G>C (R132P) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140Q",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/266/">IDH2 c.419G>A (R140Q) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140W",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/267/">IDH2 c.418C>T (R140W) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140L",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/268/">IDH2 c.419G>T (R140L) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R140G",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/269/">IDH2 c.418C>G (R140G) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172K",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/270/">IDH2 c.515G>A (R172K) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172M",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/271/">IDH2 c.515G>T (R172M) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/idh2/272/">IDH2 c.516G>C (R172S) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 8 Mutation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/273/">KIT Exon 8 Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816Y",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/274/">KIT c.2446G>T (D816Y) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816V",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/275/">KIT c.2447A>T (D816V) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816I",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/276/">KIT c.2446_2447delGAinsAT (D816I) Mutation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"KIT",alteration:"D816H",cancerType:"Acute Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/kit/84/">KIT c.2446G>C (D816H) Mutation in Acute Myeloid Leukemia </a>'},{hugoGeneSymbol:"MLL-MLLT3",alteration:"t(9;11)(p22;q23) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/mll-mllt3/254/">MLL-MLLT3 t(9;11)(p22;q23) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"PML-RARA",alteration:"t(15;17)(q22;q12) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/pml-rara/253/">PML-RARA t(15;17)(q22;q12) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RBM15-MKL1",alteration:"t(1;22)(p13;q13) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rbm15-mkl1/257/">RBM15-MKL1 t(1;22)(p13;q13) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RPN1-EVI1",alteration:"(RPN1-MECOM) inv(3)(q21q26.2) Inversion",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rpn1-evi1/256/">RPN1-EVI1 (RPN1-MECOM) inv(3)(q21q26.2) Inversion in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RPN1-EVI1",alteration:"(RPN1-MECOM) t(3;3)(q21;q26.2) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/rpn1-evi1/259/">RPN1-EVI1 (RPN1-MECOM) t(3;3)(q21;q26.2) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"RUNX1-RUNX1T1",alteration:"t(8;21)(q22;q22) Translocation",cancerType:"Acute Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/acute-myeloid-leukemia/runx1-runx1t1/251/">RUNX1-RUNX1T1 t(8;21)(q22;q22) Translocation in Acute Myeloid Leukemia</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Anaplastic Large Cell Lymphoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/anaplastic-large-cell-lymphoma/alk/66/">ALK Fusions in Anaplastic Large Cell Lymphoma</a>'},{hugoGeneSymbol:"SMO",alteration:"D473H",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/163/">SMO c.1417G>C (D473H) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"A68V",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/164/">SMO c.203_204delCCinsTT (A68V) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R199W",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/165/">SMO c.595C>T (R199W) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"T349I",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/166/">SMO c.1046_1047delCCinsTT (T349I) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R485W",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/167/">SMO c.1452_1453delCCinsTT (R485W) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"L515F",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/168/">SMO c.1542_1543delCCinsTT (L515F) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"W535L",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/169/">SMO c.1604G>T (W535L) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"R562Q",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/170/">SMO c.1685G>A (R562Q) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"A652V",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/171/">SMO c.1955C>T (A652V) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"SMO",alteration:"P755F",cancerType:"Basal Cell Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/basal-cell-carcinoma/smo/172/">SMO c.2263_2264delCCinsTT (P755F) Mutation in Basal Cell Carcinoma</a>'},{hugoGeneSymbol:"TSC1",alteration:"E636fs",cancerType:"Bladder Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/bladder-cancer/tsc1/237/">TSC1 c.1907_1908del (E636fs) Mutation in Bladder Cancer</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"AR",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/ar/311/">AR Expression in Breast Cancer</a>'},{hugoGeneSymbol:"ESR1",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/esr1/248/">ER (ESR1) Expression in Breast Cancer</a>'},{hugoGeneSymbol:"FGFR1",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/fgfr1/58/">FGFR1 Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"FGFR2",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/fgfr2/309/">FGFR2 Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Amplification",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/119/">HER2 (ERBB2) Amplification in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Overexpression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/238/">HER2 (ERBB2) Overexpression in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"G309A",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/239/">HER2 (ERBB2) c.926G>C (G309A) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"D769H",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/240/">HER2 (ERBB2) c.2305G>C (D769H) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"D769Y",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/241/">HER2 (ERBB2) c.2305G>T (D769Y) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"L755_T759del",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/242/">HER2 (ERBB2) c.2264_2278del (L755_T759del) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"G778_P780dup",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/243/">HER2 (ERBB2) c.2339_2340ins (G778_P780dup) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"V842I",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/244/">HER2 (ERBB2) c.2524G>A (V842I) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"R896C",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/245/">HER2 (ERBB2) c.2686C>T (R896C) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"L755S",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/246/">HER2 (ERBB2) c.2264T>C (L755S) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"V777L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/erbb2/247/">HER2 (ERBB2) c.2329G>T (V777L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/11/">PIK3CA  c.3140A>G (H1047R) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545G",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/13/">PIK3CA c.1634A>G (E545G) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545V",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/14/">PIK3CA c.1634A>T (E545V) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546E",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/15/">PIK3CA c.1636C>G (Q546E) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546L",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/17/">PIK3CA c.1637A>T (Q546L) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546P",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/18/">PIK3CA c.1637A>C (Q546P) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546R",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/19/">PIK3CA c.1637A>G (Q546R) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"D549N",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/20/">PIK3CA c.1645G>A (D549N) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Breast Cancer</a>'},{hugoGeneSymbol:"PGR",alteration:"Expression",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pgr/249/">PR (PGR) Expression in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R159Ss",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/24/">PTEN c.477G>T (R159S) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/25/">PTEN c.697C>T (R233*) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"K267fs",cancerType:"Breast Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/breast-cancer/pten/26/">PTEN c.800delA (K267fs*9) Mutations in Breast Cancer</a>'},{hugoGeneSymbol:"BIRC3",alteration:"Truncating Mutations",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/birc3/342/">BIRC3 Truncating Mutations in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"NOTCH1",alteration:"P2514fs",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/notch1/344/">NOTCH1 c.7541_7542delCT (P2514fs) Mutation in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"NOTCH1",alteration:"Truncating Mutations",cancerType:"Chronic Lymphocytic Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-lymphocytic-leukemia/notch1/345/">NOTCH1 Truncating Mutations in Chronic Lymphocytic Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"Fusions",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/219/">BCR-ABL1 Fusions in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/221/">BCR-ABL1 c.1075T>G (F359V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/222/">BCR-ABL1 c.1075T>A (F359I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F359C",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/223/">BCR-ABL1 c.1076T>G (F359C) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"E255V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/224/">BCR-ABL1 c.764A>T (E255V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317V",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/225/">BCR-ABL1 c.949T>G (F317V) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/226/">BCR-ABL1 c.951C>G (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/227/">BCR-ABL1 c.949T>C (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/228/">BCR-ABL1 c.951C>A (F317L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/229/">BCR-ABL1 c.949T>A (F317I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"F317C",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/230/">BCR-ABL1 c.950T>G (F317C) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"T315I",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/231/">BCR-ABL1 c.944C>T (T315I) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"T315A",cancerType:"Chronic Myeloid Leukemia ",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/232/">BCR-ABL1 c.943A>G (T315A) Mutation in Chronic Myeloid Leukemia </a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"V299L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/233/">BCR-ABL1 c.895G>T (V299L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"V299L",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/234/">BCR-ABL1 c.895G>C (V299L) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"E255K",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/235/">BCR-ABL1 c.763G>A (E255K) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"BCR-ABL1",alteration:"Y253H",cancerType:"Chronic Myeloid Leukemia",linkHTML:'<a href="http://mycancergenome.org/content/disease/chronic-myeloid-leukemia/bcr-abl1/236/">BCR-ABL1 c.757T>C (Y253H) Mutation in Chronic Myeloid Leukemia</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17K",cancerType:"Colorectal Cancer ",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutation in Colorectal Cancer </a>'},{hugoGeneSymbol:"BRAF",alteration:"G469E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/146/">BRAF c.1406G>A (G469E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/147/">BRAF c.1406G>T (G469V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594G",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/148/">BRAF c.1781A>G (D594G) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/149/">BRAF c.1781A>T (D594V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G596R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/150/">BRAF c.1786G>C (G596R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G466V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/70/">BRAF c.1397G>T (G466V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/braf/71/">BRAF c.1406G>C (G469A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/159/">KRAS c.38G>T (G13V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"K117N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/160/">KRAS c.351A>C (K117N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"K117N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/161/">KRAS c.351A>T (K117N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/27/">KRAS c.436G>C (A146P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146T",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/28/">KRAS c.436G>A (A146T) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/29/">KRAS c.437C>T (A146V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/30/">KRAS c.183A>C (Q61H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/308/">KRAS c.182A>C (Q61P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/31/">KRAS c.183A>T (Q61H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/38/">KRAS c.37G>T (G13C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/68/">KRAS c.38G>C (G13A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/85/">NRAS c.35G>C (G12A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/86/">NRAS c.34G>T (G12C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/87/">NRAS c.35G>A (G12D) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/89/">NRAS c.34G>A (G12S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/nras/90/">NRAS c.35G>T (G12V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545G",cancerType:"Coloretal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/13/">PIK3CA c.1634A>G (E545G) Mutation in Coloretal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545V",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/14/">PIK3CA c.1634A>T (E545V) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/15/">PIK3CA c.1636C>G (Q546E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546L",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/17/">PIK3CA c.1637A>T (Q546L) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546P",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/18/">PIK3CA c.1637A>C (Q546P) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546R",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/19/">PIK3CA c.1637A>G (Q546R) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"D549N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/20/">PIK3CA c.1645G>A (D549N) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R159Ss",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/24/">PTEN c.477G>T (R159S) Mutations in Colorectal Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Colorectal Cancer ",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/25/">PTEN c.697C>T (R233*) Mutations in Colorectal Cancer </a>'},{hugoGeneSymbol:"PTEN",alteration:"K267fs",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/pten/26/">PTEN c.800delA (K267fs*9) Mutations in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"E330A",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/151/">SMAD4 c.989A>C (E330A) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D351H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/152/">SMAD4 c.1051G>C (D351H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D537Y",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/153/">SMAD4 c.1609G>T (D537Y) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D351N",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/154/">SMAD4 c.1051G>A (D351N) mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"D355E",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/155/">SMAD4 c.1065C>A (D355E) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361S",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/156/">SMAD4 c.1081C>A (R361S) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361C",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/157/">SMAD4 c.1081C>T (R361C) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"SMAD4",alteration:"R361H",cancerType:"Colorectal Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/colorectal-cancer/smad4/158/">SMAD4 c.1082G>A (R361H) Mutation in Colorectal Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"Amplification",cancerType:"Gastric Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/gastric-cancer/erbb2/119/">HER2 (ERBB2) Amplification in Gastric Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/braf/54/">BRAF c.1799T>A (V600E) mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 9 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/46/">KIT Exon 9 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 11 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/47/">KIT Exon 11 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 13 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/49/">KIT Exon 13 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 14 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/50/">KIT Exon 14 Mutation in GIST</a>'},{hugoGeneSymbol:"KIT",alteration:"Exon 17 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/kit/52/">KIT Exon 17 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 18 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/45/">PDGFRA Exon 18 Mutation in GIST (D842V)</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 12 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/48/">PDGFRA Exon 12 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 14 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/51/">PDGFRA Exon 14 Mutation in GIST</a>'},{hugoGeneSymbol:"PDGFRA",alteration:"Exon 18 Mutation",cancerType:"GIST",linkHTML:'<a href="http://mycancergenome.org/content/disease/gist/pdgfra/53/">PDGFRA Exon 18 Mutation in GIST</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/braf/54/">BRAF c.1799T>A (V600E) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132C",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/260/">IDH1 c.394C>T (R132C) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132G",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/261/">IDH1 c.394C>G (R132G) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/262/">IDH1 c.394C>A (R132S) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132H",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/263/">IDH1 c.395G>A (R132H) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH1",alteration:"R132L",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh1/264/">IDH1 c.395G>T (R132L) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172K",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/270/">IDH2 c.515G>A (R172K) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172M",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/271/">IDH2 c.515G>T (R172M) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/272/">IDH2 c.516G>C (R172S) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172G",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/317/">IDH2 c.514A>G (R172G) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172W",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/318/">IDH2 c.514A>T (R172W) Mutation in Glioma</a>'},{hugoGeneSymbol:"IDH2",alteration:"R172S",cancerType:"Glioma",linkHTML:'<a href="http://mycancergenome.org/content/disease/glioma/idh2/319/">IDH2 c.516G>T (R172S) Mutation in Glioma</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Inflammatory Myofibroblastic Tumor",linkHTML:'<a href="http://mycancergenome.org/content/disease/inflammatory-myofibroblastic-tumor/alk/66/">ALK Fusions in Inflammatory Myofibroblastic Tumor</a>'},{hugoGeneSymbol:"AKT1",alteration:"E17Ks",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/akt1/23/">AKT1 c.49G>A (E17K) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"ALK",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/alk/66/">ALK Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"Y472C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/209/">BRAF c.1415A>G (Y472C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/310/">BRAF c.1405_1406delGGinsTT (G469L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G466V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/70/">BRAF c.1397G>T (G466V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"G469A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/71/">BRAF c.1406G>C (G469A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/braf/73/">BRAF c.1789C>G (L597V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"DDR2",alteration:"S768R",cancerType:"Squamous Cell Carcinoma of the Lung",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ddr2/78/">DDR2 c.2304T>A (S768R) Mutation in Squamous Cell Carcinoma of the Lung</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719As",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/1/">EGFR c.2156G>C (G719A) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 19 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/135/">EGFR Exon 19 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719Cs",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/2/">EGFR c.2155G>T (G719C) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 19 Deletion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/21/">EGFR Exon 19 Deletion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"G719Ss",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/3/">EGFR c.2155G>A (G719S) Mutations in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"A763_Y764insFQEA",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/312/">EGFR c.2290_2291ins (A763_Y764insFQEA) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Status Unknown",cancerType:"Non-Small Cell Lung cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/313/">EGFR Status Unknown in Non-Small Cell Lung cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"exon 1825 Kinase Domain Duplication (EGFR-KDD)",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/339/">EGFR exon 1825 Kinase Domain Duplication (EGFR-KDD) in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"T790M",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/4/">EGFR c.2369C>T (T790M) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"L858R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/5/">EGFR c.2573T>G (L858R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"L861Q",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/6/">EGFR c.2582T>A (L861Q) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"EGFR",alteration:"Exon 20 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/egfr/64/">EGFR Exon 20 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"FGFR1",alteration:"Amplification",cancerType:"Squamous Cell Carcinoma of the Lung",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/fgfr1/58/">FGFR1 Amplification in SCC of the Lung</a>'},{hugoGeneSymbol:"FGFR3",alteration:"Fusions",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/fgfr3/341/">FGFR3 Fusions in Lung Cancer</a>'},{hugoGeneSymbol:"ERBB2",alteration:"ERBB2 Exon 20 Insertion",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/erbb2/65/">HER2 (ERBB2) Exon 20 Insertion in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/30/">KRAS c.183A>C (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/31/">KRAS c.183A>T (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/38/">KRAS c.37G>T (G13C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/68/">KRAS c.38G>C (G13A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"D67Ns",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/60/">MEK1 (MAP2K1) c.199G>A (D67N) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"K57Ns",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/72/">MEK1 (MAP2K1) c.171G>T (K57N) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"Q56P",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/map2k1/74/">MEK1 (MAP2K1) c.167A>C (Q56P) Mutation in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"MET",alteration:"Exon 14 Skipping Mutations",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/met/343/">MET Exon 14 Skipping Mutations in Lung Cancer</a>'},{hugoGeneSymbol:"MET",alteration:"Amplification",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/met/59/">MET Amplification in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/76/">NRAS c.182A>T (Q61L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/80/">NRAS c.183A>C (Q61H) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/81/">NRAS c.183A>T (Q61H) Mutation in Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/85/">NRAS c.35G>C (G12A) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/86/">NRAS c.34G>T (G12C) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/87/">NRAS c.35G>A (G12D) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/88/">NRAS c.34G>C (G12R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/nras/89/">NRAS c.34G>A (G12S) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"NTRK1",alteration:"Fusions",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ntrk1/315/">NTRK1 (TRKA) Fusions in Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/10/">PIK3CA  c.3140A>T (H1047L) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545Q",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pik3ca/9/">PIK3CA c.1633G>C (E545Q) Mutation in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R233*",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/pten/25/">PTEN c.697C>T  (R233*) Mutations in Non-Small Cell Lung Cancer (NSCLC)</a>'},{hugoGeneSymbol:"RET",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ret/127/">RET Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"RICTOR",alteration:"Amplification",cancerType:"Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/rictor/340/">RICTOR Amplification in Lung Cancer</a>'},{hugoGeneSymbol:"ROS1",alteration:"Fusions",cancerType:"Non-Small Cell Lung Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/lung-cancer/ros1/67/">ROS1 Fusions in Non-Small Cell Lung Cancer</a>'},{hugoGeneSymbol:"SMO",alteration:"D473H",cancerType:"Medulloblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/medulloblastoma/smo/163/">SMO c.1417G>C (D473H) Mutation in Medulloblastoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/111/">BRAF c.1799_1800delTGinsAA (V600E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/114/">BRAF c.1799_1800delTGinsAT (V600D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600G",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/115/">BRAF c.1799T>G (V600G) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/116/">BRAF c.1798_1799delGTinsAA (V600K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600M",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/117/">BRAF c.1798G>A (V600M) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/118/">BRAF c.1798_1799delGTinsAG (V600R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/138/">BRAF c.1790T>G (L597R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594G",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/148/">BRAF c.1781A>G (D594G) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/149/">BRAF c.1781A>T (D594V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597Q",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/188/">BRAF c.1790T>A (L597Q) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/189/">BRAF c.1789_1790delCTinsTC (L597S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"K601E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/190/">BRAF c.1801A>G (K601E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594N",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/298/">BRAF c.1780G>A (D594N) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594N",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/299/">BRAF c.1779_1780delTGinsGA (D594N) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/300/">BRAF c.1780G>C (D594H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/301/">BRAF c.1782T>A (D594E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"D594E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/302/">BRAF c.1782T>G (D594E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"Fusions",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/334/">BRAF Fusions in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/54/">BRAF c.1799T>A (V600E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/braf/73/">BRAF c.1789C>G (L597V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S37F",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/104/">CTNNB1(beta-catenin) c.110C>T (S37F) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S37Y",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/105/">CTNNB1 (beta-catenin) c.110C>A (S37Y) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45F",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/106/">CTNNB1 (beta-catenin) c.134C>T (S45F) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/107/">CTNNB1 (beta-catenin) c.133T>C (S45P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"CTNNB1",alteration:"S45Y",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/ctnnb1/108/">CTNNB1 (beta-catenin) c.134C>A (S45Y) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"Q209P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/101/">GNA11 c.626A>C (Q209P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"R183C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/335/">GNA11 c.546_547delCCinsTT (R183C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"R183C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/336/">GNA11 c.547C>T (R183C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNA11",alteration:"Q209L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gna11/99/">GNA11 c.626A>T (Q209L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/100/">GNAQ c.626A>T (Q209L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/102/">GNAQ c.626A>C (Q209P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"Q209R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/103/">GNAQ c.626A>G (Q209R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"GNAQ",alteration:"R183Q",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/gnaq/337/">GNAQ c.548G>A (R183Q) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/109/">KIT c.1669T>A (W557R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/110/">KIT c.1669T>C (W557R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/112/">KIT c.1676T>C (V559A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/113/">KIT c.1676T>A (V559D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"Other",alteration:"KIT mutations",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/132/">Other KIT mutations in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"Amplification",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/338/">KIT Amplification in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"D816H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/84/">KIT c.2446G>C (D816H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"K642E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/95/">KIT c.1924A>G (K642E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"KIT",alteration:"L576P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/kit/96/">KIT c.1727T>C (L576P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"F53L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/210/">MEK1 (MAP2K1) c.157T>C (F53L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"I111S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/211/">MEK1 (MAP2K1) c.332T>G (I111S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"C121S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/212/">MEK1 (MAP2K1) c.362G>C (C121S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P124L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/213/">MEK1 (MAP2K1) c.371C>T (P124L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P124S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/214/">MEK1 (MAP2K1) c.370C>T (P124S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"E203K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/215/">MEK1 (MAP2K1) c.607G>A (E203K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"P264S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/216/">MEK1 (MAP2K1) c.790C>T (P264S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"MAP2K1",alteration:"N382H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/map2k1/217/">MEK1 (MAP2K1) c.1144A>C (N382H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NF1",alteration:"Mutations",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nf1/325/">NF1 Mutations in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/297/">NRAS c.37G>T (G13C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/75/">NRAS c.181C>A (Q61K) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/76/">NRAS c.182A>T (Q61L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/77/">NRAS c.182A>G (Q61R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/80/">NRAS c.183A>C (Q61H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61H",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/81/">NRAS c.183A>T (Q61H) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/82/">NRAS c.182_183delAAinsGG (Q61R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61L",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/83/">NRAS c.182_183delAAinsTG (Q61L) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/85/">NRAS c.35G>C (G12A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12C",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/86/">NRAS c.34G>T (G12C) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/87/">NRAS c.35G>A (G12D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/88/">NRAS c.34G>C (G12R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12S",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/89/">NRAS c.34G>A (G12S) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G12V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/90/">NRAS c.35G>T (G12V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13A",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/91/">NRAS c.38G>C (G13A) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13D",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/92/">NRAS c.38G>A (G13D) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13R",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/93/">NRAS c.37G>C (G13R) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"G13V",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/94/">NRAS c.38G>T (G13V) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61E",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/97/">NRAS c.181C>G (Q61E) Mutation in Melanoma</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61P",cancerType:"Melanoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/melanoma/nras/98/">NRAS c.182A>C (Q61P) Mutation in Melanoma</a>'},{hugoGeneSymbol:"ASXL1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/asxl1/320/">ASXL1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"BCOR",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/bcor/321/">BCOR Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"DNMT3A",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/dnmt3a/322/">DNMT3A Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ETV6",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/etv6/323/">ETV6 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"EZH2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/ezh2/324/">EZH2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"NF1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/nf1/325/">NF1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"RUNX1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/runx1/326/">RUNX1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"SF3B1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/sf3b1/327/">SF3B1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"SRSF2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/srsf2/328/">SRSF2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"STAG2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/stag2/329/">STAG2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"TET2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/tet2/330/">TET2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"TP53",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/tp53/331/">TP53 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"U2AF1",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/u2af1/332/">U2AF1 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ZRSR2",alteration:"Mutations",cancerType:"Myelodysplastic Syndromes",linkHTML:'<a href="http://mycancergenome.org/content/disease/myelodysplastic-syndromes/zrsr2/333/">ZRSR2 Mutations in Myelodysplastic Syndromes</a>'},{hugoGeneSymbol:"ALK",alteration:"D1091N",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/173/">ALK c.3271G>A (D1091N) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"T1151M",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/174/">ALK c.3452C>T (T1151M) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"I1171N",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/175/">ALK c.3512T>A (I1171N) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174C",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/176/">ALK c.3521T>G (F1174C) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174I",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/177/">ALK c.3520T>A (F1174I) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174L",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/178/">ALK c.3522C>A (F1174L) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1174V",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/179/">ALK c.3520T>G (F1174V) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245C",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/180/">ALK c.3734T>G (F1245C) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245L",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/181/">ALK c.3735C>G (F1245L) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"F1245V",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/182/">ALK c.3733T>G (F1245V) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"R1275Q",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/183/">ALK c.3824G>A (R1275Q) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"ALK",alteration:"Y1278S",cancerType:"Neuroblastoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/neuroblastoma/alk/184/">ALK c.3833A>C (Y1278S) Mutation in Neuroblastoma</a>'},{hugoGeneSymbol:"BRAF",alteration:"L597R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/braf/138/">BRAF c.1790T>G (L597R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047L",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/10/">PIK3CA c.3140A>T (H1047L) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"H1047R",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/11/">PIK3CA c.3140A>G (H1047R) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"Q546K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/16/">PIK3CA c.1636C>A (Q546K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E542K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/7/">PIK3CA c.1624G>A (E542K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PIK3CA",alteration:"E545K",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pik3ca/8/">PIK3CA c.1633G>A (E545K) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130*",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/137/">PTEN c.388C>T (R130*) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"N323fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/140/">PTEN c.968dupA (N323fs*2) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"N323fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/141/">PTEN c.968delA (N323fs*21) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"P248fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/142/">PTEN c.741dupA (P248fs*5) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130fs",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/143/">PTEN c.389delG (R130fs*4) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130Q",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/144/">PTEN c.389G>A (R130Q) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"PTEN",alteration:"R130G",cancerType:"Ovarian Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/ovarian-cancer/pten/145/">PTEN c.388C>G (R130G) Mutation in Ovarian Cancer</a>'},{hugoGeneSymbol:"ALK",alteration:"Exon Deletion",cancerType:"Rhabdomyosarcoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/rhabdomyosarcoma/alk/186/">ALK Exon Deletion in Rhabdomyosarcoma</a>'},{hugoGeneSymbol:"ALK",alteration:"D1225N",cancerType:"Rhabdomyosarcoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/rhabdomyosarcoma/alk/187/">ALK c.3673G>A (D1225N) Mutation in Rhabdomyosarcoma</a>'},{hugoGeneSymbol:"KIT",alteration:"W557R",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/110/">KIT c. 1669T>C (W557R) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V559A",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/112/">KIT c. 1676T>C (V559A) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"D820E",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/120/">KIT c.2460T>A (D820E) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"H697Y",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/121/">KIT c.2089C>T (H697Y) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"P577_D579del",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/122/">KIT c.1730_1738del (P577_D579del) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"V560del",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/123/">KIT c.1679_1681del (V560del) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"Y553N",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/124/">KIT c.1657T>A (Y553N) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"E490K",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/218/">KIT c.1468G>A (E490K) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"KIT",alteration:"L576P",cancerType:"Thymic Carcinoma",linkHTML:'<a href="http://mycancergenome.org/content/disease/thymic-carcinoma/kit/96/">KIT c.1727T>C (L576P) Mutation in Thymic Carcinoma</a>'},{hugoGeneSymbol:"AKAP-BRAF",alteration:"Translocation",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/braf/125/">AKAP-BRAF Translocation in Thyroid Cancer</a>'},{hugoGeneSymbol:"BRAF",alteration:"V600E",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/braf/54/">BRAF c.1799T>A (V600E) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G12R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/303/">HRAS c.34G>C (G12R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G12V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/304/">HRAS c.35G>T (G12V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G13C",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/305/">HRAS c.37G>T (G13C) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"G13R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/306/">HRAS c.37G>C (G13R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"HRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/hras/307/">HRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"A146V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/29/">KRAS c.437C>T (A146V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61P",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/308/">KRAS c.182A>C (Q61P) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12A",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/32/">KRAS c.35G>C (G12A) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12C",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/33/">KRAS c.34G>T (G12C) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12D",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/34/">KRAS c.35G>A (G12D) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/35/">KRAS c.34G>C (G12R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12S",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/36/">KRAS c.34G>A (G12S) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G12V",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/37/">KRAS c.35G>T (G12V) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13D",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/39/">KRAS c.38G>A (G13D) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/40/">KRAS c.37G>C (G13R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61K",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/41/">KRAS c.181C>A (Q61K) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61L",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/42/">KRAS c.182A>T (Q61L) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/43/">KRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"KRAS",alteration:"G13S",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/kras/69/">KRAS c.37G>A (G13S) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61K",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/nras/75/">NRAS c.181C>A (Q61K) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"NRAS",alteration:"Q61R",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/nras/77/">NRAS c.182A>G (Q61R) Mutation in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"C634 Mutations",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/126/">RET C634 Mutations in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"Fusions",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/127/">RET Fusions in Thyroid Cancer</a>'},{hugoGeneSymbol:"RET",alteration:"M918T Mutations",cancerType:"Thyroid Cancer",linkHTML:'<a href="http://mycancergenome.org/content/disease/thyroid-cancer/ret/128/">RET M918T Mutations in Thyroid Cancer</a>'}]},function(e){e.exports=[{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.341339866,confidence:.863,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:972538e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.001913222,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.003620254,confidence:.0335,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.001418568,confidence:.005,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.006080752,confidence:.059,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.00451735,confidence:.043,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.001704592,confidence:.017,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:951258e-9,confidence:.0055,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001870896,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.005068029,confidence:.0485,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:982892e-9,confidence:.003,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002622727,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.084106761,confidence:.702,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:826186e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.001429341,confidence:.0085,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:823673e-9,confidence:.004,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002915391,confidence:.028,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.007484683,confidence:.0715,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:572061e-9,confidence:0,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.00198798,confidence:.0145,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001096651,confidence:.008,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.004016701,confidence:.0425,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.001632676,confidence:.01,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:997686e-9,confidence:.0045,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.00308292,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.503912181,confidence:.9955,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.003044077,confidence:.027,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.007111733,confidence:.075,numberOfMutationsForSample:28},{sampleId:"P-0004910-T01-IM5",uniqueSampleKey:"P-0004910-T01-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.001896354,confidence:.0155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.151243448,confidence:.27,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.003879945,confidence:.0325,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.005419738,confidence:.047,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.008507836,confidence:.055,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00363819,confidence:.033,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.010844139,confidence:.061,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.034512153,confidence:.1245,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.009953293,confidence:.0745,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.003466513,confidence:.025,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.007610197,confidence:.0585,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.012576643,confidence:.0695,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.003347933,confidence:.0305,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.018327265,confidence:.0885,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.008894914,confidence:.0565,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:.003358317,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008302825,confidence:.062,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.006159875,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.006076796,confidence:.0505,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.014221547,confidence:.088,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.004388324,confidence:.034,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003052651,confidence:.0285,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.00959173,confidence:.0665,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.006974826,confidence:.0525,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.004176428,confidence:.0355,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00535034,confidence:.0445,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.009369821,confidence:.0615,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.617882475,confidence:.812,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.0036165,confidence:.031,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.008800631,confidence:.059,numberOfMutationsForSample:6},{sampleId:"P-0004910-T02-IM5",uniqueSampleKey:"P-0004910-T02-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.006454707,confidence:.052,numberOfMutationsForSample:6},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.063649069,confidence:.2365,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001628188,confidence:.0125,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.046902463,confidence:.4155,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.006882923,confidence:.054,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.00361478,confidence:.021,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.014863187,confidence:.083,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.010484074,confidence:.0695,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.003026287,confidence:.0245,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.002453355,confidence:.023,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.002392524,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.014476329,confidence:.1205,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.007135648,confidence:.0805,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.002942895,confidence:.0235,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.163993342,confidence:.896,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:686919e-9,confidence:.001,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.008949491,confidence:.0915,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001079462,confidence:.0065,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.002625438,confidence:.024,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.017866136,confidence:.1115,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:671284e-9,confidence:.0025,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.0020471,confidence:.0165,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.002319558,confidence:.022,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003747207,confidence:.036,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.009046077,confidence:.084,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.001463008,confidence:.009,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003301589,confidence:.033,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.581148247,confidence:.945,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.013454741,confidence:.141,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.003818527,confidence:.034,numberOfMutationsForSample:28},{sampleId:"P-0004910-T03-IM5",uniqueSampleKey:"P-0004910-T03-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.003330149,confidence:.032,numberOfMutationsForSample:28},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_1",value:.008049382,confidence:.0675,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_2",value:.001105177,confidence:.0045,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_3",value:.0036538,confidence:.0365,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_4",value:.004620752,confidence:.041,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_5",value:.003782088,confidence:.0255,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_6",value:.003749777,confidence:.0355,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_7",value:.003365869,confidence:.029,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_8",value:.004632342,confidence:.043,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_9",value:.001719043,confidence:.011,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_10",value:.001231342,confidence:.0085,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_11",value:.003583696,confidence:.0345,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_12",value:.002815642,confidence:.0235,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_13",value:.004149477,confidence:.038,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_14",value:.129747639,confidence:.78,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_15",value:734112e-9,confidence:.002,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_16",value:.00228644,confidence:.021,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_17",value:.001002355,confidence:.005,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_18",value:.003832217,confidence:.0375,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_19",value:.031776993,confidence:.2185,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_20",value:.001557096,confidence:.0105,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_21",value:.003556415,confidence:.0335,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_22",value:.001487606,confidence:.0115,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_23",value:.003237267,confidence:.0265,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_24",value:.008425291,confidence:.0805,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_25",value:.00114451,confidence:.0065,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_26",value:.003196741,confidence:.0245,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_27",value:.754802788,confidence:1,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_28",value:.001975817,confidence:.0145,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_29",value:.001780031,confidence:.013,numberOfMutationsForSample:26},{sampleId:"P-0004910-T04-IM5",uniqueSampleKey:"P-0004910-T04-IM5",patientId:"P-0004910",uniquePatientKey:"P-0004910",studyId:"msk_impact_2017",mutationalSignatureId:"mutational_signature_30",value:.002998294,confidence:.0285,numberOfMutationsForSample:26}]},function(e){e.exports=[{mutationalSignatureId:"mutational_signature_1",description:"Mutational Signature 1",confidenceStatement:"Signature 1, the aging signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_2",description:"Mutational Signature 2",confidenceStatement:"Signature 2, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 13, the other APOBEC signature"},{mutationalSignatureId:"mutational_signature_3",description:"Mutational Signature 3",confidenceStatement:"Signature 3, the signature of Homologous Recombination Repair deficiency is detected in this case.  This signature is most commonly associated with BRCA mutations"},{mutationalSignatureId:"mutational_signature_4",description:"Mutational Signature 4",confidenceStatement:"Signature 4, the smoking signature is detected in this case"},{mutationalSignatureId:"mutational_signature_5",description:"Mutational Signature 5",confidenceStatement:"Signature 5 is detected in this case.  We are not confident that we are able to detect signature 5 in the IMPACT cohort.  It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with age"},{mutationalSignatureId:"mutational_signature_6",description:"Mutational Signature 6",confidenceStatement:"Signature 6, a MMR signature, is detected in this case.  It is usually associated with high mutational burden.  This signature often co-occurs with other MMR signatures (14, 15, 20, 21 26)"},{mutationalSignatureId:"mutational_signature_7",description:"Mutational Signature 7",confidenceStatement:"Signature 7, the UV light signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_8",description:"Mutational Signature 8",confidenceStatement:"Signature 8 is detected in this case. We are not confident that we are able to detect signature 8 in the IMPACT cohort. It is a 'flat' signature--when it is detected it is more likely to be an artefact. In the literature it is associated with HRD defects"},{mutationalSignatureId:"mutational_signature_9",description:"Mutational Signature 9",confidenceStatement:"Signature 9 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is associated with POLH."},{mutationalSignatureId:"mutational_signature_10",description:"Mutational Signature 10",confidenceStatement:"Signature 10, the POLE signature, is detected in this case.  It is associated with functions to the exonucleus domain of the POLE gene and enormous mutational burden.  Oftentimes MMR signatures 6, 14,16, 20,21 and 26 co-occur with the POLE signature."},{mutationalSignatureId:"mutational_signature_11",description:"Mutational Signature 11",confidenceStatement:"Signature 11, the Temozolomide (TMZ) signature, is detected in this case."},{mutationalSignatureId:"mutational_signature_12",description:"Mutational Signature 12",confidenceStatement:"Signature 12 is detected in this case.  We are not confident that we are able to detect signature 9 in the IMPACT cohort.  In the literature it is found in liver cancer."},{mutationalSignatureId:"mutational_signature_13",description:"Mutational Signature 13",confidenceStatement:"Signature 13, the APOBEC signature, is detected in this case.  This signature often coccurs with signature 2, the other APOBEC signature."},{mutationalSignatureId:"mutational_signature_14",description:"Mutational Signature 14",confidenceStatement:"Signature 14, the signature of simultaneous MMR and POLE dysfunction is detected in this case.  This signature usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 15, 20, 21 26)."},{mutationalSignatureId:"mutational_signature_15",description:"Mutational Signature 15",confidenceStatement:"Signature 15, a MMR signature, is detected in this case.  It is usually associated with high mutational burden."},{mutationalSignatureId:"mutational_signature_16",description:"Mutational Signature 16",confidenceStatement:"Signature 16 is detected in this case. We are not confident that we are able to detect signature 16 in the IMPACT cohort.  In the literature it is associated with Liver cancer and alcohol consumption."},{mutationalSignatureId:"mutational_signature_17",description:"Mutational Signature 17",confidenceStatement:"Signature 17 is detected in this case.  The aetiology of this signature is unknown.  It is predominantly found in gastric cancers."},{mutationalSignatureId:"mutational_signature_18",description:"Mutational Signature 18",confidenceStatement:"Signature 18 is detected in this case.  This signature is associated with MUTYH dysfunction and neuroblastoma."},{mutationalSignatureId:"mutational_signature_19",description:"Mutational Signature 19",confidenceStatement:"Signature 19 is detected in this case. We are not confident that we are able to detect signature 19 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_20",description:"Mutational Signature 20",confidenceStatements:"Signature 20 is detected in this case. This signature is associated with MMR and usually occurs in cases with the POLE signature (signature 10) and other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_21",description:"Mutational Signature 21",confidenceStatement:"Signature 21 is detected in this case. This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 21, 26)."},{mutationalSignatureId:"mutational_signature_22",description:"Mutational Signature 22",confidenceStatement:"Signature 22 is detected in this case. We are not confident that we are able to detect signature 22 in the IMPACT cohort. In the literature it is associated with exposure to Aristolochic Acid."},{mutationalSignatureId:"mutational_signature_23",description:"Mutational Signature 23",confidenceStatement:"Signature 23 is detected in this case. We are not confident that we are able to detect signature 23 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_24",description:"Mutational Signature 24",confidenceStatement:"Signature 24 is detected in this case. We are not confident that we are able to detect signature 24 in the IMPACT cohort.  In the literature it is associated with aflatoxin exposure.  In our cohort we believe it is detected by accident in cases with the smoking signature (signature 4)."},{mutationalSignatureId:"mutational_signature_25",description:"Mutational Signature 25",confidenceStatement:"Signature 25 is detected in this case. We are not confident that we are able to detect signature 25 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_26",description:"Mutational Signature 26",confidenceStatement:"Signature 26 is detected in this case.  This signature is associated with MMR and usually co-occurs with other MMR signatures (6, 14, 15, 20, 21)."},{mutationalSignatureId:"mutational_signature_27",description:"Mutational Signature 27",confidenceStatement:"Signature 27 is detected in this case. We are not confident that we are able to detect signature 27 in the IMPACT cohort."},{mutationalSignatureId:"mutational_signature_28",description:"Mutational Signature 28",confidenceStatement:"Signature 28 is detected in this case. We are not confident that we are able to detect signature 28 in the IMPACT cohort.  It often co-occurs with signature 28."},{mutationalSignatureId:"mutational_signature_29",description:"Mutational Signature 29",confidenceStatement:"Signature 29, the mutational signature of chewing tobacco is detected in this case."},{mutationalSignatureId:"mutational_signature_30",description:"Mutational Signature 30",confidenceStatement:"Signature 30 is detected in this case. We are not confident that we are able to detect signature 30 in the IMPACT cohort."}]},,,,,function(e,t,n){},function(e,t,n){e.exports=n(24)(131)},,function(e,t,n){"use strict";var r=n(0),o=n(519),a=n.n(o),i=n(18),u=n(7);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:this.props.className},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard",style:{marginRight:5}}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",{style:{margin:"0px 10px"}},"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload,style:{marginRight:10}},r.createElement("i",{className:"fa fa-cloud-download",style:{marginRight:5}}),this.props.downloadLabel),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&c(n.prototype,o),a&&c(n,a),t}();f.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",showCopy:!0,showDownload:!0};var m=n(622),h=n(44),y=n.n(h),g=n(621),b=n.n(g),v=n(730),S=n(671);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,A(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("span",{className:y()(b.a.downloadTabLinksGroup,this.props.className)},this.props.showCopy&&r.createElement("a",{onClick:this.props.handleCopy,ref:this.props.copyLinkRef},r.createElement("i",{className:"fa fa-clipboard"}),this.props.copyLabel),this.props.showCopy&&this.props.showDownload&&r.createElement("span",null,"|"),this.props.showDownload&&r.createElement("a",{onClick:this.props.handleDownload},r.createElement("i",{className:"fa fa-cloud-download"}),this.props.downloadLabel),this.props.showDownload&&this.props.showQuery&&r.createElement("span",null,"|"),this.props.showQuery&&r.createElement("a",{onClick:this.props.handleQuery},r.createElement("i",{className:"fa fa-external-link-square"}),this.props.queryButtonLabel),this.props.showQuery&&this.props.showVirtualStudy&&r.createElement("span",null,"|"),this.props.showVirtualStudy&&r.createElement(v.DefaultTooltip,{trigger:["click"],destroyTooltipOnHide:!0,overlay:this.props.virtualStudyParams&&r.createElement(S.b,{user:this.props.virtualStudyParams.user,name:this.props.virtualStudyParams.name,description:this.props.virtualStudyParams.description,studyWithSamples:this.props.virtualStudyParams.studyWithSamples,selectedSamples:this.props.virtualStudyParams.selectedSamples,filter:this.props.virtualStudyParams.filter,attributesMetaSet:this.props.virtualStudyParams.attributesMetaSet}),placement:"bottom"},r.createElement("a",null,r.createElement("i",{className:"fa fa-pie-chart"}),this.props.virtualStudyButtonLabel)),this.props.showCopyMessage&&r.createElement("span",{className:"alert-success"},"Copied!"))}}])&&C(n.prototype,o),a&&C(n,a),t}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}P.defaultProps={className:"",copyButtonLabel:"Copy",downloadButtonLabel:"Download",queryButtonLabel:"Query",virtualStudyButtonLabel:"Virtual Study",showCopy:!0,showDownload:!0,showQuery:!1,showVirtualStudy:!1},n.d(t,"a",function(){return D});var R=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":M(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},N=n(575),D=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=_(t).call(this,e))||"object"!==M(o)&&"function"!=typeof o?w(r):o).showCopyMessage=!1,n.handleDownload=n.handleDownload.bind(w(n)),n.copyLinkRef=n.copyLinkRef.bind(w(n)),n.copyButtonRef=n.copyButtonRef.bind(w(n)),n.handleAfterCopy=n.handleAfterCopy.bind(w(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return"LINK"===this.props.controlsStyle?r.createElement(f,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage}):"QUERY"===this.props.controlsStyle?r.createElement(P,{className:this.props.className,handleDownload:this.handleDownload,copyLinkRef:this.copyLinkRef,handleCopy:this.handleAfterCopy,copyLabel:this.props.copyLabel,downloadLabel:this.props.downloadLabel,showCopyMessage:this.showCopyMessage,showQuery:this.props.showQuery,handleQuery:this.props.handleQuery,showVirtualStudy:this.props.showVirtualStudy,virtualStudyParams:this.props.virtualStudyParams}):r.createElement(m.a,{className:this.props.className,handleDownload:this.handleDownload,copyButtonRef:this.copyButtonRef,handleCopy:this.handleAfterCopy,showCopyMessage:this.showCopyMessage,showCopy:this.props.showCopy,showDownload:this.props.showDownload})}},{key:"handleDownload",value:function(){this.props.downloadData&&a()(this.props.downloadData(),this.props.downloadFilename)}},{key:"copyLinkRef",value:function(e){this.handleCopyRef(e)}},{key:"copyButtonRef",value:function(e){this.handleCopyRef(e)}},{key:"handleCopyRef",value:function(e){e&&new N(e,{text:this.props.downloadData})}},{key:"handleAfterCopy",value:function(){var e=this;this.showCopyMessage=!0,setTimeout(function(){e.showCopyMessage=!1},this.props.copyMessageDuration)}}])&&k(n.prototype,o),i&&k(n,i),t}();D.defaultProps={className:"",showCopy:!0,copyMessageDuration:3e3,showDownload:!0,showQuery:!0,showVirtualStudy:!0,copyLabel:"Copy",downloadLabel:"Download",downloadFilename:"data.tsv",controlsStyle:"LINK"},R([u.observable],D.prototype,"showCopyMessage",void 0),D=R([i.observer],D)},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={portalWidth:"paginationControls-module__portalWidth__2gIaM",framedImage:"paginationControls-module__framedImage__2QU5w","default-cursor":"paginationControls-module__default-cursor__3qNcu","form-select":"paginationControls-module__form-select__3-BhF","page-number-input":"paginationControls-module__page-number-input__2DGhO",paginationControls:"paginationControls-module__paginationControls__MF0uG","margin-right-button":"paginationControls-module__margin-right-button__3tzhL","margin-left-button":"paginationControls-module__margin-left-button__1rLFR","hidden-button":"paginationControls-module__hidden-button__2mt4l"}},,function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__QOSi2",framedImage:"styles-module__framedImage__1dzkM",virtualStudy:"styles-module__virtualStudy__U7f0-",virtualStudyForm:"styles-module__virtualStudyForm__24Vwu",saveButton:"styles-module__saveButton__272LI",studiesSummaryInfo:"styles-module__studiesSummaryInfo__3ewzF",result:"styles-module__result__1BQ9F",name:"styles-module__name__3bVye",controls:"styles-module__controls__31KcC",disabled:"styles-module__disabled__M8SEC",studySummary:"styles-module__studySummary__3Tls0",studyName:"styles-module__studyName__3U1tn",studyDescription:"styles-module__studyDescription__1tQcY"}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=i(this,u(t).call(this,e))).handlers={onMouseOver:function(){n.props.onMouseOver&&n.props.onMouseOver(),n.props.onMouseEnter&&n.props.onMouseEnter()},onMouseOut:function(){n.props.onMouseOut&&n.props.onMouseOut(),n.props.onMouseLeave&&n.props.onMouseLeave()}},n}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("svg",{width:this.props.width,height:this.props.height,style:{position:"absolute",top:this.props.y,left:this.props.x,cursor:this.props.cursor},onMouseOver:this.handlers.onMouseOver,onClick:this.props.onClick,onMouseOut:this.handlers.onMouseOut})}}])&&a(n.prototype,o),c&&a(n,c),t}()},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(0),o=n(503),a=n(511);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return e<.01?e.toFixed(4):e.toFixed(2)}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"mainContent",value:function(e,t,n){var a=r.createElement("span",null,r.createElement("b",null,t)," variant reads out of ",r.createElement("b",null,t+n)," total");return r.createElement(o.b,{placement:"left",overlay:a,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"}),destroyTooltipOnHide:!0},r.createElement("span",null,u(e)))}},{key:"renderFunction",value:function(t){var n=e.getSortValue(t);if(n){var o=t[0].tumorAltCount,i=t[0].tumorRefCount;return e.mainContent(n,o,i)}return r.createElement(a.b,{status:a.a.NA})}},{key:"getTextValue",value:function(t){var n=e.getSortValue(t);return n?u(n):""}},{key:"getSortValue",value:function(e){var t=e[0];if(!t)return null;var n=t.tumorAltCount,r=t.tumorRefCount;return n<0||r<0?null:n/(n+r)}},{key:"isVisible",value:function(e){if(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(this.getSortValue(i))return!0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}return!1}}],(n=null)&&i(t.prototype,n),l&&i(t,l),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(4);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return r.createElement(o.b,{to:"/study?id=".concat(this.props.studyId),className:this.props.className},this.props.children)}}])&&i(n.prototype,a),s&&i(n,s),t}()},,,,function(e,t,n){e.exports=n(24)(11)},function(e,t,n){e.exports=n(24)(130)},,,function(e,t,n){e.exports=n(24)(166)},function(e,t,n){e.exports=n(24)(101)},,,,,function(e,t,n){e.exports=n(24)(425)},function(e,t,n){e.exports=n(24)(486)},function(e,t,n){e.exports=n(24)(452)},function(e,t,n){e.exports=n(24)(834)},function(e,t,n){e.exports=n(24)(357)},function(e,t,n){e.exports=n(24)(823)},,,,,,,,,function(e,t,n){e.exports=n(24)(469)},function(e,t,n){e.exports=n(24)(169)},,function(e,t,n){e.exports=n(24)(366)},function(e,t,n){e.exports=n(24)(328)},function(e,t,n){e.exports=n(24)(877)},function(e,t,n){e.exports=n(24)(167)},function(e,t,n){e.exports=n(24)(876)},function(e,t,n){e.exports=n(24)(359)},function(e,t,n){e.exports={portalWidth:"mutationAssessorColumn-module__portalWidth__3YkFm",framedImage:"mutationAssessorColumn-module__framedImage__1asWn","ma-high":"mutationAssessorColumn-module__ma-high__gHJA0","ma-medium":"mutationAssessorColumn-module__ma-medium__3fKlP","ma-low":"mutationAssessorColumn-module__ma-low__VwQXC","ma-neutral":"mutationAssessorColumn-module__ma-neutral__2oq-W"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABJCAIAAADdSs1eAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAdMSURBVHhe7VpdTFdlGA/jS5AARUTDkC/RIlfQ5mbkFisuaH2MNusit6Zrulbroq1uWhdetNVNX5vTNb2xC7rQlW2skcMiZrilFTKQDwEVFJAiFRAFpR97Dw8P53/+5z3nPe/5/4/bOTsXcM778by/9/k9v+d9zj9hbm7ugfBiCCwL0TAhECJidokQkRARWZgIfcSMUEIctab90uS+oxfJoj3PrX2qOCMzLTHaLp7pu3ni3PiZvgnRYOf2NS9WrrJsPHBt+oNv++jVhy+vryzKkDmH8T6ePsLhgDkHT1xt7rweze6xGzOf/nCZ4ECzI80j16dmLdu39tzgz4GjQzjQLJ6IRFqJRU7dvmtpfdfVqcjnM7MWyRRGOHZ6jDcGjvAah6AEApHnt2STuX0j1qZ/2TAk2tRtzbFfW+eQgV1l0QpqeWH41v2ESF5WMoKCsPj3pQ4vHtIOY5Hl+en2azvbbwSaqk2ZBB8o6RARr5F19L/pr453tg84Iur3H1dzs3Z83iH+BRyPP5JOsfCbPRtN8bX+1Kggwnu1D2cuT6QAtH93ac5DSXxMRJa3DnaLJ1+8WTwxffej+gHx72dvFG1YnSrFxStrDjR0OYTD3hRua+9SD+dxoWxtmv041BfetC47JX9lilvieEJkfOKOFjiE0VBf8YdJGiguINyYPCISHU4ZvE1LeZATJ1rY5uN4QqSlfeTO7D0MV74hG4yQ3vbbW5y3XDSANFwZv02NaZEVhYuR0nIo9Pq5zeBvYa5BEN5r8N/FYaMZ4wmRprZhMW71ljwpP6UNOHH6Rw3F4YssWYAs2lDUS1BGNOPEIXBtjFFHpH/4Jm4MnZy4bOum1dIFO2lAxCGt7Rw0pBTOb5POisFbzhsJHlSGpuPEQXiWEkcdEXIQwJGeGjX1dgIEtSHi4IlQXFJNJ5ShjBZ6hByX7vWrFuOrlDiKiCB8IIiIlTyrgzJiKBCH0qpzlya7WZ7Knd8SZaIM3kKe3z7UQzd5HF5JiaOIyJ+9/0BoMEH2iuSKEuvjlivvoMbk8Mjof+0wWICEBc5vPyBRxr4ZiBPtNCQ6KiLS0jEq+lc/YUim2voje5FG4BUJB/I3+/FBMaIMIg4QNN38oGDKd0wjqyAyOT17+vy1BcpoRgQawc8jxCZ7RPix5fVtuagSmO4XKlbSCPbEUUHkt4U0pCw/Mz9HkkQq+A5XCnQnAbIZigIwnY9MjTnQcD0b4qggcnIhDdEYU/kCOHHwfHO+BHR+0i9bZ6R5kfBxoG2I4xqRwbGprsH5gIc05Jly48Cq4AjoQuxIS15iBvaTaM9zLTFLclICTZeUOP/3xC2jpILGNpLEz0RXxudlwfJyffY90nThaMt8KRBwvF/3mBoWQe7l2kea/jIKDVWP5gZ5Ycq2uUPkLEtDntSahigvQHtHd4hQGlJVvgZxRLs1QRjQxap45q7lsBuE9Ufa4AIRqoYU5mXgDuZ6vFvlAhG91RDvpvs0glNEUGEWBUSEDwQRn6wJwrBOEWn62xBdSAzOu0Ew3ScbXCMSwJgK/31lXxPuHZ/8ImoUXi5HiIAvmBXTwDsCmIbkZqWi9A3zuBoqg+IIEV5ADGYaQgk0ZUw+IgLgWTVEQ81d2Vabjjhkia3CKRRnUS9TyH0EcKBEhDlQCkFBxMtk/vVF6Zu+B5xsc/qJ19IeOSKsGqK5XKYXICrW0FlUbXwJIgjdON2JobWXVNUsjtYLBXCRFnCbFaaQIEJ403wKc8SsC+0Z+bXC1BJEeOgW0eS+uEgKFKyVIELpKbjzzv5WLzMpGOe8CyQG5oniHq4sD1m1pKoIvzjU2MNjFejz7kubg5PIw8L65v4fWy8TfLBwb20Z0jbngPKWjuqscJDDjT2k85C6um0Fr1YVqE2psRcM+/p4J2XuMGx3TalHBXCECNaAPO275n5ySzxBbrK3dmO8CiVAAViQDgop3Fld7N15nSIiNhY/jzjQ0C2+TogLnvLa9sIYp/Y//TGETwIU6YECiKzr87M7RAQK8BT4i/h1ES7ksrtqSnUZZM8pMBeu4euWqCACoy2dFhzW9UOSSFwEbRFBaSdAWNBW+8FCERFhMT4AI+LqDWyWPoJyBH4USaEdJAVVfQrtnhCB9Zby7EX8TIhYjg+S+vEFXkztFRExik97GDMf5NugBxGMGCnPXnjun7jaR25tPkLTWGoB0jlXEdekZcg+QcPYaJl+REiej526qJAvQFYPN/b6Kq6x9hGaL9LtUfhDRIyWU1rmxLtqSrSLa9wQcSXPSMYhrqLcj8tXcY0zIpbyjG1H0i3kE66EfNx0ttYo3tL1RzbQpjX2cyM0IPvmKVbd0wVZ6cn8eKLl5KoAgalLjBAheeZpODcFJ1dfDwHOkYodIsKmSHmOsbhKoYk1IsIgeAoKX5DnuBQT7EGJDyKCRDOz91xlbtLt1dIgbohosd6PQeTf9PyYNchjhoiYdydEJERExtjQR0IfCX1EhkDoIzKE/gco765KHggW0QAAAABJRU5ErkJggg=="},function(e,t,n){e.exports={portalWidth:"siftTooltip-module__portalWidth__24Oa2",framedImage:"siftTooltip-module__framedImage__1C_nb","sift-deleterious":"siftTooltip-module__sift-deleterious__1aA2Z","sift-deleterious_low_confidence":"siftTooltip-module__sift-deleterious_low_confidence__2fL6l","sift-tolerated_low_confidence":"siftTooltip-module__sift-tolerated_low_confidence__1u4Hk","sift-tolerated":"siftTooltip-module__sift-tolerated__xqt6g","sift-tooltip-table":"siftTooltip-module__sift-tooltip-table__2KTtP"}},function(e,t,n){e.exports={portalWidth:"polyPhen2Tooltip-module__portalWidth__CFsKD",framedImage:"polyPhen2Tooltip-module__framedImage__kQY7t","polyPhen2-probably_damaging":"polyPhen2Tooltip-module__polyPhen2-probably_damaging__EBbPS","polyPhen2-possibly_damaging":"polyPhen2Tooltip-module__polyPhen2-possibly_damaging__1fyF8","polyPhen2-benign":"polyPhen2Tooltip-module__polyPhen2-benign__36nqJ","polyPhen2-unknown":"polyPhen2Tooltip-module__polyPhen2-unknown__3KRAw","polyPhen2-tooltip-table":"polyPhen2Tooltip-module__polyPhen2-tooltip-table__2WGNf"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAT5QTFRF/Pz8/////P396urqzMzMxsbGxsbGxsbGxsbGxsbGycnJ19fX9vb2/v7+2NjYwsLC+Pr69Pf38PT18fT19ff4+fr79PT0p7GzZ4CGXnuCYX+GZIWNaYqSbo+XZYWNZIKJYXyDbYWLs7m7SHiEAERVcpag+vv7gqavFFhpIWJytsvQgKeyLW5/IWd4Qn2Mv9PYfLTDKoOZKoWbTJqt9/r79Pj5c7zOM5u2MZq0WrDE5/H00+zyodfkVrjPRbHMRbHLULXOm9TjyOfv1OzypNjlndXkz+rx+vz8rdzopNjl7Pb56vX45/T36/b45vT36/b45/T36vX45PP3AENUAEBQAD1MADtKADpIDVJjCU5fB0xdBktcCExdDlJjIWd4KH6TJ3yRJ3qPJ3uQKHyRKYCVMJixMJawMJavMJex////SLEDvgAAAFN0Uk5TAAAAEzVMYW51e0l7fn57Z4OHi4qHggdcu9zu+Pr8+OvXtFC1/YwDhfjrS47u/ddHmv391gcKq/z9yxozdeX9/e19Q0KUo0oGqr0kPEc6SjhGPk2mXRMZAAAAAWJLR0QB/wIt3gAAAAlwSFlzAAAASAAAAEgARslrPgAAALpJREFUGNNjYGBmYWVj5+Dk5GBnY2VhZmDg4ubhhQMePi4GfhBfQFBIWEQUJMLPICYuISklLSMrKyMnr6CoJMbAoKwSHBIaFh4eFhoSrKLKyMCopq4RERkVHR0TGaupxQAUYNTWiYMAXT19RpAAg4FhfEJiUnKKkbEJWIDR1Mw8NS09w8LSihEiwGhtY2tn7+DoxAQTYGRydnF1YwIzIQKM7h6eXozIAozePoyoAr5+aAL+AWgCgUFQBgBUGxvs9K2IRwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOS0xNFQwMDoxMTowNSswMzowMPy1TyEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDktMTRUMDA6MTE6MDQrMDM6MDArn/wpAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAklQTFRF+/z+////dJ7j///+9Pv/a5TdqL7k4+v6eKDjsMnvtM75X5Hkp77ou9H33+j4vtT4wdf7cp/p3u3/ja/oaaP2ytjsZ47V/f//0N71wc3jKnft0OH8GmbeO3fcQHTSMW7VkbbyuNX/FWDcc5TS///6////2+X4z9zs1NviPoLihbT4/f7+bJ/umLLWyNTnNHzt/P3+1OP7wM7o0dznVoPMob3sY4zVR4jukLb0/v7+SILhz9vr//z0pb7gM3rlzeD9E17aWY/q/f3+R4Lhztnq///2jrfxG2rozd35RYHlgaHX0Nzw///+4+39cZrgtMXjqsn1GGjnf6nwkbTvd53iwtDjXIbOq8Pt/v39obrkN3PXLXnvfaju/v//8/j+gajrk7Hl//72sMTiPnrdt9D5+/z+qcz7AE/dcZzn8ff+iari9vf0+vnxTIfjZprvSo71QHradZjT4en2YIrV+fn03+jxOH/qeqnzKG7eY4rNVH/PiLPzxd37mbHe///3x9ToMWfIpL3roLjiT33PNnzrjLX1ibX04er1+vj18/PvXorWU4be9fj+8/X5NnfiGmjn5/D9+fv+WJTv3OLo5eru7e/vhazoL3Pk2ub6s8/6K3buPnTSm7Tja5zpQnDH7fH1/Pz6///4ga/xM3np4Or6SIboYJPmvszjRnXLp8LvlLvzLmnRydjs///8+Pr6UIjkSYTmwNX3LnLhrcXtjKnZS33V2eb70+P8gaLW///5pMj4CmHqnr31Lm7dztvu9/fy4unwQHTSe6HnW+6dZAAAACF0Uk5T+/7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+EjK2AQAAAAFiS0dEAf8CLd4AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAEOSURBVBjTDcyDQkRRFAXQc7Nta6fJtt3Ltm3brsl2k227vqzWBywiZmhkbAKYCpmZW1iCR8IiVqLWYgziEjaStlLMjmAv7eDo5AzIuLi6Ae4EWQ9PL28fX8j5+QMBIMgHBgWHhIZBITwiEhyPEBUdExsXzyEhMSk5BRylIi09IzML2Tm5efkFhaAiVlxSCqBMsbyisqoaxCnV1NbVg4NyQ2NTcwuIqbSqtqmpg2m0a3ZoaYM6dbq6e3r7wLH+gcGh/3RYd2R0bHyCDzY5NT2DWZrTm19YXFpeAVtdW98AaHNre0ewu7eP7IPDo+MT0OnZ+cXl1TUfN7d3gvuHR3rSf355fXsHDD4+v75/fv8AgKdToRrTqZIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMDktMTRUMDA6MjI6NDErMDM6MDD+ZbjKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA5LTE0VDAwOjIyOjI2KzAzOjAwjPA3fwAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";n(576);var r=n(580),o=n(151),a=n(9),i=n(7),u=n(18),l=n(0);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,p(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,l["Component"]),n=t,(o=[{key:"render",value:function(){return l.createElement("table",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.chunk(e,t).map(function(e){return l.createElement("tr",null,e)})}(this.props.options.map(this.optionSelectComponent),this.props.numberOfColumnsPerRow))}},{key:"getOptionLabel",value:function(e){return this.props.getOptionLabel?this.props.getOptionLabel(e,this.selectedValues,this.props.checkBoxType):Object(r.b)(e,this.selectedValues,this.props.checkBoxType)}},{key:"optionSelectComponent",value:function(e){var t=this;return l.createElement("td",{onClick:function(){return t.handleSelect(e.value)},style:{cursor:"pointer",whiteSpace:"nowrap",paddingRight:8}},this.getOptionLabel(e))}},{key:"handleSelect",value:function(e){this.props.isDisabled||(this.selectedValues[e]?this.props.onChange(this.props.value.filter(function(t){return t.value!==e})):this.props.onChange([{value:e}].concat(this.props.value)))}},{key:"selectedValues",get:function(){return Object(r.c)(this.props.value)}}])&&c(n.prototype,o),i&&c(n,i),t}();h.defaultProps={isDisabled:!1,numberOfColumnsPerRow:1,checkBoxType:r.a.HTML},m([i.computed],h.prototype,"selectedValues",null),m([o.default],h.prototype,"getOptionLabel",null),m([o.default],h.prototype,"optionSelectComponent",null),m([i.action.bound],h.prototype,"handleSelect",null);h=m([u.observer],h),n(503),n(530),n(566),n(567),n(715);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,v(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,l["Component"]),n=t,(r=[{key:"positionToAxisPosition",value:function(e){return(this.props.reverse?this.props.rangeUpper-e:e)/(this.props.rangeUpper-this.props.rangeLower)*this.props.length}},{key:"render",value:function(){var e=this.props.vertical?this.props.x:this.props.x+this.props.length,t=this.props.vertical?this.props.y+this.props.length:this.props.y;return l.createElement("g",null,l.createElement("line",{stroke:"rgb(170,170,170)",strokeWidth:"1",x1:this.props.x,y1:this.props.y,x2:e,y2:t}),this.ticks,this.label)}},{key:"ticks",get:function(){var e=this;return this.props.ticks.map(function(t){var n=e.props.invertTicks?-e.props.tickLength:e.props.tickLength,r=e.positionToAxisPosition(t.position),o=e.props.vertical?e.props.x:e.props.x+r,a=e.props.vertical?e.props.y+e.props.length-r:e.props.y,i=e.props.vertical?e.props.x-n:e.props.x+r,u=e.props.vertical?e.props.y+e.props.length-r:e.props.y+n,c=e.props.tickLabelPadding,s=null;return t.label&&(s=e.props.vertical?l.createElement("text",{textAnchor:e.props.invertTicks?"start":"end",style:{fontSize:"10px",fontFamily:"arial"},dx:(e.props.invertTicks?1:-1)*c,dy:"0.4em",x:i,y:u},t.label):l.createElement("text",{textAnchor:"middle",style:{fontSize:"10px",fontFamily:"arial"},x:i,y:u+(e.props.invertTicks?n-5:0),dy:"1em"},t.label)),l.createElement("g",{key:r},l.createElement("line",{stroke:"rgb(170,170,170)",strokeWidth:"1",x1:o,y1:a,x2:i,y2:u}),s)})}},{key:"label",get:function(){if(this.props.label){var e,t,n,r=this.props.invertTicks?-this.props.tickLength:this.props.tickLength,o=this.props.verticalLabelPadding,a=this.props.horizontalLabelPadding;return this.props.vertical?(e=this.props.x-r+(this.props.invertTicks?o:-o),t=this.props.y+this.props.length/2,n="rotate(270,".concat(e,",").concat(t,")")):(e=this.props.x+this.props.length/2,t=this.props.y+r+(this.props.invertTicks?-a:a),n=""),l.createElement("text",{textAnchor:"middle",style:{fontFamily:"arial",fontSize:"12px",fontWeight:"normal"},fill:"#2E3436",x:e,y:t,transform:n},this.props.label)}return null}}])&&g(n.prototype,r),o&&g(n,o),t}()).defaultProps={verticalLabelPadding:30,horizontalLabelPadding:5,tickLabelPadding:3};n(511),n(611),n(86),n(87),n(88);var T=n(54);n(616);n(651),n(538),n(543),n(162),n(612);var C=n(508);n(525),n(568);n.d(t,"b",function(){return T.b}),n.d(t,"a",function(){return C.a})},function(e,t,n){e.exports=n(24)(168)},function(e,t,n){e.exports=n(24)(149)},,,function(e,t){},,,function(e,t,n){e.exports=n(24)(247)},function(e,t,n){e.exports=n(24)(895)},function(e,t,n){e.exports=n(24)(487)},function(e,t,n){e.exports=n(24)(115)},function(e,t,n){e.exports=n(24)(154)},function(e,t,n){e.exports=n(24)(246)},function(e,t,n){e.exports=n(24)(248)},function(e,t,n){e.exports=n(24)(197)},function(e,t,n){e.exports=n(24)(431)},function(e,t,n){e.exports=n(24)(483)},function(e,t,n){e.exports=n(24)(891)},function(e,t,n){e.exports=n(24)(327)},function(e,t,n){e.exports=n(24)(421)},function(e,t,n){e.exports=n(24)(427)},,function(e,t,n){e.exports=n(24)(833)},function(e,t,n){e.exports=n(24)(200)},,function(e,t,n){e.exports=n(24)(419)},function(e,t,n){e.exports=n(24)(202)},function(e,t,n){e.exports=n(24)(845)},function(e,t,n){e.exports=n(24)(243)},function(e,t,n){e.exports=n(24)(873)},function(e,t,n){e.exports=n(24)(874)},function(e,t,n){e.exports=n(24)(451)},function(e,t,n){e.exports=n(24)(832)},function(e,t,n){e.exports=n(24)(448)},function(e,t,n){e.exports=n(24)(165)},function(e,t,n){e.exports=n(24)(368)},function(e,t,n){e.exports=n(24)(878)},function(e,t,n){e.exports=n(24)(151)},function(e,t,n){e.exports=n(24)(456)},function(e,t,n){e.exports=n(24)(204)},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),o=n(503),a=n(518);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).call(this,e))}var n,i,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(i=[{key:"mainContent",value:function(){var e=this,n=this.props,o=n.barWidth,i=n.barHeight,u=n.barColor,l=n.totalCount,c=n.counts,s=n.textMargin,p=n.textWidth,d=this.props.freqColors||t.defaultProps.freqColors,f=c[this.props.mainCountIndex&&this.props.mainCountIndex>=0&&this.props.mainCountIndex<c.length?this.props.mainCountIndex:0]/l,m=(o||0)+(s||0),h=m+(p||0),y=[];return c.forEach(function(t,n){var r=n%d.length,o=r>=0?d[r]:d[0];y.push(e.frequencyRectangle(t,l,o))}),r.createElement("svg",{width:h,height:"12"},r.createElement("text",{x:m,y:"9.5",textAnchor:"start",fontSize:"10"},Object(a.c)(f)),r.createElement("rect",{y:"2",width:o,height:i,fill:u}),y)}},{key:"frequencyRectangle",value:function(e,t,n){var o=e/t,a=this.props,i=a.barWidth,u=a.barHeight;return r.createElement("rect",{y:"2",width:o*(i||0),height:u,fill:n})}},{key:"render",value:function(){var e=this.mainContent();return this.props.tooltip&&(e=r.createElement(o.b,{placement:"left",overlay:this.props.tooltip,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e)),e}}])&&u(n.prototype,i),p&&u(n,p),t}();p.defaultProps={freqColors:["lightgreen","green"],barColor:"#ccc",textMargin:6,textWidth:35,barWidth:30,barHeight:8}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(511);function a(e,t,n){return function(a){var i=e(a);return null===i?r.createElement(o.b,{status:o.a.LOADING}):"error"===i.status?r.createElement(o.b,{status:o.a.ERROR}):null===i.data?r.createElement(o.b,{status:o.a.NA,naAlt:n}):t(i.data,a)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(9),a=n(511),i=n(563);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"getData",value:function(e,t){var n=null;return t&&(n=t[e[0].uniqueSampleKey]||null),n}},{key:"sortBy",value:function(t,n){var r=e.getData(t,n);return r||null}},{key:"filter",value:function(t,n,r){var o=e.getData(t,r);return null!==o&&o.toUpperCase().indexOf(n)>-1}},{key:"isVisible",value:function(t,n){if(!t||!n)return!1;var r={};return t.forEach(function(t){var o=e.getData(t,n);o&&(r[o]=t[0].sampleId)}),o.keys(r).length>1}},{key:"download",value:function(t,n){return e.getData(t,n)||""}},{key:"render",value:function(t,n){var o=e.getData(t,n);return o?r.createElement(i.a,{maxLength:30,text:o||"",tooltip:r.createElement("div",{style:{maxWidth:300}},o)}):r.createElement(a.b,{status:a.a.NA,naAlt:"Cancer type not available for this sample."})}}],(n=null)&&u(t.prototype,n),l&&u(t,l),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(550),a=(n(527),n(511)),i=n(845),u=n.n(i);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"renderFunction",value:function(t,n,o){var a=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",{className:u.a["exon-table"]},r.createElement("span",null,e.getExonDataViz(a,o)))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getExonDataViz",value:function(t,n){var i=null;if(null===t)i=a.a.LOADING;else if("error"===t.status)i=a.a.ERROR;else{if(null!==t.data){var u=e.getData(t.data);return null==u?u:r.createElement("span",{style:{display:"inline-block",float:"right"}},r.createElement("span",{style:{float:"left",width:"24px",textAlign:"right"}}," ",u.split("/")[0]," "),n&&r.createElement("span",{style:{float:"left",width:"34px",textAlign:"left",marginLeft:"4px"}}," ","/ ".concat(u.split("/")[1])," "))}i=a.a.NA}if(null!==i)return i===a.a.LOADING?r.createElement(o.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(a.b,{status:i})}},{key:"getData",value:function(e){if(!e)return null;var t=e.annotation_summary.transcriptConsequenceSummary.exon;if(t)return t;var n=e.transcript_consequences.filter(function(t){return t.transcript_id===e.annotation_summary.transcriptConsequenceSummary.transcriptId&&t.exon})[0];return n?n.exon:null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n),o=r&&e.getData(r.data);return o||""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r){var o=e.getData(r.data);return null==o?null:parseInt(o.split("/")[0])}return null}}],(n=null)&&l(t.prototype,n),i&&l(t,i),e}()},,,,,,,,,,function(e,t,n){e.exports=n(24)(268)},,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(503),a=(n(527),n(511));function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,u;return t=e,u=[{key:"getCircleX",value:function(e,t,n){var r=e/100;return t*(1-r)+n*r}},{key:"getCircleFill",value:function(e){return e<25?"blue":e>75?"red":"gray"}},{key:"getTooltipContents",value:function(e){return e&&"complete"===e.status&&null!==e.data?r.createElement("div",null,r.createElement("span",null,"mRNA level of the gene in this tumor"),r.createElement("br",null),r.createElement("span",null,r.createElement("b",null,"mRNA z-score: "),e.data.zScore),r.createElement("br",null),r.createElement("span",null,r.createElement("b",null,"Percentile: "),e.data.percentile),r.createElement("br",null)):e&&"complete"===e.status&&null===e.data?r.createElement("span",null,"mRNA data is not available for this gene."):e&&"error"===e.status?r.createElement("span",null,"Error retrieving data."):r.createElement("span",null,"Querying server for data.")}},{key:"getTdContents",value:function(t){var n=null;return t&&"complete"===t.status&&null!==t.data?r.createElement("svg",{width:63,height:12},r.createElement("text",{x:33,y:11,textAnchor:"start",fontSize:10},Math.round(t.data.percentile)+"%"),r.createElement("g",null,r.createElement("line",{x1:0,y1:8,x2:30,y2:8,style:{stroke:"gray",strokeWidth:2}}),r.createElement("circle",{cx:e.getCircleX(t.data.percentile,3,27),cy:8,r:3,fill:e.getCircleFill(t.data.percentile)}))):null!==(n=t&&"complete"===t.status&&null===t.data?a.a.NA:t&&"error"===t.status?a.a.ERROR:a.a.LOADING)?r.createElement(a.b,{status:n,naAlt:"mRNA data is not available for this gene."}):void 0}},{key:"getData",value:function(e,t){if(0===e.length)return null;var n=e[0].sampleId,r=e[0].entrezGeneId;return t.get({sampleId:n,entrezGeneId:r})}},{key:"getDataFromCNA",value:function(e,t){var n=e[0].sampleId,r=e[0].entrezGeneId;return t.get({sampleId:n,entrezGeneId:r})}},{key:"renderFromCacheDatum",value:function(t){return r.createElement(o.b,{placement:"left",overlay:e.getTooltipContents(t),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e.getTdContents(t))}},{key:"renderFunction",value:function(t,n){var r=e.getData(t,n);return e.renderFromCacheDatum(r)}},{key:"cnaRenderFunction",value:function(t,n){var r=e.getDataFromCNA(t,n);return e.renderFromCacheDatum(r)}}],(n=null)&&i(t.prototype,n),u&&i(t,u),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(503);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,l(t).apply(this,arguments))}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=r.createElement("svg",{width:"12",height:"12"},r.createElement("circle",{r:"5",cx:"6",cy:"6",stroke:this.props.stroke,fill:this.props.circleFill}),r.createElement("text",{x:"3",y:"8.5",fontSize:this.props.fontSize,fill:this.props.textFill},this.props.text.slice(0,1)));return this.props.tooltip&&(e=r.createElement(o.b,{placement:"right",overlay:this.props.tooltip,arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e)),e}}])&&i(n.prototype,a),s&&i(n,s),t}();s.defaultProps={stroke:"#55C",circleFill:"none",fontSize:7,textFill:"#66C"}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(626),a=n.n(o);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getValues",value:function(e,t,n){var r={},o=!0,a=!1,i=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r[c.sampleId]=c[n]}}catch(e){a=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}var s=t.filter(function(e){return r[e]&&r[e]>0&&r[e].toString().length>0});return 1===s.length?[r[s[0]].toString()]:s.map(function(e){return"".concat(e,": ").concat(r[e])})}},{key:"getTextValue",value:function(t,n,r){return e.getValues(t,n,r).join(";")}},{key:"getDisplayValue",value:function(t,n,r){return e.getValues(t,n,r).join("\n")}},{key:"renderFunction",value:function(t,n,o){return r.createElement("div",{className:a.a["integer-data"]},e.getDisplayValue(t,n,o))}},{key:"getReads",value:function(e,t){var n=[];if(e){var r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;n.push(l[t])}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}return 1==n.length?n[0]:n}}],(n=null)&&i(t.prototype,n),o&&i(t,o),e}()},function(e,t,n){"use strict";var r=n(0),o=n(67),a=n(18),i=n(7),u=n(151);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=c(this,s(t).apply(this,arguments))).iframeLoaded=!1,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(a=[{key:"onLoad",value:function(){this.iframeLoaded=!0}},{key:"render",value:function(){return r.createElement("div",{style:{position:"relative"}},r.createElement(o.a,{center:!0,size:"big",isLoading:!this.iframeLoaded}),r.createElement("iframe",{id:this.props.iframeId||"",className:this.props.className||"",style:{width:"100%",position:"relative",zIndex:100,height:this.props.height,border:"none"},src:this.props.url,onLoad:this.onLoad}))}}])&&l(n.prototype,a),i&&l(n,i),t}();f([i.observable],m.prototype,"iframeLoaded",void 0),f([u.default],m.prototype,"onLoad",null),m=f([a.observer],m),t.a=m},,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n(16),a=n(9),i=n(515),u=n(503),l=n(610),c=n.n(l),s=n(833),p=n.n(s);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=f(this,m(t).call(this,e))).state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r["Component"]),y(t,null,[{key:"sortValue",value:function(e){return e.length>0?1:0}},{key:"download",value:function(e){return e.length>0?"present":"not present"}},{key:"myCancerGenomeLinks",value:function(e){var t=[];return a.each(e,function(e,n){var o=function(e){var t=e.indexOf('"')+1,n=t+e.slice(t).indexOf('"'),r=e.indexOf(">")+1,o=e.indexOf("</a>"),a=e.slice(t,n).trim(),i=e.slice(r,o).trim();return a.length>0&&i.length>0?{url:a,text:i}:void 0}(e);o&&t.push(r.createElement("li",{key:n},r.createElement("a",{href:o.url,target:"_blank"},o.text)))}),r.createElement("span",null,r.createElement("b",null,"My Cancer Genome links:"),r.createElement("br",null),r.createElement("ul",{className:p.a["link-list"]},t))}}]),y(t,[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(c.a["annotation-item"])});if(this.props.linksHTML.length>0){var o=r.createElement("div",{className:"rc-tooltip-arrow-inner"}),a=t.myCancerGenomeLinks(this.props.linksHTML);e=r.createElement(u.b,{overlay:a,placement:"topLeft",trigger:["hover","focus"],arrowContent:o,onPopupAlign:b},r.createElement("span",{className:"".concat(c.a["annotation-item"]," mcg")},r.createElement("img",{width:"14",height:"14",src:n(834),alt:"My Cancer Genome Symbol"})))}return e}}]),t}(),S=n(831),T=n(535),C=n(538),I=n(577),A=n(627);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return P});var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,u;return t=e,u=[{key:"getData",value:function(t,n,r,o,i,u,l,c){var s;if(t){var p,d=t[0],f=d.gene.hugoGeneSymbol,m=!1,h=!1;!n||n instanceof Error||(m=void 0!==a.find(n.result,function(e){return e.oncokbAnnotated&&e.entrezGeneId===d.entrezGeneId}),h=void 0!==a.find(n.result,function(e){return e.entrezGeneId===d.entrezGeneId})),s={hugoGeneSymbol:f,oncoKbGeneExist:m,isOncoKbCancerGene:h,civicEntry:u&&u.result&&l&&l.result?e.getCivicEntry(d,u.result,l.result):void 0,civicStatus:u&&u.status&&l&&l.status?e.getCivicStatus(u.status,l.status):"pending",hasCivicVariants:!0,myCancerGenomeLinks:o?e.getMyCancerGenomeLinks(d,o):[],isHotspot:!(!r||!r.result||"complete"!==r.status)&&Object(I.c)(d,r.result),is3dHotspot:!(!r||!r.result||"complete"!==r.status)&&Object(I.b)(d,r.result),hotspotStatus:r?r.status:"pending"},i&&i.result instanceof Error?s=Object.assign({},s,{oncoKbStatus:"error",oncoKbIndicator:void 0}):m?(!i||!i.result||i.result instanceof Error||"complete"!==i.status||(p=e.getIndicatorData(d,i.result,c)),s=Object.assign({},s,{oncoKbStatus:i?i.status:"pending",oncoKbIndicator:p})):s=Object.assign({},s,{oncoKbStatus:"complete",oncoKbIndicator:void 0})}else s=e.DEFAULT_ANNOTATION_DATA;return s}},{key:"getCivicEntry",value:function(e,t,n){var r,o,a,i=e.gene.hugoGeneSymbol,u=null;if(t[i]&&n[i]&&n[i][e.proteinChange]){var l=(r={},o=e.proteinChange,a=n[i][e.proteinChange],o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r),c=t[i];u=Object(A.a)(c,l)}return u}},{key:"getCivicStatus",value:function(e,t){return"error"===e||"error"===t?"error":"complete"===e&&"complete"===t?"complete":"pending"}},{key:"getIndicatorData",value:function(e,t,n){if(null!==t.uniqueSampleKeyToTumorType&&null!==t.indicatorMap){var r=Object(C.d)(e.gene.entrezGeneId,t.uniqueSampleKeyToTumorType[e.uniqueSampleKey],e.proteinChange,e.mutationType),o=t.indicatorMap[r];if(o&&null===o.query.tumorType&&n){var a=n[e.studyId];"mixed"!==a.cancerTypeId&&(o.query.tumorType=a.cancerType.name)}return o}}},{key:"getEvidenceQuery",value:function(e,t){return Object(T.e)(e,t)}},{key:"getMyCancerGenomeLinks",value:function(t,n){var r=n[t.gene.hugoGeneSymbol],o=[];return r&&(o=e.filterByAlteration(t,r).map(function(e){return e.linkHTML})),o}},{key:"filterByAlteration",value:function(e,t){return t.filter(function(t){var n=/[0-9]+/;if(t.alteration.trim().match(/^[A-Za-z][0-9]+[A-Za-z]/)&&e.proteinChange){var r=e.proteinChange.match(n),o=t.alteration.match(n);return r&&o&&r[0]===o[0]}return!1})}},{key:"sortValue",value:function(t,n,r,o,u,l,c){var s=e.getData(t,n,r,o,u,l,c);return a.flatten([Object(i.y)(s.oncoKbIndicator),S.a.sortValue(s.civicEntry),v.sortValue(s.myCancerGenomeLinks),Object(i.s)(s.isHotspot,s.is3dHotspot),s.isOncoKbCancerGene?1:0])}},{key:"download",value:function(t,n,r,o,a,u,l){var c=e.getData(t,n,r,o,a,u,l);return["OncoKB: ".concat(Object(i.x)(c.oncoKbIndicator)),"CIViC: ".concat(S.a.download(c.civicEntry)),"MyCancerGenome: ".concat(v.download(c.myCancerGenomeLinks)),"CancerHotspot: ".concat(c.isHotspot?"yes":"no"),"3DHotspot: ".concat(c.is3dHotspot?"yes":"no")].join(";")}},{key:"renderFunction",value:function(t,n){var r,o=e.getData(t,n.oncoKbCancerGenes,n.hotspotData,n.myCancerGenomeData,n.oncoKbData,n.civicGenes,n.civicVariants,n.studyIdToStudy);return!n.oncoKbData||!n.oncoKbData.result||n.oncoKbData.result instanceof Error||(r=this.getEvidenceQuery(t[0],n.oncoKbData.result)),e.mainContent(o,n,n.oncoKbEvidenceCache,r,n.pubMedCache)}},{key:"mainContent",value:function(e,t,n,a,u){return r.createElement("span",{style:{display:"flex",minWidth:100}},r.createElement(o.If,{condition:t.enableOncoKb||!1},r.createElement(i.g,{hugoGeneSymbol:e.hugoGeneSymbol,geneNotExist:!e.oncoKbGeneExist,isCancerGene:e.isOncoKbCancerGene,status:e.oncoKbStatus,indicator:e.oncoKbIndicator,evidenceCache:n,evidenceQuery:a,pubMedCache:u,userEmailAddress:t.userEmailAddress})),r.createElement(o.If,{condition:t.enableCivic||!1},r.createElement(S.a,{civicEntry:e.civicEntry,civicStatus:e.civicStatus,hasCivicVariants:e.hasCivicVariants})),r.createElement(o.If,{condition:t.enableMyCancerGenome||!1},r.createElement(v,{linksHTML:e.myCancerGenomeLinks})),r.createElement(o.If,{condition:t.enableHotspot||!1},r.createElement(i.d,{isHotspot:e.isHotspot,is3dHotspot:e.is3dHotspot,status:e.hotspotStatus})))}},{key:"DEFAULT_ANNOTATION_DATA",get:function(){return{oncoKbStatus:"complete",oncoKbGeneExist:!1,isOncoKbCancerGene:!1,myCancerGenomeLinks:[],isHotspot:!1,is3dHotspot:!1,hotspotStatus:"complete",hasCivicVariants:!0,hugoGeneSymbol:"",civicStatus:"complete"}}}],(n=null)&&E(t.prototype,n),u&&E(t,u),e}()},function(e,t,n){"use strict";var r=n(0),o=n(9),a=n(18),i=n(515),u=n(503),l=n(610),c=n.n(l),s=n(7);n(835);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var a,i,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),a=t,(i=[{key:"generateVariants",value:function(e){var t=[];if(e)if(o.isEmpty(e))t.push(this.variantItem());else for(var n in e){var r=e[n],a="";for(var i in r.evidence)a+=i.toLowerCase()+": "+r.evidence[i]+", ";a=a.slice(0,-2)+".",t.push(this.variantItem(r.url,r.name,a,r.description))}else t.push(this.variantItem());return t}},{key:"variantItem",value:function(e,t,n,o){return e||t||n||o?r.createElement("div",{className:"civic-card-variant"},r.createElement("div",{className:"civic-card-variant-header"},r.createElement("span",{className:"civic-card-variant-name"},r.createElement("a",{href:e,target:"_blank"},t)),r.createElement("span",{className:"civic-card-variant-entry-types"}," Entries: ",n)),r.createElement("div",{className:"civic-card-variant-description summary"},o)):r.createElement("div",{className:"civic-card-variant"},r.createElement("div",{className:"civic-card-variant-description summary"},"Information about the oncogenic activity of this alteration is not yet available in CIViC."))}},{key:"render",value:function(){return r.createElement("div",{className:"civic-card"},r.createElement("span",null,r.createElement("div",{className:"col s12 tip-header"},this.props.title),r.createElement("div",{className:"col s12 civic-card-content"},r.createElement("div",{className:"col s12 civic-card-gene"},r.createElement("p",null,r.createElement("span",{className:"civic-card-gene-name"},r.createElement("a",{href:this.props.geneUrl,target:"_blank"},r.createElement("b",null,this.props.geneName)))," - ",this.props.geneDescription)),r.createElement("div",{className:"col s12"},r.createElement("ul",null,this.generateVariants(this.props.variants))),r.createElement("div",{className:"item disclaimer"},r.createElement("span",null,"Disclaimer: This resource is intended for purely research purposes. It should not be used for emergencies or medical or professional advice.")))),r.createElement("div",{className:"item footer"},r.createElement("a",{href:this.props.geneUrl,target:"_blank"},r.createElement("img",{src:n(836),className:"civic-logo",alt:"CIViC"}))))}}])&&d(a.prototype,i),u&&d(a,u),t}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};function I(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var A=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=b(t).call(this,e))||"object"!==T(o)&&"function"!=typeof o?v(r):o).tooltipDataLoadComplete=!1,n.cardContent=n.cardContent.bind(v(n)),n}var a,l,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),a=t,s=[{key:"sortValue",value:function(e){var t=0;return e&&(t=1),t}},{key:"download",value:function(e){if(!e)return"NA";var t=o.values(e.variants),n=[];return t&&t.length>0&&t[0].evidence&&o.toPairs(t[0].evidence).forEach(function(e){n.push("".concat(e[0],": ").concat(e[1]))}),0===n.length?"NA":n.join(", ")}}],(l=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(c.a["annotation-item"])}),t=n(837);if(this.props.hasCivicVariants||(t=n(838)),"error"==this.props.civicStatus)e=Object(i.l)("Error fetching Civic data");else if(void 0!==this.props.civicEntry){if(null!==this.props.civicEntry&&"complete"==this.props.civicStatus){e=r.createElement("span",{className:"".concat(c.a["annotation-item"])},r.createElement("img",{width:14,height:14,src:t,alt:"Civic Variant Entry"}));var o=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(u.b,{overlay:this.cardContent.bind(this,this.props.civicEntry),placement:"right",trigger:["hover","focus"],arrowContent:o,onPopupAlign:I,destroyTooltipOnHide:!1},e)}}else e=Object(i.w)("pull-left");return e}},{key:"cardContent",value:function(e){return r.createElement(y,{title:"CIViC Variants",geneName:e.name,geneDescription:e.description,geneUrl:e.url,variants:e.variants})}}])&&g(a.prototype,l),s&&g(a,s),t}();C([s.observable],A.prototype,"tooltipDataLoadComplete",void 0),A=C([a.observer],A);t.a=A},,function(e,t,n){e.exports={portalWidth:"myCancerGenome-module__portalWidth__m3pyZ",framedImage:"myCancerGenome-module__framedImage__3Jd3Y","link-list":"myCancerGenome-module__link-list__2ZNFI"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAACACAYAAAA73po8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADvNJREFUeNrsXT1y4koXPaacj94KPnkFIwfEI0eEg1dgWIFNkVJFu4qUwrMCMyswExIZxwTWrMB6Kxi9FfAFuhq3Zf20Wt2tFuJWuZ7rDZaa1tG95/722eFwQCJnZ2fogvSn2yEAj/tfm/1yEGi4jwvAB+AC+EL3fKF/3gEI9stB1IY9OxwOOOsSWPrTrQfgiR5eWnYAJipA059uRwBuU4DMkzWAn/vlYHcCi13a5Engo+P9crCWuL4D4I5A4kgscU1gjU5gaV6jPFd4iMKAIVMzBzBSsNQQwLUOk3gCizhYnok7iEoE4KroofWnW59A4itebum9T2DRBxSftIrMW37JmwUyNUMCiatx2RGAC5tM0uFwwHkHnJ+55N+5AFb96XZCAPmmyNSIiEP86sqmjbRCsxD5/M65mem3LKCff8nd3Ale1wXwJrmsgDykkSRhVSHX++Vgc9Is8cNMvAe35C3zeW7Qn24TMxFS3CIEEGaA6FbQ3IR5YOxPty+CXpQurbjptGYh7+RRMA4ha/MTbfRfKpbyFyT75SAUXO+K3OIm5NIGstsIwZVwY6UBs18O/lG47leN4C6Mv+yXg7ENYOlZHu+otcmq+QNpLNMytMUM9QwCJWH4psjiD5UXI5M1aeAZOeQAdAcsBmITvGxE+UhFwKw1aCwRuekMWMiFNUkQf2q89oSIs1FTRJq5E5rl1uB3CnXGJiiqOm6Avwy7AhaTX/SH7huQK2vaQ7k9erCQB+Qa/E5GOAVpL5OA8cicH7VmMQoUk8k3IrxXBk3S7bGDxTP4fe5NbyClBi4Nkd5RV1xnE1olbOLG++Ug3C8HlwRWnVrGoZLNowXLNwP3iNBMwCwNGkZaRidvmjf1/bTnhiSq1GTEmlQ+971d4hgjqI9aj/fLwZoKu5Da3x0qJElFxUgisT/dvmkmuQ/75WACi4VMxzcKIcgAJyJOFCIuo/gqEI7YQVG3gkmwHDTzlDFaJBRKSMIJXzPA88KBI8p72BVeQqluBeNgoRD1nxNQtIDOh3htce2aGBMlCt4JKFpddlGepoQUt9F1vu86UHgTI+iqD9sAFpVeUIi4n4bZ9sQYW3iMLTzT9+WSmqJcqROa5YHs7s7S9b0CeGVs8dgAYDa0P2Xi2A6WugG5HeJmK2t7gBlb8A9hxNhi1IRpRnm6obYLrdsb+iOB6IiI231T4XsJwKS/5yVjs8DkGkrqm2sXr2vtG6LFO4LgCOjnxbZIrKBs8DHJ94g47G/SHAX96XaM7B4nJXt6rgkoLsfAd5wa/A/vTV1hWzSHgPxKgcVjbHHH2OzBMGA2BJg0d1JSZlrbDJEGuUEcU+G1SadiIRmmKGRsdtHEWvrT7SMH3nC/HNReR62gXH+69Snk/Iq4GNtPbdZLx2Ie6XJOl7GF28RC6CVdc+RXifQkgTIiMuWW2PEuyQM+B8jcphZDgNngY8uuWbBQw1NZPGHTlsF66szQLEJcYrkh0EQw3zKSFg/Ak6o2ksqcRTDbqSTTeZJavMXHe6IxQBz9ln6BK7vOgpX60TGbIOIhiacXMDbbWbrU25SGeetPt7XGj1U1QyLq7NhN0Ir7eWZs8cbYYmiZVuEBzT+7V5qJY47gVvQKjk1+Z5DYJ8YWzFKt8gns/en2WYbHVAVLmcYIbBzLqcHryfqO86Zc5ZRWcVDeMuKTWfK1gYWAEHVYq6S9nipvtCkZCdIFB8AzTbXSZobyABF2xQNibBYxNrtGXEsSpoikzSYoS+760+2rSGusDFgecrTLPTomjM3WiBOGY9DBDQ2boCHkAoEekd9C8yWVG8qYg68k/3CS2mB5Qv0SysycnnRuiMoI1l3WKhYCxYGaWtsRJSLVuc6EvgDA7hSttUJ8hdcaZcVj6sZZ7nHE2eW4JsV8IbakqF7nKk1664JlDuBWReW4pXKDuBD7tQWg+arhmh/MkXSlXH+6ZRyaHynvELVQe3jkbvrkSQQA7hmbbRDPvk2GJa9g2cELKXF0mLb+dOsmFY3nkkDx8LHLzSMUXtd8cAzAF8ZmE4HPOogDUN9oo14Ym7EK93JozcMMdf4E4IyxWcjY4oKA8m/HzFAit6BxJjIlCg69bVn+/GS/HDzUAEsynmPN2Gxc8Lm8Wfr/UIRVBCjPRRvM2KxVhy9pHEAQ7JeDS1nXuahCblWTvyQPelTSsHVX8+3ySj67OTlXn/e0VxG9Iid5PNeozOJTCTINW6rcxx+MLVzyhpyuoyXxinoV/uAOYgPwHEiez0OFRAGvqSpmcv+XY3ZcxhZ+6j4h95Ed4iDjGMAF/XtEfMhvyTMNNV7bFSa4FN5fVXnD+9Mtk2xin+C9HNDhCVZqY9y8L5UhrwAcxhaTpJenrE2DuM91ixRACM0F4j0BoHgoL9DOjMHI8Bd6q3clPOSnYY+gDaItbJEMJOgJeD51jn1ZSf7dhPvyLxmAYsjO8Oat8xLAlekOQcPyWzcIyzRLWW+QiDmqbPOpqfwCcToh7wFnHhbFcxPueqHFhdXKXFxN1/27b+c1PR8RuYFEoxNxBlbw7yFji2vIndl8jKLrZfiV/JIZlMuoV6kr/+hKBZB7/ciB6KyraNFwjuPfUR1FQbmV4u8x1LVBVK2WzFZ7QLdF9aFcH+qUPmkWKq1TPe5qs18OrnES3ZrFhfyh5584EJ1HgCLN8l3D9/Db/BAYW6wYWzzb1kyW4eKGirhLhIwYU5Zm0ZWQurSxp4ixRdK7vcP7uPOIfvfwOYp7JeNZccnPCHGidKJJu/gKSP9VetjjJ80i4+ZWENdyBeIjTmfMibM90e/pPbmVAIqH9+SnA+BO12RLesh1tMs4bypo2gw5Gh+GZylIqpJCGVOU5QmOsmJCBC6HsQWrkcSU1VrronrqXkseqE55QLWAloQJmoU595gXvFhz2fAFmfuqgNmVjXUzOTT5m41Ioe7CpFEsrGpOqYzhQATYr6jB/JKsul9yzSLAPEC8LieAQNL0POOtmXdQuyTxmjU9nHmBB+cytrijvRpyHManh7sBMM6o2NsgO341RHF86LYGBxkTuL0SEzkWCZr2BGxr10CzY2x2hbg4O888rRCXPcwzeN4wi9eQKcqSm6w11ORIiXaJUH4YhPCAn16Gres8YLgHJmL3A8QFU2fcTx5JzAKMl0NkN5yp82sApoi/VDrprFe0SMUSthAz3wWAclWgNUTJcZaZ+KXQnV7j8yGfm6rF9ec5RGykYeP/tV+bfHiD+dhIEVCqaOJ70b1lbLZmbDGHovjUfjkYc0fuJeapkvQ0BHVaqVkolP/M/awUAyXhLQ8518uSawA7hbU411UIrajrLHpCVhUJLFcsnsBnItIOlYHCAWbCmYQwx3NKPhsQ2VZljkK8pzUqS26TmeLsc+0jTAxolqLzpzcAfhUQ11YIlzcKUHEubuEcXDpkGooAs2vBXkap3zeI6383slrEQplzWrRyu/F5GYsmwKxQL2/0swUbOUFc9BwhzgofVQiBLAWvOYf96fauikck1OvMtYN4Euu0YoQYNy3h9zGCQQAsWWP0I8THCpbuhXCv8345SKqmHiTWacu40yG5rSsAb5YNOTbBVbJccKdKmKTqHNwJclowCniALaQwTG3SnJJ/TgfwUpTvu9ECFgLMBnHTlghptWmOf9Z6fajtYrBRq3goLmv1tIEl8df3y8EVyqdUWjPFkgJimYChksdjFWVTv2vVs1Dj+1WOWdpZeGBmnld2VydZZ7FWcaCwDad28ROlBy7wOUJr3WxcCqrlAfjxCPnLUCDkERoDCwEmIg2z5tzlnaUbmJdAc1GcOGyjiJBX4RiY8hPjqUf6xeZBylTptsrx3i6OIQYj2HD2oZGsSGod1VsgL4hn4zr2gmX2kOPSOzieovUyDrZBxVGtOsBySxv+bDlgxnjPrgcEnqsjGs3xvSCEcL1fDq6rhjWUmqGMbrhOnRpvielxSUPO6UV44UASyMa9Kp++KkGoRv3pNqLIbxPcxCHSGra9vIB7GXlTmbTXeBlej/IxJ6o1y58cV62Rc55TRLZwELPFmmJIJsWv8KfCxLWKZulpQH1mDKOhwyD4GMKIwNMKDUIHTb0R2P2Klwh0rEslwXVL/v2pAcK7w8fo8nfbNUl/uk1qgIc1LvW77WBxoX5IUJnHE+Fja4trMVAYaRJfweWs1ywiCxzSvDqTYvWRfKRNku5GVRIdA1gS/mLMHFG2eZ3BYWzxblQPDYSuoUk9hQsMIVbj4pg2R3gfwhxYBJQRcRMHLRHVrrNXYQOuRJONpImSty+UKX2ID3uYhRYBRdcLs6NaI6VyOBy0JBI9xNVnZWTyQyF3KuD0Be+BJq/ALgeII5QBVfC1wS0eQm91XnvAwmmCEbKDSSH340BdcU7i+fyyFTgVNa+saEmxaAOLBeo4BHBvW5mEhgnYmd6f5NE9pWDpNbl59DB18AiXvK63Blz1ojiKZ+BWka4L9yzYR51xEBdx5Pg5faC16VgKzI1fC44ZLBvonzblA3htUMscxZy+RjkL9+Y9Qs8AoSwxmgEnsv/HoGnX8hAb5yycmGxxfSRibUpM3ivQeXErwELh6fBIAXNr8Hvtjh4sJKbHcmivsSGOZJJY/+gKWNYN3FN3jc2Nyf3T3QFqDVjoiwaGb+tCU46GK4k0IREMlGLYpFlME91Ehv3p9q7lxHZioq/cNrBsGrrvSgN/MUVs16ZCAVaBhVoX1g3dXllRFnlajoE135vsyzqHffLLsApPxENcST8uAIFPvyb//ZoDijDFIb5BbWtsiIITx3SJFRHcjIfyhuaKq8c0pdMnUHylh1xlPRd5HILMnUvXrHrtEA1l0xsvUSiJTzQxvisk3lSH8EoVH3FDAt2Uxnohb2fX5IGk1oKFNu/JkOuZAORn8jD60+2qBmDGNo8bOVawOIiryjxNt9gRQNY595cpVLJi5q8usPRsXRw3TUq16l0jLha/KtEAVUa4/tUqOGKxVrOkNMwT6nXqJS75jyrBq4o1sw9NTYvovBnKiV1UPawpcWGl5/EKdisc/RyaVoElBZqkayAvxrGDwip/0m53iBODPGgCcmU3OHJpJVgyHiJPQgPdE7256UqBRdPDzYPlJCcpkv8PAHSv/QtFBkyYAAAAAElFTkSuQmCC"},function(e,t,n){},function(e,t,n){e.exports=n.p+"reactapp/images/71fb7f0a5b1cf694468e7ba7e69bd939.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QETDRgRjnOYvgAAFfVJREFUeNrlW3mUVNWd/u6979XSCxRNA9INCIgii0TBqAi4EKISxTVRnKgxLkedyGQkxiTujkYxaswomkSdxETjIUhYXVDMSNTYqElABQZbAQVBoOnq7lreu/udP97romibpRUyMVN93qk6VW+53/fbf7/bwP/zF/l7P7Ai0QvDMsf7dXTM4Opkv68CJFOQmxZvlx+sagxfDrcHH/zzEnBC7bQeI2unLqtO1B/i0RScE3BwcA6QJoe8asL67JIRr7Q9tJqr/D8PASk/g7Pqf3HRoO7jf+MRCus0aPxwBwfrNIxTsM5CO4NNheXzl4a3nLNl23r7T0HA+Qc+ceOQmpNvhw3BiIcE9eGBwcFBOQPtFIxV0I5DmRAGwJZgDRY2XUmLxZzbn2tj+xv8xD7TDxrV66L5sAE86qOCplFdU4HKnikwyuAkYCM9AAA4Z2EcR9LLoEp342uD117bn+uj+/Pm1RUZMqLmvA/gOAihSBAfqe5JpHsmkaxMwEt6oKCgICCEgYCAEg8UDMRJ9K4ac1f/nod6X1gCDqs6s3eFXwtnFSgIKKGgDrChhSpqWGlBABCQki0SAIRQAA4JVonB9oSLv7AE9EuOuxNuhx8zzkLkJYpNHLKoQD2HZA+KJCPwYhIcykzeKXRL9n80XVFNvnAEeF6CpL3upzqn0G7l2mlwq6CkAjyDRA1BZZ2HinoPHmuHb+CcBpyFcwaUpFCVzLAvGgGkMlVNCPH7GCtgnYF1CtYpaKdgnQZJOiSqAL8C8CocSFLDxb9Zp6GdhLUClHio9DLJ/RWx9oeDIQAghIYwOVhnYJwCdTu41hbQikAIgHmAkhJaRaHQWAXjFLSVcDCwToNrbsru7f5RCdhJQly1uaLKNmonDiHWgIDAIw4gDpJoBNsNDBQoA3ieg4ccyikYJ6JcwHI4Z2GdRFE0606e4/6RCOhUPbeJ5Tf31sNngSWjFRMDRj1YR+G4gtxEAWYhlYKwHMpySBNCOwEHCw2HQDU1FsIWs4tnuv9rH0B2Z5tr7dKFObkFykpoK2L7bk97HJxzgGtPh22ZrzCwVkFajo30jdOcc/stk6X7WurlxDS1bBCbcw1PKmdLmV4U81mUElf68KujtDiK/YiLIw0NICc+xtrssnV7IJp8HiLoPgb/qcUsV09c1srXw4HCwZTOIiBgSQaW8naAd7akJYHJYY2Z09cY47pA+t+FALKX3xMApFgsmlXy90cHlsO58jSHgPkeEkkvMmbnYGITkHD4JGy4f0Pz/2zvhFTShTXscwL25sHlCyQAsGbb0uWb2l593RIG50xEAiGgCQovFRXGFu3SB3J8I1YU51zf4d6dEfG5SaD7AXz5YkuLbhAPntrCP4ID4BxgHcAoA/MZLByM09BOoGjyWGWeGsU5N53dZ1+TQPcT+I7vNNfWGq7MPfUNDbuzqlDEpFhY57At/7f565vebtwF6H1Owi4JqKmpIYMGDSGZTKYrar+rAwBIs/zwbWclCCGx0wPgdlSCIAwB3b50T/fZlyTslAil02l86/xLK8/9xjcvPGjg4O8kU+mRhWKh8b3GNQ8+9vjPn1j03Lyc1nqPNt/JdwQAGE1Wguy8po6OkRDrlV2zu0THdTin9Ll//4Hs9K+d0XP8+ImTajM9Dm7NtXz8zqoVLy5ZsnjTsrcaTKcEHD7qy+SXMx+776gJo64p/WqBPqg+5KChfR885aQTH3ztzw2/uvDyqf+6YcMGtZfgafl3johI6u1r/hQ8C+OMjq9znYDd1ecSCVdfeU2/a797/Ud9etWCCwVjNRgBJk08GZd+60o8/YdZR19/y7VvKqV2LLCurg6LF7yUPWrCqGsigyxbPgWgAauB48aNveT5+X/kvXr18vcAnsRXlr8TDU3b5e0ifqNMMM4OnZWwhprd3WM3Wob77p456bYbZ3yU8Hx8sm0rcoUWFIM8coUctjc3QSmJC86/8I1fP/LEd3fyAT+b8fPz+gzsloHdRZRNAZ4HFAoSQwYPwZ23333PXnj+jmRQy2QpCrSz4DqoggHnZdR3Br7TcHjB1IsPPf+cC1/IZrdDaoGE78NnPnzPA6UUHqOw2mBb01Yce8z4n93wgxuPAQA6btxx9KwzTp8FtYeYwADP99CWa8GEY4+bduToI2t3A552BA+AEo2oF0DipNe5WPo7tMASIcuv2RsHW1lZ6V1/3a2rtNVIp1NIpdJI+D48j4FSBsaid8KiqLM9ux0nTTq5YcSIEYyee9b5o71KAGYv+sfOwliDZMLHlNOmXLUb8OgEBFXap87JMsu2sfBdqRlmqDSdELhLAlKpFPuvmU9e07dPX6QSSaTTaSQTCXgJD8zzQBkBoQAh8QHAaAXqUUyaOOkIOqBf/TgT7l1haZ2DsxYhDzBw4MArd6OaHdWXRe+8NAlqD4NRFIirQwDWKV12ze40ARNPOLnvG0vf/cs5Z595F2UE6XQKCT8Bz6PwWQSelkKuLXuehRAcNTU1x9NiEBSdBbQCoHaD3gBKKyglUAyKqKmp6TN69Oghu7F/2uHwLLW0vbR1kfeLzWDHYxQNTRydOvqBEgmDBg2umPnTx65+fv7iD0eNGjJSKhfZfILB86IDsdQjR2OB9gmU0dBaQkkJP+HXe9uy2z4QSgEOIPDBSCdtEgdIbhGKAgpBAUpJCCFw3rlT/7x69er+HdJWugsfQJxTsZzdDg2Iw180EFEwZkf2uFN8BEh1dSZ56YWXjb/t5rvnd6ulMMVIcKlkJGVro6u0Lo+T8b2thtEaykgIKQAAUshNtHHN6lW5XCuKQR6hkNBFB/AykzCAzlm05VuRL+QgJYcUEm25NtT17Zu54Uc3PrULSdFPHyoOg2SHxbU7QVgYE8IJis7uccHUi49Y3rDmg/tn3jO/W3cKcIAlAC8BUA+gLDocQUnDrDWw1kJbDa01lJYQIoRWCsxnyG7PrqCz587evn7DOnARIlfIoq2YR6EtBM9K8GaJtqY8tjVvRWsuCy5CGGvRmm+NxlrWYfiwYVNuv/Wu73fiAzraL7MwcGUOoH2BUeNUwzqFUBdQZv9kyuQzhr/8fMPCJ37365cPGt4nAxH/mgLglxlL/GTiEHWUjInU3WgorSCVABcBlI7snHOOt5a/tYxms1n3h7mzTwx5Ea1tLWhpbcL21m3Ylt2CLds/QVN2K/LFHLRW0FqjOdsMKSQqKyuRSqaglcIxRx91y803/sePO5E8KXdoBlEYdDAl1VRGQlsJayUCU0RWbmoCQI4bd9yBT/92wSMLn5m/9IRTjjkWJtbKduBsZ+CxS4GJCdVWQRsFrQSE4BF4pWCMQSKZwOZPNvOGhobAA4DHn3z8T2OPHYu6vnVI+AkkE0kwFnsRR2C0QsBD5PI5cMGRTqdj5+VgjAHnASZ/dfK0XjU9e99w2w3X5dpawzIySku1gsE5EfX/oKG1AnES2nFsFJuxvtjIRx9x9GHnXTD5xOnTpt8Cvz1djEHvqiKw0WGMiyUuoZSElBKhCGPwEkZHGqiUwmO/eqzPTkXNlClTBlx95dUfWWORTqfgeT4IIXDOQcY3gwMooyXwzkbNTEIokokUevaoxdamJj79e/82btV7Kz/pGMoqk736fL3uoddr00PACEG3mgTa8nm827wG1TbXevYNIzD1qomZve5Q2Dh/0YCWDjJW9UjdBcKwgJCHkDJaPxccjDHMXTD3nJkPzZy303i8sbGxbeTIkT3r6+uPLhaD2GlEah+Nujwwj0UDTkrBKAOl8WfmwfcSMEajZ02td8bpZ12Ry7WtWrn63fVlWsASLFFxaPXXLq3wMgitwtZ8K2iyjZ80ta7ww8dPSY05bmhVl/pTJnbSChF4zSGkgAhDBLwIISW0VhEBKirDG95ouGvGT2Y81Gm9nMlk6KO/eNRkumeglILv+2CUgVBSquHbO7ulIGMdCAh8PwGP+SCUIuGnUFFRiSUvLV508x033drc3NQGgKUrqnuf2euhV6XXG8QJfvzJtfzs7x+cqhvUK9XlzqQFIAEtAaEkpOLgPEDIQwjJoZWCVAqccxhjYKzBC0temHbf/fc9rLV2u2xkDh06NHnn7XeG1VXVsNZGkmc7JF86sZRhORBCwKgHz/NBiQcQgBKKyspqZFuymHHvHZfPXzj3VQBsTO87Vp02+ESceltd65hJA1KU0q6DdwAEoIUFVxxcROCFFJCx1IWMchUQIJvNYvac2WOefOrJFR1z3o5TV9Lc3Gw+2vDRz8YdO+6HyUQSWuuSuhNCSmpPCS2RQgkFZV5EConST0IIhBSoqqzCSZMmn96nb22vte9v3HzVhReO/cGsSZn6gzIpQoj3WcELrhGIIgIegPMiuIgdn9Lggkfx32i8s/Kd12fcM2PkH//7jxv2tpUNABg7dmyP6d+d3lzTowbGGPieD8ZYSRsIjTY8uLimJaSdIAYS56GUeDBWIygG6F7dGwcPGQivm+Ge53Vd6rHNWw6EnCPkAbgIIaWI/JVUEFLAxLnFho83YNbTs8Y899xz73DObQcK90wAADJixIiqW2+6ta1nTc+IBOaD+WwnjQAAZxxACShhMQlRr18qCaOA2p59MXhAPbwen2MOpQAZaARhgFAUoaSEVCoGL6GtgTEGW7ZuweIli6fOfnr2wqamJrmLQarbKwIAoL6+Pvm9a77368NHHX5eexj0PA+MsLIqMapgGfNBCYGzgJQCyWQV+vcdiAPqu0UJzGd5WcCEFmHAUeQFSCmgYuBSSjhrYZzF5i2b8eJLL14+b/68ORs2bCiWauzPSwAA4vs+vfyyy88/47QzfpNOpWGMAWNRdEB7iekcPM+HMRpKGfTsUY8hAw9CZU/6mfeiOQ6IIkchCMBVAK0VlNZQUkfps7HY1rQVC55ZMG3hooW/37hxY64sddp3BLQf48ePH3jFZVe82a++X8a0l22ElG7HRQhGExg8YAQGH1gHVoXPBl4CPBAIggChCGC0hlQKSqtS9vnxpo8xd/7cq5557pl5W7ZsyZUB3mcEoLNGR01NTeLbF3/72q+c8JVbEokEpJSglCKfb0XCr8IRh41F//qaSOW7Cl4DsqhQDIoIRQCtYolrBUY9cBFi3fp1fNbTs6YtWbLk2eZsc2FHIlwCbjsB/rkJQMcW1ejRowdfdMG3fnvIkIPHbG/ehky3Pjh6zAT07lMZAfe7CDxQCIph5OC0hNYGSikEYRFCCrzX+F7jH+bN/fHSPy19OZ/PF8oS4bJqoCR114kWdDkK7LHd7XmeN2bMEaOnX/3Dead8dUqmWzc/+mVvtzRpQBc1imGAgAdQWsIYA60NWnNZtLRkobTFI489cvnCRQuejUHqMsCfmwD2GQgoaYW1Fs6geN9PHvhOJpNKlao2uhsCXBzSChqFXAG5YhsCXizF89a2LD7cuB651gIq0z3Qp3YAYPHJ2g/XNmazzfkyoHYPQPfqxT7jtJcAIHUH1Hd7f+XGzd0yiZQRUWdm51lQh9xdRLG8kC8gHwMXUkAKCZpWaAubsWH9FtR0OwBDBh+GA2rr4HkMXzrsiCMv+uYlV1hrtvzlb2+udM7prkp6XxLQ7v3ZijdWL+/dr3uG54GE30kXz+7I3mSoUCwUPwXcMgGRaMHrL67k8x95ozDu+PE46stjPI8moI0GpYCxGh5lmDRx8kkTjp1w4lt/XfZ8NpstdqLye5NI75s9Qr984Fc3DB5af2CxxcDzYhdsdtTnkIDmDrwokSvk0JJrQVuhFUEYgIdRE0Slt2PN++/x3928onXmTW/jb681pyq6JVAIC5BaIplKIpVKI5WsAGVRFBg39vgxixcsbTxp0inD98Uusc9kAl85buKB/3n//bNzLTLqHFEC4kjkkbSDMgZSaoQiQDEoIORFCMEhpYy2yVbnsWHzh/zl335cePXhQK9b52UYoV6vSqLHTD4QFam0RxxAKQMlBJQRMBbtK9dKoaqyGlNOPfOyllz2zeUr/rq2KxLvKgGd2v+cp55t7NG9Z0oZBUoJiLOwsDDaQJm4AcmLcQjjkFJDCAlCHFSyBX9auKp14Q+yesP7mVR3UltVRX0oK+ERoUd/rR/SFRWec5GTjRqdBISSqBijBNoaJPwETpo4eaqy+t2GZa+9txfO0O1xf8DeMPn1M88bPHTo0Ey+mIPneTAmjkXEwBoLrSWEElBKQhsNraLeH2UUK9et+GjBI2+t+3jFoLE9Uv1TByYzSPbw0NYEeDQFDz6MVVBKwmnA6KjASfoJMOdHGsEIPEqhjQYIwU3X3jxr3foPJsxfMOfNfbVLbHdqQy675Mo5RmtYY2GNhTIKSnMIwRGEBRSCIkIeRD04HrWouBB49oVFi/7l3EumLH7prRf7pPqnerMq+DQJn6Tg0xQ86oNSCm1kpDVKwlgNIQVCySFkCG0UjLawACilUevbOcy89xevHjzk4B5djQBd0QAAwMgRI9PDDhk2si3XAs+jUMYAJsrNjZIQRsb9eAchOZx1UFrh7p/efe28efPmA6C90rV1FTQFSn34rAI+88CIBIEH5rMU1wUUCwVUpCicAxil8VQnCeuAhGcBRINPxjxIFXWpH3348Q9PPHl8d+dcZ+mv2yfb5IYPO6xvIulDGwmlIlWVQiDkAQIRQsV9uCAsRklNrhXX/ei6C+bNmzenPXnxkjqgxIukDx8M0UZJn3pozm1ZuWLlX1bmii0IwjwKhRxCzsF5lCKHYQghZdT7Nw6ERM3aMAwxbOjI1NlTzhm1X/cJjvnSkRNKHRgTdWACHkRNSKOhlAbnkbcvBkVMv276ma+89sorOxcpzjKaAG0fGMdjrBRJYFuwbcUdN9979v0P33fVhxvXQhmBQiGHfD4PzkU81tJwsXOkQMkvWGtw3vkX/K6rkYB2wQG6nr16jZJKQhsJKSPJKCVgTVS4CMERhiGkknjg4Qeuffvtt9/skKxYUC3Lg0+7xhJCkKTJ7gDUyy++8vz066Z/6bkXFy0q8jy4ECgUCuChhHEmnk8QEMbA4n+0klJiyKDBhwwbNqxqX2hAp6wZIyqdM5AymrBGxYuFUro0eDDW4PVlr/913rx5T3bI2R0AZwzhDro0ddpp74FTQft52eZs9t777r3ioV8+cHlzy1YUgzyEEqCEgcYdKUYJiMdAWaRgyUQKIw4dMaArTrBLJqCNUUJGkxelos6rsSbeN6AgYkk1LGt4rJPqLNoJI6HgdNQ4bd8m176bnGjVobHhXnjhhUX33D9jStP2bWCMIZVKIZlIgHkeCGVgZOeZRV3/+sO6EA1clwhobm5a2d6JNdZGBBgTl7CRFuQLefi+n+nQmWkvW53ylSCgKB+zuPjPwMiO5wOwK1asaHh+ybPTBg4YhMqKCvi+Dz9BwWj5ZNRG/5BBaI+9NGvXFQ1wALBq9eolUgloo+GsKyUqxsRaIBWstRg+bPi/x/e2HSVK3Y7tC9F2GRvvFrdw3k4asFMY+/Lhx/TrWdMDqXQaySQFo4h6kvG12hpwHiJfyDV2pSD6X4wYFk47H4gBAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfhAgILACGBOQbTAAAKjklEQVRo3sWYe4xV1RXGf3ufcx/zwJnh6eBUFOyAKFDFB9WSlooaRZIi9RlrrUpQW6Ik1KTW1CaNmtjal7F/1KYWpYrGlFcMojGiVsRRi1ixcXyL4oPXMHPn3nvO2Y/+cfY999zLzDBjir0398zjnrO+b6+19lrf2vB/fokv+2CeqzK5ybmzaQ2eCHY8VOr9agnc0DZ2a7bTwwAWQ8j+E+57M/xqCGS56cqWlRLjHjaAwdK/dvfi+81XQODmW9t+ZZBIACwWg8FgKbJTPmxHZs0bKfxPpoxba/CQNNGMRCffWDxEueufh9UDl4lOkwU8GhmFoEwfGus+hpDPM/erkViUIyPQOj6DRSCAiBBVtxZJ7qqRWRwhgcY7rHN3QIEQSQNejSNz910qDhuB74vMggoBjULSyBG0IF0yWiyCrHeYCCwSWcGESsZbLB45smTwscl+EPi5ReIwEFgkQFHZ5gaLQROhUChHKi5LWsd3D+/lDxccILJRt+mME84gKGCRlIkcndgzoao8s8b+TzyQXk3xF8qVHYMhpIceCmgHDhB1B3qgJ79kHag3MSo/vphHujooAQ+FduvXaA507n0n/cShvCBHAC8QfUHfKlP9kxxZVxXAAiE97yX/cDaG9oMcJnxitPfaIOU8n0zSESyKQru2B3t2KApymPAJjbLuPV1jk1aSSdWA/t/17Emo1vlhhDkwAHz1Kjo2jzlDIPFoJcPnKCI0JT5rCJWLRe11iGyQI4AX7s3+BWVnXeK5qqDomxnq6j01tIfwghwBfOUj+0v7LrI1Biz9a/d3p6CHTaGmEF0pGinQfzB8vVlR3m4RLvquMG2uCadFuA/u6ijUB8IRaODupjN+MP7HmROD7l33PP3gq716IPjkKpuqSIklkYZK0XAUxnqzx0yff+vXix9/9OT2T+7SKQLLxdK7py535jrb7/nGPf/567037I4GgJeV32xi3b0UMkk8UXO1gDiv44IPW4gwCGbyXeacfklXFBucyC37pi63jqrAoDn+6p+VWzJ18ALpPqI+dwxG192R9hk/nH/Rhx49lAicipr70pM3uhxafcnYVpvatj4eZY7k8l8flP8VGgOkri0ja+Cr9YC5087Y1IfGR+IhkGgO0Pn7B+eAvEWetlpTX3M9ikxbNmVsDbxM4KVJgmwriRi6FiHq3uT9C3cYcmTwHHxspsCsF2/05JyTs9iDqpPF4HPK9TXwJBDSOAq2+qxOLNcQyHpLl7eSIYuPj5eKj0Yy4yQ55sxogPJgsYSMv67GnRUHe1WHVcudVQi8Oi8wo/32V+bcKdzq469IvBYx6tt+0G/RiJoBIZYXAc0TJh/33rt10RdJN06EGIDV+G5IkvG4NKFhwVXzf+MT4LutYFK+NmgU3lF+3zvK5b9M4CNCAhQRZ77w8ddCnQIXyTJqtqHBVk0YRENu3rcuXjuKEO3aFckIU1FPClCfyE92lAidxrdOcJcoo1CUGN26+KFk1ZW1SyTSplQAsbnkjrkn3fXONWsbUYnjZSq0sXAJUfj0via37vmCkBJlihTpp49eikQYSggMHQsv/WmSA5UIe4njnUmLJs6w2dNvW3/TMxNbNSJJuurKY3BNhAFC3tsqH7Bb50UU6XfgfQRoNH1E5Mig6Lzt4tuT1Ys41WySAdpJkWA34vhJy/98y+ZZZxhXTaodySY6WhMRoTBk2F9+q+jDs89OpQ2fjHOUJqSEIpvM/rOWNY9/5Ob+ErEIkAhdkeBYDCX6ysfOmDtvwW0etm7itcn8rNGoBN5ieHqCI3jH0ed+aMjiIdzMY11hj3d7hmYOlP925sefVkKam3DMljySJkrsg57zOauVAbdzrBU0Ck1ESIgiQiF5afHGNY7s0wfOHTPm9MDJa1IVK972HoZm/9SlpR0730fi4XmNrddk0BTxyqcVrs5Pax5YWVmsi7oiIiRyVARv37nm3pRcuEJep5tQrqfWNnbwkQh8sry+4dFf9h3Ay40/+nmJLc8on5Mflx9M71kHXQE3KEIMlu3L1v8plq+iIhSOyl1eymOTTKt8aV3g44TK0c/aJV3P47XvmMT5PSfkxZDwykU9jntEhKDAltnPvVYpIaIqljpbFu/PYNzWkSk1JZO+aski2frIUw/P/8PFk4bS+9blewweU7Eodm7ZdN5HhaqSEWm1NrXtgr3NjoKsCUa1vRsCGmgnV/byQ8Erghpwg2UvL8z+1+uhSUupGk34Vk+p5aIDozA1qtIkAYnz+QjG0QBDwGsiAgeuHfgBtl+6Zf2BsKbl1nsAAWNyC+8/5hKbxJ1kZ1sUGUbTNuRIbZPNptyGtuxn+5Kux3b3u85l0630IAIIX86/7JSVWQzS0bR4GDTNTKBpyHlWERCgMG5kNfTyyrKXH9nT6yrXcAggEMcfc3bX6FaTeEohGcd4skPAawK30zUKMOyl6/pX1+zvdcVwGASoio9R2XkrTrzNRyEp4TOJMfiDwhtC10E1GknE5+Uty7Y/3ldwRwkVMTAsAlSk1eTJ33ngyNl9NDGFljrRUgseuJVrAhS7urfevuOZUgHjmoVJRJCthR+IQI0E9/wpJy9YM6u1EdJKrAY8JHTHE0UKGJ5a8vLjGHdwdEgCQx/RWK13d8+kcYAbLZoyBQqUCFEU+JR9+LQx/ZT29vqxaRhHNPVpGFeitpY/fppHJcJCpIpsvHKNJkOJz2hmNBkUGSzrV2xapYPk8Myk9HudB5KwHl9PABDeXdtGt5Zd8lVsaEICt26FQPBGeXPhBI7zJYb4GH/GOdPmvbux0F8dGw5y4HDOiJb8fOKkfleE4p2kCChRpERIiEWyq7yu5x+8nc8ToMmQIYtEMW32Ld2zph86CIN7QJww6epH+xMlb1xPr1b4DHvLLxaeV1+0Cr9BzSDrk5rcFHlOubbY9f67A698MAKpOXBFd1PeIFKSKnJujxBItvWsU7vzfrOHQagZ5HzrRuKYhsFj5qXm391v1Y5QtTT8weIzZ/LE1jKeE2XGFddYMwl2ffjse7u+mc/naaTPTSIKicHgJ/LZIFi0+ou5L3UN45Ss7uRCnPWYdkUszvggUXMh2zb8duHrTzbkM6mRwbimq5z4MIDEYPnR8+1tg2/KQZLw6IajTixBEvcQ5apcxLoVDy5X5exEz+lFAfh5lS878MgdYWtAosmy9AMhBj45G5RAR7vv5GNsUKMI0BRZdcXWx7AYr0giWiT9b3z0Rnz4ECaDXXx4LwnpyJ86c4QHlcfOrYiJipINUQSs/N6bz1VO62VSliTF11ZfuPH6PRjKlNz6jQOQGOb+fbB9IAdMQXvETOU0rE7qnuKJFR90VUqCCKu3C7wWou0bV87atiEkokSAdeCxSpjQ2dF8SA+k09A02WQd8cazdL+6dZWbNCzWlElNfbaIxfbtW7d005ICAbrmQAV8Oo4eURLqSDkdWylAZd76S6qmWx2lDicgqkyp2zasX9iLJOOmw4qwHTNjoACssYMQKLxRgTeuBpTwW1MDoRVBTXMOkznVvP/i9mXjyLnZuFLdZFs9xhq7xg7sAQs7n4qSKmCcuOy4yW3sysCXWpCIUm3HHtvRTJZMUsY1IaXuevj4538BBXB1HeF6wqkAAAAASUVORK5CYII="},function(e,t,n){e.exports={portalWidth:"mutationStatus-module__portalWidth__2s2Qx",framedImage:"mutationStatus-module__framedImage__mbMeM",germline:"mutationStatus-module__germline__3PooJ",somatic:"mutationStatus-module__somatic__1ieJL",unknown:"mutationStatus-module__unknown__mbYor"}},function(e,t,n){e.exports={portalWidth:"proteinChange-module__portalWidth__1U76x",framedImage:"proteinChange-module__framedImage___DDUH",proteinChange:"proteinChange-module__proteinChange__2xJ_V",germline:"proteinChange-module__germline__1c0ww"}},function(e,t,n){e.exports={portalWidth:"mutationType-module__portalWidth__2MF0M",framedImage:"mutationType-module__framedImage__2Mkp8","missense-mutation":"mutationType-module__missense-mutation__2vEO9","trunc-mutation":"mutationType-module__trunc-mutation__1fMqq","inframe-mutation":"mutationType-module__inframe-mutation__3PeGf","other-mutation":"mutationType-module__other-mutation__3NGsA","default-mutation":"mutationType-module__default-mutation__27MBJ"}},function(e,t,n){e.exports={portalWidth:"mutationAssessorTooltip-module__portalWidth__15gd3",framedImage:"mutationAssessorTooltip-module__framedImage__1LzrF","ma-link":"mutationAssessorTooltip-module__ma-link__3QpML","mutation-assessor-link":"mutationAssessorTooltip-module__mutation-assessor-link__3XLsB","ma-icon":"mutationAssessorTooltip-module__ma-icon__GqjUA","ma-msa-icon":"mutationAssessorTooltip-module__ma-msa-icon__2yT6h","ma-3d-icon":"mutationAssessorTooltip-module__ma-3d-icon__166M3","mutation-assessor-main-img":"mutationAssessorTooltip-module__mutation-assessor-main-img__2QlLP","ma-tooltip-table":"mutationAssessorTooltip-module__ma-tooltip-table__3tyG8"}},function(e,t,n){e.exports={portalWidth:"cosmic-module__portalWidth__3eF_t",framedImage:"cosmic-module__framedImage__1OwYD","cosmic-table":"cosmic-module__cosmic-table__2ms15"}},function(e,t,n){e.exports={portalWidth:"validationStatus-module__portalWidth__yrVHU",framedImage:"validationStatus-module__framedImage___YpeK",unknown:"validationStatus-module__unknown__1XsWI",valid:"validationStatus-module__valid__Ziu-a",wildtype:"validationStatus-module__wildtype__14GJI",other:"validationStatus-module__other__3oLt_"}},function(e,t,n){e.exports={portalWidth:"exon-module__portalWidth__1GWC2",framedImage:"exon-module__framedImage__2Xs1J","exon-table":"exon-module__exon-table__6cnBD"}},function(e,t,n){e.exports={portalWidth:"gnomad-module__portalWidth__1l0Nv",framedImage:"gnomad-module__framedImage__2FK-O","gnomad-table":"gnomad-module__gnomad-table__HLBcy",link:"gnomad-module__link__e_6uY"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n(18),a=n(7),i=n(9),u=n(510),l=n(563),c=n(15);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getTextValue",value:function(t){return e.getData(t)||""}},{key:"getData",value:function(e){return e.length>0?e[0].sampleId:null}},{key:"renderFunction",value:function(t,n){var o=e.getTextValue(t),a=r.createElement(l.a,{text:o,tooltip:r.createElement("div",{style:{maxWidth:300}},o),maxLength:16});if(n){var i=n[t[0].molecularProfileId],u=i&&i.studyId;u&&(a=r.createElement("a",{href:Object(c.v)(u,o),target:"_blank"},a))}return a}}],(n=null)&&s(t.prototype,n),o&&s(t,o),e}(),d=n(716),f=n(511);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t){var n=e.getSortValue(t);if(n){var o=t[0].normalAltCount,a=t[0].normalRefCount;return d.a.mainContent(n,o,a)}return r.createElement(f.b,{status:f.a.NA})}},{key:"getTextValue",value:function(t){var n=e.getSortValue(t);return n?Object(d.b)(n):""}},{key:"getSortValue",value:function(e){var t=e[0];if(!t)return null;var n=t.normalAltCount,r=t.normalRefCount;return n<0||r<0?null:n/(n+r)}}],(n=null)&&m(t.prototype,n),o&&m(t,o),e}(),y=n(818),g=(n(527),n(802)),b=n(819),v=n(518);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n,o){var a=e.getMutSigQValue(t,n),i=e.getVariantCountData(t,o),u=e.makeCohortFrequencyViz(i);return r.createElement("div",null,null!==u&&u,null!==a&&e.makeMutSigIcon(a))}},{key:"getSortValue",value:function(t,n){var r=e.getVariantCountData(t,n);return r&&r.data?r.data.numberOfSamplesWithMutationInGene:null}},{key:"getVariantCountData",value:function(e,t){if(0===e.length)return null;var n=e[0].entrezGeneId,r=e[0].keyword,o=t.get({entrezGeneId:n,keyword:r});return o?Object.assign({hugoGeneSymbol:e[0].gene.hugoGeneSymbol},o):null}},{key:"getMutSigQValue",value:function(e,t){if(!t||0===e.length)return null;var n=t[e[0].entrezGeneId];return n?n.qValue:null}},{key:"makeCohortFrequencyViz",value:function(t){var n=null;if(null===t)n=f.a.LOADING;else if("error"===t.status)n=f.a.ERROR;else{if(null!==t.data){var o=[t.data.numberOfSamplesWithMutationInGene];return t.data.keyword&&o.push(t.data.numberOfSamplesWithKeyword),r.createElement(g.a,{counts:o,totalCount:t.data.numberOfSamples,tooltip:e.getCohortFrequencyTooltip(t)})}n=f.a.NA}if(null!==n)return r.createElement(f.b,{status:n})}},{key:"makeMutSigIcon",value:function(t){return r.createElement(b.a,{text:"M",tooltip:function(){return e.getMutSigTooltip(t)}})}},{key:"getBoldPercentage",value:function(e){return r.createElement("b",null,Object(v.c)(e))}},{key:"getCohortFrequencyTooltip",value:function(t){return null===t?r.createElement("span",null,"Querying server for data."):"error"===t.status?r.createElement("span",null,"Error retrieving data."):null===t.data?r.createElement("span",null,"Count data is not available for this gene."):r.createElement("div",null,r.createElement("span",null,t.data.numberOfSamplesWithMutationInGene," samples (",e.getBoldPercentage(t.data.numberOfSamplesWithMutationInGene/t.data.numberOfSamples),") in this study have mutated ",t.hugoGeneSymbol,void 0!==t.data.keyword&&r.createElement("span",null,", out of which ",t.data.numberOfSamplesWithKeyword," (",e.getBoldPercentage(t.data.numberOfSamplesWithKeyword/t.data.numberOfSamples),") have ",t.data.keyword," mutations"),"."))}},{key:"getMutSigTooltip",value:function(e){return r.createElement("div",null,r.createElement("b",null,"MutSig"),r.createElement("br",null),r.createElement("span",null," Q-value: ",(e||0).toExponential(3)))}}],(n=null)&&S(t.prototype,n),o&&S(t,o),e}(),C=n(503);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n,o){var a=e.getData(t,n,o);return r.createElement(C.b,{placement:"left",overlay:e.getTooltipContents(a),arrowContent:r.createElement("div",{className:"rc-tooltip-arrow-inner"})},e.getTdContents(a))}},{key:"getTextValue",value:function(t,n,r){var o=e.getTdValue(e.getData(t,n,r));return null!==o?e.altToFilterString[o]:""}},{key:"getSortValue",value:function(t,n,r){return e.getTdValue(e.getData(t,n,r))}},{key:"filter",value:function(t,n,r,o){var a=e.getData(t,n,r);return!(!a||!a.data)&&(!!e.altToFilterString[a.data.alteration]&&e.altToFilterString[a.data.alteration].indexOf(o.toLowerCase())>-1)}},{key:"getData",value:function(e,t,n){if(!e||0===e.length||!n.isActive)return null;var r=e[0].sampleId,o=e[0].entrezGeneId,a=t[e[0].molecularProfileId];return a?n.get({sampleId:r,entrezGeneId:o,studyId:a.studyId}):null}},{key:"getTdValue",value:function(e){return null!==e&&"complete"===e.status&&null!==e.data?e.data.alteration:null}},{key:"getTdContents",value:function(e){var t=null;if(null!==e&&"complete"===e.status&&null!==e.data){var n=e.data.alteration;return 2===n?r.createElement("span",{style:{color:"red",textAlign:"center",fontSize:"12px"}},r.createElement("b",null,"Amp")):1===n?r.createElement("span",{style:{color:"red",textAlign:"center",fontSize:"smaller"}},r.createElement("b",null,"Gain")):0===n?r.createElement("span",{style:{color:"black",textAlign:"center",fontSize:"xx-small"}},"Diploid"):-1===n?r.createElement("span",{style:{color:"blue",textAlign:"center",fontSize:"smaller"}},r.createElement("b",null,"ShallowDel")):r.createElement("span",{style:{color:"blue",textAlign:"center",fontSize:"12px"}},r.createElement("b",null,"DeepDel"))}if(null!==(t=e&&"complete"===e.status&&null===e.data?f.a.NA:e&&"error"===e.status?f.a.ERROR:f.a.NA))return r.createElement(f.b,{status:t,naAlt:"CNA data is not available for this gene."})}},{key:"getTooltipContents",value:function(e){return e&&"complete"===e.status&&null!==e.data?r.createElement("div",null,r.createElement("span",null,{"-2":"Deep deletion","-1":"Shallow deletion",0:"Diploid / normal",1:"Low-level gain",2:"High-level amplification"}[e.data.alteration])):e&&"complete"===e.status&&null===e.data?r.createElement("span",null,"CNA data is not available for this gene."):e&&"error"===e.status?r.createElement("span",null,"Error retrieving data."):r.createElement("span",null,"Querying server for data.")}},{key:"isVisible",value:function(e){return e&&e.isActive}}],(n=null)&&I(t.prototype,n),o&&I(t,o),e}();A.altToFilterString={2:"amp",1:"gain",0:"diploid","-1":"shallowdel","-2":"deepdel"};var E=n(820);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getTextValue",value:function(t){return e.getData(t)||""}},{key:"getDisplayValue",value:function(t){return e.getTextValue(t)}},{key:"getData",value:function(e){return e.length>0?e[0].gene.hugoGeneSymbol:null}},{key:"getSortValue",value:function(t){return e.getTextValue(t)}},{key:"renderFunction",value:function(t){var n=e.getDisplayValue(t);return r.createElement("span",null,n)}}],(n=null)&&P(t.prototype,n),o&&P(t,o),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getSortValue",value:function(t){var n=e.getData(t);return n?e.extractSortValue(n):null}},{key:"extractSortValue",value:function(e){var t=e.match(/[0-9]+/g),n=-1;return t?n=parseInt(t[0]):e.toLowerCase().indexOf("x")>-1?n=23:e.toLowerCase().indexOf("y")>-1&&(n=24),n}},{key:"getData",value:function(e){return e.length>0?e[0].chr:null}}],(n=null)&&_(t.prototype,n),r&&_(t,r),e}(),O=n(543),M=n(839),R=n.n(M);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getData",value:function(e){var t=null;return e.length>0&&(t=e[0].mutationStatus),t}},{key:"sortValue",value:function(t){return e.getData(t)}},{key:"download",value:function(t){return e.getData(t)||""}},{key:"renderFunction",value:function(t){var n,o=e.getData(t),a=!1;return o?o.toLowerCase().indexOf("somatic")>-1?(n=r.createElement("span",{className:R.a.somatic},"S"),a=!0):o.toLowerCase().indexOf("germline")>-1?(n=r.createElement("span",{className:R.a.germline},"G"),a=!0):n=r.createElement("span",{className:R.a.unknown},o):n=r.createElement("span",null),a&&(n=r.createElement(C.b,{overlay:r.createElement("span",null,o),placement:"right"},n)),n}}],(n=null)&&N(t.prototype,n),o&&N(t,o),e}(),G=n(840),x=n.n(G);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getSortValue",value:function(t){return Object(O.a)(e.getTextValue(t))}},{key:"getTextValue",value:function(t){var n="",r=e.getData(t);return r&&(n=r.toString()),n}},{key:"getFilterValue",value:function(t,n,r){var o=e.getDisplayValue(t),a=D.getData(t);return a&&a.toLowerCase().includes("germline")&&(o="".concat(o).concat(a)),o.toUpperCase().indexOf(r)>-1}},{key:"getDisplayValue",value:function(t){return e.getTextValue(t)}},{key:"getData",value:function(e){return e.length>0?e[0].proteinChange:null}},{key:"renderPlainText",value:function(t){var n=e.getDisplayValue(t);return r.createElement("span",null,n)}},{key:"renderWithMutationStatus",value:function(t){var n=e.getDisplayValue(t),o=D.getData(t),a=r.createElement(l.a,{text:n,tooltip:r.createElement("span",null,n),className:x.a.proteinChange,maxLength:40});return o&&o.toLowerCase().indexOf("germline")>-1&&(a=r.createElement("span",null,a,r.createElement("span",{className:x.a.germline},"Germline"))),a}}],(n=null)&&L(t.prototype,n),o&&L(t,o),e}(),F=n(841),B=n.n(F),H=n(651);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getDisplayValue",value:function(t){var n=e.getMapEntry(t);return n&&n.label?n.label:e.getTextValue(t)}},{key:"getTextValue",value:function(t){var n="",r=e.getData(t);return r&&(n=r.toString()),n}},{key:"getClassName",value:function(t){var n=e.getMapEntry(t);return n&&n.className?n.className:e.MAIN_MUTATION_TYPE_MAP.other.className}},{key:"getMapEntry",value:function(t){var n=e.getData(t);return n?e.MAIN_MUTATION_TYPE_MAP[Object(H.b)(n)]:void 0}},{key:"getData",value:function(e){return e.length>0?e[0].mutationType:null}},{key:"renderFunction",value:function(t){var n=e.getDisplayValue(t),o=e.getClassName(t),a=e.getTextValue(t),i=r.createElement("span",{className:B.a[o]},n);if(a.toLowerCase()!==n.toLowerCase()){var u=r.createElement("div",{className:"rc-tooltip-arrow-inner"});i=r.createElement(C.b,{overlay:r.createElement("span",null,a),placement:"left",arrowContent:u},i)}return i}},{key:"MAIN_MUTATION_TYPE_MAP",get:function(){return{missense:{label:"Missense",longName:"Missense",className:"missense-mutation",mainType:"missense",priority:1},inframe:{label:"IF",longName:"In-frame",className:"inframe-mutation",mainType:"inframe",priority:2},truncating:{label:"Truncating",longName:"Truncating",className:"trunc-mutation",mainType:"truncating",priority:4},nonsense:{label:"Nonsense",longName:"Nonsense",className:"trunc-mutation",mainType:"truncating",priority:6},nonstop:{label:"Nonstop",longName:"Nonstop",className:"trunc-mutation",mainType:"truncating",priority:7},nonstart:{label:"Nonstart",longName:"Nonstart",className:"trunc-mutation",mainType:"truncating",priority:8},frameshift:{label:"FS",longName:"Frame Shift",className:"trunc-mutation",mainType:"truncating",priority:4},frame_shift_del:{label:"FS del",longName:"Frame Shift Deletion",className:"trunc-mutation",mainType:"truncating",priority:4},frame_shift_ins:{label:"FS ins",longName:"Frame Shift Insertion",className:"trunc-mutation",mainType:"truncating",priority:5},in_frame_ins:{label:"IF ins",longName:"In-frame Insertion",className:"inframe-mutation",mainType:"inframe",priority:3},in_frame_del:{label:"IF del",longName:"In-frame Deletion",className:"inframe-mutation",mainType:"inframe",priority:2},splice_site:{label:"Splice",longName:"Splice site",className:"trunc-mutation",mainType:"truncating",priority:9},fusion:{label:"Fusion",longName:"Fusion",className:"fusion",mainType:"other",priority:10},silent:{label:"Silent",longName:"Silent",className:"other-mutation",mainType:"other",priority:11},other:{label:"Other",longName:"Other",className:"other-mutation",mainType:"other",priority:11}}}}],(n=null)&&K(t.prototype,n),o&&K(t,o),e}(),q=n(550),U=n(44),Q=n.n(U),z=n(610),W=n.n(z),Y=n(842),Z=n.n(Y),J=n(754),X=n.n(J);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var ae=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=te(t).call(this,e))||"object"!==$(o)&&"function"!=typeof o?ne(r):o).tooltipContent=n.tooltipContent.bind(ne(n)),n}var o,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,r["Component"]),o=t,i=[{key:"download",value:function(e){return e?"impact: ".concat(e.functionalImpact,", score: ").concat(e.functionalImpactScore):"Error"}},{key:"maLink",value:function(e){var t=null;return e&&0!==(t=e.replace("getma.org","mutationassessor.org/r3")).indexOf("http://")&&(t="http://".concat(t)),t}}],(a=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(W.a["annotation-item-text"])});if(this.props.mutationAssessor&&null!==this.props.mutationAssessor.functionalImpact){var t=this.props.mutationAssessor;e=r.createElement("span",{className:Q()(W.a["annotation-item-text"],X.a["ma-".concat(t.functionalImpact)])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var n=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(C.b,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:n,onPopupAlign:oe,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.mutationAssessor,o=t.maLink("http://mutationassessor.org/r3/?cm=var&p=".concat(e.uniprotId,"&var=").concat(e.variant)),a=t.maLink(e.msaLink),i=t.maLink(e.pdbLink),u=e.functionalImpact?r.createElement("div",null,r.createElement("table",{className:Z.a["ma-tooltip-table"]},r.createElement("tr",null,r.createElement("td",null,"Source"),r.createElement("td",null,r.createElement("a",{href:"http://mutationassessor.org/r3"},"MutationAssessor"))),r.createElement("tr",null,r.createElement("td",null,"Impact"),r.createElement("td",null,r.createElement("span",{className:X.a["ma-".concat(e.functionalImpact)]},e.functionalImpact))),(e.functionalImpactScore||0===e.functionalImpactScore)&&r.createElement("tr",null,r.createElement("td",null,"Score"),r.createElement("td",null,r.createElement("b",null,e.functionalImpactScore.toFixed(2)))))):null,l=o?r.createElement("div",{className:Z.a["mutation-assessor-link"]},r.createElement("a",{href:o,target:"_blank"},r.createElement("img",{height:"15",width:"19",src:n(755),className:Z.a["mutation-assessor-main-img"],alt:"Mutation Assessor"}),"Go to Mutation Assessor")):null,c=a?r.createElement("div",{className:Z.a["mutation-assessor-link"]},r.createElement("a",{href:a,target:"_blank"},r.createElement("span",{className:"".concat(Z.a["ma-icon"]," ").concat(Z.a["ma-msa-icon"])},"msa"),"Multiple Sequence Alignment")):null,s=i?r.createElement("div",{className:Z.a["mutation-assessor-link"]},r.createElement("a",{href:i,target:"_blank"},r.createElement("span",{className:"".concat(Z.a["ma-icon"]," ").concat(Z.a["ma-3d-icon"])},"3D"),"Mutation Assessor 3D View")):null;return r.createElement("span",null,u,c,s,l)}}])&&ee(o.prototype,a),i&&ee(o,i),t}();ae.MUTATION_ASSESSOR_URL="http://mutationassessor.org/r3/";var ie=n(756),ue=n.n(ie);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var me=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=se(t).call(this,e))||"object"!==le(o)&&"function"!=typeof o?pe(r):o).tooltipContent=n.tooltipContent.bind(pe(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,r["Component"]),n=t,a=[{key:"download",value:function(e,t){return"impact: ".concat(t,", score: ").concat(e)}}],(o=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(W.a["annotation-item-text"])});if(this.props.siftPrediction&&this.props.siftPrediction.length>0){e=r.createElement("span",{className:Q()(W.a["annotation-item-text"],ue.a["sift-".concat(this.props.siftPrediction)])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(C.b,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:t,onPopupAlign:fe,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.siftPrediction?r.createElement("div",null,r.createElement("table",{className:ue.a["sift-tooltip-table"]},r.createElement("tr",null,r.createElement("td",null,"Source"),r.createElement("td",null,r.createElement("a",{href:"http://sift.bii.a-star.edu.sg/"},"SIFT"))),r.createElement("tr",null,r.createElement("td",null,"Impact"),r.createElement("td",null,r.createElement("span",{className:ue.a["sift-".concat(this.props.siftPrediction)]},this.props.siftPrediction))),(this.props.siftScore||0===this.props.siftScore)&&r.createElement("tr",null,r.createElement("td",null,"Score"),r.createElement("td",null,r.createElement("b",null,this.props.siftScore.toFixed(2)))))):null;return r.createElement("span",null,e)}}])&&ce(n.prototype,o),a&&ce(n,a),t}();me.SIFT_URL="http://sift.bii.a-star.edu.sg/";var he=n(757),ye=n.n(he);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){e.querySelector(".rc-tooltip-arrow").style.display="none"}var Ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ve(t).call(this,e))||"object"!==ge(o)&&"function"!=typeof o?Se(r):o).tooltipContent=n.tooltipContent.bind(Se(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,r["Component"]),n=t,a=[{key:"download",value:function(e,t){return"impact: ".concat(t,", score: ").concat(e)}}],(o=[{key:"render",value:function(){var e=r.createElement("span",{className:"".concat(W.a["annotation-item-text"])});if(this.props.polyPhenPrediction&&this.props.polyPhenPrediction.length>0){e=r.createElement("span",{className:Q()(W.a["annotation-item-text"],ye.a["polyPhen2-".concat(this.props.polyPhenPrediction)])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}));var t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});e=r.createElement(C.b,{overlay:this.tooltipContent,placement:"right",trigger:["hover","focus"],arrowContent:t,onPopupAlign:Ce,destroyTooltipOnHide:!1},e)}return e}},{key:"tooltipContent",value:function(){var e=this.props.polyPhenPrediction?r.createElement("div",null,r.createElement("table",{className:ye.a["polyPhen2-tooltip-table"]},r.createElement("tr",null,r.createElement("td",null,"Source"),r.createElement("td",null,r.createElement("a",{href:"http://genetics.bwh.harvard.edu/pph2/"},"PolyPhen-2"))),r.createElement("tr",null,r.createElement("td",null,"Impact"),r.createElement("td",null,r.createElement("span",{className:ye.a["polyPhen2-".concat(this.props.polyPhenPrediction)]},this.props.polyPhenPrediction))),(this.props.polyPhenScore||0===this.props.polyPhenScore)&&r.createElement("tr",null,r.createElement("td",null,"Score"),r.createElement("td",null,r.createElement("b",null,this.props.polyPhenScore.toFixed(2)))))):null;return r.createElement("span",null,e)}}])&&be(n.prototype,o),a&&be(n,a),t}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t&&Pe(e.prototype,t),n&&Pe(e,n),e}function _e(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Ie.POLYPHEN2_URL="http://genetics.bwh.harvard.edu/pph2/";var Me=function(e){function t(e){var n;return Ee(this,t),(n=_e(this,we(t).call(this,e))).state={active:n.props.active},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,r["Component"]),ke(t,[{key:"legend",value:function(){var e=this;return r.createElement("div",null,r.createElement("table",{className:"table table-striped table-border-top"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Legend"),r.createElement("th",null,r.createElement("span",{style:{display:"inline-block",width:22},title:"SIFT",onMouseOver:function(){return e.setState({active:"sift"})}},r.createElement("img",{height:14,width:14,src:n(758),alt:"SIFT"}))),r.createElement("th",null,r.createElement("span",{style:{display:"inline-block",width:22},title:"PolyPhen-2",onMouseOver:function(){return e.setState({active:"polyPhen2"})}},r.createElement("img",{height:14,width:14,src:n(759),alt:"PolyPhen-2"}))))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:Q()(W.a["annotation-item-text"],X.a["ma-high"])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),r.createElement("td",{className:ue.a["sift-deleterious"]},"deleterious"),r.createElement("td",{className:ye.a["polyPhen2-probably_damaging"]},"probably_damaging")),r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:Q()(W.a["annotation-item-text"],X.a["ma-low"])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),r.createElement("td",{className:ue.a["sift-deleterious_low_confidence"]},"deleterious_low_confidence"),r.createElement("td",{className:ye.a["polyPhen2-possibly_damaging"]},"possibly_damaging")),r.createElement("tr",null,r.createElement("td",null,r.createElement("span",{className:Q()(W.a["annotation-item-text"],X.a["ma-neutral"])},r.createElement("i",{className:"fa fa-circle","aria-hidden":"true"}))),r.createElement("td",{className:ue.a["sift-tolerated_low_confidence"]},"tolerated_low_confidence"),r.createElement("td",{className:ye.a["polyPhen2-benign"]},"benign")),r.createElement("tr",null,r.createElement("td",null),r.createElement("td",{className:ue.a["sift-tolerated"]},"tolerated"),r.createElement("td",null,"-")))))}},{key:"render",value:function(){return r.createElement("div",null,"mutationAssessor"===this.state.active&&t.mutationAssessorText(),"sift"===this.state.active&&t.siftText(),"polyPhen2"===this.state.active&&t.polyPhen2Text(),this.legend())}}],[{key:"mutationAssessorText",value:function(){return r.createElement("div",{style:{width:450,height:100}},r.createElement("a",{href:ae.MUTATION_ASSESSOR_URL,target:"_blank"},"Mutation Assessor")," predicts the functional impact of amino-acid substitutions in proteins, such as mutations discovered in cancer or missense polymorphisms. The functional impact is assessed based on evolutionary conservation of the affected amino acid in protein homologs. The method has been validated on a large set (60k) of disease associated (OMIM) and polymorphic variants.")}},{key:"siftText",value:function(){return r.createElement("div",{style:{width:450,height:100}},r.createElement("a",{href:me.SIFT_URL,target:"_blank"},"SIFT")," predicts whether an amino acid substitution affects protein function based on sequence homology and the physical properties of amino acids. SIFT can be applied to naturally occurring nonsynonymous polymorphisms and laboratory-induced missense mutations.")}},{key:"polyPhen2Text",value:function(){return r.createElement("div",{style:{width:450,height:100}},r.createElement("a",{href:Ie.POLYPHEN2_URL,target:"_blank"},"PolyPhen-2")," (Polymorphism Phenotyping v2) is a tool which predicts possible impact of an amino acid substitution on the structure and function of a human protein using straightforward physical and comparative considerations.")}}]),t}();function Re(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var Ne=function(){function e(){Ee(this,e)}return ke(e,null,[{key:"headerRender",value:function(e){var t=r.createElement("div",{className:"rc-tooltip-arrow-inner"});return r.createElement("div",null,e,r.createElement("br",null),r.createElement("div",{style:{height:14}},r.createElement(C.b,{overlay:r.createElement(Me,{active:"mutationAssessor"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:Re},r.createElement("span",{style:{display:"inline-block",width:22}},r.createElement("img",{height:14,width:14,src:n(755),alt:"Sift"}))),r.createElement(C.b,{overlay:r.createElement(Me,{active:"sift"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:Re},r.createElement("span",{style:{display:"inline-block",width:22}},r.createElement("img",{height:14,width:14,src:n(758),alt:"SIFT"}))),r.createElement(C.b,{overlay:r.createElement(Me,{active:"polyPhen2"}),placement:"topLeft",trigger:["hover","focus"],arrowContent:t,destroyTooltipOnHide:!0,onPopupAlign:Re},r.createElement("span",{style:{display:"inline-block",width:22}},r.createElement("img",{height:14,width:14,src:n(759),alt:"PolyPhen-2"})))))}},{key:"getData",value:function(e){return e?{mutationAssessor:e.mutation_assessor&&e.mutation_assessor.annotation,siftScore:e.transcript_consequences[0].sift_score,siftPrediction:e.transcript_consequences[0].sift_prediction,polyPhenScore:e.transcript_consequences[0].polyphen_score,polyPhenPrediction:e.transcript_consequences[0].polyphen_prediction}:null}},{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",null,e.makeFunctionalImpactViz(o))}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n),o=r&&e.getData(r.data);return o?["MutationAssessor: ".concat(ae.download(o.mutationAssessor)),"SIFT: ".concat(me.download(o.siftScore,o.siftPrediction)),"Polyphen-2: ".concat(Ie.download(o.polyPhenScore,o.polyPhenPrediction))].join(";"):""}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"makeFunctionalImpactViz",value:function(t){var n=null;if(null===t)n=f.a.LOADING;else if("error"===t.status)n=f.a.ERROR;else{if(null!==t.data){var o=e.getData(t.data);return o&&r.createElement("div",null,r.createElement(ae,{mutationAssessor:o.mutationAssessor}),r.createElement(me,{siftScore:o.siftScore,siftPrediction:o.siftPrediction}),r.createElement(Ie,{polyPhenScore:o.polyPhenScore,polyPhenPrediction:o.polyPhenPrediction}))}n=f.a.NA}if(null!==n)return n===f.a.LOADING?r.createElement(q.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-left"}):r.createElement(f.b,{status:n})}}]),e}();function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(){return xe(this,t),Le(this,je(t).apply(this,arguments))}return Fe(t,u["b"]),t}(),Ke=function(e){function t(e){var n;return xe(this,t),(n=Le(this,je(t).call(this,e))).state={},n}var n,o,a;return Fe(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,n=e.data,o=e.columns,a=e.initialSortColumn,i=e.initialSortDirection,u=e.initialItemsPerPage,l=n.length>(this.props.initialItemsPerPage||t.defaultProps.initialItemsPerPage);return r.createElement("div",{className:"cbioportal-frontend"},r.createElement(He,{data:n,columns:o||t.defaultProps.columns,initialSortColumn:a,initialSortDirection:i,initialItemsPerPage:u,showCopyDownload:!1,showColumnVisibility:!1,showFilter:!1,showPagination:l,showPaginationAtTop:!0,paginationProps:{showMoreButton:!1}}))}}])&&De(n.prototype,o),a&&De(n,a),t}();Ke.defaultProps={data:[],columns:[{name:"COSMIC ID",order:1,render:function(e){return r.createElement("span",null,r.createElement("a",{href:"http://cancer.sanger.ac.uk/cosmic/mutation/overview?id=".concat(e.cosmicMutationId),target:"_blank"},e.cosmicMutationId))},sortBy:function(e){return e.cosmicMutationId}},{name:"Protein Change",order:2,render:function(e){return r.createElement("span",null,e.proteinChange)},sortBy:function(e){return Object(O.a)(e.proteinChange)}},{name:"Occurrence",order:3,render:function(e){return r.createElement("span",null,e.count)},sortBy:function(e){return e.count}}],initialSortColumn:"Occurrence",initialSortDirection:"desc",initialItemsPerPage:10};var Ve=n(843),qe=n.n(Ve),Ue=n(626),Qe=n.n(Ue);function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e){e.querySelector(".rc-tooltip-arrow").style.left="10px"}var Ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getData",value:function(t,n){var r=null;if(t&&n){var o=t[0],a=n[o.keyword];if(a){var i=e.extractPosition(o.proteinChange);r=a.filter(function(t){var n=e.extractPosition(t.proteinChange);return i&&n&&i===n})}}return r}},{key:"extractPosition",value:function(e){var t=Object(O.b)(e);return t?t.start:null}},{key:"getSortValue",value:function(t,n){var r=e.getData(t,n),o=null;return r&&(o=r.length>0?i.reduce(i.map(r,"count"),function(e,t){return e+t},0):0),0===o&&(o=null),o}},{key:"getDownloadValue",value:function(t,n){var r=e.getSortValue(t,n);return r?"".concat(r):""}},{key:"renderFunction",value:function(t,n){var o,a=e.getData(t,n),u=-1,l="",c=null;return a&&a.length>0&&(c=function(){return r.createElement("span",{className:qe.a["cosmic-table"]},r.createElement("b",null,u)," occurrences of ",r.createElement("b",null,a[0].keyword)," mutations in COSMIC",r.createElement(Ke,{data:a}))},l=(u=i.reduce(i.map(a,"count"),function(e,t){return e+t},0)).toString()),o=r.createElement("div",{className:Qe.a["integer-data"]},l),c&&(o=r.createElement(C.b,{overlay:c,placement:"topLeft",onPopupAlign:We,trigger:["hover","focus"],destroyTooltipOnHide:!0},o)),o}}],(n=null)&&ze(t.prototype,n),o&&ze(t,o),e}(),Ze=n(803);function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"makeRenderFunction",value:function(e){return Object(Ze.a)(function(t){var n=e.props.mutationCountCache;return n?n.get({sampleId:t[0].sampleId,studyId:t[0].studyId}):{status:"error",data:null}},function(e){return r.createElement("div",{className:Qe.a["integer-data"]},e.value)},"Mutation count not available for this sample.")}},{key:"sortBy",value:function(e,t){var n=null;if(t){var r=t.get({sampleId:e[0].sampleId,studyId:e[0].studyId});n=r&&r.data?parseInt(r.data.value):null}else n=null;return n}},{key:"download",value:function(t,n){var r=e.sortBy(t,n);return r?"".concat(r):""}}],(n=null)&&Je(t.prototype,n),o&&Je(t,o),e}(),$e=n(804),et=n(844),tt=n.n(et);function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getData",value:function(e){var t=null;return e.length>0&&(t=e[0].validationStatus),t}},{key:"sortValue",value:function(t){return e.getData(t)}},{key:"download",value:function(t){return e.getData(t)||""}},{key:"renderFunction",value:function(t){var n,o=e.getData(t),a=!1;if(o){var i=e.VALIDATION_STATUS_FORMAT[o.toLowerCase()];i?(n=r.createElement("span",{className:tt.a[i.className]},i.text),a=!0):n=r.createElement("span",{className:tt.a.other},o)}else n=r.createElement("span",null);return a&&(n=r.createElement(C.b,{overlay:r.createElement("span",null,o),placement:"right"},n)),n}},{key:"VALIDATION_STATUS_FORMAT",get:function(){var e={text:"U",className:"unknown",tooltip:"Unknown"},t={text:"V",className:"valid",tooltip:"Valid"};return{valid:t,validated:t,wildtype:{text:"W",className:"wildtype",tooltip:"Wildtype"},unknown:e,not_tested:e,"not tested":e,none:e,na:e,"n/a":e}}}],(n=null)&&nt(t.prototype,n),o&&nt(t,o),e}();function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getStudy",value:function(e,t,n){if(!t||!n)return null;var r=t[e[0].molecularProfileId];return r&&n[r.studyId]||null}},{key:"renderFunction",value:function(t,n,o){var a=e.getStudy(t,n,o);return a?r.createElement("a",{href:Object(c.y)(a.studyId),target:"_blank"},r.createElement(l.a,{text:a.name,tooltip:r.createElement("div",{style:{maxWidth:300},dangerouslySetInnerHTML:{__html:"".concat(a.name,": ").concat(a.description)}}),maxLength:16})):r.createElement("span",null)}},{key:"getTextValue",value:function(t,n,r){var o=e.getStudy(t,n,r);return o?o.name:""}},{key:"filter",value:function(t,n,r,o){var a=e.getStudy(t,r,o);return!!a&&a.name.toUpperCase().indexOf(n)>-1}}],(n=null)&&ot(t.prototype,n),o&&ot(t,o),e}(),it=n(830),ut=n(805);function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",null,r.createElement("span",null,e.getHgvscDataViz(o)))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getHgvscDataViz",value:function(t){var n=null;if(null===t)n=f.a.LOADING;else if("error"===t.status)n=f.a.ERROR;else{if(null!==t.data){var o=e.getData(t.data);return null==o?o:r.createElement("span",{style:{display:"inline-block",float:"right"}},o)}n=f.a.NA}if(null!==n)return n===f.a.LOADING?r.createElement(q.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(f.b,{status:n})}},{key:"getData",value:function(e){return e?e.annotation_summary.transcriptConsequenceSummary.hgvsc:null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n),o=r&&e.getData(r.data);return o||""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r){var o=e.getData(r.data);return null==o?null:parseInt(o.split("c.")[1])}return null}}],(n=null)&&lt(t.prototype,n),o&&lt(t,o),e}(),st=n(846),pt=n.n(st),dt=n(649);function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ht(this,yt(t).call(this,e))).state={},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,r["Component"]),n=t,(o=[{key:"getHeaders",value:function(){return[r.createElement("td",null,"Population"),r.createElement("td",null,r.createElement(C.b,{placement:"top",overlay:r.createElement("span",null,"Number of individuals with this allele")},r.createElement("span",null,"Allele Count"))),r.createElement("td",null,r.createElement(C.b,{placement:"top",overlay:r.createElement("span",null,"Number of times any allele has been observed at this position in the population")},r.createElement("span",null,"Allele Number"))),r.createElement("td",null,r.createElement(C.b,{placement:"top",overlay:r.createElement("span",null,"Number of individuals carrying this allele in both copies")},r.createElement("span",null,"Number of Homozygotes"))),r.createElement("td",null,r.createElement(C.b,{placement:"top",overlay:r.createElement("span",null,"Proportion of the population with this allele")},r.createElement("span",null,"Allele Frequency")))]}},{key:"getRows",value:function(){var e=[];return this.props.data.forEach(function(t){var n;e.push(r.createElement("tr",null,r.createElement("td",null,t.population),r.createElement("td",null,t.alleleCount),r.createElement("td",null,t.alleleNumber),r.createElement("td",null,t.homozygotes),r.createElement("td",{"data-test":"allele-frequency-data"},0===(n=t.alleleFrequency)?r.createElement("span",null,"0"):r.createElement("span",null,parseFloat(n.toString()).toExponential(1)))))}),e}},{key:"render",value:function(){var e=r.createElement("a",{href:"https://myvariant.info/",target:"_blank"},"myvariant.info"),t=r.createElement("a",{href:"https://www.genomenexus.org/",target:"_blank"},"genomenexus.org"),n=r.createElement("a",{href:this.props.gnomadUrl,target:"_blank"},"gnomAD");return r.createElement("div",{className:"cbioportal-frontend"},r.createElement(dt.a,{headers:this.getHeaders(),rows:this.getRows()}),r.createElement("div",{style:{fontSize:"x-small",textAlign:"center",paddingTop:5}},"Source: ",t,", which serves"," ",e,"'s gnomAD data.",r.createElement("br",null),"Latest ",n," data may differ."))}}])&&mt(n.prototype,o),a&&mt(n,a),t}();function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var St,Tt={African:"afr",Latino:"amr",Other:"oth","European (Non-Finnish)":"nfe","European (Finnish)":"fin","Ashkenazi Jewish":"asj","East Asian":"eas","South Asian":"sas",Total:""};!function(e){e.population="population",e.alleleCount="ac",e.alleleNumber="an",e.homozygotes="hom",e.alleleFrequency="af"}(St||(St={}));var Ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",null,r.createElement("span",{"data-test":"gnomad-column","data-test2":t[0].sampleId},e.getGnomadDataViz(o)))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getGnomadDataViz",value:function(t){var n=this,o=null;if(null==t)o=f.a.LOADING;else if("error"===t.status)o=f.a.ERROR;else{if(null!=t.data){var a,u,l=e.getData(t.data.my_variant_info),c="",s=null,p={};if(l&&(l.gnomadExome||l.gnomadGenome)){c=l&&l.dbsnp?e.generateGnomadUrl(l.dbsnp.chrom,l.dbsnp.hg19.start,l.dbsnp.ref,l.dbsnp.alt):"";var d={},m={},h={};l.gnomadExome&&(Object.keys(Tt).map(function(e){n.setGnomadTableData(e,l.gnomadExome,d)}),p=d),l.gnomadGenome&&(Object.keys(Tt).map(function(e){n.setGnomadTableData(e,l.gnomadGenome,m)}),p=m),l.gnomadExome&&l.gnomadGenome&&(Object.keys(Tt).map(function(t){h[t]={population:t,alleleCount:d[t].alleleCount+m[t].alleleCount,alleleNumber:d[t].alleleNumber+m[t].alleleNumber,homozygotes:void 0===d[t].homozygotes||void 0===m[t].homozygotes?"N/A":(parseInt(d[t].homozygotes)+parseInt(m[t].homozygotes)).toString(),alleleFrequency:e.calculateAlleleFrequency(d[t].alleleCount+m[t].alleleCount,d[t].alleleNumber+m[t].alleleNumber,null)}}),p=h);var y=i.sortBy(Object.values(p).slice(0,8),["alleleFrequency"]).reverse();y.push(p.Total),a=0===p.Total.alleleFrequency?r.createElement("span",null,"0"):r.createElement("span",null,parseFloat(p.Total.alleleFrequency.toString()).toExponential(1)),s=function(){return r.createElement("span",{className:pt.a["gnomad-table"],"data-test":"gnomad-table"},r.createElement(bt,{data:y,gnomadUrl:c}))}}else a=r.createElement(C.b,{placement:"topRight",overlay:r.createElement("span",null,"Variant has no data in gnomAD.")},r.createElement("span",{style:{height:"100%",width:"100%",display:"block",overflow:"hidden"}},""));return u=r.createElement("div",{className:Qe.a["integer-data"]},a),s&&(u=r.createElement(C.b,{overlay:s,placement:"topRight",trigger:["hover","focus"],destroyTooltipOnHide:!0},u)),u}o=f.a.NA}if(null!==o)return o===f.a.LOADING?r.createElement(q.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(f.b,{status:o})}},{key:"getData",value:function(e){return e?e.annotation:null}},{key:"setGnomadTableData",value:function(t,n,r){var o=(Tt[t]?St.alleleCount+"_"+Tt[t]:St.alleleCount).toString(),a=(Tt[t]?St.alleleNumber+"_"+Tt[t]:St.alleleNumber).toString(),i=(Tt[t]?St.homozygotes+"_"+Tt[t]:St.homozygotes).toString(),u=(Tt[t]?St.alleleFrequency+"_"+Tt[t]:St.alleleFrequency).toString();r[t]={population:t,alleleCount:n.alleleCount[o]?n.alleleCount[o]:0,alleleNumber:n.alleleNumber[a]?n.alleleNumber[a]:0,homozygotes:void 0===n.homozygotes?"\bN/A":n.homozygotes[i],alleleFrequency:e.calculateAlleleFrequency(n.alleleCount[o],n.alleleNumber[a],n.alleleFrequency[u])}}},{key:"calculateAlleleFrequency",value:function(e,t,n){return null!==n?n:e&&t&&0!==t?e/t:0}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=e.getData(r.data.my_variant_info);if(o&&o.gnomadExome&&o.gnomadGenome)return e.calculateAlleleFrequency(o.gnomadExome.alleleCount.ac+o.gnomadGenome.alleleCount.ac,o.gnomadExome.alleleNumber.an+o.gnomadGenome.alleleFrequency.af,null);if(o&&o.gnomadExome)return e.calculateAlleleFrequency(o.gnomadExome.alleleCount.ac,o.gnomadExome.alleleNumber.an,o.gnomadExome.alleleFrequency.af);if(o&&o.gnomadGenome)return e.calculateAlleleFrequency(o.gnomadGenome.alleleCount.ac,o.gnomadGenome.alleleNumber.an,o.gnomadGenome.alleleFrequency.af)}return null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=e.getData(r.data.my_variant_info);if(o&&o.gnomadExome&&o.gnomadGenome)return e.calculateAlleleFrequency(o.gnomadExome.alleleCount.ac+o.gnomadGenome.alleleCount.ac,o.gnomadExome.alleleNumber.an+o.gnomadGenome.alleleFrequency.af,null).toString();if(o&&o.gnomadExome)return e.calculateAlleleFrequency(o.gnomadExome.alleleCount.ac,o.gnomadExome.alleleNumber.an,o.gnomadExome.alleleFrequency.af).toString();if(o&&o.gnomadGenome)return e.calculateAlleleFrequency(o.gnomadGenome.alleleCount.ac,o.gnomadGenome.alleleNumber.an,o.gnomadGenome.alleleFrequency.af).toString()}return""}},{key:"generateGnomadUrl",value:function(e,t,n,r){return e&&t&&n&&r?"https://gnomad.broadinstitute.org/variant/"+e+"-"+t.toString()+"-"+n+"-"+r:"https://gnomad.broadinstitute.org/"}}],(n=null)&&vt(t.prototype,n),o&&vt(t,o),e}();function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var At=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",{"data-test":"clinvar-data"},e.getClinVarDataViz(o))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getClinVarDataViz",value:function(t){var n=null;if(null===t)n=f.a.LOADING;else if("error"===t.status)n=f.a.ERROR;else{if(null!==t.data){var o=e.getData(t.data.my_variant_info);if(null==o)return r.createElement(C.b,{placement:"topRight",overlay:r.createElement("span",null,"Variant has no ClinVar data.")},r.createElement("span",{style:{height:"100%",width:"100%",display:"block",overflow:"hidden"}},""));var a="https://www.ncbi.nlm.nih.gov/clinvar/variation/"+o+"/";return r.createElement(C.b,{placement:"top",overlay:r.createElement("span",null,"Click to see variant on ClinVar website.")},r.createElement("span",{style:{textAlign:"right",float:"right"}},r.createElement("a",{href:a,target:"_blank"},o)))}n=f.a.NA}if(null!==n)return n===f.a.LOADING?r.createElement(q.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(f.b,{status:n})}},{key:"getData",value:function(e){return e&&e.annotation&&e.annotation.clinVar&&e.annotation.clinVar.variantId?e.annotation.clinVar.variantId.toString():null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=e.getData(r.data.my_variant_info);if(o)return o}return""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data&&r.data.my_variant_info){var o=e.getData(r.data.my_variant_info);if(null!==o)return parseInt(o)}return null}}],(n=null)&&It(t.prototype,n),o&&It(t,o),e}();function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"renderFunction",value:function(t,n){var o=e.getGenomeNexusDataFromCache(t,n);return r.createElement("div",{"data-test":"dbsnp-data"},e.getDbsnpViz(o))}},{key:"getGenomeNexusDataFromCache",value:function(e,t){return 0!==e.length&&t?t.get(e[0]):null}},{key:"getDbsnpViz",value:function(t){var n=null;if(null===t)n=f.a.LOADING;else if("error"===t.status)n=f.a.ERROR;else{if(null!==t.data){var o=e.getData(t.data.my_variant_info);if(null==o)return r.createElement(C.b,{placement:"topRight",overlay:r.createElement("span",null,"Variant has no dbSNP data.")},r.createElement("span",{style:{height:"100%",width:"100%",display:"block",overflow:"hidden"}},""));var a="https://www.ncbi.nlm.nih.gov/snp/"+o;return r.createElement(C.b,{placement:"top",overlay:r.createElement("span",null,"Click to see variant on dbSNP website.")},r.createElement("span",{style:{textAlign:"right",float:"right"}},r.createElement("a",{href:a,target:"_blank"},o)))}n=f.a.NA}if(null!==n)return n===f.a.LOADING?r.createElement(q.Circle,{size:18,scaleEnd:.5,scaleStart:.2,color:"#aaa",className:"pull-right"}):r.createElement(f.b,{status:n})}},{key:"getData",value:function(e){return e&&e.annotation&&e.annotation.dbsnp&&e.annotation.dbsnp.rsid?e.annotation.dbsnp.rsid:null}},{key:"download",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data){var o=r&&e.getData(r.data.my_variant_info);if(o)return o}return""}},{key:"getSortValue",value:function(t,n){var r=e.getGenomeNexusDataFromCache(t,n);if(r&&r.data&&r.data.my_variant_info){var o=e.getData(r.data.my_variant_info);if(null!==o)return o}return null}}],(n=null)&&Et(t.prototype,n),o&&Et(t,o),e}();function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",function(){return Dt});var Dt,Gt=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Nt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e[e.STUDY=0]="STUDY",e[e.SAMPLE_ID=1]="SAMPLE_ID",e[e.SAMPLES=2]="SAMPLES",e[e.GENE=3]="GENE",e[e.PROTEIN_CHANGE=4]="PROTEIN_CHANGE",e[e.CHROMOSOME=5]="CHROMOSOME",e[e.START_POS=6]="START_POS",e[e.END_POS=7]="END_POS",e[e.REF_ALLELE=8]="REF_ALLELE",e[e.VAR_ALLELE=9]="VAR_ALLELE",e[e.MUTATION_STATUS=10]="MUTATION_STATUS",e[e.VALIDATION_STATUS=11]="VALIDATION_STATUS",e[e.MUTATION_TYPE=12]="MUTATION_TYPE",e[e.CENTER=13]="CENTER",e[e.TUMOR_ALLELE_FREQ=14]="TUMOR_ALLELE_FREQ",e[e.NORMAL_ALLELE_FREQ=15]="NORMAL_ALLELE_FREQ",e[e.FUNCTIONAL_IMPACT=16]="FUNCTIONAL_IMPACT",e[e.ANNOTATION=17]="ANNOTATION",e[e.COSMIC=18]="COSMIC",e[e.COPY_NUM=19]="COPY_NUM",e[e.MRNA_EXPR=20]="MRNA_EXPR",e[e.COHORT=21]="COHORT",e[e.REF_READS_N=22]="REF_READS_N",e[e.VAR_READS_N=23]="VAR_READS_N",e[e.REF_READS=24]="REF_READS",e[e.VAR_READS=25]="VAR_READS",e[e.CANCER_TYPE=26]="CANCER_TYPE",e[e.NUM_MUTATIONS=27]="NUM_MUTATIONS",e[e.EXON=28]="EXON",e[e.HGVSC=29]="HGVSC",e[e.GNOMAD=30]="GNOMAD",e[e.CLINVAR=31]="CLINVAR",e[e.DBSNP=32]="DBSNP"}(Dt||(Dt={}));var xt=function(e){function t(){return _t(this,t),wt(this,Ot(t).apply(this,arguments))}return Mt(t,u["b"]),t}();function Lt(e,t,n){var o=jt(e,t);return r.createElement("div",{className:Q()(n?Qe.a["integer-data"]:void 0)},o)}function jt(e,t){var n="";return e.length>0&&e[0].hasOwnProperty(t)&&(n=e[0][t]),n}function Ft(e,t,n){return e.length>0&&e.reduce(function(e,r){var o=r[t];return o?e||o.toUpperCase().indexOf(n)>-1:e},!1)}var Bt=function(e){function t(e){var n;return _t(this,t),(n=wt(this,Ot(t).call(this,e)))._columns={},n.generateColumns(),n}var n,o,a;return Mt(t,r["Component"]),n=t,(o=[{key:"generateColumns",value:function(){var e=this;this._columns={},this._columns[Dt.STUDY]={name:"Study",render:function(t){return at.renderFunction(t,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},download:function(t){return at.getTextValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},sortBy:function(t){return at.getTextValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},filter:function(t,n,r){return at.filter(t,r,e.props.molecularProfileIdToMolecularProfile,e.props.studyIdToStudy)},visible:!1},this._columns[Dt.SAMPLE_ID]={name:"Sample ID",render:function(t){return p.renderFunction(t,e.props.molecularProfileIdToMolecularProfile)},download:p.getTextValue,sortBy:p.getTextValue,filter:function(e,t,n){return Ft(e,"sampleId",n)},visible:!0},this._columns[Dt.TUMOR_ALLELE_FREQ]={name:"Allele Freq (T)",render:d.a.renderFunction,headerRender:function(e){return r.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},download:d.a.getTextValue,sortBy:d.a.getSortValue,tooltip:r.createElement("span",null,"Variant allele frequency in the tumor sample"),visible:!0},this._columns[Dt.NORMAL_ALLELE_FREQ]={name:"Allele Freq (N)",render:h.renderFunction,headerRender:function(e){return r.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},download:h.getTextValue,sortBy:h.getSortValue,tooltip:r.createElement("span",null,"Variant allele frequency in the normal sample"),visible:!1},this._columns[Dt.MRNA_EXPR]={name:"mRNA Expr.",render:function(t){return e.props.mrnaExprRankCache?y.a.renderFunction(t,e.props.mrnaExprRankCache):r.createElement("span",null)}},this._columns[Dt.COHORT]={name:"Cohort",render:function(t){return e.props.variantCountCache?T.renderFunction(t,e.props.mutSigData,e.props.variantCountCache):r.createElement("span",null)},sortBy:function(t){var n=e.props.variantCountCache;return n?T.getSortValue(t,n):0},tooltip:r.createElement("span",null,"Mutation frequency in cohort"),defaultSortDirection:"desc"},this._columns[Dt.COPY_NUM]={name:"Copy #",render:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?A.renderFunction(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):r.createElement("span",null)},sortBy:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?A.getSortValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):0},download:function(t){return e.props.discreteCNACache&&e.props.molecularProfileIdToMolecularProfile?A.getTextValue(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache):""},filter:function(t,n){return!(!e.props.discreteCNACache||!e.props.molecularProfileIdToMolecularProfile)&&A.filter(t,e.props.molecularProfileIdToMolecularProfile,e.props.discreteCNACache,n)},visible:A.isVisible(this.props.discreteCNACache)},this._columns[Dt.REF_READS_N]={name:"Ref Reads (Normal)",render:function(e){return E.a.renderFunction(e,[e[0].sampleId],"normalRefCount")},download:function(e){return E.a.getTextValue(e,[e[0].sampleId],"normalRefCount")},sortBy:function(e){return e.map(function(e){return e.normalRefCount})},visible:!1,align:"right"},this._columns[Dt.VAR_READS_N]={name:"Variant Reads (Normal)",render:function(e){return E.a.renderFunction(e,[e[0].sampleId],"normalAltCount")},download:function(e){return E.a.getTextValue(e,[e[0].sampleId],"normalAltCount")},sortBy:function(e){return e.map(function(e){return e.normalAltCount})},visible:!1,align:"right"},this._columns[Dt.REF_READS]={name:"Ref Reads",render:function(e){return E.a.renderFunction(e,[e[0].sampleId],"tumorRefCount")},download:function(e){return E.a.getTextValue(e,[e[0].sampleId],"tumorRefCount")},sortBy:function(e){return e.map(function(e){return e.tumorRefCount})},visible:!1,align:"right"},this._columns[Dt.VAR_READS]={name:"Variant Reads",render:function(e){return E.a.renderFunction(e,[e[0].sampleId],"tumorAltCount")},download:function(e){return E.a.getTextValue(e,[e[0].sampleId],"tumorAltCount")},sortBy:function(e){return e.map(function(e){return e.tumorAltCount})},visible:!1,align:"right"},this._columns[Dt.START_POS]={name:"Start Pos",render:function(e){return Lt(e,"startPosition",!0)},download:function(e){return jt(e,"startPosition")},sortBy:function(e){return e.map(function(e){return e.startPosition})},visible:!1,align:"right"},this._columns[Dt.END_POS]={name:"End Pos",render:function(e){return Lt(e,"endPosition",!0)},download:function(e){return jt(e,"endPosition")},sortBy:function(e){return e.map(function(e){return e.endPosition})},visible:!1,align:"right"},this._columns[Dt.REF_ALLELE]={name:"Ref",render:function(e){return Lt(e,"referenceAllele")},download:function(e){return jt(e,"referenceAllele")},sortBy:function(e){return e.map(function(e){return e.referenceAllele})},visible:!1},this._columns[Dt.VAR_ALLELE]={name:"Var",render:function(e){return Lt(e,"variantAllele")},download:function(e){return jt(e,"variantAllele")},sortBy:function(e){return e.map(function(e){return e.variantAllele})},visible:!1},this._columns[Dt.MUTATION_STATUS]={name:"MS",tooltip:r.createElement("span",null,"Mutation Status"),render:D.renderFunction,download:D.download,sortBy:D.sortValue,filter:function(e,t,n){return Ft(e,"mutationStatus",n)},visible:!1},this._columns[Dt.VALIDATION_STATUS]={name:"VS",tooltip:r.createElement("span",null,"Validation Status"),render:rt.renderFunction,download:rt.download,sortBy:rt.sortValue,filter:function(e,t,n){return Ft(e,"validationStatus",n)},visible:!1},this._columns[Dt.CENTER]={name:"Center",render:function(e){return Lt(e,"center")},download:function(e){return jt(e,"center")},sortBy:function(e){return e.map(function(e){return e.center})},filter:function(e,t,n){return Ft(e,"center",n)},visible:!1},this._columns[Dt.GENE]={name:"Gene",render:function(e){return k.renderFunction(e)},download:function(e){return k.getTextValue(e)},sortBy:function(e){return k.getSortValue(e)},filter:function(e,t,n){return k.getTextValue(e).toUpperCase().indexOf(n)>-1}},this._columns[Dt.CHROMOSOME]={name:"Chromosome",render:function(e){return r.createElement("div",{className:Qe.a["integer-data"]},w.getData(e))},download:function(e){return w.getData(e)||""},sortBy:function(e){return w.getSortValue(e)},filter:function(e,t,n){return(w.getData(e)+"").toUpperCase().indexOf(n)>-1},visible:!1,align:"right"},this._columns[Dt.PROTEIN_CHANGE]={name:"Protein Change",render:j.renderWithMutationStatus,download:j.getTextValue,sortBy:function(e){return j.getSortValue(e)},filter:j.getFilterValue},this._columns[Dt.MUTATION_TYPE]={name:"Mutation Type",render:V.renderFunction,download:V.getTextValue,sortBy:function(e){return V.getDisplayValue(e)},filter:function(e,t,n){return V.getDisplayValue(e).toUpperCase().indexOf(n)>-1}},this._columns[Dt.FUNCTIONAL_IMPACT]={name:"Functional Impact",render:function(t){return e.props.genomeNexusCache?Ne.renderFunction(t,e.props.genomeNexusCache):r.createElement("span",null)},download:function(t){return Ne.download(t,e.props.genomeNexusCache)},headerRender:Ne.headerRender,visible:!1,shouldExclude:function(){return!e.props.enableFunctionalImpact}},this._columns[Dt.COSMIC]={name:"COSMIC",render:function(t){return Ye.renderFunction(t,e.props.cosmicData)},sortBy:function(t){return Ye.getSortValue(t,e.props.cosmicData)},download:function(t){return Ye.getDownloadValue(t,e.props.cosmicData)},tooltip:r.createElement("span",null,"COSMIC occurrences"),defaultSortDirection:"desc",align:"right"},this._columns[Dt.ANNOTATION]={name:"Annotation",render:function(t){return it.a.renderFunction(t,{hotspotData:e.props.hotspotData,myCancerGenomeData:e.props.myCancerGenomeData,oncoKbData:e.props.oncoKbData,oncoKbEvidenceCache:e.props.oncoKbEvidenceCache,oncoKbCancerGenes:e.props.oncoKbCancerGenes,pubMedCache:e.props.pubMedCache,civicGenes:e.props.civicGenes,civicVariants:e.props.civicVariants,enableCivic:e.props.enableCivic,enableOncoKb:e.props.enableOncoKb,enableMyCancerGenome:e.props.enableMyCancerGenome,enableHotspot:e.props.enableHotspot,userEmailAddress:e.props.userEmailAddress,studyIdToStudy:e.props.studyIdToStudy})},download:function(t){return it.a.download(t,e.props.oncoKbCancerGenes,e.props.hotspotData,e.props.myCancerGenomeData,e.props.oncoKbData,e.props.civicGenes,e.props.civicVariants)},sortBy:function(t){return it.a.sortValue(t,e.props.oncoKbCancerGenes,e.props.hotspotData,e.props.myCancerGenomeData,e.props.oncoKbData,e.props.civicGenes,e.props.civicVariants)}},this._columns[Dt.CANCER_TYPE]={name:"Cancer Type",render:function(t){return $e.a.render(t,e.props.uniqueSampleKeyToTumorType)},download:function(t){return $e.a.download(t,e.props.uniqueSampleKeyToTumorType)},sortBy:function(t){return $e.a.sortBy(t,e.props.uniqueSampleKeyToTumorType)},filter:function(t,n,r){return $e.a.filter(t,r,e.props.uniqueSampleKeyToTumorType)},tooltip:r.createElement("span",null,"Cancer Type")},this._columns[Dt.NUM_MUTATIONS]={name:"# Mut in Sample",render:Xe.makeRenderFunction(this),headerRender:function(e){return r.createElement("span",{style:{display:"inline-block",maxWidth:55}},e)},sortBy:function(t){return Xe.sortBy(t,e.props.mutationCountCache)},download:function(t){return Xe.download(t,e.props.mutationCountCache)},tooltip:r.createElement("span",null,"Total number of nonsynonymous mutations in the sample"),align:"right"},this._columns[Dt.EXON]={name:"Exon",render:function(t){return e.props.genomeNexusCache?ut.a.renderFunction(t,e.props.genomeNexusCache):r.createElement("span",null)},download:function(t){return ut.a.download(t,e.props.genomeNexusCache)},sortBy:function(t){return ut.a.getSortValue(t,e.props.genomeNexusCache)},visible:!1,align:"right"},this._columns[Dt.HGVSC]={name:"HGVSc",render:function(t){return e.props.genomeNexusCache?ct.renderFunction(t,e.props.genomeNexusCache):r.createElement("span",null)},download:function(t){return ct.download(t,e.props.genomeNexusCache)},sortBy:function(t){return ct.getSortValue(t,e.props.genomeNexusCache)},visible:!1,align:"right"},this._columns[Dt.GNOMAD]={name:"gnomAD",render:function(t){return Ct.renderFunction(t,e.props.genomeNexusMyVariantInfoCache)},sortBy:function(t){return Ct.getSortValue(t,e.props.genomeNexusMyVariantInfoCache)},download:function(t){return Ct.download(t,e.props.genomeNexusMyVariantInfoCache)},tooltip:r.createElement("span",null,r.createElement("a",{href:"https://gnomad.broadinstitute.org/"},"gnomAD")," population allele frequencies. Overall population allele frequency is shown. Hover over a frequency to see the frequency for each specific population."),defaultSortDirection:"desc",visible:!1,align:"right"},this._columns[Dt.CLINVAR]={name:"ClinVar ID",render:function(t){return At.renderFunction(t,e.props.genomeNexusMyVariantInfoCache)},sortBy:function(t){return At.getSortValue(t,e.props.genomeNexusMyVariantInfoCache)},download:function(t){return At.download(t,e.props.genomeNexusMyVariantInfoCache)},tooltip:r.createElement("span",null,r.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/clinvar/",target:"_blank"},"ClinVar"),"aggregates information about genomic variation and its relationship to human health."),defaultSortDirection:"desc",visible:!1,align:"right"},this._columns[Dt.DBSNP]={name:"dbSNP",render:function(t){return Pt.renderFunction(t,e.props.genomeNexusMyVariantInfoCache)},sortBy:function(t){return Pt.getSortValue(t,e.props.genomeNexusMyVariantInfoCache)},download:function(t){return Pt.download(t,e.props.genomeNexusMyVariantInfoCache)},tooltip:r.createElement("span",{style:{maxWidth:370,display:"block",textAlign:"left"}},"The Single Nucleotide Polymorphism Database (",r.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/snp/",target:"_blank"},"dbSNP"),") is a free public archive for genetic variation within and across different species.",r.createElement("br",null),"NOTE: Currently only SNPs, single base deletions and insertions are supported."),defaultSortDirection:"desc",visible:!1,align:"right"}}},{key:"render",value:function(){return r.createElement(xt,{columns:this.columns,data:this.props.data,dataStore:this.props.dataStore,downloadDataFetcher:this.props.downloadDataFetcher,initialItemsPerPage:this.props.initialItemsPerPage,initialSortColumn:this.props.initialSortColumn,initialSortDirection:this.props.initialSortDirection,itemsLabel:this.props.itemsLabel,itemsLabelPlural:this.props.itemsLabelPlural,paginationProps:this.props.paginationProps,showCountHeader:this.props.showCountHeader,columnVisibility:this.props.columnVisibility,columnVisibilityProps:this.props.columnVisibilityProps})}},{key:"orderedColumns",get:function(){var e=this,t=this.props.columns||[];return i.sortBy(t,function(t){var n=-1;return e._columns[t]&&e._columns[t].order&&(n=e._columns[t].order),n})}},{key:"columns",get:function(){var e=this;return this.orderedColumns.reduce(function(t,n){var r=e._columns[n];return!r||r.shouldExclude&&r.shouldExclude()||t.push(r),t},[])}}])&&kt(n.prototype,o),a&&kt(n,a),t}();Bt.defaultProps={initialItemsPerPage:25,showCountHeader:!0,paginationProps:{itemsPerPageOptions:[25,50,100]},initialSortColumn:"Annotation",initialSortDirection:"desc",itemsLabel:"Mutation",itemsLabelPlural:"Mutations",enableOncoKb:!0,enableMyCancerGenome:!0,enableHotspot:!0,enableCivic:!1},Gt([a.observable],Bt.prototype,"_columns",void 0),Gt([a.computed],Bt.prototype,"orderedColumns",null),Gt([a.computed],Bt.prototype,"columns",null),Bt=Gt([o.observer],Bt);t.b=Bt},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(16),a=n(67);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p={marginTop:0},d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,c(t).apply(this,arguments))}var n,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["Component"]),n=t,(i=[{key:"render",value:function(){return r.createElement(o.If,{condition:this.props.isHidden},r.createElement(o.Else,null,r.createElement("h2",{style:this.props.style||p,className:this.props.className||""},this.props.title,r.createElement(a.a,{isLoading:this.props.isLoading,small:!0}))))}}])&&u(n.prototype,i),d&&u(n,d),t}()},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(901),o=n.n(r),a=n(5),i=n(7);function u(e,t,n,r){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.dependencyPromise=t.dependencyPromise||function(e){if(e.pathsToJs){var t=[];return e.pathsToJs.forEach(function(e){var n=new Promise(function(t,n){o()(e,function(e){e?n(e):t()})});t.push(n)}),Promise.all(t)}}(t);t.dependencyPromise.then(function(){!function(t){Object(a.a)()[t.mountCallbackName]?Object(a.a)()[t.mountCallbackName](e,t,n,r,i.autorun,u):alert("Callback for tab ".concat(t.title," not found"))}(t)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var r=n(0),o=n(46),a=n(9),i=n(1076);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d="GRCh37",f=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),c(this,s(n).apply(this,arguments))}var u,f,m;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,r["Component"]),u=n,(f=[{key:"componentDidMount",value:function(){var t=this,n=a.keyBy(this.props.samples.filter(function(e){return e.copyNumberSegmentPresent}),function(e){return e.sampleId}),r=a.keyBy(this.props.samples.filter(function(e){return e.sequenced}),function(e){return e.sampleId}),u=i.a(Object.keys(n).length+Object.keys(r).length,this.props.width),l=0,c=i.b(document.getElementsByClassName("genomicOverviewTracksContainer")[0],u),s=d;this.props.mutations&&this.props.mutations.length>0&&(s=this.props.mutations[0].ncbiBuild);var p=i.c(s);i.d(c,u,p),a.each(this.props.sampleManager.samples,function(r){if(n[r.id]){var s=[],d=a.filter(t.props.cnaSegments,function(e){return e.sampleId===r.id});if(a.each(d,function(e){var t=[];t.push(e.sampleId),t.push(e.chromosome),t.push(e.end),t.push(e.start),t.push(e.numberOfProbes),t.push(e.segmentMean),s.push(t)}),i.e(c,u,p,l,s,1,3,2,5,r.id),l+=1,t.props.sampleManager.samples.length>1){var f=e('[id="cnaTrack'.concat(r.id,'"]')),m={x:parseInt(f.attr("x"))-10,y:parseInt(f.attr("y"))-5},h=e('<svg height="12" width="12" />').attr(m);f.replaceWith(h);var y=t.props.sampleManager.getComponentForSample(r.id);o.render(y,h[0])}}}),a.each(this.props.sampleManager.samples,function(n){if(r[n.id]){var s=a.filter(t.props.mutations,function(e){return e.sampleId===n.id});if(i.f(c,u,p,l,s,n.id),l+=1,t.props.sampleManager.samples.length>1){var d="mutTrack".concat(n.id),f=e('[id="'.concat(d,'"]')),m={x:parseInt(f.attr("x"))-10,y:parseInt(f.attr("y"))-5},h=e('<svg id="'.concat(d,'" height="12" width="12" />'));h.attr(m),f.replaceWith(h);var y=t.props.sampleManager.getComponentForSample(n.id);o.render(y,h[0])}}})}},{key:"render",value:function(){return r.createElement("div",{className:"genomicOverviewTracksContainer"})}}])&&l(u.prototype,f),m&&l(u,m),n}()}).call(this,n(10))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return v});var r=n(1077),o=n.n(r),a=n(10),i=n.n(a),u=n(9),l=(n(1026),n(1027),n(1025)),c=n(1078);function s(e,t){var n={};return n.nRows=e,n.canvasWidth=t,n.wideLeftText=25,n.wideRightText=35,n.GenomeWidth=n.canvasWidth-n.wideLeftText-n.wideRightText,n.pixelsPerBinMut=3,n.rowHeight=20,n.rowMargin=5,n.ticHeight=10,n.cnTh=[.2,1.5],n.cnLengthTh=5e4,n.getCnColor=function(e){if(e>=n.cnTh[1])return"#f00";if(e<=-n.cnTh[1])return"#00f";var t=Math.round(255*(n.cnTh[1]-Math.abs(e))/(n.cnTh[1]-n.cnTh[0]));return e<0?"rgb("+t+","+t+",255)":"rgb(255,"+t+","+t+")"},n.canvasHeight=function(){return 2*n.rowMargin+n.ticHeight+n.nRows*(n.rowHeight+n.rowMargin)},n.yRow=function(e){return 2*n.rowMargin+n.ticHeight+e*(n.rowHeight+n.rowMargin)},n.xRightText=function(){return n.wideLeftText+n.GenomeWidth+5},n}function p(e,t){return o()(e,t.canvasWidth,t.canvasHeight())}var d=new Map([["hg19","GRCh37"],["37","GRCh37"],["hg38","GRCh38"],["38","GRCh38"],["mm10","GRCm38"]]),f=c.reduce(function(e,t){return e[t.genomeBuild]=t.chromosomeSize||[],e},{});function m(e){var t={genomeRef:{},total:0},n=d.get(e);n&&""!==n||(n=l.a);var r=f[e];return r&&(t.genomeRef=r,t.total=u.sum(r)),t.perc=function(e,t){for(var n=[0],r=1;r<e.length;r++)n.push(n[r-1]+e[r]/t);return n}(t.genomeRef,t.total),t.loc2perc=function(e,n){return t.perc[e-1]+n/t.total},t.loc2xpixil=function(e,n,r){return t.loc2perc(e,n)*r.GenomeWidth+r.wideLeftText},t.perc2loc=function(e,n){var r;if(n){for(o=n;o<t.genomeRef.length&&!(e<=t.perc[o]);o++);r=o}else{for(var o,a=1,i=t.genomeRef.length-1;a<=i;)o=Math.floor((a+i)/2),t.perc[o]>=e?i=o-1:a=o+1;r=a}return[r,Math.round(t.total*(e-t.perc[r-1]))]},t.xpixil2loc=function(e,n,r){var o=(n-e.wideLeftText)/e.GenomeWidth;return t.perc2loc(o,r)},t.middle=function(e,n){var r=t.genomeRef[e]/2;return t.loc2xpixil(e,r,n)},t.chmName=function(e){return 23===e?"X":24===e?"Y":e},t}function h(e,t,n){var r=t.rowMargin+t.ticHeight;y(t.wideLeftText,r,t.wideLeftText+t.GenomeWidth,r,e,"#000",1);for(var o=1;o<n.genomeRef.length;o++){var a=n.loc2xpixil(o,0,t);y(a,r,a,t.rowMargin,e,"#000",1);var i=n.middle(o,t);e.text(i,r-t.rowMargin,n.chmName(o))}y(t.wideLeftText+t.GenomeWidth,r,t.wideLeftText+t.GenomeWidth,t.rowMargin,e,"#000",1)}function y(e,t,n,r,o,a,i){var u="M"+e+" "+t+" L"+n+" "+r,l=o.path(u);return l.attr("stroke",a),l.attr("stroke-width",i),l.attr("opacity",.5),l.translate(.5,.5),l}function g(e,t){return"chr"+t.chmName(e[0])+":"+function(e){var t=e.toString(),n=/(\d+)(\d{3})/;for(;n.test(t);)t=t.replace(n,"$1,$2");return t}(e[1])}function b(e,t,n,r,o,a,l,c,s,p){var d=t.yRow(r),f=0,m=0;if(u.each(o,function(r){var o=C(r[a]);if(!(null==o||o[0]>=n.genomeRef.length)){var i=r[l],u=r[c],p=r[s];if(f+=u-i,!(Math.abs(p)<t.cnTh[0]||u-i<t.cnLengthTh)){m+=u-i;var h=n.loc2xpixil(o,i,t),y=n.loc2xpixil(o,u,t),b=e.rect(h,d,y-h,t.rowHeight),v=t.getCnColor(p);b.attr("fill",v),b.attr("stroke",v),b.attr("stroke-width",1),b.attr("opacity",.5),b.translate(.5,.5);var T="Mean copy number log2 value: "+p+"<br/>from "+g([o,i],n)+"<br/>to "+g([o,u],n);S(b.node,T,"","")}}}),null!=p){var h="CNA";(y=e.text(12,d+t.rowHeight/2,h).attr({"text-anchor":"center",fill:"black"})).node.setAttribute("id","cnaTrack"+p)}else e.text(0,d+t.rowHeight/2,"CNA").attr({"text-anchor":"start"});h=0===f?"N/A":(100*m/f).toFixed(1)+"%";var y,b=0===f?"Copy number segment data not available":"Percentage of copy number altered chromosome regions (mean copy number log value >0.2 or <-0.2) out of measured regions.";T(y=e.text(t.xRightText(),d+t.rowHeight/2,h).attr({"text-anchor":"start","font-weight":"bold"}),e),S(y.node,b,null,{my:"top right",at:"bottom left",viewport:i()(window)})}function v(e,t,n,r,o,a){for(var l=u.filter(o,function(e){return e.sampleId===a}),c=[],s=0;s<l.length;s++){var p=l[s];if(void 0!==p.chr){var d=C(p.chr);if(null!=d&&d<=n.genomeRef.length){var f=Math.round(n.loc2xpixil(d,(p.startPosition+p.endPosition)/2,t)),m=f-f%t.pixelsPerBinMut;null==c[m]&&(c[m]=[]),c[m].push(p.gene.hugoGeneSymbol+": "+p.proteinChange),0}}}var h=t.yRow(r)+t.rowHeight;if(i.a.each(c,function(n,r){var o=n;if(r){var a=r.length>5?t.rowHeight:t.rowHeight*r.length/5,i=e.rect(o,h-a,t.pixelsPerBinMut,a);i.attr("fill","#0f0"),i.attr("stroke","#0f0"),i.attr("stroke-width",1),i.attr("opacity",.5),i.translate(.5,.5),S(i.node,r.join("</br>"),100,"")}}),null!==a){var y;(y=e.text(12,h-t.rowHeight/2,"MUT").attr({"text-anchor":"center",fill:"black"})).node.setAttribute("id","mutTrack"+a)}else e.text(0,h-t.rowHeight/2,"MUT").attr({"text-anchor":"start"});T(y=e.text(t.xRightText(),h-t.rowHeight/2,o.length).attr({"text-anchor":"start","font-weight":"bold"}),e);S(y.node,"Number of mutation events.",null,{my:"top right",at:"bottom left"})}function S(e,t,n,r){var o={content:{text:t},show:{event:"mouseover"},hide:{fixed:!0,delay:100,event:"mouseout"},style:{classes:"qtip-light qtip-rounded"},position:{my:"bottom right",at:"top left"}};i()(e).qtip(o)}function T(e,t){var n=e.getBBox();return t.path("M"+n.x+" "+(n.y+n.height)+"L"+(n.x+n.width)+" "+(n.y+n.height))}function C(e){return 0===e.toLowerCase().indexOf("chr")&&(e=e.substring(3)),"X"!==e&&"x"!==e||(e=23),"Y"!==e&&"y"!==e||(e=24),isNaN(e)||e<1||e>24?null:parseInt(e)}},function(e,t,n){e.exports=n(24)(1034)},function(e){e.exports=[{genomeBuild:"GRCh37",chromosomeSize:[0,249250621,243199373,198022430,191154276,180915260,171115067,159138663,146364022,141213431,135534747,135006516,133851895,115169878,107349540,102531392,90354753,81195210,78077248,59128983,63025520,48129895,51304566,155270560,59373566]},{genomeBuild:"GRCh38",chromosomeSize:[0,248956422,242193529,198295559,190214555,181538259,170805979,159345973,145138636,138394717,133797422,135086622,133275309,114364328,107043718,101991189,90338345,83257441,80373285,58617616,64444167,46709983,50818468,156040895,57227415]},{genomeBuild:"GRCm38",chromosomeSize:[195471971,182113224,160039680,156508116,151834684,149736546,145441459,129401213,124595110,130694993,122082543,120129022,120421639,124902244,104043685,98207768,94987271,90702639,61431566,171031299,91744698]}]},,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r,o=n(620),a={process_data:r=function(e,t,n){if(_.find(e,function(e){return void 0!==e[n]}))return o.zip(e,t).map(function(e){return void 0===e[0][n]===e[1][n]?0:e[0][n]/(e[0][n]+e[1][n])})},extract_and_process:function(e,t){var n=e.mutations.data["alt-count"],o=e.mutations.data["ref-count"];return r(n,o,t)},kernelDensityEstimator:function(e,t){return function(n){return t.map(function(t){return[t,o.mean(n,function(n){return e(t-n)})]})}},gaussianKernel:function(e){return function(t){return 1/(e*Math.sqrt(2*Math.PI))*Math.exp(-1*Math.pow(t-0,2)/(2*Math.pow(e,2)))}},calculate_bandwidth:function(e){var t=o.mean(e),n=o.mean(e.map(function(e){return Math.pow(e-t,2)}));return 1.06*Math.pow(n,.5)*Math.pow(e.length,-.2)}},i=function(t,n,r,i,u,l){var c=t.div,s={};if(i||(i={}),0===Object.keys(i).length){var p=0;for(var d in n)n.hasOwnProperty(d)&&(i[d]=p,p+=1)}for(var d in u=e.extend(!0,{},u),n)if(n.hasOwnProperty(d)){for(var f=o.rgb(u[d]||"rgb(0,0,0)");f.toString()in s&&(0!==f.r||0!==f.g||0!==f.b);)f=f.darker(.4);var m=f.toString();s[m]=!0,u[d]={stroke:m,fill:m}}var h=0===(r=r||{label_font_size:"11.5px",xticks:3,yticks:8,nolegend:!1}).xticks?13:30;r.margin=r.margin||{};var y=e.extend({top:20,right:30,bottom:30+h/2,left:50},r.margin),g=r.width||200,b=r.height||(500+h)/2-y.top-y.bottom,v=o.scale.linear().domain([-.1,1]).range([0,g]),S=o.svg.axis().scale(v).orient("bottom").ticks(r.xticks),T=a,C={},I={},A={};for(var d in n)n.hasOwnProperty(d)&&(C[d]=Math.max(T.calculate_bandwidth(n[d]),.01),I[d]=T.kernelDensityEstimator(T.gaussianKernel(C[d]),v.ticks(100)),A[d]=I[d](n[d]));var E=o.layout.histogram().frequency(!1).bins(v.ticks(30)),P={};for(var d in n)n.hasOwnProperty(d)&&(P[d]=E(n[d]));var k=[];for(var d in A)A.hasOwnProperty(d)&&(k=k.concat(A[d]));var _=k.map(function(e){return e[1]}),w=[o.min(_),o.max(_)],O=o.scale.linear().domain(w).range([b,0]),M=o.svg.line().x(function(e){return v(e[0])}).y(function(e){return O(e[1])}),R=o.select(c).append("svg").attr("width",g+y.left+(0===r.yticks?0:y.right)+(r.nolegend?0:100)).attr("height",b+y.top+y.bottom).append("g").attr("transform","translate("+(0===r.yticks?y.left/2:y.left)+","+y.top+")"),N=R.append("g").attr("transform","translate(0,"+b+")").call(S),D=function(e){return e.attr("fill","none").attr("stroke","#000").attr("shape-rendering","crispEdges")};D(N.selectAll("path")),D(N.selectAll("line")),N.append("text").attr("x",g/2).attr("y",h).attr("font-size",r.label_font_size).style("text-anchor","middle").style("font-style","italic").text("variant allele frequency");var G=[];for(var d in P)P.hasOwnProperty(d)&&(G=G.concat(P[d]));var x,L=G.map(function(e){return e.length}),j=[0,o.max(L)],F=o.svg.axis().scale(O.copy().domain(j)).orient("left").ticks(r.yticks),B=R.append("g").call(F),H=h;H+=0===r.yticks?0:((x=(""+j[1]).split("").length)>=4&&(x+=1.5),7*x/3),B.append("text").attr("transform","rotate(-90)").attr("x",-b/2).attr("y",-H).attr("font-size",r.label_font_size).style("text-anchor","middle").style("font-style","italic").text("mutation count"),D(B.selectAll("path")).attr("display",0===r.yticks?"":"none"),D(B.selectAll("line"));var K=G.map(function(e){return e.y}),V=[o.min(K),o.max(K)],q=O.copy();for(var d in q.domain(V),P)P.hasOwnProperty(d)&&R.selectAll(".bar").data(P[d]).enter().insert("rect").attr("x",function(e){return v(e.x)+1}).attr("y",function(e){return q(e.y)}).attr("class",i[d]+"_viz_hist viz_hist").attr("width",v(P[d][0].dx+P[d][0].x)-v(P[d][0].x)-1).attr("height",function(e){return b-q(e.y)}).attr("fill",u[d].fill).attr("opacity",Object.keys(n).length>1?"0.1":"0.3");for(var d in A)A.hasOwnProperty(d)&&R.append("path").datum(A[d]).attr("d",M).attr("class","curve "+i[d]+"_viz_curve viz_curve").attr("fill","none").attr("stroke",u[d].stroke).attr("stroke-width","1.5px").attr("opacity","0.9").attr("data-legend",function(){return d}).attr("data-legend-pos",function(){return i[d]});if(!r.nolegend&&Object.keys(n).length>1){var U=R.append("g").attr("class","legend").attr("transform","translate("+(g+25)+",0)").style("font-size","13px");o.legend(t,U,13,l,i)}return c};o.legend=function(t,n,r,a,i){return n.each(function(){var n=o.select(this),u={},l=o.select(n.property("nearestViewportElement")),c=n.attr("data-style-padding")||5,s=n.selectAll(".legend-box").data([!0]),p=n.selectAll(".legend-items").data([!0]);p.enter().append("g").classed("legend-items",!0),l.selectAll("[data-legend]").each(function(){var e=o.select(this);u[e.attr("data-legend")]={pos:e.attr("data-legend-pos")||this.getBBox().y,color:null!=e.attr("data-legend-color")?e.attr("data-legend-color"):"none"!=e.style("fill")?e.style("fill"):e.style("stroke")}}),u=o.entries(u).sort(function(e,t){return e.value.pos-t.value.pos});p.selectAll("text").data(u,function(e){return e.key}).call(function(e){e.enter().append("text")}).call(function(e){e.exit().remove()}).attr("y",function(e,t){return t-.1+.4*t+"em"}).attr("x","1em").text(function(e){var t=e.key;return t.length>10?t.substring(0,4)+"..."+t.slice(-3):t}),p.selectAll("circle").data(u,function(e){return e.key}).call(function(e){e.enter().append("circle")}).call(function(e){e.exit().remove()}).attr("cy",function(e,t){return t-.5+.4*t+"em"}).attr("cx",0).attr("r","0.5em").style("fill",function(e){return e.value.color});for(var d=0,f=Object.keys(u);d<f.length;d++)p.append("text").attr("x",0).attr("y",(d-.5+.4*d)*r).attr("fill","white").attr("font-size","10").attr("dy","0.34em").attr("text-anchor","middle").text(a[u[f[d]].key]);p.selectAll("rect").data(u,function(e){return e.key}).call(function(e){e.enter().append("rect")}).call(function(e){e.exit().remove()}).attr("id",function(e){return e.key+"legend_hover_rect"}).attr("y",function(e,t){return t-1+.4*t-.2+"em"}).attr("x","-0.8em").attr("width",function(e){return"110px"}).attr("height","1.4em").style("fill",function(e){return e.value.color}).attr("opacity","0").on("mouseover",Object.keys(u).length>1?function(n){e(this).attr("opacity","0.2"),function(t,n,r,o,a){e(t).find(".viz_hist").hide(),e(t).find(".viz_curve").hide(),o&&(e(t).find("."+r[n]+"_viz_hist").show(),e(t).find("."+r[n]+"_viz_hist").attr("opacity","0.5")),a&&e(t).find("."+r[n]+"_viz_curve").show()}(t.div,n.key,i,t.state.show_histogram,t.state.show_curve)}:function(e){}).on("mouseout",function(t){e(this).attr("opacity","0")});for(d=0;d<u.length;d++){var m=u[d].key;m.length>10&&(e("#"+m+"legend_hover_rect").attr("title",m),e("#"+m+"legend_hover_rect").qtip({content:{attr:"title"},style:{classes:"qtip-light qtip-rounded"},position:{my:"center left",at:"center right",viewport:e(window)}}))}p.on("mouseout",Object.keys(u).length>1?function(){var n,r,o;n=t.div,r=t.state.show_histogram,o=t.state.show_curve,r&&(e(n).find(".viz_hist").show(),e(n).find(".viz_hist").attr("opacity","0.1")),o&&e(n).find(".viz_curve").show()}:function(){});var h=p[0][0].getBBox();s.attr("x",h.x-c).attr("y",h.y-c).attr("height",h.height+2*c).attr("width",h.width+2*c)}),n}}).call(this,n(10))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={portalWidth:"patientTable-module__portalWidth__10-JD",framedImage:"patientTable-module__framedImage__95IdD",patientTable:"patientTable-module__patientTable__2vI5g"}},function(e,t,n){e.exports={sampleColorPrimary:"black",sampleColorRecurrence:"orange",sampleColorMetastasis:"red",sampleColorCfdna:"blue",sampleColorXenograft:"pink"}},function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1zg2N",framedImage:"styles-module__framedImage__2xLcm"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEoAAABCCAYAAADwg0AcAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAABgJJREFUeJztnGtsFFUUx1sqQhAD2Igi+E4xRlHRSDTVmKgYNX4iMeonY3xFpRRKAQsq1SKUVqEKviUEWoxAqmAqpWWlFBBLpbZUAYu47+223d3u+707x3Pubqft7uyjwdDp9t7k30d2zsw9v3vuuWfv7E5WllR7Q5WDWoiqR5lQAgoyWFbUMdQLqEmSTCQg3YOqQ4Vk4MBoqAX1WCpIs1FtMujsaEuLmp8IEk23Whl0Ui5qR02VArUoK/Nz0UhVKgVKkcowd7kKWlVe+F3tG9MiH2auUMLExSlBqaVAWZIZfdZkhjaNFwQBxnwjHzp0XvjhDxvMXatLBkqQApVw2l1ZqIRT6ggkAX9kgqjprQHI/8gA2W8miSoJUAkPpnCNjIQw2jnjf9MAMGWfD65dpeWgkoGKRFUQZr3NQaUEZbBxUBwUB8VByU8cFAfFQXFQchYHxUFxUByUnMVBcVAc1NgERUYEphtPkPeejm2TJgP1/Ld9oDQFxf3oUBjA5gmDtj8Ip/V+UPzthWV7LXBFoRomDNlynYL/F+y2sGMHWjAsgMUVBqU5CB06P9Sf8cBStL0O+5Qdc90Xd5ggtpHvLr8A53sDUNPqhAXlBpi4WJ0S1OwSLfOVfHZ4QzCvTJ8aFHXqlMbPTqLvD4jg0gWVqLWj4w9UdMNlbyUGJdX8IQGaurxw0zu6YaClQMU2lSXIBim3WJMU1H0bDMxXak5fGEEZRgbKEN0mTRcUOb16vxUK9ligrN4KR857od89COLEv74ILBzlWFAYTPDaLjMUomMVh+xw/IIXeh0hFqEEq+GsB255dxDWUFBWvAY5+yCe++VqExz4y8NsiEUQfz9aZUwJiny9ZKC67aFhzkxdqoGKRhsEQpFOObxh2HDQxjbzY0HRtBt63unLNVB2wApGPKcQHQQ6nqZwLCiTMyTaTSpQw1Nbe8HsGhwgOlbWoEjkmMoced0fFEBxzgu3lepTgiLdjOeiaUdR4UPbPW0uuCo6jaRAZUev93QMqNe/M8sfFC0G359yidPrrDEAd39oSAtUbrEWvj7uBDtGYhAPa1H5YOZKbRwoiyvE+n3jGh08uaUHdrW6GFi6nicgwMJPeuQPilR12B6xh0iCnb8+PVDTizSwsdHOooOc/tMQgGtWxYOi17ptISaTM8zgECg6fvMvdpizOv5usOxA0d/7TrvZ65SYqWSYty49UBQ92084WW6j6Xf0Hy9cvSIxKANKg2UJRe1BLC1e2mmCOSU6XGnjSwRZgcrBUuCOD/RslKl5sMapPuliS30qUFRGPPSxEdq0fgaY6qNNCjtMK4rPUU6fwFbMV2vM8Ow3fWwgLi+Qrp9kAYqWc1r+r8dQp0ScX2nEgtMjOkSF5KKvehmkWFAEg65NEXAr2j6yyQg/drgZBIqYLiwiF2zsFqMj0aqXrkYVFDlVddgB5Q02VhlbXMOLyd24alHEkZ1UHVVaZ4XKQzaobXezBB6KmrsxmrYecYjRJDtQ9DZkpJU5XZ/qJnLOgoUg5Q7KGZTQqSzISVKZEywqIQg4QaacQxV9eYOd5avsBJX5xYK6F0GRryMCNQtXlWasqDsNftiLEUDlfzJQT3zaA/sxWRNc0m9KH3uPVt3ihPX1NpY75q7Vx9lNXqKG5xAyVe8DtlS5/9Tphm2/OmEd2r5SbYbb35fON8983ivaKc55LgrUnQiGfCWfaWApr6YENQMr4pW1FnGKkMbL7gH5vFlhYzk2JSgpjRdQkuKgOCgOioPioOQrDoqD4qA4KDmLg+KgOCgOSs7ioDgoDipzQG1psrHNfmq0BZsJokY3Ses63eJt+nRBhRMdPGWJCto0kajKpEafh8qvHPlXZXuTRVXJPgvsbLGLITuWG/lQc9IOlY1WuGFN0i9fh6VA/ZxqXk9bpoQvmu3w5THHmBb5MKNIKX6oLYm6pEA9njV+n8eSSMVSoLJR22TQObnoKGpyPKgIrFxUsww6Odo6g8qThjQIKw+1A+WTQYcvtSj10DOz7k8OaTiwu6LAiC49iMqZobKjLmRFnnT0MGqCFI7/AKBNHdZf2IG3AAAAAElFTkSuQmCC"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={portalWidth:"sampleTable-module__portalWidth__2sn4E",framedImage:"sampleTable-module__framedImage__2E0br",sampleTable:"sampleTable-module__sampleTable__37lEE"}},,function(e,t,n){e.exports=n(24)(1033)},,function(e,t,n){},,function(e,t,n){},function(e,t,n){e.exports={portalWidth:"trialMatch-module__portalWidth__3OMBJ",framedImage:"trialMatch-module__framedImage__llM-4",armDiv:"trialMatch-module__armDiv__8Ikbp",criteriaHr:"trialMatch-module__criteriaHr__33xV1",alterationUl:"trialMatch-module__alterationUl__15PAE",genomicSpan:"trialMatch-module__genomicSpan__1MdPT",tooltip:"trialMatch-module__tooltip__3TLty",criteriaContainer:"trialMatch-module__criteriaContainer__10CIJ",firstLeft:"trialMatch-module__firstLeft__3xi9Y",firstRight:"trialMatch-module__firstRight__x9eHB",secondLeft:"trialMatch-module__secondLeft__3fgcR",secondRight:"trialMatch-module__secondRight__Yz5Ho",powered:"trialMatch-module__powered__1pOTQ"}}])]);