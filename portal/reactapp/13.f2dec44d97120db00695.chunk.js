(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1000:function(e,t,n){"use strict";var r=n(852);t.__esModule=!0,t.default=function(e,t){var n=(0,a.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,o.default)(e).height};var o=r(n(853)),a=r(n(1001));e.exports=t.default},1001:function(e,t,n){e.exports=n(35)(247)},1002:function(e,t,n){e.exports=n(35)(767)},1003:function(e,t,n){e.exports=n(35)(486)},1004:function(e,t,n){e.exports=n(35)(115)},1005:function(e,t,n){"use strict";var r=n(852);t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e);return t&&t.defaultView||t.parentWindow};var o=r(n(1006));e.exports=t.default},1006:function(e,t,n){e.exports=n(35)(154)},1007:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(853)),a=h(n(892)),i=h(n(4)),l=h(n(1008)),s=h(n(0)),c=h(n(891)),u=h(n(893)),p=h(n(1009)),d=h(n(894)),f=h(n(895)),m=h(n(896));function h(e){return e&&e.__esModule?e:{default:e}}var C=r({},c.default.propTypes,{container:i.default.oneOfType([l.default,i.default.func]),autoWidth:i.default.bool}),b=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.onWindowScroll=function(){i.onUpdate()},i.onWindowResize=function(){i.props.autoWidth&&(0,a.default)(function(){return i.onUpdate()})},i.onDocumentClick=function(){(0,a.default)(function(){return i.onUpdate()})},i.onUpdate=function(){if(i._isMounted){var e=(0,o.default)(i.positioner),t=e.top,n=e.width,r=(0,p.default)(i.props.container),a=void 0;if(r){var l=(0,d.default)((0,f.default)(i)),s=(0,o.default)(r);a=l-s.top-s.height}else a=null;i.updateState(t,a,n)}},i.updateState=function(e,t,n){e===i.state.offsetTop&&t===i.state.offsetBottom&&n===i.state.width||i.setState({offsetTop:e,offsetBottom:t,width:n})},i.state={offsetTop:null,offsetBottom:null,width:null},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,u.default)((0,m.default)(this),"scroll",function(){return e.onWindowScroll()}),this._windowResizeListener=(0,u.default)((0,m.default)(this),"resize",function(){return e.onWindowResize()}),this._documentClickListener=(0,u.default)((0,f.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},t.prototype.render=function(){var e=this,t=this.props,n=t.autoWidth,o=t.viewportOffsetTop,a=t.children,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["autoWidth","viewportOffsetTop","children"]),l=this.state,u=l.offsetTop,p=l.offsetBottom,d=l.width;delete i.container;var f=Math.max(u,o||0),m=this.props,h=m.affixStyle,C=m.bottomStyle;return n&&(h=r({width:d},h),C=r({width:d},C)),s.default.createElement("div",null,s.default.createElement("div",{ref:function(t){e.positioner=t}}),s.default.createElement(c.default,r({},i,{offsetTop:f,viewportOffsetTop:o,offsetBottom:p,affixStyle:h,bottomStyle:C}),a))},t}(s.default.Component);b.displayName="AutoAffix",b.propTypes=C,b.defaultProps={viewportOffsetTop:0,autoWidth:!0},t.default=b,e.exports=t.default},1008:function(e,t,n){e.exports=n(35)(246)},1009:function(e,t,n){e.exports=n(35)(248)},1010:function(e,t,n){e.exports=n(35)(197)},1011:function(e,t,n){e.exports=n(35)(430)},1012:function(e,t,n){e.exports=n(35)(763)},1013:function(e,t,n){e.exports=n(35)(326)},1014:function(e,t,n){e.exports=n(35)(421)},1018:function(e,t,n){e.exports=n(35)(705)},1020:function(e,t,n){e.exports=n(35)(200)},1021:function(e,t,n){e.exports=n(35)(419)},1023:function(e,t,n){e.exports=n(35)(202)},1024:function(e,t,n){e.exports=n(35)(717)},1025:function(e,t,n){e.exports=n(35)(243)},1026:function(e,t,n){e.exports=n(35)(745)},1027:function(e,t,n){e.exports=n(35)(746)},1028:function(e,t,n){e.exports=n(35)(450)},1029:function(e,t,n){e.exports=n(35)(704)},1030:function(e,t,n){e.exports=n(35)(447)},1032:function(e,t,n){e.exports=n(35)(165)},1033:function(e,t,n){e.exports=n(35)(367)},1034:function(e,t,n){e.exports=n(35)(750)},1035:function(e,t,n){e.exports=n(35)(151)},1036:function(e,t,n){e.exports=n(35)(455)},1037:function(e,t,n){e.exports=n(35)(204)},1045:function(e,t,n){},1046:function(e,t,n){e.exports=n.p+"reactapp/images/ac30afc0653ff15c1ea9fd9cbae0414a.png"},1047:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxsaW5lIGZpbGw9Im5vbmUiIHgxPSI2Ljc5MiIgeTE9IjUuNjY3IiB4Mj0iNi43OTIiIHkyPSIxMi4xMjUiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMCw1IDAsMCA1LDAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjE0Ljk5OSwwIDIwLDAgMjAsNSAiLz4NCjxwb2x5Z29uIGZpbGw9IiMzMzMzMzMiIHBvaW50cz0iMjAsMTUgMjAsMjAgMTUsMjAgIi8+DQo8cG9seWdvbiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjUsMjAgMCwyMCAwLDE1ICIvPg0KPHJlY3QgeD0iMy43NSIgeT0iNC43MDgiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxMi41IiBoZWlnaHQ9IjEwLjU4MyIvPg0KPC9zdmc+DQo="},1048:function(e,t,n){},1163:function(e,t,n){"use strict";var r=n(0),o=n(9),a=n(17),i=n(871);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,c(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this;return r.createElement(a.Modal,{show:this.props.show,onHide:this.props.onHide,animation:!1},r.createElement(a.Modal.Header,{closeButton:!0},r.createElement(a.Modal.Title,null,"Open new tab to MD Anderson NG-CHM?")),r.createElement(a.Modal.Body,null,r.createElement("div",{className:"oncoprint__controls__heatmap_menu mdacc-modal"},r.createElement("p",null,"Continue will open a tab or window to a different site (not cBioPortal)."),r.createElement("p",null,"You will be able to view this study as Next Generation Clustered Heatmaps (NG-CHM) developed by The University of Texas MD Anderson Cancer Center."),r.createElement("em",null,"Note: NG-CHM will not be limited to your selected samples and genes."))),r.createElement(a.Modal.Footer,null,r.createElement(a.Button,{onClick:function(){e.props.openNgchmWindow(),e.props.onHide()}},"Continue"),r.createElement(a.Button,{onClick:this.props.onHide},"Cancel")))}}])&&l(n.prototype,o),i&&l(n,i),t}(),m=f=d([o.observer],f),h=n(175),C=n(2),b=n(1),T=n.n(b),y=n(72),A=n(3),v=n(332),E=n.n(v),S=(n(836),n(1045),n(5)),g=n.n(S),G=n(32),O=n(835),P=n(12),w=n(804);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var M=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":R(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),k(this,N(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return void 0===this.props.count?null:r.createElement("span",{className:"oncoprintDropdownCount"},this.props.count)}}])&&I(n.prototype,o),a&&I(n,a),t}(),j=D=M([o.observer],D),x=n(46),B=n(8),L=n(907),H=n(872),U=n(118),F=n(855);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q,Y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":K(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.CLINICAL="Clinical",e.GROUPS="Groups",e.CUSTOM_CHARTS="Custom Charts"}(q||(q={}));var Q=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=z(t).call(this,e),n=!a||"object"!==K(a)&&"function"!=typeof a?W(o):a,Object.defineProperty(W(n),"open",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(W(n),"tabId",{enumerable:!0,configurable:!0,writable:!0,value:q.CLINICAL}),Object.defineProperty(W(n),"options",{enumerable:!0,configurable:!0,writable:!0,value:Object(A.vb)({await:function(){return[n.props.clinicalTrackOptionsPromise]},invoke:function(){return Promise.resolve(b.mapValues(n.props.clinicalTrackOptionsPromise.result,function(e){return e.map(function(e){return Object.assign(Object.assign({},e),{selected:e.key in n.selectedClinicalAttributeIds})})}))}})}),Object.defineProperty(W(n),"addClinicalTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(U.a)({await:function(){return[n.options]},render:function(){return r.createElement(H.a,{options:n.options.result.clinical,freqPromise:n.props.clinicalAttributeIdToAvailableFrequencyPromise,onAddAll:n.addAll,onClearAll:n.clear,onToggleOption:n.toggleClinicalTrack,optionsGivenInSortedOrder:!0,width:n.props.width})},renderPending:function(){return r.createElement(y.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0})}),Object.defineProperty(W(n),"addGroupTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(U.a)({await:function(){return[n.options]},render:function(){return r.createElement(H.a,{options:n.options.result.groups,freqPromise:n.props.clinicalAttributeIdToAvailableFrequencyPromise,onAddAll:n.addAll,onClearAll:n.clear,onToggleOption:n.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group",width:n.props.width})},renderPending:function(){return r.createElement(y.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0})}),Object.defineProperty(W(n),"addChartTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(U.a)({await:function(){return[n.options]},render:function(){return r.createElement(H.a,{options:n.options.result.customCharts,freqPromise:n.props.clinicalAttributeIdToAvailableFrequencyPromise,onAddAll:n.addAll,onClearAll:n.clear,onToggleOption:n.toggleClinicalTrack,optionsGivenInSortedOrder:!0,frequencyHeaderTooltip:"% samples in group",width:n.props.width})},renderPending:function(){return r.createElement(y.a,{isLoading:!0,small:!0})},showLastRenderWhenPending:!0})}),Object(C.makeObservable)(W(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,r["Component"]),n=t,(a=[{key:"updateTabId",value:function(e){this.tabId=e}},{key:"addAll",value:function(e){this.props.onChangeSelectedClinicalTracks(b.union(this.props.getSelectedClinicalAttributeIds(),e))}},{key:"clear",value:function(e){this.props.onChangeSelectedClinicalTracks(b.difference(this.props.getSelectedClinicalAttributeIds(),e))}},{key:"toggleClinicalTrack",value:function(e){this.props.onChangeSelectedClinicalTracks(Object(F.b)(e,this.props.getSelectedClinicalAttributeIds()))}},{key:"getMenu",value:function(){return(this.options.isComplete?b.sum(b.map(this.options.result,function(e){return+(e.length>0)})):0)>1?r.createElement(w.b,{activeTabId:this.tabId,onTabClick:this.updateTabId,className:"secondaryNavigation oncoprintAddClinicalTracks"},r.createElement(w.a,{key:0,id:q.CLINICAL,linkText:q.CLINICAL,hide:!this.options.isComplete||0===this.options.result.clinical.length},this.addClinicalTracksMenu.component),r.createElement(w.a,{key:1,id:q.GROUPS,linkText:q.GROUPS,hide:!this.options.isComplete||0===this.options.result.groups.length},this.addGroupTracksMenu.component),r.createElement(w.a,{key:2,id:q.CUSTOM_CHARTS,linkText:q.CUSTOM_CHARTS,hide:!this.options.isComplete||0===this.options.result.customCharts.length},this.addChartTracksMenu.component)):r.createElement("div",{className:"oncoprintAddClinicalTracks"},this.addClinicalTracksMenu.component)}},{key:"render",value:function(){return r.createElement("div",null,r.createElement(o.Observer,null,this.getMenu))}},{key:"selectedClinicalAttributeIds",get:function(){return b.keyBy(this.props.getSelectedClinicalAttributeIds())}}])&&V(n.prototype,a),i&&V(n,i),t}();Y([C.observable],Q.prototype,"open",void 0),Y([C.observable],Q.prototype,"tabId",void 0),Y([C.action.bound],Q.prototype,"updateTabId",null),Y([C.action.bound],Q.prototype,"addAll",null),Y([C.action.bound],Q.prototype,"clear",null),Y([C.action.bound],Q.prototype,"toggleClinicalTrack",null),Y([C.computed],Q.prototype,"selectedClinicalAttributeIds",null),Y([P.default],Q.prototype,"getMenu",null);var X=Q=Y([o.observer],Q),J=n(39);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oe,ae=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":re(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.CLINICAL="Clinical",e.HEATMAP="Heatmap"}(oe||(oe={}));var ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=ee(t).call(this,e),n=!o||"object"!==re(o)&&"function"!=typeof o?te(r):o,Object.defineProperty(te(n),"tabId",{enumerable:!0,configurable:!0,writable:!0,value:oe.CLINICAL}),Object.defineProperty(te(n),"clinicalTrackOptions",{enumerable:!0,configurable:!0,writable:!0,value:Object(A.vb)({await:function(){return[n.props.store.clinicalAttributes,n.clinicalAttributeIdToAvailableFrequency,n.props.store.clinicalAttributes_customCharts]},invoke:function(){var e=b.uniqBy(n.props.store.clinicalAttributes.result,function(e){return e.clinicalAttributeId}),t=n.clinicalAttributeIdToAvailableFrequency.result,r={clinical:[],groups:[],customCharts:[]},o=b.keyBy(n.props.store.clinicalAttributes_customCharts.result,function(e){return e.clinicalAttributeId}),a=!0,i=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;Object(J.d)(u)?r.groups.push(u):u.clinicalAttributeId in o?r.customCharts.push(u):r.clinical.push(u)}}catch(e){i=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw l}}return r.clinical=b.sortBy(r.clinical,[function(e){return e.clinicalAttributeId===J.c.StudyOfOrigin?0:e.clinicalAttributeId===J.c.MutationSpectrum?1:Object(J.f)(e)?2:3},function(e){var n=t[e.clinicalAttributeId];return void 0===n&&(n=0),-n},function(e){return-e.priority},function(e){return e.displayName.toLowerCase()}]),r.groups=b.sortBy(r.groups,function(e){return e.displayName.toLowerCase()}),r.customCharts=b.sortBy(r.customCharts,function(e){return e.displayName.toLowerCase()}),Promise.resolve(b.mapValues(r,function(e){return e.map(function(e){return{label:e.displayName,key:e.clinicalAttributeId,selected:!1}})}))}})}),Object.defineProperty(te(n),"clinicalAttributeIdToAvailableFrequency",{enumerable:!0,configurable:!0,writable:!0,value:Object(A.vb)({await:function(){return[n.props.store.clinicalAttributeIdToAvailableSampleCount,n.props.store.samples]},invoke:function(){var e=n.props.store.samples.result.length;return Promise.resolve(b.mapValues(n.props.store.clinicalAttributeIdToAvailableSampleCount.result,function(t){return 100*t/e}))}})}),Object(C.makeObservable)(te(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,r["Component"]),n=t,(o=[{key:"updateTabId",value:function(e){this.tabId=e,Object.values(oe).includes(e)||this.isGenericAssayDataComplete&&this.profilesByGenericAssayType&&!b.isEmpty(this.profilesByGenericAssayType[e])&&this.props.handlers.onSelectGenericAssayProfile&&this.props.handlers.onSelectGenericAssayProfile(this.profilesByGenericAssayType[e][0].molecularProfileId)}},{key:"getSelectedClinicalAttributeIds",value:function(){return this.props.state.selectedClinicalAttributeIds}},{key:"onGenericAssaySubmit",value:function(e){this.props.handlers.onClickAddGenericAssays&&this.props.handlers.onClickAddGenericAssays(e)}},{key:"getTextPixel",value:function(e,t){return Math.floor(Object(A.mb)(e,"Helvetica Neue",t))}},{key:"render",value:function(){return r.createElement(i.a,{bsStyle:"default",title:"Add Tracks",id:"addTracksDropdown",className:"oncoprintAddTracksDropdown",styles:{minWidth:400,width:"auto"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement(w.b,{activeTabId:this.tabId,onTabClick:this.updateTabId,unmountOnHide:!1,className:"mainTabs oncoprintAddTracks"},r.createElement(w.a,{key:0,id:oe.CLINICAL,linkText:this.clinicalTabText,hide:!this.clinicalTracksMenu},this.clinicalTracksMenu),r.createElement(w.a,{key:1,id:oe.HEATMAP,linkText:this.heatmapTabText,hide:!this.props.heatmapMenu},this.props.heatmapMenu),this.genericAssayTabs)))}},{key:"isGenericAssayDataComplete",get:function(){return this.props.store&&this.props.store.genericAssayProfiles.isComplete}},{key:"showGenericAssayTabs",get:function(){return!!this.isGenericAssayDataComplete&&1==b.chain(this.props.store.genericAssayProfiles.result).map(function(e){return e.studyId}).uniq().size().value()}},{key:"profilesByGenericAssayType",get:function(){return this.isGenericAssayDataComplete?b.groupBy(this.props.store.genericAssayProfiles.result,function(e){return e.genericAssayType}):{}}},{key:"clinicalTracksMenu",get:function(){return this.props.store&&this.props.state.selectedClinicalAttributeIds&&this.props.handlers.onChangeSelectedClinicalTracks?r.createElement(X,{store:this.props.store,getSelectedClinicalAttributeIds:this.getSelectedClinicalAttributeIds,onChangeSelectedClinicalTracks:this.props.handlers.onChangeSelectedClinicalTracks,clinicalTrackOptionsPromise:this.clinicalTrackOptions,clinicalAttributeIdToAvailableFrequencyPromise:this.clinicalAttributeIdToAvailableFrequency,width:this.dropdownWidth}):null}},{key:"genericAssayTabs",get:function(){var e=this;if(this.isGenericAssayDataComplete&&this.showGenericAssayTabs){var t=this.props.store.genericAssayEntitiesGroupedByGenericAssayType.result;return b.map(this.profilesByGenericAssayType,function(n,o){var a=b.map(n,function(e){return{value:e.molecularProfileId,label:e.name}}),i=b.map(t[o],function(e){return Object(x.g)(e,!1)}),l=r.createElement("div",null,Object(B.n)(o),r.createElement("span",{style:{paddingLeft:5}},r.createElement(j,{count:n.length})));return r.createElement(w.a,{key:o,id:o,className:"oncoprintGenericAssayTab",linkText:l},r.createElement(L.a,{molecularProfileOptions:a,submitButtonText:"Add Track",genericAssayType:o,genericAssayEntityOptions:i,initialGenericAssayEntityIds:e.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl&&e.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl[o]?e.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl[o]:[],onSelectGenericAssayProfile:e.props.handlers.onSelectGenericAssayProfile,onTrackSubmit:e.onGenericAssaySubmit,allowEmptySubmission:!0}))})}return null}},{key:"clinicalTabText",get:function(){return this.clinicalTrackOptions.result&&!b.isEmpty(this.clinicalTrackOptions.result.clinical)?r.createElement("div",null,oe.CLINICAL,r.createElement("span",{style:{paddingLeft:5}},r.createElement(j,{count:this.clinicalTrackOptions.result.clinical.length}))):oe.CLINICAL}},{key:"heatmapTabText",get:function(){return b.isEmpty(this.props.store.heatmapMolecularProfiles.result)?oe.HEATMAP:r.createElement("div",null,oe.HEATMAP,r.createElement("span",{style:{paddingLeft:5}},r.createElement(j,{count:this.props.store.heatmapMolecularProfiles.result.length})))}},{key:"dropdownWidth",get:function(){var e=this,t=40;this.clinicalTrackOptions.result&&!b.isEmpty(this.clinicalTrackOptions.result.clinical)&&(t+=this.getTextPixel(oe.CLINICAL,"14px")+14+(this.getTextPixel(this.clinicalTrackOptions.result.clinical.length.toString(),"11px")+17));this.props.heatmapMenu&&!b.isEmpty(this.props.store.heatmapMolecularProfiles.result)&&(t+=this.getTextPixel(oe.HEATMAP,"14px")+14+(this.getTextPixel(this.props.store.heatmapMolecularProfiles.result.length.toString(),"11px")+17));if(this.showGenericAssayTabs){var n=this.genericAssayTabs.map(function(e){return Object(B.n)(e.key)}).join(),r=this.genericAssayTabs.length,o=b.reduce(this.profilesByGenericAssayType,function(t,n){return t+(e.getTextPixel(n.length.toString(),"11px")+17)},0);t+=this.getTextPixel(n,"14px")+14*r+o}return Math.max(t,400)}}])&&$(n.prototype,o),a&&$(n,a),t}();ae([C.observable],ie.prototype,"tabId",void 0),ae([C.action.bound],ie.prototype,"updateTabId",null),ae([C.computed],ie.prototype,"isGenericAssayDataComplete",null),ae([C.computed],ie.prototype,"showGenericAssayTabs",null),ae([C.computed],ie.prototype,"profilesByGenericAssayType",null),ae([P.default],ie.prototype,"getSelectedClinicalAttributeIds",null),ae([C.action.bound],ie.prototype,"onGenericAssaySubmit",null),ae([C.computed],ie.prototype,"clinicalTracksMenu",null),ae([C.computed],ie.prototype,"genericAssayTabs",null),ae([C.computed],ie.prototype,"clinicalTabText",null),ae([C.computed],ie.prototype,"heatmapTabText",null),ae([C.computed],ie.prototype,"dropdownWidth",null);var le=ie=ae([o.observer],ie),se=n(957);function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var me=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":fe(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},he={columnTypeSample:"0",columnTypePatient:"1",showUnalteredColumns:"2",showWhitespaceBetweenColumns:"3",showClinicalTrackLegends:"4",onlyShowClinicalLegendForAlteredCases:"4.1",showOqlInLabels:"4.2",distinguishMutationType:"5",distinguishGermlineMutations:"5.1",sortByMutationType:"6",sortAlphabetical:"7",sortCaseListOrder:"8",sortByData:"9",sortByDrivers:"10",addGenesToHeatmap:"13",distinguishDrivers:"15",annotateOncoKb:"16",annotateHotspots:"17",annotateCBioPortal:"18",annotateCOSMIC:"19",annotateCBioPortalInput:"20",annotateCOSMICInput:"21",hidePutativePassengers:"22",hideGermlineMutations:"22.1",customDriverBinaryAnnotation:"23",customDriverTierAnnotation:"24",downloadPDF:"25",downloadPNG:"26",downloadSVG:"27",downloadOrder:"28",downloadTabular:"29",downloadOncoprinter:"29.1",horzZoomSlider:"30",viewNGCHM:"31"},Ce=function(e){function t(e){var n,a,l,s=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,l=ue(t).call(this,e),n=!l||"object"!==fe(l)&&"function"!=typeof l?pe(a):l,Object.defineProperty(pe(n),"horzZoomSliderState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(pe(n),"heatmapGenesReady",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(pe(n),"showConfirmNgchmModal",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(pe(n),"tabId",{enumerable:!0,configurable:!0,writable:!0,value:"CLINICAL"}),Object.defineProperty(pe(n),"AddTracksMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return n.props.store?r.createElement(le,{store:n.props.store,heatmapMenu:n.heatmapMenu,handlers:n.props.handlers,state:n.props.state,selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl:n.props.selectedGenericAssayEntitiesGroupedByGenericAssayTypeFromUrl}):null})}),Object.defineProperty(pe(n),"SortMenuOncoprinter",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement(i.a,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.sortByMutationType,checked:n.props.state.sortByMutationType,onClick:n.onInputClick,disabled:!n.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.sortByDrivers,checked:n.props.state.sortByDrivers,onClick:n.onInputClick,disabled:!n.props.state.distinguishDrivers})," ","Driver/Passenger"))))})}),Object.defineProperty(pe(n),"SortMenuOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement(i.a,{bsStyle:"default",title:"Sort",id:"sortDropdown"},r.createElement("div",{className:"oncoprint__controls__sort_menu","data-test":"oncoprintSortDropdownMenu"},r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByData",type:"radio",name:"sortBy",value:he.sortByData,checked:"data"===n.props.state.sortMode.type,onClick:n.onInputClick})," ","Sort by data")),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.sortByMutationType,checked:n.props.state.sortByMutationType,onClick:n.onInputClick,disabled:"data"!==n.props.state.sortMode.type||!n.props.state.distinguishMutationType})," ","Mutation Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.sortByDrivers,checked:n.props.state.sortByDrivers,onClick:n.onInputClick,disabled:"data"!==n.props.state.sortMode.type||!n.props.state.distinguishDrivers})," ","Driver/Passenger"))),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:he.sortAlphabetical,checked:"alphabetical"===n.props.state.sortMode.type,onClick:n.onInputClick})," ","Sort by case id (alphabetical)")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"sortBy",value:he.sortCaseListOrder,checked:"caseList"===n.props.state.sortMode.type,onClick:n.onInputClick,"data-test":"caseList",disabled:!!n.props.state.sortByCaseListDisabled})," ","Sort by case list order")),n.props.state.heatmapProfilesPromise&&!(n.props.state.heatmapProfilesPromise.isComplete&&!n.props.state.heatmapProfilesPromise.result.length)&&r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{"data-test":"sortByHeatmapClustering",type:"radio",name:"sortBy",checked:"heatmap"===n.props.state.sortMode.type,disabled:!0})," ","Sorted by heatmap clustering order"))))})}),Object.defineProperty(pe(n),"MutationColorMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement(i.a,{bsStyle:"default",title:"Mutations",id:"mutationColorDropdown"},r.createElement("div",{className:"oncoprint__controls__mutation_color_menu"},r.createElement("h5",null,"Color by"),r.createElement("div",{style:{marginLeft:"10px"}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByType",type:"checkbox",value:he.distinguishMutationType,checked:n.props.state.distinguishMutationType,onClick:n.onInputClick})," ","Type")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByGermline",type:"checkbox",value:he.distinguishGermlineMutations,checked:n.props.state.distinguishGermlineMutations,onClick:n.onInputClick})," ","Somatic vs Germline"))),n.driverAnnotationSection))})}),Object.defineProperty(pe(n),"ViewMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return n.props.oncoprinterMode?r.createElement(s.ViewMenuOncoprinter,null):r.createElement(s.ViewMenuOncoprint,null)})}),Object.defineProperty(pe(n),"ViewMenuOncoprinter",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement(i.a,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showUnalteredColumns,checked:n.props.state.showUnalteredColumns,onClick:n.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showWhitespaceBetweenColumns,checked:n.props.state.showWhitespaceBetweenColumns,onClick:n.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showClinicalTrackLegends,checked:n.props.state.showClinicalTrackLegends,onClick:n.onInputClick})," ","Show legends for clinical tracks")))})}),Object.defineProperty(pe(n),"ViewMenuOncoprint",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement(i.a,{bsStyle:"default",title:"View",id:"viewDropdownButton"},r.createElement("strong",null,"Data type:"),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:he.columnTypeSample,checked:n.props.state.columnMode===G.c.SAMPLE,onClick:n.onInputClick})," ","Events per sample")),r.createElement("div",{className:"radio"},r.createElement("label",null,r.createElement("input",{type:"radio",name:"columnType",value:he.columnTypePatient,checked:n.props.state.columnMode===G.c.PATIENT,onClick:n.onInputClick})," ","Events per patient")),r.createElement("hr",null),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showUnalteredColumns,checked:n.props.state.showUnalteredColumns,onClick:n.onInputClick})," ","Show unaltered columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showWhitespaceBetweenColumns,checked:n.props.state.showWhitespaceBetweenColumns,onClick:n.onInputClick})," ","Show whitespace between columns")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showClinicalTrackLegends,checked:n.props.state.showClinicalTrackLegends,onClick:n.onInputClick})," ","Show legends for clinical tracks")),r.createElement("div",{className:"checkbox",style:{marginLeft:20,maxWidth:220}},r.createElement("label",null,r.createElement("input",{"data-test":"onlyShowClinicalLegendsForAltered",type:"checkbox",value:he.onlyShowClinicalLegendForAlteredCases,checked:n.props.state.onlyShowClinicalLegendForAlteredCases,onClick:n.onInputClick,disabled:!n.props.state.showClinicalTrackLegends})," ","Only show clinical track legends for altered"," ",n.props.state.columnMode===G.c.PATIENT?"patients":"samples",".")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:he.showOqlInLabels,checked:n.props.state.showOqlInLabels,onClick:n.onInputClick})," ","Show OQL filters")))})}),Object.defineProperty(pe(n),"DownloadMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement(i.a,{bsStyle:"default",title:"Download",id:"downloadDropdownButton"},r.createElement("button",{className:"btn btn-sm btn-default",name:he.downloadPDF,onClick:n.onButtonClick},"PDF"),r.createElement("button",{className:"btn btn-sm btn-default",name:he.downloadPNG,onClick:n.onButtonClick},"PNG"),r.createElement("button",{className:"btn btn-sm btn-default",name:he.downloadSVG,onClick:n.onButtonClick},"SVG"),r.createElement("button",{className:"btn btn-sm btn-default",name:he.downloadOrder,onClick:n.onButtonClick},n.props.state.columnMode&&n.props.state.columnMode[0].toUpperCase()+n.props.state.columnMode.slice(1)||"Sample"," ","order"),!n.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:he.downloadTabular,onClick:n.onButtonClick},"Tabular"),!n.props.oncoprinterMode&&r.createElement("button",{className:"btn btn-sm btn-default",name:he.downloadOncoprinter,onClick:n.onButtonClick},"Open in Oncoprinter"))})}),Object.defineProperty(pe(n),"HorzZoomControls",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return r.createElement("div",{className:"btn btn-default oncoprint__zoom-controls"},r.createElement(A.i,{overlay:r.createElement("span",null,"Zoom out of oncoprint."),placement:"top"},r.createElement("div",{onClick:n.onZoomOutClick},r.createElement("i",{className:"fa fa-search-minus"}))),r.createElement(A.i,{overlay:r.createElement("span",null,"Zoom in/out of oncoprint."),placement:"top"},r.createElement("div",{style:{width:"90px"}},r.createElement(E.a,{value:n.horzZoomSliderState,onChange:n.onHorzZoomSliderChange,onChangeComplete:n.onHorzZoomSliderSet,step:.01,max:1,min:0,tooltip:!1}))),r.createElement(A.l,{value:(100*n.horzZoomSliderState).toFixed(),setValue:n.onSetHorzZoomTextInput,maxChars:3,numericOnly:!0,textFieldAppearance:!0,style:{background:"white",minWidth:"30px",fontSize:"14px",fontFamily:"arial",border:"none",padding:0,marginTop:0,marginBottom:0,marginRight:2}}),r.createElement("div",null,"%"),r.createElement(A.i,{overlay:r.createElement("span",null,"Zoom in to oncoprint."),placement:"top"},r.createElement("div",{onClick:n.onZoomInClick},r.createElement("i",{className:"fa fa-search-plus"}))))})}),Object.defineProperty(pe(n),"SortMenu",{enumerable:!0,configurable:!0,writable:!0,value:Object(o.observer)(function(){return n.props.oncoprinterMode?r.createElement(s.SortMenuOncoprinter,null):r.createElement(s.SortMenuOncoprint,null)})}),Object(C.makeObservable)(pe(n)),n.horzZoomSliderState=e.state.horzZoom,Object(C.reaction)(function(){return n.props.state.horzZoom},function(e){return n.horzZoomSliderState=e}),n}var l,s,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,r["Component"]),l=t,(s=[{key:"onZoomInClick",value:function(){this.props.handlers.onClickZoomIn()}},{key:"onZoomOutClick",value:function(){this.props.handlers.onClickZoomOut()}},{key:"onSetHorzZoomTextInput",value:function(e){var t=parseFloat(e)/100;this.props.handlers.onSetHorzZoom(t)}},{key:"onSelect",value:function(e){e===he.distinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType)}},{key:"onHeatmapProfileSelect",value:function(e){this.props.handlers.onSelectHeatmapProfile&&this.props.handlers.onSelectHeatmapProfile(e.value)}},{key:"toggleShowMinimap",value:function(){this.props.handlers.onSelectShowMinimap&&this.props.handlers.onSelectShowMinimap(!this.props.state.showMinimap)}},{key:"onInputClick",value:function(e){switch(e.target.value){case he.showUnalteredColumns:this.props.handlers.onSelectShowUnalteredColumns&&this.props.handlers.onSelectShowUnalteredColumns(!this.props.state.showUnalteredColumns);break;case he.showWhitespaceBetweenColumns:this.props.handlers.onSelectShowWhitespaceBetweenColumns&&this.props.handlers.onSelectShowWhitespaceBetweenColumns(!this.props.state.showWhitespaceBetweenColumns);break;case he.showClinicalTrackLegends:this.props.handlers.onSelectShowClinicalTrackLegends&&this.props.handlers.onSelectShowClinicalTrackLegends(!this.props.state.showClinicalTrackLegends);break;case he.onlyShowClinicalLegendForAlteredCases:this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases&&this.props.handlers.onSelectOnlyShowClinicalLegendForAlteredCases(!this.props.state.onlyShowClinicalLegendForAlteredCases);break;case he.showOqlInLabels:this.props.handlers.onSelectShowOqlInLabels&&this.props.handlers.onSelectShowOqlInLabels(!this.props.state.showOqlInLabels);break;case he.columnTypeSample:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("sample");break;case he.columnTypePatient:this.props.handlers.onSelectColumnType&&this.props.handlers.onSelectColumnType("patient");break;case he.sortByData:this.props.handlers.onClickSortByData&&this.props.handlers.onClickSortByData();break;case he.sortAlphabetical:this.props.handlers.onClickSortAlphabetical&&this.props.handlers.onClickSortAlphabetical();break;case he.sortCaseListOrder:this.props.handlers.onClickSortCaseListOrder&&this.props.handlers.onClickSortCaseListOrder();break;case he.sortByMutationType:this.props.handlers.onSelectSortByMutationType&&this.props.handlers.onSelectSortByMutationType(!this.props.state.sortByMutationType);break;case he.sortByDrivers:this.props.handlers.onSelectSortByDrivers&&this.props.handlers.onSelectSortByDrivers(!this.props.state.sortByDrivers);break;case he.distinguishDrivers:this.props.handlers.onSelectDistinguishDrivers&&this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case he.distinguishMutationType:this.props.handlers.onSelectDistinguishMutationType&&this.props.handlers.onSelectDistinguishMutationType(!this.props.state.distinguishMutationType);break;case he.distinguishGermlineMutations:this.props.handlers.onSelectDistinguishGermlineMutations(!this.props.state.distinguishGermlineMutations);break;case he.annotateOncoKb:this.props.handlers.onSelectAnnotateOncoKb&&this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case he.annotateHotspots:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case he.annotateCBioPortal:this.props.handlers.onSelectAnnotateCBioPortal&&this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case he.annotateCOSMIC:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case he.hidePutativePassengers:this.props.handlers.onSelectHideVUS&&this.props.handlers.onSelectHideVUS(!this.props.state.hidePutativePassengers);break;case he.hideGermlineMutations:this.props.handlers.onSelectHideGermlineMutations(!this.props.state.hideGermlineMutations);break;case he.customDriverBinaryAnnotation:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onHorzZoomSliderChange",value:function(e){this.horzZoomSliderState=e}},{key:"onHorzZoomSliderSet",value:function(){this.props.handlers.onSetHorzZoom(this.horzZoomSliderState),this.horzZoomSliderState=this.props.state.horzZoom}},{key:"onCustomDriverTierCheckboxClick",value:function(e){var t=e.target.value;this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(t,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(t)))}},{key:"onButtonClick",value:function(e){switch(e.target.name){case he.addGenesToHeatmap:this.props.handlers.onClickAddGenesToHeatmap&&this.props.handlers.onClickAddGenesToHeatmap();break;case he.downloadSVG:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("svg");break;case he.downloadPNG:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("png");break;case he.downloadPDF:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("pdf");break;case he.downloadOrder:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("order");break;case he.downloadTabular:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("tabular");break;case he.downloadOncoprinter:this.props.handlers.onClickDownload&&this.props.handlers.onClickDownload("oncoprinter");break;case he.viewNGCHM:this.props.state.ngchmButtonActive&&this.props.handlers.onClickNGCHM&&(this.showConfirmNgchmModal=!0)}}},{key:"onChangeHeatmapGeneInput",value:function(e,t,n){this.props.handlers.onChangeHeatmapGeneInputValue&&this.props.handlers.onChangeHeatmapGeneInputValue(n);var r=T.a.keyBy(t.found,function(e){return e.hugoGeneSymbol.toUpperCase()});this.heatmapGenesReady=T.a.every(e.query,function(e){return e.gene.toUpperCase()in r})}},{key:"onType",value:function(e){switch(e.target.name){case he.annotateCBioPortalInput:this.props.handlers.onChangeAnnotateCBioPortalInputValue&&this.props.handlers.onChangeAnnotateCBioPortalInputValue(e.target.value);break;case he.annotateCOSMICInput:this.props.handlers.onChangeAnnotateCOSMICInputValue&&this.props.handlers.onChangeAnnotateCOSMICInputValue(e.target.value)}}},{key:"updateTabId",value:function(e){this.tabId=e}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"oncoprint__controls"},r.createElement(a.ButtonGroup,null,r.createElement(this.AddTracksMenu,null),r.createElement(this.SortMenu,null),r.createElement(this.MutationColorMenu,null),r.createElement(this.ViewMenu,null),r.createElement(this.DownloadMenu,null),r.createElement(this.HorzZoomControls,null),this.minimapButton,r.createElement(m,{show:this.showConfirmNgchmModal,onHide:function(){return e.showConfirmNgchmModal=!1},openNgchmWindow:this.props.handlers.onClickNGCHM})))}},{key:"heatmapProfileOptions",get:function(){return this.props.state.heatmapProfilesPromise&&this.props.state.heatmapProfilesPromise.result?T.a.map(this.props.state.heatmapProfilesPromise.result,function(e){return{label:e.name,value:e.molecularProfileId,type:e.molecularAlterationType}}):[]}},{key:"heatmapMenu",get:function(){var e=this.props.state.heatmapIsDynamicallyQueried;if(this.props.oncoprinterMode||this.props.state.hideHeatmapMenu||!this.props.state.heatmapProfilesPromise)return null;var t=r.createElement(y.a,{isLoading:!0});if(this.props.state.heatmapProfilesPromise.isComplete){if(!this.props.state.heatmapProfilesPromise.result.length)return null;t=r.createElement("div",{className:"oncoprint__controls__heatmap_menu"},r.createElement(h.default,{clearable:!1,searchable:!1,isLoading:this.props.state.heatmapProfilesPromise.isPending,onChange:this.onHeatmapProfileSelect,value:this.props.state.selectedHeatmapProfileId,options:this.heatmapProfileOptions}),e&&[r.createElement(O.b,{inputGeneQuery:this.props.state.heatmapGeneInputValue||"",callback:this.onChangeHeatmapGeneInput,location:O.a.ONCOPRINT_HEATMAP}),r.createElement("button",{key:"addGenesToHeatmapButton",className:"btn btn-sm btn-default",name:he.addGenesToHeatmap,onClick:this.onButtonClick,disabled:(this.props.state.heatmapGeneInputValue||"").trim().length>0&&!this.heatmapGenesReady},"Add Genes to Heatmap")],this.props.state.ngchmButtonActive&&[r.createElement("hr",null),r.createElement(A.i,{overlay:r.createElement("span",null,"Open a new tab to visualize this study as Next Generation Clustered Heatmaps from MD Anderson Cancer Center.")},r.createElement("button",{className:g()("btn","btn-sm","btn-default"),name:he.viewNGCHM,onClick:this.onButtonClick},"Whole Study Heatmap (NG-CHM)"," ",r.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})))])}else this.props.state.heatmapProfilesPromise.isError&&(t=r.createElement("span",null,"Error loading heatmap profiles."));return t}},{key:"driverAnnotationSection",get:function(){if(this.props.oncoprinterMode||!this.props.store)return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate"),r.createElement("div",{style:{marginLeft:10}},r.createElement(se.a,{state:this.props.state,handlers:Object.assign({onCustomDriverTierCheckboxClick:this.onCustomDriverTierCheckboxClick},this.props.handlers),resultsView:!0})),r.createElement("h5",null,"Filter"),r.createElement("div",{style:{marginLeft:10}},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideVUS",type:"checkbox",value:he.hidePutativePassengers,checked:this.props.state.hidePutativePassengers,onClick:this.onInputClick,disabled:!this.props.state.distinguishDrivers})," ","Hide mutations and copy number alterations of unknown significance")),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"HideGermline",type:"checkbox",value:he.hideGermlineMutations,checked:this.props.state.hideGermlineMutations,onClick:this.onInputClick,disabled:!this.props.state.distinguishGermlineMutations})," ","Hide germline mutations"))));var e=this.props.store;return r.createElement(r.Fragment,null,r.createElement("h5",null,"Annotate and Filter"),r.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:10}},"Please see the",r.createElement("button",{style:{marginLeft:5,marginRight:5,marginBottom:0,width:"auto",padding:"1px 5px 1px 5px"},className:"btn btn-primary",onClick:function(){e.isSettingsMenuVisible=!e.isSettingsMenuVisible}},r.createElement("i",{className:"fa fa-sliders"})),"menu."))}},{key:"showMinimap",get:function(){return this.props.state.showMinimap}},{key:"minimapButton",get:function(){return r.createElement("div",{className:"btn-group"},r.createElement(A.i,{overlay:r.createElement("span",null,"Toggle minimap panel.")},r.createElement(a.Button,{active:this.showMinimap,onClick:this.toggleShowMinimap},r.createElement("img",{"data-test":"ShowMinimapButton",src:n(1047),alt:"icon",style:{width:15,height:15}}))))}}])&&ce(l.prototype,s),c&&ce(l,c),t}();me([C.observable],Ce.prototype,"horzZoomSliderState",void 0),me([C.observable],Ce.prototype,"heatmapGenesReady",void 0),me([C.observable],Ce.prototype,"showConfirmNgchmModal",void 0),me([P.default],Ce.prototype,"onZoomInClick",null),me([P.default],Ce.prototype,"onZoomOutClick",null),me([P.default],Ce.prototype,"onSetHorzZoomTextInput",null),me([P.default],Ce.prototype,"onSelect",null),me([P.default],Ce.prototype,"onHeatmapProfileSelect",null),me([P.default],Ce.prototype,"toggleShowMinimap",null),me([P.default],Ce.prototype,"onInputClick",null),me([P.default],Ce.prototype,"onHorzZoomSliderChange",null),me([P.default],Ce.prototype,"onHorzZoomSliderSet",null),me([P.default],Ce.prototype,"onCustomDriverTierCheckboxClick",null),me([P.default],Ce.prototype,"onButtonClick",null),me([C.action.bound],Ce.prototype,"onChangeHeatmapGeneInput",null),me([P.default],Ce.prototype,"onType",null),me([C.computed],Ce.prototype,"heatmapProfileOptions",null),me([C.observable],Ce.prototype,"tabId",void 0),me([C.action.bound],Ce.prototype,"updateTabId",null),me([C.computed],Ce.prototype,"heatmapMenu",null),me([C.computed],Ce.prototype,"driverAnnotationSection",null),me([C.computed],Ce.prototype,"showMinimap",null),Ce=me([o.observer],Ce);t.a=Ce},1170:function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(73),i=n(9),l=n(2),s=n(161),c=n(904),u=n.n(c),p=n(5),d=n.n(p);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v,E=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e[e.TRACK_A=0]="TRACK_A",e[e.TRACK_B=1]="TRACK_B",e[e.NEITHER=2]="NEITHER",e[e.A_NOT_B=3]="A_NOT_B",e[e.B_NOT_A=4]="B_NOT_A",e[e.BOTH=5]="BOTH",e[e.LOG_ODDS_RATIO=6]="LOG_ODDS_RATIO",e[e.P_VALUE=7]="P_VALUE",e[e.Q_VALUE=8]="Q_VALUE",e[e.ASSOCIATION=9]="ASSOCIATION"}(v||(v={}));var S=function(e){function t(){return m(this,t),h(this,b(t).apply(this,arguments))}return T(t,a["b"]),t}(),g=function(e){function t(e){var n;return m(this,t),n=h(this,b(t).call(this,e)),Object.defineProperty(C(n),"_columns",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object(l.makeObservable)(C(n)),n._columns={},n.generateColumns(),n}var n,a,i;return T(t,r["Component"]),n=t,(a=[{key:"generateColumns",value:function(){this._columns={},this._columns[v.TRACK_A]={name:"A",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackA))},tooltip:r.createElement("span",null,"A"),filter:function(e,t,n){return e.trackA.toUpperCase().includes(n)},sortBy:function(e){return e.trackA},download:function(e){return e.trackA}},this._columns[v.TRACK_B]={name:"B",render:function(e){return r.createElement("span",null,r.createElement("b",null,e.trackB))},tooltip:r.createElement("span",null,"B"),filter:function(e,t,n){return e.trackB.toUpperCase().includes(n)},sortBy:function(e){return e.trackB},download:function(e){return e.trackB}},this._columns[v.NEITHER]={name:"Neither",render:function(e){return r.createElement("span",null,e.neitherCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in neither A nor B"),sortBy:function(e){return e.neitherCount},download:function(e){return e.neitherCount.toString()}},this._columns[v.A_NOT_B]={name:"A Not B",render:function(e){return r.createElement("span",null,e.aNotBCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in A but not in B"),sortBy:function(e){return e.aNotBCount},download:function(e){return e.aNotBCount.toString()}},this._columns[v.B_NOT_A]={name:"B Not A",render:function(e){return r.createElement("span",null,e.bNotACount)},tooltip:r.createElement("span",null,"Number of samples with alterations in B but not in A"),sortBy:function(e){return e.bNotACount},download:function(e){return e.bNotACount.toString()}},this._columns[v.BOTH]={name:"Both",render:function(e){return r.createElement("span",null,e.bothCount)},tooltip:r.createElement("span",null,"Number of samples with alterations in both A and B"),sortBy:function(e){return e.bothCount},download:function(e){return e.bothCount.toString()}},this._columns[v.LOG_ODDS_RATIO]={name:"Log2 Odds Ratio",render:function(e){return r.createElement("span",null,Object(s.b)(e.logOddsRatio))},tooltip:r.createElement("span",{style:{display:"inline-block",maxWidth:300}},"Quantifies how strongly the presence or absence of alterations in A are associated with the presence or absence of alterations in B in the selected samples. OR = (Neither * Both) / (A Not B * B Not A)"),sortBy:function(e){return e.logOddsRatio},download:function(e){return Object(s.b)(e.logOddsRatio)}},this._columns[v.P_VALUE]={name:"p-Value",render:function(e){return r.createElement("span",null,Object(s.c)(e.pValue))},tooltip:r.createElement("span",null,"Derived from one-sided Fisher Exact Test"),sortBy:function(e){return e.pValue},download:function(e){return Object(s.c)(e.pValue)}},this._columns[v.Q_VALUE]={name:"q-Value",render:function(e){return Object(s.d)(e.qValue)},tooltip:r.createElement("span",null,"Derived from Benjamini-Hochberg FDR correction procedure"),sortBy:function(e){return e.qValue},download:function(e){return Object(s.c)(e.qValue)}},this._columns[v.ASSOCIATION]={name:"Tendency",render:function(e){return r.createElement("div",{className:d()(u.a.Tendency,(t={},n=u.a.Significant,o=e.qValue<.05,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},e.association);var t,n,o},tooltip:r.createElement("table",null,r.createElement("tr",null,r.createElement("td",null,"Log2 ratio ",">"," 0"),r.createElement("td",null,": Tendency towards co-occurrence")),r.createElement("tr",null,r.createElement("td",null,"Log2 ratio <= 0"),r.createElement("td",null,": Tendency towards mutual exclusivity")),r.createElement("tr",null,r.createElement("td",null,"q-Value < 0.05"),r.createElement("td",null,": Significant association"))),filter:function(e,t,n){return e.association.toUpperCase().includes(n)},sortBy:function(e){return e.association},download:function(e){return e.association}}}},{key:"render",value:function(){var e=o.sortBy(this._columns,function(e){return e.order});return r.createElement(S,{columns:e,data:this.props.data,initialItemsPerPage:50,initialSortColumn:this.props.initialSortColumn,paginationProps:{itemsPerPageOptions:[50]}})}}])&&f(n.prototype,a),i&&f(n,i),t}();Object.defineProperty(g,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{columns:[v.TRACK_A,v.TRACK_B,v.NEITHER,v.A_NOT_B,v.B_NOT_A,v.BOTH,v.LOG_ODDS_RATIO,v.P_VALUE,v.Q_VALUE,v.ASSOCIATION],initialSortColumn:"q-Value"}}),E([l.observable],g.prototype,"_columns",void 0);var G=g=E([i.observer],g),O=n(17),P=n(72),w=n(333),I=n(335),k=n(334);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":D(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},x=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=_(t).call(this,e))||"object"!==D(o)&&"function"!=typeof o?R(r):o,Object.defineProperty(R(n),"mutualExclusivityFilter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(R(n),"coOccurenceFilter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(R(n),"significantPairsFilter",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object(l.makeObservable)(R(n)),n.mutualExclusivityFilterChange=n.mutualExclusivityFilterChange.bind(R(n)),n.coOccurenceFilterChange=n.coOccurenceFilterChange.bind(R(n)),n.significantPairsFilterChange=n.significantPairsFilterChange.bind(R(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,(a=[{key:"mutualExclusivityFilterChange",value:function(){this.mutualExclusivityFilter=!this.mutualExclusivityFilter}},{key:"coOccurenceFilterChange",value:function(){this.coOccurenceFilter=!this.coOccurenceFilter}},{key:"significantPairsFilterChange",value:function(){this.significantPairsFilter=!this.significantPairsFilter}},{key:"render",value:function(){return this.props.isSampleAlteredMap.isPending?r.createElement(P.a,{isLoading:!0}):this.props.isSampleAlteredMap.isComplete?this.notEnoughDataError?r.createElement("div",{className:"tabMessageContainer"},r.createElement("div",{className:"alert alert-info"},this.notEnoughDataError),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),this.props.store&&[r.createElement(I.a,{store:this.props.store}),r.createElement(k.a,{store:this.props.store})]):r.createElement("div",{"data-test":"mutualExclusivityTabDiv"},this.props.store&&r.createElement("div",{className:"tabMessageContainer"},r.createElement(w.a,{className:"mutex-oql-status-banner",store:this.props.store,tabReflectsOql:!0}),this.filteredTrackOqls.length>0&&r.createElement("div",{className:"alert alert-warning",role:"alert"},this.filteredTrackOqlsMessage),r.createElement(I.a,{store:this.props.store}),r.createElement(k.a,{store:this.props.store})),Object(s.h)(this.data,o.size(this.isSampleAlteredFilteredMap)),r.createElement("div",{className:u.a.Checkboxes},r.createElement(O.Checkbox,{checked:this.mutualExclusivityFilter,onChange:this.mutualExclusivityFilterChange},"Mutual exclusivity"),r.createElement(O.Checkbox,{checked:this.coOccurenceFilter,onChange:this.coOccurenceFilterChange},"Co-occurrence"),r.createElement(O.Checkbox,{checked:this.significantPairsFilter,onChange:this.significantPairsFilterChange},"Significant only")),r.createElement(G,{data:this.filteredData})):null}},{key:"data",get:function(){return Object(s.e)(this.isSampleAlteredFilteredMap)}},{key:"filteredData",get:function(){return Object(s.f)(this.data,this.mutualExclusivityFilter,this.coOccurenceFilter,this.significantPairsFilter)}},{key:"isSampleAlteredFilteredMap",get:function(){return Object(s.g)(this.props.isSampleAlteredMap.result)}},{key:"filteredTrackOqls",get:function(){return o.difference(Object.keys(this.props.isSampleAlteredMap.result),Object.keys(this.isSampleAlteredFilteredMap))}},{key:"filteredTrackOqlsMessage",get:function(){return 1==this.filteredTrackOqls.length?"".concat(this.filteredTrackOqls[0]," is not profiled in any queried samples and therefore is excluded from this analysis."):this.filteredTrackOqls.length>1?"".concat(this.filteredTrackOqls.slice(0,-1).join(", ")," and ").concat(this.filteredTrackOqls.slice(-1)," are not profiled in any queried samples and therefore are excluded from this analysis."):""}},{key:"notEnoughDataError",get:function(){return o.size(this.props.isSampleAlteredMap.result)<2?"Mutual exclusivity analysis can only be performed when data from at least two genes is provided.":o.size(this.isSampleAlteredFilteredMap)<2?"Mutual exclusivity analysis can only be performed when at least two of the queried genes have been profiled in the queried samples.":null}}])&&N(n.prototype,a),i&&N(n,i),t}();j([l.observable],x.prototype,"mutualExclusivityFilter",void 0),j([l.observable],x.prototype,"coOccurenceFilter",void 0),j([l.observable],x.prototype,"significantPairsFilter",void 0),j([l.computed],x.prototype,"data",null),j([l.computed],x.prototype,"filteredData",null),j([l.computed],x.prototype,"isSampleAlteredFilteredMap",null),j([l.computed],x.prototype,"filteredTrackOqls",null),j([l.computed],x.prototype,"filteredTrackOqlsMessage",null),j([l.computed],x.prototype,"notEnoughDataError",null),x=j([i.observer],x);t.a=x},1569:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__38sW0",framedImage:"styles-module__framedImage__20n6Q",dataFormatHelp:"styles-module__dataFormatHelp__3eOr2",dataFormatHelpBorder:"styles-module__dataFormatHelpBorder__2uZE3"}},1769:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(9),a=n(330),i=n(329),l=n(2),s=n(7),c=n(958),u=n(3),p=n(21),d=n(13),f=n(1),m=n.n(f),h=n(249),C=n(161),b=n(908),T=n(27);function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},S=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}s((r=r.apply(e,t||[])).next())})},g=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"submitCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_inputSampleIdOrder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_geneOrder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"driverAnnotationSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_geneticDataInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_clinicalDataInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_heatmapDataInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showUnalteredColumns",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"hideGermlineMutations",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"customDriverWarningHidden",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hiddenSampleIds",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.unalteredSampleIds]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.showUnalteredColumns?[]:this.unalteredSampleIds.result);case 1:case"end":return e.stop()}},e,this)}))},default:[]})}),Object.defineProperty(this,"hugoGeneSymbolToGene",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.hugoGeneSymbols).length>0)){e.next=10;break}return e.t0=m.a,e.next=5,d.a.fetchGenesUsingPOST({geneIdType:"HUGO_GENE_SYMBOL",geneIds:t});case 5:return e.t1=e.sent,e.t2=function(e){return e.hugoGeneSymbol},e.abrupt("return",e.t0.keyBy.call(e.t0,e.t1,e.t2));case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"oncoKbCancerGenes",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({invoke:function(){return s.b.serverConfig.show_oncokb?Object(p.z)():Promise.resolve([])}},[])}),Object.defineProperty(this,"oncoKbAnnotatedGenes",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.oncoKbCancerGenes]},invoke:function(){return s.b.serverConfig.show_oncokb?Promise.resolve(m.a.reduce(t.oncoKbCancerGenes.result,function(e,t){return t.oncokbAnnotated&&(e[t.entrezGeneId]=!0),e},{})):Promise.resolve({})}},{})}),Object.defineProperty(this,"oncoKbData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.nonAnnotatedGeneticData,t.oncoKbAnnotatedGenes]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.b.serverConfig.show_oncokb){e.next=4;break}return e.abrupt("return",Object(c.c)(this.oncoKbAnnotatedGenes.result,this.nonAnnotatedGeneticData.result));case 4:return e.abrupt("return",p.c);case 5:case"end":return e.stop()}},e,this)}))},onError:function(e){}},p.c)}),Object.defineProperty(this,"oncoKbCnaData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.nonAnnotatedGeneticData,t.oncoKbAnnotatedGenes]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.b.serverConfig.show_oncokb){e.next=13;break}return e.prev=1,e.next=4,Object(c.b)(this.oncoKbAnnotatedGenes.result,this.nonAnnotatedGeneticData.result);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t=new Error;case 10:return e.abrupt("return",t);case 13:return e.abrupt("return",p.c);case 14:case"end":return e.stop()}},e,this,[[1,7]])}))},onError:function(e){}},p.c)}),Object.defineProperty(this,"cbioportalCountData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.nonAnnotatedGeneticData]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nonAnnotatedGeneticData.result.filter(function(e){return void 0!==e.proteinPosStart&&void 0!==e.proteinPosEnd}),n=m.a.values(Object(h.a)(t)),e.next=4,T.a.fetchMutationCountsByPositionUsingPOST({mutationPositionIdentifiers:n});case 4:return r=e.sent,e.abrupt("return",m.a.chain(r).groupBy(h.b).mapValues(function(e){return m.a.sumBy(e,function(e){return e.count})}).value());case 6:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"alteredSampleIds",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.geneticTracks]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.chain(this.geneticTracks.result).map(function(e){return e.data.filter(c.k)}).flatten().map(function(e){return e.sample}).uniq().value(),n=m.a.intersection(this.sampleIds,t),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)}))},default:[]})}),Object.defineProperty(this,"unalteredSampleIds",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.alteredSampleIds]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.a.difference(this.sampleIds,this.alteredSampleIds.result));case 1:case"end":return e.stop()}},e,this)}))},default:[]})}),Object.defineProperty(this,"isSampleAlteredMap",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.geneticTracks]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.a.reduce(this.geneticTracks.result,function(e,n){var r=m.a.keyBy(n.data,function(e){return e.sample});return e[n.label]=t.sampleIds.map(function(e){var t=r[e];return t?t.data.length>0?C.a.ALTERED:C.a.UNALTERED:C.a.UNPROFILED}),e},{}));case 1:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"nonAnnotatedGeneticTrackData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.hugoGeneSymbolToGene]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.parsedGeneticInputLines.result){e.next=4;break}return e.abrupt("return",Object(c.h)(this.parsedGeneticInputLines.result,this.hugoGeneSymbolToGene.result,this.hideGermlineMutations));case 4:return e.abrupt("return",{});case 5:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"nonAnnotatedGeneticData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.nonAnnotatedGeneticTrackData]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.a.chain(this.nonAnnotatedGeneticTrackData.result).values().flatten().map(function(e){return e.data}).flatten().value());case 1:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"annotatedGeneticTrackData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.nonAnnotatedGeneticTrackData].concat(y(t.annotationData.promises))},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.a)(this.nonAnnotatedGeneticTrackData.result,this.annotationData.promisesMap,this.annotationData.params,!this.driverAnnotationSettings.includeVUS));case 1:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"annotatedGeneticOncoprintData",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.annotatedGeneticTrackData]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.e)(this.annotatedGeneticTrackData.result));case 1:case"end":return e.stop()}},e,this)}))}})}),Object.defineProperty(this,"geneticTracks",{enumerable:!0,configurable:!0,writable:!0,value:Object(u.vb)({await:function(){return[t.annotatedGeneticOncoprintData]},invoke:function(){return S(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c.g)(this.annotatedGeneticOncoprintData.result,this.geneOrder,this.sampleIdsNotInInputOrder));case 1:case"end":return e.stop()}},e,this)}))},default:[]})}),Object(l.makeObservable)(this),this.initialize()}var t,n,r;return t=e,(n=[{key:"initialize",value:function(){this.driverAnnotationSettings=Object(c.j)(this),this.customDriverWarningHidden=!1}},{key:"setSampleIdOrder",value:function(e){this._inputSampleIdOrder=e.trim()}},{key:"setGeneOrder",value:function(e){this._geneOrder=e.trim()}},{key:"hasData",value:function(){return!!this._geneticDataInput||!!this._clinicalDataInput||!!this._heatmapDataInput}},{key:"setDataInput",value:function(e,t,n){this._geneticDataInput=e,this._clinicalDataInput=t,this._heatmapDataInput=n}},{key:"setInput",value:function(e,t,n,r,o){this.submitCount+=1,this.setDataInput(e,t,n),this.setGeneOrder(r),this.setSampleIdOrder(o),this.initialize()}},{key:"didOncoKbFail",get:function(){return"complete"===this.oncoKbData.status&&this.oncoKbData.isError}},{key:"sampleIds",get:function(){return this.inputSampleIdOrder?this.inputSampleIdOrder:this.allSampleIds}},{key:"allSampleIds",get:function(){var e=(this.parsedGeneticInputLines.result||[]).concat(this.parsedClinicalInputLines.result&&this.parsedClinicalInputLines.result.data||[]).concat(this.parsedHeatmapInputLines.result&&this.parsedHeatmapInputLines.result.data||[]);return e.length>0?Object(c.i)(e):[]}},{key:"inputSampleIdOrder",get:function(){return this._inputSampleIdOrder?m.a.intersection(this._inputSampleIdOrder.split(/[,\s]+/),this.allSampleIds):void 0}},{key:"sampleIdsNotInInputOrder",get:function(){if(this.inputSampleIdOrder)return m.a.difference(this.allSampleIds,this.inputSampleIdOrder)}},{key:"geneOrder",get:function(){return this._geneOrder?m.a.uniq(this._geneOrder.split(/[,\s]+/)):void 0}},{key:"parsedGeneticInputLines",get:function(){if(!this._geneticDataInput)return{error:null,result:[]};var e=Object(c.m)(this._geneticDataInput);return e.parseSuccess?{error:null,result:e.result}:{error:e.error,result:null}}},{key:"parsedClinicalInputLines",get:function(){if(!this._clinicalDataInput)return{error:null,result:{headers:[],data:[]}};var e=Object(b.f)(this._clinicalDataInput);return e.parseSuccess?{error:null,result:e.result}:{error:e.error,result:null}}},{key:"parsedHeatmapInputLines",get:function(){if(!this._heatmapDataInput)return{error:null,result:{headers:[],data:[]}};var e=Object(b.g)(this._heatmapDataInput);return e.parseSuccess?{error:null,result:e.result}:{error:e.error,result:null}}},{key:"parseErrors",get:function(){var e=[];return this.parsedGeneticInputLines.error&&e.push(this.parsedGeneticInputLines.error),this.parsedClinicalInputLines.error&&e.push(this.parsedClinicalInputLines.error),this.parsedHeatmapInputLines.error&&e.push(this.parsedHeatmapInputLines.error),e}},{key:"hugoGeneSymbols",get:function(){return this.geneOrder?this.geneOrder:this.parsedGeneticInputLines.result?Object(c.d)(this.parsedGeneticInputLines.result):[]}},{key:"existCustomDrivers",get:function(){return this.parsedGeneticInputLines.result&&this.parsedGeneticInputLines.result.findIndex(function(e){return!(!Object(c.l)(e)||!e.isCustomDriver)})>-1}},{key:"annotationData",get:function(){var e={},t={};return t.useHotspots=this.driverAnnotationSettings.hotspots,t.useCustomBinary=this.driverAnnotationSettings.customBinary,e.oncoKbCna=this.oncoKbCnaData,this.driverAnnotationSettings.driversAnnotated&&(this.driverAnnotationSettings.oncoKb&&(e.oncoKb=this.oncoKbData),this.driverAnnotationSettings.cbioportalCount&&(e.cbioportalCount=this.cbioportalCountData,t.cbioportalCountThreshold=this.driverAnnotationSettings.cbioportalCountThreshold)),{promises:m.a.values(e),params:t,promisesMap:e}}},{key:"clinicalTracks",get:function(){var e=this.parsedClinicalInputLines.result;return e?Object(b.d)(e.headers,e.data,this.sampleIdsNotInInputOrder):[]}},{key:"heatmapTracks",get:function(){var e=this.parsedHeatmapInputLines.result;return e?Object(b.e)(e.headers,e.data,this.sampleIdsNotInInputOrder):[]}}])&&A(t.prototype,n),r&&A(t,r),e}();E([l.observable],g.prototype,"submitCount",void 0),E([l.observable.ref],g.prototype,"_inputSampleIdOrder",void 0),E([l.observable.ref],g.prototype,"_geneOrder",void 0),E([l.observable],g.prototype,"driverAnnotationSettings",void 0),E([l.observable.ref],g.prototype,"_geneticDataInput",void 0),E([l.observable.ref],g.prototype,"_clinicalDataInput",void 0),E([l.observable.ref],g.prototype,"_heatmapDataInput",void 0),E([l.observable],g.prototype,"showUnalteredColumns",void 0),E([l.observable],g.prototype,"hideGermlineMutations",void 0),E([l.observable],g.prototype,"customDriverWarningHidden",void 0),E([l.computed],g.prototype,"didOncoKbFail",null),E([l.computed],g.prototype,"sampleIds",null),E([l.computed],g.prototype,"allSampleIds",null),E([l.action],g.prototype,"setSampleIdOrder",null),E([l.computed],g.prototype,"inputSampleIdOrder",null),E([l.computed],g.prototype,"sampleIdsNotInInputOrder",null),E([l.action],g.prototype,"setGeneOrder",null),E([l.computed],g.prototype,"geneOrder",null),E([l.action],g.prototype,"setDataInput",null),E([l.action],g.prototype,"setInput",null),E([l.computed],g.prototype,"parsedGeneticInputLines",null),E([l.computed],g.prototype,"parsedClinicalInputLines",null),E([l.computed],g.prototype,"parsedHeatmapInputLines",null),E([l.computed],g.prototype,"parseErrors",null),E([l.computed],g.prototype,"hugoGeneSymbols",null),E([l.computed],g.prototype,"existCustomDrivers",null),E([l.computed],g.prototype,"annotationData",null),E([l.computed],g.prototype,"clinicalTracks",null),E([l.computed],g.prototype,"heatmapTracks",null);var G=n(867),O=n(1163),P=n(336),w=n(74),I=n.n(w),k=n(5),N=n.n(k),_=n(12),R=n(222),M=n(220);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var H=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,x(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement("div",{className:"alert alert-info",style:Object.assign({marginTop:"10px",marginBottom:"0"},this.props.style)},r.createElement("span",null,r.createElement("i",{className:"fa fa-md fa-info-circle"})," ",this.props.message),!this.props.hidden&&r.createElement("button",{className:"btn btn-sm btn-default",style:{marginLeft:7},onClick:this.props.hide},"Hide"))}}])&&D(n.prototype,o),a&&D(n,a),t}(),F=U=H([o.observer],U);n(1048);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":K(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Y=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?W(e):t}(this,z(t).call(this,e)),Object.defineProperty(W(n),"distinguishMutationType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"distinguishGermlineMutations",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"sortByMutationType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"sortByDrivers",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"showWhitespaceBetweenColumns",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"showClinicalTrackLegends",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"showMinimap",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(W(n),"horzZoom",{enumerable:!0,configurable:!0,writable:!0,value:.5}),Object.defineProperty(W(n),"mouseInsideBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(W(n),"renderingComplete",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(W(n),"controlsHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(W(n),"controlsState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(W(n),"oncoprint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object(l.makeObservable)(W(n)),window.oncoprinter=W(n);var r=W(n);return n.controlsHandlers=n.buildControlsHandlers(),n.controlsState=Object(l.observable)({get showUnalteredColumns(){return r.props.store.showUnalteredColumns},get showWhitespaceBetweenColumns(){return r.showWhitespaceBetweenColumns},get showClinicalTrackLegends(){return r.showClinicalTrackLegends},get showMinimap(){return r.showMinimap},get sortByMutationType(){return r.sortByMutationType},get sortByCaseListDisabled(){return!r.props.store.inputSampleIdOrder},get distinguishMutationType(){return r.distinguishMutationType},get distinguishGermlineMutations(){return r.distinguishGermlineMutations},get distinguishDrivers(){return r.distinguishDrivers},get annotateDriversOncoKb(){return r.props.store.driverAnnotationSettings.oncoKb},get annotateDriversOncoKbDisabled(){return!s.b.serverConfig.show_oncokb},get annotateDriversOncoKbError(){return r.props.store.didOncoKbFail},get annotateDriversCBioPortal(){return r.props.store.driverAnnotationSettings.cbioportalCount},get hidePutativePassengers(){return!r.props.store.driverAnnotationSettings.includeVUS},get hideGermlineMutations(){return r.props.store.hideGermlineMutations},get annotateCBioPortalInputValue(){return r.props.store.driverAnnotationSettings.cbioportalCountThreshold+""},get sortByDrivers(){return r.sortByDrivers},get horzZoom(){return isNaN(r.horzZoom)?1:r.horzZoom},get annotateDriversHotspots(){return r.props.store.driverAnnotationSettings.hotspots},get annotateDriversHotspotsDisabled(){return!s.b.serverConfig.show_hotspot},get annotateCustomDriverBinary(){return r.props.store.driverAnnotationSettings.customBinary},get customDriverAnnotationBinaryMenuLabel(){return r.props.store.existCustomDrivers?"User-specified drivers":void 0}}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,r["Component"]),n=t,(a=[{key:"onMouseEnter",value:function(){this.mouseInsideBounds=!0}},{key:"onMouseLeave",value:function(){this.mouseInsideBounds=!1}},{key:"setAnnotateCBioPortalInputValue",value:function(e){this.controlsHandlers.onChangeAnnotateCBioPortalInputValue&&this.controlsHandlers.onChangeAnnotateCBioPortalInputValue(e)}},{key:"buildControlsHandlers",value:function(){var e=this;return{onSelectShowUnalteredColumns:function(t){e.props.store.showUnalteredColumns=t},onSelectShowWhitespaceBetweenColumns:function(t){e.showWhitespaceBetweenColumns=t},onSelectShowClinicalTrackLegends:function(t){e.showClinicalTrackLegends=t},onSelectShowMinimap:function(t){e.showMinimap=t},onSelectDistinguishMutationType:function(t){e.distinguishMutationType=t},onSelectDistinguishGermlineMutations:function(t){e.distinguishGermlineMutations=t},onSelectDistinguishDrivers:Object(l.action)(function(t){t?(e.controlsState.annotateDriversOncoKbDisabled||e.controlsState.annotateDriversOncoKbError||(e.props.store.driverAnnotationSettings.oncoKb=!0),e.props.store.driverAnnotationSettings.cbioportalCount=!0,e.props.store.driverAnnotationSettings.customBinary=!0):(e.props.store.driverAnnotationSettings.oncoKb=!1,e.props.store.driverAnnotationSettings.cbioportalCount=!1,e.props.store.driverAnnotationSettings.customBinary=!1,e.props.store.driverAnnotationSettings.includeVUS=!0)}),onSelectAnnotateOncoKb:Object(l.action)(function(t){e.props.store.driverAnnotationSettings.oncoKb=t}),onSelectAnnotateCBioPortal:Object(l.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCount=t}),onChangeAnnotateCBioPortalInputValue:Object(l.action)(function(t){e.props.store.driverAnnotationSettings.cbioportalCountThreshold=parseInt(t,10),e.controlsHandlers.onSelectAnnotateCBioPortal&&e.controlsHandlers.onSelectAnnotateCBioPortal(!0)}),onSelectCustomDriverAnnotationBinary:Object(l.action)(function(t){e.props.store.driverAnnotationSettings.customBinary=t}),onSelectHideVUS:function(t){e.props.store.driverAnnotationSettings.includeVUS=!t},onSelectHideGermlineMutations:function(t){e.props.store.hideGermlineMutations=t},onSelectSortByMutationType:function(t){e.sortByMutationType=t},onSelectSortByDrivers:function(t){e.sortByDrivers=t},onClickDownload:function(t){switch(t){case"pdf":Object(u.Cb)("oncoprint.pdf",e.oncoprint.toSVG(!1));break;case"png":e.oncoprint.toCanvas(function(e,t){e.toBlob(function(n){t&&alert("Oncoprint too large - PNG truncated to ".concat(e.getAttribute("width"),"x").concat(e.getAttribute("height"))),I()(n,"oncoprint.png")})},2);break;case"svg":I()((new XMLSerializer).serializeToString(e.oncoprint.toSVG(!1)),"oncoprint.svg");break;case"order":var n="".concat("Sample"," order in the Oncoprint is:\n"),r=e.oncoprint.getIdOrder(),o=!0,a=!1,i=void 0;try{for(var l,s=r[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;n+="".concat(c,"\n")}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}I()(n,"OncoPrintSamples.txt")}},onSetHorzZoom:function(t){e.oncoprint.setHorzZoomCentered(t)},onClickZoomIn:function(){e.oncoprint.setHorzZoomCentered(e.oncoprint.getHorzZoom()/.7)},onClickZoomOut:function(){e.oncoprint.setHorzZoomCentered(.7*e.oncoprint.getHorzZoom())},onClickNGCHM:function(){}}}},{key:"initializeOncoprint",value:function(){var e=this;Object(R.a)(this.props.store.alteredSampleIds,function(t){e.oncoprint.setHorzZoomToFit(t)}),this.oncoprint.onHorzZoom(function(t){return e.horzZoom=t}),this.horzZoom=this.oncoprint.getHorzZoom()}},{key:"oncoprintRef",value:function(e){this.oncoprint=e,this.initializeOncoprint()}},{key:"onMinimapClose",value:function(){this.showMinimap=!1}},{key:"onSuppressRendering",value:function(){this.renderingComplete=!1}},{key:"onReleaseRendering",value:function(){this.renderingComplete=!0}},{key:"getControls",value:function(){return this.oncoprint&&!this.oncoprint.webgl_unavailable?r.createElement(u.o,{showByDefault:!0,show:!0},r.createElement(O.a,{handlers:this.controlsHandlers,state:this.controlsState,oncoprinterMode:!0})):r.createElement("span",null)}},{key:"render",value:function(){var e=this;return r.createElement("div",{className:"posRelative"},r.createElement("div",{className:N()("oncoprintContainer",{fadeIn:!this.isHidden}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.props.store.existCustomDrivers&&!this.props.store.customDriverWarningHidden&&this.props.store.driverAnnotationSettings.customBinary&&r.createElement(F,{message:"Driver annotations reflect only user-provided data. Use the Mutations menu to modify annotation settings.",style:{marginBottom:10},hidden:this.props.store.customDriverWarningHidden,hide:function(){e.props.store.customDriverWarningHidden=!0}}),r.createElement(o.Observer,null,this.getControls),r.createElement("div",{style:{position:"relative"}},r.createElement("div",{id:"oncoprintDiv"},this.alterationInfo,r.createElement(G.c,{key:this.props.store.submitCount,oncoprintRef:this.oncoprintRef,clinicalTracks:this.props.store.clinicalTracks,geneticTracks:this.props.store.geneticTracks.result,geneticTracksOrder:this.props.store.geneOrder&&this.props.store.geneOrder.map(c.f),genesetHeatmapTracks:[],heatmapTracks:this.props.store.heatmapTracks,divId:this.props.divId,width:this.width,caseLinkOutInTooltips:!1,suppressRendering:this.isLoading,onSuppressRendering:this.onSuppressRendering,onReleaseRendering:this.onReleaseRendering,keepSorted:!0,hiddenIds:this.props.store.hiddenSampleIds.result,showClinicalTrackLegends:this.showClinicalTrackLegends,horzZoomToFitIds:this.props.store.alteredSampleIds.result,distinguishMutationType:this.distinguishMutationType,distinguishGermlineMutations:this.distinguishGermlineMutations,distinguishDrivers:this.distinguishDrivers,sortConfig:this.sortConfig,showWhitespaceBetweenColumns:this.showWhitespaceBetweenColumns,showMinimap:this.showMinimap,onMinimapClose:this.onMinimapClose})))))}},{key:"distinguishDrivers",get:function(){return this.props.store.driverAnnotationSettings.driversAnnotated}},{key:"sortConfig",get:function(){return{sortByMutationType:this.sortByMutationType,sortByDrivers:this.sortByDrivers,order:this.props.store.inputSampleIdOrder}}},{key:"alterationInfo",get:function(){if(this.props.store.alteredSampleIds.isComplete){var e=this.props.store.sampleIds.length,t=this.props.store.alteredSampleIds.result.length;return r.createElement("span",{style:{marginTop:"15px",marginBottom:"15px",display:"block"}},"Altered in ".concat(t," (").concat(Object(P.o)(t,e),") of ").concat(e," samples."))}return null}},{key:"isLoading",get:function(){return this.props.store.geneticTracks.isPending||this.props.store.alteredSampleIds.isPending||this.props.store.unalteredSampleIds.isPending}},{key:"isHidden",get:function(){return this.isLoading||!this.renderingComplete}},{key:"width",get:function(){return M.a.size.width-75}}])&&V(n.prototype,a),i&&V(n,i),t}();q([l.observable],Y.prototype,"distinguishMutationType",void 0),q([l.observable],Y.prototype,"distinguishGermlineMutations",void 0),q([l.observable],Y.prototype,"sortByMutationType",void 0),q([l.observable],Y.prototype,"sortByDrivers",void 0),q([l.observable],Y.prototype,"showWhitespaceBetweenColumns",void 0),q([l.observable],Y.prototype,"showClinicalTrackLegends",void 0),q([l.observable],Y.prototype,"showMinimap",void 0),q([l.observable],Y.prototype,"horzZoom",void 0),q([l.observable],Y.prototype,"mouseInsideBounds",void 0),q([l.observable],Y.prototype,"renderingComplete",void 0),q([l.observable.ref],Y.prototype,"oncoprint",void 0),q([l.computed],Y.prototype,"distinguishDrivers",null),q([_.default],Y.prototype,"onMouseEnter",null),q([_.default],Y.prototype,"onMouseLeave",null),q([l.action],Y.prototype,"setAnnotateCBioPortalInputValue",null),q([l.action],Y.prototype,"initializeOncoprint",null),q([l.action.bound],Y.prototype,"oncoprintRef",null),q([l.action.bound],Y.prototype,"onMinimapClose",null),q([l.action.bound],Y.prototype,"onSuppressRendering",null),q([l.action.bound],Y.prototype,"onReleaseRendering",null),q([l.computed],Y.prototype,"sortConfig",null),q([l.computed],Y.prototype,"alterationInfo",null),q([l.computed],Y.prototype,"isLoading",null),q([l.computed],Y.prototype,"isHidden",null),q([_.default],Y.prototype,"getControls",null),q([l.computed],Y.prototype,"width",null);var Q=Y=q([o.observer],Y),X=n(17),J=n(224);function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:19;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"seed",{enumerable:!0,configurable:!0,writable:!0,value:t})}var t,n,r;return t=e,(n=[{key:"random",value:function(){var e=1e4*Math.sin(this.seed),t=e-Math.floor(e);return this.seed=t,t}}])&&$(t.prototype,n),r&&$(t,r),e}()),te=["TCGA-25-2392-01","TCGA-25-2393-01","TCGA-04-1331-01","TCGA-04-1365-01","TCGA-04-1648-01","TCGA-09-1666-01","TCGA-13-0720-01","TCGA-13-0801-01","TCGA-13-0905-01","TCGA-13-0924-01","TCGA-13-1405-01","TCGA-13-1408-01","TCGA-13-1488-01","TCGA-23-1023-01","TCGA-23-1032-01","TCGA-23-1107-01","TCGA-23-1114-01","TCGA-23-1118-01","TCGA-23-1121-01","TCGA-23-2084-01","TCGA-24-0968-01","TCGA-24-0970-01","TCGA-24-1103-01","TCGA-24-1474-01","TCGA-24-1567-01","TCGA-24-2030-01","TCGA-24-2036-01","TCGA-24-2262-01","TCGA-24-2297-01","TCGA-25-1322-01","TCGA-25-2391-01","TCGA-25-2401-01","TCGA-29-1697-01","TCGA-29-1702-01","TCGA-29-1761-01","TCGA-30-1860-01","TCGA-31-1951-01","TCGA-31-1959-01","TCGA-36-1570-01","TCGA-57-1586-01","TCGA-61-1728-01","TCGA-61-1895-01","TCGA-61-1907-01","TCGA-61-2012-01","TCGA-61-2094-01","TCGA-61-2097-01","TCGA-25-1625-01","TCGA-04-1357-01","TCGA-13-0893-01","TCGA-61-2109-01","TCGA-13-0761-01","TCGA-29-2427-01","TCGA-23-1122-01","TCGA-23-1027-01","TCGA-25-1632-01","TCGA-23-1026-01","TCGA-13-0804-01","TCGA-24-2298-01","TCGA-61-2008-01","TCGA-09-2045-01","TCGA-04-1356-01","TCGA-25-1630-01","TCGA-24-1470-01","TCGA-13-0730-01","TCGA-13-0883-01","TCGA-13-0903-01","TCGA-13-0887-01","TCGA-13-1494-01","TCGA-09-2051-01","TCGA-23-2078-01","TCGA-23-2079-01","TCGA-10-0931-01","TCGA-59-2348-01","TCGA-23-2077-01","TCGA-09-1669-01","TCGA-23-2081-01","TCGA-13-1489-01","TCGA-25-1318-01","TCGA-13-0793-01","TCGA-24-1463-01","TCGA-13-0913-01","TCGA-04-1367-01","TCGA-24-1562-01","TCGA-13-0885-01","TCGA-13-0890-01","TCGA-13-1512-01","TCGA-23-1030-01","TCGA-25-1634-01","TCGA-24-1555-01","TCGA-13-0886-01","TCGA-13-0792-01","TCGA-24-2293-01","TCGA-23-1120-01","TCGA-57-1584-01","TCGA-13-0900-01","TCGA-24-2280-01","TCGA-24-0975-01","TCGA-24-2288-01","TCGA-24-1417-01","TCGA-13-1498-01","TCGA-13-1499-01","TCGA-13-0726-01","TCGA-25-2404-01","TCGA-13-1481-01","TCGA-10-0930-01","TCGA-13-1492-01","TCGA-13-1505-01","TCGA-04-1336-01","TCGA-24-2261-01","TCGA-13-0912-01","TCGA-36-1580-01","TCGA-59-2352-01","TCGA-25-2409-01","TCGA-61-1919-01","TCGA-13-0919-01","TCGA-09-2050-01","TCGA-25-1626-01","TCGA-09-2049-01","TCGA-24-1422-01","TCGA-24-1416-01","TCGA-24-1564-01","TCGA-61-2088-01","TCGA-10-0934-01","TCGA-61-2003-01","TCGA-13-0714-01","TCGA-13-1510-01","TCGA-36-1576-01","TCGA-25-1329-01","TCGA-04-1337-01","TCGA-24-1428-01","TCGA-04-1332-01","TCGA-04-1349-01","TCGA-13-0791-01","TCGA-24-2019-01","TCGA-24-1425-01","TCGA-24-1423-01","TCGA-10-0926-01","TCGA-13-0760-01","TCGA-24-1556-01","TCGA-24-1558-01","TCGA-24-1616-01","TCGA-24-1604-01","TCGA-09-1659-01","TCGA-24-1413-01","TCGA-09-1662-01","TCGA-13-0724-01","TCGA-13-1484-01","TCGA-24-2254-01","TCGA-61-2101-01","TCGA-09-0366-01","TCGA-09-2053-01","TCGA-24-2024-01","TCGA-57-1993-01","TCGA-13-0751-01","TCGA-10-0928-01","TCGA-04-1525-01","TCGA-23-1022-01","TCGA-30-1862-01","TCGA-13-0765-01","TCGA-31-1953-01","TCGA-04-1514-01","TCGA-13-1509-01","TCGA-24-1419-01","TCGA-25-1321-01","TCGA-20-0987-01","TCGA-23-1024-01","TCGA-24-2290-01","TCGA-23-1124-01","TCGA-61-1736-01","TCGA-13-0800-01","TCGA-24-1434-01","TCGA-04-1517-01","TCGA-09-1661-01","TCGA-61-1995-01","TCGA-24-1614-01","TCGA-36-1569-01","TCGA-24-2271-01","TCGA-23-1123-01","TCGA-13-1507-01","TCGA-13-0899-01","TCGA-23-1110-01","TCGA-25-1319-01","TCGA-24-1548-01","TCGA-13-0910-01","TCGA-04-1346-01","TCGA-04-1350-01","TCGA-25-1326-01","TCGA-24-1549-01","TCGA-13-0891-01","TCGA-13-1411-01","TCGA-24-2260-01","TCGA-04-1342-01","TCGA-13-0723-01","TCGA-24-2289-01","TCGA-59-2354-01","TCGA-59-2350-01","TCGA-59-2363-01","TCGA-13-0762-01","TCGA-59-2351-01","TCGA-25-2398-01","TCGA-25-1315-01","TCGA-13-1497-01","TCGA-30-1853-01","TCGA-57-1582-01","TCGA-24-0966-01","TCGA-24-1557-01","TCGA-59-2355-01","TCGA-10-0927-01","TCGA-09-2044-01","TCGA-13-0906-01","TCGA-25-1627-01","TCGA-13-1482-01","TCGA-24-2281-01","TCGA-13-0889-01","TCGA-61-2016-01","TCGA-04-1362-01","TCGA-13-0717-01","TCGA-61-2104-01","TCGA-10-0938-01","TCGA-24-2035-01","TCGA-24-1105-01","TCGA-24-0979-01","TCGA-04-1361-01","TCGA-25-1628-01","TCGA-13-1491-01","TCGA-25-1635-01","TCGA-13-1506-01","TCGA-24-1560-01","TCGA-13-1410-01","TCGA-24-1464-01","TCGA-10-0935-01","TCGA-36-1568-01","TCGA-23-2072-01","TCGA-13-1487-01","TCGA-24-1426-01","TCGA-13-0920-01","TCGA-25-1320-01","TCGA-23-1021-01","TCGA-04-1348-01","TCGA-04-1338-01","TCGA-23-1117-01","TCGA-36-1578-01","TCGA-36-1575-01","TCGA-36-1574-01","TCGA-25-2399-01","TCGA-30-1891-01","TCGA-36-1577-01","TCGA-24-1466-01","TCGA-61-2092-01","TCGA-04-1347-01","TCGA-20-0990-01","TCGA-24-1104-01","TCGA-24-1418-01","TCGA-57-1583-01","TCGA-13-0795-01","TCGA-13-1496-01","TCGA-25-1623-01","TCGA-24-1551-01","TCGA-24-1431-01","TCGA-13-2060-01","TCGA-25-1631-01","TCGA-13-1495-01","TCGA-24-1603-01","TCGA-04-1530-01","TCGA-04-1542-01","TCGA-24-1471-01","TCGA-61-2102-01","TCGA-24-1469-01","TCGA-13-1407-01","TCGA-23-1028-01","TCGA-13-0894-01","TCGA-13-1409-01","TCGA-24-0982-01","TCGA-61-2000-01","TCGA-61-2110-01","TCGA-31-1950-01","TCGA-24-1424-01","TCGA-24-1427-01","TCGA-61-1998-01","TCGA-13-0904-01","TCGA-13-0923-01","TCGA-24-1563-01","TCGA-13-1504-01","TCGA-25-1324-01","TCGA-13-0897-01","TCGA-10-0937-01","TCGA-04-1364-01","TCGA-20-0991-01","TCGA-24-2267-01","TCGA-13-1404-01","TCGA-13-0911-01","TCGA-25-1313-01","TCGA-36-1571-01","TCGA-13-0884-01","TCGA-13-1412-01","TCGA-24-1545-01","TCGA-24-1436-01","TCGA-25-2400-01","TCGA-13-1403-01","TCGA-23-1116-01","TCGA-10-0925-01","TCGA-10-0933-01","TCGA-20-1684-01","TCGA-20-1685-01","TCGA-20-1686-01","TCGA-20-1687-01","TCGA-23-1029-01","TCGA-23-1031-01","TCGA-23-1109-01","TCGA-23-1111-01","TCGA-23-1113-01","TCGA-23-1119-01","TCGA-23-1809-01","TCGA-23-2641-01","TCGA-23-2643-01","TCGA-23-2645-01","TCGA-23-2647-01","TCGA-23-2649-01","TCGA-24-0980-01","TCGA-24-0981-01","TCGA-24-1430-01","TCGA-24-1435-01","TCGA-24-1467-01","TCGA-24-1544-01","TCGA-24-1546-01","TCGA-24-1550-01","TCGA-24-1552-01","TCGA-24-1553-01","TCGA-24-1565-01","TCGA-24-1842-01","TCGA-24-1843-01","TCGA-24-1844-01","TCGA-24-1845-01","TCGA-24-1846-01","TCGA-24-1847-01","TCGA-24-1849-01","TCGA-24-1850-01","TCGA-24-1852-01","TCGA-24-1920-01","TCGA-24-1923-01","TCGA-24-1924-01","TCGA-24-1927-01","TCGA-24-1928-01","TCGA-24-1930-01","TCGA-24-2020-01","TCGA-24-2023-01","TCGA-24-2026-01","TCGA-24-2027-01","TCGA-24-2029-01","TCGA-24-2033-01","TCGA-24-2038-01","TCGA-24-2295-01","TCGA-25-1312-01","TCGA-25-1314-01","TCGA-25-1316-01","TCGA-25-1317-01","TCGA-25-1323-01","TCGA-25-1325-01","TCGA-25-1328-01","TCGA-25-1633-01","TCGA-25-1870-01","TCGA-25-1871-01","TCGA-25-1877-01","TCGA-25-1878-01","TCGA-25-2042-01","TCGA-25-2390-01","TCGA-25-2396-01","TCGA-25-2397-01"],ne=["Prostate","Lung","Breast",b.c],re="sample\tAGE(".concat(b.a.NUMBER,")\tCANCER_TYPE\tMUTATION_COUNT(").concat(b.a.LOG_NUMBER,")\tMUTATION_SPECTRUM(C>A/C>G/C>T/T>A/T>C/T>G)\n")+te.map(function(e){return[e,20+Math.round(60*ee.random()),ne[Math.floor(ee.random()*ne.length)],Math.round(Math.exp(7*ee.random())),[1,2,3,4,5,6].map(function(){return Math.round(100*ee.random())}).join("/")].join("\t")}).join("\n"),oe="sample\tmethylation(".concat(b.b.HEATMAP_01,")\tzscores(").concat(b.b.HEATMAP_ZSCORE,")\theatmap(").concat(b.b.HEATMAP,")\n")+te.map(function(e){return[e,ee.random(),5*ee.random()-2.5,20*ee.random()-5].join("\t")}).join("\n"),ae=n(804),ie=n(1170);function le(e,t){return new Promise(function(n){if(e&&e.files&&e.files.length>0){var r=new FileReader;r.onload=function(){var e=r.result;n(e||"")},r.readAsText(e.files[0])}else n(t)})}var se=n(1569),ce=n.n(se),ue=r.createElement("div",{className:ce.a.dataFormatHelp},r.createElement("h4",null,"Genomic data format"),"Each row of the data can take one of two formats, with tab- or space-delimited columns:",r.createElement("br",null),r.createElement("strong",null,"(1)")," ",r.createElement("code",null,"Sample")," only (e.g. so that percent altered in your data can be properly calculated by including unaltered samples).",r.createElement("br",null),r.createElement("strong",null,"(2)")," ",r.createElement("code",null,"Sample")," ",r.createElement("code",null,"Gene"),r.createElement("code",null,"Alteration"),r.createElement("code",null,"Type"),r.createElement("code",null,"Track Name (optional)"),r.createElement("br",null),"For rows of type 2, the definition is below:",r.createElement("ol",null,r.createElement("li",null,r.createElement("code",null,"Sample"),": Sample ID"),r.createElement("li",null,r.createElement("code",null,"Gene"),": Gene symbol (or other gene identifier)"),r.createElement("li",null,r.createElement("code",null,"Alteration"),": Definition of the alteration event",r.createElement("ul",null,r.createElement("li",null,"Mutation event: amino acid change or any other information about the mutation"),r.createElement("li",null,"Fusion event: fusion information"),r.createElement("li",null,"Copy number alteration (CNA) - please use one of the four events below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"AMP"),": high level amplification"),r.createElement("li",null,r.createElement("code",null,"GAIN"),": low level gain"),r.createElement("li",null,r.createElement("code",null,"HETLOSS"),": shallow deletion"),r.createElement("li",null,r.createElement("code",null,"HOMDEL"),": deep deletion"))),r.createElement("li",null,"mRNA expression - please use one of the two events below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"HIGH"),": expression high"),r.createElement("li",null,r.createElement("code",null,"LOW"),": expression low"))),r.createElement("li",null,"Protein expression - please use one of the two events below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"HIGH"),": Protein high"),r.createElement("li",null,r.createElement("code",null,"LOW"),": Protein low"))))),r.createElement("li",null,r.createElement("code",null,"Type"),": Definition of the alteration type. It has to be one of the following.",r.createElement("ul",null,r.createElement("li",null,"For a mutation event, please use one of the five mutation types below:",r.createElement("ul",null,r.createElement("li",null,r.createElement("code",null,"MISSENSE"),": a missense mutation"),r.createElement("li",null,r.createElement("code",null,"INFRAME"),": a inframe mutation"),r.createElement("li",null,r.createElement("code",null,"TRUNC"),": a truncation mutation"),r.createElement("li",null,r.createElement("code",null,"PROMOTER"),": a promoter mutation"),r.createElement("li",null,r.createElement("code",null,"OTHER"),": any other kind of mutation")),r.createElement("br",null),"In addition, mutation types can be augmented with the modifiers"," ",r.createElement("span",{style:{whiteSpace:"nowrap"}},r.createElement("code",null,"_GERMLINE")," and ",r.createElement("code",null,"_DRIVER")),"to indicate that they are, respectively, germline and driver mutations.",r.createElement("br",null),"For example: ",r.createElement("code",null,"INFRAME_GERMLINE")," or"," ",r.createElement("code",null,"MISSENSE_GERMLINE_DRIVER")," or"," ",r.createElement("code",null,"TRUNC_DRIVER"),".",r.createElement("br",null)),r.createElement("li",null,r.createElement("code",null,"FUSION"),": a fusion event"),r.createElement("li",null,r.createElement("code",null,"CNA"),": a copy number alteration event"),r.createElement("li",null,r.createElement("code",null,"EXP"),": a expression event"),r.createElement("li",null,r.createElement("code",null,"PROT"),": a protein expression event"))),r.createElement("li",null,r.createElement("code",null,"Track Name"),": Optional way to create a track with a different label than the gene. A common use case is to have more than one track with the same gene, e.g. where one track shows different data for each sample. Another use case could be to have one track that has data from more than one gene."))),pe=r.createElement("div",{className:ce.a.dataFormatHelp},r.createElement("h4",null,"Clinical data format"),"All rows are tab- or space-delimited.",r.createElement("br",null),"The first (header) row gives the names of the tracks, as well as their data type. The possible clinical data types are"," ",b.a.NUMBER,", ",b.a.LOG_NUMBER,", or"," ",b.a.STRING,". The default track type is"," ",b.a.STRING,"). Finally, you can also enter a"," ","/-delimited list of labels to create a stacked-bar-chart track (see example data below). An example first row is:",r.createElement("br",null),r.createElement("code",null,"Sample"),r.createElement("code",null,"Age(",b.a.NUMBER,")"),r.createElement("code",null,"Cancer_Type(",b.a.STRING,")"),r.createElement("code",null,"Mutation_Count(",b.a.LOG_NUMBER,")"),r.createElement("code",null,"Mutation_Spectrum(C",">","A/C",">","G/C",">","T/T",">","A/T",">","C/T",">","G)"),r.createElement("br",null),"Each following row gives the sample id, then the value for each clinical attribute, or the special value ",b.c," which indicates that there's no data.",r.createElement("br",null),"Some example data rows would then be:",r.createElement("br",null),r.createElement("code",null,"sample1")," ",r.createElement("code",null,"30"),r.createElement("code",null,b.c)," ",r.createElement("code",null,"1"),r.createElement("code",null,"1/8/3/0/9/2"),r.createElement("br",null),r.createElement("code",null,"sample2")," ",r.createElement("code",null,"27")," ",r.createElement("code",null,"Colorectal"),r.createElement("code",null,"100")," ",r.createElement("code",null,"5/1/4/2/0/3"),r.createElement("br",null),r.createElement("code",null,"sample3")," ",r.createElement("code",null,b.c),r.createElement("code",null,"Breast"),r.createElement("code",null,b.c),r.createElement("code",null,b.c),r.createElement("br",null)),de=r.createElement("div",{className:ce.a.dataFormatHelp},r.createElement("h4",null,"Heatmap data format"),"All rows are tab- or space-delimited.",r.createElement("br",null),"The first (header) row gives the names of the tracks, as well as their data type. The possible heatmap types are"," ",b.b.HEATMAP_ZSCORE," for z-score data,"," ",b.b.HEATMAP_01," for data between 0 and 1 (such as methylation), and ",b.b.HEATMAP," which is for all other heatmaps. The default track type is ",b.b.HEATMAP,". An example first row is:",r.createElement("br",null),r.createElement("code",null,"Sample"),r.createElement("code",null,"methylation(",b.b.HEATMAP_01,")"),r.createElement("code",null,"expression(",b.b.HEATMAP,")"),r.createElement("code",null,"zscores(",b.b.HEATMAP_ZSCORE,")"),r.createElement("br",null),"Each following row gives the sample id, then the value for each heatmap track, or the special value ",b.c," which indicates that there's no data.",r.createElement("br",null),"Some example data rows would then be:",r.createElement("br",null),r.createElement("code",null,"sample1")," ",r.createElement("code",null,"0.5"),r.createElement("code",null,b.c)," ",r.createElement("code",null,"-1.3"),r.createElement("br",null),r.createElement("code",null,"sample2")," ",r.createElement("code",null,"0.2")," ",r.createElement("code",null,"5"),r.createElement("code",null,"2.3"),r.createElement("br",null),r.createElement("code",null,"sample3")," ",r.createElement("code",null,b.c),r.createElement("code",null,"-3"),r.createElement("code",null,b.c),r.createElement("br",null));function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"OncoprinterTab",function(){return Te});var Te,ye=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":be(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Ae=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}s((r=r.apply(e,t||[])).next())})};!function(e){e.ONCOPRINT="oncoprint",e.MUTUAL_EXCLUSIVITY="mutualExclusivity"}(Te||(Te={}));var ve=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=me(t).call(this,e))||"object"!==be(o)&&"function"!=typeof o?he(r):o,Object.defineProperty(he(n),"store",{enumerable:!0,configurable:!0,writable:!0,value:new g}),Object.defineProperty(he(n),"geneticFileInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(he(n),"clinicalFileInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(he(n),"heatmapFileInput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(he(n),"activeTabId",{enumerable:!0,configurable:!0,writable:!0,value:Te.ONCOPRINT}),Object.defineProperty(he(n),"dataInputOpened",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(he(n),"geneticHelpOpened",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(he(n),"clinicalHelpOpened",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(he(n),"heatmapHelpOpened",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(he(n),"helpOpened",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(he(n),"geneticDataInput",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(he(n),"clinicalDataInput",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(he(n),"heatmapDataInput",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(he(n),"geneOrderInput",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(he(n),"sampleOrderInput",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object(l.makeObservable)(he(n)),window.oncoprinterTool=he(n),n}var n,s,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r["Component"]),n=t,(s=[{key:"componentDidMount",value:function(){var e=Object(u.eb)().clientPostedData;e&&(this.geneticDataInput=e.genetic,this.clinicalDataInput=e.clinical,this.heatmapDataInput=e.heatmap,this.doSubmit(this.geneticDataInput,this.clinicalDataInput,this.heatmapDataInput),Object(u.eb)().clientPostedData=null)}},{key:"toggleHelpOpened",value:function(){this.helpOpened=!this.helpOpened}},{key:"populateGeneticExampleData",value:function(){this.geneticDataInput="TCGA-25-2392-01\tTP53\tFUSION\tFUSION\nTCGA-04-1331-01\tPTEN\tHOMDEL\tCNA\nTCGA-04-1357-01\tBRCA1\tQ1538A\tMISSENSE_GERMLINE_DRIVER\nTCGA-13-0893-01\tBRCA1\tK503fs\tTRUNC\nTCGA-61-2109-01\tBRCA1\tK654fs\tTRUNC\nTCGA-13-0761-01\tBRCA1\tR1495_splice\tSPLICE\nTCGA-23-1118-01\tBRCA1\tE23fs\tTRUNC\nTCGA-29-2427-01\tBRCA1\tL431*\tTRUNC\nTCGA-23-1122-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-25-2392-01\tBRCA1\tE1345fs\tTRUNC_GERMLINE\nTCGA-23-1027-01\tBRCA1\tE23fs\tTRUNC_GERMLINE\nTCGA-25-1632-01\tBRCA1\tL1216fs\tTRUNC_GERMLINE\nTCGA-23-1026-01\tBRCA1\tG813fs\tTRUNC\nTCGA-13-0804-01\tBRCA1\tC47W\tMISSENSE_GERMLINE\nTCGA-25-2393-01\tTP53\tFUSION\tFUSION\nTCGA-04-1365-01\tPTEN\tHOMDEL\tCNA\nTCGA-04-1648-01\tTP53\tHOMDEL\tCNA\nTCGA-09-1666-01\tPTEN\tAMP\tCNA\nTCGA-13-0720-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-0801-01\tBRCA1\tHOMDEL\tCNA\nTCGA-13-0801-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-0905-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-0924-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-1405-01\tPTEN\tHOMDEL\tCNA\nTCGA-13-1408-01\tTP53\tHOMDEL\tCNA\nTCGA-13-1488-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1023-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1032-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1107-01\tPTEN\tHOMDEL\tCNA\nTCGA-23-1114-01\tBRCA2\tHOMDEL\tCNA\nTCGA-23-1118-01\tPTEN\tAMP\tCNA\nTCGA-23-1121-01\tPTEN\tAMP\tCNA\nTCGA-23-2084-01\tTP53\tHOMDEL\tCNA\nTCGA-24-0968-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-0970-01\tBRCA2\tAMP\tCNA\nTCGA-24-1103-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-1474-01\tTP53\tAMP\tCNA\nTCGA-24-1567-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2030-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2036-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2262-01\tPTEN\tHOMDEL\tCNA\nTCGA-24-2297-01\tPTEN\tHOMDEL\tCNA\nTCGA-25-1322-01\tBRCA2\tAMP\tCNA\nTCGA-25-2391-01\tPTEN\tHOMDEL\tCNA\nTCGA-25-2401-01\tBRCA2\tHOMDEL\tCNA\nTCGA-29-1697-01\tPTEN\tAMP\tCNA\nTCGA-29-1702-01\tTP53\tAMP\tCNA\nTCGA-29-1761-01\tPTEN\tHOMDEL\tCNA\nTCGA-30-1860-01\tPTEN\tHOMDEL\tCNA\nTCGA-31-1951-01\tPTEN\tHOMDEL\tCNA\nTCGA-31-1959-01\tBRCA1\tHOMDEL\tCNA\nTCGA-31-1959-01\tPTEN\tHOMDEL\tCNA\nTCGA-36-1570-01\tPTEN\tHOMDEL\tCNA\nTCGA-57-1586-01\tBRCA1\tHOMDEL\tCNA\nTCGA-61-1728-01\tPTEN\tHOMDEL\tCNA\nTCGA-61-1895-01\tPTEN\tHOMDEL\tCNA\nTCGA-61-1907-01\tBRCA2\tHOMDEL\tCNA\nTCGA-61-2012-01\tTP53\tAMP\tCNA\nTCGA-61-2094-01\tPTEN\tHOMDEL\tCNA\nTCGA-61-2097-01\tBRCA2\tHOMDEL\tCNA\nTCGA-29-1702-01\tTP53\tHIGH\tEXP\nTCGA-61-2012-01\tTP53\tHIGH\tEXP\nTCGA-36-1570-01\tPTEN\tLOW\tEXP\nTCGA-57-1586-01\tBRCA1\tLOW\tEXP\nTCGA-61-1728-01\tPTEN\tLOW\tEXP\nTCGA-61-1895-01\tPTEN\tLOW\tEXP\nTCGA-61-1907-01\tBRCA2\tLOW\tEXP\nTCGA-25-1625-01\tBRCA1\tE116*\tTRUNC\nTCGA-24-2298-01\tBRCA1\tQ1395fs\tTRUNC\nTCGA-61-2008-01\tBRCA1\tW1815*\tTRUNC\nTCGA-09-2045-01\tBRCA1\tQ1779fs\tTRUNC\nTCGA-04-1356-01\tBRCA1\tV722fs\tTRUNC\nTCGA-25-1630-01\tBRCA1\tK519fs\tTRUNC\nTCGA-24-1470-01\tBRCA1\tL1676fs\tTRUNC\nTCGA-13-0730-01\tBRCA1\tR1835*\tTRUNC\nTCGA-13-0883-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-25-2401-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-13-0903-01\tBRCA1\tR504fs\tTRUNC\nTCGA-13-0887-01\tBRCA1\tE23fs\tTRUNC\nTCGA-13-1494-01\tBRCA1\tK45_splice\tSPLICE\nTCGA-09-2051-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-23-2078-01\tBRCA1\tE23fs\tTRUNC\nTCGA-23-2079-01\tBRCA1\tE23fs\tTRUNC\nTCGA-10-0931-01\tBRCA1\tE23fs\tTRUNC\nTCGA-59-2348-01\tBRCA1\tE797*\tTRUNC\nTCGA-23-2077-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-09-1669-01\tBRCA1\tE1345fs\tTRUNC\nTCGA-23-2081-01\tBRCA1\tQ1756fs\tTRUNC\nTCGA-13-1408-01\tBRCA1\tE23fs\tTRUNC\nTCGA-13-1489-01\tBRCA1\tN1265fs\tTRUNC\nTCGA-25-1318-01\tBRCA2\tL1491fs\tTRUNC\nTCGA-13-0793-01\tBRCA2\tT3085fs\tTRUNC\nTCGA-24-1463-01\tBRCA2\tG602fs\tTRUNC\nTCGA-13-0913-01\tBRCA2\tE1857fs\tTRUNC\nTCGA-04-1367-01\tBRCA2\tE294*\tTRUNC\nTCGA-24-1562-01\tBRCA2\tK3326*\tTRUNC\nTCGA-04-1331-01\tBRCA2\tC711*\tTRUNC\nTCGA-24-1103-01\tBRCA2\tK1638E\tMISSENSE\nTCGA-13-0885-01\tBRCA2\tK1406fs\tTRUNC\nTCGA-13-0890-01\tBRCA2\tV1229fs\tTRUNC\nTCGA-13-1512-01\tBRCA2\tK3326*\tTRUNC\nTCGA-23-1030-01\tBRCA2\tT1354M\tMISSENSE\nTCGA-23-1026-01\tBRCA2\tK3326*\tTRUNC\nTCGA-25-1634-01\tBRCA2\tE2878_splice\tSPLICE\nTCGA-24-1555-01\tBRCA2\tT2607fs\tTRUNC\nTCGA-13-0886-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-13-0792-01\tBRCA2\tE1143D\tMISSENSE\nTCGA-24-2293-01\tBRCA2\tR2520*\tTRUNC\nTCGA-23-1120-01\tBRCA2\tL3277fs\tTRUNC\nTCGA-57-1584-01\tBRCA2\tQ1782fs\tTRUNC\nTCGA-13-0900-01\tBRCA2\tT256fs\tTRUNC\nTCGA-24-2280-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-24-0975-01\tBRCA2\tV211_splice\tSPLICE\nTCGA-24-2288-01\tBRCA2\tT219fs\tTRUNC\nTCGA-24-1417-01\tBRCA2\tR1704fs\tTRUNC\nTCGA-13-1498-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-13-1499-01\tBRCA2\tS1982fs\tTRUNC\nTCGA-13-0726-01\tBRCA2\tR2394*\tTRUNC\nTCGA-25-2404-01\tBRCA2\tE342fs\tTRUNC\nTCGA-13-1481-01\tBRCA2\tL2696fs\tTRUNC\nTCGA-10-0930-01\tPTEN\tV175L\tMISSENSE\nTCGA-13-1492-01\tPTEN\tR233fs\tTRUNC\nTCGA-24-0968-01\tTP53\tH193R\tMISSENSE\nTCGA-13-1505-01\tTP53\tP75fs\tTRUNC\nTCGA-04-1336-01\tTP53\tR248W\tMISSENSE\nTCGA-24-2261-01\tTP53\tY163C\tMISSENSE\nTCGA-13-0912-01\tTP53\tS261_splice\tSPLICE\nTCGA-36-1580-01\tTP53\tR273C\tMISSENSE\nTCGA-59-2352-01\tTP53\tG266V\tMISSENSE\nTCGA-25-2409-01\tTP53\tR248W\tMISSENSE\nTCGA-61-1919-01\tTP53\tI195T\tMISSENSE\nTCGA-13-0919-01\tTP53\tV157F\tMISSENSE\nTCGA-09-2051-01\tTP53\tP222fs\tTRUNC\nTCGA-09-2050-01\tTP53\tL257Q\tMISSENSE\nTCGA-25-1626-01\tTP53\tG245V\tMISSENSE\nTCGA-09-2049-01\tTP53\tG245S\tMISSENSE\nTCGA-24-1417-01\tTP53\tR248W\tMISSENSE\nTCGA-24-1422-01\tTP53\tR248W\tMISSENSE\nTCGA-13-0924-01\tTP53\tF270L\tMISSENSE\nTCGA-61-2109-01\tTP53\tR306fs\tTRUNC\nTCGA-24-1416-01\tTP53\tR282W\tMISSENSE\nTCGA-24-1564-01\tTP53\tG187_splice\tSPLICE\nTCGA-61-2088-01\tTP53\tMCN237del\tINFRAME\nTCGA-10-0934-01\tTP53\tR248Q\tMISSENSE\nTCGA-61-2003-01\tTP53\tR175H\tMISSENSE\nTCGA-10-0934-01\tTP53\tR273H\tMISSENSE\nTCGA-09-1666-01\tTP53\tY126_splice\tSPLICE\nTCGA-13-0714-01\tTP53\tS127F\tMISSENSE\nTCGA-13-1510-01\tTP53\tR213*\tTRUNC\nTCGA-36-1576-01\tTP53\tR337fs\tTRUNC\nTCGA-25-1329-01\tTP53\tP47fs\tTRUNC\nTCGA-13-1481-01\tTP53\tP177R\tMISSENSE\nTCGA-04-1337-01\tTP53\tC135R\tMISSENSE\nTCGA-24-1428-01\tTP53\tI195N\tMISSENSE\nTCGA-24-1567-01\tTP53\tR282W\tMISSENSE\nTCGA-04-1332-01\tTP53\tR181P\tMISSENSE\nTCGA-04-1349-01\tTP53\tS241F\tMISSENSE\nTCGA-61-2008-01\tTP53\tG117fs\tTRUNC\nTCGA-13-0791-01\tTP53\tR273L\tMISSENSE\nTCGA-09-1669-01\tTP53\tQ331_splice\tSPLICE\nTCGA-24-2019-01\tTP53\tI232N\tMISSENSE\nTCGA-24-1425-01\tTP53\tY234C\tMISSENSE\nTCGA-24-1423-01\tTP53\tP191del\tINFRAME\nTCGA-10-0926-01\tTP53\tY163C\tMISSENSE\nTCGA-13-0760-01\tTP53\tL265P\tMISSENSE\nTCGA-24-1556-01\tTP53\tA307_splice\tSPLICE\nTCGA-24-1558-01\tTP53\tR273H\tMISSENSE\nTCGA-25-2404-01\tTP53\tH214R\tMISSENSE\nTCGA-24-1616-01\tTP53\tY236C\tMISSENSE\nTCGA-13-0720-01\tTP53\tA159V\tMISSENSE\nTCGA-24-2280-01\tTP53\tQ192*\tTRUNC\nTCGA-13-0793-01\tTP53\tC124fs\tTRUNC\nTCGA-24-1604-01\tTP53\tA307_splice\tSPLICE\nTCGA-09-1659-01\tTP53\tE294*\tTRUNC\nTCGA-24-1413-01\tTP53\tE198*\tTRUNC\nTCGA-09-1662-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-0724-01\tTP53\tV157F\tMISSENSE\nTCGA-24-2030-01\tTP53\tG187_splice\tSPLICE\nTCGA-13-1484-01\tTP53\tY234N\tMISSENSE\nTCGA-24-2254-01\tTP53\tS241F\tMISSENSE\nTCGA-61-2101-01\tTP53\tP85fs\tTRUNC\nTCGA-09-0366-01\tTP53\tK132N\tMISSENSE\nTCGA-04-1365-01\tTP53\tY126_splice\tSPLICE\nTCGA-09-2053-01\tTP53\tY163H\tMISSENSE\nTCGA-24-2024-01\tTP53\tV272M\tMISSENSE\nTCGA-23-1120-01\tTP53\tR110L\tMISSENSE\nTCGA-24-0970-01\tTP53\tG187_splice\tSPLICE\nTCGA-13-1489-01\tTP53\tR342*\tTRUNC\nTCGA-24-1103-01\tTP53\tA307_splice\tSPLICE\nTCGA-57-1993-01\tTP53\tR248Q\tMISSENSE\nTCGA-25-1322-01\tTP53\tY205C\tMISSENSE\nTCGA-13-0751-01\tTP53\tL348fs\tTRUNC\nTCGA-04-1356-01\tTP53\tY220C\tMISSENSE\nTCGA-10-0928-01\tTP53\tG105S\tMISSENSE\nTCGA-23-2077-01\tTP53\tR175H\tMISSENSE\nTCGA-13-0890-01\tTP53\tY126_splice\tSPLICE\nTCGA-04-1525-01\tTP53\tR282fs\tTRUNC\nTCGA-23-1022-01\tTP53\tK164E\tMISSENSE\nTCGA-13-0905-01\tTP53\tR273P\tMISSENSE\nTCGA-30-1862-01\tTP53\tE224_splice\tSPLICE\nTCGA-13-0765-01\tTP53\tAMP64_264L>LSSGNL\tINFRAME\nTCGA-31-1953-01\tTP53\tV97fs\tTRUNC\nTCGA-04-1514-01\tTP53\tY126_splice\tSPLICE\nTCGA-13-1509-01\tTP53\tL330fs\tTRUNC\nTCGA-24-1419-01\tTP53\tR248Q\tMISSENSE\nTCGA-25-1321-01\tTP53\tR273C\tMISSENSE\nTCGA-20-0987-01\tTP53\tG105R\tMISSENSE\nTCGA-23-1024-01\tTP53\tG108fs\tTRUNC\nTCGA-24-2290-01\tTP53\tV274G\tMISSENSE\nTCGA-23-1124-01\tTP53\tR156P\tMISSENSE\nTCGA-61-2094-01\tTP53\tL130V\tMISSENSE\nTCGA-25-1625-01\tTP53\tV216M\tMISSENSE\nTCGA-61-1736-01\tTP53\tG245R\tMISSENSE\nTCGA-13-0800-01\tTP53\tK132M\tMISSENSE\nTCGA-24-1555-01\tTP53\tH179Q\tMISSENSE\nTCGA-25-2391-01\tTP53\tE51fs\tTRUNC\nTCGA-24-1434-01\tTP53\tL344fs\tTRUNC\nTCGA-04-1517-01\tTP53\tR65*\tTRUNC\nTCGA-09-1661-01\tTP53\tG187_splice\tSPLICE\nTCGA-61-1995-01\tTP53\tC238Y\tMISSENSE\nTCGA-31-1959-01\tTP53\tC238F\tMISSENSE\nTCGA-24-1614-01\tTP53\tV157F\tMISSENSE\nTCGA-36-1569-01\tTP53\tW53*\tTRUNC\nTCGA-24-2271-01\tTP53\tK321*\tTRUNC\nTCGA-23-1123-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-1507-01\tTP53\tT140fs\tTRUNC\nTCGA-13-0913-01\tTP53\tP278R\tMISSENSE\nTCGA-13-0899-01\tTP53\tQ317*\tTRUNC\nTCGA-23-1110-01\tTP53\tC176Y\tMISSENSE\nTCGA-25-1319-01\tTP53\tY220C\tMISSENSE\nTCGA-24-1548-01\tTP53\tY220C\tMISSENSE\nTCGA-13-0910-01\tTP53\tC275Y\tMISSENSE\nTCGA-04-1346-01\tTP53\tH179R\tMISSENSE\nTCGA-04-1350-01\tTP53\tH179R\tMISSENSE\nTCGA-25-1326-01\tTP53\tE286K\tMISSENSE\nTCGA-24-1549-01\tTP53\tV225_splice\tSPLICE\nTCGA-13-0891-01\tTP53\tY220C\tMISSENSE\nTCGA-10-0931-01\tTP53\tQ136*\tTRUNC\nTCGA-13-1411-01\tTP53\tC277F\tMISSENSE\nTCGA-13-1498-01\tTP53\tI332_splice\tSPLICE\nTCGA-24-2260-01\tTP53\tR248Q\tMISSENSE\nTCGA-23-1030-01\tTP53\tR175H\tMISSENSE\nTCGA-04-1342-01\tTP53\tN288fs\tTRUNC\nTCGA-13-0723-01\tTP53\tT150fs\tTRUNC\nTCGA-24-2289-01\tTP53\tR196*\tTRUNC\nTCGA-61-1728-01\tTP53\tY220C\tMISSENSE\nTCGA-13-0883-01\tTP53\tC238fs\tTRUNC\nTCGA-23-1026-01\tTP53\tK132R\tMISSENSE\nTCGA-61-2097-01\tTP53\tR342*\tTRUNC\nTCGA-59-2354-01\tTP53\tY220C\tMISSENSE\nTCGA-59-2350-01\tTP53\tY220C\tMISSENSE\nTCGA-59-2363-01\tTP53\tY220C\tMISSENSE\nTCGA-23-1122-01\tTP53\tR175H\tMISSENSE\nTCGA-13-0887-01\tTP53\tR213*\tTRUNC\nTCGA-13-0762-01\tTP53\tH193R\tMISSENSE\nTCGA-59-2351-01\tTP53\tT140fs\tTRUNC\nTCGA-25-2398-01\tTP53\t154_154G>GTDSTPPPG\tINFRAME\nTCGA-25-1315-01\tTP53\tR273H\tMISSENSE\nTCGA-24-2298-01\tTP53\tV225_splice\tSPLICE\nTCGA-13-1497-01\tTP53\tR333fs\tTRUNC\nTCGA-13-0792-01\tTP53\tC238fs\tTRUNC\nTCGA-13-0903-01\tTP53\tY205C\tMISSENSE\nTCGA-30-1853-01\tTP53\tG245D\tMISSENSE\nTCGA-57-1582-01\tTP53\tY236C\tMISSENSE\nTCGA-24-0966-01\tTP53\tG245V\tMISSENSE\nTCGA-24-1557-01\tTP53\tY126_splice\tSPLICE\nTCGA-59-2355-01\tTP53\tQ331_splice\tSPLICE\nTCGA-23-1023-01\tTP53\tD281G\tMISSENSE\nTCGA-10-0927-01\tTP53\tP36fs\tTRUNC\nTCGA-09-2044-01\tTP53\tG187_splice\tSPLICE\nTCGA-13-0906-01\tTP53\tF134V\tMISSENSE\nTCGA-25-1627-01\tTP53\tY220C\tMISSENSE\nTCGA-13-1482-01\tTP53\tR280I\tMISSENSE\nTCGA-24-2281-01\tTP53\tR175H\tMISSENSE\nTCGA-13-0889-01\tTP53\tR273C\tMISSENSE\nTCGA-24-1562-01\tTP53\tS33_splice\tSPLICE\nTCGA-13-1488-01\tTP53\tR306*\tTRUNC\nTCGA-61-2016-01\tTP53\tE204*\tTRUNC\nTCGA-04-1362-01\tTP53\tV225_splice\tSPLICE\nTCGA-13-0717-01\tTP53\tAMP44_246GGM>V\tINFRAME\nTCGA-61-2104-01\tTP53\tY163N\tMISSENSE\nTCGA-13-0885-01\tTP53\tW146*\tTRUNC\nTCGA-24-2288-01\tTP53\tP250L\tMISSENSE\nTCGA-13-0726-01\tTP53\tR282W\tMISSENSE\nTCGA-10-0938-01\tTP53\tQ331_splice\tSPLICE\nTCGA-24-2035-01\tTP53\tS315fs\tTRUNC\nTCGA-13-1492-01\tTP53\tG187_splice\tSPLICE\nTCGA-24-1105-01\tTP53\tV157F\tMISSENSE\nTCGA-13-1494-01\tTP53\tG105C\tMISSENSE\nTCGA-24-0979-01\tTP53\tR248Q\tMISSENSE\nTCGA-04-1361-01\tTP53\tY234C\tMISSENSE\nTCGA-25-1628-01\tTP53\tE51*\tTRUNC\nTCGA-13-1491-01\tTP53\tC275Y\tMISSENSE\nTCGA-25-1635-01\tTP53\tD259Y\tMISSENSE\nTCGA-13-1506-01\tTP53\tM66fs\tTRUNC\nTCGA-24-1560-01\tTP53\tG244C\tMISSENSE\nTCGA-13-1410-01\tTP53\tL130fs\tTRUNC\nTCGA-13-0804-01\tTP53\tR273H\tMISSENSE\nTCGA-24-1464-01\tTP53\tN239S\tMISSENSE\nTCGA-10-0935-01\tTP53\tG187_splice\tSPLICE\nTCGA-23-1032-01\tTP53\tR248Q\tMISSENSE\nTCGA-25-1630-01\tTP53\tV173L\tMISSENSE\nTCGA-61-2012-01\tTP53\tY220C\tMISSENSE\nTCGA-36-1568-01\tTP53\tG245S\tMISSENSE\nTCGA-23-2072-01\tTP53\tQ331_splice\tSPLICE\nTCGA-13-1487-01\tTP53\tM237K\tMISSENSE\nTCGA-24-1426-01\tTP53\tR273C\tMISSENSE\nTCGA-24-1470-01\tTP53\tS260fs\tTRUNC\nTCGA-13-0920-01\tTP53\tQ100*\tTRUNC\nTCGA-13-0761-01\tTP53\tR273H\tMISSENSE\nTCGA-25-1320-01\tTP53\tC124fs\tTRUNC\nTCGA-23-1021-01\tTP53\tA159V\tMISSENSE\nTCGA-04-1348-01\tTP53\tG266R\tMISSENSE\nTCGA-23-1027-01\tTP53\tE198*\tTRUNC\nTCGA-04-1338-01\tTP53\tG245S\tMISSENSE\nTCGA-23-1117-01\tTP53\tQ144fs\tTRUNC\nTCGA-36-1578-01\tTP53\tR273H\tMISSENSE\nTCGA-36-1575-01\tTP53\tR273H\tMISSENSE\nTCGA-36-1574-01\tTP53\tR273H\tMISSENSE\nTCGA-25-2399-01\tTP53\tR175H\tMISSENSE\nTCGA-25-1634-01\tTP53\tA70fs\tTRUNC\nTCGA-30-1891-01\tTP53\tL194R\tMISSENSE\nTCGA-36-1577-01\tTP53\tE224_splice\tSPLICE\nTCGA-13-0900-01\tTP53\tR273H\tMISSENSE\nTCGA-24-1466-01\tTP53\tR249G\tMISSENSE\nTCGA-61-2092-01\tTP53\tD208V\tMISSENSE\nTCGA-04-1347-01\tTP53\tS215R\tMISSENSE\nTCGA-20-0990-01\tTP53\tQ144*\tTRUNC\nTCGA-13-1499-01\tTP53\tR273C\tMISSENSE\nTCGA-24-1104-01\tTP53\tI195T\tMISSENSE\nTCGA-24-1418-01\tTP53\tS227fs\tTRUNC\nTCGA-57-1583-01\tTP53\tC229fs\tTRUNC\nTCGA-29-2427-01\tTP53\tG244D\tMISSENSE\nTCGA-13-1499-01\tTP53\tR248Q\tMISSENSE\nTCGA-13-0795-01\tTP53\tC135Y\tMISSENSE\nTCGA-13-1496-01\tTP53\tR248Q\tMISSENSE\nTCGA-09-2045-01\tTP53\tH179R\tMISSENSE\nTCGA-23-2081-01\tTP53\tG262V\tMISSENSE\nTCGA-24-1474-01\tTP53\tQ192*\tTRUNC\nTCGA-25-1623-01\tTP53\tR282W\tMISSENSE\nTCGA-24-1551-01\tTP53\tR248W\tMISSENSE\nTCGA-24-1431-01\tTP53\tQ192*\tTRUNC\nTCGA-13-2060-01\tTP53\tH179R\tMISSENSE\nTCGA-25-1631-01\tTP53\tT125_splice\tSPLICE\nTCGA-13-0893-01\tTP53\tG245D\tMISSENSE\nTCGA-13-1495-01\tTP53\tI195F\tMISSENSE\nTCGA-24-1603-01\tTP53\tS315fs\tTRUNC\nTCGA-04-1530-01\tTP53\tR273H\tMISSENSE\nTCGA-04-1542-01\tTP53\tR273H\tMISSENSE\nTCGA-24-1471-01\tTP53\tE271*\tTRUNC\nTCGA-61-2102-01\tTP53\tG266R\tMISSENSE\nTCGA-24-1469-01\tTP53\tI195T\tMISSENSE\nTCGA-57-1584-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-1407-01\tTP53\tF109C\tMISSENSE\nTCGA-13-1512-01\tTP53\tR273L\tMISSENSE\nTCGA-23-1028-01\tTP53\tP250L\tMISSENSE\nTCGA-13-0894-01\tTP53\tH193Y\tMISSENSE\nTCGA-13-1409-01\tTP53\tS261_splice\tSPLICE\nTCGA-24-0982-01\tTP53\tR248W\tMISSENSE\nTCGA-36-1570-01\tTP53\tR248fs\tTRUNC\nTCGA-13-0730-01\tTP53\tH178fs\tTRUNC\nTCGA-61-2000-01\tTP53\tK132E\tMISSENSE\nTCGA-61-2110-01\tTP53\tS127Y\tMISSENSE\nTCGA-31-1950-01\tTP53\tI195T\tMISSENSE\nTCGA-24-1424-01\tTP53\tI195T\tMISSENSE\nTCGA-25-1632-01\tTP53\tR248G\tMISSENSE\nTCGA-24-1427-01\tTP53\tV272fs\tTRUNC\nTCGA-61-1998-01\tTP53\tS215R\tMISSENSE\nTCGA-13-0904-01\tTP53\tG279E\tMISSENSE\nTCGA-13-0923-01\tTP53\tG187_splice\tSPLICE\nTCGA-24-1563-01\tTP53\tI195T\tMISSENSE\nTCGA-13-1504-01\tTP53\tI251S\tMISSENSE\nTCGA-25-1324-01\tTP53\tY126_splice\tSPLICE\nTCGA-13-0897-01\tTP53\tR283fs\tTRUNC\nTCGA-04-1331-01\tTP53\tR306*\tTRUNC\nTCGA-10-0937-01\tTP53\tR282W\tMISSENSE\nTCGA-13-1405-01\tTP53\tR196*\tTRUNC\nTCGA-04-1364-01\tTP53\tR248Q\tMISSENSE\nTCGA-20-0991-01\tTP53\tS241F\tMISSENSE\nTCGA-24-2267-01\tTP53\tT284fs\tTRUNC\nTCGA-13-1404-01\tTP53\tC176Y\tMISSENSE\nTCGA-13-0911-01\tTP53\tL43fs\tTRUNC\nTCGA-25-1313-01\tTP53\tL145R\tMISSENSE\nTCGA-36-1571-01\tTP53\tR337C\tMISSENSE\nTCGA-13-0884-01\tTP53\tR342*\tTRUNC\nTCGA-23-2078-01\tTP53\tT256del\tINFRAME\nTCGA-13-1412-01\tTP53\tM237I\tMISSENSE\nTCGA-24-1545-01\tTP53\tS241Y\tMISSENSE\nTCGA-25-2401-01\tTP53\tL194R\tMISSENSE\nTCGA-24-1436-01\tTP53\tQ331_splice\tSPLICE\nTCGA-25-2400-01\tTP53\tE224_splice\tSPLICE\nTCGA-04-1357-01\tTP53\tP223fs\tTRUNC\nTCGA-13-1403-01\tTP53\tT125_splice\tSPLICE\nTCGA-13-0886-01\tTP53\tV272M\tMISSENSE\nTCGA-25-1318-01\tTP53\tR175H\tMISSENSE\nTCGA-23-1116-01\tTP53\tS261_splice\tSPLICE\nTCGA-10-0925-01\nTCGA-10-0926-01\nTCGA-10-0927-01\nTCGA-10-0928-01\nTCGA-10-0930-01\nTCGA-10-0931-01\nTCGA-10-0933-01\nTCGA-10-0934-01\nTCGA-20-1684-01\nTCGA-20-1685-01\nTCGA-20-1686-01\nTCGA-20-1687-01\nTCGA-23-1021-01\nTCGA-23-1022-01\nTCGA-23-1023-01\nTCGA-23-1024-01\nTCGA-23-1026-01\nTCGA-23-1027-01\nTCGA-23-1028-01\nTCGA-23-1029-01\nTCGA-23-1030-01\nTCGA-23-1031-01\nTCGA-23-1032-01\nTCGA-23-1107-01\nTCGA-23-1109-01\nTCGA-23-1110-01\nTCGA-23-1111-01\nTCGA-23-1113-01\nTCGA-23-1114-01\nTCGA-23-1116-01\nTCGA-23-1117-01\nTCGA-23-1118-01\nTCGA-23-1119-01\nTCGA-23-1120-01\nTCGA-23-1121-01\nTCGA-23-1122-01\nTCGA-23-1123-01\nTCGA-23-1124-01\nTCGA-23-1809-01\nTCGA-23-2072-01\nTCGA-23-2077-01\nTCGA-23-2078-01\nTCGA-23-2079-01\nTCGA-23-2081-01\nTCGA-23-2084-01\nTCGA-23-2641-01\nTCGA-23-2643-01\nTCGA-23-2645-01\nTCGA-23-2647-01\nTCGA-23-2649-01\nTCGA-24-0966-01\nTCGA-24-0968-01\nTCGA-24-0970-01\nTCGA-24-0975-01\nTCGA-24-0979-01\nTCGA-24-0980-01\nTCGA-24-0981-01\nTCGA-24-0982-01\nTCGA-24-1103-01\nTCGA-24-1104-01\nTCGA-24-1105-01\nTCGA-24-1413-01\nTCGA-24-1416-01\nTCGA-24-1417-01\nTCGA-24-1418-01\nTCGA-24-1419-01\nTCGA-24-1422-01\nTCGA-24-1423-01\nTCGA-24-1424-01\nTCGA-24-1425-01\nTCGA-24-1426-01\nTCGA-24-1427-01\nTCGA-24-1428-01\nTCGA-24-1430-01\nTCGA-24-1431-01\nTCGA-24-1434-01\nTCGA-24-1435-01\nTCGA-24-1436-01\nTCGA-24-1463-01\nTCGA-24-1464-01\nTCGA-24-1466-01\nTCGA-24-1467-01\nTCGA-24-1469-01\nTCGA-24-1470-01\nTCGA-24-1471-01\nTCGA-24-1474-01\nTCGA-24-1544-01\nTCGA-24-1545-01\nTCGA-24-1546-01\nTCGA-24-1548-01\nTCGA-24-1549-01\nTCGA-24-1550-01\nTCGA-24-1551-01\nTCGA-24-1552-01\nTCGA-24-1553-01\nTCGA-24-1555-01\nTCGA-24-1556-01\nTCGA-24-1557-01\nTCGA-24-1558-01\nTCGA-24-1560-01\nTCGA-24-1562-01\nTCGA-24-1563-01\nTCGA-24-1564-01\nTCGA-24-1565-01\nTCGA-24-1567-01\nTCGA-24-1603-01\nTCGA-24-1604-01\nTCGA-24-1614-01\nTCGA-24-1616-01\nTCGA-24-1842-01\nTCGA-24-1843-01\nTCGA-24-1844-01\nTCGA-24-1845-01\nTCGA-24-1846-01\nTCGA-24-1847-01\nTCGA-24-1849-01\nTCGA-24-1850-01\nTCGA-24-1852-01\nTCGA-24-1920-01\nTCGA-24-1923-01\nTCGA-24-1924-01\nTCGA-24-1927-01\nTCGA-24-1928-01\nTCGA-24-1930-01\nTCGA-24-2019-01\nTCGA-24-2020-01\nTCGA-24-2023-01\nTCGA-24-2024-01\nTCGA-24-2026-01\nTCGA-24-2027-01\nTCGA-24-2029-01\nTCGA-24-2030-01\nTCGA-24-2033-01\nTCGA-24-2035-01\nTCGA-24-2036-01\nTCGA-24-2038-01\nTCGA-24-2254-01\nTCGA-24-2260-01\nTCGA-24-2261-01\nTCGA-24-2262-01\nTCGA-24-2267-01\nTCGA-24-2271-01\nTCGA-24-2280-01\nTCGA-24-2281-01\nTCGA-24-2288-01\nTCGA-24-2289-01\nTCGA-24-2290-01\nTCGA-24-2293-01\nTCGA-24-2295-01\nTCGA-24-2297-01\nTCGA-24-2298-01\nTCGA-25-1312-01\nTCGA-25-1313-01\nTCGA-25-1314-01\nTCGA-25-1315-01\nTCGA-25-1316-01\nTCGA-25-1317-01\nTCGA-25-1318-01\nTCGA-25-1319-01\nTCGA-25-1320-01\nTCGA-25-1321-01\nTCGA-25-1322-01\nTCGA-25-1323-01\nTCGA-25-1324-01\nTCGA-25-1325-01\nTCGA-25-1326-01\nTCGA-25-1328-01\nTCGA-25-1329-01\nTCGA-25-1623-01\nTCGA-25-1625-01\nTCGA-25-1626-01\nTCGA-25-1627-01\nTCGA-25-1628-01\nTCGA-25-1630-01\nTCGA-25-1631-01\nTCGA-25-1632-01\nTCGA-25-1633-01\nTCGA-25-1634-01\nTCGA-25-1635-01\nTCGA-25-1870-01\nTCGA-25-1871-01\nTCGA-25-1877-01\nTCGA-25-1878-01\nTCGA-25-2042-01\nTCGA-25-2390-01\nTCGA-25-2391-01\nTCGA-25-2396-01\nTCGA-25-2397-01\nTCGA-25-2398-01\nTCGA-25-2399-01\nTCGA-25-2400-01\nTCGA-25-2401-01\nTCGA-25-2392-01\nTCGA-25-2393-01\n"}},{key:"populateClinicalExampleData",value:function(){this.clinicalDataInput=re}},{key:"populateHeatmapExampleData",value:function(){this.heatmapDataInput=oe}},{key:"onGeneticDataInputChange",value:function(e){this.geneticDataInput=e.currentTarget.value}},{key:"onClinicalDataInputChange",value:function(e){this.clinicalDataInput=e.currentTarget.value}},{key:"onHeatmapDataInputChange",value:function(e){this.heatmapDataInput=e.currentTarget.value}},{key:"onGeneOrderInputChange",value:function(e){this.geneOrderInput=e.currentTarget.value}},{key:"onSampleOrderInputChange",value:function(e){this.sampleOrderInput=e.currentTarget.value}},{key:"toggleGeneticHelp",value:function(){this.geneticHelpOpened=!this.geneticHelpOpened}},{key:"toggleClinicalHelp",value:function(){this.clinicalHelpOpened=!this.clinicalHelpOpened}},{key:"toggleHeatmapHelp",value:function(){this.heatmapHelpOpened=!this.heatmapHelpOpened}},{key:"doSubmit",value:function(e,t,n){this.store.setInput(e,t,n,this.geneOrderInput,this.sampleOrderInput),0===this.store.parseErrors.length&&(this.dataInputOpened=!1)}},{key:"geneticFileInputRef",value:function(e){this.geneticFileInput=e}},{key:"clinicalFileInputRef",value:function(e){this.clinicalFileInput=e}},{key:"heatmapFileInputRef",value:function(e){this.heatmapFileInput=e}},{key:"getGeneticDataForSubmission",value:function(){return le(this.geneticFileInput,this.geneticDataInput)}},{key:"getClinicalDataForSubmission",value:function(){return le(this.clinicalFileInput,this.clinicalDataInput)}},{key:"getHeatmapDataForSubmission",value:function(){return le(this.heatmapFileInput,this.heatmapDataInput)}},{key:"onClickSubmit",value:function(){return Ae(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getGeneticDataForSubmission();case 2:return t=e.sent,e.next=5,this.getClinicalDataForSubmission();case 5:return n=e.sent,e.next=8,this.getHeatmapDataForSubmission();case 8:r=e.sent,this.doSubmit(t,n,r);case 10:case"end":return e.stop()}},e,this)}))}},{key:"openDataFormat",value:function(e){window.open("oncoprinterDataFormat?tab=".concat(e),"_blank")}},{key:"getInputSection",value:function(){return r.createElement(X.FormGroup,{style:{display:this.dataInputOpened?void 0:"none"}},r.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.createElement("div",null,r.createElement(X.ControlLabel,{style:{marginBottom:7}},"Step 1) Input genomic alteration data (optional):"),r.createElement(X.Button,{className:"oncoprinterGeneticExampleData",style:{marginLeft:7},bsStyle:"primary",bsSize:"xs",onClick:this.populateGeneticExampleData},"Load example data"),r.createElement(X.Button,{className:"oncoprinterGeneticHelp",style:{marginLeft:7},bsStyle:"primary",bsSize:"xs",onClick:this.toggleGeneticHelp},this.geneticHelpOpened?"Close ":"View ","data format"),r.createElement(J.Collapse,{isOpened:this.geneticHelpOpened},r.createElement("div",{style:{paddingBottom:10}},ue)),r.createElement(X.FormControl,{className:"oncoprinterGeneticDataInput",componentClass:"textarea",value:this.geneticDataInput,placeholder:"Enter data here...",onChange:this.onGeneticDataInputChange,style:{height:200,width:"100%"}}),r.createElement(X.ControlLabel,null,"or input data from file:"),r.createElement("input",{ref:this.geneticFileInputRef,type:"file"})),r.createElement("hr",{style:{width:"100%"}}),r.createElement("div",null,r.createElement(X.ControlLabel,{style:{marginBottom:7}},"Step 2) Input clinical data (optional):"),r.createElement(X.Button,{className:"oncoprinterClinicalExampleData",style:{marginLeft:7},bsStyle:"primary",bsSize:"xs",onClick:this.populateClinicalExampleData},"Load example data"),r.createElement(X.Button,{className:"oncoprinterClinicalHelp",style:{marginLeft:7},bsStyle:"primary",bsSize:"xs",onClick:this.toggleClinicalHelp},this.clinicalHelpOpened?"Close ":"View ","data format"),r.createElement(J.Collapse,{isOpened:this.clinicalHelpOpened},r.createElement("div",{style:{paddingBottom:10}},pe)),r.createElement(X.FormControl,{className:"oncoprinterClinicalDataInput",componentClass:"textarea",value:this.clinicalDataInput,placeholder:"Enter data here...",onChange:this.onClinicalDataInputChange,style:{height:200,width:"100%"}}),r.createElement(X.ControlLabel,null,"or input data from file:"),r.createElement("input",{ref:this.clinicalFileInputRef,type:"file"})),r.createElement("hr",{style:{width:"100%"}}),r.createElement("div",null,r.createElement(X.ControlLabel,{style:{marginBottom:7}},"Step 3) Input heatmap data (optional):"),r.createElement(X.Button,{className:"oncoprinterHeatmapExampleData",style:{marginLeft:7},bsStyle:"primary",bsSize:"xs",onClick:this.populateHeatmapExampleData},"Load example data"),r.createElement(X.Button,{className:"oncoprinterHeatmapHelp",style:{marginLeft:7},bsStyle:"primary",bsSize:"xs",onClick:this.toggleHeatmapHelp},this.heatmapHelpOpened?"Close ":"View ","data format"),r.createElement(J.Collapse,{isOpened:this.heatmapHelpOpened},r.createElement("div",{style:{paddingBottom:10}},de)),r.createElement(X.FormControl,{className:"oncoprinterHeatmapDataInput",componentClass:"textarea",value:this.heatmapDataInput,placeholder:"Enter data here...",onChange:this.onHeatmapDataInputChange,style:{height:200,width:"100%"}}),r.createElement(X.ControlLabel,null,"or input data from file:"),r.createElement("input",{ref:this.heatmapFileInputRef,type:"file"}))),r.createElement("br",null),r.createElement(X.ControlLabel,null,"Please define the order of genes (optional):"),r.createElement(X.FormControl,{className:"oncoprinterGenesInput",componentClass:"textarea",value:this.geneOrderInput,placeholder:"Enter genes here, comma- or whitespace-delimited...",onChange:this.onGeneOrderInputChange,style:{height:35,width:475}}),r.createElement("br",null),r.createElement(X.ControlLabel,null,"Please define the order of samples (optional):"),r.createElement(X.FormControl,{className:"oncoprinterSamplesInput",componentClass:"textarea",value:this.sampleOrderInput,placeholder:"Enter samples here, comma- or whitespace-delimited...",onChange:this.onSampleOrderInputChange,style:{height:35,width:475}}),r.createElement("br",null),r.createElement(X.Button,{className:"oncoprinterSubmit",bsSize:"large",bsStyle:"primary",disabled:0===this.geneticDataInput.trim().length&&0===this.clinicalDataInput.trim().length&&0===this.heatmapDataInput.trim().length,onClick:this.onClickSubmit,style:{marginBottom:20}},"Submit"),this.store.parseErrors.length>0&&r.createElement("div",{className:"alert alert-danger",style:{marginTop:5,whiteSpace:"pre-wrap"}},this.store.parseErrors.map(function(e){return r.createElement("div",null,e)})))}},{key:"render",value:function(){var e=this,t=this.store.hugoGeneSymbols.length*this.store.sampleIds.length;return r.createElement(i.a,{className:"whiteBackground staticPage"},r.createElement(a.a,null,r.createElement("title",null,"cBioPortal for Cancer Genomics::Oncoprinter")),r.createElement("div",{className:"cbioportal-frontend"},r.createElement("h1",{style:{display:"inline",marginRight:10}},"Oncoprinter")," ","Generate Oncoprints and perform mutual exclusivity analysis from your own data.",r.createElement("br",null),r.createElement("br",null),r.createElement(o.Observer,null,this.getInputSection),!this.dataInputOpened&&r.createElement("button",{className:"btn btn-primary btn-lg oncoprinterModifyInput",style:{paddingLeft:50,paddingRight:50,marginBottom:15},onClick:function(){e.dataInputOpened=!0}},"Modify Input"),r.createElement("div",{style:{display:this.store.hasData()&&!this.store.parseErrors.length?"block":"none"}},r.createElement(ae.b,{activeTabId:this.activeTabId,unmountOnHide:!1,onTabClick:function(t){e.activeTabId=t},className:"mainTabs"},r.createElement(ae.a,{key:0,id:Te.ONCOPRINT,linkText:"Oncoprint"},t>1e5&&r.createElement("div",{className:"alert alert-warning"},"Warning: Because your inputted data is very large, the Oncoprinter may be slow, and downloaded PDF, SVG, and PNG may be huge and unresponsive. We recommend plotting data for fewer genes at a time."),r.createElement("div",{style:{marginTop:10}},r.createElement(Q,{divId:"oncoprinter",store:this.store}))),r.createElement(ae.a,{key:1,id:Te.MUTUAL_EXCLUSIVITY,linkText:"Mutual Exclusivity"},r.createElement(ie.a,{isSampleAlteredMap:this.store.isSampleAlteredMap}))))))}}])&&fe(n.prototype,s),c&&fe(n,c),t}();ye([l.observable],ve.prototype,"activeTabId",void 0),ye([l.observable],ve.prototype,"dataInputOpened",void 0),ye([l.observable],ve.prototype,"geneticHelpOpened",void 0),ye([l.observable],ve.prototype,"clinicalHelpOpened",void 0),ye([l.observable],ve.prototype,"heatmapHelpOpened",void 0),ye([l.observable],ve.prototype,"helpOpened",void 0),ye([l.observable],ve.prototype,"geneticDataInput",void 0),ye([l.observable],ve.prototype,"clinicalDataInput",void 0),ye([l.observable],ve.prototype,"heatmapDataInput",void 0),ye([l.observable],ve.prototype,"geneOrderInput",void 0),ye([l.observable],ve.prototype,"sampleOrderInput",void 0),ye([l.action.bound],ve.prototype,"toggleHelpOpened",null),ye([l.action.bound],ve.prototype,"populateGeneticExampleData",null),ye([l.action.bound],ve.prototype,"populateClinicalExampleData",null),ye([l.action.bound],ve.prototype,"populateHeatmapExampleData",null),ye([l.action.bound],ve.prototype,"onGeneticDataInputChange",null),ye([l.action.bound],ve.prototype,"onClinicalDataInputChange",null),ye([l.action.bound],ve.prototype,"onHeatmapDataInputChange",null),ye([l.action.bound],ve.prototype,"onGeneOrderInputChange",null),ye([l.action.bound],ve.prototype,"onSampleOrderInputChange",null),ye([l.action.bound],ve.prototype,"toggleGeneticHelp",null),ye([l.action.bound],ve.prototype,"toggleClinicalHelp",null),ye([l.action.bound],ve.prototype,"toggleHeatmapHelp",null),ye([l.action],ve.prototype,"doSubmit",null),ye([_.default],ve.prototype,"geneticFileInputRef",null),ye([_.default],ve.prototype,"clinicalFileInputRef",null),ye([_.default],ve.prototype,"heatmapFileInputRef",null),ye([_.default],ve.prototype,"getGeneticDataForSubmission",null),ye([_.default],ve.prototype,"getClinicalDataForSubmission",null),ye([_.default],ve.prototype,"getHeatmapDataForSubmission",null),ye([l.action.bound],ve.prototype,"onClickSubmit",null),ye([_.default],ve.prototype,"getInputSection",null),ve=ye([o.observer],ve);t.default=ve},802:function(e,t,n){e.exports=n(35)(6)},812:function(e,t,n){e.exports=n(35)(7)},813:function(e,t,n){e.exports=n(35)(8)},815:function(e,t,n){e.exports={portalWidth:"tables-module__portalWidth__2u2eA",framedImage:"tables-module__framedImage__2sdMG",studyViewTablesTable:"tables-module__studyViewTablesTable__29Y2_",tableSearchInput:"tables-module__tableSearchInput__2uOMk",labelContent:"tables-module__labelContent__2FLsJ",labelContentSVG:"tables-module__labelContentSVG__2v71D",controls:"tables-module__controls__2KTG_",controlsAtTop:"tables-module__controlsAtTop__czH5v",controlsBtn:"tables-module__controlsBtn__24B4k",geneSymbol:"tables-module__geneSymbol__1OUGZ",cancerGene:"tables-module__cancerGene__CqmRo",headerColumn:"tables-module__headerColumn__WCJTO",headerRow:"tables-module__headerRow__3Ckx0",row:"tables-module__row__20ZyT",oddRow:"tables-module__oddRow__3vz4c",evenRow:"tables-module__evenRow__KCskI",highlightedEvenRow:"tables-module__highlightedEvenRow__2EYSy",highlightedRow:"tables-module__highlightedRow__1wuhn",highlightedOddRow:"tables-module__highlightedOddRow__1RWUf",cancerGeneIcon:"tables-module__cancerGeneIcon__1Zp6i",gistic:"tables-module__gistic__1d6Gl",mutsig:"tables-module__mutsig__3Q3o0",cancerGenesRow:"tables-module__cancerGenesRow__1crxh",amp:"tables-module__amp__yRy0o",del:"tables-module__del__PLU6Y",displayFlex:"tables-module__displayFlex__7WOab",headerSortingIcon:"tables-module__headerSortingIcon__1aRye",autoMarginCheckbox:"tables-module__autoMarginCheckbox__3tMQV",union:"tables-module__union__3dOlj",intersection:"tables-module__intersection__2qPMu"}},820:function(e,t,n){e.exports=n(35)(88)},822:function(e,t,n){e.exports=n(35)(3)},831:function(e,t,n){"use strict";var r=n(0),o=n(23),a=(n(903),"https://oncokb.org");function i(){return r.createElement("a",{href:"".concat(a,"/cancerGenes"),target:"_blank"},"OncoKB Cancer Gene List")}n(815),n(5);var l,s,c=n(3),u=(n(20),n(31)),p=n(875);function d(e,t){return[e,Object(u.I)(t)].join(":")}function f(e){return e.split(":")[0]}function m(e,t,n,l,s,c){return r.createElement("div",{style:{display:"flex",flexDirection:"column",maxWidth:300,fontSize:12}},r.createElement("span",null,function(e,t,n,l,s){if(t){var c="";if(l||s){c=" as a ";var u=[];l&&u.push("oncogene"),s&&u.push("tumor suppressor gene"),c="".concat(c," ").concat(u.join(" and "))}return r.createElement("span",null,r.createElement(o.If,{condition:n},r.createElement(o.Then,null,r.createElement("a",{href:"".concat(a,"/gene/").concat(e),target:"_blank"},e)),r.createElement(o.Else,null,r.createElement("span",null,e))),r.createElement("span",null," is included in the "),i(),(l||s)&&r.createElement("span",null,c),".")}}(e,n,l,s,c)))}function h(e,t,n,o,a,i){var l="# of samples profiled";"data"!==e&&(l+=" for ".concat(e," in this gene: ").concat(t.toLocaleString()));return r.createElement(c.i,{placement:"right",overlay:function(){return r.createElement("span",{style:{display:"flex",flexDirection:"column"},"data-test":"freq-cell-tooltip"},r.createElement("span",null,l),r.createElement(p.a,{genePanelIds:o,toggleModal:a}))},destroyTooltipOnHide:!0},r.createElement("span",{"data-test":"freq-cell",style:i},Object(u.ab)(n/t*100)))}function C(e,t){var n="".concat(t?"Percentage":"Number"," of samples");return"data"!==e&&(n+=" with one or more ".concat(e)),n}n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return h}),n.d(t,"g",function(){return C}),function(e){e.MUTATION="mutations",e.STRUCTURAL_VARIANT="structural variants",e.CNA="copy number alterations",e.DATA="data"}(l||(l={})),function(e){e.INTERSECTION="Intersection",e.UNION="Union"}(s||(s={}))},836:function(e,t,n){},837:function(e,t,n){"use strict";var r,o=n(0),a=n(73),i=n(1158),l=(n(1038),n(2)),s=n(815),c=n.n(s),u=n(1),p=n(9),d=n(5),f=n.n(d),m=n(23),h=n(12),C=n(338),b=n(3),T=n(174),y=n(831),A=n(17);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?O(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":k(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},_=(I(r={},"desc",i.b.DESC),I(r,"asc",i.b.ASC),r),R=function(e){function t(e,n){var r;return S(this,t),r=g(this,G(t).call(this,e)),Object.defineProperty(O(r),"fixedTopRowsData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(O(r),"getSortedData",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=r.sortMetric||function(){return 0},t=void 0===r.sortAscending||r.sortAscending;return[].concat(E(r.fixedTopRowsData),E(Object(a.c)(r.allData,e,t)))}}),Object(l.makeObservable)(O(r)),r.fixedTopRowsData=n,r}return P(t,T["a"]),t}(),M=function(e){function t(e){var n;S(this,t),n=g(this,G(t).call(this,e)),Object.defineProperty(O(n),"_store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(O(n),"inputElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(O(n),"_sortBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(O(n),"_sortDirection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object(l.makeObservable)(O(n)),n._sortBy=e.sortBy;var r=u.find(n.props.columns,function(e){return e.name===n._sortBy});return n._sortDirection=void 0===e.sortDirection?u.isUndefined(r)?"desc":r.defaultSortDirection||"desc":e.sortDirection,n.initDataStore(),n}var n,r,s;return P(t,o["Component"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.updateDataStore(e)}},{key:"updateDataStore",value:function(e){var t=this,n=new R(function(){return t.props.data},this.props.fixedTopRowsData||[]),r=Object(l.toJS)(this._store.filterString);this._store.setProps({columns:e.columns,dataStore:n,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection}),void 0!==r&&this._store.setFilterString(r)}},{key:"initDataStore",value:function(){var e=this,t=new R(function(){return e.props.data},this.props.fixedTopRowsData||[]);this._store=new a.a({columns:this.props.columns,dataStore:t,initialSortColumn:this._sortBy,initialSortDirection:this._sortDirection})}},{key:"rowClassName",value:function(e){var t=e.index;if(t>-1&&this.isSelectedRow(this._store.dataStore.sortedFilteredData[t])){var n=[c.a.row];if(this.props.highlightedRowClassName){var r=this.props.highlightedRowClassName(this._store.dataStore.sortedFilteredData[t]);n.push(r)}else n.push(c.a.highlightedRow);return f()(n)}return t<0?c.a.headerRow:f()(c.a.row,t%2==0?c.a.evenRow:c.a.oddRow)}},{key:"rowGetter",value:function(e){var t=e.index;return this._store.dataStore.sortedFilteredData[t]}},{key:"getColumn",value:function(e){return u.keyBy(this.props.columns,function(e){return e.name})[e]}},{key:"sort",value:function(e){var t=e.sortBy;this._store.defaultHeaderClick(this.getColumn(t)),this._sortBy=t,this._sortDirection=this._store.dataStore.sortAscending?"asc":"desc",this.props.afterSorting&&this.props.afterSorting(this._sortBy,this._sortDirection)}},{key:"onFilterTextChange",value:function(){var e=this;return Object(C.a)(function(t){e._store.setFilterString(t)},400)}},{key:"afterSelectingRows",value:function(){this.props.afterSelectingRows&&this.props.afterSelectingRows()}},{key:"changeSelectionType",value:function(e){this.props.toggleSelectionOperator&&this.props.defaultSelectionOperator!==e&&this.props.toggleSelectionOperator()}},{key:"isSelectedRow",value:function(e){return!!u.isFunction(this.props.isSelectedRow)&&this.props.isSelectedRow(e)}},{key:"onAddAll",value:function(){this.props.addAll&&this.props.addAll(this._store.dataStore.sortedFilteredData)}},{key:"onRemoveAll",value:function(){this.props.removeAll&&this.props.removeAll(this._store.dataStore.sortedFilteredData)}},{key:"setInputRef",value:function(e){this.inputElement=e}},{key:"componentDidMount",value:function(){!this.props.hideControls&&this.props.autoFocusSearchAfterRendering&&this.inputElement.focus()}},{key:"getSelectionOptions",value:function(){var e=this;return Object.keys(y.b).map(function(t){var n=y.b[t];return o.createElement(A.MenuItem,{onClick:function(){return e.changeSelectionType(n)},active:e.props.defaultSelectionOperator===t},o.createElement(b.i,{overlay:"".concat(n," of samples in the newly selected rows")},o.createElement("div",null,n," ",o.createElement("i",{className:c.a[n.toLowerCase()]}))))})}},{key:"getAddRemoveAllButton",value:function(){var e=0===this.props.numberOfSelectedRows,t=this.props.numberOfSelectedRows===this.props.data.length,n="Select all".concat(this.props.showSelectableNumber?" (".concat(this._store.dataStore.sortedFilteredData.length,")"):""),r=!t&&this.props.addAll,a=!e&&this.props.removeAll;return o.createElement("div",{style:{display:"flex",alignItems:"baseline"}},r&&o.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-add-all",onClick:this.onAddAll},n),a&&o.createElement("button",{className:"btn btn-default btn-xs","data-test":"fixed-header-table-remove-all",onClick:this.onRemoveAll},"Deselect all"))}},{key:"getControls",value:function(){return o.createElement("div",{className:f()(c.a.controls,I({},c.a.controlsAtTop,!!this.props.showControlsAtTop))},!this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),className:f()("form-control",c.a.tableSearchInput)}),this.props.showAddRemoveAllButton&&this.getAddRemoveAllButton(),o.createElement(m.If,{condition:this.props.showSetOperationsButton&&this.props.numberOfSelectedRows>0},o.createElement("div",{className:"btn-group"},o.createElement("button",{className:"btn btn-default btn-xs",onClick:this.afterSelectingRows},"Select Samples"," ",o.createElement(m.If,{condition:this.props.numberOfSelectedRows>1},o.createElement("i",{style:{marginTop:"-2px"},className:this.props.defaultSelectionOperator===y.b.INTERSECTION?c.a.intersection:c.a.union}))),o.createElement(m.If,{condition:this.props.numberOfSelectedRows>1},o.createElement(A.DropdownButton,{bsSize:"xsmall",title:"",id:"selectButton",pullRight:!0},this.getSelectionOptions())))),this.props.extraButtons&&this.props.extraButtons.map(function(e){return o.createElement("button",{className:"btn btn-default btn-xs",onClick:e.onClick,disabled:e.isDisabled()},e.content)}),this.props.showControlsAtTop&&o.createElement("input",{placeholder:"Search...",type:"text",onInput:this.onFilterTextChange(),ref:this.setInputRef,"data-test":"fixed-header-table-search-input",className:f()("form-control",c.a.tableSearchInput)}))}},{key:"render",value:function(){var e=this;return o.createElement("div",{className:c.a.studyViewTablesTable},!this.props.hideControls&&this.props.showControlsAtTop&&this.getControls(),o.createElement(p.Observer,null,function(){return o.createElement(i.c,{width:e.props.width,height:e.props.height,headerHeight:e.props.headerHeight,rowHeight:e.props.rowHeight,rowCount:e._store.dataStore.sortedFilteredData.length,rowGetter:e.rowGetter,rowClassName:e.rowClassName,headerClassName:c.a.headerColumn,sort:e.sort,sortDirection:_[e._sortDirection],sortBy:e._sortBy},e.props.columns.map(function(t,n){return o.createElement(i.a,{key:t.name,label:t.name,dataKey:t.name,width:Number(t.width),headerRenderer:e.columnHeaders[n],cellRenderer:function(e){return t.render(e.rowData)}})}))}),!this.props.hideControls&&!this.props.showControlsAtTop&&this.getControls())}},{key:"columnHeaders",get:function(){var e=this;return this.props.columns.map(function(t){return function(n){var r=[];t.headerRender?r.push(t.headerRender(t.name)):r.push(o.createElement("span",{key:t.name},t.name)),t.name===e._sortBy&&r.push(o.createElement("i",{className:f()(c.a.headerSortingIcon,"fa","desc"===e._sortDirection?"fa-sort-desc":"fa-sort-asc")}));var a=o.createElement("div",{style:{display:"flex"}},r);return t.tooltip?o.createElement(b.i,{placement:"top",overlay:t.tooltip},a):a}})}}])&&v(n.prototype,r),s&&v(n,s),t}();Object.defineProperty(M,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{showControlsAtTop:!1,showAddRemoveAllButton:!1,autoFocusSearchAfterRendering:!1,width:398,height:350,headerHeight:25,rowHeight:25,showSelectableNumber:!1,sortBy:"",numberOfSelectedRows:0,hideControls:!1}}),N([l.observable.ref],M.prototype,"_sortBy",void 0),N([l.observable],M.prototype,"_sortDirection",void 0),N([h.default],M.prototype,"rowClassName",null),N([h.default],M.prototype,"rowGetter",null),N([h.default],M.prototype,"getColumn",null),N([l.action.bound],M.prototype,"sort",null),N([l.action.bound],M.prototype,"onFilterTextChange",null),N([l.action.bound],M.prototype,"afterSelectingRows",null),N([l.action.bound],M.prototype,"changeSelectionType",null),N([h.default],M.prototype,"isSelectedRow",null),N([h.default],M.prototype,"onAddAll",null),N([h.default],M.prototype,"onRemoveAll",null),N([l.computed],M.prototype,"columnHeaders",null),N([h.default],M.prototype,"setInputRef",null),M=N([p.observer],M),t.a=M},847:function(e,t,n){e.exports=n(35)(132)},848:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),o=n(3);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,s(t).apply(this,arguments))}var n,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return r.createElement(o.i,{overlay:this.props.tooltip},r.createElement("i",{className:"fa fa-md fa-exclamation-triangle",style:Object.assign({},{color:"#BB1700",cursor:"pointer"},this.props.style||{})}))}}])&&i(n.prototype,a),u&&i(n,u),t}()},852:function(e,t,n){e.exports=n(35)(50)},853:function(e,t,n){e.exports=n(35)(485)},854:function(e,t,n){e.exports=n(35)(131)},855:function(e,t,n){"use strict";function r(e,t){var n=t.indexOf(e);if(-1===n)return t.concat([e]);var r=t.slice();return r.splice(n,1),r}function o(e,t){for(var n=[],r=0;r<t.length;r++)n.push(t[r]),r<t.length-1&&n.push(e);return n}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})},871:function(e,t,n){"use strict";var r=n(0),o=n(17),a=n(946),i=n(5),l=n.n(i),s=n(9),c=n(2);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},E=function(e){function t(){return p(this,t),m(this,C(t).apply(this,arguments))}return b(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=(e.bsRole,e.title),n=v(e,["bsRole","title"]),a=this.props.buttonClassName?this.props.buttonClassName:"btn btn-default";return r.createElement(o.Button,u({className:a},n),t," ",this.props.titleElement," ",r.createElement("span",{className:"caret"}))}}]),t}(),S=function(e){function t(){return p(this,t),m(this,C(t).apply(this,arguments))}return b(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.styles,o=e.children;return r.createElement("div",{className:l()("dropdown-menu",t),style:Object.assign(Object.assign({},n),{padding:"6px"})},o)}}]),t}(),g=function(e){function t(e){var n;return p(this,t),n=m(this,C(t).call(this,e)),Object.defineProperty(h(n),"open",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(h(n),"toggle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(h(n),"hide",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object(c.makeObservable)(h(n)),n.toggle=function(){n.open=!n.open},n.hide=function(){n.open=!1},n}return b(t,r["Component"]),f(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,i=e.className,l=e.styles,s=(e.ref,v(e,["children","id","className","styles","ref"]));return r.createElement(a.RootCloseWrapper,{onRootClose:this.hide},r.createElement(o.Dropdown,{id:n+"",open:this.open},r.createElement(E,u({bsStyle:"default",bsRole:"toggle",title:"Custom Toggle",onClick:this.toggle},s)),r.createElement(S,{bsRole:"menu",className:i,styles:l},t)))}}]),t}();A([c.observable],g.prototype,"open",void 0),g=A([s.observer],g),t.a=g},872:function(e,t,n){"use strict";var r=n(0),o=n(2),a=n(9),i=n(897),l=n.n(i),s=n(1),c=n(176),u=n(31),p=n(72),d=n(837),f=n(12),m=n(5),h=n.n(m),C=n(3),b=n(50);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":O(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},w=function(e){function t(){return A(this,t),v(this,S(t).apply(this,arguments))}return g(t,d["a"]),t}(),I=function(e){function t(e){var n;return A(this,t),n=v(this,S(t).call(this,e)),Object(o.makeObservable)(E(n)),n}var n,i,d;return g(t,r["Component"]),n=t,(i=[{key:"onDeleteClick",value:function(e){this.props.deleteChart(e.key)}},{key:"shareChart",value:function(e){this.props.shareCharts([e.key])}},{key:"onRestoreClick",value:function(e){this.props.restoreChart(e.key)}},{key:"getCurrentSelectedRows",value:function(){return this.options.filter(function(e){return e.selected})}},{key:"getCurrentSelectedRowKeys",value:function(){return this.getCurrentSelectedRows().map(function(e){return e.key})}},{key:"addAll",value:function(e){this.props.onAddAll(s.filter(e,function(e){return!e.disabled}).map(function(e){return e.key}))}},{key:"removeAll",value:function(e){this.props.onClearAll(e.map(function(e){return e.key}))}},{key:"onOptionChange",value:function(e){this.props.onToggleOption(e.key)}},{key:"shareSelected",value:function(){this.props.shareCharts(this.props.options.filter(function(e){return e.selected}).map(function(e){return e.key}))}},{key:"render",value:function(){var e;return r.createElement("div",{style:{display:"flex",flexDirection:"column"},"data-test":"add-by-type"},(!this.props.freqPromise||this.props.freqPromise.isComplete)&&r.createElement(w,{width:this.props.width-20,height:this.tableHeight,columns:this.columns,data:this.options,showControlsAtTop:!0,addAll:this.addAll,removeAll:this.removeAll,showSelectableNumber:!0,showAddRemoveAllButton:!0,autoFocusSearchAfterRendering:!0,numberOfSelectedRows:this.getCurrentSelectedRows().length,hideControls:this.props.hideControls,isSelectedRow:function(e){return!!e.isSharedChart},highlightedRowClassName:function(e){return e.isSharedChart?l.a.sharedChart:""},extraButtons:this.extraButtons}),(null===(e=this.props.freqPromise)||void 0===e?void 0:e.isPending)&&r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:100}},r.createElement(p.a,{isLoading:!0}),r.createElement("br",null),"Calculating data availability..."))}},{key:"options",get:function(){var e,t=this;if(null===(e=this.props.freqPromise)||void 0===e?void 0:e.isComplete){var n=s.reduce(this.props.options,function(e,n){var r=0===t.props.freqPromise.result[n.key];return e.push({label:n.label,key:n.key,disabled:r,selected:n.selected,isSharedChart:n.isSharedChart,freq:r?0:t.props.freqPromise.result[n.key]}),e},[]);return this.props.optionsGivenInSortedOrder?n:n.sort(function(e,t){return t.freq-e.freq||e.label.localeCompare(t.label)})}var r=this.props.options.map(function(e){return Object.assign({freq:100},e)});return this.props.optionsGivenInSortedOrder?r:r.sort(function(e,t){return e.label.localeCompare(t.label)})}},{key:"columns",get:function(){var e=this,t=[{name:this.props.firstColumnHeaderName,render:function(t){return r.createElement(a.Observer,null,function(){return r.createElement("div",{className:h()(l.a.option,"add-chart-option",T({},l.a.markedForDeletion,e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key))),"data-test":"add-chart-option-".concat(t.label.toLowerCase().replace(/\s/g,"-"))},r.createElement(c.a,{checked:t.selected,disabled:t.disabled||e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key),labelProps:{className:h()(l.a.label,t.disabled?l.a.labelDisabled:"")},inputProps:{className:l.a.input},onChange:function(){return e.onOptionChange(t)}},r.createElement(C.m,{text:t.label})))})},filter:function(e,t,n){return e.label.toUpperCase().includes(n)},sortBy:function(e){return e.label},width:this.props.width-80-(this.props.shareCharts||this.props.deleteChart?70:0),defaultSortDirection:"asc"}];return this.props.freqPromise&&t.push({name:"Freq",tooltip:r.createElement("span",null,Object(b.a)(this.props.frequencyHeaderTooltip,"% samples with data")),render:function(t){var n;return r.createElement("span",{className:h()(t.disabled?l.a.labelDisabled:"",T({},l.a.markedForDeletion,e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key)))},(null===(n=e.props.freqPromise)||void 0===n?void 0:n.isComplete)?Object(u.ab)(t.freq):"")},sortBy:function(e){return e.freq},defaultSortDirection:"desc",width:60}),(this.props.shareCharts||this.props.deleteChart)&&t.push({name:" ",render:function(t){var n=r.createElement(r.Fragment,null);return n=e.props.markedForDeletion&&e.props.markedForDeletion.includes(t.key)?r.createElement("button",{className:"btn btn-xs btn-default",onClick:function(){return e.onRestoreClick(t)}},"Restore"):r.createElement(r.Fragment,null,e.props.deleteChart&&r.createElement(C.i,{overlay:"Delete Chart",placement:"top"},r.createElement("span",{onClick:function(){return e.onDeleteClick(t)},style:{marginRight:"5px"}},r.createElement("i",{className:"fa fa-md fa-trash",style:{cursor:"pointer"}}))),e.props.shareCharts&&r.createElement("span",{onClick:function(){return e.shareChart(t)}},r.createElement("i",{className:"fa fa-share-alt",style:{cursor:"pointer"}}))),r.createElement("div",{style:{display:"flex",justifyContent:"flex-end"},className:h()(T({},l.a.labelDisabled,t.disabled))},n)},width:70}),t}},{key:"tableHeight",get:function(){return this.options.length>15?375:25*(this.options.length+1)}},{key:"extraButtons",get:function(){var e=this;return this.props.shareCharts?[{content:r.createElement(r.Fragment,null,"Share selected"),onClick:this.shareSelected,isDisabled:function(){return 0===e.props.options.filter(function(e){return e.selected}).length}}]:[]}}])&&y(n.prototype,i),d&&y(n,d),t}();Object.defineProperty(I,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{firstColumnHeaderName:"Name",hideControls:!1,width:400}}),P([o.computed],I.prototype,"options",null),P([f.default],I.prototype,"onDeleteClick",null),P([f.default],I.prototype,"shareChart",null),P([f.default],I.prototype,"onRestoreClick",null),P([o.computed],I.prototype,"columns",null),P([o.computed],I.prototype,"tableHeight",null),P([f.default],I.prototype,"getCurrentSelectedRows",null),P([f.default],I.prototype,"getCurrentSelectedRowKeys",null),P([o.action.bound],I.prototype,"addAll",null),P([o.action.bound],I.prototype,"removeAll",null),P([o.action.bound],I.prototype,"onOptionChange",null),P([o.action.bound],I.prototype,"shareSelected",null),P([o.computed],I.prototype,"extraButtons",null),I=P([a.observer],I),t.a=I},873:function(e,t,n){e.exports=n(35)(166)},874:function(e,t,n){e.exports=n(35)(100)},875:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return f});var r=n(0),o=n(9),a=n(868);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(e){var t=e.genePanelIds,n=e.toggleModal;return t.length>0?r.createElement("span",{style:{maxWidth:400}},"Gene panels:"," ",t.map(function(e,t){return[t>0&&", ",r.createElement("a",{key:e,"data-test":"gene-panel-linkout-".concat(e),href:"#",onClick:function(){n(e)}},e)]})):r.createElement("span",null)},f=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,e=!(o=l(t).apply(this,arguments))||"object"!==u(o)&&"function"!=typeof o?s(n):o,Object.defineProperty(s(e),"getGenesList",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return e&&e.genes?e.genes.map(function(e){return r.createElement("p",{key:e.entrezGeneId},e.hugoGeneSymbol)}):null}}),e}var n,o,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props.genePanelCache.get({genePanelId:this.props.panelName});return r.createElement(a.a,{panelName:this.props.panelName,show:this.props.show,onHide:this.props.onHide,isLoading:e.isPending},e.isComplete&&this.getGenesList(e.result))}}])&&i(n.prototype,o),p&&i(n,p),t}();f=p([o.observer],f)},891:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=b(n(5)),a=b(n(1e3)),i=b(n(853)),l=b(n(1002)),s=b(n(1003)),c=b(n(892)),u=b(n(4)),p=b(n(0)),d=b(n(29)),f=b(n(893)),m=b(n(894)),h=b(n(895)),C=b(n(896));function b(e){return e&&e.__esModule?e:{default:e}}var T=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.onWindowScroll=function(){o.onUpdate()},o.onDocumentClick=function(){(0,c.default)(function(){return o.onUpdate()})},o.onUpdate=function(){if(o._isMounted){var e=o.props,t=e.offsetTop,n=e.viewportOffsetTop,r=(0,s.default)((0,C.default)(o))+(n||0);r<=t?o.updateState("top",null,null):r>o.getPositionTopMax()?"bottom"===o.state.affixed?o.updateStateAtBottom():o.setState({affixed:"bottom",position:"absolute",top:null},function(){o._isMounted&&o.updateStateAtBottom()}):o.updateState("affix","fixed",n)}},o.getPositionTopMax=function(){return(0,m.default)((0,h.default)(o))-(0,a.default)(d.default.findDOMNode(o))-o.props.offsetBottom},o.updateState=function(e,t,n){if(e!==o.state.affixed||t!==o.state.position||n!==o.state.top){var r="affix"===e?"":e.charAt(0).toUpperCase()+e.substr(1);o.props["onAffix"+r]&&o.props["onAffix"+r](),o.setState({affixed:e,position:t,top:n},function(){o.props["onAffixed"+r]&&o.props["onAffixed"+r]()})}},o.updateStateAtBottom=function(){var e=o.getPositionTopMax(),t=(0,l.default)(d.default.findDOMNode(o)),n=(0,i.default)(t).top;o.updateState("bottom","absolute",e-n)},o.state={affixed:"top",position:null,top:null},o._needPositionUpdate=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,f.default)((0,C.default)(this),"scroll",function(){return e.onWindowScroll()}),this._documentClickListener=(0,f.default)((0,h.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},t.prototype.render=function(){var e=p.default.Children.only(this.props.children),t=e.props,n=t.className,a=t.style,i=this.state,l=i.affixed,s={position:i.position,top:i.top},c=void 0,u=void 0;return"top"===l?(c=this.props.topClassName,u=this.props.topStyle):"bottom"===l?(c=this.props.bottomClassName,u=this.props.bottomStyle):(c=this.props.affixClassName,u=this.props.affixStyle),p.default.cloneElement(e,{className:(0,o.default)(c,n),style:r({},s,u,a)})},t}(p.default.Component);T.propTypes={offsetTop:u.default.number,viewportOffsetTop:u.default.number,offsetBottom:u.default.number,topClassName:u.default.string,topStyle:u.default.object,affixClassName:u.default.string,affixStyle:u.default.object,bottomClassName:u.default.string,bottomStyle:u.default.object,onAffix:u.default.func,onAffixed:u.default.func,onAffixTop:u.default.func,onAffixedTop:u.default.func,onAffixBottom:u.default.func,onAffixedBottom:u.default.func},T.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},t.default=T,e.exports=t.default},892:function(e,t,n){"use strict";var r=n(852);t.__esModule=!0,t.default=void 0;var o,a=r(n(1004)),i="clearTimeout",l=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},s=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};a.default&&["","webkit","moz","o","ms"].some(function(e){var t=s(e,"request");if(t in window)return i=s(e,"cancel"),l=function(e){return window[t](e)}});var c=(new Date).getTime();(o=function(e){return l(e)}).cancel=function(e){window[i]&&"function"==typeof window[i]&&window[i](e)};var u=o;t.default=u,e.exports=t.default},893:function(e,t,n){e.exports=n(35)(468)},894:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Math.max(e.documentElement.offsetHeight||0,e.height||0,e.body.scrollHeight||0,e.body.offsetHeight||0)},e.exports=t.default},895:function(e,t,n){e.exports=n(35)(169)},896:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(r.default.findDOMNode(e))};var r=a(n(29)),o=a(n(1005));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},897:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__1Knza",framedImage:"styles-module__framedImage__p1p-k",main:"styles-module__main__2V5AI",operations:"styles-module__operations__2tHBt",options:"styles-module__options__2V0tE",option:"styles-module__option__dhLVt",markedForDeletion:"styles-module__markedForDeletion__2l0on",footer:"styles-module__footer__8u68Z",input:"styles-module__input__2Zk8R",label:"styles-module__label__YKqSs",labelDisabled:"styles-module__labelDisabled__3jDaR",sharedChart:"styles-module__sharedChart__23Z4O"}},898:function(e,t,n){e.exports=n(35)(12)},899:function(e,t,n){e.exports=n(35)(451)},900:function(e,t,n){e.exports=n(35)(706)},901:function(e,t,n){e.exports=n(35)(356)},902:function(e,t,n){e.exports=n(35)(695)},903:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+CiAgPCEtLU5vIGxldmVsIGljb25zLS0+CiAgICAgIDxnICB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LCA3KSI+CiAgICAgICAgPGNpcmNsZSByPSI2IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIzIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iIzAwN0ZGRiI+PC9jaXJjbGU+CiAgICAgICAgPGNpcmNsZSByPSIxLjUiIGZpbGw9IiMwMDdGRkYiIHN0cm9rZT0ibm9uZSI+PC9jaXJjbGU+CiAgICAgIDwvZz4KPC9zdmc+"},904:function(e,t,n){e.exports={portalWidth:"styles-module__portalWidth__22mhB",framedImage:"styles-module__framedImage__-4l6t",Checkboxes:"styles-module__Checkboxes__2oyZv",Tendency:"styles-module__Tendency__2Y46X",Significant:"styles-module__Significant__34YnP"}},907:function(e,t,n){"use strict";var r=n(0),o=n(1),a=n.n(o),i=n(9),l=n(2),s=n(120),c=n(8);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=p(t).call(this,e))||"object"!==m(o)&&"function"!=typeof o?d(r):o,Object.defineProperty(d(n),"_selectedProfileOption",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(d(n),"_selectedGenericAssayEntityIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(d(n),"_genericAssaySearchText",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object(l.makeObservable)(d(n)),n.props.initialGenericAssayEntityIds&&(n._selectedGenericAssayEntityIds=n.props.initialGenericAssayEntityIds),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r["Component"]),n=t,(o=[{key:"onSubmit",value:function(){var e=this;if(void 0!==this.selectedProfileOption){if(this.props.onChartSubmit){var t=this.selectedProfileOption,n=this._selectedGenericAssayEntityIds.map(function(n){return{name:n+": "+t.profileName,description:t.description,profileType:t.value,genericAssayType:e.props.genericAssayType,dataType:t.dataType,genericAssayEntityId:n,patientLevel:t.patientLevel}});this.props.onChartSubmit(n),this.clearSelectedEntities()}if(this.props.onTrackSubmit){var r=this.selectedProfileOption;this.props.onSelectGenericAssayProfile&&this.props.onSelectGenericAssayProfile(r.value);var o=this._selectedGenericAssayEntityIds.map(function(t){return{profileId:r.value,genericAssayType:e.props.genericAssayType,genericAssayEntityId:t}});this.props.onTrackSubmit(o)}}}},{key:"clearSelectedEntities",value:function(){this._selectedGenericAssayEntityIds=[]}},{key:"handleProfileSelect",value:function(e){e&&e.value&&(this._selectedProfileOption=e)}},{key:"onSelectGenericAssayEntities",value:function(e,t){var n=e||[];"select-option"===t.action&&"select_all_filtered_options"===t.option.value&&(n=a.a.union(this.filteredGenericAssayOptions,n));var r=n.map(function(e){return e.value});r=r.filter(function(e){return"select_all_filtered_options"!==e}),this._selectedGenericAssayEntityIds=r,this._genericAssaySearchText=""}},{key:"doesOptionMatchSearchText",value:function(e,t){var n=!1;return(!e||new RegExp(e,"i").test(t.label)||new RegExp(e,"i").test(t.value))&&(n=!0),n}},{key:"filterGenericAssayOption",value:function(e,t){return"select_all_filtered_options"===e.value||this.doesOptionMatchSearchText(t,e)&&!this._selectedGenericAssayEntityIds.includes(e.value)}},{key:"onGenericAssayInputChange",value:function(e,t){"input-change"===t.action?this._genericAssaySearchText=e:"set-value"!==t.action&&(this._genericAssaySearchText="")}},{key:"render",value:function(){return r.createElement("div",{"data-test":"GenericAssaySelection",style:{width:this.props.containerWidth?this.props.containerWidth-20:"auto"}},r.createElement("div",{"data-test":"GenericAssayEntitySelection"},r.createElement(s.default,{name:"generic-assay-select",placeholder:"Search for ".concat(Object(c.n)(this.props.genericAssayType,!0),"..."),closeMenuOnSelect:!1,value:this.selectedGenericAssaysJS,isMulti:!0,isClearable:!1,options:this.genericAssayOptions,filterOption:this.filterGenericAssayOption,onInputChange:this.onGenericAssayInputChange,onChange:this.onSelectGenericAssayEntities,styles:{multiValueLabel:function(e){return Object.assign(Object.assign({},e),{whiteSpace:"normal"})}}})),r.createElement("div",{style:{display:"flex",marginTop:10}},r.createElement("div",{"data-test":"GenericAssayProfileSelection",style:{flex:1,marginRight:15}},r.createElement(s.default,{value:this.selectedProfileOption,onChange:this.handleProfileSelect,options:this.props.molecularProfileOptions,isClearable:!1,isSearchable:!1})),r.createElement("button",{disabled:this.buttonDisabled,className:"btn btn-primary btn-sm","data-test":"GenericAssaySelectionSubmitButton",onClick:this.onSubmit},this.props.submitButtonText)))}},{key:"selectedProfileOption",get:function(){return void 0!==this._selectedProfileOption?this._selectedProfileOption:this.props.molecularProfileOptions?this.props.molecularProfileOptions[0]:void 0}},{key:"buttonDisabled",get:function(){return!this.props.allowEmptySubmission&&a.a.isEmpty(this._selectedGenericAssayEntityIds)}},{key:"genericAssayEntitiesOptionsByValueMap",get:function(){return a.a.keyBy(this.props.genericAssayEntityOptions,function(e){return e.value})}},{key:"selectedGenericAssayEntities",get:function(){var e=this;return a.a.intersection(this._selectedGenericAssayEntityIds,a.a.keys(this.genericAssayEntitiesOptionsByValueMap)).map(function(t){return e.genericAssayEntitiesOptionsByValueMap[t]})}},{key:"selectedGenericAssaysJS",get:function(){return Object(l.toJS)(this.selectedGenericAssayEntities)}},{key:"genericAssayOptions",get:function(){var e=this,t=this.props.genericAssayEntityOptions,n=this.props.genericAssayEntityOptions.filter(function(t){return e.doesOptionMatchSearchText(e._genericAssaySearchText,t)&&!e._selectedGenericAssayEntityIds.includes(t.value)}).length;return this._genericAssaySearchText.length>0&&n>0&&(t=a.a.concat({id:"select_all_filtered_options",value:"select_all_filtered_options",label:"Select all filtered options (".concat(n,")")},t)),t}},{key:"filteredGenericAssayOptions",get:function(){var e=this;return a.a.filter(this.genericAssayOptions,function(t){return"select_all_filtered_options"!==t.value&&e.doesOptionMatchSearchText(e._genericAssaySearchText,t)})}},{key:"isSelectedGenericAssayOptionsOverLimit",get:function(){return this._selectedGenericAssayEntityIds.length>100}}])&&u(n.prototype,o),i&&u(n,i),t}();Object.defineProperty(C,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{allowEmptySubmission:!1}}),h([l.observable],C.prototype,"_selectedProfileOption",void 0),h([l.observable.ref],C.prototype,"_selectedGenericAssayEntityIds",void 0),h([l.observable],C.prototype,"_genericAssaySearchText",void 0),h([l.action.bound],C.prototype,"onSubmit",null),h([l.action.bound],C.prototype,"clearSelectedEntities",null),h([l.action.bound],C.prototype,"handleProfileSelect",null),h([l.computed],C.prototype,"selectedProfileOption",null),h([l.computed],C.prototype,"buttonDisabled",null),h([l.computed],C.prototype,"genericAssayEntitiesOptionsByValueMap",null),h([l.action.bound],C.prototype,"onSelectGenericAssayEntities",null),h([l.computed],C.prototype,"selectedGenericAssayEntities",null),h([l.computed],C.prototype,"selectedGenericAssaysJS",null),h([l.computed],C.prototype,"genericAssayOptions",null),h([l.computed],C.prototype,"filteredGenericAssayOptions",null),h([l.action.bound],C.prototype,"filterGenericAssayOption",null),h([l.action.bound],C.prototype,"onGenericAssayInputChange",null),h([l.computed],C.prototype,"isSelectedGenericAssayOptionsOverLimit",null),C=h([i.observer],C),t.a=C},908:function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return T}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return S});var r,o,a=n(1),i=n.n(a),l=n(39),s=n(10),c=n(3);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,d,f="N/A",m=/^((?:[^\(\)])+)(?:\(([^\(\)]+)\))?$/,h=/^(?:[^\/]+\/)+[^\/]+$/;!function(e){e.NUMBER="number",e.LOG_NUMBER="lognumber",e.STRING="string",e.COUNTS="counts"}(p||(p={})),function(e){e.HEATMAP_01="heatmap01",e.HEATMAP_ZSCORE="heatmapZscores",e.HEATMAP="heatmap"}(d||(d={}));u(r={},p.NUMBER,!0),u(r,p.LOG_NUMBER,!0),u(r,p.STRING,!0),u(r,p.COUNTS,!0),u(o={},d.HEATMAP_01,!0),u(o,d.HEATMAP_ZSCORE,!0),u(o,d.HEATMAP,!0);function C(e){switch(e){case d.HEATMAP_01:return s.a.METHYLATION;case d.HEATMAP_ZSCORE:return s.a.MRNA_EXPRESSION;case d.HEATMAP:return s.a.GENERIC_ASSAY}}function b(e){return y(e,"clinical")}function T(e){return y(e,"heatmap")}function y(e,t){var n=e.trim().split("\n").map(function(e){return e.trim().split(/\s+/)});if(0===n.length)return{parseSuccess:!0,result:{headers:[],data:[]},error:void 0};try{var r=n.shift(),o="clinical"===t?function(e){e.shift();var t="Clinical data input error in line 1 (header): ",n=[],r={},o=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value,u=c.match(m);if(!u)throw new Error("".concat(t,"misformatted clinical track name ").concat(c));var d=u[2]||p.STRING,f=void 0;switch(d){case p.NUMBER:case p.LOG_NUMBER:case p.STRING:break;default:if(!h.test(d))throw new Error("".concat(t,"invalid clinical track data type ").concat(d));f=d.split("/"),d=p.COUNTS}var C=u[1];if(C in r)throw new Error("".concat(t,"duplicate clinical track name ").concat(C));n.push({trackName:C,datatype:d,countsCategories:f}),r[C]=!0}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return n}(r):function(e){e.shift();var t="Heatmap data input error in line 1 (header): ",n=[],r={},o=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value,u=c.match(m);if(!u)throw new Error("".concat(t,"misformatted heatmap track name ").concat(c));var p=u[2]||d.HEATMAP;switch(p){case d.HEATMAP_01:case d.HEATMAP_ZSCORE:case d.HEATMAP:break;default:throw new Error("".concat(t,"invalid heatmap track data type ").concat(p))}var f=u[1];if(f in r)throw new Error("".concat(t,"duplicate heatmap track name ").concat(f));n.push({trackName:f,datatype:p}),r[f]=!0}}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return n}(r),a=n.map(function(e,n){var r="".concat(Object(c.bb)(t)," data input error on line ").concat(n+2,": \n").concat(e.join("\t"),"\n\n");if(e.length===o.length+1)return{sampleId:e[0],orderedValues:e.slice(1)};throw new Error("".concat(r,"data lines must have ").concat(o.length+1," columns, the same number as in the header."))});return{parseSuccess:!0,result:{headers:o,data:a.filter(function(e){return!!e})},error:void 0}}catch(e){return{parseSuccess:!1,result:void 0,error:e.message}}}function A(e,t,n,r){var o="Heatmap data input error on line ".concat(r+2,": \n\n"),a=null;if(e!==f&&(a=parseFloat(e)),null!==a&&isNaN(a))throw new Error("".concat(o," input ").concat(e," is not valid for heatmap track ").concat(n.trackName));return{sample:t.sampleId,profile_data:a,uid:t.sampleId,na:null===a}}function v(e,t,n,r){var o,a,i="Clinical data input error on line ".concat(r+2,": \n\n");if(e===f)return{sample:t.sampleId,attr_id:n.trackName,attr_val_counts:{},attr_val:"",uid:t.sampleId,na:!0};switch(n.datatype){case p.STRING:o=u({},e,1),a=e;break;case p.NUMBER:case p.LOG_NUMBER:var l=parseFloat(e);if(isNaN(l))throw new Error("".concat(i," input ").concat(e," is not valid for numerical track ").concat(n.trackName));o=u({},l,1),a=l;break;case p.COUNTS:var s=e.split("/").map(parseFloat);if(s.length!==n.countsCategories.length)throw new Error("".concat(i," input ").concat(e," is not valid - must have ").concat(n.countsCategories.length," values to match with header, but only has ").concat(s.length));a=o=n.countsCategories.reduce(function(e,t,n){return e[t]=s[n],e},{})}return{sample:t.sampleId,attr_id:n.trackName,attr_val_counts:o,attr_val:a,uid:t.sampleId,na:e===f}}function E(e,t,n){var r=function(e,t){var n=i.a.mapValues(i.a.keyBy(e,function(e){return e.trackName}),function(){return[]});return t.forEach(function(t,r){for(var o=0;o<e.length;o++){var a=t.orderedValues[o];n[e[o].trackName].push(v(a,t,e[o],r))}}),n}(e,t),o=i.a.keyBy(n||[]);r=i.a.mapValues(r,function(e){return e.filter(function(e){return!(e.sample in o)})});var a=[];return e.map(function(e){var t,n,o,i,s=r[e.trackName];switch(e.datatype){case p.STRING:t="string";break;case p.NUMBER:case p.LOG_NUMBER:t="number",n=function(e){var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;isNaN(s.attr_val)||(t=Math.min(t,s.attr_val),n=Math.max(n,s.attr_val))}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return[t,n]}(s);break;case p.COUNTS:t="counts","mutation_spectrum"===e.trackName.toLowerCase()&&e.countsCategories.length===l.b.length&&(o=l.b)}a.push({key:(i=e.trackName,"clinicalTrack_".concat(i)),attributeId:e.trackName,label:e.trackName,data:s,datatype:t,description:"",numberRange:n,numberLogScale:e.datatype===p.LOG_NUMBER||void 0,countsCategoryLabels:e.countsCategories,countsCategoryFills:o})}),a}function S(e,t,n){var r=function(e,t){var n=i.a.mapValues(i.a.keyBy(e,function(e){return e.trackName}),function(){return[]});return t.forEach(function(t,r){for(var o=0;o<e.length;o++){var a=t.orderedValues[o];n[e[o].trackName].push(A(a,t,e[o],r))}}),n}(e,t),o=i.a.keyBy(n||[]);r=i.a.mapValues(r,function(e){return e.filter(function(e){return!(e.sample in o)})});var a=[];return e.map(function(e){var t,n=r[e.trackName];a.push({key:(t=e.trackName,"heatmapTrack_".concat(t)),label:e.trackName,legendLabel:g(e),tooltipValueLabel:"Value",molecularProfileId:"input",molecularAlterationType:C(e.datatype),datatype:"",data:n.map(function(e){return Object.assign(e,{study_id:"",patient:""})}),trackGroupIndex:2,hasColumnSpacing:!1})}),a}function g(e){switch(e.datatype){case d.HEATMAP_01:return"Heatmap (0-1)";case d.HEATMAP_ZSCORE:return"Heatmap (z-scores)";case d.HEATMAP:default:return"Heatmap"}}},946:function(e,t,n){"use strict";t.__esModule=!0,t.RootCloseWrapper=t.Transition=t.Position=t.Portal=t.Overlay=t.Modal=t.AutoAffix=t.Affix=void 0;var r=p(n(891)),o=p(n(1007)),a=p(n(1010)),i=p(n(1011)),l=p(n(357)),s=p(n(1012)),c=p(n(1013)),u=p(n(1014));function p(e){return e&&e.__esModule?e:{default:e}}t.Affix=r.default,t.AutoAffix=o.default,t.Modal=a.default,t.Overlay=i.default,t.Portal=l.default,t.Position=s.default,t.Transition=c.default,t.RootCloseWrapper=u.default},949:function(e,t,n){e.exports=n(35)(365)},950:function(e,t,n){e.exports=n(35)(168)},951:function(e,t,n){e.exports=n(35)(149)},952:function(e,t,n){e.exports=n(35)(327)},953:function(e,t,n){e.exports=n(35)(749)},954:function(e,t,n){e.exports=n(35)(167)},955:function(e,t,n){e.exports=n(35)(748)},956:function(e,t,n){e.exports=n(35)(358)},957:function(e,t,n){"use strict";var r=n(0),o=n(9),a=n(848),i=n(12),l=n(3);n(88);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,m=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};!function(e){e.distinguishDrivers="0",e.annotateOncoKb="1",e.annotateHotspots="2",e.annotateCBioPortal="3",e.annotateCOSMIC="4",e.customDriverBinaryAnnotation="5"}(f||(f={}));var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var o,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),o=t,(i=[{key:"onInputClick",value:function(e){switch(e.target.value){case f.distinguishDrivers:this.props.handlers.onSelectDistinguishDrivers(!this.props.state.distinguishDrivers);break;case f.annotateOncoKb:this.props.handlers.onSelectAnnotateOncoKb(!this.props.state.annotateDriversOncoKb);break;case f.annotateHotspots:this.props.handlers.onSelectAnnotateHotspots&&this.props.handlers.onSelectAnnotateHotspots(!this.props.state.annotateDriversHotspots);break;case f.annotateCBioPortal:this.props.handlers.onSelectAnnotateCBioPortal(!this.props.state.annotateDriversCBioPortal);break;case f.annotateCOSMIC:this.props.handlers.onSelectAnnotateCOSMIC&&this.props.handlers.onSelectAnnotateCOSMIC(!this.props.state.annotateDriversCOSMIC);break;case f.customDriverBinaryAnnotation:this.props.handlers.onSelectCustomDriverAnnotationBinary&&this.props.handlers.onSelectCustomDriverAnnotationBinary(!this.props.state.annotateCustomDriverBinary)}}},{key:"onCustomDriverTierCheckboxClick",value:function(e){this.props.handlers.onSelectCustomDriverAnnotationTier&&this.props.handlers.onSelectCustomDriverAnnotationTier(e.target.value,!(this.props.state.selectedCustomDriverAnnotationTiers&&this.props.state.selectedCustomDriverAnnotationTiers.get(e.target.value)))}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{"data-test":"ColorByDriver",type:"checkbox",value:f.distinguishDrivers,checked:this.props.state.distinguishDrivers,onClick:this.onInputClick}),"Putative drivers vs VUS:")),r.createElement("div",{style:{marginLeft:"20px"}},this.props.resultsView&&r.createElement("span",null,!this.props.state.annotateDriversOncoKbDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateOncoKb,checked:this.props.state.annotateDriversOncoKb,onClick:this.onInputClick,"data-test":"annotateOncoKb",disabled:this.props.state.annotateDriversOncoKbError}),this.props.state.annotateDriversOncoKbError&&r.createElement(a.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading OncoKb data. Please refresh the page or try again later.")}),r.createElement(l.i,{overlay:r.createElement("span",null,"Oncogenicity from OncoKB"),placement:"top"},r.createElement("img",{src:n(1046),style:{maxHeight:"12px",cursor:"pointer",marginRight:"5px"}})),"driver annotation")),this.props.handlers.onSelectAnnotateHotspots&&!this.props.state.annotateDriversHotspotsDisabled&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateHotspots,checked:this.props.state.annotateDriversHotspots,onClick:this.onInputClick,"data-test":"annotateHotspots",disabled:this.props.state.annotateDriversHotspotsError}),this.props.state.annotateDriversHotspotsError&&r.createElement(a.a,{style:{marginRight:4},tooltip:r.createElement("span",null,"Error loading Hotspots data. Please refresh the page or try again later.")}),"Hotspots",r.createElement(l.i,{overlay:r.createElement("div",{style:{maxWidth:"400px"}},"Identified as a recurrent hotspot (statistically significant) in a population-scale cohort of tumor samples of various cancer types using methodology based in part on"," ",r.createElement("a",{href:Object(l.hb)("/pubmed/26619011"),target:"_blank"},"Chang et al., Nat Biotechnol, 2016."),"Explore all mutations at"," ",r.createElement("a",{href:"https://www.cancerhotspots.org",target:"_blank"},"https://cancerhotspots.org")),placement:"top"},r.createElement("img",{src:n(271),style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}})))),this.props.handlers.onChangeAnnotateCBioPortalInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateCBioPortal,checked:this.props.state.annotateDriversCBioPortal,onClick:this.onInputClick,"data-test":"annotateCBioPortalCount"}),"cBioPortal ",">","="),r.createElement(l.l,{value:this.props.state.annotateCBioPortalInputValue||"",setValue:this.props.handlers.onChangeAnnotateCBioPortalInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10})),this.props.handlers.onChangeAnnotateCOSMICInputValue&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:f.annotateCOSMIC,checked:this.props.state.annotateDriversCOSMIC,onClick:this.onInputClick,"data-test":"annotateCOSMICCount"}),"COSMIC ",">","="),r.createElement(l.l,{value:this.props.state.annotateCOSMICInputValue||"",setValue:this.props.handlers.onChangeAnnotateCOSMICInputValue,numericOnly:!0,textFieldAppearance:!0,maxChars:10}))),!!this.props.state.customDriverAnnotationBinaryMenuLabel&&r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.props.state.annotateCustomDriverBinary,value:f.customDriverBinaryAnnotation,onClick:this.onInputClick,"data-test":"annotateCustomBinary"})," ",this.props.state.customDriverAnnotationBinaryMenuLabel,r.createElement("img",{src:n(887),alt:"driver filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}))),!!this.props.state.customDriverAnnotationTiersMenuLabel&&r.createElement("span",{"data-test":"annotateCustomTiers"},r.createElement("span",{className:"caret"}),"  ",r.createElement("span",null,this.props.state.customDriverAnnotationTiersMenuLabel)," ",r.createElement("img",{src:n(888),alt:"driver tiers filter",style:{height:"15px",width:"15px",cursor:"pointer",marginLeft:"5px"}}),r.createElement("div",{style:{marginLeft:"30px"}},(this.props.state.customDriverAnnotationTiers||[]).map(function(t){return r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",value:t,checked:!(!e.props.state.selectedCustomDriverAnnotationTiers||!e.props.state.selectedCustomDriverAnnotationTiers.get(t)),onClick:e.onCustomDriverTierCheckboxClick})," ",t))})))))}}])&&s(o.prototype,i),d&&s(o,d),t}();m([i.default],h.prototype,"onInputClick",null),m([i.default],h.prototype,"onCustomDriverTierCheckboxClick",null),h=m([o.observer],h),t.a=h},958:function(e,t,n){"use strict";n.d(t,"l",function(){return A}),n.d(t,"j",function(){return v}),n.d(t,"i",function(){return E}),n.d(t,"d",function(){return S}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return G}),n.d(t,"k",function(){return P}),n.d(t,"h",function(){return I}),n.d(t,"e",function(){return k}),n.d(t,"f",function(){return N}),n.d(t,"g",function(){return _}),n.d(t,"a",function(){return R}),n.d(t,"m",function(){return M});var r=n(2),o=n(7),a=n(1),i=n.n(a),l=n(336),s=n(10),c=n(64),u=n(58),p=n(6),d=n(21),f=n(77),m=n(249),h=n(244),C=n(14),b=n(42),T=n(83),y=function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}s((r=r.apply(e,t||[])).next())})};function A(e){return e.hasOwnProperty("alteration")}function v(e){var t,n,a;return e.existCustomDrivers?(t=!1,n=!1,a=!0):(t=!0,n=!1,a=!1),Object(r.observable)({cbioportalCountThreshold:0,_oncoKb:t,_cbioportalCount:n,_customBinary:a,_includeVUS:!0,hotspots:!1,get customBinary(){return this._customBinary},set customBinary(t){this._customBinary=t,e.customDriverWarningHidden=!0},get cbioportalCount(){return this._cbioportalCount},set cbioportalCount(t){this._cbioportalCount=t,e.customDriverWarningHidden=!0},set oncoKb(t){this._oncoKb=t,e.customDriverWarningHidden=!0},get oncoKb(){return!(!o.b.serverConfig.show_oncokb||!this._oncoKb||e.didOncoKbFail)},set includeVUS(e){this._includeVUS=e},get includeVUS(){return this._includeVUS||!this.driversAnnotated},get driversAnnotated(){return this.oncoKb||this.cbioportalCount||this.hotspots||e.existCustomDrivers&&this.customBinary}})}function E(e){return i.a.chain(e).map(function(e){return e.sampleId}).uniq().value()}function S(e){return i.a.chain(e).filter(function(e){return A(e)}).map(function(e){return e.hugoGeneSymbol}).uniq().value()}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a;return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof Error)){r.next=2;break}return r.abrupt("return",new Error);case 2:if(0!==(o=i.a.chain(t).filter(function(t){return!!e[t.entrezGeneId]}).filter(function(e){return void 0!==e.proteinPosStart&&void 0!==e.proteinPosEnd}).value()).length){r.next=5;break}return r.abrupt("return",d.c);case 5:return r.abrupt("return",Object(d.yb)(o.map(function(e){return{entrezGeneId:e.entrezGeneId,alteration:e.proteinChange,proteinPosStart:e.proteinPosStart,proteinPosEnd:e.proteinPosEnd,mutationType:e.mutationType,tumorType:null}}),n,[p.d.ONCOGENIC]));case 6:case"end":return r.stop()}},r)}))}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a;return y(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof Error)){r.next=2;break}return r.abrupt("return",new Error);case 2:if(0!==(o=i.a.chain(t).filter(function(t){return!!e[t.entrezGeneId]}).filter(function(e){return e.molecularProfileAlterationType===s.a.COPY_NUMBER_ALTERATION}).value()).length){r.next=5;break}return r.abrupt("return",d.c);case 5:return a=i.a.chain(o).map(function(e){return Object(p.I)(e.entrezGeneId,null,Object(h.a)(e.value),[p.d.ONCOGENIC])}).uniqBy("id").value(),r.abrupt("return",Object(d.xb)(a,n));case 7:case"end":return r.stop()}},r)}))}function O(e,t){var n={driverTiersFilter:"",driverTiersFilterAnnotation:"",oncoKbOncogenic:"",isHotspot:!1,putativeDriver:!1,hugoGeneSymbol:e.hugoGeneSymbol,proteinChange:e.proteinChange,mutationStatus:e.isGermline?T.c:"",driverFilter:e.isCustomDriver?d.e:"",driverFilterAnnotation:e.isCustomDriver?"You indicated that this mutation is a driver.":"",molecularProfileAlterationType:void 0,alterationSubType:"",value:void 0,mutationType:"",entrezGeneId:0,proteinPosStart:void 0,proteinPosEnd:void 0},r=t[e.hugoGeneSymbol];if(r&&(n.entrezGeneId=r.entrezGeneId),n.proteinChange){var o=Object(p.Y)(n.proteinChange);o&&(n.proteinPosStart=o.start,n.proteinPosEnd=o.end)}switch(e.alteration){case u.a.MISSENSE:n=Object.assign(n,{molecularProfileAlterationType:s.a.MUTATION_EXTENDED,alterationSubType:"missense",mutationType:"missense_mutation"});break;case u.a.INFRAME:n=Object.assign(n,{molecularProfileAlterationType:s.a.MUTATION_EXTENDED,alterationSubType:"inframe",mutationType:"indel"});break;case u.a.STRUCTURAL_VARIANT:n=Object.assign(n,{molecularProfileAlterationType:s.a.STRUCTURAL_VARIANT,mutationType:"structuralVariant"});break;case u.a.PROMOTER:n=Object.assign(n,{molecularProfileAlterationType:s.a.MUTATION_EXTENDED,proteinChange:"promoter"});break;case u.a.SPLICE:n=Object.assign(n,{molecularProfileAlterationType:s.a.MUTATION_EXTENDED,alterationSubType:"splice",mutationType:"splice"});break;case u.a.TRUNC:n=Object.assign(n,{molecularProfileAlterationType:s.a.MUTATION_EXTENDED,alterationSubType:"nonsense",mutationType:"nonsense"});break;case u.a.OTHER:n=Object.assign(n,{molecularProfileAlterationType:s.a.MUTATION_EXTENDED,alterationSubType:"other"});break;case"amp":n=Object.assign(n,{molecularProfileAlterationType:s.a.COPY_NUMBER_ALTERATION,alterationSubType:c.a[2],value:2});break;case"homdel":n=Object.assign(n,{molecularProfileAlterationType:s.a.COPY_NUMBER_ALTERATION,alterationSubType:c.a[-2],value:-2});break;case"gain":n=Object.assign(n,{molecularProfileAlterationType:s.a.COPY_NUMBER_ALTERATION,alterationSubType:c.a[1],value:1});break;case"hetloss":n=Object.assign(n,{molecularProfileAlterationType:s.a.COPY_NUMBER_ALTERATION,alterationSubType:c.a[-1],value:-1});break;case"mrnaHigh":n=Object.assign(n,{molecularProfileAlterationType:s.a.MRNA_EXPRESSION,alterationSubType:"high"});break;case"mrnaLow":n=Object.assign(n,{molecularProfileAlterationType:s.a.MRNA_EXPRESSION,alterationSubType:"low"});break;case"protHigh":n=Object.assign(n,{molecularProfileAlterationType:s.a.PROTEIN_LEVEL,alterationSubType:"high"});break;case"protLow":n=Object.assign(n,{molecularProfileAlterationType:s.a.PROTEIN_LEVEL,alterationSubType:"low"})}return n}function P(e){return e.disp_mut||e.disp_cna||e.disp_mrna||e.disp_prot||e.disp_structuralVariant}function w(e){var t=i.a.chain(e).filter(P).size().value();return Object(l.o)(t,e.length)}function I(e,t,n){var r={},o=e.filter(function(e){return A(e)}),a=!0,l=!1,s=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var p=c.value,d=p.trackName||p.hugoGeneSymbol;d in r||(r[d]={});var f=r[d];p.sampleId in f||(f[p.sampleId]=[]);var m=O(p,t);n&&C.c.test(m.mutationStatus)||f[p.sampleId].push(m)}}catch(e){l=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(l)throw s}}var h=!0,b=!1,T=void 0;try{for(var y,v=function(){var e=y.value;i.a.forEach(r,function(t,n){e.sampleId in t||(t[e.sampleId]=[])})},E=e[Symbol.iterator]();!(h=(y=E.next()).done);h=!0)v()}catch(e){b=!0,T=e}finally{try{h||null==E.return||E.return()}finally{if(b)throw T}}return i.a.mapValues(r,function(e){return i.a.chain(e).map(function(e,t){return{sampleId:t,data:e}}).value()})}function k(e){return i.a.mapValues(e,function(e,t){return e.map(function(e){return Object(u.b)({sample:e.sampleId,patient:e.sampleId,study_id:"",uid:e.sampleId},t,e.data)})})}function N(e){return"geneticTrack_".concat(e)}function _(e,t,n){var r=i.a.keyBy(n||[]);e=i.a.mapValues(e,function(e){return e.filter(function(e){return!(e.sample in r)})});var o=i.a.mapValues(e,w);return(t?t.filter(function(t){return t in e}):Object.keys(e)).map(function(t){return{key:N(t),label:t,info:o[t],data:e[t]}})}function R(e,t,n,r){var o=function(e){return""};if(t.oncoKbCna.isComplete&&!(t.oncoKbCna.result instanceof Error)){var a=t.oncoKbCna.result.indicatorMap;o=function(e){var t=Object(p.N)(e.entrezGeneId,null,Object(h.a)(e.value)),n=a[t];return n?Object(d.cb)(n):""}}var l=function(e){return""};if(t.oncoKb&&t.oncoKb.isComplete&&!(t.oncoKb.result instanceof Error)){var c=t.oncoKb.result.indicatorMap;l=function(e){var t=Object(p.N)(e.entrezGeneId,null,e.proteinChange,e.mutationType),n=c[t];return n?Object(d.cb)(n):""}}var u=function(e){return!1};if(t.cbioportalCount&&t.cbioportalCount.isComplete){var f=t.cbioportalCount.result,C=n.cbioportalCountThreshold;u=function(e){if(e.molecularProfileAlterationType===s.a.MUTATION_EXTENDED){var t=Object(m.b)(e),n=f[t];return C<=n}return!1}}return i.a.mapValues(e,function(e,t){return e.map(function(e){var t=i.a.clone(e);return t.data=t.data.filter(function(e){switch(delete e.oncoKbOncogenic,delete e.putativeDriver,e.molecularProfileAlterationType){case s.a.COPY_NUMBER_ALTERATION:e.oncoKbOncogenic=o(e);break;case s.a.MUTATION_EXTENDED:e.oncoKbOncogenic=l(e)}return e.molecularProfileAlterationType===s.a.MUTATION_EXTENDED?(e.putativeDriver=!!(e.oncoKbOncogenic||n.useHotspots&&e.isHotspot||u(e)||n.useCustomBinary&&e.driverFilter===d.e),!r||e.putativeDriver):e.molecularProfileAlterationType!==s.a.STRUCTURAL_VARIANT||!r}),t},[])})}function M(e){var t=e.trim().split("\n").map(function(e){return e.trim().split(/\s+/)});try{return{parseSuccess:!0,result:t.map(function(e,n){if(0===n&&i.a.isEqual(t[0].map(function(e){return e.toLowerCase()}).slice(0,4),["sample","gene","alteration","type"]))return null;var r="Genetic data input error on line ".concat(n+1,": \n").concat(e.join("\t"),"\n\n");if(1===e.length)return{sampleId:e[0]};if(4===e.length||5===e.length){var o=e[0],a=e[1],l=e[2],s=l.toLowerCase(),c=e[3],u=c.toLowerCase(),p={sampleId:o,hugoGeneSymbol:a,trackName:5===e.length?e[4]:void 0};switch(u){case"cna":if(-1===["amp","gain","hetloss","homdel"].indexOf(s))throw new Error("".concat(r,'Alteration "').concat(l,'" is not valid - it must be "AMP", "GAIN" ,"HETLOSS", or "HOMDEL" since Type is "CNA"'));p.alteration=s;break;case"exp":if("high"===s)p.alteration="mrnaHigh";else{if("low"!==s)throw new Error("".concat(r,'Alteration "').concat(l,'" is not valid - it must be "HIGH" or "LOW" if Type is "EXP"'));p.alteration="mrnaLow"}break;case"prot":if("high"===s)p.alteration="protHigh";else{if("low"!==s)throw new Error("".concat(r,'Alteration "').concat(l,'" is not valid - it must be "HIGH" or "LOW" if Type is "PROT"'));p.alteration="protLow"}break;case"fusion":if("fusion"!==u)throw new Error("".concat(r,'Type "').concat(c,'" is not valid - it must be "FUSION" if Alteration is "FUSION"'));p.alteration="structuralVariant",p.proteinChange=l;break;default:var d;try{d=Object(b.g)("GENE: ".concat(u))[0].alterations[0]}catch(e){throw new Error("".concat(r,"Mutation type ").concat(c," is not valid."))}var f=!0,m=!1,h=void 0;try{for(var C,T=d.modifiers[Symbol.iterator]();!(f=(C=T.next()).done);f=!0){switch(C.value.type){case"GERMLINE":p.isGermline=!0;break;case"DRIVER":p.isCustomDriver=!0;break;default:throw new Error("".concat(r,"Only allowed mutation modifiers are GERMLINE and DRIVER"))}}}catch(e){m=!0,h=e}finally{try{f||null==T.return||T.return()}finally{if(m)throw h}}var y=d.constr_val.toLowerCase();if(-1===["missense","inframe","promoter","trunc","splice","other"].indexOf(y))throw new Error("".concat(r,'Type "').concat(c,'" is not valid - it must be "MISSENSE", "INFRAME", "TRUNC", "SPLICE", "PROMOTER", or "OTHER" for a mutation alteration.'));p.alteration=y,p.proteinChange=l}return p}throw new Error("".concat(r,"input lines must have either 1 or 4 columns."))}).filter(function(e){return!!e}),error:void 0}}catch(e){return{parseSuccess:!1,result:void 0,error:e.message}}}}}]);